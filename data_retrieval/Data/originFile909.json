{"items":[{"tags":["java","mysql","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1667576870,"post_id":74319603,"comment_id":131206555,"body_markdown":"Please read: [Why not upload images of code/errors when asking a question?](https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question)","body":"Please read: <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question\">Why not upload images of code/errors when asking a question?</a>"}],"answers":[{"tags":[],"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667593304,"creation_date":1667593304,"answer_id":74322578,"question_id":74319603,"body_markdown":"You need to make `CaldHolderInfo` an Embeddable.\r\n\r\nSee [JPA @Embedded And @Embeddable](https://www.baeldung.com/jpa-embedded-embeddable)\r\n\r\nAnd please, no images of code on this site.","title":"Store java object which contains another object on a single table with JPA","body":"<p>You need to make <code>CaldHolderInfo</code> an Embeddable.</p>\n<p>See <a href=\"https://www.baeldung.com/jpa-embedded-embeddable\" rel=\"nofollow noreferrer\">JPA @Embedded And @Embeddable</a></p>\n<p>And please, no images of code on this site.</p>\n"}],"owner":{"account_id":25344107,"reputation":13,"user_id":19162084,"display_name":"Icy B"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74322578,"answer_count":1,"score":0,"last_activity_date":1667593304,"creation_date":1667576795,"question_id":74319603,"body_markdown":"I&#39;m doing an exercise with Springboot that basically consists of a simple application with a Rest Controller who has to store an object received from POST request to a mysql db using JPA/Hibernate.\r\nMy problem is the following one:\r\n\r\nthe table has this structure:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/08rdw.png)](https://i.stack.imgur.com/08rdw.png)\r\n\r\nAnd I have this pojo which has to map the table as an object:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/hnZOS.png)](https://i.stack.imgur.com/hnZOS.png)\r\n\r\nIf you pay attention, the table has a column named &quot;CARD_HOLDER_FULL_NAME&quot;, but in the app, the card holder must be a separate object:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/OlIra.png)](https://i.stack.imgur.com/OlIra.png)\r\n\r\n\r\nso, how do I specify that the fullName attribuite in the CaldHolderInfo class represents that column in the table?\r\n\r\nI&#39;m very rusty with Springboot/JPA/hibernate so I don&#39;t know how to proceed","title":"Store java object which contains another object on a single table with JPA","body":"<p>I'm doing an exercise with Springboot that basically consists of a simple application with a Rest Controller who has to store an object received from POST request to a mysql db using JPA/Hibernate.\nMy problem is the following one:</p>\n<p>the table has this structure:</p>\n<p><a href=\"https://i.stack.imgur.com/08rdw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/08rdw.png\" alt=\"enter image description here\" /></a></p>\n<p>And I have this pojo which has to map the table as an object:</p>\n<p><a href=\"https://i.stack.imgur.com/hnZOS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hnZOS.png\" alt=\"enter image description here\" /></a></p>\n<p>If you pay attention, the table has a column named &quot;CARD_HOLDER_FULL_NAME&quot;, but in the app, the card holder must be a separate object:</p>\n<p><a href=\"https://i.stack.imgur.com/OlIra.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OlIra.png\" alt=\"enter image description here\" /></a></p>\n<p>so, how do I specify that the fullName attribuite in the CaldHolderInfo class represents that column in the table?</p>\n<p>I'm very rusty with Springboot/JPA/hibernate so I don't know how to proceed</p>\n"},{"tags":["java","maven","artifactory"],"comments":[{"owner":{"account_id":4172811,"reputation":5347,"user_id":4233342,"display_name":"yahavi"},"score":0,"creation_date":1645513779,"post_id":71187444,"comment_id":125884391,"body_markdown":"Still, I think I miss something - Why do you need this file locally? Would you consider downloading it from Artifactory?","body":"Still, I think I miss something - Why do you need this file locally? Would you consider downloading it from Artifactory?"}],"answers":[{"comments":[{"owner":{"account_id":2597640,"reputation":836,"user_id":2250934,"accept_rate":64,"display_name":"Hexy"},"score":0,"creation_date":1645510752,"post_id":71201204,"comment_id":125883707,"body_markdown":"I am using that plugin, but I don&#39;t see a build-info.json file on my local machine","body":"I am using that plugin, but I don&#39;t see a build-info.json file on my local machine"}],"tags":[],"owner":{"account_id":17841875,"reputation":1441,"user_id":12959590,"display_name":"Muhammed Kashif"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645417165,"creation_date":1645417165,"answer_id":71201204,"question_id":71187444,"body_markdown":"Based on the description, I believe [Artifactory Maven Plugin][1] should be helpful where you can capture the build info and push to the Artifactory, therefore, having a build-info.json for each build you do.\r\n\r\n\r\n  [1]: https://www.jfrog.com/confluence/display/JFROG/Maven+Artifactory+Plugin","title":"Is there a way to generate build-info.json locally while doing mvn deploy?","body":"<p>Based on the description, I believe <a href=\"https://www.jfrog.com/confluence/display/JFROG/Maven+Artifactory+Plugin\" rel=\"nofollow noreferrer\">Artifactory Maven Plugin</a> should be helpful where you can capture the build info and push to the Artifactory, therefore, having a build-info.json for each build you do.</p>\n"},{"comments":[{"owner":{"account_id":4172811,"reputation":5347,"user_id":4233342,"display_name":"yahavi"},"score":0,"creation_date":1645599835,"post_id":71227491,"comment_id":125911480,"body_markdown":"Also https://github.com/jfrog/build-info-go, but without knowing his use-case it is hard to tell.","body":"Also <a href=\"https://github.com/jfrog/build-info-go\" rel=\"nofollow noreferrer\">github.com/jfrog/build-info-go</a>, but without knowing his use-case it is hard to tell."}],"tags":[],"owner":{"account_id":11516186,"reputation":136,"user_id":8439478,"display_name":"Or-G"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667592375,"creation_date":1645559499,"answer_id":71227491,"question_id":71187444,"body_markdown":"You can use [JFrog CLI][1] to get the build info data.\r\n\r\nRun the following jf commands:\r\n1. `jf mvn deploy --build-name=mybuild --build-number=1`\r\n2. `jf rt bp mybuild 1 --dry-run &gt; build-info.json`\r\n\r\n\r\n  [1]: https://www.jfrog.com/confluence/display/CLI/CLI+for+JFrog+Artifactory","title":"Is there a way to generate build-info.json locally while doing mvn deploy?","body":"<p>You can use <a href=\"https://www.jfrog.com/confluence/display/CLI/CLI+for+JFrog+Artifactory\" rel=\"nofollow noreferrer\">JFrog CLI</a> to get the build info data.</p>\n<p>Run the following jf commands:</p>\n<ol>\n<li><code>jf mvn deploy --build-name=mybuild --build-number=1</code></li>\n<li><code>jf rt bp mybuild 1 --dry-run &gt; build-info.json</code></li>\n</ol>\n"}],"owner":{"account_id":2597640,"reputation":836,"user_id":2250934,"accept_rate":64,"display_name":"Hexy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":720,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667592375,"creation_date":1645291941,"question_id":71187444,"body_markdown":"I am using this plugin https://github.com/jfrog/build-info to publish build info to Artifactory\r\n\r\nI want to access the build-info.json in a folder for ex: /target folder when I run `mvn deploy` Is there a way to do that?\r\n\r\nWe have an internal observability tool that uses the build-info. We moved from Jenkins to AWS Codebuild. Jenkins had a plugin which provided this file, now I am trying to generate it _manually_\r\n\r\n","title":"Is there a way to generate build-info.json locally while doing mvn deploy?","body":"<p>I am using this plugin <a href=\"https://github.com/jfrog/build-info\" rel=\"nofollow noreferrer\">https://github.com/jfrog/build-info</a> to publish build info to Artifactory</p>\n<p>I want to access the build-info.json in a folder for ex: /target folder when I run <code>mvn deploy</code> Is there a way to do that?</p>\n<p>We have an internal observability tool that uses the build-info. We moved from Jenkins to AWS Codebuild. Jenkins had a plugin which provided this file, now I am trying to generate it <em>manually</em></p>\n"},{"tags":["java","maven","automation","client"],"comments":[{"owner":{"account_id":3758602,"reputation":10072,"user_id":3124333,"accept_rate":100,"display_name":"SiKing"},"score":0,"creation_date":1667515977,"post_id":74309209,"comment_id":131191494,"body_markdown":"Is [Manually Overriding the Built-in Repositories](https://www.jfrog.com/confluence/display/JFROG/Maven+Repository#MavenRepository-ManuallyOverridingtheBuilt-inRepositories) not working?","body":"Is <a href=\"https://www.jfrog.com/confluence/display/JFROG/Maven+Repository#MavenRepository-ManuallyOverridingtheBuilt-inRepositories\" rel=\"nofollow noreferrer\">Manually Overriding the Built-in Repositories</a> not working?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1667552569,"post_id":74309209,"comment_id":131197754,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":26822532,"reputation":1,"user_id":20411648,"display_name":"Jota Blanco"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667592329,"creation_date":1667507469,"question_id":74309209,"body_markdown":"I created a client and uploaded it to JFrog. I need to import it into my Maven project. What dependencies should I add to the pom.xml ? And how do I use the methods created within my project?\r\n\r\nI tried to use the SET ME UP option provided by JFrog, but I don&#39;t know how to configure the POM and then how to use the client.","title":"How can I use an Artifactory created in JFrog in my Maven project?","body":"<p>I created a client and uploaded it to JFrog. I need to import it into my Maven project. What dependencies should I add to the pom.xml ? And how do I use the methods created within my project?</p>\n<p>I tried to use the SET ME UP option provided by JFrog, but I don't know how to configure the POM and then how to use the client.</p>\n"},{"tags":["java","spring-mvc","routes"],"answers":[{"tags":[],"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667581002,"creation_date":1667580896,"answer_id":74320487,"question_id":74320427,"body_markdown":"On spring-boot you can use the `@RequestMapping(&quot;/MyController&quot;)` annotation at the class level.\r\n\r\n```\r\n@RequestMapping(&quot;/MyController&quot;)\r\npublic class MyController {\r\n\r\n    @GetMapping(value = &quot;/helloWord&quot;) // this will become /MyController/helloWord\r\n    public String helloWorld() {\r\n        return &quot;Hello World&quot;;\r\n    }\r\n\r\n}\r\n```","title":"Spring MVC/WebAPI equivalent of C# RoutePrefix","body":"<p>On spring-boot you can use the <code>@RequestMapping(&quot;/MyController&quot;)</code> annotation at the class level.</p>\n<pre><code>@RequestMapping(&quot;/MyController&quot;)\npublic class MyController {\n\n    @GetMapping(value = &quot;/helloWord&quot;) // this will become /MyController/helloWord\n    public String helloWorld() {\n        return &quot;Hello World&quot;;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":572450,"reputation":4381,"user_id":218548,"accept_rate":87,"display_name":"CompanyDroneFromSector7G"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74320487,"answer_count":1,"score":0,"last_activity_date":1667591866,"creation_date":1667580602,"question_id":74320427,"body_markdown":"I&#39;m used to developing in C# Web API where as well as routing attributes for individual endpoints I can also add a prefix for the controller, e,g,\r\n\r\n    [RoutePrefix(&quot;/MyController&quot;)]\r\n\r\nHowever I&#39;m developing in Java Spring Boot and although I can map individual endpoints, I can&#39;t find a way to add a prefix for all.\r\n\r\nIs this possible?\r\n\r\n","title":"Spring MVC/WebAPI equivalent of C# RoutePrefix","body":"<p>I'm used to developing in C# Web API where as well as routing attributes for individual endpoints I can also add a prefix for the controller, e,g,</p>\n<pre><code>[RoutePrefix(&quot;/MyController&quot;)]\n</code></pre>\n<p>However I'm developing in Java Spring Boot and although I can map individual endpoints, I can't find a way to add a prefix for all.</p>\n<p>Is this possible?</p>\n"},{"tags":["java","date"],"comments":[{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":0,"creation_date":1667588028,"post_id":74321503,"comment_id":131210240,"body_markdown":"If this is a migration I think you should implement a logic that is exactly equivalent to the existing one. If the existing one is faulty, make sure the new one has the same faults.","body":"If this is a migration I think you should implement a logic that is exactly equivalent to the existing one. If the existing one is faulty, make sure the new one has the same faults."},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":1,"creation_date":1667591143,"post_id":74321503,"comment_id":131211040,"body_markdown":"I would normalize both dates into `LocalDateTime` objects and compare them.","body":"I would normalize both dates into <code>LocalDateTime</code> objects and compare them."},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":2,"creation_date":1667600752,"post_id":74321503,"comment_id":131213325,"body_markdown":"I agree with @Mr.Polywhirl that you should use Date-Time API rather than String API/; otherwise, you will keep struggling with inventing new Regex expressions for even the slightest change in the formats.","body":"I agree with @Mr.Polywhirl that you should use Date-Time API rather than String API/; otherwise, you will keep struggling with inventing new Regex expressions for even the slightest change in the formats."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1667633617,"post_id":74321503,"comment_id":131216886,"body_markdown":"What does `2022-11-10:00:00.000` signify? Are you sure that your format after the date has got 2 digits, 2 digits and 3 digits?? What are they? Also are they required to be zeroes for the dates to be considered equal, or could they have other values?","body":"What does <code>2022-11-10:00:00.000</code> signify? Are you sure that your format after the date has got 2 digits, 2 digits and 3 digits?? What are they? Also are they required to be zeroes for the dates to be considered equal, or could they have other values?"}],"answers":[{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1667632697,"post_id":74322186,"comment_id":131216767,"body_markdown":"*The implementation doesn&#39;t matter.* I beg to differ. The first and most important virtue of the implementation is that it is clearly readable. The second is that it is correct it. Because: If incorrect and readable, you can correct. If correct today and unreadable, when a different requirement comes in tomorrow, you have to throw it away.","body":"<i>The implementation doesn&#39;t matter.</i> I beg to differ. The first and most important virtue of the implementation is that it is clearly readable. The second is that it is correct it. Because: If incorrect and readable, you can correct. If correct today and unreadable, when a different requirement comes in tomorrow, you have to throw it away."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1667633477,"post_id":74322186,"comment_id":131216858,"body_markdown":"@OleV.V. poor choice of words on my part. &quot;Doesn&#39;t matter&quot; meant &quot;use any approach that works&quot;. It&#39;s also flexible - you&#39;re allowed to change it without breaking the service. Code quality, such as readability, modularity, etc is of course always important, but it&#39;s orthogonal to the implementation/algorithm choice.","body":"@OleV.V. poor choice of words on my part. &quot;Doesn&#39;t matter&quot; meant &quot;use any approach that works&quot;. It&#39;s also flexible - you&#39;re allowed to change it without breaking the service. Code quality, such as readability, modularity, etc is of course always important, but it&#39;s orthogonal to the implementation/algorithm choice."}],"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1667591083,"creation_date":1667590780,"answer_id":74322186,"question_id":74321503,"body_markdown":"The implementation doesn&#39;t matter.  \r\nOnly the system tests matter.\r\n\r\nThere should be enough system tests for the legacy system that if they pass, the service is ready to deploy to production. If there aren&#39;t enough, write more until that is true. \r\n\r\nSystem tests are implementation independent and completely portable. Pick the simplest implementation you can think of. If the system tests pass for your new system, your implementation is good.\r\n\r\nUnit tests *are* implementation dependent and should be written too. Quality ensured, with unit and system tests passing and you&#39;re good to deploy.\r\n\r\nAs for a suggestion for an implementation, since you&#39;re dealing with strings, you could just compare them as strings.\r\n\r\nHere&#39;s a starter implementation:\r\n\r\n```java\r\npublic boolean areSame(String date1, String date2) {\r\n    return yyyymmdd(date1).equals(yyyymmdd(date2));\r\n}\r\n\r\n/* @return the first 8 digits found in str */\r\nprivate String yyyymmdd(String str) {\r\n    return str.replaceAll(&quot;\\\\D&quot;, &quot;&quot;).substring(0, 8);\r\n}\r\n```\r\n","title":"What is the correct way for comparing dates for equality?","body":"<p>The implementation doesn't matter.<br />\nOnly the system tests matter.</p>\n<p>There should be enough system tests for the legacy system that if they pass, the service is ready to deploy to production. If there aren't enough, write more until that is true.</p>\n<p>System tests are implementation independent and completely portable. Pick the simplest implementation you can think of. If the system tests pass for your new system, your implementation is good.</p>\n<p>Unit tests <em>are</em> implementation dependent and should be written too. Quality ensured, with unit and system tests passing and you're good to deploy.</p>\n<p>As for a suggestion for an implementation, since you're dealing with strings, you could just compare them as strings.</p>\n<p>Here's a starter implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean areSame(String date1, String date2) {\n    return yyyymmdd(date1).equals(yyyymmdd(date2));\n}\n\n/* @return the first 8 digits found in str */\nprivate String yyyymmdd(String str) {\n    return str.replaceAll(&quot;\\\\D&quot;, &quot;&quot;).substring(0, 8);\n}\n</code></pre>\n"}],"owner":{"account_id":10734227,"reputation":393,"user_id":7899320,"display_name":"Fernando"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74322186,"answer_count":1,"score":0,"last_activity_date":1667591083,"creation_date":1667586541,"question_id":74321503,"body_markdown":"I am currently working on the migration to microservice from a legacy API. The legacy API does date comparison for equality by using strings.\r\n\r\nExample\r\n\r\n    String date1FromDataSource1 = &quot;20221110&quot;;\r\n    String date2FromDataSource2 = &quot;2022-11-10:00:00.000&quot;;\r\n    \r\n    String data2FromDataSource2Formatted = formatDateAsPerDataSource1(date1FromDataSource2);\r\n    \r\n    Boolean areDatesEqual = data1FromDataSource1.equals(data2FromDataSource2Formatted);\r\n\r\nShould I continue pursuing this way or convert them both to ZoneDateTime and do the date compare.","title":"What is the correct way for comparing dates for equality?","body":"<p>I am currently working on the migration to microservice from a legacy API. The legacy API does date comparison for equality by using strings.</p>\n<p>Example</p>\n<pre><code>String date1FromDataSource1 = &quot;20221110&quot;;\nString date2FromDataSource2 = &quot;2022-11-10:00:00.000&quot;;\n\nString data2FromDataSource2Formatted = formatDateAsPerDataSource1(date1FromDataSource2);\n\nBoolean areDatesEqual = data1FromDataSource1.equals(data2FromDataSource2Formatted);\n</code></pre>\n<p>Should I continue pursuing this way or convert them both to ZoneDateTime and do the date compare.</p>\n"},{"tags":["java","maven","web-services","jboss","wildfly-18"],"answers":[{"tags":[],"owner":{"account_id":143069,"reputation":7079,"user_id":351154,"accept_rate":92,"display_name":"user8128167"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667590628,"creation_date":1667590628,"answer_id":74322165,"question_id":74321729,"body_markdown":"Okay, I have found it, I had put this on web.xml:\r\n\r\n    &lt;servlet-class&gt;org.ws.MyappWS&lt;/servlet-class&gt;\r\n\r\nBut needed to change it to this:\r\n\r\n    &lt;servlet-class&gt;ec.ws.MyappWSImpl&lt;/servlet-class&gt;","title":"&quot;jboss.deployment.subunit. undertow-deployment.UndertowDeploymentInfoService&quot; =&gt; java.lang.NoSuchMethodException: org.ws.MyAppWS.&lt;init&gt;()","body":"<p>Okay, I have found it, I had put this on web.xml:</p>\n<pre><code>&lt;servlet-class&gt;org.ws.MyappWS&lt;/servlet-class&gt;\n</code></pre>\n<p>But needed to change it to this:</p>\n<pre><code>&lt;servlet-class&gt;ec.ws.MyappWSImpl&lt;/servlet-class&gt;\n</code></pre>\n"}],"owner":{"account_id":143069,"reputation":7079,"user_id":351154,"accept_rate":92,"display_name":"user8128167"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":586,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74322165,"answer_count":1,"score":0,"last_activity_date":1667590628,"creation_date":1667587880,"question_id":74321729,"body_markdown":"When I try to deploy my maven project using `mvn clean install wildfly:deploy` and then try to upload the war file manually this is what I am seeing:\r\n\r\n\r\n    {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.subunit.\\&quot;myapp-ear.ear\\&quot;.\\&quot;myapp-ws.war\\&quot;.undertow-deployment.UndertowDeploymentInfoService&quot; =&gt; &quot;Failed to start service\r\n        Caused by: java.lang.RuntimeException: java.lang.NoSuchMethodException: org.ws.MyappWS.&lt;init&gt;()\r\n        Caused by: java.lang.NoSuchMethodException: org.ws.MyAppWS.&lt;init&gt;()&quot;}}\r\n\r\nIf I try to deploy using the command line, this is what I am seeing:\r\n\r\nhttps://pastebin.com/1CkvEL1f\r\n\r\nHere is what I see in the `wildfly` console:\r\n\r\nhttps://pastebin.com/CHhHMpMZ\r\n\r\nDoes anyone have any suggestions?  TIA.\r\n\r\n\r\n","title":"&quot;jboss.deployment.subunit. undertow-deployment.UndertowDeploymentInfoService&quot; =&gt; java.lang.NoSuchMethodException: org.ws.MyAppWS.&lt;init&gt;()","body":"<p>When I try to deploy my maven project using <code>mvn clean install wildfly:deploy</code> and then try to upload the war file manually this is what I am seeing:</p>\n<pre><code>{&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.subunit.\\&quot;myapp-ear.ear\\&quot;.\\&quot;myapp-ws.war\\&quot;.undertow-deployment.UndertowDeploymentInfoService&quot; =&gt; &quot;Failed to start service\n    Caused by: java.lang.RuntimeException: java.lang.NoSuchMethodException: org.ws.MyappWS.&lt;init&gt;()\n    Caused by: java.lang.NoSuchMethodException: org.ws.MyAppWS.&lt;init&gt;()&quot;}}\n</code></pre>\n<p>If I try to deploy using the command line, this is what I am seeing:</p>\n<p><a href=\"https://pastebin.com/1CkvEL1f\" rel=\"nofollow noreferrer\">https://pastebin.com/1CkvEL1f</a></p>\n<p>Here is what I see in the <code>wildfly</code> console:</p>\n<p><a href=\"https://pastebin.com/CHhHMpMZ\" rel=\"nofollow noreferrer\">https://pastebin.com/CHhHMpMZ</a></p>\n<p>Does anyone have any suggestions?  TIA.</p>\n"},{"tags":["java","spring-boot","integration-testing","spring-cloud","spring-cloud-feign"],"owner":{"account_id":7580118,"reputation":950,"user_id":5751045,"accept_rate":92,"display_name":"user09"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667590305,"creation_date":1667590305,"question_id":74322116,"body_markdown":"We currently use spring boot 2.3.4 and feign internally uses ribbon to load balance the servers. In integration tests we used MockWebServer to let ribbon know the mockserver url and port\r\n\r\n    mockServer = new MockWebServer();\r\n    mockServer.start();  \r\n\r\n    List&lt;Server&gt; servers = Arrays.asList(new Server(mockServer.getHostName(), mockServer.getPort()));\r\n    when(serverList.getInitialListOfServers()).thenReturn(servers);\r\n\r\n \r\n\r\n    @Component\r\n        static class TestConfig implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\r\n            @Override\r\n            public void initialize(ConfigurableApplicationContext configurableApplicationContext) {\r\n                TestPropertySourceUtils.addInlinedPropertiesToEnvironment(configurableApplicationContext,\r\n                        &quot;account-service.ribbon.listOfServers=&quot; + mockServer.getHostName() + &quot;:&quot; + mockServer.getPort());\r\n            }\r\n        }\r\n\r\nNow upgrading to spring boot 2.7, Spring Cloud Netflix Ribbon has been deprecated and is not included and Spring Cloud LoadBalancer is the suggested alternative.\r\n\r\nSo I used `spring.cloud.discovery.client.simple.instances.account-service[0].uri=http://account-service.com` in the app properties \r\n\r\nDoing same for integration tests with mock server does not work\r\n\r\n    @Component\r\n            static class TestConfig implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\r\n                @Override\r\n                public void initialize(ConfigurableApplicationContext configurableApplicationContext) {\r\n                    TestPropertySourceUtils.addInlinedPropertiesToEnvironment(configurableApplicationContext,\r\n                            &quot;spring.cloud.discovery.client.simple.instances.account-service[0].uri=&quot; + mockServer.getHostName() + &quot;:&quot; + mockServer.getPort());\r\n                }\r\n            }\r\n    \r\nI have also tried setting this dymically with but no luck\r\n\r\n    @DynamicPropertySource\r\n        static void dynamicProperties(DynamicPropertyRegistry registry) {\r\n            registry.add(&quot;spring.cloud.discovery.client.simple.instances.account-service[0].uri&quot;, () -&gt; mockServer.getHostName() + &quot;:&quot; + mockServer.getPort());\r\n        }","title":"Assign mock server to spring cloud discovery client","body":"<p>We currently use spring boot 2.3.4 and feign internally uses ribbon to load balance the servers. In integration tests we used MockWebServer to let ribbon know the mockserver url and port</p>\n<pre><code>mockServer = new MockWebServer();\nmockServer.start();  \n\nList&lt;Server&gt; servers = Arrays.asList(new Server(mockServer.getHostName(), mockServer.getPort()));\nwhen(serverList.getInitialListOfServers()).thenReturn(servers);\n\n\n\n@Component\n    static class TestConfig implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\n        @Override\n        public void initialize(ConfigurableApplicationContext configurableApplicationContext) {\n            TestPropertySourceUtils.addInlinedPropertiesToEnvironment(configurableApplicationContext,\n                    &quot;account-service.ribbon.listOfServers=&quot; + mockServer.getHostName() + &quot;:&quot; + mockServer.getPort());\n        }\n    }\n</code></pre>\n<p>Now upgrading to spring boot 2.7, Spring Cloud Netflix Ribbon has been deprecated and is not included and Spring Cloud LoadBalancer is the suggested alternative.</p>\n<p>So I used <code>spring.cloud.discovery.client.simple.instances.account-service[0].uri=http://account-service.com</code> in the app properties</p>\n<p>Doing same for integration tests with mock server does not work</p>\n<pre><code>@Component\n        static class TestConfig implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\n            @Override\n            public void initialize(ConfigurableApplicationContext configurableApplicationContext) {\n                TestPropertySourceUtils.addInlinedPropertiesToEnvironment(configurableApplicationContext,\n                        &quot;spring.cloud.discovery.client.simple.instances.account-service[0].uri=&quot; + mockServer.getHostName() + &quot;:&quot; + mockServer.getPort());\n            }\n        }\n</code></pre>\n<p>I have also tried setting this dymically with but no luck</p>\n<pre><code>@DynamicPropertySource\n    static void dynamicProperties(DynamicPropertyRegistry registry) {\n        registry.add(&quot;spring.cloud.discovery.client.simple.instances.account-service[0].uri&quot;, () -&gt; mockServer.getHostName() + &quot;:&quot; + mockServer.getPort());\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1611213760,"post_id":65818312,"comment_id":116379218,"body_markdown":"The id is generated by the database. So the id you assign is being lost. Instead use `customer.getId()` to find it again. Also using `@Data` with an `@Entity` is a bad idea. (see https://deinum.biz/2019-02-13-Lombok-Data-Ojects-Arent-Entities/).","body":"The id is generated by the database. So the id you assign is being lost. Instead use <code>customer.getId()</code> to find it again. Also using <code>@Data</code> with an <code>@Entity</code> is a bad idea. (see <a href=\"https://deinum.biz/2019-02-13-Lombok-Data-Ojects-Arent-Entities/\" rel=\"nofollow noreferrer\">deinum.biz/2019-02-13-Lombok-Data-Ojects-Arent-Entities</a>)."},{"owner":{"account_id":441395,"reputation":3087,"user_id":831465,"accept_rate":100,"display_name":"ofhouse"},"score":0,"creation_date":1611220104,"post_id":65818312,"comment_id":116381820,"body_markdown":"Indeed, the auto generated id was the problem here. Thanks for the hint when using `@Data` and `@Entity` together. Great read, didn&#39;t know about this!","body":"Indeed, the auto generated id was the problem here. Thanks for the hint when using <code>@Data</code> and <code>@Entity</code> together. Great read, didn&#39;t know about this!"}],"answers":[{"comments":[{"owner":{"account_id":9938748,"reputation":297,"user_id":7356114,"display_name":"Satyendra Sharma"},"score":1,"creation_date":1611181823,"post_id":65818423,"comment_id":116372373,"body_markdown":"Yup, Use saveAndFlush.  Try removing @Transactional annotation also that may fix the issue.","body":"Yup, Use saveAndFlush.  Try removing @Transactional annotation also that may fix the issue."},{"owner":{"account_id":25822,"reputation":78757,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":1,"creation_date":1611217290,"post_id":65818423,"comment_id":116380531,"body_markdown":"Flushing happens automatically before querying so it doesn&#39;t have an effect here. Removing the `@Transactional` would be plain wrong, because it would run the test in a completely unrealistic setting (without transaction) which also could trigger all kinds of problems and finally would leave data in the table which will interfere with future test runs of the same or other tests. The problem is with the UUID generation.","body":"Flushing happens automatically before querying so it doesn&#39;t have an effect here. Removing the <code>@Transactional</code> would be plain wrong, because it would run the test in a completely unrealistic setting (without transaction) which also could trigger all kinds of problems and finally would leave data in the table which will interfere with future test runs of the same or other tests. The problem is with the UUID generation."},{"owner":{"account_id":441395,"reputation":3087,"user_id":831465,"accept_rate":100,"display_name":"ofhouse"},"score":1,"creation_date":1611219809,"post_id":65818423,"comment_id":116381663,"body_markdown":"Thank you so much for all the helpful answers and comments here! Key was that the UUID was overridden by the auto generated value. Updated the example repo with the fix: https://github.com/ofhouse/stackoverflow-65818312/commit/b415de0f2b1b7457db22bfeadab206e8e6f9d944","body":"Thank you so much for all the helpful answers and comments here! Key was that the UUID was overridden by the auto generated value. Updated the example repo with the fix: <a href=\"https://github.com/ofhouse/stackoverflow-65818312/commit/b415de0f2b1b7457db22bfeadab206e8e6f9d944\" rel=\"nofollow noreferrer\">github.com/ofhouse/stackoverflow-65818312/commit/&hellip;</a>"}],"tags":[],"owner":{"account_id":19793538,"reputation":300,"user_id":14496012,"display_name":"centrumek"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1611181530,"creation_date":1611180602,"answer_id":65818423,"question_id":65818312,"body_markdown":"Try to use\r\n\r\n`customerRepo.saveAndFlush(customer)` instead `save(customer)`\r\n\r\nMoreover, if you have configured an entity annotation responsible for auto-generating the id, the better idea would be not interfering in this mechanism creating your own UUID and initialize the entity. Hibernate will do it automatically for you.\r\n\r\nWhy not?\r\n\r\nHibernate has its own mechanism depends on the marked field with `@Id` annotation whether to merge or persist entity with EntityManager (If the field is null or contains data).  \r\n\r\nInstead of\r\n\r\n    UUID uuid = UUID.randomUUID();\r\n    Customer customer = new Customer(uuid);\r\n\r\nYou can simply do\r\n\r\n    Customer customer = new Customer();\r\n\r\nAnd fetch UUID from a persisted instance of entity here:\r\n\r\n    var persistedCustomer = customerRepo.saveAndFlush(customer);\r\n    ...\r\n    Optional&lt;Customer&gt; foundCustomer = customerRepo.findById(persistedCustomer.uuid);","title":"Test JpaRepository findById returns null for UUID","body":"<p>Try to use</p>\n<p><code>customerRepo.saveAndFlush(customer)</code> instead <code>save(customer)</code></p>\n<p>Moreover, if you have configured an entity annotation responsible for auto-generating the id, the better idea would be not interfering in this mechanism creating your own UUID and initialize the entity. Hibernate will do it automatically for you.</p>\n<p>Why not?</p>\n<p>Hibernate has its own mechanism depends on the marked field with <code>@Id</code> annotation whether to merge or persist entity with EntityManager (If the field is null or contains data).</p>\n<p>Instead of</p>\n<pre><code>UUID uuid = UUID.randomUUID();\nCustomer customer = new Customer(uuid);\n</code></pre>\n<p>You can simply do</p>\n<pre><code>Customer customer = new Customer();\n</code></pre>\n<p>And fetch UUID from a persisted instance of entity here:</p>\n<pre><code>var persistedCustomer = customerRepo.saveAndFlush(customer);\n...\nOptional&lt;Customer&gt; foundCustomer = customerRepo.findById(persistedCustomer.uuid);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2012488,"reputation":581,"user_id":1800622,"display_name":"Gon&#231;alo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667590094,"creation_date":1661503881,"answer_id":73498425,"question_id":65818312,"body_markdown":"For people using spring-boot 2.7.X, which ships with hibernate-core:5.6.10 the actual problem is explained [here][1].\r\n\r\nBy adding columnDefinition = &quot;uuid&quot; to the  UUID @Column() definition the problem was solved on h2.\r\n\r\n\r\n  [1]: https://hibernate.atlassian.net/browse/HHH-11490","title":"Test JpaRepository findById returns null for UUID","body":"<p>For people using spring-boot 2.7.X, which ships with hibernate-core:5.6.10 the actual problem is explained <a href=\"https://hibernate.atlassian.net/browse/HHH-11490\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>By adding columnDefinition = &quot;uuid&quot; to the  UUID @Column() definition the problem was solved on h2.</p>\n"}],"owner":{"account_id":441395,"reputation":3087,"user_id":831465,"accept_rate":100,"display_name":"ofhouse"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3185,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":65818423,"answer_count":2,"score":1,"last_activity_date":1667590094,"creation_date":1611180011,"question_id":65818312,"body_markdown":"Spring newbie here,  \r\nI want to test the the `findById()` method of a repository, but it cannot find the entry even through it is saved (and exists) in the database:\r\n\r\n```\r\n@DataJpaTest\r\nclass CustomerRepoIntegration {\r\n\r\n    @Autowired\r\n    CustomerRepo customerRepo;\r\n\r\n    @Test\r\n    @Transactional\r\n    void findById() {\r\n        UUID uuid = UUID.randomUUID();\r\n        Customer customer = new Customer(uuid);\r\n        customerRepo.save(customer);\r\n\r\n        List&lt;Customer&gt; allCustomers = customerRepo.findAll();\r\n        assertEquals(1, allCustomers.size());\r\n\r\n        Optional&lt;Customer&gt; foundCustomer = customerRepo.findById(uuid);\r\n        assertTrue(foundCustomer.isPresent());\r\n    }\r\n}\r\n```\r\n\r\nWhile the first assert is successful the second fails with:\r\n\r\n```\r\nError:  Failures: \r\nError:    CustomerRepoIntegration.findById:32 expected: &lt;true&gt; but was: &lt;false&gt;\r\n```\r\n\r\n---\r\n\r\nThe rest of the code:\r\n```\r\n// CustomerRepo.java\r\npublic interface CustomerRepo extends JpaRepository&lt;Customer, UUID&gt; {}\r\n```\r\n\r\n```\r\n// Customer.java\r\n@Entity\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\npublic class Customer implements Serializable {\r\n    @Id\r\n    @GeneratedValue(generator = &quot;UUID&quot;)\r\n    @GenericGenerator(\r\n            name = &quot;UUID&quot;,\r\n            strategy = &quot;org.hibernate.id.UUIDGenerator&quot;\r\n    )\r\n    private UUID id;\r\n}\r\n```\r\n\r\nI also made a reproduction repo here: https://github.com/ofhouse/stackoverflow-65818312","title":"Test JpaRepository findById returns null for UUID","body":"<p>Spring newbie here,<br />\nI want to test the the <code>findById()</code> method of a repository, but it cannot find the entry even through it is saved (and exists) in the database:</p>\n<pre><code>@DataJpaTest\nclass CustomerRepoIntegration {\n\n    @Autowired\n    CustomerRepo customerRepo;\n\n    @Test\n    @Transactional\n    void findById() {\n        UUID uuid = UUID.randomUUID();\n        Customer customer = new Customer(uuid);\n        customerRepo.save(customer);\n\n        List&lt;Customer&gt; allCustomers = customerRepo.findAll();\n        assertEquals(1, allCustomers.size());\n\n        Optional&lt;Customer&gt; foundCustomer = customerRepo.findById(uuid);\n        assertTrue(foundCustomer.isPresent());\n    }\n}\n</code></pre>\n<p>While the first assert is successful the second fails with:</p>\n<pre><code>Error:  Failures: \nError:    CustomerRepoIntegration.findById:32 expected: &lt;true&gt; but was: &lt;false&gt;\n</code></pre>\n<hr />\n<p>The rest of the code:</p>\n<pre><code>// CustomerRepo.java\npublic interface CustomerRepo extends JpaRepository&lt;Customer, UUID&gt; {}\n</code></pre>\n<pre><code>// Customer.java\n@Entity\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\npublic class Customer implements Serializable {\n    @Id\n    @GeneratedValue(generator = &quot;UUID&quot;)\n    @GenericGenerator(\n            name = &quot;UUID&quot;,\n            strategy = &quot;org.hibernate.id.UUIDGenerator&quot;\n    )\n    private UUID id;\n}\n</code></pre>\n<p>I also made a reproduction repo here: <a href=\"https://github.com/ofhouse/stackoverflow-65818312\" rel=\"nofollow noreferrer\">https://github.com/ofhouse/stackoverflow-65818312</a></p>\n"},{"tags":["java","linux","unix","character-encoding","executable-jar"],"comments":[{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":1,"creation_date":1666741033,"post_id":74200095,"comment_id":131007011,"body_markdown":"Your font lacks the necessary glyphs","body":"Your font lacks the necessary glyphs"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1666743620,"post_id":74200095,"comment_id":131007346,"body_markdown":"Let&#39;s test that proposition. What does the following print? `echo -e &#39;\\u00F8&#39;`","body":"Let&#39;s test that proposition. What does the following print? <code>echo -e &#39;\\u00F8&#39;</code>"},{"owner":{"account_id":14049933,"reputation":355,"user_id":10149027,"display_name":"JavaGeek"},"score":0,"creation_date":1666769950,"post_id":74200095,"comment_id":131012079,"body_markdown":"@g00se it prints this:  ▒","body":"@g00se it prints this:  ▒"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1666772962,"post_id":74200095,"comment_id":131013064,"body_markdown":"That&#39;s odd. You have an American Unicode locale that can&#39;t even print &#39;simple&#39; Unicode chars.  What about `echo -e &#39;\\xf8&#39;` ?","body":"That&#39;s odd. You have an American Unicode locale that can&#39;t even print &#39;simple&#39; Unicode chars.  What about <code>echo -e &#39;\\xf8&#39;</code> ?"},{"owner":{"account_id":14049933,"reputation":355,"user_id":10149027,"display_name":"JavaGeek"},"score":0,"creation_date":1666774190,"post_id":74200095,"comment_id":131013454,"body_markdown":"@g00se I must mention that I am using Putty to execute that command. I still get the same output : ▒.","body":"@g00se I must mention that I am using Putty to execute that command. I still get the same output : ▒."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1666776320,"post_id":74200095,"comment_id":131014120,"body_markdown":"Right, I&#39;m glad you said. Can you paste Norwegian characters into the Putty terminal? You&#39;ve got a &#39;wicked problem&#39; here so you need to be *certain* that the font you&#39;re using in Putty can display these chars","body":"Right, I&#39;m glad you said. Can you paste Norwegian characters into the Putty terminal? You&#39;ve got a &#39;wicked problem&#39; here so you need to be <i>certain</i> that the font you&#39;re using in Putty can display these chars"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1666776656,"post_id":74200095,"comment_id":131014242,"body_markdown":"Test them with another app like Notepad and then use that font in Putty","body":"Test them with another app like Notepad and then use that font in Putty"},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1666779129,"post_id":74200095,"comment_id":131015060,"body_markdown":"As Basil Bourque mentions, most likely the issue is in how you view the names in the log file. Edit this question with details of system property &quot;file.encoding&quot; in Win10 / Unix server [check settings for your logger, this may be cause] and what encodings are supported by the log file viewing app. On unix see what characters really are with `grep DN_Oppm logfile | od -xc` - don&#39;t rely on some display font of the app.","body":"As Basil Bourque mentions, most likely the issue is in how you view the names in the log file. Edit this question with details of system property &quot;file.encoding&quot; in Win10 / Unix server [check settings for your logger, this may be cause] and what encodings are supported by the log file viewing app. On unix see what characters really are with <code>grep DN_Oppm logfile | od -xc</code> - don&#39;t rely on some display font of the app."},{"owner":{"account_id":14049933,"reputation":355,"user_id":10149027,"display_name":"JavaGeek"},"score":0,"creation_date":1666781449,"post_id":74200095,"comment_id":131015807,"body_markdown":"@g00se yes I can paste Norwegian characters in the putty terminal window. But if I run &quot;ls -l&quot; command I see that in the filenames Norwegian characters are substituted with a question mark (?)","body":"@g00se yes I can paste Norwegian characters in the putty terminal window. But if I run &quot;ls -l&quot; command I see that in the filenames Norwegian characters are substituted with a question mark (?)"},{"owner":{"account_id":14049933,"reputation":355,"user_id":10149027,"display_name":"JavaGeek"},"score":0,"creation_date":1666781539,"post_id":74200095,"comment_id":131015839,"body_markdown":"So you suggest that the issue might be in Putty that is not able to recognize Norwegian characters and that affects the jar application as well ?","body":"So you suggest that the issue might be in Putty that is not able to recognize Norwegian characters and that affects the jar application as well ?"},{"owner":{"account_id":14049933,"reputation":355,"user_id":10149027,"display_name":"JavaGeek"},"score":0,"creation_date":1666782818,"post_id":74200095,"comment_id":131016230,"body_markdown":"I also added my putty configs to the description.","body":"I also added my putty configs to the description."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1666786876,"post_id":74200095,"comment_id":131017617,"body_markdown":"That all looks OK. Do you have the utility `iconv` on that server? If not, it might help to install it","body":"That all looks OK. Do you have the utility <code>iconv</code> on that server? If not, it might help to install it"},{"owner":{"account_id":14049933,"reputation":355,"user_id":10149027,"display_name":"JavaGeek"},"score":0,"creation_date":1667055179,"post_id":74200095,"comment_id":131082404,"body_markdown":"@g00se no I don&#39;t, how do you install something like this on the server?","body":"@g00se no I don&#39;t, how do you install something like this on the server?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1667057256,"post_id":74200095,"comment_id":131082832,"body_markdown":"Before that trouble is gone to. Change to that directory containing the pdf file starting &quot;DN_&quot; and run the following: `ls DN_* | sed -e &#39;s#\\xE5#\\xc3\\xa5#g&#39; -e &#39;s#\\xE6#\\xc3\\xa6#g&#39; -e &#39;s#\\xF8#\\xc3\\xb8#g&#39;`","body":"Before that trouble is gone to. Change to that directory containing the pdf file starting &quot;DN_&quot; and run the following: <code>ls DN_* | sed -e &#39;s#\\xE5#\\xc3\\xa5#g&#39; -e &#39;s#\\xE6#\\xc3\\xa6#g&#39; -e &#39;s#\\xF8#\\xc3\\xb8#g&#39;</code>"},{"owner":{"account_id":14049933,"reputation":355,"user_id":10149027,"display_name":"JavaGeek"},"score":0,"creation_date":1667059059,"post_id":74200095,"comment_id":131083208,"body_markdown":"@g00se awesome,  that worked for most of the letters, except for capital Norwegian letters. Is there a way to incorporate this into the command I use to run the jar file? &quot;java -jar FileServerRenamer.jar ./documentRepository&quot;","body":"@g00se awesome,  that worked for most of the letters, except for capital Norwegian letters. Is there a way to incorporate this into the command I use to run the jar file? &quot;java -jar FileServerRenamer.jar ./documentRepository&quot;"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1667060903,"post_id":74200095,"comment_id":131083605,"body_markdown":"Well tbh this is not really a Java question. Somehow, you&#39;ve got filenames on there encoded as &#39;Latin1&#39;. If I were in that position, the first thing I&#39;d want to do is to change them to proper Unicode. Is that what you want to do?","body":"Well tbh this is not really a Java question. Somehow, you&#39;ve got filenames on there encoded as &#39;Latin1&#39;. If I were in that position, the first thing I&#39;d want to do is to change them to proper Unicode. Is that what you want to do?"},{"owner":{"account_id":14049933,"reputation":355,"user_id":10149027,"display_name":"JavaGeek"},"score":0,"creation_date":1667061273,"post_id":74200095,"comment_id":131083691,"body_markdown":"@g00se yes, is there a way to do that assuming I have thousands of files in that directory?","body":"@g00se yes, is there a way to do that assuming I have thousands of files in that directory?"},{"owner":{"account_id":14049933,"reputation":355,"user_id":10149027,"display_name":"JavaGeek"},"score":0,"creation_date":1667061366,"post_id":74200095,"comment_id":131083706,"body_markdown":"@g00se Also why is it that winSCP has no issues displaying those characters?","body":"@g00se Also why is it that winSCP has no issues displaying those characters?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667064258,"post_id":74200095,"comment_id":131084372,"body_markdown":"I can only assume that winSCP is actually doing some translating of encoding. `ls -N DN_*.pdf` is a command that I&#39;d like you to run. The worst thing would be to start renaming files that were actually OK and only wrong when *viewed*  wrongly","body":"I can only assume that winSCP is actually doing some translating of encoding. <code>ls -N DN_*.pdf</code> is a command that I&#39;d like you to run. The worst thing would be to start renaming files that were actually OK and only wrong when <i>viewed</i>  wrongly"},{"owner":{"account_id":14049933,"reputation":355,"user_id":10149027,"display_name":"JavaGeek"},"score":0,"creation_date":1667064479,"post_id":74200095,"comment_id":131084419,"body_markdown":"@g00se &quot;ls -N DN_*.pdf&quot; this command still displayed Norwegian letters as &quot;?&quot;","body":"@g00se &quot;ls -N DN_*.pdf&quot; this command still displayed Norwegian letters as &quot;?&quot;"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667070724,"post_id":74200095,"comment_id":131085643,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/249156/discussion-between-g00se-and-vladyslav).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/249156/discussion-between-g00se-and-vladyslav\">continue this discussion in chat</a>."}],"answers":[{"comments":[{"owner":{"account_id":14049933,"reputation":355,"user_id":10149027,"display_name":"JavaGeek"},"score":0,"creation_date":1666770096,"post_id":74201892,"comment_id":131012127,"body_markdown":"what do you mean by the app? the jar executable? @Basil Bourque","body":"what do you mean by the app? the jar executable? @Basil Bourque"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1666772610,"post_id":74201892,"comment_id":131012948,"body_markdown":"@Vladyslav You made a screenshot, of an app displaying text with squares. *That* app, the app that put that text on the screen.","body":"@Vladyslav You made a screenshot, of an app displaying text with squares. <i>That</i> app, the app that put that text on the screen."},{"owner":{"account_id":14049933,"reputation":355,"user_id":10149027,"display_name":"JavaGeek"},"score":0,"creation_date":1666774343,"post_id":74201892,"comment_id":131013496,"body_markdown":"I mentioned that I build a jar executable and run that on the server, the java code is in the description. OS on the server is Unix. Locally I use Windows 10. Is there anything else I should add? @Basil Bourque","body":"I mentioned that I build a jar executable and run that on the server, the java code is in the description. OS on the server is Unix. Locally I use Windows 10. Is there anything else I should add? @Basil Bourque"},{"owner":{"account_id":14049933,"reputation":355,"user_id":10149027,"display_name":"JavaGeek"},"score":0,"creation_date":1666782629,"post_id":74201892,"comment_id":131016168,"body_markdown":"Oh I think I got what you ment, I use Putty to view the files on the server and also to run the jar file","body":"Oh I think I got what you ment, I use Putty to view the files on the server and also to run the jar file"},{"owner":{"account_id":14049933,"reputation":355,"user_id":10149027,"display_name":"JavaGeek"},"score":0,"creation_date":1667059653,"post_id":74201892,"comment_id":131083339,"body_markdown":"I can create a folder with Norwegian letters in the name using the same font, and that works fine","body":"I can create a folder with Norwegian letters in the name using the same font, and that works fine"}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666749356,"creation_date":1666749356,"answer_id":74201892,"question_id":74200095,"body_markdown":"I suspect there is no problem with your Java nor your file. \r\n\r\nThe problem is likely with the app you use to view that text. That app is using a font that lacks a glyph for those characters. \r\n\r\nEdit your Question to note the app and OS if you want further assistance. ","title":"Logging files names that contain Norwegian letters in the file name in Unix OS using a Jar executable","body":"<p>I suspect there is no problem with your Java nor your file.</p>\n<p>The problem is likely with the app you use to view that text. That app is using a font that lacks a glyph for those characters.</p>\n<p>Edit your Question to note the app and OS if you want further assistance.</p>\n"},{"comments":[{"owner":{"account_id":14049933,"reputation":355,"user_id":10149027,"display_name":"JavaGeek"},"score":0,"creation_date":1667074125,"post_id":74247119,"comment_id":131086252,"body_markdown":"Thank you for your answer. I changed the charset encoding on the server to the one that is used for the filename and I got my jar to work.","body":"Thank you for your answer. I changed the charset encoding on the server to the one that is used for the filename and I got my jar to work."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1667079597,"post_id":74247119,"comment_id":131087131,"body_markdown":"Sorry @Vladyslav, after reading your question comments I realized I misunderstood this one. I am happy to see that you were able to make your jar work. Having said that, please, be careful when changing the OS charset encoding, it could have undesired effects in other programs and the OS itself, and sooner than later problems could arise: in my opinion, it is something inconceivable in a production system and in general in any modern OS. Did you try the  solution proposed in the answer or something similar? If not, please, try it: ultimately running a jar like this will isolate the charset ...","body":"Sorry @Vladyslav, after reading your question comments I realized I misunderstood this one. I am happy to see that you were able to make your jar work. Having said that, please, be careful when changing the OS charset encoding, it could have undesired effects in other programs and the OS itself, and sooner than later problems could arise: in my opinion, it is something inconceivable in a production system and in general in any modern OS. Did you try the  solution proposed in the answer or something similar? If not, please, try it: ultimately running a jar like this will isolate the charset ..."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1667079696,"post_id":74247119,"comment_id":131087151,"body_markdown":"change to a single program, not the whole OS, and in this specific case probably will make your logs look as desired as well.","body":"change to a single program, not the whole OS, and in this specific case probably will make your logs look as desired as well."}],"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667063576,"creation_date":1667062358,"answer_id":74247119,"question_id":74200095,"body_markdown":"Some time ago I wrote [an answer](https://stackoverflow.com/questions/65717197/jdbc-issue-with-rendering-danish-specific-characters-%c3%98-%c3%85-%c3%86/65825163#65825163) for a very similar problem.\r\n\r\nAs stated in the aforementioned solution, the problem could be related with the use of different charsets in your local Windows laptop (probably, `cp-1252` or some variant) and your server.\r\n\r\nAs suggested, please, consider review the charset which is in place in the JVM in every environment, and review and adapt if necessary the value of the `file.encoding` system property on your laptop and the server environment, maybe it will help you solve the problem.\r\n\r\nProbably running your jar with a proper value for the `file.encoding` JVM property may do the application work properly:\r\n\r\n```\r\njava -Dfile.encoding=UTF-8 -jar your_app.jar\r\n```","title":"Logging files names that contain Norwegian letters in the file name in Unix OS using a Jar executable","body":"<p>Some time ago I wrote <a href=\"https://stackoverflow.com/questions/65717197/jdbc-issue-with-rendering-danish-specific-characters-%c3%98-%c3%85-%c3%86/65825163#65825163\">an answer</a> for a very similar problem.</p>\n<p>As stated in the aforementioned solution, the problem could be related with the use of different charsets in your local Windows laptop (probably, <code>cp-1252</code> or some variant) and your server.</p>\n<p>As suggested, please, consider review the charset which is in place in the JVM in every environment, and review and adapt if necessary the value of the <code>file.encoding</code> system property on your laptop and the server environment, maybe it will help you solve the problem.</p>\n<p>Probably running your jar with a proper value for the <code>file.encoding</code> JVM property may do the application work properly:</p>\n<pre><code>java -Dfile.encoding=UTF-8 -jar your_app.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22089978,"reputation":142,"user_id":16348170,"display_name":"hidden_machine"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667589663,"creation_date":1667589663,"answer_id":74322014,"question_id":74200095,"body_markdown":"Assuming you are printing the letters to a terminal, the problem is most likely the terminal you use. If you are printing the characters to a terminal, make sure it is set to chcp65001, and a font that supports displaying norwegian letters fully. I have encountered similar problems while trying to display multilingual text due to the shortage of support for multiple languages in the same font. \r\n\r\nSo, to summarize, first set the terminal code-page encoding to chcp 65001, and then change the font of the terminal to a font that supports norwegian letter fully, and then run the jar file from the terminal like : `java -jar &lt;jarname&gt;.jar`","title":"Logging files names that contain Norwegian letters in the file name in Unix OS using a Jar executable","body":"<p>Assuming you are printing the letters to a terminal, the problem is most likely the terminal you use. If you are printing the characters to a terminal, make sure it is set to chcp65001, and a font that supports displaying norwegian letters fully. I have encountered similar problems while trying to display multilingual text due to the shortage of support for multiple languages in the same font.</p>\n<p>So, to summarize, first set the terminal code-page encoding to chcp 65001, and then change the font of the terminal to a font that supports norwegian letter fully, and then run the jar file from the terminal like : <code>java -jar &lt;jarname&gt;.jar</code></p>\n"}],"owner":{"account_id":14049933,"reputation":355,"user_id":10149027,"display_name":"JavaGeek"},"comment_count":21,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":223,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1667589663,"creation_date":1666731357,"question_id":74200095,"body_markdown":"I have a simple java program that when run is supposed to traverse through the whole directory on a Unix server and log all files on the fileserver that contain Norwegian letters &quot;&#229;,&#248;,&#230;&quot;. \r\n\r\nThis is how it looks on the fileserver using winSCP: \r\n[![enter image description here][1]][1]\r\n\r\n\r\nIn the end the logs.log file should look like this: \r\n\r\n    2022-10-25 14:27:02 INFO  Logger:99 - File: &#39;DN_Oppm&#229;lings.pdf&#39;\r\n    2022-10-25 14:27:02 INFO  Logger:99 - File: &#39;Salg_av_g&#230;rden.pdf&#39;\r\n    \r\nHowever, this is how it ends up in the log file, all Norwegian letters are represented with a square.\r\n[![enter image description here][2]][2]\r\n\r\nI can&#39;t seem to figure out why it happens. It probably has something to do with the encodings. Because when I run it on windows locally, everything runs as expected and I get the result I need. But when I build the project as an executable jar and run on the server it gets wrong.\r\n\r\nHere is the code I am using.\r\n\r\n    public static void renameFiles3(File[] files) throws IOException {\r\n        for (File filename : files) {\r\n            if (filename.isDirectory()) {\r\n                renameFiles3(filename.listFiles());\r\n            } else {\r\n                String fileNameString = filename.getName();\r\n                if (fileNameString.contains(&quot;&#229;&quot;) || fileNameString.contains(&quot;&#248;&quot;) || fileNameString.contains(&quot;&#230;&quot;)){\r\n                    logger.info(&quot;File: &#39;&quot; + filename.getName());\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        File[] files = new File(path).listFiles();\r\n            try {\r\n                renamer.renameFiles3(files);\r\n            } catch catch(IOException ex){\r\n                logger.error(ex.toString());\r\n            }\r\n    }\r\n\r\nSomeone pointed out that the encoding should be specified, but I am not sure how that is done. If I run &quot;locale&quot; command on the Unix server this is what I get as output.\r\n\r\n    [e1111111@ilt repository]$ locale\r\n    LANG=en_US.UTF-8\r\n    LC_CTYPE=&quot;en_US.UTF-8&quot;\r\n    LC_NUMERIC=&quot;en_US.UTF-8&quot;\r\n    LC_TIME=&quot;en_US.UTF-8&quot;\r\n    LC_COLLATE=&quot;en_US.UTF-8&quot;\r\n    LC_MONETARY=&quot;en_US.UTF-8&quot;\r\n    LC_MESSAGES=&quot;en_US.UTF-8&quot;\r\n    LC_PAPER=&quot;en_US.UTF-8&quot;\r\n    LC_NAME=&quot;en_US.UTF-8&quot;\r\n    LC_ADDRESS=&quot;en_US.UTF-8&quot;\r\n    LC_TELEPHONE=&quot;en_US.UTF-8&quot;\r\n    LC_MEASUREMENT=&quot;en_US.UTF-8&quot;\r\n    LC_IDENTIFICATION=&quot;en_US.UTF-8&quot;\r\n    LC_ALL=\r\n\r\nI use Putty to run the jar file. Here are the configs.\r\n[![enter image description here][3]][3]\r\n\r\nStacktrace of the error I get when running the jar: \r\n\r\n    java.nio.file.NoSuchFileException: ./documentRepository/DN_Oppm�lings.pdf\r\n    \tat java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)\r\n    \tat java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)\r\n    \tat java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116)\r\n    \tat java.base/sun.nio.fs.UnixCopyFile.move(UnixCopyFile.java:430)\r\n    \tat java.base/sun.nio.fs.UnixFileSystemProvider.move(UnixFileSystemProvider.java:267)\r\n    \tat java.base/java.nio.file.Files.move(Files.java:1422)\r\n    \tat com.example.fixfilenamesonfileserver.Renamer.renameFiles2(Renamer.java:105)\r\n    \tat com.example.fixfilenamesonfileserver.Renamer.renameFiles2(Renamer.java:89)\r\n    \tat com.example.fixfilenamesonfileserver.Renamer.renameFiles2(Renamer.java:89)\r\n    \tat com.example.fixfilenamesonfileserver.Renamer.renameFiles2(Renamer.java:89)\r\n    \tat com.example.fixfilenamesonfileserver.Renamer.renameFiles2(Renamer.java:89)\r\n    \tat com.example.fixfilenamesonfileserver.Renamer.renameFiles2(Renamer.java:89)\r\n    \tat com.example.fixfilenamesonfileserver.Renamer.renameFiles2(Renamer.java:89)\r\n    \tat com.example.fixfilenamesonfileserver.Renamer.main(Renamer.java:154)\r\n\r\n\r\nWhat makes it even more strange, is that I can create for instance a folder with mkdir containing Norwegian letters in the name and it would be displayed correctly and also logged correctly if I create a file with Norwegian letters.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zhwCZ.jpg\r\n  [2]: https://i.stack.imgur.com/hrLxs.jpg\r\n  [3]: https://i.stack.imgur.com/YYcSo.jpg","title":"Logging files names that contain Norwegian letters in the file name in Unix OS using a Jar executable","body":"<p>I have a simple java program that when run is supposed to traverse through the whole directory on a Unix server and log all files on the fileserver that contain Norwegian letters &quot;å,ø,æ&quot;.</p>\n<p>This is how it looks on the fileserver using winSCP:\n<a href=\"https://i.stack.imgur.com/zhwCZ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zhwCZ.jpg\" alt=\"enter image description here\" /></a></p>\n<p>In the end the logs.log file should look like this:</p>\n<pre><code>2022-10-25 14:27:02 INFO  Logger:99 - File: 'DN_Oppmålings.pdf'\n2022-10-25 14:27:02 INFO  Logger:99 - File: 'Salg_av_gærden.pdf'\n</code></pre>\n<p>However, this is how it ends up in the log file, all Norwegian letters are represented with a square.\n<a href=\"https://i.stack.imgur.com/hrLxs.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hrLxs.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I can't seem to figure out why it happens. It probably has something to do with the encodings. Because when I run it on windows locally, everything runs as expected and I get the result I need. But when I build the project as an executable jar and run on the server it gets wrong.</p>\n<p>Here is the code I am using.</p>\n<pre><code>public static void renameFiles3(File[] files) throws IOException {\n    for (File filename : files) {\n        if (filename.isDirectory()) {\n            renameFiles3(filename.listFiles());\n        } else {\n            String fileNameString = filename.getName();\n            if (fileNameString.contains(&quot;å&quot;) || fileNameString.contains(&quot;ø&quot;) || fileNameString.contains(&quot;æ&quot;)){\n                logger.info(&quot;File: '&quot; + filename.getName());\n            }\n        }\n    }\n}\n\npublic static void main(String[] args) {\n    File[] files = new File(path).listFiles();\n        try {\n            renamer.renameFiles3(files);\n        } catch catch(IOException ex){\n            logger.error(ex.toString());\n        }\n}\n</code></pre>\n<p>Someone pointed out that the encoding should be specified, but I am not sure how that is done. If I run &quot;locale&quot; command on the Unix server this is what I get as output.</p>\n<pre><code>[e1111111@ilt repository]$ locale\nLANG=en_US.UTF-8\nLC_CTYPE=&quot;en_US.UTF-8&quot;\nLC_NUMERIC=&quot;en_US.UTF-8&quot;\nLC_TIME=&quot;en_US.UTF-8&quot;\nLC_COLLATE=&quot;en_US.UTF-8&quot;\nLC_MONETARY=&quot;en_US.UTF-8&quot;\nLC_MESSAGES=&quot;en_US.UTF-8&quot;\nLC_PAPER=&quot;en_US.UTF-8&quot;\nLC_NAME=&quot;en_US.UTF-8&quot;\nLC_ADDRESS=&quot;en_US.UTF-8&quot;\nLC_TELEPHONE=&quot;en_US.UTF-8&quot;\nLC_MEASUREMENT=&quot;en_US.UTF-8&quot;\nLC_IDENTIFICATION=&quot;en_US.UTF-8&quot;\nLC_ALL=\n</code></pre>\n<p>I use Putty to run the jar file. Here are the configs.\n<a href=\"https://i.stack.imgur.com/YYcSo.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YYcSo.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Stacktrace of the error I get when running the jar:</p>\n<pre><code>java.nio.file.NoSuchFileException: ./documentRepository/DN_Oppm�lings.pdf\n    at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)\n    at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)\n    at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116)\n    at java.base/sun.nio.fs.UnixCopyFile.move(UnixCopyFile.java:430)\n    at java.base/sun.nio.fs.UnixFileSystemProvider.move(UnixFileSystemProvider.java:267)\n    at java.base/java.nio.file.Files.move(Files.java:1422)\n    at com.example.fixfilenamesonfileserver.Renamer.renameFiles2(Renamer.java:105)\n    at com.example.fixfilenamesonfileserver.Renamer.renameFiles2(Renamer.java:89)\n    at com.example.fixfilenamesonfileserver.Renamer.renameFiles2(Renamer.java:89)\n    at com.example.fixfilenamesonfileserver.Renamer.renameFiles2(Renamer.java:89)\n    at com.example.fixfilenamesonfileserver.Renamer.renameFiles2(Renamer.java:89)\n    at com.example.fixfilenamesonfileserver.Renamer.renameFiles2(Renamer.java:89)\n    at com.example.fixfilenamesonfileserver.Renamer.renameFiles2(Renamer.java:89)\n    at com.example.fixfilenamesonfileserver.Renamer.main(Renamer.java:154)\n</code></pre>\n<p>What makes it even more strange, is that I can create for instance a folder with mkdir containing Norwegian letters in the name and it would be displayed correctly and also logged correctly if I create a file with Norwegian letters.</p>\n"},{"tags":["java","rest","sdk"],"answers":[{"comments":[{"owner":{"account_id":1505508,"reputation":885,"user_id":1408973,"accept_rate":78,"display_name":"Alessandro Giannone"},"score":0,"creation_date":1339880847,"post_id":11067004,"comment_id":14483576,"body_markdown":"I agree. For a complex REST API the design would be different, for example, the AWS SDK is not as simple as this one and is structured in a very different way. However, we&#39;re very much straight forward and offer CRUD operations on a series of resources only.","body":"I agree. For a complex REST API the design would be different, for example, the AWS SDK is not as simple as this one and is structured in a very different way. However, we&#39;re very much straight forward and offer CRUD operations on a series of resources only."},{"owner":{"account_id":100967,"reputation":10194,"user_id":271877,"accept_rate":48,"display_name":"Moritz"},"score":1,"creation_date":1339923874,"post_id":11067004,"comment_id":14488665,"body_markdown":"Than you are not building a Java API for a REST service but a generic REST client library.","body":"Than you are not building a Java API for a REST service but a generic REST client library."}],"tags":[],"owner":{"account_id":100967,"reputation":10194,"user_id":271877,"accept_rate":48,"display_name":"Moritz"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667589080,"creation_date":1339880468,"answer_id":11067004,"question_id":11066992,"body_markdown":"IF you build an SDK for a special REST API, I would use method names that represent the REST service calls and won&#39;t be so generic.","title":"Best Practice to Build a Java SDK for a REST API","body":"<p>IF you build an SDK for a special REST API, I would use method names that represent the REST service calls and won't be so generic.</p>\n"}],"owner":{"account_id":1505508,"reputation":885,"user_id":1408973,"accept_rate":78,"display_name":"Alessandro Giannone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3581,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":11067004,"answer_count":1,"score":5,"last_activity_date":1667589080,"creation_date":1339880352,"question_id":11066992,"body_markdown":"I&#39;m about to develop a Java SDK against a REST API and would like to know what would be the best practice approach to building it. I&#39;ve looked at Google and also used a number of SDKs which connect to REST APIs and there is never much consistency. I&#39;ve come across some patterns which I find interesting and would like to know which one could be considered best practice, if any, or if there are alternatives?\r\n\r\nI&#39;ve provided sample / pseudo code to facilitate.\r\n\r\n1) The models / requests / client are all separated. Example call:\r\n\r\n    Client client = new Client( ... credentials ... );\r\n    \r\n    try {\r\n        Something obj = client.post( new PostSomethingRequest( ..params... ) );\r\n    } catch( Exception oops ) { ...handle... }\r\n    \r\n    try {\r\n        Something obj2 = client.get( new GetSomethingRequest( id ) );\r\n    } catch( Exception oops ) { ...handle... }\r\n\r\n2) The models and request are tied together and the client is separate. Example call:\r\n\r\n    Client client = new Client( ... credentials ... );\r\n    \r\n    try {\r\n        Something obj = client.post( new Something( ..params... ) );\r\n    } catch( Exception oops ) { ...handle... }\r\n    \r\n    try {\r\n        Something obj2 = client.get( new Something( id ) );\r\n    } catch( Exception oops ) { ...handle... }\r\n\r\n3) The model contains everything. Example call:\r\n\r\n    Client.setCredentials( ... credentials ... );\r\n    \r\n    Something obj = new Something( ..params... );\r\n    try {\r\n        obj.post();\r\n    } catch( Exception oops ) { ...handle... }\r\n    \r\n    try {\r\n        Something obj2 = Something.get( id );\r\n    } catch( Exception oops ) { ...handle... }\r\n\r\n\r\nIf there are better ways of building this I&#39;d also be glad to hear about them.","title":"Best Practice to Build a Java SDK for a REST API","body":"<p>I'm about to develop a Java SDK against a REST API and would like to know what would be the best practice approach to building it. I've looked at Google and also used a number of SDKs which connect to REST APIs and there is never much consistency. I've come across some patterns which I find interesting and would like to know which one could be considered best practice, if any, or if there are alternatives?</p>\n\n<p>I've provided sample / pseudo code to facilitate.</p>\n\n<p>1) The models / requests / client are all separated. Example call:</p>\n\n<pre><code>Client client = new Client( ... credentials ... );\n\ntry {\n    Something obj = client.post( new PostSomethingRequest( ..params... ) );\n} catch( Exception oops ) { ...handle... }\n\ntry {\n    Something obj2 = client.get( new GetSomethingRequest( id ) );\n} catch( Exception oops ) { ...handle... }\n</code></pre>\n\n<p>2) The models and request are tied together and the client is separate. Example call:</p>\n\n<pre><code>Client client = new Client( ... credentials ... );\n\ntry {\n    Something obj = client.post( new Something( ..params... ) );\n} catch( Exception oops ) { ...handle... }\n\ntry {\n    Something obj2 = client.get( new Something( id ) );\n} catch( Exception oops ) { ...handle... }\n</code></pre>\n\n<p>3) The model contains everything. Example call:</p>\n\n<pre><code>Client.setCredentials( ... credentials ... );\n\nSomething obj = new Something( ..params... );\ntry {\n    obj.post();\n} catch( Exception oops ) { ...handle... }\n\ntry {\n    Something obj2 = Something.get( id );\n} catch( Exception oops ) { ...handle... }\n</code></pre>\n\n<p>If there are better ways of building this I'd also be glad to hear about them.</p>\n"},{"tags":["java","spring-boot","kotlin","spring-webflux","subscribe"],"comments":[{"owner":{"account_id":6605,"reputation":61212,"user_id":11182,"display_name":"Lex Li"},"score":0,"creation_date":1667526750,"post_id":74310532,"comment_id":131193079,"body_markdown":"The mono tag is for something else. Please use the java tag instead.","body":"The mono tag is for something else. Please use the java tag instead."}],"answers":[{"comments":[{"owner":{"account_id":7610459,"reputation":1833,"user_id":5771474,"accept_rate":74,"display_name":"Ice"},"score":0,"creation_date":1667684321,"post_id":74321906,"comment_id":131226386,"body_markdown":"Please use edit the post and add your current implementation at the end.","body":"Please use edit the post and add your current implementation at the end."}],"tags":[],"owner":{"account_id":7610459,"reputation":1833,"user_id":5771474,"accept_rate":74,"display_name":"Ice"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667588921,"creation_date":1667588921,"answer_id":74321906,"question_id":74310532,"body_markdown":"The problem is the way how you&#39;re trying to save posts in the database. \r\n\r\nAt the moment is not saved because this part of the code doesn&#39;t have time to execute. `subscribe` doesn&#39;t mean that the main thread will complete after the execution of these lines. \r\n```\r\n       ret.log().subscribe(\r\n            {\r\n                val x:List&lt;Post&gt; = it.body as List&lt;Post&gt;\r\n                for (t in x){\r\n                    print(t)\r\n                    appService.createPost(t)\r\n                }\r\n            },null,\r\n            { }\r\n        )\r\n```\r\nIn your case saving is running on a separate thread which doesn&#39;t block the main thread. The main thread completes before save operations took place. That&#39;s why the database is empty.\r\n\r\n\r\nSaving posts operations should be a part of the reactive stream that you already have. If you put it before mapping to `ResponseEntity` you&#39;ll omit additional mapping from the response entity to post again.\r\n\r\nSomething like that should work.\r\n```kotlin\r\n        return appService.fetchPosts()\r\n            .take(3)\r\n            .flatMap { appService.createPost(it) }\r\n            .collectList()\r\n            .map { body -&gt; ResponseEntity.ok().body(body) }\r\n            .toMono()\r\n```\r\n\r\n\r\n","title":"Spring boot using Webflux &amp; Kotlin: CRUD operation from inside a subscribed Mono is failing","body":"<p>The problem is the way how you're trying to save posts in the database.</p>\n<p>At the moment is not saved because this part of the code doesn't have time to execute. <code>subscribe</code> doesn't mean that the main thread will complete after the execution of these lines.</p>\n<pre><code>       ret.log().subscribe(\n            {\n                val x:List&lt;Post&gt; = it.body as List&lt;Post&gt;\n                for (t in x){\n                    print(t)\n                    appService.createPost(t)\n                }\n            },null,\n            { }\n        )\n</code></pre>\n<p>In your case saving is running on a separate thread which doesn't block the main thread. The main thread completes before save operations took place. That's why the database is empty.</p>\n<p>Saving posts operations should be a part of the reactive stream that you already have. If you put it before mapping to <code>ResponseEntity</code> you'll omit additional mapping from the response entity to post again.</p>\n<p>Something like that should work.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>        return appService.fetchPosts()\n            .take(3)\n            .flatMap { appService.createPost(it) }\n            .collectList()\n            .map { body -&gt; ResponseEntity.ok().body(body) }\n            .toMono()\n</code></pre>\n"}],"owner":{"account_id":26823298,"reputation":3,"user_id":20412303,"display_name":"aha001"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":523,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74321906,"answer_count":1,"score":0,"last_activity_date":1667588921,"creation_date":1667517357,"question_id":74310532,"body_markdown":"I&#39;m in the process of testing how to query data from the &quot;jsonplaceholder&quot; API and save the received data to a local Postgresql database. When I make a call from Postman, the received data is returned correctly by &quot;jsonplaceholder&quot;, but weirdly nothing is stored in the database.\r\nMaybe I&#39;m just missing something in my code (see below), I don&#39;t know!\r\nThis is a Spring Boot application with Webflux and Kotlin and Postgres&#39;SQL as local database.\r\nThanks in advance for any help!\r\n\r\n```\r\n    /* The config file: WebfluxConfig.kt*/\r\n    package com.example.monoSubscribe.config\r\n\r\n    import org.springframework.context.annotation.Configuration\r\n    import org.springframework.http.codec.ServerCodecConfigurer\r\n    import org.springframework.web.reactive.config.CorsRegistry\r\n    import org.springframework.web.reactive.config.EnableWebFlux\r\n    import org.springframework.web.reactive.config.WebFluxConfigurer\r\n\r\n    @Configuration\r\n    @EnableWebFlux\r\n    class WebfluxConfig: WebFluxConfigurer {\r\n\r\n    override fun addCorsMappings(registry: CorsRegistry) {\r\n        registry.addMapping(&quot;api/**&quot;)\r\n    }\r\n    override fun configureHttpMessageCodecs(configurer: \r\n    ServerCodecConfigurer) {\r\n        configurer.defaultCodecs().maxInMemorySize(-1)\r\n    }\r\n    }\r\n\r\n\r\n```\r\n\r\n\r\n\r\n```\r\n    /* The model: Post.kt */\r\n    package com.example.monoSubscribe.model\r\n\r\n    data class Post(\r\n    val userId: Int,\r\n    val id: Int,\r\n    val title: String,\r\n    val body: String\r\n    )\r\n```\r\n\r\n\r\n```\r\n    /* The Repository: JsonholderRepo.kt */\r\n    package com.example.monoSubscribe.repo\r\n\r\n    import com.example.monoSubscribe.model.Post\r\n    import org.springframework.data.repository.reactive.ReactiveCrudRepository\r\n\r\n    interface JsonholderRepo: ReactiveCrudRepository&lt;Post, Long&gt; {\r\n    }\r\n```\r\n\r\n\r\n\r\n```\r\n    /* The service: AppService.kt */\r\n    package com.example.monoSubscribe.service\r\n\r\n    import com.example.monoSubscribe.model.Post\r\n       import com.example.monoSubscribe.repo.JsonholderRepo\r\n    import org.springframework.stereotype.Service\r\n    import org.springframework.web.reactive.function.client.WebClient\r\n    import org.springframework.web.util.UriBuilder\r\n    import reactor.core.publisher.Flux\r\n    import reactor.core.publisher.Mono\r\n\r\n    @Service\r\n    class AppService( private val jsonholderRepo : JsonholderRepo ) {\r\n\r\n    fun createPost(postReq: Post) : Mono&lt;Post&gt; {\r\n        return jsonholderRepo.save(\r\n                Post(\r\n                    userId = postReq.userId,\r\n                    id = postReq.id,\r\n                    title = postReq.title,\r\n                    body = postReq.body\r\n                )\r\n            )\r\n    }\r\n\r\n    /** Call remote API (json placeholder) */\r\n    fun fetchPosts(): Flux&lt;Post&gt; = \r\n    fetch(&quot;/posts&quot;).bodyToFlux(Post::class.java)\r\n    fun fetch(path: String): WebClient.ResponseSpec {\r\n        val baseURL = &quot;http://jsonplaceholder.typicode.com/&quot;\r\n        val client = WebClient.create(baseURL)\r\n        return client.get().uri{\r\n                builder: UriBuilder -&gt;\r\n            builder.path(path)\r\n                .build()\r\n        }.retrieve()\r\n    }\r\n    }\r\n\r\n```\r\n\r\n\r\n\r\n```\r\n    //The controller: AppController.kt\r\n    package com.example.monoSubscribe.controller\r\n\r\n    import com.example.monoSubscribe.model.Post\r\n    import com.example.monoSubscribe.service.AppService\r\n    import org.springframework.http.ResponseEntity\r\n    import org.springframework.web.bind.annotation.*\r\n    import reactor.core.publisher.Mono\r\n    import reactor.kotlin.core.publisher.toMono\r\n\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    class AppController(private val appService: AppService) {\r\n\r\n\r\n    @PostMapping(&quot;/posts&quot;)\r\n    fun createPost(@RequestBody postReq: Post): Mono&lt;Post&gt; {\r\n        return appService.createPost(postReq)\r\n    }\r\n\r\n    /** Call remote API - Json placeholder  */\r\n    @GetMapping(&quot;/jsonplaceholder&quot;)\r\n    fun getData(): Mono&lt;ResponseEntity&lt;List&lt;Post&gt;&gt;&gt; {\r\n        val ret =  appService.fetchPosts()\r\n            .take(3)\r\n            .collectList()\r\n            .map { body -&gt; ResponseEntity.ok().body(body) }\r\n            .toMono()\r\n        ret.log().subscribe(\r\n            {\r\n                val x:List&lt;Post&gt; = it.body as List&lt;Post&gt;\r\n                for (t in x){\r\n                    print(t)\r\n                    appService.createPost(t)\r\n                }\r\n            },null,\r\n            { }\r\n        )\r\n        return ret\r\n    }\r\n\r\n    }\r\n\r\n```\r\n\r\n```\r\n    /* The property file: application.yaml */\r\n    spring:\r\n      r2dbc:\r\n        url: r2dbc:postgresql://localhost:5432/\r\n        username: postgres\r\n        password: &quot;*********&quot;\r\n      jpa:\r\n        properties:\r\n          hibernate:\r\n            generate_statistics: true\r\n    server:\r\n      error:\r\n        include-message:\r\n    logging:\r\n      file:\r\n        name: src/main/kotlin/de/cops/webfluxPostgresql/logging/aam.log\r\n```\r\n\r\n```\r\n    /* The build.gradle*/\r\n    import org.jetbrains.kotlin.gradle.tasks.KotlinCompile\r\n\r\n    plugins {\r\n\tid(&quot;org.springframework.boot&quot;) version &quot;2.7.4&quot;\r\n\tid(&quot;io.spring.dependency-management&quot;) version &quot;1.0.14.RELEASE&quot;\r\n\tkotlin(&quot;jvm&quot;) version &quot;1.6.21&quot;\r\n\tkotlin(&quot;plugin.spring&quot;) version &quot;1.6.21&quot;\r\n    }\r\n\r\n    group = &quot;com.example&quot;\r\n    version = &quot;0.0.1-SNAPSHOT&quot;\r\n    java.sourceCompatibility = JavaVersion.VERSION_11\r\n\r\n    repositories {\r\n\tmavenCentral()\r\n    }\r\n\r\n    dependencies {\r\n\timplementation(&quot;org.springframework.boot:spring-boot-starter-data-r2dbc&quot;)\r\n\timplementation(&quot;org.springframework.boot:spring-boot-starter-webflux&quot;)\r\n\timplementation(&quot;com.fasterxml.jackson.module:jackson-module-kotlin&quot;)\r\n\timplementation(&quot;io.projectreactor.kotlin:reactor-kotlin-extensions&quot;)\r\n\timplementation(&quot;org.jetbrains.kotlin:kotlin-reflect&quot;)\r\n\timplementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8&quot;)\r\n\timplementation(&quot;org.jetbrains.kotlinx:kotlinx-coroutines-reactor&quot;)\r\n\truntimeOnly(&quot;org.postgresql:postgresql&quot;)\r\n\truntimeOnly(&quot;org.postgresql:r2dbc-postgresql&quot;)\r\n\ttestImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\r\n\ttestImplementation(&quot;io.projectreactor:reactor-test&quot;)\r\n\timplementation(&quot;org.springframework.boot:spring-boot-starter- \r\n    validation:2.7.5&quot;)\r\n    }\r\n\r\n      tasks.withType&lt;KotlinCompile&gt; {\r\n\tkotlinOptions {\r\n\t\tfreeCompilerArgs = listOf(&quot;-Xjsr305=strict&quot;)\r\n\t\tjvmTarget = &quot;11&quot;\r\n\t}\r\n    }\r\n\r\n    tasks.withType&lt;Test&gt; {\r\n\tuseJUnitPlatform()\r\n    }\r\n```\r\n","title":"Spring boot using Webflux &amp; Kotlin: CRUD operation from inside a subscribed Mono is failing","body":"<p>I'm in the process of testing how to query data from the &quot;jsonplaceholder&quot; API and save the received data to a local Postgresql database. When I make a call from Postman, the received data is returned correctly by &quot;jsonplaceholder&quot;, but weirdly nothing is stored in the database.\nMaybe I'm just missing something in my code (see below), I don't know!\nThis is a Spring Boot application with Webflux and Kotlin and Postgres'SQL as local database.\nThanks in advance for any help!</p>\n<pre><code>    /* The config file: WebfluxConfig.kt*/\n    package com.example.monoSubscribe.config\n\n    import org.springframework.context.annotation.Configuration\n    import org.springframework.http.codec.ServerCodecConfigurer\n    import org.springframework.web.reactive.config.CorsRegistry\n    import org.springframework.web.reactive.config.EnableWebFlux\n    import org.springframework.web.reactive.config.WebFluxConfigurer\n\n    @Configuration\n    @EnableWebFlux\n    class WebfluxConfig: WebFluxConfigurer {\n\n    override fun addCorsMappings(registry: CorsRegistry) {\n        registry.addMapping(&quot;api/**&quot;)\n    }\n    override fun configureHttpMessageCodecs(configurer: \n    ServerCodecConfigurer) {\n        configurer.defaultCodecs().maxInMemorySize(-1)\n    }\n    }\n\n\n</code></pre>\n<pre><code>    /* The model: Post.kt */\n    package com.example.monoSubscribe.model\n\n    data class Post(\n    val userId: Int,\n    val id: Int,\n    val title: String,\n    val body: String\n    )\n</code></pre>\n<pre><code>    /* The Repository: JsonholderRepo.kt */\n    package com.example.monoSubscribe.repo\n\n    import com.example.monoSubscribe.model.Post\n    import org.springframework.data.repository.reactive.ReactiveCrudRepository\n\n    interface JsonholderRepo: ReactiveCrudRepository&lt;Post, Long&gt; {\n    }\n</code></pre>\n<pre><code>    /* The service: AppService.kt */\n    package com.example.monoSubscribe.service\n\n    import com.example.monoSubscribe.model.Post\n       import com.example.monoSubscribe.repo.JsonholderRepo\n    import org.springframework.stereotype.Service\n    import org.springframework.web.reactive.function.client.WebClient\n    import org.springframework.web.util.UriBuilder\n    import reactor.core.publisher.Flux\n    import reactor.core.publisher.Mono\n\n    @Service\n    class AppService( private val jsonholderRepo : JsonholderRepo ) {\n\n    fun createPost(postReq: Post) : Mono&lt;Post&gt; {\n        return jsonholderRepo.save(\n                Post(\n                    userId = postReq.userId,\n                    id = postReq.id,\n                    title = postReq.title,\n                    body = postReq.body\n                )\n            )\n    }\n\n    /** Call remote API (json placeholder) */\n    fun fetchPosts(): Flux&lt;Post&gt; = \n    fetch(&quot;/posts&quot;).bodyToFlux(Post::class.java)\n    fun fetch(path: String): WebClient.ResponseSpec {\n        val baseURL = &quot;http://jsonplaceholder.typicode.com/&quot;\n        val client = WebClient.create(baseURL)\n        return client.get().uri{\n                builder: UriBuilder -&gt;\n            builder.path(path)\n                .build()\n        }.retrieve()\n    }\n    }\n\n</code></pre>\n<pre><code>    //The controller: AppController.kt\n    package com.example.monoSubscribe.controller\n\n    import com.example.monoSubscribe.model.Post\n    import com.example.monoSubscribe.service.AppService\n    import org.springframework.http.ResponseEntity\n    import org.springframework.web.bind.annotation.*\n    import reactor.core.publisher.Mono\n    import reactor.kotlin.core.publisher.toMono\n\n\n    @RestController\n    @RequestMapping(&quot;/api&quot;)\n    class AppController(private val appService: AppService) {\n\n\n    @PostMapping(&quot;/posts&quot;)\n    fun createPost(@RequestBody postReq: Post): Mono&lt;Post&gt; {\n        return appService.createPost(postReq)\n    }\n\n    /** Call remote API - Json placeholder  */\n    @GetMapping(&quot;/jsonplaceholder&quot;)\n    fun getData(): Mono&lt;ResponseEntity&lt;List&lt;Post&gt;&gt;&gt; {\n        val ret =  appService.fetchPosts()\n            .take(3)\n            .collectList()\n            .map { body -&gt; ResponseEntity.ok().body(body) }\n            .toMono()\n        ret.log().subscribe(\n            {\n                val x:List&lt;Post&gt; = it.body as List&lt;Post&gt;\n                for (t in x){\n                    print(t)\n                    appService.createPost(t)\n                }\n            },null,\n            { }\n        )\n        return ret\n    }\n\n    }\n\n</code></pre>\n<pre><code>    /* The property file: application.yaml */\n    spring:\n      r2dbc:\n        url: r2dbc:postgresql://localhost:5432/\n        username: postgres\n        password: &quot;*********&quot;\n      jpa:\n        properties:\n          hibernate:\n            generate_statistics: true\n    server:\n      error:\n        include-message:\n    logging:\n      file:\n        name: src/main/kotlin/de/cops/webfluxPostgresql/logging/aam.log\n</code></pre>\n<pre><code>    /* The build.gradle*/\n    import org.jetbrains.kotlin.gradle.tasks.KotlinCompile\n\n    plugins {\n    id(&quot;org.springframework.boot&quot;) version &quot;2.7.4&quot;\n    id(&quot;io.spring.dependency-management&quot;) version &quot;1.0.14.RELEASE&quot;\n    kotlin(&quot;jvm&quot;) version &quot;1.6.21&quot;\n    kotlin(&quot;plugin.spring&quot;) version &quot;1.6.21&quot;\n    }\n\n    group = &quot;com.example&quot;\n    version = &quot;0.0.1-SNAPSHOT&quot;\n    java.sourceCompatibility = JavaVersion.VERSION_11\n\n    repositories {\n    mavenCentral()\n    }\n\n    dependencies {\n    implementation(&quot;org.springframework.boot:spring-boot-starter-data-r2dbc&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-webflux&quot;)\n    implementation(&quot;com.fasterxml.jackson.module:jackson-module-kotlin&quot;)\n    implementation(&quot;io.projectreactor.kotlin:reactor-kotlin-extensions&quot;)\n    implementation(&quot;org.jetbrains.kotlin:kotlin-reflect&quot;)\n    implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8&quot;)\n    implementation(&quot;org.jetbrains.kotlinx:kotlinx-coroutines-reactor&quot;)\n    runtimeOnly(&quot;org.postgresql:postgresql&quot;)\n    runtimeOnly(&quot;org.postgresql:r2dbc-postgresql&quot;)\n    testImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\n    testImplementation(&quot;io.projectreactor:reactor-test&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter- \n    validation:2.7.5&quot;)\n    }\n\n      tasks.withType&lt;KotlinCompile&gt; {\n    kotlinOptions {\n        freeCompilerArgs = listOf(&quot;-Xjsr305=strict&quot;)\n        jvmTarget = &quot;11&quot;\n    }\n    }\n\n    tasks.withType&lt;Test&gt; {\n    useJUnitPlatform()\n    }\n</code></pre>\n"},{"tags":["java","annotations","apache-camel","jms"],"comments":[{"owner":{"account_id":995482,"reputation":725,"user_id":1011552,"accept_rate":75,"display_name":"Mike Barlotta"},"score":0,"creation_date":1468602770,"post_id":38349702,"comment_id":64211585,"body_markdown":"adding as a comment since it indirectly answers your question. You could make the utility CamelContextAware and then use the CamelContext to get a Producer. Then call the sendBody as you are in your sample.","body":"adding as a comment since it indirectly answers your question. You could make the utility CamelContextAware and then use the CamelContext to get a Producer. Then call the sendBody as you are in your sample."}],"answers":[{"tags":[],"owner":{"account_id":938578,"reputation":5229,"user_id":4657798,"display_name":"Miloš Milivojević"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1468487831,"creation_date":1468487831,"answer_id":38370243,"question_id":38349702,"body_markdown":"Well, no worries, it should definitely work - you can write a simple unit test to verify it - but unless your URIs are dynamically formed in runtime I would suggest using the approach they mention in their documentation e.g. have an interface:\r\n\r\n    @InOnly\r\n    public class JmsProducer {\r\n      void publish(String message);\r\n    }\r\n\r\nand then inject it in your class like so:\r\n\r\n    public class Foo {\r\n      @Produce(uri = &quot;activemq:foo&quot;)\r\n      private JmsProducer fooProducer;\r\n    \r\n      @Produce(uri = &quot;activemq:bar&quot;)\r\n      private JmsProducer barProducer;\r\n    }","title":"Apache Camel: Can I use @Produce without specifying the endpoint uri in the annotation?","body":"<p>Well, no worries, it should definitely work - you can write a simple unit test to verify it - but unless your URIs are dynamically formed in runtime I would suggest using the approach they mention in their documentation e.g. have an interface:</p>\n\n<pre><code>@InOnly\npublic class JmsProducer {\n  void publish(String message);\n}\n</code></pre>\n\n<p>and then inject it in your class like so:</p>\n\n<pre><code>public class Foo {\n  @Produce(uri = \"activemq:foo\")\n  private JmsProducer fooProducer;\n\n  @Produce(uri = \"activemq:bar\")\n  private JmsProducer barProducer;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1938618,"reputation":698,"user_id":1745416,"display_name":"JohnC"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667588894,"creation_date":1667588894,"answer_id":74321899,"question_id":38349702,"body_markdown":"If in doubt, create a URI that starts with &quot;stub:&quot; (ex &quot;stub:noUri&quot;)\r\n\r\nFrom https://camel.apache.org/components/3.18.x/stub-component.html\r\n\r\n*The Stub component provides a simple way to stub out any physical endpoints while in development or testing, allowing you for example to run a route without needing to actually connect to a specific SMTP or Http endpoint. Just add stub: in front of any endpoint URI to stub out the endpoint.*","title":"Apache Camel: Can I use @Produce without specifying the endpoint uri in the annotation?","body":"<p>If in doubt, create a URI that starts with &quot;stub:&quot; (ex &quot;stub:noUri&quot;)</p>\n<p>From <a href=\"https://camel.apache.org/components/3.18.x/stub-component.html\" rel=\"nofollow noreferrer\">https://camel.apache.org/components/3.18.x/stub-component.html</a></p>\n<p><em>The Stub component provides a simple way to stub out any physical endpoints while in development or testing, allowing you for example to run a route without needing to actually connect to a specific SMTP or Http endpoint. Just add stub: in front of any endpoint URI to stub out the endpoint.</em></p>\n"}],"owner":{"account_id":4666850,"reputation":413,"user_id":3779712,"accept_rate":56,"display_name":"ndsurendra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2361,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1667588894,"creation_date":1468407409,"question_id":38349702,"body_markdown":"In the camel [documentation][1], it is mentioned that we can inject the ProducerTemplate using the @Produce annotation as shown below.\r\n\r\n     @Produce(uri = &quot;activemq:foo&quot;)\r\n        private ProducerTemplate producer;\r\n\r\nI am wondering if it is possible not to specify the uri in the annotation and pass the uri to the producer in its sendBody method, like below, so that I can use this in a Util class to produce to any endpoint?\r\n\r\n    public class JmsProducerUtils {\r\n        @Produce\r\n        private ProducerTemplate producer;\r\n    \r\n        public void publishMessageToEndpoint(String endpoint, String message) {\r\n    \r\n            producer.sendBody(endpoint, message);\r\n        }\r\n    }\r\n\r\nAre there any concerns, to be aware of, in using it like this?\r\n\r\n\r\n  [1]: http://camel.apache.org/pojo-producing.html","title":"Apache Camel: Can I use @Produce without specifying the endpoint uri in the annotation?","body":"<p>In the camel <a href=\"http://camel.apache.org/pojo-producing.html\" rel=\"nofollow\">documentation</a>, it is mentioned that we can inject the ProducerTemplate using the @Produce annotation as shown below.</p>\n\n<pre><code> @Produce(uri = \"activemq:foo\")\n    private ProducerTemplate producer;\n</code></pre>\n\n<p>I am wondering if it is possible not to specify the uri in the annotation and pass the uri to the producer in its sendBody method, like below, so that I can use this in a Util class to produce to any endpoint?</p>\n\n<pre><code>public class JmsProducerUtils {\n    @Produce\n    private ProducerTemplate producer;\n\n    public void publishMessageToEndpoint(String endpoint, String message) {\n\n        producer.sendBody(endpoint, message);\n    }\n}\n</code></pre>\n\n<p>Are there any concerns, to be aware of, in using it like this?</p>\n"},{"tags":["java","palindrome"],"comments":[{"owner":{"account_id":17000499,"reputation":48417,"user_id":12299000,"display_name":"kaya3"},"score":1,"creation_date":1632853575,"post_id":69366767,"comment_id":122604732,"body_markdown":"Well, your code says to do something if `x &lt;= 9`, and otherwise `return true;` because you wrote an `else` block after that. So your code returns `true` because 10 is not less than or equal to 9.","body":"Well, your code says to do something if <code>x &lt;= 9</code>, and otherwise <code>return true;</code> because you wrote an <code>else</code> block after that. So your code returns <code>true</code> because 10 is not less than or equal to 9."},{"owner":{"account_id":21152048,"reputation":1269,"user_id":15552152,"display_name":"Mady Daby"},"score":2,"creation_date":1632853600,"post_id":69366767,"comment_id":122604740,"body_markdown":"A more straightforward solution would be to convert to a string, reverse the string and check if the reversed string and original match.","body":"A more straightforward solution would be to convert to a string, reverse the string and check if the reversed string and original match."},{"owner":{"account_id":16273284,"reputation":823,"user_id":11751221,"display_name":"pavan kumar"},"score":0,"creation_date":1632853808,"post_id":69366767,"comment_id":122604809,"body_markdown":"well 01 is technically 1 and in your second condition you are checking 01== (10/10), where 10/10 is again 1 so your logic is not valid on that statement, since the statement is 1==1 which is true","body":"well 01 is technically 1 and in your second condition you are checking 01== (10/10), where 10/10 is again 1 so your logic is not valid on that statement, since the statement is 1==1 which is true"},{"owner":{"account_id":22296294,"reputation":17,"user_id":16522252,"display_name":"PPProgrammer"},"score":0,"creation_date":1632853928,"post_id":69366767,"comment_id":122604855,"body_markdown":"the question asks me not to convert to string.","body":"the question asks me not to convert to string."},{"owner":{"account_id":16273284,"reputation":823,"user_id":11751221,"display_name":"pavan kumar"},"score":0,"creation_date":1632854030,"post_id":69366767,"comment_id":122604890,"body_markdown":"@PPProgrammer you will have to change your if statement","body":"@PPProgrammer you will have to change your if statement"},{"owner":{"display_name":"user2711811"},"score":1,"creation_date":1632854097,"post_id":69366767,"comment_id":122604911,"body_markdown":"0 is an integer and is a palindrome so `if (x % 10 ==0) { return false; }` seems suspect.","body":"0 is an integer and is a palindrome so <code>if (x % 10 ==0) { return false; }</code> seems suspect."},{"owner":{"account_id":16273284,"reputation":823,"user_id":11751221,"display_name":"pavan kumar"},"score":1,"creation_date":1632854357,"post_id":69366767,"comment_id":122604998,"body_markdown":"@Andy just saw the complete code I believe the first if statement itself is in fault as 10&lt;=9 is false and returns true that is the same thing happening in 121&lt;=9 so according to the program anything &lt;=9 is true he needs to fix that first","body":"@Andy just saw the complete code I believe the first if statement itself is in fault as 10&lt;=9 is false and returns true that is the same thing happening in 121&lt;=9 so according to the program anything &lt;=9 is true he needs to fix that first"},{"owner":{"account_id":22296294,"reputation":17,"user_id":16522252,"display_name":"PPProgrammer"},"score":0,"creation_date":1632854367,"post_id":69366767,"comment_id":122605001,"body_markdown":"i have changed an if statement and it is now reading 10 as false but it is still reading numbers such as 133 as true why is this the case?","body":"i have changed an if statement and it is now reading 10 as false but it is still reading numbers such as 133 as true why is this the case?"},{"owner":{"account_id":22296294,"reputation":17,"user_id":16522252,"display_name":"PPProgrammer"},"score":0,"creation_date":1632855087,"post_id":69366767,"comment_id":122605285,"body_markdown":"i have just checked your feedback and gotten rid of the first if statement as it was redundant because of the while loop logic. thank you for all your feedback!","body":"i have just checked your feedback and gotten rid of the first if statement as it was redundant because of the while loop logic. thank you for all your feedback!"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":2,"creation_date":1632855212,"post_id":69366767,"comment_id":122605342,"body_markdown":"See here: [How to Debug Small Programs](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/).","body":"See here: <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to Debug Small Programs</a>."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":1,"creation_date":1632856520,"post_id":69366767,"comment_id":122605913,"body_markdown":"`return String.valueOf(intValue).equalsIgnoreCase(new StringBuilder(String.valueOf(intValue)).reverse().toString());`","body":"<code>return String.valueOf(intValue).equalsIgnoreCase(new StringBuilder(String.valueOf(intValue)).reverse().toString()&zwnj;&#8203;);</code>"}],"answers":[{"tags":[],"owner":{"account_id":22662393,"reputation":1978,"user_id":16835308,"display_name":"Zakk"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632855092,"creation_date":1632855092,"answer_id":69367091,"question_id":69366767,"body_markdown":"You could achieve the same thing by:\r\n\r\n1. Decomposing your number into digits. You can use `ArrayList`.\r\n2. Comparing every `i`th element with the `n-i`th\r\n\r\n```lang-java\r\nimport java.util.ArrayList;\r\n\r\npublic class Main {\r\n    public static boolean palindrome(int number)\r\n    {\r\n        if (number &lt; 0)\r\n            number *= -1; // Or return false if you want to exclude negative numbers\r\n        \r\n        // 1. Decompose the number into digits\r\n        ArrayList&lt;Integer&gt; digits = new ArrayList&lt;Integer&gt;();\r\n        while (number &gt; 0) {\r\n            digits.add(number % 10);\r\n            number /= 10;\r\n        }\r\n        \r\n        // 2. Check\r\n        for (int i = 0, j = digits.size()-1; i &lt; j; i++, j--) {\r\n            if (digits.get(i) != digits.get(j))\r\n                return false;\r\n        }\r\n        \r\n        return true;\r\n    }\r\n    \r\n    public static void main(String[] args)\r\n    {\r\n        System.out.println(palindrome(121));\r\n        System.out.println(palindrome(123));\r\n        System.out.println(palindrome(10));\r\n    }\r\n}\r\n\r\n```\r\n\r\nOutput:\r\n\r\n``` lang-text\r\ntrue\r\nfalse\r\nfalse\r\n```","title":"I use this on palindrome question on leetcode and it still says output of 10 is true","body":"<p>You could achieve the same thing by:</p>\n<ol>\n<li>Decomposing your number into digits. You can use <code>ArrayList</code>.</li>\n<li>Comparing every <code>i</code>th element with the <code>n-i</code>th</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\n\npublic class Main {\n    public static boolean palindrome(int number)\n    {\n        if (number &lt; 0)\n            number *= -1; // Or return false if you want to exclude negative numbers\n        \n        // 1. Decompose the number into digits\n        ArrayList&lt;Integer&gt; digits = new ArrayList&lt;Integer&gt;();\n        while (number &gt; 0) {\n            digits.add(number % 10);\n            number /= 10;\n        }\n        \n        // 2. Check\n        for (int i = 0, j = digits.size()-1; i &lt; j; i++, j--) {\n            if (digits.get(i) != digits.get(j))\n                return false;\n        }\n        \n        return true;\n    }\n    \n    public static void main(String[] args)\n    {\n        System.out.println(palindrome(121));\n        System.out.println(palindrome(123));\n        System.out.println(palindrome(10));\n    }\n}\n\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-text prettyprint-override\"><code>true\nfalse\nfalse\n</code></pre>\n"},{"tags":[],"owner":{"account_id":117315,"reputation":3877,"user_id":307295,"display_name":"mvmn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632863020,"creation_date":1632863020,"answer_id":69368457,"question_id":69366767,"body_markdown":"The issue is with the first check - you always return true for any number bigger than 9.\r\n\r\nThis:\r\n```\r\n        if (x &lt;= 9) { \r\n            //negative numbers are not palindromes\r\n            if (x &lt; 0)  {\r\n               return false;\r\n            } \r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n```\r\nShould&#39;ve been this:\r\n```\r\n        if (x &lt;= 9) { \r\n            //negative numbers are not palindromes\r\n            if (x &lt; 0)  {\r\n               return false;\r\n            } \r\n            else {\r\n              return true;\r\n            }\r\n        }\r\n```\r\n\r\nAnd even this is way too verbose. Simpler way to write same logic is\r\n```\r\n        if (x &lt;= 9) { \r\n            //negative numbers are not palindromes, but positive single digit numbers are\r\n            return x &gt;= 0;\r\n        }\r\n```","title":"I use this on palindrome question on leetcode and it still says output of 10 is true","body":"<p>The issue is with the first check - you always return true for any number bigger than 9.</p>\n<p>This:</p>\n<pre><code>        if (x &lt;= 9) { \n            //negative numbers are not palindromes\n            if (x &lt; 0)  {\n               return false;\n            } \n        }\n        else {\n            return true;\n        }\n</code></pre>\n<p>Should've been this:</p>\n<pre><code>        if (x &lt;= 9) { \n            //negative numbers are not palindromes\n            if (x &lt; 0)  {\n               return false;\n            } \n            else {\n              return true;\n            }\n        }\n</code></pre>\n<p>And even this is way too verbose. Simpler way to write same logic is</p>\n<pre><code>        if (x &lt;= 9) { \n            //negative numbers are not palindromes, but positive single digit numbers are\n            return x &gt;= 0;\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24674280,"reputation":1,"user_id":18568887,"display_name":"BerCodingLive"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667588823,"creation_date":1667588644,"answer_id":74321854,"question_id":69366767,"body_markdown":"     if(x==0){\r\n          return true;\r\n      }\r\n      if(x&lt;0 || x%10 ==0){\r\n          return false;\r\n      }\r\nChange first two if connections with my codes. Gonna work it.","title":"I use this on palindrome question on leetcode and it still says output of 10 is true","body":"<pre><code> if(x==0){\n      return true;\n  }\n  if(x&lt;0 || x%10 ==0){\n      return false;\n  }\n</code></pre>\n<p>Change first two if connections with my codes. Gonna work it.</p>\n"}],"owner":{"account_id":22296294,"reputation":17,"user_id":16522252,"display_name":"PPProgrammer"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5875,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":3,"score":0,"last_activity_date":1667588823,"creation_date":1632853406,"question_id":69366767,"body_markdown":"The question asked on leetcode is: Given an integer x, return true if x is palindrome integer.\r\n\r\nAn integer is a palindrome when it reads the same backward as forward. For example, 121 is palindrome while 123 is not.\r\n\r\n \r\nThis is my code.\r\n\r\n```\r\nclass Solution {\r\n    public boolean isPalindrome(int x) {\r\n        if (x &lt;= 9) { \r\n            //negative numbers are not palindromes\r\n            if (x &lt; 0)  {\r\n               return false;\r\n            } \r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n        //if anything is divisible by 10 with no remainders its not a palindrome\r\n        if (x % 10 ==0) {\r\n            return false;\r\n        }\r\n            \r\n        //creating reverse method\r\n        int reverse = 0;\r\n    \r\n        while(x &gt; reverse) {\r\n             int num = x % 10;\r\n             x /= 10;\r\n             reverse = (reverse * 10) + num;\r\n        }\r\n        if (x == reverse || x == reverse / 10) {\r\n             return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI&#39;m quite sure my logic is correct but I test on NetBeans with no seen errors and receive 121 being a correct answer but 10 is showing up as true when it should be false due to not being a palindrome? I&#39;m confused and would like some help with understanding the logic a little better.\r\n","title":"I use this on palindrome question on leetcode and it still says output of 10 is true","body":"<p>The question asked on leetcode is: Given an integer x, return true if x is palindrome integer.</p>\n<p>An integer is a palindrome when it reads the same backward as forward. For example, 121 is palindrome while 123 is not.</p>\n<p>This is my code.</p>\n<pre><code>class Solution {\n    public boolean isPalindrome(int x) {\n        if (x &lt;= 9) { \n            //negative numbers are not palindromes\n            if (x &lt; 0)  {\n               return false;\n            } \n        }\n        else {\n            return true;\n        }\n        //if anything is divisible by 10 with no remainders its not a palindrome\n        if (x % 10 ==0) {\n            return false;\n        }\n            \n        //creating reverse method\n        int reverse = 0;\n    \n        while(x &gt; reverse) {\n             int num = x % 10;\n             x /= 10;\n             reverse = (reverse * 10) + num;\n        }\n        if (x == reverse || x == reverse / 10) {\n             return true;\n        }\n        else {\n            return false;\n        }\n    }\n}\n</code></pre>\n<p>I'm quite sure my logic is correct but I test on NetBeans with no seen errors and receive 121 being a correct answer but 10 is showing up as true when it should be false due to not being a palindrome? I'm confused and would like some help with understanding the logic a little better.</p>\n"},{"tags":["java","amazon-s3","aws-sdk"],"answers":[{"comments":[{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1624006755,"post_id":68020171,"comment_id":120244781,"body_markdown":"@Rushikesh Sabde I edited the answer with a minor code change, sorry for the inconveniences.","body":"@Rushikesh Sabde I edited the answer with a minor code change, sorry for the inconveniences."},{"owner":{"account_id":20297157,"reputation":73,"user_id":14887449,"display_name":"Diana Eftaiha"},"score":0,"creation_date":1667568781,"post_id":68020171,"comment_id":131203387,"body_markdown":"Suggestion of passing marker of lastKey works. Thanks. (I think you mean `lastKey = myValue.key()` instead of `lastKey = object.key()`?)","body":"Suggestion of passing marker of lastKey works. Thanks. (I think you mean <code>lastKey = myValue.key()</code> instead of <code>lastKey = object.key()</code>?)"},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1667588757,"post_id":68020171,"comment_id":131210428,"body_markdown":"You are welcome @DianaEftaiha, and thank you very much,  yes, the code is like you indicated: thank you for point that out.","body":"You are welcome @DianaEftaiha, and thank you very much,  yes, the code is like you indicated: thank you for point that out."}],"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1667588671,"creation_date":1623935780,"answer_id":68020171,"question_id":67898208,"body_markdown":"As you indicated, AWS will only [return up to 1000 of the objects in a bucket](https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListObjects.html):\r\n\r\n&gt; Returns some or all (up to 1,000) of the objects in a bucket.\r\n\r\nAmazon S3 lists objects in alphabetical order. You can take advantage of this fact and provide a [marker](https://sdk.amazonaws.com/java/api/latest/) to the key that should be used to start with in the next requests, if [appropriate](https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/model/ListObjectsResponse.html#isTruncated--):\r\n\r\n```java  \r\ntry {\r\n\r\n  ListObjectsRequest listObjects = ListObjectsRequest\r\n    .builder()\r\n    .bucket(bucketName)\r\n      .build()\r\n  ;\r\n\r\n  ListObjectsResponse listObjectsResponse = null;\r\n  String lastKey = null;\r\n\r\n  do {\r\n    if ( listObjectsResponse != null ) {\r\n      listObjectsRequest = listObjectsRequest.toBuilder()\r\n         .marker(lastKey)\r\n           .build()\r\n      ; \r\n    }\r\n\r\n    listObjectsResponse = s3.listObjects(listObjectsRequest); \r\n\r\n    List&lt;S3Object&gt; objects = listObjectsResponse.contents();\r\n\r\n    // Iterate over results\r\n    for (ListIterator iterVals = objects.listIterator();    iterVals.hasNext(); ) {\r\n      S3Object myValue = (S3Object) iterVals.next();\r\n      String key = myValue.key();\r\n      System.out.print(&quot;\\n The name of the key is &quot; + key);\r\n      // Update the value of the last key processed\r\n      lastKey = key;\r\n    }\r\n  } while ( listObjectsResponse.isTruncated() );\r\n} catch (S3Exception e) {\r\n  System.err.println(e.awsErrorDetails().errorMessage());\r\n  System.exit(1);\r\n}\r\n```\r\n\r\nSomething very similar can be achieved with the v2 of the list objects API `ListObjectsV2Request` [`startAfter`](https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/model/ListObjectsV2Request.Builder.html#startAfter-java.lang.String-) method.\r\n\r\nWith v2, you can use `ListObjectsV2Response` and continuation token as well. Something similar to:\r\n\r\n```java  \r\ntry {\r\n\r\n  ListObjectsV2Request listObjects = ListObjectsV2Request\r\n    .builder()\r\n    .bucket(bucketName)\r\n      .build()\r\n  ;\r\n\r\n  ListObjectsV2Response listObjectsResponse = null;\r\n  String nextContinuationToken = null;\r\n\r\n  do {\r\n    if ( listObjectsResponse != null ) {\r\n      listObjectsRequest = listObjectsRequest.toBuilder()\r\n         .continuationToken(nextContinuationToken)\r\n           .build()\r\n      ; \r\n    }\r\n\r\n    listObjectsResponse = s3.listObjectsV2(listObjectsRequest); \r\n    nextContinuationToken = listObjectsResponse.nextContinuationToken();\r\n\r\n    List&lt;S3Object&gt; objects = listObjectsResponse.contents();\r\n\r\n    // Iterate over results\r\n    for (ListIterator iterVals = objects.listIterator();    iterVals.hasNext(); ) {\r\n      S3Object myValue = (S3Object) iterVals.next();\r\n      String key = myValue.key();\r\n      System.out.print(&quot;\\n The name of the key is &quot; + key);\r\n    }\r\n  } while ( listObjectsResponse.isTruncated() );\r\n} catch (S3Exception e) {\r\n  System.err.println(e.awsErrorDetails().errorMessage());\r\n  System.exit(1);\r\n}\r\n```\r\n\r\nFinally, you can use the [`listObjectsV2Paginator`](https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/S3Client.html#listObjectsV2Paginator-software.amazon.awssdk.services.s3.model.ListObjectsV2Request-) method to iterate over the results in a similar way like `listNextBatchOfObjects` was used in the v1 of the API. See for instance [this related v1 code](https://github.com/aws/aws-sdk-java/blob/f935a3758b771a25f628f1d296cb61044a82b4ac/aws-java-sdk-s3/src/main/java/com/amazonaws/services/s3/transfer/TransferManager.java#L1352-L1511) and these [1](https://stackoverflow.com/questions/44070580/not-all-data-only-1000-elements-retrieved-from-s3-using-amazon-sdk/44070675) [2](https://stackoverflow.com/questions/8027265/how-to-list-all-aws-s3-objects-in-a-bucket-using-java) related SO questions.\r\n\r\nAll the mappings between operations from v1 and v2 versions of the API are documented [here](https://github.com/aws/aws-sdk-java-v2/blob/c9c33fb57a414f5417e6607f7f5e0d27cae37423/docs/LaunchChangelog.md#411-s3-operation-migration).","title":"AWS SDK V2 S3 fetch object is not fetching objects more than 1000","body":"<p>As you indicated, AWS will only <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListObjects.html\" rel=\"nofollow noreferrer\">return up to 1000 of the objects in a bucket</a>:</p>\n<blockquote>\n<p>Returns some or all (up to 1,000) of the objects in a bucket.</p>\n</blockquote>\n<p>Amazon S3 lists objects in alphabetical order. You can take advantage of this fact and provide a <a href=\"https://sdk.amazonaws.com/java/api/latest/\" rel=\"nofollow noreferrer\">marker</a> to the key that should be used to start with in the next requests, if <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/model/ListObjectsResponse.html#isTruncated--\" rel=\"nofollow noreferrer\">appropriate</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n\n  ListObjectsRequest listObjects = ListObjectsRequest\n    .builder()\n    .bucket(bucketName)\n      .build()\n  ;\n\n  ListObjectsResponse listObjectsResponse = null;\n  String lastKey = null;\n\n  do {\n    if ( listObjectsResponse != null ) {\n      listObjectsRequest = listObjectsRequest.toBuilder()\n         .marker(lastKey)\n           .build()\n      ; \n    }\n\n    listObjectsResponse = s3.listObjects(listObjectsRequest); \n\n    List&lt;S3Object&gt; objects = listObjectsResponse.contents();\n\n    // Iterate over results\n    for (ListIterator iterVals = objects.listIterator();    iterVals.hasNext(); ) {\n      S3Object myValue = (S3Object) iterVals.next();\n      String key = myValue.key();\n      System.out.print(&quot;\\n The name of the key is &quot; + key);\n      // Update the value of the last key processed\n      lastKey = key;\n    }\n  } while ( listObjectsResponse.isTruncated() );\n} catch (S3Exception e) {\n  System.err.println(e.awsErrorDetails().errorMessage());\n  System.exit(1);\n}\n</code></pre>\n<p>Something very similar can be achieved with the v2 of the list objects API <code>ListObjectsV2Request</code> <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/model/ListObjectsV2Request.Builder.html#startAfter-java.lang.String-\" rel=\"nofollow noreferrer\"><code>startAfter</code></a> method.</p>\n<p>With v2, you can use <code>ListObjectsV2Response</code> and continuation token as well. Something similar to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n\n  ListObjectsV2Request listObjects = ListObjectsV2Request\n    .builder()\n    .bucket(bucketName)\n      .build()\n  ;\n\n  ListObjectsV2Response listObjectsResponse = null;\n  String nextContinuationToken = null;\n\n  do {\n    if ( listObjectsResponse != null ) {\n      listObjectsRequest = listObjectsRequest.toBuilder()\n         .continuationToken(nextContinuationToken)\n           .build()\n      ; \n    }\n\n    listObjectsResponse = s3.listObjectsV2(listObjectsRequest); \n    nextContinuationToken = listObjectsResponse.nextContinuationToken();\n\n    List&lt;S3Object&gt; objects = listObjectsResponse.contents();\n\n    // Iterate over results\n    for (ListIterator iterVals = objects.listIterator();    iterVals.hasNext(); ) {\n      S3Object myValue = (S3Object) iterVals.next();\n      String key = myValue.key();\n      System.out.print(&quot;\\n The name of the key is &quot; + key);\n    }\n  } while ( listObjectsResponse.isTruncated() );\n} catch (S3Exception e) {\n  System.err.println(e.awsErrorDetails().errorMessage());\n  System.exit(1);\n}\n</code></pre>\n<p>Finally, you can use the <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/S3Client.html#listObjectsV2Paginator-software.amazon.awssdk.services.s3.model.ListObjectsV2Request-\" rel=\"nofollow noreferrer\"><code>listObjectsV2Paginator</code></a> method to iterate over the results in a similar way like <code>listNextBatchOfObjects</code> was used in the v1 of the API. See for instance <a href=\"https://github.com/aws/aws-sdk-java/blob/f935a3758b771a25f628f1d296cb61044a82b4ac/aws-java-sdk-s3/src/main/java/com/amazonaws/services/s3/transfer/TransferManager.java#L1352-L1511\" rel=\"nofollow noreferrer\">this related v1 code</a> and these <a href=\"https://stackoverflow.com/questions/44070580/not-all-data-only-1000-elements-retrieved-from-s3-using-amazon-sdk/44070675\">1</a> <a href=\"https://stackoverflow.com/questions/8027265/how-to-list-all-aws-s3-objects-in-a-bucket-using-java\">2</a> related SO questions.</p>\n<p>All the mappings between operations from v1 and v2 versions of the API are documented <a href=\"https://github.com/aws/aws-sdk-java-v2/blob/c9c33fb57a414f5417e6607f7f5e0d27cae37423/docs/LaunchChangelog.md#411-s3-operation-migration\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":15937106,"reputation":1426,"user_id":11499971,"display_name":"Rushikesh Sabde"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1614,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":68020171,"answer_count":1,"score":4,"last_activity_date":1667588671,"creation_date":1623217281,"question_id":67898208,"body_markdown":"I am using AWS SDK version : 2.16.78. But the `ListObjectsRequest` object is not fetching objects more than 1000.\r\n\r\nI did go through the documentation but I wasn&#39;t able to find how to set the continuous token.\r\nI am using the below code snippet\r\n\r\n     try {\r\n\t        ListObjectsRequest listObjects = ListObjectsRequest\r\n\t                .builder()\r\n\t                .bucket(bucketName)\r\n\t                .build();\r\n\r\n\t        ListObjectsResponse res = s3.listObjects(listObjects);\r\n\t        List&lt;S3Object&gt; objects = res.contents();\r\n\r\n\t        for (ListIterator iterVals = objects.listIterator(); iterVals.hasNext(); ) {\r\n\t            S3Object myValue = (S3Object) iterVals.next();\r\n\t            System.out.print(&quot;\\n The name of the key is &quot; + myValue.key());\r\n\t         }\r\n\r\n\t    } catch (S3Exception e) {\r\n\t        System.err.println(e.awsErrorDetails().errorMessage());\r\n\t        System.exit(1);\r\n\t    }\r\n\r\nThe above code is only fetching 1000 s3 objects. ","title":"AWS SDK V2 S3 fetch object is not fetching objects more than 1000","body":"<p>I am using AWS SDK version : 2.16.78. But the <code>ListObjectsRequest</code> object is not fetching objects more than 1000.</p>\n<p>I did go through the documentation but I wasn't able to find how to set the continuous token.\nI am using the below code snippet</p>\n<pre><code> try {\n        ListObjectsRequest listObjects = ListObjectsRequest\n                .builder()\n                .bucket(bucketName)\n                .build();\n\n        ListObjectsResponse res = s3.listObjects(listObjects);\n        List&lt;S3Object&gt; objects = res.contents();\n\n        for (ListIterator iterVals = objects.listIterator(); iterVals.hasNext(); ) {\n            S3Object myValue = (S3Object) iterVals.next();\n            System.out.print(&quot;\\n The name of the key is &quot; + myValue.key());\n         }\n\n    } catch (S3Exception e) {\n        System.err.println(e.awsErrorDetails().errorMessage());\n        System.exit(1);\n    }\n</code></pre>\n<p>The above code is only fetching 1000 s3 objects.</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1667576659,"post_id":74319427,"comment_id":131206481,"body_markdown":"Please provide a [MRE], e.g. in form of a github repository.","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, e.g. in form of a github repository."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1667576988,"post_id":74319427,"comment_id":131206608,"body_markdown":"This is not a [MRE] and pretty much unreadable. Please [edit] the post and add a [MRE].","body":"This is not a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and pretty much unreadable. Please <a href=\"https://stackoverflow.com/posts/74319427/edit\">edit</a> the post and add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":1542606,"reputation":31,"user_id":1436883,"display_name":"user1436883"},"score":0,"creation_date":1667587749,"post_id":74319427,"comment_id":131210176,"body_markdown":"i edited the post, i added some code snippets that illustrate the problem.","body":"i edited the post, i added some code snippets that illustrate the problem."}],"answers":[{"tags":[],"owner":{"account_id":4366083,"reputation":56,"user_id":3561849,"display_name":"Randy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667576185,"creation_date":1667576185,"answer_id":74319465,"question_id":74319427,"body_markdown":"You could check in the setter of the field if a id is set, and throw an error if it is called.\r\n\r\nBut updatable=false should work","title":"JPA column updatable=false","body":"<p>You could check in the setter of the field if a id is set, and throw an error if it is called.</p>\n<p>But updatable=false should work</p>\n"}],"owner":{"account_id":1542606,"reputation":31,"user_id":1436883,"display_name":"user1436883"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667588035,"creation_date":1667576020,"question_id":74319427,"body_markdown":"i have a simple POJO (field1, field2, field3), i use Hibernate for ORM, and i have a basic need : \r\ni should never update the field3 in DB. once a row is inserted the first time, when i call a repo to fetch an object by id (findById), even if i call the setter for field3 (setField3()), the call to save method should throw an error or an exception specifying that i am trying to update field3 and i should not.\r\ni don&#39;t know if hibernate can handle this need or if i have to implement custom method to do that.\r\nPS : i tried this `@Column(name = &quot;field3&quot;, updatable = false)` and when i fetch and set another value for field3, the call to save succeeds and updates my entity.\r\n\r\nmy pojo : \r\n\r\n    public class Application extends AbstractAuditingEntity&lt;Long&gt; {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        @Column(name = &quot;ins&quot;, updatable = false)\r\n        private String ins;\r\n    }\r\n\r\nmy test to reproduce the problem : \r\n\r\n    @Test\r\n    void updateIns_ShouldThrowError(){\r\n        Optional&lt;Application&gt; parka = this.applicationRepository.findById(300L);\r\n        assertThat(parka.isPresent());\r\n        Application parkaApp = parka.get();\r\n        parkaApp.setIns(&quot;ins-update&quot;);\r\n        this.applicationRepository.save(parkaApp);\r\n        parka = this.applicationRepository.findById(300L);\r\n        assertThat(parka.isPresent());\r\n        parkaApp = parka.get();\r\n        assertThat(parkaApp.getIns()).isEqualTo(&quot;ins-update&quot;);\r\n    }\r\n\r\nthe test passes, i am able to update the field &quot;ins&quot;.\r\n\r\n\r\n","title":"JPA column updatable=false","body":"<p>i have a simple POJO (field1, field2, field3), i use Hibernate for ORM, and i have a basic need :\ni should never update the field3 in DB. once a row is inserted the first time, when i call a repo to fetch an object by id (findById), even if i call the setter for field3 (setField3()), the call to save method should throw an error or an exception specifying that i am trying to update field3 and i should not.\ni don't know if hibernate can handle this need or if i have to implement custom method to do that.\nPS : i tried this <code>@Column(name = &quot;field3&quot;, updatable = false)</code> and when i fetch and set another value for field3, the call to save succeeds and updates my entity.</p>\n<p>my pojo :</p>\n<pre><code>public class Application extends AbstractAuditingEntity&lt;Long&gt; {\n\n    private static final long serialVersionUID = 1L;\n\n    @Column(name = &quot;ins&quot;, updatable = false)\n    private String ins;\n}\n</code></pre>\n<p>my test to reproduce the problem :</p>\n<pre><code>@Test\nvoid updateIns_ShouldThrowError(){\n    Optional&lt;Application&gt; parka = this.applicationRepository.findById(300L);\n    assertThat(parka.isPresent());\n    Application parkaApp = parka.get();\n    parkaApp.setIns(&quot;ins-update&quot;);\n    this.applicationRepository.save(parkaApp);\n    parka = this.applicationRepository.findById(300L);\n    assertThat(parka.isPresent());\n    parkaApp = parka.get();\n    assertThat(parkaApp.getIns()).isEqualTo(&quot;ins-update&quot;);\n}\n</code></pre>\n<p>the test passes, i am able to update the field &quot;ins&quot;.</p>\n"},{"tags":["java","cmd","printing","ansi-colors","java-print"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667577404,"post_id":74319252,"comment_id":131206762,"body_markdown":"Yes, that&#39;s not surprising. I don&#39;t think that&#39;s supported anymore. You might get on better in Powershell (it *can* do colour) but it might use a different mechanism","body":"Yes, that&#39;s not surprising. I don&#39;t think that&#39;s supported anymore. You might get on better in Powershell (it <i>can</i> do colour) but it might use a different mechanism"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1667582845,"post_id":74319252,"comment_id":131208829,"body_markdown":"ANSI support in Windows is only enabled if the executable has been marked with a special flag or the program actively calls a dedicated operating system function to enable the support. Neither applies to the standard `java.exe`. The linked article also doesn’t mention that this support only exists in Windows 10 version 1511 or newer. It simply ran the example in IntelliJ, most probably, and never tried a CMD terminal.","body":"ANSI support in Windows is only enabled if the executable has been marked with a special flag or the program actively calls a dedicated operating system function to enable the support. Neither applies to the standard <code>java.exe</code>. The linked article also doesn’t mention that this support only exists in Windows 10 version 1511 or newer. It simply ran the example in IntelliJ, most probably, and never tried a CMD terminal."},{"owner":{"account_id":3692224,"reputation":46725,"user_id":3074564,"display_name":"Mofi"},"score":0,"creation_date":1667586493,"post_id":74319252,"comment_id":131209835,"body_markdown":"Look on the results of the Stack Overflow search [[java\\] Windows console output color*](https://stackoverflow.com/search?q=%5Bjava%5D+Windows+console+output+color*). For getting more knowledge about the Windows console read the Microsoft documentations [Classic Console APIs versus Virtual Terminal Sequences](https://learn.microsoft.com/en-us/windows/console/classic-vs-vt) and [Console Functions](https://learn.microsoft.com/en-us/windows/console/console-functions) and [Console Virtual Terminal Sequences](https://learn.microsoft.com/en-us/windows/console/console-virtual-terminal-sequences).","body":"Look on the results of the Stack Overflow search <a href=\"https://stackoverflow.com/search?q=%5Bjava%5D+Windows+console+output+color%2A\">[java&#93; Windows console output color*</a>. For getting more knowledge about the Windows console read the Microsoft documentations <a href=\"https://learn.microsoft.com/en-us/windows/console/classic-vs-vt\" rel=\"nofollow noreferrer\">Classic Console APIs versus Virtual Terminal Sequences</a> and <a href=\"https://learn.microsoft.com/en-us/windows/console/console-functions\" rel=\"nofollow noreferrer\">Console Functions</a> and <a href=\"https://learn.microsoft.com/en-us/windows/console/console-virtual-terminal-sequences\" rel=\"nofollow noreferrer\">Console Virtual Terminal Sequences</a>."}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1696001153,"post_id":74321619,"comment_id":136102329,"body_markdown":"@user85421 that’s an option if you own the computer your software is running on. When you’re developing software to be deployed to other people’s systems, the software has to resort to the less intrusive alternatives.","body":"@user85421 that’s an option if you own the computer your software is running on. When you’re developing software to be deployed to other people’s systems, the software has to resort to the less intrusive alternatives."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1667587208,"creation_date":1667587208,"answer_id":74321619,"question_id":74319252,"body_markdown":"ANSI support for the Windows CMD terminal is only available with Windows 10 version 1511 or newer. But even then, it’s not enable by default, for compatibility reasons. Native executables must have been marked as using ANSI or explicitly invoke a dedicated Windows function to enable ANSI support.\r\n\r\nNeither applies to `java.exe`. Therefore, you don’t get ANSI support.\r\n\r\nYou could work-around this by delegating the printing to another software which has ANSI support enable, like the `echo` command.\r\n\r\n```java\r\nimport java.io.IOException;\r\n\r\npublic class ConsoleOutput {\r\n    public static final String ANSI_RESET_ALL = &quot;\\33[0m&quot;;\r\n    public static final String ANSI_YELLOW_FG = &quot;\\33[33m&quot;;\r\n    public static final String ANSI_RESET_FG = &quot;\\33[39m&quot;;\r\n\r\n    // Main driver method\r\n    public static void main(String[] args) {\r\n        // Printing the text on console prior adding\r\n        // the desired color\r\n        println(ANSI_YELLOW_FG + &quot;This text is yellow&quot; + ANSI_RESET_FG);\r\n        println(&quot;This is normal color&quot;);\r\n    }\r\n\r\n    static void println(String s) {\r\n        try {\r\n            new ProcessBuilder(&quot;cmd&quot;, &quot;/c&quot;, &quot;echo &quot; + s).inheritIO().start().waitFor();\r\n        } catch (InterruptedException|IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```\r\nFor large text fragments, you could dump them into a temporary file and use the `type` command to transfer them to the terminal.\r\n\r\n---\r\nFuture Java versions will come with support to invoke native functions without the need for native helper code, like a JNI stub. With JDK&#160;19’s preview version, the code to enable ANSI from within Java would look like\r\n\r\n```java\r\nimport java.lang.foreign.*;\r\nimport java.lang.invoke.*;\r\n\r\npublic class ConsoleOutput {\r\n    public static final String ANSI_RESET_ALL = &quot;\\33[0m&quot;;\r\n    public static final String ANSI_YELLOW_FG = &quot;\\33[33m&quot;;\r\n    public static final String ANSI_RESET_FG = &quot;\\33[39m&quot;;\r\n\r\n    public static void main(String[] args) {\r\n        if(initANSI()) System.out.println(&quot;ANSI should now work&quot;);\r\n        System.out.println(ANSI_YELLOW_FG + &quot;This text is yellow&quot; + ANSI_RESET_FG);\r\n        System.out.println(&quot;This is normal color&quot;);\r\n    }\r\n    static boolean initANSI() {\r\n        try {\r\n            SymbolLookup sl = SymbolLookup.libraryLookup(&quot;kernel32.dll&quot;, MemorySession.global());\r\n            Linker linker = Linker.nativeLinker();\r\n            MethodHandle GetStdHandle = linker.downcallHandle(sl.lookup(&quot;GetStdHandle&quot;).get(),\r\n                FunctionDescriptor.of(ValueLayout.ADDRESS, ValueLayout.JAVA_INT)\r\n            );\r\n            MethodHandle SetConsoleMode = linker.downcallHandle(sl.lookup(&quot;SetConsoleMode&quot;).get(),\r\n                FunctionDescriptor.of(ValueLayout.JAVA_BOOLEAN, ValueLayout.ADDRESS, ValueLayout.JAVA_INT)\r\n            );\r\n            Addressable a = (MemoryAddress) GetStdHandle.invokeExact(STD_OUTPUT_HANDLE);\r\n            return (boolean)SetConsoleMode.invokeExact(a,\r\n                ENABLE_PROCESSED_OUTPUT|ENABLE_VIRTUAL_TERMINAL_PROCESSING);\r\n        } catch (RuntimeException | Error unchecked) {\r\n            throw unchecked;\r\n        } catch(Throwable e) {\r\n            throw new AssertionError(e);\r\n        }\r\n    }\r\n    static final int STD_OUTPUT_HANDLE = -11,\r\n        ENABLE_PROCESSED_OUTPUT = 0x0001, ENABLE_VIRTUAL_TERMINAL_PROCESSING = 0x0004;\r\n}\r\n```\r\n","title":"Printing ANSI color codes in java works on VS Code terminal but not in CMD?","body":"<p>ANSI support for the Windows CMD terminal is only available with Windows 10 version 1511 or newer. But even then, it’s not enable by default, for compatibility reasons. Native executables must have been marked as using ANSI or explicitly invoke a dedicated Windows function to enable ANSI support.</p>\n<p>Neither applies to <code>java.exe</code>. Therefore, you don’t get ANSI support.</p>\n<p>You could work-around this by delegating the printing to another software which has ANSI support enable, like the <code>echo</code> command.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\n\npublic class ConsoleOutput {\n    public static final String ANSI_RESET_ALL = &quot;\\33[0m&quot;;\n    public static final String ANSI_YELLOW_FG = &quot;\\33[33m&quot;;\n    public static final String ANSI_RESET_FG = &quot;\\33[39m&quot;;\n\n    // Main driver method\n    public static void main(String[] args) {\n        // Printing the text on console prior adding\n        // the desired color\n        println(ANSI_YELLOW_FG + &quot;This text is yellow&quot; + ANSI_RESET_FG);\n        println(&quot;This is normal color&quot;);\n    }\n\n    static void println(String s) {\n        try {\n            new ProcessBuilder(&quot;cmd&quot;, &quot;/c&quot;, &quot;echo &quot; + s).inheritIO().start().waitFor();\n        } catch (InterruptedException|IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>For large text fragments, you could dump them into a temporary file and use the <code>type</code> command to transfer them to the terminal.</p>\n<hr />\n<p>Future Java versions will come with support to invoke native functions without the need for native helper code, like a JNI stub. With JDK 19’s preview version, the code to enable ANSI from within Java would look like</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.foreign.*;\nimport java.lang.invoke.*;\n\npublic class ConsoleOutput {\n    public static final String ANSI_RESET_ALL = &quot;\\33[0m&quot;;\n    public static final String ANSI_YELLOW_FG = &quot;\\33[33m&quot;;\n    public static final String ANSI_RESET_FG = &quot;\\33[39m&quot;;\n\n    public static void main(String[] args) {\n        if(initANSI()) System.out.println(&quot;ANSI should now work&quot;);\n        System.out.println(ANSI_YELLOW_FG + &quot;This text is yellow&quot; + ANSI_RESET_FG);\n        System.out.println(&quot;This is normal color&quot;);\n    }\n    static boolean initANSI() {\n        try {\n            SymbolLookup sl = SymbolLookup.libraryLookup(&quot;kernel32.dll&quot;, MemorySession.global());\n            Linker linker = Linker.nativeLinker();\n            MethodHandle GetStdHandle = linker.downcallHandle(sl.lookup(&quot;GetStdHandle&quot;).get(),\n                FunctionDescriptor.of(ValueLayout.ADDRESS, ValueLayout.JAVA_INT)\n            );\n            MethodHandle SetConsoleMode = linker.downcallHandle(sl.lookup(&quot;SetConsoleMode&quot;).get(),\n                FunctionDescriptor.of(ValueLayout.JAVA_BOOLEAN, ValueLayout.ADDRESS, ValueLayout.JAVA_INT)\n            );\n            Addressable a = (MemoryAddress) GetStdHandle.invokeExact(STD_OUTPUT_HANDLE);\n            return (boolean)SetConsoleMode.invokeExact(a,\n                ENABLE_PROCESSED_OUTPUT|ENABLE_VIRTUAL_TERMINAL_PROCESSING);\n        } catch (RuntimeException | Error unchecked) {\n            throw unchecked;\n        } catch(Throwable e) {\n            throw new AssertionError(e);\n        }\n    }\n    static final int STD_OUTPUT_HANDLE = -11,\n        ENABLE_PROCESSED_OUTPUT = 0x0001, ENABLE_VIRTUAL_TERMINAL_PROCESSING = 0x0004;\n}\n</code></pre>\n"}],"owner":{"account_id":13511631,"reputation":11,"user_id":9747687,"display_name":"Annas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1015,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1667587208,"creation_date":1667575102,"question_id":74319252,"body_markdown":"I wanted to Print Colored Text in Java Console. I have Ran the following code in VSCode and it Runs fine and its not working in CMD.\r\n\r\nThe java Code:\r\n`\r\n```\r\n    \r\n// Java Program to Print Colored Text in Console\r\n  \r\n// Importing input output classes\r\nimport java.io.*;\r\n  \r\n// Main class\r\npublic class GFG {\r\n  \r\n    // Declaring ANSI_RESET so that we can reset the color\r\n    public static final String ANSI_RESET = &quot;\\u001B[0m&quot;;\r\n  \r\n    // Declaring the color\r\n    // Custom declaration\r\n    public static final String ANSI_YELLOW = &quot;\\u001B[33m&quot;;\r\n  \r\n    // Main driver method\r\n    public static void main(String[] args)\r\n    {\r\n        // Printing the text on console prior adding\r\n        // the desired color\r\n        System.out.println(ANSI_YELLOW + &quot;This text is yellow&quot; + ANSI_RESET);\r\n    }\r\n}\r\n\r\n    \r\n```\r\n`  \r\nSource: https://www.geeksforgeeks.org/how-to-print-colored-text-in-java-console/\r\n\r\nRunning the code in windows CMD terminal it shows: \r\n\r\n\r\n```\r\nD:\\CodeSpaceOfline\\sudocu&gt;java sudoco.java  \r\n  ←[31mThis text is yellow←[0m`\r\n```\r\n\r\n","title":"Printing ANSI color codes in java works on VS Code terminal but not in CMD?","body":"<p>I wanted to Print Colored Text in Java Console. I have Ran the following code in VSCode and it Runs fine and its not working in CMD.</p>\n<p>The java Code:\n`</p>\n<pre><code>    \n// Java Program to Print Colored Text in Console\n  \n// Importing input output classes\nimport java.io.*;\n  \n// Main class\npublic class GFG {\n  \n    // Declaring ANSI_RESET so that we can reset the color\n    public static final String ANSI_RESET = &quot;\\u001B[0m&quot;;\n  \n    // Declaring the color\n    // Custom declaration\n    public static final String ANSI_YELLOW = &quot;\\u001B[33m&quot;;\n  \n    // Main driver method\n    public static void main(String[] args)\n    {\n        // Printing the text on console prior adding\n        // the desired color\n        System.out.println(ANSI_YELLOW + &quot;This text is yellow&quot; + ANSI_RESET);\n    }\n}\n\n    \n</code></pre>\n<p>`<br />\nSource: <a href=\"https://www.geeksforgeeks.org/how-to-print-colored-text-in-java-console/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/how-to-print-colored-text-in-java-console/</a></p>\n<p>Running the code in windows CMD terminal it shows:</p>\n<pre><code>D:\\CodeSpaceOfline\\sudocu&gt;java sudoco.java  \n  ←[31mThis text is yellow←[0m`\n</code></pre>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1667587472,"post_id":74321318,"comment_id":131210098,"body_markdown":"You should *never* manually create an activity instance like `new MainActivity()`","body":"You should <i>never</i> manually create an activity instance like <code>new MainActivity()</code>"}],"answers":[{"tags":[],"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667586967,"creation_date":1667586967,"answer_id":74321575,"question_id":74321318,"body_markdown":"`runOnUiThread` does not give you access to any underlying view, it just runs on a thread that is responsible for rendering UI.\r\n\r\nThe idea behind it is correct though. You need to have some way to reference an element from the activity.\r\n\r\nCreate some interface with a callback function and create an instance in the activity.\r\n\r\n    interface OnItemClickListener {\r\n        void onItemClick(/* Here have an argument that you want to pass from RecyclerView*/);\r\n    }\r\n\r\nActivity implementation:\r\n\r\n    private OnItemClickListener mListener = new OnItemClickListener () {\r\n        @Override\r\n        public void onItemClick(String message) { // e.g. message\r\n            //setImage();\r\n        }\r\n    };\r\n\r\nAnd just pass it in the constructor of the adapter and store it.\r\n\r\n    new *****Adapter(..., listener)\r\n\r\n    class ****Adapter {\r\n\r\n        private OnItemClickListener mListener;\r\n\r\nAnd just invoke it in the onClickListener that you set there:\r\n\r\n    holder.itemView.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View view) {\r\n            listener.onItemClick(&quot;message&quot;);\r\n        }\r\n    });","title":"Execute MainActivity method inside recyclerView","body":"<p><code>runOnUiThread</code> does not give you access to any underlying view, it just runs on a thread that is responsible for rendering UI.</p>\n<p>The idea behind it is correct though. You need to have some way to reference an element from the activity.</p>\n<p>Create some interface with a callback function and create an instance in the activity.</p>\n<pre><code>interface OnItemClickListener {\n    void onItemClick(/* Here have an argument that you want to pass from RecyclerView*/);\n}\n</code></pre>\n<p>Activity implementation:</p>\n<pre><code>private OnItemClickListener mListener = new OnItemClickListener () {\n    @Override\n    public void onItemClick(String message) { // e.g. message\n        //setImage();\n    }\n};\n</code></pre>\n<p>And just pass it in the constructor of the adapter and store it.</p>\n<pre><code>new *****Adapter(..., listener)\n\nclass ****Adapter {\n\n    private OnItemClickListener mListener;\n</code></pre>\n<p>And just invoke it in the onClickListener that you set there:</p>\n<pre><code>holder.itemView.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n        listener.onItemClick(&quot;message&quot;);\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":26642746,"reputation":5,"user_id":20258140,"display_name":"Cristian Nascimento"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74321575,"answer_count":1,"score":0,"last_activity_date":1667586967,"creation_date":1667585426,"question_id":74321318,"body_markdown":"I have a Layout as an image and a recyclerView below the image, I want the image to change when the user clicks on one of the elements in the list.\r\n\r\nI tried to do it this way, but it didn&#39;t work:\r\n\r\n**Method to change the image that is in MainActivity**\r\n\r\n`\r\n```\r\n    public void setImagem (){\r\n\r\n    runOnUiThread(new Runnable() {\r\n\r\n        public void run() {\r\n\r\n            imageView.setImageResource(R.drawable.cascatinha);\r\n\r\n        }\r\n    });\r\n\r\n}\r\n```\r\n`\r\n**onClick method inside the recyclerView**\r\n\r\n`\r\n```\r\n        holder.itemView.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View view) {\r\n            MainActivity mainActivity = new MainActivity();\r\n            mainActivity.setImagem();\r\n\r\n\r\n        }\r\n    });\r\n```\r\n`\r\n\r\n\r\nWhen I click on one of the elements, the app closes and this error message appears:\r\n\r\n\r\n```\r\njava.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.ImageView.setImageResource(int)&#39; on a null object reference\r\n\r\n```\r\n\r\n","title":"Execute MainActivity method inside recyclerView","body":"<p>I have a Layout as an image and a recyclerView below the image, I want the image to change when the user clicks on one of the elements in the list.</p>\n<p>I tried to do it this way, but it didn't work:</p>\n<p><strong>Method to change the image that is in MainActivity</strong></p>\n<p>`</p>\n<pre><code>    public void setImagem (){\n\n    runOnUiThread(new Runnable() {\n\n        public void run() {\n\n            imageView.setImageResource(R.drawable.cascatinha);\n\n        }\n    });\n\n}\n</code></pre>\n<p>`\n<strong>onClick method inside the recyclerView</strong></p>\n<p>`</p>\n<pre><code>        holder.itemView.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            MainActivity mainActivity = new MainActivity();\n            mainActivity.setImagem();\n\n\n        }\n    });\n</code></pre>\n<p>`</p>\n<p>When I click on one of the elements, the app closes and this error message appears:</p>\n<pre><code>java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.ImageView.setImageResource(int)' on a null object reference\n\n</code></pre>\n"},{"tags":["java","var","lombok","java-10"],"comments":[{"owner":{"account_id":11425126,"reputation":2515,"user_id":8375503,"display_name":"kumesana"},"score":1,"creation_date":1565097406,"post_id":57376875,"comment_id":101238343,"body_markdown":"When developers use unhelpful names, there is not much that will work. Many languages things are made available mostly for the people who name things like they should be. var is a nice fresh breeze over `List&lt;LocalDate&gt;` and what else is a variable &quot;dates&quot; going to be, in the context where what you need to deal with is an ordered sequence of dates?","body":"When developers use unhelpful names, there is not much that will work. Many languages things are made available mostly for the people who name things like they should be. var is a nice fresh breeze over <code>List&lt;LocalDate&gt;</code> and what else is a variable &quot;dates&quot; going to be, in the context where what you need to deal with is an ordered sequence of dates?"},{"owner":{"account_id":12234680,"reputation":763,"user_id":8929501,"display_name":"Matt Berteaux"},"score":1,"creation_date":1565098001,"post_id":57376875,"comment_id":101238729,"body_markdown":"Java 10 added the var keyword to the language, so the usage is likely to only increase. It is mostly just a way to decrease the verbosity and redundancy of having to specify the type. That said, it can make things a bit more unclear when reading the code. I suspect that best practices will develop around it as it is used more.","body":"Java 10 added the var keyword to the language, so the usage is likely to only increase. It is mostly just a way to decrease the verbosity and redundancy of having to specify the type. That said, it can make things a bit more unclear when reading the code. I suspect that best practices will develop around it as it is used more."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1565098013,"post_id":57376875,"comment_id":101238735,"body_markdown":"&quot;if you use lombok&#39;s var you will be tightly coupled with lombok&quot; Lombok ships with delombok, a tool which strips out all Lombok usage. So no, you code will not be tightly coupled to Lombok. You can remove it whenever you want.","body":"&quot;if you use lombok&#39;s var you will be tightly coupled with lombok&quot; Lombok ships with delombok, a tool which strips out all Lombok usage. So no, you code will not be tightly coupled to Lombok. You can remove it whenever you want."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1565098331,"post_id":57376875,"comment_id":101238947,"body_markdown":"It&#39;s most useful when you are using the `new` operator. `List&lt;String&gt; foo = new ArrayList&lt;&gt;()` becomes `var foo = new ArrayList&lt;String&gt;()`. The type is unambiguous but Java&#39;s classic syntax requires that I repeat myself. When using `var`, I don&#39;t have to.","body":"It&#39;s most useful when you are using the <code>new</code> operator. <code>List&lt;String&gt; foo = new ArrayList&lt;&gt;()</code> becomes <code>var foo = new ArrayList&lt;String&gt;()</code>. The type is unambiguous but Java&#39;s classic syntax requires that I repeat myself. When using <code>var</code>, I don&#39;t have to."}],"answers":[{"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":6,"creation_date":1565098410,"post_id":57377128,"comment_id":101238996,"body_markdown":"I agree. My rule of thumb is to only use `var` in conjunction with `new`. In any other situation, it introduces ambiguity which I&#39;d rather avoid.","body":"I agree. My rule of thumb is to only use <code>var</code> in conjunction with <code>new</code>. In any other situation, it introduces ambiguity which I&#39;d rather avoid."},{"owner":{"account_id":1857245,"reputation":9188,"user_id":1682559,"accept_rate":80,"display_name":"Kevin Cruijssen"},"score":0,"creation_date":1565098565,"post_id":57377128,"comment_id":101239118,"body_markdown":"@Michael Yeah, that&#39;s how I also felt about the diamond operator of Java 7, as I mentioned at the bottom. Our applications at work are currently still in Java 8, so I haven&#39;t had to work with `var` in a developer situation yet, but I can indeed see it being used at some direct initialization of variables. [It&#39;s also mentioned at the bottom of the C# .NET page I linked (section &quot;_How I Use `var` and Suggest You Do As Well_&quot;).](https://intellitect.com/when-to-use-and-not-use-var-in-c/).","body":"@Michael Yeah, that&#39;s how I also felt about the diamond operator of Java 7, as I mentioned at the bottom. Our applications at work are currently still in Java 8, so I haven&#39;t had to work with <code>var</code> in a developer situation yet, but I can indeed see it being used at some direct initialization of variables. <a href=\"https://intellitect.com/when-to-use-and-not-use-var-in-c/\" rel=\"nofollow noreferrer\">It&#39;s also mentioned at the bottom of the C# .NET page I linked (section &quot;<i>How I Use <code>var</code> and Suggest You Do As Well</i>&quot;).</a>."},{"owner":{"account_id":6295688,"reputation":347,"user_id":4891964,"accept_rate":67,"display_name":"Dawid"},"score":0,"creation_date":1672996113,"post_id":57377128,"comment_id":132402932,"body_markdown":"@KevinCruijssen you can actually use `var` when declaring any class with diamond operator, you have to only declare type on the right side, `var names = new ArrayList&lt;String&gt;();`","body":"@KevinCruijssen you can actually use <code>var</code> when declaring any class with diamond operator, you have to only declare type on the right side, <code>var names = new ArrayList&lt;String&gt;();</code>"}],"tags":[],"owner":{"account_id":1857245,"reputation":9188,"user_id":1682559,"accept_rate":80,"display_name":"Kevin Cruijssen"},"comment_count":3,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1667586950,"creation_date":1565097857,"answer_id":57377128,"question_id":57376875,"body_markdown":"### Arguments in favor of `var`:\r\n\r\n- `var` requires less typing. It&#39;s shorter and sometimes easier to read than let&#39;s say `Map&lt;Integer, ArrayList&lt;String&gt;&gt;`.\r\n- `var` requires less code changes if a return-type of a method call changes. You only have to change the method call, but not every place it&#39;s used.\r\n- `var` encourages a more descriptive name for variables. I.e. `var customer = new Customer();` rather than `var c = new Customer();`.\r\n- When you have multiple variable under one another of different types, the names all line up if they&#39;re all `var`, which wouldn&#39;t be the case with the types itself (unless the types coincidentally all have the same length).\r\n\r\n### Arguments against `var`:\r\n\r\n- `var` obscures the actual variable type. If the initializer doesn&#39;t return a clearly defined type, you may not be able to tell a variable&#39;s type.\r\n- Using `var` is lazy. Although `var` is certainly easier to type than `Map&lt;Integer, ArrayList&lt;String&gt;&gt;`, if the variable name isn&#39;t named well, you&#39;d have to search a lot deeper in order to know what it refers to.\r\n- `var` makes it harder to know what the type of the underlying variable actually is.\r\n- You can&#39;t use `var` in all cases. Like:\r\n    - `var i = 1, j = 2;` - Only one variable is accepted for `var` at a time.\r\n    - `var arr = {1, 2, 3};` - Arrays must be explicitly declared.\r\n    - `var f = a -&gt; a + &quot; &quot;;` - It cannot determine what type this lambda function is.\r\n    - `var f = String::replace;` - Method references cannot be used, because they don&#39;t have a type of itself. [More info here.](https://stackoverflow.com/questions/49578553/why-cant-the-var-keyword-in-java-be-assigned-a-lambda-expression/49578603#49578603)\r\n\r\nMost of these are taken from [this post for when to use `var` in .NET C#](https://intellitect.com/when-to-use-and-not-use-var-in-c/), where the `var` keyword has been present since the beginning, whereas with Java it&#39;s only available since version 10.\r\n\r\nOh, and another big advantage of `var`: it&#39;s shorter for [code-golfing](https://codegolf.stackexchange.com/tags/code-golf/info) (creating a program/function which does a certain task/challenge with as few bytes as possible). :) Probably the main reason why I don&#39;t mind that it was added, since I codegolf in Java (as well as .NET C#, 05AB1E, and Whitespace) pretty often.\r\n\r\nRelated: Java 7&#39;s diamond operator. `List&lt;String&gt; names = new ArrayList&lt;&gt;();` vs `List&lt;String&gt; names = new ArrayList&lt;String&gt;();`.\r\n\r\nPersonally I still use written out types instead of `var`, except for code-golfing. But maybe I just need to get used to it a bit more before using it more often. For readability, and making it clearer and easier to see the type without having to dig, I don&#39;t use `var` at all. As for Java 7&#39;s diamond operator, I only use it when I instantiate it directly after the field, but would not when I instantiate it elsewhere (i.e. I would use `List&lt;String&gt; names = new ArrayList&lt;&gt;();`, but not `List&lt;String&gt; names; /* ... some code here ...*/ names = new ArrayList&lt;&gt;();`).  \r\nIn general it all comes down to preference, though.","title":"Use cases when Lombok or Java &#39;var&#39; is useful","body":"<h3>Arguments in favor of <code>var</code>:</h3>\n<ul>\n<li><code>var</code> requires less typing. It's shorter and sometimes easier to read than let's say <code>Map&lt;Integer, ArrayList&lt;String&gt;&gt;</code>.</li>\n<li><code>var</code> requires less code changes if a return-type of a method call changes. You only have to change the method call, but not every place it's used.</li>\n<li><code>var</code> encourages a more descriptive name for variables. I.e. <code>var customer = new Customer();</code> rather than <code>var c = new Customer();</code>.</li>\n<li>When you have multiple variable under one another of different types, the names all line up if they're all <code>var</code>, which wouldn't be the case with the types itself (unless the types coincidentally all have the same length).</li>\n</ul>\n<h3>Arguments against <code>var</code>:</h3>\n<ul>\n<li><code>var</code> obscures the actual variable type. If the initializer doesn't return a clearly defined type, you may not be able to tell a variable's type.</li>\n<li>Using <code>var</code> is lazy. Although <code>var</code> is certainly easier to type than <code>Map&lt;Integer, ArrayList&lt;String&gt;&gt;</code>, if the variable name isn't named well, you'd have to search a lot deeper in order to know what it refers to.</li>\n<li><code>var</code> makes it harder to know what the type of the underlying variable actually is.</li>\n<li>You can't use <code>var</code> in all cases. Like:\n<ul>\n<li><code>var i = 1, j = 2;</code> - Only one variable is accepted for <code>var</code> at a time.</li>\n<li><code>var arr = {1, 2, 3};</code> - Arrays must be explicitly declared.</li>\n<li><code>var f = a -&gt; a + &quot; &quot;;</code> - It cannot determine what type this lambda function is.</li>\n<li><code>var f = String::replace;</code> - Method references cannot be used, because they don't have a type of itself. <a href=\"https://stackoverflow.com/questions/49578553/why-cant-the-var-keyword-in-java-be-assigned-a-lambda-expression/49578603#49578603\">More info here.</a></li>\n</ul>\n</li>\n</ul>\n<p>Most of these are taken from <a href=\"https://intellitect.com/when-to-use-and-not-use-var-in-c/\" rel=\"nofollow noreferrer\">this post for when to use <code>var</code> in .NET C#</a>, where the <code>var</code> keyword has been present since the beginning, whereas with Java it's only available since version 10.</p>\n<p>Oh, and another big advantage of <code>var</code>: it's shorter for <a href=\"https://codegolf.stackexchange.com/tags/code-golf/info\">code-golfing</a> (creating a program/function which does a certain task/challenge with as few bytes as possible). :) Probably the main reason why I don't mind that it was added, since I codegolf in Java (as well as .NET C#, 05AB1E, and Whitespace) pretty often.</p>\n<p>Related: Java 7's diamond operator. <code>List&lt;String&gt; names = new ArrayList&lt;&gt;();</code> vs <code>List&lt;String&gt; names = new ArrayList&lt;String&gt;();</code>.</p>\n<p>Personally I still use written out types instead of <code>var</code>, except for code-golfing. But maybe I just need to get used to it a bit more before using it more often. For readability, and making it clearer and easier to see the type without having to dig, I don't use <code>var</code> at all. As for Java 7's diamond operator, I only use it when I instantiate it directly after the field, but would not when I instantiate it elsewhere (i.e. I would use <code>List&lt;String&gt; names = new ArrayList&lt;&gt;();</code>, but not <code>List&lt;String&gt; names; /* ... some code here ...*/ names = new ArrayList&lt;&gt;();</code>).<br />\nIn general it all comes down to preference, though.</p>\n"}],"owner":{"account_id":13998803,"reputation":125,"user_id":10110957,"display_name":"JavaDev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6402,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"closed_date":1565098069,"accepted_answer_id":57377128,"answer_count":1,"score":7,"last_activity_date":1667586950,"creation_date":1565097069,"question_id":57376875,"body_markdown":"`var` is not very handful when you&#39;re navigating through the code and investigating the code which is not clear at the first look.\r\n\r\nWhen developers use not self-describing methods names you have to spend some time to understand what is real type of the variable. And if you use Lombok&#39;s `var` you will be tightly coupled with [Lombok][1], so I do not use it very often in my code.\r\n\r\nWhat are the useful use cases for using `var` in Java?\r\n\r\n\r\n  [1]: https://projectlombok.org/","title":"Use cases when Lombok or Java &#39;var&#39; is useful","body":"<p><code>var</code> is not very handful when you're navigating through the code and investigating the code which is not clear at the first look.</p>\n<p>When developers use not self-describing methods names you have to spend some time to understand what is real type of the variable. And if you use Lombok's <code>var</code> you will be tightly coupled with <a href=\"https://projectlombok.org/\" rel=\"nofollow noreferrer\">Lombok</a>, so I do not use it very often in my code.</p>\n<p>What are the useful use cases for using <code>var</code> in Java?</p>\n"},{"tags":["java","amazon-web-services","amazon-s3"],"comments":[{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":5,"creation_date":1320622501,"post_id":8027265,"comment_id":9832003,"body_markdown":"The question should be edited to provide the S3 package and version that you are using.","body":"The question should be edited to provide the S3 package and version that you are using."},{"owner":{"account_id":1323231,"reputation":1556,"user_id":2377992,"accept_rate":100,"display_name":"ybonda"},"score":0,"creation_date":1473353623,"post_id":8027265,"comment_id":66118817,"body_markdown":"This worked for me: http://codeflex.co/get-list-of-objects-from-s3-directory/","body":"This worked for me: <a href=\"http://codeflex.co/get-list-of-objects-from-s3-directory/\" rel=\"nofollow noreferrer\">codeflex.co/get-list-of-objects-from-s3-directory</a>"},{"owner":{"account_id":2248845,"reputation":7211,"user_id":1981559,"accept_rate":100,"display_name":"Przemek"},"score":0,"creation_date":1473857715,"post_id":8027265,"comment_id":66299487,"body_markdown":"How they could hardcode 1000 files limit. This is so bug prone, I need to fix my production now.","body":"How they could hardcode 1000 files limit. This is so bug prone, I need to fix my production now."},{"owner":{"account_id":10952502,"reputation":909,"user_id":8098322,"display_name":"Onkar Musale"},"score":0,"creation_date":1559221537,"post_id":8027265,"comment_id":99357974,"body_markdown":"this is also awesome link- https://www.baeldung.com/aws-s3-java","body":"this is also awesome link- <a href=\"https://www.baeldung.com/aws-s3-java\" rel=\"nofollow noreferrer\">baeldung.com/aws-s3-java</a>"},{"owner":{"account_id":12156027,"reputation":13933,"user_id":8874958,"display_name":"Kishan Solanki"},"score":0,"creation_date":1627963668,"post_id":8027265,"comment_id":121288669,"body_markdown":"One can check this if they are not able to list objects/files in a specific folder https://stackoverflow.com/a/68481553/8874958","body":"One can check this if they are not able to list objects/files in a specific folder <a href=\"https://stackoverflow.com/a/68481553/8874958\">stackoverflow.com/a/68481553/8874958</a>"}],"answers":[{"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":43,"creation_date":1320654292,"post_id":8034114,"comment_id":9835938,"body_markdown":"Doesn&#39;t look like a workaround to me, that seems to be the intended use of the API.","body":"Doesn&#39;t look like a workaround to me, that seems to be the intended use of the API."},{"owner":{"account_id":6711,"reputation":64545,"user_id":11410,"accept_rate":67,"display_name":"Benjol"},"score":6,"creation_date":1335943568,"post_id":8034114,"comment_id":13428782,"body_markdown":"Someone suggested [this](http://stackoverflow.com/suggested-edits/253044) edit to your answer, if you&#39;re interested","body":"Someone suggested <a href=\"http://stackoverflow.com/suggested-edits/253044\">this</a> edit to your answer, if you&#39;re interested"},{"owner":{"account_id":28664,"reputation":5235,"user_id":76778,"accept_rate":79,"display_name":"Fgblanch"},"score":0,"creation_date":1343909053,"post_id":8034114,"comment_id":15641098,"body_markdown":"s3.listObjects has a default limit of 1000 elements per listing, so as @JoachimSauer said this is the intended use of the API","body":"s3.listObjects has a default limit of 1000 elements per listing, so as @JoachimSauer said this is the intended use of the API"},{"owner":{"account_id":99023,"reputation":7906,"user_id":267702,"accept_rate":61,"display_name":"gonzobrains"},"score":0,"creation_date":1426801496,"post_id":8034114,"comment_id":46531871,"body_markdown":"is it possible to get version info at the same time?","body":"is it possible to get version info at the same time?"},{"owner":{"account_id":12404,"reputation":62016,"user_id":24396,"accept_rate":74,"display_name":"Steve Kuo"},"score":3,"creation_date":1445711981,"post_id":8034114,"comment_id":54441619,"body_markdown":"This makes the dangerous assumption that the `List` returned by `getObjectSummaries()` is mutable.","body":"This makes the dangerous assumption that the <code>List</code> returned by <code>getObjectSummaries()</code> is mutable."},{"owner":{"account_id":116952,"reputation":21661,"user_id":306488,"accept_rate":78,"display_name":"lisak"},"score":0,"creation_date":1491925362,"post_id":8034114,"comment_id":73764216,"body_markdown":"Try to write a unit test for this piece of code, set maxKeys to 10 and try to list all your 20 keys, `truncated` will be false after listing those 10 keys for some reason and the unit test will fail on returning only 10 keys ...","body":"Try to write a unit test for this piece of code, set maxKeys to 10 and try to list all your 20 keys, <code>truncated</code> will be false after listing those 10 keys for some reason and the unit test will fail on returning only 10 keys ..."},{"owner":{"account_id":36915,"reputation":3723,"user_id":105408,"accept_rate":75,"display_name":"markthegrea"},"score":0,"creation_date":1560345646,"post_id":8034114,"comment_id":99705961,"body_markdown":"#Steve Kuo above is correct.  I got an exception when I tried to add to the summaries list.  I had to make my own list.","body":"#Steve Kuo above is correct.  I got an exception when I tried to add to the summaries list.  I had to make my own list."},{"owner":{"account_id":8019810,"reputation":99,"user_id":6048780,"display_name":"Veerendar Chary Munigadapa"},"score":2,"creation_date":1563788949,"post_id":8034114,"comment_id":100801684,"body_markdown":"May i know what is the prefix here?","body":"May i know what is the prefix here?"},{"owner":{"account_id":3202215,"reputation":1779,"user_id":3389700,"display_name":"shimatai"},"score":0,"creation_date":1661623440,"post_id":8034114,"comment_id":129818017,"body_markdown":"@VeerendarCharyMunigadapa `prefix` acts like a filter, but it only considers filenames starting with that string `prefix`","body":"@VeerendarCharyMunigadapa <code>prefix</code> acts like a filter, but it only considers filenames starting with that string <code>prefix</code>"}],"tags":[],"owner":{"account_id":446191,"reputation":3774,"user_id":839097,"accept_rate":65,"display_name":"Ron D."},"comment_count":9,"down_vote_count":3,"up_vote_count":143,"is_accepted":true,"score":140,"last_activity_date":1400252978,"creation_date":1320653836,"answer_id":8034114,"question_id":8027265,"body_markdown":"It might be a workaround but this solved my problem:\r\n\r\n    ObjectListing listing = s3.listObjects( bucketName, prefix );\r\n    List&lt;S3ObjectSummary&gt; summaries = listing.getObjectSummaries();\r\n\r\n    while (listing.isTruncated()) {\r\n       listing = s3.listNextBatchOfObjects (listing);\r\n       summaries.addAll (listing.getObjectSummaries());\r\n    }","title":"How to list all AWS S3 objects in a bucket using Java","body":"<p>It might be a workaround but this solved my problem:</p>\n\n<pre><code>ObjectListing listing = s3.listObjects( bucketName, prefix );\nList&lt;S3ObjectSummary&gt; summaries = listing.getObjectSummaries();\n\nwhile (listing.isTruncated()) {\n   listing = s3.listNextBatchOfObjects (listing);\n   summaries.addAll (listing.getObjectSummaries());\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1933510,"reputation":1122,"user_id":1742406,"accept_rate":60,"display_name":"CruncherBigData"},"score":5,"creation_date":1380985165,"post_id":9645002,"comment_id":28408973,"body_markdown":"as far as I can tell this solution will only take the firs 1000 kyes/files and print them. But does not further iterate for more files.","body":"as far as I can tell this solution will only take the firs 1000 kyes/files and print them. But does not further iterate for more files."}],"tags":[],"owner":{"account_id":1313239,"reputation":81,"user_id":1260768,"display_name":"jon"},"comment_count":1,"down_vote_count":5,"up_vote_count":9,"is_accepted":false,"score":4,"last_activity_date":1331367655,"creation_date":1331367655,"answer_id":9645002,"question_id":8027265,"body_markdown":"Gray your solution was strange but you seem like a nice guy. \r\n\r\n\r\n    AmazonS3Client s3Client = new AmazonS3Client(new BasicAWSCredentials( ....\r\n    \r\n    ObjectListing images = s3Client.listObjects(bucketName); \r\n    \r\n    List&lt;S3ObjectSummary&gt; list = images.getObjectSummaries();\r\n    for(S3ObjectSummary image: list) {\r\n        S3Object obj = s3Client.getObject(bucketName, image.getKey());\r\n        writeToFile(obj.getObjectContent());\r\n    }","title":"How to list all AWS S3 objects in a bucket using Java","body":"<p>Gray your solution was strange but you seem like a nice guy. </p>\n\n<pre><code>AmazonS3Client s3Client = new AmazonS3Client(new BasicAWSCredentials( ....\n\nObjectListing images = s3Client.listObjects(bucketName); \n\nList&lt;S3ObjectSummary&gt; list = images.getObjectSummaries();\nfor(S3ObjectSummary image: list) {\n    S3Object obj = s3Client.getObject(bucketName, image.getKey());\n    writeToFile(obj.getObjectContent());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":912159,"reputation":3129,"user_id":945742,"accept_rate":60,"display_name":"pedorro"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1364399047,"creation_date":1362604497,"answer_id":15258220,"question_id":8027265,"body_markdown":"As a slightly more concise solution to listing S3 objects when they might be truncated:\r\n\r\n    ListObjectsRequest request = new ListObjectsRequest().withBucketName(bucketName);\r\n    ObjectListing listing = null;\r\n    \r\n    while((listing == null) || (request.getMarker() != null)) {\r\n      listing = s3Client.listObjects(request);\r\n      // do stuff with listing\r\n      request.setMarker(listing.getNextMarker());\r\n    }","title":"How to list all AWS S3 objects in a bucket using Java","body":"<p>As a slightly more concise solution to listing S3 objects when they might be truncated:</p>\n\n<pre><code>ListObjectsRequest request = new ListObjectsRequest().withBucketName(bucketName);\nObjectListing listing = null;\n\nwhile((listing == null) || (request.getMarker() != null)) {\n  listing = s3Client.listObjects(request);\n  // do stuff with listing\n  request.setMarker(listing.getNextMarker());\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2787852,"reputation":71,"user_id":2398774,"display_name":"ninja"},"score":0,"creation_date":1561508904,"post_id":15697578,"comment_id":100084067,"body_markdown":"no u cant, only 1000 files limit, did u not read above, your solution has the same issue","body":"no u cant, only 1000 files limit, did u not read above, your solution has the same issue"}],"tags":[],"owner":{"account_id":425677,"reputation":127,"user_id":806419,"display_name":"Niraj Singh"},"comment_count":1,"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1364532901,"creation_date":1364532901,"answer_id":15697578,"question_id":8027265,"body_markdown":"Try this one out\r\n\r\n    public void getObjectList(){\r\n            System.out.println(&quot;Listing objects&quot;);\r\n            ObjectListing objectListing = s3.listObjects(new ListObjectsRequest()\r\n                    .withBucketName(bucketName)\r\n                    .withPrefix(&quot;ads&quot;));\r\n            for (S3ObjectSummary objectSummary : objectListing.getObjectSummaries()) {\r\n                System.out.println(&quot; - &quot; + objectSummary.getKey() + &quot;  &quot; +\r\n                                   &quot;(size = &quot; + objectSummary.getSize() + &quot;)&quot;);\r\n            }\r\n        }\r\n\r\nYou can all the objects within the bucket with specific prefix. ","title":"How to list all AWS S3 objects in a bucket using Java","body":"<p>Try this one out</p>\n\n<pre><code>public void getObjectList(){\n        System.out.println(\"Listing objects\");\n        ObjectListing objectListing = s3.listObjects(new ListObjectsRequest()\n                .withBucketName(bucketName)\n                .withPrefix(\"ads\"));\n        for (S3ObjectSummary objectSummary : objectListing.getObjectSummaries()) {\n            System.out.println(\" - \" + objectSummary.getKey() + \"  \" +\n                               \"(size = \" + objectSummary.getSize() + \")\");\n        }\n    }\n</code></pre>\n\n<p>You can all the objects within the bucket with specific prefix. </p>\n"},{"tags":[],"owner":{"account_id":214266,"reputation":395,"user_id":468137,"display_name":"Alberto A. Medina"},"comment_count":0,"down_vote_count":2,"up_vote_count":15,"is_accepted":false,"score":13,"last_activity_date":1371056989,"creation_date":1371056989,"answer_id":17071334,"question_id":8027265,"body_markdown":"I am processing a large collection of objects generated by our system; we changed the format of the stored data and needed to check each file, determine which ones were in the old format, and convert them. There are other ways to do this, but this one relates to your question.\r\n\r\n\t\tObjectListing list = amazonS3Client.listObjects(contentBucketName, contentKeyPrefix);\r\n\r\n\t\tdo {\t\t\t\t\r\n\t\t\r\n\t\t\tList&lt;S3ObjectSummary&gt; summaries = list.getObjectSummaries();\r\n\t\t\t\r\n\t\t\tfor (S3ObjectSummary summary : summaries) {\r\n\t\t\t\t\r\n\t\t\t\tString summaryKey = summary.getKey();\t\t\t\t\r\n\r\n\t\t\t\t/* Retrieve object */\r\n\t\t\t\t\t\r\n\t\t\t\t/* Process it */\r\n\r\n\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\tlist = amazonS3Client.listNextBatchOfObjects(list);\r\n\t\t\t\r\n\t\t}while (list.isTruncated());","title":"How to list all AWS S3 objects in a bucket using Java","body":"<p>I am processing a large collection of objects generated by our system; we changed the format of the stored data and needed to check each file, determine which ones were in the old format, and convert them. There are other ways to do this, but this one relates to your question.</p>\n\n<pre><code>    ObjectListing list = amazonS3Client.listObjects(contentBucketName, contentKeyPrefix);\n\n    do {                \n\n        List&lt;S3ObjectSummary&gt; summaries = list.getObjectSummaries();\n\n        for (S3ObjectSummary summary : summaries) {\n\n            String summaryKey = summary.getKey();               \n\n            /* Retrieve object */\n\n            /* Process it */\n\n        }\n\n        list = amazonS3Client.listNextBatchOfObjects(list);\n\n    }while (list.isTruncated());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4491878,"reputation":321,"user_id":3652779,"display_name":"user3652779"},"comment_count":0,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1400505293,"creation_date":1400505293,"answer_id":23738755,"question_id":8027265,"body_markdown":"This is direct from AWS documentation:\r\n\r\n    AmazonS3 s3client = new AmazonS3Client(new ProfileCredentialsProvider());        \r\n\r\n    ListObjectsRequest listObjectsRequest = new ListObjectsRequest()\r\n        .withBucketName(bucketName)\r\n        .withPrefix(&quot;m&quot;);\r\n    ObjectListing objectListing;\r\n    \r\n    do {\r\n        \tobjectListing = s3client.listObjects(listObjectsRequest);\r\n        \tfor (S3ObjectSummary objectSummary : \r\n        \t\tobjectListing.getObjectSummaries()) {\r\n        \t\tSystem.out.println( &quot; - &quot; + objectSummary.getKey() + &quot;  &quot; +\r\n                        &quot;(size = &quot; + objectSummary.getSize() + \r\n        \t\t\t\t&quot;)&quot;);\r\n        \t}\r\n        \tlistObjectsRequest.setMarker(objectListing.getNextMarker());\r\n    } while (objectListing.isTruncated());","title":"How to list all AWS S3 objects in a bucket using Java","body":"<p>This is direct from AWS documentation:</p>\n\n<pre><code>AmazonS3 s3client = new AmazonS3Client(new ProfileCredentialsProvider());        \n\nListObjectsRequest listObjectsRequest = new ListObjectsRequest()\n    .withBucketName(bucketName)\n    .withPrefix(\"m\");\nObjectListing objectListing;\n\ndo {\n        objectListing = s3client.listObjects(listObjectsRequest);\n        for (S3ObjectSummary objectSummary : \n            objectListing.getObjectSummaries()) {\n            System.out.println( \" - \" + objectSummary.getKey() + \"  \" +\n                    \"(size = \" + objectSummary.getSize() + \n                    \")\");\n        }\n        listObjectsRequest.setMarker(objectListing.getNextMarker());\n} while (objectListing.isTruncated());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1902646,"reputation":11741,"user_id":1718174,"accept_rate":67,"display_name":"Vini.g.fer"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1411733497,"creation_date":1411733497,"answer_id":26059268,"question_id":8027265,"body_markdown":"I know this is an old post, but this still might be usefull to anyone: The Java/Android SDK on version 2.1 provides a method called setMaxKeys. Like this:\r\n\r\n    s3objects.setMaxKeys(arg0)\r\n\r\nYou probably found a solution by now, but please check one answer as correct so that it might help others in the future.","title":"How to list all AWS S3 objects in a bucket using Java","body":"<p>I know this is an old post, but this still might be usefull to anyone: The Java/Android SDK on version 2.1 provides a method called setMaxKeys. Like this:</p>\n\n<pre><code>s3objects.setMaxKeys(arg0)\n</code></pre>\n\n<p>You probably found a solution by now, but please check one answer as correct so that it might help others in the future.</p>\n"},{"tags":[],"owner":{"account_id":3328857,"reputation":853,"user_id":2798227,"accept_rate":58,"display_name":"user2798227"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1427432192,"creation_date":1427432192,"answer_id":29293563,"question_id":8027265,"body_markdown":"This worked for me.\r\n\r\n    Thread thread = new Thread(new Runnable(){\r\n        @Override\r\n        public void run() {\r\n            try {\r\n                List&lt;String&gt; listing = getObjectNamesForBucket(bucket, s3Client);\r\n                Log.e(TAG, &quot;listing &quot;+ listing);\r\n\r\n            }\r\n            catch (Exception e) {\r\n                e.printStackTrace();\r\n                Log.e(TAG, &quot;Exception found while listing &quot;+ e);\r\n            }\r\n        }\r\n    });\r\n\r\n    thread.start();\r\n\r\n  \r\n\r\n      private List&lt;String&gt; getObjectNamesForBucket(String bucket, AmazonS3 s3Client) {\r\n            ObjectListing objects=s3Client.listObjects(bucket);\r\n            List&lt;String&gt; objectNames=new ArrayList&lt;String&gt;(objects.getObjectSummaries().size());\r\n            Iterator&lt;S3ObjectSummary&gt; oIter=objects.getObjectSummaries().iterator();\r\n            while (oIter.hasNext()) {\r\n                objectNames.add(oIter.next().getKey());\r\n            }\r\n            while (objects.isTruncated()) {\r\n                objects=s3Client.listNextBatchOfObjects(objects);\r\n                oIter=objects.getObjectSummaries().iterator();\r\n                while (oIter.hasNext()) {\r\n                    objectNames.add(oIter.next().getKey());\r\n                }\r\n            }\r\n            return objectNames;\r\n    }\r\n\r\n","title":"How to list all AWS S3 objects in a bucket using Java","body":"<p>This worked for me.</p>\n\n<pre><code>Thread thread = new Thread(new Runnable(){\n    @Override\n    public void run() {\n        try {\n            List&lt;String&gt; listing = getObjectNamesForBucket(bucket, s3Client);\n            Log.e(TAG, \"listing \"+ listing);\n\n        }\n        catch (Exception e) {\n            e.printStackTrace();\n            Log.e(TAG, \"Exception found while listing \"+ e);\n        }\n    }\n});\n\nthread.start();\n\n\n\n  private List&lt;String&gt; getObjectNamesForBucket(String bucket, AmazonS3 s3Client) {\n        ObjectListing objects=s3Client.listObjects(bucket);\n        List&lt;String&gt; objectNames=new ArrayList&lt;String&gt;(objects.getObjectSummaries().size());\n        Iterator&lt;S3ObjectSummary&gt; oIter=objects.getObjectSummaries().iterator();\n        while (oIter.hasNext()) {\n            objectNames.add(oIter.next().getKey());\n        }\n        while (objects.isTruncated()) {\n            objects=s3Client.listNextBatchOfObjects(objects);\n            oIter=objects.getObjectSummaries().iterator();\n            while (oIter.hasNext()) {\n                objectNames.add(oIter.next().getKey());\n            }\n        }\n        return objectNames;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5905895,"reputation":531,"user_id":4647701,"display_name":"Anton Bondarenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1527774282,"creation_date":1507828947,"answer_id":46715495,"question_id":8027265,"body_markdown":"Listing Keys Using the AWS SDK for Java\r\n\r\nhttp://docs.aws.amazon.com/AmazonS3/latest/dev/ListingObjectKeysUsingJava.html\r\n\r\n    import java.io.IOException;\r\n    import com.amazonaws.AmazonClientException;\r\n    import com.amazonaws.AmazonServiceException;\r\n    import com.amazonaws.auth.profile.ProfileCredentialsProvider;\r\n    import com.amazonaws.services.s3.AmazonS3;\r\n    import com.amazonaws.services.s3.AmazonS3Client;\r\n    import com.amazonaws.services.s3.model.ListObjectsRequest;\r\n    import com.amazonaws.services.s3.model.ListObjectsV2Request;\r\n    import com.amazonaws.services.s3.model.ListObjectsV2Result;\r\n    import com.amazonaws.services.s3.model.ObjectListing;\r\n    import com.amazonaws.services.s3.model.S3ObjectSummary;\r\n    \r\n    public class ListKeys {\r\n    \tprivate static String bucketName = &quot;***bucket name***&quot;;\r\n    \t\r\n    \tpublic static void main(String[] args) throws IOException {\r\n            AmazonS3 s3client = new AmazonS3Client(new ProfileCredentialsProvider());\r\n            try {\r\n                System.out.println(&quot;Listing objects&quot;);\r\n                final ListObjectsV2Request req = new ListObjectsV2Request().withBucketName(bucketName);\r\n                ListObjectsV2Result result;\r\n                do {               \r\n                   result = s3client.listObjectsV2(req);\r\n                   \r\n                   for (S3ObjectSummary objectSummary : \r\n                       result.getObjectSummaries()) {\r\n                       System.out.println(&quot; - &quot; + objectSummary.getKey() + &quot;  &quot; +\r\n                               &quot;(size = &quot; + objectSummary.getSize() + \r\n                               &quot;)&quot;);\r\n                   }\r\n                   System.out.println(&quot;Next Continuation Token : &quot; + result.getNextContinuationToken());\r\n                   req.setContinuationToken(result.getNextContinuationToken());\r\n                } while(result.isTruncated() == true ); \r\n                \r\n             } catch (AmazonServiceException ase) {\r\n                System.out.println(&quot;Caught an AmazonServiceException, &quot; +\r\n                \t\t&quot;which means your request made it &quot; +\r\n                        &quot;to Amazon S3, but was rejected with an error response &quot; +\r\n                        &quot;for some reason.&quot;);\r\n                System.out.println(&quot;Error Message:    &quot; + ase.getMessage());\r\n                System.out.println(&quot;HTTP Status Code: &quot; + ase.getStatusCode());\r\n                System.out.println(&quot;AWS Error Code:   &quot; + ase.getErrorCode());\r\n                System.out.println(&quot;Error Type:       &quot; + ase.getErrorType());\r\n                System.out.println(&quot;Request ID:       &quot; + ase.getRequestId());\r\n            } catch (AmazonClientException ace) {\r\n                System.out.println(&quot;Caught an AmazonClientException, &quot; +\r\n                \t\t&quot;which means the client encountered &quot; +\r\n                        &quot;an internal error while trying to communicate&quot; +\r\n                        &quot; with S3, &quot; +\r\n                        &quot;such as not being able to access the network.&quot;);\r\n                System.out.println(&quot;Error Message: &quot; + ace.getMessage());\r\n            }\r\n        }\r\n    }","title":"How to list all AWS S3 objects in a bucket using Java","body":"<p>Listing Keys Using the AWS SDK for Java</p>\n\n<p><a href=\"http://docs.aws.amazon.com/AmazonS3/latest/dev/ListingObjectKeysUsingJava.html\" rel=\"noreferrer\">http://docs.aws.amazon.com/AmazonS3/latest/dev/ListingObjectKeysUsingJava.html</a></p>\n\n<pre><code>import java.io.IOException;\nimport com.amazonaws.AmazonClientException;\nimport com.amazonaws.AmazonServiceException;\nimport com.amazonaws.auth.profile.ProfileCredentialsProvider;\nimport com.amazonaws.services.s3.AmazonS3;\nimport com.amazonaws.services.s3.AmazonS3Client;\nimport com.amazonaws.services.s3.model.ListObjectsRequest;\nimport com.amazonaws.services.s3.model.ListObjectsV2Request;\nimport com.amazonaws.services.s3.model.ListObjectsV2Result;\nimport com.amazonaws.services.s3.model.ObjectListing;\nimport com.amazonaws.services.s3.model.S3ObjectSummary;\n\npublic class ListKeys {\n    private static String bucketName = \"***bucket name***\";\n\n    public static void main(String[] args) throws IOException {\n        AmazonS3 s3client = new AmazonS3Client(new ProfileCredentialsProvider());\n        try {\n            System.out.println(\"Listing objects\");\n            final ListObjectsV2Request req = new ListObjectsV2Request().withBucketName(bucketName);\n            ListObjectsV2Result result;\n            do {               \n               result = s3client.listObjectsV2(req);\n\n               for (S3ObjectSummary objectSummary : \n                   result.getObjectSummaries()) {\n                   System.out.println(\" - \" + objectSummary.getKey() + \"  \" +\n                           \"(size = \" + objectSummary.getSize() + \n                           \")\");\n               }\n               System.out.println(\"Next Continuation Token : \" + result.getNextContinuationToken());\n               req.setContinuationToken(result.getNextContinuationToken());\n            } while(result.isTruncated() == true ); \n\n         } catch (AmazonServiceException ase) {\n            System.out.println(\"Caught an AmazonServiceException, \" +\n                    \"which means your request made it \" +\n                    \"to Amazon S3, but was rejected with an error response \" +\n                    \"for some reason.\");\n            System.out.println(\"Error Message:    \" + ase.getMessage());\n            System.out.println(\"HTTP Status Code: \" + ase.getStatusCode());\n            System.out.println(\"AWS Error Code:   \" + ase.getErrorCode());\n            System.out.println(\"Error Type:       \" + ase.getErrorType());\n            System.out.println(\"Request ID:       \" + ase.getRequestId());\n        } catch (AmazonClientException ace) {\n            System.out.println(\"Caught an AmazonClientException, \" +\n                    \"which means the client encountered \" +\n                    \"an internal error while trying to communicate\" +\n                    \" with S3, \" +\n                    \"such as not being able to access the network.\");\n            System.out.println(\"Error Message: \" + ace.getMessage());\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11039250,"reputation":500,"user_id":8107849,"display_name":"Guilherme Bernardi"},"score":1,"creation_date":1601067776,"post_id":53825029,"comment_id":113300005,"body_markdown":"Awesome answer helped a lot, but I&#39;d like to ask more information.\nI want to iterate over the pages like Spring Pageable, e.g. request the first 20 objects and if I need I could request the second page with the 20 next. Is it possible?","body":"Awesome answer helped a lot, but I&#39;d like to ask more information. I want to iterate over the pages like Spring Pageable, e.g. request the first 20 objects and if I need I could request the second page with the 20 next. Is it possible?"},{"owner":{"account_id":985099,"reputation":6304,"user_id":1003815,"accept_rate":73,"display_name":"RTF"},"score":2,"creation_date":1647876532,"post_id":53825029,"comment_id":126475502,"body_markdown":"FWIW in the 1.x API replace the `inBucket` call with `withPrefix` if required.","body":"FWIW in the 1.x API replace the <code>inBucket</code> call with <code>withPrefix</code> if required."},{"owner":{"account_id":7482232,"reputation":353,"user_id":5686651,"display_name":"iZian"},"score":1,"creation_date":1679416883,"post_id":53825029,"comment_id":133716949,"body_markdown":"is it worth noting that the `listObjectsV2Paginator` method on the `S3Client` behaves as you have stated, BUT the same method on the `S3AsyncClient` actually gives you back a `org.reactivestreams.Publisher&lt;ListObjectsV2Response&gt;` which you can convert easily into a `Flux` and `flatMapIterable` into the S3 objects.\n\nWhy is this good? Because it can pre-fetch pages on demand and back off on back-pressure. So once you finish a page you don&#39;t wait for the next page to be requested internally. It&#39;s &quot;quicker&quot; or &quot;smoother&quot;. (N.B. they had a bug with their own `flatMapIterable` method I reported)","body":"is it worth noting that the <code>listObjectsV2Paginator</code> method on the <code>S3Client</code> behaves as you have stated, BUT the same method on the <code>S3AsyncClient</code> actually gives you back a <code>org.reactivestreams.Publisher&lt;ListObjectsV2Response&gt;</code> which you can convert easily into a <code>Flux</code> and <code>flatMapIterable</code> into the S3 objects.  Why is this good? Because it can pre-fetch pages on demand and back off on back-pressure. So once you finish a page you don&#39;t wait for the next page to be requested internally. It&#39;s &quot;quicker&quot; or &quot;smoother&quot;. (N.B. they had a bug with their own <code>flatMapIterable</code> method I reported)"}],"tags":[],"owner":{"account_id":390441,"reputation":32048,"user_id":750510,"accept_rate":98,"display_name":"madhead"},"comment_count":3,"down_vote_count":0,"up_vote_count":62,"is_accepted":false,"score":62,"last_activity_date":1587043608,"creation_date":1545095102,"answer_id":53825029,"question_id":8027265,"body_markdown":"For those, who are reading this in 2018+. There are two new pagination-hassle-free APIs available: one in AWS SDK for Java 1.x and another one in 2.x.\r\n\r\n# 1.x\r\n\r\nThere is a [new API](https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/iterable/S3Objects.html) in Java SDK that allows you to iterate through objects in S3 bucket without dealing with pagination:\r\n\r\n    AmazonS3 s3 = AmazonS3ClientBuilder.standard().build();\r\n\r\n    S3Objects.inBucket(s3, &quot;the-bucket&quot;).forEach((S3ObjectSummary objectSummary) -&gt; {\r\n        // TODO: Consume `objectSummary` the way you need\r\n        System.out.println(objectSummary.key);\r\n    });\r\n\r\nThis iteration is lazy:\r\n\r\n&gt;The list of [`S3ObjectSummary`](https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/model/S3ObjectSummary.html)s will be fetched lazily, a page at a time, as they are needed. The size of the page can be controlled with the [`withBatchSize(int)`](https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/iterable/S3Objects.html#withBatchSize-int-) method.\r\n\r\n# 2.x\r\n\r\nThe API changed, so here is an SDK 2.x version:\r\n\r\n    S3Client client = S3Client.builder().region(Region.US_EAST_1).build();\r\n    ListObjectsV2Request request = ListObjectsV2Request.builder().bucket(&quot;the-bucket&quot;).prefix(&quot;the-prefix&quot;).build();\r\n    ListObjectsV2Iterable response = client.listObjectsV2Paginator(request);\r\n\r\n    for (ListObjectsV2Response page : response) {\r\n        page.contents().forEach((S3Object object) -&gt; {\r\n            // TODO: Consume `object` the way you need\r\n            System.out.println(object.key());\r\n        });\r\n    }\r\n\r\n[`ListObjectsV2Iterable`](https://sdk.amazonaws.com/java/api/latest/index.html?software/amazon/awssdk/services/s3/paginators/ListObjectsV2Iterable.html) is lazy as well:\r\n\r\n&gt;When the operation is called, an instance of this class is returned. At this point, no service calls are made yet and so there is no guarantee that the request is valid. As you iterate through the iterable, SDK will start lazily loading response pages by making service calls until there are no pages left or your iteration stops. If there are errors in your request, you will see the failures only after you start iterating through the iterable.","title":"How to list all AWS S3 objects in a bucket using Java","body":"<p>For those, who are reading this in 2018+. There are two new pagination-hassle-free APIs available: one in AWS SDK for Java 1.x and another one in 2.x.</p>\n\n<h1>1.x</h1>\n\n<p>There is a <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/iterable/S3Objects.html\" rel=\"noreferrer\">new API</a> in Java SDK that allows you to iterate through objects in S3 bucket without dealing with pagination:</p>\n\n<pre><code>AmazonS3 s3 = AmazonS3ClientBuilder.standard().build();\n\nS3Objects.inBucket(s3, \"the-bucket\").forEach((S3ObjectSummary objectSummary) -&gt; {\n    // TODO: Consume `objectSummary` the way you need\n    System.out.println(objectSummary.key);\n});\n</code></pre>\n\n<p>This iteration is lazy:</p>\n\n<blockquote>\n  <p>The list of <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/model/S3ObjectSummary.html\" rel=\"noreferrer\"><code>S3ObjectSummary</code></a>s will be fetched lazily, a page at a time, as they are needed. The size of the page can be controlled with the <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/iterable/S3Objects.html#withBatchSize-int-\" rel=\"noreferrer\"><code>withBatchSize(int)</code></a> method.</p>\n</blockquote>\n\n<h1>2.x</h1>\n\n<p>The API changed, so here is an SDK 2.x version:</p>\n\n<pre><code>S3Client client = S3Client.builder().region(Region.US_EAST_1).build();\nListObjectsV2Request request = ListObjectsV2Request.builder().bucket(\"the-bucket\").prefix(\"the-prefix\").build();\nListObjectsV2Iterable response = client.listObjectsV2Paginator(request);\n\nfor (ListObjectsV2Response page : response) {\n    page.contents().forEach((S3Object object) -&gt; {\n        // TODO: Consume `object` the way you need\n        System.out.println(object.key());\n    });\n}\n</code></pre>\n\n<p><a href=\"https://sdk.amazonaws.com/java/api/latest/index.html?software/amazon/awssdk/services/s3/paginators/ListObjectsV2Iterable.html\" rel=\"noreferrer\"><code>ListObjectsV2Iterable</code></a> is lazy as well:</p>\n\n<blockquote>\n  <p>When the operation is called, an instance of this class is returned. At this point, no service calls are made yet and so there is no guarantee that the request is valid. As you iterate through the iterable, SDK will start lazily loading response pages by making service calls until there are no pages left or your iteration stops. If there are errors in your request, you will see the failures only after you start iterating through the iterable.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6783917,"reputation":3655,"user_id":5223309,"accept_rate":40,"display_name":"Shababb Karim"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1600692234,"creation_date":1600692234,"answer_id":63992525,"question_id":8027265,"body_markdown":"You don&#39;t want to list all 1000 object in your bucket at a time. A more robust solution will be to fetch a max of 10 objects at a time. You can do this with the [withMaxKeys](https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/model/ListObjectsV2Request.html#withMaxKeys-java.lang.Integer-) method.\r\n\r\nThe following code creates an S3 client, fetches 10 or less objects at a time and filters based  on a prefix and generates a [pre-signed url](https://docs.aws.amazon.com/AmazonS3/latest/dev/PresignedUrlUploadObject.html) for the fetched object:\r\n\r\n\r\n    import com.amazonaws.HttpMethod;\r\n    import com.amazonaws.SdkClientException;\r\n    import com.amazonaws.auth.AWSStaticCredentialsProvider;\r\n    import com.amazonaws.auth.BasicAWSCredentials;\r\n    import com.amazonaws.regions.Regions;\r\n    import com.amazonaws.services.s3.AmazonS3;\r\n    import com.amazonaws.services.s3.AmazonS3ClientBuilder;\r\n    import com.amazonaws.services.s3.model.*;\r\n    \r\n    import java.net.URL;\r\n    import java.util.Date;\r\n    \r\n    /**\r\n     * @author shabab\r\n     * @since 21 Sep, 2020\r\n     */\r\n    public class AwsMain {\r\n    \r\n        static final String ACCESS_KEY = &quot;&quot;;\r\n        static final String SECRET = &quot;&quot;;\r\n        static final Regions BUCKET_REGION = Regions.DEFAULT_REGION;\r\n        static final String BUCKET_NAME = &quot;&quot;;\r\n    \r\n        public static void main(String[] args) {\r\n            BasicAWSCredentials awsCreds = new BasicAWSCredentials(ACCESS_KEY, SECRET);\r\n    \r\n            try {\r\n                final AmazonS3 s3Client = AmazonS3ClientBuilder\r\n                        .standard()\r\n                        .withRegion(BUCKET_REGION)\r\n                        .withCredentials(new AWSStaticCredentialsProvider(awsCreds))\r\n                        .build();\r\n    \r\n                ListObjectsV2Request req = new ListObjectsV2Request().withBucketName(BUCKET_NAME).withMaxKeys(10);\r\n                ListObjectsV2Result result;\r\n    \r\n                do {\r\n                    result = s3Client.listObjectsV2(req);\r\n    \r\n                    result.getObjectSummaries()\r\n                            .stream()\r\n                            .filter(s3ObjectSummary -&gt; {\r\n                                return s3ObjectSummary.getKey().contains(&quot;Market-subscriptions/&quot;)\r\n                                        &amp;&amp; !s3ObjectSummary.getKey().equals(&quot;Market-subscriptions/&quot;);\r\n                            })\r\n                            .forEach(s3ObjectSummary -&gt; {\r\n    \r\n                                GeneratePresignedUrlRequest generatePresignedUrlRequest =\r\n                                        new GeneratePresignedUrlRequest(BUCKET_NAME, s3ObjectSummary.getKey())\r\n                                                .withMethod(HttpMethod.GET)\r\n                                                .withExpiration(getExpirationDate());\r\n    \r\n                                URL url = s3Client.generatePresignedUrl(generatePresignedUrlRequest);\r\n    \r\n                                System.out.println(s3ObjectSummary.getKey() + &quot; Pre-Signed URL: &quot; + url.toString());\r\n                            });\r\n    \r\n                    String token = result.getNextContinuationToken();\r\n                    req.setContinuationToken(token);\r\n    \r\n                } while (result.isTruncated());\r\n            } catch (SdkClientException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n        }\r\n    \r\n        private static Date getExpirationDate() {\r\n            Date expiration = new java.util.Date();\r\n            long expTimeMillis = expiration.getTime();\r\n            expTimeMillis += 1000 * 60 * 60;\r\n            expiration.setTime(expTimeMillis);\r\n    \r\n            return expiration;\r\n        }\r\n    }","title":"How to list all AWS S3 objects in a bucket using Java","body":"<p>You don't want to list all 1000 object in your bucket at a time. A more robust solution will be to fetch a max of 10 objects at a time. You can do this with the <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/model/ListObjectsV2Request.html#withMaxKeys-java.lang.Integer-\" rel=\"nofollow noreferrer\">withMaxKeys</a> method.</p>\n<p>The following code creates an S3 client, fetches 10 or less objects at a time and filters based  on a prefix and generates a <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/PresignedUrlUploadObject.html\" rel=\"nofollow noreferrer\">pre-signed url</a> for the fetched object:</p>\n<pre><code>import com.amazonaws.HttpMethod;\nimport com.amazonaws.SdkClientException;\nimport com.amazonaws.auth.AWSStaticCredentialsProvider;\nimport com.amazonaws.auth.BasicAWSCredentials;\nimport com.amazonaws.regions.Regions;\nimport com.amazonaws.services.s3.AmazonS3;\nimport com.amazonaws.services.s3.AmazonS3ClientBuilder;\nimport com.amazonaws.services.s3.model.*;\n\nimport java.net.URL;\nimport java.util.Date;\n\n/**\n * @author shabab\n * @since 21 Sep, 2020\n */\npublic class AwsMain {\n\n    static final String ACCESS_KEY = &quot;&quot;;\n    static final String SECRET = &quot;&quot;;\n    static final Regions BUCKET_REGION = Regions.DEFAULT_REGION;\n    static final String BUCKET_NAME = &quot;&quot;;\n\n    public static void main(String[] args) {\n        BasicAWSCredentials awsCreds = new BasicAWSCredentials(ACCESS_KEY, SECRET);\n\n        try {\n            final AmazonS3 s3Client = AmazonS3ClientBuilder\n                    .standard()\n                    .withRegion(BUCKET_REGION)\n                    .withCredentials(new AWSStaticCredentialsProvider(awsCreds))\n                    .build();\n\n            ListObjectsV2Request req = new ListObjectsV2Request().withBucketName(BUCKET_NAME).withMaxKeys(10);\n            ListObjectsV2Result result;\n\n            do {\n                result = s3Client.listObjectsV2(req);\n\n                result.getObjectSummaries()\n                        .stream()\n                        .filter(s3ObjectSummary -&gt; {\n                            return s3ObjectSummary.getKey().contains(&quot;Market-subscriptions/&quot;)\n                                    &amp;&amp; !s3ObjectSummary.getKey().equals(&quot;Market-subscriptions/&quot;);\n                        })\n                        .forEach(s3ObjectSummary -&gt; {\n\n                            GeneratePresignedUrlRequest generatePresignedUrlRequest =\n                                    new GeneratePresignedUrlRequest(BUCKET_NAME, s3ObjectSummary.getKey())\n                                            .withMethod(HttpMethod.GET)\n                                            .withExpiration(getExpirationDate());\n\n                            URL url = s3Client.generatePresignedUrl(generatePresignedUrlRequest);\n\n                            System.out.println(s3ObjectSummary.getKey() + &quot; Pre-Signed URL: &quot; + url.toString());\n                        });\n\n                String token = result.getNextContinuationToken();\n                req.setContinuationToken(token);\n\n            } while (result.isTruncated());\n        } catch (SdkClientException e) {\n            e.printStackTrace();\n        }\n\n    }\n\n    private static Date getExpirationDate() {\n        Date expiration = new java.util.Date();\n        long expTimeMillis = expiration.getTime();\n        expTimeMillis += 1000 * 60 * 60;\n        expiration.setTime(expTimeMillis);\n\n        return expiration;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15470820,"reputation":171,"user_id":11160956,"display_name":"Johan Perez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658240726,"creation_date":1658240726,"answer_id":73038729,"question_id":8027265,"body_markdown":"Using **SDK V2** reactive streams integrations with **automatic pagination** as described in the [docs](https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/pagination.html)\r\n\r\nThis example uses [project reactor](https://projectreactor.io/) implementation of the reactive streams standard but it also works with other implementation (e.g., RxJava)\r\n\r\n        ListObjectsV2Request listObjects = ListObjectsV2Request\r\n                .builder()\r\n                .bucket(&quot;&lt;bucketName&gt;&quot;)\r\n                .maxKeys(100) // Number of items per page. Using pagination to get all objects in the bucket.\r\n                .build();\r\n\r\n        // https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/pagination.html\r\n        // Auto-pagination method that makes multiple service calls to get the next page of results automatically.\r\n        // Publish messages by batches to sqs as they come from s3 pagination result.\r\n        return Flux.from(s3Client.listObjectsV2Paginator(listObjects))\r\n                .flatMap(list -&gt; Flux.fromIterable(list.contents())\r\n                        .map(s3Object -&gt; transformObject(s3Object))\r\n                        .collectList()\r\n                        .flatMap(sqsPublisher::publishBatch))\r\n                .doOnError(e -&gt; log.error(&quot;Failed to blabla&quot;, e))\r\n                .then();\r\n\r\n","title":"How to list all AWS S3 objects in a bucket using Java","body":"<p>Using <strong>SDK V2</strong> reactive streams integrations with <strong>automatic pagination</strong> as described in the <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/pagination.html\" rel=\"nofollow noreferrer\">docs</a></p>\n<p>This example uses <a href=\"https://projectreactor.io/\" rel=\"nofollow noreferrer\">project reactor</a> implementation of the reactive streams standard but it also works with other implementation (e.g., RxJava)</p>\n<pre><code>    ListObjectsV2Request listObjects = ListObjectsV2Request\n            .builder()\n            .bucket(&quot;&lt;bucketName&gt;&quot;)\n            .maxKeys(100) // Number of items per page. Using pagination to get all objects in the bucket.\n            .build();\n\n    // https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/pagination.html\n    // Auto-pagination method that makes multiple service calls to get the next page of results automatically.\n    // Publish messages by batches to sqs as they come from s3 pagination result.\n    return Flux.from(s3Client.listObjectsV2Paginator(listObjects))\n            .flatMap(list -&gt; Flux.fromIterable(list.contents())\n                    .map(s3Object -&gt; transformObject(s3Object))\n                    .collectList()\n                    .flatMap(sqsPublisher::publishBatch))\n            .doOnError(e -&gt; log.error(&quot;Failed to blabla&quot;, e))\n            .then();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10845289,"reputation":103,"user_id":7975022,"display_name":"Bishwajit Vikram"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667586558,"creation_date":1667586558,"answer_id":74321508,"question_id":8027265,"body_markdown":"    AmazonS3 s3Client = AmazonS3ClientBuilder.standard()\r\n                                 .withRegion(Regions.US_EAST_1)\r\n                                 .withCredentials(new AWSStaticCredentialsProvider(new BasicAWSCredentials(getAccessKey(), getSecretKey())))\r\n                                 .build();\r\n    \r\n    List&lt;String&gt; s3Keys = s3Client.listObjects(&quot;bucketName&quot;)\r\n                .getObjectSummaries().stream().map(S3ObjectSummary::getKey)\r\n                .collect(Collectors.toList());","title":"How to list all AWS S3 objects in a bucket using Java","body":"<pre><code>AmazonS3 s3Client = AmazonS3ClientBuilder.standard()\n                             .withRegion(Regions.US_EAST_1)\n                             .withCredentials(new AWSStaticCredentialsProvider(new BasicAWSCredentials(getAccessKey(), getSecretKey())))\n                             .build();\n\nList&lt;String&gt; s3Keys = s3Client.listObjects(&quot;bucketName&quot;)\n            .getObjectSummaries().stream().map(S3ObjectSummary::getKey)\n            .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":446191,"reputation":3774,"user_id":839097,"accept_rate":65,"display_name":"Ron D."},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161846,"favorite_count":0,"down_vote_count":0,"up_vote_count":94,"accepted_answer_id":8034114,"answer_count":13,"score":94,"last_activity_date":1667586558,"creation_date":1320585885,"question_id":8027265,"body_markdown":"What is the simplest way to get a list of all items within an S3 bucket using Java?\r\n\r\n    List&lt;S3ObjectSummary&gt; s3objects = s3.listObjects(bucketName,prefix).getObjectSummaries();\r\n\r\nThis example only returns 1000 items.","title":"How to list all AWS S3 objects in a bucket using Java","body":"<p>What is the simplest way to get a list of all items within an S3 bucket using Java?</p>\n\n<pre><code>List&lt;S3ObjectSummary&gt; s3objects = s3.listObjects(bucketName,prefix).getObjectSummaries();\n</code></pre>\n\n<p>This example only returns 1000 items.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1629327,"reputation":2020,"user_id":1504208,"accept_rate":62,"display_name":"Emerson Cod"},"score":0,"creation_date":1454928495,"post_id":35267723,"comment_id":58246808,"body_markdown":"you looking for how to sort by the name or how to combine different properties for your sorting ?","body":"you looking for how to sort by the name or how to combine different properties for your sorting ?"},{"owner":{"account_id":1389401,"reputation":5345,"user_id":1320616,"accept_rate":0,"display_name":"Ankit Aggarwal"},"score":0,"creation_date":1454928604,"post_id":35267723,"comment_id":58246882,"body_markdown":"try java&#39;s comparator interface and check whether you can achieve what you want. Tutorial http://www.javatpoint.com/Comparator-interface-in-collection-framework","body":"try java&#39;s comparator interface and check whether you can achieve what you want. Tutorial <a href=\"http://www.javatpoint.com/Comparator-interface-in-collection-framework\" rel=\"nofollow noreferrer\">javatpoint.com/Comparator-interface-in-collection-framework</a>"}],"answers":[{"tags":[],"owner":{"account_id":3639868,"reputation":4986,"user_id":3034273,"display_name":"Xerillio"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1454931212,"creation_date":1454931212,"answer_id":35268655,"question_id":35267723,"body_markdown":"First you have to figure out how you want to compare two strings. Should **name2** come before **name10**, then you need to extract the number from the string. [See here][1] how to do that.\r\n\r\nYou can order strings in many different ways, so I&#39;ll just describe the idea. In the **compare** method, you should have something like the following instead:\r\n\r\n    public int compare(Model2 o1, Model2 o2) {\r\n        if (o1.getId() == null) return -1;\r\n        else if (o2.getId() == null) return 1;\r\n        else return compareStrings(o1.getName(), o2.getName());\r\n    }\r\n\r\nThe thing you have to consider here is how to implement the **compareStrings** method.\r\n\r\nP.S. You can of course write it into a single return statement, but I thought if-statements would be more readable.\r\n\r\n  [1]: https://stackoverflow.com/questions/14974033/extract-digits-from-string-stringutils-java","title":"How to sort list with multiple condition?","body":"<p>First you have to figure out how you want to compare two strings. Should <strong>name2</strong> come before <strong>name10</strong>, then you need to extract the number from the string. <a href=\"https://stackoverflow.com/questions/14974033/extract-digits-from-string-stringutils-java\">See here</a> how to do that.</p>\n\n<p>You can order strings in many different ways, so I'll just describe the idea. In the <strong>compare</strong> method, you should have something like the following instead:</p>\n\n<pre><code>public int compare(Model2 o1, Model2 o2) {\n    if (o1.getId() == null) return -1;\n    else if (o2.getId() == null) return 1;\n    else return compareStrings(o1.getName(), o2.getName());\n}\n</code></pre>\n\n<p>The thing you have to consider here is how to implement the <strong>compareStrings</strong> method.</p>\n\n<p>P.S. You can of course write it into a single return statement, but I thought if-statements would be more readable.</p>\n"},{"tags":[],"owner":{"account_id":4279009,"reputation":7633,"user_id":3498962,"display_name":"Essex Boy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1454940634,"creation_date":1454940634,"answer_id":35271677,"question_id":35267723,"body_markdown":"\t\tList&lt;Model2&gt; list = new ArrayList&lt;Model2&gt;();\r\n\r\n\t\tlist.add(new Model2(null, &quot;name1&quot;));\r\n\t\tlist.add(new Model2(&quot;13&quot;, &quot;name2&quot;));\r\n\t\tlist.add(new Model2(null, &quot;name3&quot;));\r\n\t\tlist.add(new Model2(null, &quot;name2&quot;));\r\n\t\tlist.add(new Model2(&quot;13&quot;, &quot;name6&quot;));\r\n\t\tlist.add(new Model2(&quot;14&quot;, &quot;name7&quot;));\r\n\t\tlist.add(new Model2(&quot;13&quot;, &quot;name4&quot;));\r\n\t\tlist.add(new Model2(&quot;14&quot;, &quot;name3&quot;));\r\n\r\n\t\tCollections.sort(list, new Comparator&lt;Model2&gt;() {\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic int compare(Model2 o1, Model2 o2) {\r\n\t\t\t\tif (o1.getId() != null &amp;&amp; o2.getId() != null) {\r\n\t\t\t\t\tif (o1.getId().equals(o2.getId())) {\r\n\t\t\t\t\t\treturn o1.getName().compareTo(o2.getName());\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn o1.getId().compareTo(o2.getId());\r\n\t\t\t\t} else if (o1.getId() == null) {\r\n\t\t\t\t\tif (o2.getId() == null) {\r\n\t\t\t\t\t\treturn o1.getName().compareTo(o2.getName());\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn -1;\r\n\t\t\t\t} else if (o2.getId() == null) {\r\n\t\t\t\t\tif (o1.getId() == null) {\r\n\t\t\t\t\t\treturn o1.getName().compareTo(o2.getName());\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn 0;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tfor (Model2 model2 : list) {\r\n\t\t\tSystem.out.println(model2);\r\n\t\t}\r\n\t}\r\n\r\nGives\r\n\r\n    Model2 [id=null, name=name1]\r\n    Model2 [id=null, name=name2]\r\n    Model2 [id=null, name=name3]\r\n    Model2 [id=13, name=name2]\r\n    Model2 [id=13, name=name4]\r\n    Model2 [id=13, name=name6]\r\n    Model2 [id=14, name=name3]\r\n    Model2 [id=14, name=name7]\r\n\r\n","title":"How to sort list with multiple condition?","body":"<pre><code>    List&lt;Model2&gt; list = new ArrayList&lt;Model2&gt;();\n\n    list.add(new Model2(null, \"name1\"));\n    list.add(new Model2(\"13\", \"name2\"));\n    list.add(new Model2(null, \"name3\"));\n    list.add(new Model2(null, \"name2\"));\n    list.add(new Model2(\"13\", \"name6\"));\n    list.add(new Model2(\"14\", \"name7\"));\n    list.add(new Model2(\"13\", \"name4\"));\n    list.add(new Model2(\"14\", \"name3\"));\n\n    Collections.sort(list, new Comparator&lt;Model2&gt;() {\n\n        @Override\n        public int compare(Model2 o1, Model2 o2) {\n            if (o1.getId() != null &amp;&amp; o2.getId() != null) {\n                if (o1.getId().equals(o2.getId())) {\n                    return o1.getName().compareTo(o2.getName());\n                }\n                return o1.getId().compareTo(o2.getId());\n            } else if (o1.getId() == null) {\n                if (o2.getId() == null) {\n                    return o1.getName().compareTo(o2.getName());\n                }\n                return -1;\n            } else if (o2.getId() == null) {\n                if (o1.getId() == null) {\n                    return o1.getName().compareTo(o2.getName());\n                }\n            }\n            return 0;\n        }\n    });\n\n    for (Model2 model2 : list) {\n        System.out.println(model2);\n    }\n}\n</code></pre>\n\n<p>Gives</p>\n\n<pre><code>Model2 [id=null, name=name1]\nModel2 [id=null, name=name2]\nModel2 [id=null, name=name3]\nModel2 [id=13, name=name2]\nModel2 [id=13, name=name4]\nModel2 [id=13, name=name6]\nModel2 [id=14, name=name3]\nModel2 [id=14, name=name7]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1667895224,"post_id":74321444,"comment_id":131270373,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74321444/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":25956024,"reputation":41,"user_id":19673374,"display_name":"marcobsidian"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667586132,"creation_date":1667586132,"answer_id":74321444,"question_id":35267723,"body_markdown":"    public static Comparator&lt;? super Model2&gt; sorting() {\r\n            return new Comparator&lt;Model2&gt;() {\r\n               final Comparator&lt;Model2&gt; idComparator = Comparator.comparing(Model2::getId);\r\n               final Comparator&lt;Model2&gt; nameComparator = Comparator.comparing(Model2::getName);\r\n                @Override\r\n                public int compare(Model2 o1, Model2 o2) {\r\n                    var idCompResult = idComparator.compare(o1, o2);\r\n                    if(idCompResult != 0){\r\n                       return idCompResult;\r\n                    }\r\n                    return nameComparator.compare(o1,o2);\r\n                }\r\n            };\r\n        }","title":"How to sort list with multiple condition?","body":"<pre><code>public static Comparator&lt;? super Model2&gt; sorting() {\n        return new Comparator&lt;Model2&gt;() {\n           final Comparator&lt;Model2&gt; idComparator = Comparator.comparing(Model2::getId);\n           final Comparator&lt;Model2&gt; nameComparator = Comparator.comparing(Model2::getName);\n            @Override\n            public int compare(Model2 o1, Model2 o2) {\n                var idCompResult = idComparator.compare(o1, o2);\n                if(idCompResult != 0){\n                   return idCompResult;\n                }\n                return nameComparator.compare(o1,o2);\n            }\n        };\n    }\n</code></pre>\n"}],"owner":{"account_id":4497085,"reputation":499,"user_id":3656635,"accept_rate":39,"display_name":"Anna"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":739,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":35268655,"answer_count":3,"score":0,"last_activity_date":1667586132,"creation_date":1454928411,"question_id":35267723,"body_markdown":"I have ArrayList&lt;Model&gt; with name and id.\r\n\r\n\tlist.add(new Model2(null, &quot;name1&quot;));\r\n\tlist.add(new Model2(&quot;13&quot;, &quot;name2&quot;));\r\n\tlist.add(new Model2(null, &quot;name1&quot;));\r\n\tlist.add(new Model2(&quot;13&quot;, &quot;name4&quot;));\r\n\tlist.add(new Model2(null, &quot;name1&quot;));\r\n\tlist.add(new Model2(&quot;13&quot;, &quot;name6&quot;));\r\n\r\nFirst if id is null and then by the name\r\n\r\n    //the result should by like this:\r\n    \t//1. null , name1\r\n    \t//2. null , name1\r\n    \t//3. null , name1\r\n    \t//4. 13,name2\r\n    \t//5. 13,name4\r\n    \t//6. 13,name6\r\n\r\nI know how to sort the null values:\r\n\r\n\tCollections.sort(list,sorting());\t\r\n\t\t\r\n\t    public static Comparator&lt;? super Model2&gt; sorting() {\r\n\t        Comparator&lt;Model2&gt; sortedList = new Comparator&lt;Model2&gt;() {\r\n\t            @Override\r\n\t            public int compare(Model2 o1, Model2 o2) {\r\n\t                return o1.getId() == null ? -1 : 0;\r\n\t            }\r\n\t        };\r\n\t        return sortedList;\r\n\t    }\r\nBut what about the names values?","title":"How to sort list with multiple condition?","body":"<p>I have ArrayList with name and id.</p>\n\n<pre><code>list.add(new Model2(null, \"name1\"));\nlist.add(new Model2(\"13\", \"name2\"));\nlist.add(new Model2(null, \"name1\"));\nlist.add(new Model2(\"13\", \"name4\"));\nlist.add(new Model2(null, \"name1\"));\nlist.add(new Model2(\"13\", \"name6\"));\n</code></pre>\n\n<p>First if id is null and then by the name</p>\n\n<pre><code>//the result should by like this:\n    //1. null , name1\n    //2. null , name1\n    //3. null , name1\n    //4. 13,name2\n    //5. 13,name4\n    //6. 13,name6\n</code></pre>\n\n<p>I know how to sort the null values:</p>\n\n<pre><code>Collections.sort(list,sorting());   \n\n    public static Comparator&lt;? super Model2&gt; sorting() {\n        Comparator&lt;Model2&gt; sortedList = new Comparator&lt;Model2&gt;() {\n            @Override\n            public int compare(Model2 o1, Model2 o2) {\n                return o1.getId() == null ? -1 : 0;\n            }\n        };\n        return sortedList;\n    }\n</code></pre>\n\n<p>But what about the names values?</p>\n"},{"tags":["java","generics","var"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":5,"creation_date":1641176185,"post_id":70561118,"comment_id":124733035,"body_markdown":"https://openjdk.java.net/projects/amber/guides/lvti-style-guide was the first google result.","body":"<a href=\"https://openjdk.java.net/projects/amber/guides/lvti-style-guide\" rel=\"nofollow noreferrer\">openjdk.java.net/projects/amber/guides/lvti-style-guide</a> was the first google result."},{"owner":{"account_id":20269550,"reputation":206,"user_id":14866016,"display_name":"RedCrafter LP"},"score":0,"creation_date":1641177731,"post_id":70561118,"comment_id":124733193,"body_markdown":"Thanks for your quick response and helpful information. I didn&#39;t know what to search for in particular so my Google search didn&#39;t reach it&#39;s desired target.","body":"Thanks for your quick response and helpful information. I didn&#39;t know what to search for in particular so my Google search didn&#39;t reach it&#39;s desired target."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1641179515,"creation_date":1641179515,"answer_id":70561353,"question_id":70561118,"body_markdown":"Here&#39;s how you deal with style advice:\r\n\r\nFirst, never just blindly follow advice. Virtually no programming advice is a rule that has zero exceptions and can be blindly applied regardless of circumstance. They are rules of thumb - things that are usually but not always true.\r\n\r\nThus, if you don&#39;t understand the actual reasons behind a rule, __it is hopeless__ - you will be cargo culting your way through your programming career, and that&#39;s no way to live. You&#39;ll be rigorously applying rules in cases where they are flat out the wrong thing to do!\r\n\r\nThus, step 1: Figure out _why_ some pattern, style, or other thing you are doing in your code is being advised against. You want specific reasons, preferably with examples.\r\n\r\nThen, measure these specific reasons against the best examples your experience (limited as it might be) can come up with and take stock. Do the arguments make some sense to you, or do they seem _wildly_ irrelevant or out of proportion vs the upside you gain?\r\n\r\nIf that is the case, then __ignore that advice, it was silly, or there is no hope you can properly apply it right now__.\r\n\r\nThat&#39;s because there are only 3 options:\r\n\r\n* The naysayers are koolaid drinking loonies that are _completely_ wrong. Ignoring them is the correct course of action. This is unlikely, but it happens in programming land; zealotry is unfortunately somewhat common.\r\n\r\n* They were thinking of different usages that haven&#39;t even entered your mind yet, or their code style is so significantly different than yours, for _them_ `var` is really bad but it simply doesn&#39;t apply to you. You heard &quot;You should not use `var`&quot; but that&#39;s not what they actually meant. They meant: &quot;You should not use `var` in [cases that do not apply to you]&quot;. Their advice should be ignored: It doesn&#39;t apply to you.\r\n\r\n* They have discovered some hidden truth that applies to you and is a fair reason not to do the thing you are doing. However, this line of reasoning is so foreign to you, you are epically misjudging the situation. You can&#39;t even begin to follow it. This _is_ possible, experienced programmers are a heck of a thing to deal with, and programming is complicated enough for this to be a realistic option. But, that also means you stand no chance at all of applying common sense to expand the rule of thumb into actually applying it properly. __You are doomed to make the very mistake they are warning you about__, whether you apply their rule of thumb or not.\r\n\r\nYou know what mistakes are? They are the thing that is _required_ for a noob programmer to turn into an experienced programmer. So don&#39;t sweat it. Ignore their advice as you can&#39;t apply it. If truly it is this case, you will, eventually, swear under your breath, and get that sudden rush of realization: They were right. But now you are enlightened, and on your way to a more experienced programmer. I have yet to figure out a better way to turn new coders into experienced ones; some mistakes are required along the way, and this will perhaps be one of them. Celebrate it.\r\n\r\nAs an example, let&#39;s go through it for `var`.\r\n\r\nFirst, we ignore &quot;Just do not use it&quot; style &quot;advice&quot;. Without reasons we can&#39;t apply common sense which makes it useless. We focus on those who bring falsifiables to the table and focus on their reasoning.\r\n\r\nIn my experience, the two primary named reasons are thus, given `var foo = something;`:\r\n\r\n* It is less readable - you simply can&#39;t tell what `foo` might be.\r\n* It hides details, for example, if you replace `List&lt;String&gt; foo = new ArrayList&lt;&gt;();` with `var foo = new ArrayList&lt;String&gt;();`, then you &#39;lost&#39; the idea that you don&#39;t care about `foo`&#39;s implementation, you simply care that it is a `List`.\r\n\r\nFortunately, in the vast majority of code snippet cases neither point is relevant. At least, when I try to apply these rules to my code style. Your mileage may vary, of course. To wit:\r\n\r\n## It hides types \r\n\r\nPeruse any java project and doubtlessly you&#39;ll find many, many instances of &#39;chained methods&#39;. Something as simple as:\r\n\r\n```\r\nsomeObj.getClass().getName()\r\n\r\nsomeStr.toLowerCase().replace(&quot;_&quot;, &quot;&quot;);\r\n```\r\n\r\nThese are __just as guilty__ of the above problems! They hide the type of what the _first_ method invocation returns. After all, how could one possibly know that `someObj.getClass()` is of type `java.lang.Class&lt;?whoknows?&gt;`, and `.getName()` is invoked on that (fortunately, also obviating the issue that we don&#39;t know what the generics are there. `getName()` doesn&#39;t care at all about them, so they aren&#39;t relevant here). Similarly, what does `someStr.toLowerCase()` return? What kind of thing are we invoking `replace` on? A total mystery!\r\n\r\nExcept of course it isn&#39;t a mystery, even quite junior programmers, heck, programmers with some experience in other languages but with virtually zero experience in java will doubtlessly be utterly unfazed by the above two snippets. `getClass()` returns an instance of Class? Gosh, what a surprise. `.toLowerCase()` returns a String? You don&#39;t say! Let me make some notes!\r\n\r\nClearly then, anybody advocating these rules is a hypocrite, or at least oversimplifying considerably. Unless they actually banned any method chaining of any kind in their code base before `var`&#39;s introduction, that is. I know a few `var` dislikers. None of them dislike method chaining. I have yet to hear a good reason for their evident doublethink on these concepts.\r\n\r\nBut it also highlights a crucial aspect of `var`. Method chaining isn&#39;t always right. For the same reason, neither is `var`. If you write this:\r\n\r\n```\r\n// This is an entirely hypothetical method!\r\nfoo.pingPeer(message, sender).getName()\r\n```\r\n\r\nThen perhaps that&#39;s not such a good idea. What does `pingPeer` return? I have no idea. Unless casual familiarity with whatever this is an API for would make the answer obvious, then the above is probably not a good idea. Neither `pingPeer` nor `getName` lends itself to knowing what the heck is going on here. The method chaining is hiding important information. This code is bad code style for that reason - it is less legible than the obvious replacement:\r\n\r\n```\r\nMessageReply reply = foo.pingPeer(message, sender);\r\nreply.getName();\r\n```\r\n\r\nYes, it is longer, and longer code is usually worse, but not always. This is one of those cases.\r\n\r\n(I have no idea how a reply has a name either. As I said, hypothetical API I just made up. The fact that replies having names is surprising is part of the point: All the more reason to make sure anybody perusing this code is clear about what thing you&#39;re getting the name of).\r\n\r\nThus, the rule: __Use `var` only if the type that is now hidden is trivially determinable from context__. Good hints that this is the case is if the type name is trivially derivable from a variable name or method, e.g:\r\n\r\n```\r\n// eligible for replacing with var\r\nList&lt;Student&gt; x = course.getEnrolledStudents();\r\nList&lt;Student&gt; students = course.getEnrolled();\r\n\r\n// Not so clear cut, use careful judgement\r\nList&lt;Student&gt; x = course.getEnrolled();\r\n```\r\n\r\n## Type specificity loss\r\n\r\nThe same method chaining argument applies here to a lesser extent as well. The solution to this dilemma is similar too: If it feels like omitting this information impacts the readability of a casual glance at the method, then don&#39;t use `var`.\r\n\r\nA trivial way to know it is highly unlikely to matter is if you never reassign the variable. If you write:\r\n\r\n```\r\npublic void List&lt;String&gt; foo() {\r\n  var out = new ArrayList&lt;String&gt;();\r\n  // code that interacts with &quot;out&quot;,\r\n  // but never overwrites it, i.e. no out = ... anywhere..\r\n  return out;\r\n}\r\n```\r\n\r\nThen you might want to mark `out` as `final`, but in general it doesn&#39;t really feel like the lack of representing &#39;actual list impl does not really matter&#39; is particularly relevant in understanding what this code does, and a reader of this code is unlikely to be completely sent on a wild goose chase by erroneously thinking: &quot;Huh! The original author must clearly care a lot about the list being, specifically, an arraylist! I&#39;m going to read this entire method looking for the reason for that instead of focussing on what it is doing!&quot;.\r\n\r\nI&#39;d use `var` here, with no hesitation at all.\r\n\r\n## A third reason not known to me\r\n\r\nIf I program long enough and on sufficient different kinds of projects, perhaps one fine day I will realize usage of `var` caused me a ton of pain, and I now know this third reason. I will never forget it, in fact. I will swear under my breath, but the moment will pass, as I&#39;m also celebrating that I just became a better programmer. I&#39;ll refactor the code and write the time this takes off as unknown tech debt that had to be solved.\r\n","title":"Should you use var on generic types in Java?","body":"<p>Here's how you deal with style advice:</p>\n<p>First, never just blindly follow advice. Virtually no programming advice is a rule that has zero exceptions and can be blindly applied regardless of circumstance. They are rules of thumb - things that are usually but not always true.</p>\n<p>Thus, if you don't understand the actual reasons behind a rule, <strong>it is hopeless</strong> - you will be cargo culting your way through your programming career, and that's no way to live. You'll be rigorously applying rules in cases where they are flat out the wrong thing to do!</p>\n<p>Thus, step 1: Figure out <em>why</em> some pattern, style, or other thing you are doing in your code is being advised against. You want specific reasons, preferably with examples.</p>\n<p>Then, measure these specific reasons against the best examples your experience (limited as it might be) can come up with and take stock. Do the arguments make some sense to you, or do they seem <em>wildly</em> irrelevant or out of proportion vs the upside you gain?</p>\n<p>If that is the case, then <strong>ignore that advice, it was silly, or there is no hope you can properly apply it right now</strong>.</p>\n<p>That's because there are only 3 options:</p>\n<ul>\n<li><p>The naysayers are koolaid drinking loonies that are <em>completely</em> wrong. Ignoring them is the correct course of action. This is unlikely, but it happens in programming land; zealotry is unfortunately somewhat common.</p>\n</li>\n<li><p>They were thinking of different usages that haven't even entered your mind yet, or their code style is so significantly different than yours, for <em>them</em> <code>var</code> is really bad but it simply doesn't apply to you. You heard &quot;You should not use <code>var</code>&quot; but that's not what they actually meant. They meant: &quot;You should not use <code>var</code> in [cases that do not apply to you]&quot;. Their advice should be ignored: It doesn't apply to you.</p>\n</li>\n<li><p>They have discovered some hidden truth that applies to you and is a fair reason not to do the thing you are doing. However, this line of reasoning is so foreign to you, you are epically misjudging the situation. You can't even begin to follow it. This <em>is</em> possible, experienced programmers are a heck of a thing to deal with, and programming is complicated enough for this to be a realistic option. But, that also means you stand no chance at all of applying common sense to expand the rule of thumb into actually applying it properly. <strong>You are doomed to make the very mistake they are warning you about</strong>, whether you apply their rule of thumb or not.</p>\n</li>\n</ul>\n<p>You know what mistakes are? They are the thing that is <em>required</em> for a noob programmer to turn into an experienced programmer. So don't sweat it. Ignore their advice as you can't apply it. If truly it is this case, you will, eventually, swear under your breath, and get that sudden rush of realization: They were right. But now you are enlightened, and on your way to a more experienced programmer. I have yet to figure out a better way to turn new coders into experienced ones; some mistakes are required along the way, and this will perhaps be one of them. Celebrate it.</p>\n<p>As an example, let's go through it for <code>var</code>.</p>\n<p>First, we ignore &quot;Just do not use it&quot; style &quot;advice&quot;. Without reasons we can't apply common sense which makes it useless. We focus on those who bring falsifiables to the table and focus on their reasoning.</p>\n<p>In my experience, the two primary named reasons are thus, given <code>var foo = something;</code>:</p>\n<ul>\n<li>It is less readable - you simply can't tell what <code>foo</code> might be.</li>\n<li>It hides details, for example, if you replace <code>List&lt;String&gt; foo = new ArrayList&lt;&gt;();</code> with <code>var foo = new ArrayList&lt;String&gt;();</code>, then you 'lost' the idea that you don't care about <code>foo</code>'s implementation, you simply care that it is a <code>List</code>.</li>\n</ul>\n<p>Fortunately, in the vast majority of code snippet cases neither point is relevant. At least, when I try to apply these rules to my code style. Your mileage may vary, of course. To wit:</p>\n<h2>It hides types</h2>\n<p>Peruse any java project and doubtlessly you'll find many, many instances of 'chained methods'. Something as simple as:</p>\n<pre><code>someObj.getClass().getName()\n\nsomeStr.toLowerCase().replace(&quot;_&quot;, &quot;&quot;);\n</code></pre>\n<p>These are <strong>just as guilty</strong> of the above problems! They hide the type of what the <em>first</em> method invocation returns. After all, how could one possibly know that <code>someObj.getClass()</code> is of type <code>java.lang.Class&lt;?whoknows?&gt;</code>, and <code>.getName()</code> is invoked on that (fortunately, also obviating the issue that we don't know what the generics are there. <code>getName()</code> doesn't care at all about them, so they aren't relevant here). Similarly, what does <code>someStr.toLowerCase()</code> return? What kind of thing are we invoking <code>replace</code> on? A total mystery!</p>\n<p>Except of course it isn't a mystery, even quite junior programmers, heck, programmers with some experience in other languages but with virtually zero experience in java will doubtlessly be utterly unfazed by the above two snippets. <code>getClass()</code> returns an instance of Class? Gosh, what a surprise. <code>.toLowerCase()</code> returns a String? You don't say! Let me make some notes!</p>\n<p>Clearly then, anybody advocating these rules is a hypocrite, or at least oversimplifying considerably. Unless they actually banned any method chaining of any kind in their code base before <code>var</code>'s introduction, that is. I know a few <code>var</code> dislikers. None of them dislike method chaining. I have yet to hear a good reason for their evident doublethink on these concepts.</p>\n<p>But it also highlights a crucial aspect of <code>var</code>. Method chaining isn't always right. For the same reason, neither is <code>var</code>. If you write this:</p>\n<pre><code>// This is an entirely hypothetical method!\nfoo.pingPeer(message, sender).getName()\n</code></pre>\n<p>Then perhaps that's not such a good idea. What does <code>pingPeer</code> return? I have no idea. Unless casual familiarity with whatever this is an API for would make the answer obvious, then the above is probably not a good idea. Neither <code>pingPeer</code> nor <code>getName</code> lends itself to knowing what the heck is going on here. The method chaining is hiding important information. This code is bad code style for that reason - it is less legible than the obvious replacement:</p>\n<pre><code>MessageReply reply = foo.pingPeer(message, sender);\nreply.getName();\n</code></pre>\n<p>Yes, it is longer, and longer code is usually worse, but not always. This is one of those cases.</p>\n<p>(I have no idea how a reply has a name either. As I said, hypothetical API I just made up. The fact that replies having names is surprising is part of the point: All the more reason to make sure anybody perusing this code is clear about what thing you're getting the name of).</p>\n<p>Thus, the rule: <strong>Use <code>var</code> only if the type that is now hidden is trivially determinable from context</strong>. Good hints that this is the case is if the type name is trivially derivable from a variable name or method, e.g:</p>\n<pre><code>// eligible for replacing with var\nList&lt;Student&gt; x = course.getEnrolledStudents();\nList&lt;Student&gt; students = course.getEnrolled();\n\n// Not so clear cut, use careful judgement\nList&lt;Student&gt; x = course.getEnrolled();\n</code></pre>\n<h2>Type specificity loss</h2>\n<p>The same method chaining argument applies here to a lesser extent as well. The solution to this dilemma is similar too: If it feels like omitting this information impacts the readability of a casual glance at the method, then don't use <code>var</code>.</p>\n<p>A trivial way to know it is highly unlikely to matter is if you never reassign the variable. If you write:</p>\n<pre><code>public void List&lt;String&gt; foo() {\n  var out = new ArrayList&lt;String&gt;();\n  // code that interacts with &quot;out&quot;,\n  // but never overwrites it, i.e. no out = ... anywhere..\n  return out;\n}\n</code></pre>\n<p>Then you might want to mark <code>out</code> as <code>final</code>, but in general it doesn't really feel like the lack of representing 'actual list impl does not really matter' is particularly relevant in understanding what this code does, and a reader of this code is unlikely to be completely sent on a wild goose chase by erroneously thinking: &quot;Huh! The original author must clearly care a lot about the list being, specifically, an arraylist! I'm going to read this entire method looking for the reason for that instead of focussing on what it is doing!&quot;.</p>\n<p>I'd use <code>var</code> here, with no hesitation at all.</p>\n<h2>A third reason not known to me</h2>\n<p>If I program long enough and on sufficient different kinds of projects, perhaps one fine day I will realize usage of <code>var</code> caused me a ton of pain, and I now know this third reason. I will never forget it, in fact. I will swear under my breath, but the moment will pass, as I'm also celebrating that I just became a better programmer. I'll refactor the code and write the time this takes off as unknown tech debt that had to be solved.</p>\n"}],"owner":{"account_id":20269550,"reputation":206,"user_id":14866016,"display_name":"RedCrafter LP"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1362,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"closed_date":1641210428,"accepted_answer_id":70561353,"answer_count":1,"score":5,"last_activity_date":1667585901,"creation_date":1641175924,"question_id":70561118,"body_markdown":"My question is a code style question. So there&#39;s obviously not a definitive &quot;right&quot; answer to it.\r\n\r\n    var foo = new Foo&lt;String&gt;();\r\n\r\nor\r\n\r\n    Foo&lt;String&gt; foo = new Foo&lt;&gt;();\r\n\r\n---\r\nBoth versions are equivalent valid Java code assuming the generic class `Foo` exists. I couldn&#39;t find anything like guidelines regarding `var` and *generic types*. ","title":"Should you use var on generic types in Java?","body":"<p>My question is a code style question. So there's obviously not a definitive &quot;right&quot; answer to it.</p>\n<pre><code>var foo = new Foo&lt;String&gt;();\n</code></pre>\n<p>or</p>\n<pre><code>Foo&lt;String&gt; foo = new Foo&lt;&gt;();\n</code></pre>\n<hr />\n<p>Both versions are equivalent valid Java code assuming the generic class <code>Foo</code> exists. I couldn't find anything like guidelines regarding <code>var</code> and <em>generic types</em>.</p>\n"},{"tags":["java","android","variables"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1667586201,"post_id":74321379,"comment_id":131209744,"body_markdown":"you probably shouldn&#39;t use manual table rows but one of the list view layouts that allow you to build dynamic lists. https://developer.android.com/develop/ui/views/layout/recyclerview - there&#39;s also https://stackoverflow.com/a/6831562/995891 which would work in a loop","body":"you probably shouldn&#39;t use manual table rows but one of the list view layouts that allow you to build dynamic lists. <a href=\"https://developer.android.com/develop/ui/views/layout/recyclerview\" rel=\"nofollow noreferrer\">developer.android.com/develop/ui/views/layout/recyclerview</a> - there&#39;s also <a href=\"https://stackoverflow.com/a/6831562/995891\">stackoverflow.com/a/6831562/995891</a> which would work in a loop"},{"owner":{"account_id":26696794,"reputation":141,"user_id":20304512,"display_name":"BigBeef"},"score":1,"creation_date":1667612237,"post_id":74321379,"comment_id":131214800,"body_markdown":"Believe it or not, your code is the most efficient and effective way of doing things :-)!  To reduce this code, you need a different approach to the problem, which can be messy, confusing, and convoluted.  (To include more XML code, for loops, and strange ways of obtaining reference to the views in your XML layout).  I believe zapl&#39;s second link is more the way I&#39;d approach the problem.  If not, leave it alone!  It looks good, it&#39;s symmetric, and syntatically correct!  Good luck!","body":"Believe it or not, your code is the most efficient and effective way of doing things :-)!  To reduce this code, you need a different approach to the problem, which can be messy, confusing, and convoluted.  (To include more XML code, for loops, and strange ways of obtaining reference to the views in your XML layout).  I believe zapl&#39;s second link is more the way I&#39;d approach the problem.  If not, leave it alone!  It looks good, it&#39;s symmetric, and syntatically correct!  Good luck!"}],"owner":{"account_id":25562543,"reputation":39,"user_id":19344937,"display_name":"Rose"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667585760,"creation_date":1667585760,"question_id":74321379,"body_markdown":"This is my current code, is their anyway that I can use some sort of loop to replace the copy paste? I am\r\nusing Android Studio if that makes any difference.\r\n\r\n```\r\n    if (otterPurchased &gt;= 1) {\r\n        TableRow layoutOtter2 = (TableRow) findViewById(R.id.layoutOtter2);\r\n        layoutOtter2.setVisibility(View.VISIBLE);\r\n        if (otterPurchased &gt;= 2) {\r\n            TableRow layoutOtter3 = (TableRow) findViewById(R.id.layoutOtter3);\r\n            layoutOtter3.setVisibility(View.VISIBLE);\r\n            if (otterPurchased &gt;= 3) {\r\n                TableRow layoutOtter4 = (TableRow) findViewById(R.id.layoutOtter4);\r\n                layoutOtter4.setVisibility(View.VISIBLE);\r\n                if (otterPurchased &gt;= 4) {\r\n                    TableRow layoutOtter5 = (TableRow) findViewById(R.id.layoutOtter5);\r\n                    layoutOtter5.setVisibility(View.VISIBLE);\r\n                    if (otterPurchased &gt;= 5) {\r\n                        TableRow layoutOtter6 = (TableRow) findViewById(R.id.layoutOtter6);\r\n                        layoutOtter6.setVisibility(View.VISIBLE);\r\n                        if (otterPurchased &gt;= 6) {\r\n                            TableRow layoutOtter7 = (TableRow) findViewById(R.id.layoutOtter7);\r\n                            layoutOtter7.setVisibility(View.VISIBLE);\r\n                            if (otterPurchased &gt;= 7) {\r\n                                TableRow layoutOtter8 = (TableRow) findViewById(R.id.layoutOtter8);\r\n                                layoutOtter8.setVisibility(View.VISIBLE);\r\n                                if (otterPurchased &gt;= 8) {\r\n                                    TableRow layoutOtter9 = (TableRow) findViewById(R.id.layoutOtter9);\r\n                                    layoutOtter9.setVisibility(View.VISIBLE);\r\n                                    if (otterPurchased &gt;= 9) {\r\n                                        TableRow layoutOtter10 = (TableRow)\r\nfindViewById(R.id.layoutOtter10);\r\n                                        layoutOtter10.setVisibility(View.VISIBLE);\r\n                                        if (otterPurchased &gt;= 10) {\r\n                                            TableRow layoutOtter11 = (TableRow) findViewById(R.id.layoutOtter11);\r\n                                            layoutOtter11.setVisibility(View.VISIBLE);\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nThis just checks variables and runs the underneath code if true, also in a forever loop.","title":"Can I use some sort of loop to change repeating (slightly differing) variables?","body":"<p>This is my current code, is their anyway that I can use some sort of loop to replace the copy paste? I am\nusing Android Studio if that makes any difference.</p>\n<pre><code>    if (otterPurchased &gt;= 1) {\n        TableRow layoutOtter2 = (TableRow) findViewById(R.id.layoutOtter2);\n        layoutOtter2.setVisibility(View.VISIBLE);\n        if (otterPurchased &gt;= 2) {\n            TableRow layoutOtter3 = (TableRow) findViewById(R.id.layoutOtter3);\n            layoutOtter3.setVisibility(View.VISIBLE);\n            if (otterPurchased &gt;= 3) {\n                TableRow layoutOtter4 = (TableRow) findViewById(R.id.layoutOtter4);\n                layoutOtter4.setVisibility(View.VISIBLE);\n                if (otterPurchased &gt;= 4) {\n                    TableRow layoutOtter5 = (TableRow) findViewById(R.id.layoutOtter5);\n                    layoutOtter5.setVisibility(View.VISIBLE);\n                    if (otterPurchased &gt;= 5) {\n                        TableRow layoutOtter6 = (TableRow) findViewById(R.id.layoutOtter6);\n                        layoutOtter6.setVisibility(View.VISIBLE);\n                        if (otterPurchased &gt;= 6) {\n                            TableRow layoutOtter7 = (TableRow) findViewById(R.id.layoutOtter7);\n                            layoutOtter7.setVisibility(View.VISIBLE);\n                            if (otterPurchased &gt;= 7) {\n                                TableRow layoutOtter8 = (TableRow) findViewById(R.id.layoutOtter8);\n                                layoutOtter8.setVisibility(View.VISIBLE);\n                                if (otterPurchased &gt;= 8) {\n                                    TableRow layoutOtter9 = (TableRow) findViewById(R.id.layoutOtter9);\n                                    layoutOtter9.setVisibility(View.VISIBLE);\n                                    if (otterPurchased &gt;= 9) {\n                                        TableRow layoutOtter10 = (TableRow)\nfindViewById(R.id.layoutOtter10);\n                                        layoutOtter10.setVisibility(View.VISIBLE);\n                                        if (otterPurchased &gt;= 10) {\n                                            TableRow layoutOtter11 = (TableRow) findViewById(R.id.layoutOtter11);\n                                            layoutOtter11.setVisibility(View.VISIBLE);\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>This just checks variables and runs the underneath code if true, also in a forever loop.</p>\n"},{"tags":["java","java-10"],"comments":[{"owner":{"account_id":9879926,"reputation":4097,"user_id":7316365,"accept_rate":80,"display_name":"Vivick"},"score":0,"creation_date":1524738132,"post_id":50040439,"comment_id":87097016,"body_markdown":"I would give the same advice as for `auto` in c++, only use this when you&#39;re sure there won&#39;t be conflicts (and abuse it for long types, we know our map entries). If you know the type (and it&#39;s not very long), you should use it.","body":"I would give the same advice as for <code>auto</code> in c++, only use this when you&#39;re sure there won&#39;t be conflicts (and abuse it for long types, we know our map entries). If you know the type (and it&#39;s not very long), you should use it."},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":4,"creation_date":1524738356,"post_id":50040439,"comment_id":87097151,"body_markdown":"You _can_ use it for non-denotable types.","body":"You <i>can</i> use it for non-denotable types."},{"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"score":7,"creation_date":1524738479,"post_id":50040439,"comment_id":87097216,"body_markdown":"FWIW I don&#39;t like it either, so my answer would be **you shouldn&#39;t use it**. You should always know the type as far as I&#39;m concerned, and not writing it is arguably bad for readability. That and there&#39;s *many* more useful things that could be added to Java on a language level. That said, I&#39;m an old fuddy duddy when it comes to these things, and there will clearly be others that disagree, so this really is just opinion based without a clear answer, and not on topic here.","body":"FWIW I don&#39;t like it either, so my answer would be <b>you shouldn&#39;t use it</b>. You should always know the type as far as I&#39;m concerned, and not writing it is arguably bad for readability. That and there&#39;s <i>many</i> more useful things that could be added to Java on a language level. That said, I&#39;m an old fuddy duddy when it comes to these things, and there will clearly be others that disagree, so this really is just opinion based without a clear answer, and not on topic here."},{"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"score":9,"creation_date":1524755696,"post_id":50040439,"comment_id":87109247,"body_markdown":"*Style Guidelines for Local Variable Type Inference:* http://openjdk.java.net/projects/amber/LVTIstyle.html","body":"<i>Style Guidelines for Local Variable Type Inference:</i> <a href=\"http://openjdk.java.net/projects/amber/LVTIstyle.html\" rel=\"nofollow noreferrer\">openjdk.java.net/projects/amber/LVTIstyle.html</a>"},{"owner":{"account_id":1416522,"reputation":91374,"user_id":3553087,"display_name":"Brian Goetz"},"score":11,"creation_date":1524755956,"post_id":50040439,"comment_id":87109399,"body_markdown":"There are plenty of circumstances where type inference makes code _more_ readable.  Of course, if you write bad code (poorly chosen variable names, super-long methods, etc), then leaving out type information might make your bad code even worse.  So, write good code, and use it where it helps.","body":"There are plenty of circumstances where type inference makes code <i>more</i> readable.  Of course, if you write bad code (poorly chosen variable names, super-long methods, etc), then leaving out type information might make your bad code even worse.  So, write good code, and use it where it helps."},{"owner":{"account_id":874712,"reputation":19505,"user_id":924597,"accept_rate":79,"display_name":"Shorn"},"score":0,"creation_date":1524781658,"post_id":50040439,"comment_id":87121847,"body_markdown":"Are you saying that if you _could_ use `var` for all the types you wanted, that you would then write the given example code with no qualms about it?  I&#39;d suggest that unless it were blindingly obvious in context, the example code is likely to be a bad choice with any kind of type inference in any language, regardless of specific mechanics.","body":"Are you saying that if you <i>could</i> use <code>var</code> for all the types you wanted, that you would then write the given example code with no qualms about it?  I&#39;d suggest that unless it were blindingly obvious in context, the example code is likely to be a bad choice with any kind of type inference in any language, regardless of specific mechanics."},{"owner":{"account_id":4483663,"reputation":12326,"user_id":3647002,"accept_rate":47,"display_name":"Gayan Weerakutti"},"score":2,"creation_date":1617040769,"post_id":50040439,"comment_id":118185227,"body_markdown":"IMO it adds ambiguity to code. So NO. For instance, `var var = 10`, the var here is inferred as a long.","body":"IMO it adds ambiguity to code. So NO. For instance, <code>var var = 10</code>, the var here is inferred as a long."}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1524817932,"post_id":50040709,"comment_id":87133182,"body_markdown":"`null` is the *only* case among the OP’s list which doesn’t work. And even for that case, I don’t see how supporting it, e.g. by always inferring `Object` for `null`, would imply that “Java would not be statically typed anymore”.","body":"<code>null</code> is the <i>only</i> case among the OP’s list which doesn’t work. And even for that case, I don’t see how supporting it, e.g. by always inferring <code>Object</code> for <code>null</code>, would imply that “Java would not be statically typed anymore”."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":21,"creation_date":1524817980,"post_id":50040709,"comment_id":87133203,"body_markdown":"Regarding your last paragraph, it might be valid to assume that `getPerson()` returns a `Person`, but it doesn’t matter. Note how the OP is willing to write an expression like `someObj.getSomeValue().getSomethingElse().returnsSomething()` without knowing, what type `getSomeValue()` or `getSomethingElse()` are returning. That’s not different to writing `var x = someObj.getSomeValue(); var y = x.getSomethingElse(); y.returnsSomething()`…","body":"Regarding your last paragraph, it might be valid to assume that <code>getPerson()</code> returns a <code>Person</code>, but it doesn’t matter. Note how the OP is willing to write an expression like <code>someObj.getSomeValue().getSomethingElse().returnsSomething()</code> without knowing, what type <code>getSomeValue()</code> or <code>getSomethingElse()</code> are returning. That’s not different to writing <code>var x = someObj.getSomeValue(); var y = x.getSomethingElse(); y.returnsSomething()</code>…"},{"owner":{"account_id":2142253,"reputation":878,"user_id":1900629,"accept_rate":64,"display_name":"Daniel Jipa"},"score":0,"creation_date":1691393388,"post_id":50040709,"comment_id":135479916,"body_markdown":"getPerson() . That could be the DTO or the JPA entity ?","body":"getPerson() . That could be the DTO or the JPA entity ?"},{"owner":{"account_id":2142253,"reputation":878,"user_id":1900629,"accept_rate":64,"display_name":"Daniel Jipa"},"score":0,"creation_date":1691393715,"post_id":50040709,"comment_id":135479975,"body_markdown":"Even in the Java code itself you have poorly chosen names. `var buffer = response.bufferFactory().wrap(message.getBytes(StandardCharsets.UTF_8));`","body":"Even in the Java code itself you have poorly chosen names. <code>var buffer = response.bufferFactory().wrap(message.getBytes(StandardChars&zwnj;&#8203;ets.UTF_8));</code>"},{"owner":{"account_id":211729,"reputation":588,"user_id":464087,"display_name":"EricS"},"score":0,"creation_date":1701214660,"post_id":50040709,"comment_id":136747335,"body_markdown":"It&#39;s only clear to the compiler. It&#39;s no longer clear to the reader without either inspecting the code in some kind of IDE or knowing all the APIs involved. The code is simply less readable in many situations.","body":"It&#39;s only clear to the compiler. It&#39;s no longer clear to the reader without either inspecting the code in some kind of IDE or knowing all the APIs involved. The code is simply less readable in many situations."}],"tags":[],"owner":{"account_id":6627494,"reputation":2666,"user_id":5117236,"accept_rate":84,"display_name":"Impulse The Fox"},"comment_count":5,"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1525000312,"creation_date":1524738602,"answer_id":50040709,"question_id":50040439,"body_markdown":"Though this is probably primarily opinion-based, I&#39;d say: **No, it is not evil.**\r\n\r\nThe `var` keyword is only allowed when the type of the variable is already clear at compile-time. Also, it will generate the same bytecode, so there is nothing to fear.\r\n\r\nIn some cases like `null`, `var` is not allowed.   This doesn&#39;t make it evil, but rather good. If this was not the case, Java would not be statically typed anymore.  (Note, however, it _is_ allowed in most of the cases you&#39;ve listed.)\r\n\r\nAlso I don&#39;t see any problem with your example. Since your `.returnsSomething()` would rather be something like `.getPerson()` in the real world, it would be clear to the reader that `var` is a Person.","title":"Should I use var in Java 10?","body":"<p>Though this is probably primarily opinion-based, I'd say: <strong>No, it is not evil.</strong></p>\n\n<p>The <code>var</code> keyword is only allowed when the type of the variable is already clear at compile-time. Also, it will generate the same bytecode, so there is nothing to fear.</p>\n\n<p>In some cases like <code>null</code>, <code>var</code> is not allowed.   This doesn't make it evil, but rather good. If this was not the case, Java would not be statically typed anymore.  (Note, however, it <em>is</em> allowed in most of the cases you've listed.)</p>\n\n<p>Also I don't see any problem with your example. Since your <code>.returnsSomething()</code> would rather be something like <code>.getPerson()</code> in the real world, it would be clear to the reader that <code>var</code> is a Person.</p>\n"}],"owner":{"account_id":6367122,"reputation":1369,"user_id":4940780,"accept_rate":86,"display_name":"Antho Christen"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33266,"favorite_count":0,"down_vote_count":1,"up_vote_count":28,"closed_date":1524738676,"answer_count":1,"score":27,"last_activity_date":1667585511,"creation_date":1524737847,"question_id":50040439,"body_markdown":"Given that I can&#39;t use `var` for *non-denotable* types (Nulls, Anonymous classes, Some Single Method Class and most importantly Intersecting Types), am I better off not using it for better readability and consistency (given that it&#39;s only for *local* types)? \r\n\r\nI kind of feel that it would be abused:\r\n\r\n```\r\nvar a = someObj.getSomeValue().getSomethingElse().returnsSomething();\r\n```","title":"Should I use var in Java 10?","body":"<p>Given that I can't use <code>var</code> for <em>non-denotable</em> types (Nulls, Anonymous classes, Some Single Method Class and most importantly Intersecting Types), am I better off not using it for better readability and consistency (given that it's only for <em>local</em> types)?</p>\n<p>I kind of feel that it would be abused:</p>\n<pre><code>var a = someObj.getSomeValue().getSomethingElse().returnsSomething();\n</code></pre>\n"},{"tags":["java","list","grpc","grpc-java"],"answers":[{"comments":[{"owner":{"account_id":26292764,"reputation":13,"user_id":19959527,"display_name":"Diego-Santiago"},"score":0,"creation_date":1667588669,"post_id":74321274,"comment_id":131210397,"body_markdown":"Yeah! It is true, but how can I put the information of the &#180;message Person&#180; into the &#180;message ListPersonsResponse.Person&#180;?","body":"Yeah! It is true, but how can I put the information of the &#180;message Person&#180; into the &#180;message ListPersonsResponse.Person&#180;?"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1667594738,"post_id":74321274,"comment_id":131212039,"body_markdown":"With the builders, like normal.  `ListPersonsResponse.newBuilder().addPerson(Person.newBuilder().setId(...).build()).build()` and so on.","body":"With the builders, like normal.  <code>ListPersonsResponse.newBuilder().addPerson(Person.newBuilder&zwnj;&#8203;().setId(...).build(&zwnj;&#8203;)).build()</code> and so on."}],"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667585166,"creation_date":1667585166,"answer_id":74321274,"question_id":74320631,"body_markdown":"You don&#39;t need to do any streaming here.  All you need to do is return your result by calling `responseObserver.onNext(myListPersonsResponse)` after constructing the response object.","title":"How to override a gRPC list method for implementation in a Java service","body":"<p>You don't need to do any streaming here.  All you need to do is return your result by calling <code>responseObserver.onNext(myListPersonsResponse)</code> after constructing the response object.</p>\n"}],"owner":{"account_id":26292764,"reputation":13,"user_id":19959527,"display_name":"Diego-Santiago"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":520,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74321274,"answer_count":1,"score":1,"last_activity_date":1667585166,"creation_date":1667581531,"question_id":74320631,"body_markdown":"I have the following schema in my `messages.proto` file:\r\n\r\n```proto\r\nmessage Person {\r\n  string id = 1;\r\n  string first_name = 2;\r\n  string last_name = 3;\r\n  string email = 4;\r\n  string alias = 5;\r\n}\r\n\r\n//CREATE, DELETE, UPDATE RESPONSES AND REQUESTS Messages\r\n\r\nmessage ListPersonsRequest {\r\n    ListOptions options = 1;\r\n}\r\n\r\nmessage ListPersonsResponse {\r\n   repeated Person person = 1;\r\n   string total_count = 2;\r\n   string total_pages = 3;\r\n   string next_page_token = 4;\r\n}\r\n```\r\n\r\nI have the following schema in my `services.proto` file:\r\n\r\n```proto\r\nservice PersonService {\r\n\r\n  //rpc methods to create, update, delete...\r\n\r\n  rpc ListPersons (ListPersonsRequest) returns  (ListPersonsResponse) {\r\n    option (google.api.http) = {\r\n      get: &quot;/person&quot;\r\n    };\r\n  }\r\n}\r\n```\r\n\r\nIn my class &#39;ServiceImp&#39;:\r\n\r\n```java\r\n@GrpcService\r\n@AllArgsConstructor(onConstructor = @__(@Autowired))\r\npublic class PersonServiceImpl extends PersonServiceImplBase\r\n{\r\n\r\n   private PersonRepository personRepository;\r\n\r\n   @Override\r\n   public void getPerson(GetPersonRequest request, StreamObserver&lt;GetPersonResponse&gt; responseObserver)\r\n   {\r\n\r\n      try\r\n      {\r\n         Person person = personRepository.findById(UUID.fromString(request.getId())).orElseThrow(() -&gt; new EntityNotFoundException());\r\n\r\n         Person personProto = Person\r\n             .newBuilder()\r\n             .setId(person.getId().toString())\r\n             .setFirstName(person.getFirstName())\r\n               .setLastName(person.getLastName())\r\n               .setEmail(person.getEmail())\r\n               .setAlias(person.getAlias()).build();\r\n\r\n         GetPersonResponse response = GetPersonResponse.newBuilder().setPerson(personProto).build();\r\n\r\n         responseObserver.onNext(response);\r\n         responseObserver.onCompleted();\r\n      }\r\n      catch (EntityNotFoundException e)\r\n      {\r\n         responseObserver.onError(Status.NOT_FOUND.withCause(e).asException());\r\n      }\r\n\r\n   }\r\n\r\n   @Override\r\n   public void createPerson(CreatePersonRequest request, StreamObserver&lt;CreatePersonResponse&gt; responseObserver)\r\n   {\r\n      Person person = Person.builder().firstName(request.getPerson().getFirstName()).lastName(request.getPerson().getLastName()).email(request.getPerson().getEmail()).alias(request.getPerson().getAlias())\r\n            .build();\r\n      person = personRepository.save(person); // probably should handle errors\r\n\r\n      Person personProto = Person.newBuilder().setId(person.getId().toString()).setFirstName(person.getFirstName())\r\n            .setLastName(person.getLastName()).setEmail(person.getEmail()).setAlias(person.getAlias()).build();\r\n\r\n      CreatePersonResponse response = CreatePersonResponse.newBuilder().setPerson(personProto).build();\r\n\r\n      responseObserver.onNext(response);\r\n      responseObserver.onCompleted();\r\n   }\r\n\r\n   @Override\r\n   public void listPersons(ListPersonsRequest request, StreamObserver&lt;ListPersonsResponse&gt; responseObserver){\r\n\r\n   }\r\n}\r\n```\r\n\r\nI&#39;m trying to response a object which contains a list of all the created items, but I&#39;m confused with how to implement it in my listPerson method, that I&#39;m overriding from the created serviceGRPC\r\n\r\n```java\r\nprivate static volatile io.grpc.MethodDescriptor&lt;grpc.generated.ListPersonsRequest,\r\n    grpc.generated.ListPersonsResponse&gt; getListPersonsMethod;\r\n\r\n@io.grpc.stub.annotations.RpcMethod(\r\n    fullMethodName = SERVICE_NAME + &#39;/&#39; + &quot;ListPersons&quot;,\r\n    requestType = grpc.generated.ListPersonsRequest.class,\r\n    responseType = grpc.generated.ListPersonsResponse.class,\r\n    methodType = io.grpc.MethodDescriptor.MethodType.UNARY)\r\npublic static io.grpc.MethodDescriptor&lt;grpc.generated.ListPersonsRequest,\r\n    grpc.generated.ListPersonsResponse&gt; getListPersonsMethod() {\r\n  io.grpc.MethodDescriptor&lt;grpc.generated.ListPersonsRequest, grpc.generated.ListPersonsResponse&gt; getListPersonsMethod;\r\n  if ((getListPersonsMethod = PersonServiceGrpc.getListPersonsMethod) == null) {\r\n    synchronized (PersonServiceGrpc.class) {\r\n      if ((getListPersonsMethod = PersonServiceGrpc.getListPersonsMethod) == null) {\r\n        PersonServiceGrpc.getListPersonsMethod = getListPersonsMethod =\r\n            io.grpc.MethodDescriptor.&lt;grpc.generated.ListPersonsRequest, grpc.generated.ListPersonsResponse&gt;newBuilder()\r\n            .setType(io.grpc.MethodDescriptor.MethodType.UNARY)\r\n            .setFullMethodName(generateFullMethodName(SERVICE_NAME, &quot;ListPersons&quot;))\r\n            .setSampledToLocalTracing(true)\r\n            .setRequestMarshaller(io.grpc.protobuf.ProtoUtils.marshaller(\r\n                grpc.generated.ListPersonsRequest.getDefaultInstance()))\r\n            .setResponseMarshaller(io.grpc.protobuf.ProtoUtils.marshaller(\r\n                grpc.generated.ListPersonsResponse.getDefaultInstance()))\r\n            .setSchemaDescriptor(new PersonServiceMethodDescriptorSupplier(&quot;ListPersons&quot;))\r\n            .build();\r\n      }\r\n    }\r\n  }\r\n  return getListPersonsMethod;\r\n}\r\n```\r\n\r\n```java\r\n@Override\r\npublic void listPersons(ListPersonsRequest request, StreamObserver&lt;ListPersonsResponse&gt; responseObserver){\r\n    //Heres were implement is cofused\r\n}\r\n```\r\n\r\nI know that using a stream you are returning an iterator and that means you can start processing the Items on client even before the server has finished the gRPC response, but I&#39;m using the entire object. Is there a way to return it with the stored values? How?\r\n","title":"How to override a gRPC list method for implementation in a Java service","body":"<p>I have the following schema in my <code>messages.proto</code> file:</p>\n<pre><code>message Person {\n  string id = 1;\n  string first_name = 2;\n  string last_name = 3;\n  string email = 4;\n  string alias = 5;\n}\n\n//CREATE, DELETE, UPDATE RESPONSES AND REQUESTS Messages\n\nmessage ListPersonsRequest {\n    ListOptions options = 1;\n}\n\nmessage ListPersonsResponse {\n   repeated Person person = 1;\n   string total_count = 2;\n   string total_pages = 3;\n   string next_page_token = 4;\n}\n</code></pre>\n<p>I have the following schema in my <code>services.proto</code> file:</p>\n<pre><code>service PersonService {\n\n  //rpc methods to create, update, delete...\n\n  rpc ListPersons (ListPersonsRequest) returns  (ListPersonsResponse) {\n    option (google.api.http) = {\n      get: &quot;/person&quot;\n    };\n  }\n}\n</code></pre>\n<p>In my class 'ServiceImp':</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GrpcService\n@AllArgsConstructor(onConstructor = @__(@Autowired))\npublic class PersonServiceImpl extends PersonServiceImplBase\n{\n\n   private PersonRepository personRepository;\n\n   @Override\n   public void getPerson(GetPersonRequest request, StreamObserver&lt;GetPersonResponse&gt; responseObserver)\n   {\n\n      try\n      {\n         Person person = personRepository.findById(UUID.fromString(request.getId())).orElseThrow(() -&gt; new EntityNotFoundException());\n\n         Person personProto = Person\n             .newBuilder()\n             .setId(person.getId().toString())\n             .setFirstName(person.getFirstName())\n               .setLastName(person.getLastName())\n               .setEmail(person.getEmail())\n               .setAlias(person.getAlias()).build();\n\n         GetPersonResponse response = GetPersonResponse.newBuilder().setPerson(personProto).build();\n\n         responseObserver.onNext(response);\n         responseObserver.onCompleted();\n      }\n      catch (EntityNotFoundException e)\n      {\n         responseObserver.onError(Status.NOT_FOUND.withCause(e).asException());\n      }\n\n   }\n\n   @Override\n   public void createPerson(CreatePersonRequest request, StreamObserver&lt;CreatePersonResponse&gt; responseObserver)\n   {\n      Person person = Person.builder().firstName(request.getPerson().getFirstName()).lastName(request.getPerson().getLastName()).email(request.getPerson().getEmail()).alias(request.getPerson().getAlias())\n            .build();\n      person = personRepository.save(person); // probably should handle errors\n\n      Person personProto = Person.newBuilder().setId(person.getId().toString()).setFirstName(person.getFirstName())\n            .setLastName(person.getLastName()).setEmail(person.getEmail()).setAlias(person.getAlias()).build();\n\n      CreatePersonResponse response = CreatePersonResponse.newBuilder().setPerson(personProto).build();\n\n      responseObserver.onNext(response);\n      responseObserver.onCompleted();\n   }\n\n   @Override\n   public void listPersons(ListPersonsRequest request, StreamObserver&lt;ListPersonsResponse&gt; responseObserver){\n\n   }\n}\n</code></pre>\n<p>I'm trying to response a object which contains a list of all the created items, but I'm confused with how to implement it in my listPerson method, that I'm overriding from the created serviceGRPC</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static volatile io.grpc.MethodDescriptor&lt;grpc.generated.ListPersonsRequest,\n    grpc.generated.ListPersonsResponse&gt; getListPersonsMethod;\n\n@io.grpc.stub.annotations.RpcMethod(\n    fullMethodName = SERVICE_NAME + '/' + &quot;ListPersons&quot;,\n    requestType = grpc.generated.ListPersonsRequest.class,\n    responseType = grpc.generated.ListPersonsResponse.class,\n    methodType = io.grpc.MethodDescriptor.MethodType.UNARY)\npublic static io.grpc.MethodDescriptor&lt;grpc.generated.ListPersonsRequest,\n    grpc.generated.ListPersonsResponse&gt; getListPersonsMethod() {\n  io.grpc.MethodDescriptor&lt;grpc.generated.ListPersonsRequest, grpc.generated.ListPersonsResponse&gt; getListPersonsMethod;\n  if ((getListPersonsMethod = PersonServiceGrpc.getListPersonsMethod) == null) {\n    synchronized (PersonServiceGrpc.class) {\n      if ((getListPersonsMethod = PersonServiceGrpc.getListPersonsMethod) == null) {\n        PersonServiceGrpc.getListPersonsMethod = getListPersonsMethod =\n            io.grpc.MethodDescriptor.&lt;grpc.generated.ListPersonsRequest, grpc.generated.ListPersonsResponse&gt;newBuilder()\n            .setType(io.grpc.MethodDescriptor.MethodType.UNARY)\n            .setFullMethodName(generateFullMethodName(SERVICE_NAME, &quot;ListPersons&quot;))\n            .setSampledToLocalTracing(true)\n            .setRequestMarshaller(io.grpc.protobuf.ProtoUtils.marshaller(\n                grpc.generated.ListPersonsRequest.getDefaultInstance()))\n            .setResponseMarshaller(io.grpc.protobuf.ProtoUtils.marshaller(\n                grpc.generated.ListPersonsResponse.getDefaultInstance()))\n            .setSchemaDescriptor(new PersonServiceMethodDescriptorSupplier(&quot;ListPersons&quot;))\n            .build();\n      }\n    }\n  }\n  return getListPersonsMethod;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void listPersons(ListPersonsRequest request, StreamObserver&lt;ListPersonsResponse&gt; responseObserver){\n    //Heres were implement is cofused\n}\n</code></pre>\n<p>I know that using a stream you are returning an iterator and that means you can start processing the Items on client even before the server has finished the gRPC response, but I'm using the entire object. Is there a way to return it with the stored values? How?</p>\n"},{"tags":["java","jax-rs"],"answers":[{"tags":[],"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667584938,"creation_date":1664060757,"answer_id":73841097,"question_id":73840175,"body_markdown":"When you declare a resource method, you can only have _one_ parameter that is the request entity. The parameter _without_ any annotations is considered the entity body. All other parameters _must_ have some kind of annotation that specifies what it is and what should be injected. If they are query parameters, use `@QueryParam`. If it is a path parameter, use `@PathParam`. If it some other non-Param injectable (that is supported) e.g. `HttpServletRequest`, then use `@Context`. Other supported &quot;Param&quot; injectable types are `@HeaderParam`, `@FormParam`, `@CookeParam`, `@MatrixParam`, etc.","title":"Why do I get Error method has more than one entity. You must use only one entity parameter","body":"<p>When you declare a resource method, you can only have <em>one</em> parameter that is the request entity. The parameter <em>without</em> any annotations is considered the entity body. All other parameters <em>must</em> have some kind of annotation that specifies what it is and what should be injected. If they are query parameters, use <code>@QueryParam</code>. If it is a path parameter, use <code>@PathParam</code>. If it some other non-Param injectable (that is supported) e.g. <code>HttpServletRequest</code>, then use <code>@Context</code>. Other supported &quot;Param&quot; injectable types are <code>@HeaderParam</code>, <code>@FormParam</code>, <code>@CookeParam</code>, <code>@MatrixParam</code>, etc.</p>\n"}],"owner":{"account_id":21515566,"reputation":43,"user_id":15857509,"display_name":"Danish "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":73841097,"answer_count":1,"score":3,"last_activity_date":1667584938,"creation_date":1664048978,"question_id":73840175,"body_markdown":"I am developing a servlet for JAVA EE and keep getting this error &quot;Error Viewerpage.index method has more than one entity. You must use only one entity parameter.&quot;\r\n\r\n&gt; \r\n\r\n\t\r\n    @ApplicationPath(&quot;REST2&quot;)\r\n    @Path(&quot;/viewer&quot;)\r\n    public class Viewerpage extends Application {\r\n    private GlobalConfiguration globalConfiguration;\r\n    private ViewerService viewerService;\r\n\r\n    @GET\r\n    @Path(value = &quot;/viewer&quot;)\r\n\tpublic Response index(String filename, String page, HttpServletResponse response) throws IOException {\r\n\t\t// set headers before we write to response body\r\n\t\tresponse.setStatus(HttpServletResponse.SC_OK);\r\n\t\tresponse.setContentType(MediaType.TEXT_HTML);\r\n\r\n\t\t// render a page of a file based on a parameters from request\r\n\t\trenderPage(filename, response.getOutputStream());\r\n\r\n\t\t// complete response\r\n\t\tresponse.flushBuffer();\r\n\t\t String value = &quot;redirect:index&quot;;\r\n        return Response.status(Response.Status.OK).entity(value).build();\r\n\r\n\t}\r\n\r\n\tprivate void renderPage(String filename, OutputStream outputStream) {\r\n\t\tString filepath = &quot;storage/&quot; + filename;\r\n\r\n\t\t// render first page\r\n\t\tMemoryPageStreamFactory pageStreamFactory = new MemoryPageStreamFactory(outputStream);\r\n\t\tHtmlViewOptions viewOptions = HtmlViewOptions.forEmbeddedResources(pageStreamFactory);\r\n\r\n\t\tViewer viewer = new Viewer(filepath);\r\n\t\tviewer.view(viewOptions);\r\n\t\tviewer.close();\r\n\t}\r\n    }\r\n\r\nAny ideas what cause this error?","title":"Why do I get Error method has more than one entity. You must use only one entity parameter","body":"<p>I am developing a servlet for JAVA EE and keep getting this error &quot;Error Viewerpage.index method has more than one entity. You must use only one entity parameter.&quot;</p>\n<blockquote>\n</blockquote>\n<pre><code>@ApplicationPath(&quot;REST2&quot;)\n@Path(&quot;/viewer&quot;)\npublic class Viewerpage extends Application {\nprivate GlobalConfiguration globalConfiguration;\nprivate ViewerService viewerService;\n\n@GET\n@Path(value = &quot;/viewer&quot;)\npublic Response index(String filename, String page, HttpServletResponse response) throws IOException {\n    // set headers before we write to response body\n    response.setStatus(HttpServletResponse.SC_OK);\n    response.setContentType(MediaType.TEXT_HTML);\n\n    // render a page of a file based on a parameters from request\n    renderPage(filename, response.getOutputStream());\n\n    // complete response\n    response.flushBuffer();\n     String value = &quot;redirect:index&quot;;\n    return Response.status(Response.Status.OK).entity(value).build();\n\n}\n\nprivate void renderPage(String filename, OutputStream outputStream) {\n    String filepath = &quot;storage/&quot; + filename;\n\n    // render first page\n    MemoryPageStreamFactory pageStreamFactory = new MemoryPageStreamFactory(outputStream);\n    HtmlViewOptions viewOptions = HtmlViewOptions.forEmbeddedResources(pageStreamFactory);\n\n    Viewer viewer = new Viewer(filepath);\n    viewer.view(viewOptions);\n    viewer.close();\n}\n}\n</code></pre>\n<p>Any ideas what cause this error?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1667494691,"post_id":74306689,"comment_id":131185560,"body_markdown":"Can you use [JavaFX](https://en.wikipedia.org/wiki/JavaFX) (OpenJFX), the successor to Swing? Its [`DatePicker`](https://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/DatePicker.html) class is documented as working with various *java.time* chronologies. And the [*ThreeTen-Extra*](https://www.threeten.org/threeten-extra/) library offers chronologies including [`EthiopicChronology`](https://www.threeten.org/threeten-extra/apidocs/org.threeten.extra/org/threeten/extra/chrono/EthiopicChronology.html) and `CopticChronology`.","body":"Can you use <a href=\"https://en.wikipedia.org/wiki/JavaFX\" rel=\"nofollow noreferrer\">JavaFX</a> (OpenJFX), the successor to Swing? Its <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/DatePicker.html\" rel=\"nofollow noreferrer\"><code>DatePicker</code></a> class is documented as working with various <i>java.time</i> chronologies. And the <a href=\"https://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\"><i>ThreeTen-Extra</i></a> library offers chronologies including <a href=\"https://www.threeten.org/threeten-extra/apidocs/org.threeten.extra/org/threeten/extra/chrono/EthiopicChronology.html\" rel=\"nofollow noreferrer\"><code>EthiopicChronology</code></a> and <code>CopticChronology</code>."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1667495700,"post_id":74306689,"comment_id":131185907,"body_markdown":"Here&#39;s [another JCalendar](https://github.com/ggleblanc2/another-jcalendar) that uses the Gregorian calendar.  The source code is included in the project, so you can modify the code to use an Ethiopian calendar.","body":"Here&#39;s <a href=\"https://github.com/ggleblanc2/another-jcalendar\" rel=\"nofollow noreferrer\">another JCalendar</a> that uses the Gregorian calendar.  The source code is included in the project, so you can modify the code to use an Ethiopian calendar."},{"owner":{"account_id":5083689,"reputation":1006,"user_id":4079056,"display_name":"sanurah"},"score":1,"creation_date":1667501609,"post_id":74306689,"comment_id":131187734,"body_markdown":"I did some research, looks like it&#39;s hard to achieve.\nIn Jdatechooser the setCalendar method only takes a java.util.Calendar as input. Like comments above mentioned there are other libraries that supports Ethiopic calendar system but we can not use them here.","body":"I did some research, looks like it&#39;s hard to achieve. In Jdatechooser the setCalendar method only takes a java.util.Calendar as input. Like comments above mentioned there are other libraries that supports Ethiopic calendar system but we can not use them here."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1667531601,"post_id":74306689,"comment_id":131193702,"body_markdown":"Nice calendar system, much easier than ours. I haven’t heard about it before, and I am afraid that Java hasn’t either. :-(","body":"Nice calendar system, much easier than ours. I haven’t heard about it before, and I am afraid that Java hasn’t either. :-("},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1667589713,"post_id":74306689,"comment_id":131210640,"body_markdown":"Just another one https://github.com/LGoodDatePicker/LGoodDatePicker is using JSR-310, so at least you can use https://www.threeten.org/threeten-extra/, but extra work is needed ...","body":"Just another one <a href=\"https://github.com/LGoodDatePicker/LGoodDatePicker\" rel=\"nofollow noreferrer\">github.com/LGoodDatePicker/LGoodDatePicker</a> is using JSR-310, so at least you can use <a href=\"https://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\">threeten.org/threeten-extra</a>, but extra work is needed ..."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1668066649,"post_id":74306689,"comment_id":131318071,"body_markdown":"FYI, Swing is in maintenance mode. JavaFX is the official successor to Swing, and is actively developed. Your calendar problem is one of many reasons to move on from Swing.","body":"FYI, Swing is in maintenance mode. JavaFX is the official successor to Swing, and is actively developed. Your calendar problem is one of many reasons to move on from Swing."}],"owner":{"account_id":20917037,"reputation":27,"user_id":15366488,"display_name":"me robi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1667584640,"creation_date":1667493777,"question_id":74306689,"body_markdown":"I am from Africa, Ethiopia. In my country every months are 30 days. After 12 month we count 5 days. But the Java JDateChooser recognize only Gregorian calendars. So how can I make it every months 30 days?","title":"Java swing date chooser","body":"<p>I am from Africa, Ethiopia. In my country every months are 30 days. After 12 month we count 5 days. But the Java JDateChooser recognize only Gregorian calendars. So how can I make it every months 30 days?</p>\n"},{"tags":["java","arrays","arraylist","apache-commons"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1667584418,"post_id":74321042,"comment_id":131209271,"body_markdown":"Which `ListUtils` is your `ListUtils`? Note that you are not calling &quot;clear on the iterator&quot;, you are calling _clear on a list reference_.","body":"Which <code>ListUtils</code> is your <code>ListUtils</code>? Note that you are not calling &quot;clear on the iterator&quot;, you are calling <i>clear on a list reference</i>."}],"answers":[{"tags":[],"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1667584605,"creation_date":1667584605,"answer_id":74321204,"question_id":74321042,"body_markdown":"Per [ListUtils](https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/ListUtils.html#partition-java.util.List-int-) documentation:\r\n\r\n&gt; The outer list is unmodifiable, but reflects the latest state of the source list. **The inner lists are sublist views of the original list, produced on demand using List.subList(int, int)**, and are subject to all the usual caveats about modification as explained in that API.\r\n\r\nIn essence, the inner list objects keep a reference to the _index_ of the items in the original list. When you call `List#clear`, you are really removing the items from the original `numbers` list. However, without the other sublists updating their indices, you end up &quot;skipping over&quot; the remaining items:\r\n\r\n    Output    Index     numbers List\r\n    1         0         [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\r\n    2         1         [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\r\n    5         2         [3, 4, 5, 6, 7, 8, 9, 10]\r\n    6         3         [3, 4, 5, 6, 7, 8, 9, 10]\r\n    9         4         [3, 4, 7, 8, 9, 10]\r\n    10        5         [3, 4, 7, 8, 9, 10]\r\n\r\nThis should probably be a candidate for throwing a `ConcurrentModificationException`, though the documentation does essentially warn against modifying the sublists while iterating.","title":"When iterating a list of lists, why does calling List.clear on the iterator remove the list from the parent list?","body":"<p>Per <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/ListUtils.html#partition-java.util.List-int-\" rel=\"nofollow noreferrer\">ListUtils</a> documentation:</p>\n<blockquote>\n<p>The outer list is unmodifiable, but reflects the latest state of the source list. <strong>The inner lists are sublist views of the original list, produced on demand using List.subList(int, int)</strong>, and are subject to all the usual caveats about modification as explained in that API.</p>\n</blockquote>\n<p>In essence, the inner list objects keep a reference to the <em>index</em> of the items in the original list. When you call <code>List#clear</code>, you are really removing the items from the original <code>numbers</code> list. However, without the other sublists updating their indices, you end up &quot;skipping over&quot; the remaining items:</p>\n<pre><code>Output    Index     numbers List\n1         0         [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n2         1         [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n5         2         [3, 4, 5, 6, 7, 8, 9, 10]\n6         3         [3, 4, 5, 6, 7, 8, 9, 10]\n9         4         [3, 4, 7, 8, 9, 10]\n10        5         [3, 4, 7, 8, 9, 10]\n</code></pre>\n<p>This should probably be a candidate for throwing a <code>ConcurrentModificationException</code>, though the documentation does essentially warn against modifying the sublists while iterating.</p>\n"},{"comments":[{"owner":{"account_id":973518,"reputation":5174,"user_id":995514,"accept_rate":54,"display_name":"Half_Duplex"},"score":0,"creation_date":1667673920,"post_id":74321205,"comment_id":131224508,"body_markdown":"In the case where the initial list is very larger and processing items leads to memory exhaustion, how can modifying the collection during iteration be avoided?","body":"In the case where the initial list is very larger and processing items leads to memory exhaustion, how can modifying the collection during iteration be avoided?"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1667676024,"post_id":74321205,"comment_id":131224942,"body_markdown":"@Half_Duplex why do you need to partition? If you iterate the original list, the iterator should be still in sync.","body":"@Half_Duplex why do you need to partition? If you iterate the original list, the iterator should be still in sync."},{"owner":{"account_id":973518,"reputation":5174,"user_id":995514,"accept_rate":54,"display_name":"Half_Duplex"},"score":0,"creation_date":1667679913,"post_id":74321205,"comment_id":131225612,"body_markdown":"In this case, the partitions are being added to a Mongo bulk update operation. Adding the full list to the bulk operation, or updating the records individually is not feasible.","body":"In this case, the partitions are being added to a Mongo bulk update operation. Adding the full list to the bulk operation, or updating the records individually is not feasible."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1667686795,"post_id":74321205,"comment_id":131226792,"body_markdown":"@Half_Duplex do you really have n/2 sublists? If your partition size is larger, you can copy the _references_ of the partitions to a new list. This list will only hold references, not the full list contents.","body":"@Half_Duplex do you really have n/2 sublists? If your partition size is larger, you can copy the <i>references</i> of the partitions to a new list. This list will only hold references, not the full list contents."}],"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667584618,"creation_date":1667584618,"answer_id":74321205,"question_id":74321042,"body_markdown":"`ListUtils.partition(numbers, 2)` gives you _view_ of the original list. The `List&lt;List&lt;T&gt;&gt;` is constructed using the method [`List#subList(fromIndex, toIndex)`](https://docs.oracle.com/javase/8/docs/api/java/util/List.html#subList-int-int-). This method returns a view of the original list.\r\n\r\nCalling `clear` on a subList will remove the items from the original, underlying list.\r\n\r\nSo when the loop starts the next iteration, it will continue at the index where it left off. But the values at this index have shifted already. That&#39;s why you see missing numbers in your sequence.\r\n\r\nIt is generally discouraged to modify the collection which you are iterating.","title":"When iterating a list of lists, why does calling List.clear on the iterator remove the list from the parent list?","body":"<p><code>ListUtils.partition(numbers, 2)</code> gives you <em>view</em> of the original list. The <code>List&lt;List&lt;T&gt;&gt;</code> is constructed using the method <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#subList-int-int-\" rel=\"nofollow noreferrer\"><code>List#subList(fromIndex, toIndex)</code></a>. This method returns a view of the original list.</p>\n<p>Calling <code>clear</code> on a subList will remove the items from the original, underlying list.</p>\n<p>So when the loop starts the next iteration, it will continue at the index where it left off. But the values at this index have shifted already. That's why you see missing numbers in your sequence.</p>\n<p>It is generally discouraged to modify the collection which you are iterating.</p>\n"}],"owner":{"account_id":973518,"reputation":5174,"user_id":995514,"accept_rate":54,"display_name":"Half_Duplex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74321205,"answer_count":2,"score":0,"last_activity_date":1667584618,"creation_date":1667583739,"question_id":74321042,"body_markdown":"Why does calling clear on the iterator here shorten the size of the batches array?    \r\n\r\n\r\n    ArrayList&lt;String&gt; numbers = new ArrayList&lt;&gt;(Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;10&quot;));\r\n\t\tList&lt;List&lt;String&gt;&gt; numberBatches = ListUtils.partition(numbers, 2);\r\n\t\tfor(List&lt;String&gt; numberBatch : numberBatches) {\r\n\t\t\tfor(String number : numberBatch) {\r\n\t\t\t\tSystem.out.println(number);\r\n\t\t\t}\r\n\t\t\tnumberBatch.clear();\r\n\t\t}\r\n\r\n\r\n**Output**\r\n\r\n    1\r\n    2\r\n    5\r\n    6\r\n    9\r\n    10","title":"When iterating a list of lists, why does calling List.clear on the iterator remove the list from the parent list?","body":"<p>Why does calling clear on the iterator here shorten the size of the batches array?</p>\n<pre><code>ArrayList&lt;String&gt; numbers = new ArrayList&lt;&gt;(Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;10&quot;));\n    List&lt;List&lt;String&gt;&gt; numberBatches = ListUtils.partition(numbers, 2);\n    for(List&lt;String&gt; numberBatch : numberBatches) {\n        for(String number : numberBatch) {\n            System.out.println(number);\n        }\n        numberBatch.clear();\n    }\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>1\n2\n5\n6\n9\n10\n</code></pre>\n"},{"tags":["java","micrometer","spring-micrometer"],"answers":[{"comments":[{"owner":{"account_id":944144,"reputation":5341,"user_id":971735,"display_name":"Jonatan Ivanov"},"score":1,"creation_date":1668024029,"post_id":74321163,"comment_id":131309936,"body_markdown":"Shameless plug, I have a connected blog post: https://develotters.com/posts/high-cardinality/","body":"Shameless plug, I have a connected blog post: <a href=\"https://develotters.com/posts/high-cardinality/\" rel=\"nofollow noreferrer\">develotters.com/posts/high-cardinality</a>"}],"tags":[],"owner":{"account_id":942478,"reputation":14367,"user_id":970308,"accept_rate":62,"display_name":"checketts"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667584360,"creation_date":1667584360,"answer_id":74321163,"question_id":74302687,"body_markdown":"This is by design. Since Prometheus tags are kept in memory for the duration of the application runtime each 404 request for a new URL would create a new tag and eventually the application could run out of memory.\r\n\r\nYou would want to log the 404 detail instead of tracking those via Prometheus and use the 404 metric to track the number of calls in aggregate.","title":"Micrometer prometheus registry clubbing 404 URIs as /**","body":"<p>This is by design. Since Prometheus tags are kept in memory for the duration of the application runtime each 404 request for a new URL would create a new tag and eventually the application could run out of memory.</p>\n<p>You would want to log the 404 detail instead of tracking those via Prometheus and use the 404 metric to track the number of calls in aggregate.</p>\n"}],"owner":{"account_id":9665330,"reputation":1056,"user_id":7172003,"accept_rate":70,"display_name":"Ahsan Naseem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667584360,"creation_date":1667476640,"question_id":74302687,"body_markdown":"We are using micrometer-prometheus-registry, metrics are coming fine but for 404 not found exceptions on service we are getting: \r\n\r\n\r\n```bash\r\nhttp_server_requests_seconds_count{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;CLIENT_ERROR&quot;,status=&quot;404&quot;,uri=&quot;/**&quot;,} 1.0\r\n\r\n```\r\n\r\nany idea what we might be missing here?","title":"Micrometer prometheus registry clubbing 404 URIs as /**","body":"<p>We are using micrometer-prometheus-registry, metrics are coming fine but for 404 not found exceptions on service we are getting:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>http_server_requests_seconds_count{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;CLIENT_ERROR&quot;,status=&quot;404&quot;,uri=&quot;/**&quot;,} 1.0\n\n</code></pre>\n<p>any idea what we might be missing here?</p>\n"},{"tags":["java","maven-2","javadoc","package"],"comments":[{"owner":{"account_id":42418,"reputation":83388,"user_id":123582,"accept_rate":56,"display_name":"Rich Seller"},"score":0,"creation_date":1247764700,"post_id":1138390,"comment_id":956872,"body_markdown":"If there are no classes, why do you need the package javadoc?","body":"If there are no classes, why do you need the package javadoc?"},{"owner":{"account_id":20942,"reputation":1172,"user_id":50498,"accept_rate":67,"display_name":"StevenC"},"score":1,"creation_date":1247769153,"post_id":1138390,"comment_id":957223,"body_markdown":"I&#39;m using a tool (specifically enunciate) that uses package doc as the means to customize &quot;splash&quot; doc for a larger site that it generates.","body":"I&#39;m using a tool (specifically enunciate) that uses package doc as the means to customize &quot;splash&quot; doc for a larger site that it generates."},{"owner":{"account_id":31485,"reputation":89963,"user_id":86463,"accept_rate":86,"display_name":"harto"},"score":0,"creation_date":1247813205,"post_id":1138390,"comment_id":959605,"body_markdown":"More specifically, why does the package exist if it doesn&#39;t contain anything?","body":"More specifically, why does the package exist if it doesn&#39;t contain anything?"},{"owner":{"account_id":20942,"reputation":1172,"user_id":50498,"accept_rate":67,"display_name":"StevenC"},"score":0,"creation_date":1247836604,"post_id":1138390,"comment_id":961065,"body_markdown":"I answered that above. I&#39;m using a tool that generates a site documenting services, and the means to customize part of the doc is to supply a java package containing the extra content in its package doc.","body":"I answered that above. I&#39;m using a tool that generates a site documenting services, and the means to customize part of the doc is to supply a java package containing the extra content in its package doc."}],"answers":[{"comments":[{"owner":{"account_id":376069,"reputation":731,"user_id":727286,"accept_rate":75,"display_name":"tgharold"},"score":3,"creation_date":1353364021,"post_id":1141707,"comment_id":18415263,"body_markdown":"Note that your placeholder java class file must have at least one /** */ comment, otherwise the workaround won&#39;t work around the problem.","body":"Note that your placeholder java class file must have at least one /** */ comment, otherwise the workaround won&#39;t work around the problem."},{"owner":{"account_id":3263695,"reputation":349,"user_id":2748664,"display_name":"jonenst"},"score":0,"creation_date":1693483165,"post_id":1141707,"comment_id":135768788,"body_markdown":"But with a default scoped class, the javadoc generation still gives the error described in the question, you need a public class no ? And there is no way to generate javadoc for a package without having at least one documented class ?","body":"But with a default scoped class, the javadoc generation still gives the error described in the question, you need a public class no ? And there is no way to generate javadoc for a package without having at least one documented class ?"}],"tags":[],"owner":{"account_id":42418,"reputation":83388,"user_id":123582,"accept_rate":56,"display_name":"Rich Seller"},"comment_count":2,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1667583963,"creation_date":1247812875,"answer_id":1141707,"question_id":1138390,"body_markdown":"There isn&#39;t a way to get JavaDoc to run on an empty package. There is a really old bug ([JDK-4492654](https://bugs.openjdk.org/browse/JDK-4492654)) posted for this marked as &quot;Closed, Will Not Fix&quot;.\r\n\r\nIn that bug the workaround is pretty much the obvious hacky one you mention, create a default-scoped empty class. The class won&#39;t be included in the javadoc unless you force it to be with -package or -private.\r\n\r\n    /** hack to generate package javadoc */\r\n    class PlaceHolder {}","title":"javadoc for package-info.java only","body":"<p>There isn't a way to get JavaDoc to run on an empty package. There is a really old bug (<a href=\"https://bugs.openjdk.org/browse/JDK-4492654\" rel=\"nofollow noreferrer\">JDK-4492654</a>) posted for this marked as &quot;Closed, Will Not Fix&quot;.</p>\n<p>In that bug the workaround is pretty much the obvious hacky one you mention, create a default-scoped empty class. The class won't be included in the javadoc unless you force it to be with -package or -private.</p>\n<pre><code>/** hack to generate package javadoc */\nclass PlaceHolder {}\n</code></pre>\n"}],"owner":{"account_id":20942,"reputation":1172,"user_id":50498,"accept_rate":67,"display_name":"StevenC"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5581,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":1141707,"answer_count":1,"score":11,"last_activity_date":1667583963,"creation_date":1247757693,"question_id":1138390,"body_markdown":"I have a situation where I&#39;d like to execute javadoc in a project that has no classes. It only has package-info.java for one package. When executing javadoc, the following error is given:\r\n\r\n    An error has occurred in JavaDocs report generation:Exit code: 1 - javadoc: error - No public or protected classes found to document.\r\n\r\nIs there any way to force it to process package-info.java only (aside from the obvious hacky solutions: creating a dummy class, scripting the copying of a package.html, etc.)?\r\n\r\nI&#39;m executing javadoc as part of a maven build, so the maven-javadoc-plugin is performing the actual javadoc command.","title":"javadoc for package-info.java only","body":"<p>I have a situation where I'd like to execute javadoc in a project that has no classes. It only has package-info.java for one package. When executing javadoc, the following error is given:</p>\n\n<pre><code>An error has occurred in JavaDocs report generation:Exit code: 1 - javadoc: error - No public or protected classes found to document.\n</code></pre>\n\n<p>Is there any way to force it to process package-info.java only (aside from the obvious hacky solutions: creating a dummy class, scripting the copying of a package.html, etc.)?</p>\n\n<p>I'm executing javadoc as part of a maven build, so the maven-javadoc-plugin is performing the actual javadoc command.</p>\n"},{"tags":["java","spring","spring-mvc","thymeleaf","spring-thymeleaf"],"comments":[{"owner":{"account_id":19164664,"reputation":11,"user_id":14004473,"display_name":"KRL"},"score":0,"creation_date":1667583453,"post_id":74320532,"comment_id":131208987,"body_markdown":"Whatever the input data is I always see &#39;???&#39; in the console. For instance:  &#39;Текстовая строка123&#39; produces  ???&#181;???????????&#176;?? ???????????&#176;123","body":"Whatever the input data is I always see &#39;???&#39; in the console. For instance:  &#39;Текстовая строка123&#39; produces  ???&#181;???????????&#176;?? ???????????&#176;123"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1667583616,"post_id":74320532,"comment_id":131209028,"body_markdown":"Post those details as edits to your Question, not as Comments.","body":"Post those details as edits to your Question, not as Comments."}],"owner":{"account_id":19164664,"reputation":11,"user_id":14004473,"display_name":"KRL"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667583923,"creation_date":1667581115,"question_id":74320532,"body_markdown":"I&#39;m trying to pass some information from a browser to my server and end up having &#39;????&#39; symbols. I thoroughly searched for this problem on the Internet and StackOverFlow but in the end nothing helped me. My assumption is Thymeleaf/Spring continues to use ISO_8859_1 charset instead of UTF-8.\r\nDispatcherServlet(CharacterEncodingFilter):\r\n\r\n```\r\npublic class DispatcherServlet extends AbstractAnnotationConfigDispatcherServletInitializer {\r\n\r\n    @Override\r\n    public void onStartup(ServletContext aServletContext) throws ServletException {\r\n        super.onStartup(aServletContext);\r\n        registerCharacterEncodingFilter(aServletContext);\r\n        registerHiddenFieldFilter(aServletContext);\r\n\r\n    }\r\n\r\n    private void registerHiddenFieldFilter(ServletContext aContext) {\r\n        aContext.addFilter(&quot;hiddenHttpMethodFilter&quot;,\r\n                new HiddenHttpMethodFilter()).addMappingForUrlPatterns(null, true, &quot;/*&quot;);\r\n    }\r\n\r\n    private void registerCharacterEncodingFilter(ServletContext aContext) {\r\n        EnumSet&lt;DispatcherType&gt; dispatcherTypes = EnumSet.of(DispatcherType.REQUEST,\r\n        DispatcherType.FORWARD);\r\n\r\n        CharacterEncodingFilter characterEncodingFilter = new CharacterEncodingFilter();\r\n        characterEncodingFilter.setEncoding(&quot;UTF-8&quot;);\r\n        characterEncodingFilter.setForceEncoding(true);\r\n\r\n        FilterRegistration.Dynamic characterEncoding = aContext.addFilter(&quot;characterEncoding&quot;,\r\n        characterEncodingFilter);\r\n        characterEncoding.addMappingForUrlPatterns(dispatcherTypes, true, &quot;/*&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nMy Configuration:\r\n\r\n```\r\npublic class ApplicationConfiguration implements WebMvcConfigurer {\r\n\r\n    private final ApplicationContext applicationContext;\r\n\r\n    private final Environment environment;\r\n\r\n    @Autowired\r\n    public ApplicationConfiguration(ApplicationContext applicationContext, \r\n    Environment environment) {\r\n\r\n        this.applicationContext = applicationContext;\r\n        this.environment = environment;\r\n    }\r\n\r\n    @Override\r\n    public void addResourceHandlers(ResourceHandlerRegistry resourceHandlerRegistry) {\r\n        resourceHandlerRegistry.addResourceHandler(&quot;/resources/**&quot;).\r\n        addResourceLocations(&quot;/resources/&quot;);\r\n    }\r\n\r\n    // Themyleaf resolver,engine etc\r\n    @Bean\r\n    public SpringResourceTemplateResolver templateResolver() {\r\n        SpringResourceTemplateResolver resolver = new SpringResourceTemplateResolver();\r\n        resolver.setApplicationContext(applicationContext);\r\n        resolver.setPrefix(&quot;/WEB-INF/view/&quot;);\r\n        resolver.setSuffix(&quot;.html&quot;);\r\n        resolver.setCharacterEncoding(&quot;UTF-8&quot;);\r\n        resolver.setTemplateMode(&quot;HTML5&quot;);\r\n        return resolver;\r\n    }\r\n\r\n    @Bean\r\n    public SpringTemplateEngine templateEngine() {\r\n        SpringTemplateEngine engine = new SpringTemplateEngine();\r\n        engine.setTemplateResolver(templateResolver());\r\n        engine.addDialect(new SpringSecurityDialect());\r\n        engine.setEnableSpringELCompiler(true);\r\n        return engine;\r\n    }\r\n\r\n    @Override\r\n    public void configureViewResolvers(ViewResolverRegistry registry) {\r\n        ThymeleafViewResolver resolver =  new ThymeleafViewResolver();\r\n        resolver.setTemplateEngine(templateEngine());\r\n        resolver.setContentType(&quot;text/html; charset=UTF-8&quot;);\r\n        resolver.setCharacterEncoding(&quot;UTF-8&quot;);\r\n        registry.viewResolver(resolver);\r\n    }\r\n}\r\n```\r\n\r\nAs I&#39;ve already said, I&#39;m trying to make Spring/Thymeleaf use UTF-8 charset instead of the standard one. Certainly I could use something like\r\n\r\n```\r\nbyte[] bytes = content.getBytes(StandardCharsets.ISO_8859_1);\r\ncontent = new String(bytes, StandardCharsets.UTF_8);\r\n```\r\n\r\nbut I&#39;d like to have it done by Spring/Thymeleaf if it&#39;s possible.\r\n\r\n**UPD:** Whatever the input data is I always see &#39;???&#39; in the console. For instance: &#39;Текстовая строка123&#39; produces &#39;???&#181;???????????&#176;?? ???????????&#176;123&#39; (except for Non Cyrillic symbols)","title":"Cyrillic symbols are displayed incorrectly","body":"<p>I'm trying to pass some information from a browser to my server and end up having '????' symbols. I thoroughly searched for this problem on the Internet and StackOverFlow but in the end nothing helped me. My assumption is Thymeleaf/Spring continues to use ISO_8859_1 charset instead of UTF-8.\nDispatcherServlet(CharacterEncodingFilter):</p>\n<pre><code>public class DispatcherServlet extends AbstractAnnotationConfigDispatcherServletInitializer {\n\n    @Override\n    public void onStartup(ServletContext aServletContext) throws ServletException {\n        super.onStartup(aServletContext);\n        registerCharacterEncodingFilter(aServletContext);\n        registerHiddenFieldFilter(aServletContext);\n\n    }\n\n    private void registerHiddenFieldFilter(ServletContext aContext) {\n        aContext.addFilter(&quot;hiddenHttpMethodFilter&quot;,\n                new HiddenHttpMethodFilter()).addMappingForUrlPatterns(null, true, &quot;/*&quot;);\n    }\n\n    private void registerCharacterEncodingFilter(ServletContext aContext) {\n        EnumSet&lt;DispatcherType&gt; dispatcherTypes = EnumSet.of(DispatcherType.REQUEST,\n        DispatcherType.FORWARD);\n\n        CharacterEncodingFilter characterEncodingFilter = new CharacterEncodingFilter();\n        characterEncodingFilter.setEncoding(&quot;UTF-8&quot;);\n        characterEncodingFilter.setForceEncoding(true);\n\n        FilterRegistration.Dynamic characterEncoding = aContext.addFilter(&quot;characterEncoding&quot;,\n        characterEncodingFilter);\n        characterEncoding.addMappingForUrlPatterns(dispatcherTypes, true, &quot;/*&quot;);\n    }\n\n}\n</code></pre>\n<p>My Configuration:</p>\n<pre><code>public class ApplicationConfiguration implements WebMvcConfigurer {\n\n    private final ApplicationContext applicationContext;\n\n    private final Environment environment;\n\n    @Autowired\n    public ApplicationConfiguration(ApplicationContext applicationContext, \n    Environment environment) {\n\n        this.applicationContext = applicationContext;\n        this.environment = environment;\n    }\n\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry resourceHandlerRegistry) {\n        resourceHandlerRegistry.addResourceHandler(&quot;/resources/**&quot;).\n        addResourceLocations(&quot;/resources/&quot;);\n    }\n\n    // Themyleaf resolver,engine etc\n    @Bean\n    public SpringResourceTemplateResolver templateResolver() {\n        SpringResourceTemplateResolver resolver = new SpringResourceTemplateResolver();\n        resolver.setApplicationContext(applicationContext);\n        resolver.setPrefix(&quot;/WEB-INF/view/&quot;);\n        resolver.setSuffix(&quot;.html&quot;);\n        resolver.setCharacterEncoding(&quot;UTF-8&quot;);\n        resolver.setTemplateMode(&quot;HTML5&quot;);\n        return resolver;\n    }\n\n    @Bean\n    public SpringTemplateEngine templateEngine() {\n        SpringTemplateEngine engine = new SpringTemplateEngine();\n        engine.setTemplateResolver(templateResolver());\n        engine.addDialect(new SpringSecurityDialect());\n        engine.setEnableSpringELCompiler(true);\n        return engine;\n    }\n\n    @Override\n    public void configureViewResolvers(ViewResolverRegistry registry) {\n        ThymeleafViewResolver resolver =  new ThymeleafViewResolver();\n        resolver.setTemplateEngine(templateEngine());\n        resolver.setContentType(&quot;text/html; charset=UTF-8&quot;);\n        resolver.setCharacterEncoding(&quot;UTF-8&quot;);\n        registry.viewResolver(resolver);\n    }\n}\n</code></pre>\n<p>As I've already said, I'm trying to make Spring/Thymeleaf use UTF-8 charset instead of the standard one. Certainly I could use something like</p>\n<pre><code>byte[] bytes = content.getBytes(StandardCharsets.ISO_8859_1);\ncontent = new String(bytes, StandardCharsets.UTF_8);\n</code></pre>\n<p>but I'd like to have it done by Spring/Thymeleaf if it's possible.</p>\n<p><strong>UPD:</strong> Whatever the input data is I always see '???' in the console. For instance: 'Текстовая строка123' produces '???µ???????????°?? ???????????°123' (except for Non Cyrillic symbols)</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1667564809,"post_id":74317009,"comment_id":131201987,"body_markdown":"You declare the method as `AbsCompare( T Obj)`, so in a generic object `MyGen &lt;Integer&gt; Objint1` you have `T` = `Integer`. So your method with resolved types would be `AbsCompare( Integer Obj)` and expects `Integer obj` as a parameter (Because T gets replaced by Integer).  I really don&#39;t understand why you are confused that you can&#39;t pass something other than the very parameter type you yourself declared into that method. This has little to do with generics. If you declare a method to take a certain type as a parameter then that is all the method will accept. `MyGen&lt;Integer&gt;` != `Integer`","body":"You declare the method as <code>AbsCompare( T Obj)</code>, so in a generic object <code>MyGen &lt;Integer&gt; Objint1</code> you have <code>T</code> = <code>Integer</code>. So your method with resolved types would be <code>AbsCompare( Integer Obj)</code> and expects <code>Integer obj</code> as a parameter (Because T gets replaced by Integer).  I really don&#39;t understand why you are confused that you can&#39;t pass something other than the very parameter type you yourself declared into that method. This has little to do with generics. If you declare a method to take a certain type as a parameter then that is all the method will accept. <code>MyGen&lt;Integer&gt;</code> != <code>Integer</code>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1667564839,"post_id":74317009,"comment_id":131201993,"body_markdown":"Putting a `&gt;` in front of text means that you are marking it as a citation. Don’t mark your own text as citation. Further, don’t use problem descriptions like “*shows an error*”. If you really have a reason to keep your error secret, explain why you can’t tell us the actual error. By the way, don’t write statements like `if(condition) return true; else return false;` Just write `return condition;`","body":"Putting a <code>&gt;</code> in front of text means that you are marking it as a citation. Don’t mark your own text as citation. Further, don’t use problem descriptions like “<i>shows an error</i>”. If you really have a reason to keep your error secret, explain why you can’t tell us the actual error. By the way, don’t write statements like <code>if(condition) return true; else return false;</code> Just write <code>return condition;</code>"},{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1667565342,"post_id":74317009,"comment_id":131202172,"body_markdown":"I already tried explaining that to you. Because you declared your method to accept `T`, which is an `Integer` in your case. But you try to pass `MyGen&lt;Integer&gt;`. Your method expects `(Integer obj)` as a parameter and `MyGen&lt;Integer&gt; Objint1` is not `Integer`. It is `MyGen&lt;Integer&gt;`.","body":"I already tried explaining that to you. Because you declared your method to accept <code>T</code>, which is an <code>Integer</code> in your case. But you try to pass <code>MyGen&lt;Integer&gt;</code>. Your method expects <code>(Integer obj)</code> as a parameter and <code>MyGen&lt;Integer&gt; Objint1</code> is not <code>Integer</code>. It is <code>MyGen&lt;Integer&gt;</code>."},{"owner":{"account_id":21615772,"reputation":23,"user_id":15941599,"display_name":"Sumit Baloda"},"score":0,"creation_date":1667565429,"post_id":74317009,"comment_id":131202210,"body_markdown":"@OhGODSPIDERS , sorry Now I got the whole point . Kudos","body":"@OhGODSPIDERS , sorry Now I got the whole point . Kudos"},{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1667565464,"post_id":74317009,"comment_id":131202221,"body_markdown":"This is the same reason why a method declared as `someMethod(Integer integer)` can not be called with `sometMethod(new ArrayList&lt;Integer&gt;())`. because just like a `List` that has `&lt;Integer&gt;` as a generic type is not a `Integer` itself, your own `MyGen` with the generic type of `&lt;Integer&gt;` is also not an `Integer` itself.","body":"This is the same reason why a method declared as <code>someMethod(Integer integer)</code> can not be called with <code>sometMethod(new ArrayList&lt;Integer&gt;())</code>. because just like a <code>List</code> that has <code>&lt;Integer&gt;</code> as a generic type is not a <code>Integer</code> itself, your own <code>MyGen</code> with the generic type of <code>&lt;Integer&gt;</code> is also not an <code>Integer</code> itself."}],"answers":[{"tags":[],"owner":{"account_id":11732873,"reputation":734,"user_id":8587732,"display_name":"Vitaly Chura"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667565713,"creation_date":1667565713,"answer_id":74317237,"question_id":74317009,"body_markdown":"If you want to compare your object both with instances of its own type (MyGen) and instances of T, then you have to create 2 separate methods:\r\n```\r\nboolean AbsCompare( T Obj){\r\n    return if( Math.abs( ObjNum.doubleValue())== Math.abs( obj.doubleValue());\r\n}\r\n```\r\nand\r\n```\r\nboolean AbsCompare(MyGen&lt;T&gt; myGen){\r\n    return Math.abs(ObjNum.doubleValue())== Math.abs(myGen.ObjNum.doubleValue());\r\n}\r\n```\r\n\r\nNo wonder it&#39;s showing errors at the moment because you are trying to pass 2 entirely different types to the same method (MyGen and Integer). When you make an object generic as you did with MyGen, it has a has-a relationship with the object it wraps, while in the case of inheritance it has an is-a relationship with the object it inherits from. In order to pass objects to the same method you need inheritance, i.e. there should be an is-a relationship between them. Meaning if your object was:\r\n```\r\nMyGen extends Integer {\r\n...\r\n}\r\n```\r\nyou would be able to pass both MyGen and Integer to AbsCompare method.","title":"Why there is an error if I use same type parameter of a invoking object and argument object of same generic class?","body":"<p>If you want to compare your object both with instances of its own type (MyGen) and instances of T, then you have to create 2 separate methods:</p>\n<pre><code>boolean AbsCompare( T Obj){\n    return if( Math.abs( ObjNum.doubleValue())== Math.abs( obj.doubleValue());\n}\n</code></pre>\n<p>and</p>\n<pre><code>boolean AbsCompare(MyGen&lt;T&gt; myGen){\n    return Math.abs(ObjNum.doubleValue())== Math.abs(myGen.ObjNum.doubleValue());\n}\n</code></pre>\n<p>No wonder it's showing errors at the moment because you are trying to pass 2 entirely different types to the same method (MyGen and Integer). When you make an object generic as you did with MyGen, it has a has-a relationship with the object it wraps, while in the case of inheritance it has an is-a relationship with the object it inherits from. In order to pass objects to the same method you need inheritance, i.e. there should be an is-a relationship between them. Meaning if your object was:</p>\n<pre><code>MyGen extends Integer {\n...\n}\n</code></pre>\n<p>you would be able to pass both MyGen and Integer to AbsCompare method.</p>\n"}],"owner":{"account_id":21615772,"reputation":23,"user_id":15941599,"display_name":"Sumit Baloda"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1667583916,"creation_date":1667564545,"question_id":74317009,"body_markdown":"Here is the generic class \r\n\r\n```java\r\nclass MyGen &lt;T extends Number&gt; {\r\n    T ObjNum;\r\n\r\n    MyGen( T obj){ ObjNum= obj; }\r\n```\r\n\r\nA method which is used to compare two type wrapper objects \r\n\r\n```java\r\nboolean AbsCompare( T Obj){\r\n    if( Math.abs( ObjNum.doubleValue())== Math.abs( obj.doubleValue())\r\n        return true;\r\n    else\r\n        return false;\r\n    } //class end here\r\n```\r\n\r\nMain class is\r\n\r\n```java\r\nclass Sample{\r\n    public static void main(String args[]){\r\n        MyGen &lt;Integer&gt; Objint1= new MyGen( 99);\r\n        MyGen &lt;Integer&gt; Objint2= new MyGen (100 );\r\n    \r\n        //Creating a integer type object \r\n        Integer Objint3=101;\r\n\r\n        //using method to compare the objects \r\n        boolean b1= Objint1.AbsCompare( Objint2); //It shows an error\r\n        boolean b2= Objint1. AbsCompare(Objint1); //It shows an error\r\n        boolean b3= Objint1. AbsCompare( Objint3) ; // It does not shows an error\r\n```\r\n\r\nIf the invoking object and the passing object as argument have same type then why it shows  error. And a same type Object is passed as argument which is not type of that generic  class is not shows any error \r\n\r\nIf I use in AbsCompare() method like this \r\n\r\n```java\r\nboolean AbsCompare( MyGen&lt;T&gt; obj)\r\n```\r\n\r\nThen both comparison between same generic class objects are fine, but simple Integer object comparison shows an error now and the method in if block \r\n\r\n```\r\nif(Math.abs(ObjNum.doubleValue())==Math.abs(Obj.doubleValue()))\r\n```\r\n\r\nThe last `Obj.doubleValue()` shows an error. \r\n\r\nI am in new to Java. Can anyone please help me the concept behind why these showing error are showing and how are they disappear when change the syntax. \r\n\r\n ","title":"Why there is an error if I use same type parameter of a invoking object and argument object of same generic class?","body":"<p>Here is the generic class</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MyGen &lt;T extends Number&gt; {\n    T ObjNum;\n\n    MyGen( T obj){ ObjNum= obj; }\n</code></pre>\n<p>A method which is used to compare two type wrapper objects</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean AbsCompare( T Obj){\n    if( Math.abs( ObjNum.doubleValue())== Math.abs( obj.doubleValue())\n        return true;\n    else\n        return false;\n    } //class end here\n</code></pre>\n<p>Main class is</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Sample{\n    public static void main(String args[]){\n        MyGen &lt;Integer&gt; Objint1= new MyGen( 99);\n        MyGen &lt;Integer&gt; Objint2= new MyGen (100 );\n    \n        //Creating a integer type object \n        Integer Objint3=101;\n\n        //using method to compare the objects \n        boolean b1= Objint1.AbsCompare( Objint2); //It shows an error\n        boolean b2= Objint1. AbsCompare(Objint1); //It shows an error\n        boolean b3= Objint1. AbsCompare( Objint3) ; // It does not shows an error\n</code></pre>\n<p>If the invoking object and the passing object as argument have same type then why it shows  error. And a same type Object is passed as argument which is not type of that generic  class is not shows any error</p>\n<p>If I use in AbsCompare() method like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean AbsCompare( MyGen&lt;T&gt; obj)\n</code></pre>\n<p>Then both comparison between same generic class objects are fine, but simple Integer object comparison shows an error now and the method in if block</p>\n<pre><code>if(Math.abs(ObjNum.doubleValue())==Math.abs(Obj.doubleValue()))\n</code></pre>\n<p>The last <code>Obj.doubleValue()</code> shows an error.</p>\n<p>I am in new to Java. Can anyone please help me the concept behind why these showing error are showing and how are they disappear when change the syntax.</p>\n"},{"tags":["java","spring-boot","tomcat","https","openssl"],"answers":[{"comments":[{"owner":{"account_id":3274297,"reputation":1267,"user_id":2756820,"accept_rate":96,"display_name":"Ram"},"score":0,"creation_date":1667586746,"post_id":74321037,"comment_id":131209913,"body_markdown":"I think there was a migration from Java 8 to 17 in recent time, anyway I will check this tomorrow. It is very late here. Thanks for help.","body":"I think there was a migration from Java 8 to 17 in recent time, anyway I will check this tomorrow. It is very late here. Thanks for help."}],"tags":[],"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667583703,"creation_date":1667583703,"answer_id":74321037,"question_id":74317632,"body_markdown":"One of the correct procedures to set up a Java SSL/TLS (including HTTPS) server like Tomcat is:\r\n\r\n1. `openssl req -new -newkey ...` to create the key and CSR, both in PEM\r\n\r\n2. send CSR to Certificate Authority aka CA (here GoDaddy) and provide proof you own or control the specified domain(s), and (depending on the CA) payment, and get back a server (leaf) cert plus one or more chain cert(s) (often labelled intermediate) and possibly/probably a root cert, all usually in PEM; if not you must convert to PEM before continuing \r\n\r\n3. (your missing step) `openssl pkcs12 -export -in cert1PEM -inkey keyPEM [-certfile cert2PEM] [-friendlyname somename] -out p12file`\r\n\r\n    `cert1PEM` must contain at least the server cert, and may contain the other (chain/intermediate and optionally root) cert(s); if it doesn&#39;t contain the latter, those must be in `-certfile cert2PEM`. `-friendlyname somename` is optional but your displayed output from `keytool` implies it was used (Java including keytool shows it as the alias)\r\n\r\n4. `keytool -importkeystore -srckeystore p12file -destkeystore jksfile ...`\r\n\r\n    But I disbelieve your comment that &#39;Java 17 was active&#39; unless the .jks file already existed, which it shouldn&#39;t have. Java 9 up, including 17, creates new keystore files as PKCS12 by default, not JKS, and wouldn&#39;t produce that warning. _Recent_ updates of Java 8 would. (That is, all updates of j8 default output to JKS, and recent updates give the warning when doing so.)\r\n\r\n    In any case, step 4 is obsolete and unnecessary. All versions of Java since 8u60 in 2015 can read PKCS12 (as produced by step 3) by default and don&#39;t need a JKS file at all. Even older versions (back to 2000 or so) could read PKCS12 with only a slight change to the configuration, which I would recommend precisely because JKS is &#39;proprietary&#39; (as the warning now says) and also weak (which the warning doesn&#39;t say). \r\n","title":"How to use GoDaddy SSL Certificate with Spring Boot Embedded Tomcat Server?","body":"<p>One of the correct procedures to set up a Java SSL/TLS (including HTTPS) server like Tomcat is:</p>\n<ol>\n<li><p><code>openssl req -new -newkey ...</code> to create the key and CSR, both in PEM</p>\n</li>\n<li><p>send CSR to Certificate Authority aka CA (here GoDaddy) and provide proof you own or control the specified domain(s), and (depending on the CA) payment, and get back a server (leaf) cert plus one or more chain cert(s) (often labelled intermediate) and possibly/probably a root cert, all usually in PEM; if not you must convert to PEM before continuing</p>\n</li>\n<li><p>(your missing step) <code>openssl pkcs12 -export -in cert1PEM -inkey keyPEM [-certfile cert2PEM] [-friendlyname somename] -out p12file</code></p>\n<p><code>cert1PEM</code> must contain at least the server cert, and may contain the other (chain/intermediate and optionally root) cert(s); if it doesn't contain the latter, those must be in <code>-certfile cert2PEM</code>. <code>-friendlyname somename</code> is optional but your displayed output from <code>keytool</code> implies it was used (Java including keytool shows it as the alias)</p>\n</li>\n<li><p><code>keytool -importkeystore -srckeystore p12file -destkeystore jksfile ...</code></p>\n<p>But I disbelieve your comment that 'Java 17 was active' unless the .jks file already existed, which it shouldn't have. Java 9 up, including 17, creates new keystore files as PKCS12 by default, not JKS, and wouldn't produce that warning. <em>Recent</em> updates of Java 8 would. (That is, all updates of j8 default output to JKS, and recent updates give the warning when doing so.)</p>\n<p>In any case, step 4 is obsolete and unnecessary. All versions of Java since 8u60 in 2015 can read PKCS12 (as produced by step 3) by default and don't need a JKS file at all. Even older versions (back to 2000 or so) could read PKCS12 with only a slight change to the configuration, which I would recommend precisely because JKS is 'proprietary' (as the warning now says) and also weak (which the warning doesn't say).</p>\n</li>\n</ol>\n"}],"owner":{"account_id":3274297,"reputation":1267,"user_id":2756820,"accept_rate":96,"display_name":"Ram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74321037,"answer_count":1,"score":0,"last_activity_date":1667583703,"creation_date":1667567698,"question_id":74317632,"body_markdown":"I am working on a website I inherited. The website is made in Spring Boot with embedded Tomcat server. It is using a .jks file for HTTPS. The SSL certificate has expired and I am trying to make a ne .jks file from the files received from Godaddy.\r\nThere is a document that states how to go about it but something is missing. \r\n\r\n    These are the steps in document to create .jks file:\r\n    \r\n    Security Settings\r\n    C:\\trash\\keyproc&gt;openssl req -new -newkey rsa:2048 -nodes -keyout website_name_here.key -out website_name_here.csr\r\n    You are about to be asked to enter information that will be incorporated\r\n    into your certificate request.\r\n    What you are about to enter is what is called a Distinguished Name or a DN.\r\n    There are quite a few fields but you can leave some blank\r\n    For some fields there will be a default value,\r\n    If you enter &#39;.&#39;, the field will be left blank.\r\n    -----\r\n    Country Name (2 letter code) [AU]:XX\r\n    State or Province Name (full name) [Some-State]:XXXXX\r\n    Locality Name (eg, city) []:XXXX\r\n    Organization Name (eg, company) [Internet Widgits Pty Ltd]:XXXXX\r\n    Organizational Unit Name (eg, section) []:Software Development\r\n    Common Name (e.g. server FQDN or YOUR name) []:website_name_here.co\r\n    Email Address []:xxxxx@gmail.com\r\n    \r\n    Please enter the following &#39;extra&#39; attributes\r\n    to be sent with your certificate request\r\n    A challenge password []:pwd_here\r\n    An optional company name []:xxxxx\r\n    Two files are generated website_name_here.key &amp; website_name_here.csr\r\n    Use website_name_here.csr generated to get certificate from Godaddy.\r\n    Get SSL cetrificate from Godaddy and extract to this folder.\r\n    \r\n    ####################  Java Version 17 was active from hereon #################################################################\r\n    \r\n    Microsoft Windows [Version 10.0.14393]\r\n    (c) 2016 Microsoft Corporation. All rights reserved.\r\n    \r\n    \r\n    C:\\trash\\keyproc&gt;keytool -importkeystore -deststorepass pwd_here -destkeystore website_name_here.jks -srckeystore website_name_here.p12 -srcstoretype PKCS12\r\n    Importing keystore website_name_here.p12 to website_name_here.jks...\r\n    Enter source keystore password:\r\n    Entry for alias website_name_here.co successfully imported.\r\n    Import command completed:  1 entries successfully imported, 0 entries failed or cancelled\r\n    \r\n    Warning:\r\n    The JKS keystore uses a proprietary format. It is recommended to migrate to PKCS12 which is an industry standard format using &quot;keytool -importkeystore -srckeystore website_name_here.jks -destkeystore website_name_here.jks -deststoretype pkcs12&quot;.\r\n\r\n    C:\\trash\\keyproc&gt;\r\n    \r\n    After this just import  main CRT file not bundle file using keytool.\r\n\r\n\r\n**In the above steps it is not mentioned where website_name_here.p12 file is coming from. What it could be?**\r\n\r\n\r\nThe code that uses the .jks file is as follows:\r\n\r\n    import lombok.SneakyThrows;\r\n    import org.apache.catalina.connector.Connector;\r\n    import org.apache.coyote.http11.Http11NioProtocol;\r\n    import org.apache.tomcat.util.descriptor.web.SecurityCollection;\r\n    import org.apache.tomcat.util.descriptor.web.SecurityConstraint;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory;\r\n    import org.springframework.boot.web.server.WebServerFactoryCustomizer;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import java.net.InetAddress;\r\n    import java.util.Optional;\r\n    //@Profile(&quot;dev&quot;)\r\n    @Component\r\n    public class TomcatEmbedServerCustomConfiguration implements WebServerFactoryCustomizer&lt;TomcatServletWebServerFactory&gt;\r\n    {\r\n        private static final Logger logger = LoggerFactory.getLogger(TomcatEmbedServerCustomConfiguration.class);\r\n    \r\n        IWebApplicationServerSettingsRepository appSettinsRepository;\r\n    \r\n        ApplicationHttpsSettingsEntityRepository applicationHttpsSettingsEntityRepository;\r\n    \r\n        public TomcatEmbedServerCustomConfiguration(IWebApplicationServerSettingsRepository appSettinsRepository, ApplicationHttpsSettingsEntityRepository applicationHttpsSettingsEntityRepository)\r\n        {\r\n            this.appSettinsRepository = appSettinsRepository;\r\n            this.applicationHttpsSettingsEntityRepository = applicationHttpsSettingsEntityRepository;\r\n        }\r\n    \r\n        @SneakyThrows\r\n        @Override\r\n        public void customize(TomcatServletWebServerFactory factory)\r\n        {\r\n            logger.info(&quot;Setting the Tomcat specific configurations. started&quot;);\r\n            try\r\n            {\r\n    \r\n                Optional&lt;WebApplicationServerSettingEntity&gt; serverSettingEntity = appSettinsRepository.findById(1);\r\n    \r\n                if (serverSettingEntity.isPresent())\r\n                {\r\n                    factory.setPort(serverSettingEntity.get().getPort().getPORT());\r\n                    factory.setAddress(InetAddress.getByName(serverSettingEntity.get().getHost()));\r\n                }\r\n                factory.setServerHeader(&quot;Server header of tomcat&quot;);\r\n    \r\n    // HTTPS Settings - Begin\r\n    \r\n                Optional&lt;ApplicationHttpsSettingsEntity&gt; applicationHttpsSettingsEntity = applicationHttpsSettingsEntityRepository.findById(1);\r\n    \r\n                if(applicationHttpsSettingsEntity.isPresent())\r\n                {\r\n                    logger.info(&quot;Setting HTTPS settings....&quot;);\r\n                    if(applicationHttpsSettingsEntity.get().getUseHttps() !=0)\r\n                    {\r\n                        factory.addAdditionalTomcatConnectors(createSslConnector());\r\n                        factory.addContextCustomizers(context -&gt;\r\n                                                      {\r\n                                                          logger.info(&quot;Setting HTTPS settings....setting...&quot;);\r\n                                                          SecurityConstraint securityConstraint = new SecurityConstraint();\r\n                                                          securityConstraint.setUserConstraint(&quot;CONFIDENTIAL&quot;);\r\n                                                          SecurityCollection collection = new SecurityCollection();\r\n                                                          collection.addPattern(&quot;/*&quot;);\r\n                                                          securityConstraint.addCollection(collection);\r\n                                                          context.addConstraint(securityConstraint);\r\n                                                          logger.info(&quot;Setting HTTPS settings....setting...Done&quot;);\r\n                                                      });\r\n                    }\r\n                    logger.info(&quot;Setting HTTPS settings....End&quot;);\r\n                }\r\n    // HTTPS Settings - end\r\n                logger.info(&quot;Tomcat Server Configuration Host=[&quot; + factory.getAddress() + &quot;] Port=[&quot; + factory.getPort() + &quot;]&quot;);\r\n                logger.info(&quot;Setting the Tomcat specific configurations. ended&quot;);\r\n            }\r\n            catch (Exception e)\r\n            {\r\n                logger.error(e.getMessage());\r\n                throw e;\r\n            }\r\n        }\r\n    \r\n    // HTTPS Settings - Begin\r\n        private Connector createSslConnector() {\r\n    \r\n    \r\n            Optional&lt;ApplicationHttpsSettingsEntity&gt; applicationHttpsSettingsEntity = applicationHttpsSettingsEntityRepository.findById(1);\r\n    \r\n            if(applicationHttpsSettingsEntity.isPresent())\r\n            {\r\n                logger.info(&quot;Creating SSL Connector...&quot;);\r\n    \r\n                Connector connector = new Connector(&quot;org.apache.coyote.http11.Http11NioProtocol&quot;);\r\n                Http11NioProtocol protocol = (Http11NioProtocol) connector.getProtocolHandler();\r\n                //            File keystore = new ClassPathResource(&quot;website_name.jks&quot;).getFile();\r\n    //            File truststore = new ClassPathResource(&quot;keystore&quot;).getFile();\r\n                connector.setScheme(&quot;https&quot;);\r\n                connector.setSecure(applicationHttpsSettingsEntity.get().getUseHttps() != 0);\r\n                connector.setPort(applicationHttpsSettingsEntity.get().getBroadcaster().getPORT());\r\n                protocol.setSSLEnabled(applicationHttpsSettingsEntity.get().getUseHttps() != 0);\r\n    //            protocol.setKeystoreFile(&quot;file:///c://trash//website_name_here.jks&quot;);\r\n                protocol.setKeystoreFile(applicationHttpsSettingsEntity.get().getKeyStore());\r\n    //            protocol.setKeystorePass(&quot;pwd_here&quot;);\r\n                protocol.setKeystorePass(applicationHttpsSettingsEntity.get().getKeyStorePassword());\r\n    //            protocol.setTruststoreFile(truststore.getAbsolutePath());\r\n    //            protocol.setTruststorePass(&quot;changeit&quot;);\r\n                protocol.setKeyAlias(applicationHttpsSettingsEntity.get().getKeyAlias());\r\n                logger.info(&quot;Creating SSL Connector...Done&quot;);\r\n                return connector;\r\n            }\r\n    \r\n            return null;\r\n        }\r\n    // HTTPS Settings - End\r\n    }\r\n\r\nAnd\r\n\r\n    @Configuration\r\n    //@Profile(&quot;production&quot;)\r\n    public class SecurityConfig\r\n    {\r\n    // HTTPS Settings - Begin\r\n        @Bean\r\n        public TomcatServletWebServerFactory httpsRedirectConfig()\r\n        {\r\n            return new TomcatServletWebServerFactory()\r\n            {\r\n                @Override\r\n                protected void postProcessContext(Context context)\r\n                {\r\n                    SecurityConstraint securityConstraint = new SecurityConstraint();\r\n                    securityConstraint.setUserConstraint(&quot;CONFIDENTIAL&quot;);\r\n                    SecurityCollection collection = new SecurityCollection();\r\n                    collection.addPattern(&quot;/*&quot;);\r\n                    securityConstraint.addCollection(collection);\r\n                    context.addConstraint(securityConstraint);\r\n                }\r\n            };\r\n        }\r\n    // HTTPS Settings - End\r\n    }\r\n\r\n","title":"How to use GoDaddy SSL Certificate with Spring Boot Embedded Tomcat Server?","body":"<p>I am working on a website I inherited. The website is made in Spring Boot with embedded Tomcat server. It is using a .jks file for HTTPS. The SSL certificate has expired and I am trying to make a ne .jks file from the files received from Godaddy.\nThere is a document that states how to go about it but something is missing.</p>\n<pre><code>These are the steps in document to create .jks file:\n\nSecurity Settings\nC:\\trash\\keyproc&gt;openssl req -new -newkey rsa:2048 -nodes -keyout website_name_here.key -out website_name_here.csr\nYou are about to be asked to enter information that will be incorporated\ninto your certificate request.\nWhat you are about to enter is what is called a Distinguished Name or a DN.\nThere are quite a few fields but you can leave some blank\nFor some fields there will be a default value,\nIf you enter '.', the field will be left blank.\n-----\nCountry Name (2 letter code) [AU]:XX\nState or Province Name (full name) [Some-State]:XXXXX\nLocality Name (eg, city) []:XXXX\nOrganization Name (eg, company) [Internet Widgits Pty Ltd]:XXXXX\nOrganizational Unit Name (eg, section) []:Software Development\nCommon Name (e.g. server FQDN or YOUR name) []:website_name_here.co\nEmail Address []:xxxxx@gmail.com\n\nPlease enter the following 'extra' attributes\nto be sent with your certificate request\nA challenge password []:pwd_here\nAn optional company name []:xxxxx\nTwo files are generated website_name_here.key &amp; website_name_here.csr\nUse website_name_here.csr generated to get certificate from Godaddy.\nGet SSL cetrificate from Godaddy and extract to this folder.\n\n####################  Java Version 17 was active from hereon #################################################################\n\nMicrosoft Windows [Version 10.0.14393]\n(c) 2016 Microsoft Corporation. All rights reserved.\n\n\nC:\\trash\\keyproc&gt;keytool -importkeystore -deststorepass pwd_here -destkeystore website_name_here.jks -srckeystore website_name_here.p12 -srcstoretype PKCS12\nImporting keystore website_name_here.p12 to website_name_here.jks...\nEnter source keystore password:\nEntry for alias website_name_here.co successfully imported.\nImport command completed:  1 entries successfully imported, 0 entries failed or cancelled\n\nWarning:\nThe JKS keystore uses a proprietary format. It is recommended to migrate to PKCS12 which is an industry standard format using &quot;keytool -importkeystore -srckeystore website_name_here.jks -destkeystore website_name_here.jks -deststoretype pkcs12&quot;.\n\nC:\\trash\\keyproc&gt;\n\nAfter this just import  main CRT file not bundle file using keytool.\n</code></pre>\n<p><strong>In the above steps it is not mentioned where website_name_here.p12 file is coming from. What it could be?</strong></p>\n<p>The code that uses the .jks file is as follows:</p>\n<pre><code>import lombok.SneakyThrows;\nimport org.apache.catalina.connector.Connector;\nimport org.apache.coyote.http11.Http11NioProtocol;\nimport org.apache.tomcat.util.descriptor.web.SecurityCollection;\nimport org.apache.tomcat.util.descriptor.web.SecurityConstraint;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory;\nimport org.springframework.boot.web.server.WebServerFactoryCustomizer;\nimport org.springframework.stereotype.Component;\n\nimport java.net.InetAddress;\nimport java.util.Optional;\n//@Profile(&quot;dev&quot;)\n@Component\npublic class TomcatEmbedServerCustomConfiguration implements WebServerFactoryCustomizer&lt;TomcatServletWebServerFactory&gt;\n{\n    private static final Logger logger = LoggerFactory.getLogger(TomcatEmbedServerCustomConfiguration.class);\n\n    IWebApplicationServerSettingsRepository appSettinsRepository;\n\n    ApplicationHttpsSettingsEntityRepository applicationHttpsSettingsEntityRepository;\n\n    public TomcatEmbedServerCustomConfiguration(IWebApplicationServerSettingsRepository appSettinsRepository, ApplicationHttpsSettingsEntityRepository applicationHttpsSettingsEntityRepository)\n    {\n        this.appSettinsRepository = appSettinsRepository;\n        this.applicationHttpsSettingsEntityRepository = applicationHttpsSettingsEntityRepository;\n    }\n\n    @SneakyThrows\n    @Override\n    public void customize(TomcatServletWebServerFactory factory)\n    {\n        logger.info(&quot;Setting the Tomcat specific configurations. started&quot;);\n        try\n        {\n\n            Optional&lt;WebApplicationServerSettingEntity&gt; serverSettingEntity = appSettinsRepository.findById(1);\n\n            if (serverSettingEntity.isPresent())\n            {\n                factory.setPort(serverSettingEntity.get().getPort().getPORT());\n                factory.setAddress(InetAddress.getByName(serverSettingEntity.get().getHost()));\n            }\n            factory.setServerHeader(&quot;Server header of tomcat&quot;);\n\n// HTTPS Settings - Begin\n\n            Optional&lt;ApplicationHttpsSettingsEntity&gt; applicationHttpsSettingsEntity = applicationHttpsSettingsEntityRepository.findById(1);\n\n            if(applicationHttpsSettingsEntity.isPresent())\n            {\n                logger.info(&quot;Setting HTTPS settings....&quot;);\n                if(applicationHttpsSettingsEntity.get().getUseHttps() !=0)\n                {\n                    factory.addAdditionalTomcatConnectors(createSslConnector());\n                    factory.addContextCustomizers(context -&gt;\n                                                  {\n                                                      logger.info(&quot;Setting HTTPS settings....setting...&quot;);\n                                                      SecurityConstraint securityConstraint = new SecurityConstraint();\n                                                      securityConstraint.setUserConstraint(&quot;CONFIDENTIAL&quot;);\n                                                      SecurityCollection collection = new SecurityCollection();\n                                                      collection.addPattern(&quot;/*&quot;);\n                                                      securityConstraint.addCollection(collection);\n                                                      context.addConstraint(securityConstraint);\n                                                      logger.info(&quot;Setting HTTPS settings....setting...Done&quot;);\n                                                  });\n                }\n                logger.info(&quot;Setting HTTPS settings....End&quot;);\n            }\n// HTTPS Settings - end\n            logger.info(&quot;Tomcat Server Configuration Host=[&quot; + factory.getAddress() + &quot;] Port=[&quot; + factory.getPort() + &quot;]&quot;);\n            logger.info(&quot;Setting the Tomcat specific configurations. ended&quot;);\n        }\n        catch (Exception e)\n        {\n            logger.error(e.getMessage());\n            throw e;\n        }\n    }\n\n// HTTPS Settings - Begin\n    private Connector createSslConnector() {\n\n\n        Optional&lt;ApplicationHttpsSettingsEntity&gt; applicationHttpsSettingsEntity = applicationHttpsSettingsEntityRepository.findById(1);\n\n        if(applicationHttpsSettingsEntity.isPresent())\n        {\n            logger.info(&quot;Creating SSL Connector...&quot;);\n\n            Connector connector = new Connector(&quot;org.apache.coyote.http11.Http11NioProtocol&quot;);\n            Http11NioProtocol protocol = (Http11NioProtocol) connector.getProtocolHandler();\n            //            File keystore = new ClassPathResource(&quot;website_name.jks&quot;).getFile();\n//            File truststore = new ClassPathResource(&quot;keystore&quot;).getFile();\n            connector.setScheme(&quot;https&quot;);\n            connector.setSecure(applicationHttpsSettingsEntity.get().getUseHttps() != 0);\n            connector.setPort(applicationHttpsSettingsEntity.get().getBroadcaster().getPORT());\n            protocol.setSSLEnabled(applicationHttpsSettingsEntity.get().getUseHttps() != 0);\n//            protocol.setKeystoreFile(&quot;file:///c://trash//website_name_here.jks&quot;);\n            protocol.setKeystoreFile(applicationHttpsSettingsEntity.get().getKeyStore());\n//            protocol.setKeystorePass(&quot;pwd_here&quot;);\n            protocol.setKeystorePass(applicationHttpsSettingsEntity.get().getKeyStorePassword());\n//            protocol.setTruststoreFile(truststore.getAbsolutePath());\n//            protocol.setTruststorePass(&quot;changeit&quot;);\n            protocol.setKeyAlias(applicationHttpsSettingsEntity.get().getKeyAlias());\n            logger.info(&quot;Creating SSL Connector...Done&quot;);\n            return connector;\n        }\n\n        return null;\n    }\n// HTTPS Settings - End\n}\n</code></pre>\n<p>And</p>\n<pre><code>@Configuration\n//@Profile(&quot;production&quot;)\npublic class SecurityConfig\n{\n// HTTPS Settings - Begin\n    @Bean\n    public TomcatServletWebServerFactory httpsRedirectConfig()\n    {\n        return new TomcatServletWebServerFactory()\n        {\n            @Override\n            protected void postProcessContext(Context context)\n            {\n                SecurityConstraint securityConstraint = new SecurityConstraint();\n                securityConstraint.setUserConstraint(&quot;CONFIDENTIAL&quot;);\n                SecurityCollection collection = new SecurityCollection();\n                collection.addPattern(&quot;/*&quot;);\n                securityConstraint.addCollection(collection);\n                context.addConstraint(securityConstraint);\n            }\n        };\n    }\n// HTTPS Settings - End\n}\n</code></pre>\n"},{"tags":["java","loops","math","integer"],"comments":[{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1667575914,"post_id":74319367,"comment_id":131206213,"body_markdown":"It sounds like you&#39;re looking for the _Knapsack Problem_.","body":"It sounds like you&#39;re looking for the <i>Knapsack Problem</i>."}],"answers":[{"tags":[],"owner":{"account_id":7139308,"reputation":2282,"user_id":5457643,"display_name":"Turamarth"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667576100,"creation_date":1667576100,"answer_id":74319444,"question_id":74319367,"body_markdown":" 1. While `n&gt;=5`: Add 5 to the list and set `n = n - 5`.\r\n 2. While `n&gt;=2`: Add 2 to the list and set `n = n - 2`.\r\n 3. While `n&gt;=1`: Add 1 to the list and set `n = n - 1`.\r\n 4. Return the list\r\n\r\nAdditionally, a list is not the same as an array and you need to use the correct constructor for it i.e.\r\n\r\n    List&lt;Integer&gt; j = new ArrayList&lt;&gt;();","title":"How can I return a list of integers that add up to a provided integer n","body":"<ol>\n<li>While <code>n&gt;=5</code>: Add 5 to the list and set <code>n = n - 5</code>.</li>\n<li>While <code>n&gt;=2</code>: Add 2 to the list and set <code>n = n - 2</code>.</li>\n<li>While <code>n&gt;=1</code>: Add 1 to the list and set <code>n = n - 1</code>.</li>\n<li>Return the list</li>\n</ol>\n<p>Additionally, a list is not the same as an array and you need to use the correct constructor for it i.e.</p>\n<pre><code>List&lt;Integer&gt; j = new ArrayList&lt;&gt;();\n</code></pre>\n"}],"owner":{"display_name":"user18984687"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"closed_date":1667583629,"accepted_answer_id":74319444,"answer_count":1,"score":1,"last_activity_date":1667583624,"creation_date":1667575695,"question_id":74319367,"body_markdown":"I have a function  `public static List&lt;Integer&gt; change(int n)` that takes in an integer n and returns how many times does ints 5,2 and 1 add up to `n` (it should use the minimum number of ints possible). For example\r\n\r\nif `n = 12`, the output would be `[5,5,2]` since 5+5+2 = 12\r\nif `n = 55`, the output would be `[5,5,5,5,5]` since 5+5+5+5+5 = 25.\r\nif `n = 3`, the output would be `[2,1]` since 2+1 = 3.\r\n\r\nI&#39;m struggling to understand the logic behind implementing this into code, so here is what I have so far:\r\n\r\n    List&lt;Integer&gt; change(int n) {\r\n        a = 5\r\n        b = 2\r\n        c = 1\r\n        int[] j;\r\n        if (a+b+c == n) {\r\n             j.add(a)\r\n             j.add(b)\r\n             j.add(c) }\r\n        }\r\n\r\nCan someone please explain the logic behind tackling a problem like this so that I can make the necessary changes?\r\n\r\n\r\n \r\n","title":"How can I return a list of integers that add up to a provided integer n","body":"<p>I have a function  <code>public static List&lt;Integer&gt; change(int n)</code> that takes in an integer n and returns how many times does ints 5,2 and 1 add up to <code>n</code> (it should use the minimum number of ints possible). For example</p>\n<p>if <code>n = 12</code>, the output would be <code>[5,5,2]</code> since 5+5+2 = 12\nif <code>n = 55</code>, the output would be <code>[5,5,5,5,5]</code> since 5+5+5+5+5 = 25.\nif <code>n = 3</code>, the output would be <code>[2,1]</code> since 2+1 = 3.</p>\n<p>I'm struggling to understand the logic behind implementing this into code, so here is what I have so far:</p>\n<pre><code>List&lt;Integer&gt; change(int n) {\n    a = 5\n    b = 2\n    c = 1\n    int[] j;\n    if (a+b+c == n) {\n         j.add(a)\n         j.add(b)\n         j.add(c) }\n    }\n</code></pre>\n<p>Can someone please explain the logic behind tackling a problem like this so that I can make the necessary changes?</p>\n"},{"tags":["java","android","json","rest","listview"],"comments":[{"owner":{"account_id":5231393,"reputation":196,"user_id":4181597,"accept_rate":67,"display_name":"theSereneRebel"},"score":0,"creation_date":1493059991,"post_id":43595389,"comment_id":74241283,"body_markdown":"Try using volley for retrieving data","body":"Try using volley for retrieving data"}],"answers":[{"comments":[{"owner":{"display_name":"user7876280"},"score":0,"creation_date":1493064119,"post_id":43595634,"comment_id":74243693,"body_markdown":"Yes Thank you ! now i can see the result on my Log , but i stiill can&#39;t display it on my listView","body":"Yes Thank you ! now i can see the result on my Log , but i stiill can&#39;t display it on my listView"}],"tags":[],"owner":{"account_id":7441167,"reputation":1764,"user_id":5658915,"display_name":"Jonathan Aste"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493059804,"creation_date":1493059804,"answer_id":43595634,"question_id":43595389,"body_markdown":"You need to add an AsyncTask to run your api calls, otherwise the Network will fail because is running on UI thread.\r\nCheck [this answer][1] for an example.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/6343299/5658915","title":"Android: Result From Restful WS didn&#39;t display on my ListView","body":"<p>You need to add an AsyncTask to run your api calls, otherwise the Network will fail because is running on UI thread.\nCheck <a href=\"https://stackoverflow.com/a/6343299/5658915\">this answer</a> for an example.</p>\n"},{"comments":[{"owner":{"display_name":"user7876280"},"score":0,"creation_date":1493064135,"post_id":43595755,"comment_id":74243703,"body_markdown":"Yes Thank youit work with the asynkTask ! now i can see the result on my Log , but i stiill can&#39;t display it on my listView","body":"Yes Thank youit work with the asynkTask ! now i can see the result on my Log , but i stiill can&#39;t display it on my listView"},{"owner":{"account_id":8394032,"reputation":629,"user_id":6301831,"display_name":"pantos27"},"score":0,"creation_date":1493064536,"post_id":43595755,"comment_id":74243919,"body_markdown":"Do that in onPostExecute","body":"Do that in onPostExecute"},{"owner":{"display_name":"user7876280"},"score":0,"creation_date":1493064811,"post_id":43595755,"comment_id":74244055,"body_markdown":"but It&#39;s already on the onPostExecute Methode , i updated the code on the question .","body":"but It&#39;s already on the onPostExecute Methode , i updated the code on the question ."}],"tags":[],"owner":{"account_id":8394032,"reputation":629,"user_id":6301831,"display_name":"pantos27"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493060209,"creation_date":1493060209,"answer_id":43595755,"question_id":43595389,"body_markdown":"Looks like your making a network request on the main thread,which is a big no no on android.\r\n\r\nTry doing it on a new `Thread`, `AsyncTask` or event an `IntentService`\r\n\r\nSome reading material\r\nhttps://developer.android.com/training/articles/perf-anr.html\r\n\r\nhttps://developer.android.com/reference/android/os/AsyncTask.html\r\n","title":"Android: Result From Restful WS didn&#39;t display on my ListView","body":"<p>Looks like your making a network request on the main thread,which is a big no no on android.</p>\n\n<p>Try doing it on a new <code>Thread</code>, <code>AsyncTask</code> or event an <code>IntentService</code></p>\n\n<p>Some reading material\n<a href=\"https://developer.android.com/training/articles/perf-anr.html\" rel=\"nofollow noreferrer\">https://developer.android.com/training/articles/perf-anr.html</a></p>\n\n<p><a href=\"https://developer.android.com/reference/android/os/AsyncTask.html\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/os/AsyncTask.html</a></p>\n"},{"comments":[{"owner":{"display_name":"user7876280"},"score":0,"creation_date":1493063603,"post_id":43596091,"comment_id":74243351,"body_markdown":"Thank you ! it works but i still throws a jsonException","body":"Thank you ! it works but i still throws a jsonException"},{"owner":{"account_id":4938217,"reputation":21556,"user_id":3975747,"display_name":"Ferdous Ahamed"},"score":0,"creation_date":1493063633,"post_id":43596091,"comment_id":74243375,"body_markdown":"what is it? post here","body":"what is it? post here"},{"owner":{"account_id":4938217,"reputation":21556,"user_id":3975747,"display_name":"Ferdous Ahamed"},"score":0,"creation_date":1493064985,"post_id":43596091,"comment_id":74244162,"body_markdown":"in your try block use &gt;&gt; JSONArray jArray = new JSONArray(result); instead of JSONArray jArray = new JSONArray(response);","body":"in your try block use &gt;&gt; JSONArray jArray = new JSONArray(result); instead of JSONArray jArray = new JSONArray(response);"},{"owner":{"display_name":"user7876280"},"score":0,"creation_date":1493066522,"post_id":43596091,"comment_id":74244968,"body_markdown":"i still have the same error , i think its on the   JSONObject json_data = jArray.getJSONObject(i); part because when i ty to desplay it on the log i cant find it","body":"i still have the same error , i think its on the   JSONObject json_data = jArray.getJSONObject(i); part because when i ty to desplay it on the log i cant find it"},{"owner":{"account_id":4938217,"reputation":21556,"user_id":3975747,"display_name":"Ferdous Ahamed"},"score":0,"creation_date":1493070368,"post_id":43596091,"comment_id":74246689,"body_markdown":"I have updated my answer with fully working code. Please check this","body":"I have updated my answer with fully working code. Please check this"},{"owner":{"display_name":"user7876280"},"score":0,"creation_date":1493076897,"post_id":43596091,"comment_id":74248737,"body_markdown":"Yes it work now thank you,  my arraylist is filled with the json objetcs , but the struggle is that i still can&#39;t display it into my ListView","body":"Yes it work now thank you,  my arraylist is filled with the json objetcs , but the struggle is that i still can&#39;t display it into my ListView"}],"tags":[],"owner":{"account_id":4938217,"reputation":21556,"user_id":3975747,"display_name":"Ferdous Ahamed"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1493070313,"creation_date":1493061486,"answer_id":43596091,"question_id":43595389,"body_markdown":"&gt; Error in http connection android.os.NetworkOnMainThreadException\r\n\r\nTry using `AsyncTask` to get `JSON` from HTTP requests. Or use `Volley` library as its easy to implement.\r\n\r\n&gt; Error parsing data org.json.JSONException: End of input at character 0\r\n&gt; of\r\n\r\nYou are getting `JSON` parsing error at `json_data.getString(&quot;id_DAB&quot;)` as `id_DAB` is contains `int` value.\r\n\r\n**Try this:**\r\n\r\n    //create a new person\r\n    Dabl resultRow = new Dabl();\r\n    \r\n    //set that person&#39;s attributes\r\n    resultRow.id = json_data.getInt(&quot;id_DAB&quot;); \r\n    resultRow.libdab = json_data.getString(&quot;Libelle_DAB&quot;);\r\n    resultRow.etat = json_data.getString(&quot;etat&quot;);\r\n    resultRow.des= json_data.getString(&quot;description&quot;);\r\n    resultRow.zone= json_data.getString(&quot;zone&quot;);\r\n\r\n\r\n**UPDATE:**\r\n\r\n&gt; E/ERROR: ERROR IN CODE: `org.json.JSONException`: Value\r\n&gt; `{&quot;zone&quot;:&quot;Tunis&quot;,&quot;description&quot;:&quot;le DAB fonctionne`\r\n&gt; `correctement.&quot;,&quot;id_DAB&quot;:22,&quot;etat&quot;:&quot;En marche&quot;,&quot;Libelle_DAB&quot;:&quot;&quot;}` at 0\r\n&gt; of type `java.lang.String` cannot be converted to `JSONObject`\r\n\r\n\r\n**Here is the working code:**\r\n\r\n    public void parseJson(){\r\n\r\n\t\t// Your JSON\r\n\t\tString result = &quot;[\\n&quot; +\r\n\t\t\t\t&quot;  \\&quot;{\\\\\\&quot;zone\\\\\\&quot;:\\\\\\&quot;Tunis\\\\\\&quot;,\\\\\\&quot;description\\\\\\&quot;:\\\\\\&quot;le DAB fonctionne correctement.\\\\\\&quot;,\\\\\\&quot;id_DAB\\\\\\&quot;:22,\\\\\\&quot;etat\\\\\\&quot;:\\\\\\&quot;En marche\\\\\\&quot;,\\\\\\&quot;Libelle_DAB\\\\\\&quot;:\\\\\\&quot;\\\\\\&quot;}\\&quot;,\\n&quot; +\r\n\t\t\t\t&quot;  \\&quot;{\\\\\\&quot;zone\\\\\\&quot;:\\\\\\&quot;Tunis\\\\\\&quot;,\\\\\\&quot;description\\\\\\&quot;:\\\\\\&quot;le DAB fonctionne correctement.\\\\\\&quot;,\\\\\\&quot;id_DAB\\\\\\&quot;:26,\\\\\\&quot;etat\\\\\\&quot;:\\\\\\&quot;En marche\\\\\\&quot;,\\\\\\&quot;Libelle_DAB\\\\\\&quot;:\\\\\\&quot;ooo\\\\\\&quot;}\\&quot;,\\n&quot; +\r\n\t\t\t\t&quot;  \\&quot;{\\\\\\&quot;zone\\\\\\&quot;:\\\\\\&quot;Tunis\\\\\\&quot;,\\\\\\&quot;description\\\\\\&quot;:\\\\\\&quot;le DAB fonctionne correctement.\\\\\\&quot;,\\\\\\&quot;id_DAB\\\\\\&quot;:27,\\\\\\&quot;etat\\\\\\&quot;:\\\\\\&quot;En marche\\\\\\&quot;,\\\\\\&quot;Libelle_DAB\\\\\\&quot;:\\\\\\&quot;\\\\\\&quot;}\\&quot;,\\n&quot; +\r\n\t\t\t\t&quot;  \\&quot;{\\\\\\&quot;zone\\\\\\&quot;:\\\\\\&quot;Tunis\\\\\\&quot;,\\\\\\&quot;description\\\\\\&quot;:\\\\\\&quot;le DAB fonctionne correctement.\\\\\\&quot;,\\\\\\&quot;id_DAB\\\\\\&quot;:6660,\\\\\\&quot;etat\\\\\\&quot;:\\\\\\&quot;En marche\\\\\\&quot;,\\\\\\&quot;Libelle_DAB\\\\\\&quot;:\\\\\\&quot;yyy\\\\\\&quot;}\\&quot;\\n&quot; +\r\n\t\t\t\t&quot;]&quot;;\r\n\r\n\t\tString response = result.toString();\r\n\r\n\t\ttry {\r\n\t\t\tJSONArray jArray = new JSONArray(response);\r\n\r\n\t\t\tfor (int i = 0; i &lt; jArray.length(); i++) {\r\n\t\t\t\tString string = jArray.getString(i);\r\n\t\t\t\tLog.i(&quot;try jaaray ob &quot;, string.toString());\r\n\r\n\t\t\t\tJSONObject json_data = new JSONObject(string);\r\n\t\t\t\tint id = json_data.getInt(&quot;id_DAB&quot;);\r\n\t\t\t\tString libdab = json_data.getString(&quot;Libelle_DAB&quot;);\r\n\t\t\t\tString etat = json_data.getString(&quot;etat&quot;);\r\n\t\t\t\tString des= json_data.getString(&quot;description&quot;);\r\n\t\t\t\tString zone= json_data.getString(&quot;zone&quot;);\r\n\r\n\t\t\t\tLog.d(&quot;Success&quot;, &quot;id: &quot; + id + &quot;\\nlibdab: &quot; + libdab + &quot;\\netat: &quot; + etat +\r\n\t\t\t\t&quot;\\ndes: &quot; + des + &quot;\\nzone: &quot; + zone);\r\n\t\t\t}\r\n\t\t} catch (JSONException e) {\r\n\t\t\tLog.e(&quot;ERROR&quot;, &quot;ERROR IN CODE: &quot; + e.toString());\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n**OUTPUT LOG:**\r\n\r\n    I/try&#160;jaaray&#160;ob: {&quot;zone&quot;:&quot;Tunis&quot;,&quot;description&quot;:&quot;le DAB fonctionne correctement.&quot;,&quot;id_DAB&quot;:22,&quot;etat&quot;:&quot;En marche&quot;,&quot;Libelle_DAB&quot;:&quot;&quot;}\r\n    D/Success: id: 22\r\n               libdab: \r\n               etat: En marche\r\n               des: le DAB fonctionne correctement.\r\n               zone: Tunis\r\n    \r\n    I/try&#160;jaaray&#160;ob: {&quot;zone&quot;:&quot;Tunis&quot;,&quot;description&quot;:&quot;le DAB fonctionne correctement.&quot;,&quot;id_DAB&quot;:26,&quot;etat&quot;:&quot;En marche&quot;,&quot;Libelle_DAB&quot;:&quot;ooo&quot;}\r\n    D/Success: id: 26\r\n               libdab: ooo\r\n               etat: En marche    \r\n               des: le DAB fonctionne correctement.       \r\n               zone: Tunis\r\n\r\n    I/try&#160;jaaray&#160;ob: {&quot;zone&quot;:&quot;Tunis&quot;,&quot;description&quot;:&quot;le DAB fonctionne correctement.&quot;,&quot;id_DAB&quot;:27,&quot;etat&quot;:&quot;En marche&quot;,&quot;Libelle_DAB&quot;:&quot;&quot;}\r\n    D/Success: id: 27\r\n               libdab: \r\n               etat: En marche\r\n               des: le DAB fonctionne correctement.\r\n               zone: Tunis\r\n\r\n    I/try&#160;jaaray&#160;ob: {&quot;zone&quot;:&quot;Tunis&quot;,&quot;description&quot;:&quot;le DAB fonctionne correctement.&quot;,&quot;id_DAB&quot;:6660,&quot;etat&quot;:&quot;En marche&quot;,&quot;Libelle_DAB&quot;:&quot;yyy&quot;}\r\n    D/Success: id: 6660\r\n               libdab: yyy\r\n               etat: En marche\r\n               des: le DAB fonctionne correctement.\r\n               zone: Tunis\r\n\r\nHope this will help~","title":"Android: Result From Restful WS didn&#39;t display on my ListView","body":"<blockquote>\n  <p>Error in http connection android.os.NetworkOnMainThreadException</p>\n</blockquote>\n\n<p>Try using <code>AsyncTask</code> to get <code>JSON</code> from HTTP requests. Or use <code>Volley</code> library as its easy to implement.</p>\n\n<blockquote>\n  <p>Error parsing data org.json.JSONException: End of input at character 0\n  of</p>\n</blockquote>\n\n<p>You are getting <code>JSON</code> parsing error at <code>json_data.getString(\"id_DAB\")</code> as <code>id_DAB</code> is contains <code>int</code> value.</p>\n\n<p><strong>Try this:</strong></p>\n\n<pre><code>//create a new person\nDabl resultRow = new Dabl();\n\n//set that person's attributes\nresultRow.id = json_data.getInt(\"id_DAB\"); \nresultRow.libdab = json_data.getString(\"Libelle_DAB\");\nresultRow.etat = json_data.getString(\"etat\");\nresultRow.des= json_data.getString(\"description\");\nresultRow.zone= json_data.getString(\"zone\");\n</code></pre>\n\n<p><strong>UPDATE:</strong></p>\n\n<blockquote>\n  <p>E/ERROR: ERROR IN CODE: <code>org.json.JSONException</code>: Value\n  <code>{\"zone\":\"Tunis\",\"description\":\"le DAB fonctionne</code>\n  <code>correctement.\",\"id_DAB\":22,\"etat\":\"En marche\",\"Libelle_DAB\":\"\"}</code> at 0\n  of type <code>java.lang.String</code> cannot be converted to <code>JSONObject</code></p>\n</blockquote>\n\n<p><strong>Here is the working code:</strong></p>\n\n<pre><code>public void parseJson(){\n\n    // Your JSON\n    String result = \"[\\n\" +\n            \"  \\\"{\\\\\\\"zone\\\\\\\":\\\\\\\"Tunis\\\\\\\",\\\\\\\"description\\\\\\\":\\\\\\\"le DAB fonctionne correctement.\\\\\\\",\\\\\\\"id_DAB\\\\\\\":22,\\\\\\\"etat\\\\\\\":\\\\\\\"En marche\\\\\\\",\\\\\\\"Libelle_DAB\\\\\\\":\\\\\\\"\\\\\\\"}\\\",\\n\" +\n            \"  \\\"{\\\\\\\"zone\\\\\\\":\\\\\\\"Tunis\\\\\\\",\\\\\\\"description\\\\\\\":\\\\\\\"le DAB fonctionne correctement.\\\\\\\",\\\\\\\"id_DAB\\\\\\\":26,\\\\\\\"etat\\\\\\\":\\\\\\\"En marche\\\\\\\",\\\\\\\"Libelle_DAB\\\\\\\":\\\\\\\"ooo\\\\\\\"}\\\",\\n\" +\n            \"  \\\"{\\\\\\\"zone\\\\\\\":\\\\\\\"Tunis\\\\\\\",\\\\\\\"description\\\\\\\":\\\\\\\"le DAB fonctionne correctement.\\\\\\\",\\\\\\\"id_DAB\\\\\\\":27,\\\\\\\"etat\\\\\\\":\\\\\\\"En marche\\\\\\\",\\\\\\\"Libelle_DAB\\\\\\\":\\\\\\\"\\\\\\\"}\\\",\\n\" +\n            \"  \\\"{\\\\\\\"zone\\\\\\\":\\\\\\\"Tunis\\\\\\\",\\\\\\\"description\\\\\\\":\\\\\\\"le DAB fonctionne correctement.\\\\\\\",\\\\\\\"id_DAB\\\\\\\":6660,\\\\\\\"etat\\\\\\\":\\\\\\\"En marche\\\\\\\",\\\\\\\"Libelle_DAB\\\\\\\":\\\\\\\"yyy\\\\\\\"}\\\"\\n\" +\n            \"]\";\n\n    String response = result.toString();\n\n    try {\n        JSONArray jArray = new JSONArray(response);\n\n        for (int i = 0; i &lt; jArray.length(); i++) {\n            String string = jArray.getString(i);\n            Log.i(\"try jaaray ob \", string.toString());\n\n            JSONObject json_data = new JSONObject(string);\n            int id = json_data.getInt(\"id_DAB\");\n            String libdab = json_data.getString(\"Libelle_DAB\");\n            String etat = json_data.getString(\"etat\");\n            String des= json_data.getString(\"description\");\n            String zone= json_data.getString(\"zone\");\n\n            Log.d(\"Success\", \"id: \" + id + \"\\nlibdab: \" + libdab + \"\\netat: \" + etat +\n            \"\\ndes: \" + des + \"\\nzone: \" + zone);\n        }\n    } catch (JSONException e) {\n        Log.e(\"ERROR\", \"ERROR IN CODE: \" + e.toString());\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p><strong>OUTPUT LOG:</strong></p>\n\n<pre><code>I/try jaaray ob: {\"zone\":\"Tunis\",\"description\":\"le DAB fonctionne correctement.\",\"id_DAB\":22,\"etat\":\"En marche\",\"Libelle_DAB\":\"\"}\nD/Success: id: 22\n           libdab: \n           etat: En marche\n           des: le DAB fonctionne correctement.\n           zone: Tunis\n\nI/try jaaray ob: {\"zone\":\"Tunis\",\"description\":\"le DAB fonctionne correctement.\",\"id_DAB\":26,\"etat\":\"En marche\",\"Libelle_DAB\":\"ooo\"}\nD/Success: id: 26\n           libdab: ooo\n           etat: En marche    \n           des: le DAB fonctionne correctement.       \n           zone: Tunis\n\nI/try jaaray ob: {\"zone\":\"Tunis\",\"description\":\"le DAB fonctionne correctement.\",\"id_DAB\":27,\"etat\":\"En marche\",\"Libelle_DAB\":\"\"}\nD/Success: id: 27\n           libdab: \n           etat: En marche\n           des: le DAB fonctionne correctement.\n           zone: Tunis\n\nI/try jaaray ob: {\"zone\":\"Tunis\",\"description\":\"le DAB fonctionne correctement.\",\"id_DAB\":6660,\"etat\":\"En marche\",\"Libelle_DAB\":\"yyy\"}\nD/Success: id: 6660\n           libdab: yyy\n           etat: En marche\n           des: le DAB fonctionne correctement.\n           zone: Tunis\n</code></pre>\n\n<p>Hope this will help~</p>\n"}],"owner":{"display_name":"user7876280"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":43596091,"answer_count":3,"score":0,"last_activity_date":1667583500,"creation_date":1493058943,"question_id":43595389,"body_markdown":"I&#39;m developping an Android application which consumes a restful web service that retrieves data from Mysql database.\r\n\r\nSo I&#39;m trying to display the result of a web method on my listview but the list is always empty.\r\n\r\nThe result is in JSON format but as a string.\r\n\r\nI created a layout that contains a list view\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:orientation=&quot;vertical&quot; android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/textView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;La liste des DAB&quot; /&gt;\r\n    \r\n        &lt;ListView\r\n            android:id=&quot;@+id/lstdab&quot;\r\n            style=&quot;@style/Widget.AppCompat.ListView.DropDown&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:visibility=&quot;visible&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\nA layout that contains the items of the list View\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;fill_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:padding=&quot;10dp&quot;\r\n        android:paddingLeft=&quot;10dp&quot;\r\n        android:paddingRight=&quot;10dp&quot; &gt;\r\n        &lt;TextView\r\n            android:id=&quot;@+id/id&quot;\r\n            android:layout_width=&quot;fill_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:paddingBottom=&quot;2dip&quot;\r\n            android:paddingTop=&quot;6dip&quot;\r\n            android:textColor=&quot;#43bd00&quot;\r\n            android:textSize=&quot;16sp&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n        &lt;TextView\r\n            android:id=&quot;@+id/libdab&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:paddingBottom=&quot;2dip&quot;\r\n            android:paddingTop=&quot;6dip&quot;\r\n            android:textColor=&quot;#43bd00&quot;\r\n            android:textSize=&quot;16sp&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/tet&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:paddingBottom=&quot;2dip&quot;\r\n            android:paddingTop=&quot;6dip&quot;\r\n            android:textColor=&quot;#43bd00&quot;\r\n            android:textSize=&quot;16sp&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/libe&quot;\r\n            android:layout_width=&quot;fill_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:paddingBottom=&quot;2dip&quot;\r\n            android:textColor=&quot;#acacac&quot; /&gt;\r\n        &lt;TextView\r\n            android:id=&quot;@+id/zone&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:gravity=&quot;left&quot;\r\n            android:textColor=&quot;#5d5d5d&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\nAnd this is my activity that will fill the list view received from a web method on restful web service using an URL:\r\n\r\n    package com.example.projetmonitoringapplication;\r\n    \r\n    import android.os.AsyncTask;\r\n    import android.os.Bundle;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.util.Log;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.ArrayAdapter;\r\n    import android.widget.ListView;\r\n    import android.widget.TextView;\r\n    \r\n    import org.json.JSONArray;\r\n    import org.json.JSONException;\r\n    import org.json.JSONObject;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    \r\n    import cz.msebera.android.httpclient.HttpResponse;\r\n    import cz.msebera.android.httpclient.client.HttpClient;\r\n    import cz.msebera.android.httpclient.client.methods.HttpGet;\r\n    import cz.msebera.android.httpclient.impl.client.DefaultHttpClient;\r\n    import cz.msebera.android.httpclient.util.EntityUtils;\r\n    \r\n    /**\r\n     * Created by Emel on 24/04/2017.\r\n     */\r\n    \r\n    public class listez extends AppCompatActivity {\r\n    \r\n        ListView list;\r\n       // BaseAdapter2 adapter;\r\n       ArrayList&lt;Dabl&gt; arrayOfWebData = new ArrayList&lt;Dabl&gt;();\r\n        //this is our result object\r\n    \r\n        class Dabl {\r\n            int id ;\r\n            String libdab;\r\n            String etat;\r\n            String des ;\r\n            String zone ;\r\n    \r\n        }\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.listezonelayout);\r\n            list = (ListView) findViewById(R.id.lstdab);\r\n            new TheTask().execute();\r\n        }\r\n        adapter aa ;\r\n    \r\n        class adapter extends ArrayAdapter&lt;listez.Dabl&gt; {\r\n            adapter() {\r\n                super(listez.this, android.R.layout.simple_list_item_1, arrayOfWebData);\r\n            }\r\n    \r\n            public View getView(int position, View convertView,\r\n                                ViewGroup parent) {\r\n                ViewHolder holder;\r\n    \r\n                if (convertView==null) {\r\n                    LayoutInflater inflater=getLayoutInflater();\r\n                    convertView=inflater.inflate(R.layout.listdabzitem, null);\r\n    \r\n                    holder=new listez.ViewHolder(convertView);\r\n    \r\n                    convertView.setTag(holder);\r\n                }\r\n                else\r\n                {\r\n                    holder=(ViewHolder)convertView.getTag();\r\n                }\r\n                holder.populateFrom(arrayOfWebData.get(position));\r\n    \r\n                return(convertView);\r\n            }\r\n        }\r\n    \r\n        class ViewHolder {\r\n            public TextView idd=null;\r\n            public TextView lib=null;\r\n            public TextView et=null;\r\n            public TextView des=null;\r\n            public TextView zone=null;\r\n    \r\n            ViewHolder(View row) {\r\n                idd=(TextView)row.findViewById(R.id.id);\r\n                lib=(TextView)row.findViewById(R.id.libdab);\r\n                et=(TextView)row.findViewById(R.id.tet);\r\n                des=(TextView)row.findViewById(R.id.libe);\r\n                zone=(TextView)row.findViewById(R.id.zone);\r\n            }\r\n            //notice we had to change our populate from to take an argument of type person\r\n            void populateFrom(Dabl r) {\r\n                idd.setText(r.id);\r\n                lib.setText(r.libdab);\r\n                et.setText(r.etat);\r\n                des.setText(r.des);\r\n                zone.setText(r.zone);\r\n            }\r\n        }\r\n    \r\n        class TheTask extends AsyncTask&lt;Void, Void, String&gt; {\r\n    \r\n            @Override\r\n            protected String doInBackground(Void... params) {\r\n                String str = null;\r\n                try {\r\n                    HttpClient httpclient = new DefaultHttpClient();\r\n                    HttpGet httppost = new HttpGet(\r\n                            &quot;http://10.0.2.2:8180/ProjetMonitoring/RestApp/DA/RechercherDABzTunis&quot;);\r\n                    HttpResponse response = httpclient.execute(httppost);\r\n                    str = EntityUtils.toString(response.getEntity());\r\n                    Log.e(&quot;test&quot;, &quot;----&quot; + str);\r\n                } catch (IOException e) {\r\n                    // TODO Auto-generated catch block\r\n                    e.printStackTrace();\r\n                }\r\n    \r\n                return str;\r\n    \r\n            }\r\n    \r\n    \r\n            @Override\r\n            protected void onPostExecute(String result) {\r\n    \r\n                super.onPostExecute(result);\r\n    \r\n                String response = result.toString();\r\n                try {\r\n    \r\n    \r\n                    JSONArray jArray = new JSONArray(response);\r\n    \r\n                    for (int i = 0, count = jArray.length(); i &lt; count; i++) {\r\n                        //get our object, this is one person&#39;s worth of data\r\n                        JSONObject json_data = jArray.getJSONObject(i);\r\n                        Log.i(&quot;try jaaray ob &quot;,json_data.toString());\r\n    \r\n                        //create a new person\r\n                        Dabl resultRow = new Dabl();\r\n                        //set that person&#39;s attributes\r\n                        resultRow.id = json_data.getInt(&quot;id_DAB&quot;);\r\n                        resultRow.libdab = json_data.getString(&quot;Libelle_DAB&quot;);\r\n                        resultRow.etat = json_data.getString(&quot;etat&quot;);\r\n                        resultRow.des= json_data.getString(&quot;description&quot;);\r\n                        resultRow.zone= json_data.getString(&quot;zone&quot;);\r\n    \r\n                        //this is our arrayList object, we add our Person object to it\r\n                        arrayOfWebData.add(resultRow);\r\n                    }\r\n                    ListView myListView = (ListView)findViewById(R.id.lstdab);\r\n    \r\n                    aa=new adapter();\r\n    \r\n                    myListView.setAdapter(aa);\r\n    String s=myListView.getItemAtPosition(1).toString();\r\n                    Log.i(&quot;ITEM&quot;,s);\r\n                } catch (JSONException e) {\r\n                    // TODO Auto-genrror2&quot;);\r\n                    Log.e(&quot;ERROR&quot;, &quot;ERROR IN CODE: &quot; + e.toString());\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nDon&#39;t give attention to my comments or to the unused variables.\r\n\r\nAfter executing the code, this is what I get on my logcat, even the log.e that I&#39;m displaying to test doesn&#39;t appear:\r\n\r\n  \r\n\r\n     04-24 20:51:29.355 20374-20636/com.example.projetmonitoringapplication E/test: ----[&quot;{\\&quot;zone\\&quot;:\\&quot;Tunis\\&quot;,\\&quot;description\\&quot;:\\&quot;le DAB fonctionne correctement.\\&quot;,\\&quot;id_DAB\\&quot;:22,\\&quot;etat\\&quot;:\\&quot;En marche\\&quot;,\\&quot;Libelle_DAB\\&quot;:\\&quot;\\&quot;}&quot;,&quot;{\\&quot;zone\\&quot;:\\&quot;Tunis\\&quot;,\\&quot;description\\&quot;:\\&quot;le DAB fonctionne correctement.\\&quot;,\\&quot;id_DAB\\&quot;:26,\\&quot;etat\\&quot;:\\&quot;En marche\\&quot;,\\&quot;Libelle_DAB\\&quot;:\\&quot;ooo\\&quot;}&quot;,&quot;{\\&quot;zone\\&quot;:\\&quot;Tunis\\&quot;,\\&quot;description\\&quot;:\\&quot;le DAB fonctionne correctement.\\&quot;,\\&quot;id_DAB\\&quot;:27,\\&quot;etat\\&quot;:\\&quot;En marche\\&quot;,\\&quot;Libelle_DAB\\&quot;:\\&quot;\\&quot;}&quot;,&quot;{\\&quot;zone\\&quot;:\\&quot;Tunis\\&quot;,\\&quot;description\\&quot;:\\&quot;le DAB fonctionne correctement.\\&quot;,\\&quot;id_DAB\\&quot;:6660,\\&quot;etat\\&quot;:\\&quot;En marche\\&quot;,\\&quot;Libelle_DAB\\&quot;:\\&quot;yyy\\&quot;}&quot;]\r\n    04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication E/ERROR: ERROR IN CODE: org.json.JSONException: Value {&quot;zone&quot;:&quot;Tunis&quot;,&quot;description&quot;:&quot;le DAB fonctionne correctement.&quot;,&quot;id_DAB&quot;:22,&quot;etat&quot;:&quot;En marche&quot;,&quot;Libelle_DAB&quot;:&quot;&quot;} at 0 of type java.lang.String cannot be converted to JSONObject\r\n    04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err: org.json.JSONException: Value {&quot;zone&quot;:&quot;Tunis&quot;,&quot;description&quot;:&quot;le DAB fonctionne correctement.&quot;,&quot;id_DAB&quot;:22,&quot;etat&quot;:&quot;En marche&quot;,&quot;Libelle_DAB&quot;:&quot;&quot;} at 0 of type java.lang.String cannot be converted to JSONObject\r\n    04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at org.json.JSON.typeMismatch(JSON.java:100)\r\n    04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at org.json.JSONArray.getJSONObject(JSONArray.java:514)\r\n    04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at com.example.projetmonitoringapplication.listez$TheTask.onPostExecute(listez.java:141)\r\n    04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at com.example.projetmonitoringapplication.listez$TheTask.onPostExecute(listez.java:106)\r\n    04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at android.os.AsyncTask.finish(AsyncTask.java:632)\r\n    04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at android.os.AsyncTask.access$600(AsyncTask.java:177)\r\n    04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:645)\r\n    04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at android.os.Handler.dispatchMessage(Handler.java:102)\r\n    04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at android.os.Looper.loop(Looper.java:136)\r\n    04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at android.app.ActivityThread.main(ActivityThread.java:5021)\r\n    04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at java.lang.reflect.Method.invokeNative(Native Method)\r\n    04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at java.lang.reflect.Method.invoke(Method.java:515)\r\n    04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:827)\r\n    04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:643)\r\n    04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at dalvik.system.NativeStart.main(Native Method)\r\n\r\nthis is my WebMethode:\r\n \r\n\r\n  \r\n\r\n     // DAB zone Tunis\r\n            @GET\r\n            @Path(&quot;/RechercherDABzTunis&quot;)\r\n            @Produces(MediaType.APPLICATION_JSON)\r\n         //   @Consumes(MediaType.APPLICATION_JSON)\r\n            public String DABtunis()   \r\n         \t\t   throws SQLException, JSONException {\r\n            \tJSONObject obj = new JSONObject();\r\n            \tJSONArray array=new JSONArray();\r\n        \r\n    \r\n    \t    dbCoN = new DBConnection();\r\n    \t    query = &quot;SELECT dab.id_DAB, dab.libelle_DAB , etat.titre_etat , etat.libelle,zone.nom_zone FROM dab, agence,zone,etat where dab.id_agence=agence.id_agence and agence.id_zone=zone.id_zone and zone.nom_zone=&#39;Tunis&#39; GROUP by dab.id_DAB;&quot;;\r\n       \r\n    \t    \ttry {\r\n    \t    \t\tconn = (Connection) DBConnection.createConnection();\r\n    \t    \t\trslt = dbCoN.getResutlSet(query, conn);\r\n    \t    \t\tSystem.out.println(&quot;try here ! ! !  &quot;);\r\n    \r\n    \t    \t\tif (rslt.next()) {   \r\n    \t    \t\twhile (rslt.next()){\r\n    \t    \t\t\tobj = DAB.DABzoneToJson(rslt.getInt(&quot;id_DAB&quot;),rslt.getString(&quot;libelle_DAB&quot;),rslt.getString(&quot;titre_etat&quot;),rslt.getString(&quot;libelle&quot;),rslt.getString(&quot;nom_zone&quot;) );\r\n    \t    \t\t\tarray.put(obj.toString());\r\n    \r\n    \r\n    \t    \t\t\tSystem.out.println(rslt.getString(1).toString());\r\n        \t\t\t\t }\r\n    \t    \t\t}\r\n    \t    \t\telse {\r\n    \t    \t\t\tobj=DAB.DABToJsonFaux();\r\n    \t    \t\t\tarray.put(obj.toString());\r\n    \r\n    \t    \t\t\tSystem.out.println(&quot;&quot;);\r\n    \r\n    \t    \t\t\t }\r\n     \r\n    \t    \t\t} catch (SQLException e){\r\n    \t    \t\t\tSystem.out.println(&quot;exception here sql! ! &quot;+e);\r\n    \t    \t\t} catch (Exception ex){\r\n    \t    \t\t\tSystem.out.println(&quot;exception here ! ! &quot;+ex);\r\n    \t    \t\t} finally { \r\n    \t    \t\t\tif (conn != null) {\r\n    \t    \t\t\t\tconn.close();\r\n    \t    \t\t\t\t\t\t\t}\r\n    \t    \t\t}\r\n    \t    \t//JSONObject jobj=new JSONObject();\r\n    \t    //\tjobj.put(&quot;array&quot;, array.toString());\r\n    \t    \r\n        \t\treturn array.toString();\r\n    \r\n        \t}\r\n    \t    \r\n\r\n \r\n\r\ni think the problem is on these two exception but i don&#39;t see any fault.\r\nthis is the result of my webMethode o postman:\r\n\r\n    [\r\n      &quot;{\\&quot;zone\\&quot;:\\&quot;Tunis\\&quot;,\\&quot;description\\&quot;:\\&quot;le DAB fonctionne correctement.\\&quot;,\\&quot;id_DAB\\&quot;:22,\\&quot;etat\\&quot;:\\&quot;En marche\\&quot;,\\&quot;Libelle_DAB\\&quot;:\\&quot;\\&quot;}&quot;,\r\n      &quot;{\\&quot;zone\\&quot;:\\&quot;Tunis\\&quot;,\\&quot;description\\&quot;:\\&quot;le DAB fonctionne correctement.\\&quot;,\\&quot;id_DAB\\&quot;:26,\\&quot;etat\\&quot;:\\&quot;En marche\\&quot;,\\&quot;Libelle_DAB\\&quot;:\\&quot;ooo\\&quot;}&quot;,\r\n      &quot;{\\&quot;zone\\&quot;:\\&quot;Tunis\\&quot;,\\&quot;description\\&quot;:\\&quot;le DAB fonctionne correctement.\\&quot;,\\&quot;id_DAB\\&quot;:27,\\&quot;etat\\&quot;:\\&quot;En marche\\&quot;,\\&quot;Libelle_DAB\\&quot;:\\&quot;\\&quot;}&quot;,\r\n      &quot;{\\&quot;zone\\&quot;:\\&quot;Tunis\\&quot;,\\&quot;description\\&quot;:\\&quot;le DAB fonctionne correctement.\\&quot;,\\&quot;id_DAB\\&quot;:6660,\\&quot;etat\\&quot;:\\&quot;En marche\\&quot;,\\&quot;Libelle_DAB\\&quot;:\\&quot;yyy\\&quot;}&quot;\r\n    ]\r\n    i&#39;m using Android Studio , and wildfly 8 as a server, my web Service is a  r\r\n\r\nestful i have a login activity in the same application that works perfectly, i think the probleme is on the parsing , but i don&#39;t see the error , can some one explian please ? thank you! \r\n\r\n\r\nUPDATED: i added asyncTask as you said , no im receiving the result from the webService in the log but i still can&#39;t display it on the ListView , i updated my Activity code , the Log also !","title":"Android: Result From Restful WS didn&#39;t display on my ListView","body":"<p>I'm developping an Android application which consumes a restful web service that retrieves data from Mysql database.</p>\n<p>So I'm trying to display the result of a web method on my listview but the list is always empty.</p>\n<p>The result is in JSON format but as a string.</p>\n<p>I created a layout that contains a list view</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:orientation=&quot;vertical&quot; android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;La liste des DAB&quot; /&gt;\n\n    &lt;ListView\n        android:id=&quot;@+id/lstdab&quot;\n        style=&quot;@style/Widget.AppCompat.ListView.DropDown&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:visibility=&quot;visible&quot; /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>A layout that contains the items of the list View</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;fill_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;vertical&quot;\n    android:padding=&quot;10dp&quot;\n    android:paddingLeft=&quot;10dp&quot;\n    android:paddingRight=&quot;10dp&quot; &gt;\n    &lt;TextView\n        android:id=&quot;@+id/id&quot;\n        android:layout_width=&quot;fill_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:paddingBottom=&quot;2dip&quot;\n        android:paddingTop=&quot;6dip&quot;\n        android:textColor=&quot;#43bd00&quot;\n        android:textSize=&quot;16sp&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n    &lt;TextView\n        android:id=&quot;@+id/libdab&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:paddingBottom=&quot;2dip&quot;\n        android:paddingTop=&quot;6dip&quot;\n        android:textColor=&quot;#43bd00&quot;\n        android:textSize=&quot;16sp&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/tet&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:paddingBottom=&quot;2dip&quot;\n        android:paddingTop=&quot;6dip&quot;\n        android:textColor=&quot;#43bd00&quot;\n        android:textSize=&quot;16sp&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/libe&quot;\n        android:layout_width=&quot;fill_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:paddingBottom=&quot;2dip&quot;\n        android:textColor=&quot;#acacac&quot; /&gt;\n    &lt;TextView\n        android:id=&quot;@+id/zone&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:gravity=&quot;left&quot;\n        android:textColor=&quot;#5d5d5d&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>And this is my activity that will fill the list view received from a web method on restful web service using an URL:</p>\n<pre><code>package com.example.projetmonitoringapplication;\n\nimport android.os.AsyncTask;\nimport android.os.Bundle;\nimport android.support.v7.app.AppCompatActivity;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ArrayAdapter;\nimport android.widget.ListView;\nimport android.widget.TextView;\n\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport java.io.IOException;\nimport java.util.ArrayList;\n\nimport cz.msebera.android.httpclient.HttpResponse;\nimport cz.msebera.android.httpclient.client.HttpClient;\nimport cz.msebera.android.httpclient.client.methods.HttpGet;\nimport cz.msebera.android.httpclient.impl.client.DefaultHttpClient;\nimport cz.msebera.android.httpclient.util.EntityUtils;\n\n/**\n * Created by Emel on 24/04/2017.\n */\n\npublic class listez extends AppCompatActivity {\n\n    ListView list;\n   // BaseAdapter2 adapter;\n   ArrayList&lt;Dabl&gt; arrayOfWebData = new ArrayList&lt;Dabl&gt;();\n    //this is our result object\n\n    class Dabl {\n        int id ;\n        String libdab;\n        String etat;\n        String des ;\n        String zone ;\n\n    }\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.listezonelayout);\n        list = (ListView) findViewById(R.id.lstdab);\n        new TheTask().execute();\n    }\n    adapter aa ;\n\n    class adapter extends ArrayAdapter&lt;listez.Dabl&gt; {\n        adapter() {\n            super(listez.this, android.R.layout.simple_list_item_1, arrayOfWebData);\n        }\n\n        public View getView(int position, View convertView,\n                            ViewGroup parent) {\n            ViewHolder holder;\n\n            if (convertView==null) {\n                LayoutInflater inflater=getLayoutInflater();\n                convertView=inflater.inflate(R.layout.listdabzitem, null);\n\n                holder=new listez.ViewHolder(convertView);\n\n                convertView.setTag(holder);\n            }\n            else\n            {\n                holder=(ViewHolder)convertView.getTag();\n            }\n            holder.populateFrom(arrayOfWebData.get(position));\n\n            return(convertView);\n        }\n    }\n\n    class ViewHolder {\n        public TextView idd=null;\n        public TextView lib=null;\n        public TextView et=null;\n        public TextView des=null;\n        public TextView zone=null;\n\n        ViewHolder(View row) {\n            idd=(TextView)row.findViewById(R.id.id);\n            lib=(TextView)row.findViewById(R.id.libdab);\n            et=(TextView)row.findViewById(R.id.tet);\n            des=(TextView)row.findViewById(R.id.libe);\n            zone=(TextView)row.findViewById(R.id.zone);\n        }\n        //notice we had to change our populate from to take an argument of type person\n        void populateFrom(Dabl r) {\n            idd.setText(r.id);\n            lib.setText(r.libdab);\n            et.setText(r.etat);\n            des.setText(r.des);\n            zone.setText(r.zone);\n        }\n    }\n\n    class TheTask extends AsyncTask&lt;Void, Void, String&gt; {\n\n        @Override\n        protected String doInBackground(Void... params) {\n            String str = null;\n            try {\n                HttpClient httpclient = new DefaultHttpClient();\n                HttpGet httppost = new HttpGet(\n                        &quot;http://10.0.2.2:8180/ProjetMonitoring/RestApp/DA/RechercherDABzTunis&quot;);\n                HttpResponse response = httpclient.execute(httppost);\n                str = EntityUtils.toString(response.getEntity());\n                Log.e(&quot;test&quot;, &quot;----&quot; + str);\n            } catch (IOException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n\n            return str;\n\n        }\n\n\n        @Override\n        protected void onPostExecute(String result) {\n\n            super.onPostExecute(result);\n\n            String response = result.toString();\n            try {\n\n\n                JSONArray jArray = new JSONArray(response);\n\n                for (int i = 0, count = jArray.length(); i &lt; count; i++) {\n                    //get our object, this is one person's worth of data\n                    JSONObject json_data = jArray.getJSONObject(i);\n                    Log.i(&quot;try jaaray ob &quot;,json_data.toString());\n\n                    //create a new person\n                    Dabl resultRow = new Dabl();\n                    //set that person's attributes\n                    resultRow.id = json_data.getInt(&quot;id_DAB&quot;);\n                    resultRow.libdab = json_data.getString(&quot;Libelle_DAB&quot;);\n                    resultRow.etat = json_data.getString(&quot;etat&quot;);\n                    resultRow.des= json_data.getString(&quot;description&quot;);\n                    resultRow.zone= json_data.getString(&quot;zone&quot;);\n\n                    //this is our arrayList object, we add our Person object to it\n                    arrayOfWebData.add(resultRow);\n                }\n                ListView myListView = (ListView)findViewById(R.id.lstdab);\n\n                aa=new adapter();\n\n                myListView.setAdapter(aa);\nString s=myListView.getItemAtPosition(1).toString();\n                Log.i(&quot;ITEM&quot;,s);\n            } catch (JSONException e) {\n                // TODO Auto-genrror2&quot;);\n                Log.e(&quot;ERROR&quot;, &quot;ERROR IN CODE: &quot; + e.toString());\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n<p>Don't give attention to my comments or to the unused variables.</p>\n<p>After executing the code, this is what I get on my logcat, even the log.e that I'm displaying to test doesn't appear:</p>\n<pre><code> 04-24 20:51:29.355 20374-20636/com.example.projetmonitoringapplication E/test: ----[&quot;{\\&quot;zone\\&quot;:\\&quot;Tunis\\&quot;,\\&quot;description\\&quot;:\\&quot;le DAB fonctionne correctement.\\&quot;,\\&quot;id_DAB\\&quot;:22,\\&quot;etat\\&quot;:\\&quot;En marche\\&quot;,\\&quot;Libelle_DAB\\&quot;:\\&quot;\\&quot;}&quot;,&quot;{\\&quot;zone\\&quot;:\\&quot;Tunis\\&quot;,\\&quot;description\\&quot;:\\&quot;le DAB fonctionne correctement.\\&quot;,\\&quot;id_DAB\\&quot;:26,\\&quot;etat\\&quot;:\\&quot;En marche\\&quot;,\\&quot;Libelle_DAB\\&quot;:\\&quot;ooo\\&quot;}&quot;,&quot;{\\&quot;zone\\&quot;:\\&quot;Tunis\\&quot;,\\&quot;description\\&quot;:\\&quot;le DAB fonctionne correctement.\\&quot;,\\&quot;id_DAB\\&quot;:27,\\&quot;etat\\&quot;:\\&quot;En marche\\&quot;,\\&quot;Libelle_DAB\\&quot;:\\&quot;\\&quot;}&quot;,&quot;{\\&quot;zone\\&quot;:\\&quot;Tunis\\&quot;,\\&quot;description\\&quot;:\\&quot;le DAB fonctionne correctement.\\&quot;,\\&quot;id_DAB\\&quot;:6660,\\&quot;etat\\&quot;:\\&quot;En marche\\&quot;,\\&quot;Libelle_DAB\\&quot;:\\&quot;yyy\\&quot;}&quot;]\n04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication E/ERROR: ERROR IN CODE: org.json.JSONException: Value {&quot;zone&quot;:&quot;Tunis&quot;,&quot;description&quot;:&quot;le DAB fonctionne correctement.&quot;,&quot;id_DAB&quot;:22,&quot;etat&quot;:&quot;En marche&quot;,&quot;Libelle_DAB&quot;:&quot;&quot;} at 0 of type java.lang.String cannot be converted to JSONObject\n04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err: org.json.JSONException: Value {&quot;zone&quot;:&quot;Tunis&quot;,&quot;description&quot;:&quot;le DAB fonctionne correctement.&quot;,&quot;id_DAB&quot;:22,&quot;etat&quot;:&quot;En marche&quot;,&quot;Libelle_DAB&quot;:&quot;&quot;} at 0 of type java.lang.String cannot be converted to JSONObject\n04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at org.json.JSON.typeMismatch(JSON.java:100)\n04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at org.json.JSONArray.getJSONObject(JSONArray.java:514)\n04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at com.example.projetmonitoringapplication.listez$TheTask.onPostExecute(listez.java:141)\n04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at com.example.projetmonitoringapplication.listez$TheTask.onPostExecute(listez.java:106)\n04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at android.os.AsyncTask.finish(AsyncTask.java:632)\n04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at android.os.AsyncTask.access$600(AsyncTask.java:177)\n04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:645)\n04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at android.os.Handler.dispatchMessage(Handler.java:102)\n04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at android.os.Looper.loop(Looper.java:136)\n04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at android.app.ActivityThread.main(ActivityThread.java:5021)\n04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at java.lang.reflect.Method.invokeNative(Native Method)\n04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at java.lang.reflect.Method.invoke(Method.java:515)\n04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:827)\n04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:643)\n04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n<p>this is my WebMethode:</p>\n<pre><code> // DAB zone Tunis\n        @GET\n        @Path(&quot;/RechercherDABzTunis&quot;)\n        @Produces(MediaType.APPLICATION_JSON)\n     //   @Consumes(MediaType.APPLICATION_JSON)\n        public String DABtunis()   \n               throws SQLException, JSONException {\n            JSONObject obj = new JSONObject();\n            JSONArray array=new JSONArray();\n    \n\n        dbCoN = new DBConnection();\n        query = &quot;SELECT dab.id_DAB, dab.libelle_DAB , etat.titre_etat , etat.libelle,zone.nom_zone FROM dab, agence,zone,etat where dab.id_agence=agence.id_agence and agence.id_zone=zone.id_zone and zone.nom_zone='Tunis' GROUP by dab.id_DAB;&quot;;\n   \n            try {\n                conn = (Connection) DBConnection.createConnection();\n                rslt = dbCoN.getResutlSet(query, conn);\n                System.out.println(&quot;try here ! ! !  &quot;);\n\n                if (rslt.next()) {   \n                while (rslt.next()){\n                    obj = DAB.DABzoneToJson(rslt.getInt(&quot;id_DAB&quot;),rslt.getString(&quot;libelle_DAB&quot;),rslt.getString(&quot;titre_etat&quot;),rslt.getString(&quot;libelle&quot;),rslt.getString(&quot;nom_zone&quot;) );\n                    array.put(obj.toString());\n\n\n                    System.out.println(rslt.getString(1).toString());\n                     }\n                }\n                else {\n                    obj=DAB.DABToJsonFaux();\n                    array.put(obj.toString());\n\n                    System.out.println(&quot;&quot;);\n\n                     }\n \n                } catch (SQLException e){\n                    System.out.println(&quot;exception here sql! ! &quot;+e);\n                } catch (Exception ex){\n                    System.out.println(&quot;exception here ! ! &quot;+ex);\n                } finally { \n                    if (conn != null) {\n                        conn.close();\n                                    }\n                }\n            //JSONObject jobj=new JSONObject();\n        //  jobj.put(&quot;array&quot;, array.toString());\n        \n            return array.toString();\n\n        }\n        \n</code></pre>\n<p>i think the problem is on these two exception but i don't see any fault.\nthis is the result of my webMethode o postman:</p>\n<pre><code>[\n  &quot;{\\&quot;zone\\&quot;:\\&quot;Tunis\\&quot;,\\&quot;description\\&quot;:\\&quot;le DAB fonctionne correctement.\\&quot;,\\&quot;id_DAB\\&quot;:22,\\&quot;etat\\&quot;:\\&quot;En marche\\&quot;,\\&quot;Libelle_DAB\\&quot;:\\&quot;\\&quot;}&quot;,\n  &quot;{\\&quot;zone\\&quot;:\\&quot;Tunis\\&quot;,\\&quot;description\\&quot;:\\&quot;le DAB fonctionne correctement.\\&quot;,\\&quot;id_DAB\\&quot;:26,\\&quot;etat\\&quot;:\\&quot;En marche\\&quot;,\\&quot;Libelle_DAB\\&quot;:\\&quot;ooo\\&quot;}&quot;,\n  &quot;{\\&quot;zone\\&quot;:\\&quot;Tunis\\&quot;,\\&quot;description\\&quot;:\\&quot;le DAB fonctionne correctement.\\&quot;,\\&quot;id_DAB\\&quot;:27,\\&quot;etat\\&quot;:\\&quot;En marche\\&quot;,\\&quot;Libelle_DAB\\&quot;:\\&quot;\\&quot;}&quot;,\n  &quot;{\\&quot;zone\\&quot;:\\&quot;Tunis\\&quot;,\\&quot;description\\&quot;:\\&quot;le DAB fonctionne correctement.\\&quot;,\\&quot;id_DAB\\&quot;:6660,\\&quot;etat\\&quot;:\\&quot;En marche\\&quot;,\\&quot;Libelle_DAB\\&quot;:\\&quot;yyy\\&quot;}&quot;\n]\ni'm using Android Studio , and wildfly 8 as a server, my web Service is a  r\n</code></pre>\n<p>estful i have a login activity in the same application that works perfectly, i think the probleme is on the parsing , but i don't see the error , can some one explian please ? thank you!</p>\n<p>UPDATED: i added asyncTask as you said , no im receiving the result from the webService in the log but i still can't display it on the ListView , i updated my Activity code , the Log also !</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":3,"creation_date":1667558444,"post_id":74315665,"comment_id":131199772,"body_markdown":"Evidently you&#39;re running the JVM under x86 emulation.","body":"Evidently you&#39;re running the JVM under x86 emulation."},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1667559241,"post_id":74315665,"comment_id":131200096,"body_markdown":"may be duplicate of https://stackoverflow.com/questions/1856565/how-do-you-determine-32-or-64-bit-architecture-of-windows-using-java#:~:text=Please%20note%2C%20the%20os.arch%20property%20will%20only%20give,you%20will%20need%20to%20write%20some%20native%20code.","body":"may be duplicate of <a href=\"https://stackoverflow.com/questions/1856565/how-do-you-determine-32-or-64-bit-architecture-of-windows-using-java#:~:text=Please%20note%2C%20the%20os.arch%20property%20will%20only%20give,you%20will%20need%20to%20write%20some%20native%20code\" title=\"how do you determine 32 or 64 bit architecture of windows using java%23%3a%7e%3atext%3dPlease%2520note%252C%2520the%2520os.arch%2520property%2520will%2520only%2520give%2cyou%2520will%2520need%2520to%2520write%2520some%2520native%2520code\">stackoverflow.com/questions/1856565/&hellip;</a>."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1667559851,"post_id":74315665,"comment_id":131200331,"body_markdown":"Possible duplicate of [Get OS-level system information](https://stackoverflow.com/questions/25552/get-os-level-system-information)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/25552/get-os-level-system-information\">Get OS-level system information</a>"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1667559867,"post_id":74315665,"comment_id":131200339,"body_markdown":"Possible duplicate of [Detect CPU model information](https://stackoverflow.com/questions/55050864/detect-cpu-model-information)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/55050864/detect-cpu-model-information\">Detect CPU model information</a>"},{"owner":{"account_id":9816330,"reputation":757,"user_id":7272723,"display_name":"Mayuri S Kulkarni"},"score":0,"creation_date":1667561929,"post_id":74315665,"comment_id":131201023,"body_markdown":"Does this answer your question? [How do you determine 32 or 64 bit architecture of Windows using Java?](https://stackoverflow.com/questions/1856565/how-do-you-determine-32-or-64-bit-architecture-of-windows-using-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1856565/how-do-you-determine-32-or-64-bit-architecture-of-windows-using-java\">How do you determine 32 or 64 bit architecture of Windows using Java?</a>"},{"owner":{"account_id":24519512,"reputation":53,"user_id":18432775,"display_name":"Andrei27"},"score":1,"creation_date":1667582791,"post_id":74315665,"comment_id":131208806,"body_markdown":"It is not a duplicate. What you gave me I already searched and that gives you the architecture of the JRE you have. Because it is possible to have a jdk for intel processor on a m1 processor. I needed the type of processor, not how much cores, memory etc. it has. The answer is below :) Thanks for all the help and interest anyway.","body":"It is not a duplicate. What you gave me I already searched and that gives you the architecture of the JRE you have. Because it is possible to have a jdk for intel processor on a m1 processor. I needed the type of processor, not how much cores, memory etc. it has. The answer is below :) Thanks for all the help and interest anyway."}],"answers":[{"comments":[{"owner":{"account_id":24519512,"reputation":53,"user_id":18432775,"display_name":"Andrei27"},"score":1,"creation_date":1667582853,"post_id":74316347,"comment_id":131208832,"body_markdown":"Thanks a lot! This is exactly what I needed. &quot;Apple M1&quot; or &quot;Intel&quot; information. Did not know you can run process builders from Java :D","body":"Thanks a lot! This is exactly what I needed. &quot;Apple M1&quot; or &quot;Intel&quot; information. Did not know you can run process builders from Java :D"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1667584056,"post_id":74316347,"comment_id":131209149,"body_markdown":"@Andrei27 I just recently looked this up and there&#39;s tons of other cool info you can get. If I find the reference sheet I found on the web, I will post it here for future reference.","body":"@Andrei27 I just recently looked this up and there&#39;s tons of other cool info you can get. If I find the reference sheet I found on the web, I will post it here for future reference."},{"owner":{"account_id":24519512,"reputation":53,"user_id":18432775,"display_name":"Andrei27"},"score":0,"creation_date":1667764759,"post_id":74316347,"comment_id":131239702,"body_markdown":"@hfontanez that would be awesome","body":"@hfontanez that would be awesome"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1667769470,"post_id":74316347,"comment_id":131240668,"body_markdown":"https://www.logicbig.com/how-to/code-snippets/jcode-java-system-getenv.html","body":"<a href=\"https://www.logicbig.com/how-to/code-snippets/jcode-java-system-getenv.html\" rel=\"nofollow noreferrer\">logicbig.com/how-to/code-snippets/jcode-java-system-getenv.h&zwnj;&#8203;tml</a>"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1667770590,"post_id":74316347,"comment_id":131240865,"body_markdown":"@Andrei27 there was one better, but this is good enough","body":"@Andrei27 there was one better, but this is good enough"},{"owner":{"account_id":178970,"reputation":5078,"user_id":411282,"accept_rate":67,"display_name":"Joshua Goldberg"},"score":0,"creation_date":1685978124,"post_id":74316347,"comment_id":134732896,"body_markdown":"Besides `sysctl`, [other possibilities](https://stackoverflow.com/a/65259353/411282) that could be useful (some more general, e.g., if you want to treat M1,M2,M## the same in the future) are `uname` and `arch`.","body":"Besides <code>sysctl</code>, <a href=\"https://stackoverflow.com/a/65259353/411282\">other possibilities</a> that could be useful (some more general, e.g., if you want to treat M1,M2,M## the same in the future) are <code>uname</code> and <code>arch</code>."}],"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667561426,"creation_date":1667561426,"answer_id":74316347,"question_id":74315665,"body_markdown":"You have to get this information from the operating system. On Windows, there is an environment variable &amp;ndash; `PROCESSOR_IDENTIFIER` &amp;ndash; which you can obtain via method [getenv][1], as in:\r\n```java\r\nSystem.getenv(&quot;PROCESSOR_IDENTIFIER&quot;);\r\n```\r\nOn my Windows 10 machine, I get:\r\n```none\r\nIntel64 Family 6 Model 158 Stepping 11, GenuineIntel\r\n```\r\nI don&#39;t have Mac but according to [this][2] you can call the command via class [ProcessBuilder][3].\r\n```java\r\nProcessBuilder pb = new ProcessBuilder(&quot;sysctl&quot;, &quot;-n&quot;, &quot;machdep.cpu.brand_string&quot;);\r\ntry {\r\n    Process p = pb.start();\r\n    BufferedReader br = p.inputReader();\r\n    String output = br.readLine();\r\n    int status = p.waitFor();\r\n    if (status == 0) {\r\n        // Command succeeded.\r\n    }\r\n}\r\ncatch (InterruptedException | IOException x) {\r\n    x.printStackTrace();\r\n}\r\n```\r\nSo you would probably want code similar to the following:\r\n```java\r\nString details;\r\nif (&quot;Windows 10&quot;.equals(System.getProperty(&quot;os.name&quot;))) {\r\n    details = System.getenv(&quot;PROCESSOR_IDENTIFIER&quot;);\r\n}\r\nelse if (&quot;Mac OS X&quot;.equals(System.getProperty(&quot;os.name&quot;))) {\r\n    ProcessBuilder pb = new ProcessBuilder(&quot;sysctl&quot;, &quot;-n&quot;, &quot;machdep.cpu.brand_string&quot;);\r\n    try {\r\n        Process p = pb.start();\r\n        BufferedReader br = p.inputReader();\r\n        details = br.readLine();\r\n        int status = p.waitFor();\r\n        if (status == 0) {\r\n            // Command succeeded.\r\n        }\r\n    }\r\n    catch (InterruptedException | IOException x) {\r\n        x.printStackTrace();\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#getenv(java.lang.String)\r\n  [2]: https://github.molgen.mpg.de/pages/bs/macOSnotes/mac/mac_procs_cpu.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ProcessBuilder.html","title":"How do I detect apple silicon (M1) vs. intel in java?","body":"<p>You have to get this information from the operating system. On Windows, there is an environment variable – <code>PROCESSOR_IDENTIFIER</code> – which you can obtain via method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#getenv(java.lang.String)\" rel=\"nofollow noreferrer\">getenv</a>, as in:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.getenv(&quot;PROCESSOR_IDENTIFIER&quot;);\n</code></pre>\n<p>On my Windows 10 machine, I get:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Intel64 Family 6 Model 158 Stepping 11, GenuineIntel\n</code></pre>\n<p>I don't have Mac but according to <a href=\"https://github.molgen.mpg.de/pages/bs/macOSnotes/mac/mac_procs_cpu.html\" rel=\"nofollow noreferrer\">this</a> you can call the command via class <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ProcessBuilder.html\" rel=\"nofollow noreferrer\">ProcessBuilder</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ProcessBuilder pb = new ProcessBuilder(&quot;sysctl&quot;, &quot;-n&quot;, &quot;machdep.cpu.brand_string&quot;);\ntry {\n    Process p = pb.start();\n    BufferedReader br = p.inputReader();\n    String output = br.readLine();\n    int status = p.waitFor();\n    if (status == 0) {\n        // Command succeeded.\n    }\n}\ncatch (InterruptedException | IOException x) {\n    x.printStackTrace();\n}\n</code></pre>\n<p>So you would probably want code similar to the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String details;\nif (&quot;Windows 10&quot;.equals(System.getProperty(&quot;os.name&quot;))) {\n    details = System.getenv(&quot;PROCESSOR_IDENTIFIER&quot;);\n}\nelse if (&quot;Mac OS X&quot;.equals(System.getProperty(&quot;os.name&quot;))) {\n    ProcessBuilder pb = new ProcessBuilder(&quot;sysctl&quot;, &quot;-n&quot;, &quot;machdep.cpu.brand_string&quot;);\n    try {\n        Process p = pb.start();\n        BufferedReader br = p.inputReader();\n        details = br.readLine();\n        int status = p.waitFor();\n        if (status == 0) {\n            // Command succeeded.\n        }\n    }\n    catch (InterruptedException | IOException x) {\n        x.printStackTrace();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24519512,"reputation":53,"user_id":18432775,"display_name":"Andrei27"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1451,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":74316347,"answer_count":1,"score":4,"last_activity_date":1667583385,"creation_date":1667558271,"question_id":74315665,"body_markdown":"(For everyone who does not understand the question, please note, the os.arch property will only give you the architecture of the JRE, not of the underlying OS, which does not answer my question)\r\n\r\nIf you install a 32 bit jre on a 64 bit system, System.getProperty(&quot;os.arch&quot;) will return x86\r\n\r\nIn order to actually determine the underlying architecture, you will need to write some native code.\r\n\r\nI want my app to do something if the processor is intel and something else if my processor is apple silicon.\r\n\r\nI tried with \r\n\r\n```\r\nSystem.getProperties().list(System.out);\r\nSystem.out.println(System.getProperty(&quot;os.arch&quot;));\r\n```\r\nbut on intel ```os.arch``` is the same value as in apple silicon = x86_64","title":"How do I detect apple silicon (M1) vs. intel in java?","body":"<p>(For everyone who does not understand the question, please note, the os.arch property will only give you the architecture of the JRE, not of the underlying OS, which does not answer my question)</p>\n<p>If you install a 32 bit jre on a 64 bit system, System.getProperty(&quot;os.arch&quot;) will return x86</p>\n<p>In order to actually determine the underlying architecture, you will need to write some native code.</p>\n<p>I want my app to do something if the processor is intel and something else if my processor is apple silicon.</p>\n<p>I tried with</p>\n<pre><code>System.getProperties().list(System.out);\nSystem.out.println(System.getProperty(&quot;os.arch&quot;));\n</code></pre>\n<p>but on intel <code>os.arch</code> is the same value as in apple silicon = x86_64</p>\n"},{"tags":["java","parquet","resultset","classcastexception","parquet-mr"],"owner":{"account_id":6749906,"reputation":63,"user_id":5200232,"display_name":"javaseeker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667583089,"creation_date":1667549625,"question_id":74313942,"body_markdown":"\r\nI am writing ResultSet to parquet file using AvroParquetWriter. One column in the ResultSet is java.sql.Timestamp. When writing, I get the exception :\r\n\r\n&gt; java.sql.Timestamp cannot be cast to java.lang.Number\r\n\r\nAdding addLogicalTypeConversion does not work. The code is as below. Please provide any suggestions on how to make the LogicalTypeConversion work on the code:\r\n\r\n    GenericData timeSupport = GenericData.get();\r\n    timeSupport.addLogicalTypeConversion(new TimeConversions.DateConversion());\r\n    timeSupport.addLogicalTypeConversion(new TimeConversions.LocalTimestampMillisConversion());\r\n    timeSupport.addLogicalTypeConversion(new TimeConversions.LocalTimestampMicrosConversion());\r\n    timeSupport.addLogicalTypeConversion(new TimeConversions.TimeMicrosConversion());\r\n    timeSupport.addLogicalTypeConversion(new TimeConversions.TimeMillisConversion());\r\n    timeSupport.addLogicalTypeConversion(new TimeConversions.TimestampMicrosConversion());\r\n    timeSupport.addLogicalTypeConversion(new TimeConversions.TimestampMillisConversion());\r\n\r\n     OutputFile opHadoop = HadoopOutputFile.fromPath(outputPath, new Configuration());\r\n     SchemaResults schemaResults = new ResultSetSchemaGenerator().generateSchema(resultSet, schemaName, namespace);\r\n\r\n     ParquetWriter&lt;GenericRecord&gt; parquetWriter = AvroParquetWriter.&lt;GenericRecord&gt; builder(opHadoop)\r\n                    .withSchema(schemaResults.getParsedSchema())\r\n                    .withDataModel(timeSupport)\r\n                    .withCompressionCodec(CompressionCodecName.SNAPPY)\r\n                    .build();\r\n    List&lt;GenericRecord&gt; records = new ArrayList&lt;&gt;();\r\n    while (resultSet.next()) {\r\n    \tGenericRecordBuilder builder = new GenericRecordBuilder(schemaResults.getParsedSchema())\r\n    \t\r\n    \tfor (SchemaSqlMapping mapping : schemaResults.getMappings()) {\r\n    \t\t builder.set(\r\n    \t\t\t\t\tschemaResults.getParsedSchema().getField(mapping.getSchemaName()),\r\n    \t\t\t\t\textractResult(mapping, resultSet));\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tGenericRecord record = builder.build();\r\n    \trecords.add(record);\r\n    }\r\n    \r\n    for (GenericRecord record : records) {\r\n    \tparquetWriter.write(record);\r\n    }\r\n    \r\n    parquetWriter.close();\r\n\r\n    /**\r\n    \t * Extracts the appropriate value from the ResultSet using the given\r\n    \t * SchemaSqlMapping.\r\n    \t *\r\n    \t * @param mapping\r\n    \t * @param resultSet\r\n    \t * @return\r\n    \t * @throws SQLException\r\n    \t */\r\n    \tpublic Object extractResult(SchemaSqlMapping mapping, ResultSet resultSet) throws SQLException {\r\n    \t\tswitch (mapping.getSqlType()) {\r\n            case Types.BOOLEAN:\r\n                return resultSet.getBoolean(mapping.getColumnIndex());\r\n            case Types.TINYINT:\r\n            case Types.SMALLINT:\r\n            case Types.INTEGER:\r\n            case Types.BIGINT:\r\n            case Types.ROWID:\r\n                return resultSet.getInt(mapping.getColumnIndex());\r\n            case Types.CHAR:\r\n            case Types.VARCHAR:\r\n            case Types.LONGVARCHAR:\r\n            case Types.NCHAR:\r\n            case Types.NVARCHAR:\r\n            case Types.LONGNVARCHAR:\r\n            case Types.SQLXML:\r\n                return resultSet.getString(mapping.getColumnIndex());\r\n            case Types.REAL:\r\n            case Types.FLOAT:\r\n                return resultSet.getFloat(mapping.getColumnIndex());\r\n            case Types.DOUBLE:\r\n                return resultSet.getDouble(mapping.getColumnIndex());\r\n            case Types.NUMERIC:\r\n                return resultSet.getBigDecimal(mapping.getColumnIndex());\r\n            case Types.DECIMAL:\r\n                return resultSet.getBigDecimal(mapping.getColumnIndex());\r\n            case Types.DATE:\r\n                return resultSet.getDate(mapping.getColumnIndex());\r\n            case Types.TIME:\r\n            case Types.TIME_WITH_TIMEZONE:\r\n                return resultSet.getTime(mapping.getColumnIndex());\r\n            case Types.TIMESTAMP:\r\n            case Types.TIMESTAMP_WITH_TIMEZONE:\r\n                return resultSet.getTimestamp(mapping.getColumnIndex());\r\n            case Types.BINARY:\r\n            case Types.VARBINARY:\r\n            case Types.LONGVARBINARY:\r\n            case Types.NULL:\r\n            case Types.OTHER:\r\n            case Types.JAVA_OBJECT:\r\n            case Types.DISTINCT:\r\n            case Types.STRUCT:\r\n            case Types.ARRAY:\r\n            case Types.BLOB:\r\n            case Types.CLOB:\r\n            case Types.REF:\r\n            case Types.DATALINK:\r\n            case Types.NCLOB:\r\n            case Types.REF_CURSOR:\r\n                return resultSet.getByte(mapping.getColumnIndex());\r\n            default:\r\n                return resultSet.getString(mapping.getColumnIndex());\r\n        }\r\n\r\nResultSetSchemaGenerator class:\r\n\r\n    public class ResultSetSchemaGenerator {\r\n        \t/**\r\n        \t * Generates parquet schema using {@link ResultSetMetaData }\r\n        \t *\r\n        \t * @param resultSet\r\n        \t * @param name\r\n        \t *            Record name.\r\n        \t * @param nameSpace\r\n        \t * @return\r\n        \t * @throws SQLException\r\n        \t */\r\n        \tpublic SchemaResults generateSchema(ResultSet resultSet, String name, String nameSpace) throws SQLException {\r\n        \r\n        \t\tSchemaResults schemaResults = new SchemaResults();\r\n        \t\tList&lt;SchemaSqlMapping&gt; mappings = new ArrayList&lt;&gt;();\r\n        \r\n        \t\tSchema recordSchema = Schema.createRecord(name, null, nameSpace, false);\r\n        \r\n        \t\tList&lt;Schema.Field&gt; fields = new ArrayList&lt;&gt;();\r\n        \r\n        \t\tif (resultSet != null) {\r\n        \r\n        \t\t\tResultSetMetaData resultSetMetaData = resultSet.getMetaData();\r\n        \t\t\tint columnCount = resultSetMetaData.getColumnCount();\r\n        \r\n        \t\t\tfor (int x = 1; x &lt;= columnCount; x++) {\r\n        \r\n        \t\t\t\tString columnName = resultSetMetaData.getColumnName(x).replaceAll(&quot;[^a-zA-Z0-9_]&quot;, &quot;&quot;);\r\n        \t\t\t\tint sqlColumnType = resultSetMetaData.getColumnType(x);\r\n        \t\t\t\tString schemaName = columnName.toLowerCase();\r\n        \t\t\t\tSchema.Type schemaType = parseSchemaType(sqlColumnType);\r\n        \t\t\t\tmappings.add(new SchemaSqlMapping(schemaName, columnName, sqlColumnType, x, schemaType));\r\n        \t\t\t\tfields.add(createNullableField(schemaName, schemaType));\r\n        \t\t\t\t\r\n        \t\t\t}\r\n        \r\n        \t\t}\r\n        \r\n        \t\trecordSchema.setFields(fields);\r\n        \r\n        \t\tschemaResults.setMappings(mappings);\r\n        \t\tschemaResults.setParsedSchema(recordSchema);\r\n        \r\n        \t\treturn schemaResults;\r\n        \t}\r\n        \r\n        \r\n        \r\n        \tpublic Schema.Type parseSchemaType(int sqlColumnType) {\r\n        \t\t switch (sqlColumnType) {\r\n        \r\n                 case Types.BOOLEAN:\r\n                     return Schema.Type.BOOLEAN;\r\n        \r\n                 case Types.TINYINT:             // 1 byte\r\n                 case Types.SMALLINT:            // 2 bytes\r\n                 case Types.INTEGER:             // 4 bytes\r\n                     return Schema.Type.INT;     // 32 bit (4 bytes) (signed)\r\n        \r\n                 case Types.ROWID:\r\n                 case Types.CHAR:\r\n                 case Types.VARCHAR:\r\n                 case Types.LONGVARCHAR:\r\n                 case Types.NCHAR:\r\n                 case Types.NVARCHAR:\r\n                 case Types.LONGNVARCHAR:\r\n                 case Types.SQLXML:\r\n                     return Schema.Type.STRING;  // unicode string\r\n        \r\n                 case Types.REAL:                // Approximate numerical (mantissa single precision 7)\r\n                     return Schema.Type.FLOAT;   // A 32-bit IEEE single-float\r\n        \r\n                 case Types.DOUBLE:              // Approximate numerical (mantissa precision 16)\r\n                 case Types.DECIMAL:             // Exact numerical (5 - 17 bytes)\r\n                 case Types.NUMERIC:             // Exact numerical (5 - 17 bytes)\r\n                 case Types.FLOAT:               // Approximate numerical (mantissa precision 16)\r\n                     return Schema.Type.DOUBLE;  // A 64-bit IEEE double-float\r\n        \r\n                 case Types.DATE:\r\n                 case Types.TIME:\r\n                 case Types.TIMESTAMP:\r\n                 case Types.TIME_WITH_TIMEZONE:\r\n                 case Types.TIMESTAMP_WITH_TIMEZONE:\r\n                 case Types.BIGINT:              // 8 bytes\r\n                     return Schema.Type.LONG;    // 64 bit (signed)\r\n        \r\n                 case Types.BINARY:\r\n                 case Types.VARBINARY:\r\n                 case Types.LONGVARBINARY:\r\n                 case Types.NULL:\r\n                 case Types.OTHER:\r\n                 case Types.JAVA_OBJECT:\r\n                 case Types.DISTINCT:\r\n                 case Types.STRUCT:\r\n                 case Types.ARRAY:\r\n                 case Types.BLOB:\r\n                 case Types.CLOB:\r\n                 case Types.REF:\r\n                 case Types.DATALINK:\r\n                 case Types.NCLOB:\r\n                 case Types.REF_CURSOR:\r\n                     return Schema.Type.BYTES;   // sequence of bytes\r\n             }\r\n        \r\n        \t\treturn null;\r\n        \t}\r\n        \r\n        \t/**\r\n        \t * Creates field that can be null {@link Schema#createUnion(List)}\r\n        \t *\r\n        \t * @param recordSchema\r\n        \t *            The root record schema\r\n        \t * @param columnName\r\n        \t *            The schema column name\r\n        \t * @param type\r\n        \t *            Schema type for this field\r\n        \t * @return\r\n        \t */\r\n        \tpublic Schema.Field createNullableField(String columnName, Schema.Type type) {\r\n        \r\n        \t\tSchema intSchema = Schema.create(type);\r\n        \t\tSchema nullSchema = Schema.create(Schema.Type.NULL);\r\n        \r\n        \t\tList&lt;Schema&gt; fieldSchemas = new ArrayList&lt;&gt;();\r\n        \t\tfieldSchemas.add(intSchema);\r\n        \t\tfieldSchemas.add(nullSchema);\r\n        \r\n        \t\tSchema fieldSchema = Schema.createUnion(fieldSchemas);\r\n        \r\n        \t\treturn new Schema.Field(columnName, fieldSchema, null, null);\r\n        \t}\r\n\r\n  ","title":"AvroParquetWriter - addLogicalTypeConversion not working as expected (using version parquet-avro 1.12.3) - causing ClassCastException","body":"<p>I am writing ResultSet to parquet file using AvroParquetWriter. One column in the ResultSet is java.sql.Timestamp. When writing, I get the exception :</p>\n<blockquote>\n<p>java.sql.Timestamp cannot be cast to java.lang.Number</p>\n</blockquote>\n<p>Adding addLogicalTypeConversion does not work. The code is as below. Please provide any suggestions on how to make the LogicalTypeConversion work on the code:</p>\n<pre><code>GenericData timeSupport = GenericData.get();\ntimeSupport.addLogicalTypeConversion(new TimeConversions.DateConversion());\ntimeSupport.addLogicalTypeConversion(new TimeConversions.LocalTimestampMillisConversion());\ntimeSupport.addLogicalTypeConversion(new TimeConversions.LocalTimestampMicrosConversion());\ntimeSupport.addLogicalTypeConversion(new TimeConversions.TimeMicrosConversion());\ntimeSupport.addLogicalTypeConversion(new TimeConversions.TimeMillisConversion());\ntimeSupport.addLogicalTypeConversion(new TimeConversions.TimestampMicrosConversion());\ntimeSupport.addLogicalTypeConversion(new TimeConversions.TimestampMillisConversion());\n\n OutputFile opHadoop = HadoopOutputFile.fromPath(outputPath, new Configuration());\n SchemaResults schemaResults = new ResultSetSchemaGenerator().generateSchema(resultSet, schemaName, namespace);\n\n ParquetWriter&lt;GenericRecord&gt; parquetWriter = AvroParquetWriter.&lt;GenericRecord&gt; builder(opHadoop)\n                .withSchema(schemaResults.getParsedSchema())\n                .withDataModel(timeSupport)\n                .withCompressionCodec(CompressionCodecName.SNAPPY)\n                .build();\nList&lt;GenericRecord&gt; records = new ArrayList&lt;&gt;();\nwhile (resultSet.next()) {\n    GenericRecordBuilder builder = new GenericRecordBuilder(schemaResults.getParsedSchema())\n    \n    for (SchemaSqlMapping mapping : schemaResults.getMappings()) {\n         builder.set(\n                    schemaResults.getParsedSchema().getField(mapping.getSchemaName()),\n                    extractResult(mapping, resultSet));\n        \n    }\n    \n    GenericRecord record = builder.build();\n    records.add(record);\n}\n\nfor (GenericRecord record : records) {\n    parquetWriter.write(record);\n}\n\nparquetWriter.close();\n\n/**\n     * Extracts the appropriate value from the ResultSet using the given\n     * SchemaSqlMapping.\n     *\n     * @param mapping\n     * @param resultSet\n     * @return\n     * @throws SQLException\n     */\n    public Object extractResult(SchemaSqlMapping mapping, ResultSet resultSet) throws SQLException {\n        switch (mapping.getSqlType()) {\n        case Types.BOOLEAN:\n            return resultSet.getBoolean(mapping.getColumnIndex());\n        case Types.TINYINT:\n        case Types.SMALLINT:\n        case Types.INTEGER:\n        case Types.BIGINT:\n        case Types.ROWID:\n            return resultSet.getInt(mapping.getColumnIndex());\n        case Types.CHAR:\n        case Types.VARCHAR:\n        case Types.LONGVARCHAR:\n        case Types.NCHAR:\n        case Types.NVARCHAR:\n        case Types.LONGNVARCHAR:\n        case Types.SQLXML:\n            return resultSet.getString(mapping.getColumnIndex());\n        case Types.REAL:\n        case Types.FLOAT:\n            return resultSet.getFloat(mapping.getColumnIndex());\n        case Types.DOUBLE:\n            return resultSet.getDouble(mapping.getColumnIndex());\n        case Types.NUMERIC:\n            return resultSet.getBigDecimal(mapping.getColumnIndex());\n        case Types.DECIMAL:\n            return resultSet.getBigDecimal(mapping.getColumnIndex());\n        case Types.DATE:\n            return resultSet.getDate(mapping.getColumnIndex());\n        case Types.TIME:\n        case Types.TIME_WITH_TIMEZONE:\n            return resultSet.getTime(mapping.getColumnIndex());\n        case Types.TIMESTAMP:\n        case Types.TIMESTAMP_WITH_TIMEZONE:\n            return resultSet.getTimestamp(mapping.getColumnIndex());\n        case Types.BINARY:\n        case Types.VARBINARY:\n        case Types.LONGVARBINARY:\n        case Types.NULL:\n        case Types.OTHER:\n        case Types.JAVA_OBJECT:\n        case Types.DISTINCT:\n        case Types.STRUCT:\n        case Types.ARRAY:\n        case Types.BLOB:\n        case Types.CLOB:\n        case Types.REF:\n        case Types.DATALINK:\n        case Types.NCLOB:\n        case Types.REF_CURSOR:\n            return resultSet.getByte(mapping.getColumnIndex());\n        default:\n            return resultSet.getString(mapping.getColumnIndex());\n    }\n</code></pre>\n<p>ResultSetSchemaGenerator class:</p>\n<pre><code>public class ResultSetSchemaGenerator {\n        /**\n         * Generates parquet schema using {@link ResultSetMetaData }\n         *\n         * @param resultSet\n         * @param name\n         *            Record name.\n         * @param nameSpace\n         * @return\n         * @throws SQLException\n         */\n        public SchemaResults generateSchema(ResultSet resultSet, String name, String nameSpace) throws SQLException {\n    \n            SchemaResults schemaResults = new SchemaResults();\n            List&lt;SchemaSqlMapping&gt; mappings = new ArrayList&lt;&gt;();\n    \n            Schema recordSchema = Schema.createRecord(name, null, nameSpace, false);\n    \n            List&lt;Schema.Field&gt; fields = new ArrayList&lt;&gt;();\n    \n            if (resultSet != null) {\n    \n                ResultSetMetaData resultSetMetaData = resultSet.getMetaData();\n                int columnCount = resultSetMetaData.getColumnCount();\n    \n                for (int x = 1; x &lt;= columnCount; x++) {\n    \n                    String columnName = resultSetMetaData.getColumnName(x).replaceAll(&quot;[^a-zA-Z0-9_]&quot;, &quot;&quot;);\n                    int sqlColumnType = resultSetMetaData.getColumnType(x);\n                    String schemaName = columnName.toLowerCase();\n                    Schema.Type schemaType = parseSchemaType(sqlColumnType);\n                    mappings.add(new SchemaSqlMapping(schemaName, columnName, sqlColumnType, x, schemaType));\n                    fields.add(createNullableField(schemaName, schemaType));\n                    \n                }\n    \n            }\n    \n            recordSchema.setFields(fields);\n    \n            schemaResults.setMappings(mappings);\n            schemaResults.setParsedSchema(recordSchema);\n    \n            return schemaResults;\n        }\n    \n    \n    \n        public Schema.Type parseSchemaType(int sqlColumnType) {\n             switch (sqlColumnType) {\n    \n             case Types.BOOLEAN:\n                 return Schema.Type.BOOLEAN;\n    \n             case Types.TINYINT:             // 1 byte\n             case Types.SMALLINT:            // 2 bytes\n             case Types.INTEGER:             // 4 bytes\n                 return Schema.Type.INT;     // 32 bit (4 bytes) (signed)\n    \n             case Types.ROWID:\n             case Types.CHAR:\n             case Types.VARCHAR:\n             case Types.LONGVARCHAR:\n             case Types.NCHAR:\n             case Types.NVARCHAR:\n             case Types.LONGNVARCHAR:\n             case Types.SQLXML:\n                 return Schema.Type.STRING;  // unicode string\n    \n             case Types.REAL:                // Approximate numerical (mantissa single precision 7)\n                 return Schema.Type.FLOAT;   // A 32-bit IEEE single-float\n    \n             case Types.DOUBLE:              // Approximate numerical (mantissa precision 16)\n             case Types.DECIMAL:             // Exact numerical (5 - 17 bytes)\n             case Types.NUMERIC:             // Exact numerical (5 - 17 bytes)\n             case Types.FLOAT:               // Approximate numerical (mantissa precision 16)\n                 return Schema.Type.DOUBLE;  // A 64-bit IEEE double-float\n    \n             case Types.DATE:\n             case Types.TIME:\n             case Types.TIMESTAMP:\n             case Types.TIME_WITH_TIMEZONE:\n             case Types.TIMESTAMP_WITH_TIMEZONE:\n             case Types.BIGINT:              // 8 bytes\n                 return Schema.Type.LONG;    // 64 bit (signed)\n    \n             case Types.BINARY:\n             case Types.VARBINARY:\n             case Types.LONGVARBINARY:\n             case Types.NULL:\n             case Types.OTHER:\n             case Types.JAVA_OBJECT:\n             case Types.DISTINCT:\n             case Types.STRUCT:\n             case Types.ARRAY:\n             case Types.BLOB:\n             case Types.CLOB:\n             case Types.REF:\n             case Types.DATALINK:\n             case Types.NCLOB:\n             case Types.REF_CURSOR:\n                 return Schema.Type.BYTES;   // sequence of bytes\n         }\n    \n            return null;\n        }\n    \n        /**\n         * Creates field that can be null {@link Schema#createUnion(List)}\n         *\n         * @param recordSchema\n         *            The root record schema\n         * @param columnName\n         *            The schema column name\n         * @param type\n         *            Schema type for this field\n         * @return\n         */\n        public Schema.Field createNullableField(String columnName, Schema.Type type) {\n    \n            Schema intSchema = Schema.create(type);\n            Schema nullSchema = Schema.create(Schema.Type.NULL);\n    \n            List&lt;Schema&gt; fieldSchemas = new ArrayList&lt;&gt;();\n            fieldSchemas.add(intSchema);\n            fieldSchemas.add(nullSchema);\n    \n            Schema fieldSchema = Schema.createUnion(fieldSchemas);\n    \n            return new Schema.Field(columnName, fieldSchema, null, null);\n        }\n</code></pre>\n"},{"tags":["java","jar","graphhopper"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1667552926,"post_id":74313142,"comment_id":131197859,"body_markdown":"The option `-jar` takes *one* file as its target,so *.jar is invalid","body":"The option <code>-jar</code> takes <i>one</i> file as its target,so *.jar is invalid"},{"owner":{"account_id":19584613,"reputation":1,"user_id":14543336,"display_name":"AlonTAU"},"score":0,"creation_date":1667558329,"post_id":74313142,"comment_id":131199733,"body_markdown":"Thanx g00se. Given the information I provided, what is in your opinion the proper command syntax in order to perform the intended function? It&#39;s quite puzzling since I believe that the original programmer that put together the entire procedure knows JAVA","body":"Thanx g00se. Given the information I provided, what is in your opinion the proper command syntax in order to perform the intended function? It&#39;s quite puzzling since I believe that the original programmer that put together the entire procedure knows JAVA"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667558567,"post_id":74313142,"comment_id":131199824,"body_markdown":"`java -Ddw.graphhopper.datareader.file=berlin-latest.osm.pbf -jar graphhopper-web-6.0.jar server config-example.yml`","body":"<code>java -Ddw.graphhopper.datareader.file=berlin-latest.osm.pbf -jar graphhopper-web-6.0.jar server config-example.yml</code>"}],"answers":[{"comments":[{"owner":{"account_id":66307,"reputation":17195,"user_id":194609,"accept_rate":73,"display_name":"Karussell"},"score":0,"creation_date":1677863401,"post_id":74320841,"comment_id":133427494,"body_markdown":"The command line on github is not intended for a windows command line. E.g. the wget command before the java command won&#39;t work in `powershell` or `cmd` too.","body":"The command line on github is not intended for a windows command line. E.g. the wget command before the java command won&#39;t work in <code>powershell</code> or <code>cmd</code> too."}],"tags":[],"owner":{"account_id":19584613,"reputation":1,"user_id":14543336,"display_name":"AlonTAU"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667582602,"creation_date":1667582602,"answer_id":74320841,"question_id":74313142,"body_markdown":"Well, with the kind and fast help of &#39;g00se&#39;, the answer is:\r\nThe wildcard *.jar cannot be used with &#39;-jar&#39;. a single definite file name is required.\r\n\r\nIn the specific context of my question instead of: &quot;-jar *.jar&quot; the syntax should be: &quot;-jar graphhopper-web-6.0.jar&quot;.\r\n\r\nThe Server is actually started now :)\r\n\r\nHope the GraphHopper people will correct their instructions on github for the sack of java-nonliterate people like myself :):)","title":"&quot;Error: Unable to access jarfile *.jar&quot; - what&#39;s the remedy?","body":"<p>Well, with the kind and fast help of 'g00se', the answer is:\nThe wildcard *.jar cannot be used with '-jar'. a single definite file name is required.</p>\n<p>In the specific context of my question instead of: &quot;-jar *.jar&quot; the syntax should be: &quot;-jar graphhopper-web-6.0.jar&quot;.</p>\n<p>The Server is actually started now :)</p>\n<p>Hope the GraphHopper people will correct their instructions on github for the sack of java-nonliterate people like myself :):)</p>\n"}],"owner":{"account_id":19584613,"reputation":1,"user_id":14543336,"display_name":"AlonTAU"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1668315134,"accepted_answer_id":74320841,"answer_count":1,"score":-2,"last_activity_date":1667582602,"creation_date":1667544439,"question_id":74313142,"body_markdown":"the error was in response to command:\r\nC:\\Users\\User1&gt;java -Ddw.graphhopper.datareader.file=berlin-latest.osm.pbf -jar *.jar server config-example.yml\r\n\r\nthe previous command: \r\nwget https://github.com/graphhopper/graphhopper/releases/download/6.0/graphhopper-web-6.0.jar https://raw.githubusercontent.com/graphhopper/graphhopper/6.x/config-example.yml http://download.geofabrik.de/europe/germany/berlin-latest.osm.pbf\r\n\r\nseemed to be correctly executed.\r\n\r\nI have windows 10 machine with &#39;Eclipse Adoptium jdk-17.0.5.8-hotspot&#39; installed.\r\n\r\nIt seems to me as an environment problem but I&#39;m not a programmer, so it&#39;s a wild guess :)\r\n\r\nActually I&#39;m following the instructions given in github in relation to GraphHopper:\r\nhttps://github.com/graphhopper/graphhopper#get-started\r\n[text](https://github.com/graphhopper/graphhopper#get-started)\r\n\r\nI was hoping to see a log message with &#39;Server - Started&#39; :(\r\n\r\nI&#39;m not sure what exactly jave trying to access. google doesn&#39;t bring anything useful mentioning &#39;*.jar&#39;","title":"&quot;Error: Unable to access jarfile *.jar&quot; - what&#39;s the remedy?","body":"<p>the error was in response to command:\nC:\\Users\\User1&gt;java -Ddw.graphhopper.datareader.file=berlin-latest.osm.pbf -jar *.jar server config-example.yml</p>\n<p>the previous command:\nwget <a href=\"https://github.com/graphhopper/graphhopper/releases/download/6.0/graphhopper-web-6.0.jar\" rel=\"nofollow noreferrer\">https://github.com/graphhopper/graphhopper/releases/download/6.0/graphhopper-web-6.0.jar</a> <a href=\"https://raw.githubusercontent.com/graphhopper/graphhopper/6.x/config-example.yml\" rel=\"nofollow noreferrer\">https://raw.githubusercontent.com/graphhopper/graphhopper/6.x/config-example.yml</a> <a href=\"http://download.geofabrik.de/europe/germany/berlin-latest.osm.pbf\" rel=\"nofollow noreferrer\">http://download.geofabrik.de/europe/germany/berlin-latest.osm.pbf</a></p>\n<p>seemed to be correctly executed.</p>\n<p>I have windows 10 machine with 'Eclipse Adoptium jdk-17.0.5.8-hotspot' installed.</p>\n<p>It seems to me as an environment problem but I'm not a programmer, so it's a wild guess :)</p>\n<p>Actually I'm following the instructions given in github in relation to GraphHopper:\n<a href=\"https://github.com/graphhopper/graphhopper#get-started\" rel=\"nofollow noreferrer\">https://github.com/graphhopper/graphhopper#get-started</a>\n<a href=\"https://github.com/graphhopper/graphhopper#get-started\" rel=\"nofollow noreferrer\">text</a></p>\n<p>I was hoping to see a log message with 'Server - Started' :(</p>\n<p>I'm not sure what exactly jave trying to access. google doesn't bring anything useful mentioning '*.jar'</p>\n"},{"tags":["java","spring","spring-boot","java-8","spring-batch"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1592826172,"post_id":62505305,"comment_id":110554122,"body_markdown":"How did you do that for the reader? Can you share your code? If you managed to do it for the reader, you should be able to do it for the writer as well using the same approach.","body":"How did you do that for the reader? Can you share your code? If you managed to do it for the reader, you should be able to do it for the writer as well using the same approach."}],"answers":[{"comments":[{"owner":{"account_id":9784322,"reputation":143,"user_id":7251133,"display_name":"Florian H."},"score":0,"creation_date":1660634802,"post_id":62514786,"comment_id":129571780,"body_markdown":"Avoid returning `ExitStatus.COMPLETED` in `afterStep` unless you are sure what you do! You will so hide possible errors during writting. Better returns `null`, it will leave the old status unchanged. Details in https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/core/StepExecutionListener.html#afterStep-org.springframework.batch.core.StepExecution-","body":"Avoid returning <code>ExitStatus.COMPLETED</code> in <code>afterStep</code> unless you are sure what you do! You will so hide possible errors during writting. Better returns <code>null</code>, it will leave the old status unchanged. Details in <a href=\"https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/core/StepExecutionListener.html#afterStep-org.springframework.batch.core.StepExecution-\" rel=\"nofollow noreferrer\">docs.spring.io/spring-batch/docs/current/api/org/&hellip;</a>"}],"tags":[],"owner":{"account_id":3215306,"reputation":792,"user_id":2714202,"display_name":"Vignesh T I"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592829986,"creation_date":1592829986,"answer_id":62514786,"question_id":62505305,"body_markdown":"One of the ways to access the Job Parameters is to implement StepExecutionListener to your processor/writer Class to make use of its Overridden methods beforeStep and afterStep,\r\n\r\n    public class TestWriter implements ItemWriter&lt;TestData&gt;,StepExecutionListener {\r\n\r\n\t\tprivate String filePath;\r\n\r\n\t\t@Override\r\n\t\tpublic void beforeStep(StepExecution stepExecution) {\r\n\t\r\n\t\t\ttry {\r\n\t\t\t\tfilePath = (String) stepExecution.getJobExecution().getExecutionContext()\r\n                .get(&quot;filePath&quot;);\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tlogger.error(&quot;Exception while performing read {}&quot;, e);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\t@Override\r\n\t\tpublic void write(List&lt;? extends TestData&gt; items) throws Exception {\r\n\t\t\t// filePath value read from the job execution can be used inside read use case impl\r\n\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic ExitStatus afterStep(StepExecution stepExecution) {\r\n\t\t\treturn ExitStatus.COMPLETED;\r\n\t\t}\r\n\t}\r\n\r\nTo Add a value to the jobExecutionContext, you can use like below,\r\n\r\n    stepExecution.getJobExecution().getExecutionContext().put(&quot;path&quot;, filePath);","title":"Spring batch reading job parameter in writer","body":"<p>One of the ways to access the Job Parameters is to implement StepExecutionListener to your processor/writer Class to make use of its Overridden methods beforeStep and afterStep,</p>\n<pre><code>public class TestWriter implements ItemWriter&lt;TestData&gt;,StepExecutionListener {\n\n    private String filePath;\n\n    @Override\n    public void beforeStep(StepExecution stepExecution) {\n\n        try {\n            filePath = (String) stepExecution.getJobExecution().getExecutionContext()\n            .get(&quot;filePath&quot;);\n        } catch (Exception e) {\n            logger.error(&quot;Exception while performing read {}&quot;, e);\n        }\n    }\n\n\n    @Override\n    public void write(List&lt;? extends TestData&gt; items) throws Exception {\n        // filePath value read from the job execution can be used inside read use case impl\n\n    }\n\n    @Override\n    public ExitStatus afterStep(StepExecution stepExecution) {\n        return ExitStatus.COMPLETED;\n    }\n}\n</code></pre>\n<p>To Add a value to the jobExecutionContext, you can use like below,</p>\n<pre><code>stepExecution.getJobExecution().getExecutionContext().put(&quot;path&quot;, filePath);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":19501442,"reputation":2332,"user_id":14267427,"display_name":"Tyler2P"},"score":0,"creation_date":1667582507,"post_id":74318362,"comment_id":131208705,"body_markdown":"Your answer could be improved by adding more information on what the code does and how it helps the OP.","body":"Your answer could be improved by adding more information on what the code does and how it helps the OP."}],"tags":[],"owner":{"account_id":8388402,"reputation":57,"user_id":6297976,"display_name":"Nilesh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667582516,"creation_date":1667570976,"answer_id":74318362,"question_id":62505305,"body_markdown":"\t@StepScope\r\n\t@Bean\r\n\tpublic ItemWriter&lt;EmployeeCSVItem&gt;  writer(@Value(&quot;#{jobParameters[&#39;file.path&#39;]}&quot;) String filepath) {\r\n      return new CsvItemWriter().buildWriter(filepath);\r\n\t}","title":"Spring batch reading job parameter in writer","body":"<pre><code>@StepScope\n@Bean\npublic ItemWriter&lt;EmployeeCSVItem&gt;  writer(@Value(&quot;#{jobParameters['file.path']}&quot;) String filepath) {\n  return new CsvItemWriter().buildWriter(filepath);\n}\n</code></pre>\n"}],"owner":{"account_id":29462,"reputation":9481,"user_id":79631,"accept_rate":34,"display_name":"web dunia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":978,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667582516,"creation_date":1592780113,"question_id":62505305,"body_markdown":"I am currently passing the file name in spring batch job parameter in command line and running my job, the spring batch job will look for file and read, process and write the file. I am currently the job parameter file name in reader and reading the file name, how can I use the same job parameter file name in processor and writer. ","title":"Spring batch reading job parameter in writer","body":"<p>I am currently passing the file name in spring batch job parameter in command line and running my job, the spring batch job will look for file and read, process and write the file. I am currently the job parameter file name in reader and reading the file name, how can I use the same job parameter file name in processor and writer.</p>\n"},{"tags":["java","command-line-interface","apache-commons","apache-commons-cli"],"comments":[{"owner":{"account_id":11564221,"reputation":5963,"user_id":8473028,"accept_rate":94,"display_name":"DodgyCodeException"},"score":2,"creation_date":1515673181,"post_id":48205610,"comment_id":83394707,"body_markdown":"You could try adding an OptionGroup which represents a set of exclusive options (only one option from the group is allowed to be present) and put all your required options in that group (including `-help`).","body":"You could try adding an OptionGroup which represents a set of exclusive options (only one option from the group is allowed to be present) and put all your required options in that group (including <code>-help</code>)."}],"answers":[{"tags":[],"owner":{"account_id":179293,"reputation":15713,"user_id":411846,"accept_rate":80,"display_name":"centic"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1516533264,"creation_date":1516261256,"answer_id":48316054,"question_id":48205610,"body_markdown":"It seems commons-cli does not support that currently, so I would create a 2nd Options object where the param is not required and parse/check that first, before doing the full parse, something like this:\r\n\r\n    public static void main(String[] args) {\r\n        // define the options with required arguments as needed\r\n        Options opts = new Options()\r\n                .addOption(Option.builder(&quot;p&quot;)\r\n                        .required()\r\n                        .hasArg(true)\r\n                        .argName(&quot;arg&quot;)\r\n                        .desc(&quot;description  &quot;)\r\n                        .longOpt(&quot;param&quot;)\r\n                        .build())\r\n                .addOption(Option.builder(&quot;h&quot;)\r\n                        .hasArg(false)\r\n                        .longOpt(&quot;help&quot;)\r\n                        .desc(&quot;help description&quot;)\r\n                        .build());\r\n\r\n        // first check if usage-output was requested\r\n        if (handleHelp(args, opts)) {\r\n            return;\r\n        }\r\n\r\n        // now handle the full options\r\n        CommandLineParser parser = new DefaultParser();\r\n        final CommandLine cmdLine;\r\n        try {\r\n            cmdLine = parser.parse(opts, args);\r\n        } catch (ParseException ex) {\r\n            System.out.println(&quot;Syntax error: &quot; + ex.getMessage());\r\n\r\n            printHelp(opts);\r\n\r\n            return;\r\n        }\r\n\r\n        // now handle options and do your work\r\n    }\r\n\r\n    private boolean handleHelp(String[] args, Options opts) {\r\n        Options helpOpts = new Options()\r\n                .addOption(Option.builder(&quot;p&quot;)\r\n                        //.required()\r\n                        .hasArg(true)\r\n                        .argName(&quot;arg&quot;)\r\n                        .desc(&quot;description  &quot;)\r\n                        .longOpt(&quot;param&quot;)\r\n                        .build())\r\n                .addOption(Option.builder(&quot;h&quot;)\r\n                        .hasArg(false)\r\n                        .longOpt(&quot;help&quot;)\r\n                        .desc(&quot;help description&quot;)\r\n                        .build());\r\n\r\n        CommandLineParser helpParser = new DefaultParser();\r\n        final CommandLine cmdLine;\r\n        try {\r\n            cmdLine = helpParser.parse(helpOpts, args);\r\n        } catch (ParseException ex) {\r\n            System.out.println(&quot;Syntax error: &quot; + ex.getMessage());\r\n\r\n            printHelp(opts);\r\n\r\n            return true;\r\n        }\r\n\r\n        if(cmdLine.hasOption(&quot;h&quot;)) {\r\n            printHelp(opts);\r\n\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    private void printHelp(Options opts) {\r\n        try (PrintWriter pw = new PrintWriter(System.out)) {\r\n            HelpFormatter formatter = new HelpFormatter();\r\n\r\n            formatter.printHelp(pw, 80, &quot;myapp&quot;, &quot;test-header&quot;, opts,\r\n                    formatter.getLeftPadding(), formatter.getDescPadding(), &quot;test-footer&quot;, true);\r\n        }\r\n    }","title":"Overriding required() parameters while using help parameter","body":"<p>It seems commons-cli does not support that currently, so I would create a 2nd Options object where the param is not required and parse/check that first, before doing the full parse, something like this:</p>\n\n<pre><code>public static void main(String[] args) {\n    // define the options with required arguments as needed\n    Options opts = new Options()\n            .addOption(Option.builder(\"p\")\n                    .required()\n                    .hasArg(true)\n                    .argName(\"arg\")\n                    .desc(\"description  \")\n                    .longOpt(\"param\")\n                    .build())\n            .addOption(Option.builder(\"h\")\n                    .hasArg(false)\n                    .longOpt(\"help\")\n                    .desc(\"help description\")\n                    .build());\n\n    // first check if usage-output was requested\n    if (handleHelp(args, opts)) {\n        return;\n    }\n\n    // now handle the full options\n    CommandLineParser parser = new DefaultParser();\n    final CommandLine cmdLine;\n    try {\n        cmdLine = parser.parse(opts, args);\n    } catch (ParseException ex) {\n        System.out.println(\"Syntax error: \" + ex.getMessage());\n\n        printHelp(opts);\n\n        return;\n    }\n\n    // now handle options and do your work\n}\n\nprivate boolean handleHelp(String[] args, Options opts) {\n    Options helpOpts = new Options()\n            .addOption(Option.builder(\"p\")\n                    //.required()\n                    .hasArg(true)\n                    .argName(\"arg\")\n                    .desc(\"description  \")\n                    .longOpt(\"param\")\n                    .build())\n            .addOption(Option.builder(\"h\")\n                    .hasArg(false)\n                    .longOpt(\"help\")\n                    .desc(\"help description\")\n                    .build());\n\n    CommandLineParser helpParser = new DefaultParser();\n    final CommandLine cmdLine;\n    try {\n        cmdLine = helpParser.parse(helpOpts, args);\n    } catch (ParseException ex) {\n        System.out.println(\"Syntax error: \" + ex.getMessage());\n\n        printHelp(opts);\n\n        return true;\n    }\n\n    if(cmdLine.hasOption(\"h\")) {\n        printHelp(opts);\n\n        return true;\n    }\n\n    return false;\n}\n\nprivate void printHelp(Options opts) {\n    try (PrintWriter pw = new PrintWriter(System.out)) {\n        HelpFormatter formatter = new HelpFormatter();\n\n        formatter.printHelp(pw, 80, \"myapp\", \"test-header\", opts,\n                formatter.getLeftPadding(), formatter.getDescPadding(), \"test-footer\", true);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8736919,"reputation":129,"user_id":6535239,"display_name":"Elegant.Obj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586390988,"creation_date":1586390988,"answer_id":61111968,"question_id":48205610,"body_markdown":"There is a fluent wrapper for the commons-cli library: https://github.com/bogdanovmn/java-cmdline-app\r\n\r\nThe -h option is already built-in. You don&#39;t need to manage it in your own code.\r\n","title":"Overriding required() parameters while using help parameter","body":"<p>There is a fluent wrapper for the commons-cli library: <a href=\"https://github.com/bogdanovmn/java-cmdline-app\" rel=\"nofollow noreferrer\">https://github.com/bogdanovmn/java-cmdline-app</a></p>\n\n<p>The -h option is already built-in. You don't need to manage it in your own code.</p>\n"},{"tags":[],"owner":{"account_id":9087891,"reputation":43,"user_id":6765102,"display_name":"Michele Vascellari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667572772,"creation_date":1667572772,"answer_id":74318752,"question_id":48205610,"body_markdown":"A better solution can be the following:\r\n\r\n```\r\npublic static void main(String[] args) {\r\n    // define the options with required arguments as needed\r\n    Options opts = new Options()\r\n            .addOption(Option.builder(&quot;p&quot;)\r\n                    .required()\r\n                    .hasArg(true)\r\n                    .argName(&quot;arg&quot;)\r\n                    .desc(&quot;description  &quot;)\r\n                    .longOpt(&quot;param&quot;)\r\n                    .build())\r\n            .addOption(Option.builder(&quot;h&quot;)\r\n                    .hasArg(false)\r\n                    .longOpt(&quot;help&quot;)\r\n                    .desc(&quot;help description&quot;)\r\n                    .build());\r\n\r\n    // first check if usage-output was requested\r\n    if (Arrays.asList(args).contains(&quot;--help&quot;)) {\r\n        HelpFormatter help = new HelpFormatter();\r\n        help.printHelp(&quot;betgenius-stream&quot;, opts);\r\n        System.exit(0);\r\n    }\r\n    CommandLineParser parser = new DefaultParser();\r\n    CommandLine cli = parser.parse(options, args);\r\n    // now handle options and do your work\r\n}\r\n```\r\n\r\nIn this way it is not necessary to rewrite the options.","title":"Overriding required() parameters while using help parameter","body":"<p>A better solution can be the following:</p>\n<pre><code>public static void main(String[] args) {\n    // define the options with required arguments as needed\n    Options opts = new Options()\n            .addOption(Option.builder(&quot;p&quot;)\n                    .required()\n                    .hasArg(true)\n                    .argName(&quot;arg&quot;)\n                    .desc(&quot;description  &quot;)\n                    .longOpt(&quot;param&quot;)\n                    .build())\n            .addOption(Option.builder(&quot;h&quot;)\n                    .hasArg(false)\n                    .longOpt(&quot;help&quot;)\n                    .desc(&quot;help description&quot;)\n                    .build());\n\n    // first check if usage-output was requested\n    if (Arrays.asList(args).contains(&quot;--help&quot;)) {\n        HelpFormatter help = new HelpFormatter();\n        help.printHelp(&quot;betgenius-stream&quot;, opts);\n        System.exit(0);\n    }\n    CommandLineParser parser = new DefaultParser();\n    CommandLine cli = parser.parse(options, args);\n    // now handle options and do your work\n}\n</code></pre>\n<p>In this way it is not necessary to rewrite the options.</p>\n"}],"owner":{"account_id":8851961,"reputation":91,"user_id":6637207,"accept_rate":25,"display_name":"mordowiciel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1105,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1667582382,"creation_date":1515668822,"question_id":48205610,"body_markdown":"I&#39;m adding options for the Parser in following way:\r\n\r\n    options = new Options()\r\n                    .addOption(Option.builder(CONFIG_PARAM)\r\n                            .required()\r\n                            .hasArg(true)\r\n                            .argName(CONFIG_PARAM_NAME + &quot;_path&quot;)\r\n                            .desc(CONFIG_PARAM_DESC)\r\n                            .longOpt(CONFIG_PARAM_NAME)\r\n                            .build())\r\n                    (...)\r\n                    .addOption(Option.builder(HELP_PARAM)\r\n                            .hasArg(false)\r\n                            .longOpt(HELP_PARAM_NAME)\r\n                            .desc(HELP_PARAM_DESC)\r\n                            .build());\r\n\r\nNow, I would like to allow the user to use only the help command, for ex.\r\n\r\n    mypreciousapp --help\r\n\r\nWith the above solution, it is impossible - I&#39;m receiving the information about missing required parameters\r\n\r\n    Missing required options: c\r\n\r\nIs there any way to flag the help parameter so it can override the required parameters, and allow its usage alone? I can do this manually, but first I would like to know if there&#39;s such option in CLI lib.","title":"Overriding required() parameters while using help parameter","body":"<p>I'm adding options for the Parser in following way:</p>\n<pre><code>options = new Options()\n                .addOption(Option.builder(CONFIG_PARAM)\n                        .required()\n                        .hasArg(true)\n                        .argName(CONFIG_PARAM_NAME + &quot;_path&quot;)\n                        .desc(CONFIG_PARAM_DESC)\n                        .longOpt(CONFIG_PARAM_NAME)\n                        .build())\n                (...)\n                .addOption(Option.builder(HELP_PARAM)\n                        .hasArg(false)\n                        .longOpt(HELP_PARAM_NAME)\n                        .desc(HELP_PARAM_DESC)\n                        .build());\n</code></pre>\n<p>Now, I would like to allow the user to use only the help command, for ex.</p>\n<pre><code>mypreciousapp --help\n</code></pre>\n<p>With the above solution, it is impossible - I'm receiving the information about missing required parameters</p>\n<pre><code>Missing required options: c\n</code></pre>\n<p>Is there any way to flag the help parameter so it can override the required parameters, and allow its usage alone? I can do this manually, but first I would like to know if there's such option in CLI lib.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1667508716,"post_id":74308842,"comment_id":131189753,"body_markdown":"I&#39;m not sure I understand the question. Which part of the code you shared isn&#39;t working the way you expect it to?","body":"I&#39;m not sure I understand the question. Which part of the code you shared isn&#39;t working the way you expect it to?"},{"owner":{"account_id":23988603,"reputation":17,"user_id":17975099,"display_name":"Gr8 BEAST"},"score":0,"creation_date":1667510011,"post_id":74308842,"comment_id":131190116,"body_markdown":"THe code i shared is working fine , it checks if the value is present in the DB.. but i also want the data from the same node in which the value is found..as i wrote at last","body":"THe code i shared is working fine , it checks if the value is present in the DB.. but i also want the data from the same node in which the value is found..as i wrote at last"},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1667519218,"post_id":74308842,"comment_id":131191999,"body_markdown":"Are you asking how to get the value from the data snapshot? If so: `dataSnapshot.val()` should do the trick, but also have a look at https://firebase.google.com/docs/database/android/lists-of-data#listen_for_value_events since you&#39;re using a query and that means it returns a list of data (even if there&#39;s only one result).","body":"Are you asking how to get the value from the data snapshot? If so: <code>dataSnapshot.val()</code> should do the trick, but also have a look at <a href=\"https://firebase.google.com/docs/database/android/lists-of-data#listen_for_value_events\" rel=\"nofollow noreferrer\">firebase.google.com/docs/database/android/&hellip;</a> since you&#39;re using a query and that means it returns a list of data (even if there&#39;s only one result)."}],"answers":[{"comments":[{"owner":{"account_id":23988603,"reputation":17,"user_id":17975099,"display_name":"Gr8 BEAST"},"score":0,"creation_date":1667547257,"post_id":74313223,"comment_id":131196307,"body_markdown":"{Index not defined, add &quot;.indexOn&quot;: &quot;username&quot;, for path &quot;/users&quot;, to the rules}\n\ngetting this error via Log.d","body":"{Index not defined, add &quot;.indexOn&quot;: &quot;username&quot;, for path &quot;/users&quot;, to the rules}  getting this error via Log.d"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1667548190,"post_id":74313223,"comment_id":131196526,"body_markdown":"That means that it works, but there is only one thing that remains to be done, which is to [add an index](https://stackoverflow.com/questions/60848233/what-is-the-correct-way-to-add-indexon-rule-in-firebase-realtime-database). Add it and tell me if it works, ok?","body":"That means that it works, but there is only one thing that remains to be done, which is to <a href=\"https://stackoverflow.com/questions/60848233/what-is-the-correct-way-to-add-indexon-rule-in-firebase-realtime-database\">add an index</a>. Add it and tell me if it works, ok?"},{"owner":{"account_id":23988603,"reputation":17,"user_id":17975099,"display_name":"Gr8 BEAST"},"score":0,"creation_date":1667549130,"post_id":74313223,"comment_id":131196777,"body_markdown":"add an index ... sorry i didnt get it .. can u show me","body":"add an index ... sorry i didnt get it .. can u show me"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1667566828,"post_id":74313223,"comment_id":131202686,"body_markdown":"What didn&#39;t you get? What have you tried and didn&#39;t worked out?","body":"What didn&#39;t you get? What have you tried and didn&#39;t worked out?"},{"owner":{"account_id":23988603,"reputation":17,"user_id":17975099,"display_name":"Gr8 BEAST"},"score":0,"creation_date":1667576063,"post_id":74313223,"comment_id":131206257,"body_markdown":"I dont know how to add an index.....so i didnt try anything, can u please tell me how to add index and where","body":"I dont know how to add an index.....so i didnt try anything, can u please tell me how to add index and where"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1667582431,"post_id":74313223,"comment_id":131208678,"body_markdown":"If you have any other questions that derive from this one, then they should be considered newer questions that should be added separately, here on StackOverflow. Since you&#39;re new, I&#39;ll also provide you with the rules. So please check my updated answer. Try them and tell me if it works now.","body":"If you have any other questions that derive from this one, then they should be considered newer questions that should be added separately, here on StackOverflow. Since you&#39;re new, I&#39;ll also provide you with the rules. So please check my updated answer. Try them and tell me if it works now."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1667634975,"post_id":74313223,"comment_id":131217098,"body_markdown":"Hey here. Have you tried my edited solution above, does it work?","body":"Hey here. Have you tried my edited solution above, does it work?"},{"owner":{"account_id":23988603,"reputation":17,"user_id":17975099,"display_name":"Gr8 BEAST"},"score":0,"creation_date":1667637204,"post_id":74313223,"comment_id":131217434,"body_markdown":"There are no error now but now even if i input the correct unsername and pass it logs incorrect password in the logcat","body":"There are no error now but now even if i input the correct unsername and pass it logs incorrect password in the logcat"},{"owner":{"account_id":23988603,"reputation":17,"user_id":17975099,"display_name":"Gr8 BEAST"},"score":0,"creation_date":1667637926,"post_id":74313223,"comment_id":131217531,"body_markdown":"No, It worked ! i was checking the wrong pass, Thankyou sooo much !","body":"No, It worked ! i was checking the wrong pass, Thankyou sooo much !"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1667638251,"post_id":74313223,"comment_id":131217576,"body_markdown":"Good to hear that :) You&#39;re very welcome, cheers!","body":"Good to hear that :) You&#39;re very welcome, cheers!"}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":10,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667582314,"creation_date":1667544943,"answer_id":74313223,"question_id":74308842,"body_markdown":"&gt; If my user inputs username &quot;Admin&quot; which is available in my DB, I want to get the pass that is in that node which is &quot;Admin123&quot; and later I will check if the pass from DB matches the pass which is entered by the user to log him in the app.\r\n\r\nTo be able to solve this problem, first, you have to perform a query that gets all the users where the value of the `username` field matches what the user types in the `userinputname` EditText. If the query returns at least a record, then you have to check the value of the `pass` field against the value `userinputpass` EditText. If there is a match, you can go ahead with the authentication, otherwise display a message, or do whatever you want.\r\n\r\n\tDatabaseReference db = FirebaseDatabase.getInstance().getReference();\r\n\tDatabaseReference usersRef = db.child(&quot;users&quot;);\r\n\tQuery queryByUserName = usersRef.orderByChild(&quot;username&quot;).equalTo(userinputname);\r\n    queryByUserName.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n\t\t@Override\r\n\t\tpublic void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n\t\t\tif (task.isSuccessful()) {\r\n\t\t\t\tfor (DataSnapshot userSnapshot : task.getResult().getChildren()) {\r\n\t\t\t\t\tString pass = userSnapshot.child(&quot;pass&quot;).getValue(String.class);\r\n\t\t\t\t\tif(pass.equals(userinputpass)) {\r\n\t\t\t\t\t\tLog.d(&quot;TAG&quot;, &quot;Username and password are correct.&quot;);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tLog.d(&quot;TAG&quot;, &quot;The password is incorrect&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tLog.d(&quot;TAG&quot;, task.getException().getMessage()); //Never ignore potential errors!\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\nIn the solution above, I have used [Query#get()][1] and not [Query()#addListenerForSingleValueEvent()][2]. Why? Is because of [this][3].\r\n\r\nWhile the above solution will work, please note that you should **never** store the user credentials in the way you do. Never! Storing passwords in cleartext is one of the worst security risks you can inflict on your users. So for avoiding that, I highly recommend you implement [Firebase Authentication][4].\r\n\r\nSince you&#39;re using Java, I recommend you read the following article:\r\n\r\n* [How to create a clean Firebase authentication using MVVM?][5]\r\n\r\nIf you consider at some point in time learning Kotlin, which I personally recommend, then please also check the following resources:\r\n\r\n* [How to handle Firebase Authentication in clean architecture using Jetpack Compose?][6]\r\n\r\nAnd:\r\n\r\n* [How to authenticate to Firebase using Google One Tap in Jetpack Compose?][7]\r\n\r\n**Edit:**\r\n\r\nThe above query requires an index. So in order to make it work, please add the following rules inside your Firebase console:\r\n\r\n```\r\n{\r\n  &quot;rules&quot;: {\r\n    &quot;users&quot;: {\r\n      &quot;.indexOn&quot;: &quot;username&quot;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/database/Query#get()\r\n  [2]: https://firebase.google.com/docs/reference/android/com/google/firebase/database/Query#addListenerForSingleValueEvent(com.google.firebase.database.ValueEventListener)\r\n  [3]: https://stackoverflow.com/questions/65653735/firebase-query-get-vs-addlistenerforsinglevalueevent-for-single-data-read\r\n  [4]: https://firebase.google.com/docs/auth\r\n  [5]: https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336\r\n  [6]: https://medium.com/firebase-tips-tricks/how-to-handle-firebase-authentication-in-clean-architecture-using-jetpack-compose-e9929c0e31f8\r\n  [7]: https://medium.com/firebase-developers/how-to-authenticate-to-firebase-using-google-one-tap-in-jetpack-compose-60b30e621d0d","title":"How to get the value from a node if we have a data from that node","body":"<blockquote>\n<p>If my user inputs username &quot;Admin&quot; which is available in my DB, I want to get the pass that is in that node which is &quot;Admin123&quot; and later I will check if the pass from DB matches the pass which is entered by the user to log him in the app.</p>\n</blockquote>\n<p>To be able to solve this problem, first, you have to perform a query that gets all the users where the value of the <code>username</code> field matches what the user types in the <code>userinputname</code> EditText. If the query returns at least a record, then you have to check the value of the <code>pass</code> field against the value <code>userinputpass</code> EditText. If there is a match, you can go ahead with the authentication, otherwise display a message, or do whatever you want.</p>\n<pre><code>DatabaseReference db = FirebaseDatabase.getInstance().getReference();\nDatabaseReference usersRef = db.child(&quot;users&quot;);\nQuery queryByUserName = usersRef.orderByChild(&quot;username&quot;).equalTo(userinputname);\nqueryByUserName.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n        if (task.isSuccessful()) {\n            for (DataSnapshot userSnapshot : task.getResult().getChildren()) {\n                String pass = userSnapshot.child(&quot;pass&quot;).getValue(String.class);\n                if(pass.equals(userinputpass)) {\n                    Log.d(&quot;TAG&quot;, &quot;Username and password are correct.&quot;);\n                } else {\n                    Log.d(&quot;TAG&quot;, &quot;The password is incorrect&quot;);\n                }\n            }\n        } else {\n            Log.d(&quot;TAG&quot;, task.getException().getMessage()); //Never ignore potential errors!\n        }\n    }\n});\n</code></pre>\n<p>In the solution above, I have used <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/Query#get()\" rel=\"nofollow noreferrer\">Query#get()</a> and not <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/Query#addListenerForSingleValueEvent(com.google.firebase.database.ValueEventListener)\" rel=\"nofollow noreferrer\">Query()#addListenerForSingleValueEvent()</a>. Why? Is because of <a href=\"https://stackoverflow.com/questions/65653735/firebase-query-get-vs-addlistenerforsinglevalueevent-for-single-data-read\">this</a>.</p>\n<p>While the above solution will work, please note that you should <strong>never</strong> store the user credentials in the way you do. Never! Storing passwords in cleartext is one of the worst security risks you can inflict on your users. So for avoiding that, I highly recommend you implement <a href=\"https://firebase.google.com/docs/auth\" rel=\"nofollow noreferrer\">Firebase Authentication</a>.</p>\n<p>Since you're using Java, I recommend you read the following article:</p>\n<ul>\n<li><a href=\"https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336\" rel=\"nofollow noreferrer\">How to create a clean Firebase authentication using MVVM?</a></li>\n</ul>\n<p>If you consider at some point in time learning Kotlin, which I personally recommend, then please also check the following resources:</p>\n<ul>\n<li><a href=\"https://medium.com/firebase-tips-tricks/how-to-handle-firebase-authentication-in-clean-architecture-using-jetpack-compose-e9929c0e31f8\" rel=\"nofollow noreferrer\">How to handle Firebase Authentication in clean architecture using Jetpack Compose?</a></li>\n</ul>\n<p>And:</p>\n<ul>\n<li><a href=\"https://medium.com/firebase-developers/how-to-authenticate-to-firebase-using-google-one-tap-in-jetpack-compose-60b30e621d0d\" rel=\"nofollow noreferrer\">How to authenticate to Firebase using Google One Tap in Jetpack Compose?</a></li>\n</ul>\n<p><strong>Edit:</strong></p>\n<p>The above query requires an index. So in order to make it work, please add the following rules inside your Firebase console:</p>\n<pre><code>{\n  &quot;rules&quot;: {\n    &quot;users&quot;: {\n      &quot;.indexOn&quot;: &quot;username&quot;\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":23988603,"reputation":17,"user_id":17975099,"display_name":"Gr8 BEAST"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74313223,"answer_count":1,"score":0,"last_activity_date":1667582314,"creation_date":1667505136,"question_id":74308842,"body_markdown":"what I want to do \r\n- I have a firebase node as shown here: ![here][1]\r\n- my user will input a string(name), after that I will check if the (name)or(userinput) is available in the firebase by this code\r\n\r\n```\r\nDatabaseReference ref=FirebaseDatabase.getInstance().getReference().child(&quot;users&quot;);            \r\nref.orderByChild(&quot;username&quot;).equalTo(userinputname).addListenerForSingleValueEvent(new ValueEventListener(){\r\n    @Override\r\n    public void onDataChange(DataSnapshot dataSnapshot){\r\n        if(dataSnapshot.exists()) {\r\n            //username exist\r\n            Toast.makeText(LoginActivity.this, &quot;exists&quot;, Toast.LENGTH_SHORT).show();\r\n   }     \r\n}\r\n```\r\n\r\nIf it is available then I want to get other data from that specific node in which the (name) is present..\r\n\r\nsimplified -\r\nmy user will input a username and pass, I have multiple username and pass in my DB so i want to first check if the username exists in DB if yes then i want the Pass which is in the DB to match it with the Password which is entered by the user to login \r\n\r\n\r\n\r\neg - if my user inputs username &quot;Admin&quot; which is avaiable in my DB, so I want to get the pass which is in that node which is &quot;Admin123&quot; and later I will check if the pass from DB matches the pass which is entered by the user to log him in the app\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Sxl0x.png\r\n","title":"How to get the value from a node if we have a data from that node","body":"<p>what I want to do</p>\n<ul>\n<li>I have a firebase node as shown here: <img src=\"https://i.stack.imgur.com/Sxl0x.png\" alt=\"here\" /></li>\n<li>my user will input a string(name), after that I will check if the (name)or(userinput) is available in the firebase by this code</li>\n</ul>\n<pre><code>DatabaseReference ref=FirebaseDatabase.getInstance().getReference().child(&quot;users&quot;);            \nref.orderByChild(&quot;username&quot;).equalTo(userinputname).addListenerForSingleValueEvent(new ValueEventListener(){\n    @Override\n    public void onDataChange(DataSnapshot dataSnapshot){\n        if(dataSnapshot.exists()) {\n            //username exist\n            Toast.makeText(LoginActivity.this, &quot;exists&quot;, Toast.LENGTH_SHORT).show();\n   }     \n}\n</code></pre>\n<p>If it is available then I want to get other data from that specific node in which the (name) is present..</p>\n<p>simplified -\nmy user will input a username and pass, I have multiple username and pass in my DB so i want to first check if the username exists in DB if yes then i want the Pass which is in the DB to match it with the Password which is entered by the user to login</p>\n<p>eg - if my user inputs username &quot;Admin&quot; which is avaiable in my DB, so I want to get the pass which is in that node which is &quot;Admin123&quot; and later I will check if the pass from DB matches the pass which is entered by the user to log him in the app</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1667490343,"post_id":74305596,"comment_id":131183799,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":17661410,"reputation":943,"user_id":12819796,"display_name":"Aditya Nandardhane"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667543356,"creation_date":1667543356,"answer_id":74312974,"question_id":74305596,"body_markdown":"Use setMinDate() and setMaxDate() on the DatePicker. You can access it from your DatePickerDialog with getDatePicker().\r\n\r\n\r\n\r\nhttp://developer.android.com/reference/android/widget/DatePicker.html","title":"how to disable dates after one year from today in android studio","body":"<p>Use setMinDate() and setMaxDate() on the DatePicker. You can access it from your DatePickerDialog with getDatePicker().</p>\n<p><a href=\"http://developer.android.com/reference/android/widget/DatePicker.html\" rel=\"nofollow noreferrer\">http://developer.android.com/reference/android/widget/DatePicker.html</a></p>\n"}],"owner":{"account_id":4389364,"reputation":1,"user_id":3578324,"display_name":"baban"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667582184,"creation_date":1667489320,"question_id":74305596,"body_markdown":"&gt; im working with material date range picker in android studio\r\n&gt; \r\n&gt; i want the way to disable future date after (360 - 7) days from today--for example\r\n&gt; \r\n&gt; today is 3/11/2022 i want to disable future date start from 28/10/2023\r\n&gt; \r\n&gt; how can i do that???\r\n\r\n\r\n````````````````````````````````````````````\r\nMaterialDatePicker.Builder&lt;Pair&lt;Long, Long&gt;&gt; materialDatePicker=MaterialDatePicker.Builder.dateRangePicker();\r\n        MaterialDatePicker builder=materialDatePicker.build();\r\n\r\n        CalendarConstraints.Builder calendarConstraints=new CalendarConstraints.Builder();\r\n        RangeDateBuilder rangeDateBuilder=new RangeDateBuilder(353);\r\n        \r\n        materialDatePicker.setCalendarConstraints(calendarConstraints.build());\r\n        calendarConstraints.setValidator(rangeDateBuilder);\r\n        rangeDateBuilder.setDatePicker(builder);\r\n        btnFrom.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                builder.show(getSupportFragmentManager(),&quot;Date_Picker&quot;);\r\n            }\r\n        });\r\n\r\n    @SuppressLint(&quot;ParcelCreator&quot;)\r\n    public class RangeDateBuilder implements CalendarConstraints.DateValidator{\r\n        int numberOfDays;\r\n        MaterialDatePicker rangepicker;\r\n\r\n        public RangeDateBuilder(int numberOfDays){\r\n            this.numberOfDays=numberOfDays;\r\n        }\r\n\r\n        public void setDatePicker(MaterialDatePicker rangepicker){\r\n         this.rangepicker=rangepicker;\r\n        }\r\n        @Override\r\n        public boolean isValid(long date) {\r\n            Pair&lt;Long, Long&gt; selection =(Pair&lt;Long, Long&gt;) rangepicker . getSelection ();\r\n            if (selection != null) {\r\n                Long startDate = selection . first;\r\n                if (startDate != null) {\r\n                    long days =(numberOfDays - 1) * TimeUnit.DAYS.toMillis(1);;\r\n                    if (date &gt; startDate + days)\r\n                        return false;\r\n                    if (date &lt; startDate)\r\n                        return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n\r\n        @Override\r\n        public int describeContents() {\r\n            return 0;\r\n        }\r\n\r\n        @Override\r\n        public void writeToParcel(Parcel parcel, int i) {\r\n\r\n        }\r\n\r\n\r\n    }\r\n```````````````````````````````````````````````````````````","title":"how to disable dates after one year from today in android studio","body":"<blockquote>\n<p>im working with material date range picker in android studio</p>\n<p>i want the way to disable future date after (360 - 7) days from today--for example</p>\n<p>today is 3/11/2022 i want to disable future date start from 28/10/2023</p>\n<p>how can i do that???</p>\n</blockquote>\n<pre><code>MaterialDatePicker.Builder&lt;Pair&lt;Long, Long&gt;&gt; materialDatePicker=MaterialDatePicker.Builder.dateRangePicker();\n        MaterialDatePicker builder=materialDatePicker.build();\n\n        CalendarConstraints.Builder calendarConstraints=new CalendarConstraints.Builder();\n        RangeDateBuilder rangeDateBuilder=new RangeDateBuilder(353);\n        \n        materialDatePicker.setCalendarConstraints(calendarConstraints.build());\n        calendarConstraints.setValidator(rangeDateBuilder);\n        rangeDateBuilder.setDatePicker(builder);\n        btnFrom.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                builder.show(getSupportFragmentManager(),&quot;Date_Picker&quot;);\n            }\n        });\n\n    @SuppressLint(&quot;ParcelCreator&quot;)\n    public class RangeDateBuilder implements CalendarConstraints.DateValidator{\n        int numberOfDays;\n        MaterialDatePicker rangepicker;\n\n        public RangeDateBuilder(int numberOfDays){\n            this.numberOfDays=numberOfDays;\n        }\n\n        public void setDatePicker(MaterialDatePicker rangepicker){\n         this.rangepicker=rangepicker;\n        }\n        @Override\n        public boolean isValid(long date) {\n            Pair&lt;Long, Long&gt; selection =(Pair&lt;Long, Long&gt;) rangepicker . getSelection ();\n            if (selection != null) {\n                Long startDate = selection . first;\n                if (startDate != null) {\n                    long days =(numberOfDays - 1) * TimeUnit.DAYS.toMillis(1);;\n                    if (date &gt; startDate + days)\n                        return false;\n                    if (date &lt; startDate)\n                        return false;\n                }\n            }\n            return true;\n        }\n\n        @Override\n        public int describeContents() {\n            return 0;\n        }\n\n        @Override\n        public void writeToParcel(Parcel parcel, int i) {\n\n        }\n\n\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","spring-boot"],"comments":[{"owner":{"account_id":2468965,"reputation":26460,"user_id":2151351,"display_name":"a better oliver"},"score":2,"creation_date":1441810704,"post_id":32482127,"comment_id":52826813,"body_markdown":"You have a problem with creating 50 controllers, but no problem including 50 different services and calling 50 different service methods in a gigantic switch statement? You can take a look at Spring Data REST, then you don&#39;t even need one controller.","body":"You have a problem with creating 50 controllers, but no problem including 50 different services and calling 50 different service methods in a gigantic switch statement? You can take a look at Spring Data REST, then you don&#39;t even need one controller."}],"answers":[{"comments":[{"owner":{"account_id":6691354,"reputation":2410,"user_id":5160771,"accept_rate":80,"display_name":"lesnar"},"score":0,"creation_date":1441864962,"post_id":32483283,"comment_id":52848358,"body_markdown":"ok thanks for your input and seems like i dont have any other option.","body":"ok thanks for your input and seems like i dont have any other option."}],"tags":[],"owner":{"account_id":337454,"reputation":189,"user_id":665735,"display_name":"Mare Geldenhuys"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1441811429,"creation_date":1441811429,"answer_id":32483283,"question_id":32482127,"body_markdown":"I don&#39;t think that is possible as the underlying mapper would need the concrete class which the json is parsed to. The parameter is simply a reference to the actual object. \r\n\r\nSomething to take note of is that when using REST and getting the benefit from it is not only having simple urls to call. One has to design APIs to be RESTfull. I would advice you to read up on that concept before going down this path you are heading.","title":"how can i typecast Request body into desired entity in REST API Controller","body":"<p>I don't think that is possible as the underlying mapper would need the concrete class which the json is parsed to. The parameter is simply a reference to the actual object. </p>\n\n<p>Something to take note of is that when using REST and getting the benefit from it is not only having simple urls to call. One has to design APIs to be RESTfull. I would advice you to read up on that concept before going down this path you are heading.</p>\n"},{"tags":[],"owner":{"account_id":19330651,"reputation":78,"user_id":14132343,"display_name":"denizeve"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667582129,"creation_date":1667582129,"answer_id":74320747,"question_id":32482127,"body_markdown":"It can be done with only one controller.\r\nOne possible implementation would be using JsonSubTypes and Java inheritance.\r\n\r\nIt is done by moddeling request body objects (*entities*, in the original question) that extend an abstract class. Request body parameter in the controller&#39;s method then has the type of the abstract class.\r\n","title":"how can i typecast Request body into desired entity in REST API Controller","body":"<p>It can be done with only one controller.\nOne possible implementation would be using JsonSubTypes and Java inheritance.</p>\n<p>It is done by moddeling request body objects (<em>entities</em>, in the original question) that extend an abstract class. Request body parameter in the controller's method then has the type of the abstract class.</p>\n"}],"owner":{"account_id":6691354,"reputation":2410,"user_id":5160771,"accept_rate":80,"display_name":"lesnar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1052,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":32483283,"answer_count":2,"score":0,"last_activity_date":1667582129,"creation_date":1441808405,"question_id":32482127,"body_markdown":"my motive is to write one **generic save method** in REST API. User will send the **entity in Request body** such that depending upon Request Mapping String it should be **converted to entity**.\r\n\r\nWhy i am want this, because in my case there are as many as 50-60 entities and as per my understanding i have to write many controllers.\r\n\r\nI am trying to achieve something like this. \r\n\r\n    @RequestMapping(value = &quot;/{entity}&quot;, method = RequestMethod.POST)\r\n\t@ResponseBody\r\n\tpublic Object performSave(@PathVariable String entity\r\n\t\t\t@RequestBody Object entity)  {\r\n\r\n\t\tswitch(entity){\r\n\r\n                 case &quot;employee&quot;\r\n                  return employeeService.save((Employee)entity);\r\n                  \r\n                 case &quot;Boss&quot;\r\n                  return bossService.save((Boss)entity);\r\n                  \r\n                  default:\r\n                   return null;\r\n          \r\n                 }\r\n\r\nbut i am not able to do that because Spring cannot convert the JSON Request into java.lang.Object.\r\n\r\nwhat possible solutions i have ?\r\n\r\nIf my question do not make sense to you, please let me know ,i will provide additional details.\r\n\r\nThanks in advance. ","title":"how can i typecast Request body into desired entity in REST API Controller","body":"<p>my motive is to write one <strong>generic save method</strong> in REST API. User will send the <strong>entity in Request body</strong> such that depending upon Request Mapping String it should be <strong>converted to entity</strong>.</p>\n\n<p>Why i am want this, because in my case there are as many as 50-60 entities and as per my understanding i have to write many controllers.</p>\n\n<p>I am trying to achieve something like this. </p>\n\n<pre><code>@RequestMapping(value = \"/{entity}\", method = RequestMethod.POST)\n@ResponseBody\npublic Object performSave(@PathVariable String entity\n        @RequestBody Object entity)  {\n\n    switch(entity){\n\n             case \"employee\"\n              return employeeService.save((Employee)entity);\n\n             case \"Boss\"\n              return bossService.save((Boss)entity);\n\n              default:\n               return null;\n\n             }\n</code></pre>\n\n<p>but i am not able to do that because Spring cannot convert the JSON Request into java.lang.Object.</p>\n\n<p>what possible solutions i have ?</p>\n\n<p>If my question do not make sense to you, please let me know ,i will provide additional details.</p>\n\n<p>Thanks in advance. </p>\n"},{"tags":["java","encryption","netbeans","jframe","file-descriptor"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1667580261,"post_id":74320310,"comment_id":131207865,"body_markdown":"Take care of java naming conventions. Variable names should start with a lower case character and be camelCase not snake_case","body":"Take care of java naming conventions. Variable names should start with a lower case character and be camelCase not snake_case"}],"answers":[{"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1667584894,"post_id":74320645,"comment_id":131209376,"body_markdown":"You voted to close the question, yet you also chose to answer it! Why?","body":"You voted to close the question, yet you also chose to answer it! Why?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1671065005,"post_id":74320645,"comment_id":132019846,"body_markdown":"Jens, your close vote indicates that you don&#39;t believe people should be able to answer this.  What makes YOU different?  (This question has been linked to from meta, by the way)","body":"Jens, your close vote indicates that you don&#39;t believe people should be able to answer this.  What makes YOU different?  (This question has been linked to from meta, by the way)"}],"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667581587,"creation_date":1667581587,"answer_id":74320645,"question_id":74320310,"body_markdown":"You should really rethink you variable names\r\n\r\nBoth actionPerfom methods are wrong:\r\n\r\n    private void btn_EncriptActionPerformed(java.awt.event.ActionEvent evt) {                                            \r\n        Txt(encrypt(Text.getText(), &quot;Marti&quot;)); //you need to use the text of field Text not from Text1\r\n        Text1.setText(llegir());\r\n        \r\n        Text1.setEditable(false);\r\n    }                                           \r\n\r\n    private void btn_DecriptActionPerformed(java.awt.event.ActionEvent evt) {                                            \r\n        Text2.setText(decrypt(llegir(),&quot;Marti&quot;));\r\n        //Text2.setText(llegir()); remove this line, it overrides the encrypted text\r\n        \r\n         Text2.setEditable(false);\r\n    }                                           \r\n\r\nTake care of java naming conventions. Variable names should start with a lower case character and be camelCase not snake_case","title":"I am encrypting and decrypting but it does not show me the decryption","body":"<p>You should really rethink you variable names</p>\n<p>Both actionPerfom methods are wrong:</p>\n<pre><code>private void btn_EncriptActionPerformed(java.awt.event.ActionEvent evt) {                                            \n    Txt(encrypt(Text.getText(), &quot;Marti&quot;)); //you need to use the text of field Text not from Text1\n    Text1.setText(llegir());\n    \n    Text1.setEditable(false);\n}                                           \n\nprivate void btn_DecriptActionPerformed(java.awt.event.ActionEvent evt) {                                            \n    Text2.setText(decrypt(llegir(),&quot;Marti&quot;));\n    //Text2.setText(llegir()); remove this line, it overrides the encrypted text\n    \n     Text2.setEditable(false);\n}                                           \n</code></pre>\n<p>Take care of java naming conventions. Variable names should start with a lower case character and be camelCase not snake_case</p>\n"}],"owner":{"account_id":26619208,"reputation":13,"user_id":20238177,"display_name":"Mart&#237; Ribalta Vil&#224;"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1667584550,"accepted_answer_id":74320645,"answer_count":1,"score":0,"last_activity_date":1667581587,"creation_date":1667580038,"question_id":74320310,"body_markdown":"I was trying to class a code that would encrypt an entered text with JFRAME, which does it well for me. Once I&#39;m done, it saves the encrypted text in a .txt and then has to decrypt it, but I don&#39;t understand why it doesn&#39;t decrypt it for me.\r\nThank you very much.\r\n\r\n\r\n\r\n\r\n    public class NewJFrame extends javax.swing.JFrame {\r\n       \r\n        /**\r\n         * Creates new form NewJFrame\r\n         */\r\n        public NewJFrame() {\r\n            initComponents();\r\n        }\r\n    \r\n        /**\r\n         * This method is called from within the constructor to initialize the form.\r\n         * WARNING: Do NOT modify this code. The content of this method is always\r\n         * regenerated by the Form Editor.\r\n         */\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \r\n        private void initComponents() {\r\n    \r\n            btn_Decript = new javax.swing.JButton();\r\n            btn_Encript = new javax.swing.JButton();\r\n            text_Encript = new javax.swing.JLabel();\r\n            text_decript = new javax.swing.JLabel();\r\n            Text = new javax.swing.JTextField();\r\n            Text1 = new javax.swing.JTextField();\r\n            Text2 = new javax.swing.JTextField();\r\n    \r\n            setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\n    \r\n            btn_Decript.setText(&quot;Desencriptar&quot;);\r\n            btn_Decript.addActionListener(new java.awt.event.ActionListener() {\r\n                public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                    btn_DecriptActionPerformed(evt);\r\n                }\r\n            });\r\n    \r\n            btn_Encript.setText(&quot;Encirptar&quot;);\r\n            btn_Encript.addActionListener(new java.awt.event.ActionListener() {\r\n                public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                    btn_EncriptActionPerformed(evt);\r\n                }\r\n            });\r\n    \r\n            text_Encript.setText(&quot;Encriptat&quot;);\r\n    \r\n            text_decript.setText(&quot;Desencriptar&quot;);\r\n    \r\n            Text.addActionListener(new java.awt.event.ActionListener() {\r\n                public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                    TextActionPerformed(evt);\r\n                }\r\n            });\r\n    \r\n            Text1.addActionListener(new java.awt.event.ActionListener() {\r\n                public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                    Text1ActionPerformed(evt);\r\n                }\r\n            });\r\n    \r\n            Text2.addActionListener(new java.awt.event.ActionListener() {\r\n                public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                    Text2ActionPerformed(evt);\r\n                }\r\n            });\r\n    \r\n            javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\r\n            getContentPane().setLayout(layout);\r\n            layout.setHorizontalGroup(\r\n                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                .addGroup(layout.createSequentialGroup()\r\n                    .addGap(56, 56, 56)\r\n                    .addComponent(btn_Encript)\r\n                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 35, Short.MAX_VALUE)\r\n                    .addComponent(btn_Decript)\r\n                    .addGap(53, 53, 53))\r\n                .addGroup(layout.createSequentialGroup()\r\n                    .addGap(88, 88, 88)\r\n                    .addComponent(Text, javax.swing.GroupLayout.PREFERRED_SIZE, 110, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                    .addGap(30, 30, 30))\r\n                .addGroup(layout.createSequentialGroup()\r\n                    .addContainerGap()\r\n                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                        .addComponent(text_Encript, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                        .addComponent(Text1, javax.swing.GroupLayout.PREFERRED_SIZE, 137, javax.swing.GroupLayout.PREFERRED_SIZE))\r\n                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)\r\n                        .addComponent(text_decript, javax.swing.GroupLayout.PREFERRED_SIZE, 143, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                        .addGroup(layout.createSequentialGroup()\r\n                            .addComponent(Text2)\r\n                            .addContainerGap())))\r\n            );\r\n            layout.setVerticalGroup(\r\n                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)\r\n                .addGroup(layout.createSequentialGroup()\r\n                    .addGap(38, 38, 38)\r\n                    .addComponent(Text, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                    .addGap(18, 18, 18)\r\n                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\r\n                        .addComponent(text_Encript)\r\n                        .addComponent(text_decript, javax.swing.GroupLayout.PREFERRED_SIZE, 14, javax.swing.GroupLayout.PREFERRED_SIZE))\r\n                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)\r\n                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\r\n                        .addComponent(Text1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                        .addComponent(Text2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))\r\n                    .addGap(46, 127, Short.MAX_VALUE)\r\n                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\r\n                        .addComponent(btn_Encript)\r\n                        .addComponent(btn_Decript))\r\n                    .addGap(29, 29, 29))\r\n            );\r\n    \r\n            pack();\r\n        }// &lt;/editor-fold&gt;                        \r\n    \r\n        private void TextActionPerformed(java.awt.event.ActionEvent evt) {                                     \r\n    \r\n        }                                    \r\n    \r\n        private void btn_EncriptActionPerformed(java.awt.event.ActionEvent evt) {                                            \r\n            Txt(encrypt(Text1.getText(), &quot;Marti&quot;));\r\n            Text1.setText(llegir());\r\n            \r\n            Text1.setEditable(false);\r\n        }                                           \r\n    \r\n        private void btn_DecriptActionPerformed(java.awt.event.ActionEvent evt) {                                            \r\n            Text2.setText(decrypt(llegir(),&quot;Marti&quot;));\r\n            Text2.setText(llegir());\r\n            \r\n             Text1.setEditable(false);\r\n        }                                           \r\n    \r\n        private void Text1ActionPerformed(java.awt.event.ActionEvent evt) {                                      \r\n            // TODO add your handling code here:\r\n        }                                     \r\n    \r\n        private void Text2ActionPerformed(java.awt.event.ActionEvent evt) {                                      \r\n         \r\n        }                                     \r\n    \r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        \r\n     \r\n        // Variables declaration - do not modify                     \r\n        private javax.swing.JTextField Text;\r\n        private javax.swing.JTextField Text1;\r\n        private javax.swing.JTextField Text2;\r\n        private javax.swing.JButton btn_Decript;\r\n        private javax.swing.JButton btn_Encript;\r\n        private javax.swing.JLabel text_Encript;\r\n        private javax.swing.JLabel text_decript;\r\n        // End of variables declaration                   \r\n    \r\n        \r\n    public static void main(String args[]) {\r\n            /* Set the Nimbus look and feel */\r\n            //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\r\n            /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\r\n             * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \r\n             */\r\n            try {\r\n                for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\r\n                    if (&quot;Nimbus&quot;.equals(info.getName())) {\r\n                        javax.swing.UIManager.setLookAndFeel(info.getClassName());\r\n                        break;\r\n                    }\r\n                }\r\n            } catch (ClassNotFoundException ex) {\r\n                java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n            } catch (InstantiationException ex) {\r\n                java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n            } catch (IllegalAccessException ex) {\r\n                java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n            } catch (javax.swing.UnsupportedLookAndFeelException ex) {\r\n                java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n            }\r\n            //&lt;/editor-fold&gt;\r\n    \r\n            /* Create and display the form */\r\n            java.awt.EventQueue.invokeLater(new Runnable() {\r\n                public void run() {\r\n                    new NewJFrame().setVisible(true);\r\n                }\r\n            });\r\n        }\r\n        \r\n    public static void Txt(String secret){\r\n        Path path = Paths.get(&quot;./encriptar.txt&quot;);\r\n        \r\n        try{\r\n            Files.writeString(path, secret, StandardCharsets.UTF_8);\r\n        }\r\n        catch (Exception e){\r\n            System.out.println(&quot;Error while encrypting: &quot;);\r\n        }\r\n    }\r\n    \r\n    public static String llegir(){\r\n        Path path = Paths.get(&quot;./encriptar.txt&quot;);\r\n        String algo = null;\r\n        try{\r\n            algo = Files.readString(path);\r\n        }catch(Exception e){\r\n            System.out.println(&quot;Error&quot;);\r\n        }\r\n        return algo;\r\n    }\r\n      \r\n      private static SecretKeySpec secretKey;\r\n      private static byte[] key;\r\n     \r\n      \r\n      public static void setKey(final String myKey) {\r\n        MessageDigest sha = null;\r\n        try {\r\n          key = myKey.getBytes(&quot;UTF-8&quot;);\r\n          sha = MessageDigest.getInstance(&quot;SHA-1&quot;);\r\n          key = sha.digest(key);\r\n          key = Arrays.copyOf(key, 16);\r\n          secretKey = new SecretKeySpec(key, &quot;AES&quot;);\r\n        } catch (NoSuchAlgorithmException | UnsupportedEncodingException e) {\r\n          e.printStackTrace();\r\n        }\r\n      }\r\n    \r\n      public static String encrypt(final String strToEncrypt, final String secret) {\r\n        try {\r\n          setKey(secret);\r\n          Cipher cipher = Cipher.getInstance(&quot;AES/ECB/PKCS5Padding&quot;);\r\n          cipher.init(Cipher.ENCRYPT_MODE, secretKey);\r\n          return Base64.getEncoder()\r\n            .encodeToString(cipher.doFinal(strToEncrypt.getBytes(&quot;UTF-8&quot;)));\r\n        } catch (Exception e) {\r\n          System.out.println(&quot;Error while encrypting: &quot;);\r\n        }\r\n        return null;\r\n      }\r\n    \r\n      public static String decrypt(final String strToDecrypt, final String secret) {\r\n        try {\r\n          setKey(secret);\r\n          Cipher cipher = Cipher.getInstance(&quot;AES/ECB/PKCS5PADDING&quot;);\r\n          cipher.init(Cipher.DECRYPT_MODE, secretKey);\r\n          return new String(cipher.doFinal(Base64.getDecoder()\r\n            .decode(strToDecrypt)));\r\n        } catch (Exception e) {\r\n          System.out.println(&quot;Error while decrypting: &quot; + e.toString());\r\n        }\r\n        return null;\r\n      } \r\n\r\nI try to see if someone can know how to solve the error that I write above, thanks.","title":"I am encrypting and decrypting but it does not show me the decryption","body":"<p>I was trying to class a code that would encrypt an entered text with JFRAME, which does it well for me. Once I'm done, it saves the encrypted text in a .txt and then has to decrypt it, but I don't understand why it doesn't decrypt it for me.\nThank you very much.</p>\n<pre><code>public class NewJFrame extends javax.swing.JFrame {\n   \n    /**\n     * Creates new form NewJFrame\n     */\n    public NewJFrame() {\n        initComponents();\n    }\n\n    /**\n     * This method is called from within the constructor to initialize the form.\n     * WARNING: Do NOT modify this code. The content of this method is always\n     * regenerated by the Form Editor.\n     */\n    @SuppressWarnings(&quot;unchecked&quot;)\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \n    private void initComponents() {\n\n        btn_Decript = new javax.swing.JButton();\n        btn_Encript = new javax.swing.JButton();\n        text_Encript = new javax.swing.JLabel();\n        text_decript = new javax.swing.JLabel();\n        Text = new javax.swing.JTextField();\n        Text1 = new javax.swing.JTextField();\n        Text2 = new javax.swing.JTextField();\n\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n\n        btn_Decript.setText(&quot;Desencriptar&quot;);\n        btn_Decript.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                btn_DecriptActionPerformed(evt);\n            }\n        });\n\n        btn_Encript.setText(&quot;Encirptar&quot;);\n        btn_Encript.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                btn_EncriptActionPerformed(evt);\n            }\n        });\n\n        text_Encript.setText(&quot;Encriptat&quot;);\n\n        text_decript.setText(&quot;Desencriptar&quot;);\n\n        Text.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                TextActionPerformed(evt);\n            }\n        });\n\n        Text1.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                Text1ActionPerformed(evt);\n            }\n        });\n\n        Text2.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                Text2ActionPerformed(evt);\n            }\n        });\n\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\n        getContentPane().setLayout(layout);\n        layout.setHorizontalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addGap(56, 56, 56)\n                .addComponent(btn_Encript)\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 35, Short.MAX_VALUE)\n                .addComponent(btn_Decript)\n                .addGap(53, 53, 53))\n            .addGroup(layout.createSequentialGroup()\n                .addGap(88, 88, 88)\n                .addComponent(Text, javax.swing.GroupLayout.PREFERRED_SIZE, 110, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addGap(30, 30, 30))\n            .addGroup(layout.createSequentialGroup()\n                .addContainerGap()\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addComponent(text_Encript, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE)\n                    .addComponent(Text1, javax.swing.GroupLayout.PREFERRED_SIZE, 137, javax.swing.GroupLayout.PREFERRED_SIZE))\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)\n                    .addComponent(text_decript, javax.swing.GroupLayout.PREFERRED_SIZE, 143, javax.swing.GroupLayout.PREFERRED_SIZE)\n                    .addGroup(layout.createSequentialGroup()\n                        .addComponent(Text2)\n                        .addContainerGap())))\n        );\n        layout.setVerticalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)\n            .addGroup(layout.createSequentialGroup()\n                .addGap(38, 38, 38)\n                .addComponent(Text, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addGap(18, 18, 18)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                    .addComponent(text_Encript)\n                    .addComponent(text_decript, javax.swing.GroupLayout.PREFERRED_SIZE, 14, javax.swing.GroupLayout.PREFERRED_SIZE))\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                    .addComponent(Text1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n                    .addComponent(Text2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))\n                .addGap(46, 127, Short.MAX_VALUE)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                    .addComponent(btn_Encript)\n                    .addComponent(btn_Decript))\n                .addGap(29, 29, 29))\n        );\n\n        pack();\n    }// &lt;/editor-fold&gt;                        \n\n    private void TextActionPerformed(java.awt.event.ActionEvent evt) {                                     \n\n    }                                    \n\n    private void btn_EncriptActionPerformed(java.awt.event.ActionEvent evt) {                                            \n        Txt(encrypt(Text1.getText(), &quot;Marti&quot;));\n        Text1.setText(llegir());\n        \n        Text1.setEditable(false);\n    }                                           \n\n    private void btn_DecriptActionPerformed(java.awt.event.ActionEvent evt) {                                            \n        Text2.setText(decrypt(llegir(),&quot;Marti&quot;));\n        Text2.setText(llegir());\n        \n         Text1.setEditable(false);\n    }                                           \n\n    private void Text1ActionPerformed(java.awt.event.ActionEvent evt) {                                      \n        // TODO add your handling code here:\n    }                                     \n\n    private void Text2ActionPerformed(java.awt.event.ActionEvent evt) {                                      \n     \n    }                                     \n\n    /**\n     * @param args the command line arguments\n     */\n    \n \n    // Variables declaration - do not modify                     \n    private javax.swing.JTextField Text;\n    private javax.swing.JTextField Text1;\n    private javax.swing.JTextField Text2;\n    private javax.swing.JButton btn_Decript;\n    private javax.swing.JButton btn_Encript;\n    private javax.swing.JLabel text_Encript;\n    private javax.swing.JLabel text_decript;\n    // End of variables declaration                   \n\n    \npublic static void main(String args[]) {\n        /* Set the Nimbus look and feel */\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \n         */\n        try {\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\n                    break;\n                }\n            }\n        } catch (ClassNotFoundException ex) {\n            java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (InstantiationException ex) {\n            java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (IllegalAccessException ex) {\n            java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\n            java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        }\n        //&lt;/editor-fold&gt;\n\n        /* Create and display the form */\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new NewJFrame().setVisible(true);\n            }\n        });\n    }\n    \npublic static void Txt(String secret){\n    Path path = Paths.get(&quot;./encriptar.txt&quot;);\n    \n    try{\n        Files.writeString(path, secret, StandardCharsets.UTF_8);\n    }\n    catch (Exception e){\n        System.out.println(&quot;Error while encrypting: &quot;);\n    }\n}\n\npublic static String llegir(){\n    Path path = Paths.get(&quot;./encriptar.txt&quot;);\n    String algo = null;\n    try{\n        algo = Files.readString(path);\n    }catch(Exception e){\n        System.out.println(&quot;Error&quot;);\n    }\n    return algo;\n}\n  \n  private static SecretKeySpec secretKey;\n  private static byte[] key;\n \n  \n  public static void setKey(final String myKey) {\n    MessageDigest sha = null;\n    try {\n      key = myKey.getBytes(&quot;UTF-8&quot;);\n      sha = MessageDigest.getInstance(&quot;SHA-1&quot;);\n      key = sha.digest(key);\n      key = Arrays.copyOf(key, 16);\n      secretKey = new SecretKeySpec(key, &quot;AES&quot;);\n    } catch (NoSuchAlgorithmException | UnsupportedEncodingException e) {\n      e.printStackTrace();\n    }\n  }\n\n  public static String encrypt(final String strToEncrypt, final String secret) {\n    try {\n      setKey(secret);\n      Cipher cipher = Cipher.getInstance(&quot;AES/ECB/PKCS5Padding&quot;);\n      cipher.init(Cipher.ENCRYPT_MODE, secretKey);\n      return Base64.getEncoder()\n        .encodeToString(cipher.doFinal(strToEncrypt.getBytes(&quot;UTF-8&quot;)));\n    } catch (Exception e) {\n      System.out.println(&quot;Error while encrypting: &quot;);\n    }\n    return null;\n  }\n\n  public static String decrypt(final String strToDecrypt, final String secret) {\n    try {\n      setKey(secret);\n      Cipher cipher = Cipher.getInstance(&quot;AES/ECB/PKCS5PADDING&quot;);\n      cipher.init(Cipher.DECRYPT_MODE, secretKey);\n      return new String(cipher.doFinal(Base64.getDecoder()\n        .decode(strToDecrypt)));\n    } catch (Exception e) {\n      System.out.println(&quot;Error while decrypting: &quot; + e.toString());\n    }\n    return null;\n  } \n</code></pre>\n<p>I try to see if someone can know how to solve the error that I write above, thanks.</p>\n"},{"tags":["java","android","android-studio","arduino","hc-05"],"answers":[{"comments":[{"owner":{"account_id":18506691,"reputation":21,"user_id":13482837,"display_name":"Jezdi"},"score":0,"creation_date":1667462832,"post_id":74293529,"comment_id":131173533,"body_markdown":"So what i should post all android studio code?","body":"So what i should post all android studio code?"},{"owner":{"account_id":23471229,"reputation":656,"user_id":17524723,"display_name":"Peter Plesn&#237;k"},"score":0,"creation_date":1667492722,"post_id":74293529,"comment_id":131184792,"body_markdown":"Not all of it. `run()` method from  `ConnectedThread` class is enough. But first of all, try build your own solution as I suggest.","body":"Not all of it. <code>run()</code> method from  <code>ConnectedThread</code> class is enough. But first of all, try build your own solution as I suggest."},{"owner":{"account_id":18506691,"reputation":21,"user_id":13482837,"display_name":"Jezdi"},"score":0,"creation_date":1667552140,"post_id":74293529,"comment_id":131197626,"body_markdown":"I really have no idea how I could modify my code. You could help me somehow","body":"I really have no idea how I could modify my code. You could help me somehow"},{"owner":{"account_id":23471229,"reputation":656,"user_id":17524723,"display_name":"Peter Plesn&#237;k"},"score":0,"creation_date":1667636837,"post_id":74293529,"comment_id":131217366,"body_markdown":"I add modification your run method","body":"I add modification your run method"},{"owner":{"account_id":18506691,"reputation":21,"user_id":13482837,"display_name":"Jezdi"},"score":0,"creation_date":1667723901,"post_id":74293529,"comment_id":131231028,"body_markdown":"Okay I see but what should i do next to devide this message to 3 diferent text views?","body":"Okay I see but what should i do next to devide this message to 3 diferent text views?"},{"owner":{"account_id":23471229,"reputation":656,"user_id":17524723,"display_name":"Peter Plesn&#237;k"},"score":0,"creation_date":1667725674,"post_id":74293529,"comment_id":131231318,"body_markdown":"First of all try if is it working. Then use for example `startWith()` method for test if string start with specified substring. A as was replay to your second thread use google to find how use suggested solution.","body":"First of all try if is it working. Then use for example <code>startWith()</code> method for test if string start with specified substring. A as was replay to your second thread use google to find how use suggested solution."}],"tags":[],"owner":{"account_id":23471229,"reputation":656,"user_id":17524723,"display_name":"Peter Plesn&#237;k"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667581344,"creation_date":1667410795,"answer_id":74293529,"question_id":74290756,"body_markdown":"The problem with BT transmission is that the thread that receives the characters can deliver the message in arbitrary bursts. Therefore, it is necessary for the sender to mark the end of the message somehow. Here it can be the &quot;\\n&quot; character. So I suggest change the sending of data from the arduino, for example, as follows:\r\n\r\n    Serial1.print(&quot;Left Sensor &quot;); \r\n    Serial1.println(distanceL); \r\n    delay(500);\r\n    \r\n    Serial1.print(&quot;Right Sensor &quot;); \r\n    Serial1.println(distanceR); \r\n    delay(500);   \r\n    \r\n    Serial1.print(&quot;Center Sensor &quot;); \r\n    Serial1.println(distanceC); \r\n    delay(500);     \r\n\r\nThe program for receiving data from BT (which is not included) must be modified so that it stores the received characters in the buffer until the &quot;\\n&quot; character arrives. Only when the complete line arrives should it be sent to the main thread, which will find out what information was sent by searching for keywords (**Left Sensor**, **Right Sensor**, **Center Sensor**) and then display it in the appropriate textbox\r\n\r\nUpdate:\r\n\r\nModification your run method:\r\n\r\n    public void run() {\r\n        byte[] buffer = new byte[1024];  // buffer store for the stream\r\n        int c; // one byte from BT or -1 if end\r\n        int position =0; //position in the line\r\n        // Keep listening to the InputStream until an exception occurs\r\n        while (true) {\r\n            try {\r\n                // Read from the InputStream\r\n                c = mmInStream.read(); //read one byte from stream\r\n                if(c == -1) {  //if end of stream\r\n                    break; // stop receive\r\n                }\r\n                if (c==&#39;\\n&#39;){ //if end of line char arrives\r\n                    byte[] copyBuffer = Arrays.copyOf(buffer, position+1); //make copy of received line\r\n                    hesler.obtainMessage(MainActivity.MESSAGE_READ, position+1, -1, copyBuffer)\r\n                            .sendToTarget(); // Send the obtained bytes to the UI activity\r\n                    position=0; //start save chars again from beginning \r\n                }\r\n                buffer[position]=(byte) c; //store char to buffer\r\n                if (position&lt;1024) position++; //advance position for next char if not overflow buffer\r\n                \r\n    \r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n    \r\n                break;\r\n            }\r\n        }\r\n    }","title":"HC-05 Multiple data sending to android studio app","body":"<p>The problem with BT transmission is that the thread that receives the characters can deliver the message in arbitrary bursts. Therefore, it is necessary for the sender to mark the end of the message somehow. Here it can be the &quot;\\n&quot; character. So I suggest change the sending of data from the arduino, for example, as follows:</p>\n<pre><code>Serial1.print(&quot;Left Sensor &quot;); \nSerial1.println(distanceL); \ndelay(500);\n\nSerial1.print(&quot;Right Sensor &quot;); \nSerial1.println(distanceR); \ndelay(500);   \n\nSerial1.print(&quot;Center Sensor &quot;); \nSerial1.println(distanceC); \ndelay(500);     \n</code></pre>\n<p>The program for receiving data from BT (which is not included) must be modified so that it stores the received characters in the buffer until the &quot;\\n&quot; character arrives. Only when the complete line arrives should it be sent to the main thread, which will find out what information was sent by searching for keywords (<strong>Left Sensor</strong>, <strong>Right Sensor</strong>, <strong>Center Sensor</strong>) and then display it in the appropriate textbox</p>\n<p>Update:</p>\n<p>Modification your run method:</p>\n<pre><code>public void run() {\n    byte[] buffer = new byte[1024];  // buffer store for the stream\n    int c; // one byte from BT or -1 if end\n    int position =0; //position in the line\n    // Keep listening to the InputStream until an exception occurs\n    while (true) {\n        try {\n            // Read from the InputStream\n            c = mmInStream.read(); //read one byte from stream\n            if(c == -1) {  //if end of stream\n                break; // stop receive\n            }\n            if (c=='\\n'){ //if end of line char arrives\n                byte[] copyBuffer = Arrays.copyOf(buffer, position+1); //make copy of received line\n                hesler.obtainMessage(MainActivity.MESSAGE_READ, position+1, -1, copyBuffer)\n                        .sendToTarget(); // Send the obtained bytes to the UI activity\n                position=0; //start save chars again from beginning \n            }\n            buffer[position]=(byte) c; //store char to buffer\n            if (position&lt;1024) position++; //advance position for next char if not overflow buffer\n            \n\n        } catch (IOException e) {\n            e.printStackTrace();\n\n            break;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18506691,"reputation":21,"user_id":13482837,"display_name":"Jezdi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667581344,"creation_date":1667398957,"question_id":74290756,"body_markdown":"I&#39;m trying to make android applications with the hc 05 module and 3 ultrasonic sensors. It consists in the fact that each sensor sends information about the distance from the obstacle to the application, which is divided into 3 textviews and each of them displays information on how many cm are left. And here comes my problem that I have no idea how I could divide the data sent by the module to the application into 3 independent textview.\r\n\r\n    // arduino code\r\n    int LtriggerPin = 13;\r\n    int LechoPin = 12;  \r\n\r\n    int RtriggerPin = 11;\r\n    int RechoPin = 10;  \r\n\r\n    int CtriggerPin = 9;\r\n    int CechoPin = 8;  \r\n\r\n    int info = 0;\r\n    int state = 0;\r\n\r\n    void setup() { \r\n\r\n     Serial1.begin(9600);  \r\n    \r\n     pinMode(LtriggerPin, OUTPUT); \r\n     pinMode(LechoPin, INPUT);\r\n\r\n     pinMode(RtriggerPin, OUTPUT); \r\n     pinMode(RechoPin, INPUT);\r\n\r\n     pinMode(CtriggerPin, OUTPUT); \r\n     pinMode(CechoPin, INPUT);\r\n  \r\n     }\r\n\r\n     void loop(){ \r\n \r\n        sensor();\r\n     }\r\n\r\n\r\n\r\n\r\n     void sensor() { \r\n  \r\n     int durationL, distanceL;  \r\n     int durationR, distanceR;   \r\n     int durationC, distanceC;        \r\n  \r\n     digitalWrite(LtriggerPin, HIGH); \r\n     delay(10);\r\n      digitalWrite(LtriggerPin, LOW);\r\n     durationL = pulseIn(LechoPin, HIGH); \r\n     distanceL = (durationL/2) / 29.1; \r\n\r\n     digitalWrite(RtriggerPin, HIGH); \r\n     delay(10);\r\n     digitalWrite(RtriggerPin, LOW);\r\n     durationR = pulseIn(RechoPin, HIGH); \r\n      distanceR = (durationR/2) / 29.1; \r\n\r\n     digitalWrite(CtriggerPin, HIGH); \r\n     delay(10);\r\n     digitalWrite(CtriggerPin, LOW);\r\n     durationC = pulseIn(CechoPin, HIGH); \r\n     distanceC = (durationC/2) / 29.1; \r\n  \r\n  \r\n     Serial1.print(&quot;Left Sensor &quot;); \r\n     Serial1.print((String) distanceL + &quot; cm&quot; ); \r\n     delay(500);   \r\n     Serial1.println(&quot; &quot;);  \r\n\r\n     Serial1.print(&quot;Right Sensor &quot;); \r\n     Serial1.print((String) distanceR + &quot; cm&quot; ); \r\n     delay(500);   \r\n     Serial1.println(&quot; &quot;);  \r\n\r\n     Serial1.print(&quot;Center Sensor &quot;); \r\n     Serial1.print((String) distanceC + &quot; cm&quot; ); \r\n     delay(500);   \r\n     Serial1.println(&quot; &quot;);  \r\n      Serial1.println(&quot; &quot;); \r\n     Serial1.println(&quot; &quot;); \r\n      }\r\n\r\n   / /  /  / / Android Studio Code\r\n\r\n     handler = new Handler(Looper.getMainLooper()){\r\n            @Override\r\n            public void handleMessage(Message msg){\r\n                if(msg.what == MESSAGE_READ){\r\n                    String readMessage = null;\r\n                    readMessage = new String((byte[]) msg.obj, StandardCharsets.UTF_8);\r\n                    TvL.setText(readMessage);\r\n                    TvR.setText(readMessage);\r\n                    TvC.setText(readMessage);\r\n\r\n                }\r\n\r\n                if(msg.what == CONNECTING_STATUS){\r\n                    char[] sConnected;\r\n                    if(msg.arg1 == 1)\r\n                        Tv3.setText(getString(R.string.BTConnected) + msg.obj);\r\n                    else\r\n                        Tv3.setText(getString(R.string.BTconnFail));\r\n                }\r\n            }\r\n\r\n\r\n        };\r\n\r\n\r\n\r\n\r\n\r\n        @Override\r\n    public void run() {\r\n        byte[] buffer = new byte[1024];  // buffer store for the stream\r\n        int bytes; // bytes returned from read()\r\n        // Keep listening to the InputStream until an exception occurs\r\n        while (true) {\r\n            try {\r\n                // Read from the InputStream\r\n                bytes = mmInStream.available();\r\n                if(bytes != 0) {\r\n                    buffer = new byte[1024];\r\n                    SystemClock.sleep(100); //pause and wait for rest of data. Adjust this depending on your sending speed.\r\n                    bytes = mmInStream.available(); // how many bytes are ready to be read?\r\n                    bytes = mmInStream.read(buffer, 0, bytes); // record how many bytes we actually read\r\n                    hesler.obtainMessage(MainActivity.MESSAGE_READ, bytes, -1, buffer)\r\n                            .sendToTarget(); // Send the obtained bytes to the UI activity\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"HC-05 Multiple data sending to android studio app","body":"<p>I'm trying to make android applications with the hc 05 module and 3 ultrasonic sensors. It consists in the fact that each sensor sends information about the distance from the obstacle to the application, which is divided into 3 textviews and each of them displays information on how many cm are left. And here comes my problem that I have no idea how I could divide the data sent by the module to the application into 3 independent textview.</p>\n<pre><code>// arduino code\nint LtriggerPin = 13;\nint LechoPin = 12;  \n\nint RtriggerPin = 11;\nint RechoPin = 10;  \n\nint CtriggerPin = 9;\nint CechoPin = 8;  \n\nint info = 0;\nint state = 0;\n\nvoid setup() { \n\n Serial1.begin(9600);  \n\n pinMode(LtriggerPin, OUTPUT); \n pinMode(LechoPin, INPUT);\n\n pinMode(RtriggerPin, OUTPUT); \n pinMode(RechoPin, INPUT);\n\n pinMode(CtriggerPin, OUTPUT); \n pinMode(CechoPin, INPUT);\n\n }\n\n void loop(){ \n\n    sensor();\n }\n\n\n\n\n void sensor() { \n\n int durationL, distanceL;  \n int durationR, distanceR;   \n int durationC, distanceC;        \n\n digitalWrite(LtriggerPin, HIGH); \n delay(10);\n  digitalWrite(LtriggerPin, LOW);\n durationL = pulseIn(LechoPin, HIGH); \n distanceL = (durationL/2) / 29.1; \n\n digitalWrite(RtriggerPin, HIGH); \n delay(10);\n digitalWrite(RtriggerPin, LOW);\n durationR = pulseIn(RechoPin, HIGH); \n  distanceR = (durationR/2) / 29.1; \n\n digitalWrite(CtriggerPin, HIGH); \n delay(10);\n digitalWrite(CtriggerPin, LOW);\n durationC = pulseIn(CechoPin, HIGH); \n distanceC = (durationC/2) / 29.1; \n\n\n Serial1.print(&quot;Left Sensor &quot;); \n Serial1.print((String) distanceL + &quot; cm&quot; ); \n delay(500);   \n Serial1.println(&quot; &quot;);  \n\n Serial1.print(&quot;Right Sensor &quot;); \n Serial1.print((String) distanceR + &quot; cm&quot; ); \n delay(500);   \n Serial1.println(&quot; &quot;);  \n\n Serial1.print(&quot;Center Sensor &quot;); \n Serial1.print((String) distanceC + &quot; cm&quot; ); \n delay(500);   \n Serial1.println(&quot; &quot;);  \n  Serial1.println(&quot; &quot;); \n Serial1.println(&quot; &quot;); \n  }\n</code></pre>\n<p>/ /  /  / / Android Studio Code</p>\n<pre><code> handler = new Handler(Looper.getMainLooper()){\n        @Override\n        public void handleMessage(Message msg){\n            if(msg.what == MESSAGE_READ){\n                String readMessage = null;\n                readMessage = new String((byte[]) msg.obj, StandardCharsets.UTF_8);\n                TvL.setText(readMessage);\n                TvR.setText(readMessage);\n                TvC.setText(readMessage);\n\n            }\n\n            if(msg.what == CONNECTING_STATUS){\n                char[] sConnected;\n                if(msg.arg1 == 1)\n                    Tv3.setText(getString(R.string.BTConnected) + msg.obj);\n                else\n                    Tv3.setText(getString(R.string.BTconnFail));\n            }\n        }\n\n\n    };\n\n\n\n\n\n    @Override\npublic void run() {\n    byte[] buffer = new byte[1024];  // buffer store for the stream\n    int bytes; // bytes returned from read()\n    // Keep listening to the InputStream until an exception occurs\n    while (true) {\n        try {\n            // Read from the InputStream\n            bytes = mmInStream.available();\n            if(bytes != 0) {\n                buffer = new byte[1024];\n                SystemClock.sleep(100); //pause and wait for rest of data. Adjust this depending on your sending speed.\n                bytes = mmInStream.available(); // how many bytes are ready to be read?\n                bytes = mmInStream.read(buffer, 0, bytes); // record how many bytes we actually read\n                hesler.obtainMessage(MainActivity.MESSAGE_READ, bytes, -1, buffer)\n                        .sendToTarget(); // Send the obtained bytes to the UI activity\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n\n            break;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","methods","double","square-root"],"comments":[{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1667624766,"post_id":74320504,"comment_id":131215988,"body_markdown":"Welcome to Stack Overflow! We know you are a new contributor. To learn more about this community and how we can help you, please start with the tour and read [ask] and its linked resources","body":"Welcome to Stack Overflow! We know you are a new contributor. To learn more about this community and how we can help you, please start with the tour and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and its linked resources"}],"owner":{"account_id":26830524,"reputation":21,"user_id":20418571,"display_name":"PizzaPossum"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1667580966,"creation_date":1667580966,"question_id":74320504,"body_markdown":"I am tasked with creating a program in java which calculates the square root of a double and goes through each step of calculating it manually. The requirements are:\r\n\r\n1) split the number into number pairs including the decimal point (1234.67 -&gt; 12 34 67) to prepare for subtraction. If the number is uneven, a zero must populate (234.67 -&gt; 02 34 67)\r\n2) Print each pair (each pair is a minuend), one at a time, into the console and have the console show the subtraction. Subtrahend starts at 1 and so long as the result &gt;= 0, the subtrahend increases by 2. \r\n3) The count of subtrahends is the first number of the final square root output, the count of subtrahends from the second round is the second number of the square root output, etc.\r\n4) From the first subtrahend round, take the remainder and join it to the second number pair, this is the new minuend for the second round of subtraction\r\n5) Calculate the second subtrahend in round two by doubling the first number of the square root output and adding 1 in the first digit position\r\n6) Repeat step 2, increasing by 2 each time\r\n7) Step 5 and 6 repeat until two decimal places are reached\r\n\r\nMy question is with the number pairs in step 1 and getting the subsequent subtrahends after step 3 as a number to calculate. We are given the following visual:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/4uHuM.png)](https://i.stack.imgur.com/4uHuM.png)\r\n\r\nMy current thought is to put the double into a string and then tell java that each number pair is a number. I have a method created which creates a string from a double, but I am still missing how to incorporate the decimal place numbers. From my C class, I remember multiplying decimals by 100 to &quot;store&quot; the decimal numbers before converting them back later with another division by 100. I&#39;m sure there is a java library that is able to do this but we are specifically not allowed to use them.\r\n\r\nI think I should be able to continue on with the rest of the problem once I get past this point of splitting the number into number pairs inclusive of the decimals. \r\n\r\n**This is also my first stack post so if you have any tips on how to better write questions for future posts that would be helpful as well.** \r\n\r\nThis is my current array method to store a given double into an array:\r\n\r\n```\r\npublic static void printArray(int [] a) //printer helper method\r\n{\r\n   for(int i = 0; i &lt; a.length; i++)\r\n   {\r\n      System.out.print(a[i]);\r\n   }\r\n}\r\n\r\npublic static void stringDigits (double n) //begin string method\r\n{\r\n   int a [] = new int [15];\r\n   int i = 0;\r\n   int stringLength = 0;\r\n\r\n   while(n &gt; 1)\r\n   {\r\n      a[i] = (int) (n % 10);\r\n      n = n / 10;\r\n      i++;\r\n   }\r\n\r\n   for(int j = 0; a[j] != 0; j++)\r\n   {\r\n      System.out.print(a[j]);\r\n      if(a[j] != 0)\r\n      {\r\n         stringLength++;\r\n      }\r\n   }\r\n\r\n   System.out.println(&quot;&quot;);\r\n   System.out.println(stringLength);\r\n\r\n   int[] numbersArray = new int[stringLength];\r\n   int g = 0;\r\n\r\n   for(int k = a.length-1; g &lt; numbersArray.length; k--)\r\n   {\r\n      if(a[k] &gt; 0)\r\n      {\r\n         numbersArray[g] = a[k];\r\n         g++;\r\n      }\r\n   }\r\n   System.out.println(&quot;&quot;);\r\n   printArray(numbersArray);\r\n   \r\n}\r\n```\r\n\r\n\r\nI&#39;ve tried at first to store the value of the double into an int[] a array so that I can then select the numbers in pairs and then somehow combine them back into numbers. So if the array is {1,2,3,4,5,6} my next idea is to get java to convert a[0] + a[1] into the number 12 to prepare for the subtraction step.\r\n\r\nThis link looks close but does anyone know why the numbers are &quot;10l&quot; and &quot;100l&quot; etc? I&#39;ve tested some of the answers and they dont produce the proper squareroot compared to the sqrt function from the math library.\r\n\r\nhttps://stackoverflow.com/questions/35013004/create-a-program-that-calculates-the-square-root-of-a-number-without-using-math","title":"Java method to calculate the square root via minuend and subtrahend and print each step","body":"<p>I am tasked with creating a program in java which calculates the square root of a double and goes through each step of calculating it manually. The requirements are:</p>\n<ol>\n<li>split the number into number pairs including the decimal point (1234.67 -&gt; 12 34 67) to prepare for subtraction. If the number is uneven, a zero must populate (234.67 -&gt; 02 34 67)</li>\n<li>Print each pair (each pair is a minuend), one at a time, into the console and have the console show the subtraction. Subtrahend starts at 1 and so long as the result &gt;= 0, the subtrahend increases by 2.</li>\n<li>The count of subtrahends is the first number of the final square root output, the count of subtrahends from the second round is the second number of the square root output, etc.</li>\n<li>From the first subtrahend round, take the remainder and join it to the second number pair, this is the new minuend for the second round of subtraction</li>\n<li>Calculate the second subtrahend in round two by doubling the first number of the square root output and adding 1 in the first digit position</li>\n<li>Repeat step 2, increasing by 2 each time</li>\n<li>Step 5 and 6 repeat until two decimal places are reached</li>\n</ol>\n<p>My question is with the number pairs in step 1 and getting the subsequent subtrahends after step 3 as a number to calculate. We are given the following visual:</p>\n<p><a href=\"https://i.stack.imgur.com/4uHuM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4uHuM.png\" alt=\"enter image description here\" /></a></p>\n<p>My current thought is to put the double into a string and then tell java that each number pair is a number. I have a method created which creates a string from a double, but I am still missing how to incorporate the decimal place numbers. From my C class, I remember multiplying decimals by 100 to &quot;store&quot; the decimal numbers before converting them back later with another division by 100. I'm sure there is a java library that is able to do this but we are specifically not allowed to use them.</p>\n<p>I think I should be able to continue on with the rest of the problem once I get past this point of splitting the number into number pairs inclusive of the decimals.</p>\n<p><strong>This is also my first stack post so if you have any tips on how to better write questions for future posts that would be helpful as well.</strong></p>\n<p>This is my current array method to store a given double into an array:</p>\n<pre><code>public static void printArray(int [] a) //printer helper method\n{\n   for(int i = 0; i &lt; a.length; i++)\n   {\n      System.out.print(a[i]);\n   }\n}\n\npublic static void stringDigits (double n) //begin string method\n{\n   int a [] = new int [15];\n   int i = 0;\n   int stringLength = 0;\n\n   while(n &gt; 1)\n   {\n      a[i] = (int) (n % 10);\n      n = n / 10;\n      i++;\n   }\n\n   for(int j = 0; a[j] != 0; j++)\n   {\n      System.out.print(a[j]);\n      if(a[j] != 0)\n      {\n         stringLength++;\n      }\n   }\n\n   System.out.println(&quot;&quot;);\n   System.out.println(stringLength);\n\n   int[] numbersArray = new int[stringLength];\n   int g = 0;\n\n   for(int k = a.length-1; g &lt; numbersArray.length; k--)\n   {\n      if(a[k] &gt; 0)\n      {\n         numbersArray[g] = a[k];\n         g++;\n      }\n   }\n   System.out.println(&quot;&quot;);\n   printArray(numbersArray);\n   \n}\n</code></pre>\n<p>I've tried at first to store the value of the double into an int[] a array so that I can then select the numbers in pairs and then somehow combine them back into numbers. So if the array is {1,2,3,4,5,6} my next idea is to get java to convert a[0] + a[1] into the number 12 to prepare for the subtraction step.</p>\n<p>This link looks close but does anyone know why the numbers are &quot;10l&quot; and &quot;100l&quot; etc? I've tested some of the answers and they dont produce the proper squareroot compared to the sqrt function from the math library.</p>\n<p><a href=\"https://stackoverflow.com/questions/35013004/create-a-program-that-calculates-the-square-root-of-a-number-without-using-math\">Create a program that calculates the square root of a number without using Math.sqrt</a></p>\n"},{"tags":["java","node.js","integration"],"comments":[{"owner":{"account_id":2542209,"reputation":769,"user_id":2207769,"accept_rate":71,"display_name":"Mahesh Guruswamy"},"score":2,"creation_date":1375450787,"post_id":18018236,"comment_id":26351493,"body_markdown":"Easiest thing to do is test it out and see how various technologies perform against your requirements. Also keep in mind that infrastructure is not as expensive as it was 10 years ago. Spinnning up new server instances to support load is trivial these days.","body":"Easiest thing to do is test it out and see how various technologies perform against your requirements. Also keep in mind that infrastructure is not as expensive as it was 10 years ago. Spinnning up new server instances to support load is trivial these days."},{"owner":{"account_id":1713484,"reputation":8917,"user_id":1571073,"display_name":"randunel"},"score":1,"creation_date":1375454105,"post_id":18018236,"comment_id":26353752,"body_markdown":"Why choose some other technology, when you can outsource the cpu-heavy JS code to another thread?\nCheck out threads-a-gogo https://github.com/xk/node-threads-a-gogo and other nodejs threading tools :)","body":"Why choose some other technology, when you can outsource the cpu-heavy JS code to another thread? Check out threads-a-gogo <a href=\"https://github.com/xk/node-threads-a-gogo\" rel=\"nofollow noreferrer\">github.com/xk/node-threads-a-gogo</a> and other nodejs threading tools :)"},{"owner":{"account_id":1061079,"reputation":215,"user_id":1062699,"display_name":"gev"},"score":0,"creation_date":1375456309,"post_id":18018236,"comment_id":26355250,"body_markdown":"Thanks a lot guys, the nodejs threading tools seems what I was looking for. I will try that for sure. :)","body":"Thanks a lot guys, the nodejs threading tools seems what I was looking for. I will try that for sure. :)"},{"owner":{"account_id":1582170,"reputation":18564,"user_id":1467304,"accept_rate":80,"display_name":"MobA11y"},"score":2,"creation_date":1375464000,"post_id":18018236,"comment_id":26359525,"body_markdown":"You could also look into native c++ extensions.  A lot of use cases that would run better in Java than Node, C++ will run even better than Java.  http://syskall.com/how-to-write-your-own-native-nodejs-extension/index.html/","body":"You could also look into native c++ extensions.  A lot of use cases that would run better in Java than Node, C++ will run even better than Java.  <a href=\"http://syskall.com/how-to-write-your-own-native-nodejs-extension/index.html/\" rel=\"nofollow noreferrer\">syskall.com/how-to-write-your-own-native-nodejs-extension/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":2739326,"reputation":1254,"user_id":5299546,"accept_rate":69,"display_name":"Tornike Shavishvili"},"score":0,"creation_date":1666338785,"post_id":18851974,"comment_id":130917906,"body_markdown":"Hi is this module still in maintained? no publish or commit for over a year . . .","body":"Hi is this module still in maintained? no publish or commit for over a year . . ."}],"tags":[],"owner":{"account_id":438331,"reputation":13843,"user_id":826532,"accept_rate":82,"display_name":"JustDanyul"},"comment_count":1,"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1379426367,"creation_date":1379426367,"answer_id":18851974,"question_id":18018236,"body_markdown":"You can intergrate NodeJS with Java using [node-java][1].\r\n\r\n\r\n  [1]: https://github.com/nearinfinity/node-java","title":"How to integrate Java with nodejs for handling CPU-heavy tasks?","body":"<p>You can intergrate NodeJS with Java using <a href=\"https://github.com/nearinfinity/node-java\" rel=\"noreferrer\">node-java</a>.</p>\n"},{"comments":[{"owner":{"account_id":1061079,"reputation":215,"user_id":1062699,"display_name":"gev"},"score":1,"creation_date":1472203160,"post_id":38623920,"comment_id":65668394,"body_markdown":"Thanks for the answer. The question was asked 3 years ago. Current conclusion: the message brokers like rabbit mq, or kafka (as a distributed solution) can actually help to avoid doing these kinds of integrations. Also, the computationally heavy tasks can be delegated to specialized modules like apache spark. In general, at this stage, lambda architecture is the answer to the question I believe.","body":"Thanks for the answer. The question was asked 3 years ago. Current conclusion: the message brokers like rabbit mq, or kafka (as a distributed solution) can actually help to avoid doing these kinds of integrations. Also, the computationally heavy tasks can be delegated to specialized modules like apache spark. In general, at this stage, lambda architecture is the answer to the question I believe."},{"owner":{"account_id":6811028,"reputation":415,"user_id":6376299,"display_name":"dryleaf"},"score":0,"creation_date":1539052458,"post_id":38623920,"comment_id":92350904,"body_markdown":"On what Java version does J2V8 runs? What&#39;s the minimum Java version requirements?","body":"On what Java version does J2V8 runs? What&#39;s the minimum Java version requirements?"}],"tags":[],"owner":{"account_id":1123290,"reputation":2500,"user_id":1111109,"accept_rate":83,"display_name":"irbull"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1469656843,"creation_date":1469656843,"answer_id":38623920,"question_id":18018236,"body_markdown":"As mentioned in a previous answer, you can use node-java which is an npm module that talks to Java. You can also use [J2V8](http://eclipsesource.com/blogs/2016/07/20/running-node-js-on-the-jvm/) which wraps Node.js as a Java library and provides a Node.js API in Java.","title":"How to integrate Java with nodejs for handling CPU-heavy tasks?","body":"<p>As mentioned in a previous answer, you can use node-java which is an npm module that talks to Java. You can also use <a href=\"http://eclipsesource.com/blogs/2016/07/20/running-node-js-on-the-jvm/\" rel=\"noreferrer\">J2V8</a> which wraps Node.js as a Java library and provides a Node.js API in Java.</p>\n"},{"tags":[],"owner":{"account_id":1061079,"reputation":215,"user_id":1062699,"display_name":"gev"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667580580,"creation_date":1472204279,"answer_id":39163171,"question_id":18018236,"body_markdown":"The answer is lambda architecture.\r\n\r\nNodeJs is nice by itself - handling fast queries in a lightweight manner, not doing any extra computations on data. \r\n\r\nThe CPU heavy tasks can be easily delegated to specialized components based on JVM (well, the most famous ones are on JVM). This is nicely implemented by using message brokers and microservices. \r\n\r\nAn event-based architecture, where nodejs can be hooked up to databases like Cassandra or Mongodb and cluster computing frameworks like Apache Spark (not necessarily, though, it depends on the problem) to handle the cpu-heavy parts of the system. And lightweight containers add an icing to the cake by providing nice isolated runtime environments for each of the components to live in.\r\n\r\nThat&#39;s my conclusion so far regarding this question. \r\nI think the suggestions above sort of eliminate the need to wrap node under java or other JVM based solution for cpu-heavy tasks.\r\n","title":"How to integrate Java with nodejs for handling CPU-heavy tasks?","body":"<p>The answer is lambda architecture.</p>\n<p>NodeJs is nice by itself - handling fast queries in a lightweight manner, not doing any extra computations on data.</p>\n<p>The CPU heavy tasks can be easily delegated to specialized components based on JVM (well, the most famous ones are on JVM). This is nicely implemented by using message brokers and microservices.</p>\n<p>An event-based architecture, where nodejs can be hooked up to databases like Cassandra or Mongodb and cluster computing frameworks like Apache Spark (not necessarily, though, it depends on the problem) to handle the cpu-heavy parts of the system. And lightweight containers add an icing to the cake by providing nice isolated runtime environments for each of the components to live in.</p>\n<p>That's my conclusion so far regarding this question.\nI think the suggestions above sort of eliminate the need to wrap node under java or other JVM based solution for cpu-heavy tasks.</p>\n"},{"tags":[],"owner":{"account_id":12922484,"reputation":565,"user_id":9443288,"display_name":"Luke"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551851357,"creation_date":1551851357,"answer_id":55016396,"question_id":18018236,"body_markdown":"NodeJS is based on the v8 javascript engine which is written in c++.\r\n\r\nIt is therefore possible to write fully native addons in c++ for NodeJS. Check out some of these resources:\r\n\r\n- https://github.com/nodejs/node-addon-api\r\n\r\n- https://github.com/nodejs/node-addon-examples","title":"How to integrate Java with nodejs for handling CPU-heavy tasks?","body":"<p>NodeJS is based on the v8 javascript engine which is written in c++.</p>\n\n<p>It is therefore possible to write fully native addons in c++ for NodeJS. Check out some of these resources:</p>\n\n<ul>\n<li><p><a href=\"https://github.com/nodejs/node-addon-api\" rel=\"nofollow noreferrer\">https://github.com/nodejs/node-addon-api</a></p></li>\n<li><p><a href=\"https://github.com/nodejs/node-addon-examples\" rel=\"nofollow noreferrer\">https://github.com/nodejs/node-addon-examples</a></p></li>\n</ul>\n"}],"owner":{"account_id":1061079,"reputation":215,"user_id":1062699,"display_name":"gev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37901,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":18851974,"answer_count":4,"score":17,"last_activity_date":1667580580,"creation_date":1375450470,"question_id":18018236,"body_markdown":"I am trying to pick a right web technology both for I/O heavy and CPU heavy tasks. NodeJs is perfect for handling large load and it also can be scaled out. However, I am stuck with the cpu heavy part. Is it possible to integrate another technology (e.g. Java) into node, so that I will have it running my algorithms in other threads and then use the results again in node. Is there any existing solution? Any other suggestions will be very good.  ","title":"How to integrate Java with nodejs for handling CPU-heavy tasks?","body":"<p>I am trying to pick a right web technology both for I/O heavy and CPU heavy tasks. NodeJs is perfect for handling large load and it also can be scaled out. However, I am stuck with the cpu heavy part. Is it possible to integrate another technology (e.g. Java) into node, so that I will have it running my algorithms in other threads and then use the results again in node. Is there any existing solution? Any other suggestions will be very good.  </p>\n"},{"tags":["java","list","sorting","comparator"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":2,"creation_date":1667574070,"post_id":74318979,"comment_id":131205520,"body_markdown":"If you have an `Employer e` available before that `Collections#sort` call, it would just be `.thenComparing(e::getYearsOfEmployment)`.","body":"If you have an <code>Employer e</code> available before that <code>Collections#sort</code> call, it would just be <code>.thenComparing(e::getYearsOfEmployment)</code>."},{"owner":{"account_id":6154212,"reputation":696,"user_id":7064415,"accept_rate":83,"display_name":"rdv"},"score":0,"creation_date":1667577874,"post_id":74318979,"comment_id":131206948,"body_markdown":"@Rogue Perfect, this worked. If you make this an answer, I will accept it.","body":"@Rogue Perfect, this worked. If you make this an answer, I will accept it."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1667577958,"post_id":74318979,"comment_id":131206973,"body_markdown":"You can give it to @Alexander, he put the effort into a fully fleshed-out answer.","body":"You can give it to @Alexander, he put the effort into a fully fleshed-out answer."},{"owner":{"account_id":6154212,"reputation":696,"user_id":7064415,"accept_rate":83,"display_name":"rdv"},"score":0,"creation_date":1667578457,"post_id":74318979,"comment_id":131207175,"body_markdown":"OK. Thanks anyway, you were superfast, which was exactly what I needed now :)","body":"OK. Thanks anyway, you were superfast, which was exactly what I needed now :)"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667580474,"creation_date":1667575516,"answer_id":74319329,"question_id":74318979,"body_markdown":"As [*@Rogue* has said in the comment](https://stackoverflow.com/questions/74318979/sorting-a-list-of-objects-using-multiple-fields-java-8#comment131205520_74318979) you need a reference to an instance of `Employer`.\r\n\r\nIn case if all `Person` instances belong to the same `Employer`, then you can use it in the *keyExtractor* function of `thenComparing()` (*alternatively, you can use* `thenComparingInt()`):\r\n\r\n```\r\nList&lt;Person&gt; persons = Arrays.asList(new Person[]{p1, p2, p3, p4});\r\nEmployer employer = // initializing the employer\r\n\r\nCollections.sort(persons, Comparator.comparing(Person::getAge)\r\n    .thenComparing(Person::getYearsOfEducation)\r\n    .thenComparing(employer::getYearsOfEmployment);\r\n```\r\n\r\nWhere `employer::getYearsOfEmployment` is an equivalent of the following lambda expression:\r\n\r\n```\r\nperson -&gt; employer.getYearsOfEmployment(person)\r\n```\r\n\r\nAnd it should be qualified as a [Reference to an Instance Method of a Particular Object][1]\r\n\r\n   [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html#object","title":"Sorting a list of objects using multiple fields (Java 8)","body":"<p>As <a href=\"https://stackoverflow.com/questions/74318979/sorting-a-list-of-objects-using-multiple-fields-java-8#comment131205520_74318979\"><em>@Rogue</em> has said in the comment</a> you need a reference to an instance of <code>Employer</code>.</p>\n<p>In case if all <code>Person</code> instances belong to the same <code>Employer</code>, then you can use it in the <em>keyExtractor</em> function of <code>thenComparing()</code> (<em>alternatively, you can use</em> <code>thenComparingInt()</code>):</p>\n<pre><code>List&lt;Person&gt; persons = Arrays.asList(new Person[]{p1, p2, p3, p4});\nEmployer employer = // initializing the employer\n\nCollections.sort(persons, Comparator.comparing(Person::getAge)\n    .thenComparing(Person::getYearsOfEducation)\n    .thenComparing(employer::getYearsOfEmployment);\n</code></pre>\n<p>Where <code>employer::getYearsOfEmployment</code> is an equivalent of the following lambda expression:</p>\n<pre><code>person -&gt; employer.getYearsOfEmployment(person)\n</code></pre>\n<p>And it should be qualified as a <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html#object\" rel=\"nofollow noreferrer\">Reference to an Instance Method of a Particular Object</a></p>\n"}],"owner":{"account_id":6154212,"reputation":696,"user_id":7064415,"accept_rate":83,"display_name":"rdv"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":331,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74319329,"answer_count":1,"score":0,"last_activity_date":1667580474,"creation_date":1667573850,"question_id":74318979,"body_markdown":"Let&#39;s say I have a class `Person` that has methods `getAge()` and `getYearsOfEducation()`, both returning `int`s. Then I have another class `Employer` that has a method `getYearsOfEmployment(Person p)` for a given `Person`, also returning an `int`. \r\n\r\n    Employer e = new Employer();\r\n    Person p1 = new Person(26, 3) // age and years of education\r\n    Person p2 = new Person(30, 4) \r\n    Person p3 = new Person(28, 5) // let&#39;s say that e.getYearsOfEmployment(p3) returns 10\r\n    Person p4 = new Person(28, 5) // let&#39;s say that e.getYearsOfEmployment(p4) returns 8\r\n     \r\nWhen I have a list of `Person`s (added randomly to the list), I want it sorted (1) by age, (2) by years of education, and (3) by years of employment (always least first) -- so in the above example, the final order should be `p1`, `p4`, `p3`, `p2`. It is clear to me how to sort by age and years of education, but I cannot figure out how to do the final sorting by years of employment since that is not a method of `Person`.\r\n\r\n    List&lt;Person&gt; persons = Arrays.asList(new Person[]{p1, p2, p3, p4});    \r\n    Collections.sort(persons, Comparator.comparing(Person::getAge)\r\n            .thenComparing(Person::getYearsOfEducation)\r\n            .thenComparing(...));\r\n\r\nIs what I want to do possible?\r\n","title":"Sorting a list of objects using multiple fields (Java 8)","body":"<p>Let's say I have a class <code>Person</code> that has methods <code>getAge()</code> and <code>getYearsOfEducation()</code>, both returning <code>int</code>s. Then I have another class <code>Employer</code> that has a method <code>getYearsOfEmployment(Person p)</code> for a given <code>Person</code>, also returning an <code>int</code>.</p>\n<pre><code>Employer e = new Employer();\nPerson p1 = new Person(26, 3) // age and years of education\nPerson p2 = new Person(30, 4) \nPerson p3 = new Person(28, 5) // let's say that e.getYearsOfEmployment(p3) returns 10\nPerson p4 = new Person(28, 5) // let's say that e.getYearsOfEmployment(p4) returns 8\n \n</code></pre>\n<p>When I have a list of <code>Person</code>s (added randomly to the list), I want it sorted (1) by age, (2) by years of education, and (3) by years of employment (always least first) -- so in the above example, the final order should be <code>p1</code>, <code>p4</code>, <code>p3</code>, <code>p2</code>. It is clear to me how to sort by age and years of education, but I cannot figure out how to do the final sorting by years of employment since that is not a method of <code>Person</code>.</p>\n<pre><code>List&lt;Person&gt; persons = Arrays.asList(new Person[]{p1, p2, p3, p4});    \nCollections.sort(persons, Comparator.comparing(Person::getAge)\n        .thenComparing(Person::getYearsOfEducation)\n        .thenComparing(...));\n</code></pre>\n<p>Is what I want to do possible?</p>\n"},{"tags":["java","gradle","build.gradle","gradle-plugin"],"answers":[{"tags":[],"owner":{"account_id":7719031,"reputation":2254,"user_id":5845802,"display_name":"PrasadU"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667579226,"creation_date":1667579226,"answer_id":74320151,"question_id":74310857,"body_markdown":"\r\nin the project &#39;A&#39;  \r\n\r\nsettings.gradle\r\n```\r\ninclude &#39;:prjB&#39;\r\nproject (&#39;:prjB&#39;).projectDir = new File(settingsDir, &#39;../relativePath&#39;)\r\n```\r\nbuild.gradle\r\n```\r\ndef prjBExists = file(&#39;path-to-prjB&#39;).exists\r\n\r\ndependencies {\r\n...\r\n\r\n   if (prjBExists) {\r\n       implementation project(&#39;:prjB&#39;)\r\n   } else {\r\n      implementation &#39;g:a:v&#39;\r\n   }\r\n}\r\n```\r\n\r\nPS - this referencing is under discussions as gradle-8 is expected to deprecate ...\r\n","title":"How to reference local version of a project in another Gradle project dependencies","body":"<p>in the project 'A'</p>\n<p>settings.gradle</p>\n<pre><code>include ':prjB'\nproject (':prjB').projectDir = new File(settingsDir, '../relativePath')\n</code></pre>\n<p>build.gradle</p>\n<pre><code>def prjBExists = file('path-to-prjB').exists\n\ndependencies {\n...\n\n   if (prjBExists) {\n       implementation project(':prjB')\n   } else {\n      implementation 'g:a:v'\n   }\n}\n</code></pre>\n<p>PS - this referencing is under discussions as gradle-8 is expected to deprecate ...</p>\n"},{"comments":[{"owner":{"account_id":26813083,"reputation":11,"user_id":20403385,"display_name":"Swaranga Sarma"},"score":0,"creation_date":1667589499,"post_id":74320405,"comment_id":131210584,"body_markdown":"If I was using explicit version number for project B in the build.gradle file of project A, then should I remove that version number? I wanted to me more explicit so that I KNOW that the local version is being used, how do I do that.","body":"If I was using explicit version number for project B in the build.gradle file of project A, then should I remove that version number? I wanted to me more explicit so that I KNOW that the local version is being used, how do I do that."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1667589908,"post_id":74320405,"comment_id":131210696,"body_markdown":"@SwarangaSarma You can keep the same version number, but delete the publication from your Maven local first. For example, for `group=com.asarkar.grpc`, `artifact=grpc-test`, and `version=1.2.2`, you&#39;ll delete `$HOME/.m2/repository/com/asarkar/grpc/grpc-test/1.2.2`. You can also choose a different version number, but that depends on how frequently you change the dependency. If you keep making changes, it&#39;s not practical to keep changing the version number.","body":"@SwarangaSarma You can keep the same version number, but delete the publication from your Maven local first. For example, for <code>group=com.asarkar.grpc</code>, <code>artifact=grpc-test</code>, and <code>version=1.2.2</code>, you&#39;ll delete <code>$HOME&#47;.m2&#47;repository&#47;com&#47;asarkar&#47;grpc&#47;grpc-test&#47;1.2.2</code>. You can also choose a different version number, but that depends on how frequently you change the dependency. If you keep making changes, it&#39;s not practical to keep changing the version number."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1667590688,"post_id":74320405,"comment_id":131210935,"body_markdown":"I should add that the artifact is overwritten as expected, so, the above isn&#39;t really necessary. I simply provided you couple of options since you asked.","body":"I should add that the artifact is overwritten as expected, so, the above isn&#39;t really necessary. I simply provided you couple of options since you asked."}],"tags":[],"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667580472,"creation_date":1667580472,"answer_id":74320405,"question_id":74310857,"body_markdown":"You don&#39;t need to do any sort of local workstation hodgepodge.  All you need is the following:\r\n\r\n 1. Declare `mavenLocal()` as the first repository in the dependent project (you probably already have `mavenCentral()`.\r\n 2. Publish the dependency to Maven local repository using the task `.gradlew publishToMavenLocal`.\r\n\r\nNow, your dependent project can use the latest code from the dependency.\r\n\r\n","title":"How to reference local version of a project in another Gradle project dependencies","body":"<p>You don't need to do any sort of local workstation hodgepodge.  All you need is the following:</p>\n<ol>\n<li>Declare <code>mavenLocal()</code> as the first repository in the dependent project (you probably already have <code>mavenCentral()</code>.</li>\n<li>Publish the dependency to Maven local repository using the task <code>.gradlew publishToMavenLocal</code>.</li>\n</ol>\n<p>Now, your dependent project can use the latest code from the dependency.</p>\n"}],"owner":{"account_id":26813083,"reputation":11,"user_id":20403385,"display_name":"Swaranga Sarma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":340,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74320405,"answer_count":2,"score":0,"last_activity_date":1667580472,"creation_date":1667520929,"question_id":74310857,"body_markdown":"I have a Gradle project (say project A) that depends on another Gradle project (say B). Each project live in their own git repository. Sometimes when I have to make a non-trivial change across both projects, I will make the code changes in B and push to remote where our CI will pick it up and release it as a new version.\r\n\r\nThen in project A, I will update the version for B with the new version number, then run `./gradlew generateLock saveLock` and then I will be able to use the new changes made in B to implement the feature in A.\r\n\r\nI want to avoid having to push B to remote and release a new version before I can start using the new code in A. Ideally, I want to make change to B locally and have A reference the local version of the project. That way I can test both and test the whole feature before I push any code. How can I achieve that using Gradle. I am using Gradle 7.5?\r\n\r\nI declare my dependency on B in A&#39;s `build.gradle` as `implementation &#39;com.something.project-b&#39;`. Note that B might have a bunch of other library dependencies of its own declared in its own build.gradle which should still be transitively pulled when I want to use the local version of B in A.\r\n\r\nAny pointers?\r\n\r\nThere is a local JAR option in Gradle but that will not pull all the transitive dependencies of B and I do not want to build a combined JAR of B and all its dependencies and use that since then I lose all dependency resolution benefits in case of conflicts.\r\n\r\nAlso note that B is an independent project and cannot simply be moved to Project A as a sub-project\r\n","title":"How to reference local version of a project in another Gradle project dependencies","body":"<p>I have a Gradle project (say project A) that depends on another Gradle project (say B). Each project live in their own git repository. Sometimes when I have to make a non-trivial change across both projects, I will make the code changes in B and push to remote where our CI will pick it up and release it as a new version.</p>\n<p>Then in project A, I will update the version for B with the new version number, then run <code>./gradlew generateLock saveLock</code> and then I will be able to use the new changes made in B to implement the feature in A.</p>\n<p>I want to avoid having to push B to remote and release a new version before I can start using the new code in A. Ideally, I want to make change to B locally and have A reference the local version of the project. That way I can test both and test the whole feature before I push any code. How can I achieve that using Gradle. I am using Gradle 7.5?</p>\n<p>I declare my dependency on B in A's <code>build.gradle</code> as <code>implementation 'com.something.project-b'</code>. Note that B might have a bunch of other library dependencies of its own declared in its own build.gradle which should still be transitively pulled when I want to use the local version of B in A.</p>\n<p>Any pointers?</p>\n<p>There is a local JAR option in Gradle but that will not pull all the transitive dependencies of B and I do not want to build a combined JAR of B and all its dependencies and use that since then I lose all dependency resolution benefits in case of conflicts.</p>\n<p>Also note that B is an independent project and cannot simply be moved to Project A as a sub-project</p>\n"},{"tags":["java","json","mongodb","pojo"],"comments":[{"owner":{"account_id":3156203,"reputation":4585,"user_id":2668564,"display_name":"jfk"},"score":0,"creation_date":1603980864,"post_id":62829710,"comment_id":114212170,"body_markdown":"Are you able to solve this issue ?","body":"Are you able to solve this issue ?"}],"answers":[{"tags":[],"owner":{"account_id":3156203,"reputation":4585,"user_id":2668564,"display_name":"jfk"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603985238,"creation_date":1603985238,"answer_id":64594248,"question_id":62829710,"body_markdown":"Here is a generic solution to store any document\r\n\r\n    package io.innoit.elearning.generic;\r\n\r\n    import java.util.List;\r\n    \r\n    import org.bson.Document;\r\n    import org.json.JSONObject;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.data.mongodb.core.MongoTemplate;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.CrossOrigin;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/api/generic&quot;)\r\n    @CrossOrigin(origins = { &quot;*&quot; })\r\n    public class GenericController {\r\n    \r\n    \t@Autowired\r\n    \tprivate MongoTemplate mongoTemplate;\r\n    \r\n    \t@PostMapping\r\n    \tpublic ResponseEntity&lt;Document&gt; addData(@RequestBody String data) {\r\n    \t\tJSONObject jsonObject = new JSONObject(data);\r\n    \t\tString documentName = jsonObject.getString(&quot;documentName&quot;);\r\n    \t\tDocument doc = Document.parse(data);\r\n    \t\tDocument insertedDoc = mongoTemplate.insert(doc, documentName);\r\n    \t\treturn new ResponseEntity&lt;&gt;(insertedDoc, HttpStatus.CREATED);\r\n    \r\n    \t}\r\n    \r\n    \t@GetMapping(&quot;/{documentName}&quot;)\r\n    \tpublic List&lt;Document&gt; getData(@PathVariable String documentName) {\r\n    \t\tList&lt;Document&gt; allData = mongoTemplate.findAll(Document.class, documentName);\r\n    \t\treturn allData;\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"SpringBoot and MongoDB Saving Issue for a JSONObject Field inside a POJO","body":"<p>Here is a generic solution to store any document</p>\n<pre><code>package io.innoit.elearning.generic;\n\nimport java.util.List;\n\nimport org.bson.Document;\nimport org.json.JSONObject;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.mongodb.core.MongoTemplate;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(&quot;/api/generic&quot;)\n@CrossOrigin(origins = { &quot;*&quot; })\npublic class GenericController {\n\n    @Autowired\n    private MongoTemplate mongoTemplate;\n\n    @PostMapping\n    public ResponseEntity&lt;Document&gt; addData(@RequestBody String data) {\n        JSONObject jsonObject = new JSONObject(data);\n        String documentName = jsonObject.getString(&quot;documentName&quot;);\n        Document doc = Document.parse(data);\n        Document insertedDoc = mongoTemplate.insert(doc, documentName);\n        return new ResponseEntity&lt;&gt;(insertedDoc, HttpStatus.CREATED);\n\n    }\n\n    @GetMapping(&quot;/{documentName}&quot;)\n    public List&lt;Document&gt; getData(@PathVariable String documentName) {\n        List&lt;Document&gt; allData = mongoTemplate.findAll(Document.class, documentName);\n        return allData;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22517470,"reputation":91,"user_id":16711507,"display_name":"akram seid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667580406,"creation_date":1667580406,"answer_id":74320389,"question_id":62829710,"body_markdown":"you can use `BasicDBObject` in the pojo and the parsing as follows:\r\n\r\n    String json = &quot;{\r\n      &quot;id&quot;: Mdt1,\r\n      &quot;user&quot;: &quot;user&quot;,\r\n      &quot;metadata&quot;: {\r\n    &quot;departament&quot;: &quot;JUST&quot;,\r\n    &quot;college&quot;:&quot;informatics&quot;\r\n    }\r\n    }&quot;;\r\n\r\n \r\n\r\n    BasicDBObject object = BasicDBObject.parse(json);\r\nuse `object` in the setter.","title":"SpringBoot and MongoDB Saving Issue for a JSONObject Field inside a POJO","body":"<p>you can use <code>BasicDBObject</code> in the pojo and the parsing as follows:</p>\n<pre><code>String json = &quot;{\n  &quot;id&quot;: Mdt1,\n  &quot;user&quot;: &quot;user&quot;,\n  &quot;metadata&quot;: {\n&quot;departament&quot;: &quot;JUST&quot;,\n&quot;college&quot;:&quot;informatics&quot;\n}\n}&quot;;\n\n\n\nBasicDBObject object = BasicDBObject.parse(json);\n</code></pre>\n<p>use <code>object</code> in the setter.</p>\n"}],"owner":{"account_id":11779773,"reputation":33,"user_id":8619841,"display_name":"JDTechTips"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1819,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1667580406,"creation_date":1594367902,"question_id":62829710,"body_markdown":"I have a simple POJO similar to below. Getters and setters are omitted for brevity.\r\n\r\n```\r\n@Document(collection = &quot;posts&quot;)\r\npublic class Post {\r\n\t@Id\r\n\tpublic String id;\r\n\t\r\n\t@Field(name = &quot;author&quot;)\r\n\tpublic String author;\r\n\t\r\n\t@Field(name = &quot;title&quot;)\r\n\tpublic String title;\r\n\t\r\n\t@Field(name = &quot;body&quot;)\r\n\tpublic JSONObject body;\r\n\t\r\n\tpublic Post() {\r\n\r\n\t}\r\n\t\r\n\tpublic Post(String id, String author, String title, JSONObject body) {\r\n\t\tthis.id = id;\r\n        this.title = title;\r\n\t\tthis.author = author;\r\n\t\tthis.body = body;\r\n\t}\r\n```\r\n\r\nAnd I use default save from MongoRepository in order to save my data:\r\n```\r\nimport org.springframework.data.mongodb.repository.MongoRepository;\r\n\r\npublic interface PostRepository extends MongoRepository&lt;Post, String&gt; {\r\n\r\n}\r\n```\r\n\r\nIt is getting saved to MongoDB by using the codes below:\r\n```\r\n@PostMapping\r\n\tpublic Post addPost(HttpEntity&lt;String&gt; httpEntity) {\r\n\t\ttry {\r\n\t\t\tJSONObject obj = new JSONObject(httpEntity.getBody());\r\n\r\n\t\t\tPost p1 = new Post(&quot;123&quot;, obj.getString(&quot;author&quot;), obj.getString(&quot;title&quot;), \r\n\t\t\t\t\tobj.getJSONObject(&quot;body&quot;));\r\n\r\n\t\t\treturn postRepository.save(p1);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tthrow new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;Foo Not Found&quot;, e);\r\n\t\t}\r\n\t}\r\n```\r\n\r\nWhen it is saved in MongoDB, it stores fields that are not originally in the JSON that I am supposed to save.\r\n\r\nOriginal JSON:\r\n```\r\n{\r\n   body: {\r\n     blocks: {\r\n        [\r\n           { data: &quot;Data 1&quot;, type: &quot;Type 1&quot; },\r\n           { data: &quot;Data 2&quot;, type: &quot;Type 2&quot; },\r\n        ]\r\n     },\r\n     version: &quot;1.2.2&quot;\r\n   }\r\n}\r\n```\r\n\r\nSaved JSON:\r\n```\r\n{\r\n   body: {\r\n     map: {\r\n        blocks: {\r\n           myArrayList:\r\n           [\r\n               { map: { data: &quot;Data 1&quot;, type: &quot;Type 1&quot; }, _class: &quot;org.json.JSONObject&quot; },\r\n               { map: { data: &quot;Data 2&quot;, type: &quot;Type 2&quot; }, _class: &quot;org.json.JSONObject&quot; },\r\n           ],\r\n           _class: &quot;org.json.JSONArray&quot;\r\n        },\r\n        version: &quot;1.2.2&quot;\r\n     }\r\n   }\r\n}\r\n```\r\n\r\nWhen I try to get the data, I am receiving the following error:\r\n&gt;java.lang.IllegalStateException: Cannot set property map because no setter, no wither and it&#39;s not part of the persistence constructor public org.json.JSONObject()!\r\n\r\nThis is how I get the data:\r\n```\r\n@GetMapping(path = &quot;/{id}&quot;)\r\n\tpublic Post getPost(@PathVariable String id) {\r\n\t\ttry {\r\n\t\t\tOptional&lt;Post&gt; post = postRepository.findById(id);\r\n\r\n\t\t\treturn post.orElseThrow();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tthrow new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;Foo Not Found&quot;, e);\r\n\t\t}\r\n\t}\r\n```\r\n\r\nMy first question is, is there a way to save a JSON object to MongoDB without the extra fields (e.g. `map`, `myArrayList`)?\r\n\r\nSecond, how am I supposed to retrieve data with a JSONObject field in the POJO?\r\n\r\nThanks in advance!","title":"SpringBoot and MongoDB Saving Issue for a JSONObject Field inside a POJO","body":"<p>I have a simple POJO similar to below. Getters and setters are omitted for brevity.</p>\n<pre><code>@Document(collection = &quot;posts&quot;)\npublic class Post {\n    @Id\n    public String id;\n    \n    @Field(name = &quot;author&quot;)\n    public String author;\n    \n    @Field(name = &quot;title&quot;)\n    public String title;\n    \n    @Field(name = &quot;body&quot;)\n    public JSONObject body;\n    \n    public Post() {\n\n    }\n    \n    public Post(String id, String author, String title, JSONObject body) {\n        this.id = id;\n        this.title = title;\n        this.author = author;\n        this.body = body;\n    }\n</code></pre>\n<p>And I use default save from MongoRepository in order to save my data:</p>\n<pre><code>import org.springframework.data.mongodb.repository.MongoRepository;\n\npublic interface PostRepository extends MongoRepository&lt;Post, String&gt; {\n\n}\n</code></pre>\n<p>It is getting saved to MongoDB by using the codes below:</p>\n<pre><code>@PostMapping\n    public Post addPost(HttpEntity&lt;String&gt; httpEntity) {\n        try {\n            JSONObject obj = new JSONObject(httpEntity.getBody());\n\n            Post p1 = new Post(&quot;123&quot;, obj.getString(&quot;author&quot;), obj.getString(&quot;title&quot;), \n                    obj.getJSONObject(&quot;body&quot;));\n\n            return postRepository.save(p1);\n        } catch (Exception e) {\n            e.printStackTrace();\n            throw new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;Foo Not Found&quot;, e);\n        }\n    }\n</code></pre>\n<p>When it is saved in MongoDB, it stores fields that are not originally in the JSON that I am supposed to save.</p>\n<p>Original JSON:</p>\n<pre><code>{\n   body: {\n     blocks: {\n        [\n           { data: &quot;Data 1&quot;, type: &quot;Type 1&quot; },\n           { data: &quot;Data 2&quot;, type: &quot;Type 2&quot; },\n        ]\n     },\n     version: &quot;1.2.2&quot;\n   }\n}\n</code></pre>\n<p>Saved JSON:</p>\n<pre><code>{\n   body: {\n     map: {\n        blocks: {\n           myArrayList:\n           [\n               { map: { data: &quot;Data 1&quot;, type: &quot;Type 1&quot; }, _class: &quot;org.json.JSONObject&quot; },\n               { map: { data: &quot;Data 2&quot;, type: &quot;Type 2&quot; }, _class: &quot;org.json.JSONObject&quot; },\n           ],\n           _class: &quot;org.json.JSONArray&quot;\n        },\n        version: &quot;1.2.2&quot;\n     }\n   }\n}\n</code></pre>\n<p>When I try to get the data, I am receiving the following error:</p>\n<blockquote>\n<p>java.lang.IllegalStateException: Cannot set property map because no setter, no wither and it's not part of the persistence constructor public org.json.JSONObject()!</p>\n</blockquote>\n<p>This is how I get the data:</p>\n<pre><code>@GetMapping(path = &quot;/{id}&quot;)\n    public Post getPost(@PathVariable String id) {\n        try {\n            Optional&lt;Post&gt; post = postRepository.findById(id);\n\n            return post.orElseThrow();\n        } catch (Exception e) {\n            e.printStackTrace();\n            throw new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;Foo Not Found&quot;, e);\n        }\n    }\n</code></pre>\n<p>My first question is, is there a way to save a JSON object to MongoDB without the extra fields (e.g. <code>map</code>, <code>myArrayList</code>)?</p>\n<p>Second, how am I supposed to retrieve data with a JSONObject field in the POJO?</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","spring","post","inputstream","resttemplate"],"comments":[{"owner":{"account_id":12259204,"reputation":2452,"user_id":8947430,"display_name":"Ismail"},"score":0,"creation_date":1599571923,"post_id":63794946,"comment_id":112810255,"body_markdown":"Why not using multipart instead?","body":"Why not using multipart instead?"}],"answers":[{"comments":[{"owner":{"account_id":19118313,"reputation":43,"user_id":13962753,"display_name":"Zeh Renics"},"score":0,"creation_date":1599576185,"post_id":63795247,"comment_id":112812462,"body_markdown":"Thank you so much. It solved the problem. You made my day :)","body":"Thank you so much. It solved the problem. You made my day :)"}],"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1599572703,"creation_date":1599572703,"answer_id":63795247,"question_id":63794946,"body_markdown":"[`ByteArrayHttpMessageConverter`][1] is for `byte[]`, not `InputStream`, just like the name of the class says.\r\n\r\nThere are no built-in [`HttpMessageConverter`][2] for `InputStream`, but there is a [`ResourceHttpMessageConverter`][3], which can handle e.g. an [`InputStreamResource`][4].\r\n\r\n```lang-java\r\nRestTemplate restTemplate = new RestTemplate(Arrays.asList(new ResourceHttpMessageConverter()));\r\nURI location = restTemplate.postForLocation(url, new InputStreamResource(inputStream)); \r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/5.2.7.RELEASE/javadoc-api/org/springframework/http/converter/ByteArrayHttpMessageConverter.html\r\n  [2]: https://docs.spring.io/spring/docs/5.2.7.RELEASE/javadoc-api/org/springframework/http/converter/HttpMessageConverter.html\r\n  [3]: https://docs.spring.io/spring/docs/5.2.7.RELEASE/javadoc-api/org/springframework/http/converter/ResourceHttpMessageConverter.html\r\n  [4]: https://docs.spring.io/spring/docs/5.2.7.RELEASE/javadoc-api/org/springframework/core/io/InputStreamResource.html","title":"POST InputStream RestTemplate","body":"<p><a href=\"https://docs.spring.io/spring/docs/5.2.7.RELEASE/javadoc-api/org/springframework/http/converter/ByteArrayHttpMessageConverter.html\" rel=\"nofollow noreferrer\"><code>ByteArrayHttpMessageConverter</code></a> is for <code>byte[]</code>, not <code>InputStream</code>, just like the name of the class says.</p>\n<p>There are no built-in <a href=\"https://docs.spring.io/spring/docs/5.2.7.RELEASE/javadoc-api/org/springframework/http/converter/HttpMessageConverter.html\" rel=\"nofollow noreferrer\"><code>HttpMessageConverter</code></a> for <code>InputStream</code>, but there is a <a href=\"https://docs.spring.io/spring/docs/5.2.7.RELEASE/javadoc-api/org/springframework/http/converter/ResourceHttpMessageConverter.html\" rel=\"nofollow noreferrer\"><code>ResourceHttpMessageConverter</code></a>, which can handle e.g. an <a href=\"https://docs.spring.io/spring/docs/5.2.7.RELEASE/javadoc-api/org/springframework/core/io/InputStreamResource.html\" rel=\"nofollow noreferrer\"><code>InputStreamResource</code></a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>RestTemplate restTemplate = new RestTemplate(Arrays.asList(new ResourceHttpMessageConverter()));\nURI location = restTemplate.postForLocation(url, new InputStreamResource(inputStream)); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":8320526,"reputation":2415,"user_id":6252399,"display_name":"Alan Sereb"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1599572753,"creation_date":1599572753,"answer_id":63795266,"question_id":63794946,"body_markdown":"You cannot transfer streams over HTTP. HTTP is a stateless protocol and it won&#39;t support byte transfer. What you can do is\r\n1) Read the whole input stream and output it as a string or any other form\r\n2) Use any UDP form of data transfer (SOAP or sockets)","title":"POST InputStream RestTemplate","body":"<p>You cannot transfer streams over HTTP. HTTP is a stateless protocol and it won't support byte transfer. What you can do is</p>\n<ol>\n<li>Read the whole input stream and output it as a string or any other form</li>\n<li>Use any UDP form of data transfer (SOAP or sockets)</li>\n</ol>\n"}],"owner":{"account_id":19118313,"reputation":43,"user_id":13962753,"display_name":"Zeh Renics"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1738,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":63795247,"answer_count":2,"score":2,"last_activity_date":1667580318,"creation_date":1599571676,"question_id":63794946,"body_markdown":"I want to POST an InputStream to the Server. \r\nI&#39;m using Spring and therefore RestTemplate to execute my HTTP Requests.\r\n\r\nClient\r\n\r\n        public void postSomething(InputStream inputStream) {\r\n              String url = &quot;localhost:8080/example/id&quot;;\r\n              RestTemplate restTemplate = new RestTemplate();\r\n              restTemplate.getMessageConverters().add(new ByteArrayHttpMessageConverter());\r\n              restTemplate.postForLocation(url, inputStream, InputStream.class); \r\n        }\r\n\r\nServer\r\n\r\n    @PostMapping(&quot;/example/{id}&quot;)\r\n    public void uploadFile(@RequestBody InputStream inputStream, @PathVariable String id) { \r\n               InputStream inputStream1 = inputStream;\r\n    }\r\n\r\nOn Client side I get \r\n`No HttpMessageConverter for [java.io.ByteArrayInputStream]`\r\nAnd on Server side I get `Cannot construct instance of &#39;java.io.InputStream&#39; (no Creators, like default constructor, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information`\r\n\r\n\r\n\r\n\r\n","title":"POST InputStream RestTemplate","body":"<p>I want to POST an InputStream to the Server.\nI'm using Spring and therefore RestTemplate to execute my HTTP Requests.</p>\n<p>Client</p>\n<pre><code>    public void postSomething(InputStream inputStream) {\n          String url = &quot;localhost:8080/example/id&quot;;\n          RestTemplate restTemplate = new RestTemplate();\n          restTemplate.getMessageConverters().add(new ByteArrayHttpMessageConverter());\n          restTemplate.postForLocation(url, inputStream, InputStream.class); \n    }\n</code></pre>\n<p>Server</p>\n<pre><code>@PostMapping(&quot;/example/{id}&quot;)\npublic void uploadFile(@RequestBody InputStream inputStream, @PathVariable String id) { \n           InputStream inputStream1 = inputStream;\n}\n</code></pre>\n<p>On Client side I get\n<code>No HttpMessageConverter for [java.io.ByteArrayInputStream]</code>\nAnd on Server side I get <code>Cannot construct instance of 'java.io.InputStream' (no Creators, like default constructor, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information</code></p>\n"},{"tags":["java","spring-boot","unit-testing","junit","mockito"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1667513361,"post_id":74294771,"comment_id":131190957,"body_markdown":"you need to raise exception on `retrieve()` method instead of `bodyToMono `","body":"you need to raise exception on <code>retrieve()</code> method instead of <code>bodyToMono </code>"},{"owner":{"account_id":12190203,"reputation":444,"user_id":8898054,"display_name":"Meilan"},"score":1,"creation_date":1667575526,"post_id":74294771,"comment_id":131206077,"body_markdown":"@AndreyB.Panfilov I tried the way you said, but try-catch still can&#39;t capture the `InvalidRequestException`. The function code is not written by me and I&#39;m new to Java. I think my code will throw `InvalidRequestException` when `WebClientResponseException` happens, right? Or it means an `InvalidRequestException` will be thrown only when there&#39;s an `error`? If so, how do we let `retrieve()` return an error?","body":"@AndreyB.Panfilov I tried the way you said, but try-catch still can&#39;t capture the <code>InvalidRequestException</code>. The function code is not written by me and I&#39;m new to Java. I think my code will throw <code>InvalidRequestException</code> when <code>WebClientResponseException</code> happens, right? Or it means an <code>InvalidRequestException</code> will be thrown only when there&#39;s an <code>error</code>? If so, how do we let <code>retrieve()</code> return an error?"}],"answers":[{"tags":[],"owner":{"account_id":12190203,"reputation":444,"user_id":8898054,"display_name":"Meilan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667580261,"creation_date":1667580261,"answer_id":74320355,"question_id":74294771,"body_markdown":"The solution is I need to wrap the exception in `Mono.error,` and then the `doOnError` will be triggered.\r\n```\r\nwhen(responseMock.bodyToMono(String.class)).thenReturn(Mono.error(thrownException));\r\n```","title":"Unit test the .doOnError in Java","body":"<p>The solution is I need to wrap the exception in <code>Mono.error,</code> and then the <code>doOnError</code> will be triggered.</p>\n<pre><code>when(responseMock.bodyToMono(String.class)).thenReturn(Mono.error(thrownException));\n</code></pre>\n"}],"owner":{"account_id":12190203,"reputation":444,"user_id":8898054,"display_name":"Meilan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":517,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74320355,"answer_count":1,"score":1,"last_activity_date":1667580261,"creation_date":1667417764,"question_id":74294771,"body_markdown":"I have a piece of code to send a request via WebClient:\r\n```\r\npublic String getResponse(String requestBody){\r\n ...\r\n    final WebClient.RequestHeadersSpec&lt;?&gt; request =\r\n        client.post().body(BodyInserters.fromValue(requestBody));\r\n\r\n    final String resp =\r\n        req.retrieve().bodyToMono(String.class)\r\n            .doOnError(\r\n                WebClientResponseException.class,\r\n                err -&gt; {\r\n                  // do something\r\n                  throw new InvalidRequestException(err.getResponseBodyAsString());\r\n                })\r\n            .block();\r\n ...\r\n}\r\n```\r\n\r\nFrom the code, it looks like the `InvalidRequestException` will be thrown when the `WebClientResponseException` happens. However, the test throws the `WebClientResponseException` instead of the `InvalidRequestException`. \r\n\r\nHere&#39;s the part of unit test I wrote to cover the `.doOnError` part. I tried the following:\r\n```\r\n...\r\nwhen(webClientMock.post()).thenReturn(requestBodyUriMock);\r\nwhen(requestBodyUriMock.body(any())).thenReturn(requestHeadersMock);\r\nwhen(requestHeadersMock.retrieve()).thenReturn(responseMock);\r\nwhen(responseMock.bodyToMono(String.class)).thenThrow(new WebClientResponseException(400, &quot;Bad Request&quot;, null, null, null));\r\n\r\ntry {\r\n      String result = someServiceSpy.getResponse(requestBody);\r\n} catch (InvalidRequestException e) {\r\n      assertEquals(expectedCode, e.getRawStatusCode());\r\n}\r\n```\r\n\r\n","title":"Unit test the .doOnError in Java","body":"<p>I have a piece of code to send a request via WebClient:</p>\n<pre><code>public String getResponse(String requestBody){\n ...\n    final WebClient.RequestHeadersSpec&lt;?&gt; request =\n        client.post().body(BodyInserters.fromValue(requestBody));\n\n    final String resp =\n        req.retrieve().bodyToMono(String.class)\n            .doOnError(\n                WebClientResponseException.class,\n                err -&gt; {\n                  // do something\n                  throw new InvalidRequestException(err.getResponseBodyAsString());\n                })\n            .block();\n ...\n}\n</code></pre>\n<p>From the code, it looks like the <code>InvalidRequestException</code> will be thrown when the <code>WebClientResponseException</code> happens. However, the test throws the <code>WebClientResponseException</code> instead of the <code>InvalidRequestException</code>.</p>\n<p>Here's the part of unit test I wrote to cover the <code>.doOnError</code> part. I tried the following:</p>\n<pre><code>...\nwhen(webClientMock.post()).thenReturn(requestBodyUriMock);\nwhen(requestBodyUriMock.body(any())).thenReturn(requestHeadersMock);\nwhen(requestHeadersMock.retrieve()).thenReturn(responseMock);\nwhen(responseMock.bodyToMono(String.class)).thenThrow(new WebClientResponseException(400, &quot;Bad Request&quot;, null, null, null));\n\ntry {\n      String result = someServiceSpy.getResponse(requestBody);\n} catch (InvalidRequestException e) {\n      assertEquals(expectedCode, e.getRawStatusCode());\n}\n</code></pre>\n"},{"tags":["java","android","api","listview","android-volley"],"comments":[{"owner":{"account_id":14059937,"reputation":2328,"user_id":10247147,"display_name":"Daniel.Wang"},"score":1,"creation_date":1612179567,"post_id":65992011,"comment_id":116676888,"body_markdown":"could you post adapter code, and create adapter part?","body":"could you post adapter code, and create adapter part?"},{"owner":{"account_id":20599393,"reputation":5,"user_id":15120995,"display_name":"Shreyas Patne"},"score":0,"creation_date":1612179667,"post_id":65992011,"comment_id":116676936,"body_markdown":"ArrayAdapter&lt;String&gt; arrayAdapter = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1, productList);\n        myproducts.setAdapter(arrayAdapter);","body":"ArrayAdapter&lt;String&gt; arrayAdapter = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1, productList);         myproducts.setAdapter(arrayAdapter);"},{"owner":{"account_id":20599393,"reputation":5,"user_id":15120995,"display_name":"Shreyas Patne"},"score":0,"creation_date":1612179855,"post_id":65992011,"comment_id":116677011,"body_markdown":"if i do-------  productList.add(&quot;hello world&quot;)    ----- then hello world show in list view but if i add the value through response as shown above, it get add in the productList which is ArrayList variavle but not shown in listview","body":"if i do-------  productList.add(&quot;hello world&quot;)    ----- then hello world show in list view but if i add the value through response as shown above, it get add in the productList which is ArrayList variavle but not shown in listview"},{"owner":{"account_id":20599393,"reputation":5,"user_id":15120995,"display_name":"Shreyas Patne"},"score":0,"creation_date":1612179910,"post_id":65992011,"comment_id":116677030,"body_markdown":"myproducts is my list view","body":"myproducts is my list view"}],"answers":[{"comments":[{"owner":{"account_id":20599393,"reputation":5,"user_id":15120995,"display_name":"Shreyas Patne"},"score":0,"creation_date":1612180044,"post_id":65992158,"comment_id":116677090,"body_markdown":"ok but can you please tell me how to do it in adaptor this is my adaptor code","body":"ok but can you please tell me how to do it in adaptor this is my adaptor code"},{"owner":{"account_id":20599393,"reputation":5,"user_id":15120995,"display_name":"Shreyas Patne"},"score":0,"creation_date":1612180050,"post_id":65992158,"comment_id":116677093,"body_markdown":"ArrayAdapter&lt;String&gt; arrayAdapter = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1, productList);\n        myproducts.setAdapter(arrayAdapter);","body":"ArrayAdapter&lt;String&gt; arrayAdapter = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1, productList);         myproducts.setAdapter(arrayAdapter);"},{"owner":{"account_id":3807206,"reputation":12673,"user_id":3159267,"display_name":"Rajan Kali"},"score":0,"creation_date":1612180135,"post_id":65992158,"comment_id":116677134,"body_markdown":"I have added `adapter.notifyDataSetChanged` in `onResponse`, replace your `onResponse` method with above `onResponse`","body":"I have added <code>adapter.notifyDataSetChanged</code> in <code>onResponse</code>, replace your <code>onResponse</code> method with above <code>onResponse</code>"},{"owner":{"account_id":14059937,"reputation":2328,"user_id":10247147,"display_name":"Daniel.Wang"},"score":0,"creation_date":1612180255,"post_id":65992158,"comment_id":116677197,"body_markdown":"The answer of @rajan.kali will be helpful for you. My thought is same as him. I upvote his answer.","body":"The answer of @rajan.kali will be helpful for you. My thought is same as him. I upvote his answer."},{"owner":{"account_id":20599393,"reputation":5,"user_id":15120995,"display_name":"Shreyas Patne"},"score":0,"creation_date":1612180358,"post_id":65992158,"comment_id":116677236,"body_markdown":"hey problem solved thanks brother Thanks a Lot","body":"hey problem solved thanks brother Thanks a Lot"},{"owner":{"account_id":20599393,"reputation":5,"user_id":15120995,"display_name":"Shreyas Patne"},"score":0,"creation_date":1612180383,"post_id":65992158,"comment_id":116677250,"body_markdown":"arrayAdapter.add(productfromjson.getString(&quot;title&quot;));\n                            arrayAdapter.notifyDataSetChanged();","body":"arrayAdapter.add(productfromjson.getString(&quot;title&quot;));                             arrayAdapter.notifyDataSetChanged();"}],"tags":[],"owner":{"account_id":3807206,"reputation":12673,"user_id":3159267,"display_name":"Rajan Kali"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1612179920,"creation_date":1612179920,"answer_id":65992158,"question_id":65992011,"body_markdown":"You have to notify `adapter` about `dataset` changes using `notifyDataSetChanged()` or `notifyItemRangeInserted()` like below\r\n\r\n    public void onResponse(JSONArray response) {\r\n         try {\r\n             for(int i=0;i&lt;response.length();i++) {\r\n                 JSONObject productfromjson = response.getJSONObject(i);\r\n                 productList.add(productfromjson.getString(&quot;title&quot;));\r\n              }\r\n              arrayAdapter.notifyDataSetChanged();\r\n              Log.d(&quot;products&quot;, String.valueOf(productList));\r\n              Toast.makeText(MainActivity.this, String.valueOf(productList), Toast.LENGTH_SHORT).show();\r\n         } catch (JSONException e) {\r\n              e.printStackTrace();\r\n         }\r\n    }","title":"The adaptor not showing the Array list items in List view but show the string in Toast msg which used for test","body":"<p>You have to notify <code>adapter</code> about <code>dataset</code> changes using <code>notifyDataSetChanged()</code> or <code>notifyItemRangeInserted()</code> like below</p>\n<pre><code>public void onResponse(JSONArray response) {\n     try {\n         for(int i=0;i&lt;response.length();i++) {\n             JSONObject productfromjson = response.getJSONObject(i);\n             productList.add(productfromjson.getString(&quot;title&quot;));\n          }\n          arrayAdapter.notifyDataSetChanged();\n          Log.d(&quot;products&quot;, String.valueOf(productList));\n          Toast.makeText(MainActivity.this, String.valueOf(productList), Toast.LENGTH_SHORT).show();\n     } catch (JSONException e) {\n          e.printStackTrace();\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17057383,"reputation":109,"user_id":12341584,"display_name":"Haris Abdullah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612183060,"creation_date":1612183060,"answer_id":65992859,"question_id":65992011,"body_markdown":"brother you don&#39;t have used notifyDataSetChanged();\r\nHere is how you will do it.\r\n\r\n    ArrayAdapter&lt;String&gt; arrayAdapter = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1, productList); \r\n     myproducts.setAdapter(arrayAdapter);\r\n\r\n    public void onResponse(JSONArray response) {\r\n     try {\r\n         for(int i=0;i&lt;response.length();i++) {\r\n             JSONObject productfromjson = response.getJSONObject(i);\r\n             productList.add(productfromjson.getString(&quot;title&quot;));\r\n          }\r\n          arrayAdapter.notifyDataSetChanged();\r\n          Toast.makeText(getApplicationcontext, String.valueOf(productList), Toast.LENGTH_SHORT).show();\r\n     } catch (JSONException e) {\r\n          e.printStackTrace();\r\n     }\r\n}","title":"The adaptor not showing the Array list items in List view but show the string in Toast msg which used for test","body":"<p>brother you don't have used notifyDataSetChanged();\nHere is how you will do it.</p>\n<pre><code>ArrayAdapter&lt;String&gt; arrayAdapter = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1, productList); \n myproducts.setAdapter(arrayAdapter);\n\npublic void onResponse(JSONArray response) {\n try {\n     for(int i=0;i&lt;response.length();i++) {\n         JSONObject productfromjson = response.getJSONObject(i);\n         productList.add(productfromjson.getString(&quot;title&quot;));\n      }\n      arrayAdapter.notifyDataSetChanged();\n      Toast.makeText(getApplicationcontext, String.valueOf(productList), Toast.LENGTH_SHORT).show();\n } catch (JSONException e) {\n      e.printStackTrace();\n }\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":19712352,"reputation":553,"user_id":14432582,"display_name":"Litva Nika"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667580170,"creation_date":1612201470,"answer_id":65997585,"question_id":65992011,"body_markdown":"You have to let the adapter know that the data in the list has changed by adding this line into your code:\r\n\r\n    arrayAdapter.notifyDataSetChanged();\r\nSo your code should look like this:\r\n\r\n    public void onResponse(JSONArray response) {\r\n         try {\r\n             for(int i=0;i&lt;response.length();i++) {\r\n                 JSONObject productfromjson = response.getJSONObject(i);\r\n                 productList.add(productfromjson.getString(&quot;title&quot;));\r\n              }\r\n              arrayAdapter.notifyDataSetChanged();\r\n              Log.d(&quot;products&quot;, String.valueOf(productList));\r\n              Toast.makeText(MainActivity.this, String.valueOf(productList), Toast.LENGTH_SHORT).show();\r\n         } catch (JSONException e) {\r\n              e.printStackTrace();\r\n         }\r\n    }","title":"The adaptor not showing the Array list items in List view but show the string in Toast msg which used for test","body":"<p>You have to let the adapter know that the data in the list has changed by adding this line into your code:</p>\n<pre><code>arrayAdapter.notifyDataSetChanged();\n</code></pre>\n<p>So your code should look like this:</p>\n<pre><code>public void onResponse(JSONArray response) {\n     try {\n         for(int i=0;i&lt;response.length();i++) {\n             JSONObject productfromjson = response.getJSONObject(i);\n             productList.add(productfromjson.getString(&quot;title&quot;));\n          }\n          arrayAdapter.notifyDataSetChanged();\n          Log.d(&quot;products&quot;, String.valueOf(productList));\n          Toast.makeText(MainActivity.this, String.valueOf(productList), Toast.LENGTH_SHORT).show();\n     } catch (JSONException e) {\n          e.printStackTrace();\n     }\n}\n</code></pre>\n"}],"owner":{"account_id":20599393,"reputation":5,"user_id":15120995,"display_name":"Shreyas Patne"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65992158,"answer_count":3,"score":0,"last_activity_date":1667580170,"creation_date":1612179310,"question_id":65992011,"body_markdown":"I write this code to fetch data from URL and get the title from each JSON object and show this in the list view. The problem is data is stored successfully in productlist variable, which I check it by Log.d and Toast massage method. but it not show in listview.\r\n\r\n      public void onResponse(JSONArray response) {\r\n                try {\r\n                        for(int i=0;i&lt;response.length();i++) {\r\n                            JSONObject productfromjson = response.getJSONObject(i);\r\n                            productList.add(productfromjson.getString(&quot;title&quot;));\r\n                        }\r\n                        Log.d(&quot;products&quot;, String.valueOf(productList));\r\n                        Toast.makeText(MainActivity.this, String.valueOf(productList), Toast.LENGTH_SHORT).show();\r\n                    } catch (JSONException e) {\r\n                        e.printStackTrace();\r\n\r\n                    }\r\n            }\r\n\r\nthe following is the adaptor code\r\n       ArrayAdapter&lt;String&gt; arrayAdapter = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1, productList);\r\n        myproducts.setAdapter(arrayAdapter);\r\n\r\n","title":"The adaptor not showing the Array list items in List view but show the string in Toast msg which used for test","body":"<p>I write this code to fetch data from URL and get the title from each JSON object and show this in the list view. The problem is data is stored successfully in productlist variable, which I check it by Log.d and Toast massage method. but it not show in listview.</p>\n<pre><code>  public void onResponse(JSONArray response) {\n            try {\n                    for(int i=0;i&lt;response.length();i++) {\n                        JSONObject productfromjson = response.getJSONObject(i);\n                        productList.add(productfromjson.getString(&quot;title&quot;));\n                    }\n                    Log.d(&quot;products&quot;, String.valueOf(productList));\n                    Toast.makeText(MainActivity.this, String.valueOf(productList), Toast.LENGTH_SHORT).show();\n                } catch (JSONException e) {\n                    e.printStackTrace();\n\n                }\n        }\n</code></pre>\n<p>the following is the adaptor code\nArrayAdapter arrayAdapter = new ArrayAdapter(this, android.R.layout.simple_list_item_1, productList);\nmyproducts.setAdapter(arrayAdapter);</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1667579355,"post_id":74320150,"comment_id":131207542,"body_markdown":"each of those methods return the object back.","body":"each of those methods return the object back."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1667579392,"post_id":74320150,"comment_id":131207560,"body_markdown":"Like @ChengThao says, just declare the return type to be the class itself, and end the method with `return this;`","body":"Like @ChengThao says, just declare the return type to be the class itself, and end the method with <code>return this;</code>"}],"owner":{"account_id":13754510,"reputation":35,"user_id":9925805,"display_name":"Sugato"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1667579357,"answer_count":0,"score":0,"last_activity_date":1667579221,"creation_date":1667579221,"question_id":74320150,"body_markdown":" i was working with sparkSession object in java and encountered a code snippet like this\r\n```\r\nSparkSession.builder()\r\n.appnamme(&quot;some name&quot;)\r\n.config(..,..)\r\n.config(..,..)\r\n.config(..,..)\r\n.getOrCreate();\r\n```\r\ni am interested in implementing something like the cascading .config() calls ,\r\nhow can I recreate this method type in java? \r\n\r\nfor eg a cascading call which would simply add some string to a list","title":"cascading calls of same function java","body":"<p>i was working with sparkSession object in java and encountered a code snippet like this</p>\n<pre><code>SparkSession.builder()\n.appnamme(&quot;some name&quot;)\n.config(..,..)\n.config(..,..)\n.config(..,..)\n.getOrCreate();\n</code></pre>\n<p>i am interested in implementing something like the cascading .config() calls ,\nhow can I recreate this method type in java?</p>\n<p>for eg a cascading call which would simply add some string to a list</p>\n"},{"tags":["java","rest","methods","overriding"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1667555707,"post_id":74315103,"comment_id":131198792,"body_markdown":"you don&#39;t. You extract that part in (yet) another method, and call it on both places you need it","body":"you don&#39;t. You extract that part in (yet) another method, and call it on both places you need it"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1667562442,"post_id":74315103,"comment_id":131201205,"body_markdown":"Why don’t you want to create another method?","body":"Why don’t you want to create another method?"}],"answers":[{"tags":[],"owner":{"account_id":26819783,"reputation":124,"user_id":20409306,"display_name":"Jared Renzullo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667578654,"creation_date":1667578654,"answer_id":74320026,"question_id":74315103,"body_markdown":"You have to create a new method. Add it to the `UserEntity` class and call it something like `getRoleIds()`. Then it technically won&#39;t be an additional method call since you&#39;re replacing the existing call to getRoles.\r\n\r\nEx:\r\n```\r\nvar userRoles = entity.getRoles().stream()\r\n            .map(RoleEntity::getId)\r\n            .map(String::valueOf)\r\n            .collect(Collectors.toList());\r\n```\r\nbecomes\r\n```\r\nvar userRoles = entity.getRoleIds();\r\n```","title":"How to call part of one method in another in the same class?","body":"<p>You have to create a new method. Add it to the <code>UserEntity</code> class and call it something like <code>getRoleIds()</code>. Then it technically won't be an additional method call since you're replacing the existing call to getRoles.</p>\n<p>Ex:</p>\n<pre><code>var userRoles = entity.getRoles().stream()\n            .map(RoleEntity::getId)\n            .map(String::valueOf)\n            .collect(Collectors.toList());\n</code></pre>\n<p>becomes</p>\n<pre><code>var userRoles = entity.getRoleIds();\n</code></pre>\n"}],"owner":{"account_id":23951042,"reputation":33,"user_id":17942621,"display_name":"Jack"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74320026,"answer_count":1,"score":0,"last_activity_date":1667578654,"creation_date":1667555643,"question_id":74315103,"body_markdown":"I would like to use part of one method in another in the same class in order not to duplicate several lines in my code.\r\nThe first method is:\r\n\r\n    protected UserDTO map(UserEntity entity) {\r\n        var result = new UserDTO();\r\n        var userRoles = entity.getRoles().stream()\r\n                .map(RoleEntity::getId)\r\n                .map(String::valueOf)\r\n                .collect(Collectors.toList());\r\n        result.setId(entity.getId().toString());\r\n        result.setLastAccessDate(entity.getLastAccessDate());\r\n        result.setRoles(userRoles);\r\n        if (entity.getEmail() != null) {\r\n            var email = new UserDTO.Email(entity.getEmail(), EMAIL_TYPE);\r\n            result.setEmails(List.of(email));\r\n        }\r\n        return result;\r\n    }\r\n\r\nThe second one is:\r\n   \r\n     public UserResource updateUser(String id, UserResource updatedUser) {\r\n            var optionalUser = userRepository.findById(Integer.valueOf(updatedUser.getUserName()));\r\n                updatedUser.setRoles(optionalUser.get().getRoles()\r\n                        .stream()\r\n                        .map(RoleEntity::getId)\r\n                        .map(String::valueOf)\r\n                        .collect(Collectors.toList()));\r\n                updatedUser.setLastAccessDate(optionalUser.get().getLastAccessDate());\r\n            var entity = mapToUserEntity(updatedUser);\r\n            userRepository.save(entity);\r\n            return updatedUser;\r\n        }\r\nSo, I have duplicate code in both methods:\r\n\r\n    .getRoles()\r\n    .stream()\r\n    .map(RoleEntity::getId)\r\n    .map(String::valueOf)\r\n    .collect(Collectors.toList()));\r\n\r\nCould you give me the piece of advice - how can I simplify this without creating additional method which will be called in two methods above?","title":"How to call part of one method in another in the same class?","body":"<p>I would like to use part of one method in another in the same class in order not to duplicate several lines in my code.\nThe first method is:</p>\n<pre><code>protected UserDTO map(UserEntity entity) {\n    var result = new UserDTO();\n    var userRoles = entity.getRoles().stream()\n            .map(RoleEntity::getId)\n            .map(String::valueOf)\n            .collect(Collectors.toList());\n    result.setId(entity.getId().toString());\n    result.setLastAccessDate(entity.getLastAccessDate());\n    result.setRoles(userRoles);\n    if (entity.getEmail() != null) {\n        var email = new UserDTO.Email(entity.getEmail(), EMAIL_TYPE);\n        result.setEmails(List.of(email));\n    }\n    return result;\n}\n</code></pre>\n<p>The second one is:</p>\n<pre><code> public UserResource updateUser(String id, UserResource updatedUser) {\n        var optionalUser = userRepository.findById(Integer.valueOf(updatedUser.getUserName()));\n            updatedUser.setRoles(optionalUser.get().getRoles()\n                    .stream()\n                    .map(RoleEntity::getId)\n                    .map(String::valueOf)\n                    .collect(Collectors.toList()));\n            updatedUser.setLastAccessDate(optionalUser.get().getLastAccessDate());\n        var entity = mapToUserEntity(updatedUser);\n        userRepository.save(entity);\n        return updatedUser;\n    }\n</code></pre>\n<p>So, I have duplicate code in both methods:</p>\n<pre><code>.getRoles()\n.stream()\n.map(RoleEntity::getId)\n.map(String::valueOf)\n.collect(Collectors.toList()));\n</code></pre>\n<p>Could you give me the piece of advice - how can I simplify this without creating additional method which will be called in two methods above?</p>\n"},{"tags":["java","executorservice","java.util.concurrent","java-threads"],"answers":[{"tags":[],"owner":{"account_id":26819783,"reputation":124,"user_id":20409306,"display_name":"Jared Renzullo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667577965,"creation_date":1667577965,"answer_id":74319875,"question_id":74318706,"body_markdown":"The issue is that the elements array contains Futures. You&#39;re trying to put an integer into an array that contains Future objects, not integers. Futures are also immutable so you can&#39;t overwrite the value inside the Future either. Why are you creating the elements array by submitting tasks to the Executor? If you just create an array of integers you will fix your issue, but I&#39;m not entirely clear what the point is of the code you&#39;re writing. Also you are shutting down the executor after submitting the first batch, so the next batch will not be able to be submitted. You will also have some concurrency issues since you&#39;ll have multiple threads reading and writing to the same array.\r\n\r\n```\r\nvar ex = Executors.newFixedThreadPool(10);\r\n\r\nList&lt;Integer&gt; elements = new ArrayList&lt;&gt;();\r\n\r\nfor (int i = 0; i &lt; 100; i++) {\r\n  elements.add(1000);\r\n}\r\n\r\n//ex.shutdown();\r\n\r\nint sum = 0;\r\nfor (int el : elements) {\r\n  sum += el;\r\n}\r\nSystem.out.println(&quot;Initial sum: &quot; + sum);\r\n\r\nfor (int i = 0; i &lt; 10_000; i++) {\r\n  ex.submit(() -&gt; {\r\n      int firstIndex = ThreadLocalRandom.current().nextInt(100);\r\n      int secondIndex = ThreadLocalRandom.current().nextInt(100);\r\n      int randomAmount = ThreadLocalRandom.current().nextInt(1000);\r\n      if (elements.get(firstIndex) - randomAmount &gt; 0) {\r\n          elements.set(firstIndex, elements.get(firstIndex) - randomAmount);\r\n      }\r\n  });\r\n}\r\n```","title":"set&lt;int, Future&lt;Integer&gt; is not applicable to arguments (int,int)","body":"<p>The issue is that the elements array contains Futures. You're trying to put an integer into an array that contains Future objects, not integers. Futures are also immutable so you can't overwrite the value inside the Future either. Why are you creating the elements array by submitting tasks to the Executor? If you just create an array of integers you will fix your issue, but I'm not entirely clear what the point is of the code you're writing. Also you are shutting down the executor after submitting the first batch, so the next batch will not be able to be submitted. You will also have some concurrency issues since you'll have multiple threads reading and writing to the same array.</p>\n<pre><code>var ex = Executors.newFixedThreadPool(10);\n\nList&lt;Integer&gt; elements = new ArrayList&lt;&gt;();\n\nfor (int i = 0; i &lt; 100; i++) {\n  elements.add(1000);\n}\n\n//ex.shutdown();\n\nint sum = 0;\nfor (int el : elements) {\n  sum += el;\n}\nSystem.out.println(&quot;Initial sum: &quot; + sum);\n\nfor (int i = 0; i &lt; 10_000; i++) {\n  ex.submit(() -&gt; {\n      int firstIndex = ThreadLocalRandom.current().nextInt(100);\n      int secondIndex = ThreadLocalRandom.current().nextInt(100);\n      int randomAmount = ThreadLocalRandom.current().nextInt(1000);\n      if (elements.get(firstIndex) - randomAmount &gt; 0) {\n          elements.set(firstIndex, elements.get(firstIndex) - randomAmount);\n      }\n  });\n}\n</code></pre>\n"}],"owner":{"account_id":18511652,"reputation":39,"user_id":13486705,"display_name":"sufocator"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667577965,"creation_date":1667572577,"question_id":74318706,"body_markdown":"Hi I am doing a concurrent programming task in java where I&#39;m using an executorService consisting of 10 threads. I have an array containing 100 elements all set initially to 1000. What I am trying to do is I have 2 indexes from the array, and I need to transfer a random amount from the first index to the second index, my problem is I&#39;m not sure how to use the set function here in this case, as the second parameter of set should be a Future&lt;Integer&gt;.\r\n```\r\n        var ex = Executors.newFixedThreadPool(10);\r\n\r\n        List&lt;Future&lt;Integer&gt;&gt; elements = new ArrayList&lt;&gt;();\r\n\r\n        for (int i = 0; i &lt; 100; i++) {\r\n            elements.add(ex.submit(() -&gt; {\r\n                int val = 1000;\r\n                return val;\r\n            }));\r\n        }\r\n\r\n        ex.shutdown();\r\n\r\n        int sum = 0;\r\n        for (Future&lt;Integer&gt; el : elements) {\r\n            sum += el.get();\r\n        }\r\n        System.out.println(&quot;Initial sum: &quot; + sum);\r\n\r\nfor (int i = 0; i &lt; 10_000; i++) {\r\n            ex.submit(() -&gt; {\r\n                int firstIndex = ThreadLocalRandom.current().nextInt(100);\r\n                int secondIndex = ThreadLocalRandom.current().nextInt(100);\r\n                int randomAmount = ThreadLocalRandom.current().nextInt(1000);\r\n                try {\r\n                    if (elements.get(firstIndex).get() - randomAmount &gt; 0) {\r\n                        elements.set(firstIndex,elements.get(firstIndex).get() - randomAmount);\r\n                    }\r\n                } catch (InterruptedException | ExecutionException e) {\r\n                    // TODO Auto-generated catch block\r\n                    e.printStackTrace();\r\n                }\r\n            });\r\n        }\r\n```","title":"set&lt;int, Future&lt;Integer&gt; is not applicable to arguments (int,int)","body":"<p>Hi I am doing a concurrent programming task in java where I'm using an executorService consisting of 10 threads. I have an array containing 100 elements all set initially to 1000. What I am trying to do is I have 2 indexes from the array, and I need to transfer a random amount from the first index to the second index, my problem is I'm not sure how to use the set function here in this case, as the second parameter of set should be a Future.</p>\n<pre><code>        var ex = Executors.newFixedThreadPool(10);\n\n        List&lt;Future&lt;Integer&gt;&gt; elements = new ArrayList&lt;&gt;();\n\n        for (int i = 0; i &lt; 100; i++) {\n            elements.add(ex.submit(() -&gt; {\n                int val = 1000;\n                return val;\n            }));\n        }\n\n        ex.shutdown();\n\n        int sum = 0;\n        for (Future&lt;Integer&gt; el : elements) {\n            sum += el.get();\n        }\n        System.out.println(&quot;Initial sum: &quot; + sum);\n\nfor (int i = 0; i &lt; 10_000; i++) {\n            ex.submit(() -&gt; {\n                int firstIndex = ThreadLocalRandom.current().nextInt(100);\n                int secondIndex = ThreadLocalRandom.current().nextInt(100);\n                int randomAmount = ThreadLocalRandom.current().nextInt(1000);\n                try {\n                    if (elements.get(firstIndex).get() - randomAmount &gt; 0) {\n                        elements.set(firstIndex,elements.get(firstIndex).get() - randomAmount);\n                    }\n                } catch (InterruptedException | ExecutionException e) {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                }\n            });\n        }\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1667487801,"post_id":74305182,"comment_id":131182752,"body_markdown":"Like the second array would contain numbers such as `11` `193491` and `6`?","body":"Like the second array would contain numbers such as <code>11</code> <code>193491</code> and <code>6</code>?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1667488358,"post_id":74305182,"comment_id":131182987,"body_markdown":"Technically, `6` would have the first digit matching the last digit, it&#39;s just that in both cases the first and last digit is index `0`. In all honesty, you might have an easier time working with the string values of the integers, since `String c = &quot;12321&quot;` could be compared via `c.charAt(0) == c.charAt(c.length() - 1)`.","body":"Technically, <code>6</code> would have the first digit matching the last digit, it&#39;s just that in both cases the first and last digit is index <code>0</code>. In all honesty, you might have an easier time working with the string values of the integers, since <code>String c = &quot;12321&quot;</code> could be compared via <code>c.charAt(0) == c.charAt(c.length() - 1)</code>."},{"owner":{"account_id":18772787,"reputation":43,"user_id":13689270,"display_name":"eScape CS"},"score":0,"creation_date":1667488817,"post_id":74305182,"comment_id":131183148,"body_markdown":"I will try that, thanks. I wanted to know if there is a way to avoid string and just use an array of integers as an input","body":"I will try that, thanks. I wanted to know if there is a way to avoid string and just use an array of integers as an input"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1667490067,"post_id":74305182,"comment_id":131183679,"body_markdown":"You would need to be able to `/10` and `%10` until you hit a `0`, which seems like more work than simple string comparisons. You&#39;re concerned with the lexical representation of the number, moreso than the number itself, so imo it&#39;s appropriate to work with the strings.","body":"You would need to be able to <code>&#47;10</code> and <code>%10</code> until you hit a <code>0</code>, which seems like more work than simple string comparisons. You&#39;re concerned with the lexical representation of the number, moreso than the number itself, so imo it&#39;s appropriate to work with the strings."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1667490522,"post_id":74305182,"comment_id":131183876,"body_markdown":"(In addition to the above, you&#39;d need a `&gt;0` check, since just checking for 0s would fail on, say, `10001`.)","body":"(In addition to the above, you&#39;d need a <code>&gt;0</code> check, since just checking for 0s would fail on, say, <code>10001</code>.)"},{"owner":{"account_id":18772787,"reputation":43,"user_id":13689270,"display_name":"eScape CS"},"score":0,"creation_date":1667494045,"post_id":74305182,"comment_id":131185312,"body_markdown":"I wanted to find pairs. The answers below helped me. Thank you","body":"I wanted to find pairs. The answers below helped me. Thank you"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1667499076,"post_id":74305182,"comment_id":131186982,"body_markdown":"Note that for pairs, there are only 10 possible digits, and thus `10*10 == 100` possible types of pairs. So there may be a storage/cpu optimization available to you where instead of doing comparisons, you can simply &quot;feed&quot; the number into the appropriate set based on what it has.","body":"Note that for pairs, there are only 10 possible digits, and thus <code>10*10 == 100</code> possible types of pairs. So there may be a storage/cpu optimization available to you where instead of doing comparisons, you can simply &quot;feed&quot; the number into the appropriate set based on what it has."}],"answers":[{"comments":[{"owner":{"account_id":18772787,"reputation":43,"user_id":13689270,"display_name":"eScape CS"},"score":0,"creation_date":1667492136,"post_id":74305570,"comment_id":131184545,"body_markdown":"I wanted to compare the number to every other numbers, I added some more code to yours and it works, thank you for the idea.","body":"I wanted to compare the number to every other numbers, I added some more code to yours and it works, thank you for the idea."}],"tags":[],"owner":{"account_id":26611323,"reputation":26,"user_id":20231479,"display_name":"Youssef Rajoul"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667489243,"creation_date":1667489243,"answer_id":74305570,"question_id":74305182,"body_markdown":"You can use the while loop (number /= 10) algorithm to get the first digit.&lt;br/&gt;\r\nAnd number % 10 to get the last digit.&lt;br/&gt;\r\nAnd then you can compare between them with if condition, if true you add that number to the list.&lt;br/&gt;\r\nAnd do not forget the return type of that method it must be List&lt;Integer&gt;&lt;br/&gt;\r\n\r\n    public List&lt;Integer&gt; findDuplicates(int[] array){\r\n        List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; array.length; i++) {\r\n            int firstDigit = array[i];\r\n            int lastDigit = array[i] % 10;\r\n            while (firstDigit &gt;= 10)\r\n                firstDigit /= 10;\r\n            if (firstDigit == lastDigit)\r\n                result.add(array[i]);\r\n        }\r\n        return result;\r\n    }","title":"Find numbers with same first and last digits","body":"<p>You can use the while loop (number /= 10) algorithm to get the first digit.<br/>\nAnd number % 10 to get the last digit.<br/>\nAnd then you can compare between them with if condition, if true you add that number to the list.<br/>\nAnd do not forget the return type of that method it must be List<br/></p>\n<pre><code>public List&lt;Integer&gt; findDuplicates(int[] array){\n    List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; array.length; i++) {\n        int firstDigit = array[i];\n        int lastDigit = array[i] % 10;\n        while (firstDigit &gt;= 10)\n            firstDigit /= 10;\n        if (firstDigit == lastDigit)\n            result.add(array[i]);\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25274459,"reputation":71,"user_id":19103327,"display_name":"Coline MIGNOT"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667489865,"creation_date":1667489865,"answer_id":74305728,"question_id":74305182,"body_markdown":"The easiest way is to parse your numbers into strings and compare them. I did it this way :\r\n\r\n    public int[] findDuplicates(int[] a) {\r\n        List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\r\n        boolean[] numbersThatHaveBeenAdded = new boolean[a.length];\r\n\r\n        for (int i = 0; i &lt; a.length; i++) {\r\n            for (int j = i + 1; j &lt; a.length; j++) {\r\n\r\n                String iNumber = String.valueOf(a[i]);\r\n                String jNumber = String.valueOf(a[j]);\r\n                if (iNumber.charAt(0) == jNumber.charAt(0)\r\n                    &amp;&amp; iNumber.charAt(iNumber.length()-1) == jNumber.charAt(jNumber.length()-1)) {\r\n\r\n                    if (!numbersThatHaveBeenAdded[i]) {\r\n                        result.add(a[i]);\r\n                        numbersThatHaveBeenAdded[i] = true;\r\n                    }\r\n                    if (!numbersThatHaveBeenAdded[j]) {\r\n                        result.add(a[j]);\r\n                        numbersThatHaveBeenAdded[j] = true;\r\n                    }\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n        return result.stream()\r\n            .mapToInt(Integer::intValue)\r\n            .toArray();\r\n    }\r\n\r\nAnd I used a boolean array to keep in memory the numbers I already added in the result, to avoid duplication.","title":"Find numbers with same first and last digits","body":"<p>The easiest way is to parse your numbers into strings and compare them. I did it this way :</p>\n<pre><code>public int[] findDuplicates(int[] a) {\n    List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\n    boolean[] numbersThatHaveBeenAdded = new boolean[a.length];\n\n    for (int i = 0; i &lt; a.length; i++) {\n        for (int j = i + 1; j &lt; a.length; j++) {\n\n            String iNumber = String.valueOf(a[i]);\n            String jNumber = String.valueOf(a[j]);\n            if (iNumber.charAt(0) == jNumber.charAt(0)\n                &amp;&amp; iNumber.charAt(iNumber.length()-1) == jNumber.charAt(jNumber.length()-1)) {\n\n                if (!numbersThatHaveBeenAdded[i]) {\n                    result.add(a[i]);\n                    numbersThatHaveBeenAdded[i] = true;\n                }\n                if (!numbersThatHaveBeenAdded[j]) {\n                    result.add(a[j]);\n                    numbersThatHaveBeenAdded[j] = true;\n                }\n            }\n\n        }\n    }\n\n    return result.stream()\n        .mapToInt(Integer::intValue)\n        .toArray();\n}\n</code></pre>\n<p>And I used a boolean array to keep in memory the numbers I already added in the result, to avoid duplication.</p>\n"},{"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1667578549,"post_id":74308022,"comment_id":131207227,"body_markdown":"@eScapeCS  I added more information which may help.  Please check it out.","body":"@eScapeCS  I added more information which may help.  Please check it out."}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667577717,"creation_date":1667500555,"answer_id":74308022,"question_id":74305182,"body_markdown":"&gt; I prefer to do this using integers instead of strings.\r\n\r\nYou can do it pretty easily with math using a `log` function.  Here, `^` is exponentiation.  This uses the fact that for some number `n`,  `n = 10^y`, where `y = log10(n)`.  Unless `y` is a power of `10`, it will have a fractional part which should be ignored. So `log10(12345) = 4.091491094267951`.  Ignoring the fraction and computing `10^4 == 10,000` which will yield `1` when dividing `12345`.  The right most digit is simply `12345 % 10` using the remainder operator.   \r\n```\r\nint[] testData = {1,3,122,121,455,19202,20222, 29927, 291957, 49855, 291293};\r\nint[] result = findDuplicates(testData);\r\nSystem.out.println(Arrays.toString(result));\r\n\r\n```\r\nprints\r\n```\r\n[29927, 291957, 1, 121, 122, 19202, 455, 49855]\r\n```\r\nThis method uses a `Map&lt;Integer, List&lt;Integer&gt;&gt;` to collect the values.\r\n- The key is the first and last digits combined `firstDigit * 10 + lastDigit` which is determined in the `getFirstAndLast` method.\r\n- Once the map is generated, the values are processed to return just the array of values which met the criteria. Since this works with a single iteration, no duplicates will occur *unless* they were included in the data.\r\n```\r\npublic static int[] findDuplicates(int[] array) {\r\n    // collect into a map. Key = firstDigit * 10 + lastDigit\r\n    Map&lt;Integer, List&lt;Integer&gt;&gt; map = Arrays.stream(array).boxed()\r\n            .collect(Collectors.groupingBy(i-&gt;getFirstAndLast(i)));\r\n    \r\n    // map.values() returns a `Collection of lists.\r\n    // The following transforms the those Collections to a flattened array \r\n    // of ints, ignoring lists that have a single, unique, value.\r\n    return map.values().stream().filter(list -&gt; list.size() &gt; 1)\r\n            .flatMap(List::stream).mapToInt(Integer::intValue).toArray();\r\n}\r\n\r\n```\r\n- The method takes the target and the digits argument.            \r\n- The digits from the target are extracted and compared the supplied digits value by building the digits value from the first and last digits of the target. \r\n\r\n```   \r\npublic static int getFirstAndLast(int target) {\r\n    int divisor = (int) Math.pow(10, (int) Math.log10(target));\r\n    int firstDigit = target / divisor;\r\n    int lastDigit = target % 10;\r\n    return firstDigit * 10 + lastDigit;\r\n}\r\n```\r\n**Notes:**\r\n- `Arrays` are cumbersome, especially when working between primitive arrays and arrays or `Lists` of objects. I recommend you use `Collections` where ever possible.\r\n- The two statements in the `findDuplicates` method could have been combined. However, I find doing so to be cluttered and of no performance benefit.","title":"Find numbers with same first and last digits","body":"<blockquote>\n<p>I prefer to do this using integers instead of strings.</p>\n</blockquote>\n<p>You can do it pretty easily with math using a <code>log</code> function.  Here, <code>^</code> is exponentiation.  This uses the fact that for some number <code>n</code>,  <code>n = 10^y</code>, where <code>y = log10(n)</code>.  Unless <code>y</code> is a power of <code>10</code>, it will have a fractional part which should be ignored. So <code>log10(12345) = 4.091491094267951</code>.  Ignoring the fraction and computing <code>10^4 == 10,000</code> which will yield <code>1</code> when dividing <code>12345</code>.  The right most digit is simply <code>12345 % 10</code> using the remainder operator.</p>\n<pre><code>int[] testData = {1,3,122,121,455,19202,20222, 29927, 291957, 49855, 291293};\nint[] result = findDuplicates(testData);\nSystem.out.println(Arrays.toString(result));\n\n</code></pre>\n<p>prints</p>\n<pre><code>[29927, 291957, 1, 121, 122, 19202, 455, 49855]\n</code></pre>\n<p>This method uses a <code>Map&lt;Integer, List&lt;Integer&gt;&gt;</code> to collect the values.</p>\n<ul>\n<li>The key is the first and last digits combined <code>firstDigit * 10 + lastDigit</code> which is determined in the <code>getFirstAndLast</code> method.</li>\n<li>Once the map is generated, the values are processed to return just the array of values which met the criteria. Since this works with a single iteration, no duplicates will occur <em>unless</em> they were included in the data.</li>\n</ul>\n<pre><code>public static int[] findDuplicates(int[] array) {\n    // collect into a map. Key = firstDigit * 10 + lastDigit\n    Map&lt;Integer, List&lt;Integer&gt;&gt; map = Arrays.stream(array).boxed()\n            .collect(Collectors.groupingBy(i-&gt;getFirstAndLast(i)));\n    \n    // map.values() returns a `Collection of lists.\n    // The following transforms the those Collections to a flattened array \n    // of ints, ignoring lists that have a single, unique, value.\n    return map.values().stream().filter(list -&gt; list.size() &gt; 1)\n            .flatMap(List::stream).mapToInt(Integer::intValue).toArray();\n}\n\n</code></pre>\n<ul>\n<li>The method takes the target and the digits argument.</li>\n<li>The digits from the target are extracted and compared the supplied digits value by building the digits value from the first and last digits of the target.</li>\n</ul>\n<pre><code>public static int getFirstAndLast(int target) {\n    int divisor = (int) Math.pow(10, (int) Math.log10(target));\n    int firstDigit = target / divisor;\n    int lastDigit = target % 10;\n    return firstDigit * 10 + lastDigit;\n}\n</code></pre>\n<p><strong>Notes:</strong></p>\n<ul>\n<li><code>Arrays</code> are cumbersome, especially when working between primitive arrays and arrays or <code>Lists</code> of objects. I recommend you use <code>Collections</code> where ever possible.</li>\n<li>The two statements in the <code>findDuplicates</code> method could have been combined. However, I find doing so to be cluttered and of no performance benefit.</li>\n</ul>\n"}],"owner":{"account_id":18772787,"reputation":43,"user_id":13689270,"display_name":"eScape CS"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1307,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74305728,"answer_count":3,"score":1,"last_activity_date":1667577717,"creation_date":1667487632,"question_id":74305182,"body_markdown":"Sorry if I type something wrong, I am new. I want to create a method that takes an array, and gives back an array with the numbers that have the same first and last digits in the previous array.Example: 12 is equal to 1342. \r\n\r\nI have created this for loop to go through the numbers, but I don&#39;t know how to compare them.\r\n\r\n```\r\npublic int[] findDuplicates(int[] a) {\r\n      List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\r\n\t\tfor (int i = 0; i &lt; a.length; i++) {\r\n\t\t\tfor (int j = i + 1; j &lt; a.length; j++) {\r\n\t\t\t\t\r\n\t\t\t\tif ((//what do I write here) ) {\r\n\t\t\t\t\t//and here\r\n\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn result.stream()\r\n            .mapToInt(Integer::intValue)\r\n            .toArray();\r\n\t}\r\n```","title":"Find numbers with same first and last digits","body":"<p>Sorry if I type something wrong, I am new. I want to create a method that takes an array, and gives back an array with the numbers that have the same first and last digits in the previous array.Example: 12 is equal to 1342.</p>\n<p>I have created this for loop to go through the numbers, but I don't know how to compare them.</p>\n<pre><code>public int[] findDuplicates(int[] a) {\n      List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; a.length; i++) {\n            for (int j = i + 1; j &lt; a.length; j++) {\n                \n                if ((//what do I write here) ) {\n                    //and here\n\n                }\n                \n            }\n        }\n\n        return result.stream()\n            .mapToInt(Integer::intValue)\n            .toArray();\n    }\n</code></pre>\n"},{"tags":["java","reactive","completable-future","mutiny"],"comments":[{"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"score":1,"creation_date":1667519483,"post_id":74310062,"comment_id":131192038,"body_markdown":"What problem does `onItem().transformToIterable()` cause for you? It converts the Multi&lt;List&lt;Integer&gt;&gt; to Multi&lt;Integer&gt; for you.","body":"What problem does <code>onItem().transformToIterable()</code> cause for you? It converts the Multi&lt;List&lt;Integer&gt;&gt; to Multi&lt;Integer&gt; for you."},{"owner":{"account_id":5559246,"reputation":3573,"user_id":4409319,"accept_rate":70,"display_name":"JSelser"},"score":0,"creation_date":1667557900,"post_id":74310062,"comment_id":131199576,"body_markdown":"I like your username sir, I&#39;ve downedvoted the answer but upvoted your comment to make it even. Now to the point, there is nothing wrong with `onItem().transformToIterable()` but feels there may be a nicer shorter way","body":"I like your username sir, I&#39;ve downedvoted the answer but upvoted your comment to make it even. Now to the point, there is nothing wrong with <code>onItem().transformToIterable()</code> but feels there may be a nicer shorter way"}],"answers":[{"comments":[{"owner":{"account_id":5559246,"reputation":3573,"user_id":4409319,"accept_rate":70,"display_name":"JSelser"},"score":0,"creation_date":1667557697,"post_id":74310805,"comment_id":131199507,"body_markdown":"I wished `.get()` method was named `.butNotReally()` so it would paint a more accurate picture of this answer as: `getStuffAsync().butNotReally()`","body":"I wished <code>.get()</code> method was named <code>.butNotReally()</code> so it would paint a more accurate picture of this answer as: <code>getStuffAsync().butNotReally()</code>"},{"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"score":1,"creation_date":1667577348,"post_id":74310805,"comment_id":131206742,"body_markdown":"Okay, I updated and added a different option so that you dont have to use `getStuffAsync().butNotReally()`","body":"Okay, I updated and added a different option so that you dont have to use <code>getStuffAsync().butNotReally()</code>"}],"tags":[],"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667577324,"creation_date":1667520320,"answer_id":74310805,"question_id":74310062,"body_markdown":"You can use `Multi.createFrom().iterable()` and pass in the result of the CompletableFuture. \r\n\r\n    Multi&lt;Integer&gt; stream = Multi\r\n                        .createFrom()\r\n                        .iterable(getStuffAsync().get());\r\n\r\n---\r\n\r\n#### Alternatively use a utility method to create it. \r\n\r\nCreate this class Multi.java (or other name) in a package such as util:\r\n\r\n    package util;\r\n    \r\n    import io.smallrye.mutiny.groups.*;\r\n    \r\n    import java.util.concurrent.CompletableFuture;\r\n    import java.util.function.Function;\r\n    \r\n    \r\n    public interface Multi&lt;T&gt; extends io.smallrye.mutiny.Multi&lt;T&gt; {\r\n        static &lt;T&gt; io.smallrye.mutiny.Multi&lt;T&gt; createFromCompletionStageIterable(CompletableFuture&lt;? extends Iterable&lt;T&gt;&gt; completableFuture) {\r\n            return MultiCreate.INSTANCE.completionStage(completableFuture).onItem().transformToIterable(Function.identity());\r\n        }\r\n    }\r\n\r\nThen you can use your custom method like this:\r\n\r\n    Multi&lt;Integer&gt; stream = util.Multi\r\n    .createFromCompletionStageIterable(getStuffAsync());","title":"Java Mutiny Multi from CompletableFuture&lt;List&lt;T&gt;&gt;","body":"<p>You can use <code>Multi.createFrom().iterable()</code> and pass in the result of the CompletableFuture.</p>\n<pre><code>Multi&lt;Integer&gt; stream = Multi\n                    .createFrom()\n                    .iterable(getStuffAsync().get());\n</code></pre>\n<hr />\n<h4>Alternatively use a utility method to create it.</h4>\n<p>Create this class Multi.java (or other name) in a package such as util:</p>\n<pre><code>package util;\n\nimport io.smallrye.mutiny.groups.*;\n\nimport java.util.concurrent.CompletableFuture;\nimport java.util.function.Function;\n\n\npublic interface Multi&lt;T&gt; extends io.smallrye.mutiny.Multi&lt;T&gt; {\n    static &lt;T&gt; io.smallrye.mutiny.Multi&lt;T&gt; createFromCompletionStageIterable(CompletableFuture&lt;? extends Iterable&lt;T&gt;&gt; completableFuture) {\n        return MultiCreate.INSTANCE.completionStage(completableFuture).onItem().transformToIterable(Function.identity());\n    }\n}\n</code></pre>\n<p>Then you can use your custom method like this:</p>\n<pre><code>Multi&lt;Integer&gt; stream = util.Multi\n.createFromCompletionStageIterable(getStuffAsync());\n</code></pre>\n"}],"owner":{"account_id":5559246,"reputation":3573,"user_id":4409319,"accept_rate":70,"display_name":"JSelser"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":454,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667577324,"creation_date":1667513162,"question_id":74310062,"body_markdown":"say you have a method:\r\n\r\n```\r\npublic CompletableFuture&lt;List&lt;Integer&gt;&gt; getStuffAsync()\r\n```\r\n\r\nI want the same stream as:\r\n\r\n```\r\nMulti&lt;Integer&gt; stream  = Multi\r\n.createFrom().completionStage(() -&gt; getStuffAsync())\r\n.onItem().transformToIterable(Function.identity())\r\n```\r\n\r\nwhich is a stream of each integer returned by the list from the method specified at the beggining...\r\n\r\nbut without the `onItem().transformToIterable()`, hopefully something like:\r\n\r\n```\r\nMulti.createFrom().completionStageIterable(() -&gt; getStuffAsync())\r\n```\r\n\r\npurely for aesthetic reasons and to save on valuable characters","title":"Java Mutiny Multi from CompletableFuture&lt;List&lt;T&gt;&gt;","body":"<p>say you have a method:</p>\n<pre><code>public CompletableFuture&lt;List&lt;Integer&gt;&gt; getStuffAsync()\n</code></pre>\n<p>I want the same stream as:</p>\n<pre><code>Multi&lt;Integer&gt; stream  = Multi\n.createFrom().completionStage(() -&gt; getStuffAsync())\n.onItem().transformToIterable(Function.identity())\n</code></pre>\n<p>which is a stream of each integer returned by the list from the method specified at the beggining...</p>\n<p>but without the <code>onItem().transformToIterable()</code>, hopefully something like:</p>\n<pre><code>Multi.createFrom().completionStageIterable(() -&gt; getStuffAsync())\n</code></pre>\n<p>purely for aesthetic reasons and to save on valuable characters</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":6,"creation_date":1566969101,"post_id":57685424,"comment_id":101816296,"body_markdown":"I&#39;m voting to close this question as off-topic because this is not a &quot;do my homework for me&quot; site","body":"I&#39;m voting to close this question as off-topic because this is not a &quot;do my homework for me&quot; site"},{"owner":{"account_id":6748708,"reputation":31,"user_id":5199479,"display_name":"Tunde"},"score":0,"creation_date":1566969412,"post_id":57685424,"comment_id":101816379,"body_markdown":"I was having issues adding my code, it there now. Thanks.","body":"I was having issues adding my code, it there now. Thanks."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1566969592,"post_id":57685424,"comment_id":101816429,"body_markdown":"The opposite of `(a == 0 || b == 0)` is `(a != 0 &amp;&amp; b != 0)`. The `if` statement in the second loop uses `||` when it should use `&amp;&amp;`.","body":"The opposite of <code>(a == 0 || b == 0)</code> is <code>(a != 0 &amp;&amp; b != 0)</code>. The <code>if</code> statement in the second loop uses <code>||</code> when it should use <code>&amp;&amp;</code>."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1566969683,"post_id":57685424,"comment_id":101816454,"body_markdown":"&quot;Count all that is, and count all that isn&#39;t. The sum of those counts should equal the total count.&quot; --- In what world wouldn&#39;t they equal? You just counted all the values, so how can that not equal to total count? That test makes no sense whatsoever.","body":"&quot;Count all that is, and count all that isn&#39;t. The sum of those counts should equal the total count.&quot; --- In what world wouldn&#39;t they equal? You just counted all the values, so how can that not equal to total count? That test makes no sense whatsoever."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1566969814,"post_id":57685424,"comment_id":101816489,"body_markdown":"`a / 2 == 0` is not the test for whether `a` is *divisible* by 2. You need to use `%` operator, not `/` operator, to test that.","body":"<code>a &#47; 2 == 0</code> is not the test for whether <code>a</code> is <i>divisible</i> by 2. You need to use <code>%</code> operator, not <code>&#47;</code> operator, to test that."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1566969870,"post_id":57685424,"comment_id":101816503,"body_markdown":"@ScaryWombat If `a[j]` is 1, the result is false.","body":"@ScaryWombat If <code>a[j]</code> is 1, the result is false."},{"owner":{"account_id":6748708,"reputation":31,"user_id":5199479,"display_name":"Tunde"},"score":0,"creation_date":1566969899,"post_id":57685424,"comment_id":101816511,"body_markdown":"@Andeas, thanks a lot, it worked. But for this input int[] a = {3, 3, 5, 7, 11} It&#39;s returning 1 instead of 0.","body":"@Andeas, thanks a lot, it worked. But for this input int[] a = {3, 3, 5, 7, 11} It&#39;s returning 1 instead of 0."},{"owner":{"account_id":6748708,"reputation":31,"user_id":5199479,"display_name":"Tunde"},"score":0,"creation_date":1566970151,"post_id":57685424,"comment_id":101816579,"body_markdown":"@Hulk because the no integer is divisible by 2.","body":"@Hulk because the no integer is divisible by 2."},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1566970162,"post_id":57685424,"comment_id":101816582,"body_markdown":"You need to add a check that *each* of the numbers you are looking for is present. Currently you are only checking the sum. You can do that by maintaining 3 separate counts instead of `countOne`.","body":"You need to add a check that <i>each</i> of the numbers you are looking for is present. Currently you are only checking the sum. You can do that by maintaining 3 separate counts instead of <code>countOne</code>."},{"owner":{"account_id":6748708,"reputation":31,"user_id":5199479,"display_name":"Tunde"},"score":0,"creation_date":1566970779,"post_id":57685424,"comment_id":101816766,"body_markdown":"@Hulk thanks, trying to wrap my head around it.","body":"@Hulk thanks, trying to wrap my head around it."},{"owner":{"account_id":15623101,"reputation":2772,"user_id":11271432,"display_name":"Cray"},"score":0,"creation_date":1566972604,"post_id":57685424,"comment_id":101817328,"body_markdown":"Basically what you are trying to do is `if divisible by 2, 3 or 5 -&gt; countOne++, else -&gt; countTwo++`. So since all elements are counted for in one of the counters your total sum will always equal array length. As Andreas said earlier this check makes no sense currently. Are you expecting to `return 1` if and only if `countOne == array.length` or if atleast one number divisible by 2, 3 AND 5 is present?","body":"Basically what you are trying to do is <code>if divisible by 2, 3 or 5 -&gt; countOne++, else -&gt; countTwo++</code>. So since all elements are counted for in one of the counters your total sum will always equal array length. As Andreas said earlier this check makes no sense currently. Are you expecting to <code>return 1</code> if and only if <code>countOne == array.length</code> or if atleast one number divisible by 2, 3 AND 5 is present?"},{"owner":{"account_id":15490641,"reputation":590,"user_id":12009071,"display_name":"Daniel_Kamel"},"score":0,"creation_date":1567172594,"post_id":57685424,"comment_id":101895955,"body_markdown":"@Tunde did my answer work?","body":"@Tunde did my answer work?"},{"owner":{"account_id":6748708,"reputation":31,"user_id":5199479,"display_name":"Tunde"},"score":0,"creation_date":1567348326,"post_id":57685424,"comment_id":101931250,"body_markdown":"@Daniel K, there has to be a number divisible by 2, another one divisible by 3 and a third number which would be divisible by 5, this is the first thing to check ,if this first check fails, it should return 0. The second thing is just to count all other numbers that are not divisible by either 2, 3 or 5, then it should return 1 because obviously the length of the array would be equal to the total number of the array elements. Thanks a l","body":"@Daniel K, there has to be a number divisible by 2, another one divisible by 3 and a third number which would be divisible by 5, this is the first thing to check ,if this first check fails, it should return 0. The second thing is just to count all other numbers that are not divisible by either 2, 3 or 5, then it should return 1 because obviously the length of the array would be equal to the total number of the array elements. Thanks a l"},{"owner":{"account_id":15490641,"reputation":590,"user_id":12009071,"display_name":"Daniel_Kamel"},"score":0,"creation_date":1567348677,"post_id":57685424,"comment_id":101931335,"body_markdown":"@Tunde did my answer work??","body":"@Tunde did my answer work??"},{"owner":{"account_id":6748708,"reputation":31,"user_id":5199479,"display_name":"Tunde"},"score":0,"creation_date":1567382819,"post_id":57685424,"comment_id":101937807,"body_markdown":"@Daniel K, no it didn&#39;t. This input int[] arr = {2, 3, 5, 7, 11} it&#39;s returning 0 instead of 1. Thanks.","body":"@Daniel K, no it didn&#39;t. This input int[] arr = {2, 3, 5, 7, 11} it&#39;s returning 0 instead of 1. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":15490641,"reputation":590,"user_id":12009071,"display_name":"Daniel_Kamel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566975356,"creation_date":1566974935,"answer_id":57686469,"question_id":57685424,"body_markdown":"When you want to compare if an integer is divisible by a number then you should use the [remainder operator][1]\r\n\r\nSo here&#39;s the code:\r\n\r\n```\r\npublic class Array {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        int[] arr = {2, 3, 5, 7, 11};\r\n\r\n        System.out.println(is235Array(arr));\r\n    }\r\n\r\n    public static int is235Array(int[] a) {\r\n        int n = a.length;\r\n        int countOne = 0;\r\n        int countTwo = 0;\r\n\r\n        for (int i = 0; i &lt; a.length; i++) {\r\n            if (a[i] % 2 == 0 || a[i] % 3 == 0 || a[i] / 5 == 0) {\r\n                countOne++;\r\n            }else{countTwo++;}\r\n        }\r\n        \r\n        if (countOne + countTwo != n) {\r\n            return 0;\r\n        }else{return 1;}\r\n        \r\n    }\r\n}\r\n```\r\n\r\nAlso notice that there is no need to write that 2nd ```for loop``` as it isn&#39;t necessary at all and a bad practice if you can do the task using a single for loop.\r\n\r\nAlso as mentioned is the [answer][2] of the question, a ```for-each loop``` is better [performance wise] than the regular ```for loop``` so using a ```for-each loop``` would turn in into:\r\n\r\n```\r\npublic class Array {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        int[] arr = {2, 3, 5, 7, 11};\r\n\r\n        System.out.println(is235Array(arr));\r\n    }\r\n\r\n    public static int is235Array(int[] a) {\r\n        int countOne = 0;\r\n        int countTwo = 0;\r\n\r\n        for (int i : a) {\r\n            if (i % 2 == 0 || i % 3 == 0 || i / 5 == 0) {\r\n                countOne++;\r\n            }else{countTwo++;}\r\n        }\r\n\r\n        if (countOne + countTwo != a.length) {\r\n            return 0;\r\n        }else{return 1;}\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: http://www.cafeaulait.org/course/week2/15.html\r\n  [2]: https://stackoverflow.com/questions/256859/is-there-a-performance-difference-between-a-for-loop-and-a-for-each-loop","title":"Check if array Is235","body":"<p>When you want to compare if an integer is divisible by a number then you should use the <a href=\"http://www.cafeaulait.org/course/week2/15.html\" rel=\"nofollow noreferrer\">remainder operator</a></p>\n\n<p>So here's the code:</p>\n\n<pre><code>public class Array {\n\n    public static void main(String[] args) {\n\n        int[] arr = {2, 3, 5, 7, 11};\n\n        System.out.println(is235Array(arr));\n    }\n\n    public static int is235Array(int[] a) {\n        int n = a.length;\n        int countOne = 0;\n        int countTwo = 0;\n\n        for (int i = 0; i &lt; a.length; i++) {\n            if (a[i] % 2 == 0 || a[i] % 3 == 0 || a[i] / 5 == 0) {\n                countOne++;\n            }else{countTwo++;}\n        }\n\n        if (countOne + countTwo != n) {\n            return 0;\n        }else{return 1;}\n\n    }\n}\n</code></pre>\n\n<p>Also notice that there is no need to write that 2nd <code>for loop</code> as it isn't necessary at all and a bad practice if you can do the task using a single for loop.</p>\n\n<p>Also as mentioned is the <a href=\"https://stackoverflow.com/questions/256859/is-there-a-performance-difference-between-a-for-loop-and-a-for-each-loop\">answer</a> of the question, a <code>for-each loop</code> is better [performance wise] than the regular <code>for loop</code> so using a <code>for-each loop</code> would turn in into:</p>\n\n<pre><code>public class Array {\n\n    public static void main(String[] args) {\n\n        int[] arr = {2, 3, 5, 7, 11};\n\n        System.out.println(is235Array(arr));\n    }\n\n    public static int is235Array(int[] a) {\n        int countOne = 0;\n        int countTwo = 0;\n\n        for (int i : a) {\n            if (i % 2 == 0 || i % 3 == 0 || i / 5 == 0) {\n                countOne++;\n            }else{countTwo++;}\n        }\n\n        if (countOne + countTwo != a.length) {\n            return 0;\n        }else{return 1;}\n\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":15490641,"reputation":590,"user_id":12009071,"display_name":"Daniel_Kamel"},"score":0,"creation_date":1567582095,"post_id":57755450,"comment_id":102000639,"body_markdown":"@Tunde your welcome, could you also please accept my answer as the correct one?","body":"@Tunde your welcome, could you also please accept my answer as the correct one?"},{"owner":{"account_id":6748708,"reputation":31,"user_id":5199479,"display_name":"Tunde"},"score":0,"creation_date":1567913018,"post_id":57755450,"comment_id":102105987,"body_markdown":"Sorry for my late response. Please how do i accept an answer as the correct one?","body":"Sorry for my late response. Please how do i accept an answer as the correct one?"},{"owner":{"account_id":15490641,"reputation":590,"user_id":12009071,"display_name":"Daniel_Kamel"},"score":0,"creation_date":1567950336,"post_id":57755450,"comment_id":102112382,"body_markdown":"you can accept it by clicking on the &quot;correct&quot; sign which is under where you can downvote my answer @Tunde","body":"you can accept it by clicking on the &quot;correct&quot; sign which is under where you can downvote my answer @Tunde"}],"tags":[],"owner":{"account_id":15490641,"reputation":590,"user_id":12009071,"display_name":"Daniel_Kamel"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1567420499,"creation_date":1567420499,"answer_id":57755450,"question_id":57685424,"body_markdown":"Try this, I tested it and it works, you should use the remainder operator ```%```:\r\n```\r\npublic class Array {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        int[] arr = {2, 3, 5, 7, 11};\r\n\r\n        System.out.println(is235Array(arr));\r\n    }\r\n\r\n    public static int is235Array(int[] a) {\r\n        int countOne = 0;\r\n        int countTwo = 0;\r\n\r\n        for (int i : a) {\r\n            if (i % 2 == 0 || i % 3 == 0 || i % 5 == 0) {\r\n                countOne++;\r\n            }else{countTwo++;}\r\n        }\r\n\r\n        if (countOne + countTwo != a.length) {\r\n            return 0;\r\n        }else{return 1;}\r\n\r\n    }\r\n}\r\n```","title":"Check if array Is235","body":"<p>Try this, I tested it and it works, you should use the remainder operator <code>%</code>:</p>\n\n<pre><code>public class Array {\n\n    public static void main(String[] args) {\n\n        int[] arr = {2, 3, 5, 7, 11};\n\n        System.out.println(is235Array(arr));\n    }\n\n    public static int is235Array(int[] a) {\n        int countOne = 0;\n        int countTwo = 0;\n\n        for (int i : a) {\n            if (i % 2 == 0 || i % 3 == 0 || i % 5 == 0) {\n                countOne++;\n            }else{countTwo++;}\n        }\n\n        if (countOne + countTwo != a.length) {\n            return 0;\n        }else{return 1;}\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13271791,"reputation":157,"user_id":9582575,"display_name":"Alagie F. Nget"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667577159,"creation_date":1667577159,"answer_id":74319687,"question_id":57685424,"body_markdown":"Check if an array is 235. is235Array.\r\n\r\n    public class Array{\r\n\r\n    static int is235Array(int[] a){\r\n\r\n        int countNonMultiples = 0;\r\n        int countMultiplesOfTwo = 0;\r\n        int countMultiplesOfThree = 0;\r\n        int countMultiplesOfFive = 0;\r\n\r\n        for (int i : a){\r\n            if(i % 2 == 0 ){\r\n                countMultiplesOfTwo++;\r\n            }\r\n            if(i % 3 == 0){\r\n                countMultiplesOfThree++;\r\n            }\r\n            if(i % 5 == 0){\r\n                countMultiplesOfFive++;\r\n            }\r\n            if(i % 2 != 0 &amp;&amp; i % 3 != 0 &amp;&amp; i % 5 != 0 ){\r\n                countNonMultiples++;\r\n            }\r\n        }\r\n\r\n        if(countMultiplesOfTwo + countMultiplesOfThree + countMultiplesOfFive + countNonMultiples != a.length){\r\n            return 0;\r\n        }\r\n        return 1;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        int[] arr = {7,2,7,2,7,2,7,2,3,7,7};\r\n\r\n        System.out.println(is235Array(arr));\r\n    }\r\n}","title":"Check if array Is235","body":"<p>Check if an array is 235. is235Array.</p>\n<pre><code>public class Array{\n\nstatic int is235Array(int[] a){\n\n    int countNonMultiples = 0;\n    int countMultiplesOfTwo = 0;\n    int countMultiplesOfThree = 0;\n    int countMultiplesOfFive = 0;\n\n    for (int i : a){\n        if(i % 2 == 0 ){\n            countMultiplesOfTwo++;\n        }\n        if(i % 3 == 0){\n            countMultiplesOfThree++;\n        }\n        if(i % 5 == 0){\n            countMultiplesOfFive++;\n        }\n        if(i % 2 != 0 &amp;&amp; i % 3 != 0 &amp;&amp; i % 5 != 0 ){\n            countNonMultiples++;\n        }\n    }\n\n    if(countMultiplesOfTwo + countMultiplesOfThree + countMultiplesOfFive + countNonMultiples != a.length){\n        return 0;\n    }\n    return 1;\n}\n\npublic static void main(String[] args) {\n    int[] arr = {7,2,7,2,7,2,7,2,3,7,7};\n\n    System.out.println(is235Array(arr));\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":6748708,"reputation":31,"user_id":5199479,"display_name":"Tunde"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":464,"favorite_count":0,"down_vote_count":8,"up_vote_count":2,"accepted_answer_id":57755450,"answer_count":3,"score":-6,"last_activity_date":1667577159,"creation_date":1566969032,"question_id":57685424,"body_markdown":"I want to check if an array Is235. Is235 is an array that has an integer divisible by 2, another integer divisible by 3 and a third integer divisible by 5. The other integers in the array that aren’t divisible by either of 2, 3, or 5 when added to the integers divisible by 2, 3 and 5 should be equal to the total number of elements in the array. Return 1 if the array Is235, else return 0. Please note that array cannot contain negative integers or zero. I want to approach this in a brute force manner only, thanks for your help in advance.\r\nMy wrong attempt -  \r\n\r\n    public class Array {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            int[] arr = {2, 3, 5, 7, 11};\r\n    \r\n            System.out.println(is235Array(arr));\r\n        }\r\n    \r\n        public static int is235Array(int[] a) {\r\n            int n = a.length;\r\n            int countOne = 0;\r\n            int countTwo = 0;\r\n    \r\n            for (int i = 0; i &lt; a.length; i++) {\r\n                if (a[i] / 2 == 0 || a[i] / 3 == 0 || a[i] / 5 == 0) {\r\n                    countOne++;\r\n                }\r\n            }\r\n            for (int j = 0; j &lt; a.length; j++) {\r\n                if (a[j] / 2 != 0 || a[j] / 3 != 0 || a[j] / 5 != 0) {\r\n                    countTwo++;\r\n                }\r\n            }\r\n            if (countOne + countTwo != n) {\r\n                return 0;\r\n            }\r\n            return 1;\r\n        }\r\n    }\r\n\r\nMy countOne and countTwo variables couldn&#39;t count the integers as i taught it would.\r\n\r\n\r\n    ","title":"Check if array Is235","body":"<p>I want to check if an array Is235. Is235 is an array that has an integer divisible by 2, another integer divisible by 3 and a third integer divisible by 5. The other integers in the array that aren’t divisible by either of 2, 3, or 5 when added to the integers divisible by 2, 3 and 5 should be equal to the total number of elements in the array. Return 1 if the array Is235, else return 0. Please note that array cannot contain negative integers or zero. I want to approach this in a brute force manner only, thanks for your help in advance.\nMy wrong attempt -  </p>\n\n<pre><code>public class Array {\n\n    public static void main(String[] args) {\n\n        int[] arr = {2, 3, 5, 7, 11};\n\n        System.out.println(is235Array(arr));\n    }\n\n    public static int is235Array(int[] a) {\n        int n = a.length;\n        int countOne = 0;\n        int countTwo = 0;\n\n        for (int i = 0; i &lt; a.length; i++) {\n            if (a[i] / 2 == 0 || a[i] / 3 == 0 || a[i] / 5 == 0) {\n                countOne++;\n            }\n        }\n        for (int j = 0; j &lt; a.length; j++) {\n            if (a[j] / 2 != 0 || a[j] / 3 != 0 || a[j] / 5 != 0) {\n                countTwo++;\n            }\n        }\n        if (countOne + countTwo != n) {\n            return 0;\n        }\n        return 1;\n    }\n}\n</code></pre>\n\n<p>My countOne and countTwo variables couldn't count the integers as i taught it would.</p>\n"},{"tags":["java","string","multiple-matches"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1667574325,"post_id":74319012,"comment_id":131205633,"body_markdown":"You may be forgetting about what could come between the two things you are searching for. You should include some example inputs, and what matches you are hoping to find in them.","body":"You may be forgetting about what could come between the two things you are searching for. You should include some example inputs, and what matches you are hoping to find in them."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":4,"creation_date":1667574747,"post_id":74319012,"comment_id":131205789,"body_markdown":"Your samples don&#39;t **match** (which would imply the whole input matches the regex). You might want to use `find` instead.","body":"Your samples don&#39;t <b>match</b> (which would imply the whole input matches the regex). You might want to use <code>find</code> instead."}],"owner":{"account_id":26830622,"reputation":11,"user_id":20418656,"display_name":"shaharW"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1667576585,"creation_date":1667574024,"question_id":74319012,"body_markdown":"I want to look for any of the following sequences: either one of `*` `-` `/` `+` followed by a `*` `+` `/`\r\n\r\nfor example: \r\n`4+*2` is something I am looking for.\r\n `4+5/2` is not\r\n\r\n\r\n\r\n    if (combinedArray.matches(&quot;[-*+/][*+/]&quot;))\r\n    {\r\n    ...code\r\n    }\r\n\r\nI&#39;d be happy to know what I did wrong.\r\n\r\nI basicly want it to have the same logic as this:\r\n```\r\nif (combinedArray.contains(&quot;*/&quot;) | combinedArray.contains(&quot;*+&quot;) | combinedArray.contains(&quot;**&quot;) \r\n        | combinedArray.contains(&quot;//&quot;) | combinedArray.contains(&quot;/+&quot;) | combinedArray.contains(&quot;/*&quot;) \r\n        | combinedArray.contains(&quot;+/&quot;) | combinedArray.contains(&quot;++&quot;) | combinedArray.contains(&quot;+*&quot;) \r\n        | combinedArray.contains(&quot;-/&quot;) | combinedArray.contains(&quot;-+&quot;) | combinedArray.contains(&quot;-*&quot;) )\r\n~~~","title":"Is there a way of checking for multiple string sequences with String.matches in Java?","body":"<p>I want to look for any of the following sequences: either one of <code>*</code> <code>-</code> <code>/</code> <code>+</code> followed by a <code>*</code> <code>+</code> <code>/</code></p>\n<p>for example:\n<code>4+*2</code> is something I am looking for.\n<code>4+5/2</code> is not</p>\n<pre><code>if (combinedArray.matches(&quot;[-*+/][*+/]&quot;))\n{\n...code\n}\n</code></pre>\n<p>I'd be happy to know what I did wrong.</p>\n<p>I basicly want it to have the same logic as this:</p>\n<pre><code>if (combinedArray.contains(&quot;*/&quot;) | combinedArray.contains(&quot;*+&quot;) | combinedArray.contains(&quot;**&quot;) \n        | combinedArray.contains(&quot;//&quot;) | combinedArray.contains(&quot;/+&quot;) | combinedArray.contains(&quot;/*&quot;) \n        | combinedArray.contains(&quot;+/&quot;) | combinedArray.contains(&quot;++&quot;) | combinedArray.contains(&quot;+*&quot;) \n        | combinedArray.contains(&quot;-/&quot;) | combinedArray.contains(&quot;-+&quot;) | combinedArray.contains(&quot;-*&quot;) )\n~~~\n</code></pre>\n"},{"tags":["javascript","java","forms","jsp","servlets"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1667560520,"post_id":74315350,"comment_id":131200538,"body_markdown":"It&#39;s not very clear what are you trying to achieve. What is the error?","body":"It&#39;s not very clear what are you trying to achieve. What is the error?"},{"owner":{"account_id":22903436,"reputation":15,"user_id":17041822,"display_name":"Arihant"},"score":0,"creation_date":1667563773,"post_id":74315350,"comment_id":131201642,"body_markdown":"@RomanC I am trying to use js to verify that password is atleast 7 character long and then trying to fire servlet code. But servlet is not getting called.","body":"@RomanC I am trying to use js to verify that password is atleast 7 character long and then trying to fire servlet code. But servlet is not getting called."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1667564916,"post_id":74315350,"comment_id":131202014,"body_markdown":"So why do you trying to change the location of the page?","body":"So why do you trying to change the location of the page?"},{"owner":{"account_id":22903436,"reputation":15,"user_id":17041822,"display_name":"Arihant"},"score":0,"creation_date":1667565843,"post_id":74315350,"comment_id":131202362,"body_markdown":"@RomanC because that&#39;s the servlet which I am trying to run after checking password length in java script.","body":"@RomanC because that&#39;s the servlet which I am trying to run after checking password length in java script."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1667566182,"post_id":74315350,"comment_id":131202475,"body_markdown":"When you run this code you should allow the form to submitt to it.","body":"When you run this code you should allow the form to submitt to it."},{"owner":{"account_id":22903436,"reputation":15,"user_id":17041822,"display_name":"Arihant"},"score":0,"creation_date":1667566818,"post_id":74315350,"comment_id":131202683,"body_markdown":"@RomanC Sorry, I am kind of new to servlets(getting form details and sending it) so can&#39;t understand what you mean. Can you please elaborate what you mean.","body":"@RomanC Sorry, I am kind of new to servlets(getting form details and sending it) so can&#39;t understand what you mean. Can you please elaborate what you mean."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1667575871,"post_id":74315350,"comment_id":131206201,"body_markdown":"Sure see my answer below","body":"Sure see my answer below"}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667576580,"creation_date":1667575786,"answer_id":74319381,"question_id":74315350,"body_markdown":"In the JSP page you are using HTML `&lt;form&gt;` which has an `action` attribute to bind the URL value to the servlet. The servlet expose itself with `&lt;servlet-mapping&gt;` configuration that is created via `web.xml` or with annotarions if you use at least servlet 3.0 specification in your application.\r\n\r\nTo communicate with a servlet you should make a HTTP request from your browser. There&#39;s a lot of ways to send a HTTP request from the page but you are using HTML `&lt;form&gt;` tag and when you press a submit button the request is going to the URL which contains in the `action` attribute of the `&lt;form&gt;` tag with the HTTP method used in the `method` attribute.\r\n\r\nIf you bind specific event handlers on the form&#39;s submit button then in the code you should allow the function to proceed with the event queue. But your handler is written such as it does not perform the event but also reloads the page. This way a new HTTP request is made from the browser and it uses HTTP GET method which is not implemented by the servlet. The error 405 is sent to the browser because no `doGet()` method in the servlet.\r\n\r\nThe solution to the problem is to remove the code that reloads a page and use `preventDefault()` only if the password is incorrect.","title":"How to call servlet after running JavaScript verification code?","body":"<p>In the JSP page you are using HTML <code>&lt;form&gt;</code> which has an <code>action</code> attribute to bind the URL value to the servlet. The servlet expose itself with <code>&lt;servlet-mapping&gt;</code> configuration that is created via <code>web.xml</code> or with annotarions if you use at least servlet 3.0 specification in your application.</p>\n<p>To communicate with a servlet you should make a HTTP request from your browser. There's a lot of ways to send a HTTP request from the page but you are using HTML <code>&lt;form&gt;</code> tag and when you press a submit button the request is going to the URL which contains in the <code>action</code> attribute of the <code>&lt;form&gt;</code> tag with the HTTP method used in the <code>method</code> attribute.</p>\n<p>If you bind specific event handlers on the form's submit button then in the code you should allow the function to proceed with the event queue. But your handler is written such as it does not perform the event but also reloads the page. This way a new HTTP request is made from the browser and it uses HTTP GET method which is not implemented by the servlet. The error 405 is sent to the browser because no <code>doGet()</code> method in the servlet.</p>\n<p>The solution to the problem is to remove the code that reloads a page and use <code>preventDefault()</code> only if the password is incorrect.</p>\n"}],"owner":{"account_id":22903436,"reputation":15,"user_id":17041822,"display_name":"Arihant"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74319381,"answer_count":1,"score":1,"last_activity_date":1667576580,"creation_date":1667556757,"question_id":74315350,"body_markdown":"I am trying to run a character length check first and if user pass that than want to call the servlet which will return that user logged in.\r\n\r\n```\r\n&lt;html&gt;\r\n&lt;head&gt;&lt;title&gt;Login&lt;/title&gt;&lt;/head&gt;\r\n&lt;link rel=&quot;stylesheet&quot; href=&quot;css/style.css&quot;&gt;\r\n&lt;body&gt;\r\n    &lt;div class=&quot;Welcome-division&quot;&gt;\r\n        &lt;div class=&quot;header-top&quot;&gt; &lt;a href=&quot;/&quot;&gt;&lt;img class=&quot;logo&quot; src=&quot;images/logo.png&quot; alt=&quot;Hostel logo&quot;&gt;&lt;/a&gt;\r\n            &lt;H1&gt;Welcome to Arihant&#39;s hostel&lt;/H1&gt;\r\n        &lt;/div&gt;\r\n        &lt;navbar class=&quot;horizontal-navbar&quot;&gt;\r\n            &lt;a href=&quot;Home.jsp&quot;&gt;Home&lt;/a&gt;\r\n            &lt;a class=&quot;active&quot; href=&quot;Login.jsp&quot;&gt;Login&lt;/a&gt;\r\n            &lt;a href=&quot;Room details.jsp&quot;&gt;Room Details&lt;/a&gt;\r\n            &lt;a href=&quot;Contact Us.jsp&quot;&gt;Contact Us&lt;/a&gt;\r\n        &lt;/navbar&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=&quot;center-body&quot;&gt;\r\n        &lt;navbar class=&quot;Menu-option&quot;&gt;\r\n            &lt;a href=&quot;Home.jsp&quot;&gt;Home&lt;/a&gt;\r\n            &lt;a class=&quot;active&quot; href=&quot;Login.jsp&quot;&gt;Login&lt;/a&gt;\r\n            &lt;a href=&quot;Room details.jsp&quot;&gt;Room Details&lt;/a&gt;\r\n            &lt;a href=&quot;Contact Us.jsp&quot;&gt;Contact Us&lt;/a&gt;\r\n        &lt;/navbar&gt;\r\n        &lt;div class=&quot;Room-information&quot;&gt;\r\n        \r\n            &lt;form class=&quot;loginForm&quot; method=post action=LoginServlet&gt; \r\n                &lt;div&gt;Room No: &lt;input type=&quot;text&quot; name=&quot;Roomno&quot; id=&quot;Rno&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;br&gt;\r\n                &lt;div&gt;Password : &lt;input type=&quot;password&quot; name=&quot;password&quot; id=&quot;pass&quot;&gt;&lt;/div&gt;&lt;br&gt;\r\n                &lt;input id=&quot;formSubmit&quot; type=&quot;submit&quot; value=&quot;SUBMIT&quot;&gt;  \r\n                &lt;/form&gt; \r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=&quot;Copyright-Information&quot;&gt;\r\n        &amp;#169; Arihant graphics\r\n    &lt;/div&gt;\r\n   &lt;script&gt;\r\n        const formSubmit = document.getElementById(&quot;formSubmit&quot;);\r\n        formSubmit.addEventListener(&quot;click&quot;, (e) =&gt; {\r\n            const Rno = document.getElementById(&quot;Rno&quot;).value;\r\n            const Password = document.getElementById(&quot;pass&quot;).value;\r\n            if (Rno == null || Rno == &quot;&quot; || Password.length &lt; 7) {\r\n                alert(&quot;Please enter a Room No or your password is incorrect&quot;);\r\n                setTimeout(function () {\r\n                    window.location.reload();\r\n                }, 5000);\r\n            }\r\n            \r\n            e.preventDefault();\r\n        })\r\n    &lt;/script&gt;\r\n     \r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nAfter running the above jsp code it is checking the password length and Rno check correctly but not running the servlet after that given below.\r\n\r\nI want to do this in doPost if possible.\r\n\r\nand adding &quot;else document.location.href = &#39;LoginServlet&#39;;&quot; in javascript part return a error Status 405 -Method not allowed\r\n\r\n```\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.http.HttpServlet;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\n\r\npublic class LoginServlet extends HttpServlet {\r\n\tprivate static final long serialVersionUID = 1L;\r\n    public LoginServlet() {\r\n        super();\r\n        }\r\n\tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\t\r\n\t\t\tPrintWriter out = response.getWriter();\r\n\t\ttry {\r\n\t\t\tClass.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\t\t\tConnection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/student&quot;,&quot;root&quot;,&quot;root&quot;);\r\n\t\t\tint roomNo = Integer.parseInt(request.getParameter(&quot;Roomno&quot;));\r\n\t\t\tString password = request.getParameter(&quot;password&quot;);\r\n\t\t\tPreparedStatement ps = con.prepareStatement(&quot;select * from login where roomNo=? and password=?&quot;);\r\n\t\t\tps.setInt(1, roomNo);\r\n\t\t\tps.setString(2, password);\r\n\t\t\tResultSet rs =\tps.executeQuery();\r\n\t\t\t\r\n\t\t\tif(rs.next()) {\r\n\t\t\t  int userRoom = rs.getInt(1);\r\n\t\t\t  String userName = rs.getString(3);\r\n\t\t\t\tout.println(&quot;RoomNo:&quot;+userRoom+&quot; is allocated to &quot;+ userName);\r\n\t\t\t\tcon.close();\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\tout.println(&quot;Failed to log in&quot;);\r\n\t\t\t\r\n\t\t} catch (ClassNotFoundException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"How to call servlet after running JavaScript verification code?","body":"<p>I am trying to run a character length check first and if user pass that than want to call the servlet which will return that user logged in.</p>\n<pre><code>&lt;html&gt;\n&lt;head&gt;&lt;title&gt;Login&lt;/title&gt;&lt;/head&gt;\n&lt;link rel=&quot;stylesheet&quot; href=&quot;css/style.css&quot;&gt;\n&lt;body&gt;\n    &lt;div class=&quot;Welcome-division&quot;&gt;\n        &lt;div class=&quot;header-top&quot;&gt; &lt;a href=&quot;/&quot;&gt;&lt;img class=&quot;logo&quot; src=&quot;images/logo.png&quot; alt=&quot;Hostel logo&quot;&gt;&lt;/a&gt;\n            &lt;H1&gt;Welcome to Arihant's hostel&lt;/H1&gt;\n        &lt;/div&gt;\n        &lt;navbar class=&quot;horizontal-navbar&quot;&gt;\n            &lt;a href=&quot;Home.jsp&quot;&gt;Home&lt;/a&gt;\n            &lt;a class=&quot;active&quot; href=&quot;Login.jsp&quot;&gt;Login&lt;/a&gt;\n            &lt;a href=&quot;Room details.jsp&quot;&gt;Room Details&lt;/a&gt;\n            &lt;a href=&quot;Contact Us.jsp&quot;&gt;Contact Us&lt;/a&gt;\n        &lt;/navbar&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;center-body&quot;&gt;\n        &lt;navbar class=&quot;Menu-option&quot;&gt;\n            &lt;a href=&quot;Home.jsp&quot;&gt;Home&lt;/a&gt;\n            &lt;a class=&quot;active&quot; href=&quot;Login.jsp&quot;&gt;Login&lt;/a&gt;\n            &lt;a href=&quot;Room details.jsp&quot;&gt;Room Details&lt;/a&gt;\n            &lt;a href=&quot;Contact Us.jsp&quot;&gt;Contact Us&lt;/a&gt;\n        &lt;/navbar&gt;\n        &lt;div class=&quot;Room-information&quot;&gt;\n        \n            &lt;form class=&quot;loginForm&quot; method=post action=LoginServlet&gt; \n                &lt;div&gt;Room No: &lt;input type=&quot;text&quot; name=&quot;Roomno&quot; id=&quot;Rno&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;br&gt;\n                &lt;div&gt;Password : &lt;input type=&quot;password&quot; name=&quot;password&quot; id=&quot;pass&quot;&gt;&lt;/div&gt;&lt;br&gt;\n                &lt;input id=&quot;formSubmit&quot; type=&quot;submit&quot; value=&quot;SUBMIT&quot;&gt;  \n                &lt;/form&gt; \n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;Copyright-Information&quot;&gt;\n        &amp;#169; Arihant graphics\n    &lt;/div&gt;\n   &lt;script&gt;\n        const formSubmit = document.getElementById(&quot;formSubmit&quot;);\n        formSubmit.addEventListener(&quot;click&quot;, (e) =&gt; {\n            const Rno = document.getElementById(&quot;Rno&quot;).value;\n            const Password = document.getElementById(&quot;pass&quot;).value;\n            if (Rno == null || Rno == &quot;&quot; || Password.length &lt; 7) {\n                alert(&quot;Please enter a Room No or your password is incorrect&quot;);\n                setTimeout(function () {\n                    window.location.reload();\n                }, 5000);\n            }\n            \n            e.preventDefault();\n        })\n    &lt;/script&gt;\n     \n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>After running the above jsp code it is checking the password length and Rno check correctly but not running the servlet after that given below.</p>\n<p>I want to do this in doPost if possible.</p>\n<p>and adding &quot;else document.location.href = 'LoginServlet';&quot; in javascript part return a error Status 405 -Method not allowed</p>\n<pre><code>import jakarta.servlet.ServletException;\nimport jakarta.servlet.http.HttpServlet;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\n\npublic class LoginServlet extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n    public LoginServlet() {\n        super();\n        }\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n    \n            PrintWriter out = response.getWriter();\n        try {\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/student&quot;,&quot;root&quot;,&quot;root&quot;);\n            int roomNo = Integer.parseInt(request.getParameter(&quot;Roomno&quot;));\n            String password = request.getParameter(&quot;password&quot;);\n            PreparedStatement ps = con.prepareStatement(&quot;select * from login where roomNo=? and password=?&quot;);\n            ps.setInt(1, roomNo);\n            ps.setString(2, password);\n            ResultSet rs =  ps.executeQuery();\n            \n            if(rs.next()) {\n              int userRoom = rs.getInt(1);\n              String userName = rs.getString(3);\n                out.println(&quot;RoomNo:&quot;+userRoom+&quot; is allocated to &quot;+ userName);\n                con.close();\n            }\n            else\n                out.println(&quot;Failed to log in&quot;);\n            \n        } catch (ClassNotFoundException e) {\n            e.printStackTrace();\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","interface","interface-segregation-principle"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1667575231,"post_id":74319232,"comment_id":131205959,"body_markdown":"You&#39;re not breaking *existing* functionalities by adding a method to the interface. You&#39;re adding a new one. How to handle that depends on the specific case. In this case, players that can pause will need to implement that method, players that don&#39;t will need to handle that method being called on them, somehow.","body":"You&#39;re not breaking <i>existing</i> functionalities by adding a method to the interface. You&#39;re adding a new one. How to handle that depends on the specific case. In this case, players that can pause will need to implement that method, players that don&#39;t will need to handle that method being called on them, somehow."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1667575343,"post_id":74319232,"comment_id":131206007,"body_markdown":"You&#39;re not really breaking anything, you just halfway-added a new feature. You&#39;re hitting the O (Open/closed principle: open to extension, closed to modification) and L (Liskov Substitution Principle) of SOLID code. When you add a modification, you&#39;re responsible for ensuring it hasn&#39;t broken anything.","body":"You&#39;re not really breaking anything, you just halfway-added a new feature. You&#39;re hitting the O (Open/closed principle: open to extension, closed to modification) and L (Liskov Substitution Principle) of SOLID code. When you add a modification, you&#39;re responsible for ensuring it hasn&#39;t broken anything."}],"answers":[{"comments":[{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1667578743,"post_id":74319442,"comment_id":131207306,"body_markdown":"This is why Semantic Versioning minor updates are breaking _for implementers_ but not for consumers.","body":"This is why Semantic Versioning minor updates are breaking <i>for implementers</i> but not for consumers."}],"tags":[],"owner":{"account_id":26819783,"reputation":124,"user_id":20409306,"display_name":"Jared Renzullo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667576098,"creation_date":1667576098,"answer_id":74319442,"question_id":74319232,"body_markdown":"Adding a new method to an interface will break compilation for all the existing implementations of that interface. This is why for many years Java did not add any functionality to its core library classes like Collections. In Java 8 they added the ability to add a default implementation of an interface method so they could then add new methods to Collections interfaces without breaking compilation for everyone upgrading.\r\n\r\nSo to answer your question, you can always add a new method to an interface and give it a default implementation and you would not be breaking any of your existing code. The second way you can do this is to create a new interface called PausablePlayer which has the pause method. In Java you can implement multiple interfaces, so any implementations which support pause could implement that new interface in addition to the existing one. This approach works best when you want to add functionality which only applies to certain implementations but not all.","title":"Advantage of Using Interface in production application","body":"<p>Adding a new method to an interface will break compilation for all the existing implementations of that interface. This is why for many years Java did not add any functionality to its core library classes like Collections. In Java 8 they added the ability to add a default implementation of an interface method so they could then add new methods to Collections interfaces without breaking compilation for everyone upgrading.</p>\n<p>So to answer your question, you can always add a new method to an interface and give it a default implementation and you would not be breaking any of your existing code. The second way you can do this is to create a new interface called PausablePlayer which has the pause method. In Java you can implement multiple interfaces, so any implementations which support pause could implement that new interface in addition to the existing one. This approach works best when you want to add functionality which only applies to certain implementations but not all.</p>\n"}],"owner":{"account_id":26830498,"reputation":1,"user_id":20418547,"display_name":"Skirllex Rude"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667576098,"creation_date":1667575013,"question_id":74319232,"body_markdown":"I am programming in java for a while not much used interface. I just wondering what are the benefits of using interface. I read a article about loose coupling it states that \r\n\r\n&gt; Tight coupling makes it much harder to add new functionality. With loose coupling, you can swap out components easily. This also makes your system more scalable as your system grows. Using loose coupling, you can safely write additional code when adding new features to your system without breaking the existing functionality.\r\n\r\nAfter reading this i understood that the key take away is classes/components can be swapped easily and it helps to achieve code extensibility without breaking the existing functionality. code swapping makes sense but code extensibility without breaking changes doesn&#39;t makes sense to me. \r\n\r\nI tried creating a interface called Player at first.\r\n\r\n```\r\npublic interface Player {\r\n  void play();\r\n}\r\n```\r\n\r\nAfter creating this interface i had implemented the contracts of this interface\r\n\r\n\r\n```\r\npublic class BlackPlayer implements Player{\r\n    @Override\r\n    public void play() {\r\n        System.out.println(&quot;playing videos from black player&quot;);\r\n    }\r\n}\r\n```\r\n\r\nFinally i had created a VideoPlayer class and the constructor takes Player implemented classes.\r\n\r\n\r\n```\r\npublic class VideoPlayer {\r\n    private Player videoplayer;\r\n    VideoPlayer(Player videoplayer){\r\n        this.videoplayer = videoplayer;\r\n    }\r\n    void playVideo(){\r\n        videoplayer.play();\r\n    }\r\n}\r\n\r\n```\r\n\r\nIn the main method i am creating the Videoplayer instance and using its functionality\r\n\r\n\r\n```\r\nclass Main{\r\n    public static void main(String[] args) {\r\n        VideoPlayer player = new VideoPlayer(new BlackPlayer());\r\n        player.playVideo();\r\n    }\r\n}\r\n```\r\nJava Interface helps to achieve code extensibility without breaking changes, easy implementation swapping and easy unit testing(exclude about testing for now).\r\n\r\nIn future i planned to add different player i can easily swap its implementation by other class which implement the contracts of Player lets call it as Redplayer. Now i can easily swap the implementation by this line of code\r\n Before - `VideoPlayer player = new VideoPlayer(new BlackPlayer());`\r\n After- `VideoPlayer player = new VideoPlayer(new RedPlayer());`\r\n\r\nCorrect me if i told anything wrong about implementation swapping.\r\n\r\nNow the second thing which confused me alot. \r\n\r\nInterface help to achieve extensible code without breaking its functionality.\r\n\r\nAgain in future all my app users are requesting a pause feature which is already in production. Now i am trying to add the additional contracts to the already created interface.\r\n\r\n```\r\npublic interface Player {\r\n    void play();\r\n    void pause();\r\n}\r\n\r\n```\r\n\r\nAfter adding this pause contract all the  class which implements Player showing error that override missing for pause. By introducing the pause contract broken my existing class.\r\n\r\nThen how can i achieve code extensibility without breaking existing functionality. How can i scale the application with new features?\r\n\r\n","title":"Advantage of Using Interface in production application","body":"<p>I am programming in java for a while not much used interface. I just wondering what are the benefits of using interface. I read a article about loose coupling it states that</p>\n<blockquote>\n<p>Tight coupling makes it much harder to add new functionality. With loose coupling, you can swap out components easily. This also makes your system more scalable as your system grows. Using loose coupling, you can safely write additional code when adding new features to your system without breaking the existing functionality.</p>\n</blockquote>\n<p>After reading this i understood that the key take away is classes/components can be swapped easily and it helps to achieve code extensibility without breaking the existing functionality. code swapping makes sense but code extensibility without breaking changes doesn't makes sense to me.</p>\n<p>I tried creating a interface called Player at first.</p>\n<pre><code>public interface Player {\n  void play();\n}\n</code></pre>\n<p>After creating this interface i had implemented the contracts of this interface</p>\n<pre><code>public class BlackPlayer implements Player{\n    @Override\n    public void play() {\n        System.out.println(&quot;playing videos from black player&quot;);\n    }\n}\n</code></pre>\n<p>Finally i had created a VideoPlayer class and the constructor takes Player implemented classes.</p>\n<pre><code>public class VideoPlayer {\n    private Player videoplayer;\n    VideoPlayer(Player videoplayer){\n        this.videoplayer = videoplayer;\n    }\n    void playVideo(){\n        videoplayer.play();\n    }\n}\n\n</code></pre>\n<p>In the main method i am creating the Videoplayer instance and using its functionality</p>\n<pre><code>class Main{\n    public static void main(String[] args) {\n        VideoPlayer player = new VideoPlayer(new BlackPlayer());\n        player.playVideo();\n    }\n}\n</code></pre>\n<p>Java Interface helps to achieve code extensibility without breaking changes, easy implementation swapping and easy unit testing(exclude about testing for now).</p>\n<p>In future i planned to add different player i can easily swap its implementation by other class which implement the contracts of Player lets call it as Redplayer. Now i can easily swap the implementation by this line of code\nBefore - <code>VideoPlayer player = new VideoPlayer(new BlackPlayer());</code>\nAfter- <code>VideoPlayer player = new VideoPlayer(new RedPlayer());</code></p>\n<p>Correct me if i told anything wrong about implementation swapping.</p>\n<p>Now the second thing which confused me alot.</p>\n<p>Interface help to achieve extensible code without breaking its functionality.</p>\n<p>Again in future all my app users are requesting a pause feature which is already in production. Now i am trying to add the additional contracts to the already created interface.</p>\n<pre><code>public interface Player {\n    void play();\n    void pause();\n}\n\n</code></pre>\n<p>After adding this pause contract all the  class which implements Player showing error that override missing for pause. By introducing the pause contract broken my existing class.</p>\n<p>Then how can i achieve code extensibility without breaking existing functionality. How can i scale the application with new features?</p>\n"},{"tags":["java","jaxb","java-11"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1667576429,"post_id":74319109,"comment_id":131206396,"body_markdown":"&quot;dao&quot; and &quot;springframework&quot; sounds *very like* `javax.sql.DataSource` ... can you exclude this misunderstanding/wrong import?","body":"&quot;dao&quot; and &quot;springframework&quot; sounds <i>very like</i> <code>javax.sql.DataSource</code> ... can you exclude this misunderstanding/wrong import?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1667579609,"post_id":74319109,"comment_id":131207632,"body_markdown":"`javax.activation` has been [superseded by `jakarta.activation`](https://wiki.eclipse.org/Jakarta_EE_Maven_Coordinates)","body":"<code>javax.activation</code> has been <a href=\"https://wiki.eclipse.org/Jakarta_EE_Maven_Coordinates\" rel=\"nofollow noreferrer\">superseded by <code>jakarta.activation</code></a>"},{"owner":{"account_id":14049933,"reputation":355,"user_id":10149027,"display_name":"JavaGeek"},"score":0,"creation_date":1667591495,"post_id":74319109,"comment_id":131211128,"body_markdown":"@Holger So you think substituting javax.activation dependency in pom with jakarta.activation should solve this ?","body":"@Holger So you think substituting javax.activation dependency in pom with jakarta.activation should solve this ?"},{"owner":{"account_id":14049933,"reputation":355,"user_id":10149027,"display_name":"JavaGeek"},"score":0,"creation_date":1667591930,"post_id":74319109,"comment_id":131211260,"body_markdown":"switching to jakarta.activation did not help","body":"switching to jakarta.activation did not help"},{"owner":{"account_id":14049933,"reputation":355,"user_id":10149027,"display_name":"JavaGeek"},"score":0,"creation_date":1667592026,"post_id":74319109,"comment_id":131211294,"body_markdown":"@xerx593 could you elaborate a bit on your answer?","body":"@xerx593 could you elaborate a bit on your answer?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1667812880,"post_id":74319109,"comment_id":131248354,"body_markdown":"I think, there’s no way around also updating the software.","body":"I think, there’s no way around also updating the software."}],"owner":{"account_id":14049933,"reputation":355,"user_id":10149027,"display_name":"JavaGeek"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667575550,"creation_date":1667574456,"question_id":74319109,"body_markdown":"We are going through a migration from java 8 to java 11, and are currently stuck on an issue  which seems like a javax library problem. I found out that javax.activation was excluded from java 9 and onwards so we added the following dependency\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n        &lt;artifactId&gt;activation&lt;/artifactId&gt;\r\n        &lt;version&gt;1.1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n\r\n, but the issue persists. Any other thoughts on what could be wrong here?    \r\n\r\n    022-11-04 15:30:56,505 [][][][][ERROR] - javax/activation/DataSource\r\n    2022-11-04 15:30:56,506 [][][][][ERROR] - [java.base/java.lang.ClassLoader.defineClass1(Native Method), \r\n    java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1017), \r\n    java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174), \r\n    java.base/java.net.URLClassLoader.defineClass(URLClassLoader.java:555), \r\n    java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:458), \r\n    java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:452), \r\n    java.base/java.security.AccessController.doPrivileged(Native Method), \r\n    java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:451), \r\n    java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:589), \r\n    java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522), \r\n    org.eclipse.jetty.webapp.WebAppClassLoader.loadClass(WebAppClassLoader.java:538), \r\n    java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522), \r\n    com.edb.finance.appl.document.livecycleproxy.LiveCycleProxyClient.mapLiveCycleRequestToDocumentInputData(LiveCycleProxyClient.java:269), \r\n    com.edb.finance.appl.document.livecycleproxy.LiveCycleProxyClient.createLiveCycleProxyServiceRequest(LiveCycleProxyClient.java:231), \r\n    com.edb.finance.appl.document.livecycleproxy.LiveCycleProxyClient.produceDocuments(LiveCycleProxyClient.java:84), \r\n    com.edb.finance.appl.document.livecycleproxy.LiveCycleProxyClient.produceDocument(LiveCycleProxyClient.java:79), \r\n    com.edb.finance.appl.document.livecycleproxy.LiveCycleProxyClient.produceDocument(LiveCycleProxyClient.java:64), \r\n    com.edb.finance.appl.document.components.decisionreport.dao.DecisionReportDAO.generateDecisionReport(DecisionReportDAO.java:75), \r\n    com.edb.finance.appl.document.components.decisionreport.business.DecisionReport.generateDecisionReport(DecisionReport.java:91), \r\n    com.edb.finance.appl.document.components.decisionreport.business.DecisionReportProxy.generateDecisionReport(DecisionReportProxy.java:44), \r\n    com.edb.finance.appl.document.components.decisionreport.business.report.StandardReportPdfGenerator.generateStandardPdfCaseReport(StandardReportPdfGenerator.java:110), \r\n    com.edb.finance.appl.document.components.decisionreport.business.report.DecisionReportGenerator.storeAllCaseReports(DecisionReportGenerator.java:109), \r\n    com.edb.finance.appl.decisionextended.components.decisionextended.business.ejb.DecisionExtendedEJB.updateRecommendationOnCaseAndGenerateReport(DecisionExtendedEJB.java:3990), \r\n    com.edb.finance.appl.decisionextended.components.decisionextended.business.ejb.DecisionExtendedProxy.updateRecommendationOnCaseAndGenerateReport(DecisionExtendedProxy.java:346), \r\n    com.edb.finance.appl.decisionextended.components.decisionextended.business.ServiceHandler.updateRecommendationOnCaseAndGenerateReport(ServiceHandler.java:83), \r\n    com.evry.fs.lending.ecp.jointlimit.ws.resources.jointlimit.JointLimitService.createRecommendationInCase(JointLimitService.java:921), \r\n    com.evry.fs.lending.ecp.jointlimit.ws.resources.jointlimit.JointLimitService.createRecommendationForCase(JointLimitService.java:706), \r\n    com.evry.fs.lending.ecp.jointlimit.ws.resources.jointlimit.JointLimitService.createRecommendationsAllCasesRelatedToGroup(JointLimitService.java:685), \r\n    com.evry.fs.lending.ecp.jointlimit.ws.resources.jointlimit.JointLimitService.createRecommendation(JointLimitService.java:643), \r\n    com.evry.fs.lending.ecp.jointlimit.ws.resources.jointlimit.JointLimitService.runCreateRecommendationJob(JointLimitService.java:517), \r\n    com.evry.fs.lending.ecp.jointlimit.ws.resources.jointlimit.JointLimitService$$FastClassBySpringCGLIB$$2a40bb74.invoke(&lt;generated&gt;), \r\n    org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), \r\n    org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779), \r\n    org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), \r\n    org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750), \r\n    org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115), \r\n    java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264), \r\n    java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128), \r\n    java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628), \r\n    java.base/java.lang.Thread.run(Thread.java:829)]\r\n    2022-11-04 15:30:56,506 [][][][][ERROR] - javax/activation/DataSource\r\n    2022-11-04 15:30:56,508 [][][][][ERROR] - Service threw exception\r\n    com.edb.finance.common.exception.SystemException: javax/activation/DataSource\r\n                    at com.evry.fs.lending.ecp.jointlimit.ws.resources.jointlimit.JointLimitService.runCreateRecommendationJob(JointLimitService.java:525)\r\n                    at com.evry.fs.lending.ecp.jointlimit.ws.resources.jointlimit.JointLimitService$$FastClassBySpringCGLIB$$2a40bb74.invoke(&lt;generated&gt;)\r\n                    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n                    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)\r\n                    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n                    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n                    at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)\r\n                    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n                    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n                    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n                    at java.base/java.lang.Thread.run(Thread.java:829)\r\n\r\n\r\n\r\n","title":"How to fix the following issue - SystemException: javax/activation/DataSource?","body":"<p>We are going through a migration from java 8 to java 11, and are currently stuck on an issue  which seems like a javax library problem. I found out that javax.activation was excluded from java 9 and onwards so we added the following dependency</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n    &lt;artifactId&gt;activation&lt;/artifactId&gt;\n    &lt;version&gt;1.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>, but the issue persists. Any other thoughts on what could be wrong here?</p>\n<pre><code>022-11-04 15:30:56,505 [][][][][ERROR] - javax/activation/DataSource\n2022-11-04 15:30:56,506 [][][][][ERROR] - [java.base/java.lang.ClassLoader.defineClass1(Native Method), \njava.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1017), \njava.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174), \njava.base/java.net.URLClassLoader.defineClass(URLClassLoader.java:555), \njava.base/java.net.URLClassLoader$1.run(URLClassLoader.java:458), \njava.base/java.net.URLClassLoader$1.run(URLClassLoader.java:452), \njava.base/java.security.AccessController.doPrivileged(Native Method), \njava.base/java.net.URLClassLoader.findClass(URLClassLoader.java:451), \njava.base/java.lang.ClassLoader.loadClass(ClassLoader.java:589), \njava.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522), \norg.eclipse.jetty.webapp.WebAppClassLoader.loadClass(WebAppClassLoader.java:538), \njava.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522), \ncom.edb.finance.appl.document.livecycleproxy.LiveCycleProxyClient.mapLiveCycleRequestToDocumentInputData(LiveCycleProxyClient.java:269), \ncom.edb.finance.appl.document.livecycleproxy.LiveCycleProxyClient.createLiveCycleProxyServiceRequest(LiveCycleProxyClient.java:231), \ncom.edb.finance.appl.document.livecycleproxy.LiveCycleProxyClient.produceDocuments(LiveCycleProxyClient.java:84), \ncom.edb.finance.appl.document.livecycleproxy.LiveCycleProxyClient.produceDocument(LiveCycleProxyClient.java:79), \ncom.edb.finance.appl.document.livecycleproxy.LiveCycleProxyClient.produceDocument(LiveCycleProxyClient.java:64), \ncom.edb.finance.appl.document.components.decisionreport.dao.DecisionReportDAO.generateDecisionReport(DecisionReportDAO.java:75), \ncom.edb.finance.appl.document.components.decisionreport.business.DecisionReport.generateDecisionReport(DecisionReport.java:91), \ncom.edb.finance.appl.document.components.decisionreport.business.DecisionReportProxy.generateDecisionReport(DecisionReportProxy.java:44), \ncom.edb.finance.appl.document.components.decisionreport.business.report.StandardReportPdfGenerator.generateStandardPdfCaseReport(StandardReportPdfGenerator.java:110), \ncom.edb.finance.appl.document.components.decisionreport.business.report.DecisionReportGenerator.storeAllCaseReports(DecisionReportGenerator.java:109), \ncom.edb.finance.appl.decisionextended.components.decisionextended.business.ejb.DecisionExtendedEJB.updateRecommendationOnCaseAndGenerateReport(DecisionExtendedEJB.java:3990), \ncom.edb.finance.appl.decisionextended.components.decisionextended.business.ejb.DecisionExtendedProxy.updateRecommendationOnCaseAndGenerateReport(DecisionExtendedProxy.java:346), \ncom.edb.finance.appl.decisionextended.components.decisionextended.business.ServiceHandler.updateRecommendationOnCaseAndGenerateReport(ServiceHandler.java:83), \ncom.evry.fs.lending.ecp.jointlimit.ws.resources.jointlimit.JointLimitService.createRecommendationInCase(JointLimitService.java:921), \ncom.evry.fs.lending.ecp.jointlimit.ws.resources.jointlimit.JointLimitService.createRecommendationForCase(JointLimitService.java:706), \ncom.evry.fs.lending.ecp.jointlimit.ws.resources.jointlimit.JointLimitService.createRecommendationsAllCasesRelatedToGroup(JointLimitService.java:685), \ncom.evry.fs.lending.ecp.jointlimit.ws.resources.jointlimit.JointLimitService.createRecommendation(JointLimitService.java:643), \ncom.evry.fs.lending.ecp.jointlimit.ws.resources.jointlimit.JointLimitService.runCreateRecommendationJob(JointLimitService.java:517), \ncom.evry.fs.lending.ecp.jointlimit.ws.resources.jointlimit.JointLimitService$$FastClassBySpringCGLIB$$2a40bb74.invoke(&lt;generated&gt;), \norg.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), \norg.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779), \norg.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), \norg.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750), \norg.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115), \njava.base/java.util.concurrent.FutureTask.run(FutureTask.java:264), \njava.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128), \njava.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628), \njava.base/java.lang.Thread.run(Thread.java:829)]\n2022-11-04 15:30:56,506 [][][][][ERROR] - javax/activation/DataSource\n2022-11-04 15:30:56,508 [][][][][ERROR] - Service threw exception\ncom.edb.finance.common.exception.SystemException: javax/activation/DataSource\n                at com.evry.fs.lending.ecp.jointlimit.ws.resources.jointlimit.JointLimitService.runCreateRecommendationJob(JointLimitService.java:525)\n                at com.evry.fs.lending.ecp.jointlimit.ws.resources.jointlimit.JointLimitService$$FastClassBySpringCGLIB$$2a40bb74.invoke(&lt;generated&gt;)\n                at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n                at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)\n                at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n                at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\n                at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)\n                at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n                at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n                at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n                at java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n"},{"tags":["java","file","netbeans"],"comments":[{"owner":{"account_id":14665398,"reputation":5,"user_id":10591381,"display_name":"Emanuel Heged&#252;s"},"score":0,"creation_date":1546187656,"post_id":53979398,"comment_id":94796142,"body_markdown":"the System.out.println(line); was to check if the file had that many lines he kept going but it didn&#39;t.","body":"the System.out.println(line); was to check if the file had that many lines he kept going but it didn&#39;t."}],"answers":[{"tags":[],"owner":{"account_id":4816916,"reputation":16538,"user_id":3888766,"accept_rate":100,"display_name":"Fullstack Guy"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1546190587,"creation_date":1546187807,"answer_id":53979439,"question_id":53979398,"body_markdown":"When you instantiate a `BuffereReader` assign it to `count`, `count` will always be non-null and hence will satisfy the while loop:\r\n\r\n    count = new BufferedReader(input); //count is holding an instance of BufferedReader.\r\n    \r\n    while(count != null){ //here count is non-null and while loop is infinite and program never exits.\r\n\r\nInstead use the following code, where the each line will be read and checked whether it is null, if null then the program will exit.:\r\n\r\n    input = new FileReader(txt);\r\n    count = new BufferedReader(input);\r\n    String line = null;\r\n    while(( line = count.readLine())!= null){ //each line is read and assigned to the String line variable.\r\n            System.out.println(line);\r\n            result++;\r\n     }\r\n\r\nIf you are using JDK-1.8 you can shorten your code using the `Files` API:\r\n\r\n    int result = 0;\r\n    try (Stream&lt;String&gt; stream = Files.lines(Paths.get(txt.getAbsolutePath()))) {\r\n          //either print the lines or take the count.\r\n          //stream.forEach(System.out::println); \r\n          result = (int)stream.count(); \r\n    } catch (IOException e) {\r\n          e.printStackTrace();\r\n    }","title":"How to solve infinite readLine while","body":"<p>When you instantiate a <code>BuffereReader</code> assign it to <code>count</code>, <code>count</code> will always be non-null and hence will satisfy the while loop:</p>\n\n<pre><code>count = new BufferedReader(input); //count is holding an instance of BufferedReader.\n\nwhile(count != null){ //here count is non-null and while loop is infinite and program never exits.\n</code></pre>\n\n<p>Instead use the following code, where the each line will be read and checked whether it is null, if null then the program will exit.:</p>\n\n<pre><code>input = new FileReader(txt);\ncount = new BufferedReader(input);\nString line = null;\nwhile(( line = count.readLine())!= null){ //each line is read and assigned to the String line variable.\n        System.out.println(line);\n        result++;\n }\n</code></pre>\n\n<p>If you are using JDK-1.8 you can shorten your code using the <code>Files</code> API:</p>\n\n<pre><code>int result = 0;\ntry (Stream&lt;String&gt; stream = Files.lines(Paths.get(txt.getAbsolutePath()))) {\n      //either print the lines or take the count.\n      //stream.forEach(System.out::println); \n      result = (int)stream.count(); \n} catch (IOException e) {\n      e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546187857,"creation_date":1546187857,"answer_id":53979447,"question_id":53979398,"body_markdown":"`count` is your `BufferedReader`, your loop should be on `line`! Like,\r\n\r\n    String line = &quot;&quot;;\r\n    while (line != null) {\r\n        line = count.readLine();\r\n\r\nAlso, you should use [`try-with-Resources`](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html) to `close` your resources (instead of the `finally` block). And you could write that `while` loop more idiomatically. Like,\r\n\r\n\tprivate int sizeOfFile(File txt) {\r\n\t\tint result = 0;\r\n\t\ttry (BufferedReader count = new BufferedReader(new FileReader(txt))) {\r\n\t\t\tString line;\r\n\t\t\twhile ((line = count.readLine()) != null) {\r\n\t\t\t\tSystem.out.println(line);\r\n\t\t\t\tresult++;\r\n\t\t\t}\r\n\t\t} catch (FileNotFoundException ex) {\r\n\t\t\tex.printStackTrace();\r\n\t\t} catch (IOException ex) {\r\n\t\t\tex.printStackTrace();\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n","title":"How to solve infinite readLine while","body":"<p><code>count</code> is your <code>BufferedReader</code>, your loop should be on <code>line</code>! Like,</p>\n\n<pre><code>String line = \"\";\nwhile (line != null) {\n    line = count.readLine();\n</code></pre>\n\n<p>Also, you should use <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\"><code>try-with-Resources</code></a> to <code>close</code> your resources (instead of the <code>finally</code> block). And you could write that <code>while</code> loop more idiomatically. Like,</p>\n\n<pre><code>private int sizeOfFile(File txt) {\n    int result = 0;\n    try (BufferedReader count = new BufferedReader(new FileReader(txt))) {\n        String line;\n        while ((line = count.readLine()) != null) {\n            System.out.println(line);\n            result++;\n        }\n    } catch (FileNotFoundException ex) {\n        ex.printStackTrace();\n    } catch (IOException ex) {\n        ex.printStackTrace();\n    }\n    return result;\n}\n</code></pre>\n"}],"owner":{"account_id":14665398,"reputation":5,"user_id":10591381,"display_name":"Emanuel Heged&#252;s"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":751,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":53979439,"answer_count":2,"score":0,"last_activity_date":1667575418,"creation_date":1546187530,"question_id":53979398,"body_markdown":"I have a program and one of the methods I use is for counting the lines a .txt file has and return an integer value. The problem is when I execute it, despite I wrote if my line is == null the while has to stop, the while loop keeps going, ignoring the nulls it gets infinitely.\r\n\r\nI don&#39;t know what to do to try to solve it.\r\n\r\n    private int sizeOfFile (File txt) {\r\n        FileReader input = null;\r\n        BufferedReader count = null;\r\n        int result = 0;\r\n        try {\r\n            \r\n            input = new FileReader(txt);\r\n            count = new BufferedReader(input);\r\n            \r\n            while(count != null){\r\n            String line = count.readLine();\r\n                System.out.println(line);\r\n            result++;\r\n            }\r\n            \r\n        } catch (FileNotFoundException ex) {\r\n           ex.printStackTrace();\r\n        } catch (IOException ex) {\r\n            ex.printStackTrace();\r\n        } finally {\r\n            try {\r\n                input.close();\r\n                count.close();\r\n            } catch (IOException ex) {\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n        \r\n        return result;\r\n    }\r\n\r\nIt has to stop when it detects a null, which means there are no more lines, but it keeps going.","title":"How to solve infinite readLine while","body":"<p>I have a program and one of the methods I use is for counting the lines a .txt file has and return an integer value. The problem is when I execute it, despite I wrote if my line is == null the while has to stop, the while loop keeps going, ignoring the nulls it gets infinitely.</p>\n<p>I don't know what to do to try to solve it.</p>\n<pre><code>private int sizeOfFile (File txt) {\n    FileReader input = null;\n    BufferedReader count = null;\n    int result = 0;\n    try {\n        \n        input = new FileReader(txt);\n        count = new BufferedReader(input);\n        \n        while(count != null){\n        String line = count.readLine();\n            System.out.println(line);\n        result++;\n        }\n        \n    } catch (FileNotFoundException ex) {\n       ex.printStackTrace();\n    } catch (IOException ex) {\n        ex.printStackTrace();\n    } finally {\n        try {\n            input.close();\n            count.close();\n        } catch (IOException ex) {\n            ex.printStackTrace();\n        }\n    }\n    \n    return result;\n}\n</code></pre>\n<p>It has to stop when it detects a null, which means there are no more lines, but it keeps going.</p>\n"},{"tags":["java","dynamic"],"comments":[{"owner":{"account_id":355051,"reputation":3995,"user_id":693765,"display_name":"Justin Waugh"},"score":0,"creation_date":1302116977,"post_id":5571466,"comment_id":6338279,"body_markdown":"Are you trying to load a class from the binary.class file or by class name?","body":"Are you trying to load a class from the binary.class file or by class name?"},{"owner":{"display_name":"user1636522"},"score":0,"creation_date":1448719207,"post_id":5571466,"comment_id":55700601,"body_markdown":"@JustinWaugh Hi Justin, is the accepted answer suitable to load a .class file?","body":"@JustinWaugh Hi Justin, is the accepted answer suitable to load a .class file?"}],"answers":[{"comments":[{"owner":{"account_id":330677,"reputation":7139,"user_id":654928,"accept_rate":89,"display_name":"rubixibuc"},"score":0,"creation_date":1302136516,"post_id":5571532,"comment_id":6342420,"body_markdown":"is MyClass an instance or a static reference to the class? Is there any way I can get the contructor of a class by passing its name as a string to a method? Or any way similiar to that?","body":"is MyClass an instance or a static reference to the class? Is there any way I can get the contructor of a class by passing its name as a string to a method? Or any way similiar to that?"},{"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"score":0,"creation_date":1302138503,"post_id":5571532,"comment_id":6342675,"body_markdown":"`MyClass` is the name of the class in this example.  A class can have multiple constructors (or none for interfaces); there is no &quot;the constructor&quot; for a class.","body":"<code>MyClass</code> is the name of the class in this example.  A class can have multiple constructors (or none for interfaces); there is no &quot;the constructor&quot; for a class."},{"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"score":0,"creation_date":1302138578,"post_id":5571532,"comment_id":6342684,"body_markdown":"The `MyClass.class` may be confusing syntax.  It is just a way of referring to the class instance for `MyClass`.  So `String.class.isInstance(x)` is another way of saying `x instanceof String`.","body":"The <code>MyClass.class</code> may be confusing syntax.  It is just a way of referring to the class instance for <code>MyClass</code>.  So <code>String.class.isInstance(x)</code> is another way of saying <code>x instanceof String</code>."},{"owner":{"account_id":330677,"reputation":7139,"user_id":654928,"accept_rate":89,"display_name":"rubixibuc"},"score":0,"creation_date":1302161846,"post_id":5571532,"comment_id":6345922,"body_markdown":"how do I create an instance without actually hardcoding the class name?  I want to load the class by passing a string to a function and it contructs and instantiates a object of that class.","body":"how do I create an instance without actually hardcoding the class name?  I want to load the class by passing a string to a function and it contructs and instantiates a object of that class."},{"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"score":0,"creation_date":1302189628,"post_id":5571532,"comment_id":6353462,"body_markdown":"@rubixibuc, `Class&lt;?&gt; clazz = myClassLoader.loadClass(className)` as described in the first paragraph.","body":"@rubixibuc, <code>Class&lt;?&gt; clazz = myClassLoader.loadClass(className)</code> as described in the first paragraph."},{"owner":{"display_name":"user1079425"},"score":0,"creation_date":1366387656,"post_id":5571532,"comment_id":23003927,"body_markdown":"@MikeSamuel : what if I need to instanciate a class wich is load dynamically, but eclipse doesn&#39;t recognize the name of the class ? I&#39;ve detailed my question here : can you check it please ? http://stackoverflow.com/questions/16104605/dynamically-loading-jar-to-create-a-webservice-client Thank you :)","body":"@MikeSamuel : what if I need to instanciate a class wich is load dynamically, but eclipse doesn&#39;t recognize the name of the class ? I&#39;ve detailed my question here : can you check it please ? <a href=\"http://stackoverflow.com/questions/16104605/dynamically-loading-jar-to-create-a-webservice-client\" title=\"dynamically loading jar to create a webservice client\">stackoverflow.com/questions/16104605/&hellip;</a> Thank you :)"},{"owner":{"account_id":7378049,"reputation":3209,"user_id":5615873,"accept_rate":0,"display_name":"Apostolos"},"score":0,"creation_date":1647164701,"post_id":5571532,"comment_id":126297899,"body_markdown":"Can you please give an example of `public MyClass(String) { ... }`? I don&#39;t know what the brackets should contain ... Thank you.","body":"Can you please give an example of <code>public MyClass(String) { ... }</code>? I don&#39;t know what the brackets should contain ... Thank you."}],"tags":[],"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"comment_count":7,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1302116326,"creation_date":1302116326,"answer_id":5571532,"question_id":5571466,"body_markdown":"[`ClassLoader.loadClass`][1] will load a class.  You get a classloader by `myClass.getClassLoader()` and you should fall back to `ClassLoader.getSystemClassLoader()` if that is null.\r\n\r\nOnce you&#39;ve got a class instance, you can get its constructors via [`getDeclaredConstructor(...)`][2].\r\nSo if you have a `public class MyClass` with a constructor like `public MyClass(String) { ... }` then\r\n\r\n    Class&lt;MyClass&gt; clazz = MyClass.class;\r\n    Constructor&lt;MyClass&gt; ctor = clazz.getDeclaredConstructor(String.class);\r\n    MyClass instance = ctor.newInstance(&quot;foo&quot;);\r\n\r\nThe above ignores a bunch of possible exceptions.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/ClassLoader.html#loadClass%28java.lang.String%29\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/lang/Class.html#getDeclaredConstructor%28java.lang.Class...%29","title":"Dynamically loading a class in Java","body":"<p><a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/ClassLoader.html#loadClass%28java.lang.String%29\" rel=\"noreferrer\"><code>ClassLoader.loadClass</code></a> will load a class.  You get a classloader by <code>myClass.getClassLoader()</code> and you should fall back to <code>ClassLoader.getSystemClassLoader()</code> if that is null.</p>\n\n<p>Once you've got a class instance, you can get its constructors via <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Class.html#getDeclaredConstructor%28java.lang.Class...%29\" rel=\"noreferrer\"><code>getDeclaredConstructor(...)</code></a>.\nSo if you have a <code>public class MyClass</code> with a constructor like <code>public MyClass(String) { ... }</code> then</p>\n\n<pre><code>Class&lt;MyClass&gt; clazz = MyClass.class;\nConstructor&lt;MyClass&gt; ctor = clazz.getDeclaredConstructor(String.class);\nMyClass instance = ctor.newInstance(\"foo\");\n</code></pre>\n\n<p>The above ignores a bunch of possible exceptions.</p>\n"},{"comments":[{"owner":{"account_id":330677,"reputation":7139,"user_id":654928,"accept_rate":89,"display_name":"rubixibuc"},"score":0,"creation_date":1302117350,"post_id":5571612,"comment_id":6338394,"body_markdown":"what if it has arg, and how do I call a method on the class -- how do I cast newObject just by the name of the class? When I try calling a method of the class on type Object it tells me the method is undefined for object.","body":"what if it has arg, and how do I call a method on the class -- how do I cast newObject just by the name of the class? When I try calling a method of the class on type Object it tells me the method is undefined for object."},{"owner":{"account_id":355051,"reputation":3995,"user_id":693765,"display_name":"Justin Waugh"},"score":2,"creation_date":1302117447,"post_id":5571612,"comment_id":6338423,"body_markdown":"If you do not know the type of the class at compile time you will have to use reflection to find and call methods.  If the constructor has an argument you use `getDeclaredConstructor()` on the class returned from `Class.forName` as shown by the answer from Mike Samuel","body":"If you do not know the type of the class at compile time you will have to use reflection to find and call methods.  If the constructor has an argument you use <code>getDeclaredConstructor()</code> on the class returned from <code>Class.forName</code> as shown by the answer from Mike Samuel"},{"owner":{"account_id":269420,"reputation":6750,"user_id":558751,"accept_rate":80,"display_name":"Amol Katdare"},"score":0,"creation_date":1302118082,"post_id":5571612,"comment_id":6338596,"body_markdown":"+1 to Justin. Also, practically speaking, it cannot be that you know absolutely nothing about the class as then it will be very difficult to actually use it. Having these unknown classes implement a particular interface is usually a good strategy. you can then reference these objects by the interfaces so that you can call methods on them, etc.","body":"+1 to Justin. Also, practically speaking, it cannot be that you know absolutely nothing about the class as then it will be very difficult to actually use it. Having these unknown classes implement a particular interface is usually a good strategy. you can then reference these objects by the interfaces so that you can call methods on them, etc."},{"owner":{"account_id":330677,"reputation":7139,"user_id":654928,"accept_rate":89,"display_name":"rubixibuc"},"score":0,"creation_date":1302136211,"post_id":5571612,"comment_id":6342364,"body_markdown":"what is the the fully qualified class name of a class?","body":"what is the the fully qualified class name of a class?"},{"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"score":0,"creation_date":1302138674,"post_id":5571612,"comment_id":6342696,"body_markdown":"You shouldn&#39;t use `.newInstance()`.  If the zero argument constructor throws checked exceptions, `.newInstance()` will launder those as runtime exceptions, so you will lose exception safety.  From the javadoc : &quot;Use of this method effectively bypasses the compile-time exception checking that would otherwise be performed by the compiler.&quot;","body":"You shouldn&#39;t use <code>.newInstance()</code>.  If the zero argument constructor throws checked exceptions, <code>.newInstance()</code> will launder those as runtime exceptions, so you will lose exception safety.  From the javadoc : &quot;Use of this method effectively bypasses the compile-time exception checking that would otherwise be performed by the compiler.&quot;"},{"owner":{"account_id":93777,"reputation":603,"user_id":256401,"accept_rate":88,"display_name":"Mafuba"},"score":0,"creation_date":1391736871,"post_id":5571612,"comment_id":32664803,"body_markdown":"@MikeSamuel do you have a suggestion for what to do instead?","body":"@MikeSamuel do you have a suggestion for what to do instead?"},{"owner":{"account_id":7378049,"reputation":3209,"user_id":5615873,"accept_rate":0,"display_name":"Apostolos"},"score":0,"creation_date":1647164554,"post_id":5571612,"comment_id":126297864,"body_markdown":"I get &quot;java.lang.InstantiationException&quot; error, whatever class name I use! E.g. &quot;&quot;java.io.File&quot;, &quot;java.util.Locale&quot;, &quot;java.util.zip.ZipFile&quot; ...","body":"I get &quot;java.lang.InstantiationException&quot; error, whatever class name I use! E.g. &quot;&quot;java.io.File&quot;, &quot;java.util.Locale&quot;, &quot;java.util.zip.ZipFile&quot; ..."}],"tags":[],"owner":{"account_id":269420,"reputation":6750,"user_id":558751,"accept_rate":80,"display_name":"Amol Katdare"},"comment_count":7,"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1302116734,"creation_date":1302116734,"answer_id":5571612,"question_id":5571466,"body_markdown":"Assuming the class has no-arg constructor, the simplest way would be -\r\n\r\n    Object newObject = Class.forName(strFullyQualifiedClassName).newInstance();\r\n\r\nReference - [java.lang.Class][1]\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Class.html#newInstance%28%29","title":"Dynamically loading a class in Java","body":"<p>Assuming the class has no-arg constructor, the simplest way would be -</p>\n\n<pre><code>Object newObject = Class.forName(strFullyQualifiedClassName).newInstance();\n</code></pre>\n\n<p>Reference - <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Class.html#newInstance%28%29\" rel=\"noreferrer\">java.lang.Class</a></p>\n"},{"comments":[{"owner":{"account_id":3048674,"reputation":2825,"user_id":2583733,"accept_rate":50,"display_name":"Andreas L."},"score":1,"creation_date":1423061653,"post_id":5574541,"comment_id":44996463,"body_markdown":"Best solution for me. But not forget to use FullyQualifiedName for Class (like com.mycomapy.SimX, in your example maybe not needed).","body":"Best solution for me. But not forget to use FullyQualifiedName for Class (like com.mycomapy.SimX, in your example maybe not needed)."},{"owner":{"account_id":7378049,"reputation":3209,"user_id":5615873,"accept_rate":0,"display_name":"Apostolos"},"score":0,"creation_date":1647165323,"post_id":5574541,"comment_id":126298012,"body_markdown":"Where does  (SimInterface) come from? Java 11 compiler cannot find that simbol. How can this be used?","body":"Where does  (SimInterface) come from? Java 11 compiler cannot find that simbol. How can this be used?"}],"tags":[],"owner":{"account_id":330677,"reputation":7139,"user_id":654928,"accept_rate":89,"display_name":"rubixibuc"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1667575380,"creation_date":1302136434,"answer_id":5574541,"question_id":5571466,"body_markdown":"Here is what I got working. This is not a finihsed product, but is just test to see if I could get it to work. Thank you to everyone that answered the questoin :-).\r\n\r\n    public class SimLoader {  \r\n      public static void main(String[] args)  \r\n      {  \r\n        try {  \r\n          Object simulator = Class.forName(&quot;SimX&quot;).newInstance();  \r\n          ((SimInterface)simulator).run();  \r\n        }  \r\n        catch(ClassNotFoundException e) {}  \r\n        catch(InstantiationException e) {}  \r\n        catch(IllegalAccessException e) {}  \r\n      }  \r\n    }\r\n  \r\n    interface SimInterface {  \r\n     void run();  \r\n    } \r\n \r\n    class SimX implements SimInterface  \r\n    {  \r\n      public void run() {  \r\n        System.out.println(&quot;Success&quot;);  \r\n      }  \r\n    }  ","title":"Dynamically loading a class in Java","body":"<p>Here is what I got working. This is not a finihsed product, but is just test to see if I could get it to work. Thank you to everyone that answered the questoin :-).</p>\n<pre><code>public class SimLoader {  \n  public static void main(String[] args)  \n  {  \n    try {  \n      Object simulator = Class.forName(&quot;SimX&quot;).newInstance();  \n      ((SimInterface)simulator).run();  \n    }  \n    catch(ClassNotFoundException e) {}  \n    catch(InstantiationException e) {}  \n    catch(IllegalAccessException e) {}  \n  }  \n}\n\ninterface SimInterface {  \n void run();  \n} \n\nclass SimX implements SimInterface  \n{  \n  public void run() {  \n    System.out.println(&quot;Success&quot;);  \n  }  \n}  \n</code></pre>\n"}],"owner":{"account_id":330677,"reputation":7139,"user_id":654928,"accept_rate":89,"display_name":"rubixibuc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52619,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":5571612,"answer_count":3,"score":24,"last_activity_date":1667575380,"creation_date":1302115949,"question_id":5571466,"body_markdown":"I looked up the syntax and searched the api but am still confused about the process. I also searched Stackoverflow.  What is the proper way to load a class and create an object out of it dynamically?  In otherwords I want the user to specify what type of object they want to create, and then create that type of object.  I don&#39;t want a menu, because I want them to be able to choose any class within the current directory.","title":"Dynamically loading a class in Java","body":"<p>I looked up the syntax and searched the api but am still confused about the process. I also searched Stackoverflow.  What is the proper way to load a class and create an object out of it dynamically?  In otherwords I want the user to specify what type of object they want to create, and then create that type of object.  I don't want a menu, because I want them to be able to choose any class within the current directory.</p>\n"},{"tags":["java","recursion","random","logic","java-11"],"comments":[{"owner":{"account_id":26548593,"reputation":156,"user_id":20178298,"display_name":"kmeh"},"score":3,"creation_date":1667575009,"post_id":74318824,"comment_id":131205865,"body_markdown":"I have not worked with Java in a while, but did you just assign the same reference to the array to all of the ArrayList? Try drawing 4 cards, and let me know if it works. I think you need to make a new array of { 1 1 1 1 } for each of the numbers from 1 - 13, or else the ArrayList just repeatedly point to the same array.","body":"I have not worked with Java in a while, but did you just assign the same reference to the array to all of the ArrayList? Try drawing 4 cards, and let me know if it works. I think you need to make a new array of { 1 1 1 1 } for each of the numbers from 1 - 13, or else the ArrayList just repeatedly point to the same array."},{"owner":{"account_id":26830357,"reputation":1,"user_id":20418428,"display_name":"Lawrance"},"score":0,"creation_date":1667575066,"post_id":74318824,"comment_id":131205892,"body_markdown":"yes i did do that and i&#39;ve edited the question","body":"yes i did do that and i&#39;ve edited the question"},{"owner":{"account_id":26548593,"reputation":156,"user_id":20178298,"display_name":"kmeh"},"score":1,"creation_date":1667575220,"post_id":74318824,"comment_id":131205954,"body_markdown":"Ok, my suspicions are correct: you need to make a new array for each element of the ArrayList, or else every element in the ArrayList is pointing to the same array. So for each of the 4 draws, it will turn 1 number in { 1, 1, 1, 1 } into 0, and on the 5th draw, a stack overflow occurs as there is no more 1s in the shared array.","body":"Ok, my suspicions are correct: you need to make a new array for each element of the ArrayList, or else every element in the ArrayList is pointing to the same array. So for each of the 4 draws, it will turn 1 number in { 1, 1, 1, 1 } into 0, and on the 5th draw, a stack overflow occurs as there is no more 1s in the shared array."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1667579810,"post_id":74318824,"comment_id":131207699,"body_markdown":"Don’t use `Integer` where an `int` will do. You can replace all occurrences of `Integer` in your code with `int` which will improve robustness (an `int` can never be `null`) and performance (no conversions between `int` and `Integer`).","body":"Don’t use <code>Integer</code> where an <code>int</code> will do. You can replace all occurrences of <code>Integer</code> in your code with <code>int</code> which will improve robustness (an <code>int</code> can never be <code>null</code>) and performance (no conversions between <code>int</code> and <code>Integer</code>)."}],"answers":[{"comments":[{"owner":{"account_id":26830357,"reputation":1,"user_id":20418428,"display_name":"Lawrance"},"score":0,"creation_date":1667574664,"post_id":74318917,"comment_id":131205748,"body_markdown":"this is just a portion of my whole code. In the full code i did initialize all the value as 1 for unpicked and 0 for picked cards.\n`for(int i = 0; i &lt; 13; i++){deck.add(deckSet);}` I did do the loop here to assign the value","body":"this is just a portion of my whole code. In the full code i did initialize all the value as 1 for unpicked and 0 for picked cards. <code>for(int i = 0; i &lt; 13; i++){deck.add(deckSet);}</code> I did do the loop here to assign the value"}],"tags":[],"owner":{"account_id":26548593,"reputation":156,"user_id":20178298,"display_name":"kmeh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667575335,"creation_date":1667573582,"answer_id":74318917,"question_id":74318824,"body_markdown":"You need to make a new array for each element of the ArrayList, or else every element in the ArrayList is pointing to the same array. So for each of the 4 draws, it will turn 1 number in { 1, 1, 1, 1 } into 0, and on the 5th draw, a stack overflow occurs as there is no more 1s in the shared array.\r\n\r\nYou can fix the code by moving the new array declaration inside the loop, so a new array is created to be added to the list:\r\n\r\n```\r\n        for(int i = 0; i &lt; 13; i++){\r\n            Integer[] deckSet = {1, 1, 1, 1}; // Moved inside\r\n            deck.add(deckSet);\r\n        }\r\n```\r\n\r\n&lt;s&gt;Doesn&#39;t seem like you initialized all the Integers in the arrays in deck to be 1, so the conditional in the if statement is always false.\r\n\r\nConsider doing\r\n\r\n```\r\n        if(deckSet[shape] == 0){ // Zero for unpicked card\r\n            deckSet[shape] = 1; // One for picked card\r\n            deck.set(num, deckSet);\r\n            card[0] = num;\r\n            card[1] = shape;\r\n            return card;\r\n        }\r\n```\r\n&lt;/s&gt;","title":"java.lang.StackOverflowError on a recursive function","body":"<p>You need to make a new array for each element of the ArrayList, or else every element in the ArrayList is pointing to the same array. So for each of the 4 draws, it will turn 1 number in { 1, 1, 1, 1 } into 0, and on the 5th draw, a stack overflow occurs as there is no more 1s in the shared array.</p>\n<p>You can fix the code by moving the new array declaration inside the loop, so a new array is created to be added to the list:</p>\n<pre><code>        for(int i = 0; i &lt; 13; i++){\n            Integer[] deckSet = {1, 1, 1, 1}; // Moved inside\n            deck.add(deckSet);\n        }\n</code></pre>\n<p><s>Doesn't seem like you initialized all the Integers in the arrays in deck to be 1, so the conditional in the if statement is always false.</p>\n<p>Consider doing</p>\n<pre><code>        if(deckSet[shape] == 0){ // Zero for unpicked card\n            deckSet[shape] = 1; // One for picked card\n            deck.set(num, deckSet);\n            card[0] = num;\n            card[1] = shape;\n            return card;\n        }\n</code></pre>\n</s>\n"},{"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1667575412,"post_id":74319265,"comment_id":131206030,"body_markdown":"@Lawrance in your questions code you create only one `deckSet` before the loop. You **must** move the `deckSet` initialization into the loop.","body":"@Lawrance in your questions code you create only one <code>deckSet</code> before the loop. You <b>must</b> move the <code>deckSet</code> initialization into the loop."}],"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667575174,"creation_date":1667575174,"answer_id":74319265,"question_id":74318824,"body_markdown":"You use the same `deckSet` array for all deck numbers. That means that after drawing for cards for all deck numbers the deckSet will be `{0, 0, 0, 0}`.\r\n\r\nTo solve it you need to initialize the `deck` as\r\n\r\n        for(int i = 0; i &lt; 13; i++){\r\n            Integer[] deckSet = {1, 1, 1, 1};\r\n            deck.add(deckSet);\r\n        }\r\n","title":"java.lang.StackOverflowError on a recursive function","body":"<p>You use the same <code>deckSet</code> array for all deck numbers. That means that after drawing for cards for all deck numbers the deckSet will be <code>{0, 0, 0, 0}</code>.</p>\n<p>To solve it you need to initialize the <code>deck</code> as</p>\n<pre><code>    for(int i = 0; i &lt; 13; i++){\n        Integer[] deckSet = {1, 1, 1, 1};\n        deck.add(deckSet);\n    }\n</code></pre>\n"}],"owner":{"account_id":26830357,"reputation":1,"user_id":20418428,"display_name":"Lawrance"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667575335,"creation_date":1667573144,"question_id":74318824,"body_markdown":"I want to draw a random card from a deck and validates that it&#39;s always unique. I&#39;m using the cardGenerator() recursive function to do that. If the random card picked has been shown then it calls itself again. Need a work around or if any of yall got a better logic please let me know.\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.Random;\r\n\r\npublic class App {\r\n    static ArrayList&lt;Integer[]&gt; deck = new ArrayList&lt;&gt;();\r\n    static ArrayList&lt;Integer[]&gt; dealer = new ArrayList&lt;&gt;();\r\n\r\n    static Integer[] cardGenerator() throws Exception{\r\n        Random random = new Random();\r\n        Integer[] card = {0, 0};\r\n        Integer num = random.nextInt(13);\r\n        Integer shape = random.nextInt(4);\r\n        Integer[] deckSet = deck.get(num);\r\n        if(deckSet[shape] == 1){\r\n            deckSet[shape] = 0;\r\n            deck.set(num, deckSet);\r\n            card[0] = num;\r\n            card[1] = shape;\r\n            return card;\r\n        }\r\n        else return cardGenerator();\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        Integer[] deckSet = {1, 1, 1, 1};\r\n        for(int i = 0; i &lt; 13; i++){\r\n            deck.add(deckSet);\r\n        }\r\n        dealer.add(cardGenerator());\r\n        dealer.add(cardGenerator());\r\n        dealer.add(cardGenerator());\r\n        dealer.add(cardGenerator());\r\n        dealer.add(cardGenerator());\r\n    }\r\n}\r\n```\r\nexpecting for dealer to store 5 unique cards, but java.lang.StackOverflowError occured on the cardGenerator function.","title":"java.lang.StackOverflowError on a recursive function","body":"<p>I want to draw a random card from a deck and validates that it's always unique. I'm using the cardGenerator() recursive function to do that. If the random card picked has been shown then it calls itself again. Need a work around or if any of yall got a better logic please let me know.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Random;\n\npublic class App {\n    static ArrayList&lt;Integer[]&gt; deck = new ArrayList&lt;&gt;();\n    static ArrayList&lt;Integer[]&gt; dealer = new ArrayList&lt;&gt;();\n\n    static Integer[] cardGenerator() throws Exception{\n        Random random = new Random();\n        Integer[] card = {0, 0};\n        Integer num = random.nextInt(13);\n        Integer shape = random.nextInt(4);\n        Integer[] deckSet = deck.get(num);\n        if(deckSet[shape] == 1){\n            deckSet[shape] = 0;\n            deck.set(num, deckSet);\n            card[0] = num;\n            card[1] = shape;\n            return card;\n        }\n        else return cardGenerator();\n    }\n\n    public static void main(String[] args) throws Exception {\n        Integer[] deckSet = {1, 1, 1, 1};\n        for(int i = 0; i &lt; 13; i++){\n            deck.add(deckSet);\n        }\n        dealer.add(cardGenerator());\n        dealer.add(cardGenerator());\n        dealer.add(cardGenerator());\n        dealer.add(cardGenerator());\n        dealer.add(cardGenerator());\n    }\n}\n</code></pre>\n<p>expecting for dealer to store 5 unique cards, but java.lang.StackOverflowError occured on the cardGenerator function.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1667574157,"post_id":74319008,"comment_id":131205567,"body_markdown":"If your types are in an `Enum`, and listed in sort order, you can sort on the `Enum` ordinal number.","body":"If your types are in an <code>Enum</code>, and listed in sort order, you can sort on the <code>Enum</code> ordinal number."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1667574460,"post_id":74319008,"comment_id":131205686,"body_markdown":"Please, share what have you tried and explain where have you stack. If you explain what&#39;s your point of misunderstanding, you&#39;ll be more likely to receive helpful feedback that targets it.","body":"Please, share what have you tried and explain where have you stack. If you explain what&#39;s your point of misunderstanding, you&#39;ll be more likely to receive helpful feedback that targets it."}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667575278,"creation_date":1667575278,"answer_id":74319293,"question_id":74319008,"body_markdown":"The cleanest solution is use an enum for types, which holds the priority of each type. Basically maps the type to a priority number.\r\n```\r\npublic enum ActorType {\r\n\r\n  ARTIST(1),\r\n  PRODUCER(2),\r\n  MIXER(3);\r\n\r\n  private final int priority;\r\n\r\n  ActorType(int priority) {\r\n    this.priority = priority;\r\n  }\r\n\r\n  public static int compare(ActorType t1, ActorType t2) {\r\n    return Integer.compare(t1.priority, t2.priority);\r\n  }\r\n}\r\n```\r\nThen the comparator is quite simple.\r\n```\r\npublic class ActorByActorTypeComparator implements Comparator&lt;Actor&gt; {\r\n\r\n  @Override\r\n  public int compare(Actor actor1, Actor actor2) {\r\n    return ActorType.compare(actor1.getActorType(), actor2.getActorType());\r\n  }\r\n}\r\n```\r\nIf you use String for types and can&#39;t change for whatever reason, one option is the comparator to hold the priority for each type. Something like this.\r\n```\r\npublic class ActorByTypeComparator implements Comparator&lt;Actor&gt; {\r\n  \r\n  private final Map&lt;String, Integer&gt; typePriorityMap = new HashMap&lt;&gt;();\r\n  //add each type in map\r\n  //map.put(&quot;Artist&quot;, 1);\r\n  //or provide the map from constructor\r\n\r\n  @Override\r\n  public int compare(Actor a1, Actor a2) {\r\n    int a1Priority = this.typePriorityMap.getOrDefault(a1.getType(), Integer.MAX_VALUE);\r\n    //handle unknown type, according to your needs\r\n    int a2Priority = this.typePriorityMap.getOrDefault(a2.getType(), Integer.MAX_VALUE);\r\n    return Integer.compare(a1Priority, a2Priority);\r\n  }\r\n}\r\n```\r\nThe first option is cleaner and less error prone.","title":"Complex logix in Java Comparator","body":"<p>The cleanest solution is use an enum for types, which holds the priority of each type. Basically maps the type to a priority number.</p>\n<pre><code>public enum ActorType {\n\n  ARTIST(1),\n  PRODUCER(2),\n  MIXER(3);\n\n  private final int priority;\n\n  ActorType(int priority) {\n    this.priority = priority;\n  }\n\n  public static int compare(ActorType t1, ActorType t2) {\n    return Integer.compare(t1.priority, t2.priority);\n  }\n}\n</code></pre>\n<p>Then the comparator is quite simple.</p>\n<pre><code>public class ActorByActorTypeComparator implements Comparator&lt;Actor&gt; {\n\n  @Override\n  public int compare(Actor actor1, Actor actor2) {\n    return ActorType.compare(actor1.getActorType(), actor2.getActorType());\n  }\n}\n</code></pre>\n<p>If you use String for types and can't change for whatever reason, one option is the comparator to hold the priority for each type. Something like this.</p>\n<pre><code>public class ActorByTypeComparator implements Comparator&lt;Actor&gt; {\n  \n  private final Map&lt;String, Integer&gt; typePriorityMap = new HashMap&lt;&gt;();\n  //add each type in map\n  //map.put(&quot;Artist&quot;, 1);\n  //or provide the map from constructor\n\n  @Override\n  public int compare(Actor a1, Actor a2) {\n    int a1Priority = this.typePriorityMap.getOrDefault(a1.getType(), Integer.MAX_VALUE);\n    //handle unknown type, according to your needs\n    int a2Priority = this.typePriorityMap.getOrDefault(a2.getType(), Integer.MAX_VALUE);\n    return Integer.compare(a1Priority, a2Priority);\n  }\n}\n</code></pre>\n<p>The first option is cleaner and less error prone.</p>\n"}],"owner":{"account_id":17176912,"reputation":647,"user_id":12432925,"display_name":"Carlos Gonzalez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74319293,"answer_count":1,"score":0,"last_activity_date":1667575278,"creation_date":1667574001,"question_id":74319008,"body_markdown":"I have a list of actors where each actor has a type (&quot;Artist&quot;, &quot;Producer&quot;, &quot;Mixer&quot;...some other types).\r\n\r\nI need to order this list taking the following into consideration:\r\n\r\n1. Actors with the type of “Artist” will be displayed first.\r\n2. Actors with the type of “Producer” will be displayed next.\r\n3. Actors with the type of “Mixer” will be displayed next.\r\n\r\nAll actors also have to be ordered in alphabetical order based on their names.\r\n\r\nI know I could write differet comparators and chain them, but I&#39;m not sure how to implement the first 3 points.","title":"Complex logix in Java Comparator","body":"<p>I have a list of actors where each actor has a type (&quot;Artist&quot;, &quot;Producer&quot;, &quot;Mixer&quot;...some other types).</p>\n<p>I need to order this list taking the following into consideration:</p>\n<ol>\n<li>Actors with the type of “Artist” will be displayed first.</li>\n<li>Actors with the type of “Producer” will be displayed next.</li>\n<li>Actors with the type of “Mixer” will be displayed next.</li>\n</ol>\n<p>All actors also have to be ordered in alphabetical order based on their names.</p>\n<p>I know I could write differet comparators and chain them, but I'm not sure how to implement the first 3 points.</p>\n"},{"tags":["java","unit-testing","mockito"],"comments":[{"owner":{"account_id":266613,"reputation":9373,"user_id":554279,"accept_rate":80,"display_name":"Rangi Lin"},"score":0,"creation_date":1348677317,"post_id":12606148,"comment_id":16992719,"body_markdown":"can you provide an example to show how you want to use Mockito in your unit test ?","body":"can you provide an example to show how you want to use Mockito in your unit test ?"}],"answers":[{"comments":[{"owner":{"account_id":703628,"reputation":14438,"user_id":595305,"accept_rate":83,"display_name":"mike rodent"},"score":0,"creation_date":1479973028,"post_id":12606503,"comment_id":68784013,"body_markdown":"I&#39;m sure this is the definitive answer.  But would you care to comment on the possibility at (http://stackoverflow.com/questions/27745691/how-to-combine-runwith-with-runwithparameterized-class/27750897#comment68773212_27750897) of combining `@RunWith(Parameterized.class)` with another `@RunWith`.  I tried to understand how to use this technique with `@RunWith(MockitoJUnitRunner.class)`, but it was beyond me (see my comments there).  I have doubts in view of what you say, but I thought I&#39;d ask...","body":"I&#39;m sure this is the definitive answer.  But would you care to comment on the possibility at (<a href=\"http://stackoverflow.com/questions/27745691/how-to-combine-runwith-with-runwithparameterized-class/27750897#comment68773212_27750897\" title=\"how to combine runwith with runwithparameterized class\">stackoverflow.com/questions/27745691/&hellip;</a>) of combining <code>@RunWith(Parameterized.class)</code> with another <code>@RunWith</code>.  I tried to understand how to use this technique with <code>@RunWith(MockitoJUnitRunner.class)</code>, but it was beyond me (see my comments there).  I have doubts in view of what you say, but I thought I&#39;d ask..."},{"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"score":0,"creation_date":1480007505,"post_id":12606503,"comment_id":68805721,"body_markdown":"@mike Yes, you could create a parameterized Mockito runner using that technique, but while that post may be particularly useful for classloader-manipulating runners or runners that use dynamic tests, it is purely overkill in almost all Mockito situations because a `@Rule` would achieve this in a more modern idiomatic way. (MockitoJUnitRunner predates JUnit Rules.) If you want to see about combining them, it&#39;d go better in another question—it wouldn&#39;t fit in a comment box and is no good general answer to either question.","body":"@mike Yes, you could create a parameterized Mockito runner using that technique, but while that post may be particularly useful for classloader-manipulating runners or runners that use dynamic tests, it is purely overkill in almost all Mockito situations because a <code>@Rule</code> would achieve this in a more modern idiomatic way. (MockitoJUnitRunner predates JUnit Rules.) If you want to see about combining them, it&#39;d go better in another question—it wouldn&#39;t fit in a comment box and is no good general answer to either question."},{"owner":{"account_id":703628,"reputation":14438,"user_id":595305,"accept_rate":83,"display_name":"mike rodent"},"score":0,"creation_date":1480016014,"post_id":12606503,"comment_id":68809175,"body_markdown":"Thanks.  You mean start a new question to ask for an explicit example of using @Rule?  I have now done this: http://stackoverflow.com/questions/40793464/parameterized-testing-with-mockito-by-using-junit-rule.  Hope you have a moment...","body":"Thanks.  You mean start a new question to ask for an explicit example of using @Rule?  I have now done this: <a href=\"http://stackoverflow.com/questions/40793464/parameterized-testing-with-mockito-by-using-junit-rule\" title=\"parameterized testing with mockito by using junit rule\">stackoverflow.com/questions/40793464/&hellip;</a>.  Hope you have a moment..."}],"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"comment_count":3,"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1480104724,"creation_date":1348677702,"answer_id":12606503,"question_id":12606148,"body_markdown":"In JUnit, [Parameterized tests][parameterized] use [a special runner][runner] that ensure that the test is instantiated multiple times, so each test method is called multiple times. Mockito is a tool for writing specific unit tests, so there is no built-in ability to run the same test multiple times with different Mockito expectations.\r\n\r\nIf you want your test conditions to change, your best bet is to do one of the following:\r\n\r\n  * Parameterize your test using JUnit, with a parameter for the mock inputs you want;\r\n  * Run a loop of different parameters in your test, which unfortunately avoids the &quot;test one thing per method&quot; philosophy\r\n  * Extract a method that actually performs the test, and create a new `@Test` method for each mock you want.\r\n\r\nNote that there&#39;s no prohibition on using mock objects as `@Parameterized` test parameters. If you&#39;re looking to parameterize based on mocks, you can do that, possibly creating the mock and setting the expectations in a static method on the test.\r\n\r\n---\r\n\r\n**Note about runners**: This [Parameterized test runner][runner] conflicts with Mockito&#39;s [MockitoJUnitRunner][mockito-runner]: Each test class can only have one runner. You&#39;ll want to switch to [@Before and @After methods][before-and-after] or [a Mockito JUnit4 rule][mockito-rule] for your setup, if you use them both.\r\n\r\nAs an example, compressed from [a different answer](https://stackoverflow.com/q/40793464/1426891) that explains more about Parameterized runners versus JUnit rules and lifting from the [JUnit4 Parameterized Test](https://github.com/junit-team/junit4/wiki/Parameterized-tests) doc page and [MockitoRule](https://static.javadoc.io/org.mockito/mockito-core/2.2.22/org/mockito/junit/MockitoRule.html) doc page:\r\n\r\n    @RunWith(Parameterized.class)\r\n    public class YourComponentTest {\r\n        @Rule public MockitoRule rule = MockitoJUnit.rule();\r\n        @Mock YourDep mockYourDep;\r\n\r\n        @Parameters public static Collection&lt;Object[]&gt; data() { /* Return the values */ }\r\n\r\n        public YourComponentTest(Parameter parameter) { /* Save the parameter to a field */ }\r\n    \r\n        @Test public void test() { /* Use the field value in assertions */ }\r\n    }\r\n\r\n[parameterized]: https://github.com/junit-team/junit/wiki/Parameterized-tests\r\n[runner]: https://github.com/junit-team/junit/blob/master/src/main/java/org/junit/runners/Parameterized.java\r\n[mockito-runner]: http://site.mockito.org/mockito/docs/current/org/mockito/runners/MockitoJUnitRunner.html\r\n[before-and-after]: https://stackoverflow.com/q/10806345/1426891\r\n[mockito-rule]: http://site.mockito.org/mockito/docs/current/org/mockito/junit/MockitoRule.html","title":"passing Parameterized input using Mockitos","body":"<p>In JUnit, <a href=\"https://github.com/junit-team/junit/wiki/Parameterized-tests\" rel=\"noreferrer\">Parameterized tests</a> use <a href=\"https://github.com/junit-team/junit/blob/master/src/main/java/org/junit/runners/Parameterized.java\" rel=\"noreferrer\">a special runner</a> that ensure that the test is instantiated multiple times, so each test method is called multiple times. Mockito is a tool for writing specific unit tests, so there is no built-in ability to run the same test multiple times with different Mockito expectations.</p>\n\n<p>If you want your test conditions to change, your best bet is to do one of the following:</p>\n\n<ul>\n<li>Parameterize your test using JUnit, with a parameter for the mock inputs you want;</li>\n<li>Run a loop of different parameters in your test, which unfortunately avoids the \"test one thing per method\" philosophy</li>\n<li>Extract a method that actually performs the test, and create a new <code>@Test</code> method for each mock you want.</li>\n</ul>\n\n<p>Note that there's no prohibition on using mock objects as <code>@Parameterized</code> test parameters. If you're looking to parameterize based on mocks, you can do that, possibly creating the mock and setting the expectations in a static method on the test.</p>\n\n<hr>\n\n<p><strong>Note about runners</strong>: This <a href=\"https://github.com/junit-team/junit/blob/master/src/main/java/org/junit/runners/Parameterized.java\" rel=\"noreferrer\">Parameterized test runner</a> conflicts with Mockito's <a href=\"http://site.mockito.org/mockito/docs/current/org/mockito/runners/MockitoJUnitRunner.html\" rel=\"noreferrer\">MockitoJUnitRunner</a>: Each test class can only have one runner. You'll want to switch to <a href=\"https://stackoverflow.com/q/10806345/1426891\">@Before and @After methods</a> or <a href=\"http://site.mockito.org/mockito/docs/current/org/mockito/junit/MockitoRule.html\" rel=\"noreferrer\">a Mockito JUnit4 rule</a> for your setup, if you use them both.</p>\n\n<p>As an example, compressed from <a href=\"https://stackoverflow.com/q/40793464/1426891\">a different answer</a> that explains more about Parameterized runners versus JUnit rules and lifting from the <a href=\"https://github.com/junit-team/junit4/wiki/Parameterized-tests\" rel=\"noreferrer\">JUnit4 Parameterized Test</a> doc page and <a href=\"https://static.javadoc.io/org.mockito/mockito-core/2.2.22/org/mockito/junit/MockitoRule.html\" rel=\"noreferrer\">MockitoRule</a> doc page:</p>\n\n<pre><code>@RunWith(Parameterized.class)\npublic class YourComponentTest {\n    @Rule public MockitoRule rule = MockitoJUnit.rule();\n    @Mock YourDep mockYourDep;\n\n    @Parameters public static Collection&lt;Object[]&gt; data() { /* Return the values */ }\n\n    public YourComponentTest(Parameter parameter) { /* Save the parameter to a field */ }\n\n    @Test public void test() { /* Use the field value in assertions */ }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1437465,"reputation":6412,"user_id":1358536,"accept_rate":90,"display_name":"kavai77"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1483972202,"creation_date":1483972202,"answer_id":41550220,"question_id":12606148,"body_markdown":"If you are stuck with an older version of mockito where `MockitoRule` isn&#39;t available, the other possibility is to initialize the mocks explicitely with `MockitoAnnotations.initMocks`:\r\n\r\n    @RunWith(Parameterized.class)\r\n    public class YourComponentTest {        \r\n        @Mock YourDep mockYourDep;\r\n\r\n        @Parameter\r\n        public Parameter parameter;\r\n    \r\n        @Parameters public static Collection&lt;Object[]&gt; data() { /* Return the values */ }\r\n    \r\n        @Before\r\n        public void init() {\r\n            MockitoAnnotations.initMocks(this);\r\n        }\r\n    \r\n        @Test public void test() { /* Use the field value in assertions */ }\r\n    }","title":"passing Parameterized input using Mockitos","body":"<p>If you are stuck with an older version of mockito where <code>MockitoRule</code> isn't available, the other possibility is to initialize the mocks explicitely with <code>MockitoAnnotations.initMocks</code>:</p>\n\n<pre><code>@RunWith(Parameterized.class)\npublic class YourComponentTest {        \n    @Mock YourDep mockYourDep;\n\n    @Parameter\n    public Parameter parameter;\n\n    @Parameters public static Collection&lt;Object[]&gt; data() { /* Return the values */ }\n\n    @Before\n    public void init() {\n        MockitoAnnotations.initMocks(this);\n    }\n\n    @Test public void test() { /* Use the field value in assertions */ }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6613027,"reputation":788,"user_id":5107365,"display_name":"Raj"},"score":1,"creation_date":1550718517,"post_id":45205894,"comment_id":96374657,"body_markdown":"Just one note. This getParameters method does not have to be a public method.","body":"Just one note. This getParameters method does not have to be a public method."},{"owner":{"account_id":3860652,"reputation":195,"user_id":3198476,"accept_rate":22,"display_name":"Jonas Bausch"},"score":0,"creation_date":1550719952,"post_id":45205894,"comment_id":96375002,"body_markdown":"correct, and with junit5 the teat methods dont have to be public anymore.","body":"correct, and with junit5 the teat methods dont have to be public anymore."},{"owner":{"account_id":2965471,"reputation":923,"user_id":2518705,"display_name":"RAM237"},"score":0,"creation_date":1699629209,"post_id":45205894,"comment_id":136559814,"body_markdown":"Here is how to import it: https://stackoverflow.com/q/39366130/2518705","body":"Here is how to import it: <a href=\"https://stackoverflow.com/q/39366130/2518705\">stackoverflow.com/q/39366130/2518705</a>"}],"tags":[],"owner":{"account_id":3860652,"reputation":195,"user_id":3198476,"accept_rate":22,"display_name":"Jonas Bausch"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1500528573,"creation_date":1500528573,"answer_id":45205894,"question_id":12606148,"body_markdown":"You can use the JUnitParamsRunner. Here&#39;s how I do it:\r\n\r\n    import junitparams.JUnitParamsRunner;\r\n    import junitparams.Parameters;\r\n    import org.junit.Before;\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.mockito.InjectMocks;\r\n    import org.mockito.Mock;\r\n    \r\n    import java.util.Arrays;\r\n    \r\n    import static org.hamcrest.CoreMatchers.is;\r\n    import static org.hamcrest.MatcherAssert.assertThat;\r\n    import static org.mockito.Mockito.when;\r\n    import static org.mockito.MockitoAnnotations.initMocks;\r\n    \r\n    @RunWith(value = JUnitParamsRunner.class)\r\n    public class ParameterizedMockitoTest {\r\n    \r\n        @InjectMocks\r\n        private SomeService someService;\r\n        @Mock\r\n        private SomeOtherService someOtherService;\r\n    \r\n        @Before\r\n        public void setup() {\r\n            initMocks(this);\r\n        }\r\n    \r\n        @Test\r\n        @Parameters(method = &quot;getParameters&quot;)\r\n        public void testWithParameters(Boolean parameter, Boolean expected) throws Exception {\r\n            when(someOtherService.getSomething()).thenReturn(new Something());\r\n            Boolean testObject = someService.getTestObject(parameter);\r\n            assertThat(testObject, is(expected));\r\n        }\r\n    \r\n        @Test\r\n        public void testSomeBasicStuffWithoutParameters() {\r\n            int i = 0;\r\n            assertThat(i, is(0));\r\n        }\r\n    \r\n        public Iterable getParameters() {\r\n            return Arrays.asList(new Object[][]{\r\n                    {Boolean.TRUE, Boolean.TRUE},\r\n                    {Boolean.FALSE, Boolean.FALSE},\r\n            });\r\n        }\r\n    }","title":"passing Parameterized input using Mockitos","body":"<p>You can use the JUnitParamsRunner. Here's how I do it:</p>\n\n<pre><code>import junitparams.JUnitParamsRunner;\nimport junitparams.Parameters;\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\n\nimport java.util.Arrays;\n\nimport static org.hamcrest.CoreMatchers.is;\nimport static org.hamcrest.MatcherAssert.assertThat;\nimport static org.mockito.Mockito.when;\nimport static org.mockito.MockitoAnnotations.initMocks;\n\n@RunWith(value = JUnitParamsRunner.class)\npublic class ParameterizedMockitoTest {\n\n    @InjectMocks\n    private SomeService someService;\n    @Mock\n    private SomeOtherService someOtherService;\n\n    @Before\n    public void setup() {\n        initMocks(this);\n    }\n\n    @Test\n    @Parameters(method = \"getParameters\")\n    public void testWithParameters(Boolean parameter, Boolean expected) throws Exception {\n        when(someOtherService.getSomething()).thenReturn(new Something());\n        Boolean testObject = someService.getTestObject(parameter);\n        assertThat(testObject, is(expected));\n    }\n\n    @Test\n    public void testSomeBasicStuffWithoutParameters() {\n        int i = 0;\n        assertThat(i, is(0));\n    }\n\n    public Iterable getParameters() {\n        return Arrays.asList(new Object[][]{\n                {Boolean.TRUE, Boolean.TRUE},\n                {Boolean.FALSE, Boolean.FALSE},\n        });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3776730,"reputation":829,"user_id":3137368,"accept_rate":83,"display_name":"Martijn Jan Jaap de Bruin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667574958,"creation_date":1667574958,"answer_id":74319217,"question_id":12606148,"body_markdown":"What solved it for me was: \r\n1) Class level annotation of `@ExtendWith(MockitoExtension.class)`\r\n2) Annotate each mock object with `@Mock`\r\n3) `@InjectMocks` on the test class. Or a setup method annotated with `@BeforeEach` where you initialise the class to be tested. \r\n4) if you need the @test annotation, make sure you import `org.junit.jupiter.api.Test`. `org.junit.test` will not work! \r\n\r\nI&#39;m using mockito version 4. ","title":"passing Parameterized input using Mockitos","body":"<p>What solved it for me was:</p>\n<ol>\n<li>Class level annotation of <code>@ExtendWith(MockitoExtension.class)</code></li>\n<li>Annotate each mock object with <code>@Mock</code></li>\n<li><code>@InjectMocks</code> on the test class. Or a setup method annotated with <code>@BeforeEach</code> where you initialise the class to be tested.</li>\n<li>if you need the @test annotation, make sure you import <code>org.junit.jupiter.api.Test</code>. <code>org.junit.test</code> will not work!</li>\n</ol>\n<p>I'm using mockito version 4.</p>\n"}],"owner":{"account_id":1753787,"reputation":731,"user_id":1602280,"accept_rate":45,"display_name":"spal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50323,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":12606503,"answer_count":4,"score":33,"last_activity_date":1667574958,"creation_date":1348676423,"question_id":12606148,"body_markdown":"I am using Mockito for unit testing. I am wondering if its possible to send Parametrized input parameters with as in Junit testing   \r\ne.g\r\n  \r\n\t@InjectMocks\r\n\tMockClass mockClass = new MockClass();\r\n\r\n    @Test\r\n    public void mockTestMethod()\r\n        {\r\n        mockClass.testMethod(stringInput); \r\n    // here I want to pass a list of String inputs \r\n    // this is possible in Junit through Parameterized.class.. \r\n    // wondering if its can be done in Mockito\r\n        } ","title":"passing Parameterized input using Mockitos","body":"<p>I am using Mockito for unit testing. I am wondering if its possible to send Parametrized input parameters with as in Junit testing<br>\ne.g</p>\n\n<pre><code>@InjectMocks\nMockClass mockClass = new MockClass();\n\n@Test\npublic void mockTestMethod()\n    {\n    mockClass.testMethod(stringInput); \n// here I want to pass a list of String inputs \n// this is possible in Junit through Parameterized.class.. \n// wondering if its can be done in Mockito\n    } \n</code></pre>\n"},{"tags":["java","casting","calculation","primitive","primitive-types"],"comments":[{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":1,"creation_date":1667556395,"post_id":74315219,"comment_id":131199063,"body_markdown":"Does this answer your question? [Promotion in Java?](https://stackoverflow.com/questions/1660856/promotion-in-java) (the duplicate is mainly about bytes, but the same things happen here: operands are converted to `int` and then added)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1660856/promotion-in-java\">Promotion in Java?</a> (the duplicate is mainly about bytes, but the same things happen here: operands are converted to <code>int</code> and then added)"},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1667574620,"post_id":74315219,"comment_id":131205735,"body_markdown":"*tl;dr* `byte` and `short` are not general purpose numeric variables in Java and will be hard to use for stuff like that. Just use `int` and cast down were necessary (plus probably checking for overflow).","body":"<i>tl;dr</i> <code>byte</code> and <code>short</code> are not general purpose numeric variables in Java and will be hard to use for stuff like that. Just use <code>int</code> and cast down were necessary (plus probably checking for overflow)."}],"owner":{"account_id":26827768,"reputation":1,"user_id":20416171,"display_name":"Kennszo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1667556517,"answer_count":0,"score":0,"last_activity_date":1667574508,"creation_date":1667556151,"question_id":74315219,"body_markdown":"I added a `Byte` variable to a `Short` variable, however I had to add `(Short)` for the line of code to compute. I thought this was not needed as I&#39;m adding a smaller data type to a bigger one. Why is this?\r\n\r\n\r\nWhat i thought was correct.\r\n\r\n```\r\n        byte NumberOfShoes = 5;\r\n\t\tshort Laces = 10;\r\n\t\tshort ShoePacks = NumberOfShoes + Laces;\r\n\t\tSystem.out.println(ShoePacks);\r\n```\r\nWhat was correct.\r\n```\r\n        byte NumberOfShoes = 5;\r\n\t\tshort Laces = 10;\r\n\t\tshort ShoePacks = (short) (NumberOfShoes + Laces);\r\n\t\tSystem.out.println(ShoePacks);\r\n```\r\n","title":"Adding Byte and Short","body":"<p>I added a <code>Byte</code> variable to a <code>Short</code> variable, however I had to add <code>(Short)</code> for the line of code to compute. I thought this was not needed as I'm adding a smaller data type to a bigger one. Why is this?</p>\n<p>What i thought was correct.</p>\n<pre><code>        byte NumberOfShoes = 5;\n        short Laces = 10;\n        short ShoePacks = NumberOfShoes + Laces;\n        System.out.println(ShoePacks);\n</code></pre>\n<p>What was correct.</p>\n<pre><code>        byte NumberOfShoes = 5;\n        short Laces = 10;\n        short ShoePacks = (short) (NumberOfShoes + Laces);\n        System.out.println(ShoePacks);\n</code></pre>\n"},{"tags":["java","spring-boot","azure","hibernate","mssql-jdbc"],"answers":[{"tags":[],"owner":{"account_id":18432270,"reputation":1955,"user_id":13427068,"display_name":"Faceless_GOD"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667574335,"creation_date":1667574335,"answer_id":74319083,"question_id":74247318,"body_markdown":"- you can create these table using entities class too where you can create a join table using the `many- to-many ` annotation. \r\n\r\n- The `many-to-many` annotation will help in creating a new table though join where you can pick and choose which columns will part of the new table. \r\n\r\n```\r\npackage com.example.demo;  \r\n\r\n import javax.persistence.*;  \r\n import java.util.HashSet;  \r\n import java.util.Set;  \r\n  \r\n@Entity  \r\n@Table(name=&quot;t1&quot;)  \r\npublic class t1 {  \r\n    @Id  \r\n @GeneratedValue(strategy = GenerationType.AUTO)  \r\n    @Column(name = &quot;id&quot;, nullable = false)  \r\n    private Long id;  \r\n  \r\n public Long getId() {  \r\n        return id;  \r\n  }  \r\n  \r\n    public void setId(Long id) {  \r\n        this.id = id;  \r\n  }  \r\n  \r\n    @Column(name = &quot;name&quot;)  \r\n    private String name ;  \r\n  \r\n  @ManyToMany(cascade = { CascadeType.ALL })  \r\n    @JoinTable(  \r\n            name = &quot;t3&quot;,  \r\n  joinColumns = { @JoinColumn(name = &quot;id&quot;) },  \r\n  inverseJoinColumns = { @JoinColumn(name = &quot;newid&quot;) }  \r\n    )  \r\n    Set&lt;t2&gt; t1 = new HashSet&lt;&gt;();   \r\n}\r\n``` \r\n\r\n- Here the many-to-many will connect the two table and create a new table called `t3` . Here we are also giving a reference of the table t2 as set.\r\n\r\n```\r\npackage com.example.demo;  \r\n  \r\nimport javax.persistence.*;  \r\nimport java.util.HashSet;  \r\nimport java.util.Set;  \r\n  \r\n@Entity  \r\n@Table(name=&quot;t2&quot;)  \r\npublic class t2 {  \r\n    @Id  \r\n @GeneratedValue(strategy = GenerationType.AUTO)  \r\n    @Column(name = &quot;newid&quot;, nullable = false)  \r\n    private Long newid;  \r\n  \r\n public Long getNewid() {  \r\n        return newid;  \r\n  }  \r\n  \r\n    public void setNewid(Long newid) {  \r\n        this.newid = newid;  \r\n  }  \r\n  \r\n    @Column(name = &quot;newname&quot;)  \r\n    private String newname ;  \r\n  \r\n  @ManyToMany(mappedBy = &quot;t1&quot;)  \r\n    Set&lt;t1&gt; t2 = new HashSet&lt;&gt;();  \r\n}\r\n```\r\n- Similar to t1 here we are also mapping t2 to t1 and giving a reference of t1 as a set . \r\n\r\ndependency (pom.xml):\r\n```\r\n&lt;dependency&gt;  \r\n &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  \r\n &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;  \r\n&lt;/dependency&gt;  \r\n&lt;dependency&gt;  \r\n &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  \r\n &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;  \r\n&lt;/dependency&gt;  \r\n  \r\n&lt;dependency&gt;  \r\n &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  \r\n &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;  \r\n &lt;scope&gt;test&lt;/scope&gt;  \r\n&lt;/dependency&gt;\r\n```\r\nNow run you project, and it will create the tables.\r\n\r\n![enter image description here](https://i.stack.imgur.com/gsW7d.png)\r\n\r\n\r\nRefer this [article](https://www.baeldung.com/hibernate-many-to-many) Zeger Hendrikse on this ","title":"Error creating table in MSSQL server in Microsoft Azure: Spring Boot and Hibernate","body":"<ul>\n<li><p>you can create these table using entities class too where you can create a join table using the <code>many- to-many </code> annotation.</p>\n</li>\n<li><p>The <code>many-to-many</code> annotation will help in creating a new table though join where you can pick and choose which columns will part of the new table.</p>\n</li>\n</ul>\n<pre><code>package com.example.demo;  \n\n import javax.persistence.*;  \n import java.util.HashSet;  \n import java.util.Set;  \n  \n@Entity  \n@Table(name=&quot;t1&quot;)  \npublic class t1 {  \n    @Id  \n @GeneratedValue(strategy = GenerationType.AUTO)  \n    @Column(name = &quot;id&quot;, nullable = false)  \n    private Long id;  \n  \n public Long getId() {  \n        return id;  \n  }  \n  \n    public void setId(Long id) {  \n        this.id = id;  \n  }  \n  \n    @Column(name = &quot;name&quot;)  \n    private String name ;  \n  \n  @ManyToMany(cascade = { CascadeType.ALL })  \n    @JoinTable(  \n            name = &quot;t3&quot;,  \n  joinColumns = { @JoinColumn(name = &quot;id&quot;) },  \n  inverseJoinColumns = { @JoinColumn(name = &quot;newid&quot;) }  \n    )  \n    Set&lt;t2&gt; t1 = new HashSet&lt;&gt;();   \n}\n</code></pre>\n<ul>\n<li>Here the many-to-many will connect the two table and create a new table called <code>t3</code> . Here we are also giving a reference of the table t2 as set.</li>\n</ul>\n<pre><code>package com.example.demo;  \n  \nimport javax.persistence.*;  \nimport java.util.HashSet;  \nimport java.util.Set;  \n  \n@Entity  \n@Table(name=&quot;t2&quot;)  \npublic class t2 {  \n    @Id  \n @GeneratedValue(strategy = GenerationType.AUTO)  \n    @Column(name = &quot;newid&quot;, nullable = false)  \n    private Long newid;  \n  \n public Long getNewid() {  \n        return newid;  \n  }  \n  \n    public void setNewid(Long newid) {  \n        this.newid = newid;  \n  }  \n  \n    @Column(name = &quot;newname&quot;)  \n    private String newname ;  \n  \n  @ManyToMany(mappedBy = &quot;t1&quot;)  \n    Set&lt;t1&gt; t2 = new HashSet&lt;&gt;();  \n}\n</code></pre>\n<ul>\n<li>Similar to t1 here we are also mapping t2 to t1 and giving a reference of t1 as a set .</li>\n</ul>\n<p>dependency (pom.xml):</p>\n<pre><code>&lt;dependency&gt;  \n &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  \n &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;  \n&lt;/dependency&gt;  \n&lt;dependency&gt;  \n &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  \n &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;  \n&lt;/dependency&gt;  \n  \n&lt;dependency&gt;  \n &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  \n &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;  \n &lt;scope&gt;test&lt;/scope&gt;  \n&lt;/dependency&gt;\n</code></pre>\n<p>Now run you project, and it will create the tables.</p>\n<p><img src=\"https://i.stack.imgur.com/gsW7d.png\" alt=\"enter image description here\" /></p>\n<p>Refer this <a href=\"https://www.baeldung.com/hibernate-many-to-many\" rel=\"nofollow noreferrer\">article</a> Zeger Hendrikse on this</p>\n"}],"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74319083,"answer_count":1,"score":0,"last_activity_date":1667574335,"creation_date":1667063940,"question_id":74247318,"body_markdown":"I have created a **Spring Boot Web Application with Hibernate**. I am using **Microsoft Azure and SQL Database** to deploy my application. I have configured the database on Azure and in my code. Configuration code is-  \r\n**1. application.properties file**\r\n\r\n```\r\n#to  automatically create/update tables for any entities\r\nspring.jpa.hibernate.ddl-auto=update\r\n#to show the table operation query in the console\r\nspring.jpa.show-sql=true\r\n\r\n#change port\r\nserver.port=8085\r\n\r\n#File related all configurations\r\nspring.servlet.multipart.max-file-size=10MB\r\nspring.servlet.multipart.max-request-size=10MB\r\n\r\nproject.image=images/\r\n\r\n#get all the debugging logs for spring security\r\nlogging.level.org.springframework.security=DEBUG\r\n```\r\n\r\n**2. application.yml file**\r\n\r\n```\r\nspring:\r\n  datasource:\r\n    url: jdbc:sqlserver:&lt;url&gt;:1433;database=blogging-application-db;encrypt=true;trustServerCertificate=false;hostNameInCertificate=*.database.windows.net;loginTimeout=30;\r\n    username: &lt;username&gt;\r\n    password: &lt;password&gt;\r\n  jpa:\r\n    show-sql: true\r\n    hibernate:\r\n      ddl-auto: update\r\n    properties:\r\n      dialect : org.hibernate.dialect.SQLServer2012Dialect\r\n    #   hibernate:\r\n    #     &#39;[globally_quoted_identifiers: true]&#39;\r\n    #   properties:\r\n    #     dialect : org.hibernate.dialect.SQLServer2012Dialect\r\n\r\nserver:\r\n  port: 8085\r\n```\r\n\r\nI am creating several tables in my database.  \r\n[![Image of tables in Microsoft Azure console][1]][1]\r\n\r\nAll the tables are getting created, but one that needs to be created automatically for a **many to many relationship between user and role** is not getting created. The table is named as **user_role**. I am getting the following errors for it-\r\n```\r\nHibernate: create table user_role (user int not null, role int not null, primary key (user, role))  \r\n2022-10-29 22:22:39.192  WARN 18348 --- [  restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl     : \r\nGenerationTarget encountered exception accepting command : \r\nError executing DDL &quot;create table user_role (user int not null, role int not null, primary key (user, role))&quot; via JDBC Statement\r\n```\r\n**and**\r\n```\r\nHibernate: alter table user_role add constraint FKlduspqw8rg0gbcpludbfadw6l foreign key (user) references users  \r\n2022-10-29 22:22:39.852  WARN 18348 --- [  restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl     : \r\nGenerationTarget encountered exception accepting the command : \r\nError executing DDL &quot;alter table user_role add constraint FKlduspqw8rg0gbcpludbfadw6l foreign key (user) references users&quot; via JDBC Statement\r\n```\r\n**and**  \r\n```\r\nCaused by: com.microsoft.sqlserver.jdbc.SQLServerException: Incorrect syntax near the keyword &#39;user&#39;.\r\n```\r\nI am not able to figure out what is the problem in creating the **user_role table** which should be created automatically by the hibernate. Also, the code was working perfectly when I was using **MySQL with localhost**. Now, when I am trying to use **Microsoft Azure and MSSQL** database, I get the error.\r\nPlease help me to figure this out!\r\n\r\n  [1]: https://i.stack.imgur.com/oCOmn.png","title":"Error creating table in MSSQL server in Microsoft Azure: Spring Boot and Hibernate","body":"<p>I have created a <strong>Spring Boot Web Application with Hibernate</strong>. I am using <strong>Microsoft Azure and SQL Database</strong> to deploy my application. I have configured the database on Azure and in my code. Configuration code is-<br />\n<strong>1. application.properties file</strong></p>\n<pre><code>#to  automatically create/update tables for any entities\nspring.jpa.hibernate.ddl-auto=update\n#to show the table operation query in the console\nspring.jpa.show-sql=true\n\n#change port\nserver.port=8085\n\n#File related all configurations\nspring.servlet.multipart.max-file-size=10MB\nspring.servlet.multipart.max-request-size=10MB\n\nproject.image=images/\n\n#get all the debugging logs for spring security\nlogging.level.org.springframework.security=DEBUG\n</code></pre>\n<p><strong>2. application.yml file</strong></p>\n<pre><code>spring:\n  datasource:\n    url: jdbc:sqlserver:&lt;url&gt;:1433;database=blogging-application-db;encrypt=true;trustServerCertificate=false;hostNameInCertificate=*.database.windows.net;loginTimeout=30;\n    username: &lt;username&gt;\n    password: &lt;password&gt;\n  jpa:\n    show-sql: true\n    hibernate:\n      ddl-auto: update\n    properties:\n      dialect : org.hibernate.dialect.SQLServer2012Dialect\n    #   hibernate:\n    #     '[globally_quoted_identifiers: true]'\n    #   properties:\n    #     dialect : org.hibernate.dialect.SQLServer2012Dialect\n\nserver:\n  port: 8085\n</code></pre>\n<p>I am creating several tables in my database.<br />\n<a href=\"https://i.stack.imgur.com/oCOmn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oCOmn.png\" alt=\"Image of tables in Microsoft Azure console\" /></a></p>\n<p>All the tables are getting created, but one that needs to be created automatically for a <strong>many to many relationship between user and role</strong> is not getting created. The table is named as <strong>user_role</strong>. I am getting the following errors for it-</p>\n<pre><code>Hibernate: create table user_role (user int not null, role int not null, primary key (user, role))  \n2022-10-29 22:22:39.192  WARN 18348 --- [  restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl     : \nGenerationTarget encountered exception accepting command : \nError executing DDL &quot;create table user_role (user int not null, role int not null, primary key (user, role))&quot; via JDBC Statement\n</code></pre>\n<p><strong>and</strong></p>\n<pre><code>Hibernate: alter table user_role add constraint FKlduspqw8rg0gbcpludbfadw6l foreign key (user) references users  \n2022-10-29 22:22:39.852  WARN 18348 --- [  restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl     : \nGenerationTarget encountered exception accepting the command : \nError executing DDL &quot;alter table user_role add constraint FKlduspqw8rg0gbcpludbfadw6l foreign key (user) references users&quot; via JDBC Statement\n</code></pre>\n<p><strong>and</strong></p>\n<pre><code>Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: Incorrect syntax near the keyword 'user'.\n</code></pre>\n<p>I am not able to figure out what is the problem in creating the <strong>user_role table</strong> which should be created automatically by the hibernate. Also, the code was working perfectly when I was using <strong>MySQL with localhost</strong>. Now, when I am trying to use <strong>Microsoft Azure and MSSQL</strong> database, I get the error.\nPlease help me to figure this out!</p>\n"},{"tags":["java","angular","spring","amazon-web-services"],"answers":[{"tags":[],"owner":{"account_id":3145100,"reputation":314,"user_id":2659721,"display_name":"tiziano"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667573918,"creation_date":1667573918,"answer_id":74318994,"question_id":58961202,"body_markdown":"You can increase the max size of the body configuring the Nginx reverse proxy in /etc/nginx/conf.d/proxy.conf:\r\n\r\n    client_max_body_size 2M;\r\n\r\nYou can also configure Nginx via ebextensions (in .ebextensions/nginx/conf.d/proxy.conf)","title":"Java AWS 413 (Request Entity Too Large)","body":"<p>You can increase the max size of the body configuring the Nginx reverse proxy in /etc/nginx/conf.d/proxy.conf:</p>\n<pre><code>client_max_body_size 2M;\n</code></pre>\n<p>You can also configure Nginx via ebextensions (in .ebextensions/nginx/conf.d/proxy.conf)</p>\n"}],"owner":{"account_id":16507903,"reputation":39,"user_id":11927483,"display_name":"tundra90"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667573918,"creation_date":1574274998,"question_id":58961202,"body_markdown":"I am having a problem uploading files to S3 Bucket after I&#39;ve uploaded and deployed my Spring Boot/Angular application to Elastic Beanstalk. I get, 413 (Request Entity Too Large). I have tried uploading a zipped folder with the .ebextensions directory with the myconf.conf file. Still end up with the same result as well as a blocked by CORS policy. Obviously just running the spring boot app and using postman, everything worked fine and everything worked on localhost:4200 as well. ","title":"Java AWS 413 (Request Entity Too Large)","body":"<p>I am having a problem uploading files to S3 Bucket after I've uploaded and deployed my Spring Boot/Angular application to Elastic Beanstalk. I get, 413 (Request Entity Too Large). I have tried uploading a zipped folder with the .ebextensions directory with the myconf.conf file. Still end up with the same result as well as a blocked by CORS policy. Obviously just running the spring boot app and using postman, everything worked fine and everything worked on localhost:4200 as well. </p>\n"},{"tags":["java","html","spring-boot","thymeleaf","computer-science"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1667484075,"post_id":74303694,"comment_id":131181140,"body_markdown":"It looks as if you have two separate Java lists - one used by `${descriptionList}` and one used by `${idList}`. What is the relationship between these two lists? Perhaps what you need is a single Java list, where each object in the list contains all the data needed for one table row. Then you only need one iterator (at the `&lt;tr&gt;` level) and your Thymeleaf becomes much simpler.","body":"It looks as if you have two separate Java lists - one used by <code>${descriptionList}</code> and one used by <code>${idList}</code>. What is the relationship between these two lists? Perhaps what you need is a single Java list, where each object in the list contains all the data needed for one table row. Then you only need one iterator (at the <code>&lt;tr&gt;</code> level) and your Thymeleaf becomes much simpler."}],"answers":[{"tags":[],"owner":{"account_id":7673258,"reputation":1688,"user_id":6200354,"display_name":"atish.s"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667572570,"creation_date":1667572570,"answer_id":74318705,"question_id":74303694,"body_markdown":"A simple example which can help you out. Given the class `User`,\r\n\r\n    class User {\r\n        private Long id;\r\n        private String email;\r\n        // other data that is desired\r\n        // setters and getters omitted\r\n    }\r\n\r\n**In the spring controller**\r\n\r\nYou would have something like a list of users, as such `List&lt;User&gt; specialUsers` and you would add it to the model, `model.add(&quot;users&quot;, specialUsers);`.\r\n\r\n**In the appropriate html page, using thymeleaf**\r\n\r\n    &lt;table&gt;\r\n        &lt;tr&gt;\r\n            &lt;td&gt;Id&lt;/td&gt;\r\n            &lt;td&gt;Email&lt;/td&gt;\r\n            &lt;td&gt;Operation(s)&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n    &lt;th:block th:each=&quot;user : ${specialUsers}&quot;&gt; &lt;!-- Looping each user in the list specialUsers--&gt;\r\n        &lt;tr&gt;\r\n            &lt;td th:text=&quot;${user.id}&quot;&gt;&lt;/td&gt;\r\n            &lt;td th:text=&quot;${user.email}&quot;&gt;&lt;/td&gt;\r\n            &lt;td&gt;\r\n                &lt;form th:action=&quot;@{/user/delete}&quot;&gt;\r\n                    &lt;input type=&quot;hidden&quot; th:value=&quot;${user.id}&quot;&gt;\r\n                    &lt;input type=&quot;submit&quot; value=&quot;delete&quot;&gt;\r\n                &lt;/form&gt;\r\n            &lt;/td&gt;\r\n        &lt;tr&gt;\r\n    &lt;/th:block&gt;\r\n    &lt;/table&gt;","title":"SpringBoot &amp;Thymeleaf loop and buttons","body":"<p>A simple example which can help you out. Given the class <code>User</code>,</p>\n<pre><code>class User {\n    private Long id;\n    private String email;\n    // other data that is desired\n    // setters and getters omitted\n}\n</code></pre>\n<p><strong>In the spring controller</strong></p>\n<p>You would have something like a list of users, as such <code>List&lt;User&gt; specialUsers</code> and you would add it to the model, <code>model.add(&quot;users&quot;, specialUsers);</code>.</p>\n<p><strong>In the appropriate html page, using thymeleaf</strong></p>\n<pre><code>&lt;table&gt;\n    &lt;tr&gt;\n        &lt;td&gt;Id&lt;/td&gt;\n        &lt;td&gt;Email&lt;/td&gt;\n        &lt;td&gt;Operation(s)&lt;/td&gt;\n    &lt;/tr&gt;\n&lt;th:block th:each=&quot;user : ${specialUsers}&quot;&gt; &lt;!-- Looping each user in the list specialUsers--&gt;\n    &lt;tr&gt;\n        &lt;td th:text=&quot;${user.id}&quot;&gt;&lt;/td&gt;\n        &lt;td th:text=&quot;${user.email}&quot;&gt;&lt;/td&gt;\n        &lt;td&gt;\n            &lt;form th:action=&quot;@{/user/delete}&quot;&gt;\n                &lt;input type=&quot;hidden&quot; th:value=&quot;${user.id}&quot;&gt;\n                &lt;input type=&quot;submit&quot; value=&quot;delete&quot;&gt;\n            &lt;/form&gt;\n        &lt;/td&gt;\n    &lt;tr&gt;\n&lt;/th:block&gt;\n&lt;/table&gt;\n</code></pre>\n"}],"owner":{"account_id":24393499,"reputation":1,"user_id":18323125,"display_name":"Ian Justino"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667572570,"creation_date":1667481369,"question_id":74303694,"body_markdown":"Could anyone spare a moment?\r\n\r\nIssue: I would like to iterate over an array in thymeleaf and add a button to it inside a cell or however it can work.\r\n\r\nThis is what I&#39;m currently working on: \r\n``` \r\n&lt;table&gt;\r\n   &lt;tr th:each=&quot;description : ${descriptionList}&quot;&gt;\r\n     &lt;td  th:text=&quot;${description}&quot;&gt; &lt;/td&gt;\r\n     &lt;td  th:each=&quot;id : ${idList}&quot;&gt;  &lt;/td&gt;\r\n     &lt;td  th:text=&quot;${id}&quot;&gt;\r\n     &lt;td th:each=&quot;id : ${idList}&quot;&gt;\r\n       &lt;form action=&quot;/deletewish&quot; method=&quot;post&quot;&gt;\r\n         &lt;input type=&quot;hidden&quot; name=&quot;email&quot; th:value=&quot;${email}&quot;&gt;\r\n         &lt;input type=&quot;hidden&quot; name=&quot;wish_id&quot; th:value=&quot;${id}&quot;&gt;\r\n         &lt;button type=&quot;submit&quot;&gt; Delete &lt;/button&gt;\r\n       &lt;/form&gt;\r\n      &lt;/td&gt;&lt;/td&gt;\r\n   &lt;/tr&gt;\r\n&lt;/table&gt; \r\n```\r\n\r\nIssue here is that its adding the button correctly, but its also adding buttons equal to amount of iterations.\r\n\r\nIs there a solution to iterate once? I&#39;m having real trouble working the syntax here.\r\n\r\nI need a table with 1 row and 3 columns with the following info: Description, ID and a delete button.\r\n\r\nThank you for your time.\r\n\r\nI tried changing table size and tried different syntax approaches to the thymeleaf loop, but this solution was the best one I found yet.","title":"SpringBoot &amp;Thymeleaf loop and buttons","body":"<p>Could anyone spare a moment?</p>\n<p>Issue: I would like to iterate over an array in thymeleaf and add a button to it inside a cell or however it can work.</p>\n<p>This is what I'm currently working on:</p>\n<pre><code>&lt;table&gt;\n   &lt;tr th:each=&quot;description : ${descriptionList}&quot;&gt;\n     &lt;td  th:text=&quot;${description}&quot;&gt; &lt;/td&gt;\n     &lt;td  th:each=&quot;id : ${idList}&quot;&gt;  &lt;/td&gt;\n     &lt;td  th:text=&quot;${id}&quot;&gt;\n     &lt;td th:each=&quot;id : ${idList}&quot;&gt;\n       &lt;form action=&quot;/deletewish&quot; method=&quot;post&quot;&gt;\n         &lt;input type=&quot;hidden&quot; name=&quot;email&quot; th:value=&quot;${email}&quot;&gt;\n         &lt;input type=&quot;hidden&quot; name=&quot;wish_id&quot; th:value=&quot;${id}&quot;&gt;\n         &lt;button type=&quot;submit&quot;&gt; Delete &lt;/button&gt;\n       &lt;/form&gt;\n      &lt;/td&gt;&lt;/td&gt;\n   &lt;/tr&gt;\n&lt;/table&gt; \n</code></pre>\n<p>Issue here is that its adding the button correctly, but its also adding buttons equal to amount of iterations.</p>\n<p>Is there a solution to iterate once? I'm having real trouble working the syntax here.</p>\n<p>I need a table with 1 row and 3 columns with the following info: Description, ID and a delete button.</p>\n<p>Thank you for your time.</p>\n<p>I tried changing table size and tried different syntax approaches to the thymeleaf loop, but this solution was the best one I found yet.</p>\n"},{"tags":["java","spring","caching","jedis"],"answers":[{"comments":[{"owner":{"account_id":19362396,"reputation":79,"user_id":14157410,"display_name":"Jessi"},"score":0,"creation_date":1667475489,"post_id":74269001,"comment_id":131177861,"body_markdown":"Hey, can you please explain?","body":"Hey, can you please explain?"},{"owner":{"account_id":13696444,"reputation":26,"user_id":9882969,"display_name":"Eric"},"score":0,"creation_date":1667491222,"post_id":74269001,"comment_id":131184176,"body_markdown":"Yea basically there is no JedisCachemanager, only a RedisCacheManager like you said, therefore you have to setup a RedisTemplate with a JedisConnectionFactory: `redisTemplate.setConnectionFactory(getJedisConnectionFactory())`, then you can setup the jedisConnectionFactory bean with your specific configs e.g. setting database index name, redis host name, JedisClientConfiguration, timeouts, etc. See [JedisConnectionFactory here](https://docs.spring.io/spring-data/redis/docs/current/api/org/springframework/data/redis/connection/jedis/JedisConnectionFactory.html)","body":"Yea basically there is no JedisCachemanager, only a RedisCacheManager like you said, therefore you have to setup a RedisTemplate with a JedisConnectionFactory: <code>redisTemplate.setConnectionFactory(getJedisConnectionFactory&zwnj;&#8203;())</code>, then you can setup the jedisConnectionFactory bean with your specific configs e.g. setting database index name, redis host name, JedisClientConfiguration, timeouts, etc. See <a href=\"https://docs.spring.io/spring-data/redis/docs/current/api/org/springframework/data/redis/connection/jedis/JedisConnectionFactory.html\" rel=\"nofollow noreferrer\">JedisConnectionFactory here</a>"},{"owner":{"account_id":13696444,"reputation":26,"user_id":9882969,"display_name":"Eric"},"score":0,"creation_date":1667491410,"post_id":74269001,"comment_id":131184251,"body_markdown":"Example setup of the JedisConnectionFactory setup\n`private JedisConnectionFactory getJedisConnectionFactory() {\n\n    JedisConnectionFactory jedisConnectionFactory =\n        new JedisConnectionFactory();\n\n    jedisConnectionFactory.setClientName(&quot;myClientName&quot;);\n\n    jedisConnectionFactory.set(new JedisClientConfiguration())`","body":"Example setup of the JedisConnectionFactory setup <code>private JedisConnectionFactory getJedisConnectionFactory() {      JedisConnectionFactory jedisConnectionFactory =         new JedisConnectionFactory();      jedisConnectionFactory.setClientName(&quot;myClientName&quot;);      jedisConnectionFactory.set(new JedisClientConfiguration())</code>"},{"owner":{"account_id":19362396,"reputation":79,"user_id":14157410,"display_name":"Jessi"},"score":0,"creation_date":1667491636,"post_id":74269001,"comment_id":131184332,"body_markdown":"Thank you very much!!! Do you know how can I use TLS with this? because I cant connect to redis, I guess this is what causing the connection problem.","body":"Thank you very much!!! Do you know how can I use TLS with this? because I cant connect to redis, I guess this is what causing the connection problem."},{"owner":{"account_id":13696444,"reputation":26,"user_id":9882969,"display_name":"Eric"},"score":0,"creation_date":1667498881,"post_id":74269001,"comment_id":131186926,"body_markdown":"np! Can you please approve my answer if it helped? A little convoluted now but Try [LettuceConnectionFactory](https://stackoverflow.com/questions/54454011/jedisconnectionfactory-that-can-handle-tls) which has TLS. Set [LettuceClientConfiguration](https://docs.spring.io/spring-data/redis/docs/2.1.0.RC2/api/index.html?org/springframework/data/redis/connection/lettuce/LettuceClientConfiguration.html) with TLS instead of SSL","body":"np! Can you please approve my answer if it helped? A little convoluted now but Try <a href=\"https://stackoverflow.com/questions/54454011/jedisconnectionfactory-that-can-handle-tls\">LettuceConnectionFactory</a> which has TLS. Set <a href=\"https://docs.spring.io/spring-data/redis/docs/2.1.0.RC2/api/index.html?org/springframework/data/redis/connection/lettuce/LettuceClientConfiguration.html\" rel=\"nofollow noreferrer\">LettuceClientConfiguration</a> with TLS instead of SSL"},{"owner":{"account_id":19362396,"reputation":79,"user_id":14157410,"display_name":"Jessi"},"score":0,"creation_date":1667512009,"post_id":74269001,"comment_id":131190607,"body_markdown":"Unfortunately no :( this api version is deprecated then the one im using. About the Lettuce, also tried it, Im having a problem with spring&#39;s redis healthCheck, it cant connect to redis server even though I can connect to it with jedis from same app. But I cant use jedis for the custom settings for the Cacheable annotation. Stuck on this :(","body":"Unfortunately no :( this api version is deprecated then the one im using. About the Lettuce, also tried it, Im having a problem with spring&#39;s redis healthCheck, it cant connect to redis server even though I can connect to it with jedis from same app. But I cant use jedis for the custom settings for the Cacheable annotation. Stuck on this :("},{"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"score":1,"creation_date":1667521478,"post_id":74269001,"comment_id":131192358,"body_markdown":"Hey Eric, you can improve your answer by incorporating your comments into the answer.","body":"Hey Eric, you can improve your answer by incorporating your comments into the answer."},{"owner":{"account_id":13696444,"reputation":26,"user_id":9882969,"display_name":"Eric"},"score":0,"creation_date":1667570700,"post_id":74269001,"comment_id":131204152,"body_markdown":"Hey CausingUnderflowsEverywhere updated answer thanks for suggestion","body":"Hey CausingUnderflowsEverywhere updated answer thanks for suggestion"},{"owner":{"account_id":13696444,"reputation":26,"user_id":9882969,"display_name":"Eric"},"score":0,"creation_date":1667571633,"post_id":74269001,"comment_id":131204544,"body_markdown":"Issue is &quot;JedisConnectionFactory that can handle TLS + Redis Health check failing due to inability to connect to the Jedis Connection Setup&quot;\n\nJessi have you tried to configure Jedis with the RedisClientConfigurations? \nYou can instantiate the JedisConnectionFactory with RedisConfigurations, See the multiple constructor signatures, maybe that could fix the connection issue and doesn&#39;t need TLS?\n\n1) JedisConnectionFactory(RedisStandaloneConfiguration standaloneConfig)\n2) JedisConnectionFactory(RedisClusterConfiguration clusterConfig, JedisClientConfiguration clientConfig)\n3) etc.","body":"Issue is &quot;JedisConnectionFactory that can handle TLS + Redis Health check failing due to inability to connect to the Jedis Connection Setup&quot;  Jessi have you tried to configure Jedis with the RedisClientConfigurations?  You can instantiate the JedisConnectionFactory with RedisConfigurations, See the multiple constructor signatures, maybe that could fix the connection issue and doesn&#39;t need TLS?  1) JedisConnectionFactory(RedisStandaloneConfiguration standaloneConfig) 2) JedisConnectionFactory(RedisClusterConfiguration clusterConfig, JedisClientConfiguration clientConfig) 3) etc."},{"owner":{"account_id":13696444,"reputation":26,"user_id":9882969,"display_name":"Eric"},"score":0,"creation_date":1667572128,"post_id":74269001,"comment_id":131204754,"body_markdown":"Updated answer: `jedisConnectionFactory.set(new JedisClientConfiguration(\n        new RedisStandaloneConfiguration(...), \n        new JedisClientConfiguration clientConfig(...)))`","body":"Updated answer: <code>jedisConnectionFactory.set(new JedisClientConfiguration(         new RedisStandaloneConfiguration(...),          new JedisClientConfiguration clientConfig(...)))</code>"}],"tags":[],"owner":{"account_id":13696444,"reputation":26,"user_id":9882969,"display_name":"Eric"},"comment_count":10,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667572092,"creation_date":1667249523,"answer_id":74269001,"question_id":74267834,"body_markdown":"Found this [stack post](https://stackoverflow.com/questions/48181614/using-multiple-jedis-clusters-for-caching-with-spring-boot) on setting up `CacheManager -&gt; RedisCacheManager -&gt; RedisTemplate -&gt; JedisConnectionFactory -&gt; Redis(Cluster/Standalone)Configuration + JedisClientConfiguration` \r\n\r\nThink RedisStandalone Configuration best suits your needs: \r\n\r\n&gt; Configuration class used for setting up RedisConnection via\r\n&gt; RedisConnectionFactory using connecting to a single node Redis\r\n&gt; installation.\r\n\r\n\r\n\r\nThere is no JedisCachemanager, only a RedisCacheManager like you said, therefore you have to setup a RedisTemplate with a JedisConnectionFactory: `redisTemplate.setConnectionFactory(getJedisConnectionFactory())`, then you can setup the `jedisConnectionFactory` with your specific configs e.g. setting database index name, redis host name, JedisClientConfiguration, timeouts, etc. See [JedisConnectionFactory](https://docs.spring.io/spring-data/redis/docs/current/api/org/springframework/data/redis/connection/jedis/JedisConnectionFactory.html)\r\n\r\nExample setup of the JedisConnectionFactory setup \r\n\r\n      redisTemplate.setConnectionFactory(getJedisConnectionFactory())\r\n\r\n      private JedisConnectionFactory getJedisConnectionFactory() {      \r\n          JedisConnectionFactory jedisConnectionFactory = new \r\n    JedisConnectionFactory();      \r\n          jedisConnectionFactory.setClientName(&quot;myClientName&quot;);      \r\n          jedisConnectionFactory.set(new JedisClientConfiguration(\r\n            new RedisStandaloneConfiguration(...), \r\n            new JedisClientConfiguration(...)))\r\n\r\n","title":"How to use Cacheable annotation in spring boot app when it already uses jedis as a fast storage","body":"<p>Found this <a href=\"https://stackoverflow.com/questions/48181614/using-multiple-jedis-clusters-for-caching-with-spring-boot\">stack post</a> on setting up <code>CacheManager -&gt; RedisCacheManager -&gt; RedisTemplate -&gt; JedisConnectionFactory -&gt; Redis(Cluster/Standalone)Configuration + JedisClientConfiguration</code></p>\n<p>Think RedisStandalone Configuration best suits your needs:</p>\n<blockquote>\n<p>Configuration class used for setting up RedisConnection via\nRedisConnectionFactory using connecting to a single node Redis\ninstallation.</p>\n</blockquote>\n<p>There is no JedisCachemanager, only a RedisCacheManager like you said, therefore you have to setup a RedisTemplate with a JedisConnectionFactory: <code>redisTemplate.setConnectionFactory(getJedisConnectionFactory())</code>, then you can setup the <code>jedisConnectionFactory</code> with your specific configs e.g. setting database index name, redis host name, JedisClientConfiguration, timeouts, etc. See <a href=\"https://docs.spring.io/spring-data/redis/docs/current/api/org/springframework/data/redis/connection/jedis/JedisConnectionFactory.html\" rel=\"nofollow noreferrer\">JedisConnectionFactory</a></p>\n<p>Example setup of the JedisConnectionFactory setup</p>\n<pre><code>  redisTemplate.setConnectionFactory(getJedisConnectionFactory())\n\n  private JedisConnectionFactory getJedisConnectionFactory() {      \n      JedisConnectionFactory jedisConnectionFactory = new \nJedisConnectionFactory();      \n      jedisConnectionFactory.setClientName(&quot;myClientName&quot;);      \n      jedisConnectionFactory.set(new JedisClientConfiguration(\n        new RedisStandaloneConfiguration(...), \n        new JedisClientConfiguration(...)))\n</code></pre>\n"}],"owner":{"account_id":19362396,"reputation":79,"user_id":14157410,"display_name":"Jessi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74269001,"answer_count":1,"score":0,"last_activity_date":1667572092,"creation_date":1667241823,"question_id":74267834,"body_markdown":"I&#39;m working on java spring project (Spring Boot v2.3.3.RELEASE, Spring v5.2.8.RELEASE).\r\n \r\nI&#39;m want to use spring&#39;s @Cacheable annotation with customized cache (not spring default cache).\r\nI already have Jedis configured in this app to be used as fast storage.\r\nIn order to use this annotation I need to configure cacheManger, \r\nbut I&#39;m not sure how to implement it so it will make use with Jedis, all I find is Redis.\r\n\r\nany help will be appreciated!","title":"How to use Cacheable annotation in spring boot app when it already uses jedis as a fast storage","body":"<p>I'm working on java spring project (Spring Boot v2.3.3.RELEASE, Spring v5.2.8.RELEASE).</p>\n<p>I'm want to use spring's @Cacheable annotation with customized cache (not spring default cache).\nI already have Jedis configured in this app to be used as fast storage.\nIn order to use this annotation I need to configure cacheManger,\nbut I'm not sure how to implement it so it will make use with Jedis, all I find is Redis.</p>\n<p>any help will be appreciated!</p>\n"},{"tags":["java","algorithm","data-structures","linked-list","structure"],"answers":[{"tags":[],"owner":{"account_id":2687469,"reputation":31,"user_id":2321572,"display_name":"Vaibhav Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667237576,"creation_date":1667237576,"answer_id":74267090,"question_id":74266804,"body_markdown":"Need to see all the relevent code file before answering,but i observe that you are doing \r\n```\r\nSystem.out.println(list2.val);\r\n```\r\nYou are assuming list2!=null here \r\n```\r\nwhile (list1 != null &amp;&amp; list2 != null)\r\n```\r\nbut in the code you are doing \r\n```\r\nlist2 = list2.next;\r\n            \r\n        }\r\n\r\n        System.out.println(list2.val);\r\n```\r\n\r\nwhat if list2 becomes null here .Need to put null checks\r\n\r\n\r\n","title":"Merge LinkedList - Why does this code caused an infinite loop?","body":"<p>Need to see all the relevent code file before answering,but i observe that you are doing</p>\n<pre><code>System.out.println(list2.val);\n</code></pre>\n<p>You are assuming list2!=null here</p>\n<pre><code>while (list1 != null &amp;&amp; list2 != null)\n</code></pre>\n<p>but in the code you are doing</p>\n<pre><code>list2 = list2.next;\n            \n        }\n\n        System.out.println(list2.val);\n</code></pre>\n<p>what if list2 becomes null here .Need to put null checks</p>\n"},{"comments":[{"owner":{"account_id":2334864,"reputation":221,"user_id":2047436,"accept_rate":76,"display_name":"Minelava"},"score":0,"creation_date":1667271733,"post_id":74267319,"comment_id":131124928,"body_markdown":"Thank you. Now i understand clearly. I was confused because of the reference point.","body":"Thank you. Now i understand clearly. I was confused because of the reference point."}],"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667238895,"creation_date":1667238895,"answer_id":74267319,"question_id":74266804,"body_markdown":"When you draw the states of your list nodes on a piece of paper step by step, you&#39;ll see how that cycle gets introduced.\r\n\r\nHere is a visualisation -- step by step. I assume the code has first created a dummy node to which also `result` has a reference. Before the loop gets executed we thus have this state:\r\n\r\n```\r\nlist1\r\n  ↓ \r\n┌───┐   ┌───┐   ┌───┐\r\n│ 1 ├──►│ 2 ├──►│ 4 ├──► null\r\n└───┘   └───┘   └───┘\r\n\r\nlist2\r\n  ↓ \r\n┌───┐   ┌───┐   ┌───┐\r\n│ 1 ├──►│ 3 ├──►│ 4 ├──► null\r\n└───┘   └───┘   └───┘\r\n\r\nresult\r\n  ↓ \r\n┌───┐\r\n│   ├──► null\r\n└───┘\r\n  ↑\r\ndummy\r\n```\r\n\r\n**Iteration 1** of the loop: `if` condition is false, so `list2` is moved, and then `result-&gt;next` gets the same reference, and then `result` itself moves:\r\n\r\n```\r\nlist1\r\n  ↓ \r\n┌───┐   ┌───┐   ┌───┐\r\n│ 1 ├──►│ 2 ├──►│ 4 ├──► null\r\n└───┘   └───┘   └───┘\r\n\r\n        list2\r\n          ↓ \r\n┌───┐   ┌───┐   ┌───┐\r\n│ 1 ├──►│ 3 ├──►│ 4 ├──► null\r\n└───┘┌─►└───┘   └───┘\r\n     │    ↑\r\n┌───┐│  result\r\n│   ├┘\r\n└───┘\r\n  ↑\r\ndummy\r\n```\r\n\r\n**Iteration 2** of the loop: `if` condition is true, so `list1` is moved, and then `result-&gt;next` gets the same reference, and then `result` itself moves:\r\n\r\n```\r\n        list1\r\n          ↓ \r\n┌───┐   ┌───┐   ┌───┐\r\n│ 1 ├──►│ 2 ├──►│ 4 ├──► null\r\n└───┘┌─►└───┘   └───┘\r\n     │    ↑\r\n     │  result\r\n     └───────┐\r\n        list2│\r\n          ↓  │\r\n┌───┐   ┌───┐│  ┌───┐\r\n│ 1 ├──►│ 3 ├┘  │ 4 ├──► null\r\n└───┘┌─►└───┘   └───┘\r\n     │    \r\n┌───┐│\r\n│   ├┘\r\n└───┘\r\n  ↑\r\ndummy\r\n```\r\n\r\nAt this point we already have a serious problem, as the last node that belonged to the second list has now become detached and unreachable.\r\n\r\n**Iteration 3** of the loop: `if` condition is true, so `list1` is moved, and then `result-&gt;next` gets the same reference (but this was already the case), and then `result` itself moves:\r\n\r\n```\r\n                list1\r\n                  ↓ \r\n┌───┐   ┌───┐   ┌───┐\r\n│ 1 ├──►│ 2 ├──►│ 4 ├──► null\r\n└───┘┌─►└───┘   └───┘\r\n     │            ↑\r\n     │          result\r\n     └───────┐\r\n        list2│\r\n          ↓  │\r\n┌───┐   ┌───┐│  ┌───┐\r\n│ 1 ├──►│ 3 ├┘  │ 4 ├──► null\r\n└───┘┌─►└───┘   └───┘\r\n     │    \r\n┌───┐│\r\n│   ├┘\r\n└───┘\r\n  ↑\r\ndummy\r\n```\r\n\r\n**Iteration 4** of the loop: `if` condition is false, so `list2` is moved (and is going the wrong way!), and then `result-&gt;next` gets the same reference (creating the cycle!), and then `result` itself moves:\r\n\r\n```\r\n        list2   list1\r\n          ↓       ↓ \r\n     ┌───────────────┐\r\n┌───┐└─►┌───┐   ┌───┐│\r\n│ 1 ├──►│ 2 ├──►│ 4 ├┘\r\n└───┘┌─►└───┘   └───┘\r\n     │    ↑\r\n     │  result\r\n     └───────┐\r\n┌───┐   ┌───┐│  ┌───┐\r\n│ 1 ├──►│ 3 ├┘  │ 4 ├──► null\r\n└───┘┌─►└───┘   └───┘\r\n     │    \r\n┌───┐│\r\n│   ├┘\r\n└───┘\r\n  ↑\r\ndummy\r\n```\r\n\r\nAnd now the cycle has been made! The node with value 2 points to the node with value 4, and vice versa!","title":"Merge LinkedList - Why does this code caused an infinite loop?","body":"<p>When you draw the states of your list nodes on a piece of paper step by step, you'll see how that cycle gets introduced.</p>\n<p>Here is a visualisation -- step by step. I assume the code has first created a dummy node to which also <code>result</code> has a reference. Before the loop gets executed we thus have this state:</p>\n<pre><code>list1\n  ↓ \n┌───┐   ┌───┐   ┌───┐\n│ 1 ├──►│ 2 ├──►│ 4 ├──► null\n└───┘   └───┘   └───┘\n\nlist2\n  ↓ \n┌───┐   ┌───┐   ┌───┐\n│ 1 ├──►│ 3 ├──►│ 4 ├──► null\n└───┘   └───┘   └───┘\n\nresult\n  ↓ \n┌───┐\n│   ├──► null\n└───┘\n  ↑\ndummy\n</code></pre>\n<p><strong>Iteration 1</strong> of the loop: <code>if</code> condition is false, so <code>list2</code> is moved, and then <code>result-&gt;next</code> gets the same reference, and then <code>result</code> itself moves:</p>\n<pre><code>list1\n  ↓ \n┌───┐   ┌───┐   ┌───┐\n│ 1 ├──►│ 2 ├──►│ 4 ├──► null\n└───┘   └───┘   └───┘\n\n        list2\n          ↓ \n┌───┐   ┌───┐   ┌───┐\n│ 1 ├──►│ 3 ├──►│ 4 ├──► null\n└───┘┌─►└───┘   └───┘\n     │    ↑\n┌───┐│  result\n│   ├┘\n└───┘\n  ↑\ndummy\n</code></pre>\n<p><strong>Iteration 2</strong> of the loop: <code>if</code> condition is true, so <code>list1</code> is moved, and then <code>result-&gt;next</code> gets the same reference, and then <code>result</code> itself moves:</p>\n<pre><code>        list1\n          ↓ \n┌───┐   ┌───┐   ┌───┐\n│ 1 ├──►│ 2 ├──►│ 4 ├──► null\n└───┘┌─►└───┘   └───┘\n     │    ↑\n     │  result\n     └───────┐\n        list2│\n          ↓  │\n┌───┐   ┌───┐│  ┌───┐\n│ 1 ├──►│ 3 ├┘  │ 4 ├──► null\n└───┘┌─►└───┘   └───┘\n     │    \n┌───┐│\n│   ├┘\n└───┘\n  ↑\ndummy\n</code></pre>\n<p>At this point we already have a serious problem, as the last node that belonged to the second list has now become detached and unreachable.</p>\n<p><strong>Iteration 3</strong> of the loop: <code>if</code> condition is true, so <code>list1</code> is moved, and then <code>result-&gt;next</code> gets the same reference (but this was already the case), and then <code>result</code> itself moves:</p>\n<pre><code>                list1\n                  ↓ \n┌───┐   ┌───┐   ┌───┐\n│ 1 ├──►│ 2 ├──►│ 4 ├──► null\n└───┘┌─►└───┘   └───┘\n     │            ↑\n     │          result\n     └───────┐\n        list2│\n          ↓  │\n┌───┐   ┌───┐│  ┌───┐\n│ 1 ├──►│ 3 ├┘  │ 4 ├──► null\n└───┘┌─►└───┘   └───┘\n     │    \n┌───┐│\n│   ├┘\n└───┘\n  ↑\ndummy\n</code></pre>\n<p><strong>Iteration 4</strong> of the loop: <code>if</code> condition is false, so <code>list2</code> is moved (and is going the wrong way!), and then <code>result-&gt;next</code> gets the same reference (creating the cycle!), and then <code>result</code> itself moves:</p>\n<pre><code>        list2   list1\n          ↓       ↓ \n     ┌───────────────┐\n┌───┐└─►┌───┐   ┌───┐│\n│ 1 ├──►│ 2 ├──►│ 4 ├┘\n└───┘┌─►└───┘   └───┘\n     │    ↑\n     │  result\n     └───────┐\n┌───┐   ┌───┐│  ┌───┐\n│ 1 ├──►│ 3 ├┘  │ 4 ├──► null\n└───┘┌─►└───┘   └───┘\n     │    \n┌───┐│\n│   ├┘\n└───┘\n  ↑\ndummy\n</code></pre>\n<p>And now the cycle has been made! The node with value 2 points to the node with value 4, and vice versa!</p>\n"},{"tags":[],"owner":{"account_id":26706373,"reputation":24,"user_id":20312513,"display_name":"lzl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667572056,"creation_date":1667572056,"answer_id":74318594,"question_id":74266804,"body_markdown":"You are not setting the next pointer of the result node to the next node of the list1 or list2 node. You are setting it to the list1 or list2 node itself. So you are creating a cycle in the linked list. You need to set the next pointer of the result node to the next node of the list1 or list2 node. So the correct code should be:\r\n\r\n    result.next = list1.next;\r\n    list1 = list1.next;\r\n    \r\n    result.next = list2.next;\r\n    list2 = list2.next;","title":"Merge LinkedList - Why does this code caused an infinite loop?","body":"<p>You are not setting the next pointer of the result node to the next node of the list1 or list2 node. You are setting it to the list1 or list2 node itself. So you are creating a cycle in the linked list. You need to set the next pointer of the result node to the next node of the list1 or list2 node. So the correct code should be:</p>\n<pre><code>result.next = list1.next;\nlist1 = list1.next;\n\nresult.next = list2.next;\nlist2 = list2.next;\n</code></pre>\n"}],"owner":{"account_id":2334864,"reputation":221,"user_id":2047436,"accept_rate":76,"display_name":"Minelava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74267319,"answer_count":3,"score":-1,"last_activity_date":1667572056,"creation_date":1667235897,"question_id":74266804,"body_markdown":"I am attempting leetcode merging of sorted linkedlist\r\n\r\nI have just discovered a mistake of my code that I placed `list1 = list1.next` right before the `result.next = list1`, causing the code to caused an infinite loop. However, I tried to trace and still don&#39;t understand how the logic caused an infinite loop.\r\n\r\n**Wrong Solution**\r\n\r\n\t\t\r\n\t\t// Loop until list1 and list2 is not empty\r\n\t\twhile (list1 != null &amp;&amp; list2 != null) {\r\n\t\t\tif (list1.val &lt; list2.val) {\r\n\t\t\t\tlist1 = list1.next;\r\n\t\t\t\tresult.next = list1;\r\n\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\tlist2 = list2.next;\r\n\t\t\t\tresult.next = list2;\r\n\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t\tSystem.out.println(list2.val);\r\n\r\n\t\t\tresult = result.next;\r\n\r\n\t\t}\r\n\r\n**Correct Solution**\r\n\r\n        while (list1 != null &amp;&amp; list2 != null) {\r\n\t\t\tif (list1.val &lt; list2.val) {\r\n\t\t\t\t\r\n\t\t\t\tresult.next = list1;\r\n                list1 = list1.next;\r\n\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\t\r\n\t\t\t\tresult.next = list2;\r\n                list2 = list2.next;\r\n\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t\tSystem.out.println(list2.val);\r\n\r\n\t\t\tresult = result.next;\r\n\r\n\t\t}\r\nCan someone enlighten me why does the placement of list1 = list1.next and list2 = list2.next, will caused an infinite loop? Here are my debugging attempts\r\n\r\n[![1) The 2nd last iteration][1]][1]\r\n\r\n[![The final iteration][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mvRw9.png\r\n  [2]: https://i.stack.imgur.com/KujoG.png\r\n\r\nAs you can see the two images, represents the value of the result linkedlist, which will continuously loop through the value of 4,2,3 -&gt; 2,4,2 -&gt; 4,2,3 -&gt; 2,4,2 .... vice versa.\r\n\r\nFinally here is my input\r\n1,2,4\r\n1,3,4","title":"Merge LinkedList - Why does this code caused an infinite loop?","body":"<p>I am attempting leetcode merging of sorted linkedlist</p>\n<p>I have just discovered a mistake of my code that I placed <code>list1 = list1.next</code> right before the <code>result.next = list1</code>, causing the code to caused an infinite loop. However, I tried to trace and still don't understand how the logic caused an infinite loop.</p>\n<p><strong>Wrong Solution</strong></p>\n<pre><code>    // Loop until list1 and list2 is not empty\n    while (list1 != null &amp;&amp; list2 != null) {\n        if (list1.val &lt; list2.val) {\n            list1 = list1.next;\n            result.next = list1;\n            \n        } else {\n            list2 = list2.next;\n            result.next = list2;\n            \n        }\n\n        System.out.println(list2.val);\n\n        result = result.next;\n\n    }\n</code></pre>\n<p><strong>Correct Solution</strong></p>\n<pre><code>    while (list1 != null &amp;&amp; list2 != null) {\n        if (list1.val &lt; list2.val) {\n            \n            result.next = list1;\n            list1 = list1.next;\n            \n        } else {\n            \n            result.next = list2;\n            list2 = list2.next;\n            \n        }\n\n        System.out.println(list2.val);\n\n        result = result.next;\n\n    }\n</code></pre>\n<p>Can someone enlighten me why does the placement of list1 = list1.next and list2 = list2.next, will caused an infinite loop? Here are my debugging attempts</p>\n<p><a href=\"https://i.stack.imgur.com/mvRw9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mvRw9.png\" alt=\"1) The 2nd last iteration\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/KujoG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KujoG.png\" alt=\"The final iteration\" /></a></p>\n<p>As you can see the two images, represents the value of the result linkedlist, which will continuously loop through the value of 4,2,3 -&gt; 2,4,2 -&gt; 4,2,3 -&gt; 2,4,2 .... vice versa.</p>\n<p>Finally here is my input\n1,2,4\n1,3,4</p>\n"},{"tags":["java","apache-camel","camel-file"],"answers":[{"tags":[],"owner":{"account_id":1832,"reputation":11572,"user_id":2517,"accept_rate":82,"display_name":"Jeremy Ross"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667571671,"creation_date":1667501020,"answer_id":74308115,"question_id":74307662,"body_markdown":"Since the File component is a [batch consumer](https://camel.apache.org/components/3.18.x/file-component.html#_batch_consumer), you can inspect the exchange property called `CamelBatchComplete`. If the value is `true`, there no more files to process, so you can stop the `CamelContext`. This could be as simple as `camelContext.stop()`, but see [this question](https://stackoverflow.com/questions/17311379/how-can-i-shutdown-a-standalone-apache-camel-application-in-an-automated-way) for more options.\r\n\r\nhttps://stackoverflow.com/questions/17311379/how-can-i-shutdown-a-standalone-apache-camel-application-in-an-automated-way\r\n\r\nEdit: Since you have a standalone application, if you&#39;re using Camel main you can use the `camel.main.durationMaxIdle​Seconds` option. Spring Boot has a similar setting.","title":"Camel standalone application - exit after processing multiple files","body":"<p>Since the File component is a <a href=\"https://camel.apache.org/components/3.18.x/file-component.html#_batch_consumer\" rel=\"nofollow noreferrer\">batch consumer</a>, you can inspect the exchange property called <code>CamelBatchComplete</code>. If the value is <code>true</code>, there no more files to process, so you can stop the <code>CamelContext</code>. This could be as simple as <code>camelContext.stop()</code>, but see <a href=\"https://stackoverflow.com/questions/17311379/how-can-i-shutdown-a-standalone-apache-camel-application-in-an-automated-way\">this question</a> for more options.</p>\n<p><a href=\"https://stackoverflow.com/questions/17311379/how-can-i-shutdown-a-standalone-apache-camel-application-in-an-automated-way\">How can I shutdown a standalone Apache Camel application in an automated way?</a></p>\n<p>Edit: Since you have a standalone application, if you're using Camel main you can use the <code>camel.main.durationMaxIdle​Seconds</code> option. Spring Boot has a similar setting.</p>\n"}],"owner":{"account_id":4845098,"reputation":163,"user_id":4023897,"display_name":"Makaque"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667571671,"creation_date":1667498642,"question_id":74307662,"body_markdown":"I have a standalone Camel application that is executed by an external task scheduler. Because of this, it needs to exit once execution is finished. To accomplish this, I&#39;m passing the command line argument `-dm 1` to process a single message before shutting down. \r\n\r\nThe application is being used to consume files in a directory\r\n``` \r\nfrom(file(&quot;SomeDirectory&quot;).include(&quot;TestFile.*&quot;))\r\n.to(...);\r\n```\r\n\r\nThe problem I&#39;m running into is that each file is processed as a unique message, so the `-dm 1` argument causes the application to exit after processing 1 file. \r\n\r\nHow can I get the application to exit after processing the full list of files given by `TestFile.*`?\r\n","title":"Camel standalone application - exit after processing multiple files","body":"<p>I have a standalone Camel application that is executed by an external task scheduler. Because of this, it needs to exit once execution is finished. To accomplish this, I'm passing the command line argument <code>-dm 1</code> to process a single message before shutting down.</p>\n<p>The application is being used to consume files in a directory</p>\n<pre><code>from(file(&quot;SomeDirectory&quot;).include(&quot;TestFile.*&quot;))\n.to(...);\n</code></pre>\n<p>The problem I'm running into is that each file is processed as a unique message, so the <code>-dm 1</code> argument causes the application to exit after processing 1 file.</p>\n<p>How can I get the application to exit after processing the full list of files given by <code>TestFile.*</code>?</p>\n"},{"tags":["java","google-cloud-dataflow","apache-beam","x509certificate","cacerts"],"answers":[{"comments":[{"owner":{"account_id":15722068,"reputation":3,"user_id":11344701,"display_name":"omelnykov"},"score":0,"creation_date":1667821329,"post_id":74318468,"comment_id":131251244,"body_markdown":"Thanks for provided references to your implementation, my was too complicated, so it is very useful!\nRegarding Docker option we will also investigate it, sounds nice.","body":"Thanks for provided references to your implementation, my was too complicated, so it is very useful! Regarding Docker option we will also investigate it, sounds nice."}],"tags":[],"owner":{"account_id":24493709,"reputation":161,"user_id":18410362,"display_name":"pranavbhandari"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667571484,"creation_date":1667571484,"answer_id":74318468,"question_id":74317736,"body_markdown":"We did something [similar](https://github.com/GoogleCloudPlatform/DataflowTemplates/blob/main/v1/src/main/java/com/google/cloud/teleport/splunk/HttpEventPublisher.java#L392) for authenticating to services which use self-signed certificates. \r\n\r\nYou could always use [custom containers](https://cloud.google.com/dataflow/docs/guides/using-custom-containers) for your workers and copy the certificate to cacerts in the dockerfile? This way the worker will always have the certificate in cacerts. (Custom containers are only supported for pipelines using Dataflow Runner v2)","title":"Rest https call from GCP Dataflow (Apache Beam/ Java SDK) with custom Certificate .crt","body":"<p>We did something <a href=\"https://github.com/GoogleCloudPlatform/DataflowTemplates/blob/main/v1/src/main/java/com/google/cloud/teleport/splunk/HttpEventPublisher.java#L392\" rel=\"nofollow noreferrer\">similar</a> for authenticating to services which use self-signed certificates.</p>\n<p>You could always use <a href=\"https://cloud.google.com/dataflow/docs/guides/using-custom-containers\" rel=\"nofollow noreferrer\">custom containers</a> for your workers and copy the certificate to cacerts in the dockerfile? This way the worker will always have the certificate in cacerts. (Custom containers are only supported for pipelines using Dataflow Runner v2)</p>\n"}],"owner":{"account_id":15722068,"reputation":3,"user_id":11344701,"display_name":"omelnykov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":253,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74318468,"answer_count":1,"score":0,"last_activity_date":1667571484,"creation_date":1667568199,"question_id":74317736,"body_markdown":"We faced problem with REST calls from GCP Dataflow (Apache Beam/ Java SDK based) to our internal service within GCP with custom Self-Signed Certificate.\r\n\r\nWe tried to put certificate in Runtime to **../java/../cacerts** file and it works well, but Java reads **../cacert** during start and we are forced to override **SSlContext** and **X509TrustManager**, put it to **HttpClient** and reload **cacert** file in Runtime before http call and after custom cert loaded ([followed this example](https://www.tutorialspoint.com/apache_httpclient/apache_httpclient_custom_ssl_context.htm)). \r\n\r\nFrom my perspective it looks like pretty hard implementation. \r\n\r\nSo the question: Does this problem has any easy workaround like run **.sh** script before GCP Dataflow Worker runs and update **cacert** file via cli before JVM started. \r\n\r\nWe also up Dataflow via **gcloud** cli so we cannot just put custom **cacert** to the project and point JVM to it via Java Options. \r\n\r\nThanks for any suggestions!","title":"Rest https call from GCP Dataflow (Apache Beam/ Java SDK) with custom Certificate .crt","body":"<p>We faced problem with REST calls from GCP Dataflow (Apache Beam/ Java SDK based) to our internal service within GCP with custom Self-Signed Certificate.</p>\n<p>We tried to put certificate in Runtime to <strong>../java/../cacerts</strong> file and it works well, but Java reads <strong>../cacert</strong> during start and we are forced to override <strong>SSlContext</strong> and <strong>X509TrustManager</strong>, put it to <strong>HttpClient</strong> and reload <strong>cacert</strong> file in Runtime before http call and after custom cert loaded (<a href=\"https://www.tutorialspoint.com/apache_httpclient/apache_httpclient_custom_ssl_context.htm\" rel=\"nofollow noreferrer\">followed this example</a>).</p>\n<p>From my perspective it looks like pretty hard implementation.</p>\n<p>So the question: Does this problem has any easy workaround like run <strong>.sh</strong> script before GCP Dataflow Worker runs and update <strong>cacert</strong> file via cli before JVM started.</p>\n<p>We also up Dataflow via <strong>gcloud</strong> cli so we cannot just put custom <strong>cacert</strong> to the project and point JVM to it via Java Options.</p>\n<p>Thanks for any suggestions!</p>\n"},{"tags":["java","javafx","nested-controls"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1667572989,"post_id":74318015,"comment_id":131205126,"body_markdown":"don&#39;t delete and repost a question .. instead edit the previous","body":"don&#39;t delete and repost a question .. instead edit the previous"}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667571196,"creation_date":1667570673,"answer_id":74318289,"question_id":74318015,"body_markdown":"The `fx:id` for the included FXML is not correctly matching the field name for the controller. The rule for &quot;nested controllers&quot; is that the field name for the nested controller should be the `fx:id` with `&quot;Controller&quot;` appended. You have\r\n\r\n    fx:id=&quot;CardInfos&quot;\r\n\r\nbut\r\n\r\n    @FXML\r\n    CardInfosController cardInfosController ;\r\n\r\nAppending `&quot;Controller&quot;` to the `fx:id` gives `&quot;CardInfosController&quot;`, not `&quot;cardInfosController&quot;`.\r\n\r\nTo fix this in a way that conforms to standard Java naming conventions, you should fix the `fx:id`, not the field name. This will also mean you have to fix the field name for the included element:\r\n\r\n    &lt;AnchorPane fx:controller=&quot;controller.DeckBuilderController&quot;&gt;\r\n       &lt;children&gt;\r\n          &lt;BorderPane fx:id=&quot;cardBuilderPane&quot; &gt;\r\n             &lt;left&gt;\r\n               &lt;fx:include fx:id=&quot;cardInfos&quot; source=&quot;CardInfosInterface.fxml&quot; /&gt;\r\n             &lt;/left&gt;\r\n    ...\r\n    &lt;/AnchorPane&gt;\r\n\r\nand\r\n\r\n    public class DeckBuilderController implements Initializable{\r\n        \r\n        @FXML\r\n        AnchorPane cardInfos;\r\n        \r\n        @FXML\r\n        CardInfosController cardInfosController ;\r\n        \r\n          \r\n        \r\n        @Override\r\n        public void initialize(URL arg0, ResourceBundle arg1) {\r\n                \r\n                    System.out.println(cardInfos);\r\n                    System.out.println(cardInfosController);          \r\n            \r\n        }\r\n    }","title":"nested control is null","body":"<p>The <code>fx:id</code> for the included FXML is not correctly matching the field name for the controller. The rule for &quot;nested controllers&quot; is that the field name for the nested controller should be the <code>fx:id</code> with <code>&quot;Controller&quot;</code> appended. You have</p>\n<pre><code>fx:id=&quot;CardInfos&quot;\n</code></pre>\n<p>but</p>\n<pre><code>@FXML\nCardInfosController cardInfosController ;\n</code></pre>\n<p>Appending <code>&quot;Controller&quot;</code> to the <code>fx:id</code> gives <code>&quot;CardInfosController&quot;</code>, not <code>&quot;cardInfosController&quot;</code>.</p>\n<p>To fix this in a way that conforms to standard Java naming conventions, you should fix the <code>fx:id</code>, not the field name. This will also mean you have to fix the field name for the included element:</p>\n<pre><code>&lt;AnchorPane fx:controller=&quot;controller.DeckBuilderController&quot;&gt;\n   &lt;children&gt;\n      &lt;BorderPane fx:id=&quot;cardBuilderPane&quot; &gt;\n         &lt;left&gt;\n           &lt;fx:include fx:id=&quot;cardInfos&quot; source=&quot;CardInfosInterface.fxml&quot; /&gt;\n         &lt;/left&gt;\n...\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>and</p>\n<pre><code>public class DeckBuilderController implements Initializable{\n    \n    @FXML\n    AnchorPane cardInfos;\n    \n    @FXML\n    CardInfosController cardInfosController ;\n    \n      \n    \n    @Override\n    public void initialize(URL arg0, ResourceBundle arg1) {\n            \n                System.out.println(cardInfos);\n                System.out.println(cardInfosController);          \n        \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26165056,"reputation":5,"user_id":19850997,"display_name":"Lyna DJELMOUDI"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74318289,"answer_count":1,"score":0,"last_activity_date":1667571196,"creation_date":1667569515,"question_id":74318015,"body_markdown":"I am really new in javafx development and I want to ask some questions about the best practices and about my issue.\r\n\r\nWell I am working ona yugioh! game and I started to develop the interfaces. I tried to do like with react ( working with components and reuse them instead of making interfaces for every case). So I studied yesterday the nested controllers and tried to do as told.However, the subController returns NULL.\r\n\r\nHere is the deck builder interface (main interface)\r\n```\r\n&lt;AnchorPane fx:controller=&quot;controller.DeckBuilderController&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;BorderPane fx:id=&quot;cardBuilderPane&quot; &gt;\r\n         &lt;left&gt;\r\n           &lt;fx:include fx:id=&quot;CardInfos&quot; source=&quot;CardInfosInterface.fxml&quot; /&gt;\r\n         &lt;/left&gt;\r\n...\r\n&lt;/AnchorPane&gt;\r\n```\r\n\r\nhere is the deck builder controller\r\n```\r\npublic class DeckBuilderController implements Initializable{\r\n    \r\n    @FXML\r\n    AnchorPane CardInfos;\r\n    \r\n    @FXML\r\n    CardInfosController cardInfosController ;\r\n    \r\n      \r\n    \r\n    @Override\r\n    public void initialize(URL arg0, ResourceBundle arg1) {\r\n            \r\n                System.out.println( CardInfos);\r\n                System.out.println(cardInfosController);          \r\n        \r\n    }\r\n}\r\n\r\n```\r\nHere is the cardInfos interface (subInterface)\r\n\r\n```\r\n&lt;AnchorPane  fx:controller=&quot;controller.CardInfosController&quot;&gt;\r\n....\r\n&lt;/AnchorPane&gt;\r\n```\r\nHere is the CardInfosController\r\n```\r\npublic class CardInfosController implements Initializable {\r\n    \r\n    @Override\r\n    public void initialize(URL arg0, ResourceBundle arg1) {\r\n        System.out.println(&quot;init&quot;);\r\n    }\r\n```\r\nAnd the result of my execution\r\n```\r\ninit\r\nAnchorPane[id=CardInfos]\r\nnull\r\n```","title":"nested control is null","body":"<p>I am really new in javafx development and I want to ask some questions about the best practices and about my issue.</p>\n<p>Well I am working ona yugioh! game and I started to develop the interfaces. I tried to do like with react ( working with components and reuse them instead of making interfaces for every case). So I studied yesterday the nested controllers and tried to do as told.However, the subController returns NULL.</p>\n<p>Here is the deck builder interface (main interface)</p>\n<pre><code>&lt;AnchorPane fx:controller=&quot;controller.DeckBuilderController&quot;&gt;\n   &lt;children&gt;\n      &lt;BorderPane fx:id=&quot;cardBuilderPane&quot; &gt;\n         &lt;left&gt;\n           &lt;fx:include fx:id=&quot;CardInfos&quot; source=&quot;CardInfosInterface.fxml&quot; /&gt;\n         &lt;/left&gt;\n...\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>here is the deck builder controller</p>\n<pre><code>public class DeckBuilderController implements Initializable{\n    \n    @FXML\n    AnchorPane CardInfos;\n    \n    @FXML\n    CardInfosController cardInfosController ;\n    \n      \n    \n    @Override\n    public void initialize(URL arg0, ResourceBundle arg1) {\n            \n                System.out.println( CardInfos);\n                System.out.println(cardInfosController);          \n        \n    }\n}\n\n</code></pre>\n<p>Here is the cardInfos interface (subInterface)</p>\n<pre><code>&lt;AnchorPane  fx:controller=&quot;controller.CardInfosController&quot;&gt;\n....\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>Here is the CardInfosController</p>\n<pre><code>public class CardInfosController implements Initializable {\n    \n    @Override\n    public void initialize(URL arg0, ResourceBundle arg1) {\n        System.out.println(&quot;init&quot;);\n    }\n</code></pre>\n<p>And the result of my execution</p>\n<pre><code>init\nAnchorPane[id=CardInfos]\nnull\n</code></pre>\n"},{"tags":["java","string","algorithm"],"comments":[{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1667369347,"post_id":74284931,"comment_id":131148137,"body_markdown":"Looks optimal time but for details of coding. To argue about details, add a tag for the programming language to be considered.","body":"Looks optimal time but for details of coding. To argue about details, add a tag for the programming language to be considered."},{"owner":{"account_id":356709,"reputation":24094,"user_id":696391,"accept_rate":83,"display_name":"samgak"},"score":2,"creation_date":1667370740,"post_id":74284931,"comment_id":131148389,"body_markdown":"Doubt you can do better than O(n) where n is the number of characters. You have to read each character at least once right?","body":"Doubt you can do better than O(n) where n is the number of characters. You have to read each character at least once right?"},{"owner":{"account_id":6402640,"reputation":17528,"user_id":4964822,"display_name":"nice_dev"},"score":2,"creation_date":1667371262,"post_id":74284931,"comment_id":131148495,"body_markdown":"I hope you know how this works. How can you detect unique characters without visiting each one at least once?","body":"I hope you know how this works. How can you detect unique characters without visiting each one at least once?"},{"owner":{"account_id":14826207,"reputation":534,"user_id":10707092,"display_name":"Alois Christen"},"score":2,"creation_date":1667372512,"post_id":74284931,"comment_id":131148788,"body_markdown":"If you know the size of the alphabet used, one small optimization is to stop when all symbol are found","body":"If you know the size of the alphabet used, one small optimization is to stop when all symbol are found"}],"answers":[{"tags":[],"owner":{"account_id":13658941,"reputation":343,"user_id":10371918,"display_name":"cooleck"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667373939,"creation_date":1667373939,"answer_id":74285658,"question_id":74284931,"body_markdown":"This task couldn&#39;t be solved in asymptotic complexity that less than O(n) because you have to iterate over all elements of your string (with length n) at least one time to count unique chars in this string (it&#39;s pretty obvious I guess). Your solution has exactly O(n) asymptotic complexity: you iterate over the chars of the string, on each step of your loop you put some value in `HashSet` that takes O(1), then you get `set.size` that takes O(1) time too. The overall complexity is O(n) then and that&#39;s the minimum complexity that you can achieve.\r\n\r\nBut actually `HashSet` requires more memory than regular array. And if any string that you are going to pass to your function is guaranteed to consist of some limited set of chars (for example any string you pass to your function only consists of ASCII symbols) you could create an array with length of this limited set (for ASCII symbols it would be 256). Then on each step of iterating over chars of your string you could increment element of created array with index equal to ASCII code of that char (this approach is similar to [counting sort][1]). And then you could iterate over your array and just count non-zero elements. That would be number of unique symbols in your string. It would reduce memory utilization of you function and would have the same asymptotic complexity(O(n)). But nevertheless I don&#39;t recommend this approach as it&#39;s not a production solution.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Counting_sort","title":"reducing time complexity to find the length of unique characters in string","body":"<p>This task couldn't be solved in asymptotic complexity that less than O(n) because you have to iterate over all elements of your string (with length n) at least one time to count unique chars in this string (it's pretty obvious I guess). Your solution has exactly O(n) asymptotic complexity: you iterate over the chars of the string, on each step of your loop you put some value in <code>HashSet</code> that takes O(1), then you get <code>set.size</code> that takes O(1) time too. The overall complexity is O(n) then and that's the minimum complexity that you can achieve.</p>\n<p>But actually <code>HashSet</code> requires more memory than regular array. And if any string that you are going to pass to your function is guaranteed to consist of some limited set of chars (for example any string you pass to your function only consists of ASCII symbols) you could create an array with length of this limited set (for ASCII symbols it would be 256). Then on each step of iterating over chars of your string you could increment element of created array with index equal to ASCII code of that char (this approach is similar to <a href=\"https://en.wikipedia.org/wiki/Counting_sort\" rel=\"nofollow noreferrer\">counting sort</a>). And then you could iterate over your array and just count non-zero elements. That would be number of unique symbols in your string. It would reduce memory utilization of you function and would have the same asymptotic complexity(O(n)). But nevertheless I don't recommend this approach as it's not a production solution.</p>\n"},{"tags":[],"owner":{"account_id":26706373,"reputation":24,"user_id":20312513,"display_name":"lzl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667570796,"creation_date":1667570796,"answer_id":74318318,"question_id":74284931,"body_markdown":"You can use a boolean array to keep track of the characters you have seen. The array will have 256 elements, one for each possible character. You can then iterate through the string and set the corresponding element in the array to true. At the end, you can count the number of true elements in the array. This will be O(n) time and O(1) space. The code would look something like this:\r\n\r\n    public static int unique(String s) {\r\n        boolean[] seen = new boolean[256];\r\n        for (int i = 0; i &lt; s.length(); i++) {\r\n            seen[s.charAt(i)] = true;\r\n        }\r\n        int count = 0;\r\n        for (int i = 0; i &lt; seen.length; i++) {\r\n            if (seen[i]) {\r\n                count++;\r\n            }\r\n        }\r\n        return count;\r\n    }","title":"reducing time complexity to find the length of unique characters in string","body":"<p>You can use a boolean array to keep track of the characters you have seen. The array will have 256 elements, one for each possible character. You can then iterate through the string and set the corresponding element in the array to true. At the end, you can count the number of true elements in the array. This will be O(n) time and O(1) space. The code would look something like this:</p>\n<pre><code>public static int unique(String s) {\n    boolean[] seen = new boolean[256];\n    for (int i = 0; i &lt; s.length(); i++) {\n        seen[s.charAt(i)] = true;\n    }\n    int count = 0;\n    for (int i = 0; i &lt; seen.length; i++) {\n        if (seen[i]) {\n            count++;\n        }\n    }\n    return count;\n}\n</code></pre>\n"}],"owner":{"account_id":25426166,"reputation":337,"user_id":19231322,"display_name":"Arnob"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667570796,"creation_date":1667368830,"question_id":74284931,"body_markdown":"I want to count all the unique characters in a given string. So for string &quot;abcaabbd&quot; the length should be 4.\r\n\r\nMy solution:\r\n\r\n```\r\n    public static void unique(String s){\r\n        int max = 0;\r\n        HashSet&lt;Character&gt; set = new HashSet&lt;Character&gt;();\r\n        for(int i = 0; i &lt; s.length(); i++){\r\n            set.add(s.charAt(i));\r\n        }\r\n        max = set.size();\r\n        System.out.println(max);\r\n    }\r\n```\r\n\r\nwhich works fine but I was thinking if there is any way to reduct the time complexity of the operation. ","title":"reducing time complexity to find the length of unique characters in string","body":"<p>I want to count all the unique characters in a given string. So for string &quot;abcaabbd&quot; the length should be 4.</p>\n<p>My solution:</p>\n<pre><code>    public static void unique(String s){\n        int max = 0;\n        HashSet&lt;Character&gt; set = new HashSet&lt;Character&gt;();\n        for(int i = 0; i &lt; s.length(); i++){\n            set.add(s.charAt(i));\n        }\n        max = set.size();\n        System.out.println(max);\n    }\n</code></pre>\n<p>which works fine but I was thinking if there is any way to reduct the time complexity of the operation.</p>\n"},{"tags":["python","java","excel"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1667570767,"post_id":74316375,"comment_id":131204186,"body_markdown":"_&quot;I tried to configure Java to increase the size, but it failed.&quot;_ How did you try, because your question shows no attempt to configure the memory for Java.","body":"<i>&quot;I tried to configure Java to increase the size, but it failed.&quot;</i> How did you try, because your question shows no attempt to configure the memory for Java."},{"owner":{"account_id":26197035,"reputation":1,"user_id":19878015,"display_name":"Lucifer Morningstar"},"score":0,"creation_date":1667798211,"post_id":74316375,"comment_id":131244686,"body_markdown":"Hii  \nMark Rotteveel, I increase this configure Java but i worked on python thats why this shown this error the heap space got error to load the file and save the xlsb file not supported..","body":"Hii   Mark Rotteveel, I increase this configure Java but i worked on python thats why this shown this error the heap space got error to load the file and save the xlsb file not supported.."}],"answers":[{"comments":[{"owner":{"account_id":26197035,"reputation":1,"user_id":19878015,"display_name":"Lucifer Morningstar"},"score":0,"creation_date":1667805798,"post_id":74316458,"comment_id":131246252,"body_markdown":"Not worked given answer @Roger Lindsj&#246;","body":"Not worked given answer @Roger Lindsj&#246;"},{"owner":{"account_id":552427,"reputation":11380,"user_id":917548,"display_name":"Roger Lindsj&#246;"},"score":0,"creation_date":1667812253,"post_id":74316458,"comment_id":131248141,"body_markdown":"What did you change the setting to? Does it work if you run just the Java process outside Python?","body":"What did you change the setting to? Does it work if you run just the Java process outside Python?"},{"owner":{"account_id":26197035,"reputation":1,"user_id":19878015,"display_name":"Lucifer Morningstar"},"score":0,"creation_date":1667812721,"post_id":74316458,"comment_id":131248310,"body_markdown":"I done with jpype.startJVM(&quot;-Xmx2g&quot;) but not helped first time its work properly with 100Mb file but when i used 400Mb file same error are occure","body":"I done with jpype.startJVM(&quot;-Xmx2g&quot;) but not helped first time its work properly with 100Mb file but when i used 400Mb file same error are occure"},{"owner":{"account_id":552427,"reputation":11380,"user_id":917548,"display_name":"Roger Lindsj&#246;"},"score":0,"creation_date":1667814677,"post_id":74316458,"comment_id":131249005,"body_markdown":"Have you tried to adjust it up to say 4g or 8g?","body":"Have you tried to adjust it up to say 4g or 8g?"},{"owner":{"account_id":26197035,"reputation":1,"user_id":19878015,"display_name":"Lucifer Morningstar"},"score":0,"creation_date":1667814926,"post_id":74316458,"comment_id":131249099,"body_markdown":"Yes now it is working i just use jpype.startJVM(&quot;-Xmx10g&quot;) then it takes time and load. If any problem i will tell you again for now thank you so much @Roger Lindsj&#246;","body":"Yes now it is working i just use jpype.startJVM(&quot;-Xmx10g&quot;) then it takes time and load. If any problem i will tell you again for now thank you so much @Roger Lindsj&#246;"},{"owner":{"account_id":26197035,"reputation":1,"user_id":19878015,"display_name":"Lucifer Morningstar"},"score":0,"creation_date":1667881772,"post_id":74316458,"comment_id":131267675,"body_markdown":"Hii @Roger Lindsj&#246;, their is new problem i faced this is i give a path but in live how can i run this code with out given path ?                                                                 import  jpype\nimport  asposecells\njpype.startJVM(&quot;-Xmx10g&quot;)\nfrom asposecells.api import Workbook\nworkbook = Workbook(os.path.abspath(os.path.dirname(r&quot;TestFile.xlsx&quot;)))\nworkbook.save(r&quot;C:\\Users\\prajw\\Downloads\\TestFile2.xlsb&quot;)\njpype.shutdownJVM()","body":"Hii @Roger Lindsj&#246;, their is new problem i faced this is i give a path but in live how can i run this code with out given path ?                                                                 import  jpype import  asposecells jpype.startJVM(&quot;-Xmx10g&quot;) from asposecells.api import Workbook workbook = Workbook(os.path.abspath(os.path.dirname(r&quot;TestFile.xlsx&quot;))) workbook.save(r&quot;C:\\Users\\prajw\\Downloads\\TestFile2.xlsb&quot;) jpype.shutdownJVM()"},{"owner":{"account_id":26197035,"reputation":1,"user_id":19878015,"display_name":"Lucifer Morningstar"},"score":0,"creation_date":1667905444,"post_id":74316458,"comment_id":131274047,"body_markdown":"`import  jpype\nimport  asposecells\nimport urllib.request\njpype.startJVM(&quot;-Xmx10g&quot;)\nfrom asposecells.api import Workbook\nworkbook = Workbook(&quot;http://localhost/cafe_ci/assets/TestFile.xlsx&quot;)\nworkbook.save(&quot;http://localhost/cafe_ci/assets/TestFile2.xlsb&quot;)\njpype.shutdownJVM()`","body":"<code>import  jpype import  asposecells import urllib.request jpype.startJVM(&quot;-Xmx10g&quot;) from asposecells.api import Workbook workbook = Workbook(&quot;http:&#47;&#47;localhost&#47;cafe_ci&#47;assets&#47;TestFile.xlsx&quot;) workbook.save(&quot;http:&#47;&#47;localhost&#47;cafe_ci&#47;assets&#47;TestFile2.xls&zwnj;&#8203;b&quot;) jpype.shutdownJVM()</code>"},{"owner":{"account_id":552427,"reputation":11380,"user_id":917548,"display_name":"Roger Lindsj&#246;"},"score":0,"creation_date":1667946338,"post_id":74316458,"comment_id":131288762,"body_markdown":"You can not save to a http URL. But ask a separate question, what you mean by live, where the file is and where you want it saved.","body":"You can not save to a http URL. But ask a separate question, what you mean by live, where the file is and where you want it saved."},{"owner":{"account_id":26197035,"reputation":1,"user_id":19878015,"display_name":"Lucifer Morningstar"},"score":0,"creation_date":1667971028,"post_id":74316458,"comment_id":131292519,"body_markdown":"if i run this code in live server okay then i cannot pass this **C:\\Users\\prajw\\Downloads\\** url so i just need the a url https like this but now i tried to used in my php file localhost to check the file is downloaded using the url or not.","body":"if i run this code in live server okay then i cannot pass this <i>*C:\\Users\\prajw\\Downloads*</i> url so i just need the a url https like this but now i tried to used in my php file localhost to check the file is downloaded using the url or not."}],"tags":[],"owner":{"account_id":552427,"reputation":11380,"user_id":917548,"display_name":"Roger Lindsj&#246;"},"comment_count":9,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667561975,"creation_date":1667561975,"answer_id":74316458,"question_id":74316375,"body_markdown":"From https://jpype.readthedocs.io/en/latest/userguide.html#controlling-the-jvm you can send arguments to `startJVM`.\r\n\r\nIf you want to increase max memory you would use `jpype.startJVM(&quot;-Xmx2g&quot;)`. Adjust the actual size to what is needed.\r\n\r\nRun `java --help` or `java -X` to get available options.","title":"java.lang.OutOfMemoryError: Java heap space in Python","body":"<p>From <a href=\"https://jpype.readthedocs.io/en/latest/userguide.html#controlling-the-jvm\" rel=\"nofollow noreferrer\">https://jpype.readthedocs.io/en/latest/userguide.html#controlling-the-jvm</a> you can send arguments to <code>startJVM</code>.</p>\n<p>If you want to increase max memory you would use <code>jpype.startJVM(&quot;-Xmx2g&quot;)</code>. Adjust the actual size to what is needed.</p>\n<p>Run <code>java --help</code> or <code>java -X</code> to get available options.</p>\n"}],"owner":{"account_id":26197035,"reputation":1,"user_id":19878015,"display_name":"Lucifer Morningstar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":289,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667570720,"creation_date":1667561571,"question_id":74316375,"body_markdown":"I can&#39;t understand that this error is regarding to Java or Python. I tried to configure Java to increase the size, but it failed. This code is written in Jupyter Notebook.\r\n\r\n```\r\nimport  jpype\r\nimport numpy\r\nimport pandas\r\nimport win32com.client as win32\r\nimport os\r\nimport pyspark\r\nimport EasyExcel \r\nfrom xlrd import open_workbook\r\nimport  asposecells\r\njpype.startJVM()\r\nfrom asposecells.api import Workbook\r\nworkbook = Workbook(r&quot;C:\\Users\\prajw\\Downloads\\LargeFile.xlsx&quot;)\r\nworkbook.save(r&quot;C:\\Users\\prajw\\Downloads\\LargeFile1.xlsb&quot;)\r\njpype.shutdownJVM()\r\n```\r\n\r\n\r\nError\r\n\r\n```\r\nException                                 Traceback (most recent call last)\r\n~\\anaconda3\\lib\\site-packages\\_jpype.cp39-win_amd64.pyd in com.aspose.cells.Workbook.save()\r\n\r\nException: Java Exception\r\n\r\nThe above exception was the direct cause of the following exception:\r\n\r\njava.lang.OutOfMemoryError                Traceback (most recent call last)\r\n~\\AppData\\Local\\Temp\\ipykernel_6056\\723174829.py in &lt;module&gt;\r\n      6 from asposecells.api import Workbook\r\n      7 workbook = Workbook(r&quot;C:\\Users\\prajw\\Downloads\\LargeFile.xlsx&quot;)\r\n----&gt; 8 workbook.save(r&quot;C:\\Users\\prajw\\Downloads\\LargeFile1.xlsb&quot;)\r\n      9 jpype.shutdownJVM()\r\n\r\njava.lang.OutOfMemoryError: java.lang.OutOfMemoryError: Java heap space\r\n```\r\nI want the output is to save the xlsb file in small data format.","title":"java.lang.OutOfMemoryError: Java heap space in Python","body":"<p>I can't understand that this error is regarding to Java or Python. I tried to configure Java to increase the size, but it failed. This code is written in Jupyter Notebook.</p>\n<pre><code>import  jpype\nimport numpy\nimport pandas\nimport win32com.client as win32\nimport os\nimport pyspark\nimport EasyExcel \nfrom xlrd import open_workbook\nimport  asposecells\njpype.startJVM()\nfrom asposecells.api import Workbook\nworkbook = Workbook(r&quot;C:\\Users\\prajw\\Downloads\\LargeFile.xlsx&quot;)\nworkbook.save(r&quot;C:\\Users\\prajw\\Downloads\\LargeFile1.xlsb&quot;)\njpype.shutdownJVM()\n</code></pre>\n<p>Error</p>\n<pre><code>Exception                                 Traceback (most recent call last)\n~\\anaconda3\\lib\\site-packages\\_jpype.cp39-win_amd64.pyd in com.aspose.cells.Workbook.save()\n\nException: Java Exception\n\nThe above exception was the direct cause of the following exception:\n\njava.lang.OutOfMemoryError                Traceback (most recent call last)\n~\\AppData\\Local\\Temp\\ipykernel_6056\\723174829.py in &lt;module&gt;\n      6 from asposecells.api import Workbook\n      7 workbook = Workbook(r&quot;C:\\Users\\prajw\\Downloads\\LargeFile.xlsx&quot;)\n----&gt; 8 workbook.save(r&quot;C:\\Users\\prajw\\Downloads\\LargeFile1.xlsb&quot;)\n      9 jpype.shutdownJVM()\n\njava.lang.OutOfMemoryError: java.lang.OutOfMemoryError: Java heap space\n</code></pre>\n<p>I want the output is to save the xlsb file in small data format.</p>\n"},{"tags":["java","matrix"],"answers":[{"tags":[],"owner":{"account_id":20933394,"reputation":242,"user_id":15379178,"display_name":"Alian713"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667565864,"creation_date":1667565864,"answer_id":74317272,"question_id":74316671,"body_markdown":"When you define a multi-dimensional array without an initialiser, you&#39;re only required to specify its first dimension. A multi-dimensional array doesn&#39;t **have to be** rectangular:\r\n\r\n```java\r\nvoid readMtx() {\r\n    BufferedReader br = new BufferedReader(new FileReader(&quot;input.txt&quot;));\r\n\r\n    ArrayList&lt;String&gt; lines = new ArrayList&lt;&gt;();\r\n    while (br.ready()) {\r\n        lines.add(br.readLine());\r\n    }\r\n    int matrixHeight = lines.size();\r\n\r\n    Double[][] matrix = new Double[matrixHeight][];\r\n\r\n    for(int i = 0; i &lt; matrixHeight; ++i) {\r\n        String[] nums = lines.get(i).split(&quot;\\s*,\\s*&quot;);\r\n        matrix[i] = new Double[nums.length];\r\n        for(int j = 0; j &lt; nums.length; ++j) {\r\n            matrix[i][j] = Double.valueOf(nums[j]);\r\n        }\r\n    }\r\n\r\n    for (int i = 0; i &lt; matrixHeight; ++i) {\r\n        System.out.println(Arrays.toString(matrix[i]));\r\n    }\r\n}\r\n```\r\n\r\nMy `input.txt` looks like this:\r\n```\r\n1\r\n2, 3\r\n4, 5, 6\r\n```\r\n\r\nAnd the function above prints:\r\n\r\n```\r\n[1.0]\r\n[2.0, 3.0]\r\n[4.0, 5.0, 6.0]\r\n```","title":"How to read a matrix from a file so that you can perform operations on it?","body":"<p>When you define a multi-dimensional array without an initialiser, you're only required to specify its first dimension. A multi-dimensional array doesn't <strong>have to be</strong> rectangular:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void readMtx() {\n    BufferedReader br = new BufferedReader(new FileReader(&quot;input.txt&quot;));\n\n    ArrayList&lt;String&gt; lines = new ArrayList&lt;&gt;();\n    while (br.ready()) {\n        lines.add(br.readLine());\n    }\n    int matrixHeight = lines.size();\n\n    Double[][] matrix = new Double[matrixHeight][];\n\n    for(int i = 0; i &lt; matrixHeight; ++i) {\n        String[] nums = lines.get(i).split(&quot;\\s*,\\s*&quot;);\n        matrix[i] = new Double[nums.length];\n        for(int j = 0; j &lt; nums.length; ++j) {\n            matrix[i][j] = Double.valueOf(nums[j]);\n        }\n    }\n\n    for (int i = 0; i &lt; matrixHeight; ++i) {\n        System.out.println(Arrays.toString(matrix[i]));\n    }\n}\n</code></pre>\n<p>My <code>input.txt</code> looks like this:</p>\n<pre><code>1\n2, 3\n4, 5, 6\n</code></pre>\n<p>And the function above prints:</p>\n<pre><code>[1.0]\n[2.0, 3.0]\n[4.0, 5.0, 6.0]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667566806,"creation_date":1667566806,"answer_id":74317456,"question_id":74316671,"body_markdown":"- Double is a wrapper Class, not the primitive floating point type.\r\n- Files and Path (generalisation of File) are very useful.\r\n- Stream is very expressive for conversions.\r\n\r\nSo:\r\n\r\n    void readMtx() throws IOException {\r\n        double[][] matrix =\r\n            Files.lines(Paths.get(&quot;input.txt&quot;))  // Stream&lt;String&gt; of lines\r\n            .map(line -&gt; line.split(&quot;,\\\\s*))     // Stream&lt;String[]&gt; of line words\r\n            .map(words -&gt; Arrays.stream(words)\r\n                     .mapToDouble(Double::parseDouble)\r\n                     .toArray())                 // Stream&lt;double[]&gt;\r\n            .toArray();                          // double[][]\r\n        for (int i = 0; i &lt; matrix.length; i++) {\r\n            System.out.println(Arrays.toString(matrix[i]));\r\n        }\r\n    }","title":"How to read a matrix from a file so that you can perform operations on it?","body":"<ul>\n<li>Double is a wrapper Class, not the primitive floating point type.</li>\n<li>Files and Path (generalisation of File) are very useful.</li>\n<li>Stream is very expressive for conversions.</li>\n</ul>\n<p>So:</p>\n<pre><code>void readMtx() throws IOException {\n    double[][] matrix =\n        Files.lines(Paths.get(&quot;input.txt&quot;))  // Stream&lt;String&gt; of lines\n        .map(line -&gt; line.split(&quot;,\\\\s*))     // Stream&lt;String[]&gt; of line words\n        .map(words -&gt; Arrays.stream(words)\n                 .mapToDouble(Double::parseDouble)\n                 .toArray())                 // Stream&lt;double[]&gt;\n        .toArray();                          // double[][]\n    for (int i = 0; i &lt; matrix.length; i++) {\n        System.out.println(Arrays.toString(matrix[i]));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23176387,"reputation":29,"user_id":17274825,"display_name":"vegaLDN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667570644,"creation_date":1667562933,"question_id":74316671,"body_markdown":"This is an example of input.txt:  \r\n[![enter image description here][1]][1]\r\n\r\nI need to read the matrix from the input.txt file and output it to the output.txt file in the same format. The matrix can be stepped (not rectangular). The size of the array is determined as it will be entered by the user in input.txt. The input format should be shown in the screenshot.\r\n\r\nI tried to read the matrix using rows, I can read a rectangular matrix and if we know its size in advance.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uDCVb.png\r\n\r\n     void readMtx() throws IOException {\r\n        BufferedReader br = new BufferedReader(new FileReader(&quot;input.txt&quot;));\r\n\r\n        List&lt;String&gt; lines = new ArrayList&lt;&gt;();\r\n        while (br.ready()) {\r\n            lines.add(br.readLine());\r\n        }\r\n        int matrixWidth = lines.get(0).split(&quot; &quot;).length;\r\n        int matrixHeight = lines.size();\r\n\r\n        Double[][] matrix = new Double[matrixHeight][matrixWidth];\r\n\r\n        for (int i = 0; i &lt; matrixHeight; i++) {\r\n            for (int j = 0; j &lt; matrixWidth; j++) {\r\n                String[] line = lines.get(i).split(&quot; &quot;);\r\n                matrix[i][j] = Double.parseDouble(line[j]);\r\n            }\r\n        }\r\n\r\n        for (int i = 0; i &lt; matrixHeight; i++) {\r\n            System.out.println(Arrays.toString(matrix[i]));\r\n        }\r\n    }","title":"How to read a matrix from a file so that you can perform operations on it?","body":"<p>This is an example of input.txt:<br />\n<a href=\"https://i.stack.imgur.com/uDCVb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uDCVb.png\" alt=\"enter image description here\" /></a></p>\n<p>I need to read the matrix from the input.txt file and output it to the output.txt file in the same format. The matrix can be stepped (not rectangular). The size of the array is determined as it will be entered by the user in input.txt. The input format should be shown in the screenshot.</p>\n<p>I tried to read the matrix using rows, I can read a rectangular matrix and if we know its size in advance.</p>\n<pre><code> void readMtx() throws IOException {\n    BufferedReader br = new BufferedReader(new FileReader(&quot;input.txt&quot;));\n\n    List&lt;String&gt; lines = new ArrayList&lt;&gt;();\n    while (br.ready()) {\n        lines.add(br.readLine());\n    }\n    int matrixWidth = lines.get(0).split(&quot; &quot;).length;\n    int matrixHeight = lines.size();\n\n    Double[][] matrix = new Double[matrixHeight][matrixWidth];\n\n    for (int i = 0; i &lt; matrixHeight; i++) {\n        for (int j = 0; j &lt; matrixWidth; j++) {\n            String[] line = lines.get(i).split(&quot; &quot;);\n            matrix[i][j] = Double.parseDouble(line[j]);\n        }\n    }\n\n    for (int i = 0; i &lt; matrixHeight; i++) {\n        System.out.println(Arrays.toString(matrix[i]));\n    }\n}\n</code></pre>\n"},{"tags":["java","gzip","nio","gzipoutputstream"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":3,"creation_date":1667565602,"post_id":74317196,"comment_id":131202272,"body_markdown":"A `ByteArrayOutputStream` is a memory backed, growing, that is even array copying, data structure. No wonder. You could copy to a temporary file. Alternatively you could assume a 10% compression, and do `new ByteArrayOutputStream(100_000)` with a sufficient initial capacity reserved.","body":"A <code>ByteArrayOutputStream</code> is a memory backed, growing, that is even array copying, data structure. No wonder. You could copy to a temporary file. Alternatively you could assume a 10% compression, and do <code>new ByteArrayOutputStream(100_000)</code> with a sufficient initial capacity reserved."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1667570570,"post_id":74317196,"comment_id":131204096,"body_markdown":"@JoopEggen Presizing the BytArrayOutputStream will likely just move the OutOfMemoryError to baos.toByteArray().","body":"@JoopEggen Presizing the BytArrayOutputStream will likely just move the OutOfMemoryError to baos.toByteArray()."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1667581339,"post_id":74317196,"comment_id":131208291,"body_markdown":"@MarkRotteveel likely as then the memory is duplicated too, however many small reallocations (much slower too), will reallocate to _more_ than needed, so instead of double memory it might be triple memory","body":"@MarkRotteveel likely as then the memory is duplicated too, however many small reallocations (much slower too), will reallocate to <i>more</i> than needed, so instead of double memory it might be triple memory"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1680603151,"post_id":74317196,"comment_id":133922392,"body_markdown":"Don&#39;t try to load entire large files into memory. At some point it *must* fail. Rethink.","body":"Don&#39;t try to load entire large files into memory. At some point it <i>must</i> fail. Rethink."}],"owner":{"account_id":1588905,"reputation":335,"user_id":1472672,"accept_rate":0,"display_name":"user1472672"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":370,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667570449,"creation_date":1667565452,"question_id":74317196,"body_markdown":"I have a simple method that creates a tar file with a collection of compressed files inside:\r\n\r\n```\r\nprivate byte[] gzipCompress() throws IOException {\r\n\tFile source = super.getPath();\r\n\t\r\n\tByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\ttry (GZIPOutputStream gos = new GZIPOutputStream(baos)) {\r\n\t\tFiles.copy(source.toPath(), gos);\r\n\t}\r\n\t\r\n\treturn baos.toByteArray();\r\n}\r\n```\r\n\r\nWhen the file is large (not sure of exact size 1GB maybe) - this method causes an error:\r\n&gt; Caused by: java.lang.OutOfMemoryError: Java heap space\r\n\r\nSeems similar to this question - https://stackoverflow.com/questions/28466755/java-nio-files-copy-thowing-java-heap-space-out-of-memory, but is there some other alternative to the `IOUtils.copyLarge` solution.\r\n\r\n\r\n\r\n\r\n","title":"Why does Files.copy cause out of memory error when creating large file","body":"<p>I have a simple method that creates a tar file with a collection of compressed files inside:</p>\n<pre><code>private byte[] gzipCompress() throws IOException {\n    File source = super.getPath();\n    \n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n    try (GZIPOutputStream gos = new GZIPOutputStream(baos)) {\n        Files.copy(source.toPath(), gos);\n    }\n    \n    return baos.toByteArray();\n}\n</code></pre>\n<p>When the file is large (not sure of exact size 1GB maybe) - this method causes an error:</p>\n<blockquote>\n<p>Caused by: java.lang.OutOfMemoryError: Java heap space</p>\n</blockquote>\n<p>Seems similar to this question - <a href=\"https://stackoverflow.com/questions/28466755/java-nio-files-copy-thowing-java-heap-space-out-of-memory\">java nio Files.copy thowing Java heap space out of memory</a>, but is there some other alternative to the <code>IOUtils.copyLarge</code> solution.</p>\n"},{"tags":["java","android-studio","android-fragments","constraints","android-button"],"answers":[{"comments":[{"owner":{"account_id":26752668,"reputation":11,"user_id":20351789,"display_name":"FilleFrella44"},"score":0,"creation_date":1667570733,"post_id":74318216,"comment_id":131204171,"body_markdown":"Thank you! That helped, so irritating when the solution is so simple. I&#39;ve spent 2 hours on this conundrum. This solved the issue!","body":"Thank you! That helped, so irritating when the solution is so simple. I&#39;ve spent 2 hours on this conundrum. This solved the issue!"}],"tags":[],"owner":{"account_id":14622815,"reputation":257,"user_id":10560949,"display_name":"Jay Panchal"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667570366,"creation_date":1667570366,"answer_id":74318216,"question_id":74318011,"body_markdown":"Just replace your parent layout **FrameLayout** to **androidx.constraintlayout.widget.ConstraintLayout** or **RelativeLayout**","title":"Buttons getting stuck in top left corner of Fragment","body":"<p>Just replace your parent layout <strong>FrameLayout</strong> to <strong>androidx.constraintlayout.widget.ConstraintLayout</strong> or <strong>RelativeLayout</strong></p>\n"}],"owner":{"account_id":26752668,"reputation":11,"user_id":20351789,"display_name":"FilleFrella44"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667570366,"creation_date":1667569508,"question_id":74318011,"body_markdown":"I&#39;ve seen quite a few solutions to this problem but non which I seem to be able to implement. I&#39;m really new to Android Studio, but Fragments seems so straight forward and &quot;simple&quot;. However before I could even get going with coding functionality all the buttons I added to my mainFragment got stuck in the upper left corner. [![[![enter image description here](https://i.stack.imgur.com/Xe9zk.png)](https://i.stack.imgur.com/Xe9zk.png)](https://i.stack.imgur.com/bJzPb.png)](https://i.stack.imgur.com/bJzPb.png)\r\n\r\nFurther, I cannot seem to add a constraint the way I usually do it in my xml-code, when I write &quot;app:cons&quot; nothing comes up. \r\n\r\nI&#39;ve heard about a &quot;Auto connection to Parent&quot; button but I cannot for the life of me seem to find it. Read about it here https://stackoverflow.com/questions/51056109/textview-and-button-get-stuck-in-the-top-left-corner-of-the-blueprint-in-android \r\n\r\nI tried looking for a &quot;Auto connection  to Parent&quot; button.\r\nI tried recreating the fragment.\r\nI tried to restart to program.\r\n","title":"Buttons getting stuck in top left corner of Fragment","body":"<p>I've seen quite a few solutions to this problem but non which I seem to be able to implement. I'm really new to Android Studio, but Fragments seems so straight forward and &quot;simple&quot;. However before I could even get going with coding functionality all the buttons I added to my mainFragment got stuck in the upper left corner. <a href=\"https://i.stack.imgur.com/bJzPb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bJzPb.png\" alt=\"enter image description here\" /></a></p>\n<p>Further, I cannot seem to add a constraint the way I usually do it in my xml-code, when I write &quot;app:cons&quot; nothing comes up.</p>\n<p>I've heard about a &quot;Auto connection to Parent&quot; button but I cannot for the life of me seem to find it. Read about it here <a href=\"https://stackoverflow.com/questions/51056109/textview-and-button-get-stuck-in-the-top-left-corner-of-the-blueprint-in-android\">TextView and Button get stuck in the top-left corner of the blueprint in android studio</a></p>\n<p>I tried looking for a &quot;Auto connection  to Parent&quot; button.\nI tried recreating the fragment.\nI tried to restart to program.</p>\n"},{"tags":["java","algorithm","dynamic-programming"],"comments":[{"owner":{"account_id":6402640,"reputation":17528,"user_id":4964822,"display_name":"nice_dev"},"score":1,"creation_date":1667406830,"post_id":74292093,"comment_id":131161177,"body_markdown":"Do you have any problem link for this?","body":"Do you have any problem link for this?"},{"owner":{"account_id":6402640,"reputation":17528,"user_id":4964822,"display_name":"nice_dev"},"score":0,"creation_date":1667407144,"post_id":74292093,"comment_id":131161326,"body_markdown":"Seems to be something along the lines of overlapping intervals or kind of like merging k sorted arrays.","body":"Seems to be something along the lines of overlapping intervals or kind of like merging k sorted arrays."}],"answers":[{"tags":[],"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667408082,"creation_date":1667408082,"answer_id":74292954,"question_id":74292093,"body_markdown":"If `start` and `end` are reasonably small number you can just calculate how many ranges element is included in then iterate thru ranges and cross numbers with biggest associated count until you cross enough of them.\r\n\r\n```\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        int[][] arr = {{1, 3, 2}, {2, 5, 3}, {5, 6, 2}};\r\n\r\n        Map&lt;Integer, Ps&gt; map = Stream.of(arr)\r\n                .flatMap(x -&gt; {\r\n                    H h = new H(x[0], x[1], x[2]);\r\n                    return IntStream.rangeClosed(x[0], x[1]).boxed().map(v -&gt; new P(v, h));\r\n                })\r\n                .collect(Collectors.groupingBy(\r\n                        P::getV,\r\n                        Collectors.mapping(\r\n                                P::getH,\r\n                                Collectors.teeing(\r\n                                        Collectors.counting(),\r\n                                        Collectors.toList(),\r\n                                        Ps::new))));\r\n\r\n        Set&lt;H&gt; hSet = map.values().stream().flatMap(x -&gt; x.getH().stream()).collect(Collectors.toSet());\r\n\r\n        List&lt;Integer&gt; res = new ArrayList&lt;&gt;();\r\n        for (H r : hSet) {\r\n            while (r.c &gt; 0) {\r\n                IntStream.rangeClosed(r.s, r.e)\r\n                        .boxed()\r\n                        .max(Comparator.comparing(y -&gt; map.getOrDefault(y, Ps.ZERO).getH().size()))\r\n                        .ifPresent(v -&gt; {\r\n                            map.remove(v).getH().forEach(x -&gt; x.c--);\r\n                            res.add(v);\r\n                        });\r\n\r\n            }\r\n        }\r\n        System.out.println(&quot;res = &quot; + res);\r\n    }\r\n\r\n    @AllArgsConstructor\r\n    @Getter\r\n    static class P {\r\n        final int v;\r\n        final H h;\r\n    }\r\n\r\n    @AllArgsConstructor\r\n    @Getter\r\n    static class Ps {\r\n        public static final Ps ZERO = new Ps(0, Collections.emptyList());\r\n        final long v;\r\n        final List&lt;H&gt; h;\r\n    }\r\n\r\n    @AllArgsConstructor\r\n    static class H {\r\n        final int s, e;\r\n        int c;\r\n    }\r\n}\r\n```","title":"Find the size of minimal possible set after operations","body":"<p>If <code>start</code> and <code>end</code> are reasonably small number you can just calculate how many ranges element is included in then iterate thru ranges and cross numbers with biggest associated count until you cross enough of them.</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        int[][] arr = {{1, 3, 2}, {2, 5, 3}, {5, 6, 2}};\n\n        Map&lt;Integer, Ps&gt; map = Stream.of(arr)\n                .flatMap(x -&gt; {\n                    H h = new H(x[0], x[1], x[2]);\n                    return IntStream.rangeClosed(x[0], x[1]).boxed().map(v -&gt; new P(v, h));\n                })\n                .collect(Collectors.groupingBy(\n                        P::getV,\n                        Collectors.mapping(\n                                P::getH,\n                                Collectors.teeing(\n                                        Collectors.counting(),\n                                        Collectors.toList(),\n                                        Ps::new))));\n\n        Set&lt;H&gt; hSet = map.values().stream().flatMap(x -&gt; x.getH().stream()).collect(Collectors.toSet());\n\n        List&lt;Integer&gt; res = new ArrayList&lt;&gt;();\n        for (H r : hSet) {\n            while (r.c &gt; 0) {\n                IntStream.rangeClosed(r.s, r.e)\n                        .boxed()\n                        .max(Comparator.comparing(y -&gt; map.getOrDefault(y, Ps.ZERO).getH().size()))\n                        .ifPresent(v -&gt; {\n                            map.remove(v).getH().forEach(x -&gt; x.c--);\n                            res.add(v);\n                        });\n\n            }\n        }\n        System.out.println(&quot;res = &quot; + res);\n    }\n\n    @AllArgsConstructor\n    @Getter\n    static class P {\n        final int v;\n        final H h;\n    }\n\n    @AllArgsConstructor\n    @Getter\n    static class Ps {\n        public static final Ps ZERO = new Ps(0, Collections.emptyList());\n        final long v;\n        final List&lt;H&gt; h;\n    }\n\n    @AllArgsConstructor\n    static class H {\n        final int s, e;\n        int c;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26706373,"reputation":24,"user_id":20312513,"display_name":"lzl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667570221,"creation_date":1667570221,"answer_id":74318188,"question_id":74292093,"body_markdown":"I think this is a DP problem. Let&#39;s define dp[i][j] as the minimum size of the set when we have selected j elements and we are at the i-th element. The answer is dp[n][k]. We can calculate dp[i][j] in O(j) time. We can iterate over j from 0 to k and for each j we can iterate over i from 0 to n-1. The time complexity is O(nk^2). I think this is the best time complexity we can get. The java code is below:\r\n\r\n    public int solve(int[][] arr, int k) {\r\n        int n = arr.length;\r\n        int[][] dp = new int[n][k + 1];\r\n        for (int i = 0; i &lt; n; i++) {\r\n            for (int j = 0; j &lt;= k; j++) {\r\n                dp[i][j] = Integer.MAX_VALUE;\r\n            }\r\n        }\r\n        for (int i = 0; i &lt; n; i++) {\r\n            for (int j = 0; j &lt;= k; j++) {\r\n                if (i == 0) {\r\n                    if (j &gt;= arr[i][2] &amp;&amp; j &lt;= arr[i][1] - arr[i][0] + 1) {\r\n                        dp[i][j] = arr[i][1] - arr[i][0] + 1;\r\n                    }\r\n                } else {\r\n                    for (int l = 0; l &lt;= j; l++) {\r\n                        if (l &gt;= arr[i][2] &amp;&amp; l &lt;= arr[i][1] - arr[i][0] + 1) {\r\n                            dp[i][j] = Math.min(dp[i][j], dp[i - 1][j - l] + arr[i][1] - arr[i][0] + 1);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return dp[n - 1][k];\r\n    }","title":"Find the size of minimal possible set after operations","body":"<p>I think this is a DP problem. Let's define dp[i][j] as the minimum size of the set when we have selected j elements and we are at the i-th element. The answer is dp[n][k]. We can calculate dp[i][j] in O(j) time. We can iterate over j from 0 to k and for each j we can iterate over i from 0 to n-1. The time complexity is O(nk^2). I think this is the best time complexity we can get. The java code is below:</p>\n<pre><code>public int solve(int[][] arr, int k) {\n    int n = arr.length;\n    int[][] dp = new int[n][k + 1];\n    for (int i = 0; i &lt; n; i++) {\n        for (int j = 0; j &lt;= k; j++) {\n            dp[i][j] = Integer.MAX_VALUE;\n        }\n    }\n    for (int i = 0; i &lt; n; i++) {\n        for (int j = 0; j &lt;= k; j++) {\n            if (i == 0) {\n                if (j &gt;= arr[i][2] &amp;&amp; j &lt;= arr[i][1] - arr[i][0] + 1) {\n                    dp[i][j] = arr[i][1] - arr[i][0] + 1;\n                }\n            } else {\n                for (int l = 0; l &lt;= j; l++) {\n                    if (l &gt;= arr[i][2] &amp;&amp; l &lt;= arr[i][1] - arr[i][0] + 1) {\n                        dp[i][j] = Math.min(dp[i][j], dp[i - 1][j - l] + arr[i][1] - arr[i][0] + 1);\n                    }\n                }\n            }\n        }\n    }\n    return dp[n - 1][k];\n}\n</code></pre>\n"}],"owner":{"account_id":25489317,"reputation":259,"user_id":19284394,"display_name":"nicku"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1667570221,"creation_date":1667404441,"question_id":74292093,"body_markdown":"Given an array with each element consisting of three numbers [start, end, x].  \r\nAn element of array [start,end,x] means that we have to select exactly x integers from [start,end] inclusive of both start and end. Put these numbers in a Set. Do this for all elements of the array. So at the end the Set will have a size. Return the minimal possible size. `Example Array= [1,3,2],[2,5,3],[5,6,2]`  \r\nfrom 1st elements choose 2,3 from 2nd choose 2,3,5 and from 3rd choose 5,6 so the set of chosen numbers = 2,3,5,6 which has 4 elements which is the minimum. So for this input the answer or the return value is `4`\r\n\r\n **My Thoughts:**    \r\nI tried to think of some optimal substructure property in the hope that it will yield to a DP solution, but looks like there is no clear optimal substructure property here.\r\n","title":"Find the size of minimal possible set after operations","body":"<p>Given an array with each element consisting of three numbers [start, end, x].<br />\nAn element of array [start,end,x] means that we have to select exactly x integers from [start,end] inclusive of both start and end. Put these numbers in a Set. Do this for all elements of the array. So at the end the Set will have a size. Return the minimal possible size. <code>Example Array= [1,3,2],[2,5,3],[5,6,2]</code><br />\nfrom 1st elements choose 2,3 from 2nd choose 2,3,5 and from 3rd choose 5,6 so the set of chosen numbers = 2,3,5,6 which has 4 elements which is the minimum. So for this input the answer or the return value is <code>4</code></p>\n<p><strong>My Thoughts:</strong><br />\nI tried to think of some optimal substructure property in the hope that it will yield to a DP solution, but looks like there is no clear optimal substructure property here.</p>\n"},{"tags":["java","quarkus","mutiny"],"answers":[{"comments":[{"owner":{"account_id":15016723,"reputation":834,"user_id":10839527,"display_name":"Theodosis "},"score":0,"creation_date":1667572444,"post_id":74318152,"comment_id":131204881,"body_markdown":"One last question I have actually done everything I wanted inside the combine with the method so what&#39;s the reason to add the .with() after the subscribe? As I see this if I add one .subscribe will still get the same and after I add .subscribe().with(e -&gt; System.out.println(e)); it works. What is the best practice that you need to do inside that with()? Also a big thanks for your support I finally managed to solve this issue thanks a lot.","body":"One last question I have actually done everything I wanted inside the combine with the method so what&#39;s the reason to add the .with() after the subscribe? As I see this if I add one .subscribe will still get the same and after I add .subscribe().with(e -&gt; System.out.println(e)); it works. What is the best practice that you need to do inside that with()? Also a big thanks for your support I finally managed to solve this issue thanks a lot."}],"tags":[],"owner":{"account_id":427958,"reputation":548,"user_id":809984,"display_name":"jponge"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667570034,"creation_date":1667570034,"answer_id":74318152,"question_id":74317223,"body_markdown":"You need to subscribe or else no processing will ever be done (see https://smallrye.io/smallrye-mutiny/1.7.0/tutorials/hello-mutiny/#mutiny-uses-a-builder-api)\r\n\r\n`.await().indefinitely()` is a blocking subscription where you block the current thread. Here you&#39;re blocking a Vert.x event-loop thread, hence you get a warning after some time.\r\n\r\nThis might also help: https://quarkus.io/guides/quarkus-reactive-architecture","title":"Quarkus Mutiny request ignored when using Unis.combinedWith","body":"<p>You need to subscribe or else no processing will ever be done (see <a href=\"https://smallrye.io/smallrye-mutiny/1.7.0/tutorials/hello-mutiny/#mutiny-uses-a-builder-api\" rel=\"nofollow noreferrer\">https://smallrye.io/smallrye-mutiny/1.7.0/tutorials/hello-mutiny/#mutiny-uses-a-builder-api</a>)</p>\n<p><code>.await().indefinitely()</code> is a blocking subscription where you block the current thread. Here you're blocking a Vert.x event-loop thread, hence you get a warning after some time.</p>\n<p>This might also help: <a href=\"https://quarkus.io/guides/quarkus-reactive-architecture\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/quarkus-reactive-architecture</a></p>\n"}],"owner":{"account_id":15016723,"reputation":834,"user_id":10839527,"display_name":"Theodosis "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":396,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74318152,"answer_count":1,"score":0,"last_activity_date":1667570034,"creation_date":1667565600,"question_id":74317223,"body_markdown":"Hello i have the following problem. As you see i have created this 3 Unis \r\n\r\n```\r\n                    Uni&lt;List&lt;JsonObjectCar&gt;&gt; carDoorsUni = getDoors(variable1,\r\n                            variable2, variable3);\r\n\r\n                    Uni&lt;List&lt;JsonObjectCar&gt;&gt; carWheelsUni = getWheels(variable1,\r\n                            variable2, variable3);\r\n\r\n                    Uni&lt;List&lt;JsonObjectCar&gt;&gt; carWindowsUni = getWindows(variable1,\r\n                            variable2, variable3);\r\n```\r\n\r\nThose three Unis make a request in 3 different microservices and I want to combine the response. I have used the following code in order to combine it\r\n\r\n```\r\n\r\n                    Uni.combine()\r\n                            .all()\r\n                            .unis(carDoorsUni, carWheelsUni, carWindowsUni)\r\n                            .combinedWith((carDoors, carWheels, carWindows) -&gt; {\r\n                                Optional.of(carDoors)\r\n                                        .ifPresent(val -&gt; car.setDoors(val.getDoors()));\r\n                                Optional.of(carWheels)\r\n                                        .ifPresent(val -&gt; car.setWheels(val.getWheels()));\r\n                                Optional.of(carWindows)\r\n                                        .ifPresent(val -&gt; car.setWindows(val.getWindows()));\r\n\r\n                                return car;\r\n                            });\r\n\r\n```\r\n\r\nIntellij shows a warning saying that the combined will be ignored and it actually never runs. I have also tried using `.await().indefinitely()` but I receive the following error `The current thread cannot be blocked: vert.x-eventloop-thread-11`.","title":"Quarkus Mutiny request ignored when using Unis.combinedWith","body":"<p>Hello i have the following problem. As you see i have created this 3 Unis</p>\n<pre><code>                    Uni&lt;List&lt;JsonObjectCar&gt;&gt; carDoorsUni = getDoors(variable1,\n                            variable2, variable3);\n\n                    Uni&lt;List&lt;JsonObjectCar&gt;&gt; carWheelsUni = getWheels(variable1,\n                            variable2, variable3);\n\n                    Uni&lt;List&lt;JsonObjectCar&gt;&gt; carWindowsUni = getWindows(variable1,\n                            variable2, variable3);\n</code></pre>\n<p>Those three Unis make a request in 3 different microservices and I want to combine the response. I have used the following code in order to combine it</p>\n<pre><code>\n                    Uni.combine()\n                            .all()\n                            .unis(carDoorsUni, carWheelsUni, carWindowsUni)\n                            .combinedWith((carDoors, carWheels, carWindows) -&gt; {\n                                Optional.of(carDoors)\n                                        .ifPresent(val -&gt; car.setDoors(val.getDoors()));\n                                Optional.of(carWheels)\n                                        .ifPresent(val -&gt; car.setWheels(val.getWheels()));\n                                Optional.of(carWindows)\n                                        .ifPresent(val -&gt; car.setWindows(val.getWindows()));\n\n                                return car;\n                            });\n\n</code></pre>\n<p>Intellij shows a warning saying that the combined will be ignored and it actually never runs. I have also tried using <code>.await().indefinitely()</code> but I receive the following error <code>The current thread cannot be blocked: vert.x-eventloop-thread-11</code>.</p>\n"},{"tags":["java","windows","swing"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1667416581,"post_id":74293544,"comment_id":131164648,"body_markdown":"Swing does not handle transparent colors very well.  You can fake transparency by drawing a background from your display image.","body":"Swing does not handle transparent colors very well.  You can fake transparency by drawing a background from your display image."},{"owner":{"account_id":26808236,"reputation":1,"user_id":20399232,"display_name":"Taylor Grossenbacher"},"score":0,"creation_date":1667417311,"post_id":74293544,"comment_id":131164903,"body_markdown":"@GilbertLeBlanc Unfortunately, for the game to work as intended, the background does need to be truly transparent and click-through, because the end user will need to be able to interact with applications underneath the game window. Unless I&#39;m misunderstanding what you&#39;re suggesting with fake transparency?","body":"@GilbertLeBlanc Unfortunately, for the game to work as intended, the background does need to be truly transparent and click-through, because the end user will need to be able to interact with applications underneath the game window. Unless I&#39;m misunderstanding what you&#39;re suggesting with fake transparency?"},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1667425679,"post_id":74293544,"comment_id":131167408,"body_markdown":"You can try JavaFX or Apache Pivot.  Swing does not handle transparent colors very well.","body":"You can try JavaFX or Apache Pivot.  Swing does not handle transparent colors very well."},{"owner":{"account_id":26808236,"reputation":1,"user_id":20399232,"display_name":"Taylor Grossenbacher"},"score":0,"creation_date":1667569914,"post_id":74293544,"comment_id":131203845,"body_markdown":"@GilbertLeBlanc I&#39;m currently slowly converting everything to JavaFX, mostly because of some unrelated functionality that Swing doesn&#39;t directly support. However, I will still leave this question up because I am still curious as to what the issue is (note that it still has high GPU usage with an opaque window) and in case someone else has this same problem.","body":"@GilbertLeBlanc I&#39;m currently slowly converting everything to JavaFX, mostly because of some unrelated functionality that Swing doesn&#39;t directly support. However, I will still leave this question up because I am still curious as to what the issue is (note that it still has high GPU usage with an opaque window) and in case someone else has this same problem."}],"owner":{"account_id":26808236,"reputation":1,"user_id":20399232,"display_name":"Taylor Grossenbacher"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667570015,"creation_date":1667410902,"question_id":74293544,"body_markdown":"I&#39;ve been working on a simple game recently, and so far, I&#39;ve had few problems getting things to work as I want them to. At the moment, it&#39;s very simple, there&#39;s just a single sprite that I can click and drag around the screen. However, I noticed something odd at one point: that the resource usage is unexpectedly high. According to Task Manager, Java&#39;s CPU usage reads around 6% and GPU usage around 34%, which is higher than nearly all programs on my computer, save for more demanding games which typically hover around 10-15% CPU and 20% GPU. For reference, idling, my computer usually sits around 2-3% total CPU usage and 1% GPU. After a good deal of process of elimination, I narrowed the problem down to calling repaint() every frame for a maximized, transparent window, which is an important aspect for the game.\r\n\r\nI was able to reproduce the issue with a barebones program:\r\n\r\n```\r\nimport java.awt.*;\r\nimport javax.swing.*;\r\nimport java.util.*;\r\n\r\npublic class Test extends JFrame {\r\n\tBody root;\r\n\t\r\n\tpublic Test() {\r\n\t\troot = new Body();\r\n\t\troot.setOpaque(false);\r\n\t\tadd(root);\r\n\t\t\r\n\t\tsetUndecorated(true);\r\n\t\tsetBackground(new Color(0,0,0,0));\r\n\t\tsetVisible(true);\r\n\t\tsetExtendedState(getExtendedState()|MAXIMIZED_BOTH);\r\n\t\tsetDefaultCloseOperation(EXIT_ON_CLOSE);\r\n\t\t\r\n\t\troot.run();\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tTest app = new Test();\r\n\t}\r\n\t\r\n\tclass Body extends JPanel implements Runnable {\r\n\t\tfinal int DELAY = 1000/60;\r\n\t\t\r\n\t\tpublic Body() {}\r\n\t\t\r\n\t\tprotected void paintComponent(Graphics g) {\r\n\t\t\tsuper.paintComponent(g);\r\n\t\t}\r\n\t\t\r\n\t\tpublic void run() {\r\n\t\t\tlong prevframe, sleep;\r\n\t\t\twhile (true) {\r\n\t\t\t\tprevframe = System.currentTimeMillis();\r\n\t\t\t\trepaint();\r\n\t\t\t\tsleep = DELAY - (System.currentTimeMillis() - prevframe);\r\n\t\t\t\tif (sleep &lt; 0) {\r\n\t\t\t\t\tsleep = 2;\r\n\t\t\t\t}\r\n\t\t\t\ttry {\r\n\t\t\t\t\tThread.sleep(sleep);\r\n\t\t\t\t}\r\n\t\t\t\tcatch (InterruptedException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n\r\nAt first, I thought it was an issue with my use of `BufferedImage`s, since they are not hardware accelerated by default, but when I stopped drawing them, the CPU/GPU usage persisted. That&#39;s when I started my process of elimination, gradually commenting out chunks of code until I found that it was just the `repaint()` call and whatever happens to be attached to it.\r\n\r\nIf the window is made opaque (i.e., removing the `root.setOpaque(false)` and `setBackground(new Color(0,0,0,0))` lines), the resource usage drops to about 2% CPU and 20% GPU, which is still significantly higher than I would expect out of a window that isn&#39;t doing anything except showing a blank screen every frame, especially in terms of GPU usage.\r\n\r\nI also tried, on a whimsy, enabling OpenGL hardware acceleration by putting `System.setProperty(&quot;sun.java2d.opengl&quot;, &quot;True&quot;)` in main() before the Test() object is created, but there is no noticeable impact.\r\n\r\nAlso, I will call myself out on not using `invokeLater()` to start the Swing application (bad practice, because Swing components are supposed to have all their processing done on the Event Dispatch Thread). I realized late into putting the game together that I neglected to do that, but when I went and tried to basically retrofit it into `main()`, the graphics won&#39;t update. I&#39;m not sure if it has to do with the way my classes are currently organized or what, but I spent minimal effort on that front since it runs fine at the moment without the EDT, save for the CPU/GPU usage. Unless this may be the cause of my problem, in which case that needs to be fixed.\r\n\r\nAny assistance would be greatly appreciated. This is my first post of Stack Overflow, so I&#39;m not totally sure if there is anything I am missing. That said, if any other information or testing is needed on my part, I will gladly provide.\r\n\r\nI am currently working with:\r\n- Java 18 and 19 (Oracle&#39;s official SE Development Kit)\r\n- OS: Windows 11\r\n- GPU: Intel UHD Graphics (i7-10750H).\r\n\r\nI will note that my computer does have a GTX 1650 Ti as a dedicated card, but everything mentioned above has been running off of the Intel chip.","title":"Java Swing - transparent JFrame causing high CPU usage","body":"<p>I've been working on a simple game recently, and so far, I've had few problems getting things to work as I want them to. At the moment, it's very simple, there's just a single sprite that I can click and drag around the screen. However, I noticed something odd at one point: that the resource usage is unexpectedly high. According to Task Manager, Java's CPU usage reads around 6% and GPU usage around 34%, which is higher than nearly all programs on my computer, save for more demanding games which typically hover around 10-15% CPU and 20% GPU. For reference, idling, my computer usually sits around 2-3% total CPU usage and 1% GPU. After a good deal of process of elimination, I narrowed the problem down to calling repaint() every frame for a maximized, transparent window, which is an important aspect for the game.</p>\n<p>I was able to reproduce the issue with a barebones program:</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport java.util.*;\n\npublic class Test extends JFrame {\n    Body root;\n    \n    public Test() {\n        root = new Body();\n        root.setOpaque(false);\n        add(root);\n        \n        setUndecorated(true);\n        setBackground(new Color(0,0,0,0));\n        setVisible(true);\n        setExtendedState(getExtendedState()|MAXIMIZED_BOTH);\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n        \n        root.run();\n    }\n    \n    public static void main(String[] args) {\n        Test app = new Test();\n    }\n    \n    class Body extends JPanel implements Runnable {\n        final int DELAY = 1000/60;\n        \n        public Body() {}\n        \n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n        }\n        \n        public void run() {\n            long prevframe, sleep;\n            while (true) {\n                prevframe = System.currentTimeMillis();\n                repaint();\n                sleep = DELAY - (System.currentTimeMillis() - prevframe);\n                if (sleep &lt; 0) {\n                    sleep = 2;\n                }\n                try {\n                    Thread.sleep(sleep);\n                }\n                catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n\n}\n</code></pre>\n<p>At first, I thought it was an issue with my use of <code>BufferedImage</code>s, since they are not hardware accelerated by default, but when I stopped drawing them, the CPU/GPU usage persisted. That's when I started my process of elimination, gradually commenting out chunks of code until I found that it was just the <code>repaint()</code> call and whatever happens to be attached to it.</p>\n<p>If the window is made opaque (i.e., removing the <code>root.setOpaque(false)</code> and <code>setBackground(new Color(0,0,0,0))</code> lines), the resource usage drops to about 2% CPU and 20% GPU, which is still significantly higher than I would expect out of a window that isn't doing anything except showing a blank screen every frame, especially in terms of GPU usage.</p>\n<p>I also tried, on a whimsy, enabling OpenGL hardware acceleration by putting <code>System.setProperty(&quot;sun.java2d.opengl&quot;, &quot;True&quot;)</code> in main() before the Test() object is created, but there is no noticeable impact.</p>\n<p>Also, I will call myself out on not using <code>invokeLater()</code> to start the Swing application (bad practice, because Swing components are supposed to have all their processing done on the Event Dispatch Thread). I realized late into putting the game together that I neglected to do that, but when I went and tried to basically retrofit it into <code>main()</code>, the graphics won't update. I'm not sure if it has to do with the way my classes are currently organized or what, but I spent minimal effort on that front since it runs fine at the moment without the EDT, save for the CPU/GPU usage. Unless this may be the cause of my problem, in which case that needs to be fixed.</p>\n<p>Any assistance would be greatly appreciated. This is my first post of Stack Overflow, so I'm not totally sure if there is anything I am missing. That said, if any other information or testing is needed on my part, I will gladly provide.</p>\n<p>I am currently working with:</p>\n<ul>\n<li>Java 18 and 19 (Oracle's official SE Development Kit)</li>\n<li>OS: Windows 11</li>\n<li>GPU: Intel UHD Graphics (i7-10750H).</li>\n</ul>\n<p>I will note that my computer does have a GTX 1650 Ti as a dedicated card, but everything mentioned above has been running off of the Intel chip.</p>\n"},{"tags":["java","jwt"],"answers":[{"comments":[{"owner":{"account_id":7971710,"reputation":11015,"user_id":6016149,"display_name":"Md Ayub Ali Sarker"},"score":0,"creation_date":1474486095,"post_id":39624577,"comment_id":66555268,"body_markdown":"you don&#39;t require to create key again.  did you try with self-signed CA certificate secret key.  if they gave you valid key  it should work. in your code your are try with &quot;secret&quot; which it not a valid RSA key. that why you are getting error.","body":"you don&#39;t require to create key again.  did you try with self-signed CA certificate secret key.  if they gave you valid key  it should work. in your code your are try with &quot;secret&quot; which it not a valid RSA key. that why you are getting error."},{"owner":{"account_id":262014,"reputation":672,"user_id":546594,"accept_rate":65,"display_name":"Pegah"},"score":1,"creation_date":1474486676,"post_id":39624577,"comment_id":66555609,"body_markdown":"I tried what you suggested: Claims claims = Jwts.parser().setSigningKey(self_signed_CA_Certificate)\n                .parseClaimsJws(jwt).getBody();  but still get the same error. Could it be that I should give the encoding? for example sth similar to using DatatypeConverter.parseBase64Binary?","body":"I tried what you suggested: Claims claims = Jwts.parser().setSigningKey(self_signed_CA_Certificate)                 .parseClaimsJws(jwt).getBody();  but still get the same error. Could it be that I should give the encoding? for example sth similar to using DatatypeConverter.parseBase64Binary?"},{"owner":{"account_id":7971710,"reputation":11015,"user_id":6016149,"display_name":"Md Ayub Ali Sarker"},"score":0,"creation_date":1474487006,"post_id":39624577,"comment_id":66555773,"body_markdown":"self_signed_CA_Certificate is it string or key object? if it id string then you can pass DatatypeConverter.parseBase64Binary","body":"self_signed_CA_Certificate is it string or key object? if it id string then you can pass DatatypeConverter.parseBase64Binary"},{"owner":{"account_id":262014,"reputation":672,"user_id":546594,"accept_rate":65,"display_name":"Pegah"},"score":0,"creation_date":1474487466,"post_id":39624577,"comment_id":66556007,"body_markdown":"It is a string. DatatypeConverter.parseBase64Binary results in the same error. I removed the string -----BEGIN CERTIFICATE----- and -----END CERTIFICATE----- from the certificate, it is Okay right?","body":"It is a string. DatatypeConverter.parseBase64Binary results in the same error. I removed the string -----BEGIN CERTIFICATE----- and -----END CERTIFICATE----- from the certificate, it is Okay right?"},{"owner":{"account_id":262014,"reputation":672,"user_id":546594,"accept_rate":65,"display_name":"Pegah"},"score":0,"creation_date":1474488480,"post_id":39624577,"comment_id":66556576,"body_markdown":"Thanks. I tried it, still same error. Dont you think that I should provide the public key somewhere? it is what is error is saying.","body":"Thanks. I tried it, still same error. Dont you think that I should provide the public key somewhere? it is what is error is saying."},{"owner":{"account_id":262014,"reputation":672,"user_id":546594,"accept_rate":65,"display_name":"Pegah"},"score":0,"creation_date":1474488581,"post_id":39624577,"comment_id":66556637,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/123891/discussion-between-pegah-and-md-ayub-ali-sarker).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/123891/discussion-between-pegah-and-md-ayub-ali-sarker\">continue this discussion in chat</a>."},{"owner":{"account_id":6542279,"reputation":550,"user_id":5059339,"accept_rate":25,"display_name":"Ghizlane Lotfi"},"score":0,"creation_date":1543059015,"post_id":39624577,"comment_id":93787236,"body_markdown":"Please, have u found a solution for this error, because I have it too","body":"Please, have u found a solution for this error, because I have it too"},{"owner":{"account_id":3287434,"reputation":1034,"user_id":2766545,"accept_rate":75,"display_name":"Janaka Bandara"},"score":0,"creation_date":1636291925,"post_id":39624577,"comment_id":123512218,"body_markdown":"Basically a `PublicKey` instance has to be passed to use RSA (asymmetric) signed keypairs - not a `byte[]` representing the secret","body":"Basically a <code>PublicKey</code> instance has to be passed to use RSA (asymmetric) signed keypairs - not a <code>byte[]</code> representing the secret"}],"tags":[],"owner":{"account_id":7971710,"reputation":11015,"user_id":6016149,"display_name":"Md Ayub Ali Sarker"},"comment_count":8,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1474484601,"creation_date":1474484601,"answer_id":39624577,"question_id":39622089,"body_markdown":"you have to create secretKey using RSA like \r\n\r\n    SecretKey secretKey = KeyGenerator.getInstance(&quot;AES&quot;).generateKey(); \r\n    or \r\n    Key secretKey = MacProvider.generateKey();\r\n\r\nuse same secretKey key to generate jwt string and decrypt it using same secrete key like \r\n\r\n\r\n    SecretKey secretKey = KeyGenerator.getInstance(&quot;AES&quot;).generateKey();\r\n    String compactJws = Jwts.builder()\r\n    \t\t\t\t  .setSubject(&quot;Joe&quot;)\r\n    \t\t\t\t  .signWith(SignatureAlgorithm.HS512, secretKey)\r\n    \t\t\t\t  .compact();\r\n    \t\t\r\n    \t\t\r\n    Claims claims = Jwts.parser().setSigningKey(secretKey)\r\n    \t\t                .parseClaimsJws(compactJws).getBody();\r\n\r\n\r\n \r\n","title":"Validating jwt in java: Key bytes cannot be specified for RSA signatures","body":"<p>you have to create secretKey using RSA like </p>\n\n<pre><code>SecretKey secretKey = KeyGenerator.getInstance(\"AES\").generateKey(); \nor \nKey secretKey = MacProvider.generateKey();\n</code></pre>\n\n<p>use same secretKey key to generate jwt string and decrypt it using same secrete key like </p>\n\n<pre><code>SecretKey secretKey = KeyGenerator.getInstance(\"AES\").generateKey();\nString compactJws = Jwts.builder()\n                  .setSubject(\"Joe\")\n                  .signWith(SignatureAlgorithm.HS512, secretKey)\n                  .compact();\n\n\nClaims claims = Jwts.parser().setSigningKey(secretKey)\n                        .parseClaimsJws(compactJws).getBody();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8653525,"reputation":23,"user_id":6478492,"display_name":"Keramat"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1554713776,"creation_date":1554713776,"answer_id":55569625,"question_id":39622089,"body_markdown":"I had the same problem, it was my solution\r\n\r\nin my case I gad a certificate that give the ability that can be signed with different keys,\r\n\r\n       CertificateFactory fact = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n       FileInputStream is = new FileInputStream (&quot;yourcertificate.jks&quot;);\r\n       Certificate cer = fact.generateCertificate(is);\r\n       PublicKey  publicKey = cer.getPublicKey();\r\nand then to verify the jwt token used:\r\n\r\n     Claims body = Jwts.parser()\r\n                    .setSigningKey(publicKey)\r\n                    .parseClaimsJws(token)\r\n                    .getBody();\r\n\r\n ","title":"Validating jwt in java: Key bytes cannot be specified for RSA signatures","body":"<p>I had the same problem, it was my solution</p>\n\n<p>in my case I gad a certificate that give the ability that can be signed with different keys,</p>\n\n<pre><code>   CertificateFactory fact = CertificateFactory.getInstance(\"X.509\");\n   FileInputStream is = new FileInputStream (\"yourcertificate.jks\");\n   Certificate cer = fact.generateCertificate(is);\n   PublicKey  publicKey = cer.getPublicKey();\n</code></pre>\n\n<p>and then to verify the jwt token used:</p>\n\n<pre><code> Claims body = Jwts.parser()\n                .setSigningKey(publicKey)\n                .parseClaimsJws(token)\n                .getBody();\n</code></pre>\n"}],"owner":{"account_id":262014,"reputation":672,"user_id":546594,"accept_rate":65,"display_name":"Pegah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7458,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1667569926,"creation_date":1474475961,"question_id":39622089,"body_markdown":"I receive the jwt (access token) from an OAuth Server. The OAuth server has already provided me with the secret, public key, and self-signed CA certificate.\r\n\r\nI want to write a code that when I receive a jwt, I can validate it and check if this server has sent it to me. I use the following code to validat my jwt in java.\r\n\r\n    String jwt = &quot;xxx.yyy.zzz&quot;;\r\n\r\n            //This line will throw an exception if it is not a signed JWS (as expected)\r\n    Claims claims = Jwts.parser().setSigningKey(DatatypeConverter.parseBase64Binary(self_signed_CA_Certificate))\r\n                    .parseClaimsJws(jwt).getBody();\r\n\r\nI get the error: `Key bytes cannot be specified for RSA signatures.  Please specify a PublicKey or PrivateKey instance.`\r\n\r\n\r\n\r\nAny help is appreciated.","title":"Validating jwt in java: Key bytes cannot be specified for RSA signatures","body":"<p>I receive the jwt (access token) from an OAuth Server. The OAuth server has already provided me with the secret, public key, and self-signed CA certificate.</p>\n\n<p>I want to write a code that when I receive a jwt, I can validate it and check if this server has sent it to me. I use the following code to validat my jwt in java.</p>\n\n<pre><code>String jwt = \"xxx.yyy.zzz\";\n\n        //This line will throw an exception if it is not a signed JWS (as expected)\nClaims claims = Jwts.parser().setSigningKey(DatatypeConverter.parseBase64Binary(self_signed_CA_Certificate))\n                .parseClaimsJws(jwt).getBody();\n</code></pre>\n\n<p>I get the error: <code>Key bytes cannot be specified for RSA signatures.  Please specify a PublicKey or PrivateKey instance.</code></p>\n\n<p>Any help is appreciated.</p>\n"},{"tags":["java","openid-connect","jjwt"],"comments":[{"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"score":1,"creation_date":1580732731,"post_id":60038550,"comment_id":106182041,"body_markdown":"Looks like you will have to parse your public key using `KeyFactory` and then pass the resulting instance to your library.","body":"Looks like you will have to parse your public key using <code>KeyFactory</code> and then pass the resulting instance to your library."},{"owner":{"account_id":17260867,"reputation":355,"user_id":12498784,"display_name":"John Erbynn"},"score":1,"creation_date":1580774087,"post_id":60038550,"comment_id":106200750,"body_markdown":"hey @michalk .... I ended up fixing the **publicKey** with this code snippet\n-------------------\n \n`X509EncodedKeySpec keySpecX509 = new X509EncodedKeySpec(Base64.getDecoder().decode(PUBLIC_KEY));`\n________\n`RSAPublicKey pubKey = (RSAPublicKey) KeyFactory.getInstance(&quot;RSA&quot;).generatePublic(keySpecX509);`","body":"hey @michalk .... I ended up fixing the <b>publicKey</b> with this code snippet -------------------   <code>X509EncodedKeySpec keySpecX509 = new X509EncodedKeySpec(Base64.getDecoder().decode(PUBLIC_KEY));</code> ________ <code>RSAPublicKey pubKey = (RSAPublicKey) KeyFactory.getInstance(&quot;RSA&quot;).generatePublic(keySpecX509);</code>"},{"owner":{"account_id":17260867,"reputation":355,"user_id":12498784,"display_name":"John Erbynn"},"score":0,"creation_date":1580774515,"post_id":60038550,"comment_id":106200837,"body_markdown":"It worked fine with that snippet temporary. It&#39;s now giving different error. that is, `JWT signature does not match locally computed signature. JWT validity cannot be asserted and should not be trusted` .......  I don&#39;t know if that was what you were actually recommending. If not, could you help me out. Thanks.","body":"It worked fine with that snippet temporary. It&#39;s now giving different error. that is, <code>JWT signature does not match locally computed signature. JWT validity cannot be asserted and should not be trusted</code> .......  I don&#39;t know if that was what you were actually recommending. If not, could you help me out. Thanks."}],"answers":[{"comments":[{"owner":{"account_id":17260867,"reputation":355,"user_id":12498784,"display_name":"John Erbynn"},"score":0,"creation_date":1580775054,"post_id":60045658,"comment_id":106200948,"body_markdown":"Alright. So I am generating the tokenID with Google OpenID approach at the client side with  Angular and passing the token down to the server side which is in Java(specifically Spring MVC) for verification using [jjwt](https://github.com/jwtk/jjwt#verification-key) and sending response back to the client before and micro-service can be accessed if token is actually valid. \nHope you get it :)","body":"Alright. So I am generating the tokenID with Google OpenID approach at the client side with  Angular and passing the token down to the server side which is in Java(specifically Spring MVC) for verification using <a href=\"https://github.com/jwtk/jjwt#verification-key\" rel=\"nofollow noreferrer\">jjwt</a> and sending response back to the client before and micro-service can be accessed if token is actually valid.  Hope you get it :)"},{"owner":{"account_id":12368896,"reputation":24924,"user_id":9019885,"display_name":"Gary Archer"},"score":0,"creation_date":1580804503,"post_id":60045658,"comment_id":106208388,"body_markdown":"Ok - sounds standard except it is usual to send access tokens to the API rather than id tokens, since access tokens are short lived API credentials that can be renewed.  Your tech approach to JWT validation looks fine otherwise.","body":"Ok - sounds standard except it is usual to send access tokens to the API rather than id tokens, since access tokens are short lived API credentials that can be renewed.  Your tech approach to JWT validation looks fine otherwise."}],"tags":[],"owner":{"account_id":12368896,"reputation":24924,"user_id":9019885,"display_name":"Gary Archer"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615397304,"creation_date":1580756981,"answer_id":60045658,"question_id":60038550,"body_markdown":"A good approach can be to use the JWT.IO web page to validate the token manually - as described in [my article](https://authguidance.com/2017/12/06/azure-ad-api-token-validation) - then to [apply the equivalent code](https://github.com/gary-archer/oauth.websample.azure/blob/master/api/src/host/oauth/authenticator.ts) - though my code is NodeJS.\r\n\r\nInterested in how you come to be validating an id token manually - \r\ncould you explain which clients and APIs are involved - there may be a more standard way to achieve your goals.","title":"Key bytes can only be specified for HMAC signatures. Please specify a PublicKey or PrivateKey instance","body":"<p>A good approach can be to use the JWT.IO web page to validate the token manually - as described in <a href=\"https://authguidance.com/2017/12/06/azure-ad-api-token-validation\" rel=\"nofollow noreferrer\">my article</a> - then to <a href=\"https://github.com/gary-archer/oauth.websample.azure/blob/master/api/src/host/oauth/authenticator.ts\" rel=\"nofollow noreferrer\">apply the equivalent code</a> - though my code is NodeJS.</p>\n<p>Interested in how you come to be validating an id token manually -\ncould you explain which clients and APIs are involved - there may be a more standard way to achieve your goals.</p>\n"},{"tags":[],"owner":{"account_id":17260867,"reputation":355,"user_id":12498784,"display_name":"John Erbynn"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1580998065,"creation_date":1580777370,"answer_id":60049108,"question_id":60038550,"body_markdown":"I think I have been able to fix the gotcha by parsing the publicKey as an `RSAPublicKey`. Below is the nitty-gritty of how i went about it. \r\n\r\n```\r\n public static Optional&lt;RSAPublicKey&gt; getParsedPublicKey(){\r\n       // public key content...excluding &#39;---PUBLIC KEY---&#39; and &#39;---END PUBLIC KEY---&#39;\r\n        String PUB_KEY =System.getenv(&quot;PUBLIC_KEY&quot;) ; \r\n\r\n       // removes white spaces or char 20\r\n        String PUBLIC_KEY = &quot;&quot;;\r\n          if (!PUB_KEY.isEmpty()) {\r\n            PUBLIC_KEY = PUB_KEY.replace(&quot; &quot;, &quot;&quot;);\r\n        }\r\n\r\n        try {\r\n            byte[] decode = com.google.api.client.util.Base64.decodeBase64(PUBLIC_KEY);\r\n            X509EncodedKeySpec keySpecX509 = new X509EncodedKeySpec(decode);\r\n            KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n            RSAPublicKey pubKey = (RSAPublicKey) keyFactory.generatePublic(keySpecX509);\r\n            return Optional.of(pubKey);\r\n\r\n        } catch (NoSuchAlgorithmException | InvalidKeySpecException e) {\r\n            e.printStackTrace();\r\n            System.out.println(&quot;Exception block | Public key parsing error &quot;);\r\n            return Optional.empty();\r\n        }\r\n```\r\n \r\nHope it helps :).\r\n ","title":"Key bytes can only be specified for HMAC signatures. Please specify a PublicKey or PrivateKey instance","body":"<p>I think I have been able to fix the gotcha by parsing the publicKey as an <code>RSAPublicKey</code>. Below is the nitty-gritty of how i went about it. </p>\n\n<pre><code> public static Optional&lt;RSAPublicKey&gt; getParsedPublicKey(){\n       // public key content...excluding '---PUBLIC KEY---' and '---END PUBLIC KEY---'\n        String PUB_KEY =System.getenv(\"PUBLIC_KEY\") ; \n\n       // removes white spaces or char 20\n        String PUBLIC_KEY = \"\";\n          if (!PUB_KEY.isEmpty()) {\n            PUBLIC_KEY = PUB_KEY.replace(\" \", \"\");\n        }\n\n        try {\n            byte[] decode = com.google.api.client.util.Base64.decodeBase64(PUBLIC_KEY);\n            X509EncodedKeySpec keySpecX509 = new X509EncodedKeySpec(decode);\n            KeyFactory keyFactory = KeyFactory.getInstance(\"RSA\");\n            RSAPublicKey pubKey = (RSAPublicKey) keyFactory.generatePublic(keySpecX509);\n            return Optional.of(pubKey);\n\n        } catch (NoSuchAlgorithmException | InvalidKeySpecException e) {\n            e.printStackTrace();\n            System.out.println(\"Exception block | Public key parsing error \");\n            return Optional.empty();\n        }\n</code></pre>\n\n<p>Hope it helps :).</p>\n"},{"tags":[],"owner":{"account_id":5442196,"reputation":151,"user_id":4329945,"display_name":"Suresh Kb"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1599223727,"creation_date":1599223727,"answer_id":63741508,"question_id":60038550,"body_markdown":"This can be done like below, generate a token using private key signing and parse claims with the public key\r\n\r\n      @Configuration\r\n      public class KeyGeneratorConfig {\r\n    \r\n   \r\n        @Value(&quot;${jwt.privateKey}&quot;)\r\n        private String privateKey; //Encoded private key string\r\n    \r\n    \r\n        @Value(&quot;${jwt.publicKey}&quot;)\r\n        private String publicKey;//Encoded public key string\r\n    \r\n    \r\n        @Bean\r\n        public PrivateKey generatePrivateKey() throws NoSuchAlgorithmException, InvalidKeySpecException {\r\n    \r\n            KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n            PKCS8EncodedKeySpec privKeySpecPKCS8 = new PKCS8EncodedKeySpec(Base64.getDecoder().decode(privateKey));\r\n            return kf.generatePrivate(privKeySpecPKCS8);\r\n        }\r\n    \r\n        @Bean\r\n        public PublicKey generatePublicKey() throws NoSuchAlgorithmException, InvalidKeySpecException {\r\n    \r\n            KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n            X509EncodedKeySpec pubKeySpecX509EncodedKeySpec = new X509EncodedKeySpec(Base64.getDecoder().decode(publicKey));\r\n            return kf.generatePublic(pubKeySpecX509EncodedKeySpec);\r\n        }\r\n    }\r\nand generating token and parsing can be done like this\r\n\r\n    @Autowired\r\n    private PublicKey publicKey;\r\n\r\n    @Autowired\r\n    private PrivateKey privateKey;\r\n\r\n    private String doGenerateToken(Map claims) {\r\n        return Jwts.builder()\r\n                .setClaims(claims)\r\n                .setExpiration(generateExpirationDate(&quot;token&quot;))\r\n                .signWith(SignatureAlgorithm.RS512, privateKey)\r\n                .compact();\r\n    }\r\n\r\n    public Claims getClaimsFromToken(String token) throws ExpiredJwtException, UnsupportedJwtException,\r\n            MalformedJwtException, SignatureException, IllegalArgumentException {\r\n        Claims claims;\r\n\r\n        claims = Jwts.parser()\r\n                .setSigningKey(publicKey)\r\n                .parseClaimsJws(token)\r\n                .getBody();\r\n\r\n        return claims;\r\n    }","title":"Key bytes can only be specified for HMAC signatures. Please specify a PublicKey or PrivateKey instance","body":"<p>This can be done like below, generate a token using private key signing and parse claims with the public key</p>\n<pre><code>  @Configuration\n  public class KeyGeneratorConfig {\n\n\n    @Value(&quot;${jwt.privateKey}&quot;)\n    private String privateKey; //Encoded private key string\n\n\n    @Value(&quot;${jwt.publicKey}&quot;)\n    private String publicKey;//Encoded public key string\n\n\n    @Bean\n    public PrivateKey generatePrivateKey() throws NoSuchAlgorithmException, InvalidKeySpecException {\n\n        KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\n        PKCS8EncodedKeySpec privKeySpecPKCS8 = new PKCS8EncodedKeySpec(Base64.getDecoder().decode(privateKey));\n        return kf.generatePrivate(privKeySpecPKCS8);\n    }\n\n    @Bean\n    public PublicKey generatePublicKey() throws NoSuchAlgorithmException, InvalidKeySpecException {\n\n        KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\n        X509EncodedKeySpec pubKeySpecX509EncodedKeySpec = new X509EncodedKeySpec(Base64.getDecoder().decode(publicKey));\n        return kf.generatePublic(pubKeySpecX509EncodedKeySpec);\n    }\n}\n</code></pre>\n<p>and generating token and parsing can be done like this</p>\n<pre><code>@Autowired\nprivate PublicKey publicKey;\n\n@Autowired\nprivate PrivateKey privateKey;\n\nprivate String doGenerateToken(Map claims) {\n    return Jwts.builder()\n            .setClaims(claims)\n            .setExpiration(generateExpirationDate(&quot;token&quot;))\n            .signWith(SignatureAlgorithm.RS512, privateKey)\n            .compact();\n}\n\npublic Claims getClaimsFromToken(String token) throws ExpiredJwtException, UnsupportedJwtException,\n        MalformedJwtException, SignatureException, IllegalArgumentException {\n    Claims claims;\n\n    claims = Jwts.parser()\n            .setSigningKey(publicKey)\n            .parseClaimsJws(token)\n            .getBody();\n\n    return claims;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9137252,"reputation":2391,"user_id":6796524,"display_name":"Camille"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667569887,"creation_date":1667569887,"answer_id":74318096,"question_id":60038550,"body_markdown":"My relive came with [this post](https://github.com/jwtk/jjwt/issues/131).\r\n\r\n\r\n    import java.security.cert.Certificate;\r\n    import java.security.cert.CertificateFactory;\r\n    ...\r\n    // First, get your PEM-encoded DER certificate into a String, like this:\r\n    String certChart = &quot;-----BEGIN CERTIFICATE-----\\n.....&quot;;\r\n    \r\n    // Now parse it using CertificateFactory:\r\n    CertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n    Certificate cert = cf.generateCertificate(new java.io.ByteArrayInputStream(certChars.getBytes(StandardCharsets.US_ASCII)));\r\n\r\n    // Now verify:\r\n    Jwts.parserBuilder()\r\n        .setSigningKey(cert.getPublicKey())\r\n     ...","title":"Key bytes can only be specified for HMAC signatures. Please specify a PublicKey or PrivateKey instance","body":"<p>My relive came with <a href=\"https://github.com/jwtk/jjwt/issues/131\" rel=\"nofollow noreferrer\">this post</a>.</p>\n<pre><code>import java.security.cert.Certificate;\nimport java.security.cert.CertificateFactory;\n...\n// First, get your PEM-encoded DER certificate into a String, like this:\nString certChart = &quot;-----BEGIN CERTIFICATE-----\\n.....&quot;;\n\n// Now parse it using CertificateFactory:\nCertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\nCertificate cert = cf.generateCertificate(new java.io.ByteArrayInputStream(certChars.getBytes(StandardCharsets.US_ASCII)));\n\n// Now verify:\nJwts.parserBuilder()\n    .setSigningKey(cert.getPublicKey())\n ...\n</code></pre>\n"}],"owner":{"account_id":17260867,"reputation":355,"user_id":12498784,"display_name":"John Erbynn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16590,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":60049108,"answer_count":4,"score":13,"last_activity_date":1667569887,"creation_date":1580730117,"question_id":60038550,"body_markdown":"I am trying to read a Json Web Token(JWT) generated from Google OpenID Connect&#39;s Id Token in order to get the claims and to verify using [jjwt][1] library. I have tried several ways to fix it with the code below.\r\n```\r\n\r\n String publicKeyFromJsonFile = &quot;-----BEGIN PUBLIC KEY-----xxxxxxx-----END PUBLIC KEY-----&quot;\r\n\r\n Claims claims = Jwts.parser()\r\n                .setSigningKey(publicKeyFromJsonFile)\r\n                .parseClaimsJws(jwt).getBody();\r\n\r\n System.out.println(claims);\r\n\r\n\r\n```\r\nbut I am getting this error:\r\n```\r\njava.lang.IllegalArgumentException: Key bytes can only be specified for HMAC signatures. Please specify a PublicKey or PrivateKey instance\r\n```\r\n\r\nPlease what could be the right approach to follow ? \r\n\r\n\r\n  \r\n\r\n\r\n  [1]: https://github.com/jwtk/jjwt","title":"Key bytes can only be specified for HMAC signatures. Please specify a PublicKey or PrivateKey instance","body":"<p>I am trying to read a Json Web Token(JWT) generated from Google OpenID Connect's Id Token in order to get the claims and to verify using <a href=\"https://github.com/jwtk/jjwt\" rel=\"noreferrer\">jjwt</a> library. I have tried several ways to fix it with the code below.</p>\n\n<pre><code>\n String publicKeyFromJsonFile = \"-----BEGIN PUBLIC KEY-----xxxxxxx-----END PUBLIC KEY-----\"\n\n Claims claims = Jwts.parser()\n                .setSigningKey(publicKeyFromJsonFile)\n                .parseClaimsJws(jwt).getBody();\n\n System.out.println(claims);\n\n\n</code></pre>\n\n<p>but I am getting this error:</p>\n\n<pre><code>java.lang.IllegalArgumentException: Key bytes can only be specified for HMAC signatures. Please specify a PublicKey or PrivateKey instance\n</code></pre>\n\n<p>Please what could be the right approach to follow ? </p>\n"},{"tags":["java","arraylist","terminology"],"answers":[{"comments":[{"owner":{"account_id":123860,"reputation":2672,"user_id":1449525,"accept_rate":83,"display_name":"Patrick"},"score":11,"creation_date":1383388492,"post_id":8452709,"comment_id":29332494,"body_markdown":"If you&#39;re doing a lot of &quot;unshifting&quot; but not a lot of getting at middle indices, you may find ArrayList to be inferior to LinkedList in terms of actual run times.","body":"If you&#39;re doing a lot of &quot;unshifting&quot; but not a lot of getting at middle indices, you may find ArrayList to be inferior to LinkedList in terms of actual run times."},{"owner":{"account_id":1290949,"reputation":3762,"user_id":1243068,"accept_rate":64,"display_name":"e-info128"},"score":0,"creation_date":1437767379,"post_id":8452709,"comment_id":51186721,"body_markdown":"while(Item item = items.remove(0)){ ... } is not equivalent to shift.","body":"while(Item item = items.remove(0)){ ... } is not equivalent to shift."},{"owner":{"account_id":81519,"reputation":34798,"user_id":229792,"accept_rate":63,"display_name":"jameshfisher"},"score":0,"creation_date":1475686379,"post_id":8452709,"comment_id":67046062,"body_markdown":"What about `.push`?","body":"What about <code>.push</code>?"},{"owner":{"account_id":295168,"reputation":12465,"user_id":599436,"accept_rate":100,"display_name":"Jon Egeland"},"score":1,"creation_date":1475770808,"post_id":8452709,"comment_id":67087550,"body_markdown":"OP said he knew `Array.push -&gt; ArrayList.add`, and specifically asked about `pop`, `shift`, and `unshift`. Reading this again, I&#39;m going to add more explanation and add `.push` at the same time.","body":"OP said he knew <code>Array.push -&gt; ArrayList.add</code>, and specifically asked about <code>pop</code>, <code>shift</code>, and <code>unshift</code>. Reading this again, I&#39;m going to add more explanation and add <code>.push</code> at the same time."},{"owner":{"account_id":48849,"reputation":11708,"user_id":145287,"accept_rate":62,"display_name":"Jasper"},"score":0,"creation_date":1543933106,"post_id":8452709,"comment_id":94090557,"body_markdown":"Even though it was not asked, this answer feels incomplete without any mention of the complexity of these functions.","body":"Even though it was not asked, this answer feels incomplete without any mention of the complexity of these functions."},{"owner":{"account_id":10716898,"reputation":214,"user_id":9101859,"display_name":"cmarangu"},"score":0,"creation_date":1580013265,"post_id":8452709,"comment_id":105955829,"body_markdown":"This is subjective an may thus be flagged, but it is less efficient for ArrayLists to have different method names then their analogous counterparts in similar languages because programmers will have to repeatedly search up or take time to learn the new method names and may even be more liable to write code with logical errors. Objectively, it is dumb.","body":"This is subjective an may thus be flagged, but it is less efficient for ArrayLists to have different method names then their analogous counterparts in similar languages because programmers will have to repeatedly search up or take time to learn the new method names and may even be more liable to write code with logical errors. Objectively, it is dumb."},{"owner":{"account_id":421784,"reputation":678,"user_id":800198,"display_name":"Sherwin F"},"score":1,"creation_date":1664464360,"post_id":8452709,"comment_id":130482858,"body_markdown":"@Cozzbie that is not true in the case of ArrayList.remove(int index) which the answer references since this overload does return the object removed.","body":"@Cozzbie that is not true in the case of ArrayList.remove(int index) which the answer references since this overload does return the object removed."}],"tags":[],"owner":{"account_id":295168,"reputation":12465,"user_id":599436,"accept_rate":100,"display_name":"Jon Egeland"},"comment_count":7,"down_vote_count":0,"up_vote_count":183,"is_accepted":true,"score":183,"last_activity_date":1543837212,"creation_date":1323471055,"answer_id":8452709,"question_id":8452672,"body_markdown":"[`ArrayList`](https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html) is unique in its naming standards. Here are the equivalencies:\r\n\r\n    Array.push    -&gt; ArrayList.add(Object o); // Append the list\r\n    Array.pop     -&gt; ArrayList.remove(int index); // Remove list[index]\r\n    Array.shift   -&gt; ArrayList.remove(0); // Remove first element\r\n    Array.unshift -&gt; ArrayList.add(int index, Object o); // Prepend the list\r\n\r\nNote that `unshift` does not *remove* an element, but instead *adds* one to the list. Also note that corner-case behaviors are likely to be different between Java and JS, since they each have their own standards.","title":"java howto ArrayList push, pop, shift, and unshift","body":"<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html\" rel=\"noreferrer\"><code>ArrayList</code></a> is unique in its naming standards. Here are the equivalencies:</p>\n\n<pre><code>Array.push    -&gt; ArrayList.add(Object o); // Append the list\nArray.pop     -&gt; ArrayList.remove(int index); // Remove list[index]\nArray.shift   -&gt; ArrayList.remove(0); // Remove first element\nArray.unshift -&gt; ArrayList.add(int index, Object o); // Prepend the list\n</code></pre>\n\n<p>Note that <code>unshift</code> does not <em>remove</em> an element, but instead <em>adds</em> one to the list. Also note that corner-case behaviors are likely to be different between Java and JS, since they each have their own standards.</p>\n"},{"comments":[{"owner":{"account_id":5070971,"reputation":519,"user_id":4069733,"display_name":"M.J. Rayburn"},"score":1,"creation_date":1436338692,"post_id":8452920,"comment_id":50563276,"body_markdown":"Stack extends vector which is synchronized. [&quot;Unlike the new collection implementations, Vector is synchronized. If a thread-safe implementation is not needed, it is recommended to use ArrayList in place of Vector.&quot;](http://docs.oracle.com/javase/8/docs/api/java/util/Vector.html)","body":"Stack extends vector which is synchronized. <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Vector.html\" rel=\"nofollow noreferrer\">&quot;Unlike the new collection implementations, Vector is synchronized. If a thread-safe implementation is not needed, it is recommended to use ArrayList in place of Vector.&quot;</a>"},{"owner":{"account_id":5070971,"reputation":519,"user_id":4069733,"display_name":"M.J. Rayburn"},"score":0,"creation_date":1436390547,"post_id":8452920,"comment_id":50597803,"body_markdown":"My bad, I just realized that in my sleep deprived state I didn&#39;t read the last half.","body":"My bad, I just realized that in my sleep deprived state I didn&#39;t read the last half."}],"tags":[],"owner":{"account_id":55050,"reputation":190529,"user_id":164835,"accept_rate":80,"display_name":"Kent"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1323472764,"creation_date":1323472764,"answer_id":8452920,"question_id":8452672,"body_markdown":"maybe you want to take a look `java.util.Stack` class.\r\nit has push, pop methods. and implemented List interface.\r\n\r\nfor shift/unshift, you can reference @Jon&#39;s answer.\r\n\r\nhowever, something of ArrayList you may want to care about , arrayList is **not** synchronized. but Stack is. (sub-class of Vector).  If you have thread-safe requirement, Stack may be better than ArrayList.","title":"java howto ArrayList push, pop, shift, and unshift","body":"<p>maybe you want to take a look <code>java.util.Stack</code> class.\nit has push, pop methods. and implemented List interface.</p>\n\n<p>for shift/unshift, you can reference @Jon's answer.</p>\n\n<p>however, something of ArrayList you may want to care about , arrayList is <strong>not</strong> synchronized. but Stack is. (sub-class of Vector).  If you have thread-safe requirement, Stack may be better than ArrayList.</p>\n"},{"comments":[{"owner":{"account_id":481416,"reputation":355404,"user_id":895245,"accept_rate":49,"display_name":"Ciro Santilli OurBigBook.com"},"score":1,"creation_date":1431004798,"post_id":16163302,"comment_id":48315835,"body_markdown":"Why is this not accepted?! Note: `LinkeList` adds methods which would be very inefficient on `ArrayList`  to the `List` interface, this was what confused me. This methods come from the `Deque` and `Queue` interfaces which it implements, but `ArrayList` does not.","body":"Why is this not accepted?! Note: <code>LinkeList</code> adds methods which would be very inefficient on <code>ArrayList</code>  to the <code>List</code> interface, this was what confused me. This methods come from the <code>Deque</code> and <code>Queue</code> interfaces which it implements, but <code>ArrayList</code> does not."},{"owner":{"account_id":1552007,"reputation":1314,"user_id":1444191,"accept_rate":27,"display_name":"Slava"},"score":1,"creation_date":1532441667,"post_id":16163302,"comment_id":89969991,"body_markdown":"@CiroSantilli新疆改造中心六四事件法轮功 but how much inefficient?","body":"@CiroSantilli新疆改造中心六四事件法轮功 but how much inefficient?"},{"owner":{"account_id":481416,"reputation":355404,"user_id":895245,"accept_rate":49,"display_name":"Ciro Santilli OurBigBook.com"},"score":0,"creation_date":1532442156,"post_id":16163302,"comment_id":89970373,"body_markdown":"@Slava O(n) vs O(1) for front insert, which is huge.","body":"@Slava O(n) vs O(1) for front insert, which is huge."},{"owner":{"account_id":1552007,"reputation":1314,"user_id":1444191,"accept_rate":27,"display_name":"Slava"},"score":4,"creation_date":1532516243,"post_id":16163302,"comment_id":90002746,"body_markdown":"@CiroSantilli新疆改造中心六四事件法轮功 O(n) and O(1) are just complexities. I heard that linked lists can be quite slower than array lists even for inserts/deletions. https://stackoverflow.com/questions/34170566/bjarne-stroustrup-says-we-must-avoid-linked-lists So I wonder, what about Java?","body":"@CiroSantilli新疆改造中心六四事件法轮功 O(n) and O(1) are just complexities. I heard that linked lists can be quite slower than array lists even for inserts/deletions. <a href=\"https://stackoverflow.com/questions/34170566/bjarne-stroustrup-says-we-must-avoid-linked-lists\" title=\"bjarne stroustrup says we must avoid linked lists\">stackoverflow.com/questions/34170566/&hellip;</a> So I wonder, what about Java?"},{"owner":{"account_id":3296302,"reputation":1509,"user_id":3560202,"accept_rate":84,"display_name":"Post Self"},"score":0,"creation_date":1653135385,"post_id":16163302,"comment_id":127780193,"body_markdown":"This is not a solution. a linked list is simply a different data structure with different characteristics. This questions pertains to a contiguous list","body":"This is not a solution. a linked list is simply a different data structure with different characteristics. This questions pertains to a contiguous list"},{"owner":{"account_id":3296302,"reputation":1509,"user_id":3560202,"accept_rate":84,"display_name":"Post Self"},"score":0,"creation_date":1653135385,"post_id":16163302,"comment_id":127780194,"body_markdown":"This is not a solution. a linked list is simply a different data structure with different characteristics. This questions pertains to a contiguous list","body":"This is not a solution. a linked list is simply a different data structure with different characteristics. This questions pertains to a contiguous list"}],"tags":[],"owner":{"account_id":448339,"reputation":3348,"user_id":842480,"accept_rate":69,"display_name":"Wirone"},"comment_count":6,"down_vote_count":2,"up_vote_count":36,"is_accepted":false,"score":34,"last_activity_date":1366701717,"creation_date":1366701717,"answer_id":16163302,"question_id":8452672,"body_markdown":"I was facing with this problem some time ago and I found [`java.util.LinkedList`][1] is best for my case. It has several methods, with different namings, but they&#39;re doing what is needed:\r\n\r\n    push()    -&gt; LinkedList.addLast(); // Or just LinkedList.add();\r\n    pop()     -&gt; LinkedList.pollLast();\r\n    shift()   -&gt; LinkedList.pollFirst();\r\n    unshift() -&gt; LinkedList.addFirst();\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/LinkedList.html","title":"java howto ArrayList push, pop, shift, and unshift","body":"<p>I was facing with this problem some time ago and I found <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/LinkedList.html\" rel=\"noreferrer\"><code>java.util.LinkedList</code></a> is best for my case. It has several methods, with different namings, but they're doing what is needed:</p>\n\n<pre><code>push()    -&gt; LinkedList.addLast(); // Or just LinkedList.add();\npop()     -&gt; LinkedList.pollLast();\nshift()   -&gt; LinkedList.pollFirst();\nunshift() -&gt; LinkedList.addFirst();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2203785,"reputation":2039,"user_id":1947482,"display_name":"Valentyn Kolesnikov"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1630717228,"creation_date":1470027037,"answer_id":38691219,"question_id":8452672,"body_markdown":"[Underscore-java][1] library contains methods push(values), pop(), shift() and unshift(values).\r\n\r\nCode example:\r\n\r\n    import com.github.underscore.Underscore:\r\n\r\n    List&lt;String&gt; strings = Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot; three&quot;);\r\n    List&lt;String&gt; newStrings = Underscore.push(strings, &quot;four&quot;, &quot;five&quot;);\r\n    // [&quot;one&quot;, &quot; two&quot;, &quot;three&quot;, &quot; four&quot;, &quot;five&quot;]\r\n    String newPopString = Underscore.pop(strings).fst();\r\n    // &quot; three&quot;\r\n    String newShiftString = Underscore.shift(strings).fst();\r\n    // &quot;one&quot;\r\n    List&lt;String&gt; newUnshiftStrings = Underscore.unshift(strings, &quot;four&quot;, &quot;five&quot;);\r\n    // [&quot;four&quot;, &quot; five&quot;, &quot;one&quot;, &quot; two&quot;, &quot;three&quot;]\r\n\r\n  [1]: https://github.com/javadev/underscore-java","title":"java howto ArrayList push, pop, shift, and unshift","body":"<p><a href=\"https://github.com/javadev/underscore-java\" rel=\"nofollow noreferrer\">Underscore-java</a> library contains methods push(values), pop(), shift() and unshift(values).</p>\n<p>Code example:</p>\n<pre><code>import com.github.underscore.Underscore:\n\nList&lt;String&gt; strings = Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot; three&quot;);\nList&lt;String&gt; newStrings = Underscore.push(strings, &quot;four&quot;, &quot;five&quot;);\n// [&quot;one&quot;, &quot; two&quot;, &quot;three&quot;, &quot; four&quot;, &quot;five&quot;]\nString newPopString = Underscore.pop(strings).fst();\n// &quot; three&quot;\nString newShiftString = Underscore.shift(strings).fst();\n// &quot;one&quot;\nList&lt;String&gt; newUnshiftStrings = Underscore.unshift(strings, &quot;four&quot;, &quot;five&quot;);\n// [&quot;four&quot;, &quot; five&quot;, &quot;one&quot;, &quot; two&quot;, &quot;three&quot;]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1271937,"reputation":1043,"user_id":7384648,"display_name":"Adrian Smith"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1543921843,"creation_date":1543921843,"answer_id":53611633,"question_id":8452672,"body_markdown":"Great Answer by [Jon][1]. \r\n\r\nI&#39;m lazy though and I hate typing, so I created a simple cut and paste example for all the other people who are like me. Enjoy!\r\n   \r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class Main {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n            List&lt;String&gt; animals = new ArrayList&lt;&gt;();\r\n    \r\n            animals.add(&quot;Lion&quot;);\r\n            animals.add(&quot;Tiger&quot;);\r\n            animals.add(&quot;Cat&quot;);\r\n            animals.add(&quot;Dog&quot;);\r\n    \r\n            System.out.println(animals); // [Lion, Tiger, Cat, Dog]\r\n    \r\n            // add() -&gt; push(): Add items to the end of an array\r\n            animals.add(&quot;Elephant&quot;);\r\n            System.out.println(animals);  // [Lion, Tiger, Cat, Dog, Elephant]\r\n    \t\t\r\n            // remove() -&gt; pop(): Remove an item from the end of an array\r\n            animals.remove(animals.size() - 1);\r\n            System.out.println(animals); // [Lion, Tiger, Cat, Dog]\r\n            \r\n            // add(0,&quot;xyz&quot;) -&gt; unshift(): Add items to the beginning of an array\r\n            animals.add(0, &quot;Penguin&quot;);\r\n            System.out.println(animals); // [Penguin, Lion, Tiger, Cat, Dog]\r\n            \r\n            // remove(0) -&gt; shift(): Remove an item from the beginning of an array\r\n            animals.remove(0);\r\n            System.out.println(animals); // [Lion, Tiger, Cat, Dog]\r\n            \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/8452709/7384648","title":"java howto ArrayList push, pop, shift, and unshift","body":"<p>Great Answer by <a href=\"https://stackoverflow.com/a/8452709/7384648\">Jon</a>. </p>\n\n<p>I'm lazy though and I hate typing, so I created a simple cut and paste example for all the other people who are like me. Enjoy!</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class Main {\n\n    public static void main(String[] args) {\n\n        List&lt;String&gt; animals = new ArrayList&lt;&gt;();\n\n        animals.add(\"Lion\");\n        animals.add(\"Tiger\");\n        animals.add(\"Cat\");\n        animals.add(\"Dog\");\n\n        System.out.println(animals); // [Lion, Tiger, Cat, Dog]\n\n        // add() -&gt; push(): Add items to the end of an array\n        animals.add(\"Elephant\");\n        System.out.println(animals);  // [Lion, Tiger, Cat, Dog, Elephant]\n\n        // remove() -&gt; pop(): Remove an item from the end of an array\n        animals.remove(animals.size() - 1);\n        System.out.println(animals); // [Lion, Tiger, Cat, Dog]\n\n        // add(0,\"xyz\") -&gt; unshift(): Add items to the beginning of an array\n        animals.add(0, \"Penguin\");\n        System.out.println(animals); // [Penguin, Lion, Tiger, Cat, Dog]\n\n        // remove(0) -&gt; shift(): Remove an item from the beginning of an array\n        animals.remove(0);\n        System.out.println(animals); // [Lion, Tiger, Cat, Dog]\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":132094,"reputation":31753,"user_id":332578,"accept_rate":89,"display_name":"Jacksonkr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":286781,"favorite_count":0,"down_vote_count":1,"up_vote_count":115,"accepted_answer_id":8452709,"answer_count":5,"score":114,"last_activity_date":1667569674,"creation_date":1323470722,"question_id":8452672,"body_markdown":"I&#39;ve determined that a Java `ArrayList.add` is similar to a JavaScript `Array.push`\r\n\r\nI&#39;m stuck on finding `ArrayList` functions similar to the following\r\n\r\n - `Array.pop`\r\n - `Array.shift`\r\n - `Array.unshift` I&#39;m leaning toward `ArrayList.remove[At]`\r\n\r\n\r\n","title":"java howto ArrayList push, pop, shift, and unshift","body":"<p>I've determined that a Java <code>ArrayList.add</code> is similar to a JavaScript <code>Array.push</code></p>\n\n<p>I'm stuck on finding <code>ArrayList</code> functions similar to the following</p>\n\n<ul>\n<li><code>Array.pop</code></li>\n<li><code>Array.shift</code></li>\n<li><code>Array.unshift</code> I'm leaning toward <code>ArrayList.remove[At]</code></li>\n</ul>\n"},{"tags":["java","xml"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1667546043,"post_id":74313318,"comment_id":131196041,"body_markdown":"Please add more details like relevant code and expected results.","body":"Please add more details like relevant code and expected results."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1667584061,"post_id":74313318,"comment_id":131209154,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667552216,"creation_date":1667552216,"answer_id":74314434,"question_id":74313318,"body_markdown":"You could invoke an XSLT transformation from the Java application:\r\n\r\n    &lt;xsl:transform \r\n        xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\r\n        version=&quot;3.0&quot;&gt;\r\n      &lt;xsl:mode on-no-match=&quot;shallow-copy&quot;/&gt;\r\n      &lt;xsl:param name=&quot;newValue&quot;/&gt;\r\n      &lt;xsl:template match=&quot;specific-tag&quot;&gt;\r\n        &lt;xsl:copy&gt;\r\n          &lt;xsl:value-of select=&quot;$newValue&quot;/&gt;\r\n        &lt;/xsl:copy&gt;\r\n      &lt;/xsl:template&gt;\r\n    &lt;/xsl:transform&gt;","title":"How can I pass a parameter from a java method to specific xml tag","body":"<p>You could invoke an XSLT transformation from the Java application:</p>\n<pre><code>&lt;xsl:transform \n    xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\n    version=&quot;3.0&quot;&gt;\n  &lt;xsl:mode on-no-match=&quot;shallow-copy&quot;/&gt;\n  &lt;xsl:param name=&quot;newValue&quot;/&gt;\n  &lt;xsl:template match=&quot;specific-tag&quot;&gt;\n    &lt;xsl:copy&gt;\n      &lt;xsl:value-of select=&quot;$newValue&quot;/&gt;\n    &lt;/xsl:copy&gt;\n  &lt;/xsl:template&gt;\n&lt;/xsl:transform&gt;\n</code></pre>\n"}],"owner":{"account_id":19083613,"reputation":1,"user_id":13935336,"display_name":"Phil160"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667569327,"creation_date":1667545639,"question_id":74313318,"body_markdown":"Can you please share a way to update a value in xml tag, which is passed from a java method\r\n\r\nPass the values from a method to a specific xml tag. Below is a sample code;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n    &lt;company&gt;\r\n      &lt;staff &gt;\r\n          &lt;name&gt;value1&lt;/name&gt;\r\n          &lt;location&gt;value2&lt;/location&gt;\r\n      &lt;/staff&gt;\r\n    &lt;company&gt;\r\n\r\n\r\n    public class Populate{\r\n    \r\n    \r\n    public void populateData (String value1, String value2){\r\n    \r\n    ???\r\n    }\r\n    }","title":"How can I pass a parameter from a java method to specific xml tag","body":"<p>Can you please share a way to update a value in xml tag, which is passed from a java method</p>\n<p>Pass the values from a method to a specific xml tag. Below is a sample code;</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;company&gt;\n  &lt;staff &gt;\n      &lt;name&gt;value1&lt;/name&gt;\n      &lt;location&gt;value2&lt;/location&gt;\n  &lt;/staff&gt;\n&lt;company&gt;\n\n\npublic class Populate{\n\n\npublic void populateData (String value1, String value2){\n\n???\n}\n}\n</code></pre>\n"},{"tags":["java","java-native-interface","project-panama","java-18"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":2,"creation_date":1667559456,"post_id":74314769,"comment_id":131200179,"body_markdown":"You can copy a MemorySegment to an other. And the other MemorySegment can be backed by a `byte[]`.","body":"You can copy a MemorySegment to an other. And the other MemorySegment can be backed by a <code>byte[]</code>."}],"answers":[{"tags":[],"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1667569288,"creation_date":1667569288,"answer_id":74317967,"question_id":74314769,"body_markdown":"`VarHandle`s, at their root, are only for accessing memory that can fit in a primitive type, and `char[100]` does not fit in a primitive.\r\n\r\nWhat you get when doing:\r\n\r\n    ENT_LAYOUT.varHandle(groupElement(&quot;name&quot;), sequenceElement());\r\n\r\nIs a `VarHandle` that selects a single `byte` from the array, for which the index is supplied dynamically:\r\n\r\n    long index = 42; // select element 42\r\n    byte nameByte = (byte) VH_ENT_NAME.get(segment, index);\r\n\r\n&gt; should stick to mix of `VarHandle` and `slice`\r\n\r\nYes, `slice` is needed to access anything that&#39;s too big for a primitive. It is essentially the same as doing this in C:\r\n\r\n    ent* x = foo();\r\n    char* name = x-&gt;name;\r\n\r\nYou can use `MemoryLayout::sliceHandle` as well to get a `MethodHandle` that embeds the offset computations:\r\n\r\n    MethodHandle MH_ENT_NAME = ENT_LAYOUT.sliceHandle(groupElement(&quot;name&quot;));\r\n\r\nMethod handles can also be combined further (just like varhandles), to create one that directly gets the string from the segment:\r\n\r\n    MethodHandle MH_getUtf8String = MethodHandles.lookup().findVirtual(MemorySegment.class, &quot;getUtf8String&quot;, MethodType.methodType(String.class, long.class));\r\n    MethodHandle mh = MethodHandles.insertArguments(MH_getUtf8String, 1, 0); // always access string at offset 0\r\n    mh = MethodHandles.filterArguments(result, 0, MH_ENT_NAME);\r\n\r\n    String name = (String) mh.invokeExact(segment);\r\n\r\nThough, it is often simpler just to define a `static` helper method that does the above:\r\n\r\n    public static String getName(MemorySegment segment) {\r\n        try {\r\n            MemorySegment nameSegment = (MemorySegment) MH_ENT_NAME.invokeExact(segment);\r\n            return nameSegment.getUtf8String(0);\r\n        } catch(Throwable t) {\r\n            throw new RuntimeException(t);\r\n        }\r\n    }","title":"Java VarHandle to a C string with java.lang.foreign API","body":"<p><code>VarHandle</code>s, at their root, are only for accessing memory that can fit in a primitive type, and <code>char[100]</code> does not fit in a primitive.</p>\n<p>What you get when doing:</p>\n<pre><code>ENT_LAYOUT.varHandle(groupElement(&quot;name&quot;), sequenceElement());\n</code></pre>\n<p>Is a <code>VarHandle</code> that selects a single <code>byte</code> from the array, for which the index is supplied dynamically:</p>\n<pre><code>long index = 42; // select element 42\nbyte nameByte = (byte) VH_ENT_NAME.get(segment, index);\n</code></pre>\n<blockquote>\n<p>should stick to mix of <code>VarHandle</code> and <code>slice</code></p>\n</blockquote>\n<p>Yes, <code>slice</code> is needed to access anything that's too big for a primitive. It is essentially the same as doing this in C:</p>\n<pre><code>ent* x = foo();\nchar* name = x-&gt;name;\n</code></pre>\n<p>You can use <code>MemoryLayout::sliceHandle</code> as well to get a <code>MethodHandle</code> that embeds the offset computations:</p>\n<pre><code>MethodHandle MH_ENT_NAME = ENT_LAYOUT.sliceHandle(groupElement(&quot;name&quot;));\n</code></pre>\n<p>Method handles can also be combined further (just like varhandles), to create one that directly gets the string from the segment:</p>\n<pre><code>MethodHandle MH_getUtf8String = MethodHandles.lookup().findVirtual(MemorySegment.class, &quot;getUtf8String&quot;, MethodType.methodType(String.class, long.class));\nMethodHandle mh = MethodHandles.insertArguments(MH_getUtf8String, 1, 0); // always access string at offset 0\nmh = MethodHandles.filterArguments(result, 0, MH_ENT_NAME);\n\nString name = (String) mh.invokeExact(segment);\n</code></pre>\n<p>Though, it is often simpler just to define a <code>static</code> helper method that does the above:</p>\n<pre><code>public static String getName(MemorySegment segment) {\n    try {\n        MemorySegment nameSegment = (MemorySegment) MH_ENT_NAME.invokeExact(segment);\n        return nameSegment.getUtf8String(0);\n    } catch(Throwable t) {\n        throw new RuntimeException(t);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1426019,"reputation":4217,"user_id":1356883,"display_name":"kofemann"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74317967,"answer_count":1,"score":2,"last_activity_date":1667569288,"creation_date":1667554067,"question_id":74314769,"body_markdown":"I would like to use foreign function interface from project panama to access C library from Java19. The C interface is quite simple:\r\n\r\n```c\r\ntypedef struct {\r\n  int len;\r\n  char name[100];\r\n} ent;\r\n\r\nent* foo();\r\n```\r\n\r\nWhen called, function foo returns pointer to `struct ent`, where `len` tells the size of the string `name`.\r\n\r\nThe corresponding Java side is:\r\n\r\n```java\r\nprivate static final MemoryLayout ENT_LAYOUT = MemoryLayout.structLayout(\r\n        JAVA_INT.withName(&quot;len&quot;),\r\n        MemoryLayout.sequenceLayout(100, ValueLayout.JAVA_BYTE).withName(&quot;name&quot;)\r\n);\r\n```\r\n\r\nFor ease of access I would like use `VarHandle`:\r\n\r\n\r\n```java\r\nprivate static final VarHandle VH_ENT_LEN = ENT_LAYOUT.varHandle(groupElement(&quot;len&quot;));\r\n\r\n```\r\n\r\nand later on\r\n\r\n```java\r\nint len = (int)VH_ENT_LEN.get(segment);\r\nString name = segment.asSlice(ENT_LAYOUT.byteOffset(groupElement(&quot;name&quot;)), len).getUtf8String(0);\r\n\r\n```\r\n\r\nWhich is still a bit messy.\r\n\r\nMy naive expectation ware, that the solution should be something like:\r\n\r\n\r\n```java\r\nprivate static final VarHandle VH_ENT_NAME = ENT_LAYOUT.varHandle(groupElement(&quot;name&quot;), sequenceElement());\r\n\r\nbyte[] nameRaw = (byte[])VH_ENT_NAME.get(segment);\r\n```\r\n\r\nHowever I get:\r\n\r\n```\r\njava.lang.RuntimeException: java.lang.invoke.WrongMethodTypeException:\r\n   cannot convert MethodHandle(VarHandle,MemorySegment,long)byte to (VarHandle,MemorySegment)byte[]\r\n```\r\n\r\nSo, the question is: is there an elegant solution to access arrays from java foreign API, or we should stick to mix of `VarHandle` and `slice`.\r\n\r\n\r\n","title":"Java VarHandle to a C string with java.lang.foreign API","body":"<p>I would like to use foreign function interface from project panama to access C library from Java19. The C interface is quite simple:</p>\n<pre class=\"lang-c prettyprint-override\"><code>typedef struct {\n  int len;\n  char name[100];\n} ent;\n\nent* foo();\n</code></pre>\n<p>When called, function foo returns pointer to <code>struct ent</code>, where <code>len</code> tells the size of the string <code>name</code>.</p>\n<p>The corresponding Java side is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final MemoryLayout ENT_LAYOUT = MemoryLayout.structLayout(\n        JAVA_INT.withName(&quot;len&quot;),\n        MemoryLayout.sequenceLayout(100, ValueLayout.JAVA_BYTE).withName(&quot;name&quot;)\n);\n</code></pre>\n<p>For ease of access I would like use <code>VarHandle</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final VarHandle VH_ENT_LEN = ENT_LAYOUT.varHandle(groupElement(&quot;len&quot;));\n\n</code></pre>\n<p>and later on</p>\n<pre class=\"lang-java prettyprint-override\"><code>int len = (int)VH_ENT_LEN.get(segment);\nString name = segment.asSlice(ENT_LAYOUT.byteOffset(groupElement(&quot;name&quot;)), len).getUtf8String(0);\n\n</code></pre>\n<p>Which is still a bit messy.</p>\n<p>My naive expectation ware, that the solution should be something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final VarHandle VH_ENT_NAME = ENT_LAYOUT.varHandle(groupElement(&quot;name&quot;), sequenceElement());\n\nbyte[] nameRaw = (byte[])VH_ENT_NAME.get(segment);\n</code></pre>\n<p>However I get:</p>\n<pre><code>java.lang.RuntimeException: java.lang.invoke.WrongMethodTypeException:\n   cannot convert MethodHandle(VarHandle,MemorySegment,long)byte to (VarHandle,MemorySegment)byte[]\n</code></pre>\n<p>So, the question is: is there an elegant solution to access arrays from java foreign API, or we should stick to mix of <code>VarHandle</code> and <code>slice</code>.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":19886917,"reputation":1199,"user_id":14569750,"display_name":"ericmp"},"score":0,"creation_date":1667562173,"post_id":74316485,"comment_id":131201103,"body_markdown":"are you sure this is js related?","body":"are you sure this is js related?"},{"owner":{"account_id":26828659,"reputation":1,"user_id":20416949,"display_name":"Федор Сергеевич"},"score":0,"creation_date":1667562273,"post_id":74316485,"comment_id":131201142,"body_markdown":"no but to add a question requires at least one popular tag I wrote java and android but he wrote anyway I saw that JavaScript was more popular and that was the only way I could add","body":"no but to add a question requires at least one popular tag I wrote java and android but he wrote anyway I saw that JavaScript was more popular and that was the only way I could add"},{"owner":{"account_id":19886917,"reputation":1199,"user_id":14569750,"display_name":"ericmp"},"score":0,"creation_date":1667562315,"post_id":74316485,"comment_id":131201159,"body_markdown":"change it to java","body":"change it to java"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667562877,"post_id":74316485,"comment_id":131201348,"body_markdown":"`wrote the code for receiving and transmitting data.` Receiving from who? Transmitting to what? Please start a post telling what you do.","body":"<code>wrote the code for receiving and transmitting data.</code> Receiving from who? Transmitting to what? Please start a post telling what you do."},{"owner":{"account_id":26828659,"reputation":1,"user_id":20416949,"display_name":"Федор Сергеевич"},"score":0,"creation_date":1667563324,"post_id":74316485,"comment_id":131201489,"body_markdown":"getting text, passing to firebase","body":"getting text, passing to firebase"},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1667569272,"post_id":74316485,"comment_id":131203575,"body_markdown":"Please edit your question to include the exact error message and complete stack trace that you copy/paste from the logcat. It&#39;ll also be helpful if you include the JSON data that exists at `databaseReference` in your database (as text, no screenshots please). You can get this by clicking the &quot;Export JSON&quot; link in the overflow menu (⠇) on your [Firebase Database console](https://console.firebase.google.com/project/_/database/data).","body":"Please edit your question to include the exact error message and complete stack trace that you copy/paste from the logcat. It&#39;ll also be helpful if you include the JSON data that exists at <code>databaseReference</code> in your database (as text, no screenshots please). You can get this by clicking the &quot;Export JSON&quot; link in the overflow menu (⠇) on your <a href=\"https://console.firebase.google.com/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Database console</a>."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1667569351,"post_id":74316485,"comment_id":131203606,"body_markdown":"Please edit your question and add the information Frank asked for, and please also respond using @.","body":"Please edit your question and add the information Frank asked for, and please also respond using @."}],"owner":{"account_id":26828659,"reputation":1,"user_id":20416949,"display_name":"Федор Сергеевич"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667569159,"creation_date":1667562124,"question_id":74316485,"body_markdown":"I wrote the code for receiving and transmitting data.  but when you start the activity, the application crashes.here is the problem line (according to Logcat)\r\n\r\n```\r\nString msg=snapshot.getValue(String.class);\r\n```\r\n\r\ncomplete data receiving code with complete information about each object in this activity (except adapter and holder)\r\n\r\n```\r\ndatabaseReference.addChildEventListener(new ChildEventListener() {\r\n    @Override\r\n    public void onChildAdded(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\r\n        String msg=snapshot.getValue(String.class);\r\n\r\n        messages.add(msg);\r\n\r\n        adapter.notifyDataSetChanged();\r\n\r\n        recyclemanwoman.smoothScrollToPosition(messages.size());\r\n    }\r\n\r\n    @Override\r\n    public void onChildChanged(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\r\n    }\r\n\r\n    @Override\r\n    public void onChildRemoved(@NonNull DataSnapshot snapshot) {\r\n    }\r\n\r\n    @Override\r\n    public void onChildMoved(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\r\n    }\r\n\r\n    @Override\r\n    public void onCancelled(@NonNull DatabaseError error) {\r\n    }\r\n});\r\n```\r\n\r\ndata send code\r\n\r\n```\r\nprivate void ValidateAndSaveOnlyInfo() {\r\n    if (TextUtils.isEmpty(edit_chat.getText().toString())) {\r\n        Toast.makeText(this, &quot;Введите текст&quot;, Toast.LENGTH_SHORT).show();\r\n    } else {\r\n        HashMap&lt;String, Object&gt; userMap = new HashMap&lt;&gt;();\r\n\r\n        userMap.put(&quot;uid&quot;, mAuth.getCurrentUser().getUid());\r\n\r\n        userMap.put(&quot;text&quot;, edit_chat.getText().toString());\r\n\r\n        databaseReference.child(mAuth.getCurrentUser().getUid()).updateChildren(userMap);\r\n\r\n        edit_chat.setText(&quot;&quot;);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\ni tried to change send HashMap to String\r\n\r\n```\r\npublic void onClick(View view) {\r\n        String msg= edit_chat.getText().toString();\r\n\r\n        if (msg.equals(&quot;&quot;)){\r\n            return;\r\n        }\r\n\r\n        if (msg.length()==MAX_MESSAGE_LENGTMAH){\r\n            return;\r\n        }\r\n\r\n        databaseReference.push().setValue(msg);\r\n    }\r\n});\r\n```\r\n\r\nbut the problematic line is the same.  how can this be fixed? ","title":"I can&#39;t receive data, how can I fix it?","body":"<p>I wrote the code for receiving and transmitting data.  but when you start the activity, the application crashes.here is the problem line (according to Logcat)</p>\n<pre><code>String msg=snapshot.getValue(String.class);\n</code></pre>\n<p>complete data receiving code with complete information about each object in this activity (except adapter and holder)</p>\n<pre><code>databaseReference.addChildEventListener(new ChildEventListener() {\n    @Override\n    public void onChildAdded(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\n        String msg=snapshot.getValue(String.class);\n\n        messages.add(msg);\n\n        adapter.notifyDataSetChanged();\n\n        recyclemanwoman.smoothScrollToPosition(messages.size());\n    }\n\n    @Override\n    public void onChildChanged(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\n    }\n\n    @Override\n    public void onChildRemoved(@NonNull DataSnapshot snapshot) {\n    }\n\n    @Override\n    public void onChildMoved(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\n    }\n\n    @Override\n    public void onCancelled(@NonNull DatabaseError error) {\n    }\n});\n</code></pre>\n<p>data send code</p>\n<pre><code>private void ValidateAndSaveOnlyInfo() {\n    if (TextUtils.isEmpty(edit_chat.getText().toString())) {\n        Toast.makeText(this, &quot;Введите текст&quot;, Toast.LENGTH_SHORT).show();\n    } else {\n        HashMap&lt;String, Object&gt; userMap = new HashMap&lt;&gt;();\n\n        userMap.put(&quot;uid&quot;, mAuth.getCurrentUser().getUid());\n\n        userMap.put(&quot;text&quot;, edit_chat.getText().toString());\n\n        databaseReference.child(mAuth.getCurrentUser().getUid()).updateChildren(userMap);\n\n        edit_chat.setText(&quot;&quot;);\n    }\n}\n</code></pre>\n<p>i tried to change send HashMap to String</p>\n<pre><code>public void onClick(View view) {\n        String msg= edit_chat.getText().toString();\n\n        if (msg.equals(&quot;&quot;)){\n            return;\n        }\n\n        if (msg.length()==MAX_MESSAGE_LENGTMAH){\n            return;\n        }\n\n        databaseReference.push().setValue(msg);\n    }\n});\n</code></pre>\n<p>but the problematic line is the same.  how can this be fixed?</p>\n"},{"tags":["java","jakarta-ee","xjc"],"answers":[{"comments":[{"owner":{"account_id":1733619,"reputation":393,"user_id":1586660,"accept_rate":100,"display_name":"thomas.st"},"score":0,"creation_date":1658989428,"post_id":66564949,"comment_id":129189715,"body_markdown":"I had to use a newer version of jaxb2-maven-plugin (e.g. 3.1.0), otherwise I got the following ERROR: `Prefix &#39;&#39; is already bound to &#39;&#39;` (see https://github.com/eclipse-ee4j/jaxb-ri/issues/1220)","body":"I had to use a newer version of jaxb2-maven-plugin (e.g. 3.1.0), otherwise I got the following ERROR: <code>Prefix &#39;&#39; is already bound to &#39;&#39;</code> (see <a href=\"https://github.com/eclipse-ee4j/jaxb-ri/issues/1220\" rel=\"nofollow noreferrer\">github.com/eclipse-ee4j/jaxb-ri/issues/1220</a>)"},{"owner":{"account_id":4719785,"reputation":316,"user_id":3819891,"display_name":"Nicolas"},"score":1,"creation_date":1677854646,"post_id":66564949,"comment_id":133424778,"body_markdown":"With springboot 2.6.6 this works like a charm but I need to add the 4 dependencies from the jaxb plugin to the project as well.\nI also used the latest version of plugin and dependencies.","body":"With springboot 2.6.6 this works like a charm but I need to add the 4 dependencies from the jaxb plugin to the project as well. I also used the latest version of plugin and dependencies."}],"tags":[],"owner":{"account_id":15199460,"reputation":171,"user_id":10967864,"display_name":"Francisco Azedo"},"comment_count":2,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1615379857,"creation_date":1615379857,"answer_id":66564949,"question_id":64154425,"body_markdown":"After some days of research my baseline solution for a problem related to the same plugin is the following:\r\n\r\npom.xml file\r\n\r\n    &lt;properties&gt;\r\n\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n\r\n        &lt;!-- maven compiler version --&gt;\r\n        &lt;maven.compiler.version&gt;3.8.1&lt;/maven.compiler.version&gt;\r\n\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\r\n        &lt;version.maven.jakartaee&gt;9.0.0&lt;/version.maven.jakartaee&gt;\r\n        &lt;version.maven.jakarta.xml.bind-api&gt;3.0.0&lt;/version.maven.jakarta.xml.bind-api&gt;\r\n        &lt;version.maven.jakarta.ws.rs-api&gt;3.0.0&lt;/version.maven.jakarta.ws.rs-api&gt;\r\n        &lt;version.maven.jakarta.activation.api&gt;2.0.0&lt;/version.maven.jakarta.activation.api&gt;\r\n        &lt;version.maven.jaxb.impl&gt;3.0.0&lt;/version.maven.jaxb.impl&gt;\r\n        &lt;version.maven.jaxb.xjc&gt;3.0.0&lt;/version.maven.jaxb.xjc&gt;\r\n        &lt;version.maven.servlet.api&gt;5.0.0&lt;/version.maven.servlet.api&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven.compiler.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\r\n                    &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;xjc&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;xjc&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;xjbSources&gt;\r\n                        &lt;xjbSource&gt;src/main/resources/global.xjb&lt;/xjbSource&gt;\r\n                    &lt;/xjbSources&gt;\r\n                    &lt;sources&gt;\r\n                        &lt;source&gt;src/main/resources/xsd&lt;/source&gt;\r\n                    &lt;/sources&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jaxb-xjc&lt;/artifactId&gt;\r\n                        &lt;version&gt;${version.maven.jaxb.xjc}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;jakarta.activation&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jakarta.activation-api&lt;/artifactId&gt;\r\n                        &lt;version&gt;${version.maven.jakarta.activation.api}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n                        &lt;version&gt;${version.maven.jakarta.xml.bind-api}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n                        &lt;version&gt;${version.maven.jaxb.impl}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${version.maven.jakarta.xml.bind-api}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.ws.rs&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.ws.rs-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${version.maven.jakarta.ws.rs-api}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${version.maven.servlet.api}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${version.maven.jakartaee}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;${version.maven.jaxb.impl}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nIn the resources folder, I have a bindings.xjb file and another folder named XSD with the XSD schema.\r\n\r\nglobal.xjb file\r\n\r\n    &lt;jaxb:bindings xmlns:jaxb=&quot;https://jakarta.ee/xml/ns/jaxb&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema&quot; version=&quot;3.0&quot;&gt;\r\n    \r\n        &lt;jaxb:globalBindings&gt;\r\n    \r\n            &lt;jaxb:serializable uid=&quot;1&quot;/&gt;\r\n    \r\n            &lt;!-- date time adapter --&gt;\r\n            &lt;jaxb:javaType name=&quot;java.util.Calendar&quot; xmlType=&quot;xsi:dateTime&quot;\r\n                           parseMethod=&quot;jakarta.xml.bind.DatatypeConverter.parseDateTime&quot;\r\n                           printMethod=&quot;jakarta.xml.bind.DatatypeConverter.printDateTime&quot; /&gt;\r\n    \r\n        &lt;/jaxb:globalBindings&gt;\r\n    \r\n        &lt;jaxb:bindings schemaLocation=&quot;xsd/schema.xsd&quot;&gt;\r\n            &lt;jaxb:schemaBindings&gt;\r\n                &lt;jaxb:package name=&quot;com.test.request&quot; /&gt;\r\n            &lt;/jaxb:schemaBindings&gt;\r\n        &lt;/jaxb:bindings&gt;\r\n    \r\n    &lt;/jaxb:bindings&gt;\r\n\r\n\r\nschema.xsd file\r\n\r\n    &lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; targetNamespace=&quot;http://services.memorynotfound.com/&quot; elementFormDefault=&quot;qualified&quot;&gt;\r\n    \r\n    \r\n        &lt;xs:complexType name=&quot;CourseRequest&quot;&gt;\r\n            &lt;xs:sequence&gt;\r\n                &lt;xs:element name=&quot;id&quot; type=&quot;xs:int&quot; nillable=&quot;false&quot;/&gt;\r\n            &lt;/xs:sequence&gt;\r\n        &lt;/xs:complexType&gt;\r\n    \r\n        &lt;xs:complexType name=&quot;CourseResponse&quot;&gt;\r\n            &lt;xs:sequence&gt;\r\n                &lt;xs:element name=&quot;id&quot; type=&quot;xs:int&quot;/&gt;\r\n                &lt;xs:element name=&quot;name&quot; type=&quot;xs:string&quot;/&gt;\r\n                &lt;xs:element name=&quot;description&quot; type=&quot;xs:string&quot;/&gt;\r\n                &lt;xs:element name=&quot;created&quot; type=&quot;xs:dateTime&quot;/&gt;\r\n            &lt;/xs:sequence&gt;\r\n        &lt;/xs:complexType&gt;\r\n    &lt;/xs:schema&gt;","title":"jaxb2-maven-plugin Jakarta and java 11","body":"<p>After some days of research my baseline solution for a problem related to the same plugin is the following:</p>\n<p>pom.xml file</p>\n<pre><code>&lt;properties&gt;\n\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n\n    &lt;!-- maven compiler version --&gt;\n    &lt;maven.compiler.version&gt;3.8.1&lt;/maven.compiler.version&gt;\n\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n\n    &lt;version.maven.jakartaee&gt;9.0.0&lt;/version.maven.jakartaee&gt;\n    &lt;version.maven.jakarta.xml.bind-api&gt;3.0.0&lt;/version.maven.jakarta.xml.bind-api&gt;\n    &lt;version.maven.jakarta.ws.rs-api&gt;3.0.0&lt;/version.maven.jakarta.ws.rs-api&gt;\n    &lt;version.maven.jakarta.activation.api&gt;2.0.0&lt;/version.maven.jakarta.activation.api&gt;\n    &lt;version.maven.jaxb.impl&gt;3.0.0&lt;/version.maven.jaxb.impl&gt;\n    &lt;version.maven.jaxb.xjc&gt;3.0.0&lt;/version.maven.jaxb.xjc&gt;\n    &lt;version.maven.servlet.api&gt;5.0.0&lt;/version.maven.servlet.api&gt;\n&lt;/properties&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${maven.compiler.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\n                &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.5.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;xjc&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;xjc&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;xjbSources&gt;\n                    &lt;xjbSource&gt;src/main/resources/global.xjb&lt;/xjbSource&gt;\n                &lt;/xjbSources&gt;\n                &lt;sources&gt;\n                    &lt;source&gt;src/main/resources/xsd&lt;/source&gt;\n                &lt;/sources&gt;\n            &lt;/configuration&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n                    &lt;artifactId&gt;jaxb-xjc&lt;/artifactId&gt;\n                    &lt;version&gt;${version.maven.jaxb.xjc}&lt;/version&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;jakarta.activation&lt;/groupId&gt;\n                    &lt;artifactId&gt;jakarta.activation-api&lt;/artifactId&gt;\n                    &lt;version&gt;${version.maven.jakarta.activation.api}&lt;/version&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n                    &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n                    &lt;version&gt;${version.maven.jakarta.xml.bind-api}&lt;/version&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n                    &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n                    &lt;version&gt;${version.maven.jaxb.impl}&lt;/version&gt;\n                &lt;/dependency&gt;\n\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n        &lt;version&gt;${version.maven.jakarta.xml.bind-api}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.ws.rs&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.ws.rs-api&lt;/artifactId&gt;\n        &lt;version&gt;${version.maven.jakarta.ws.rs-api}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;${version.maven.servlet.api}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\n        &lt;version&gt;${version.maven.jakartaee}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n        &lt;version&gt;${version.maven.jaxb.impl}&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>In the resources folder, I have a bindings.xjb file and another folder named XSD with the XSD schema.</p>\n<p>global.xjb file</p>\n<pre><code>&lt;jaxb:bindings xmlns:jaxb=&quot;https://jakarta.ee/xml/ns/jaxb&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema&quot; version=&quot;3.0&quot;&gt;\n\n    &lt;jaxb:globalBindings&gt;\n\n        &lt;jaxb:serializable uid=&quot;1&quot;/&gt;\n\n        &lt;!-- date time adapter --&gt;\n        &lt;jaxb:javaType name=&quot;java.util.Calendar&quot; xmlType=&quot;xsi:dateTime&quot;\n                       parseMethod=&quot;jakarta.xml.bind.DatatypeConverter.parseDateTime&quot;\n                       printMethod=&quot;jakarta.xml.bind.DatatypeConverter.printDateTime&quot; /&gt;\n\n    &lt;/jaxb:globalBindings&gt;\n\n    &lt;jaxb:bindings schemaLocation=&quot;xsd/schema.xsd&quot;&gt;\n        &lt;jaxb:schemaBindings&gt;\n            &lt;jaxb:package name=&quot;com.test.request&quot; /&gt;\n        &lt;/jaxb:schemaBindings&gt;\n    &lt;/jaxb:bindings&gt;\n\n&lt;/jaxb:bindings&gt;\n</code></pre>\n<p>schema.xsd file</p>\n<pre><code>&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; targetNamespace=&quot;http://services.memorynotfound.com/&quot; elementFormDefault=&quot;qualified&quot;&gt;\n\n\n    &lt;xs:complexType name=&quot;CourseRequest&quot;&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element name=&quot;id&quot; type=&quot;xs:int&quot; nillable=&quot;false&quot;/&gt;\n        &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n\n    &lt;xs:complexType name=&quot;CourseResponse&quot;&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element name=&quot;id&quot; type=&quot;xs:int&quot;/&gt;\n            &lt;xs:element name=&quot;name&quot; type=&quot;xs:string&quot;/&gt;\n            &lt;xs:element name=&quot;description&quot; type=&quot;xs:string&quot;/&gt;\n            &lt;xs:element name=&quot;created&quot; type=&quot;xs:dateTime&quot;/&gt;\n        &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n&lt;/xs:schema&gt;\n</code></pre>\n"}],"owner":{"account_id":5347198,"reputation":789,"user_id":4262423,"accept_rate":66,"display_name":"Iman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21646,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":1,"score":13,"last_activity_date":1667568509,"creation_date":1601551524,"question_id":64154425,"body_markdown":"I am trying to migrate to java 11 and jakarta. I need to create java classes from XSD Files as I did in Java EE. I have changed all jaxb imports into jakarta. But I can not make jaxb2 to create classes with jakarta namspace instead of jaxb.\r\nIf I add no dependencies to the plugin part then the class will be created with javax namspace, which I do not need and the imports can not be found anyway with Java error: `package javax.xml.bind.annotation does not exist.`\r\nThe generated class is:\r\n\r\n    package org.ttt.raw.reporting.core.fussnote;\r\n    import javax.xml.bind.annotation.XmlAccessType; // I need to have jakarta.xml.bind ... here!\r\n    import javax.xml.bind.annotation.XmlAccessorType;\r\n    import javax.xml.bind.annotation.XmlElement;\r\n    import javax.xml.bind.annotation.XmlType;\r\n    /**\r\n    \r\n        Java-Klasse f&#252;r FussnoteType complex type.\r\n    \r\n        Das folgende Schemafragment gibt den erwarteten Content an, der in dieser Klasse enthalten ist.\r\n    \r\n        &lt;complexType name=&quot;FussnoteType&quot;&gt;\r\n        &lt;complexContent&gt;\r\n    \r\n        &amp;lt;restriction base=&quot;{http://www.w3.org/2001/XMLSchema}anyType&quot;&amp;gt;\r\n    \r\n          &amp;lt;sequence&amp;gt;\r\n    \r\n            &amp;lt;element name=&quot;FussnoteNummer&quot; type=&quot;{http://www.w3.org/2001/XMLSchema}string&quot;/&amp;gt;\r\n    \r\n            &amp;lt;element name=&quot;FussnoteText&quot; type=&quot;{http://www.w3.org/2001/XMLSchema}string&quot;/&amp;gt;\r\n    \r\n          &amp;lt;/sequence&amp;gt;\r\n    \r\n        &amp;lt;/restriction&amp;gt;\r\n    \r\n        &lt;/complexContent&gt;\r\n        &lt;/complexType&gt;\r\n    \r\n    */\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(name = &quot;FussnoteType&quot;, propOrder = {\r\n    &quot;fussnoteNummer&quot;,\r\n    &quot;fussnoteText&quot;\r\n    })\r\n    public class FussnoteType {\r\n    \r\n    @XmlElement(name = &quot;FussnoteNummer&quot;, required = true)\r\n    protected String fussnoteNummer;\r\n    @XmlElement(name = &quot;FussnoteText&quot;, required = true)\r\n    protected String fussnoteText;\r\n    \r\n    /**\r\n     * Ruft den Wert der fussnoteNummer-Eigenschaft ab.\r\n     * \r\n     * @return\r\n     *     possible object is\r\n     *     {@link String }\r\n     *     \r\n     */\r\n    public String getFussnoteNummer() {\r\n        return fussnoteNummer;\r\n    }\r\n    \r\n    /**\r\n     * Legt den Wert der fussnoteNummer-Eigenschaft fest.\r\n     * \r\n     * @param value\r\n     *     allowed object is\r\n     *     {@link String }\r\n     *     \r\n     */\r\n    public void setFussnoteNummer(String value) {\r\n        this.fussnoteNummer = value;\r\n    }\r\n    \r\n    /**\r\n     * Ruft den Wert der fussnoteText-Eigenschaft ab.\r\n     * \r\n     * @return\r\n     *     possible object is\r\n     *     {@link String }\r\n     *     \r\n     */\r\n    public String getFussnoteText() {\r\n        return fussnoteText;\r\n    }\r\n    \r\n    /**\r\n     * Legt den Wert der fussnoteText-Eigenschaft fest.\r\n     * \r\n     * @param value\r\n     *     allowed object is\r\n     *     {@link String }\r\n     *     \r\n     */\r\n    public void setFussnoteText(String value) {\r\n        this.fussnoteText = value;\r\n    }\r\n    \r\n    }\r\n\r\nIf I add `jakarta.xml.bind` then the FussnoteType class will not be generated at all an I get these errors:\r\n\r\n    [ERROR] Failed to execute goal org.codehaus.mojo:jaxb2-maven-plugin:2.5.0:xjc (xjc) on project raw-reporting-core: A Plug-in could not be loaded: &quot;java.util.ServiceConfigurationError: com.sun.tools.xjc.Plugin: com.sun.tools.xjc.addon.accessors.PluginImpl Unable to get public no-arg constructor\r\n    [ERROR] at java.base/java.util.ServiceLoader.fail(ServiceLoader.java:581)\r\n    [ERROR] at java.base/java.util.ServiceLoader.getConstructor(ServiceLoader.java:672)\r\n    [ERROR] at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNextService(ServiceLoader.java:1232)\r\n    [ERROR] at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNext(ServiceLoader.java:1264)\r\n    [ERROR] at java.base/java.util.ServiceLoader$2.hasNext(ServiceLoader.java:1299)\r\n    [ERROR] at java.base/java.util.ServiceLoader$3.hasNext(ServiceLoader.java:1384)\r\n    [ERROR] at com.sun.tools.xjc.Options.findServices(Options.java:979)\r\n    [ERROR] at com.sun.tools.xjc.Options.getAllPlugins(Options.java:355)\r\n    [ERROR] at com.sun.tools.xjc.Options.parseArgument(Options.java:694)\r\n    [ERROR] at com.sun.tools.xjc.Driver$OptionsEx.parseArgument(Driver.java:502)\r\n    [ERROR] at com.sun.tools.xjc.Options.parseArguments(Options.java:827)\r\n    [ERROR] at com.sun.tools.xjc.Driver.run(Driver.java:231)\r\n    [ERROR] at org.codehaus.mojo.jaxb2.javageneration.AbstractJavaGeneratorMojo.performExecution(AbstractJavaGeneratorMojo.java:475)\r\n    [ERROR] at org.codehaus.mojo.jaxb2.AbstractJaxbMojo.execute(AbstractJaxbMojo.java:337)\r\n    [ERROR] at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\r\n    [ERROR] at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:210)\r\n    [ERROR] at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:156)\r\n    [ERROR] at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:148)\r\n    [ERROR] at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\r\n    [ERROR] at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\r\n    [ERROR] at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)\r\n    [ERROR] at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\r\n    [ERROR] at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:305)\r\n    [ERROR] at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)\r\n    [ERROR] at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)\r\n    [ERROR] at org.apache.maven.cli.MavenCli.execute(MavenCli.java:957)\r\n    [ERROR] at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:289)\r\n    [ERROR] at org.apache.maven.cli.MavenCli.main(MavenCli.java:193)\r\n    [ERROR] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    [ERROR] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    [ERROR] at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    [ERROR] at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    [ERROR] at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\r\n    [ERROR] at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\r\n    [ERROR] at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\r\n    [ERROR] at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\r\n    [ERROR] at org.codehaus.classworlds.Launcher.main(Launcher.java:47)\r\n    [ERROR] Caused by: java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlAccessType\r\n    [ERROR] at java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\r\n    [ERROR] at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3137)\r\n    [ERROR] at java.base/java.lang.Class.getConstructor0(Class.java:3342)\r\n    [ERROR] at java.base/java.lang.Class.getConstructor(Class.java:2151)\r\n    [ERROR] at java.base/java.util.ServiceLoader$1.run(ServiceLoader.java:659)\r\n    [ERROR] at java.base/java.util.ServiceLoader$1.run(ServiceLoader.java:656)\r\n    [ERROR] at java.base/java.security.AccessController.doPrivileged(Native Method)\r\n    [ERROR] at java.base/java.util.ServiceLoader.getConstructor(ServiceLoader.java:667)\r\n    [ERROR] ... 35 more\r\n    [ERROR] Caused by: java.lang.ClassNotFoundException: javax.xml.bind.annotation.XmlAccessType\r\n    [ERROR] at org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:50)\r\n    [ERROR] at org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass(ClassRealm.java:271)\r\n    [ERROR] at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:247)\r\n    [ERROR] at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:239)\r\n    [ERROR] ... 43 more\r\n\r\nThe pom is:\r\n\r\n    &lt;parent&gt;\r\n    \t&lt;groupId&gt;org.ttt.baw.reporting&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;parent-baw-reporting&lt;/artifactId&gt;\r\n    \t&lt;version&gt;${revision}&lt;/version&gt;\r\n    \t&lt;relativePath&gt;../parent-baw-reporting&lt;/relativePath&gt;\r\n    &lt;/parent&gt;\r\n    \r\n    &lt;artifactId&gt;baw-reporting-core&lt;/artifactId&gt;\r\n    &lt;name&gt;RAW-Reporting-Core&lt;/name&gt;\r\n    &lt;description&gt;\r\n    \t- Technisches Modul\r\n    \t- Die technische Implementierung des Reportings\r\n    \t- Keine Fachlichkeit!\r\n    &lt;/description&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.ttt.baw.reporting&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;baw-config-service&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${project.version}&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.ttt.baw.reporting&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;baw-io&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${project.version}&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.ttt.baw.reporting&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;baw-results-core&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${project.version}&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.ttt.swaw.pl&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;swaw-pl&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;!-- API, java.xml.bind module --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.0-RC3&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t&lt;!-- Tests --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.google.jimfs&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jimfs&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    \r\n    &lt;build&gt;\r\n    \t&lt;plugins&gt;\r\n    \t\t&lt;!-- @see http://www.mojohaus.org/jaxb2-maven-plugin/Documentation/v2.2/example_xjc_basic.html --&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.5.0&lt;/version&gt;\r\n    \t\t\t&lt;executions&gt;\r\n    \t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t&lt;id&gt;xjc&lt;/id&gt;\r\n    \t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t&lt;goal&gt;xjc&lt;/goal&gt;\r\n    \t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t&lt;/execution&gt;\r\n    \t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;configuration&gt;\r\n    \t\t\t\t&lt;sources&gt;\r\n    \t\t\t\t\t&lt;source&gt;src/main/resources/reports/core/fussnote/xsd/fussnote.xsd&lt;/source&gt;\r\n    \t\t\t\t&lt;/sources&gt;\r\n    \t\t\t\t&lt;packageName&gt;org.ttt.baw.reporting.core.fussnote&lt;/packageName&gt;\r\n    \t\t\t\t&lt;outputDirectory&gt;target/generated-sources&lt;/outputDirectory&gt;\r\n    \t\t\t\t&lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\r\n    \t\t\t\t&lt;xsdPathWithinArtifact&gt;.&lt;/xsdPathWithinArtifact&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.0.0-RC3&lt;/version&gt;\r\n    \t\t\t\t&lt;/dependency&gt;\r\n    \t\t\t&lt;/dependencies&gt;\r\n    \t\t&lt;/plugin&gt;\r\n    \t&lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n","title":"jaxb2-maven-plugin Jakarta and java 11","body":"<p>I am trying to migrate to java 11 and jakarta. I need to create java classes from XSD Files as I did in Java EE. I have changed all jaxb imports into jakarta. But I can not make jaxb2 to create classes with jakarta namspace instead of jaxb.\nIf I add no dependencies to the plugin part then the class will be created with javax namspace, which I do not need and the imports can not be found anyway with Java error: <code>package javax.xml.bind.annotation does not exist.</code>\nThe generated class is:</p>\n<pre><code>package org.ttt.raw.reporting.core.fussnote;\nimport javax.xml.bind.annotation.XmlAccessType; // I need to have jakarta.xml.bind ... here!\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlType;\n/**\n\n    Java-Klasse für FussnoteType complex type.\n\n    Das folgende Schemafragment gibt den erwarteten Content an, der in dieser Klasse enthalten ist.\n\n    &lt;complexType name=&quot;FussnoteType&quot;&gt;\n    &lt;complexContent&gt;\n\n    &amp;lt;restriction base=&quot;{http://www.w3.org/2001/XMLSchema}anyType&quot;&amp;gt;\n\n      &amp;lt;sequence&amp;gt;\n\n        &amp;lt;element name=&quot;FussnoteNummer&quot; type=&quot;{http://www.w3.org/2001/XMLSchema}string&quot;/&amp;gt;\n\n        &amp;lt;element name=&quot;FussnoteText&quot; type=&quot;{http://www.w3.org/2001/XMLSchema}string&quot;/&amp;gt;\n\n      &amp;lt;/sequence&amp;gt;\n\n    &amp;lt;/restriction&amp;gt;\n\n    &lt;/complexContent&gt;\n    &lt;/complexType&gt;\n\n*/\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;FussnoteType&quot;, propOrder = {\n&quot;fussnoteNummer&quot;,\n&quot;fussnoteText&quot;\n})\npublic class FussnoteType {\n\n@XmlElement(name = &quot;FussnoteNummer&quot;, required = true)\nprotected String fussnoteNummer;\n@XmlElement(name = &quot;FussnoteText&quot;, required = true)\nprotected String fussnoteText;\n\n/**\n * Ruft den Wert der fussnoteNummer-Eigenschaft ab.\n * \n * @return\n *     possible object is\n *     {@link String }\n *     \n */\npublic String getFussnoteNummer() {\n    return fussnoteNummer;\n}\n\n/**\n * Legt den Wert der fussnoteNummer-Eigenschaft fest.\n * \n * @param value\n *     allowed object is\n *     {@link String }\n *     \n */\npublic void setFussnoteNummer(String value) {\n    this.fussnoteNummer = value;\n}\n\n/**\n * Ruft den Wert der fussnoteText-Eigenschaft ab.\n * \n * @return\n *     possible object is\n *     {@link String }\n *     \n */\npublic String getFussnoteText() {\n    return fussnoteText;\n}\n\n/**\n * Legt den Wert der fussnoteText-Eigenschaft fest.\n * \n * @param value\n *     allowed object is\n *     {@link String }\n *     \n */\npublic void setFussnoteText(String value) {\n    this.fussnoteText = value;\n}\n\n}\n</code></pre>\n<p>If I add <code>jakarta.xml.bind</code> then the FussnoteType class will not be generated at all an I get these errors:</p>\n<pre><code>[ERROR] Failed to execute goal org.codehaus.mojo:jaxb2-maven-plugin:2.5.0:xjc (xjc) on project raw-reporting-core: A Plug-in could not be loaded: &quot;java.util.ServiceConfigurationError: com.sun.tools.xjc.Plugin: com.sun.tools.xjc.addon.accessors.PluginImpl Unable to get public no-arg constructor\n[ERROR] at java.base/java.util.ServiceLoader.fail(ServiceLoader.java:581)\n[ERROR] at java.base/java.util.ServiceLoader.getConstructor(ServiceLoader.java:672)\n[ERROR] at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNextService(ServiceLoader.java:1232)\n[ERROR] at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNext(ServiceLoader.java:1264)\n[ERROR] at java.base/java.util.ServiceLoader$2.hasNext(ServiceLoader.java:1299)\n[ERROR] at java.base/java.util.ServiceLoader$3.hasNext(ServiceLoader.java:1384)\n[ERROR] at com.sun.tools.xjc.Options.findServices(Options.java:979)\n[ERROR] at com.sun.tools.xjc.Options.getAllPlugins(Options.java:355)\n[ERROR] at com.sun.tools.xjc.Options.parseArgument(Options.java:694)\n[ERROR] at com.sun.tools.xjc.Driver$OptionsEx.parseArgument(Driver.java:502)\n[ERROR] at com.sun.tools.xjc.Options.parseArguments(Options.java:827)\n[ERROR] at com.sun.tools.xjc.Driver.run(Driver.java:231)\n[ERROR] at org.codehaus.mojo.jaxb2.javageneration.AbstractJavaGeneratorMojo.performExecution(AbstractJavaGeneratorMojo.java:475)\n[ERROR] at org.codehaus.mojo.jaxb2.AbstractJaxbMojo.execute(AbstractJaxbMojo.java:337)\n[ERROR] at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\n[ERROR] at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:210)\n[ERROR] at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:156)\n[ERROR] at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:148)\n[ERROR] at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\n[ERROR] at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\n[ERROR] at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)\n[ERROR] at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\n[ERROR] at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:305)\n[ERROR] at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)\n[ERROR] at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)\n[ERROR] at org.apache.maven.cli.MavenCli.execute(MavenCli.java:957)\n[ERROR] at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:289)\n[ERROR] at org.apache.maven.cli.MavenCli.main(MavenCli.java:193)\n[ERROR] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[ERROR] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n[ERROR] at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n[ERROR] at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n[ERROR] at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\n[ERROR] at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\n[ERROR] at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\n[ERROR] at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\n[ERROR] at org.codehaus.classworlds.Launcher.main(Launcher.java:47)\n[ERROR] Caused by: java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlAccessType\n[ERROR] at java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\n[ERROR] at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3137)\n[ERROR] at java.base/java.lang.Class.getConstructor0(Class.java:3342)\n[ERROR] at java.base/java.lang.Class.getConstructor(Class.java:2151)\n[ERROR] at java.base/java.util.ServiceLoader$1.run(ServiceLoader.java:659)\n[ERROR] at java.base/java.util.ServiceLoader$1.run(ServiceLoader.java:656)\n[ERROR] at java.base/java.security.AccessController.doPrivileged(Native Method)\n[ERROR] at java.base/java.util.ServiceLoader.getConstructor(ServiceLoader.java:667)\n[ERROR] ... 35 more\n[ERROR] Caused by: java.lang.ClassNotFoundException: javax.xml.bind.annotation.XmlAccessType\n[ERROR] at org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:50)\n[ERROR] at org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass(ClassRealm.java:271)\n[ERROR] at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:247)\n[ERROR] at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:239)\n[ERROR] ... 43 more\n</code></pre>\n<p>The pom is:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.ttt.baw.reporting&lt;/groupId&gt;\n    &lt;artifactId&gt;parent-baw-reporting&lt;/artifactId&gt;\n    &lt;version&gt;${revision}&lt;/version&gt;\n    &lt;relativePath&gt;../parent-baw-reporting&lt;/relativePath&gt;\n&lt;/parent&gt;\n\n&lt;artifactId&gt;baw-reporting-core&lt;/artifactId&gt;\n&lt;name&gt;RAW-Reporting-Core&lt;/name&gt;\n&lt;description&gt;\n    - Technisches Modul\n    - Die technische Implementierung des Reportings\n    - Keine Fachlichkeit!\n&lt;/description&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.ttt.baw.reporting&lt;/groupId&gt;\n        &lt;artifactId&gt;baw-config-service&lt;/artifactId&gt;\n        &lt;version&gt;${project.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.ttt.baw.reporting&lt;/groupId&gt;\n        &lt;artifactId&gt;baw-io&lt;/artifactId&gt;\n        &lt;version&gt;${project.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.ttt.baw.reporting&lt;/groupId&gt;\n        &lt;artifactId&gt;baw-results-core&lt;/artifactId&gt;\n        &lt;version&gt;${project.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.ttt.swaw.pl&lt;/groupId&gt;\n        &lt;artifactId&gt;swaw-pl&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- API, java.xml.bind module --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0-RC3&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;!-- Tests --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.jimfs&lt;/groupId&gt;\n        &lt;artifactId&gt;jimfs&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;!-- @see http://www.mojohaus.org/jaxb2-maven-plugin/Documentation/v2.2/example_xjc_basic.html --&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.5.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;xjc&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;xjc&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;sources&gt;\n                    &lt;source&gt;src/main/resources/reports/core/fussnote/xsd/fussnote.xsd&lt;/source&gt;\n                &lt;/sources&gt;\n                &lt;packageName&gt;org.ttt.baw.reporting.core.fussnote&lt;/packageName&gt;\n                &lt;outputDirectory&gt;target/generated-sources&lt;/outputDirectory&gt;\n                &lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\n                &lt;xsdPathWithinArtifact&gt;.&lt;/xsdPathWithinArtifact&gt;\n            &lt;/configuration&gt;\n            &lt;dependencies&gt;\n            &lt;dependency&gt;\n                    &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n                    &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.0-RC3&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":["java","android","okhttp"],"comments":[{"owner":{"account_id":3991579,"reputation":19586,"user_id":3290339,"display_name":"Onik"},"score":1,"creation_date":1667565463,"post_id":74317156,"comment_id":131202220,"body_markdown":"Set result in `onResponse(...)`","body":"Set result in <code>onResponse(...)</code>"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1667565779,"post_id":74317156,"comment_id":131202334,"body_markdown":"`After that i close the secondary activity` Pretty unclear when you actually do that. You did not tell and there is no code. We cannot see when and where you return data. But as said by Onik you should do all in onResponse().","body":"<code>After that i close the secondary activity</code> Pretty unclear when you actually do that. You did not tell and there is no code. We cannot see when and where you return data. But as said by Onik you should do all in onResponse()."},{"owner":{"account_id":8720587,"reputation":163,"user_id":6523875,"display_name":"StudentOfTheGame"},"score":0,"creation_date":1667565887,"post_id":74317156,"comment_id":131202376,"body_markdown":"@blackapps  this is  how i close the activity.\nIntent resultIntent = new Intent();\nresultIntent.putExtra(&quot;obj&quot;, obj);\nsetResult(1, resultIntent);","body":"@blackapps  this is  how i close the activity. Intent resultIntent = new Intent(); resultIntent.putExtra(&quot;obj&quot;, obj); setResult(1, resultIntent);"}],"answers":[{"tags":[],"owner":{"account_id":18712697,"reputation":564,"user_id":13642440,"display_name":"Jan Rozenbajgier"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667568253,"creation_date":1667568253,"answer_id":74317748,"question_id":74317156,"body_markdown":"You can use `java.util.concurrent.CountDownLatch`:\r\n\r\n    CountDownLatch latch = new CountDownLatch(1);\r\n\r\n    OkHttpClient client = new OkHttpClient();\r\n    RequestBody body = RequestBody.create(MediaType.parse(&quot;application/json; charset=utf-8&quot;), someRequest.toString());\r\n    Request request = new Request.Builder().url(myURL).post(body).build();\r\n    client.newCall(request).enqueue(new Callback() {\r\n\r\n        @Override\r\n        public void onFailure(@NonNull Call call, @NonNull IOException e) {\r\n            System.out.println(e);\r\n            //Add line here\r\n            latch.countDown();\r\n        }\r\n\r\n        @Override\r\n        public void onResponse(@NonNull Call call, @NonNull Response response) throws IOException {\r\n            System.out.println(response.body().string());\r\n            //Add line here\r\n            latch.countDown();\r\n        }\r\n\r\n    });\r\n\r\n    try {\r\n        //Await method will stop main thread until calling Latch.countDown();\r\n        latch.await(10, //Write here timeout you want\r\n                TimeUnit.SECONDS);\r\n    } catch (InterruptedException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n    //Do your stuff with UI here","title":"Android use OkHttpClient on main thread","body":"<p>You can use <code>java.util.concurrent.CountDownLatch</code>:</p>\n<pre><code>CountDownLatch latch = new CountDownLatch(1);\n\nOkHttpClient client = new OkHttpClient();\nRequestBody body = RequestBody.create(MediaType.parse(&quot;application/json; charset=utf-8&quot;), someRequest.toString());\nRequest request = new Request.Builder().url(myURL).post(body).build();\nclient.newCall(request).enqueue(new Callback() {\n\n    @Override\n    public void onFailure(@NonNull Call call, @NonNull IOException e) {\n        System.out.println(e);\n        //Add line here\n        latch.countDown();\n    }\n\n    @Override\n    public void onResponse(@NonNull Call call, @NonNull Response response) throws IOException {\n        System.out.println(response.body().string());\n        //Add line here\n        latch.countDown();\n    }\n\n});\n\ntry {\n    //Await method will stop main thread until calling Latch.countDown();\n    latch.await(10, //Write here timeout you want\n            TimeUnit.SECONDS);\n} catch (InterruptedException e) {\n    e.printStackTrace();\n}\n\n//Do your stuff with UI here\n</code></pre>\n"}],"owner":{"account_id":8720587,"reputation":163,"user_id":6523875,"display_name":"StudentOfTheGame"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":522,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74317748,"answer_count":1,"score":0,"last_activity_date":1667568253,"creation_date":1667565247,"question_id":74317156,"body_markdown":"In my main activity, i am opening a new activity like this:\r\n\r\n```\r\nsomeActivityResultLauncher.launch(myIntent);\r\n```\r\n\r\nIn my secondary activity i am invoking a REST api with like this:\r\n\r\n```\r\nOkHttpClient client = new OkHttpClient();\r\nRequestBody body = RequestBody.create(MediaType.parse(&quot;application/json; charset=utf-8&quot;), someRequest.toString());\r\nRequest request = new Request.Builder().url(myURL).post(body).build();\r\nclient.newCall(request).enqueue(new Callback() {\r\n    @Override\r\n    public void onFailure(@NonNull Call call, @NonNull IOException e) {\r\n        System.out.println(e);\r\n    }\r\n\r\n    @Override\r\n    public void onResponse(@NonNull Call call, @NonNull Response response) throws IOException {\r\n        System.out.println(response.body().string());\r\n    }\r\n});\r\n```\r\n\r\nAfter that i close the secondary activity returning an object with data i retrieved from the REST api to the main activity.\r\n\r\nThe problem is that the HTTP call executes on the seperate thread and the main thread is executed before the HTTP call, which means the secondary activity returns the object before it is filled with data.\r\n\r\nI tried execute() in order to wait for the HTTP response before returning to the main activity, but this generates an android.os.NetworkOnMainThreadException. \r\n\r\nHow can i force it to wait for a response before returning to the main activity?","title":"Android use OkHttpClient on main thread","body":"<p>In my main activity, i am opening a new activity like this:</p>\n<pre><code>someActivityResultLauncher.launch(myIntent);\n</code></pre>\n<p>In my secondary activity i am invoking a REST api with like this:</p>\n<pre><code>OkHttpClient client = new OkHttpClient();\nRequestBody body = RequestBody.create(MediaType.parse(&quot;application/json; charset=utf-8&quot;), someRequest.toString());\nRequest request = new Request.Builder().url(myURL).post(body).build();\nclient.newCall(request).enqueue(new Callback() {\n    @Override\n    public void onFailure(@NonNull Call call, @NonNull IOException e) {\n        System.out.println(e);\n    }\n\n    @Override\n    public void onResponse(@NonNull Call call, @NonNull Response response) throws IOException {\n        System.out.println(response.body().string());\n    }\n});\n</code></pre>\n<p>After that i close the secondary activity returning an object with data i retrieved from the REST api to the main activity.</p>\n<p>The problem is that the HTTP call executes on the seperate thread and the main thread is executed before the HTTP call, which means the secondary activity returns the object before it is filled with data.</p>\n<p>I tried execute() in order to wait for the HTTP response before returning to the main activity, but this generates an android.os.NetworkOnMainThreadException.</p>\n<p>How can i force it to wait for a response before returning to the main activity?</p>\n"},{"tags":["java","swing","jlabel"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1667568495,"post_id":74317357,"comment_id":131203275,"body_markdown":"https://docs.oracle.com/javase/tutorial/uiswing/layout/","body":"<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/layout</a>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1667571919,"post_id":74317357,"comment_id":131204663,"body_markdown":"(1-) *JLabel doesnt change its size or alignment.* - that is not a requirement. What do you expect to happen? The size of the label is the size of the text. How should the size change? Do you want the text to be bigger? Again what kind of alignment are you expecting. Should it be left/right/center aligned? Any question should state what you see and what you expect to see. Also, why are you using &quot;setAlignmentX&quot;. You stated vertical alignment works when you use &quot;setVertcalAlignment&quot;, so why wouldn&#39;t you use &quot;setHorizontalAlignment&quot;?","body":"(1-) <i>JLabel doesnt change its size or alignment.</i> - that is not a requirement. What do you expect to happen? The size of the label is the size of the text. How should the size change? Do you want the text to be bigger? Again what kind of alignment are you expecting. Should it be left/right/center aligned? Any question should state what you see and what you expect to see. Also, why are you using &quot;setAlignmentX&quot;. You stated vertical alignment works when you use &quot;setVertcalAlignment&quot;, so why wouldn&#39;t you use &quot;setHorizontalAlignment&quot;?"}],"answers":[{"tags":[],"owner":{"account_id":23057660,"reputation":477,"user_id":17173476,"display_name":"Vinz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667568069,"creation_date":1667568069,"answer_id":74317716,"question_id":74317357,"body_markdown":"Add this line to your code: `g.setLayout(new FlowLayout());`.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nYou can read more on Layouts and how to use them [here][2].\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fzLel.png\r\n  [2]: https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html","title":"Jlabel size and alignment wont change","body":"<p>Add this line to your code: <code>g.setLayout(new FlowLayout());</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/fzLel.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fzLel.png\" alt=\"enter image description here\" /></a></p>\n<p>You can read more on Layouts and how to use them <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"display_name":"user20137453"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74317716,"answer_count":1,"score":-2,"last_activity_date":1667568069,"creation_date":1667566339,"question_id":74317357,"body_markdown":"I am trying to make a rock paper scissors game for school and the title JLabel doesnt change its size or alignment. No matter what i put in `title.setAlignmentX();` it doesnt change but the vertical alignment works fine. \r\n\r\n\r\n \r\n       public class Game extends JFrame implements MouseListener, ActionListener,KeyListener {\r\n       public static void main(String[] args) {\r\n             Game g = new Game();\r\n\r\n\r\n        //frame\r\n        JLabel title = new JLabel(&quot;ROCK PAPER SCISSORS&quot;);\r\n        title.setPreferredSize(new Dimension(300,150));\r\n        title.setAlignmentX(400);\r\n        title.setVerticalAlignment(SwingConstants.TOP);\r\n        title.setForeground(Color.black);\r\n        g.setTitle(&quot;rockpaperscissors&quot;);\r\n        g.setVisible(true);\r\n        g.setResizable(false);\r\n        g.setBounds(0,0,800,800);\r\n        g.getContentPane().setBackground(Color.green);\r\n        g.add(title);","title":"Jlabel size and alignment wont change","body":"<p>I am trying to make a rock paper scissors game for school and the title JLabel doesnt change its size or alignment. No matter what i put in <code>title.setAlignmentX();</code> it doesnt change but the vertical alignment works fine.</p>\n<pre><code>   public class Game extends JFrame implements MouseListener, ActionListener,KeyListener {\n   public static void main(String[] args) {\n         Game g = new Game();\n\n\n    //frame\n    JLabel title = new JLabel(&quot;ROCK PAPER SCISSORS&quot;);\n    title.setPreferredSize(new Dimension(300,150));\n    title.setAlignmentX(400);\n    title.setVerticalAlignment(SwingConstants.TOP);\n    title.setForeground(Color.black);\n    g.setTitle(&quot;rockpaperscissors&quot;);\n    g.setVisible(true);\n    g.setResizable(false);\n    g.setBounds(0,0,800,800);\n    g.getContentPane().setBackground(Color.green);\n    g.add(title);\n</code></pre>\n"},{"tags":["java","scala","playframework","sbt","sbt-assembly"],"comments":[{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1667590946,"post_id":74317640,"comment_id":131210994,"body_markdown":"What do you mean disable compiling ?! Code have to be compiled if you want to run it afterwards.","body":"What do you mean disable compiling ?! Code have to be compiled if you want to run it afterwards."},{"owner":{"account_id":14542791,"reputation":35,"user_id":10503950,"display_name":"moein zargarzadeh"},"score":0,"creation_date":1667594115,"post_id":74317640,"comment_id":131211892,"body_markdown":"@Ga&#235;lJ for example if I want to build two jar files with a source code, but to prevent compiling extra source code, I want to pass a flag or a config in compile time and disable building some section of code.","body":"@Ga&#235;lJ for example if I want to build two jar files with a source code, but to prevent compiling extra source code, I want to pass a flag or a config in compile time and disable building some section of code."},{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":2,"creation_date":1667598209,"post_id":74317640,"comment_id":131212847,"body_markdown":"Look at SBT submodules then. Each submodule will produce a JAR.","body":"Look at SBT submodules then. Each submodule will produce a JAR."},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1670458138,"post_id":74317640,"comment_id":131883191,"body_markdown":"Can you comment out the section of code that shouldn&#39;t be compiled?","body":"Can you comment out the section of code that shouldn&#39;t be compiled?"},{"owner":{"account_id":14542791,"reputation":35,"user_id":10503950,"display_name":"moein zargarzadeh"},"score":0,"creation_date":1674815678,"post_id":74317640,"comment_id":132798167,"body_markdown":"@DmytroMitin Is it possible to comment section of codes in compile time automatically?","body":"@DmytroMitin Is it possible to comment section of codes in compile time automatically?"},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":1,"creation_date":1674817444,"post_id":74317640,"comment_id":132798646,"body_markdown":"@moeinzargarzadeh https://stackoverflow.com/questions/61796570/scala-conditional-compilation","body":"@moeinzargarzadeh <a href=\"https://stackoverflow.com/questions/61796570/scala-conditional-compilation\" title=\"scala conditional compilation\">stackoverflow.com/questions/61796570/&hellip;</a>"}],"owner":{"account_id":14542791,"reputation":35,"user_id":10503950,"display_name":"moein zargarzadeh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667567747,"creation_date":1667567747,"question_id":74317640,"body_markdown":"I want to disable compiling some section code and system jobs in the Scala Play Framework for example pass a flag at the assembly time jar file to disable compiling some sections.","title":"How to disable compiling some section of code in Scala Play Framework?","body":"<p>I want to disable compiling some section code and system jobs in the Scala Play Framework for example pass a flag at the assembly time jar file to disable compiling some sections.</p>\n"},{"tags":["java","ubuntu","ssh"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667551559,"post_id":74313911,"comment_id":131197469,"body_markdown":"Did you use the `-X` option?","body":"Did you use the <code>-X</code> option?"},{"owner":{"account_id":26826794,"reputation":23,"user_id":20415322,"display_name":"Jackolix"},"score":0,"creation_date":1667557113,"post_id":74313911,"comment_id":131199321,"body_markdown":"You mean &quot;java &lt;program&gt; -X&quot;? Same error","body":"You mean &quot;java &lt;program&gt; -X&quot;? Same error"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667557457,"post_id":74313911,"comment_id":131199432,"body_markdown":"No, I mean `ssh -X hostname java -cp somepath x.y.z.Foo` Of course, you need X running on the client too","body":"No, I mean <code>ssh -X hostname java -cp somepath x.y.z.Foo</code> Of course, you need X running on the client too"},{"owner":{"account_id":26826794,"reputation":23,"user_id":20415322,"display_name":"Jackolix"},"score":0,"creation_date":1667558120,"post_id":74313911,"comment_id":131199659,"body_markdown":"Same error. But im getting an error when starting local: Failed to load module „canberra-gtk-module“ and „WARNING: lavapipe is not a conformant vulkan implementation, testing use only. Opening in existing browser session.“ But it works","body":"Same error. But im getting an error when starting local: Failed to load module „canberra-gtk-module“ and „WARNING: lavapipe is not a conformant vulkan implementation, testing use only. Opening in existing browser session.“ But it works"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667558342,"post_id":74313911,"comment_id":131199737,"body_markdown":"That&#39;s quite a bit ask. You&#39;re hoping a remote java app is going to open the remote browser then open a link?","body":"That&#39;s quite a bit ask. You&#39;re hoping a remote java app is going to open the remote browser then open a link?"},{"owner":{"account_id":26826794,"reputation":23,"user_id":20415322,"display_name":"Jackolix"},"score":0,"creation_date":1667558825,"post_id":74313911,"comment_id":131199918,"body_markdown":"I sent via the client, which is on my pc, a string over socket with the link to the server, who should open it in his default browser. Code https://hastebin.com/arojoxener.swift","body":"I sent via the client, which is on my pc, a string over socket with the link to the server, who should open it in his default browser. Code <a href=\"https://hastebin.com/arojoxener.swift\" rel=\"nofollow noreferrer\">hastebin.com/arojoxener.swift</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667560533,"post_id":74313911,"comment_id":131200546,"body_markdown":"The first thing I&#39;d do is to run the server and try a client from the same host","body":"The first thing I&#39;d do is to run the server and try a client from the same host"},{"owner":{"account_id":26826794,"reputation":23,"user_id":20415322,"display_name":"Jackolix"},"score":0,"creation_date":1667561631,"post_id":74313911,"comment_id":131200933,"body_markdown":"As I said, It works when I had the server and client local","body":"As I said, It works when I had the server and client local"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667562504,"post_id":74313911,"comment_id":131201233,"body_markdown":"Are you expecting to see the browser on the client?","body":"Are you expecting to see the browser on the client?"},{"owner":{"account_id":26826794,"reputation":23,"user_id":20415322,"display_name":"Jackolix"},"score":0,"creation_date":1667562796,"post_id":74313911,"comment_id":131201324,"body_markdown":"No, I just should open the browser on the host","body":"No, I just should open the browser on the host"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667562886,"post_id":74313911,"comment_id":131201353,"body_markdown":"In that case you actually *don&#39;t* want `-X`. I tried to test but it refused to BROWSE when I did so","body":"In that case you actually <i>don&#39;t</i> want <code>-X</code>. I tried to test but it refused to BROWSE when I did so"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667563268,"post_id":74313911,"comment_id":131201472,"body_markdown":"OK, just tested it again the other way around. It worked","body":"OK, just tested it again the other way around. It worked"},{"owner":{"account_id":26826794,"reputation":23,"user_id":20415322,"display_name":"Jackolix"},"score":0,"creation_date":1667564394,"post_id":74313911,"comment_id":131201846,"body_markdown":"https://imgur.com/a/IVcDvuT","body":"<a href=\"https://imgur.com/a/IVcDvuT\" rel=\"nofollow noreferrer\">imgur.com/a/IVcDvuT</a>"},{"owner":{"account_id":26826794,"reputation":23,"user_id":20415322,"display_name":"Jackolix"},"score":0,"creation_date":1667565355,"post_id":74313911,"comment_id":131202182,"body_markdown":"Other way around?","body":"Other way around?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667566646,"post_id":74313911,"comment_id":131202616,"body_markdown":"I just switched around the machines I used client-server-wise and it worked","body":"I just switched around the machines I used client-server-wise and it worked"}],"answers":[{"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667568503,"post_id":74317574,"comment_id":131203279,"body_markdown":"Oh yes, you would need a gui running on the machine with the browser. But ssh doesn&#39;t really care about whether X is running (unless of course you want to forward it). As I mentioned, you don&#39;t want or need to forward X so if &#39;things&#39; are OK it should works as is, as it did with me once","body":"Oh yes, you would need a gui running on the machine with the browser. But ssh doesn&#39;t really care about whether X is running (unless of course you want to forward it). As I mentioned, you don&#39;t want or need to forward X so if &#39;things&#39; are OK it should works as is, as it did with me once"},{"owner":{"account_id":26826794,"reputation":23,"user_id":20415322,"display_name":"Jackolix"},"score":0,"creation_date":1667572161,"post_id":74317574,"comment_id":131204769,"body_markdown":"What do you mean with X?","body":"What do you mean with X?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667572750,"post_id":74317574,"comment_id":131205001,"body_markdown":"X11 windowing  is what I mean","body":"X11 windowing  is what I mean"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1667876197,"post_id":74317574,"comment_id":131266999,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/74317574/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26826794,"reputation":23,"user_id":20415322,"display_name":"Jackolix"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667567412,"creation_date":1667567412,"answer_id":74317574,"question_id":74313911,"body_markdown":"I know now what the problem is. SSH makes a new session without a gui, even if you connected with Remote Desktop. And you cant open a browser in a session with no gui.\r\n\r\nThe solution I have is, that I connect via remote desktop to the server and open my program in the terminal. My program has now a session with gui and the browser opens.","title":"Exception in thread &quot;main&quot; java.awt.HeadlessException: No X11 DISPLAY variable was set, when starting java program per ssh","body":"<p>I know now what the problem is. SSH makes a new session without a gui, even if you connected with Remote Desktop. And you cant open a browser in a session with no gui.</p>\n<p>The solution I have is, that I connect via remote desktop to the server and open my program in the terminal. My program has now a session with gui and the browser opens.</p>\n"}],"owner":{"account_id":26826794,"reputation":23,"user_id":20415322,"display_name":"Jackolix"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74317574,"answer_count":1,"score":1,"last_activity_date":1667567412,"creation_date":1667549444,"question_id":74313911,"body_markdown":"My java program should open the default browser and open a link. When I local start the java program on my ubuntu server it works just fine, but when I start the program per ssh it gives me this error: \r\n\r\n```\r\nException in thread &quot;main&quot; java.awt.HeadlessException: \r\nNo X11 DISPLAY variable was set,\r\nbut this program performed an operation which requires it.\r\n        at java.desktop/java.awt.Desktop.getDesktop(Desktop.java:302)\r\n        at Server.openURL(Server.java:69)\r\n        at Server.main(Server.java:58)\r\n```\r\n\r\nMaybe when starting per ssh it uses a headless version of java?\r\nThanks!\r\n\r\n-------------------------------------------------------------------","title":"Exception in thread &quot;main&quot; java.awt.HeadlessException: No X11 DISPLAY variable was set, when starting java program per ssh","body":"<p>My java program should open the default browser and open a link. When I local start the java program on my ubuntu server it works just fine, but when I start the program per ssh it gives me this error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.awt.HeadlessException: \nNo X11 DISPLAY variable was set,\nbut this program performed an operation which requires it.\n        at java.desktop/java.awt.Desktop.getDesktop(Desktop.java:302)\n        at Server.openURL(Server.java:69)\n        at Server.main(Server.java:58)\n</code></pre>\n<p>Maybe when starting per ssh it uses a headless version of java?\nThanks!</p>\n<hr />\n"},{"tags":["java","maven","class","intellij-idea","jar"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":7,"creation_date":1667567115,"post_id":74317492,"comment_id":131202760,"body_markdown":"Getting `.java` files back from `.class` files is called decompiling. You can do it, but you won&#39;t get &quot;the original .java&quot; files back. If you&#39;re lucky, you&#39;ll get something that will end up compiling back into the same binary, but the reconstruction is not perfect. And since you tagged this as intellij-idea for some reason: IDEA comes with a decompiler built in, IIRC, so opening the jar in there should allow you to few the decompilation result.","body":"Getting <code>.java</code> files back from <code>.class</code> files is called decompiling. You can do it, but you won&#39;t get &quot;the original .java&quot; files back. If you&#39;re lucky, you&#39;ll get something that will end up compiling back into the same binary, but the reconstruction is not perfect. And since you tagged this as intellij-idea for some reason: IDEA comes with a decompiler built in, IIRC, so opening the jar in there should allow you to few the decompilation result."},{"owner":{"account_id":997267,"reputation":3667,"user_id":1012914,"accept_rate":64,"display_name":"Michele"},"score":0,"creation_date":1667567707,"post_id":74317492,"comment_id":131202976,"body_markdown":"@JoachimSauer - if I&#39;m seeing a hard-coded date in the clearcase code, would the decompiled file have the code showing if the date is hard-coded?","body":"@JoachimSauer - if I&#39;m seeing a hard-coded date in the clearcase code, would the decompiled file have the code showing if the date is hard-coded?"},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1667567944,"post_id":74317492,"comment_id":131203076,"body_markdown":"Yes, *usually* the decompiled code will be effectively equivalent, but it will be missing niceties like local variable names, comments and formatting. If the jar file has been intentionally obfuscated, then the decompilation result could be worse (or not get produced at all).","body":"Yes, <i>usually</i> the decompiled code will be effectively equivalent, but it will be missing niceties like local variable names, comments and formatting. If the jar file has been intentionally obfuscated, then the decompilation result could be worse (or not get produced at all)."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1667569568,"post_id":74317492,"comment_id":131203690,"body_markdown":"Technically you will never get the original java source because things like comments etc. and local variable names etc. can not be decompiled. You will get a source file which is equivalent in function ( I can remenber there had been some issues with that)... furthermore why using such old JDK version ?","body":"Technically you will never get the original java source because things like comments etc. and local variable names etc. can not be decompiled. You will get a source file which is equivalent in function ( I can remenber there had been some issues with that)... furthermore why using such old JDK version ?"},{"owner":{"account_id":997267,"reputation":3667,"user_id":1012914,"accept_rate":64,"display_name":"Michele"},"score":0,"creation_date":1667580936,"post_id":74317492,"comment_id":131208141,"body_markdown":"@JoachimSauer - thank you for this info.  I searched for videos on how to convert .class file to .java file, and found a video that referred to javadecompilers.com.  I used this to upload my class file and it converted it to a .java source code.  I noticed that the date is hard-coded to 2018 in this version too, which is what I needed to know.  Thank you so much for giving me enough info to search and find out how to do this!","body":"@JoachimSauer - thank you for this info.  I searched for videos on how to convert .class file to .java file, and found a video that referred to javadecompilers.com.  I used this to upload my class file and it converted it to a .java source code.  I noticed that the date is hard-coded to 2018 in this version too, which is what I needed to know.  Thank you so much for giving me enough info to search and find out how to do this!"},{"owner":{"account_id":997267,"reputation":3667,"user_id":1012914,"accept_rate":64,"display_name":"Michele"},"score":0,"creation_date":1667581018,"post_id":74317492,"comment_id":131208171,"body_markdown":"@khmarbaise -  we are tied to an old java version because of what is running on our server.  The programs running there were built with the older java version. I tried compiling mine with a newer java version a few months ago, and once I try running it on the server, it gets an error about using the wrong java version.","body":"@khmarbaise -  we are tied to an old java version because of what is running on our server.  The programs running there were built with the older java version. I tried compiling mine with a newer java version a few months ago, and once I try running it on the server, it gets an error about using the wrong java version."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1667581460,"post_id":74317492,"comment_id":131208350,"body_markdown":"What kind of servers? (Tomcat, WebSphere, JBoss etc.)? Apart from that this old version has a lot of security vulnerbilities even while running in a Server... Current version of [JDK 8](https://www.oracle.com/java/technologies/javase/8u-relnotes.html) ...even the current state of encryption parts (TLS etc.)","body":"What kind of servers? (Tomcat, WebSphere, JBoss etc.)? Apart from that this old version has a lot of security vulnerbilities even while running in a Server... Current version of <a href=\"https://www.oracle.com/java/technologies/javase/8u-relnotes.html\" rel=\"nofollow noreferrer\">JDK 8</a> ...even the current state of encryption parts (TLS etc.)"}],"owner":{"account_id":997267,"reputation":3667,"user_id":1012914,"accept_rate":64,"display_name":"Michele"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1667566996,"creation_date":1667566996,"question_id":74317492,"body_markdown":"We have jar files on the server that are run on a schedule, but I don&#39;t think the code I found is matching what&#39;s on the server.  What&#39;s in clearcase does not have jar files to compare sizes/dates.  \r\n\r\nIs there a way to extract the original .java text contents from the .class files when I open the .jar file with 7-zip? The class contents have garbage in them since they are a result of compiling. Then I can compare the class contents with what I found in clearcase and see if the errors I&#39;m seeing were in the release a few years ago. The people who worked on this don&#39;t work here anymore.\r\n\r\nI&#39;m not finding what I&#39;m looking for in an internet search. It could be it&#39;s not possible. In my search, I&#39;m just finding how to unzip the jar file and see the .class files there but not the original class text contents.\r\n\r\nI&#39;m using SDK 1.8.0_2-2, SDK default 8 (lambdas etc).\r\n\r\nThank you!","title":"Is there a way to get original .java contents from .class file in compiled jar file","body":"<p>We have jar files on the server that are run on a schedule, but I don't think the code I found is matching what's on the server.  What's in clearcase does not have jar files to compare sizes/dates.</p>\n<p>Is there a way to extract the original .java text contents from the .class files when I open the .jar file with 7-zip? The class contents have garbage in them since they are a result of compiling. Then I can compare the class contents with what I found in clearcase and see if the errors I'm seeing were in the release a few years ago. The people who worked on this don't work here anymore.</p>\n<p>I'm not finding what I'm looking for in an internet search. It could be it's not possible. In my search, I'm just finding how to unzip the jar file and see the .class files there but not the original class text contents.</p>\n<p>I'm using SDK 1.8.0_2-2, SDK default 8 (lambdas etc).</p>\n<p>Thank you!</p>\n"},{"tags":["java","java-stream","collect","supplier"],"comments":[{"owner":{"account_id":22443986,"reputation":2042,"user_id":16648127,"display_name":"Enfield Li"},"score":0,"creation_date":1667459387,"post_id":74299142,"comment_id":131172649,"body_markdown":"Does this help: [java.util.stream.Collectors with EnumSet Stream](https://stackoverflow.com/questions/35178294/java-util-stream-collectors-with-enumset-stream)?","body":"Does this help: <a href=\"https://stackoverflow.com/questions/35178294/java-util-stream-collectors-with-enumset-stream\">java.util.stream.Collectors with EnumSet Stream</a>?"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":1,"creation_date":1667459937,"post_id":74299142,"comment_id":131172781,"body_markdown":"How about `() -&gt; EnumSet.noneOf(ScConstraint.class)`?","body":"How about <code>() -&gt; EnumSet.noneOf(ScConstraint.class)</code>?"},{"owner":{"account_id":5806666,"reputation":1031,"user_id":4579081,"accept_rate":62,"display_name":"ema3272"},"score":0,"creation_date":1667460325,"post_id":74299142,"comment_id":131172868,"body_markdown":"@li: no, I get the following runtime error:\n    java.lang.ClassCastException: j$.util.stream.Stream$VivifiedWrapper cannot be cast to java.util.stream.Stream\n        at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:280)","body":"@li: no, I get the following runtime error:     java.lang.ClassCastException: j$.util.stream.Stream$VivifiedWrapper cannot be cast to java.util.stream.Stream         at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipel&zwnj;&#8203;ine.java:280)"},{"owner":{"account_id":5806666,"reputation":1031,"user_id":4579081,"accept_rate":62,"display_name":"ema3272"},"score":0,"creation_date":1667460685,"post_id":74299142,"comment_id":131172971,"body_markdown":"@Maurice: no, same run time error","body":"@Maurice: no, same run time error"}],"answers":[{"comments":[{"owner":{"account_id":5806666,"reputation":1031,"user_id":4579081,"accept_rate":62,"display_name":"ema3272"},"score":1,"creation_date":1667472678,"post_id":74300969,"comment_id":131176969,"body_markdown":"Thanks for the clear explanation. And the compilation error is fixed.","body":"Thanks for the clear explanation. And the compilation error is fixed."}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1667566648,"creation_date":1667468866,"answer_id":74300969,"question_id":74299142,"body_markdown":"The first argument of the tree-args flavor of [`Stream.collect()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#collect(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BiConsumer)) is of type [`Supplier`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Supplier.html). It&#39;s a *function* which is meant to provide a mutable object, that would be used to accumulate stream elements and would be returned as the result of the stream execution.\r\n\r\nAs it was [mentioned by @MauricePerry][1] in the comments, you&#39;ve provided a value, i.e. an `EnumSet` itself, not a `Supplier` of an `EnumSet`. Therefore, you&#39;re getting a compilation error due to the mismatch of type of the argument and expected type.\r\n\r\nThe correct code can be written like this:\r\n\r\n```\r\nEnumSet&lt;ScConstraint&gt; tbd = nlsCandidates.stream()\r\n    .flatMap(p -&gt; rowConstraints[10 * k + p].stream())\r\n    .filter(cstr -&gt; !s.contains(cstr.RC))\r\n    .collect(\r\n        () -&gt; EnumSet.noneOf(ScConstraint.class),\r\n        Set::add,\r\n        Set::addAll\r\n    );\r\n```\r\n\r\nAlternatively, you can make use of the [`collect()`][2] version expecting an instance of `Collector` as an argument. And as a Collector, you can provide [`toCollection()`][3] (*credits to @Holger*):\r\n\r\n```\r\nEnumSet&lt;ScConstraint&gt; tbd = nlsCandidates.stream()\r\n    .flatMap(p -&gt; rowConstraints[10 * k + p].stream())\r\n    .filter(cstr -&gt; !s.contains(cstr.RC))\r\n    .collect(Collectors.toCollection(\r\n        () -&gt; EnumSet.noneOf(ScConstraint.class)\r\n    ));\r\n```\r\n\r\n  [1]: https://stackoverflow.com/questions/74299142/what-is-a-proper-supplier-for-a-stream-collector-of-enumset#comment131172781_74299142\r\n\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#collect(java.util.stream.Collector)\r\n\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toCollection(java.util.function.Supplier)","title":"what is a proper &quot;supplier&quot; for a &quot;stream.collector&quot; of EnumSet?","body":"<p>The first argument of the tree-args flavor of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#collect(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BiConsumer)\" rel=\"nofollow noreferrer\"><code>Stream.collect()</code></a> is of type <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Supplier.html\" rel=\"nofollow noreferrer\"><code>Supplier</code></a>. It's a <em>function</em> which is meant to provide a mutable object, that would be used to accumulate stream elements and would be returned as the result of the stream execution.</p>\n<p>As it was <a href=\"https://stackoverflow.com/questions/74299142/what-is-a-proper-supplier-for-a-stream-collector-of-enumset#comment131172781_74299142\">mentioned by @MauricePerry</a> in the comments, you've provided a value, i.e. an <code>EnumSet</code> itself, not a <code>Supplier</code> of an <code>EnumSet</code>. Therefore, you're getting a compilation error due to the mismatch of type of the argument and expected type.</p>\n<p>The correct code can be written like this:</p>\n<pre><code>EnumSet&lt;ScConstraint&gt; tbd = nlsCandidates.stream()\n    .flatMap(p -&gt; rowConstraints[10 * k + p].stream())\n    .filter(cstr -&gt; !s.contains(cstr.RC))\n    .collect(\n        () -&gt; EnumSet.noneOf(ScConstraint.class),\n        Set::add,\n        Set::addAll\n    );\n</code></pre>\n<p>Alternatively, you can make use of the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#collect(java.util.stream.Collector)\" rel=\"nofollow noreferrer\"><code>collect()</code></a> version expecting an instance of <code>Collector</code> as an argument. And as a Collector, you can provide <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toCollection(java.util.function.Supplier)\" rel=\"nofollow noreferrer\"><code>toCollection()</code></a> (<em>credits to @Holger</em>):</p>\n<pre><code>EnumSet&lt;ScConstraint&gt; tbd = nlsCandidates.stream()\n    .flatMap(p -&gt; rowConstraints[10 * k + p].stream())\n    .filter(cstr -&gt; !s.contains(cstr.RC))\n    .collect(Collectors.toCollection(\n        () -&gt; EnumSet.noneOf(ScConstraint.class)\n    ));\n</code></pre>\n"}],"owner":{"account_id":5806666,"reputation":1031,"user_id":4579081,"accept_rate":62,"display_name":"ema3272"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74300969,"answer_count":1,"score":1,"last_activity_date":1667566648,"creation_date":1667459164,"question_id":74299142,"body_markdown":"The following code does not compile:\r\n\r\n        HashSet&lt;Integer&gt; nlsCandidates;         // added here to help read the stream coding below\r\n        EnumSet&lt;ScConstraint&gt;[] rowConstraints; // added here to help read the stream coding below\r\n        EnumSet&lt;ScConstraint&gt; tbd = nlsCandidates.stream()\r\n            .flatMap(p -&gt; rowConstraints[10*k + p].stream())\r\n            .filter(cstr -&gt; !s.contains(cstr.RC))\r\n            .collect(EnumSet.noneOf(ScConstraint.class), (c, cstr) -&gt; c.add(cstr), EnumSet::addAll);\r\n\r\n\r\nThis is the error message:\r\n\r\n    no suitable method found for collect(EnumSet&lt;ScConstraint&gt;,(c,cstr)-&gt;[...]cstr),EnumSet::addAll)\r\n            .collect(EnumSet.noneOf(ScConstraint.class), (c, cstr) -&gt; c.add(cstr), EnumSet::addAll);\r\n            ^\r\n    method Stream.&lt;R#1&gt;collect(Supplier&lt;R#1&gt;,BiConsumer&lt;R#1,? super ScConstraint&gt;,BiConsumer&lt;R#1,R#1&gt;) is not applicable\r\n      (cannot infer type-variable(s) R#1\r\n        (argument mismatch; no instance(s) of type variable(s) E exist so that EnumSet&lt;E&gt; conforms to Supplier&lt;R#1&gt;))\r\n\r\n    method Stream.&lt;R#2,A&gt;collect(Collector&lt;? super ScConstraint,A,R#2&gt;) is not applicable\r\n      (cannot infer type-variable(s) R#2,A\r\n        (actual and formal argument lists differ in length))\r\n  \r\n    where R#1,T,E,R#2,A are type-variables:\r\n    R#1 extends Object declared in method &lt;R#1&gt;collect(Supplier&lt;R#1&gt;,BiConsumer&lt;R#1,? super T&gt;,BiConsumer&lt;R#1,R#1&gt;)\r\n    T extends Object declared in interface Stream\r\n    E extends Enum&lt;E&gt; declared in method &lt;E&gt;noneOf(Class&lt;E&gt;)\r\n    R#2 extends Object declared in method &lt;R#2,A&gt;collect(Collector&lt;? super T,A,R#2&gt;)\r\n    A extends Object declared in method &lt;R#2,A&gt;collect(Collector&lt;? super T,A,R#2&gt;)\r\n\r\n\r\nI need the `Supplier` to return an empty EnumSet. How can I achieve that?","title":"what is a proper &quot;supplier&quot; for a &quot;stream.collector&quot; of EnumSet?","body":"<p>The following code does not compile:</p>\n<pre><code>    HashSet&lt;Integer&gt; nlsCandidates;         // added here to help read the stream coding below\n    EnumSet&lt;ScConstraint&gt;[] rowConstraints; // added here to help read the stream coding below\n    EnumSet&lt;ScConstraint&gt; tbd = nlsCandidates.stream()\n        .flatMap(p -&gt; rowConstraints[10*k + p].stream())\n        .filter(cstr -&gt; !s.contains(cstr.RC))\n        .collect(EnumSet.noneOf(ScConstraint.class), (c, cstr) -&gt; c.add(cstr), EnumSet::addAll);\n</code></pre>\n<p>This is the error message:</p>\n<pre><code>no suitable method found for collect(EnumSet&lt;ScConstraint&gt;,(c,cstr)-&gt;[...]cstr),EnumSet::addAll)\n        .collect(EnumSet.noneOf(ScConstraint.class), (c, cstr) -&gt; c.add(cstr), EnumSet::addAll);\n        ^\nmethod Stream.&lt;R#1&gt;collect(Supplier&lt;R#1&gt;,BiConsumer&lt;R#1,? super ScConstraint&gt;,BiConsumer&lt;R#1,R#1&gt;) is not applicable\n  (cannot infer type-variable(s) R#1\n    (argument mismatch; no instance(s) of type variable(s) E exist so that EnumSet&lt;E&gt; conforms to Supplier&lt;R#1&gt;))\n\nmethod Stream.&lt;R#2,A&gt;collect(Collector&lt;? super ScConstraint,A,R#2&gt;) is not applicable\n  (cannot infer type-variable(s) R#2,A\n    (actual and formal argument lists differ in length))\n\nwhere R#1,T,E,R#2,A are type-variables:\nR#1 extends Object declared in method &lt;R#1&gt;collect(Supplier&lt;R#1&gt;,BiConsumer&lt;R#1,? super T&gt;,BiConsumer&lt;R#1,R#1&gt;)\nT extends Object declared in interface Stream\nE extends Enum&lt;E&gt; declared in method &lt;E&gt;noneOf(Class&lt;E&gt;)\nR#2 extends Object declared in method &lt;R#2,A&gt;collect(Collector&lt;? super T,A,R#2&gt;)\nA extends Object declared in method &lt;R#2,A&gt;collect(Collector&lt;? super T,A,R#2&gt;)\n</code></pre>\n<p>I need the <code>Supplier</code> to return an empty EnumSet. How can I achieve that?</p>\n"},{"tags":["java","mongodb","spring-boot","mongorepository"],"answers":[{"tags":[],"owner":{"account_id":24615818,"reputation":173,"user_id":18516849,"display_name":"ypdev19"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667488405,"creation_date":1667488405,"answer_id":74305365,"question_id":74304250,"body_markdown":"With `MongoRepository` you could do something like:\r\n\r\n    public Optional&lt;YourObject&gt; getByModelId(theVariableWithTheValue) {\r\n    \tQuery query = new Query().addCriteria(Criteria.where(&quot;models.id&quot;).is(theVariableWithTheValue));\r\n    \tList&lt;YourObject&gt; result = mongoTemplate.find(query, YourObject.class);\r\n    \r\n    \treturn result.isEmpty() ? Optional.empty() : Optional.of(result.get(0));\r\n    }","title":"Nested Select Query With Mongo Repository","body":"<p>With <code>MongoRepository</code> you could do something like:</p>\n<pre><code>public Optional&lt;YourObject&gt; getByModelId(theVariableWithTheValue) {\n    Query query = new Query().addCriteria(Criteria.where(&quot;models.id&quot;).is(theVariableWithTheValue));\n    List&lt;YourObject&gt; result = mongoTemplate.find(query, YourObject.class);\n\n    return result.isEmpty() ? Optional.empty() : Optional.of(result.get(0));\n}\n</code></pre>\n"}],"owner":{"account_id":24950425,"reputation":49,"user_id":18815294,"display_name":"Khushal Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74305365,"answer_count":1,"score":0,"last_activity_date":1667566502,"creation_date":1667483621,"question_id":74304250,"body_markdown":"We use SpringBoot with mongo and have a document like this:\r\n```\r\n[{\r\n  &quot;id&quot;: &quot;classicId&quot;,\r\n  &quot;name&quot;: &quot;classicName&quot;,\r\n  &quot;models&quot;: [\r\n   {\r\n      &quot;id&quot;: &quot;AnotherId&quot;,\r\n      &quot;name&quot;: &quot;AnotherSomeName&quot;\r\n    },\r\n     {\r\n      &quot;id&quot;: &quot;RequiredId&quot;,\r\n      &quot;name&quot;: &quot;SomeName&quot;\r\n    }\r\n  ]\r\n}]\r\n```\r\n\r\nThe id in the array models is unique. \r\n\r\nThe input could be just any id in the models array. So the user will just give us the value &quot;AnotherId&quot; in order to find the document.\r\n\r\nHow can we do that in java using the mongo template or mongo repository?\r\n","title":"Nested Select Query With Mongo Repository","body":"<p>We use SpringBoot with mongo and have a document like this:</p>\n<pre><code>[{\n  &quot;id&quot;: &quot;classicId&quot;,\n  &quot;name&quot;: &quot;classicName&quot;,\n  &quot;models&quot;: [\n   {\n      &quot;id&quot;: &quot;AnotherId&quot;,\n      &quot;name&quot;: &quot;AnotherSomeName&quot;\n    },\n     {\n      &quot;id&quot;: &quot;RequiredId&quot;,\n      &quot;name&quot;: &quot;SomeName&quot;\n    }\n  ]\n}]\n</code></pre>\n<p>The id in the array models is unique.</p>\n<p>The input could be just any id in the models array. So the user will just give us the value &quot;AnotherId&quot; in order to find the document.</p>\n<p>How can we do that in java using the mongo template or mongo repository?</p>\n"},{"tags":["java","android","root","rooted-device"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1570113315,"post_id":58221251,"comment_id":102818527,"body_markdown":"That&#39;s basically like asking if we are living in the Matrix. You may find a way to detect that your app runs on a rooted device, but the system may lie to your app tomorrow.","body":"That&#39;s basically like asking if we are living in the Matrix. You may find a way to detect that your app runs on a rooted device, but the system may lie to your app tomorrow."},{"owner":{"account_id":3360457,"reputation":1725,"user_id":2822369,"accept_rate":48,"display_name":"Amit Jayaswal"},"score":0,"creation_date":1570113619,"post_id":58221251,"comment_id":102818684,"body_markdown":"So what should exactly i need to do?","body":"So what should exactly i need to do?"},{"owner":{"account_id":5949420,"reputation":14268,"user_id":4677951,"accept_rate":50,"display_name":"shadowsheep"},"score":0,"creation_date":1570116071,"post_id":58221251,"comment_id":102819996,"body_markdown":"Have a look at [SafetyNet](https://developer.android.com/training/safetynet/index.html). Btw I actually didn&#39;t use them yet. Specifically [here](https://developer.android.com/training/safetynet/attestation.html) I read &quot;Purely to check whether the device is rooted, as the API is designed to check the overall integrity of the device.&quot;. Anyway, as Johannes says, maybe it could be circumvented.","body":"Have a look at <a href=\"https://developer.android.com/training/safetynet/index.html\" rel=\"nofollow noreferrer\">SafetyNet</a>. Btw I actually didn&#39;t use them yet. Specifically <a href=\"https://developer.android.com/training/safetynet/attestation.html\" rel=\"nofollow noreferrer\">here</a> I read &quot;Purely to check whether the device is rooted, as the API is designed to check the overall integrity of the device.&quot;. Anyway, as Johannes says, maybe it could be circumvented."},{"owner":{"account_id":3360457,"reputation":1725,"user_id":2822369,"accept_rate":48,"display_name":"Amit Jayaswal"},"score":0,"creation_date":1570116765,"post_id":58221251,"comment_id":102820375,"body_markdown":"@shadowsheep thanks for reply, let me check. I&#39;ll get back to you","body":"@shadowsheep thanks for reply, let me check. I&#39;ll get back to you"}],"answers":[{"comments":[{"owner":{"account_id":5949420,"reputation":14268,"user_id":4677951,"accept_rate":50,"display_name":"shadowsheep"},"score":0,"creation_date":1570818594,"post_id":58315478,"comment_id":103048410,"body_markdown":"Good to know! Let&#39;s know your feedback after some time of usage!","body":"Good to know! Let&#39;s know your feedback after some time of usage!"},{"owner":{"account_id":3360457,"reputation":1725,"user_id":2822369,"accept_rate":48,"display_name":"Amit Jayaswal"},"score":0,"creation_date":1571030648,"post_id":58315478,"comment_id":103090634,"body_markdown":"Yehh sure @shadowsheep. Let cyber security test the build then I&#39;ll let you know","body":"Yehh sure @shadowsheep. Let cyber security test the build then I&#39;ll let you know"},{"owner":{"account_id":5416181,"reputation":2699,"user_id":4311268,"display_name":"Tommy Leong"},"score":0,"creation_date":1583225192,"post_id":58315478,"comment_id":107034649,"body_markdown":"Hello @AmitJayaswal, it&#39;s interesting to see you managed to detect root even Magisk Hide in placed. Im currently looking into a solution as well, however from what I understand Magisk is a “systemless” root method, which is installed by modifying the boot image file boot.img. May I know which methods (in your solution mentioned) was used detect the root? Thank you","body":"Hello @AmitJayaswal, it&#39;s interesting to see you managed to detect root even Magisk Hide in placed. Im currently looking into a solution as well, however from what I understand Magisk is a “systemless” root method, which is installed by modifying the boot image file boot.img. May I know which methods (in your solution mentioned) was used detect the root? Thank you"},{"owner":{"account_id":3360457,"reputation":1725,"user_id":2822369,"accept_rate":48,"display_name":"Amit Jayaswal"},"score":0,"creation_date":1583299402,"post_id":58315478,"comment_id":107064716,"body_markdown":"RootBeer rootBeer = new RootBeer(this);\n        if (rootBeer.isRooted()) {\n            Toast.makeText(getApplicationContext(), getString(R.string.root_device_error),\n                    Toast.LENGTH_SHORT).show();\n            finish();\n        }\nHi @Tommy I hope you will get the method.","body":"RootBeer rootBeer = new RootBeer(this);         if (rootBeer.isRooted()) {             Toast.makeText(getApplicationContext(), getString(R.string.root_device_error),                     Toast.LENGTH_SHORT).show();             finish();         } Hi @Tommy I hope you will get the method."},{"owner":{"account_id":5416181,"reputation":2699,"user_id":4311268,"display_name":"Tommy Leong"},"score":0,"creation_date":1583304206,"post_id":58315478,"comment_id":107066102,"body_markdown":"Will try and response back, might take awhile. Im on RN platform. Thanks for the response too!","body":"Will try and response back, might take awhile. Im on RN platform. Thanks for the response too!"},{"owner":{"account_id":1723697,"reputation":4014,"user_id":1578867,"accept_rate":86,"display_name":"auspicious99"},"score":0,"creation_date":1599292503,"post_id":58315478,"comment_id":112734559,"body_markdown":"@TommyLeong Magisk Hide is able to bypass the rootbeer checks. There is another way to defeat Magisk Hide (see https://twitter.com/topjohnwu/status/1298468244596985856 for example), but it may not work in the future.","body":"@TommyLeong Magisk Hide is able to bypass the rootbeer checks. There is another way to defeat Magisk Hide (see <a href=\"https://twitter.com/topjohnwu/status/1298468244596985856\" rel=\"nofollow noreferrer\">twitter.com/topjohnwu/status/1298468244596985856</a> for example), but it may not work in the future."}],"tags":[],"owner":{"account_id":3360457,"reputation":1725,"user_id":2822369,"accept_rate":48,"display_name":"Amit Jayaswal"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1570818697,"creation_date":1570681869,"answer_id":58315478,"question_id":58221251,"body_markdown":"After couple of days, I got the solution. [RootDevice][1] is the library which will check for all kind of root device check. Like:\r\n \r\n- CheckRootManagementApps\r\n- CheckPotentiallyDangerousApps\r\n- CheckRootCloakingApps\r\n- CheckTestKeys\r\n- checkForDangerousProps\r\n- checkForBusyBoxBinary\r\n- checkForSuBinary\r\n- checkSuExists\r\n- checkForRWSystem\r\n\r\n\r\n  [1]: https://github.com/scottyab/rootbeer","title":"How to restrict my android app in rooted device which contain magisk app?","body":"<p>After couple of days, I got the solution. <a href=\"https://github.com/scottyab/rootbeer\" rel=\"nofollow noreferrer\">RootDevice</a> is the library which will check for all kind of root device check. Like:</p>\n\n<ul>\n<li>CheckRootManagementApps</li>\n<li>CheckPotentiallyDangerousApps</li>\n<li>CheckRootCloakingApps</li>\n<li>CheckTestKeys</li>\n<li>checkForDangerousProps</li>\n<li>checkForBusyBoxBinary</li>\n<li>checkForSuBinary</li>\n<li>checkSuExists</li>\n<li>checkForRWSystem</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":17612031,"reputation":23,"user_id":12779866,"display_name":"asfaqe hussain"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603861219,"creation_date":1603861219,"answer_id":64566707,"question_id":58221251,"body_markdown":"check for magisk hide options to.\r\nMagisk Hide lets you use apps without letting it know that it is the rooted device","title":"How to restrict my android app in rooted device which contain magisk app?","body":"<p>check for magisk hide options to.\nMagisk Hide lets you use apps without letting it know that it is the rooted device</p>\n"}],"owner":{"account_id":3360457,"reputation":1725,"user_id":2822369,"accept_rate":48,"display_name":"Amit Jayaswal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2059,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1667566418,"creation_date":1570112771,"question_id":58221251,"body_markdown":"I am working on an android app. I want to save my app from rooted devices. I am successfully restricting my app with rooted devices, but one rooted device has magisk app, so with the help of this magis app, user is able to open my app in rooted device also. can any body help me in this? Thanks in advance.\r\n\r\n\r\nmy code is \r\n\r\n\r\n private static boolean checkRootMethod1() {\r\n        String buildTags = Build.TAGS;\r\n        return buildTags != null &amp;&amp; buildTags.contains(&quot;test-keys&quot;);\r\n    }\r\n\r\n    private static boolean checkRootMethod2() {\r\n        String[] paths = {&quot;/system/apn/which sup/Superuser.apk&quot;, &quot;/sbin/su&quot;, &quot;/system/bin/su&quot;, &quot;/system/xbin/su&quot;,\r\n                &quot;/data/local/xbin/su&quot;, &quot;/data/local/bin/su&quot;, &quot;/system/sd/xbin/su&quot;, &quot;/system/bin/.ext/.su&quot;,\r\n                &quot;/system/bin/failsafe/su&quot;, &quot;/data/local/su&quot;, &quot;/system/xbin/mu&quot;, &quot;/su/bin/su&quot;, &quot;/system/usr/we-need-root/su-backup&quot;};\r\n        for (String path : paths) {\r\n            if (new File(path).exists()) return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    private static boolean checkRootMethod3() {\r\n        File file = Environment.getDataDirectory();\r\n        return file != null &amp;&amp; file.canWrite();\r\n    }\r\n\r\n    private static boolean checkRootMethod4() {\r\n        File file = new File(&quot;/system/bin/&quot;);\r\n        return file != null &amp;&amp; file.canWrite();\r\n    }\r\n\r\n    private static  boolean checkRootMethod5() {\r\n        return new File(&quot;/system/app/Superuser.apk&quot;).exists();\r\n    }","title":"How to restrict my android app in rooted device which contain magisk app?","body":"<p>I am working on an android app. I want to save my app from rooted devices. I am successfully restricting my app with rooted devices, but one rooted device has magisk app, so with the help of this magis app, user is able to open my app in rooted device also. can any body help me in this? Thanks in advance.</p>\n\n<p>my code is </p>\n\n<p>private static boolean checkRootMethod1() {\n        String buildTags = Build.TAGS;\n        return buildTags != null &amp;&amp; buildTags.contains(\"test-keys\");\n    }</p>\n\n<pre><code>private static boolean checkRootMethod2() {\n    String[] paths = {\"/system/apn/which sup/Superuser.apk\", \"/sbin/su\", \"/system/bin/su\", \"/system/xbin/su\",\n            \"/data/local/xbin/su\", \"/data/local/bin/su\", \"/system/sd/xbin/su\", \"/system/bin/.ext/.su\",\n            \"/system/bin/failsafe/su\", \"/data/local/su\", \"/system/xbin/mu\", \"/su/bin/su\", \"/system/usr/we-need-root/su-backup\"};\n    for (String path : paths) {\n        if (new File(path).exists()) return true;\n    }\n    return false;\n}\n\nprivate static boolean checkRootMethod3() {\n    File file = Environment.getDataDirectory();\n    return file != null &amp;&amp; file.canWrite();\n}\n\nprivate static boolean checkRootMethod4() {\n    File file = new File(\"/system/bin/\");\n    return file != null &amp;&amp; file.canWrite();\n}\n\nprivate static  boolean checkRootMethod5() {\n    return new File(\"/system/app/Superuser.apk\").exists();\n}\n</code></pre>\n"},{"tags":["java","arraylist","java-8"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1626209546,"post_id":68369056,"comment_id":120831190,"body_markdown":"What have you tried so far?","body":"What have you tried so far?"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1626212133,"post_id":68369056,"comment_id":120831914,"body_markdown":"I suggest you remove the prefix `emp` from the fields, as the class is already named `Employee`. Just `id`, `name` and `roles` are sufficient.","body":"I suggest you remove the prefix <code>emp</code> from the fields, as the class is already named <code>Employee</code>. Just <code>id</code>, <code>name</code> and <code>roles</code> are sufficient."}],"answers":[{"comments":[{"owner":{"account_id":16816658,"reputation":70,"user_id":12158308,"display_name":"SAS DEV"},"score":0,"creation_date":1626212975,"post_id":68369195,"comment_id":120832086,"body_markdown":"Appreciate your help but it&#39;s basically a heavy object in the real application and i cannot manually set each field to a new object. That&#39;s the problem i have.","body":"Appreciate your help but it&#39;s basically a heavy object in the real application and i cannot manually set each field to a new object. That&#39;s the problem i have."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1626214658,"post_id":68369195,"comment_id":120832444,"body_markdown":"So if you can&#39;t create a new object what exactly are you looking for?  Your requirement and caveat to meeting that seem to be at odds.  You might also want to update your question explaining this and any other limitations.","body":"So if you can&#39;t create a new object what exactly are you looking for?  Your requirement and caveat to meeting that seem to be at odds.  You might also want to update your question explaining this and any other limitations."}],"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1626209602,"creation_date":1626209602,"answer_id":68369195,"question_id":68369056,"body_markdown":"Stream over the roles and map to a new Employee:\r\n\r\n    public List&lt;Employee&gt; splitEmployeObj(Employee emp) {\r\n        return emp.getEmpRoles()\r\n                .stream()\r\n                .map(role -&gt; new Employee(emp.getEmpId(), emp.getEmpName(), Collections.singletonList(role)))\r\n                .collect(Collectors.toList());\r\n    }","title":"Split one object into List of objects - JAVA8 Solution required","body":"<p>Stream over the roles and map to a new Employee:</p>\n<pre><code>public List&lt;Employee&gt; splitEmployeObj(Employee emp) {\n    return emp.getEmpRoles()\n            .stream()\n            .map(role -&gt; new Employee(emp.getEmpId(), emp.getEmpName(), Collections.singletonList(role)))\n            .collect(Collectors.toList());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6078955,"reputation":365,"user_id":4745335,"display_name":"kasopey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667565391,"creation_date":1667565391,"answer_id":74317187,"question_id":68369056,"body_markdown":"You can do this with the Lombok framework and then use @Eritrean&#39;s solution:\r\n\r\n    @Builder(toBuilder = true) // here is the magic\r\n    public class Employee {\r\n      private String empId;\r\n      private String empName;\r\n      private List&lt;String&gt; empRoles;\r\n\r\n      public List&lt;Employee&gt; explode() {\r\n        return emp.getEmpRoles().stream()\r\n            .map(role -&gt; this.toBuilder()\r\n                           .empRoles(singletonList(role))\r\n                           .build()\r\n            )\r\n            .collect(toList());\r\n      }\r\n    }","title":"Split one object into List of objects - JAVA8 Solution required","body":"<p>You can do this with the Lombok framework and then use @Eritrean's solution:</p>\n<pre><code>@Builder(toBuilder = true) // here is the magic\npublic class Employee {\n  private String empId;\n  private String empName;\n  private List&lt;String&gt; empRoles;\n\n  public List&lt;Employee&gt; explode() {\n    return emp.getEmpRoles().stream()\n        .map(role -&gt; this.toBuilder()\n                       .empRoles(singletonList(role))\n                       .build()\n        )\n        .collect(toList());\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667566124,"creation_date":1667566124,"answer_id":74317312,"question_id":68369056,"body_markdown":"You will need a few public things in your `Employee` class:\r\n\r\n    public class Employee {\r\n       private String empId;\r\n       private String empName;\r\n       private List&lt;String&gt; empRoles = new ArrayList&lt;&gt;();\r\n\r\n       public Employee(String empId, String empName, String... empRoles) {\r\n           this.empId = empId;\r\n           this.empName = empName;\r\n           for (String role: empRoles) {\r\n               this.empRoles.add(role);\r\n           }\r\n       }\r\n\r\n        public String getEmpId() {\r\n            return empId;\r\n        }\r\n\r\n        public String getEmpName() {\r\n            return empName;\r\n        }\r\n\r\n        public List&lt;String&gt; getEmpRoles() {\r\n            return empRoles;\r\n        }\r\n    }\r\n\r\nThen:\r\n\r\n    public List&lt;Employee&gt; splitEmployeObj(Employee emp) {\r\n        return emp.getEmpRoles().stream()\r\n                .map(role -&gt; new Employee(emp.getEmpId(), emp.getEmpName(), role))\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\n","title":"Split one object into List of objects - JAVA8 Solution required","body":"<p>You will need a few public things in your <code>Employee</code> class:</p>\n<pre><code>public class Employee {\n   private String empId;\n   private String empName;\n   private List&lt;String&gt; empRoles = new ArrayList&lt;&gt;();\n\n   public Employee(String empId, String empName, String... empRoles) {\n       this.empId = empId;\n       this.empName = empName;\n       for (String role: empRoles) {\n           this.empRoles.add(role);\n       }\n   }\n\n    public String getEmpId() {\n        return empId;\n    }\n\n    public String getEmpName() {\n        return empName;\n    }\n\n    public List&lt;String&gt; getEmpRoles() {\n        return empRoles;\n    }\n}\n</code></pre>\n<p>Then:</p>\n<pre><code>public List&lt;Employee&gt; splitEmployeObj(Employee emp) {\n    return emp.getEmpRoles().stream()\n            .map(role -&gt; new Employee(emp.getEmpId(), emp.getEmpName(), role))\n            .collect(Collectors.toList());\n}\n</code></pre>\n"}],"owner":{"account_id":16816658,"reputation":70,"user_id":12158308,"display_name":"SAS DEV"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":623,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1667566124,"creation_date":1626208730,"question_id":68369056,"body_markdown":"I have the following code where i have a single employee object with multiple roles. i want to split this single employee object into multiple employee objects with each object have just ONE role.\r\n\r\n    public class Employee {\r\n       private String empId;\r\n       private String empName;\r\n       private List&lt;String&gt; empRoles;\r\n     }\r\n\r\nNow i have a method with return type List&lt;Employees&gt;\r\n\r\n    public List&lt;Employee&gt; splitEmployeObj(Employee emp) {\r\n       // code logic goes here \r\n     }\r\n       // sample input : { empId:&#39;123&#39;,empName:&#39;john&#39;,empRoles:[&#39;Developer&#39;,&#39;Tester&#39;] }\r\n       // sample output : [ { empId:&#39;123&#39;, empName:&#39;john&#39;,empRoles : [&#39;Developer&#39;] },\r\n                            { empId:&#39;123&#39;, empName:&#39;john&#39;,empRoles : [&#39;Tester&#39;]]\r\n\r\ncan someone help with an efficient java8 solution.\r\n\r\n\r\n\r\n\r\n\r\n\r\n \r\n\r\n ","title":"Split one object into List of objects - JAVA8 Solution required","body":"<p>I have the following code where i have a single employee object with multiple roles. i want to split this single employee object into multiple employee objects with each object have just ONE role.</p>\n<pre><code>public class Employee {\n   private String empId;\n   private String empName;\n   private List&lt;String&gt; empRoles;\n }\n</code></pre>\n<p>Now i have a method with return type List</p>\n<pre><code>public List&lt;Employee&gt; splitEmployeObj(Employee emp) {\n   // code logic goes here \n }\n   // sample input : { empId:'123',empName:'john',empRoles:['Developer','Tester'] }\n   // sample output : [ { empId:'123', empName:'john',empRoles : ['Developer'] },\n                        { empId:'123', empName:'john',empRoles : ['Tester']]\n</code></pre>\n<p>can someone help with an efficient java8 solution.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9314,"page":909,"page_size":100}
