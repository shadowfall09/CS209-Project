{"items":[{"tags":["java","android","bluetooth-lowenergy"],"comments":[{"owner":{"account_id":281477,"reputation":686,"user_id":9085253,"display_name":"Martijn van Welie"},"score":1,"creation_date":1667415463,"post_id":74288056,"comment_id":131164315,"body_markdown":"Take out the &#39;advertiser = null&#39;. That prevents the callbacks from happening","body":"Take out the &#39;advertiser = null&#39;. That prevents the callbacks from happening"},{"owner":{"account_id":10739241,"reputation":116,"user_id":7902933,"display_name":"Gaspar gg"},"score":0,"creation_date":1667457646,"post_id":74288056,"comment_id":131172240,"body_markdown":"even without, the callback isn&#39;t happening","body":"even without, the callback isn&#39;t happening"}],"answers":[{"tags":[],"owner":{"account_id":10739241,"reputation":116,"user_id":7902933,"display_name":"Gaspar gg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667564045,"creation_date":1667552105,"answer_id":74314403,"question_id":74288056,"body_markdown":"**Answer to my own question :** \r\n\r\nThe problem was that the callback for stopAdvertising and startAdvertising must be the same object as said by google doc : \r\n\r\n    * Stop Bluetooth LE advertising. The {@code callback} must be the same one use in\r\n    * {@link BluetoothLeAdvertiser#startAdvertising}.\r\n\r\n(the callback is used to identify the instance of advertise by google&#39;s sdk)\r\n\r\nUsing the same callback for both worked for me","title":"Android java Ble, can&#39;t stop advertising","body":"<p><strong>Answer to my own question :</strong></p>\n<p>The problem was that the callback for stopAdvertising and startAdvertising must be the same object as said by google doc :</p>\n<pre><code>* Stop Bluetooth LE advertising. The {@code callback} must be the same one use in\n* {@link BluetoothLeAdvertiser#startAdvertising}.\n</code></pre>\n<p>(the callback is used to identify the instance of advertise by google's sdk)</p>\n<p>Using the same callback for both worked for me</p>\n"}],"owner":{"account_id":10739241,"reputation":116,"user_id":7902933,"display_name":"Gaspar gg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74314403,"answer_count":1,"score":0,"last_activity_date":1667564045,"creation_date":1667386524,"question_id":74288056,"body_markdown":"i&#39;ve started an advertise and tried calling stop advertiser later but the advertise just won&#39;t stop (it just keeps sending its advert even though)\r\n\r\n\r\n    advertiser = BluetoothAdapter.getDefaultAdapter().getBluetoothLeAdvertiser();\r\n    \r\n    advSettings = new AdvertiseSettings.Builder()\r\n            .setAdvertiseMode( AdvertiseSettings.ADVERTISE_MODE_LOW_LATENCY )\r\n            .setTxPowerLevel( AdvertiseSettings.ADVERTISE_TX_POWER_HIGH )\r\n            .setConnectable(false)\r\n            .setTimeout(0)\r\n            .build();\r\n    \r\n    AdvertiseData data = new AdvertiseData.Builder()\r\n            .setIncludeDeviceName( true )\r\n            .setIncludeTxPowerLevel(false)\r\n            .addServiceUuid(serviceId)\r\n            .build();\r\n    \r\n    AdvertiseData response = new AdvertiseData.Builder()\r\n            .setIncludeDeviceName( false )\r\n            .setIncludeTxPowerLevel(false)\r\n            .addServiceData(serviceId, packet )\r\n            .build();\r\n    \r\n    \r\n    advertiser.startAdvertising(advSettings, data, response, new AdvertiseCallback() {\r\n        @Override\r\n        public void onStartSuccess(AdvertiseSettings settingsInEffect) {\r\n            super.onStartSuccess(settingsInEffect);\r\n            Log.d(TAG, &quot;Packet was successfully sent&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onStartFailure(int errorCode) {\r\n            super.onStartFailure(errorCode);\r\n            Log.e(TAG, &quot;Advertise failed : &quot; + errorCode);\r\n        }\r\n    });\r\n\r\n\r\nstopAdvertising Method : \r\n\r\n    public void stopAdvertising(){\r\n    \r\n            Log.d(TAG, &quot;stoping advertising ...&quot; );\r\n            advertiser.stopAdvertising(new AdvertiseCallback() {\r\n                @Override\r\n                public void onStartSuccess(AdvertiseSettings settingsInEffect) {\r\n                    Log.d(TAG, &quot;onStopSuccess&quot; );\r\n                    super.onStartSuccess(settingsInEffect);\r\n                }\r\n    \r\n                @Override\r\n                public void onStartFailure(int errorCode) {\r\n                    Log.e(TAG, &quot;onStopFailed&quot; + errorCode );\r\n                    super.onStartFailure(errorCode);\r\n                }\r\n            });\r\n            advertiser = null;\r\n        }\r\n\r\nBut when i call the stopAdvertising method the advertising doesn&#39;t stop, i don&#39;t no if it can help but, when i call my method stopAdvertising i get : \r\n\r\n    D/ContentValues: stoping advertising ...\r\n    D/BluetoothAdapter: STATE_ON\r\n    D/BluetoothAdapter: STATE_ON\r\n    D/BluetoothLeAdvertiser: wrapper is null\r\n\r\n\r\n                ","title":"Android java Ble, can&#39;t stop advertising","body":"<p>i've started an advertise and tried calling stop advertiser later but the advertise just won't stop (it just keeps sending its advert even though)</p>\n<pre><code>advertiser = BluetoothAdapter.getDefaultAdapter().getBluetoothLeAdvertiser();\n\nadvSettings = new AdvertiseSettings.Builder()\n        .setAdvertiseMode( AdvertiseSettings.ADVERTISE_MODE_LOW_LATENCY )\n        .setTxPowerLevel( AdvertiseSettings.ADVERTISE_TX_POWER_HIGH )\n        .setConnectable(false)\n        .setTimeout(0)\n        .build();\n\nAdvertiseData data = new AdvertiseData.Builder()\n        .setIncludeDeviceName( true )\n        .setIncludeTxPowerLevel(false)\n        .addServiceUuid(serviceId)\n        .build();\n\nAdvertiseData response = new AdvertiseData.Builder()\n        .setIncludeDeviceName( false )\n        .setIncludeTxPowerLevel(false)\n        .addServiceData(serviceId, packet )\n        .build();\n\n\nadvertiser.startAdvertising(advSettings, data, response, new AdvertiseCallback() {\n    @Override\n    public void onStartSuccess(AdvertiseSettings settingsInEffect) {\n        super.onStartSuccess(settingsInEffect);\n        Log.d(TAG, &quot;Packet was successfully sent&quot;);\n    }\n\n    @Override\n    public void onStartFailure(int errorCode) {\n        super.onStartFailure(errorCode);\n        Log.e(TAG, &quot;Advertise failed : &quot; + errorCode);\n    }\n});\n</code></pre>\n<p>stopAdvertising Method :</p>\n<pre><code>public void stopAdvertising(){\n\n        Log.d(TAG, &quot;stoping advertising ...&quot; );\n        advertiser.stopAdvertising(new AdvertiseCallback() {\n            @Override\n            public void onStartSuccess(AdvertiseSettings settingsInEffect) {\n                Log.d(TAG, &quot;onStopSuccess&quot; );\n                super.onStartSuccess(settingsInEffect);\n            }\n\n            @Override\n            public void onStartFailure(int errorCode) {\n                Log.e(TAG, &quot;onStopFailed&quot; + errorCode );\n                super.onStartFailure(errorCode);\n            }\n        });\n        advertiser = null;\n    }\n</code></pre>\n<p>But when i call the stopAdvertising method the advertising doesn't stop, i don't no if it can help but, when i call my method stopAdvertising i get :</p>\n<pre><code>D/ContentValues: stoping advertising ...\nD/BluetoothAdapter: STATE_ON\nD/BluetoothAdapter: STATE_ON\nD/BluetoothLeAdvertiser: wrapper is null\n\n\n            \n</code></pre>\n"},{"tags":["java","spring-boot","api","controller","spring-restcontroller"],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667563854,"creation_date":1667563337,"answer_id":74316758,"question_id":74315653,"body_markdown":"&gt; However, I cannot add another class file to the same package.\r\n\r\nThe obvious workaround here would be \r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/&quot;) &lt;----------\r\n    public class AuthController {\r\n\r\n      GetMapping(&quot;v1/users&quot;)\r\n      public List&lt;String&gt; getAllV1() {\r\n        ...\r\n      }\r\n\r\n      GetMapping(&quot;v2/users&quot;)\r\n      public List&lt;String&gt; getAllV2() {\r\n        ...\r\n      }\r\n\r\n      ..relative you can have all methods exposed in the same class for both v1 and v2 implementations\r\n    \r\n    }\r\n\r\n&gt; What is the purpose of using API versioning\r\n\r\nIt is so that external people are able to know when your API has been modified as to know that they probably need to do changes in their consumer code. You may have shutdown `v1` and offer only `v2` now meaning they need to adapt to new implementation to continue functioning. Or you may offer both `v1` and `v2` so they don&#39;t nessesary need to adapt right now to continue to function but could start working to catch up with your new version in the future.  \r\n\r\n&gt; How can I use API versioning for my endpoints? Is there any extra\r\n&gt; implementation needed on another Spring Boot files?\r\n\r\nEither you have a specific `AuthController` and when you release a new version which impacts this controller you change the mapping from `v1` into `v2`, or you have 2 controllers one for `v1` and one for `v2` as linked to your question so you continue to expose both old implementation and new implementation under different urls. If this is not the case because of the constraint you mention `However, I cannot add another class file to the same package.` then you can do the workaround I have written in this answer as to have both versions from the same file offered. But this would not be best practice to be used often.","title":"Spring Boot API versioning using @RequestMapping","body":"<blockquote>\n<p>However, I cannot add another class file to the same package.</p>\n</blockquote>\n<p>The obvious workaround here would be</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/&quot;) &lt;----------\npublic class AuthController {\n\n  GetMapping(&quot;v1/users&quot;)\n  public List&lt;String&gt; getAllV1() {\n    ...\n  }\n\n  GetMapping(&quot;v2/users&quot;)\n  public List&lt;String&gt; getAllV2() {\n    ...\n  }\n\n  ..relative you can have all methods exposed in the same class for both v1 and v2 implementations\n\n}\n</code></pre>\n<blockquote>\n<p>What is the purpose of using API versioning</p>\n</blockquote>\n<p>It is so that external people are able to know when your API has been modified as to know that they probably need to do changes in their consumer code. You may have shutdown <code>v1</code> and offer only <code>v2</code> now meaning they need to adapt to new implementation to continue functioning. Or you may offer both <code>v1</code> and <code>v2</code> so they don't nessesary need to adapt right now to continue to function but could start working to catch up with your new version in the future.</p>\n<blockquote>\n<p>How can I use API versioning for my endpoints? Is there any extra\nimplementation needed on another Spring Boot files?</p>\n</blockquote>\n<p>Either you have a specific <code>AuthController</code> and when you release a new version which impacts this controller you change the mapping from <code>v1</code> into <code>v2</code>, or you have 2 controllers one for <code>v1</code> and one for <code>v2</code> as linked to your question so you continue to expose both old implementation and new implementation under different urls. If this is not the case because of the constraint you mention <code>However, I cannot add another class file to the same package.</code> then you can do the workaround I have written in this answer as to have both versions from the same file offered. But this would not be best practice to be used often.</p>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":544,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74316758,"answer_count":1,"score":2,"last_activity_date":1667563854,"creation_date":1667558200,"question_id":74315653,"body_markdown":"As far as I know, we can version our APIs for some reason e.g. there is a change needed for the current API but we also need to use it in its previous state. \r\n\r\nFor this purpose, I generally use the following approach from start when building a project:\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/v1&quot;)\r\npublic class AuthController {\r\n\r\n}\r\n```\r\n\r\nHowever, when I try to add another as mentioned on [this](https://stackoverflow.com/questions/62946106/api-versioning-in-spring-boot) page (in the same Controller file) I get Duplicate class error. However, I cannot add another class file to the same package. \r\n\r\nSo, could you pls clarify me about the following issues?\r\n\r\n1. What is the purpose of using API versioning? Is the idea that I gave at the beginning one of the reason for that?\r\n\r\n2. How can I use API versioning for my endpoints? Is there any extra implementation needed on another Spring Boot files? \r\n","title":"Spring Boot API versioning using @RequestMapping","body":"<p>As far as I know, we can version our APIs for some reason e.g. there is a change needed for the current API but we also need to use it in its previous state.</p>\n<p>For this purpose, I generally use the following approach from start when building a project:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/v1&quot;)\npublic class AuthController {\n\n}\n</code></pre>\n<p>However, when I try to add another as mentioned on <a href=\"https://stackoverflow.com/questions/62946106/api-versioning-in-spring-boot\">this</a> page (in the same Controller file) I get Duplicate class error. However, I cannot add another class file to the same package.</p>\n<p>So, could you pls clarify me about the following issues?</p>\n<ol>\n<li><p>What is the purpose of using API versioning? Is the idea that I gave at the beginning one of the reason for that?</p>\n</li>\n<li><p>How can I use API versioning for my endpoints? Is there any extra implementation needed on another Spring Boot files?</p>\n</li>\n</ol>\n"},{"tags":["java","spring","serialization","jackson"],"comments":[{"owner":{"account_id":3415784,"reputation":60457,"user_id":2864740,"accept_rate":78,"display_name":"user2864740"},"score":0,"creation_date":1509144397,"post_id":46984314,"comment_id":80916126,"body_markdown":"Map it to/from a Dictionary/HashMap? Use a custom serialization? POJO fields themselves are *fixed names*.","body":"Map it to/from a Dictionary/HashMap? Use a custom serialization? POJO fields themselves are <i>fixed names</i>."},{"owner":{"account_id":465939,"reputation":3614,"user_id":870382,"accept_rate":56,"display_name":"Novice User"},"score":0,"creation_date":1509145273,"post_id":46984314,"comment_id":80916354,"body_markdown":"Can you explain the map approach a bit more ? Won&#39;t it then serialize using the property name of the map field ? I do not want custom serializer as I am mostly using POJO&#39;s with any Jackson annotations, so just for this case I do not want unless necessary","body":"Can you explain the map approach a bit more ? Won&#39;t it then serialize using the property name of the map field ? I do not want custom serializer as I am mostly using POJO&#39;s with any Jackson annotations, so just for this case I do not want unless necessary"}],"answers":[{"tags":[],"owner":{"account_id":390441,"reputation":32048,"user_id":750510,"accept_rate":98,"display_name":"madhead"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1509150154,"creation_date":1509149426,"answer_id":46985005,"question_id":46984314,"body_markdown":"Unfortunately, you cannot have _dynamic_ fields in Java classes (unlike some other languages), so you have two choices:\r\n\r\n 1. Using [`Map`][1]s\r\n 1. Using JSON objects (i.e. [`JsonNode`][2] in case of Jackson)\r\n\r\nSuppose, you have a data like this:\r\n\r\n\t{\r\n\t\t&quot;record&quot;: {\r\n\t\t\t&quot;jon-skeet&quot;: {\r\n\t\t\t\t&quot;name&quot;: &quot;Jon Skeet&quot;,\r\n\t\t\t\t&quot;rep&quot;: 982706\r\n\t\t\t},\r\n\t\t\t&quot;darin-dimitrov&quot;: {\r\n\t\t\t\t&quot;name&quot;: &quot;Darin Dimitrov&quot;,\r\n\t\t\t\t&quot;rep&quot;: 762173\r\n\t\t\t},\r\n\t\t\t&quot;novice-user&quot;: {\r\n\t\t\t\t&quot;name&quot;: &quot;Novice User&quot;,\r\n\t\t\t\t&quot;rep&quot;: 766\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nCreate two classes to capture it, one for user and another for the object itself:\r\n\r\n_User.java_:\r\n\r\n\tpublic class User {\r\n\t\tprivate String name;\r\n\t\tprivate Long rep;\r\n\t\r\n\t\tpublic String getName() { return name; }\r\n\t\r\n\t\tpublic void setName(String name) { this.name = name; }\r\n\t\r\n\t\tpublic Long getRep() { return rep; }\r\n\t\r\n\t\tpublic void setRep(Long rep) { this.rep = rep; }\r\n\t\r\n\t\t@Override\r\n\t\tpublic String toString() {\r\n\t\t\treturn &quot;User{&quot; +\r\n\t\t\t\t\t&quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n\t\t\t\t\t&quot;, rep=&quot; + rep +\r\n\t\t\t\t\t&#39;}&#39;;\r\n\t\t}\r\n\t}\r\n\r\n_Data.java_:\r\n\r\n\tpublic class Data {\r\n\t\tprivate Map&lt;String, User&gt; record;\r\n\t\r\n\t\tpublic Map&lt;String, User&gt; getRecord() { return record; }\r\n\t\r\n\t\tpublic void setRecord(Map&lt;String, User&gt; record) { this.record = record; }\r\n\t\r\n\t\t@Override\r\n\t\tpublic String toString() {\r\n\t\t\treturn &quot;Data{&quot; +\r\n\t\t\t\t\t&quot;record=&quot; + record +\r\n\t\t\t\t\t&#39;}&#39;;\r\n\t\t}\r\n\t}\r\n\r\nNow, parse the JSON (I assume there is a `data.json` file in the root of your classpath):\r\n\r\n\tpublic class App {\r\n\t\tpublic static void main(String[] args) throws Exception {\r\n\t\t\tfinal ObjectMapper objectMapper = new ObjectMapper();\r\n\t\r\n\t\t\tSystem.out.println(objectMapper.readValue(App.class.getResourceAsStream(&quot;/data.json&quot;), Data.class));\r\n\t\t\tSystem.out.println(objectMapper.readTree(App.class.getResourceAsStream(&quot;/data.json&quot;)));\r\n\t\t}\r\n\t}\r\n\r\nThis will output:\r\n\r\n    Data{record={jon-skeet=User{name=&#39;Jon Skeet&#39;, rep=982706}, darin-dimitrov=User{name=&#39;Darin Dimitrov&#39;, rep=762173}, novice-user=User{name=&#39;Novice User&#39;, rep=766}}}\r\n    {&quot;record&quot;:{&quot;jon-skeet&quot;:{&quot;name&quot;:&quot;Jon Skeet&quot;,&quot;rep&quot;:982706},&quot;darin-dimitrov&quot;:{&quot;name&quot;:&quot;Darin Dimitrov&quot;,&quot;rep&quot;:762173},&quot;novice-user&quot;:{&quot;name&quot;:&quot;Novice User&quot;,&quot;rep&quot;:766}}}\r\n\r\nIn case of a `Map` you can use some static classes, like `User` in this case, or go completely dynamic by using `Map`s of `Map`s (`Map&lt;String, Map&lt;String, ...&gt;&gt;`. However, if you find yourself using too much maps, consider switching to `JsonNode`s. Basically, they are the same as `Map` and &quot;invented&quot; specifically for highly dynamic data. Though, you&#39;ll have some hard time working with them later...\r\n\r\nTake a look at a complete example, I&#39;ve prepared for you [here][3].\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html\r\n  [2]: http://fasterxml.github.io/jackson-databind/javadoc/2.9/com/fasterxml/jackson/databind/JsonNode.html\r\n  [3]: https://github.com/madhead/playgrounds/tree/master/46984314","title":"Jackson JSON key as value in Java","body":"<p>Unfortunately, you cannot have <em>dynamic</em> fields in Java classes (unlike some other languages), so you have two choices:</p>\n\n<ol>\n<li>Using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html\" rel=\"nofollow noreferrer\"><code>Map</code></a>s</li>\n<li>Using JSON objects (i.e. <a href=\"http://fasterxml.github.io/jackson-databind/javadoc/2.9/com/fasterxml/jackson/databind/JsonNode.html\" rel=\"nofollow noreferrer\"><code>JsonNode</code></a> in case of Jackson)</li>\n</ol>\n\n<p>Suppose, you have a data like this:</p>\n\n<pre><code>{\n    \"record\": {\n        \"jon-skeet\": {\n            \"name\": \"Jon Skeet\",\n            \"rep\": 982706\n        },\n        \"darin-dimitrov\": {\n            \"name\": \"Darin Dimitrov\",\n            \"rep\": 762173\n        },\n        \"novice-user\": {\n            \"name\": \"Novice User\",\n            \"rep\": 766\n        }\n    }\n}\n</code></pre>\n\n<p>Create two classes to capture it, one for user and another for the object itself:</p>\n\n<p><em>User.java</em>:</p>\n\n<pre><code>public class User {\n    private String name;\n    private Long rep;\n\n    public String getName() { return name; }\n\n    public void setName(String name) { this.name = name; }\n\n    public Long getRep() { return rep; }\n\n    public void setRep(Long rep) { this.rep = rep; }\n\n    @Override\n    public String toString() {\n        return \"User{\" +\n                \"name='\" + name + '\\'' +\n                \", rep=\" + rep +\n                '}';\n    }\n}\n</code></pre>\n\n<p><em>Data.java</em>:</p>\n\n<pre><code>public class Data {\n    private Map&lt;String, User&gt; record;\n\n    public Map&lt;String, User&gt; getRecord() { return record; }\n\n    public void setRecord(Map&lt;String, User&gt; record) { this.record = record; }\n\n    @Override\n    public String toString() {\n        return \"Data{\" +\n                \"record=\" + record +\n                '}';\n    }\n}\n</code></pre>\n\n<p>Now, parse the JSON (I assume there is a <code>data.json</code> file in the root of your classpath):</p>\n\n<pre><code>public class App {\n    public static void main(String[] args) throws Exception {\n        final ObjectMapper objectMapper = new ObjectMapper();\n\n        System.out.println(objectMapper.readValue(App.class.getResourceAsStream(\"/data.json\"), Data.class));\n        System.out.println(objectMapper.readTree(App.class.getResourceAsStream(\"/data.json\")));\n    }\n}\n</code></pre>\n\n<p>This will output:</p>\n\n<pre><code>Data{record={jon-skeet=User{name='Jon Skeet', rep=982706}, darin-dimitrov=User{name='Darin Dimitrov', rep=762173}, novice-user=User{name='Novice User', rep=766}}}\n{\"record\":{\"jon-skeet\":{\"name\":\"Jon Skeet\",\"rep\":982706},\"darin-dimitrov\":{\"name\":\"Darin Dimitrov\",\"rep\":762173},\"novice-user\":{\"name\":\"Novice User\",\"rep\":766}}}\n</code></pre>\n\n<p>In case of a <code>Map</code> you can use some static classes, like <code>User</code> in this case, or go completely dynamic by using <code>Map</code>s of <code>Map</code>s (<code>Map&lt;String, Map&lt;String, ...&gt;&gt;</code>. However, if you find yourself using too much maps, consider switching to <code>JsonNode</code>s. Basically, they are the same as <code>Map</code> and \"invented\" specifically for highly dynamic data. Though, you'll have some hard time working with them later...</p>\n\n<p>Take a look at a complete example, I've prepared for you <a href=\"https://github.com/madhead/playgrounds/tree/master/46984314\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":10581240,"reputation":75,"user_id":7794964,"display_name":"Matt Goodwin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522293341,"creation_date":1522293341,"answer_id":49547429,"question_id":46984314,"body_markdown":"This is in Kotlin but I have found a solution to the same problem using Jackson.\r\n\r\nYou don&#39;t need the root node &quot;record&quot;, so you will need to get rid of it or start one node deeper(you&#39;re on your own there) but to turn the list of records that are children of their id into a list of records with id in the object follows:\r\n\r\n        val node = ObjectMapper().reader().readTree(json)\r\n\r\n        val recordList = mutableListOf&lt;Record&gt;()\r\n        node.fields().iterator().forEach {\r\n            val record = record(\r\n                    it.key,\r\n                    it.value.get(&quot;name&quot;).asText(),\r\n                    it.value.get(&quot;rep&quot;).asText()\r\n            )\r\n\r\n            recordList.add(event)\r\n        }\r\n\r\nnode.fields() returns a map of children(also maps)\r\n\r\niterating through the parent map you will get the id from the key and then the nested data is in the value (which is another map)\r\n\r\neach child of fields is key : value where\r\n\r\n    key = record id\r\n    value = nested data (map)\r\n\r\nThis solution, you don&#39;t need multiple classes to deserialize a list of classes.","title":"Jackson JSON key as value in Java","body":"<p>This is in Kotlin but I have found a solution to the same problem using Jackson.</p>\n\n<p>You don't need the root node \"record\", so you will need to get rid of it or start one node deeper(you're on your own there) but to turn the list of records that are children of their id into a list of records with id in the object follows:</p>\n\n<pre><code>    val node = ObjectMapper().reader().readTree(json)\n\n    val recordList = mutableListOf&lt;Record&gt;()\n    node.fields().iterator().forEach {\n        val record = record(\n                it.key,\n                it.value.get(\"name\").asText(),\n                it.value.get(\"rep\").asText()\n        )\n\n        recordList.add(event)\n    }\n</code></pre>\n\n<p>node.fields() returns a map of children(also maps)</p>\n\n<p>iterating through the parent map you will get the id from the key and then the nested data is in the value (which is another map)</p>\n\n<p>each child of fields is key : value where</p>\n\n<pre><code>key = record id\nvalue = nested data (map)\n</code></pre>\n\n<p>This solution, you don't need multiple classes to deserialize a list of classes.</p>\n"},{"tags":[],"owner":{"account_id":16919246,"reputation":101,"user_id":12236439,"display_name":"Sai Vamsi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667563581,"creation_date":1667563581,"answer_id":74316819,"question_id":46984314,"body_markdown":"I have my data in this format:\r\n\r\n    {\r\n     &quot;0&quot; : {&quot;a&quot;: {}}, {&quot;b&quot;: {}}, ...\r\n     &quot;1&quot; : {&quot;c&quot;: {}}, {&quot;d&quot;: {}}, ...\r\n      .\r\n      .\r\n      .\r\n\r\n    }\r\n\r\nI am able to capture it into a map using the dynamic capture feature of jackson by using @JsonAnySetter annotation.\r\n\r\n    public class Destination{\r\n\r\n        Map&lt;String, Object&gt; destination = new LinkedHashMap&lt;&gt;();\r\n\r\n        @JsonAnySetter\r\n        void setDestination(String key, Object value) {\r\n            destination.put(key, value);\r\n        }\r\n\r\n    }","title":"Jackson JSON key as value in Java","body":"<p>I have my data in this format:</p>\n<pre><code>{\n &quot;0&quot; : {&quot;a&quot;: {}}, {&quot;b&quot;: {}}, ...\n &quot;1&quot; : {&quot;c&quot;: {}}, {&quot;d&quot;: {}}, ...\n  .\n  .\n  .\n\n}\n</code></pre>\n<p>I am able to capture it into a map using the dynamic capture feature of jackson by using @JsonAnySetter annotation.</p>\n<pre><code>public class Destination{\n\n    Map&lt;String, Object&gt; destination = new LinkedHashMap&lt;&gt;();\n\n    @JsonAnySetter\n    void setDestination(String key, Object value) {\n        destination.put(key, value);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":465939,"reputation":3614,"user_id":870382,"accept_rate":56,"display_name":"Novice User"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5202,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":46985005,"answer_count":3,"score":2,"last_activity_date":1667563581,"creation_date":1509143766,"question_id":46984314,"body_markdown":"I&#39;m using Jackson in Spring MVC application. I want to use a String value as key name for Java POJO --&gt; JSON \r\n\r\n    &quot;record&quot;: {\r\n            &quot;&lt;Dynamic record name String&gt;&quot;: {\r\n              &quot;value&quot;: { \r\n              ....\r\n              }\r\n          }\r\n     }     \r\n\r\nSo the dynamic record name String could be &quot;abcd&quot;,&quot;xyz&quot; or any other string value. How can I define my &quot;record&quot; POJO to have a key like that ?","title":"Jackson JSON key as value in Java","body":"<p>I'm using Jackson in Spring MVC application. I want to use a String value as key name for Java POJO --> JSON </p>\n\n<pre><code>\"record\": {\n        \"&lt;Dynamic record name String&gt;\": {\n          \"value\": { \n          ....\n          }\n      }\n }     \n</code></pre>\n\n<p>So the dynamic record name String could be \"abcd\",\"xyz\" or any other string value. How can I define my \"record\" POJO to have a key like that ?</p>\n"},{"tags":["java","spring","aop"],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":2,"up_vote_count":5,"is_accepted":true,"score":3,"last_activity_date":1667563570,"creation_date":1631277691,"answer_id":69132369,"question_id":69131434,"body_markdown":"A lot has been written about how proxies are implemented in Spring, see my answers in the following posts:\r\n\r\n- https://stackoverflow.com/a/58207312/438154\r\n- https://stackoverflow.com/a/26893834/438154\r\n\r\nIn short, with `ScopedProxyMode.TARGET_CLASS`, Spring will use [CGLIB][1] to generate a subclass of `RandomNumberGenerator`. The class will have a name like `RandomNumberGenerator$$EnhancerByCGLIB$$d0daae41`.\r\n\r\nThis class overrides (almost) all the methods of `RandomNumberGenerator` to act as factories and delegators. Each of these overriden methods will produce a new instance (per request) of the real `RandomNumberGenerator` type and delegate the method call to it.\r\n\r\n\r\nSpring will create an instance of this new CGLIB class and inject it into your `@Controller` class&#39; field\r\n\r\n```\r\n@Autowired\r\nRandomNumberGenerator numberGenerator;\r\n```\r\n\r\nYou can call `getClass` on this object (one of the methods that is not overriden). You&#39;d see something like\r\n\r\n&gt; RandomNumberGenerator$$EnhancerByCGLIB$$d0daae41\r\n\r\nindicating that this is the proxy object.\r\n\r\nWhen you call the (overriden) methods\r\n\r\n```\r\nnumberGenerator.getNumber()\r\n```\r\n\r\nThat CGLIB class will use Spring&#39;s `ApplicationContext` to generate a new `RandomNumberGenerator` bean and invoke the `getNumber()` method on it.\r\n\r\n\r\n----\r\n\r\nThe `scopeName` controls the scope of the bean. Spring will use [`RequestScope`][2] to handle these beans. If your controller called `getNumber()` twice, you should get the same value. The proxy (through the `RequestScope`) would internally cache the new, per-request object\r\n```\r\n@GetMapping(path = &quot;/number&quot;)\r\npublic double getNumber(){\r\n  System.out.println(numberGenerator.getNumber() == numberGenerator.getNumber()); // true\r\n  return 123d;\r\n}\r\n```\r\n\r\nIf you had used a scope like &quot;session&quot;, Spring would cache the real object across multiple requests. You can even use scope &quot;singleton&quot; and the object would be cached across all requests.\r\n\r\n----\r\n\r\nIf you really needed to, you can retrieve the actual instance with the techniques described here\r\n\r\n- https://stackoverflow.com/questions/8121551/is-it-possible-to-unproxy-a-spring-bean\r\n\r\nFor example,\r\n```\r\nObject real = ((Advised)numberGenerator).getTargetSource().getTarget();\r\n```\r\n\r\n\r\n---- \r\n\r\nAs for `System.identityHashCode`, you&#39;re calling it by passing the proxy object to it. There&#39;s only one proxy object, so the call will always return the same value. \r\n\r\nNote that [`identityHashCode`][3] is not guaranteed to return different values for different objects. Its javadoc states\r\n\r\n&gt; Returns the same hash code for the given object as would be returned\r\n&gt; by the default method `hashCode()`, whether or not the given object&#39;s\r\n&gt; class overrides `hashCode()`. The hash code for the null reference is\r\n&gt; zero.\r\n\r\nand [`hashCode()`&#39;s javadoc][4] states\r\n\r\n&gt; It is **not required** that if two objects are **unequal** according to\r\n&gt; the `equals(java.lang.Object)` method, then calling the hashCode\r\n&gt; method on each of the two objects must produce **distinct** integer\r\n&gt; results.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/38089200/what-is-cglib-in-spring-framework#:~:text=CGLIB%20is%20a%20code%20generation,use%20CGLIB%20based%20proxies%20explicitly.\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/context/request/RequestScope.html\r\n  [3]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/System.html#identityHashCode(java.lang.Object)\r\n  [4]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#hashCode()","title":"How proxyMode and scopeName works under the hood?","body":"<p>A lot has been written about how proxies are implemented in Spring, see my answers in the following posts:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/58207312/438154\">https://stackoverflow.com/a/58207312/438154</a></li>\n<li><a href=\"https://stackoverflow.com/a/26893834/438154\">https://stackoverflow.com/a/26893834/438154</a></li>\n</ul>\n<p>In short, with <code>ScopedProxyMode.TARGET_CLASS</code>, Spring will use <a href=\"https://stackoverflow.com/questions/38089200/what-is-cglib-in-spring-framework#:%7E:text=CGLIB%20is%20a%20code%20generation,use%20CGLIB%20based%20proxies%20explicitly.\">CGLIB</a> to generate a subclass of <code>RandomNumberGenerator</code>. The class will have a name like <code>RandomNumberGenerator$$EnhancerByCGLIB$$d0daae41</code>.</p>\n<p>This class overrides (almost) all the methods of <code>RandomNumberGenerator</code> to act as factories and delegators. Each of these overriden methods will produce a new instance (per request) of the real <code>RandomNumberGenerator</code> type and delegate the method call to it.</p>\n<p>Spring will create an instance of this new CGLIB class and inject it into your <code>@Controller</code> class' field</p>\n<pre><code>@Autowired\nRandomNumberGenerator numberGenerator;\n</code></pre>\n<p>You can call <code>getClass</code> on this object (one of the methods that is not overriden). You'd see something like</p>\n<blockquote>\n<p>RandomNumberGenerator$$EnhancerByCGLIB$$d0daae41</p>\n</blockquote>\n<p>indicating that this is the proxy object.</p>\n<p>When you call the (overriden) methods</p>\n<pre><code>numberGenerator.getNumber()\n</code></pre>\n<p>That CGLIB class will use Spring's <code>ApplicationContext</code> to generate a new <code>RandomNumberGenerator</code> bean and invoke the <code>getNumber()</code> method on it.</p>\n<hr />\n<p>The <code>scopeName</code> controls the scope of the bean. Spring will use <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/context/request/RequestScope.html\" rel=\"nofollow noreferrer\"><code>RequestScope</code></a> to handle these beans. If your controller called <code>getNumber()</code> twice, you should get the same value. The proxy (through the <code>RequestScope</code>) would internally cache the new, per-request object</p>\n<pre><code>@GetMapping(path = &quot;/number&quot;)\npublic double getNumber(){\n  System.out.println(numberGenerator.getNumber() == numberGenerator.getNumber()); // true\n  return 123d;\n}\n</code></pre>\n<p>If you had used a scope like &quot;session&quot;, Spring would cache the real object across multiple requests. You can even use scope &quot;singleton&quot; and the object would be cached across all requests.</p>\n<hr />\n<p>If you really needed to, you can retrieve the actual instance with the techniques described here</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/8121551/is-it-possible-to-unproxy-a-spring-bean\">Is it possible to unproxy a Spring bean?</a></li>\n</ul>\n<p>For example,</p>\n<pre><code>Object real = ((Advised)numberGenerator).getTargetSource().getTarget();\n</code></pre>\n<hr />\n<p>As for <code>System.identityHashCode</code>, you're calling it by passing the proxy object to it. There's only one proxy object, so the call will always return the same value.</p>\n<p>Note that <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/System.html#identityHashCode(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>identityHashCode</code></a> is not guaranteed to return different values for different objects. Its javadoc states</p>\n<blockquote>\n<p>Returns the same hash code for the given object as would be returned\nby the default method <code>hashCode()</code>, whether or not the given object's\nclass overrides <code>hashCode()</code>. The hash code for the null reference is\nzero.</p>\n</blockquote>\n<p>and <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#hashCode()\" rel=\"nofollow noreferrer\"><code>hashCode()</code>'s javadoc</a> states</p>\n<blockquote>\n<p>It is <strong>not required</strong> that if two objects are <strong>unequal</strong> according to\nthe <code>equals(java.lang.Object)</code> method, then calling the hashCode\nmethod on each of the two objects must produce <strong>distinct</strong> integer\nresults.</p>\n</blockquote>\n"}],"owner":{"account_id":10645250,"reputation":3023,"user_id":7838169,"display_name":"badger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":322,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69132369,"answer_count":1,"score":0,"last_activity_date":1667563570,"creation_date":1631272762,"question_id":69131434,"body_markdown":"I am studying Spring framework and I saw some thing that I couldn&#39;t explain what happens actually. \r\nsuppose we have this simple Service class:\r\n\r\n    @Service\r\n    @Scope(scopeName = WebApplicationContext.SCOPE_REQUEST, proxyMode = ScopedProxyMode.TARGET_CLASS)\r\n    public class RandomNumberGenerator {\r\n    \r\n      double number;\r\n      public RandomNumberGenerator() {\r\n        System.out.println(&quot;Constructor is called!&quot;);\r\n        number = Math.random();\r\n      }\r\n    \r\n      public double getNumber() {\r\n        return number;\r\n      }\r\n    }\r\n\r\nand the following controller that uses above service:\r\n\r\n    @RestController\r\n    public class NumberController {\r\n    \r\n      @Autowired\r\n      RandomNumberGenerator numberGenerator;\r\n    \r\n      @GetMapping(path = &quot;/number&quot;)\r\n      public double getNumber(){\r\n        System.out.println(System.identityHashCode(numberGenerator));\r\n        return numberGenerator.getNumber();\r\n      }\r\n    }\r\n\r\nI postulated that with every request a new `RandomNumberGenerator numberGenerator` instance will be created and so I should have different numbers printed in the  `System.out.println(System.identityHashCode(numberGenerator));` but strangely I got the same number with every request but I can see with every request constructor of the `RandomNumberGenerator` is called!\r\n\r\n\r\nfor example you can see my console output:\r\n\r\n    257434344\r\n    Constructor is called!\r\n    257434344\r\n    Constructor is called!\r\n    257434344\r\n    Constructor is called!\r\n    257434344\r\n    Constructor is called!\r\n    257434344\r\n    Constructor is called!\r\n    257434344\r\n    Constructor is called!\r\n    257434344\r\n    Constructor is called!\r\n    257434344\r\n    Constructor is called!\r\n    257434344\r\n    Constructor is called!\r\n    257434344\r\n    Constructor is called!\r\n    257434344\r\n    Constructor is called!\r\n    257434344\r\n\r\n\r\n\r\n\r\nmy question is why I get the same number even though constructor is called? isn&#39;t `System.out.println(System.identityHashCode(numberGenerator))` should returns different integers?","title":"How proxyMode and scopeName works under the hood?","body":"<p>I am studying Spring framework and I saw some thing that I couldn't explain what happens actually.\nsuppose we have this simple Service class:</p>\n<pre><code>@Service\n@Scope(scopeName = WebApplicationContext.SCOPE_REQUEST, proxyMode = ScopedProxyMode.TARGET_CLASS)\npublic class RandomNumberGenerator {\n\n  double number;\n  public RandomNumberGenerator() {\n    System.out.println(&quot;Constructor is called!&quot;);\n    number = Math.random();\n  }\n\n  public double getNumber() {\n    return number;\n  }\n}\n</code></pre>\n<p>and the following controller that uses above service:</p>\n<pre><code>@RestController\npublic class NumberController {\n\n  @Autowired\n  RandomNumberGenerator numberGenerator;\n\n  @GetMapping(path = &quot;/number&quot;)\n  public double getNumber(){\n    System.out.println(System.identityHashCode(numberGenerator));\n    return numberGenerator.getNumber();\n  }\n}\n</code></pre>\n<p>I postulated that with every request a new <code>RandomNumberGenerator numberGenerator</code> instance will be created and so I should have different numbers printed in the  <code>System.out.println(System.identityHashCode(numberGenerator));</code> but strangely I got the same number with every request but I can see with every request constructor of the <code>RandomNumberGenerator</code> is called!</p>\n<p>for example you can see my console output:</p>\n<pre><code>257434344\nConstructor is called!\n257434344\nConstructor is called!\n257434344\nConstructor is called!\n257434344\nConstructor is called!\n257434344\nConstructor is called!\n257434344\nConstructor is called!\n257434344\nConstructor is called!\n257434344\nConstructor is called!\n257434344\nConstructor is called!\n257434344\nConstructor is called!\n257434344\nConstructor is called!\n257434344\n</code></pre>\n<p>my question is why I get the same number even though constructor is called? isn't <code>System.out.println(System.identityHashCode(numberGenerator))</code> should returns different integers?</p>\n"},{"tags":["java","json","spring","spring-mvc","resttemplate"],"answers":[{"tags":[],"owner":{"account_id":271922,"reputation":8007,"user_id":562721,"accept_rate":43,"display_name":"jny"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1513895334,"creation_date":1513895334,"answer_id":47933569,"question_id":47931467,"body_markdown":"It is not going to work the way you have it now. You don&#39;t need the `Rates` class, you can get rid of it entirely and use:\r\n\r\n    private Map&lt;String, Double&gt; rates\r\n\r\nin the currency class.\r\n   ","title":"RestTemplate mapping to Map instead of fields","body":"<p>It is not going to work the way you have it now. You don't need the <code>Rates</code> class, you can get rid of it entirely and use:</p>\n\n<pre><code>private Map&lt;String, Double&gt; rates\n</code></pre>\n\n<p>in the currency class.</p>\n"},{"tags":[],"owner":{"account_id":16919246,"reputation":101,"user_id":12236439,"display_name":"Sai Vamsi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667563203,"creation_date":1667563203,"answer_id":74316722,"question_id":47931467,"body_markdown":"You could use the dynamic object mapping of jackson library.\r\n\r\n    private Map&lt;String, Object&gt; rates = new LinkedHashMap&lt;&gt;();\r\n    \r\n    @JsonAnySetter\r\n    void setRates(String key, Object value) {\r\n        rates.put(key, value);\r\n    }\r\n","title":"RestTemplate mapping to Map instead of fields","body":"<p>You could use the dynamic object mapping of jackson library.</p>\n<pre><code>private Map&lt;String, Object&gt; rates = new LinkedHashMap&lt;&gt;();\n\n@JsonAnySetter\nvoid setRates(String key, Object value) {\n    rates.put(key, value);\n}\n</code></pre>\n"}],"owner":{"account_id":12281026,"reputation":370,"user_id":8962614,"accept_rate":100,"display_name":"Gromo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1842,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":47933569,"answer_count":2,"score":0,"last_activity_date":1667563203,"creation_date":1513884046,"question_id":47931467,"body_markdown":"I&#39;ve wrote simple currency converter which reads JSON from web service and prepare table on website with selected ratios.\r\n\r\nUntil now, my Rates class had field for each ratio, but I decided to change it to `Map`. I rewrote entire class using `Map` but `RestTemplate` is unable to map `JSON` data to my HashMap. Entire field is considered as `null`.\r\nHow can I reconfigure `RestTemplate` or `ObjectMapper` to enable mapping `JSON` to `Map`?\r\n\r\n[Example JSON string that I am trying to map][1]\r\n\r\n\r\nRepository class I am using to read `JSON` and to map it on object:\r\n    package com.github.gromo13.currencyConverter.repository;\r\n    \r\n    import com.github.gromo13.currencyConverter.model.Currency;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Repository;\r\n    import org.springframework.web.client.RestTemplate;\r\n    \r\n    @Repository\r\n    public class FixerIoCurrencyRepository implements CurrencyRepository {\r\n        @Autowired\r\n        private RestTemplate restTemplate;\r\n    \r\n        public void setRestTemplate(RestTemplate restTemplate) {\r\n            this.restTemplate = restTemplate;\r\n        }\r\n    \r\n        @Override\r\n        public Currency getCurrency(String currencyCode) {\r\n            Currency currency = restTemplate.getForObject(&quot;http://api.fixer.io/latest?base={currencyCode}&quot;, Currency.class, currencyCode);\r\n    \r\n            return currency;\r\n        }\r\n    }\r\n\r\n\r\nCurrency class I am mapping using JSON data:\r\n    package com.github.gromo13.currencyConverter.model;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n    \r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class Currency {\r\n        private String base;\r\n        private String date;\r\n        private Rates rates;\r\n    \r\n        public String getBase() {\r\n            return this.base;\r\n        }\r\n    \r\n        public void setBase(String base) {\r\n            this.base = base;\r\n        }\r\n    \r\n        public String getDate() {\r\n            return this.date;\r\n        }\r\n    \r\n        public void setDate(String date) {\r\n            this.date = date;\r\n        }\r\n    \r\n        public Rates getRates() {\r\n            return this.rates;\r\n        }\r\n    \r\n        public void setRates(Rates rates) {\r\n            this.rates = rates;\r\n        }\r\n    }\r\n\r\n\r\nRates class (field in Currency class) with `Map` that i am unable to map:\r\npackage com.github.gromo13.currencyConverter.model;\r\n    import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n    \r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class Rates {\r\n        private Map&lt;String, Double&gt; rates = new HashMap&lt;&gt;();\r\n    \r\n        public void clear() {\r\n            rates.clear();\r\n        }\r\n    \r\n        public void setRate(String currencyCode, double rate) {\r\n            rates.put(currencyCode.toUpperCase(), rate);\r\n        }\r\n    \r\n        public double getRate(String currencyCode) {\r\n            return rates.get(currencyCode.toUpperCase());\r\n        }\r\n    }\r\n\r\n\r\nMy actual RestTemplate configuration:\r\n    package com.github.gromo13.currencyConverter.config;\r\n    \r\n    import com.fasterxml.jackson.databind.MapperFeature;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.http.converter.json.MappingJackson2HttpMessageConverter;\r\n    import org.springframework.web.client.RestTemplate;\r\n    \r\n    @Configuration\r\n    public class Config {\r\n        @Bean\r\n        public RestTemplate restTemplate() {\r\n            RestTemplate restTemplate = new RestTemplate();\r\n            restTemplate.getMessageConverters().add(0, mappingJackson2HttpMessageConverter());\r\n    \r\n            return restTemplate;\r\n        }\r\n    \r\n        @Bean\r\n        public ObjectMapper objectMapper() {\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            mapper.configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES, true);\r\n    \r\n            return mapper;\r\n        }\r\n    \r\n        @Bean\r\n        public MappingJackson2HttpMessageConverter mappingJackson2HttpMessageConverter() {\r\n            MappingJackson2HttpMessageConverter converter = new MappingJackson2HttpMessageConverter();\r\n            converter.setObjectMapper(objectMapper());\r\n    \r\n            return converter;\r\n        }\r\n    }\r\n\r\n  [1]: http://api.fixer.io/latest?base=EUR\r\n\r\n\r\n\r\n","title":"RestTemplate mapping to Map instead of fields","body":"<p>I've wrote simple currency converter which reads JSON from web service and prepare table on website with selected ratios.</p>\n\n<p>Until now, my Rates class had field for each ratio, but I decided to change it to <code>Map</code>. I rewrote entire class using <code>Map</code> but <code>RestTemplate</code> is unable to map <code>JSON</code> data to my HashMap. Entire field is considered as <code>null</code>.\nHow can I reconfigure <code>RestTemplate</code> or <code>ObjectMapper</code> to enable mapping <code>JSON</code> to <code>Map</code>?</p>\n\n<p><a href=\"http://api.fixer.io/latest?base=EUR\" rel=\"nofollow noreferrer\">Example JSON string that I am trying to map</a></p>\n\n<p>Repository class I am using to read <code>JSON</code> and to map it on object:\n    package com.github.gromo13.currencyConverter.repository;</p>\n\n<pre><code>import com.github.gromo13.currencyConverter.model.Currency;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Repository;\nimport org.springframework.web.client.RestTemplate;\n\n@Repository\npublic class FixerIoCurrencyRepository implements CurrencyRepository {\n    @Autowired\n    private RestTemplate restTemplate;\n\n    public void setRestTemplate(RestTemplate restTemplate) {\n        this.restTemplate = restTemplate;\n    }\n\n    @Override\n    public Currency getCurrency(String currencyCode) {\n        Currency currency = restTemplate.getForObject(\"http://api.fixer.io/latest?base={currencyCode}\", Currency.class, currencyCode);\n\n        return currency;\n    }\n}\n</code></pre>\n\n<p>Currency class I am mapping using JSON data:\n    package com.github.gromo13.currencyConverter.model;</p>\n\n<pre><code>import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class Currency {\n    private String base;\n    private String date;\n    private Rates rates;\n\n    public String getBase() {\n        return this.base;\n    }\n\n    public void setBase(String base) {\n        this.base = base;\n    }\n\n    public String getDate() {\n        return this.date;\n    }\n\n    public void setDate(String date) {\n        this.date = date;\n    }\n\n    public Rates getRates() {\n        return this.rates;\n    }\n\n    public void setRates(Rates rates) {\n        this.rates = rates;\n    }\n}\n</code></pre>\n\n<p>Rates class (field in Currency class) with <code>Map</code> that i am unable to map:\npackage com.github.gromo13.currencyConverter.model;\n    import com.fasterxml.jackson.annotation.JsonIgnoreProperties;</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\n\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class Rates {\n    private Map&lt;String, Double&gt; rates = new HashMap&lt;&gt;();\n\n    public void clear() {\n        rates.clear();\n    }\n\n    public void setRate(String currencyCode, double rate) {\n        rates.put(currencyCode.toUpperCase(), rate);\n    }\n\n    public double getRate(String currencyCode) {\n        return rates.get(currencyCode.toUpperCase());\n    }\n}\n</code></pre>\n\n<p>My actual RestTemplate configuration:\n    package com.github.gromo13.currencyConverter.config;</p>\n\n<pre><code>import com.fasterxml.jackson.databind.MapperFeature;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.converter.json.MappingJackson2HttpMessageConverter;\nimport org.springframework.web.client.RestTemplate;\n\n@Configuration\npublic class Config {\n    @Bean\n    public RestTemplate restTemplate() {\n        RestTemplate restTemplate = new RestTemplate();\n        restTemplate.getMessageConverters().add(0, mappingJackson2HttpMessageConverter());\n\n        return restTemplate;\n    }\n\n    @Bean\n    public ObjectMapper objectMapper() {\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES, true);\n\n        return mapper;\n    }\n\n    @Bean\n    public MappingJackson2HttpMessageConverter mappingJackson2HttpMessageConverter() {\n        MappingJackson2HttpMessageConverter converter = new MappingJackson2HttpMessageConverter();\n        converter.setObjectMapper(objectMapper());\n\n        return converter;\n    }\n}\n</code></pre>\n"},{"tags":["java","hashmap","java-stream","max"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1667483295,"post_id":74304041,"comment_id":131180801,"body_markdown":"`Stream#max` takes a `Comparator` object. You could pass it something like `Comparator.comparingInt(Map::length)`. If you&#39;re new to programming (and not just Java), I&#39;d suggest trying to use a `for` loop rather than mucking with streams right now.","body":"<code>Stream#max</code> takes a <code>Comparator</code> object. You could pass it something like <code>Comparator.comparingInt(Map::length)</code>. If you&#39;re new to programming (and not just Java), I&#39;d suggest trying to use a <code>for</code> loop rather than mucking with streams right now."},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1667483442,"post_id":74304041,"comment_id":131180863,"body_markdown":"You can achieve everything that stream does with for loop with better performance btw so start with that. Also it&#39;s easier to learn starting from for loop then going to streams","body":"You can achieve everything that stream does with for loop with better performance btw so start with that. Also it&#39;s easier to learn starting from for loop then going to streams"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667562420,"creation_date":1667484284,"answer_id":74304413,"question_id":74304041,"body_markdown":"# Use the Power of Objects\r\n\r\n&gt;  hashmap looks like `{&quot;Start&quot;:&quot;A&quot;, &quot;End&quot;:&quot;B&quot;,&quot;Length&quot;:5}`\r\n\r\nYou are misusing Maps, it definitely should be a custom **object**, with attributes having proper types instead of storing them as `java.lang.Object` in the map.\r\n\r\nFor example, that how it might look like, if we implemented as a [Java 16 record](https://docs.oracle.com/en/java/javase/18/language/records.html):\r\n\r\n```\r\npublic record Foo(String start, String end,int length) {}\r\n```\r\nNow things would be simple, instead of a nested collection you would have a list of `Foo`.\r\n\r\n# Find a single Max element\r\n\r\nTo find a `Foo` with maximum `length` you can use either [`Stream.max()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#max(java.util.Comparator)) or [`Collections.max()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#max(java.util.Collection)), both expect an instance of `Comparator` as an argument. \r\n\r\n```\r\nList&lt;Foo&gt; foos = // intializing the list\r\n\r\n// with Stream API\r\nFoo max = foos.stream()\r\n    .max(Comparator.comparingInt(Foo::length)) // produces Optional&lt;Foo&gt;\r\n    .orElseThrow();\r\n\r\n// using Collections.max()\r\nFoo max = Collections.max(foos, Comparator.comparingInt(Foo::length));\r\n```\r\n\r\n# Find a group of elements\r\n\r\nIf you want to obtain a Collection of objects having the largest value of `length`, then it would require a bit more effort.\r\n\r\nFor that can group the data by `length` into an intermediate Map by using Collector [`groupingBy()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#groupingBy(java.util.function.Function)), then create a stream over map entries and pick the entry with the highest key using `Stream.max()` (like it has been done above):\r\n\r\n```\r\nList&lt;Foo&gt; foos = // intializing the list\r\n        \r\nList&lt;Foo&gt; max = foos.stream()\r\n    .collect(Collectors.groupingBy(Foo::length)) // Map&lt;Integer, List&lt;Foo&gt;&gt;\r\n    .entrySet().stream()             // Stream&lt;Map.Entry&lt;Integer, List&lt;Foo&gt;&gt;&gt;\r\n    .max(Map.Entry.comparingByKey()) // Optional&lt;Map.Entry&lt;Integer, Foo&gt;&gt;\r\n    .map(Map.Entry::getValue)        // Optional&lt;List&lt;Foo&gt;&gt;\r\n    .orElse(Collections.emptyList());\r\n```\r\n\r\nAlternatively, it can be done without creating an intermediate Map and the second stream over its entries.\r\n\r\nTo achieve that we can use the *three-args* version of [`Stream.collect()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#collect(java.util.stream.Collector)) and accumulate stream elements into a list that would be returned as the result of the stream execution:\r\n\r\n```\r\nList&lt;Foo&gt; foos = // intializing the list\r\n        \r\nList&lt;Foo&gt; max = foos.stream()\r\n    .collect(\r\n        ArrayList::new,\r\n        (List&lt;Foo&gt; l, Foo f) -&gt; {\r\n            if (!l.isEmpty() &amp;&amp; l.get(0).length() &lt; f.length()) l.clear();\r\n            if (l.isEmpty() || l.get(0).length() == f.length()) l.add(f);\r\n        },\r\n        (l, r) -&gt; {\r\n            if (l.get(0).length() &lt; r.get(0).length()) l.clear();\r\n            if (l.isEmpty() || l.get(0).length() == r.get(0).length()) l.addAll(r);\r\n        }\r\n    );\r\n```\r\n\r\n***Sidenote:*** you might also want to learn https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface","title":"How use stream max for a List of Maps? ArrayList&lt;HashMap&lt;String, Object&gt;&gt;","body":"<h1>Use the Power of Objects</h1>\n<blockquote>\n<p>hashmap looks like <code>{&quot;Start&quot;:&quot;A&quot;, &quot;End&quot;:&quot;B&quot;,&quot;Length&quot;:5}</code></p>\n</blockquote>\n<p>You are misusing Maps, it definitely should be a custom <strong>object</strong>, with attributes having proper types instead of storing them as <code>java.lang.Object</code> in the map.</p>\n<p>For example, that how it might look like, if we implemented as a <a href=\"https://docs.oracle.com/en/java/javase/18/language/records.html\" rel=\"nofollow noreferrer\">Java 16 record</a>:</p>\n<pre><code>public record Foo(String start, String end,int length) {}\n</code></pre>\n<p>Now things would be simple, instead of a nested collection you would have a list of <code>Foo</code>.</p>\n<h1>Find a single Max element</h1>\n<p>To find a <code>Foo</code> with maximum <code>length</code> you can use either <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#max(java.util.Comparator)\" rel=\"nofollow noreferrer\"><code>Stream.max()</code></a> or <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#max(java.util.Collection)\" rel=\"nofollow noreferrer\"><code>Collections.max()</code></a>, both expect an instance of <code>Comparator</code> as an argument.</p>\n<pre><code>List&lt;Foo&gt; foos = // intializing the list\n\n// with Stream API\nFoo max = foos.stream()\n    .max(Comparator.comparingInt(Foo::length)) // produces Optional&lt;Foo&gt;\n    .orElseThrow();\n\n// using Collections.max()\nFoo max = Collections.max(foos, Comparator.comparingInt(Foo::length));\n</code></pre>\n<h1>Find a group of elements</h1>\n<p>If you want to obtain a Collection of objects having the largest value of <code>length</code>, then it would require a bit more effort.</p>\n<p>For that can group the data by <code>length</code> into an intermediate Map by using Collector <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#groupingBy(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>groupingBy()</code></a>, then create a stream over map entries and pick the entry with the highest key using <code>Stream.max()</code> (like it has been done above):</p>\n<pre><code>List&lt;Foo&gt; foos = // intializing the list\n        \nList&lt;Foo&gt; max = foos.stream()\n    .collect(Collectors.groupingBy(Foo::length)) // Map&lt;Integer, List&lt;Foo&gt;&gt;\n    .entrySet().stream()             // Stream&lt;Map.Entry&lt;Integer, List&lt;Foo&gt;&gt;&gt;\n    .max(Map.Entry.comparingByKey()) // Optional&lt;Map.Entry&lt;Integer, Foo&gt;&gt;\n    .map(Map.Entry::getValue)        // Optional&lt;List&lt;Foo&gt;&gt;\n    .orElse(Collections.emptyList());\n</code></pre>\n<p>Alternatively, it can be done without creating an intermediate Map and the second stream over its entries.</p>\n<p>To achieve that we can use the <em>three-args</em> version of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#collect(java.util.stream.Collector)\" rel=\"nofollow noreferrer\"><code>Stream.collect()</code></a> and accumulate stream elements into a list that would be returned as the result of the stream execution:</p>\n<pre><code>List&lt;Foo&gt; foos = // intializing the list\n        \nList&lt;Foo&gt; max = foos.stream()\n    .collect(\n        ArrayList::new,\n        (List&lt;Foo&gt; l, Foo f) -&gt; {\n            if (!l.isEmpty() &amp;&amp; l.get(0).length() &lt; f.length()) l.clear();\n            if (l.isEmpty() || l.get(0).length() == f.length()) l.add(f);\n        },\n        (l, r) -&gt; {\n            if (l.get(0).length() &lt; r.get(0).length()) l.clear();\n            if (l.isEmpty() || l.get(0).length() == r.get(0).length()) l.addAll(r);\n        }\n    );\n</code></pre>\n<p><em><strong>Sidenote:</strong></em> you might also want to learn <a href=\"https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface\">What does it mean to &quot;program to an interface&quot;?</a></p>\n"},{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667484704,"creation_date":1667484403,"answer_id":74304439,"question_id":74304041,"body_markdown":"In one shot, you can use `Collectors.groupingBy` like so:\r\n\r\n    List&lt;HashMap&lt;String, Object&gt;&gt; response = resultslist.stream()\r\n            .collect(Collectors.groupingBy(HashMap::size))\r\n            .entrySet().stream()\r\n            .max(Map.Entry.comparingByKey())\r\n            .map(Map.Entry::getValue)\r\n            .orElseGet(Collections::emptyList);\r\n\r\nThe idea is, to group by size (This step returns a Map of Integer and List of Map), then get the max of this map.","title":"How use stream max for a List of Maps? ArrayList&lt;HashMap&lt;String, Object&gt;&gt;","body":"<p>In one shot, you can use <code>Collectors.groupingBy</code> like so:</p>\n<pre><code>List&lt;HashMap&lt;String, Object&gt;&gt; response = resultslist.stream()\n        .collect(Collectors.groupingBy(HashMap::size))\n        .entrySet().stream()\n        .max(Map.Entry.comparingByKey())\n        .map(Map.Entry::getValue)\n        .orElseGet(Collections::emptyList);\n</code></pre>\n<p>The idea is, to group by size (This step returns a Map of Integer and List of Map), then get the max of this map.</p>\n"}],"owner":{"account_id":15273121,"reputation":23,"user_id":11019702,"display_name":"Michael Mo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":453,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74304413,"answer_count":2,"score":0,"last_activity_date":1667562420,"creation_date":1667482743,"question_id":74304041,"body_markdown":"I have an `ArrayList` of `HashMap`s and each `HashMap` looks like:\r\n\r\n    {&quot;Start&quot;:&quot;A&quot;, &quot;End&quot;:&quot;B&quot;,&quot;Length&quot;:5}\r\n\r\nI want to find the one that has the longest length, or maybe more than one, they all have the same length equal to the max length.\r\n\r\nTrying to use stream, how should I do it?\r\n\r\n    ArrayList&lt;HashMap&lt;String, Object&gt;&gt; resultslist = new ArrayList&lt;HashMap&lt;String, Object&gt;&gt;();\r\n    ArrayList&lt;HashMap&lt;String, Object&gt;&gt; finalresult = resultslist.stream().max()\r\n","title":"How use stream max for a List of Maps? ArrayList&lt;HashMap&lt;String, Object&gt;&gt;","body":"<p>I have an <code>ArrayList</code> of <code>HashMap</code>s and each <code>HashMap</code> looks like:</p>\n<pre><code>{&quot;Start&quot;:&quot;A&quot;, &quot;End&quot;:&quot;B&quot;,&quot;Length&quot;:5}\n</code></pre>\n<p>I want to find the one that has the longest length, or maybe more than one, they all have the same length equal to the max length.</p>\n<p>Trying to use stream, how should I do it?</p>\n<pre><code>ArrayList&lt;HashMap&lt;String, Object&gt;&gt; resultslist = new ArrayList&lt;HashMap&lt;String, Object&gt;&gt;();\nArrayList&lt;HashMap&lt;String, Object&gt;&gt; finalresult = resultslist.stream().max()\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1667556378,"post_id":74314924,"comment_id":131199056,"body_markdown":"First, you drop using `java.sql.Date` since it is poorly designed and long outdated, nothing you will want to struggle with. Use `LocalDate`. Second, you are asking the impossible. When you output a Java object, you are iplicitly calling its `toString` method. The `toString` methods of both `LocalDate` and `java.sql.Date` produce strings with hyphens in the format you saw, `yyyy-MM-dd`.","body":"First, you drop using <code>java.sql.Date</code> since it is poorly designed and long outdated, nothing you will want to struggle with. Use <code>LocalDate</code>. Second, you are asking the impossible. When you output a Java object, you are iplicitly calling its <code>toString</code> method. The <code>toString</code> methods of both <code>LocalDate</code> and <code>java.sql.Date</code> produce strings with hyphens in the format you saw, <code>yyyy-MM-dd</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1667556478,"post_id":74314924,"comment_id":131199093,"body_markdown":"You can get any format you want, but only in a `String`. For example `yourLocalDate.format(DateTimeFormatter.BASIC_ISO_DATE)` will give you `20021029` (provided that the date is Oct 29, 2002).","body":"You can get any format you want, but only in a <code>String</code>. For example <code>yourLocalDate.format(DateTimeFormatter.BASIC_ISO_DATE)</code> will give you <code>20021029</code> (provided that the date is Oct 29, 2002)."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":2,"creation_date":1667557656,"post_id":74314924,"comment_id":131199494,"body_markdown":"I understand that you want to convert a string to an instance of `java.sql.Date`. If I understand correctly, then an instance of `java.sql.Date` **does not have a format**. The format is only relevant when you want to convert the `java.util.Date` object to a string. Similarly, for your database, a column in a table whose data type is DATE also **does not have a format**. The format is only used when displaying the value stored in the column. So **forget the format**. Are you trying to update a DATE column in your database using [JDBC](https://docs.oracle.com/javase/tutorial/jdbc/index.html) ?","body":"I understand that you want to convert a string to an instance of <code>java.sql.Date</code>. If I understand correctly, then an instance of <code>java.sql.Date</code> <b>does not have a format</b>. The format is only relevant when you want to convert the <code>java.util.Date</code> object to a string. Similarly, for your database, a column in a table whose data type is DATE also <b>does not have a format</b>. The format is only used when displaying the value stored in the column. So <b>forget the format</b>. Are you trying to update a DATE column in your database using <a href=\"https://docs.oracle.com/javase/tutorial/jdbc/index.html\" rel=\"nofollow noreferrer\">JDBC</a> ?"},{"owner":{"account_id":22759602,"reputation":21,"user_id":16918637,"display_name":"Ken"},"score":0,"creation_date":1667562011,"post_id":74314924,"comment_id":131201050,"body_markdown":"@Abra Thanks, if it does not have a format, then I guess just by converting a String into Java.sql.Date type will suffice to insert into a DB.","body":"@Abra Thanks, if it does not have a format, then I guess just by converting a String into Java.sql.Date type will suffice to insert into a DB."},{"owner":{"account_id":22759602,"reputation":21,"user_id":16918637,"display_name":"Ken"},"score":0,"creation_date":1667562057,"post_id":74314924,"comment_id":131201066,"body_markdown":"@OleV.V. Thanks but I&#39;m unable to change the whole database just because something is outdated. May be for future projects I will keep it in mind.","body":"@OleV.V. Thanks but I&#39;m unable to change the whole database just because something is outdated. May be for future projects I will keep it in mind."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1667564305,"post_id":74314924,"comment_id":131201818,"body_markdown":"It doesnt require any database change, only a change in Java. And most likely only in the code that you are modifying anyway (if the old class is used elsewhere in the code, you can let that be for now if you want). See also [Insert &amp; fetch java.time.LocalDate objects to/from an SQL database such as H2](https://stackoverflow.com/questions/43039614/insert-fetch-java-time-localdate-objects-to-from-an-sql-database-such-as-h2).","body":"It doesnt require any database change, only a change in Java. And most likely only in the code that you are modifying anyway (if the old class is used elsewhere in the code, you can let that be for now if you want). See also <a href=\"https://stackoverflow.com/questions/43039614/insert-fetch-java-time-localdate-objects-to-from-an-sql-database-such-as-h2\">Insert &amp; fetch java.time.LocalDate objects to/from an SQL database such as H2</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1667564648,"post_id":74314924,"comment_id":131201924,"body_markdown":"`LocalDate.parse(fromUser).format(DateTimeFormatter.BASIC_ISO_DATE)`.","body":"<code>LocalDate.parse(fromUser).format(DateTimeFormatter.BASIC_ISO&zwnj;&#8203;_DATE)</code>."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667562409,"creation_date":1667562409,"answer_id":74316558,"question_id":74314924,"body_markdown":"Here are three ways to convert a string to `java.sql.Date`.\r\n1. Since the string is already in the recognized format, use [static] method [valueOf(String)][1] in class `java.sql.Date`.\r\n2. Convert the string to a `LocalDate` and call [static] method `valueOf(LocalDate)` also in class `java.sql.Date`.\r\n3. Convert the string to a date, get the epoch milliseconds and call the constructor of class `java.sql.Date`.\r\n\r\nThe below code demonstrates each of the above ways.\r\n```java\r\nimport java.sql.Date;\r\nimport java.time.Instant;\r\nimport java.time.LocalDate;\r\nimport java.time.LocalDateTime;\r\nimport java.time.ZoneId;\r\nimport java.time.ZonedDateTime;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.util.Locale;\r\n\r\npublic class JdbcTest {\r\n\r\n    public static void main(String[] args) {\r\n        String fromUser = &quot;2002-10-29&quot;;\r\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;, Locale.ENGLISH);\r\n        LocalDate ld = LocalDate.parse(fromUser, dtf);\r\n        LocalDateTime ldt = ld.atStartOfDay();\r\n        ZonedDateTime zdt = ZonedDateTime.of(ldt, ZoneId.systemDefault());\r\n        Instant inst = zdt.toInstant();\r\n        long millis = inst.toEpochMilli();\r\n        Date d = new Date(millis);\r\n        System.out.println(&quot;Constructor: &quot; + d);\r\n        d = Date.valueOf(ld);\r\n        System.out.println(&quot;From LocalDate: &quot; + d);\r\n        d = Date.valueOf(fromUser);\r\n        System.out.println(&quot;From String: &quot; + d);\r\n    }\r\n}\r\n```\r\nWhen I run the above code using JDK 19 on Windows 10, I get the following:\r\n```none\r\nConstructor: 2002-10-29\r\nFrom LocalDate: 2002-10-29\r\nFrom String: 2002-10-29\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/Date.html#valueOf(java.lang.String)","title":"How do I parse a String (yyyyMMdd ONLY) to Java.sql.Date type to be stored in SQL?","body":"<p>Here are three ways to convert a string to <code>java.sql.Date</code>.</p>\n<ol>\n<li>Since the string is already in the recognized format, use [static] method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/Date.html#valueOf(java.lang.String)\" rel=\"nofollow noreferrer\">valueOf(String)</a> in class <code>java.sql.Date</code>.</li>\n<li>Convert the string to a <code>LocalDate</code> and call [static] method <code>valueOf(LocalDate)</code> also in class <code>java.sql.Date</code>.</li>\n<li>Convert the string to a date, get the epoch milliseconds and call the constructor of class <code>java.sql.Date</code>.</li>\n</ol>\n<p>The below code demonstrates each of the above ways.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.sql.Date;\nimport java.time.Instant;\nimport java.time.LocalDate;\nimport java.time.LocalDateTime;\nimport java.time.ZoneId;\nimport java.time.ZonedDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\n\npublic class JdbcTest {\n\n    public static void main(String[] args) {\n        String fromUser = &quot;2002-10-29&quot;;\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;, Locale.ENGLISH);\n        LocalDate ld = LocalDate.parse(fromUser, dtf);\n        LocalDateTime ldt = ld.atStartOfDay();\n        ZonedDateTime zdt = ZonedDateTime.of(ldt, ZoneId.systemDefault());\n        Instant inst = zdt.toInstant();\n        long millis = inst.toEpochMilli();\n        Date d = new Date(millis);\n        System.out.println(&quot;Constructor: &quot; + d);\n        d = Date.valueOf(ld);\n        System.out.println(&quot;From LocalDate: &quot; + d);\n        d = Date.valueOf(fromUser);\n        System.out.println(&quot;From String: &quot; + d);\n    }\n}\n</code></pre>\n<p>When I run the above code using JDK 19 on Windows 10, I get the following:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Constructor: 2002-10-29\nFrom LocalDate: 2002-10-29\nFrom String: 2002-10-29\n</code></pre>\n"}],"owner":{"account_id":22759602,"reputation":21,"user_id":16918637,"display_name":"Ken"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667562409,"creation_date":1667554781,"question_id":74314924,"body_markdown":"I have a:\r\n```\r\n String fromUser = &quot;2002-10-29&quot;;\r\n```\r\nI would like to output it to Date type (Java.sql.Date) without dashes, and just numbers.\r\n```\r\n20021029 // yyyyMMdd\r\n```\r\nHow do I achieve it? Thank you,\r\n\r\nI&#39;ve tried using DateFormat, SimpleDateFormat and most of them give me back yyyy-MM-dd.\r\n\r\nThe documentation in Oracle for Java.util.Date mentioned that the Constructor \r\n```\r\nDate(int year, int month, int day) \r\n```\r\nis already deprecated.","title":"How do I parse a String (yyyyMMdd ONLY) to Java.sql.Date type to be stored in SQL?","body":"<p>I have a:</p>\n<pre><code> String fromUser = &quot;2002-10-29&quot;;\n</code></pre>\n<p>I would like to output it to Date type (Java.sql.Date) without dashes, and just numbers.</p>\n<pre><code>20021029 // yyyyMMdd\n</code></pre>\n<p>How do I achieve it? Thank you,</p>\n<p>I've tried using DateFormat, SimpleDateFormat and most of them give me back yyyy-MM-dd.</p>\n<p>The documentation in Oracle for Java.util.Date mentioned that the Constructor</p>\n<pre><code>Date(int year, int month, int day) \n</code></pre>\n<p>is already deprecated.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":1,"creation_date":1667562837,"post_id":74316497,"comment_id":131201337,"body_markdown":"&quot;we are changing something in application.xml&quot; =&gt; Well ... you shouldn&#39;t!","body":"&quot;we are changing something in application.xml&quot; =&gt; Well ... you shouldn&#39;t!"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1667562932,"post_id":74316497,"comment_id":131201365,"body_markdown":"if you are changing something dynamically you should not change in the `src/` area. Then this file should be put into `src/main/resources` and change via resource filtering etc. which will result in a changed file in `target/..` That shows me that your setup in your project is simply wrong...","body":"if you are changing something dynamically you should not change in the <code>src&#47;</code> area. Then this file should be put into <code>src&#47;main&#47;resources</code> and change via resource filtering etc. which will result in a changed file in <code>target&#47;..</code> That shows me that your setup in your project is simply wrong..."},{"owner":{"account_id":15690662,"reputation":284,"user_id":11321873,"display_name":"Prateek Gautam"},"score":0,"creation_date":1667572220,"post_id":74316497,"comment_id":131204793,"body_markdown":"@Seelenvirtuose well I&#39;m just working in this already built project so I&#39;m really not in a position to justify that. But thanks for your response, Also can you elaborate why you said that?","body":"@Seelenvirtuose well I&#39;m just working in this already built project so I&#39;m really not in a position to justify that. But thanks for your response, Also can you elaborate why you said that?"},{"owner":{"account_id":15690662,"reputation":284,"user_id":11321873,"display_name":"Prateek Gautam"},"score":0,"creation_date":1667572339,"post_id":74316497,"comment_id":131204839,"body_markdown":"@khmarbaise why should we not put it src/ area, Can you please explain? Also the apparent solution was that we stopped building the module as it was decommissioned earlier.","body":"@khmarbaise why should we not put it src/ area, Can you please explain? Also the apparent solution was that we stopped building the module as it was decommissioned earlier."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1667573777,"post_id":74316497,"comment_id":131205414,"body_markdown":"You should not change code/files which are in `src/` area because they are under version control which exactly is the case here during the release preparation will check if uncommitted files can be located which is exactly what happen here in that case. You can put files into `src/main/resources/META-INF/application.xml` and use the filtering(resources) which will filter those files and write the results into `target/classes/META-INF` location and package them in later life cycle phases. The `target` directory should be ignored always...","body":"You should not change code/files which are in <code>src&#47;</code> area because they are under version control which exactly is the case here during the release preparation will check if uncommitted files can be located which is exactly what happen here in that case. You can put files into <code>src&#47;main&#47;resources&#47;META-INF&#47;application.xml</code> and use the filtering(resources) which will filter those files and write the results into <code>target&#47;classes&#47;META-INF</code> location and package them in later life cycle phases. The <code>target</code> directory should be ignored always..."}],"owner":{"account_id":15690662,"reputation":284,"user_id":11321873,"display_name":"Prateek Gautam"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667562172,"creation_date":1667562172,"question_id":74316497,"body_markdown":"I&#39;m working on this project in my firm and I&#39;m facing this issue on a jenkins deployment pipeline. I have a java component, whose packaging type is pom, and under it I have another java component whose packaging type is ear.\r\n\r\nNow when I trigger the jenkins build it throws error \r\n\r\n```\r\nFailed to execute goal org.apache.maven.plugins:maven-release-plugin:2.5.2:prepare on project : Cannot prepare the release because you have local modifications-\r\nchild-component/src/main/application/META-INF/application.xml\r\n```\r\n\r\nThe problem is we are changing something in application.xml dynamically based on a version. Hence I don&#39;t know how to fix this issue?\r\n\r\nI took help from [this][1] answer but i wonder if we exclude application.xml from checking modifications whether dynamic changes will be pushed under final packaging or not?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/16199154/maven-releaseprepare-cannot-prepare-the-release-because-you-have-local-modifi","title":"Failed to execute goal maen:release Cannot prepare because you have local modifications","body":"<p>I'm working on this project in my firm and I'm facing this issue on a jenkins deployment pipeline. I have a java component, whose packaging type is pom, and under it I have another java component whose packaging type is ear.</p>\n<p>Now when I trigger the jenkins build it throws error</p>\n<pre><code>Failed to execute goal org.apache.maven.plugins:maven-release-plugin:2.5.2:prepare on project : Cannot prepare the release because you have local modifications-\nchild-component/src/main/application/META-INF/application.xml\n</code></pre>\n<p>The problem is we are changing something in application.xml dynamically based on a version. Hence I don't know how to fix this issue?</p>\n<p>I took help from <a href=\"https://stackoverflow.com/questions/16199154/maven-releaseprepare-cannot-prepare-the-release-because-you-have-local-modifi\">this</a> answer but i wonder if we exclude application.xml from checking modifications whether dynamic changes will be pushed under final packaging or not?</p>\n"},{"tags":["javascript","java","jquery","jsp","struts2"],"comments":[{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1667552168,"post_id":74314226,"comment_id":131197637,"body_markdown":"Yes: use different IDs","body":"Yes: use different IDs"},{"owner":{"account_id":26106383,"reputation":27,"user_id":19801031,"display_name":"darine"},"score":0,"creation_date":1667554829,"post_id":74314226,"comment_id":131198459,"body_markdown":"@MauricePerry how ? I want to use the same checkbox !","body":"@MauricePerry how ? I want to use the same checkbox !"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1667558640,"post_id":74314226,"comment_id":131199851,"body_markdown":"elements may have the same name, not the same ID. Deal with it.","body":"elements may have the same name, not the same ID. Deal with it."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1667570558,"post_id":74314226,"comment_id":131204090,"body_markdown":"Both IDs are in the HTML (the DOM). An ID should be in the DOM only once. I don&#39;t see any reason for the hidden element to have an ID at all.","body":"Both IDs are in the HTML (the DOM). An ID should be in the DOM only once. I don&#39;t see any reason for the hidden element to have an ID at all."}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667561799,"creation_date":1667561399,"answer_id":74316341,"question_id":74314226,"body_markdown":"The Struts tags `id` attribute are used for HTML ID attribute. Both inputs `hidden` and `select` have the same ID but the JavaScript code finds the first one but should use the second.\r\n\r\nThe solution to the problem is to use different value for the id attribute. \r\n```xhtml\r\n&lt;s:hidden name=&quot;checkActes&quot; id=&quot;checkActesID&quot;&gt;&lt;/s:hidden&gt;\r\n```\r\n \r\nYou can find detailed information how to use struts tags on the docs site. [There](https://stackoverflow.com/a/35500266/573032)&#39;s a similar answer on the question which has a link to the docs site ","title":"How to fix action using the same id in JSP and JS?","body":"<p>The Struts tags <code>id</code> attribute are used for HTML ID attribute. Both inputs <code>hidden</code> and <code>select</code> have the same ID but the JavaScript code finds the first one but should use the second.</p>\n<p>The solution to the problem is to use different value for the id attribute.</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;s:hidden name=&quot;checkActes&quot; id=&quot;checkActesID&quot;&gt;&lt;/s:hidden&gt;\n</code></pre>\n<p>You can find detailed information how to use struts tags on the docs site. <a href=\"https://stackoverflow.com/a/35500266/573032\">There</a>'s a similar answer on the question which has a link to the docs site</p>\n"}],"owner":{"account_id":26106383,"reputation":27,"user_id":19801031,"display_name":"darine"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667561799,"creation_date":1667551079,"question_id":74314226,"body_markdown":"I am sending a variable from JSP to java using this code :\r\n\r\n&lt;!-- language: xhtml --&gt;\r\n     &lt;s:hidden name=&quot;checkActes&quot; id=&quot;checkActes&quot;&gt;&lt;/s:hidden&gt;\r\n     \r\n     &lt;s:checkbox id=&quot;checkActes&quot; labelposition=&quot;left&quot; cssClass=&quot; block-left check&quot; \r\n     label=&quot;%{getText(&#39;prestationPsDto.actes&#39;)}&quot; key=&quot;prestationPsDto.actesSpec&quot;/&gt;  \r\n\r\nAfter adding the hidden attribute, the action in JS didn&#39;t work \r\n\r\n    $(&#39;#checkActes&#39;).on(&#39;click&#39;,function() {\r\n    \t\t\tconsole.log(&quot;kjfffkj&quot;);\r\n    \t\t\tif($(&#39;#checkActes&#39;).is(&#39;:checked&#39;)){\r\n    \t\t\t\tconsole.log(&quot;kjkj&quot;)\r\n    \t\t\t\t$(&quot;#cleCotation&quot;).show()\r\n    \t\t\t\r\n    \t\t\t}\r\n    \t\t\telse{\r\n    \t\t\t\t$(&quot;#cleCotation&quot;).hide()\r\n    \t            $(&#39;#cleCotation&#39;).find(&quot;input,select&quot;).val(&#39;&#39;);\r\n    \r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\t}); \r\nI guess the problem is because i am using the same id in both JSP and JS\r\nIs there any solution to fix this problem ?","title":"How to fix action using the same id in JSP and JS?","body":"<p>I am sending a variable from JSP to java using this code :</p>\n<pre class=\"lang-html prettyprint-override\"><code> &lt;s:hidden name=&quot;checkActes&quot; id=&quot;checkActes&quot;&gt;&lt;/s:hidden&gt;\n \n &lt;s:checkbox id=&quot;checkActes&quot; labelposition=&quot;left&quot; cssClass=&quot; block-left check&quot; \n label=&quot;%{getText('prestationPsDto.actes')}&quot; key=&quot;prestationPsDto.actesSpec&quot;/&gt;  \n</code></pre>\n<p>After adding the hidden attribute, the action in JS didn't work</p>\n<pre><code>$('#checkActes').on('click',function() {\n            console.log(&quot;kjfffkj&quot;);\n            if($('#checkActes').is(':checked')){\n                console.log(&quot;kjkj&quot;)\n                $(&quot;#cleCotation&quot;).show()\n            \n            }\n            else{\n                $(&quot;#cleCotation&quot;).hide()\n                $('#cleCotation').find(&quot;input,select&quot;).val('');\n\n            }\n            \n            }); \n</code></pre>\n<p>I guess the problem is because i am using the same id in both JSP and JS\nIs there any solution to fix this problem ?</p>\n"},{"tags":["java","char","ascii"],"comments":[{"owner":{"account_id":20380046,"reputation":1598,"user_id":14950361,"display_name":"pxDav"},"score":0,"creation_date":1631763854,"post_id":69202074,"comment_id":122311174,"body_markdown":"Please add the programming language to the tag, for this case add Java","body":"Please add the programming language to the tag, for this case add Java"}],"answers":[{"tags":[],"owner":{"account_id":20380046,"reputation":1598,"user_id":14950361,"display_name":"pxDav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631764444,"creation_date":1631764444,"answer_id":69202146,"question_id":69202074,"body_markdown":"The error means that you are trying to access a variable that is not initialized.\r\n```java\r\nint ascii = (int) ch;\r\n```\r\nAs you can see here, you are trying to access `ch` but it doesn&#39;t have a value.\r\n\r\nTo fix it, move the `int ascii = (int) ch;` below the input.\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class ASCIIvalue\r\n{\r\n    public static void main(String[] arg)\r\n    {\r\n        Scanner input=new Scanner(System.in);\r\n        char ch;\r\n\r\n        System.out.println(&quot;Enter you any character: &quot;);\r\n        ch=input.next().charAt(0);\r\n\r\n        int ascii = (int) ch;\r\n\r\n        System.out.println(&quot;The ASCII for this character &quot; + ch + &quot; is &quot; + ascii);\r\n\r\n        System.out.println(&quot;&quot;);\r\n\r\n    }\r\n}\r\n```\r\nOutput\r\n```\r\nEnter you any character:\r\na\r\n\r\nThe ASCII for this character a is 97\r\n```","title":"Character to ASCII","body":"<p>The error means that you are trying to access a variable that is not initialized.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int ascii = (int) ch;\n</code></pre>\n<p>As you can see here, you are trying to access <code>ch</code> but it doesn't have a value.</p>\n<p>To fix it, move the <code>int ascii = (int) ch;</code> below the input.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class ASCIIvalue\n{\n    public static void main(String[] arg)\n    {\n        Scanner input=new Scanner(System.in);\n        char ch;\n\n        System.out.println(&quot;Enter you any character: &quot;);\n        ch=input.next().charAt(0);\n\n        int ascii = (int) ch;\n\n        System.out.println(&quot;The ASCII for this character &quot; + ch + &quot; is &quot; + ascii);\n\n        System.out.println(&quot;&quot;);\n\n    }\n}\n</code></pre>\n<p>Output</p>\n<pre><code>Enter you any character:\na\n\nThe ASCII for this character a is 97\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1653069,"reputation":1472,"user_id":1523263,"accept_rate":46,"display_name":"Nagappa L M"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667561569,"creation_date":1667561569,"answer_id":74316374,"question_id":69202074,"body_markdown":"Integer.valueOf(&#39;+&#39;) or Integer.valueOf(charInstance)","title":"Character to ASCII","body":"<p>Integer.valueOf('+') or Integer.valueOf(charInstance)</p>\n"}],"owner":{"account_id":22147698,"reputation":1,"user_id":16396691,"display_name":"Fazal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":978,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667561569,"creation_date":1631763709,"question_id":69202074,"body_markdown":"```java\r\nimport java.util.Scanner;\r\n\r\npublic class ASCIIvalue\r\n{\r\n    public static void main(String[] arg)\r\n    {\r\n        Scanner input=new Scanner(System.in);\r\n        char ch;\r\n\r\n        int ascii=(int)ch;\r\n\r\n        System.out.println(&quot;Enter you any character: &quot;);\r\n\r\n        ch=input.next().charAt(0);\r\n        System.out.println(&quot;The ASCII for this character&quot;+ ch +&quot;is&quot; +ascii);\r\n\r\n        System.out.println(&quot;&quot;);\r\n\r\n    }\r\n}\r\n```\r\nIn the above code I am trying to get input(char) from user and then convert it to it&#39;s ASCII value but I get the error `Variable character might not have been initialized`","title":"Character to ASCII","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class ASCIIvalue\n{\n    public static void main(String[] arg)\n    {\n        Scanner input=new Scanner(System.in);\n        char ch;\n\n        int ascii=(int)ch;\n\n        System.out.println(&quot;Enter you any character: &quot;);\n\n        ch=input.next().charAt(0);\n        System.out.println(&quot;The ASCII for this character&quot;+ ch +&quot;is&quot; +ascii);\n\n        System.out.println(&quot;&quot;);\n\n    }\n}\n</code></pre>\n<p>In the above code I am trying to get input(char) from user and then convert it to it's ASCII value but I get the error <code>Variable character might not have been initialized</code></p>\n"},{"tags":["java","apache-flink"],"comments":[{"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1667733393,"post_id":74316350,"comment_id":131232609,"body_markdown":"I suspect you&#39;ve used MapState where ValueState would be more appropriate. Maybe https://stackoverflow.com/a/66590659/2000823 will help clear things up.","body":"I suspect you&#39;ve used MapState where ValueState would be more appropriate. Maybe <a href=\"https://stackoverflow.com/a/66590659/2000823\">stackoverflow.com/a/66590659/2000823</a> will help clear things up."},{"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1668243822,"post_id":74316350,"comment_id":131361914,"body_markdown":"See also https://stackoverflow.com/a/74411579/2000823.","body":"See also <a href=\"https://stackoverflow.com/a/74411579/2000823\">stackoverflow.com/a/74411579/2000823</a>."}],"owner":{"account_id":16687704,"reputation":11,"user_id":13221128,"display_name":"Chandan Bansal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667561447,"creation_date":1667561447,"question_id":74316350,"body_markdown":"I am using MapState in CoProcessFunction in Flink.\r\n\r\nGoal:\r\nIn CoProcessFunction, I want to make a mapState such that any entry that I insert into it, should persist. \r\n\r\nCurrent Situation: \r\n1. There is a stream of dtos from kafka stream.\r\n2. From the stream, a dto arrives at x time and a key &quot;abc&quot; is stored in mapstate. \r\n3. Then at any time&gt;x, another dto arrives with the same key &quot;abc&quot;, I want to check if this key has already been stored in mapstate or not.\r\n\r\nProblem:\r\nNow the problem is, on every element of the stream, a new Process Function is triggered, a new map is generated, so I can&#39;t access the previous Elements.\r\n\r\nPossible but not applicable solution:\r\nI can use a WindowProcessFunction, but it doesn&#39;t have the concept of timers. Since, I also need to set Timer based on every element, so this method in not applicable.\r\n\r\n\r\nMain.java\r\n```\r\ndataStream1.connect(dataStream2)\r\n        .keyBy((KeySelector&lt;DTORetryMetadata, Object&gt;) PrimaryKey::getPrimaryKey,\r\n                (KeySelector&lt;DTORetryMetadata, Object&gt;) PrimaryKey::getPrimaryKey)\r\n        .process(new FlinkStateStorageCoProcess());\r\n```\r\n\r\nFlinkStateStorageCoProcess.java\r\n\r\n```\r\npublic class FlinkStateStorageCoProcess extends KeyedCoProcessFunction&lt;Object, DTORetryMetadata, DTORetryMetadata, DTORetryMetadata&gt; {\r\n    private static final long serialVersionUID = 1L;\r\n    private transient MapState&lt;String, DTORetryMetadata&gt; updatedMap;\r\n    private transient MapState&lt;String, DTORetryMetadata&gt; retriesMaxedOutMap;\r\n\r\n    @Override\r\n    public void processElement1(DTORetryMetadata dtoRetryMetadata, KeyedCoProcessFunction&lt;Object, DTORetryMetadata, DTORetryMetadata, DTORetryMetadata&gt;.Context context, Collector&lt;DTORetryMetadata&gt; collector) throws Exception {\r\n        if(Objects.nonNull(dtoRetryMetadata)) {\r\n            collector.collect(dtoRetryMetadata);\r\n        }\r\n        else {\r\n            throw new Exception(&quot;DtoRetryMetaData is null&quot;);\r\n        }\r\n\r\n        String dtoRetryMetaDataId = (String) context.getCurrentKey();\r\n\r\n        if(updatedMap.contains(dtoRetryMetaDataId)) {\r\n            updatedMap.remove(dtoRetryMetaDataId);\r\n        } else {\r\n            updatedMap.put(dtoRetryMetaDataId, dtoRetryMetadata);\r\n            log.info(&quot;{} added to Flink Memory&quot;, dtoRetryMetaDataId);\r\n            try {\r\n                TriggerTimeHelper triggerTimeHelper = new TriggerTimeHelper();\r\n                Long triggerTime = triggerTimeHelper.getTriggerTime(dtoRetryMetadata.getRetryNo());\r\n                log.info(&quot;Trigger timer set at {} from {}&quot;, triggerTime, context.timestamp());\r\n                context.timerService().registerProcessingTimeTimer(\r\n                        context.timestamp() + triggerTime);\r\n            } catch (RuntimeException e) {\r\n                e.printStackTrace();\r\n                throw new RuntimeException(&quot;Failed to add timer to DTO,Retry Mechanism Failure. &quot;);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public void processElement2(DTORetryMetadata dtoRetryMetadata, KeyedCoProcessFunction&lt;Object, DTORetryMetadata, DTORetryMetadata, DTORetryMetadata&gt;.Context context, Collector&lt;DTORetryMetadata&gt; collector) throws Exception {\r\n        if(Objects.nonNull(dtoRetryMetadata)) {\r\n            collector.collect(dtoRetryMetadata);\r\n        }\r\n        else {\r\n            throw new Exception(&quot;DtoRetryMetaData is null&quot;);\r\n        }\r\n\r\n        String dtoRetryMetaDataId = (String) context.getCurrentKey();\r\n\r\n        System.out.println(&quot;BEFORE INSERT IN KAFKA&quot;);\r\n        for(DTORetryMetadata dtoRetryMetadata1: updatedMap.values()) {\r\n            System.out.println(&quot;ENTRY : &quot; + dtoRetryMetadata1);\r\n        }\r\n\r\n        if(updatedMap.contains(dtoRetryMetaDataId)) {\r\n            updatedMap.remove(dtoRetryMetaDataId);\r\n        } else {\r\n            updatedMap.put(dtoRetryMetaDataId, dtoRetryMetadata);\r\n            try {\r\n                TriggerTimeHelper triggerTimeHelper = new TriggerTimeHelper();\r\n                Long triggerTime = triggerTimeHelper.getTriggerTime(dtoRetryMetadata.getRetryNo());\r\n                context.timerService().registerProcessingTimeTimer(\r\n                        context.timestamp() + triggerTime);\r\n            } catch (RuntimeException e) {\r\n                e.printStackTrace();\r\n                throw new RuntimeException(&quot;Failed to add timer to DTO,Retry Mechanism Failure. &quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onTimer(long timestamp, KeyedCoProcessFunction&lt;Object, DTORetryMetadata, DTORetryMetadata, DTORetryMetadata&gt;.OnTimerContext context, Collector&lt;DTORetryMetadata&gt; out) throws Exception {\r\n        String key = (String) context.getCurrentKey();\r\n        if (updatedMap.contains(key)) {\r\n            DTORetryMetadata dtoRetryMetadata = updatedMap.get(key);\r\n\r\n            if (dtoRetryMetadata.getRetryNo() &gt;= dtoRetryMetadata.getMaxRetryNo()) {\r\n                updatedMap.remove(key);\r\n            } else {\r\n                RetryKafkaProducer retryKafkaProducer = new RetryKafkaProducer();\r\n                if (retryKafkaProducer.sendMessageWithHeader(&quot;&quot;, dtoRetryMetadata)) {\r\n                    updatedMap.remove(key);\r\n                } else {\r\n                    updatedMap.put(key, dtoRetryMetadata);\r\n                    try {\r\n                        TriggerTimeHelper triggerTimeHelper = new TriggerTimeHelper();\r\n                        Long triggerTime = triggerTimeHelper.getTriggerTime(dtoRetryMetadata.getRetryNo());\r\n                        context.timerService().registerProcessingTimeTimer(\r\n                                context.timestamp() + triggerTime);\r\n                    } catch (RuntimeException e) {\r\n                        e.printStackTrace();\r\n                        throw new RuntimeException(&quot;Failed to add timer to DTO, Retry Mechanism Failure. &quot;);\r\n                    }\r\n\r\n                    log.info(&quot;ACK Not Received, Updating state {}:{}&quot;, key, updatedMap.get(key));\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void open(Configuration parameters) throws Exception {\r\n        try {\r\n            MapStateDescriptor&lt;String, DTORetryMetadata&gt; updatedMapDescriptor = new MapStateDescriptor(\r\n                    &quot;updatedMapState&quot;, String.class, DTORetryMetadata.class);\r\n            updatedMap = getRuntimeContext().getMapState(updatedMapDescriptor);\r\n        } catch (RuntimeException e) {\r\n            e.printStackTrace();\r\n            throw new RuntimeException(&quot;Flink state initialisation failed. &quot;+ e.getMessage());\r\n        }\r\n\r\n    }\r\n}\r\n\r\n```\r\n","title":"Want to Persist entries in Mapstate in Flink","body":"<p>I am using MapState in CoProcessFunction in Flink.</p>\n<p>Goal:\nIn CoProcessFunction, I want to make a mapState such that any entry that I insert into it, should persist.</p>\n<p>Current Situation:</p>\n<ol>\n<li>There is a stream of dtos from kafka stream.</li>\n<li>From the stream, a dto arrives at x time and a key &quot;abc&quot; is stored in mapstate.</li>\n<li>Then at any time&gt;x, another dto arrives with the same key &quot;abc&quot;, I want to check if this key has already been stored in mapstate or not.</li>\n</ol>\n<p>Problem:\nNow the problem is, on every element of the stream, a new Process Function is triggered, a new map is generated, so I can't access the previous Elements.</p>\n<p>Possible but not applicable solution:\nI can use a WindowProcessFunction, but it doesn't have the concept of timers. Since, I also need to set Timer based on every element, so this method in not applicable.</p>\n<p>Main.java</p>\n<pre><code>dataStream1.connect(dataStream2)\n        .keyBy((KeySelector&lt;DTORetryMetadata, Object&gt;) PrimaryKey::getPrimaryKey,\n                (KeySelector&lt;DTORetryMetadata, Object&gt;) PrimaryKey::getPrimaryKey)\n        .process(new FlinkStateStorageCoProcess());\n</code></pre>\n<p>FlinkStateStorageCoProcess.java</p>\n<pre><code>public class FlinkStateStorageCoProcess extends KeyedCoProcessFunction&lt;Object, DTORetryMetadata, DTORetryMetadata, DTORetryMetadata&gt; {\n    private static final long serialVersionUID = 1L;\n    private transient MapState&lt;String, DTORetryMetadata&gt; updatedMap;\n    private transient MapState&lt;String, DTORetryMetadata&gt; retriesMaxedOutMap;\n\n    @Override\n    public void processElement1(DTORetryMetadata dtoRetryMetadata, KeyedCoProcessFunction&lt;Object, DTORetryMetadata, DTORetryMetadata, DTORetryMetadata&gt;.Context context, Collector&lt;DTORetryMetadata&gt; collector) throws Exception {\n        if(Objects.nonNull(dtoRetryMetadata)) {\n            collector.collect(dtoRetryMetadata);\n        }\n        else {\n            throw new Exception(&quot;DtoRetryMetaData is null&quot;);\n        }\n\n        String dtoRetryMetaDataId = (String) context.getCurrentKey();\n\n        if(updatedMap.contains(dtoRetryMetaDataId)) {\n            updatedMap.remove(dtoRetryMetaDataId);\n        } else {\n            updatedMap.put(dtoRetryMetaDataId, dtoRetryMetadata);\n            log.info(&quot;{} added to Flink Memory&quot;, dtoRetryMetaDataId);\n            try {\n                TriggerTimeHelper triggerTimeHelper = new TriggerTimeHelper();\n                Long triggerTime = triggerTimeHelper.getTriggerTime(dtoRetryMetadata.getRetryNo());\n                log.info(&quot;Trigger timer set at {} from {}&quot;, triggerTime, context.timestamp());\n                context.timerService().registerProcessingTimeTimer(\n                        context.timestamp() + triggerTime);\n            } catch (RuntimeException e) {\n                e.printStackTrace();\n                throw new RuntimeException(&quot;Failed to add timer to DTO,Retry Mechanism Failure. &quot;);\n            }\n        }\n\n    }\n\n    @Override\n    public void processElement2(DTORetryMetadata dtoRetryMetadata, KeyedCoProcessFunction&lt;Object, DTORetryMetadata, DTORetryMetadata, DTORetryMetadata&gt;.Context context, Collector&lt;DTORetryMetadata&gt; collector) throws Exception {\n        if(Objects.nonNull(dtoRetryMetadata)) {\n            collector.collect(dtoRetryMetadata);\n        }\n        else {\n            throw new Exception(&quot;DtoRetryMetaData is null&quot;);\n        }\n\n        String dtoRetryMetaDataId = (String) context.getCurrentKey();\n\n        System.out.println(&quot;BEFORE INSERT IN KAFKA&quot;);\n        for(DTORetryMetadata dtoRetryMetadata1: updatedMap.values()) {\n            System.out.println(&quot;ENTRY : &quot; + dtoRetryMetadata1);\n        }\n\n        if(updatedMap.contains(dtoRetryMetaDataId)) {\n            updatedMap.remove(dtoRetryMetaDataId);\n        } else {\n            updatedMap.put(dtoRetryMetaDataId, dtoRetryMetadata);\n            try {\n                TriggerTimeHelper triggerTimeHelper = new TriggerTimeHelper();\n                Long triggerTime = triggerTimeHelper.getTriggerTime(dtoRetryMetadata.getRetryNo());\n                context.timerService().registerProcessingTimeTimer(\n                        context.timestamp() + triggerTime);\n            } catch (RuntimeException e) {\n                e.printStackTrace();\n                throw new RuntimeException(&quot;Failed to add timer to DTO,Retry Mechanism Failure. &quot;);\n            }\n        }\n    }\n\n    @Override\n    public void onTimer(long timestamp, KeyedCoProcessFunction&lt;Object, DTORetryMetadata, DTORetryMetadata, DTORetryMetadata&gt;.OnTimerContext context, Collector&lt;DTORetryMetadata&gt; out) throws Exception {\n        String key = (String) context.getCurrentKey();\n        if (updatedMap.contains(key)) {\n            DTORetryMetadata dtoRetryMetadata = updatedMap.get(key);\n\n            if (dtoRetryMetadata.getRetryNo() &gt;= dtoRetryMetadata.getMaxRetryNo()) {\n                updatedMap.remove(key);\n            } else {\n                RetryKafkaProducer retryKafkaProducer = new RetryKafkaProducer();\n                if (retryKafkaProducer.sendMessageWithHeader(&quot;&quot;, dtoRetryMetadata)) {\n                    updatedMap.remove(key);\n                } else {\n                    updatedMap.put(key, dtoRetryMetadata);\n                    try {\n                        TriggerTimeHelper triggerTimeHelper = new TriggerTimeHelper();\n                        Long triggerTime = triggerTimeHelper.getTriggerTime(dtoRetryMetadata.getRetryNo());\n                        context.timerService().registerProcessingTimeTimer(\n                                context.timestamp() + triggerTime);\n                    } catch (RuntimeException e) {\n                        e.printStackTrace();\n                        throw new RuntimeException(&quot;Failed to add timer to DTO, Retry Mechanism Failure. &quot;);\n                    }\n\n                    log.info(&quot;ACK Not Received, Updating state {}:{}&quot;, key, updatedMap.get(key));\n                }\n            }\n        }\n    }\n\n    @Override\n    public void open(Configuration parameters) throws Exception {\n        try {\n            MapStateDescriptor&lt;String, DTORetryMetadata&gt; updatedMapDescriptor = new MapStateDescriptor(\n                    &quot;updatedMapState&quot;, String.class, DTORetryMetadata.class);\n            updatedMap = getRuntimeContext().getMapState(updatedMapDescriptor);\n        } catch (RuntimeException e) {\n            e.printStackTrace();\n            throw new RuntimeException(&quot;Flink state initialisation failed. &quot;+ e.getMessage());\n        }\n\n    }\n}\n\n</code></pre>\n"},{"tags":["java","android","android-studio","intellij-idea","intellij-14"],"comments":[{"owner":{"account_id":6023206,"reputation":7991,"user_id":4729721,"display_name":"a_local_nobody"},"score":1,"creation_date":1610614655,"post_id":65715848,"comment_id":116189966,"body_markdown":"that doesn&#39;t seem/sound right, from what you&#39;ve described (if i&#39;m understanding it correctly) the files should definitely be moved to `activities` and there shouldn&#39;t be duplicates","body":"that doesn&#39;t seem/sound right, from what you&#39;ve described (if i&#39;m understanding it correctly) the files should definitely be moved to <code>activities</code> and there shouldn&#39;t be duplicates"},{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1610626704,"post_id":65715848,"comment_id":116195144,"body_markdown":"Cannot reproduce. Can you record a screencast? Are there any errors in idea.log (Help | Show Log in ... action) file after reproducing?","body":"Cannot reproduce. Can you record a screencast? Are there any errors in idea.log (Help | Show Log in ... action) file after reproducing?"},{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1610626778,"post_id":65715848,"comment_id":116195175,"body_markdown":"Do you mean the file disappears from an old package after you close/open Project tool window?","body":"Do you mean the file disappears from an old package after you close/open Project tool window?"},{"owner":{"account_id":1544480,"reputation":35685,"user_id":1438339,"accept_rate":75,"display_name":"Adam Johns"},"score":0,"creation_date":1638807322,"post_id":65715848,"comment_id":124180083,"body_markdown":"I can confirm I&#39;m also seeing this issue. If I check the OS file system, the file shows as moved correctly, but in Android Studio it still appears in its old location. I&#39;m using Arctic Fox Patch 3 on macOS 11.6.","body":"I can confirm I&#39;m also seeing this issue. If I check the OS file system, the file shows as moved correctly, but in Android Studio it still appears in its old location. I&#39;m using Arctic Fox Patch 3 on macOS 11.6."}],"answers":[{"tags":[],"owner":{"account_id":19392417,"reputation":197,"user_id":14180770,"display_name":"Bilal Bangash"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1610616721,"creation_date":1610616721,"answer_id":65716454,"question_id":65715848,"body_markdown":"Posting an answer is because I don&#39;t have enough reputation. \r\nafter refactoring the file actually moves there but it is bug I also have noticed, A copy of the file seems to be present in the old places even after refactoring but after refreshing It is gone.","title":"Android Studio - Refactor move files still keeps a copy in original place","body":"<p>Posting an answer is because I don't have enough reputation.\nafter refactoring the file actually moves there but it is bug I also have noticed, A copy of the file seems to be present in the old places even after refactoring but after refreshing It is gone.</p>\n"},{"tags":[],"owner":{"account_id":1544480,"reputation":35685,"user_id":1438339,"accept_rate":75,"display_name":"Adam Johns"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644598692,"creation_date":1644598692,"answer_id":71083792,"question_id":65715848,"body_markdown":"I&#39;m able to resolve this issue by simply closing and re-opening Android Studio.","title":"Android Studio - Refactor move files still keeps a copy in original place","body":"<p>I'm able to resolve this issue by simply closing and re-opening Android Studio.</p>\n"},{"tags":[],"owner":{"account_id":14864749,"reputation":21,"user_id":10734249,"display_name":"Ebru Hatipoglu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667561301,"creation_date":1667561301,"answer_id":74316323,"question_id":65715848,"body_markdown":"It looks like a bug of Android Studio.  When I restart Android Studio, the file only was shown in the new location. The copy was disappeared.  ","title":"Android Studio - Refactor move files still keeps a copy in original place","body":"<p>It looks like a bug of Android Studio.  When I restart Android Studio, the file only was shown in the new location. The copy was disappeared.</p>\n"}],"owner":{"account_id":4939100,"reputation":43,"user_id":3976378,"display_name":"Liam Baron"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":579,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":65716454,"answer_count":3,"score":3,"last_activity_date":1667561301,"creation_date":1610613919,"question_id":65715848,"body_markdown":"In visual Studio when I move files into a package on the same original level, the files that I move also remain where they were.\r\n\r\n[![Picture][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/j689C.png\r\n\r\nI dragged each of these Kotlin files (AddHappyPlaceActivity and MainActivity) into the &quot;activities&quot; package, then pressed refactor in the screen that appears. I would expect the original files to not appear.\r\n\r\nThanks a lot.","title":"Android Studio - Refactor move files still keeps a copy in original place","body":"<p>In visual Studio when I move files into a package on the same original level, the files that I move also remain where they were.</p>\n<p><a href=\"https://i.stack.imgur.com/j689C.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j689C.png\" alt=\"Picture\" /></a></p>\n<p>I dragged each of these Kotlin files (AddHappyPlaceActivity and MainActivity) into the &quot;activities&quot; package, then pressed refactor in the screen that appears. I would expect the original files to not appear.</p>\n<p>Thanks a lot.</p>\n"},{"tags":["java","spring-boot","azure","cloud"],"comments":[{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":0,"creation_date":1667567078,"post_id":74316299,"comment_id":131202750,"body_markdown":"Need more details. How do you invoke the eclipse command line tool from your Sping Boot app? What is the difference between the environment in Azure cloud and in your local machine? Is the eclipse command line tool part of your application as a dependency?","body":"Need more details. How do you invoke the eclipse command line tool from your Sping Boot app? What is the difference between the environment in Azure cloud and in your local machine? Is the eclipse command line tool part of your application as a dependency?"},{"owner":{"account_id":14129990,"reputation":43,"user_id":10208234,"display_name":"Manjunath S"},"score":0,"creation_date":1667795758,"post_id":74316299,"comment_id":131244377,"body_markdown":"Eclipse application is invoked from the command prompt by passing the inputs, this eclipse application is present in a local drive. Eclipse command line tool isn&#39;t part of the dependency, it&#39;s a separate tool present in other location. It&#39;s like invoking any other windows application from the command prompt.","body":"Eclipse application is invoked from the command prompt by passing the inputs, this eclipse application is present in a local drive. Eclipse command line tool isn&#39;t part of the dependency, it&#39;s a separate tool present in other location. It&#39;s like invoking any other windows application from the command prompt."},{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":0,"creation_date":1667803210,"post_id":74316299,"comment_id":131245625,"body_markdown":"Well theres your answer in that case. Make sure your Azure machine would have this thing installed.","body":"Well theres your answer in that case. Make sure your Azure machine would have this thing installed."},{"owner":{"account_id":14129990,"reputation":43,"user_id":10208234,"display_name":"Manjunath S"},"score":0,"creation_date":1667816187,"post_id":74316299,"comment_id":131249583,"body_markdown":"I am not sure how to make this eclipse application to be available in the cloud. How this application can be installed in cloud?\nThanks.","body":"I am not sure how to make this eclipse application to be available in the cloud. How this application can be installed in cloud? Thanks."},{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":0,"creation_date":1667816436,"post_id":74316299,"comment_id":131249668,"body_markdown":"Depends on what the actual application is and what is the host running in the cloud. If I were you, I&#39;d Dockerise my application and try to get this utility installed in docker via Docker scripts. Then you could just deploy your Docker container to the cloud and wouldn&#39;t have to burden your head between the differences in cloud and in your local environment.","body":"Depends on what the actual application is and what is the host running in the cloud. If I were you, I&#39;d Dockerise my application and try to get this utility installed in docker via Docker scripts. Then you could just deploy your Docker container to the cloud and wouldn&#39;t have to burden your head between the differences in cloud and in your local environment."}],"owner":{"account_id":14129990,"reputation":43,"user_id":10208234,"display_name":"Manjunath S"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667561171,"creation_date":1667561171,"question_id":74316299,"body_markdown":"We have a built a spring boot application which invokes a command-line eclipse tool and generates few output files. Configurations for eclipse tool is added in the `application.properties` file. This is successfully achieved locally. Now, we have deployed the spring-boot application to azure cloud and able to access the REST apis. But stuck while invoking the eclipse command-line tool. How to upload the commandline tool into azure and access it through the cloud app?","title":"How to communicate cloud spring-boot with files which are available on azure?","body":"<p>We have a built a spring boot application which invokes a command-line eclipse tool and generates few output files. Configurations for eclipse tool is added in the <code>application.properties</code> file. This is successfully achieved locally. Now, we have deployed the spring-boot application to azure cloud and able to access the REST apis. But stuck while invoking the eclipse command-line tool. How to upload the commandline tool into azure and access it through the cloud app?</p>\n"},{"tags":["java","mongodb","web","request","token"],"answers":[{"tags":[],"owner":{"account_id":26798110,"reputation":1,"user_id":20390520,"display_name":"outOfTheWorld"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667561018,"creation_date":1667336645,"answer_id":74281776,"question_id":74279953,"body_markdown":"Ok I was totally wrong my filter was just bad \r\n\r\nthe probleme come from my query thats the correct : `{&quot;CookieConnexion.value&quot; : &quot;&lt;token&gt;&quot;}`\r\n\r\nthat&#39;s the good code : \r\n\r\n```\r\npublic static DBObject findClientByToken(DB database, String token){\r\n    System.out.println(&quot;Token = &quot; + token);\r\n    DBCollection collectionUser = database.getCollection(&quot;users&quot;);\r\n    DBObject dbObjectFilter = BasicDBObject.parse(&quot;{\\&quot;CookieConnexion.value\\&quot; : \\&quot;&quot; + token + &quot;\\&quot;}&quot;);\r\n    System.out.println(dbObjectFilter.toString());\r\n    DBCursor cursor = collectionUser.find(dbObjectFilter);\r\n    if (cursor.hasNext()) {\r\n        DBObject client = cursor.next();\r\n        if (cursor.hasNext()){\r\n            return null;\r\n        } else {\r\n            return client;\r\n        }\r\n    } else {\r\n        return null;\r\n    }\r\n}\r\n```\r\n","title":"Java mongoDB query probleme for any values","body":"<p>Ok I was totally wrong my filter was just bad</p>\n<p>the probleme come from my query thats the correct : <code>{&quot;CookieConnexion.value&quot; : &quot;&lt;token&gt;&quot;}</code></p>\n<p>that's the good code :</p>\n<pre><code>public static DBObject findClientByToken(DB database, String token){\n    System.out.println(&quot;Token = &quot; + token);\n    DBCollection collectionUser = database.getCollection(&quot;users&quot;);\n    DBObject dbObjectFilter = BasicDBObject.parse(&quot;{\\&quot;CookieConnexion.value\\&quot; : \\&quot;&quot; + token + &quot;\\&quot;}&quot;);\n    System.out.println(dbObjectFilter.toString());\n    DBCursor cursor = collectionUser.find(dbObjectFilter);\n    if (cursor.hasNext()) {\n        DBObject client = cursor.next();\n        if (cursor.hasNext()){\n            return null;\n        } else {\n            return client;\n        }\n    } else {\n        return null;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26798110,"reputation":1,"user_id":20390520,"display_name":"outOfTheWorld"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667561018,"creation_date":1667325411,"question_id":74279953,"body_markdown":"I&#39;m a French student in development\r\nI&#39;m actually working on a project to create a web auth\r\nI&#39;m trying to introduce a token system working with cookies\r\nBut the problem is my query for finding a client with his token\r\n\r\nThat&#39;s my code (don&#39;t work) to get a client with a token\r\n\r\n```\r\npublic static DBObject findClientByToken(DB database, String token){\r\n    DBCollection collectionUser = database.getCollection(&quot;users&quot;);\r\n    DBObject dbObjectFilter = new BasicDBObject().append(&quot;CookieConnexion&quot;, new BasicDBObject().append(&quot;value&quot;, token).append(&quot;dateExpire&quot;,new BasicDBObject(&quot;$exists&quot;, true)));\r\n    DBCursor cursor = collectionUser.find(dbObjectFilter);\r\n    if (cursor.hasNext()) {\r\n        DBObject client = cursor.next();\r\n        if (cursor.hasNext()){\r\n            return null;\r\n        } else {\r\n            return client;\r\n        }\r\n    } else {\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nAnd this one (work) but I have one hard value\r\n\r\n```\r\npublic static DBObject findClientByToken(DB database, String token){\r\n    DBCollection collectionUser = database.getCollection(&quot;users&quot;);\r\n    DBObject dbObjectFilter = new BasicDBObject().append(&quot;CookieConnexion&quot;, new BasicDBObject().append(&quot;value&quot;, token).append(&quot;dateExpire&quot;,&quot;Wed Nov 02 17:29:54 CET 2022&quot;));\r\n    DBCursor cursor = collectionUser.find(dbObjectFilter);\r\n    if (cursor.hasNext()) {\r\n        DBObject client = cursor.next();\r\n        if (cursor.hasNext()){\r\n            return null;\r\n        } else {\r\n            return client;\r\n        }\r\n    } else {\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nthats a exemple of one documents [![enter image description here](https://i.stack.imgur.com/9h4Wf.png)](https://i.stack.imgur.com/9h4Wf.png)\r\n\r\n\r\nSorry for my bad english !\r\nHope someone can help me\r\n\r\nIm trying to get the DBObject who match with the query","title":"Java mongoDB query probleme for any values","body":"<p>I'm a French student in development\nI'm actually working on a project to create a web auth\nI'm trying to introduce a token system working with cookies\nBut the problem is my query for finding a client with his token</p>\n<p>That's my code (don't work) to get a client with a token</p>\n<pre><code>public static DBObject findClientByToken(DB database, String token){\n    DBCollection collectionUser = database.getCollection(&quot;users&quot;);\n    DBObject dbObjectFilter = new BasicDBObject().append(&quot;CookieConnexion&quot;, new BasicDBObject().append(&quot;value&quot;, token).append(&quot;dateExpire&quot;,new BasicDBObject(&quot;$exists&quot;, true)));\n    DBCursor cursor = collectionUser.find(dbObjectFilter);\n    if (cursor.hasNext()) {\n        DBObject client = cursor.next();\n        if (cursor.hasNext()){\n            return null;\n        } else {\n            return client;\n        }\n    } else {\n        return null;\n    }\n}\n</code></pre>\n<p>And this one (work) but I have one hard value</p>\n<pre><code>public static DBObject findClientByToken(DB database, String token){\n    DBCollection collectionUser = database.getCollection(&quot;users&quot;);\n    DBObject dbObjectFilter = new BasicDBObject().append(&quot;CookieConnexion&quot;, new BasicDBObject().append(&quot;value&quot;, token).append(&quot;dateExpire&quot;,&quot;Wed Nov 02 17:29:54 CET 2022&quot;));\n    DBCursor cursor = collectionUser.find(dbObjectFilter);\n    if (cursor.hasNext()) {\n        DBObject client = cursor.next();\n        if (cursor.hasNext()){\n            return null;\n        } else {\n            return client;\n        }\n    } else {\n        return null;\n    }\n}\n</code></pre>\n<p>thats a exemple of one documents <a href=\"https://i.stack.imgur.com/9h4Wf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9h4Wf.png\" alt=\"enter image description here\" /></a></p>\n<p>Sorry for my bad english !\nHope someone can help me</p>\n<p>Im trying to get the DBObject who match with the query</p>\n"},{"tags":["java","thread-safety","prometheus"],"answers":[{"tags":[],"owner":{"account_id":22070529,"reputation":1,"user_id":16331584,"display_name":"GodChin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667560976,"creation_date":1667294018,"answer_id":74273692,"question_id":74273450,"body_markdown":"```\r\nstatic final ThreadLocal&lt;int[]&gt; threadHashCode = new ThreadLocal&lt;int[]&gt;();\r\n```\r\n\r\nPrometheus uses ThreadLocal\r\n\r\n\r\n\r\n","title":"How does prometheus make sure counter is thread safety?","body":"<pre><code>static final ThreadLocal&lt;int[]&gt; threadHashCode = new ThreadLocal&lt;int[]&gt;();\n</code></pre>\n<p>Prometheus uses ThreadLocal</p>\n"}],"owner":{"account_id":26792180,"reputation":1,"user_id":20385421,"display_name":"NorthWind"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":318,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667560976,"creation_date":1667292409,"question_id":74273450,"body_markdown":"[![enter image description here](https://i.stack.imgur.com/BcUji.png)](https://i.stack.imgur.com/BcUji.png)\r\n\r\nit seems io.prometheus.client.Gauge is thread safety but io.prometheus.client.Counter is not.\r\n\r\nWhy counter.get is always 200000 while a != 200000?\r\n[![enter image description here](https://i.stack.imgur.com/3m5Nc.png)](https://i.stack.imgur.com/3m5Nc.png) \r\n\r\nHow does prometheus make sure counter is thread safety?\r\n","title":"How does prometheus make sure counter is thread safety?","body":"<p><a href=\"https://i.stack.imgur.com/BcUji.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BcUji.png\" alt=\"enter image description here\" /></a></p>\n<p>it seems io.prometheus.client.Gauge is thread safety but io.prometheus.client.Counter is not.</p>\n<p>Why counter.get is always 200000 while a != 200000?\n<a href=\"https://i.stack.imgur.com/3m5Nc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3m5Nc.png\" alt=\"enter image description here\" /></a></p>\n<p>How does prometheus make sure counter is thread safety?</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":2820145,"reputation":1610,"user_id":2424073,"accept_rate":80,"display_name":"MyPasswordIsLasercats"},"score":0,"creation_date":1429883230,"post_id":29849068,"comment_id":47824324,"body_markdown":"possible duplicate of [Eclipse error: indirectly referenced from required .class files?](http://stackoverflow.com/questions/5547162/eclipse-error-indirectly-referenced-from-required-class-files)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/5547162/eclipse-error-indirectly-referenced-from-required-class-files\">Eclipse error: indirectly referenced from required .class files?</a>"},{"owner":{"account_id":428023,"reputation":15099,"user_id":810077,"accept_rate":83,"display_name":"Chetan Kinger"},"score":2,"creation_date":1429883244,"post_id":29849068,"comment_id":47824333,"body_markdown":"What is the complete error message","body":"What is the complete error message"},{"owner":{"account_id":2734524,"reputation":1928,"user_id":2357483,"accept_rate":86,"display_name":"davide"},"score":0,"creation_date":1429883548,"post_id":29849068,"comment_id":47824596,"body_markdown":"possible duplicate of [Indirectly referenced from required .class file](http://stackoverflow.com/questions/115971/indirectly-referenced-from-required-class-file)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/115971/indirectly-referenced-from-required-class-file\">Indirectly referenced from required .class file</a>"}],"answers":[{"tags":[],"owner":{"account_id":5472741,"reputation":1823,"user_id":4351621,"display_name":"Josh Davis"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1429883469,"creation_date":1429883469,"answer_id":29849301,"question_id":29849068,"body_markdown":"That error means you have some unresolved dependency, i.e. one of those jar files depends on some other jar file that you have not added to your classpath.\r\n\r\nI believe this is a duplicate of: https://stackoverflow.com/questions/5547162/eclipse-error-indirectly-referenced-from-required-class-files","title":"Eclipse::Indirectly referenced from required .class files","body":"<p>That error means you have some unresolved dependency, i.e. one of those jar files depends on some other jar file that you have not added to your classpath.</p>\n\n<p>I believe this is a duplicate of: <a href=\"https://stackoverflow.com/questions/5547162/eclipse-error-indirectly-referenced-from-required-class-files\">Eclipse error: indirectly referenced from required .class files?</a></p>\n"},{"tags":[],"owner":{"account_id":5089651,"reputation":882,"user_id":4083113,"display_name":"Shayan Ghosh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1429883675,"creation_date":1429883675,"answer_id":29849383,"question_id":29849068,"body_markdown":"\r\none of the class that you use needs another class which is not in classpath.Just add the required jar to the classpath.Also clean the workspace.Missing file&#39;s name will be in the error message.\r\n","title":"Eclipse::Indirectly referenced from required .class files","body":"<p>one of the class that you use needs another class which is not in classpath.Just add the required jar to the classpath.Also clean the workspace.Missing file's name will be in the error message.</p>\n"},{"tags":[],"owner":{"account_id":13961129,"reputation":127,"user_id":10082325,"display_name":"Mutaealim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667560895,"creation_date":1667560895,"answer_id":74316253,"question_id":29849068,"body_markdown":"For me, after changing a dependency in pom.xml file,this kind of error started showing up.Maven repository was corrupted.So deleted the.m2 repository and updated maven.Refered this answer:\r\n\r\n[https://stackoverflow.com/a/46582952/10082325][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/46582952/10082325","title":"Eclipse::Indirectly referenced from required .class files","body":"<p>For me, after changing a dependency in pom.xml file,this kind of error started showing up.Maven repository was corrupted.So deleted the.m2 repository and updated maven.Refered this answer:</p>\n<p><a href=\"https://stackoverflow.com/a/46582952/10082325\">https://stackoverflow.com/a/46582952/10082325</a></p>\n"}],"owner":{"account_id":945022,"reputation":817,"user_id":972418,"accept_rate":37,"display_name":"user972418"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42813,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":29849301,"answer_count":3,"score":8,"last_activity_date":1667560895,"creation_date":1429882827,"question_id":29849068,"body_markdown":"I am facing a weird issue. When I add some external JARs to the classpath I get the error &quot;It is indirectly referenced from required .class files&quot;. But when I remove all of them I get rid of this error. Here re the entries for .classpath\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;classpath&gt;\r\n    \t&lt;classpathentry kind=&quot;src&quot; path=&quot;bundle/src/main/java&quot;/&gt;\r\n    \t&lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER&quot;/&gt;\r\n    \t&lt;classpathentry kind=&quot;lib&quot; path=&quot;C:/external_jars/cq-wcm-api-5.7.8.jar&quot;/&gt;\r\n    \t&lt;classpathentry kind=&quot;lib&quot; path=&quot;C:/external_jars/cq-wcm-commons-5.7.8.jar&quot;/&gt;\r\n    \t&lt;classpathentry kind=&quot;lib&quot; path=&quot;C:/external_jars/cq-wcm-core-5.7.116.jar&quot;/&gt;\r\n    \t&lt;classpathentry kind=&quot;output&quot; path=&quot;bin&quot;/&gt;\r\n    &lt;/classpath&gt;\r\n\r\nDo let me know if I need to provide any other info.\r\n\r\nThanks in advance","title":"Eclipse::Indirectly referenced from required .class files","body":"<p>I am facing a weird issue. When I add some external JARs to the classpath I get the error \"It is indirectly referenced from required .class files\". But when I remove all of them I get rid of this error. Here re the entries for .classpath</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;classpath&gt;\n    &lt;classpathentry kind=\"src\" path=\"bundle/src/main/java\"/&gt;\n    &lt;classpathentry kind=\"con\" path=\"org.eclipse.jdt.launching.JRE_CONTAINER\"/&gt;\n    &lt;classpathentry kind=\"lib\" path=\"C:/external_jars/cq-wcm-api-5.7.8.jar\"/&gt;\n    &lt;classpathentry kind=\"lib\" path=\"C:/external_jars/cq-wcm-commons-5.7.8.jar\"/&gt;\n    &lt;classpathentry kind=\"lib\" path=\"C:/external_jars/cq-wcm-core-5.7.116.jar\"/&gt;\n    &lt;classpathentry kind=\"output\" path=\"bin\"/&gt;\n&lt;/classpath&gt;\n</code></pre>\n\n<p>Do let me know if I need to provide any other info.</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":37849,"reputation":3679,"user_id":108341,"accept_rate":88,"display_name":"Micha&#235;l"},"score":3,"creation_date":1418805147,"post_id":27521209,"comment_id":43471739,"body_markdown":"It could be helpful if you add what you have done.","body":"It could be helpful if you add what you have done."},{"owner":{"account_id":4728074,"reputation":1608,"user_id":3826188,"display_name":"MihaiC"},"score":0,"creation_date":1418805185,"post_id":27521209,"comment_id":43471763,"body_markdown":"what library are you using for reading excel? jxl?","body":"what library are you using for reading excel? jxl?"},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1418805264,"post_id":27521209,"comment_id":43471796,"body_markdown":"With the POI streaming API you can stream the workbook until you find what you need. But because of the way Excel files are structured, you obviously cannot locate the data an `A1` without reading a lot of other information. Further, what if `A1` contains a formula?","body":"With the POI streaming API you can stream the workbook until you find what you need. But because of the way Excel files are structured, you obviously cannot locate the data an <code>A1</code> without reading a lot of other information. Further, what if <code>A1</code> contains a formula?"},{"owner":{"account_id":5494825,"reputation":13,"user_id":4366334,"display_name":"sandy"},"score":0,"creation_date":1418805460,"post_id":27521209,"comment_id":43471893,"body_markdown":"i am using apache poi","body":"i am using apache poi"},{"owner":{"account_id":4728074,"reputation":1608,"user_id":3826188,"display_name":"MihaiC"},"score":0,"creation_date":1418805557,"post_id":27521209,"comment_id":43471935,"body_markdown":"possible duplicate of [Get Cell Value from Excel Sheet with Apache Poi](http://stackoverflow.com/questions/5578535/get-cell-value-from-excel-sheet-with-apache-poi)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/5578535/get-cell-value-from-excel-sheet-with-apache-poi\">Get Cell Value from Excel Sheet with Apache Poi</a>"},{"owner":{"account_id":41230,"reputation":37690,"user_id":119775,"accept_rate":76,"display_name":"Jean-Fran&#231;ois Corbett"},"score":0,"creation_date":1418805749,"post_id":27521209,"comment_id":43472026,"body_markdown":"possible duplicate of your own question from yesterday, [How to read column a1 from an Excel sheet and perform string matching to define variables in a Java program](http://stackoverflow.com/questions/27505196/how-to-read-column-a1-from-an-excel-sheet-and-perform-string-matching-to-define)","body":"possible duplicate of your own question from yesterday, <a href=\"http://stackoverflow.com/questions/27505196/how-to-read-column-a1-from-an-excel-sheet-and-perform-string-matching-to-define\">How to read column a1 from an Excel sheet and perform string matching to define variables in a Java program</a>"}],"answers":[{"tags":[],"owner":{"account_id":1874763,"reputation":2020,"user_id":4352728,"accept_rate":50,"display_name":"Ye Win"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1418805992,"creation_date":1418805668,"answer_id":27521363,"question_id":27521209,"body_markdown":"You can use row.getCell() method.&lt;br/&gt;\r\nTry this:\r\n\r\n\r\n\r\n    Workbook workbook = WorkbookFactory.create(yourFile.getInputstream());\r\n    \r\n     Sheet sheet = workbook.getSheet(0);//1,2,3\r\n\r\n     Iterator&lt;Row&gt; rowIterator = sheet.iterator();\r\n    \r\n            while (rowIterator.hasNext()) {\r\n    \r\n                Row row = rowIterator.next();\r\n    \r\n                row.getCell(0);\r\n                row.getCell(1);\r\n    }","title":"how to read a single cell from excel sheet into java program,","body":"<p>You can use row.getCell() method.<br/>\nTry this:</p>\n\n<pre><code>Workbook workbook = WorkbookFactory.create(yourFile.getInputstream());\n\n Sheet sheet = workbook.getSheet(0);//1,2,3\n\n Iterator&lt;Row&gt; rowIterator = sheet.iterator();\n\n        while (rowIterator.hasNext()) {\n\n            Row row = rowIterator.next();\n\n            row.getCell(0);\n            row.getCell(1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26799568,"reputation":1,"user_id":20391748,"display_name":"hibrahim09"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667560804,"creation_date":1667334363,"answer_id":74281417,"question_id":27521209,"body_markdown":"```\r\ntry {\r\n    FileInputStream inputStream = new FileInputStream(new File(&quot;C:\\\\Users\\\\HP\\\\Desktop\\\\test.xlsx&quot;));\r\n    XSSFWorkbook wb = new XSSFWorkbook(inputStream);\r\n    XSSFSheet sheet = wb.getSheetAt(0);\r\n    Row row;\r\n    Cell cell;\r\n    Iterator&lt;Row&gt; rowIterator = sheet.iterator();\r\n    while (rowIterator.hasNext()) {\r\n        row = (Row) rowIterator.next();\r\n        cell = row.getCell(0);\r\n        int id = (int)cell.getNumericCellValue();\r\n        System.out.println(id);\r\n    }\r\n    \r\n    inputStream.close(); \r\n\r\n} catch (Exception e) {\r\n    System.out.println(e.getStackTrace());\r\n    \r\n}\r\n```","title":"how to read a single cell from excel sheet into java program,","body":"<pre><code>try {\n    FileInputStream inputStream = new FileInputStream(new File(&quot;C:\\\\Users\\\\HP\\\\Desktop\\\\test.xlsx&quot;));\n    XSSFWorkbook wb = new XSSFWorkbook(inputStream);\n    XSSFSheet sheet = wb.getSheetAt(0);\n    Row row;\n    Cell cell;\n    Iterator&lt;Row&gt; rowIterator = sheet.iterator();\n    while (rowIterator.hasNext()) {\n        row = (Row) rowIterator.next();\n        cell = row.getCell(0);\n        int id = (int)cell.getNumericCellValue();\n        System.out.println(id);\n    }\n    \n    inputStream.close(); \n\n} catch (Exception e) {\n    System.out.println(e.getStackTrace());\n    \n}\n</code></pre>\n"}],"owner":{"account_id":5494825,"reputation":13,"user_id":4366334,"display_name":"sandy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13206,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":27521363,"answer_count":2,"score":-3,"last_activity_date":1667560804,"creation_date":1418805046,"question_id":27521209,"body_markdown":"I need to read a single cell, (example A1) into my java program. I am able to read out whole content into my program but how can i read only a specific cell?\r\n\r\n    import java.io.*;\r\n    import java.util.Iterator;\r\n    import org.apache.poi.hssf.usermodel.HSSFSheet;\r\n    import org.apache.poi.hssf.usermodel.HSSFWorkbook;\r\n    import org.apache.poi.ss.usermodel.Cell;\r\n    import org.apache.poi.ss.usermodel.Row;\r\n    import org.apache.poi.xssf.usermodel.XSSFSheet;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n\r\n    class JavaApplication2\r\n    {\r\n    static void readXlsx(File inputFile) \r\n    {\r\n    try \r\n    {\r\n        // Get the workbook instance for XLSX file\r\n        XSSFWorkbook wb = new XSSFWorkbook(new FileInputStream(inputFile));\r\n\r\n        // Get first sheet from the workbook\r\n        XSSFSheet sheet = wb.getSheetAt(0);\r\n\r\n        Row row;\r\n        Cell cell;\r\n\r\n        // Iterate through each rows from first sheet\r\n        Iterator&lt;Row&gt; rowIterator = sheet.iterator();\r\n\r\n        while (rowIterator.hasNext()) \r\n        {\r\n                row = rowIterator.next();\r\n\r\n                // For each row, iterate through each columns\r\n                Iterator&lt;Cell&gt; cellIterator = row.cellIterator();\r\n                \r\n                while (cellIterator.hasNext()) \r\n                {\r\n                cell = cellIterator.next();\r\n\r\n                switch (cell.getCellType()) \r\n                {\r\n\r\n                case Cell.CELL_TYPE_BOOLEAN:\r\n                        System.out.println(cell.getBooleanCellValue());\r\n                        break;\r\n\r\n                case Cell.CELL_TYPE_NUMERIC:\r\n                        System.out.println(cell.getNumericCellValue());\r\n                        break;\r\n\r\n                case Cell.CELL_TYPE_STRING:\r\n                        System.out.println(cell.getStringCellValue());\r\n                        break;\r\n\r\n                case Cell.CELL_TYPE_BLANK:\r\n                        System.out.println(&quot; &quot;);\r\n                        break;\r\n\r\n                default:\r\n                        System.out.println(cell);\r\n\r\n                }\r\n                }\r\n        }\r\n    }\r\n    catch (Exception e) \r\n    {\r\n        System.err.println(&quot;Exception :&quot; + e.getMessage());\r\n    }\r\n    }\r\n\r\n    static void readXls(File inputFile) \r\n    {\r\n    try \r\n    {\r\n        // Get the workbook instance for XLS file\r\n        HSSFWorkbook workbook = new HSSFWorkbook(new FileInputStream(inputFile));\r\n        // Get first sheet from the workbook\r\n        HSSFSheet sheet = workbook.getSheetAt(0);\r\n        Cell cell;\r\n        Row row;\r\n\r\n        // Iterate through each rows from first sheet\r\n        Iterator&lt;Row&gt; rowIterator = sheet.iterator();\r\n        \r\n        while (rowIterator.hasNext()) \r\n        {\r\n                row = rowIterator.next();\r\n\r\n                // For each row, iterate through each columns\r\n                Iterator&lt;Cell&gt; cellIterator = row.cellIterator();\r\n                \r\n                while (cellIterator.hasNext()) \r\n                {\r\n                cell = cellIterator.next();\r\n\r\n                switch (cell.getCellType()) \r\n                {\r\n\r\n                case Cell.CELL_TYPE_BOOLEAN:\r\n                        System.out.println(cell.getBooleanCellValue());\r\n                        break;\r\n\r\n                case Cell.CELL_TYPE_NUMERIC:\r\n                        System.out.println(cell.getNumericCellValue());\r\n                        break;\r\n\r\n                case Cell.CELL_TYPE_STRING:\r\n                        System.out.println(cell.getStringCellValue());\r\n                        break;\r\n\r\n                case Cell.CELL_TYPE_BLANK:\r\n                        System.out.println(&quot; &quot;);\r\n                        break;\r\n\r\n                default:\r\n                        System.out.println(cell);\r\n                }\r\n                }\r\n        }\r\n\r\n    } \r\n\r\n    catch (FileNotFoundException e) \r\n    {\r\n        System.err.println(&quot;Exception&quot; + e.getMessage());\r\n    }\r\n    catch (IOException e) \r\n    {\r\n        System.err.println(&quot;Exception&quot; + e.getMessage());\r\n    }\r\n    }\r\n\r\n    public static void main(String[] args) \r\n    {\r\n        File inputFile = new File(&quot;C://users/admin/Desktop/Content.xls&quot;);\r\n       \r\n        readXls(inputFile);\r\n        \r\n    }\r\n    }\r\n\r\nthis is what I have done, I am reading the whole content but I need a specific cell","title":"how to read a single cell from excel sheet into java program,","body":"<p>I need to read a single cell, (example A1) into my java program. I am able to read out whole content into my program but how can i read only a specific cell?</p>\n\n<pre><code>import java.io.*;\nimport java.util.Iterator;\nimport org.apache.poi.hssf.usermodel.HSSFSheet;\nimport org.apache.poi.hssf.usermodel.HSSFWorkbook;\nimport org.apache.poi.ss.usermodel.Cell;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\nclass JavaApplication2\n{\nstatic void readXlsx(File inputFile) \n{\ntry \n{\n    // Get the workbook instance for XLSX file\n    XSSFWorkbook wb = new XSSFWorkbook(new FileInputStream(inputFile));\n\n    // Get first sheet from the workbook\n    XSSFSheet sheet = wb.getSheetAt(0);\n\n    Row row;\n    Cell cell;\n\n    // Iterate through each rows from first sheet\n    Iterator&lt;Row&gt; rowIterator = sheet.iterator();\n\n    while (rowIterator.hasNext()) \n    {\n            row = rowIterator.next();\n\n            // For each row, iterate through each columns\n            Iterator&lt;Cell&gt; cellIterator = row.cellIterator();\n\n            while (cellIterator.hasNext()) \n            {\n            cell = cellIterator.next();\n\n            switch (cell.getCellType()) \n            {\n\n            case Cell.CELL_TYPE_BOOLEAN:\n                    System.out.println(cell.getBooleanCellValue());\n                    break;\n\n            case Cell.CELL_TYPE_NUMERIC:\n                    System.out.println(cell.getNumericCellValue());\n                    break;\n\n            case Cell.CELL_TYPE_STRING:\n                    System.out.println(cell.getStringCellValue());\n                    break;\n\n            case Cell.CELL_TYPE_BLANK:\n                    System.out.println(\" \");\n                    break;\n\n            default:\n                    System.out.println(cell);\n\n            }\n            }\n    }\n}\ncatch (Exception e) \n{\n    System.err.println(\"Exception :\" + e.getMessage());\n}\n}\n\nstatic void readXls(File inputFile) \n{\ntry \n{\n    // Get the workbook instance for XLS file\n    HSSFWorkbook workbook = new HSSFWorkbook(new FileInputStream(inputFile));\n    // Get first sheet from the workbook\n    HSSFSheet sheet = workbook.getSheetAt(0);\n    Cell cell;\n    Row row;\n\n    // Iterate through each rows from first sheet\n    Iterator&lt;Row&gt; rowIterator = sheet.iterator();\n\n    while (rowIterator.hasNext()) \n    {\n            row = rowIterator.next();\n\n            // For each row, iterate through each columns\n            Iterator&lt;Cell&gt; cellIterator = row.cellIterator();\n\n            while (cellIterator.hasNext()) \n            {\n            cell = cellIterator.next();\n\n            switch (cell.getCellType()) \n            {\n\n            case Cell.CELL_TYPE_BOOLEAN:\n                    System.out.println(cell.getBooleanCellValue());\n                    break;\n\n            case Cell.CELL_TYPE_NUMERIC:\n                    System.out.println(cell.getNumericCellValue());\n                    break;\n\n            case Cell.CELL_TYPE_STRING:\n                    System.out.println(cell.getStringCellValue());\n                    break;\n\n            case Cell.CELL_TYPE_BLANK:\n                    System.out.println(\" \");\n                    break;\n\n            default:\n                    System.out.println(cell);\n            }\n            }\n    }\n\n} \n\ncatch (FileNotFoundException e) \n{\n    System.err.println(\"Exception\" + e.getMessage());\n}\ncatch (IOException e) \n{\n    System.err.println(\"Exception\" + e.getMessage());\n}\n}\n\npublic static void main(String[] args) \n{\n    File inputFile = new File(\"C://users/admin/Desktop/Content.xls\");\n\n    readXls(inputFile);\n\n}\n}\n</code></pre>\n\n<p>this is what I have done, I am reading the whole content but I need a specific cell</p>\n"},{"tags":["java","layout","scrollbar","jscrollpane"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1667145731,"post_id":74253275,"comment_id":131096437,"body_markdown":"I have no idea what &quot;from scratch&quot; or &quot;prepared frame&quot; mean. Post a proper [mre] demonstrating the problem. We should be able to copy/paste/compile test the code.","body":"I have no idea what &quot;from scratch&quot; or &quot;prepared frame&quot; mean. Post a proper <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the problem. We should be able to copy/paste/compile test the code."},{"owner":{"account_id":23551035,"reputation":85,"user_id":17593743,"display_name":"Ddll"},"score":0,"creation_date":1667190973,"post_id":74253275,"comment_id":131104080,"body_markdown":"@camickr according to your advice,  i did","body":"@camickr according to your advice,  i did"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1667226549,"post_id":74253275,"comment_id":131113950,"body_markdown":"(1-) *according to your advice, i did* - how can we copy/paste/compile test random lines of code? *Is there a layout that does not move the previous objects* - The code only shows a text area. What previous objects are you talking about? Your verbal description of the problem is NOT clear, which is why an [mre] should be included with every question so we can see exactly what you are doing. The general answer to your question is yes, there are layout managers that will do what you want. Read the [Layout Manager](https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html) tutorial.","body":"(1-) <i>according to your advice, i did</i> - how can we copy/paste/compile test random lines of code? <i>Is there a layout that does not move the previous objects</i> - The code only shows a text area. What previous objects are you talking about? Your verbal description of the problem is NOT clear, which is why an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> should be included with every question so we can see exactly what you are doing. The general answer to your question is yes, there are layout managers that will do what you want. Read the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow noreferrer\">Layout Manager</a> tutorial."}],"answers":[{"tags":[],"owner":{"account_id":23551035,"reputation":85,"user_id":17593743,"display_name":"Ddll"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667560517,"creation_date":1667312202,"answer_id":74277311,"question_id":74253275,"body_markdown":"I found the solution to the problem by selecting the appropriate layout:\r\n\r\n```\r\nframe1= new JFrame(&quot;farme1&quot;);\r\nframe1.setBounds(100, 100, 200, 200);\r\nframe1.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\nframe1.setLayout(new BoxLayout(frame1.getContentPane(),BoxLayout.PAGE_AXIS) );//**key point**\r\nframe1.setResizable(false);\r\nJPanel pane = new JPanel(new GridBagLayout());\r\npane.setLayout(new GridBagLayout());\r\nGridBagConstraints c = new GridBagConstraints();\r\n```\r\nand some other initialization for c.","title":"ScrollBar is added from scrach but not in the middle of work - java swing frame","body":"<p>I found the solution to the problem by selecting the appropriate layout:</p>\n<pre><code>frame1= new JFrame(&quot;farme1&quot;);\nframe1.setBounds(100, 100, 200, 200);\nframe1.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\nframe1.setLayout(new BoxLayout(frame1.getContentPane(),BoxLayout.PAGE_AXIS) );//**key point**\nframe1.setResizable(false);\nJPanel pane = new JPanel(new GridBagLayout());\npane.setLayout(new GridBagLayout());\nGridBagConstraints c = new GridBagConstraints();\n</code></pre>\n<p>and some other initialization for c.</p>\n"}],"owner":{"account_id":23551035,"reputation":85,"user_id":17593743,"display_name":"Ddll"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74277311,"answer_count":1,"score":-2,"last_activity_date":1667560517,"creation_date":1667134957,"question_id":74253275,"body_markdown":"I don&#39;t know where the problem is, when the sample code is run alone and from scratch, the scrollbars are displayed correctly, but when we try to add them to a task area in the middle of a prepared frame, the text area disappears.\r\nThe last solution I tried was this:\r\n\r\n     createAndShowGUI() {\r\n     //\r\n     JTextArea textArea = new JTextArea(20, 20);\r\n     JScrollPane scrollableTextArea = new JScrollPane(textArea);\r\n     scrollableTextArea.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\r\n     frame.getContentPane().add(scrollableTextArea)\r\n     //}\r\n\r\nand for run it:\r\n\r\n     javax.swing.SwingUtilities.invokeLater(new Runnable() {\r\n            public void run() {\r\n               createAndShowGUI();\r\n           }\r\n       });\r\n\r\nand had the same problem,\r\nCan Anybody Help?\r\n\r\n**Edit**: I have to correct the question \r\n\r\nIn a good example, I would use this Line:\r\n\r\n    frame.getContentPane().setLayout(new FlowLayout());\r\n\r\nAnd in bad usage, I used this line:\r\n\r\n    frame.getContentPane().setLayout(null); //&quot;null&quot; cannot be replaced because the frame and its objects are moved\r\n\r\nIs there a layout that does not move the previous objects of the frame and shows the scroll bar correctly?","title":"ScrollBar is added from scrach but not in the middle of work - java swing frame","body":"<p>I don't know where the problem is, when the sample code is run alone and from scratch, the scrollbars are displayed correctly, but when we try to add them to a task area in the middle of a prepared frame, the text area disappears.\nThe last solution I tried was this:</p>\n<pre><code> createAndShowGUI() {\n //\n JTextArea textArea = new JTextArea(20, 20);\n JScrollPane scrollableTextArea = new JScrollPane(textArea);\n scrollableTextArea.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\n frame.getContentPane().add(scrollableTextArea)\n //}\n</code></pre>\n<p>and for run it:</p>\n<pre><code> javax.swing.SwingUtilities.invokeLater(new Runnable() {\n        public void run() {\n           createAndShowGUI();\n       }\n   });\n</code></pre>\n<p>and had the same problem,\nCan Anybody Help?</p>\n<p><strong>Edit</strong>: I have to correct the question</p>\n<p>In a good example, I would use this Line:</p>\n<pre><code>frame.getContentPane().setLayout(new FlowLayout());\n</code></pre>\n<p>And in bad usage, I used this line:</p>\n<pre><code>frame.getContentPane().setLayout(null); //&quot;null&quot; cannot be replaced because the frame and its objects are moved\n</code></pre>\n<p>Is there a layout that does not move the previous objects of the frame and shows the scroll bar correctly?</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667560476,"creation_date":1667560172,"answer_id":74316097,"question_id":74313193,"body_markdown":"use a ZipOutputStream, e.g.\r\n\r\n    ByteArrayInputStream bis = ExcelHelper.downloadToExcel2(...);\r\n    ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n    ZipOutputStream zipOut = new ZipOutputStream(bos);\r\n    ZipEntry zipEntry = new ZipEntry(&quot;excel-file-name&quot;);\r\n    zipOut.putNextEntry(zipEntry);\r\n    byte[] bytes = new byte[1024];\r\n    int length;\r\n    while((length = bis.read(bytes)) &gt;= 0) {\r\n      zipOut.write(bytes, 0, length);\r\n    }\r\n    zipOut.close();\r\n    return new ByteArrayInputStream(bos.toByteArray());\r\n\r\nand adjust response content type\r\n\r\n    .contentType(MediaType.parseMediaType(&quot;application/vnd.ms-excel&quot;))\r\n\r\nto\r\n\r\n    .contentType(MediaType.parseMediaType(&quot;application/zip&quot;))\r\n\r\nhttps://www.baeldung.com/java-compress-and-uncompress","title":"Excel download in a zip file","body":"<p>use a ZipOutputStream, e.g.</p>\n<pre><code>ByteArrayInputStream bis = ExcelHelper.downloadToExcel2(...);\nByteArrayOutputStream bos = new ByteArrayOutputStream();\nZipOutputStream zipOut = new ZipOutputStream(bos);\nZipEntry zipEntry = new ZipEntry(&quot;excel-file-name&quot;);\nzipOut.putNextEntry(zipEntry);\nbyte[] bytes = new byte[1024];\nint length;\nwhile((length = bis.read(bytes)) &gt;= 0) {\n  zipOut.write(bytes, 0, length);\n}\nzipOut.close();\nreturn new ByteArrayInputStream(bos.toByteArray());\n</code></pre>\n<p>and adjust response content type</p>\n<pre><code>.contentType(MediaType.parseMediaType(&quot;application/vnd.ms-excel&quot;))\n</code></pre>\n<p>to</p>\n<pre><code>.contentType(MediaType.parseMediaType(&quot;application/zip&quot;))\n</code></pre>\n<p><a href=\"https://www.baeldung.com/java-compress-and-uncompress\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-compress-and-uncompress</a></p>\n"}],"owner":{"account_id":7228763,"reputation":89,"user_id":5516431,"display_name":"Soe Myat Min"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":511,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667560476,"creation_date":1667544721,"question_id":74313193,"body_markdown":"The followling api can be call to download as .xlsx.\r\n\r\nI would like to download the excel file inside the .zip file \r\n\r\n```\r\n@ResponseBody\r\n@RequestMapping(value = &quot;/excelDownload&quot;, method = {RequestMethod.GET, RequestMethod.POST})\r\npublic ResponseEntity&lt;Resource&gt; excelDownload() throws Exception {\r\n    ResponseEntity&lt;byte[]&gt; entity = null;\r\n    ResponseEntity&lt;Resource&gt; excelFile = null;\r\n    try {\r\n        HashMap&lt;String, String&gt; param = new HashMap&lt;String, String&gt;();\r\n        param = (HashMap&lt;String, String&gt;) session.getAttribute(&quot;mySession&quot;);\r\n\r\n        List&lt;BranchInfoDTO&gt; BranchInfoDTOList = new ArrayList&lt;&gt;();\r\n        try {\r\n            BranchInfoDTOList = shopInfoService.selectMyListExcelDownload(param);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        List&lt;List&lt;String&gt;&gt; dataList = getDownloadData(BranchInfoDTOList);\r\n        // the dataList part has no problem at the moment\r\n\r\n        String folderName = getSessionUser().getName() + DateUtil.date2String(new Date(), DateUtil.YYYYMMDD_HHMMSS);\r\n        String baseDirPath = tempDirPath + File.separator + folderName;\r\n        InputStreamResource file = new InputStreamResource(ExcelHelper.downloadToExcel2(dataList)); // ExcelHelper.java will be seen below \r\n\r\n        excelFile = ResponseEntity.ok()\r\n                .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=&quot; + folderName + &quot;.xlsx&quot;)\r\n                .contentType(MediaType.parseMediaType(&quot;application/vnd.ms-excel&quot;))\r\n                .body(file);\r\n\r\n    } catch (Exception e) {\r\n        System.out.print(e);\r\n        throw e;\r\n    }\r\n    return excelFile;\r\n}\r\n```\r\n\r\nThe following static function is in ExcelHelper.java\r\n```\r\npublic static ByteArrayInputStream downloadToExcel2(List&lt;List&lt;String&gt;&gt; dataList) {\r\n    try {\r\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n\r\n        InputStream resourceAsStream = new FileInputStream(PROXY_FORMAT_LOCAL);\r\n        Workbook workBook = new XSSFWorkbook(resourceAsStream);\r\n        Sheet sheet = workBook.getSheetAt(0);\r\n\r\n        // Data\r\n        int rowIdx = 1;\r\n        for (List&lt;String&gt; stringList : dataList) {\r\n            Row row = sheet.createRow(rowIdx++);\r\n            System.out.println(&quot;row = &quot; + row);\r\n\r\n            for (int i = 0; i &lt; stringList.size(); i++) {\r\n                row.createCell(i).setCellValue(stringList.get(i));\r\n            }\r\n        }\r\n        workBook.write(out);\r\n        return new ByteArrayInputStream(out.toByteArray());\r\n    } catch (IOException e) {\r\n        throw new RuntimeException(&quot;fail to import data to Excel file: &quot; + e.getMessage());\r\n    }\r\n}\r\n```\r\n\r\nThere is entity declare as ResponseEntity&lt;byte[]&gt; .\r\nI would like to return as ResponseEntity&lt;byte[]&gt; which is for zip file.\r\n\r\nE.g. \r\n\r\n```\r\nResponseEntity&lt;byte[]&gt; entity = ExcelFileInsideZip(excelFile);\r\nreturn entity;\r\n```\r\n\r\nOr there may be other way to learn something\r\nThanks\r\n","title":"Excel download in a zip file","body":"<p>The followling api can be call to download as .xlsx.</p>\n<p>I would like to download the excel file inside the .zip file</p>\n<pre><code>@ResponseBody\n@RequestMapping(value = &quot;/excelDownload&quot;, method = {RequestMethod.GET, RequestMethod.POST})\npublic ResponseEntity&lt;Resource&gt; excelDownload() throws Exception {\n    ResponseEntity&lt;byte[]&gt; entity = null;\n    ResponseEntity&lt;Resource&gt; excelFile = null;\n    try {\n        HashMap&lt;String, String&gt; param = new HashMap&lt;String, String&gt;();\n        param = (HashMap&lt;String, String&gt;) session.getAttribute(&quot;mySession&quot;);\n\n        List&lt;BranchInfoDTO&gt; BranchInfoDTOList = new ArrayList&lt;&gt;();\n        try {\n            BranchInfoDTOList = shopInfoService.selectMyListExcelDownload(param);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        List&lt;List&lt;String&gt;&gt; dataList = getDownloadData(BranchInfoDTOList);\n        // the dataList part has no problem at the moment\n\n        String folderName = getSessionUser().getName() + DateUtil.date2String(new Date(), DateUtil.YYYYMMDD_HHMMSS);\n        String baseDirPath = tempDirPath + File.separator + folderName;\n        InputStreamResource file = new InputStreamResource(ExcelHelper.downloadToExcel2(dataList)); // ExcelHelper.java will be seen below \n\n        excelFile = ResponseEntity.ok()\n                .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=&quot; + folderName + &quot;.xlsx&quot;)\n                .contentType(MediaType.parseMediaType(&quot;application/vnd.ms-excel&quot;))\n                .body(file);\n\n    } catch (Exception e) {\n        System.out.print(e);\n        throw e;\n    }\n    return excelFile;\n}\n</code></pre>\n<p>The following static function is in ExcelHelper.java</p>\n<pre><code>public static ByteArrayInputStream downloadToExcel2(List&lt;List&lt;String&gt;&gt; dataList) {\n    try {\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\n\n        InputStream resourceAsStream = new FileInputStream(PROXY_FORMAT_LOCAL);\n        Workbook workBook = new XSSFWorkbook(resourceAsStream);\n        Sheet sheet = workBook.getSheetAt(0);\n\n        // Data\n        int rowIdx = 1;\n        for (List&lt;String&gt; stringList : dataList) {\n            Row row = sheet.createRow(rowIdx++);\n            System.out.println(&quot;row = &quot; + row);\n\n            for (int i = 0; i &lt; stringList.size(); i++) {\n                row.createCell(i).setCellValue(stringList.get(i));\n            }\n        }\n        workBook.write(out);\n        return new ByteArrayInputStream(out.toByteArray());\n    } catch (IOException e) {\n        throw new RuntimeException(&quot;fail to import data to Excel file: &quot; + e.getMessage());\n    }\n}\n</code></pre>\n<p>There is entity declare as ResponseEntity&lt;byte[]&gt; .\nI would like to return as ResponseEntity&lt;byte[]&gt; which is for zip file.</p>\n<p>E.g.</p>\n<pre><code>ResponseEntity&lt;byte[]&gt; entity = ExcelFileInsideZip(excelFile);\nreturn entity;\n</code></pre>\n<p>Or there may be other way to learn something\nThanks</p>\n"},{"tags":["java","selenium","cucumber"],"comments":[{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1667317117,"post_id":74277037,"comment_id":131136640,"body_markdown":"You probably meant to import `io.cucumber.java8.En`. Make sure you also have `cucumber-java8` as a dependency.","body":"You probably meant to import <code>io.cucumber.java8.En</code>. Make sure you also have <code>cucumber-java8</code> as a dependency."},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1667317206,"post_id":74277037,"comment_id":131136665,"body_markdown":"You should also review https://stackoverflow.com/help/how-to-ask because this question is impossible to answer by most without any more context.","body":"You should also review <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a> because this question is impossible to answer by most without any more context."},{"owner":{"account_id":13200788,"reputation":21,"user_id":21689286,"display_name":"javabeginer"},"score":0,"creation_date":1667317966,"post_id":74277037,"comment_id":131136963,"body_markdown":"in Java 11 you cannot import io.cucumber.java8.En.","body":"in Java 11 you cannot import io.cucumber.java8.En."},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1667322474,"post_id":74277037,"comment_id":131138573,"body_markdown":"that is a strange thing to say. Why?","body":"that is a strange thing to say. Why?"},{"owner":{"account_id":13200788,"reputation":21,"user_id":21689286,"display_name":"javabeginer"},"score":0,"creation_date":1667322611,"post_id":74277037,"comment_id":131138618,"body_markdown":"so try - becaue I see error when in Java 11 I want to import  io.cucumber.java8.En.","body":"so try - becaue I see error when in Java 11 I want to import  io.cucumber.java8.En."}],"answers":[{"tags":[],"owner":{"account_id":13200788,"reputation":21,"user_id":21689286,"display_name":"javabeginer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667560379,"creation_date":1667326282,"answer_id":74280110,"question_id":74277037,"body_markdown":"Ok, I had to import dependency, and now works\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n    &lt;artifactId&gt;cucumber-java8&lt;/artifactId&gt;\r\n    &lt;version&gt;7.8.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n","title":"Java Cucumber - step definition implements En interface - possible in java 11?","body":"<p>Ok, I had to import dependency, and now works</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n    &lt;artifactId&gt;cucumber-java8&lt;/artifactId&gt;\n    &lt;version&gt;7.8.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":13200788,"reputation":21,"user_id":21689286,"display_name":"javabeginer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667560379,"creation_date":1667310955,"question_id":74277037,"body_markdown":"\r\nJava Cucumber - step definition implements En interface - how to use it ?\r\n\r\nThe following code does not work. Could you repair it ?\r\n\r\n`Method Given(&quot;^Customer is on landing page$&quot;, () throws error &quot;method call expected&quot;`\r\n\r\nI am using Java 11.\r\n```\r\nimport static utils.BasePage.driver;\r\nimport io.cucumber.java.af.En;\r\n\r\npublic class LandingPageStepDefs implements En {\r\n    \r\n    @Override\r\n    public String value() {\r\n        return null;\r\n    }\r\n    \r\n    @Override\r\n    public Class&lt;? extends Annotation&gt; annotationType() {\r\n        return null;\r\n    }\r\n    \r\n    LandingPage landingPage = new LandingPage(driver);\r\n\r\n    public LandingPageStepDefs() {\r\n    \r\n        Given(&quot;^Customer is on landing page$&quot;, () -&gt; {\r\n            landingPage.verifyTextOnBanner();\r\n        });   \r\n    }\r\n}\r\n```","title":"Java Cucumber - step definition implements En interface - possible in java 11?","body":"<p>Java Cucumber - step definition implements En interface - how to use it ?</p>\n<p>The following code does not work. Could you repair it ?</p>\n<p><code>Method Given(&quot;^Customer is on landing page$&quot;, () throws error &quot;method call expected&quot;</code></p>\n<p>I am using Java 11.</p>\n<pre><code>import static utils.BasePage.driver;\nimport io.cucumber.java.af.En;\n\npublic class LandingPageStepDefs implements En {\n    \n    @Override\n    public String value() {\n        return null;\n    }\n    \n    @Override\n    public Class&lt;? extends Annotation&gt; annotationType() {\n        return null;\n    }\n    \n    LandingPage landingPage = new LandingPage(driver);\n\n    public LandingPageStepDefs() {\n    \n        Given(&quot;^Customer is on landing page$&quot;, () -&gt; {\n            landingPage.verifyTextOnBanner();\n        });   \n    }\n}\n</code></pre>\n"},{"tags":["java","spring-security"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1667387035,"post_id":74287830,"comment_id":131153606,"body_markdown":"*But this filter is giving ...* That doesn&#39;t really make sense. What do you mean &quot;giving&quot;? Also do ```printStackTrace``` on your exceptions","body":"<i>But this filter is giving ...</i> That doesn&#39;t really make sense. What do you mean &quot;giving&quot;? Also do <code>printStackTrace</code> on your exceptions"},{"owner":{"account_id":26781259,"reputation":1,"user_id":20376059,"display_name":"d_p"},"score":0,"creation_date":1667475902,"post_id":74287830,"comment_id":131177996,"body_markdown":"When I add filter to application , On loading of login page it&#39;s not taking any of the css files it&#39;s showing &quot;Refused to apply style from -- because its MIME type (&#39;&#39;) is not a supported stylesheet MIME type, and strict MIME checking is enabled&quot;","body":"When I add filter to application , On loading of login page it&#39;s not taking any of the css files it&#39;s showing &quot;Refused to apply style from -- because its MIME type (&#39;&#39;) is not a supported stylesheet MIME type, and strict MIME checking is enabled&quot;"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667476266,"post_id":74287830,"comment_id":131178128,"body_markdown":"I think we&#39;d need to see the filter. Please put it in the question","body":"I think we&#39;d need to see the filter. Please put it in the question"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667560714,"post_id":74287830,"comment_id":131200613,"body_markdown":"Again, that filter should be using `printStackTrace`. Then please post *full stack trace* **as code**","body":"Again, that filter should be using <code>printStackTrace</code>. Then please post <i>full stack trace</i> <b>as code</b>"},{"owner":{"account_id":26781259,"reputation":1,"user_id":20376059,"display_name":"d_p"},"score":0,"creation_date":1668073155,"post_id":74287830,"comment_id":131320203,"body_markdown":"Please note, I&#39;m not getting any exception but the problem is only the CSS not working.","body":"Please note, I&#39;m not getting any exception but the problem is only the CSS not working."}],"owner":{"account_id":26781259,"reputation":1,"user_id":20376059,"display_name":"d_p"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667560367,"creation_date":1667385455,"question_id":74287830,"body_markdown":"I have added filter to remove untrust character(&lt;,&gt;) in application.But this filter is giving &quot;Refused to apply style from &#39;&lt;URL&gt;&#39; because its MIME type (&#39;&#39;) is not a supported stylesheet MIME type, and strict MIME checking is enabled&quot; issue\r\n\r\nMy filter is like this,\r\n\r\n```\r\n  private FilterConfig filterConfig;\r\n  static class FilteredRequest extends HttpServletRequestWrapper {\r\n\r\n\t  public FilteredRequest(ServletRequest request) {\r\n\t\tsuper((HttpServletRequest)request);\r\n\t  }\r\n\r\n\t/**\r\n Method used to remove the unsafe characters(&lt;,&gt;,(,),%) from parameter values\r\n*/\r\n\t  public String getParameter(String paramName) {\r\n\t\tString value = removeUntrustChars(super.getParameter(paramName));\r\n\t\treturn value;\r\n\t  }\r\n\r\n/**\r\n Method used to remove the unsafe characters(&lt;,&gt;,(,),%) from parameter values\r\n*/\r\n\t  public String[] getParameterValues(String paramName) {\r\n\r\n\t  \tString values[] = super.getParameterValues(paramName);\r\n\t\tif(values != null &amp;&amp; values.length &gt;0){\r\n\t\t   for (int index = 0; index &lt; values.length; index++) {\r\n  \t\t      if(values[index] != null &amp;&amp; values[index].length()&gt;0){\r\n\t\t         values[index] = removeUntrustChars(values[index]);\r\n\t\t      }\r\n\t  \t    }\r\n\t  \t}\r\n\t  \treturn values;\r\n\t  }\r\n\t  \r\n/**\r\n Method used to remove the unsafe characters(&lt;,&gt;,(,),%) from cookie values\r\n*/\r\n\t  public Cookie[] getCookies(){\r\n\t  \r\n\t  \tCookie[] cookies = super.getCookies();\r\n\t  \t Integer len=cookies!=null? cookies.length:0;\r\n\t    \tfor (int i = 0; i &lt; len; i++) {\r\n\t    \t    cookies[i].setValue(removeUntrustChars(cookies[i].getValue()));\r\n\t    \t}\r\n\t    \treturn cookies;\r\n\t  }\r\n\t  \r\n\r\n/**\r\n Method used to remove the unsafe characters(&lt;,&gt;,(,),%) from given String. \r\n*/\r\n\t  private String removeUntrustChars(String value)\r\n          {\r\n                if(value != null &amp;&amp; value.length()&gt;0)\r\n                {\r\n\t\t   value = value.replaceAll(&quot;&gt;&quot;,&quot;&amp;gt&quot;);\r\n\t\t   value = value.replaceAll(&quot;&lt;&quot;,&quot;&amp;lt&quot;);\r\n                   value = value.replaceAll(&quot;\\&quot;&quot;,&quot;&amp;quot&quot;); \r\n                   value = value.replaceAll(&quot;\\&#39;&quot;,&quot;&amp;quot&quot;); \r\n                   value = value.replaceAll(&quot;;&quot;,&quot; &quot;);  \r\n                   value = value.replaceAll(&quot;-&quot;,&quot; &quot;); \r\n\t\t}  \r\n                return value;\r\n\t  }\r\n  }\r\n\r\n  public void init(FilterConfig filterConfig){\r\n\t  this.filterConfig=filterConfig;\r\n\t  System.out.println(&quot;init() method has been get invoked&quot;);\r\n  }\r\n\r\n  public void doFilter (ServletRequest request,ServletResponse response,FilterChain chain) {\r\n\r\n    try{\r\n       // Wrapping the request object using custom wrapper\r\n        RequestFilter.FilteredRequest filteredRequest= new RequestFilter.FilteredRequest(request);\r\n        HttpServletRequest req = (HttpServletRequest) request;\r\n    \t\r\n//boolean flag=Boolean.FALSE;\r\n//         flag=req.getRequestURI().contains(&quot;resource&quot;) || req.getRequestURI().contains(&quot;img&quot;) || req.getRequestURI().contains(&quot;favicon&quot;);\r\n//        System.out.println(&quot;doFilter() method has been get invoked:&quot;+req.getRequestURI()+&quot;flag---&quot; +flag);\r\n//        if(!flag) {\r\n        \tSystem.out.println(&quot;called---&quot;+req.getRequestURI());\r\n        chain.doFilter(filteredRequest, response);\r\n//        }\r\n    }\r\n    catch (IOException io){\r\n      System.out.println(&quot;IOException raised&quot;);\r\n    }\r\n    catch (ServletException se)\r\n    {\r\n      System.out.println(&quot;ServletException raised&quot;);\r\n    }\r\n  }\r\n\r\n  public FilterConfig getFilterConfig()\r\n  {\r\n    return this.filterConfig;\r\n  }\r\n\r\n  public void setFilterConfig (FilterConfig filterConfig)\r\n  {\r\n    this.filterConfig = filterConfig;\r\n  }\r\n  public void destroy(){\r\n  }\r\n```\r\n\r\ni  have added filter to remove untrust character(&lt;,&gt;) in application.But this filter is giving &quot;Refused to apply style from &#39;&#39; because its MIME type (&#39;&#39;) is not a supported stylesheet MIME type, and strict MIME checking is enabled&quot; issue\r\n","title":"Java Filter to remove untrust character is causing issue","body":"<p>I have added filter to remove untrust character(&lt;,&gt;) in application.But this filter is giving &quot;Refused to apply style from '' because its MIME type ('') is not a supported stylesheet MIME type, and strict MIME checking is enabled&quot; issue</p>\n<p>My filter is like this,</p>\n<pre><code>  private FilterConfig filterConfig;\n  static class FilteredRequest extends HttpServletRequestWrapper {\n\n      public FilteredRequest(ServletRequest request) {\n        super((HttpServletRequest)request);\n      }\n\n    /**\n Method used to remove the unsafe characters(&lt;,&gt;,(,),%) from parameter values\n*/\n      public String getParameter(String paramName) {\n        String value = removeUntrustChars(super.getParameter(paramName));\n        return value;\n      }\n\n/**\n Method used to remove the unsafe characters(&lt;,&gt;,(,),%) from parameter values\n*/\n      public String[] getParameterValues(String paramName) {\n\n        String values[] = super.getParameterValues(paramName);\n        if(values != null &amp;&amp; values.length &gt;0){\n           for (int index = 0; index &lt; values.length; index++) {\n              if(values[index] != null &amp;&amp; values[index].length()&gt;0){\n                 values[index] = removeUntrustChars(values[index]);\n              }\n            }\n        }\n        return values;\n      }\n      \n/**\n Method used to remove the unsafe characters(&lt;,&gt;,(,),%) from cookie values\n*/\n      public Cookie[] getCookies(){\n      \n        Cookie[] cookies = super.getCookies();\n         Integer len=cookies!=null? cookies.length:0;\n            for (int i = 0; i &lt; len; i++) {\n                cookies[i].setValue(removeUntrustChars(cookies[i].getValue()));\n            }\n            return cookies;\n      }\n      \n\n/**\n Method used to remove the unsafe characters(&lt;,&gt;,(,),%) from given String. \n*/\n      private String removeUntrustChars(String value)\n          {\n                if(value != null &amp;&amp; value.length()&gt;0)\n                {\n           value = value.replaceAll(&quot;&gt;&quot;,&quot;&amp;gt&quot;);\n           value = value.replaceAll(&quot;&lt;&quot;,&quot;&amp;lt&quot;);\n                   value = value.replaceAll(&quot;\\&quot;&quot;,&quot;&amp;quot&quot;); \n                   value = value.replaceAll(&quot;\\'&quot;,&quot;&amp;quot&quot;); \n                   value = value.replaceAll(&quot;;&quot;,&quot; &quot;);  \n                   value = value.replaceAll(&quot;-&quot;,&quot; &quot;); \n        }  \n                return value;\n      }\n  }\n\n  public void init(FilterConfig filterConfig){\n      this.filterConfig=filterConfig;\n      System.out.println(&quot;init() method has been get invoked&quot;);\n  }\n\n  public void doFilter (ServletRequest request,ServletResponse response,FilterChain chain) {\n\n    try{\n       // Wrapping the request object using custom wrapper\n        RequestFilter.FilteredRequest filteredRequest= new RequestFilter.FilteredRequest(request);\n        HttpServletRequest req = (HttpServletRequest) request;\n        \n//boolean flag=Boolean.FALSE;\n//         flag=req.getRequestURI().contains(&quot;resource&quot;) || req.getRequestURI().contains(&quot;img&quot;) || req.getRequestURI().contains(&quot;favicon&quot;);\n//        System.out.println(&quot;doFilter() method has been get invoked:&quot;+req.getRequestURI()+&quot;flag---&quot; +flag);\n//        if(!flag) {\n            System.out.println(&quot;called---&quot;+req.getRequestURI());\n        chain.doFilter(filteredRequest, response);\n//        }\n    }\n    catch (IOException io){\n      System.out.println(&quot;IOException raised&quot;);\n    }\n    catch (ServletException se)\n    {\n      System.out.println(&quot;ServletException raised&quot;);\n    }\n  }\n\n  public FilterConfig getFilterConfig()\n  {\n    return this.filterConfig;\n  }\n\n  public void setFilterConfig (FilterConfig filterConfig)\n  {\n    this.filterConfig = filterConfig;\n  }\n  public void destroy(){\n  }\n</code></pre>\n<p>i  have added filter to remove untrust character(&lt;,&gt;) in application.But this filter is giving &quot;Refused to apply style from '' because its MIME type ('') is not a supported stylesheet MIME type, and strict MIME checking is enabled&quot; issue</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":26682411,"reputation":16,"user_id":20292196,"display_name":"Shane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667188020,"creation_date":1667188020,"answer_id":74258553,"question_id":74258276,"body_markdown":"Create data class Badge\r\n\r\n    data class Badge\r\n    (\r\n       val bagdeId: Int,\r\n       val badge1 : Boolean, \r\n      val badge2 : Boolean, \r\n      val badge3 : Boolean, \r\n      val badge4 : Boolean, \r\n      val badge5 : Boolean, \r\n      val badge6 : Boolean, \r\n    )\r\n\r\nUse in Call, Callback, Response, replace SingleResult\r\n\r\n\r\n    Call&lt;List&lt;Badge&gt;&gt;\r\n    Callback&lt;List&lt;Badge&gt;&gt;\r\n    Response&lt;List&lt;Badge&gt;&gt;\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"how to receive array using retrofitAPI","body":"<p>Create data class Badge</p>\n<pre><code>data class Badge\n(\n   val bagdeId: Int,\n   val badge1 : Boolean, \n  val badge2 : Boolean, \n  val badge3 : Boolean, \n  val badge4 : Boolean, \n  val badge5 : Boolean, \n  val badge6 : Boolean, \n)\n</code></pre>\n<p>Use in Call, Callback, Response, replace SingleResult</p>\n<pre><code>Call&lt;List&lt;Badge&gt;&gt;\nCallback&lt;List&lt;Badge&gt;&gt;\nResponse&lt;List&lt;Badge&gt;&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26786386,"reputation":31,"user_id":20380509,"display_name":"Metehandro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667299300,"creation_date":1667245189,"answer_id":74268360,"question_id":74258276,"body_markdown":"Create model class Badge\r\n\r\n    @SerializedName(&quot;msg&quot;)\r\n    @Expose\r\n    private String message;\r\n\r\n    @SerializedName(&quot;data&quot;)\r\n    @Expose\r\n    private List&lt;Datas&gt; data = null;\r\n\r\n    public String getMessage() {\r\n        return message;\r\n    }\r\n\r\n    public List&lt;Datas&gt; getData() {\r\n        return data;\r\n    }\r\n\r\nAnd then create a model class Datas\r\n\r\n    @SerializedName(&quot;badgeId&quot;)\r\n    @Expose\r\n    private int badgeId;\r\n\r\n    @SerializedName(&quot;badge1&quot;)\r\n    @Expose\r\n    private boolean badge1;\r\n\r\n    @SerializedName(&quot;badge2&quot;)\r\n    @Expose\r\n    private boolean badge2;\r\n\r\n    @SerializedName(&quot;badge3&quot;)\r\n    @Expose\r\n    private boolean badge3;\r\n\r\n    @SerializedName(&quot;badge4&quot;)\r\n    @Expose\r\n    private boolean badge4;\r\n\r\n    @SerializedName(&quot;badge5&quot;)\r\n    @Expose\r\n    private boolean badge5;\r\n\r\n    @SerializedName(&quot;badge6&quot;)\r\n    @Expose\r\n    private boolean badge6;\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Datas{&quot; +\r\n                &quot;badgeId=&quot; + badgeId +\r\n                &quot;, badge1=&quot; + badge1 +\r\n                &quot;, badge2=&quot; + badge2 +\r\n                &quot;, badge3=&quot; + badge3 +\r\n                &quot;, badge4=&quot; + badge4 +\r\n                &quot;, badge5=&quot; + badge5 +\r\n                &quot;, badge6=&quot; + badge6 +\r\n                &#39;}&#39;;\r\n    }\r\n\r\nYour get request will be like this\r\n\r\n    @GET(&quot;v3/bc3a5fef-3105-4499-961e-fb103b706220&quot;)\r\n    Call&lt;Badge&gt; getResponse();\r\n\r\nAnd your code:\r\n\r\n        profileAPI.getResponse().enqueue(new Callback&lt;Badge&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;Badge&gt; call, Response&lt;Badge&gt; response) {\r\n                if(response.isSuccessful() &amp;&amp; response.body() != null) {\r\n                    Badge data = response.body();\r\n                    System.out.println(&quot;response:&quot; + data.getData().toString());\r\n                }\r\n            }\r\n\r\n","title":"how to receive array using retrofitAPI","body":"<p>Create model class Badge</p>\n<pre><code>@SerializedName(&quot;msg&quot;)\n@Expose\nprivate String message;\n\n@SerializedName(&quot;data&quot;)\n@Expose\nprivate List&lt;Datas&gt; data = null;\n\npublic String getMessage() {\n    return message;\n}\n\npublic List&lt;Datas&gt; getData() {\n    return data;\n}\n</code></pre>\n<p>And then create a model class Datas</p>\n<pre><code>@SerializedName(&quot;badgeId&quot;)\n@Expose\nprivate int badgeId;\n\n@SerializedName(&quot;badge1&quot;)\n@Expose\nprivate boolean badge1;\n\n@SerializedName(&quot;badge2&quot;)\n@Expose\nprivate boolean badge2;\n\n@SerializedName(&quot;badge3&quot;)\n@Expose\nprivate boolean badge3;\n\n@SerializedName(&quot;badge4&quot;)\n@Expose\nprivate boolean badge4;\n\n@SerializedName(&quot;badge5&quot;)\n@Expose\nprivate boolean badge5;\n\n@SerializedName(&quot;badge6&quot;)\n@Expose\nprivate boolean badge6;\n\n@Override\npublic String toString() {\n    return &quot;Datas{&quot; +\n            &quot;badgeId=&quot; + badgeId +\n            &quot;, badge1=&quot; + badge1 +\n            &quot;, badge2=&quot; + badge2 +\n            &quot;, badge3=&quot; + badge3 +\n            &quot;, badge4=&quot; + badge4 +\n            &quot;, badge5=&quot; + badge5 +\n            &quot;, badge6=&quot; + badge6 +\n            '}';\n}\n</code></pre>\n<p>Your get request will be like this</p>\n<pre><code>@GET(&quot;v3/bc3a5fef-3105-4499-961e-fb103b706220&quot;)\nCall&lt;Badge&gt; getResponse();\n</code></pre>\n<p>And your code:</p>\n<pre><code>    profileAPI.getResponse().enqueue(new Callback&lt;Badge&gt;() {\n        @Override\n        public void onResponse(Call&lt;Badge&gt; call, Response&lt;Badge&gt; response) {\n            if(response.isSuccessful() &amp;&amp; response.body() != null) {\n                Badge data = response.body();\n                System.out.println(&quot;response:&quot; + data.getData().toString());\n            }\n        }\n</code></pre>\n"}],"owner":{"account_id":25896604,"reputation":17,"user_id":19623086,"display_name":"Stupid_Student"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74258553,"answer_count":2,"score":0,"last_activity_date":1667560111,"creation_date":1667184194,"question_id":74258276,"body_markdown":"i want receive the array data in Android\r\n\r\n[![```][1]][1]\r\n\r\n\r\n[1]: https://i.stack.imgur.com/VYL5M.png\r\n\r\n```\r\nprofileAPI.getBadge().enqueue(new Callback&lt;SingleResult&gt;() {\r\n    @Override\r\n    public void onResponse(Call&lt;SingleResult&gt; call, Response&lt;SingleResult&gt; response) {\r\n        if(response.isSuccessful() &amp;&amp; response.body() != null) {\r\n            SingleResult data = response.body();\r\n\r\n            //here\r\n        }\r\n    }\r\n}\r\n```\r\nI need data from badges 1 to 6.\r\nValues in one boolean object\r\n","title":"how to receive array using retrofitAPI","body":"<p>i want receive the array data in Android</p>\n<p><a href=\"https://i.stack.imgur.com/VYL5M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VYL5M.png\" alt=\"```\" /></a></p>\n<pre><code>profileAPI.getBadge().enqueue(new Callback&lt;SingleResult&gt;() {\n    @Override\n    public void onResponse(Call&lt;SingleResult&gt; call, Response&lt;SingleResult&gt; response) {\n        if(response.isSuccessful() &amp;&amp; response.body() != null) {\n            SingleResult data = response.body();\n\n            //here\n        }\n    }\n}\n</code></pre>\n<p>I need data from badges 1 to 6.\nValues in one boolean object</p>\n"},{"tags":["java","amazon-web-services","aws-lambda"],"comments":[{"owner":{"account_id":4133101,"reputation":23355,"user_id":3390419,"accept_rate":30,"display_name":"Paolo"},"score":0,"creation_date":1667560160,"post_id":74316076,"comment_id":131200425,"body_markdown":"Are you asking if lambda will prevent you from deploying a new version if the jar is unchanged?","body":"Are you asking if lambda will prevent you from deploying a new version if the jar is unchanged?"},{"owner":{"account_id":2111551,"reputation":17583,"user_id":1876739,"accept_rate":94,"display_name":"Ram&#243;n J Romero y Vigil"},"score":0,"creation_date":1667564615,"post_id":74316076,"comment_id":131201910,"body_markdown":"@Paolo No, I am asking if the 2 different versions that exist will behave identically or differently based on their respective .jar files.","body":"@Paolo No, I am asking if the 2 different versions that exist will behave identically or differently based on their respective .jar files."}],"owner":{"account_id":2111551,"reputation":17583,"user_id":1876739,"accept_rate":94,"display_name":"Ram&#243;n J Romero y Vigil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1667667234,"answer_count":0,"score":0,"last_activity_date":1667560025,"creation_date":1667560025,"question_id":74316076,"body_markdown":"One of the code sources for an AWS Lambda can be [a `.jar` object in an S3 bucket][1].  \r\n\r\nIf the contents of the jar is updated in S3, while retaining the same object key, and a new [Lambda function version][2] is created then do both versions behave the same according to the current jar?  Or does each Lambda version retain a separate copy of the jar file and therefore behave differently?\r\n\r\nPut another way: does the source .jar have to be a unique object in the S3 bucket in order for Lambda versioning to work as expected?\r\n\r\nThank you in advance for your consideration and response.\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/lambda/latest/dg/java-package.html\r\n  [2]: https://docs.aws.amazon.com/lambda/latest/dg/configuration-versions.html","title":"AWS Lambda Versioning of Same S3 .jar Object Source","body":"<p>One of the code sources for an AWS Lambda can be <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/java-package.html\" rel=\"nofollow noreferrer\">a <code>.jar</code> object in an S3 bucket</a>.</p>\n<p>If the contents of the jar is updated in S3, while retaining the same object key, and a new <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/configuration-versions.html\" rel=\"nofollow noreferrer\">Lambda function version</a> is created then do both versions behave the same according to the current jar?  Or does each Lambda version retain a separate copy of the jar file and therefore behave differently?</p>\n<p>Put another way: does the source .jar have to be a unique object in the S3 bucket in order for Lambda versioning to work as expected?</p>\n<p>Thank you in advance for your consideration and response.</p>\n"},{"tags":["java","android","kotlin","camera","screenshot"],"answers":[{"tags":[],"owner":{"account_id":11850608,"reputation":1127,"user_id":8672015,"display_name":"Samir Alakbarov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667473581,"creation_date":1667473581,"answer_id":74302092,"question_id":74301696,"body_markdown":"try `View.drawToBitmap()` method of `View` class. Or you can use `View.getDrawingCache()` method but it is deprecated. And to use this `android:drawingCacheEnabled` attribute of `View` must be `true`.","title":"How to take screenshot of activity with camera use cameraPreview","body":"<p>try <code>View.drawToBitmap()</code> method of <code>View</code> class. Or you can use <code>View.getDrawingCache()</code> method but it is deprecated. And to use this <code>android:drawingCacheEnabled</code> attribute of <code>View</code> must be <code>true</code>.</p>\n"}],"owner":{"account_id":23399268,"reputation":1,"user_id":17462689,"display_name":"Lokesh Arora"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":398,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667559956,"creation_date":1667471969,"question_id":74301696,"body_markdown":"here is my xml file\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/main&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n\r\n    &lt;androidx.camera.view.PreviewView\r\n        android:id=&quot;@+id/viewfinder&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_marginBottom=&quot;100dp&quot;\r\n        android:contentDescription=&quot;@string/preveiwarea&quot;\r\n        android:importantForAccessibility=&quot;no&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        tools:ignore=&quot;MissingClass&quot; /&gt;\r\n\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:id=&quot;@+id/constraint&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;100dp&quot;\r\n        android:layout_gravity=&quot;bottom&quot;\r\n        android:gravity=&quot;center_horizontal&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        android:weightSum=&quot;3&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/viewfinder&quot;&gt;\r\n\r\n        &lt;androidx.cardview.widget.CardView\r\n            android:id=&quot;@+id/card&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            app:cardBackgroundColor=&quot;#ffffff&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n            &lt;Button\r\n                android:id=&quot;@+id/btn_capture&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_marginStart=&quot;170dp&quot;\r\n                android:layout_marginTop=&quot;10dp&quot;\r\n                android:layout_marginEnd=&quot;170dp&quot;\r\n                android:layout_marginBottom=&quot;14dp&quot;\r\n                android:contentDescription=&quot;@string/capture&quot;\r\n                android:src=&quot;@drawable/ic_baseline_photo_camera_24&quot;\r\n                android:text=&quot;@string/clickme&quot; /&gt;\r\n\r\n        &lt;/androidx.cardview.widget.CardView&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n```\r\n\r\n\r\n\r\nhere is  my mainactivity.kt file\r\n\r\n\r\n```\r\npackage com.example.gpsmapcameraapp\r\n\r\nimport android.Manifest\r\nimport android.annotation.SuppressLint\r\nimport android.content.ContentValues\r\nimport android.content.pm.PackageManager\r\nimport android.graphics.Bitmap\r\nimport android.graphics.Canvas\r\nimport android.net.Uri\r\nimport android.os.Build\r\nimport android.os.Bundle\r\nimport android.os.Environment\r\nimport android.provider.MediaStore\r\nimport android.util.Log\r\nimport android.view.View\r\nimport android.widget.Button\r\nimport android.widget.Toast\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport androidx.camera.core.CameraSelector\r\nimport androidx.camera.core.ImageAnalysis\r\nimport androidx.camera.core.ImageCapture\r\nimport androidx.camera.core.Preview\r\nimport androidx.camera.lifecycle.ProcessCameraProvider\r\nimport androidx.camera.view.PreviewView\r\nimport androidx.core.app.ActivityCompat\r\nimport androidx.core.content.ContextCompat\r\nimport java.io.File\r\nimport java.io.FileOutputStream\r\nimport java.io.OutputStream\r\nimport java.util.concurrent.ExecutionException\r\n\r\nclass MainActivity : AppCompatActivity() {\r\n    private var mPreviewView: PreviewView? = null\r\n    private lateinit var main: View\r\n\r\n    //   private val executor: Executor = Executors.newSingleThreadExecutor()\r\n    private val REQUEST_CODE_PERMISSIONS = 1001\r\n    private val REQUIRED_PERMISSIONS = arrayOf(&quot;android.permission.CAMERA&quot;, &quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;)\r\n\r\n\r\n    @SuppressLint(&quot;MissingInflatedId&quot;)\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n//        ActivityCompat.requestPermissions(this, arrayOf(\r\n//                Manifest.permission.WRITE_EXTERNAL_STORAGE,\r\n//                Manifest.permission.READ_EXTERNAL_STORAGE\r\n//            ),\r\n//            PackageManager.PERMISSION_GRANTED\r\n\r\n        ActivityCompat.requestPermissions(\r\n            this,\r\n            arrayOf(Manifest.permission.WRITE_EXTERNAL_STORAGE),\r\n            1\r\n        )\r\n        ActivityCompat.requestPermissions(\r\n            this,\r\n            arrayOf(Manifest.permission.READ_EXTERNAL_STORAGE),\r\n            1\r\n        )\r\n        mPreviewView = findViewById(R.id.viewfinder)\r\n        main = findViewById(R.id.main)\r\n\r\n        val captureButton = findViewById&lt;Button&gt;(R.id.btn_capture)\r\n        captureButton.setOnClickListener {\r\n            // get the bitmap of the view using\r\n            // getScreenShotFromView method it is\r\n            // implemented below\r\n            val bitmap = getScreenShotFromView(main)\r\n\r\n            // if bitmap is not null then\r\n            // save it to gallery\r\n            if (bitmap != null) {\r\n                saveMediaToStorage(bitmap)\r\n            }\r\n        }\r\n\r\n        //   captureImage.setOnClickListener(View.OnClickListener { v -&gt; takeScreenShot(v) })\r\n\r\n        //       loadFirstFragments();\r\n        //     loadSecondFragments();\r\n        if (allPermissionsGranted()) {\r\n            startCamera() //start camera if permission has been granted by user\r\n        } else {\r\n            ActivityCompat.requestPermissions(this, REQUIRED_PERMISSIONS, REQUEST_CODE_PERMISSIONS)\r\n        }\r\n    }\r\n\r\n\r\n    private fun getScreenShotFromView(v: View): Bitmap? {\r\n\r\n        var screenshot: Bitmap? = null\r\n        try {\r\n            // inflate screenshot object\r\n            // with Bitmap.createBitmap it\r\n            // requires three parameters\r\n            // width and height of the view and\r\n            // the background color\r\n            screenshot =\r\n                Bitmap.createBitmap(v.measuredWidth, v.measuredHeight, Bitmap.Config.ARGB_8888)\r\n            // Now draw this bitmap on a canvas\r\n            val canvas = Canvas(screenshot)\r\n            v.draw(canvas)\r\n        } catch (e: Exception) {\r\n            Log.e(&quot;GFG&quot;, &quot;Failed to capture screenshot because:&quot; + e.message)\r\n        }\r\n        // return the bitmap\r\n        return screenshot\r\n    }\r\n\r\n    private fun saveMediaToStorage(bitmap: Bitmap) {\r\n        // Generating a file name\r\n        val filename = &quot;${System.currentTimeMillis()}.jpg&quot;\r\n\r\n        // Output stream\r\n        var fos: OutputStream? = null\r\n\r\n        // For devices running android &gt;= Q\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n            // getting the contentResolver\r\n            this.contentResolver?.also { resolver -&gt;\r\n\r\n                // Content resolver will process the contentvalues\r\n                val contentValues = ContentValues().apply {\r\n\r\n                    // putting file information in content values\r\n                    put(MediaStore.MediaColumns.DISPLAY_NAME, filename)\r\n                    put(MediaStore.MediaColumns.MIME_TYPE, &quot;image/jpg&quot;)\r\n                    put(MediaStore.MediaColumns.RELATIVE_PATH, Environment.DIRECTORY_PICTURES)\r\n                }\r\n\r\n                // Inserting the contentValues to\r\n                // contentResolver and getting the Uri\r\n                val imageUri: Uri? =\r\n                    resolver.insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, contentValues)\r\n\r\n                // Opening an outputstream with the Uri that we got\r\n                fos = imageUri?.let { resolver.openOutputStream(it) }\r\n            }\r\n        } else {\r\n            // These for devices running on android &lt; Q\r\n            val imagesDir =\r\n                Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES)\r\n            val image = File(imagesDir, filename)\r\n            fos = FileOutputStream(image)\r\n        }\r\n\r\n        fos?.use {\r\n            // Finally writing the bitmap to the output stream that we opened\r\n            bitmap.compress(Bitmap.CompressFormat.JPEG, 100, it)\r\n            Toast.makeText(this, &quot;Captured View and saved to Gallery&quot;, Toast.LENGTH_SHORT).show()\r\n        }\r\n    }\r\n\r\n\r\n    private fun startCamera() {\r\n        val cameraProviderFuture = ProcessCameraProvider.getInstance(this)\r\n        cameraProviderFuture.addListener({\r\n            try {\r\n                val cameraProvider = cameraProviderFuture.get()\r\n                bindPreview(cameraProvider)\r\n            } catch (e: ExecutionException) {\r\n                // No errors need to be handled for this Future.\r\n                // This should never be reached.\r\n            } catch (_: InterruptedException) {\r\n            }\r\n        }, ContextCompat.getMainExecutor(this))\r\n    }\r\n\r\n    private fun bindPreview(cameraProvider: ProcessCameraProvider) {\r\n        val preview = Preview.Builder()\r\n            .build()\r\n        val cameraSelector = CameraSelector.Builder()\r\n            .requireLensFacing(CameraSelector.LENS_FACING_BACK)\r\n            .build()\r\n        val imageAnalysis = ImageAnalysis.Builder()\r\n            .build()\r\n        val builder = ImageCapture.Builder()\r\n        val imageCapture = builder\r\n            .setTargetRotation(this.windowManager.defaultDisplay.rotation)\r\n            .build()\r\n        preview.setSurfaceProvider(mPreviewView!!.surfaceProvider)\r\n        val camera = cameraProvider.bindToLifecycle(\r\n            this,\r\n            cameraSelector,\r\n            preview,\r\n            imageAnalysis,\r\n            imageCapture\r\n        )\r\n//        val mediaPlayer = MediaPlayer.create(this, R.raw.beap)\r\n//       verifyStoragePermission(this@MainActivity)\r\n    }\r\n\r\n    private fun allPermissionsGranted(): Boolean {\r\n        for (permission in REQUIRED_PERMISSIONS) {\r\n            if (ContextCompat.checkSelfPermission(\r\n                    this@MainActivity,\r\n                    permission\r\n                ) != PackageManager.PERMISSION_GRANTED\r\n            ) {\r\n                return false\r\n            }\r\n        }\r\n        return true\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nhere is build.gradle(:app)\r\n\r\n\r\n\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n    id &#39;org.jetbrains.kotlin.android&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &#39;com.example.gpsmapcameraapp&#39;\r\n    compileSdk 33\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.gpsmapcameraapp&quot;\r\n        minSdk 21\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\n    buildFeatures {\r\n        viewBinding true\r\n    }\r\n\r\n    buildFeatures {\r\n        viewBinding true\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.5.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.7.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation &#39;androidx.core:core-ktx:+&#39;\r\n    implementation &#39;androidx.core:core-ktx:+&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n    implementation &#39;com.google.android.gms:play-services-location:21.0.0&#39;\r\n    implementation &#39;com.google.android.gms:play-services-wearable:18.0.0&#39;\r\n    implementation &#39;com.google.android.gms:play-services-maps:18.1.0&#39;\r\n\r\n    def camerax_version = &quot;1.0.0-beta05&quot;\r\n    implementation &quot;androidx.camera:camera-camera2:${camerax_version}&quot;\r\n    implementation &quot;androidx.camera:camera-lifecycle:${camerax_version}&quot;\r\n    implementation &quot;androidx.camera:camera-view:1.2.0-beta02&quot;\r\n    implementation &quot;androidx.camera:camera-extensions:1.2.0-beta02&quot;\r\n    implementation &quot;androidx.camera:camera-extensions:1.2.0-beta02&quot;\r\n\r\n\r\n    dependencies {\r\n        implementation &quot;androidx.camera:camera-core:${camerax_version}&quot;\r\n        implementation &quot;androidx.camera:camera-camera2:${camerax_version}&quot;\r\n        implementation &quot;androidx.camera:camera-lifecycle:${camerax_version}&quot;\r\n\r\n        implementation &quot;androidx.camera:camera-view:${camerax_version}&quot;\r\n        implementation &quot;androidx.camera:camera-extensions:${camerax_version}&quot;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nhere is AndroidManifest.XML\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.camera.any&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.GPSMapCameraApp&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.android.gms.version&quot;\r\n            android:value=&quot;@integer/google_play_services_version&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\n\r\nI just want to take screenshots of the activity including the camera where the detection is happening. I tried some tutorials on how to take screenshots. It captures all the parts of the screen but doesn&#39;t capture the camera part. It only shows a black screen. I open the camera in Preview in XML and the pass View camera will be open, but it only takes a screenshot of the activity, not take screenshot of the inside in the preview.","title":"How to take screenshot of activity with camera use cameraPreview","body":"<p>here is my xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/main&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n\n    &lt;androidx.camera.view.PreviewView\n        android:id=&quot;@+id/viewfinder&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_marginBottom=&quot;100dp&quot;\n        android:contentDescription=&quot;@string/preveiwarea&quot;\n        android:importantForAccessibility=&quot;no&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        tools:ignore=&quot;MissingClass&quot; /&gt;\n\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:id=&quot;@+id/constraint&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;100dp&quot;\n        android:layout_gravity=&quot;bottom&quot;\n        android:gravity=&quot;center_horizontal&quot;\n        android:orientation=&quot;horizontal&quot;\n        android:weightSum=&quot;3&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/viewfinder&quot;&gt;\n\n        &lt;androidx.cardview.widget.CardView\n            android:id=&quot;@+id/card&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_weight=&quot;1&quot;\n            app:cardBackgroundColor=&quot;#ffffff&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n            &lt;Button\n                android:id=&quot;@+id/btn_capture&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:layout_marginStart=&quot;170dp&quot;\n                android:layout_marginTop=&quot;10dp&quot;\n                android:layout_marginEnd=&quot;170dp&quot;\n                android:layout_marginBottom=&quot;14dp&quot;\n                android:contentDescription=&quot;@string/capture&quot;\n                android:src=&quot;@drawable/ic_baseline_photo_camera_24&quot;\n                android:text=&quot;@string/clickme&quot; /&gt;\n\n        &lt;/androidx.cardview.widget.CardView&gt;\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n</code></pre>\n<p>here is  my mainactivity.kt file</p>\n<pre><code>package com.example.gpsmapcameraapp\n\nimport android.Manifest\nimport android.annotation.SuppressLint\nimport android.content.ContentValues\nimport android.content.pm.PackageManager\nimport android.graphics.Bitmap\nimport android.graphics.Canvas\nimport android.net.Uri\nimport android.os.Build\nimport android.os.Bundle\nimport android.os.Environment\nimport android.provider.MediaStore\nimport android.util.Log\nimport android.view.View\nimport android.widget.Button\nimport android.widget.Toast\nimport androidx.appcompat.app.AppCompatActivity\nimport androidx.camera.core.CameraSelector\nimport androidx.camera.core.ImageAnalysis\nimport androidx.camera.core.ImageCapture\nimport androidx.camera.core.Preview\nimport androidx.camera.lifecycle.ProcessCameraProvider\nimport androidx.camera.view.PreviewView\nimport androidx.core.app.ActivityCompat\nimport androidx.core.content.ContextCompat\nimport java.io.File\nimport java.io.FileOutputStream\nimport java.io.OutputStream\nimport java.util.concurrent.ExecutionException\n\nclass MainActivity : AppCompatActivity() {\n    private var mPreviewView: PreviewView? = null\n    private lateinit var main: View\n\n    //   private val executor: Executor = Executors.newSingleThreadExecutor()\n    private val REQUEST_CODE_PERMISSIONS = 1001\n    private val REQUIRED_PERMISSIONS = arrayOf(&quot;android.permission.CAMERA&quot;, &quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;)\n\n\n    @SuppressLint(&quot;MissingInflatedId&quot;)\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n//        ActivityCompat.requestPermissions(this, arrayOf(\n//                Manifest.permission.WRITE_EXTERNAL_STORAGE,\n//                Manifest.permission.READ_EXTERNAL_STORAGE\n//            ),\n//            PackageManager.PERMISSION_GRANTED\n\n        ActivityCompat.requestPermissions(\n            this,\n            arrayOf(Manifest.permission.WRITE_EXTERNAL_STORAGE),\n            1\n        )\n        ActivityCompat.requestPermissions(\n            this,\n            arrayOf(Manifest.permission.READ_EXTERNAL_STORAGE),\n            1\n        )\n        mPreviewView = findViewById(R.id.viewfinder)\n        main = findViewById(R.id.main)\n\n        val captureButton = findViewById&lt;Button&gt;(R.id.btn_capture)\n        captureButton.setOnClickListener {\n            // get the bitmap of the view using\n            // getScreenShotFromView method it is\n            // implemented below\n            val bitmap = getScreenShotFromView(main)\n\n            // if bitmap is not null then\n            // save it to gallery\n            if (bitmap != null) {\n                saveMediaToStorage(bitmap)\n            }\n        }\n\n        //   captureImage.setOnClickListener(View.OnClickListener { v -&gt; takeScreenShot(v) })\n\n        //       loadFirstFragments();\n        //     loadSecondFragments();\n        if (allPermissionsGranted()) {\n            startCamera() //start camera if permission has been granted by user\n        } else {\n            ActivityCompat.requestPermissions(this, REQUIRED_PERMISSIONS, REQUEST_CODE_PERMISSIONS)\n        }\n    }\n\n\n    private fun getScreenShotFromView(v: View): Bitmap? {\n\n        var screenshot: Bitmap? = null\n        try {\n            // inflate screenshot object\n            // with Bitmap.createBitmap it\n            // requires three parameters\n            // width and height of the view and\n            // the background color\n            screenshot =\n                Bitmap.createBitmap(v.measuredWidth, v.measuredHeight, Bitmap.Config.ARGB_8888)\n            // Now draw this bitmap on a canvas\n            val canvas = Canvas(screenshot)\n            v.draw(canvas)\n        } catch (e: Exception) {\n            Log.e(&quot;GFG&quot;, &quot;Failed to capture screenshot because:&quot; + e.message)\n        }\n        // return the bitmap\n        return screenshot\n    }\n\n    private fun saveMediaToStorage(bitmap: Bitmap) {\n        // Generating a file name\n        val filename = &quot;${System.currentTimeMillis()}.jpg&quot;\n\n        // Output stream\n        var fos: OutputStream? = null\n\n        // For devices running android &gt;= Q\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n            // getting the contentResolver\n            this.contentResolver?.also { resolver -&gt;\n\n                // Content resolver will process the contentvalues\n                val contentValues = ContentValues().apply {\n\n                    // putting file information in content values\n                    put(MediaStore.MediaColumns.DISPLAY_NAME, filename)\n                    put(MediaStore.MediaColumns.MIME_TYPE, &quot;image/jpg&quot;)\n                    put(MediaStore.MediaColumns.RELATIVE_PATH, Environment.DIRECTORY_PICTURES)\n                }\n\n                // Inserting the contentValues to\n                // contentResolver and getting the Uri\n                val imageUri: Uri? =\n                    resolver.insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, contentValues)\n\n                // Opening an outputstream with the Uri that we got\n                fos = imageUri?.let { resolver.openOutputStream(it) }\n            }\n        } else {\n            // These for devices running on android &lt; Q\n            val imagesDir =\n                Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES)\n            val image = File(imagesDir, filename)\n            fos = FileOutputStream(image)\n        }\n\n        fos?.use {\n            // Finally writing the bitmap to the output stream that we opened\n            bitmap.compress(Bitmap.CompressFormat.JPEG, 100, it)\n            Toast.makeText(this, &quot;Captured View and saved to Gallery&quot;, Toast.LENGTH_SHORT).show()\n        }\n    }\n\n\n    private fun startCamera() {\n        val cameraProviderFuture = ProcessCameraProvider.getInstance(this)\n        cameraProviderFuture.addListener({\n            try {\n                val cameraProvider = cameraProviderFuture.get()\n                bindPreview(cameraProvider)\n            } catch (e: ExecutionException) {\n                // No errors need to be handled for this Future.\n                // This should never be reached.\n            } catch (_: InterruptedException) {\n            }\n        }, ContextCompat.getMainExecutor(this))\n    }\n\n    private fun bindPreview(cameraProvider: ProcessCameraProvider) {\n        val preview = Preview.Builder()\n            .build()\n        val cameraSelector = CameraSelector.Builder()\n            .requireLensFacing(CameraSelector.LENS_FACING_BACK)\n            .build()\n        val imageAnalysis = ImageAnalysis.Builder()\n            .build()\n        val builder = ImageCapture.Builder()\n        val imageCapture = builder\n            .setTargetRotation(this.windowManager.defaultDisplay.rotation)\n            .build()\n        preview.setSurfaceProvider(mPreviewView!!.surfaceProvider)\n        val camera = cameraProvider.bindToLifecycle(\n            this,\n            cameraSelector,\n            preview,\n            imageAnalysis,\n            imageCapture\n        )\n//        val mediaPlayer = MediaPlayer.create(this, R.raw.beap)\n//       verifyStoragePermission(this@MainActivity)\n    }\n\n    private fun allPermissionsGranted(): Boolean {\n        for (permission in REQUIRED_PERMISSIONS) {\n            if (ContextCompat.checkSelfPermission(\n                    this@MainActivity,\n                    permission\n                ) != PackageManager.PERMISSION_GRANTED\n            ) {\n                return false\n            }\n        }\n        return true\n    }\n\n\n}\n\n</code></pre>\n<p>here is build.gradle(:app)</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'org.jetbrains.kotlin.android'\n}\n\nandroid {\n    namespace 'com.example.gpsmapcameraapp'\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.example.gpsmapcameraapp&quot;\n        minSdk 21\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    buildFeatures {\n        viewBinding true\n    }\n\n    buildFeatures {\n        viewBinding true\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.5.1'\n    implementation 'com.google.android.material:material:1.7.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'androidx.core:core-ktx:+'\n    implementation 'androidx.core:core-ktx:+'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n    implementation 'com.google.android.gms:play-services-location:21.0.0'\n    implementation 'com.google.android.gms:play-services-wearable:18.0.0'\n    implementation 'com.google.android.gms:play-services-maps:18.1.0'\n\n    def camerax_version = &quot;1.0.0-beta05&quot;\n    implementation &quot;androidx.camera:camera-camera2:${camerax_version}&quot;\n    implementation &quot;androidx.camera:camera-lifecycle:${camerax_version}&quot;\n    implementation &quot;androidx.camera:camera-view:1.2.0-beta02&quot;\n    implementation &quot;androidx.camera:camera-extensions:1.2.0-beta02&quot;\n    implementation &quot;androidx.camera:camera-extensions:1.2.0-beta02&quot;\n\n\n    dependencies {\n        implementation &quot;androidx.camera:camera-core:${camerax_version}&quot;\n        implementation &quot;androidx.camera:camera-camera2:${camerax_version}&quot;\n        implementation &quot;androidx.camera:camera-lifecycle:${camerax_version}&quot;\n\n        implementation &quot;androidx.camera:camera-view:${camerax_version}&quot;\n        implementation &quot;androidx.camera:camera-extensions:${camerax_version}&quot;\n    }\n}\n\n</code></pre>\n<p>here is AndroidManifest.XML</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.camera.any&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.GPSMapCameraApp&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;meta-data\n            android:name=&quot;com.google.android.gms.version&quot;\n            android:value=&quot;@integer/google_play_services_version&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>I just want to take screenshots of the activity including the camera where the detection is happening. I tried some tutorials on how to take screenshots. It captures all the parts of the screen but doesn't capture the camera part. It only shows a black screen. I open the camera in Preview in XML and the pass View camera will be open, but it only takes a screenshot of the activity, not take screenshot of the inside in the preview.</p>\n"},{"tags":["java","unirest"],"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1544431110,"post_id":53701988,"comment_id":94258692,"body_markdown":"The format of your input seems to be JSON, so you should use a JSON Parser to parse it (there are lots of libraries for that).","body":"The format of your input seems to be JSON, so you should use a JSON Parser to parse it (there are lots of libraries for that)."},{"owner":{"account_id":2063152,"reputation":195,"user_id":1839272,"accept_rate":75,"display_name":"flomo83"},"score":0,"creation_date":1544431130,"post_id":53701988,"comment_id":94258700,"body_markdown":"I would parse the content into an Pojo. This circumvents breaking with dates/times and eases the access.","body":"I would parse the content into an Pojo. This circumvents breaking with dates/times and eases the access."},{"owner":{"account_id":4514444,"reputation":17059,"user_id":3669698,"accept_rate":55,"display_name":"Hadi J"},"score":0,"creation_date":1544431161,"post_id":53701988,"comment_id":94258715,"body_markdown":"you don&#39;t need to split. just get response as hashmap.","body":"you don&#39;t need to split. just get response as hashmap."},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1544431509,"post_id":53701988,"comment_id":94258864,"body_markdown":"from a quick glance at the [unirest documentation](http://unirest.io/java.html) there appears to be a `.getBody()`-method that already does this for you: &quot;.getBody() - Parsed response body where applicable, for example JSON responses are parsed to Objects / Associative Arrays.&quot; - have you tried that?","body":"from a quick glance at the <a href=\"http://unirest.io/java.html\" rel=\"nofollow noreferrer\">unirest documentation</a> there appears to be a <code>.getBody()</code>-method that already does this for you: &quot;.getBody() - Parsed response body where applicable, for example JSON responses are parsed to Objects / Associative Arrays.&quot; - have you tried that?"},{"owner":{"account_id":4700383,"reputation":453,"user_id":3804093,"accept_rate":57,"display_name":"Uzi"},"score":0,"creation_date":1544432322,"post_id":53701988,"comment_id":94259249,"body_markdown":"@Hulk yes the format seems to be in Json but the response is returned as `asString()`. I also tried the `getBody()` as stated in the documentation but my situation requires me to send one of the field values alone. I assume this will happen a lot more in the future, but will require different fields. So I thought I could parse them into a Pojo or hashMap","body":"@Hulk yes the format seems to be in Json but the response is returned as <code>asString()</code>. I also tried the <code>getBody()</code> as stated in the documentation but my situation requires me to send one of the field values alone. I assume this will happen a lot more in the future, but will require different fields. So I thought I could parse them into a Pojo or hashMap"},{"owner":{"account_id":4700383,"reputation":453,"user_id":3804093,"accept_rate":57,"display_name":"Uzi"},"score":0,"creation_date":1544432361,"post_id":53701988,"comment_id":94259284,"body_markdown":"@flomo83 that was one of my ideas as well but I&#39;m having trouble with the actual parsing as I am clueless on how to do that","body":"@flomo83 that was one of my ideas as well but I&#39;m having trouble with the actual parsing as I am clueless on how to do that"},{"owner":{"account_id":4700383,"reputation":453,"user_id":3804093,"accept_rate":57,"display_name":"Uzi"},"score":0,"creation_date":1544432625,"post_id":53701988,"comment_id":94259399,"body_markdown":"@HadiJ I had a solution before wherein I changed the `asString()` into `asJson()` so I could pick the fields one by one. Apparently it caused errors so I&#39;m kinda trying to avoid modifying the request sent to me by our client to avoid unnecessary debugging","body":"@HadiJ I had a solution before wherein I changed the <code>asString()</code> into <code>asJson()</code> so I could pick the fields one by one. Apparently it caused errors so I&#39;m kinda trying to avoid modifying the request sent to me by our client to avoid unnecessary debugging"},{"owner":{"account_id":1238641,"reputation":10455,"user_id":1201725,"accept_rate":100,"display_name":"Bahadir Tasdemir"},"score":0,"creation_date":1544436406,"post_id":53701988,"comment_id":94261409,"body_markdown":"@Uzi you can set any desired field into a POJO. Other fields which are not placed will be skipped. You will only get the placed fields if stated inside the POJO.","body":"@Uzi you can set any desired field into a POJO. Other fields which are not placed will be skipped. You will only get the placed fields if stated inside the POJO."}],"answers":[{"tags":[],"owner":{"account_id":2063152,"reputation":195,"user_id":1839272,"accept_rate":75,"display_name":"flomo83"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1544434740,"creation_date":1544434740,"answer_id":53702895,"question_id":53701988,"body_markdown":"Depending on the technology you use, Unirest offers parsing out of the box. \r\nThe following example can be found here: http://unirest.io/java.html\r\n\r\n    // Response to Object\r\n    HttpResponse&lt;Book&gt; bookResponse = \r\n    Unirest.get(&quot;http://httpbin.org/books/1&quot;).asObject(Book.class);\r\n    Book bookObject = bookResponse.getBody();","title":"Put unirest string response into a hashmap","body":"<p>Depending on the technology you use, Unirest offers parsing out of the box. \nThe following example can be found here: <a href=\"http://unirest.io/java.html\" rel=\"nofollow noreferrer\">http://unirest.io/java.html</a></p>\n\n<pre><code>// Response to Object\nHttpResponse&lt;Book&gt; bookResponse = \nUnirest.get(\"http://httpbin.org/books/1\").asObject(Book.class);\nBook bookObject = bookResponse.getBody();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1238641,"reputation":10455,"user_id":1201725,"accept_rate":100,"display_name":"Bahadir Tasdemir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1544435582,"creation_date":1544435582,"answer_id":53703130,"question_id":53701988,"body_markdown":"ObjectMapper is a very handy helper on converting between objects and strings.\r\n\r\n**1) Parsing json string to hashmap:**\r\n\r\n        @Test\r\n    public void it_should_test() throws IOException {\r\n        //Given\r\n        String str = &quot;{\\n&quot; +\r\n                &quot;    \\&quot;access_token\\&quot;:\\&quot;HzDzAtlom6CDqRa0zPetH09hZbDr8tm__hPw7aCx2m0h0gnGwHMaKvBEp64sHRUCJJEAlhCNUqQ3tBSyvod_93gTnt145W2ly9KKw5ISmaZRN75O9NUfJUGPRd0LH87LlxiRgHNFkUGTUDwyJOmhYNajj7TQoncxqkfc3jxL-jEi3Ea1cGRvOSmLH5Aqom81kKmiRzPV_Ss0xwFWjQVsS03y_P720Hv1BQEayO9L7Vic4A64GmXm3PlFQuwcvOk3M_7WOa_EEGOFBZdhwn7dzNQ7gypJ27MSTOD3gI57880unF4XFgTT_H4p4G5V6C8L8yRbRNXPIe80gLKYk3F3nw\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;token_type\\&quot;:\\&quot;bearer\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;expires_in\\&quot;:3599,\\n&quot; +\r\n                &quot;    \\&quot;refresh_token\\&quot;:\\&quot;f87a5fea7d764826be24bd742626d0d8\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;as:client_id\\&quot;:\\&quot;paymentApp\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;username\\&quot;:\\&quot;savemore01\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;.issued\\&quot;:\\&quot;Wed, 05 Dec 2018 03:13:23 GMT\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;.expires\\&quot;:\\&quot;Wed, 05 Dec 2018 04:13:23 GMT\\&quot;\\n&quot; +\r\n                &quot;}&quot;;\r\n\r\n        //When\r\n        Map&lt;String, Object&gt; response = new ObjectMapper().readValue(str, HashMap.class);\r\n\r\n        //Then\r\n        assertThat(response.get(&quot;access_token&quot;)).isEqualTo(&quot;HzDzAtlom6CDqRa0zPetH09hZbDr8tm__hPw7aCx2m0h0gnGwHMaKvBEp64sHRUCJJEAlhCNUqQ3tBSyvod_93gTnt145W2ly9KKw5ISmaZRN75O9NUfJUGPRd0LH87LlxiRgHNFkUGTUDwyJOmhYNajj7TQoncxqkfc3jxL-jEi3Ea1cGRvOSmLH5Aqom81kKmiRzPV_Ss0xwFWjQVsS03y_P720Hv1BQEayO9L7Vic4A64GmXm3PlFQuwcvOk3M_7WOa_EEGOFBZdhwn7dzNQ7gypJ27MSTOD3gI57880unF4XFgTT_H4p4G5V6C8L8yRbRNXPIe80gLKYk3F3nw&quot;);\r\n        assertThat(response.get(&quot;expires_in&quot;)).isEqualTo(3599);\r\n        assertThat(response.get(&quot;token_type&quot;)).isEqualTo(&quot;bearer&quot;);\r\n        assertThat(response.get(&quot;refresh_token&quot;)).isEqualTo(&quot;f87a5fea7d764826be24bd742626d0d8&quot;);\r\n        assertThat(response.get(&quot;as:client_id&quot;)).isEqualTo(&quot;paymentApp&quot;);\r\n        assertThat(response.get(&quot;.issued&quot;)).isEqualTo(&quot;Wed, 05 Dec 2018 03:13:23 GMT&quot;);\r\n        assertThat(response.get(&quot;.expires&quot;)).isEqualTo(&quot;Wed, 05 Dec 2018 04:13:23 GMT&quot;);\r\n    }\r\n\r\n**2) Parsing json string to object:**\r\n\r\n*a) Resposne class:*\r\n\r\n    public class Response {\r\n\r\n        @JsonProperty(&quot;access_token&quot;)\r\n        private String accessToken;\r\n        @JsonProperty(&quot;token_type&quot;)\r\n        private String tokenType;\r\n        @JsonProperty(&quot;expires_in&quot;)\r\n        private Long expiresIn;\r\n        @JsonProperty(&quot;refresh_token&quot;)\r\n        private String refreshToken;\r\n        @JsonProperty(&quot;as:client_id&quot;)\r\n        private String clientId;\r\n        @JsonProperty(&quot;username&quot;)\r\n        private String username;\r\n        @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;EEE, dd MMM yyyy HH:mm:ss zzz&quot;)\r\n        @JsonProperty(&quot;.issued&quot;)\r\n        private Date issued;\r\n        @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;EEE, dd MMM yyyy HH:mm:ss zzz&quot;)\r\n        @JsonProperty(&quot;.expires&quot;)\r\n        private Date expires;\r\n\r\n        public String getAccessToken() {\r\n            return accessToken;\r\n        }\r\n\r\n        public void setAccessToken(String accessToken) {\r\n            this.accessToken = accessToken;\r\n        }\r\n\r\n        public String getTokenType() {\r\n            return tokenType;\r\n        }\r\n\r\n        public void setTokenType(String tokenType) {\r\n            this.tokenType = tokenType;\r\n        }\r\n\r\n        public Long getExpiresIn() {\r\n            return expiresIn;\r\n        }\r\n\r\n        public void setExpiresIn(Long expiresIn) {\r\n            this.expiresIn = expiresIn;\r\n        }\r\n\r\n        public String getRefreshToken() {\r\n            return refreshToken;\r\n        }\r\n\r\n        public void setRefreshToken(String refreshToken) {\r\n            this.refreshToken = refreshToken;\r\n        }\r\n\r\n        public String getClientId() {\r\n            return clientId;\r\n        }\r\n\r\n        public void setClientId(String clientId) {\r\n            this.clientId = clientId;\r\n        }\r\n\r\n        public String getUsername() {\r\n            return username;\r\n        }\r\n\r\n        public void setUsername(String username) {\r\n            this.username = username;\r\n        }\r\n\r\n        public Date getIssued() {\r\n            return issued;\r\n        }\r\n\r\n        public void setIssued(Date issued) {\r\n            this.issued = issued;\r\n        }\r\n\r\n        public Date getExpires() {\r\n            return expires;\r\n        }\r\n\r\n        public void setExpires(Date expires) {\r\n            this.expires = expires;\r\n        }\r\n    }\r\n\r\n*b) Parsing:*\r\n\r\n        @Test\r\n    public void it_should_test_2() throws IOException, ParseException {\r\n        //Given\r\n        String str = &quot;{\\n&quot; +\r\n                &quot;    \\&quot;access_token\\&quot;:\\&quot;HzDzAtlom6CDqRa0zPetH09hZbDr8tm__hPw7aCx2m0h0gnGwHMaKvBEp64sHRUCJJEAlhCNUqQ3tBSyvod_93gTnt145W2ly9KKw5ISmaZRN75O9NUfJUGPRd0LH87LlxiRgHNFkUGTUDwyJOmhYNajj7TQoncxqkfc3jxL-jEi3Ea1cGRvOSmLH5Aqom81kKmiRzPV_Ss0xwFWjQVsS03y_P720Hv1BQEayO9L7Vic4A64GmXm3PlFQuwcvOk3M_7WOa_EEGOFBZdhwn7dzNQ7gypJ27MSTOD3gI57880unF4XFgTT_H4p4G5V6C8L8yRbRNXPIe80gLKYk3F3nw\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;token_type\\&quot;:\\&quot;bearer\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;expires_in\\&quot;:3599,\\n&quot; +\r\n                &quot;    \\&quot;refresh_token\\&quot;:\\&quot;f87a5fea7d764826be24bd742626d0d8\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;as:client_id\\&quot;:\\&quot;paymentApp\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;username\\&quot;:\\&quot;savemore01\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;.issued\\&quot;:\\&quot;Wed, 05 Dec 2018 03:13:23 GMT\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;.expires\\&quot;:\\&quot;Wed, 05 Dec 2018 04:13:23 GMT\\&quot;\\n&quot; +\r\n                &quot;}&quot;;\r\n\r\n        //When\r\n        Response response = new ObjectMapper().readValue(str, Response.class);\r\n\r\n        //Then\r\n        assertThat(response.getAccessToken()).isEqualTo(&quot;HzDzAtlom6CDqRa0zPetH09hZbDr8tm__hPw7aCx2m0h0gnGwHMaKvBEp64sHRUCJJEAlhCNUqQ3tBSyvod_93gTnt145W2ly9KKw5ISmaZRN75O9NUfJUGPRd0LH87LlxiRgHNFkUGTUDwyJOmhYNajj7TQoncxqkfc3jxL-jEi3Ea1cGRvOSmLH5Aqom81kKmiRzPV_Ss0xwFWjQVsS03y_P720Hv1BQEayO9L7Vic4A64GmXm3PlFQuwcvOk3M_7WOa_EEGOFBZdhwn7dzNQ7gypJ27MSTOD3gI57880unF4XFgTT_H4p4G5V6C8L8yRbRNXPIe80gLKYk3F3nw&quot;);\r\n        assertThat(response.getExpiresIn()).isEqualTo(3599L);\r\n        assertThat(response.getTokenType()).isEqualTo(&quot;bearer&quot;);\r\n        assertThat(response.getRefreshToken()).isEqualTo(&quot;f87a5fea7d764826be24bd742626d0d8&quot;);\r\n        assertThat(response.getClientId()).isEqualTo(&quot;paymentApp&quot;);\r\n        assertThat(response.getIssued()).isEqualTo(DateUtils.parseDate(&quot;Wed, 05 Dec 2018 03:13:23 GMT&quot;, &quot;EEE, dd MMM yyyy HH:mm:ss zzz&quot;));\r\n        assertThat(response.getExpires()).isEqualTo(DateUtils.parseDate(&quot;Wed, 05 Dec 2018 04:13:23 GMT&quot;, &quot;EEE, dd MMM yyyy HH:mm:ss zzz&quot;));\r\n    }\r\n\r\nNote that we easily applied date values with any desired pattern into the Date fields with the JsonFormat annotation.","title":"Put unirest string response into a hashmap","body":"<p>ObjectMapper is a very handy helper on converting between objects and strings.</p>\n\n<p><strong>1) Parsing json string to hashmap:</strong></p>\n\n<pre><code>    @Test\npublic void it_should_test() throws IOException {\n    //Given\n    String str = \"{\\n\" +\n            \"    \\\"access_token\\\":\\\"HzDzAtlom6CDqRa0zPetH09hZbDr8tm__hPw7aCx2m0h0gnGwHMaKvBEp64sHRUCJJEAlhCNUqQ3tBSyvod_93gTnt145W2ly9KKw5ISmaZRN75O9NUfJUGPRd0LH87LlxiRgHNFkUGTUDwyJOmhYNajj7TQoncxqkfc3jxL-jEi3Ea1cGRvOSmLH5Aqom81kKmiRzPV_Ss0xwFWjQVsS03y_P720Hv1BQEayO9L7Vic4A64GmXm3PlFQuwcvOk3M_7WOa_EEGOFBZdhwn7dzNQ7gypJ27MSTOD3gI57880unF4XFgTT_H4p4G5V6C8L8yRbRNXPIe80gLKYk3F3nw\\\",\\n\" +\n            \"    \\\"token_type\\\":\\\"bearer\\\",\\n\" +\n            \"    \\\"expires_in\\\":3599,\\n\" +\n            \"    \\\"refresh_token\\\":\\\"f87a5fea7d764826be24bd742626d0d8\\\",\\n\" +\n            \"    \\\"as:client_id\\\":\\\"paymentApp\\\",\\n\" +\n            \"    \\\"username\\\":\\\"savemore01\\\",\\n\" +\n            \"    \\\".issued\\\":\\\"Wed, 05 Dec 2018 03:13:23 GMT\\\",\\n\" +\n            \"    \\\".expires\\\":\\\"Wed, 05 Dec 2018 04:13:23 GMT\\\"\\n\" +\n            \"}\";\n\n    //When\n    Map&lt;String, Object&gt; response = new ObjectMapper().readValue(str, HashMap.class);\n\n    //Then\n    assertThat(response.get(\"access_token\")).isEqualTo(\"HzDzAtlom6CDqRa0zPetH09hZbDr8tm__hPw7aCx2m0h0gnGwHMaKvBEp64sHRUCJJEAlhCNUqQ3tBSyvod_93gTnt145W2ly9KKw5ISmaZRN75O9NUfJUGPRd0LH87LlxiRgHNFkUGTUDwyJOmhYNajj7TQoncxqkfc3jxL-jEi3Ea1cGRvOSmLH5Aqom81kKmiRzPV_Ss0xwFWjQVsS03y_P720Hv1BQEayO9L7Vic4A64GmXm3PlFQuwcvOk3M_7WOa_EEGOFBZdhwn7dzNQ7gypJ27MSTOD3gI57880unF4XFgTT_H4p4G5V6C8L8yRbRNXPIe80gLKYk3F3nw\");\n    assertThat(response.get(\"expires_in\")).isEqualTo(3599);\n    assertThat(response.get(\"token_type\")).isEqualTo(\"bearer\");\n    assertThat(response.get(\"refresh_token\")).isEqualTo(\"f87a5fea7d764826be24bd742626d0d8\");\n    assertThat(response.get(\"as:client_id\")).isEqualTo(\"paymentApp\");\n    assertThat(response.get(\".issued\")).isEqualTo(\"Wed, 05 Dec 2018 03:13:23 GMT\");\n    assertThat(response.get(\".expires\")).isEqualTo(\"Wed, 05 Dec 2018 04:13:23 GMT\");\n}\n</code></pre>\n\n<p><strong>2) Parsing json string to object:</strong></p>\n\n<p><em>a) Resposne class:</em></p>\n\n<pre><code>public class Response {\n\n    @JsonProperty(\"access_token\")\n    private String accessToken;\n    @JsonProperty(\"token_type\")\n    private String tokenType;\n    @JsonProperty(\"expires_in\")\n    private Long expiresIn;\n    @JsonProperty(\"refresh_token\")\n    private String refreshToken;\n    @JsonProperty(\"as:client_id\")\n    private String clientId;\n    @JsonProperty(\"username\")\n    private String username;\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = \"EEE, dd MMM yyyy HH:mm:ss zzz\")\n    @JsonProperty(\".issued\")\n    private Date issued;\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = \"EEE, dd MMM yyyy HH:mm:ss zzz\")\n    @JsonProperty(\".expires\")\n    private Date expires;\n\n    public String getAccessToken() {\n        return accessToken;\n    }\n\n    public void setAccessToken(String accessToken) {\n        this.accessToken = accessToken;\n    }\n\n    public String getTokenType() {\n        return tokenType;\n    }\n\n    public void setTokenType(String tokenType) {\n        this.tokenType = tokenType;\n    }\n\n    public Long getExpiresIn() {\n        return expiresIn;\n    }\n\n    public void setExpiresIn(Long expiresIn) {\n        this.expiresIn = expiresIn;\n    }\n\n    public String getRefreshToken() {\n        return refreshToken;\n    }\n\n    public void setRefreshToken(String refreshToken) {\n        this.refreshToken = refreshToken;\n    }\n\n    public String getClientId() {\n        return clientId;\n    }\n\n    public void setClientId(String clientId) {\n        this.clientId = clientId;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public Date getIssued() {\n        return issued;\n    }\n\n    public void setIssued(Date issued) {\n        this.issued = issued;\n    }\n\n    public Date getExpires() {\n        return expires;\n    }\n\n    public void setExpires(Date expires) {\n        this.expires = expires;\n    }\n}\n</code></pre>\n\n<p><em>b) Parsing:</em></p>\n\n<pre><code>    @Test\npublic void it_should_test_2() throws IOException, ParseException {\n    //Given\n    String str = \"{\\n\" +\n            \"    \\\"access_token\\\":\\\"HzDzAtlom6CDqRa0zPetH09hZbDr8tm__hPw7aCx2m0h0gnGwHMaKvBEp64sHRUCJJEAlhCNUqQ3tBSyvod_93gTnt145W2ly9KKw5ISmaZRN75O9NUfJUGPRd0LH87LlxiRgHNFkUGTUDwyJOmhYNajj7TQoncxqkfc3jxL-jEi3Ea1cGRvOSmLH5Aqom81kKmiRzPV_Ss0xwFWjQVsS03y_P720Hv1BQEayO9L7Vic4A64GmXm3PlFQuwcvOk3M_7WOa_EEGOFBZdhwn7dzNQ7gypJ27MSTOD3gI57880unF4XFgTT_H4p4G5V6C8L8yRbRNXPIe80gLKYk3F3nw\\\",\\n\" +\n            \"    \\\"token_type\\\":\\\"bearer\\\",\\n\" +\n            \"    \\\"expires_in\\\":3599,\\n\" +\n            \"    \\\"refresh_token\\\":\\\"f87a5fea7d764826be24bd742626d0d8\\\",\\n\" +\n            \"    \\\"as:client_id\\\":\\\"paymentApp\\\",\\n\" +\n            \"    \\\"username\\\":\\\"savemore01\\\",\\n\" +\n            \"    \\\".issued\\\":\\\"Wed, 05 Dec 2018 03:13:23 GMT\\\",\\n\" +\n            \"    \\\".expires\\\":\\\"Wed, 05 Dec 2018 04:13:23 GMT\\\"\\n\" +\n            \"}\";\n\n    //When\n    Response response = new ObjectMapper().readValue(str, Response.class);\n\n    //Then\n    assertThat(response.getAccessToken()).isEqualTo(\"HzDzAtlom6CDqRa0zPetH09hZbDr8tm__hPw7aCx2m0h0gnGwHMaKvBEp64sHRUCJJEAlhCNUqQ3tBSyvod_93gTnt145W2ly9KKw5ISmaZRN75O9NUfJUGPRd0LH87LlxiRgHNFkUGTUDwyJOmhYNajj7TQoncxqkfc3jxL-jEi3Ea1cGRvOSmLH5Aqom81kKmiRzPV_Ss0xwFWjQVsS03y_P720Hv1BQEayO9L7Vic4A64GmXm3PlFQuwcvOk3M_7WOa_EEGOFBZdhwn7dzNQ7gypJ27MSTOD3gI57880unF4XFgTT_H4p4G5V6C8L8yRbRNXPIe80gLKYk3F3nw\");\n    assertThat(response.getExpiresIn()).isEqualTo(3599L);\n    assertThat(response.getTokenType()).isEqualTo(\"bearer\");\n    assertThat(response.getRefreshToken()).isEqualTo(\"f87a5fea7d764826be24bd742626d0d8\");\n    assertThat(response.getClientId()).isEqualTo(\"paymentApp\");\n    assertThat(response.getIssued()).isEqualTo(DateUtils.parseDate(\"Wed, 05 Dec 2018 03:13:23 GMT\", \"EEE, dd MMM yyyy HH:mm:ss zzz\"));\n    assertThat(response.getExpires()).isEqualTo(DateUtils.parseDate(\"Wed, 05 Dec 2018 04:13:23 GMT\", \"EEE, dd MMM yyyy HH:mm:ss zzz\"));\n}\n</code></pre>\n\n<p>Note that we easily applied date values with any desired pattern into the Date fields with the JsonFormat annotation.</p>\n"},{"tags":[],"owner":{"account_id":26828378,"reputation":1,"user_id":20416690,"display_name":"AKF"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667559907,"creation_date":1667559809,"answer_id":74316025,"question_id":53701988,"body_markdown":"The easiest way of getting response body as Map in Unirest is:\r\n\r\n    HttpResponse&lt;HashedMap&gt; response = Unirest.post(Url)\r\n                    .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                    .body(requestBody)\r\n                    .asObject(HashedMap.class);\r\n\r\nNow you have your response body as Map:\r\n\r\n    response.getBody().get();\r\n    response.getBody().put();","title":"Put unirest string response into a hashmap","body":"<p>The easiest way of getting response body as Map in Unirest is:</p>\n<pre><code>HttpResponse&lt;HashedMap&gt; response = Unirest.post(Url)\n                .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                .body(requestBody)\n                .asObject(HashedMap.class);\n</code></pre>\n<p>Now you have your response body as Map:</p>\n<pre><code>response.getBody().get();\nresponse.getBody().put();\n</code></pre>\n"}],"owner":{"account_id":4700383,"reputation":453,"user_id":3804093,"accept_rate":57,"display_name":"Uzi"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1748,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":53703130,"answer_count":3,"score":1,"last_activity_date":1667559907,"creation_date":1544430853,"question_id":53701988,"body_markdown":"I have a string response from a unirest request that I made and I was wondering if I could put the result into a HashMap for easier access of the response fields. Any suggestion will be helpful.\r\n\r\nHere is a sample of the response:\r\n\t  \r\n\t{\r\n\t\t&quot;access_token&quot;:&quot;HzDzAtlom6CDqRa0zPetH09hZbDr8tm__hPw7aCx2m0h0gnGwHMaKvBEp64sHRUCJJEAlhCNUqQ3tBSyvod_93gTnt145W2ly9KKw5ISmaZRN75O9NUfJUGPRd0LH87LlxiRgHNFkUGTUDwyJOmhYNajj7TQoncxqkfc3jxL-jEi3Ea1cGRvOSmLH5Aqom81kKmiRzPV_Ss0xwFWjQVsS03y_P720Hv1BQEayO9L7Vic4A64GmXm3PlFQuwcvOk3M_7WOa_EEGOFBZdhwn7dzNQ7gypJ27MSTOD3gI57880unF4XFgTT_H4p4G5V6C8L8yRbRNXPIe80gLKYk3F3nw&quot;,\r\n\t\t&quot;token_type&quot;:&quot;bearer&quot;,\r\n\t\t&quot;expires_in&quot;:3599,\r\n\t\t&quot;refresh_token&quot;:&quot;f87a5fea7d764826be24bd742626d0d8&quot;,\r\n\t\t&quot;as:client_id&quot;:&quot;paymentApp&quot;,\r\n\t\t&quot;username&quot;:&quot;savemore01&quot;,\r\n\t\t&quot;.issued&quot;:&quot;Wed, 05 Dec 2018 03:13:23 GMT&quot;,\r\n\t\t&quot;.expires&quot;:&quot;Wed, 05 Dec 2018 04:13:23 GMT&quot;\r\n\t}\r\n\r\nI tried to use split by using the comma(,) as a delimiter but the date and time fields got messed up. I hope someone could help.","title":"Put unirest string response into a hashmap","body":"<p>I have a string response from a unirest request that I made and I was wondering if I could put the result into a HashMap for easier access of the response fields. Any suggestion will be helpful.</p>\n\n<p>Here is a sample of the response:</p>\n\n<pre><code>{\n    \"access_token\":\"HzDzAtlom6CDqRa0zPetH09hZbDr8tm__hPw7aCx2m0h0gnGwHMaKvBEp64sHRUCJJEAlhCNUqQ3tBSyvod_93gTnt145W2ly9KKw5ISmaZRN75O9NUfJUGPRd0LH87LlxiRgHNFkUGTUDwyJOmhYNajj7TQoncxqkfc3jxL-jEi3Ea1cGRvOSmLH5Aqom81kKmiRzPV_Ss0xwFWjQVsS03y_P720Hv1BQEayO9L7Vic4A64GmXm3PlFQuwcvOk3M_7WOa_EEGOFBZdhwn7dzNQ7gypJ27MSTOD3gI57880unF4XFgTT_H4p4G5V6C8L8yRbRNXPIe80gLKYk3F3nw\",\n    \"token_type\":\"bearer\",\n    \"expires_in\":3599,\n    \"refresh_token\":\"f87a5fea7d764826be24bd742626d0d8\",\n    \"as:client_id\":\"paymentApp\",\n    \"username\":\"savemore01\",\n    \".issued\":\"Wed, 05 Dec 2018 03:13:23 GMT\",\n    \".expires\":\"Wed, 05 Dec 2018 04:13:23 GMT\"\n}\n</code></pre>\n\n<p>I tried to use split by using the comma(,) as a delimiter but the date and time fields got messed up. I hope someone could help.</p>\n"},{"tags":["java","generics","polymorphism","overloading"],"comments":[{"owner":{"account_id":9143874,"reputation":299,"user_id":6800850,"display_name":"joemokenela"},"score":0,"creation_date":1582641213,"post_id":60396306,"comment_id":106842108,"body_markdown":"You can create an custom class as an Enum, in the case you can cover both scenarios.","body":"You can create an custom class as an Enum, in the case you can cover both scenarios."},{"owner":{"account_id":17796885,"reputation":11,"user_id":12924537,"display_name":"sgiowtswpjtwhhjtkw"},"score":0,"creation_date":1582641361,"post_id":60396306,"comment_id":106842207,"body_markdown":"how you are suggesting? will it require me to chage only at one place or do I Need to repeat the code everywhere I am invoking it? Any sample code?","body":"how you are suggesting? will it require me to chage only at one place or do I Need to repeat the code everywhere I am invoking it? Any sample code?"}],"answers":[{"tags":[],"owner":{"account_id":17728497,"reputation":1,"user_id":12871651,"display_name":"amato rahman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582639369,"creation_date":1582639369,"answer_id":60396407,"question_id":60396306,"body_markdown":"create two method getdetails:\r\n\r\ngetDetails(Strig a, Customclass B)\r\n\r\ngetDetails(Strig a, String B)      ","title":"Method accepting two different types as parameter in Java","body":"<p>create two method getdetails:</p>\n\n<p>getDetails(Strig a, Customclass B)</p>\n\n<p>getDetails(Strig a, String B)      </p>\n"},{"tags":[],"owner":{"account_id":10434393,"reputation":2167,"user_id":7693190,"accept_rate":89,"display_name":"bcr666"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582639416,"creation_date":1582639416,"answer_id":60396417,"question_id":60396306,"body_markdown":"If I understand what you want to do, I would normally achieve it with overloading the method\r\n\r\n    getDetails(String a, Customclass B) {\r\n        //lengthy calculation long method\r\n        String status = getStatus(B)\r\n        //lengthy calculation long method\r\n    }\r\n\r\n    getDetails(String a, String B) {\r\n        String status = B\r\n    }\r\n\r\nIn overloading, you provide 2 or more methods that have different parameter requirements. Then when you call the method, java determines which method to call, based on the types of the parameters you pass in.","title":"Method accepting two different types as parameter in Java","body":"<p>If I understand what you want to do, I would normally achieve it with overloading the method</p>\n\n<pre><code>getDetails(String a, Customclass B) {\n    //lengthy calculation long method\n    String status = getStatus(B)\n    //lengthy calculation long method\n}\n\ngetDetails(String a, String B) {\n    String status = B\n}\n</code></pre>\n\n<p>In overloading, you provide 2 or more methods that have different parameter requirements. Then when you call the method, java determines which method to call, based on the types of the parameters you pass in.</p>\n"},{"tags":[],"owner":{"account_id":17832358,"reputation":33,"user_id":12952063,"display_name":"Relict"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582747130,"creation_date":1582643431,"answer_id":60397718,"question_id":60396306,"body_markdown":"    interface ICustomInterface {\r\n        //some code if needed\r\n    }\r\n    \r\n    class StringWrapper implements ICustomInterface {\r\n        private String value;\r\n    \r\n        public StringWrapper(String str) {\r\n            this.value = str;\r\n        }\r\n    \r\n        public String getValue() {\r\n            return value;\r\n        }\r\n    \r\n        public void setValue(String value) {\r\n            this.value = value;\r\n        }\r\n    }\r\n    \r\n    public class CustomClass implements ICustomInterface {\r\n        //some code\r\n    \r\n        public static void getDetails(String a, ICustomInterface b) {\r\n            if (b instanceof CustomClass) {\r\n                System.out.println(&quot;Custom class&quot;);\r\n                //some code\r\n            } else if (b instanceof StringWrapper) {\r\n                System.out.println(((StringWrapper) b).getValue());\r\n                //some code\r\n            }\r\n        }\r\n    \r\n    \r\n        public static void main(String[] args) {\r\n            CustomClass customClass = new CustomClass();\r\n            CustomClass.getDetails(&quot;first case&quot;, customClass);\r\n            CustomClass.getDetails(&quot;second case&quot;, new StringWrapper(&quot;String&quot;));\r\n        }\r\n    }","title":"Method accepting two different types as parameter in Java","body":"<pre><code>interface ICustomInterface {\n    //some code if needed\n}\n\nclass StringWrapper implements ICustomInterface {\n    private String value;\n\n    public StringWrapper(String str) {\n        this.value = str;\n    }\n\n    public String getValue() {\n        return value;\n    }\n\n    public void setValue(String value) {\n        this.value = value;\n    }\n}\n\npublic class CustomClass implements ICustomInterface {\n    //some code\n\n    public static void getDetails(String a, ICustomInterface b) {\n        if (b instanceof CustomClass) {\n            System.out.println(\"Custom class\");\n            //some code\n        } else if (b instanceof StringWrapper) {\n            System.out.println(((StringWrapper) b).getValue());\n            //some code\n        }\n    }\n\n\n    public static void main(String[] args) {\n        CustomClass customClass = new CustomClass();\n        CustomClass.getDetails(\"first case\", customClass);\n        CustomClass.getDetails(\"second case\", new StringWrapper(\"String\"));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5476541,"reputation":693,"user_id":4354423,"accept_rate":22,"display_name":"Erik Brendel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582658811,"creation_date":1582647142,"answer_id":60398875,"question_id":60396306,"body_markdown":"Overloading might be possible *without duplication*, by delegating the call from one to the other:\r\n\r\n    getDetails(String a, Customclass B) {\r\n    \tgetDetails(a, getStatus(B));\r\n    }\r\n\r\n    getDetails(String a, String status) {\n        // just keep this method\n    }\n\n    String getStatus(Customclass object) {\n        // I guess you have this one already\n    } \n\nThe call in line 2 is not recursion or anything, but is actually a call to the method of line 5.","title":"Method accepting two different types as parameter in Java","body":"<p>Overloading might be possible <em>without duplication</em>, by delegating the call from one to the other:</p>\n\n<pre><code>getDetails(String a, Customclass B) {\n    getDetails(a, getStatus(B));\n}\n\ngetDetails(String a, String status) {\n    // just keep this method\n}\n\nString getStatus(Customclass object) {\n    // I guess you have this one already\n} \n</code></pre>\n\n<p>The call in line 2 is not recursion or anything, but is actually a call to the method of line 5.</p>\n"},{"tags":[],"owner":{"account_id":26692922,"reputation":1,"user_id":20301235,"display_name":"Ubaid Khanzada"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667558984,"creation_date":1667558945,"answer_id":74315833,"question_id":60396306,"body_markdown":"Late to the party but How about something as simple as this?\r\n\r\n```\r\ngetDetails(Sting a, Object b) {\r\n    if (b instanceof Customclass) {\r\n        Customclass customer = (Customclass) b;\r\n        // Here you can use a customer\r\n    } else if (b instanceof String) {\r\n        // Here you can use string\r\n    }\r\n}\r\n```","title":"Method accepting two different types as parameter in Java","body":"<p>Late to the party but How about something as simple as this?</p>\n<pre><code>getDetails(Sting a, Object b) {\n    if (b instanceof Customclass) {\n        Customclass customer = (Customclass) b;\n        // Here you can use a customer\n    } else if (b instanceof String) {\n        // Here you can use string\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17796885,"reputation":11,"user_id":12924537,"display_name":"sgiowtswpjtwhhjtkw"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2226,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1667558984,"creation_date":1582638988,"question_id":60396306,"body_markdown":"**Requirement**:-\r\n\r\n\r\nIn getDetails method, if object B of type **Customclass** is passed, then we are calling getStatus method which is taking **Customclass** as argument. \r\nNow, we need to make the argument which can take both **string**/ **customclass** type, \r\n        \r\n        so if it is string, then we are directly getting the value so need not to call getStatus method\r\n        And if it of type **customclass**, then we need to invoke getStatus\r\n\r\n\r\nIn my existing project, we are invoking **getDetails** from multiple places and getDetails is lengthy method, **so overloading is too costly which will make code repetition**\r\n\r\nPlease suggest some other ways\r\n\r\nI have code something like similar below:-\r\n\r\n        getDetails(Strig a, Customclass B) {\r\n          //lengthy calculation long method\r\n          String status = getStatus(B)\r\n         //lengthy calculation long method\r\n       }\r\n\r\nWhich I want to make it like below:-\r\n         \r\n       getDetails(Strig a, Customclass B || String B) {\r\n               //lengthy calculation long method\r\n               String status;\r\n                If(B of type String) {\r\n                  status = B;\r\n                } else {\r\n              \r\n                   status = getStatus(B)\r\n                }\r\n               //lengthy calculation long method\r\n       }","title":"Method accepting two different types as parameter in Java","body":"<p><strong>Requirement</strong>:-</p>\n\n<p>In getDetails method, if object B of type <strong>Customclass</strong> is passed, then we are calling getStatus method which is taking <strong>Customclass</strong> as argument. \nNow, we need to make the argument which can take both <strong>string</strong>/ <strong>customclass</strong> type, </p>\n\n<pre><code>    so if it is string, then we are directly getting the value so need not to call getStatus method\n    And if it of type **customclass**, then we need to invoke getStatus\n</code></pre>\n\n<p>In my existing project, we are invoking <strong>getDetails</strong> from multiple places and getDetails is lengthy method, <strong>so overloading is too costly which will make code repetition</strong></p>\n\n<p>Please suggest some other ways</p>\n\n<p>I have code something like similar below:-</p>\n\n<pre><code>    getDetails(Strig a, Customclass B) {\n      //lengthy calculation long method\n      String status = getStatus(B)\n     //lengthy calculation long method\n   }\n</code></pre>\n\n<p>Which I want to make it like below:-</p>\n\n<pre><code>   getDetails(Strig a, Customclass B || String B) {\n           //lengthy calculation long method\n           String status;\n            If(B of type String) {\n              status = B;\n            } else {\n\n               status = getStatus(B)\n            }\n           //lengthy calculation long method\n   }\n</code></pre>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1667394990,"post_id":74289327,"comment_id":131156253,"body_markdown":"You could just use `Files.copy();`. Also as I see it, this question has nothing to do with apache-poi, as your issues seem to happen before you even open the workbook in the application.","body":"You could just use <code>Files.copy();</code>. Also as I see it, this question has nothing to do with apache-poi, as your issues seem to happen before you even open the workbook in the application."},{"owner":{"account_id":22617802,"reputation":1,"user_id":16797081,"display_name":"Vap Hel"},"score":0,"creation_date":1667470656,"post_id":74289327,"comment_id":131176207,"body_markdown":"Thanks for your interest in my problem ... and sorry for the confusion. After changing the data, the target file overwrites the source file and in this test described originally, the source file was the file in which the hyperlinks were previously broken. The problem occurs when editing cells - the problem description has been corrected.","body":"Thanks for your interest in my problem ... and sorry for the confusion. After changing the data, the target file overwrites the source file and in this test described originally, the source file was the file in which the hyperlinks were previously broken. The problem occurs when editing cells - the problem description has been corrected."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1667546524,"post_id":74289327,"comment_id":131196153,"body_markdown":"The only thing that I see that could be an issue is that you are not closing the `ByteArrayOutputStream`. You should try `workbook.write(bos); bos.close(); workbook.close();`. If that doesn&#39;t help, you will need to provide code that replicates the issue","body":"The only thing that I see that could be an issue is that you are not closing the <code>ByteArrayOutputStream</code>. You should try <code>workbook.write(bos); bos.close(); workbook.close();</code>. If that doesn&#39;t help, you will need to provide code that replicates the issue"},{"owner":{"account_id":22617802,"reputation":1,"user_id":16797081,"display_name":"Vap Hel"},"score":0,"creation_date":1667558807,"post_id":74289327,"comment_id":131199911,"body_markdown":"Closing `ByteArrayOutputStream` doesn&#39;t change anything. I added to the above problem description a method that should replicates the issue.","body":"Closing <code>ByteArrayOutputStream</code> doesn&#39;t change anything. I added to the above problem description a method that should replicates the issue."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1667560404,"post_id":74289327,"comment_id":131200495,"body_markdown":"The issue is that the link gets HTML encoded. Currently I don&#39;t know where this happens and if there is a code workaround. However, you could use no spaces/special characters in the sheet names to not have this issue","body":"The issue is that the link gets HTML encoded. Currently I don&#39;t know where this happens and if there is a code workaround. However, you could use no spaces/special characters in the sheet names to not have this issue"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1667568373,"post_id":74289327,"comment_id":131203231,"body_markdown":"There doesn&#39;t seem to be an easy solution. What you could attempt, is to delete the relationship and recreate it in the hopes to not have it encode. The encoding happens during the opening of the workbook, yet it doesn&#39;t seem to decode it during saving. As a matter of fact, they deliberately skip the relationship files in `org.apache.poi.openxml4j.opc.ZipPackage#saveImpl()` method. The comment is `If the part is a relationship part, we don&#39;t save it, it&#39;s the source part that will do the job.` though I can&#39;t tell where the &quot;source part&quot; saves anything","body":"There doesn&#39;t seem to be an easy solution. What you could attempt, is to delete the relationship and recreate it in the hopes to not have it encode. The encoding happens during the opening of the workbook, yet it doesn&#39;t seem to decode it during saving. As a matter of fact, they deliberately skip the relationship files in <code>org.apache.poi.openxml4j.opc.ZipPackage#saveImpl()</code> method. The comment is <code>If the part is a relationship part, we don&#39;t save it, it&#39;s the source part that will do the job.</code> though I can&#39;t tell where the &quot;source part&quot; saves anything"},{"owner":{"account_id":22617802,"reputation":1,"user_id":16797081,"display_name":"Vap Hel"},"score":0,"creation_date":1667584188,"post_id":74289327,"comment_id":131209202,"body_markdown":"My application only changes data in files created by customers so it is not up to me what the sheets will be named.","body":"My application only changes data in files created by customers so it is not up to me what the sheets will be named."},{"owner":{"account_id":22617802,"reputation":1,"user_id":16797081,"display_name":"Vap Hel"},"score":0,"creation_date":1667584662,"post_id":74289327,"comment_id":131209338,"body_markdown":"I also tried to remove hyperlinks and recreate them but while trying to create a link with a space I got an error: `Invalid target - java.net.URISyntaxException: Illegal character in fragment at index 31: /xl/drawings/drawing1.xml#&#39;test with space&#39;!A1`. Nevertheless, thank you for your time spent analyzing this issue.","body":"I also tried to remove hyperlinks and recreate them but while trying to create a link with a space I got an error: <code>Invalid target - java.net.URISyntaxException: Illegal character in fragment at index 31: &#47;xl&#47;drawings&#47;drawing1.xml#&#39;test with space&#39;!A1</code>. Nevertheless, thank you for your time spent analyzing this issue."}],"owner":{"account_id":22617802,"reputation":1,"user_id":16797081,"display_name":"Vap Hel"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667558942,"creation_date":1667392939,"question_id":74289327,"body_markdown":"I have an application that is tasked with changing the values in selected cells in an Excel sheet. Unfortunately, after changing values in some cells, the URI encoding of Excel hyperlinks changes to a different format, replacing national characters and spaces, making them corrupted (also in other sheets where the data was not changed).\r\n\r\nThe scheme of the application&#39;s operation is as follows:\r\n\r\n```\r\n    FileInputStream in = new FileInputStream (excelSourcefile);\r\n    long length = excelSourcefile.length ();\r\n    byte [] content = new byte [(int) length];\r\n    in.read(content);\r\n    in.close();\r\n    ...\r\n    String filePath = serverPathToTempDirectory;\r\n    FileUtils.writeByteArrayToFile (new File (filePath), content);\r\n    ...\r\n    XSSFWorkbook workbook = new XSSFWorkbook (filePath);\r\n    // so far I see a new Excel file with correct hyperlinks in temp dir\r\n\r\n    // set new value (1.0) to cell (2,2) in sheet test\r\n    XSSFSheet sheet = workbook.getSheet(&quot;test&quot;);\r\n    Row row = sheet.getRow(2);\r\n    Cell cell = row.getCell(2);\r\n    cell = row.createCell(2);\r\n    cell.setCellValue(1.0);\r\n\r\n    ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n    workbook.write(bos);  \r\n    workbook.close();  \t\r\n```\r\n\r\nIn the source Excel file in drawing.xml.rels, the example relationship node looks like this:\r\n```\r\n&lt;Relationship Id=&quot;rId2&quot; Type=&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink&quot; Target=&quot;#&#39;Rach.Bie. (miesicznie) &#39;!B3&quot;/&gt;\r\n```\r\n\r\nAfter executing workbook.close() statement the same node looks like this:\r\n```\r\n&lt;Relationship Id=&quot;rId2&quot; Target=&quot;#&#39;Rach.Bie%C5%BC.%20(miesi%C4%99cznie)%20&#39;!B3&quot; Type=&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink&quot;/&gt;\r\n```\r\n\r\nReferences to the same tabs in sheet.xml files are properly encoded. The problem exists only with drawings hyperlinks.\r\n\r\nTo reproduce this issue you can create an Excel file (e.g. C:\\Test\\src\\test.xlsx) with three sheets:\r\n\r\n - &quot;test&quot; - with value 0 in A1 cell\r\n - &quot;test with space&quot; - may be empty\r\n - &quot;btn&quot; - with any image with link to A1 cell in &quot;test with space&quot; sheet,\r\n\r\ncreate empty C:\\Test\\dest directory and you could run below method. When the code executes, in the directory C:\\Test\\dest there should be a file with the value inserted in the &quot;test&quot; tab and with a broken link related to the image in the &quot;btn&quot; tab.\r\n\r\n```\r\n    private void test() throws IOException\r\n    {\r\n    \tString path = &quot;C:\\\\Test\\\\src\\\\test.xlsx&quot;;\r\n    \tFile excelSourcefile = new File(path);\r\n    \tFileInputStream in = new FileInputStream(excelSourcefile);\r\n        long length = excelSourcefile.length();\r\n        byte[] content = new byte [(int) length];\r\n        in.read(content);\r\n        in.close();\r\n        \r\n        String filePath = &quot;C:\\\\Test\\\\dest\\\\test.xlsx&quot;;\r\n        FileUtils.writeByteArrayToFile(new File(filePath), content);\r\n        \r\n        XSSFWorkbook workbook = new XSSFWorkbook(filePath);\r\n        XSSFSheet sheet = workbook.getSheet(&quot;test&quot;);\r\n        Row row = sheet.getRow(0);\r\n        Cell cell = row.getCell(0);\r\n        cell = row.createCell(0);\r\n        cell.setCellValue(1.0);\r\n\r\n        ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n        workbook.write(bos);  \r\n        bos.close();\r\n        workbook.close();\r\n    }\r\n```\r\nAny suggestion how to solve this problem?","title":"Incorrect URI encoding of Excel hyperlinks","body":"<p>I have an application that is tasked with changing the values in selected cells in an Excel sheet. Unfortunately, after changing values in some cells, the URI encoding of Excel hyperlinks changes to a different format, replacing national characters and spaces, making them corrupted (also in other sheets where the data was not changed).</p>\n<p>The scheme of the application's operation is as follows:</p>\n<pre><code>    FileInputStream in = new FileInputStream (excelSourcefile);\n    long length = excelSourcefile.length ();\n    byte [] content = new byte [(int) length];\n    in.read(content);\n    in.close();\n    ...\n    String filePath = serverPathToTempDirectory;\n    FileUtils.writeByteArrayToFile (new File (filePath), content);\n    ...\n    XSSFWorkbook workbook = new XSSFWorkbook (filePath);\n    // so far I see a new Excel file with correct hyperlinks in temp dir\n\n    // set new value (1.0) to cell (2,2) in sheet test\n    XSSFSheet sheet = workbook.getSheet(&quot;test&quot;);\n    Row row = sheet.getRow(2);\n    Cell cell = row.getCell(2);\n    cell = row.createCell(2);\n    cell.setCellValue(1.0);\n\n    ByteArrayOutputStream bos = new ByteArrayOutputStream();\n    workbook.write(bos);  \n    workbook.close();   \n</code></pre>\n<p>In the source Excel file in drawing.xml.rels, the example relationship node looks like this:</p>\n<pre><code>&lt;Relationship Id=&quot;rId2&quot; Type=&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink&quot; Target=&quot;#'Rach.Bie. (miesicznie) '!B3&quot;/&gt;\n</code></pre>\n<p>After executing workbook.close() statement the same node looks like this:</p>\n<pre><code>&lt;Relationship Id=&quot;rId2&quot; Target=&quot;#'Rach.Bie%C5%BC.%20(miesi%C4%99cznie)%20'!B3&quot; Type=&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink&quot;/&gt;\n</code></pre>\n<p>References to the same tabs in sheet.xml files are properly encoded. The problem exists only with drawings hyperlinks.</p>\n<p>To reproduce this issue you can create an Excel file (e.g. C:\\Test\\src\\test.xlsx) with three sheets:</p>\n<ul>\n<li>&quot;test&quot; - with value 0 in A1 cell</li>\n<li>&quot;test with space&quot; - may be empty</li>\n<li>&quot;btn&quot; - with any image with link to A1 cell in &quot;test with space&quot; sheet,</li>\n</ul>\n<p>create empty C:\\Test\\dest directory and you could run below method. When the code executes, in the directory C:\\Test\\dest there should be a file with the value inserted in the &quot;test&quot; tab and with a broken link related to the image in the &quot;btn&quot; tab.</p>\n<pre><code>    private void test() throws IOException\n    {\n        String path = &quot;C:\\\\Test\\\\src\\\\test.xlsx&quot;;\n        File excelSourcefile = new File(path);\n        FileInputStream in = new FileInputStream(excelSourcefile);\n        long length = excelSourcefile.length();\n        byte[] content = new byte [(int) length];\n        in.read(content);\n        in.close();\n        \n        String filePath = &quot;C:\\\\Test\\\\dest\\\\test.xlsx&quot;;\n        FileUtils.writeByteArrayToFile(new File(filePath), content);\n        \n        XSSFWorkbook workbook = new XSSFWorkbook(filePath);\n        XSSFSheet sheet = workbook.getSheet(&quot;test&quot;);\n        Row row = sheet.getRow(0);\n        Cell cell = row.getCell(0);\n        cell = row.createCell(0);\n        cell.setCellValue(1.0);\n\n        ByteArrayOutputStream bos = new ByteArrayOutputStream();\n        workbook.write(bos);  \n        bos.close();\n        workbook.close();\n    }\n</code></pre>\n<p>Any suggestion how to solve this problem?</p>\n"},{"tags":["java","glsl","vulkan"],"answers":[{"tags":[],"owner":{"account_id":3804693,"reputation":2622,"user_id":3157428,"accept_rate":88,"display_name":"Ruli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667558779,"creation_date":1667558779,"answer_id":74315788,"question_id":74298221,"body_markdown":"You should compile GLSL shaders into SPIRV binaries using ShaderSPIRVUtils. A guide for this can be found on [GitHub][1].\r\n\r\n\r\n  [1]: https://github.com/Naitsirc98/Vulkan-Tutorial-Java","title":"Is there a way to use glsl file on Vulkan in java","body":"<p>You should compile GLSL shaders into SPIRV binaries using ShaderSPIRVUtils. A guide for this can be found on <a href=\"https://github.com/Naitsirc98/Vulkan-Tutorial-Java\" rel=\"nofollow noreferrer\">GitHub</a>.</p>\n"}],"owner":{"account_id":26813693,"reputation":1,"user_id":20403918,"display_name":"DeadAim "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667558779,"creation_date":1667450369,"question_id":74298221,"body_markdown":"I was just wondering if theres a way to use Glsl shader file on Vulkan in java\r\n\r\nI try to use the shader C Library on Java but i couldnt find any documentation ","title":"Is there a way to use glsl file on Vulkan in java","body":"<p>I was just wondering if theres a way to use Glsl shader file on Vulkan in java</p>\n<p>I try to use the shader C Library on Java but i couldnt find any documentation</p>\n"},{"tags":["java","graphhopper"],"comments":[{"owner":{"account_id":66307,"reputation":17195,"user_id":194609,"accept_rate":73,"display_name":"Karussell"},"score":0,"creation_date":1488967465,"post_id":42662383,"comment_id":72461284,"body_markdown":"Please avoid posting duplicates on SO and on our forum or explicitely cross-link the created entries: https://discuss.graphhopper.com/t/how-to-set-higher-priority-for-routes-with-certain-tags/1616","body":"Please avoid posting duplicates on SO and on our forum or explicitely cross-link the created entries: <a href=\"https://discuss.graphhopper.com/t/how-to-set-higher-priority-for-routes-with-certain-tags/1616\" rel=\"nofollow noreferrer\">discuss.graphhopper.com/t/&hellip;</a>"}],"owner":{"account_id":10410223,"reputation":11,"user_id":7675860,"display_name":"pushian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667558478,"creation_date":1488943268,"question_id":42662383,"body_markdown":"I am currently using graphhopper to build a navigation system for a park. Within the park, there are two types of routes and when the weather is bad, one type of route should be set with higher priority during navigation. How could I approach to solve this problem. I realised there is something called priority in the foot flag encoder but I have no idea how to make use of it.","title":"How to set priority on routes using Graphhopper","body":"<p>I am currently using graphhopper to build a navigation system for a park. Within the park, there are two types of routes and when the weather is bad, one type of route should be set with higher priority during navigation. How could I approach to solve this problem. I realised there is something called priority in the foot flag encoder but I have no idea how to make use of it.</p>\n"},{"tags":["java","android","xml","android-studio","android-layout"],"comments":[{"owner":{"account_id":11400596,"reputation":489,"user_id":8357673,"accept_rate":25,"display_name":"Hamed"},"score":0,"creation_date":1667558403,"post_id":74315396,"comment_id":131199760,"body_markdown":"Does this answer your question? [How to start new activity on button click](https://stackoverflow.com/questions/4186021/how-to-start-new-activity-on-button-click)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4186021/how-to-start-new-activity-on-button-click\">How to start new activity on button click</a>"}],"answers":[{"tags":[],"owner":{"account_id":16268011,"reputation":54,"user_id":11747484,"display_name":"Umair Qayyum"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1667558345,"creation_date":1667558345,"answer_id":74315683,"question_id":74315396,"body_markdown":"In your MainActivity use this code:\r\n\r\n      Intent intent = new Intent(MainActivity.this, Second.java);\r\n      startActivity(intent);\r\n\r\nPlease read about &quot;Intents&quot;, I have added some links that will clear your concepts.\r\n[Previously asked question][1]\r\n[Intent Types][2]\r\n \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/16183937/11747484\r\n  [2]: https://www.javatpoint.com/android-intent-tutorial\r\n ","title":"How do I link 2 Pages in Android","body":"<p>In your MainActivity use this code:</p>\n<pre><code>  Intent intent = new Intent(MainActivity.this, Second.java);\n  startActivity(intent);\n</code></pre>\n<p>Please read about &quot;Intents&quot;, I have added some links that will clear your concepts.\n<a href=\"https://stackoverflow.com/a/16183937/11747484\">Previously asked question</a>\n<a href=\"https://www.javatpoint.com/android-intent-tutorial\" rel=\"nofollow noreferrer\">Intent Types</a></p>\n"}],"owner":{"account_id":24985939,"reputation":1,"user_id":18847710,"display_name":"Nobler"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667558345,"creation_date":1667557030,"question_id":74315396,"body_markdown":"I have 2 actvities with a xml each but I don&#39;t know how to switch to the second page with a button.\r\n\r\nCan someone send me the code for the MainActivitie.java please (for a button)\r\n\r\n\r\n\r\n\r\nI currently use the findView and onClick","title":"How do I link 2 Pages in Android","body":"<p>I have 2 actvities with a xml each but I don't know how to switch to the second page with a button.</p>\n<p>Can someone send me the code for the MainActivitie.java please (for a button)</p>\n<p>I currently use the findView and onClick</p>\n"},{"tags":["java","android","android-studio","android-layout"],"comments":[{"owner":{"account_id":25182377,"reputation":5871,"user_id":19023745,"display_name":"z.g.y"},"score":0,"creation_date":1667554937,"post_id":74314596,"comment_id":131198492,"body_markdown":"Show your `onCreate` where you reference your views","body":"Show your <code>onCreate</code> where you reference your views"}],"answers":[{"tags":[],"owner":{"account_id":25182377,"reputation":5871,"user_id":19023745,"display_name":"z.g.y"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667557527,"creation_date":1667556418,"answer_id":74315281,"question_id":74314596,"body_markdown":"Remove all of these that are outside of your `onCreate`\r\n\r\n\r\n    //Setting object Transaction\r\n    transaction.setDate(binding.realDate.getText().toString());\r\n    transaction.setNum_facture(binding.factureDialog.getEditText().getText().toString());\r\n    if(binding.factureDialog.getEditText().getText().toString().isEmpty()){\r\n        Log.d(&quot;info1&quot;,&quot;there is not facture&quot;);\r\n    }else{\r\n        Log.d(&quot;info1&quot;,&quot;there is facture&quot;);\r\n    }\r\n    Log.d(&quot;TAG!&quot;,binding.factureDialog.getEditText().getText().toString());\r\n    transaction.setMontant_initial(binding.montantInitialDialog.getEditText().getText().toString());\r\n    transaction.setSomme_verse(binding.sommeVerseDialog.getEditText().getText().toString());\r\n    transaction.setNum_ordre_enregistrement(binding.OrdreEnregistrementDialog.getEditText().getText().toString());\r\n    transaction.setClient(binding.clientDialog.getEditText().getText().toString());\r\n\r\n\r\nYou are referencing all your xml views **BEFORE** you set your view root in your activity.\r\n\r\nSo scroll down at the bottom most part of your `onCreate` then remove this\r\n\r\n      setContentView(view);\r\n\r\nand put it in the place of \r\n\r\n      View view = binding.getRoot();\r\n\r\nmaking your `onCreate` look like this.\r\n\r\n\r\n     @Override\r\n     protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding=ActivityAjoutModificationBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.root)\r\n","title":"Can&#39;t get Inputs from TextInputLayout when coding in android studio","body":"<p>Remove all of these that are outside of your <code>onCreate</code></p>\n<pre><code>//Setting object Transaction\ntransaction.setDate(binding.realDate.getText().toString());\ntransaction.setNum_facture(binding.factureDialog.getEditText().getText().toString());\nif(binding.factureDialog.getEditText().getText().toString().isEmpty()){\n    Log.d(&quot;info1&quot;,&quot;there is not facture&quot;);\n}else{\n    Log.d(&quot;info1&quot;,&quot;there is facture&quot;);\n}\nLog.d(&quot;TAG!&quot;,binding.factureDialog.getEditText().getText().toString());\ntransaction.setMontant_initial(binding.montantInitialDialog.getEditText().getText().toString());\ntransaction.setSomme_verse(binding.sommeVerseDialog.getEditText().getText().toString());\ntransaction.setNum_ordre_enregistrement(binding.OrdreEnregistrementDialog.getEditText().getText().toString());\ntransaction.setClient(binding.clientDialog.getEditText().getText().toString());\n</code></pre>\n<p>You are referencing all your xml views <strong>BEFORE</strong> you set your view root in your activity.</p>\n<p>So scroll down at the bottom most part of your <code>onCreate</code> then remove this</p>\n<pre><code>  setContentView(view);\n</code></pre>\n<p>and put it in the place of</p>\n<pre><code>  View view = binding.getRoot();\n</code></pre>\n<p>making your <code>onCreate</code> look like this.</p>\n<pre><code> @Override\n protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    binding=ActivityAjoutModificationBinding.inflate(getLayoutInflater());\n    setContentView(binding.root)\n</code></pre>\n"}],"owner":{"account_id":25311834,"reputation":73,"user_id":19134480,"display_name":"Patrick Renaud"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1667558325,"creation_date":1667553193,"question_id":74314596,"body_markdown":"actualy i&#39;m facing a problem when coding in android studio . I&#39;ve implemented a form for the user to enter some information , but when trying to retrieve these information using adaquate methods ,i only get empty and can&#39;t retrieve them.\r\n\r\n\r\nThis is a sample of my Layout code : \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.main.DetteCreance.AjoutModificationActivity&quot;&gt;\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:id=&quot;@+id/toolbar&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:background=&quot;@color/bleue_sky&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;80dp&quot;\r\n            android:text=&quot;FORMULAIRE DE RENSEIGNEMENT&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:textSize=&quot;30dp&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;/&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n    &lt;!-- Renseignement de la date --&gt;\r\n\r\n\r\n\r\n    &lt;!-- Cancel button --&gt;\r\n\r\n\r\n\r\n    &lt;com.google.android.material.button.MaterialButton\r\n        android:id=&quot;@+id/retour&quot;\r\n        android:layout_width=&quot;150dp&quot;\r\n        android:layout_height=&quot;65dp&quot;\r\n        android:layout_marginTop=&quot;108dp&quot;\r\n        android:layout_marginBottom=&quot;250dp&quot;\r\n        android:backgroundTint=&quot;@color/yellow&quot;\r\n        android:text=&quot;Retour&quot;\r\n        android:textColor=&quot;@color/white&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.149&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/modePaiement_dialog&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.083&quot; /&gt;\r\n\r\n    &lt;com.google.android.material.button.MaterialButton\r\n        android:id=&quot;@+id/enregistrer&quot;\r\n        android:layout_width=&quot;150dp&quot;\r\n        android:layout_height=&quot;65dp&quot;\r\n        android:layout_marginTop=&quot;108dp&quot;\r\n        android:backgroundTint=&quot;@color/bleue_sky&quot;\r\n        android:text=&quot;Enregistrer&quot;\r\n        android:layout_marginBottom=&quot;250dp&quot;\r\n        android:textColor=&quot;@color/white&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.833&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/modePaiement_dialog&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.083&quot; /&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/date_dialog&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;20dp&quot;\r\n        android:hint=&quot;&quot;\r\n        app:counterMaxLength=&quot;8&quot;\r\n        android:textColorHint=&quot;@color/black&quot;\r\n        app:hintTextColor=&quot;@color/black&quot;\r\n        app:errorEnabled=&quot;true&quot;\r\n        app:counterEnabled=&quot;true&quot;\r\n        android:layout_marginLeft=&quot;30dp&quot;\r\n        android:layout_marginRight=&quot;30dp&quot;\r\n        app:boxCornerRadiusTopStart=&quot;@dimen/_5sdp&quot;\r\n        app:boxCornerRadiusTopEnd=&quot;@dimen/_5sdp&quot;\r\n        app:boxCornerRadiusBottomStart=&quot;@dimen/_5sdp&quot;\r\n        app:boxCornerRadiusBottomEnd=&quot;@dimen/_5sdp&quot;\r\n        app:boxStrokeWidth=&quot;@dimen/_1sdp&quot;\r\n        app:boxStrokeColor=&quot;@color/mhealth_color&quot;\r\n        style=&quot;@style/InputStyle&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/toolbar&quot;&gt;\r\n\r\n        &lt;!-- champ de saisi --&gt;\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:id=&quot;@+id/realDate&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:textColor=&quot;@color/mhealth_color&quot;\r\n            android:textColorHint=&quot;@color/black&quot;\r\n            android:drawablePadding=&quot;10dp&quot;\r\n            android:hint=&quot;@string/date&quot;\r\n            android:maxLines=&quot;1&quot;\r\n            android:focusable=&quot;false&quot;\r\n            android:inputType=&quot;date&quot;\r\n            /&gt;\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/facture_dialog&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginLeft=&quot;30dp&quot;\r\n        android:layout_marginRight=&quot;30dp&quot;\r\n        app:counterMaxLength=&quot;30&quot;\r\n        android:textColorHint=&quot;@color/black&quot;\r\n        app:hintTextColor=&quot;@color/black&quot;\r\n        app:errorEnabled=&quot;true&quot;\r\n        app:counterEnabled=&quot;true&quot;\r\n        app:boxCornerRadiusTopStart=&quot;@dimen/_5sdp&quot;\r\n        app:boxCornerRadiusTopEnd=&quot;@dimen/_5sdp&quot;\r\n        app:boxCornerRadiusBottomStart=&quot;@dimen/_5sdp&quot;\r\n        app:boxCornerRadiusBottomEnd=&quot;@dimen/_5sdp&quot;\r\n        app:boxStrokeWidth=&quot;@dimen/_1sdp&quot;\r\n        app:boxStrokeColor=&quot;@color/mhealth_color&quot;\r\n        style=&quot;@style/InputStyle&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/date_dialog&quot;&gt;\r\n\r\n        &lt;!-- champ de saisi --&gt;\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:textColor=&quot;@color/mhealth_color&quot;\r\n            android:textColorHint=&quot;@color/black&quot;\r\n            android:drawablePadding=&quot;10dp&quot;\r\n            android:inputType=&quot;text&quot;\r\n            android:hint=&quot;@string/facture&quot;\r\n            android:maxLines=&quot;1&quot;/&gt;\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/OrdreEnregistrement_dialog&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginLeft=&quot;30dp&quot;\r\n        android:layout_marginRight=&quot;30dp&quot;\r\n        app:counterMaxLength=&quot;30&quot;\r\n        android:textColorHint=&quot;@color/black&quot;\r\n        app:hintTextColor=&quot;@color/black&quot;\r\n        app:errorEnabled=&quot;true&quot;\r\n        app:counterEnabled=&quot;true&quot;\r\n        app:boxCornerRadiusTopStart=&quot;@dimen/_5sdp&quot;\r\n        app:boxCornerRadiusTopEnd=&quot;@dimen/_5sdp&quot;\r\n        app:boxCornerRadiusBottomStart=&quot;@dimen/_5sdp&quot;\r\n        app:boxCornerRadiusBottomEnd=&quot;@dimen/_5sdp&quot;\r\n        app:boxStrokeWidth=&quot;@dimen/_1sdp&quot;\r\n        app:boxStrokeColor=&quot;@color/mhealth_color&quot;\r\n        style=&quot;@style/InputStyle&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/facture_dialog&quot;&gt;\r\n\r\n        &lt;!-- champ de saisi --&gt;\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:textColor=&quot;@color/mhealth_color&quot;\r\n            android:textColorHint=&quot;@color/black&quot;\r\n            android:drawablePadding=&quot;10dp&quot;\r\n            android:inputType=&quot;text&quot;\r\n            android:hint=&quot;@string/numero_ordre&quot;\r\n            android:maxLines=&quot;1&quot;/&gt;\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/typeOperation_dialog&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:focusedByDefault=&quot;false&quot;\r\n        android:layout_marginLeft=&quot;30dp&quot;\r\n        android:layout_marginRight=&quot;30dp&quot;\r\n        android:hint=&quot;@string/type_operation&quot;\r\n        android:textColorHint=&quot;@color/black&quot;\r\n        app:hintTextColor=&quot;@color/black&quot;\r\n        app:errorEnabled=&quot;true&quot;\r\n        app:boxCornerRadiusTopStart=&quot;@dimen/_5sdp&quot;\r\n        app:boxCornerRadiusTopEnd=&quot;@dimen/_5sdp&quot;\r\n        app:boxCornerRadiusBottomStart=&quot;@dimen/_5sdp&quot;\r\n        app:boxCornerRadiusBottomEnd=&quot;@dimen/_5sdp&quot;\r\n        app:boxStrokeWidth=&quot;@dimen/_1sdp&quot;\r\n        app:boxStrokeColor=&quot;@color/mhealth_color&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/OrdreEnregistrement_dialog&quot;\r\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.ExposedDropdownMenu&quot;&gt;\r\n\r\n        &lt;!-- champ de saisi --&gt;\r\n        &lt;com.google.android.material.textfield.MaterialAutoCompleteTextView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:textColor=&quot;@color/mhealth_color&quot;\r\n            android:inputType=&quot;none&quot;\r\n            tools:ignore=&quot;LabelFor&quot;\r\n            /&gt;\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/montantInitial_dialog&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginLeft=&quot;30dp&quot;\r\n        android:layout_marginRight=&quot;30dp&quot;\r\n        app:counterMaxLength=&quot;30&quot;\r\n        android:textColorHint=&quot;@color/black&quot;\r\n        app:hintTextColor=&quot;@color/black&quot;\r\n        app:errorEnabled=&quot;true&quot;\r\n        app:counterEnabled=&quot;true&quot;\r\n        app:boxCornerRadiusTopStart=&quot;@dimen/_5sdp&quot;\r\n        app:boxCornerRadiusTopEnd=&quot;@dimen/_5sdp&quot;\r\n        app:boxCornerRadiusBottomStart=&quot;@dimen/_5sdp&quot;\r\n        app:boxCornerRadiusBottomEnd=&quot;@dimen/_5sdp&quot;\r\n        app:boxStrokeWidth=&quot;@dimen/_1sdp&quot;\r\n        app:boxStrokeColor=&quot;@color/mhealth_color&quot;\r\n        style=&quot;@style/InputStyle&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/typeOperation_dialog&quot;&gt;\r\n\r\n        &lt;!-- champ de saisi --&gt;\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:textColor=&quot;@color/mhealth_color&quot;\r\n            android:textColorHint=&quot;@color/black&quot;\r\n            android:drawablePadding=&quot;10dp&quot;\r\n            android:inputType=&quot;number&quot;\r\n            android:hint=&quot;@string/montant_initial&quot;\r\n            android:maxLines=&quot;1&quot;/&gt;\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/sommeVerse_dialog&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginLeft=&quot;30dp&quot;\r\n        android:layout_marginRight=&quot;30dp&quot;\r\n        app:counterMaxLength=&quot;30&quot;\r\n        android:textColorHint=&quot;@color/black&quot;\r\n        app:hintTextColor=&quot;@color/black&quot;\r\n        app:errorEnabled=&quot;true&quot;\r\n        app:counterEnabled=&quot;true&quot;\r\n        app:boxCornerRadiusTopStart=&quot;@dimen/_5sdp&quot;\r\n        app:boxCornerRadiusTopEnd=&quot;@dimen/_5sdp&quot;\r\n        app:boxCornerRadiusBottomStart=&quot;@dimen/_5sdp&quot;\r\n        app:boxCornerRadiusBottomEnd=&quot;@dimen/_5sdp&quot;\r\n        app:boxStrokeWidth=&quot;@dimen/_1sdp&quot;\r\n        app:boxStrokeColor=&quot;@color/mhealth_color&quot;\r\n        style=&quot;@style/InputStyle&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/montantInitial_dialog&quot;&gt;\r\n\r\n        &lt;!-- champ de saisi --&gt;\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:textColor=&quot;@color/mhealth_color&quot;\r\n            android:textColorHint=&quot;@color/black&quot;\r\n            android:drawablePadding=&quot;10dp&quot;\r\n            android:inputType=&quot;number&quot;\r\n            android:hint=&quot;@string/somme_versee&quot;\r\n            android:maxLines=&quot;1&quot;/&gt;\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/modePaiement_dialog&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginLeft=&quot;30dp&quot;\r\n        android:layout_marginRight=&quot;30dp&quot;\r\n        android:focusedByDefault=&quot;false&quot;\r\n        android:hint=&quot;@string/mode_paiement&quot;\r\n        android:textColorHint=&quot;@color/black&quot;\r\n        app:hintTextColor=&quot;@color/black&quot;\r\n        app:errorEnabled=&quot;true&quot;\r\n        app:boxCornerRadiusTopStart=&quot;@dimen/_5sdp&quot;\r\n        app:boxCornerRadiusTopEnd=&quot;@dimen/_5sdp&quot;\r\n        app:boxCornerRadiusBottomStart=&quot;@dimen/_5sdp&quot;\r\n        app:boxCornerRadiusBottomEnd=&quot;@dimen/_5sdp&quot;\r\n        app:boxStrokeWidth=&quot;@dimen/_1sdp&quot;\r\n        app:boxStrokeColor=&quot;@color/mhealth_color&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/sommeVerse_dialog&quot;\r\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.ExposedDropdownMenu&quot;&gt;\r\n\r\n        &lt;!-- champ de saisi --&gt;\r\n        &lt;com.google.android.material.textfield.MaterialAutoCompleteTextView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:textColor=&quot;@color/mhealth_color&quot;\r\n            android:inputType=&quot;none&quot;\r\n            tools:ignore=&quot;LabelFor&quot;/&gt;\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/client_dialog&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginLeft=&quot;30dp&quot;\r\n        android:layout_marginRight=&quot;30dp&quot;\r\n        android:focusedByDefault=&quot;false&quot;\r\n        android:hint=&quot;@string/client&quot;\r\n        android:textColorHint=&quot;@color/black&quot;\r\n        app:hintTextColor=&quot;@color/black&quot;\r\n        app:errorEnabled=&quot;true&quot;\r\n        app:boxCornerRadiusTopStart=&quot;@dimen/_5sdp&quot;\r\n        app:boxCornerRadiusTopEnd=&quot;@dimen/_5sdp&quot;\r\n        app:boxCornerRadiusBottomStart=&quot;@dimen/_5sdp&quot;\r\n        app:boxCornerRadiusBottomEnd=&quot;@dimen/_5sdp&quot;\r\n        app:boxStrokeWidth=&quot;@dimen/_1sdp&quot;\r\n        app:boxStrokeColor=&quot;@color/mhealth_color&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/modePaiement_dialog&quot;\r\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.ExposedDropdownMenu&quot;&gt;\r\n\r\n        &lt;!-- champ de saisi --&gt;\r\n        &lt;com.google.android.material.textfield.MaterialAutoCompleteTextView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:textColor=&quot;@color/mhealth_color&quot;\r\n            android:inputType=&quot;none&quot;\r\n            tools:ignore=&quot;LabelFor&quot;/&gt;\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n\r\nand this is how i am trying to retrieve them :\r\n\r\n\r\n\r\n```\r\n//Setting object Transaction\r\ntransaction.setDate(binding.realDate.getText().toString());\r\ntransaction.setNum_facture(binding.factureDialog.getEditText().getText().toString());\r\nif(binding.factureDialog.getEditText().getText().toString().isEmpty()){\r\n    Log.d(&quot;info1&quot;,&quot;there is not facture&quot;);\r\n}else{\r\n    Log.d(&quot;info1&quot;,&quot;there is facture&quot;);\r\n}\r\nLog.d(&quot;TAG!&quot;,binding.factureDialog.getEditText().getText().toString());\r\ntransaction.setMontant_initial(binding.montantInitialDialog.getEditText().getText().toString());\r\ntransaction.setSomme_verse(binding.sommeVerseDialog.getEditText().getText().toString());\r\ntransaction.setNum_ordre_enregistrement(binding.OrdreEnregistrementDialog.getEditText().getText().toString());\r\ntransaction.setClient(binding.clientDialog.getEditText().getText().toString());\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding=ActivityAjoutModificationBinding.inflate(getLayoutInflater());\r\n        View view = binding.getRoot();\r\n\r\n        //Initializing spinners\r\n        AppDatabase appDatabase;\r\n        appDatabase=AppDatabase.getDbIntance(this);\r\n        Transaction transaction = new Transaction();\r\n        List&lt;String&gt; TypeOperation=new ArrayList&lt;&gt;();\r\n        List&lt;String&gt; ModePaiement=new ArrayList&lt;&gt;();\r\n        List&lt;String&gt; client_list=new ArrayList&lt;&gt;();\r\n\r\n        if(TypeOperation.isEmpty())\r\n        {\r\n            TypeOperation.add(&quot;Cr&#233;ance&quot;);\r\n            TypeOperation.add(&quot;Dette&quot;);\r\n            TypeOperation.add(&quot;Versement&quot;);\r\n        }else{\r\n            TypeOperation.clear();\r\n        }\r\n\r\n\r\n        if(ModePaiement.isEmpty()){\r\n            ModePaiement.add(&quot;Ch&#232;que&quot;);\r\n            ModePaiement.add(&quot;Esp&#232;ces&quot;);\r\n        }else{\r\n            ModePaiement.clear();\r\n        }\r\n\r\n        if(client_list.isEmpty()){\r\n            client_list.add(&quot;CSPS du l&#39;EST&quot;);\r\n            client_list.add(&quot;CSPS du l&#39;OUEST&quot;);\r\n            client_list.add(&quot;CSPS du NORD&quot;);\r\n            client_list.add(&quot;CSPS du SUD&quot;);\r\n        }else{\r\n            client_list.clear();\r\n        }\r\n\r\n        //Liste du Mode de paiement\r\n        ArrayAdapter&lt;String&gt; mode_paiement_adapter = new ArrayAdapter&lt;&gt;(this, R.layout.list_item,ModePaiement);\r\n        MaterialAutoCompleteTextView mode_paiement_autoCompleteTextView = (MaterialAutoCompleteTextView) binding.modePaiementDialog.getEditText();\r\n        assert mode_paiement_autoCompleteTextView != null;\r\n        mode_paiement_autoCompleteTextView.setAdapter(mode_paiement_adapter );\r\n        //Liste de Type d&#39;operation\r\n        ArrayAdapter&lt;String&gt; type_operation_adapter = new ArrayAdapter&lt;&gt;(this, R.layout.list_item,TypeOperation);\r\n        MaterialAutoCompleteTextView type_operation_autoCompleteTextView = (MaterialAutoCompleteTextView)binding.typeOperationDialog.getEditText();\r\n        assert type_operation_autoCompleteTextView != null;\r\n        type_operation_autoCompleteTextView.setAdapter(type_operation_adapter);\r\n        //Liste des clients\r\n        ArrayAdapter&lt;String&gt; client_adapter = new ArrayAdapter&lt;&gt;(this, R.layout.list_item,client_list);\r\n        MaterialAutoCompleteTextView client_autoCompleteTextView = (MaterialAutoCompleteTextView)binding.clientDialog.getEditText();\r\n        assert client_autoCompleteTextView != null;\r\n        client_autoCompleteTextView.setAdapter(client_adapter);\r\n\r\n        //Setting object Transaction\r\n        transaction.setDate(binding.realDate.getText().toString());\r\n        transaction.setNum_facture(binding.factureDialog.getEditText().getText().toString());\r\n        if(binding.factureDialog.getEditText().getText().toString().isEmpty()){\r\n            Log.d(&quot;info1&quot;,&quot;there is not facture&quot;);\r\n        }else{\r\n            Log.d(&quot;info1&quot;,&quot;there is facture&quot;);\r\n        }\r\n        Log.d(&quot;TAG!&quot;,binding.factureDialog.getEditText().getText().toString());\r\n        transaction.setMontant_initial(binding.montantInitialDialog.getEditText().getText().toString());\r\n        transaction.setSomme_verse(binding.sommeVerseDialog.getEditText().getText().toString());\r\n        transaction.setNum_ordre_enregistrement(binding.OrdreEnregistrementDialog.getEditText().getText().toString());\r\n        transaction.setClient(binding.clientDialog.getEditText().getText().toString());\r\n\r\n        //Ins&#233;rer transaction dans BD\r\n        binding.enregistrer.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                appDatabase.transactionDao().insert(transaction);\r\n\r\n            }\r\n        });\r\n\r\n        //Picking date\r\n        final Calendar myCalendar= Calendar.getInstance();\r\n        DatePickerDialog.OnDateSetListener select_date = (v, year, month, day) -&gt; {\r\n            myCalendar.set(Calendar.YEAR, year);\r\n            myCalendar.set(Calendar.MONTH,month);\r\n            myCalendar.set(Calendar.DAY_OF_MONTH,day);\r\n            String myFormat=&quot;yy/MM/dd&quot;;\r\n            SimpleDateFormat dateFormat=new SimpleDateFormat(myFormat, Locale.FRENCH);\r\n            binding.realDate.setText(dateFormat.format(myCalendar.getTime()));\r\n\r\n        };\r\n        binding.realDate.setOnClickListener(v -&gt; new DatePickerDialog(this,select_date,myCalendar.get(Calendar.YEAR),myCalendar.get(Calendar.MONTH),myCalendar.get(Calendar.DAY_OF_MONTH)).show());\r\n\r\n        binding.retour.setOnClickListener(v-&gt;{\r\n                finish();\r\n                }\r\n                );\r\n\r\n        setContentView(view);\r\n    }\r\n\r\n\r\npackage com.xxxxxxxxxxx.xxxxxxxxx.xxx.main.DetteCreance;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.app.DatePickerDialog;\r\nimport android.app.Dialog;\r\nimport android.content.Context;\r\nimport android.graphics.Color;\r\nimport android.graphics.drawable.ColorDrawable;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.view.Window;\r\nimport android.widget.ArrayAdapter;\r\n\r\nimport com.google.android.material.button.MaterialButton;\r\nimport com.google.android.material.textfield.MaterialAutoCompleteTextView;\r\nimport com.google.android.material.textfield.TextInputEditText;\r\nimport com.google.android.material.textfield.TextInputLayout;\r\nimport com.ticanalyse.mheath.bf.R;\r\nimport com.ticanalyse.mheath.bf.databinding.ActivityAjoutModificationBinding;\r\nimport com.ticanalyse.mheath.bf.databinding.FragmentAjoutModificationDialogBinding;\r\nimport com.ticanalyse.mheath.bf.db.AppDatabase;\r\nimport com.ticanalyse.mheath.bf.db.entities.Transaction;\r\n\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.ArrayList;\r\nimport java.util.Calendar;\r\nimport java.util.List;\r\nimport java.util.Locale;\r\n\r\npublic class AjoutModificationActivity extends AppCompatActivity {\r\n\r\n    ActivityAjoutModificationBinding binding;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding=ActivityAjoutModificationBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n        //Initializing spinners\r\n        AppDatabase appDatabase;\r\n        appDatabase=AppDatabase.getDbIntance(this);\r\n        Transaction transaction = new Transaction();\r\n        List&lt;String&gt; TypeOperation=new ArrayList&lt;&gt;();\r\n        List&lt;String&gt; ModePaiement=new ArrayList&lt;&gt;();\r\n        List&lt;String&gt; client_list=new ArrayList&lt;&gt;();\r\n\r\n        if(TypeOperation.isEmpty())\r\n        {\r\n            TypeOperation.add(&quot;Cr&#233;ance&quot;);\r\n            TypeOperation.add(&quot;Dette&quot;);\r\n            TypeOperation.add(&quot;Versement&quot;);\r\n        }else{\r\n            TypeOperation.clear();\r\n        }\r\n\r\n\r\n        if(ModePaiement.isEmpty()){\r\n            ModePaiement.add(&quot;Ch&#232;que&quot;);\r\n            ModePaiement.add(&quot;Esp&#232;ces&quot;);\r\n        }else{\r\n            ModePaiement.clear();\r\n        }\r\n\r\n        if(client_list.isEmpty()){\r\n            client_list.add(&quot;CSPS du l&#39;EST&quot;);\r\n            client_list.add(&quot;CSPS du l&#39;OUEST&quot;);\r\n            client_list.add(&quot;CSPS du NORD&quot;);\r\n            client_list.add(&quot;CSPS du SUD&quot;);\r\n        }else{\r\n            client_list.clear();\r\n        }\r\n\r\n        //Liste du Mode de paiement\r\n        ArrayAdapter&lt;String&gt; mode_paiement_adapter = new ArrayAdapter&lt;&gt;(this, R.layout.list_item,ModePaiement);\r\n        MaterialAutoCompleteTextView mode_paiement_autoCompleteTextView = (MaterialAutoCompleteTextView) binding.modePaiementDialog.getEditText();\r\n        assert mode_paiement_autoCompleteTextView != null;\r\n        mode_paiement_autoCompleteTextView.setAdapter(mode_paiement_adapter );\r\n        //Liste de Type d&#39;operation\r\n        ArrayAdapter&lt;String&gt; type_operation_adapter = new ArrayAdapter&lt;&gt;(this, R.layout.list_item,TypeOperation);\r\n        MaterialAutoCompleteTextView type_operation_autoCompleteTextView = (MaterialAutoCompleteTextView)binding.typeOperationDialog.getEditText();\r\n        assert type_operation_autoCompleteTextView != null;\r\n        type_operation_autoCompleteTextView.setAdapter(type_operation_adapter);\r\n        //Liste des clients\r\n        ArrayAdapter&lt;String&gt; client_adapter = new ArrayAdapter&lt;&gt;(this, R.layout.list_item,client_list);\r\n        MaterialAutoCompleteTextView client_autoCompleteTextView = (MaterialAutoCompleteTextView)binding.clientDialog.getEditText();\r\n        assert client_autoCompleteTextView != null;\r\n        client_autoCompleteTextView.setAdapter(client_adapter);\r\n\r\n\r\n        //Setting object Transaction\r\n        transaction.setDate(binding.realDate.getText().toString());\r\n        transaction.setNum_facture(binding.factureDialog.getEditText().getText().toString());\r\n        if(binding.factureDialog.getEditText().getText().toString().isEmpty()){\r\n            Log.d(&quot;info1&quot;,&quot;there is not facture&quot;);\r\n        }else{\r\n            Log.d(&quot;info1&quot;,&quot;there is facture&quot;);\r\n        }\r\n        Log.d(&quot;TAG!&quot;,binding.factureDialog.getEditText().getText().toString());\r\n        transaction.setMontant_initial(binding.montantInitialDialog.getEditText().getText().toString());\r\n        transaction.setSomme_verse(binding.sommeVerseDialog.getEditText().getText().toString());\r\n        transaction.setNum_ordre_enregistrement(binding.OrdreEnregistrementDialog.getEditText().getText().toString());\r\n        transaction.setClient(binding.clientDialog.getEditText().getText().toString());\r\n\r\n        //Ins&#233;rer transaction dans BD\r\n        binding.enregistrer.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                appDatabase.transactionDao().insert(transaction);\r\n\r\n            }\r\n        });\r\n\r\n        //Picking date\r\n        final Calendar myCalendar= Calendar.getInstance();\r\n        DatePickerDialog.OnDateSetListener select_date = (v, year, month, day) -&gt; {\r\n            myCalendar.set(Calendar.YEAR, year);\r\n            myCalendar.set(Calendar.MONTH,month);\r\n            myCalendar.set(Calendar.DAY_OF_MONTH,day);\r\n            String myFormat=&quot;yy/MM/dd&quot;;\r\n            SimpleDateFormat dateFormat=new SimpleDateFormat(myFormat, Locale.FRENCH);\r\n            binding.realDate.setText(dateFormat.format(myCalendar.getTime()));\r\n\r\n        };\r\n        binding.realDate.setOnClickListener(v -&gt; new DatePickerDialog(this,select_date,myCalendar.get(Calendar.YEAR),myCalendar.get(Calendar.MONTH),myCalendar.get(Calendar.DAY_OF_MONTH)).show());\r\n\r\n        binding.retour.setOnClickListener(v-&gt;{\r\n                    finish();\r\n                }\r\n        );\r\n    }\r\n\r\n}\r\n\r\n\r\n```\r\n\r\nWhen i check the different fields of the instance :&quot;transaction&quot; , it returns me an empty object . Could you help me please ?\r\n","title":"Can&#39;t get Inputs from TextInputLayout when coding in android studio","body":"<p>actualy i'm facing a problem when coding in android studio . I've implemented a form for the user to enter some information , but when trying to retrieve these information using adaquate methods ,i only get empty and can't retrieve them.</p>\n<p>This is a sample of my Layout code :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.main.DetteCreance.AjoutModificationActivity&quot;&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:id=&quot;@+id/toolbar&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:background=&quot;@color/bleue_sky&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n        &lt;TextView\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;80dp&quot;\n            android:text=&quot;FORMULAIRE DE RENSEIGNEMENT&quot;\n            android:gravity=&quot;center&quot;\n            android:textSize=&quot;30dp&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:textStyle=&quot;bold&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;/&gt;\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n    &lt;!-- Renseignement de la date --&gt;\n\n\n\n    &lt;!-- Cancel button --&gt;\n\n\n\n    &lt;com.google.android.material.button.MaterialButton\n        android:id=&quot;@+id/retour&quot;\n        android:layout_width=&quot;150dp&quot;\n        android:layout_height=&quot;65dp&quot;\n        android:layout_marginTop=&quot;108dp&quot;\n        android:layout_marginBottom=&quot;250dp&quot;\n        android:backgroundTint=&quot;@color/yellow&quot;\n        android:text=&quot;Retour&quot;\n        android:textColor=&quot;@color/white&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.149&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/modePaiement_dialog&quot;\n        app:layout_constraintVertical_bias=&quot;0.083&quot; /&gt;\n\n    &lt;com.google.android.material.button.MaterialButton\n        android:id=&quot;@+id/enregistrer&quot;\n        android:layout_width=&quot;150dp&quot;\n        android:layout_height=&quot;65dp&quot;\n        android:layout_marginTop=&quot;108dp&quot;\n        android:backgroundTint=&quot;@color/bleue_sky&quot;\n        android:text=&quot;Enregistrer&quot;\n        android:layout_marginBottom=&quot;250dp&quot;\n        android:textColor=&quot;@color/white&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.833&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/modePaiement_dialog&quot;\n        app:layout_constraintVertical_bias=&quot;0.083&quot; /&gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:id=&quot;@+id/date_dialog&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;20dp&quot;\n        android:hint=&quot;&quot;\n        app:counterMaxLength=&quot;8&quot;\n        android:textColorHint=&quot;@color/black&quot;\n        app:hintTextColor=&quot;@color/black&quot;\n        app:errorEnabled=&quot;true&quot;\n        app:counterEnabled=&quot;true&quot;\n        android:layout_marginLeft=&quot;30dp&quot;\n        android:layout_marginRight=&quot;30dp&quot;\n        app:boxCornerRadiusTopStart=&quot;@dimen/_5sdp&quot;\n        app:boxCornerRadiusTopEnd=&quot;@dimen/_5sdp&quot;\n        app:boxCornerRadiusBottomStart=&quot;@dimen/_5sdp&quot;\n        app:boxCornerRadiusBottomEnd=&quot;@dimen/_5sdp&quot;\n        app:boxStrokeWidth=&quot;@dimen/_1sdp&quot;\n        app:boxStrokeColor=&quot;@color/mhealth_color&quot;\n        style=&quot;@style/InputStyle&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/toolbar&quot;&gt;\n\n        &lt;!-- champ de saisi --&gt;\n        &lt;com.google.android.material.textfield.TextInputEditText\n            android:id=&quot;@+id/realDate&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:textColor=&quot;@color/mhealth_color&quot;\n            android:textColorHint=&quot;@color/black&quot;\n            android:drawablePadding=&quot;10dp&quot;\n            android:hint=&quot;@string/date&quot;\n            android:maxLines=&quot;1&quot;\n            android:focusable=&quot;false&quot;\n            android:inputType=&quot;date&quot;\n            /&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:id=&quot;@+id/facture_dialog&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginLeft=&quot;30dp&quot;\n        android:layout_marginRight=&quot;30dp&quot;\n        app:counterMaxLength=&quot;30&quot;\n        android:textColorHint=&quot;@color/black&quot;\n        app:hintTextColor=&quot;@color/black&quot;\n        app:errorEnabled=&quot;true&quot;\n        app:counterEnabled=&quot;true&quot;\n        app:boxCornerRadiusTopStart=&quot;@dimen/_5sdp&quot;\n        app:boxCornerRadiusTopEnd=&quot;@dimen/_5sdp&quot;\n        app:boxCornerRadiusBottomStart=&quot;@dimen/_5sdp&quot;\n        app:boxCornerRadiusBottomEnd=&quot;@dimen/_5sdp&quot;\n        app:boxStrokeWidth=&quot;@dimen/_1sdp&quot;\n        app:boxStrokeColor=&quot;@color/mhealth_color&quot;\n        style=&quot;@style/InputStyle&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/date_dialog&quot;&gt;\n\n        &lt;!-- champ de saisi --&gt;\n        &lt;com.google.android.material.textfield.TextInputEditText\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:textColor=&quot;@color/mhealth_color&quot;\n            android:textColorHint=&quot;@color/black&quot;\n            android:drawablePadding=&quot;10dp&quot;\n            android:inputType=&quot;text&quot;\n            android:hint=&quot;@string/facture&quot;\n            android:maxLines=&quot;1&quot;/&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:id=&quot;@+id/OrdreEnregistrement_dialog&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginLeft=&quot;30dp&quot;\n        android:layout_marginRight=&quot;30dp&quot;\n        app:counterMaxLength=&quot;30&quot;\n        android:textColorHint=&quot;@color/black&quot;\n        app:hintTextColor=&quot;@color/black&quot;\n        app:errorEnabled=&quot;true&quot;\n        app:counterEnabled=&quot;true&quot;\n        app:boxCornerRadiusTopStart=&quot;@dimen/_5sdp&quot;\n        app:boxCornerRadiusTopEnd=&quot;@dimen/_5sdp&quot;\n        app:boxCornerRadiusBottomStart=&quot;@dimen/_5sdp&quot;\n        app:boxCornerRadiusBottomEnd=&quot;@dimen/_5sdp&quot;\n        app:boxStrokeWidth=&quot;@dimen/_1sdp&quot;\n        app:boxStrokeColor=&quot;@color/mhealth_color&quot;\n        style=&quot;@style/InputStyle&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/facture_dialog&quot;&gt;\n\n        &lt;!-- champ de saisi --&gt;\n        &lt;com.google.android.material.textfield.TextInputEditText\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:textColor=&quot;@color/mhealth_color&quot;\n            android:textColorHint=&quot;@color/black&quot;\n            android:drawablePadding=&quot;10dp&quot;\n            android:inputType=&quot;text&quot;\n            android:hint=&quot;@string/numero_ordre&quot;\n            android:maxLines=&quot;1&quot;/&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:id=&quot;@+id/typeOperation_dialog&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:focusedByDefault=&quot;false&quot;\n        android:layout_marginLeft=&quot;30dp&quot;\n        android:layout_marginRight=&quot;30dp&quot;\n        android:hint=&quot;@string/type_operation&quot;\n        android:textColorHint=&quot;@color/black&quot;\n        app:hintTextColor=&quot;@color/black&quot;\n        app:errorEnabled=&quot;true&quot;\n        app:boxCornerRadiusTopStart=&quot;@dimen/_5sdp&quot;\n        app:boxCornerRadiusTopEnd=&quot;@dimen/_5sdp&quot;\n        app:boxCornerRadiusBottomStart=&quot;@dimen/_5sdp&quot;\n        app:boxCornerRadiusBottomEnd=&quot;@dimen/_5sdp&quot;\n        app:boxStrokeWidth=&quot;@dimen/_1sdp&quot;\n        app:boxStrokeColor=&quot;@color/mhealth_color&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/OrdreEnregistrement_dialog&quot;\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.ExposedDropdownMenu&quot;&gt;\n\n        &lt;!-- champ de saisi --&gt;\n        &lt;com.google.android.material.textfield.MaterialAutoCompleteTextView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:textColor=&quot;@color/mhealth_color&quot;\n            android:inputType=&quot;none&quot;\n            tools:ignore=&quot;LabelFor&quot;\n            /&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:id=&quot;@+id/montantInitial_dialog&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginLeft=&quot;30dp&quot;\n        android:layout_marginRight=&quot;30dp&quot;\n        app:counterMaxLength=&quot;30&quot;\n        android:textColorHint=&quot;@color/black&quot;\n        app:hintTextColor=&quot;@color/black&quot;\n        app:errorEnabled=&quot;true&quot;\n        app:counterEnabled=&quot;true&quot;\n        app:boxCornerRadiusTopStart=&quot;@dimen/_5sdp&quot;\n        app:boxCornerRadiusTopEnd=&quot;@dimen/_5sdp&quot;\n        app:boxCornerRadiusBottomStart=&quot;@dimen/_5sdp&quot;\n        app:boxCornerRadiusBottomEnd=&quot;@dimen/_5sdp&quot;\n        app:boxStrokeWidth=&quot;@dimen/_1sdp&quot;\n        app:boxStrokeColor=&quot;@color/mhealth_color&quot;\n        style=&quot;@style/InputStyle&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/typeOperation_dialog&quot;&gt;\n\n        &lt;!-- champ de saisi --&gt;\n        &lt;com.google.android.material.textfield.TextInputEditText\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:textColor=&quot;@color/mhealth_color&quot;\n            android:textColorHint=&quot;@color/black&quot;\n            android:drawablePadding=&quot;10dp&quot;\n            android:inputType=&quot;number&quot;\n            android:hint=&quot;@string/montant_initial&quot;\n            android:maxLines=&quot;1&quot;/&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:id=&quot;@+id/sommeVerse_dialog&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginLeft=&quot;30dp&quot;\n        android:layout_marginRight=&quot;30dp&quot;\n        app:counterMaxLength=&quot;30&quot;\n        android:textColorHint=&quot;@color/black&quot;\n        app:hintTextColor=&quot;@color/black&quot;\n        app:errorEnabled=&quot;true&quot;\n        app:counterEnabled=&quot;true&quot;\n        app:boxCornerRadiusTopStart=&quot;@dimen/_5sdp&quot;\n        app:boxCornerRadiusTopEnd=&quot;@dimen/_5sdp&quot;\n        app:boxCornerRadiusBottomStart=&quot;@dimen/_5sdp&quot;\n        app:boxCornerRadiusBottomEnd=&quot;@dimen/_5sdp&quot;\n        app:boxStrokeWidth=&quot;@dimen/_1sdp&quot;\n        app:boxStrokeColor=&quot;@color/mhealth_color&quot;\n        style=&quot;@style/InputStyle&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/montantInitial_dialog&quot;&gt;\n\n        &lt;!-- champ de saisi --&gt;\n        &lt;com.google.android.material.textfield.TextInputEditText\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:textColor=&quot;@color/mhealth_color&quot;\n            android:textColorHint=&quot;@color/black&quot;\n            android:drawablePadding=&quot;10dp&quot;\n            android:inputType=&quot;number&quot;\n            android:hint=&quot;@string/somme_versee&quot;\n            android:maxLines=&quot;1&quot;/&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:id=&quot;@+id/modePaiement_dialog&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginLeft=&quot;30dp&quot;\n        android:layout_marginRight=&quot;30dp&quot;\n        android:focusedByDefault=&quot;false&quot;\n        android:hint=&quot;@string/mode_paiement&quot;\n        android:textColorHint=&quot;@color/black&quot;\n        app:hintTextColor=&quot;@color/black&quot;\n        app:errorEnabled=&quot;true&quot;\n        app:boxCornerRadiusTopStart=&quot;@dimen/_5sdp&quot;\n        app:boxCornerRadiusTopEnd=&quot;@dimen/_5sdp&quot;\n        app:boxCornerRadiusBottomStart=&quot;@dimen/_5sdp&quot;\n        app:boxCornerRadiusBottomEnd=&quot;@dimen/_5sdp&quot;\n        app:boxStrokeWidth=&quot;@dimen/_1sdp&quot;\n        app:boxStrokeColor=&quot;@color/mhealth_color&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/sommeVerse_dialog&quot;\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.ExposedDropdownMenu&quot;&gt;\n\n        &lt;!-- champ de saisi --&gt;\n        &lt;com.google.android.material.textfield.MaterialAutoCompleteTextView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:textColor=&quot;@color/mhealth_color&quot;\n            android:inputType=&quot;none&quot;\n            tools:ignore=&quot;LabelFor&quot;/&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:id=&quot;@+id/client_dialog&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginLeft=&quot;30dp&quot;\n        android:layout_marginRight=&quot;30dp&quot;\n        android:focusedByDefault=&quot;false&quot;\n        android:hint=&quot;@string/client&quot;\n        android:textColorHint=&quot;@color/black&quot;\n        app:hintTextColor=&quot;@color/black&quot;\n        app:errorEnabled=&quot;true&quot;\n        app:boxCornerRadiusTopStart=&quot;@dimen/_5sdp&quot;\n        app:boxCornerRadiusTopEnd=&quot;@dimen/_5sdp&quot;\n        app:boxCornerRadiusBottomStart=&quot;@dimen/_5sdp&quot;\n        app:boxCornerRadiusBottomEnd=&quot;@dimen/_5sdp&quot;\n        app:boxStrokeWidth=&quot;@dimen/_1sdp&quot;\n        app:boxStrokeColor=&quot;@color/mhealth_color&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/modePaiement_dialog&quot;\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.ExposedDropdownMenu&quot;&gt;\n\n        &lt;!-- champ de saisi --&gt;\n        &lt;com.google.android.material.textfield.MaterialAutoCompleteTextView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:textColor=&quot;@color/mhealth_color&quot;\n            android:inputType=&quot;none&quot;\n            tools:ignore=&quot;LabelFor&quot;/&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n\n\n\n\n\n\n\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>and this is how i am trying to retrieve them :</p>\n<pre><code>//Setting object Transaction\ntransaction.setDate(binding.realDate.getText().toString());\ntransaction.setNum_facture(binding.factureDialog.getEditText().getText().toString());\nif(binding.factureDialog.getEditText().getText().toString().isEmpty()){\n    Log.d(&quot;info1&quot;,&quot;there is not facture&quot;);\n}else{\n    Log.d(&quot;info1&quot;,&quot;there is facture&quot;);\n}\nLog.d(&quot;TAG!&quot;,binding.factureDialog.getEditText().getText().toString());\ntransaction.setMontant_initial(binding.montantInitialDialog.getEditText().getText().toString());\ntransaction.setSomme_verse(binding.sommeVerseDialog.getEditText().getText().toString());\ntransaction.setNum_ordre_enregistrement(binding.OrdreEnregistrementDialog.getEditText().getText().toString());\ntransaction.setClient(binding.clientDialog.getEditText().getText().toString());\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        binding=ActivityAjoutModificationBinding.inflate(getLayoutInflater());\n        View view = binding.getRoot();\n\n        //Initializing spinners\n        AppDatabase appDatabase;\n        appDatabase=AppDatabase.getDbIntance(this);\n        Transaction transaction = new Transaction();\n        List&lt;String&gt; TypeOperation=new ArrayList&lt;&gt;();\n        List&lt;String&gt; ModePaiement=new ArrayList&lt;&gt;();\n        List&lt;String&gt; client_list=new ArrayList&lt;&gt;();\n\n        if(TypeOperation.isEmpty())\n        {\n            TypeOperation.add(&quot;Crance&quot;);\n            TypeOperation.add(&quot;Dette&quot;);\n            TypeOperation.add(&quot;Versement&quot;);\n        }else{\n            TypeOperation.clear();\n        }\n\n\n        if(ModePaiement.isEmpty()){\n            ModePaiement.add(&quot;Chque&quot;);\n            ModePaiement.add(&quot;Espces&quot;);\n        }else{\n            ModePaiement.clear();\n        }\n\n        if(client_list.isEmpty()){\n            client_list.add(&quot;CSPS du l'EST&quot;);\n            client_list.add(&quot;CSPS du l'OUEST&quot;);\n            client_list.add(&quot;CSPS du NORD&quot;);\n            client_list.add(&quot;CSPS du SUD&quot;);\n        }else{\n            client_list.clear();\n        }\n\n        //Liste du Mode de paiement\n        ArrayAdapter&lt;String&gt; mode_paiement_adapter = new ArrayAdapter&lt;&gt;(this, R.layout.list_item,ModePaiement);\n        MaterialAutoCompleteTextView mode_paiement_autoCompleteTextView = (MaterialAutoCompleteTextView) binding.modePaiementDialog.getEditText();\n        assert mode_paiement_autoCompleteTextView != null;\n        mode_paiement_autoCompleteTextView.setAdapter(mode_paiement_adapter );\n        //Liste de Type d'operation\n        ArrayAdapter&lt;String&gt; type_operation_adapter = new ArrayAdapter&lt;&gt;(this, R.layout.list_item,TypeOperation);\n        MaterialAutoCompleteTextView type_operation_autoCompleteTextView = (MaterialAutoCompleteTextView)binding.typeOperationDialog.getEditText();\n        assert type_operation_autoCompleteTextView != null;\n        type_operation_autoCompleteTextView.setAdapter(type_operation_adapter);\n        //Liste des clients\n        ArrayAdapter&lt;String&gt; client_adapter = new ArrayAdapter&lt;&gt;(this, R.layout.list_item,client_list);\n        MaterialAutoCompleteTextView client_autoCompleteTextView = (MaterialAutoCompleteTextView)binding.clientDialog.getEditText();\n        assert client_autoCompleteTextView != null;\n        client_autoCompleteTextView.setAdapter(client_adapter);\n\n        //Setting object Transaction\n        transaction.setDate(binding.realDate.getText().toString());\n        transaction.setNum_facture(binding.factureDialog.getEditText().getText().toString());\n        if(binding.factureDialog.getEditText().getText().toString().isEmpty()){\n            Log.d(&quot;info1&quot;,&quot;there is not facture&quot;);\n        }else{\n            Log.d(&quot;info1&quot;,&quot;there is facture&quot;);\n        }\n        Log.d(&quot;TAG!&quot;,binding.factureDialog.getEditText().getText().toString());\n        transaction.setMontant_initial(binding.montantInitialDialog.getEditText().getText().toString());\n        transaction.setSomme_verse(binding.sommeVerseDialog.getEditText().getText().toString());\n        transaction.setNum_ordre_enregistrement(binding.OrdreEnregistrementDialog.getEditText().getText().toString());\n        transaction.setClient(binding.clientDialog.getEditText().getText().toString());\n\n        //Insrer transaction dans BD\n        binding.enregistrer.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                appDatabase.transactionDao().insert(transaction);\n\n            }\n        });\n\n        //Picking date\n        final Calendar myCalendar= Calendar.getInstance();\n        DatePickerDialog.OnDateSetListener select_date = (v, year, month, day) -&gt; {\n            myCalendar.set(Calendar.YEAR, year);\n            myCalendar.set(Calendar.MONTH,month);\n            myCalendar.set(Calendar.DAY_OF_MONTH,day);\n            String myFormat=&quot;yy/MM/dd&quot;;\n            SimpleDateFormat dateFormat=new SimpleDateFormat(myFormat, Locale.FRENCH);\n            binding.realDate.setText(dateFormat.format(myCalendar.getTime()));\n\n        };\n        binding.realDate.setOnClickListener(v -&gt; new DatePickerDialog(this,select_date,myCalendar.get(Calendar.YEAR),myCalendar.get(Calendar.MONTH),myCalendar.get(Calendar.DAY_OF_MONTH)).show());\n\n        binding.retour.setOnClickListener(v-&gt;{\n                finish();\n                }\n                );\n\n        setContentView(view);\n    }\n\n\npackage com.xxxxxxxxxxx.xxxxxxxxx.xxx.main.DetteCreance;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.annotation.SuppressLint;\nimport android.app.DatePickerDialog;\nimport android.app.Dialog;\nimport android.content.Context;\nimport android.graphics.Color;\nimport android.graphics.drawable.ColorDrawable;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.view.Window;\nimport android.widget.ArrayAdapter;\n\nimport com.google.android.material.button.MaterialButton;\nimport com.google.android.material.textfield.MaterialAutoCompleteTextView;\nimport com.google.android.material.textfield.TextInputEditText;\nimport com.google.android.material.textfield.TextInputLayout;\nimport com.ticanalyse.mheath.bf.R;\nimport com.ticanalyse.mheath.bf.databinding.ActivityAjoutModificationBinding;\nimport com.ticanalyse.mheath.bf.databinding.FragmentAjoutModificationDialogBinding;\nimport com.ticanalyse.mheath.bf.db.AppDatabase;\nimport com.ticanalyse.mheath.bf.db.entities.Transaction;\n\nimport java.text.SimpleDateFormat;\nimport java.util.ArrayList;\nimport java.util.Calendar;\nimport java.util.List;\nimport java.util.Locale;\n\npublic class AjoutModificationActivity extends AppCompatActivity {\n\n    ActivityAjoutModificationBinding binding;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        binding=ActivityAjoutModificationBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n        //Initializing spinners\n        AppDatabase appDatabase;\n        appDatabase=AppDatabase.getDbIntance(this);\n        Transaction transaction = new Transaction();\n        List&lt;String&gt; TypeOperation=new ArrayList&lt;&gt;();\n        List&lt;String&gt; ModePaiement=new ArrayList&lt;&gt;();\n        List&lt;String&gt; client_list=new ArrayList&lt;&gt;();\n\n        if(TypeOperation.isEmpty())\n        {\n            TypeOperation.add(&quot;Crance&quot;);\n            TypeOperation.add(&quot;Dette&quot;);\n            TypeOperation.add(&quot;Versement&quot;);\n        }else{\n            TypeOperation.clear();\n        }\n\n\n        if(ModePaiement.isEmpty()){\n            ModePaiement.add(&quot;Chque&quot;);\n            ModePaiement.add(&quot;Espces&quot;);\n        }else{\n            ModePaiement.clear();\n        }\n\n        if(client_list.isEmpty()){\n            client_list.add(&quot;CSPS du l'EST&quot;);\n            client_list.add(&quot;CSPS du l'OUEST&quot;);\n            client_list.add(&quot;CSPS du NORD&quot;);\n            client_list.add(&quot;CSPS du SUD&quot;);\n        }else{\n            client_list.clear();\n        }\n\n        //Liste du Mode de paiement\n        ArrayAdapter&lt;String&gt; mode_paiement_adapter = new ArrayAdapter&lt;&gt;(this, R.layout.list_item,ModePaiement);\n        MaterialAutoCompleteTextView mode_paiement_autoCompleteTextView = (MaterialAutoCompleteTextView) binding.modePaiementDialog.getEditText();\n        assert mode_paiement_autoCompleteTextView != null;\n        mode_paiement_autoCompleteTextView.setAdapter(mode_paiement_adapter );\n        //Liste de Type d'operation\n        ArrayAdapter&lt;String&gt; type_operation_adapter = new ArrayAdapter&lt;&gt;(this, R.layout.list_item,TypeOperation);\n        MaterialAutoCompleteTextView type_operation_autoCompleteTextView = (MaterialAutoCompleteTextView)binding.typeOperationDialog.getEditText();\n        assert type_operation_autoCompleteTextView != null;\n        type_operation_autoCompleteTextView.setAdapter(type_operation_adapter);\n        //Liste des clients\n        ArrayAdapter&lt;String&gt; client_adapter = new ArrayAdapter&lt;&gt;(this, R.layout.list_item,client_list);\n        MaterialAutoCompleteTextView client_autoCompleteTextView = (MaterialAutoCompleteTextView)binding.clientDialog.getEditText();\n        assert client_autoCompleteTextView != null;\n        client_autoCompleteTextView.setAdapter(client_adapter);\n\n\n        //Setting object Transaction\n        transaction.setDate(binding.realDate.getText().toString());\n        transaction.setNum_facture(binding.factureDialog.getEditText().getText().toString());\n        if(binding.factureDialog.getEditText().getText().toString().isEmpty()){\n            Log.d(&quot;info1&quot;,&quot;there is not facture&quot;);\n        }else{\n            Log.d(&quot;info1&quot;,&quot;there is facture&quot;);\n        }\n        Log.d(&quot;TAG!&quot;,binding.factureDialog.getEditText().getText().toString());\n        transaction.setMontant_initial(binding.montantInitialDialog.getEditText().getText().toString());\n        transaction.setSomme_verse(binding.sommeVerseDialog.getEditText().getText().toString());\n        transaction.setNum_ordre_enregistrement(binding.OrdreEnregistrementDialog.getEditText().getText().toString());\n        transaction.setClient(binding.clientDialog.getEditText().getText().toString());\n\n        //Insrer transaction dans BD\n        binding.enregistrer.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                appDatabase.transactionDao().insert(transaction);\n\n            }\n        });\n\n        //Picking date\n        final Calendar myCalendar= Calendar.getInstance();\n        DatePickerDialog.OnDateSetListener select_date = (v, year, month, day) -&gt; {\n            myCalendar.set(Calendar.YEAR, year);\n            myCalendar.set(Calendar.MONTH,month);\n            myCalendar.set(Calendar.DAY_OF_MONTH,day);\n            String myFormat=&quot;yy/MM/dd&quot;;\n            SimpleDateFormat dateFormat=new SimpleDateFormat(myFormat, Locale.FRENCH);\n            binding.realDate.setText(dateFormat.format(myCalendar.getTime()));\n\n        };\n        binding.realDate.setOnClickListener(v -&gt; new DatePickerDialog(this,select_date,myCalendar.get(Calendar.YEAR),myCalendar.get(Calendar.MONTH),myCalendar.get(Calendar.DAY_OF_MONTH)).show());\n\n        binding.retour.setOnClickListener(v-&gt;{\n                    finish();\n                }\n        );\n    }\n\n}\n\n\n</code></pre>\n<p>When i check the different fields of the instance :&quot;transaction&quot; , it returns me an empty object . Could you help me please ?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":13694976,"reputation":1797,"user_id":9881903,"display_name":"GHH"},"score":0,"creation_date":1667549356,"post_id":74313834,"comment_id":131196835,"body_markdown":"Don&#39; need to recreate adapter every time, and use `notifyItemChanged(position)` to update your data.","body":"Don&#39; need to recreate adapter every time, and use <code>notifyItemChanged(position)</code> to update your data."},{"owner":{"account_id":25437384,"reputation":17,"user_id":19240900,"display_name":"CMRyle"},"score":0,"creation_date":1667549798,"post_id":74313834,"comment_id":131196947,"body_markdown":"Hi, thanks for the reply. I would like to ask where to put that line of code? Thank you","body":"Hi, thanks for the reply. I would like to ask where to put that line of code? Thank you"}],"answers":[{"tags":[],"owner":{"account_id":12234066,"reputation":566,"user_id":8929068,"display_name":"Top4o"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667549690,"creation_date":1667549690,"answer_id":74313957,"question_id":74313834,"body_markdown":"To achieve that you will have to use **RecyclerView DiffUtill** class, more info here:\r\n\r\nhttps://developer.android.com/reference/androidx/recyclerview/widget/DiffUtil\r\n\r\nIn a nutshell you have to create a diff util class:\r\n\r\n    class CustomItemDiffUtils(\r\n        private val oldList: List&lt;CustomItem&gt;,\r\n        private val newList: List&lt;CustomItem&gt;\r\n    ) : DiffUtil.Callback() {\r\n    \r\n        override fun getOldListSize(): Int = oldList.size\r\n    \r\n        override fun getNewListSize(): Int = newList.size\r\n    \r\n        override fun areItemsTheSame(oldItemPosition: Int, newItemPosition: Int): Boolean {\r\n            return oldList[oldItemPosition] == newList[newItemPosition]\r\n        }\r\n    \r\n        override fun areContentsTheSame(oldItemPosition: Int, newItemPosition: Int): Boolean {\r\n            return oldList[oldItemPosition].data == newList[newItemPosition].data\r\n        }\r\n    }\r\n\r\nAnd use this diff class in your adapter fro example with a method which can be called from the view:\r\n\r\n    fun updateList(newList: List&lt;CustomItem&gt;) {\r\n            val diffResult = DiffUtil.calculateDiff(CustomItemDiffUtils(oldList, newList))\r\n            oldList = newList\r\n            diffResult.dispatchUpdatesTo(this)\r\n        }\r\n\r\nHope this helps.","title":"How to prevent RecyclerView from refreshing all the datas when a newly data has been added?","body":"<p>To achieve that you will have to use <strong>RecyclerView DiffUtill</strong> class, more info here:</p>\n<p><a href=\"https://developer.android.com/reference/androidx/recyclerview/widget/DiffUtil\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/androidx/recyclerview/widget/DiffUtil</a></p>\n<p>In a nutshell you have to create a diff util class:</p>\n<pre><code>class CustomItemDiffUtils(\n    private val oldList: List&lt;CustomItem&gt;,\n    private val newList: List&lt;CustomItem&gt;\n) : DiffUtil.Callback() {\n\n    override fun getOldListSize(): Int = oldList.size\n\n    override fun getNewListSize(): Int = newList.size\n\n    override fun areItemsTheSame(oldItemPosition: Int, newItemPosition: Int): Boolean {\n        return oldList[oldItemPosition] == newList[newItemPosition]\n    }\n\n    override fun areContentsTheSame(oldItemPosition: Int, newItemPosition: Int): Boolean {\n        return oldList[oldItemPosition].data == newList[newItemPosition].data\n    }\n}\n</code></pre>\n<p>And use this diff class in your adapter fro example with a method which can be called from the view:</p>\n<pre><code>fun updateList(newList: List&lt;CustomItem&gt;) {\n        val diffResult = DiffUtil.calculateDiff(CustomItemDiffUtils(oldList, newList))\n        oldList = newList\n        diffResult.dispatchUpdatesTo(this)\n    }\n</code></pre>\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":25437384,"reputation":17,"user_id":19240900,"display_name":"CMRyle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667558230,"creation_date":1667558230,"answer_id":74315659,"question_id":74313834,"body_markdown":"I fixed the problem by removing the line:\r\n```\r\n Query orderPosts = ChatRef.orderByChild(&quot;servertimestamp&quot;);\r\n\r\n       options = new FirebaseRecyclerOptions.Builder&lt;Chat&gt;().setQuery(orderPosts, Chat.class).build();\r\n```\r\n\r\nRemoving that 2 lines of code from that method and putting it somewhere else inside the Activity fixed the blinking problem of my app when a new data has been added.","title":"How to prevent RecyclerView from refreshing all the datas when a newly data has been added?","body":"<p>I fixed the problem by removing the line:</p>\n<pre><code> Query orderPosts = ChatRef.orderByChild(&quot;servertimestamp&quot;);\n\n       options = new FirebaseRecyclerOptions.Builder&lt;Chat&gt;().setQuery(orderPosts, Chat.class).build();\n</code></pre>\n<p>Removing that 2 lines of code from that method and putting it somewhere else inside the Activity fixed the blinking problem of my app when a new data has been added.</p>\n"}],"owner":{"account_id":25437384,"reputation":17,"user_id":19240900,"display_name":"CMRyle"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667558230,"creation_date":1667548935,"question_id":74313834,"body_markdown":"I&#39;m creating a simple chat app wherein every chatbubbles will be shown in a RecyclerView, now I noticed that every time ill enter a new data coming from Firebase RealTime Database, the old data&#39;s / or let&#39;s say the old chat bubbles will disappear and reappear once the newly added data has been displayed. I would like the old chat bubbles to not behave just like that, I would like it to remain appeared the whole time.\r\n\r\nHere&#39;s my method to load every chatbubbles:\r\n```\r\nprivate void LoadChat() {\r\n\r\n\r\n        Query orderPosts = ChatRef.orderByChild(&quot;servertimestamp&quot;);\r\n\r\n        options = new FirebaseRecyclerOptions.Builder&lt;Chat&gt;().setQuery(orderPosts, Chat.class).build();\r\n        adapter = new FirebaseRecyclerAdapter&lt;Chat, MyViewHolder12&gt;(options) {\r\n            @Override\r\n            protected void onBindViewHolder(@NonNull MyViewHolder12 holder, int position, @NonNull Chat model) {\r\n                final String userpower = model.getPower();\r\n                final String pow = &quot;Admin&quot;;\r\n\r\n                if (userpower.equals(pow)){\r\n                    holder.chat_userpower.setVisibility(View.VISIBLE);\r\n                    holder.chat_userpower.setText(model.getPower());\r\n\r\n                }\r\n                else{\r\n                    holder.chat_userpower.setVisibility(View.GONE);\r\n                }\r\n\r\n                final String quotedc = model.getQuotedchat();\r\n                final String quotedn = model.getQuotedname();\r\n\r\n                if (quotedc == null){\r\n                    holder.quotedchatbox.setVisibility(View.GONE);\r\n                    holder.quotedchatboxlayout.setVisibility(View.GONE);\r\n                    holder.quotedchatdescription.setVisibility(View.GONE);\r\n                }\r\n                else{\r\n                    holder.quotedchatboxlayout.setVisibility(View.VISIBLE);\r\n                    holder.quotedchatbox.setVisibility(View.VISIBLE);\r\n                    holder.quotedchatdescription.setVisibility(View.VISIBLE);\r\n                    holder.quotedchatdescription.setText(&quot;Quoted &quot;+ model.getQuotedname() +&quot; &quot; + model.getQuotedchat());\r\n                }\r\n\r\n\r\n                holder.chat_usercomment.setText(model.getChat());\r\n                Picasso.get().load(model.getProfileimage()).placeholder(R.drawable.profile).into(holder.chat_userimage);\r\n                holder.chat_userdep.setText(model.getDep());\r\n                holder.chat_date.setText(model.getDate());\r\n                holder.chat_username.setText(model.getUsername());\r\n\r\n                holder.nestedchat_reply.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        quote = true;\r\n                        quotedname = model.getUsername();\r\n                        //CommentKey = getRef(holder.getAdapterPosition()).getKey();\r\n                        quoting.setVisibility(View.VISIBLE);\r\n                        quotedchat = model.getChat();\r\n                        quoting.setText(&quot;Quoting &quot;+ quotedname + &quot;: &quot; + model.getChat());\r\n                        quoting.setOnClickListener(new View.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(View v) {\r\n                                quote = false;\r\n                                quoting.setVisibility(View.GONE);\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n\r\n            }\r\n\r\n            @NonNull\r\n            @Override\r\n            public MyViewHolder12 onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n                View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.allchatlayout, parent, false);\r\n                return new MyViewHolder12(view);\r\n            }\r\n        };\r\n        adapter.startListening();\r\n        allchatlist.setAdapter(adapter);\r\n    }\r\n```\r\n\r\nhere&#39;s my layoutmanager:\r\n```\r\n LinearLayoutManager lm = new LinearLayoutManager(this);\r\n        lm.setReverseLayout(false);\r\n        lm.setStackFromEnd(false);\r\n        allchatlist.setNestedScrollingEnabled(false);\r\n        allchatlist.setLayoutManager(lm);\r\n```\r\n\r\nhere&#39;s my code calling the method:\r\n```\r\n ChatRef = FirebaseDatabase.getInstance().getReference().child(&quot;Forums&quot;).child(ChatRoomNameKey).child(&quot;Forum ChatRoom&quot;);\r\n        ChatRef.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                if (snapshot.exists()){\r\n                    LoadChat();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n```","title":"How to prevent RecyclerView from refreshing all the datas when a newly data has been added?","body":"<p>I'm creating a simple chat app wherein every chatbubbles will be shown in a RecyclerView, now I noticed that every time ill enter a new data coming from Firebase RealTime Database, the old data's / or let's say the old chat bubbles will disappear and reappear once the newly added data has been displayed. I would like the old chat bubbles to not behave just like that, I would like it to remain appeared the whole time.</p>\n<p>Here's my method to load every chatbubbles:</p>\n<pre><code>private void LoadChat() {\n\n\n        Query orderPosts = ChatRef.orderByChild(&quot;servertimestamp&quot;);\n\n        options = new FirebaseRecyclerOptions.Builder&lt;Chat&gt;().setQuery(orderPosts, Chat.class).build();\n        adapter = new FirebaseRecyclerAdapter&lt;Chat, MyViewHolder12&gt;(options) {\n            @Override\n            protected void onBindViewHolder(@NonNull MyViewHolder12 holder, int position, @NonNull Chat model) {\n                final String userpower = model.getPower();\n                final String pow = &quot;Admin&quot;;\n\n                if (userpower.equals(pow)){\n                    holder.chat_userpower.setVisibility(View.VISIBLE);\n                    holder.chat_userpower.setText(model.getPower());\n\n                }\n                else{\n                    holder.chat_userpower.setVisibility(View.GONE);\n                }\n\n                final String quotedc = model.getQuotedchat();\n                final String quotedn = model.getQuotedname();\n\n                if (quotedc == null){\n                    holder.quotedchatbox.setVisibility(View.GONE);\n                    holder.quotedchatboxlayout.setVisibility(View.GONE);\n                    holder.quotedchatdescription.setVisibility(View.GONE);\n                }\n                else{\n                    holder.quotedchatboxlayout.setVisibility(View.VISIBLE);\n                    holder.quotedchatbox.setVisibility(View.VISIBLE);\n                    holder.quotedchatdescription.setVisibility(View.VISIBLE);\n                    holder.quotedchatdescription.setText(&quot;Quoted &quot;+ model.getQuotedname() +&quot; &quot; + model.getQuotedchat());\n                }\n\n\n                holder.chat_usercomment.setText(model.getChat());\n                Picasso.get().load(model.getProfileimage()).placeholder(R.drawable.profile).into(holder.chat_userimage);\n                holder.chat_userdep.setText(model.getDep());\n                holder.chat_date.setText(model.getDate());\n                holder.chat_username.setText(model.getUsername());\n\n                holder.nestedchat_reply.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View v) {\n                        quote = true;\n                        quotedname = model.getUsername();\n                        //CommentKey = getRef(holder.getAdapterPosition()).getKey();\n                        quoting.setVisibility(View.VISIBLE);\n                        quotedchat = model.getChat();\n                        quoting.setText(&quot;Quoting &quot;+ quotedname + &quot;: &quot; + model.getChat());\n                        quoting.setOnClickListener(new View.OnClickListener() {\n                            @Override\n                            public void onClick(View v) {\n                                quote = false;\n                                quoting.setVisibility(View.GONE);\n                            }\n                        });\n                    }\n                });\n\n            }\n\n            @NonNull\n            @Override\n            public MyViewHolder12 onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n                View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.allchatlayout, parent, false);\n                return new MyViewHolder12(view);\n            }\n        };\n        adapter.startListening();\n        allchatlist.setAdapter(adapter);\n    }\n</code></pre>\n<p>here's my layoutmanager:</p>\n<pre><code> LinearLayoutManager lm = new LinearLayoutManager(this);\n        lm.setReverseLayout(false);\n        lm.setStackFromEnd(false);\n        allchatlist.setNestedScrollingEnabled(false);\n        allchatlist.setLayoutManager(lm);\n</code></pre>\n<p>here's my code calling the method:</p>\n<pre><code> ChatRef = FirebaseDatabase.getInstance().getReference().child(&quot;Forums&quot;).child(ChatRoomNameKey).child(&quot;Forum ChatRoom&quot;);\n        ChatRef.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                if (snapshot.exists()){\n                    LoadChat();\n                }\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n</code></pre>\n"},{"tags":["java","spring-cloud-stream","spring-cloud-dataflow"],"comments":[{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1667559429,"post_id":74315636,"comment_id":131200166,"body_markdown":"You can&#39;t return a stream of persistent objects out of a transaction","body":"You can&#39;t return a stream of persistent objects out of a transaction"},{"owner":{"account_id":542971,"reputation":4139,"user_id":911963,"accept_rate":74,"display_name":"Juzer Ali"},"score":0,"creation_date":1667559989,"post_id":74315636,"comment_id":131200377,"body_markdown":"&#128546;! Well that&#39;s a bummer. What else can I do to prevent all the results loading in memory? Can I convert them into a DTO and send? Alternatively, can I send them to output channel programmatically from within a transaction?","body":"! Well that&#39;s a bummer. What else can I do to prevent all the results loading in memory? Can I convert them into a DTO and send? Alternatively, can I send them to output channel programmatically from within a transaction?"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1667563076,"post_id":74315636,"comment_id":131201410,"body_markdown":"I don&#39;t know what you&#39;re planning to do with the results, but you have basically two options: 1) do whatever you have to do during the transaction 2) save the results in a local intermediate storage (file)","body":"I don&#39;t know what you&#39;re planning to do with the results, but you have basically two options: 1) do whatever you have to do during the transaction 2) save the results in a local intermediate storage (file)"},{"owner":{"account_id":542971,"reputation":4139,"user_id":911963,"accept_rate":74,"display_name":"Juzer Ali"},"score":0,"creation_date":1667587926,"post_id":74315636,"comment_id":131210217,"body_markdown":"I am planning to send them to kafka topic","body":"I am planning to send them to kafka topic"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1667810204,"post_id":74315636,"comment_id":131247515,"body_markdown":"I would try the first approach","body":"I would try the first approach"},{"owner":{"account_id":80984,"reputation":825,"user_id":228649,"display_name":"Corneil du Plessis"},"score":0,"creation_date":1670598666,"post_id":74315636,"comment_id":131917572,"body_markdown":"I suggest exploring the JPA finder method returning a Flux and then you also return a Flux from the apply method by mapping from result.","body":"I suggest exploring the JPA finder method returning a Flux and then you also return a Flux from the apply method by mapping from result."}],"owner":{"account_id":542971,"reputation":4139,"user_id":911963,"accept_rate":74,"display_name":"Juzer Ali"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667558119,"creation_date":1667558119,"question_id":74315636,"body_markdown":"I have a SCDF processor which produces multiple outputs per input. The list of outputs could be rather large. That&#39;s why I was thinking of streaming the results from JPA repository.\r\n\r\n\r\n\r\n```java\r\n@Service\r\npublic class ProcessorFunction implements Function&lt;Parent, Stream&lt;Message&lt;Child&gt;&gt;&gt; {\r\n\r\n    @Autowired\r\n    private ChildRepository repo;\r\n\r\n    @Override\r\n    @Transactional(readOnly = true)\r\n    public Stream&lt;Message&lt;Child&gt;&gt; apply(Parent parent) {\r\n        try (var stream = repo.findByParentId(parent.getId())) {\r\n            return stream.map(GenericMessage::new);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npublic interface ChildRepository extends  JpaRepository&lt;Child, Long&gt; {\r\n  \r\n  Stream&lt;Child&gt; FindByParentId(long id);\r\n}\r\n```\r\n\r\nI expected that the stream will send the list of output on the output channel. However, only `null` values are being sent.\r\n\r\nI have gone through [spring-cloud-dataflow document](https://docs.spring.io/spring-cloud-dataflow-samples/docs/current/reference/htmlsingle/#_configuring_the_scdf_server) as well as spring-cloud-stream documentation but could not find my use case.\r\n\r\nKindly help!\r\n","title":"One-to-Many Processor streaming with JPA","body":"<p>I have a SCDF processor which produces multiple outputs per input. The list of outputs could be rather large. That's why I was thinking of streaming the results from JPA repository.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class ProcessorFunction implements Function&lt;Parent, Stream&lt;Message&lt;Child&gt;&gt;&gt; {\n\n    @Autowired\n    private ChildRepository repo;\n\n    @Override\n    @Transactional(readOnly = true)\n    public Stream&lt;Message&lt;Child&gt;&gt; apply(Parent parent) {\n        try (var stream = repo.findByParentId(parent.getId())) {\n            return stream.map(GenericMessage::new);\n        }\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public interface ChildRepository extends  JpaRepository&lt;Child, Long&gt; {\n  \n  Stream&lt;Child&gt; FindByParentId(long id);\n}\n</code></pre>\n<p>I expected that the stream will send the list of output on the output channel. However, only <code>null</code> values are being sent.</p>\n<p>I have gone through <a href=\"https://docs.spring.io/spring-cloud-dataflow-samples/docs/current/reference/htmlsingle/#_configuring_the_scdf_server\" rel=\"nofollow noreferrer\">spring-cloud-dataflow document</a> as well as spring-cloud-stream documentation but could not find my use case.</p>\n<p>Kindly help!</p>\n"},{"tags":["java","google-cloud-platform","gcs"],"answers":[{"tags":[],"owner":{"account_id":25424871,"reputation":3003,"user_id":19230181,"display_name":"Hemanth Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667558008,"creation_date":1667557587,"answer_id":74315501,"question_id":74312920,"body_markdown":"The recommended way to use Google Cloud Storage from Java is to use the [Cloud Storage Client Libraries][1].\r\n\r\nBelow sample code as an example of how to upload objects to Google Cloud Storage using the client library:\r\n\r\n    import com.google.cloud.storage.Storage;\r\n    import com.google.cloud.storage.StorageOptions;\r\n    import static java.nio.charset.StandardCharsets.UTF_8;\r\n    import com.google.cloud.storage.Blob;\r\n    import com.google.cloud.storage.Bucket;\r\n    import com.google.cloud.storage.BucketInfo;\r\n    \r\n    // You need to Create your service object : \r\n    Storage storage = StorageOptions.getDefaultInstance().getService();\r\n    \r\n    // You need Create a bucket : \r\n    String bucketName = &quot;my_unique_bucket&quot;; // Change this to something unique\r\n    Bucket bucket = storage.create(BucketInfo.of(bucketName));\r\n    \r\n    // Upload a blob to the newly created bucket\r\n    BlobId blobId = BlobId.of(bucketName, &quot;my_blob_name&quot;);\r\n    BlobInfo blobInfo = BlobInfo.newBuilder(blobId).setContentType(&quot;text/plain&quot;).build();\r\n    Blob blob = storage.create(blobInfo, &quot;a simple blob&quot;.getBytes(UTF_8));\r\n\r\n  Refer this [SO][2] Link for more information on file upload using Java.\r\n\r\nfor 415 unsupported media type errors : refer to these [Link1][3], [Link2][4] which helps you in resolving this concern. \r\n\r\n\r\n  [1]: https://cloud.google.com/storage/docs/reference/libraries\r\n  [2]: https://stackoverflow.com/a/51370070/19230181\r\n  [3]: https://stackoverflow.com/questions/42670413/unsupported-media-type-in-postman\r\n  [4]: https://stackoverflow.com/questions/66248460/415-unsupported-media-type-on-postman","title":"How to upload a file to GCS bucket using java","body":"<p>The recommended way to use Google Cloud Storage from Java is to use the <a href=\"https://cloud.google.com/storage/docs/reference/libraries\" rel=\"nofollow noreferrer\">Cloud Storage Client Libraries</a>.</p>\n<p>Below sample code as an example of how to upload objects to Google Cloud Storage using the client library:</p>\n<pre><code>import com.google.cloud.storage.Storage;\nimport com.google.cloud.storage.StorageOptions;\nimport static java.nio.charset.StandardCharsets.UTF_8;\nimport com.google.cloud.storage.Blob;\nimport com.google.cloud.storage.Bucket;\nimport com.google.cloud.storage.BucketInfo;\n\n// You need to Create your service object : \nStorage storage = StorageOptions.getDefaultInstance().getService();\n\n// You need Create a bucket : \nString bucketName = &quot;my_unique_bucket&quot;; // Change this to something unique\nBucket bucket = storage.create(BucketInfo.of(bucketName));\n\n// Upload a blob to the newly created bucket\nBlobId blobId = BlobId.of(bucketName, &quot;my_blob_name&quot;);\nBlobInfo blobInfo = BlobInfo.newBuilder(blobId).setContentType(&quot;text/plain&quot;).build();\nBlob blob = storage.create(blobInfo, &quot;a simple blob&quot;.getBytes(UTF_8));\n</code></pre>\n<p>Refer this <a href=\"https://stackoverflow.com/a/51370070/19230181\">SO</a> Link for more information on file upload using Java.</p>\n<p>for 415 unsupported media type errors : refer to these <a href=\"https://stackoverflow.com/questions/42670413/unsupported-media-type-in-postman\">Link1</a>, <a href=\"https://stackoverflow.com/questions/66248460/415-unsupported-media-type-on-postman\">Link2</a> which helps you in resolving this concern.</p>\n"}],"owner":{"account_id":7666135,"reputation":33,"user_id":5809808,"display_name":"Anu Priya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2784,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667558008,"creation_date":1667542853,"question_id":74312920,"body_markdown":"    I am new to GCP and I want to upload a pem file to a particular bucket using java sdk. I followed the below code.\r\n    Storage storage = StorageOptions.getDefaultInstance().getService();\r\n    \r\n    // Create a bucket\r\n    String bucketName = &quot;my_unique_bucket&quot;; // Change this to something unique\r\n    Bucket bucket = storage.create(BucketInfo.of(bucketName));\r\n    \r\n    // Upload a blob to the newly created bucket\r\n    BlobId blobId = BlobId.of(bucketName, &quot;my_blob_name&quot;);\r\n    BlobInfo blobInfo = BlobInfo.newBuilder(blobId).setContentType(&quot;text/plain&quot;).build();\r\n    Blob blob = storage.create(blobInfo, &quot;a simple blob&quot;.getBytes(UTF_8));\r\n        \r\nBut when i try to test this through postman i am getting 415 unsupported media type error.\r\n    \r\n    Can any one help me with this.\r\n    Thanks in advance","title":"How to upload a file to GCS bucket using java","body":"<pre><code>I am new to GCP and I want to upload a pem file to a particular bucket using java sdk. I followed the below code.\nStorage storage = StorageOptions.getDefaultInstance().getService();\n\n// Create a bucket\nString bucketName = &quot;my_unique_bucket&quot;; // Change this to something unique\nBucket bucket = storage.create(BucketInfo.of(bucketName));\n\n// Upload a blob to the newly created bucket\nBlobId blobId = BlobId.of(bucketName, &quot;my_blob_name&quot;);\nBlobInfo blobInfo = BlobInfo.newBuilder(blobId).setContentType(&quot;text/plain&quot;).build();\nBlob blob = storage.create(blobInfo, &quot;a simple blob&quot;.getBytes(UTF_8));\n    \n</code></pre>\n<p>But when i try to test this through postman i am getting 415 unsupported media type error.</p>\n<pre><code>Can any one help me with this.\nThanks in advance\n</code></pre>\n"},{"tags":["java","selenium","intellij-idea","automation"],"comments":[{"owner":{"account_id":5000619,"reputation":824,"user_id":4019775,"accept_rate":11,"display_name":"Nilamber Singh"},"score":0,"creation_date":1667557876,"post_id":73861464,"comment_id":131199570,"body_markdown":"can you please mention which selenium version you&#39;re using","body":"can you please mention which selenium version you&#39;re using"}],"answers":[{"tags":[],"owner":{"account_id":5000619,"reputation":824,"user_id":4019775,"accept_rate":11,"display_name":"Nilamber Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667557983,"creation_date":1667557983,"answer_id":74315600,"question_id":73861464,"body_markdown":"I stumbled upon the same issue after upgrading to selenium 4.5.3 and fixed it by adding the below dependencies for chrome and firefox drivers.\r\n\r\n        &lt;dependency&gt;\r\n      &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n      &lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\r\n      &lt;version&gt;4.5.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n      &lt;artifactId&gt;selenium-firefox-driver&lt;/artifactId&gt;\r\n      &lt;version&gt;4.5.3&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/openqa/selenium/interactions/HasTouchScreen","body":"<p>I stumbled upon the same issue after upgrading to selenium 4.5.3 and fixed it by adding the below dependencies for chrome and firefox drivers.</p>\n<pre><code>    &lt;dependency&gt;\n  &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n  &lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\n  &lt;version&gt;4.5.3&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n  &lt;artifactId&gt;selenium-firefox-driver&lt;/artifactId&gt;\n  &lt;version&gt;4.5.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":26066428,"reputation":21,"user_id":19766801,"display_name":"Hans Radam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4196,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667557983,"creation_date":1664242087,"question_id":73861464,"body_markdown":"    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.testng.annotations.AfterSuite;\r\n    import org.testng.annotations.BeforeSuite;\r\n    import org.testng.annotations.Test;\r\n  \r\n    public class TestPlan {\r\n        private static final WebDriver driver = new ChromeDriver();\r\n    \r\n        @BeforeSuite\r\n        public static void main(String[] args) {\r\n            // ChromeDriver location set up in Utils class\r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, Utils.CHROME_DRIVER_LOCATION);\r\n        }\r\n    \r\n        @Test(testName = &quot;Submit a WebForm&quot;)\r\n        public static void submitForm(){\r\n            driver.get(Utils.BASE_URL);\r\n            WebForm webForm = new WebForm(driver);\r\n            webForm.enterFirstName();\r\n            webForm.enterLastName();\r\n            webForm.pressSubmitButton();\r\n        }\r\n    \r\n        @AfterSuite\r\n        public static void cleanUp(){\r\n            driver.manage().deleteAllCookies();\r\n            driver.close();\r\n        }\r\n    }\r\n\r\n\r\n\r\nI can run this test please help me, having an error on this \r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/openqa/selenium/interactions/HasTouchScreen\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1013)\r\n\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\tat TestPlan.&lt;clinit&gt;(TestPlan.java:8)\r\nCaused by: java.lang.ClassNotFoundException: org.openqa.selenium.interactions.HasTouchScreen\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\t... 10 more\r\n```","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/openqa/selenium/interactions/HasTouchScreen","body":"<pre><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.testng.annotations.AfterSuite;\nimport org.testng.annotations.BeforeSuite;\nimport org.testng.annotations.Test;\n\npublic class TestPlan {\n    private static final WebDriver driver = new ChromeDriver();\n\n    @BeforeSuite\n    public static void main(String[] args) {\n        // ChromeDriver location set up in Utils class\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, Utils.CHROME_DRIVER_LOCATION);\n    }\n\n    @Test(testName = &quot;Submit a WebForm&quot;)\n    public static void submitForm(){\n        driver.get(Utils.BASE_URL);\n        WebForm webForm = new WebForm(driver);\n        webForm.enterFirstName();\n        webForm.enterLastName();\n        webForm.pressSubmitButton();\n    }\n\n    @AfterSuite\n    public static void cleanUp(){\n        driver.manage().deleteAllCookies();\n        driver.close();\n    }\n}\n</code></pre>\n<p>I can run this test please help me, having an error on this</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/openqa/selenium/interactions/HasTouchScreen\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1013)\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    at TestPlan.&lt;clinit&gt;(TestPlan.java:8)\nCaused by: java.lang.ClassNotFoundException: org.openqa.selenium.interactions.HasTouchScreen\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 10 more\n</code></pre>\n"},{"tags":["java","spring","testing"],"answers":[{"tags":[],"owner":{"account_id":6365827,"reputation":3652,"user_id":4939853,"accept_rate":69,"display_name":"Oreste Viron"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1524738222,"creation_date":1524738222,"answer_id":50040566,"question_id":50040460,"body_markdown":"If you have the time, I suggest you to read this :\r\nhttps://martinfowler.com/articles/microservice-testing/\r\n\r\nThe purpose of end-to-end testing is not to do 100% of line coverage.","title":"Spring microservice end-to-end testing","body":"<p>If you have the time, I suggest you to read this :\n<a href=\"https://martinfowler.com/articles/microservice-testing/\" rel=\"nofollow noreferrer\">https://martinfowler.com/articles/microservice-testing/</a></p>\n\n<p>The purpose of end-to-end testing is not to do 100% of line coverage.</p>\n"},{"tags":[],"owner":{"account_id":5421403,"reputation":943,"user_id":4314917,"accept_rate":80,"display_name":"Gurinder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1524738269,"creation_date":1524738269,"answer_id":50040583,"question_id":50040460,"body_markdown":"I would recommend you to use [Spring-cloud-contract][1]. It helps you in maintaining contract between your microservices(Producer-Consumer Contracts).\r\nIt&#39;s available for both HTTP based and event-based communication.\r\n\r\n  [1]: https://cloud.spring.io/spring-cloud-contract/","title":"Spring microservice end-to-end testing","body":"<p>I would recommend you to use <a href=\"https://cloud.spring.io/spring-cloud-contract/\" rel=\"nofollow noreferrer\">Spring-cloud-contract</a>. It helps you in maintaining contract between your microservices(Producer-Consumer Contracts).\nIt's available for both HTTP based and event-based communication.</p>\n"},{"tags":[],"owner":{"account_id":388928,"reputation":2941,"user_id":3692110,"display_name":"erosb"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1524738552,"creation_date":1524738552,"answer_id":50040683,"question_id":50040460,"body_markdown":"My first idea about this topic is that if it is an end-to-end test, then you should forget which framework do you use, because that relates to implementation in this context. So I would create a test project, which is essentially a docker-compose file, and defines 5 containers for\r\n\r\n *  service A\r\n *  service B\r\n *  RabbitMQ\r\n *  maybe database too, unless you want to stick to the in-memory approach\r\n *  and a separate container for running the tests\r\n\r\nFrom this perspective you have 2 ways of handling env-specific configuration:\r\n\r\n * you define test-specific config in a separate spring profile, and you activate it by defining the [`SPRING_PROFILES_ACTIVE`][1] env var in the docker-compose file\r\n * you  pass your config in a properties file, and mount it in the docker-compose file \r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/howto-properties-and-configuration.html#howto-set-active-spring-profiles\r\n\r\nThe test runner can be kept simple, I would write a JUnit-based test suite which uses RestAssured, or something similar.\r\n\r\nI hope this gives a clue. Of course it is a broad topic so going into every detail doesn&#39;t fit into a SO answer.","title":"Spring microservice end-to-end testing","body":"<p>My first idea about this topic is that if it is an end-to-end test, then you should forget which framework do you use, because that relates to implementation in this context. So I would create a test project, which is essentially a docker-compose file, and defines 5 containers for</p>\n\n<ul>\n<li>service A</li>\n<li>service B</li>\n<li>RabbitMQ</li>\n<li>maybe database too, unless you want to stick to the in-memory approach</li>\n<li>and a separate container for running the tests</li>\n</ul>\n\n<p>From this perspective you have 2 ways of handling env-specific configuration:</p>\n\n<ul>\n<li>you define test-specific config in a separate spring profile, and you activate it by defining the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto-properties-and-configuration.html#howto-set-active-spring-profiles\" rel=\"nofollow noreferrer\"><code>SPRING_PROFILES_ACTIVE</code></a> env var in the docker-compose file</li>\n<li>you  pass your config in a properties file, and mount it in the docker-compose file </li>\n</ul>\n\n<p>The test runner can be kept simple, I would write a JUnit-based test suite which uses RestAssured, or something similar.</p>\n\n<p>I hope this gives a clue. Of course it is a broad topic so going into every detail doesn't fit into a SO answer.</p>\n"},{"tags":[],"owner":{"account_id":1092304,"reputation":693,"user_id":1086679,"accept_rate":100,"display_name":"Liam Williams"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667557969,"creation_date":1667557969,"answer_id":74315598,"question_id":50040460,"body_markdown":"Another approach is to test each component in isolation and mock the dependent service on the other side of the RabbitMQ server. You can do this using an [async API simulation/mocking tool][1]. \r\n\r\nFor example you can use [Traffic Parrot][2] which can be run in a Docker container as part of your CI/CD pipeline.\r\n\r\nHere is a [video demo][3] of how you can use the tool to send mock response messages to a RabbitMQ queue in an [aysnc request/response pattern][4]. There is also a corresponding [tutorial available][5] to follow.\r\n\r\n[![Request/Response RabbitMQ pattern][6]][6]\r\n[![Recording gRPC messages][7]][7]\r\n[![Replaying gRPC messages][8]][8]\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Comparison_of_API_simulation_tools\r\n  [2]: https://trafficparrot.com\r\n  [3]: https://www.youtube.com/watch?v=YFYJHa3j3uc\r\n  [4]: https://dzone.com/articles/rabbitmq-request-response\r\n  [5]: https://trafficparrot.com/tutorials/service-virtualization-mocking-or-simulating-rabbitmq.html\r\n  [6]: https://trafficparrot.com/tutorials/img/rabbitmq/RabbitMQ_mocking_tutorial_systems_communicating_with_queues.png\r\n  [7]: https://trafficparrot.com/tutorials/img/rabbitmq/RabbitMQ_mocking_tutorial_testing_vegetable_order_processing_system_with_traffic_parrot.png\r\n  [8]: https://trafficparrot.com/tutorials/img/rabbitmq/fill_in_new_mapping_form.png","title":"Spring microservice end-to-end testing","body":"<p>Another approach is to test each component in isolation and mock the dependent service on the other side of the RabbitMQ server. You can do this using an <a href=\"https://en.wikipedia.org/wiki/Comparison_of_API_simulation_tools\" rel=\"nofollow noreferrer\">async API simulation/mocking tool</a>.</p>\n<p>For example you can use <a href=\"https://trafficparrot.com\" rel=\"nofollow noreferrer\">Traffic Parrot</a> which can be run in a Docker container as part of your CI/CD pipeline.</p>\n<p>Here is a <a href=\"https://www.youtube.com/watch?v=YFYJHa3j3uc\" rel=\"nofollow noreferrer\">video demo</a> of how you can use the tool to send mock response messages to a RabbitMQ queue in an <a href=\"https://dzone.com/articles/rabbitmq-request-response\" rel=\"nofollow noreferrer\">aysnc request/response pattern</a>. There is also a corresponding <a href=\"https://trafficparrot.com/tutorials/service-virtualization-mocking-or-simulating-rabbitmq.html\" rel=\"nofollow noreferrer\">tutorial available</a> to follow.</p>\n<p><a href=\"https://trafficparrot.com/tutorials/img/rabbitmq/RabbitMQ_mocking_tutorial_systems_communicating_with_queues.png\" rel=\"nofollow noreferrer\"><img src=\"https://trafficparrot.com/tutorials/img/rabbitmq/RabbitMQ_mocking_tutorial_systems_communicating_with_queues.png\" alt=\"Request/Response RabbitMQ pattern\" /></a>\n<a href=\"https://trafficparrot.com/tutorials/img/rabbitmq/RabbitMQ_mocking_tutorial_testing_vegetable_order_processing_system_with_traffic_parrot.png\" rel=\"nofollow noreferrer\"><img src=\"https://trafficparrot.com/tutorials/img/rabbitmq/RabbitMQ_mocking_tutorial_testing_vegetable_order_processing_system_with_traffic_parrot.png\" alt=\"Recording gRPC messages\" /></a>\n<a href=\"https://trafficparrot.com/tutorials/img/rabbitmq/fill_in_new_mapping_form.png\" rel=\"nofollow noreferrer\"><img src=\"https://trafficparrot.com/tutorials/img/rabbitmq/fill_in_new_mapping_form.png\" alt=\"Replaying gRPC messages\" /></a></p>\n"}],"owner":{"account_id":152722,"reputation":729,"user_id":367419,"accept_rate":100,"display_name":"gcasar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9776,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1667557969,"creation_date":1524737893,"question_id":50040460,"body_markdown":"I&#39;d like to write a end to end test for a pipeline, built with spring boot. \r\n\r\nConsider two microservices A, B where B consumes output from A and produces a RESTful API. They are connected using rabbitmq and rely on an external database.\r\n\r\n[![System scheme][1]][1]\r\n\r\n\r\nI would like to achieve something like:\r\n\r\n\r\n 1. Create a new project that includes both microservices\r\n 2. Create a test configuration that configures JPA provider to be an in-memory database\r\n 3. Inject custom MQ into A, B to connect them (rabbitmq is not tightly coupled)\r\n 4. Write tests\r\n\r\nEssentially replacing the white parts with mocks and testing the coloured parts.\r\n\r\nDoes this make sense? Test coverage of A and B is not complete and such a test would guarantee that the contract between A and B holds. Are there better ways?\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/moij3.png","title":"Spring microservice end-to-end testing","body":"<p>I'd like to write a end to end test for a pipeline, built with spring boot. </p>\n\n<p>Consider two microservices A, B where B consumes output from A and produces a RESTful API. They are connected using rabbitmq and rely on an external database.</p>\n\n<p><a href=\"https://i.stack.imgur.com/moij3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/moij3.png\" alt=\"System scheme\"></a></p>\n\n<p>I would like to achieve something like:</p>\n\n<ol>\n<li>Create a new project that includes both microservices</li>\n<li>Create a test configuration that configures JPA provider to be an in-memory database</li>\n<li>Inject custom MQ into A, B to connect them (rabbitmq is not tightly coupled)</li>\n<li>Write tests</li>\n</ol>\n\n<p>Essentially replacing the white parts with mocks and testing the coloured parts.</p>\n\n<p>Does this make sense? Test coverage of A and B is not complete and such a test would guarantee that the contract between A and B holds. Are there better ways?</p>\n"},{"tags":["java","data-structures","kdtree"],"comments":[{"owner":{"account_id":10525,"reputation":18129,"user_id":1715673,"accept_rate":86,"display_name":"Peter Wone"},"score":12,"creation_date":1225628984,"post_id":253767,"comment_id":115664,"body_markdown":"Looks like it&#39;s your turn to write something and give it away.","body":"Looks like it&#39;s your turn to write something and give it away."},{"owner":{"account_id":369969,"reputation":21500,"user_id":717630,"display_name":"grepit"},"score":2,"creation_date":1417897983,"post_id":253767,"comment_id":43129106,"body_markdown":"your first link is dead and your second link takes you to http://code.openhub.net/ ...please update or remove these links.","body":"your first link is dead and your second link takes you to <a href=\"http://code.openhub.net/\" rel=\"nofollow noreferrer\">code.openhub.net</a> ...please update or remove these links."}],"answers":[{"tags":[],"owner":{"account_id":1279,"reputation":20565,"user_id":1702,"accept_rate":90,"display_name":"Yuval F"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1225748373,"creation_date":1225748373,"answer_id":260055,"question_id":253767,"body_markdown":"Maybe [Nearest Neighbor Search][1] and [KD-trees][2] from the Stony-Brook algorithm repository can help.\r\n\r\n\r\n  [1]: http://www.cs.sunysb.edu/~algorith/files/nearest-neighbor.shtml\r\n  [2]: http://www.cs.sunysb.edu/~algorith/files/kd-trees.shtml","title":"KDTree Implementation in Java","body":"<p>Maybe <a href=\"http://www.cs.sunysb.edu/~algorith/files/nearest-neighbor.shtml\" rel=\"nofollow noreferrer\">Nearest Neighbor Search</a> and <a href=\"http://www.cs.sunysb.edu/~algorith/files/kd-trees.shtml\" rel=\"nofollow noreferrer\">KD-trees</a> from the Stony-Brook algorithm repository can help.</p>\n"},{"tags":[],"owner":{"account_id":13528,"reputation":4577,"user_id":27247,"accept_rate":88,"display_name":"Ichorus"},"down_vote_count":2,"up_vote_count":27,"is_accepted":true,"score":25,"last_activity_date":1225985181,"creation_date":1225985181,"answer_id":269103,"question_id":253767,"body_markdown":"In the book [Algorithms in a Nutshell][1] there is a kd tree implementation in java along with a few variations.  All of the code is on [oreilly.com][2] and the book itself also walk you through the algorithm so you could build one yourself.\r\n\r\n\r\n  [1]: http://oreilly.com/catalog/9780596516246/\r\n  [2]: http://examples.oreilly.com/9780596516246/","title":"KDTree Implementation in Java","body":"<p>In the book <a href=\"http://oreilly.com/catalog/9780596516246/\" rel=\"noreferrer\">Algorithms in a Nutshell</a> there is a kd tree implementation in java along with a few variations.  All of the code is on <a href=\"http://examples.oreilly.com/9780596516246/\" rel=\"noreferrer\">oreilly.com</a> and the book itself also walk you through the algorithm so you could build one yourself.</p>\n"},{"tags":[],"owner":{"account_id":25378,"reputation":2745,"user_id":65192,"accept_rate":81,"display_name":"Brian Harris"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1582299667,"creation_date":1273176764,"answer_id":2784138,"question_id":253767,"body_markdown":"I&#39;ve had success with Professor Levy&#39;s implementation found [here][1].  I realize you&#39;re looking for a more production-certified implementation so this is probably not a good fit.  \r\n\r\nHowever note to any passers-by, I&#39;ve been using it for a while now in my photomosaic project with no issues.  No guarantee but better than nothing :)\r\n\r\n\r\n  [1]: https://simondlevy.academic.wlu.edu/software/kd/","title":"KDTree Implementation in Java","body":"<p>I've had success with Professor Levy's implementation found <a href=\"https://simondlevy.academic.wlu.edu/software/kd/\" rel=\"nofollow noreferrer\">here</a>.  I realize you're looking for a more production-certified implementation so this is probably not a good fit.  </p>\n\n<p>However note to any passers-by, I've been using it for a while now in my photomosaic project with no issues.  No guarantee but better than nothing :)</p>\n"},{"tags":[],"owner":{"account_id":33949,"reputation":1184,"user_id":95461,"accept_rate":83,"display_name":"theosem"},"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1321269358,"creation_date":1321269358,"answer_id":8120760,"question_id":253767,"body_markdown":"for future seekers. Java-ml library has a kd-tree implementation that work fine.\r\nhttp://java-ml.sourceforge.net/ ","title":"KDTree Implementation in Java","body":"<p>for future seekers. Java-ml library has a kd-tree implementation that work fine.\n<a href=\"http://java-ml.sourceforge.net/\">http://java-ml.sourceforge.net/</a> </p>\n"},{"tags":[],"owner":{"account_id":4609002,"reputation":351,"user_id":3737647,"display_name":"AReallyGoodName"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1402663529,"creation_date":1402663529,"answer_id":24205657,"question_id":253767,"body_markdown":"I created a KD-Tree implementation as part of an offline reverse geocoding library\r\n\r\nhttps://github.com/AReallyGoodName/OfflineReverseGeocode","title":"KDTree Implementation in Java","body":"<p>I created a KD-Tree implementation as part of an offline reverse geocoding library</p>\n\n<p><a href=\"https://github.com/AReallyGoodName/OfflineReverseGeocode\" rel=\"noreferrer\">https://github.com/AReallyGoodName/OfflineReverseGeocode</a></p>\n"},{"tags":[],"owner":{"account_id":90734,"reputation":2071,"user_id":249623,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1415211317,"creation_date":1415211317,"answer_id":26764224,"question_id":253767,"body_markdown":"There is also [JTS Topology Suite][1]\r\n\r\nThe KdTree implementation only provides range search (no nearest-neighbors).\r\n\r\nIf nearest-neighbor is your thing look at [STRtree][2]\r\n\r\n\r\n  [1]: http://www.vividsolutions.com/jts/jtshome.htm &quot;JTS Topology Suite&quot;\r\n  [2]: http://www.vividsolutions.com/jts/javadoc/com/vividsolutions/jts/index/strtree/package-summary.html","title":"KDTree Implementation in Java","body":"<p>There is also <a href=\"http://www.vividsolutions.com/jts/jtshome.htm\" rel=\"nofollow\" title=\"JTS Topology Suite\">JTS Topology Suite</a></p>\n\n<p>The KdTree implementation only provides range search (no nearest-neighbors).</p>\n\n<p>If nearest-neighbor is your thing look at <a href=\"http://www.vividsolutions.com/jts/javadoc/com/vividsolutions/jts/index/strtree/package-summary.html\" rel=\"nofollow\">STRtree</a></p>\n"},{"tags":[],"owner":{"account_id":369969,"reputation":21500,"user_id":717630,"display_name":"grepit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1418592426,"creation_date":1418542840,"answer_id":27467323,"question_id":253767,"body_markdown":"You are correct, there are not that many sites with kd implementation for java! anyways, kd tree is basically a binary search tree which a median value typically is calculated each time for that dimension. Here is simple KDNode and in terms of nearest neighbor method or full implementation take a look at this [github][1] project. It was the best one I could find for you. Hope this helps you.\r\n\r\n    private class KDNode {\r\n        KDNode left;\r\n        KDNode right;\r\n        E val;\r\n        int depth;\r\n        private KDNode(E e, int depth){\r\n        this.left = null;\r\n        this.right = null;\r\n        this.val = e;\r\n        this.depth = depth;\r\n    }\r\n     \r\n\r\n\r\n\r\n  [1]: https://github.com/aerlinn/traffic/blob/8395c15b9a028ec06c394f1cab1b11b18749f9ce/src/edu/brown/cs32/cjm5/stars/KDTree.java","title":"KDTree Implementation in Java","body":"<p>You are correct, there are not that many sites with kd implementation for java! anyways, kd tree is basically a binary search tree which a median value typically is calculated each time for that dimension. Here is simple KDNode and in terms of nearest neighbor method or full implementation take a look at this <a href=\"https://github.com/aerlinn/traffic/blob/8395c15b9a028ec06c394f1cab1b11b18749f9ce/src/edu/brown/cs32/cjm5/stars/KDTree.java\" rel=\"nofollow\">github</a> project. It was the best one I could find for you. Hope this helps you.</p>\n\n<pre><code>private class KDNode {\n    KDNode left;\n    KDNode right;\n    E val;\n    int depth;\n    private KDNode(E e, int depth){\n    this.left = null;\n    this.right = null;\n    this.val = e;\n    this.depth = depth;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4941780,"reputation":1,"user_id":3978295,"display_name":"Gayathri"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1483205109,"creation_date":1483205109,"answer_id":41410420,"question_id":253767,"body_markdown":"    package kdtree;\r\n    \r\n    class KDNode{\r\n        KDNode left;\r\n        KDNode right;\r\n        int []data;\r\n        \r\n        public KDNode(){\r\n            left=null;\r\n            right=null;\r\n        }\r\n        \r\n        public KDNode(int []x){\r\n            left=null;\r\n            right=null;\r\n            data = new int[2];\r\n            for (int k = 0; k &lt; 2; k++)\r\n                data[k]=x[k];\r\n        }\r\n    }\r\n    class KDTreeImpl{\r\n        KDNode root;\r\n        int cd=0;\r\n        int DIM=2;\r\n    \r\n        public KDTreeImpl() {\r\n            root=null;\r\n        }\r\n        \r\n        public boolean isEmpty(){\r\n            return root == null;\r\n        }\r\n        \r\n        public void insert(int []x){\r\n            root = insert(x,root,cd);\r\n        }\r\n        private KDNode insert(int []x,KDNode t,int cd){\r\n            if (t == null)\r\n                t = new KDNode(x);\r\n            else if (x[cd] &lt; t.data[cd])\r\n                t.left = insert(x, t.left, (cd+1)%DIM);\r\n            else\r\n                t.right = insert(x, t.right, (cd+1)%DIM);\r\n            return t;\r\n        }\r\n        \r\n        public boolean search(int []data){\r\n            return search(data,root,0);\r\n        }\r\n        \r\n        private boolean search(int []x,KDNode t,int cd){\r\n            boolean found=false;\r\n            if(t==null){\r\n                return false;\r\n            }\r\n            else {\r\n                if(x[cd]==t.data[cd]){\r\n                    if(x[0]==t.data[0] &amp;&amp; x[1]==t.data[1]) \r\n                    return true;\r\n                }else if(x[cd]&lt;t.data[cd]){\r\n                    found = search(x,t.left,(cd+1)%DIM);\r\n                }else if(x[cd]&gt;t.data[cd]){\r\n                    found = search(x,t.right,(cd+1)%DIM);\r\n                }\r\n                return found;\r\n            }\r\n        }\r\n        \r\n        public void inorder(){\r\n            inorder(root);\r\n        }\r\n        private void inorder(KDNode r){\r\n            if (r != null){\r\n                inorder(r.left);\r\n                System.out.print(&quot;(&quot;+r.data[0]+&quot;,&quot;+r.data[1] +&quot;) &quot;);\r\n                inorder(r.right);\r\n            }\r\n        }\r\n        public void preorder() {\r\n            preorder(root);\r\n        }\r\n        private void preorder(KDNode r){\r\n            if (r != null){\r\n                System.out.print(&quot;(&quot;+r.data[0]+&quot;,&quot;+r.data[1] +&quot;) &quot;);\r\n                preorder(r.left);             \r\n                preorder(r.right);\r\n            }\r\n        }\r\n        /* Function for postorder traversal */\r\n        public void postorder() {\r\n            postorder(root);\r\n        }\r\n        private void postorder(KDNode r) {\r\n            if (r != null){\r\n                postorder(r.left);             \r\n                postorder(r.right);\r\n                System.out.print(&quot;(&quot;+r.data[0]+&quot;,&quot;+r.data[1] +&quot;) &quot;);\r\n            }\r\n        }\r\n    }\r\n    public class KDTree {\r\n    \r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String[] args) {\r\n            // TODO code application logic here\r\n            KDTreeImpl kdt = new KDTreeImpl();\r\n            int x[] = new int[2];\r\n            x[0] = 30;\r\n            x[1] = 40;\r\n            kdt.insert(x);\r\n     \r\n            x[0] = 5;\r\n            x[1] = 25;\r\n            kdt.insert(x);\r\n     \r\n            x[0] = 10;\r\n            x[1] = 12;\r\n            kdt.insert(x);\r\n     \r\n            x[0] = 70;\r\n            x[1] = 70;\r\n            kdt.insert(x);\r\n     \r\n            x[0] = 50;\r\n            x[1] = 30;\r\n            kdt.insert(x);\r\n            System.out.println(&quot;Input Elements&quot;);\r\n            System.out.println(&quot;(30,40) (5,25) (10,12) (70,70) (50,30)\\n\\n&quot;);\r\n            System.out.println(&quot;Printing KD Tree in Inorder&quot;);\r\n            kdt.inorder();\r\n            System.out.println(&quot;\\nPrinting KD Tree in PreOder&quot;);\r\n            kdt.preorder();\r\n            System.out.println(&quot;\\nPrinting KD Tree in PostOrder&quot;);\r\n            kdt.postorder();\r\n            System.out.println(&quot;\\nsearching...............&quot;);\r\n            x[0]=40;x[1]=40;\r\n            System.out.println(kdt.search(x));\r\n        }\r\n    }\r\n\r\n","title":"KDTree Implementation in Java","body":"<pre><code>package kdtree;\n\nclass KDNode{\n    KDNode left;\n    KDNode right;\n    int []data;\n\n    public KDNode(){\n        left=null;\n        right=null;\n    }\n\n    public KDNode(int []x){\n        left=null;\n        right=null;\n        data = new int[2];\n        for (int k = 0; k &lt; 2; k++)\n            data[k]=x[k];\n    }\n}\nclass KDTreeImpl{\n    KDNode root;\n    int cd=0;\n    int DIM=2;\n\n    public KDTreeImpl() {\n        root=null;\n    }\n\n    public boolean isEmpty(){\n        return root == null;\n    }\n\n    public void insert(int []x){\n        root = insert(x,root,cd);\n    }\n    private KDNode insert(int []x,KDNode t,int cd){\n        if (t == null)\n            t = new KDNode(x);\n        else if (x[cd] &lt; t.data[cd])\n            t.left = insert(x, t.left, (cd+1)%DIM);\n        else\n            t.right = insert(x, t.right, (cd+1)%DIM);\n        return t;\n    }\n\n    public boolean search(int []data){\n        return search(data,root,0);\n    }\n\n    private boolean search(int []x,KDNode t,int cd){\n        boolean found=false;\n        if(t==null){\n            return false;\n        }\n        else {\n            if(x[cd]==t.data[cd]){\n                if(x[0]==t.data[0] &amp;&amp; x[1]==t.data[1]) \n                return true;\n            }else if(x[cd]&lt;t.data[cd]){\n                found = search(x,t.left,(cd+1)%DIM);\n            }else if(x[cd]&gt;t.data[cd]){\n                found = search(x,t.right,(cd+1)%DIM);\n            }\n            return found;\n        }\n    }\n\n    public void inorder(){\n        inorder(root);\n    }\n    private void inorder(KDNode r){\n        if (r != null){\n            inorder(r.left);\n            System.out.print(\"(\"+r.data[0]+\",\"+r.data[1] +\") \");\n            inorder(r.right);\n        }\n    }\n    public void preorder() {\n        preorder(root);\n    }\n    private void preorder(KDNode r){\n        if (r != null){\n            System.out.print(\"(\"+r.data[0]+\",\"+r.data[1] +\") \");\n            preorder(r.left);             \n            preorder(r.right);\n        }\n    }\n    /* Function for postorder traversal */\n    public void postorder() {\n        postorder(root);\n    }\n    private void postorder(KDNode r) {\n        if (r != null){\n            postorder(r.left);             \n            postorder(r.right);\n            System.out.print(\"(\"+r.data[0]+\",\"+r.data[1] +\") \");\n        }\n    }\n}\npublic class KDTree {\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        // TODO code application logic here\n        KDTreeImpl kdt = new KDTreeImpl();\n        int x[] = new int[2];\n        x[0] = 30;\n        x[1] = 40;\n        kdt.insert(x);\n\n        x[0] = 5;\n        x[1] = 25;\n        kdt.insert(x);\n\n        x[0] = 10;\n        x[1] = 12;\n        kdt.insert(x);\n\n        x[0] = 70;\n        x[1] = 70;\n        kdt.insert(x);\n\n        x[0] = 50;\n        x[1] = 30;\n        kdt.insert(x);\n        System.out.println(\"Input Elements\");\n        System.out.println(\"(30,40) (5,25) (10,12) (70,70) (50,30)\\n\\n\");\n        System.out.println(\"Printing KD Tree in Inorder\");\n        kdt.inorder();\n        System.out.println(\"\\nPrinting KD Tree in PreOder\");\n        kdt.preorder();\n        System.out.println(\"\\nPrinting KD Tree in PostOrder\");\n        kdt.postorder();\n        System.out.println(\"\\nsearching...............\");\n        x[0]=40;x[1]=40;\n        System.out.println(kdt.search(x));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10425425,"reputation":2000,"user_id":7686879,"display_name":"Raman Sharma"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1489095653,"creation_date":1489095653,"answer_id":42705972,"question_id":253767,"body_markdown":"This is a full implementation for KD-Tree, I have used some libraries to store point and rectangle. These libraries are freely available. It is possible to do with these classes my making your own classes to store point and rectangle. Please share your feedback.\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import edu.princeton.cs.algs4.In;\r\n    import edu.princeton.cs.algs4.Point2D;\r\n    import edu.princeton.cs.algs4.RectHV;\r\n    import edu.princeton.cs.algs4.StdDraw;\r\n    public class KdTree {\r\n    \tprivate static class Node {\r\n    \t\tpublic Point2D point; // the point\r\n    \t\tpublic RectHV rect; // the axis-aligned rectangle corresponding to this\r\n    \t\tpublic Node lb; // the left/bottom subtree\r\n    \t\tpublic Node rt; // the right/top subtree\r\n    \t\tpublic int size;\r\n    \t\tpublic double x = 0;\r\n    \t\tpublic double y = 0;\r\n    \t\tpublic Node(Point2D p, RectHV rect, Node lb, Node rt) {\r\n    \t\t\tsuper();\r\n    \t\t\tthis.point = p;\r\n    \t\t\tthis.rect = rect;\r\n    \t\t\tthis.lb = lb;\r\n    \t\t\tthis.rt = rt;\r\n    \t\t\tx = p.x();\r\n    \t\t\ty = p.y();\r\n    \t\t}\r\n    \r\n    \t}\r\n    \tprivate Node root = null;;\r\n    \r\n    \tpublic KdTree() {\r\n    \t}\r\n    \r\n    \tpublic boolean isEmpty() {\r\n    \t\treturn root == null;\r\n    \t}\r\n    \r\n    \tpublic int size() {\r\n    \t\treturn rechnenSize(root);\r\n    \t}\r\n    \r\n    \tprivate int rechnenSize(Node node) {\r\n    \t\tif (node == null) {\r\n    \t\t\treturn 0;\r\n    \t\t} else {\r\n    \t\t\treturn node.size;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void insert(Point2D p) {\r\n    \t\tif (p == null) {\r\n    \t\t\tthrow new NullPointerException();\r\n    \t\t}\r\n    \t\tif (isEmpty()) {\r\n    \t\t\troot = insertInternal(p, root, 0);\r\n    \t\t\troot.rect = new RectHV(0, 0, 1, 1);\r\n    \t\t} else {\r\n    \t\t\troot = insertInternal(p, root, 1);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t// at odd level we will compare x coordinate, and at even level we will\r\n    \t// compare y coordinate\r\n    \tprivate Node insertInternal(Point2D pointToInsert, Node node, int level) {\r\n    \t\tif (node == null) {\r\n    \t\t\tNode newNode = new Node(pointToInsert, null, null, null);\r\n    \t\t\tnewNode.size = 1;\r\n    \t\t\treturn newNode;\r\n    \t\t}\r\n    \t\tif (level % 2 == 0) {//Horizontal partition line\r\n    \t\t\tif (pointToInsert.y() &lt; node.y) {//Traverse in bottom area of partition\r\n    \t\t\t\tnode.lb = insertInternal(pointToInsert, node.lb, level + 1);\r\n    \t\t\t\tif(node.lb.rect == null){\r\n    \t\t\t\t\tnode.lb.rect = new RectHV(node.rect.xmin(), node.rect.ymin(),\r\n    \t\t\t\t\t\t\tnode.rect.xmax(), node.y);\r\n    \t\t\t\t}\r\n    \t\t\t} else {//Traverse in top area of partition\r\n    \t\t\t\tif (!node.point.equals(pointToInsert)) {\r\n    \t\t\t\t\tnode.rt = insertInternal(pointToInsert, node.rt, level + 1);\r\n    \t\t\t\t\tif(node.rt.rect == null){\r\n    \t\t\t\t\t\tnode.rt.rect = new RectHV(node.rect.xmin(), node.y,\r\n    \t\t\t\t\t\t\t\tnode.rect.xmax(), node.rect.ymax());\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t} else if (level % 2 != 0) {//Vertical partition line\r\n    \t\t\tif (pointToInsert.x() &lt; node.x) {//Traverse in left area of partition\r\n    \t\t\t\tnode.lb = insertInternal(pointToInsert, node.lb, level + 1);\r\n    \t\t\t\tif(node.lb.rect == null){\r\n    \t\t\t\t\tnode.lb.rect = new RectHV(node.rect.xmin(), node.rect.ymin(),\r\n    \t\t\t\t\t\t\tnode.x, node.rect.ymax());\r\n    \t\t\t\t}\r\n    \t\t\t} else {//Traverse in right area of partition\r\n    \t\t\t\tif (!node.point.equals(pointToInsert)) {\r\n    \t\t\t\t\tnode.rt = insertInternal(pointToInsert, node.rt, level + 1);\r\n    \t\t\t\t\tif(node.rt.rect == null){\r\n    \t\t\t\t\t\tnode.rt.rect = new RectHV(node.x, node.rect.ymin(),\r\n    \t\t\t\t\t\t\t\tnode.rect.xmax(), node.rect.ymax());\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tnode.size = 1 + rechnenSize(node.lb) + rechnenSize(node.rt);\r\n    \t\treturn node;\r\n    \t}\r\n    \r\n    \tpublic boolean contains(Point2D p) {\r\n    \t\treturn containsInternal(p, root, 1);\r\n    \t}\r\n    \r\n    \tprivate boolean containsInternal(Point2D pointToSearch, Node node, int level) {\r\n    \t\tif (node == null) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t\tif (level % 2 == 0) {//Horizontal partition line\r\n    \t\t\tif (pointToSearch.y() &lt; node.y) {\r\n    \t\t\t\treturn containsInternal(pointToSearch, node.lb, level + 1);\r\n    \t\t\t} else {\r\n    \t\t\t\tif (node.point.equals(pointToSearch)) {\r\n    \t\t\t\t\treturn true;\r\n    \t\t\t\t}\r\n    \t\t\t\treturn containsInternal(pointToSearch, node.rt, level + 1);\r\n    \t\t\t}\r\n    \t\t} else {//Vertical partition line\r\n    \t\t\tif (pointToSearch.x() &lt; node.x) {\r\n    \t\t\t\treturn containsInternal(pointToSearch, node.lb, level + 1);\r\n    \t\t\t} else {\r\n    \t\t\t\tif (node.point.equals(pointToSearch)) {\r\n    \t\t\t\t\treturn true;\r\n    \t\t\t\t}\r\n    \t\t\t\treturn containsInternal(pointToSearch, node.rt, level + 1);\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tpublic void draw() {\r\n    \t\tStdDraw.clear();\r\n    \t\tdrawInternal(root, 1);\r\n    \t}\r\n    \r\n    \tprivate void drawInternal(Node node, int level) {\r\n    \t\tif (node == null) {\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\tStdDraw.setPenColor(StdDraw.BLACK);\r\n    \t\tStdDraw.setPenRadius(0.02);\r\n    \t\tnode.point.draw();\r\n    \t\tdouble sx = node.rect.xmin();\r\n    \t\tdouble ex = node.rect.xmax();\r\n    \t\tdouble sy = node.rect.ymin();\r\n    \t\tdouble ey = node.rect.ymax();\r\n    \t\tStdDraw.setPenRadius(0.01);\r\n    \t\tif (level % 2 == 0) {\r\n    \t\t\tStdDraw.setPenColor(StdDraw.BLUE);\r\n    \t\t\tsy = ey = node.y;\r\n    \t\t} else {\r\n    \t\t\tStdDraw.setPenColor(StdDraw.RED);\r\n    \t\t\tsx = ex = node.x;\r\n    \t\t}\r\n    \t\tStdDraw.line(sx, sy, ex, ey);\r\n    \t\tdrawInternal(node.lb, level + 1);\r\n    \t\tdrawInternal(node.rt, level + 1);\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Find the points which lies in the rectangle as parameter\r\n    \t * @param rect\r\n    \t * @return\r\n    \t */\r\n    \tpublic Iterable&lt;Point2D&gt; range(RectHV rect) {\r\n    \t\tList&lt;Point2D&gt; resultList = new ArrayList&lt;Point2D&gt;();\r\n    \t\trangeInternal(root, rect, resultList);\r\n    \t\treturn resultList;\r\n    \t}\r\n    \r\n    \tprivate void rangeInternal(Node node, RectHV rect, List&lt;Point2D&gt; resultList) {\r\n    \t\tif (node == null) {\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\tif (node.rect.intersects(rect)) {\r\n    \t\t\tif (rect.contains(node.point)) {\r\n    \t\t\t\tresultList.add(node.point);\r\n    \t\t\t}\r\n    \t\t\trangeInternal(node.lb, rect, resultList);\r\n    \t\t\trangeInternal(node.rt, rect, resultList);\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tpublic Point2D nearest(Point2D p) {\r\n    \t\tif(root == null){\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t\tChampion champion = new Champion(root.point,Double.MAX_VALUE);\r\n    \t\treturn nearestInternal(p, root, champion, 1).champion;\r\n    \t}\r\n    \r\n    \tprivate Champion nearestInternal(Point2D targetPoint, Node node,\r\n    \t\t\tChampion champion, int level) {\r\n    \t\tif (node == null) {\r\n    \t\t\treturn champion;\r\n    \t\t}\r\n    \t\tdouble dist = targetPoint.distanceSquaredTo(node.point);\r\n    \t\tint newLevel = level + 1;\r\n    \t\tif (dist &lt; champion.championDist) {\r\n    \t\t\tchampion.champion = node.point;\r\n    \t\t\tchampion.championDist = dist;\r\n    \t\t}\r\n    \t\tboolean goLeftOrBottom = false;\r\n    \t\t//We will decide which part to be visited first, based upon in which part point lies.\r\n    \t\t//If point is towards left or bottom part, we traverse in that area first, and later on decide\r\n    \t\t//if we need to search in other part too.\r\n    \t\tif(level % 2 == 0){\r\n    \t\t\tif(targetPoint.y() &lt; node.y){\r\n    \t\t\t\tgoLeftOrBottom = true;\r\n    \t\t\t}\r\n    \t\t} else {\r\n    \t\t\tif(targetPoint.x() &lt; node.x){\r\n    \t\t\t\tgoLeftOrBottom = true;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tif(goLeftOrBottom){\r\n    \t\t\tnearestInternal(targetPoint, node.lb, champion, newLevel);\r\n    \t\t\tPoint2D orientationPoint = createOrientationPoint(node.x,node.y,targetPoint,level);\r\n    \t\t\tdouble orientationDist = orientationPoint.distanceSquaredTo(targetPoint);\r\n    \t\t\t//We will search on the other part only, if the point is very near to partitioned line\r\n    \t\t\t//and champion point found so far is far away from the partitioned line.\r\n    \t\t\tif(orientationDist &lt; champion.championDist){\r\n    \t\t\t\tnearestInternal(targetPoint, node.rt, champion, newLevel);\r\n    \t\t\t}\r\n    \t\t} else {\r\n    \t\t\tnearestInternal(targetPoint, node.rt, champion, newLevel);\r\n    \t\t\tPoint2D orientationPoint = createOrientationPoint(node.x,node.y,targetPoint,level);\r\n    \t\t\t//We will search on the other part only, if the point is very near to partitioned line\r\n    \t\t\t//and champion point found so far is far away from the partitioned line.\r\n    \t\t\tdouble orientationDist = orientationPoint.distanceSquaredTo(targetPoint);\r\n    \t\t\tif(orientationDist &lt; champion.championDist){\r\n    \t\t\t\tnearestInternal(targetPoint, node.lb, champion, newLevel);\r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \t\treturn champion;\r\n    \t}\r\n    \t/**\r\n    \t * Returns the point from a partitioned line, which can be directly used to calculate\r\n    \t * distance between partitioned line and the target point for which neighbours are to be searched.\r\n    \t * @param linePointX\r\n    \t * @param linePointY\r\n    \t * @param targetPoint\r\n    \t * @param level\r\n    \t * @return\r\n    \t */\r\n    \tprivate Point2D createOrientationPoint(double linePointX, double linePointY, Point2D targetPoint, int level){\r\n    \t\tif(level % 2 == 0){\r\n    \t\t\treturn new Point2D(targetPoint.x(),linePointY);\r\n    \t\t} else {\r\n    \t\t\treturn new Point2D(linePointX,targetPoint.y());\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tprivate static class Champion{\r\n    \t\tpublic Point2D champion;\r\n    \t\tpublic double championDist;\r\n    \t\tpublic Champion(Point2D c, double d){\r\n    \t\t\tchampion = c;\r\n    \t\t\tchampionDist = d;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tString filename = &quot;/home/raman/Downloads/kdtree/circle100.txt&quot;;\r\n    \t\tIn in = new In(filename);\r\n    \t\tKdTree kdTree = new KdTree();\r\n    \t\twhile (!in.isEmpty()) {\r\n    \t\t\tdouble x = in.readDouble();\r\n    \t\t\tdouble y = in.readDouble();\r\n    \t\t\tPoint2D p = new Point2D(x, y);\r\n    \t\t\tkdTree.insert(p);\r\n    \t\t}\r\n    \t\t// kdTree.print();\r\n    \t\tSystem.out.println(kdTree.size());\r\n    \t\tkdTree.draw();\r\n    \t\tSystem.out.println(kdTree.nearest(new Point2D(0.4, 0.5)));\r\n    \t\tSystem.out.println(new Point2D(0.7, 0.4).distanceSquaredTo(new Point2D(0.9,0.5)));\r\n    \t\tSystem.out.println(new Point2D(0.7, 0.4).distanceSquaredTo(new Point2D(0.9,0.4)));\r\n    \r\n    \t}\r\n    }","title":"KDTree Implementation in Java","body":"<p>This is a full implementation for KD-Tree, I have used some libraries to store point and rectangle. These libraries are freely available. It is possible to do with these classes my making your own classes to store point and rectangle. Please share your feedback.</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport edu.princeton.cs.algs4.In;\nimport edu.princeton.cs.algs4.Point2D;\nimport edu.princeton.cs.algs4.RectHV;\nimport edu.princeton.cs.algs4.StdDraw;\npublic class KdTree {\n    private static class Node {\n        public Point2D point; // the point\n        public RectHV rect; // the axis-aligned rectangle corresponding to this\n        public Node lb; // the left/bottom subtree\n        public Node rt; // the right/top subtree\n        public int size;\n        public double x = 0;\n        public double y = 0;\n        public Node(Point2D p, RectHV rect, Node lb, Node rt) {\n            super();\n            this.point = p;\n            this.rect = rect;\n            this.lb = lb;\n            this.rt = rt;\n            x = p.x();\n            y = p.y();\n        }\n\n    }\n    private Node root = null;;\n\n    public KdTree() {\n    }\n\n    public boolean isEmpty() {\n        return root == null;\n    }\n\n    public int size() {\n        return rechnenSize(root);\n    }\n\n    private int rechnenSize(Node node) {\n        if (node == null) {\n            return 0;\n        } else {\n            return node.size;\n        }\n    }\n\n    public void insert(Point2D p) {\n        if (p == null) {\n            throw new NullPointerException();\n        }\n        if (isEmpty()) {\n            root = insertInternal(p, root, 0);\n            root.rect = new RectHV(0, 0, 1, 1);\n        } else {\n            root = insertInternal(p, root, 1);\n        }\n    }\n\n    // at odd level we will compare x coordinate, and at even level we will\n    // compare y coordinate\n    private Node insertInternal(Point2D pointToInsert, Node node, int level) {\n        if (node == null) {\n            Node newNode = new Node(pointToInsert, null, null, null);\n            newNode.size = 1;\n            return newNode;\n        }\n        if (level % 2 == 0) {//Horizontal partition line\n            if (pointToInsert.y() &lt; node.y) {//Traverse in bottom area of partition\n                node.lb = insertInternal(pointToInsert, node.lb, level + 1);\n                if(node.lb.rect == null){\n                    node.lb.rect = new RectHV(node.rect.xmin(), node.rect.ymin(),\n                            node.rect.xmax(), node.y);\n                }\n            } else {//Traverse in top area of partition\n                if (!node.point.equals(pointToInsert)) {\n                    node.rt = insertInternal(pointToInsert, node.rt, level + 1);\n                    if(node.rt.rect == null){\n                        node.rt.rect = new RectHV(node.rect.xmin(), node.y,\n                                node.rect.xmax(), node.rect.ymax());\n                    }\n                }\n            }\n\n        } else if (level % 2 != 0) {//Vertical partition line\n            if (pointToInsert.x() &lt; node.x) {//Traverse in left area of partition\n                node.lb = insertInternal(pointToInsert, node.lb, level + 1);\n                if(node.lb.rect == null){\n                    node.lb.rect = new RectHV(node.rect.xmin(), node.rect.ymin(),\n                            node.x, node.rect.ymax());\n                }\n            } else {//Traverse in right area of partition\n                if (!node.point.equals(pointToInsert)) {\n                    node.rt = insertInternal(pointToInsert, node.rt, level + 1);\n                    if(node.rt.rect == null){\n                        node.rt.rect = new RectHV(node.x, node.rect.ymin(),\n                                node.rect.xmax(), node.rect.ymax());\n                    }\n                }\n            }\n        }\n        node.size = 1 + rechnenSize(node.lb) + rechnenSize(node.rt);\n        return node;\n    }\n\n    public boolean contains(Point2D p) {\n        return containsInternal(p, root, 1);\n    }\n\n    private boolean containsInternal(Point2D pointToSearch, Node node, int level) {\n        if (node == null) {\n            return false;\n        }\n        if (level % 2 == 0) {//Horizontal partition line\n            if (pointToSearch.y() &lt; node.y) {\n                return containsInternal(pointToSearch, node.lb, level + 1);\n            } else {\n                if (node.point.equals(pointToSearch)) {\n                    return true;\n                }\n                return containsInternal(pointToSearch, node.rt, level + 1);\n            }\n        } else {//Vertical partition line\n            if (pointToSearch.x() &lt; node.x) {\n                return containsInternal(pointToSearch, node.lb, level + 1);\n            } else {\n                if (node.point.equals(pointToSearch)) {\n                    return true;\n                }\n                return containsInternal(pointToSearch, node.rt, level + 1);\n            }\n        }\n\n    }\n\n    public void draw() {\n        StdDraw.clear();\n        drawInternal(root, 1);\n    }\n\n    private void drawInternal(Node node, int level) {\n        if (node == null) {\n            return;\n        }\n        StdDraw.setPenColor(StdDraw.BLACK);\n        StdDraw.setPenRadius(0.02);\n        node.point.draw();\n        double sx = node.rect.xmin();\n        double ex = node.rect.xmax();\n        double sy = node.rect.ymin();\n        double ey = node.rect.ymax();\n        StdDraw.setPenRadius(0.01);\n        if (level % 2 == 0) {\n            StdDraw.setPenColor(StdDraw.BLUE);\n            sy = ey = node.y;\n        } else {\n            StdDraw.setPenColor(StdDraw.RED);\n            sx = ex = node.x;\n        }\n        StdDraw.line(sx, sy, ex, ey);\n        drawInternal(node.lb, level + 1);\n        drawInternal(node.rt, level + 1);\n    }\n\n    /**\n     * Find the points which lies in the rectangle as parameter\n     * @param rect\n     * @return\n     */\n    public Iterable&lt;Point2D&gt; range(RectHV rect) {\n        List&lt;Point2D&gt; resultList = new ArrayList&lt;Point2D&gt;();\n        rangeInternal(root, rect, resultList);\n        return resultList;\n    }\n\n    private void rangeInternal(Node node, RectHV rect, List&lt;Point2D&gt; resultList) {\n        if (node == null) {\n            return;\n        }\n        if (node.rect.intersects(rect)) {\n            if (rect.contains(node.point)) {\n                resultList.add(node.point);\n            }\n            rangeInternal(node.lb, rect, resultList);\n            rangeInternal(node.rt, rect, resultList);\n        }\n\n    }\n\n    public Point2D nearest(Point2D p) {\n        if(root == null){\n            return null;\n        }\n        Champion champion = new Champion(root.point,Double.MAX_VALUE);\n        return nearestInternal(p, root, champion, 1).champion;\n    }\n\n    private Champion nearestInternal(Point2D targetPoint, Node node,\n            Champion champion, int level) {\n        if (node == null) {\n            return champion;\n        }\n        double dist = targetPoint.distanceSquaredTo(node.point);\n        int newLevel = level + 1;\n        if (dist &lt; champion.championDist) {\n            champion.champion = node.point;\n            champion.championDist = dist;\n        }\n        boolean goLeftOrBottom = false;\n        //We will decide which part to be visited first, based upon in which part point lies.\n        //If point is towards left or bottom part, we traverse in that area first, and later on decide\n        //if we need to search in other part too.\n        if(level % 2 == 0){\n            if(targetPoint.y() &lt; node.y){\n                goLeftOrBottom = true;\n            }\n        } else {\n            if(targetPoint.x() &lt; node.x){\n                goLeftOrBottom = true;\n            }\n        }\n        if(goLeftOrBottom){\n            nearestInternal(targetPoint, node.lb, champion, newLevel);\n            Point2D orientationPoint = createOrientationPoint(node.x,node.y,targetPoint,level);\n            double orientationDist = orientationPoint.distanceSquaredTo(targetPoint);\n            //We will search on the other part only, if the point is very near to partitioned line\n            //and champion point found so far is far away from the partitioned line.\n            if(orientationDist &lt; champion.championDist){\n                nearestInternal(targetPoint, node.rt, champion, newLevel);\n            }\n        } else {\n            nearestInternal(targetPoint, node.rt, champion, newLevel);\n            Point2D orientationPoint = createOrientationPoint(node.x,node.y,targetPoint,level);\n            //We will search on the other part only, if the point is very near to partitioned line\n            //and champion point found so far is far away from the partitioned line.\n            double orientationDist = orientationPoint.distanceSquaredTo(targetPoint);\n            if(orientationDist &lt; champion.championDist){\n                nearestInternal(targetPoint, node.lb, champion, newLevel);\n            }\n\n        }\n        return champion;\n    }\n    /**\n     * Returns the point from a partitioned line, which can be directly used to calculate\n     * distance between partitioned line and the target point for which neighbours are to be searched.\n     * @param linePointX\n     * @param linePointY\n     * @param targetPoint\n     * @param level\n     * @return\n     */\n    private Point2D createOrientationPoint(double linePointX, double linePointY, Point2D targetPoint, int level){\n        if(level % 2 == 0){\n            return new Point2D(targetPoint.x(),linePointY);\n        } else {\n            return new Point2D(linePointX,targetPoint.y());\n        }\n    }\n\n    private static class Champion{\n        public Point2D champion;\n        public double championDist;\n        public Champion(Point2D c, double d){\n            champion = c;\n            championDist = d;\n        }\n    }\n\n    public static void main(String[] args) {\n        String filename = \"/home/raman/Downloads/kdtree/circle100.txt\";\n        In in = new In(filename);\n        KdTree kdTree = new KdTree();\n        while (!in.isEmpty()) {\n            double x = in.readDouble();\n            double y = in.readDouble();\n            Point2D p = new Point2D(x, y);\n            kdTree.insert(p);\n        }\n        // kdTree.print();\n        System.out.println(kdTree.size());\n        kdTree.draw();\n        System.out.println(kdTree.nearest(new Point2D(0.4, 0.5)));\n        System.out.println(new Point2D(0.7, 0.4).distanceSquaredTo(new Point2D(0.9,0.5)));\n        System.out.println(new Point2D(0.7, 0.4).distanceSquaredTo(new Point2D(0.9,0.4)));\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23375479,"reputation":33,"user_id":17993968,"display_name":"Vladimir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646066164,"creation_date":1646066164,"answer_id":71298202,"question_id":253767,"body_markdown":"May be it will be interest for someone. Please see my nearest() (and KD Tree class) implementation for 2D tree in java:\r\n\r\n\r\n\r\n    import edu.princeton.cs.algs4.Point2D;\r\n    import edu.princeton.cs.algs4.RectHV;\r\n    import edu.princeton.cs.algs4.StdDraw;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class KdTree {\r\n        private Node root;\r\n        private int size;\r\n    \r\n        private static class Node {\r\n            private Point2D p;      // the point\r\n            private RectHV rect;    // the axis-aligned rectangle corresponding to this node\r\n            private Node lb;        // the left/bottom subtree\r\n            private Node rt;        // the right/top subtree\r\n            public Node(Point2D p, RectHV rect) {\r\n                this.p = p;\r\n                this.rect = rect;\r\n            }\r\n        }\r\n    \r\n        public KdTree() {\r\n        }\r\n    \r\n        public boolean isEmpty() {\r\n            return size == 0;\r\n        }\r\n    \r\n        public int size() {\r\n            return size;\r\n        }\r\n    \r\n        public boolean contains(Point2D p) {\r\n            if (p == null) throw new IllegalArgumentException(&quot;argument to contains() is null&quot;);\r\n            return contains(root, p, 1);\r\n        }\r\n    \r\n        private boolean contains(Node node, Point2D p, int level) {\r\n            if (node == null) return false; // a base case for recursive call\r\n    \r\n            if (node.p.equals(p)) return true;\r\n    \r\n            if (level % 2 == 0) { // search by y coordinate (node with horizontal partition line)\r\n                if (p.y() &lt; node.p.y())\r\n                    return contains(node.lb, p, level + 1);\r\n                else\r\n                    return contains(node.rt, p, level + 1);\r\n            }\r\n            else { // search by x coordinate (node with vertical partition line)\r\n                if (p.x() &lt; node.p.x())\r\n                    return contains(node.lb, p, level + 1);\r\n                else\r\n                    return contains(node.rt, p, level + 1);\r\n            }\r\n        }\r\n    \r\n        public void insert(Point2D p) {\r\n            if (p == null) throw new IllegalArgumentException(&quot;calls insert() with a null point&quot;);\r\n            root = insert(root, p, 1);\r\n        }\r\n    \r\n        private Node insert(Node x, Point2D p, int level) {\r\n            if (x == null) {\r\n                size++;\r\n                return new Node(p, new RectHV(0, 0, 1, 1));\r\n            }\r\n    \r\n            if (x.p.equals(p)) return x; // if we try to insert existed point just return its node\r\n    \r\n            if (level % 2 == 0) { // search by y coordinate (node with horizontal partition line)\r\n                if (p.y() &lt; x.p.y()) {\r\n                    x.lb = insert(x.lb, p, level + 1);\r\n                    if (x.lb.rect.equals(root.rect))\r\n                        x.lb.rect = new RectHV(x.rect.xmin(), x.rect.ymin(), x.rect.xmax(), x.p.y());\r\n                }\r\n                else {\r\n                    x.rt = insert(x.rt, p, level + 1);\r\n                    if (x.rt.rect.equals(root.rect))\r\n                        x.rt.rect = new RectHV(x.rect.xmin(), x.p.y(), x.rect.xmax(), x.rect.ymax());\r\n                }\r\n            }\r\n            else { // search by x coordinate (node with vertical partition line)\r\n                if (p.x() &lt; x.p.x()) {\r\n                    x.lb = insert(x.lb, p, level + 1);\r\n                    if (x.lb.rect.equals(root.rect))\r\n                        x.lb.rect = new RectHV(x.rect.xmin(), x.rect.ymin(), x.p.x(), x.rect.ymax());\r\n                }\r\n                else {\r\n                    x.rt = insert(x.rt, p, level + 1);\r\n                    if (x.rt.rect.equals(root.rect))\r\n                        x.rt.rect = new RectHV(x.p.x(), x.rect.ymin(), x.rect.xmax(), x.rect.ymax());\r\n                }\r\n            }\r\n            return x;\r\n        }\r\n    \r\n        public void draw() {\r\n            draw(root, 1);\r\n        }\r\n    \r\n        private void draw(Node node, int level) {\r\n            if (node == null) return;\r\n    \r\n            StdDraw.setPenColor(StdDraw.BLACK);\r\n            StdDraw.setPenRadius(0.01);\r\n            node.p.draw();\r\n            StdDraw.setPenRadius();\r\n    \r\n            if (level % 2 == 0) {\r\n                StdDraw.setPenColor(StdDraw.BLUE);\r\n                StdDraw.line(node.rect.xmin(), node.p.y(), node.rect.xmax(), node.p.y());\r\n            }\r\n            else {\r\n                StdDraw.setPenColor(StdDraw.RED);\r\n                StdDraw.line(node.p.x(), node.rect.ymin(), node.p.x(), node.rect.ymax());\r\n            }\r\n    \r\n            draw(node.lb, level + 1);\r\n            draw(node.rt, level + 1);\r\n        }\r\n    \r\n        public Iterable&lt;Point2D&gt; range(RectHV rect) {\r\n            if (rect == null) throw new IllegalArgumentException(&quot;calls range() with a null rect&quot;);\r\n            List&lt;Point2D&gt; points = new ArrayList&lt;&gt;(); // create an Iterable object with all points we found\r\n            range(root, rect, points); // call helper method with rects intersects comparing\r\n            \r\n            return points; // return an Iterable object (It could be any type - Queue, LinkedList etc)\r\n        }\r\n    \r\n        private void range(Node node, RectHV rect, List&lt;Point2D&gt; points) {\r\n            if (node == null || !node.rect.intersects(rect)) return; // a base case for recursive call\r\n    \r\n    \r\n            if (rect.contains(node.p))\r\n                    points.add(node.p);\r\n            range(node.lb, rect, points);\r\n            range(node.rt, rect, points);\r\n    \r\n        }    \r\n    \r\n        public Point2D nearest(Point2D query) {\r\n             if (isEmpty()) return null;\r\n            if (query == null) throw new IllegalArgumentException(&quot;calls nearest() with a null point&quot;);\r\n            // set the start distance from root to query point\r\n            double best = root.p.distanceSquaredTo(query);\r\n            // StdDraw.setPenColor(StdDraw.BLACK); // just for debugging\r\n            // StdDraw.setPenRadius(0.01);\r\n            // query.draw();\r\n            return nearest(root, query, root.p, best, 1); // call a helper method\r\n        }\r\n    \r\n        private Point2D nearest(Node node, Point2D query, Point2D champ, double best, int level) {\r\n            // a base case for the recursive call\r\n            if (node == null || best &lt; node.rect.distanceSquaredTo(query)) return champ;\r\n            // we&#39;ll need to set an actual best distance when we recur\r\n            best = champ.distanceSquaredTo(query);\r\n            // check whether a distance from query point to the traversed node less than\r\n            // distance from current champion to query point\r\n            double temp = node.p.distanceSquaredTo(query);\r\n            if (temp &lt; best) {\r\n                best = temp;\r\n                champ = node.p;\r\n            }\r\n    \r\n            if (level % 2 == 0) { // search by y coordinate (node with horizontal partition line)\r\n                // we compare y coordinate and decide go up or down\r\n                if (node.p.y() &lt; query.y()) { // if true go up\r\n                    champ = nearest(node.rt, query, champ, best, level + 1);\r\n                    // important case - when we traverse node and go back up through the tree\r\n                    // we need to decide whether we need to go down(left) in this node or not\r\n                    // we just check our bottom (left) node on null &amp;&amp; compare distance\r\n                    // from query point to the nearest point of the node&#39;s rectangle and\r\n                    // the distance from current champ point to thr query point\r\n                    if (node.lb != null &amp;&amp; node.lb.rect.distanceSquaredTo(query) &lt; champ.distanceSquaredTo(query)) {\r\n                        champ = nearest(node.lb, query, champ, best, level + 1);\r\n                    }\r\n    \r\n                }\r\n                else { // if false go down\r\n                    champ = nearest(node.lb, query, champ, best, level + 1);\r\n                    if (node.rt != null &amp;&amp; node.rt.rect.distanceSquaredTo(query) &lt; champ.distanceSquaredTo(query))\r\n                        // when we traverse node and go back up through the tree\r\n                        // we need to decide whether we need to go up(right) in this node or not\r\n                        // we just check our top (right) node on null &amp;&amp; compare distance\r\n                        // from query point to the nearest point of the node&#39;s rectangle and\r\n                        // the distance from current champ point to thr query point\r\n                        champ = nearest(node.rt, query, champ, best, level + 1);\r\n    \r\n                }\r\n    \r\n            }\r\n            else {\r\n                // search by x coordinate (node with vertical partition line)\r\n                if (node.p.x() &lt; query.x()) { // if true go right\r\n                    champ = nearest(node.rt, query, champ, best, level + 1);\r\n                    // the same check as mentioned above when we search by y coordinate\r\n                    if (node.lb != null &amp;&amp; node.lb.rect.distanceSquaredTo(query) &lt; champ.distanceSquaredTo(query))\r\n                        champ = nearest(node.lb, query, champ, best, level + 1);\r\n                }\r\n                else { // if false go left\r\n                    champ = nearest(node.lb, query, champ, best, level + 1);\r\n                      if (node.rt != null &amp;&amp; node.rt.rect.distanceSquaredTo(query) &lt; champ.distanceSquaredTo(query))\r\n                         champ = nearest(node.rt, query, champ, best, level + 1);\r\n                }\r\n            }\r\n            return champ;\r\n        }\r\n    \r\n    \r\n    \r\n        public static void main(String[] args) {\r\n            // unit tests\r\n            KdTree kd = new KdTree();\r\n            Point2D p1 = new Point2D(0.7, 0.2);\r\n            Point2D p2 = new Point2D(0.5, 0.4);\r\n            Point2D p3 = new Point2D(0.2, 0.3);\r\n            Point2D p4 = new Point2D(0.4, 0.7);\r\n            Point2D p5 = new Point2D(0.9, 0.6);\r\n            // Point2D query = new Point2D(0.676, 0.736);\r\n            Point2D query1 = new Point2D(0.972, 0.887);\r\n            // RectHV test = new RectHV(0, 0, 0.7, 0.4);\r\n            // Point2D query = new Point2D(0.331, 0.762);\r\n    \r\n            // Point2D p6 = new Point2D(0.4, 0.4);\r\n            // Point2D p7 = new Point2D(0.1, 0.6);\r\n            // RectHV rect = new RectHV(0.05, 0.1, 0.15, 0.6);\r\n    \r\n            kd.insert(p1);\r\n            kd.insert(p2);\r\n            kd.insert(p3);\r\n            kd.insert(p4);\r\n            kd.insert(p5);\r\n            System.out.println(kd.nearest(query1));\r\n            // System.out.println(&quot;Dist query to 0.4,0.7= &quot; + query.distanceSquaredTo(p4));\r\n            // System.out.println(&quot;Dist query to RectHV 0.2,0,3= &quot; + test.distanceSquaredTo(p4));\r\n            // kd.insert(p6);\r\n            // kd.insert(p7);\r\n            // System.out.println(kd.size);\r\n            // System.out.println(kd.contains(p3));\r\n            // // System.out.println(kd.range(rect));\r\n    \r\n            kd.draw();\r\n            \r\n    \r\n        }\r\n    }","title":"KDTree Implementation in Java","body":"<p>May be it will be interest for someone. Please see my nearest() (and KD Tree class) implementation for 2D tree in java:</p>\n<pre><code>import edu.princeton.cs.algs4.Point2D;\nimport edu.princeton.cs.algs4.RectHV;\nimport edu.princeton.cs.algs4.StdDraw;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class KdTree {\n    private Node root;\n    private int size;\n\n    private static class Node {\n        private Point2D p;      // the point\n        private RectHV rect;    // the axis-aligned rectangle corresponding to this node\n        private Node lb;        // the left/bottom subtree\n        private Node rt;        // the right/top subtree\n        public Node(Point2D p, RectHV rect) {\n            this.p = p;\n            this.rect = rect;\n        }\n    }\n\n    public KdTree() {\n    }\n\n    public boolean isEmpty() {\n        return size == 0;\n    }\n\n    public int size() {\n        return size;\n    }\n\n    public boolean contains(Point2D p) {\n        if (p == null) throw new IllegalArgumentException(&quot;argument to contains() is null&quot;);\n        return contains(root, p, 1);\n    }\n\n    private boolean contains(Node node, Point2D p, int level) {\n        if (node == null) return false; // a base case for recursive call\n\n        if (node.p.equals(p)) return true;\n\n        if (level % 2 == 0) { // search by y coordinate (node with horizontal partition line)\n            if (p.y() &lt; node.p.y())\n                return contains(node.lb, p, level + 1);\n            else\n                return contains(node.rt, p, level + 1);\n        }\n        else { // search by x coordinate (node with vertical partition line)\n            if (p.x() &lt; node.p.x())\n                return contains(node.lb, p, level + 1);\n            else\n                return contains(node.rt, p, level + 1);\n        }\n    }\n\n    public void insert(Point2D p) {\n        if (p == null) throw new IllegalArgumentException(&quot;calls insert() with a null point&quot;);\n        root = insert(root, p, 1);\n    }\n\n    private Node insert(Node x, Point2D p, int level) {\n        if (x == null) {\n            size++;\n            return new Node(p, new RectHV(0, 0, 1, 1));\n        }\n\n        if (x.p.equals(p)) return x; // if we try to insert existed point just return its node\n\n        if (level % 2 == 0) { // search by y coordinate (node with horizontal partition line)\n            if (p.y() &lt; x.p.y()) {\n                x.lb = insert(x.lb, p, level + 1);\n                if (x.lb.rect.equals(root.rect))\n                    x.lb.rect = new RectHV(x.rect.xmin(), x.rect.ymin(), x.rect.xmax(), x.p.y());\n            }\n            else {\n                x.rt = insert(x.rt, p, level + 1);\n                if (x.rt.rect.equals(root.rect))\n                    x.rt.rect = new RectHV(x.rect.xmin(), x.p.y(), x.rect.xmax(), x.rect.ymax());\n            }\n        }\n        else { // search by x coordinate (node with vertical partition line)\n            if (p.x() &lt; x.p.x()) {\n                x.lb = insert(x.lb, p, level + 1);\n                if (x.lb.rect.equals(root.rect))\n                    x.lb.rect = new RectHV(x.rect.xmin(), x.rect.ymin(), x.p.x(), x.rect.ymax());\n            }\n            else {\n                x.rt = insert(x.rt, p, level + 1);\n                if (x.rt.rect.equals(root.rect))\n                    x.rt.rect = new RectHV(x.p.x(), x.rect.ymin(), x.rect.xmax(), x.rect.ymax());\n            }\n        }\n        return x;\n    }\n\n    public void draw() {\n        draw(root, 1);\n    }\n\n    private void draw(Node node, int level) {\n        if (node == null) return;\n\n        StdDraw.setPenColor(StdDraw.BLACK);\n        StdDraw.setPenRadius(0.01);\n        node.p.draw();\n        StdDraw.setPenRadius();\n\n        if (level % 2 == 0) {\n            StdDraw.setPenColor(StdDraw.BLUE);\n            StdDraw.line(node.rect.xmin(), node.p.y(), node.rect.xmax(), node.p.y());\n        }\n        else {\n            StdDraw.setPenColor(StdDraw.RED);\n            StdDraw.line(node.p.x(), node.rect.ymin(), node.p.x(), node.rect.ymax());\n        }\n\n        draw(node.lb, level + 1);\n        draw(node.rt, level + 1);\n    }\n\n    public Iterable&lt;Point2D&gt; range(RectHV rect) {\n        if (rect == null) throw new IllegalArgumentException(&quot;calls range() with a null rect&quot;);\n        List&lt;Point2D&gt; points = new ArrayList&lt;&gt;(); // create an Iterable object with all points we found\n        range(root, rect, points); // call helper method with rects intersects comparing\n        \n        return points; // return an Iterable object (It could be any type - Queue, LinkedList etc)\n    }\n\n    private void range(Node node, RectHV rect, List&lt;Point2D&gt; points) {\n        if (node == null || !node.rect.intersects(rect)) return; // a base case for recursive call\n\n\n        if (rect.contains(node.p))\n                points.add(node.p);\n        range(node.lb, rect, points);\n        range(node.rt, rect, points);\n\n    }    \n\n    public Point2D nearest(Point2D query) {\n         if (isEmpty()) return null;\n        if (query == null) throw new IllegalArgumentException(&quot;calls nearest() with a null point&quot;);\n        // set the start distance from root to query point\n        double best = root.p.distanceSquaredTo(query);\n        // StdDraw.setPenColor(StdDraw.BLACK); // just for debugging\n        // StdDraw.setPenRadius(0.01);\n        // query.draw();\n        return nearest(root, query, root.p, best, 1); // call a helper method\n    }\n\n    private Point2D nearest(Node node, Point2D query, Point2D champ, double best, int level) {\n        // a base case for the recursive call\n        if (node == null || best &lt; node.rect.distanceSquaredTo(query)) return champ;\n        // we'll need to set an actual best distance when we recur\n        best = champ.distanceSquaredTo(query);\n        // check whether a distance from query point to the traversed node less than\n        // distance from current champion to query point\n        double temp = node.p.distanceSquaredTo(query);\n        if (temp &lt; best) {\n            best = temp;\n            champ = node.p;\n        }\n\n        if (level % 2 == 0) { // search by y coordinate (node with horizontal partition line)\n            // we compare y coordinate and decide go up or down\n            if (node.p.y() &lt; query.y()) { // if true go up\n                champ = nearest(node.rt, query, champ, best, level + 1);\n                // important case - when we traverse node and go back up through the tree\n                // we need to decide whether we need to go down(left) in this node or not\n                // we just check our bottom (left) node on null &amp;&amp; compare distance\n                // from query point to the nearest point of the node's rectangle and\n                // the distance from current champ point to thr query point\n                if (node.lb != null &amp;&amp; node.lb.rect.distanceSquaredTo(query) &lt; champ.distanceSquaredTo(query)) {\n                    champ = nearest(node.lb, query, champ, best, level + 1);\n                }\n\n            }\n            else { // if false go down\n                champ = nearest(node.lb, query, champ, best, level + 1);\n                if (node.rt != null &amp;&amp; node.rt.rect.distanceSquaredTo(query) &lt; champ.distanceSquaredTo(query))\n                    // when we traverse node and go back up through the tree\n                    // we need to decide whether we need to go up(right) in this node or not\n                    // we just check our top (right) node on null &amp;&amp; compare distance\n                    // from query point to the nearest point of the node's rectangle and\n                    // the distance from current champ point to thr query point\n                    champ = nearest(node.rt, query, champ, best, level + 1);\n\n            }\n\n        }\n        else {\n            // search by x coordinate (node with vertical partition line)\n            if (node.p.x() &lt; query.x()) { // if true go right\n                champ = nearest(node.rt, query, champ, best, level + 1);\n                // the same check as mentioned above when we search by y coordinate\n                if (node.lb != null &amp;&amp; node.lb.rect.distanceSquaredTo(query) &lt; champ.distanceSquaredTo(query))\n                    champ = nearest(node.lb, query, champ, best, level + 1);\n            }\n            else { // if false go left\n                champ = nearest(node.lb, query, champ, best, level + 1);\n                  if (node.rt != null &amp;&amp; node.rt.rect.distanceSquaredTo(query) &lt; champ.distanceSquaredTo(query))\n                     champ = nearest(node.rt, query, champ, best, level + 1);\n            }\n        }\n        return champ;\n    }\n\n\n\n    public static void main(String[] args) {\n        // unit tests\n        KdTree kd = new KdTree();\n        Point2D p1 = new Point2D(0.7, 0.2);\n        Point2D p2 = new Point2D(0.5, 0.4);\n        Point2D p3 = new Point2D(0.2, 0.3);\n        Point2D p4 = new Point2D(0.4, 0.7);\n        Point2D p5 = new Point2D(0.9, 0.6);\n        // Point2D query = new Point2D(0.676, 0.736);\n        Point2D query1 = new Point2D(0.972, 0.887);\n        // RectHV test = new RectHV(0, 0, 0.7, 0.4);\n        // Point2D query = new Point2D(0.331, 0.762);\n\n        // Point2D p6 = new Point2D(0.4, 0.4);\n        // Point2D p7 = new Point2D(0.1, 0.6);\n        // RectHV rect = new RectHV(0.05, 0.1, 0.15, 0.6);\n\n        kd.insert(p1);\n        kd.insert(p2);\n        kd.insert(p3);\n        kd.insert(p4);\n        kd.insert(p5);\n        System.out.println(kd.nearest(query1));\n        // System.out.println(&quot;Dist query to 0.4,0.7= &quot; + query.distanceSquaredTo(p4));\n        // System.out.println(&quot;Dist query to RectHV 0.2,0,3= &quot; + test.distanceSquaredTo(p4));\n        // kd.insert(p6);\n        // kd.insert(p7);\n        // System.out.println(kd.size);\n        // System.out.println(kd.contains(p3));\n        // // System.out.println(kd.range(rect));\n\n        kd.draw();\n        \n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20021036,"reputation":21,"user_id":14675985,"display_name":"Ilvis Faulbaums"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667557960,"creation_date":1667557960,"answer_id":74315594,"question_id":253767,"body_markdown":"Thanks to theosem, really!\r\n\r\nBased on his posted library (http://java-ml.sourceforge.net/) I made this code example:\r\n\r\n    package kdtreeexample; //place your package name here\r\n    import net.sf.javaml.core.kdtree.KDTree; //import library\r\n    public class KDTreeExample {\r\n\r\n    public static void main(String[] args) {\r\n        KDTree kdTree = new KDTree(2); //2 dimensions (x, y)\r\n    //        point insertion:\r\n        kdTree.insert(new double[]{4, 3}, 0); //insert points (x=4,y=3), index = 0\r\n        kdTree.insert(new double[]{1, 10}, 1); //insert points (x=1,y=10), index = 1\r\n        kdTree.insert(new double[]{10, 10}, 2); //insert points (x=10,y=10), index = 2\r\n        kdTree.insert(new double[]{5, 1}, 3); //insert points (x=5,y=1), index = 3\r\n    //        nearest index to point in coordinates x, y:\r\n        int x = 0; //x coordinate for target point\r\n        int y = 11; //y coordinate for target point\r\n        int nearestIndex = (int) kdTree.nearest(new double[]{x, y}); //doing calculation here\r\n        // result:\r\n        System.out.println(&quot;Nearest point value index to point(&quot; + x + &quot;, &quot; + y + &quot;) = &quot; + nearestIndex);\r\n        System.out.println(kdTree.toString()); //check the data\r\n        }\r\n    }","title":"KDTree Implementation in Java","body":"<p>Thanks to theosem, really!</p>\n<p>Based on his posted library (<a href=\"http://java-ml.sourceforge.net/\" rel=\"nofollow noreferrer\">http://java-ml.sourceforge.net/</a>) I made this code example:</p>\n<pre><code>package kdtreeexample; //place your package name here\nimport net.sf.javaml.core.kdtree.KDTree; //import library\npublic class KDTreeExample {\n\npublic static void main(String[] args) {\n    KDTree kdTree = new KDTree(2); //2 dimensions (x, y)\n//        point insertion:\n    kdTree.insert(new double[]{4, 3}, 0); //insert points (x=4,y=3), index = 0\n    kdTree.insert(new double[]{1, 10}, 1); //insert points (x=1,y=10), index = 1\n    kdTree.insert(new double[]{10, 10}, 2); //insert points (x=10,y=10), index = 2\n    kdTree.insert(new double[]{5, 1}, 3); //insert points (x=5,y=1), index = 3\n//        nearest index to point in coordinates x, y:\n    int x = 0; //x coordinate for target point\n    int y = 11; //y coordinate for target point\n    int nearestIndex = (int) kdTree.nearest(new double[]{x, y}); //doing calculation here\n    // result:\n    System.out.println(&quot;Nearest point value index to point(&quot; + x + &quot;, &quot; + y + &quot;) = &quot; + nearestIndex);\n    System.out.println(kdTree.toString()); //check the data\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11817,"reputation":16579,"user_id":22979,"accept_rate":66,"display_name":"benjismith"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53154,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"accepted_answer_id":269103,"answer_count":11,"score":55,"last_activity_date":1667557960,"creation_date":1225464283,"question_id":253767,"body_markdown":"I&#39;m looking for a KDTree implementation in Java.  \r\nI&#39;ve done a google search and the results seem pretty haphazard. There are actually lots of results, but they&#39;re mostly just little one-off implementations, and I&#39;d rather find something with a little more &quot;production value&quot;. Something like apache collections or the excellent C5 collection library for .NET. Something where I can see the public bug tracker and check to see when the last SVN commit happened. Also, in an ideal world, I&#39;d find a nice well-designed API for spatial data structures, and the KDTree would be just one class in that library.\r\n\r\nFor this project, I&#39;ll only be working in either 2 or 3 dimensions, and I&#39;m mostly just interested in a good nearest-neighbors implementation.","title":"KDTree Implementation in Java","body":"<p>I'm looking for a KDTree implementation in Java.<br>\nI've done a google search and the results seem pretty haphazard. There are actually lots of results, but they're mostly just little one-off implementations, and I'd rather find something with a little more \"production value\". Something like apache collections or the excellent C5 collection library for .NET. Something where I can see the public bug tracker and check to see when the last SVN commit happened. Also, in an ideal world, I'd find a nice well-designed API for spatial data structures, and the KDTree would be just one class in that library.</p>\n\n<p>For this project, I'll only be working in either 2 or 3 dimensions, and I'm mostly just interested in a good nearest-neighbors implementation.</p>\n"},{"tags":["java","junit","mocking","rabbitmq","amqp"],"comments":[{"owner":{"account_id":372117,"reputation":2909,"user_id":1486762,"accept_rate":47,"display_name":"Bilbo Baggins"},"score":0,"creation_date":1462789699,"post_id":37113377,"comment_id":61768107,"body_markdown":"Code to be tested please? what have you tried so far?","body":"Code to be tested please? what have you tried so far?"},{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":1,"creation_date":1462791972,"post_id":37113377,"comment_id":61769540,"body_markdown":"There&#39;s no much point in unit testing an integration point, as it doesn&#39;t provide any value. After all, you can mock the whole API in ways that don&#39;t work with the real broker. I&#39;m not saying you shouldn&#39;t test this, but rather use an integration test. Have a *test* instance of rabbitMQ running in your infrastructure and run an integration test against it. You can randomly create a channel for each time the test runs so there&#39;s no conflict. Alternatively, if you&#39;re using docker or something similar, you can spin up a private broker.","body":"There&#39;s no much point in unit testing an integration point, as it doesn&#39;t provide any value. After all, you can mock the whole API in ways that don&#39;t work with the real broker. I&#39;m not saying you shouldn&#39;t test this, but rather use an integration test. Have a <i>test</i> instance of rabbitMQ running in your infrastructure and run an integration test against it. You can randomly create a channel for each time the test runs so there&#39;s no conflict. Alternatively, if you&#39;re using docker or something similar, you can spin up a private broker."},{"owner":{"account_id":3794041,"reputation":15633,"user_id":3154233,"accept_rate":88,"display_name":"NoobEditor"},"score":0,"creation_date":1512537693,"post_id":37113377,"comment_id":82293576,"body_markdown":"sometimes SO behaves like humanity when it comes to answers - hopeless!!!","body":"sometimes SO behaves like humanity when it comes to answers - hopeless!!!"}],"answers":[{"tags":[],"owner":{"account_id":3794041,"reputation":15633,"user_id":3154233,"accept_rate":88,"display_name":"NoobEditor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512624488,"creation_date":1512624488,"answer_id":47688201,"question_id":37113377,"body_markdown":"So here is how i did it, some stuffs might be here and there in process of hiding the necessary class implementation details, but you would get a hint! :)\r\n\r\n- assumption for unit test:\r\n - RMQ is working fine and data send to it would be pushed in queue\r\n - Only thing to be tested is if the data generated is correct or not\r\n - and whether the call to RMQs `send()` is happening or not!\r\n\r\n-----------\r\n\r\n\r\n \r\n\r\n     public class SomeClassTest {\r\n            private Config config;\r\n            private RmqConfig rmqConfig;\r\n            private static final ObjectMapper mapper = new ObjectMapper();\r\n            private JasperServerClient jasperServerClient;\r\n        //    @Mock\r\n            @InjectMocks\r\n            private RabbitMQProducer rabbitMQProducer;\r\n            private Connection phoenixConnection;\r\n            private String targetNotificationMessage;\r\n            SomeClass someClassObject;\r\n        \r\n            @Before\r\n            public void setUp() {\r\n        \r\n                // Mock basic stuffs\r\n                config = mock(Config.class);\r\n                Connection = mock(Connection.class);\r\n                rabbitMQProducer = mock(RabbitMQProducer.class); // Imp\r\n        \r\n        \r\n                jasperServerClient = mock(JasperServerClient.class);\r\n        \r\n                rmqConfig = RmqConfig.builder()\r\n                        .host(&quot;localhost&quot;)\r\n                        .port(5672)\r\n                        .userName(&quot;guest&quot;)\r\n                        .password(&quot;guest&quot;)\r\n                        .queueName(&quot;somequeue_name&quot;)\r\n                        .prefetch(1)\r\n                        .build();\r\n                final String randomMessage = &quot;This is a waste message&quot;;\r\n                Message mockMsg = Message.forSending(randomMessage.getBytes(), null, rmqConfig.getQueueName(), rmqConfig.getQueueName(), &quot;text/plain&quot;, &quot;UTF-8&quot;, true); // prepare a mock message\r\n        \r\n        \r\n                // Prepare service configs\r\n                ConnectionConfig connectionConfig = RmqConfigUtil.getConfig(rmqConfig);\r\n                ProducerConfig producerConfig = new ProducerConfigBuilder()\r\n                        .exchange(rmqConfig.getQueueName())\r\n                        .contentType(&quot;text/pain&quot;)\r\n                        .contentEncoding(&quot;UTF-8&quot;)\r\n                        .connection(connectionConfig).build();\r\n                rabbitMQProducer.open(croducerConfig.asMap());\r\n                \r\n                // build the major stuff where the code resides\r\n                someClassObject =  SomeClass.builder()\r\n                        .phoenixConnection(phoenixConnection)\r\n                        .userExchangeName(rmqConfig.getQueueName())\r\n                        .userRabbitMQProducer(rabbitMQProducer)\r\n                        .ftpConfig(config.getFtpConfig())\r\n                        .jasperServerClient(jasperServerClient)\r\n                        .objectMapper(new ObjectMapper())\r\n                        .build();\r\n            \r\n                MockitoAnnotations.initMocks(this);\r\n            }\r\n        \r\n        \r\n            @Test\r\n            public void testNotificationPub() throws Exception {\r\n                \r\n                // Prepare expected Values\r\n                targetNotificationMessage = &lt;&lt;some message&gt;&gt;\r\n        \r\n                // Reflection -  my target functions were private\r\n                Class cls = Class.forName(&quot;com.some.path.to.class&quot;);\r\n                Object[] objForGetMessage = {&lt;&lt;stuffs&gt;&gt;, &lt;&lt;stuffs&gt;&gt;};\r\n        \r\n                Method getNotificationMessage = cls.getDeclaredMethod(&quot;private_fn_1&quot;, &lt;&lt;some class&gt;&gt;.class, &lt;&lt;some class&gt;&gt;.class);\r\n                Method pubNotification = cls.getDeclaredMethod(&quot;private_fn_2&quot;, &lt;&lt;some class&gt;&gt;.class, RabbitMQProducer.class, String.class);\r\n        \r\n                getNotificationMessage.setAccessible(true);\r\n                pubNotification.setAccessible(true);\r\n        \r\n                // Test Case #1\r\n                final &lt;&lt;some class&gt;&gt; notificationMessage = (&lt;&lt;some class&gt;&gt;)getNotificationMessage.invoke(someClassObject, objForGetMessage);\r\n                assertEquals(notificationMessage.getMessage(), targetNotificationMessage);\r\n        \r\n                // Test Case #2 -  this does RMQ call\r\n                Object[] objPubMessage = {notificationMessage, rabbitMQProducer, rmqConfig.getQueueName()};\r\n                final Object publishNotification = pubNotification.invoke(someClassObject, objPubMessage);\r\n                assertEquals(publishNotificationResp, publishNotification); //viola\r\n    \r\n    \r\n                //Important, since RabbitMQProducer is mocked, we need to checkup if function call is made to &quot;send&quot; function which send data to RMQ\r\n                verify(rabbitMQProducer,times(1)).send(any());\r\n        \r\n            }\r\n        \r\n        \r\n            @Test\r\n            public void testMockCreation(){\r\n                assertNotNull(rmqConfig);\r\n                assertNotNull(config);\r\n            }\r\n\r\n\r\n","title":"I need to mock a RabbitMQ in my unit Test","body":"<p>So here is how i did it, some stuffs might be here and there in process of hiding the necessary class implementation details, but you would get a hint! :)</p>\n\n<ul>\n<li>assumption for unit test:\n\n<ul>\n<li>RMQ is working fine and data send to it would be pushed in queue</li>\n<li>Only thing to be tested is if the data generated is correct or not</li>\n<li>and whether the call to RMQs <code>send()</code> is happening or not!</li>\n</ul></li>\n</ul>\n\n<hr>\n\n<pre><code> public class SomeClassTest {\n        private Config config;\n        private RmqConfig rmqConfig;\n        private static final ObjectMapper mapper = new ObjectMapper();\n        private JasperServerClient jasperServerClient;\n    //    @Mock\n        @InjectMocks\n        private RabbitMQProducer rabbitMQProducer;\n        private Connection phoenixConnection;\n        private String targetNotificationMessage;\n        SomeClass someClassObject;\n\n        @Before\n        public void setUp() {\n\n            // Mock basic stuffs\n            config = mock(Config.class);\n            Connection = mock(Connection.class);\n            rabbitMQProducer = mock(RabbitMQProducer.class); // Imp\n\n\n            jasperServerClient = mock(JasperServerClient.class);\n\n            rmqConfig = RmqConfig.builder()\n                    .host(\"localhost\")\n                    .port(5672)\n                    .userName(\"guest\")\n                    .password(\"guest\")\n                    .queueName(\"somequeue_name\")\n                    .prefetch(1)\n                    .build();\n            final String randomMessage = \"This is a waste message\";\n            Message mockMsg = Message.forSending(randomMessage.getBytes(), null, rmqConfig.getQueueName(), rmqConfig.getQueueName(), \"text/plain\", \"UTF-8\", true); // prepare a mock message\n\n\n            // Prepare service configs\n            ConnectionConfig connectionConfig = RmqConfigUtil.getConfig(rmqConfig);\n            ProducerConfig producerConfig = new ProducerConfigBuilder()\n                    .exchange(rmqConfig.getQueueName())\n                    .contentType(\"text/pain\")\n                    .contentEncoding(\"UTF-8\")\n                    .connection(connectionConfig).build();\n            rabbitMQProducer.open(croducerConfig.asMap());\n\n            // build the major stuff where the code resides\n            someClassObject =  SomeClass.builder()\n                    .phoenixConnection(phoenixConnection)\n                    .userExchangeName(rmqConfig.getQueueName())\n                    .userRabbitMQProducer(rabbitMQProducer)\n                    .ftpConfig(config.getFtpConfig())\n                    .jasperServerClient(jasperServerClient)\n                    .objectMapper(new ObjectMapper())\n                    .build();\n\n            MockitoAnnotations.initMocks(this);\n        }\n\n\n        @Test\n        public void testNotificationPub() throws Exception {\n\n            // Prepare expected Values\n            targetNotificationMessage = &lt;&lt;some message&gt;&gt;\n\n            // Reflection -  my target functions were private\n            Class cls = Class.forName(\"com.some.path.to.class\");\n            Object[] objForGetMessage = {&lt;&lt;stuffs&gt;&gt;, &lt;&lt;stuffs&gt;&gt;};\n\n            Method getNotificationMessage = cls.getDeclaredMethod(\"private_fn_1\", &lt;&lt;some class&gt;&gt;.class, &lt;&lt;some class&gt;&gt;.class);\n            Method pubNotification = cls.getDeclaredMethod(\"private_fn_2\", &lt;&lt;some class&gt;&gt;.class, RabbitMQProducer.class, String.class);\n\n            getNotificationMessage.setAccessible(true);\n            pubNotification.setAccessible(true);\n\n            // Test Case #1\n            final &lt;&lt;some class&gt;&gt; notificationMessage = (&lt;&lt;some class&gt;&gt;)getNotificationMessage.invoke(someClassObject, objForGetMessage);\n            assertEquals(notificationMessage.getMessage(), targetNotificationMessage);\n\n            // Test Case #2 -  this does RMQ call\n            Object[] objPubMessage = {notificationMessage, rabbitMQProducer, rmqConfig.getQueueName()};\n            final Object publishNotification = pubNotification.invoke(someClassObject, objPubMessage);\n            assertEquals(publishNotificationResp, publishNotification); //viola\n\n\n            //Important, since RabbitMQProducer is mocked, we need to checkup if function call is made to \"send\" function which send data to RMQ\n            verify(rabbitMQProducer,times(1)).send(any());\n\n        }\n\n\n        @Test\n        public void testMockCreation(){\n            assertNotNull(rmqConfig);\n            assertNotNull(config);\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6873189,"reputation":382,"user_id":5282647,"display_name":"The Ancient"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1519570698,"creation_date":1519570698,"answer_id":48974853,"question_id":37113377,"body_markdown":"I know, it is an old question, still as there is no answer so far. What helped me a lot at the same question, is the following blog post: [https://tamasgyorfi.net/2016/04/21/writing-integration-tests-for-rabbitmq-based-components/][1]. \r\nIt uses Apache QPID (not ActiveMQ as suggested in the OP) and it has support for AMQP 0.9.1.\r\n\r\n  [1]: https://tamasgyorfi.net/2016/04/21/writing-integration-tests-for-rabbitmq-based-components/","title":"I need to mock a RabbitMQ in my unit Test","body":"<p>I know, it is an old question, still as there is no answer so far. What helped me a lot at the same question, is the following blog post: <a href=\"https://tamasgyorfi.net/2016/04/21/writing-integration-tests-for-rabbitmq-based-components/\" rel=\"nofollow noreferrer\">https://tamasgyorfi.net/2016/04/21/writing-integration-tests-for-rabbitmq-based-components/</a>. \nIt uses Apache QPID (not ActiveMQ as suggested in the OP) and it has support for AMQP 0.9.1.</p>\n"},{"tags":[],"owner":{"account_id":13976172,"reputation":985,"user_id":10093542,"display_name":"Lo&#239;c Le Doyen"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1581288292,"creation_date":1531831456,"answer_id":51381721,"question_id":37113377,"body_markdown":"As I understand it, there are two things trying to be tested in the question:\r\n\r\n - TLS configuration to connect to RabbitMQ\r\n - basicPublish / basicConsume (what&#39;s called *delivery*) behavior regarding interactions with the rest of the application\r\n\r\nFor the first one, as TLS itself is being tested, only connecting to a real instance of RabbitMQ with correct truststore configured will prove that configuration is working\r\n\r\nFor the second one however, for tests demonstrating features of the app (with tools like Cucumber for readability), you may try a library i&#39;m working on: [rabbitmq-mock][1] (and that&#39;s why I&#39;m digging up an old post)\r\n\r\nJust include it as dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.github.fridujo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;rabbitmq-mock&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.14&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd replace `new ConnectionFactory()` by `new MockConnectionFactory()` in your unit test.\r\n\r\nSamples are available in the project: https://github.com/fridujo/rabbitmq-mock/blob/master/src/test/java/com/github/fridujo/rabbitmq/mock/IntegrationTest.java\r\n\r\n  [1]: https://github.com/fridujo/rabbitmq-mock","title":"I need to mock a RabbitMQ in my unit Test","body":"<p>As I understand it, there are two things trying to be tested in the question:</p>\n\n<ul>\n<li>TLS configuration to connect to RabbitMQ</li>\n<li>basicPublish / basicConsume (what's called <em>delivery</em>) behavior regarding interactions with the rest of the application</li>\n</ul>\n\n<p>For the first one, as TLS itself is being tested, only connecting to a real instance of RabbitMQ with correct truststore configured will prove that configuration is working</p>\n\n<p>For the second one however, for tests demonstrating features of the app (with tools like Cucumber for readability), you may try a library i'm working on: <a href=\"https://github.com/fridujo/rabbitmq-mock\" rel=\"noreferrer\">rabbitmq-mock</a> (and that's why I'm digging up an old post)</p>\n\n<p>Just include it as dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.github.fridujo&lt;/groupId&gt;\n    &lt;artifactId&gt;rabbitmq-mock&lt;/artifactId&gt;\n    &lt;version&gt;1.0.14&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>And replace <code>new ConnectionFactory()</code> by <code>new MockConnectionFactory()</code> in your unit test.</p>\n\n<p>Samples are available in the project: <a href=\"https://github.com/fridujo/rabbitmq-mock/blob/master/src/test/java/com/github/fridujo/rabbitmq/mock/IntegrationTest.java\" rel=\"noreferrer\">https://github.com/fridujo/rabbitmq-mock/blob/master/src/test/java/com/github/fridujo/rabbitmq/mock/IntegrationTest.java</a></p>\n"}],"owner":{"account_id":6937701,"reputation":929,"user_id":5325113,"accept_rate":75,"display_name":"Miguel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32882,"favorite_count":0,"down_vote_count":1,"up_vote_count":23,"answer_count":3,"score":22,"last_activity_date":1667557893,"creation_date":1462789538,"question_id":37113377,"body_markdown":"I am using a RabbitMQ in my project.\r\n\r\nI have in my consumer the code of the client part of rabbitMQ and the connection need a tls1.1 to connect with the real MQ.\r\n\r\nI want to test this code in my JUnit test and to mock the message delivery to my consumer.\r\n\r\nI see in google several examples with different tools how camel rabbit or activeMQ but this tools works with amqp 1.0 and rabbitMQ only works in amqp 0.9 .\r\n\r\nSomeone had this problem?\r\n\r\nThanks!\r\n\r\nUPDATE\r\n\r\nThis is the code to testing to receive a json from the queue.\r\n\r\n    package com.foo.foo.queue;\r\n\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.net.URL;\r\n    import java.security.*;\r\n    import java.security.cert.CertificateException;\r\n    import javax.net.ssl.*;\r\n\r\n    import org.apache.commons.lang3.StringUtils;\r\n    import org.apache.log4j.LogManager;\r\n    import org.apache.log4j.Logger;\r\n    import org.json.JSONObject;\r\n\r\n    import com.foo.foo.Constants.Constants;\r\n    import com.foo.foo.core.ConfigurationContainer;\r\n    import com.foo.foo.policyfinders.PolicyFinder;\r\n    import com.rabbitmq.client.Channel;\r\n    import com.rabbitmq.client.Connection;\r\n    import com.rabbitmq.client.ConnectionFactory;\r\n    import com.rabbitmq.client.QueueingConsumer;\r\n\r\n    public class BrokerThreadHLConsumer extends Thread {\r\n\r\n    private static BrokerThreadHLConsumer instance;\r\n\r\n    private static final Logger log = LogManager.getLogger(BrokerThreadHLConsumer.class);\r\n\r\n    private Channel channel;\r\n    private String queueName;\r\n    private PolicyFinder PolicyFinder;\r\n    private Connection connection;\r\n    private QueueingConsumer consumer;\r\n\r\n    private boolean loop;\r\n\r\n    private BrokerThreadHLConsumer() throws IOException {\r\n        ConnectionFactory factory = new ConnectionFactory();\r\n        char[] keyPassphrase = &quot;clientrabbit&quot;.toCharArray();\r\n        KeyStore keyStoreCacerts;\r\n        ConfigurationContainer configurationContainer = ConfigurationContainer.getInstance();\r\n        String exchangeName = configurationContainer.getProperty(Constants.EXCHANGE_NAME);\r\n        String rabbitHost = configurationContainer.getProperty(Constants.RABBITMQ_SERVER_HOST_VALUE);\r\n        try {\r\n        \t/* Public key cacerts to connect to message queue*/\r\n        \tkeyStoreCacerts = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n            URL resourcePublicKey = this.getClass().getClassLoader().getResource(&quot;certs/client.keycert.p12&quot;);\r\n            File filePublicKey = new File(resourcePublicKey.toURI());\r\n            keyStoreCacerts.load(new FileInputStream(filePublicKey), keyPassphrase);\r\n            KeyManagerFactory keyManager;\r\n\r\n            keyManager = KeyManagerFactory.getInstance(&quot;SunX509&quot;);\r\n            keyManager.init(keyStoreCacerts, keyPassphrase);\r\n\r\n            char[] trustPassphrase = &quot;changeit&quot;.toCharArray();\r\n            KeyStore tks;\r\n\r\n            tks = KeyStore.getInstance(&quot;JCEKS&quot;);\r\n            \r\n            URL resourceCacerts = this.getClass().getClassLoader().getResource(&quot;certs/cacerts&quot;);\r\n            File fileCacerts = new File(resourceCacerts.toURI());\r\n            \r\n            tks.load(new FileInputStream(fileCacerts), trustPassphrase);\r\n\r\n            TrustManagerFactory tmf;\r\n            tmf = TrustManagerFactory.getInstance(&quot;SunX509&quot;);\r\n            tmf.init(tks);\r\n\r\n            SSLContext c = SSLContext.getInstance(&quot;TLSv1.1&quot;);\r\n            c.init(keyManager.getKeyManagers(), tmf.getTrustManagers(), null);\r\n\r\n            factory.setUri(rabbitHost);\r\n            factory.useSslProtocol(c);\r\n            connection = factory.newConnection();\r\n            channel = connection.createChannel();\r\n            channel.exchangeDeclare(exchangeName, &quot;fanout&quot;);\r\n            queueName = channel.queueDeclare().getQueue();\r\n            channel.queueBind(queueName, exchangeName, &quot;&quot;);\r\n\r\n        } catch (NoSuchAlgorithmException e) {\r\n            e.printStackTrace();\r\n        } catch (CertificateException e) {\r\n            e.printStackTrace();\r\n        } catch (KeyStoreException e) {\r\n            e.printStackTrace();\r\n        } catch (UnrecoverableKeyException e) {\r\n            e.printStackTrace();\r\n        } catch (KeyManagementException e1) {\r\n            e1.printStackTrace();\r\n        } catch (Exception e) {\r\n            log.error(&quot;Couldn&#39;t instantiate a channel with the broker installed in &quot; + rabbitHost);\r\n            log.error(e.getStackTrace());\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public static BrokerThreadHLConsumer getInstance() throws CertificateException, UnrecoverableKeyException, NoSuchAlgorithmException, KeyStoreException, KeyManagementException, IOException {\r\n        if (instance == null)\r\n            instance = new BrokerThreadHLConsumer();\r\n        return instance;\r\n    }\r\n\r\n    public void run() {\r\n        if (PolicyFinder != null) {\r\n            try {\r\n                consumer = new QueueingConsumer(channel);\r\n                channel.basicConsume(queueName, true, consumer);\r\n                log.info(&quot;Consumer broker started and waiting for messages&quot;);\r\n                loop = true;\r\n                while (loop) {\r\n                    try {\r\n                        QueueingConsumer.Delivery delivery = consumer.nextDelivery();\r\n                        String message = new String(delivery.getBody());\r\n                        JSONObject obj = new JSONObject(message);\r\n                        log.info(&quot;Message received from broker &quot; + obj);\r\n                        if (StringUtils.isNotEmpty(message) &amp;&amp; !PolicyFinder.managePolicySet(obj)) {\r\n                            log.error(&quot;PolicySet error: error upgrading the policySet&quot;);\r\n                        }\r\n                    } catch (Exception e) {\r\n                        log.error(&quot;Receiving message error&quot;);\r\n                        log.error(e);\r\n                    }\r\n                }\r\n            } catch (IOException e) {\r\n                log.error(&quot;Consumer couldn&#39;t start&quot;);\r\n                log.error(e.getStackTrace());\r\n            }\r\n        } else {\r\n            log.error(&quot;Consumer couldn&#39;t start cause of PolicyFinder is null&quot;);\r\n        }\r\n    }\r\n\r\n    public void close() {\r\n        loop = false;\r\n        try {\r\n            consumer.getChannel().basicCancel(consumer.getConsumerTag());\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        try {\r\n            channel.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        try {\r\n            connection.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public void setLuxPolicyFinder(PolicyFinder PolicyFinder) {\r\n        this.PolicyFinder = PolicyFinder;\r\n    }\r\n    }","title":"I need to mock a RabbitMQ in my unit Test","body":"<p>I am using a RabbitMQ in my project.</p>\n\n<p>I have in my consumer the code of the client part of rabbitMQ and the connection need a tls1.1 to connect with the real MQ.</p>\n\n<p>I want to test this code in my JUnit test and to mock the message delivery to my consumer.</p>\n\n<p>I see in google several examples with different tools how camel rabbit or activeMQ but this tools works with amqp 1.0 and rabbitMQ only works in amqp 0.9 .</p>\n\n<p>Someone had this problem?</p>\n\n<p>Thanks!</p>\n\n<p>UPDATE</p>\n\n<p>This is the code to testing to receive a json from the queue.</p>\n\n<pre><code>package com.foo.foo.queue;\n\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.net.URL;\nimport java.security.*;\nimport java.security.cert.CertificateException;\nimport javax.net.ssl.*;\n\nimport org.apache.commons.lang3.StringUtils;\nimport org.apache.log4j.LogManager;\nimport org.apache.log4j.Logger;\nimport org.json.JSONObject;\n\nimport com.foo.foo.Constants.Constants;\nimport com.foo.foo.core.ConfigurationContainer;\nimport com.foo.foo.policyfinders.PolicyFinder;\nimport com.rabbitmq.client.Channel;\nimport com.rabbitmq.client.Connection;\nimport com.rabbitmq.client.ConnectionFactory;\nimport com.rabbitmq.client.QueueingConsumer;\n\npublic class BrokerThreadHLConsumer extends Thread {\n\nprivate static BrokerThreadHLConsumer instance;\n\nprivate static final Logger log = LogManager.getLogger(BrokerThreadHLConsumer.class);\n\nprivate Channel channel;\nprivate String queueName;\nprivate PolicyFinder PolicyFinder;\nprivate Connection connection;\nprivate QueueingConsumer consumer;\n\nprivate boolean loop;\n\nprivate BrokerThreadHLConsumer() throws IOException {\n    ConnectionFactory factory = new ConnectionFactory();\n    char[] keyPassphrase = \"clientrabbit\".toCharArray();\n    KeyStore keyStoreCacerts;\n    ConfigurationContainer configurationContainer = ConfigurationContainer.getInstance();\n    String exchangeName = configurationContainer.getProperty(Constants.EXCHANGE_NAME);\n    String rabbitHost = configurationContainer.getProperty(Constants.RABBITMQ_SERVER_HOST_VALUE);\n    try {\n        /* Public key cacerts to connect to message queue*/\n        keyStoreCacerts = KeyStore.getInstance(\"PKCS12\");\n        URL resourcePublicKey = this.getClass().getClassLoader().getResource(\"certs/client.keycert.p12\");\n        File filePublicKey = new File(resourcePublicKey.toURI());\n        keyStoreCacerts.load(new FileInputStream(filePublicKey), keyPassphrase);\n        KeyManagerFactory keyManager;\n\n        keyManager = KeyManagerFactory.getInstance(\"SunX509\");\n        keyManager.init(keyStoreCacerts, keyPassphrase);\n\n        char[] trustPassphrase = \"changeit\".toCharArray();\n        KeyStore tks;\n\n        tks = KeyStore.getInstance(\"JCEKS\");\n\n        URL resourceCacerts = this.getClass().getClassLoader().getResource(\"certs/cacerts\");\n        File fileCacerts = new File(resourceCacerts.toURI());\n\n        tks.load(new FileInputStream(fileCacerts), trustPassphrase);\n\n        TrustManagerFactory tmf;\n        tmf = TrustManagerFactory.getInstance(\"SunX509\");\n        tmf.init(tks);\n\n        SSLContext c = SSLContext.getInstance(\"TLSv1.1\");\n        c.init(keyManager.getKeyManagers(), tmf.getTrustManagers(), null);\n\n        factory.setUri(rabbitHost);\n        factory.useSslProtocol(c);\n        connection = factory.newConnection();\n        channel = connection.createChannel();\n        channel.exchangeDeclare(exchangeName, \"fanout\");\n        queueName = channel.queueDeclare().getQueue();\n        channel.queueBind(queueName, exchangeName, \"\");\n\n    } catch (NoSuchAlgorithmException e) {\n        e.printStackTrace();\n    } catch (CertificateException e) {\n        e.printStackTrace();\n    } catch (KeyStoreException e) {\n        e.printStackTrace();\n    } catch (UnrecoverableKeyException e) {\n        e.printStackTrace();\n    } catch (KeyManagementException e1) {\n        e1.printStackTrace();\n    } catch (Exception e) {\n        log.error(\"Couldn't instantiate a channel with the broker installed in \" + rabbitHost);\n        log.error(e.getStackTrace());\n        e.printStackTrace();\n    }\n}\n\npublic static BrokerThreadHLConsumer getInstance() throws CertificateException, UnrecoverableKeyException, NoSuchAlgorithmException, KeyStoreException, KeyManagementException, IOException {\n    if (instance == null)\n        instance = new BrokerThreadHLConsumer();\n    return instance;\n}\n\npublic void run() {\n    if (PolicyFinder != null) {\n        try {\n            consumer = new QueueingConsumer(channel);\n            channel.basicConsume(queueName, true, consumer);\n            log.info(\"Consumer broker started and waiting for messages\");\n            loop = true;\n            while (loop) {\n                try {\n                    QueueingConsumer.Delivery delivery = consumer.nextDelivery();\n                    String message = new String(delivery.getBody());\n                    JSONObject obj = new JSONObject(message);\n                    log.info(\"Message received from broker \" + obj);\n                    if (StringUtils.isNotEmpty(message) &amp;&amp; !PolicyFinder.managePolicySet(obj)) {\n                        log.error(\"PolicySet error: error upgrading the policySet\");\n                    }\n                } catch (Exception e) {\n                    log.error(\"Receiving message error\");\n                    log.error(e);\n                }\n            }\n        } catch (IOException e) {\n            log.error(\"Consumer couldn't start\");\n            log.error(e.getStackTrace());\n        }\n    } else {\n        log.error(\"Consumer couldn't start cause of PolicyFinder is null\");\n    }\n}\n\npublic void close() {\n    loop = false;\n    try {\n        consumer.getChannel().basicCancel(consumer.getConsumerTag());\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    try {\n        channel.close();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    try {\n        connection.close();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n\npublic void setLuxPolicyFinder(PolicyFinder PolicyFinder) {\n    this.PolicyFinder = PolicyFinder;\n}\n}\n</code></pre>\n"},{"tags":["java","file","io"],"comments":[{"owner":{"account_id":485360,"reputation":20815,"user_id":901641,"accept_rate":78,"display_name":"ArtOfWarfare"},"score":15,"creation_date":1384880514,"post_id":3571223,"comment_id":29909766,"body_markdown":"You never know when some new platform is going to come along that defines extensions as being separated by a comma. Now you need to write platform dependent code. The Java frameworks should be more forward thinking and have APIs for getting extensions where they write the platform dependent code and you, as the user of the API, just say get the extension.","body":"You never know when some new platform is going to come along that defines extensions as being separated by a comma. Now you need to write platform dependent code. The Java frameworks should be more forward thinking and have APIs for getting extensions where they write the platform dependent code and you, as the user of the API, just say get the extension."},{"owner":{"account_id":8566752,"reputation":53329,"user_id":6419007,"accept_rate":67,"display_name":"Eric Duminil"},"score":0,"creation_date":1575032072,"post_id":3571223,"comment_id":104442170,"body_markdown":"@ArtOfWarfare: OMG. Let&#39;s create a 100MB JRE with many thousands classes but please be sure to not implement any method which returns `&quot;txt&quot;` from `&quot;filename.txt&quot;` because some platform somewhere might want to use `&quot;filename,txt&quot;`.","body":"@ArtOfWarfare: OMG. Let&#39;s create a 100MB JRE with many thousands classes but please be sure to not implement any method which returns <code>&quot;txt&quot;</code> from <code>&quot;filename.txt&quot;</code> because some platform somewhere might want to use <code>&quot;filename,txt&quot;</code>."},{"owner":{"account_id":7027868,"reputation":613,"user_id":5384689,"display_name":"VelocityPulse"},"score":0,"creation_date":1584456318,"post_id":3571223,"comment_id":107438547,"body_markdown":"@EricDuminil &quot;Be sure to not implement any method which returns &quot;txt&quot; from &quot;filename.txt&quot;&quot; ??? Try `path.substring(path.lastIndexOf(&quot;.&quot;));` ..... And yeah.. They are sure to don&#39;t duplicate something for nothing...","body":"@EricDuminil &quot;Be sure to not implement any method which returns &quot;txt&quot; from &quot;filename.txt&quot;&quot; ??? Try <code>path.substring(path.lastIndexOf(&quot;.&quot;));</code> ..... And yeah.. They are sure to don&#39;t duplicate something for nothing..."},{"owner":{"account_id":8566752,"reputation":53329,"user_id":6419007,"accept_rate":67,"display_name":"Eric Duminil"},"score":0,"creation_date":1584466933,"post_id":3571223,"comment_id":107443714,"body_markdown":"@VelocityPulse That&#39;s *exactly* what bothers me. Since there&#39;s no standard way to get the file extension, you get dozens of half-wrong answers and slightly different implementations. Your code uses 2 methods (I would have liked to have *one* single, explicit method), it returns `&quot;.txt&quot;` from `&quot;filename.txt&quot;`, which might not be the desired result, and worst of all, it fails with `StringIndexOutOfBoundsException` instead of returning an empty string if there&#39;s no extension.","body":"@VelocityPulse That&#39;s <i>exactly</i> what bothers me. Since there&#39;s no standard way to get the file extension, you get dozens of half-wrong answers and slightly different implementations. Your code uses 2 methods (I would have liked to have <i>one</i> single, explicit method), it returns <code>&quot;.txt&quot;</code> from <code>&quot;filename.txt&quot;</code>, which might not be the desired result, and worst of all, it fails with <code>StringIndexOutOfBoundsException</code> instead of returning an empty string if there&#39;s no extension."},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1667558274,"post_id":3571223,"comment_id":131199715,"body_markdown":"Finally, there is a new method `Path#getExtension` available right in the JDK as of Java 20: https://stackoverflow.com/a/74315488/3764965","body":"Finally, there is a new method <code>Path#getExtension</code> available right in the JDK as of Java 20: <a href=\"https://stackoverflow.com/a/74315488/3764965\">stackoverflow.com/a/74315488/3764965</a>"}],"answers":[{"tags":[],"owner":{"account_id":139856,"reputation":77164,"user_id":345717,"accept_rate":81,"display_name":"EboMike"},"down_vote_count":7,"up_vote_count":378,"is_accepted":false,"score":371,"last_activity_date":1369901492,"creation_date":1282782294,"answer_id":3571239,"question_id":3571223,"body_markdown":"Do you really need a &quot;parser&quot; for this?\r\n\r\n    String extension = &quot;&quot;;\r\n    \r\n    int i = fileName.lastIndexOf(&#39;.&#39;);\r\n    if (i &gt; 0) {\r\n        extension = fileName.substring(i+1);\r\n    }\r\n\r\nAssuming that you&#39;re dealing with simple Windows-like file names, not something like `archive.tar.gz`.\r\n\r\nBtw, for the case that a directory may have a &#39;.&#39;, but the filename itself doesn&#39;t (like `/path/to.a/file`), you can do\r\n\r\n    String extension = &quot;&quot;;\r\n    \r\n    int i = fileName.lastIndexOf(&#39;.&#39;);\r\n    int p = Math.max(fileName.lastIndexOf(&#39;/&#39;), fileName.lastIndexOf(&#39;\\\\&#39;));\r\n\r\n    if (i &gt; p) {\r\n        extension = fileName.substring(i+1);\r\n    }\r\n","title":"How do I get the file extension of a file in Java?","body":"<p>Do you really need a \"parser\" for this?</p>\n\n<pre><code>String extension = \"\";\n\nint i = fileName.lastIndexOf('.');\nif (i &gt; 0) {\n    extension = fileName.substring(i+1);\n}\n</code></pre>\n\n<p>Assuming that you're dealing with simple Windows-like file names, not something like <code>archive.tar.gz</code>.</p>\n\n<p>Btw, for the case that a directory may have a '.', but the filename itself doesn't (like <code>/path/to.a/file</code>), you can do</p>\n\n<pre><code>String extension = \"\";\n\nint i = fileName.lastIndexOf('.');\nint p = Math.max(fileName.lastIndexOf('/'), fileName.lastIndexOf('\\\\'));\n\nif (i &gt; p) {\n    extension = fileName.substring(i+1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":113447,"reputation":10163,"user_id":298758,"accept_rate":100,"display_name":"longda"},"down_vote_count":4,"up_vote_count":7,"is_accepted":false,"score":3,"last_activity_date":1282786366,"creation_date":1282783368,"answer_id":3571317,"question_id":3571223,"body_markdown":"    // Modified from EboMike&#39;s answer\r\n    \r\n    String extension = &quot;/path/to/file/foo.txt&quot;.substring(&quot;/path/to/file/foo.txt&quot;.lastIndexOf(&#39;.&#39;));\r\n\r\n\r\nextension should have &quot;.txt&quot; in it when run.","title":"How do I get the file extension of a file in Java?","body":"<pre><code>// Modified from EboMike's answer\n\nString extension = \"/path/to/file/foo.txt\".substring(\"/path/to/file/foo.txt\".lastIndexOf('.'));\n</code></pre>\n\n<p>extension should have \".txt\" in it when run.</p>\n"},{"tags":[],"owner":{"account_id":605284,"reputation":1043,"user_id":316238,"display_name":"eee"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1282785042,"creation_date":1282784241,"answer_id":3571366,"question_id":3571223,"body_markdown":"How about JFileChooser? It is not straightforward as you will need to parse its final output...\r\n\r\n    JFileChooser filechooser = new JFileChooser();\r\n    File file = new File(&quot;your.txt&quot;);\r\n    System.out.println(&quot;the extension type:&quot;+filechooser.getTypeDescription(file));\r\n\r\nwhich is a MIME type...\r\n\r\nOK...I forget that you don&#39;t want to know its MIME type.\r\n\r\nInteresting code in the following link:\r\nhttp://download.oracle.com/javase/tutorial/uiswing/components/filechooser.html\r\n\r\n    /*\r\n     * Get the extension of a file.\r\n     */  \r\n    public static String getExtension(File f) {\r\n        String ext = null;\r\n        String s = f.getName();\r\n        int i = s.lastIndexOf(&#39;.&#39;);\r\n    \r\n        if (i &gt; 0 &amp;&amp;  i &lt; s.length() - 1) {\r\n            ext = s.substring(i+1).toLowerCase();\r\n        }\r\n        return ext;\r\n    }\r\n\r\nRelated question:\r\nhttps://stackoverflow.com/questions/941272/how-do-i-trim-a-file-extension-from-a-string-in-java","title":"How do I get the file extension of a file in Java?","body":"<p>How about JFileChooser? It is not straightforward as you will need to parse its final output...</p>\n\n<pre><code>JFileChooser filechooser = new JFileChooser();\nFile file = new File(\"your.txt\");\nSystem.out.println(\"the extension type:\"+filechooser.getTypeDescription(file));\n</code></pre>\n\n<p>which is a MIME type...</p>\n\n<p>OK...I forget that you don't want to know its MIME type.</p>\n\n<p>Interesting code in the following link:\n<a href=\"http://download.oracle.com/javase/tutorial/uiswing/components/filechooser.html\" rel=\"nofollow noreferrer\">http://download.oracle.com/javase/tutorial/uiswing/components/filechooser.html</a></p>\n\n<pre><code>/*\n * Get the extension of a file.\n */  \npublic static String getExtension(File f) {\n    String ext = null;\n    String s = f.getName();\n    int i = s.lastIndexOf('.');\n\n    if (i &gt; 0 &amp;&amp;  i &lt; s.length() - 1) {\n        ext = s.substring(i+1).toLowerCase();\n    }\n    return ext;\n}\n</code></pre>\n\n<p>Related question:\n<a href=\"https://stackoverflow.com/questions/941272/how-do-i-trim-a-file-extension-from-a-string-in-java\">How do I trim a file extension from a String in Java?</a></p>\n"},{"tags":[],"owner":{"account_id":1164997,"reputation":460,"user_id":2157099,"display_name":"Ninju Bohra"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1365618092,"creation_date":1365618092,"answer_id":15933480,"question_id":3571223,"body_markdown":"How about (using Java 1.5 RegEx):\r\n\r\n        String[] split = fullFileName.split(&quot;\\\\.&quot;);\r\n        String ext = split[split.length - 1];\r\n","title":"How do I get the file extension of a file in Java?","body":"<p>How about (using Java 1.5 RegEx):</p>\n\n<pre><code>    String[] split = fullFileName.split(\"\\\\.\");\n    String ext = split[split.length - 1];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1413237,"reputation":17260,"user_id":1339429,"accept_rate":89,"display_name":"JeanValjean"},"down_vote_count":2,"up_vote_count":90,"is_accepted":false,"score":88,"last_activity_date":1562953215,"creation_date":1365838902,"answer_id":15985486,"question_id":3571223,"body_markdown":"If you use **[Guava][1]** library, you can resort to [`Files`][2] utility class. It has a specific method, [`getFileExtension()`][3]. For instance:\r\n\r\n    String path = &quot;c:/path/to/file/foo.txt&quot;;\r\n    String ext = Files.getFileExtension(path);\r\n    System.out.println(ext); //prints txt\r\n\r\nIn addition you may also obtain the filename with a similar function, [getNameWithoutExtension()][4]:\r\n\r\n    String filename = Files.getNameWithoutExtension(path);\r\n    System.out.println(filename); //prints foo\r\n\r\n\r\n  [1]: https://github.com/google/guava\r\n  [2]: https://google.github.io/guava/releases/19.0/api/docs/com/google/common/io/Files.html\r\n  [3]: https://google.github.io/guava/releases/19.0/api/docs/com/google/common/io/Files.html#getFileExtension%28java.lang.String%29\r\n  [4]: https://google.github.io/guava/releases/19.0/api/docs/com/google/common/io/Files.html#getNameWithoutExtension(java.lang.String)","title":"How do I get the file extension of a file in Java?","body":"<p>If you use <strong><a href=\"https://github.com/google/guava\" rel=\"noreferrer\">Guava</a></strong> library, you can resort to <a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/io/Files.html\" rel=\"noreferrer\"><code>Files</code></a> utility class. It has a specific method, <a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/io/Files.html#getFileExtension%28java.lang.String%29\" rel=\"noreferrer\"><code>getFileExtension()</code></a>. For instance:</p>\n\n<pre><code>String path = \"c:/path/to/file/foo.txt\";\nString ext = Files.getFileExtension(path);\nSystem.out.println(ext); //prints txt\n</code></pre>\n\n<p>In addition you may also obtain the filename with a similar function, <a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/io/Files.html#getNameWithoutExtension(java.lang.String)\" rel=\"noreferrer\">getNameWithoutExtension()</a>:</p>\n\n<pre><code>String filename = Files.getNameWithoutExtension(path);\nSystem.out.println(filename); //prints foo\n</code></pre>\n"},{"tags":[],"owner":{"account_id":211620,"reputation":1885,"user_id":463897,"display_name":"Olathe"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1365941221,"creation_date":1365941221,"answer_id":15998870,"question_id":3571223,"body_markdown":"Here&#39;s a method that handles `.tar.gz` properly, even in a path with dots in directory names:\r\n\r\n    private static final String getExtension(final String filename) {\r\n      if (filename == null) return null;\r\n      final String afterLastSlash = filename.substring(filename.lastIndexOf(&#39;/&#39;) + 1);\r\n      final int afterLastBackslash = afterLastSlash.lastIndexOf(&#39;\\\\&#39;) + 1;\r\n      final int dotIndex = afterLastSlash.indexOf(&#39;.&#39;, afterLastBackslash);\r\n      return (dotIndex == -1) ? &quot;&quot; : afterLastSlash.substring(dotIndex + 1);\r\n    }\r\n\r\n`afterLastSlash` is created to make finding `afterLastBackslash` quicker since it won&#39;t have to search the whole string if there are some slashes in it.\r\n\r\nThe `char[]` inside the original `String` is reused, adding no garbage there, and [the JVM will probably notice that `afterLastSlash` is immediately garbage in order to put it on the stack instead of the heap](http://web.archive.org/web/http://www.ibm.com/developerworks/java/library/j-jtp09275/index.html#2.0).","title":"How do I get the file extension of a file in Java?","body":"<p>Here's a method that handles <code>.tar.gz</code> properly, even in a path with dots in directory names:</p>\n\n<pre><code>private static final String getExtension(final String filename) {\n  if (filename == null) return null;\n  final String afterLastSlash = filename.substring(filename.lastIndexOf('/') + 1);\n  final int afterLastBackslash = afterLastSlash.lastIndexOf('\\\\') + 1;\n  final int dotIndex = afterLastSlash.indexOf('.', afterLastBackslash);\n  return (dotIndex == -1) ? \"\" : afterLastSlash.substring(dotIndex + 1);\n}\n</code></pre>\n\n<p><code>afterLastSlash</code> is created to make finding <code>afterLastBackslash</code> quicker since it won't have to search the whole string if there are some slashes in it.</p>\n\n<p>The <code>char[]</code> inside the original <code>String</code> is reused, adding no garbage there, and <a href=\"http://web.archive.org/web/http://www.ibm.com/developerworks/java/library/j-jtp09275/index.html#2.0\" rel=\"nofollow\">the JVM will probably notice that <code>afterLastSlash</code> is immediately garbage in order to put it on the stack instead of the heap</a>.</p>\n"},{"tags":[],"owner":{"account_id":174556,"reputation":8751,"user_id":403999,"display_name":"Juan Rojas"},"down_vote_count":17,"up_vote_count":759,"is_accepted":true,"score":742,"last_activity_date":1609215947,"creation_date":1366837942,"answer_id":16202288,"question_id":3571223,"body_markdown":"In this case, use [FilenameUtils.getExtension][1] from [Apache Commons IO][2]\r\n\r\nHere is an example of how to use it (you may specify either full path or just file name):\r\n\r\n    import org.apache.commons.io.FilenameUtils;\r\n\r\n    // ...\r\n\r\n    String ext1 = FilenameUtils.getExtension(&quot;/path/to/file/foo.txt&quot;); // returns &quot;txt&quot;\r\n    String ext2 = FilenameUtils.getExtension(&quot;bar.exe&quot;); // returns &quot;exe&quot;\r\n\r\nMaven dependency:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n      &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n      &lt;version&gt;2.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nGradle Groovy DSL\r\n\r\n    implementation &#39;commons-io:commons-io:2.6&#39;\r\nGradle Kotlin DSL\r\n\r\n    implementation(&quot;commons-io:commons-io:2.6&quot;)\r\n\r\nOthers [https://search.maven.org/artifact/commons-io/commons-io/2.6/jar][3]\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/FilenameUtils.html#getExtension%28java.lang.String%29\r\n  [2]: https://commons.apache.org/proper/commons-io/\r\n  [3]: https://search.maven.org/artifact/commons-io/commons-io/2.6/jar","title":"How do I get the file extension of a file in Java?","body":"<p>In this case, use <a href=\"http://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/FilenameUtils.html#getExtension%28java.lang.String%29\" rel=\"noreferrer\">FilenameUtils.getExtension</a> from <a href=\"https://commons.apache.org/proper/commons-io/\" rel=\"noreferrer\">Apache Commons IO</a></p>\n<p>Here is an example of how to use it (you may specify either full path or just file name):</p>\n<pre><code>import org.apache.commons.io.FilenameUtils;\n\n// ...\n\nString ext1 = FilenameUtils.getExtension(&quot;/path/to/file/foo.txt&quot;); // returns &quot;txt&quot;\nString ext2 = FilenameUtils.getExtension(&quot;bar.exe&quot;); // returns &quot;exe&quot;\n</code></pre>\n<p>Maven dependency:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;commons-io&lt;/groupId&gt;\n  &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n  &lt;version&gt;2.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Gradle Groovy DSL</p>\n<pre><code>implementation 'commons-io:commons-io:2.6'\n</code></pre>\n<p>Gradle Kotlin DSL</p>\n<pre><code>implementation(&quot;commons-io:commons-io:2.6&quot;)\n</code></pre>\n<p>Others <a href=\"https://search.maven.org/artifact/commons-io/commons-io/2.6/jar\" rel=\"noreferrer\">https://search.maven.org/artifact/commons-io/commons-io/2.6/jar</a></p>\n"},{"tags":[],"owner":{"account_id":1479379,"reputation":1127,"user_id":1389089,"display_name":"shapiy"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1368448719,"creation_date":1368448719,"answer_id":16522268,"question_id":3571223,"body_markdown":"Just a regular-expression based alternative. Not that fast, not that good. \r\n\r\n    Pattern pattern = Pattern.compile(&quot;\\\\.([^.]*)$&quot;);\r\n    Matcher matcher = pattern.matcher(fileName);\r\n    \r\n    if (matcher.find()) {\r\n        String ext = matcher.group(1);\r\n    }","title":"How do I get the file extension of a file in Java?","body":"<p>Just a regular-expression based alternative. Not that fast, not that good. </p>\n\n<pre><code>Pattern pattern = Pattern.compile(\"\\\\.([^.]*)$\");\nMatcher matcher = pattern.matcher(fileName);\n\nif (matcher.find()) {\n    String ext = matcher.group(1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2742496,"reputation":50496,"user_id":2363712,"accept_rate":50,"display_name":"Sylvain Leroux"},"down_vote_count":2,"up_vote_count":18,"is_accepted":false,"score":16,"last_activity_date":1378904873,"creation_date":1378904873,"answer_id":18742089,"question_id":3571223,"body_markdown":"In order to take into account file names without characters *before* the dot, you have to use that slight variation of the accepted answer:\r\n\r\n    String extension = &quot;&quot;;\r\n    \r\n    int i = fileName.lastIndexOf(&#39;.&#39;);\r\n    if (i &gt;= 0) {\r\n        extension = fileName.substring(i+1);\r\n    }\r\n\r\n&lt;hr&gt;\r\n\r\n    &quot;file.doc&quot; =&gt; &quot;doc&quot;\r\n    &quot;file.doc.gz&quot; =&gt; &quot;gz&quot;\r\n    &quot;.doc&quot; =&gt; &quot;doc&quot;\r\n\r\n","title":"How do I get the file extension of a file in Java?","body":"<p>In order to take into account file names without characters <em>before</em> the dot, you have to use that slight variation of the accepted answer:</p>\n\n<pre><code>String extension = \"\";\n\nint i = fileName.lastIndexOf('.');\nif (i &gt;= 0) {\n    extension = fileName.substring(i+1);\n}\n</code></pre>\n\n<hr>\n\n<pre><code>\"file.doc\" =&gt; \"doc\"\n\"file.doc.gz\" =&gt; \"gz\"\n\".doc\" =&gt; \"doc\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3094741,"reputation":188,"user_id":2620183,"display_name":"Nick Giampietro"},"down_vote_count":16,"up_vote_count":12,"is_accepted":false,"score":-4,"last_activity_date":1380142026,"creation_date":1380142026,"answer_id":19014898,"question_id":3571223,"body_markdown":"Java has a built-in way of dealing with this, in the [java.nio.file.Files class][1], that may work for your needs:\r\n\r\n    File f = new File(&quot;/path/to/file/foo.txt&quot;);\r\n    String ext = Files.probeContentType(f.toPath());\r\n    if(ext.equalsIgnoreCase(&quot;txt&quot;)) do whatever;\r\n\r\nNote that this static method uses the specifications [found here][2] to retrieve &quot;content type,&quot; which can vary.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#probeContentType%28java.nio.file.Path%29\r\n  [2]: http://www.ietf.org/rfc/rfc2045.txt","title":"How do I get the file extension of a file in Java?","body":"<p>Java has a built-in way of dealing with this, in the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#probeContentType%28java.nio.file.Path%29\" rel=\"nofollow\">java.nio.file.Files class</a>, that may work for your needs:</p>\n\n<pre><code>File f = new File(\"/path/to/file/foo.txt\");\nString ext = Files.probeContentType(f.toPath());\nif(ext.equalsIgnoreCase(\"txt\")) do whatever;\n</code></pre>\n\n<p>Note that this static method uses the specifications <a href=\"http://www.ietf.org/rfc/rfc2045.txt\" rel=\"nofollow\">found here</a> to retrieve \"content type,\" which can vary.</p>\n"},{"tags":[],"owner":{"account_id":2273307,"reputation":2281,"user_id":2000185,"accept_rate":67,"display_name":"luke1985"},"down_vote_count":11,"up_vote_count":122,"is_accepted":false,"score":111,"last_activity_date":1533855929,"creation_date":1393187116,"answer_id":21974043,"question_id":3571223,"body_markdown":"\tprivate String getFileExtension(File file) {\r\n\t\tString name = file.getName();\r\n\t\tint lastIndexOf = name.lastIndexOf(&quot;.&quot;);\r\n\t\tif (lastIndexOf == -1) {\r\n\t\t\treturn &quot;&quot;; // empty extension\r\n\t\t}\r\n\t\treturn name.substring(lastIndexOf);\r\n\t}","title":"How do I get the file extension of a file in Java?","body":"<pre><code>private String getFileExtension(File file) {\n    String name = file.getName();\n    int lastIndexOf = name.lastIndexOf(\".\");\n    if (lastIndexOf == -1) {\n        return \"\"; // empty extension\n    }\n    return name.substring(lastIndexOf);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":434721,"reputation":10478,"user_id":1414809,"accept_rate":100,"display_name":"Ebrahim Byagowi"},"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1394755193,"creation_date":1394755193,"answer_id":22393546,"question_id":3571223,"body_markdown":"My dirty and may tiniest using [String.replaceAll][1]:\r\n\r\n    .replaceAll(&quot;^.*\\\\.(.*)$&quot;, &quot;$1&quot;)\r\n\r\nNote that first ```*``` is greedy so it will grab most possible characters as far as it can and then just last dot and file extension will be left.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#replaceAll%28java.lang.String,%20java.lang.String%29","title":"How do I get the file extension of a file in Java?","body":"<p>My dirty and may tiniest using <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#replaceAll%28java.lang.String,%20java.lang.String%29\">String.replaceAll</a>:</p>\n\n<pre><code>.replaceAll(\"^.*\\\\.(.*)$\", \"$1\")\n</code></pre>\n\n<p>Note that first <code>*</code> is greedy so it will grab most possible characters as far as it can and then just last dot and file extension will be left.</p>\n"},{"tags":[],"owner":{"account_id":1897044,"reputation":8954,"user_id":1713757,"display_name":"Geng  Jiawen"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1402396886,"creation_date":1402396886,"answer_id":24138941,"question_id":3571223,"body_markdown":"If you plan to use Apache commons-io,and just want to check the file&#39;s extension and then do some operation,you can use [this][1],here is a snippet:\r\n\r\n    if(FilenameUtils.isExtension(file.getName(),&quot;java&quot;)) {\r\n        someoperation();\r\n    }\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-io/javadocs/api-2.4/org/apache/commons/io/FilenameUtils.html#isExtension%28java.lang.String,%20java.lang.String%29","title":"How do I get the file extension of a file in Java?","body":"<p>If you plan to use Apache commons-io,and just want to check the file's extension and then do some operation,you can use <a href=\"http://commons.apache.org/proper/commons-io/javadocs/api-2.4/org/apache/commons/io/FilenameUtils.html#isExtension%28java.lang.String,%20java.lang.String%29\">this</a>,here is a snippet:</p>\n\n<pre><code>if(FilenameUtils.isExtension(file.getName(),\"java\")) {\n    someoperation();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":451370,"reputation":2890,"user_id":847235,"accept_rate":92,"display_name":"intrepidis"},"down_vote_count":2,"up_vote_count":29,"is_accepted":false,"score":27,"last_activity_date":1454097336,"creation_date":1427346955,"answer_id":29271550,"question_id":3571223,"body_markdown":"If on Android, you can use this:\r\n\r\n    String ext = android.webkit.MimeTypeMap.getFileExtensionFromUrl(file.getName());\r\n\t\t\t","title":"How do I get the file extension of a file in Java?","body":"<p>If on Android, you can use this:</p>\n\n<pre><code>String ext = android.webkit.MimeTypeMap.getFileExtensionFromUrl(file.getName());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1880773,"reputation":543,"user_id":1701029,"accept_rate":80,"display_name":"Alfaville"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1432479557,"creation_date":1432479557,"answer_id":30424902,"question_id":3571223,"body_markdown":"    String extension = com.google.common.io.Files.getFileExtension(&quot;fileName.jpg&quot;);","title":"How do I get the file extension of a file in Java?","body":"<pre><code>String extension = com.google.common.io.Files.getFileExtension(\"fileName.jpg\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6468253,"reputation":19,"user_id":5009329,"display_name":"Rivalion"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1434405232,"creation_date":1434405232,"answer_id":30855614,"question_id":3571223,"body_markdown":"Here I made a small method (however not that secure and doesnt check for many errors), but if it is only you that is programming a general java-program, this is more than enough to find the filetype. This is not working for complex filetypes, but those are normally not used as much. \r\n\r\n        public static String getFileType(String path){\r\n           String fileType = null;\r\n           fileType = path.substring(path.indexOf(&#39;.&#39;,path.lastIndexOf(&#39;/&#39;))+1).toUpperCase();\r\n           return fileType;\r\n    }","title":"How do I get the file extension of a file in Java?","body":"<p>Here I made a small method (however not that secure and doesnt check for many errors), but if it is only you that is programming a general java-program, this is more than enough to find the filetype. This is not working for complex filetypes, but those are normally not used as much. </p>\n\n<pre><code>    public static String getFileType(String path){\n       String fileType = null;\n       fileType = path.substring(path.indexOf('.',path.lastIndexOf('/'))+1).toUpperCase();\n       return fileType;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2085536,"reputation":1268,"user_id":1856618,"accept_rate":40,"display_name":"yavuzkavus"},"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1459251422,"creation_date":1459251422,"answer_id":36283185,"question_id":3571223,"body_markdown":"This is a tested method\r\n\r\n\tpublic static String getExtension(String fileName) {\r\n\t\tchar ch;\r\n\t\tint len;\r\n\t\tif(fileName==null || \r\n\t\t\t\t(len = fileName.length())==0 || \r\n\t\t\t\t(ch = fileName.charAt(len-1))==&#39;/&#39; || ch==&#39;\\\\&#39; || //in the case of a directory\r\n\t\t\t\t ch==&#39;.&#39; ) //in the case of . or ..\r\n\t\t\treturn &quot;&quot;;\r\n\t\tint dotInd = fileName.lastIndexOf(&#39;.&#39;),\r\n\t\t\tsepInd = Math.max(fileName.lastIndexOf(&#39;/&#39;), fileName.lastIndexOf(&#39;\\\\&#39;));\r\n\t\tif( dotInd&lt;=sepInd )\r\n\t\t\treturn &quot;&quot;;\r\n\t\telse\r\n\t\t\treturn fileName.substring(dotInd+1).toLowerCase();\r\n\t}\r\n\r\nAnd test case:\r\n\r\n\t@Test\r\n\tpublic void testGetExtension() {\r\n\t\tassertEquals(&quot;&quot;, getExtension(&quot;C&quot;));\r\n\t\tassertEquals(&quot;ext&quot;, getExtension(&quot;C.ext&quot;));\r\n\t\tassertEquals(&quot;ext&quot;, getExtension(&quot;A/B/C.ext&quot;));\r\n\t\tassertEquals(&quot;&quot;, getExtension(&quot;A/B/C.ext/&quot;));\r\n\t\tassertEquals(&quot;&quot;, getExtension(&quot;A/B/C.ext/..&quot;));\r\n\t\tassertEquals(&quot;bin&quot;, getExtension(&quot;A/B/C.bin&quot;));\r\n\t\tassertEquals(&quot;hidden&quot;, getExtension(&quot;.hidden&quot;));\r\n\t\tassertEquals(&quot;dsstore&quot;, getExtension(&quot;/user/home/.dsstore&quot;));\r\n\t\tassertEquals(&quot;&quot;, getExtension(&quot;.strange.&quot;));\r\n\t\tassertEquals(&quot;3&quot;, getExtension(&quot;1.2.3&quot;));\r\n\t\tassertEquals(&quot;exe&quot;, getExtension(&quot;C:\\\\Program Files (x86)\\\\java\\\\bin\\\\javaw.exe&quot;));\r\n\t}","title":"How do I get the file extension of a file in Java?","body":"<p>This is a tested method</p>\n\n<pre><code>public static String getExtension(String fileName) {\n    char ch;\n    int len;\n    if(fileName==null || \n            (len = fileName.length())==0 || \n            (ch = fileName.charAt(len-1))=='/' || ch=='\\\\' || //in the case of a directory\n             ch=='.' ) //in the case of . or ..\n        return \"\";\n    int dotInd = fileName.lastIndexOf('.'),\n        sepInd = Math.max(fileName.lastIndexOf('/'), fileName.lastIndexOf('\\\\'));\n    if( dotInd&lt;=sepInd )\n        return \"\";\n    else\n        return fileName.substring(dotInd+1).toLowerCase();\n}\n</code></pre>\n\n<p>And test case:</p>\n\n<pre><code>@Test\npublic void testGetExtension() {\n    assertEquals(\"\", getExtension(\"C\"));\n    assertEquals(\"ext\", getExtension(\"C.ext\"));\n    assertEquals(\"ext\", getExtension(\"A/B/C.ext\"));\n    assertEquals(\"\", getExtension(\"A/B/C.ext/\"));\n    assertEquals(\"\", getExtension(\"A/B/C.ext/..\"));\n    assertEquals(\"bin\", getExtension(\"A/B/C.bin\"));\n    assertEquals(\"hidden\", getExtension(\".hidden\"));\n    assertEquals(\"dsstore\", getExtension(\"/user/home/.dsstore\"));\n    assertEquals(\"\", getExtension(\".strange.\"));\n    assertEquals(\"3\", getExtension(\"1.2.3\"));\n    assertEquals(\"exe\", getExtension(\"C:\\\\Program Files (x86)\\\\java\\\\bin\\\\javaw.exe\"));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6743067,"reputation":107,"user_id":5195613,"display_name":"Vikram Bhardwaj"},"down_vote_count":7,"up_vote_count":11,"is_accepted":false,"score":4,"last_activity_date":1575057357,"creation_date":1461485489,"answer_id":36820753,"question_id":3571223,"body_markdown":"This particular question gave me a lot of trouble then i found a very simple solution for this problem which i&#39;m posting here.\r\n\r\n    file.getName().toLowerCase().endsWith(&quot;.txt&quot;);\r\nThat&#39;s it.","title":"How do I get the file extension of a file in Java?","body":"<p>This particular question gave me a lot of trouble then i found a very simple solution for this problem which i'm posting here.</p>\n\n<pre><code>file.getName().toLowerCase().endsWith(\".txt\");\n</code></pre>\n\n<p>That's it.</p>\n"},{"tags":[],"owner":{"account_id":2113834,"reputation":6265,"user_id":1878535,"display_name":"Vasanth"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1479458174,"creation_date":1479458174,"answer_id":40672554,"question_id":3571223,"body_markdown":"Getting File Extension from File Name\r\n\r\n    /**\r\n     * The extension separator character.\r\n     */\r\n    private static final char EXTENSION_SEPARATOR = &#39;.&#39;;\r\n\r\n    /**\r\n     * The Unix separator character.\r\n     */\r\n    private static final char UNIX_SEPARATOR = &#39;/&#39;;\r\n\r\n    /**\r\n     * The Windows separator character.\r\n     */\r\n    private static final char WINDOWS_SEPARATOR = &#39;\\\\&#39;;\r\n\r\n    /**\r\n     * The system separator character.\r\n     */\r\n    private static final char SYSTEM_SEPARATOR = File.separatorChar;\r\n\r\n    /**\r\n     * Gets the extension of a filename.\r\n     * &lt;p&gt;\r\n     * This method returns the textual part of the filename after the last dot.\r\n     * There must be no directory separator after the dot.\r\n     * &lt;pre&gt;\r\n     * foo.txt      --&gt; &quot;txt&quot;\r\n     * a/b/c.jpg    --&gt; &quot;jpg&quot;\r\n     * a/b.txt/c    --&gt; &quot;&quot;\r\n     * a/b/c        --&gt; &quot;&quot;\r\n     * &lt;/pre&gt;\r\n     * &lt;p&gt;\r\n     * The output will be the same irrespective of the machine that the code is running on.\r\n     *\r\n     * @param filename the filename to retrieve the extension of.\r\n     * @return the extension of the file or an empty string if none exists.\r\n     */\r\n    public static String getExtension(String filename) {\r\n        if (filename == null) {\r\n            return null;\r\n        }\r\n        int index = indexOfExtension(filename);\r\n        if (index == -1) {\r\n            return &quot;&quot;;\r\n        } else {\r\n            return filename.substring(index + 1);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Returns the index of the last extension separator character, which is a dot.\r\n     * &lt;p&gt;\r\n     * This method also checks that there is no directory separator after the last dot.\r\n     * To do this it uses {@link #indexOfLastSeparator(String)} which will\r\n     * handle a file in either Unix or Windows format.\r\n     * &lt;p&gt;\r\n     * The output will be the same irrespective of the machine that the code is running on.\r\n     *\r\n     * @param filename  the filename to find the last path separator in, null returns -1\r\n     * @return the index of the last separator character, or -1 if there\r\n     * is no such character\r\n     */\r\n    public static int indexOfExtension(String filename) {\r\n        if (filename == null) {\r\n            return -1;\r\n        }\r\n        int extensionPos = filename.lastIndexOf(EXTENSION_SEPARATOR);\r\n        int lastSeparator = indexOfLastSeparator(filename);\r\n        return (lastSeparator &gt; extensionPos ? -1 : extensionPos);\r\n    }\r\n\r\n    /**\r\n     * Returns the index of the last directory separator character.\r\n     * &lt;p&gt;\r\n     * This method will handle a file in either Unix or Windows format.\r\n     * The position of the last forward or backslash is returned.\r\n     * &lt;p&gt;\r\n     * The output will be the same irrespective of the machine that the code is running on.\r\n     *\r\n     * @param filename  the filename to find the last path separator in, null returns -1\r\n     * @return the index of the last separator character, or -1 if there\r\n     * is no such character\r\n     */\r\n    public static int indexOfLastSeparator(String filename) {\r\n        if (filename == null) {\r\n            return -1;\r\n        }\r\n        int lastUnixPos = filename.lastIndexOf(UNIX_SEPARATOR);\r\n        int lastWindowsPos = filename.lastIndexOf(WINDOWS_SEPARATOR);\r\n        return Math.max(lastUnixPos, lastWindowsPos);\r\n    }\r\n\r\n\r\n**Credits**\r\n\r\n 1. Copied from Apache FileNameUtils Class - http://grepcode.com/file/repo1.maven.org/maven2/commons-io/commons-io/1.3.2/org/apache/commons/io/FilenameUtils.java#FilenameUtils.getExtension%28java.lang.String%29\r\n\r\n","title":"How do I get the file extension of a file in Java?","body":"<p>Getting File Extension from File Name</p>\n\n<pre><code>/**\n * The extension separator character.\n */\nprivate static final char EXTENSION_SEPARATOR = '.';\n\n/**\n * The Unix separator character.\n */\nprivate static final char UNIX_SEPARATOR = '/';\n\n/**\n * The Windows separator character.\n */\nprivate static final char WINDOWS_SEPARATOR = '\\\\';\n\n/**\n * The system separator character.\n */\nprivate static final char SYSTEM_SEPARATOR = File.separatorChar;\n\n/**\n * Gets the extension of a filename.\n * &lt;p&gt;\n * This method returns the textual part of the filename after the last dot.\n * There must be no directory separator after the dot.\n * &lt;pre&gt;\n * foo.txt      --&gt; \"txt\"\n * a/b/c.jpg    --&gt; \"jpg\"\n * a/b.txt/c    --&gt; \"\"\n * a/b/c        --&gt; \"\"\n * &lt;/pre&gt;\n * &lt;p&gt;\n * The output will be the same irrespective of the machine that the code is running on.\n *\n * @param filename the filename to retrieve the extension of.\n * @return the extension of the file or an empty string if none exists.\n */\npublic static String getExtension(String filename) {\n    if (filename == null) {\n        return null;\n    }\n    int index = indexOfExtension(filename);\n    if (index == -1) {\n        return \"\";\n    } else {\n        return filename.substring(index + 1);\n    }\n}\n\n/**\n * Returns the index of the last extension separator character, which is a dot.\n * &lt;p&gt;\n * This method also checks that there is no directory separator after the last dot.\n * To do this it uses {@link #indexOfLastSeparator(String)} which will\n * handle a file in either Unix or Windows format.\n * &lt;p&gt;\n * The output will be the same irrespective of the machine that the code is running on.\n *\n * @param filename  the filename to find the last path separator in, null returns -1\n * @return the index of the last separator character, or -1 if there\n * is no such character\n */\npublic static int indexOfExtension(String filename) {\n    if (filename == null) {\n        return -1;\n    }\n    int extensionPos = filename.lastIndexOf(EXTENSION_SEPARATOR);\n    int lastSeparator = indexOfLastSeparator(filename);\n    return (lastSeparator &gt; extensionPos ? -1 : extensionPos);\n}\n\n/**\n * Returns the index of the last directory separator character.\n * &lt;p&gt;\n * This method will handle a file in either Unix or Windows format.\n * The position of the last forward or backslash is returned.\n * &lt;p&gt;\n * The output will be the same irrespective of the machine that the code is running on.\n *\n * @param filename  the filename to find the last path separator in, null returns -1\n * @return the index of the last separator character, or -1 if there\n * is no such character\n */\npublic static int indexOfLastSeparator(String filename) {\n    if (filename == null) {\n        return -1;\n    }\n    int lastUnixPos = filename.lastIndexOf(UNIX_SEPARATOR);\n    int lastWindowsPos = filename.lastIndexOf(WINDOWS_SEPARATOR);\n    return Math.max(lastUnixPos, lastWindowsPos);\n}\n</code></pre>\n\n<p><strong>Credits</strong></p>\n\n<ol>\n<li>Copied from Apache FileNameUtils Class - <a href=\"http://grepcode.com/file/repo1.maven.org/maven2/commons-io/commons-io/1.3.2/org/apache/commons/io/FilenameUtils.java#FilenameUtils.getExtension%28java.lang.String%29\" rel=\"nofollow noreferrer\">http://grepcode.com/file/repo1.maven.org/maven2/commons-io/commons-io/1.3.2/org/apache/commons/io/FilenameUtils.java#FilenameUtils.getExtension%28java.lang.String%29</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2412743,"reputation":996,"user_id":2107483,"display_name":"Dmytro Sokolyuk"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1490698153,"creation_date":1485767450,"answer_id":41932195,"question_id":3571223,"body_markdown":"How about **REGEX** version:\r\n\r\n    static final Pattern PATTERN = Pattern.compile(&quot;(.*)\\\\.(.*)&quot;);\r\n\r\n    Matcher m = PATTERN.matcher(path);\r\n    if (m.find()) {\r\n        System.out.println(&quot;File path/name: &quot; + m.group(1));\r\n        System.out.println(&quot;Extention: &quot; + m.group(2));\r\n    }\r\n\r\nor with null extension supported:\r\n\r\n    static final Pattern PATTERN =\r\n        Pattern.compile(&quot;((.*\\\\&quot; + File.separator + &quot;)?(.*)(\\\\.(.*)))|(.*\\\\&quot; + File.separator + &quot;)?(.*)&quot;);\r\n    \r\n    class Separated {\r\n        String path, name, ext;\r\n    }\r\n    \r\n    Separated parsePath(String path) {\r\n        Separated res = new Separated();\r\n        Matcher m = PATTERN.matcher(path);\r\n        if (m.find()) {\r\n            if (m.group(1) != null) {\r\n                res.path = m.group(2);\r\n                res.name = m.group(3);\r\n                res.ext = m.group(5);\r\n            } else {\r\n                res.path = m.group(6);\r\n                res.name = m.group(7);\r\n            }\r\n        }\r\n        return res;\r\n    }\r\n\r\n\r\n    Separated sp = parsePath(&quot;/root/docs/readme.txt&quot;);\r\n    System.out.println(&quot;path: &quot; + sp.path);\r\n    System.out.println(&quot;name: &quot; + sp.name);\r\n    System.out.println(&quot;Extention: &quot; + sp.ext);\r\n\r\nresult for *nix:&lt;br&gt;\r\n*path: /root/docs/&lt;br&gt;\r\nname: readme&lt;br&gt;\r\nExtention: txt*\r\n\r\nfor windows, parsePath(&quot;c:\\\\windows\\\\readme.txt&quot;):&lt;br&gt;\r\n*path: c:\\windows\\&lt;br&gt;\r\nname: readme&lt;br&gt;\r\nExtention: txt*","title":"How do I get the file extension of a file in Java?","body":"<p>How about <strong>REGEX</strong> version:</p>\n\n<pre><code>static final Pattern PATTERN = Pattern.compile(\"(.*)\\\\.(.*)\");\n\nMatcher m = PATTERN.matcher(path);\nif (m.find()) {\n    System.out.println(\"File path/name: \" + m.group(1));\n    System.out.println(\"Extention: \" + m.group(2));\n}\n</code></pre>\n\n<p>or with null extension supported:</p>\n\n<pre><code>static final Pattern PATTERN =\n    Pattern.compile(\"((.*\\\\\" + File.separator + \")?(.*)(\\\\.(.*)))|(.*\\\\\" + File.separator + \")?(.*)\");\n\nclass Separated {\n    String path, name, ext;\n}\n\nSeparated parsePath(String path) {\n    Separated res = new Separated();\n    Matcher m = PATTERN.matcher(path);\n    if (m.find()) {\n        if (m.group(1) != null) {\n            res.path = m.group(2);\n            res.name = m.group(3);\n            res.ext = m.group(5);\n        } else {\n            res.path = m.group(6);\n            res.name = m.group(7);\n        }\n    }\n    return res;\n}\n\n\nSeparated sp = parsePath(\"/root/docs/readme.txt\");\nSystem.out.println(\"path: \" + sp.path);\nSystem.out.println(\"name: \" + sp.name);\nSystem.out.println(\"Extention: \" + sp.ext);\n</code></pre>\n\n<p>result for *nix:<br>\n<em>path: /root/docs/<br>\nname: readme<br>\nExtention: txt</em></p>\n\n<p>for windows, parsePath(\"c:\\windows\\readme.txt\"):<br>\n<em>path: c:\\windows\\<br>\nname: readme<br>\nExtention: txt</em></p>\n"},{"tags":[],"owner":{"account_id":2319999,"reputation":156,"user_id":2036028,"display_name":"schuttek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1487364960,"creation_date":1487364960,"answer_id":42307235,"question_id":3571223,"body_markdown":"Here&#39;s the version with Optional&lt;String&gt; as a return value (cause you can&#39;t be sure the file has an extension)... also sanity checks... \r\n\r\n\r\n    import java.io.File;\r\n    import java.util.Optional;\r\n    \r\n    public class GetFileExtensionTool {\r\n    \r\n    \tpublic static Optional&lt;String&gt; getFileExtension(File file) {\r\n    \t\tif (file == null) {\r\n    \t\t\tthrow new NullPointerException(&quot;file argument was null&quot;);\r\n    \t\t}\r\n    \t\tif (!file.isFile()) {\r\n    \t\t\tthrow new IllegalArgumentException(&quot;getFileExtension(File file)&quot;\r\n    \t\t\t\t\t+ &quot; called on File object that wasn&#39;t an actual file&quot;\r\n    \t\t\t\t\t+ &quot; (perhaps a directory or device?). file had path: &quot;\r\n    \t\t\t\t\t+ file.getAbsolutePath());\r\n    \t\t}\r\n    \t\tString fileName = file.getName();\r\n    \t\tint i = fileName.lastIndexOf(&#39;.&#39;);\r\n    \t\tif (i &gt; 0) {\r\n    \t\t\treturn Optional.of(fileName.substring(i + 1));\r\n    \t\t} else {\r\n    \t\t\treturn Optional.empty();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"How do I get the file extension of a file in Java?","body":"<p>Here's the version with Optional as a return value (cause you can't be sure the file has an extension)... also sanity checks... </p>\n\n<pre><code>import java.io.File;\nimport java.util.Optional;\n\npublic class GetFileExtensionTool {\n\n    public static Optional&lt;String&gt; getFileExtension(File file) {\n        if (file == null) {\n            throw new NullPointerException(\"file argument was null\");\n        }\n        if (!file.isFile()) {\n            throw new IllegalArgumentException(\"getFileExtension(File file)\"\n                    + \" called on File object that wasn't an actual file\"\n                    + \" (perhaps a directory or device?). file had path: \"\n                    + file.getAbsolutePath());\n        }\n        String fileName = file.getName();\n        int i = fileName.lastIndexOf('.');\n        if (i &gt; 0) {\n            return Optional.of(fileName.substring(i + 1));\n        } else {\n            return Optional.empty();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3287210,"reputation":2539,"user_id":2766382,"accept_rate":63,"display_name":"Farah"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1498181587,"creation_date":1498181587,"answer_id":44711732,"question_id":3571223,"body_markdown":"Without use of any library, you can use the String method split as follows :\r\n\r\n            String[] splits = fileNames.get(i).split(&quot;\\\\.&quot;);\r\n            \r\n            String extension = &quot;&quot;;\r\n            \r\n            if(splits.length &gt;= 2)\r\n            {\r\n                extension = splits[splits.length-1];\r\n            }","title":"How do I get the file extension of a file in Java?","body":"<p>Without use of any library, you can use the String method split as follows :</p>\n\n<pre><code>        String[] splits = fileNames.get(i).split(\"\\\\.\");\n\n        String extension = \"\";\n\n        if(splits.length &gt;= 2)\n        {\n            extension = splits[splits.length-1];\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7027868,"reputation":613,"user_id":5384689,"display_name":"VelocityPulse"},"down_vote_count":2,"up_vote_count":18,"is_accepted":false,"score":16,"last_activity_date":1584469755,"creation_date":1503590252,"answer_id":45866201,"question_id":3571223,"body_markdown":"    String path = &quot;/Users/test/test.txt&quot;;\r\n    String extension = &quot;&quot;;\r\n\r\n    if (path.contains(&quot;.&quot;))\r\n         extension = path.substring(path.lastIndexOf(&quot;.&quot;));\r\n\r\nreturn &quot;.txt&quot;\r\n\r\nif you want only &quot;txt&quot;, make `path.lastIndexOf(&quot;.&quot;) + 1`\r\n","title":"How do I get the file extension of a file in Java?","body":"<pre><code>String path = \"/Users/test/test.txt\";\nString extension = \"\";\n\nif (path.contains(\".\"))\n     extension = path.substring(path.lastIndexOf(\".\"));\n</code></pre>\n\n<p>return \".txt\"</p>\n\n<p>if you want only \"txt\", make <code>path.lastIndexOf(\".\") + 1</code></p>\n"},{"tags":[],"owner":{"account_id":12202014,"reputation":1,"user_id":8906077,"display_name":"Adnane"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1510137661,"creation_date":1510137661,"answer_id":47177529,"question_id":3571223,"body_markdown":"try this.\r\n    \r\n    String[] extension = &quot;adadad.adad.adnandad.jpg&quot;.split(&quot;\\\\.(?=[^\\\\.]+$)&quot;); // [&#39;adadad.adad.adnandad&#39;,&#39;jpg&#39;]\r\n    extension[1] // jpg","title":"How do I get the file extension of a file in Java?","body":"<p>try this.</p>\n\n<pre><code>String[] extension = \"adadad.adad.adnandad.jpg\".split(\"\\\\.(?=[^\\\\.]+$)\"); // ['adadad.adad.adnandad','jpg']\nextension[1] // jpg\n</code></pre>\n"},{"tags":[],"owner":{"account_id":76906,"reputation":4579,"user_id":219865,"accept_rate":73,"display_name":"Ashish Pancholi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1515663778,"creation_date":1515663778,"answer_id":48203878,"question_id":3571223,"body_markdown":"      @Test\r\n        public void getFileExtension(String fileName){\r\n          String extension = null;\r\n          List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n          do{\r\n              extension =  FilenameUtils.getExtension(fileName);\r\n              if(extension==null){\r\n                  break;\r\n              }\r\n              if(!extension.isEmpty()){\r\n                  list.add(&quot;.&quot;+extension);\r\n              }\r\n              fileName = FilenameUtils.getBaseName(fileName);\r\n          }while (!extension.isEmpty());\r\n          Collections.reverse(list);\r\n          System.out.println(list.toString());\r\n        }","title":"How do I get the file extension of a file in Java?","body":"<pre><code>  @Test\n    public void getFileExtension(String fileName){\n      String extension = null;\n      List&lt;String&gt; list = new ArrayList&lt;&gt;();\n      do{\n          extension =  FilenameUtils.getExtension(fileName);\n          if(extension==null){\n              break;\n          }\n          if(!extension.isEmpty()){\n              list.add(\".\"+extension);\n          }\n          fileName = FilenameUtils.getBaseName(fileName);\n      }while (!extension.isEmpty());\n      Collections.reverse(list);\n      System.out.println(list.toString());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4964174,"reputation":728,"user_id":3994127,"accept_rate":50,"display_name":"Raghav Satyadev"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1515996517,"creation_date":1515996517,"answer_id":48257741,"question_id":3571223,"body_markdown":"I found a better way to find extension by mixing all above answers\r\n\r\n    public static String getFileExtension(String fileLink) {\r\n    \r\n            String extension;\r\n            Uri uri = Uri.parse(fileLink);\r\n            String scheme = uri.getScheme();\r\n            if (scheme != null &amp;&amp; scheme.equals(ContentResolver.SCHEME_CONTENT)) {\r\n                MimeTypeMap mime = MimeTypeMap.getSingleton();\r\n                extension = mime.getExtensionFromMimeType(CoreApp.getInstance().getContentResolver().getType(uri));\r\n            } else {\r\n                extension = MimeTypeMap.getFileExtensionFromUrl(fileLink);\r\n            }\r\n    \r\n            return extension;\r\n        }\r\n    \r\n    public static String getMimeType(String fileLink) {\r\n            String type = CoreApp.getInstance().getContentResolver().getType(Uri.parse(fileLink));\r\n            if (!TextUtils.isEmpty(type)) return type;\r\n            MimeTypeMap mime = MimeTypeMap.getSingleton();\r\n            return mime.getMimeTypeFromExtension(FileChooserUtil.getFileExtension(fileLink));\r\n        }","title":"How do I get the file extension of a file in Java?","body":"<p>I found a better way to find extension by mixing all above answers</p>\n\n<pre><code>public static String getFileExtension(String fileLink) {\n\n        String extension;\n        Uri uri = Uri.parse(fileLink);\n        String scheme = uri.getScheme();\n        if (scheme != null &amp;&amp; scheme.equals(ContentResolver.SCHEME_CONTENT)) {\n            MimeTypeMap mime = MimeTypeMap.getSingleton();\n            extension = mime.getExtensionFromMimeType(CoreApp.getInstance().getContentResolver().getType(uri));\n        } else {\n            extension = MimeTypeMap.getFileExtensionFromUrl(fileLink);\n        }\n\n        return extension;\n    }\n\npublic static String getMimeType(String fileLink) {\n        String type = CoreApp.getInstance().getContentResolver().getType(Uri.parse(fileLink));\n        if (!TextUtils.isEmpty(type)) return type;\n        MimeTypeMap mime = MimeTypeMap.getSingleton();\n        return mime.getMimeTypeFromExtension(FileChooserUtil.getFileExtension(fileLink));\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":451370,"reputation":2890,"user_id":847235,"accept_rate":92,"display_name":"intrepidis"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1518660532,"creation_date":1518660532,"answer_id":48799077,"question_id":3571223,"body_markdown":"As is obvious from all the other answers, there&#39;s no adequate &quot;built-in&quot; function. This is a safe and simple method.\r\n\r\n\tString getFileExtension(File file) {\r\n\t\tif (file == null) {\r\n\t\t\treturn &quot;&quot;;\r\n\t\t}\r\n\t\tString name = file.getName();\r\n\t\tint i = name.lastIndexOf(&#39;.&#39;);\r\n\t\tString ext = i &gt; 0 ? name.substring(i + 1) : &quot;&quot;;\r\n\t\treturn ext;\r\n\t}","title":"How do I get the file extension of a file in Java?","body":"<p>As is obvious from all the other answers, there's no adequate \"built-in\" function. This is a safe and simple method.</p>\n\n<pre><code>String getFileExtension(File file) {\n    if (file == null) {\n        return \"\";\n    }\n    String name = file.getName();\n    int i = name.lastIndexOf('.');\n    String ext = i &gt; 0 ? name.substring(i + 1) : \"\";\n    return ext;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2389669,"reputation":1423,"user_id":2089760,"accept_rate":97,"display_name":"DDPWNAGE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544926723,"creation_date":1544925793,"answer_id":53798853,"question_id":3571223,"body_markdown":"I like the simplicity of [spectre&#39;s answer](https://stackoverflow.com/a/21974043/2089760), and linked in one of his comments is a link to another answer that fixes dots in file paths, on another question, [made by EboMike](https://stackoverflow.com/a/3571239/2089760).\r\n\r\nWithout implementing some sort of third party API, I suggest:\r\n\r\n    private String getFileExtension(File file) {\r\n        \r\n        String name = file.getName().substring(Math.max(file.getName().lastIndexOf(&#39;/&#39;),\r\n                file.getName().lastIndexOf(&#39;\\\\&#39;)) &lt; 0 ? 0 : Math.max(file.getName().lastIndexOf(&#39;/&#39;),\r\n                file.getName().lastIndexOf(&#39;\\\\&#39;)));\r\n        int lastIndexOf = name.lastIndexOf(&quot;.&quot;);\r\n        if (lastIndexOf == -1) {\r\n            return &quot;&quot;; // empty extension\r\n        }\r\n        return name.substring(lastIndexOf + 1); // doesn&#39;t return &quot;.&quot; with extension\r\n    }\r\n\r\nSomething like this may be useful in, say, [any of ImageIO&#39;s `write` methods](https://docs.oracle.com/javase/7/docs/api/javax/imageio/ImageIO.html#write(java.awt.image.RenderedImage,%20java.lang.String,%20java.io.File)), where the file format has to be passed in.\r\n\r\nWhy use a whole third party API when you can DIY?","title":"How do I get the file extension of a file in Java?","body":"<p>I like the simplicity of <a href=\"https://stackoverflow.com/a/21974043/2089760\">spectre's answer</a>, and linked in one of his comments is a link to another answer that fixes dots in file paths, on another question, <a href=\"https://stackoverflow.com/a/3571239/2089760\">made by EboMike</a>.</p>\n\n<p>Without implementing some sort of third party API, I suggest:</p>\n\n<pre><code>private String getFileExtension(File file) {\n\n    String name = file.getName().substring(Math.max(file.getName().lastIndexOf('/'),\n            file.getName().lastIndexOf('\\\\')) &lt; 0 ? 0 : Math.max(file.getName().lastIndexOf('/'),\n            file.getName().lastIndexOf('\\\\')));\n    int lastIndexOf = name.lastIndexOf(\".\");\n    if (lastIndexOf == -1) {\n        return \"\"; // empty extension\n    }\n    return name.substring(lastIndexOf + 1); // doesn't return \".\" with extension\n}\n</code></pre>\n\n<p>Something like this may be useful in, say, <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/imageio/ImageIO.html#write(java.awt.image.RenderedImage,%20java.lang.String,%20java.io.File)\" rel=\"nofollow noreferrer\">any of ImageIO's <code>write</code> methods</a>, where the file format has to be passed in.</p>\n\n<p>Why use a whole third party API when you can DIY?</p>\n"},{"tags":[],"owner":{"account_id":9823391,"reputation":717,"user_id":7277322,"display_name":"Jens.Huehn_at_SlideFab.com"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1548711289,"creation_date":1548711289,"answer_id":54410602,"question_id":3571223,"body_markdown":"Here is another one-liner for Java 8. \r\n\r\n    String ext = Arrays.stream(fileName.split(&quot;\\\\.&quot;)).reduce((a,b) -&gt; b).orElse(null)\r\n\r\nIt works as follows:\r\n\r\n 1. Split the string into an array of strings using &quot;.&quot;\r\n 2. Convert the array into a stream\r\n 3. Use reduce to get the last element of the stream, i.e. the file extension\r\n\r\n\r\n    ","title":"How do I get the file extension of a file in Java?","body":"<p>Here is another one-liner for Java 8. </p>\n\n<pre><code>String ext = Arrays.stream(fileName.split(\"\\\\.\")).reduce((a,b) -&gt; b).orElse(null)\n</code></pre>\n\n<p>It works as follows:</p>\n\n<ol>\n<li>Split the string into an array of strings using \".\"</li>\n<li>Convert the array into a stream</li>\n<li>Use reduce to get the last element of the stream, i.e. the file extension</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5043223,"reputation":908,"user_id":4049983,"display_name":"Yiao SUN"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1598455166,"creation_date":1598455166,"answer_id":63600702,"question_id":3571223,"body_markdown":"If you use Spring framework in your project, then you can use [StringUtils][1]\r\n\r\n\r\n    import org.springframework.util.StringUtils;\r\n\r\n    StringUtils.getFilenameExtension(&quot;YourFileName&quot;)\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/util/StringUtils.html","title":"How do I get the file extension of a file in Java?","body":"<p>If you use Spring framework in your project, then you can use <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/util/StringUtils.html\" rel=\"noreferrer\">StringUtils</a></p>\n<pre><code>import org.springframework.util.StringUtils;\n\nStringUtils.getFilenameExtension(&quot;YourFileName&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user16123931"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1628426878,"creation_date":1628426878,"answer_id":68700939,"question_id":3571223,"body_markdown":"        private String getExtension(File file)\r\n            {\r\n                String fileName = file.getName();\r\n                String[] ext = fileName.split(&quot;\\\\.&quot;);\r\n                return ext[ext.length -1];\r\n            }","title":"How do I get the file extension of a file in Java?","body":"<pre><code>    private String getExtension(File file)\n        {\n            String fileName = file.getName();\n            String[] ext = fileName.split(&quot;\\\\.&quot;);\n            return ext[ext.length -1];\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10253956,"reputation":211,"user_id":7567294,"display_name":"Nolle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648940285,"creation_date":1648940285,"answer_id":71721755,"question_id":3571223,"body_markdown":"The fluent way:\r\n\r\n&gt;     public static String fileExtension(String fileName) {\r\n&gt;         return Optional.of(fileName.lastIndexOf(&quot;.&quot;)).filter(i-&gt; i &gt;= 0)\r\n&gt;                 .filter(i-&gt; i &gt; fileName.lastIndexOf(File.separator))\r\n&gt;                 .map(fileName::substring).orElse(&quot;&quot;);\r\n&gt;     }\r\n\r\n","title":"How do I get the file extension of a file in Java?","body":"<p>The fluent way:</p>\n<blockquote>\n<pre><code>public static String fileExtension(String fileName) {\n    return Optional.of(fileName.lastIndexOf(&quot;.&quot;)).filter(i-&gt; i &gt;= 0)\n            .filter(i-&gt; i &gt; fileName.lastIndexOf(File.separator))\n            .map(fileName::substring).orElse(&quot;&quot;);\n}\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1667557479,"creation_date":1667557479,"answer_id":74315488,"question_id":3571223,"body_markdown":"&lt;h3&gt;Java 20 EA&lt;/h3&gt;\r\n\r\nAs of Java 20 EA (early-access), there is finally a new method [`Path#getExtension`][1] that returns the extension as a `String`:\r\n\r\n```java\r\nPaths.get(&quot;/Users/admin/notes.txt&quot;).getExtension();              // &quot;txt&quot;\r\nPaths.get(&quot;/Users/admin/.gitconfig&quot;).getExtension();             // &quot;gitconfig&quot;\r\nPaths.get(&quot;/Users/admin/configuration.xml.zip&quot;).getExtension();  // &quot;zip&quot;\r\nPaths.get(&quot;/Users/admin/file&quot;).getExtension();                   // null\r\n```\r\n\r\n  [1]: https://download.java.net/java/early_access/jdk20/docs/api/java.base/java/nio/file/Path.html#getExtension()","title":"How do I get the file extension of a file in Java?","body":"<h3>Java 20 EA</h3>\n<p>As of Java 20 EA (early-access), there is finally a new method <a href=\"https://download.java.net/java/early_access/jdk20/docs/api/java.base/java/nio/file/Path.html#getExtension()\" rel=\"noreferrer\"><code>Path#getExtension</code></a> that returns the extension as a <code>String</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Paths.get(&quot;/Users/admin/notes.txt&quot;).getExtension();              // &quot;txt&quot;\nPaths.get(&quot;/Users/admin/.gitconfig&quot;).getExtension();             // &quot;gitconfig&quot;\nPaths.get(&quot;/Users/admin/configuration.xml.zip&quot;).getExtension();  // &quot;zip&quot;\nPaths.get(&quot;/Users/admin/file&quot;).getExtension();                   // null\n</code></pre>\n"}],"owner":{"account_id":113447,"reputation":10163,"user_id":298758,"accept_rate":100,"display_name":"longda"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":850453,"favorite_count":0,"down_vote_count":1,"up_vote_count":569,"accepted_answer_id":16202288,"answer_count":33,"score":568,"last_activity_date":1667557479,"creation_date":1282781978,"question_id":3571223,"body_markdown":"Just to be clear, I&#39;m not looking for the MIME type.\r\n\r\nLet&#39;s say I have the following input: `/path/to/file/foo.txt`\r\n\r\nI&#39;d like a way to break this input up, specifically into `.txt` for the extension.  Is there any built in way to do this in Java?  I would like to avoid writing my own parser.","title":"How do I get the file extension of a file in Java?","body":"<p>Just to be clear, I'm not looking for the MIME type.</p>\n\n<p>Let's say I have the following input: <code>/path/to/file/foo.txt</code></p>\n\n<p>I'd like a way to break this input up, specifically into <code>.txt</code> for the extension.  Is there any built in way to do this in Java?  I would like to avoid writing my own parser.</p>\n"},{"tags":["java","google-app-engine","jvm"],"comments":[{"owner":{"account_id":12799902,"reputation":5994,"user_id":9261558,"display_name":"Mazlum Tosun"},"score":0,"creation_date":1667555550,"post_id":74314629,"comment_id":131198715,"body_markdown":"Which is the database ?","body":"Which is the database ?"},{"owner":{"account_id":8854411,"reputation":105,"user_id":6612592,"accept_rate":40,"display_name":"Virx"},"score":0,"creation_date":1667556063,"post_id":74314629,"comment_id":131198943,"body_markdown":"@MazlumTosun database is Firestore","body":"@MazlumTosun database is Firestore"},{"owner":{"account_id":12799902,"reputation":5994,"user_id":9261558,"display_name":"Mazlum Tosun"},"score":0,"creation_date":1667556252,"post_id":74314629,"comment_id":131199011,"body_markdown":"Is it possible in `Firestore` to have an equivalent to IN clause in `SQL` ?","body":"Is it possible in <code>Firestore</code> to have an equivalent to IN clause in <code>SQL</code> ?"}],"answers":[{"tags":[],"owner":{"account_id":12799902,"reputation":5994,"user_id":9261558,"display_name":"Mazlum Tosun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667556886,"creation_date":1667556417,"answer_id":74315278,"question_id":74314629,"body_markdown":"I hope this can help : \r\n\r\nInstead of do a call to `event` from database for each partition in a loop, you can do an unique call to the database to retrieve all the events by a list of partitions, example : \r\n\r\n```java\r\nList&lt;Long&gt; eventIds = ... // just arraylist of ids\r\nIterable&lt;List&lt;Long&gt;&gt; partitions = Iterables.partition(eventIds, 10); // eventIds are partitioned into smaller chunks so one call to database would require less resurces \r\nMap&lt;Integer, YearlyStatistics&gt; yearlyStatisticsMap = new HashMap&lt;&gt;();\r\n\r\n// Use a IN with the list of partition on your query\r\n// This structure contains the list of events per partition\r\nMap&lt;Long, List&lt;Event&gt; eventsWithPartitions = database.getEvents(partitions)\r\n\r\n// Apply the rest of logic based on the MapeventsWithPartitions\r\n// for eventsWithPartitions\r\n\r\n```\r\n\r\nThe advantage with this solution, we are doing only one network call to the database.\r\n\r\nAccording to this [topic](https://stackoverflow.com/questions/48028440/how-to-accomplish-where-in-query-in-cloud-firestore), `Firstore` supports `IN` in queries.","title":"How to avoid running out of memory when iterating over multiple ArrayLists?","body":"<p>I hope this can help :</p>\n<p>Instead of do a call to <code>event</code> from database for each partition in a loop, you can do an unique call to the database to retrieve all the events by a list of partitions, example :</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Long&gt; eventIds = ... // just arraylist of ids\nIterable&lt;List&lt;Long&gt;&gt; partitions = Iterables.partition(eventIds, 10); // eventIds are partitioned into smaller chunks so one call to database would require less resurces \nMap&lt;Integer, YearlyStatistics&gt; yearlyStatisticsMap = new HashMap&lt;&gt;();\n\n// Use a IN with the list of partition on your query\n// This structure contains the list of events per partition\nMap&lt;Long, List&lt;Event&gt; eventsWithPartitions = database.getEvents(partitions)\n\n// Apply the rest of logic based on the MapeventsWithPartitions\n// for eventsWithPartitions\n\n</code></pre>\n<p>The advantage with this solution, we are doing only one network call to the database.</p>\n<p>According to this <a href=\"https://stackoverflow.com/questions/48028440/how-to-accomplish-where-in-query-in-cloud-firestore\">topic</a>, <code>Firstore</code> supports <code>IN</code> in queries.</p>\n"}],"owner":{"account_id":8854411,"reputation":105,"user_id":6612592,"accept_rate":40,"display_name":"Virx"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667556886,"creation_date":1667553371,"question_id":74314629,"body_markdown":"I have a code that looks like this.\r\n\r\n\r\n```\r\nList&lt;Long&gt; eventIds = ... // just arraylist of ids\r\nIterable&lt;List&lt;Long&gt;&gt; partitions = Iterables.partition(eventIds, 10); // eventIds are partitioned into smaller chunks so one call to database would require less resurces \r\nMap&lt;Integer, YearlyStatistics&gt; yearlyStatisticsMap = new HashMap&lt;&gt;();\r\nfor (List&lt;Long&gt; partition : partitions) {\r\n    List&lt;Event&gt; events = database.getEvents(partition); // This is where I get OutOfMemoryException after couple of loops. It looks like previous list of events is never garbage collected.\r\n    populateStatistics(events, yearlyStatisticsMap);\r\n}\r\n```\r\nOne `Event` is never larger than 1MB. JVM has 250MB of memory to work with. \r\nReason for partitioning the `eventIds` is that I will definitely run out of memory if I try to fetch every object at once from the database. So I thought that I will ask data in smaller chunks and JVM will clear up memory after every loop after `populateStatistics` method is called. Looks like this is not the case as at around ~50th loop OutOfMemoryException is thrown. Is there any way to optimize this code so memory from previous events is freed up?","title":"How to avoid running out of memory when iterating over multiple ArrayLists?","body":"<p>I have a code that looks like this.</p>\n<pre><code>List&lt;Long&gt; eventIds = ... // just arraylist of ids\nIterable&lt;List&lt;Long&gt;&gt; partitions = Iterables.partition(eventIds, 10); // eventIds are partitioned into smaller chunks so one call to database would require less resurces \nMap&lt;Integer, YearlyStatistics&gt; yearlyStatisticsMap = new HashMap&lt;&gt;();\nfor (List&lt;Long&gt; partition : partitions) {\n    List&lt;Event&gt; events = database.getEvents(partition); // This is where I get OutOfMemoryException after couple of loops. It looks like previous list of events is never garbage collected.\n    populateStatistics(events, yearlyStatisticsMap);\n}\n</code></pre>\n<p>One <code>Event</code> is never larger than 1MB. JVM has 250MB of memory to work with.\nReason for partitioning the <code>eventIds</code> is that I will definitely run out of memory if I try to fetch every object at once from the database. So I thought that I will ask data in smaller chunks and JVM will clear up memory after every loop after <code>populateStatistics</code> method is called. Looks like this is not the case as at around ~50th loop OutOfMemoryException is thrown. Is there any way to optimize this code so memory from previous events is freed up?</p>\n"},{"tags":["java","spring-boot","apache-kafka","docker-compose","spring-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1667580845,"post_id":74315369,"comment_id":131208102,"body_markdown":"`KAFKA_ADVERTISED_HOST_NAME` is a deprecated property. Use `KAFKA_ADVERTISED_LISTENERS`","body":"<code>KAFKA_ADVERTISED_HOST_NAME</code> is a deprecated property. Use <code>KAFKA_ADVERTISED_LISTENERS</code>"},{"owner":{"account_id":22436368,"reputation":276,"user_id":16641566,"display_name":"Robs"},"score":0,"creation_date":1667809041,"post_id":74315369,"comment_id":131247149,"body_markdown":"@OneCricketeer should I give the value: &quot;localhost&quot; to this property?","body":"@OneCricketeer should I give the value: &quot;localhost&quot; to this property?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1667837972,"post_id":74315369,"comment_id":131257547,"body_markdown":"Depends where you need to connect from. If your Spring code is also running in a Docker container, then no. Please refer answer in linked duplicate post","body":"Depends where you need to connect from. If your Spring code is also running in a Docker container, then no. Please refer answer in linked duplicate post"}],"owner":{"account_id":22436368,"reputation":276,"user_id":16641566,"display_name":"Robs"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1667580826,"answer_count":0,"score":1,"last_activity_date":1667556880,"creation_date":1667556880,"question_id":74315369,"body_markdown":"I&#39;m trying to send a message with Kafka but everytime I send I get this message in the console:\r\n\r\nMy docker compose is:\r\n\r\n  \r\n\r\n      version: &#39;3&#39;\r\n    \r\n    services:\r\n      zookeeper:\r\n        image: wurstmeister/zookeeper\r\n        container_name: zookeeper\r\n        ports:\r\n          - &quot;2181:2181&quot;\r\n    \r\n    \r\n      kafka:\r\n        image: wurstmeister/kafka\r\n        ports:\r\n          - &quot;9092:9092&quot;\r\n        environment:\r\n          KAFKA_ADVERTISED_HOST_NAME:  localhost\r\n          KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\r\n\r\nMy docker producer configuration:\r\n\r\n     @Value(&quot;${spring.kafka.bootstrap-servers}&quot;) //spring.kafka.bootstrap-servers: localhost:9092\r\n        private String bootstrapServers;\r\n    \r\n        public Map&lt;String, Object&gt; producerConfig(){\r\n            Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n            props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\r\n            props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n            props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n            return props;\r\n        }\r\n    \r\n        @Bean\r\n        public ProducerFactory&lt;String, String&gt; producerFactory(){\r\n           return new DefaultKafkaProducerFactory&lt;&gt;(producerConfig());\r\n        }\r\n    \r\n        @Bean\r\n        public KafkaTemplate&lt;String, String&gt; kafkaTemplate(\r\n                ProducerFactory&lt;String, String&gt; producerFactory\r\n        ){\r\n            return new KafkaTemplate&lt;&gt;(producerFactory);\r\n        }\r\n\r\n    @Bean\r\n        public NewTopic myTopic(){\r\n            return TopicBuilder.name(&quot;Robs&quot;)\r\n                    .build();\r\n        }\r\n\r\nMy consumer configuration:\r\n\r\n      @Value(&quot;${spring.kafka.bootstrap-servers}&quot;)\r\n    private String bootstrapServers;\r\n\r\n    public Map&lt;String, Object&gt; consumerConfig(){\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\r\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n        return props;\r\n    }\r\n\r\n    @Bean\r\n    public ConsumerFactory&lt;String, String&gt; consumerFactory(){\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfig());\r\n    }\r\n\r\n    @Bean\r\n    public KafkaListenerContainerFactory&lt;\r\n            ConcurrentMessageListenerContainer&lt;String, String&gt;&gt; factory(\r\n            ConsumerFactory&lt;String, String&gt; consumerFactory){\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(consumerFactory);\r\n        return factory;\r\n    }\r\n\r\nMy controller:\r\n\r\n  \r\n\r\n     private final  KafkaTemplate&lt;String, String&gt; kafkaTemplate;\r\n    \r\n    \r\n        @PostMapping(&quot;/send&quot;)\r\n        public ResponseEntity&lt;String&gt; sendMessage(@RequestParam String message){\r\n            kafkaTemplate.send(&quot;Robs&quot;,message);\r\n            return ResponseEntity.ok(&quot;Message sent to topic: Robs&quot;);\r\n    \r\n        }\r\n\r\n     @KafkaListener(\r\n                topics = &quot;Robs&quot;,\r\n                groupId = &quot;groupId&quot;\r\n        )\r\n        void listener(String data){\r\n            System.out.println(&quot;Received: &quot;+data);\r\n        }\r\n\r\nConsole configuration output:\r\n\r\n    2022-11-04 11:05:18.415  INFO 10340 --- [           main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: \r\n\tallow.auto.create.topics = true\r\n\tauto.commit.interval.ms = 5000\r\n\tauto.offset.reset = latest\r\n\tbootstrap.servers = [localhost:9092]\r\n\tcheck.crcs = true\r\n\tclient.dns.lookup = use_all_dns_ips\r\n\tclient.id = consumer-groupId-1\r\n\tclient.rack = \r\n\tconnections.max.idle.ms = 540000\r\n\tdefault.api.timeout.ms = 60000\r\n\tenable.auto.commit = false\r\n\texclude.internal.topics = true\r\n\tfetch.max.bytes = 52428800\r\n\tfetch.max.wait.ms = 500\r\n\tfetch.min.bytes = 1\r\n\tgroup.id = groupId\r\n\tgroup.instance.id = null\r\n\theartbeat.interval.ms = 3000\r\n\tinterceptor.classes = []\r\n\tinternal.leave.group.on.close = true\r\n\tinternal.throw.on.fetch.stable.offset.unsupported = false\r\n\tisolation.level = read_uncommitted\r\n\tkey.deserializer = class org.apache.kafka.common.serialization.StringDeserializer\r\n\tmax.partition.fetch.bytes = 1048576\r\n\tmax.poll.interval.ms = 300000\r\n\tmax.poll.records = 500\r\n\tmetadata.max.age.ms = 300000\r\n\tmetric.reporters = []\r\n\tmetrics.num.samples = 2\r\n\tmetrics.recording.level = INFO\r\n\tmetrics.sample.window.ms = 30000\r\n\tpartition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]\r\n\treceive.buffer.bytes = 65536\r\n\treconnect.backoff.max.ms = 1000\r\n\treconnect.backoff.ms = 50\r\n\trequest.timeout.ms = 30000\r\n\tretry.backoff.ms = 100\r\n\tsasl.client.callback.handler.class = null\r\n\tsasl.jaas.config = null\r\n\tsasl.kerberos.kinit.cmd = /usr/bin/kinit\r\n\tsasl.kerberos.min.time.before.relogin = 60000\r\n\tsasl.kerberos.service.name = null\r\n\tsasl.kerberos.ticket.renew.jitter = 0.05\r\n\tsasl.kerberos.ticket.renew.window.factor = 0.8\r\n\tsasl.login.callback.handler.class = null\r\n\tsasl.login.class = null\r\n\tsasl.login.connect.timeout.ms = null\r\n\tsasl.login.read.timeout.ms = null\r\n\tsasl.login.refresh.buffer.seconds = 300\r\n\tsasl.login.refresh.min.period.seconds = 60\r\n\tsasl.login.refresh.window.factor = 0.8\r\n\tsasl.login.refresh.window.jitter = 0.05\r\n\tsasl.login.retry.backoff.max.ms = 10000\r\n\tsasl.login.retry.backoff.ms = 100\r\n\tsasl.mechanism = GSSAPI\r\n\tsasl.oauthbearer.clock.skew.seconds = 30\r\n\tsasl.oauthbearer.expected.audience = null\r\n\tsasl.oauthbearer.expected.issuer = null\r\n\tsasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000\r\n\tsasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000\r\n\tsasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100\r\n\tsasl.oauthbearer.jwks.endpoint.url = null\r\n\tsasl.oauthbearer.scope.claim.name = scope\r\n\tsasl.oauthbearer.sub.claim.name = sub\r\n\tsasl.oauthbearer.token.endpoint.url = null\r\n\tsecurity.protocol = PLAINTEXT\r\n\tsecurity.providers = null\r\n\tsend.buffer.bytes = 131072\r\n\tsession.timeout.ms = 45000\r\n\tsocket.connection.setup.timeout.max.ms = 30000\r\n\tsocket.connection.setup.timeout.ms = 10000\r\n\tssl.cipher.suites = null\r\n\tssl.enabled.protocols = [TLSv1.2, TLSv1.3]\r\n\tssl.endpoint.identification.algorithm = https\r\n\tssl.engine.factory.class = null\r\n\tssl.key.password = null\r\n\tssl.keymanager.algorithm = SunX509\r\n\tssl.keystore.certificate.chain = null\r\n\tssl.keystore.key = null\r\n\tssl.keystore.location = null\r\n\tssl.keystore.password = null\r\n\tssl.keystore.type = JKS\r\n\tssl.protocol = TLSv1.3\r\n\tssl.provider = null\r\n\tssl.secure.random.implementation = null\r\n\tssl.trustmanager.algorithm = PKIX\r\n\tssl.truststore.certificates = null\r\n\tssl.truststore.location = null\r\n\tssl.truststore.password = null\r\n\tssl.truststore.type = JKS\r\n\tvalue.deserializer = class org.apache.kafka.common.serialization.StringDeserializer\r\n   \r\n\r\n   ProducerConfig values: \r\n    \t\r\n\r\n    acks = -1\r\n        \tbatch.size = 16384\r\n        \tbootstrap.servers = [localhost:9092]\r\n        \tbuffer.memory = 33554432\r\n        \tclient.dns.lookup = use_all_dns_ips\r\n        \tclient.id = producer-1\r\n        \tcompression.type = none\r\n        \tconnections.max.idle.ms = 540000\r\n        \tdelivery.timeout.ms = 120000\r\n        \tenable.idempotence = true\r\n        \tinterceptor.classes = []\r\n        \tkey.serializer = class org.apache.kafka.common.serialization.StringSerializer\r\n        \tlinger.ms = 0\r\n        \tmax.block.ms = 60000\r\n        \tmax.in.flight.requests.per.connection = 5\r\n        \tmax.request.size = 1048576\r\n        \tmetadata.max.age.ms = 300000\r\n        \tmetadata.max.idle.ms = 300000\r\n        \tmetric.reporters = []\r\n        \tmetrics.num.samples = 2\r\n        \tmetrics.recording.level = INFO\r\n        \tmetrics.sample.window.ms = 30000\r\n        \tpartitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner\r\n        \treceive.buffer.bytes = 32768\r\n        \treconnect.backoff.max.ms = 1000\r\n        \treconnect.backoff.ms = 50\r\n        \trequest.timeout.ms = 30000\r\n        \tretries = 2147483647\r\n        \tretry.backoff.ms = 100\r\n        \tsasl.client.callback.handler.class = null\r\n        \tsasl.jaas.config = null\r\n        \tsasl.kerberos.kinit.cmd = /usr/bin/kinit\r\n        \tsasl.kerberos.min.time.before.relogin = 60000\r\n        \tsasl.kerberos.service.name = null\r\n        \tsasl.kerberos.ticket.renew.jitter = 0.05\r\n        \tsasl.kerberos.ticket.renew.window.factor = 0.8\r\n        \tsasl.login.callback.handler.class = null\r\n        \tsasl.login.class = null\r\n        \tsasl.login.connect.timeout.ms = null\r\n        \tsasl.login.read.timeout.ms = null\r\n        \tsasl.login.refresh.buffer.seconds = 300\r\n        \tsasl.login.refresh.min.period.seconds = 60\r\n        \tsasl.login.refresh.window.factor = 0.8\r\n        \tsasl.login.refresh.window.jitter = 0.05\r\n        \tsasl.login.retry.backoff.max.ms = 10000\r\n        \tsasl.login.retry.backoff.ms = 100\r\n        \tsasl.mechanism = GSSAPI\r\n        \tsasl.oauthbearer.clock.skew.seconds = 30\r\n        \tsasl.oauthbearer.expected.audience = null\r\n        \tsasl.oauthbearer.expected.issuer = null\r\n        \tsasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000\r\n        \tsasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000\r\n        \tsasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100\r\n        \tsasl.oauthbearer.jwks.endpoint.url = null\r\n        \tsasl.oauthbearer.scope.claim.name = scope\r\n        \tsasl.oauthbearer.sub.claim.name = sub\r\n        \tsasl.oauthbearer.token.endpoint.url = null\r\n        \tsecurity.protocol = PLAINTEXT\r\n        \tsecurity.providers = null\r\n        \tsend.buffer.bytes = 131072\r\n        \tsocket.connection.setup.timeout.max.ms = 30000\r\n        \tsocket.connection.setup.timeout.ms = 10000\r\n        \tssl.cipher.suites = null\r\n        \tssl.enabled.protocols = [TLSv1.2, TLSv1.3]\r\n        \tssl.endpoint.identification.algorithm = https\r\n        \tssl.engine.factory.class = null\r\n        \tssl.key.password = null\r\n        \tssl.keymanager.algorithm = SunX509\r\n        \tssl.keystore.certificate.chain = null\r\n        \tssl.keystore.key = null\r\n        \tssl.keystore.location = null\r\n        \tssl.keystore.password = null\r\n        \tssl.keystore.type = JKS\r\n        \tssl.protocol = TLSv1.3\r\n        \tssl.provider = null\r\n        \tssl.secure.random.implementation = null\r\n        \tssl.trustmanager.algorithm = PKIX\r\n        \tssl.truststore.certificates = null\r\n        \tssl.truststore.location = null\r\n        \tssl.truststore.password = null\r\n        \tssl.truststore.type = JKS\r\n        \ttransaction.timeout.ms = 60000\r\n        \ttransactional.id = null\r\n        \tvalue.serializer = class org.apache.kafka.common.serialization.StringSerializer\r\n\r\nI get this in the console:\r\n\r\n    ERROR 10340 --- [ad | producer-1] o.s.k.support.LoggingProducerListener    : Exception thrown when sending a message with key=&#39;null&#39; and payload=&#39;Ciao...... Hola&#39; to topic Robs:\r\n    \r\n    org.apache.kafka.common.errors.TimeoutException: Expiring 3 record(s) for Robs-0:120000 ms has passed since batch creation\r\n\r\n\r\nDoes anybody know what I m doing wrong?\r\nthanks!!\r\n","title":"Kafka unable to send/receive the message","body":"<p>I'm trying to send a message with Kafka but everytime I send I get this message in the console:</p>\n<p>My docker compose is:</p>\n<pre><code>  version: '3'\n\nservices:\n  zookeeper:\n    image: wurstmeister/zookeeper\n    container_name: zookeeper\n    ports:\n      - &quot;2181:2181&quot;\n\n\n  kafka:\n    image: wurstmeister/kafka\n    ports:\n      - &quot;9092:9092&quot;\n    environment:\n      KAFKA_ADVERTISED_HOST_NAME:  localhost\n      KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\n</code></pre>\n<p>My docker producer configuration:</p>\n<pre><code> @Value(&quot;${spring.kafka.bootstrap-servers}&quot;) //spring.kafka.bootstrap-servers: localhost:9092\n    private String bootstrapServers;\n\n    public Map&lt;String, Object&gt; producerConfig(){\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\n        props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n        props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n        return props;\n    }\n\n    @Bean\n    public ProducerFactory&lt;String, String&gt; producerFactory(){\n       return new DefaultKafkaProducerFactory&lt;&gt;(producerConfig());\n    }\n\n    @Bean\n    public KafkaTemplate&lt;String, String&gt; kafkaTemplate(\n            ProducerFactory&lt;String, String&gt; producerFactory\n    ){\n        return new KafkaTemplate&lt;&gt;(producerFactory);\n    }\n\n@Bean\n    public NewTopic myTopic(){\n        return TopicBuilder.name(&quot;Robs&quot;)\n                .build();\n    }\n</code></pre>\n<p>My consumer configuration:</p>\n<pre><code>  @Value(&quot;${spring.kafka.bootstrap-servers}&quot;)\nprivate String bootstrapServers;\n\npublic Map&lt;String, Object&gt; consumerConfig(){\n    Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n    props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\n    props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringSerializer.class);\n    props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringSerializer.class);\n    return props;\n}\n\n@Bean\npublic ConsumerFactory&lt;String, String&gt; consumerFactory(){\n    return new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfig());\n}\n\n@Bean\npublic KafkaListenerContainerFactory&lt;\n        ConcurrentMessageListenerContainer&lt;String, String&gt;&gt; factory(\n        ConsumerFactory&lt;String, String&gt; consumerFactory){\n    ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n    factory.setConsumerFactory(consumerFactory);\n    return factory;\n}\n</code></pre>\n<p>My controller:</p>\n<pre><code> private final  KafkaTemplate&lt;String, String&gt; kafkaTemplate;\n\n\n    @PostMapping(&quot;/send&quot;)\n    public ResponseEntity&lt;String&gt; sendMessage(@RequestParam String message){\n        kafkaTemplate.send(&quot;Robs&quot;,message);\n        return ResponseEntity.ok(&quot;Message sent to topic: Robs&quot;);\n\n    }\n\n @KafkaListener(\n            topics = &quot;Robs&quot;,\n            groupId = &quot;groupId&quot;\n    )\n    void listener(String data){\n        System.out.println(&quot;Received: &quot;+data);\n    }\n</code></pre>\n<p>Console configuration output:</p>\n<pre><code>2022-11-04 11:05:18.415  INFO 10340 --- [           main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: \nallow.auto.create.topics = true\nauto.commit.interval.ms = 5000\nauto.offset.reset = latest\nbootstrap.servers = [localhost:9092]\ncheck.crcs = true\nclient.dns.lookup = use_all_dns_ips\nclient.id = consumer-groupId-1\nclient.rack = \nconnections.max.idle.ms = 540000\ndefault.api.timeout.ms = 60000\nenable.auto.commit = false\nexclude.internal.topics = true\nfetch.max.bytes = 52428800\nfetch.max.wait.ms = 500\nfetch.min.bytes = 1\ngroup.id = groupId\ngroup.instance.id = null\nheartbeat.interval.ms = 3000\ninterceptor.classes = []\ninternal.leave.group.on.close = true\ninternal.throw.on.fetch.stable.offset.unsupported = false\nisolation.level = read_uncommitted\nkey.deserializer = class org.apache.kafka.common.serialization.StringDeserializer\nmax.partition.fetch.bytes = 1048576\nmax.poll.interval.ms = 300000\nmax.poll.records = 500\nmetadata.max.age.ms = 300000\nmetric.reporters = []\nmetrics.num.samples = 2\nmetrics.recording.level = INFO\nmetrics.sample.window.ms = 30000\npartition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]\nreceive.buffer.bytes = 65536\nreconnect.backoff.max.ms = 1000\nreconnect.backoff.ms = 50\nrequest.timeout.ms = 30000\nretry.backoff.ms = 100\nsasl.client.callback.handler.class = null\nsasl.jaas.config = null\nsasl.kerberos.kinit.cmd = /usr/bin/kinit\nsasl.kerberos.min.time.before.relogin = 60000\nsasl.kerberos.service.name = null\nsasl.kerberos.ticket.renew.jitter = 0.05\nsasl.kerberos.ticket.renew.window.factor = 0.8\nsasl.login.callback.handler.class = null\nsasl.login.class = null\nsasl.login.connect.timeout.ms = null\nsasl.login.read.timeout.ms = null\nsasl.login.refresh.buffer.seconds = 300\nsasl.login.refresh.min.period.seconds = 60\nsasl.login.refresh.window.factor = 0.8\nsasl.login.refresh.window.jitter = 0.05\nsasl.login.retry.backoff.max.ms = 10000\nsasl.login.retry.backoff.ms = 100\nsasl.mechanism = GSSAPI\nsasl.oauthbearer.clock.skew.seconds = 30\nsasl.oauthbearer.expected.audience = null\nsasl.oauthbearer.expected.issuer = null\nsasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000\nsasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000\nsasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100\nsasl.oauthbearer.jwks.endpoint.url = null\nsasl.oauthbearer.scope.claim.name = scope\nsasl.oauthbearer.sub.claim.name = sub\nsasl.oauthbearer.token.endpoint.url = null\nsecurity.protocol = PLAINTEXT\nsecurity.providers = null\nsend.buffer.bytes = 131072\nsession.timeout.ms = 45000\nsocket.connection.setup.timeout.max.ms = 30000\nsocket.connection.setup.timeout.ms = 10000\nssl.cipher.suites = null\nssl.enabled.protocols = [TLSv1.2, TLSv1.3]\nssl.endpoint.identification.algorithm = https\nssl.engine.factory.class = null\nssl.key.password = null\nssl.keymanager.algorithm = SunX509\nssl.keystore.certificate.chain = null\nssl.keystore.key = null\nssl.keystore.location = null\nssl.keystore.password = null\nssl.keystore.type = JKS\nssl.protocol = TLSv1.3\nssl.provider = null\nssl.secure.random.implementation = null\nssl.trustmanager.algorithm = PKIX\nssl.truststore.certificates = null\nssl.truststore.location = null\nssl.truststore.password = null\nssl.truststore.type = JKS\nvalue.deserializer = class org.apache.kafka.common.serialization.StringDeserializer\n</code></pre>\n<p>ProducerConfig values:</p>\n<pre><code>acks = -1\n        batch.size = 16384\n        bootstrap.servers = [localhost:9092]\n        buffer.memory = 33554432\n        client.dns.lookup = use_all_dns_ips\n        client.id = producer-1\n        compression.type = none\n        connections.max.idle.ms = 540000\n        delivery.timeout.ms = 120000\n        enable.idempotence = true\n        interceptor.classes = []\n        key.serializer = class org.apache.kafka.common.serialization.StringSerializer\n        linger.ms = 0\n        max.block.ms = 60000\n        max.in.flight.requests.per.connection = 5\n        max.request.size = 1048576\n        metadata.max.age.ms = 300000\n        metadata.max.idle.ms = 300000\n        metric.reporters = []\n        metrics.num.samples = 2\n        metrics.recording.level = INFO\n        metrics.sample.window.ms = 30000\n        partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner\n        receive.buffer.bytes = 32768\n        reconnect.backoff.max.ms = 1000\n        reconnect.backoff.ms = 50\n        request.timeout.ms = 30000\n        retries = 2147483647\n        retry.backoff.ms = 100\n        sasl.client.callback.handler.class = null\n        sasl.jaas.config = null\n        sasl.kerberos.kinit.cmd = /usr/bin/kinit\n        sasl.kerberos.min.time.before.relogin = 60000\n        sasl.kerberos.service.name = null\n        sasl.kerberos.ticket.renew.jitter = 0.05\n        sasl.kerberos.ticket.renew.window.factor = 0.8\n        sasl.login.callback.handler.class = null\n        sasl.login.class = null\n        sasl.login.connect.timeout.ms = null\n        sasl.login.read.timeout.ms = null\n        sasl.login.refresh.buffer.seconds = 300\n        sasl.login.refresh.min.period.seconds = 60\n        sasl.login.refresh.window.factor = 0.8\n        sasl.login.refresh.window.jitter = 0.05\n        sasl.login.retry.backoff.max.ms = 10000\n        sasl.login.retry.backoff.ms = 100\n        sasl.mechanism = GSSAPI\n        sasl.oauthbearer.clock.skew.seconds = 30\n        sasl.oauthbearer.expected.audience = null\n        sasl.oauthbearer.expected.issuer = null\n        sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000\n        sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000\n        sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100\n        sasl.oauthbearer.jwks.endpoint.url = null\n        sasl.oauthbearer.scope.claim.name = scope\n        sasl.oauthbearer.sub.claim.name = sub\n        sasl.oauthbearer.token.endpoint.url = null\n        security.protocol = PLAINTEXT\n        security.providers = null\n        send.buffer.bytes = 131072\n        socket.connection.setup.timeout.max.ms = 30000\n        socket.connection.setup.timeout.ms = 10000\n        ssl.cipher.suites = null\n        ssl.enabled.protocols = [TLSv1.2, TLSv1.3]\n        ssl.endpoint.identification.algorithm = https\n        ssl.engine.factory.class = null\n        ssl.key.password = null\n        ssl.keymanager.algorithm = SunX509\n        ssl.keystore.certificate.chain = null\n        ssl.keystore.key = null\n        ssl.keystore.location = null\n        ssl.keystore.password = null\n        ssl.keystore.type = JKS\n        ssl.protocol = TLSv1.3\n        ssl.provider = null\n        ssl.secure.random.implementation = null\n        ssl.trustmanager.algorithm = PKIX\n        ssl.truststore.certificates = null\n        ssl.truststore.location = null\n        ssl.truststore.password = null\n        ssl.truststore.type = JKS\n        transaction.timeout.ms = 60000\n        transactional.id = null\n        value.serializer = class org.apache.kafka.common.serialization.StringSerializer\n</code></pre>\n<p>I get this in the console:</p>\n<pre><code>ERROR 10340 --- [ad | producer-1] o.s.k.support.LoggingProducerListener    : Exception thrown when sending a message with key='null' and payload='Ciao...... Hola' to topic Robs:\n\norg.apache.kafka.common.errors.TimeoutException: Expiring 3 record(s) for Robs-0:120000 ms has passed since batch creation\n</code></pre>\n<p>Does anybody know what I m doing wrong?\nthanks!!</p>\n"},{"tags":["java","spring","junit","spring-amqp","spring-rabbit"],"answers":[{"tags":[],"owner":{"account_id":128874,"reputation":9185,"user_id":327038,"accept_rate":75,"display_name":"asthasr"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1421671241,"creation_date":1421671241,"answer_id":28024897,"question_id":28024842,"body_markdown":"I wouldn&#39;t try to mock the RabbitMQ server itself; instead, mock your publication methods, channel factories, and so on in order to emulate error conditions (and the happy path, of course). What happens when your `FoozleEvent.publish` method throws an `IOError`, for example?","title":"JUnit Tests for RabbitMQ","body":"<p>I wouldn't try to mock the RabbitMQ server itself; instead, mock your publication methods, channel factories, and so on in order to emulate error conditions (and the happy path, of course). What happens when your <code>FoozleEvent.publish</code> method throws an <code>IOError</code>, for example?</p>\n"},{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1421680211,"creation_date":1421680211,"answer_id":28027716,"question_id":28024842,"body_markdown":"We use mocking extensively for tests in the framework itself; explore the [tests](https://github.com/spring-projects/spring-amqp/tree/master/spring-rabbit/src/test/java/org/springframework/amqp/rabbit) for ideas. It&#39;s not too bad on the `RabbitTemplate` side, but mocking for the listener container is more involved.\r\n\r\nIn some case, though, a real integration test is needed and in that case we use a JUnit `@Rule` to ignore the tests if there&#39;s not a local rabbitmq broker.","title":"JUnit Tests for RabbitMQ","body":"<p>We use mocking extensively for tests in the framework itself; explore the <a href=\"https://github.com/spring-projects/spring-amqp/tree/master/spring-rabbit/src/test/java/org/springframework/amqp/rabbit\" rel=\"nofollow\">tests</a> for ideas. It's not too bad on the <code>RabbitTemplate</code> side, but mocking for the listener container is more involved.</p>\n\n<p>In some case, though, a real integration test is needed and in that case we use a JUnit <code>@Rule</code> to ignore the tests if there's not a local rabbitmq broker.</p>\n"},{"tags":[],"owner":{"account_id":13976172,"reputation":985,"user_id":10093542,"display_name":"Lo&#239;c Le Doyen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581288351,"creation_date":1548662098,"answer_id":54397615,"question_id":28024842,"body_markdown":"To mock RabbitMQ in the Java world, there is a library that I am building : [**rabbitmq-mock**](https://github.com/fridujo/rabbitmq-mock).\r\n\r\nThe purpose is exactly the use case you describe. You can simply replace the **amqp-client** `ConnectionFactory` and you will have most of RabbitMQ features out of the box, without using IO (no port binding is needed) and without startup time.\r\n\r\nSimply add the dependendy in your **pom.xml**:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.github.fridujo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;rabbitmq-mock&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.14&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThen you can use it through a replacement of the ConnectionFactory you provided through Spring configuration or that Spring-Boot have provided for you:\r\n\r\n\t@Configuration\r\n\t@Import(AppConfiguration.class)\r\n\tclass TestConfiguration {\r\n\t\t@Bean\r\n\t\tConnectionFactory connectionFactory() {\r\n\t\t\treturn new CachingConnectionFactory(new MockConnectionFactory());\r\n\t\t}\r\n\t}\r\n\r\nHope this will help !","title":"JUnit Tests for RabbitMQ","body":"<p>To mock RabbitMQ in the Java world, there is a library that I am building : <a href=\"https://github.com/fridujo/rabbitmq-mock\" rel=\"nofollow noreferrer\"><strong>rabbitmq-mock</strong></a>.</p>\n\n<p>The purpose is exactly the use case you describe. You can simply replace the <strong>amqp-client</strong> <code>ConnectionFactory</code> and you will have most of RabbitMQ features out of the box, without using IO (no port binding is needed) and without startup time.</p>\n\n<p>Simply add the dependendy in your <strong>pom.xml</strong>:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.github.fridujo&lt;/groupId&gt;\n    &lt;artifactId&gt;rabbitmq-mock&lt;/artifactId&gt;\n    &lt;version&gt;1.0.14&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Then you can use it through a replacement of the ConnectionFactory you provided through Spring configuration or that Spring-Boot have provided for you:</p>\n\n<pre><code>@Configuration\n@Import(AppConfiguration.class)\nclass TestConfiguration {\n    @Bean\n    ConnectionFactory connectionFactory() {\n        return new CachingConnectionFactory(new MockConnectionFactory());\n    }\n}\n</code></pre>\n\n<p>Hope this will help !</p>\n"},{"tags":[],"owner":{"account_id":1092304,"reputation":693,"user_id":1086679,"accept_rate":100,"display_name":"Liam Williams"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667556829,"creation_date":1667556829,"answer_id":74315360,"question_id":28024842,"body_markdown":"Another approach, instead of mocking the RabbitMQ server itself, is to mock the dependent service on the other side of the external RabbitMQ server. You can do this using an [async API simulation/mocking tool][1]. \r\n\r\nFor example you can use [Traffic Parrot][2] which can be run in a Docker container as part of your CI/CD pipeline.\r\n\r\nHere is a [video demo][3] of how you can use the tool to send mock response messages to a RabbitMQ queue in an [aysnc request/response pattern][4]. There is also a corresponding [tutorial available][5] to follow.\r\n\r\n[![Request/Response RabbitMQ pattern][6]][6]\r\n[![Recording gRPC messages][7]][7]\r\n[![Replaying gRPC messages][8]][8]\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Comparison_of_API_simulation_tools\r\n  [2]: https://trafficparrot.com\r\n  [3]: https://www.youtube.com/watch?v=YFYJHa3j3uc\r\n  [4]: https://dzone.com/articles/rabbitmq-request-response\r\n  [5]: https://trafficparrot.com/tutorials/service-virtualization-mocking-or-simulating-rabbitmq.html\r\n  [6]: https://trafficparrot.com/tutorials/img/rabbitmq/RabbitMQ_mocking_tutorial_systems_communicating_with_queues.png\r\n  [7]: https://trafficparrot.com/tutorials/img/rabbitmq/RabbitMQ_mocking_tutorial_testing_vegetable_order_processing_system_with_traffic_parrot.png\r\n  [8]: https://trafficparrot.com/tutorials/img/rabbitmq/fill_in_new_mapping_form.png","title":"JUnit Tests for RabbitMQ","body":"<p>Another approach, instead of mocking the RabbitMQ server itself, is to mock the dependent service on the other side of the external RabbitMQ server. You can do this using an <a href=\"https://en.wikipedia.org/wiki/Comparison_of_API_simulation_tools\" rel=\"nofollow noreferrer\">async API simulation/mocking tool</a>.</p>\n<p>For example you can use <a href=\"https://trafficparrot.com\" rel=\"nofollow noreferrer\">Traffic Parrot</a> which can be run in a Docker container as part of your CI/CD pipeline.</p>\n<p>Here is a <a href=\"https://www.youtube.com/watch?v=YFYJHa3j3uc\" rel=\"nofollow noreferrer\">video demo</a> of how you can use the tool to send mock response messages to a RabbitMQ queue in an <a href=\"https://dzone.com/articles/rabbitmq-request-response\" rel=\"nofollow noreferrer\">aysnc request/response pattern</a>. There is also a corresponding <a href=\"https://trafficparrot.com/tutorials/service-virtualization-mocking-or-simulating-rabbitmq.html\" rel=\"nofollow noreferrer\">tutorial available</a> to follow.</p>\n<p><a href=\"https://trafficparrot.com/tutorials/img/rabbitmq/RabbitMQ_mocking_tutorial_systems_communicating_with_queues.png\" rel=\"nofollow noreferrer\"><img src=\"https://trafficparrot.com/tutorials/img/rabbitmq/RabbitMQ_mocking_tutorial_systems_communicating_with_queues.png\" alt=\"Request/Response RabbitMQ pattern\" /></a>\n<a href=\"https://trafficparrot.com/tutorials/img/rabbitmq/RabbitMQ_mocking_tutorial_testing_vegetable_order_processing_system_with_traffic_parrot.png\" rel=\"nofollow noreferrer\"><img src=\"https://trafficparrot.com/tutorials/img/rabbitmq/RabbitMQ_mocking_tutorial_testing_vegetable_order_processing_system_with_traffic_parrot.png\" alt=\"Recording gRPC messages\" /></a>\n<a href=\"https://trafficparrot.com/tutorials/img/rabbitmq/fill_in_new_mapping_form.png\" rel=\"nofollow noreferrer\"><img src=\"https://trafficparrot.com/tutorials/img/rabbitmq/fill_in_new_mapping_form.png\" alt=\"Replaying gRPC messages\" /></a></p>\n"}],"owner":{"account_id":4447703,"reputation":3122,"user_id":3620552,"accept_rate":100,"display_name":"Ing. Luca Stucchi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12652,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":28024897,"answer_count":4,"score":9,"last_activity_date":1667556829,"creation_date":1421671068,"question_id":28024842,"body_markdown":"I am building an application using **RabbitMQ** with Spring: so far so good. \r\nTo define Unit Tests I am using JUnit targeting an external server. \r\nWhat I wanted to find out is if there is a way to mock the RabbitMQ server to perform tests, and if there is more than a way, which is the best one. \r\n\r\nI found some posts around but they were made in 2012 or even before... maybe there&#39;s something newer, easier and more effective ! \r\n\r\nThanks in advance","title":"JUnit Tests for RabbitMQ","body":"<p>I am building an application using <strong>RabbitMQ</strong> with Spring: so far so good. \nTo define Unit Tests I am using JUnit targeting an external server. \nWhat I wanted to find out is if there is a way to mock the RabbitMQ server to perform tests, and if there is more than a way, which is the best one. </p>\n\n<p>I found some posts around but they were made in 2012 or even before... maybe there's something newer, easier and more effective ! </p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1667559006,"post_id":74315318,"comment_id":131200001,"body_markdown":"When you press BACK button in `ActivityA`, that `Activity` this calls `finish()` on `ActivityA` and removes that `Activity` from the stack, returning the user to the `Activity` underneath it. `onResume()` is called on the `Activity` underneath. I assume your error is occurring there.","body":"When you press BACK button in <code>ActivityA</code>, that <code>Activity</code> this calls <code>finish()</code> on <code>ActivityA</code> and removes that <code>Activity</code> from the stack, returning the user to the <code>Activity</code> underneath it. <code>onResume()</code> is called on the <code>Activity</code> underneath. I assume your error is occurring there."},{"owner":{"account_id":26585909,"reputation":3,"user_id":20209820,"display_name":"Don K"},"score":0,"creation_date":1667559628,"post_id":74315318,"comment_id":131200240,"body_markdown":"@David Wasser But when I pressed back button in activity A, that error occured. I have to override onBackPressed method and call finish(). It&#39;s not happening by default as you stated.","body":"@David Wasser But when I pressed back button in activity A, that error occured. I have to override onBackPressed method and call finish(). It&#39;s not happening by default as you stated."},{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1667561590,"post_id":74315318,"comment_id":131200918,"body_markdown":"Makes no sense. The default behaviour of `onBackPressed()` if you do not override it is to call `finish()`,.","body":"Makes no sense. The default behaviour of <code>onBackPressed()</code> if you do not override it is to call <code>finish()</code>,."},{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1667561631,"post_id":74315318,"comment_id":131200932,"body_markdown":"What is the `Actvitity` that launches `ActivityA`? The one with the `Fragment`s?","body":"What is the <code>Actvitity</code> that launches <code>ActivityA</code>? The one with the <code>Fragment</code>s?"},{"owner":{"account_id":26585909,"reputation":3,"user_id":20209820,"display_name":"Don K"},"score":0,"creation_date":1667562360,"post_id":74315318,"comment_id":131201175,"body_markdown":"One of the fragments inside MainActivity launches Activity A. There are recycler views inside those fragments too. Like whatsapp.","body":"One of the fragments inside MainActivity launches Activity A. There are recycler views inside those fragments too. Like whatsapp."},{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1667562536,"post_id":74315318,"comment_id":131201242,"body_markdown":"ok, so when you press BACK in `ActivityA`, this returns the user to `MainActivity` and the crash is occurring there. `onResume()` will get called in `MainActivity` and whatever the current `Fragment` is will probably also get some lifecycle callbacks.\\","body":"ok, so when you press BACK in <code>ActivityA</code>, this returns the user to <code>MainActivity</code> and the crash is occurring there. <code>onResume()</code> will get called in <code>MainActivity</code> and whatever the current <code>Fragment</code> is will probably also get some lifecycle callbacks.\\"},{"owner":{"account_id":26585909,"reputation":3,"user_id":20209820,"display_name":"Don K"},"score":0,"creation_date":1667565489,"post_id":74315318,"comment_id":131202228,"body_markdown":"Yeah, you are right about that. I remove finish(), and instead add super.onBackPressed().","body":"Yeah, you are right about that. I remove finish(), and instead add super.onBackPressed()."},{"owner":{"account_id":26585909,"reputation":3,"user_id":20209820,"display_name":"Don K"},"score":0,"creation_date":1667565904,"post_id":74315318,"comment_id":131202385,"body_markdown":"No. The first error is solved. But the same error is occuring when I press back in activity B. The error is, I guess, at activity A&#39;s onResume() called. How could I handle this though?","body":"No. The first error is solved. But the same error is occuring when I press back in activity B. The error is, I guess, at activity A&#39;s onResume() called. How could I handle this though?"},{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1667566921,"post_id":74315318,"comment_id":131202703,"body_markdown":"Unfortunately, none of this makes any real sense. Can you look at the stack trace and tell where exactly the error occurs? I assume you are doing something strange, so you might need to edit your question and show us more code. It is difficult to troubleshoot blind.","body":"Unfortunately, none of this makes any real sense. Can you look at the stack trace and tell where exactly the error occurs? I assume you are doing something strange, so you might need to edit your question and show us more code. It is difficult to troubleshoot blind."},{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1667567042,"post_id":74315318,"comment_id":131202737,"body_markdown":"Look at this: https://stackoverflow.com/questions/31759171/recyclerview-and-java-lang-indexoutofboundsexception-inconsistency-detected-in Your exception seems to indicate that you are modifying the data in a `RecyclerView` on a background thread (not main (UI) thread).","body":"Look at this: <a href=\"https://stackoverflow.com/questions/31759171/recyclerview-and-java-lang-indexoutofboundsexception-inconsistency-detected-in\" title=\"recyclerview and java lang indexoutofboundsexception inconsistency detected in\">stackoverflow.com/questions/31759171/&hellip;</a> Your exception seems to indicate that you are modifying the data in a <code>RecyclerView</code> on a background thread (not main (UI) thread)."},{"owner":{"account_id":26585909,"reputation":3,"user_id":20209820,"display_name":"Don K"},"score":0,"creation_date":1667705600,"post_id":74315318,"comment_id":131229087,"body_markdown":"When I add, recyclerView.setItemAnimator(null), it doesn&#39;t crash anymore. why?","body":"When I add, recyclerView.setItemAnimator(null), it doesn&#39;t crash anymore. why?"},{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1667737879,"post_id":74315318,"comment_id":131233544,"body_markdown":"Looks like this may be a bug in Samsung code. Ensure that you are updating the data in your `RecyclerView` on the main (UI) thread.","body":"Looks like this may be a bug in Samsung code. Ensure that you are updating the data in your <code>RecyclerView</code> on the main (UI) thread."}],"owner":{"account_id":26585909,"reputation":3,"user_id":20209820,"display_name":"Don K"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667556546,"creation_date":1667556546,"question_id":74315318,"body_markdown":"My app has three fragments inside main activity, just like whatsapp. \r\n\r\nThis is the intent I use to go from one of the fragments to a new activity &quot;A&quot;.\r\n\r\n```\r\nIntent intent = new Intent(context, GroupChatActivity.class);\r\nintent.putExtra(&quot;currentGroup&quot;, key);\r\ncontext.startActivity(intent);\r\n\r\n```\r\nFrom &quot;A&quot;, it goes to another new activity, &quot;B&quot;.\r\n\r\n\r\nI got the below ERROR when I pressed back button inside activity, &quot;A&quot;.\r\n\r\n```\r\njava.lang.IndexOutOfBoundsException: Inconsistency detected. Invalid view holder adapter positionViewHolder{4758b98 position=15 id=-1, oldPos=0, pLpos:0 scrap [attachedScrap] tmpDetached no parent} androidx.recyclerview.widget.RecyclerView{d5047bd VFED..... .......D 10,246-710,1454 #7f08018c app:id/recyclerChatView}, adapter:com.example.vote.QuestionModelAdapter@87172c0, layout:androidx.recyclerview.widget.LinearLayoutManager@9c48bf9, context:com.example.vote.GroupChatActivity@7c06ca2\r\n\r\n```\r\n\r\nI have solved that error by calling finish(), overiding onBackPressed function.\r\nBut I got the same error when I pressed back button inside activity &quot;B&quot;. It is supposed to open the previous activity &quot;A&quot;.\r\n(By the way, activity A has a recycle view.)\r\n\r\nCalling finish() isn&#39;t working in here. **Can you explain the above error and when it causes?**\r\nAnd what happened to the current activity when you call startActivity(intent)? I think something happened to activity &quot;A&quot; when intent is called.","title":"Got index out of bound exception, when finish() is called. It was supposed to go back to previous activity. Maybe the previous activity got destroyed?","body":"<p>My app has three fragments inside main activity, just like whatsapp.</p>\n<p>This is the intent I use to go from one of the fragments to a new activity &quot;A&quot;.</p>\n<pre><code>Intent intent = new Intent(context, GroupChatActivity.class);\nintent.putExtra(&quot;currentGroup&quot;, key);\ncontext.startActivity(intent);\n\n</code></pre>\n<p>From &quot;A&quot;, it goes to another new activity, &quot;B&quot;.</p>\n<p>I got the below ERROR when I pressed back button inside activity, &quot;A&quot;.</p>\n<pre><code>java.lang.IndexOutOfBoundsException: Inconsistency detected. Invalid view holder adapter positionViewHolder{4758b98 position=15 id=-1, oldPos=0, pLpos:0 scrap [attachedScrap] tmpDetached no parent} androidx.recyclerview.widget.RecyclerView{d5047bd VFED..... .......D 10,246-710,1454 #7f08018c app:id/recyclerChatView}, adapter:com.example.vote.QuestionModelAdapter@87172c0, layout:androidx.recyclerview.widget.LinearLayoutManager@9c48bf9, context:com.example.vote.GroupChatActivity@7c06ca2\n\n</code></pre>\n<p>I have solved that error by calling finish(), overiding onBackPressed function.\nBut I got the same error when I pressed back button inside activity &quot;B&quot;. It is supposed to open the previous activity &quot;A&quot;.\n(By the way, activity A has a recycle view.)</p>\n<p>Calling finish() isn't working in here. <strong>Can you explain the above error and when it causes?</strong>\nAnd what happened to the current activity when you call startActivity(intent)? I think something happened to activity &quot;A&quot; when intent is called.</p>\n"},{"tags":["java","ssh","jsch"],"owner":{"account_id":1041234,"reputation":1441,"user_id":1047226,"accept_rate":70,"display_name":"hell_storm2004"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1667890011,"answer_count":0,"score":1,"last_activity_date":1667555676,"creation_date":1667555676,"question_id":74315114,"body_markdown":"So I am trying to build an application that logins to remote routers via SSH and run some commands and fetch the output. \r\n\r\nI am using JSCH 0.1.55 version of the JAR. But I ran into a real hurdle with the StrictHostChecking. Now whatever I have Googled here, setting it to `no` is a security risk, but I am able to connect to the routers just fine with it. But setting it to a `yes` is where I am facing some issues.\r\n\r\n    com.jcraft.jsch.JSchException: reject HostKey: XXX.XXX.XXX.XXX\r\n\r\nThat is what I get. But to be honest, there are so few good code examples of a proper way of using it, I am at a dead end. \r\n\r\nI can set the key for one router in my known_host file for sure, but how do I make the code work when there are 100s of new router out there on the field and new ones being added all the time and still make it secure?\r\n\r\nAny pointers on this would really appreciated.","title":"StrictHostChecking with JSCH API","body":"<p>So I am trying to build an application that logins to remote routers via SSH and run some commands and fetch the output.</p>\n<p>I am using JSCH 0.1.55 version of the JAR. But I ran into a real hurdle with the StrictHostChecking. Now whatever I have Googled here, setting it to <code>no</code> is a security risk, but I am able to connect to the routers just fine with it. But setting it to a <code>yes</code> is where I am facing some issues.</p>\n<pre><code>com.jcraft.jsch.JSchException: reject HostKey: XXX.XXX.XXX.XXX\n</code></pre>\n<p>That is what I get. But to be honest, there are so few good code examples of a proper way of using it, I am at a dead end.</p>\n<p>I can set the key for one router in my known_host file for sure, but how do I make the code work when there are 100s of new router out there on the field and new ones being added all the time and still make it secure?</p>\n<p>Any pointers on this would really appreciated.</p>\n"},{"tags":["java","spring","rest","spring-data"],"comments":[{"owner":{"account_id":14207111,"reputation":332,"user_id":10263321,"display_name":"Aleson"},"score":0,"creation_date":1667295511,"post_id":74273478,"comment_id":131129309,"body_markdown":"_I am trying to protect specific entity/document fields from being updated by unauthorized users._ if you want to protect your api by by some authorization rule you should use Spring Security to protect it, for example you can use `@Secured` annotation and use either `hasRole`, `hasAuthority` or your custom rule","body":"<i>I am trying to protect specific entity/document fields from being updated by unauthorized users.</i> if you want to protect your api by by some authorization rule you should use Spring Security to protect it, for example you can use <code>@Secured</code> annotation and use either <code>hasRole</code>, <code>hasAuthority</code> or your custom rule"},{"owner":{"account_id":15548139,"reputation":496,"user_id":11216698,"display_name":"Daniel Jeney"},"score":0,"creation_date":1667296323,"post_id":74273478,"comment_id":131129541,"body_markdown":"@Aleson The api is already protected. For example, even tho a user can PATCH its own user Object, it should not be able to update its own roles inside that user object.","body":"@Aleson The api is already protected. For example, even tho a user can PATCH its own user Object, it should not be able to update its own roles inside that user object."},{"owner":{"account_id":14207111,"reputation":332,"user_id":10263321,"display_name":"Aleson"},"score":0,"creation_date":1667297212,"post_id":74273478,"comment_id":131129804,"body_markdown":"I would suggest for you to create different api for this use case, 1 api to update the user own data without role dto and another api would be full user data","body":"I would suggest for you to create different api for this use case, 1 api to update the user own data without role dto and another api would be full user data"},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1667555644,"post_id":74273478,"comment_id":131198756,"body_markdown":"Why would you set a field to `null`? Your process should be &quot;load entity from database&quot;; &quot;update fields in entity with fields from received endpoint dto&quot;. The entity loaded from db will contain the correct value, the field update will only update those authorized.","body":"Why would you set a field to <code>null</code>? Your process should be &quot;load entity from database&quot;; &quot;update fields in entity with fields from received endpoint dto&quot;. The entity loaded from db will contain the correct value, the field update will only update those authorized."},{"owner":{"account_id":15548139,"reputation":496,"user_id":11216698,"display_name":"Daniel Jeney"},"score":0,"creation_date":1667576214,"post_id":74273478,"comment_id":131206313,"body_markdown":"well yes, that is what spring data does basically by default. After all that spring gives me the object with the @HandleBeforeSave where i once again have to load it and if the users has no authority, then set the old value in the received object. My first thought was that setting it to null just gets it out of the update, but it doesnt(as i explained it in the question). But yes, my current best solution is  just loading it again from the db, if there is no way to exclude the field.","body":"well yes, that is what spring data does basically by default. After all that spring gives me the object with the @HandleBeforeSave where i once again have to load it and if the users has no authority, then set the old value in the received object. My first thought was that setting it to null just gets it out of the update, but it doesnt(as i explained it in the question). But yes, my current best solution is  just loading it again from the db, if there is no way to exclude the field."}],"owner":{"account_id":15548139,"reputation":496,"user_id":11216698,"display_name":"Daniel Jeney"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667555248,"creation_date":1667292626,"question_id":74273478,"body_markdown":"I am trying to protect specific entity/document fields from being updated by unauthorized users. What i have so far:\r\nI created an annotation &quot;UpdateableByAdmin&quot;, that i put on the fields that need protection, and listen to the before save event.\r\nThen i check if the user has the needed role, and if not then set the fields to null. \r\n\r\n**And here is my problem**, that setting the field of the object to null just sets those fields in the database to null. Is there a way to just not include these specified fields in the update?\r\n\r\n    import org.springframework.data.rest.core.annotation.HandleBeforeSave;\r\n    import org.springframework.data.rest.core.annotation.RepositoryEventHandler;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @RepositoryEventHandler(Object.class)\r\n    @Component\r\n    public class MongoEventHandler {\r\n    \tprivate final EntityFieldDefender fieldDefender;\r\n    \r\n    \tpublic MongoEventHandler(EntityFieldDefender fieldDefender) {\r\n    \t\tthis.fieldDefender = fieldDefender;\r\n    \t}\r\n    \r\n    \t@HandleBeforeSave\r\n    \tpublic void handleUserBeforeSave(Object object) {\r\n    \t\tSystem.out.println(&quot;in handlebeforesave&quot;);\r\n    \t\tthis.fieldDefender.filterSecuredFields(object);\r\n    \t\tSystem.out.println(object);\r\n    \t}\r\n    }\r\n\r\n    import java.lang.reflect.Field;\r\n    import org.springframework.security.core.context.SecurityContextHolder;\r\n    import org.springframework.stereotype.Component;\r\n    import com...ERole;\r\n    import com...AuthToken;\r\n    import com...UpdateableByAdmin;\r\n    \r\n    @Component\r\n    public class EntityFieldDefender {\r\n    \tpublic void filterSecuredFields(Object entity) {\r\n    \t\tfinal AuthToken auth = (AuthToken) SecurityContextHolder.getContext().getAuthentication();\r\n    \t\tif (!auth.getRoleNames().contains(ERole.ROLE_ADMIN) &amp;&amp; !auth.getRoleNames().contains(ERole.ROLE_SUPERADMIN)) {\r\n    \t\t\tfor (final Field field : entity.getClass().getDeclaredFields()) {\r\n    \t\t\t\tif (field.isAnnotationPresent(UpdateableByAdmin.class)) {\r\n    \t\t\t\t\ttry {\r\n    \t\t\t\t\t\tfield.setAccessible(true);\r\n    \t\t\t\t\t\tfield.set(entity, null);\r\n    \t\t\t\t\t\tfield.setAccessible(false);\r\n    \t\t\t\t\t} catch (IllegalArgumentException | IllegalAccessException e) {\r\n    \t\t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\nAnother solution would be to intercept the request and set the body directly, but that doesn&#39;t seem too pretty.\r\n\r\nYet another solution would be to load the old object and replace the value, but if there was a way to avoid a useless db call, then that would be nice.","title":"Spring data dynamically remove field from PATCH","body":"<p>I am trying to protect specific entity/document fields from being updated by unauthorized users. What i have so far:\nI created an annotation &quot;UpdateableByAdmin&quot;, that i put on the fields that need protection, and listen to the before save event.\nThen i check if the user has the needed role, and if not then set the fields to null.</p>\n<p><strong>And here is my problem</strong>, that setting the field of the object to null just sets those fields in the database to null. Is there a way to just not include these specified fields in the update?</p>\n<pre><code>import org.springframework.data.rest.core.annotation.HandleBeforeSave;\nimport org.springframework.data.rest.core.annotation.RepositoryEventHandler;\nimport org.springframework.stereotype.Component;\n\n@RepositoryEventHandler(Object.class)\n@Component\npublic class MongoEventHandler {\n    private final EntityFieldDefender fieldDefender;\n\n    public MongoEventHandler(EntityFieldDefender fieldDefender) {\n        this.fieldDefender = fieldDefender;\n    }\n\n    @HandleBeforeSave\n    public void handleUserBeforeSave(Object object) {\n        System.out.println(&quot;in handlebeforesave&quot;);\n        this.fieldDefender.filterSecuredFields(object);\n        System.out.println(object);\n    }\n}\n\nimport java.lang.reflect.Field;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.stereotype.Component;\nimport com...ERole;\nimport com...AuthToken;\nimport com...UpdateableByAdmin;\n\n@Component\npublic class EntityFieldDefender {\n    public void filterSecuredFields(Object entity) {\n        final AuthToken auth = (AuthToken) SecurityContextHolder.getContext().getAuthentication();\n        if (!auth.getRoleNames().contains(ERole.ROLE_ADMIN) &amp;&amp; !auth.getRoleNames().contains(ERole.ROLE_SUPERADMIN)) {\n            for (final Field field : entity.getClass().getDeclaredFields()) {\n                if (field.isAnnotationPresent(UpdateableByAdmin.class)) {\n                    try {\n                        field.setAccessible(true);\n                        field.set(entity, null);\n                        field.setAccessible(false);\n                    } catch (IllegalArgumentException | IllegalAccessException e) {\n                        e.printStackTrace();\n                    }\n\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>Another solution would be to intercept the request and set the body directly, but that doesn't seem too pretty.</p>\n<p>Yet another solution would be to load the old object and replace the value, but if there was a way to avoid a useless db call, then that would be nice.</p>\n"},{"tags":["java","android","retrofit"],"answers":[{"tags":[],"owner":{"account_id":15928616,"reputation":75,"user_id":11493606,"display_name":"Akmal MF"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667555194,"creation_date":1667242088,"answer_id":74267875,"question_id":74264259,"body_markdown":"You can edit function to use Java Generic like this:\r\n\r\n```java\r\npublic static &lt;D,E&gt; BaseApiResponse&lt;D,E&gt; parseError(Response&lt;?&gt; response) {\r\n    try {\r\n        Gson gson = new Gson();\r\n        Type type = new TypeToken&lt;BaseApiResponse&lt;LoginResponse,LoginErrorResponse&gt;&gt;() {}.getType();\r\n        return gson.fromJson(response.errorBody().charStream(), type);\r\n    }catch(Exception e) {\r\n        BaseApiResponse&lt;D,E&gt; erResponse = new BaseApiResponse&lt;D,E&gt;();\r\n        erResponse.setMessage(&quot;Error unexpected in JSON!&quot;);\r\n        return erResponse;\r\n    }\r\n}\r\n```\r\n\r\nThen you can call the function like this:\r\n```java\r\nBaseApiResponse&lt;LoginResponse, LoginErrorResponse&gt; errResponse = CommonUtils.&lt;LoginResponse, LoginErrorResponse&gt;parseError(response);\r\n//or other generic class\r\nBaseApiResponse&lt;RegisterResponse, RegisterErrorResponse&gt; errResponse = CommonUtils.&lt;RegisterResponse, RegisterErrorResponse&gt;parseError(response);\r\n```\r\n","title":"How to parse Error response with dynamic class in retrofit? (How to use JAVA Generic?)","body":"<p>You can edit function to use Java Generic like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;D,E&gt; BaseApiResponse&lt;D,E&gt; parseError(Response&lt;?&gt; response) {\n    try {\n        Gson gson = new Gson();\n        Type type = new TypeToken&lt;BaseApiResponse&lt;LoginResponse,LoginErrorResponse&gt;&gt;() {}.getType();\n        return gson.fromJson(response.errorBody().charStream(), type);\n    }catch(Exception e) {\n        BaseApiResponse&lt;D,E&gt; erResponse = new BaseApiResponse&lt;D,E&gt;();\n        erResponse.setMessage(&quot;Error unexpected in JSON!&quot;);\n        return erResponse;\n    }\n}\n</code></pre>\n<p>Then you can call the function like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BaseApiResponse&lt;LoginResponse, LoginErrorResponse&gt; errResponse = CommonUtils.&lt;LoginResponse, LoginErrorResponse&gt;parseError(response);\n//or other generic class\nBaseApiResponse&lt;RegisterResponse, RegisterErrorResponse&gt; errResponse = CommonUtils.&lt;RegisterResponse, RegisterErrorResponse&gt;parseError(response);\n</code></pre>\n"}],"owner":{"account_id":20757926,"reputation":15,"user_id":15243905,"display_name":"Coder Newbie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74267875,"answer_count":1,"score":1,"last_activity_date":1667555194,"creation_date":1667224071,"question_id":74264259,"body_markdown":"I have a class utils and in it there is an `parseError` function. The goals is to describe the error response given from the retrofit. So I just need to call a function from a certain class.\r\n\r\n\r\n\r\n\r\n```\r\npublic static BaseApiResponse&lt;LoginResponse,LoginErrorResponse&gt; parseError(Response&lt;?&gt; response) {\r\n    try {\r\n        Gson gson = new Gson();\r\n        Type type = new TypeToken&lt;BaseApiResponse&lt;LoginResponse,LoginErrorResponse&gt;&gt;() {}.getType();\r\n        return gson.fromJson(response.errorBody().charStream(), type);\r\n    }catch(Exception e) {\r\n        BaseApiResponse erResponse = new BaseApiResponse();\r\n        erResponse.setMessage(&quot;Error unexpected in JSON!&quot;);\r\n        return erResponse;\r\n    }\r\n}\r\n```\r\nHere is the full function I tried.\r\n\r\nThe problem is, I have a BaseResponseAPI&lt;DATA, ERROR&gt;, where the class has a dynamic object class parameter.\r\nHow to make the function(parseError) that I created return dynamic object class data ?\r\nthe example i want the call to be dynamic is like this:\r\n\r\n\r\n\r\n```\r\nBaseApiResponse&lt;LoginResponse, LoginErrorResponse&gt; errResponse = CommonUtils.parseError(response);\r\n\r\nBaseApiResponse&lt;RegisterResponse, RegisterErrorResponse&gt; errResponse = CommonUtils.parseError(response);\r\n```\r\n\r\n","title":"How to parse Error response with dynamic class in retrofit? (How to use JAVA Generic?)","body":"<p>I have a class utils and in it there is an <code>parseError</code> function. The goals is to describe the error response given from the retrofit. So I just need to call a function from a certain class.</p>\n<pre><code>public static BaseApiResponse&lt;LoginResponse,LoginErrorResponse&gt; parseError(Response&lt;?&gt; response) {\n    try {\n        Gson gson = new Gson();\n        Type type = new TypeToken&lt;BaseApiResponse&lt;LoginResponse,LoginErrorResponse&gt;&gt;() {}.getType();\n        return gson.fromJson(response.errorBody().charStream(), type);\n    }catch(Exception e) {\n        BaseApiResponse erResponse = new BaseApiResponse();\n        erResponse.setMessage(&quot;Error unexpected in JSON!&quot;);\n        return erResponse;\n    }\n}\n</code></pre>\n<p>Here is the full function I tried.</p>\n<p>The problem is, I have a BaseResponseAPI&lt;DATA, ERROR&gt;, where the class has a dynamic object class parameter.\nHow to make the function(parseError) that I created return dynamic object class data ?\nthe example i want the call to be dynamic is like this:</p>\n<pre><code>BaseApiResponse&lt;LoginResponse, LoginErrorResponse&gt; errResponse = CommonUtils.parseError(response);\n\nBaseApiResponse&lt;RegisterResponse, RegisterErrorResponse&gt; errResponse = CommonUtils.parseError(response);\n</code></pre>\n"},{"tags":["java","mongodb"],"comments":[{"owner":{"account_id":1013467,"reputation":2365,"user_id":1025559,"accept_rate":91,"display_name":"Dirk"},"score":1,"creation_date":1667063936,"post_id":74243391,"comment_id":131084299,"body_markdown":"Why did you post your source code twice? Is there a difference? Also, you want to insert a document when it is not already there. In your code you insert it only if there is a matching document. findOne() returns null if there is no document (see https://www.mongodb.com/docs/manual/reference/method/db.collection.findOne/)","body":"Why did you post your source code twice? Is there a difference? Also, you want to insert a document when it is not already there. In your code you insert it only if there is a matching document. findOne() returns null if there is no document (see <a href=\"https://www.mongodb.com/docs/manual/reference/method/db.collection.findOne/\" rel=\"nofollow noreferrer\">mongodb.com/docs/manual/reference/method/db.collection.findO&zwnj;&#8203;ne</a>)"}],"answers":[{"tags":[],"owner":{"display_name":"user20363988"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667555177,"creation_date":1667028144,"answer_id":74243528,"question_id":74243391,"body_markdown":"The `_id` field is present in all documents in the collection - it is mandatory.\r\n\r\nIf the `_id` is not supplied by the application / user, `MongoDB` will create it when the document is inserted (and it will be of `type ObjectId`). \r\n\r\nThe `_id` value has a **default unique index** on it - this is automatically created by `MongoDB`. So, a collection can have **only one document** with a specific `_id`. Also, the `_id` value **cannot be modified** for a document, and the unique index on this field cannot be deleted (or modified).","title":"How to find if duplicate document exist in MongoDB collection using java?","body":"<p>The <code>_id</code> field is present in all documents in the collection - it is mandatory.</p>\n<p>If the <code>_id</code> is not supplied by the application / user, <code>MongoDB</code> will create it when the document is inserted (and it will be of <code>type ObjectId</code>).</p>\n<p>The <code>_id</code> value has a <strong>default unique index</strong> on it - this is automatically created by <code>MongoDB</code>. So, a collection can have <strong>only one document</strong> with a specific <code>_id</code>. Also, the <code>_id</code> value <strong>cannot be modified</strong> for a document, and the unique index on this field cannot be deleted (or modified).</p>\n"}],"owner":{"account_id":26766872,"reputation":1,"user_id":20363880,"display_name":"Shangjie Zheng"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1667555177,"creation_date":1667026426,"question_id":74243391,"body_markdown":"The goal is to insert documents, each consisted of several fields, into a collection in Mongo database, insert is performed if no other document with the exact same fields (except &quot;_id&quot;) was found, otherwise, it should throw an exception and catch it, printing error. I am having some trouble finding the right way to &quot;find&quot; such duplicate with mongodb on java. \r\n\r\n```\r\nDocument zeroCmd = new Document();\r\nzeroCmd.put(&quot;name&quot;, item[1]);\r\nzeroCmd.put(&quot;supplier&quot;, item[2]);\r\nzeroCmd.put(&quot;food&quot;, item[3]);\r\nzeroCmd.put(&quot;country of origin&quot;, item[4]);\r\nBson filter = Filters.and(\r\n        Filters.eq(&quot;name&quot;, item[1]),\r\n        Filters.eq(&quot;supplier&quot;, item[2]),\r\n        Filters.eq(&quot;food&quot;, item[3]),\r\n        Filters.eq(&quot;country of origin&quot;, item[4])\r\n        );\r\n\r\n// This line causes problem most cuz I am not sure how to identify the result returned\r\n// by finOne() as the Oracle says it was interface. It got me confused\r\nDBObject duplicate = match.findOne(filter);\r\ntry {\r\n// So, I am not sure if null is the right catch if NO matching document was found from database\r\n    if (duplicate != null) {\r\n        InsertOneResult result = match.insertOne(zeroCmd);\r\n    }\r\n    throw new Exception(&quot;[Error] duplicate insertion&quot;);\r\n} catch (Exception me) {\r\n    System.out.println(me.getMessage());\r\n}\r\nbreak;\r\n```\r\n\r\nPlease let me know what do you guys think.\r\n\r\nThank you!\r\n\r\n\r\n```\r\nDocument zeroCmd = new Document();\r\nzeroCmd.put(&quot;name&quot;, item[1]);\r\nzeroCmd.put(&quot;supplier&quot;, item[2]);\r\nzeroCmd.put(&quot;food&quot;, item[3]);\r\nzeroCmd.put(&quot;country of origin&quot;, item[4]);\r\nBson filter = Filters.and(\r\n        Filters.eq(&quot;name&quot;, item[1]),\r\n        Filters.eq(&quot;supplier&quot;, item[2]),\r\n        Filters.eq(&quot;food&quot;, item[3]),\r\n        Filters.eq(&quot;country of origin&quot;, item[4])\r\n        );\r\n\r\n// This line causes problem most cuz I am not sure how to identify the result returned\r\n// by finOne() as the Oracle says it was interface. It got me confused\r\nDBObject duplicate = match.findOne(filter);\r\ntry {\r\n// So, I am not sure if null is the right catch if NO matching document was found from database\r\n    if (duplicate != null) {\r\n        InsertOneResult result = match.insertOne(zeroCmd);\r\n    }\r\n    throw new Exception(&quot;[Error] duplicate insertion&quot;);\r\n} catch (Exception me) {\r\n    System.out.println(me.getMessage());\r\n}\r\nbreak;\r\n```\r\n\r\n","title":"How to find if duplicate document exist in MongoDB collection using java?","body":"<p>The goal is to insert documents, each consisted of several fields, into a collection in Mongo database, insert is performed if no other document with the exact same fields (except &quot;_id&quot;) was found, otherwise, it should throw an exception and catch it, printing error. I am having some trouble finding the right way to &quot;find&quot; such duplicate with mongodb on java.</p>\n<pre><code>Document zeroCmd = new Document();\nzeroCmd.put(&quot;name&quot;, item[1]);\nzeroCmd.put(&quot;supplier&quot;, item[2]);\nzeroCmd.put(&quot;food&quot;, item[3]);\nzeroCmd.put(&quot;country of origin&quot;, item[4]);\nBson filter = Filters.and(\n        Filters.eq(&quot;name&quot;, item[1]),\n        Filters.eq(&quot;supplier&quot;, item[2]),\n        Filters.eq(&quot;food&quot;, item[3]),\n        Filters.eq(&quot;country of origin&quot;, item[4])\n        );\n\n// This line causes problem most cuz I am not sure how to identify the result returned\n// by finOne() as the Oracle says it was interface. It got me confused\nDBObject duplicate = match.findOne(filter);\ntry {\n// So, I am not sure if null is the right catch if NO matching document was found from database\n    if (duplicate != null) {\n        InsertOneResult result = match.insertOne(zeroCmd);\n    }\n    throw new Exception(&quot;[Error] duplicate insertion&quot;);\n} catch (Exception me) {\n    System.out.println(me.getMessage());\n}\nbreak;\n</code></pre>\n<p>Please let me know what do you guys think.</p>\n<p>Thank you!</p>\n<pre><code>Document zeroCmd = new Document();\nzeroCmd.put(&quot;name&quot;, item[1]);\nzeroCmd.put(&quot;supplier&quot;, item[2]);\nzeroCmd.put(&quot;food&quot;, item[3]);\nzeroCmd.put(&quot;country of origin&quot;, item[4]);\nBson filter = Filters.and(\n        Filters.eq(&quot;name&quot;, item[1]),\n        Filters.eq(&quot;supplier&quot;, item[2]),\n        Filters.eq(&quot;food&quot;, item[3]),\n        Filters.eq(&quot;country of origin&quot;, item[4])\n        );\n\n// This line causes problem most cuz I am not sure how to identify the result returned\n// by finOne() as the Oracle says it was interface. It got me confused\nDBObject duplicate = match.findOne(filter);\ntry {\n// So, I am not sure if null is the right catch if NO matching document was found from database\n    if (duplicate != null) {\n        InsertOneResult result = match.insertOne(zeroCmd);\n    }\n    throw new Exception(&quot;[Error] duplicate insertion&quot;);\n} catch (Exception me) {\n    System.out.println(me.getMessage());\n}\nbreak;\n</code></pre>\n"},{"tags":["java","c#","json","openapi-generator"],"comments":[{"owner":{"account_id":3838048,"reputation":37100,"user_id":3181933,"accept_rate":78,"display_name":"ProgrammingLlama"},"score":2,"creation_date":1667553929,"post_id":74314706,"comment_id":131198188,"body_markdown":"Knowing the serializer you&#39;re using would help greatly. I can immediately think of 4 common ways of serializing/deserializing JSON in .NET (System.Text.Json, JSON.NET, DataContractSerializer, and JavaScriptSerializer).","body":"Knowing the serializer you&#39;re using would help greatly. I can immediately think of 4 common ways of serializing/deserializing JSON in .NET (System.Text.Json, JSON.NET, DataContractSerializer, and JavaScriptSerializer)."},{"owner":{"account_id":45520,"reputation":123284,"user_id":134204,"display_name":"Panagiotis Kanavos"},"score":0,"creation_date":1667554238,"post_id":74314706,"comment_id":131198291,"body_markdown":"Don&#39;t use an array to pass dates in the first place. The *standard* way to pass dates in JSON is to use the ISO format. If the Java program emits an array instead of an ISO string, it has a critical bug that needs fixing","body":"Don&#39;t use an array to pass dates in the first place. The <i>standard</i> way to pass dates in JSON is to use the ISO format. If the Java program emits an array instead of an ISO string, it has a critical bug that needs fixing"},{"owner":{"account_id":45520,"reputation":123284,"user_id":134204,"display_name":"Panagiotis Kanavos"},"score":1,"creation_date":1667554384,"post_id":74314706,"comment_id":131198332,"body_markdown":"It makes no sense to handle this custom (and unusual) JSON string in .NET. All applications expect dates as ISO strings. Unless you fix the buggy Java program, you&#39;ll have to modify all clients to handle this custom form.","body":"It makes no sense to handle this custom (and unusual) JSON string in .NET. All applications expect dates as ISO strings. Unless you fix the buggy Java program, you&#39;ll have to modify all clients to handle this custom form."},{"owner":{"account_id":45520,"reputation":123284,"user_id":134204,"display_name":"Panagiotis Kanavos"},"score":2,"creation_date":1667554519,"post_id":74314706,"comment_id":131198381,"body_markdown":"The date format is specified in [RFC-7493: The I-JSON format](https://www.rfc-editor.org/rfc/rfc7493#section-4.3): `It is RECOMMENDED that all such data\n items be expressed as string values in ISO 8601 format`. OpenAPI uses the same format for dates, so that array violates the service&#39;s own schema.","body":"The date format is specified in <a href=\"https://www.rfc-editor.org/rfc/rfc7493#section-4.3\" rel=\"nofollow noreferrer\">RFC-7493: The I-JSON format</a>: <code>It is RECOMMENDED that all such data  items be expressed as string values in ISO 8601 format</code>. OpenAPI uses the same format for dates, so that array violates the service&#39;s own schema."},{"owner":{"account_id":25607784,"reputation":969,"user_id":19381612,"display_name":"ThisQRequiresASpecialist"},"score":0,"creation_date":1667554548,"post_id":74314706,"comment_id":131198396,"body_markdown":"Actually never seen someone parse Date Time like that before... That java program from behind really needs a fix.","body":"Actually never seen someone parse Date Time like that before... That java program from behind really needs a fix."},{"owner":{"account_id":45520,"reputation":123284,"user_id":134204,"display_name":"Panagiotis Kanavos"},"score":0,"creation_date":1667554664,"post_id":74314706,"comment_id":131198429,"body_markdown":"From the [OpenAPI spec on `date`](https://swagger.io/docs/specification/data-models/data-types/#string): ***date**  full-date notation as defined by RFC 3339, section 5.6, for example, `2017-07-21`*. The Java application is violating the schema and needs to be fixed","body":"From the <a href=\"https://swagger.io/docs/specification/data-models/data-types/#string\" rel=\"nofollow noreferrer\">OpenAPI spec on <code>date</code></a>: <b><i>date</b>  full-date notation as defined by RFC 3339, section 5.6, for example, <code>2017-07-21</code></i>. The Java application is violating the schema and needs to be fixed"},{"owner":{"account_id":15788230,"reputation":42024,"user_id":11392290,"display_name":"Serge"},"score":0,"creation_date":1667560788,"post_id":74314706,"comment_id":131200637,"body_markdown":"@KhanhTran What do you want? Do you want the code that will deserialize your json or you just want to talk about nothing?","body":"@KhanhTran What do you want? Do you want the code that will deserialize your json or you just want to talk about nothing?"},{"owner":{"account_id":10382057,"reputation":25,"user_id":7656474,"display_name":"Khanh Tran"},"score":0,"creation_date":1667573810,"post_id":74314706,"comment_id":131205422,"body_markdown":"@Serge I want to handle this problem from my side, but if it spent a lot of time to resolve and it is not worth it, I think I will try to contact my partner to resolve that.","body":"@Serge I want to handle this problem from my side, but if it spent a lot of time to resolve and it is not worth it, I think I will try to contact my partner to resolve that."}],"answers":[{"tags":[],"owner":{"account_id":45520,"reputation":123284,"user_id":134204,"display_name":"Panagiotis Kanavos"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1667554895,"creation_date":1667554895,"answer_id":74314950,"question_id":74314706,"body_markdown":"The Java application is broken and must be fixed. That array violates the application&#39;s own OpenAPI schema which says that field is an ISO8601 string. \r\n\r\nFrom the [OpenAPI spec on `date`](https://swagger.io/docs/specification/data-models/data-types/#string): \r\n&gt; *date*  full-date notation as defined by [RFC 3339, section 5.6](https://www.rfc-editor.org/rfc/rfc3339#section-5.6), for example, `2017-07-21`. \r\n\r\nISO8601 is the standard way of serializing dates in JSON. This is specified in [RFC 7493, The I-JSON format](https://www.rfc-editor.org/rfc/rfc7493#section-4.3):\r\n\r\n&gt; It is RECOMMENDED that all such data items be expressed as string values in ISO 8601 format\r\n\r\nThe Java application is violating the schema and needs to be fixed. Even if you modify a single .NET application to handle that unexpected format, other applications won&#39;t be able to handle it.","title":"Json deserialize date as an array in C#","body":"<p>The Java application is broken and must be fixed. That array violates the application's own OpenAPI schema which says that field is an ISO8601 string.</p>\n<p>From the <a href=\"https://swagger.io/docs/specification/data-models/data-types/#string\" rel=\"nofollow noreferrer\">OpenAPI spec on <code>date</code></a>:</p>\n<blockquote>\n<p><em>date</em>  full-date notation as defined by <a href=\"https://www.rfc-editor.org/rfc/rfc3339#section-5.6\" rel=\"nofollow noreferrer\">RFC 3339, section 5.6</a>, for example, <code>2017-07-21</code>.</p>\n</blockquote>\n<p>ISO8601 is the standard way of serializing dates in JSON. This is specified in <a href=\"https://www.rfc-editor.org/rfc/rfc7493#section-4.3\" rel=\"nofollow noreferrer\">RFC 7493, The I-JSON format</a>:</p>\n<blockquote>\n<p>It is RECOMMENDED that all such data items be expressed as string values in ISO 8601 format</p>\n</blockquote>\n<p>The Java application is violating the schema and needs to be fixed. Even if you modify a single .NET application to handle that unexpected format, other applications won't be able to handle it.</p>\n"}],"owner":{"account_id":10382057,"reputation":25,"user_id":7656474,"display_name":"Khanh Tran"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667554895,"creation_date":1667553767,"question_id":74314706,"body_markdown":"I tried integration with the API of my partner, but the response from API has the value of date as an array of integers like [2014, 3, 10].\r\nThe C# class generated from OpenAPI for this field is DateTimeOffset.\r\nSo, an error occurs when parsing the response to object DTO.\r\n\r\nResponse example:\r\n`\r\n```\r\n{\r\n  &quot;id&quot;: &quot;4535e63b-ab8f-11e3-bd14-180373e16dda&quot;,\r\n  &quot;validFrom&quot;: [\r\n    2014,\r\n    3,\r\n    10\r\n  ]\r\n}\r\n```\r\n`\r\nOpenAPI config example:\r\n`\r\n```\r\n&quot;validFrom&quot;: {\r\n            &quot;type&quot;: &quot;string&quot;,\r\n            &quot;format&quot;: &quot;date&quot;\r\n          }\r\n```\r\n`\r\n\r\nI found some problems like this case.\r\n[LocalDate](https://stackoverflow.com/questions/66624504/localdate-is-serialized-as-an-array)\r\n[ISO format](https://stackoverflow.com/questions/72014939/why-iso-format-date-time-gets-converted-into-the-array-of-numbers-while-doing)\r\nThe problems above come from the JAVA app, but my service uses the .Net app. So, how can I resolve this problem for the .Net app?","title":"Json deserialize date as an array in C#","body":"<p>I tried integration with the API of my partner, but the response from API has the value of date as an array of integers like [2014, 3, 10].\nThe C# class generated from OpenAPI for this field is DateTimeOffset.\nSo, an error occurs when parsing the response to object DTO.</p>\n<p>Response example:\n`</p>\n<pre><code>{\n  &quot;id&quot;: &quot;4535e63b-ab8f-11e3-bd14-180373e16dda&quot;,\n  &quot;validFrom&quot;: [\n    2014,\n    3,\n    10\n  ]\n}\n</code></pre>\n<p><code>OpenAPI config example:</code></p>\n<pre><code>&quot;validFrom&quot;: {\n            &quot;type&quot;: &quot;string&quot;,\n            &quot;format&quot;: &quot;date&quot;\n          }\n</code></pre>\n<p>`</p>\n<p>I found some problems like this case.\n<a href=\"https://stackoverflow.com/questions/66624504/localdate-is-serialized-as-an-array\">LocalDate</a>\n<a href=\"https://stackoverflow.com/questions/72014939/why-iso-format-date-time-gets-converted-into-the-array-of-numbers-while-doing\">ISO format</a>\nThe problems above come from the JAVA app, but my service uses the .Net app. So, how can I resolve this problem for the .Net app?</p>\n"},{"tags":["java","mongodb"],"answers":[{"tags":[],"owner":{"account_id":676175,"reputation":364,"user_id":517165,"display_name":"Ron"},"down_vote_count":1,"up_vote_count":35,"is_accepted":true,"score":34,"last_activity_date":1290503661,"creation_date":1290501479,"answer_id":4254104,"question_id":4254039,"body_markdown":"`find()` is enough.\r\n\r\n    db.CollectionName.find({},{HomeTown:1})\r\n\r\nin java, it would be:\r\n\r\n    BasicDBObject query = new BasicDBObject();\r\n    BasicDBObject field = new BasicDBObject();\r\n    field.put(&quot;HomeTown&quot;, 1);\r\n    DBCursor cursor = db.getCollection(collectionName).find(query,field);\r\n    while (cursor.hasNext()) {\r\n        BasicDBObject obj = (BasicDBObject) cursor.next();\r\n        result.add(obj.getString(&quot;HomeTown&quot;));\r\n    }","title":"How to retrieve a value from mongoDB, by its key name?","body":"<p><code>find()</code> is enough.</p>\n\n<pre><code>db.CollectionName.find({},{HomeTown:1})\n</code></pre>\n\n<p>in java, it would be:</p>\n\n<pre><code>BasicDBObject query = new BasicDBObject();\nBasicDBObject field = new BasicDBObject();\nfield.put(\"HomeTown\", 1);\nDBCursor cursor = db.getCollection(collectionName).find(query,field);\nwhile (cursor.hasNext()) {\n    BasicDBObject obj = (BasicDBObject) cursor.next();\n    result.add(obj.getString(\"HomeTown\"));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1302163,"reputation":31,"user_id":1251852,"display_name":"Hitesh Kumar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1331027713,"creation_date":1331027713,"answer_id":9581334,"question_id":4254039,"body_markdown":"    Mongo m = new Mongo(&#39;localhost&#39;,27017);\r\n    DB db = m.getDB(&quot;yourDBName&quot;);\r\n    Collection coll = db.getCollection(&quot;yourCollectionName&quot;)\r\n    BasicDBObject query = new BasicDBObject();\r\n    query.put(&quot;HomeTown&quot;, 1);\r\n    DBCursor cursor = coll.find(query);\r\n    ArrayList arr = new ArrayList();\r\n    String str;\r\n    while (cursor.hasNext()) {\r\n        str=cursor.curr().get(&quot;HomeTown&quot;).toString();\r\n        arr.add(str);\r\n    }\r\n\r\n","title":"How to retrieve a value from mongoDB, by its key name?","body":"<pre><code>Mongo m = new Mongo('localhost',27017);\nDB db = m.getDB(\"yourDBName\");\nCollection coll = db.getCollection(\"yourCollectionName\")\nBasicDBObject query = new BasicDBObject();\nquery.put(\"HomeTown\", 1);\nDBCursor cursor = coll.find(query);\nArrayList arr = new ArrayList();\nString str;\nwhile (cursor.hasNext()) {\n    str=cursor.curr().get(\"HomeTown\").toString();\n    arr.add(str);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1773284,"reputation":245,"user_id":1617632,"display_name":"Dhruv"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1346189104,"creation_date":1346188470,"answer_id":12167632,"question_id":4254039,"body_markdown":"     db.CollectionName.find({},{HomeTown:1,PhoneNumber:0}) \r\n\r\nWould be wrong, but\r\n\r\n     db.CollectionName.find({},{HomeTown:1, _id:0}) \r\n\r\nwould be right, because you need to suppress `_id` explicitly. Just FYI.\r\n\r\n\r\n","title":"How to retrieve a value from mongoDB, by its key name?","body":"<pre><code> db.CollectionName.find({},{HomeTown:1,PhoneNumber:0}) \n</code></pre>\n\n<p>Would be wrong, but</p>\n\n<pre><code> db.CollectionName.find({},{HomeTown:1, _id:0}) \n</code></pre>\n\n<p>would be right, because you need to suppress <code>_id</code> explicitly. Just FYI.</p>\n"},{"tags":[],"owner":{"account_id":2476375,"reputation":146,"user_id":2156943,"accept_rate":50,"display_name":"user27"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1364907683,"creation_date":1364907683,"answer_id":15764803,"question_id":4254039,"body_markdown":"    for(int value=0;value&lt;=10;value++)\r\n    {\r\n     DBCollection tableDetails = db.getCollection(&quot;Collection Name&quot;);\r\n     BasicDBObject queryDetails = new BasicDBObject();\r\n     queryDetails.put(&quot;_id&quot;, value);\r\n     DBCursor cursorDetails =tableDetails.find(queryDetails);\r\n     DBObject oneDetails;\r\n     boolean Name=cursorDetails.hasNext();\r\n     while(Name)\r\n      {\t\r\n        oneDetails=cursorDetails.next();\t\t\r\n        String data=oneDetails.get(&quot;HomeTown&quot;).toString();\r\n        System.out.println(data);\r\n      }\r\n    }\r\n   ","title":"How to retrieve a value from mongoDB, by its key name?","body":"<pre><code>for(int value=0;value&lt;=10;value++)\n{\n DBCollection tableDetails = db.getCollection(\"Collection Name\");\n BasicDBObject queryDetails = new BasicDBObject();\n queryDetails.put(\"_id\", value);\n DBCursor cursorDetails =tableDetails.find(queryDetails);\n DBObject oneDetails;\n boolean Name=cursorDetails.hasNext();\n while(Name)\n  { \n    oneDetails=cursorDetails.next();        \n    String data=oneDetails.get(\"HomeTown\").toString();\n    System.out.println(data);\n  }\n}\n</code></pre>\n"}],"owner":{"display_name":"user405398"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84825,"favorite_count":0,"down_vote_count":1,"up_vote_count":22,"accepted_answer_id":4254104,"answer_count":4,"score":21,"last_activity_date":1667554552,"creation_date":1290500862,"question_id":4254039,"body_markdown":"I am new to mongoDB. I am using java and mongoDB. I have a json like,\r\n\r\n    [{ &quot;_id&quot; : { &quot;$oid&quot; : &quot;4ceb753a70fdf877ef5113ca&quot;} , &quot;HomeTown&quot; : &quot;AA&quot; , \r\n    &quot;PhoneNumber&quot; : { &quot;CustName&quot; : &quot;xxx&quot; , &quot;Number&quot; : &quot;3403290&quot;},\r\n    &quot;MobileNumber&quot; : { &quot;CustName&quot; : &quot;yyy&quot; , &quot;Number&quot; : &quot;9323304302&quot;}}]\r\n\r\n        [{ &quot;_id&quot; : { &quot;$oid&quot; : &quot;4ceb753a70fdf877ef5113ca&quot;} , &quot;HomeTown&quot; : &quot;AA&quot; , \r\n    &quot;PhoneNumber&quot; : { &quot;CustName&quot; : &quot;xxx&quot; , &quot;Number&quot; : &quot;3403290&quot;},\r\n    &quot;MobileNumber&quot; : { &quot;CustName&quot; : &quot;yyy&quot; , &quot;Number&quot; : &quot;9323304302&quot;}}]\r\n\r\n        [{ &quot;_id&quot; : { &quot;$oid&quot; : &quot;4ceb753a70fdf877ef5113ca&quot;} , &quot;HomeTown&quot; : &quot;BB&quot; , \r\n    &quot;PhoneNumber&quot; : { &quot;CustName&quot; : &quot;xxx&quot; , &quot;Number&quot; : &quot;3403290&quot;},\r\n    &quot;MobileNumber&quot; : { &quot;CustName&quot; : &quot;yyy&quot; , &quot;Number&quot; : &quot;9323304302&quot;}}]\r\n\r\n        [{ &quot;_id&quot; : { &quot;$oid&quot; : &quot;4ceb753a70fdf877ef5113ca&quot;} , &quot;HomeTown&quot; : &quot;BB&quot; , \r\n    &quot;PhoneNumber&quot; : { &quot;CustName&quot; : &quot;xxx&quot; , &quot;Number&quot; : &quot;3403290&quot;},\r\n    &quot;MobileNumber&quot; : { &quot;CustName&quot; : &quot;yyy&quot; , &quot;Number&quot; : &quot;9323304302&quot;}}]\r\n\r\n\r\nIn a collection all doc&#39;s have different `HomeTown`, i just know the key name `HomeTown`, how can i get the `HomeTown` values?\r\n\r\nIn mongo site, i just can find `find()` and `findOne()`. \r\n\r\nThanks!","title":"How to retrieve a value from mongoDB, by its key name?","body":"<p>I am new to mongoDB. I am using java and mongoDB. I have a json like,</p>\n\n<pre><code>[{ \"_id\" : { \"$oid\" : \"4ceb753a70fdf877ef5113ca\"} , \"HomeTown\" : \"AA\" , \n\"PhoneNumber\" : { \"CustName\" : \"xxx\" , \"Number\" : \"3403290\"},\n\"MobileNumber\" : { \"CustName\" : \"yyy\" , \"Number\" : \"9323304302\"}}]\n\n    [{ \"_id\" : { \"$oid\" : \"4ceb753a70fdf877ef5113ca\"} , \"HomeTown\" : \"AA\" , \n\"PhoneNumber\" : { \"CustName\" : \"xxx\" , \"Number\" : \"3403290\"},\n\"MobileNumber\" : { \"CustName\" : \"yyy\" , \"Number\" : \"9323304302\"}}]\n\n    [{ \"_id\" : { \"$oid\" : \"4ceb753a70fdf877ef5113ca\"} , \"HomeTown\" : \"BB\" , \n\"PhoneNumber\" : { \"CustName\" : \"xxx\" , \"Number\" : \"3403290\"},\n\"MobileNumber\" : { \"CustName\" : \"yyy\" , \"Number\" : \"9323304302\"}}]\n\n    [{ \"_id\" : { \"$oid\" : \"4ceb753a70fdf877ef5113ca\"} , \"HomeTown\" : \"BB\" , \n\"PhoneNumber\" : { \"CustName\" : \"xxx\" , \"Number\" : \"3403290\"},\n\"MobileNumber\" : { \"CustName\" : \"yyy\" , \"Number\" : \"9323304302\"}}]\n</code></pre>\n\n<p>In a collection all doc's have different <code>HomeTown</code>, i just know the key name <code>HomeTown</code>, how can i get the <code>HomeTown</code> values?</p>\n\n<p>In mongo site, i just can find <code>find()</code> and <code>findOne()</code>. </p>\n\n<p>Thanks!</p>\n"},{"tags":["java","spring-boot","date","datetime"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1667548987,"post_id":74313820,"comment_id":131196736,"body_markdown":"Please stop using the outdated `java.util.Date` class, use the more modern `java.time` API","body":"Please stop using the outdated <code>java.util.Date</code> class, use the more modern <code>java.time</code> API"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1667549103,"post_id":74313820,"comment_id":131196769,"body_markdown":"Date and such types aren&#39;t formatted types. The result of applying the formatter to one, which is a String, is the formatted value.","body":"Date and such types aren&#39;t formatted types. The result of applying the formatter to one, which is a String, is the formatted value."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1667549247,"post_id":74313820,"comment_id":131196800,"body_markdown":"`2022-10-25T10:38:32.000+01:00`, that matches a modern `OffsetDateTime` perfectly. So use `OffsetDateTime` instead of the porly designed and long outdated `Date` class. And by all means avoid `SimpleDateFormat`, its even worse.","body":"<code>2022-10-25T10:38:32.000+01:00</code>, that matches a modern <code>OffsetDateTime</code> perfectly. So use <code>OffsetDateTime</code> instead of the porly designed and long outdated <code>Date</code> class. And by all means avoid <code>SimpleDateFormat</code>, its even worse."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1667550716,"post_id":74313820,"comment_id":131197231,"body_markdown":"What do you mean by _&quot;... the format of the DateTime fields changes to ... &quot;_?  You&#39;re putting it in a `Date`, which doesn&#39;t actually have a format.","body":"What do you mean by <i>&quot;... the format of the DateTime fields changes to ... &quot;</i>?  You&#39;re putting it in a <code>Date</code>, which doesn&#39;t actually have a format."},{"owner":{"account_id":9181424,"reputation":164,"user_id":6825083,"display_name":"Harmeet Kaur"},"score":0,"creation_date":1667553535,"post_id":74313820,"comment_id":131198056,"body_markdown":"@OleV.V. I tried using OffsetDateTime. I worked up to some extent but I&#39;m still not able to achieve the required pattern. Pattern received 2022-10-25T09:38:32Z required is yyyy-MM-dd HH:mm:ss","body":"@OleV.V. I tried using OffsetDateTime. I worked up to some extent but I&#39;m still not able to achieve the required pattern. Pattern received 2022-10-25T09:38:32Z required is yyyy-MM-dd HH:mm:ss"},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1667601448,"post_id":74313820,"comment_id":131213457,"body_markdown":"*...rather than converting it to the required format* - what is the required format?","body":"<i>...rather than converting it to the required format</i> - what is the required format?"}],"answers":[{"tags":[],"owner":{"account_id":4874770,"reputation":983,"user_id":3930210,"display_name":"Gaurav Dhiman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667550598,"creation_date":1667549132,"answer_id":74313865,"question_id":74313820,"body_markdown":"You can try this Jackson annotation over the date field to format date :-\r\n\r\n    @JsonFormat(pattern=&quot;yyyy-MM-dd HH:mm:ss.SSSX&quot;)","title":"@DateTimeFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;) doesn&#39;t work","body":"<p>You can try this Jackson annotation over the date field to format date :-</p>\n<pre><code>@JsonFormat(pattern=&quot;yyyy-MM-dd HH:mm:ss.SSSX&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667552340,"creation_date":1667552340,"answer_id":74314453,"question_id":74313820,"body_markdown":"`Date` (old obsolete style), `LocalDateTime`, `ZonedDateTime` do not possess an inherent format.\r\n\r\nDate&#39;s toString() as used in `System.out.println(new Date());` gives that format you saw.\r\n\r\n&quot;2022-10-25T10:38:32.000+01:00&quot; is the ISO standard format, `T` signifying the start of the time part. It is the format of an `OffsetDateTime` which is still Locale (country) independent, and does not deal with daylight savings time. `ZonedDateTime` would be better.\r\n\r\n    OffsetDateTime t = OffsetDateTime.parse(&quot;2022-10-25T10:38:32.000+01:00&quot;);\r\n    ZonedDateTime zt = t.toZonedDateTime(); // Default zone\r\n    Date d = Date.fromInstant(t.toInstant());\r\n\r\nFor other format variants you can use a `DateTimeFormatter`.","title":"@DateTimeFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;) doesn&#39;t work","body":"<p><code>Date</code> (old obsolete style), <code>LocalDateTime</code>, <code>ZonedDateTime</code> do not possess an inherent format.</p>\n<p>Date's toString() as used in <code>System.out.println(new Date());</code> gives that format you saw.</p>\n<p>&quot;2022-10-25T10:38:32.000+01:00&quot; is the ISO standard format, <code>T</code> signifying the start of the time part. It is the format of an <code>OffsetDateTime</code> which is still Locale (country) independent, and does not deal with daylight savings time. <code>ZonedDateTime</code> would be better.</p>\n<pre><code>OffsetDateTime t = OffsetDateTime.parse(&quot;2022-10-25T10:38:32.000+01:00&quot;);\nZonedDateTime zt = t.toZonedDateTime(); // Default zone\nDate d = Date.fromInstant(t.toInstant());\n</code></pre>\n<p>For other format variants you can use a <code>DateTimeFormatter</code>.</p>\n"}],"owner":{"account_id":9181424,"reputation":164,"user_id":6825083,"display_name":"Harmeet Kaur"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":725,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1667553704,"creation_date":1667548862,"question_id":74313820,"body_markdown":"I receive a JSON in string format which I&#39;m converting to Java Object Class using the Gson library. In that JSON the DateTime field is annotated with  **@DateTimeFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)** The original format in which the date is **&quot;creationDate&quot;: &quot;2022-10-25T10:38:32.000+01:00&quot;** after converting the JSON to Java Object Class the format of the DateTime fields changes to **Tue Oct 25 15:08:32 IST 2022** rather than converting it to the required format.\r\nBelow is an example of my POJO class\r\n\r\n    @Data\r\n    public class Root{\r\n        @DateTimeFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)\r\n        public Date creationDate;}\r\n\r\nBelow is an example of how I&#39;m converting my string to Java Object Class\r\n\r\n\tString fileContent = Files.readString(Path.of&quot;**Path of the file**&quot;));\r\n\t\t\tRoot root = new Gson().fromJson(fileContent, Root.class);\r\n\r\nJSON example:\r\n\r\n    root{\r\n    &quot;creationDate&quot;:&quot;2022-10-25T10:38:32.000+01:00&quot;\r\n    }\r\n\r\nI dont understand why this is happening. I know I can convert it using new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;).parse(sDate1) \r\nBut I want to understand why @annotation is not working ","title":"@DateTimeFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;) doesn&#39;t work","body":"<p>I receive a JSON in string format which I'm converting to Java Object Class using the Gson library. In that JSON the DateTime field is annotated with  <strong>@DateTimeFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)</strong> The original format in which the date is <strong>&quot;creationDate&quot;: &quot;2022-10-25T10:38:32.000+01:00&quot;</strong> after converting the JSON to Java Object Class the format of the DateTime fields changes to <strong>Tue Oct 25 15:08:32 IST 2022</strong> rather than converting it to the required format.\nBelow is an example of my POJO class</p>\n<pre><code>@Data\npublic class Root{\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)\n    public Date creationDate;}\n</code></pre>\n<p>Below is an example of how I'm converting my string to Java Object Class</p>\n<pre><code>String fileContent = Files.readString(Path.of&quot;**Path of the file**&quot;));\n        Root root = new Gson().fromJson(fileContent, Root.class);\n</code></pre>\n<p>JSON example:</p>\n<pre><code>root{\n&quot;creationDate&quot;:&quot;2022-10-25T10:38:32.000+01:00&quot;\n}\n</code></pre>\n<p>I dont understand why this is happening. I know I can convert it using new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;).parse(sDate1)\nBut I want to understand why @annotation is not working</p>\n"},{"tags":["java","rest","global-variables","singleton"],"answers":[{"tags":[],"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667540131,"creation_date":1667540131,"answer_id":74312649,"question_id":74312564,"body_markdown":"`REST architecture` which means Representational `State transfer` which means you do not store the state of the object (or `resource`) in REST terms. \r\n\r\nEvery API hit is (and should be) considered a new resource manipulation call. For e.g. You may be `Creating` a resource (`POST`) , `deleting` a resource (`DELETE`) , `updating` a resource (`PUT`) and so on... \r\n\r\nYou may still want to access a resource&#39;s state i.e. in your case `userlist` which you may somehow update and get from `database` or `file` or `temporary` storage. Database would be preferred. \r\n\r\nYour question inclines more towards maintaining `sessions` which is in contrary to REST API `principles`\r\n\r\n*I&#39;d suggest you to go through basic principles of REST API architecture* **( Precisely 6 of them)**\r\n\r\nhttps://restfulapi.net/","title":"How to save variable value across different REST api call using Java core","body":"<p><code>REST architecture</code> which means Representational <code>State transfer</code> which means you do not store the state of the object (or <code>resource</code>) in REST terms.</p>\n<p>Every API hit is (and should be) considered a new resource manipulation call. For e.g. You may be <code>Creating</code> a resource (<code>POST</code>) , <code>deleting</code> a resource (<code>DELETE</code>) , <code>updating</code> a resource (<code>PUT</code>) and so on...</p>\n<p>You may still want to access a resource's state i.e. in your case <code>userlist</code> which you may somehow update and get from <code>database</code> or <code>file</code> or <code>temporary</code> storage. Database would be preferred.</p>\n<p>Your question inclines more towards maintaining <code>sessions</code> which is in contrary to REST API <code>principles</code></p>\n<p><em>I'd suggest you to go through basic principles of REST API architecture</em> <strong>( Precisely 6 of them)</strong></p>\n<p><a href=\"https://restfulapi.net/\" rel=\"nofollow noreferrer\">https://restfulapi.net/</a></p>\n"}],"owner":{"account_id":739417,"reputation":305,"user_id":705479,"accept_rate":43,"display_name":"sadia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":384,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667553692,"creation_date":1667539296,"question_id":74312564,"body_markdown":"I have a requirement to hold user list inmemory. The state of user list should maintain across different REST api calls. Like there is an api to save user, so whenever i call save, user saved in variable and will be available in anothee REST api get call. \r\n\r\nHow can i achieve this? I am thinking of some singleton class to hold data as singleton scope is at JVM level","title":"How to save variable value across different REST api call using Java core","body":"<p>I have a requirement to hold user list inmemory. The state of user list should maintain across different REST api calls. Like there is an api to save user, so whenever i call save, user saved in variable and will be available in anothee REST api get call.</p>\n<p>How can i achieve this? I am thinking of some singleton class to hold data as singleton scope is at JVM level</p>\n"},{"tags":["java","servlets","query-string"],"comments":[{"owner":{"account_id":40276,"reputation":3040,"user_id":116710,"accept_rate":88,"display_name":"JasonStoltz"},"score":16,"creation_date":1311781867,"post_id":6847192,"comment_id":8140576,"body_markdown":"You can have both ... you can have query string parameters on a POST request. And in that case, they are all returned by &quot;getParameterMap&quot;","body":"You can have both ... you can have query string parameters on a POST request. And in that case, they are all returned by &quot;getParameterMap&quot;"},{"owner":{"account_id":329656,"reputation":42009,"user_id":653298,"display_name":"Jacob"},"score":0,"creation_date":1311782135,"post_id":6847192,"comment_id":8140682,"body_markdown":"Oh, ok. Why does one need both, just curious?","body":"Oh, ok. Why does one need both, just curious?"},{"owner":{"account_id":40276,"reputation":3040,"user_id":116710,"accept_rate":88,"display_name":"JasonStoltz"},"score":2,"creation_date":1311783885,"post_id":6847192,"comment_id":8141324,"body_markdown":"Because on the resulting page, I want a query string to appear in the url / be in the query string. We have a tracking system which looks for specific parameters in the query string.","body":"Because on the resulting page, I want a query string to appear in the url / be in the query string. We have a tracking system which looks for specific parameters in the query string."},{"owner":{"account_id":3804222,"reputation":1875,"user_id":3157062,"accept_rate":86,"display_name":"Parag Jadhav"},"score":0,"creation_date":1468327331,"post_id":6847192,"comment_id":64072809,"body_markdown":"req.getParameterMap().containsKey(&quot;username&quot;);","body":"req.getParameterMap().containsKey(&quot;username&quot;);"}],"answers":[{"tags":[],"owner":{"account_id":460219,"reputation":1263,"user_id":861171,"display_name":"DoubleMalt"},"down_vote_count":1,"up_vote_count":27,"is_accepted":true,"score":26,"last_activity_date":1437061788,"creation_date":1311782004,"answer_id":6847400,"question_id":6847192,"body_markdown":"Contrary to what cularis said there can be both in the parameter map.\r\n\r\nThe best way I see is to proxy the parameterMap and for each parameter retrieval check if queryString contains &quot;&amp;?&amp;lt;parameterName&amp;gt;=&quot;.\r\n\r\nNote that parameterName needs to be URL encoded before this check can be made, as Qerub pointed out.\r\n\r\nThat saves you the parsing and still gives you only URL parameters.","title":"HttpServletRequest - Get query string parameters, no form data","body":"<p>Contrary to what cularis said there can be both in the parameter map.</p>\n\n<p>The best way I see is to proxy the parameterMap and for each parameter retrieval check if queryString contains \"&amp;?&lt;parameterName&gt;=\".</p>\n\n<p>Note that parameterName needs to be URL encoded before this check can be made, as Qerub pointed out.</p>\n\n<p>That saves you the parsing and still gives you only URL parameters.</p>\n"},{"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1311782143,"creation_date":1311782143,"answer_id":6847448,"question_id":6847192,"body_markdown":"I am afraid there is no way to get the query string parameters parsed separately from the post parameters. BTW the fact that such API absent may mean that probably you should check your design. Why are you using query string when sending POST? If you really want to send more data into URL use REST-like convention, e.g.  instead of sending \r\n\r\nhttp://mycompany.com/myapp/myservlet?first=11&amp;second=22\r\n\r\nsay:\r\n\r\nhttp://mycompany.com/myapp/myservlet/11/22\r\n\r\n\r\n\r\n\r\n","title":"HttpServletRequest - Get query string parameters, no form data","body":"<p>I am afraid there is no way to get the query string parameters parsed separately from the post parameters. BTW the fact that such API absent may mean that probably you should check your design. Why are you using query string when sending POST? If you really want to send more data into URL use REST-like convention, e.g.  instead of sending </p>\n\n<p><a href=\"http://mycompany.com/myapp/myservlet?first=11&amp;second=22\" rel=\"nofollow\">http://mycompany.com/myapp/myservlet?first=11&amp;second=22</a></p>\n\n<p>say:</p>\n\n<p><a href=\"http://mycompany.com/myapp/myservlet/11/22\" rel=\"nofollow\">http://mycompany.com/myapp/myservlet/11/22</a></p>\n"},{"tags":[],"owner":{"account_id":1822626,"reputation":251,"user_id":1656299,"display_name":"Ola Berg"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1667552766,"creation_date":1347087810,"answer_id":12328768,"question_id":6847192,"body_markdown":"The servlet API lacks this feature because it was created in a time when many believed that the query string and the message body was just two different ways of sending parameters, not realizing that the purposes of the parameters are fundamentally different. \r\n\r\nThe query string parameters `?foo=bar` are a part of the URL because they are involved in identifying a resource (which could be a collection of many resources), like &quot;all persons aged 42&quot;:\r\n\r\n`GET /persons?age=42`\r\n\r\nThe message body parameters in POST or PUT are there to express a modification to the target resource(s). Fx setting a value to the attribute &quot;hair&quot;:\r\n\r\n`PUT /persons?age=42`\r\n\r\n`hair=grey`\r\n\r\nSo it is definitely RESTful to use both query parameters and body parameters at the same time, separated so that you can use them for different purposes. The feature is definitely missing in the Java servlet API.","title":"HttpServletRequest - Get query string parameters, no form data","body":"<p>The servlet API lacks this feature because it was created in a time when many believed that the query string and the message body was just two different ways of sending parameters, not realizing that the purposes of the parameters are fundamentally different.</p>\n<p>The query string parameters <code>?foo=bar</code> are a part of the URL because they are involved in identifying a resource (which could be a collection of many resources), like &quot;all persons aged 42&quot;:</p>\n<p><code>GET /persons?age=42</code></p>\n<p>The message body parameters in POST or PUT are there to express a modification to the target resource(s). Fx setting a value to the attribute &quot;hair&quot;:</p>\n<p><code>PUT /persons?age=42</code></p>\n<p><code>hair=grey</code></p>\n<p>So it is definitely RESTful to use both query parameters and body parameters at the same time, separated so that you can use them for different purposes. The feature is definitely missing in the Java servlet API.</p>\n"},{"tags":[],"owner":{"account_id":346290,"reputation":1732,"user_id":679724,"display_name":"coastline"},"down_vote_count":0,"up_vote_count":121,"is_accepted":false,"score":121,"last_activity_date":1571106041,"creation_date":1392200091,"answer_id":21724854,"question_id":6847192,"body_markdown":"You can use `request.getQueryString()`,if the query string is like\r\n\r\n    username=james&amp;password=pwd\r\nTo get name you can do this\r\n\r\n    request.getParameter(&quot;username&quot;); ","title":"HttpServletRequest - Get query string parameters, no form data","body":"<p>You can use <code>request.getQueryString()</code>,if the query string is like</p>\n\n<pre><code>username=james&amp;password=pwd\n</code></pre>\n\n<p>To get name you can do this</p>\n\n<pre><code>request.getParameter(\"username\"); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1085987,"reputation":2158,"user_id":1081698,"accept_rate":80,"display_name":"Bren"},"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1592460052,"creation_date":1439239273,"answer_id":31928740,"question_id":6847192,"body_markdown":"As the other answers state there is no way getting query string parameters using servlet api.\r\n\r\nSo, I think the best way to get query parameters is parsing the query string yourself. ( It is more complicated iterating over parameters and checking if query string contains the parameter)\r\n\r\nI wrote below code to get query string parameters. Using apache StringUtils and ArrayUtils which supports CSV separated query param values as well. \r\n\r\nExample: `username=james&amp;username=smith&amp;password=pwd1,pwd2` will return \r\n\r\n`password : [pwd1, pwd2]` (length = 2)\r\n\r\n`username : [james, smith]` (length = 2)\r\n \r\n\r\n    public static Map&lt;String, String[]&gt; getQueryParameters(HttpServletRequest request) throws UnsupportedEncodingException {\r\n        Map&lt;String, String[]&gt; queryParameters = new HashMap&lt;&gt;();\r\n        String queryString = request.getQueryString();\r\n        if (StringUtils.isNotEmpty(queryString)) {\r\n            queryString = URLDecoder.decode(queryString, StandardCharsets.UTF_8.toString());\r\n            String[] parameters = queryString.split(&quot;&amp;&quot;);\r\n            for (String parameter : parameters) {\r\n                String[] keyValuePair = parameter.split(&quot;=&quot;);\r\n                String[] values = queryParameters.get(keyValuePair[0]);\r\n                //length is one if no value is available.\r\n                values = keyValuePair.length == 1 ? ArrayUtils.add(values, &quot;&quot;) :\r\n                        ArrayUtils.addAll(values, keyValuePair[1].split(&quot;,&quot;)); //handles CSV separated query param values.\r\n                queryParameters.put(keyValuePair[0], values);\r\n            }\r\n        }\r\n        return queryParameters;\r\n    }\r\n","title":"HttpServletRequest - Get query string parameters, no form data","body":"<p>As the other answers state there is no way getting query string parameters using servlet api.</p>\n\n<p>So, I think the best way to get query parameters is parsing the query string yourself. ( It is more complicated iterating over parameters and checking if query string contains the parameter)</p>\n\n<p>I wrote below code to get query string parameters. Using apache StringUtils and ArrayUtils which supports CSV separated query param values as well. </p>\n\n<p>Example: <code>username=james&amp;username=smith&amp;password=pwd1,pwd2</code> will return </p>\n\n<p><code>password : [pwd1, pwd2]</code> (length = 2)</p>\n\n<p><code>username : [james, smith]</code> (length = 2)</p>\n\n<pre><code>public static Map&lt;String, String[]&gt; getQueryParameters(HttpServletRequest request) throws UnsupportedEncodingException {\n    Map&lt;String, String[]&gt; queryParameters = new HashMap&lt;&gt;();\n    String queryString = request.getQueryString();\n    if (StringUtils.isNotEmpty(queryString)) {\n        queryString = URLDecoder.decode(queryString, StandardCharsets.UTF_8.toString());\n        String[] parameters = queryString.split(\"&amp;\");\n        for (String parameter : parameters) {\n            String[] keyValuePair = parameter.split(\"=\");\n            String[] values = queryParameters.get(keyValuePair[0]);\n            //length is one if no value is available.\n            values = keyValuePair.length == 1 ? ArrayUtils.add(values, \"\") :\n                    ArrayUtils.addAll(values, keyValuePair[1].split(\",\")); //handles CSV separated query param values.\n            queryParameters.put(keyValuePair[0], values);\n        }\n    }\n    return queryParameters;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8294410,"reputation":99,"user_id":6235054,"display_name":"Giani Segatto"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1537372377,"creation_date":1537371050,"answer_id":52409431,"question_id":6847192,"body_markdown":"**Java 8**\r\n\r\n    return Collections.list(httpServletRequest.getParameterNames())\r\n                      .stream()\r\n                      .collect(Collectors.toMap(parameterName -&gt; parameterName, httpServletRequest::getParameterValues));\r\n\r\n","title":"HttpServletRequest - Get query string parameters, no form data","body":"<p><strong>Java 8</strong></p>\n\n<pre><code>return Collections.list(httpServletRequest.getParameterNames())\n                  .stream()\n                  .collect(Collectors.toMap(parameterName -&gt; parameterName, httpServletRequest::getParameterValues));\n</code></pre>\n"}],"owner":{"account_id":40276,"reputation":3040,"user_id":116710,"accept_rate":88,"display_name":"JasonStoltz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":302312,"favorite_count":0,"down_vote_count":0,"up_vote_count":98,"accepted_answer_id":6847400,"answer_count":6,"score":98,"last_activity_date":1667552766,"creation_date":1311781262,"question_id":6847192,"body_markdown":"In [HttpServletRequest][1], `getParameterMap` returns a Map of all query string parameters and post data parameters.\r\n\r\nIs there a way to get a Map of ONLY query string parameters? I&#39;m trying to avoid using getQueryString and parsing out the values.\r\n\r\n\r\n  [1]: http://download.oracle.com/javaee/5/api/javax/servlet/http/HttpServletRequest.html","title":"HttpServletRequest - Get query string parameters, no form data","body":"<p>In <a href=\"http://download.oracle.com/javaee/5/api/javax/servlet/http/HttpServletRequest.html\">HttpServletRequest</a>, <code>getParameterMap</code> returns a Map of all query string parameters and post data parameters.</p>\n\n<p>Is there a way to get a Map of ONLY query string parameters? I'm trying to avoid using getQueryString and parsing out the values.</p>\n"},{"tags":["java","jdbc"],"owner":{"account_id":26714583,"reputation":1,"user_id":20319357,"display_name":"william muthii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1668314455,"answer_count":0,"score":-1,"last_activity_date":1667552605,"creation_date":1667552423,"question_id":74314467,"body_markdown":"I Have tried to query my database but in vain,Its throwing an exception that my database is unknown.\r\nI have tried to use port number 3306 to see whether i can manage but still i can access the database\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nHere is the code\r\n\r\n\r\n\r\n```\r\n\r\n    private void txtpcodeKeyPressed(java.awt.event.KeyEvent evt) {                                    \r\n        // TODO add your handling code here:\r\n        \r\n      if(evt.getKeyCode()==KeyEvent.VK_ENTER)\r\n      {\r\n          String pcode=txtpcode.getText();\r\n          \r\n          try {\r\n              Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n              con=(Connection) DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/lawrepos/&quot;,&quot;root&quot;,&quot;robisearch2018&quot;);\r\n              pst=(PreparedStatement) con.prepareStatement(&quot;select * from retail where id=?&quot;);\r\n               rs=pst.executeQuery();\r\n             \r\n                              \r\n          } catch (ClassNotFoundException ex) {\r\n              Logger.getLogger(Sale.class.getName()).log(Level.SEVERE, null, ex);\r\n          } catch (SQLException ex) {\r\n              Logger.getLogger(Sale.class.getName()).log(Level.SEVERE, null, ex);\r\n          }    \r\n          \r\n      }\r\n    }                                   \r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nThis is the error that am getting once i debug\r\n\r\n\r\n```\r\nNov 04, 2022 10:49:02 AM sale.Sale txtpcodeKeyPressed\r\nSEVERE: null\r\ncom.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown database &#39;lawrepos/&#39;\r\n\tat java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:484)\r\n\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\r\n\tat com.mysql.jdbc.Util.getInstance(Util.java:408)\r\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:944)\r\n\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3933)\r\n\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3869)\r\n\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:864)\r\n\tat com.mysql.jdbc.MysqlIO.proceedHandshakeWithPluggableAuthentication(MysqlIO.java:1707)\r\n\tat com.mysql.jdbc.MysqlIO.doHandshake(MysqlIO.java:1217)\r\n\tat com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2189)\r\n\tat com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2220)\r\n\tat com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2015)\r\n\tat com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:768)\r\n\tat com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:47)\r\n\tat java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:484)\r\n\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\r\n\tat com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:385)\r\n\tat com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:323)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:683)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:230)\r\n\tat sale.Sale.txtpcodeKeyPressed(Sale.java:176)\r\n\tat sale.Sale$1.keyPressed(Sale.java:81)\r\n\tat java.desktop/java.awt.Component.processKeyEvent(Component.java:6578)\r\n\tat java.desktop/java.awt.Component.processEvent(Component.java:6397)\r\n\tat java.desktop/java.awt.TextComponent.processEvent(TextComponent.java:694)\r\n\tat java.desktop/java.awt.TextField.processEvent(TextField.java:637)\r\n\tat java.desktop/java.awt.Component.dispatchEventImpl(Component.java:4995)\r\n\tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4827)\r\n\tat java.desktop/java.awt.KeyboardFocusManager.redispatchEvent(KeyboardFocusManager.java:1952)\r\n\tat java.desktop/java.awt.DefaultKeyboardFocusManager.dispatchKeyEvent(DefaultKeyboardFocusManager.java:883)\r\n\tat java.desktop/java.awt.DefaultKeyboardFocusManager.preDispatchKeyEvent(DefaultKeyboardFocusManager.java:1146)\r\n\tat java.desktop/java.awt.DefaultKeyboardFocusManager.typeAheadAssertions(DefaultKeyboardFocusManager.java:1020)\r\n\tat java.desktop/java.awt.DefaultKeyboardFocusManager.dispatchEvent(DefaultKeyboardFocusManager.java:848)\r\n\tat java.desktop/java.awt.Component.dispatchEventImpl(Component.java:4876)\r\n\tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4827)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:775)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97)\r\n\tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:747)\r\n\tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:745)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:744)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n\r\n\r\n```\r\n\r\n\r\nI have tried to specify with port number 3306 but in vain.\r\nI just wanted to query the database","title":"I have a problem in connecting my project with a database","body":"<p>I Have tried to query my database but in vain,Its throwing an exception that my database is unknown.\nI have tried to use port number 3306 to see whether i can manage but still i can access the database</p>\n<p>Here is the code</p>\n<pre><code>\n    private void txtpcodeKeyPressed(java.awt.event.KeyEvent evt) {                                    \n        // TODO add your handling code here:\n        \n      if(evt.getKeyCode()==KeyEvent.VK_ENTER)\n      {\n          String pcode=txtpcode.getText();\n          \n          try {\n              Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n              con=(Connection) DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/lawrepos/&quot;,&quot;root&quot;,&quot;robisearch2018&quot;);\n              pst=(PreparedStatement) con.prepareStatement(&quot;select * from retail where id=?&quot;);\n               rs=pst.executeQuery();\n             \n                              \n          } catch (ClassNotFoundException ex) {\n              Logger.getLogger(Sale.class.getName()).log(Level.SEVERE, null, ex);\n          } catch (SQLException ex) {\n              Logger.getLogger(Sale.class.getName()).log(Level.SEVERE, null, ex);\n          }    \n          \n      }\n    }                                   \n\n</code></pre>\n<p>This is the error that am getting once i debug</p>\n<pre><code>Nov 04, 2022 10:49:02 AM sale.Sale txtpcodeKeyPressed\nSEVERE: null\ncom.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown database 'lawrepos/'\n    at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:484)\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\n    at com.mysql.jdbc.Util.getInstance(Util.java:408)\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:944)\n    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3933)\n    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3869)\n    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:864)\n    at com.mysql.jdbc.MysqlIO.proceedHandshakeWithPluggableAuthentication(MysqlIO.java:1707)\n    at com.mysql.jdbc.MysqlIO.doHandshake(MysqlIO.java:1217)\n    at com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2189)\n    at com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2220)\n    at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2015)\n    at com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:768)\n    at com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:47)\n    at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:484)\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\n    at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:385)\n    at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:323)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:683)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:230)\n    at sale.Sale.txtpcodeKeyPressed(Sale.java:176)\n    at sale.Sale$1.keyPressed(Sale.java:81)\n    at java.desktop/java.awt.Component.processKeyEvent(Component.java:6578)\n    at java.desktop/java.awt.Component.processEvent(Component.java:6397)\n    at java.desktop/java.awt.TextComponent.processEvent(TextComponent.java:694)\n    at java.desktop/java.awt.TextField.processEvent(TextField.java:637)\n    at java.desktop/java.awt.Component.dispatchEventImpl(Component.java:4995)\n    at java.desktop/java.awt.Component.dispatchEvent(Component.java:4827)\n    at java.desktop/java.awt.KeyboardFocusManager.redispatchEvent(KeyboardFocusManager.java:1952)\n    at java.desktop/java.awt.DefaultKeyboardFocusManager.dispatchKeyEvent(DefaultKeyboardFocusManager.java:883)\n    at java.desktop/java.awt.DefaultKeyboardFocusManager.preDispatchKeyEvent(DefaultKeyboardFocusManager.java:1146)\n    at java.desktop/java.awt.DefaultKeyboardFocusManager.typeAheadAssertions(DefaultKeyboardFocusManager.java:1020)\n    at java.desktop/java.awt.DefaultKeyboardFocusManager.dispatchEvent(DefaultKeyboardFocusManager.java:848)\n    at java.desktop/java.awt.Component.dispatchEventImpl(Component.java:4876)\n    at java.desktop/java.awt.Component.dispatchEvent(Component.java:4827)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:775)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97)\n    at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:747)\n    at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:745)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:744)\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\n\n\n</code></pre>\n<p>I have tried to specify with port number 3306 but in vain.\nI just wanted to query the database</p>\n"},{"tags":["java","milliseconds","java.util.calendar"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":3,"creation_date":1553993697,"post_id":55436934,"comment_id":97591203,"body_markdown":"`Calendar`, despite the name, holds just one instant in time. it is not a clock. You could use `System.currentTimeMillis()` or `System.nanoTime()`","body":"<code>Calendar</code>, despite the name, holds just one instant in time. it is not a clock. You could use <code>System.currentTimeMillis()</code> or <code>System.nanoTime()</code>"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1553994055,"post_id":55436934,"comment_id":97591240,"body_markdown":"or a bit newer , the `Instant` class: `var start = Instant.now(); ... var end = Instant.now(); var duration = Duration between(start, end);`","body":"or a bit newer , the <code>Instant</code> class: <code>var start = Instant.now(); ... var end = Instant.now(); var duration = Duration between(start, end);</code>"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1667552491,"creation_date":1554004230,"answer_id":55437715,"question_id":55436934,"body_markdown":"# tl;dr\r\n\r\n    Duration.between(       // Represent a span-of-time as a count of nanoseconds, to be calculated as hours-minutes-seconds.\r\n        then ,              // Earlier in your code, capture the previous current moment: `Instant then = Instant.now() ;`\r\n        Instant.now()       // Capture the current moment. \r\n    )                       // Returns a `Duration` object, our elapsed time.\r\n    .toNanos()              // Get the total number of nanoseconds in the entire span-of-time. Returns a `long`. \r\n\r\n\r\n# Capturing current moment\r\n\r\nYour code is capturing the current moment, a snapshot, frozen. The resulting object is *not* updated. That is what the phrase a specific instant in time means in the class JavaDoc.\r\n\r\nTo track elapsed time, you must capture the current moment *twice*, resulting in two separate objects.\r\n\r\n# Avoid legacy date-time classes\r\n\r\nThe `Calendar` class is terrible, and was supplanted years ago by the *java.time* classes with the adoption of JSR 310. Specifically, `ZonedDateTime` replaces `GregorianCalendar`, the usual implementation of `Calendar`. \r\n\r\n# `Instant`\r\n\r\nThe modern approach to tracking the current moment uses the `Instant` class. An `Instant` represents a moment in UTC. \r\n\r\n    Instant start = Instant.now() ;\r\n      // Do some stuff.\r\n    Instant stop = Instant.now() ;\r\n\r\n# Resolution\r\n\r\nIn Java 9 and later, the current moment is captured with a resolution of microseconds (6 decimal digits of fractional second). In Java 8, an Instant the older implementation of `Clock` is limited to capturing the current moment in milliseconds (3 decimal digits). In all versions of Java, the `Instant` class has the capacity to represent a moment in nanoseconds (9 decimal digits). But conventional computer clocks cannot accurately track time so finely. \r\n\r\n# `Duration`\r\n\r\nCalculate elapsed time as a [`Duration`][1] object.\r\n\r\n    Duration duration = Duration.between( start , stop ) ;  // Represents a span of time in terms of hours-minutes-seconds.\r\n    long nanoseconds = duration.toNanos() ;                 // Converts this duration to the total length in nanoseconds expressed as a long.\r\n\r\n# `System.nanoTime`\r\n\r\nFor microbenchmarking, you may want to use [`System.nanoTime()`][2]. That method captures the current moment as a number of nanoseconds since some arbitrary starting point. Beware: This value returned does *not* represent the current moment according to any clock or calendar. But it is useful for tracking elapsed time at a resolution possibly finer than `Instant`. \r\n\r\n    long start = System.nanoTime() ;  // Some arbitrarily defined count of nanoseconds. *NOT* the current time/date by any clock/calendar. \r\n      // Do some stuff.\r\n    long stop = System.nanoTime() ;\r\n    long nanoseconds = ( stop - start ) ;\r\n\r\n## JEP 230: Microbenchmark Suite\r\n\r\nFor serious benchmarking, check out the newly built-in benchmarking framework added to Java 12 and later, based on [JMH][3]. See [JEP 230: Microbenchmark Suite][4]. \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Duration.html\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/System.html#nanoTime()\r\n  [3]: https://openjdk.org/projects/code-tools/jmh/\n [4]: https://openjdk.org/jeps/230","title":"Java Calendar getTimeInMillis() Returning the Same Time","body":"<h1>tl;dr</h1>\n<pre><code>Duration.between(       // Represent a span-of-time as a count of nanoseconds, to be calculated as hours-minutes-seconds.\n    then ,              // Earlier in your code, capture the previous current moment: `Instant then = Instant.now() ;`\n    Instant.now()       // Capture the current moment. \n)                       // Returns a `Duration` object, our elapsed time.\n.toNanos()              // Get the total number of nanoseconds in the entire span-of-time. Returns a `long`. \n</code></pre>\n<h1>Capturing current moment</h1>\n<p>Your code is capturing the current moment, a snapshot, frozen. The resulting object is <em>not</em> updated. That is what the phrase a specific instant in time means in the class JavaDoc.</p>\n<p>To track elapsed time, you must capture the current moment <em>twice</em>, resulting in two separate objects.</p>\n<h1>Avoid legacy date-time classes</h1>\n<p>The <code>Calendar</code> class is terrible, and was supplanted years ago by the <em>java.time</em> classes with the adoption of JSR 310. Specifically, <code>ZonedDateTime</code> replaces <code>GregorianCalendar</code>, the usual implementation of <code>Calendar</code>.</p>\n<h1><code>Instant</code></h1>\n<p>The modern approach to tracking the current moment uses the <code>Instant</code> class. An <code>Instant</code> represents a moment in UTC.</p>\n<pre><code>Instant start = Instant.now() ;\n  // Do some stuff.\nInstant stop = Instant.now() ;\n</code></pre>\n<h1>Resolution</h1>\n<p>In Java 9 and later, the current moment is captured with a resolution of microseconds (6 decimal digits of fractional second). In Java 8, an Instant the older implementation of <code>Clock</code> is limited to capturing the current moment in milliseconds (3 decimal digits). In all versions of Java, the <code>Instant</code> class has the capacity to represent a moment in nanoseconds (9 decimal digits). But conventional computer clocks cannot accurately track time so finely.</p>\n<h1><code>Duration</code></h1>\n<p>Calculate elapsed time as a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Duration.html\" rel=\"nofollow noreferrer\"><code>Duration</code></a> object.</p>\n<pre><code>Duration duration = Duration.between( start , stop ) ;  // Represents a span of time in terms of hours-minutes-seconds.\nlong nanoseconds = duration.toNanos() ;                 // Converts this duration to the total length in nanoseconds expressed as a long.\n</code></pre>\n<h1><code>System.nanoTime</code></h1>\n<p>For microbenchmarking, you may want to use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/System.html#nanoTime()\" rel=\"nofollow noreferrer\"><code>System.nanoTime()</code></a>. That method captures the current moment as a number of nanoseconds since some arbitrary starting point. Beware: This value returned does <em>not</em> represent the current moment according to any clock or calendar. But it is useful for tracking elapsed time at a resolution possibly finer than <code>Instant</code>.</p>\n<pre><code>long start = System.nanoTime() ;  // Some arbitrarily defined count of nanoseconds. *NOT* the current time/date by any clock/calendar. \n  // Do some stuff.\nlong stop = System.nanoTime() ;\nlong nanoseconds = ( stop - start ) ;\n</code></pre>\n<h2>JEP 230: Microbenchmark Suite</h2>\n<p>For serious benchmarking, check out the newly built-in benchmarking framework added to Java 12 and later, based on <a href=\"https://openjdk.org/projects/code-tools/jmh/\" rel=\"nofollow noreferrer\">JMH</a>. See <a href=\"https://openjdk.org/jeps/230\" rel=\"nofollow noreferrer\">JEP 230: Microbenchmark Suite</a>.</p>\n"}],"owner":{"account_id":9081975,"reputation":642,"user_id":6761506,"accept_rate":88,"display_name":"Kcits970"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1131,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"accepted_answer_id":55437715,"answer_count":1,"score":-4,"last_activity_date":1667552491,"creation_date":1553993558,"question_id":55436934,"body_markdown":"I have a piece of code like this:\r\n\r\n        Calendar c = Calendar.getInstance();\r\n        long startTime = c.getTimeInMillis();\r\n        \r\n        while (x &lt; 10000000) {//check all the integers from 1 to 10000000 to\r\n                              //to see if they&#39;re prime or not}\r\n        \r\n        long endTime = c.getTimeInMillis();\r\n        long totalTime = endTime - startTime;\r\n\r\nThe loop runs 10 million times so surely `startTime` and `endTime` would contain different values.\r\n\r\nHowever `totalTime` is always equal to 0.\r\n\r\nWhy does `startTime` and `endTime` contain the same value?\r\n\r\nAny help would be appreciateed =)","title":"Java Calendar getTimeInMillis() Returning the Same Time","body":"<p>I have a piece of code like this:</p>\n\n<pre><code>    Calendar c = Calendar.getInstance();\n    long startTime = c.getTimeInMillis();\n\n    while (x &lt; 10000000) {//check all the integers from 1 to 10000000 to\n                          //to see if they're prime or not}\n\n    long endTime = c.getTimeInMillis();\n    long totalTime = endTime - startTime;\n</code></pre>\n\n<p>The loop runs 10 million times so surely <code>startTime</code> and <code>endTime</code> would contain different values.</p>\n\n<p>However <code>totalTime</code> is always equal to 0.</p>\n\n<p>Why does <code>startTime</code> and <code>endTime</code> contain the same value?</p>\n\n<p>Any help would be appreciateed =)</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":2307770,"reputation":171,"user_id":2026680,"accept_rate":70,"display_name":"OcelotcR"},"score":0,"creation_date":1548774716,"post_id":54424034,"comment_id":95658280,"body_markdown":"What JSON Library are you using?","body":"What JSON Library are you using?"},{"owner":{"account_id":4500391,"reputation":2003,"user_id":3659052,"accept_rate":55,"display_name":"logger"},"score":0,"creation_date":1548775173,"post_id":54424034,"comment_id":95658627,"body_markdown":"https://mvnrepository.com/artifact/com.googlecode.json-simple/json-simple","body":"<a href=\"https://mvnrepository.com/artifact/com.googlecode.json-simple/json-simple\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/com.googlecode.json-simple/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":8888339,"reputation":17,"user_id":6635892,"display_name":"broxhouse"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667552465,"creation_date":1548776116,"answer_id":54424517,"question_id":54424034,"body_markdown":"You should consider using a JSON serializer such as Jackson or GSON. \r\n\r\nIf the underlying JSON response structure will be the same for each call, even if it has missing keys, you can create your own POJO using something like [JSONSchema2POJO][1]. This will generate a POJO with Jackson or GSON annotations using a JSON string that you provide. Here&#39;s an example using a snippet of your JSON string:\r\n\r\n    -----------------------------------com.example.Example.java-----------------------------------\r\n    \r\n    package com.example;\r\n    \r\n    import com.google.gson.annotations.Expose;\r\n    import com.google.gson.annotations.SerializedName;\r\n    \r\n    public class Example {\r\n    \r\n    @SerializedName(&quot;ValueType&quot;)\r\n    @Expose\r\n    private String valueType;\r\n    @SerializedName(&quot;Value&quot;)\r\n    @Expose\r\n    private String value;\r\n    @SerializedName(&quot;__metadata&quot;)\r\n    @Expose\r\n    private Metadata metadata;\r\n    @SerializedName(&quot;Key&quot;)\r\n    @Expose\r\n    private String key;\r\n    \r\n    public String getValueType() {\r\n    return valueType;\r\n    }\r\n    \r\n    public void setValueType(String valueType) {\r\n    this.valueType = valueType;\r\n    }\r\n    \r\n    public String getValue() {\r\n    return value;\r\n    }\r\n    \r\n    public void setValue(String value) {\r\n    this.value = value;\r\n    }\r\n    \r\n    public Metadata getMetadata() {\r\n    return metadata;\r\n    }\r\n    \r\n    public void setMetadata(Metadata metadata) {\r\n    this.metadata = metadata;\r\n    }\r\n    \r\n    public String getKey() {\r\n    return key;\r\n    }\r\n    \r\n    public void setKey(String key) {\r\n    this.key = key;\r\n    }\r\n    \r\n    }\r\n    -----------------------------------com.example.Metadata.java-----------------------------------\r\n    \r\n    package com.example;\r\n    \r\n    import com.google.gson.annotations.Expose;\r\n    import com.google.gson.annotations.SerializedName;\r\n    \r\n    public class Metadata {\r\n    \r\n    @SerializedName(&quot;type&quot;)\r\n    @Expose\r\n    private String type;\r\n    \r\n    public String getType() {\r\n    return type;\r\n    }\r\n    \r\n    public void setType(String type) {\r\n    this.type = type;\r\n    }\r\n    \r\n    }\r\n\r\n\r\nThis is standard practice when consuming JSON in Java and it allows keys/values to be null when the object is serialized without breaking your code. \r\n\r\nIf the JSON structure is completely unpredictable, GSON allows you to create [Generic types][2] or you can take it a step further and [write custom serializers][3]. Jackson likely has similar functionality but I&#39;m only versed in GSON.\r\n\r\n\r\n  [1]: https://www.jsonschema2pojo.org/\r\n  [2]: https://sites.google.com/site/gson/gson-user-guide#TOC-Serializing-and-Deserializing-Generic-Types\r\n  [3]: https://sites.google.com/site/gson/gson-user-guide#TOC-Custom-Serialization-and-Deserialization","title":"parse json from sharepoint?","body":"<p>You should consider using a JSON serializer such as Jackson or GSON.</p>\n<p>If the underlying JSON response structure will be the same for each call, even if it has missing keys, you can create your own POJO using something like <a href=\"https://www.jsonschema2pojo.org/\" rel=\"nofollow noreferrer\">JSONSchema2POJO</a>. This will generate a POJO with Jackson or GSON annotations using a JSON string that you provide. Here's an example using a snippet of your JSON string:</p>\n<pre><code>-----------------------------------com.example.Example.java-----------------------------------\n\npackage com.example;\n\nimport com.google.gson.annotations.Expose;\nimport com.google.gson.annotations.SerializedName;\n\npublic class Example {\n\n@SerializedName(&quot;ValueType&quot;)\n@Expose\nprivate String valueType;\n@SerializedName(&quot;Value&quot;)\n@Expose\nprivate String value;\n@SerializedName(&quot;__metadata&quot;)\n@Expose\nprivate Metadata metadata;\n@SerializedName(&quot;Key&quot;)\n@Expose\nprivate String key;\n\npublic String getValueType() {\nreturn valueType;\n}\n\npublic void setValueType(String valueType) {\nthis.valueType = valueType;\n}\n\npublic String getValue() {\nreturn value;\n}\n\npublic void setValue(String value) {\nthis.value = value;\n}\n\npublic Metadata getMetadata() {\nreturn metadata;\n}\n\npublic void setMetadata(Metadata metadata) {\nthis.metadata = metadata;\n}\n\npublic String getKey() {\nreturn key;\n}\n\npublic void setKey(String key) {\nthis.key = key;\n}\n\n}\n-----------------------------------com.example.Metadata.java-----------------------------------\n\npackage com.example;\n\nimport com.google.gson.annotations.Expose;\nimport com.google.gson.annotations.SerializedName;\n\npublic class Metadata {\n\n@SerializedName(&quot;type&quot;)\n@Expose\nprivate String type;\n\npublic String getType() {\nreturn type;\n}\n\npublic void setType(String type) {\nthis.type = type;\n}\n\n}\n</code></pre>\n<p>This is standard practice when consuming JSON in Java and it allows keys/values to be null when the object is serialized without breaking your code.</p>\n<p>If the JSON structure is completely unpredictable, GSON allows you to create <a href=\"https://sites.google.com/site/gson/gson-user-guide#TOC-Serializing-and-Deserializing-Generic-Types\" rel=\"nofollow noreferrer\">Generic types</a> or you can take it a step further and <a href=\"https://sites.google.com/site/gson/gson-user-guide#TOC-Custom-Serialization-and-Deserialization\" rel=\"nofollow noreferrer\">write custom serializers</a>. Jackson likely has similar functionality but I'm only versed in GSON.</p>\n"},{"tags":[],"owner":{"account_id":3329682,"reputation":931,"user_id":2798897,"display_name":"Julien Revault d&#39;A..."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548836913,"creation_date":1548836913,"answer_id":54436177,"question_id":54424034,"body_markdown":"You could use quick-json ([enter link description here][1]) and have something like this (rapid version not optimized) :\r\n\r\n    public class Go {\r\n      public static void main(String[] args) {\r\n        try {\r\n            List&lt;String&gt; pdf_list = new ArrayList&lt;&gt;();\r\n\r\n            JsonParserFactory factory= JsonParserFactory.getInstance();\r\n            JSONParser parser=factory.newJsonParser();\r\n            Map jsonMap=parser.parseJson(&quot;/54424034/sharepoint.json&quot;, &quot;UTF-8&quot;);\r\n            //jsonMap.get(&quot;d/query/PrimaryQueryResult/RelevantResults/Table/Rows/results&quot;);\r\n            Map d = (Map) jsonMap.get(&quot;d&quot;);\r\n            Map query = (Map) d.get(&quot;query&quot;);\r\n            Map primaryQueryResult = (Map) query.get(&quot;PrimaryQueryResult&quot;);\r\n            Map relevantResults = (Map) primaryQueryResult.get(&quot;RelevantResults&quot;);\r\n            Map table = (Map) relevantResults.get(&quot;Table&quot;);\r\n            Map rows = (Map) table.get(&quot;Rows&quot;);\r\n            List&lt;Map&gt; results_rows = (ArrayList) rows.get(&quot;results&quot;);\r\n            for (Map result_row : results_rows) {\r\n                Map cells = (Map) result_row.get(&quot;Cells&quot;);\r\n                List&lt;Map&gt; results_cells = (ArrayList) cells.get(&quot;results&quot;);\r\n                for (Map result_cell : results_cells) {\r\n                    String key = (String) result_cell.get(&quot;Key&quot;);\r\n                    if (&quot;Path&quot;.equalsIgnoreCase(key)) {\r\n                        pdf_list.add((String) result_cell.get(&quot;Value&quot;));\r\n                    }\r\n                }\r\n            }\r\n            System.out.println(pdf_list);\r\n        }\r\n        catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n      }\r\n    }\r\n\r\nIt just parses your Json and add all pdf path into a List\r\n\r\n  [1]: https://code.google.com/archive/p/quick-json/","title":"parse json from sharepoint?","body":"<p>You could use quick-json (<a href=\"https://code.google.com/archive/p/quick-json/\" rel=\"nofollow noreferrer\">enter link description here</a>) and have something like this (rapid version not optimized) :</p>\n\n<pre><code>public class Go {\n  public static void main(String[] args) {\n    try {\n        List&lt;String&gt; pdf_list = new ArrayList&lt;&gt;();\n\n        JsonParserFactory factory= JsonParserFactory.getInstance();\n        JSONParser parser=factory.newJsonParser();\n        Map jsonMap=parser.parseJson(\"/54424034/sharepoint.json\", \"UTF-8\");\n        //jsonMap.get(\"d/query/PrimaryQueryResult/RelevantResults/Table/Rows/results\");\n        Map d = (Map) jsonMap.get(\"d\");\n        Map query = (Map) d.get(\"query\");\n        Map primaryQueryResult = (Map) query.get(\"PrimaryQueryResult\");\n        Map relevantResults = (Map) primaryQueryResult.get(\"RelevantResults\");\n        Map table = (Map) relevantResults.get(\"Table\");\n        Map rows = (Map) table.get(\"Rows\");\n        List&lt;Map&gt; results_rows = (ArrayList) rows.get(\"results\");\n        for (Map result_row : results_rows) {\n            Map cells = (Map) result_row.get(\"Cells\");\n            List&lt;Map&gt; results_cells = (ArrayList) cells.get(\"results\");\n            for (Map result_cell : results_cells) {\n                String key = (String) result_cell.get(\"Key\");\n                if (\"Path\".equalsIgnoreCase(key)) {\n                    pdf_list.add((String) result_cell.get(\"Value\"));\n                }\n            }\n        }\n        System.out.println(pdf_list);\n    }\n    catch (Exception e) {\n        e.printStackTrace();\n    }\n  }\n}\n</code></pre>\n\n<p>It just parses your Json and add all pdf path into a List</p>\n"}],"owner":{"account_id":4500391,"reputation":2003,"user_id":3659052,"accept_rate":55,"display_name":"logger"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1214,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1667552465,"creation_date":1548774584,"question_id":54424034,"body_markdown":"I have a response received from sharepoint. \r\n\r\n    {\r\n        &quot;d&quot;: {\r\n            &quot;query&quot;: {\r\n                &quot;SecondaryQueryResults&quot;: {\r\n                    &quot;__metadata&quot;: {\r\n                        &quot;type&quot;: &quot;Collection(Microsoft.Office.Server.Search.REST.QueryResult)&quot;\r\n                    },\r\n                    &quot;results&quot;: []\r\n                },\r\n                &quot;SpellingSuggestion&quot;: &quot;&quot;,\r\n                &quot;TriggeredRules&quot;: {\r\n                    &quot;__metadata&quot;: {\r\n                        &quot;type&quot;: &quot;Collection(Edm.Guid)&quot;\r\n                    },\r\n                    &quot;results&quot;: [&quot;e0205660-4971-4574-aa40-af6b4383cadd&quot;]\r\n                },\r\n                &quot;ElapsedTime&quot;: 224,\r\n                &quot;__metadata&quot;: {\r\n                    &quot;type&quot;: &quot;Microsoft.Office.Server.Search.REST.SearchResult&quot;\r\n                },\r\n                &quot;Properties&quot;: {\r\n                    &quot;__metadata&quot;: {\r\n                        &quot;type&quot;: &quot;Collection(SP.KeyValue)&quot;\r\n                    },\r\n                    &quot;results&quot;: [{\r\n                        &quot;ValueType&quot;: &quot;Edm.Int32&quot;,\r\n                        &quot;Value&quot;: &quot;10&quot;,\r\n                        &quot;Key&quot;: &quot;RowLimit&quot;\r\n                    }, {\r\n                        &quot;ValueType&quot;: &quot;Edm.Guid&quot;,\r\n                        &quot;Value&quot;: &quot;8413cd39-2156-4e00-b54d-11efd9abdb49&quot;,\r\n                        &quot;Key&quot;: &quot;SourceId&quot;\r\n                    }, {\r\n                        &quot;ValueType&quot;: &quot;Edm.Guid&quot;,\r\n                        &quot;Value&quot;: &quot;7bc4ba9e-80ff-7000-58cf-f7ac556d1e34&quot;,\r\n                        &quot;Key&quot;: &quot;CorrelationId&quot;\r\n                    }, {\r\n                        &quot;ValueType&quot;: &quot;Edm.Boolean&quot;,\r\n                        &quot;Value&quot;: &quot;false&quot;,\r\n                        &quot;Key&quot;: &quot;WasGroupRestricted&quot;\r\n                    }, {\r\n                        &quot;ValueType&quot;: &quot;Edm.Boolean&quot;,\r\n                        &quot;Value&quot;: &quot;false&quot;,\r\n                        &quot;Key&quot;: &quot;IsPartial&quot;\r\n                    }, {\r\n                        &quot;ValueType&quot;: &quot;Edm.Boolean&quot;,\r\n                        &quot;Value&quot;: &quot;false&quot;,\r\n                        &quot;Key&quot;: &quot;HasParseException&quot;\r\n                    }, {\r\n                        &quot;ValueType&quot;: &quot;Edm.String&quot;,\r\n                        &quot;Value&quot;: &quot;en&quot;,\r\n                        &quot;Key&quot;: &quot;WordBreakerLanguage&quot;\r\n                    }, {\r\n                        &quot;ValueType&quot;: &quot;Edm.Boolean&quot;,\r\n                        &quot;Value&quot;: &quot;false&quot;,\r\n                        &quot;Key&quot;: &quot;IsPartialUpnDocIdMapping&quot;\r\n                    }, {\r\n                        &quot;ValueType&quot;: &quot;Edm.Boolean&quot;,\r\n                        &quot;Value&quot;: &quot;true&quot;,\r\n                        &quot;Key&quot;: &quot;EnableInterleaving&quot;\r\n                    }, {\r\n                        &quot;ValueType&quot;: &quot;Edm.Boolean&quot;,\r\n                        &quot;Value&quot;: &quot;false&quot;,\r\n                        &quot;Key&quot;: &quot;IsMissingUnifiedGroups&quot;\r\n                    }, {\r\n                        &quot;ValueType&quot;: &quot;Edm.String&quot;,\r\n                        &quot;Value&quot;: &quot;i62456&quot;,\r\n                        &quot;Key&quot;: &quot;Constellation&quot;\r\n                    }, {\r\n                        &quot;ValueType&quot;: &quot;Edm.String&quot;,\r\n                        &quot;Value&quot;: &quot;&lt;Query Culture=\\&quot;en-US\\&quot; EnableStemming=\\&quot;True\\&quot; EnablePhonetic=\\&quot;False\\&quot; EnableNicknames=\\&quot;False\\&quot; IgnoreAllNoiseQuery=\\&quot;True\\&quot; SummaryLength=\\&quot;180\\&quot; MaxSnippetLength=\\&quot;180\\&quot; DesiredSnippetLength=\\&quot;90\\&quot; KeywordInclusion=\\&quot;0\\&quot; QueryText=\\&quot;59055305\\&quot; QueryTemplate=\\&quot;\\&quot; TrimDuplicates=\\&quot;True\\&quot; Site=\\&quot;e297bd2b-597a-4f54-8509-e2febb91b869\\&quot; Web=\\&quot;d42ff0d1-883b-4545-ab6a-97b0401025d4\\&quot; KeywordType=\\&quot;True\\&quot; HiddenConstraints=\\&quot;\\&quot; \\/&gt;&quot;,\r\n                        &quot;Key&quot;: &quot;SerializedQuery&quot;\r\n                    }]\r\n                },\r\n                &quot;PrimaryQueryResult&quot;: {\r\n                    &quot;RefinementResults&quot;: null,\r\n                    &quot;SpecialTermResults&quot;: null,\r\n                    &quot;QueryId&quot;: &quot;0585a5f1-89bc-43c1-b736-e163b4d7c1dd&quot;,\r\n                    &quot;QueryRuleId&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,\r\n                    &quot;CustomResults&quot;: {\r\n                        &quot;__metadata&quot;: {\r\n                            &quot;type&quot;: &quot;Collection(Microsoft.Office.Server.Search.REST.CustomResult)&quot;\r\n                        },\r\n                        &quot;results&quot;: []\r\n                    },\r\n                    &quot;__metadata&quot;: {\r\n                        &quot;type&quot;: &quot;Microsoft.Office.Server.Search.REST.QueryResult&quot;\r\n                    },\r\n                    &quot;RelevantResults&quot;: {\r\n                        &quot;Table&quot;: {\r\n                            &quot;__metadata&quot;: {\r\n                                &quot;type&quot;: &quot;SP.SimpleDataTable&quot;\r\n                            },\r\n                            &quot;Rows&quot;: {\r\n                                &quot;results&quot;: [{\r\n                                    &quot;__metadata&quot;: {\r\n                                        &quot;type&quot;: &quot;SP.SimpleDataRow&quot;\r\n                                    },\r\n                                    &quot;Cells&quot;: {\r\n                                        &quot;results&quot;: [{\r\n                                            &quot;ValueType&quot;: &quot;Edm.Double&quot;,\r\n                                            &quot;Value&quot;: &quot;26.8860855102549&quot;,\r\n                                            &quot;__metadata&quot;: {\r\n                                                &quot;type&quot;: &quot;SP.KeyValue&quot;\r\n                                            },\r\n                                            &quot;Key&quot;: &quot;Rank&quot;\r\n                                        }, {\r\n                                            &quot;ValueType&quot;: &quot;Edm.Int64&quot;,\r\n                                            &quot;Value&quot;: &quot;17594532057853&quot;,\r\n                                            &quot;__metadata&quot;: {\r\n                                                &quot;type&quot;: &quot;SP.KeyValue&quot;\r\n                                            },\r\n                                            &quot;Key&quot;: &quot;DocId&quot;\r\n                                        }, {\r\n                                            &quot;ValueType&quot;: &quot;Edm.Int64&quot;,\r\n                                            &quot;Value&quot;: &quot;17594531057253&quot;,\r\n                                            &quot;__metadata&quot;: {\r\n                                                &quot;type&quot;: &quot;SP.KeyValue&quot;\r\n                                            },\r\n                                            &quot;Key&quot;: &quot;WorkId&quot;\r\n                                        }, {\r\n                                            &quot;ValueType&quot;: &quot;Edm.String&quot;,\r\n                                            &quot;Value&quot;: &quot;Customer Request Filling&quot;,\r\n                                            &quot;__metadata&quot;: {\r\n                                                &quot;type&quot;: &quot;SP.KeyValue&quot;\r\n                                            },\r\n                                            &quot;Key&quot;: &quot;Title&quot;\r\n                                        }, {\r\n                                            &quot;ValueType&quot;: &quot;Edm.String&quot;,\r\n                                            &quot;Value&quot;: &quot;Technology Services;svc ECMWise&quot;,\r\n                                            &quot;__metadata&quot;: {\r\n                                                &quot;type&quot;: &quot;SP.KeyValue&quot;\r\n                                            },\r\n                                            &quot;Key&quot;: &quot;Author&quot;\r\n                                        }, {\r\n                                            &quot;ValueType&quot;: &quot;Edm.Int64&quot;,\r\n                                            &quot;Value&quot;: &quot;97182&quot;,\r\n                                            &quot;__metadata&quot;: {\r\n                                                &quot;type&quot;: &quot;SP.KeyValue&quot;\r\n                                            },\r\n                                            &quot;Key&quot;: &quot;Size&quot;\r\n                                        }, {\r\n                                            &quot;ValueType&quot;: &quot;Edm.String&quot;,\r\n                                            &quot;Value&quot;: &quot;https:\\/\\/xxxxxx.sharepoint.com\\/sites\\/news\\/CUST\\/Forms\\/Appeals\\/Customer Reader.pdf&quot;,\r\n                                            &quot;__metadata&quot;: {\r\n                                                &quot;type&quot;: &quot;SP.KeyValue&quot;\r\n                                            },\r\n                                            &quot;Key&quot;: &quot;Path&quot;\r\n                                        }, {\r\n                                            &quot;ValueType&quot;: &quot;Null&quot;,\r\n                                            &quot;Value&quot;: null,\r\n                                            &quot;__metadata&quot;: {\r\n                                                &quot;type&quot;: &quot;SP.KeyValue&quot;\r\n                                            },\r\n        ....\r\n\r\nWhat I am trying to get is the &quot;Path&quot; of &quot;Value&quot; string of that pdf as a snapshot from below (part of section from what was above)\r\n\r\n    {\r\n              &quot;ValueType&quot;: &quot;Edm.String&quot;,\r\n              &quot;Value&quot;: &quot;https:\\/\\/xxxxxx.sharepoint.com\\/sites\\/news\\/CUST\\/Forms\\/Appeals\\/Customer Reader.pdf&quot;,\r\n              &quot;__metadata&quot;: {\r\n              &quot;type&quot;: &quot;SP.KeyValue&quot;\r\n              },\r\n              &quot;Key&quot;: &quot;Path&quot;\r\n    }\r\n\r\nI have tried to use JSONObject to parse it like this.\r\n\r\n\r\n\t\t\t\tJSONObject jsonObject = (JSONObject) parser.parse(new InputStreamReader((httpConn.getInputStream())));\t\t\r\n\t\t\t\tJSONObject folder = (JSONObject)jsonObject.get(&quot;d&quot;);\t\r\n\t\t\t\tJSONObject query = (JSONObject) folder.get(&quot;query&quot;);\r\n\t\t\t\tJSONObject properties = (JSONObject) query.get(&quot;PrimaryQueryResult&quot;);\r\n\t\t\t\tJSONObject result = (JSONObject) properties.get(&quot;RelevantResults&quot;);\r\n\t\t\t\tJSONObject table = (JSONObject) result.get(&quot;Table&quot;);\r\n\t\t\t\tJSONObject rows = (JSONObject) table.get(&quot;Rows&quot;);\r\n    ....\r\n\r\nI was wondering if there is a easier way to do this or what if one of the key is not populated. It would throw null pointer exception so is there a way just to find a key directly inside of this long nested json and how do I get the field &quot;Key&quot; from the json array of the &quot;Cells&quot;","title":"parse json from sharepoint?","body":"<p>I have a response received from sharepoint. </p>\n\n<pre><code>{\n    \"d\": {\n        \"query\": {\n            \"SecondaryQueryResults\": {\n                \"__metadata\": {\n                    \"type\": \"Collection(Microsoft.Office.Server.Search.REST.QueryResult)\"\n                },\n                \"results\": []\n            },\n            \"SpellingSuggestion\": \"\",\n            \"TriggeredRules\": {\n                \"__metadata\": {\n                    \"type\": \"Collection(Edm.Guid)\"\n                },\n                \"results\": [\"e0205660-4971-4574-aa40-af6b4383cadd\"]\n            },\n            \"ElapsedTime\": 224,\n            \"__metadata\": {\n                \"type\": \"Microsoft.Office.Server.Search.REST.SearchResult\"\n            },\n            \"Properties\": {\n                \"__metadata\": {\n                    \"type\": \"Collection(SP.KeyValue)\"\n                },\n                \"results\": [{\n                    \"ValueType\": \"Edm.Int32\",\n                    \"Value\": \"10\",\n                    \"Key\": \"RowLimit\"\n                }, {\n                    \"ValueType\": \"Edm.Guid\",\n                    \"Value\": \"8413cd39-2156-4e00-b54d-11efd9abdb49\",\n                    \"Key\": \"SourceId\"\n                }, {\n                    \"ValueType\": \"Edm.Guid\",\n                    \"Value\": \"7bc4ba9e-80ff-7000-58cf-f7ac556d1e34\",\n                    \"Key\": \"CorrelationId\"\n                }, {\n                    \"ValueType\": \"Edm.Boolean\",\n                    \"Value\": \"false\",\n                    \"Key\": \"WasGroupRestricted\"\n                }, {\n                    \"ValueType\": \"Edm.Boolean\",\n                    \"Value\": \"false\",\n                    \"Key\": \"IsPartial\"\n                }, {\n                    \"ValueType\": \"Edm.Boolean\",\n                    \"Value\": \"false\",\n                    \"Key\": \"HasParseException\"\n                }, {\n                    \"ValueType\": \"Edm.String\",\n                    \"Value\": \"en\",\n                    \"Key\": \"WordBreakerLanguage\"\n                }, {\n                    \"ValueType\": \"Edm.Boolean\",\n                    \"Value\": \"false\",\n                    \"Key\": \"IsPartialUpnDocIdMapping\"\n                }, {\n                    \"ValueType\": \"Edm.Boolean\",\n                    \"Value\": \"true\",\n                    \"Key\": \"EnableInterleaving\"\n                }, {\n                    \"ValueType\": \"Edm.Boolean\",\n                    \"Value\": \"false\",\n                    \"Key\": \"IsMissingUnifiedGroups\"\n                }, {\n                    \"ValueType\": \"Edm.String\",\n                    \"Value\": \"i62456\",\n                    \"Key\": \"Constellation\"\n                }, {\n                    \"ValueType\": \"Edm.String\",\n                    \"Value\": \"&lt;Query Culture=\\\"en-US\\\" EnableStemming=\\\"True\\\" EnablePhonetic=\\\"False\\\" EnableNicknames=\\\"False\\\" IgnoreAllNoiseQuery=\\\"True\\\" SummaryLength=\\\"180\\\" MaxSnippetLength=\\\"180\\\" DesiredSnippetLength=\\\"90\\\" KeywordInclusion=\\\"0\\\" QueryText=\\\"59055305\\\" QueryTemplate=\\\"\\\" TrimDuplicates=\\\"True\\\" Site=\\\"e297bd2b-597a-4f54-8509-e2febb91b869\\\" Web=\\\"d42ff0d1-883b-4545-ab6a-97b0401025d4\\\" KeywordType=\\\"True\\\" HiddenConstraints=\\\"\\\" \\/&gt;\",\n                    \"Key\": \"SerializedQuery\"\n                }]\n            },\n            \"PrimaryQueryResult\": {\n                \"RefinementResults\": null,\n                \"SpecialTermResults\": null,\n                \"QueryId\": \"0585a5f1-89bc-43c1-b736-e163b4d7c1dd\",\n                \"QueryRuleId\": \"00000000-0000-0000-0000-000000000000\",\n                \"CustomResults\": {\n                    \"__metadata\": {\n                        \"type\": \"Collection(Microsoft.Office.Server.Search.REST.CustomResult)\"\n                    },\n                    \"results\": []\n                },\n                \"__metadata\": {\n                    \"type\": \"Microsoft.Office.Server.Search.REST.QueryResult\"\n                },\n                \"RelevantResults\": {\n                    \"Table\": {\n                        \"__metadata\": {\n                            \"type\": \"SP.SimpleDataTable\"\n                        },\n                        \"Rows\": {\n                            \"results\": [{\n                                \"__metadata\": {\n                                    \"type\": \"SP.SimpleDataRow\"\n                                },\n                                \"Cells\": {\n                                    \"results\": [{\n                                        \"ValueType\": \"Edm.Double\",\n                                        \"Value\": \"26.8860855102549\",\n                                        \"__metadata\": {\n                                            \"type\": \"SP.KeyValue\"\n                                        },\n                                        \"Key\": \"Rank\"\n                                    }, {\n                                        \"ValueType\": \"Edm.Int64\",\n                                        \"Value\": \"17594532057853\",\n                                        \"__metadata\": {\n                                            \"type\": \"SP.KeyValue\"\n                                        },\n                                        \"Key\": \"DocId\"\n                                    }, {\n                                        \"ValueType\": \"Edm.Int64\",\n                                        \"Value\": \"17594531057253\",\n                                        \"__metadata\": {\n                                            \"type\": \"SP.KeyValue\"\n                                        },\n                                        \"Key\": \"WorkId\"\n                                    }, {\n                                        \"ValueType\": \"Edm.String\",\n                                        \"Value\": \"Customer Request Filling\",\n                                        \"__metadata\": {\n                                            \"type\": \"SP.KeyValue\"\n                                        },\n                                        \"Key\": \"Title\"\n                                    }, {\n                                        \"ValueType\": \"Edm.String\",\n                                        \"Value\": \"Technology Services;svc ECMWise\",\n                                        \"__metadata\": {\n                                            \"type\": \"SP.KeyValue\"\n                                        },\n                                        \"Key\": \"Author\"\n                                    }, {\n                                        \"ValueType\": \"Edm.Int64\",\n                                        \"Value\": \"97182\",\n                                        \"__metadata\": {\n                                            \"type\": \"SP.KeyValue\"\n                                        },\n                                        \"Key\": \"Size\"\n                                    }, {\n                                        \"ValueType\": \"Edm.String\",\n                                        \"Value\": \"https:\\/\\/xxxxxx.sharepoint.com\\/sites\\/news\\/CUST\\/Forms\\/Appeals\\/Customer Reader.pdf\",\n                                        \"__metadata\": {\n                                            \"type\": \"SP.KeyValue\"\n                                        },\n                                        \"Key\": \"Path\"\n                                    }, {\n                                        \"ValueType\": \"Null\",\n                                        \"Value\": null,\n                                        \"__metadata\": {\n                                            \"type\": \"SP.KeyValue\"\n                                        },\n    ....\n</code></pre>\n\n<p>What I am trying to get is the \"Path\" of \"Value\" string of that pdf as a snapshot from below (part of section from what was above)</p>\n\n<pre><code>{\n          \"ValueType\": \"Edm.String\",\n          \"Value\": \"https:\\/\\/xxxxxx.sharepoint.com\\/sites\\/news\\/CUST\\/Forms\\/Appeals\\/Customer Reader.pdf\",\n          \"__metadata\": {\n          \"type\": \"SP.KeyValue\"\n          },\n          \"Key\": \"Path\"\n}\n</code></pre>\n\n<p>I have tried to use JSONObject to parse it like this.</p>\n\n<pre><code>            JSONObject jsonObject = (JSONObject) parser.parse(new InputStreamReader((httpConn.getInputStream())));      \n            JSONObject folder = (JSONObject)jsonObject.get(\"d\");    \n            JSONObject query = (JSONObject) folder.get(\"query\");\n            JSONObject properties = (JSONObject) query.get(\"PrimaryQueryResult\");\n            JSONObject result = (JSONObject) properties.get(\"RelevantResults\");\n            JSONObject table = (JSONObject) result.get(\"Table\");\n            JSONObject rows = (JSONObject) table.get(\"Rows\");\n....\n</code></pre>\n\n<p>I was wondering if there is a easier way to do this or what if one of the key is not populated. It would throw null pointer exception so is there a way just to find a key directly inside of this long nested json and how do I get the field \"Key\" from the json array of the \"Cells\"</p>\n"},{"tags":["java","method-reference","functional-interface"],"comments":[{"owner":{"account_id":70039,"reputation":410,"user_id":203498,"display_name":"Lukas Bradley"},"score":0,"creation_date":1507318539,"post_id":46612736,"comment_id":80177664,"body_markdown":"I&#39;m away from a terminal right now, but I&#39;d guess that the hashCode for a Consumer object is a pointer to the actual method location.  In other words, you have two separate Consumer objects, which have different memory locations, but they both point to the same method().  Take a look at the Consumer source for more info.  Edit: I meant the runtime Consumer implementation in a debugger.","body":"I&#39;m away from a terminal right now, but I&#39;d guess that the hashCode for a Consumer object is a pointer to the actual method location.  In other words, you have two separate Consumer objects, which have different memory locations, but they both point to the same method().  Take a look at the Consumer source for more info.  Edit: I meant the runtime Consumer implementation in a debugger."},{"owner":{"account_id":26377,"reputation":352187,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"score":0,"creation_date":1507318990,"post_id":46612736,"comment_id":80177836,"body_markdown":"Don&#39;t overthink it. The hash code is whatever `Object.hashCode()` returns. It won&#39;t have anything to do with the method the `Consumer` is calling. It&#39;s not like a `Consumer` will have some reference to the method; all it has is an implementation of `accept()` that does something or other.","body":"Don&#39;t overthink it. The hash code is whatever <code>Object.hashCode()</code> returns. It won&#39;t have anything to do with the method the <code>Consumer</code> is calling. It&#39;s not like a <code>Consumer</code> will have some reference to the method; all it has is an implementation of <code>accept()</code> that does something or other."}],"answers":[{"tags":[],"owner":{"account_id":26377,"reputation":352187,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1507318651,"creation_date":1507318651,"answer_id":46612836,"question_id":46612736,"body_markdown":"&gt; Are method references nothing more than syntactic sugar for anonymous classes?\r\n\r\nCorrect. They aren&#39;t necessarily always implemented as heavyweight as that, but conceptually it&#39;s all they are.\r\n\r\n&gt; If not, what do I have to do to always get the same method reference? (Aside from storing a reference once in a field to work with.)\r\n\r\nStore the reference in a field. That&#39;s the answer. (Sorry.)","title":"How come two method references are compiled into two different addresses?","body":"<blockquote>\n  <p>Are method references nothing more than syntactic sugar for anonymous classes?</p>\n</blockquote>\n\n<p>Correct. They aren't necessarily always implemented as heavyweight as that, but conceptually it's all they are.</p>\n\n<blockquote>\n  <p>If not, what do I have to do to always get the same method reference? (Aside from storing a reference once in a field to work with.)</p>\n</blockquote>\n\n<p>Store the reference in a field. That's the answer. (Sorry.)</p>\n"},{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1507319772,"creation_date":1507319772,"answer_id":46613083,"question_id":46612736,"body_markdown":"You ask,\r\n\r\n&gt; Are method references nothing more than syntactic sugar for anonymous classes?\r\n\r\nThe JLS says that\r\n\r\n&gt; Evaluation of a method reference expression produces an instance of a functional interface type\r\n\r\n([JLS 8, section 15.13][1])\r\n\r\nThat doesn&#39;t explicitly require an anonymous class, but it does require *some* class, and it does not provide a mechanism for naming that class.  I can imagine alternatives, but using the existing anonymous class mechanism seems pretty natural.\r\n\r\nIt is plausible that an implementation could recognize multiple references to the same method and use the same anonymous class for them, but such behavior is by no means required, and you have demonstrated that your implementation does not do it.  Even if an implementation did do that, however, the JLS is at minimum *suggestive* that each evaluation of a method reference expression produces a new object.\r\n\r\nYou go on,\r\n\r\n&gt; If not, what do I have to do to always get the same method reference? (Aside from storing a reference once in a field to work with.)\r\n\r\nYour only guaranteed mechanism is to evaluate the method reference just once, and to then hold on to a reference to the resulting object as long as you have need of it.  Storing the reference in a field, as @JohnKugelman describes, is one variation on that, but depending on the scope in which you need to refer to the same method reference object, it might suffice to store it in a local variable or to pass it around via method arguments.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.13","title":"How come two method references are compiled into two different addresses?","body":"<p>You ask,</p>\n\n<blockquote>\n  <p>Are method references nothing more than syntactic sugar for anonymous classes?</p>\n</blockquote>\n\n<p>The JLS says that</p>\n\n<blockquote>\n  <p>Evaluation of a method reference expression produces an instance of a functional interface type</p>\n</blockquote>\n\n<p>(<a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.13\" rel=\"nofollow noreferrer\">JLS 8, section 15.13</a>)</p>\n\n<p>That doesn't explicitly require an anonymous class, but it does require <em>some</em> class, and it does not provide a mechanism for naming that class.  I can imagine alternatives, but using the existing anonymous class mechanism seems pretty natural.</p>\n\n<p>It is plausible that an implementation could recognize multiple references to the same method and use the same anonymous class for them, but such behavior is by no means required, and you have demonstrated that your implementation does not do it.  Even if an implementation did do that, however, the JLS is at minimum <em>suggestive</em> that each evaluation of a method reference expression produces a new object.</p>\n\n<p>You go on,</p>\n\n<blockquote>\n  <p>If not, what do I have to do to always get the same method reference? (Aside from storing a reference once in a field to work with.)</p>\n</blockquote>\n\n<p>Your only guaranteed mechanism is to evaluate the method reference just once, and to then hold on to a reference to the resulting object as long as you have need of it.  Storing the reference in a field, as @JohnKugelman describes, is one variation on that, but depending on the scope in which you need to refer to the same method reference object, it might suffice to store it in a local variable or to pass it around via method arguments.</p>\n"},{"tags":[],"owner":{"account_id":11935483,"reputation":1,"user_id":8734115,"display_name":"Fman110"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507319977,"creation_date":1507319977,"answer_id":46613126,"question_id":46612736,"body_markdown":"Generally speaking the easiest and efficient way is storing the reference either in a field or a (local) variable.","title":"How come two method references are compiled into two different addresses?","body":"<p>Generally speaking the easiest and efficient way is storing the reference either in a field or a (local) variable.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507718666,"creation_date":1507718666,"answer_id":46686230,"question_id":46612736,"body_markdown":"First of all, the `toString()` output of the object generated for a method reference is entirely unspecified, hence, you cannot draw any conclusions about the objects identity from there. Also, the hexadecimal number is an implementation dependent hashcode that is rarely an address. The only reliable way to check the identity of the object is to do `a==b`.\r\n\r\nStill, these objects are indeed different, but thats an implementation detail. As explained in [Does a lambda expression create an object on the heap every time it&#39;s executed?](https://stackoverflow.com/a/27524543/2711488), the JVM has a lot of freedom regarding object reuse, but the current HotSpot/OpenJDK implementation will reuse objects only for non-capturing expressions and `this::method` is capturing the `this` reference. Also, as shown by the code of your question, each occurrence of `this::method` in your code will even get its own generated class.\r\n\r\nThis is explained in [Is method reference caching a good idea in Java 8?](https://stackoverflow.com/a/23991339/2711488), which also concludes that you shouldnt keep these instances for performance reasons. But in your case, when you want to deregister a listener reliably, keeping the reference in a variable is the *only* way to do it. As even for a single occurrence of a non-capturing expression, for which the current implementation will provide the same object, there is no guaranty that this will work, as this reuse still is an implemen&#173;tation dependent behavior.\r\n","title":"How come two method references are compiled into two different addresses?","body":"<p>First of all, the <code>toString()</code> output of the object generated for a method reference is entirely unspecified, hence, you cannot draw any conclusions about the objects identity from there. Also, the hexadecimal number is an implementation dependent hashcode that is rarely an address. The only reliable way to check the identity of the object is to do <code>a==b</code>.</p>\n\n<p>Still, these objects are indeed different, but thats an implementation detail. As explained in <a href=\"https://stackoverflow.com/a/27524543/2711488\">Does a lambda expression create an object on the heap every time it's executed?</a>, the JVM has a lot of freedom regarding object reuse, but the current HotSpot/OpenJDK implementation will reuse objects only for non-capturing expressions and <code>this::method</code> is capturing the <code>this</code> reference. Also, as shown by the code of your question, each occurrence of <code>this::method</code> in your code will even get its own generated class.</p>\n\n<p>This is explained in <a href=\"https://stackoverflow.com/a/23991339/2711488\">Is method reference caching a good idea in Java 8?</a>, which also concludes that you shouldnt keep these instances for performance reasons. But in your case, when you want to deregister a listener reliably, keeping the reference in a variable is the <em>only</em> way to do it. As even for a single occurrence of a non-capturing expression, for which the current implementation will provide the same object, there is no guaranty that this will work, as this reuse still is an implementation dependent behavior.</p>\n"}],"owner":{"account_id":10204835,"reputation":85,"user_id":7533879,"display_name":"tobywoby"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":46612836,"answer_count":4,"score":5,"last_activity_date":1667552343,"creation_date":1507318262,"question_id":46612736,"body_markdown":"I reference the same method twice but the references are different. See this example:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import java.util.function.Consumer;\r\n    \r\n    public class MethodRefTest {\r\n        public static void main(String[] args) {\r\n            new MethodRefTest();\r\n        }\r\n    \r\n        public MethodRefTest() {\r\n            Consumer&lt;Integer&gt; a = this::method;\r\n            System.out.println(a);\r\n            Consumer&lt;Integer&gt; b = this::method;\r\n            System.out.println(b);\r\n        }\r\n    \r\n        public void method(Integer value) {\r\n    \r\n        }\r\n    }\r\n\r\nThe output is:\r\n\r\n    MethodRefTest$$Lambda$1/250421012@4c873330\r\n    MethodRefTest$$Lambda$2/295530567@776ec8df\r\n\r\nAre method references nothing more than syntactic sugar for anonymous classes? If not, what do I have to do to always get the same method reference? (Aside from storing a reference once in a field to work with.)\r\n\r\n(Application: I thought of method references as a prettier way of observer implementation. But with different references each time it&#39;s impossible to remove an observer from an observable once it&#39;s added.)","title":"How come two method references are compiled into two different addresses?","body":"<p>I reference the same method twice but the references are different. See this example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.function.Consumer;\n\npublic class MethodRefTest {\n    public static void main(String[] args) {\n        new MethodRefTest();\n    }\n\n    public MethodRefTest() {\n        Consumer&lt;Integer&gt; a = this::method;\n        System.out.println(a);\n        Consumer&lt;Integer&gt; b = this::method;\n        System.out.println(b);\n    }\n\n    public void method(Integer value) {\n\n    }\n}\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>MethodRefTest$$Lambda$1/250421012@4c873330\nMethodRefTest$$Lambda$2/295530567@776ec8df\n</code></pre>\n\n<p>Are method references nothing more than syntactic sugar for anonymous classes? If not, what do I have to do to always get the same method reference? (Aside from storing a reference once in a field to work with.)</p>\n\n<p>(Application: I thought of method references as a prettier way of observer implementation. But with different references each time it's impossible to remove an observer from an observable once it's added.)</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"score":0,"creation_date":1667223925,"post_id":74264081,"comment_id":131112878,"body_markdown":"Hi Alex, interested to know the IDE you are using as I like the icons in the image you posted :)","body":"Hi Alex, interested to know the IDE you are using as I like the icons in the image you posted :)"},{"owner":{"account_id":26782616,"reputation":313,"user_id":20377250,"display_name":"Alex_X1"},"score":1,"creation_date":1667224240,"post_id":74264081,"comment_id":131113018,"body_markdown":"It&#39;s IntelliJ with the Material Theme UI and Atom Material Icons","body":"It&#39;s IntelliJ with the Material Theme UI and Atom Material Icons"},{"owner":{"account_id":324951,"reputation":935,"user_id":6722664,"display_name":"Sagar Gandhi"},"score":0,"creation_date":1667231933,"post_id":74264081,"comment_id":131116013,"body_markdown":"Refer this : https://docs.spring.io/spring-boot/docs/1.0.1.RELEASE/reference/html/boot-features-external-config.html","body":"Refer this : <a href=\"https://docs.spring.io/spring-boot/docs/1.0.1.RELEASE/reference/html/boot-features-external-config.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/1.0.1.RELEASE/reference/html&zwnj;&#8203;/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3845096,"reputation":126,"user_id":3186906,"display_name":"viglu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1667223462,"creation_date":1667223462,"answer_id":74264123,"question_id":74264081,"body_markdown":"application.properties file should be located in the resource directory.","title":"Spring not detecting application.properties","body":"<p>application.properties file should be located in the resource directory.</p>\n"},{"tags":[],"owner":{"account_id":26782616,"reputation":313,"user_id":20377250,"display_name":"Alex_X1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667551488,"creation_date":1667224746,"answer_id":74264419,"question_id":74264081,"body_markdown":"The problem has been solved. The home directory for the run configuration needs to be set to the folder containing the resources folder. Which it wasn&#39;t before. \r\nFolder Structure now:[![Folder Structure][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vka0C.png","title":"Spring not detecting application.properties","body":"<p>The problem has been solved. The home directory for the run configuration needs to be set to the folder containing the resources folder. Which it wasn't before.\nFolder Structure now:<a href=\"https://i.stack.imgur.com/vka0C.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vka0C.png\" alt=\"Folder Structure\" /></a></p>\n"},{"tags":[],"owner":{"account_id":324951,"reputation":935,"user_id":6722664,"display_name":"Sagar Gandhi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667232314,"creation_date":1667232314,"answer_id":74266035,"question_id":74264081,"body_markdown":"Spring has certain order for finding application.properties \r\n\r\nReference : https://docs.spring.io/spring-boot/docs/1.0.1.RELEASE/reference/html/boot-features-external-config.html\r\n\r\n\r\nSpringApplication will load properties from application.properties files in the following locations and add them to the Spring Environment:\r\n\r\n - A /config subdir of the current directory.\r\n - The current directory\r\n - A classpath /config package\r\n - The classpath root\r\n\r\nThe list is ordered by precedence (locations higher in the list override lower items).","title":"Spring not detecting application.properties","body":"<p>Spring has certain order for finding application.properties</p>\n<p>Reference : <a href=\"https://docs.spring.io/spring-boot/docs/1.0.1.RELEASE/reference/html/boot-features-external-config.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/1.0.1.RELEASE/reference/html/boot-features-external-config.html</a></p>\n<p>SpringApplication will load properties from application.properties files in the following locations and add them to the Spring Environment:</p>\n<ul>\n<li>A /config subdir of the current directory.</li>\n<li>The current directory</li>\n<li>A classpath /config package</li>\n<li>The classpath root</li>\n</ul>\n<p>The list is ordered by precedence (locations higher in the list override lower items).</p>\n"}],"owner":{"account_id":26782616,"reputation":313,"user_id":20377250,"display_name":"Alex_X1"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":966,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74264419,"answer_count":3,"score":3,"last_activity_date":1667551488,"creation_date":1667223266,"question_id":74264081,"body_markdown":"Spring is not detecting my application.properties in the config folder.\r\nThe config file: (Sensitive Information hidden)\r\n\r\n```\r\nserver.port = 8090\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.datasource.url=jdbc:mysql://${MYSQL_HOST:URL}:3306/DB\r\nspring.datasource.username=USER\r\nspring.datasource.password=PW\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\ndebug=true\r\n```\r\nFolder structure:\r\n\r\n![https://i.stack.imgur.com/62nsY.png][1]\r\n\r\nServer.java\r\n\r\n```\r\n@SpringBootApplication\r\n@EnableAutoConfiguration\r\npublic class Server {\r\n    public static void main(String[] args) {\r\n        SpringApplication application = new SpringApplication(Server.class);\r\n        application.run();\r\n    }\r\n}\r\n```\r\n\r\n\r\nI tried putting the properties in he top and resources folder, nothing seems to work. If I try to load it via VM options it says resource not found. The config folder is marked as resource folder in IntelliJ\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/62nsY.png","title":"Spring not detecting application.properties","body":"<p>Spring is not detecting my application.properties in the config folder.\nThe config file: (Sensitive Information hidden)</p>\n<pre><code>server.port = 8090\nspring.jpa.hibernate.ddl-auto=update\nspring.datasource.url=jdbc:mysql://${MYSQL_HOST:URL}:3306/DB\nspring.datasource.username=USER\nspring.datasource.password=PW\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\ndebug=true\n</code></pre>\n<p>Folder structure:</p>\n<p><img src=\"https://i.stack.imgur.com/62nsY.png\" alt=\"https://i.stack.imgur.com/62nsY.png\" /></p>\n<p>Server.java</p>\n<pre><code>@SpringBootApplication\n@EnableAutoConfiguration\npublic class Server {\n    public static void main(String[] args) {\n        SpringApplication application = new SpringApplication(Server.class);\n        application.run();\n    }\n}\n</code></pre>\n<p>I tried putting the properties in he top and resources folder, nothing seems to work. If I try to load it via VM options it says resource not found. The config folder is marked as resource folder in IntelliJ</p>\n"},{"tags":["java","netbeans-platform"],"comments":[{"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"score":0,"creation_date":1438281917,"post_id":31726701,"comment_id":51398918,"body_markdown":"Its been a couple of years since I left Ant behind me but are you really sure it doesn&#39;t help to put your script files in your `src` directory ? In any case an NBM is nothing but a jar file with a bit of extras. You can look inside the NBM you&#39;ve created by either using the IDE itself or by using an external archiver tool such as 7Zip.","body":"Its been a couple of years since I left Ant behind me but are you really sure it doesn&#39;t help to put your script files in your <code>src</code> directory ? In any case an NBM is nothing but a jar file with a bit of extras. You can look inside the NBM you&#39;ve created by either using the IDE itself or by using an external archiver tool such as 7Zip."}],"answers":[{"tags":[],"owner":{"account_id":4228072,"reputation":101,"user_id":3461138,"display_name":"JWahle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1438283388,"creation_date":1438283388,"answer_id":31732130,"question_id":31726701,"body_markdown":"You already posted the link to the right thread:\r\n2nd answer is for maven,\r\n3rd and accepted answer is for ant: just create a subdirectory called &quot;release&quot; in your module project. You can then get the File via InstalledFileLocator.getDefault().locate(...).\r\nTo get &quot;release/something.txt&quot; you would call\r\nlocate(&quot;something.txt&quot;, &quot;your.module&quot;, false)","title":"netbeans: bundle files to nbm","body":"<p>You already posted the link to the right thread:\n2nd answer is for maven,\n3rd and accepted answer is for ant: just create a subdirectory called \"release\" in your module project. You can then get the File via InstalledFileLocator.getDefault().locate(...).\nTo get \"release/something.txt\" you would call\nlocate(\"something.txt\", \"your.module\", false)</p>\n"},{"tags":[],"owner":{"account_id":7745608,"reputation":1158,"user_id":5863519,"display_name":"KR93"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667551409,"creation_date":1667551409,"answer_id":74314275,"question_id":31726701,"body_markdown":"This solution is for modules that are using maven \r\n\r\n \r\n1. Create a netbeans module \r\n 2. create folder name it as &quot;release&quot; under the `src/main`\r\n 3. Add scripts to the release folder\r\n 4. Then edit that module POM, under the plugin section in &lt;artifactId&gt;nbm-maven-plugin&lt;/artifactId&gt; add below code\r\n\r\n    \r\n\r\n    &gt;     &lt;configuration&gt;\r\n    &gt;              &lt;moduleDependencies&gt;\r\n    &gt;                   &lt;dependency&gt;\r\n    &gt;                        &lt;id&gt;org.netbeans.modules:org-netbeans-modules-java-j2seplatform&lt;/id&gt;\r\n    &gt;                        &lt;type&gt;impl&lt;/type&gt;\r\n    &gt;                        &lt;explicitValue&gt;org.netbeans.modules.java.j2seplatform/1=${netbeans.impl.version}&lt;/explicitValue&gt;\r\n    &gt;                                 &lt;/dependency&gt;\r\n    &gt;                             &lt;/moduleDependencies&gt;\r\n    &gt;                             &lt;nbmResources&gt;\r\n    &gt;                                 &lt;nbmResource&gt;\r\n    &gt;                                     &lt;directory&gt;src/main/release&lt;/directory&gt;\r\n    &gt;                                 &lt;/nbmResource&gt;\r\n    &gt;                             &lt;/nbmResources&gt;\r\n    &gt;                             &lt;publicPackages&gt;\r\n    &gt;                                 &lt;publicPackage&gt;com.dev.api&lt;/publicPackage&gt;\r\n    &gt;                             &lt;/publicPackages&gt;\r\n    &gt;                         &lt;/configuration&gt;\r\n\r\n 5. Build that module\r\n 6. you can call the file using `File file = InstalledFileLocator.getDefault().locate(&quot;scriptName.cmd&quot;, &quot;com.dev.api&quot;, false)`\r\n 7. If you are using in a different module you can add dependency of the module that contains the scripts","title":"netbeans: bundle files to nbm","body":"<p>This solution is for modules that are using maven</p>\n<ol>\n<li><p>Create a netbeans module</p>\n</li>\n<li><p>create folder name it as &quot;release&quot; under the <code>src/main</code></p>\n</li>\n<li><p>Add scripts to the release folder</p>\n</li>\n<li><p>Then edit that module POM, under the plugin section in nbm-maven-plugin add below code</p>\n<blockquote>\n<pre><code>&lt;configuration&gt;\n         &lt;moduleDependencies&gt;\n              &lt;dependency&gt;\n                   &lt;id&gt;org.netbeans.modules:org-netbeans-modules-java-j2seplatform&lt;/id&gt;\n                   &lt;type&gt;impl&lt;/type&gt;\n                   &lt;explicitValue&gt;org.netbeans.modules.java.j2seplatform/1=${netbeans.impl.version}&lt;/explicitValue&gt;\n                            &lt;/dependency&gt;\n                        &lt;/moduleDependencies&gt;\n                        &lt;nbmResources&gt;\n                            &lt;nbmResource&gt;\n                                &lt;directory&gt;src/main/release&lt;/directory&gt;\n                            &lt;/nbmResource&gt;\n                        &lt;/nbmResources&gt;\n                        &lt;publicPackages&gt;\n                            &lt;publicPackage&gt;com.dev.api&lt;/publicPackage&gt;\n                        &lt;/publicPackages&gt;\n                    &lt;/configuration&gt;\n</code></pre>\n</blockquote>\n</li>\n<li><p>Build that module</p>\n</li>\n<li><p>you can call the file using <code>File file = InstalledFileLocator.getDefault().locate(&quot;scriptName.cmd&quot;, &quot;com.dev.api&quot;, false)</code></p>\n</li>\n<li><p>If you are using in a different module you can add dependency of the module that contains the scripts</p>\n</li>\n</ol>\n"}],"owner":{"account_id":5770368,"reputation":33,"user_id":4553961,"display_name":"pad "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":331,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":31732130,"answer_count":2,"score":-2,"last_activity_date":1667551409,"creation_date":1438266881,"question_id":31726701,"body_markdown":"This Question refers to https://stackoverflow.com/questions/11173469/how-to-bundle-additional-data-files-with-a-netbeans-module.\r\nI have two Pyhtonscripts, which I want to integrate in the created NBM, so they can be executed from within the plugin. \r\n\r\nI tried all the solutions from the Question above (except the Maven part), as well as putting the files in every possible location inside the project, but it had no influence.\r\n\r\nI think the last part of [this][1] tutorial -&quot;Updating the Sources&quot;- would do the trick. Am I on the right path? I did include the code in my build-init.xml, but (I don&#39;t know if I set the Locations right) there was no improvement at all. \r\n\r\n\r\n  [1]: https://platform.netbeans.org/tutorials/nbm-projectsamples.html","title":"netbeans: bundle files to nbm","body":"<p>This Question refers to <a href=\"https://stackoverflow.com/questions/11173469/how-to-bundle-additional-data-files-with-a-netbeans-module\">How to bundle additional (data) files with a Netbeans module?</a>.\nI have two Pyhtonscripts, which I want to integrate in the created NBM, so they can be executed from within the plugin. </p>\n\n<p>I tried all the solutions from the Question above (except the Maven part), as well as putting the files in every possible location inside the project, but it had no influence.</p>\n\n<p>I think the last part of <a href=\"https://platform.netbeans.org/tutorials/nbm-projectsamples.html\" rel=\"nofollow noreferrer\">this</a> tutorial -\"Updating the Sources\"- would do the trick. Am I on the right path? I did include the code in my build-init.xml, but (I don't know if I set the Locations right) there was no improvement at all. </p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"answers":[{"tags":[],"owner":{"account_id":1106225,"reputation":631,"user_id":1097552,"display_name":"Lucas Brutschy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667551270,"creation_date":1667551270,"answer_id":74314259,"question_id":74307831,"body_markdown":"I think your call to `Materialized.as` is just slightly misplaced:\r\n\r\n```java\r\ngroupedKStream.aggregate(ArrayList::new,\r\n    (key,value,list) -&gt; { list.add(value) ; return list; },\r\n    Materialized.&lt;String, List&lt;RuleConfig&gt;, KeyValueStore&lt;Bytes,byte[]&gt;&gt; as (RULE_STORE)\r\n        .withKeySerde(stringSerde).withValueSerde(listSerde)\r\n    );\r\n```\r\n\r\nOther than that, your approach should work.","title":"How can we group based on a key from kafka streams and create global k table with string as key and list of objects as values","body":"<p>I think your call to <code>Materialized.as</code> is just slightly misplaced:</p>\n<pre class=\"lang-java prettyprint-override\"><code>groupedKStream.aggregate(ArrayList::new,\n    (key,value,list) -&gt; { list.add(value) ; return list; },\n    Materialized.&lt;String, List&lt;RuleConfig&gt;, KeyValueStore&lt;Bytes,byte[]&gt;&gt; as (RULE_STORE)\n        .withKeySerde(stringSerde).withValueSerde(listSerde)\n    );\n</code></pre>\n<p>Other than that, your approach should work.</p>\n"}],"owner":{"account_id":26821287,"reputation":13,"user_id":20410590,"display_name":"poonam kumari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":740,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74314259,"answer_count":1,"score":1,"last_activity_date":1667551270,"creation_date":1667499486,"question_id":74307831,"body_markdown":"I have a table with below values \r\n\r\n|SCHEME\t     | RULEORDER | REGEX\r\n-------------|-----------|------------\r\n|VS\t         |  1\t     | 0*[2368A]\r\n|MC\t         |  1\t     | 0*[23]\r\n|MC\t         |  2\t     | 0*\r\n|ZS\t         |  1\t     | 9*\r\n|MC\t         |  3\t     | 22*\r\n\r\nEvery row entry from this table is sent as a Kstream:\r\n\r\n\r\n```\r\n\r\n`ruleStream\r\n      .peek((k, v) -&gt; logReceivedRecord(&quot;RULE&quot;, k, Optional.ofNullable(v).map(RuleCdc::getUPDATETS).orElse(null)))\r\n      .filter((k, v) -&gt; Objects.nonNull(v), Named.as(&quot;rule-nonnull-filter&quot;))\r\n      .map((k, v) -&gt; new KeyValue&lt;&gt;(v.getSCHEME()+ &quot;-&quot;+ v.getRULEORDER(), mapper.mapconfig(v, initializer.initConfig(k))))\r\n      .peek((k, v) -&gt; logSentRecord(&quot;RuleConfig&quot;, k, getTopicNameWithRegion(TOPIC_NAME)));`\r\n\r\n\r\n```\r\n\r\nHere key is sent as combination of v.getSCHEME()+ &quot;-&quot;+ v.getRULEORDER() so that when Ktable is created , I would want all RULEORDER corresponding to a &quot;Scheme&quot;. If I use just &quot;v.getSCHEME()&quot; as key, then latest RULEORDER will be updated for a particular SCHEME.\r\n\r\nMy **PROBLEM** here is : I want to collect these values that I am receiving 1 by 1 as an offset of kstream into a list and then aggregate them as such that for a particular key (SCHEME), I have a list of RULEORDERS. \r\n\r\n\r\n\r\nI tried this but this is not working as expected: \r\n\r\n\r\n```\r\n\r\n`StreamsBuilder builder = new StreamsBuilder();\r\nKStream&lt;String , RuleConfig&gt; ruleConfigKStream = \r\n        builder.stream(TOPIC_NAME,Consumed.with(stringSerde, ruleConfigSerde));\r\n\r\nKGroupedStream&lt;String , RuleConfig&gt; groupedKStream = \r\n        ruleConfigKStream.groupBy((key, value) -&gt; value.getScheme(),   \r\n        Grouped.with(Serdes.String(),ruleConfigSerde));\r\n\r\nKTable&lt;String,List&lt;RuleConfig&gt;&gt; ruleStore  =\r\n        groupedKStream.aggregate(()-&gt; new ArrayList&lt;&gt;(), \r\n        (key,value,list) -&gt; { list.add(value) ;\r\n        Materialized.&lt;String, List&lt;RuleConfig&gt;, KeyValueStore&lt;Bytes,byte[]&gt;&gt; as (RULE_STORE)\r\n        .withKeySerde(stringSerde).withValueSerde(listSerde);\r\n        return list;\r\n        });\r\n\r\nbuilder.build();\r\n\r\nReadOnlyKeyValueStore&lt;String, List&lt;RuleConfig&gt;&gt; ruleKVStore =\r\nkafkaStreams.store(StoreQueryParameters.fromNameAndType(RULE_STORE, \r\n        QueryableStoreTypes.keyValueStore()));\r\n\r\n\r\nruleKVStore.get(&quot;MC&quot;); --&gt; **This is not giving expected result**`\r\n\r\n```\r\n\r\n","title":"How can we group based on a key from kafka streams and create global k table with string as key and list of objects as values","body":"<p>I have a table with below values</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>SCHEME</th>\n<th>RULEORDER</th>\n<th>REGEX</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>VS</td>\n<td>1</td>\n<td>0*[2368A]</td>\n</tr>\n<tr>\n<td>MC</td>\n<td>1</td>\n<td>0*[23]</td>\n</tr>\n<tr>\n<td>MC</td>\n<td>2</td>\n<td>0*</td>\n</tr>\n<tr>\n<td>ZS</td>\n<td>1</td>\n<td>9*</td>\n</tr>\n<tr>\n<td>MC</td>\n<td>3</td>\n<td>22*</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Every row entry from this table is sent as a Kstream:</p>\n<pre><code>\n`ruleStream\n      .peek((k, v) -&gt; logReceivedRecord(&quot;RULE&quot;, k, Optional.ofNullable(v).map(RuleCdc::getUPDATETS).orElse(null)))\n      .filter((k, v) -&gt; Objects.nonNull(v), Named.as(&quot;rule-nonnull-filter&quot;))\n      .map((k, v) -&gt; new KeyValue&lt;&gt;(v.getSCHEME()+ &quot;-&quot;+ v.getRULEORDER(), mapper.mapconfig(v, initializer.initConfig(k))))\n      .peek((k, v) -&gt; logSentRecord(&quot;RuleConfig&quot;, k, getTopicNameWithRegion(TOPIC_NAME)));`\n\n\n</code></pre>\n<p>Here key is sent as combination of v.getSCHEME()+ &quot;-&quot;+ v.getRULEORDER() so that when Ktable is created , I would want all RULEORDER corresponding to a &quot;Scheme&quot;. If I use just &quot;v.getSCHEME()&quot; as key, then latest RULEORDER will be updated for a particular SCHEME.</p>\n<p>My <strong>PROBLEM</strong> here is : I want to collect these values that I am receiving 1 by 1 as an offset of kstream into a list and then aggregate them as such that for a particular key (SCHEME), I have a list of RULEORDERS.</p>\n<p>I tried this but this is not working as expected:</p>\n<pre><code>\n`StreamsBuilder builder = new StreamsBuilder();\nKStream&lt;String , RuleConfig&gt; ruleConfigKStream = \n        builder.stream(TOPIC_NAME,Consumed.with(stringSerde, ruleConfigSerde));\n\nKGroupedStream&lt;String , RuleConfig&gt; groupedKStream = \n        ruleConfigKStream.groupBy((key, value) -&gt; value.getScheme(),   \n        Grouped.with(Serdes.String(),ruleConfigSerde));\n\nKTable&lt;String,List&lt;RuleConfig&gt;&gt; ruleStore  =\n        groupedKStream.aggregate(()-&gt; new ArrayList&lt;&gt;(), \n        (key,value,list) -&gt; { list.add(value) ;\n        Materialized.&lt;String, List&lt;RuleConfig&gt;, KeyValueStore&lt;Bytes,byte[]&gt;&gt; as (RULE_STORE)\n        .withKeySerde(stringSerde).withValueSerde(listSerde);\n        return list;\n        });\n\nbuilder.build();\n\nReadOnlyKeyValueStore&lt;String, List&lt;RuleConfig&gt;&gt; ruleKVStore =\nkafkaStreams.store(StoreQueryParameters.fromNameAndType(RULE_STORE, \n        QueryableStoreTypes.keyValueStore()));\n\n\nruleKVStore.get(&quot;MC&quot;); --&gt; **This is not giving expected result**`\n\n</code></pre>\n"},{"tags":["java","spring","post","spring-webflux","webclient"],"comments":[{"owner":{"account_id":3656032,"reputation":2735,"user_id":3047038,"display_name":"Michael McFadyen"},"score":0,"creation_date":1644955791,"post_id":71126104,"comment_id":125741520,"body_markdown":"do you know why `myapi.endpoint` is returning a 400? Does it log any reason why?","body":"do you know why <code>myapi.endpoint</code> is returning a 400? Does it log any reason why?"},{"owner":{"account_id":11841394,"reputation":21,"user_id":18212592,"display_name":"AlPecino"},"score":0,"creation_date":1644996982,"post_id":71126104,"comment_id":125750245,"body_markdown":"@MichaelMcFadyen i dont know why and the log is showing the same like the exception above. When i try with a curl command, it returns 200, but not in java.","body":"@MichaelMcFadyen i dont know why and the log is showing the same like the exception above. When i try with a curl command, it returns 200, but not in java."},{"owner":{"account_id":5641068,"reputation":431,"user_id":4464927,"display_name":"Swarathesh Addanki"},"score":0,"creation_date":1666966996,"post_id":71126104,"comment_id":131066190,"body_markdown":"@AlPecino is it 400 BAD_REQUEST ?","body":"@AlPecino is it 400 BAD_REQUEST ?"},{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":1,"creation_date":1667021992,"post_id":71126104,"comment_id":131077053,"body_markdown":"@AlPecino There is no issue with the WebClient code. Please check whether the request you sent is correct or not. 400 means your request data is not matching. I tried the same code with [sample](https://www.appsloveworld.com/free-online-sample-xml-api-for-testing-purpose#createtourist) without basic auth and it works. If I send the same request then it returns 400. So check the data you send.","body":"@AlPecino There is no issue with the WebClient code. Please check whether the request you sent is correct or not. 400 means your request data is not matching. I tried the same code with <a href=\"https://www.appsloveworld.com/free-online-sample-xml-api-for-testing-purpose#createtourist\" rel=\"nofollow noreferrer\">sample</a> without basic auth and it works. If I send the same request then it returns 400. So check the data you send."}],"answers":[{"tags":[],"owner":{"account_id":20161220,"reputation":25,"user_id":14786231,"display_name":"Tolstov Maxim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667545498,"creation_date":1667545498,"answer_id":74313297,"question_id":71126104,"body_markdown":"I deal with similar error when I was trying to upload video file: I always got response with http-status 400 Bad Request.\r\nIt happened because `WebClien` didn&#39;t set Content-Length header.\r\n\r\nSo you can try to set it here manually.\r\n\r\n    webClient.post()\r\n             .uri(&quot;https://myapi.endpoint&quot;)\r\n             .contentType(MediaType.APPLICATION_XML)\r\n\t\t     .headers(h -&gt; {\r\n\t\t\t\th.setBasicAuth(DEV_API_USER, DEV_PASSWORD);\r\n\t\t\t\th.setContentLength(bytes.length);\r\n\t\t\t  })\r\n             .bodyValue(new String(bytes))\r\n             .retrieve()\r\n             .bodyToMono(String.class)\r\n             .block();\r\nOr try to do request with `RestTemplate`.\r\n\r\nIf it does not help, set up additional logging ([log request headers][1]), please.\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-log-webclient-calls","title":"Spring WebClient post request xml file as binary or as raw data is not working","body":"<p>I deal with similar error when I was trying to upload video file: I always got response with http-status 400 Bad Request.\nIt happened because <code>WebClien</code> didn't set Content-Length header.</p>\n<p>So you can try to set it here manually.</p>\n<pre><code>webClient.post()\n         .uri(&quot;https://myapi.endpoint&quot;)\n         .contentType(MediaType.APPLICATION_XML)\n         .headers(h -&gt; {\n            h.setBasicAuth(DEV_API_USER, DEV_PASSWORD);\n            h.setContentLength(bytes.length);\n          })\n         .bodyValue(new String(bytes))\n         .retrieve()\n         .bodyToMono(String.class)\n         .block();\n</code></pre>\n<p>Or try to do request with <code>RestTemplate</code>.</p>\n<p>If it does not help, set up additional logging (<a href=\"https://www.baeldung.com/spring-log-webclient-calls\" rel=\"nofollow noreferrer\">log request headers</a>), please.</p>\n"}],"owner":{"account_id":11841394,"reputation":21,"user_id":18212592,"display_name":"AlPecino"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3895,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1667550181,"creation_date":1644926495,"question_id":71126104,"body_markdown":"I want to send a post request with Spring webclient. I want to send a xml file as binary or as raw, the api accepts both. When i use curl it is working fine and the xml file is uploaded, but in my java program i always got an exception. I cann understand where the issue is.\r\n\r\n```\r\n//Raw data with curl is working:\r\n\r\n//curl -i -u admin:password -XPOST https://myapi.endpoint --data-raw &#39;&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#39; -H &quot;Content-Type:application/xml;charset=utf-8&quot;\r\n\r\n// Here i try it in java (Spring) with raw xml data\r\n\r\nbyte[] bytes = new FileSystemResource(xmlFile).getInputStream().readAllBytes();\r\n\r\nwebClient.post()\r\n\t\t .uri(&quot;https://myapi.endpoint&quot;)\r\n\t\t .contentType(MediaType.APPLICATION_XML) // i also tried text/xml and application/octet/stream\r\n\t\t .headers(h -&gt; h.setBasicAuth(DEV_API_USER, DEV_PASSWORD))\r\n\t\t .bodyValue(new String(bytes))\r\n\t\t .retrieve()\r\n\t\t .bodyToMono(String.class)\r\n\t\t .block();\r\n\r\n// This doesnt work\r\n\r\n\r\n// Binary data with curl is working:\r\n\r\n// curl -i -u admin:password -XPOST https://api.com/endpoint --data-binary &#39;@file.xml&#39; -H &quot;Content-Type:application/xml;charset=utf-8&quot;\r\n\r\n// Here i try it in java (Spring) with binary file data\r\n\r\nwebClient.post()\r\n\t\t .uri(&quot;https://myapi.endpoint&quot;)\r\n\t\t .contentType(MediaType.APPLICATION_XML) // i also tried text/xml and application/octet/stream\r\n\t\t .headers(h -&gt; h.setBasicAuth(DEV_API_USER, DEV_PASSWORD))\r\n\t\t .body(BodyInserters.fromResouce(xmlFile))\r\n\t\t .retrieve()\r\n\t\t .bodyToMono(String.class)\r\n\t\t .block();\r\n\r\n// This doesnt work too\r\n```\r\n\r\nI always got a webclientresponseexception, with status code 500 or 400:\r\n\r\n```\r\njava.lang.IllegalStateException: Failed to execute CommandLineRunner\r\n\tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:794) ~[spring-boot-2.5.4.jar:2.5.4]\r\n\tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:775) ~[spring-boot-2.5.4.jar:2.5.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:345) ~[spring-boot-2.5.4.jar:2.5.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.4.jar:2.5.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.4.jar:2.5.4]\r\n\tat de.hbznrw.deepgreen.DeepgreenApplication.main(DeepgreenApplication.java:10) ~[classes/:na]\r\nCaused by: org.springframework.web.reactive.function.client.WebClientResponseException$BadRequest: 400 Bad Request from POST https://myapi.endpoint\r\n\tat org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:196) ~[spring-webflux-5.3.9.jar:5.3.9]\r\n\tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\nError has been observed at the following site(s):\r\n\t|_ checkpoint  400 from POST https://myapi.endpoint [DefaultWebClient]\r\nStack trace:\r\n\t\tat org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:196) ~[spring-webflux-5.3.9.jar:5.3.9]\r\n\t\tat org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:213) ~[spring-webflux-5.3.9.jar:5.3.9]\r\n\t\tat reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\t\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\t\tat reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onNext(FluxDefaultIfEmpty.java:101) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\t\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:127) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\t\tat reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\t\tat reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onNext(FluxMapFuseable.java:295) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\t\tat reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onNext(FluxFilterFuseable.java:337) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\t\tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\t\tat reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:159) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\t\tat reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:142) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\t\tat reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:142) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\t\tat reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:400) ~[reactor-netty-core-1.0.10.jar:1.0.10]\r\n\t\tat reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:419) ~[reactor-netty-core-1.0.10.jar:1.0.10]\r\n\t\tat reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:473) ~[reactor-netty-core-1.0.10.jar:1.0.10]\r\n\t\tat reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:684) ~[reactor-netty-http-1.0.10.jar:1.0.10]\r\n\t\tat reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:93) ~[reactor-netty-core-1.0.10.jar:1.0.10]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.67.Final.jar:4.1.67.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.67.Final.jar:4.1.67.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.67.Final.jar:4.1.67.Final]\r\n\t\tat io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103) ~[netty-codec-4.1.67.Final.jar:4.1.67.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.67.Final.jar:4.1.67.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.67.Final.jar:4.1.67.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.67.Final.jar:4.1.67.Final]\r\n\t\tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[netty-transport-4.1.67.Final.jar:4.1.67.Final]\r\n\t\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324) ~[netty-codec-4.1.67.Final.jar:4.1.67.Final]\r\n\t\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296) ~[netty-codec-4.1.67.Final.jar:4.1.67.Final]\r\n\t\tat io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[netty-transport-4.1.67.Final.jar:4.1.67.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.67.Final.jar:4.1.67.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.67.Final.jar:4.1.67.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.67.Final.jar:4.1.67.Final]\r\n\t\tat io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1373) ~[netty-handler-4.1.67.Final.jar:4.1.67.Final]\r\n\t\tat io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1236) ~[netty-handler-4.1.67.Final.jar:4.1.67.Final]\r\n\t\tat io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1285) ~[netty-handler-4.1.67.Final.jar:4.1.67.Final]\r\n\t\tat io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:507) ~[netty-codec-4.1.67.Final.jar:4.1.67.Final]\r\n\t\tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:446) ~[netty-codec-4.1.67.Final.jar:4.1.67.Final]\r\n\t\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276) ~[netty-codec-4.1.67.Final.jar:4.1.67.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.67.Final.jar:4.1.67.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.67.Final.jar:4.1.67.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.67.Final.jar:4.1.67.Final]\r\n\t\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.67.Final.jar:4.1.67.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.67.Final.jar:4.1.67.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.67.Final.jar:4.1.67.Final]\r\n\t\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.67.Final.jar:4.1.67.Final]\r\n\t\tat io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:795) ~[netty-transport-native-epoll-4.1.67.Final-linux-x86_64.jar:4.1.67.Final]\r\n\t\tat io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:480) ~[netty-transport-native-epoll-4.1.67.Final-linux-x86_64.jar:4.1.67.Final]\r\n\t\tat io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:378) ~[netty-transport-native-epoll-4.1.67.Final-linux-x86_64.jar:4.1.67.Final]\r\n\t\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986) ~[netty-common-4.1.67.Final.jar:4.1.67.Final]\r\n\t\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.67.Final.jar:4.1.67.Final]\r\n\t\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.67.Final.jar:4.1.67.Final]\r\n\t\tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n\t\r\nSuppressed: java.lang.Exception: #block terminated with an error\r\n\t\tat reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\t\tat reactor.core.publisher.Mono.block(Mono.java:1704) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\t\tat de.hbznrw.deepgreen.service.AppService.xmlToMetadata(AppService.java:113) ~[classes/:na]\r\n\t\tat de.hbznrw.deepgreen.runner.AppRunner.run(AppRunner.java:49) ~[classes/:na]\r\n\t\tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:791) ~[spring-boot-2.5.4.jar:2.5.4]\r\n\t\tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:775) ~[spring-boot-2.5.4.jar:2.5.4]\r\n\t\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:345) ~[spring-boot-2.5.4.jar:2.5.4]\r\n\t\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.4.jar:2.5.4]\r\n\t\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.4.jar:2.5.4]\r\n\t\tat de.hbznrw.deepgreen.DeepgreenApplication.main(DeepgreenApplication.java:10) ~[classes/:na]\r\n```\r\nSomebody has an idea and can solve my problem? Thank you!","title":"Spring WebClient post request xml file as binary or as raw data is not working","body":"<p>I want to send a post request with Spring webclient. I want to send a xml file as binary or as raw, the api accepts both. When i use curl it is working fine and the xml file is uploaded, but in my java program i always got an exception. I cann understand where the issue is.</p>\n<pre><code>//Raw data with curl is working:\n\n//curl -i -u admin:password -XPOST https://myapi.endpoint --data-raw '&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;' -H &quot;Content-Type:application/xml;charset=utf-8&quot;\n\n// Here i try it in java (Spring) with raw xml data\n\nbyte[] bytes = new FileSystemResource(xmlFile).getInputStream().readAllBytes();\n\nwebClient.post()\n         .uri(&quot;https://myapi.endpoint&quot;)\n         .contentType(MediaType.APPLICATION_XML) // i also tried text/xml and application/octet/stream\n         .headers(h -&gt; h.setBasicAuth(DEV_API_USER, DEV_PASSWORD))\n         .bodyValue(new String(bytes))\n         .retrieve()\n         .bodyToMono(String.class)\n         .block();\n\n// This doesnt work\n\n\n// Binary data with curl is working:\n\n// curl -i -u admin:password -XPOST https://api.com/endpoint --data-binary '@file.xml' -H &quot;Content-Type:application/xml;charset=utf-8&quot;\n\n// Here i try it in java (Spring) with binary file data\n\nwebClient.post()\n         .uri(&quot;https://myapi.endpoint&quot;)\n         .contentType(MediaType.APPLICATION_XML) // i also tried text/xml and application/octet/stream\n         .headers(h -&gt; h.setBasicAuth(DEV_API_USER, DEV_PASSWORD))\n         .body(BodyInserters.fromResouce(xmlFile))\n         .retrieve()\n         .bodyToMono(String.class)\n         .block();\n\n// This doesnt work too\n</code></pre>\n<p>I always got a webclientresponseexception, with status code 500 or 400:</p>\n<pre><code>java.lang.IllegalStateException: Failed to execute CommandLineRunner\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:794) ~[spring-boot-2.5.4.jar:2.5.4]\n    at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:775) ~[spring-boot-2.5.4.jar:2.5.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:345) ~[spring-boot-2.5.4.jar:2.5.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.4.jar:2.5.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.4.jar:2.5.4]\n    at de.hbznrw.deepgreen.DeepgreenApplication.main(DeepgreenApplication.java:10) ~[classes/:na]\nCaused by: org.springframework.web.reactive.function.client.WebClientResponseException$BadRequest: 400 Bad Request from POST https://myapi.endpoint\n    at org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:196) ~[spring-webflux-5.3.9.jar:5.3.9]\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \nError has been observed at the following site(s):\n    |_ checkpoint  400 from POST https://myapi.endpoint [DefaultWebClient]\nStack trace:\n        at org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:196) ~[spring-webflux-5.3.9.jar:5.3.9]\n        at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:213) ~[spring-webflux-5.3.9.jar:5.3.9]\n        at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[reactor-core-3.4.9.jar:3.4.9]\n        at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79) ~[reactor-core-3.4.9.jar:3.4.9]\n        at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onNext(FluxDefaultIfEmpty.java:101) ~[reactor-core-3.4.9.jar:3.4.9]\n        at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:127) ~[reactor-core-3.4.9.jar:3.4.9]\n        at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107) ~[reactor-core-3.4.9.jar:3.4.9]\n        at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onNext(FluxMapFuseable.java:295) ~[reactor-core-3.4.9.jar:3.4.9]\n        at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onNext(FluxFilterFuseable.java:337) ~[reactor-core-3.4.9.jar:3.4.9]\n        at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816) ~[reactor-core-3.4.9.jar:3.4.9]\n        at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:159) ~[reactor-core-3.4.9.jar:3.4.9]\n        at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:142) ~[reactor-core-3.4.9.jar:3.4.9]\n        at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[reactor-core-3.4.9.jar:3.4.9]\n        at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:142) ~[reactor-core-3.4.9.jar:3.4.9]\n        at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:400) ~[reactor-netty-core-1.0.10.jar:1.0.10]\n        at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:419) ~[reactor-netty-core-1.0.10.jar:1.0.10]\n        at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:473) ~[reactor-netty-core-1.0.10.jar:1.0.10]\n        at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:684) ~[reactor-netty-http-1.0.10.jar:1.0.10]\n        at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:93) ~[reactor-netty-core-1.0.10.jar:1.0.10]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.67.Final.jar:4.1.67.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.67.Final.jar:4.1.67.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.67.Final.jar:4.1.67.Final]\n        at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103) ~[netty-codec-4.1.67.Final.jar:4.1.67.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.67.Final.jar:4.1.67.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.67.Final.jar:4.1.67.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.67.Final.jar:4.1.67.Final]\n        at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[netty-transport-4.1.67.Final.jar:4.1.67.Final]\n        at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324) ~[netty-codec-4.1.67.Final.jar:4.1.67.Final]\n        at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296) ~[netty-codec-4.1.67.Final.jar:4.1.67.Final]\n        at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[netty-transport-4.1.67.Final.jar:4.1.67.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.67.Final.jar:4.1.67.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.67.Final.jar:4.1.67.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.67.Final.jar:4.1.67.Final]\n        at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1373) ~[netty-handler-4.1.67.Final.jar:4.1.67.Final]\n        at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1236) ~[netty-handler-4.1.67.Final.jar:4.1.67.Final]\n        at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1285) ~[netty-handler-4.1.67.Final.jar:4.1.67.Final]\n        at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:507) ~[netty-codec-4.1.67.Final.jar:4.1.67.Final]\n        at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:446) ~[netty-codec-4.1.67.Final.jar:4.1.67.Final]\n        at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276) ~[netty-codec-4.1.67.Final.jar:4.1.67.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.67.Final.jar:4.1.67.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.67.Final.jar:4.1.67.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.67.Final.jar:4.1.67.Final]\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.67.Final.jar:4.1.67.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.67.Final.jar:4.1.67.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.67.Final.jar:4.1.67.Final]\n        at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.67.Final.jar:4.1.67.Final]\n        at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:795) ~[netty-transport-native-epoll-4.1.67.Final-linux-x86_64.jar:4.1.67.Final]\n        at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:480) ~[netty-transport-native-epoll-4.1.67.Final-linux-x86_64.jar:4.1.67.Final]\n        at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:378) ~[netty-transport-native-epoll-4.1.67.Final-linux-x86_64.jar:4.1.67.Final]\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986) ~[netty-common-4.1.67.Final.jar:4.1.67.Final]\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.67.Final.jar:4.1.67.Final]\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.67.Final.jar:4.1.67.Final]\n        at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\n    \nSuppressed: java.lang.Exception: #block terminated with an error\n        at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99) ~[reactor-core-3.4.9.jar:3.4.9]\n        at reactor.core.publisher.Mono.block(Mono.java:1704) ~[reactor-core-3.4.9.jar:3.4.9]\n        at de.hbznrw.deepgreen.service.AppService.xmlToMetadata(AppService.java:113) ~[classes/:na]\n        at de.hbznrw.deepgreen.runner.AppRunner.run(AppRunner.java:49) ~[classes/:na]\n        at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:791) ~[spring-boot-2.5.4.jar:2.5.4]\n        at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:775) ~[spring-boot-2.5.4.jar:2.5.4]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:345) ~[spring-boot-2.5.4.jar:2.5.4]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.4.jar:2.5.4]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.4.jar:2.5.4]\n        at de.hbznrw.deepgreen.DeepgreenApplication.main(DeepgreenApplication.java:10) ~[classes/:na]\n</code></pre>\n<p>Somebody has an idea and can solve my problem? Thank you!</p>\n"},{"tags":["java","eclipse","jakarta-ee","servlet-4"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1628487141,"post_id":68707177,"comment_id":121423561,"body_markdown":"What capabilities specifically are you wanting from Servlet 5?","body":"What capabilities specifically are you wanting from Servlet 5?"},{"owner":{"account_id":20610705,"reputation":207,"user_id":15129964,"display_name":"Ashish Goyanka"},"score":0,"creation_date":1628487462,"post_id":68707177,"comment_id":121423638,"body_markdown":"The main reason for upgrading to servlet 5.0 is Jetty11. because this is Jetty11&#39;s prerequisite.","body":"The main reason for upgrading to servlet 5.0 is Jetty11. because this is Jetty11&#39;s prerequisite."},{"owner":{"account_id":104440,"reputation":5525,"user_id":279236,"display_name":"jwenting"},"score":0,"creation_date":1628497777,"post_id":68707177,"comment_id":121426867,"body_markdown":"@AshishGoyanka then you probably just need to change the servlet specification version in your deployment descriptors...","body":"@AshishGoyanka then you probably just need to change the servlet specification version in your deployment descriptors..."}],"answers":[{"tags":[],"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667550117,"creation_date":1628489999,"answer_id":68707603,"question_id":68707177,"body_markdown":"&gt;1. Please explain about this new term Jakarta like how does this come into the picture?\r\n\r\nOracle maintained Java EE, on September 2017 Oracle Announced that Java EE will be submitted to Eclipse Foundation. &quot;Java&quot; is a trademark owned by Oracle so &quot;Java EE&quot; was renamed to &quot;Jakarta EE&quot;.   \r\n\r\n&gt;2. is this the only way to use Jakarta APIs to upgrade servlet 5.0. can we use old &#39;javax.servlet-api&#39; ?\r\n&gt;3. I see, Jakarta was also there in the 4.0 version but we were not using it. does it not having any dependency with servlet 4. ? https://mvnrepository.com/artifact/jakarta.servlet/jakarta.servlet-api\r\n\r\nThe first release of Jakarta EE 8 includes Servlet 4.x and it is compatible with Java EE 8. Java EE 8 and Jakarta EE 8 use` javax.*` namespace.\r\n\r\nIt doesn&#39;t matter which one you are using both will work with each other.\r\n\r\n&gt;what are the other things need to be required to upgrade servlet 4.0 to servlet 5.0?\r\n\r\nTo upgrade to Servlet 5.0, you must use Jakarta EE 9. From Jakarta EE 9 the namespace is changed from `javax.*` to `jakarta.*` so you must alter all `javax.*` packages imports to `jakarta.*` packages.\r\n\r\nAlso, if you are using any other libraries, you must use a compatible version. \r\n\r\nThe maven dependency for Jakarta EE Web API is the following.\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.jakartaee-web-api&lt;/artifactId&gt;\r\n    &lt;version&gt;9.1.0&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n``` \r\n\r\nREF: [GitHub Template for Jakarta EE 9 Web](https://github.com/seenukarthi/jakartaee-web-template)\r\n","title":"upgrade servlet 4.0.1 to servlet 5.0","body":"<blockquote>\n<ol>\n<li>Please explain about this new term Jakarta like how does this come into the picture?</li>\n</ol>\n</blockquote>\n<p>Oracle maintained Java EE, on September 2017 Oracle Announced that Java EE will be submitted to Eclipse Foundation. &quot;Java&quot; is a trademark owned by Oracle so &quot;Java EE&quot; was renamed to &quot;Jakarta EE&quot;.</p>\n<blockquote>\n<ol start=\"2\">\n<li>is this the only way to use Jakarta APIs to upgrade servlet 5.0. can we use old 'javax.servlet-api' ?</li>\n<li>I see, Jakarta was also there in the 4.0 version but we were not using it. does it not having any dependency with servlet 4. ? <a href=\"https://mvnrepository.com/artifact/jakarta.servlet/jakarta.servlet-api\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/jakarta.servlet/jakarta.servlet-api</a></li>\n</ol>\n</blockquote>\n<p>The first release of Jakarta EE 8 includes Servlet 4.x and it is compatible with Java EE 8. Java EE 8 and Jakarta EE 8 use<code> javax.*</code> namespace.</p>\n<p>It doesn't matter which one you are using both will work with each other.</p>\n<blockquote>\n<p>what are the other things need to be required to upgrade servlet 4.0 to servlet 5.0?</p>\n</blockquote>\n<p>To upgrade to Servlet 5.0, you must use Jakarta EE 9. From Jakarta EE 9 the namespace is changed from <code>javax.*</code> to <code>jakarta.*</code> so you must alter all <code>javax.*</code> packages imports to <code>jakarta.*</code> packages.</p>\n<p>Also, if you are using any other libraries, you must use a compatible version.</p>\n<p>The maven dependency for Jakarta EE Web API is the following.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.jakartaee-web-api&lt;/artifactId&gt;\n    &lt;version&gt;9.1.0&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>REF: <a href=\"https://github.com/seenukarthi/jakartaee-web-template\" rel=\"nofollow noreferrer\">GitHub Template for Jakarta EE 9 Web</a></p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1659494192,"creation_date":1628496892,"answer_id":68708846,"question_id":68707177,"body_markdown":"# Servlet spec\r\n\r\nYou said:\r\n\r\n&gt;I am upgrading servlet 4.0.1 to servlet 5.0.\r\n\r\nNo, that is not actually an &#171;&#160;upgrade&#160;&#187;. \r\n\r\nThere is no significant change in the Servlet spec between 4.0 and 5.0, other than moving from `javax.*` to `jakarta.*` package naming. \r\n\r\nThis change in namespace is one phase in the transition of [Oracle Corp][1] transferring responsibility for Java EE technologies to the [Eclipse Foundation][2], becoming [Jakarta EE][3]. \r\n\r\nYou will *not* benefit from any new features or improvements by moving to [Servlet 5][4] from Servlet 4.\r\n\r\nIn contrast, [Jakarta Servlet 6][5] does bring signifiant changes and improvements. \r\n\r\n# Jetty\r\n\r\nYou commented:\r\n\r\n&gt;The main reason for upgrading to servlet 5.0 is Jetty11. because this is Jetty11&#39;s prerequisite. \r\n\r\nJetty 10 is the same as Jetty 11, but for the change in package name from `javax.*` to `jakarta.*`. The two versions are developed in parallel. There are no better features or improvements to be found in Jetty 11 over Jetty 10. \r\n\r\n(By the way, ditto for Apache Tomcat 9.x and Tomcat 10.0, parallel versions for package naming change.)\r\n\r\n&#128073; If you want to be conservative for now, stick with Jetty 10 and the `javax.*` package naming. If you want to prepare for the future, use Jetty 11 and `jakarta.*` package naming.\r\n\r\n\r\n----------\r\n\r\n\r\nThere are [*many* articles, presentations, and interviews][6] about the transition with Oracle Corp handing control of Java EE to the Eclipse Foundation, and the accompanying name change to Jakarta EE. You really should **do some basic industry research** on this Oracle-to-Jakarta topic, to understand the changes. [Start with Wikipedia][7].\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Oracle_Corporation\r\n  [2]: https://en.wikipedia.org/wiki/Eclipse_Foundation\r\n  [3]: https://jakarta.ee/\r\n  [4]: https://jakarta.ee/specifications/servlet/5.0/\r\n  [5]: https://jakarta.ee/specifications/servlet/6.0/\r\n  [6]: https://duckduckgo.com/?q=oracle%20java%20ee%20eclipse%20jakarta%20ee&amp;t=osx&amp;ia=web\r\n  [7]: https://en.wikipedia.org/wiki/Jakarta_EE","title":"upgrade servlet 4.0.1 to servlet 5.0","body":"<h1>Servlet spec</h1>\n<p>You said:</p>\n<blockquote>\n<p>I am upgrading servlet 4.0.1 to servlet 5.0.</p>\n</blockquote>\n<p>No, that is not actually an upgrade.</p>\n<p>There is no significant change in the Servlet spec between 4.0 and 5.0, other than moving from <code>javax.*</code> to <code>jakarta.*</code> package naming.</p>\n<p>This change in namespace is one phase in the transition of <a href=\"https://en.wikipedia.org/wiki/Oracle_Corporation\" rel=\"nofollow noreferrer\">Oracle Corp</a> transferring responsibility for Java EE technologies to the <a href=\"https://en.wikipedia.org/wiki/Eclipse_Foundation\" rel=\"nofollow noreferrer\">Eclipse Foundation</a>, becoming <a href=\"https://jakarta.ee/\" rel=\"nofollow noreferrer\">Jakarta EE</a>.</p>\n<p>You will <em>not</em> benefit from any new features or improvements by moving to <a href=\"https://jakarta.ee/specifications/servlet/5.0/\" rel=\"nofollow noreferrer\">Servlet 5</a> from Servlet 4.</p>\n<p>In contrast, <a href=\"https://jakarta.ee/specifications/servlet/6.0/\" rel=\"nofollow noreferrer\">Jakarta Servlet 6</a> does bring signifiant changes and improvements.</p>\n<h1>Jetty</h1>\n<p>You commented:</p>\n<blockquote>\n<p>The main reason for upgrading to servlet 5.0 is Jetty11. because this is Jetty11's prerequisite.</p>\n</blockquote>\n<p>Jetty 10 is the same as Jetty 11, but for the change in package name from <code>javax.*</code> to <code>jakarta.*</code>. The two versions are developed in parallel. There are no better features or improvements to be found in Jetty 11 over Jetty 10.</p>\n<p>(By the way, ditto for Apache Tomcat 9.x and Tomcat 10.0, parallel versions for package naming change.)</p>\n<p> If you want to be conservative for now, stick with Jetty 10 and the <code>javax.*</code> package naming. If you want to prepare for the future, use Jetty 11 and <code>jakarta.*</code> package naming.</p>\n<hr />\n<p>There are <a href=\"https://duckduckgo.com/?q=oracle%20java%20ee%20eclipse%20jakarta%20ee&amp;t=osx&amp;ia=web\" rel=\"nofollow noreferrer\"><em>many</em> articles, presentations, and interviews</a> about the transition with Oracle Corp handing control of Java EE to the Eclipse Foundation, and the accompanying name change to Jakarta EE. You really should <strong>do some basic industry research</strong> on this Oracle-to-Jakarta topic, to understand the changes. <a href=\"https://en.wikipedia.org/wiki/Jakarta_EE\" rel=\"nofollow noreferrer\">Start with Wikipedia</a>.</p>\n"}],"owner":{"account_id":20610705,"reputation":207,"user_id":15129964,"display_name":"Ashish Goyanka"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5705,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":68708846,"answer_count":2,"score":4,"last_activity_date":1667550117,"creation_date":1628486573,"question_id":68707177,"body_markdown":"I am upgrading servlet 4.0.1 to servlet 5.0. I was using below maven dependency for servlet 4.0.1 \r\n\r\n```xml\r\n&lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n        &lt;version&gt;4.0.1&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt; \r\n```\r\n\r\nWhen I am upgrading to servlet 5.0 then I see that There is a new term &#39;Jakarta&#39; and servlet5 comes with Jakarta API with below maven dependency.\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n  &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n  &lt;version&gt;5.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nSo, there are below questions I tried to search on the internet but couldn&#39;t find\r\n\r\n1. Please explain about this new term Jakarta like how does this come into the picture? \r\n2. is this the only way to use Jakarta APIs to upgrade servlet 5.0. can we use old &#39;javax.servlet-api&#39; ? \r\n3. I see, Jakarta was also there in the 4.0 version but we were not using it. does it not having any dependency with servlet 4. ?\r\nhttps://mvnrepository.com/artifact/jakarta.servlet/jakarta.servlet-api\r\n4. what are the other things need to be required to upgrade servlet 4.0 to servlet 5.0?\r\n\r\nPlease also suggest any docs for reference if any\r\n\r\n","title":"upgrade servlet 4.0.1 to servlet 5.0","body":"<p>I am upgrading servlet 4.0.1 to servlet 5.0. I was using below maven dependency for servlet 4.0.1</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;4.0.1&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt; \n</code></pre>\n<p>When I am upgrading to servlet 5.0 then I see that There is a new term 'Jakarta' and servlet5 comes with Jakarta API with below maven dependency.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n  &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n  &lt;version&gt;5.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>So, there are below questions I tried to search on the internet but couldn't find</p>\n<ol>\n<li>Please explain about this new term Jakarta like how does this come into the picture?</li>\n<li>is this the only way to use Jakarta APIs to upgrade servlet 5.0. can we use old 'javax.servlet-api' ?</li>\n<li>I see, Jakarta was also there in the 4.0 version but we were not using it. does it not having any dependency with servlet 4. ?\n<a href=\"https://mvnrepository.com/artifact/jakarta.servlet/jakarta.servlet-api\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/jakarta.servlet/jakarta.servlet-api</a></li>\n<li>what are the other things need to be required to upgrade servlet 4.0 to servlet 5.0?</li>\n</ol>\n<p>Please also suggest any docs for reference if any</p>\n"},{"tags":["java","intellij-idea","velocity","resourcemanager"],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1300730888,"creation_date":1300706979,"answer_id":5377016,"question_id":5376874,"body_markdown":"I run into this all the time.\r\n\r\nOpen Settings-&gt;Compiler and add &quot;?*.vm&quot; to the list of resources.  That way it&#39;ll be copied into your /out directories.  Make sure the root of the path to the .vm files is marked as source in your project, and the class loader should find it.\r\n\r\nMove the /generate folder out from under /src; put it at the same level as /src.  Mark it as &quot;source&quot; in your module settings and try it again by starting the access path at &quot;templates&quot;.","title":"Velocity ResourceNotFoundException in IntelliJ IDEA","body":"<p>I run into this all the time.</p>\n\n<p>Open Settings->Compiler and add \"?*.vm\" to the list of resources.  That way it'll be copied into your /out directories.  Make sure the root of the path to the .vm files is marked as source in your project, and the class loader should find it.</p>\n\n<p>Move the /generate folder out from under /src; put it at the same level as /src.  Mark it as \"source\" in your module settings and try it again by starting the access path at \"templates\".</p>\n"},{"tags":[],"owner":{"account_id":728375,"reputation":11,"user_id":669308,"display_name":"sasasamamama"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1300777146,"creation_date":1300777146,"answer_id":5387813,"question_id":5376874,"body_markdown":"Okay, now it works after removing everything related to the VelocityEngine, so it&#39;s just something like\r\n\r\n    Template t0 = Velocity.getTemplate(&quot;src/generate/templates/ValueTmpl.vm&quot;);\r\n    t0.merge(context, writer);\r\n\r\nThanks to [Jason Dusek][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/48251/jason-dusek","title":"Velocity ResourceNotFoundException in IntelliJ IDEA","body":"<p>Okay, now it works after removing everything related to the VelocityEngine, so it's just something like</p>\n\n<pre><code>Template t0 = Velocity.getTemplate(\"src/generate/templates/ValueTmpl.vm\");\nt0.merge(context, writer);\n</code></pre>\n\n<p>Thanks to <a href=\"https://stackoverflow.com/users/48251/jason-dusek\">Jason Dusek</a>.</p>\n"},{"tags":[],"owner":{"account_id":2173411,"reputation":1261,"user_id":1924741,"accept_rate":44,"display_name":"Rakesh Kumar Cherukuri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395217904,"creation_date":1395217904,"answer_id":22500164,"question_id":5376874,"body_markdown":"I know its been asked long back. But couldnt stop myself from posting as it took me quite a while in figuring out whats hapening with intellij idea.\r\n\r\nWith intellj idea, velocity is trying to find the template file in &quot;Project&quot; folder instead of &quot;Module&quot; class path. I am pretty sure i might be short of some configuration in intellij idea to make it look into module class path. Nevertheless, if you copy the velocity template to intelli idea project folder everything will work.\r\n\r\nAgree thats a dumb thing to do but so far couldnt figure out a way to configure intelij idea otherwise. Anyone, any pointers ?","title":"Velocity ResourceNotFoundException in IntelliJ IDEA","body":"<p>I know its been asked long back. But couldnt stop myself from posting as it took me quite a while in figuring out whats hapening with intellij idea.</p>\n\n<p>With intellj idea, velocity is trying to find the template file in \"Project\" folder instead of \"Module\" class path. I am pretty sure i might be short of some configuration in intellij idea to make it look into module class path. Nevertheless, if you copy the velocity template to intelli idea project folder everything will work.</p>\n\n<p>Agree thats a dumb thing to do but so far couldnt figure out a way to configure intelij idea otherwise. Anyone, any pointers ?</p>\n"},{"tags":[],"owner":{"account_id":11048114,"reputation":140,"user_id":8113460,"display_name":"Allen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499255209,"creation_date":1499255209,"answer_id":44925345,"question_id":5376874,"body_markdown":"[https://stackoverflow.com/a/38812523/8113460][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/38812523/8113460\r\n\r\nI put my .vm under the `src/main/resources/templates`, then the code is :\r\n\r\n    Properties p = new Properties();\r\n    p.setProperty(&quot;resource.loader&quot;, &quot;class&quot;);\r\n    p.setProperty(&quot;class.resource.loader.class&quot;, &quot;org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader&quot;);\r\n    Velocity.init( p );       \r\n    VelocityContext context = new VelocityContext();           \r\n    Template template = Velocity.getTemplate(&quot;templates/my.vm&quot;);\r\n\r\nthis works in web project.","title":"Velocity ResourceNotFoundException in IntelliJ IDEA","body":"<p><a href=\"https://stackoverflow.com/a/38812523/8113460\">https://stackoverflow.com/a/38812523/8113460</a></p>\n\n<p>I put my .vm under the <code>src/main/resources/templates</code>, then the code is :</p>\n\n<pre><code>Properties p = new Properties();\np.setProperty(\"resource.loader\", \"class\");\np.setProperty(\"class.resource.loader.class\", \"org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader\");\nVelocity.init( p );       \nVelocityContext context = new VelocityContext();           \nTemplate template = Velocity.getTemplate(\"templates/my.vm\");\n</code></pre>\n\n<p>this works in web project.</p>\n"}],"owner":{"account_id":728375,"reputation":11,"user_id":669308,"display_name":"sasasamamama"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4713,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1667549706,"creation_date":1300706209,"question_id":5376874,"body_markdown":"I have a Velocity template **ValueTmpl.vm** which can&#39;t be found by the Velocity ResourceManager. A minimal example:\r\n\r\n    package generate;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileWriter;\r\n    import java.io.Writer;\r\n    import org.apache.velocity.app.Velocity;\r\n    import org.apache.velocity.app.VelocityEngine;\r\n    import org.apache.velocity.Template;\r\n    import org.apache.velocity.VelocityContext;\r\n\r\n    public class Generate {\r\n        public static void main(String[] args) throws Exception {\r\n            VelocityContext context = new VelocityContext();\r\n            context.put(&quot;key&quot;, &quot;value&quot;);\r\n            Writer writer = new FileWriter(new File(&quot;Result.java&quot;));\r\n            createTemplate(&quot;generate/templates/ValueTmpl.vm&quot;).merge(context, writer);\r\n            writer.close();\r\n        }\r\n\r\n        private static Template createTemplate(String vmTemplateFile) {\r\n            VelocityEngine ve = new VelocityEngine();\r\n            ve.setProperty(Velocity.RESOURCE_LOADER, &quot;class&quot;);\r\n            ve.setProperty(&quot;class.resource.loader.class&quot;,\r\n                    &quot;org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader&quot;);\r\n            ve.init();\r\n            return ve.getTemplate(vmTemplateFile);\r\n        }\r\n    }\r\n\r\nThe **generate** folder is in the root of the **src** directory. I get the following error:\r\n\r\n    21.03.2011 13:09:01 org.apache.velocity.runtime.log.JdkLogChute log\r\n    SEVERE: ResourceManager : unable to find resource &#39;generate/templates/ValueTmpl.vm&#39; in any resource loader.\r\n    Exception in thread &quot;main&quot; org.apache.velocity.exception.ResourceNotFoundException: Unable to find resource &#39;generate/templates/ValueTmpl.vm&#39;\r\n\r\nDoes someone know what the problem can be? Should I change something in the project settings?\r\n\r\nThanks in advance!","title":"Velocity ResourceNotFoundException in IntelliJ IDEA","body":"<p>I have a Velocity template <strong>ValueTmpl.vm</strong> which can't be found by the Velocity ResourceManager. A minimal example:</p>\n\n<pre><code>package generate;\n\nimport java.io.File;\nimport java.io.FileWriter;\nimport java.io.Writer;\nimport org.apache.velocity.app.Velocity;\nimport org.apache.velocity.app.VelocityEngine;\nimport org.apache.velocity.Template;\nimport org.apache.velocity.VelocityContext;\n\npublic class Generate {\n    public static void main(String[] args) throws Exception {\n        VelocityContext context = new VelocityContext();\n        context.put(\"key\", \"value\");\n        Writer writer = new FileWriter(new File(\"Result.java\"));\n        createTemplate(\"generate/templates/ValueTmpl.vm\").merge(context, writer);\n        writer.close();\n    }\n\n    private static Template createTemplate(String vmTemplateFile) {\n        VelocityEngine ve = new VelocityEngine();\n        ve.setProperty(Velocity.RESOURCE_LOADER, \"class\");\n        ve.setProperty(\"class.resource.loader.class\",\n                \"org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader\");\n        ve.init();\n        return ve.getTemplate(vmTemplateFile);\n    }\n}\n</code></pre>\n\n<p>The <strong>generate</strong> folder is in the root of the <strong>src</strong> directory. I get the following error:</p>\n\n<pre><code>21.03.2011 13:09:01 org.apache.velocity.runtime.log.JdkLogChute log\nSEVERE: ResourceManager : unable to find resource 'generate/templates/ValueTmpl.vm' in any resource loader.\nException in thread \"main\" org.apache.velocity.exception.ResourceNotFoundException: Unable to find resource 'generate/templates/ValueTmpl.vm'\n</code></pre>\n\n<p>Does someone know what the problem can be? Should I change something in the project settings?</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","data-structures","groovy"],"comments":[{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":3,"creation_date":1667550796,"post_id":74313880,"comment_id":131197256,"body_markdown":"json should look like this: `{ &quot;_district&quot;: &quot;_1_2_5village&quot;, &quot;_name&quot;: &quot;_1_1_2id_inter&quot;, &quot;_gender&quot;: &quot;_1_3_5sex&quot; }`","body":"json should look like this: <code>{ &quot;_district&quot;: &quot;_1_2_5village&quot;, &quot;_name&quot;: &quot;_1_1_2id_inter&quot;, &quot;_gender&quot;: &quot;_1_3_5sex&quot; }</code>"},{"owner":{"account_id":4358,"reputation":168410,"user_id":6509,"display_name":"tim_yates"},"score":2,"creation_date":1667562912,"post_id":74313880,"comment_id":131201357,"body_markdown":"If you&#39;re saving invalid text into the database, you probably want to start with fixing that, instead of writing a custom parser","body":"If you&#39;re saving invalid text into the database, you probably want to start with fixing that, instead of writing a custom parser"}],"answers":[{"tags":[],"owner":{"account_id":22807677,"reputation":414,"user_id":16959486,"display_name":"Teddy Tsai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667549663,"creation_date":1667549663,"answer_id":74313953,"question_id":74313880,"body_markdown":"It doesn&#39;t work because that&#39;s not a JSON format, a JSON is a way of mapping objects and uses key value syntax like so:\r\n\r\n```\r\n{&quot;key&quot;: &quot;value&quot;}\r\n```\r\n\r\nand an array would look like this:\r\n```\r\n[{&quot;key&quot;: &quot;value&quot;},{&quot;key&quot;: &quot;value&quot;}]\r\n```\r\nYou&#39;ll need to make a custom parser for your syntax\r\n\r\nHere&#39;s the json specification:\r\n\r\nhttps://www.json.org/json-en.html","title":"How to convert String to Json Object in java or groovy","body":"<p>It doesn't work because that's not a JSON format, a JSON is a way of mapping objects and uses key value syntax like so:</p>\n<pre><code>{&quot;key&quot;: &quot;value&quot;}\n</code></pre>\n<p>and an array would look like this:</p>\n<pre><code>[{&quot;key&quot;: &quot;value&quot;},{&quot;key&quot;: &quot;value&quot;}]\n</code></pre>\n<p>You'll need to make a custom parser for your syntax</p>\n<p>Here's the json specification:</p>\n<p><a href=\"https://www.json.org/json-en.html\" rel=\"nofollow noreferrer\">https://www.json.org/json-en.html</a></p>\n"}],"owner":{"account_id":13020396,"reputation":143,"user_id":9410028,"display_name":"makwasi Crispus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74313953,"answer_count":1,"score":0,"last_activity_date":1667549663,"creation_date":1667549216,"question_id":74313880,"body_markdown":"I saved a json into the database as a string like this:\r\n\r\n`&quot;[_district:_1_2_5village, _name:_1_1_2id_inter, _gender:_1_3_5sex]&quot;`\r\n\r\nNow i want to convert it back to a Json Object so as to pick the key and value eg **_district** is the key and **_1_2_5village** is the value. Any help on how i can achieve this. Thanks\r\n\r\nI tried to convert the string back into JSON by parsing but that dint work for me.","title":"How to convert String to Json Object in java or groovy","body":"<p>I saved a json into the database as a string like this:</p>\n<p><code>&quot;[_district:_1_2_5village, _name:_1_1_2id_inter, _gender:_1_3_5sex]&quot;</code></p>\n<p>Now i want to convert it back to a Json Object so as to pick the key and value eg <strong>_district</strong> is the key and <strong>_1_2_5village</strong> is the value. Any help on how i can achieve this. Thanks</p>\n<p>I tried to convert the string back into JSON by parsing but that dint work for me.</p>\n"},{"tags":["java","oracle"],"comments":[{"owner":{"account_id":13181158,"reputation":420,"user_id":9520479,"display_name":"Jhilton"},"score":1,"creation_date":1667540384,"post_id":74312601,"comment_id":131194920,"body_markdown":"Use `getColumnName` instead of `getColumnLabel`. You may find the explanation [here](https://stackoverflow.com/questions/4271152/getcolumnlabel-vs-getcolumnname). There may be differences between driver implementations, so check if it gives the correct output","body":"Use <code>getColumnName</code> instead of <code>getColumnLabel</code>. You may find the explanation <a href=\"https://stackoverflow.com/questions/4271152/getcolumnlabel-vs-getcolumnname\">here</a>. There may be differences between driver implementations, so check if it gives the correct output"},{"owner":{"account_id":19372481,"reputation":106,"user_id":14165494,"display_name":"Harish Dalmia"},"score":0,"creation_date":1667540692,"post_id":74312601,"comment_id":131194957,"body_markdown":"Thanks, I tried that. It produces the same result.","body":"Thanks, I tried that. It produces the same result."},{"owner":{"account_id":13181158,"reputation":420,"user_id":9520479,"display_name":"Jhilton"},"score":1,"creation_date":1667540954,"post_id":74312601,"comment_id":131194993,"body_markdown":"Then do you really need the alias ? setting the alias to what you need may be more straightforward. Otherwise there might be limitations if a columns is a calculated value between 2 or more columns","body":"Then do you really need the alias ? setting the alias to what you need may be more straightforward. Otherwise there might be limitations if a columns is a calculated value between 2 or more columns"},{"owner":{"account_id":13181158,"reputation":420,"user_id":9520479,"display_name":"Jhilton"},"score":0,"creation_date":1667541711,"post_id":74312601,"comment_id":131195131,"body_markdown":"Tried it just now and `String columnName = rsmd.getColumnName( i );` did the work in my local environment","body":"Tried it just now and <code>String columnName = rsmd.getColumnName( i );</code> did the work in my local environment"},{"owner":{"account_id":19372481,"reputation":106,"user_id":14165494,"display_name":"Harish Dalmia"},"score":0,"creation_date":1667557743,"post_id":74312601,"comment_id":131199522,"body_markdown":"I have tried again but still it gives the ALIAS name only. Any other suggestions to look forward.","body":"I have tried again but still it gives the ALIAS name only. Any other suggestions to look forward."},{"owner":{"account_id":19372481,"reputation":106,"user_id":14165494,"display_name":"Harish Dalmia"},"score":0,"creation_date":1667559660,"post_id":74312601,"comment_id":131200252,"body_markdown":"Think, in oracle- it is not feasible directly. Ideally - getColumnName() should return the column name but in oracle driver getColumnName() &amp; getColumnLabel() behaves similar way. I will keep open this question for sometime and wait for inputs. If not received, will close.","body":"Think, in oracle- it is not feasible directly. Ideally - getColumnName() should return the column name but in oracle driver getColumnName() &amp; getColumnLabel() behaves similar way. I will keep open this question for sometime and wait for inputs. If not received, will close."},{"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"score":0,"creation_date":1667723721,"post_id":74312601,"comment_id":131231002,"body_markdown":"Curiosity question: why do you do that on the client and not on the server using  DBMS_SQL Api? You could have a PROCEDURE receiving the query text and the name of the temp table to create and doing the job.","body":"Curiosity question: why do you do that on the client and not on the server using  DBMS_SQL Api? You could have a PROCEDURE receiving the query text and the name of the temp table to create and doing the job."}],"owner":{"account_id":19372481,"reputation":106,"user_id":14165494,"display_name":"Harish Dalmia"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667549637,"creation_date":1667539658,"question_id":74312601,"body_markdown":"Creating a DB connection and executing a query \r\n\r\n    SELECT DISTINCT USERNAME AS TEST, SEC_OBJ_CODE AS TEST1 ,SEC_OBJ_MEMBER_VAL, DML_MODE FROM SEC_SECURE_BY_OBJ_MEMBER_USER_TMP;\r\n\r\nNow from the java class, the objective is to create a temporary table with the same column and the below code helps to achieve it but in the output, it prints with column names &quot;TEST&quot; and &quot;TEST1&quot; but the expectation is to get - &quot;USERNAME&quot; and &quot;SEC_OBJ_CODE&quot; as mentioned in the query.\r\n\r\nJava class:\r\n\r\n    PreparedStatement ps = connection.prepareStatement(&quot;SELECT DISTINCT USERNAME AS TEST, SEC_OBJ_CODE AS TEST1 ,SEC_OBJ_MEMBER_VAL, DML_MODE FROM SEC_SECURE_BY_OBJ_MEMBER_USER_TMP&quot;);\r\n                ResultSet rs = ps.executeQuery();\r\n                ResultSetMetaData rsmd = rs.getMetaData();\r\n                int columnCount = rsmd.getColumnCount();\r\n                String tableName = null;\r\n                StringBuilder sb = new StringBuilder( 1024 );\r\n                if ( columnCount &gt; 0 ) {\r\n                    sb.append( &quot;Create table &quot; ).append(&quot;ML_TEMP&quot;).append( rsmd.getTableName( 1 ) ).append( &quot; ( &quot; );\r\n                }\r\n                // for columns\r\n                for ( int i = 1; i &lt;= columnCount; i ++ ) {\r\n                    if ( i &gt; 1 ) sb.append( &quot;, &quot; );\r\n                    String columnName = rsmd.getColumnLabel( i );\r\n                    String columnType = rsmd.getColumnTypeName( i );\r\n    \r\n                    sb.append( columnName ).append( &quot; &quot; ).append( columnType );\r\n    \r\n                    int precision = rsmd.getPrecision( i );\r\n                    if ( precision != 0 ) {\r\n                        sb.append( &quot;( &quot; ).append( precision ).append( &quot; )&quot; );\r\n                    }\r\n                }\r\n                sb.append( &quot; )&quot; );\r\n                System.out.println( sb.toString() );\r\n\r\nOutput : `Create table ML_TEMP ( TEST VARCHAR2( 512 ), TEST1 VARCHAR2( 255 ), SEC_OBJ_MEMBER_VAL VARCHAR2( 4000 ), DML_MODE CHAR( 1 ) );`\r\n\r\nExpectation : `Create table ML_TEMP ( USERNAME VARCHAR2( 512 ), SEC_OBJ_CODE VARCHAR2( 255 ), SEC_OBJ_MEMBER_VAL VARCHAR2( 4000 ), DML_MODE CHAR( 1 ) );`\r\n\r\nAny input is appreciated. Thanks","title":"Oracle - How to get the Original Column names from the metadata when &quot;AS&quot; is used in the query","body":"<p>Creating a DB connection and executing a query</p>\n<pre><code>SELECT DISTINCT USERNAME AS TEST, SEC_OBJ_CODE AS TEST1 ,SEC_OBJ_MEMBER_VAL, DML_MODE FROM SEC_SECURE_BY_OBJ_MEMBER_USER_TMP;\n</code></pre>\n<p>Now from the java class, the objective is to create a temporary table with the same column and the below code helps to achieve it but in the output, it prints with column names &quot;TEST&quot; and &quot;TEST1&quot; but the expectation is to get - &quot;USERNAME&quot; and &quot;SEC_OBJ_CODE&quot; as mentioned in the query.</p>\n<p>Java class:</p>\n<pre><code>PreparedStatement ps = connection.prepareStatement(&quot;SELECT DISTINCT USERNAME AS TEST, SEC_OBJ_CODE AS TEST1 ,SEC_OBJ_MEMBER_VAL, DML_MODE FROM SEC_SECURE_BY_OBJ_MEMBER_USER_TMP&quot;);\n            ResultSet rs = ps.executeQuery();\n            ResultSetMetaData rsmd = rs.getMetaData();\n            int columnCount = rsmd.getColumnCount();\n            String tableName = null;\n            StringBuilder sb = new StringBuilder( 1024 );\n            if ( columnCount &gt; 0 ) {\n                sb.append( &quot;Create table &quot; ).append(&quot;ML_TEMP&quot;).append( rsmd.getTableName( 1 ) ).append( &quot; ( &quot; );\n            }\n            // for columns\n            for ( int i = 1; i &lt;= columnCount; i ++ ) {\n                if ( i &gt; 1 ) sb.append( &quot;, &quot; );\n                String columnName = rsmd.getColumnLabel( i );\n                String columnType = rsmd.getColumnTypeName( i );\n\n                sb.append( columnName ).append( &quot; &quot; ).append( columnType );\n\n                int precision = rsmd.getPrecision( i );\n                if ( precision != 0 ) {\n                    sb.append( &quot;( &quot; ).append( precision ).append( &quot; )&quot; );\n                }\n            }\n            sb.append( &quot; )&quot; );\n            System.out.println( sb.toString() );\n</code></pre>\n<p>Output : <code>Create table ML_TEMP ( TEST VARCHAR2( 512 ), TEST1 VARCHAR2( 255 ), SEC_OBJ_MEMBER_VAL VARCHAR2( 4000 ), DML_MODE CHAR( 1 ) );</code></p>\n<p>Expectation : <code>Create table ML_TEMP ( USERNAME VARCHAR2( 512 ), SEC_OBJ_CODE VARCHAR2( 255 ), SEC_OBJ_MEMBER_VAL VARCHAR2( 4000 ), DML_MODE CHAR( 1 ) );</code></p>\n<p>Any input is appreciated. Thanks</p>\n"},{"tags":["java","spring-boot","rest","matcher"],"comments":[{"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"score":0,"creation_date":1667543514,"post_id":74312673,"comment_id":131195474,"body_markdown":"How did you configure the usage of AntPatternMatcher?","body":"How did you configure the usage of AntPatternMatcher?"},{"owner":{"account_id":14120599,"reputation":453,"user_id":10201184,"display_name":"code-geek"},"score":0,"creation_date":1667555078,"post_id":74312673,"comment_id":131198539,"body_markdown":"@birca123 By default Spring uses AntPatternMatcher. I forced to use Path Matcher by explicitly specifying in application properties","body":"@birca123 By default Spring uses AntPatternMatcher. I forced to use Path Matcher by explicitly specifying in application properties"},{"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"score":0,"creation_date":1667557841,"post_id":74312673,"comment_id":131199553,"body_markdown":"Which spring boot version do you use?","body":"Which spring boot version do you use?"},{"owner":{"account_id":14120599,"reputation":453,"user_id":10201184,"display_name":"code-geek"},"score":0,"creation_date":1667586461,"post_id":74312673,"comment_id":131209821,"body_markdown":"@birca123 I use version 2.5.12","body":"@birca123 I use version 2.5.12"}],"answers":[{"tags":[],"owner":{"account_id":19730115,"reputation":31,"user_id":14445782,"display_name":"thanhyou00"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667549522,"creation_date":1667549522,"answer_id":74313926,"question_id":74312673,"body_markdown":"You can use a simple way as @PathVariable :\r\n\r\n    @RequestMapping(&quot;/order/{id}&quot;)\r\n    public String getById(@PathVariable(&quot;id&quot;) int id) {\r\n      System.out.println(&quot;id is : &quot; + id);\r\n    }","title":"Spring REST API - How to resolve Ambuiguity in AntPattern matcher","body":"<p>You can use a simple way as @PathVariable :</p>\n<pre><code>@RequestMapping(&quot;/order/{id}&quot;)\npublic String getById(@PathVariable(&quot;id&quot;) int id) {\n  System.out.println(&quot;id is : &quot; + id);\n}\n</code></pre>\n"}],"owner":{"account_id":14120599,"reputation":453,"user_id":10201184,"display_name":"code-geek"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667549522,"creation_date":1667540414,"question_id":74312673,"body_markdown":"I have a request mapping path that has a pattern and could be in middle or end of the path containing special characters (most likely &#39;/&#39; and &#39;-&#39;)\r\n\r\n`@RequestMapping(&quot;path1/{pattern}&quot;)` or `@RequestMapping(&quot;path1/{pattern}/remainingPath&quot;)`\r\n\r\nPossibility 1 - /order/orderId12/5 and need to extract `orderId12/5`\r\n\r\nPossibilty 2 -  /order/orderId12/5/details/update/dispatched and need to extract `orderId12/5` only \r\n\r\nWhat I tried so far:\r\n\r\n 1. Using PathPattern like \r\n\r\n        @RequestMapping(&quot;/order/**&quot;)\r\n        @RequestMapping(&quot;/order/{*orderId}/details/update/{status}&quot;)\r\n    \r\nBut did not work as per [Spring documentation][1]\r\n\r\n 2. Using AntPatternMatcher\r\n\r\n        @RequestMapping(&quot;/order/**&quot;)\r\n        @RequestMapping(&quot;/order/**/details/update/{status}&quot;)\r\n\r\nThere is ambiguity here as the second request is falling back to the first request mapping\r\n\r\nHow do I resolve the ambiguity issue?\r\n\r\nThank you!\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/pattern/PathPattern.html#:~:text=Note%3A%20In%20contrast%20to%20AntPathMatcher%2C%20**%20is%20supported%20only%20at%20the%20end%20of%20a%20pattern.%20For%20example%20/pages/%7B**%7D%20is%20valid%20but%20/pages/%7B**%7D/details%20is%20not.%20The%20same%20applies%20also%20to%20the%20capturing%20variant%20%7B*spring%7D.%20The%20aim%20is%20to%20eliminate%20ambiguity%20when%20comparing%20patterns%20for%20specificity.","title":"Spring REST API - How to resolve Ambuiguity in AntPattern matcher","body":"<p>I have a request mapping path that has a pattern and could be in middle or end of the path containing special characters (most likely '/' and '-')</p>\n<p><code>@RequestMapping(&quot;path1/{pattern}&quot;)</code> or <code>@RequestMapping(&quot;path1/{pattern}/remainingPath&quot;)</code></p>\n<p>Possibility 1 - /order/orderId12/5 and need to extract <code>orderId12/5</code></p>\n<p>Possibilty 2 -  /order/orderId12/5/details/update/dispatched and need to extract <code>orderId12/5</code> only</p>\n<p>What I tried so far:</p>\n<ol>\n<li><p>Using PathPattern like</p>\n<pre><code>@RequestMapping(&quot;/order/**&quot;)\n@RequestMapping(&quot;/order/{*orderId}/details/update/{status}&quot;)\n</code></pre>\n</li>\n</ol>\n<p>But did not work as per <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/pattern/PathPattern.html#:%7E:text=Note%3A%20In%20contrast%20to%20AntPathMatcher%2C%20**%20is%20supported%20only%20at%20the%20end%20of%20a%20pattern.%20For%20example%20/pages/%7B**%7D%20is%20valid%20but%20/pages/%7B**%7D/details%20is%20not.%20The%20same%20applies%20also%20to%20the%20capturing%20variant%20%7B*spring%7D.%20The%20aim%20is%20to%20eliminate%20ambiguity%20when%20comparing%20patterns%20for%20specificity.\" rel=\"nofollow noreferrer\">Spring documentation</a></p>\n<ol start=\"2\">\n<li><p>Using AntPatternMatcher</p>\n<pre><code>@RequestMapping(&quot;/order/**&quot;)\n@RequestMapping(&quot;/order/**/details/update/{status}&quot;)\n</code></pre>\n</li>\n</ol>\n<p>There is ambiguity here as the second request is falling back to the first request mapping</p>\n<p>How do I resolve the ambiguity issue?</p>\n<p>Thank you!</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":20180,"reputation":50570,"user_id":47984,"accept_rate":67,"display_name":"j_random_hacker"},"score":0,"creation_date":1415749952,"post_id":26876744,"comment_id":42310881,"body_markdown":"That solution is O(n^2) -- you have nested `for` loops.  And yes, this can be done in O(n), but I&#39;m pretty sure this is homework, so that&#39;s all I&#39;ll say for now.","body":"That solution is O(n^2) -- you have nested <code>for</code> loops.  And yes, this can be done in O(n), but I&#39;m pretty sure this is homework, so that&#39;s all I&#39;ll say for now."},{"owner":{"account_id":771193,"reputation":5905,"user_id":850271,"accept_rate":100,"display_name":"John Roberts"},"score":1,"creation_date":1415749986,"post_id":26876744,"comment_id":42310888,"body_markdown":"It&#39;s an interview question.","body":"It&#39;s an interview question."}],"answers":[{"tags":[],"owner":{"account_id":4872274,"reputation":34930,"user_id":3928341,"display_name":"nem035"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1463585953,"creation_date":1415750354,"answer_id":26876861,"question_id":26876744,"body_markdown":"You solution is `O(N^2)` because you traverse the whole list when finding each word.\r\nFirst you find the first word and then again traverse the whole list to find the second word.\r\n\r\nWhat you can do is use two variables to keep track of the position of each word and calculate the distance with a **single pass** through the list =&gt; `O(N)`.\r\n\r\n    int index1 = -1;\r\n    int index2 = -1;\r\n    int minDistance = Integer.MAX_VALUE;\r\n    int tempDistance = 0;\r\n    \r\n    for (int x = 0; x &lt; strings.length; x++) {\r\n        if (strings[x].equals(targetString)) {\r\n    \t\tindex1 = x;\r\n    \t}\r\n        if (strings[x].equals(targetString2)) {\r\n    \t\tindex2 = x;\r\n    \t}\r\n    \tif (index1 != -1 &amp;&amp; index2 != -1) { // both words have to be found\r\n    \t\ttempDistance = (int) Math.abs(index2 - index1);\r\n    \t\tif (tempDistance &lt; minDistance) {\r\n    \t\t\tminDistance = tempDistance;\r\n    \t\t}\r\n    \t}\r\n    }\r\n    \r\n    System.out.println(&quot;Distance:\\t&quot; + minDistance);","title":"Finding Minimum Distance Between Words in An Array","body":"<p>You solution is <code>O(N^2)</code> because you traverse the whole list when finding each word.\nFirst you find the first word and then again traverse the whole list to find the second word.</p>\n\n<p>What you can do is use two variables to keep track of the position of each word and calculate the distance with a <strong>single pass</strong> through the list => <code>O(N)</code>.</p>\n\n<pre><code>int index1 = -1;\nint index2 = -1;\nint minDistance = Integer.MAX_VALUE;\nint tempDistance = 0;\n\nfor (int x = 0; x &lt; strings.length; x++) {\n    if (strings[x].equals(targetString)) {\n        index1 = x;\n    }\n    if (strings[x].equals(targetString2)) {\n        index2 = x;\n    }\n    if (index1 != -1 &amp;&amp; index2 != -1) { // both words have to be found\n        tempDistance = (int) Math.abs(index2 - index1);\n        if (tempDistance &lt; minDistance) {\n            minDistance = tempDistance;\n        }\n    }\n}\n\nSystem.out.println(\"Distance:\\t\" + minDistance);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7296859,"reputation":1,"user_id":5561309,"display_name":"Keshav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1447487041,"creation_date":1447486558,"answer_id":33706231,"question_id":26876744,"body_markdown":"    import java.util.*;\r\n    public class WordDistance {\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner in=new Scanner(System.in);\r\n            String s=in.nextLine();\r\n            String s1=in.nextLine();\r\n            String s2=in.nextLine();\r\n            int index1=-1;\r\n            int index2=-1;\r\n            boolean flag1=false;\r\n            boolean flag2=false;\r\n            int distance=Integer.MAX_VALUE;\r\n            int answer=Integer.MAX_VALUE;\r\n            String[] sarray=s.split(&quot; &quot;);\r\n            for(int i=0;i&lt;sarray.length;i++)\r\n            {\r\n                if(!s1.equals(s2))\r\n                {\r\n                    flag1=false; flag2=false;\r\n                }\r\n                if(s1.equals(sarray[i]) &amp;&amp; flag1==false)\r\n                {\r\n                    index1=i;\r\n                    flag1=true;\r\n                }\r\n                else\r\n                if(s2.equals(sarray[i]) &amp;&amp; flag2==false)\r\n                {\r\n                        index2=i;\r\n                        flag2=true;\r\n                }\r\n                if(index1!=-1 &amp;&amp; index2!=-1)\r\n                {\r\n                    distance=Math.abs(index1-index2);\r\n                    flag1=false; flag2=false;\r\n                }\r\n                if(distance&lt;answer)\r\n                {\r\n                    answer=distance;\r\n                }\r\n            }\r\n            if(answer==Integer.MAX_VALUE)\r\n            {\r\n                System.out.print(&quot;Words not found&quot;);\r\n            }\r\n            else\r\n            {\r\n                System.out.print(answer);\r\n            }\r\n        }\r\n    }\r\n    \r\n    //**Test Case 1**: the quick the brown quick brown the frog  (frog brown) **O/P 2**\r\n    //**Test Case 2**: the quick the brown quick brown the frog (brown brown) **O/P 2**\r\n    //**Test Case 3**: the brown qucik frog quick the (the quick) **O/P 1**","title":"Finding Minimum Distance Between Words in An Array","body":"<pre><code>import java.util.*;\npublic class WordDistance {\n\n    public static void main(String[] args) {\n        Scanner in=new Scanner(System.in);\n        String s=in.nextLine();\n        String s1=in.nextLine();\n        String s2=in.nextLine();\n        int index1=-1;\n        int index2=-1;\n        boolean flag1=false;\n        boolean flag2=false;\n        int distance=Integer.MAX_VALUE;\n        int answer=Integer.MAX_VALUE;\n        String[] sarray=s.split(\" \");\n        for(int i=0;i&lt;sarray.length;i++)\n        {\n            if(!s1.equals(s2))\n            {\n                flag1=false; flag2=false;\n            }\n            if(s1.equals(sarray[i]) &amp;&amp; flag1==false)\n            {\n                index1=i;\n                flag1=true;\n            }\n            else\n            if(s2.equals(sarray[i]) &amp;&amp; flag2==false)\n            {\n                    index2=i;\n                    flag2=true;\n            }\n            if(index1!=-1 &amp;&amp; index2!=-1)\n            {\n                distance=Math.abs(index1-index2);\n                flag1=false; flag2=false;\n            }\n            if(distance&lt;answer)\n            {\n                answer=distance;\n            }\n        }\n        if(answer==Integer.MAX_VALUE)\n        {\n            System.out.print(\"Words not found\");\n        }\n        else\n        {\n            System.out.print(answer);\n        }\n    }\n}\n\n//**Test Case 1**: the quick the brown quick brown the frog  (frog brown) **O/P 2**\n//**Test Case 2**: the quick the brown quick brown the frog (brown brown) **O/P 2**\n//**Test Case 3**: the brown qucik frog quick the (the quick) **O/P 1**\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7613655,"reputation":7941,"user_id":5773832,"display_name":"sarjit07"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503508180,"creation_date":1452860926,"answer_id":34811107,"question_id":26876744,"body_markdown":"Better and simple solution for finding minimum distance between two words in a given paragraph.\r\n\r\n        String[] strArray = {&quot;the&quot;,&quot;quick&quot;,&quot;brown&quot;,&quot;fox&quot;,&quot;quick&quot;};\r\n\t\tString str1 = &quot;quick&quot;;\r\n\t\tString str2 = &quot;fox&quot;;\r\n\t\tint i,startIndex=0,minDistnace=100;\r\n\t\tfor( i=0;i&lt;strArray.length;i++){\r\n\t\t\tif(strArray[i].equals(str1)||strArray[i].equals(str2)){\r\n\t\t\t\tstartIndex = i;         //get the first occurence of either word\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor(;i&lt;strArray.length;i++){\r\n\t\t\tif(strArray[i].equals(str1)||strArray[i].equals(str2)){\r\n                //compare every word from that first occurence \r\n                // if words not same and distance less than minimun distance then update\r\n\t\t\t\tif(!strArray[i].equals(strArray[startIndex]) &amp;&amp; (i-startIndex)&lt;minDistance){\r\n\t\t\t\t\tminDistance = i-startIndex;\r\n\t\t\t\t\tstartIndex =i;\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tstartIndex =i;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(minDistance);\r\n\t\r\n\r\n**Time Complexity**: O(n)  \r\n**Space COmplexity**: O(1)","title":"Finding Minimum Distance Between Words in An Array","body":"<p>Better and simple solution for finding minimum distance between two words in a given paragraph.</p>\n\n<pre><code>    String[] strArray = {\"the\",\"quick\",\"brown\",\"fox\",\"quick\"};\n    String str1 = \"quick\";\n    String str2 = \"fox\";\n    int i,startIndex=0,minDistnace=100;\n    for( i=0;i&lt;strArray.length;i++){\n        if(strArray[i].equals(str1)||strArray[i].equals(str2)){\n            startIndex = i;         //get the first occurence of either word\n            break;\n        }\n    }\n    for(;i&lt;strArray.length;i++){\n        if(strArray[i].equals(str1)||strArray[i].equals(str2)){\n            //compare every word from that first occurence \n            // if words not same and distance less than minimun distance then update\n            if(!strArray[i].equals(strArray[startIndex]) &amp;&amp; (i-startIndex)&lt;minDistance){\n                minDistance = i-startIndex;\n                startIndex =i;\n            }\n            else{\n                startIndex =i;\n            }\n        }\n    }\n    System.out.println(minDistance);\n</code></pre>\n\n<p><strong>Time Complexity</strong>: O(n)<br>\n<strong>Space COmplexity</strong>: O(1)</p>\n"},{"tags":[],"owner":{"account_id":237081,"reputation":2797,"user_id":505002,"display_name":"alejandro"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1490498338,"creation_date":1490498338,"answer_id":43024606,"question_id":26876744,"body_markdown":"    function findMinimumWordDistance(words, wordA, wordB) {\r\n      var wordAIndex = null;\r\n      var wordBIndex = null;\r\n      var minDinstance = null;\r\n      \r\n      for (var i = 0, length = words.length; i &lt; length; i++ ) {\r\n        if (words[i] === wordA) {\r\n          wordAIndex = i;\r\n        }\r\n        \r\n        if (words[i] === wordB) {\r\n          wordBIndex = i;\r\n        }\r\n    \r\n        if ( wordAIndex !== null &amp;&amp; wordBIndex !== null ) {\r\n          var distance = Math.abs(wordAIndex - wordBIndex);\r\n          if(minDinstance === null || minDinstance &gt; distance) {\r\n            minDinstance = distance;\r\n          } \r\n        }\r\n      }\r\n      return minDinstance;\r\n    }","title":"Finding Minimum Distance Between Words in An Array","body":"<pre><code>function findMinimumWordDistance(words, wordA, wordB) {\n  var wordAIndex = null;\n  var wordBIndex = null;\n  var minDinstance = null;\n\n  for (var i = 0, length = words.length; i &lt; length; i++ ) {\n    if (words[i] === wordA) {\n      wordAIndex = i;\n    }\n\n    if (words[i] === wordB) {\n      wordBIndex = i;\n    }\n\n    if ( wordAIndex !== null &amp;&amp; wordBIndex !== null ) {\n      var distance = Math.abs(wordAIndex - wordBIndex);\n      if(minDinstance === null || minDinstance &gt; distance) {\n        minDinstance = distance;\n      } \n    }\n  }\n  return minDinstance;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4976528,"reputation":253,"user_id":4002680,"accept_rate":0,"display_name":"Popeye"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538186053,"creation_date":1538186053,"answer_id":52564400,"question_id":26876744,"body_markdown":"Just 1 iteration.\r\nVery Simple Solution\r\nAssumptions : str1 and str2 are not null. str1 not equal to str2. strs does not contains null;\r\n\r\n        private static int findShortestDistance(String str1, String str2, String[] strs) {\r\n            int distance = Integer.MAX_VALUE;\r\n            String temp = null;\r\n            int index = 0;\r\n            for(int i=0; i&lt;strs.length; ++i) {\r\n              if(str1.equals(strs[i]) || str2.equals(strs[i])) {\r\n                 if(temp != null &amp;&amp; !strs[i].equals(temp)) {\r\n                    distance = Math.min(distance, i - index);\r\n                 }\r\n                 temp = strs[i];\r\n                 index = i;\r\n               }\r\n            }\r\n         return distance;\r\n        }","title":"Finding Minimum Distance Between Words in An Array","body":"<p>Just 1 iteration.\nVery Simple Solution\nAssumptions : str1 and str2 are not null. str1 not equal to str2. strs does not contains null;</p>\n\n<pre><code>    private static int findShortestDistance(String str1, String str2, String[] strs) {\n        int distance = Integer.MAX_VALUE;\n        String temp = null;\n        int index = 0;\n        for(int i=0; i&lt;strs.length; ++i) {\n          if(str1.equals(strs[i]) || str2.equals(strs[i])) {\n             if(temp != null &amp;&amp; !strs[i].equals(temp)) {\n                distance = Math.min(distance, i - index);\n             }\n             temp = strs[i];\n             index = i;\n           }\n        }\n     return distance;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26405398,"reputation":1,"user_id":20055269,"display_name":"Rohit Ranjan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663785597,"creation_date":1663785597,"answer_id":73805509,"question_id":26876744,"body_markdown":"      private static Integer getDistance(String first, String second, String given) {\r\n        String[] splitGiven = given.split(&quot; &quot;);\r\n        int firstWord;\r\n        int secondWord;\r\n        int result;\r\n        List&lt;Integer&gt; suspectedDistances = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; splitGiven.length; i++) {\r\n          if (Objects.equals(splitGiven[i], first)) {\r\n            firstWord = i;\r\n           \r\n            for (int j = 0; j &lt; splitGiven.length; j++) {\r\n              if (Objects.equals(splitGiven[j], second)) {\r\n                secondWord = j;\r\n                \r\n                suspectedDistances.add(secondWord - firstWord);\r\n              }\r\n            }\r\n          }\r\n        }\r\n      \r\n        Collections.sort(suspectedDistances);\r\n        result = suspectedDistances.get(0);\r\n        if ((splitGiven[0].equals(first) || splitGiven[0].equals(second)) &amp;&amp;\r\n            (splitGiven[splitGiven.length - 1].equals(first) || splitGiven[splitGiven.length - 1].equals(second))) {\r\n          result = 1;\r\n        }\r\n        return result;\r\n      }","title":"Finding Minimum Distance Between Words in An Array","body":"<pre><code>  private static Integer getDistance(String first, String second, String given) {\n    String[] splitGiven = given.split(&quot; &quot;);\n    int firstWord;\n    int secondWord;\n    int result;\n    List&lt;Integer&gt; suspectedDistances = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; splitGiven.length; i++) {\n      if (Objects.equals(splitGiven[i], first)) {\n        firstWord = i;\n       \n        for (int j = 0; j &lt; splitGiven.length; j++) {\n          if (Objects.equals(splitGiven[j], second)) {\n            secondWord = j;\n            \n            suspectedDistances.add(secondWord - firstWord);\n          }\n        }\n      }\n    }\n  \n    Collections.sort(suspectedDistances);\n    result = suspectedDistances.get(0);\n    if ((splitGiven[0].equals(first) || splitGiven[0].equals(second)) &amp;&amp;\n        (splitGiven[splitGiven.length - 1].equals(first) || splitGiven[splitGiven.length - 1].equals(second))) {\n      result = 1;\n    }\n    return result;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663820657,"creation_date":1663820657,"answer_id":73809327,"question_id":26876744,"body_markdown":"`any ideas?`\r\n\r\nYou &quot;duplicated&quot; code: Keep DRY: Don&#39;t Repeat Yourself\r\n\r\n~~~\r\ndouble\r\n    distance,\r\n    minDistance = Double.POSITIVE_INFINITY;\r\nfor (int x = 0 ; x &lt; strings.length ; x++)\r\n    if (strings[x].equals(targetString))\r\n        for (int y = 0 ; y &lt; strings.length ; y++)\r\n            if (x != y &amp;&amp; strings[y].equals(targetString2)) {\r\n                if (minDistance &gt; (distance = Math.abs(y - x)))\r\n                    minDistance = distance;\r\n                if (x &lt; y)\r\n                    break;\r\n            }\r\n~~~\r\n\r\nYou missed opportunities to stop iterating early:\r\n~~~\r\nminDistance = strings.length;\r\nif (java.util.Arrays.asList(strings).contains(targetString2))\r\n    for (int x = 0 ; x &lt; strings.length ; x++) {\r\n        if (!strings[x].equals(targetString))\r\n            continue;\r\n        for (int y = x, limit = Math.min(strings.length, x + minDistance) ; ++y &lt; limit ; )\r\n            if (strings[y].equals(targetString2)) {\r\n                minDistance = y - x;\r\n                break;  // higher values of y won&#39;t decrease y - x\r\n            }\r\n        for (int y = x, limit = Math.max(-1, x - minDistance) ; limit &lt; --y ; )\r\n            if (strings[y].equals(targetString2)) {\r\n                minDistance = x - y;\r\n                break;  // lower values of y won&#39;t decrease x - y\r\n            }\r\n        if (minDistance &lt; 2)\r\n            break;\r\n    }\r\n~~~\r\n\r\n","title":"Finding Minimum Distance Between Words in An Array","body":"<p><code>any ideas?</code></p>\n<p>You &quot;duplicated&quot; code: Keep DRY: Don't Repeat Yourself</p>\n<pre><code>double\n    distance,\n    minDistance = Double.POSITIVE_INFINITY;\nfor (int x = 0 ; x &lt; strings.length ; x++)\n    if (strings[x].equals(targetString))\n        for (int y = 0 ; y &lt; strings.length ; y++)\n            if (x != y &amp;&amp; strings[y].equals(targetString2)) {\n                if (minDistance &gt; (distance = Math.abs(y - x)))\n                    minDistance = distance;\n                if (x &lt; y)\n                    break;\n            }\n</code></pre>\n<p>You missed opportunities to stop iterating early:</p>\n<pre><code>minDistance = strings.length;\nif (java.util.Arrays.asList(strings).contains(targetString2))\n    for (int x = 0 ; x &lt; strings.length ; x++) {\n        if (!strings[x].equals(targetString))\n            continue;\n        for (int y = x, limit = Math.min(strings.length, x + minDistance) ; ++y &lt; limit ; )\n            if (strings[y].equals(targetString2)) {\n                minDistance = y - x;\n                break;  // higher values of y won't decrease y - x\n            }\n        for (int y = x, limit = Math.max(-1, x - minDistance) ; limit &lt; --y ; )\n            if (strings[y].equals(targetString2)) {\n                minDistance = x - y;\n                break;  // lower values of y won't decrease x - y\n            }\n        if (minDistance &lt; 2)\n            break;\n    }\n</code></pre>\n"}],"owner":{"account_id":771193,"reputation":5905,"user_id":850271,"accept_rate":100,"display_name":"John Roberts"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11772,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":26876861,"answer_count":7,"score":8,"last_activity_date":1667549375,"creation_date":1415749604,"question_id":26876744,"body_markdown":"&gt; Example:\r\n&gt; \r\n&gt; WordDistanceFinder finder = new\r\n&gt; WordDistanceFinder(Arrays.asList(&quot;the&quot;, &quot;quick&quot;, &quot;brown&quot;, &quot;fox&quot;,\r\n&gt; &quot;quick&quot;));\r\n&gt; \r\n&gt; assert(finder.distance(&quot;fox&quot;,&quot;the&quot;) == 3);\r\n&gt; \r\n&gt; assert(finder.distance(&quot;quick&quot;, &quot;fox&quot;) == 1);\r\n\r\n\r\nI have the following solution, which appears to be O(n), but I&#39;m not sure if there is a better solution out there. Does anyone have any idea?\r\n\r\n    String targetString = &quot;fox&quot;;\r\n    String targetString2 = &quot;the&quot;;\r\n    double minDistance = Double.POSITIVE_INFINITY;\r\n    for(int x = 0; x &lt; strings.length; x++){\r\n    \tif(strings[x].equals(targetString)){\r\n    \t\tfor(int y = x; y &lt; strings.length; y++){\r\n    \t\t\tif(strings[y].equals(targetString2))\r\n    \t\t\t\tif(minDistance &gt; (y - x))\r\n    \t\t\t\t\tminDistance = y - x;\r\n    \t\t}\r\n    \t\tfor(int y = x; y &gt;=0; y--){\r\n    \t\t\tif(strings[y].equals(targetString2))\r\n    \t\t\t\tif(minDistance &gt; (x - y))\r\n    \t\t\t\t\tminDistance = x - y;\r\n    \t\t}\r\n    \t}\r\n    }","title":"Finding Minimum Distance Between Words in An Array","body":"<blockquote>\n<p>Example:</p>\n<p>WordDistanceFinder finder = new\nWordDistanceFinder(Arrays.asList(&quot;the&quot;, &quot;quick&quot;, &quot;brown&quot;, &quot;fox&quot;,\n&quot;quick&quot;));</p>\n<p>assert(finder.distance(&quot;fox&quot;,&quot;the&quot;) == 3);</p>\n<p>assert(finder.distance(&quot;quick&quot;, &quot;fox&quot;) == 1);</p>\n</blockquote>\n<p>I have the following solution, which appears to be O(n), but I'm not sure if there is a better solution out there. Does anyone have any idea?</p>\n<pre><code>String targetString = &quot;fox&quot;;\nString targetString2 = &quot;the&quot;;\ndouble minDistance = Double.POSITIVE_INFINITY;\nfor(int x = 0; x &lt; strings.length; x++){\n    if(strings[x].equals(targetString)){\n        for(int y = x; y &lt; strings.length; y++){\n            if(strings[y].equals(targetString2))\n                if(minDistance &gt; (y - x))\n                    minDistance = y - x;\n        }\n        for(int y = x; y &gt;=0; y--){\n            if(strings[y].equals(targetString2))\n                if(minDistance &gt; (x - y))\n                    minDistance = x - y;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","postgresql","hibernate","orm"],"answers":[{"tags":[],"owner":{"account_id":44712,"reputation":99786,"user_id":131368,"accept_rate":78,"display_name":"ChssPly76"},"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1502914881,"creation_date":1256869063,"answer_id":1647660,"question_id":1647583,"body_markdown":"Hibernate does not support database arrays (e.g. ones mapped to `java.sql.Array`) out of the box.\r\n\r\n`array` and `primitive-array` types provided by Hibernate are for mapping Java arrays into backing table - they&#39;re basically a variation of one-to-many / collection-of-elements mappings, so that&#39;s not what you want.\r\n\r\nLatest PostgreSQL JDBC driver (8.4.whatever) supports JDBC4 &lt;a href=&quot;http://java.sun.com/javase/6/docs/api/java/sql/Connection.html#createArrayOf(java.lang.String,%20java.lang.Object%5B%5D)&quot;&gt;`Connection.createArrayOf()`&lt;/a&gt; method as well as &lt;a href=&quot;http://java.sun.com/javase/6/docs/api/java/sql/ResultSet.html#getArray(java.lang.String)&quot;&gt;`ResultSet.getArray()`&lt;/a&gt; and &lt;a href=&quot;http://java.sun.com/javase/6/docs/api/java/sql/PreparedStatement.html#setArray(int,%20java.sql.Array)&quot;&gt;PreparedStatement.setArray()&lt;/a&gt; methods, though, so you can write your own `UserType` to provide array support.\r\n\r\n[Here][1] is a UserType implementation dealing with Oracle array that provides a good starting point, it&#39;s reasonably straightforward to adapt it to handle `java.sql.Array` instead.\r\n\r\n\r\n  [1]: http://web.archive.org/web/20090325101739/http://www.hibernate.org/393.html","title":"How to map a PostgreSQL array with Hibernate","body":"<p>Hibernate does not support database arrays (e.g. ones mapped to <code>java.sql.Array</code>) out of the box.</p>\n\n<p><code>array</code> and <code>primitive-array</code> types provided by Hibernate are for mapping Java arrays into backing table - they're basically a variation of one-to-many / collection-of-elements mappings, so that's not what you want.</p>\n\n<p>Latest PostgreSQL JDBC driver (8.4.whatever) supports JDBC4 <a href=\"http://java.sun.com/javase/6/docs/api/java/sql/Connection.html#createArrayOf(java.lang.String,%20java.lang.Object%5B%5D)\" rel=\"noreferrer\"><code>Connection.createArrayOf()</code></a> method as well as <a href=\"http://java.sun.com/javase/6/docs/api/java/sql/ResultSet.html#getArray(java.lang.String)\" rel=\"noreferrer\"><code>ResultSet.getArray()</code></a> and <a href=\"http://java.sun.com/javase/6/docs/api/java/sql/PreparedStatement.html#setArray(int,%20java.sql.Array)\" rel=\"noreferrer\">PreparedStatement.setArray()</a> methods, though, so you can write your own <code>UserType</code> to provide array support.</p>\n\n<p><a href=\"http://web.archive.org/web/20090325101739/http://www.hibernate.org/393.html\" rel=\"noreferrer\">Here</a> is a UserType implementation dealing with Oracle array that provides a good starting point, it's reasonably straightforward to adapt it to handle <code>java.sql.Array</code> instead.</p>\n"},{"tags":[],"owner":{"account_id":21852,"reputation":19896,"user_id":53444,"accept_rate":70,"display_name":"Tim"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1353018060,"creation_date":1353018060,"answer_id":13407270,"question_id":1647583,"body_markdown":"Perhaps this is useful for someone else: I found that in my case it performs poorly and could not be used with c3p0. (Only explored these issues briefly, is they can be resolved please correct me!)\r\n\r\nHibernate 3.6:\r\n\r\n\timport java.io.Serializable;\r\n\timport java.sql.Array;\r\n\timport java.sql.Connection;\r\n\timport java.sql.PreparedStatement;\r\n\timport java.sql.ResultSet;\r\n\timport java.sql.SQLException;\r\n\timport java.util.Arrays;\r\n\r\n\timport org.apache.commons.lang.ArrayUtils;\r\n\timport org.hibernate.HibernateException;\r\n\timport org.hibernate.usertype.UserType;\r\n\r\n\tpublic class IntArrayUserType implements UserType {\r\n\tprotected static final int\tSQLTYPE\t= java.sql.Types.ARRAY;\r\n\r\n\t@Override\r\n\tpublic Object nullSafeGet(final ResultSet rs, final String[] names, final Object owner) throws HibernateException, SQLException {\r\n\t\tArray array = rs.getArray(names[0]);\r\n\t\tInteger[] javaArray = (Integer[]) array.getArray();\r\n\t\treturn ArrayUtils.toPrimitive(javaArray);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void nullSafeSet(final PreparedStatement statement, final Object object, final int i) throws HibernateException, SQLException {\r\n\t\tConnection connection = statement.getConnection();\r\n\r\n\t\tint[] castObject = (int[]) object;\r\n\t\tInteger[] integers = ArrayUtils.toObject(castObject);\r\n\t\tArray array = connection.createArrayOf(&quot;integer&quot;, integers);\r\n\r\n\t\tstatement.setArray(i, array);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Object assemble(final Serializable cached, final Object owner) throws HibernateException {\r\n\t\treturn cached;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Object deepCopy(final Object o) throws HibernateException {\r\n\t\treturn o == null ? null : ((int[]) o).clone();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Serializable disassemble(final Object o) throws HibernateException {\r\n\t\treturn (Serializable) o;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean equals(final Object x, final Object y) throws HibernateException {\r\n\t\treturn x == null ? y == null : x.equals(y);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int hashCode(final Object o) throws HibernateException {\r\n\t\treturn o == null ? 0 : o.hashCode();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean isMutable() {\r\n\t\treturn false;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Object replace(final Object original, final Object target, final Object owner) throws HibernateException {\r\n\t\treturn original;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Class&lt;int[]&gt; returnedClass() {\r\n\t\treturn int[].class;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int[] sqlTypes() {\r\n\t\treturn new int[] { SQLTYPE };\r\n\t}\r\n\t}\r\n","title":"How to map a PostgreSQL array with Hibernate","body":"<p>Perhaps this is useful for someone else: I found that in my case it performs poorly and could not be used with c3p0. (Only explored these issues briefly, is they can be resolved please correct me!)</p>\n\n<p>Hibernate 3.6:</p>\n\n<pre><code>import java.io.Serializable;\nimport java.sql.Array;\nimport java.sql.Connection;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.util.Arrays;\n\nimport org.apache.commons.lang.ArrayUtils;\nimport org.hibernate.HibernateException;\nimport org.hibernate.usertype.UserType;\n\npublic class IntArrayUserType implements UserType {\nprotected static final int  SQLTYPE = java.sql.Types.ARRAY;\n\n@Override\npublic Object nullSafeGet(final ResultSet rs, final String[] names, final Object owner) throws HibernateException, SQLException {\n    Array array = rs.getArray(names[0]);\n    Integer[] javaArray = (Integer[]) array.getArray();\n    return ArrayUtils.toPrimitive(javaArray);\n}\n\n@Override\npublic void nullSafeSet(final PreparedStatement statement, final Object object, final int i) throws HibernateException, SQLException {\n    Connection connection = statement.getConnection();\n\n    int[] castObject = (int[]) object;\n    Integer[] integers = ArrayUtils.toObject(castObject);\n    Array array = connection.createArrayOf(\"integer\", integers);\n\n    statement.setArray(i, array);\n}\n\n@Override\npublic Object assemble(final Serializable cached, final Object owner) throws HibernateException {\n    return cached;\n}\n\n@Override\npublic Object deepCopy(final Object o) throws HibernateException {\n    return o == null ? null : ((int[]) o).clone();\n}\n\n@Override\npublic Serializable disassemble(final Object o) throws HibernateException {\n    return (Serializable) o;\n}\n\n@Override\npublic boolean equals(final Object x, final Object y) throws HibernateException {\n    return x == null ? y == null : x.equals(y);\n}\n\n@Override\npublic int hashCode(final Object o) throws HibernateException {\n    return o == null ? 0 : o.hashCode();\n}\n\n@Override\npublic boolean isMutable() {\n    return false;\n}\n\n@Override\npublic Object replace(final Object original, final Object target, final Object owner) throws HibernateException {\n    return original;\n}\n\n@Override\npublic Class&lt;int[]&gt; returnedClass() {\n    return int[].class;\n}\n\n@Override\npublic int[] sqlTypes() {\n    return new int[] { SQLTYPE };\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":978270,"reputation":6296,"user_id":998649,"accept_rate":71,"display_name":"Tk421"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1467354183,"creation_date":1467354183,"answer_id":38138408,"question_id":1647583,"body_markdown":"This has been tested against string arrays. Maybe some modifications in the converter is required for numeric arrays. This works with Spring JPA.\r\n\r\n1) add `PostgreSQLTextArray` to your project\r\n\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import java.util.Arrays;\r\n    import java.util.Map;\r\n\r\n    /**\r\n     * This is class provides {@link java.sql.Array} interface for PostgreSQL &lt;code&gt;text&lt;/code&gt; array.\r\n     *\r\n     * @author Valentine Gogichashvili\r\n     *\r\n     */\r\n     \r\n    public class PostgreSQLTextArray implements java.sql.Array {\r\n     \r\n        private final String[] stringArray;\r\n        private final String stringValue;\r\n     \r\n        /**\r\n         * Initializing constructor\r\n         * @param stringArray\r\n         */\r\n        public PostgreSQLTextArray(String[] stringArray) {\r\n            this.stringArray = stringArray;\r\n            this.stringValue = stringArrayToPostgreSQLTextArray(this.stringArray);\r\n     \r\n        }\r\n     \r\n        @Override\r\n        public String toString() {\r\n            return stringValue;\r\n        }\r\n     \r\n        private static final String NULL = &quot;NULL&quot;;\r\n     \r\n        /**\r\n         * This static method can be used to convert an string array to string representation of PostgreSQL text array.\r\n         * @param a source String array\r\n         * @return string representation of a given text array\r\n         */\r\n        public static String stringArrayToPostgreSQLTextArray(String[] stringArray) {\r\n            final int arrayLength;\r\n            if ( stringArray == null ) {\r\n                return NULL;\r\n            } else if ( ( arrayLength = stringArray.length ) == 0 ) {\r\n                return &quot;{}&quot;;\r\n            }\r\n            // count the string length and if need to quote\r\n            int neededBufferLentgh = 2; // count the beginning &#39;{&#39; and the ending &#39;}&#39; brackets\r\n            boolean[] shouldQuoteArray = new boolean[stringArray.length];\r\n            for (int si = 0; si &lt; arrayLength; si++) {\r\n                // count the comma after the first element\r\n                if ( si &gt; 0 )  neededBufferLentgh++;\r\n     \r\n                boolean shouldQuote;\r\n                final String s = stringArray[si];\r\n                if ( s == null ) {\r\n                    neededBufferLentgh += 4;\r\n                    shouldQuote = false;\r\n                } else {\r\n                    final int l = s.length();\r\n                    neededBufferLentgh += l;\r\n                    if ( l == 0 || s.equalsIgnoreCase(NULL) ) {\r\n                        shouldQuote = true;\r\n                    } else {\r\n                        shouldQuote = false;\r\n                        // scan for commas and quotes\r\n                        for (int i = 0; i &lt; l; i++) {\r\n                            final char ch = s.charAt(i);\r\n                            switch(ch) {\r\n                                case &#39;&quot;&#39;:\r\n                                case &#39;\\\\&#39;:\r\n                                    shouldQuote = true;\r\n                                    // we will escape these characters\r\n                                    neededBufferLentgh++;\r\n                                    break;\r\n                                case &#39;,&#39;:\r\n                                case &#39;\\&#39;&#39;:\r\n                                case &#39;{&#39;:\r\n                                case &#39;}&#39;:\r\n                                    shouldQuote = true;\r\n                                    break;\r\n                                default:\r\n                                    if ( Character.isWhitespace(ch) ) {\r\n                                        shouldQuote = true;\r\n                                    }\r\n                                    break;\r\n                            }\r\n                        }\r\n                    }\r\n                    // count the quotes\r\n                    if ( shouldQuote ) neededBufferLentgh += 2;\r\n                }\r\n                shouldQuoteArray[si] = shouldQuote;\r\n            }\r\n     \r\n            // construct the String\r\n            final StringBuilder sb = new StringBuilder(neededBufferLentgh);\r\n            sb.append(&#39;{&#39;);\r\n            for (int si = 0; si &lt; arrayLength; si++) {\r\n                final String s = stringArray[si];\r\n                if ( si &gt; 0 ) sb.append(&#39;,&#39;);\r\n                if ( s == null ) {\r\n                    sb.append(NULL);\r\n                } else {\r\n                    final boolean shouldQuote = shouldQuoteArray[si];\r\n                    if ( shouldQuote ) sb.append(&#39;&quot;&#39;);\r\n                    for (int i = 0, l = s.length(); i &lt; l; i++) {\r\n                        final char ch = s.charAt(i);\r\n                        if ( ch == &#39;&quot;&#39; || ch == &#39;\\\\&#39; ) sb.append(&#39;\\\\&#39;);\r\n                        sb.append(ch);\r\n                    }\r\n                    if ( shouldQuote ) sb.append(&#39;&quot;&#39;);\r\n                }\r\n            }\r\n            sb.append(&#39;}&#39;);\r\n            assert sb.length() == neededBufferLentgh;\r\n            return sb.toString();\r\n        }\r\n     \r\n     \r\n        @Override\r\n        public Object getArray() throws SQLException {\r\n            return stringArray == null ? null : Arrays.copyOf(stringArray, stringArray.length);\r\n        }\r\n     \r\n        @Override\r\n        public Object getArray(Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException {\r\n            return getArray();\r\n        }\r\n     \r\n        @Override\r\n        public Object getArray(long index, int count) throws SQLException {\r\n            return stringArray == null ? null : Arrays.copyOfRange(stringArray, (int) index, (int) index + count);\r\n        }\r\n     \r\n        @Override\r\n        public Object getArray(long index, int count, Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException {\r\n            return getArray(index, count);\r\n        }\r\n     \r\n        @Override\r\n        public int getBaseType() throws SQLException {\r\n            return java.sql.Types.VARCHAR;\r\n        }\r\n     \r\n        @Override\r\n        public String getBaseTypeName() throws SQLException {\r\n            return &quot;text&quot;;\r\n        }\r\n     \r\n        @Override\r\n        public ResultSet getResultSet() throws SQLException {\r\n            throw new UnsupportedOperationException();\r\n        }\r\n     \r\n        @Override\r\n        public ResultSet getResultSet(Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException {\r\n            throw new UnsupportedOperationException();\r\n        }\r\n     \r\n        @Override\r\n        public ResultSet getResultSet(long index, int count) throws SQLException {\r\n            throw new UnsupportedOperationException();\r\n        }\r\n     \r\n        @Override\r\n        public ResultSet getResultSet(long index, int count, Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException {\r\n            throw new UnsupportedOperationException();\r\n        }\r\n     \r\n        @Override\r\n        public void free() throws SQLException {\r\n        }\r\n\r\n    }\r\n\r\n2) Add `ListToArrayConverter` to your code\r\n\r\n    import org.postgresql.jdbc4.Jdbc4Array;\r\n\r\n    import javax.persistence.AttributeConverter;\r\n    import javax.persistence.Converter;\r\n    import java.sql.SQLException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    @Converter(autoApply = true)\r\n    public class ListToArrayConveter implements AttributeConverter&lt;List&lt;String&gt;, Object&gt; {\r\n        @Override\r\n        public PostgreSQLTextArray convertToDatabaseColumn(List&lt;String&gt; attribute) {\r\n            if (attribute == null || attribute.isEmpty()) {\r\n                return null;\r\n            }\r\n            String[] rst = new String[attribute.size()];\r\n            return new PostgreSQLTextArray(attribute.toArray(rst));\r\n        }\r\n\r\n        @Override\r\n        public List&lt;String&gt; convertToEntityAttribute(Object dbData) {\r\n\r\n            List&lt;String&gt; rst = new ArrayList&lt;&gt;();\r\n            try {\r\n                String[] elements = (String[]) ((Jdbc4Array) dbData).getArray();\r\n                for (String element : elements) {\r\n                    rst.add(element);\r\n                }\r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n\r\n            return rst;\r\n        }\r\n    }\r\n\r\n3) Use it!\r\n\r\n    @Entity\r\n    @Table(name = &quot;emails&quot;)\r\n    public class Email {\r\n\r\n        [...]\r\n    \r\n        @SuppressWarnings(&quot;JpaAttributeTypeInspection&quot;)\r\n        @Column(name = &quot;subject&quot;, columnDefinition = &quot;text[]&quot;)\r\n        @Convert(converter = ListToArrayConveter.class)\r\n        private List&lt;String&gt; subject;\r\n\r\n        [...]\r\n","title":"How to map a PostgreSQL array with Hibernate","body":"<p>This has been tested against string arrays. Maybe some modifications in the converter is required for numeric arrays. This works with Spring JPA.</p>\n\n<p>1) add <code>PostgreSQLTextArray</code> to your project</p>\n\n<pre><code>import java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.util.Arrays;\nimport java.util.Map;\n\n/**\n * This is class provides {@link java.sql.Array} interface for PostgreSQL &lt;code&gt;text&lt;/code&gt; array.\n *\n * @author Valentine Gogichashvili\n *\n */\n\npublic class PostgreSQLTextArray implements java.sql.Array {\n\n    private final String[] stringArray;\n    private final String stringValue;\n\n    /**\n     * Initializing constructor\n     * @param stringArray\n     */\n    public PostgreSQLTextArray(String[] stringArray) {\n        this.stringArray = stringArray;\n        this.stringValue = stringArrayToPostgreSQLTextArray(this.stringArray);\n\n    }\n\n    @Override\n    public String toString() {\n        return stringValue;\n    }\n\n    private static final String NULL = \"NULL\";\n\n    /**\n     * This static method can be used to convert an string array to string representation of PostgreSQL text array.\n     * @param a source String array\n     * @return string representation of a given text array\n     */\n    public static String stringArrayToPostgreSQLTextArray(String[] stringArray) {\n        final int arrayLength;\n        if ( stringArray == null ) {\n            return NULL;\n        } else if ( ( arrayLength = stringArray.length ) == 0 ) {\n            return \"{}\";\n        }\n        // count the string length and if need to quote\n        int neededBufferLentgh = 2; // count the beginning '{' and the ending '}' brackets\n        boolean[] shouldQuoteArray = new boolean[stringArray.length];\n        for (int si = 0; si &lt; arrayLength; si++) {\n            // count the comma after the first element\n            if ( si &gt; 0 )  neededBufferLentgh++;\n\n            boolean shouldQuote;\n            final String s = stringArray[si];\n            if ( s == null ) {\n                neededBufferLentgh += 4;\n                shouldQuote = false;\n            } else {\n                final int l = s.length();\n                neededBufferLentgh += l;\n                if ( l == 0 || s.equalsIgnoreCase(NULL) ) {\n                    shouldQuote = true;\n                } else {\n                    shouldQuote = false;\n                    // scan for commas and quotes\n                    for (int i = 0; i &lt; l; i++) {\n                        final char ch = s.charAt(i);\n                        switch(ch) {\n                            case '\"':\n                            case '\\\\':\n                                shouldQuote = true;\n                                // we will escape these characters\n                                neededBufferLentgh++;\n                                break;\n                            case ',':\n                            case '\\'':\n                            case '{':\n                            case '}':\n                                shouldQuote = true;\n                                break;\n                            default:\n                                if ( Character.isWhitespace(ch) ) {\n                                    shouldQuote = true;\n                                }\n                                break;\n                        }\n                    }\n                }\n                // count the quotes\n                if ( shouldQuote ) neededBufferLentgh += 2;\n            }\n            shouldQuoteArray[si] = shouldQuote;\n        }\n\n        // construct the String\n        final StringBuilder sb = new StringBuilder(neededBufferLentgh);\n        sb.append('{');\n        for (int si = 0; si &lt; arrayLength; si++) {\n            final String s = stringArray[si];\n            if ( si &gt; 0 ) sb.append(',');\n            if ( s == null ) {\n                sb.append(NULL);\n            } else {\n                final boolean shouldQuote = shouldQuoteArray[si];\n                if ( shouldQuote ) sb.append('\"');\n                for (int i = 0, l = s.length(); i &lt; l; i++) {\n                    final char ch = s.charAt(i);\n                    if ( ch == '\"' || ch == '\\\\' ) sb.append('\\\\');\n                    sb.append(ch);\n                }\n                if ( shouldQuote ) sb.append('\"');\n            }\n        }\n        sb.append('}');\n        assert sb.length() == neededBufferLentgh;\n        return sb.toString();\n    }\n\n\n    @Override\n    public Object getArray() throws SQLException {\n        return stringArray == null ? null : Arrays.copyOf(stringArray, stringArray.length);\n    }\n\n    @Override\n    public Object getArray(Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException {\n        return getArray();\n    }\n\n    @Override\n    public Object getArray(long index, int count) throws SQLException {\n        return stringArray == null ? null : Arrays.copyOfRange(stringArray, (int) index, (int) index + count);\n    }\n\n    @Override\n    public Object getArray(long index, int count, Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException {\n        return getArray(index, count);\n    }\n\n    @Override\n    public int getBaseType() throws SQLException {\n        return java.sql.Types.VARCHAR;\n    }\n\n    @Override\n    public String getBaseTypeName() throws SQLException {\n        return \"text\";\n    }\n\n    @Override\n    public ResultSet getResultSet() throws SQLException {\n        throw new UnsupportedOperationException();\n    }\n\n    @Override\n    public ResultSet getResultSet(Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException {\n        throw new UnsupportedOperationException();\n    }\n\n    @Override\n    public ResultSet getResultSet(long index, int count) throws SQLException {\n        throw new UnsupportedOperationException();\n    }\n\n    @Override\n    public ResultSet getResultSet(long index, int count, Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException {\n        throw new UnsupportedOperationException();\n    }\n\n    @Override\n    public void free() throws SQLException {\n    }\n\n}\n</code></pre>\n\n<p>2) Add <code>ListToArrayConverter</code> to your code</p>\n\n<pre><code>import org.postgresql.jdbc4.Jdbc4Array;\n\nimport javax.persistence.AttributeConverter;\nimport javax.persistence.Converter;\nimport java.sql.SQLException;\nimport java.util.ArrayList;\nimport java.util.List;\n\n@Converter(autoApply = true)\npublic class ListToArrayConveter implements AttributeConverter&lt;List&lt;String&gt;, Object&gt; {\n    @Override\n    public PostgreSQLTextArray convertToDatabaseColumn(List&lt;String&gt; attribute) {\n        if (attribute == null || attribute.isEmpty()) {\n            return null;\n        }\n        String[] rst = new String[attribute.size()];\n        return new PostgreSQLTextArray(attribute.toArray(rst));\n    }\n\n    @Override\n    public List&lt;String&gt; convertToEntityAttribute(Object dbData) {\n\n        List&lt;String&gt; rst = new ArrayList&lt;&gt;();\n        try {\n            String[] elements = (String[]) ((Jdbc4Array) dbData).getArray();\n            for (String element : elements) {\n                rst.add(element);\n            }\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n\n\n        return rst;\n    }\n}\n</code></pre>\n\n<p>3) Use it!</p>\n\n<pre><code>@Entity\n@Table(name = \"emails\")\npublic class Email {\n\n    [...]\n\n    @SuppressWarnings(\"JpaAttributeTypeInspection\")\n    @Column(name = \"subject\", columnDefinition = \"text[]\")\n    @Convert(converter = ListToArrayConveter.class)\n    private List&lt;String&gt; subject;\n\n    [...]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1329067,"reputation":1981,"user_id":1273319,"accept_rate":92,"display_name":"Shane Rowatt"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1483243857,"creation_date":1483243857,"answer_id":41413296,"question_id":1647583,"body_markdown":"Here is the `int[]` UserType I used to do what you&#39;re after which also includes the null checks for `nullSafeGet()` and `nullSafeSet()`:\r\n\r\n    import org.apache.commons.lang.ArrayUtils;\r\n    import org.hibernate.HibernateException;\r\n    import org.hibernate.engine.spi.SessionImplementor;\r\n    import org.hibernate.usertype.UserType;\r\n    \r\n    import java.io.Serializable;\r\n    import java.sql.Array;\r\n    import java.sql.Connection;\r\n    import java.sql.PreparedStatement;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    \r\n    public class IntegerArrayUserType implements UserType {\r\n        protected static final int  SQLTYPE = java.sql.Types.ARRAY;\r\n    \r\n        @Override\r\n        public Object nullSafeGet(ResultSet rs, String[] names, SessionImplementor session, Object owner) throws HibernateException, SQLException {\r\n            Array array = rs.getArray(names[0]);\r\n            if (array == null) {\r\n                return null;\r\n            }\r\n            Integer[] javaArray = (Integer[]) array.getArray();\r\n            return ArrayUtils.toPrimitive(javaArray);\r\n        }\r\n    \r\n        @Override\r\n        public void nullSafeSet(PreparedStatement st, Object value, int index, SessionImplementor session) throws HibernateException, SQLException {\r\n            Connection connection = st.getConnection();\r\n    \r\n            if (value == null) {\r\n                st.setNull( index, sqlTypes()[0] );\r\n            } else {\r\n                int[] castObject = (int[]) value;\r\n                Integer[] integers = ArrayUtils.toObject(castObject);\r\n                Array array = connection.createArrayOf(&quot;integer&quot;, integers);\r\n    \r\n                st.setArray(index, array);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public Object assemble(final Serializable cached, final Object owner) throws HibernateException {\r\n            return cached;\r\n        }\r\n    \r\n        @Override\r\n        public Object deepCopy(final Object o) throws HibernateException {\r\n            return o == null ? null : ((int[]) o).clone();\r\n        }\r\n    \r\n        @Override\r\n        public Serializable disassemble(final Object o) throws HibernateException {\r\n            return (Serializable) o;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(final Object x, final Object y) throws HibernateException {\r\n            return x == null ? y == null : x.equals(y);\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode(final Object o) throws HibernateException {\r\n            return o == null ? 0 : o.hashCode();\r\n        }\r\n    \r\n        @Override\r\n        public boolean isMutable() {\r\n            return false;\r\n        }\r\n    \r\n        @Override\r\n        public Object replace(final Object original, final Object target, final Object owner) throws HibernateException {\r\n            return original;\r\n        }\r\n    \r\n        @Override\r\n        public Class&lt;int[]&gt; returnedClass() {\r\n            return int[].class;\r\n        }\r\n    \r\n        @Override\r\n        public int[] sqlTypes() {\r\n            return new int[] { SQLTYPE };\r\n        }\r\n    }","title":"How to map a PostgreSQL array with Hibernate","body":"<p>Here is the <code>int[]</code> UserType I used to do what you're after which also includes the null checks for <code>nullSafeGet()</code> and <code>nullSafeSet()</code>:</p>\n\n<pre><code>import org.apache.commons.lang.ArrayUtils;\nimport org.hibernate.HibernateException;\nimport org.hibernate.engine.spi.SessionImplementor;\nimport org.hibernate.usertype.UserType;\n\nimport java.io.Serializable;\nimport java.sql.Array;\nimport java.sql.Connection;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\n\npublic class IntegerArrayUserType implements UserType {\n    protected static final int  SQLTYPE = java.sql.Types.ARRAY;\n\n    @Override\n    public Object nullSafeGet(ResultSet rs, String[] names, SessionImplementor session, Object owner) throws HibernateException, SQLException {\n        Array array = rs.getArray(names[0]);\n        if (array == null) {\n            return null;\n        }\n        Integer[] javaArray = (Integer[]) array.getArray();\n        return ArrayUtils.toPrimitive(javaArray);\n    }\n\n    @Override\n    public void nullSafeSet(PreparedStatement st, Object value, int index, SessionImplementor session) throws HibernateException, SQLException {\n        Connection connection = st.getConnection();\n\n        if (value == null) {\n            st.setNull( index, sqlTypes()[0] );\n        } else {\n            int[] castObject = (int[]) value;\n            Integer[] integers = ArrayUtils.toObject(castObject);\n            Array array = connection.createArrayOf(\"integer\", integers);\n\n            st.setArray(index, array);\n        }\n    }\n\n    @Override\n    public Object assemble(final Serializable cached, final Object owner) throws HibernateException {\n        return cached;\n    }\n\n    @Override\n    public Object deepCopy(final Object o) throws HibernateException {\n        return o == null ? null : ((int[]) o).clone();\n    }\n\n    @Override\n    public Serializable disassemble(final Object o) throws HibernateException {\n        return (Serializable) o;\n    }\n\n    @Override\n    public boolean equals(final Object x, final Object y) throws HibernateException {\n        return x == null ? y == null : x.equals(y);\n    }\n\n    @Override\n    public int hashCode(final Object o) throws HibernateException {\n        return o == null ? 0 : o.hashCode();\n    }\n\n    @Override\n    public boolean isMutable() {\n        return false;\n    }\n\n    @Override\n    public Object replace(final Object original, final Object target, final Object owner) throws HibernateException {\n        return original;\n    }\n\n    @Override\n    public Class&lt;int[]&gt; returnedClass() {\n        return int[].class;\n    }\n\n    @Override\n    public int[] sqlTypes() {\n        return new int[] { SQLTYPE };\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8013531,"reputation":191,"user_id":6044526,"display_name":"kitekat"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1629962274,"creation_date":1487683821,"answer_id":42368683,"question_id":1647583,"body_markdown":"I was able to save a `String[]` to PostgreSQL 9.4 and EclipseLink 2.6.2 via the JPA Converter approach posted [here][1]\r\n\r\nwhich seems to be the source for the answer of \r\n\r\n&gt; Tk421 of 1st July 2016.\r\n\r\nLoading an Array from DB also works well.\r\n\r\nAdditionally added to `persistence.xml` my path to ListToArrayConverter:\r\n\r\n    &lt;class&gt; com.foo1.foo2.foo3.backend.jpa.convert.ListToArrayConverter &lt;/class&gt;\r\n\r\nPlease mention that `Jdbc4Array` is not present in Postgre JDBC driver anymore, please instead use: \r\n\r\n    org.postgresql.jdbc.PgArray\r\n\r\nSee here:\r\n[Package org.postgresql.jdbc4 is missing since 9.4-1207][2]\r\n\r\n\r\n  [1]: https://github.com/phstudy/jpa-array-converter-sample\r\n  [2]: https://github.com/pgjdbc/pgjdbc/issues/559\r\n","title":"How to map a PostgreSQL array with Hibernate","body":"<p>I was able to save a <code>String[]</code> to PostgreSQL 9.4 and EclipseLink 2.6.2 via the JPA Converter approach posted <a href=\"https://github.com/phstudy/jpa-array-converter-sample\" rel=\"nofollow noreferrer\">here</a></p>\n<p>which seems to be the source for the answer of</p>\n<blockquote>\n<p>Tk421 of 1st July 2016.</p>\n</blockquote>\n<p>Loading an Array from DB also works well.</p>\n<p>Additionally added to <code>persistence.xml</code> my path to ListToArrayConverter:</p>\n<pre><code>&lt;class&gt; com.foo1.foo2.foo3.backend.jpa.convert.ListToArrayConverter &lt;/class&gt;\n</code></pre>\n<p>Please mention that <code>Jdbc4Array</code> is not present in Postgre JDBC driver anymore, please instead use:</p>\n<pre><code>org.postgresql.jdbc.PgArray\n</code></pre>\n<p>See here:\n<a href=\"https://github.com/pgjdbc/pgjdbc/issues/559\" rel=\"nofollow noreferrer\">Package org.postgresql.jdbc4 is missing since 9.4-1207</a></p>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":1,"up_vote_count":58,"is_accepted":false,"score":57,"last_activity_date":1610144148,"creation_date":1498111436,"answer_id":44691326,"question_id":1647583,"body_markdown":"Maven dependency\r\n----------------\r\n\r\nThe first thing you need to do is to set up the following [Hibernate Types][1] Maven dependency in your project `pom.xml` configuration file:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\r\n        &lt;version&gt;${hibernate-types.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAssuming you have this table in your database:\r\n\r\n    create table event (\r\n        id int8 not null, \r\n        version int4, \r\n        sensor_names text[], \r\n        sensor_values integer[], \r\n        primary key (id)\r\n    )\r\n\r\nAnd you want to map it like this:\r\n\r\n    @Entity(name = &quot;Event&quot;)\r\n    @Table(name = &quot;event&quot;)\r\n    @TypeDefs({\r\n        @TypeDef(\r\n            name = &quot;string-array&quot;, \r\n            typeClass = StringArrayType.class\r\n        ),\r\n        @TypeDef(\r\n            name = &quot;int-array&quot;, \r\n            typeClass = IntArrayType.class\r\n        )\r\n    })\r\n    public static class Event extends BaseEntity {\r\n     \r\n        @Type( type = &quot;string-array&quot; )\r\n        @Column(\r\n            name = &quot;sensor_names&quot;, \r\n            columnDefinition = &quot;text[]&quot;\r\n        )\r\n        private String[] sensorNames;\r\n     \r\n        @Type( type = &quot;int-array&quot; )\r\n        @Column(\r\n            name = &quot;sensor_values&quot;, \r\n            columnDefinition = &quot;integer[]&quot;\r\n        )\r\n        private int[] sensorValues;\r\n     \r\n        //Getters and setters omitted for brevity\r\n    }\r\n\r\nThe `string-array` and `int-array` are custom types which can be defined in the `BaseEntity` superclass:\r\n\r\n    @TypeDefs({\r\n        @TypeDef(\r\n            name = &quot;string-array&quot;, \r\n            typeClass = StringArrayType.class\r\n        ),\r\n        @TypeDef(\r\n            name = &quot;int-array&quot;, \r\n            typeClass = IntArrayType.class\r\n        )\r\n    })\r\n    @MappedSuperclass\r\n    public class BaseEntity {\r\n    \r\n        @Id\r\n        private Long id;\r\n    \r\n        @Version\r\n        private Integer version;\r\n    \r\n        //Getters and setters omitted for brevity\r\n    }\r\n\r\nThe `StringArrayType` and `IntArrayType` are classes offered by the Hibernate Types project.\r\n\r\nTesting time\r\n------------\r\n\r\nNow, when you insert a couple of entities;\r\n\r\n    Event nullEvent = new Event();\r\n    nullEvent.setId(0L);\r\n    entityManager.persist(nullEvent);\r\n     \r\n    Event event = new Event();\r\n    event.setId(1L);\r\n    event.setSensorNames(\r\n        new String[] {\r\n            &quot;Temperature&quot;, \r\n            &quot;Pressure&quot;\r\n        }\r\n    );\r\n    event.setSensorValues( \r\n        new int[] {\r\n            12, \r\n            756\r\n        } \r\n    );\r\n    entityManager.persist(event);\r\n\r\nHibernate is going to generate the following SQL statements:\r\n\r\n    INSERT INTO event (\r\n        version, \r\n        sensor_names, \r\n        sensor_values, \r\n        id\r\n    ) \r\n    VALUES (\r\n        0, \r\n        NULL(ARRAY), \r\n        NULL(ARRAY), \r\n        0\r\n    )\r\n         \r\n    INSERT INTO event (\r\n        version, \r\n        sensor_names, \r\n        sensor_values, \r\n        id\r\n    ) \r\n    VALUES ( \r\n        0, \r\n        {&quot;Temperature&quot;,&quot;Pressure&quot;}, \r\n        {&quot;12&quot;,&quot;756&quot;}, \r\n        1\r\n    )\r\n\r\n  [1]: https://github.com/vladmihalcea/hibernate-types","title":"How to map a PostgreSQL array with Hibernate","body":"<h2>Maven dependency</h2>\n<p>The first thing you need to do is to set up the following <a href=\"https://github.com/vladmihalcea/hibernate-types\" rel=\"noreferrer\">Hibernate Types</a> Maven dependency in your project <code>pom.xml</code> configuration file:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\n    &lt;version&gt;${hibernate-types.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Assuming you have this table in your database:</p>\n<pre><code>create table event (\n    id int8 not null, \n    version int4, \n    sensor_names text[], \n    sensor_values integer[], \n    primary key (id)\n)\n</code></pre>\n<p>And you want to map it like this:</p>\n<pre><code>@Entity(name = &quot;Event&quot;)\n@Table(name = &quot;event&quot;)\n@TypeDefs({\n    @TypeDef(\n        name = &quot;string-array&quot;, \n        typeClass = StringArrayType.class\n    ),\n    @TypeDef(\n        name = &quot;int-array&quot;, \n        typeClass = IntArrayType.class\n    )\n})\npublic static class Event extends BaseEntity {\n \n    @Type( type = &quot;string-array&quot; )\n    @Column(\n        name = &quot;sensor_names&quot;, \n        columnDefinition = &quot;text[]&quot;\n    )\n    private String[] sensorNames;\n \n    @Type( type = &quot;int-array&quot; )\n    @Column(\n        name = &quot;sensor_values&quot;, \n        columnDefinition = &quot;integer[]&quot;\n    )\n    private int[] sensorValues;\n \n    //Getters and setters omitted for brevity\n}\n</code></pre>\n<p>The <code>string-array</code> and <code>int-array</code> are custom types which can be defined in the <code>BaseEntity</code> superclass:</p>\n<pre><code>@TypeDefs({\n    @TypeDef(\n        name = &quot;string-array&quot;, \n        typeClass = StringArrayType.class\n    ),\n    @TypeDef(\n        name = &quot;int-array&quot;, \n        typeClass = IntArrayType.class\n    )\n})\n@MappedSuperclass\npublic class BaseEntity {\n\n    @Id\n    private Long id;\n\n    @Version\n    private Integer version;\n\n    //Getters and setters omitted for brevity\n}\n</code></pre>\n<p>The <code>StringArrayType</code> and <code>IntArrayType</code> are classes offered by the Hibernate Types project.</p>\n<h2>Testing time</h2>\n<p>Now, when you insert a couple of entities;</p>\n<pre><code>Event nullEvent = new Event();\nnullEvent.setId(0L);\nentityManager.persist(nullEvent);\n \nEvent event = new Event();\nevent.setId(1L);\nevent.setSensorNames(\n    new String[] {\n        &quot;Temperature&quot;, \n        &quot;Pressure&quot;\n    }\n);\nevent.setSensorValues( \n    new int[] {\n        12, \n        756\n    } \n);\nentityManager.persist(event);\n</code></pre>\n<p>Hibernate is going to generate the following SQL statements:</p>\n<pre><code>INSERT INTO event (\n    version, \n    sensor_names, \n    sensor_values, \n    id\n) \nVALUES (\n    0, \n    NULL(ARRAY), \n    NULL(ARRAY), \n    0\n)\n     \nINSERT INTO event (\n    version, \n    sensor_names, \n    sensor_values, \n    id\n) \nVALUES ( \n    0, \n    {&quot;Temperature&quot;,&quot;Pressure&quot;}, \n    {&quot;12&quot;,&quot;756&quot;}, \n    1\n)\n</code></pre>\n"}],"owner":{"account_id":48948,"reputation":35452,"user_id":145574,"accept_rate":90,"display_name":"pstanton"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90375,"favorite_count":0,"down_vote_count":0,"up_vote_count":65,"accepted_answer_id":1647660,"answer_count":6,"score":65,"last_activity_date":1667549368,"creation_date":1256866813,"question_id":1647583,"body_markdown":"Has anyone successfully mapped a numeric array in PostgreSQL to a numeric array in Java via Hibernate?\r\n\r\nSQL:\r\n\r\n    CREATE TABLE sal_emp (name text, pay_by_quarter integer[]);\r\n    INSERT INTO sal_emp VALUES (&#39;one&#39;, &#39;{1,2,3}&#39;);\r\n    INSERT INTO sal_emp VALUES (&#39;two&#39;, &#39;{4,5,6}&#39;);\r\n    INSERT INTO sal_emp VALUES (&#39;three&#39;, &#39;{2,4,6}&#39;);\r\n\r\n&lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;!DOCTYPE hibernate-mapping PUBLIC &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot; &quot;http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd&quot;&gt;\r\n\r\nMapping:\r\n\r\n    &lt;hibernate-mapping&gt;\r\n    \t&lt;class name=&quot;SalEmp&quot; table=&quot;sal_emp&quot;&gt;\r\n    \t\t&lt;id name=&quot;name&quot; /&gt;\r\n    \t\t&lt;property name=&quot;payByQuarter&quot; column=&quot;pay_by_quarter&quot; /&gt;\r\n    \t&lt;/class&gt;\r\n    &lt;/hibernate-mapping&gt;\r\n\r\nClass:\r\n\r\n    public class SalEmp implements Serializable{\r\n        private String name;\r\n        private Integer[] payByQuarter;\r\n        ...// getters &amp; setters\r\n    }\r\n\r\nI get an exception when querying the table.","title":"How to map a PostgreSQL array with Hibernate","body":"<p>Has anyone successfully mapped a numeric array in PostgreSQL to a numeric array in Java via Hibernate?</p>\n<p>SQL:</p>\n<pre><code>CREATE TABLE sal_emp (name text, pay_by_quarter integer[]);\nINSERT INTO sal_emp VALUES ('one', '{1,2,3}');\nINSERT INTO sal_emp VALUES ('two', '{4,5,6}');\nINSERT INTO sal_emp VALUES ('three', '{2,4,6}');\n</code></pre>\n\n\n<p>Mapping:</p>\n<pre><code>&lt;hibernate-mapping&gt;\n    &lt;class name=&quot;SalEmp&quot; table=&quot;sal_emp&quot;&gt;\n        &lt;id name=&quot;name&quot; /&gt;\n        &lt;property name=&quot;payByQuarter&quot; column=&quot;pay_by_quarter&quot; /&gt;\n    &lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n</code></pre>\n<p>Class:</p>\n<pre><code>public class SalEmp implements Serializable{\n    private String name;\n    private Integer[] payByQuarter;\n    ...// getters &amp; setters\n}\n</code></pre>\n<p>I get an exception when querying the table.</p>\n"},{"tags":["java","spring-boot","logging","spring-boot-actuator"],"answers":[{"tags":[],"owner":{"account_id":4475914,"reputation":14400,"user_id":3641067,"accept_rate":73,"display_name":"bur&#230;quete"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1569568334,"creation_date":1569568334,"answer_id":58129572,"question_id":54977273,"body_markdown":"Best way is to extend the actuator endpoint with [`@EndpointWebExtension`][1]. You can do the following;\r\n\r\n    @Component\r\n    @EndpointWebExtension(endpoint = HealthEndpoint.class)\r\n    public class HealthEndpointWebExtension {\r\n    \r\n        private HealthEndpoint healthEndpoint;\r\n        private HealthStatusHttpMapper statusHttpMapper;\r\n    \r\n        // Constructor\r\n    \r\n        @ReadOperation\r\n        public WebEndpointResponse&lt;Health&gt; health() {\r\n            Health health = this.healthEndpoint.health();\r\n            Integer status = this.statusHttpMapper.mapStatus(health.getStatus());\r\n            // log here depending on health status.\r\n            return new WebEndpointResponse&lt;&gt;(health, status);\r\n        }\r\n    }\r\n\r\nMore about actuator endpoint extending [here](https://www.baeldung.com/spring-boot-actuators), at **4.8. Extending Existing Endpoints**\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/actuate/endpoint/web/annotation/EndpointWebExtension.html","title":"Enable logging in spring boot actuator health check API","body":"<p>Best way is to extend the actuator endpoint with <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/actuate/endpoint/web/annotation/EndpointWebExtension.html\" rel=\"nofollow noreferrer\"><code>@EndpointWebExtension</code></a>. You can do the following;</p>\n\n<pre><code>@Component\n@EndpointWebExtension(endpoint = HealthEndpoint.class)\npublic class HealthEndpointWebExtension {\n\n    private HealthEndpoint healthEndpoint;\n    private HealthStatusHttpMapper statusHttpMapper;\n\n    // Constructor\n\n    @ReadOperation\n    public WebEndpointResponse&lt;Health&gt; health() {\n        Health health = this.healthEndpoint.health();\n        Integer status = this.statusHttpMapper.mapStatus(health.getStatus());\n        // log here depending on health status.\n        return new WebEndpointResponse&lt;&gt;(health, status);\n    }\n}\n</code></pre>\n\n<p>More about actuator endpoint extending <a href=\"https://www.baeldung.com/spring-boot-actuators\" rel=\"nofollow noreferrer\">here</a>, at <strong>4.8. Extending Existing Endpoints</strong></p>\n"},{"tags":[],"owner":{"account_id":2048628,"reputation":1037,"user_id":1828136,"accept_rate":91,"display_name":"perkss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667549016,"creation_date":1614453481,"answer_id":66402577,"question_id":54977273,"body_markdown":"If using Webflux this worked for me sample in Kotlin\r\n\r\n    @Component\r\n    @EndpointWebExtension(endpoint = HealthEndpoint::class)\r\n        class LoggingReactiveHealthEndpointWebExtension(\r\n              registry: ReactiveHealthContributorRegistry,\r\n              groups: HealthEndpointGroups\r\n        ) : ReactiveHealthEndpointWebExtension(registry, groups) {\r\n    \r\n        companion object {\r\n            private val logger = LoggerFactory.getLogger(LoggingReactiveHealthEndpointWebExtension::class.java)\r\n        }\r\n    \r\n        override fun health(\r\n            apiVersion: ApiVersion?,\r\n            securityContext: SecurityContext?,\r\n            showAll: Boolean,\r\n            vararg path: String?\r\n        ): Mono&lt;WebEndpointResponse&lt;out HealthComponent&gt;&gt; {\r\n            val health = super.health(apiVersion, securityContext, showAll, *path)\r\n    \r\n            return health.doOnNext {\r\n                if (it.body.status == UP) {\r\n                    logger.info(&quot;Health status: {}, {}&quot;, it.body.status, ObjectMapper().writeValueAsString(it.body))\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Enable logging in spring boot actuator health check API","body":"<p>If using Webflux this worked for me sample in Kotlin</p>\n<pre><code>@Component\n@EndpointWebExtension(endpoint = HealthEndpoint::class)\n    class LoggingReactiveHealthEndpointWebExtension(\n          registry: ReactiveHealthContributorRegistry,\n          groups: HealthEndpointGroups\n    ) : ReactiveHealthEndpointWebExtension(registry, groups) {\n\n    companion object {\n        private val logger = LoggerFactory.getLogger(LoggingReactiveHealthEndpointWebExtension::class.java)\n    }\n\n    override fun health(\n        apiVersion: ApiVersion?,\n        securityContext: SecurityContext?,\n        showAll: Boolean,\n        vararg path: String?\n    ): Mono&lt;WebEndpointResponse&lt;out HealthComponent&gt;&gt; {\n        val health = super.health(apiVersion, securityContext, showAll, *path)\n\n        return health.doOnNext {\n            if (it.body.status == UP) {\n                logger.info(&quot;Health status: {}, {}&quot;, it.body.status, ObjectMapper().writeValueAsString(it.body))\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6072452,"reputation":1805,"user_id":4740794,"accept_rate":69,"display_name":"Coder1224"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1666749566,"creation_date":1666748191,"answer_id":74201793,"question_id":54977273,"body_markdown":"The above answers did not work for me. I implemented the below and it works.  When you view `[myhost:port]/actuator/health` from your browser the below will execute.  You can also add `healthCheckLogger` to your readiness/liveness probes so it executes periodically.\r\n\r\n\r\n    @Slf4j\r\n    @Component\r\n    public class HealthCheckLogger implements HealthIndicator\r\n    {\r\n       @Lazy\r\n       @Autowired\r\n       private HealthEndpoint healthEndpoint;\r\n\r\n       @Override\r\n       public Health health()\r\n       {\r\n          log.info(&quot;DB health: {}&quot;, healthEndpoint.healthForPath(&quot;db&quot;));\r\n          log.info(&quot;DB health: {}&quot;, healthEndpoint.healthForPath(&quot;diskSpace&quot;));\r\n          return Health.up().build();\r\n       }\r\n    }\r\n ","title":"Enable logging in spring boot actuator health check API","body":"<p>The above answers did not work for me. I implemented the below and it works.  When you view <code>[myhost:port]/actuator/health</code> from your browser the below will execute.  You can also add <code>healthCheckLogger</code> to your readiness/liveness probes so it executes periodically.</p>\n<pre><code>@Slf4j\n@Component\npublic class HealthCheckLogger implements HealthIndicator\n{\n   @Lazy\n   @Autowired\n   private HealthEndpoint healthEndpoint;\n\n   @Override\n   public Health health()\n   {\n      log.info(&quot;DB health: {}&quot;, healthEndpoint.healthForPath(&quot;db&quot;));\n      log.info(&quot;DB health: {}&quot;, healthEndpoint.healthForPath(&quot;diskSpace&quot;));\n      return Health.up().build();\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1071795,"reputation":615,"user_id":1070874,"accept_rate":88,"display_name":"nico.ruti"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667549002,"creation_date":1667548880,"answer_id":74313827,"question_id":54977273,"body_markdown":"Extending the `HealthEndpoint` using a `EndpointWebExtension` does not work with newer Spring versions. It&#39;s not allowed to override the existing (web-) extension or re-register another one.\r\n\r\nAnother solution is using a `Filter`. The following implementation logs if the health check fails:\r\n\r\n    public class HealthLoggingFilter implements Filter {\r\n    \r\n        private static final Logger LOG = LoggerFactory.getLogger(HealthLoggingFilter.class);\r\n    \r\n        @Override\r\n        public void init(FilterConfig filterConfig) {\r\n            // nothing to do\r\n        }\r\n    \r\n        @Override\r\n        public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n            ContentCachingResponseWrapper responseCacheWrapperObject = new ContentCachingResponseWrapper((HttpServletResponse) response);\r\n            chain.doFilter(request, responseCacheWrapperObject);\r\n    \r\n            int status = ((HttpServletResponse) response).getStatus();\r\n            if (status &gt;= 400) { // unhealthy\r\n                byte[] responseArray = responseCacheWrapperObject.getContentAsByteArray();\r\n                String responseStr = new String(responseArray, responseCacheWrapperObject.getCharacterEncoding());\r\n                LOG.warn(&quot;Unhealthy. Health check returned: {}&quot;, responseStr);\r\n            }\r\n    \r\n            responseCacheWrapperObject.copyBodyToResponse();\r\n        }\r\n    \r\n        @Override\r\n        public void destroy() {\r\n            // nothing to do\r\n        }\r\n    }\r\n\r\nThe Filter can be registered for the `actuator/health` route using `FilterRegistrationBean`:\r\n\r\n    @Bean\r\n    public FilterRegistrationBean&lt;HealthLoggingFilter &gt; loggingFilter(){\r\n        FilterRegistrationBean&lt;HealthLoggingFilter &gt; registrationBean = new FilterRegistrationBean&lt;&gt;();\r\n\r\n        registrationBean.setFilter(new HealthLoggingFilter ());\r\n        registrationBean.addUrlPatterns(&quot;/actuator/health&quot;);\r\n\r\n        return registrationBean;    \r\n    }","title":"Enable logging in spring boot actuator health check API","body":"<p>Extending the <code>HealthEndpoint</code> using a <code>EndpointWebExtension</code> does not work with newer Spring versions. It's not allowed to override the existing (web-) extension or re-register another one.</p>\n<p>Another solution is using a <code>Filter</code>. The following implementation logs if the health check fails:</p>\n<pre><code>public class HealthLoggingFilter implements Filter {\n\n    private static final Logger LOG = LoggerFactory.getLogger(HealthLoggingFilter.class);\n\n    @Override\n    public void init(FilterConfig filterConfig) {\n        // nothing to do\n    }\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n        ContentCachingResponseWrapper responseCacheWrapperObject = new ContentCachingResponseWrapper((HttpServletResponse) response);\n        chain.doFilter(request, responseCacheWrapperObject);\n\n        int status = ((HttpServletResponse) response).getStatus();\n        if (status &gt;= 400) { // unhealthy\n            byte[] responseArray = responseCacheWrapperObject.getContentAsByteArray();\n            String responseStr = new String(responseArray, responseCacheWrapperObject.getCharacterEncoding());\n            LOG.warn(&quot;Unhealthy. Health check returned: {}&quot;, responseStr);\n        }\n\n        responseCacheWrapperObject.copyBodyToResponse();\n    }\n\n    @Override\n    public void destroy() {\n        // nothing to do\n    }\n}\n</code></pre>\n<p>The Filter can be registered for the <code>actuator/health</code> route using <code>FilterRegistrationBean</code>:</p>\n<pre><code>@Bean\npublic FilterRegistrationBean&lt;HealthLoggingFilter &gt; loggingFilter(){\n    FilterRegistrationBean&lt;HealthLoggingFilter &gt; registrationBean = new FilterRegistrationBean&lt;&gt;();\n\n    registrationBean.setFilter(new HealthLoggingFilter ());\n    registrationBean.addUrlPatterns(&quot;/actuator/health&quot;);\n\n    return registrationBean;    \n}\n</code></pre>\n"}],"owner":{"account_id":403455,"reputation":3784,"user_id":771226,"accept_rate":65,"display_name":"Amandeep Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8371,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":58129572,"answer_count":4,"score":12,"last_activity_date":1667549016,"creation_date":1551678271,"question_id":54977273,"body_markdown":"I am using Spring boot Actuator API for my [project][1] the having a health check endpoint, and enabled it by :\r\n\r\n    management.endpoints.web.base-path=/\r\n    management.endpoints.web.path-mapping.health=healthcheck\r\n\r\nMentioned [here](https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-monitoring.html)\r\n\r\nNow I want to enable log in my application log file when ever the status of this above `/healthcheck` fails and print the entire response from this end point.\r\n\r\nWhat is the correct way to achieve this?\r\n\r\n\r\n  [1]: https://imobilenumbertracker.com/","title":"Enable logging in spring boot actuator health check API","body":"<p>I am using Spring boot Actuator API for my <a href=\"https://imobilenumbertracker.com/\" rel=\"noreferrer\">project</a> the having a health check endpoint, and enabled it by :</p>\n\n<pre><code>management.endpoints.web.base-path=/\nmanagement.endpoints.web.path-mapping.health=healthcheck\n</code></pre>\n\n<p>Mentioned <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-monitoring.html\" rel=\"noreferrer\">here</a></p>\n\n<p>Now I want to enable log in my application log file when ever the status of this above <code>/healthcheck</code> fails and print the entire response from this end point.</p>\n\n<p>What is the correct way to achieve this?</p>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"score":0,"creation_date":1667548399,"post_id":74313699,"comment_id":131196575,"body_markdown":"need clarification. is it a standalone application that can be installed on multiple machines? Do you want to call external HTTP APIs? Have you looked at `HttpClient`, or `OkHttpClient`?","body":"need clarification. is it a standalone application that can be installed on multiple machines? Do you want to call external HTTP APIs? Have you looked at <code>HttpClient</code>, or <code>OkHttpClient</code>?"},{"owner":{"account_id":20040251,"reputation":75,"user_id":14691098,"display_name":"daviserraalonso"},"score":0,"creation_date":1667549100,"post_id":74313699,"comment_id":131196767,"body_markdown":"@sidgate i updated my question with many information. My problem it&#180;s that never build this apps and i don&#180;t know to do... if you have any tutorial or link","body":"@sidgate i updated my question with many information. My problem it&#180;s that never build this apps and i don&#180;t know to do... if you have any tutorial or link"},{"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"score":0,"creation_date":1667551800,"post_id":74313699,"comment_id":131197533,"body_markdown":"still not clear. are you saying that you will build a webserver with HTTP endpoints in java, that will store data in SQLite? And kotlin app will call this API endpoint? Better tell your functional requirement, like, what are you trying to achieve?","body":"still not clear. are you saying that you will build a webserver with HTTP endpoints in java, that will store data in SQLite? And kotlin app will call this API endpoint? Better tell your functional requirement, like, what are you trying to achieve?"},{"owner":{"account_id":20040251,"reputation":75,"user_id":14691098,"display_name":"daviserraalonso"},"score":0,"creation_date":1667551876,"post_id":74313699,"comment_id":131197554,"body_markdown":"@sidgate yes my app kotlin call to my endpoint java and this endpoint to do all operations","body":"@sidgate yes my app kotlin call to my endpoint java and this endpoint to do all operations"},{"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"score":0,"creation_date":1667551934,"post_id":74313699,"comment_id":131197573,"body_markdown":"so what is this question about? Is it about how to call HTTP endpoint from Kotlin? Or how to build a webserver in Java without any framework?","body":"so what is this question about? Is it about how to call HTTP endpoint from Kotlin? Or how to build a webserver in Java without any framework?"},{"owner":{"account_id":20040251,"reputation":75,"user_id":14691098,"display_name":"daviserraalonso"},"score":0,"creation_date":1667552003,"post_id":74313699,"comment_id":131197593,"body_markdown":"@sidgate  how to build a webserver in Java without any framework. What it&#180;s the better solution to do this","body":"@sidgate  how to build a webserver in Java without any framework. What it&#180;s the better solution to do this"},{"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"score":0,"creation_date":1667552240,"post_id":74313699,"comment_id":131197661,"body_markdown":"in that case @Ascendise &#39;s comment should help","body":"in that case @Ascendise &#39;s comment should help"},{"owner":{"account_id":20040251,"reputation":75,"user_id":14691098,"display_name":"daviserraalonso"},"score":0,"creation_date":1667552616,"post_id":74313699,"comment_id":131197765,"body_markdown":"@sidgate and Ascendise thanks for your recomendations","body":"@sidgate and Ascendise thanks for your recomendations"}],"owner":{"account_id":20040251,"reputation":75,"user_id":14691098,"display_name":"daviserraalonso"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1667552645,"answer_count":0,"score":0,"last_activity_date":1667548991,"creation_date":1667548131,"question_id":74313699,"body_markdown":"**First of all I apologize if this question is not relevant. It&#39;s not code at all, nor do I post any questions about code snippets.**\r\n\r\nI create this thread, because I need to create an **EndPoint** in java that receives POST and GET requests from a small software in kotlin. The problem I have is that **I can&#39;t use MVC structure or frameworks** so I can&#39;t use spring boot. I have been looking for information and have found that with java.net.URL and have seen some examples that both POST and GET requests can be received. What I intend to do is that my **kotlin** app updates and creates records in the DB, but I don&#39;t just want it to do it locally in a **SQLITE** DB, I need to do something different between DBs because my app will be able to update data from its account and those account data they can be viewed from a web application with Laravel and can also be modified.\r\n\r\nPlease, could someone guide me on how to do this?\r\n\r\nUPDATE: this Endpoint will be installed in server, and received petition from app kotlin. My endpoint updated central DB, and wil updated my SQLITE db with user it&#180;s logged. I can&#180;t use web application... i need use my endpoint with java. I think that i can use `java.net.URL` but never use it. \r\n\r\nThank you and regards","title":"Endpoint java to receive petitions Kotlin, recomendations","body":"<p><strong>First of all I apologize if this question is not relevant. It's not code at all, nor do I post any questions about code snippets.</strong></p>\n<p>I create this thread, because I need to create an <strong>EndPoint</strong> in java that receives POST and GET requests from a small software in kotlin. The problem I have is that <strong>I can't use MVC structure or frameworks</strong> so I can't use spring boot. I have been looking for information and have found that with java.net.URL and have seen some examples that both POST and GET requests can be received. What I intend to do is that my <strong>kotlin</strong> app updates and creates records in the DB, but I don't just want it to do it locally in a <strong>SQLITE</strong> DB, I need to do something different between DBs because my app will be able to update data from its account and those account data they can be viewed from a web application with Laravel and can also be modified.</p>\n<p>Please, could someone guide me on how to do this?</p>\n<p>UPDATE: this Endpoint will be installed in server, and received petition from app kotlin. My endpoint updated central DB, and wil updated my SQLITE db with user its logged. I cant use web application... i need use my endpoint with java. I think that i can use <code>java.net.URL</code> but never use it.</p>\n<p>Thank you and regards</p>\n"},{"tags":["java","gradle","intellij-idea","discord"],"comments":[{"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"score":0,"creation_date":1593524483,"post_id":62658493,"comment_id":110807461,"body_markdown":"Does this answer your question? [Why am I getting a NoClassDefFoundError in Java?](https://stackoverflow.com/questions/34413/why-am-i-getting-a-noclassdeffounderror-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/34413/why-am-i-getting-a-noclassdeffounderror-in-java\">Why am I getting a NoClassDefFoundError in Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":11660754,"reputation":1271,"user_id":8539159,"display_name":"Jithin Scaria"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593529490,"creation_date":1593529490,"answer_id":62660500,"question_id":62658493,"body_markdown":"It seems its not getting the imported class `DiscordApiBuilder` while trying execute. try giving class path while executing. In order to do that, try the following.\r\n\r\n**Firstly**, Put the jar for `org.javacord.api`(jar in which DiscordApiBuilder class exist) in the same location from which you are trying to execute the commenad.\r\n\r\n**Secondly**, edit the command and try below one,\r\n\r\n\r\n    # Note : assuming DiscordApiBuilder jar name is DiscordApiBuilder.jar\r\n    # -cp : this indicate Class Path. hence it will loop for the imports in the mentioned jar as well.\r\n\r\n    java -cp DiscordApiBuilder.jar -jar botgamin.jar\r\n\r\nHope this helps.","title":"Javacord on jar running I get java.lang.NoClassDefFoundError: org/javacord/api/DiscordApiBuilder","body":"<p>It seems its not getting the imported class <code>DiscordApiBuilder</code> while trying execute. try giving class path while executing. In order to do that, try the following.</p>\n<p><strong>Firstly</strong>, Put the jar for <code>org.javacord.api</code>(jar in which DiscordApiBuilder class exist) in the same location from which you are trying to execute the commenad.</p>\n<p><strong>Secondly</strong>, edit the command and try below one,</p>\n<pre><code># Note : assuming DiscordApiBuilder jar name is DiscordApiBuilder.jar\n# -cp : this indicate Class Path. hence it will loop for the imports in the mentioned jar as well.\n\njava -cp DiscordApiBuilder.jar -jar botgamin.jar\n</code></pre>\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":14908307,"reputation":11,"user_id":10764737,"display_name":"Beyley"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596940336,"creation_date":1596940336,"answer_id":63321969,"question_id":62658493,"body_markdown":"From what I read that error is caused by a difference in class-paths from compile-time to run-time, after a lot of digging I found out that adding\r\n\r\n    jar { \r\n        from {\r\n            configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\r\n        }\r\n    }\r\n\r\nto my build.gradle fixed the issue, this I believe packs the classpath into the jar file, so at runtime it can actually find it, correct me if I&#39;m wrong though.\r\nBut this did seem to fix the problem for me","title":"Javacord on jar running I get java.lang.NoClassDefFoundError: org/javacord/api/DiscordApiBuilder","body":"<p>From what I read that error is caused by a difference in class-paths from compile-time to run-time, after a lot of digging I found out that adding</p>\n<pre><code>jar { \n    from {\n        configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\n    }\n}\n</code></pre>\n<p>to my build.gradle fixed the issue, this I believe packs the classpath into the jar file, so at runtime it can actually find it, correct me if I'm wrong though.\nBut this did seem to fix the problem for me</p>\n"}],"owner":{"account_id":18859832,"reputation":50,"user_id":13756944,"display_name":"Maxisy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":805,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667548903,"creation_date":1593523378,"question_id":62658493,"body_markdown":"I&#39;m trying to make a discord bot in Java using Javacord. I made my code, built it with Gradle and typed cmd command: ```java -jar botgamin.jar```. I got this:\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/javacord/api/DiscordApiBuilder\r\n        at me.maxisy.gamingbot.Main.main(Main.java:10)\r\nCaused by: java.lang.ClassNotFoundException: org.javacord.api.DiscordApiBuilder\r\n        at java.net.URLClassLoader.findClass(Unknown Source)\r\n        at java.lang.ClassLoader.loadClass(Unknown Source)\r\n        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n        at java.lang.ClassLoader.loadClass(Unknown Source)\r\n        ... 1 more\r\n```\r\nCould someone help me? Here is my code: https://pasteboard.co/Jfuc7yN.png","title":"Javacord on jar running I get java.lang.NoClassDefFoundError: org/javacord/api/DiscordApiBuilder","body":"<p>I'm trying to make a discord bot in Java using Javacord. I made my code, built it with Gradle and typed cmd command: <code>java -jar botgamin.jar</code>. I got this:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/javacord/api/DiscordApiBuilder\n        at me.maxisy.gamingbot.Main.main(Main.java:10)\nCaused by: java.lang.ClassNotFoundException: org.javacord.api.DiscordApiBuilder\n        at java.net.URLClassLoader.findClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        ... 1 more\n</code></pre>\n<p>Could someone help me? Here is my code: <a href=\"https://pasteboard.co/Jfuc7yN.png\" rel=\"nofollow noreferrer\">https://pasteboard.co/Jfuc7yN.png</a></p>\n"},{"tags":["java","2d","terrain"],"comments":[{"owner":{"account_id":7662568,"reputation":143,"user_id":17931591,"display_name":"oren revenge"},"score":0,"creation_date":1667549034,"post_id":74313802,"comment_id":131196751,"body_markdown":"what does the input file look like and what should the output be ?","body":"what does the input file look like and what should the output be ?"},{"owner":{"account_id":26004226,"reputation":11,"user_id":19714185,"display_name":"Ziv the fire"},"score":0,"creation_date":1667551850,"post_id":74313802,"comment_id":131197543,"body_markdown":"The input file is a txt file but the issue is that it generates the 0 and 1 you see What it should be a 16 x12 grid of 0 and 1 the 1 should be like a lake around the map","body":"The input file is a txt file but the issue is that it generates the 0 and 1 you see What it should be a 16 x12 grid of 0 and 1 the 1 should be like a lake around the map"},{"owner":{"account_id":26004226,"reputation":11,"user_id":19714185,"display_name":"Ziv the fire"},"score":0,"creation_date":1667551895,"post_id":74313802,"comment_id":131197560,"body_markdown":"all of the info about the input is in the question","body":"all of the info about the input is in the question"}],"owner":{"account_id":26004226,"reputation":11,"user_id":19714185,"display_name":"Ziv the fire"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1667548869,"creation_date":1667548775,"question_id":74313802,"body_markdown":"Recently I started working on a game I made a system that takes txt files with numbers and turns them into a visual map to play on. I made this code: \r\n\r\n    con = new Random();\r\n    p = new Random();\r\n    Height=12;\r\n    next = -1;\r\n    Width=16;\r\n    a = &quot;&quot;;\r\n    ll = false;\r\n    gl = true;\r\n    All = &quot;&quot;;\r\n    down = false;\r\n    File myObj = new File(&quot;res/test.txt&quot;);\r\n    \r\n    myObj.createNewFile();\r\n    FileWriter myWriter = new FileWriter(&quot;res/test.txt&quot;);\r\n    Trim = All.replace(&quot; &quot;,&quot;&quot;);\r\n    while(Trim.length() &lt; (Width*Height-6)) {\r\n    \tif(gl == true) {\r\n    \t\tAll = All+&quot; &quot;+&quot;0&quot;;\r\n    \t\tSystem.out.println(All);\r\n    \t\tSystem.out.println(&quot;d&quot;);\r\n    \t}\r\n    \tTrim = All.replace(&quot; &quot;,&quot;&quot;);\r\n    \r\n    \r\n    \tCount +=1;\r\n    \r\n    \tif(down != true) {\r\n    \t\tchosen = p.nextInt(30);\r\n    \r\n    \t\tPosition = All.length();\r\n    \r\n    \r\n    \r\n    \t\tif(chosen == 14) {\r\n    \r\n    \t\t\tll = true;\r\n    \r\n    \r\n    \r\n    \r\n    \t\t\tSystem.out.println(ll);\r\n    \t\t\tif(ll == true) {\r\n    \r\n    \t\t\t\tnext = p.nextInt(4);\r\n    \t\t\t\tSystem.out.println(next);\r\n    \t\t\t\t//Cases\r\n    \t\t\t\tif(next == 0) {\r\n    \t\t\t\t\tAll = All+&quot; &quot;+&quot;1&quot;;\r\n    \t\t\t\t}\r\n    \t\t\t\tif(next == 1) {\r\n    \t\t\t\t\tif(All.length() &gt; 0) {\r\n    \t\t\t\t\t\tif(All.charAt(All.length()-1) != &#39;1&#39;) { \r\n    \t\t\t\t\t\t\tAll.replace(All.charAt(All.length()-1),&#39;1&#39;);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t} else {\r\n    \t\t\t\t\t\tif(All.charAt(All.length()) != &#39;1&#39;) { \r\n    \t\t\t\t\t\t\tAll.replace(All.charAt(All.length()),&#39;1&#39;);\r\n    \t\t\t\t\t\t\tAll.replace((char) All.lastIndexOf(&#39;0&#39;),&#39;1&#39;);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tif(next == 2) {\r\n    \t\t\t\t\tdown = true;\r\n    \t\t\t\t\tCPOSITION = Position + Width;\r\n    \r\n    \r\n    \t\t\t\t} else { \r\n    \t\t\t\t\tnext = 1;\r\n    \r\n    \t\t\t\t}\r\n    \t\t\t\tif(next == 3) {\r\n    \r\n    \t\t\t\t}\r\n    \t\t\t\tif(next == 4){\r\n    \r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t} else {\r\n    \t\t\tif(down == true) {\r\n    \t\t\t\tll = false;\r\n    \t\t\t\tgl = true;\r\n    \t\t\t}\r\n    \t\t\tif(All.length() == CPOSITION) {\r\n    \t\t\t\tAll = All+&quot; &quot;+&quot;1&quot;;\r\n    \t\t\t\tll = true;\r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \t\tif(Count &gt;= Width) {\r\n    \t\t\tCount =0;\r\n    \t\t\tAll = All + &quot;&quot; +&quot;\\n&quot;;\r\n    \t\t}\r\n    \r\n    \r\n    \r\n    \r\n    \t\t//End of Cases\r\n    \r\n    \r\n    \t}\r\n    \r\n    }   \r\n    \r\n    System.out.println(Trim.length()+&quot;-&quot;+(Width*Height-6));\r\n    System.out.println(All);\r\n    myWriter.write(All);\r\n    myWriter.close();\r\n    \r\n    }\r\n    }\r\n\r\nThe issue with that code is that instead of bringing me a lake (using the number 1)\r\nit gives me this :\r\n\r\n     0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0\r\n     0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0\r\n     0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0\r\n     0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0\r\n     0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0\r\n     0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0\r\n     0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0\r\n     0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 \r\n     0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0\r\n\r\nWhat I learned: when a 1 generates at a line it makes the line longer but it also seems like there is another issue I don&#39;t want to copy someones code I just want a explanation to how to fix it.\r\n","title":"Number &quot;Terrain generator&quot;","body":"<p>Recently I started working on a game I made a system that takes txt files with numbers and turns them into a visual map to play on. I made this code:</p>\n<pre><code>con = new Random();\np = new Random();\nHeight=12;\nnext = -1;\nWidth=16;\na = &quot;&quot;;\nll = false;\ngl = true;\nAll = &quot;&quot;;\ndown = false;\nFile myObj = new File(&quot;res/test.txt&quot;);\n\nmyObj.createNewFile();\nFileWriter myWriter = new FileWriter(&quot;res/test.txt&quot;);\nTrim = All.replace(&quot; &quot;,&quot;&quot;);\nwhile(Trim.length() &lt; (Width*Height-6)) {\n    if(gl == true) {\n        All = All+&quot; &quot;+&quot;0&quot;;\n        System.out.println(All);\n        System.out.println(&quot;d&quot;);\n    }\n    Trim = All.replace(&quot; &quot;,&quot;&quot;);\n\n\n    Count +=1;\n\n    if(down != true) {\n        chosen = p.nextInt(30);\n\n        Position = All.length();\n\n\n\n        if(chosen == 14) {\n\n            ll = true;\n\n\n\n\n            System.out.println(ll);\n            if(ll == true) {\n\n                next = p.nextInt(4);\n                System.out.println(next);\n                //Cases\n                if(next == 0) {\n                    All = All+&quot; &quot;+&quot;1&quot;;\n                }\n                if(next == 1) {\n                    if(All.length() &gt; 0) {\n                        if(All.charAt(All.length()-1) != '1') { \n                            All.replace(All.charAt(All.length()-1),'1');\n                        }\n                    } else {\n                        if(All.charAt(All.length()) != '1') { \n                            All.replace(All.charAt(All.length()),'1');\n                            All.replace((char) All.lastIndexOf('0'),'1');\n                        }\n                    }\n                }\n\n                if(next == 2) {\n                    down = true;\n                    CPOSITION = Position + Width;\n\n\n                } else { \n                    next = 1;\n\n                }\n                if(next == 3) {\n\n                }\n                if(next == 4){\n\n                }\n            }\n        } else {\n            if(down == true) {\n                ll = false;\n                gl = true;\n            }\n            if(All.length() == CPOSITION) {\n                All = All+&quot; &quot;+&quot;1&quot;;\n                ll = true;\n            }\n\n        }\n        if(Count &gt;= Width) {\n            Count =0;\n            All = All + &quot;&quot; +&quot;\\n&quot;;\n        }\n\n\n\n\n        //End of Cases\n\n\n    }\n\n}   \n\nSystem.out.println(Trim.length()+&quot;-&quot;+(Width*Height-6));\nSystem.out.println(All);\nmyWriter.write(All);\nmyWriter.close();\n\n}\n}\n</code></pre>\n<p>The issue with that code is that instead of bringing me a lake (using the number 1)\nit gives me this :</p>\n<pre><code> 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0\n 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0\n 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0\n 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0\n 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0\n 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0\n 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0\n 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 \n 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0\n</code></pre>\n<p>What I learned: when a 1 generates at a line it makes the line longer but it also seems like there is another issue I don't want to copy someones code I just want a explanation to how to fix it.</p>\n"},{"tags":["java","spring","spring-boot","spring-boot-actuator"],"comments":[{"owner":{"account_id":23392463,"reputation":183,"user_id":17456952,"display_name":"anonymous"},"score":1,"creation_date":1667476271,"post_id":74301852,"comment_id":131178130,"body_markdown":"Thanks @xerx593 I have removed `management.endpoint.metrics.show-details` I would like to see the details as mentioned here https://stackoverflow.com/questions/56987541/metrics-collection-for-spring-boot-rest-apis/56987784#56987784 using `http.server.requests`","body":"Thanks @xerx593 I have removed <code>management.endpoint.metrics.show-details</code> I would like to see the details as mentioned here <a href=\"https://stackoverflow.com/questions/56987541/metrics-collection-for-spring-boot-rest-apis/56987784#56987784\" title=\"metrics collection for spring boot rest apis\">stackoverflow.com/questions/56987541/&hellip;</a> using <code>http.server.requests</code>"},{"owner":{"account_id":23392463,"reputation":183,"user_id":17456952,"display_name":"anonymous"},"score":0,"creation_date":1667476810,"post_id":74301852,"comment_id":131178318,"body_markdown":"@xerx593 can you suggest me if I am missing anything here as I am not able to get the metrics details of `http.server.requests`","body":"@xerx593 can you suggest me if I am missing anything here as I am not able to get the metrics details of <code>http.server.requests</code>"}],"owner":{"account_id":23392463,"reputation":183,"user_id":17456952,"display_name":"anonymous"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":878,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667548717,"creation_date":1667472631,"question_id":74301852,"body_markdown":"I do have a spring boot project developed using Java 11 in which I am adding the spring boot actuator to use the metrics endpoint to analyze the API response time and codes. I have added the following in pom.xml and in the application.properties file. First I do hit the REST APIs that I have developed which return the required response and when I do check metrics using `http://localhost:8080/metrics` I cannot find http.server.requests in response.  \r\n\r\n**pom.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.6.6&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.abc&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;xyz&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;Project ABC&lt;/name&gt;\r\n    \t&lt;description&gt;Project for ...&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t\t&lt;apache.commons.lang3.version&gt;3.12.0&lt;/apache.commons.lang3.version&gt;\r\n    \t\t&lt;common.io.version&gt;2.11.0&lt;/common.io.version&gt;\r\n    \t\t&lt;springdoc-openapi-ui.version&gt;1.2.32&lt;/springdoc-openapi-ui.version&gt;\r\n    \t\t&lt;git.commit.id.plugin.version&gt;4.9.10&lt;/git.commit.id.plugin.version&gt;\r\n    \t\t&lt;problem.version&gt;0.26.0&lt;/problem.version&gt;\r\n    \t\t&lt;google.bean-matcher.version&gt;0.11&lt;/google.bean-matcher.version&gt;\r\n    \t\t&lt;arch.junit5.version&gt;0.13.1&lt;/arch.junit5.version&gt;\r\n    \t\t&lt;api-authenticator.version&gt;1.1.0&lt;/api-authenticator.version&gt;\r\n    \t\t&lt;org.json.version&gt;20220320&lt;/org.json.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${apache.commons.lang3.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${springdoc-openapi-ui.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.zalando&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;problem-spring-web&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${problem.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.zalando&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-datatype-problem&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${problem.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.code.bean-matchers&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;bean-matchers&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${google.bean-matcher.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.tngtech.archunit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;archunit-junit5-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${arch.junit5.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.tngtech.archunit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;archunit-junit5-engine&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${arch.junit5.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;artifactId&gt;android-json&lt;/artifactId&gt;\r\n    \t\t\t&lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t\t&lt;version&gt;0.0.20131108.vaadin1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${org.json.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;build-info&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n**application.properties** \r\n\r\n    # Timeout Configurations\r\n    connection.timeout=6000000\r\n    \r\n    # Logging Configurations\r\n    logging.level.root=INFO\r\n    logging.level.com.rwg.*=DEBUG\r\n    \r\n    # Validation Configurations\r\n    email.validation=^[\\\\w!#$%&amp;&#39;*+/=?`{|}~^-]+(?:\\\\.[\\\\w!#$%&amp;&#39;*+/=?`{|}~^-]+)*@(?:[a-zA-Z0-9-]+\\\\.)+[a-zA-Z]{2,6}\r\n    name.validation=^[a-zA-Z0-9_\\\\s]+$\r\n    \r\n    # API&#39;s for User\r\n    search. user = \r\n    create.user=\r\n    deactivate.user=\r\n    update.api= \r\n    \r\n    # Spring Boot Actuator Configurations\r\n    management.endpoint.health.show-details=ALWAYS\r\n    management.endpoints.web.base-path=\r\n    management.endpoint.metrics.enabled = true\r\n    management.endpoints.web.exposure.include = *\r\n    management.endpoints.web.path-mapping.health=/healthcheck\r\n    \r\n    spring.main.allow-circular-references = true\r\n    spring.mvc.pathmatch.matching-strategy=ant_path_matcher\r\n\r\n\r\n**UPDATE**\r\n\r\nI have removed all other classes and services and just kept the rest controller with one API which returns sample message and now I can see the `http.server.requests` in response. So I have tried to further invistage issue with my original project and found that it is due to the filter that I am using for authentication purpose. I am not sure why this filter is breaking the metrics endpoint\r\n\r\n\r\n    @Configuration\r\n    public class FilterConfiguration {\r\n    \r\n      @Autowired\r\n      private AuthenticationFilter authenticationFilter;\r\n    \r\n      @Autowired\r\n      private FilterRegistrationBean registration;\r\n    \r\n      /**\r\n       * Filter configuration bean to apply filter for given url patterns.\r\n       */\r\n      @Bean\r\n      public FilterRegistrationBean filterConfigurationForAuthentication() {\r\n        registration.setFilter(authenticationFilter);\r\n        registration.addUrlPatterns(&quot;/workers/endpoint-1&quot;);\r\n        registration.addUrlPatterns(&quot;/workers/endpoint-2&quot;);\r\n        registration.addUrlPatterns(&quot;/workers/endpoint-3&quot;);\r\n        return registration;\r\n      }\r\n    \r\n    }\r\n\r\n**Filter**\r\n\r\n    @Component\r\n    @Slf4j\r\n    public class AuthenticationFilter extends OncePerRequestFilter {\r\n    \r\n      @Value(&quot;${azure.jwt-key-validation-url}&quot;)\r\n      private String azureJwtValidationUrl;\r\n    \r\n      @Value(&quot;${header-name.authorization}&quot;)\r\n      private String authorizationHeader;\r\n    \r\n      @Value(&quot;${header-name.api-key}&quot;)\r\n      private String apiKeyHeader;\r\n    \r\n      @Value(&quot;${basic-auth-username}&quot;)\r\n      private String basicAuthUsername;\r\n    \r\n      @Value(&quot;${basic-auth-password}&quot;)\r\n      private String basicAuthPassword;\r\n    \r\n      @Value(&quot;${invalid.jwt.message}&quot;)\r\n      private String invalidJWT;\r\n    \r\n      @Value(&quot;${missing.jwt.message}&quot;)\r\n      private String missingJWT;\r\n    \r\n      @Value(&quot;${invalid.api-key.message}&quot;)\r\n      private String invalidApiKey;\r\n    \r\n      @Value(&quot;${missing.api-key.message}&quot;)\r\n      private String missingApiKey;\r\n    \r\n      @Value(&quot;${api.key}&quot;)\r\n      private String applicationApiKey;\r\n    \r\n      @Value(&quot;${invalid.username.message}&quot;)\r\n      private String invalidUsername;\r\n    \r\n      @Value(&quot;${invalid.password.message}&quot;)\r\n      private String invalidPassword;\r\n    \r\n      private final AuthenticationService authenticationService;\r\n    \r\n      public AuthenticationFilter(AuthenticationService authenticationService) {\r\n        this.authenticationService = authenticationService;\r\n      }\r\n    \r\n      /**\r\n       * Filter to process request and manage authentication for APIs. If valid JWT is provided request\r\n       * will be processed If JWT is invalid request will be terminated with required message\r\n       *\r\n       * @param request incoming request\r\n       * @param response response for incoming request\r\n       * @param chain filter chain\r\n       * @throws IOException if unable to process request\r\n       * @throws ServletException if unable to process request\r\n       */\r\n      @SneakyThrows\r\n      @Override\r\n      public void doFilterInternal(\r\n          HttpServletRequest request, HttpServletResponse response, FilterChain chain)\r\n          throws IOException, ServletException {\r\n        String authorizationHeaderValue = request.getHeader(authorizationHeader);\r\n    \r\n        String apiKeyFromRequest = request.getHeader(apiKeyHeader);\r\n        log.debug(&quot;api-key: {}, authorization: {}&quot;, apiKeyFromRequest, authorizationHeaderValue);\r\n        ...\r\n        chain.doFilter(request, response);\r\n      }\r\n    \r\n      /**\r\n       * Method to send forbidden response message\r\n       *\r\n       * @param response response for current request\r\n       * @param message message for client or API user\r\n       * @throws IOException if unable to send response\r\n       */\r\n      private void sendErrorMessage(HttpServletResponse response, String message)\r\n          throws IOException, JSONException {\r\n        JSONObject responseValue = new JSONObject();\r\n        responseValue.put(&quot;message&quot;, message);\r\n        response.setContentType(MediaType.APPLICATION_JSON_VALUE);\r\n        response.setStatus(HttpServletResponse.SC_FORBIDDEN);\r\n        response.getWriter().write(responseValue.toString());\r\n      }\r\n    }\r\n\r\n","title":"Spring Boot Actuator does not show http.server.requests in metrics endpoint","body":"<p>I do have a spring boot project developed using Java 11 in which I am adding the spring boot actuator to use the metrics endpoint to analyze the API response time and codes. I have added the following in pom.xml and in the application.properties file. First I do hit the REST APIs that I have developed which return the required response and when I do check metrics using <code>http://localhost:8080/metrics</code> I cannot find http.server.requests in response.</p>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.6&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.abc&lt;/groupId&gt;\n    &lt;artifactId&gt;xyz&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Project ABC&lt;/name&gt;\n    &lt;description&gt;Project for ...&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;apache.commons.lang3.version&gt;3.12.0&lt;/apache.commons.lang3.version&gt;\n        &lt;common.io.version&gt;2.11.0&lt;/common.io.version&gt;\n        &lt;springdoc-openapi-ui.version&gt;1.2.32&lt;/springdoc-openapi-ui.version&gt;\n        &lt;git.commit.id.plugin.version&gt;4.9.10&lt;/git.commit.id.plugin.version&gt;\n        &lt;problem.version&gt;0.26.0&lt;/problem.version&gt;\n        &lt;google.bean-matcher.version&gt;0.11&lt;/google.bean-matcher.version&gt;\n        &lt;arch.junit5.version&gt;0.13.1&lt;/arch.junit5.version&gt;\n        &lt;api-authenticator.version&gt;1.1.0&lt;/api-authenticator.version&gt;\n        &lt;org.json.version&gt;20220320&lt;/org.json.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;${apache.commons.lang3.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;${springdoc-openapi-ui.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.zalando&lt;/groupId&gt;\n            &lt;artifactId&gt;problem-spring-web&lt;/artifactId&gt;\n            &lt;version&gt;${problem.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.zalando&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-problem&lt;/artifactId&gt;\n            &lt;version&gt;${problem.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.bean-matchers&lt;/groupId&gt;\n            &lt;artifactId&gt;bean-matchers&lt;/artifactId&gt;\n            &lt;version&gt;${google.bean-matcher.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.tngtech.archunit&lt;/groupId&gt;\n            &lt;artifactId&gt;archunit-junit5-api&lt;/artifactId&gt;\n            &lt;version&gt;${arch.junit5.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.tngtech.archunit&lt;/groupId&gt;\n            &lt;artifactId&gt;archunit-junit5-engine&lt;/artifactId&gt;\n            &lt;version&gt;${arch.junit5.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;artifactId&gt;android-json&lt;/artifactId&gt;\n            &lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n            &lt;version&gt;0.0.20131108.vaadin1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;${org.json.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;build-info&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>application.properties</strong></p>\n<pre><code># Timeout Configurations\nconnection.timeout=6000000\n\n# Logging Configurations\nlogging.level.root=INFO\nlogging.level.com.rwg.*=DEBUG\n\n# Validation Configurations\nemail.validation=^[\\\\w!#$%&amp;'*+/=?`{|}~^-]+(?:\\\\.[\\\\w!#$%&amp;'*+/=?`{|}~^-]+)*@(?:[a-zA-Z0-9-]+\\\\.)+[a-zA-Z]{2,6}\nname.validation=^[a-zA-Z0-9_\\\\s]+$\n\n# API's for User\nsearch. user = \ncreate.user=\ndeactivate.user=\nupdate.api= \n\n# Spring Boot Actuator Configurations\nmanagement.endpoint.health.show-details=ALWAYS\nmanagement.endpoints.web.base-path=\nmanagement.endpoint.metrics.enabled = true\nmanagement.endpoints.web.exposure.include = *\nmanagement.endpoints.web.path-mapping.health=/healthcheck\n\nspring.main.allow-circular-references = true\nspring.mvc.pathmatch.matching-strategy=ant_path_matcher\n</code></pre>\n<p><strong>UPDATE</strong></p>\n<p>I have removed all other classes and services and just kept the rest controller with one API which returns sample message and now I can see the <code>http.server.requests</code> in response. So I have tried to further invistage issue with my original project and found that it is due to the filter that I am using for authentication purpose. I am not sure why this filter is breaking the metrics endpoint</p>\n<pre><code>@Configuration\npublic class FilterConfiguration {\n\n  @Autowired\n  private AuthenticationFilter authenticationFilter;\n\n  @Autowired\n  private FilterRegistrationBean registration;\n\n  /**\n   * Filter configuration bean to apply filter for given url patterns.\n   */\n  @Bean\n  public FilterRegistrationBean filterConfigurationForAuthentication() {\n    registration.setFilter(authenticationFilter);\n    registration.addUrlPatterns(&quot;/workers/endpoint-1&quot;);\n    registration.addUrlPatterns(&quot;/workers/endpoint-2&quot;);\n    registration.addUrlPatterns(&quot;/workers/endpoint-3&quot;);\n    return registration;\n  }\n\n}\n</code></pre>\n<p><strong>Filter</strong></p>\n<pre><code>@Component\n@Slf4j\npublic class AuthenticationFilter extends OncePerRequestFilter {\n\n  @Value(&quot;${azure.jwt-key-validation-url}&quot;)\n  private String azureJwtValidationUrl;\n\n  @Value(&quot;${header-name.authorization}&quot;)\n  private String authorizationHeader;\n\n  @Value(&quot;${header-name.api-key}&quot;)\n  private String apiKeyHeader;\n\n  @Value(&quot;${basic-auth-username}&quot;)\n  private String basicAuthUsername;\n\n  @Value(&quot;${basic-auth-password}&quot;)\n  private String basicAuthPassword;\n\n  @Value(&quot;${invalid.jwt.message}&quot;)\n  private String invalidJWT;\n\n  @Value(&quot;${missing.jwt.message}&quot;)\n  private String missingJWT;\n\n  @Value(&quot;${invalid.api-key.message}&quot;)\n  private String invalidApiKey;\n\n  @Value(&quot;${missing.api-key.message}&quot;)\n  private String missingApiKey;\n\n  @Value(&quot;${api.key}&quot;)\n  private String applicationApiKey;\n\n  @Value(&quot;${invalid.username.message}&quot;)\n  private String invalidUsername;\n\n  @Value(&quot;${invalid.password.message}&quot;)\n  private String invalidPassword;\n\n  private final AuthenticationService authenticationService;\n\n  public AuthenticationFilter(AuthenticationService authenticationService) {\n    this.authenticationService = authenticationService;\n  }\n\n  /**\n   * Filter to process request and manage authentication for APIs. If valid JWT is provided request\n   * will be processed If JWT is invalid request will be terminated with required message\n   *\n   * @param request incoming request\n   * @param response response for incoming request\n   * @param chain filter chain\n   * @throws IOException if unable to process request\n   * @throws ServletException if unable to process request\n   */\n  @SneakyThrows\n  @Override\n  public void doFilterInternal(\n      HttpServletRequest request, HttpServletResponse response, FilterChain chain)\n      throws IOException, ServletException {\n    String authorizationHeaderValue = request.getHeader(authorizationHeader);\n\n    String apiKeyFromRequest = request.getHeader(apiKeyHeader);\n    log.debug(&quot;api-key: {}, authorization: {}&quot;, apiKeyFromRequest, authorizationHeaderValue);\n    ...\n    chain.doFilter(request, response);\n  }\n\n  /**\n   * Method to send forbidden response message\n   *\n   * @param response response for current request\n   * @param message message for client or API user\n   * @throws IOException if unable to send response\n   */\n  private void sendErrorMessage(HttpServletResponse response, String message)\n      throws IOException, JSONException {\n    JSONObject responseValue = new JSONObject();\n    responseValue.put(&quot;message&quot;, message);\n    response.setContentType(MediaType.APPLICATION_JSON_VALUE);\n    response.setStatus(HttpServletResponse.SC_FORBIDDEN);\n    response.getWriter().write(responseValue.toString());\n  }\n}\n</code></pre>\n"},{"tags":["java","sockets","tcp","communication","objectinputstream"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1667493464,"post_id":74306548,"comment_id":131185089,"body_markdown":"`.reset()` shouldn&#39;t be there, it resets the mark which you never set. You&#39;re not using try-with to protect these resources. More generally, &#39;pseudocode&#39; isn&#39;t going to cut it. As your web searching indicates, this isn&#39;t exactly common and the obvious explanation is that bytes are being lost. __If__ the problem is your code, then we&#39;d need to actually see it.","body":"<code>.reset()</code> shouldn&#39;t be there, it resets the mark which you never set. You&#39;re not using try-with to protect these resources. More generally, &#39;pseudocode&#39; isn&#39;t going to cut it. As your web searching indicates, this isn&#39;t exactly common and the obvious explanation is that bytes are being lost. <b>If</b> the problem is your code, then we&#39;d need to actually see it."},{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1667498134,"post_id":74306548,"comment_id":131186694,"body_markdown":"This socket code with writeObject/readObject should work just fine. You should not get this error from this code.","body":"This socket code with writeObject/readObject should work just fine. You should not get this error from this code."},{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1667498155,"post_id":74306548,"comment_id":131186701,"body_markdown":"@rzwitserloot You are wrong about `reset` - see https://docs.oracle.com/javase/7/docs/api/java/io/ObjectOutputStream.html#reset() . I think you are confusing it with a different method which is also called `reset`","body":"@rzwitserloot You are wrong about <code>reset</code> - see <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/ObjectOutputStream.html#reset()\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/io/&hellip;</a> . I think you are confusing it with a different method which is also called <code>reset</code>"}],"owner":{"account_id":21159093,"reputation":21,"user_id":15557732,"display_name":"dlev99"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667548372,"creation_date":1667493204,"question_id":74306548,"body_markdown":"I&#39;m building software that passes objects over a TCP socket in Java - using the ObjectInputStream/ObjectOutputStream API.\r\nAlthough, after a minute of smooth communication I started to get the following error:\r\n`java.io.StreamCorruptedException: invalid type code: 40`\r\n\r\n\r\nI saw on stackoverflow how to overcome many types of `type code error`s, but could not find anything about type code 0x40.\r\nI would like to know if anyone has any idea what&#39;s the cause of this error and how to fix it.\r\nThanks!\r\n\r\nHere&#39;s a pseudocode of my program:\r\nServer module:\r\n```java\r\n    Socket client = server.accept();\r\n    ObjectOutputStream out = new ObjectOutputStream(client.getOutputStream());\r\n    ObjectInputStream in = new ObjectInputStream(client.getInputStream());\r\n\r\n    while(true)\r\n    {\r\n        out.writeObject(new MyObject());\r\n        out.flush();\r\n        out.reset();\r\n    }\r\n```\r\n\r\nClient module:\r\n```java\r\n    Socket s = new Socket(IP, PORT);\r\n    ObjectOutputStream out = new ObjectOutputStream(s.getOutputStream());\r\n    ObjectInputStream in = new ObjectInputStream(s.getInputStream());\r\n\r\n    while(true)\r\n    {\r\n        MyObject obj = (MyObject) in.readObject();\r\n    }\r\n```\r\n\r\n**EDIT:** if that gives anyone of you a clue - I&#39;m also getting a: \r\n\r\n`streamcorruptedexception: unexpected reset` error, few times before the invalid type code error.\r\n\r\n","title":"java.io.StreamCorruptedException: invalid type code: 40","body":"<p>I'm building software that passes objects over a TCP socket in Java - using the ObjectInputStream/ObjectOutputStream API.\nAlthough, after a minute of smooth communication I started to get the following error:\n<code>java.io.StreamCorruptedException: invalid type code: 40</code></p>\n<p>I saw on stackoverflow how to overcome many types of <code>type code error</code>s, but could not find anything about type code 0x40.\nI would like to know if anyone has any idea what's the cause of this error and how to fix it.\nThanks!</p>\n<p>Here's a pseudocode of my program:\nServer module:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    Socket client = server.accept();\n    ObjectOutputStream out = new ObjectOutputStream(client.getOutputStream());\n    ObjectInputStream in = new ObjectInputStream(client.getInputStream());\n\n    while(true)\n    {\n        out.writeObject(new MyObject());\n        out.flush();\n        out.reset();\n    }\n</code></pre>\n<p>Client module:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    Socket s = new Socket(IP, PORT);\n    ObjectOutputStream out = new ObjectOutputStream(s.getOutputStream());\n    ObjectInputStream in = new ObjectInputStream(s.getInputStream());\n\n    while(true)\n    {\n        MyObject obj = (MyObject) in.readObject();\n    }\n</code></pre>\n<p><strong>EDIT:</strong> if that gives anyone of you a clue - I'm also getting a:</p>\n<p><code>streamcorruptedexception: unexpected reset</code> error, few times before the invalid type code error.</p>\n"},{"tags":["java","txt"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1649219270,"post_id":71760968,"comment_id":126817428,"body_markdown":"When you use `line.lastIndexOf(&quot; &quot;)` here `line.substring(0, line.lastIndexOf(&quot; &quot;))` it does not include the space, so you need to add +1 to the substring end index `line.substring(0, line.lastIndexOf(&quot; &quot;) +1)` or add a space manually `line = line.substring(0, line.lastIndexOf(&quot; &quot;)) + &quot; &quot; + replenishedSalary;`","body":"When you use <code>line.lastIndexOf(&quot; &quot;)</code> here <code>line.substring(0, line.lastIndexOf(&quot; &quot;))</code> it does not include the space, so you need to add +1 to the substring end index <code>line.substring(0, line.lastIndexOf(&quot; &quot;) +1)</code> or add a space manually <code>line = line.substring(0, line.lastIndexOf(&quot; &quot;)) + &quot; &quot; + replenishedSalary;</code>"}],"answers":[{"tags":[],"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1667548004,"creation_date":1649219191,"answer_id":71761047,"question_id":71760968,"body_markdown":"You are losing space because `line.substring(0, line.lastIndexOf(&quot; &quot;))` will return a substring up to the last space not including the space so you could add a space after `line.substring(0, line.lastIndexOf(&quot; &quot;))` like below.\r\n\r\n```java\r\nline = line.substring(0, line.lastIndexOf(&quot; &quot;)) + &quot; &quot; + replenishedSalary;\r\n```\r\n\r\nAlso you can use [`String.format`](https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#format(java.lang.String,%20java.lang.Object...)) to create the line as below. \r\n\r\n```java\r\nline = String.format(&quot;%s %d&quot;,line.substring(0, line.lastIndexOf(&quot; &quot;)),replenishedSalary)\r\n```","title":"no space beetwen values txt java","body":"<p>You are losing space because <code>line.substring(0, line.lastIndexOf(&quot; &quot;))</code> will return a substring up to the last space not including the space so you could add a space after <code>line.substring(0, line.lastIndexOf(&quot; &quot;))</code> like below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>line = line.substring(0, line.lastIndexOf(&quot; &quot;)) + &quot; &quot; + replenishedSalary;\n</code></pre>\n<p>Also you can use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#format(java.lang.String,%20java.lang.Object...)\" rel=\"nofollow noreferrer\"><code>String.format</code></a> to create the line as below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>line = String.format(&quot;%s %d&quot;,line.substring(0, line.lastIndexOf(&quot; &quot;)),replenishedSalary)\n</code></pre>\n"}],"owner":{"account_id":24833990,"reputation":13,"user_id":18712849,"display_name":"kawaiison"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71761047,"answer_count":1,"score":0,"last_activity_date":1667548004,"creation_date":1649218340,"question_id":71760968,"body_markdown":"Code works fine, except one problem. After increasing salary the spaces beetwen values disapears and then my programm doesn&#39;t work well.\r\n\r\n    Joe 2022/04/05 HR-Manager44200\r\n    Steve 2022/04/06 Admin 100000\r\n\r\n&lt;!-- --&gt;    \r\n    \r\n    Scanner console = new Scanner(System.in); \r\n    System.out.print(&quot;Name of employee : &quot;); \r\n    String pID = console.nextLine(); System.out.print(&quot;Allowance : &quot;); \r\n    replenish = console.nextInt();    \r\n    File originalFile = new File(&quot;worker.txt&quot;);\r\n        BufferedReader br = new BufferedReader(new FileReader(originalFile));\r\n    \r\n        File tempFile = new File(&quot;tempfile.txt&quot;);\r\n        PrintWriter pw = new PrintWriter(new FileWriter(tempFile));\r\n    \r\n        String line = null;\r\n        while ((line = br.readLine()) != null) {\r\n    \r\n            if (line.contains(pID)) {\r\n                String strCurrentSalary = line.substring(line.lastIndexOf(&quot; &quot;));\r\n                if (strCurrentSalary != null || !strCurrentSalary.trim().isEmpty()) {\r\n                    int replenishedSalary = Integer.parseInt(strCurrentSalary.trim()) + replenish;\r\n                    System.out.println(&quot;Sum with added : &quot; + replenishedSalary);\r\n                    line = line.substring(0, line.lastIndexOf(&quot; &quot;)) + replenishedSalary;\r\n                }\r\n    \r\n            }\r\n            pw.println(line);\r\n            pw.flush();\r\n        }\r\n        pw.close();\r\n        br.close();\r\n\r\n\r\n\r\nI want to know where is the problem and why space doesn&#39;t adding","title":"no space beetwen values txt java","body":"<p>Code works fine, except one problem. After increasing salary the spaces beetwen values disapears and then my programm doesn't work well.</p>\n<pre><code>Joe 2022/04/05 HR-Manager44200\nSteve 2022/04/06 Admin 100000\n</code></pre>\n    \n<pre><code>Scanner console = new Scanner(System.in); \nSystem.out.print(&quot;Name of employee : &quot;); \nString pID = console.nextLine(); System.out.print(&quot;Allowance : &quot;); \nreplenish = console.nextInt();    \nFile originalFile = new File(&quot;worker.txt&quot;);\n    BufferedReader br = new BufferedReader(new FileReader(originalFile));\n\n    File tempFile = new File(&quot;tempfile.txt&quot;);\n    PrintWriter pw = new PrintWriter(new FileWriter(tempFile));\n\n    String line = null;\n    while ((line = br.readLine()) != null) {\n\n        if (line.contains(pID)) {\n            String strCurrentSalary = line.substring(line.lastIndexOf(&quot; &quot;));\n            if (strCurrentSalary != null || !strCurrentSalary.trim().isEmpty()) {\n                int replenishedSalary = Integer.parseInt(strCurrentSalary.trim()) + replenish;\n                System.out.println(&quot;Sum with added : &quot; + replenishedSalary);\n                line = line.substring(0, line.lastIndexOf(&quot; &quot;)) + replenishedSalary;\n            }\n\n        }\n        pw.println(line);\n        pw.flush();\n    }\n    pw.close();\n    br.close();\n</code></pre>\n<p>I want to know where is the problem and why space doesn't adding</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":80360,"reputation":5251,"user_id":227294,"display_name":"Andreas"},"score":0,"creation_date":1505419340,"post_id":46226884,"comment_id":79418433,"body_markdown":"Could you post your table DDL? The `columnDefinition` is used when hibernate generates the database for you, if you use liquibase for instance the DDL must not necessary match.","body":"Could you post your table DDL? The <code>columnDefinition</code> is used when hibernate generates the database for you, if you use liquibase for instance the DDL must not necessary match."},{"owner":{"account_id":280430,"reputation":189,"user_id":576127,"accept_rate":80,"display_name":"Sal Velazquez"},"score":0,"creation_date":1505421766,"post_id":46226884,"comment_id":79419640,"body_markdown":"Apologies.  I forgot to mention that hibernate is not set to generate the database for me.  Just to validate that the existing database works with my entities.","body":"Apologies.  I forgot to mention that hibernate is not set to generate the database for me.  Just to validate that the existing database works with my entities."}],"answers":[{"tags":[],"owner":{"account_id":3242856,"reputation":3347,"user_id":2735398,"accept_rate":79,"display_name":"Jan Wytze"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1505417798,"creation_date":1505417798,"answer_id":46226996,"question_id":46226884,"body_markdown":"This is another way for a create timestamp in spring:\r\n\r\n    @CreationTimestamp\r\n    @Column(name = &quot;create_timestamp&quot;)\r\n    private Date createTimestamp;","title":"JPA Entity CreateTimestamp is null after persist","body":"<p>This is another way for a create timestamp in spring:</p>\n\n<pre><code>@CreationTimestamp\n@Column(name = \"create_timestamp\")\nprivate Date createTimestamp;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6698896,"reputation":1,"user_id":5166092,"display_name":"slilie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505418630,"creation_date":1505418630,"answer_id":46227193,"question_id":46226884,"body_markdown":"It looks like you might want to add the annotation `@Temporal(TemporalType.TIMESTAMP)` to your column as discussed in the answer given [here](https://stackoverflow.com/questions/14703697/how-can-i-use-db-side-default-value-while-use-hibernate-save).\r\n\r\nLook [here](http://www.baeldung.com/hibernate-save-persist-update-merge-saveorupdate) for additional information on how persist, save, update, merge and saveOrUpdate perform differently for different object states.","title":"JPA Entity CreateTimestamp is null after persist","body":"<p>It looks like you might want to add the annotation <code>@Temporal(TemporalType.TIMESTAMP)</code> to your column as discussed in the answer given <a href=\"https://stackoverflow.com/questions/14703697/how-can-i-use-db-side-default-value-while-use-hibernate-save\">here</a>.</p>\n\n<p>Look <a href=\"http://www.baeldung.com/hibernate-save-persist-update-merge-saveorupdate\" rel=\"nofollow noreferrer\">here</a> for additional information on how persist, save, update, merge and saveOrUpdate perform differently for different object states.</p>\n"},{"tags":[],"owner":{"account_id":80360,"reputation":5251,"user_id":227294,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505423887,"creation_date":1505423887,"answer_id":46228370,"question_id":46226884,"body_markdown":"`columnDefinition` has only an effect if you let hibernate generate the database; otherwise it is just ignored. Just alter your column via your database migration tool to the desired state.\r\n\r\n\r\n&gt; columnDefinition\r\n&gt; \r\n&gt; (Optional) The SQL fragment that is used when generating the DDL for\r\n&gt; the column.\r\n[JPA JavaDoc][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/persistence/Column.html#columnDefinition--","title":"JPA Entity CreateTimestamp is null after persist","body":"<p><code>columnDefinition</code> has only an effect if you let hibernate generate the database; otherwise it is just ignored. Just alter your column via your database migration tool to the desired state.</p>\n\n<blockquote>\n  <p>columnDefinition</p>\n  \n  <p>(Optional) The SQL fragment that is used when generating the DDL for\n  the column.\n  <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/Column.html#columnDefinition--\" rel=\"nofollow noreferrer\">JPA JavaDoc</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":11930542,"reputation":69,"user_id":8730519,"display_name":"RiTesh SrivasTav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564301745,"creation_date":1564301745,"answer_id":57239084,"question_id":46226884,"body_markdown":"It is another solution ...!!!\r\n\r\n    @CreationTimestamp\r\n    private LocalDateTime createTime;\r\n\r\n\r\n    @UpdateTimestamp\r\n    private LocalDateTime updateTime;\r\n\r\n\r\nDon&#39;t Forget the use.. !!\r\n\r\n&quot; **@EntityListeners(AuditingEntityListener.class)** &quot;\r\n\r\nUse like this --\r\n\r\n[It is just Entity][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MFUUu.png","title":"JPA Entity CreateTimestamp is null after persist","body":"<p>It is another solution ...!!!</p>\n\n<pre><code>@CreationTimestamp\nprivate LocalDateTime createTime;\n\n\n@UpdateTimestamp\nprivate LocalDateTime updateTime;\n</code></pre>\n\n<p>Don't Forget the use.. !!</p>\n\n<p>\" <strong>@EntityListeners(AuditingEntityListener.class)</strong> \"</p>\n\n<p>Use like this --</p>\n\n<p><a href=\"https://i.stack.imgur.com/MFUUu.png\" rel=\"nofollow noreferrer\">It is just Entity</a></p>\n"},{"tags":[],"owner":{"account_id":16919246,"reputation":101,"user_id":12236439,"display_name":"Sai Vamsi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667547764,"creation_date":1667547764,"answer_id":74313648,"question_id":46226884,"body_markdown":"    import org.hibernate.annotations.CreationTimestamp;\r\n\r\n\r\n\r\n    @CreationTimestamp\r\n    @Column(name = &quot;created_at&quot;, updatable = false)\r\n    private Date createAt;","title":"JPA Entity CreateTimestamp is null after persist","body":"<pre><code>import org.hibernate.annotations.CreationTimestamp;\n\n\n\n@CreationTimestamp\n@Column(name = &quot;created_at&quot;, updatable = false)\nprivate Date createAt;\n</code></pre>\n"}],"owner":{"account_id":280430,"reputation":189,"user_id":576127,"accept_rate":80,"display_name":"Sal Velazquez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2952,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":5,"score":3,"last_activity_date":1667547764,"creation_date":1505417379,"question_id":46226884,"body_markdown":"I have an entity with the field called createTimestamp.  This is created by the database when it is inserted.  The getter looks like this: \r\n\r\n    @Column(name = &quot;create_timestamp&quot;, columnDefinition = &quot;TIMESTAMP DEFAULT CURRENT_TIMESTAMP&quot;, insertable = false)\r\n    public ZonedDateTime getCreateTimestamp() {\r\n        return createTimestamp;\r\n    }\r\n\r\nHowever, when my service calls the dao (spring repository) to create the entity, the create timestamp is null.\r\n\r\nMy dao method to create:\r\n\r\n    @Override\r\n    public int insert(AntennaSpec antennaSpec) {\r\n        super.save(antennaSpec);\r\n        logger.info(&quot;Antenna Spec &quot; + antennaSpec.getAntennaCode() + &quot; created&quot;);\r\n        return antennaSpec.getAntennaSpecId();\r\n    }\r\n\r\nMy REST resource class calls the service to create the entity by calling the create method.  The method returns the id of the newly created entity.  In the resource, I then call my service to return the entity passing the id and yet the create timestamp is null.  What i have done to get this to populate is in my resource, i&#39;ve detached the entity and then fetch the entity again.  That works but I don&#39;t like exposing `detach` to my service or resource classes.\r\n\r\nAny help would be appreciated. ","title":"JPA Entity CreateTimestamp is null after persist","body":"<p>I have an entity with the field called createTimestamp.  This is created by the database when it is inserted.  The getter looks like this: </p>\n\n<pre><code>@Column(name = \"create_timestamp\", columnDefinition = \"TIMESTAMP DEFAULT CURRENT_TIMESTAMP\", insertable = false)\npublic ZonedDateTime getCreateTimestamp() {\n    return createTimestamp;\n}\n</code></pre>\n\n<p>However, when my service calls the dao (spring repository) to create the entity, the create timestamp is null.</p>\n\n<p>My dao method to create:</p>\n\n<pre><code>@Override\npublic int insert(AntennaSpec antennaSpec) {\n    super.save(antennaSpec);\n    logger.info(\"Antenna Spec \" + antennaSpec.getAntennaCode() + \" created\");\n    return antennaSpec.getAntennaSpecId();\n}\n</code></pre>\n\n<p>My REST resource class calls the service to create the entity by calling the create method.  The method returns the id of the newly created entity.  In the resource, I then call my service to return the entity passing the id and yet the create timestamp is null.  What i have done to get this to populate is in my resource, i've detached the entity and then fetch the entity again.  That works but I don't like exposing <code>detach</code> to my service or resource classes.</p>\n\n<p>Any help would be appreciated. </p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1667547894,"post_id":74313499,"comment_id":131196458,"body_markdown":"Use a Set or HashMap to find the duplicates.","body":"Use a Set or HashMap to find the duplicates."},{"owner":{"account_id":5094214,"reputation":11492,"user_id":4086177,"accept_rate":25,"display_name":"Beri"},"score":0,"creation_date":1667548262,"post_id":74313499,"comment_id":131196545,"body_markdown":"Simplest solution would be to create a Set that holds row values or hash, to check if there are any duplicates. You could also go with JDK8 Files.lines(...).distinct().forEach(...). But it depends how large is Your row key - the values that matter in finding duplicates.","body":"Simplest solution would be to create a Set that holds row values or hash, to check if there are any duplicates. You could also go with JDK8 Files.lines(...).distinct().forEach(...). But it depends how large is Your row key - the values that matter in finding duplicates."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667552377,"post_id":74313499,"comment_id":131197694,"body_markdown":"@Beri `distinct()` is the *opposite* of what&#39;s needed","body":"@Beri <code>distinct()</code> is the <i>opposite</i> of what&#39;s needed"}],"owner":{"account_id":25044484,"reputation":11,"user_id":20415014,"display_name":"Kank Moiz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667547762,"creation_date":1667546789,"question_id":74313499,"body_markdown":"I have a CSV file with 5 columns. I need to find all duplicates from the file.\r\n\r\nFrom the below code, I can find all empty rows. Similarly, I need to find all duplicate values from the file. How can I find them?\r\n\r\nValidation on employee id and cost center need to find all duplicates based on those two values.\r\n\r\n```\r\nBufferedReader br = new BufferedReader(new InputStreamReader(_config.getPayrollFileUpload().getFile().getInputStream()));\r\nwhile ((currentLine = br.readLine()) != null) {\r\n   currentLine = removeCommaFromData(currentLine);\r\n   currentLineSplit = currentLine.replace(&quot;,&quot;, &quot;&quot;);\r\n   currentLineNum++;\r\n   if (!currentLineSplit.equals(&quot;&quot;) &amp;&amp; currentLineNum != 1) {\r\n   } else {\r\n      if (currentLineNum != 1) {\r\n         _messages.add(ActionMessages.GLOBAL_MESSAGE, new ActionMessage(&quot;error.payroll.emptyRow&quot;, String.valueOf(currentLineNum)));\r\n         emptyRow = true;\r\n      }\r\n   }\r\n}\r\n```\r\n[![enter image description here](https://i.stack.imgur.com/Iq5by.png)](https://i.stack.imgur.com/Iq5by.png)","title":"How to find the duplicate line from csv file","body":"<p>I have a CSV file with 5 columns. I need to find all duplicates from the file.</p>\n<p>From the below code, I can find all empty rows. Similarly, I need to find all duplicate values from the file. How can I find them?</p>\n<p>Validation on employee id and cost center need to find all duplicates based on those two values.</p>\n<pre><code>BufferedReader br = new BufferedReader(new InputStreamReader(_config.getPayrollFileUpload().getFile().getInputStream()));\nwhile ((currentLine = br.readLine()) != null) {\n   currentLine = removeCommaFromData(currentLine);\n   currentLineSplit = currentLine.replace(&quot;,&quot;, &quot;&quot;);\n   currentLineNum++;\n   if (!currentLineSplit.equals(&quot;&quot;) &amp;&amp; currentLineNum != 1) {\n   } else {\n      if (currentLineNum != 1) {\n         _messages.add(ActionMessages.GLOBAL_MESSAGE, new ActionMessage(&quot;error.payroll.emptyRow&quot;, String.valueOf(currentLineNum)));\n         emptyRow = true;\n      }\n   }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Iq5by.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Iq5by.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","string","input","percentage"],"comments":[{"owner":{"account_id":5595470,"reputation":34938,"user_id":4433386,"accept_rate":83,"display_name":"Marcus M&#252;ller"},"score":0,"creation_date":1667512068,"post_id":74309886,"comment_id":131190635,"body_markdown":"You forgot to tell us by tagging which language this is!","body":"You forgot to tell us by tagging which language this is!"},{"owner":{"account_id":5595470,"reputation":34938,"user_id":4433386,"accept_rate":83,"display_name":"Marcus M&#252;ller"},"score":0,"creation_date":1667512104,"post_id":74309886,"comment_id":131190644,"body_markdown":"I know it is java, but using a language tag helps your question be found.","body":"I know it is java, but using a language tag helps your question be found."},{"owner":{"account_id":5595470,"reputation":34938,"user_id":4433386,"accept_rate":83,"display_name":"Marcus M&#252;ller"},"score":0,"creation_date":1667512163,"post_id":74309886,"comment_id":131190666,"body_markdown":"Please use your code editor&#39;s abilities to automatically format and indent your code. As inconsistently as it is currently indented, it is quite possible to hide a logical bug in there.","body":"Please use your code editor&#39;s abilities to automatically format and indent your code. As inconsistently as it is currently indented, it is quite possible to hide a logical bug in there."},{"owner":{"account_id":26822960,"reputation":5,"user_id":20412020,"display_name":"Konmich"},"score":0,"creation_date":1667547199,"post_id":74309886,"comment_id":131196297,"body_markdown":"Thanks  @MarcusM&#252;ller for the hint. I forgott to tell that it&#39;s Java.","body":"Thanks  @MarcusM&#252;ller for the hint. I forgott to tell that it&#39;s Java."}],"answers":[{"tags":[],"owner":{"account_id":5083689,"reputation":1006,"user_id":4079056,"display_name":"sanurah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667547751,"creation_date":1667514946,"answer_id":74310280,"question_id":74309886,"body_markdown":" 1. System.out.println(&quot;Not a word&quot;); this meesage is wrong. it should be not a number.\r\n 2. You created an array stringPali but never used it? why?\r\n 3. loops starting with 1 is confusing. But it&#39;s up to you.\r\n 4. You should first add the words to the array finally you can count.\r\n You need the full user input to calculate percentage. So no point of counting valid strings while user is still entering input. Do it at the end.\r\n 5. You can use regex to match the strings that only contain letters and the strings that start with a capital letter.\r\n\r\n        import java.util.Scanner;\r\n    \r\n        public class ExampleCase {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            Scanner scan = new Scanner(System.in);\r\n            //Creating scanner object\r\n            boolean valid = true;\r\n            int numOfStrings = 0;\r\n    \r\n            do {\r\n                valid = true;\r\n                System.out.print(&quot;How many strings?: &quot;);\r\n                try {\r\n                    numOfStrings = Integer.parseInt(scan.nextLine());\r\n                } catch (NumberFormatException e) {\r\n                    System.out.println(&quot;Not a number&quot;);\r\n                    valid = false;\r\n                }\r\n            } while (!valid);\r\n    \r\n            String[] stringPali = new String[numOfStrings];\r\n    \r\n            for (int i = 0; i &lt; numOfStrings; i++) {\r\n                System.out.print(&quot;Enter string no.&quot; + i);\r\n                System.out.print(&quot;:&quot;);\r\n                String input = scan.nextLine();\r\n                stringPali[i] = input;\r\n            }\r\n    \r\n            System.out.println(&quot;Results&quot;);\r\n            System.out.println(&quot;Total number of strings: &quot; + numOfStrings);\r\n    \r\n            int validStringCount = countStrings(stringPali, &quot;^[a-zA-Z]*$&quot;);\r\n            double percentage = (double) validStringCount / numOfStrings;\r\n            System.out.println(String.format(&quot;Percentage of words: %f%%&quot;, percentage));\r\n    \r\n            int startWithCapitalCount = countStrings(stringPali, &quot;^[A-Z].*&quot;);\r\n            percentage = (double) startWithCapitalCount / numOfStrings;\r\n            System.out.println(String.format(&quot;Words starting with capital letter: %f%%&quot;, percentage));\r\n        }\r\n    \r\n        private static Integer countStrings(String[] stringPali, String pattern) {\r\n            int count = 0;\r\n            for (String str : stringPali) {\r\n                if (str.matches(pattern)) {\r\n                    count++;\r\n                }\r\n            }\r\n            return count;\r\n        }\r\n        }\r\n\r\n","title":"How to calculate the percentage of words in input strings in java","body":"<ol>\n<li><p>System.out.println(&quot;Not a word&quot;); this meesage is wrong. it should be not a number.</p>\n</li>\n<li><p>You created an array stringPali but never used it? why?</p>\n</li>\n<li><p>loops starting with 1 is confusing. But it's up to you.</p>\n</li>\n<li><p>You should first add the words to the array finally you can count.\nYou need the full user input to calculate percentage. So no point of counting valid strings while user is still entering input. Do it at the end.</p>\n</li>\n<li><p>You can use regex to match the strings that only contain letters and the strings that start with a capital letter.</p>\n<pre><code>import java.util.Scanner;\n\npublic class ExampleCase {\n\npublic static void main(String[] args) {\n\n    Scanner scan = new Scanner(System.in);\n    //Creating scanner object\n    boolean valid = true;\n    int numOfStrings = 0;\n\n    do {\n        valid = true;\n        System.out.print(&quot;How many strings?: &quot;);\n        try {\n            numOfStrings = Integer.parseInt(scan.nextLine());\n        } catch (NumberFormatException e) {\n            System.out.println(&quot;Not a number&quot;);\n            valid = false;\n        }\n    } while (!valid);\n\n    String[] stringPali = new String[numOfStrings];\n\n    for (int i = 0; i &lt; numOfStrings; i++) {\n        System.out.print(&quot;Enter string no.&quot; + i);\n        System.out.print(&quot;:&quot;);\n        String input = scan.nextLine();\n        stringPali[i] = input;\n    }\n\n    System.out.println(&quot;Results&quot;);\n    System.out.println(&quot;Total number of strings: &quot; + numOfStrings);\n\n    int validStringCount = countStrings(stringPali, &quot;^[a-zA-Z]*$&quot;);\n    double percentage = (double) validStringCount / numOfStrings;\n    System.out.println(String.format(&quot;Percentage of words: %f%%&quot;, percentage));\n\n    int startWithCapitalCount = countStrings(stringPali, &quot;^[A-Z].*&quot;);\n    percentage = (double) startWithCapitalCount / numOfStrings;\n    System.out.println(String.format(&quot;Words starting with capital letter: %f%%&quot;, percentage));\n}\n\nprivate static Integer countStrings(String[] stringPali, String pattern) {\n    int count = 0;\n    for (String str : stringPali) {\n        if (str.matches(pattern)) {\n            count++;\n        }\n    }\n    return count;\n}\n}\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":26822960,"reputation":5,"user_id":20412020,"display_name":"Konmich"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74310280,"answer_count":1,"score":0,"last_activity_date":1667547751,"creation_date":1667512000,"question_id":74309886,"body_markdown":"I am trying to calculate the percentage of valid inputs of words. \r\nI&#39;m stuck and every method I&#39;ve tried doesn&#39;t work. I was starting learning java two months ago,so i am new in this and i am not shure if I have done the right code. \r\n Could someone give me some advice on how to word it.Thanks in Advance\r\n\r\n\r\n```\r\npublic class Subject3\r\n{\r\n \r\n    public static void main (String[]args) {\r\n        \r\n        Scanner scan = new Scanner(System.in);\r\n        //Creating scanner object\r\n        boolean valid = true;\r\n        int numOfStrings=0;\r\n       \r\n        \r\n             do {\r\n            valid = true;\r\n            System.out.print(&quot;How many strings?: &quot;);\r\n                 try{\r\n                numOfStrings = Integer.parseInt(scan.nextLine());\r\n                   }catch (NumberFormatException e){\r\n                System.out.println(&quot;Not a word&quot;);\r\n                valid = false;\r\n                \r\n                \r\n               }\r\n               \r\n           }while (!valid);\r\n        \r\n           String[] stringPali = new String [numOfStrings];\r\n           String input;\r\n          \r\n           \r\n    \r\n            for (int i=1; i&lt;numOfStrings+1 ; i++) {\r\n               \r\n                \r\n                do {\r\n                    valid = true;\r\n                    System.out.print(&quot;Enter string no.&quot; +i );\r\n                    System.out.print(&quot;:&quot;);\r\n                    input = scan.nextLine();\r\n                    \r\n                    if (!input.matches(&quot;[A-Za-z0-9]+&quot;)){\r\n                        System.out.println(&quot;Not a word&quot;);\r\n                        \r\n                        \r\n                    }\r\n                    \r\n                   \r\n                }while (!valid);\r\n                \r\n            }\r\n               \r\n                \r\n               System.out.println(&quot;Results&quot;);\r\n               System.out.println(&quot;Total number of strings: &quot;+ numOfStrings);\r\n               \r\n               System.out.println(&quot;Percentage of words:&quot; +(percentage)(&quot;%&quot;));\r\n               System.out.println(&quot;Words starting with capital letter: &quot;+(&quot;%&quot;));\r\n            \r\n                }\r\n               \r\n        }\r\n```\r\n            \r\n\r\n","title":"How to calculate the percentage of words in input strings in java","body":"<p>I am trying to calculate the percentage of valid inputs of words.\nI'm stuck and every method I've tried doesn't work. I was starting learning java two months ago,so i am new in this and i am not shure if I have done the right code.\nCould someone give me some advice on how to word it.Thanks in Advance</p>\n<pre><code>public class Subject3\n{\n \n    public static void main (String[]args) {\n        \n        Scanner scan = new Scanner(System.in);\n        //Creating scanner object\n        boolean valid = true;\n        int numOfStrings=0;\n       \n        \n             do {\n            valid = true;\n            System.out.print(&quot;How many strings?: &quot;);\n                 try{\n                numOfStrings = Integer.parseInt(scan.nextLine());\n                   }catch (NumberFormatException e){\n                System.out.println(&quot;Not a word&quot;);\n                valid = false;\n                \n                \n               }\n               \n           }while (!valid);\n        \n           String[] stringPali = new String [numOfStrings];\n           String input;\n          \n           \n    \n            for (int i=1; i&lt;numOfStrings+1 ; i++) {\n               \n                \n                do {\n                    valid = true;\n                    System.out.print(&quot;Enter string no.&quot; +i );\n                    System.out.print(&quot;:&quot;);\n                    input = scan.nextLine();\n                    \n                    if (!input.matches(&quot;[A-Za-z0-9]+&quot;)){\n                        System.out.println(&quot;Not a word&quot;);\n                        \n                        \n                    }\n                    \n                   \n                }while (!valid);\n                \n            }\n               \n                \n               System.out.println(&quot;Results&quot;);\n               System.out.println(&quot;Total number of strings: &quot;+ numOfStrings);\n               \n               System.out.println(&quot;Percentage of words:&quot; +(percentage)(&quot;%&quot;));\n               System.out.println(&quot;Words starting with capital letter: &quot;+(&quot;%&quot;));\n            \n                }\n               \n        }\n</code></pre>\n"},{"tags":["java","unit-testing","sonarqube"],"answers":[{"tags":[],"owner":{"account_id":4905548,"reputation":81,"user_id":3952407,"display_name":"Bodo Teichmann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667547604,"creation_date":1667547604,"answer_id":74313628,"question_id":74230479,"body_markdown":"For a 100% coverage, you need to have a test for the throwing exception case **AND** for the non-exception case like this: \r\n\r\n```java\r\npackage de.playground.so74230479;\r\n\r\npublic class ExceptionBadRequest {\r\n    public void exceptionBadRequest(String errorMessage) throws Exception {\r\n        errorMessage = errorMessage.equals(&quot;&quot;) ? &quot;Error en su solicitud, request invalido! HTTP 400 Bad Request&quot; : errorMessage;\r\n        throw new Exception(\r\n                errorMessage);\r\n    }\r\n    public void myOtherMethod(boolean myBoolean) throws Exception {\r\n        boolean stateCampaign = myBoolean;\r\n        if (!stateCampaign) {\r\n            this.exceptionBadRequest(&quot;Esta campa&#241;a no se puede gestionar.&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\nand the test:\r\n```java\r\npackage de.playground.so74230479;\r\nimport org.junit.jupiter.api.Test;\r\nimport static org.junit.jupiter.api.Assertions.*;\r\n\r\nclass ExceptionBadRequestTest {\r\n    ExceptionBadRequest ebr = new ExceptionBadRequest();\r\n\r\n    @Test\r\n    void testNoFields() {\r\n        Exception noValidCampaign = assertThrows(Exception.class,\r\n                () -&gt; ebr.myOtherMethod(false));\r\n        assertEquals(&quot;Esta campa&#241;a no se puede gestionar.&quot;, noValidCampaign.getMessage());\r\n    }\r\n    @Test\r\n    void testWithFields() {\r\n        try {\r\n            ebr.myOtherMethod(true);\r\n        } catch (Exception e){\r\n            fail(&quot;no exception expected&quot;);\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0RpbB.png","title":"How to generate coverage in a method that throws an Exception?","body":"<p>For a 100% coverage, you need to have a test for the throwing exception case <strong>AND</strong> for the non-exception case like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.playground.so74230479;\n\npublic class ExceptionBadRequest {\n    public void exceptionBadRequest(String errorMessage) throws Exception {\n        errorMessage = errorMessage.equals(&quot;&quot;) ? &quot;Error en su solicitud, request invalido! HTTP 400 Bad Request&quot; : errorMessage;\n        throw new Exception(\n                errorMessage);\n    }\n    public void myOtherMethod(boolean myBoolean) throws Exception {\n        boolean stateCampaign = myBoolean;\n        if (!stateCampaign) {\n            this.exceptionBadRequest(&quot;Esta campaa no se puede gestionar.&quot;);\n        }\n    }\n}\n</code></pre>\n<p>and the test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.playground.so74230479;\nimport org.junit.jupiter.api.Test;\nimport static org.junit.jupiter.api.Assertions.*;\n\nclass ExceptionBadRequestTest {\n    ExceptionBadRequest ebr = new ExceptionBadRequest();\n\n    @Test\n    void testNoFields() {\n        Exception noValidCampaign = assertThrows(Exception.class,\n                () -&gt; ebr.myOtherMethod(false));\n        assertEquals(&quot;Esta campaa no se puede gestionar.&quot;, noValidCampaign.getMessage());\n    }\n    @Test\n    void testWithFields() {\n        try {\n            ebr.myOtherMethod(true);\n        } catch (Exception e){\n            fail(&quot;no exception expected&quot;);\n        }\n\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/0RpbB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0RpbB.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":18404829,"reputation":37,"user_id":13406904,"display_name":"BAPF123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":497,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667547604,"creation_date":1666929287,"question_id":74230479,"body_markdown":"I have a void function that throws an Exception. When I make the unit tests, Sonar doesn&#39;t detect coverage and I don&#39;t know why.\r\n\r\n**My void method:**\r\n\r\n    public void exceptionBadRequest(String errorMessage) throws ClientBadRequestException {\r\n        errorMessage = errorMessage.equals(&quot;&quot;) ? &quot;Error en su solicitud, request invalido! HTTP 400 Bad Request&quot; : errorMessage;\r\n        throw new ClientBadRequestException(\r\n                errorMessage);\r\n    }\r\n\r\n**Piece of code where I used the method**\r\n\r\n    boolean stateCampaign = (customerCampaign.getStateCampaign().equals(ENCURSO) || customerCampaign.getStateCampaign().equals(RECIBIDO));\r\n        if (!stateCampaign) {\r\n            this.exceptionBadRequest(&quot;Esta campa&#241;a no se puede gestionar.&quot;);\r\n        }\r\n\r\n**Aaaaaand the test**\r\n\r\n    @Test\r\n    void testNoFields() {\r\n        Exception noValidCampaign = assertThrows(ClientBadRequestException.class, () -&gt; documentLabService.saveInformationStatusOffersCampaigns(CustomerCampaign.builder().stateCampaign(&quot;PENDIENTE&quot;).build(), InformationStatusOffersCampaignsRequestDTO.builder().build()));\r\n        assertEquals(&quot;Esta campa&#241;a no se puede gestionar.&quot;, noValidCampaign.getMessage());\r\n    }\r\n\r\nSo, I&#39;m missing something but I don&#39;t know what exactly, when I run the test in IntelliJ it tells me it covers it, but when I look the generated report in SonarQube, it appears without coverage.\r\n\r\n[![IntelliJ][1]][1]\r\n\r\n[![SonarQube][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rsSGe.png\r\n  [2]: https://i.stack.imgur.com/MC88V.png","title":"How to generate coverage in a method that throws an Exception?","body":"<p>I have a void function that throws an Exception. When I make the unit tests, Sonar doesn't detect coverage and I don't know why.</p>\n<p><strong>My void method:</strong></p>\n<pre><code>public void exceptionBadRequest(String errorMessage) throws ClientBadRequestException {\n    errorMessage = errorMessage.equals(&quot;&quot;) ? &quot;Error en su solicitud, request invalido! HTTP 400 Bad Request&quot; : errorMessage;\n    throw new ClientBadRequestException(\n            errorMessage);\n}\n</code></pre>\n<p><strong>Piece of code where I used the method</strong></p>\n<pre><code>boolean stateCampaign = (customerCampaign.getStateCampaign().equals(ENCURSO) || customerCampaign.getStateCampaign().equals(RECIBIDO));\n    if (!stateCampaign) {\n        this.exceptionBadRequest(&quot;Esta campaa no se puede gestionar.&quot;);\n    }\n</code></pre>\n<p><strong>Aaaaaand the test</strong></p>\n<pre><code>@Test\nvoid testNoFields() {\n    Exception noValidCampaign = assertThrows(ClientBadRequestException.class, () -&gt; documentLabService.saveInformationStatusOffersCampaigns(CustomerCampaign.builder().stateCampaign(&quot;PENDIENTE&quot;).build(), InformationStatusOffersCampaignsRequestDTO.builder().build()));\n    assertEquals(&quot;Esta campaa no se puede gestionar.&quot;, noValidCampaign.getMessage());\n}\n</code></pre>\n<p>So, I'm missing something but I don't know what exactly, when I run the test in IntelliJ it tells me it covers it, but when I look the generated report in SonarQube, it appears without coverage.</p>\n<p><a href=\"https://i.stack.imgur.com/rsSGe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rsSGe.png\" alt=\"IntelliJ\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/MC88V.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MC88V.png\" alt=\"SonarQube\" /></a></p>\n"},{"tags":["java","amazon-aurora"],"comments":[{"owner":{"account_id":5094214,"reputation":11492,"user_id":4086177,"accept_rate":25,"display_name":"Beri"},"score":0,"creation_date":1667543858,"post_id":74313016,"comment_id":131195532,"body_markdown":"Are You using hibernate-types-52 with Your hibernate? Most uncommon types need a special converter to be implemented. Bare Hibernate does not support it. Check this post: https://stackoverflow.com/questions/1281188/text-field-using-hibernate-annotation","body":"Are You using hibernate-types-52 with Your hibernate? Most uncommon types need a special converter to be implemented. Bare Hibernate does not support it. Check this post: <a href=\"https://stackoverflow.com/questions/1281188/text-field-using-hibernate-annotation\" title=\"text field using hibernate annotation\">stackoverflow.com/questions/1281188/&hellip;</a>"},{"owner":{"account_id":13997894,"reputation":149,"user_id":10110256,"display_name":"NITIKA KHATKAR"},"score":0,"creation_date":1667543990,"post_id":74313016,"comment_id":131195569,"body_markdown":"@Beri not using Hibernate annotations","body":"@Beri not using Hibernate annotations"},{"owner":{"account_id":5094214,"reputation":11492,"user_id":4086177,"accept_rate":25,"display_name":"Beri"},"score":0,"creation_date":1667544140,"post_id":74313016,"comment_id":131195598,"body_markdown":"What framework are You using then to communicate with the DB? Plain JDBC?","body":"What framework are You using then to communicate with the DB? Plain JDBC?"},{"owner":{"account_id":13997894,"reputation":149,"user_id":10110256,"display_name":"NITIKA KHATKAR"},"score":0,"creation_date":1667544237,"post_id":74313016,"comment_id":131195615,"body_markdown":"I asm using aurora rds and communicating with data api","body":"I asm using aurora rds and communicating with data api"}],"answers":[{"tags":[],"owner":{"account_id":5083689,"reputation":1006,"user_id":4079056,"display_name":"sanurah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667547451,"creation_date":1667547127,"answer_id":74313559,"question_id":74313016,"body_markdown":"First consider that the table design has a &quot;one to many relationship&quot;\r\n[![enter image description here][1]][1]\r\n\r\nIf not,\r\n\r\ncheck data type for emailIds field on table it should be a text[]\r\nhttps://www.postgresql.org/docs/current/arrays.html\r\n\r\nif data type is also correct refer to below code,\r\n\r\n    import java.sql.Array;\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.PreparedStatement;\r\n    import java.sql.SQLException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class JavaPostgreSql {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            String url = &quot;jdbc:postgresql://localhost:5432/dbname&quot;;\r\n            String user = &quot;username&quot;;\r\n            String password = &quot;pword&quot;;\r\n    \r\n            List&lt;String&gt; emails = new ArrayList&lt;&gt;();\r\n            emails.add(&quot;abc@xyz.com&quot;);\r\n            emails.add(&quot;abcd@wxyz.com&quot;);\r\n            String[] emailsArray = emails.toArray(String[]::new);\r\n    \r\n            final String sql = &quot;INSERT INTO public.emails(id, emails) VALUES (nextval(&#39;emails_sequence&#39;), ?);&quot;;\r\n    \r\n            try{\r\n                Connection con = DriverManager.getConnection(url, user, password);\r\n                Array array = con.createArrayOf(&quot;TEXT&quot;, emailsArray);\r\n                PreparedStatement pstmt = con.prepareStatement(sql);\r\n                pstmt.setArray(1, array);\r\n                pstmt.executeUpdate();\r\n    \r\n            } catch (SQLException ex) {\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n    \r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sYSLB.png\r\n  [2]: https://i.stack.imgur.com/9WONv.png","title":"Unknown parameter type: java.util.ArrayList when casting java list to postgresql text[]","body":"<p>First consider that the table design has a &quot;one to many relationship&quot;\n<a href=\"https://i.stack.imgur.com/sYSLB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sYSLB.png\" alt=\"enter image description here\" /></a></p>\n<p>If not,</p>\n<p>check data type for emailIds field on table it should be a text[]\n<a href=\"https://www.postgresql.org/docs/current/arrays.html\" rel=\"nofollow noreferrer\">https://www.postgresql.org/docs/current/arrays.html</a></p>\n<p>if data type is also correct refer to below code,</p>\n<pre><code>import java.sql.Array;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.SQLException;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class JavaPostgreSql {\n\n    public static void main(String[] args) {\n\n        String url = &quot;jdbc:postgresql://localhost:5432/dbname&quot;;\n        String user = &quot;username&quot;;\n        String password = &quot;pword&quot;;\n\n        List&lt;String&gt; emails = new ArrayList&lt;&gt;();\n        emails.add(&quot;abc@xyz.com&quot;);\n        emails.add(&quot;abcd@wxyz.com&quot;);\n        String[] emailsArray = emails.toArray(String[]::new);\n\n        final String sql = &quot;INSERT INTO public.emails(id, emails) VALUES (nextval('emails_sequence'), ?);&quot;;\n\n        try{\n            Connection con = DriverManager.getConnection(url, user, password);\n            Array array = con.createArrayOf(&quot;TEXT&quot;, emailsArray);\n            PreparedStatement pstmt = con.prepareStatement(sql);\n            pstmt.setArray(1, array);\n            pstmt.executeUpdate();\n\n        } catch (SQLException ex) {\n            ex.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/9WONv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9WONv.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":13997894,"reputation":149,"user_id":10110256,"display_name":"NITIKA KHATKAR"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":423,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667547451,"creation_date":1667543678,"question_id":74313016,"body_markdown":"I have the list values stored in `java.util.List` \r\n\r\n    class DBObject {\r\n      ...\r\n      private List&lt;String&gt; emailIds;\r\n    }\r\n\r\nAnd in order to insert postgresql database, I am casting it as `CAST(:emailIds AS text[])`, but I am getting the error \r\n\r\n    java.lang.IllegalArgumentException: Unknown parameter type: java.util.ArrayList\r\n\r\nwhat am I doing wrong?","title":"Unknown parameter type: java.util.ArrayList when casting java list to postgresql text[]","body":"<p>I have the list values stored in <code>java.util.List</code></p>\n<pre><code>class DBObject {\n  ...\n  private List&lt;String&gt; emailIds;\n}\n</code></pre>\n<p>And in order to insert postgresql database, I am casting it as <code>CAST(:emailIds AS text[])</code>, but I am getting the error</p>\n<pre><code>java.lang.IllegalArgumentException: Unknown parameter type: java.util.ArrayList\n</code></pre>\n<p>what am I doing wrong?</p>\n"},{"tags":["java","spring","elasticsearch","spring-data-elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667547304,"creation_date":1667547304,"answer_id":74313592,"question_id":74313370,"body_markdown":"Just check if the index needs to be created, if so, create it and write the mapping:\r\n\r\n```java\r\nindexOperations = operations.indexOps(entityClass);\r\n\r\nif (!indexOperations.exists()) {\r\n\tindexOperations.createWithMapping();\r\n}\r\n```","title":"Spring elasticsearch how to generate mapping for all the fields?","body":"<p>Just check if the index needs to be created, if so, create it and write the mapping:</p>\n<pre class=\"lang-java prettyprint-override\"><code>indexOperations = operations.indexOps(entityClass);\n\nif (!indexOperations.exists()) {\n    indexOperations.createWithMapping();\n}\n</code></pre>\n"}],"owner":{"account_id":26579158,"reputation":7,"user_id":20204076,"display_name":"Java2Avaj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":378,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667547304,"creation_date":1667545903,"question_id":74313370,"body_markdown":"I have a Person class:\r\n\r\n    @Document(indexName = &quot;person&quot;)\r\n    @Data\r\n    @EqualsAndHashCode(callSuper = true)\r\n    public class Person extends BaseEntity implements Serializable {\r\n    \r\n      @Field(type=FieldType.Keyword)\r\n      private String firstName;\r\n    \r\n      @Field(type=FieldType.Keyword)\r\n      private String lastName;\r\n    \r\n      @MultiField(\r\n          mainField = @Field(type = FieldType.Keyword),\r\n          otherFields = {\r\n              @InnerField(type = FieldType.Text, suffix = &quot;ngrams&quot;, analyzer = &quot;ik_max_word&quot;, searchAnalyzer = &quot;ik_smart&quot;)\r\n          })\r\n      private String fullName;\r\n    \r\n      @Field\r\n      private String maidenName;\r\n    }\r\n\r\nI have an existing code that creates an index during startup:\r\n\r\n     final IndexOperations indexOperations = this.elasticsearchOperations.indexOps(clazz);\r\n          indexOperations.putMapping();\r\n\r\nNow, I have a requirement to generate mappings from it and create mappings once. Can somebody help how can I integrate it with the existing code to include mappings of the fields to make them static?","title":"Spring elasticsearch how to generate mapping for all the fields?","body":"<p>I have a Person class:</p>\n<pre><code>@Document(indexName = &quot;person&quot;)\n@Data\n@EqualsAndHashCode(callSuper = true)\npublic class Person extends BaseEntity implements Serializable {\n\n  @Field(type=FieldType.Keyword)\n  private String firstName;\n\n  @Field(type=FieldType.Keyword)\n  private String lastName;\n\n  @MultiField(\n      mainField = @Field(type = FieldType.Keyword),\n      otherFields = {\n          @InnerField(type = FieldType.Text, suffix = &quot;ngrams&quot;, analyzer = &quot;ik_max_word&quot;, searchAnalyzer = &quot;ik_smart&quot;)\n      })\n  private String fullName;\n\n  @Field\n  private String maidenName;\n}\n</code></pre>\n<p>I have an existing code that creates an index during startup:</p>\n<pre><code> final IndexOperations indexOperations = this.elasticsearchOperations.indexOps(clazz);\n      indexOperations.putMapping();\n</code></pre>\n<p>Now, I have a requirement to generate mappings from it and create mappings once. Can somebody help how can I integrate it with the existing code to include mappings of the fields to make them static?</p>\n"},{"tags":["java","spring","annotations"],"owner":{"account_id":18433184,"reputation":323,"user_id":16452929,"display_name":"CS1999"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667546995,"creation_date":1667546995,"question_id":74313535,"body_markdown":"I have the following class\r\n```\r\npublic class MyClass {\r\n\r\n   @Value(&quot;${printing.duration.seconds}&quot;)\r\n   private int duration;\r\n\r\n   @ManagedOperation(description = &quot;Printing will be enabled for ***Insert Here*** seconds&quot;)\r\n   public void print() {\r\n   //\r\n   }\r\n\r\n}\r\n```\r\nHow can I insert `duration` value in the description ?","title":"Insert a property value or variable in description of @ManagedOperation annotation","body":"<p>I have the following class</p>\n<pre><code>public class MyClass {\n\n   @Value(&quot;${printing.duration.seconds}&quot;)\n   private int duration;\n\n   @ManagedOperation(description = &quot;Printing will be enabled for ***Insert Here*** seconds&quot;)\n   public void print() {\n   //\n   }\n\n}\n</code></pre>\n<p>How can I insert <code>duration</code> value in the description ?</p>\n"},{"tags":["java","postgresql","tomcat","liferay","hsqldb"],"comments":[{"owner":{"account_id":1542148,"reputation":559,"user_id":1436519,"display_name":"jsjunkie"},"score":0,"creation_date":1404459263,"post_id":24568775,"comment_id":38056307,"body_markdown":"look if following link helps http://stackoverflow.com/questions/17967379/migrate-from-liferay-portal-ee-6-1-20-to-liferay-portal-ce-6-1-1","body":"look if following link helps <a href=\"http://stackoverflow.com/questions/17967379/migrate-from-liferay-portal-ee-6-1-20-to-liferay-portal-ce-6-1-1\" title=\"migrate from liferay portal ee 6 1 20 to liferay portal ce 6 1 1\">stackoverflow.com/questions/17967379/&hellip;</a>"},{"owner":{"account_id":3912470,"reputation":667,"user_id":3237372,"accept_rate":58,"display_name":"Martin D"},"score":0,"creation_date":1404460334,"post_id":24568775,"comment_id":38056818,"body_markdown":"Sorry, I haven&#39;t expressed myself clearly, I want to use both versions (no, not at the same time), not migrate.","body":"Sorry, I haven&#39;t expressed myself clearly, I want to use both versions (no, not at the same time), not migrate."}],"answers":[{"tags":[],"owner":{"account_id":459192,"reputation":4210,"user_id":859518,"display_name":"Pankaj Kathiriya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1404460308,"creation_date":1404459944,"answer_id":24569176,"question_id":24568775,"body_markdown":"This kind of error comes when you point Liferay of version X(6.2.0.1)  with database of Liferay version Y(6.1.0.1).\r\n\r\nYou first have to migrate your database. \r\n\r\nRefer link for [6.2 migration][1]\r\n\r\n\r\n  [1]: https://www.liferay.com/documentation/liferay-portal/6.2/user-guide/-/ai/upgrading-liferay-liferay-portal-6-2-user-guide-18-en\r\n\r\nEDIT====\r\n\r\nYou can have different database schema for different Liferay version. You can not run different version with same database schema.","title":"Attempting to deploy an older Liferay Portal version","body":"<p>This kind of error comes when you point Liferay of version X(6.2.0.1)  with database of Liferay version Y(6.1.0.1).</p>\n\n<p>You first have to migrate your database. </p>\n\n<p>Refer link for <a href=\"https://www.liferay.com/documentation/liferay-portal/6.2/user-guide/-/ai/upgrading-liferay-liferay-portal-6-2-user-guide-18-en\" rel=\"nofollow\">6.2 migration</a></p>\n\n<p>EDIT====</p>\n\n<p>You can have different database schema for different Liferay version. You can not run different version with same database schema.</p>\n"},{"tags":[],"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1404460781,"creation_date":1404460781,"answer_id":24569424,"question_id":24568775,"body_markdown":"In the Liferay installation directory you&#39;ll typically find a file named portal-ext.properties. This typically has the configuration for the database that Liferay shall use. Both versions that you are running should point to a different database, then you can have both installations in paralell.\r\n\r\nIf you want to run them at the same time, you&#39;ll also need to modify tomcat (assuming that&#39;s the appserver you use. Look for all `port=&quot;xxxx&quot;` declarations in `tomcat/conf/server.xml` and change them to distinct values (OOTB there are three for every tomcat installation). In Eclipse/Liferay IDE you can also find the port declaration in the server information screen.","title":"Attempting to deploy an older Liferay Portal version","body":"<p>In the Liferay installation directory you'll typically find a file named portal-ext.properties. This typically has the configuration for the database that Liferay shall use. Both versions that you are running should point to a different database, then you can have both installations in paralell.</p>\n\n<p>If you want to run them at the same time, you'll also need to modify tomcat (assuming that's the appserver you use. Look for all <code>port=\"xxxx\"</code> declarations in <code>tomcat/conf/server.xml</code> and change them to distinct values (OOTB there are three for every tomcat installation). In Eclipse/Liferay IDE you can also find the port declaration in the server information screen.</p>\n"},{"tags":[],"owner":{"account_id":2814725,"reputation":69,"user_id":3443544,"display_name":"asif aftab"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1459631585,"creation_date":1459631585,"answer_id":36378756,"question_id":24568775,"body_markdown":"You can check this link as it helps me.\r\n[Click here][1]\r\n\r\nThere is a table called release_ which contains a column build number. \r\nThis has build number.\r\nI faced same issue so I deleted only this table and then restart server again.\r\nI have back up for my db for version liferay 6.2 cega2.\r\nI tried to install same version in different machine and I got this error.\r\n\r\n\r\n  [1]: https://www.liferay.com/community/forums/-/message_boards/view_message/18188268","title":"Attempting to deploy an older Liferay Portal version","body":"<p>You can check this link as it helps me.\n<a href=\"https://www.liferay.com/community/forums/-/message_boards/view_message/18188268\" rel=\"nofollow\">Click here</a></p>\n\n<p>There is a table called release_ which contains a column build number. \nThis has build number.\nI faced same issue so I deleted only this table and then restart server again.\nI have back up for my db for version liferay 6.2 cega2.\nI tried to install same version in different machine and I got this error.</p>\n"}],"owner":{"account_id":3912470,"reputation":667,"user_id":3237372,"accept_rate":58,"display_name":"Martin D"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5323,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":24569424,"answer_count":3,"score":3,"last_activity_date":1667546517,"creation_date":1404458579,"question_id":24568775,"body_markdown":"I have a really weird issue to solve. I&#39;m getting following error line when trying to start **Liferay Portal**  on **Tomcat**:\r\n\r\n    java.lang.IllegalStateException: Attempting to deploy an older Liferay Portal version. Current build version is 6201 and attempting to deploy version 6101.\r\n\tat com.liferay.portal.tools.DBUpgrader.upgrade(DBUpgrader.java:105)\r\n\tat com.liferay.portal.events.StartupAction.doRun(StartupAction.java:144)\r\n\tat com.liferay.portal.events.StartupAction.run(StartupAction.java:52)\r\n\tat com.liferay.portal.servlet.MainServlet.processStartupEvents(MainServlet.java:1306)\r\n\tat com.liferay.portal.servlet.MainServlet.init(MainServlet.java:214)\r\n\tat javax.servlet.GenericServlet.init(GenericServlet.java:160)\r\n\tat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1266)\r\n\tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1185)\r\n\tat org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1080)\r\n\tat org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:5015)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5302)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:895)\r\n\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:871)\r\n\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:615)\r\n\tat org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:649)\r\n\tat org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1585)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:262)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n\r\nI&#39;ve found only topics where people actually wanted to upgrade portal and got this message. What my workspace looks like is as this:\r\n\r\n - Windows, localhost, \r\n - Liferay 6.1 CE bundled with Tomcat, running on JRE 6, using PostgreSQL, \r\n - Liferay 6.2 CE bundled with Tomcat, running on JRE 7, using HSQL.\r\n\r\nI don&#39;t want to upgrade, I just want to have both versions present.\r\n\r\nThanks guys!","title":"Attempting to deploy an older Liferay Portal version","body":"<p>I have a really weird issue to solve. I'm getting following error line when trying to start <strong>Liferay Portal</strong>  on <strong>Tomcat</strong>:</p>\n\n<pre><code>java.lang.IllegalStateException: Attempting to deploy an older Liferay Portal version. Current build version is 6201 and attempting to deploy version 6101.\nat com.liferay.portal.tools.DBUpgrader.upgrade(DBUpgrader.java:105)\nat com.liferay.portal.events.StartupAction.doRun(StartupAction.java:144)\nat com.liferay.portal.events.StartupAction.run(StartupAction.java:52)\nat com.liferay.portal.servlet.MainServlet.processStartupEvents(MainServlet.java:1306)\nat com.liferay.portal.servlet.MainServlet.init(MainServlet.java:214)\nat javax.servlet.GenericServlet.init(GenericServlet.java:160)\nat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1266)\nat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1185)\nat org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1080)\nat org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:5015)\nat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5302)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\nat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:895)\nat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:871)\nat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:615)\nat org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:649)\nat org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1585)\nat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\nat java.util.concurrent.FutureTask.run(FutureTask.java:262)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\nat java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>I've found only topics where people actually wanted to upgrade portal and got this message. What my workspace looks like is as this:</p>\n\n<ul>\n<li>Windows, localhost, </li>\n<li>Liferay 6.1 CE bundled with Tomcat, running on JRE 6, using PostgreSQL, </li>\n<li>Liferay 6.2 CE bundled with Tomcat, running on JRE 7, using HSQL.</li>\n</ul>\n\n<p>I don't want to upgrade, I just want to have both versions present.</p>\n\n<p>Thanks guys!</p>\n"},{"tags":["java","javafx","javafx-webview"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1667510260,"post_id":74309273,"comment_id":131190164,"body_markdown":"You can get [debug info in WebView you can use the (caution internal API) WebConsoleListener](https://stackoverflow.com/questions/57167872/webconsolelistener-illegalaccesserror-in-javafx-12).  Also see [related info](https://stackoverflow.com/questions/15522315/how-to-get-the-javafx-webengine-to-report-errors-in-detail) and [JavaFX 8 WebEngine: How to get console.log() from javascript to System.out in java?](https://stackoverflow.com/questions/28687640/javafx-8-webengine-how-to-get-console-log-from-javascript-to-system-out-in-ja).  I haven&#39;t tried the solution from the JavaFX 8 question.","body":"You can get <a href=\"https://stackoverflow.com/questions/57167872/webconsolelistener-illegalaccesserror-in-javafx-12\">debug info in WebView you can use the (caution internal API) WebConsoleListener</a>.  Also see <a href=\"https://stackoverflow.com/questions/15522315/how-to-get-the-javafx-webengine-to-report-errors-in-detail\">related info</a> and <a href=\"https://stackoverflow.com/questions/28687640/javafx-8-webengine-how-to-get-console-log-from-javascript-to-system-out-in-ja\">JavaFX 8 WebEngine: How to get console.log() from javascript to System.out in java?</a>.  I haven&#39;t tried the solution from the JavaFX 8 question."},{"owner":{"account_id":1689410,"reputation":211,"user_id":1552081,"display_name":"Troels"},"score":0,"creation_date":1667551926,"post_id":74309273,"comment_id":131197570,"body_markdown":"Good info! I&#39;ll have a look, that would really make things easier.","body":"Good info! I&#39;ll have a look, that would really make things easier."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1667546221,"creation_date":1667517035,"answer_id":74310505,"question_id":74309273,"body_markdown":"*Calling Java from JavaScript*\r\n\r\n[![screenshot][1]][1]\r\n\r\nThe example:\r\n\r\n 1. Creates a JavaFX [`Label`][2] and a [`WebView`][3].\r\n 2. Loads an HTML document.\r\n 3. Associates a [`JSObject`][4] with the JavaFX app.\r\n 4. The JavaFX app exposes a method that provides the label.\r\n 5. JavaScript is invoked which gets the app provided by the JSObject.\r\n 6. JavaScript gets the label from the app and the text from the label.\r\n 7. JavaScript sets the copied label text into an element in the HTML document which is displayed by the WebView.\r\n\r\nSome things to note:\r\n\r\n 1. Use [current documentation on `WebEngine`][5] (for JavaFX 19), don&#39;t use outdated documentation from JavaFX 2.  \r\n\r\n    * The outdated documentation does not explain how to use the `WebEngine` within a modular environment.  The additional information on modularity will be critical for some applications.\r\n\r\n 2. To access the `WebView`, use:\r\n\r\n        requires javafx.web;\r\n\r\n 3. To access the `JSObject` which bridges Java and the WebView, use:\r\n\r\n        requires jdk.jsobject;\r\n\r\n 4. To have your code accessible to JavaScript executing in `WebView`, use:\r\n        \r\n        opens &lt;package-with-your-code&gt; to javafx.web\r\n\r\n    This is required because, internally, the `WebEngine` will use reflection on your code to allow JavaScript to call it. \r\n\r\n 5. Make sure the document is loaded before performing actions on it.\r\n\r\nYou don&#39;t (as far as I can tell) need to provide transitive access to the objects you return to the webview.  For instance, in the JavaScript I call, `app.getLabel().getText();`, but just opening the package with my app to `javafx.web` is sufficient, I don&#39;t need to open the `javafx.scene.control` package to `javafx.web`.  I&#39;m not exactly sure why things work like that, but that appeared to be the case.\r\n\r\nThis JavaScript will also work:\r\n\r\n    var label = app.getLabel(); \r\n    document.getElementById(&#39;text-from-java&#39;).innerHTML = label.getText();\r\n\r\nBut this next JavaScript will not work, because the type `Label` is not known to JavaScript, even though when you use the `var` form you can execute methods on the var which is a `javafx.scene.control.Label`:\r\n\r\n    Label label = app.getLabel(); \r\n    document.getElementById(&#39;text-from-java&#39;).innerHTML = label.getText();\r\n\r\n*com/example/bridge/BridgeApp.java*\r\n\r\n    package com.example.bridge;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.geometry.Insets;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.scene.web.WebEngine;\r\n    import javafx.scene.web.WebView;\r\n    import javafx.stage.Stage;\r\n    import netscape.javascript.JSObject;\r\n    \r\n    public class BridgeApp extends Application {\r\n        private final Label label = new Label(&quot;Text copied from JavaFX to WebView&quot;);\r\n    \r\n        private static final String HTML = // language=HTML\r\n                &quot;&quot;&quot;\r\n                &lt;!DOCTYPE html&gt;\r\n                &lt;html lang=&quot;en&quot;&gt;\r\n                &lt;head&gt;\r\n                    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n                    &lt;title&gt;Home&lt;/title&gt;\r\n                &lt;/head&gt;\r\n                &lt;body&gt;\r\n                    &lt;span id=&quot;text-from-java&quot;&gt;&lt;/span&gt;\r\n                &lt;/body&gt;\r\n                &lt;/html&gt;\r\n                &quot;&quot;&quot;;\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n            WebView webView = new WebView();\r\n            WebEngine engine = webView.getEngine();\r\n            engine.documentProperty().addListener((observable, oldValue, newDocument) -&gt; {\r\n                JSObject window = (JSObject) engine.executeScript(\r\n                        &quot;window&quot;\r\n                );\r\n                window.setMember(\r\n                        &quot;app&quot;,\r\n                        this\r\n                );\r\n                engine.executeScript(\r\n                        &quot;document.getElementById(&#39;text-from-java&#39;).innerHTML = app.getLabel().getText();&quot;\r\n                );\r\n            });\r\n            engine.loadContent(HTML);\r\n    \r\n            VBox layout = new VBox(\r\n                    10,\r\n                    label,\r\n                    webView\r\n            );\r\n            layout.setPadding(new Insets(10));\r\n    \r\n            Scene scene = new Scene(layout);\r\n            stage.setScene(scene);\r\n    \r\n            stage.show();\r\n        }\r\n    \r\n        public Label getLabel() {\r\n            return label;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\n*module-info.java*\r\n\r\n    module com.example.bridge {\r\n        requires javafx.controls;\r\n        requires javafx.web;\r\n        requires jdk.jsobject;\r\n    \r\n        opens com.example.bridge to javafx.graphics, javafx.web;\r\n    }\r\n\r\n*pom.xml*\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;bridge&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;bridge&lt;/name&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;junit.version&gt;5.8.2&lt;/junit.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n                &lt;version&gt;19&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-web&lt;/artifactId&gt;\r\n                &lt;version&gt;19&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.10.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;19&lt;/source&gt;\r\n                        &lt;target&gt;19&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n*Calling JavaScript from Java, passing data in the `executeScript` call*\r\n\r\nThe example in the answer is just for demo purposes, to demonstrate how to call Java code from a WebView.  The same result could be accomplished by executing a script directly on the webengine as shown below, but then it wouldn&#39;t be demonstrating calling Java from JavaScript as requested in the question.\r\n\r\n    engine.executeScript(\r\n        &quot;document.getElementById(&#39;text-from-java&#39;).innerHTML = &#39;&quot; + label.getText() + &quot;&#39;;&quot;\r\n    );\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EsnAo.png\r\n  [2]: https://openjfx.io/javadoc/19/javafx.controls/javafx/scene/control/Label.html\r\n  [3]: https://openjfx.io/javadoc/19/javafx.web/javafx/scene/web/WebView.html\r\n  [4]: https://docs.oracle.com/en/java/javase/19/docs/api/jdk.jsobject/netscape/javascript/JSObject.html\r\n  [5]: https://openjfx.io/javadoc/19/javafx.web/javafx/scene/web/WebEngine.html","title":"JavaFX WebView call method on returned java object","body":"<p><em>Calling Java from JavaScript</em></p>\n<p><a href=\"https://i.stack.imgur.com/EsnAo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EsnAo.png\" alt=\"screenshot\" /></a></p>\n<p>The example:</p>\n<ol>\n<li>Creates a JavaFX <a href=\"https://openjfx.io/javadoc/19/javafx.controls/javafx/scene/control/Label.html\" rel=\"nofollow noreferrer\"><code>Label</code></a> and a <a href=\"https://openjfx.io/javadoc/19/javafx.web/javafx/scene/web/WebView.html\" rel=\"nofollow noreferrer\"><code>WebView</code></a>.</li>\n<li>Loads an HTML document.</li>\n<li>Associates a <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/jdk.jsobject/netscape/javascript/JSObject.html\" rel=\"nofollow noreferrer\"><code>JSObject</code></a> with the JavaFX app.</li>\n<li>The JavaFX app exposes a method that provides the label.</li>\n<li>JavaScript is invoked which gets the app provided by the JSObject.</li>\n<li>JavaScript gets the label from the app and the text from the label.</li>\n<li>JavaScript sets the copied label text into an element in the HTML document which is displayed by the WebView.</li>\n</ol>\n<p>Some things to note:</p>\n<ol>\n<li><p>Use <a href=\"https://openjfx.io/javadoc/19/javafx.web/javafx/scene/web/WebEngine.html\" rel=\"nofollow noreferrer\">current documentation on <code>WebEngine</code></a> (for JavaFX 19), don't use outdated documentation from JavaFX 2.</p>\n<ul>\n<li>The outdated documentation does not explain how to use the <code>WebEngine</code> within a modular environment.  The additional information on modularity will be critical for some applications.</li>\n</ul>\n</li>\n<li><p>To access the <code>WebView</code>, use:</p>\n<pre><code>requires javafx.web;\n</code></pre>\n</li>\n<li><p>To access the <code>JSObject</code> which bridges Java and the WebView, use:</p>\n<pre><code>requires jdk.jsobject;\n</code></pre>\n</li>\n<li><p>To have your code accessible to JavaScript executing in <code>WebView</code>, use:</p>\n<pre><code>opens &lt;package-with-your-code&gt; to javafx.web\n</code></pre>\n<p>This is required because, internally, the <code>WebEngine</code> will use reflection on your code to allow JavaScript to call it.</p>\n</li>\n<li><p>Make sure the document is loaded before performing actions on it.</p>\n</li>\n</ol>\n<p>You don't (as far as I can tell) need to provide transitive access to the objects you return to the webview.  For instance, in the JavaScript I call, <code>app.getLabel().getText();</code>, but just opening the package with my app to <code>javafx.web</code> is sufficient, I don't need to open the <code>javafx.scene.control</code> package to <code>javafx.web</code>.  I'm not exactly sure why things work like that, but that appeared to be the case.</p>\n<p>This JavaScript will also work:</p>\n<pre><code>var label = app.getLabel(); \ndocument.getElementById('text-from-java').innerHTML = label.getText();\n</code></pre>\n<p>But this next JavaScript will not work, because the type <code>Label</code> is not known to JavaScript, even though when you use the <code>var</code> form you can execute methods on the var which is a <code>javafx.scene.control.Label</code>:</p>\n<pre><code>Label label = app.getLabel(); \ndocument.getElementById('text-from-java').innerHTML = label.getText();\n</code></pre>\n<p><em>com/example/bridge/BridgeApp.java</em></p>\n<pre><code>package com.example.bridge;\n\nimport javafx.application.Application;\nimport javafx.geometry.Insets;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.layout.VBox;\nimport javafx.scene.web.WebEngine;\nimport javafx.scene.web.WebView;\nimport javafx.stage.Stage;\nimport netscape.javascript.JSObject;\n\npublic class BridgeApp extends Application {\n    private final Label label = new Label(&quot;Text copied from JavaFX to WebView&quot;);\n\n    private static final String HTML = // language=HTML\n            &quot;&quot;&quot;\n            &lt;!DOCTYPE html&gt;\n            &lt;html lang=&quot;en&quot;&gt;\n            &lt;head&gt;\n                &lt;meta charset=&quot;UTF-8&quot;&gt;\n                &lt;title&gt;Home&lt;/title&gt;\n            &lt;/head&gt;\n            &lt;body&gt;\n                &lt;span id=&quot;text-from-java&quot;&gt;&lt;/span&gt;\n            &lt;/body&gt;\n            &lt;/html&gt;\n            &quot;&quot;&quot;;\n\n    @Override\n    public void start(Stage stage) {\n        WebView webView = new WebView();\n        WebEngine engine = webView.getEngine();\n        engine.documentProperty().addListener((observable, oldValue, newDocument) -&gt; {\n            JSObject window = (JSObject) engine.executeScript(\n                    &quot;window&quot;\n            );\n            window.setMember(\n                    &quot;app&quot;,\n                    this\n            );\n            engine.executeScript(\n                    &quot;document.getElementById('text-from-java').innerHTML = app.getLabel().getText();&quot;\n            );\n        });\n        engine.loadContent(HTML);\n\n        VBox layout = new VBox(\n                10,\n                label,\n                webView\n        );\n        layout.setPadding(new Insets(10));\n\n        Scene scene = new Scene(layout);\n        stage.setScene(scene);\n\n        stage.show();\n    }\n\n    public Label getLabel() {\n        return label;\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p><em>module-info.java</em></p>\n<pre><code>module com.example.bridge {\n    requires javafx.controls;\n    requires javafx.web;\n    requires jdk.jsobject;\n\n    opens com.example.bridge to javafx.graphics, javafx.web;\n}\n</code></pre>\n<p><em>pom.xml</em></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;bridge&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;bridge&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;junit.version&gt;5.8.2&lt;/junit.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;19&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-web&lt;/artifactId&gt;\n            &lt;version&gt;19&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.10.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;19&lt;/source&gt;\n                    &lt;target&gt;19&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><em>Calling JavaScript from Java, passing data in the <code>executeScript</code> call</em></p>\n<p>The example in the answer is just for demo purposes, to demonstrate how to call Java code from a WebView.  The same result could be accomplished by executing a script directly on the webengine as shown below, but then it wouldn't be demonstrating calling Java from JavaScript as requested in the question.</p>\n<pre><code>engine.executeScript(\n    &quot;document.getElementById('text-from-java').innerHTML = '&quot; + label.getText() + &quot;';&quot;\n);\n</code></pre>\n"}],"owner":{"account_id":1689410,"reputation":211,"user_id":1552081,"display_name":"Troels"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74310505,"answer_count":1,"score":2,"last_activity_date":1667546221,"creation_date":1667507870,"question_id":74309273,"body_markdown":"**I retrieve an object from Java to my JavaScript in WebView, and want to call methods on it. Doesn&#39;t work.**\r\n\r\nI have a JavaFX WebView, which displays an html page. This page includes JavaScript.\r\nI set a Java object as member variable on the &quot;window&quot;, so that I can call methods on it from JavaScript, as per the documentation:\r\n\r\n    WebEngine engine = webView.getEngine();\r\n    JSObject window = (JSObject) webEngine.executeScript(&quot;window&quot;);\r\n    window.setMember(&quot;manager&quot;, new Manager());\r\n\r\nThat&#39;s what I find in all examples. Assume the Manager class has a method, &quot;doSomething()&quot;, I can call that method, on my Manager Java object, from JavaScript:\r\n\r\n    &lt;script&gt;\r\n        function onclick() {\r\n            manager.doSomething();\r\n        }\r\n    &lt;/script&gt;\r\n\r\nThis works just fine.\r\n\r\nHowever, assume the doSomething() returns an object, e.g. a Todo which has a method &quot;getDescription()&quot;, which just returns a string.\r\n\r\nIt should look like this:\r\n\r\n    &lt;script&gt;\r\n        function onclick() {\r\n            var todo = manager.doSomething();\r\n            var desc = todo.getDescription();\r\n            document.getElementById(&quot;description-label&quot;).innerHTML = desc;\r\n        }\r\n    &lt;/script&gt;\r\n\r\nBut that doesn&#39;t work for me. I cannot execute &quot;todo.getDescription()&quot;. The WebView never prints any errors anywhere, as far as I can tell, no matter what I break, so it&#39;s tough to figure out the problem.\r\n\r\nAs I understand the documentation here https://docs.oracle.com/javafx/2/api/javafx/scene/web/WebEngine.html\r\n\r\nwith this explanation:\r\n\r\n&gt; ... a JavaRuntimeObject is created. This is a JavaScript object that acts as a proxy for the Java object, in that accessing properties of the JavaRuntimeObject causes the Java field or method with the same name to be accessed\r\n\r\nMy approach should work.\r\n\r\nEventually I just want to retrieve a collection of objects, and display their data in a table.\r\n\r\nWhat am I doing wrong?","title":"JavaFX WebView call method on returned java object","body":"<p><strong>I retrieve an object from Java to my JavaScript in WebView, and want to call methods on it. Doesn't work.</strong></p>\n<p>I have a JavaFX WebView, which displays an html page. This page includes JavaScript.\nI set a Java object as member variable on the &quot;window&quot;, so that I can call methods on it from JavaScript, as per the documentation:</p>\n<pre><code>WebEngine engine = webView.getEngine();\nJSObject window = (JSObject) webEngine.executeScript(&quot;window&quot;);\nwindow.setMember(&quot;manager&quot;, new Manager());\n</code></pre>\n<p>That's what I find in all examples. Assume the Manager class has a method, &quot;doSomething()&quot;, I can call that method, on my Manager Java object, from JavaScript:</p>\n<pre><code>&lt;script&gt;\n    function onclick() {\n        manager.doSomething();\n    }\n&lt;/script&gt;\n</code></pre>\n<p>This works just fine.</p>\n<p>However, assume the doSomething() returns an object, e.g. a Todo which has a method &quot;getDescription()&quot;, which just returns a string.</p>\n<p>It should look like this:</p>\n<pre><code>&lt;script&gt;\n    function onclick() {\n        var todo = manager.doSomething();\n        var desc = todo.getDescription();\n        document.getElementById(&quot;description-label&quot;).innerHTML = desc;\n    }\n&lt;/script&gt;\n</code></pre>\n<p>But that doesn't work for me. I cannot execute &quot;todo.getDescription()&quot;. The WebView never prints any errors anywhere, as far as I can tell, no matter what I break, so it's tough to figure out the problem.</p>\n<p>As I understand the documentation here <a href=\"https://docs.oracle.com/javafx/2/api/javafx/scene/web/WebEngine.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javafx/2/api/javafx/scene/web/WebEngine.html</a></p>\n<p>with this explanation:</p>\n<blockquote>\n<p>... a JavaRuntimeObject is created. This is a JavaScript object that acts as a proxy for the Java object, in that accessing properties of the JavaRuntimeObject causes the Java field or method with the same name to be accessed</p>\n</blockquote>\n<p>My approach should work.</p>\n<p>Eventually I just want to retrieve a collection of objects, and display their data in a table.</p>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","completable-future"],"answers":[{"tags":[],"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667546206,"creation_date":1667514519,"answer_id":74310228,"question_id":74309789,"body_markdown":"The [`BetterFuture`][1] library I wrote some time ago makes this quite easy:\r\n\r\n    public BetterFuture&lt;List&lt;String&gt;&gt; getUsernames() {\r\n        BetterFuture&lt;List&lt;String&gt;&gt; future = getIds();\r\n\r\n        return future.andThen(ids -&gt;\r\n            BetterFuture.reduce(ids.stream().map(this::getUsername))\r\n            .map(Stream::toList));\r\n    }\r\n\r\n`BetterFuture.reduce` reduces a `Stream&lt;BetterFuture&lt;T&gt;&gt;` to a `BetterFuture&lt;Stream&lt;T&gt;&gt;` and acts in parallel on the stream of futures it receives as an argument. \r\n\r\nSince `BetterFuture` is just thin wrapper around `CompletableFuture`, it shouldn&#39;t be too hard to peel the the relevant implementation out and make above snippet work directly on `CompletableFuture`.\r\n\r\n  [1]: https://github.com/mduerig/better-future","title":"Transform a CompletableFuture of a list of objects to another CompletableFuture of a list of objects","body":"<p>The <a href=\"https://github.com/mduerig/better-future\" rel=\"nofollow noreferrer\"><code>BetterFuture</code></a> library I wrote some time ago makes this quite easy:</p>\n<pre><code>public BetterFuture&lt;List&lt;String&gt;&gt; getUsernames() {\n    BetterFuture&lt;List&lt;String&gt;&gt; future = getIds();\n\n    return future.andThen(ids -&gt;\n        BetterFuture.reduce(ids.stream().map(this::getUsername))\n        .map(Stream::toList));\n}\n</code></pre>\n<p><code>BetterFuture.reduce</code> reduces a <code>Stream&lt;BetterFuture&lt;T&gt;&gt;</code> to a <code>BetterFuture&lt;Stream&lt;T&gt;&gt;</code> and acts in parallel on the stream of futures it receives as an argument.</p>\n<p>Since <code>BetterFuture</code> is just thin wrapper around <code>CompletableFuture</code>, it shouldn't be too hard to peel the the relevant implementation out and make above snippet work directly on <code>CompletableFuture</code>.</p>\n"}],"owner":{"account_id":11350850,"reputation":33,"user_id":8321892,"display_name":"Cheesy Chameleon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667546206,"creation_date":1667511313,"question_id":74309789,"body_markdown":"I have a method (`getIds`) that returns a `CompletableFuture&lt;List&lt;String&gt;&gt;`. For each of the IDs in the list it returns, I need to call a method that fetches the corresponding username for that ID. That fetching takes some time, so it returns a `CompletableFuture` of `String`. Ultimately the method should return a `CompletableFuture` of the usernames `List&lt;String&gt;`:\r\n\r\n\r\n```\r\npublic CompletableFuture&lt;List&lt;String&gt;&gt; getUsernames() {\r\n    CompletableFuture&lt;List&lt;String&gt;&gt; future = getIds();\r\n    return future.thenCompose(ids -&gt; {\r\n        return CompletableFuture.allOf(ids.stream()\r\n                .map(this::getUsername)\r\n                ...);\r\n    });\r\n\r\nprivate CompletableFuture&lt;String&gt; getUsername(String id) {\r\n    ...\r\n}\r\n```\r\n\r\nCan anyone advise how to achieve this?","title":"Transform a CompletableFuture of a list of objects to another CompletableFuture of a list of objects","body":"<p>I have a method (<code>getIds</code>) that returns a <code>CompletableFuture&lt;List&lt;String&gt;&gt;</code>. For each of the IDs in the list it returns, I need to call a method that fetches the corresponding username for that ID. That fetching takes some time, so it returns a <code>CompletableFuture</code> of <code>String</code>. Ultimately the method should return a <code>CompletableFuture</code> of the usernames <code>List&lt;String&gt;</code>:</p>\n<pre><code>public CompletableFuture&lt;List&lt;String&gt;&gt; getUsernames() {\n    CompletableFuture&lt;List&lt;String&gt;&gt; future = getIds();\n    return future.thenCompose(ids -&gt; {\n        return CompletableFuture.allOf(ids.stream()\n                .map(this::getUsername)\n                ...);\n    });\n\nprivate CompletableFuture&lt;String&gt; getUsername(String id) {\n    ...\n}\n</code></pre>\n<p>Can anyone advise how to achieve this?</p>\n"},{"tags":["java","android","android-webview"],"comments":[{"owner":{"account_id":288238,"reputation":14443,"user_id":588532,"accept_rate":88,"display_name":"Uriel Frankel"},"score":0,"creation_date":1643117083,"post_id":70756680,"comment_id":125249907,"body_markdown":"can you please show the build.gradle file? it might be that one of the libs is broken and you have + sign in the gradle","body":"can you please show the build.gradle file? it might be that one of the libs is broken and you have + sign in the gradle"},{"owner":{"account_id":2703392,"reputation":804,"user_id":2333570,"display_name":"brucemax"},"score":0,"creation_date":1643134220,"post_id":70756680,"comment_id":125257649,"body_markdown":"The same for me after obfuscation","body":"The same for me after obfuscation"},{"owner":{"account_id":2787437,"reputation":3444,"user_id":2398444,"accept_rate":38,"display_name":"pouyan"},"score":0,"creation_date":1643204280,"post_id":70756680,"comment_id":125276693,"body_markdown":"Can you provide a github link so that we could run it locally to check if we can help?","body":"Can you provide a github link so that we could run it locally to check if we can help?"},{"owner":{"account_id":887475,"reputation":3622,"user_id":926568,"accept_rate":100,"display_name":"deviant"},"score":0,"creation_date":1653919567,"post_id":70756680,"comment_id":127962636,"body_markdown":"that&#39;s why you never should rely on webview in your applications. they can update it at any time. so suddenly working code could break one day.","body":"that&#39;s why you never should rely on webview in your applications. they can update it at any time. so suddenly working code could break one day."},{"owner":{"account_id":7004681,"reputation":720,"user_id":5369519,"display_name":"flauschtrud"},"score":0,"creation_date":1657878456,"post_id":70756680,"comment_id":128919518,"body_markdown":"@Adam Varhegyi Did you find the cause of this problem?","body":"@Adam Varhegyi Did you find the cause of this problem?"},{"owner":{"account_id":952605,"reputation":11497,"user_id":978461,"accept_rate":73,"display_name":"Adam Varhegyi"},"score":0,"creation_date":1657888152,"post_id":70756680,"comment_id":128922737,"body_markdown":"@flauschtrud No. It just gone from one day to another...","body":"@flauschtrud No. It just gone from one day to another..."}],"answers":[{"tags":[],"owner":{"account_id":3769835,"reputation":964,"user_id":3132351,"display_name":"EverNight"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1643199746,"creation_date":1643199746,"answer_id":70863354,"question_id":70756680,"body_markdown":"Hmmm... intermittent problem that references class loader issues. + a huge stack trace.\r\n\r\nWhat little evidence you provided may point to silent IO-type errors.\r\n\r\nSay for example the android you&#39;re using is dynamically loading classes at runtime and for some reason the host folder for whatever jars it&#39;s trying to use also contains that pdf file which is actively written to / read from ... or for whatever reason, that entire fileSystem partition is marked as locked.\r\n\r\nIn that case you&#39;d wind up with intermittent class loader errors like the one you referenced.\r\n\r\nalso this:\r\n\r\n    try {\r\n    \tinput.close(); &lt;--- if exception occurs at this point, output will never close.\r\n    \toutput.close();\r\n    } catch (IOException e) {\r\n    \te.printStackTrace();\r\n    \tlog(&quot;Exception 2: &quot; + e.getMessage());\r\n    }\r\n\r\n... I don&#39;t know... there&#39;s very little information to go by to be honest. For example you didn&#39;t post the content of the `finish()` routine, and that stack trace contains no references to your code (that i can see at least)... so this is kind of a wild stab in the dark.","title":"java.lang.NoClassDefFoundError: Failed resolution of: Landroid/webkit/PacProcessor","body":"<p>Hmmm... intermittent problem that references class loader issues. + a huge stack trace.</p>\n<p>What little evidence you provided may point to silent IO-type errors.</p>\n<p>Say for example the android you're using is dynamically loading classes at runtime and for some reason the host folder for whatever jars it's trying to use also contains that pdf file which is actively written to / read from ... or for whatever reason, that entire fileSystem partition is marked as locked.</p>\n<p>In that case you'd wind up with intermittent class loader errors like the one you referenced.</p>\n<p>also this:</p>\n<pre><code>try {\n    input.close(); &lt;--- if exception occurs at this point, output will never close.\n    output.close();\n} catch (IOException e) {\n    e.printStackTrace();\n    log(&quot;Exception 2: &quot; + e.getMessage());\n}\n</code></pre>\n<p>... I don't know... there's very little information to go by to be honest. For example you didn't post the content of the <code>finish()</code> routine, and that stack trace contains no references to your code (that i can see at least)... so this is kind of a wild stab in the dark.</p>\n"},{"tags":[],"owner":{"account_id":4800197,"reputation":327,"user_id":3877042,"display_name":"PHolzwarth"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1643219273,"creation_date":1643218975,"answer_id":70867926,"question_id":70756680,"body_markdown":"I&#39;m experiencing the same exception and immense stack trace when using WebView in my app at runtime, depending on the software versions installed on the device:\r\n\r\nChrome Versions:\r\n - 96.0.4664.92 / .104 - ok, no errors\r\n - 97.0.4692.98 - errors, see below\r\n\r\nAndroid Versions:\r\n - Android 7 -&gt; NoClassDefFoundError for `android.webkit.TracingController`\r\n - Android 9 -&gt; NoClassDefFoundError for `android.webkit.PacProcessor`\r\n - Android 12 -&gt; no such errors\r\n\r\nAccording to your description and stack trace, you see this error at runtime, not at compile time, right? So, I would recommend to \r\n - test on an Android 12 target or\r\n - install an older Chrome version\r\n","title":"java.lang.NoClassDefFoundError: Failed resolution of: Landroid/webkit/PacProcessor","body":"<p>I'm experiencing the same exception and immense stack trace when using WebView in my app at runtime, depending on the software versions installed on the device:</p>\n<p>Chrome Versions:</p>\n<ul>\n<li>96.0.4664.92 / .104 - ok, no errors</li>\n<li>97.0.4692.98 - errors, see below</li>\n</ul>\n<p>Android Versions:</p>\n<ul>\n<li>Android 7 -&gt; NoClassDefFoundError for <code>android.webkit.TracingController</code></li>\n<li>Android 9 -&gt; NoClassDefFoundError for <code>android.webkit.PacProcessor</code></li>\n<li>Android 12 -&gt; no such errors</li>\n</ul>\n<p>According to your description and stack trace, you see this error at runtime, not at compile time, right? So, I would recommend to</p>\n<ul>\n<li>test on an Android 12 target or</li>\n<li>install an older Chrome version</li>\n</ul>\n"}],"owner":{"account_id":952605,"reputation":11497,"user_id":978461,"accept_rate":73,"display_name":"Adam Varhegyi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13723,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":2,"score":17,"last_activity_date":1667545902,"creation_date":1642513878,"question_id":70756680,"body_markdown":"Can&#39;t really find words, my project just don&#39;t compile from one day to another.\r\n\r\n\r\nThis is what I do:\r\n\r\nI download and show a PDF, later I print it as a saved PDF to the device, then the crash comes.\r\n\r\n\r\n**Here is the crash:**\r\n\r\n\r\n    at java.lang.Class java.lang.Class.classForName(java.lang.String, boolean, java.lang.ClassLoader) (Class.java:-2)\r\n       at java.lang.Class java.lang.Class.forName(java.lang.String, boolean, java.lang.ClassLoader) (Class.java:453)\r\n       at java.lang.Class android.webkit.WebViewFactory.getWebViewProviderClass(java.lang.ClassLoader) (WebViewFactory.java:176)\r\n       at java.lang.Class android.webkit.WebViewFactory.getProviderClass() (WebViewFactory.java:459)\r\n       at android.webkit.WebViewFactoryProvider android.webkit.WebViewFactory.getProvider() (WebViewFactory.java:251)\r\n       at android.webkit.WebViewFactoryProvider android.webkit.WebView.getFactory() (WebView.java:2681)\r\n       at void android.webkit.WebView.ensureProviderCreated() (WebView.java:2676)\r\n       at void android.webkit.WebView.setOverScrollMode(int) (WebView.java:2741)\r\n       at void android.view.View.&lt;init&gt;(android.content.Context) (View.java:4815)\r\n       at void android.view.View.&lt;init&gt;(android.content.Context, android.util.AttributeSet, int, int) (View.java:4956)\r\n       at void android.view.ViewGroup.&lt;init&gt;(android.content.Context, android.util.AttributeSet, int, int) (ViewGroup.java:659)\r\n       at void android.widget.AbsoluteLayout.&lt;init&gt;(android.content.Context, android.util.AttributeSet, int, int) (AbsoluteLayout.java:55)\r\n       at void android.webkit.WebView.&lt;init&gt;(android.content.Context, android.util.AttributeSet, int, int, java.util.Map, boolean) (WebView.java:659)\r\n       at void android.webkit.WebView.&lt;init&gt;(android.content.Context, android.util.AttributeSet, int, int) (WebView.java:604)\r\n       at void android.webkit.WebView.&lt;init&gt;(android.content.Context, android.util.AttributeSet, int) (WebView.java:587)\r\n       at void android.webkit.WebView.&lt;init&gt;(android.content.Context, android.util.AttributeSet) (WebView.java:574)\r\n       at java.lang.Object java.lang.reflect.Constructor.newInstance0(java.lang.Object[]) (Constructor.java:-2)\r\n       at java.lang.Object java.lang.reflect.Constructor.newInstance(java.lang.Object[]) (Constructor.java:343)\r\n       at android.view.View android.view.LayoutInflater.createView(java.lang.String, java.lang.String, android.util.AttributeSet) (LayoutInflater.java:647)\r\n       at android.view.View com.android.internal.policy.PhoneLayoutInflater.onCreateView(java.lang.String, android.util.AttributeSet) (PhoneLayoutInflater.java:58)\r\n       at android.view.View android.view.LayoutInflater.onCreateView(android.view.View, java.lang.String, android.util.AttributeSet) (LayoutInflater.java:720)\r\n       at android.view.View android.view.LayoutInflater.createViewFromTag(android.view.View, java.lang.String, android.content.Context, android.util.AttributeSet, boolean) (LayoutInflater.java:788)\r\n\r\n\r\n----------\r\n\r\n\r\n**(The actual error is so long that I cannot post it in stackoverflow, and none of it is my own code, it has problems with Android&#39;s webview.)**\r\n\r\n\r\n----------\r\n\r\n\r\n**Here is the activity&#39;s code where the crash happens:**\r\n\r\n```java\r\npublic class ActivityPrintSurvey extends ActivityBase implements MVPView, View.OnClickListener, SendScannedSignedDocumentTask.SendScannedSignedDocumentCallback {\r\n    \r\n    Document document;\r\n    Patient patient;\r\n    SurveyBundle surveyBundle;\r\n\r\n    View hider;\r\n    Button printBtn;\r\n    Button backBtn;\r\n    WebView webView;\r\n    ProgressBar progressBar;\r\n    Switch switcher;\r\n\r\n    boolean canPrint = false;\r\n\r\n    PrintManager printManager;\r\n    String jobName;\r\n\r\n    String fileName;\r\n\r\n    String pdfUrl;\r\n    String showPdfUrl;\r\n    private int SIGNING_DONE_1 = 105;\r\n\r\n    int runnableCounter = 0;\r\n    final int RUNNABLE_MAX = 3;\r\n\r\n    private void log(Object o) {\r\n\r\n        Log.i(&quot;PRINTING_ACT&quot;, o.toString());\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_print_survey);\r\n\r\n\r\n        log(&quot;activity started&quot;);\r\n\r\n        hider = findViewById(R.id.hider);\r\n        printBtn = findViewById(R.id.print_btn);\r\n        backBtn = findViewById(R.id.back_btn);\r\n        webView = findViewById(R.id.web_view);\r\n        progressBar = findViewById(R.id.progressbar);\r\n        switcher = findViewById(R.id.read_and_accepted_switch);\r\n\r\n\r\n        document = (Document) getIntent().getSerializableExtra(&quot;document&quot;);\r\n        patient = (Patient) getIntent().getSerializableExtra(&quot;patient&quot;);\r\n        surveyBundle = (SurveyBundle) getIntent().getSerializableExtra(&quot;survey_bundle&quot;);\r\n\r\n        jobName = this.getString(R.string.app_name) + &quot; Document&quot;;\r\n        printManager = (PrintManager) this.getSystemService(Context.PRINT_SERVICE);\r\n\r\n        printBtn.setOnClickListener(this);\r\n        backBtn.setOnClickListener(this);\r\n\r\n\r\n        showPDF();\r\n    }\r\n\r\n\r\n    private void showPDF() {\r\n\r\n        log(&quot;starting to show pdf&quot;);\r\n\r\n        pdfUrl = document.getPdfUrl();\r\n\r\n        String embedUrl = &quot;https://docs.google.com/gview?embedded=true&amp;url=&quot;;\r\n        showPdfUrl = embedUrl + pdfUrl;\r\n\r\n        progressBar.setVisibility(View.VISIBLE);\r\n        hider.setVisibility(View.VISIBLE);\r\n\r\n        final Handler handler = new Handler();\r\n        Runnable runnable = new Runnable() {\r\n            @Override\r\n            public void run() {\r\n\r\n                if (runnableCounter &lt; RUNNABLE_MAX) {\r\n                    runnableCounter++;\r\n                    webView.getSettings().setJavaScriptEnabled(true);\r\n                    webView.loadUrl(showPdfUrl);\r\n                    handler.postDelayed(this, 1000);\r\n                    //Sz&#246;rnys&#233;ges a helyzet, az android szem&#233;t haszn&#225;lhatatlan webview nem mindig jelen&#237;ti meg a pdf-et, ez&#233;rt r&#225; kell friss&#237;teni p&#225;rszor, hogy biztos megjelen&#237;tse, ez van.\r\n                } else {\r\n                    progressBar.setVisibility(View.GONE);\r\n                    hider.setVisibility(View.GONE);\r\n\r\n                }\r\n            }\r\n        };\r\n        handler.post(runnable);\r\n        downloadPDF();\r\n    }\r\n\r\n\r\n    public void downloadPDF() {\r\n\r\n        log(&quot;starting to download pdf&quot;);\r\n\r\n        fileName = FileHelper.generateTempFileName();\r\n\r\n        ANRequest.DownloadBuilder downloadBuilder = AndroidNetworking.download(pdfUrl, FileHelper.getTempFileDirectory(this), fileName);\r\n        downloadBuilder.doNotCacheResponse();\r\n        ANRequest request = downloadBuilder.build();\r\n\r\n        request.setDownloadProgressListener(new DownloadProgressListener() {\r\n            @Override\r\n            public void onProgress(long bytesDownloaded, long totalBytes) {\r\n                // do anything with progress\r\n                Log.i(&quot;ON_PROGRESS&quot;, bytesDownloaded + &quot; / &quot; + totalBytes);\r\n\r\n            }\r\n        }).startDownload(new DownloadListener() {\r\n            @Override\r\n            public void onDownloadComplete() {\r\n                // do anything after completion\r\n                canPrint = true;\r\n            }\r\n\r\n            @Override\r\n            public void onError(ANError error) {\r\n                // handle error\r\n                Toast.makeText(ActivityPrintSurvey.this, error.getMessage(), Toast.LENGTH_LONG).show();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    public void print() {\r\n\r\n        log(&quot;starting to print&quot;);\r\n\r\n        printManager.print(jobName, new PrintDocumentAdapter() {\r\n\r\n\r\n            @Override\r\n            public void onWrite(PageRange[] pages, ParcelFileDescriptor destination, CancellationSignal cancellationSignal, WriteResultCallback callback) {\r\n                InputStream input = null;\r\n                OutputStream output = null;\r\n\r\n                log(&quot;onWrite() called for printing&quot;);\r\n\r\n                try {\r\n\r\n                    File file = FileHelper.readTempFile(ActivityPrintSurvey.this, fileName);\r\n\r\n                    input = new FileInputStream(file);\r\n                    output = new FileOutputStream(destination.getFileDescriptor());\r\n\r\n                    byte[] buf = new byte[1024];\r\n                    int bytesRead;\r\n\r\n                    while ((bytesRead = input.read(buf)) &gt; 0) {\r\n                        output.write(buf, 0, bytesRead);\r\n                    }\r\n\r\n                    callback.onWriteFinished(new PageRange[]{PageRange.ALL_PAGES});\r\n                    log(&quot;onWriteFinished() called for printing&quot;);\r\n\r\n                } catch (Exception e) {\r\n                    //Catch exception\r\n                    e.printStackTrace();\r\n                    log(&quot;Exception 1: &quot; + e.getMessage());\r\n                } finally {\r\n                    try {\r\n                        input.close();\r\n                        output.close();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                        log(&quot;Exception 2: &quot; + e.getMessage());\r\n                    }\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onLayout(PrintAttributes oldAttributes, PrintAttributes newAttributes, CancellationSignal cancellationSignal, LayoutResultCallback callback, Bundle extras) {\r\n                log(&quot;onLayout() done&quot;);\r\n\r\n                if (cancellationSignal.isCanceled()) {\r\n                    callback.onLayoutCancelled();\r\n                    log(&quot;onLayoutCancelled()&quot;);\r\n                    return;\r\n                }\r\n\r\n                PrintDocumentInfo pdi = new PrintDocumentInfo.Builder(fileName/*Ez itt lehet b&#225;rmi, kiskutya f&#252;le, nem kell megegyeznie az alap file nevvel*/).setContentType(PrintDocumentInfo.CONTENT_TYPE_DOCUMENT).build();\r\n                callback.onLayoutFinished(pdi, true);\r\n                log(&quot;onLayoutFinished() called&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onFinish() {\r\n\r\n                FileHelper.deleteTempFiles(ActivityPrintSurvey.this);\r\n\r\n                log(&quot;onFinish() done&quot;);\r\n\r\n                // ha k&#233;sz a nyomtat&#225;s, j&#246;het a val&#243;s al&#225;&#237;r&#225;s tollal, majd visszafot&#243;z&#225;s, &#233;s felt&#246;lt&#233;s\r\n\r\n                new AlertDialog.Builder(ActivityPrintSurvey.this)\r\n                        .setTitle(getString(R.string.next_step))\r\n                        .setMessage(getString(R.string.please_scan_the_printed_and_signed_document))\r\n                        .setPositiveButton(getString(R.string.scan), new DialogInterface.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(DialogInterface dialogInterface, int i) {\r\n                                startScanningByCameraPhoto();\r\n                            }\r\n                        })\r\n                        .setNegativeButton(getString(R.string.cancel), new DialogInterface.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(DialogInterface dialogInterface, int i) {\r\n\r\n                            }\r\n                        })\r\n                        .show();\r\n\r\n                log(&quot;showing alert dialog&quot;);\r\n\r\n            }\r\n        }, null);\r\n    }\r\n\r\n    public void startScanningByCameraPhoto() {\r\n\r\n        // start picker to get image for cropping and then use the image in cropping activity\r\n        CropImage.activity()\r\n                .setGuidelines(CropImageView.Guidelines.ON)\r\n                .start(this);\r\n\r\n        log(&quot;startScanningByCameraPhoto&quot;);\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        log(&quot;onActivityResult called&quot;);\r\n\r\n        if (resultCode == Activity.RESULT_OK) {\r\n            if (requestCode == SIGNING_DONE_1) {\r\n\r\n                log(&quot;RESULT_OK from SIGNING_DONE_1 -&gt; calling .finish()&quot;);\r\n\r\n                Intent intent = new Intent();\r\n                intent.putExtra(&quot;document&quot;, document);\r\n                setResult(Activity.RESULT_OK, intent);\r\n                finish();\r\n            }\r\n        } else {\r\n            log(&quot;1. Error: resultCode NOT RESULT OK&quot;);\r\n        }\r\n\r\n        if (requestCode == CropImage.CROP_IMAGE_ACTIVITY_REQUEST_CODE) {\r\n            CropImage.ActivityResult result = CropImage.getActivityResult(data);\r\n            if (resultCode == RESULT_OK) {\r\n\r\n                log(&quot;RESULT_OK from CROP_IMAGE_ACTIVITY_REQUEST_CODE&quot;);\r\n\r\n                Uri resultUri = result.getUri();\r\n\r\n                File file = new File(resultUri.getPath());\r\n\r\n                showLoading();\r\n\r\n                SendScannedSignedDocumentTask task = new SendScannedSignedDocumentTask(this, this, DatabaseHelper.getInstance().readLoggedInUser().getUserToken(), document, patient, file);\r\n                task.execute();\r\n\r\n            } else if (resultCode == CropImage.CROP_IMAGE_ACTIVITY_RESULT_ERROR_CODE) {\r\n                Exception error = result.getError();\r\n                log(&quot;2. Error: resultCode NOT RESULT OK: &quot; + error.getMessage());\r\n                error.printStackTrace();\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public void handleUploadScannedDocumentAPIDone(String error) {\r\n\r\n        hideLoading();\r\n\r\n        if (error != null) {\r\n            log(&quot;handleUploadScannedDocumentAPIDone, error:&quot; + error);\r\n            DialogHelper.showInfo(this, error);\r\n        } else {\r\n            log(&quot;handleUploadScannedDocumentAPIDone -&gt; finishing()&quot;);\r\n            setResult(Activity.RESULT_OK);\r\n            Toast.makeText(this, &quot; &quot; + getString(R.string.uploaded), Toast.LENGTH_LONG).show();\r\n            finish();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View v) {\r\n\r\n        if (v.equals(printBtn)) {\r\n\r\n            if (switcher.isChecked()) {\r\n                if (canPrint) {\r\n                    print();\r\n                } else {\r\n                    Toast.makeText(this, &quot;PDF not found in device. Retrying download...&quot;, Toast.LENGTH_LONG).show();\r\n                    downloadPDF();\r\n                }\r\n            } else {\r\n                DialogHelper.showInfo(this, getString(R.string.please_check_the_checkbox));\r\n            }\r\n\r\n        } else if (v.equals(backBtn)) {\r\n            onBackPressed();\r\n        }\r\n    }\r\n\r\n    public void hideLoading() {\r\n        progressBar.setVisibility(View.GONE);\r\n    }\r\n\r\n    @Override\r\n    public void showLoading() {\r\n        progressBar.setVisibility(View.VISIBLE);\r\n    }\r\n\r\n    @Override\r\n    public void showError(String error, String code) {\r\n        hideLoading();\r\n        canPrint = false;\r\n        DialogHelper.showError(this, error);\r\n        log(&quot;showing error: &quot; + error);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void showSuccess(Object... object) {\r\n\r\n        hideLoading();\r\n\r\n        String api = object[0].toString();\r\n\r\n        if (api.equals(&quot;eject_patient&quot;)) {\r\n\r\n            log(&quot;showSuccess: &quot; + &quot;finishing activity.&quot;);\r\n\r\n            Intent intent = new Intent(this, ActivityWaitingForPatient.class);\r\n            startActivity(intent);\r\n            finish();\r\n\r\n        } else {\r\n            log(&quot;showSuccess: &quot; + &quot;ERROR: &quot; + api + &quot; not equals &quot; + &quot;eject_patient&quot;);\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onResume() {\r\n        super.onResume();\r\n        LayoutTextSizeChanger.changeAllTextSizeInLayout((ViewGroup) findViewById(R.id.main_cont), FontUtil.loadFontSize(this));\r\n\r\n        log(&quot;onResume()&quot;  );\r\n    }\r\n\r\n\r\n}\r\n```","title":"java.lang.NoClassDefFoundError: Failed resolution of: Landroid/webkit/PacProcessor","body":"<p>Can't really find words, my project just don't compile from one day to another.</p>\n<p>This is what I do:</p>\n<p>I download and show a PDF, later I print it as a saved PDF to the device, then the crash comes.</p>\n<p><strong>Here is the crash:</strong></p>\n<pre><code>at java.lang.Class java.lang.Class.classForName(java.lang.String, boolean, java.lang.ClassLoader) (Class.java:-2)\n   at java.lang.Class java.lang.Class.forName(java.lang.String, boolean, java.lang.ClassLoader) (Class.java:453)\n   at java.lang.Class android.webkit.WebViewFactory.getWebViewProviderClass(java.lang.ClassLoader) (WebViewFactory.java:176)\n   at java.lang.Class android.webkit.WebViewFactory.getProviderClass() (WebViewFactory.java:459)\n   at android.webkit.WebViewFactoryProvider android.webkit.WebViewFactory.getProvider() (WebViewFactory.java:251)\n   at android.webkit.WebViewFactoryProvider android.webkit.WebView.getFactory() (WebView.java:2681)\n   at void android.webkit.WebView.ensureProviderCreated() (WebView.java:2676)\n   at void android.webkit.WebView.setOverScrollMode(int) (WebView.java:2741)\n   at void android.view.View.&lt;init&gt;(android.content.Context) (View.java:4815)\n   at void android.view.View.&lt;init&gt;(android.content.Context, android.util.AttributeSet, int, int) (View.java:4956)\n   at void android.view.ViewGroup.&lt;init&gt;(android.content.Context, android.util.AttributeSet, int, int) (ViewGroup.java:659)\n   at void android.widget.AbsoluteLayout.&lt;init&gt;(android.content.Context, android.util.AttributeSet, int, int) (AbsoluteLayout.java:55)\n   at void android.webkit.WebView.&lt;init&gt;(android.content.Context, android.util.AttributeSet, int, int, java.util.Map, boolean) (WebView.java:659)\n   at void android.webkit.WebView.&lt;init&gt;(android.content.Context, android.util.AttributeSet, int, int) (WebView.java:604)\n   at void android.webkit.WebView.&lt;init&gt;(android.content.Context, android.util.AttributeSet, int) (WebView.java:587)\n   at void android.webkit.WebView.&lt;init&gt;(android.content.Context, android.util.AttributeSet) (WebView.java:574)\n   at java.lang.Object java.lang.reflect.Constructor.newInstance0(java.lang.Object[]) (Constructor.java:-2)\n   at java.lang.Object java.lang.reflect.Constructor.newInstance(java.lang.Object[]) (Constructor.java:343)\n   at android.view.View android.view.LayoutInflater.createView(java.lang.String, java.lang.String, android.util.AttributeSet) (LayoutInflater.java:647)\n   at android.view.View com.android.internal.policy.PhoneLayoutInflater.onCreateView(java.lang.String, android.util.AttributeSet) (PhoneLayoutInflater.java:58)\n   at android.view.View android.view.LayoutInflater.onCreateView(android.view.View, java.lang.String, android.util.AttributeSet) (LayoutInflater.java:720)\n   at android.view.View android.view.LayoutInflater.createViewFromTag(android.view.View, java.lang.String, android.content.Context, android.util.AttributeSet, boolean) (LayoutInflater.java:788)\n</code></pre>\n<hr />\n<p><strong>(The actual error is so long that I cannot post it in stackoverflow, and none of it is my own code, it has problems with Android's webview.)</strong></p>\n<hr />\n<p><strong>Here is the activity's code where the crash happens:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ActivityPrintSurvey extends ActivityBase implements MVPView, View.OnClickListener, SendScannedSignedDocumentTask.SendScannedSignedDocumentCallback {\n    \n    Document document;\n    Patient patient;\n    SurveyBundle surveyBundle;\n\n    View hider;\n    Button printBtn;\n    Button backBtn;\n    WebView webView;\n    ProgressBar progressBar;\n    Switch switcher;\n\n    boolean canPrint = false;\n\n    PrintManager printManager;\n    String jobName;\n\n    String fileName;\n\n    String pdfUrl;\n    String showPdfUrl;\n    private int SIGNING_DONE_1 = 105;\n\n    int runnableCounter = 0;\n    final int RUNNABLE_MAX = 3;\n\n    private void log(Object o) {\n\n        Log.i(&quot;PRINTING_ACT&quot;, o.toString());\n    }\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_print_survey);\n\n\n        log(&quot;activity started&quot;);\n\n        hider = findViewById(R.id.hider);\n        printBtn = findViewById(R.id.print_btn);\n        backBtn = findViewById(R.id.back_btn);\n        webView = findViewById(R.id.web_view);\n        progressBar = findViewById(R.id.progressbar);\n        switcher = findViewById(R.id.read_and_accepted_switch);\n\n\n        document = (Document) getIntent().getSerializableExtra(&quot;document&quot;);\n        patient = (Patient) getIntent().getSerializableExtra(&quot;patient&quot;);\n        surveyBundle = (SurveyBundle) getIntent().getSerializableExtra(&quot;survey_bundle&quot;);\n\n        jobName = this.getString(R.string.app_name) + &quot; Document&quot;;\n        printManager = (PrintManager) this.getSystemService(Context.PRINT_SERVICE);\n\n        printBtn.setOnClickListener(this);\n        backBtn.setOnClickListener(this);\n\n\n        showPDF();\n    }\n\n\n    private void showPDF() {\n\n        log(&quot;starting to show pdf&quot;);\n\n        pdfUrl = document.getPdfUrl();\n\n        String embedUrl = &quot;https://docs.google.com/gview?embedded=true&amp;url=&quot;;\n        showPdfUrl = embedUrl + pdfUrl;\n\n        progressBar.setVisibility(View.VISIBLE);\n        hider.setVisibility(View.VISIBLE);\n\n        final Handler handler = new Handler();\n        Runnable runnable = new Runnable() {\n            @Override\n            public void run() {\n\n                if (runnableCounter &lt; RUNNABLE_MAX) {\n                    runnableCounter++;\n                    webView.getSettings().setJavaScriptEnabled(true);\n                    webView.loadUrl(showPdfUrl);\n                    handler.postDelayed(this, 1000);\n                    //Szrnysges a helyzet, az android szemt hasznlhatatlan webview nem mindig jelenti meg a pdf-et, ezrt r kell frissteni prszor, hogy biztos megjelentse, ez van.\n                } else {\n                    progressBar.setVisibility(View.GONE);\n                    hider.setVisibility(View.GONE);\n\n                }\n            }\n        };\n        handler.post(runnable);\n        downloadPDF();\n    }\n\n\n    public void downloadPDF() {\n\n        log(&quot;starting to download pdf&quot;);\n\n        fileName = FileHelper.generateTempFileName();\n\n        ANRequest.DownloadBuilder downloadBuilder = AndroidNetworking.download(pdfUrl, FileHelper.getTempFileDirectory(this), fileName);\n        downloadBuilder.doNotCacheResponse();\n        ANRequest request = downloadBuilder.build();\n\n        request.setDownloadProgressListener(new DownloadProgressListener() {\n            @Override\n            public void onProgress(long bytesDownloaded, long totalBytes) {\n                // do anything with progress\n                Log.i(&quot;ON_PROGRESS&quot;, bytesDownloaded + &quot; / &quot; + totalBytes);\n\n            }\n        }).startDownload(new DownloadListener() {\n            @Override\n            public void onDownloadComplete() {\n                // do anything after completion\n                canPrint = true;\n            }\n\n            @Override\n            public void onError(ANError error) {\n                // handle error\n                Toast.makeText(ActivityPrintSurvey.this, error.getMessage(), Toast.LENGTH_LONG).show();\n            }\n        });\n\n    }\n\n    public void print() {\n\n        log(&quot;starting to print&quot;);\n\n        printManager.print(jobName, new PrintDocumentAdapter() {\n\n\n            @Override\n            public void onWrite(PageRange[] pages, ParcelFileDescriptor destination, CancellationSignal cancellationSignal, WriteResultCallback callback) {\n                InputStream input = null;\n                OutputStream output = null;\n\n                log(&quot;onWrite() called for printing&quot;);\n\n                try {\n\n                    File file = FileHelper.readTempFile(ActivityPrintSurvey.this, fileName);\n\n                    input = new FileInputStream(file);\n                    output = new FileOutputStream(destination.getFileDescriptor());\n\n                    byte[] buf = new byte[1024];\n                    int bytesRead;\n\n                    while ((bytesRead = input.read(buf)) &gt; 0) {\n                        output.write(buf, 0, bytesRead);\n                    }\n\n                    callback.onWriteFinished(new PageRange[]{PageRange.ALL_PAGES});\n                    log(&quot;onWriteFinished() called for printing&quot;);\n\n                } catch (Exception e) {\n                    //Catch exception\n                    e.printStackTrace();\n                    log(&quot;Exception 1: &quot; + e.getMessage());\n                } finally {\n                    try {\n                        input.close();\n                        output.close();\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                        log(&quot;Exception 2: &quot; + e.getMessage());\n                    }\n                }\n            }\n\n            @Override\n            public void onLayout(PrintAttributes oldAttributes, PrintAttributes newAttributes, CancellationSignal cancellationSignal, LayoutResultCallback callback, Bundle extras) {\n                log(&quot;onLayout() done&quot;);\n\n                if (cancellationSignal.isCanceled()) {\n                    callback.onLayoutCancelled();\n                    log(&quot;onLayoutCancelled()&quot;);\n                    return;\n                }\n\n                PrintDocumentInfo pdi = new PrintDocumentInfo.Builder(fileName/*Ez itt lehet brmi, kiskutya fle, nem kell megegyeznie az alap file nevvel*/).setContentType(PrintDocumentInfo.CONTENT_TYPE_DOCUMENT).build();\n                callback.onLayoutFinished(pdi, true);\n                log(&quot;onLayoutFinished() called&quot;);\n            }\n\n            @Override\n            public void onFinish() {\n\n                FileHelper.deleteTempFiles(ActivityPrintSurvey.this);\n\n                log(&quot;onFinish() done&quot;);\n\n                // ha ksz a nyomtats, jhet a vals alrs tollal, majd visszafotzs, s feltlts\n\n                new AlertDialog.Builder(ActivityPrintSurvey.this)\n                        .setTitle(getString(R.string.next_step))\n                        .setMessage(getString(R.string.please_scan_the_printed_and_signed_document))\n                        .setPositiveButton(getString(R.string.scan), new DialogInterface.OnClickListener() {\n                            @Override\n                            public void onClick(DialogInterface dialogInterface, int i) {\n                                startScanningByCameraPhoto();\n                            }\n                        })\n                        .setNegativeButton(getString(R.string.cancel), new DialogInterface.OnClickListener() {\n                            @Override\n                            public void onClick(DialogInterface dialogInterface, int i) {\n\n                            }\n                        })\n                        .show();\n\n                log(&quot;showing alert dialog&quot;);\n\n            }\n        }, null);\n    }\n\n    public void startScanningByCameraPhoto() {\n\n        // start picker to get image for cropping and then use the image in cropping activity\n        CropImage.activity()\n                .setGuidelines(CropImageView.Guidelines.ON)\n                .start(this);\n\n        log(&quot;startScanningByCameraPhoto&quot;);\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n        log(&quot;onActivityResult called&quot;);\n\n        if (resultCode == Activity.RESULT_OK) {\n            if (requestCode == SIGNING_DONE_1) {\n\n                log(&quot;RESULT_OK from SIGNING_DONE_1 -&gt; calling .finish()&quot;);\n\n                Intent intent = new Intent();\n                intent.putExtra(&quot;document&quot;, document);\n                setResult(Activity.RESULT_OK, intent);\n                finish();\n            }\n        } else {\n            log(&quot;1. Error: resultCode NOT RESULT OK&quot;);\n        }\n\n        if (requestCode == CropImage.CROP_IMAGE_ACTIVITY_REQUEST_CODE) {\n            CropImage.ActivityResult result = CropImage.getActivityResult(data);\n            if (resultCode == RESULT_OK) {\n\n                log(&quot;RESULT_OK from CROP_IMAGE_ACTIVITY_REQUEST_CODE&quot;);\n\n                Uri resultUri = result.getUri();\n\n                File file = new File(resultUri.getPath());\n\n                showLoading();\n\n                SendScannedSignedDocumentTask task = new SendScannedSignedDocumentTask(this, this, DatabaseHelper.getInstance().readLoggedInUser().getUserToken(), document, patient, file);\n                task.execute();\n\n            } else if (resultCode == CropImage.CROP_IMAGE_ACTIVITY_RESULT_ERROR_CODE) {\n                Exception error = result.getError();\n                log(&quot;2. Error: resultCode NOT RESULT OK: &quot; + error.getMessage());\n                error.printStackTrace();\n            }\n        }\n\n    }\n\n\n    @Override\n    public void handleUploadScannedDocumentAPIDone(String error) {\n\n        hideLoading();\n\n        if (error != null) {\n            log(&quot;handleUploadScannedDocumentAPIDone, error:&quot; + error);\n            DialogHelper.showInfo(this, error);\n        } else {\n            log(&quot;handleUploadScannedDocumentAPIDone -&gt; finishing()&quot;);\n            setResult(Activity.RESULT_OK);\n            Toast.makeText(this, &quot; &quot; + getString(R.string.uploaded), Toast.LENGTH_LONG).show();\n            finish();\n        }\n    }\n\n    @Override\n    public void onClick(View v) {\n\n        if (v.equals(printBtn)) {\n\n            if (switcher.isChecked()) {\n                if (canPrint) {\n                    print();\n                } else {\n                    Toast.makeText(this, &quot;PDF not found in device. Retrying download...&quot;, Toast.LENGTH_LONG).show();\n                    downloadPDF();\n                }\n            } else {\n                DialogHelper.showInfo(this, getString(R.string.please_check_the_checkbox));\n            }\n\n        } else if (v.equals(backBtn)) {\n            onBackPressed();\n        }\n    }\n\n    public void hideLoading() {\n        progressBar.setVisibility(View.GONE);\n    }\n\n    @Override\n    public void showLoading() {\n        progressBar.setVisibility(View.VISIBLE);\n    }\n\n    @Override\n    public void showError(String error, String code) {\n        hideLoading();\n        canPrint = false;\n        DialogHelper.showError(this, error);\n        log(&quot;showing error: &quot; + error);\n    }\n\n\n    @Override\n    public void showSuccess(Object... object) {\n\n        hideLoading();\n\n        String api = object[0].toString();\n\n        if (api.equals(&quot;eject_patient&quot;)) {\n\n            log(&quot;showSuccess: &quot; + &quot;finishing activity.&quot;);\n\n            Intent intent = new Intent(this, ActivityWaitingForPatient.class);\n            startActivity(intent);\n            finish();\n\n        } else {\n            log(&quot;showSuccess: &quot; + &quot;ERROR: &quot; + api + &quot; not equals &quot; + &quot;eject_patient&quot;);\n        }\n    }\n\n\n    @Override\n    public void onResume() {\n        super.onResume();\n        LayoutTextSizeChanger.changeAllTextSizeInLayout((ViewGroup) findViewById(R.id.main_cont), FontUtil.loadFontSize(this));\n\n        log(&quot;onResume()&quot;  );\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":468175,"reputation":671,"user_id":874007,"accept_rate":60,"display_name":"never"},"score":0,"creation_date":1667975047,"post_id":74299060,"comment_id":131293177,"body_markdown":"Upd: It seems to be a regression in Hibernate 6.1.x, opened an issue : https://hibernate.atlassian.net/browse/HHH-15687","body":"Upd: It seems to be a regression in Hibernate 6.1.x, opened an issue : <a href=\"https://hibernate.atlassian.net/browse/HHH-15687\" rel=\"nofollow noreferrer\">hibernate.atlassian.net/browse/HHH-15687</a>"},{"owner":{"account_id":468175,"reputation":671,"user_id":874007,"accept_rate":60,"display_name":"never"},"score":0,"creation_date":1669118659,"post_id":74299060,"comment_id":131566592,"body_markdown":"Upd 2: The bug on Hibernate side is fixed.","body":"Upd 2: The bug on Hibernate side is fixed."}],"owner":{"account_id":468175,"reputation":671,"user_id":874007,"accept_rate":60,"display_name":"never"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":368,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667545868,"creation_date":1667458618,"question_id":74299060,"body_markdown":"I am trying to migrate a working application from Spring Boot 2.5 to 3.0 RC1. If I call repository method, I get an error:\r\n```\r\nCaused by: java.lang.IllegalArgumentException: Unable to locate Attribute with the given name [id] on this ManagedType [com.example.demo.domain.AbstractEntity]\r\n\tat org.hibernate.metamodel.model.domain.AbstractManagedType.checkNotNull(AbstractManagedType.java:281) ~[hibernate-core-6.1.4.Final.jar:6.1.4.Final]\r\n\t...\t\r\n```\r\n\r\nIt seems to me that the error is related to Generic type **&lt;T extends AbstractEntity &amp; WithTranslationKey&gt;**. If I remove **WithTranslationKey** from generic - then error disappears.\r\nIs that a bug in Spring-boot 3? In older version of Spring-boot everything works.\r\n\r\nSimplified version of the code:\r\n\r\n```lang-java\r\n@MappedSuperclass\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic abstract class AbstractEntity {\r\n\r\n\t@Id\r\n\t@GeneratedValue\r\n\tprivate Long id;\r\n\r\n}\r\n```\r\n\r\n```lang-java\r\n@Entity(name = &quot;USERS&quot;)\r\n@Data\r\n@NoArgsConstructor\r\npublic class User extends AbstractEntity implements WithTranslationKey {\r\n\r\n\tprivate String name;\r\n\r\n\t@Override\r\n\tpublic String getTranslationKey() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\t@Builder\r\n\tUser(Long id, String name) {\r\n\t\tsuper(id);\r\n\t\tthis.name = name;\r\n\t}\r\n}\r\n```\r\n\r\n```lang-java\r\n@MappedSuperclass\r\n@Data\r\n@ToString(callSuper = true)\r\n@EqualsAndHashCode(callSuper = true)\r\n@NoArgsConstructor\r\npublic abstract class AbstractTranslationEntity&lt;T extends AbstractEntity &amp; WithTranslationKey&gt; extends AbstractEntity {\r\n\r\n\t@JoinColumn(name = &quot;CLASSIFIER_ID&quot;, nullable = false)\r\n\t@ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n\tprivate T classifier;\r\n\r\n\t@Column(name = &quot;LOCALE_CODE&quot;, length = 15, nullable = false)\r\n\tprivate String localeCode;\r\n\r\n\tAbstractTranslationEntity(Long id, T classifier, String localeCode) {\r\n\t\tsuper(id);\r\n\t\tthis.classifier = classifier;\r\n\t\tthis.localeCode = localeCode;\r\n\t}\r\n}\r\n```\r\n\r\n```lang-java\r\n@Data\r\n@NoArgsConstructor\r\n@ToString(callSuper = true)\r\n@EqualsAndHashCode(callSuper = false)\r\n@Entity\r\n@Table(name = &quot;USER_TRANSLATION&quot;)\r\npublic class UserTranslation extends AbstractTranslationEntity&lt;User&gt; {\r\n\r\n\tprivate String translation;\r\n\r\n\t@Builder\r\n\tUserTranslation(Long id, User classifier, String localeCode, String translation) {\r\n\t\tsuper(id, classifier, localeCode);\r\n\t\tthis.translation = translation;\r\n\t}\r\n}\r\n```\r\n\r\n```lang-java\r\n@NoRepositoryBean\r\npublic interface AbstractTranslationRepository&lt;C extends AbstractEntity &amp; WithTranslationKey, T extends AbstractTranslationEntity&lt;C&gt;&gt; extends CrudRepository&lt;T, Long&gt; {\r\n\r\n\tList&lt;T&gt; findTranslationsByClassifierId(Long classifierId);\r\n\r\n}\r\n\r\npublic interface UserTranslationRepository extends AbstractTranslationRepository&lt;User, UserTranslation&gt; {\r\n}\r\n```\r\nThe error comes when I call \r\n```\r\ntranslationRepository.findTranslationsByClassifierId(1L);\r\n```\r\n","title":"Spring-boot 3 migration. Cannot create query using generic fields and @MappedSuperclass","body":"<p>I am trying to migrate a working application from Spring Boot 2.5 to 3.0 RC1. If I call repository method, I get an error:</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: Unable to locate Attribute with the given name [id] on this ManagedType [com.example.demo.domain.AbstractEntity]\n    at org.hibernate.metamodel.model.domain.AbstractManagedType.checkNotNull(AbstractManagedType.java:281) ~[hibernate-core-6.1.4.Final.jar:6.1.4.Final]\n    ... \n</code></pre>\n<p>It seems to me that the error is related to Generic type <strong>&lt;T extends AbstractEntity &amp; WithTranslationKey&gt;</strong>. If I remove <strong>WithTranslationKey</strong> from generic - then error disappears.\nIs that a bug in Spring-boot 3? In older version of Spring-boot everything works.</p>\n<p>Simplified version of the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@MappedSuperclass\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic abstract class AbstractEntity {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity(name = &quot;USERS&quot;)\n@Data\n@NoArgsConstructor\npublic class User extends AbstractEntity implements WithTranslationKey {\n\n    private String name;\n\n    @Override\n    public String getTranslationKey() {\n        return name;\n    }\n\n    @Builder\n    User(Long id, String name) {\n        super(id);\n        this.name = name;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@MappedSuperclass\n@Data\n@ToString(callSuper = true)\n@EqualsAndHashCode(callSuper = true)\n@NoArgsConstructor\npublic abstract class AbstractTranslationEntity&lt;T extends AbstractEntity &amp; WithTranslationKey&gt; extends AbstractEntity {\n\n    @JoinColumn(name = &quot;CLASSIFIER_ID&quot;, nullable = false)\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n    private T classifier;\n\n    @Column(name = &quot;LOCALE_CODE&quot;, length = 15, nullable = false)\n    private String localeCode;\n\n    AbstractTranslationEntity(Long id, T classifier, String localeCode) {\n        super(id);\n        this.classifier = classifier;\n        this.localeCode = localeCode;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@NoArgsConstructor\n@ToString(callSuper = true)\n@EqualsAndHashCode(callSuper = false)\n@Entity\n@Table(name = &quot;USER_TRANSLATION&quot;)\npublic class UserTranslation extends AbstractTranslationEntity&lt;User&gt; {\n\n    private String translation;\n\n    @Builder\n    UserTranslation(Long id, User classifier, String localeCode, String translation) {\n        super(id, classifier, localeCode);\n        this.translation = translation;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@NoRepositoryBean\npublic interface AbstractTranslationRepository&lt;C extends AbstractEntity &amp; WithTranslationKey, T extends AbstractTranslationEntity&lt;C&gt;&gt; extends CrudRepository&lt;T, Long&gt; {\n\n    List&lt;T&gt; findTranslationsByClassifierId(Long classifierId);\n\n}\n\npublic interface UserTranslationRepository extends AbstractTranslationRepository&lt;User, UserTranslation&gt; {\n}\n</code></pre>\n<p>The error comes when I call</p>\n<pre><code>translationRepository.findTranslationsByClassifierId(1L);\n</code></pre>\n"},{"tags":["java","jackson","option-type"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1667553393,"post_id":74313287,"comment_id":131198004,"body_markdown":"That looks like an [XY-problem](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem). First of all, `Optional` was **not** designed for such use cases (see [Uses for Optional](https://stackoverflow.com/a/23464794/17949945)), and secondly (as a consequence) it&#39;s not possible to do you was trying to do with Jackson in a straightforward way.","body":"That looks like an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY-problem</a>. First of all, <code>Optional</code> was <b>not</b> designed for such use cases (see <a href=\"https://stackoverflow.com/a/23464794/17949945\">Uses for Optional</a>), and secondly (as a consequence) it&#39;s not possible to do you was trying to do with Jackson in a straightforward way."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1667553586,"post_id":74313287,"comment_id":131198070,"body_markdown":"Maybe you can provide a more **elaborate description** of your use-case. I.e. explain what you were intended to do with the `Optional&lt;Student&gt;` further? Should it be returned from the method a stored somewhere? These details would help in to provide useful feedback.","body":"Maybe you can provide a more <b>elaborate description</b> of your use-case. I.e. explain what you were intended to do with the <code>Optional&lt;Student&gt;</code> further? Should it be returned from the method a stored somewhere? These details would help in to provide useful feedback."}],"owner":{"account_id":7381132,"reputation":1,"user_id":5617804,"display_name":"Farhan Ansari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667545531,"creation_date":1667545439,"question_id":74313287,"body_markdown":"I have a json String and it needs to be converted to Optional&lt;T&gt; data type.\r\n\r\nGetting Optional.empty as the response. Is it possible to get the Optional&lt;Student&gt; here with the correct value.\r\n\r\n```\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.databind.DeserializationFeature;\r\nimport com.sams.interceptor.model.mixins.HttpStatusMixIn;\r\nimport com.sams.interceptor.model.mixins.ResponseEntityMixin;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\n\r\nimport java.io.IOException;\r\nimport java.util.Optional;\r\n\r\npublic class App2 {\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\tObjectMapper objectMapper = new ObjectMapper();\r\n\t\tString jsonStr = &quot;{\\&quot;value\\&quot;:{\\&quot;id\\&quot;:123}}&quot;;\r\n\t\tOptional&lt;Student&gt; abc = objectMapper.readValue(jsonStr,java.util.Optional.class);\r\n\t\tSystem.out.println(abc);\r\n\t}\r\n\r\n}\r\n\r\nclass Student {\r\n\tint id;\r\n\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n}\r\n```","title":"Reading Optional data with Jackson object mapper","body":"<p>I have a json String and it needs to be converted to Optional data type.</p>\n<p>Getting Optional.empty as the response. Is it possible to get the Optional here with the correct value.</p>\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.DeserializationFeature;\nimport com.sams.interceptor.model.mixins.HttpStatusMixIn;\nimport com.sams.interceptor.model.mixins.ResponseEntityMixin;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\n\nimport java.io.IOException;\nimport java.util.Optional;\n\npublic class App2 {\n\n    public static void main(String[] args) throws IOException {\n        ObjectMapper objectMapper = new ObjectMapper();\n        String jsonStr = &quot;{\\&quot;value\\&quot;:{\\&quot;id\\&quot;:123}}&quot;;\n        Optional&lt;Student&gt; abc = objectMapper.readValue(jsonStr,java.util.Optional.class);\n        System.out.println(abc);\n    }\n\n}\n\nclass Student {\n    int id;\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n}\n</code></pre>\n"},{"tags":["java","rdkit"],"answers":[{"tags":[],"owner":{"account_id":10981596,"reputation":1,"user_id":8068502,"display_name":"user8068502"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667544698,"creation_date":1667544698,"answer_id":74313187,"question_id":74089898,"body_markdown":"I know where&#39;s is the bug.It is about the maven package for springboot.If run with the command,it will run formally.","title":"&quot;java.lang.UnsatisfiedLinkError: &#39;long org.RDKit.RDKFuncsJNI.RWMol_MolFromSmiles__SWIG_3(java.lang.String)&#39;&quot;","body":"<p>I know where's is the bug.It is about the maven package for springboot.If run with the command,it will run formally.</p>\n"}],"owner":{"account_id":10981596,"reputation":1,"user_id":8068502,"display_name":"user8068502"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667544698,"creation_date":1665946358,"question_id":74089898,"body_markdown":"I want to use RDkit in my java web project. It happens  like this &quot;I want to use RDkit in my java web project. It happens  like this&quot;.\r\nIt is so weird.I wirte a sample java application like \r\n\r\n    public static void main(String[] args) {\r\n     System.loadLibrary(&quot;GraphMolWrap&quot;);//I have put the .dll file in the path\r\n     String smiles = &quot;CN1CCN2C(C1)C1=C(CC3=C2C=CC=C3)C=CC=C1&quot;;//my pom.xml import the jar\r\n     RWMol m1 = RWMol.MolFromSmiles(smiles);\r\n    } \r\n\r\nIt runs without any bug!\r\nBut When I put its code in my springboot project.It happens like title.\r\n","title":"&quot;java.lang.UnsatisfiedLinkError: &#39;long org.RDKit.RDKFuncsJNI.RWMol_MolFromSmiles__SWIG_3(java.lang.String)&#39;&quot;","body":"<p>I want to use RDkit in my java web project. It happens  like this &quot;I want to use RDkit in my java web project. It happens  like this&quot;.\nIt is so weird.I wirte a sample java application like</p>\n<pre><code>public static void main(String[] args) {\n System.loadLibrary(&quot;GraphMolWrap&quot;);//I have put the .dll file in the path\n String smiles = &quot;CN1CCN2C(C1)C1=C(CC3=C2C=CC=C3)C=CC=C1&quot;;//my pom.xml import the jar\n RWMol m1 = RWMol.MolFromSmiles(smiles);\n} \n</code></pre>\n<p>It runs without any bug!\nBut When I put its code in my springboot project.It happens like title.</p>\n"},{"tags":["java","jvm","jvm-hotspot"],"comments":[{"owner":{"account_id":17436542,"reputation":495,"user_id":12639399,"display_name":"Marcus Dunn"},"score":2,"creation_date":1667544950,"post_id":74313092,"comment_id":131195800,"body_markdown":"The java heap refers to heap memory managed by the JVM, these are things the java runtime tracks and potentially garbage collects. The native heap would be heap memory not managed by the JVM (native heap is a new term to me though, off-heap is generally what this kind of memory is called). The two often appear in the context of FFI through JNI/JNA or the new Panama project.","body":"The java heap refers to heap memory managed by the JVM, these are things the java runtime tracks and potentially garbage collects. The native heap would be heap memory not managed by the JVM (native heap is a new term to me though, off-heap is generally what this kind of memory is called). The two often appear in the context of FFI through JNI/JNA or the new Panama project."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1667558572,"post_id":74313092,"comment_id":131199828,"body_markdown":"The term native heap only makes sense in the context of a native language having such a concept. So a JVM implemented in such a language has a native and so do native code fragments executed within the JVM, e.g. via JNI or FFI. But there is no requirement that a JVM has to be implemented in such a language or hast to support such native code.","body":"The term native heap only makes sense in the context of a native language having such a concept. So a JVM implemented in such a language has a native and so do native code fragments executed within the JVM, e.g. via JNI or FFI. But there is no requirement that a JVM has to be implemented in such a language or hast to support such native code."}],"owner":{"account_id":24686998,"reputation":11,"user_id":18580050,"display_name":"heartinthedark"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667544590,"creation_date":1667544164,"question_id":74313092,"body_markdown":"What is the difference between a native heap and a Java heap? I saw a post that meant the jvm was in the native heap. I feel wrong, but I don&#39;t understand, but I feel wrong. If any of you know this. I&#39;d like you to take two minutes to answer my question. Thank you very much.\r\n\r\nI looked for a lot of information on the Internet, but I didn&#39;t find the answer I wanted.","title":"What is the difference between a native heap and a Java heap","body":"<p>What is the difference between a native heap and a Java heap? I saw a post that meant the jvm was in the native heap. I feel wrong, but I don't understand, but I feel wrong. If any of you know this. I'd like you to take two minutes to answer my question. Thank you very much.</p>\n<p>I looked for a lot of information on the Internet, but I didn't find the answer I wanted.</p>\n"},{"tags":["java","gwt","guice","gwt2","guice-3"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1667485617,"post_id":74304540,"comment_id":131181791,"body_markdown":"Shouldn&#39;t `Utility` instantiated by Guice also in order to make `endpoint` be properly injected?","body":"Shouldn&#39;t <code>Utility</code> instantiated by Guice also in order to make <code>endpoint</code> be properly injected?"},{"owner":{"account_id":4996271,"reputation":971,"user_id":4108345,"accept_rate":61,"display_name":"Harsh Kanakhara"},"score":0,"creation_date":1667485727,"post_id":74304540,"comment_id":131181837,"body_markdown":"Tried that too. But it&#39;s not working.","body":"Tried that too. But it&#39;s not working."},{"owner":{"account_id":4996271,"reputation":971,"user_id":4108345,"accept_rate":61,"display_name":"Harsh Kanakhara"},"score":0,"creation_date":1667486038,"post_id":74304540,"comment_id":131181978,"body_markdown":"@AlexeyR. edited the question with error I am getting for injecting Utility using Guice","body":"@AlexeyR. edited the question with error I am getting for injecting Utility using Guice"},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1667487286,"post_id":74304540,"comment_id":131182495,"body_markdown":"How do you tell Guice to use `ConfigModule` to resolve injections?","body":"How do you tell Guice to use <code>ConfigModule</code> to resolve injections?"},{"owner":{"account_id":4996271,"reputation":971,"user_id":4108345,"accept_rate":61,"display_name":"Harsh Kanakhara"},"score":0,"creation_date":1667532298,"post_id":74304540,"comment_id":131193801,"body_markdown":"In implementation of GuiceServletContextListener I am injecting all classes using Guice.createInjector()","body":"In implementation of GuiceServletContextListener I am injecting all classes using Guice.createInjector()"},{"owner":{"account_id":1181589,"reputation":3787,"user_id":1156412,"display_name":"El Hoss"},"score":0,"creation_date":1667543833,"post_id":74304540,"comment_id":131195530,"body_markdown":"AFAIK, you can not use Guice on the client. That&#39;s what the message is telling you. Try Dagger on the client side or just use a Factory or something else ...","body":"AFAIK, you can not use Guice on the client. That&#39;s what the message is telling you. Try Dagger on the client side or just use a Factory or something else ..."},{"owner":{"account_id":4996271,"reputation":971,"user_id":4108345,"accept_rate":61,"display_name":"Harsh Kanakhara"},"score":0,"creation_date":1667543904,"post_id":74304540,"comment_id":131195544,"body_markdown":"I have used RPC to get value from the server","body":"I have used RPC to get value from the server"}],"answers":[{"tags":[],"owner":{"account_id":4996271,"reputation":971,"user_id":4108345,"accept_rate":61,"display_name":"Harsh Kanakhara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667544458,"creation_date":1667544458,"answer_id":74313149,"question_id":74304540,"body_markdown":"Found out Guice cannot be used on client side.\r\n\r\nTo fetch static values inside our GWT Client Code, we can bind those values inside class extending **AbstractGinModule** class.\r\n\r\nTo fetch dynamic values from properties files, write logic on server side and get values on client side using GWT RPC.","title":"GWT - Inject value using Guice @Named","body":"<p>Found out Guice cannot be used on client side.</p>\n<p>To fetch static values inside our GWT Client Code, we can bind those values inside class extending <strong>AbstractGinModule</strong> class.</p>\n<p>To fetch dynamic values from properties files, write logic on server side and get values on client side using GWT RPC.</p>\n"}],"owner":{"account_id":4996271,"reputation":971,"user_id":4108345,"accept_rate":61,"display_name":"Harsh Kanakhara"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74313149,"answer_count":1,"score":0,"last_activity_date":1667544458,"creation_date":1667484901,"question_id":74304540,"body_markdown":"I have Utility class as below.\r\n\r\n    class Utility{\r\n      @Inject\r\n      @Named(&quot;endpoint&quot;)\r\n      private String endpoint; //generated only getter\r\n    }\r\n\r\nI am configuring value for endpoint in the as below.\r\n\r\n    public class ConfigModule extends AbstractModule {\r\n      @Override\r\n      protected void configure() {\r\n        bindConstant().annotatedWith(Names.named(&quot;endpoint&quot;))\r\n        .to(&quot;Endpoint URL&quot;);\r\n      }\r\n    }\r\n\r\nIn my GWT class I am trying to get this value. \r\n\r\n    public class MyUIPanel extends Composite {\r\n      @Override\r\n      protected void onLoad() {\r\n        Window.Location.assign(new Utility().getEndpoint());\r\n      }\r\n    }\r\n\r\nUI loaded properly with error coming up in browser console saying **You are executing Names.named() in GWT code. GWT does not emulate enough of Java that will work.**\r\n\r\nAlso tried to inject Utility class in MyUIPanel class using guice but getting below error at the time of building war\r\n**Binding requested for constant key Key[type=java.lang.String, annotation=@com.google.inject.name.Named(value=CognitoEndpoint)] but no explicit binding was found.**","title":"GWT - Inject value using Guice @Named","body":"<p>I have Utility class as below.</p>\n<pre><code>class Utility{\n  @Inject\n  @Named(&quot;endpoint&quot;)\n  private String endpoint; //generated only getter\n}\n</code></pre>\n<p>I am configuring value for endpoint in the as below.</p>\n<pre><code>public class ConfigModule extends AbstractModule {\n  @Override\n  protected void configure() {\n    bindConstant().annotatedWith(Names.named(&quot;endpoint&quot;))\n    .to(&quot;Endpoint URL&quot;);\n  }\n}\n</code></pre>\n<p>In my GWT class I am trying to get this value.</p>\n<pre><code>public class MyUIPanel extends Composite {\n  @Override\n  protected void onLoad() {\n    Window.Location.assign(new Utility().getEndpoint());\n  }\n}\n</code></pre>\n<p>UI loaded properly with error coming up in browser console saying <strong>You are executing Names.named() in GWT code. GWT does not emulate enough of Java that will work.</strong></p>\n<p>Also tried to inject Utility class in MyUIPanel class using guice but getting below error at the time of building war\n<strong>Binding requested for constant key Key[type=java.lang.String, annotation=@com.google.inject.name.Named(value=CognitoEndpoint)] but no explicit binding was found.</strong></p>\n"},{"tags":["java","sorting","selection"],"answers":[{"tags":[],"owner":{"account_id":7813131,"reputation":26,"user_id":5908736,"display_name":"Whatever22"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667544102,"creation_date":1667544102,"answer_id":74313082,"question_id":74312754,"body_markdown":"I&#39;m not sure that I understood you well, but if you would like to see how an array was changed after each iteration of sorting you can just add some print to System.out in &#39;sort&#39; method:\r\n\r\n    public static void sort(int[] a)\r\n    // Sort the contents of array a in ascending numerical order\r\n    {\r\n        String arrayAfterIteration;\r\n        for (int i = 0; i &lt; a.length - 1; i++)\r\n        {\r\n            int pos = smallestPosFrom(i, a);\r\n            swap(a, i, pos);\r\n            arrayAfterIteration = arrayToString(a);\r\n            System.out.println(&quot;The array after step N&quot; + i + &quot; is:&quot; + arrayAfterIteration);\r\n        }\r\n    }","title":"How to show each Iteration Completed in Selection Sort?","body":"<p>I'm not sure that I understood you well, but if you would like to see how an array was changed after each iteration of sorting you can just add some print to System.out in 'sort' method:</p>\n<pre><code>public static void sort(int[] a)\n// Sort the contents of array a in ascending numerical order\n{\n    String arrayAfterIteration;\n    for (int i = 0; i &lt; a.length - 1; i++)\n    {\n        int pos = smallestPosFrom(i, a);\n        swap(a, i, pos);\n        arrayAfterIteration = arrayToString(a);\n        System.out.println(&quot;The array after step N&quot; + i + &quot; is:&quot; + arrayAfterIteration);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24952048,"reputation":1,"user_id":18816737,"display_name":"Aaron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667544102,"creation_date":1667541376,"question_id":74312754,"body_markdown":"I created a program that does a Selection Sort function of array using the elements our input that is given by the user. I am struggling in creating a loop or method to call or show each iteration that is completed to reach the final output of the sorting. I am all open for suggestions. Thanks!\r\n\r\nHere&#39;s the code :\r\n\r\n\r\n\r\n```\r\n private static String arrayToString(int[] a)\r\n    {\r\n     String str=&quot;[&quot;;\r\n     if(a.length&gt;0)\r\n        {\r\n         str+=a[0];\r\n         for(int i=1; i&lt;a.length; i++)\r\n            str+=&quot;|&quot;+a[i];\r\n        }\r\n     return str+&quot;]&quot;;\r\n    }\r\n    \r\n    public static void sort(int[] a)\r\n    // Sort the contents of array a in ascending numerical order\r\n    {\r\n     for(int i=0; i&lt;a.length-1; i++)\r\n        {\r\n         int pos = smallestPosFrom(i,a);\r\n         swap(a,i,pos);\r\n        }\r\n    }\r\n    private static int smallestPosFrom(int from,int[] a)\r\n    // Return the index of the smallest element in the section of\r\n    // array &#39;a&#39; from that indexed &#39;from&#39; to the end of the array\r\n    {\r\n     int pos=from;\r\n     for(int i=from+1; i&lt;a.length; i++)\r\n        if(a[i]&lt;a[pos])\r\n           pos=i;\r\n     return pos;\r\n    }\r\n\r\n    private static void swap(int[] a,int pos1, int pos2)\r\n    // Swap the elements indexed pos1 and pos2 within array a\r\n    {\r\n     int temp;\r\n     temp = a[pos1];\r\n     a[pos1] = a[pos2];\r\n     a[pos2] = temp;\r\n    }\r\n```\r\nAnd this is how I call them in my main :\r\n\r\n\r\n\r\n```\r\nSystem.out.println(&quot;The array you entered is:&quot;);\r\n        \tSystem.out.println(arrayToString(Array));\r\n        \tsort(Array);\r\n        \tSystem.out.println(&quot;After sorting, the array is:&quot;);\r\n        \tSystem.out.println(arrayToString(Array));\r\n        \tbreak;\r\n\r\n```\r\n\r\n","title":"How to show each Iteration Completed in Selection Sort?","body":"<p>I created a program that does a Selection Sort function of array using the elements our input that is given by the user. I am struggling in creating a loop or method to call or show each iteration that is completed to reach the final output of the sorting. I am all open for suggestions. Thanks!</p>\n<p>Here's the code :</p>\n<pre><code> private static String arrayToString(int[] a)\n    {\n     String str=&quot;[&quot;;\n     if(a.length&gt;0)\n        {\n         str+=a[0];\n         for(int i=1; i&lt;a.length; i++)\n            str+=&quot;|&quot;+a[i];\n        }\n     return str+&quot;]&quot;;\n    }\n    \n    public static void sort(int[] a)\n    // Sort the contents of array a in ascending numerical order\n    {\n     for(int i=0; i&lt;a.length-1; i++)\n        {\n         int pos = smallestPosFrom(i,a);\n         swap(a,i,pos);\n        }\n    }\n    private static int smallestPosFrom(int from,int[] a)\n    // Return the index of the smallest element in the section of\n    // array 'a' from that indexed 'from' to the end of the array\n    {\n     int pos=from;\n     for(int i=from+1; i&lt;a.length; i++)\n        if(a[i]&lt;a[pos])\n           pos=i;\n     return pos;\n    }\n\n    private static void swap(int[] a,int pos1, int pos2)\n    // Swap the elements indexed pos1 and pos2 within array a\n    {\n     int temp;\n     temp = a[pos1];\n     a[pos1] = a[pos2];\n     a[pos2] = temp;\n    }\n</code></pre>\n<p>And this is how I call them in my main :</p>\n<pre><code>System.out.println(&quot;The array you entered is:&quot;);\n            System.out.println(arrayToString(Array));\n            sort(Array);\n            System.out.println(&quot;After sorting, the array is:&quot;);\n            System.out.println(arrayToString(Array));\n            break;\n\n</code></pre>\n"},{"tags":["java","xml","android-studio","android-intent"],"answers":[{"tags":[],"owner":{"account_id":6906851,"reputation":269,"user_id":5304374,"display_name":"sarup dalwani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667543937,"creation_date":1667543937,"answer_id":74313056,"question_id":74055781,"body_markdown":"Intent.ACTION_SENDTO needs data set not extras. You can use Intent.ACTION_SEND and user would get choice to select application they want to send through. If you explicitly want to share with particular app you can set that using setPackage ","title":"android.content.ActivityNotFoundException: No Activity found to handle Intent{ act=android.intent.action.SENDTO (has extras) }","body":"<p>Intent.ACTION_SENDTO needs data set not extras. You can use Intent.ACTION_SEND and user would get choice to select application they want to send through. If you explicitly want to share with particular app you can set that using setPackage</p>\n"}],"owner":{"account_id":26390142,"reputation":21,"user_id":20042115,"display_name":"Ritam Arya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1257,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667543937,"creation_date":1665664041,"question_id":74055781,"body_markdown":"Most intents are not working even when i used the same code as in Android Documentation. I don&#39;t know what I&#39;m missing. I tried making another app and try again, didn&#39;t work. I keep getting &quot;android.content.ActivityNotFoundException: No Activity found to handle Intent{ act=android.intent.action.SENDTO (has extras) }&quot; this in catch.\r\n\r\nThis is Main activity and the only activity in the app.\r\n```\r\npackage com.example.practice4;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.ActivityNotFoundException;\r\nimport android.content.Intent;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    private String [] questions = {&quot;Java is a person.&quot;, &quot;Java was introduced in 1233.&quot;, &quot;Java was created using Python.&quot;, &quot;Java has abstract classes.&quot;, &quot;Java supports interface.&quot;};\r\n    private boolean[] answers = {false, false, false, true, true};\r\n    private int index = 0;\r\n    private int score = 0;\r\n\r\n    Button yes, no, share;\r\n    TextView question;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        yes = findViewById(R.id.yes);\r\n        no = findViewById(R.id.no);\r\n        share = findViewById(R.id.share);\r\n        question = findViewById(R.id.question);\r\n        question.setText(questions[index]);\r\n\r\n        share.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(Intent.ACTION_SENDTO);\r\n                intent.putExtra(Intent.EXTRA_TEXT, &quot;I scored &quot;+score+&quot;/&quot;+questions.length+&quot; in my java quiz&quot;);\r\n                intent.putExtra(Intent.EXTRA_SUBJECT, &quot;App chal gyi bc&quot;);\r\n                try {\r\n                    startActivity(intent);\r\n                }catch (ActivityNotFoundException e){\r\n                    Toast.makeText(MainActivity.this, e.toString(), Toast.LENGTH_SHORT).show();\r\n                    question.setText(e.toString());\r\n                }\r\n            }\r\n        });\r\n\r\n        yes.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if(index&lt;questions.length) {\r\n                    if(answers[index]){\r\n                        score++;\r\n                    }\r\n                    if(index+1&lt;questions.length){\r\n                        question.setText(questions[++index]);\r\n                    }else{\r\n                        Toast.makeText(MainActivity.this, &quot;You scored &quot;+score+&quot;/5&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        no.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if(index&lt;questions.length) {\r\n                    if(!answers[index]){\r\n                        score++;\r\n                    }\r\n                    if(index+1&lt;questions.length){\r\n                        question.setText(questions[++index]);\r\n                    }else{\r\n                        Toast.makeText(MainActivity.this, &quot;You scored &quot;+score+&quot;/5&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n    }\r\n}\r\n```\r\n\r\nThis is the xml of the Main activity\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Java Quiz&quot;\r\n        android:textSize=&quot;24sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.498&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/imageView2&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.0&quot; /&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/imageView2&quot;\r\n        android:layout_width=&quot;120dp&quot;\r\n        android:layout_height=&quot;219dp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.497&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:srcCompat=&quot;@drawable/java&quot;\r\n        tools:layout_editor_absoluteY=&quot;75dp&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/question&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;1. Java was introduced in 1823.&quot;\r\n        android:textSize=&quot;20sp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.498&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.168&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/yes&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;True&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toStartOf=&quot;@+id/no&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/question&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.5&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/no&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;False&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n        app:layout_constraintStart_toEndOf=&quot;@+id/yes&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/question&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.5&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/share&quot;\r\n        android:layout_width=&quot;102dp&quot;\r\n        android:layout_height=&quot;55dp&quot;\r\n        android:text=&quot;Share&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.948&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/yes&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.794&quot;\r\n        app:shapeAppearance=&quot;@style/Widget.Material3.CircularProgressIndicator.Medium&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n","title":"android.content.ActivityNotFoundException: No Activity found to handle Intent{ act=android.intent.action.SENDTO (has extras) }","body":"<p>Most intents are not working even when i used the same code as in Android Documentation. I don't know what I'm missing. I tried making another app and try again, didn't work. I keep getting &quot;android.content.ActivityNotFoundException: No Activity found to handle Intent{ act=android.intent.action.SENDTO (has extras) }&quot; this in catch.</p>\n<p>This is Main activity and the only activity in the app.</p>\n<pre><code>package com.example.practice4;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.ActivityNotFoundException;\nimport android.content.Intent;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\npublic class MainActivity extends AppCompatActivity {\n    private String [] questions = {&quot;Java is a person.&quot;, &quot;Java was introduced in 1233.&quot;, &quot;Java was created using Python.&quot;, &quot;Java has abstract classes.&quot;, &quot;Java supports interface.&quot;};\n    private boolean[] answers = {false, false, false, true, true};\n    private int index = 0;\n    private int score = 0;\n\n    Button yes, no, share;\n    TextView question;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        yes = findViewById(R.id.yes);\n        no = findViewById(R.id.no);\n        share = findViewById(R.id.share);\n        question = findViewById(R.id.question);\n        question.setText(questions[index]);\n\n        share.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(Intent.ACTION_SENDTO);\n                intent.putExtra(Intent.EXTRA_TEXT, &quot;I scored &quot;+score+&quot;/&quot;+questions.length+&quot; in my java quiz&quot;);\n                intent.putExtra(Intent.EXTRA_SUBJECT, &quot;App chal gyi bc&quot;);\n                try {\n                    startActivity(intent);\n                }catch (ActivityNotFoundException e){\n                    Toast.makeText(MainActivity.this, e.toString(), Toast.LENGTH_SHORT).show();\n                    question.setText(e.toString());\n                }\n            }\n        });\n\n        yes.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if(index&lt;questions.length) {\n                    if(answers[index]){\n                        score++;\n                    }\n                    if(index+1&lt;questions.length){\n                        question.setText(questions[++index]);\n                    }else{\n                        Toast.makeText(MainActivity.this, &quot;You scored &quot;+score+&quot;/5&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                }\n            }\n        });\n\n        no.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if(index&lt;questions.length) {\n                    if(!answers[index]){\n                        score++;\n                    }\n                    if(index+1&lt;questions.length){\n                        question.setText(questions[++index]);\n                    }else{\n                        Toast.makeText(MainActivity.this, &quot;You scored &quot;+score+&quot;/5&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                }\n            }\n        });\n\n    }\n}\n</code></pre>\n<p>This is the xml of the Main activity</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Java Quiz&quot;\n        android:textSize=&quot;24sp&quot;\n        android:textStyle=&quot;bold&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.498&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/imageView2&quot;\n        app:layout_constraintVertical_bias=&quot;0.0&quot; /&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/imageView2&quot;\n        android:layout_width=&quot;120dp&quot;\n        android:layout_height=&quot;219dp&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.497&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:srcCompat=&quot;@drawable/java&quot;\n        tools:layout_editor_absoluteY=&quot;75dp&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/question&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;1. Java was introduced in 1823.&quot;\n        android:textSize=&quot;20sp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.498&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView&quot;\n        app:layout_constraintVertical_bias=&quot;0.168&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/yes&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;True&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toStartOf=&quot;@+id/no&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/question&quot;\n        app:layout_constraintVertical_bias=&quot;0.5&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/no&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;False&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n        app:layout_constraintStart_toEndOf=&quot;@+id/yes&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/question&quot;\n        app:layout_constraintVertical_bias=&quot;0.5&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/share&quot;\n        android:layout_width=&quot;102dp&quot;\n        android:layout_height=&quot;55dp&quot;\n        android:text=&quot;Share&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.948&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/yes&quot;\n        app:layout_constraintVertical_bias=&quot;0.794&quot;\n        app:shapeAppearance=&quot;@style/Widget.Material3.CircularProgressIndicator.Medium&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","arraylist"],"answers":[{"tags":[],"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667543750,"creation_date":1667543750,"answer_id":74313021,"question_id":74312996,"body_markdown":"Rather than removing all entries, instantiate a new List\r\n\r\n    c = new ArrayList&lt;String&gt;();","title":"Is there a way to store ArrayList information when &quot;newing&quot; up a class without it emptying out the ArrayList to avoid information changing?","body":"<p>Rather than removing all entries, instantiate a new List</p>\n<pre><code>c = new ArrayList&lt;String&gt;();\n</code></pre>\n"}],"owner":{"account_id":22716015,"reputation":3,"user_id":16881266,"display_name":"EMAN-GAMING"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74313021,"answer_count":1,"score":0,"last_activity_date":1667543750,"creation_date":1667543539,"question_id":74312996,"body_markdown":"In this example, I have a Database class that takes in new Question(&quot;Genre&quot;, &quot;Question&quot;, &quot;ArrayListOfStrings choices, &quot;Answer&quot;, &quot;Fun Fact&quot;). \r\n\r\nWhat I want is for when I add the choices to a specific question to stay those choices. But when I remove the choices after adding a new Question, the choices switches to the ones that have been added. Is there any way to bypass this?\r\n        \r\n    public static ArrayList&lt;Question&gt; allInitialQuestions(ArrayList&lt;Question&gt; q)\r\n        {\r\n\r\n        ArrayList&lt;String&gt; c = new ArrayList&lt;String&gt;();\r\n\r\n        // These choices would be added to the choices ArrayList\r\n        c.add(&quot;Pacific&quot;);\r\n        c.add(&quot;Atlantic&quot;);\r\n        c.add(&quot;Arctic&quot;);\r\n        c.add(&quot;Indian&quot;);\r\n\r\n        // Then what is stored in c at this moment should stay there\r\n        // This question should have the aquatic choices\r\n        q.add(new Question(&quot;Geography&quot;,&quot;Which ocean is the largest?&quot;, c, &quot;Pacific&quot;, &quot;The Pacific Ocean stretches to an astonishing 63.8 million square miles!&quot;));\r\n\r\n        // However, when I remove everything on the ArrayList,\r\n        // it automatically updates the other ArrayList to display\r\n        // the ones that have been added to it.\r\n        c.removeAll(c);\r\n\r\n        c.add(&quot;192&quot;);\r\n        c.add(&quot;195&quot;);\r\n        c.add(&quot;193&quot;);\r\n        c.add(&quot;197&quot;);\r\n\r\n        q.add(new Question(&quot;Geography&quot;, &quot;How many countries are in the world?&quot;, c, &quot;195&quot;, &quot;Africa has the most countries of any continent with 54.&quot;));\r\n\r\n        c.removeAll(c);\r\n\r\n        c.add(&quot;Mississippi&quot;);\r\n        c.add(&quot;Nile&quot;);\r\n        c.add(&quot;Congo&quot;);\r\n        c.add(&quot;Amazon&quot;);\r\n\r\n        q.add(new Question(&quot;Geography&quot;, &quot;What is the name of the longest river in the world?&quot;, c, &quot;Nile&quot;,&quot;Explorer John Hanning Speke discovered the source of the Nile on August 3rd, 1858.&quot;));\r\n\r\n        c.removeAll(c);\r\n\r\n        c.add(&quot;United States&quot;);\r\n        c.add(&quot;China&quot;);\r\n        c.add(&quot;Japan&quot;);\r\n        c.add(&quot;India&quot;);\r\n\r\n        q.add(new Question(&quot;Geography&quot;,&quot;Which country has the largest population?&quot; ,c, &quot;China&quot;, &quot;Shanghai is the most populated city in China with a population of 24,870,895.&quot;));\r\n\r\n        c.removeAll(c);\r\n\r\n        c.add(&quot;Mars&quot;);\r\n        c.add(&quot;Mercury&quot;);\r\n        c.add(&quot;Venus&quot;);\r\n        c.add(&quot;Jupiter&quot;);\r\n\r\n        q.add(new Question(&quot;Geography&quot;,&quot;Which planet is closest to Earth?&quot;,c,&quot;Venus&quot;,&quot;Even though Venus is the closest, the planet it still ~38 million miles from Earth!&quot;));\r\n\r\n        c.removeAll(c);\r\n\r\n        c.add(&quot;Sega&quot;);\r\n        c.add(&quot;Nintendo&quot;);\r\n        c.add(&quot;Sony&quot;);\r\n        c.add(&quot;Atari&quot;);\r\n\r\n        q.add(new Question(&quot;Video Games&quot;, &quot;Which company created the famous plumber Mario?&quot;, c, &quot;Nintendo&quot;, &quot;Nintendo created Mario in 1981 for the arcade game Donkey Kong.&quot;));\r\n\r\n        c.removeAll(c);\r\n\r\n        c.add(&quot;Sonic&quot;);\r\n        c.add(&quot;Tales&quot;);\r\n        c.add(&quot;Knuckles&quot;);\r\n        c.add(&quot;Amy&quot;);\r\n\r\n        q.add(new Question(&quot;Video Games&quot;, &quot;What is the name of the famous video character who is a blue hedgehog?&quot;,c,&quot;Sonic&quot;, &quot;In some official concept art, Sonic was originally meant to be a rabbit.&quot;));\r\n\r\n        c.removeAll(c);\r\n\r\n        c.add(&quot;Wii Sports&quot;);\r\n        c.add(&quot;Grand Theft Auto V&quot;);\r\n        c.add(&quot;Tetris&quot;);\r\n        c.add(&quot;Minecraft&quot;);\r\n\r\n        q.add(new Question(&quot;Video Games&quot;,&quot;As of 2022, which of the following is the best selling video game of all time?&quot;,c,&quot;Minecraft&quot;,&quot;As of 2022, Minecraft has sold over 238 million units.&quot;));\r\n\r\n\r\n\r\n        return q;\r\n    }\r\n\r\n\r\n","title":"Is there a way to store ArrayList information when &quot;newing&quot; up a class without it emptying out the ArrayList to avoid information changing?","body":"<p>In this example, I have a Database class that takes in new Question(&quot;Genre&quot;, &quot;Question&quot;, &quot;ArrayListOfStrings choices, &quot;Answer&quot;, &quot;Fun Fact&quot;).</p>\n<p>What I want is for when I add the choices to a specific question to stay those choices. But when I remove the choices after adding a new Question, the choices switches to the ones that have been added. Is there any way to bypass this?</p>\n<pre><code>public static ArrayList&lt;Question&gt; allInitialQuestions(ArrayList&lt;Question&gt; q)\n    {\n\n    ArrayList&lt;String&gt; c = new ArrayList&lt;String&gt;();\n\n    // These choices would be added to the choices ArrayList\n    c.add(&quot;Pacific&quot;);\n    c.add(&quot;Atlantic&quot;);\n    c.add(&quot;Arctic&quot;);\n    c.add(&quot;Indian&quot;);\n\n    // Then what is stored in c at this moment should stay there\n    // This question should have the aquatic choices\n    q.add(new Question(&quot;Geography&quot;,&quot;Which ocean is the largest?&quot;, c, &quot;Pacific&quot;, &quot;The Pacific Ocean stretches to an astonishing 63.8 million square miles!&quot;));\n\n    // However, when I remove everything on the ArrayList,\n    // it automatically updates the other ArrayList to display\n    // the ones that have been added to it.\n    c.removeAll(c);\n\n    c.add(&quot;192&quot;);\n    c.add(&quot;195&quot;);\n    c.add(&quot;193&quot;);\n    c.add(&quot;197&quot;);\n\n    q.add(new Question(&quot;Geography&quot;, &quot;How many countries are in the world?&quot;, c, &quot;195&quot;, &quot;Africa has the most countries of any continent with 54.&quot;));\n\n    c.removeAll(c);\n\n    c.add(&quot;Mississippi&quot;);\n    c.add(&quot;Nile&quot;);\n    c.add(&quot;Congo&quot;);\n    c.add(&quot;Amazon&quot;);\n\n    q.add(new Question(&quot;Geography&quot;, &quot;What is the name of the longest river in the world?&quot;, c, &quot;Nile&quot;,&quot;Explorer John Hanning Speke discovered the source of the Nile on August 3rd, 1858.&quot;));\n\n    c.removeAll(c);\n\n    c.add(&quot;United States&quot;);\n    c.add(&quot;China&quot;);\n    c.add(&quot;Japan&quot;);\n    c.add(&quot;India&quot;);\n\n    q.add(new Question(&quot;Geography&quot;,&quot;Which country has the largest population?&quot; ,c, &quot;China&quot;, &quot;Shanghai is the most populated city in China with a population of 24,870,895.&quot;));\n\n    c.removeAll(c);\n\n    c.add(&quot;Mars&quot;);\n    c.add(&quot;Mercury&quot;);\n    c.add(&quot;Venus&quot;);\n    c.add(&quot;Jupiter&quot;);\n\n    q.add(new Question(&quot;Geography&quot;,&quot;Which planet is closest to Earth?&quot;,c,&quot;Venus&quot;,&quot;Even though Venus is the closest, the planet it still ~38 million miles from Earth!&quot;));\n\n    c.removeAll(c);\n\n    c.add(&quot;Sega&quot;);\n    c.add(&quot;Nintendo&quot;);\n    c.add(&quot;Sony&quot;);\n    c.add(&quot;Atari&quot;);\n\n    q.add(new Question(&quot;Video Games&quot;, &quot;Which company created the famous plumber Mario?&quot;, c, &quot;Nintendo&quot;, &quot;Nintendo created Mario in 1981 for the arcade game Donkey Kong.&quot;));\n\n    c.removeAll(c);\n\n    c.add(&quot;Sonic&quot;);\n    c.add(&quot;Tales&quot;);\n    c.add(&quot;Knuckles&quot;);\n    c.add(&quot;Amy&quot;);\n\n    q.add(new Question(&quot;Video Games&quot;, &quot;What is the name of the famous video character who is a blue hedgehog?&quot;,c,&quot;Sonic&quot;, &quot;In some official concept art, Sonic was originally meant to be a rabbit.&quot;));\n\n    c.removeAll(c);\n\n    c.add(&quot;Wii Sports&quot;);\n    c.add(&quot;Grand Theft Auto V&quot;);\n    c.add(&quot;Tetris&quot;);\n    c.add(&quot;Minecraft&quot;);\n\n    q.add(new Question(&quot;Video Games&quot;,&quot;As of 2022, which of the following is the best selling video game of all time?&quot;,c,&quot;Minecraft&quot;,&quot;As of 2022, Minecraft has sold over 238 million units.&quot;));\n\n\n\n    return q;\n}\n</code></pre>\n"},{"tags":["java","transactions","ejb","wildfly","jta"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1667586122,"post_id":74313009,"comment_id":131209727,"body_markdown":"You can set a global value, but I&#39;m not aware of a Jakarta EE annotation.","body":"You can set a global value, but I&#39;m not aware of a Jakarta EE annotation."},{"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"score":0,"creation_date":1668052771,"post_id":74313009,"comment_id":131315530,"body_markdown":"@JamesR.Perkins: Global value means?","body":"@JamesR.Perkins: Global value means?"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1668103486,"post_id":74313009,"comment_id":131331186,"body_markdown":"What I mean is that there is a setting for it in the EJB subsystem or in a `jboss-ejb.xml` file https://docs.wildfly.org/26.1/Developer_Guide.html#transaction-timeout.","body":"What I mean is that there is a setting for it in the EJB subsystem or in a <code>jboss-ejb.xml</code> file <a href=\"https://docs.wildfly.org/26.1/Developer_Guide.html#transaction-timeout\" rel=\"nofollow noreferrer\">docs.wildfly.org/26.1/Developer_Guide.html#transaction-timeo&zwnj;&#8203;ut</a>."}],"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667543620,"creation_date":1667543620,"question_id":74313009,"body_markdown":"We have several projects using Schedulers and deployed in Wildfly.\r\n\r\n    import javax.ejb.AccessTimeout;\r\n    import javax.ejb.EJB;\r\n    import javax.ejb.Schedule;\r\n    import javax.ejb.Schedules;\r\n    import javax.ejb.Singleton;\r\n    import javax.ejb.Startup;\r\n    import javax.ejb.TimerService;\r\n    import javax.inject.Inject;\r\n    \r\n    import org.jboss.ejb3.annotation.TransactionTimeout;\r\n\r\n    @Startup\r\n    @Singleton\r\n    @AccessTimeout(value = 10, unit = TimeUnit.MINUTES)\r\n    public class CustomerTeamsScheduler {\r\n\r\n      @Schedules ({\r\n\t  \t@Schedule(hour = &quot;13&quot;, minute = &quot;00&quot;, persistent = false),\r\n\t\t@Schedule(hour = &quot;23&quot;, minute = &quot;00&quot;, persistent = false)\r\n\t  })\r\n\t  @TransactionTimeout(value = 20, unit = TimeUnit.HOURS)\r\n\t  public void schedule() {\r\n\r\nFor some projects, We are using TransactionTimeout which is ejb annotation. \r\nIs there any annotation in Java library (not third party) which help in managing Transaction Timeout?","title":"Any alternative to &quot;org.jboss.ejb3.annotation.TransactionTimeout&quot; in Java default Libraries?","body":"<p>We have several projects using Schedulers and deployed in Wildfly.</p>\n<pre><code>import javax.ejb.AccessTimeout;\nimport javax.ejb.EJB;\nimport javax.ejb.Schedule;\nimport javax.ejb.Schedules;\nimport javax.ejb.Singleton;\nimport javax.ejb.Startup;\nimport javax.ejb.TimerService;\nimport javax.inject.Inject;\n\nimport org.jboss.ejb3.annotation.TransactionTimeout;\n\n@Startup\n@Singleton\n@AccessTimeout(value = 10, unit = TimeUnit.MINUTES)\npublic class CustomerTeamsScheduler {\n\n  @Schedules ({\n    @Schedule(hour = &quot;13&quot;, minute = &quot;00&quot;, persistent = false),\n    @Schedule(hour = &quot;23&quot;, minute = &quot;00&quot;, persistent = false)\n  })\n  @TransactionTimeout(value = 20, unit = TimeUnit.HOURS)\n  public void schedule() {\n</code></pre>\n<p>For some projects, We are using TransactionTimeout which is ejb annotation.\nIs there any annotation in Java library (not third party) which help in managing Transaction Timeout?</p>\n"},{"tags":["java","postgresql","servlets","ember.js","httprequest"],"comments":[{"owner":{"account_id":146405,"reputation":62778,"user_id":356849,"accept_rate":88,"display_name":"NullVoxPopuli"},"score":0,"creation_date":1661038156,"post_id":73399134,"comment_id":129676424,"body_markdown":"did you end up resolving this? if so, can you post an answer for future travelers?","body":"did you end up resolving this? if so, can you post an answer for future travelers?"},{"owner":{"account_id":25930939,"reputation":336,"user_id":19652021,"display_name":"hariharan baskaran"},"score":0,"creation_date":1661047783,"post_id":73399134,"comment_id":129677370,"body_markdown":"No haven&#39;t.. still stuck in it.. if resolved will post it","body":"No haven&#39;t.. still stuck in it.. if resolved will post it"},{"owner":{"account_id":146405,"reputation":62778,"user_id":356849,"accept_rate":88,"display_name":"NullVoxPopuli"},"score":0,"creation_date":1661054699,"post_id":73399134,"comment_id":129678040,"body_markdown":"well,idk if this&#39;ll help but to send data willy nilly from a server to a client, you&#39;ll need an open socket connection (such as a WebSocket) -- do you have one of those set up? otherwise the client must request all data or periodically poll for new data","body":"well,idk if this&#39;ll help but to send data willy nilly from a server to a client, you&#39;ll need an open socket connection (such as a WebSocket) -- do you have one of those set up? otherwise the client must request all data or periodically poll for new data"},{"owner":{"account_id":25930939,"reputation":336,"user_id":19652021,"display_name":"hariharan baskaran"},"score":0,"creation_date":1661060428,"post_id":73399134,"comment_id":129678580,"body_markdown":"i have got the idea and implemented it using ajax you can follow https://github.com/master-ladvil/emberhr,, created an ajax request for it.. once completed will post it as an answer","body":"i have got the idea and implemented it using ajax you can follow <a href=\"https://github.com/master-ladvil/emberhr\" rel=\"nofollow noreferrer\">github.com/master-ladvil/emberhr</a>,, created an ajax request for it.. once completed will post it as an answer"}],"answers":[{"tags":[],"owner":{"account_id":25930939,"reputation":336,"user_id":19652021,"display_name":"hariharan baskaran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667543492,"creation_date":1667543492,"answer_id":74312991,"question_id":73399134,"body_markdown":"So after working out and getting a hold on ember and servlet it seems that there are multiple ways to send and receive data between ember and servlet like a traditional http request using ajax.\r\n\r\nSending a http request can be done via a controller from ember importing ajax a sample http request can be like\r\n\r\n```\r\nimport Controller from &#39;@ember/controller&#39;;\r\nimport { action } from &#39;@ember/object&#39;;\r\n\r\nexport default class IndexController extends Controller {\r\n  @action\r\n  get() {\r\n    var dis = this;\r\n    var uname = document.getElementById(&#39;uname&#39;).value;\r\n    var pass = document.getElementById(&#39;pass&#39;).value;\r\n    console.log(&#39;name -&gt;&#39; + name + &#39;pass -&gt; &#39; + pass);\r\n    $.ajax({\r\n      url: &#39;http://localhost:8080/auth/Login&#39;,\r\n      data: {\r\n        uname: uname,\r\n        pass: pass,\r\n      },\r\n      method: &#39;GET&#39;,\r\n      success: function (response) {\r\n\r\n        if (response == 0) {\r\n          alert(&quot;welcome&quot;);\r\n          dis.transitionToRoute(&#39;app&#39;);\r\n        }else if(response == 1){\r\n          alert(&quot;Password needed to be changed&quot;);\r\n          dis.transitionToRoute(&#39;resetpwd&#39;);\r\n        }\r\n\r\n      },\r\n      error: () =&gt; {\r\n        alert(&#39;error&#39;);\r\n      },\r\n    });\r\n  }\r\n}\r\n\r\n```\r\ndependencies: ember-ajax\r\nhttps://www.npmjs.com/package/ember-ajax\r\n\r\nso this ajax request here sends a request with uname and password as parameter and act accordingly with the response. if you want to recieve data files like a json object from servlet or any other back end you can also do that. you can refer the following answer by @NullVoxPopuli which answers the same. \r\n\r\nhttps://stackoverflow.com/questions/73428484/couldnt-render-a-json-array-from-servlet-in-ember-js\r\n\r\nbut the good method is to use ember data which follows a series of action including\r\n  \r\n\r\n 1. creating a model for the json data\r\n 2. creating an adapter for the request\r\n 3. creating a serializer for serializing the incoming data\r\n 4. importing the model in your router.\r\n\r\nyou can have a detailed view of this in the following youtube video\r\n\r\nhttps://youtu.be/ljLxZw-XStw\r\n\r\nand if you want me to explain more with regard to your code comment it","title":"how to send data from java servlet to ember.js and vice versa","body":"<p>So after working out and getting a hold on ember and servlet it seems that there are multiple ways to send and receive data between ember and servlet like a traditional http request using ajax.</p>\n<p>Sending a http request can be done via a controller from ember importing ajax a sample http request can be like</p>\n<pre><code>import Controller from '@ember/controller';\nimport { action } from '@ember/object';\n\nexport default class IndexController extends Controller {\n  @action\n  get() {\n    var dis = this;\n    var uname = document.getElementById('uname').value;\n    var pass = document.getElementById('pass').value;\n    console.log('name -&gt;' + name + 'pass -&gt; ' + pass);\n    $.ajax({\n      url: 'http://localhost:8080/auth/Login',\n      data: {\n        uname: uname,\n        pass: pass,\n      },\n      method: 'GET',\n      success: function (response) {\n\n        if (response == 0) {\n          alert(&quot;welcome&quot;);\n          dis.transitionToRoute('app');\n        }else if(response == 1){\n          alert(&quot;Password needed to be changed&quot;);\n          dis.transitionToRoute('resetpwd');\n        }\n\n      },\n      error: () =&gt; {\n        alert('error');\n      },\n    });\n  }\n}\n\n</code></pre>\n<p>dependencies: ember-ajax\n<a href=\"https://www.npmjs.com/package/ember-ajax\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/ember-ajax</a></p>\n<p>so this ajax request here sends a request with uname and password as parameter and act accordingly with the response. if you want to recieve data files like a json object from servlet or any other back end you can also do that. you can refer the following answer by @NullVoxPopuli which answers the same.</p>\n<p><a href=\"https://stackoverflow.com/questions/73428484/couldnt-render-a-json-array-from-servlet-in-ember-js\">couldnt render a json array from servlet in ember js</a></p>\n<p>but the good method is to use ember data which follows a series of action including</p>\n<ol>\n<li>creating a model for the json data</li>\n<li>creating an adapter for the request</li>\n<li>creating a serializer for serializing the incoming data</li>\n<li>importing the model in your router.</li>\n</ol>\n<p>you can have a detailed view of this in the following youtube video</p>\n<p><a href=\"https://youtu.be/ljLxZw-XStw\" rel=\"nofollow noreferrer\">https://youtu.be/ljLxZw-XStw</a></p>\n<p>and if you want me to explain more with regard to your code comment it</p>\n"}],"owner":{"account_id":25930939,"reputation":336,"user_id":19652021,"display_name":"hariharan baskaran"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74312991,"answer_count":1,"score":1,"last_activity_date":1667543492,"creation_date":1660808182,"question_id":73399134,"body_markdown":"so i have a servlet hosted which is connected to postgres database the thing is i need to create a login page which should send data to the servlet which is hosted in tomcat and also the servlet will have a set of ids and price that should be returned back to ember for displaying how can i do that?\r\n\r\nthe servlet code example (have added only the neccessary parts so ignore errors in servlet)\r\n```\r\n\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\nimport javax.security.auth.login.Configuration;\r\nimport java.util.HashMap;\r\n\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport javax.security.auth.login.AppConfigurationEntry;\r\nimport javax.security.auth.login.LoginContext;\r\nimport javax.sql.rowset.serial.SerialException;\r\n\r\npublic  class AuthenticationServlet extends HttpServlet{\r\n    public static LoginContext loginContext = null;\r\n    protected void doGet(HttpServletRequest request,HttpServletResponse response)throws ServletException, IOException{\r\n        String name = null;    \r\n        response.setContentType(&quot;text/html&quot;);\r\n        PrintWriter out = response.getWriter();\r\n        out.println(&quot;&lt;html&gt;&lt;body&gt;&quot;);\r\n        String user = request.getParameter(&quot;uname&quot;);\r\n        String mobile = request.getParameter(&quot;mobile&quot;);\r\n        System.out.println(&quot;user -&gt; &quot;+user + &quot;mobile &quot;+ mobile);\r\n}\r\n```\r\n\r\nthe servlet code which prints the data from postgres which must be modified so that the ember should print it\r\n```Statement stmt;\r\n\t\tResultSet rs = null;\r\n\t\ttry {\r\n\t\t\tSystem.out.println(&quot;[+]inside showrooms..&quot;);\r\n\t\t\tString query = String.format(\r\n\t\t\t\t\t&quot;SELECT room.id,capacity,rtype,price FROM room JOIN capacity ON room.cid=capacity.id JOIN rtype ON room.tid = rtype.id WHERE isavailablle = true;&quot;);\r\n\t\t\tstmt = con.createStatement();\r\n\t\t\trs = stmt.executeQuery(query);\r\n\r\n\t\t\tresponse.setContentType(&quot;text/html&quot;);\r\n\t\t\tPrintWriter out = response.getWriter();\r\n\t\t\tout.println(&quot;&lt;head&gt;&quot;);\r\n\t\t\tout.println(&quot;&lt;body&gt;&quot;);\r\n\t\t\tout.println(&quot;&lt;table&gt;&quot;);\r\n\t\t\tout.println(&quot;&lt;tr&gt;&quot;);\r\n\t\t\tout.println(&quot;&lt;td&gt;&lt;b&gt;roomno&lt;/b&gt;&lt;/td&gt;&quot;);\r\n\t\t\tout.println(&quot;&lt;td&gt;&lt;b&gt;capacity&lt;/b&gt;&lt;/td&gt;&quot;);\r\n\t\t\tout.print(&quot;&lt;td&gt;&lt;b&gt;roomtype&lt;/b&gt;&lt;/td&gt;&quot;);\r\n\t\t\tout.println(&quot;&lt;td&gt;&lt;b&gt;price&lt;/b&gt;&lt;/td&gt;&quot;);\r\n\t\t\twhile (rs.next()) {\r\n\t\t\t\tout.println(&quot;&lt;tr&gt;&quot;);\r\n\t\t\t\tout.print(&quot;&lt;td&gt;&quot; + rs.getString(&quot;id&quot;) + &quot;&lt;/td&gt;&quot;);\r\n\t\t\t\tout.print(&quot;&lt;td&gt;&quot; + rs.getString(&quot;capacity&quot;) + &quot;&lt;/td&gt;&quot;);\r\n\t\t\t\tout.print(&quot;&lt;td&gt;&quot; + rs.getString(&quot;rtype&quot;) + &quot;&lt;/td&gt;&quot;);\r\n\t\t\t\tout.println(&quot;&lt;td&gt;&quot; + rs.getString(&quot;price&quot;) + &quot;&lt;/td&gt;&quot;);\r\n\t\t\t\tout.println(&quot;&lt;/tr&gt;&quot;);\r\n\t\t\t}\r\n\t\t\tout.println(&quot;&lt;form method=&#39;post&#39; action=\\&quot;My\\&quot;&gt;&quot;);\r\n\t\t\tout.println(&quot;&lt;table&gt;&quot;);\r\n\t\t\tout.println(&quot;&lt;tr&gt;&quot;);\r\n\t\t\tout.println(&quot;&lt;td&gt;&lt;h2&gt;Select a room number&lt;/td&gt;&lt;/h2&gt;&lt;/tr&gt;&quot;);\r\n\t\t\tout.println(&quot;&lt;tr&gt;&lt;td&gt;&lt;input type = &#39;text&#39; name = &#39;roomno&#39;&gt;&lt;/td&gt;&lt;/tr&gt;&quot;);\r\n\t\t\tout.println(&quot;&lt;tr&gt;&lt;td&gt;&lt;h4&gt;Enter the start date(YYYY-mm-dd)&lt;/h4&gt;&lt;/td&gt;&lt;/tr&gt;&quot;);\r\n\t\t\tout.println(&quot;&lt;tr&gt;&lt;td&gt;&lt;input type=\\&quot;date\\&quot; placeholder=\\&quot;yyyy-mm-dd\\&quot; id=\\&quot;sdate\\&quot; name=\\&quot;sdate\\&quot;\\r\\n&quot;\r\n\t\t\t\t\t+ &quot;       value=\\&quot;2022-07-01\\&quot;\\r\\n&quot;\r\n\t\t\t\t\t+ &quot;       min=\\&quot;2022-07-01\\&quot; max=\\&quot;2022-07-31\\&quot;&gt;&lt;/td&gt;&lt;/tr&gt;&quot;);\r\n\t\t\tout.println(&quot;&lt;tr&gt;&lt;td&gt;&lt;h4&gt;Enter the end date(YYYY-mm-dd)&lt;/h4&gt;&lt;/td&gt;&lt;/tr&gt;&quot;);\r\n\t\t\tout.println(&quot;&lt;tr&gt;&lt;td&gt;&lt;input type=\\&quot;date\\&quot; placeholder = \\&quot;yyyy-mm-dd\\&quot; id = \\&quot;edate\\&quot; name = \\&quot;edate\\&quot;&quot;\r\n\t\t\t\t\t+ &quot;\tvalue=\\&quot;2022-07-01\\&quot;\\r\\n&quot;\r\n\t\t\t\t\t+ &quot;min= \\&quot;2022-07-01\\&quot; max =\\&quot;2022-07-31\\&quot;&gt;&lt;/td&gt;&lt;/tr&gt;&quot;);\r\n\t\t\tout.println(&quot;&lt;tr&gt;&lt;td&gt;&lt;input type = &#39;submit&#39; value = &#39;reserve&#39;&gt;&quot;);\r\n\t\t\tout.println(&quot;&lt;/table&gt;&lt;/body&gt;&lt;/html&gt;&quot;);\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(e);\r\n\t\t}\r\n\t}\r\n\r\n```","title":"how to send data from java servlet to ember.js and vice versa","body":"<p>so i have a servlet hosted which is connected to postgres database the thing is i need to create a login page which should send data to the servlet which is hosted in tomcat and also the servlet will have a set of ids and price that should be returned back to ember for displaying how can i do that?</p>\n<p>the servlet code example (have added only the neccessary parts so ignore errors in servlet)</p>\n<pre><code>\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport javax.security.auth.login.Configuration;\nimport java.util.HashMap;\n\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport javax.security.auth.login.AppConfigurationEntry;\nimport javax.security.auth.login.LoginContext;\nimport javax.sql.rowset.serial.SerialException;\n\npublic  class AuthenticationServlet extends HttpServlet{\n    public static LoginContext loginContext = null;\n    protected void doGet(HttpServletRequest request,HttpServletResponse response)throws ServletException, IOException{\n        String name = null;    \n        response.setContentType(&quot;text/html&quot;);\n        PrintWriter out = response.getWriter();\n        out.println(&quot;&lt;html&gt;&lt;body&gt;&quot;);\n        String user = request.getParameter(&quot;uname&quot;);\n        String mobile = request.getParameter(&quot;mobile&quot;);\n        System.out.println(&quot;user -&gt; &quot;+user + &quot;mobile &quot;+ mobile);\n}\n</code></pre>\n<p>the servlet code which prints the data from postgres which must be modified so that the ember should print it</p>\n<pre><code>        ResultSet rs = null;\n        try {\n            System.out.println(&quot;[+]inside showrooms..&quot;);\n            String query = String.format(\n                    &quot;SELECT room.id,capacity,rtype,price FROM room JOIN capacity ON room.cid=capacity.id JOIN rtype ON room.tid = rtype.id WHERE isavailablle = true;&quot;);\n            stmt = con.createStatement();\n            rs = stmt.executeQuery(query);\n\n            response.setContentType(&quot;text/html&quot;);\n            PrintWriter out = response.getWriter();\n            out.println(&quot;&lt;head&gt;&quot;);\n            out.println(&quot;&lt;body&gt;&quot;);\n            out.println(&quot;&lt;table&gt;&quot;);\n            out.println(&quot;&lt;tr&gt;&quot;);\n            out.println(&quot;&lt;td&gt;&lt;b&gt;roomno&lt;/b&gt;&lt;/td&gt;&quot;);\n            out.println(&quot;&lt;td&gt;&lt;b&gt;capacity&lt;/b&gt;&lt;/td&gt;&quot;);\n            out.print(&quot;&lt;td&gt;&lt;b&gt;roomtype&lt;/b&gt;&lt;/td&gt;&quot;);\n            out.println(&quot;&lt;td&gt;&lt;b&gt;price&lt;/b&gt;&lt;/td&gt;&quot;);\n            while (rs.next()) {\n                out.println(&quot;&lt;tr&gt;&quot;);\n                out.print(&quot;&lt;td&gt;&quot; + rs.getString(&quot;id&quot;) + &quot;&lt;/td&gt;&quot;);\n                out.print(&quot;&lt;td&gt;&quot; + rs.getString(&quot;capacity&quot;) + &quot;&lt;/td&gt;&quot;);\n                out.print(&quot;&lt;td&gt;&quot; + rs.getString(&quot;rtype&quot;) + &quot;&lt;/td&gt;&quot;);\n                out.println(&quot;&lt;td&gt;&quot; + rs.getString(&quot;price&quot;) + &quot;&lt;/td&gt;&quot;);\n                out.println(&quot;&lt;/tr&gt;&quot;);\n            }\n            out.println(&quot;&lt;form method='post' action=\\&quot;My\\&quot;&gt;&quot;);\n            out.println(&quot;&lt;table&gt;&quot;);\n            out.println(&quot;&lt;tr&gt;&quot;);\n            out.println(&quot;&lt;td&gt;&lt;h2&gt;Select a room number&lt;/td&gt;&lt;/h2&gt;&lt;/tr&gt;&quot;);\n            out.println(&quot;&lt;tr&gt;&lt;td&gt;&lt;input type = 'text' name = 'roomno'&gt;&lt;/td&gt;&lt;/tr&gt;&quot;);\n            out.println(&quot;&lt;tr&gt;&lt;td&gt;&lt;h4&gt;Enter the start date(YYYY-mm-dd)&lt;/h4&gt;&lt;/td&gt;&lt;/tr&gt;&quot;);\n            out.println(&quot;&lt;tr&gt;&lt;td&gt;&lt;input type=\\&quot;date\\&quot; placeholder=\\&quot;yyyy-mm-dd\\&quot; id=\\&quot;sdate\\&quot; name=\\&quot;sdate\\&quot;\\r\\n&quot;\n                    + &quot;       value=\\&quot;2022-07-01\\&quot;\\r\\n&quot;\n                    + &quot;       min=\\&quot;2022-07-01\\&quot; max=\\&quot;2022-07-31\\&quot;&gt;&lt;/td&gt;&lt;/tr&gt;&quot;);\n            out.println(&quot;&lt;tr&gt;&lt;td&gt;&lt;h4&gt;Enter the end date(YYYY-mm-dd)&lt;/h4&gt;&lt;/td&gt;&lt;/tr&gt;&quot;);\n            out.println(&quot;&lt;tr&gt;&lt;td&gt;&lt;input type=\\&quot;date\\&quot; placeholder = \\&quot;yyyy-mm-dd\\&quot; id = \\&quot;edate\\&quot; name = \\&quot;edate\\&quot;&quot;\n                    + &quot; value=\\&quot;2022-07-01\\&quot;\\r\\n&quot;\n                    + &quot;min= \\&quot;2022-07-01\\&quot; max =\\&quot;2022-07-31\\&quot;&gt;&lt;/td&gt;&lt;/tr&gt;&quot;);\n            out.println(&quot;&lt;tr&gt;&lt;td&gt;&lt;input type = 'submit' value = 'reserve'&gt;&quot;);\n            out.println(&quot;&lt;/table&gt;&lt;/body&gt;&lt;/html&gt;&quot;);\n\n        } catch (Exception e) {\n            System.out.println(e);\n        }\n    }\n\n</code></pre>\n"},{"tags":["java","if-statement","abstract-class","dependency-inversion"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1667542882,"post_id":74312739,"comment_id":131195336,"body_markdown":"You posted and deleted a question that was almost identical to this one.  How is this version different?","body":"You posted and deleted a question that was almost identical to this one.  How is this version different?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1667543132,"post_id":74312739,"comment_id":131195393,"body_markdown":"you are hiding Switchable&#39;s state variable in the subclasses, meaning it&#39;s never set.","body":"you are hiding Switchable&#39;s state variable in the subclasses, meaning it&#39;s never set."},{"owner":{"account_id":20470885,"reputation":15,"user_id":15021356,"display_name":"mohamed"},"score":0,"creation_date":1667545814,"post_id":74312739,"comment_id":131195992,"body_markdown":"@StephenC that one got closed for not containing the code as i didn&#39;t know how to make a code bloc, thanks for you concern.","body":"@StephenC that one got closed for not containing the code as i didn&#39;t know how to make a code bloc, thanks for you concern."}],"answers":[{"tags":[],"owner":{"account_id":5094214,"reputation":11492,"user_id":4086177,"accept_rate":25,"display_name":"Beri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667543215,"creation_date":1667543215,"answer_id":74312962,"question_id":74312739,"body_markdown":"Remove `state` variable from `Television` and `Lamp` classes.\r\n\r\nYour base class `Switchable` has declared `state` variable already, and You should be using it. Both of Your classes `Television` and `Lamp` have their own declarations, shadowing  the original one.\r\n\r\nIf You have a IDE (InteliJ) it should mentioned that you classes have variable of same name and type as the parent and mark is as warning.\r\n\r\nSo:\r\n\r\n    public abstract class Switchable {\r\n        public State state = State.off; // set up to off by default\r\n        abstract public void turn_on(); \r\n        abstract public void turn_off(); \r\n    }\r\n\r\n    public class Television extends Switchable {\r\n        \r\n        public Television(){}\r\n     ...\r\n    }\r\n\r\n    public class Lamp extends Switchable {\r\n        \r\n        public Lamp(){}\r\n        ...\r\n    }","title":"If condition not working as expected in java class","body":"<p>Remove <code>state</code> variable from <code>Television</code> and <code>Lamp</code> classes.</p>\n<p>Your base class <code>Switchable</code> has declared <code>state</code> variable already, and You should be using it. Both of Your classes <code>Television</code> and <code>Lamp</code> have their own declarations, shadowing  the original one.</p>\n<p>If You have a IDE (InteliJ) it should mentioned that you classes have variable of same name and type as the parent and mark is as warning.</p>\n<p>So:</p>\n<pre><code>public abstract class Switchable {\n    public State state = State.off; // set up to off by default\n    abstract public void turn_on(); \n    abstract public void turn_off(); \n}\n\npublic class Television extends Switchable {\n    \n    public Television(){}\n ...\n}\n\npublic class Lamp extends Switchable {\n    \n    public Lamp(){}\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":20470885,"reputation":15,"user_id":15021356,"display_name":"mohamed"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1667619840,"accepted_answer_id":74312962,"answer_count":1,"score":0,"last_activity_date":1667543215,"creation_date":1667541148,"question_id":74312739,"body_markdown":"So i was making a dependecy inversion principle example and i&#39;m getting the wrong output from the class powerSwitch which is supposed to turn the lamp or the televesion (which extend the switchable abstract class) on if it&#39;s off and off it&#39;s currently on using the functions turn_on/turn_off and print its current state (on/off).\r\n\r\n\r\n\r\n\r\nI tried to call the clickSwitch() twice to get diffrent results but but all i&#39;m getting as output is &quot;lamp&#39;s off&quot;\r\n\r\n\r\n```\r\npublic abstract class Switchable {\r\n    public State state;\r\n    abstract public void turn_on(); \r\n    abstract public void turn_off(); \r\n\r\n}\r\n```\r\n```\r\npublic class Lamp extends Switchable {\r\n\r\n\r\n    public State state;\r\n    public Lamp()\r\n    {\r\n        state=State.off;\r\n    }\r\n\r\n\r\n    public void turn_on()\r\n    {\r\n        this.state=State.on;\r\n        System.out.println(&quot;lamp&#39;s on&quot;);\r\n    }\r\n    public void turn_off()\r\n    {\r\n        this.state=State.off;\r\n        System.out.println(&quot;lamp&#39;s off&quot;);\r\n    }\r\n    \r\n}\r\n```\r\n```\r\n\r\npublic class Television extends Switchable {\r\n    \r\n    public State state;\r\n    public Television()\r\n    {\r\n        state=State.off;\r\n    }\r\n\r\n\r\n    public void turn_on()\r\n    {\r\n        this.state=State.on;\r\n        System.out.println(&quot;lamp&#39;s on&quot;);\r\n    }\r\n    public void turn_off()\r\n    {\r\n        this.state=State.off;\r\n        System.out.println(&quot;lamp&#39;s off&quot;);\r\n    }\r\n\r\n}\r\n```\r\n```\r\npublic class PowerSwitch {\r\n    \r\n    Switchable sw;  \r\n    \r\n    public PowerSwitch(Switchable sw)\r\n    {\r\n        this.sw=sw;\r\n    }\r\n\r\n    public void ClickSwitch()\r\n    {\r\n        if(sw.state==State.off)\r\n        {\r\n            sw.turn_on();\r\n        }\r\n        else\r\n        {\r\n            sw.turn_off();\r\n        }\r\n        \r\n        \r\n    }\r\n\r\n}\r\n```\r\n```\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        \r\n    Switchable sw=new Lamp(); \r\n    \r\n    PowerSwitch ps=new PowerSwitch(sw);\r\n    ps.ClickSwitch();\r\n    ps.ClickSwitch();\r\n    \r\n    }\r\n}\r\n```\r\n```\r\npublic enum State {\r\n    on , off ; \r\n}\r\n```\r\n\r\n","title":"If condition not working as expected in java class","body":"<p>So i was making a dependecy inversion principle example and i'm getting the wrong output from the class powerSwitch which is supposed to turn the lamp or the televesion (which extend the switchable abstract class) on if it's off and off it's currently on using the functions turn_on/turn_off and print its current state (on/off).</p>\n<p>I tried to call the clickSwitch() twice to get diffrent results but but all i'm getting as output is &quot;lamp's off&quot;</p>\n<pre><code>public abstract class Switchable {\n    public State state;\n    abstract public void turn_on(); \n    abstract public void turn_off(); \n\n}\n</code></pre>\n<pre><code>public class Lamp extends Switchable {\n\n\n    public State state;\n    public Lamp()\n    {\n        state=State.off;\n    }\n\n\n    public void turn_on()\n    {\n        this.state=State.on;\n        System.out.println(&quot;lamp's on&quot;);\n    }\n    public void turn_off()\n    {\n        this.state=State.off;\n        System.out.println(&quot;lamp's off&quot;);\n    }\n    \n}\n</code></pre>\n<pre><code>\npublic class Television extends Switchable {\n    \n    public State state;\n    public Television()\n    {\n        state=State.off;\n    }\n\n\n    public void turn_on()\n    {\n        this.state=State.on;\n        System.out.println(&quot;lamp's on&quot;);\n    }\n    public void turn_off()\n    {\n        this.state=State.off;\n        System.out.println(&quot;lamp's off&quot;);\n    }\n\n}\n</code></pre>\n<pre><code>public class PowerSwitch {\n    \n    Switchable sw;  \n    \n    public PowerSwitch(Switchable sw)\n    {\n        this.sw=sw;\n    }\n\n    public void ClickSwitch()\n    {\n        if(sw.state==State.off)\n        {\n            sw.turn_on();\n        }\n        else\n        {\n            sw.turn_off();\n        }\n        \n        \n    }\n\n}\n</code></pre>\n<pre><code>\npublic class Main {\n    public static void main(String[] args) {\n        \n    Switchable sw=new Lamp(); \n    \n    PowerSwitch ps=new PowerSwitch(sw);\n    ps.ClickSwitch();\n    ps.ClickSwitch();\n    \n    }\n}\n</code></pre>\n<pre><code>public enum State {\n    on , off ; \n}\n</code></pre>\n"},{"tags":["java","android","checkbox","dynamic"],"answers":[{"tags":[],"owner":{"account_id":12234066,"reputation":566,"user_id":8929068,"display_name":"Top4o"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667542590,"creation_date":1667542590,"answer_id":74312891,"question_id":74312773,"body_markdown":"I would suggest you checking this documentation and understand how Shared Prefs work and how to use them: \r\n\r\n[https://developer.android.com/training/data-storage/shared-preferences][1]\r\n\r\nThey are mainly used to save a specific state of something so they could be useful in your case.\r\n\r\nGood luck!\r\n\r\n\r\n  [1]: https://developer.android.com/training/data-storage/shared-preferences","title":"how to save state of dynamically created checkbox in android ie, once i checked multiple check box it should stay checked untill user manually uncheck","body":"<p>I would suggest you checking this documentation and understand how Shared Prefs work and how to use them:</p>\n<p><a href=\"https://developer.android.com/training/data-storage/shared-preferences\" rel=\"nofollow noreferrer\">https://developer.android.com/training/data-storage/shared-preferences</a></p>\n<p>They are mainly used to save a specific state of something so they could be useful in your case.</p>\n<p>Good luck!</p>\n"}],"owner":{"account_id":26542411,"reputation":1,"user_id":20172953,"display_name":"Data4Sports company"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667542590,"creation_date":1667541548,"question_id":74312773,"body_markdown":"how to save state of dynamically created checkbox in android ie, once i checked multiple check box it should stay checked untill user manually uncheck android java\r\n\r\nplease help me out\r\n\r\nhow to save state of dynamically created checkbox in android ie, once i checked multiple check box it should stay checked untill user manually uncheck android java\r\n\r\nhow to save state of dynamically created checkbox in android ie, once i checked multiple check box it should stay checked untill user manually uncheck android java\r\nhow to save state of dynamically created checkbox in android ie, once i checked multiple check box it should stay checked untill user manually uncheck android java\r\n```\r\n   btn_previewA.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                playerList.clear();\r\n                selectedPlayerDetailsList.clear();\r\n                selectedPID.clear();\r\n\r\n                for (int j = 0; j &lt; squad_count; j++) {\r\n//            while (teamA_table.getChildCount() &gt; 0) {\r\n                    TableRow tableRow = (TableRow) teamA_table.getChildAt(j);\r\n                    CheckBox cb = (CheckBox) tableRow.getChildAt(0);\r\n                    if (cb.isChecked()) {\r\n                        playerList.add(cb.getText().toString());\r\n                        selectedPlayerDetailsList.add(playerDetailsList.get(j));\r\n                        selectedPID.add(playerDetailsList.get(j).getPlayerID());\r\n                        Log.d(&quot;checked&quot;, &quot;playerList = &quot; + playerList);\r\n                        Log.d(&quot;checked&quot;, &quot;selectedPlayerDetailsList = &quot; + selectedPlayerDetailsList);\r\n                        Log.d(&quot;checked&quot;, &quot;selectedPID = &quot; + selectedPID);\r\n                    }\r\n\r\n//            }\r\n                }\r\n\r\n                Log.d(&quot;checked&quot;, &quot;playerList.size() = &quot; + playerList.size());\r\n                Log.d(&quot;checked&quot;, &quot;playerA = &quot; + playerA);\r\n\r\n                if (playerList.size() == playerA) {\r\n//                    preview();\r\n                    Intent intent = new Intent(SelectTeamAXIActivity.this, ConfirmAXI.class);\r\n                    intent.putExtra(&quot;mylist&quot;, selectedPID);\r\n                    startActivity(intent);\r\n                } else {\r\n                    displayError(&quot;You&#39;ve selected &quot; + selectedPlayerDetailsList.size() +\r\n                            &quot;, please select &quot; + playerA + &quot; to continue&quot;);\r\n//                    displayError();\r\n                }\r\n\r\n\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n```\r\n\r\n```\r\n void displayTeamAList() {\r\n\r\n        i = -1;\r\n//        String str = &quot;&quot;, str1 = &quot;&quot;;\r\n\r\n        tv_head.setText(preview_head + teamA);\r\n        tv_playerA.setText(&quot;Team A players/side  :  &quot; + playerA);\r\n\r\n        Log.d(&quot;matchid&quot;, &quot;select 11, displayTeamAList : &quot; + matchid);\r\n\r\n//        progress.dismiss();\r\n\r\n        RealmResults&lt;Player&gt; results = realm.where(Player.class).\r\n                equalTo(&quot;matchid&quot;, matchid).\r\n                equalTo(&quot;team&quot;, 1).\r\n                sort(&quot;playerID&quot;, Sort.ASCENDING).\r\n                findAll();\r\n\r\n        results.load();\r\n        Log.d(&quot;results1&quot;, &quot;select 11, displayTeamAList : &quot; + results);\r\n\r\n        squad_count = results.size();\r\n        selectedPlayers = new boolean[squad_count];\r\n\r\n        teamA_table = findViewById(R.id.teamA_table);\r\n\r\n        for (Player player : results) {\r\n\r\n            ++count;\r\n\r\n            playerDetailsList.add(player);\r\n\r\n            TableRow row = new TableRow(this);\r\n            row.setLayoutParams(new TableRow.LayoutParams(TableRow.LayoutParams.MATCH_PARENT, 50));\r\n            row.setPadding(10, 25, 10, 25);\r\n//            row.setShowDividers(2);\r\n\r\n            CheckBox cb = new CheckBox(this);\r\n            cb.setText(player.getPlayerName());// + str + str1);\r\n            cb.setId(i);\r\n            row.addView(cb);\r\n\r\n            teamA_table.addView(row);\r\n\r\n            ++i;\r\n            selectedPlayers[i] = false;\r\n        }\r\n\r\n    }\r\n```\r\n","title":"how to save state of dynamically created checkbox in android ie, once i checked multiple check box it should stay checked untill user manually uncheck","body":"<p>how to save state of dynamically created checkbox in android ie, once i checked multiple check box it should stay checked untill user manually uncheck android java</p>\n<p>please help me out</p>\n<p>how to save state of dynamically created checkbox in android ie, once i checked multiple check box it should stay checked untill user manually uncheck android java</p>\n<p>how to save state of dynamically created checkbox in android ie, once i checked multiple check box it should stay checked untill user manually uncheck android java\nhow to save state of dynamically created checkbox in android ie, once i checked multiple check box it should stay checked untill user manually uncheck android java</p>\n<pre><code>   btn_previewA.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                playerList.clear();\n                selectedPlayerDetailsList.clear();\n                selectedPID.clear();\n\n                for (int j = 0; j &lt; squad_count; j++) {\n//            while (teamA_table.getChildCount() &gt; 0) {\n                    TableRow tableRow = (TableRow) teamA_table.getChildAt(j);\n                    CheckBox cb = (CheckBox) tableRow.getChildAt(0);\n                    if (cb.isChecked()) {\n                        playerList.add(cb.getText().toString());\n                        selectedPlayerDetailsList.add(playerDetailsList.get(j));\n                        selectedPID.add(playerDetailsList.get(j).getPlayerID());\n                        Log.d(&quot;checked&quot;, &quot;playerList = &quot; + playerList);\n                        Log.d(&quot;checked&quot;, &quot;selectedPlayerDetailsList = &quot; + selectedPlayerDetailsList);\n                        Log.d(&quot;checked&quot;, &quot;selectedPID = &quot; + selectedPID);\n                    }\n\n//            }\n                }\n\n                Log.d(&quot;checked&quot;, &quot;playerList.size() = &quot; + playerList.size());\n                Log.d(&quot;checked&quot;, &quot;playerA = &quot; + playerA);\n\n                if (playerList.size() == playerA) {\n//                    preview();\n                    Intent intent = new Intent(SelectTeamAXIActivity.this, ConfirmAXI.class);\n                    intent.putExtra(&quot;mylist&quot;, selectedPID);\n                    startActivity(intent);\n                } else {\n                    displayError(&quot;You've selected &quot; + selectedPlayerDetailsList.size() +\n                            &quot;, please select &quot; + playerA + &quot; to continue&quot;);\n//                    displayError();\n                }\n\n\n            }\n        });\n\n    }\n\n</code></pre>\n<pre><code> void displayTeamAList() {\n\n        i = -1;\n//        String str = &quot;&quot;, str1 = &quot;&quot;;\n\n        tv_head.setText(preview_head + teamA);\n        tv_playerA.setText(&quot;Team A players/side  :  &quot; + playerA);\n\n        Log.d(&quot;matchid&quot;, &quot;select 11, displayTeamAList : &quot; + matchid);\n\n//        progress.dismiss();\n\n        RealmResults&lt;Player&gt; results = realm.where(Player.class).\n                equalTo(&quot;matchid&quot;, matchid).\n                equalTo(&quot;team&quot;, 1).\n                sort(&quot;playerID&quot;, Sort.ASCENDING).\n                findAll();\n\n        results.load();\n        Log.d(&quot;results1&quot;, &quot;select 11, displayTeamAList : &quot; + results);\n\n        squad_count = results.size();\n        selectedPlayers = new boolean[squad_count];\n\n        teamA_table = findViewById(R.id.teamA_table);\n\n        for (Player player : results) {\n\n            ++count;\n\n            playerDetailsList.add(player);\n\n            TableRow row = new TableRow(this);\n            row.setLayoutParams(new TableRow.LayoutParams(TableRow.LayoutParams.MATCH_PARENT, 50));\n            row.setPadding(10, 25, 10, 25);\n//            row.setShowDividers(2);\n\n            CheckBox cb = new CheckBox(this);\n            cb.setText(player.getPlayerName());// + str + str1);\n            cb.setId(i);\n            row.addView(cb);\n\n            teamA_table.addView(row);\n\n            ++i;\n            selectedPlayers[i] = false;\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","tomcat","jaas","java.security"],"comments":[{"owner":{"account_id":16391259,"reputation":318,"user_id":11839946,"display_name":"Master_ladvil"},"score":0,"creation_date":1659945358,"post_id":73274346,"comment_id":129406518,"body_markdown":"have any ref? like from where you do the code?","body":"have any ref? like from where you do the code?"},{"owner":{"account_id":25930939,"reputation":336,"user_id":19652021,"display_name":"hariharan baskaran"},"score":0,"creation_date":1659945439,"post_id":73274346,"comment_id":129406546,"body_markdown":"https://youtu.be/guHkUICbvbY so i did exactly like he told yet caught this error","body":"<a href=\"https://youtu.be/guHkUICbvbY\" rel=\"nofollow noreferrer\">youtu.be/guHkUICbvbY</a> so i did exactly like he told yet caught this error"},{"owner":{"account_id":25930939,"reputation":336,"user_id":19652021,"display_name":"hariharan baskaran"},"score":0,"creation_date":1659945810,"post_id":73274346,"comment_id":129406655,"body_markdown":"timestamp : 5:50","body":"timestamp : 5:50"},{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":1,"creation_date":1659952078,"post_id":73274346,"comment_id":129408789,"body_markdown":"Have you tried to put the slashes in the other direction? These might be seen as escape characters.","body":"Have you tried to put the slashes in the other direction? These might be seen as escape characters."},{"owner":{"account_id":25930939,"reputation":336,"user_id":19652021,"display_name":"hariharan baskaran"},"score":0,"creation_date":1659952599,"post_id":73274346,"comment_id":129409006,"body_markdown":"tried that tooo nothing positive","body":"tried that tooo nothing positive"},{"owner":{"account_id":25930939,"reputation":336,"user_id":19652021,"display_name":"hariharan baskaran"},"score":0,"creation_date":1659955394,"post_id":73274346,"comment_id":129409953,"body_markdown":"i removed the quotes then changed the slash direction now i got something  else, it says\n`java.lang.SecurityException: java.io.IOException: Configuration Error:\n        Line 2: expected [controlFlag], found [null]`","body":"i removed the quotes then changed the slash direction now i got something  else, it says <code>java.lang.SecurityException: java.io.IOException: Configuration Error:         Line 2: expected [controlFlag], found [null]</code>"},{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":0,"creation_date":1659955537,"post_id":73274346,"comment_id":129410003,"body_markdown":"That means the file is now loaded, but it&#39;s not a valid JAAS configuration format. Please search for examples online, or check the official documentation [here](https://docs.oracle.com/javase/8/docs/technotes/guides/security/jgss/tutorials/LoginConfigFile.html).","body":"That means the file is now loaded, but it&#39;s not a valid JAAS configuration format. Please search for examples online, or check the official documentation <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/security/jgss/tutorials/LoginConfigFile.html\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":25930939,"reputation":336,"user_id":19652021,"display_name":"hariharan baskaran"},"score":0,"creation_date":1659956237,"post_id":73274346,"comment_id":129410269,"body_markdown":"i have editted the question.. tha config seems right i have added the code too","body":"i have editted the question.. tha config seems right i have added the code too"},{"owner":{"account_id":16391259,"reputation":318,"user_id":11839946,"display_name":"Master_ladvil"},"score":0,"creation_date":1660113316,"post_id":73274346,"comment_id":129452824,"body_markdown":"can you share your workspace like a github link?","body":"can you share your workspace like a github link?"}],"answers":[{"tags":[],"owner":{"account_id":25930939,"reputation":336,"user_id":19652021,"display_name":"hariharan baskaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667542209,"creation_date":1667542209,"answer_id":74312842,"question_id":73274346,"body_markdown":"It seems for the path I need to change it to the other slash as it is considered as an escape sequence changing it did the magic as follows\r\n\r\n```login.config.url.1=file:&quot;C:/Program Files/Apache Software Foundation/testtc/webapps/testjaas/WEB-INF/classes/lord.config&quot;```","title":"couldn&#39;t add my jaas config file to the jdk/security/java.security","body":"<p>It seems for the path I need to change it to the other slash as it is considered as an escape sequence changing it did the magic as follows</p>\n<p><code>login.config.url.1=file:&quot;C:/Program Files/Apache Software Foundation/testtc/webapps/testjaas/WEB-INF/classes/lord.config&quot;</code></p>\n"}],"owner":{"account_id":25930939,"reputation":336,"user_id":19652021,"display_name":"hariharan baskaran"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74312842,"answer_count":1,"score":3,"last_activity_date":1667542209,"creation_date":1659944275,"question_id":73274346,"body_markdown":"so am trying to build a webapp with tomcat and jaas as authentication and my jaas config file is named as lord.config and when i try to add the path in java.security file which is located in JAVA_HOME/conf/security and try to run the web app it throws an error \r\n```\r\njava.lang.SecurityException: java.io.IOException: Configuration Error:\r\n   No such file or directory\r\n```\r\nthe path that i added in java.security is:\r\n```\r\nlogin.config.url.1=file:&quot;C:\\Program Files\\Apache Software Foundation\\testtc\\webapps\\testjaas\\WEB-INF\\classes\\lord.config&quot;\r\n```\r\n\r\nand this is the  actual path of the lord.config from cmd\r\n```\r\nC:\\Program Files\\Apache Software Foundation\\testtc\\webapps\\testjaas\\WEB-INF\\classes\r\n```\r\n\r\nthe code of lord.config file\r\n```\r\nLorduJaas {\r\n    LoLoginModule required;\r\n};\r\n```\r\n\r\n\r\nand i tried adding and removing &quot;&quot; for spaces  neither did work.. what should i to add my config file to the java.security file?","title":"couldn&#39;t add my jaas config file to the jdk/security/java.security","body":"<p>so am trying to build a webapp with tomcat and jaas as authentication and my jaas config file is named as lord.config and when i try to add the path in java.security file which is located in JAVA_HOME/conf/security and try to run the web app it throws an error</p>\n<pre><code>java.lang.SecurityException: java.io.IOException: Configuration Error:\n   No such file or directory\n</code></pre>\n<p>the path that i added in java.security is:</p>\n<pre><code>login.config.url.1=file:&quot;C:\\Program Files\\Apache Software Foundation\\testtc\\webapps\\testjaas\\WEB-INF\\classes\\lord.config&quot;\n</code></pre>\n<p>and this is the  actual path of the lord.config from cmd</p>\n<pre><code>C:\\Program Files\\Apache Software Foundation\\testtc\\webapps\\testjaas\\WEB-INF\\classes\n</code></pre>\n<p>the code of lord.config file</p>\n<pre><code>LorduJaas {\n    LoLoginModule required;\n};\n</code></pre>\n<p>and i tried adding and removing &quot;&quot; for spaces  neither did work.. what should i to add my config file to the java.security file?</p>\n"},{"tags":["java","multithreading","thread-local-storage"],"comments":[{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1319051923,"post_id":7826754,"comment_id":9540085,"body_markdown":"Instead of generating a unique id, you could use the unique id each thread has already.\n\n    `long id = Thread.currentThread().getId();`","body":"Instead of generating a unique id, you could use the unique id each thread has already.      <code>long id = Thread.currentThread().getId();</code>"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1319051562,"creation_date":1319051562,"answer_id":7826786,"question_id":7826754,"body_markdown":"Yes, it should be `uniqueNum.get()`. The [JDK 7 docs][1] get it right, and use better names:\r\n\r\n    import java.util.concurrent.atomic.AtomicInteger;\r\n    \r\n    public class ThreadId {\r\n        // Atomic integer containing the next thread ID to be assigned\r\n        private static final AtomicInteger nextId = new AtomicInteger(0);\r\n   \r\n        // Thread local variable containing each thread&#39;s ID\r\n        private static final ThreadLocal&lt;Integer&gt; threadId =\r\n            new ThreadLocal&lt;Integer&gt;() {\r\n                @Override protected Integer initialValue() {\r\n                    return nextId.getAndIncrement();\r\n            }\r\n        };\r\n    \r\n        // Returns the current thread&#39;s unique ID, assigning it if necessary\r\n        public static int get() {\r\n            return threadId.get();\r\n        }\r\n    }\r\n\r\nIt&#39;s not really a matter of *initialization* though - it&#39;s simply a matter of using the wrong member entirely. Even if lots of code *had* used `uniqueNum` in the original code, `getCurrentThreadId()` would always have returned &quot;the next ID to be assigned&quot; instead of &quot;the ID assigned for the current thread&quot;.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/7/docs/api/java/lang/ThreadLocal.html\r\n","title":"ThreadLocal&lt;T&gt; Documentation in JDK","body":"<p>Yes, it should be <code>uniqueNum.get()</code>. The <a href=\"http://download.oracle.com/javase/7/docs/api/java/lang/ThreadLocal.html\" rel=\"nofollow\">JDK 7 docs</a> get it right, and use better names:</p>\n\n<pre><code>import java.util.concurrent.atomic.AtomicInteger;\n\npublic class ThreadId {\n    // Atomic integer containing the next thread ID to be assigned\n    private static final AtomicInteger nextId = new AtomicInteger(0);\n\n    // Thread local variable containing each thread's ID\n    private static final ThreadLocal&lt;Integer&gt; threadId =\n        new ThreadLocal&lt;Integer&gt;() {\n            @Override protected Integer initialValue() {\n                return nextId.getAndIncrement();\n        }\n    };\n\n    // Returns the current thread's unique ID, assigning it if necessary\n    public static int get() {\n        return threadId.get();\n    }\n}\n</code></pre>\n\n<p>It's not really a matter of <em>initialization</em> though - it's simply a matter of using the wrong member entirely. Even if lots of code <em>had</em> used <code>uniqueNum</code> in the original code, <code>getCurrentThreadId()</code> would always have returned \"the next ID to be assigned\" instead of \"the ID assigned for the current thread\".</p>\n"}],"owner":{"account_id":330259,"reputation":5603,"user_id":654269,"accept_rate":93,"display_name":"Majid Azimi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":616,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":7826786,"answer_count":1,"score":0,"last_activity_date":1667541980,"creation_date":1319051403,"question_id":7826754,"body_markdown":"JDK 1.6 documentation shows an example about how to use `LocalThread&lt;T&gt;`. I copy and paste it here:\r\n\r\nFor example, the class below generates unique identifiers local to each thread. A thread&#39;s id is assigned the first time it invokes `UniqueThreadIdGenerator.getCurrentThreadId()` and remains unchanged on subsequent calls.\r\n\r\n     import java.util.concurrent.atomic.AtomicInteger; \r\n   \r\n     public class UniqueThreadIdGenerator {    \r\n         private static final AtomicInteger uniqueId = new AtomicInteger(0);    \r\n         private static final ThreadLocal &lt;Integer&gt; uniqueNum = \r\n             new ThreadLocal &lt;Integer&gt; () {\r\n                 @Override \r\n                 protected Integer initialValue() {\r\n                     return uniqueId.getAndIncrement();\r\n             }\r\n         };\r\n     \r\n         public static int getCurrentThreadId() {\r\n             return uniqueId.get();\r\n         }\r\n     } // UniqueThreadIdGenerator\r\n\r\nMy problem is: \r\n\r\nwhen multiple threads call `UniqueThreadIdGenerator.getCurrentThreadId()` it only returns 0 because there is no initialization. Shouldn&#39;t it be like this:\r\n\r\n    public static int getCurrentThreadId() {\r\n        return uniqueNum.get();\r\n    }\r\nNow after the first call, it goes and initialize the variable.","title":"ThreadLocal&lt;T&gt; Documentation in JDK","body":"<p>JDK 1.6 documentation shows an example about how to use <code>LocalThread&lt;T&gt;</code>. I copy and paste it here:</p>\n\n<p>For example, the class below generates unique identifiers local to each thread. A thread's id is assigned the first time it invokes <code>UniqueThreadIdGenerator.getCurrentThreadId()</code> and remains unchanged on subsequent calls.</p>\n\n<pre><code> import java.util.concurrent.atomic.AtomicInteger; \n\n public class UniqueThreadIdGenerator {    \n     private static final AtomicInteger uniqueId = new AtomicInteger(0);    \n     private static final ThreadLocal &lt;Integer&gt; uniqueNum = \n         new ThreadLocal &lt;Integer&gt; () {\n             @Override \n             protected Integer initialValue() {\n                 return uniqueId.getAndIncrement();\n         }\n     };\n\n     public static int getCurrentThreadId() {\n         return uniqueId.get();\n     }\n } // UniqueThreadIdGenerator\n</code></pre>\n\n<p>My problem is: </p>\n\n<p>when multiple threads call <code>UniqueThreadIdGenerator.getCurrentThreadId()</code> it only returns 0 because there is no initialization. Shouldn't it be like this:</p>\n\n<pre><code>public static int getCurrentThreadId() {\n    return uniqueNum.get();\n}\n</code></pre>\n\n<p>Now after the first call, it goes and initialize the variable.</p>\n"},{"tags":["java","while-loop","merge","mergesort"],"comments":[{"owner":{"account_id":15628680,"reputation":501,"user_id":11275562,"display_name":"Icarus"},"score":0,"creation_date":1667540034,"post_id":74312593,"comment_id":131194881,"body_markdown":"shouldn&#39;t the condition be ```||```. right now you are counting on both file running out of numbers at the same time, which won&#39;t happen for example if every number in file 1 is smaller than file 2 it&#39;s going to run out of number and end the loop","body":"shouldn&#39;t the condition be <code>||</code>. right now you are counting on both file running out of numbers at the same time, which won&#39;t happen for example if every number in file 1 is smaller than file 2 it&#39;s going to run out of number and end the loop"},{"owner":{"account_id":15628680,"reputation":501,"user_id":11275562,"display_name":"Icarus"},"score":0,"creation_date":1667540430,"post_id":74312593,"comment_id":131194929,"body_markdown":"I think you could make your life a lot easier if you just store them in two array list first and then merge the two list instead","body":"I think you could make your life a lot easier if you just store them in two array list first and then merge the two list instead"},{"owner":{"account_id":26825465,"reputation":1,"user_id":20414153,"display_name":"Gio3211"},"score":0,"creation_date":1667541164,"post_id":74312593,"comment_id":131195038,"body_markdown":"@Icarus I 100% agree with you in using an array to store the values of the files. I should have pointed out that this assignment is for external sorting and we cannot use arrays since we might run out of memory if the files are really big. Also, i tried using the || condition but the problem of the last digit not processing still seems to be an issue. I&#39;ve edited my question to include the pseudo code my professor gave us if that&#39;s any help.","body":"@Icarus I 100% agree with you in using an array to store the values of the files. I should have pointed out that this assignment is for external sorting and we cannot use arrays since we might run out of memory if the files are really big. Also, i tried using the || condition but the problem of the last digit not processing still seems to be an issue. I&#39;ve edited my question to include the pseudo code my professor gave us if that&#39;s any help."},{"owner":{"account_id":26825465,"reputation":1,"user_id":20414153,"display_name":"Gio3211"},"score":0,"creation_date":1667541478,"post_id":74312593,"comment_id":131195097,"body_markdown":"@Abra I&#39;ve edited the post to include the file contents.","body":"@Abra I&#39;ve edited the post to include the file contents."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1667541677,"post_id":74312593,"comment_id":131195125,"body_markdown":"So you just need to add the trailing loops to consume the rest of `fn1` or `fn2`.","body":"So you just need to add the trailing loops to consume the rest of <code>fn1</code> or <code>fn2</code>."},{"owner":{"account_id":26825465,"reputation":1,"user_id":20414153,"display_name":"Gio3211"},"score":0,"creation_date":1667541936,"post_id":74312593,"comment_id":131195168,"body_markdown":"@shmosel Any idea on how to do that? If you could point me in the right direction, that would be awesome!","body":"@shmosel Any idea on how to do that? If you could point me in the right direction, that would be awesome!"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1667542013,"post_id":74312593,"comment_id":131195179,"body_markdown":"You have all the pieces. Just adapt the logic a little.","body":"You have all the pieces. Just adapt the logic a little."},{"owner":{"account_id":15628680,"reputation":501,"user_id":11275562,"display_name":"Icarus"},"score":0,"creation_date":1667542792,"post_id":74312593,"comment_id":131195314,"body_markdown":"it&#39;s in your pseudo code ```// append F3 unprocessed data in F2 \nIf (eof(F1)) .........  \n \n// append F3 unprocessed data in F1 \nIf (eof(F2)) .........  ```","body":"it&#39;s in your pseudo code <code>&#47;&#47; append F3 unprocessed data in F2  If (eof(F1)) .........     &#47;&#47; append F3 unprocessed data in F1  If (eof(F2)) .........  </code>"},{"owner":{"account_id":26825465,"reputation":1,"user_id":20414153,"display_name":"Gio3211"},"score":0,"creation_date":1667543061,"post_id":74312593,"comment_id":131195380,"body_markdown":"@Icarus But It&#39;s not the end of the file! Im using the same number of digits for both files so they should reach the end of file at the same time. My problem is that the last digit doesn&#39;t get processed because the hasNext() method doesn&#39;t see a token after the last digit so it just exits the while loop.","body":"@Icarus But It&#39;s not the end of the file! Im using the same number of digits for both files so they should reach the end of file at the same time. My problem is that the last digit doesn&#39;t get processed because the hasNext() method doesn&#39;t see a token after the last digit so it just exits the while loop."}],"owner":{"account_id":26825465,"reputation":1,"user_id":20414153,"display_name":"Gio3211"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667541633,"creation_date":1667539600,"question_id":74312593,"body_markdown":"I&#39;m trying to merge two sorted files (`fn1` &amp; `fn2`) to a 3&lt;sup&gt;rd&lt;/sup&gt; sorted file (`fn3`) but am running into a problem when using a `while` loop to go through the files. Basically, when the `hasNext()` method reaches the last digit of a file, it exits the `while` loop without processing the last digit due to there not being another digit after which returns the `hasNext()` as false. Is there a way I can process the last digit while using a `while` loop? The file contents im testing with is the following but it can be any number of digits.\r\n\r\nFile 1: 5 16 47\r\n\r\nFile 2: 12 21 67\r\n\r\n```java\r\nint x, y;\r\nx = fn1.nextInt();                       // read x from file F1\r\ny = fn2.nextInt();                       // read y from file F2\r\nwhile (fn1.hasNext() &amp;&amp; fn2.hasNext()) {\r\n    if (x &lt;= y) {\r\n        fn3.printf(&quot;%3d &quot;, x);           // write x in file F\r\n        x = fn1.nextInt();               // read x from file F1\r\n    }                                    // end if\r\n    else {\r\n        fn3.printf(&quot;%3d &quot;, y);           // write y in file F\r\n        y = fn2.nextInt();               // read y from file F2\r\n    }                                    // end else\r\n}                                        // end while\r\n```\r\nI found this *https://coderanch.com/t/525457/java/Trouble-hasNext* and it seems like I have to declare my `x` and `y` variables inside the `while` loop but I can&#39;t do that due to the `if` statement!\r\n\r\nAlso, here is my professors&#39; pseudo code if it&#39;s any help:\r\n\r\n```\r\npseudo code \r\n//open input file F1, F2 \r\nopeninput(F1);   \r\nopeninput(F2);     \r\n \r\n//open input file F3 \r\nopenoutput(F3);     \r\n \r\n// read x from file F1 \r\nx = readinput(F1);   \r\n \r\n// read y from file F2 \r\ny = readinput(F2);   \r\n \r\n// eof stands for end of file,  \r\nwhile (!eof(F1) &amp;&amp; ! eof(F2)) \r\nIf ( x  y) { \r\n    // write x in file F3 \r\nwrite(F3, x);    \r\n \r\n// read x from file F1 \r\nx = readinput(F1);   \r\n}   // end if \r\nelse{ \r\n    // write y in file F3 \r\nwrite(F3, y);   \r\n  \r\n// read y from file F2 \r\ny = readinput(F2);   \r\n}  // end else \r\n// endwhile\r\n\r\n// append F3 unprocessed data in F2 \r\nIf (eof(F1)) .........  \r\n \r\n// append F3 unprocessed data in F1 \r\nIf (eof(F2)) .........  \r\n \r\nClose all I/O files. \r\n//end pseudo code \r\n```\r\n","title":"Last token doesn&#39;t get processed when using the hasNext() method","body":"<p>I'm trying to merge two sorted files (<code>fn1</code> &amp; <code>fn2</code>) to a 3<sup>rd</sup> sorted file (<code>fn3</code>) but am running into a problem when using a <code>while</code> loop to go through the files. Basically, when the <code>hasNext()</code> method reaches the last digit of a file, it exits the <code>while</code> loop without processing the last digit due to there not being another digit after which returns the <code>hasNext()</code> as false. Is there a way I can process the last digit while using a <code>while</code> loop? The file contents im testing with is the following but it can be any number of digits.</p>\n<p>File 1: 5 16 47</p>\n<p>File 2: 12 21 67</p>\n<pre class=\"lang-java prettyprint-override\"><code>int x, y;\nx = fn1.nextInt();                       // read x from file F1\ny = fn2.nextInt();                       // read y from file F2\nwhile (fn1.hasNext() &amp;&amp; fn2.hasNext()) {\n    if (x &lt;= y) {\n        fn3.printf(&quot;%3d &quot;, x);           // write x in file F\n        x = fn1.nextInt();               // read x from file F1\n    }                                    // end if\n    else {\n        fn3.printf(&quot;%3d &quot;, y);           // write y in file F\n        y = fn2.nextInt();               // read y from file F2\n    }                                    // end else\n}                                        // end while\n</code></pre>\n<p>I found this <em><a href=\"https://coderanch.com/t/525457/java/Trouble-hasNext\" rel=\"nofollow noreferrer\">https://coderanch.com/t/525457/java/Trouble-hasNext</a></em> and it seems like I have to declare my <code>x</code> and <code>y</code> variables inside the <code>while</code> loop but I can't do that due to the <code>if</code> statement!</p>\n<p>Also, here is my professors' pseudo code if it's any help:</p>\n<pre><code>pseudo code \n//open input file F1, F2 \nopeninput(F1);   \nopeninput(F2);     \n \n//open input file F3 \nopenoutput(F3);     \n \n// read x from file F1 \nx = readinput(F1);   \n \n// read y from file F2 \ny = readinput(F2);   \n \n// eof stands for end of file,  \nwhile (!eof(F1) &amp;&amp; ! eof(F2)) \nIf ( x  y) { \n    // write x in file F3 \nwrite(F3, x);    \n \n// read x from file F1 \nx = readinput(F1);   \n}   // end if \nelse{ \n    // write y in file F3 \nwrite(F3, y);   \n  \n// read y from file F2 \ny = readinput(F2);   \n}  // end else \n// endwhile\n\n// append F3 unprocessed data in F2 \nIf (eof(F1)) .........  \n \n// append F3 unprocessed data in F1 \nIf (eof(F2)) .........  \n \nClose all I/O files. \n//end pseudo code \n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9083,"page":909,"page_size":100}
