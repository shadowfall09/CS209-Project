{"items":[{"tags":["java","android","xml","android-studio","emulation"],"comments":[{"owner":{"account_id":18378745,"reputation":802,"user_id":13387235,"display_name":"Dhruv Sakariya"},"score":0,"creation_date":1670586573,"post_id":74742705,"comment_id":131913644,"body_markdown":"check api level of mobile os and android studio build.gradel.","body":"check api level of mobile os and android studio build.gradel."},{"owner":{"account_id":2113491,"reputation":536,"user_id":6854117,"accept_rate":72,"display_name":"Moeez"},"score":0,"creation_date":1670586948,"post_id":74742705,"comment_id":131913728,"body_markdown":"how to check it on both ?","body":"how to check it on both ?"},{"owner":{"account_id":18378745,"reputation":802,"user_id":13387235,"display_name":"Dhruv Sakariya"},"score":0,"creation_date":1670587013,"post_id":74742705,"comment_id":131913749,"body_markdown":"send me your build.gradel screenshot","body":"send me your build.gradel screenshot"},{"owner":{"account_id":2113491,"reputation":536,"user_id":6854117,"accept_rate":72,"display_name":"Moeez"},"score":0,"creation_date":1670587117,"post_id":74742705,"comment_id":131913776,"body_markdown":"@DhruvSakariya I have added in my question","body":"@DhruvSakariya I have added in my question"},{"owner":{"account_id":18378745,"reputation":802,"user_id":13387235,"display_name":"Dhruv Sakariya"},"score":0,"creation_date":1670587411,"post_id":74742705,"comment_id":131913870,"body_markdown":"minsdk:-16\ntarget:-28","body":"minsdk:-16 target:-28"},{"owner":{"account_id":2113491,"reputation":536,"user_id":6854117,"accept_rate":72,"display_name":"Moeez"},"score":0,"creation_date":1670589548,"post_id":74742705,"comment_id":131914560,"body_markdown":"and how to check in mobile?","body":"and how to check in mobile?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1670590310,"post_id":74742705,"comment_id":131914826,"body_markdown":"Build.VERSION.SDK_INT.","body":"Build.VERSION.SDK_INT."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1670590399,"post_id":74742705,"comment_id":131914865,"body_markdown":"`my app is working very well on all devices except` That tells us nothing! You should exactly tell what does not work. With code and error messages.","body":"<code>my app is working very well on all devices except</code> That tells us nothing! You should exactly tell what does not work. With code and error messages."},{"owner":{"account_id":2113491,"reputation":536,"user_id":6854117,"accept_rate":72,"display_name":"Moeez"},"score":0,"creation_date":1670590696,"post_id":74742705,"comment_id":131914953,"body_markdown":"@blackapps there is no error or message that appears on mobile. As already mentioned that the mobile device is not shown on the android studio in developer mode as well","body":"@blackapps there is no error or message that appears on mobile. As already mentioned that the mobile device is not shown on the android studio in developer mode as well"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1670591088,"post_id":74742705,"comment_id":131915081,"body_markdown":"But what does not work? And how did you manage to install your app on it?","body":"But what does not work? And how did you manage to install your app on it?"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1670600398,"post_id":74742705,"comment_id":131918135,"body_markdown":"Google `OPPO A37` is `Android 5.1`, is a very old, and EOS.","body":"Google <code>OPPO A37</code> is <code>Android 5.1</code>, is a very old, and EOS."},{"owner":{"account_id":2113491,"reputation":536,"user_id":6854117,"accept_rate":72,"display_name":"Moeez"},"score":0,"creation_date":1670663297,"post_id":74742705,"comment_id":131928751,"body_markdown":"@blackapps the app was shared over WhatsApp. and the `apk` is installed and I am able to login into the app. But when I click on the buttons, the app doesn&#39;t respond i.e. a when a button is taped, it opens a list and that list doesn&#39;t show no matter how many times I have taped the button and vice versa. \n\nAlso I am unable to do usb debugging as the device never shows on my android studio while it does shows &quot;`You are on developer mode`&quot; on the device","body":"@blackapps the app was shared over WhatsApp. and the <code>apk</code> is installed and I am able to login into the app. But when I click on the buttons, the app doesn&#39;t respond i.e. a when a button is taped, it opens a list and that list doesn&#39;t show no matter how many times I have taped the button and vice versa.   Also I am unable to do usb debugging as the device never shows on my android studio while it does shows &quot;<code>You are on developer mode</code>&quot; on the device"},{"owner":{"account_id":16839534,"reputation":4249,"user_id":12175239,"display_name":"Squti"},"score":0,"creation_date":1671094052,"post_id":74742705,"comment_id":132024782,"body_markdown":"Enable MultiDex in your app and try again","body":"Enable MultiDex in your app and try again"},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1671214319,"post_id":74742705,"comment_id":132058596,"body_markdown":"Possibly related: [Android vectorDrawables.useSupportLibrary = true is stopping app](https://stackoverflow.com/q/41407811/295004)","body":"Possibly related: <a href=\"https://stackoverflow.com/q/41407811/295004\">Android vectorDrawables.useSupportLibrary = true is stopping app</a>"},{"owner":{"account_id":15219472,"reputation":1287,"user_id":10981777,"display_name":"G. Putnam"},"score":0,"creation_date":1671304992,"post_id":74742705,"comment_id":132072572,"body_markdown":"`OPPO A37` being `Android 5.1` is still `minSdkVersion 22` Above the minSDK listed.  @Moeez If the list portion of the code is failing, can you please post the: touch detection, button press, and list open/close methods?  Note: May be using appCompat, and Cardview versions too advanced.  minSDK is theoretically 14, yet other users have reported needing [cardview-v7:21.+](https://stackoverflow.com/questions/25586863/supportcardview-minimum-sdk) or [cardview-v7:+](https://stackoverflow.com/questions/51235038/dependecies-for-cardview-and-recyclerview-in-sdk-version-28) for some older phones.","body":"<code>OPPO A37</code> being <code>Android 5.1</code> is still <code>minSdkVersion 22</code> Above the minSDK listed.  @Moeez If the list portion of the code is failing, can you please post the: touch detection, button press, and list open/close methods?  Note: May be using appCompat, and Cardview versions too advanced.  minSDK is theoretically 14, yet other users have reported needing <a href=\"https://stackoverflow.com/questions/25586863/supportcardview-minimum-sdk\">cardview-v7:21.+</a> or <a href=\"https://stackoverflow.com/questions/51235038/dependecies-for-cardview-and-recyclerview-in-sdk-version-28\">cardview-v7:+</a> for some older phones."}],"answers":[{"tags":[],"owner":{"account_id":22804601,"reputation":53,"user_id":16956797,"display_name":"Shagor jhon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671593713,"creation_date":1671593713,"answer_id":74871065,"question_id":74742705,"body_markdown":"Hello you can use the feedback feature library\r\nunderstand and fix bugs when your apps have a crash\r\n[see this][1]\r\n\r\n\r\n  [1]: https://www.acra.ch/docs/Setup","title":"App not working on a specific mobile device","body":"<p>Hello you can use the feedback feature library\nunderstand and fix bugs when your apps have a crash\n<a href=\"https://www.acra.ch/docs/Setup\" rel=\"nofollow noreferrer\">see this</a></p>\n"}],"owner":{"account_id":2113491,"reputation":536,"user_id":6854117,"accept_rate":72,"display_name":"Moeez"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1671593713,"creation_date":1670586523,"question_id":74742705,"body_markdown":"I have created an android application. I have generated a signed `apk` and my app is working very well on all devices except `OPPO A37`. \r\n\r\nI don&#39;t know what is the main issue. I have also tried to debug the app with the developer option. But the device is not showing on my android studio\r\n\r\n**Build.gradle**\r\n\r\n```\r\n    apply plugin: &#39;com.android.application&#39;\r\n\r\n    android {\r\n    compileSdkVersion 33\r\n    defaultConfig {\r\n        applicationId &quot;com.example.wrfent.wrfnanbookings&quot;\r\n        minSdkVersion 19\r\n        targetSdkVersion 33\r\n        versionCode 3\r\n        versionName &quot;3.0&quot;\r\n        testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n        vectorDrawables.useSupportLibrary = true\r\n\r\n       }\r\n       buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            debuggable false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    }\r\n  \r\n    dependencies {\r\n    implementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n    androidTestImplementation(&#39;com.android.support.test.espresso:espresso-core:3.0.2&#39;, {\r\n        exclude group: &#39;com.android.support&#39;, module: &#39;support-annotations&#39;\r\n    })\r\n    //noinspection GradleCompatible\r\n    implementation &#39;com.android.support:appcompat-v7:28.0.0&#39;\r\n    //noinspection GradleCompatible\r\n    implementation &#39;com.android.support:design:28.0.0&#39;\r\n    implementation &#39;com.squareup.retrofit2:retrofit:2.9.0&#39;\r\n    implementation &#39;com.squareup.retrofit2:converter-gson:2.9.0&#39;\r\n    implementation &#39;com.android.support.constraint:constraint-layout:2.0.4&#39;\r\n    //noinspection GradleCompatible\r\n    implementation &#39;com.android.support:cardview-v7:28.0.0&#39;\r\n    implementation &#39;com.squareup.picasso:picasso:2.71828&#39;\r\n    implementation &#39;com.facebook.network.connectionclass:connectionclass:1.0.1&#39;\r\n    implementation &#39;fr.bmartel:jspeedtest:1.32.1&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    implementation &#39;com.squareup.okhttp3:logging-interceptor:5.0.0-alpha.10&#39;\r\n}\r\n\r\n```","title":"App not working on a specific mobile device","body":"<p>I have created an android application. I have generated a signed <code>apk</code> and my app is working very well on all devices except <code>OPPO A37</code>.</p>\n<p>I don't know what is the main issue. I have also tried to debug the app with the developer option. But the device is not showing on my android studio</p>\n<p><strong>Build.gradle</strong></p>\n<pre><code>    apply plugin: 'com.android.application'\n\n    android {\n    compileSdkVersion 33\n    defaultConfig {\n        applicationId &quot;com.example.wrfent.wrfnanbookings&quot;\n        minSdkVersion 19\n        targetSdkVersion 33\n        versionCode 3\n        versionName &quot;3.0&quot;\n        testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\n        vectorDrawables.useSupportLibrary = true\n\n       }\n       buildTypes {\n        release {\n            minifyEnabled false\n            debuggable false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    }\n  \n    dependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    androidTestImplementation('com.android.support.test.espresso:espresso-core:3.0.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    //noinspection GradleCompatible\n    implementation 'com.android.support:appcompat-v7:28.0.0'\n    //noinspection GradleCompatible\n    implementation 'com.android.support:design:28.0.0'\n    implementation 'com.squareup.retrofit2:retrofit:2.9.0'\n    implementation 'com.squareup.retrofit2:converter-gson:2.9.0'\n    implementation 'com.android.support.constraint:constraint-layout:2.0.4'\n    //noinspection GradleCompatible\n    implementation 'com.android.support:cardview-v7:28.0.0'\n    implementation 'com.squareup.picasso:picasso:2.71828'\n    implementation 'com.facebook.network.connectionclass:connectionclass:1.0.1'\n    implementation 'fr.bmartel:jspeedtest:1.32.1'\n    testImplementation 'junit:junit:4.13.2'\n    implementation 'com.squareup.okhttp3:logging-interceptor:5.0.0-alpha.10'\n}\n\n</code></pre>\n"},{"tags":["java","android","android-studio","android-emulator"],"comments":[{"owner":{"account_id":11869552,"reputation":21,"user_id":8686171,"display_name":"Roebo"},"score":0,"creation_date":1506678057,"post_id":46476452,"comment_id":79926617,"body_markdown":"Update: After some uninstalling/reinstalling, I am still at square one. I go to SDK Tools and see that emulator is not installed and try to install it to get the previous message of unable to move target file. I have looked at multiple threads and I am convinced that the new updates caused the problem. Are there any other suggestions?","body":"Update: After some uninstalling/reinstalling, I am still at square one. I go to SDK Tools and see that emulator is not installed and try to install it to get the previous message of unable to move target file. I have looked at multiple threads and I am convinced that the new updates caused the problem. Are there any other suggestions?"}],"answers":[{"tags":[],"owner":{"account_id":4657846,"reputation":444,"user_id":6614059,"display_name":"Olaoye Oluwapelumi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506627094,"creation_date":1506625969,"answer_id":46476670,"question_id":46476452,"body_markdown":" 1. You might wanna check this out.\r\nhttps://stackoverflow.com/questions/38367085/error-while-waiting-for-device-timed-out-after-300seconds-waiting-for-emulator\r\n\r\n 2. Navigate to your sdk folder, click on the platform-tools and you&#39;ll see your adb.exe file. Hold the Shift key down and right click and from the dialog box it brings, click Open Command Line.\r\n\r\n Run the following commands in your cmd or terminal:\r\n   1. adb kill-server.\r\n   2. adb start-server\r\nThen go back and start your emulator.\r\n\r\nHope this helps.\r\n\r\n","title":"Android Studio - Issues with emulator download","body":"<ol>\n<li><p>You might wanna check this out.\n<a href=\"https://stackoverflow.com/questions/38367085/error-while-waiting-for-device-timed-out-after-300seconds-waiting-for-emulator\">Error while waiting for device: Timed out after 300seconds waiting for emulator to come online</a></p></li>\n<li><p>Navigate to your sdk folder, click on the platform-tools and you'll see your adb.exe file. Hold the Shift key down and right click and from the dialog box it brings, click Open Command Line.</p>\n\n<p>Run the following commands in your cmd or terminal:</p>\n\n<ol>\n<li>adb kill-server.</li>\n<li>adb start-server\nThen go back and start your emulator.</li>\n</ol></li>\n</ol>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":11869552,"reputation":21,"user_id":8686171,"display_name":"Roebo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1506834227,"creation_date":1506834227,"answer_id":46509389,"question_id":46476452,"body_markdown":"I found the issue. After uninstalling/reinstalling I had gotten the emulator to work. After some tinkering I noticed that I can update everything but the Intel x86 xham installer. In my case, doing so will give me a error message saying it cannot update while also uninstalling the version that was preinstalled which leads to the emulator not working. I did it twice to confirm.","title":"Android Studio - Issues with emulator download","body":"<p>I found the issue. After uninstalling/reinstalling I had gotten the emulator to work. After some tinkering I noticed that I can update everything but the Intel x86 xham installer. In my case, doing so will give me a error message saying it cannot update while also uninstalling the version that was preinstalled which leads to the emulator not working. I did it twice to confirm.</p>\n"},{"tags":[],"owner":{"account_id":10057195,"reputation":427,"user_id":7435048,"display_name":"Mercuriat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1591894915,"creation_date":1591894915,"answer_id":62329650,"question_id":46476452,"body_markdown":"Experienced same issue. \r\n\r\nI cut-pasted entire emulator folder (AppData\\Local\\Android\\Sdk\\emulator) to an alternative temporary(*) location. \r\n\r\nAfter that I was able to complete the Android Emulator install successfully since no existing target with same name existed in that location (AppData\\Local\\Android\\sdk) anymore.\r\n- - \r\n(*)Don&#39;t forget to delete the old emulator folder from the alternative location afterwards.\r\n\r\n","title":"Android Studio - Issues with emulator download","body":"<p>Experienced same issue. </p>\n\n<p>I cut-pasted entire emulator folder (AppData\\Local\\Android\\Sdk\\emulator) to an alternative temporary(*) location. </p>\n\n<p>After that I was able to complete the Android Emulator install successfully since no existing target with same name existed in that location (AppData\\Local\\Android\\sdk) anymore.\n- - \n(*)Don't forget to delete the old emulator folder from the alternative location afterwards.</p>\n"},{"tags":[],"owner":{"account_id":26773604,"reputation":32,"user_id":20369573,"display_name":"Pyjava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671593603,"creation_date":1671593603,"answer_id":74871057,"question_id":46476452,"body_markdown":"Just use another folder. For example:\r\n`D:/AndroidStudioSdk` or `C:/sdk`.\r\nNo spaces and symbols like !, ?, #, $.","title":"Android Studio - Issues with emulator download","body":"<p>Just use another folder. For example:\n<code>D:/AndroidStudioSdk</code> or <code>C:/sdk</code>.\nNo spaces and symbols like !, ?, #, $.</p>\n"}],"owner":{"account_id":11869552,"reputation":21,"user_id":8686171,"display_name":"Roebo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5363,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":46509389,"answer_count":4,"score":0,"last_activity_date":1671593603,"creation_date":1506625045,"question_id":46476452,"body_markdown":"I have run into a bit of a problem with my emulator for android studio. Everything was running fine yesterday until I was notified about updates and installed them. All but the emulator installed and now the emulator would not load. I am given the message:\r\n `Error while waiting for device: Timed out after 300seconds waiting for emulator to come online.` \r\nI went into SDK tools and tried to reinstall but I have gotten this message.\r\n\r\n    To install:\r\n    - Android Emulator (emulator)\r\n    Preparing &quot;Install Android Emulator (revision: 26.1.4)&quot;.\r\n    Found existing prepared package.\r\n    &quot;Install Android Emulator (revision: 26.1.4)&quot; ready.\r\n    Finishing &quot;Install Android Emulator (revision: 26.1.4)&quot;\r\n    Installing Android Emulator in             \r\n    C:\\Users\\under\\AppData\\Local\\Android\\Sdk\\emulator\r\n    An error occurred during installation: Failed to move away or delete \r\n    existing target file: C:\\Users\\under\\AppData\\Local\\Android\\Sdk\\emulator\r\n    Move it away manually and try again..\r\n    &quot;Install Android Emulator (revision: 26.1.4)&quot; complete.\r\n    &quot;Install Android Emulator (revision: 26.1.4)&quot; failed.\r\n    Failed packages:\r\n    - Android Emulator (emulator)\r\n\r\n\r\nI would like to manually move the file so the emulator can finish but I don&#39;t know how exactly. This probably won&#39;t solve the issue but I would like to check it off the list of possible areas. I have also tried other methods of solving the issue but I will gladly double back to make sure that isn&#39;t a issue. Thanks in advance.\r\n\r\n","title":"Android Studio - Issues with emulator download","body":"<p>I have run into a bit of a problem with my emulator for android studio. Everything was running fine yesterday until I was notified about updates and installed them. All but the emulator installed and now the emulator would not load. I am given the message:\n <code>Error while waiting for device: Timed out after 300seconds waiting for emulator to come online.</code> \nI went into SDK tools and tried to reinstall but I have gotten this message.</p>\n\n<pre><code>To install:\n- Android Emulator (emulator)\nPreparing \"Install Android Emulator (revision: 26.1.4)\".\nFound existing prepared package.\n\"Install Android Emulator (revision: 26.1.4)\" ready.\nFinishing \"Install Android Emulator (revision: 26.1.4)\"\nInstalling Android Emulator in             \nC:\\Users\\under\\AppData\\Local\\Android\\Sdk\\emulator\nAn error occurred during installation: Failed to move away or delete \nexisting target file: C:\\Users\\under\\AppData\\Local\\Android\\Sdk\\emulator\nMove it away manually and try again..\n\"Install Android Emulator (revision: 26.1.4)\" complete.\n\"Install Android Emulator (revision: 26.1.4)\" failed.\nFailed packages:\n- Android Emulator (emulator)\n</code></pre>\n\n<p>I would like to manually move the file so the emulator can finish but I don't know how exactly. This probably won't solve the issue but I would like to check it off the list of possible areas. I have also tried other methods of solving the issue but I will gladly double back to make sure that isn't a issue. Thanks in advance.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":3,"creation_date":1667589759,"post_id":74321686,"comment_id":131210657,"body_markdown":"maybe `logging.level.org.hibernate.orm.jdbc.bind=trace` - based on https://thorben-janssen.com/hibernate-logging-guide/#Logback_via_Slf4j_configuration_for_Hibernate_4_5_and_6  since boot  3.0.0-RC1 uses Hibernate 6.1.4","body":"maybe <code>logging.level.org.hibernate.orm.jdbc.bind=trace</code> - based on <a href=\"https://thorben-janssen.com/hibernate-logging-guide/#Logback_via_Slf4j_configuration_for_Hibernate_4_5_and_6\" rel=\"nofollow noreferrer\">thorben-janssen.com/hibernate-logging-guide/&hellip;</a>  since boot  3.0.0-RC1 uses Hibernate 6.1.4"},{"owner":{"account_id":18559672,"reputation":300,"user_id":13523946,"display_name":"notAPPP"},"score":0,"creation_date":1667591586,"post_id":74321686,"comment_id":131211155,"body_markdown":"I&#39;m using logging.level.net.ttddyy.dsproxy.listener=debug during work on query performance","body":"I&#39;m using logging.level.net.ttddyy.dsproxy.listener=debug during work on query performance"},{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1667768943,"post_id":74321686,"comment_id":131240563,"body_markdown":"https://stackoverflow.com/a/37464963/175554 looks like the most spring way","body":"<a href=\"https://stackoverflow.com/a/37464963/175554\">stackoverflow.com/a/37464963/175554</a> looks like the most spring way"}],"answers":[{"tags":[],"owner":{"account_id":1118811,"reputation":431,"user_id":1107564,"display_name":"dannyxu"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1671592542,"creation_date":1671592542,"answer_id":74870985,"question_id":74321686,"body_markdown":"try this:\r\n\r\n    logging.level.org.hibernate.orm.jdbc.bind=trace\r\n    logging.level.org.hibernate.type=trace\r\n    logging.level.org.hibernate.stat=debug\r\n\r\nit works for me while using Springboot 3.0.0","title":"How to log SQL parameters binding in JPA queries with Spring Boot 3?","body":"<p>try this:</p>\n<pre><code>logging.level.org.hibernate.orm.jdbc.bind=trace\nlogging.level.org.hibernate.type=trace\nlogging.level.org.hibernate.stat=debug\n</code></pre>\n<p>it works for me while using Springboot 3.0.0</p>\n"}],"owner":{"account_id":26828149,"reputation":23,"user_id":20416493,"display_name":"dsestero"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3308,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74870985,"answer_count":1,"score":2,"last_activity_date":1671592542,"creation_date":1667587596,"question_id":74321686,"body_markdown":"I would like to log the SQL parameters binding in JPA queries and found the following configuration worked fine for Spring Boot 2.7.3:\r\n\r\n```\r\n# Show all queries\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.format_sql=true\r\n#Show SQL parameters binding\r\nlogging.level.org.hibernate.sql=debug\r\nlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=trace\r\n\r\n```\r\nI use H2 in-memory database and I am experimenting to write some query using JPA EntityManager.\r\n\r\nWhen I try to upgrade my project to Spring Boot 3.0.0-RC1 I continue to see the SQL queries but the parameters binding is no more shown. \r\n\r\n\r\nI tried some different configurations for hibernate and application logging levels but didn&#39;t succeed in finding a working configuration.\r\n\r\nWhat is the correct way to log SQL bindings with Spring Boot 3?","title":"How to log SQL parameters binding in JPA queries with Spring Boot 3?","body":"<p>I would like to log the SQL parameters binding in JPA queries and found the following configuration worked fine for Spring Boot 2.7.3:</p>\n<pre><code># Show all queries\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\n#Show SQL parameters binding\nlogging.level.org.hibernate.sql=debug\nlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=trace\n\n</code></pre>\n<p>I use H2 in-memory database and I am experimenting to write some query using JPA EntityManager.</p>\n<p>When I try to upgrade my project to Spring Boot 3.0.0-RC1 I continue to see the SQL queries but the parameters binding is no more shown.</p>\n<p>I tried some different configurations for hibernate and application logging levels but didn't succeed in finding a working configuration.</p>\n<p>What is the correct way to log SQL bindings with Spring Boot 3?</p>\n"},{"tags":["java","jmenubar"],"answers":[{"tags":[],"owner":{"account_id":18952245,"reputation":166,"user_id":13829673,"display_name":"DevCharly"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664291548,"creation_date":1664291548,"answer_id":73869927,"question_id":73837642,"body_markdown":"I&#39;m the author of the linked article (https://www.formdev.com/flatlaf/macos/).\r\nThis definitely works.\r\n\r\nMake sure that you invoke following in your `main()` method before creating UI:\r\n\r\n    System.setProperty( &quot;apple.laf.useScreenMenuBar&quot;, &quot;true&quot; );\r\n\r\nMake sure to use `JFrame.setJMenuBar(JMenuBar)` to add the menu bar to the frame.","title":"How do i add JMenuBar to the Screen Menu Bar in macOS","body":"<p>I'm the author of the linked article (<a href=\"https://www.formdev.com/flatlaf/macos/\" rel=\"nofollow noreferrer\">https://www.formdev.com/flatlaf/macos/</a>).\nThis definitely works.</p>\n<p>Make sure that you invoke following in your <code>main()</code> method before creating UI:</p>\n<pre><code>System.setProperty( &quot;apple.laf.useScreenMenuBar&quot;, &quot;true&quot; );\n</code></pre>\n<p>Make sure to use <code>JFrame.setJMenuBar(JMenuBar)</code> to add the menu bar to the frame.</p>\n"}],"owner":{"account_id":19705285,"reputation":160,"user_id":20654602,"display_name":"Rishon_JR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73869927,"answer_count":1,"score":0,"last_activity_date":1671592356,"creation_date":1664026668,"question_id":73837642,"body_markdown":"I&#39;m developing an app for macOS. But when I try to add the `JMenuBar` to the `JFrame` instance it just adds the ```JFrame``` window Instead of the macOS screen menu bar.\r\n\r\nI&#39;ve tried Following [this Article](https://www.formdev.com/flatlaf/macos/) and it didn&#39;t work :\r\n\r\nIt just overlapped the application title bar with the `JMenuBar`.\\\r\nI&#39;ve read other articles online and still with no noticeable change.\r\n\r\nJRE Info:\r\n```\r\n% javac --version\r\njavac 17.0.4.1\r\n```\r\nJDK Info: \r\n```\r\n% java --version \r\njava 17.0.4.1 2022-08-18 LTS\r\nJava(TM) SE Runtime Environment (build 17.0.4.1+1-LTS-2)\r\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.4.1+1-LTS-2, mixed mode, sharing)\r\n```\r\n\r\n\r\n\r\n","title":"How do i add JMenuBar to the Screen Menu Bar in macOS","body":"<p>I'm developing an app for macOS. But when I try to add the <code>JMenuBar</code> to the <code>JFrame</code> instance it just adds the <code>JFrame</code> window Instead of the macOS screen menu bar.</p>\n<p>I've tried Following <a href=\"https://www.formdev.com/flatlaf/macos/\" rel=\"nofollow noreferrer\">this Article</a> and it didn't work :</p>\n<p>It just overlapped the application title bar with the <code>JMenuBar</code>.<br />\nI've read other articles online and still with no noticeable change.</p>\n<p>JRE Info:</p>\n<pre><code>% javac --version\njavac 17.0.4.1\n</code></pre>\n<p>JDK Info:</p>\n<pre><code>% java --version \njava 17.0.4.1 2022-08-18 LTS\nJava(TM) SE Runtime Environment (build 17.0.4.1+1-LTS-2)\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.4.1+1-LTS-2, mixed mode, sharing)\n</code></pre>\n"},{"tags":["java","multithreading","concurrency","jvm","java.util.concurrent"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1671206039,"post_id":74826568,"comment_id":132056072,"body_markdown":"Related: [why wait/notify/notifyAll methods are not synchronized in java ?](https://stackoverflow.com/questions/7019745/why-wait-notify-notifyall-methods-are-not-synchronized-in-java)","body":"Related: <a href=\"https://stackoverflow.com/questions/7019745/why-wait-notify-notifyall-methods-are-not-synchronized-in-java\">why wait/notify/notifyAll methods are not synchronized in java ?</a>"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":5,"creation_date":1671206218,"post_id":74826568,"comment_id":132056134,"body_markdown":"_&quot;I think the holding the lock is not necessary.&quot;_ Why do you think that? The whole point of notification is that your thread did something that others waiting on the lock might be interested in. For those actions to be visible (or at least to guarantee they are visible), you must have performed those actions under the lock, requiring the notify to be under the lock is a good idea, because that improves the chance it is used correctly and that your actions are actually visible to the threads you&#39;re notifying.","body":"<i>&quot;I think the holding the lock is not necessary.&quot;</i> Why do you think that? The whole point of notification is that your thread did something that others waiting on the lock might be interested in. For those actions to be visible (or at least to guarantee they are visible), you must have performed those actions under the lock, requiring the notify to be under the lock is a good idea, because that improves the chance it is used correctly and that your actions are actually visible to the threads you&#39;re notifying."},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":1,"creation_date":1671206400,"post_id":74826568,"comment_id":132056197,"body_markdown":"Calling notify doesn&#39;t &quot;release the lock&quot;, it tells the scheduler to  wake some thread waiting on the same lock. Waiting threads have released the lock and have to reacquire it in order to stop waiting","body":"Calling notify doesn&#39;t &quot;release the lock&quot;, it tells the scheduler to  wake some thread waiting on the same lock. Waiting threads have released the lock and have to reacquire it in order to stop waiting"},{"owner":{"account_id":17436033,"reputation":400,"user_id":12639005,"display_name":"Name Null"},"score":0,"creation_date":1671209203,"post_id":74826568,"comment_id":132057138,"body_markdown":"Actually I know the typical usage of `notify` is to update some state for waiting threads to see. I was just wondering, when I don&#39;t have any states for waiting threads to see, why not just `notify` without using `synchronized` for only one line of `notify` code. My viewpoint is that calling `notify` outside a `synchronized` block is not thread-safe. Requiring it to be thread-safe just avoids the special case I put up above, without any benefit (it&#39;s equivalent to bracing it with a `synchronized` block). Other comments also show that in this situation `wait/notify` should be avoided at all.","body":"Actually I know the typical usage of <code>notify</code> is to update some state for waiting threads to see. I was just wondering, when I don&#39;t have any states for waiting threads to see, why not just <code>notify</code> without using <code>synchronized</code> for only one line of <code>notify</code> code. My viewpoint is that calling <code>notify</code> outside a <code>synchronized</code> block is not thread-safe. Requiring it to be thread-safe just avoids the special case I put up above, without any benefit (it&#39;s equivalent to bracing it with a <code>synchronized</code> block). Other comments also show that in this situation <code>wait&#47;notify</code> should be avoided at all."}],"answers":[{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671211437,"creation_date":1671208271,"answer_id":74827265,"question_id":74826568,"body_markdown":"The case where using synchronized makes sense is where the thing using the lock has state that needs to be protected. In that case the lock has to be held while notifying because there are going to be state changes that go along with the notification, so that requiring notify to be called with the lock makes sense. \r\n\r\n\r\nUsing wait/notify without state that indicates when the thread should wait is not safe, it allows race conditions that can result in hanging threads, or threads can stop waiting without having been notified. It really isn&#39;t safe to use wait and notify without keeping state. \r\n\r\nIf you have code that doesn&#39;t otherwise need that state, then synchronized is an overcomplicated/tricky/buggy solution. In the case of the posted code example you could use a CountdownLatch instead, and have something that is simple and safe.  \r\n\r\n","title":"Why calling notify in Java requires holding the lock?","body":"<p>The case where using synchronized makes sense is where the thing using the lock has state that needs to be protected. In that case the lock has to be held while notifying because there are going to be state changes that go along with the notification, so that requiring notify to be called with the lock makes sense.</p>\n<p>Using wait/notify without state that indicates when the thread should wait is not safe, it allows race conditions that can result in hanging threads, or threads can stop waiting without having been notified. It really isn't safe to use wait and notify without keeping state.</p>\n<p>If you have code that doesn't otherwise need that state, then synchronized is an overcomplicated/tricky/buggy solution. In the case of the posted code example you could use a CountdownLatch instead, and have something that is simple and safe.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1671591282,"creation_date":1671209694,"answer_id":74827519,"question_id":74826568,"body_markdown":"&gt; I think the holding the lock is not necessary.\r\n\r\nIt is necessary **because** the [javadoc][1] for `Object.notify()` says it is necessary.  It states:\r\n\r\n&gt; *&quot;This method should only be called by a thread that is the owner of\r\n&gt; this object&#39;s monitor. A thread becomes the owner of the object&#39;s\r\n&gt; monitor in one of three ways:*\r\n&gt; 1. *By executing a `synchronized` instance method of that object.*\r\n&gt; 2. *By executing the body of a `synchronized` statement that synchronizes on the object.*\r\n&gt; 3. *For objects of type `Class`, by executing a `synchronized static` method of that class.&quot;*\r\n\r\nBut your real question is *why* is it necessary?  *Why* did they design it this way?\r\n\r\nTo answer that, we need to understand that Java&#39;s `wait` / `notify` mechanism is *primarily* designed for implementing [*condition variables*][2].  The purpose of a condition variable is to allow one thread to wait for a condition to become true and for another thread to notify it that this has occurred.  The basic pattern for implementing condition variables using `wait()` / `notify()` is as follows:\r\n\r\n    // Shared lock that provides mutual exclusion for &#39;theCondition&#39;.\r\n    final Object lock = new Object();\r\n\r\n    // Thread #1\r\n    synchronized (lock) {\r\n        // ...\r\n        while (! theCondition) {  // One reason for this loop will\r\n                                  // become later ...\r\n            lock.wait();\r\n        }\r\n        // HERE\r\n    }\r\n\r\n    // Thread # 2\r\n    synchronized (lock) {\r\n        // ...\r\n        if (theCondition) {\r\n            lock.notify();\r\n        }\r\n    }\r\n\r\nThis when thread #1 reaches `// HERE`, it knows that `theCondition` is now true.  Furthermore it is guaranteed the current values variables that make up the condition, and any others controlled by the `lock` monitor will now be visible to thread #1.\r\n\r\nBut one of the prerequisites for this actually working is that both thread #1 and thread #2 are synchronized on the same monitor.  That will guarantee the visibility of the values according to a *happens before* analysis based on the Java Memory Model (see JLS 17.4).\r\n\r\nA second reason that the above needs synchronization is because thread #1 needs exclusive access to the variables to check the condition and then use them.  Without mutual exclusion for the shared state between threads #1 and #2, race conditions are possible that can lead to a missed notification.\r\n\r\nSince the above only works reliably when threads #1 and #2 hold the monitor when calling `wait` and `notify`, the Java designers decided to *enforce* this in implementations of the `wait` and `notify` methods themselves.  Hence the javadoc that I quoted above.\r\n\r\n---------------------\r\n\r\nNow ... your use-case for `wait()` / `notify()` is simpler.  No information is shared between the two threads ... apart from the fact that the notify occurred.  But it is still necessary to follow the pattern above.  \r\n\r\nConsider the consequences of this caveat in the [javadoc][3] for the `wait()` methods:\r\n\r\n&gt; *&quot;A thread can wake up without being notified, interrupted, or timing out, a so-called &quot;spurious wakeup&quot;. While this will rarely occur in practice, applications must guard against it ...&quot;*\r\n\r\nSo one issue is that a spurious wakeup could cause the child thread to be woken before the main thread&#39;s `sleep(...)` completes.\r\n\r\nA second issue is that is the child thread is delayed, the main thread may `notify` the child before the child has reached the `wait`.  The notification then be lost.  (This might happen due to system load.) \r\n\r\nWhat these issues mean is that your example is **incorrect** ... in theory, if not in reality.  And in fact, it is not possible to solve your problem using wait / notify without following the pattern above/\r\n\r\nA corrected version of your example (i.e. one that is not vulnerable to spurious wakeups, and race conditions) looks like this:\r\n\r\n    final Object lock = new Object;\r\n    boolean wakeUp = false;\r\n    \r\n    Thread thread = new Thread(() -&gt; {\r\n        synchronized (lock){\r\n            try {\r\n                while (!wakeUp) {\r\n                    this.wait();\r\n                }\r\n                System.out.println(&quot;Woke&quot;);\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    \r\n    });\r\n    thread.start();\r\n    TimeUnit.SECONDS.sleep(1);\r\n    synchronized (lock) {\r\n        wakeUp = true;\r\n        this.notify();\r\n    }\r\n\r\nNote that there are simpler and more obviously correct ways to do this using various `java.concurrent.*` classes.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()\r\n  [2]: https://en.wikipedia.org/wiki/Monitor_(synchronization)#Condition_variables_2\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)\r\n","title":"Why calling notify in Java requires holding the lock?","body":"<blockquote>\n<p>I think the holding the lock is not necessary.</p>\n</blockquote>\n<p>It is necessary <strong>because</strong> the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()\" rel=\"nofollow noreferrer\">javadoc</a> for <code>Object.notify()</code> says it is necessary.  It states:</p>\n<blockquote>\n<p><em>&quot;This method should only be called by a thread that is the owner of\nthis object's monitor. A thread becomes the owner of the object's\nmonitor in one of three ways:</em></p>\n<ol>\n<li><em>By executing a <code>synchronized</code> instance method of that object.</em></li>\n<li><em>By executing the body of a <code>synchronized</code> statement that synchronizes on the object.</em></li>\n<li><em>For objects of type <code>Class</code>, by executing a <code>synchronized static</code> method of that class.&quot;</em></li>\n</ol>\n</blockquote>\n<p>But your real question is <em>why</em> is it necessary?  <em>Why</em> did they design it this way?</p>\n<p>To answer that, we need to understand that Java's <code>wait</code> / <code>notify</code> mechanism is <em>primarily</em> designed for implementing <a href=\"https://en.wikipedia.org/wiki/Monitor_(synchronization)#Condition_variables_2\" rel=\"nofollow noreferrer\"><em>condition variables</em></a>.  The purpose of a condition variable is to allow one thread to wait for a condition to become true and for another thread to notify it that this has occurred.  The basic pattern for implementing condition variables using <code>wait()</code> / <code>notify()</code> is as follows:</p>\n<pre><code>// Shared lock that provides mutual exclusion for 'theCondition'.\nfinal Object lock = new Object();\n\n// Thread #1\nsynchronized (lock) {\n    // ...\n    while (! theCondition) {  // One reason for this loop will\n                              // become later ...\n        lock.wait();\n    }\n    // HERE\n}\n\n// Thread # 2\nsynchronized (lock) {\n    // ...\n    if (theCondition) {\n        lock.notify();\n    }\n}\n</code></pre>\n<p>This when thread #1 reaches <code>// HERE</code>, it knows that <code>theCondition</code> is now true.  Furthermore it is guaranteed the current values variables that make up the condition, and any others controlled by the <code>lock</code> monitor will now be visible to thread #1.</p>\n<p>But one of the prerequisites for this actually working is that both thread #1 and thread #2 are synchronized on the same monitor.  That will guarantee the visibility of the values according to a <em>happens before</em> analysis based on the Java Memory Model (see JLS 17.4).</p>\n<p>A second reason that the above needs synchronization is because thread #1 needs exclusive access to the variables to check the condition and then use them.  Without mutual exclusion for the shared state between threads #1 and #2, race conditions are possible that can lead to a missed notification.</p>\n<p>Since the above only works reliably when threads #1 and #2 hold the monitor when calling <code>wait</code> and <code>notify</code>, the Java designers decided to <em>enforce</em> this in implementations of the <code>wait</code> and <code>notify</code> methods themselves.  Hence the javadoc that I quoted above.</p>\n<hr />\n<p>Now ... your use-case for <code>wait()</code> / <code>notify()</code> is simpler.  No information is shared between the two threads ... apart from the fact that the notify occurred.  But it is still necessary to follow the pattern above.</p>\n<p>Consider the consequences of this caveat in the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)\" rel=\"nofollow noreferrer\">javadoc</a> for the <code>wait()</code> methods:</p>\n<blockquote>\n<p><em>&quot;A thread can wake up without being notified, interrupted, or timing out, a so-called &quot;spurious wakeup&quot;. While this will rarely occur in practice, applications must guard against it ...&quot;</em></p>\n</blockquote>\n<p>So one issue is that a spurious wakeup could cause the child thread to be woken before the main thread's <code>sleep(...)</code> completes.</p>\n<p>A second issue is that is the child thread is delayed, the main thread may <code>notify</code> the child before the child has reached the <code>wait</code>.  The notification then be lost.  (This might happen due to system load.)</p>\n<p>What these issues mean is that your example is <strong>incorrect</strong> ... in theory, if not in reality.  And in fact, it is not possible to solve your problem using wait / notify without following the pattern above/</p>\n<p>A corrected version of your example (i.e. one that is not vulnerable to spurious wakeups, and race conditions) looks like this:</p>\n<pre><code>final Object lock = new Object;\nboolean wakeUp = false;\n\nThread thread = new Thread(() -&gt; {\n    synchronized (lock){\n        try {\n            while (!wakeUp) {\n                this.wait();\n            }\n            System.out.println(&quot;Woke&quot;);\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n});\nthread.start();\nTimeUnit.SECONDS.sleep(1);\nsynchronized (lock) {\n    wakeUp = true;\n    this.notify();\n}\n</code></pre>\n<p>Note that there are simpler and more obviously correct ways to do this using various <code>java.concurrent.*</code> classes.</p>\n"}],"owner":{"account_id":17436033,"reputation":400,"user_id":12639005,"display_name":"Name Null"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74827519,"answer_count":2,"score":1,"last_activity_date":1671591282,"creation_date":1671204789,"question_id":74826568,"body_markdown":"```java\r\nThread thread = new Thread(() -&gt; {\r\n    synchronized (this){\r\n        try {\r\n            this.wait();\r\n            System.out.println(&quot;Woke&quot;);\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n});\r\nthread.start();\r\nTimeUnit.SECONDS.sleep(1);\r\nthis.notify();\r\n```\r\n\r\nWhen calling `notify` it says\r\n\r\n&gt; java.lang.IllegalMonitorStateException: current thread is not owner\r\n\r\nThe typical usage of `notify` is that you call it and then you release the lock implicitly (by leaving the synchronized block) so that the waiting threads may re-acquire the lock. \r\n\r\nBut code above calls `notify` even before it has the lock, so other threads can just try to acquire the lock, why not? I think the holding the lock is not necessary.","title":"Why calling notify in Java requires holding the lock?","body":"<pre class=\"lang-java prettyprint-override\"><code>Thread thread = new Thread(() -&gt; {\n    synchronized (this){\n        try {\n            this.wait();\n            System.out.println(&quot;Woke&quot;);\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n});\nthread.start();\nTimeUnit.SECONDS.sleep(1);\nthis.notify();\n</code></pre>\n<p>When calling <code>notify</code> it says</p>\n<blockquote>\n<p>java.lang.IllegalMonitorStateException: current thread is not owner</p>\n</blockquote>\n<p>The typical usage of <code>notify</code> is that you call it and then you release the lock implicitly (by leaving the synchronized block) so that the waiting threads may re-acquire the lock.</p>\n<p>But code above calls <code>notify</code> even before it has the lock, so other threads can just try to acquire the lock, why not? I think the holding the lock is not necessary.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671590814,"creation_date":1671590814,"answer_id":74870846,"question_id":74870707,"body_markdown":"The problem is, `49` is an int literal. Thus, you have an expression `a / b` where `a` is short (it&#39;s the `value` in your `value -&gt; value / 49;`), and `b` is an int (it&#39;s the `49`). Java silently converts your `value` to an int first, then does int/int division (java cannot do hybrid math operations). In general shorts aren&#39;t an actual thing in java, at the runtime level, it&#39;s all converted to ints/longs.\r\n\r\nThe easy fix is to cast the end result to a short. `value -&gt; (short) (value / 49)` for example.\r\n","title":"int cannot be converted to short","body":"<p>The problem is, <code>49</code> is an int literal. Thus, you have an expression <code>a / b</code> where <code>a</code> is short (it's the <code>value</code> in your <code>value -&gt; value / 49;</code>), and <code>b</code> is an int (it's the <code>49</code>). Java silently converts your <code>value</code> to an int first, then does int/int division (java cannot do hybrid math operations). In general shorts aren't an actual thing in java, at the runtime level, it's all converted to ints/longs.</p>\n<p>The easy fix is to cast the end result to a short. <code>value -&gt; (short) (value / 49)</code> for example.</p>\n"}],"owner":{"account_id":27313080,"reputation":1,"user_id":20827935,"display_name":"Zinorux"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1671590814,"creation_date":1671588787,"question_id":74870707,"body_markdown":"I got problem on the second public with the lambda function. Problem is int to short. It&#39;s a compiler problem.\r\n\r\n```\r\nimport java.util.Optional;\r\nimport java.util.function.BinaryOperator;\r\nimport java.util.function.Function;\r\nimport java.util.function.Predicate;\r\nimport java.util.stream.Stream;\r\n\r\npublic class Picnicker {\r\n\tpublic Function&lt;Short, Short&gt; rechafe(Function&lt;Short, Short&gt; sinkstone) {\r\n\t\tFunction&lt;Short, Short&gt; div = (value) -&gt; value / 49;\r\n\t\tFunction&lt;Short, Short&gt; f = sinkstone.andThen(div);\r\n\r\n\t\treturn f;\r\n\t}\r\n}\r\n```","title":"int cannot be converted to short","body":"<p>I got problem on the second public with the lambda function. Problem is int to short. It's a compiler problem.</p>\n<pre><code>import java.util.Optional;\nimport java.util.function.BinaryOperator;\nimport java.util.function.Function;\nimport java.util.function.Predicate;\nimport java.util.stream.Stream;\n\npublic class Picnicker {\n    public Function&lt;Short, Short&gt; rechafe(Function&lt;Short, Short&gt; sinkstone) {\n        Function&lt;Short, Short&gt; div = (value) -&gt; value / 49;\n        Function&lt;Short, Short&gt; f = sinkstone.andThen(div);\n\n        return f;\n    }\n}\n</code></pre>\n"},{"tags":["java","gradle","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":7403799,"reputation":135,"user_id":8132767,"accept_rate":80,"display_name":"old_dd"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671587908,"creation_date":1671581037,"answer_id":74870126,"question_id":74869998,"body_markdown":"You&#39;re on the right track with the separate resource folder, you can configure gradle to do exactly what you want:\r\n\r\nCreate a separate directory for the resources that should only be included when debugging, such as src/debug/resources.\r\n\r\nAdd the following to your build.gradle file:\r\n\r\n    \r\n    sourceSets {\r\n      main {\r\n        debug {\r\n          resources {\r\n            srcDir &#39;src/debug/resources&#39;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    \r\n    jar {\r\n      exclude &#39;**/debug/**&#39;\r\n    }\r\n    \r\nRename `resources` to whatever you need, properties or env-properties.    \r\n\r\nThat should do it for you, I can&#39;t speak to the Eclipse part of your question, I am blessed with an Eclipse free working environment!\r\n\r\nThis SO post has useful fancy pants stuff for complicated builds: https://stackoverflow.com/questions/59401271/how-to-exclude-resources-from-the-jar-in-gradle-and-also-run-via-intellij\r\n","title":"How can I include a resource for debugging but not deploying?","body":"<p>You're on the right track with the separate resource folder, you can configure gradle to do exactly what you want:</p>\n<p>Create a separate directory for the resources that should only be included when debugging, such as src/debug/resources.</p>\n<p>Add the following to your build.gradle file:</p>\n<pre><code>sourceSets {\n  main {\n    debug {\n      resources {\n        srcDir 'src/debug/resources'\n      }\n    }\n  }\n}\n\njar {\n  exclude '**/debug/**'\n}\n</code></pre>\n<p>Rename <code>resources</code> to whatever you need, properties or env-properties.</p>\n<p>That should do it for you, I can't speak to the Eclipse part of your question, I am blessed with an Eclipse free working environment!</p>\n<p>This SO post has useful fancy pants stuff for complicated builds: <a href=\"https://stackoverflow.com/questions/59401271/how-to-exclude-resources-from-the-jar-in-gradle-and-also-run-via-intellij\">How to exclude resources from the JAR in Gradle and also run via IntelliJ</a></p>\n"}],"owner":{"account_id":980057,"reputation":7528,"user_id":1000011,"accept_rate":52,"display_name":"opticyclic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671587908,"creation_date":1671579656,"question_id":74869998,"body_markdown":"Is it possible for Gradle to use resources for debugging that aren&#39;t used for deploying?\r\n\r\nMy `*.properties` files are generated on the server from `*.config` files and aren&#39;t supposed to be included in the jar when it is created with Gradle.\r\n\r\nHowever, I need the `*.properties` files on the classpath when debugging locally with IDEA.\r\n\r\nIf I copy a properties file from the server and put it in `src/main/resources` the application will run and I can debug it properly from IDEA. However, if I *commit* the file to that directory it will get added to the jar by Gradle on the build server and then deploy it which is not what I want.\r\n\r\nTo avoid the files from being accidentally deployed, I committed the property files to `src/env-properties` (and periodically manually sync then with the server files). I can then go into the IDEA Project Structure, add a content root and mark the directory as a resource allowing me to debug.\r\n\r\nAs soon as I refresh the Gradle project from IDEA though, this config is lost.\r\n\r\nHow do I configure Gradle so that IDEA uses `src/env-properties` as a resource but Gradle doesn&#39;t use it for the `jar` task and accidentally deploy it?\r\n\r\n**NB:** A few people in the team use eclipse so I&#39;d like `gradlew eclipse` to also add it to the eclipse classpath as well if possible.\r\n","title":"How can I include a resource for debugging but not deploying?","body":"<p>Is it possible for Gradle to use resources for debugging that aren't used for deploying?</p>\n<p>My <code>*.properties</code> files are generated on the server from <code>*.config</code> files and aren't supposed to be included in the jar when it is created with Gradle.</p>\n<p>However, I need the <code>*.properties</code> files on the classpath when debugging locally with IDEA.</p>\n<p>If I copy a properties file from the server and put it in <code>src/main/resources</code> the application will run and I can debug it properly from IDEA. However, if I <em>commit</em> the file to that directory it will get added to the jar by Gradle on the build server and then deploy it which is not what I want.</p>\n<p>To avoid the files from being accidentally deployed, I committed the property files to <code>src/env-properties</code> (and periodically manually sync then with the server files). I can then go into the IDEA Project Structure, add a content root and mark the directory as a resource allowing me to debug.</p>\n<p>As soon as I refresh the Gradle project from IDEA though, this config is lost.</p>\n<p>How do I configure Gradle so that IDEA uses <code>src/env-properties</code> as a resource but Gradle doesn't use it for the <code>jar</code> task and accidentally deploy it?</p>\n<p><strong>NB:</strong> A few people in the team use eclipse so I'd like <code>gradlew eclipse</code> to also add it to the eclipse classpath as well if possible.</p>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":4,"creation_date":1671585753,"post_id":74870492,"comment_id":132129525,"body_markdown":"Try to `System.out.flush()`.","body":"Try to <code>System.out.flush()</code>."},{"owner":{"account_id":27312861,"reputation":3,"user_id":20827745,"display_name":"Nicolas Bedoya"},"score":0,"creation_date":1671585919,"post_id":74870492,"comment_id":132129552,"body_markdown":"@MCEmperor it works but i wonder how can i display a message and then enter a value?","body":"@MCEmperor it works but i wonder how can i display a message and then enter a value?"},{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":1,"creation_date":1671586040,"post_id":74870492,"comment_id":132129574,"body_markdown":"By calling `System.out.flush()` after `System.out.print(&quot;Enter a number: &quot;);`.","body":"By calling <code>System.out.flush()</code> after <code>System.out.print(&quot;Enter a number: &quot;);</code>."},{"owner":{"account_id":27312861,"reputation":3,"user_id":20827745,"display_name":"Nicolas Bedoya"},"score":0,"creation_date":1671586568,"post_id":74870492,"comment_id":132129638,"body_markdown":"it happens the same, idk why tho","body":"it happens the same, idk why tho"},{"owner":{"account_id":4996428,"reputation":362,"user_id":4016860,"accept_rate":75,"display_name":"Popeye"},"score":0,"creation_date":1671586815,"post_id":74870492,"comment_id":132129661,"body_markdown":"It worked fine for me. What else are you doing?","body":"It worked fine for me. What else are you doing?"},{"owner":{"account_id":7403799,"reputation":135,"user_id":8132767,"accept_rate":80,"display_name":"old_dd"},"score":0,"creation_date":1671586859,"post_id":74870492,"comment_id":132129672,"body_markdown":"Add `entrada.nextLine();` after `numero = entrada.nextInt();` and see if that fixes it.  If it does, I&#39;ll write up why in an answer for you.","body":"Add <code>entrada.nextLine();</code> after <code>numero = entrada.nextInt();</code> and see if that fixes it.  If it does, I&#39;ll write up why in an answer for you."},{"owner":{"account_id":27312861,"reputation":3,"user_id":20827745,"display_name":"Nicolas Bedoya"},"score":0,"creation_date":1671587058,"post_id":74870492,"comment_id":132129705,"body_markdown":"it doesn&#39;t work","body":"it doesn&#39;t work"},{"owner":{"account_id":27312861,"reputation":3,"user_id":20827745,"display_name":"Nicolas Bedoya"},"score":0,"creation_date":1671587117,"post_id":74870492,"comment_id":132129714,"body_markdown":"@Popeye i&#39;m not doing anything, i just added the flush just like James said and it happened the same, i&#39;m using netbeans 12.6","body":"@Popeye i&#39;m not doing anything, i just added the flush just like James said and it happened the same, i&#39;m using netbeans 12.6"}],"answers":[{"tags":[],"owner":{"account_id":15168592,"reputation":21,"user_id":10945398,"display_name":"Levi Martines"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1671586681,"creation_date":1671586387,"answer_id":74870542,"question_id":74870492,"body_markdown":"The code it&#39;s working on my end. Try to compile it using `javac HolaMundoMain.java` and run with `java -cp . HolaMundoMain`.\r\n[Image of the code running][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/f0YVT.png","title":"Message appears after writing an input in java","body":"<p>The code it's working on my end. Try to compile it using <code>javac HolaMundoMain.java</code> and run with <code>java -cp . HolaMundoMain</code>.\n<a href=\"https://i.stack.imgur.com/f0YVT.png\" rel=\"nofollow noreferrer\">Image of the code running</a></p>\n"},{"tags":[],"owner":{"account_id":17872721,"reputation":41,"user_id":12983577,"display_name":"alphaBEE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671587141,"creation_date":1671587141,"answer_id":74870590,"question_id":74870492,"body_markdown":"The code is perfectly fine, i tried running it as well and it does print first &quot;Enter a number :&quot; then after you enter value, it prints the next sout statement along with the value.[![enter image description here][1]][1], the image shows my run of the said code. Have you made any changes to java code? It&#39;s possible that you wrote the statement that takes input first then sout then you compiled it and ran it for the first time, but after changing it you forgot to compile it again using &quot;javac completeFileName&quot; in CMD. I have a strong feeling you just need to recompile it and then run the program using &quot;java completeFileName&quot;. Also please note that, completeFileName is a name of path of file. if you don&#39;t compile after making changes to a file, what happens is compiler runs the previously compiled version of it, which is basically a fileName.class file(you can even see it in folder), but when you do compile again a new fileName.class is created and then used to run.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kIqIK.png","title":"Message appears after writing an input in java","body":"<p>The code is perfectly fine, i tried running it as well and it does print first &quot;Enter a number :&quot; then after you enter value, it prints the next sout statement along with the value.<a href=\"https://i.stack.imgur.com/kIqIK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kIqIK.png\" alt=\"enter image description here\" /></a>, the image shows my run of the said code. Have you made any changes to java code? It's possible that you wrote the statement that takes input first then sout then you compiled it and ran it for the first time, but after changing it you forgot to compile it again using &quot;javac completeFileName&quot; in CMD. I have a strong feeling you just need to recompile it and then run the program using &quot;java completeFileName&quot;. Also please note that, completeFileName is a name of path of file. if you don't compile after making changes to a file, what happens is compiler runs the previously compiled version of it, which is basically a fileName.class file(you can even see it in folder), but when you do compile again a new fileName.class is created and then used to run.</p>\n"}],"owner":{"account_id":27312861,"reputation":3,"user_id":20827745,"display_name":"Nicolas Bedoya"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74870590,"answer_count":2,"score":0,"last_activity_date":1671587141,"creation_date":1671585614,"question_id":74870492,"body_markdown":"I&#39;m new to Java and i was learning inputs with Scanner but i&#39;m getting something odd, the message of &quot;enter a number&quot; doesn&#39;t show, it only appears after I enter a value, here is the code and the screenshot. I&#39;m using java 11 btw.\r\n`\r\n```\r\npublic class HolaMundoMain {\r\n\r\n    public static void main(String[] args) {\r\n        \r\n        Scanner entrada = new Scanner(System.in);\r\n        int numero;\r\n        System.out.print(&quot;Enter a number: &quot;);\r\n        numero = entrada.nextInt();\r\n        \r\n        System.out.println(&quot;The number is: &quot;+numero);\r\n    }\r\n}\r\n```\r\n`\r\nI tried writing the sout line before declaring Scanner but it does not work\r\n\r\nI was expecting that first it would appear &quot;Enter a number: &quot; and then i could write it, but i have to write it first and then the message appears\r\n[see image of terminal][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VqqCZ.png","title":"Message appears after writing an input in java","body":"<p>I'm new to Java and i was learning inputs with Scanner but i'm getting something odd, the message of &quot;enter a number&quot; doesn't show, it only appears after I enter a value, here is the code and the screenshot. I'm using java 11 btw.\n`</p>\n<pre><code>public class HolaMundoMain {\n\n    public static void main(String[] args) {\n        \n        Scanner entrada = new Scanner(System.in);\n        int numero;\n        System.out.print(&quot;Enter a number: &quot;);\n        numero = entrada.nextInt();\n        \n        System.out.println(&quot;The number is: &quot;+numero);\n    }\n}\n</code></pre>\n<p>`\nI tried writing the sout line before declaring Scanner but it does not work</p>\n<p>I was expecting that first it would appear &quot;Enter a number: &quot; and then i could write it, but i have to write it first and then the message appears\n<a href=\"https://i.stack.imgur.com/VqqCZ.png\" rel=\"nofollow noreferrer\">see image of terminal</a></p>\n"},{"tags":["java","maven","intellij-idea","terminal"],"comments":[{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":0,"creation_date":1671586177,"post_id":74870513,"comment_id":132129594,"body_markdown":"I&#39;m not really sure what more insight you need. You&#39;re running an application with a version of Java that is a full 11 versions behind the version used to compile it.","body":"I&#39;m not really sure what more insight you need. You&#39;re running an application with a version of Java that is a full 11 versions behind the version used to compile it."},{"owner":{"account_id":27312926,"reputation":1,"user_id":20827802,"display_name":"raynbelh"},"score":0,"creation_date":1671586341,"post_id":74870513,"comment_id":132129612,"body_markdown":"That&#39;s where I&#39;m struggling, I don&#39;t really quite understand what I have to do. I am not that familiar with these yet","body":"That&#39;s where I&#39;m struggling, I don&#39;t really quite understand what I have to do. I am not that familiar with these yet"},{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":0,"creation_date":1671586393,"post_id":74870513,"comment_id":132129617,"body_markdown":"Install a more recent version of the JDK/JRE.","body":"Install a more recent version of the JDK/JRE."},{"owner":{"account_id":27312926,"reputation":1,"user_id":20827802,"display_name":"raynbelh"},"score":0,"creation_date":1671586834,"post_id":74870513,"comment_id":132129664,"body_markdown":"I may have missed something because I did install Java SE Development Kit 19.0.1 an hour ago","body":"I may have missed something because I did install Java SE Development Kit 19.0.1 an hour ago"},{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":1,"creation_date":1671586968,"post_id":74870513,"comment_id":132129689,"body_markdown":"Then you need to make sure that you correctly set your JAVA_HOME environment variable and that the Java executable is on your path.","body":"Then you need to make sure that you correctly set your JAVA_HOME environment variable and that the Java executable is on your path."}],"owner":{"account_id":27312926,"reputation":1,"user_id":20827802,"display_name":"raynbelh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671586234,"answer_count":0,"score":0,"last_activity_date":1671586025,"creation_date":1671586025,"question_id":74870513,"body_markdown":"I&#39;m quite new to use the build and artifacts features. I have a program that reads a JSON file, evaluates it and return a different JSON file. After creating an artifact and built it, I go in the terminal in the same folder as the one where jar that I built (that I would call `programExample.jar` for example) is, and type in the terminal to launch the program.\r\n&gt; java -jar programExample.jar jsonToRead.json jsonOutput.json\r\n\r\n\r\nThe issue is that after typing this command, this error shows up:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: Main has been compiled by a more recent version of the Java Runtime (class file version 63.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n\r\nI don&#39;t understand how I have to solve that and have been looking for a few hours now.\r\n\r\nThe project use `openjdk-19` and when typing `java -version` in the terminal, I have `java version &quot;1.8.0_351&quot;` and typing `javac -version`, I have\r\n\r\n&gt; javac : The term &#39;javac&#39; is not recognized as the name of a cmdlet, function, script file, or operable program. Check the spelling of the name, or if a path was included, verify that the path is correct and try again.\r\n\r\nWould love to have an insight.\r\n\r\nIf needed, here is also my Maven file:\r\n\r\n\r\n```\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;Declarations&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;5.9.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.24&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sf.json-lib&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json-lib&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4&lt;/version&gt;\r\n            &lt;classifier&gt;jdk15&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;19&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;19&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.22.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;19&lt;/source&gt;\r\n                    &lt;target&gt;19&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n","title":"Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: Main has been compiled by a more recent version of the Java Runtime","body":"<p>I'm quite new to use the build and artifacts features. I have a program that reads a JSON file, evaluates it and return a different JSON file. After creating an artifact and built it, I go in the terminal in the same folder as the one where jar that I built (that I would call <code>programExample.jar</code> for example) is, and type in the terminal to launch the program.</p>\n<blockquote>\n<p>java -jar programExample.jar jsonToRead.json jsonOutput.json</p>\n</blockquote>\n<p>The issue is that after typing this command, this error shows up:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: Main has been compiled by a more recent version of the Java Runtime (class file version 63.0), this version of the Java Runtime only recognizes class file versions up to 52.0</p>\n</blockquote>\n<p>I don't understand how I have to solve that and have been looking for a few hours now.</p>\n<p>The project use <code>openjdk-19</code> and when typing <code>java -version</code> in the terminal, I have <code>java version &quot;1.8.0_351&quot;</code> and typing <code>javac -version</code>, I have</p>\n<blockquote>\n<p>javac : The term 'javac' is not recognized as the name of a cmdlet, function, script file, or operable program. Check the spelling of the name, or if a path was included, verify that the path is correct and try again.</p>\n</blockquote>\n<p>Would love to have an insight.</p>\n<p>If needed, here is also my Maven file:</p>\n<pre><code>\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;Declarations&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;5.9.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.24&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.json-lib&lt;/groupId&gt;\n            &lt;artifactId&gt;json-lib&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n            &lt;classifier&gt;jdk15&lt;/classifier&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;19&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;19&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;19&lt;/source&gt;\n                    &lt;target&gt;19&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","multithreading","swing","jbutton","layer"],"comments":[{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1671587379,"post_id":74870503,"comment_id":132129742,"body_markdown":"Can you also post your `KeyHandler` class? Right now, the example you gave us does not compile because it cannot find that `KeyHandler` class.","body":"Can you also post your <code>KeyHandler</code> class? Right now, the example you gave us does not compile because it cannot find that <code>KeyHandler</code> class."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":4,"creation_date":1671589126,"post_id":74870503,"comment_id":132129985,"body_markdown":"1) Don&#39;t use the `dispose()` method on a Graphics object that you don&#39;t create. You should NOT dispose() the graphics object passed to the paintComponent() method. 2) Swing is double buffered by default 3) there is no need for all the revalidate() and repaint() and setVisible() statements in your constructor. Swing components are visible by default, except for top level containers like JFrame and JDialog. 4) Using the setSize() method does nothing. By default a JPanel uses a FlowLayout. So the layout manager will set the size of the button to be its preferred size.","body":"1) Don&#39;t use the <code>dispose()</code> method on a Graphics object that you don&#39;t create. You should NOT dispose() the graphics object passed to the paintComponent() method. 2) Swing is double buffered by default 3) there is no need for all the revalidate() and repaint() and setVisible() statements in your constructor. Swing components are visible by default, except for top level containers like JFrame and JDialog. 4) Using the setSize() method does nothing. By default a JPanel uses a FlowLayout. So the layout manager will set the size of the button to be its preferred size."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":3,"creation_date":1671589238,"post_id":74870503,"comment_id":132130000,"body_markdown":"If you need more help the post a proper [mre]. Your question is about displaying the buttons. So all the logic related to the KeyListeners and game loop is irrelevant to the stated problem. First the the buttons visible then add back in that logic. This is always the way you should code. That is write a little code and test. Then add more code and test. When/if it stops working you know what you just changed. Don&#39;t try to write the entire application before testing.","body":"If you need more help the post a proper <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Your question is about displaying the buttons. So all the logic related to the KeyListeners and game loop is irrelevant to the stated problem. First the the buttons visible then add back in that logic. This is always the way you should code. That is write a little code and test. Then add more code and test. When/if it stops working you know what you just changed. Don&#39;t try to write the entire application before testing."},{"owner":{"account_id":26856475,"reputation":21,"user_id":20440700,"display_name":"Paula Rodr&#237;guez"},"score":0,"creation_date":1671627867,"post_id":74870503,"comment_id":132139011,"body_markdown":"Sorry for all! Im not used to do this so I dont know what to upload! Thank you all for your help!!!\n\nI created a drive link with all my game classes:\n\nhttps://drive.google.com/drive/folders/12HI9fXSNhfFY9_1XomcYT-3_9sdibcLc?usp=sharing","body":"Sorry for all! Im not used to do this so I dont know what to upload! Thank you all for your help!!!  I created a drive link with all my game classes:  <a href=\"https://drive.google.com/drive/folders/12HI9fXSNhfFY9_1XomcYT-3_9sdibcLc?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/drive/folders/&hellip;</a>"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1671628365,"post_id":74870503,"comment_id":132139155,"body_markdown":"@camickr wondering where all these recent graphic.dispose (in paintComponent) come from? Some severely broken tutorial/youtube video you might be aware of?","body":"@camickr wondering where all these recent graphic.dispose (in paintComponent) come from? Some severely broken tutorial/youtube video you might be aware of?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1671634560,"post_id":74870503,"comment_id":132141385,"body_markdown":"@kleopatra, I&#39;m not aware of any common source of the problem.","body":"@kleopatra, I&#39;m not aware of any common source of the problem."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1671634806,"post_id":74870503,"comment_id":132141451,"body_markdown":"@camickr - could have been as you are a permanent expert here while I&#39;m just lurking again since some weeks, thanks :)","body":"@camickr - could have been as you are a permanent expert here while I&#39;m just lurking again since some weeks, thanks :)"}],"owner":{"account_id":26856475,"reputation":21,"user_id":20440700,"display_name":"Paula Rodr&#237;guez"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1671585831,"creation_date":1671585831,"question_id":74870503,"body_markdown":"First of all, sorry for my English!\r\n\r\n\r\nI am creating a videogame as a beginner, and I have four buttons, but I dont know why I can only see them when i put my mouse over them.\r\n\r\nMaybe is because I have a thread?\r\n\r\nI will try to upload the code and classes!!\r\n\r\nThank you very very much!!!\r\n\r\n\r\n\r\n\r\n```\r\n\r\n\r\npackage Launcher;\r\nimport Character.CharacterSet;\r\nimport Character.CharacterFabric;\r\nimport Character.CharSelection;\r\n\r\nimport javax.swing.*;\r\n\r\npublic class Main\r\n{\r\n    public static void main(String[] args){\r\n\r\n        WindowPanel winP = new WindowPanel();\r\n        winP.myWindowPanel();\r\n\r\n        CharSelection charSelection = new CharSelection();\r\n        charSelection.myCharSelection();\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\npackage Launcher;\r\n\r\n\r\nimport java.awt.*;\r\nimport java.awt.event.KeyListener;\r\nimport java.sql.SQLOutput;\r\nimport javax.swing.*;\r\n\r\nimport  Character.Player;\r\n\r\n\r\npublic class GamePanel extends JPanel implements  Runnable{\r\n\r\n    //Window settings variables\r\n    KeyHandler KH = new KeyHandler();\r\n    final int originalTileSize = 16; //16x16px\r\n    final int scale = 3;\r\n    final int tileSize = originalTileSize * scale; //48x48px\r\n    final int maxScreenCol = 16; //Tiles in a column\r\n    final int maxScreenRow = 12; //Tiles in a row\r\n    final int maxScreenWidth = tileSize * maxScreenCol;\r\n    final int maxScreenHeight = tileSize * maxScreenRow;\r\n\r\n\r\n    Thread gameThread;\r\n\r\n    Player player = new Player(this, KH);\r\n    int framesPS = 60;\r\n\r\n\r\n    //Player pos\r\n    int playerX = 100;\r\n    int playerY = 100;\r\n    int playerSpeed = 4;\r\n    public GamePanel(){\r\n\r\n        this.setVisible(false);\r\n\r\n        //Window Settings with variable implementation\r\n        this.setPreferredSize(new Dimension(maxScreenWidth, maxScreenHeight));\r\n        this.setBackground(Color.white);\r\n        this.setDoubleBuffered(true);\r\n        this.addKeyListener(KH);\r\n        this.setFocusable(true);\r\n\r\n        //////////7\r\n        JButton exit = new JButton();\r\n        JButton moreSize = new JButton();\r\n        JButton lessSize = new JButton();\r\n\r\n        exit.setSize(30, 30);\r\n        moreSize.setSize(30, 30);\r\n        lessSize.setSize(30, 30);\r\n\r\n\r\n        //exit.setVisible(true);\r\n        exit.setBackground(Color.BLUE);\r\n        this.add(exit);\r\n        ///////\r\n        //optionSel = &quot;Archer&quot;;\r\n\r\n        JButton butW = new JButton(&quot;^&quot;);\r\n        butW.setSize(500, 500);\r\n        butW.setBackground(Color.BLUE);\r\n        this.add(butW);\r\n        butW.setVisible(true);\r\n        butW.revalidate();\r\n        butW.repaint();\r\n\r\n        this.setVisible(true);\r\n        this.repaint();\r\n        this.revalidate();\r\n\r\n\r\n\r\n        }\r\n\r\n\r\n    public void startGameThread(){\r\n        gameThread = new Thread(this);\r\n        gameThread.start();\r\n\r\n\r\n    }\r\n\r\n    public void update(){\r\n        //System.out.println(playerY);\r\n\r\n        //System.out.println(upP);\r\n        if(KH.upPressed){\r\n            playerY -= playerSpeed;\r\n        }\r\n        else if(KH.downPressed == true){\r\n            playerY += playerSpeed;\r\n        }\r\n        else if(KH.leftPressed == true){\r\n            playerX -= playerSpeed;\r\n        }\r\n        else if(KH.rightPressed){\r\n            playerX += playerSpeed;\r\n        }\r\n\r\n    }\r\n\r\n    /*public void run(){\r\n\r\n        double drawInterval = 1000000000/framesPS; //0.0166 seconds\r\n        double nextDrawTime = System.nanoTime() + drawInterval;\r\n\r\n        while(gameThread != null){\r\n\r\n\r\n\r\n            //long currentTime = System.nanoTime();\r\n            //1.Update\r\n            update();\r\n            //2Draw screen info\r\n            repaint();\r\n\r\n\r\n\r\n            try {\r\n                double remainingTime = nextDrawTime -System.nanoTime();\r\n                remainingTime = remainingTime/1000000;\r\n\r\n                if(remainingTime &lt; 0){\r\n                    remainingTime = 0;\r\n                }\r\n\r\n                Thread.sleep((long)remainingTime);\r\n\r\n                nextDrawTime += drawInterval;\r\n\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n\r\n\r\n\r\n\r\n    }*/\r\n\r\n\r\n    public void run(){\r\n\r\n        double drawInterval = 1000000000/framesPS;\r\n        double delta = 0;\r\n        long lastTime = System.nanoTime();\r\n        long currentTime;\r\n        long timer = 0;\r\n        int drawCount = 0;\r\n\r\n        while(gameThread != null){\r\n\r\n            currentTime = System.nanoTime();\r\n            delta += (currentTime - lastTime)/drawInterval;\r\n            timer += (currentTime-lastTime);\r\n            lastTime = currentTime;\r\n            if (delta &gt;= 1){\r\n                update();\r\n                repaint();\r\n                delta--;\r\n                drawCount++;\r\n            }\r\n            if(timer &gt;= 1000000000){\r\n                System.out.println(&quot;System FPS= &quot;+drawCount);\r\n                drawCount = 0;\r\n                timer = 0;\r\n            }\r\n\r\n\r\n\r\n\r\n        }\r\n    }\r\n\r\n\r\n    public void paintComponent(Graphics g){\r\n        super.paintComponent(g);\r\n\r\n        Graphics2D g2 = (Graphics2D)g;\r\n        //System.out.println(&quot;painting&quot;);\r\n\r\n        g2.setColor(Color.GREEN);\r\n        g2.fillRect(playerX, playerY, tileSize, tileSize);\r\n\r\n\r\n\r\n\r\n\r\n        g2.dispose();\r\n\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\n\r\n```\r\n\r\n\r\n\r\n```\r\npackage Launcher;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class WindowPanel {\r\n\r\n    //public static String optionSel;\r\n    public boolean startThread;\r\n    public void myWindowPanel(){\r\n\r\n        JFrame window = new JFrame();\r\n        //Window Creation\r\n\r\n        window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        window.setResizable(false);\r\n        window.setTitle(&quot;My Game&quot;);\r\n        window.setLocation(0, 0);//No le indica un lugar especifico donde salir, por lo que sale en el medio\r\n\r\n\r\n\r\n\r\n\r\n\r\n        GamePanel gamePanel = new GamePanel();\r\n        window.add(gamePanel);\r\n\r\n        ///\r\n        JButton butW = new JButton(&quot;^&quot;);\r\n        butW.setSize(100, 100);\r\n        butW.setBackground(Color.BLUE);\r\n        gamePanel.add(butW);\r\n        butW.setVisible(true);\r\n\r\n        butW.revalidate();\r\n        butW.repaint();\r\n\r\n        ///\r\n\r\n\r\n        window.pack();\r\n\r\n\r\n\r\n\r\n\r\n        window.setLocationRelativeTo(null);\r\n        window.setVisible(true);\r\n        gamePanel.startGameThread();\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nI&#180;m trying to see the buttons :C","title":"My buttons only appear when I click them or my cursor is over them","body":"<p>First of all, sorry for my English!</p>\n<p>I am creating a videogame as a beginner, and I have four buttons, but I dont know why I can only see them when i put my mouse over them.</p>\n<p>Maybe is because I have a thread?</p>\n<p>I will try to upload the code and classes!!</p>\n<p>Thank you very very much!!!</p>\n<pre><code>\n\npackage Launcher;\nimport Character.CharacterSet;\nimport Character.CharacterFabric;\nimport Character.CharSelection;\n\nimport javax.swing.*;\n\npublic class Main\n{\n    public static void main(String[] args){\n\n        WindowPanel winP = new WindowPanel();\n        winP.myWindowPanel();\n\n        CharSelection charSelection = new CharSelection();\n        charSelection.myCharSelection();\n\n\n\n    }\n\n\n}\n</code></pre>\n<pre><code>\n\n\n\n\n\npackage Launcher;\n\n\nimport java.awt.*;\nimport java.awt.event.KeyListener;\nimport java.sql.SQLOutput;\nimport javax.swing.*;\n\nimport  Character.Player;\n\n\npublic class GamePanel extends JPanel implements  Runnable{\n\n    //Window settings variables\n    KeyHandler KH = new KeyHandler();\n    final int originalTileSize = 16; //16x16px\n    final int scale = 3;\n    final int tileSize = originalTileSize * scale; //48x48px\n    final int maxScreenCol = 16; //Tiles in a column\n    final int maxScreenRow = 12; //Tiles in a row\n    final int maxScreenWidth = tileSize * maxScreenCol;\n    final int maxScreenHeight = tileSize * maxScreenRow;\n\n\n    Thread gameThread;\n\n    Player player = new Player(this, KH);\n    int framesPS = 60;\n\n\n    //Player pos\n    int playerX = 100;\n    int playerY = 100;\n    int playerSpeed = 4;\n    public GamePanel(){\n\n        this.setVisible(false);\n\n        //Window Settings with variable implementation\n        this.setPreferredSize(new Dimension(maxScreenWidth, maxScreenHeight));\n        this.setBackground(Color.white);\n        this.setDoubleBuffered(true);\n        this.addKeyListener(KH);\n        this.setFocusable(true);\n\n        //////////7\n        JButton exit = new JButton();\n        JButton moreSize = new JButton();\n        JButton lessSize = new JButton();\n\n        exit.setSize(30, 30);\n        moreSize.setSize(30, 30);\n        lessSize.setSize(30, 30);\n\n\n        //exit.setVisible(true);\n        exit.setBackground(Color.BLUE);\n        this.add(exit);\n        ///////\n        //optionSel = &quot;Archer&quot;;\n\n        JButton butW = new JButton(&quot;^&quot;);\n        butW.setSize(500, 500);\n        butW.setBackground(Color.BLUE);\n        this.add(butW);\n        butW.setVisible(true);\n        butW.revalidate();\n        butW.repaint();\n\n        this.setVisible(true);\n        this.repaint();\n        this.revalidate();\n\n\n\n        }\n\n\n    public void startGameThread(){\n        gameThread = new Thread(this);\n        gameThread.start();\n\n\n    }\n\n    public void update(){\n        //System.out.println(playerY);\n\n        //System.out.println(upP);\n        if(KH.upPressed){\n            playerY -= playerSpeed;\n        }\n        else if(KH.downPressed == true){\n            playerY += playerSpeed;\n        }\n        else if(KH.leftPressed == true){\n            playerX -= playerSpeed;\n        }\n        else if(KH.rightPressed){\n            playerX += playerSpeed;\n        }\n\n    }\n\n    /*public void run(){\n\n        double drawInterval = 1000000000/framesPS; //0.0166 seconds\n        double nextDrawTime = System.nanoTime() + drawInterval;\n\n        while(gameThread != null){\n\n\n\n            //long currentTime = System.nanoTime();\n            //1.Update\n            update();\n            //2Draw screen info\n            repaint();\n\n\n\n            try {\n                double remainingTime = nextDrawTime -System.nanoTime();\n                remainingTime = remainingTime/1000000;\n\n                if(remainingTime &lt; 0){\n                    remainingTime = 0;\n                }\n\n                Thread.sleep((long)remainingTime);\n\n                nextDrawTime += drawInterval;\n\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n        }\n\n\n\n\n    }*/\n\n\n    public void run(){\n\n        double drawInterval = 1000000000/framesPS;\n        double delta = 0;\n        long lastTime = System.nanoTime();\n        long currentTime;\n        long timer = 0;\n        int drawCount = 0;\n\n        while(gameThread != null){\n\n            currentTime = System.nanoTime();\n            delta += (currentTime - lastTime)/drawInterval;\n            timer += (currentTime-lastTime);\n            lastTime = currentTime;\n            if (delta &gt;= 1){\n                update();\n                repaint();\n                delta--;\n                drawCount++;\n            }\n            if(timer &gt;= 1000000000){\n                System.out.println(&quot;System FPS= &quot;+drawCount);\n                drawCount = 0;\n                timer = 0;\n            }\n\n\n\n\n        }\n    }\n\n\n    public void paintComponent(Graphics g){\n        super.paintComponent(g);\n\n        Graphics2D g2 = (Graphics2D)g;\n        //System.out.println(&quot;painting&quot;);\n\n        g2.setColor(Color.GREEN);\n        g2.fillRect(playerX, playerY, tileSize, tileSize);\n\n\n\n\n\n        g2.dispose();\n\n    }\n\n\n\n}\n\n\n</code></pre>\n<pre><code>package Launcher;\n\nimport javax.swing.*;\nimport java.awt.*;\n\npublic class WindowPanel {\n\n    //public static String optionSel;\n    public boolean startThread;\n    public void myWindowPanel(){\n\n        JFrame window = new JFrame();\n        //Window Creation\n\n        window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        window.setResizable(false);\n        window.setTitle(&quot;My Game&quot;);\n        window.setLocation(0, 0);//No le indica un lugar especifico donde salir, por lo que sale en el medio\n\n\n\n\n\n\n        GamePanel gamePanel = new GamePanel();\n        window.add(gamePanel);\n\n        ///\n        JButton butW = new JButton(&quot;^&quot;);\n        butW.setSize(100, 100);\n        butW.setBackground(Color.BLUE);\n        gamePanel.add(butW);\n        butW.setVisible(true);\n\n        butW.revalidate();\n        butW.repaint();\n\n        ///\n\n\n        window.pack();\n\n\n\n\n\n        window.setLocationRelativeTo(null);\n        window.setVisible(true);\n        gamePanel.startGameThread();\n\n\n\n\n    }\n\n\n}\n\n</code></pre>\n<p>Im trying to see the buttons :C</p>\n"},{"tags":["java","spring","spring-boot","javabeans"],"comments":[{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":0,"creation_date":1619170137,"post_id":67226999,"comment_id":118829229,"body_markdown":"Show your datasource properties from application.yml (or .properties). Do you use Flyway? If not then you must turn its auto-configuration off","body":"Show your datasource properties from application.yml (or .properties). Do you use Flyway? If not then you must turn its auto-configuration off"},{"owner":{"account_id":13216928,"reputation":1467,"user_id":9545125,"display_name":"TheStranger"},"score":0,"creation_date":1619170509,"post_id":67226999,"comment_id":118829396,"body_markdown":"@NikolaiShevchenko\nDone! I use Flyway.","body":"@NikolaiShevchenko Done! I use Flyway."},{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":0,"creation_date":1619173613,"post_id":67226999,"comment_id":118830787,"body_markdown":"Try to add datasource property `spring.datasource.driverClassName=org.postgresql.Driver` and add Postrges driver artifact into your dependencies (if missing)","body":"Try to add datasource property <code>spring.datasource.driverClassName=org.postgresql.Driver</code> and add Postrges driver artifact into your dependencies (if missing)"},{"owner":{"account_id":13216928,"reputation":1467,"user_id":9545125,"display_name":"TheStranger"},"score":0,"creation_date":1619173901,"post_id":67226999,"comment_id":118830911,"body_markdown":"@NikolaiShevchenko\nI already have the Postgres driver artifact in my dependencies, so I added the datasource property to my application.properties, but it still gives the same error.","body":"@NikolaiShevchenko I already have the Postgres driver artifact in my dependencies, so I added the datasource property to my application.properties, but it still gives the same error."},{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":0,"creation_date":1619174860,"post_id":67226999,"comment_id":118831318,"body_markdown":"Ok. Maybe you launch Spring application with non-default profile, that has no configured datasource properties?","body":"Ok. Maybe you launch Spring application with non-default profile, that has no configured datasource properties?"},{"owner":{"account_id":13216928,"reputation":1467,"user_id":9545125,"display_name":"TheStranger"},"score":0,"creation_date":1619175068,"post_id":67226999,"comment_id":118831414,"body_markdown":"@NikolaiShevchenko \nI only have one profile which is default.","body":"@NikolaiShevchenko  I only have one profile which is default."},{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":0,"creation_date":1619175255,"post_id":67226999,"comment_id":118831499,"body_markdown":"Then maybe flyway properties are missing? Like `spring.flyway.url / spring.flyway.user / spring.flyway.password`. I&#39;m not sure if they are inherited from spring&#39;s datasource properties","body":"Then maybe flyway properties are missing? Like <code>spring.flyway.url &#47; spring.flyway.user &#47; spring.flyway.password</code>. I&#39;m not sure if they are inherited from spring&#39;s datasource properties"}],"answers":[{"tags":[],"owner":{"account_id":19548493,"reputation":470,"user_id":14304675,"display_name":"Ali Momeni"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1619168667,"creation_date":1619168667,"answer_id":67227037,"question_id":67226999,"body_markdown":"you need @Service in top of your Person service class\r\n\r\n```\r\npackage com.example.person.service;\r\n\r\nimport ...\r\n\r\n@Service\r\npublic class PersonService {\r\n\r\n    private final PersonDao personDao;\r\n\r\n    public PersonService(@Qualifier(&quot;postgres&quot;) PersonDao personDao) {\r\n         this.personDao = personDao;\r\n    }\r\n\r\n    public List&lt;Person&gt; getAllPersons() {\r\n        return personDao.selectAllPersons();\r\n    }\r\n\r\n    public Optional&lt;Person&gt; getPersonById(UUID id) {\r\n        return personDao.selectPersonById(id);\r\n    }\r\n}\r\n```","title":"Why do i get the &quot;Could not autowire. No beans of &#39;PersonService&#39; type found.&quot;-error?","body":"<p>you need @Service in top of your Person service class</p>\n<pre><code>package com.example.person.service;\n\nimport ...\n\n@Service\npublic class PersonService {\n\n    private final PersonDao personDao;\n\n    public PersonService(@Qualifier(&quot;postgres&quot;) PersonDao personDao) {\n         this.personDao = personDao;\n    }\n\n    public List&lt;Person&gt; getAllPersons() {\n        return personDao.selectAllPersons();\n    }\n\n    public Optional&lt;Person&gt; getPersonById(UUID id) {\n        return personDao.selectPersonById(id);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17019087,"reputation":736,"user_id":12312156,"display_name":"Faramarz Afzali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619206867,"creation_date":1619206867,"answer_id":67235970,"question_id":67226999,"body_markdown":"Did you try with `@ComponentScan` ?\r\n\r\n``` java\r\npackage aaa.bbb.ccc;\r\n\r\n@SpringBootApplication\r\n@EnableScheduling\r\n@EnableAdminServer\r\n@ComponentScan({ &quot;aaa.bbb.ccc.*&quot; })\r\npublic class Application {}\r\n```\r\n\r\n\r\nMake sure you have `@Repository` and `@Service` appropriately annotated also make sure all your packages are under `aaa.bbb.ccc.`\r\nIn most cases, this setup resolves these kinds of issues.\r\n\r\nLet me know the result.\r\n","title":"Why do i get the &quot;Could not autowire. No beans of &#39;PersonService&#39; type found.&quot;-error?","body":"<p>Did you try with <code>@ComponentScan</code> ?</p>\n<pre class=\"lang-java prettyprint-override\"><code>package aaa.bbb.ccc;\n\n@SpringBootApplication\n@EnableScheduling\n@EnableAdminServer\n@ComponentScan({ &quot;aaa.bbb.ccc.*&quot; })\npublic class Application {}\n</code></pre>\n<p>Make sure you have <code>@Repository</code> and <code>@Service</code> appropriately annotated also make sure all your packages are under <code>aaa.bbb.ccc.</code>\nIn most cases, this setup resolves these kinds of issues.</p>\n<p>Let me know the result.</p>\n"}],"owner":{"account_id":13216928,"reputation":1467,"user_id":9545125,"display_name":"TheStranger"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1622,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1671584394,"creation_date":1619168474,"question_id":67226999,"body_markdown":"I am using `Spring Boot` and I&#39;m trying to create a `REST` api, but I can&#39;t resolve this error:\r\n\r\n&gt; &quot;Could not autowire. No beans of &#39;PersonService&#39; type found.&quot;\r\n\r\nSo in my project I have the following structure:\r\n\r\n     com.example\r\n       person\r\n         controller\r\n            PersonController (class)\r\n         dao\r\n         datasouurce\r\n         model\r\n         service\r\n            PersonService (class)\r\n       car\r\n      CarApplication (Spring Boot runnable class)\r\n\r\nI had a project with only the &#39;car&#39; folder and the `CarApplication.class` was inside the &#39;car&#39; folder and everything worked fine. Now i added the Person folder to the project and moved the `CarApplication.class` one level up because now it has to handle both &#39;car&#39; and &#39;person&#39;. But since doing that I get an error in `PersonController.class`.\r\n\r\nThis is my PersonService.class:\r\n\r\n    package com.example.person.service;\r\n\r\n    import ...\r\n\r\n    public class PersonService {\r\n\r\n        private final PersonDao personDao;\r\n\r\n        public PersonService(@Qualifier(&quot;postgres&quot;) PersonDao personDao) {\r\n             this.personDao = personDao;\r\n        }\r\n\r\n        public List&lt;Person&gt; getAllPersons() {\r\n            return personDao.selectAllPersons();\r\n        }\r\n\r\n        public Optional&lt;Person&gt; getPersonById(UUID id) {\r\n            return personDao.selectPersonById(id);\r\n        }\r\n    }\r\n\r\nThis is the `CarApplication.class`:\r\n\r\n    package com.example;\r\n\r\n    import ...\r\n\r\n    @SpringBootApplication\r\n    @EnableScheduling\r\n    @EnableAdminServer\r\n    public class CarApplication {\r\n\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(CarApplication.class, args);\r\n        }\r\n    }\r\n\r\nAnd last, but not least, this is my `PersonController.class` where the error occurs:\r\n\r\n    package com.example.person.controller;\r\n\r\n    import ...\r\n\r\n    @RequestMapping(&quot;api/person&quot;)\r\n    @RestController\r\n    public class PersonController {\r\n\r\n        private final PersonService personService;\r\n\r\n        @Autowired\r\n        public PersonController(PersonService **personService**) {\r\n            this.personService = personService;\r\n        }\r\n\r\n        @GetMapping\r\n        public List&lt;Person&gt; getAllPersons() {\r\n            return personService.getAllPersons();\r\n        }\r\n\r\n        @GetMapping(path = &quot;{id}&quot;)\r\n        public Person getPersonById(@PathVariable(&quot;id&quot;) UUID id) {\r\n            return personService.getPersonById(id)\r\n                    .orElse(null);\r\n        }\r\n    }\r\n\r\nI have surrounded the variable that throws the error with &quot;**&quot; in the `PersonController.class`.\r\n\r\nThis is my datasource properties from application.properties:\r\n\r\n    spring.datasource.url=jdbc:postgresql://localhost:5432/persondb\r\n    spring.datasource.username=postgres\r\n    spring.datasource.password=password\r\n\r\nI have tried to use `@ComponentScan` to specify which maps should be scanned for beans, but it doesn&#39;t solve it. Also it should already scan the correct files since the `CarApplication.class` has been moved up.  If more info is needed please let me know.\r\n\r\n**UPDATE:**\r\nI have added the `@Service` on top of the `PersonService.class` and it actually removed the red underlining of the eventService variable in `PersonController.class`. But when I run the `CarApplication` it still says:\r\n\r\n    Error creating bean with name &#39;eventService&#39; defined in file [C:\\...\\com\\capasystems\\person\\service\\PersonService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;postgres&#39; defined in file [C:\\...\\com\\capasystems\\person\\dao\\PersonDataAccessService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;flywayInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: dataSource or dataSourceClassName or jdbcUrl is required.","title":"Why do i get the &quot;Could not autowire. No beans of &#39;PersonService&#39; type found.&quot;-error?","body":"<p>I am using <code>Spring Boot</code> and I'm trying to create a <code>REST</code> api, but I can't resolve this error:</p>\n<blockquote>\n<p>&quot;Could not autowire. No beans of 'PersonService' type found.&quot;</p>\n</blockquote>\n<p>So in my project I have the following structure:</p>\n<pre><code> com.example\n   person\n     controller\n        PersonController (class)\n     dao\n     datasouurce\n     model\n     service\n        PersonService (class)\n   car\n  CarApplication (Spring Boot runnable class)\n</code></pre>\n<p>I had a project with only the 'car' folder and the <code>CarApplication.class</code> was inside the 'car' folder and everything worked fine. Now i added the Person folder to the project and moved the <code>CarApplication.class</code> one level up because now it has to handle both 'car' and 'person'. But since doing that I get an error in <code>PersonController.class</code>.</p>\n<p>This is my PersonService.class:</p>\n<pre><code>package com.example.person.service;\n\nimport ...\n\npublic class PersonService {\n\n    private final PersonDao personDao;\n\n    public PersonService(@Qualifier(&quot;postgres&quot;) PersonDao personDao) {\n         this.personDao = personDao;\n    }\n\n    public List&lt;Person&gt; getAllPersons() {\n        return personDao.selectAllPersons();\n    }\n\n    public Optional&lt;Person&gt; getPersonById(UUID id) {\n        return personDao.selectPersonById(id);\n    }\n}\n</code></pre>\n<p>This is the <code>CarApplication.class</code>:</p>\n<pre><code>package com.example;\n\nimport ...\n\n@SpringBootApplication\n@EnableScheduling\n@EnableAdminServer\npublic class CarApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(CarApplication.class, args);\n    }\n}\n</code></pre>\n<p>And last, but not least, this is my <code>PersonController.class</code> where the error occurs:</p>\n<pre><code>package com.example.person.controller;\n\nimport ...\n\n@RequestMapping(&quot;api/person&quot;)\n@RestController\npublic class PersonController {\n\n    private final PersonService personService;\n\n    @Autowired\n    public PersonController(PersonService **personService**) {\n        this.personService = personService;\n    }\n\n    @GetMapping\n    public List&lt;Person&gt; getAllPersons() {\n        return personService.getAllPersons();\n    }\n\n    @GetMapping(path = &quot;{id}&quot;)\n    public Person getPersonById(@PathVariable(&quot;id&quot;) UUID id) {\n        return personService.getPersonById(id)\n                .orElse(null);\n    }\n}\n</code></pre>\n<p>I have surrounded the variable that throws the error with &quot;**&quot; in the <code>PersonController.class</code>.</p>\n<p>This is my datasource properties from application.properties:</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/persondb\nspring.datasource.username=postgres\nspring.datasource.password=password\n</code></pre>\n<p>I have tried to use <code>@ComponentScan</code> to specify which maps should be scanned for beans, but it doesn't solve it. Also it should already scan the correct files since the <code>CarApplication.class</code> has been moved up.  If more info is needed please let me know.</p>\n<p><strong>UPDATE:</strong>\nI have added the <code>@Service</code> on top of the <code>PersonService.class</code> and it actually removed the red underlining of the eventService variable in <code>PersonController.class</code>. But when I run the <code>CarApplication</code> it still says:</p>\n<pre><code>Error creating bean with name 'eventService' defined in file [C:\\...\\com\\capasystems\\person\\service\\PersonService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'postgres' defined in file [C:\\...\\com\\capasystems\\person\\dao\\PersonDataAccessService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: dataSource or dataSourceClassName or jdbcUrl is required.\n</code></pre>\n"},{"tags":["java","json","spring","spring-mvc","junit"],"comments":[{"owner":{"account_id":1336108,"reputation":8046,"user_id":1278839,"accept_rate":69,"display_name":"CodeChimp"},"score":0,"creation_date":1377634163,"post_id":18463186,"comment_id":27154855,"body_markdown":"Do you need the `DT_RowId` field?  If not, why not omit it from your JSON response?","body":"Do you need the <code>DT_RowId</code> field?  If not, why not omit it from your JSON response?"},{"owner":{"account_id":2310590,"reputation":2887,"user_id":2028803,"accept_rate":89,"display_name":"cloudy_weather"},"score":0,"creation_date":1377677057,"post_id":18463186,"comment_id":27168332,"body_markdown":"yes, I need DT_RowId field, otherwise the question would not have any sense","body":"yes, I need DT_RowId field, otherwise the question would not have any sense"},{"owner":{"account_id":1336108,"reputation":8046,"user_id":1278839,"accept_rate":69,"display_name":"CodeChimp"},"score":0,"creation_date":1377689422,"post_id":18463186,"comment_id":27175270,"body_markdown":"It was just a question.  If you are not using the DT_RowId in the client at all, then omitting it would make comparing easier.  Sometimes people don&#39;t see the obvious because they are looking in the wrong place.","body":"It was just a question.  If you are not using the DT_RowId in the client at all, then omitting it would make comparing easier.  Sometimes people don&#39;t see the obvious because they are looking in the wrong place."}],"answers":[{"tags":[],"owner":{"account_id":2000616,"reputation":124,"user_id":1791759,"display_name":"vigneshre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379486498,"creation_date":1379486498,"answer_id":18865479,"question_id":18463186,"body_markdown":"You can use andExpect(content().matches(regex here)), and write a regex to match your users.getUsersJson.mywebapp.response.json content excluding your DT_RowId.","title":"Test Spring MVC response pattern (Ignore a json field in the items in the response )","body":"<p>You can use andExpect(content().matches(regex here)), and write a regex to match your users.getUsersJson.mywebapp.response.json content excluding your DT_RowId.</p>\n"},{"tags":[],"owner":{"account_id":4508881,"reputation":158,"user_id":3665580,"display_name":"Mark"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671584053,"creation_date":1671584053,"answer_id":74870364,"question_id":18463186,"body_markdown":"If you are willing to add an extra dependency to your project, this can be achieved using the [JsonUnit Spring MVC integration][1] and formatting your JSON as below\r\n\r\n    {\r\n        &quot;id&quot;: -1,\r\n        &quot;fieldErrors&quot;: [],\r\n        &quot;aaData&quot;: [\r\n            {\r\n                &quot;id&quot;: 8002,\r\n                &quot;firstname&quot;: &quot;Bob&quot;,\r\n                &quot;lastname&quot;: &quot;Jones&quot;,\r\n                &quot;email&quot;: &quot;bob.jones@gmail.com&quot;,\r\n                &quot;DT_RowId&quot;: &quot;${json-unit.any-number}&quot;\r\n            },\r\n            {\r\n                &quot;id&quot;: 8002,\r\n                &quot;firstname&quot;: &quot;Dan&quot;,\r\n                &quot;lastname&quot;: &quot;Jones&quot;,\r\n                &quot;email&quot;: &quot;dan.jones@gmail.com&quot;,\r\n                &quot;DT_RowId&quot;: &quot;${json-unit.any-number}&quot;\r\n            }\r\n        ]\r\n    }\r\n\r\n\r\n  [1]: https://github.com/lukas-krecan/JsonUnit#spring-mvc-assertions","title":"Test Spring MVC response pattern (Ignore a json field in the items in the response )","body":"<p>If you are willing to add an extra dependency to your project, this can be achieved using the <a href=\"https://github.com/lukas-krecan/JsonUnit#spring-mvc-assertions\" rel=\"nofollow noreferrer\">JsonUnit Spring MVC integration</a> and formatting your JSON as below</p>\n<pre><code>{\n    &quot;id&quot;: -1,\n    &quot;fieldErrors&quot;: [],\n    &quot;aaData&quot;: [\n        {\n            &quot;id&quot;: 8002,\n            &quot;firstname&quot;: &quot;Bob&quot;,\n            &quot;lastname&quot;: &quot;Jones&quot;,\n            &quot;email&quot;: &quot;bob.jones@gmail.com&quot;,\n            &quot;DT_RowId&quot;: &quot;${json-unit.any-number}&quot;\n        },\n        {\n            &quot;id&quot;: 8002,\n            &quot;firstname&quot;: &quot;Dan&quot;,\n            &quot;lastname&quot;: &quot;Jones&quot;,\n            &quot;email&quot;: &quot;dan.jones@gmail.com&quot;,\n            &quot;DT_RowId&quot;: &quot;${json-unit.any-number}&quot;\n        }\n    ]\n}\n</code></pre>\n"}],"owner":{"account_id":2310590,"reputation":2887,"user_id":2028803,"accept_rate":89,"display_name":"cloudy_weather"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2505,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1671584053,"creation_date":1377600032,"question_id":18463186,"body_markdown":"I am testing a spring MVC application.&lt;br&gt;I need to be sure that the response to the browser has a certain pattern, my application sends back some json, and for each Json item there is a field called DT_RowId that I do not want to compare, because DT_RowId contains a random number. Therefore, I would like to compare all the Json body, except DT_RowId and its content. &lt;br&gt;\r\nBy the way a typical occurence of DT_RowId is &quot;DT_RowId&quot;:&quot;8407709537703772&quot;. And a typical json response is: \r\n  \r\n    {&quot;id&quot;:-1,&quot;fieldErrors&quot;:[],&quot;aaData&quot;:[{&quot;id&quot;:8002,&quot;firstname&quot;:&quot;Bob&quot;,&quot;lastname&quot;:&quot;Jones&quot;,&quot;email&quot;:&quot;bob.jones@gmail.com&quot;,&quot;DT_RowId&quot;:&quot;8407709537703772&quot;},{&quot;id&quot;:8002,&quot;firstname:&quot;Dan&quot;,&quot;lastname&quot;:&quot;Jones&quot;,&quot;email&quot;:&quot;dan.jones@gmail.com&quot;,&quot;DT_RowId&quot;:&quot;8404309537701754&quot;}]}\r\n\r\nBelow, my test:\r\n     \r\n    @Test\r\n    public void testGetUsersJson() throws Exception {\r\n\t\tmockMvc.perform(get(&quot;/users&quot;)\r\n\t\t\t.accept(MediaType.APPLICATION_JSON))\r\n\r\n\t\t\t.andDo(print())\r\n\t\t\t\r\n\t\t\t.andExpect(content().contentType(&quot;application/json&quot;))\r\n\t\t\t// How can I modify the line below??\r\n            .andExpect(content().bytes(IOUtils.toByteArray(ctx.getResource(&quot;classpath:responses/users.getUsersJson.mywebapp.response.json&quot;).getInputStream())))\r\n\t\t\t.andExpect(status().isOk())\r\n\t\t\t.andExpect(redirectedUrl(null))\r\n\t\t\t.andExpect(forwardedUrl(null));\r\n\t}\r\n\r\nHow can I modify the code above? I would like to compare all the Json response except the field&quot;DT_RowId&quot;. Any clever ideas?","title":"Test Spring MVC response pattern (Ignore a json field in the items in the response )","body":"<p>I am testing a spring MVC application.<br>I need to be sure that the response to the browser has a certain pattern, my application sends back some json, and for each Json item there is a field called DT_RowId that I do not want to compare, because DT_RowId contains a random number. Therefore, I would like to compare all the Json body, except DT_RowId and its content. <br>\nBy the way a typical occurence of DT_RowId is \"DT_RowId\":\"8407709537703772\". And a typical json response is: </p>\n\n<pre><code>{\"id\":-1,\"fieldErrors\":[],\"aaData\":[{\"id\":8002,\"firstname\":\"Bob\",\"lastname\":\"Jones\",\"email\":\"bob.jones@gmail.com\",\"DT_RowId\":\"8407709537703772\"},{\"id\":8002,\"firstname:\"Dan\",\"lastname\":\"Jones\",\"email\":\"dan.jones@gmail.com\",\"DT_RowId\":\"8404309537701754\"}]}\n</code></pre>\n\n<p>Below, my test:</p>\n\n<pre><code>@Test\npublic void testGetUsersJson() throws Exception {\n    mockMvc.perform(get(\"/users\")\n        .accept(MediaType.APPLICATION_JSON))\n\n        .andDo(print())\n\n        .andExpect(content().contentType(\"application/json\"))\n        // How can I modify the line below??\n        .andExpect(content().bytes(IOUtils.toByteArray(ctx.getResource(\"classpath:responses/users.getUsersJson.mywebapp.response.json\").getInputStream())))\n        .andExpect(status().isOk())\n        .andExpect(redirectedUrl(null))\n        .andExpect(forwardedUrl(null));\n}\n</code></pre>\n\n<p>How can I modify the code above? I would like to compare all the Json response except the field\"DT_RowId\". Any clever ideas?</p>\n"},{"tags":["java","jar"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1671577788,"post_id":74869779,"comment_id":132128390,"body_markdown":"This question does not include any details about the process you use to create a jar. Is it maven? gradle? IDE?","body":"This question does not include any details about the process you use to create a jar. Is it maven? gradle? IDE?"},{"owner":{"account_id":7403799,"reputation":135,"user_id":8132767,"accept_rate":80,"display_name":"old_dd"},"score":0,"creation_date":1671578017,"post_id":74869779,"comment_id":132128429,"body_markdown":"By default, the Java compiler does not include .java files in the JAR file when the project is built. This is because .java files are source code files that are used to build the application, but are not needed at runtime. When the project is compiled, the .java files are transformed into .class files, which contain bytecode that can be executed by the JVM. The .class files are what are included in the JAR file.\n\nYou can tell your build tool to include .java files as a resource, but it will be specific to your build tool.  Are you using Maven or Gradle or something to build this?","body":"By default, the Java compiler does not include .java files in the JAR file when the project is built. This is because .java files are source code files that are used to build the application, but are not needed at runtime. When the project is compiled, the .java files are transformed into .class files, which contain bytecode that can be executed by the JVM. The .class files are what are included in the JAR file.  You can tell your build tool to include .java files as a resource, but it will be specific to your build tool.  Are you using Maven or Gradle or something to build this?"},{"owner":{"account_id":27312274,"reputation":11,"user_id":20827241,"display_name":"user20827241"},"score":0,"creation_date":1671579624,"post_id":74869779,"comment_id":132128675,"body_markdown":"Hi. Thanks for the response. I&#39;m using Maven to build this.","body":"Hi. Thanks for the response. I&#39;m using Maven to build this."},{"owner":{"account_id":27312274,"reputation":11,"user_id":20827241,"display_name":"user20827241"},"score":0,"creation_date":1671581336,"post_id":74869779,"comment_id":132128940,"body_markdown":"Also I&#39;m using Intellij IDE.","body":"Also I&#39;m using Intellij IDE."},{"owner":{"account_id":27312274,"reputation":11,"user_id":20827241,"display_name":"user20827241"},"score":0,"creation_date":1671581494,"post_id":74869779,"comment_id":132128959,"body_markdown":"@old_dd Shouldn&#39;t the .java files from src/main/java be compiled to .class files? Why does maven compile .java file marked as a resource?","body":"@old_dd Shouldn&#39;t the .java files from src/main/java be compiled to .class files? Why does maven compile .java file marked as a resource?"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1671582075,"post_id":74869779,"comment_id":132129061,"body_markdown":"Why do you need to put xxx.java into the jar? Do you want to put the source code into the jar? Do you want to generate a Source Code package? try `maven-source-plugin`","body":"Why do you need to put xxx.java into the jar? Do you want to put the source code into the jar? Do you want to generate a Source Code package? try <code>maven-source-plugin</code>"},{"owner":{"account_id":7403799,"reputation":135,"user_id":8132767,"accept_rate":80,"display_name":"old_dd"},"score":0,"creation_date":1671582433,"post_id":74869779,"comment_id":132129111,"body_markdown":"@user20827241 I can&#39;t really answer why that is the default behavior, but you can tell Maven to use the .java files as a resource.  I can only post once every 30 mins so I&#39;ll submit an answer that has a POM entry for you in a bit. (unless someone else beats me to it)","body":"@user20827241 I can&#39;t really answer why that is the default behavior, but you can tell Maven to use the .java files as a resource.  I can only post once every 30 mins so I&#39;ll submit an answer that has a POM entry for you in a bit. (unless someone else beats me to it)"}],"answers":[{"tags":[],"owner":{"account_id":7403799,"reputation":135,"user_id":8132767,"accept_rate":80,"display_name":"old_dd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671583489,"creation_date":1671583489,"answer_id":74870321,"question_id":74869779,"body_markdown":"To include a .java file in the resources directory of your project and have it available in the jar file as a .java file, you will need to configure your build tool to treat the .java file as a resource rather than compiling it to a .class file.\r\n\r\nIf you are using Maven, you can do this by adding the .java file to the src/main/resources directory and adding the following configuration to your pom.xml file:\r\n\r\n    &lt;build&gt;\r\n      &lt;resources&gt;\r\n        &lt;resource&gt;\r\n          &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n          &lt;includes&gt;\r\n            &lt;include&gt;**/*.java&lt;/include&gt;\r\n          &lt;/includes&gt;\r\n        &lt;/resource&gt;\r\n      &lt;/resources&gt;\r\n    &lt;/build&gt;\r\n\r\nThis will tell Maven to include the .java file in the resources directory when building the project and to include it in the jar file as a resource.","title":"Using java file as a resource in maven project","body":"<p>To include a .java file in the resources directory of your project and have it available in the jar file as a .java file, you will need to configure your build tool to treat the .java file as a resource rather than compiling it to a .class file.</p>\n<p>If you are using Maven, you can do this by adding the .java file to the src/main/resources directory and adding the following configuration to your pom.xml file:</p>\n<pre><code>&lt;build&gt;\n  &lt;resources&gt;\n    &lt;resource&gt;\n      &lt;directory&gt;src/main/resources&lt;/directory&gt;\n      &lt;includes&gt;\n        &lt;include&gt;**/*.java&lt;/include&gt;\n      &lt;/includes&gt;\n    &lt;/resource&gt;\n  &lt;/resources&gt;\n&lt;/build&gt;\n</code></pre>\n<p>This will tell Maven to include the .java file in the resources directory when building the project and to include it in the jar file as a resource.</p>\n"}],"owner":{"account_id":27312274,"reputation":11,"user_id":20827241,"display_name":"user20827241"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671583489,"creation_date":1671577539,"question_id":74869779,"body_markdown":"I am trying to add a Test.java file in the resources directory. Its in the &quot;src/main/resources&quot; folder and marked as resources root in the project. After the jar is created(using Maven build), i&#39;m not able to see this Test.java file. Is it because it&#39;s compiled to a .class file? How do i add a .java file as resource in my project and have it available in jar?\r\n\r\nIf i add a file with txt extension, it&#39;s available in jar but if I use .java extension for the resource file, it&#39;s somehow ignoring it.","title":"Using java file as a resource in maven project","body":"<p>I am trying to add a Test.java file in the resources directory. Its in the &quot;src/main/resources&quot; folder and marked as resources root in the project. After the jar is created(using Maven build), i'm not able to see this Test.java file. Is it because it's compiled to a .class file? How do i add a .java file as resource in my project and have it available in jar?</p>\n<p>If i add a file with txt extension, it's available in jar but if I use .java extension for the resource file, it's somehow ignoring it.</p>\n"},{"tags":["java","spring-boot","jsp","controller"],"comments":[{"owner":{"account_id":10140381,"reputation":11,"user_id":7490334,"display_name":"Vishnu Gautam"},"score":0,"creation_date":1671534500,"post_id":74861807,"comment_id":132115210,"body_markdown":"it will return &quot;warehouse&quot; will take to the JSP page in the name of warehouse.jsp","body":"it will return &quot;warehouse&quot; will take to the JSP page in the name of warehouse.jsp"}],"answers":[{"tags":[],"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671582706,"creation_date":1671580855,"answer_id":74870100,"question_id":74861807,"body_markdown":"this is not JSTL problems, your error message is `bean allShoes not found within scope`\r\n\r\nyour controller just create a object `allShoes`, but does not pass it to anywhere or store it in somewhere. your jsp can not get bean `allShoes`.\r\n\r\ntry this , I am test ok, in Spring Boot 2.x\r\nI use `List&lt;ShoeData&gt; allShoes=new ArrayList&lt;ShoeData&gt;();` and `allShoes.add(new ShoeData(&quot;101&quot;,&quot;Red&quot;));` for temp test data.\r\n\r\n\r\n    @RequestMapping(value=&quot;/getallitem&quot;, method=RequestMethod.GET)\r\n        public String getAllItem(Map&lt;String, Object&gt; model) {\r\n            //List&lt;ShoeData&gt; allShoes = resource.getAllShoes();\r\n            List&lt;ShoeData&gt; allShoes=new ArrayList&lt;ShoeData&gt;();\r\n            allShoes.add(new ShoeData(&quot;101&quot;,&quot;Red&quot;));\r\n            allShoes.add(new ShoeData(&quot;102&quot;,&quot;Blue&quot;));\r\n            allShoes.add(new ShoeData(&quot;103&quot;,&quot;Black&quot;));\r\n            model.put(&quot;allShoes&quot;, allShoes);\r\n            return &quot;warehouse&quot;;\r\n        }\r\n\r\n","title":"how to iterate a list without using JSTL in JSP?","body":"<p>this is not JSTL problems, your error message is <code>bean allShoes not found within scope</code></p>\n<p>your controller just create a object <code>allShoes</code>, but does not pass it to anywhere or store it in somewhere. your jsp can not get bean <code>allShoes</code>.</p>\n<p>try this , I am test ok, in Spring Boot 2.x\nI use <code>List&lt;ShoeData&gt; allShoes=new ArrayList&lt;ShoeData&gt;();</code> and <code>allShoes.add(new ShoeData(&quot;101&quot;,&quot;Red&quot;));</code> for temp test data.</p>\n<pre><code>@RequestMapping(value=&quot;/getallitem&quot;, method=RequestMethod.GET)\n    public String getAllItem(Map&lt;String, Object&gt; model) {\n        //List&lt;ShoeData&gt; allShoes = resource.getAllShoes();\n        List&lt;ShoeData&gt; allShoes=new ArrayList&lt;ShoeData&gt;();\n        allShoes.add(new ShoeData(&quot;101&quot;,&quot;Red&quot;));\n        allShoes.add(new ShoeData(&quot;102&quot;,&quot;Blue&quot;));\n        allShoes.add(new ShoeData(&quot;103&quot;,&quot;Black&quot;));\n        model.put(&quot;allShoes&quot;, allShoes);\n        return &quot;warehouse&quot;;\n    }\n</code></pre>\n"}],"owner":{"account_id":10140381,"reputation":11,"user_id":7490334,"display_name":"Vishnu Gautam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74870100,"answer_count":1,"score":0,"last_activity_date":1671582706,"creation_date":1671532895,"question_id":74861807,"body_markdown":"I face an error below when I try to iterate a list from a controller without using JSTL in spring boot.\r\n\r\n&gt;Whitelabel Error Page\r\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\r\nTue Dec 20 16:03:05 IST 2022\r\nThere was an unexpected error (type=Internal Server Error, status=500).\r\nbean allShoes not found within scope\r\njava.lang.InstantiationException: bean allShoes not found within scope\r\n\r\n**my JSP code is:**\r\n```\r\n\t&lt;jsp:useBean id=&quot;allShoes&quot; type=&quot;java.util.List&quot; scope=&quot;request&quot;&gt;&lt;/jsp:useBean&gt;\r\n\t\r\n&lt;%\r\n\t\tfor(Iterator it = allShoes.iterator(); it.hasNext();){\r\n\t\t\tShoeData shoe = (ShoeData) it.next();\r\n\t%&gt;\r\n\t\r\n\t&lt;%= shoe.getId() %&gt;\r\n\t&lt;%= shoe.getColor() %&gt;\r\n\t\r\n\t&lt;%} %&gt; \r\n```\r\n\r\n**my Controller code is:**\r\n```\r\n\t@RequestMapping(value=&quot;/getallitem&quot;, method=RequestMethod.GET)\r\n\tpublic String getAllItem() {\r\n\t\tList&lt;ShoeData&gt; allShoes = resource.getAllShoes();\r\n\t\treturn &quot;warehouse&quot;;\r\n\t}\r\n```\r\n\r\nhow can i solve this issue without using JSTL?","title":"how to iterate a list without using JSTL in JSP?","body":"<p>I face an error below when I try to iterate a list from a controller without using JSTL in spring boot.</p>\n<blockquote>\n<p>Whitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\nTue Dec 20 16:03:05 IST 2022\nThere was an unexpected error (type=Internal Server Error, status=500).\nbean allShoes not found within scope\njava.lang.InstantiationException: bean allShoes not found within scope</p>\n</blockquote>\n<p><strong>my JSP code is:</strong></p>\n<pre><code>    &lt;jsp:useBean id=&quot;allShoes&quot; type=&quot;java.util.List&quot; scope=&quot;request&quot;&gt;&lt;/jsp:useBean&gt;\n    \n&lt;%\n        for(Iterator it = allShoes.iterator(); it.hasNext();){\n            ShoeData shoe = (ShoeData) it.next();\n    %&gt;\n    \n    &lt;%= shoe.getId() %&gt;\n    &lt;%= shoe.getColor() %&gt;\n    \n    &lt;%} %&gt; \n</code></pre>\n<p><strong>my Controller code is:</strong></p>\n<pre><code>    @RequestMapping(value=&quot;/getallitem&quot;, method=RequestMethod.GET)\n    public String getAllItem() {\n        List&lt;ShoeData&gt; allShoes = resource.getAllShoes();\n        return &quot;warehouse&quot;;\n    }\n</code></pre>\n<p>how can i solve this issue without using JSTL?</p>\n"},{"tags":["java","certificate","keytool","jarsigner","jar-signing"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1555926483,"post_id":40156219,"comment_id":98253976,"body_markdown":"This question is not answerable without seeing your `ruleset.xml`.","body":"This question is not answerable without seeing your <code>ruleset.xml</code>."}],"answers":[{"tags":[],"owner":{"account_id":1251781,"reputation":83,"user_id":1212064,"accept_rate":10,"display_name":"KingBain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1486587258,"creation_date":1486587258,"answer_id":42123401,"question_id":40156219,"body_markdown":"Try this, \r\n\r\neither use an older JDK to sign your DSR jar ... for example the 1.6.0_13 JDK\r\n\r\nOR \r\n\r\nwith your newer JDK add this to your jarsigner command `-tsadigestalg SHA1` \r\n\r\n    jarsigner -tsadigestalg SHA1 -verbose -keystore mykeystore.jks -storepass password -keypass password -tsa http://timestamp.comodoca.com/rfc3161 DeploymentRuleSet.jar testsign -J-Dhttp.proxyHost=xxx.xxx.COM -J-Dhttp.proxyPort=8080\r\n\r\n\r\n\r\nOracle mentions something about it in this article \r\n\r\nJava SE from 7 Update 76 and Earlier Throws a JARSigningException with Jar Files Signed Using the &#39;-tsa&#39; Option by Versions of Java SE 8u92-b31 and Later(2191197.1)\r\nhttps://support.oracle.com/epmos/faces/DocContentDisplay?id=2191197.1\r\n\r\nIts what worked for me","title":"Can not verify rule set jar","body":"<p>Try this, </p>\n\n<p>either use an older JDK to sign your DSR jar ... for example the 1.6.0_13 JDK</p>\n\n<p>OR </p>\n\n<p>with your newer JDK add this to your jarsigner command <code>-tsadigestalg SHA1</code> </p>\n\n<pre><code>jarsigner -tsadigestalg SHA1 -verbose -keystore mykeystore.jks -storepass password -keypass password -tsa http://timestamp.comodoca.com/rfc3161 DeploymentRuleSet.jar testsign -J-Dhttp.proxyHost=xxx.xxx.COM -J-Dhttp.proxyPort=8080\n</code></pre>\n\n<p>Oracle mentions something about it in this article </p>\n\n<p>Java SE from 7 Update 76 and Earlier Throws a JARSigningException with Jar Files Signed Using the '-tsa' Option by Versions of Java SE 8u92-b31 and Later(2191197.1)\n<a href=\"https://support.oracle.com/epmos/faces/DocContentDisplay?id=2191197.1\" rel=\"nofollow noreferrer\">https://support.oracle.com/epmos/faces/DocContentDisplay?id=2191197.1</a></p>\n\n<p>Its what worked for me</p>\n"}],"owner":{"account_id":7079855,"reputation":273,"user_id":5418637,"accept_rate":22,"display_name":"jack"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17235,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1671580955,"creation_date":1476970989,"question_id":40156219,"body_markdown":"Another try to open a message here\r\n\r\n\r\nMy company wants to use the deployment rule set for multiple java versions usage.\r\n\r\nCurrenly we have 1.6.0_13, 1.7.0_51 and 1.8.0_66\r\nJava 8 is what selected in the System tab of the java control home\r\nUser tab consists of java 6, 7 and 8\r\n\r\nall the settings in deployment.properties are default and point to correct locations or values\r\n\r\n\r\nenv variables set\r\njava_home =&quot;C:\\Program Files (x86)\\Java\\jdk1.8.0_66\\bin&quot;\r\npath = set to correct locations\r\n\r\nThe steps i followed are below,\r\n\r\n1. create the keystore\r\nkeytool -genkey -dname &quot;cn=drstest, ou=abac, o=mycompany, c=SE&quot; -keyalg RSA -keysize 2048 -alias testsign -keypass password -keystore mykeystore.jks -storepass password -validity 1460\r\n\r\n2. downloaded the csr file\r\nkeytool -certreq -alias testsign -file certreq.csr -keystore mykeystore.jks -storepass password\r\n\r\n3. Used the csr file and sent it to my company&#39;s CA for signing.\r\n\r\n4. Received two files: cer and p7b files from CA\r\n\r\n5. Import CSR reply:\r\nkeytool -import -trustcacerts -file certnew.p7b -alias testsign -keystore mykeystore.jks -storepass password\r\n\r\n6. Downloaded and added required certificates of the chain in the keystore.\r\n\r\n7. created the ruleset.xml\r\n\r\n8. created the jar file using jar.exe\r\njar.exe -cvf DeploymentRuleSet.jar ruleset.xml\r\n\r\n9. signed the jar file the keystore\r\njarsigner -keystore mykeystore.jks DeploymentRuleSet.jar testsign\r\n\r\n10. added the time stamp\r\njarsigner -verbose -keystore mykeystore.jks -storepass password -keypass password -tsa http://timestamp.comodoca.com/rfc3161 DeploymentRuleSet.jar testsign -J-Dhttp.proxyHost=xxx.xxx.COM -J-Dhttp.proxyPort=8080\r\n\r\n11. Placed the DeploymentRuleSet.jar in the C:\\Windows\\Sun\\Java\\Deployment folder\r\n\r\n\r\nNow when i test using the java control home\r\nControl panel -&gt; Java -&gt; Security tab -&gt; View active deployment rule set -&gt; \r\n\r\ni get the message as \r\n&quot;DeploymentRuleset.jar is invalid&quot;\r\n&quot;Can not verify rule set jar&quot;\r\n\r\nI can see my certificate in the &quot;View Certificate details&quot;\r\n\r\n\r\nNow i have spents so many hrs and have gone through so many webpages, and still dont know why it is invalid.\r\n\r\nThis is not rocket science, but still i am stuck.\r\n\r\nCan some one point out where i am going wrong.\r\n\r\n********* i am not sure if there are any steps for cacerts file, if i have missed something for cacerts please guide me*************\r\n\r\nRegards","title":"Can not verify rule set jar","body":"<p>Another try to open a message here</p>\n\n<p>My company wants to use the deployment rule set for multiple java versions usage.</p>\n\n<p>Currenly we have 1.6.0_13, 1.7.0_51 and 1.8.0_66\nJava 8 is what selected in the System tab of the java control home\nUser tab consists of java 6, 7 and 8</p>\n\n<p>all the settings in deployment.properties are default and point to correct locations or values</p>\n\n<p>env variables set\njava_home =\"C:\\Program Files (x86)\\Java\\jdk1.8.0_66\\bin\"\npath = set to correct locations</p>\n\n<p>The steps i followed are below,</p>\n\n<ol>\n<li><p>create the keystore\nkeytool -genkey -dname \"cn=drstest, ou=abac, o=mycompany, c=SE\" -keyalg RSA -keysize 2048 -alias testsign -keypass password -keystore mykeystore.jks -storepass password -validity 1460</p></li>\n<li><p>downloaded the csr file\nkeytool -certreq -alias testsign -file certreq.csr -keystore mykeystore.jks -storepass password</p></li>\n<li><p>Used the csr file and sent it to my company's CA for signing.</p></li>\n<li><p>Received two files: cer and p7b files from CA</p></li>\n<li><p>Import CSR reply:\nkeytool -import -trustcacerts -file certnew.p7b -alias testsign -keystore mykeystore.jks -storepass password</p></li>\n<li><p>Downloaded and added required certificates of the chain in the keystore.</p></li>\n<li><p>created the ruleset.xml</p></li>\n<li><p>created the jar file using jar.exe\njar.exe -cvf DeploymentRuleSet.jar ruleset.xml</p></li>\n<li><p>signed the jar file the keystore\njarsigner -keystore mykeystore.jks DeploymentRuleSet.jar testsign</p></li>\n<li><p>added the time stamp\njarsigner -verbose -keystore mykeystore.jks -storepass password -keypass password -tsa <a href=\"http://timestamp.comodoca.com/rfc3161\" rel=\"nofollow noreferrer\">http://timestamp.comodoca.com/rfc3161</a> DeploymentRuleSet.jar testsign -J-Dhttp.proxyHost=xxx.xxx.COM -J-Dhttp.proxyPort=8080</p></li>\n<li><p>Placed the DeploymentRuleSet.jar in the C:\\Windows\\Sun\\Java\\Deployment folder</p></li>\n</ol>\n\n<p>Now when i test using the java control home\nControl panel -> Java -> Security tab -> View active deployment rule set -> </p>\n\n<p>i get the message as \n\"DeploymentRuleset.jar is invalid\"\n\"Can not verify rule set jar\"</p>\n\n<p>I can see my certificate in the \"View Certificate details\"</p>\n\n<p>Now i have spents so many hrs and have gone through so many webpages, and still dont know why it is invalid.</p>\n\n<p>This is not rocket science, but still i am stuck.</p>\n\n<p>Can some one point out where i am going wrong.</p>\n\n<p>********* i am not sure if there are any steps for cacerts file, if i have missed something for cacerts please guide me*************</p>\n\n<p>Regards</p>\n"},{"tags":["java","list","java-stream","compare"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1671571166,"creation_date":1671571166,"answer_id":74869020,"question_id":74868895,"body_markdown":"You can make the code shorter with `filter` and `count`, but using loops is cleaner here. `Stream`s are not always the solution.\r\n\r\n```java\r\nreturn Arrays.asList(\r\n\tIntStream.range(0, Math.min(a.size(), b.size())).filter(i -&gt; a.get(i) &gt; b.get(i)).count(),\r\n\tIntStream.range(0, Math.min(a.size(), b.size())).filter(i -&gt; a.get(i) &lt; b.get(i)).count()\r\n);\r\n```","title":"How can i compare two lists by elements using Stream Java 8?","body":"<p>You can make the code shorter with <code>filter</code> and <code>count</code>, but using loops is cleaner here. <code>Stream</code>s are not always the solution.</p>\n<pre class=\"lang-java prettyprint-override\"><code>return Arrays.asList(\n    IntStream.range(0, Math.min(a.size(), b.size())).filter(i -&gt; a.get(i) &gt; b.get(i)).count(),\n    IntStream.range(0, Math.min(a.size(), b.size())).filter(i -&gt; a.get(i) &lt; b.get(i)).count()\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671574902,"creation_date":1671574514,"answer_id":74869412,"question_id":74868895,"body_markdown":"This could well be overkill for your case but you could handle this as a stream reduction:\r\n\r\n    class Counter {\r\n        private int bob = 0;\r\n        private int alice = 0;\r\n\r\n        public void accept(int index) {\r\n            if (a[index] &gt; b[index])\r\n                alice++;\r\n            else if (a[index] &lt; b[index])\r\n                bob++;\r\n        }\r\n    }\r\n\r\n    Counter counter = IntStream.range(0, a.size()).boxed().reduce(new Counter(), Counter::accept);\r\n\r\nAnother alternative is to take advantage of `Integer.compare`:\r\n\r\n    List&lt;Integer&gt; comparisons = IntStream.range(0, a.size()).map(i -&gt; Integer.compare(a[i], b[i]).toList();\r\n    long bob = comparisons.stream().filter(n -&gt; n &lt; 0).count();\r\n    int alice = comparisons.stream().filter(n -&gt; n &gt; 0).count();","title":"How can i compare two lists by elements using Stream Java 8?","body":"<p>This could well be overkill for your case but you could handle this as a stream reduction:</p>\n<pre><code>class Counter {\n    private int bob = 0;\n    private int alice = 0;\n\n    public void accept(int index) {\n        if (a[index] &gt; b[index])\n            alice++;\n        else if (a[index] &lt; b[index])\n            bob++;\n    }\n}\n\nCounter counter = IntStream.range(0, a.size()).boxed().reduce(new Counter(), Counter::accept);\n</code></pre>\n<p>Another alternative is to take advantage of <code>Integer.compare</code>:</p>\n<pre><code>List&lt;Integer&gt; comparisons = IntStream.range(0, a.size()).map(i -&gt; Integer.compare(a[i], b[i]).toList();\nlong bob = comparisons.stream().filter(n -&gt; n &lt; 0).count();\nint alice = comparisons.stream().filter(n -&gt; n &gt; 0).count();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1671580438,"creation_date":1671579523,"answer_id":74869985,"question_id":74868895,"body_markdown":"# Java 8 - `partitioningBy()` &amp; `counting()`\r\n\r\nOne of the way to solve this problem with streams performing **only one iteration** over the given set of data is to make use of the built Collectors `partitioningBy()` and `counting()`:\r\n\r\n    public static List&lt;Integer&gt; compareTriplets(List&lt;Integer&gt; a, List&lt;Integer&gt; b) {\r\n        \r\n        return IntStream.range(0, a.size())\r\n            .map(i -&gt; a.get(i) - b.get(i))\r\n            .filter(i -&gt; i != 0)\r\n            .boxed()\r\n            .collect(Collectors.collectingAndThen(\r\n                Collectors.partitioningBy(i -&gt; i &gt; 0, Collectors.counting()),\r\n                map -&gt; Arrays.asList(map.get(true).intValue(), map.get(false).intValue())\r\n            ));\r\n    }\r\n\r\n# Java 8 - custom `Collector`\r\n\r\nAnother option would be to define a custom Collector using static factory method `Collector.of()`. As well as previous approach, it would allow to process the data using a single stream:\r\n\r\n    public static List&lt;Integer&gt; compareTriplets(List&lt;Integer&gt; a, List&lt;Integer&gt; b) {\r\n        \r\n        return IntStream.range(0, a.size())\r\n            .boxed()\r\n            .collect(Collector.of(\r\n                () -&gt; new int[]{0, 0},\r\n                (int[] score, Integer i) -&gt; {\r\n                    if (a.get(i) &gt; b.get(i)) score[0]++;\r\n                    if (b.get(i) &gt; a.get(i)) score[1]++;\r\n                },\r\n                (int[] left, int[] right) -&gt; {\r\n                    Arrays.setAll(left, i -&gt; left[i] + right[i]);\r\n                    return left;\r\n                },\r\n                arr -&gt; Arrays.asList(arr[0], arr[1])\r\n            ));\r\n    }\r\n\r\n# Java 12 - Collector `teeing()`\r\n\r\nAnother option that would allow to produce the result using a single stream is Java 12 Collector `teeing()`, which expects two downstream Collectors and a Function which performs a final transformation by merging the results they produced.\r\n\r\n    public static List&lt;Integer&gt; compareTriplets(List&lt;Integer&gt; a, List&lt;Integer&gt; b) {\r\n        \r\n        return IntStream.range(0, a.size())\r\n            .boxed()\r\n            .collect(Collectors.teeing(\r\n                Collectors.filtering(i -&gt; a.get(i) &gt; b.get(i), Collectors.counting()),\r\n                Collectors.filtering(i -&gt; b.get(i) &gt; a.get(i), Collectors.counting()),\r\n                (alice, bob) -&gt; List.of(alice.intValue(), bob.intValue())\r\n            ));\r\n    }","title":"How can i compare two lists by elements using Stream Java 8?","body":"<h1>Java 8 - <code>partitioningBy()</code> &amp; <code>counting()</code></h1>\n<p>One of the way to solve this problem with streams performing <strong>only one iteration</strong> over the given set of data is to make use of the built Collectors <code>partitioningBy()</code> and <code>counting()</code>:</p>\n<pre><code>public static List&lt;Integer&gt; compareTriplets(List&lt;Integer&gt; a, List&lt;Integer&gt; b) {\n    \n    return IntStream.range(0, a.size())\n        .map(i -&gt; a.get(i) - b.get(i))\n        .filter(i -&gt; i != 0)\n        .boxed()\n        .collect(Collectors.collectingAndThen(\n            Collectors.partitioningBy(i -&gt; i &gt; 0, Collectors.counting()),\n            map -&gt; Arrays.asList(map.get(true).intValue(), map.get(false).intValue())\n        ));\n}\n</code></pre>\n<h1>Java 8 - custom <code>Collector</code></h1>\n<p>Another option would be to define a custom Collector using static factory method <code>Collector.of()</code>. As well as previous approach, it would allow to process the data using a single stream:</p>\n<pre><code>public static List&lt;Integer&gt; compareTriplets(List&lt;Integer&gt; a, List&lt;Integer&gt; b) {\n    \n    return IntStream.range(0, a.size())\n        .boxed()\n        .collect(Collector.of(\n            () -&gt; new int[]{0, 0},\n            (int[] score, Integer i) -&gt; {\n                if (a.get(i) &gt; b.get(i)) score[0]++;\n                if (b.get(i) &gt; a.get(i)) score[1]++;\n            },\n            (int[] left, int[] right) -&gt; {\n                Arrays.setAll(left, i -&gt; left[i] + right[i]);\n                return left;\n            },\n            arr -&gt; Arrays.asList(arr[0], arr[1])\n        ));\n}\n</code></pre>\n<h1>Java 12 - Collector <code>teeing()</code></h1>\n<p>Another option that would allow to produce the result using a single stream is Java 12 Collector <code>teeing()</code>, which expects two downstream Collectors and a Function which performs a final transformation by merging the results they produced.</p>\n<pre><code>public static List&lt;Integer&gt; compareTriplets(List&lt;Integer&gt; a, List&lt;Integer&gt; b) {\n    \n    return IntStream.range(0, a.size())\n        .boxed()\n        .collect(Collectors.teeing(\n            Collectors.filtering(i -&gt; a.get(i) &gt; b.get(i), Collectors.counting()),\n            Collectors.filtering(i -&gt; b.get(i) &gt; a.get(i), Collectors.counting()),\n            (alice, bob) -&gt; List.of(alice.intValue(), bob.intValue())\n        ));\n}\n</code></pre>\n"}],"owner":{"account_id":26079693,"reputation":39,"user_id":19778077,"display_name":"Denis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":538,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1671580438,"creation_date":1671570272,"question_id":74868895,"body_markdown":"*This is a simple task from some website.*\r\n\r\nIf a\\[i\\] \\&gt; b\\[i\\], then Alice is awarded 1 point. If a\\[i\\] \\&lt; b\\[i\\], then Bob is awarded 1 point.\r\nIf a\\[i\\] = b\\[i\\], then neither person receives a point.\r\nReturn: Alice&#39;s score is in the first position, and Bob&#39;s score is in the second.\r\n\r\n*Can I write this code using stream?*\r\n\r\n```\r\npublic static List&lt;Integer&gt; compareTriplets(List&lt;Integer&gt; a, List&lt;Integer&gt; b) {\r\n    int alice = 0;\r\n    int bob = 0;\r\n    for (int i = 0; i &lt; a.size(); i++) {\r\n        if (a.get(i) &gt; b.get(i)) \r\n            alice++;\r\n        else if (a.get(i) &lt; b.get(i)) \r\n            bob++;\r\n    }\r\n    return Arrays.asList(alice, bob);\r\n}\r\n```\r\n\r\n**...**\r\n\r\n*After a little thought, I wrote this code:*\r\n\r\n```\r\npublic static List&lt;Integer&gt; compareTriplets(List&lt;Integer&gt; a, List&lt;Integer&gt; b) {\r\n    Integer[] result = {0, 0};\r\n    IntStream.range(0, Math.min(a.size(), b.size()))\r\n            .map(i -&gt; a.get(i).compareTo(b.get(i)))\r\n            .forEach(i -&gt; {\r\n                if (i &gt; 0) result[0]++;\r\n                else if (i &lt; 0) result[1]++;\r\n            });\r\n    return Arrays.asList(result);\r\n}\r\n```\r\n\r\nBut this code is not much more concise.\r\nAre there ways to make the code more beautiful?","title":"How can i compare two lists by elements using Stream Java 8?","body":"<p><em>This is a simple task from some website.</em></p>\n<p>If a[i] &gt; b[i], then Alice is awarded 1 point. If a[i] &lt; b[i], then Bob is awarded 1 point.\nIf a[i] = b[i], then neither person receives a point.\nReturn: Alice's score is in the first position, and Bob's score is in the second.</p>\n<p><em>Can I write this code using stream?</em></p>\n<pre><code>public static List&lt;Integer&gt; compareTriplets(List&lt;Integer&gt; a, List&lt;Integer&gt; b) {\n    int alice = 0;\n    int bob = 0;\n    for (int i = 0; i &lt; a.size(); i++) {\n        if (a.get(i) &gt; b.get(i)) \n            alice++;\n        else if (a.get(i) &lt; b.get(i)) \n            bob++;\n    }\n    return Arrays.asList(alice, bob);\n}\n</code></pre>\n<p><strong>...</strong></p>\n<p><em>After a little thought, I wrote this code:</em></p>\n<pre><code>public static List&lt;Integer&gt; compareTriplets(List&lt;Integer&gt; a, List&lt;Integer&gt; b) {\n    Integer[] result = {0, 0};\n    IntStream.range(0, Math.min(a.size(), b.size()))\n            .map(i -&gt; a.get(i).compareTo(b.get(i)))\n            .forEach(i -&gt; {\n                if (i &gt; 0) result[0]++;\n                else if (i &lt; 0) result[1]++;\n            });\n    return Arrays.asList(result);\n}\n</code></pre>\n<p>But this code is not much more concise.\nAre there ways to make the code more beautiful?</p>\n"},{"tags":["java","jackson","objectmapper"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1671581798,"post_id":74870055,"comment_id":132129023,"body_markdown":"You should continue to provide `List&lt;String&gt; names` and provide the `Map` under a different name -- the question you linked to discusses deserialising and assumes that you can change the consumer of the data.","body":"You should continue to provide <code>List&lt;String&gt; names</code> and provide the <code>Map</code> under a different name -- the question you linked to discusses deserialising and assumes that you can change the consumer of the data."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1671644956,"post_id":74870055,"comment_id":132145159,"body_markdown":"Are you asking how to handle both `List&lt;String&gt;` and `Map&lt;String, List&lt;String&gt;&gt;` in the client consuming the JSON ?","body":"Are you asking how to handle both <code>List&lt;String&gt;</code> and <code>Map&lt;String, List&lt;String&gt;&gt;</code> in the client consuming the JSON ?"},{"owner":{"account_id":4207566,"reputation":558,"user_id":3446129,"accept_rate":80,"display_name":"Sachin Kariyattin"},"score":0,"creation_date":1671648218,"post_id":74870055,"comment_id":132146123,"body_markdown":"I basically want to know how can the migration from `List&lt;String&gt;` to `Map&lt;String. List&lt;String&gt;&gt;`happen without breaking the client","body":"I basically want to know how can the migration from <code>List&lt;String&gt;</code> to <code>Map&lt;String. List&lt;String&gt;&gt;</code>happen without breaking the client"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1671655591,"post_id":74870055,"comment_id":132148151,"body_markdown":"If you can&#39;t change the client, you&#39;ll have to keep providing the data it expects.","body":"If you can&#39;t change the client, you&#39;ll have to keep providing the data it expects."}],"owner":{"account_id":4207566,"reputation":558,"user_id":3446129,"accept_rate":80,"display_name":"Sachin Kariyattin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671580392,"creation_date":1671580392,"question_id":74870055,"body_markdown":"I am making a data type change to an existing class A which is consumed by another client. Any changes to classA that are not updated on the client side will cause deserialization failures on the client side as its an incompatible change\r\n\r\nex:\r\n```\r\npublic class classA {\r\n    String id;\r\n    List&lt;String&gt; names;\r\n}\r\n```\r\nChanging `names` to the following will cause failures on the client side when deserializing as client will look for `List&lt;String&gt; names`\r\n\r\n```\r\npublic class classA {\r\n    String id;\r\n    Map&lt;String, List&lt;String&gt;&gt; names;\r\n\r\n}\r\n```\r\n\r\nWhat is the best practice to handle incompatible changes like these? I have referred a related [question][1]. Is there any cleaner way to handle this?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/37812973/deserializing-attributes-of-same-name-but-different-types-in-jackson","title":"Jackson - Deserializing after changing the data type of a class","body":"<p>I am making a data type change to an existing class A which is consumed by another client. Any changes to classA that are not updated on the client side will cause deserialization failures on the client side as its an incompatible change</p>\n<p>ex:</p>\n<pre><code>public class classA {\n    String id;\n    List&lt;String&gt; names;\n}\n</code></pre>\n<p>Changing <code>names</code> to the following will cause failures on the client side when deserializing as client will look for <code>List&lt;String&gt; names</code></p>\n<pre><code>public class classA {\n    String id;\n    Map&lt;String, List&lt;String&gt;&gt; names;\n\n}\n</code></pre>\n<p>What is the best practice to handle incompatible changes like these? I have referred a related <a href=\"https://stackoverflow.com/questions/37812973/deserializing-attributes-of-same-name-but-different-types-in-jackson\">question</a>. Is there any cleaner way to handle this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1621629459,"post_id":67643553,"comment_id":119563408,"body_markdown":"&quot;how can I undo this modification by modifying the file?&quot; - I&#39;ve just looked at the file, and the very option is `INDENT_SIZE` with a value of 2... I strongly suspect that setting that to 4 (and maybe `TAB_SIZE`) will do what you want.","body":"&quot;how can I undo this modification by modifying the file?&quot; - I&#39;ve just looked at the file, and the very option is <code>INDENT_SIZE</code> with a value of 2... I strongly suspect that setting that to 4 (and maybe <code>TAB_SIZE</code>) will do what you want."},{"owner":{"account_id":8821600,"reputation":568,"user_id":15059968,"display_name":"Andrei Kulik"},"score":0,"creation_date":1621633254,"post_id":67643553,"comment_id":119564346,"body_markdown":"Ohh thank you. Forgive me for my carelessness and my level of English.  I did a lot of tries to find words &#39;tabulation&#39; or &#39;space&#39; in this document, but I found out about the &#39;indent&#39; word only when I wrote a question. Unfortunately, I can&#39;t remove this question.","body":"Ohh thank you. Forgive me for my carelessness and my level of English.  I did a lot of tries to find words &#39;tabulation&#39; or &#39;space&#39; in this document, but I found out about the &#39;indent&#39; word only when I wrote a question. Unfortunately, I can&#39;t remove this question."}],"answers":[{"tags":[],"owner":{"account_id":15579758,"reputation":187,"user_id":11239910,"display_name":"eka Koevin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1621629376,"creation_date":1621629376,"answer_id":67643568,"question_id":67643553,"body_markdown":"To allow long lines become shorter to make more free room on small screens.","title":"What is the point of decreasing the indent size?","body":"<p>To allow long lines become shorter to make more free room on small screens.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671579810,"creation_date":1671579810,"answer_id":74870010,"question_id":67643553,"body_markdown":"The original 4 spaces indentation was intentionally introduced with the design of java (whereas the indentation of C/C++ was normally less), for a better overview and in order to punish too much nesting of blocks, using more sub-methods. And indeed this indentation does not hurt.\r\n\r\nGoogle&#39;s later Java code style is an actionistic _reform_, which such a huge player like Google can push.\r\n\r\nFor a regular indention of code of 4 indents it would save only 8 characters.\r\nThis has minor effect when also considering the length of field/variable/method names.\r\n\r\nSo I would call the Google style hubris, a mistake for a language which has strong conventions. Other languages have more variations, especially on placement of parentheses and on spacing.\r\n\r\nBut one should adapt to the convention of the one of both, that is used in the firm. Google&#39;s style did not generally replace the old style, even though Android is a huge part on Google&#39;s home turf.\r\n\r\n\r\n","title":"What is the point of decreasing the indent size?","body":"<p>The original 4 spaces indentation was intentionally introduced with the design of java (whereas the indentation of C/C++ was normally less), for a better overview and in order to punish too much nesting of blocks, using more sub-methods. And indeed this indentation does not hurt.</p>\n<p>Google's later Java code style is an actionistic <em>reform</em>, which such a huge player like Google can push.</p>\n<p>For a regular indention of code of 4 indents it would save only 8 characters.\nThis has minor effect when also considering the length of field/variable/method names.</p>\n<p>So I would call the Google style hubris, a mistake for a language which has strong conventions. Other languages have more variations, especially on placement of parentheses and on spacing.</p>\n<p>But one should adapt to the convention of the one of both, that is used in the firm. Google's style did not generally replace the old style, even though Android is a huge part on Google's home turf.</p>\n"}],"owner":{"account_id":8821600,"reputation":568,"user_id":15059968,"display_name":"Andrei Kulik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":67643568,"answer_count":2,"score":0,"last_activity_date":1671579810,"creation_date":1621629280,"question_id":67643553,"body_markdown":"On these screenshots, you can see the difference between indent size.\r\nThe first one it&#39;s the default Code Style provided by Idea:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd the second one it&#39;s a [Google Java Code Style][2] (I renamed it a little but it&#39;s the same default file):\r\n\r\n[![enter image description here][3]][3]\r\n\r\nThe second screen clearly shows that the indents a smaller in a half. \r\n\r\nWhat&#39;s the point in reducing them? And the second question is, how can I undo this modification by modifying the file?\r\n\r\n  [1]: https://i.stack.imgur.com/4FXeJ.png\r\n  [2]: https://github.com/akulik512/intellij-settings-repository/blob/master/styleguide/intellij-java-google-style-v2.xml\r\n  [3]: https://i.stack.imgur.com/jkNkj.png","title":"What is the point of decreasing the indent size?","body":"<p>On these screenshots, you can see the difference between indent size.\nThe first one it's the default Code Style provided by Idea:</p>\n<p><a href=\"https://i.stack.imgur.com/4FXeJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4FXeJ.png\" alt=\"enter image description here\" /></a></p>\n<p>And the second one it's a <a href=\"https://github.com/akulik512/intellij-settings-repository/blob/master/styleguide/intellij-java-google-style-v2.xml\" rel=\"nofollow noreferrer\">Google Java Code Style</a> (I renamed it a little but it's the same default file):</p>\n<p><a href=\"https://i.stack.imgur.com/jkNkj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jkNkj.png\" alt=\"enter image description here\" /></a></p>\n<p>The second screen clearly shows that the indents a smaller in a half.</p>\n<p>What's the point in reducing them? And the second question is, how can I undo this modification by modifying the file?</p>\n"},{"tags":["java","html","spring","thymeleaf","spring-thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":10637559,"reputation":2455,"user_id":7833793,"display_name":"R4N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671579465,"creation_date":1671579465,"answer_id":74869980,"question_id":74868067,"body_markdown":"&gt;th:selected=&quot;${u.usertyp}&quot;&gt;\r\n\r\nThe th:selected property should convert to selected=&quot;selected&quot; or just selected in raw html, I think instead you want something like `th:selected=&quot;${u.usertyp == usertyp}&quot;`\r\n\r\nYou didn&#39;t show your `@GetMapping` setup for the thyme leaf page, so I didn&#39;t include a user list, but here&#39;s a basic example of what I think you&#39;re attempting to do:\r\n\r\nUser Controller: \r\n```\r\n@Controller\r\npublic class UserController {\r\n\r\n    @GetMapping(&quot;user&quot;)\r\n    public String getUserTypePage(@ModelAttribute(&quot;userDTO&quot;) UserDTO userDTO) {\r\n        // just setting it to admin so that it will show the default selection of not the first item\r\n        userDTO.setUserType(UserType.ADMIN);\r\n        return &quot;user&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;user&quot;)\r\n    public void postUserTypePage(@ModelAttribute(&quot;userDTO&quot;) UserDTO userDTO) {\r\n        System.out.println(&quot;USER DTO TYPE - &quot; + userDTO.getUserType().getDisplayText());\r\n    }\r\n}\r\n```\r\n\r\nUserType enum:\r\n\r\n```\r\npublic enum UserType {\r\n    USER(&quot;Standard User&quot;),\r\n    ADMIN(&quot;Administrator&quot;);\r\n\r\n    private final String displayText;\r\n    UserType(String displayText) {\r\n        this.displayText = displayText;\r\n    }\r\n\r\n    public String getDisplayText() {\r\n        return displayText;\r\n    }\r\n}\r\n```\r\n\r\nUserDTO:\r\n\r\n```\r\npublic class UserDTO {\r\n    private UserType userType;\r\n\r\n    public UserDTO(UserType userType) {\r\n        this.userType = userType;\r\n    }\r\n\r\n    public UserType getUserType() {\r\n        return userType;\r\n    }\r\n\r\n    public void setUserType(UserType userType) {\r\n        this.userType = userType;\r\n    }\r\n}\r\n```\r\n\r\nThymeleaf view:\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n      xmlns:th=&quot;http://www.thymeleaf.org&quot; lang=&quot;en&quot;&gt;\r\n&lt;head&gt;\r\n  &lt;title&gt;User Type&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;ul class=&quot;list-group list-group-flush&quot;&gt;\r\n    &lt;li class=&quot;list-group-item&quot;&gt;\r\n        &lt;form th:object=&quot;${userDTO}&quot; th:action=&quot;@{/user}&quot; method=&quot;POST&quot; id=&quot;Rolle&quot;&gt;\r\n            &lt;select th:field=&quot;*{userType}&quot; form=&quot;Rolle&quot;&gt;\r\n                &lt;option\r\n                        th:each=&quot;uType : ${T(com.example.demo.models.UserType).values()}&quot;\r\n                        th:text=&quot;${uType.displayText}&quot;\r\n                        th:value=&quot;${uType}&quot;\r\n                        th:selected=&quot;${userType == uType}&quot;&gt;\r\n                &lt;/option&gt;\r\n                &lt;/select&gt;\r\n            &lt;input class=&quot;btn btn-primary&quot; type=&quot;submit&quot; value=&quot;Speichern&quot;&gt;\r\n        &lt;/form&gt;\r\n    &lt;/li&gt;\r\n&lt;/ul&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nSpecifically you want the th:value to be bound to the enum value (if you&#39;d prefer to use an enum rather than a string):\r\n&gt;th:value=&quot;${uType}&quot;\r\n\r\nAnd then the th:selected set based off of equality of the enum to the UserType option in being looped through:\r\n\r\n&gt;th:selected=&quot;${userType == uType}&quot;&gt;\r\n\r\nA few additional things to check:\r\n\r\n1. Are you establishing the @ModelAttribute(&quot;userDTO&quot;) in the GET variant of your controller?\r\n2. Log out the value of the userType in your post method to confirm it&#39;s value before any database operation (to confirm that it is actually coming in as null from the post and not being set to null somewhere in the db operation).\r\n3. Try just passing along the value for the userType in the form (instead of using a select input item) to confirm that the currentValue for your model is getting fed through i.e.: ```&lt;input th:field=&quot;*{userType}&quot; th:value=&quot;${userType}&quot;&gt;```","title":"Write value from Select in DTO Thymeleaf","body":"<blockquote>\n<p>th:selected=&quot;${u.usertyp}&quot;&gt;</p>\n</blockquote>\n<p>The th:selected property should convert to selected=&quot;selected&quot; or just selected in raw html, I think instead you want something like <code>th:selected=&quot;${u.usertyp == usertyp}&quot;</code></p>\n<p>You didn't show your <code>@GetMapping</code> setup for the thyme leaf page, so I didn't include a user list, but here's a basic example of what I think you're attempting to do:</p>\n<p>User Controller:</p>\n<pre><code>@Controller\npublic class UserController {\n\n    @GetMapping(&quot;user&quot;)\n    public String getUserTypePage(@ModelAttribute(&quot;userDTO&quot;) UserDTO userDTO) {\n        // just setting it to admin so that it will show the default selection of not the first item\n        userDTO.setUserType(UserType.ADMIN);\n        return &quot;user&quot;;\n    }\n\n    @PostMapping(&quot;user&quot;)\n    public void postUserTypePage(@ModelAttribute(&quot;userDTO&quot;) UserDTO userDTO) {\n        System.out.println(&quot;USER DTO TYPE - &quot; + userDTO.getUserType().getDisplayText());\n    }\n}\n</code></pre>\n<p>UserType enum:</p>\n<pre><code>public enum UserType {\n    USER(&quot;Standard User&quot;),\n    ADMIN(&quot;Administrator&quot;);\n\n    private final String displayText;\n    UserType(String displayText) {\n        this.displayText = displayText;\n    }\n\n    public String getDisplayText() {\n        return displayText;\n    }\n}\n</code></pre>\n<p>UserDTO:</p>\n<pre><code>public class UserDTO {\n    private UserType userType;\n\n    public UserDTO(UserType userType) {\n        this.userType = userType;\n    }\n\n    public UserType getUserType() {\n        return userType;\n    }\n\n    public void setUserType(UserType userType) {\n        this.userType = userType;\n    }\n}\n</code></pre>\n<p>Thymeleaf view:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\n      xmlns:th=&quot;http://www.thymeleaf.org&quot; lang=&quot;en&quot;&gt;\n&lt;head&gt;\n  &lt;title&gt;User Type&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;ul class=&quot;list-group list-group-flush&quot;&gt;\n    &lt;li class=&quot;list-group-item&quot;&gt;\n        &lt;form th:object=&quot;${userDTO}&quot; th:action=&quot;@{/user}&quot; method=&quot;POST&quot; id=&quot;Rolle&quot;&gt;\n            &lt;select th:field=&quot;*{userType}&quot; form=&quot;Rolle&quot;&gt;\n                &lt;option\n                        th:each=&quot;uType : ${T(com.example.demo.models.UserType).values()}&quot;\n                        th:text=&quot;${uType.displayText}&quot;\n                        th:value=&quot;${uType}&quot;\n                        th:selected=&quot;${userType == uType}&quot;&gt;\n                &lt;/option&gt;\n                &lt;/select&gt;\n            &lt;input class=&quot;btn btn-primary&quot; type=&quot;submit&quot; value=&quot;Speichern&quot;&gt;\n        &lt;/form&gt;\n    &lt;/li&gt;\n&lt;/ul&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Specifically you want the th:value to be bound to the enum value (if you'd prefer to use an enum rather than a string):</p>\n<blockquote>\n<p>th:value=&quot;${uType}&quot;</p>\n</blockquote>\n<p>And then the th:selected set based off of equality of the enum to the UserType option in being looped through:</p>\n<blockquote>\n<p>th:selected=&quot;${userType == uType}&quot;&gt;</p>\n</blockquote>\n<p>A few additional things to check:</p>\n<ol>\n<li>Are you establishing the @ModelAttribute(&quot;userDTO&quot;) in the GET variant of your controller?</li>\n<li>Log out the value of the userType in your post method to confirm it's value before any database operation (to confirm that it is actually coming in as null from the post and not being set to null somewhere in the db operation).</li>\n<li>Try just passing along the value for the userType in the form (instead of using a select input item) to confirm that the currentValue for your model is getting fed through i.e.: <code>&lt;input th:field=&quot;*{userType}&quot; th:value=&quot;${userType}&quot;&gt;</code></li>\n</ol>\n"}],"owner":{"account_id":27310874,"reputation":1,"user_id":20826045,"display_name":"id0n7g3tit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671579465,"creation_date":1671564878,"question_id":74868067,"body_markdown":"I have an Entity &quot;User&quot;. I have an Enum &quot;Usertyp&quot;. Users have a field &quot;usertyp&quot;. I want to change the &quot;Usertyp&quot; by passing a DTO to my controller. The problem is that the usertype gets changed to Null in the DB\r\n\r\nAnother minor problem is that I want the default value of the selectfield to have the users current usertype as default value. I tried with &quot;\r\n```\r\n                        th:selected=&quot;${u.usertyp}&quot;&gt;\r\n\r\n```\r\nand also with an if statement. Neither worked. \r\n\r\nI am very grateful for any help. I really struggle with Thymeleaf.\r\n\r\nController:\r\n\r\n```\r\n@PostMapping(&quot;editUser/{userId}&quot;)\r\npublic String editUser(@ModelAttribute(&quot;sessionUser&quot;) User sessionUser, @Valid @ModelAttribute(&quot;userDTO&quot;) UserDTO userDTO, @PathVariable Long userId, Model model){\r\n    if(sessionUser==null || sessionUser.getUsertyp() == Usertyp.USER)\r\n    {\r\n        return &quot;redirect:/&quot;;\r\n    }\r\n    else {\r\n        User changedUser = userService.findById(userId);\r\n        changedUser.setUsertyp(Usertyp.fromString(userDTO.getUsertyp()));\r\n        userService.save(changedUser);\r\n        return &quot;redirect:/administration&quot;;\r\n    }\r\n}\r\n```\r\n\r\nDTO \r\n\r\n```\r\npublic class UserDTO {\r\n    //TODO usertyp anpassem\r\n    private String usertyp;\r\n\r\n    public UserDTO(String usertyp) {\r\n        this.usertyp = usertyp;\r\n    }\r\n\r\n    public String getUsertyp() {\r\n        return usertyp;\r\n    }\r\n\r\n    public void setUsertyp(String usertyp) {\r\n        this.usertyp = usertyp;\r\n    }\r\n}\r\n\r\n\r\n```\r\nTemplate\r\n```\r\n\r\n&lt;ul class=&quot;list-group list-group-flush&quot;&gt;\r\n    &lt;span th:each=&quot;u : ${userList}&quot;&gt;\r\n    &lt;li class=&quot;list-group-item&quot;&gt;\r\n        &lt;span th:text=&quot;${u.username}&quot;&gt;&lt;/span&gt;\r\n        &lt;form th:object=&quot;${userDTO}&quot; th:action=&quot;@{/editUser/{userId}(userId=${u.id})}&quot; method=&quot;Post&quot; id=&quot;Rolle&quot;&gt;\r\n            &lt;select th:field=&quot;*{usertyp}&quot; form=&quot;Rolle&quot;&gt;\r\n                &lt;option\r\n                        th:each=&quot;usertyp : ${T(com.example.myproject.entities.Usertyp).values()}&quot;\r\n                        th:text=&quot;${usertyp.displayText}&quot;\r\n                        th:value=&quot;${usertyp.displayText}&quot;&gt;\r\n                &lt;/option&gt;\r\n                &lt;/select&gt;\r\n            &lt;input class=&quot;btn btn-primary&quot; type=&quot;submit&quot; value=&quot;Speichern&quot;&gt;\r\n        &lt;/form&gt;\r\n    &lt;/li&gt;\r\n        &lt;/span&gt;\r\n&lt;/ul&gt;\r\n\r\n\r\n```\r\nI already changed my DTO field type from &quot;Usertyp&quot; to String","title":"Write value from Select in DTO Thymeleaf","body":"<p>I have an Entity &quot;User&quot;. I have an Enum &quot;Usertyp&quot;. Users have a field &quot;usertyp&quot;. I want to change the &quot;Usertyp&quot; by passing a DTO to my controller. The problem is that the usertype gets changed to Null in the DB</p>\n<p>Another minor problem is that I want the default value of the selectfield to have the users current usertype as default value. I tried with &quot;</p>\n<pre><code>                        th:selected=&quot;${u.usertyp}&quot;&gt;\n\n</code></pre>\n<p>and also with an if statement. Neither worked.</p>\n<p>I am very grateful for any help. I really struggle with Thymeleaf.</p>\n<p>Controller:</p>\n<pre><code>@PostMapping(&quot;editUser/{userId}&quot;)\npublic String editUser(@ModelAttribute(&quot;sessionUser&quot;) User sessionUser, @Valid @ModelAttribute(&quot;userDTO&quot;) UserDTO userDTO, @PathVariable Long userId, Model model){\n    if(sessionUser==null || sessionUser.getUsertyp() == Usertyp.USER)\n    {\n        return &quot;redirect:/&quot;;\n    }\n    else {\n        User changedUser = userService.findById(userId);\n        changedUser.setUsertyp(Usertyp.fromString(userDTO.getUsertyp()));\n        userService.save(changedUser);\n        return &quot;redirect:/administration&quot;;\n    }\n}\n</code></pre>\n<p>DTO</p>\n<pre><code>public class UserDTO {\n    //TODO usertyp anpassem\n    private String usertyp;\n\n    public UserDTO(String usertyp) {\n        this.usertyp = usertyp;\n    }\n\n    public String getUsertyp() {\n        return usertyp;\n    }\n\n    public void setUsertyp(String usertyp) {\n        this.usertyp = usertyp;\n    }\n}\n\n\n</code></pre>\n<p>Template</p>\n<pre><code>\n&lt;ul class=&quot;list-group list-group-flush&quot;&gt;\n    &lt;span th:each=&quot;u : ${userList}&quot;&gt;\n    &lt;li class=&quot;list-group-item&quot;&gt;\n        &lt;span th:text=&quot;${u.username}&quot;&gt;&lt;/span&gt;\n        &lt;form th:object=&quot;${userDTO}&quot; th:action=&quot;@{/editUser/{userId}(userId=${u.id})}&quot; method=&quot;Post&quot; id=&quot;Rolle&quot;&gt;\n            &lt;select th:field=&quot;*{usertyp}&quot; form=&quot;Rolle&quot;&gt;\n                &lt;option\n                        th:each=&quot;usertyp : ${T(com.example.myproject.entities.Usertyp).values()}&quot;\n                        th:text=&quot;${usertyp.displayText}&quot;\n                        th:value=&quot;${usertyp.displayText}&quot;&gt;\n                &lt;/option&gt;\n                &lt;/select&gt;\n            &lt;input class=&quot;btn btn-primary&quot; type=&quot;submit&quot; value=&quot;Speichern&quot;&gt;\n        &lt;/form&gt;\n    &lt;/li&gt;\n        &lt;/span&gt;\n&lt;/ul&gt;\n\n\n</code></pre>\n<p>I already changed my DTO field type from &quot;Usertyp&quot; to String</p>\n"},{"tags":["java","algorithm","performance","linked-list","iterator"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":6,"creation_date":1671567746,"post_id":74868502,"comment_id":132126196,"body_markdown":"What they are saying is basically that you can simply call `iterator()` multiple times and each of them iterates independently, that&#39;s it. Nothing fancy or fast or special about this.","body":"What they are saying is basically that you can simply call <code>iterator()</code> multiple times and each of them iterates independently, that&#39;s it. Nothing fancy or fast or special about this."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671569114,"post_id":74868502,"comment_id":132126527,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1671571674,"post_id":74868502,"comment_id":132127175,"body_markdown":"You should not use `LinkedList` in Java (and maybe not an equivalent in any other language). `ArrayList` is fine for your purposes. The same holds true, though: you can have multiple iterators iterating it as long as no modifications are made to the list.","body":"You should not use <code>LinkedList</code> in Java (and maybe not an equivalent in any other language). <code>ArrayList</code> is fine for your purposes. The same holds true, though: you can have multiple iterators iterating it as long as no modifications are made to the list."},{"owner":{"account_id":14801365,"reputation":376,"user_id":15322661,"display_name":"Rustam"},"score":1,"creation_date":1671571858,"post_id":74868502,"comment_id":132127213,"body_markdown":"I do not understand how 2 iterators can help you with speed up. Iterator is used to iterate all elements, looks like you want to iterate from different points. Maybe do you want to use multithreading?","body":"I do not understand how 2 iterators can help you with speed up. Iterator is used to iterate all elements, looks like you want to iterate from different points. Maybe do you want to use multithreading?"},{"owner":{"account_id":6136413,"reputation":8488,"user_id":4785110,"display_name":"maraca"},"score":0,"creation_date":1671573930,"post_id":74868502,"comment_id":132127687,"body_markdown":"&quot;You should not use LinkedList in Java&quot; is just wrong. E.g. if you frequently iterate the list and remove some elements or insert elements then ArrayList is a stupid choice. As the name suggests ArrayList works best if you want to work with the index and no insert/remove, only append data at the end.","body":"&quot;You should not use LinkedList in Java&quot; is just wrong. E.g. if you frequently iterate the list and remove some elements or insert elements then ArrayList is a stupid choice. As the name suggests ArrayList works best if you want to work with the index and no insert/remove, only append data at the end."},{"owner":{"account_id":1060282,"reputation":1236,"user_id":3452058,"display_name":"Janos Vinceller"},"score":0,"creation_date":1671577400,"post_id":74868502,"comment_id":132128327,"body_markdown":"It could also mean the `descendingIterator()` and the standard `iterator()` which would give you a descending and an ascending iterator.","body":"It could also mean the <code>descendingIterator()</code> and the standard <code>iterator()</code> which would give you a descending and an ascending iterator."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1671601321,"post_id":74868502,"comment_id":132131634,"body_markdown":"@maraca I know that theory, of course. In my 25+ years as a professional programmer I have never seen a real-world example were it applied. Have you?","body":"@maraca I know that theory, of course. In my 25+ years as a professional programmer I have never seen a real-world example were it applied. Have you?"},{"owner":{"account_id":6136413,"reputation":8488,"user_id":4785110,"display_name":"maraca"},"score":0,"creation_date":1671618968,"post_id":74868502,"comment_id":132136334,"body_markdown":"@OleV.V. yes I have. Often ArrayList is better, especially for a certain amount of data, but if you only have a few, let&#39;s say 1 to 100 elements and are always iterating in order, then LinkedList is better afaik and this case is happening every now and then. Also addFirst and removeFirst can be useful, but they are not on the List interface (although in most cases a Queue could be the better choice then).","body":"@OleV.V. yes I have. Often ArrayList is better, especially for a certain amount of data, but if you only have a few, let&#39;s say 1 to 100 elements and are always iterating in order, then LinkedList is better afaik and this case is happening every now and then. Also addFirst and removeFirst can be useful, but they are not on the List interface (although in most cases a Queue could be the better choice then)."},{"owner":{"account_id":27311344,"reputation":11,"user_id":20826445,"display_name":"chin2"},"score":0,"creation_date":1671658014,"post_id":74868502,"comment_id":132148781,"body_markdown":"I was just wondering if there&#39;s a way to iterate through half of the list in parallel, if that is a possibility?","body":"I was just wondering if there&#39;s a way to iterate through half of the list in parallel, if that is a possibility?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1671696595,"post_id":74868502,"comment_id":132155025,"body_markdown":"Does this answer your question? [Java 8: Parallel FOR loop](https://stackoverflow.com/questions/27558605/java-8-parallel-for-loop). Search for more.","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/27558605/java-8-parallel-for-loop\">Java 8: Parallel FOR loop</a>. Search for more."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1672822572,"post_id":74868502,"comment_id":132357537,"body_markdown":"@maraca why should a `LinkedList` be better than `ArrayList` for 1 to 100 elements? Thats within the range were even inserting and removing at arbitrary indices is faster with `ArrayList`.","body":"@maraca why should a <code>LinkedList</code> be better than <code>ArrayList</code> for 1 to 100 elements? Thats within the range were even inserting and removing at arbitrary indices is faster with <code>ArrayList</code>."},{"owner":{"account_id":6136413,"reputation":8488,"user_id":4785110,"display_name":"maraca"},"score":0,"creation_date":1672888773,"post_id":74868502,"comment_id":132376447,"body_markdown":"I didn&#39;t want to start a discussion. There are many benchmarks out there comparing both. My point is that it always depends on the use-case and the theory is not just theory. Sorry if I have given a bad example, but we had cases where LinkedList was faster in practice. Just can&#39;t recall, but you can more or less take anything with add/remove not at the end. Anyway I think it&#39;s a minor issue, e.g. a more common mistake is that someone uses list where hash set should have been used.","body":"I didn&#39;t want to start a discussion. There are many benchmarks out there comparing both. My point is that it always depends on the use-case and the theory is not just theory. Sorry if I have given a bad example, but we had cases where LinkedList was faster in practice. Just can&#39;t recall, but you can more or less take anything with add/remove not at the end. Anyway I think it&#39;s a minor issue, e.g. a more common mistake is that someone uses list where hash set should have been used."}],"answers":[{"tags":[],"owner":{"account_id":6136413,"reputation":8488,"user_id":4785110,"display_name":"maraca"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671577400,"creation_date":1671577400,"answer_id":74869768,"question_id":74868502,"body_markdown":"You don&#39;t really need lists, except maybe to read the data from somewhere. Afterwards you can put the data in an array. This makes it very easy to split the work (runnables) onto several workers (threads in threadpool) by partitioning the indexes. You can use any of the concurrent data structures to store the matching indexes.\r\n\r\nAlso because you are working with DNA you only need 2 bits to store one element (4 acids). Instead of strings you could have int arrays (values 0 - 3) or BitSets. Like this you could easily calculate a rolling hash. This could improve the search speed of a fragment in whole DNA a lot, especially if the fragments are long.","title":"How to use more than one iterator to traverse a linked list in Java?","body":"<p>You don't really need lists, except maybe to read the data from somewhere. Afterwards you can put the data in an array. This makes it very easy to split the work (runnables) onto several workers (threads in threadpool) by partitioning the indexes. You can use any of the concurrent data structures to store the matching indexes.</p>\n<p>Also because you are working with DNA you only need 2 bits to store one element (4 acids). Instead of strings you could have int arrays (values 0 - 3) or BitSets. Like this you could easily calculate a rolling hash. This could improve the search speed of a fragment in whole DNA a lot, especially if the fragments are long.</p>\n"}],"owner":{"account_id":27311344,"reputation":11,"user_id":20826445,"display_name":"chin2"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671577400,"creation_date":1671567576,"question_id":74868502,"body_markdown":"I read in Goodrich&#39;s Data Structures and Algorithms book that it is possible to use multiple iterators for read only operation on a linked-list, but I quite don&#39;t understand how to implement it. \r\n\r\nI&#39;m trying to search if a String *DNAFragment* exists in a List of *WholeDNA* and add only those DNAs to separate *results* list. And I want to speed up the searching. I&#39;m open to any suggestions, Thank you in advance.\r\n\r\n","title":"How to use more than one iterator to traverse a linked list in Java?","body":"<p>I read in Goodrich's Data Structures and Algorithms book that it is possible to use multiple iterators for read only operation on a linked-list, but I quite don't understand how to implement it.</p>\n<p>I'm trying to search if a String <em>DNAFragment</em> exists in a List of <em>WholeDNA</em> and add only those DNAs to separate <em>results</em> list. And I want to speed up the searching. I'm open to any suggestions, Thank you in advance.</p>\n"},{"tags":["java","android","multithreading","android-asynctask"],"comments":[{"owner":{"account_id":2068268,"reputation":42279,"user_id":1843331,"accept_rate":100,"display_name":"Tim"},"score":0,"creation_date":1478610092,"post_id":40487589,"comment_id":68218687,"body_markdown":"Your code is incomplete, please post a MVCE","body":"Your code is incomplete, please post a MVCE"},{"owner":{"account_id":6715376,"reputation":71,"user_id":6809067,"accept_rate":75,"display_name":"Thillai K"},"score":0,"creation_date":1478610232,"post_id":40487589,"comment_id":68218800,"body_markdown":"@TimCastelijns May I know what is MVCE? I am a beginner to coding.","body":"@TimCastelijns May I know what is MVCE? I am a beginner to coding."},{"owner":{"account_id":6433224,"reputation":1556,"user_id":4985575,"display_name":"jakubbialkowski"},"score":0,"creation_date":1478610647,"post_id":40487589,"comment_id":68219103,"body_markdown":"@ThillaiK MVCE is Minimal, Complete and Verifiable Example - http://stackoverflow.com/help/mcve","body":"@ThillaiK MVCE is Minimal, Complete and Verifiable Example - <a href=\"http://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1478611686,"post_id":40487589,"comment_id":68219921,"body_markdown":"Why do you need a singleton for Realm? And I don&#39;t think Realm needs AsyncTasks","body":"Why do you need a singleton for Realm? And I don&#39;t think Realm needs AsyncTasks"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1478611725,"post_id":40487589,"comment_id":68219953,"body_markdown":"Okhttp also does not need AsyncTasks.","body":"Okhttp also does not need AsyncTasks."}],"answers":[{"tags":[],"owner":{"account_id":8206108,"reputation":3252,"user_id":6175778,"display_name":"Alex Shutov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478610995,"creation_date":1478610995,"answer_id":40487927,"question_id":40487589,"body_markdown":"The point is - you cannot create and access Realm on different threads, i.e. create Realm instance in Activity and use it in .doInBackground() method. Create and release Realm immediately before and after transaction. \r\nThere may be another issue - don&#39;t register quer observer on background thread in AsyncTask - it doesn&#39;t have Looper initialized - use main thread or HandlerThread.\r\nRelease realm after it is no longer needed (you didn&#39;t in your code), because Realm has limited number of instances.","title":"Android, how to initiate realm in AsyncTask?","body":"<p>The point is - you cannot create and access Realm on different threads, i.e. create Realm instance in Activity and use it in .doInBackground() method. Create and release Realm immediately before and after transaction. \nThere may be another issue - don't register quer observer on background thread in AsyncTask - it doesn't have Looper initialized - use main thread or HandlerThread.\nRelease realm after it is no longer needed (you didn't in your code), because Realm has limited number of instances.</p>\n"},{"tags":[],"owner":{"account_id":6011032,"reputation":41,"user_id":4721499,"display_name":"Basheer Adel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671577307,"creation_date":1652372969,"answer_id":72219171,"question_id":40487589,"body_markdown":"You can initiate a Realm instance in the doInBackground method of your AsyncTask like this:\r\n\r\n    private class MyAsyncTask extends AsyncTask&lt;Void, Void, Void&gt; {\r\n        @Override\r\n        protected Void doInBackground(Void... voids) {\r\n            Realm realm = Realm.getDefaultInstance();\r\n            // Do your Realm work here\r\n            realm.close();\r\n            return null;\r\n        }\r\n    }\r\n\r\nIt&#39;s important to note that you should always open and close a Realm instance in the same thread. In this case, since the AsyncTask is running in a background thread, you can open and close the Realm instance within the doInBackground method.\r\n\r\n\r\n","title":"Android, how to initiate realm in AsyncTask?","body":"<p>You can initiate a Realm instance in the doInBackground method of your AsyncTask like this:</p>\n<pre><code>private class MyAsyncTask extends AsyncTask&lt;Void, Void, Void&gt; {\n    @Override\n    protected Void doInBackground(Void... voids) {\n        Realm realm = Realm.getDefaultInstance();\n        // Do your Realm work here\n        realm.close();\n        return null;\n    }\n}\n</code></pre>\n<p>It's important to note that you should always open and close a Realm instance in the same thread. In this case, since the AsyncTask is running in a background thread, you can open and close the Realm instance within the doInBackground method.</p>\n"}],"owner":{"account_id":6715376,"reputation":71,"user_id":6809067,"accept_rate":75,"display_name":"Thillai K"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":581,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1671577307,"creation_date":1478609935,"question_id":40487589,"body_markdown":"I have an asyncTask in my application as below.  I have to fetch data from realm(which is successfully stored in another activity) into this AsyncTask. Below is my AsyncTask code:\r\n\r\n    public class MakeAsyncRequest extends AsyncTask&lt;Object, String, MakeAsyncRequest.ResponseDataType&gt;{\r\n\r\n    public Context asyncContext;\r\n        private MakeAsyncRequest(Context context){\r\n            asyncContext = context;\r\n        }\r\n\r\n    private static final OkHttpClient client = new OkHttpClient();\r\n    private static final MediaType JSON = MediaType.parse(&quot;application/json; charset=utf-8&quot;);\r\n\r\n    private MakeRequest.ResponseHandler handler;\r\n    private String method;\r\n    private User user;\r\n    private Realm realm;\r\n\r\n\r\n    class ResponseDataType\r\n    {\r\n        InputStream inputStream;\r\n        String string;\r\n        String cookie;\r\n    }\r\n    MakeAsyncRequest(MakeRequest.ResponseHandler responseHandler, String type)\r\n    {\r\n        method = type;\r\n        handler = responseHandler;\r\n    }\r\n\r\n\r\n    @Override\r\n\r\n    protected ResponseDataType doInBackground(Object... params) {\r\n        try {\r\n            Requests requests = new Requests((Context) params[0]);\r\n            String url = params[1].toString();\r\n            String bodyJson = null;\r\n            if(method.equals(&quot;PUT&quot;) || method.equals(&quot;POST&quot;)) {\r\n                bodyJson = params[2].toString();\r\n            }\r\n            final Request.Builder builder;\r\n            Response response;\r\n            RequestBody body;\r\n            switch (method) {\r\n\r\n                case &quot;GET&quot;: builder = new Request.Builder().url(url);\r\n                    break;\r\n\r\n                case &quot;DOWNLOAD&quot;: builder = new Request.Builder().url(url);\r\n                    break;\r\n\r\n                case &quot;POST&quot;: body = RequestBody.create(JSON, bodyJson);\r\n                    builder = new Request.Builder()\r\n                            .url(url)\r\n                            .post(body)\r\n                            .addHeader(&quot;Cookie&quot;, &quot;key=value&quot;);\r\n                    break;\r\n\r\n                case &quot;PUT&quot;:  body = RequestBody.create(JSON, bodyJson);\r\n                    builder = new Request.Builder()\r\n                            .url(url)\r\n                            .put(body);\r\n                    break;\r\n\r\n                default: builder = new Request.Builder().url(url);\r\n            }\r\n            builder.addHeader(&quot;Accept&quot;, &quot;application/json&quot;);\r\n            realm = RealmController.initialize(this).getRealm();\r\n            final RealmResults&lt;User&gt; users = realm.where(User.class).findAllAsync();\r\n            user = users.first();\r\n            if(user.getCookie() !== null &amp;&amp; !user.getCookie().isEmpty()){\r\n                builder.addHeader(&quot;cookie&quot;, &quot;user.getCookie()&quot;);\r\n            }\r\n            response = client.newCall(builder.build()).execute();\r\n            ResponseDataType responseDataType = new ResponseDataType();\r\n            if(method.equals(&quot;DOWNLOAD&quot;)) { responseDataType.inputStream = response.body().byteStream(); }\r\n            else {\r\n                responseDataType.string = response.body().string();\r\n                responseDataType.cookie = response.headers().get(&quot;set-cookie&quot;);\r\n                CookieManager cManager = new CookieManager(null, CookiePolicy.ACCEPT_ALL);\r\n                cManager.getCookieStore().getCookies();\r\n            }\r\n            return  responseDataType;\r\n\r\n        } catch (IOException e) {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onPostExecute(ResponseDataType response) {\r\n        try {\r\n            if (method.equals(&quot;DOWNLOAD&quot;)) {\r\n                handler.onFinishCallback(response.inputStream);\r\n            }else {\r\n                handler.onFinishCallback(response.string, response.cookie);\r\n                CookieManager cManager = new CookieManager(null, CookiePolicy.ACCEPT_ALL);\r\n                cManager.getCookieStore().getCookies();\r\n            }\r\n        }catch (Exception e){\r\n            Log.d(&quot;hExceptionError&quot;, e.toString());\r\n            handler.onFinishCallback(&quot;{\\n&quot; +\r\n                    &quot;  \\&quot;error\\&quot;: \\&quot;error\\&quot;\\n&quot; +\r\n                    &quot;}&quot;,&quot;&quot;);\r\n        }\r\n    }\r\n\r\nI am received the access error - &quot;Realm access from incorrect thread. Realm objects can only be accessed on the thread they were created.&quot; whenever the control tries to execute the Realm results or to get the first object from Realm.\r\n\r\nBelow is my RealmController which i created to control the realm instance:\r\n\r\n    public class RealmController {`public static RealmController initialize(Activity activity) {\r\n\r\n        if (instance == null) {\r\n            instance = new RealmController(activity.getApplication());\r\n        }\r\n        return instance;\r\n    }\r\n    public static RealmController initialize(MakeAsyncRequest activity) {\r\n\r\n        if (instance == null) {\r\n            instance = new RealmController(activity.);\r\n        }\r\n        return instance;\r\n    }\r\n    }`\r\n\r\nI have my user model(Realm object) with setters and getters.","title":"Android, how to initiate realm in AsyncTask?","body":"<p>I have an asyncTask in my application as below.  I have to fetch data from realm(which is successfully stored in another activity) into this AsyncTask. Below is my AsyncTask code:</p>\n\n<pre><code>public class MakeAsyncRequest extends AsyncTask&lt;Object, String, MakeAsyncRequest.ResponseDataType&gt;{\n\npublic Context asyncContext;\n    private MakeAsyncRequest(Context context){\n        asyncContext = context;\n    }\n\nprivate static final OkHttpClient client = new OkHttpClient();\nprivate static final MediaType JSON = MediaType.parse(\"application/json; charset=utf-8\");\n\nprivate MakeRequest.ResponseHandler handler;\nprivate String method;\nprivate User user;\nprivate Realm realm;\n\n\nclass ResponseDataType\n{\n    InputStream inputStream;\n    String string;\n    String cookie;\n}\nMakeAsyncRequest(MakeRequest.ResponseHandler responseHandler, String type)\n{\n    method = type;\n    handler = responseHandler;\n}\n\n\n@Override\n\nprotected ResponseDataType doInBackground(Object... params) {\n    try {\n        Requests requests = new Requests((Context) params[0]);\n        String url = params[1].toString();\n        String bodyJson = null;\n        if(method.equals(\"PUT\") || method.equals(\"POST\")) {\n            bodyJson = params[2].toString();\n        }\n        final Request.Builder builder;\n        Response response;\n        RequestBody body;\n        switch (method) {\n\n            case \"GET\": builder = new Request.Builder().url(url);\n                break;\n\n            case \"DOWNLOAD\": builder = new Request.Builder().url(url);\n                break;\n\n            case \"POST\": body = RequestBody.create(JSON, bodyJson);\n                builder = new Request.Builder()\n                        .url(url)\n                        .post(body)\n                        .addHeader(\"Cookie\", \"key=value\");\n                break;\n\n            case \"PUT\":  body = RequestBody.create(JSON, bodyJson);\n                builder = new Request.Builder()\n                        .url(url)\n                        .put(body);\n                break;\n\n            default: builder = new Request.Builder().url(url);\n        }\n        builder.addHeader(\"Accept\", \"application/json\");\n        realm = RealmController.initialize(this).getRealm();\n        final RealmResults&lt;User&gt; users = realm.where(User.class).findAllAsync();\n        user = users.first();\n        if(user.getCookie() !== null &amp;&amp; !user.getCookie().isEmpty()){\n            builder.addHeader(\"cookie\", \"user.getCookie()\");\n        }\n        response = client.newCall(builder.build()).execute();\n        ResponseDataType responseDataType = new ResponseDataType();\n        if(method.equals(\"DOWNLOAD\")) { responseDataType.inputStream = response.body().byteStream(); }\n        else {\n            responseDataType.string = response.body().string();\n            responseDataType.cookie = response.headers().get(\"set-cookie\");\n            CookieManager cManager = new CookieManager(null, CookiePolicy.ACCEPT_ALL);\n            cManager.getCookieStore().getCookies();\n        }\n        return  responseDataType;\n\n    } catch (IOException e) {\n        return null;\n    }\n}\n\n@Override\nprotected void onPostExecute(ResponseDataType response) {\n    try {\n        if (method.equals(\"DOWNLOAD\")) {\n            handler.onFinishCallback(response.inputStream);\n        }else {\n            handler.onFinishCallback(response.string, response.cookie);\n            CookieManager cManager = new CookieManager(null, CookiePolicy.ACCEPT_ALL);\n            cManager.getCookieStore().getCookies();\n        }\n    }catch (Exception e){\n        Log.d(\"hExceptionError\", e.toString());\n        handler.onFinishCallback(\"{\\n\" +\n                \"  \\\"error\\\": \\\"error\\\"\\n\" +\n                \"}\",\"\");\n    }\n}\n</code></pre>\n\n<p>I am received the access error - \"Realm access from incorrect thread. Realm objects can only be accessed on the thread they were created.\" whenever the control tries to execute the Realm results or to get the first object from Realm.</p>\n\n<p>Below is my RealmController which i created to control the realm instance:</p>\n\n<pre><code>public class RealmController {`public static RealmController initialize(Activity activity) {\n\n    if (instance == null) {\n        instance = new RealmController(activity.getApplication());\n    }\n    return instance;\n}\npublic static RealmController initialize(MakeAsyncRequest activity) {\n\n    if (instance == null) {\n        instance = new RealmController(activity.);\n    }\n    return instance;\n}\n}`\n</code></pre>\n\n<p>I have my user model(Realm object) with setters and getters.</p>\n"},{"tags":["java","ant","sap-commerce-cloud"],"comments":[{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":1,"creation_date":1671228121,"post_id":74823334,"comment_id":132062052,"body_markdown":"**1.** You should always post the version of SAP Commerce you are using **2.** From your screenshots, it seems your project (team) is generating a customjalo instead of jalo folder and I assume there is some customization to which and how artefacts are to be generated **3.** I think in the latest versions (e.g. 2205), SAP Commerce has stopped generating `GeneratedMyType`  as described [here](https://help.sap.com/docs/SAP_COMMERCE/d0224eca81e249cb821f2cdf45a82ace/8c00066686691014a5a5d19875a1525b.html). I may be wrong as I have not been tracking the changes for more than 3 years.","body":"<b>1.</b> You should always post the version of SAP Commerce you are using <b>2.</b> From your screenshots, it seems your project (team) is generating a customjalo instead of jalo folder and I assume there is some customization to which and how artefacts are to be generated <b>3.</b> I think in the latest versions (e.g. 2205), SAP Commerce has stopped generating <code>GeneratedMyType</code>  as described <a href=\"https://help.sap.com/docs/SAP_COMMERCE/d0224eca81e249cb821f2cdf45a82ace/8c00066686691014a5a5d19875a1525b.html\" rel=\"nofollow noreferrer\">here</a>. I may be wrong as I have not been tracking the changes for more than 3 years."},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1671228758,"post_id":74823334,"comment_id":132062152,"body_markdown":"Please validate my 3rd point (mentioned above) by installing v-2205. If my guess is correct, it&#39;s a shame that SAP has not updated the documentation. Until 2019, I used to raise such issues through experts.hybris.com administrators but I stopped contributing after it was merged into answers.sap.com.","body":"Please validate my 3rd point (mentioned above) by installing v-2205. If my guess is correct, it&#39;s a shame that SAP has not updated the documentation. Until 2019, I used to raise such issues through experts.hybris.com administrators but I stopped contributing after it was merged into answers.sap.com."}],"owner":{"account_id":19687197,"reputation":1,"user_id":14412908,"display_name":"Olga grts"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671576878,"creation_date":1671187534,"question_id":74823334,"body_markdown":"I have this project hierarchy, with `jalo` class highlighted in blue:\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/PCyOe.png&quot; width=&quot;400&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/Kv59E.png&quot; width=&quot;400&quot;&gt;\r\n\r\nTo overwrite `jalo` class I do   \r\n  \r\n    &lt;itemtype code=&quot;RgBrandRestriction&quot; extends=&quot;AbstractRestriction&quot; autocreate=&quot;true&quot; generate=&quot;true&quot; jaloclass=&quot;com.***.customjalo.RgBrandRestriction&quot;&gt;  \r\n  \r\nand get generated class   \r\n\r\n    public abstract class GeneratedRgBrandRestriction&#160;  \r\n \r\n\r\nthen overwrite it by my custom class \r\n\r\n    public class RgBrandRestriction extends GeneratedRgBrandRestriction  \r\n  \r\n  \r\n  \r\nbut, when I do `&lt;itemtype code=&quot;RgCronJob&quot; extends=&quot;CronJob&quot; autocreate=&quot;true&quot; generate=&quot;true&quot; jaloclass=&quot;com.***.core.customjalo.cronjob.RgCronJob&quot;&gt;`\r\n\r\nI don&#39;t get `GeneratedRgCronJob, platform generate com.***.core.customjalo.cronjob.RgCronJob`\r\n\r\nso I can&#39;t extend or get exception &quot;class is already defined&quot;\r\n\r\ntry to\r\n1. exclude `autocreate=&quot;true&quot; generate=&quot;true&quot;`\r\n2. do impex for jaloclass\r\n","title":"Jalo layer generate different class names","body":"<p>I have this project hierarchy, with <code>jalo</code> class highlighted in blue:</p>\n<p><img src=\"https://i.stack.imgur.com/PCyOe.png\" width=\"400\"><img src=\"https://i.stack.imgur.com/Kv59E.png\" width=\"400\"></p>\n<p>To overwrite <code>jalo</code> class I do</p>\n<pre><code>&lt;itemtype code=&quot;RgBrandRestriction&quot; extends=&quot;AbstractRestriction&quot; autocreate=&quot;true&quot; generate=&quot;true&quot; jaloclass=&quot;com.***.customjalo.RgBrandRestriction&quot;&gt;  \n</code></pre>\n<p>and get generated class</p>\n<pre><code>public abstract class GeneratedRgBrandRestriction  \n</code></pre>\n<p>then overwrite it by my custom class</p>\n<pre><code>public class RgBrandRestriction extends GeneratedRgBrandRestriction  \n</code></pre>\n<p>but, when I do <code>&lt;itemtype code=&quot;RgCronJob&quot; extends=&quot;CronJob&quot; autocreate=&quot;true&quot; generate=&quot;true&quot; jaloclass=&quot;com.***.core.customjalo.cronjob.RgCronJob&quot;&gt;</code></p>\n<p>I don't get <code>GeneratedRgCronJob, platform generate com.***.core.customjalo.cronjob.RgCronJob</code></p>\n<p>so I can't extend or get exception &quot;class is already defined&quot;</p>\n<p>try to</p>\n<ol>\n<li>exclude <code>autocreate=&quot;true&quot; generate=&quot;true&quot;</code></li>\n<li>do impex for jaloclass</li>\n</ol>\n"},{"tags":["java","docker","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":6446678,"reputation":75,"user_id":4994983,"display_name":"mdanish98"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671576356,"creation_date":1671576356,"answer_id":74869623,"question_id":74853499,"body_markdown":"After searching over internet, I added `network_mode: host` to service bridge-service and everything worked fine.\r\n\r\nSo in order to communicate between two services like explained scenario in the problem above just add `network_mode: host` and everything would work.\r\n\r\nNow the updated docker compose file is:\r\n\r\n    version: &#39;3.8&#39;\r\n    services:\r\n    \r\n      bridge-service:\r\n        image: ${IMAGE_NAME}:${IMAGE_TAG}\r\n        container_name: ${CONTAINER_NAME}\r\n        network_mode: host\r\n        volumes:\r\n          - C:\\Users\\user\\temp:/usr/share/config\r\n        depends_on:\r\n          mqtt:\r\n            condition: service_healthy\r\n    \r\n      mqtt:\r\n        image: eclipse-mosquitto:2.0.15\r\n        ports:\r\n          - 1884:1884\r\n        volumes:\r\n          - C:\\Users\\user\\temp\\mosquitto:/mosquitto/config\r\n        healthcheck:\r\n          test: [&quot;CMD-SHELL&quot;, mosquitto_sub -p 1884 -t &#39;topic&#39; -C 1 -E -i probe -W 3]\r\n          interval: 10s\r\n          retries: 2\r\n          start_period: 10s\r\n          timeout: 5s","title":"Unable to connect with MQTT broker in Apache Camel inside docker container","body":"<p>After searching over internet, I added <code>network_mode: host</code> to service bridge-service and everything worked fine.</p>\n<p>So in order to communicate between two services like explained scenario in the problem above just add <code>network_mode: host</code> and everything would work.</p>\n<p>Now the updated docker compose file is:</p>\n<pre><code>version: '3.8'\nservices:\n\n  bridge-service:\n    image: ${IMAGE_NAME}:${IMAGE_TAG}\n    container_name: ${CONTAINER_NAME}\n    network_mode: host\n    volumes:\n      - C:\\Users\\user\\temp:/usr/share/config\n    depends_on:\n      mqtt:\n        condition: service_healthy\n\n  mqtt:\n    image: eclipse-mosquitto:2.0.15\n    ports:\n      - 1884:1884\n    volumes:\n      - C:\\Users\\user\\temp\\mosquitto:/mosquitto/config\n    healthcheck:\n      test: [&quot;CMD-SHELL&quot;, mosquitto_sub -p 1884 -t 'topic' -C 1 -E -i probe -W 3]\n      interval: 10s\n      retries: 2\n      start_period: 10s\n      timeout: 5s\n</code></pre>\n"}],"owner":{"account_id":6446678,"reputation":75,"user_id":4994983,"display_name":"mdanish98"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74869623,"answer_count":1,"score":0,"last_activity_date":1671576356,"creation_date":1671468436,"question_id":74853499,"body_markdown":"I have a project with Apache camel, and it requires mqtt broker for connection. If I run mqtt broker (mosquitto) in docker and execute my project locally it is working totally fine but when I am running the project through Dockerfile i.e. making an executable jar and executing it on docker it says **&quot;Unable to connect to server (32103) - java.net.ConnectException: Connection refused (Connection refused)&quot;** even though mqtt broker is up and running.\r\n\r\nFull logs (exception):\r\n\r\n    \r\n\r\n        [main] ERROR org.apache.camel.impl.engine.AbstractCamelContext - Error starting CamelContext (camel-1) due to exception thrown: Unable to connect to server (32103) - java.net.ConnectException: Connection refused (Connection refused)\r\n    org.apache.camel.RuntimeCamelException: Unable to connect to server (32103) - java.net.ConnectException: Connection refused (Connection refused)\r\n    at org.apache.camel.RuntimeCamelException.wrapRuntimeException(RuntimeCamelException.java:66)\r\n    at org.apache.camel.support.service.BaseService.doFail(BaseService.java:413)\r\n    at org.apache.camel.support.service.BaseService.fail(BaseService.java:342)\r\n    at org.apache.camel.support.service.BaseService.start(BaseService.java:132)\r\n    at org.apache.camel.support.service.ServiceHelper.startService(ServiceHelper.java:113)\r\n    at org.apache.camel.impl.engine.AbstractCamelContext.startService(AbstractCamelContext.java:3597)\r\n    at org.apache.camel.impl.engine.InternalRouteStartupManager.doStartOrResumeRouteConsumers(InternalRouteStartupManager.java:401)\r\n    at org.apache.camel.impl.engine.InternalRouteStartupManager.doStartRouteConsumers(InternalRouteStartupManager.java:319)\r\n    at org.apache.camel.impl.engine.InternalRouteStartupManager.safelyStartRouteServices(InternalRouteStartupManager.java:213)\r\n    at org.apache.camel.impl.engine.InternalRouteStartupManager.doStartOrResumeRoutes(InternalRouteStartupManager.java:147)\r\n    at org.apache.camel.impl.engine.AbstractCamelContext.doStartCamel(AbstractCamelContext.java:3299)\r\n    at org.apache.camel.impl.engine.AbstractCamelContext.doStartContext(AbstractCamelContext.java:2951)\r\n    at org.apache.camel.impl.engine.AbstractCamelContext.doStart(AbstractCamelContext.java:2902)\r\n    at org.apache.camel.support.service.BaseService.start(BaseService.java:119)\r\n    at org.apache.camel.impl.engine.AbstractCamelContext.start(AbstractCamelContext.java:2586)\r\n    at org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:247)\r\n    at basyx.components.databridge.core.component.UpdaterComponent.startRoutes(UpdaterComponent.java:68)\r\n    at basyx.components.databridge.core.component.UpdaterComponent.startComponent(UpdaterComponent.java:62)\r\n    at basyx.components.databridge.executable.UpdaterExecutable.main(UpdaterExecutable.java:73)\r\n    Caused by: Unable to connect to server (32103) - java.net.ConnectException: Connection refused (Connection refused)\r\n     at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:80)\r\n     at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:724)\r\n     at java.base/java.lang.Thread.run(Thread.java:829)\r\n    Caused by: java.net.ConnectException: Connection refused (Connection refused)\r\n     at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\r\n     at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)\r\n     at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)\r\n     at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)\r\n     at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\n     at java.base/java.net.Socket.connect(Socket.java:609)\r\n     at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:74)\r\n     ... 2 more\r\n    [main] INFO org.apache.camel.impl.engine.AbstractCamelContext - Apache Camel 3.14.0 (camel-1) shutting down (timeout:45s)\r\n    [main] INFO org.apache.camel.impl.engine.AbstractCamelContext - Routes stopped (total:2 stopped:2)\r\n    [main] INFO org.apache.camel.impl.engine.AbstractCamelContext -     Stopped route2 (paho://PropertyB)\r\n    [main] INFO org.apache.camel.impl.engine.AbstractCamelContext -     Stopped route1 (paho://Properties)\r\n    [main] INFO org.apache.camel.impl.engine.AbstractCamelContext - Apache Camel 3.14.0 (camel-1) shutdown in 14ms (uptime:238ms)\r\n    org.apache.camel.RuntimeCamelException: Unable to connect to server (32103) - java.net.ConnectException: Connection refused (Connection refused)\r\n     at org.apache.camel.RuntimeCamelException.wrapRuntimeException(RuntimeCamelException.java:66)\r\n     at org.apache.camel.support.service.BaseService.doFail(BaseService.java:413)\r\n     at org.apache.camel.support.service.BaseService.fail(BaseService.java:342)\r\n     at org.apache.camel.support.service.BaseService.start(BaseService.java:132)\r\n     at org.apache.camel.support.service.ServiceHelper.startService(ServiceHelper.java:113)\r\n     at org.apache.camel.impl.engine.AbstractCamelContext.startService(AbstractCamelContext.java:3597)\r\n     at org.apache.camel.impl.engine.InternalRouteStartupManager.doStartOrResumeRouteConsumers(InternalRouteStartupManager.java:401)\r\n     at org.apache.camel.impl.engine.InternalRouteStartupManager.doStartRouteConsumers(InternalRouteStartupManager.java:319)\r\n     at org.apache.camel.impl.engine.InternalRouteStartupManager.safelyStartRouteServices(InternalRouteStartupManager.java:213)\r\n     at org.apache.camel.impl.engine.InternalRouteStartupManager.doStartOrResumeRoutes(InternalRouteStartupManager.java:147)\r\n     at org.apache.camel.impl.engine.AbstractCamelContext.doStartCamel(AbstractCamelContext.java:3299)\r\n     at org.apache.camel.impl.engine.AbstractCamelContext.doStartContext(AbstractCamelContext.java:2951)\r\n     at org.apache.camel.impl.engine.AbstractCamelContext.doStart(AbstractCamelContext.java:2902)\r\n     at org.apache.camel.support.service.BaseService.start(BaseService.java:119)\r\n     at org.apache.camel.impl.engine.AbstractCamelContext.start(AbstractCamelContext.java:2586)\r\n     at org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:247)\r\n     at basyx.components.databridge.core.component.UpdaterComponent.startRoutes(UpdaterComponent.java:68)\r\n     at basyx.components.databridge.core.component.UpdaterComponent.startComponent(UpdaterComponent.java:62)\r\n     at basyx.components.databridge.executable.UpdaterExecutable.main(UpdaterExecutable.java:73)\r\n    Caused by: Unable to connect to server (32103) - java.net.ConnectException: Connection refused (Connection refused)\r\n     at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:80)\r\n     at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:724)\r\n     at java.base/java.lang.Thread.run(Thread.java:829)\r\n    Caused by: java.net.ConnectException: Connection refused (Connection refused)\r\n     at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\r\n     at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)\r\n     at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)\r\n     at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)\r\n     at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\n     at java.base/java.net.Socket.connect(Socket.java:609)\r\n     at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:74)\r\n     ... 2 more\r\n\r\n**My docker compose file:**\r\n\r\n    version: &#39;3.8&#39;\r\n    services:\r\n    \r\n      bridge-service:\r\n        image: ${IMAGE_NAME}:${IMAGE_TAG}\r\n        container_name: ${CONTAINER_NAME}\r\n        volumes:\r\n          - C:\\Users\\user\\temp:/usr/share/config\r\n        depends_on:\r\n          mqtt:\r\n            condition: service_healthy\r\n    \r\n      mqtt:\r\n        image: eclipse-mosquitto:2.0.15\r\n        ports:\r\n          - 1884:1884\r\n        volumes:\r\n          - C:\\Users\\user\\temp\\mosquitto:/mosquitto/config\r\n        healthcheck:\r\n          test: [&quot;CMD-SHELL&quot;, mosquitto_sub -p 1884 -t &#39;topic&#39; -C 1 -E -i probe -W 3]\r\n          interval: 10s\r\n          retries: 2\r\n          start_period: 10s\r\n          timeout: 5s\r\n\r\nI am sure that this is due to docker because even if I am running jar file locally it is working fine.\r\n\r\nPlease help if anyone has any clue.","title":"Unable to connect with MQTT broker in Apache Camel inside docker container","body":"<p>I have a project with Apache camel, and it requires mqtt broker for connection. If I run mqtt broker (mosquitto) in docker and execute my project locally it is working totally fine but when I am running the project through Dockerfile i.e. making an executable jar and executing it on docker it says <strong>&quot;Unable to connect to server (32103) - java.net.ConnectException: Connection refused (Connection refused)&quot;</strong> even though mqtt broker is up and running.</p>\n<p>Full logs (exception):</p>\n<pre><code>    [main] ERROR org.apache.camel.impl.engine.AbstractCamelContext - Error starting CamelContext (camel-1) due to exception thrown: Unable to connect to server (32103) - java.net.ConnectException: Connection refused (Connection refused)\norg.apache.camel.RuntimeCamelException: Unable to connect to server (32103) - java.net.ConnectException: Connection refused (Connection refused)\nat org.apache.camel.RuntimeCamelException.wrapRuntimeException(RuntimeCamelException.java:66)\nat org.apache.camel.support.service.BaseService.doFail(BaseService.java:413)\nat org.apache.camel.support.service.BaseService.fail(BaseService.java:342)\nat org.apache.camel.support.service.BaseService.start(BaseService.java:132)\nat org.apache.camel.support.service.ServiceHelper.startService(ServiceHelper.java:113)\nat org.apache.camel.impl.engine.AbstractCamelContext.startService(AbstractCamelContext.java:3597)\nat org.apache.camel.impl.engine.InternalRouteStartupManager.doStartOrResumeRouteConsumers(InternalRouteStartupManager.java:401)\nat org.apache.camel.impl.engine.InternalRouteStartupManager.doStartRouteConsumers(InternalRouteStartupManager.java:319)\nat org.apache.camel.impl.engine.InternalRouteStartupManager.safelyStartRouteServices(InternalRouteStartupManager.java:213)\nat org.apache.camel.impl.engine.InternalRouteStartupManager.doStartOrResumeRoutes(InternalRouteStartupManager.java:147)\nat org.apache.camel.impl.engine.AbstractCamelContext.doStartCamel(AbstractCamelContext.java:3299)\nat org.apache.camel.impl.engine.AbstractCamelContext.doStartContext(AbstractCamelContext.java:2951)\nat org.apache.camel.impl.engine.AbstractCamelContext.doStart(AbstractCamelContext.java:2902)\nat org.apache.camel.support.service.BaseService.start(BaseService.java:119)\nat org.apache.camel.impl.engine.AbstractCamelContext.start(AbstractCamelContext.java:2586)\nat org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:247)\nat basyx.components.databridge.core.component.UpdaterComponent.startRoutes(UpdaterComponent.java:68)\nat basyx.components.databridge.core.component.UpdaterComponent.startComponent(UpdaterComponent.java:62)\nat basyx.components.databridge.executable.UpdaterExecutable.main(UpdaterExecutable.java:73)\nCaused by: Unable to connect to server (32103) - java.net.ConnectException: Connection refused (Connection refused)\n at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:80)\n at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:724)\n at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\n at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\n at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)\n at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)\n at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)\n at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\n at java.base/java.net.Socket.connect(Socket.java:609)\n at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:74)\n ... 2 more\n[main] INFO org.apache.camel.impl.engine.AbstractCamelContext - Apache Camel 3.14.0 (camel-1) shutting down (timeout:45s)\n[main] INFO org.apache.camel.impl.engine.AbstractCamelContext - Routes stopped (total:2 stopped:2)\n[main] INFO org.apache.camel.impl.engine.AbstractCamelContext -     Stopped route2 (paho://PropertyB)\n[main] INFO org.apache.camel.impl.engine.AbstractCamelContext -     Stopped route1 (paho://Properties)\n[main] INFO org.apache.camel.impl.engine.AbstractCamelContext - Apache Camel 3.14.0 (camel-1) shutdown in 14ms (uptime:238ms)\norg.apache.camel.RuntimeCamelException: Unable to connect to server (32103) - java.net.ConnectException: Connection refused (Connection refused)\n at org.apache.camel.RuntimeCamelException.wrapRuntimeException(RuntimeCamelException.java:66)\n at org.apache.camel.support.service.BaseService.doFail(BaseService.java:413)\n at org.apache.camel.support.service.BaseService.fail(BaseService.java:342)\n at org.apache.camel.support.service.BaseService.start(BaseService.java:132)\n at org.apache.camel.support.service.ServiceHelper.startService(ServiceHelper.java:113)\n at org.apache.camel.impl.engine.AbstractCamelContext.startService(AbstractCamelContext.java:3597)\n at org.apache.camel.impl.engine.InternalRouteStartupManager.doStartOrResumeRouteConsumers(InternalRouteStartupManager.java:401)\n at org.apache.camel.impl.engine.InternalRouteStartupManager.doStartRouteConsumers(InternalRouteStartupManager.java:319)\n at org.apache.camel.impl.engine.InternalRouteStartupManager.safelyStartRouteServices(InternalRouteStartupManager.java:213)\n at org.apache.camel.impl.engine.InternalRouteStartupManager.doStartOrResumeRoutes(InternalRouteStartupManager.java:147)\n at org.apache.camel.impl.engine.AbstractCamelContext.doStartCamel(AbstractCamelContext.java:3299)\n at org.apache.camel.impl.engine.AbstractCamelContext.doStartContext(AbstractCamelContext.java:2951)\n at org.apache.camel.impl.engine.AbstractCamelContext.doStart(AbstractCamelContext.java:2902)\n at org.apache.camel.support.service.BaseService.start(BaseService.java:119)\n at org.apache.camel.impl.engine.AbstractCamelContext.start(AbstractCamelContext.java:2586)\n at org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:247)\n at basyx.components.databridge.core.component.UpdaterComponent.startRoutes(UpdaterComponent.java:68)\n at basyx.components.databridge.core.component.UpdaterComponent.startComponent(UpdaterComponent.java:62)\n at basyx.components.databridge.executable.UpdaterExecutable.main(UpdaterExecutable.java:73)\nCaused by: Unable to connect to server (32103) - java.net.ConnectException: Connection refused (Connection refused)\n at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:80)\n at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:724)\n at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\n at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\n at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)\n at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)\n at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)\n at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\n at java.base/java.net.Socket.connect(Socket.java:609)\n at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:74)\n ... 2 more\n</code></pre>\n<p><strong>My docker compose file:</strong></p>\n<pre><code>version: '3.8'\nservices:\n\n  bridge-service:\n    image: ${IMAGE_NAME}:${IMAGE_TAG}\n    container_name: ${CONTAINER_NAME}\n    volumes:\n      - C:\\Users\\user\\temp:/usr/share/config\n    depends_on:\n      mqtt:\n        condition: service_healthy\n\n  mqtt:\n    image: eclipse-mosquitto:2.0.15\n    ports:\n      - 1884:1884\n    volumes:\n      - C:\\Users\\user\\temp\\mosquitto:/mosquitto/config\n    healthcheck:\n      test: [&quot;CMD-SHELL&quot;, mosquitto_sub -p 1884 -t 'topic' -C 1 -E -i probe -W 3]\n      interval: 10s\n      retries: 2\n      start_period: 10s\n      timeout: 5s\n</code></pre>\n<p>I am sure that this is due to docker because even if I am running jar file locally it is working fine.</p>\n<p>Please help if anyone has any clue.</p>\n"},{"tags":["java","arrays","sorting","data-structures","merge"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1671573937,"post_id":74869338,"comment_id":132127690,"body_markdown":"Depends how you want them merged. If its supposed to mirror the first code its the same thing, but you have a variable number of arrays to merge instead of the three currently hard-coded.","body":"Depends how you want them merged. If its supposed to mirror the first code its the same thing, but you have a variable number of arrays to merge instead of the three currently hard-coded."},{"owner":{"account_id":27307227,"reputation":5,"user_id":20822983,"display_name":"Antonio Safi"},"score":0,"creation_date":1671574273,"post_id":74869338,"comment_id":132127766,"body_markdown":"when running it from the main method it can take multiple arrays as input for example.\nint[] a = new int[] {1,6,11,16,21};\nint[] b = new int[] {2,7,12,17,22}; int[] c = new int[] {3,8,13,18,23};\nint[] d = new int[] {4,9,14,19,24};\nint[] e = new int[] {5,10,15,20,25};\nint[][] arrs = new int[][] {a,b,c,d,e};","body":"when running it from the main method it can take multiple arrays as input for example. int[] a = new int[] {1,6,11,16,21}; int[] b = new int[] {2,7,12,17,22}; int[] c = new int[] {3,8,13,18,23}; int[] d = new int[] {4,9,14,19,24}; int[] e = new int[] {5,10,15,20,25}; int[][] arrs = new int[][] {a,b,c,d,e};"},{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":0,"creation_date":1671575426,"post_id":74869338,"comment_id":132127966,"body_markdown":"first you calculate the size of the single array then you use 2 for loops to iterate the 2d array and insert the values to the new array","body":"first you calculate the size of the single array then you use 2 for loops to iterate the 2d array and insert the values to the new array"}],"answers":[{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1671575879,"creation_date":1671575879,"answer_id":74869568,"question_id":74869338,"body_markdown":"Using your example input:\r\n\r\n      public static void main(String[] args) {\r\n        int[] a = new int[] {1,6,11,16,21};\r\n        int[] b = new int[] {2,7,12,17,22};\r\n        int[] c = new int[] {3,8,13,18,23};\r\n        int[] d = new int[] {4,9,14,19,24};\r\n        int[] e = new int[] {5,10,15,20,25};\r\n        int[][] arrs = new int[][] {a,b,c,d,e};\r\n    \r\n        int[] combined = mergeAll(arrs);\r\n        System.out.println(Arrays.toString(combined));\r\n      }\r\n      \r\n      public static int[] mergeAll(int[][] arrays) {\r\n        int size = 0;\r\n        for(int[] row : arrays) {\r\n          size = size + row.length;\r\n        }\r\n    \r\n        int index = 0;\r\n        int[] combined = new int[size];\r\n        for(int[] row : arrays) {\r\n          for(int value : row) {\r\n            combined[index++] = value;\r\n          }\r\n        }\r\n        return combined;\r\n      }\r\n\r\nOutput:\r\n\r\n    [1, 6, 11, 16, 21, 2, 7, 12, 17, 22, 3, 8, 13, 18, 23, 4, 9, 14, 19, 24, 5, 10, 15, 20, 25]","title":"Merge function but instead of having multiple arrays as parameters, it takes only one two dimensional array as a parameter( array of arrays)?","body":"<p>Using your example input:</p>\n<pre><code>  public static void main(String[] args) {\n    int[] a = new int[] {1,6,11,16,21};\n    int[] b = new int[] {2,7,12,17,22};\n    int[] c = new int[] {3,8,13,18,23};\n    int[] d = new int[] {4,9,14,19,24};\n    int[] e = new int[] {5,10,15,20,25};\n    int[][] arrs = new int[][] {a,b,c,d,e};\n\n    int[] combined = mergeAll(arrs);\n    System.out.println(Arrays.toString(combined));\n  }\n  \n  public static int[] mergeAll(int[][] arrays) {\n    int size = 0;\n    for(int[] row : arrays) {\n      size = size + row.length;\n    }\n\n    int index = 0;\n    int[] combined = new int[size];\n    for(int[] row : arrays) {\n      for(int value : row) {\n        combined[index++] = value;\n      }\n    }\n    return combined;\n  }\n</code></pre>\n<p>Output:</p>\n<pre><code>[1, 6, 11, 16, 21, 2, 7, 12, 17, 22, 3, 8, 13, 18, 23, 4, 9, 14, 19, 24, 5, 10, 15, 20, 25]\n</code></pre>\n"}],"owner":{"account_id":27307227,"reputation":5,"user_id":20822983,"display_name":"Antonio Safi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1671575879,"creation_date":1671573791,"question_id":74869338,"body_markdown":"my merge method for 3 arrays as input parameter:\r\n\r\n```\r\npublic static int[] merge3(int[] a, int[] b, int[] c) {\r\n\r\n    int aLength = a.length;\r\n    int bLength = b.length;\r\n    int cLength = c.length;\r\n    int [] d = new int[aLength+bLength+cLength];\r\n\r\n    int i = 0;//index for a;\r\n    int j = 0;//index for b;\r\n    int k = 0;//index for c;\r\n    int l = 0;//index for new sorted array l.\r\n    for (l = 0; l &lt; d.length; l++) {\r\n        d[l] = i &lt; a.length &amp;&amp; (j &gt;= b.length || a[i] &lt; b[j])\r\n                ? (k &gt;= c.length || a[i] &lt; c[k]\r\n                ? a[i++]\r\n                : c[k++])\r\n                : (j &lt; b.length &amp;&amp; (k &gt;= c.length || b[j] &lt; c[k])\r\n                ? b[j++]\r\n                : c[k++]);\r\n\r\n    }\r\n\r\n    return d;\r\n}\r\n```\r\n\r\nbelow is a snippet of how mergeAll method should be implemented.\r\n\r\n```\r\npublic static int[] mergeAll(int[][] arrays) {\r\n    return new int[] {-1};\r\n}\r\n```\r\n\r\nHow can a 2D array be merged into a single one dimensional Array?","title":"Merge function but instead of having multiple arrays as parameters, it takes only one two dimensional array as a parameter( array of arrays)?","body":"<p>my merge method for 3 arrays as input parameter:</p>\n<pre><code>public static int[] merge3(int[] a, int[] b, int[] c) {\n\n    int aLength = a.length;\n    int bLength = b.length;\n    int cLength = c.length;\n    int [] d = new int[aLength+bLength+cLength];\n\n    int i = 0;//index for a;\n    int j = 0;//index for b;\n    int k = 0;//index for c;\n    int l = 0;//index for new sorted array l.\n    for (l = 0; l &lt; d.length; l++) {\n        d[l] = i &lt; a.length &amp;&amp; (j &gt;= b.length || a[i] &lt; b[j])\n                ? (k &gt;= c.length || a[i] &lt; c[k]\n                ? a[i++]\n                : c[k++])\n                : (j &lt; b.length &amp;&amp; (k &gt;= c.length || b[j] &lt; c[k])\n                ? b[j++]\n                : c[k++]);\n\n    }\n\n    return d;\n}\n</code></pre>\n<p>below is a snippet of how mergeAll method should be implemented.</p>\n<pre><code>public static int[] mergeAll(int[][] arrays) {\n    return new int[] {-1};\n}\n</code></pre>\n<p>How can a 2D array be merged into a single one dimensional Array?</p>\n"},{"tags":["java","mongodb","mongodb-query","mongo-java","mongo-collection"],"comments":[{"owner":{"account_id":2327892,"reputation":1072,"user_id":2041930,"accept_rate":62,"display_name":"praveen_programmer"},"score":0,"creation_date":1419941435,"post_id":27705188,"comment_id":43822321,"body_markdown":"You can check first given value exist or not in mongoDB collection.","body":"You can check first given value exist or not in mongoDB collection."},{"owner":{"account_id":3286463,"reputation":455,"user_id":2765845,"accept_rate":45,"display_name":"sarath"},"score":0,"creation_date":1419941606,"post_id":27705188,"comment_id":43822388,"body_markdown":"thats what i want but how can i do that using mongoDB","body":"thats what i want but how can i do that using mongoDB"},{"owner":{"account_id":3286463,"reputation":455,"user_id":2765845,"accept_rate":45,"display_name":"sarath"},"score":0,"creation_date":1419941630,"post_id":27705188,"comment_id":43822403,"body_markdown":".append(&quot;unique&quot;, true).\n\nwill appending this will do ?","body":".append(&quot;unique&quot;, true).  will appending this will do ?"},{"owner":{"account_id":51229,"reputation":5159,"user_id":153028,"display_name":"Martin"},"score":1,"creation_date":1419947227,"post_id":27705188,"comment_id":43825050,"body_markdown":"@praveen_programmer no it will not avoid duplicates. It will add a field with the name unique and the value true to all documents. There are no magic values to set","body":"@praveen_programmer no it will not avoid duplicates. It will add a field with the name unique and the value true to all documents. There are no magic values to set"}],"answers":[{"tags":[],"owner":{"account_id":51229,"reputation":5159,"user_id":153028,"display_name":"Martin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1419946902,"creation_date":1419946902,"answer_id":27706563,"question_id":27705188,"body_markdown":"You have two options to ensure the uniqueness of product_src:\r\n\r\n - Store it  as the documents `_id`. There is always a unique index constraint on _id\r\n - [Create a unique index][1] on product_src \r\n\r\nWith a unique index MongoDB will throw an error when inserting a document with a duplicate value and not add the document to the collection.\r\n\r\n\r\n  [1]: http://docs.mongodb.org/manual/tutorial/create-a-unique-index/","title":"checking unique while inserting to mongoDB","body":"<p>You have two options to ensure the uniqueness of product_src:</p>\n\n<ul>\n<li>Store it  as the documents <code>_id</code>. There is always a unique index constraint on _id</li>\n<li><a href=\"http://docs.mongodb.org/manual/tutorial/create-a-unique-index/\" rel=\"nofollow\">Create a unique index</a> on product_src </li>\n</ul>\n\n<p>With a unique index MongoDB will throw an error when inserting a document with a duplicate value and not add the document to the collection.</p>\n"},{"tags":[],"owner":{"account_id":3692489,"reputation":132,"user_id":3074777,"display_name":"Venkatesh Nadar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671575823,"creation_date":1671575823,"answer_id":74869558,"question_id":27705188,"body_markdown":"After much research I found unique check without raising duplicate Error.\r\n\r\n    db.collection(&quot;collection_name&quot;)\r\n        .updateOne({ field1:&quot;field1&quot;, field2:&quot;field2&quot; }, {\r\n            $setOnInsert: { _id: &quot;ObjectID&quot; }\r\n        }, {\r\n            upsert: true\r\n        })\r\n\r\nThe above query will insert only if document not found.\r\nIf document found then the response will be as shown below.\r\n\r\n    {\r\n      acknowledged: true,\r\n      modifiedCount: 0,\r\n      upsertedId: null,\r\n      upsertedCount: 0,\r\n      matchedCount: 1\r\n    }\r\n\r\nIf document not found then response will be as shown below.\r\n\r\n    {\r\n      acknowledged: true,\r\n      modifiedCount: 0,\r\n      upsertedId: &#39;some_upserted_id&#39;,\r\n      upsertedCount: 1,\r\n      matchedCount: 0\r\n    }\r\n\r\nTo summarize my research, if we have \r\n\r\n&gt; upsertedCount: 1 or upsertedId: &#39;some_upserted_id&#39;\r\n\r\nthen record inserted successfully else document already exist and we don&#39;t do anything.","title":"checking unique while inserting to mongoDB","body":"<p>After much research I found unique check without raising duplicate Error.</p>\n<pre><code>db.collection(&quot;collection_name&quot;)\n    .updateOne({ field1:&quot;field1&quot;, field2:&quot;field2&quot; }, {\n        $setOnInsert: { _id: &quot;ObjectID&quot; }\n    }, {\n        upsert: true\n    })\n</code></pre>\n<p>The above query will insert only if document not found.\nIf document found then the response will be as shown below.</p>\n<pre><code>{\n  acknowledged: true,\n  modifiedCount: 0,\n  upsertedId: null,\n  upsertedCount: 0,\n  matchedCount: 1\n}\n</code></pre>\n<p>If document not found then response will be as shown below.</p>\n<pre><code>{\n  acknowledged: true,\n  modifiedCount: 0,\n  upsertedId: 'some_upserted_id',\n  upsertedCount: 1,\n  matchedCount: 0\n}\n</code></pre>\n<p>To summarize my research, if we have</p>\n<blockquote>\n<p>upsertedCount: 1 or upsertedId: 'some_upserted_id'</p>\n</blockquote>\n<p>then record inserted successfully else document already exist and we don't do anything.</p>\n"}],"owner":{"account_id":3286463,"reputation":455,"user_id":2765845,"accept_rate":45,"display_name":"sarath"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3841,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":27706563,"answer_count":2,"score":1,"last_activity_date":1671575823,"creation_date":1419941147,"question_id":27705188,"body_markdown":"I have a program to insert some values into the mongo db and i want to avoid repeated product_src inserting into the database. how can i set that in code? my code is \r\n\r\n    BObject doc = new BasicDBObject(&quot;product_name&quot;, bean.getProductName()).\r\n\t\t\t            append(&quot;product_url&quot;, bean.getProductURL()).\r\n\t\t\t            append(&quot;product_img&quot;, bean.getImageURL()).\r\n\t\t\t            append(&quot;product_price&quot;, bean.getPrice()).\r\n\t\t\t            append(&quot;product_src&quot;, bean.product_src).\r\n\t\t\t            append(&quot;country&quot;, bean.country));\r\n\r\n\r\nthanks in advance. ","title":"checking unique while inserting to mongoDB","body":"<p>I have a program to insert some values into the mongo db and i want to avoid repeated product_src inserting into the database. how can i set that in code? my code is </p>\n\n<pre><code>BObject doc = new BasicDBObject(\"product_name\", bean.getProductName()).\n                    append(\"product_url\", bean.getProductURL()).\n                    append(\"product_img\", bean.getImageURL()).\n                    append(\"product_price\", bean.getPrice()).\n                    append(\"product_src\", bean.product_src).\n                    append(\"country\", bean.country));\n</code></pre>\n\n<p>thanks in advance. </p>\n"},{"tags":["java","linux","jar"],"comments":[{"owner":{"account_id":64324,"reputation":76480,"user_id":189950,"accept_rate":79,"display_name":"Kirk Woll"},"score":3,"creation_date":1293123602,"post_id":4520822,"comment_id":4951209,"body_markdown":"Since a &quot;jar&quot; is just a zip file, I suspect you&#39;ll have better luck on http://superuser.com.","body":"Since a &quot;jar&quot; is just a zip file, I suspect you&#39;ll have better luck on <a href=\"http://superuser.com\">superuser.com</a>."},{"owner":{"account_id":156522,"reputation":13969,"user_id":373861,"accept_rate":95,"display_name":"Favonius"},"score":0,"creation_date":1293123938,"post_id":4520822,"comment_id":4951257,"body_markdown":"You can also try writing a shell script to wrap the whole process. Something like `./myscript.sh -d &lt;list of files&gt;`","body":"You can also try writing a shell script to wrap the whole process. Something like <code>.&#47;myscript.sh -d &lt;list of files&gt;</code>"}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1293124145,"creation_date":1293124145,"answer_id":4520912,"question_id":4520822,"body_markdown":"In Java you can copy all the entries of a jar except the one you want to delete. i.e. you have to make a copy but don&#39;t need to create the individual files.\r\n\r\nYou can do this by\r\n\r\n- creating a new jar.\r\n- iterating though the Jar you have\r\n- copy the entry from one jar to the other, skipping any files you want.\r\n- close and replace the orginal jar if you want.","title":"Is there a quick way to delete a file from a Jar / war without having to extract the jar and recreate it?","body":"<p>In Java you can copy all the entries of a jar except the one you want to delete. i.e. you have to make a copy but don't need to create the individual files.</p>\n\n<p>You can do this by</p>\n\n<ul>\n<li>creating a new jar.</li>\n<li>iterating though the Jar you have</li>\n<li>copy the entry from one jar to the other, skipping any files you want.</li>\n<li>close and replace the orginal jar if you want.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":74381,"reputation":5810,"user_id":213765,"accept_rate":25,"display_name":"martona"},"down_vote_count":0,"up_vote_count":258,"is_accepted":true,"score":258,"last_activity_date":1293124272,"creation_date":1293124272,"answer_id":4520932,"question_id":4520822,"body_markdown":"    zip -d file.jar unwanted_file.txt\r\n\r\njar is just a zip file after all. Definitely much faster than uncompressing/recompressing. \r\n","title":"Is there a quick way to delete a file from a Jar / war without having to extract the jar and recreate it?","body":"<pre><code>zip -d file.jar unwanted_file.txt\n</code></pre>\n\n<p>jar is just a zip file after all. Definitely much faster than uncompressing/recompressing. </p>\n"},{"tags":[],"owner":{"account_id":329814,"reputation":11000,"user_id":653539,"accept_rate":50,"display_name":"Tom&#225; Z&#225;lusk&#253;"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1405001310,"creation_date":1405001310,"answer_id":24678761,"question_id":4520822,"body_markdown":"In case you want to delete file in order to unsign signed jar, you can probably just make the .RSA file zero-sized. This can be accomplished with just `jar u`. See https://stackoverflow.com/a/24678645/653539 . (Worked for me, though I admit it&#39;s hack.)\r\n","title":"Is there a quick way to delete a file from a Jar / war without having to extract the jar and recreate it?","body":"<p>In case you want to delete file in order to unsign signed jar, you can probably just make the .RSA file zero-sized. This can be accomplished with just <code>jar u</code>. See <a href=\"https://stackoverflow.com/a/24678645/653539\">https://stackoverflow.com/a/24678645/653539</a> . (Worked for me, though I admit it's hack.)</p>\n"},{"tags":[],"owner":{"account_id":8018332,"reputation":132,"user_id":6047804,"display_name":"Gamebuster19901"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639629019,"creation_date":1639629019,"answer_id":70373845,"question_id":4520822,"body_markdown":"If you wish to do this programatically, can use the Zip File System to treat zip/jar files as a file system. This will allow you to edit, delete, and add files to the jar file.\r\n\r\nSee https://stackoverflow.com/questions/2223434/appending-files-to-a-zip-file-with-java","title":"Is there a quick way to delete a file from a Jar / war without having to extract the jar and recreate it?","body":"<p>If you wish to do this programatically, can use the Zip File System to treat zip/jar files as a file system. This will allow you to edit, delete, and add files to the jar file.</p>\n<p>See <a href=\"https://stackoverflow.com/questions/2223434/appending-files-to-a-zip-file-with-java\">Appending files to a zip file with Java</a></p>\n"},{"tags":[],"owner":{"account_id":98471,"reputation":15227,"user_id":266531,"accept_rate":100,"display_name":"Kirby"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671575095,"creation_date":1671575095,"answer_id":74869475,"question_id":4520822,"body_markdown":"The best answer for me was in a [comment][1] by [lapo][2] on [another answer][3] on this post. \r\n\r\nUser [lapo][2] [wrote][1]:\r\n&gt; I more often have `p7zip` installed instead of zip and in this case it&#39;s important to specify file format: `7z d -tzip file.jar dir/unwanted_file.txt`\r\n\r\nUser lapo&#39;s comment is in response to an answer suggesting using `zip -d` directly since the .jar files are like .zip archives but not exactly the same format. Like others, I wasn&#39;t able to use `zip -d file.jar unwanted_file.txt`. That would lead to \r\n&gt; zip error: Zip file structure invalid\r\n\r\nBut, I was able to install `p7zip` via `brew install p7zip`, and then I was able to delete using `7z d -tzip file.jar unwanted_file.txt`.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4520822/is-there-a-quick-way-to-delete-a-file-from-a-jar-war-without-having-to-extract#comment26262497_4520932\r\n  [2]: https://stackoverflow.com/users/166524/lapo\r\n  [3]: https://stackoverflow.com/a/4520932/266531","title":"Is there a quick way to delete a file from a Jar / war without having to extract the jar and recreate it?","body":"<p>The best answer for me was in a <a href=\"https://stackoverflow.com/questions/4520822/is-there-a-quick-way-to-delete-a-file-from-a-jar-war-without-having-to-extract#comment26262497_4520932\">comment</a> by <a href=\"https://stackoverflow.com/users/166524/lapo\">lapo</a> on <a href=\"https://stackoverflow.com/a/4520932/266531\">another answer</a> on this post.</p>\n<p>User <a href=\"https://stackoverflow.com/users/166524/lapo\">lapo</a> <a href=\"https://stackoverflow.com/questions/4520822/is-there-a-quick-way-to-delete-a-file-from-a-jar-war-without-having-to-extract#comment26262497_4520932\">wrote</a>:</p>\n<blockquote>\n<p>I more often have <code>p7zip</code> installed instead of zip and in this case it's important to specify file format: <code>7z d -tzip file.jar dir/unwanted_file.txt</code></p>\n</blockquote>\n<p>User lapo's comment is in response to an answer suggesting using <code>zip -d</code> directly since the .jar files are like .zip archives but not exactly the same format. Like others, I wasn't able to use <code>zip -d file.jar unwanted_file.txt</code>. That would lead to</p>\n<blockquote>\n<p>zip error: Zip file structure invalid</p>\n</blockquote>\n<p>But, I was able to install <code>p7zip</code> via <code>brew install p7zip</code>, and then I was able to delete using <code>7z d -tzip file.jar unwanted_file.txt</code>.</p>\n"}],"owner":{"account_id":103429,"reputation":6646,"user_id":277023,"accept_rate":56,"display_name":"kellyfj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124374,"favorite_count":0,"down_vote_count":0,"up_vote_count":131,"accepted_answer_id":4520932,"answer_count":5,"score":131,"last_activity_date":1671575095,"creation_date":1293123474,"question_id":4520822,"body_markdown":"So I need to remove a file from a jar / war file.\r\nI was hoping there was something like &quot;jar -d myjar.jar  file_I_donot_need.txt&quot;\r\n\r\nBut right now the only way I can see of doing this from my Linux command line (without using WinRAR/Winzip or linux equivalent) is to\r\n\r\n - Do &quot;jar -xvf&quot; and extract the   \r\n    complete Jar file\r\n - Remove the file(s) I don&#39;t need\r\n - Rejar the jar file using &quot;jar -cvf&quot;\r\n\r\nPlease tell me there is a shorter way? ","title":"Is there a quick way to delete a file from a Jar / war without having to extract the jar and recreate it?","body":"<p>So I need to remove a file from a jar / war file.\nI was hoping there was something like \"jar -d myjar.jar  file_I_donot_need.txt\"</p>\n\n<p>But right now the only way I can see of doing this from my Linux command line (without using WinRAR/Winzip or linux equivalent) is to</p>\n\n<ul>\n<li>Do \"jar -xvf\" and extract the<br>\ncomplete Jar file</li>\n<li>Remove the file(s) I don't need</li>\n<li>Rejar the jar file using \"jar -cvf\"</li>\n</ul>\n\n<p>Please tell me there is a shorter way? </p>\n"},{"tags":["java","linux","hadoop","redis","apache-storm"],"comments":[{"owner":{"account_id":928182,"reputation":9797,"user_id":958529,"accept_rate":100,"display_name":"halfelf"},"score":0,"creation_date":1409726748,"post_id":25636562,"comment_id":40057662,"body_markdown":"I suggest using a project management tool like maven to care about the cp, compiling and uberjar.","body":"I suggest using a project management tool like maven to care about the cp, compiling and uberjar."}],"answers":[{"tags":[],"owner":{"account_id":435955,"reputation":4272,"user_id":822822,"accept_rate":100,"display_name":"Vishal John"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1409725338,"creation_date":1409723699,"answer_id":25637167,"question_id":25636562,"body_markdown":"You need to package all your code and dependencies into a single jar.\r\n\r\nRefer to the [Storm tutorial][1], Topologies section,\r\n\r\n&gt; Running a topology is straightforward. First, you package all your\r\n&gt; code and dependencies into a single jar. Then, you run a command like\r\n&gt; the following:\r\n&gt; \r\n&gt; storm jar all-my-code.jar backtype.storm.MyTopology arg1 arg2\r\n\r\n\r\nYou may have to use some packaging tool like, OneJAR, JarJar or ANT and create a jar containing all your files and dependencies. Please refer to these SO posts\r\n\r\n1. [Merging Multiple Jars in to a Single Jar][2]\r\n2. [Easiest way to merge a release into one JAR file][3]\r\n\r\n\r\n  [1]: https://storm.incubator.apache.org/documentation/Tutorial.html\r\n  [2]: https://stackoverflow.com/questions/882204/merging-multiple-jars-in-to-a-single-jar\r\n  [3]: https://stackoverflow.com/questions/81260/easiest-way-to-merge-a-release-into-one-jar-file","title":"Error running Storm with Redis: java.lang.NoClassDefFoundError: Lredis/clients/jedis/Jedis","body":"<p>You need to package all your code and dependencies into a single jar.</p>\n\n<p>Refer to the <a href=\"https://storm.incubator.apache.org/documentation/Tutorial.html\" rel=\"nofollow noreferrer\">Storm tutorial</a>, Topologies section,</p>\n\n<blockquote>\n  <p>Running a topology is straightforward. First, you package all your\n  code and dependencies into a single jar. Then, you run a command like\n  the following:</p>\n  \n  <p>storm jar all-my-code.jar backtype.storm.MyTopology arg1 arg2</p>\n</blockquote>\n\n<p>You may have to use some packaging tool like, OneJAR, JarJar or ANT and create a jar containing all your files and dependencies. Please refer to these SO posts</p>\n\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/882204/merging-multiple-jars-in-to-a-single-jar\">Merging Multiple Jars in to a Single Jar</a></li>\n<li><a href=\"https://stackoverflow.com/questions/81260/easiest-way-to-merge-a-release-into-one-jar-file\">Easiest way to merge a release into one JAR file</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4974185,"reputation":453,"user_id":4001057,"accept_rate":12,"display_name":"Sushmita Bhattacharya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1409737280,"creation_date":1409737280,"answer_id":25641054,"question_id":25636562,"body_markdown":"Thank you John for the answer .\r\n\r\nBut I found another solution.\r\n\r\nI did not included jedis-2.1.0.jar, commons-pool-1.5.5.jar in my $STORM_HOME/lib/\r\n\r\nNote: this two files were there in the $REDIS_CORE.","title":"Error running Storm with Redis: java.lang.NoClassDefFoundError: Lredis/clients/jedis/Jedis","body":"<p>Thank you John for the answer .</p>\n\n<p>But I found another solution.</p>\n\n<p>I did not included jedis-2.1.0.jar, commons-pool-1.5.5.jar in my $STORM_HOME/lib/</p>\n\n<p>Note: this two files were there in the $REDIS_CORE.</p>\n"},{"tags":[],"owner":{"account_id":12011794,"reputation":11,"user_id":8788192,"display_name":"skywalker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1508221329,"creation_date":1508221329,"answer_id":46783720,"question_id":25636562,"body_markdown":"1)add jedis in dependency\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;redis.clients&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jedis&lt;/artifactId&gt;\r\n        &lt;version&gt;2.9.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n2)use assembly plugin to package all dependencies into one jar file\r\n \r\n\r\n       &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;manifest&gt;\r\n                    &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                    &lt;mainClass&gt;your main class&lt;/mainClass&gt;\r\n                &lt;/manifest&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n                &lt;archive&gt;\r\n                    &lt;manifest&gt;\r\n                        &lt;mainClass&gt;your main class&lt;/mainClass&gt;\r\n                    &lt;/manifest&gt;\r\n                &lt;/archive&gt;\r\n                &lt;descriptorRefs&gt;\r\n                    &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                &lt;/descriptorRefs&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;id&gt;make-assembly&lt;/id&gt;\r\n                    &lt;phase&gt;package&lt;/phase&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;single&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n\r\n3) ignore storm-core in package\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.storm&lt;/groupId&gt;\r\n        &lt;artifactId&gt;storm-core&lt;/artifactId&gt;\r\n        &lt;version&gt;1.1.1&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"Error running Storm with Redis: java.lang.NoClassDefFoundError: Lredis/clients/jedis/Jedis","body":"<p>1)add jedis in dependency</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;redis.clients&lt;/groupId&gt;\n    &lt;artifactId&gt;jedis&lt;/artifactId&gt;\n    &lt;version&gt;2.9.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>2)use assembly plugin to package all dependencies into one jar file</p>\n\n<pre><code>   &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.6&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;manifest&gt;\n                &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                &lt;mainClass&gt;your main class&lt;/mainClass&gt;\n            &lt;/manifest&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n            &lt;archive&gt;\n                &lt;manifest&gt;\n                    &lt;mainClass&gt;your main class&lt;/mainClass&gt;\n                &lt;/manifest&gt;\n            &lt;/archive&gt;\n            &lt;descriptorRefs&gt;\n                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n            &lt;/descriptorRefs&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;id&gt;make-assembly&lt;/id&gt;\n                &lt;phase&gt;package&lt;/phase&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;single&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n</code></pre>\n\n<p>3) ignore storm-core in package</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.storm&lt;/groupId&gt;\n    &lt;artifactId&gt;storm-core&lt;/artifactId&gt;\n    &lt;version&gt;1.1.1&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7057219,"reputation":444,"user_id":5404020,"display_name":"Sachin Sridhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552125649,"creation_date":1552125649,"answer_id":55076142,"question_id":25636562,"body_markdown":"JedisPoolConfig is needed when we use\tJedis Configuration. In Spring Boot 2.0, spring-boot-starter-data-redis gives Lettuce dependency by default instead of Jedis. To use Jedis configuration, exclude Lettuce and add Jedis as following.\r\n\r\n        &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n         &lt;groupId&gt;io.lettuce&lt;/groupId&gt;\r\n         &lt;artifactId&gt;lettuce-core&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;            \r\n    &lt;/dependency&gt;        \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;redis.clients&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jedis&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;","title":"Error running Storm with Redis: java.lang.NoClassDefFoundError: Lredis/clients/jedis/Jedis","body":"<p>JedisPoolConfig is needed when we use   Jedis Configuration. In Spring Boot 2.0, spring-boot-starter-data-redis gives Lettuce dependency by default instead of Jedis. To use Jedis configuration, exclude Lettuce and add Jedis as following.</p>\n\n<pre><code>    &lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\n  &lt;exclusions&gt;\n    &lt;exclusion&gt;\n     &lt;groupId&gt;io.lettuce&lt;/groupId&gt;\n     &lt;artifactId&gt;lettuce-core&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt;            \n&lt;/dependency&gt;        \n&lt;dependency&gt;\n  &lt;groupId&gt;redis.clients&lt;/groupId&gt;\n  &lt;artifactId&gt;jedis&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13161401,"reputation":333,"user_id":9506781,"display_name":"Oskarro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671574929,"creation_date":1671574929,"answer_id":74869460,"question_id":25636562,"body_markdown":"information for the following issues regarding the higher version of Spring Data Redis:\r\n\r\nDue to the amount of breaking changes in Jedis 4, Spring Data Redis 2.x cannot be used with Jedis 4.x.\r\nJedis 4.x support will be part of Data Redis 3.0","title":"Error running Storm with Redis: java.lang.NoClassDefFoundError: Lredis/clients/jedis/Jedis","body":"<p>information for the following issues regarding the higher version of Spring Data Redis:</p>\n<p>Due to the amount of breaking changes in Jedis 4, Spring Data Redis 2.x cannot be used with Jedis 4.x.\nJedis 4.x support will be part of Data Redis 3.0</p>\n"}],"owner":{"account_id":4974185,"reputation":453,"user_id":4001057,"accept_rate":12,"display_name":"Sushmita Bhattacharya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1671574929,"creation_date":1409720507,"question_id":25636562,"body_markdown":"My Storm class uses Redis queue to collect data.\r\n\r\nI tried to run my Storm jar by \r\n\r\n    storm jar jar_file_name.jar Topology_name configuration_file\r\n\r\nBut I got the following exception:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: Lredis/clients/jedis/Jedis;\r\n\t    at java.lang.Class.getDeclaredFields0(Native Method)\r\n\t    at java.lang.Class.privateGetDeclaredFields(Class.java:2397)\r\n    \tat java.lang.Class.getDeclaredField(Class.java:1946)\r\n\t    at java.io.ObjectStreamClass.getDeclaredSUID(ObjectStreamClass.java:1659)\r\n    \tat java.io.ObjectStreamClass.access$700(ObjectStreamClass.java:72)\r\n\t    at java.io.ObjectStreamClass$2.run(ObjectStreamClass.java:480)\r\n    \tat java.io.ObjectStreamClass$2.run(ObjectStreamClass.java:468)\r\n\t    at java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.io.ObjectStreamClass.&lt;init&gt;(ObjectStreamClass.java:468)\r\n\t    at java.io.ObjectStreamClass.lookup(ObjectStreamClass.java:365)\r\n    \tat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1133)\r\n\t    at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:347)\r\n    \tat backtype.storm.utils.Utils.serialize(Utils.java:77)\r\n\t    at backtype.storm.topology.TopologyBuilder.createTopology(TopologyBuilder.java:111)\r\n    \tat OutlierPredictor.main(OutlierPredictor.java:98)\r\n     Caused by: java.lang.ClassNotFoundException: redis.clients.jedis.Jedis\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:366)\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:355)\r\n\t    at java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:354)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:425)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\r\n\t    at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\r\n\r\nI have compiled using\r\n\r\n    javac -classpath $HADOOP_CORE:$HBASE_CLASSPATH:/usr/local/hadoop-  2.2.0/redis_jar/commons-pool-1.5.5.jar:/usr/local/hadoop-2.2.0/redis_jar/jedis-2.1.0.jar:/usr/local/apache-storm-0.9.2-incubating/lib/storm-core-0.9.2-incubating.jar -d dir_name/ dir_name/Javafile.java \r\n\r\nfrom command line.\r\n\r\nI am executing this in a single node set up.\r\n\r\nWhat is going wrong?","title":"Error running Storm with Redis: java.lang.NoClassDefFoundError: Lredis/clients/jedis/Jedis","body":"<p>My Storm class uses Redis queue to collect data.</p>\n\n<p>I tried to run my Storm jar by </p>\n\n<pre><code>storm jar jar_file_name.jar Topology_name configuration_file\n</code></pre>\n\n<p>But I got the following exception:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: Lredis/clients/jedis/Jedis;\n    at java.lang.Class.getDeclaredFields0(Native Method)\n    at java.lang.Class.privateGetDeclaredFields(Class.java:2397)\n    at java.lang.Class.getDeclaredField(Class.java:1946)\n    at java.io.ObjectStreamClass.getDeclaredSUID(ObjectStreamClass.java:1659)\n    at java.io.ObjectStreamClass.access$700(ObjectStreamClass.java:72)\n    at java.io.ObjectStreamClass$2.run(ObjectStreamClass.java:480)\n    at java.io.ObjectStreamClass$2.run(ObjectStreamClass.java:468)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.io.ObjectStreamClass.&lt;init&gt;(ObjectStreamClass.java:468)\n    at java.io.ObjectStreamClass.lookup(ObjectStreamClass.java:365)\n    at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1133)\n    at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:347)\n    at backtype.storm.utils.Utils.serialize(Utils.java:77)\n    at backtype.storm.topology.TopologyBuilder.createTopology(TopologyBuilder.java:111)\n    at OutlierPredictor.main(OutlierPredictor.java:98)\n Caused by: java.lang.ClassNotFoundException: redis.clients.jedis.Jedis\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:366)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\n</code></pre>\n\n<p>I have compiled using</p>\n\n<pre><code>javac -classpath $HADOOP_CORE:$HBASE_CLASSPATH:/usr/local/hadoop-  2.2.0/redis_jar/commons-pool-1.5.5.jar:/usr/local/hadoop-2.2.0/redis_jar/jedis-2.1.0.jar:/usr/local/apache-storm-0.9.2-incubating/lib/storm-core-0.9.2-incubating.jar -d dir_name/ dir_name/Javafile.java \n</code></pre>\n\n<p>from command line.</p>\n\n<p>I am executing this in a single node set up.</p>\n\n<p>What is going wrong?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","hibernate-mapping","flyway"],"comments":[{"owner":{"account_id":147308,"reputation":41036,"user_id":358328,"accept_rate":90,"display_name":"Uku Loskit"},"score":0,"creation_date":1671571590,"post_id":74868359,"comment_id":132127149,"body_markdown":"are you sure there isn&#39;t an issue with case-sensitivity, i.e CUSTOMER vs `customer`?","body":"are you sure there isn&#39;t an issue with case-sensitivity, i.e CUSTOMER vs <code>customer</code>?"},{"owner":{"account_id":17877766,"reputation":368,"user_id":12987334,"display_name":"continuousLearner"},"score":0,"creation_date":1671571818,"post_id":74868359,"comment_id":132127205,"body_markdown":"`@Table(name = &quot;CUSTOMER&quot;)` is in my Customer entity class","body":"<code>@Table(name = &quot;CUSTOMER&quot;)</code> is in my Customer entity class"}],"answers":[{"tags":[],"owner":{"account_id":17877766,"reputation":368,"user_id":12987334,"display_name":"continuousLearner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671574718,"creation_date":1671574718,"answer_id":74869434,"question_id":74868359,"body_markdown":"Updated the tables to lowercase in the flyway script and entities and that worked. ","title":"Table does not exist - SpringBoot Flyway MySql","body":"<p>Updated the tables to lowercase in the flyway script and entities and that worked.</p>\n"}],"owner":{"account_id":17877766,"reputation":368,"user_id":12987334,"display_name":"continuousLearner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":630,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671574718,"creation_date":1671566643,"question_id":74868359,"body_markdown":"I have a springboot application with H2 and have tried out some simple api(s) that does CRUD.  Now I am trying to move the db to MySQL running in a docker instance. \r\n\r\nI have flyway configured with init script under /resources/db.migration package. I am able to connect to database from my intellij. I am able to build and start the application. \r\n\r\nHowever, upon sending a REST request to save a resource, the app throws an exception. And I see `java.sql.SQLSyntaxErrorException: Table &#39;task-db.customer&#39; doesn&#39;t exist` in the application log. But after building the project, I could see the customer table created via Flyway. So the table does exist before starting the application. \r\n\r\nI tried rebuilding/invalidating cache and restarting intellij but did not help.The only fly configuration I have used is -`flyway:locations: classpath:db/migration`. Below is the DDL in the flyway init script.\r\n\r\n    CREATE TABLE IF NOT EXISTS `CUSTOMER` (\r\n    `CUSTOMER_ID` int NOT NULL AUTO_INCREMENT,\r\n    `FIRST_NAME` varchar(45) DEFAULT NULL,\r\n     PRIMARY KEY (`CUSTOMER_ID`)\r\n    );` \r\n\r\nHow can I resolve it? Where should I be looking at? Am I missing something?","title":"Table does not exist - SpringBoot Flyway MySql","body":"<p>I have a springboot application with H2 and have tried out some simple api(s) that does CRUD.  Now I am trying to move the db to MySQL running in a docker instance.</p>\n<p>I have flyway configured with init script under /resources/db.migration package. I am able to connect to database from my intellij. I am able to build and start the application.</p>\n<p>However, upon sending a REST request to save a resource, the app throws an exception. And I see <code>java.sql.SQLSyntaxErrorException: Table 'task-db.customer' doesn't exist</code> in the application log. But after building the project, I could see the customer table created via Flyway. So the table does exist before starting the application.</p>\n<p>I tried rebuilding/invalidating cache and restarting intellij but did not help.The only fly configuration I have used is -<code>flyway:locations: classpath:db/migration</code>. Below is the DDL in the flyway init script.</p>\n<pre><code>CREATE TABLE IF NOT EXISTS `CUSTOMER` (\n`CUSTOMER_ID` int NOT NULL AUTO_INCREMENT,\n`FIRST_NAME` varchar(45) DEFAULT NULL,\n PRIMARY KEY (`CUSTOMER_ID`)\n);` \n</code></pre>\n<p>How can I resolve it? Where should I be looking at? Am I missing something?</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":11165107,"reputation":453,"user_id":8194026,"display_name":"John Mitchell"},"score":1,"creation_date":1671546465,"post_id":74864477,"comment_id":132119236,"body_markdown":"Need to show also your configuration classes, including the main class with `@SpringBootApplication`. This answer is probably useful, https://stackoverflow.com/a/54663039/8194026","body":"Need to show also your configuration classes, including the main class with <code>@SpringBootApplication</code>. This answer is probably useful, <a href=\"https://stackoverflow.com/a/54663039/8194026\">stackoverflow.com/a/54663039/8194026</a>"},{"owner":{"account_id":26005788,"reputation":5,"user_id":19715509,"display_name":"Liudmila Zavyalova"},"score":0,"creation_date":1671548718,"post_id":74864477,"comment_id":132120051,"body_markdown":"@JohnMitchell sorry, I don&#39;t have configuration class. What do you mean by that? I add information about SpringBootApplication. Thank you.","body":"@JohnMitchell sorry, I don&#39;t have configuration class. What do you mean by that? I add information about SpringBootApplication. Thank you."}],"answers":[{"tags":[],"owner":{"account_id":121121,"reputation":5357,"user_id":313969,"display_name":"Matt Brock"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671574509,"creation_date":1671574509,"answer_id":74869409,"question_id":74864477,"body_markdown":"Try adding [@EnableTransactionManagement][1] to your `@SpringBootConfiguration` class.\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.transaction.annotation.EnableTransactionManagement;\r\n    \r\n    @EnableTransactionManagement\r\n    @SpringBootApplication\r\n    public class Application {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/annotation/EnableTransactionManagement.html","title":"A component required a bean named &#39;entityManagerFactory&#39; that could not be found","body":"<p>Try adding <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/annotation/EnableTransactionManagement.html\" rel=\"nofollow noreferrer\">@EnableTransactionManagement</a> to your <code>@SpringBootConfiguration</code> class.</p>\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\n\n@EnableTransactionManagement\n@SpringBootApplication\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":26005788,"reputation":5,"user_id":19715509,"display_name":"Liudmila Zavyalova"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1071,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74869409,"answer_count":1,"score":0,"last_activity_date":1671574509,"creation_date":1671545962,"question_id":74864477,"body_markdown":"Created a new application with CrudRepository and mysql database. I try to launch the application, but the **&quot;A component required a bean named &#39;entityManagerFactory&#39; that could not be found.&quot;** error falls. I read other people&#39;s questions and answers, but I did not find a suitable one for my problem.\r\n\r\nbuild.gradle\r\n```\r\nplugins {\r\n   id &#39;java&#39;\r\n   id &#39;org.springframework.boot&#39; version &#39;2.7.5-SNAPSHOT&#39;\r\n   id &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n   id &quot;org.hibernate.orm&quot; version &quot;6.1.6.Final&quot;\r\n}\r\n\r\ngroup = &#39;c&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;11&#39;\r\n\r\nconfigurations {\r\n   compileOnly {\r\n      extendsFrom annotationProcessor\r\n   }\r\n}\r\n\r\nrepositories {\r\n   mavenCentral()\r\n   maven { url &#39;https://repo.spring.io/milestone&#39; }\r\n   maven { url &#39;https://repo.spring.io/snapshot&#39; }\r\n}\r\n\r\ndependencies {\r\n   implementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n   implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n   implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n   implementation group: &#39;org.springframework.security.oauth&#39;, name: &#39;spring-security-oauth2&#39;, version: &#39;2.5.2.RELEASE&#39;\r\n   implementation group: &#39;mysql&#39;, name: &#39;mysql-connector-java&#39;, version: &#39;8.0.31&#39;\r\n\r\n   implementation group: &#39;org.json&#39;, name: &#39;json&#39;, version: &#39;20220924&#39;\r\n\r\n   compileOnly &#39;org.projectlombok:lombok&#39;\r\n   annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n}\r\n\r\ntargetCompatibility = JavaVersion.VERSION_11\r\n```\r\n\r\n\r\napplication.properties\r\n```\r\nspring.datasource.url=jdbc:mysql://localhost:3306/fgfg\r\nspring.datasource.username=\r\nspring.datasource.password=\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n\r\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.generate-ddl=true\r\nspring.jpa.show-sql=false\r\nspring.jpa.properties.hibernate.format_sql=true\r\nspring.jpa.properties.hibernate.enable_lazy_load_no_trans=true\r\n```\r\n\r\n\r\nUserRepository.java\r\n```\r\nimport dataox.backhttpsbitbucket.orgintrolabsystemsfrontamirsharerbiz.entities.UserEntity;\r\nimport org.springframework.data.jpa.repository.Query;\r\nimport org.springframework.data.repository.CrudRepository;\r\n\r\nimport java.util.Optional;\r\n\r\npublic interface UserRepository extends CrudRepository&lt;UserEntity, Long&gt; {\r\n\r\n    @Query(&quot;select u from UserEntity u where u.password = ?1 and u.email = ?2&quot;)\r\n    Optional&lt;UserEntity&gt; findByPasswordAndEmail(String password, String email);\r\n\r\n}\r\n```\r\n\r\n\r\nUserEntity.java\r\n```\r\nimport lombok.*;\r\n\r\nimport javax.persistence.*;\r\nimport java.time.LocalDateTime;\r\n\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\n@Entity\r\npublic class UserEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private Long id;\r\n    private String name;\r\n    private String industry;\r\n    private String currentCompany;\r\n    private String currentPosition;\r\n    private String photoUrl;\r\n    private String linkedLink;\r\n    private Long linkedId;\r\n    private String phoneNumber;\r\n    private String email;\r\n    private String password;\r\n    private LocalDateTime registeredAt;\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;user_role&quot;)\r\n    private UserRole userRole;\r\n```\r\n\r\nApplication\r\n```\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class Application {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(Application.class, args);\r\n    }\r\n\r\n}\r\n```\r\n\r\nI tried fix application.properties with\r\n\r\n```\r\nspring.datasource.driver-class-name=com.mysql.jdbc.Driver\r\n```\r\nI tried to use JpaRepository instead CrudRepository.\r\n\r\nAnd after all I have this error:\r\n\r\n```\r\n2022-12-20 16:15:41.302  WARN 90827 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;userRepository&#39; defined in dataox.backhttpsbitbucket.orgintrolabsystemsfrontamirsharerbiz.repositories.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean &#39;(inner bean)#602f8f94&#39; of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property &#39;entityManager&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#602f8f94&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;entityManagerFactory&#39; available\r\n2022-12-20 16:15:41.305  INFO 90827 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2022-12-20 16:15:41.316  INFO 90827 --- [           main] ConditionEvaluationReportLoggingListener : \r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2022-12-20 16:15:41.330 ERROR 90827 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nA component required a bean named &#39;entityManagerFactory&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean named &#39;entityManagerFactory&#39; in your configuration.\r\n\r\n\r\n&gt; Task :Application.main() FAILED\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:Application.main()&#39;.\r\n&gt; Process &#39;command &#39;/opt/idea/jbr/bin/java&#39;&#39; finished with non-zero exit value 1\r\n```\r\n","title":"A component required a bean named &#39;entityManagerFactory&#39; that could not be found","body":"<p>Created a new application with CrudRepository and mysql database. I try to launch the application, but the <strong>&quot;A component required a bean named 'entityManagerFactory' that could not be found.&quot;</strong> error falls. I read other people's questions and answers, but I did not find a suitable one for my problem.</p>\n<p>build.gradle</p>\n<pre><code>plugins {\n   id 'java'\n   id 'org.springframework.boot' version '2.7.5-SNAPSHOT'\n   id 'io.spring.dependency-management' version '1.1.0'\n   id &quot;org.hibernate.orm&quot; version &quot;6.1.6.Final&quot;\n}\n\ngroup = 'c'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '11'\n\nconfigurations {\n   compileOnly {\n      extendsFrom annotationProcessor\n   }\n}\n\nrepositories {\n   mavenCentral()\n   maven { url 'https://repo.spring.io/milestone' }\n   maven { url 'https://repo.spring.io/snapshot' }\n}\n\ndependencies {\n   implementation 'org.springframework.boot:spring-boot-starter-security'\n   implementation 'org.springframework.boot:spring-boot-starter-web'\n   implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n   implementation group: 'org.springframework.security.oauth', name: 'spring-security-oauth2', version: '2.5.2.RELEASE'\n   implementation group: 'mysql', name: 'mysql-connector-java', version: '8.0.31'\n\n   implementation group: 'org.json', name: 'json', version: '20220924'\n\n   compileOnly 'org.projectlombok:lombok'\n   annotationProcessor 'org.projectlombok:lombok'\n}\n\ntargetCompatibility = JavaVersion.VERSION_11\n</code></pre>\n<p>application.properties</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/fgfg\nspring.datasource.username=\nspring.datasource.password=\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.generate-ddl=true\nspring.jpa.show-sql=false\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.properties.hibernate.enable_lazy_load_no_trans=true\n</code></pre>\n<p>UserRepository.java</p>\n<pre><code>import dataox.backhttpsbitbucket.orgintrolabsystemsfrontamirsharerbiz.entities.UserEntity;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.data.repository.CrudRepository;\n\nimport java.util.Optional;\n\npublic interface UserRepository extends CrudRepository&lt;UserEntity, Long&gt; {\n\n    @Query(&quot;select u from UserEntity u where u.password = ?1 and u.email = ?2&quot;)\n    Optional&lt;UserEntity&gt; findByPasswordAndEmail(String password, String email);\n\n}\n</code></pre>\n<p>UserEntity.java</p>\n<pre><code>import lombok.*;\n\nimport javax.persistence.*;\nimport java.time.LocalDateTime;\n\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\n@Entity\npublic class UserEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n    private String name;\n    private String industry;\n    private String currentCompany;\n    private String currentPosition;\n    private String photoUrl;\n    private String linkedLink;\n    private Long linkedId;\n    private String phoneNumber;\n    private String email;\n    private String password;\n    private LocalDateTime registeredAt;\n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;user_role&quot;)\n    private UserRole userRole;\n</code></pre>\n<p>Application</p>\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n}\n</code></pre>\n<p>I tried fix application.properties with</p>\n<pre><code>spring.datasource.driver-class-name=com.mysql.jdbc.Driver\n</code></pre>\n<p>I tried to use JpaRepository instead CrudRepository.</p>\n<p>And after all I have this error:</p>\n<pre><code>2022-12-20 16:15:41.302  WARN 90827 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in dataox.backhttpsbitbucket.orgintrolabsystemsfrontamirsharerbiz.repositories.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean '(inner bean)#602f8f94' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#602f8f94': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'entityManagerFactory' available\n2022-12-20 16:15:41.305  INFO 90827 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2022-12-20 16:15:41.316  INFO 90827 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-12-20 16:15:41.330 ERROR 90827 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nA component required a bean named 'entityManagerFactory' that could not be found.\n\n\nAction:\n\nConsider defining a bean named 'entityManagerFactory' in your configuration.\n\n\n&gt; Task :Application.main() FAILED\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':Application.main()'.\n&gt; Process 'command '/opt/idea/jbr/bin/java'' finished with non-zero exit value 1\n</code></pre>\n"},{"tags":["java","eclipse","javafx","javafx-11","gluon-desktop"],"comments":[{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1555670085,"post_id":55760343,"comment_id":98195781,"body_markdown":"Duplicated of [IntelliJ IDEA - Error: JavaFX runtime components are missing, and are required to run this application](https://stackoverflow.com/questions/52906773/intellij-idea-error-javafx-runtime-components-are-missing-and-are-required-t/): If you run your project as a Java Application, you need to add the VM arguments as well. See https://openjfx.io/openjfx-docs/#IDE-Eclipse (non-modular from IDE). If you use Maven, see the Maven section too.","body":"Duplicated of <a href=\"https://stackoverflow.com/questions/52906773/intellij-idea-error-javafx-runtime-components-are-missing-and-are-required-t/\">IntelliJ IDEA - Error: JavaFX runtime components are missing, and are required to run this application</a>: If you run your project as a Java Application, you need to add the VM arguments as well. See <a href=\"https://openjfx.io/openjfx-docs/#IDE-Eclipse\" rel=\"nofollow noreferrer\">openjfx.io/openjfx-docs/#IDE-Eclipse</a> (non-modular from IDE). If you use Maven, see the Maven section too."},{"owner":{"account_id":991116,"reputation":2623,"user_id":1008405,"accept_rate":75,"display_name":"euraad"},"score":0,"creation_date":1555671648,"post_id":55760343,"comment_id":98196294,"body_markdown":"I have done that now. Still errors. I don&#39;t know why. @Jos&#233;Pereda","body":"I have done that now. Still errors. I don&#39;t know why. @Jos&#233;Pereda"},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":1,"creation_date":1555672102,"post_id":55760343,"comment_id":98196450,"body_markdown":"Errors: nothing to do with JavaFX &quot;11&quot;, but with JavaFX itself and FXML: your path to the FXML file is wrong. Just refer to the root of the resources folder, like `getResources(&quot;/se/danielmartensson/controller/gui.fxml&quot;)`. As an aside, code is preferred over screenshots when posting a question.","body":"Errors: nothing to do with JavaFX &quot;11&quot;, but with JavaFX itself and FXML: your path to the FXML file is wrong. Just refer to the root of the resources folder, like <code>getResources(&quot;&#47;se&#47;danielmartensson&#47;controller&#47;gui.fxml&quot;)</code>. As an aside, code is preferred over screenshots when posting a question."},{"owner":{"account_id":991116,"reputation":2623,"user_id":1008405,"accept_rate":75,"display_name":"euraad"},"score":0,"creation_date":1555673023,"post_id":55760343,"comment_id":98196807,"body_markdown":"Now it&#39;s working @Jos&#233;Pereda Very good. I know that code is perferred over screen shorts, but for beginners that doesn&#39;t know how to fix this issue, screen shots are more valuable than code.","body":"Now it&#39;s working @Jos&#233;Pereda Very good. I know that code is perferred over screen shorts, but for beginners that doesn&#39;t know how to fix this issue, screen shots are more valuable than code."},{"owner":{"account_id":202305,"reputation":837,"user_id":449303,"accept_rate":98,"display_name":"aironman"},"score":0,"creation_date":1637412981,"post_id":55760343,"comment_id":123822468,"body_markdown":"Daniel, if we cannot test the code, it is quite impossible to help you. Please, do not provide in the future images with code.","body":"Daniel, if we cannot test the code, it is quite impossible to help you. Please, do not provide in the future images with code."}],"answers":[{"tags":[],"owner":{"account_id":9934433,"reputation":1384,"user_id":7353216,"accept_rate":75,"display_name":"Reizo"},"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1671574506,"creation_date":1555671358,"answer_id":55760756,"question_id":55760343,"body_markdown":"Your problem is not compiling the project, but running it.\r\nSince your `main` is defined in your `Application`-extension, running the project will require JavaFX in your module path on startup.\r\n\r\nSo either outsource your `main` into a class different from your `Application` or add the JavaFX modules with VM arguments:\r\n\r\n    --module-path=&quot;&lt;javafx-root&gt;\\lib&quot; --add-modules=&quot;javafx.base,javafx.controls,javafx.media,&quot;\r\n\r\nSee [this][1] for some more info.\r\n\r\n\r\n  [1]: https://github.com/javafxports/openjdk-jfx/issues/236#issuecomment-426583174","title":"Error: JavaFX runtime components are missing - JavaFX 11 and OpenJDK 11 and Eclipse IDE","body":"<p>Your problem is not compiling the project, but running it.\nSince your <code>main</code> is defined in your <code>Application</code>-extension, running the project will require JavaFX in your module path on startup.</p>\n<p>So either outsource your <code>main</code> into a class different from your <code>Application</code> or add the JavaFX modules with VM arguments:</p>\n<pre><code>--module-path=&quot;&lt;javafx-root&gt;\\lib&quot; --add-modules=&quot;javafx.base,javafx.controls,javafx.media,&quot;\n</code></pre>\n<p>See <a href=\"https://github.com/javafxports/openjdk-jfx/issues/236#issuecomment-426583174\" rel=\"nofollow noreferrer\">this</a> for some more info.</p>\n"},{"tags":[],"owner":{"account_id":14972159,"reputation":41,"user_id":10808671,"display_name":"hamza lakhal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584569528,"creation_date":1584569528,"answer_id":60748197,"question_id":55760343,"body_markdown":"The question is old but this how it did work for me in intellij(linux) : \r\n\r\n1- go to run -&gt; edit configurations \r\n\r\n2- add the path in VM Options : \r\n\r\n--module-path yourpath/lib --add-modules javafx.controls,javafx.fxml","title":"Error: JavaFX runtime components are missing - JavaFX 11 and OpenJDK 11 and Eclipse IDE","body":"<p>The question is old but this how it did work for me in intellij(linux) : </p>\n\n<p>1- go to run -> edit configurations </p>\n\n<p>2- add the path in VM Options : </p>\n\n<p>--module-path yourpath/lib --add-modules javafx.controls,javafx.fxml</p>\n"},{"tags":[],"owner":{"account_id":3861784,"reputation":8519,"user_id":3199351,"accept_rate":35,"display_name":"Abdeali Chandanwala"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625164788,"creation_date":1625164788,"answer_id":68215394,"question_id":55760343,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ACTvE.png\r\n\r\nIn eclipse I selected this MODULE PATH option from the dropdown and it worked for me - I didnt need the vm agruments. Make sure the JavaFx Jars are added in the ModulePath under Dependencies Tab (Eclipse &gt;&gt; Project &gt;&gt; Configurations)","title":"Error: JavaFX runtime components are missing - JavaFX 11 and OpenJDK 11 and Eclipse IDE","body":"<p><a href=\"https://i.stack.imgur.com/ACTvE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ACTvE.png\" alt=\"enter image description here\" /></a></p>\n<p>In eclipse I selected this MODULE PATH option from the dropdown and it worked for me - I didnt need the vm agruments. Make sure the JavaFx Jars are added in the ModulePath under Dependencies Tab (Eclipse &gt;&gt; Project &gt;&gt; Configurations)</p>\n"},{"tags":[],"owner":{"account_id":23327147,"reputation":31,"user_id":17404157,"display_name":"Manish Meshram"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1637360480,"creation_date":1637330468,"answer_id":70036057,"question_id":55760343,"body_markdown":"I was working on Eclipse. For me, running the class with the below VM arguments worked:\r\n\r\n    -p C:\\&lt;your_path&gt;\\javafx-sdk-11\\lib --add-modules javafx.controls,javafx.base,javafx.fxml,javafx.graphics,javafx.media,javafx.web --add-opens=javafx.graphics/javafx.scene=ALL-UNNAMED --add-exports javafx.base/com.sun.javafx.event=ALL-UNNAMED\r\n    -Djava.library.path=&quot;C:\\&lt;your_path&gt;\\javafx-sdk-11\\bin&quot;\r\n\r\n","title":"Error: JavaFX runtime components are missing - JavaFX 11 and OpenJDK 11 and Eclipse IDE","body":"<p>I was working on Eclipse. For me, running the class with the below VM arguments worked:</p>\n<pre><code>-p C:\\&lt;your_path&gt;\\javafx-sdk-11\\lib --add-modules javafx.controls,javafx.base,javafx.fxml,javafx.graphics,javafx.media,javafx.web --add-opens=javafx.graphics/javafx.scene=ALL-UNNAMED --add-exports javafx.base/com.sun.javafx.event=ALL-UNNAMED\n-Djava.library.path=&quot;C:\\&lt;your_path&gt;\\javafx-sdk-11\\bin&quot;\n</code></pre>\n"}],"owner":{"account_id":991116,"reputation":2623,"user_id":1008405,"accept_rate":75,"display_name":"euraad"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57493,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":55760756,"answer_count":4,"score":17,"last_activity_date":1671574506,"creation_date":1555669302,"question_id":55760343,"body_markdown":"I have this classical issue: Using JavaFX 11 with OpenJDK 11 together with Eclipse IDE.\r\n\r\n    Error: JavaFX runtime components are missing, and are required to run this application\r\n\r\nI have OpenJDK 11.0.2\r\n\r\n    dell@dell-pc:~$ java -version\r\n    openjdk version &quot;11.0.2&quot; 2019-01-15\r\n    OpenJDK Runtime Environment 18.9 (build 11.0.2+9)\r\n    OpenJDK 64-Bit Server VM 18.9 (build 11.0.2+9, mixed mode)\r\n    dell@dell-pc:~$ \r\n\r\n\r\nAnd I also have `JavaFX 11 SDK`. By the way! I&#39;m using Lubuntu Linux 18.10 if you wonder.\r\n[![enter image description here][1]][1]\r\n\r\nThen I have included the `.jar` files from the `JavaFX 11 SDK` in Eclipse IDE into a library package.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThen I have included this library package into my `JAdaptiveMPC` project.\r\n[![enter image description here][3]][3]\r\n\r\nI get no error in my code syntax, but still, I cannot compile my project. \r\n[![enter image description here][4]][4]\r\n\r\nDo you know why? I got the same error if I import all those `.jar` files from Maven instead of download the `JavaFX SDK` and import it into a library.\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;Control&lt;/groupId&gt;\r\n      &lt;artifactId&gt;JAdaptiveMPC&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;dependencies&gt;\r\n      \t&lt;dependency&gt;\r\n      \t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      \t\t&lt;artifactId&gt;javafx&lt;/artifactId&gt;\r\n      \t\t&lt;version&gt;13-ea+5&lt;/version&gt;\r\n      \t\t&lt;type&gt;pom&lt;/type&gt;\r\n      \t&lt;/dependency&gt;\r\n      \t&lt;dependency&gt;\r\n      \t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      \t\t&lt;artifactId&gt;javafx-base&lt;/artifactId&gt;\r\n      \t\t&lt;version&gt;13-ea+5&lt;/version&gt;\r\n      \t&lt;/dependency&gt;\r\n      \t&lt;dependency&gt;\r\n      \t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      \t\t&lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n      \t\t&lt;version&gt;13-ea+5&lt;/version&gt;\r\n      \t&lt;/dependency&gt;\r\n      \t&lt;dependency&gt;\r\n      \t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      \t\t&lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\r\n      \t\t&lt;version&gt;13-ea+5&lt;/version&gt;\r\n      \t&lt;/dependency&gt;\r\n      \t&lt;dependency&gt;\r\n      \t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      \t\t&lt;artifactId&gt;javafx-swing&lt;/artifactId&gt;\r\n      \t\t&lt;version&gt;13-ea+5&lt;/version&gt;\r\n      \t&lt;/dependency&gt;\r\n      \t&lt;dependency&gt;\r\n      \t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      \t\t&lt;artifactId&gt;javafx-web&lt;/artifactId&gt;\r\n      \t\t&lt;version&gt;13-ea+5&lt;/version&gt;\r\n      \t&lt;/dependency&gt;\r\n      \t&lt;dependency&gt;\r\n      \t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      \t\t&lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\r\n      \t\t&lt;version&gt;13-ea+5&lt;/version&gt;\r\n      \t&lt;/dependency&gt;\r\n      \t&lt;dependency&gt;\r\n      \t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      \t\t&lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n      \t\t&lt;version&gt;13-ea+5&lt;/version&gt;\r\n      \t&lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\n**Continue**\r\n\r\nI have added this in the `Run Configuration`\r\n\r\n[![enter image description here][5]][5]\r\n\r\nAnd then I try to run\r\n[![enter image description here][6]][6]\r\n\r\nStill errors.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OWv6S.png\r\n  [2]: https://i.stack.imgur.com/w94bE.png\r\n  [3]: https://i.stack.imgur.com/9Guqu.png\r\n  [4]: https://i.stack.imgur.com/Tr0x7.png\r\n  [5]: https://i.stack.imgur.com/gj2gM.png\r\n  [6]: https://i.stack.imgur.com/Kul20.png","title":"Error: JavaFX runtime components are missing - JavaFX 11 and OpenJDK 11 and Eclipse IDE","body":"<p>I have this classical issue: Using JavaFX 11 with OpenJDK 11 together with Eclipse IDE.</p>\n\n<pre><code>Error: JavaFX runtime components are missing, and are required to run this application\n</code></pre>\n\n<p>I have OpenJDK 11.0.2</p>\n\n<pre><code>dell@dell-pc:~$ java -version\nopenjdk version \"11.0.2\" 2019-01-15\nOpenJDK Runtime Environment 18.9 (build 11.0.2+9)\nOpenJDK 64-Bit Server VM 18.9 (build 11.0.2+9, mixed mode)\ndell@dell-pc:~$ \n</code></pre>\n\n<p>And I also have <code>JavaFX 11 SDK</code>. By the way! I'm using Lubuntu Linux 18.10 if you wonder.\n<a href=\"https://i.stack.imgur.com/OWv6S.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/OWv6S.png\" alt=\"enter image description here\"></a></p>\n\n<p>Then I have included the <code>.jar</code> files from the <code>JavaFX 11 SDK</code> in Eclipse IDE into a library package.</p>\n\n<p><a href=\"https://i.stack.imgur.com/w94bE.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/w94bE.png\" alt=\"enter image description here\"></a></p>\n\n<p>Then I have included this library package into my <code>JAdaptiveMPC</code> project.\n<a href=\"https://i.stack.imgur.com/9Guqu.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/9Guqu.png\" alt=\"enter image description here\"></a></p>\n\n<p>I get no error in my code syntax, but still, I cannot compile my project. \n<a href=\"https://i.stack.imgur.com/Tr0x7.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Tr0x7.png\" alt=\"enter image description here\"></a></p>\n\n<p>Do you know why? I got the same error if I import all those <code>.jar</code> files from Maven instead of download the <code>JavaFX SDK</code> and import it into a library.</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;Control&lt;/groupId&gt;\n  &lt;artifactId&gt;JAdaptiveMPC&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx&lt;/artifactId&gt;\n        &lt;version&gt;13-ea+5&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-base&lt;/artifactId&gt;\n        &lt;version&gt;13-ea+5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n        &lt;version&gt;13-ea+5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\n        &lt;version&gt;13-ea+5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-swing&lt;/artifactId&gt;\n        &lt;version&gt;13-ea+5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-web&lt;/artifactId&gt;\n        &lt;version&gt;13-ea+5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\n        &lt;version&gt;13-ea+5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n        &lt;version&gt;13-ea+5&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p><strong>Continue</strong></p>\n\n<p>I have added this in the <code>Run Configuration</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/gj2gM.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/gj2gM.png\" alt=\"enter image description here\"></a></p>\n\n<p>And then I try to run\n<a href=\"https://i.stack.imgur.com/Kul20.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Kul20.png\" alt=\"enter image description here\"></a></p>\n\n<p>Still errors.</p>\n"},{"tags":["java","rest","serialization"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1671564746,"post_id":74867712,"comment_id":132125377,"body_markdown":"There are several mapping libraries (e.g. http://modelmapper.org) that can update fields of existing objects from other similar objects. That would allow you to define [validation](https://stackoverflow.com/questions/3595160/what-does-the-valid-annotation-indicate-in-spring) on TestDto as required and would allow you to merge data when it&#39;s for example `!= null`. Or you can simply write out the code to copy the present properties into the existing object (e.g. a `updateFrom(TestDto other)` method)","body":"There are several mapping libraries (e.g. <a href=\"http://modelmapper.org\" rel=\"nofollow noreferrer\">modelmapper.org</a>) that can update fields of existing objects from other similar objects. That would allow you to define <a href=\"https://stackoverflow.com/questions/3595160/what-does-the-valid-annotation-indicate-in-spring\">validation</a> on TestDto as required and would allow you to merge data when it&#39;s for example <code>!= null</code>. Or you can simply write out the code to copy the present properties into the existing object (e.g. a <code>updateFrom(TestDto other)</code> method)"},{"owner":{"account_id":25486631,"reputation":101,"user_id":19282140,"display_name":"java developer 111"},"score":0,"creation_date":1671565302,"post_id":74867712,"comment_id":132125521,"body_markdown":"the question was how to detect that field is not passed from client - serializer will  init this field with null and that its not what i need - i need set null value if clien pass null and do not set anything if client do not pass field","body":"the question was how to detect that field is not passed from client - serializer will  init this field with null and that its not what i need - i need set null value if clien pass null and do not set anything if client do not pass field"},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1671565790,"post_id":74867712,"comment_id":132125661,"body_markdown":"Ah, sorry misunderstood the null part. Yeah, that&#39;s tricky, maps or defining a structure that contains explicit information about adding / removing fields, like `{ set: TestDto; remove: TestDto; }`","body":"Ah, sorry misunderstood the null part. Yeah, that&#39;s tricky, maps or defining a structure that contains explicit information about adding / removing fields, like <code>{ set: TestDto; remove: TestDto; }</code>"},{"owner":{"account_id":25486631,"reputation":101,"user_id":19282140,"display_name":"java developer 111"},"score":0,"creation_date":1671566033,"post_id":74867712,"comment_id":132125734,"body_markdown":"it may be looks like this  @PutMapping\n    public TestDto update(@RequestBody Map&lt;String, Object&gt;map){\n\n        val oldValue = cash.get((Long) (map.get(&quot;id&quot;)));\n        if(map.containsKey(&quot;name&quot;)) oldValue.setName((String) map.get(&quot;name&quot;));\n        if(map.containsKey(&quot;sex&quot;)) oldValue.setName((String) map.get(&quot;sex&quot;));\n       return cash.put(oldValue.getId(), oldValue);\n\n    }","body":"it may be looks like this  @PutMapping     public TestDto update(@RequestBody Map&lt;String, Object&gt;map){          val oldValue = cash.get((Long) (map.get(&quot;id&quot;)));         if(map.containsKey(&quot;name&quot;)) oldValue.setName((String) map.get(&quot;name&quot;));         if(map.containsKey(&quot;sex&quot;)) oldValue.setName((String) map.get(&quot;sex&quot;));        return cash.put(oldValue.getId(), oldValue);      }"}],"answers":[{"tags":[],"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671563987,"creation_date":1671563987,"answer_id":74867931,"question_id":74867712,"body_markdown":"Instead of attempting to detect absent vs null value,\r\nconsider defining an update object that includes a list of fields to be updated.\r\n\r\nSuch an object might look like this:\r\n\r\n```Java\r\n@Getter\r\n@Setter\r\npublic class UpdateObject\r\n{\r\n\tprivate long id; // ID of the object to be updated.\r\n\tprivate TestDto updates; // an object that contains the new values for the fields.\r\n\tprivate List&lt;String&gt; updateFields; // a list of fields to be updated.\r\n}\r\n```\r\n\r\nHere is some Json\r\n```JSON\r\n{\r\n\t&quot;id&quot;: 1,\r\n\t&quot;updates&quot;:\r\n\t{\r\n\t\t&quot;name&quot;: &quot;blem&quot;,\r\n\t\t&quot;sex&quot;: null\r\n\t},\r\n\t&quot;updateFields&quot;: [&quot;name&quot;, &quot;sex&quot;]\r\n}\r\n```","title":"How to know that field is not passed","body":"<p>Instead of attempting to detect absent vs null value,\nconsider defining an update object that includes a list of fields to be updated.</p>\n<p>Such an object might look like this:</p>\n<pre><code>@Getter\n@Setter\npublic class UpdateObject\n{\n    private long id; // ID of the object to be updated.\n    private TestDto updates; // an object that contains the new values for the fields.\n    private List&lt;String&gt; updateFields; // a list of fields to be updated.\n}\n</code></pre>\n<p>Here is some Json</p>\n<pre><code>{\n    &quot;id&quot;: 1,\n    &quot;updates&quot;:\n    {\n        &quot;name&quot;: &quot;blem&quot;,\n        &quot;sex&quot;: null\n    },\n    &quot;updateFields&quot;: [&quot;name&quot;, &quot;sex&quot;]\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25311212,"reputation":1,"user_id":19133923,"display_name":"Sergey Korotaev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671567786,"creation_date":1671567786,"answer_id":74868528,"question_id":74867712,"body_markdown":"if i understood right you just send request to the server with different fields. With `@ModelAttribute` annotation you can send your body in json format. \r\nif you send only one/two field or how you want `{&quot;id&quot;:1, &quot;name&quot;:&quot;adam&quot;}`, due to spring data jpa you can update your model in db. (in this case your field `sex` will be null and you need to create some manipulation for checking it kind of Mapstruct - convert your dto in other model plus checking null/not null fields).\r\nBetter create default value for `sex` field if you want to saving not M and not FM values. null bad practice, in the future it will be bad joke for you.\r\n\r\n @Getter  \r\n public Enum Sex {\r\n  private MALE,\r\n  private FEMALE,\r\n  private DEFAULT\r\n}","title":"How to know that field is not passed","body":"<p>if i understood right you just send request to the server with different fields. With <code>@ModelAttribute</code> annotation you can send your body in json format.\nif you send only one/two field or how you want <code>{&quot;id&quot;:1, &quot;name&quot;:&quot;adam&quot;}</code>, due to spring data jpa you can update your model in db. (in this case your field <code>sex</code> will be null and you need to create some manipulation for checking it kind of Mapstruct - convert your dto in other model plus checking null/not null fields).\nBetter create default value for <code>sex</code> field if you want to saving not M and not FM values. null bad practice, in the future it will be bad joke for you.</p>\n<p>@Getter<br />\npublic Enum Sex {\nprivate MALE,\nprivate FEMALE,\nprivate DEFAULT\n}</p>\n"},{"tags":[],"owner":{"account_id":25486631,"reputation":101,"user_id":19282140,"display_name":"java developer 111"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671574478,"creation_date":1671574478,"answer_id":74869407,"question_id":74867712,"body_markdown":"Ok guys finally fount how to do this \r\n\r\n1.Client side - &gt; path your testDto as Object, not as TestDto.class\r\n\r\n    Object payLoad = testDto;\r\n    template.postForObject(&quot;url&quot;, payload);\r\n\r\n2.Server side - &gt; \r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/test&quot;)\r\n    public class TestController {\r\n    \r\n        private final Map&lt;Long, TestDto&gt; cash = new HashMap&lt;&gt;();\r\n        private final ObjectMapper mapper = new ObjectMapper();\r\n    \r\n        @PostMapping\r\n        public TestDto create(@RequestBody TestDto dto) {\r\n            return cash.computeIfAbsent(dto.getId(), v -&gt; dto);\r\n    \r\n        }\r\n    \r\n        @PutMapping(&quot;/{id}&quot;)\r\n        public TestDto update(@PathVariable Long id, @RequestBody String json) throws JsonProcessingException {\r\n            val oldValue = cash.get(id);\r\n            mapper.readerForUpdating(oldValue).readValue(json);\r\n            return cash.put(oldValue.getId(), oldValue);\r\n        }\r\n    \r\n    }\r\n\r\n\r\nthis hint let you update only field that client really changed\r\n","title":"How to know that field is not passed","body":"<p>Ok guys finally fount how to do this</p>\n<p>1.Client side - &gt; path your testDto as Object, not as TestDto.class</p>\n<pre><code>Object payLoad = testDto;\ntemplate.postForObject(&quot;url&quot;, payload);\n</code></pre>\n<p>2.Server side - &gt;</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/test&quot;)\npublic class TestController {\n\n    private final Map&lt;Long, TestDto&gt; cash = new HashMap&lt;&gt;();\n    private final ObjectMapper mapper = new ObjectMapper();\n\n    @PostMapping\n    public TestDto create(@RequestBody TestDto dto) {\n        return cash.computeIfAbsent(dto.getId(), v -&gt; dto);\n\n    }\n\n    @PutMapping(&quot;/{id}&quot;)\n    public TestDto update(@PathVariable Long id, @RequestBody String json) throws JsonProcessingException {\n        val oldValue = cash.get(id);\n        mapper.readerForUpdating(oldValue).readValue(json);\n        return cash.put(oldValue.getId(), oldValue);\n    }\n\n}\n</code></pre>\n<p>this hint let you update only field that client really changed</p>\n"}],"owner":{"account_id":25486631,"reputation":101,"user_id":19282140,"display_name":"java developer 111"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1671574478,"creation_date":1671562771,"question_id":74867712,"body_markdown":"Here is an example DTO\r\n\r\n    @Getter\r\n    @Setter\r\n    public class TestDto {\r\n        private Long id;\r\n        private String name;\r\n        private String sex;\r\n    }\r\n\r\n\r\nSay I have this object stored on the server:\r\n`{&quot;id&quot;:1, &quot;name&quot;: &quot;alex&quot;, &quot;sex&quot;: &quot;M&quot;}`\r\n\r\nHow can I send a request that only updates the &quot;name&quot; portion of the object?\r\n\r\nPerhaps I could send this:\r\n`{&quot;id&quot;:1, &quot;name&quot;:&quot;adam&quot;}`\r\n\r\nSuch that the object will change to this:\r\n`{&quot;id&quot;:1, &quot;name&quot;: &quot;adam&quot;, &quot;sex&quot;: &quot;M&quot;}`\r\n\r\nI also need the ability to set a field to null\r\n(i.e. clear the contents of a field).\r\n\r\nIn this case I would like to send\r\n`{&quot;id&quot;:1, &quot;name&quot;:&quot;adam&quot;, &quot;sex&quot;:null}`\r\n\r\nTo have the stored DTO change to\r\n`{&quot;id&quot;:1, &quot;name&quot;: &quot;adam&quot;, &quot;sex&quot;:null}`\r\n\r\nHow can I do this using java, spring boot, etc.?\r\n\r\nI know the way to use:\r\n \r\n    @PutMapping\r\n    public TestDto update(Map&lt;String, Object&gt;map){ ... }\r\n\r\nbut I also need to some validation such that if I pass\r\n`{&quot;id&quot;:&quot;1AA&quot; ... }` I get a serialization exception.\r\n\r\n\r\nPs.Find first step of this magic -&gt; \r\n1.Before path TestDto throu Rest - need to clear Type like this \r\n\r\n    Object body = testDto;\r\n\r\nif will help you to get an Object with field what you want on server and then you&#39;ll be able to detect list of fieds to update\r\n\r\n ","title":"How to know that field is not passed","body":"<p>Here is an example DTO</p>\n<pre><code>@Getter\n@Setter\npublic class TestDto {\n    private Long id;\n    private String name;\n    private String sex;\n}\n</code></pre>\n<p>Say I have this object stored on the server:\n<code>{&quot;id&quot;:1, &quot;name&quot;: &quot;alex&quot;, &quot;sex&quot;: &quot;M&quot;}</code></p>\n<p>How can I send a request that only updates the &quot;name&quot; portion of the object?</p>\n<p>Perhaps I could send this:\n<code>{&quot;id&quot;:1, &quot;name&quot;:&quot;adam&quot;}</code></p>\n<p>Such that the object will change to this:\n<code>{&quot;id&quot;:1, &quot;name&quot;: &quot;adam&quot;, &quot;sex&quot;: &quot;M&quot;}</code></p>\n<p>I also need the ability to set a field to null\n(i.e. clear the contents of a field).</p>\n<p>In this case I would like to send\n<code>{&quot;id&quot;:1, &quot;name&quot;:&quot;adam&quot;, &quot;sex&quot;:null}</code></p>\n<p>To have the stored DTO change to\n<code>{&quot;id&quot;:1, &quot;name&quot;: &quot;adam&quot;, &quot;sex&quot;:null}</code></p>\n<p>How can I do this using java, spring boot, etc.?</p>\n<p>I know the way to use:</p>\n<pre><code>@PutMapping\npublic TestDto update(Map&lt;String, Object&gt;map){ ... }\n</code></pre>\n<p>but I also need to some validation such that if I pass\n<code>{&quot;id&quot;:&quot;1AA&quot; ... }</code> I get a serialization exception.</p>\n<p>Ps.Find first step of this magic -&gt;\n1.Before path TestDto throu Rest - need to clear Type like this</p>\n<pre><code>Object body = testDto;\n</code></pre>\n<p>if will help you to get an Object with field what you want on server and then you'll be able to detect list of fieds to update</p>\n"},{"tags":["java","colors","jbutton"],"answers":[{"tags":[],"owner":{"account_id":29177,"reputation":23608,"user_id":78613,"accept_rate":95,"display_name":"Nick Veys"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1255982492,"creation_date":1255982492,"answer_id":1590786,"question_id":1590764,"body_markdown":"You&#39;ll want to modify the [Look and Feel](http://java.sun.com/docs/books/tutorial/uiswing/lookandfeel/) you are using.  There are tons available for download and you can of course make your own.","title":"How to change the look of a disabled JButton in java","body":"<p>You'll want to modify the <a href=\"http://java.sun.com/docs/books/tutorial/uiswing/lookandfeel/\" rel=\"nofollow noreferrer\">Look and Feel</a> you are using.  There are tons available for download and you can of course make your own.</p>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1255982830,"creation_date":1255982830,"answer_id":1590812,"question_id":1590764,"body_markdown":"You can also set a disable icon with [JButton.setDisableIcon()][1]\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/javax/swing/AbstractButton.html#setDisabledIcon%28javax.swing.Icon%29","title":"How to change the look of a disabled JButton in java","body":"<p>You can also set a disable icon with <a href=\"http://java.sun.com/javase/6/docs/api/javax/swing/AbstractButton.html#setDisabledIcon%28javax.swing.Icon%29\" rel=\"nofollow noreferrer\">JButton.setDisableIcon()</a></p>\n"},{"tags":[],"owner":{"account_id":34541,"reputation":33228,"user_id":97688,"accept_rate":76,"display_name":"clamp"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1255983489,"creation_date":1255983489,"answer_id":1590868,"question_id":1590764,"body_markdown":"i am not 100% on this, but i think you can overwrite the paint method of the button&#39;s glasspane to overlay it with the color of your choice.\r\n\r\nhere is a tutorial on the panes of a container:\r\n\r\n [http://java.sun.com/docs/books/tutorial/uiswing/components/rootpane.html][1]\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/tutorial/uiswing/components/rootpane.html","title":"How to change the look of a disabled JButton in java","body":"<p>i am not 100% on this, but i think you can overwrite the paint method of the button's glasspane to overlay it with the color of your choice.</p>\n\n<p>here is a tutorial on the panes of a container:</p>\n\n<p><a href=\"http://java.sun.com/docs/books/tutorial/uiswing/components/rootpane.html\" rel=\"nofollow noreferrer\">http://java.sun.com/docs/books/tutorial/uiswing/components/rootpane.html</a></p>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1255984032,"creation_date":1255983647,"answer_id":1590895,"question_id":1590764,"body_markdown":"If you are talking about the text, then you might be able to use the UIManager to change the disabled foreground color. Check out the [UIManager Defaults][1].\r\n\r\n\r\n  [1]: http://www.camick.com/java/blog.html?name=uimanager-defaults","title":"How to change the look of a disabled JButton in java","body":"<p>If you are talking about the text, then you might be able to use the UIManager to change the disabled foreground color. Check out the <a href=\"http://www.camick.com/java/blog.html?name=uimanager-defaults\" rel=\"nofollow noreferrer\">UIManager Defaults</a>.</p>\n"},{"tags":[],"owner":{"account_id":891157,"reputation":2183,"user_id":929404,"accept_rate":62,"display_name":"user929404"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1315266184,"creation_date":1315247895,"answer_id":7311657,"question_id":1590764,"body_markdown":"You can add HTML coding to your button which gives a large range of flexibility, even to disabled buttons.\r\n\r\n    Example: button.setText(&quot;&lt;html&gt;&lt;font color = red&gt;3&lt;/font&gt;&lt;/html&gt;&quot;);","title":"How to change the look of a disabled JButton in java","body":"<p>You can add HTML coding to your button which gives a large range of flexibility, even to disabled buttons.</p>\n\n<pre><code>Example: button.setText(\"&lt;html&gt;&lt;font color = red&gt;3&lt;/font&gt;&lt;/html&gt;\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1550529,"reputation":41,"user_id":1443034,"display_name":"Arne"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1350740876,"creation_date":1339095914,"answer_id":10938250,"question_id":1590764,"body_markdown":"Calling **setContentAreaFilled(false)** on a button will make a button look as if it is disabled, even if it is not. It doesn&#39;t, however, seem to work the other way around.\r\n\r\nIf you don&#39;t need your button to look enabled, then it is a nice fix.\r\n\r\n\r\n[Docs Oracle][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.4.2/docs/api/javax/swing/AbstractButton.html#setContentAreaFilled%28boolean%29","title":"How to change the look of a disabled JButton in java","body":"<p>Calling <strong>setContentAreaFilled(false)</strong> on a button will make a button look as if it is disabled, even if it is not. It doesn't, however, seem to work the other way around.</p>\n\n<p>If you don't need your button to look enabled, then it is a nice fix.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/javax/swing/AbstractButton.html#setContentAreaFilled%28boolean%29\" rel=\"nofollow\">Docs Oracle</a></p>\n"},{"tags":[],"owner":{"account_id":3175894,"reputation":1126,"user_id":2683771,"accept_rate":75,"display_name":"Mangara"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671574036,"creation_date":1509495763,"answer_id":47046440,"question_id":1590764,"body_markdown":"The button&#39;s `ButtonUI` controls the disabled text color. Luckily, you can change it:\r\n\r\n    button1.setUI(new MetalButtonUI() {\r\n        protected Color getDisabledTextColor() {\r\n            return Color.BLUE;\r\n        }\r\n    });\r\n    button1.setEnabled(false);\r\n    button2.setUI(new MetalButtonUI() {\r\n        protected Color getDisabledTextColor() {\r\n            return Color.RED;\r\n        }\r\n    });\r\n    button2.setEnabled(false);\r\n\r\n**NB:** The default UI class used by JButton is ButtonUI","title":"How to change the look of a disabled JButton in java","body":"<p>The button's <code>ButtonUI</code> controls the disabled text color. Luckily, you can change it:</p>\n<pre><code>button1.setUI(new MetalButtonUI() {\n    protected Color getDisabledTextColor() {\n        return Color.BLUE;\n    }\n});\nbutton1.setEnabled(false);\nbutton2.setUI(new MetalButtonUI() {\n    protected Color getDisabledTextColor() {\n        return Color.RED;\n    }\n});\nbutton2.setEnabled(false);\n</code></pre>\n<p><strong>NB:</strong> The default UI class used by JButton is ButtonUI</p>\n"},{"tags":[],"owner":{"account_id":10888096,"reputation":1,"user_id":8004946,"display_name":"Robert Tavares"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599199811,"creation_date":1599199811,"answer_id":63735746,"question_id":1590764,"body_markdown":"The best and easy solution is:\r\n\r\n```\r\nyourButton.setContentAreaFilled(false);\r\n```\r\n\r\nEasily reverted by just changing the boolean value to true:\r\n```\r\nyourButton.setContentAreaFilled(true);\r\n```","title":"How to change the look of a disabled JButton in java","body":"<p>The best and easy solution is:</p>\n<pre><code>yourButton.setContentAreaFilled(false);\n</code></pre>\n<p>Easily reverted by just changing the boolean value to true:</p>\n<pre><code>yourButton.setContentAreaFilled(true);\n</code></pre>\n"}],"owner":{"account_id":564202,"reputation":161,"user_id":192652,"display_name":"Patrick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23326,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":8,"score":13,"last_activity_date":1671574036,"creation_date":1255982195,"question_id":1590764,"body_markdown":"I am making a game and when I disable a button with  `setEnabled(false);` the buttons turns grey which clashes with the other colors in the game. Is their a way to change the color of the button when it is disabled?","title":"How to change the look of a disabled JButton in java","body":"<p>I am making a game and when I disable a button with  <code>setEnabled(false);</code> the buttons turns grey which clashes with the other colors in the game. Is their a way to change the color of the button when it is disabled?</p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1671408737,"post_id":74845227,"comment_id":132087233,"body_markdown":"How do you know that it didn&#39;t work?  So, after `myOrders = fireBaseMethods.getOrders`, what was in `myOrders`?  Did you use a debugger to look? If you didn&#39;t use a debugger, did you try printing the contents of `Keys` and the contents of `Values`?","body":"How do you know that it didn&#39;t work?  So, after <code>myOrders = fireBaseMethods.getOrders</code>, what was in <code>myOrders</code>?  Did you use a debugger to look? If you didn&#39;t use a debugger, did you try printing the contents of <code>Keys</code> and the contents of <code>Values</code>?"},{"owner":{"account_id":27277083,"reputation":367,"user_id":20797528,"display_name":"Anthony Tuccitto"},"score":0,"creation_date":1671408819,"post_id":74845227,"comment_id":132087242,"body_markdown":"I think you can use the `get()` method of the `HashMap` class","body":"I think you can use the <code>get()</code> method of the <code>HashMap</code> class"},{"owner":{"account_id":21644991,"reputation":1,"user_id":15966480,"display_name":"Moataz Harrabi"},"score":0,"creation_date":1671408836,"post_id":74845227,"comment_id":132087244,"body_markdown":"yeah myOrders wasn&#39;t Null, I use Log.i and it printed Myorders just fine, but the problem when I use &#39;HashMap&lt;String,Product&gt; Values = myOrders.values();&#39; android studio show that the provided type is collection but it need to be Hashmap","body":"yeah myOrders wasn&#39;t Null, I use Log.i and it printed Myorders just fine, but the problem when I use &#39;HashMap&lt;String,Product&gt; Values = myOrders.values();&#39; android studio show that the provided type is collection but it need to be Hashmap"},{"owner":{"account_id":21644991,"reputation":1,"user_id":15966480,"display_name":"Moataz Harrabi"},"score":0,"creation_date":1671409164,"post_id":74845227,"comment_id":132087280,"body_markdown":"@AnthonyTuccitto I need to get all of the values, can I do that with `get()` method ?","body":"@AnthonyTuccitto I need to get all of the values, can I do that with <code>get()</code> method ?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1671409272,"post_id":74845227,"comment_id":132087289,"body_markdown":"`myOrders` contains *many* HashMaps -- if you want to get a single HashMap you&#39;ll have to specify how you want to merge them.","body":"<code>myOrders</code> contains <i>many</i> HashMaps -- if you want to get a single HashMap you&#39;ll have to specify how you want to merge them."},{"owner":{"account_id":3884067,"reputation":843,"user_id":3215911,"display_name":"iroiroys"},"score":0,"creation_date":1671409277,"post_id":74845227,"comment_id":132087291,"body_markdown":"First, You should use `get` to get `HashMap&lt;String, Product&gt;` from `myOrders`.","body":"First, You should use <code>get</code> to get <code>HashMap&lt;String, Product&gt;</code> from <code>myOrders</code>."},{"owner":{"account_id":3884067,"reputation":843,"user_id":3215911,"display_name":"iroiroys"},"score":0,"creation_date":1671409378,"post_id":74845227,"comment_id":132087300,"body_markdown":"As @tgdavies commented,  `HashMap&lt;String,Product&gt; Values = myOrders.values();` is two dimension collection.","body":"As @tgdavies commented,  <code>HashMap&lt;String,Product&gt; Values = myOrders.values();</code> is two dimension collection."}],"answers":[{"tags":[],"owner":{"account_id":34671,"reputation":8309,"user_id":98044,"accept_rate":95,"display_name":"Vini"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671410093,"creation_date":1671409243,"answer_id":74845299,"question_id":74845227,"body_markdown":"Calling `.values()` will return a collection of &#39;values&#39; (in your case, a collection of `HashMap`s). You can use something like:\r\n\r\n```\r\nList&lt;String&gt; keys = new ArrayList&lt;&gt;(myOrders.keySet());\r\n\r\nfor(String key: keys) {\r\n    HashMap&lt;String, Product&gt; productMap = myOrders.get(key); // This will return the HashMap for the &#39;key&#39;\r\n    ... // processing logic goes here\r\n```\r\n\r\n\r\nOr better still (as suggested in the comments):\r\n\r\n```\r\nfor(Entry&lt;String, Map&lt;String, Product&gt;&gt; entry: map.entrySet()) {\r\n    Map&lt;String, Product&gt; productMap = entry.getValue();\r\n    // processing logic here ... \r\n```","title":"How to get HashMap nested inside a HashMap","body":"<p>Calling <code>.values()</code> will return a collection of 'values' (in your case, a collection of <code>HashMap</code>s). You can use something like:</p>\n<pre><code>List&lt;String&gt; keys = new ArrayList&lt;&gt;(myOrders.keySet());\n\nfor(String key: keys) {\n    HashMap&lt;String, Product&gt; productMap = myOrders.get(key); // This will return the HashMap for the 'key'\n    ... // processing logic goes here\n</code></pre>\n<p>Or better still (as suggested in the comments):</p>\n<pre><code>for(Entry&lt;String, Map&lt;String, Product&gt;&gt; entry: map.entrySet()) {\n    Map&lt;String, Product&gt; productMap = entry.getValue();\n    // processing logic here ... \n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671428812,"creation_date":1671410654,"answer_id":74845419,"question_id":74845227,"body_markdown":"You have a `HashMap` where the key is of type `String` and the value is of type `HashMap&lt;String, Product&gt;`. \r\n\r\n# Example data\r\n\r\nLet&#39;s create some example code &amp; data to represent that. Let&#39;s use the more general `Map` interface rather than concrete `HashMap` class. \r\n\r\n```java\r\nrecord Product( int id , String name ) { }\r\n\r\nMap &lt; String, Map &lt; String, Product &gt; &gt; myOrders =\r\n        Map.of(\r\n                &quot;yesterday&quot; ,\r\n                Map.of(\r\n                        &quot;one&quot; , new Product( 1 , &quot;apples&quot; ) ,\r\n                        &quot;two&quot; , new Product( 2 , &quot;bananas&quot; )\r\n                ) ,\r\n\r\n                &quot;today&quot; ,\r\n                Map.of(\r\n                        &quot;one&quot; , new Product( 7 , &quot;oats&quot; ) ,\r\n                        &quot;two&quot; , new Product( 42 , &quot;quinoa&quot; )\r\n                )\r\n        );\r\n```\r\n\r\n&gt;myOrders.toString():\r\n&gt;\r\n&gt;{today={two=Product[id=42, name=quinoa], one=Product[id=7, name=oats]}, yesterday={two=Product[id=2, name=bananas], one=Product[id=1, name=apples]}}\r\n\r\n# No need for `List` with `Map#keySet`\r\n\r\nYour use of `List` &amp; `ArrayList` is unnecessary, as [`Map#keySet`][1] returns a [`Set`][2] object. \r\n\r\nFurthermore, introducing a `List` here does not make sense, as by definition the order of keys in a `Map` or `HashMap` is *not* defined &#160;the keys may be in any order, even appearing in different order every time you retrieve the keys. \r\n\r\nSo let&#39;s just capture the `Set`.\r\n\r\n```java\r\nSet &lt; String &gt; keySet = myOrders.keySet();\r\n```\r\n\r\n&gt;keySet.toString(): \r\n&gt;\r\n&gt;[today, yesterday]\r\n\r\n# Use `Collection` with `Map#values`\r\n\r\nIn your line of code:\r\n\r\n    HashMap&lt;String,Product&gt; Values = myOrders.values();\r\n\r\n you made the mistake of expecting a single `Map` to be returned. You asked for *all* values. Each and every one of this values is a `Map`. So you will get back a bunch of maps, not a single map.\r\n\r\nReading the Javadoc for [`Map#values`][3] tells you that the method returns a [`Collection`][4]. So you will get a `Collection&lt; Map &lt; String, Product &gt; &gt;`.\r\n\r\nSo let&#39;s capture that `Collection` object.\r\n\r\n```java\r\nCollection &lt; Map &lt; String, Product &gt; &gt; values = myOrders.values();\r\n```\r\n\r\n&gt;values.toString():\r\n&gt;\r\n&gt;[{two=Product[id=2, name=bananas], one=Product[id=1, name=apples]}, {two=Product[id=42, name=quinoa], one=Product[id=7, name=oats]}]\r\n\r\n# Access a single value for a specific key\r\n\r\nIf you are looking for the value paired with a specific key, use `Map#get` method.\r\n\r\n    Map &lt; String, Product &gt; mapForKey = myOrders.get( &quot;yesterday&quot; ) ;  // Returns a `Map` object, whose contents are: {two=Product[id=42, name=quinoa], one=Product[id=7, name=oats]}].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Map.html#keySet()\r\n  [2]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Set.html\r\n  [3]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Map.html#values()\r\n  [4]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Collection.html","title":"How to get HashMap nested inside a HashMap","body":"<p>You have a <code>HashMap</code> where the key is of type <code>String</code> and the value is of type <code>HashMap&lt;String, Product&gt;</code>.</p>\n<h1>Example data</h1>\n<p>Let's create some example code &amp; data to represent that. Let's use the more general <code>Map</code> interface rather than concrete <code>HashMap</code> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>record Product( int id , String name ) { }\n\nMap &lt; String, Map &lt; String, Product &gt; &gt; myOrders =\n        Map.of(\n                &quot;yesterday&quot; ,\n                Map.of(\n                        &quot;one&quot; , new Product( 1 , &quot;apples&quot; ) ,\n                        &quot;two&quot; , new Product( 2 , &quot;bananas&quot; )\n                ) ,\n\n                &quot;today&quot; ,\n                Map.of(\n                        &quot;one&quot; , new Product( 7 , &quot;oats&quot; ) ,\n                        &quot;two&quot; , new Product( 42 , &quot;quinoa&quot; )\n                )\n        );\n</code></pre>\n<blockquote>\n<p>myOrders.toString():</p>\n<p>{today={two=Product[id=42, name=quinoa], one=Product[id=7, name=oats]}, yesterday={two=Product[id=2, name=bananas], one=Product[id=1, name=apples]}}</p>\n</blockquote>\n<h1>No need for <code>List</code> with <code>Map#keySet</code></h1>\n<p>Your use of <code>List</code> &amp; <code>ArrayList</code> is unnecessary, as <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Map.html#keySet()\" rel=\"nofollow noreferrer\"><code>Map#keySet</code></a> returns a <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Set.html\" rel=\"nofollow noreferrer\"><code>Set</code></a> object.</p>\n<p>Furthermore, introducing a <code>List</code> here does not make sense, as by definition the order of keys in a <code>Map</code> or <code>HashMap</code> is <em>not</em> defined the keys may be in any order, even appearing in different order every time you retrieve the keys.</p>\n<p>So let's just capture the <code>Set</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set &lt; String &gt; keySet = myOrders.keySet();\n</code></pre>\n<blockquote>\n<p>keySet.toString():</p>\n<p>[today, yesterday]</p>\n</blockquote>\n<h1>Use <code>Collection</code> with <code>Map#values</code></h1>\n<p>In your line of code:</p>\n<pre><code>HashMap&lt;String,Product&gt; Values = myOrders.values();\n</code></pre>\n<p> you made the mistake of expecting a single <code>Map</code> to be returned. You asked for <em>all</em> values. Each and every one of this values is a <code>Map</code>. So you will get back a bunch of maps, not a single map.</p>\n<p>Reading the Javadoc for <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Map.html#values()\" rel=\"nofollow noreferrer\"><code>Map#values</code></a> tells you that the method returns a <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Collection.html\" rel=\"nofollow noreferrer\"><code>Collection</code></a>. So you will get a <code>Collection&lt; Map &lt; String, Product &gt; &gt;</code>.</p>\n<p>So let's capture that <code>Collection</code> object.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Collection &lt; Map &lt; String, Product &gt; &gt; values = myOrders.values();\n</code></pre>\n<blockquote>\n<p>values.toString():</p>\n<p>[{two=Product[id=2, name=bananas], one=Product[id=1, name=apples]}, {two=Product[id=42, name=quinoa], one=Product[id=7, name=oats]}]</p>\n</blockquote>\n<h1>Access a single value for a specific key</h1>\n<p>If you are looking for the value paired with a specific key, use <code>Map#get</code> method.</p>\n<pre><code>Map &lt; String, Product &gt; mapForKey = myOrders.get( &quot;yesterday&quot; ) ;  // Returns a `Map` object, whose contents are: {two=Product[id=42, name=quinoa], one=Product[id=7, name=oats]}].\n</code></pre>\n"}],"owner":{"account_id":21644991,"reputation":1,"user_id":15966480,"display_name":"Moataz Harrabi"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1671453606,"answer_count":2,"score":-1,"last_activity_date":1671573946,"creation_date":1671408354,"question_id":74845227,"body_markdown":"I need to get HashMap which is already inside of HashMap as a value.\r\n\r\n\r\n```\r\nHashMap&lt;String, HashMap&lt;String, Product&gt;&gt; myOrders = new HashMap&lt;&gt;();\r\nmyOrders = firebaseMethods.getOrders(FirebaseAuth.getInstance().getCurrentUser().getUid(),snapshot);\r\nList&lt;String&gt; Keys = new ArrayList&lt;&gt;(myOrders.keySet());\r\nHashMap&lt;String,Product&gt; Values = myOrders.values();\r\n```\r\n\r\n\r\n\r\nI&#39;ve tried already .values() method but it didn&#39;t work, any ideas how I can achieve this.","title":"How to get HashMap nested inside a HashMap","body":"<p>I need to get HashMap which is already inside of HashMap as a value.</p>\n<pre><code>HashMap&lt;String, HashMap&lt;String, Product&gt;&gt; myOrders = new HashMap&lt;&gt;();\nmyOrders = firebaseMethods.getOrders(FirebaseAuth.getInstance().getCurrentUser().getUid(),snapshot);\nList&lt;String&gt; Keys = new ArrayList&lt;&gt;(myOrders.keySet());\nHashMap&lt;String,Product&gt; Values = myOrders.values();\n</code></pre>\n<p>I've tried already .values() method but it didn't work, any ideas how I can achieve this.</p>\n"},{"tags":["java","oop","interface","polymorphism","pojo"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1671555708,"post_id":74866405,"comment_id":132122541,"body_markdown":"Define a variable of type `ShippingCalculator`, have an `if` statement based on the `countryOfOrigin`. In the if-block create a `USAShippingCalculator` and assign it to the variable, in the else-block create a `RestOfWorldShippingCalculator` and assign it to the variable. There&#39;s probably nothing in there that you haven&#39;t done dozens of times before, it&#39;s just a combination that you&#39;ve not seen before, but you know the individual steps. Bonus points: extract the `if` into a a method like `ShippingCalculator getShippingCalculator(String countryOfOrigin)`.","body":"Define a variable of type <code>ShippingCalculator</code>, have an <code>if</code> statement based on the <code>countryOfOrigin</code>. In the if-block create a <code>USAShippingCalculator</code> and assign it to the variable, in the else-block create a <code>RestOfWorldShippingCalculator</code> and assign it to the variable. There&#39;s probably nothing in there that you haven&#39;t done dozens of times before, it&#39;s just a combination that you&#39;ve not seen before, but you know the individual steps. Bonus points: extract the <code>if</code> into a a method like <code>ShippingCalculator getShippingCalculator(String countryOfOrigin)</code>."}],"answers":[{"tags":[],"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671572642,"creation_date":1671572642,"answer_id":74869205,"question_id":74866405,"body_markdown":"If you are unlikely to need these calculators anywhere else in your code, you could use anonymous inner classes.\r\n\r\n```Java\r\npublic static void main(String[] args) {\r\n    \r\n    // create product \r\n    Product product = new Product();\r\n    \r\n    ShippingCalculator shippingCalculator;\r\n    // calculate shipping\r\n    if(product.countryOfOrigin.equals(&quot;USA&quot;))\r\n       shippingCalculator = new ShippingCalculator(){\r\n         void calculatePrice(Product product){\r\n             //do usa calculation\r\n         }\r\n       }\r\n    else\r\n       shippingCalculator = new ShippingCalculator() {\r\n         void calculatePrice(Product product){\r\n             //do non-usa calculation\r\n         }\r\n       }\r\n    \r\n    shippingCalculator.calculatePrice(product);\r\n\r\n}\r\n```","title":"Java - Dynamically creating concrete type of an Interface?","body":"<p>If you are unlikely to need these calculators anywhere else in your code, you could use anonymous inner classes.</p>\n<pre><code>public static void main(String[] args) {\n    \n    // create product \n    Product product = new Product();\n    \n    ShippingCalculator shippingCalculator;\n    // calculate shipping\n    if(product.countryOfOrigin.equals(&quot;USA&quot;))\n       shippingCalculator = new ShippingCalculator(){\n         void calculatePrice(Product product){\n             //do usa calculation\n         }\n       }\n    else\n       shippingCalculator = new ShippingCalculator() {\n         void calculatePrice(Product product){\n             //do non-usa calculation\n         }\n       }\n    \n    shippingCalculator.calculatePrice(product);\n\n}\n</code></pre>\n"}],"owner":{"account_id":16962007,"reputation":1665,"user_id":12268910,"display_name":"java12399900"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671572642,"creation_date":1671555443,"question_id":74866405,"body_markdown":"In my java class below I create a product and calculate the shipping as follows:\r\n\r\n    \r\n\r\n    public static void main(String[] args) {\r\n        \r\n        // create product \r\n        Product product = new Product();\r\n        \r\n        // calculate shipping\r\n        ShippingCalculator usaShippingCalculator = new USAShippingCalculator();\r\n        usaShippingCalculator.calculatePrice(product);\r\n    \r\n       // todo - how to replace above with dynamic logic around what calculator to use?\r\n        \r\n        }\r\n\r\nNote that I have 2 different shipping calculators:\r\n\r\n    USAShippingCalculator\r\n    RestofWorldShippingCalculator\r\n\r\nBoth implement the `ShippingCalculator` interface, shown below:\r\n\r\n    public interface ShippingCalculator {\r\n    \r\n        void calculatePrice(Product product);\r\n    }\r\n\r\nNote that I have hardcoded above to use the `USAShippingCalculator`, however what I want to do is dynamically use the calculator that corresponds to the products country of origin - this will be a field in the Product object : `String countryOfOrigin.`\r\n\r\nHow can I do so?","title":"Java - Dynamically creating concrete type of an Interface?","body":"<p>In my java class below I create a product and calculate the shipping as follows:</p>\n<pre><code>public static void main(String[] args) {\n    \n    // create product \n    Product product = new Product();\n    \n    // calculate shipping\n    ShippingCalculator usaShippingCalculator = new USAShippingCalculator();\n    usaShippingCalculator.calculatePrice(product);\n\n   // todo - how to replace above with dynamic logic around what calculator to use?\n    \n    }\n</code></pre>\n<p>Note that I have 2 different shipping calculators:</p>\n<pre><code>USAShippingCalculator\nRestofWorldShippingCalculator\n</code></pre>\n<p>Both implement the <code>ShippingCalculator</code> interface, shown below:</p>\n<pre><code>public interface ShippingCalculator {\n\n    void calculatePrice(Product product);\n}\n</code></pre>\n<p>Note that I have hardcoded above to use the <code>USAShippingCalculator</code>, however what I want to do is dynamically use the calculator that corresponds to the products country of origin - this will be a field in the Product object : <code>String countryOfOrigin.</code></p>\n<p>How can I do so?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1671568936,"post_id":74868618,"comment_id":132126488,"body_markdown":"Like most questions relating to `KeyListener`, you should be using the [Key bindings API](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html) instead.  I&#39;d also place debug statements in your code to test what flows are been executed and without knowing your update workflow, make sure the UI is been repainted","body":"Like most questions relating to <code>KeyListener</code>, you should be using the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">Key bindings API</a> instead.  I&#39;d also place debug statements in your code to test what flows are been executed and without knowing your update workflow, make sure the UI is been repainted"},{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":2,"creation_date":1671569071,"post_id":74868618,"comment_id":132126519,"body_markdown":"How should the character move when you didn&#39;t implement the actual movement? Your `movePlayer()` method does nothing.","body":"How should the character move when you didn&#39;t implement the actual movement? Your <code>movePlayer()</code> method does nothing."},{"owner":{"account_id":27311426,"reputation":1,"user_id":20826518,"display_name":"Steve_Arnold"},"score":0,"creation_date":1671569462,"post_id":74868618,"comment_id":132126610,"body_markdown":"Right, So How would I make my player move because  I thought that since I made VK_LEFT as &#39;L&#39; if I just mentioned the letter &#39;L&#39; in the gameEngine class that it would pick up the keypressed. And also would I possibly need to add .GetLocation so that the movements update automatically?","body":"Right, So How would I make my player move because  I thought that since I made VK_LEFT as &#39;L&#39; if I just mentioned the letter &#39;L&#39; in the gameEngine class that it would pick up the keypressed. And also would I possibly need to add .GetLocation so that the movements update automatically?"},{"owner":{"account_id":27311426,"reputation":1,"user_id":20826518,"display_name":"Steve_Arnold"},"score":0,"creation_date":1671569548,"post_id":74868618,"comment_id":132126635,"body_markdown":"I have been told to implent KeyListener and not something else like KeyBinding","body":"I have been told to implent KeyListener and not something else like KeyBinding"},{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":2,"creation_date":1671570079,"post_id":74868618,"comment_id":132126765,"body_markdown":"You did combine the key with letter &quot;L&quot;, but didn&#39;t tell the engine what &quot;L&quot; is supposed to mean. As you can see, that switch doesn&#39;t do anything. You now need to move your player on the screen. We can&#39;t tell how to do that, because we don&#39;t know how your code looks like.","body":"You did combine the key with letter &quot;L&quot;, but didn&#39;t tell the engine what &quot;L&quot; is supposed to mean. As you can see, that switch doesn&#39;t do anything. You now need to move your player on the screen. We can&#39;t tell how to do that, because we don&#39;t know how your code looks like."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1671570269,"post_id":74868618,"comment_id":132126824,"body_markdown":"See: [Motion Using the Keyboard](https://tips4java.wordpress.com/2013/06/09/motion-using-the-keyboard/)","body":"See: <a href=\"https://tips4java.wordpress.com/2013/06/09/motion-using-the-keyboard/\" rel=\"nofollow noreferrer\">Motion Using the Keyboard</a>"},{"owner":{"account_id":27311426,"reputation":1,"user_id":20826518,"display_name":"Steve_Arnold"},"score":0,"creation_date":1671570761,"post_id":74868618,"comment_id":132126943,"body_markdown":"This is the issue, I&#39;m facing My code which is as follow public void keyPressed(KeyEvent e) { switch(e.getKeyCode()) {\ncase KeyEvent.VK_LEFT:\nengine.movePlayer(&#39;L&#39;);\nbreak;  //handle left arrow key\ncase KeyEvent.VK_RIGHT:\nengine.movePlayer(&#39;R&#39;);\nbreak;//handle right arrow\ncase KeyEvent.VK_UP:\nengine.movePlayer(&#39;U&#39;);\nbreak;      //handle up arrow\ncase KeyEvent.VK_DOWN:\nengine.movePlayer(&#39;D&#39;);\nbreak;  //handle down arrow\n}\nengine.doTurn(); but the issue is I need to make the letter &#39;D&#39; link in the GameEngine class which I don&#39;t understand","body":"This is the issue, I&#39;m facing My code which is as follow public void keyPressed(KeyEvent e) { switch(e.getKeyCode()) { case KeyEvent.VK_LEFT: engine.movePlayer(&#39;L&#39;); break;  //handle left arrow key case KeyEvent.VK_RIGHT: engine.movePlayer(&#39;R&#39;); break;//handle right arrow case KeyEvent.VK_UP: engine.movePlayer(&#39;U&#39;); break;      //handle up arrow case KeyEvent.VK_DOWN: engine.movePlayer(&#39;D&#39;); break;  //handle down arrow } engine.doTurn(); but the issue is I need to make the letter &#39;D&#39; link in the GameEngine class which I don&#39;t understand"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1671571834,"post_id":74868618,"comment_id":132127209,"body_markdown":"Your `keyPressed` implementation is probably fine. You can add some print statements to check that the cases in your switch block are being entered correctly. As @Tom says, you need to modify `movePlayer` so that the state of the game changes.","body":"Your <code>keyPressed</code> implementation is probably fine. You can add some print statements to check that the cases in your switch block are being entered correctly. As @Tom says, you need to modify <code>movePlayer</code> so that the state of the game changes."}],"answers":[{"tags":[],"owner":{"account_id":14945177,"reputation":164,"user_id":10790673,"display_name":"Ali Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671572131,"creation_date":1671572131,"answer_id":74869153,"question_id":74868618,"body_markdown":"You need to show the code for ```GameEngine``` class. If it contains the ```x``` and ```y``` position of the player on screen, you need to update it accordingly.\r\n\r\nFor example if you have the ```x``` and ```y``` coordinates of player (which you should have considering you need to move the player), you can do the following:\r\n\r\n```\r\npublic void movePlayer(char direction) {\r\n        switch (direction) {\r\n            case &#39;U&#39;:\r\n                // update player position and game state to move player up\r\n                y -= 1;\r\n                break;\r\n            case &#39;L&#39;:\r\n                // update player position and game state to move player left\r\n                x -= 1;\r\n                break;\r\n            case &#39;R&#39;:\r\n                // update player position and game state to move player right\r\n                x += 1;\r\n                break;\r\n            case &#39;D&#39;:\r\n                // update player position and game state to move player down\r\n                y += 1;\r\n                break;\r\n            default:\r\n                // code to execute if direction is none of the above\r\n                break;\r\n        }\r\n```\r\n\r\nThis is a very basic implementation without considering speed and friction and assuming the coordinate system&#39;s ```(0,0)``` starts from top left of the screen.","title":"How to move object left, right, up and down using KeyListener does not seem to be working","body":"<p>You need to show the code for <code>GameEngine</code> class. If it contains the <code>x</code> and <code>y</code> position of the player on screen, you need to update it accordingly.</p>\n<p>For example if you have the <code>x</code> and <code>y</code> coordinates of player (which you should have considering you need to move the player), you can do the following:</p>\n<pre><code>public void movePlayer(char direction) {\n        switch (direction) {\n            case 'U':\n                // update player position and game state to move player up\n                y -= 1;\n                break;\n            case 'L':\n                // update player position and game state to move player left\n                x -= 1;\n                break;\n            case 'R':\n                // update player position and game state to move player right\n                x += 1;\n                break;\n            case 'D':\n                // update player position and game state to move player down\n                y += 1;\n                break;\n            default:\n                // code to execute if direction is none of the above\n                break;\n        }\n</code></pre>\n<p>This is a very basic implementation without considering speed and friction and assuming the coordinate system's <code>(0,0)</code> starts from top left of the screen.</p>\n"}],"owner":{"account_id":27311426,"reputation":1,"user_id":20826518,"display_name":"Steve_Arnold"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671572131,"creation_date":1671568540,"question_id":74868618,"body_markdown":"Trying to make my player move using the left, right, up and down arrow, Have class called InputHandler that implements KeyListener and have code in KeyPressed such as VK_LEFT etc, tried using Switch and If Else statements maybe I&#39;m being abit stupid\r\n\r\n\r\n```\r\n Method to handle key presses captured by the GameGUI. The method calls\r\n     * the game engine doTurn method to process a game turn for ANY key press,\r\n     * but if the up, down, left or right arrow keys are pressed it also calls a\r\n     * method in the engine to update the game by moving the player.\r\n     *\r\n     * @param e A KeyEvent object generated when a keyboard key is pressed\r\n```\r\n\r\n```\r\n**\r\n     * Handles the movement of the player when attempting to move in the game.\r\n     * This method is automatically called by the InputHandler class when the\r\n     * user has presses one of the arrow keys on the keyboard. The method should\r\n     * check which direction for movement is required, by checking which\r\n     * character was passed to this method (see parameter description below). If\r\n     * the tile above, below, to the left or to the right is clear then the\r\n     * player object should have its position changed to update its position in\r\n     * the game window. If the target tile is not empty then the player should\r\n     * not be moved, but other effects may happen such as giving a customer\r\n     * food, or picking up food etc. To achieve this, the target tile should be\r\n     * checked to determine the type of tile (food, table, wall etc.) and\r\n     * appropriate methods called or attribute values changed.\r\n```\r\n\r\n```\r\n@param direction A char representing the direction that the player should\r\n     * move. U is up, D is down, L is left and R is right.\r\n```\r\n\r\nThese are what I have been told to implement in the code but the arrow keys don&#39;t seem to make the player move \r\n\r\n```\r\npublic void keyPressed(KeyEvent e) {\r\n        switch(e.getKeyCode()) {\r\n            case KeyEvent.VK_LEFT:\r\n                engine.movePlayer(&#39;L&#39;);\r\n                break;  //handle left arrow key\r\n            case KeyEvent.VK_RIGHT:\r\n                engine.movePlayer(&#39;R&#39;);\r\n                break;//handle right arrow\r\n            case KeyEvent.VK_UP:\r\n                engine.movePlayer(&#39;U&#39;);\r\n                break;      //handle up arrow\r\n            case KeyEvent.VK_DOWN:\r\n                engine.movePlayer(&#39;D&#39;);\r\n                break;  //handle down arrow\r\n        }\r\n        engine.doTurn();\r\n```\r\nThis code above is the code I have been told to edit so that when the left arrow is pressed the player will move to the left, The code above is in the InputHandler class\r\n\r\n```\r\npublic void movePlayer(char direction) {\r\nswitch (direction) {\r\n            case &#39;U&#39;:\r\n                // update player position and game state to move player up\r\n                break;\r\n            case &#39;L&#39;:\r\n                // update player position and game state to move player left\r\n                break;\r\n            case &#39;R&#39;:\r\n                // update player position and game state to move player right\r\n                break;\r\n            case &#39;D&#39;:\r\n                // update player position and game state to move player down\r\n                break;\r\n            default:\r\n                // code to execute if direction is none of the above\r\n                break;\r\n        }\r\n```\r\nThe code above is the code I have added, The code above is in the GameEngine class\r\n\r\nNow when ever I try to run this project there is no compiler error but the arrow keys don&#39;t seem to move the player\r\n","title":"How to move object left, right, up and down using KeyListener does not seem to be working","body":"<p>Trying to make my player move using the left, right, up and down arrow, Have class called InputHandler that implements KeyListener and have code in KeyPressed such as VK_LEFT etc, tried using Switch and If Else statements maybe I'm being abit stupid</p>\n<pre><code> Method to handle key presses captured by the GameGUI. The method calls\n     * the game engine doTurn method to process a game turn for ANY key press,\n     * but if the up, down, left or right arrow keys are pressed it also calls a\n     * method in the engine to update the game by moving the player.\n     *\n     * @param e A KeyEvent object generated when a keyboard key is pressed\n</code></pre>\n<pre><code>**\n     * Handles the movement of the player when attempting to move in the game.\n     * This method is automatically called by the InputHandler class when the\n     * user has presses one of the arrow keys on the keyboard. The method should\n     * check which direction for movement is required, by checking which\n     * character was passed to this method (see parameter description below). If\n     * the tile above, below, to the left or to the right is clear then the\n     * player object should have its position changed to update its position in\n     * the game window. If the target tile is not empty then the player should\n     * not be moved, but other effects may happen such as giving a customer\n     * food, or picking up food etc. To achieve this, the target tile should be\n     * checked to determine the type of tile (food, table, wall etc.) and\n     * appropriate methods called or attribute values changed.\n</code></pre>\n<pre><code>@param direction A char representing the direction that the player should\n     * move. U is up, D is down, L is left and R is right.\n</code></pre>\n<p>These are what I have been told to implement in the code but the arrow keys don't seem to make the player move</p>\n<pre><code>public void keyPressed(KeyEvent e) {\n        switch(e.getKeyCode()) {\n            case KeyEvent.VK_LEFT:\n                engine.movePlayer('L');\n                break;  //handle left arrow key\n            case KeyEvent.VK_RIGHT:\n                engine.movePlayer('R');\n                break;//handle right arrow\n            case KeyEvent.VK_UP:\n                engine.movePlayer('U');\n                break;      //handle up arrow\n            case KeyEvent.VK_DOWN:\n                engine.movePlayer('D');\n                break;  //handle down arrow\n        }\n        engine.doTurn();\n</code></pre>\n<p>This code above is the code I have been told to edit so that when the left arrow is pressed the player will move to the left, The code above is in the InputHandler class</p>\n<pre><code>public void movePlayer(char direction) {\nswitch (direction) {\n            case 'U':\n                // update player position and game state to move player up\n                break;\n            case 'L':\n                // update player position and game state to move player left\n                break;\n            case 'R':\n                // update player position and game state to move player right\n                break;\n            case 'D':\n                // update player position and game state to move player down\n                break;\n            default:\n                // code to execute if direction is none of the above\n                break;\n        }\n</code></pre>\n<p>The code above is the code I have added, The code above is in the GameEngine class</p>\n<p>Now when ever I try to run this project there is no compiler error but the arrow keys don't seem to move the player</p>\n"},{"tags":["java","exificient"],"owner":{"account_id":27311442,"reputation":1,"user_id":20826533,"display_name":"everythingzen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671572069,"creation_date":1671572069,"question_id":74869142,"body_markdown":"Have been using JAXB and EXIficient library to marshall objects to XML then compress the XML to EXI.  Able to send the EXI over the wire and recover the XML.  The schemas and binding files reside under my projects **src/main/resources/xsd** folder.  Able to run my prototype application successfully from IDE (Gradle, IntelliJ). Have packaged the app and resources into an uber/fat JAR and created a set of run scripts.  **Running app via the command line is failing** when building the EXI grammar for the top-level XSD.\r\n\r\nMy initial snippet for the EXI factory setup looked like this:\r\n\r\n``` lang-java\r\nvar SCHEMA_PATH = &quot;xsd/my-root.xsd&quot;;\r\nvar exiFactory = DefaultEXIFactory.newInstance();\r\n\r\nURL xsdResource = EXICodec.class.getClassLoader().getResource(SCHEMA_PATH);\r\ncheckNotNull(xsdResource);\r\nvar xsdAbsPath = xsdResource.getFile();\r\n\r\n// Following OK when run from within IDE.\r\n// Following generates exception when trying to locate the XSD in uber JAR.\r\nexiFactory.setGrammars(GrammarFactory.newInstance().createGrammars(xsdAbsPath));\r\n\r\nexiFactory.getEncodingOptions().setOption(EncodingOptions.INCLUDE_COOKIE, true);\r\nexiFactory.setCodingMode(CodingMode.COMPRESSION);\r\n```\r\n\r\nIt failed as follows\r\n\r\n```\r\ncom.siemens.ct.exi.core.exceptions.EXIException: XML Schema document (file:/mnt/c/Users/user1/my-project/tmp-install/myapp-0.1/lib/myapp-0.1.jar!/xsd/my-root.xsd) not found.\r\n```\r\n\r\nBasically, the XSD cannot be found in the uber/fat JAR.  Looking at the JAR contents I saw the expected **/xsd/my-root.xsd** entry.  Realized that I can&#39;t access the schema as a **file** as its not really a file but a resource bundled in the jar.\r\n\r\nTweaked my EXI factory setup as follows\r\n\r\n``` lang-java\r\n\r\nexiFactory = DefaultEXIFactory.newInstance();\r\n\r\nvar xsdInputStream = ClassLoader.getSystemResourceAsStream(SCHEMA_PATH);\r\n\r\n// Seeing exceptions as XSDs referenced from top-level XSD can&#39;t be located within JAR\r\nexiFactory.setGrammars(GrammarFactory.newInstance().createGrammars(xsdInputStream));\r\n\r\nexiFactory.getEncodingOptions().setOption(EncodingOptions.INCLUDE_COOKIE, true);\r\nexiFactory.setCodingMode(CodingMode.COMPRESSION);\r\n```\r\n\r\nGot a bit further but ran into problems locating the XSDs referenced from my top-level XSD.  E.g. entries such as the following in the top-level XSD s\r\n\r\n``` lang-xml\r\n&lt;xs:import namespace=&quot;http://someURL/someVersion/&quot; schemaLocation=&quot;../other/common.xsd&quot;/&gt;\r\n```\r\n\r\nled to errors like the following when creating the grammar\r\n\r\n``` lang-xml\r\ncom.siemens.ct.exi.core.exceptions.EXIException: Problem occured while building XML Schema Model (XSModel)!\r\n. [xs-warning] schema_reference.4: Failed to read schema document &#39;../other/common.xsd&#39;, because 1) could not find the document; 2) the document could not be read; 3) the root element of the document is not &lt;xsd:schema&gt;.\r\n```","title":"Java EXIficient issue using schema-informed grammar for JAR-based XSD","body":"<p>Have been using JAXB and EXIficient library to marshall objects to XML then compress the XML to EXI.  Able to send the EXI over the wire and recover the XML.  The schemas and binding files reside under my projects <strong>src/main/resources/xsd</strong> folder.  Able to run my prototype application successfully from IDE (Gradle, IntelliJ). Have packaged the app and resources into an uber/fat JAR and created a set of run scripts.  <strong>Running app via the command line is failing</strong> when building the EXI grammar for the top-level XSD.</p>\n<p>My initial snippet for the EXI factory setup looked like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var SCHEMA_PATH = &quot;xsd/my-root.xsd&quot;;\nvar exiFactory = DefaultEXIFactory.newInstance();\n\nURL xsdResource = EXICodec.class.getClassLoader().getResource(SCHEMA_PATH);\ncheckNotNull(xsdResource);\nvar xsdAbsPath = xsdResource.getFile();\n\n// Following OK when run from within IDE.\n// Following generates exception when trying to locate the XSD in uber JAR.\nexiFactory.setGrammars(GrammarFactory.newInstance().createGrammars(xsdAbsPath));\n\nexiFactory.getEncodingOptions().setOption(EncodingOptions.INCLUDE_COOKIE, true);\nexiFactory.setCodingMode(CodingMode.COMPRESSION);\n</code></pre>\n<p>It failed as follows</p>\n<pre><code>com.siemens.ct.exi.core.exceptions.EXIException: XML Schema document (file:/mnt/c/Users/user1/my-project/tmp-install/myapp-0.1/lib/myapp-0.1.jar!/xsd/my-root.xsd) not found.\n</code></pre>\n<p>Basically, the XSD cannot be found in the uber/fat JAR.  Looking at the JAR contents I saw the expected <strong>/xsd/my-root.xsd</strong> entry.  Realized that I can't access the schema as a <strong>file</strong> as its not really a file but a resource bundled in the jar.</p>\n<p>Tweaked my EXI factory setup as follows</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nexiFactory = DefaultEXIFactory.newInstance();\n\nvar xsdInputStream = ClassLoader.getSystemResourceAsStream(SCHEMA_PATH);\n\n// Seeing exceptions as XSDs referenced from top-level XSD can't be located within JAR\nexiFactory.setGrammars(GrammarFactory.newInstance().createGrammars(xsdInputStream));\n\nexiFactory.getEncodingOptions().setOption(EncodingOptions.INCLUDE_COOKIE, true);\nexiFactory.setCodingMode(CodingMode.COMPRESSION);\n</code></pre>\n<p>Got a bit further but ran into problems locating the XSDs referenced from my top-level XSD.  E.g. entries such as the following in the top-level XSD s</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;xs:import namespace=&quot;http://someURL/someVersion/&quot; schemaLocation=&quot;../other/common.xsd&quot;/&gt;\n</code></pre>\n<p>led to errors like the following when creating the grammar</p>\n<pre class=\"lang-xml prettyprint-override\"><code>com.siemens.ct.exi.core.exceptions.EXIException: Problem occured while building XML Schema Model (XSModel)!\n. [xs-warning] schema_reference.4: Failed to read schema document '../other/common.xsd', because 1) could not find the document; 2) the document could not be read; 3) the root element of the document is not &lt;xsd:schema&gt;.\n</code></pre>\n"},{"tags":["java","spring-data-jpa","subquery","many-to-many","specifications"],"answers":[{"tags":[],"owner":{"account_id":12550614,"reputation":1,"user_id":9132419,"display_name":"Ihor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671571563,"creation_date":1671454868,"answer_id":74850894,"question_id":74843825,"body_markdown":"I found a solution how to do it, it may be useful to someone:\r\n\r\n```java\r\nprivate Predicate withLabels(Root&lt;Feature&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder cb, Predicate predicate, List&lt;String&gt; labels) {\r\n    query.distinct(true);\r\n\r\n    Join&lt;Feature, Label&gt; joinTag = root.join(&quot;labels&quot;);\r\n\r\n    Subquery&lt;Label&gt; labelSubQuery = query.subquery(Label.class);\r\n    Root&lt;Label&gt; label = labelSubQuery.from(Label.class);\r\n    labelSubQuery.select(label.get(&quot;id&quot;)).where(cb.trim(label.get(&quot;name&quot;)).in(labels));\r\n\r\n    return cb.and(joinTag.get(&quot;id&quot;).in(labelSubQuery), predicate);\r\n}\r\n```","title":"How to create Subquery in Jpa Specification with ManyToMany relation to get result by input parameters list?","body":"<p>I found a solution how to do it, it may be useful to someone:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Predicate withLabels(Root&lt;Feature&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder cb, Predicate predicate, List&lt;String&gt; labels) {\n    query.distinct(true);\n\n    Join&lt;Feature, Label&gt; joinTag = root.join(&quot;labels&quot;);\n\n    Subquery&lt;Label&gt; labelSubQuery = query.subquery(Label.class);\n    Root&lt;Label&gt; label = labelSubQuery.from(Label.class);\n    labelSubQuery.select(label.get(&quot;id&quot;)).where(cb.trim(label.get(&quot;name&quot;)).in(labels));\n\n    return cb.and(joinTag.get(&quot;id&quot;).in(labelSubQuery), predicate);\n}\n</code></pre>\n"}],"owner":{"account_id":12550614,"reputation":1,"user_id":9132419,"display_name":"Ihor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671571563,"creation_date":1671391636,"question_id":74843825,"body_markdown":"Entity models: \r\n\r\n```\r\n@Entity\r\npublic class Label {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    @ManyToMany(fetch = FetchType.LAZY)\r\n    @JoinTable(\r\n            name = &quot;label_feature&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;label_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;feature_id&quot;))\r\n    private List&lt;Feature&gt; features = new ArrayList&lt;&gt;();\r\n```\r\n\r\n```\r\n@Entity\r\npublic class Feature {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n    @ManyToMany(mappedBy = &quot;features&quot;, cascade = CascadeType.ALL)\r\n    private List&lt;Label&gt; labels = new ArrayList&lt;&gt;();\r\n```\r\n\r\nHow to correct create Specification with Subquery to get for example all fearures by input List of labels?\r\n\r\ntried to create a subquery similar to this SQL query, but could not match the fields\r\nSQL query: \r\nSELECT * FROM feature where id in (select feature_id from label_feature where label_id in (SELECT id FROM label where name in (&#39;Test 1&#39;, &#39;Test 2&#39;)));","title":"How to create Subquery in Jpa Specification with ManyToMany relation to get result by input parameters list?","body":"<p>Entity models:</p>\n<pre><code>@Entity\npublic class Label {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(\n            name = &quot;label_feature&quot;,\n            joinColumns = @JoinColumn(name = &quot;label_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;feature_id&quot;))\n    private List&lt;Feature&gt; features = new ArrayList&lt;&gt;();\n</code></pre>\n<pre><code>@Entity\npublic class Feature {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    @ManyToMany(mappedBy = &quot;features&quot;, cascade = CascadeType.ALL)\n    private List&lt;Label&gt; labels = new ArrayList&lt;&gt;();\n</code></pre>\n<p>How to correct create Specification with Subquery to get for example all fearures by input List of labels?</p>\n<p>tried to create a subquery similar to this SQL query, but could not match the fields\nSQL query:\nSELECT * FROM feature where id in (select feature_id from label_feature where label_id in (SELECT id FROM label where name in ('Test 1', 'Test 2')));</p>\n"},{"tags":["java","maven","javafx"],"comments":[{"owner":{"account_id":202717,"reputation":830,"user_id":449946,"accept_rate":100,"display_name":"firephil"},"score":0,"creation_date":1619999360,"post_id":67362018,"comment_id":119065383,"body_markdown":"I recommend to use Netbeans and create a JavaFX project from the IDE so you can easilly use jpackager etc","body":"I recommend to use Netbeans and create a JavaFX project from the IDE so you can easilly use jpackager etc"},{"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"score":4,"creation_date":1620027788,"post_id":67362018,"comment_id":119070582,"body_markdown":"This will never work because you simply cannot combine the outdated Java 8 with JavaFX 16. The minimum Java version for JavaFX 16 is Java 11. And do not search for information on the internet before you have read the official documentation: https://openjfx.io/openjfx-docs/","body":"This will never work because you simply cannot combine the outdated Java 8 with JavaFX 16. The minimum Java version for JavaFX 16 is Java 11. And do not search for information on the internet before you have read the official documentation: <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">openjfx.io/openjfx-docs</a>"}],"answers":[{"tags":[],"owner":{"account_id":20891071,"reputation":11,"user_id":15346423,"display_name":"Oumar Diane"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671571556,"creation_date":1671331243,"answer_id":74838807,"question_id":67362018,"body_markdown":"\r\n\r\nIn Maven 3 if you just had a failed download and have fixed it (e.g. by uploading the jar to a repository) it will cache the failure. \r\n\r\nTo force a refresh add `-U` to the command line.\r\n\r\n\r\n\r\nSource: **https://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException**\r\n\r\n","title":"Maven JavaFX Run error org.openjfx:javafx-maven-plugin:0.0.6","body":"<p>In Maven 3 if you just had a failed download and have fixed it (e.g. by uploading the jar to a repository) it will cache the failure.</p>\n<p>To force a refresh add <code>-U</code> to the command line.</p>\n<p>Source: <strong><a href=\"https://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException\" rel=\"nofollow noreferrer\">https://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException</a></strong></p>\n"}],"owner":{"account_id":14820124,"reputation":51,"user_id":10702745,"display_name":"MrSaiba"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":765,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671571556,"creation_date":1619998844,"question_id":67362018,"body_markdown":"I created a maven project and added a JavaFX project to it. I made the following pom.xml\r\n\r\n    &lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;SEF-PROJ&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\r\n            &lt;javafx.version&gt;16&lt;/javafx.version&gt;\r\n            &lt;javafx.maven.plugin.version&gt;0.0.6&lt;/javafx.maven.plugin.version&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n                &lt;version&gt;${javafx.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n                &lt;version&gt;${javafx.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;release&gt;${maven.compiler.release}&lt;/release&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${javafx.maven.plugin.version}&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;executable&gt;/home/mrsaiba/.jdks/corretto-1.8.0_292/jre&lt;/executable&gt;\r\n                        &lt;mainClass&gt;src.sampe.Main&lt;/mainClass&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nWhen I run the mvn javafx:run, I got the error\r\n\r\nFailed to execute goal org.openjfx:javafx-maven-plugin:0.0.6:run (default-cli) on project SEF-PROJ: Error\r\n\r\nI googled it for days, but nothing useful showed up. I am using Java 8 and JavaFX 16(I don&#39;t want use a newer version of Java). I set up the JAVA_HOME with the path to the Java 8 jre.\r\n\r\n\r\n","title":"Maven JavaFX Run error org.openjfx:javafx-maven-plugin:0.0.6","body":"<p>I created a maven project and added a JavaFX project to it. I made the following pom.xml</p>\n<pre><code>&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;SEF-PROJ&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\n        &lt;javafx.version&gt;16&lt;/javafx.version&gt;\n        &lt;javafx.maven.plugin.version&gt;0.0.6&lt;/javafx.maven.plugin.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;${javafx.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;${javafx.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;${maven.compiler.release}&lt;/release&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${javafx.maven.plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;executable&gt;/home/mrsaiba/.jdks/corretto-1.8.0_292/jre&lt;/executable&gt;\n                    &lt;mainClass&gt;src.sampe.Main&lt;/mainClass&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>When I run the mvn javafx:run, I got the error</p>\n<p>Failed to execute goal org.openjfx:javafx-maven-plugin:0.0.6:run (default-cli) on project SEF-PROJ: Error</p>\n<p>I googled it for days, but nothing useful showed up. I am using Java 8 and JavaFX 16(I don't want use a newer version of Java). I set up the JAVA_HOME with the path to the Java 8 jre.</p>\n"},{"tags":["java","resttemplate","junit5"],"comments":[{"owner":{"account_id":1472818,"reputation":3699,"user_id":1383932,"display_name":"fiveelements"},"score":0,"creation_date":1564598935,"post_id":57297136,"comment_id":101088443,"body_markdown":"You are creating a new `RestTemplate` object in getfeature() method.","body":"You are creating a new <code>RestTemplate</code> object in getfeature() method."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1564598946,"post_id":57297136,"comment_id":101088449,"body_markdown":"offtopic. You are mocking twice. with mock() and @Mock","body":"offtopic. You are mocking twice. with mock() and @Mock"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1564599013,"post_id":57297136,"comment_id":101088475,"body_markdown":"You wont be able to to this since you are not using mock but actual impl. `new RestTemplate();`","body":"You wont be able to to this since you are not using mock but actual impl. <code>new RestTemplate();</code>"},{"owner":{"account_id":13673677,"reputation":167,"user_id":9865772,"display_name":"lin"},"score":0,"creation_date":1564599087,"post_id":57297136,"comment_id":101088511,"body_markdown":"please could you show any code example to test restTemplate, thx","body":"please could you show any code example to test restTemplate, thx"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1564599108,"post_id":57297136,"comment_id":101088523,"body_markdown":"why are you testing something that is not part of your code? You dont test RestTemplate but everything around it. The best would be mak your util non static, and provide rest template instance to use - it would be mock in your case.","body":"why are you testing something that is not part of your code? You dont test RestTemplate but everything around it. The best would be mak your util non static, and provide rest template instance to use - it would be mock in your case."},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1564599284,"post_id":57297136,"comment_id":101088594,"body_markdown":"This is exactly the purpose of *dependency injection*--you need to pass the mock as parameter to your `Feature` constructor (and use `RestOperations`; it&#39;s meant for this).","body":"This is exactly the purpose of <i>dependency injection</i>--you need to pass the mock as parameter to your <code>Feature</code> constructor (and use <code>RestOperations</code>; it&#39;s meant for this)."},{"owner":{"account_id":13673677,"reputation":167,"user_id":9865772,"display_name":"lin"},"score":0,"creation_date":1564599330,"post_id":57297136,"comment_id":101088616,"body_markdown":"getFeature function is more complicated than I show above. I just want to mock the restTemplate.postForObject, and return a testResponse. So every time, restTemplate.postForObject be called in the Feature class, it will return testResponse. Does it have a way to do it?","body":"getFeature function is more complicated than I show above. I just want to mock the restTemplate.postForObject, and return a testResponse. So every time, restTemplate.postForObject be called in the Feature class, it will return testResponse. Does it have a way to do it?"}],"answers":[{"tags":[],"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564599169,"creation_date":1564598930,"answer_id":57297181,"question_id":57297136,"body_markdown":"There is no need to constantly create a RestTemplate object.\r\n\r\nYou can create one and inject it into the class.\r\n\r\nThen, in your unit test, create a mock RestTemplate and inject that.\r\n\r\nEdit:  \r\nConcerning the static method.\r\nDon&#39;t use a static method,\r\nthat is terrible.\r\nIf you are using Spring (or any other Dependency Injection framework)\r\njust inject an instance of `Feature` where ever you want to make the rest call.\r\n\r\nAlso,\r\nin the Spring world `Feature` is a service class.\r\nUse the @Service annotation and make the method not static.","title":"how to junit test on restTemplate?","body":"<p>There is no need to constantly create a RestTemplate object.</p>\n\n<p>You can create one and inject it into the class.</p>\n\n<p>Then, in your unit test, create a mock RestTemplate and inject that.</p>\n\n<p>Edit:<br>\nConcerning the static method.\nDon't use a static method,\nthat is terrible.\nIf you are using Spring (or any other Dependency Injection framework)\njust inject an instance of <code>Feature</code> where ever you want to make the rest call.</p>\n\n<p>Also,\nin the Spring world <code>Feature</code> is a service class.\nUse the @Service annotation and make the method not static.</p>\n"},{"tags":[],"owner":{"account_id":1472818,"reputation":3699,"user_id":1383932,"display_name":"fiveelements"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1564607029,"creation_date":1564599188,"answer_id":57297245,"question_id":57297136,"body_markdown":"You are creating a new `RestTemplate` object in `getfeature()` method. So, mocking `RestTemplate` has no effect. Either take `RestTemplate` as an argument in `getfeature()` method or take it as constructor argument in `Feature` class.\r\n\r\nThen from the test class, you can mock RestTemplate and pass it like below:\r\n\r\n    Feature feature= new Feature(mockRestTemplate);\r\n    feature.getfeature(url);\r\n\r\nOr\r\n\r\n    Feature feature = new Feature();\r\n    feature.getfeature(mockRestTemplate, url);\r\n\r\nYou have to make the necessary changes in the Feature class based on the decision.\r\n\r\nHere is the running code sample:\r\n\r\n**Main class:**\r\n\r\n    public class Feature {\r\n        public static String getFeature(String url, RestTemplate restTemplate) {\r\n            return restTemplate.postForObject(url, &quot;&quot;, String.class);\r\n        }\r\n    }\r\n\r\n**Test class:**\r\n\r\nNotice the way the `RestTemplate` is mocked and then the response is mocked.\r\n\r\n    public class FeatureTest {\r\n        @Test\r\n        public void testFeature() {\r\n            RestTemplate restTemplate = Mockito.mock(RestTemplate.class);\r\n            Mockito.when(restTemplate.postForObject(Mockito.any(String.class),\r\n                    Mockito.any(Object.class), Mockito.any(Class.class))).thenReturn(&quot;abc&quot;);\r\n            System.out.println(Feature.getFeature(&quot;http://abc&quot;, restTemplate));\r\n        }\r\n    }\r\n\r\nThe running code sample is also available at [github][1]\r\n\r\n[Feature.java][2] and [FeatureTest.java][3]\r\n\r\n\r\n  [1]: https://github.com/fiveobjects/reference\r\n  [2]: https://github.com/fiveobjects/reference/blob/master/java/springboot/src/main/java/org/openapex/samples/springboot/template/Feature.java\r\n  [3]: https://github.com/fiveobjects/reference/blob/master/java/springboot/src/test/java/FeatureTest.java","title":"how to junit test on restTemplate?","body":"<p>You are creating a new <code>RestTemplate</code> object in <code>getfeature()</code> method. So, mocking <code>RestTemplate</code> has no effect. Either take <code>RestTemplate</code> as an argument in <code>getfeature()</code> method or take it as constructor argument in <code>Feature</code> class.</p>\n\n<p>Then from the test class, you can mock RestTemplate and pass it like below:</p>\n\n<pre><code>Feature feature= new Feature(mockRestTemplate);\nfeature.getfeature(url);\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>Feature feature = new Feature();\nfeature.getfeature(mockRestTemplate, url);\n</code></pre>\n\n<p>You have to make the necessary changes in the Feature class based on the decision.</p>\n\n<p>Here is the running code sample:</p>\n\n<p><strong>Main class:</strong></p>\n\n<pre><code>public class Feature {\n    public static String getFeature(String url, RestTemplate restTemplate) {\n        return restTemplate.postForObject(url, \"\", String.class);\n    }\n}\n</code></pre>\n\n<p><strong>Test class:</strong></p>\n\n<p>Notice the way the <code>RestTemplate</code> is mocked and then the response is mocked.</p>\n\n<pre><code>public class FeatureTest {\n    @Test\n    public void testFeature() {\n        RestTemplate restTemplate = Mockito.mock(RestTemplate.class);\n        Mockito.when(restTemplate.postForObject(Mockito.any(String.class),\n                Mockito.any(Object.class), Mockito.any(Class.class))).thenReturn(\"abc\");\n        System.out.println(Feature.getFeature(\"http://abc\", restTemplate));\n    }\n}\n</code></pre>\n\n<p>The running code sample is also available at <a href=\"https://github.com/fiveobjects/reference\" rel=\"nofollow noreferrer\">github</a></p>\n\n<p><a href=\"https://github.com/fiveobjects/reference/blob/master/java/springboot/src/main/java/org/openapex/samples/springboot/template/Feature.java\" rel=\"nofollow noreferrer\">Feature.java</a> and <a href=\"https://github.com/fiveobjects/reference/blob/master/java/springboot/src/test/java/FeatureTest.java\" rel=\"nofollow noreferrer\">FeatureTest.java</a></p>\n"},{"tags":[],"owner":{"account_id":5853596,"reputation":1232,"user_id":4611561,"accept_rate":33,"display_name":"Pradeep"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564632162,"creation_date":1564599876,"answer_id":57297380,"question_id":57297136,"body_markdown":"I think you need to change your code to make your unit test work atleast using Mockito or you have to use some other library like powermock to mock local object instantiation.\r\n\r\n1) create a constructor that accepts RestTemplate as argument to inject your mock.\r\n\r\n or\r\n\r\n2) create some setter method to inject that RestTemplate.\r\n\r\n\t\r\n   one more way is to create another method where RestTemplate can be passed.\r\n\r\n    public String getStringAsJson(RestTemplate restTemplate, String url, String xml) {\r\n    \t return  restTemplate.postForObject(url, xml, String.class);\r\n    }\r\n\r\nthen in your test:\r\n\r\n    RestTemplate mockRestTemplate = mock(RestTemplate.class);\r\n    when(restTemplate.postForObject(mockurl, mockUrl, mockXml)).thenReturn(&quot;Json&quot;);\r\n    feature.getStringAsJson(mockRestTemplate,mockUrl,mockXml);","title":"how to junit test on restTemplate?","body":"<p>I think you need to change your code to make your unit test work atleast using Mockito or you have to use some other library like powermock to mock local object instantiation.</p>\n\n<p>1) create a constructor that accepts RestTemplate as argument to inject your mock.</p>\n\n<p>or</p>\n\n<p>2) create some setter method to inject that RestTemplate.</p>\n\n<p>one more way is to create another method where RestTemplate can be passed.</p>\n\n<pre><code>public String getStringAsJson(RestTemplate restTemplate, String url, String xml) {\n     return  restTemplate.postForObject(url, xml, String.class);\n}\n</code></pre>\n\n<p>then in your test:</p>\n\n<pre><code>RestTemplate mockRestTemplate = mock(RestTemplate.class);\nwhen(restTemplate.postForObject(mockurl, mockUrl, mockXml)).thenReturn(\"Json\");\nfeature.getStringAsJson(mockRestTemplate,mockUrl,mockXml);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564677279,"creation_date":1564677279,"answer_id":57313423,"question_id":57297136,"body_markdown":"&gt; how to junit test on restTemplate?\r\n\r\nWe test what it returns.    \r\nCurrently your implementation does nothing itself, it simply  delegates to a `RestTemplate` and return its result.  \r\n\r\nThe `fiveelements` answer describes the implementation (with broad accepted values as parameters) : \r\n\r\n    @Test \r\n    public void testFeature() {\r\n        RestTemplate restTemplate = Mockito.mock(RestTemplate.class);\r\n        Mockito.when(restTemplate.postForObject(Mockito.any(String.class),\r\n                Mockito.any(Object.class), Mockito.any(Class.class))).thenReturn(&quot;abc&quot;);\r\n        System.out.println(Feature.getFeature(&quot;http://abc&quot;, restTemplate));\r\n    }\r\n\r\nThat doesn&#39;t assert the actual behavior :  the URL could be erroneous, the body posted or the response could be wrong and so for... and this test will never detect that.  Finally, very important things could be wrong in this implementation and we could not detect that. The value of this kind of test is so weak.  \r\nSince this method doesn&#39;t perform itself logic, this is better suited for an integration test that could assert and catch much more thing/issues in the actual behavior :\r\n\r\n    @Test \r\n    public void testFeature() {\r\n        String actualFeature = Feature.getFeature(&quot;http://...&quot;);\r\n        String expectedFeature = ...;\r\n        Assertions.assertEquals(expectedFeature, actualFeature);\r\n    }\r\n\r\n","title":"how to junit test on restTemplate?","body":"<blockquote>\n  <p>how to junit test on restTemplate?</p>\n</blockquote>\n\n<p>We test what it returns.<br>\nCurrently your implementation does nothing itself, it simply  delegates to a <code>RestTemplate</code> and return its result.  </p>\n\n<p>The <code>fiveelements</code> answer describes the implementation (with broad accepted values as parameters) : </p>\n\n<pre><code>@Test \npublic void testFeature() {\n    RestTemplate restTemplate = Mockito.mock(RestTemplate.class);\n    Mockito.when(restTemplate.postForObject(Mockito.any(String.class),\n            Mockito.any(Object.class), Mockito.any(Class.class))).thenReturn(\"abc\");\n    System.out.println(Feature.getFeature(\"http://abc\", restTemplate));\n}\n</code></pre>\n\n<p>That doesn't assert the actual behavior :  the URL could be erroneous, the body posted or the response could be wrong and so for... and this test will never detect that.  Finally, very important things could be wrong in this implementation and we could not detect that. The value of this kind of test is so weak.<br>\nSince this method doesn't perform itself logic, this is better suited for an integration test that could assert and catch much more thing/issues in the actual behavior :</p>\n\n<pre><code>@Test \npublic void testFeature() {\n    String actualFeature = Feature.getFeature(\"http://...\");\n    String expectedFeature = ...;\n    Assertions.assertEquals(expectedFeature, actualFeature);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21804021,"reputation":1,"user_id":16102447,"display_name":"Dhanashree K."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671571439,"creation_date":1671571271,"answer_id":74869034,"question_id":57297136,"body_markdown":"If you use **PowerMockito** then you can do like following:\r\n\r\n*No code change needed here for Feature class then you can use this directly if PowerMockito lib available in prj* \r\n\r\n    RestTemplate mockedRestTemplate = PowerMockito.mock(RestTemplate.class);\r\n    PowerMockito.whenNew(RestTemplate.class).withAnyArguments().thenReturn(mockedRestTemplate);\r\n\r\n","title":"how to junit test on restTemplate?","body":"<p>If you use <strong>PowerMockito</strong> then you can do like following:</p>\n<p><em>No code change needed here for Feature class then you can use this directly if PowerMockito lib available in prj</em></p>\n<pre><code>RestTemplate mockedRestTemplate = PowerMockito.mock(RestTemplate.class);\nPowerMockito.whenNew(RestTemplate.class).withAnyArguments().thenReturn(mockedRestTemplate);\n</code></pre>\n"}],"owner":{"account_id":13673677,"reputation":167,"user_id":9865772,"display_name":"lin"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13038,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1671571439,"creation_date":1564598732,"question_id":57297136,"body_markdown":"I have a problem to mock restTemplate with Mockito\r\n\r\ncode want to be test: \r\n```java\r\npublic class Feature{\r\n public static String getfeature(String url){\r\n     RestTemplate restTemplate = new RestTemplate();\r\n     String xml = &quot;\\&quot;feature\\&quot;: 1&quot;;\r\n     String json = restTemplate.postForObject(url, xml, String.class);\r\n     return json;\r\n}\r\n}\r\n```\r\njunit code:\r\n```\r\n@Mock\r\nRestTemplate restTemplate=mock(RestTemplate.class);\r\n@Test\r\npublic void testGetfeature(){\r\nstring testResponse= &quot;\\&quot;feature\\&quot;: 1&quot;;\r\nMockito.when((String)restTemplate.postForObject(\r\n                Mockito.any(String.class),\r\n                Mockito.any(Map.class),\r\n                Mockito.any(Class.class)\r\n                )).thenReturn(testResponse);\r\nFeature feature = new Feature();\r\nfeature.getfeature(&quot;http://mockValue&quot;);\r\n}\r\n```\r\n\r\n\r\nI set breaking point at feature.getfeature(&quot;http://mockValue&quot;). It still try to connect to the remote server. I don&#39;t want postForObject to connect to the http://mockValue. \r\nHow should I mock the restTemplate to make postForObject not to connect to http://mockValue?","title":"how to junit test on restTemplate?","body":"<p>I have a problem to mock restTemplate with Mockito</p>\n\n<p>code want to be test: </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Feature{\n public static String getfeature(String url){\n     RestTemplate restTemplate = new RestTemplate();\n     String xml = \"\\\"feature\\\": 1\";\n     String json = restTemplate.postForObject(url, xml, String.class);\n     return json;\n}\n}\n</code></pre>\n\n<p>junit code:</p>\n\n<pre><code>@Mock\nRestTemplate restTemplate=mock(RestTemplate.class);\n@Test\npublic void testGetfeature(){\nstring testResponse= \"\\\"feature\\\": 1\";\nMockito.when((String)restTemplate.postForObject(\n                Mockito.any(String.class),\n                Mockito.any(Map.class),\n                Mockito.any(Class.class)\n                )).thenReturn(testResponse);\nFeature feature = new Feature();\nfeature.getfeature(\"http://mockValue\");\n}\n</code></pre>\n\n<p>I set breaking point at feature.getfeature(\"<a href=\"http://mockValue\" rel=\"nofollow noreferrer\">http://mockValue</a>\"). It still try to connect to the remote server. I don't want postForObject to connect to the <a href=\"http://mockValue\" rel=\"nofollow noreferrer\">http://mockValue</a>. \nHow should I mock the restTemplate to make postForObject not to connect to <a href=\"http://mockValue\" rel=\"nofollow noreferrer\">http://mockValue</a>?</p>\n"},{"tags":["java","h2","in-memory"],"comments":[{"owner":{"account_id":16247179,"reputation":7205,"user_id":11731987,"display_name":"Evgenij Ryazanov"},"score":1,"creation_date":1669178108,"post_id":74540948,"comment_id":131583079,"body_markdown":"`VALUE` is a reserved word is SQL and is a keyword in H2, you need to quote it as `&quot;VALUE&quot;` or `&quot;value&quot;` (or MySQL-style \\`value\\`).","body":"<code>VALUE</code> is a reserved word is SQL and is a keyword in H2, you need to quote it as <code>&quot;VALUE&quot;</code> or <code>&quot;value&quot;</code> (or MySQL-style `value`)."},{"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"score":0,"creation_date":1669201963,"post_id":74540948,"comment_id":131589513,"body_markdown":"@EvgenijRyazanov, thank you a lot for pointing out! I&#39;ll share here new investigations &amp; updates a bit later. I appreciate your time for checking it. It helps me a lot.","body":"@EvgenijRyazanov, thank you a lot for pointing out! I&#39;ll share here new investigations &amp; updates a bit later. I appreciate your time for checking it. It helps me a lot."}],"answers":[{"tags":[],"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671571125,"creation_date":1669389960,"answer_id":74574890,"question_id":74540948,"body_markdown":"After a lot of attempts, investigations, reading different articles, I&#39;ve found finally the way how to do that, so how you can do that using `H2` database and scripts using specifically `in-memory` mode as per requirements in the question.\r\n\r\nSo to run scripts automatically using `H2` database in `in-memory` mode you need to use this code as:\r\n\r\n&gt; Item.java\r\n\r\n    @Entity(name = &quot;ITEM_ENTITY&quot;)\r\n    @Table(name = &quot;items&quot;)\r\n    public class Item {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        private String designation;\r\n    }\r\n\r\n&gt; MainApplication.java\r\n\r\n    @SpringBootApplication\r\n    public class MainApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(MainApplication.class, args);\r\n        }\r\n    }\r\n\r\n&gt; application.properties\r\n\r\n    spring.h2.console.enabled=true\r\n    spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1\r\n    spring.datasource.username=root\r\n    spring.datasource.password=root\r\n    spring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect\r\n    spring.datasource.driverClassName=org.h2.Driver\r\n    spring.jpa.generate-ddl=true\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.session.jdbc.initialize-schema=always\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n    spring.jpa.defer-datasource-initialization=true\r\n    spring.sql.init.continue-on-error=true\r\n    spring.jpa.properties.hibernate.use_sql_comments=true\r\n    spring.sql.init.mode=always\r\n\r\n&gt; data.sql\r\n\r\n    insert into ITEMS(id, designation)\r\n    values (1, &#39;EXAMPLE&#39;);\r\n\r\n&gt; schema.sql\r\n\r\n    create table items\r\n    (\r\n        id                    int not null auto_increment,\r\n        designation           varchar(50) not null,\r\n        primary key (id)\r\n    );\r\n\r\n*Useful articles:*\r\n1) https://docs.spring.io/spring-boot/docs/2.1.x/reference/html/howto-database-initialization.html\r\n2) https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-initialization.using-basic-sql-scripts\r\n3) https://www.baeldung.com/running-setup-logic-on-startup-in-spring","title":"How can I populate correctly H2 database with custom script automatically?","body":"<p>After a lot of attempts, investigations, reading different articles, I've found finally the way how to do that, so how you can do that using <code>H2</code> database and scripts using specifically <code>in-memory</code> mode as per requirements in the question.</p>\n<p>So to run scripts automatically using <code>H2</code> database in <code>in-memory</code> mode you need to use this code as:</p>\n<blockquote>\n<p>Item.java</p>\n</blockquote>\n<pre><code>@Entity(name = &quot;ITEM_ENTITY&quot;)\n@Table(name = &quot;items&quot;)\npublic class Item {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String designation;\n}\n</code></pre>\n<blockquote>\n<p>MainApplication.java</p>\n</blockquote>\n<pre><code>@SpringBootApplication\npublic class MainApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MainApplication.class, args);\n    }\n}\n</code></pre>\n<blockquote>\n<p>application.properties</p>\n</blockquote>\n<pre><code>spring.h2.console.enabled=true\nspring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1\nspring.datasource.username=root\nspring.datasource.password=root\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect\nspring.datasource.driverClassName=org.h2.Driver\nspring.jpa.generate-ddl=true\nspring.jpa.hibernate.ddl-auto=update\nspring.session.jdbc.initialize-schema=always\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.defer-datasource-initialization=true\nspring.sql.init.continue-on-error=true\nspring.jpa.properties.hibernate.use_sql_comments=true\nspring.sql.init.mode=always\n</code></pre>\n<blockquote>\n<p>data.sql</p>\n</blockquote>\n<pre><code>insert into ITEMS(id, designation)\nvalues (1, 'EXAMPLE');\n</code></pre>\n<blockquote>\n<p>schema.sql</p>\n</blockquote>\n<pre><code>create table items\n(\n    id                    int not null auto_increment,\n    designation           varchar(50) not null,\n    primary key (id)\n);\n</code></pre>\n<p><em>Useful articles:</em></p>\n<ol>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/2.1.x/reference/html/howto-database-initialization.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.1.x/reference/html/howto-database-initialization.html</a></li>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-initialization.using-basic-sql-scripts\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-initialization.using-basic-sql-scripts</a></li>\n<li><a href=\"https://www.baeldung.com/running-setup-logic-on-startup-in-spring\" rel=\"nofollow noreferrer\">https://www.baeldung.com/running-setup-logic-on-startup-in-spring</a></li>\n</ol>\n"}],"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":500,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74574890,"answer_count":1,"score":-1,"last_activity_date":1671571125,"creation_date":1669168510,"question_id":74540948,"body_markdown":"Let&#39;s say I have:\r\n\r\n    spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1\r\n    spring.datasource.driverClassName=org.h2.Driver\r\n    spring.datasource.username=root\r\n    spring.datasource.password=root\r\n    spring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n    spring.h2.console.enabled=truelogging.level.org.hibernate.SQL=DEBUG\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n    spring.jpa.hibernate.ddl-auto=create# Show or not log for each sql query\r\n    spring.jpa.show-sql = truespring.jpa.generate-ddl=true\r\n    spring.jpa.defer-datasource-initialization=true\r\n\r\nMy scripts are `data.sql`:\r\n\r\n    INSERT INTO ITEMS(ITEM_ID, value) VALUES(1, &#39;EXAMPLE&#39;);\r\n\r\nand the second script `schema.sql`:\r\n\r\n    create table items\r\n    (\r\n    item_id int not null auto_increment,\r\n    value varchar(50) not null,\r\n    primary key (item_id)\r\n    );\r\n\r\nThe problem is when I&#39;m using these configurations to populate automatically while running the project I&#39;m getting the issue as in the full `stacktrace`:\r\n\r\nhttps://gist.github.com/invzbl3/abe68fe95c69b3a81699a2ed08375853#file-stacktrace-L111\r\n\r\nCan someone tell me, please, am I missing something here?\r\n\r\nAny smart ideas would be helpful here.\r\n\r\nIf I run it manually I don&#39;t have any issues, but while running the project to populate automatically I&#39;m getting the issue as in the stacktrace.\r\n\r\n\r\n----------\r\n\r\n**UPD:**\r\n\r\n\r\nI&#39;ve already tried this one, for example:\r\n1) https://stackoverflow.com/a/66333222/8370915\r\n\r\nby changing the entity instead of this variant:\r\n\r\n    @Entity\r\n    @Table(name = &quot;ITEMS&quot;)\r\n    public class Item {\r\n        @Id\r\n        @GeneratedValue(strategy= GenerationType.AUTO)\r\n        private Long id;\r\n    \r\n        private String value;\r\n    }\r\n\r\nto another one as:\r\n\r\n    @Entity\r\n    @Table(name = &quot;`ITEMS`&quot;)\r\n    public class Item {\r\n        @Id\r\n        @GeneratedValue(strategy= GenerationType.AUTO)\r\n        private Long id;\r\n    \r\n        private String value;\r\n    }\r\n\r\nand as result I have:\r\nhttps://gist.github.com/invzbl3/83f00b9ca8d536052ac3174f7f9ddf47#file-stacktrace-L111\r\n\r\n2) And I&#39;ve tried this:\r\nhttps://stackoverflow.com/a/44267377/8370915\r\n\r\nby changing `sql` script:\r\n\r\ninstead of:\r\n\r\n    INSERT INTO ITEMS(item_id, value)\r\n    VALUES (1, &#39;EXAMPLE&#39;);\r\n\r\nto:\r\n\r\n    INSERT INTO ITEMS(item_id, value) VALUES (1, &#39;`EXAMPLE`&#39;);\r\n\r\nand as result I receive: https://gist.github.com/invzbl3/ae873cf7aaeeccfedff2dc5c8f543773#file-stacktrace-2-L111","title":"How can I populate correctly H2 database with custom script automatically?","body":"<p>Let's say I have:</p>\n<pre><code>spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=root\nspring.datasource.password=root\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.h2.console.enabled=truelogging.level.org.hibernate.SQL=DEBUG\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.hibernate.ddl-auto=create# Show or not log for each sql query\nspring.jpa.show-sql = truespring.jpa.generate-ddl=true\nspring.jpa.defer-datasource-initialization=true\n</code></pre>\n<p>My scripts are <code>data.sql</code>:</p>\n<pre><code>INSERT INTO ITEMS(ITEM_ID, value) VALUES(1, 'EXAMPLE');\n</code></pre>\n<p>and the second script <code>schema.sql</code>:</p>\n<pre><code>create table items\n(\nitem_id int not null auto_increment,\nvalue varchar(50) not null,\nprimary key (item_id)\n);\n</code></pre>\n<p>The problem is when I'm using these configurations to populate automatically while running the project I'm getting the issue as in the full <code>stacktrace</code>:</p>\n<p><a href=\"https://gist.github.com/invzbl3/abe68fe95c69b3a81699a2ed08375853#file-stacktrace-L111\" rel=\"nofollow noreferrer\">https://gist.github.com/invzbl3/abe68fe95c69b3a81699a2ed08375853#file-stacktrace-L111</a></p>\n<p>Can someone tell me, please, am I missing something here?</p>\n<p>Any smart ideas would be helpful here.</p>\n<p>If I run it manually I don't have any issues, but while running the project to populate automatically I'm getting the issue as in the stacktrace.</p>\n<hr />\n<p><strong>UPD:</strong></p>\n<p>I've already tried this one, for example:</p>\n<ol>\n<li><a href=\"https://stackoverflow.com/a/66333222/8370915\">https://stackoverflow.com/a/66333222/8370915</a></li>\n</ol>\n<p>by changing the entity instead of this variant:</p>\n<pre><code>@Entity\n@Table(name = &quot;ITEMS&quot;)\npublic class Item {\n    @Id\n    @GeneratedValue(strategy= GenerationType.AUTO)\n    private Long id;\n\n    private String value;\n}\n</code></pre>\n<p>to another one as:</p>\n<pre><code>@Entity\n@Table(name = &quot;`ITEMS`&quot;)\npublic class Item {\n    @Id\n    @GeneratedValue(strategy= GenerationType.AUTO)\n    private Long id;\n\n    private String value;\n}\n</code></pre>\n<p>and as result I have:\n<a href=\"https://gist.github.com/invzbl3/83f00b9ca8d536052ac3174f7f9ddf47#file-stacktrace-L111\" rel=\"nofollow noreferrer\">https://gist.github.com/invzbl3/83f00b9ca8d536052ac3174f7f9ddf47#file-stacktrace-L111</a></p>\n<ol start=\"2\">\n<li>And I've tried this:\n<a href=\"https://stackoverflow.com/a/44267377/8370915\">https://stackoverflow.com/a/44267377/8370915</a></li>\n</ol>\n<p>by changing <code>sql</code> script:</p>\n<p>instead of:</p>\n<pre><code>INSERT INTO ITEMS(item_id, value)\nVALUES (1, 'EXAMPLE');\n</code></pre>\n<p>to:</p>\n<pre><code>INSERT INTO ITEMS(item_id, value) VALUES (1, '`EXAMPLE`');\n</code></pre>\n<p>and as result I receive: <a href=\"https://gist.github.com/invzbl3/ae873cf7aaeeccfedff2dc5c8f543773#file-stacktrace-2-L111\" rel=\"nofollow noreferrer\">https://gist.github.com/invzbl3/ae873cf7aaeeccfedff2dc5c8f543773#file-stacktrace-2-L111</a></p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1671562135,"post_id":74867524,"comment_id":132124517,"body_markdown":"This might be one of those situations where streams might seem clever and concise, but actually obfuscate what the code is doing. Nested for loops are likely to read a lot simpler here. A programming motto I&#39;ve lived by for 25 years: Less code is not always _better_ code.","body":"This might be one of those situations where streams might seem clever and concise, but actually obfuscate what the code is doing. Nested for loops are likely to read a lot simpler here. A programming motto I&#39;ve lived by for 25 years: Less code is not always <i>better</i> code."},{"owner":{"account_id":16152670,"reputation":435,"user_id":11660683,"display_name":"bob82"},"score":0,"creation_date":1671562200,"post_id":74867524,"comment_id":132124543,"body_markdown":"Yeah I&#39;m starting to agree with you here. Streams have been giving me a headache with this one.","body":"Yeah I&#39;m starting to agree with you here. Streams have been giving me a headache with this one."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1671562909,"post_id":74867524,"comment_id":132124782,"body_markdown":"*&quot;I only want to show a TimeOffSlot per person per day&quot;* - each `TimeOffSlot` corresponds to a group of people, and a Person can be present in multiple `TimeOffSlot`s, so it&#39;s a  many-to-many association. You want to preserve one random `TimeOffSlot` which corresponds to a particular person&#39;s id? I.e. if a `Person` is present a previously encountered `TimeOffSlot`, all other `TimeOffSlot`s should be discarded, right?","body":"<i>&quot;I only want to show a TimeOffSlot per person per day&quot;</i> - each <code>TimeOffSlot</code> corresponds to a group of people, and a Person can be present in multiple <code>TimeOffSlot</code>s, so it&#39;s a  many-to-many association. You want to preserve one random <code>TimeOffSlot</code> which corresponds to a particular person&#39;s id? I.e. if a <code>Person</code> is present a previously encountered <code>TimeOffSlot</code>, all other <code>TimeOffSlot</code>s should be discarded, right?"},{"owner":{"account_id":16152670,"reputation":435,"user_id":11660683,"display_name":"bob82"},"score":0,"creation_date":1671563859,"post_id":74867524,"comment_id":132125067,"body_markdown":"@AlexanderIvanchenko correct","body":"@AlexanderIvanchenko correct"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1671565907,"post_id":74867524,"comment_id":132125699,"body_markdown":"One more question, what if Slot1 contain person A and B, and Slot2 is associated with A, C, D (assume that C, D are not present in other slots). Are you OK with discarding Slot2?","body":"One more question, what if Slot1 contain person A and B, and Slot2 is associated with A, C, D (assume that C, D are not present in other slots). Are you OK with discarding Slot2?"},{"owner":{"account_id":16152670,"reputation":435,"user_id":11660683,"display_name":"bob82"},"score":0,"creation_date":1671567064,"post_id":74867524,"comment_id":132126012,"body_markdown":"I would need a slot for each distinct person, so no would need slot2","body":"I would need a slot for each distinct person, so no would need slot2"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1671571937,"post_id":74867524,"comment_id":132127230,"body_markdown":"OK, you better know what you need (but note that result would depend on the order of slots). I&#39;ve managed to came up with a couple of solutions based on these requirements.","body":"OK, you better know what you need (but note that result would depend on the order of slots). I&#39;ve managed to came up with a couple of solutions based on these requirements."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671571041,"creation_date":1671564056,"answer_id":74867944,"question_id":74867524,"body_markdown":"If I understood the problem correctly, the resulting list should contain only `TimeOffSlot` that are associated `Person` objects that are not present in any other `TimeOffSlot`s in the list.\r\n\r\nTo discard the `TimeOffSlot` associated with repeated person ids the data can be collected into an intermediate `HashMap` where id would serve as a Key.\r\n\r\nAnd since while processing each `TimeOffSlot` we need to check if one of its ids was previously encountered or not, it makes sense to introduce a custom accumulation type wrapped around a `Map, which would be responsible for performing this check and would also contain all other logic required to create a custom collector, so that the stream itself would be very lean and well-readable.\r\n\r\nFor that, we can define a custom Collector using static factory method [`Collector.of`][collector.of].\r\n\r\nThat&#39;s how it might look like:\r\n\r\n```\r\nList&lt;TimeOffSlot&gt; timeOffSlots = // initializing the list\r\n        \r\nLocalDate now = LocalDate.now(); // no need to invoke now() multiple times from the stream\r\n        \r\nList&lt;TimeOffSlot&gt; filteredTimeOffSlots = timeOffSlots.stream()\r\n    .filter(slot -&gt; slot.getSlotDate().equals(now))\r\n    .collect(Collector.of(\r\n        SlotAccumulator::new,     // supplier - is meant to provide an instance of the mutable container\r\n        SlotAccumulator::accept,  // accumulator - changes the state of the mutable container\r\n        SlotAccumulator::merge,   // combiner - merges the partial results produced during the parallel execution\r\n        SlotAccumulator::getSlots // finisher - function performing the final transformation\r\n    ));\r\n```\r\n\r\nA custom accumulation type `SlotAccumulator` might look like that. For convenience, I&#39;ve implemented `Consumer` interface (so that reference to it `SlotAccumulator::accept` can be used as an *accumulator* of the Collector).\r\n\r\n    public class SlotAccumulator implements Consumer&lt;TimeOffSlot&gt; {\r\n        private Map&lt;Long, TimeOffSlot&gt; slotById = new HashMap&lt;&gt;();\r\n        \r\n        @Override\r\n        public void accept(TimeOffSlot slot) {\r\n            if (notSeen(slot)) {            // if none of the contained ids was encountered before\r\n                slot.getPersonTimeOffList()\r\n                    .forEach(personSlot -&gt; slotById.put(personSlot.getPerson().getPersonId(), slot));\r\n            }\r\n        }\r\n        \r\n        public SlotAccumulator merge(SlotAccumulator other) {\r\n            other.slotById.forEach((id, slot) -&gt; slotById.putIfAbsent(id, slot));\r\n            return this;\r\n        }\r\n        \r\n        public List&lt;TimeOffSlot&gt; getSlots() {\r\n            return slotById.values().stream().distinct().toList(); // for Java 16 or collect(Collectors.toList())\r\n        }\r\n        \r\n        private boolean notSeen(TimeOffSlot slot) {\r\n            \r\n            return slot.getPersonTimeOffList().stream()\r\n                .map(PersonTimeOffSlot::getPerson)\r\n                .map(Person::getPersonId)\r\n                .noneMatch(slotById::containsKey);\r\n        }\r\n    }\r\n\r\nIn case if you don&#39;t enjoy the idea of introducing a separate class, it possible to plug all the logic right into stream (but approach shown above is more maintainable, its way easier to reuse and maintain).\r\n\r\nFor that, we can make use of the *tree-args* version of [`collect()`][collect] and generate an intermediate Map. Then create a stream over the Map&#39;s Values and collect the elements into a list.\r\n\r\n```\r\nList&lt;TimeOffSlot&gt; filteredTimeOffSlots1 = timeOffSlots.stream()\r\n    .filter(slot -&gt; slot.getSlotDate().equals(now))\r\n    .collect(\r\n        HashMap::new,\r\n        (Map&lt;Long, TimeOffSlot&gt; slotById, TimeOffSlot slot) -&gt; {\r\n            boolean idsNotSeen = slot.getPersonTimeOffList().stream()\r\n                .map(PersonTimeOffSlot::getPerson)\r\n                .map(Person::getPersonId)\r\n                .noneMatch(slotById::containsKey);\r\n            if (idsNotSeen) slot.getPersonTimeOffList()\r\n                .forEach(personSlot -&gt; slotById.put(personSlot.getPerson().getPersonId(), slot));\r\n        },\r\n        (left, right) -&gt; right.forEach(left::putIfAbsent)\r\n    )\r\n    .values().stream()\r\n    .toList();\r\n```\r\n\r\n&lt;h3&gt;Note:&lt;/h3&gt;\r\n\r\nUsage of stateful functions in the stream is discouraged by the API documentation. Approach that would allow to avoid accumulating state outside the stream pipeline is always preferred one. \r\n\r\n\r\n\r\n   [collector.of]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html#of(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BinaryOperator,java.util.function.Function,java.util.stream.Collector.Characteristics...)\r\n\r\n   [collect]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#collect(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BiConsumer)","title":"Java Stream of nested lists - Filter main list depending on nested object list property","body":"<p>If I understood the problem correctly, the resulting list should contain only <code>TimeOffSlot</code> that are associated <code>Person</code> objects that are not present in any other <code>TimeOffSlot</code>s in the list.</p>\n<p>To discard the <code>TimeOffSlot</code> associated with repeated person ids the data can be collected into an intermediate <code>HashMap</code> where id would serve as a Key.</p>\n<p>And since while processing each <code>TimeOffSlot</code> we need to check if one of its ids was previously encountered or not, it makes sense to introduce a custom accumulation type wrapped around a `Map, which would be responsible for performing this check and would also contain all other logic required to create a custom collector, so that the stream itself would be very lean and well-readable.</p>\n<p>For that, we can define a custom Collector using static factory method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html#of(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BinaryOperator,java.util.function.Function,java.util.stream.Collector.Characteristics...)\" rel=\"nofollow noreferrer\"><code>Collector.of</code></a>.</p>\n<p>That's how it might look like:</p>\n<pre><code>List&lt;TimeOffSlot&gt; timeOffSlots = // initializing the list\n        \nLocalDate now = LocalDate.now(); // no need to invoke now() multiple times from the stream\n        \nList&lt;TimeOffSlot&gt; filteredTimeOffSlots = timeOffSlots.stream()\n    .filter(slot -&gt; slot.getSlotDate().equals(now))\n    .collect(Collector.of(\n        SlotAccumulator::new,     // supplier - is meant to provide an instance of the mutable container\n        SlotAccumulator::accept,  // accumulator - changes the state of the mutable container\n        SlotAccumulator::merge,   // combiner - merges the partial results produced during the parallel execution\n        SlotAccumulator::getSlots // finisher - function performing the final transformation\n    ));\n</code></pre>\n<p>A custom accumulation type <code>SlotAccumulator</code> might look like that. For convenience, I've implemented <code>Consumer</code> interface (so that reference to it <code>SlotAccumulator::accept</code> can be used as an <em>accumulator</em> of the Collector).</p>\n<pre><code>public class SlotAccumulator implements Consumer&lt;TimeOffSlot&gt; {\n    private Map&lt;Long, TimeOffSlot&gt; slotById = new HashMap&lt;&gt;();\n    \n    @Override\n    public void accept(TimeOffSlot slot) {\n        if (notSeen(slot)) {            // if none of the contained ids was encountered before\n            slot.getPersonTimeOffList()\n                .forEach(personSlot -&gt; slotById.put(personSlot.getPerson().getPersonId(), slot));\n        }\n    }\n    \n    public SlotAccumulator merge(SlotAccumulator other) {\n        other.slotById.forEach((id, slot) -&gt; slotById.putIfAbsent(id, slot));\n        return this;\n    }\n    \n    public List&lt;TimeOffSlot&gt; getSlots() {\n        return slotById.values().stream().distinct().toList(); // for Java 16 or collect(Collectors.toList())\n    }\n    \n    private boolean notSeen(TimeOffSlot slot) {\n        \n        return slot.getPersonTimeOffList().stream()\n            .map(PersonTimeOffSlot::getPerson)\n            .map(Person::getPersonId)\n            .noneMatch(slotById::containsKey);\n    }\n}\n</code></pre>\n<p>In case if you don't enjoy the idea of introducing a separate class, it possible to plug all the logic right into stream (but approach shown above is more maintainable, its way easier to reuse and maintain).</p>\n<p>For that, we can make use of the <em>tree-args</em> version of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#collect(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BiConsumer)\" rel=\"nofollow noreferrer\"><code>collect()</code></a> and generate an intermediate Map. Then create a stream over the Map's Values and collect the elements into a list.</p>\n<pre><code>List&lt;TimeOffSlot&gt; filteredTimeOffSlots1 = timeOffSlots.stream()\n    .filter(slot -&gt; slot.getSlotDate().equals(now))\n    .collect(\n        HashMap::new,\n        (Map&lt;Long, TimeOffSlot&gt; slotById, TimeOffSlot slot) -&gt; {\n            boolean idsNotSeen = slot.getPersonTimeOffList().stream()\n                .map(PersonTimeOffSlot::getPerson)\n                .map(Person::getPersonId)\n                .noneMatch(slotById::containsKey);\n            if (idsNotSeen) slot.getPersonTimeOffList()\n                .forEach(personSlot -&gt; slotById.put(personSlot.getPerson().getPersonId(), slot));\n        },\n        (left, right) -&gt; right.forEach(left::putIfAbsent)\n    )\n    .values().stream()\n    .toList();\n</code></pre>\n<h3>Note:</h3>\n<p>Usage of stateful functions in the stream is discouraged by the API documentation. Approach that would allow to avoid accumulating state outside the stream pipeline is always preferred one.</p>\n"},{"tags":[],"owner":{"account_id":18413690,"reputation":3,"user_id":13413216,"display_name":"Vipul Khandelwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671564329,"creation_date":1671564329,"answer_id":74867990,"question_id":74867524,"body_markdown":"To filter the TimeOffSlots by person, you can use a group by clause with the person&#39;s ID as the key. Here is how you can do it:\r\n\r\n```\r\nCollection&lt;TimeOffSlot&gt; filteredTimeOffSlots = timeOffSlots.stream()\r\n.filter(slot -&gt; slot.getSlotDate().equals(LocalDate.now()))\r\n.collect(Collectors.toCollection(ArrayList::new));\r\n\r\nMap&lt;Long, TimeOffSlot&gt; timeOffSlotsByPerson = filteredTimeOffSlots.stream()\r\n.flatMap(slot -&gt; slot.getPersonTimeOffList.stream())\r\n.collect(Collectors.groupingBy(s -&gt; s.getPerson().getPersonId(),\r\nCollectors.mapping(s -&gt; s.getTimeOffSlot(), Collectors.toList())))\r\n.entrySet().stream()\r\n.collect(Collectors.toMap(Map.Entry::getKey, entry -&gt; entry.getValue().get(0)));\r\n\r\nfilteredTimeOffSlots = new ArrayList&lt;&gt;(timeOffSlotsByPerson.values());\r\n```","title":"Java Stream of nested lists - Filter main list depending on nested object list property","body":"<p>To filter the TimeOffSlots by person, you can use a group by clause with the person's ID as the key. Here is how you can do it:</p>\n<pre><code>Collection&lt;TimeOffSlot&gt; filteredTimeOffSlots = timeOffSlots.stream()\n.filter(slot -&gt; slot.getSlotDate().equals(LocalDate.now()))\n.collect(Collectors.toCollection(ArrayList::new));\n\nMap&lt;Long, TimeOffSlot&gt; timeOffSlotsByPerson = filteredTimeOffSlots.stream()\n.flatMap(slot -&gt; slot.getPersonTimeOffList.stream())\n.collect(Collectors.groupingBy(s -&gt; s.getPerson().getPersonId(),\nCollectors.mapping(s -&gt; s.getTimeOffSlot(), Collectors.toList())))\n.entrySet().stream()\n.collect(Collectors.toMap(Map.Entry::getKey, entry -&gt; entry.getValue().get(0)));\n\nfilteredTimeOffSlots = new ArrayList&lt;&gt;(timeOffSlotsByPerson.values());\n</code></pre>\n"}],"owner":{"account_id":16152670,"reputation":435,"user_id":11660683,"display_name":"bob82"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":586,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1671571041,"creation_date":1671561523,"question_id":74867524,"body_markdown":"I have a rather complex problem I&#39;m trying to figure out. I have a list of objects, that has a nested list of objects that I need to filter the main list of objects by another nested object.\r\n\r\n    public TimeOffSlot {\r\n    \tprivate long id;\r\n    \tprivate LocalDate slotDate;\r\n        private LocalTime slotTime;\r\n    \tprivate Collection&lt;PersonTimeOffSlot&gt; personTimeOffList; \r\n    }\r\n    \r\n    public PersonTimeOffSlot {\r\n    \tprivate long timeOffId;\r\n    \tprivate TimeOffCategory timeOffCategory;\r\n    \tprivate Person person;\r\n    }\r\n    \r\n    public Person {\r\n    \tprivate long personId;\r\n    \tprivate String name;\r\n    }\r\n\r\nThere could be multiple TimeOffSlots (one for each hour), but I only want to show a TimeOffSlot per person per day. For example, say Person A has multiple TimeOffSlots selected for Monday, I only want to grab the first instance and disregard the rest. Hope this makes sense.\r\n\r\n    Collection&lt;TimeOffSlot&gt; filteredTimeOffSlots = timeOffSlots.stream()\r\n    \t.filter(slot -&gt; slot.getSlotDate().equals(LocalDate.now()))\r\n    \t.collect(Collectors.toCollection(ArrayList::new));\r\n    \t\t\t\r\n    filteredTimeOffSlots = filteredTimeOffSlots.stream()\r\n    \t.filter(slot -&gt; slot.getPersonTimeOffList.stream()\r\n    \t\t.filter(distinctByKey(s -&gt; s.getPerson().getPersonId())))\r\n    \t.collect(Collectors.toCollection(ArrayList::new));\r\n    \r\n    private static &lt;T&gt; Predicate&lt;T&gt; distinctByKey(\r\n    \t    Function&lt;? super T, ?&gt; keyExtractor) {\r\n    \t  \r\n    \t    Map&lt;Object, Boolean&gt; seen = new ConcurrentHashMap&lt;&gt;(); \r\n    \t    return t -&gt; seen.putIfAbsent(keyExtractor.apply(t), Boolean.TRUE) == null; \r\n    \t}\r\n\r\n","title":"Java Stream of nested lists - Filter main list depending on nested object list property","body":"<p>I have a rather complex problem I'm trying to figure out. I have a list of objects, that has a nested list of objects that I need to filter the main list of objects by another nested object.</p>\n<pre><code>public TimeOffSlot {\n    private long id;\n    private LocalDate slotDate;\n    private LocalTime slotTime;\n    private Collection&lt;PersonTimeOffSlot&gt; personTimeOffList; \n}\n\npublic PersonTimeOffSlot {\n    private long timeOffId;\n    private TimeOffCategory timeOffCategory;\n    private Person person;\n}\n\npublic Person {\n    private long personId;\n    private String name;\n}\n</code></pre>\n<p>There could be multiple TimeOffSlots (one for each hour), but I only want to show a TimeOffSlot per person per day. For example, say Person A has multiple TimeOffSlots selected for Monday, I only want to grab the first instance and disregard the rest. Hope this makes sense.</p>\n<pre><code>Collection&lt;TimeOffSlot&gt; filteredTimeOffSlots = timeOffSlots.stream()\n    .filter(slot -&gt; slot.getSlotDate().equals(LocalDate.now()))\n    .collect(Collectors.toCollection(ArrayList::new));\n            \nfilteredTimeOffSlots = filteredTimeOffSlots.stream()\n    .filter(slot -&gt; slot.getPersonTimeOffList.stream()\n        .filter(distinctByKey(s -&gt; s.getPerson().getPersonId())))\n    .collect(Collectors.toCollection(ArrayList::new));\n\nprivate static &lt;T&gt; Predicate&lt;T&gt; distinctByKey(\n        Function&lt;? super T, ?&gt; keyExtractor) {\n      \n        Map&lt;Object, Boolean&gt; seen = new ConcurrentHashMap&lt;&gt;(); \n        return t -&gt; seen.putIfAbsent(keyExtractor.apply(t), Boolean.TRUE) == null; \n    }\n</code></pre>\n"},{"tags":["java","gradle","gradle-plugin"],"comments":[{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1603997746,"post_id":63102983,"comment_id":114220402,"body_markdown":"[this may be](https://stackoverflow.com/questions/46613214/java-9-maven-junit-does-test-code-need-module-info-java-of-its-own-and-wher/63386799#63386799)","body":"<a href=\"https://stackoverflow.com/questions/46613214/java-9-maven-junit-does-test-code-need-module-info-java-of-its-own-and-wher/63386799#63386799\">this may be</a>"}],"answers":[{"tags":[],"owner":{"account_id":27311638,"reputation":1,"user_id":20826698,"display_name":"RusAnDroid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671570670,"creation_date":1671570411,"answer_id":74868912,"question_id":63102983,"body_markdown":"Not quite sure on the reason of this problem. These threads may help to understand it: [this][1], [this][2], [this][3] or [this][4]\r\n\r\nBut this is what helped me in a similar case:\r\n\r\n    test {\r\n        moduleOptions {\r\n            runOnClasspath = true\r\n        }\r\n        useJUnitPlatform()\r\n    }\r\n\r\n(Adding moduleOptions setting to the test task)\r\n\r\n\r\n  [1]: https://github.com/gradle/gradle/issues/16641\r\n  [2]: https://github.com/gradle/gradle/issues/15538\r\n  [3]: https://github.com/junit-team/junit5/issues/2147\r\n  [4]: https://youtrack.jetbrains.com/issue/IDEA-171419","title":"unnamed module @0x7cd3a5 error while running tests for java application(with module system enabled) using gradle","body":"<p>Not quite sure on the reason of this problem. These threads may help to understand it: <a href=\"https://github.com/gradle/gradle/issues/16641\" rel=\"nofollow noreferrer\">this</a>, <a href=\"https://github.com/gradle/gradle/issues/15538\" rel=\"nofollow noreferrer\">this</a>, <a href=\"https://github.com/junit-team/junit5/issues/2147\" rel=\"nofollow noreferrer\">this</a> or <a href=\"https://youtrack.jetbrains.com/issue/IDEA-171419\" rel=\"nofollow noreferrer\">this</a></p>\n<p>But this is what helped me in a similar case:</p>\n<pre><code>test {\n    moduleOptions {\n        runOnClasspath = true\n    }\n    useJUnitPlatform()\n}\n</code></pre>\n<p>(Adding moduleOptions setting to the test task)</p>\n"}],"owner":{"account_id":8092269,"reputation":173,"user_id":6097829,"display_name":"Sudhir Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":925,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1671570670,"creation_date":1595781821,"question_id":63102983,"body_markdown":"I am trying to run the test for java applications (with module system enabled) using Gradle and getting the following error.\r\n```\r\njava.lang.IllegalAccessError: class org.junit.platform.launcher.core.LauncherFactory (in unnamed module @0x7cd3a5) cannot access class org.junit.platform.commons.util.Preconditions (in module org.junit.platform.commons) because module org.junit.platform.commons does not export org.junit.platform.commons.util to unnamed module @0x7cd3a5\r\n```\r\n\r\n\r\nError says **module org.junit.platform.commons does not export org.junit.platform.commons.util** \r\nThis is how my build file looks like:\r\n\r\n```\r\nimport org.springframework.boot.gradle.plugin.SpringBootPlugin\r\n\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;org.springframework.boot&#39; version &#39;2.3.1.RELEASE&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.0.9.RELEASE&#39;\r\n    id &quot;org.beryx.jlink&quot; version &quot;2.21.0&quot;\r\n    id &quot;org.javamodularity.moduleplugin&quot; version &quot;1.6.0&quot;\r\n}\r\n\r\nrepositories {\r\n    gradlePluginPortal()\r\n    jcenter()\r\n}\r\n\r\nsourceCompatibility = JavaVersion.VERSION_14\r\ntargetCompatibility = JavaVersion.VERSION_14\r\ntasks.withType(JavaCompile) {\r\n    options.encoding = &#39;UTF-8&#39;\r\n}\r\n\r\nconfigurations {\r\n    compileOnly {\r\n        extendsFrom annotationProcessor\r\n    }\r\n}\r\n\r\njar {\r\n    enabled = true;\r\n}\r\napplication{\r\n    mainModule=&#39;com.sudhir.registration&#39;\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n\r\nconfigurations {\r\n    springFactoriesHolder { transitive = false }\r\n}\r\n\r\ndependencyManagement {\r\n    imports {\r\n        mavenBom SpringBootPlugin.BOM_COORDINATES\r\n    }\r\n}\r\n\r\ndependencies {\r\n    springFactoriesHolder &#39;org.springframework.boot:spring-boot-actuator-autoconfigure&#39;\r\n    springFactoriesHolder &#39;org.springframework.boot:spring-boot-autoconfigure&#39;\r\n    springFactoriesHolder &#39;org.springframework.boot:spring-boot&#39;\r\n\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\r\n    testImplementation(&#39;org.springframework.boot:spring-boot-starter-test&#39;) {\r\n        exclude group: &#39;org.junit.vintage&#39;, module: &#39;junit-vintage-engine&#39;\r\n        exclude group: &#39;com.vaadin.external.google&#39;, module: &#39;android-json&#39;\r\n    }\r\n}\r\n\r\nmainClassName = &quot;com.sudhir.registration.ApiApplication&quot;\r\n\r\n\r\nprepareMergedJarsDir.doLast {\r\n    // extract and merge META-INF/spring.factories from springFactoriesHolder\r\n    def factories = configurations.springFactoriesHolder.files.collect {\r\n        def props = new Properties()\r\n        props.load(zipTree(it).matching { include &#39;META-INF/spring.factories&#39; }.singleFile.newInputStream())\r\n        props\r\n    }\r\n    def mergedProps = new Properties()\r\n    factories.each { props -&gt;\r\n        props.each { key, value -&gt;\r\n            def oldVal = mergedProps[key]\r\n            mergedProps[key] = oldVal ? &quot;$oldVal,$value&quot; : value\r\n        }\r\n    }\r\n    def content = mergedProps.collect { key, value -&gt;\r\n        def v = (value as String).replace(&#39;,&#39;, &#39;,\\\\\\n&#39;)\r\n        &quot;$key=$v&quot;\r\n    }.join(&#39;\\n\\n&#39;)\r\n    mkdir(&quot;$jlinkBasePath/META-INF&quot;)\r\n    new File(&quot;$jlinkBasePath/META-INF/spring.factories&quot;).text = content\r\n\r\n    // insert META-INF/spring.factories into the main jar\r\n    ant.zip(update: &quot;true&quot;, destfile: jar.archivePath, keepcompression: true) {\r\n        fileset(dir: &quot;$jlinkBasePath&quot;, includes: &#39;META-INF/**&#39;)\r\n    }\r\n}\r\n\r\njlink {\r\n    imageZip = file(&quot;$buildDir/image-zip/registration-service-image.zip&quot;)\r\n    options = [&#39;--strip-java-debug-attributes&#39;, &#39;--compress&#39;, &#39;2&#39;, &#39;--no-header-files&#39;, &#39;--no-man-pages&#39;]\r\n    forceMerge &#39;jaxb-api&#39;, &#39;byte-buddy&#39;, &#39;classgraph&#39;\r\n    mergedModule {\r\n\r\n        uses &#39;ch.qos.logback.classic.spi.Configurator&#39;\r\n\r\n        excludeRequires &#39;com.fasterxml.jackson.module.paramnames&#39;\r\n        excludeProvides implementation: &#39;com.sun.xml.bind.v2.ContextFactory&#39;\r\n        excludeProvides servicePattern: &#39;javax.enterprise.inject.*&#39;\r\n        excludeProvides service: &#39;org.apache.logging.log4j.spi.Provider&#39;\r\n        excludeProvides servicePattern: &#39;reactor.blockhound.integration.*&#39;\r\n    }\r\n    launcher {\r\n        name = &#39;run&#39;\r\n        jvmArgs = [\r\n                &#39;--add-reads&#39;, &#39;registration.service.merged.module=com.sudhir.registration&#39;,\r\n                &#39;-cp&#39;, &#39;config/&#39;,\r\n        ]\r\n    }\r\n}\r\n\r\ntasks.jlink.doLast {\r\n    copy {\r\n        from &quot;src/main/resources&quot;\r\n        into &quot;$imageDir.asFile/bin/config&quot;\r\n    }\r\n\r\n    copy {\r\n        from &quot;$buildDir/classes/java/main/com/sudhir/registration&quot;\r\n        into &quot;$imageDir.asFile/bin/config/com/sudhir/registration/for-spring-classpath-scanner&quot;\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\n\r\nHowever, I am able to run specific tests in IntelliJ. I think it&#39;s because Intellij is using classpath instead of module path.\r\n\r\nI am using [gradle-module-system][1] plugin to build, test and run. sample code can be found [here][2].\r\n\r\nCan someone please assist me how to deal with this issue. I am very new to using java module system. \r\n\r\n\r\n  [1]: https://github.com/java9-modularity/gradle-modules-plugin\r\n  [2]: https://gitlab.yadavsudhir.com/sudhir/registration-service","title":"unnamed module @0x7cd3a5 error while running tests for java application(with module system enabled) using gradle","body":"<p>I am trying to run the test for java applications (with module system enabled) using Gradle and getting the following error.</p>\n<pre><code>java.lang.IllegalAccessError: class org.junit.platform.launcher.core.LauncherFactory (in unnamed module @0x7cd3a5) cannot access class org.junit.platform.commons.util.Preconditions (in module org.junit.platform.commons) because module org.junit.platform.commons does not export org.junit.platform.commons.util to unnamed module @0x7cd3a5\n</code></pre>\n<p>Error says <strong>module org.junit.platform.commons does not export org.junit.platform.commons.util</strong>\nThis is how my build file looks like:</p>\n<pre><code>import org.springframework.boot.gradle.plugin.SpringBootPlugin\n\nplugins {\n    id 'java'\n    id 'org.springframework.boot' version '2.3.1.RELEASE'\n    id 'io.spring.dependency-management' version '1.0.9.RELEASE'\n    id &quot;org.beryx.jlink&quot; version &quot;2.21.0&quot;\n    id &quot;org.javamodularity.moduleplugin&quot; version &quot;1.6.0&quot;\n}\n\nrepositories {\n    gradlePluginPortal()\n    jcenter()\n}\n\nsourceCompatibility = JavaVersion.VERSION_14\ntargetCompatibility = JavaVersion.VERSION_14\ntasks.withType(JavaCompile) {\n    options.encoding = 'UTF-8'\n}\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\njar {\n    enabled = true;\n}\napplication{\n    mainModule='com.sudhir.registration'\n}\n\ntest {\n    useJUnitPlatform()\n}\n\nconfigurations {\n    springFactoriesHolder { transitive = false }\n}\n\ndependencyManagement {\n    imports {\n        mavenBom SpringBootPlugin.BOM_COORDINATES\n    }\n}\n\ndependencies {\n    springFactoriesHolder 'org.springframework.boot:spring-boot-actuator-autoconfigure'\n    springFactoriesHolder 'org.springframework.boot:spring-boot-autoconfigure'\n    springFactoriesHolder 'org.springframework.boot:spring-boot'\n\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n\n    testImplementation('org.springframework.boot:spring-boot-starter-test') {\n        exclude group: 'org.junit.vintage', module: 'junit-vintage-engine'\n        exclude group: 'com.vaadin.external.google', module: 'android-json'\n    }\n}\n\nmainClassName = &quot;com.sudhir.registration.ApiApplication&quot;\n\n\nprepareMergedJarsDir.doLast {\n    // extract and merge META-INF/spring.factories from springFactoriesHolder\n    def factories = configurations.springFactoriesHolder.files.collect {\n        def props = new Properties()\n        props.load(zipTree(it).matching { include 'META-INF/spring.factories' }.singleFile.newInputStream())\n        props\n    }\n    def mergedProps = new Properties()\n    factories.each { props -&gt;\n        props.each { key, value -&gt;\n            def oldVal = mergedProps[key]\n            mergedProps[key] = oldVal ? &quot;$oldVal,$value&quot; : value\n        }\n    }\n    def content = mergedProps.collect { key, value -&gt;\n        def v = (value as String).replace(',', ',\\\\\\n')\n        &quot;$key=$v&quot;\n    }.join('\\n\\n')\n    mkdir(&quot;$jlinkBasePath/META-INF&quot;)\n    new File(&quot;$jlinkBasePath/META-INF/spring.factories&quot;).text = content\n\n    // insert META-INF/spring.factories into the main jar\n    ant.zip(update: &quot;true&quot;, destfile: jar.archivePath, keepcompression: true) {\n        fileset(dir: &quot;$jlinkBasePath&quot;, includes: 'META-INF/**')\n    }\n}\n\njlink {\n    imageZip = file(&quot;$buildDir/image-zip/registration-service-image.zip&quot;)\n    options = ['--strip-java-debug-attributes', '--compress', '2', '--no-header-files', '--no-man-pages']\n    forceMerge 'jaxb-api', 'byte-buddy', 'classgraph'\n    mergedModule {\n\n        uses 'ch.qos.logback.classic.spi.Configurator'\n\n        excludeRequires 'com.fasterxml.jackson.module.paramnames'\n        excludeProvides implementation: 'com.sun.xml.bind.v2.ContextFactory'\n        excludeProvides servicePattern: 'javax.enterprise.inject.*'\n        excludeProvides service: 'org.apache.logging.log4j.spi.Provider'\n        excludeProvides servicePattern: 'reactor.blockhound.integration.*'\n    }\n    launcher {\n        name = 'run'\n        jvmArgs = [\n                '--add-reads', 'registration.service.merged.module=com.sudhir.registration',\n                '-cp', 'config/',\n        ]\n    }\n}\n\ntasks.jlink.doLast {\n    copy {\n        from &quot;src/main/resources&quot;\n        into &quot;$imageDir.asFile/bin/config&quot;\n    }\n\n    copy {\n        from &quot;$buildDir/classes/java/main/com/sudhir/registration&quot;\n        into &quot;$imageDir.asFile/bin/config/com/sudhir/registration/for-spring-classpath-scanner&quot;\n    }\n}\n\n\n</code></pre>\n<p>However, I am able to run specific tests in IntelliJ. I think it's because Intellij is using classpath instead of module path.</p>\n<p>I am using <a href=\"https://github.com/java9-modularity/gradle-modules-plugin\" rel=\"nofollow noreferrer\">gradle-module-system</a> plugin to build, test and run. sample code can be found <a href=\"https://gitlab.yadavsudhir.com/sudhir/registration-service\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Can someone please assist me how to deal with this issue. I am very new to using java module system.</p>\n"},{"tags":["java","java-native-interface","speex","jspeex"],"comments":[{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":1,"creation_date":1671611980,"post_id":74868935,"comment_id":132134034,"body_markdown":"`CallerObj1` should point to whatever class hosted those methods previously, and your `NewStringUTF` trick results in a `byte[]` of size 15 instead of 16. This may be a problem.","body":"<code>CallerObj1</code> should point to whatever class hosted those methods previously, and your <code>NewStringUTF</code> trick results in a <code>byte[]</code> of size 15 instead of 16. This may be a problem."},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":1,"creation_date":1671612049,"post_id":74868935,"comment_id":132134058,"body_markdown":"Of course libspeex is open source, so I&#39;m not sure why you are talking to a JNI wrapper clearly extracted from some other project.","body":"Of course libspeex is open source, so I&#39;m not sure why you are talking to a JNI wrapper clearly extracted from some other project."},{"owner":{"account_id":6974764,"reputation":1119,"user_id":5376493,"accept_rate":73,"display_name":"dev"},"score":0,"creation_date":1671612998,"post_id":74868935,"comment_id":132134320,"body_markdown":"Thanks. Yea I want to use a lib from a project. Have some progress, so I can decompress successfully, using similar function and same code: `public static native boolean nDecodeBuffer(long j12, byte[] bArr, long j13, short[] sArr);` What do you mean by trick results in byte[] of 15? ... I don&#39;t think it should matter since these are the input bytes anyway .... Any suggestions what to try? Thanks,","body":"Thanks. Yea I want to use a lib from a project. Have some progress, so I can decompress successfully, using similar function and same code: <code>public static native boolean nDecodeBuffer(long j12, byte[] bArr, long j13, short[] sArr);</code> What do you mean by trick results in byte[] of 15? ... I don&#39;t think it should matter since these are the input bytes anyway .... Any suggestions what to try? Thanks,"},{"owner":{"account_id":6974764,"reputation":1119,"user_id":5376493,"accept_rate":73,"display_name":"dev"},"score":0,"creation_date":1671645405,"post_id":74868935,"comment_id":132145322,"body_markdown":"Went further with it, but got stuck here: https://stackoverflow.com/questions/74880030/java-native-big-jshortarray-with-more-than-int-elements","body":"Went further with it, but got stuck here: <a href=\"https://stackoverflow.com/questions/74880030/java-native-big-jshortarray-with-more-than-int-elements\" title=\"java native big jshortarray with more than int elements\">stackoverflow.com/questions/74880030/&hellip;</a>"}],"owner":{"account_id":6974764,"reputation":1119,"user_id":5376493,"accept_rate":73,"display_name":"dev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671570567,"creation_date":1671570567,"question_id":74868935,"body_markdown":"Those are Java functions in question: \r\n\r\n    targetFunctionPtr1 is public static native long nInitSpxEncoder();\r\n    \r\n    targetFunctionPtr is public static native long nEncodeBuffer(long j12, short[] sArr, byte[] bArr, long j13);\r\n\r\nSample pseudo Java code\r\n\r\n     long nInitSpxEncoder = LibSpeex.nInitSpxEncoder();\r\n     long nEncodeBuffer = LibSpeex.nEncodeBuffer(nInitSpxEncoder, sArr, bArr, 65536); \r\n\r\n\r\n\r\ncalled below via JNI\r\n\r\n\r\n\r\n    char b[16]={0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x0a,0x0b,0x0c,0x0d,0x0e,0x0f,0x00};\r\n    \r\n    jinput = env-&gt;NewStringUTF(b);\r\n    \r\n    jclass stringClass = env-&gt;FindClass(&quot;java/lang/String&quot;);\r\n    jmethodID getBytesMId = env-&gt;GetMethodID(stringClass, &quot;getBytes&quot;, &quot;()[B&quot;);\r\n    \r\n    in1 = (jbyteArray)env-&gt;CallObjectMethod( jinput, getBytesMId);\r\n    \r\n    \r\n    \r\n    jlong init;\r\n    \r\n    init = targetFunctionPtr1(env, CallerObj1); \r\n    \r\n    \r\n    jshort outCArray[] = {100};\r\n    jshortArray    retval = env-&gt;NewShortArray(10000);  // allocate\r\n    env-&gt;SetShortArrayRegion(retval, 0 , 1, outCArray); \r\n    \r\n    nenc =  targetFunctionPtr(env, CallerObj, init, retval, in1, 10);\r\n\t\t\r\nDon&#39;t get why above segfaults. It calls `init`, that works, but in second call `nEncodeBuffer` it segfaults. I see in debugger it loads byte array and shorts array, but cannot figure out why it does not return, just loops until segfault.\r\n\r\n\r\nI mean I call it via JNI but I would expect targetFunctionPtr to return. It seems it loops somehow, until segmentation occurs.\r\n\r\nThis is sample implementation of the JNI in Java\r\n\r\n     long nInitSpxEncoder = LibSpeex.nInitSpxEncoder();\r\n                if (nInitSpxEncoder != 0) {\r\n                    int nGetEncoderFrameSize = (int) LibSpeex.nGetEncoderFrameSize(nInitSpxEncoder);\r\n                    System.err.println(String.format(&quot;Frame size = %d&quot;, Integer.valueOf(nGetEncoderFrameSize)));\r\n                    short[] sArr = new short[nGetEncoderFrameSize];\r\n                    AudioRecord audioRecord2 = null;\r\n                    byte[] bArr3 = bArr2;\r\n                    long j12 = 0;\r\n                    while (j12 &lt; this.f13733d) {\r\n                        try {\r\n                            synchronized (this) {\r\n                                if (audioRecord2 != this.f13731b) {\r\n                                    Log.i(&quot;AudioPttRecorder&quot;, &quot;source changed&quot;);\r\n                                }\r\n                                audioRecord = this.f13731b;\r\n                            }\r\n                            if (audioRecord == null || audioRecord.read(sArr, 0, nGetEncoderFrameSize) != nGetEncoderFrameSize) {\r\n                                break;\r\n                            }\r\n                            if (this.f13730a != null) {\r\n                                this.f13730a.a(j12, a(nGetEncoderFrameSize, sArr));\r\n                            }\r\n                            long j13 = j12;\r\n                            int i12 = nGetEncoderFrameSize;\r\n                            short[] sArr2 = sArr;\r\n                            long nEncodeBuffer = LibSpeex.nEncodeBuffer(nInitSpxEncoder, sArr, bArr, 65536);\r\n                            if (nEncodeBuffer &gt;= 0) {\r\n                                Log.d(&quot;AudioPttRecorder&quot;, String.format(&quot;Write packet len=%d&quot;, Long.valueOf(nEncodeBuffer)));\r\n                                bArr3[0] = (byte) (255 &amp; nEncodeBuffer);\r\n                                bArr3[1] = (byte) (nEncodeBuffer &gt;&gt; 8);\r\n                                byte[] bArr4 = bArr3;\r\n                                bufferedOutputStream.write(bArr4, 0, 2);\r\n                                bufferedOutputStream.write(bArr, 0, (int) nEncodeBuffer);\r\n                                bArr3 = bArr4;\r\n                                nGetEncoderFrameSize = i12;\r\n                                sArr = sArr2;\r\n                                j12 = j13 + 1;\r\n                                audioRecord2 = audioRecord;\r\n                            } else {\r\n                                throw new RuntimeException(&quot;Something wrong with encoding Speex&quot;);\r\n                            }\r\n                        } finally {\r\n                            LibSpeex.nDestroySpxEncoder(nInitSpxEncoder);\r\n                            Log.i(&quot;AudioPttRecorder&quot;, &quot;exited&quot;);\r\n                        }\r\n                    }\r\n                    bufferedOutputStream.flush();\r\n                    Log.d(&quot;AudioPttRecorder&quot;, &quot;finished&quot;);\r\n                    return;\r\n                }\r\n\r\n\r\nMy code using JNI directly does similar.\r\n\r\nAny ideas what is wrong with the native code?\r\n\r\nHow should I call Libspx to encode a byte array in native code?\r\n\r\n\r\n\r\n","title":"Libspeexjni JNI integration","body":"<p>Those are Java functions in question:</p>\n<pre><code>targetFunctionPtr1 is public static native long nInitSpxEncoder();\n\ntargetFunctionPtr is public static native long nEncodeBuffer(long j12, short[] sArr, byte[] bArr, long j13);\n</code></pre>\n<p>Sample pseudo Java code</p>\n<pre><code> long nInitSpxEncoder = LibSpeex.nInitSpxEncoder();\n long nEncodeBuffer = LibSpeex.nEncodeBuffer(nInitSpxEncoder, sArr, bArr, 65536); \n</code></pre>\n<p>called below via JNI</p>\n<pre><code>char b[16]={0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x0a,0x0b,0x0c,0x0d,0x0e,0x0f,0x00};\n\njinput = env-&gt;NewStringUTF(b);\n\njclass stringClass = env-&gt;FindClass(&quot;java/lang/String&quot;);\njmethodID getBytesMId = env-&gt;GetMethodID(stringClass, &quot;getBytes&quot;, &quot;()[B&quot;);\n\nin1 = (jbyteArray)env-&gt;CallObjectMethod( jinput, getBytesMId);\n\n\n\njlong init;\n\ninit = targetFunctionPtr1(env, CallerObj1); \n\n\njshort outCArray[] = {100};\njshortArray    retval = env-&gt;NewShortArray(10000);  // allocate\nenv-&gt;SetShortArrayRegion(retval, 0 , 1, outCArray); \n\nnenc =  targetFunctionPtr(env, CallerObj, init, retval, in1, 10);\n    \n</code></pre>\n<p>Don't get why above segfaults. It calls <code>init</code>, that works, but in second call <code>nEncodeBuffer</code> it segfaults. I see in debugger it loads byte array and shorts array, but cannot figure out why it does not return, just loops until segfault.</p>\n<p>I mean I call it via JNI but I would expect targetFunctionPtr to return. It seems it loops somehow, until segmentation occurs.</p>\n<p>This is sample implementation of the JNI in Java</p>\n<pre><code> long nInitSpxEncoder = LibSpeex.nInitSpxEncoder();\n            if (nInitSpxEncoder != 0) {\n                int nGetEncoderFrameSize = (int) LibSpeex.nGetEncoderFrameSize(nInitSpxEncoder);\n                System.err.println(String.format(&quot;Frame size = %d&quot;, Integer.valueOf(nGetEncoderFrameSize)));\n                short[] sArr = new short[nGetEncoderFrameSize];\n                AudioRecord audioRecord2 = null;\n                byte[] bArr3 = bArr2;\n                long j12 = 0;\n                while (j12 &lt; this.f13733d) {\n                    try {\n                        synchronized (this) {\n                            if (audioRecord2 != this.f13731b) {\n                                Log.i(&quot;AudioPttRecorder&quot;, &quot;source changed&quot;);\n                            }\n                            audioRecord = this.f13731b;\n                        }\n                        if (audioRecord == null || audioRecord.read(sArr, 0, nGetEncoderFrameSize) != nGetEncoderFrameSize) {\n                            break;\n                        }\n                        if (this.f13730a != null) {\n                            this.f13730a.a(j12, a(nGetEncoderFrameSize, sArr));\n                        }\n                        long j13 = j12;\n                        int i12 = nGetEncoderFrameSize;\n                        short[] sArr2 = sArr;\n                        long nEncodeBuffer = LibSpeex.nEncodeBuffer(nInitSpxEncoder, sArr, bArr, 65536);\n                        if (nEncodeBuffer &gt;= 0) {\n                            Log.d(&quot;AudioPttRecorder&quot;, String.format(&quot;Write packet len=%d&quot;, Long.valueOf(nEncodeBuffer)));\n                            bArr3[0] = (byte) (255 &amp; nEncodeBuffer);\n                            bArr3[1] = (byte) (nEncodeBuffer &gt;&gt; 8);\n                            byte[] bArr4 = bArr3;\n                            bufferedOutputStream.write(bArr4, 0, 2);\n                            bufferedOutputStream.write(bArr, 0, (int) nEncodeBuffer);\n                            bArr3 = bArr4;\n                            nGetEncoderFrameSize = i12;\n                            sArr = sArr2;\n                            j12 = j13 + 1;\n                            audioRecord2 = audioRecord;\n                        } else {\n                            throw new RuntimeException(&quot;Something wrong with encoding Speex&quot;);\n                        }\n                    } finally {\n                        LibSpeex.nDestroySpxEncoder(nInitSpxEncoder);\n                        Log.i(&quot;AudioPttRecorder&quot;, &quot;exited&quot;);\n                    }\n                }\n                bufferedOutputStream.flush();\n                Log.d(&quot;AudioPttRecorder&quot;, &quot;finished&quot;);\n                return;\n            }\n</code></pre>\n<p>My code using JNI directly does similar.</p>\n<p>Any ideas what is wrong with the native code?</p>\n<p>How should I call Libspx to encode a byte array in native code?</p>\n"},{"tags":["java","android","algorithm","kotlin","java-time"],"answers":[{"tags":[],"owner":{"account_id":6742238,"reputation":434,"user_id":5195095,"display_name":"Kostya  Mistery"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671554492,"creation_date":1671554492,"answer_id":74866198,"question_id":74865988,"body_markdown":"If your timeslots are static(Always from 09:00 till 17:00 and always 15 min duration) you can actually hardcode them into an array, and operate through indexes further. So for example if every hour have 4 indexes starting from 0 your specific timeframe 12:00 to 12:30. will have indexes of 12, 13, 14. Such code won&#39;t be too beautiful, but still a lot more readable.\r\n\r\nAny way, LocalTime is overall not the best idea. I would just use Long, with System.currentTimeMillis() This is the best solution for handling timezones(Formatting them only for UI, not for logic). And also it will make your time calculations much easier, because you can actually divide and subtract millis.","title":"make list full of timeslots avoiding specific timeframe","body":"<p>If your timeslots are static(Always from 09:00 till 17:00 and always 15 min duration) you can actually hardcode them into an array, and operate through indexes further. So for example if every hour have 4 indexes starting from 0 your specific timeframe 12:00 to 12:30. will have indexes of 12, 13, 14. Such code won't be too beautiful, but still a lot more readable.</p>\n<p>Any way, LocalTime is overall not the best idea. I would just use Long, with System.currentTimeMillis() This is the best solution for handling timezones(Formatting them only for UI, not for logic). And also it will make your time calculations much easier, because you can actually divide and subtract millis.</p>\n"},{"tags":[],"owner":{"account_id":19867572,"reputation":48,"user_id":14554493,"display_name":"xBullet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671570442,"creation_date":1671561733,"answer_id":74867556,"question_id":74865988,"body_markdown":"I took another approach to finding the answer, so if anyone comes across the same problem, here it is. You can also give multiple timeframes you want to avoid. Feel free to alter it any way. It can also return Pairs instead of &#39;TimeSlot&#39;s.\r\n\r\n```\r\n    fun generateTimeSlots(\r\n        startTime: LocalTime,\r\n        endTime: LocalTime,\r\n        duration: Long,\r\n        avoid: List&lt;TimeSlot&gt;\r\n    ): List&lt;TimeSlot&gt; {\r\n        val timeSlots = mutableListOf&lt;TimeSlot&gt;()\r\n        var currentTime = startTime\r\n\r\n        while (currentTime &lt; endTime) {\r\n            val nextTime = currentTime.plusMinutes(duration)\r\n            val timeSlot = TimeSlot(currentTime, nextTime)\r\n\r\n            if (avoid.none { timeSlot.startTime in it.startTime..it.endTime.minusMinutes(1) }) {\r\n                timeSlots.add(timeSlot)\r\n            }\r\n\r\n            currentTime = nextTime\r\n        }\r\n\r\n        return timeSlots\r\n    }\r\n```","title":"make list full of timeslots avoiding specific timeframe","body":"<p>I took another approach to finding the answer, so if anyone comes across the same problem, here it is. You can also give multiple timeframes you want to avoid. Feel free to alter it any way. It can also return Pairs instead of 'TimeSlot's.</p>\n<pre><code>    fun generateTimeSlots(\n        startTime: LocalTime,\n        endTime: LocalTime,\n        duration: Long,\n        avoid: List&lt;TimeSlot&gt;\n    ): List&lt;TimeSlot&gt; {\n        val timeSlots = mutableListOf&lt;TimeSlot&gt;()\n        var currentTime = startTime\n\n        while (currentTime &lt; endTime) {\n            val nextTime = currentTime.plusMinutes(duration)\n            val timeSlot = TimeSlot(currentTime, nextTime)\n\n            if (avoid.none { timeSlot.startTime in it.startTime..it.endTime.minusMinutes(1) }) {\n                timeSlots.add(timeSlot)\n            }\n\n            currentTime = nextTime\n        }\n\n        return timeSlots\n    }\n</code></pre>\n"}],"owner":{"account_id":19867572,"reputation":48,"user_id":14554493,"display_name":"xBullet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1671570442,"creation_date":1671553305,"question_id":74865988,"body_markdown":"I am trying to make a list that by default contains a list of available timeslots from one timepoint to another timepoint. It has to avoid making timeslots in a specific timeframe. \r\n \r\nFor example: I have a first timepoint being 09:00 and the end timepoint being 17:00. The duration of the timeslots is 15. Only sometimes I can&#39;t have any time timeslots in a specific timeframe. Which,for example, can be from 12:00 to 12:30. \r\n\r\nSo eventually the slots should be filled with TimeSlots from 09:00 to 12:00. And from 12:30 to 17:00. This is my code so far, I am using java.time.LocalTime. So far, it&#39;s not going that well... Thanks for looking!\r\n\r\n```\r\ndata class TimeSlot(\r\n    val startTime: LocalTime,\r\n    val endTime: LocalTime,\r\n)\r\n```\r\n\r\n```\r\nprivate fun initializeSlots(\r\n    slots: ArrayList&lt;TimeSlot&gt;,\r\n    startTimeShift: LocalTime,\r\n    appointmentDuration: Long,\r\n    amountOfWorkingHours: Long,\r\n    breakTime: LocalTime,\r\n    breakDuration: Long\r\n) {\r\n    slots.add(TimeSlot(startTime = startTimeShift, endTime = startTimeShift.plusMinutes(appointmentDuration)))\r\n    val possibleTotalAppointments = (amountOfWorkingHours * appointmentDuration) - 2 // -2 because index starts at 0 and first timeslot is already added.\r\n    for (i in 0..(amountOfWorkingHours * appointmentDuration).toInt()) {\r\n        if (slots[i].endTime == breakTime) {\r\n            val endTimeOfBreak = breakTime.plusMinutes(breakDuration)\r\n            val isTargetWithinTimeFrame = (!breakTime.isBefore(slots[i].startTime) &amp;&amp; breakTime.isBefore(endTimeOfBreak))\r\n            if (isTargetWithinTimeFrame) {\r\n                slots.remove(slots[i])\r\n                continue\r\n            }\r\n        } else {\r\n            slots.add(TimeSlot(startTime = slots[i].endTime, endTime = slots[i].endTime.plusMinutes(appointmentDuration)))\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n","title":"make list full of timeslots avoiding specific timeframe","body":"<p>I am trying to make a list that by default contains a list of available timeslots from one timepoint to another timepoint. It has to avoid making timeslots in a specific timeframe.</p>\n<p>For example: I have a first timepoint being 09:00 and the end timepoint being 17:00. The duration of the timeslots is 15. Only sometimes I can't have any time timeslots in a specific timeframe. Which,for example, can be from 12:00 to 12:30.</p>\n<p>So eventually the slots should be filled with TimeSlots from 09:00 to 12:00. And from 12:30 to 17:00. This is my code so far, I am using java.time.LocalTime. So far, it's not going that well... Thanks for looking!</p>\n<pre><code>data class TimeSlot(\n    val startTime: LocalTime,\n    val endTime: LocalTime,\n)\n</code></pre>\n<pre><code>private fun initializeSlots(\n    slots: ArrayList&lt;TimeSlot&gt;,\n    startTimeShift: LocalTime,\n    appointmentDuration: Long,\n    amountOfWorkingHours: Long,\n    breakTime: LocalTime,\n    breakDuration: Long\n) {\n    slots.add(TimeSlot(startTime = startTimeShift, endTime = startTimeShift.plusMinutes(appointmentDuration)))\n    val possibleTotalAppointments = (amountOfWorkingHours * appointmentDuration) - 2 // -2 because index starts at 0 and first timeslot is already added.\n    for (i in 0..(amountOfWorkingHours * appointmentDuration).toInt()) {\n        if (slots[i].endTime == breakTime) {\n            val endTimeOfBreak = breakTime.plusMinutes(breakDuration)\n            val isTargetWithinTimeFrame = (!breakTime.isBefore(slots[i].startTime) &amp;&amp; breakTime.isBefore(endTimeOfBreak))\n            if (isTargetWithinTimeFrame) {\n                slots.remove(slots[i])\n                continue\n            }\n        } else {\n            slots.add(TimeSlot(startTime = slots[i].endTime, endTime = slots[i].endTime.plusMinutes(appointmentDuration)))\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-test"],"comments":[{"owner":{"account_id":7788110,"reputation":1429,"user_id":6306585,"accept_rate":60,"display_name":"Shakirov Ramil"},"score":0,"creation_date":1671543524,"post_id":74863583,"comment_id":132118224,"body_markdown":"Why are you expecting 201 status if you not setting it?","body":"Why are you expecting 201 status if you not setting it?"},{"owner":{"account_id":23987549,"reputation":50,"user_id":17974178,"display_name":"Victor Hugo Pongolino"},"score":0,"creation_date":1671566579,"post_id":74863583,"comment_id":132125885,"body_markdown":"Yes, i was wrong to think that the default status code for post request was 201 in Spring Framework. Thanks.","body":"Yes, i was wrong to think that the default status code for post request was 201 in Spring Framework. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":7788110,"reputation":1429,"user_id":6306585,"accept_rate":60,"display_name":"Shakirov Ramil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671543413,"creation_date":1671543413,"answer_id":74863931,"question_id":74863583,"body_markdown":"try add Accept header to your request\r\n\r\nAccept=application/json","title":"Problem with status 415 in Spring MockMVC Tests after trying to send a REST Post Request","body":"<p>try add Accept header to your request</p>\n<p>Accept=application/json</p>\n"},{"tags":[],"owner":{"account_id":23987549,"reputation":50,"user_id":17974178,"display_name":"Victor Hugo Pongolino"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1671565342,"creation_date":1671565342,"answer_id":74868148,"question_id":74863583,"body_markdown":"I found out the problem.\r\nThe problem was occurring in Jackson&#39;s Serialization from my Data Transfer Object (DTO)\r\n\r\nMy DTO has an args-constructor and because of that i have to use the `@JsonCreator` to point the args constructor. What i didn&#39;t expect was that you must annotate **all the constructor parameters** with `@JsonProperty` as Jackson didn&#39;t know the exact order to instantiate the object from the construtor, that was my problem.\r\n\r\nAnother way is creating a bean for that, so you don&#39;t have to use the @JsonCreator\r\n\r\nThe solution:\r\n\r\n\r\n    @JsonCreator\r\n    public CriarProdutoDTO(\r\n            @JsonProperty(&quot;nome_produto&quot;) String nomeProduto, @JsonProperty(&quot;preco&quot;) BigDecimal preco,\r\n            @JsonProperty(&quot;descricao&quot;) String descricao, @JsonProperty(&quot;quantidade_estoque&quot;) Integer quantidadeEstoque,\r\n            @JsonProperty(&quot;categoria_id&quot;) Integer categoriaId) {\r\n        this.nomeProduto = nomeProduto;\r\n        this.preco = preco;\r\n        this.descricao = descricao;\r\n        this.quantidadeEstoque = quantidadeEstoque;\r\n        this.categoriaId = categoriaId;\r\n    }\r\n\r\n\r\n","title":"Problem with status 415 in Spring MockMVC Tests after trying to send a REST Post Request","body":"<p>I found out the problem.\nThe problem was occurring in Jackson's Serialization from my Data Transfer Object (DTO)</p>\n<p>My DTO has an args-constructor and because of that i have to use the <code>@JsonCreator</code> to point the args constructor. What i didn't expect was that you must annotate <strong>all the constructor parameters</strong> with <code>@JsonProperty</code> as Jackson didn't know the exact order to instantiate the object from the construtor, that was my problem.</p>\n<p>Another way is creating a bean for that, so you don't have to use the @JsonCreator</p>\n<p>The solution:</p>\n<pre><code>@JsonCreator\npublic CriarProdutoDTO(\n        @JsonProperty(&quot;nome_produto&quot;) String nomeProduto, @JsonProperty(&quot;preco&quot;) BigDecimal preco,\n        @JsonProperty(&quot;descricao&quot;) String descricao, @JsonProperty(&quot;quantidade_estoque&quot;) Integer quantidadeEstoque,\n        @JsonProperty(&quot;categoria_id&quot;) Integer categoriaId) {\n    this.nomeProduto = nomeProduto;\n    this.preco = preco;\n    this.descricao = descricao;\n    this.quantidadeEstoque = quantidadeEstoque;\n    this.categoriaId = categoriaId;\n}\n</code></pre>\n"}],"owner":{"account_id":23987549,"reputation":50,"user_id":17974178,"display_name":"Victor Hugo Pongolino"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74868148,"answer_count":2,"score":1,"last_activity_date":1671570349,"creation_date":1671541600,"question_id":74863583,"body_markdown":"I have a REST POST endpoint which is used to create an entity. I&#39;ve trying to test it with MockMVC but every time that i sent the request i received a 415 status code (media not supported):\r\n`java.lang.AssertionError: Status expected:&lt;201&gt; but was:&lt;415&gt;\r\nExpected :201\r\nActual   :415`\r\n\r\nThe endpoint accepts json body in the request and I sent this data using the MockMVC contentType as APPLICATION_JSON_VALUE and the content method with the serialized object by Jackson.\r\n\r\nThe controller ALSO is managed my Spring Security Filters but i think this is not the problem as i&#39;m using the `@AutoConfigureMockMvc(addFilters = false)` and the HTTP status code is related to not supported media type and not about any security exception.\r\n\r\nI&#39;ve found a plenty of topics talking about it but none was able to solve my problem. One of the cases was including the `@EnableWebMvc` into the Controller OR as a configuration bean test, but none work it.\r\n\r\n\r\nMy attempt with @EnableWebMvc as test bean\r\n```\r\n@TestConfiguration\r\n@EnableWebMvc\r\npublic class ProdutoControllerConfigurationTest {\r\n    @Bean\r\n    public ProdutoController produtoController() {\r\n        return new ProdutoController(/* dependencies by autowired */);\r\n    }\r\n}\r\n```\r\nEDIT: I also tried with different MediaType like MediaType.APPLICATION_JSON and MediaType.APPLICATION_JSON_VALUE \r\n\r\nMy DTO class\r\n\r\n    public class CriarProdutoDTO {\r\n        @NotNull\r\n        @Size(min = 2)\r\n        @JsonProperty(&quot;nome_produto&quot;)\r\n        private final String nomeProduto;\r\n\r\n        @DecimalMin(&quot;0.1&quot;)\r\n        private final BigDecimal preco;\r\n        private final String descricao;\r\n\r\n        @NotNull\r\n        @Min(0)\r\n        @JsonProperty(&quot;quantidade_estoque&quot;)\r\n        private final Integer quantidadeEstoque;\r\n\r\n        @NotNull\r\n        @Min(1)\r\n        @JsonProperty(&quot;categoria_id&quot;)\r\n        private final Integer categoriaId;\r\n    \r\n        public CriarProdutoDTO(String nomeProduto, BigDecimal preco, String descricao, Integer quantidadeEstoque, Integer categoriaId) {\r\n            this.nomeProduto = nomeProduto;\r\n            this.preco = preco;\r\n            this.descricao = descricao;\r\n            this.quantidadeEstoque = quantidadeEstoque;\r\n            this.categoriaId = categoriaId;\r\n        }\r\n    }\r\n\r\nMy current tests:\r\n```\r\n@ActiveProfiles(&quot;testes&quot;)\r\n@ExtendWith(SpringExtension.class)\r\n@SpringBootTest\r\n@WebAppConfiguration\r\n@AutoConfigureMockMvc(addFilters = false)\r\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.ANY)\r\npublic class ProdutoControllerTest {\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n    @Autowired\r\n    private ObjectMapper objectMapper;\r\n\r\n    @Test\r\n    public void deveRetornarCreated_criacaoProdutoSucesso() throws Exception {\r\n        CriarProdutoDTO criarProdutoDTO = new CriarProdutoDTO(&quot;Nome&quot;, new BigDecimal(&quot;2.0&quot;), &quot;DESCRI&#199;&#195;O&quot;, 2, 1);\r\n\r\n        mockMvc.perform(MockMvcRequestBuilders.post(&quot;/api/produtos&quot;)\r\n                .contentType(MediaType.APPLICATION_JSON_VALUE)\r\n                .content(objectMapper.writeValueAsString(criarProdutoDTO)))\r\n                .andDo(MockMvcResultHandlers.print())\r\n                .andExpect(MockMvcResultMatchers.status().isCreated());\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nMy Controller:\r\n\r\n```\r\n@RestController\r\n@RequestMapping(value = &quot;/api/produtos&quot;)\r\npublic class ProdutoController {\r\n\r\n    @Autowired\r\n    private ProdutoService produtoService;\r\n    @Autowired\r\n    private CriarProdutoDtoToProdutoConverter produtoConverter;\r\n\r\n    @PostMapping\r\n    @ResponseStatus(HttpStatus.CREATED)\r\n    public void cadastrar(@RequestBody @Valid CriarProdutoDTO produtoDTO) {\r\n        Produto novoProduto = produtoConverter.converter(produtoDTO);\r\n        produtoService.cadastrar(novoProduto);\r\n    }\r\n}\r\n```\r\n\r\n\r\n","title":"Problem with status 415 in Spring MockMVC Tests after trying to send a REST Post Request","body":"<p>I have a REST POST endpoint which is used to create an entity. I've trying to test it with MockMVC but every time that i sent the request i received a 415 status code (media not supported):\n<code>java.lang.AssertionError: Status expected:&lt;201&gt; but was:&lt;415&gt; Expected :201 Actual   :415</code></p>\n<p>The endpoint accepts json body in the request and I sent this data using the MockMVC contentType as APPLICATION_JSON_VALUE and the content method with the serialized object by Jackson.</p>\n<p>The controller ALSO is managed my Spring Security Filters but i think this is not the problem as i'm using the <code>@AutoConfigureMockMvc(addFilters = false)</code> and the HTTP status code is related to not supported media type and not about any security exception.</p>\n<p>I've found a plenty of topics talking about it but none was able to solve my problem. One of the cases was including the <code>@EnableWebMvc</code> into the Controller OR as a configuration bean test, but none work it.</p>\n<p>My attempt with @EnableWebMvc as test bean</p>\n<pre><code>@TestConfiguration\n@EnableWebMvc\npublic class ProdutoControllerConfigurationTest {\n    @Bean\n    public ProdutoController produtoController() {\n        return new ProdutoController(/* dependencies by autowired */);\n    }\n}\n</code></pre>\n<p>EDIT: I also tried with different MediaType like MediaType.APPLICATION_JSON and MediaType.APPLICATION_JSON_VALUE</p>\n<p>My DTO class</p>\n<pre><code>public class CriarProdutoDTO {\n    @NotNull\n    @Size(min = 2)\n    @JsonProperty(&quot;nome_produto&quot;)\n    private final String nomeProduto;\n\n    @DecimalMin(&quot;0.1&quot;)\n    private final BigDecimal preco;\n    private final String descricao;\n\n    @NotNull\n    @Min(0)\n    @JsonProperty(&quot;quantidade_estoque&quot;)\n    private final Integer quantidadeEstoque;\n\n    @NotNull\n    @Min(1)\n    @JsonProperty(&quot;categoria_id&quot;)\n    private final Integer categoriaId;\n\n    public CriarProdutoDTO(String nomeProduto, BigDecimal preco, String descricao, Integer quantidadeEstoque, Integer categoriaId) {\n        this.nomeProduto = nomeProduto;\n        this.preco = preco;\n        this.descricao = descricao;\n        this.quantidadeEstoque = quantidadeEstoque;\n        this.categoriaId = categoriaId;\n    }\n}\n</code></pre>\n<p>My current tests:</p>\n<pre><code>@ActiveProfiles(&quot;testes&quot;)\n@ExtendWith(SpringExtension.class)\n@SpringBootTest\n@WebAppConfiguration\n@AutoConfigureMockMvc(addFilters = false)\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.ANY)\npublic class ProdutoControllerTest {\n\n    @Autowired\n    private MockMvc mockMvc;\n    @Autowired\n    private ObjectMapper objectMapper;\n\n    @Test\n    public void deveRetornarCreated_criacaoProdutoSucesso() throws Exception {\n        CriarProdutoDTO criarProdutoDTO = new CriarProdutoDTO(&quot;Nome&quot;, new BigDecimal(&quot;2.0&quot;), &quot;DESCRIO&quot;, 2, 1);\n\n        mockMvc.perform(MockMvcRequestBuilders.post(&quot;/api/produtos&quot;)\n                .contentType(MediaType.APPLICATION_JSON_VALUE)\n                .content(objectMapper.writeValueAsString(criarProdutoDTO)))\n                .andDo(MockMvcResultHandlers.print())\n                .andExpect(MockMvcResultMatchers.status().isCreated());\n    }\n\n}\n\n</code></pre>\n<p>My Controller:</p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;/api/produtos&quot;)\npublic class ProdutoController {\n\n    @Autowired\n    private ProdutoService produtoService;\n    @Autowired\n    private CriarProdutoDtoToProdutoConverter produtoConverter;\n\n    @PostMapping\n    @ResponseStatus(HttpStatus.CREATED)\n    public void cadastrar(@RequestBody @Valid CriarProdutoDTO produtoDTO) {\n        Produto novoProduto = produtoConverter.converter(produtoDTO);\n        produtoService.cadastrar(novoProduto);\n    }\n}\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1670950949,"post_id":74785337,"comment_id":131989653,"body_markdown":"What do you mean, it didn&#39;t work because of duplicates?  You can always use a Collectors.toMap overload that specifies how to deal with duplicates.","body":"What do you mean, it didn&#39;t work because of duplicates?  You can always use a Collectors.toMap overload that specifies how to deal with duplicates."},{"owner":{"account_id":23726177,"reputation":21,"user_id":17746050,"display_name":"Himanshu"},"score":0,"creation_date":1671110999,"post_id":74785337,"comment_id":132030686,"body_markdown":"Edited the question for clarity. Thanks for the suggestion, it works! Is this the idiomatic way to solve it?","body":"Edited the question for clarity. Thanks for the suggestion, it works! Is this the idiomatic way to solve it?"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671570217,"creation_date":1671562081,"answer_id":74867614,"question_id":74785337,"body_markdown":"You can do it like this:  Assume `List&lt;Character&gt; chars` is populated.\r\n```\r\nMap&lt;Character, Set&lt;Character&gt;&gt;   map = chars.stream()\r\n                   .collect(Collectors.groupingBy(a -&gt; a,\r\n                           Collectors.toCollection(HashSet::new)));\r\n```\r\nBut since sets don&#39;t hold duplicates, the set will only hold one value.  And that value and the key will be the same. So I don&#39;t see any purpose in this since you will be using a key to retrieve a set containing the key.\r\n\r\nTry it like this to see the difference.  `GroupingBy` defaults to a `list` for the map value.\r\n```\r\n Map&lt;Character, List&lt;Character&gt;&gt; map = chars.stream()\r\n                .collect(Collectors.groupingBy(a -&gt; a));","title":"How to convert Stream&lt;Character&gt; to a Map&lt;Character, Set&lt;Character&gt;&gt;","body":"<p>You can do it like this:  Assume <code>List&lt;Character&gt; chars</code> is populated.</p>\n<pre><code>Map&lt;Character, Set&lt;Character&gt;&gt;   map = chars.stream()\n                   .collect(Collectors.groupingBy(a -&gt; a,\n                           Collectors.toCollection(HashSet::new)));\n</code></pre>\n<p>But since sets don't hold duplicates, the set will only hold one value.  And that value and the key will be the same. So I don't see any purpose in this since you will be using a key to retrieve a set containing the key.</p>\n<p>Try it like this to see the difference.  <code>GroupingBy</code> defaults to a <code>list</code> for the map value.</p>\n<pre><code> Map&lt;Character, List&lt;Character&gt;&gt; map = chars.stream()\n                .collect(Collectors.groupingBy(a -&gt; a));\n</code></pre>\n"}],"owner":{"account_id":23726177,"reputation":21,"user_id":17746050,"display_name":"Himanshu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":1,"score":-4,"last_activity_date":1671570217,"creation_date":1670936670,"question_id":74785337,"body_markdown":"Can someone please help complete the following function using Java streams?\r\n\r\n```\r\n// Example \r\n// Input: [a, b, a, c]\r\n// Output: { a =&gt; emptyHashSet, b =&gt; emptyHashSet, c =&gt; emptyHashSet }\r\n// emptySet above means an empty HashSet&lt;Character&gt;\r\nMap&lt;Character, Set&lt;Character&gt;&gt; transform(final Stream&lt;Character&gt; chars) {\r\n// todo\r\n}\r\n```\r\n\r\nI tried the following:\r\n```\r\nMap&lt;Character, Set&lt;Character&gt;&gt; transform(final Stream&lt;Character&gt; chars) {\r\n    return chars.collect(Collectors.toMap(Function.identity(), HashSet::new));\r\n}\r\n```\r\nThis resulted in:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.IllegalStateException: Duplicate\r\n&gt; key a (attempted merging values [] and [])\r\n\r\nI tried the suggestion in the comments:\r\n\r\n```\r\nMap&lt;Character, Set&lt;Character&gt;&gt; transform(final Stream&lt;Character&gt; chars) {\r\n    return chars.collect(Collectors.toMap(Function.identity(), HashSet::new, (a, b) -&gt; {\r\n            a.addAll(b);\r\n            return a;\r\n        }));\r\n}\r\n```\r\nIt worked, thanks!\r\n\r\nAre there any more simpler ways to do it?","title":"How to convert Stream&lt;Character&gt; to a Map&lt;Character, Set&lt;Character&gt;&gt;","body":"<p>Can someone please help complete the following function using Java streams?</p>\n<pre><code>// Example \n// Input: [a, b, a, c]\n// Output: { a =&gt; emptyHashSet, b =&gt; emptyHashSet, c =&gt; emptyHashSet }\n// emptySet above means an empty HashSet&lt;Character&gt;\nMap&lt;Character, Set&lt;Character&gt;&gt; transform(final Stream&lt;Character&gt; chars) {\n// todo\n}\n</code></pre>\n<p>I tried the following:</p>\n<pre><code>Map&lt;Character, Set&lt;Character&gt;&gt; transform(final Stream&lt;Character&gt; chars) {\n    return chars.collect(Collectors.toMap(Function.identity(), HashSet::new));\n}\n</code></pre>\n<p>This resulted in:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.IllegalStateException: Duplicate\nkey a (attempted merging values [] and [])</p>\n</blockquote>\n<p>I tried the suggestion in the comments:</p>\n<pre><code>Map&lt;Character, Set&lt;Character&gt;&gt; transform(final Stream&lt;Character&gt; chars) {\n    return chars.collect(Collectors.toMap(Function.identity(), HashSet::new, (a, b) -&gt; {\n            a.addAll(b);\n            return a;\n        }));\n}\n</code></pre>\n<p>It worked, thanks!</p>\n<p>Are there any more simpler ways to do it?</p>\n"},{"tags":["java","swing","jcombobox","jcomponent"],"comments":[{"owner":{"account_id":933736,"reputation":13154,"user_id":963076,"accept_rate":59,"display_name":"ryvantage"},"score":0,"creation_date":1671558443,"post_id":74866873,"comment_id":132123421,"body_markdown":"Nowhere in this code do you add the panel to the frame (`frame.add(preferencesScreen); frame.pack();`)","body":"Nowhere in this code do you add the panel to the frame (<code>frame.add(preferencesScreen); frame.pack();</code>)"},{"owner":{"account_id":26606431,"reputation":3,"user_id":20227186,"display_name":"user20227186"},"score":0,"creation_date":1671559224,"post_id":74866873,"comment_id":132123656,"body_markdown":"@ryvantage i repaint the frame,call the method and add the panel in an action listener, i can provide more if its important","body":"@ryvantage i repaint the frame,call the method and add the panel in an action listener, i can provide more if its important"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1671559660,"post_id":74866873,"comment_id":132123786,"body_markdown":"it is best to have a [mre] - by posted code it cannot appear. Also using a null layout manager is easily a cause for errors and should not be used (that is, use layout managers)","body":"it is best to have a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> - by posted code it cannot appear. Also using a null layout manager is easily a cause for errors and should not be used (that is, use layout managers)"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1671581034,"post_id":74866873,"comment_id":132128882,"body_markdown":"null layout and hard-coded sizing/positioning is __wrong__ - instead learn to find and use a layoutManager that suits your requirements","body":"null layout and hard-coded sizing/positioning is <b>wrong</b> - instead learn to find and use a layoutManager that suits your requirements"},{"owner":{"account_id":933736,"reputation":13154,"user_id":963076,"accept_rate":59,"display_name":"ryvantage"},"score":0,"creation_date":1671629293,"post_id":74866873,"comment_id":132139458,"body_markdown":"Respectfully disagree with @kleopatra. I have many apps in production through a decade of development that use `AbsoluteLayout` from Netbeans&#39; GUI builder (Matisse). Functionality is king. Coding standards are important but not preeminent.","body":"Respectfully disagree with @kleopatra. I have many apps in production through a decade of development that use <code>AbsoluteLayout</code> from Netbeans&#39; GUI builder (Matisse). Functionality is king. Coding standards are important but not preeminent."},{"owner":{"account_id":933736,"reputation":13154,"user_id":963076,"accept_rate":59,"display_name":"ryvantage"},"score":0,"creation_date":1671629359,"post_id":74866873,"comment_id":132139485,"body_markdown":"Especially given that Swing is an aged-out API. You should already be exercising caution about building production apps with Swing.","body":"Especially given that Swing is an aged-out API. You should already be exercising caution about building production apps with Swing."},{"owner":{"account_id":933736,"reputation":13154,"user_id":963076,"accept_rate":59,"display_name":"ryvantage"},"score":0,"creation_date":1671629462,"post_id":74866873,"comment_id":132139530,"body_markdown":"Lastly, the best swing layout is `MigLayout` (https://www.miglayout.com/) and I haven&#39;t seen any activity in maintaining/supporting that layout in years.","body":"Lastly, the best swing layout is <code>MigLayout</code> (<a href=\"https://www.miglayout.com/\" rel=\"nofollow noreferrer\">miglayout.com</a>) and I haven&#39;t seen any activity in maintaining/supporting that layout in years."}],"answers":[{"tags":[],"owner":{"account_id":933736,"reputation":13154,"user_id":963076,"accept_rate":59,"display_name":"ryvantage"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1671569968,"creation_date":1671569968,"answer_id":74868846,"question_id":74866873,"body_markdown":"I made a [Minimal, Reproducible Example][1] with your code trying to imitate what I think you&#39;re trying to accomplish:\r\n\r\n    public class NewClass1 {\r\n\r\n        public static void main(String[] args) {\r\n            NewClass1 newClass = new NewClass1();\r\n            newClass.frame = new JFrame();\r\n            newClass.preferencesScreen();\r\n            newClass.frame.add(newClass.preferencesScreen);\r\n            newClass.frame.pack();\r\n            newClass.frame.setLocationByPlatform(true);\r\n            newClass.frame.setVisible(true);\r\n            newClass.frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        }\r\n\r\n\r\n        JPanel preferencesScreen;\r\n        JButton backButton;\r\n        JSlider slider;\r\n        JComboBox&lt;String&gt; restrictionDropdown;\r\n        String[] allergies = new String[] {&quot;Dust&quot;, &quot;Oak&quot;};\r\n        ActionListener actionListener;\r\n        JFrame frame;\r\n\r\n        // method name should describe actions (&quot;showPreferencesScreen&quot;, etc), not objects\r\n        public void preferencesScreen() {\r\n\r\n            // variable name is same as method name -- confusing...\r\n            preferencesScreen = new JPanel();\r\n            preferencesScreen.setLayout(new FlowLayout());\r\n    //        preferencesScreen.setBounds(0, 0, 500, 1000);\r\n\r\n            backButton = new JButton(&quot;&lt;-&quot;);\r\n            slider = new JSlider(JSlider.HORIZONTAL, 0, 100, 50);\r\n\r\n            //restrictionDropdown = new JComboBox&lt;&gt;(user.getPreferences().allergies);\r\n            restrictionDropdown = new JComboBox&lt;&gt;(new DefaultComboBoxModel&lt;&gt;(allergies));\r\n            restrictionDropdown.setLocation(200, 300);\r\n            restrictionDropdown.setSize(100, 100);\r\n            restrictionDropdown.addActionListener(actionListener);\r\n            restrictionDropdown.setEditable(true);\r\n            preferencesScreen.add(restrictionDropdown);\r\n\r\n            slider.setMajorTickSpacing(5);\r\n            slider.setPaintTicks(true);\r\n\r\n            backButton.setBounds(20, 30, 50, 40);\r\n            slider.setBounds(300, 140, 160, 50);\r\n\r\n            backButton.addActionListener(actionListener);\r\n\r\n            preferencesScreen.add(backButton);\r\n            preferencesScreen.add(slider);\r\n\r\n            //frame.setVisible(true); // you don&#39;t want this here\r\n        }\r\n    }\r\n\r\n(notice the code is copy/paste executable -- just create a NewClass1.java file, paste the code, and run -- makes it easy to communicate these problems/solutions).\r\n\r\nThat code produces this:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nNot sure if that&#39;s what you were looking for.\r\n\r\nA few notes:\r\n1. Don&#39;t use a `null` Layout. I used `FlowLayout` to keep your example very simple, but if I&#39;m looking to make a quick UI I almost always use Netbeans 8.2&#39;s Swing UI builder (which uses `AbsoluteLayout` but auto-generates the layout code. (what you see in this pic took 10 seconds literally)\r\n[![enter image description here][3]][3]\r\n2. Check my other comments for some suggestions on how you can improve.\r\n3. Swing is great (my favorite UI tool), but it&#39;s old and on its way out. So use it to learn but don&#39;t make production applications with it.\r\n\r\n\r\n  [1]: https://stackoverflow.com/help/minimal-reproducible-example\r\n  [2]: https://i.stack.imgur.com/0lrdA.png\r\n  [3]: https://i.stack.imgur.com/4PotH.png","title":"JComboBox does not appear in JPanel","body":"<p>I made a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Minimal, Reproducible Example</a> with your code trying to imitate what I think you're trying to accomplish:</p>\n<pre><code>public class NewClass1 {\n\n    public static void main(String[] args) {\n        NewClass1 newClass = new NewClass1();\n        newClass.frame = new JFrame();\n        newClass.preferencesScreen();\n        newClass.frame.add(newClass.preferencesScreen);\n        newClass.frame.pack();\n        newClass.frame.setLocationByPlatform(true);\n        newClass.frame.setVisible(true);\n        newClass.frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    }\n\n\n    JPanel preferencesScreen;\n    JButton backButton;\n    JSlider slider;\n    JComboBox&lt;String&gt; restrictionDropdown;\n    String[] allergies = new String[] {&quot;Dust&quot;, &quot;Oak&quot;};\n    ActionListener actionListener;\n    JFrame frame;\n\n    // method name should describe actions (&quot;showPreferencesScreen&quot;, etc), not objects\n    public void preferencesScreen() {\n\n        // variable name is same as method name -- confusing...\n        preferencesScreen = new JPanel();\n        preferencesScreen.setLayout(new FlowLayout());\n//        preferencesScreen.setBounds(0, 0, 500, 1000);\n\n        backButton = new JButton(&quot;&lt;-&quot;);\n        slider = new JSlider(JSlider.HORIZONTAL, 0, 100, 50);\n\n        //restrictionDropdown = new JComboBox&lt;&gt;(user.getPreferences().allergies);\n        restrictionDropdown = new JComboBox&lt;&gt;(new DefaultComboBoxModel&lt;&gt;(allergies));\n        restrictionDropdown.setLocation(200, 300);\n        restrictionDropdown.setSize(100, 100);\n        restrictionDropdown.addActionListener(actionListener);\n        restrictionDropdown.setEditable(true);\n        preferencesScreen.add(restrictionDropdown);\n\n        slider.setMajorTickSpacing(5);\n        slider.setPaintTicks(true);\n\n        backButton.setBounds(20, 30, 50, 40);\n        slider.setBounds(300, 140, 160, 50);\n\n        backButton.addActionListener(actionListener);\n\n        preferencesScreen.add(backButton);\n        preferencesScreen.add(slider);\n\n        //frame.setVisible(true); // you don't want this here\n    }\n}\n</code></pre>\n<p>(notice the code is copy/paste executable -- just create a NewClass1.java file, paste the code, and run -- makes it easy to communicate these problems/solutions).</p>\n<p>That code produces this:</p>\n<p><a href=\"https://i.stack.imgur.com/0lrdA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0lrdA.png\" alt=\"enter image description here\" /></a></p>\n<p>Not sure if that's what you were looking for.</p>\n<p>A few notes:</p>\n<ol>\n<li>Don't use a <code>null</code> Layout. I used <code>FlowLayout</code> to keep your example very simple, but if I'm looking to make a quick UI I almost always use Netbeans 8.2's Swing UI builder (which uses <code>AbsoluteLayout</code> but auto-generates the layout code. (what you see in this pic took 10 seconds literally)\n<a href=\"https://i.stack.imgur.com/4PotH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4PotH.png\" alt=\"enter image description here\" /></a></li>\n<li>Check my other comments for some suggestions on how you can improve.</li>\n<li>Swing is great (my favorite UI tool), but it's old and on its way out. So use it to learn but don't make production applications with it.</li>\n</ol>\n"}],"owner":{"account_id":26606431,"reputation":3,"user_id":20227186,"display_name":"user20227186"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1671569968,"creation_date":1671557967,"question_id":74866873,"body_markdown":"```\r\npublic void preferencesScreen(){\r\n    preferencesScreen = new JPanel();\r\n    preferencesScreen.setLayout(null);\r\n    preferencesScreen.setBounds(0,0,500,1000);\r\n\r\n    backButton = new JButton(&quot;&lt;-&quot;);\r\n    slider = new JSlider(JSlider.HORIZONTAL,0,100,50);\r\n\r\n    restrictionDropdown = new JComboBox&lt;&gt;(user.getPreferences().allergies);\r\n    restrictionDropdown.setLocation(200,300);\r\n    restrictionDropdown.setSize(100,100);\r\n    restrictionDropdown.addActionListener(actionListener);\r\n    restrictionDropdown.setEditable(true);\r\n    preferencesScreen.add(restrictionDropdown);\r\n\r\n\r\n\r\n\r\n    slider.setMajorTickSpacing(5);\r\n    slider.setPaintTicks(true);\r\n\r\n    backButton.setBounds(20,30,50,40);\r\n    slider.setBounds(300,140,160,50);\r\n\r\n    backButton.addActionListener(actionListener);\r\n\r\n    preferencesScreen.add(backButton);\r\n    preferencesScreen.add(slider);\r\n\r\n    frame.setVisible(true);\r\n\r\n\r\n\r\n}\r\n```\r\n\r\nThe restrictionDropdown will not appear on the screen along with the other two components. The class I am working out of extends JComponent. Additionally, when I try to add the combobox to the frame directly, it appears and takes up the entire frame despite setting a size and location.\r\n\r\nI&#39;ve tried changing the border layout to flow, I&#39;ve tried using setSize and setLocation instead of setBounds, I tried changing the order of the method calls to the combobox, I tried declaring the combobox inside the given method. I tried using the frame instead of the panel itself(see above). None of these except for the last thing caused the combobox to appear","title":"JComboBox does not appear in JPanel","body":"<pre><code>public void preferencesScreen(){\n    preferencesScreen = new JPanel();\n    preferencesScreen.setLayout(null);\n    preferencesScreen.setBounds(0,0,500,1000);\n\n    backButton = new JButton(&quot;&lt;-&quot;);\n    slider = new JSlider(JSlider.HORIZONTAL,0,100,50);\n\n    restrictionDropdown = new JComboBox&lt;&gt;(user.getPreferences().allergies);\n    restrictionDropdown.setLocation(200,300);\n    restrictionDropdown.setSize(100,100);\n    restrictionDropdown.addActionListener(actionListener);\n    restrictionDropdown.setEditable(true);\n    preferencesScreen.add(restrictionDropdown);\n\n\n\n\n    slider.setMajorTickSpacing(5);\n    slider.setPaintTicks(true);\n\n    backButton.setBounds(20,30,50,40);\n    slider.setBounds(300,140,160,50);\n\n    backButton.addActionListener(actionListener);\n\n    preferencesScreen.add(backButton);\n    preferencesScreen.add(slider);\n\n    frame.setVisible(true);\n\n\n\n}\n</code></pre>\n<p>The restrictionDropdown will not appear on the screen along with the other two components. The class I am working out of extends JComponent. Additionally, when I try to add the combobox to the frame directly, it appears and takes up the entire frame despite setting a size and location.</p>\n<p>I've tried changing the border layout to flow, I've tried using setSize and setLocation instead of setBounds, I tried changing the order of the method calls to the combobox, I tried declaring the combobox inside the given method. I tried using the frame instead of the panel itself(see above). None of these except for the last thing caused the combobox to appear</p>\n"},{"tags":["java","android","autofill","android-autofill-manager","password-autofill"],"answers":[{"tags":[],"owner":{"account_id":27275922,"reputation":1,"user_id":20796539,"display_name":"peri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671569960,"creation_date":1671569960,"answer_id":74868845,"question_id":73414175,"body_markdown":"I don&#39;t believe `viewNode` will have any associated autofill hints. Instead, it&#39;s the children that have hints associated (i.e. each fillable field rather than the entire frame). Try printing out autofill hints associated with each `childNode` instead.","title":"How can I get the AutoFillHint/HintText/Text from another app structure?","body":"<p>I don't believe <code>viewNode</code> will have any associated autofill hints. Instead, it's the children that have hints associated (i.e. each fillable field rather than the entire frame). Try printing out autofill hints associated with each <code>childNode</code> instead.</p>\n"}],"owner":{"account_id":26085412,"reputation":11,"user_id":19783011,"display_name":"nicofighter45"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671569960,"creation_date":1660899017,"question_id":73414175,"body_markdown":"I&#39;m creating an **AutoFillService** on my android password management app (using java).\r\n\r\nI have followed this [turotial][1]\r\n\r\nWhile my service is trying to get the content of another app, it seems like it **can&#39;t detect AutofillHint, Hint and Text** inside the fields.\r\n\r\nHere is my code inside the onFillRequest method from AutoFillService superclass :\r\n```java\r\n// Get the structure from the request\r\nList&lt;FillContext&gt; context = request.getFillContexts();\r\nAssistStructure structure = context.get(context.size() - 1).getStructure();\r\nthis.appToFillName = structure.getActivityComponent().getPackageName();\r\nSystem.out.println(&quot;Fill request : &quot; + this.appToFillName);\r\n// Traverse the structure looking for nodes to fill out.\r\nint nodes = structure.getWindowNodeCount();\r\nfor (int i = 0; i &lt; nodes; i++) {\r\n    AssistStructure.ViewNode viewNode = \r\n    structure.getWindowNodeAt(i).getRootViewNode();\r\n    traverseNode(viewNode);\r\n}\r\n```\r\nAnd then I go through the node with my traverseNode method :\r\n```java\r\npublic void traverseNode(@NonNull AssistStructure.ViewNode viewNode) {\r\n    //my problem is that I see null objects/nothing coming out of this print function\r\n    //even when I&#39;m on an app where I know there are field with AutofillHints\r\n    System.out.println(Arrays.toString(viewNode.getAutofillHints()) + &quot;\\n&quot; + viewNode.getHint() + &quot;\\n&quot; + viewNode.getText());\r\n    //here I have some methods to link the autofillId when I detect a field to fill ...\r\n    for (int i = 0; i &lt; viewNode.getChildCount(); i++) {\r\n        AssistStructure.ViewNode childNode = viewNode.getChildAt(i);\r\n        traverseNode(childNode);\r\n    }\r\n}\r\n```\r\n\r\nThank&#39;s for your help !\r\n\r\n  [1]: https://developer.android.com/guide/topics/text/autofill-services","title":"How can I get the AutoFillHint/HintText/Text from another app structure?","body":"<p>I'm creating an <strong>AutoFillService</strong> on my android password management app (using java).</p>\n<p>I have followed this <a href=\"https://developer.android.com/guide/topics/text/autofill-services\" rel=\"nofollow noreferrer\">turotial</a></p>\n<p>While my service is trying to get the content of another app, it seems like it <strong>can't detect AutofillHint, Hint and Text</strong> inside the fields.</p>\n<p>Here is my code inside the onFillRequest method from AutoFillService superclass :</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Get the structure from the request\nList&lt;FillContext&gt; context = request.getFillContexts();\nAssistStructure structure = context.get(context.size() - 1).getStructure();\nthis.appToFillName = structure.getActivityComponent().getPackageName();\nSystem.out.println(&quot;Fill request : &quot; + this.appToFillName);\n// Traverse the structure looking for nodes to fill out.\nint nodes = structure.getWindowNodeCount();\nfor (int i = 0; i &lt; nodes; i++) {\n    AssistStructure.ViewNode viewNode = \n    structure.getWindowNodeAt(i).getRootViewNode();\n    traverseNode(viewNode);\n}\n</code></pre>\n<p>And then I go through the node with my traverseNode method :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void traverseNode(@NonNull AssistStructure.ViewNode viewNode) {\n    //my problem is that I see null objects/nothing coming out of this print function\n    //even when I'm on an app where I know there are field with AutofillHints\n    System.out.println(Arrays.toString(viewNode.getAutofillHints()) + &quot;\\n&quot; + viewNode.getHint() + &quot;\\n&quot; + viewNode.getText());\n    //here I have some methods to link the autofillId when I detect a field to fill ...\n    for (int i = 0; i &lt; viewNode.getChildCount(); i++) {\n        AssistStructure.ViewNode childNode = viewNode.getChildAt(i);\n        traverseNode(childNode);\n    }\n}\n</code></pre>\n<p>Thank's for your help !</p>\n"},{"tags":["java","android","android-studio","deprecated"],"answers":[{"tags":[],"owner":{"account_id":4787734,"reputation":2768,"user_id":3867722,"accept_rate":71,"display_name":"hopeman"},"down_vote_count":0,"up_vote_count":128,"is_accepted":true,"score":128,"last_activity_date":1621519116,"creation_date":1452848734,"answer_id":34807565,"question_id":34807147,"body_markdown":"If it helps someone else heres the answer to my question:\r\n\r\nIf you go to *Analyze* -&gt; *Inspect Code...*\r\n\r\nWhen your project has been inspected click on *Code maturity issues* and tada, there is a list of all Deprecated API usages :)\r\n\r\n**UPDATE: May 2021**\r\n\r\nDeprecation warnings are now found under your respective language.\r\n\r\n**Kotlin** -&gt; *Migration* -&gt; *Usage of redundant or deprecated syntax or deprecated symbols*\r\n\r\n[![Kotlin deprecation][1]][1]\r\n\r\n\r\n**Java** -&gt; *Code maturity*\r\n\r\n[![Java deprecation][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/k9C7p.png\r\n  [2]: https://i.stack.imgur.com/kYlYq.png","title":"Display classes containing deprecation Android Studio","body":"<p>If it helps someone else heres the answer to my question:</p>\n<p>If you go to <em>Analyze</em> -&gt; <em>Inspect Code...</em></p>\n<p>When your project has been inspected click on <em>Code maturity issues</em> and tada, there is a list of all Deprecated API usages :)</p>\n<p><strong>UPDATE: May 2021</strong></p>\n<p>Deprecation warnings are now found under your respective language.</p>\n<p><strong>Kotlin</strong> -&gt; <em>Migration</em> -&gt; <em>Usage of redundant or deprecated syntax or deprecated symbols</em></p>\n<p><a href=\"https://i.stack.imgur.com/k9C7p.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/k9C7p.png\" alt=\"Kotlin deprecation\" /></a></p>\n<p><strong>Java</strong> -&gt; <em>Code maturity</em></p>\n<p><a href=\"https://i.stack.imgur.com/kYlYq.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/kYlYq.png\" alt=\"Java deprecation\" /></a></p>\n"},{"tags":[],"owner":{"account_id":5965018,"reputation":759,"user_id":4688991,"display_name":"Sidhu Gaikwad"},"down_vote_count":1,"up_vote_count":74,"is_accepted":false,"score":73,"last_activity_date":1671569608,"creation_date":1466234945,"answer_id":37894469,"question_id":34807147,"body_markdown":"Follow below steps:\r\n **Go to Analyze -&gt; Run Inspectinon By Name -&gt;type Deprecated API Usage**\r\n\r\nIn the latest Android Studio 2021.3.1+\r\n**Go to Code -&gt; Analyze Code -&gt; Run Inspectinon By Name -&gt;type Deprecated API Usage**","title":"Display classes containing deprecation Android Studio","body":"<p>Follow below steps:\n<strong>Go to Analyze -&gt; Run Inspectinon By Name -&gt;type Deprecated API Usage</strong></p>\n<p>In the latest Android Studio 2021.3.1+\n<strong>Go to Code -&gt; Analyze Code -&gt; Run Inspectinon By Name -&gt;type Deprecated API Usage</strong></p>\n"},{"tags":[],"owner":{"account_id":3482475,"reputation":27230,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1627399365,"creation_date":1611334610,"answer_id":65849452,"question_id":34807147,"body_markdown":"Looking at https://stackoverflow.com/questions/49711773/how-to-recompile-with-xlintdeprecation, add into *root* `build.gradle`:\r\n\r\n    allprojects {\r\n        ...\r\n        gradle.projectsEvaluated {\r\n            tasks.withType(JavaCompile) {\r\n                options.encoding = &#39;UTF-8&#39;\r\n                options.compilerArgs &lt;&lt; &quot;-Xlint:deprecation&quot;\r\n            }\r\n        }\r\n    }\r\n\r\nor in `build.gradle.kts`:\r\n\r\n    allprojects {\r\n        ...\r\n        gradle.projectsEvaluated {\r\n            tasks.withType&lt;JavaCompile&gt; {\r\n                options.compilerArgs.add(&quot;-Xlint:deprecation&quot;)\r\n            }\r\n        }\r\n    }\r\n\r\nThen start in Terminal:\r\n\r\n    ./gradlew lint\r\n\r\nor in `Gradle` menu:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIt will show warnings, but also can fail after 3 errors:\r\n\r\n&gt; Caused by: org.gradle.api.GradleException: Lint found errors in the project;\r\n&gt; aborting build.\r\n&gt; \r\n&gt; Fix the issues identified by lint, or add the following to your build\r\n&gt; script to proceed with errors:\r\n&gt; \r\n&gt;     android {\r\n&gt;         lintOptions {\r\n&gt;             abortOnError false\r\n&gt;         }\r\n&gt;     }\r\n&gt; \r\n&gt; The first 3 errors (out of 4) were:\r\n\r\nAdding these lines in `app/build.gradle` won&#39;t help. You should fix all errors and try to launch `Lint` again.\r\n\r\nIf you have many errors, you can show [all][2] of [them][3]:\r\n\r\n    android { \r\n        lintOptions { \r\n            // abortOnError false \r\n            // if true, stop the gradle build if errors are found\r\n            isAbortOnError = false\r\n            // if true, show all locations for an error, do not truncate lists, etc.\r\n            isShowAll = true\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WkhPh.png\r\n  [2]: https://stackoverflow.com/questions/20699147/gradle-build-fails-on-lint-task\r\n  [3]: https://developer.android.com/reference/tools/gradle-api/7.1/com/android/build/api/dsl/LintOptions","title":"Display classes containing deprecation Android Studio","body":"<p>Looking at <a href=\"https://stackoverflow.com/questions/49711773/how-to-recompile-with-xlintdeprecation\">How to recompile with -Xlint:deprecation</a>, add into <em>root</em> <code>build.gradle</code>:</p>\n<pre><code>allprojects {\n    ...\n    gradle.projectsEvaluated {\n        tasks.withType(JavaCompile) {\n            options.encoding = 'UTF-8'\n            options.compilerArgs &lt;&lt; &quot;-Xlint:deprecation&quot;\n        }\n    }\n}\n</code></pre>\n<p>or in <code>build.gradle.kts</code>:</p>\n<pre><code>allprojects {\n    ...\n    gradle.projectsEvaluated {\n        tasks.withType&lt;JavaCompile&gt; {\n            options.compilerArgs.add(&quot;-Xlint:deprecation&quot;)\n        }\n    }\n}\n</code></pre>\n<p>Then start in Terminal:</p>\n<pre><code>./gradlew lint\n</code></pre>\n<p>or in <code>Gradle</code> menu:</p>\n<p><a href=\"https://i.stack.imgur.com/WkhPh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WkhPh.png\" alt=\"enter image description here\" /></a></p>\n<p>It will show warnings, but also can fail after 3 errors:</p>\n<blockquote>\n<p>Caused by: org.gradle.api.GradleException: Lint found errors in the project;\naborting build.</p>\n<p>Fix the issues identified by lint, or add the following to your build\nscript to proceed with errors:</p>\n<pre><code>android {\n    lintOptions {\n        abortOnError false\n    }\n}\n</code></pre>\n<p>The first 3 errors (out of 4) were:</p>\n</blockquote>\n<p>Adding these lines in <code>app/build.gradle</code> won't help. You should fix all errors and try to launch <code>Lint</code> again.</p>\n<p>If you have many errors, you can show <a href=\"https://stackoverflow.com/questions/20699147/gradle-build-fails-on-lint-task\">all</a> of <a href=\"https://developer.android.com/reference/tools/gradle-api/7.1/com/android/build/api/dsl/LintOptions\" rel=\"nofollow noreferrer\">them</a>:</p>\n<pre><code>android { \n    lintOptions { \n        // abortOnError false \n        // if true, stop the gradle build if errors are found\n        isAbortOnError = false\n        // if true, show all locations for an error, do not truncate lists, etc.\n        isShowAll = true\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3147269,"reputation":10469,"user_id":3075340,"accept_rate":70,"display_name":"Micro"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663111680,"creation_date":1663111680,"answer_id":73710036,"question_id":34807147,"body_markdown":"Right click on your app folder (module) with &quot;Android&quot; selected in the Project explorer and then go to **Analyze** -&gt; **Inspect Code...**\r\n\r\nIt will run for a few minutes and then show you deprecated classes as well as other things you might want to fix.","title":"Display classes containing deprecation Android Studio","body":"<p>Right click on your app folder (module) with &quot;Android&quot; selected in the Project explorer and then go to <strong>Analyze</strong> -&gt; <strong>Inspect Code...</strong></p>\n<p>It will run for a few minutes and then show you deprecated classes as well as other things you might want to fix.</p>\n"}],"owner":{"account_id":4787734,"reputation":2768,"user_id":3867722,"accept_rate":71,"display_name":"hopeman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36872,"favorite_count":0,"down_vote_count":1,"up_vote_count":76,"accepted_answer_id":34807565,"answer_count":4,"score":75,"last_activity_date":1671569608,"creation_date":1452847270,"question_id":34807147,"body_markdown":"I updated my project to the latest Android APIs and the project now has multiple deprecated methods. Does Android Studio have a cool way of listing all classes containing said methods, such as the TODO window? I know I can go through every class and search methodically through the code, but I would rather like to make it easy on myself.","title":"Display classes containing deprecation Android Studio","body":"<p>I updated my project to the latest Android APIs and the project now has multiple deprecated methods. Does Android Studio have a cool way of listing all classes containing said methods, such as the TODO window? I know I can go through every class and search methodically through the code, but I would rather like to make it easy on myself.</p>\n"},{"tags":["java","eclipse","swing","debugging","intellij-idea"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1671362927,"post_id":74840089,"comment_id":132079484,"body_markdown":"hmm .. don&#39;t quite understand what you _do_ know? the &quot;special&quot; button: is it a custom class or a single/multiple instance? Are they all using the same instance of handler or just duplicated code scattered across? Could you add a (pseudo-) code snippet to clarify the exact context? Whatever, in Eclipse we have a &quot;find users of&quot; (in mine shift-ctrl-G) which might (or not ;) be helpful. Good luck!","body":"hmm .. don&#39;t quite understand what you <i>do</i> know? the &quot;special&quot; button: is it a custom class or a single/multiple instance? Are they all using the same instance of handler or just duplicated code scattered across? Could you add a (pseudo-) code snippet to clarify the exact context? Whatever, in Eclipse we have a &quot;find users of&quot; (in mine shift-ctrl-G) which might (or not ;) be helpful. Good luck!"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1671371581,"post_id":74840089,"comment_id":132080980,"body_markdown":"Do these folders and subfolders have names?  Do any of the package names have the word &quot;controller&quot; as part of the name?","body":"Do these folders and subfolders have names?  Do any of the package names have the word &quot;controller&quot; as part of the name?"}],"answers":[{"tags":[],"owner":{"account_id":4051422,"reputation":6543,"user_id":3330840,"accept_rate":56,"display_name":"user3330840"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671439960,"creation_date":1671439406,"answer_id":74848012,"question_id":74840089,"body_markdown":"It appears that there is no known command, API, IDEs, or debuggers that allow to set breakpoints on global events for Java yet.\r\n\r\nSo, manually pausing the debugger in the beginning and going through the cycle of pausing, continuing, stepping in, and stepping out seems to be the only solution at the moment to step into the event handler code.\r\n\r\n","title":"Java Swing or AWT API - Setting breakpoint on global mouse click events without specifying line numbers","body":"<p>It appears that there is no known command, API, IDEs, or debuggers that allow to set breakpoints on global events for Java yet.</p>\n<p>So, manually pausing the debugger in the beginning and going through the cycle of pausing, continuing, stepping in, and stepping out seems to be the only solution at the moment to step into the event handler code.</p>\n"}],"owner":{"account_id":4051422,"reputation":6543,"user_id":3330840,"accept_rate":56,"display_name":"user3330840"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74848012,"answer_count":1,"score":-1,"last_activity_date":1671569334,"creation_date":1671353097,"question_id":74840089,"body_markdown":"Most browser dev tools allow to set breakpoints on mouse events (without having to specify the source code line numbers) for JavaScript which can be used to find the handler(s) being executed when the event occurs.\r\n\r\nDoes something similar in functionality for Java (Swing or AWT API) exist? Or are there any commands or APIs or IDEs to accomplish this?","title":"Java Swing or AWT API - Setting breakpoint on global mouse click events without specifying line numbers","body":"<p>Most browser dev tools allow to set breakpoints on mouse events (without having to specify the source code line numbers) for JavaScript which can be used to find the handler(s) being executed when the event occurs.</p>\n<p>Does something similar in functionality for Java (Swing or AWT API) exist? Or are there any commands or APIs or IDEs to accomplish this?</p>\n"},{"tags":["java","jar","spigot"],"comments":[{"owner":{"account_id":14679090,"reputation":1358,"user_id":10601203,"display_name":"Jesse"},"score":0,"creation_date":1671569659,"post_id":74868702,"comment_id":132126665,"body_markdown":"If you&#39;re able to compile a single file into a .class file, you could simply open the jar as a zip  using something like 7zip and replace the existing .class file with yours. If you&#39;re wanting to be able to edit the project as a whole, your only option would be to decompile it, save the decompiled code to a folder, then create a build configuration and fix any compilation errors. I&#39;ve done the second option before with success, but the larger and more complicated the project is, the harder and more time consuming it is to get it to build.","body":"If you&#39;re able to compile a single file into a .class file, you could simply open the jar as a zip  using something like 7zip and replace the existing .class file with yours. If you&#39;re wanting to be able to edit the project as a whole, your only option would be to decompile it, save the decompiled code to a folder, then create a build configuration and fix any compilation errors. I&#39;ve done the second option before with success, but the larger and more complicated the project is, the harder and more time consuming it is to get it to build."},{"owner":{"account_id":27311482,"reputation":1,"user_id":20826566,"display_name":"Colors"},"score":0,"creation_date":1671569976,"post_id":74868702,"comment_id":132126742,"body_markdown":"@Jesse I decompiled the jar to a folder, forgot to mention that. And my main problem is to build the jar.","body":"@Jesse I decompiled the jar to a folder, forgot to mention that. And my main problem is to build the jar."},{"owner":{"account_id":14679090,"reputation":1358,"user_id":10601203,"display_name":"Jesse"},"score":0,"creation_date":1671570401,"post_id":74868702,"comment_id":132126862,"body_markdown":"Right. You&#39;ll have to fix the compiler errors like I mentioned. Decompiling is not exact and very often results in code that can&#39;t be re-compiled.","body":"Right. You&#39;ll have to fix the compiler errors like I mentioned. Decompiling is not exact and very often results in code that can&#39;t be re-compiled."}],"owner":{"account_id":27311482,"reputation":1,"user_id":20826566,"display_name":"Colors"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671569086,"creation_date":1671569086,"question_id":74868702,"body_markdown":"My friend asked me if I can make some changes to pluggins he send me. I tried googeling them to find the sorcecode somewhere. Sadly it seems that they are not open scource.\r\n\r\nSo I started decompiling the jar(s) and made the changes in the .class files with IntelliJ.\r\nNow is my question how I can compile it back to a .jar file. Normaly I used maven to build the plugins. But because it isn&#39;t a maven project this doesn&#39;t work.\r\n\r\nI tried creating the jar with:\r\n\r\n```\r\njar cvf plugin.jar .\r\n```\r\nbut this gives me the error `Cannot find main class`\r\n","title":"Edit minecraft pluggin from jar and","body":"<p>My friend asked me if I can make some changes to pluggins he send me. I tried googeling them to find the sorcecode somewhere. Sadly it seems that they are not open scource.</p>\n<p>So I started decompiling the jar(s) and made the changes in the .class files with IntelliJ.\nNow is my question how I can compile it back to a .jar file. Normaly I used maven to build the plugins. But because it isn't a maven project this doesn't work.</p>\n<p>I tried creating the jar with:</p>\n<pre><code>jar cvf plugin.jar .\n</code></pre>\n<p>but this gives me the error <code>Cannot find main class</code></p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":1336108,"reputation":8046,"user_id":1278839,"accept_rate":69,"display_name":"CodeChimp"},"score":2,"creation_date":1363617387,"post_id":15479213,"comment_id":21909165,"body_markdown":"I think [this answer][1] might help.\r\n\r\n\r\n  [1]: http://stackoverflow.com/questions/1483063/spring-mvc-3-and-handling-static-content-am-i-missing-something","body":"I think [this answer][1] might help.        [1]: <a href=\"http://stackoverflow.com/questions/1483063/spring-mvc-3-and-handling-static-content-am-i-missing-something\" title=\"spring mvc 3 and handling static content am i missing something\">stackoverflow.com/questions/1483063/&hellip;</a>"},{"owner":{"account_id":199895,"reputation":10891,"user_id":445468,"accept_rate":50,"display_name":"Gleeb"},"score":0,"creation_date":1363618839,"post_id":15479213,"comment_id":21910100,"body_markdown":"No this is not what i would like to do. i would like to have myself a folder just as i would if i would have programmed the website static content with notepad++. folder that holds my index.html and all content is relative to that index.html","body":"No this is not what i would like to do. i would like to have myself a folder just as i would if i would have programmed the website static content with notepad++. folder that holds my index.html and all content is relative to that index.html"}],"answers":[{"tags":[],"owner":{"account_id":1928622,"reputation":259,"user_id":1738516,"accept_rate":38,"display_name":"AnilHoney"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363617444,"creation_date":1363617444,"answer_id":15479442,"question_id":15479213,"body_markdown":"change p:suffix=&quot;.jsp&quot;  value acordingly otherwise we can develope custom view resolver \r\n\r\n[http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/web/servlet/view/UrlBasedViewResolver.html][1]\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/web/servlet/view/UrlBasedViewResolver.html","title":"How to serve .html files with Spring","body":"<p>change p:suffix=\".jsp\"  value acordingly otherwise we can develope custom view resolver </p>\n\n<p><a href=\"http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/web/servlet/view/UrlBasedViewResolver.html\" rel=\"nofollow\">http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/web/servlet/view/UrlBasedViewResolver.html</a></p>\n"},{"tags":[],"owner":{"account_id":289963,"reputation":2107,"user_id":591234,"accept_rate":50,"display_name":"Sashi"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1363622029,"creation_date":1363618573,"answer_id":15479861,"question_id":15479213,"body_markdown":"You can still continue to use the same View resolver but set the suffix to empty. \r\n\r\n\r\n    &lt;bean id=&quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot; \r\n        p:prefix=&quot;/WEB-INF/jsp/&quot; p:suffix=&quot;&quot; /&gt;\r\n\r\n\r\nNow your code can choose to return either index.html or index.jsp as shown in below sample - \r\n\r\n\r\n    @RequestMapping(value=&quot;jsp&quot;, method = RequestMethod.GET )\r\n    public String startJsp(){\r\n    \treturn &quot;/test.jsp&quot;;\r\n    }\r\n    \r\n    @RequestMapping(value=&quot;html&quot;, method = RequestMethod.GET )\r\n    public String startHtml(){\r\n    \treturn &quot;/test.html&quot;;\r\n    }\t\r\n\r\n","title":"How to serve .html files with Spring","body":"<p>You can still continue to use the same View resolver but set the suffix to empty. </p>\n\n<pre><code>&lt;bean id=\"viewResolver\" class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\" \n    p:prefix=\"/WEB-INF/jsp/\" p:suffix=\"\" /&gt;\n</code></pre>\n\n<p>Now your code can choose to return either index.html or index.jsp as shown in below sample - </p>\n\n<pre><code>@RequestMapping(value=\"jsp\", method = RequestMethod.GET )\npublic String startJsp(){\n    return \"/test.jsp\";\n}\n\n@RequestMapping(value=\"html\", method = RequestMethod.GET )\npublic String startHtml(){\n    return \"/test.html\";\n}   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":319894,"reputation":43513,"user_id":637889,"accept_rate":93,"display_name":"andyb"},"down_vote_count":0,"up_vote_count":105,"is_accepted":true,"score":105,"last_activity_date":1417953993,"creation_date":1363619874,"answer_id":15480301,"question_id":15479213,"body_markdown":"The initial problem is that the the configuration specifies a property `suffix=&quot;.jsp&quot;` so the ViewResolver implementing class will add `.jsp` to the end of the view name being returned from your method.\r\n\r\nHowever since you commented out the `InternalResourceViewResolver` then, depending on the rest of your application configuration, there might not be any other ViewResolver registered. You might find that nothing is working now.\r\n\r\nSince `.html` files are _static_ and do not require processing by a servlet then it is more efficient, and simpler, to use an [`&lt;mvc:resources/&gt;` mapping][1]. This requires Spring 3.0.4+.\r\n\r\nFor example:\r\n\r\n    &lt;mvc:resources mapping=&quot;/static/**&quot; location=&quot;/static/&quot; /&gt;\r\n\r\nwhich would _pass through_ all requests starting with `/static/ ` to the `webapp/static/` directory.\r\n\r\nSo by putting `index.html` in `webapp/static/` and using `return &quot;static/index.html&quot;;` from your method, Spring should find the view.\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.2.x/spring-framework-reference/html/mvc.html#mvc-config-static-resources","title":"How to serve .html files with Spring","body":"<p>The initial problem is that the the configuration specifies a property <code>suffix=\".jsp\"</code> so the ViewResolver implementing class will add <code>.jsp</code> to the end of the view name being returned from your method.</p>\n\n<p>However since you commented out the <code>InternalResourceViewResolver</code> then, depending on the rest of your application configuration, there might not be any other ViewResolver registered. You might find that nothing is working now.</p>\n\n<p>Since <code>.html</code> files are <em>static</em> and do not require processing by a servlet then it is more efficient, and simpler, to use an <a href=\"http://static.springsource.org/spring/docs/3.2.x/spring-framework-reference/html/mvc.html#mvc-config-static-resources\"><code>&lt;mvc:resources/&gt;</code> mapping</a>. This requires Spring 3.0.4+.</p>\n\n<p>For example:</p>\n\n<pre><code>&lt;mvc:resources mapping=\"/static/**\" location=\"/static/\" /&gt;\n</code></pre>\n\n<p>which would <em>pass through</em> all requests starting with <code>/static/</code> to the <code>webapp/static/</code> directory.</p>\n\n<p>So by putting <code>index.html</code> in <code>webapp/static/</code> and using <code>return \"static/index.html\";</code> from your method, Spring should find the view.</p>\n"},{"tags":[],"owner":{"account_id":423574,"reputation":1477,"user_id":803050,"accept_rate":61,"display_name":"Ivan"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1386072428,"creation_date":1386072428,"answer_id":20350760,"question_id":15479213,"body_markdown":"I&#39;d just add that you don&#39;t need to implement a controller method for that as you can use the **view-controller** tag (Spring 3) in the servlet configuration file:\r\n\r\n    &lt;mvc:view-controller path=&quot;/&quot; view-name=&quot;/WEB-INF/jsp/index.html&quot;/&gt;\r\n\r\n","title":"How to serve .html files with Spring","body":"<p>I'd just add that you don't need to implement a controller method for that as you can use the <strong>view-controller</strong> tag (Spring 3) in the servlet configuration file:</p>\n\n<pre><code>&lt;mvc:view-controller path=\"/\" view-name=\"/WEB-INF/jsp/index.html\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":229478,"reputation":4806,"user_id":1874113,"accept_rate":67,"display_name":"walkeros"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1442487394,"creation_date":1442487394,"answer_id":32628660,"question_id":15479213,"body_markdown":"**Background of the problem** \r\n\r\nFirst thing to understand is following: it is NOT spring which renders the jsp files. It is JspServlet (org.apache.jasper.servlet.JspServlet) which does it. This servlet comes with Tomcat (jasper compiler) not with spring. This JspServlet is aware how to compile jsp page and how to return it as html text to the client. The JspServlet in tomcat by default only handles requests matching two patterns: *.jsp and *.jspx.\r\n\r\nNow when spring renders the view with `InternalResourceView` (or `JstlView`), three things really takes place:\r\n\r\n1. get all the model parameters from model (returned by your controller handler method i.e. `&quot;public ModelAndView doSomething() { return new ModelAndView(&quot;home&quot;) }&quot;`)\r\n2. expose these model parameters as request attributes (so that it can be read by JspServlet)\r\n3. forward request to JspServlet. `RequestDispatcher` knows that each *.jsp request should be forwarded to JspServlet (because this is default tomcat&#39;s configuration)\r\n\r\nWhen you simply change the view name to home.html tomcat will *not* know how to handle the request. This is because there is no servlet handling *.html requests.\r\n\r\n**Solution**\r\n\r\nHow to solve this. There are three most obvious solutions:\r\n\r\n1. expose the html as a resource file \r\n2. instruct the JspServlet to also handle *.html requests\r\n3. write your own servlet (or pass to another existing servlet requests to *.html). \r\n\r\nFor complete code examples how to achieve this please reffer to my answer in another post: https://stackoverflow.com/questions/16598594/how-to-map-requests-to-html-file-in-spring-mvc/32628600#32628600","title":"How to serve .html files with Spring","body":"<p><strong>Background of the problem</strong> </p>\n\n<p>First thing to understand is following: it is NOT spring which renders the jsp files. It is JspServlet (org.apache.jasper.servlet.JspServlet) which does it. This servlet comes with Tomcat (jasper compiler) not with spring. This JspServlet is aware how to compile jsp page and how to return it as html text to the client. The JspServlet in tomcat by default only handles requests matching two patterns: *.jsp and *.jspx.</p>\n\n<p>Now when spring renders the view with <code>InternalResourceView</code> (or <code>JstlView</code>), three things really takes place:</p>\n\n<ol>\n<li>get all the model parameters from model (returned by your controller handler method i.e. <code>\"public ModelAndView doSomething() { return new ModelAndView(\"home\") }\"</code>)</li>\n<li>expose these model parameters as request attributes (so that it can be read by JspServlet)</li>\n<li>forward request to JspServlet. <code>RequestDispatcher</code> knows that each *.jsp request should be forwarded to JspServlet (because this is default tomcat's configuration)</li>\n</ol>\n\n<p>When you simply change the view name to home.html tomcat will <em>not</em> know how to handle the request. This is because there is no servlet handling *.html requests.</p>\n\n<p><strong>Solution</strong></p>\n\n<p>How to solve this. There are three most obvious solutions:</p>\n\n<ol>\n<li>expose the html as a resource file </li>\n<li>instruct the JspServlet to also handle *.html requests</li>\n<li>write your own servlet (or pass to another existing servlet requests to *.html). </li>\n</ol>\n\n<p>For complete code examples how to achieve this please reffer to my answer in another post: <a href=\"https://stackoverflow.com/questions/16598594/how-to-map-requests-to-html-file-in-spring-mvc/32628600#32628600\">How to map requests to HTML file in Spring MVC?</a></p>\n"},{"tags":[],"owner":{"account_id":146355,"reputation":529,"user_id":356754,"accept_rate":70,"display_name":"BreakerOfStones"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1466808317,"creation_date":1466808317,"answer_id":38023102,"question_id":15479213,"body_markdown":"It sounds like you are trying to do something like this:\r\n\r\n* Static HTML views\r\n* Spring controllers serving AJAX \r\n\r\nIf that is the case, as previously mentioned, the most efficient way is to let the web server(not Spring) handle HTML requests as static resources. So you&#39;ll want the following:\r\n\r\n 1. Forward all .html, .css, .js, .png, etc requests to the\r\n    webserver&#39;s resource handler\r\n 2. Map all other requests to spring controllers\r\n\r\n\r\n\r\n\r\nHere is one way to accomplish that...\r\n\r\n**web.xml** - Map servlet to root (/)\r\n\r\n    &lt;servlet&gt;\r\n    \t\t\t&lt;servlet-name&gt;sprung&lt;/servlet-name&gt;\r\n    \t\t\t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n                ...\r\n    &lt;servlet&gt;\r\n\r\n    &lt;servlet-mapping&gt;\r\n\t\t\t\t&lt;servlet-name&gt;sprung&lt;/servlet-name&gt;\r\n\t\t\t\t&lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;\r\n\r\n\r\n**Spring JavaConfig**\r\n\r\n    public class SpringSprungConfig extends DelegatingWebMvcConfiguration {\r\n    \r\n    \t// Delegate resource requests to default servlet\r\n    \t@Bean\r\n    \tprotected DefaultServletHttpRequestHandler defaultServletHttpRequestHandler() {\r\n    \t\tDefaultServletHttpRequestHandler dsrh = new DefaultServletHttpRequestHandler();\r\n    \t\treturn dsrh;\r\n    \t}\r\n    \r\n        //map static resources by extension\r\n        @Bean\r\n    \tpublic SimpleUrlHandlerMapping resourceServletMapping() {\r\n    \t\tSimpleUrlHandlerMapping mapping = new SimpleUrlHandlerMapping();\r\n            \r\n            //make sure static resources are mapped first since we are using\r\n            //a slightly different approach\r\n    \t\tmapping.setOrder(0);\r\n    \t\tProperties urlProperties = new Properties();\r\n    \t\turlProperties.put(&quot;/**/*.css&quot;, &quot;defaultServletHttpRequestHandler&quot;);\r\n    \t\turlProperties.put(&quot;/**/*.js&quot;, &quot;defaultServletHttpRequestHandler&quot;);\r\n    \t\turlProperties.put(&quot;/**/*.png&quot;, &quot;defaultServletHttpRequestHandler&quot;);\r\n    \t\turlProperties.put(&quot;/**/*.html&quot;, &quot;defaultServletHttpRequestHandler&quot;);\r\n    \t\turlProperties.put(&quot;/**/*.woff&quot;, &quot;defaultServletHttpRequestHandler&quot;);\r\n    \t\turlProperties.put(&quot;/**/*.ico&quot;, &quot;defaultServletHttpRequestHandler&quot;);\r\n    \t\tmapping.setMappings(urlProperties);\r\n    \t\treturn mapping;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \t@Bean\r\n    \tpublic RequestMappingHandlerMapping requestMappingHandlerMapping() {\r\n    \t\tRequestMappingHandlerMapping handlerMapping = super.requestMappingHandlerMapping();\r\n    \r\n            //controller mappings must be evaluated after the static resource requests\r\n    \t\thandlerMapping.setOrder(1);\r\n    \t\thandlerMapping.setInterceptors(this.getInterceptors());\r\n    \t    handlerMapping.setPathMatcher(this.getPathMatchConfigurer().getPathMatcher());\r\n    \t\thandlerMapping.setRemoveSemicolonContent(false);\r\n    \t\thandlerMapping.setUseSuffixPatternMatch(false);\r\n            //set other options here\r\n    \t\treturn handlerMapping;\r\n    \t}\r\n    }\r\n\r\n**Additional Considerations**\r\n\r\n - Hide .html extension - This is outside the scope of Spring if you are delegating the static resource requests.  Look into a URL rewriting filter.\r\n - Templating - You don&#39;t want to duplicate markup in every single HTML page for common elements.  This likely can&#39;t be done on the server if serving HTML as a static resource.  Look into a client-side *VC framework.  I&#39;m fan of YUI which has numerous templating mechanisms including Handlebars.","title":"How to serve .html files with Spring","body":"<p>It sounds like you are trying to do something like this:</p>\n\n<ul>\n<li>Static HTML views</li>\n<li>Spring controllers serving AJAX </li>\n</ul>\n\n<p>If that is the case, as previously mentioned, the most efficient way is to let the web server(not Spring) handle HTML requests as static resources. So you'll want the following:</p>\n\n<ol>\n<li>Forward all .html, .css, .js, .png, etc requests to the\nwebserver's resource handler</li>\n<li>Map all other requests to spring controllers</li>\n</ol>\n\n<p>Here is one way to accomplish that...</p>\n\n<p><strong>web.xml</strong> - Map servlet to root (/)</p>\n\n<pre><code>&lt;servlet&gt;\n            &lt;servlet-name&gt;sprung&lt;/servlet-name&gt;\n            &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n            ...\n&lt;servlet&gt;\n\n&lt;servlet-mapping&gt;\n            &lt;servlet-name&gt;sprung&lt;/servlet-name&gt;\n            &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n\n<p><strong>Spring JavaConfig</strong></p>\n\n<pre><code>public class SpringSprungConfig extends DelegatingWebMvcConfiguration {\n\n    // Delegate resource requests to default servlet\n    @Bean\n    protected DefaultServletHttpRequestHandler defaultServletHttpRequestHandler() {\n        DefaultServletHttpRequestHandler dsrh = new DefaultServletHttpRequestHandler();\n        return dsrh;\n    }\n\n    //map static resources by extension\n    @Bean\n    public SimpleUrlHandlerMapping resourceServletMapping() {\n        SimpleUrlHandlerMapping mapping = new SimpleUrlHandlerMapping();\n\n        //make sure static resources are mapped first since we are using\n        //a slightly different approach\n        mapping.setOrder(0);\n        Properties urlProperties = new Properties();\n        urlProperties.put(\"/**/*.css\", \"defaultServletHttpRequestHandler\");\n        urlProperties.put(\"/**/*.js\", \"defaultServletHttpRequestHandler\");\n        urlProperties.put(\"/**/*.png\", \"defaultServletHttpRequestHandler\");\n        urlProperties.put(\"/**/*.html\", \"defaultServletHttpRequestHandler\");\n        urlProperties.put(\"/**/*.woff\", \"defaultServletHttpRequestHandler\");\n        urlProperties.put(\"/**/*.ico\", \"defaultServletHttpRequestHandler\");\n        mapping.setMappings(urlProperties);\n        return mapping;\n    }\n\n    @Override\n    @Bean\n    public RequestMappingHandlerMapping requestMappingHandlerMapping() {\n        RequestMappingHandlerMapping handlerMapping = super.requestMappingHandlerMapping();\n\n        //controller mappings must be evaluated after the static resource requests\n        handlerMapping.setOrder(1);\n        handlerMapping.setInterceptors(this.getInterceptors());\n        handlerMapping.setPathMatcher(this.getPathMatchConfigurer().getPathMatcher());\n        handlerMapping.setRemoveSemicolonContent(false);\n        handlerMapping.setUseSuffixPatternMatch(false);\n        //set other options here\n        return handlerMapping;\n    }\n}\n</code></pre>\n\n<p><strong>Additional Considerations</strong></p>\n\n<ul>\n<li>Hide .html extension - This is outside the scope of Spring if you are delegating the static resource requests.  Look into a URL rewriting filter.</li>\n<li>Templating - You don't want to duplicate markup in every single HTML page for common elements.  This likely can't be done on the server if serving HTML as a static resource.  Look into a client-side *VC framework.  I'm fan of YUI which has numerous templating mechanisms including Handlebars.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":8722083,"reputation":11,"user_id":6524903,"display_name":"Animesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1470390320,"creation_date":1470369908,"answer_id":38780925,"question_id":15479213,"body_markdown":"&gt; I faced the same issue and tried various solutions to load the html\r\n&gt; page from Spring MVC, following solution worked for me\r\n  \r\n   Step-1 in server&#39;s web.xml comment these two lines\r\n\r\n    \r\n    &lt;!--     &lt;mime-mapping&gt;\r\n            &lt;extension&gt;htm&lt;/extension&gt;\r\n            &lt;mime-type&gt;text/html&lt;/mime-type&gt;\r\n        &lt;/mime-mapping&gt;--&gt; \r\n    &lt;!--     &lt;mime-mapping&gt;\r\n            &lt;extension&gt;html&lt;/extension&gt;\r\n            &lt;mime-type&gt;text/html&lt;/mime-type&gt;\r\n        &lt;/mime-mapping&gt;\r\n     --&gt;\r\n    \r\n   Step-2 enter following code in application&#39;s web xml\r\n    \r\n      &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;jsp&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;*.htm&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n    \r\n    \r\n   Step-3 create a static controller class \r\n    \r\n    @Controller \r\n    public class FrontController {\r\n    \t @RequestMapping(&quot;/landingPage&quot;) \r\n    \tpublic String getIndexPage() { \r\n    \treturn &quot;CompanyInfo&quot;; \r\n    \r\n    \t}\r\n    \t \r\n    }\r\n  Step-4 in the Spring configuration file change the suffix to .htm\r\n            &lt;property name=&quot;suffix&quot;&gt;\r\n                &lt;value&gt;.htm&lt;/value&gt;\r\n            &lt;/property&gt;\r\n    \r\n  Step-5 Rename page as .htm file and store it in WEB-INF and build/start the server \r\n    \r\n    localhost:8080/.../landingPage","title":"How to serve .html files with Spring","body":"<blockquote>\n  <p>I faced the same issue and tried various solutions to load the html\n  page from Spring MVC, following solution worked for me</p>\n</blockquote>\n\n<p>Step-1 in server's web.xml comment these two lines</p>\n\n<pre><code>&lt;!--     &lt;mime-mapping&gt;\n        &lt;extension&gt;htm&lt;/extension&gt;\n        &lt;mime-type&gt;text/html&lt;/mime-type&gt;\n    &lt;/mime-mapping&gt;--&gt; \n&lt;!--     &lt;mime-mapping&gt;\n        &lt;extension&gt;html&lt;/extension&gt;\n        &lt;mime-type&gt;text/html&lt;/mime-type&gt;\n    &lt;/mime-mapping&gt;\n --&gt;\n</code></pre>\n\n<p>Step-2 enter following code in application's web xml</p>\n\n<pre><code>  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;jsp&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;*.htm&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n\n<p>Step-3 create a static controller class </p>\n\n<pre><code>@Controller \npublic class FrontController {\n     @RequestMapping(\"/landingPage\") \n    public String getIndexPage() { \n    return \"CompanyInfo\"; \n\n    }\n\n}\n</code></pre>\n\n<p>Step-4 in the Spring configuration file change the suffix to .htm\n            \n                .htm\n            </p>\n\n<p>Step-5 Rename page as .htm file and store it in WEB-INF and build/start the server </p>\n\n<pre><code>localhost:8080/.../landingPage\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1965862,"reputation":3669,"user_id":1766166,"accept_rate":71,"display_name":"zygimantus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1492980438,"creation_date":1492980438,"answer_id":43576337,"question_id":15479213,"body_markdown":"Java configuration for html files (in this case index.html):\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class DispatcherConfig extends WebMvcConfigurerAdapter {\r\n    \r\n        @Override\r\n        public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n    \r\n            registry.addResourceHandler(&quot;/index.html&quot;).addResourceLocations(&quot;/index.html&quot;);\r\n        }\r\n    \r\n    }\r\n\r\n","title":"How to serve .html files with Spring","body":"<p>Java configuration for html files (in this case index.html):</p>\n\n<pre><code>@Configuration\n@EnableWebMvc\npublic class DispatcherConfig extends WebMvcConfigurerAdapter {\n\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n\n        registry.addResourceHandler(\"/index.html\").addResourceLocations(\"/index.html\");\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1139113,"reputation":18996,"user_id":1123501,"accept_rate":89,"display_name":"Georgios Syngouroglou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573279879,"creation_date":1573279879,"answer_id":58776874,"question_id":15479213,"body_markdown":"In case you use spring boot, you must not set the properties `spring.mvc.view.prefix` and `spring.mvc.view.suffix` in your application.properties file, instead configure the bean `ViewResolver` from a configuration class.\r\n  \r\napplication.properties  \r\n\r\n    # Configured in @Configuration GuestNav\r\n    #spring.mvc.view.prefix=/WEB-INF/views/\r\n    #spring.mvc.view.suffix=.jsp\r\n    # Live reload\r\n    spring.devtools.restart.additional-paths=.\r\n    # Better logging\r\n    server.tomcat.accesslog.directory=logs\r\n    server.tomcat.accesslog.file-date-format=yyyy-MM-dd\r\n    server.tomcat.accesslog.prefix=access_log\r\n    server.tomcat.accesslog.suffix=.log\r\n\r\nMain method  \r\n\r\n\t@SpringBootApplication\r\n\tpublic class WebApp extends SpringBootServletInitializer {\r\n\t\r\n\t\t@Override\r\n\t\tprotected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n\t\t\treturn application.sources(WebApp.class);\r\n\t\t}\r\n\t\r\n\t\tpublic static void main(String[] args) throws Exception {\r\n\t\t\tSpringApplication.run(WebApp.class, args);\r\n\t\t}\r\n\t\r\n\t}\r\n  \r\nConfiguration class\r\n  \r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class DispatcherConfig implements WebMvcConfigurer {\r\n    \r\n        @Override\r\n        public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n            registry.addResourceHandler(&quot;/views/**&quot;).addResourceLocations(&quot;/views/&quot;);\r\n        }\r\n    \r\n        @Bean\r\n        public ViewResolver viewResolver() {\r\n            InternalResourceViewResolver viewResolver = new InternalResourceViewResolver();\r\n            viewResolver.setViewClass(JstlView.class);\r\n            viewResolver.setPrefix(&quot;/WEB-INF/notinuse/&quot;);\r\n            viewResolver.setSuffix(&quot;&quot;);\r\n            return viewResolver;\r\n        }\r\n    \r\n    }\r\n  \r\nA controller class\r\n\r\n\t@Controller\r\n\tpublic class GuestNav {\r\n\t\r\n\t\t@GetMapping(&quot;/&quot;)\r\n\t\tpublic String home() {\r\n\t\t\treturn &quot;forward:/views/guest/index.html&quot;;\r\n\t\t}\r\n\t}\r\n\r\n\r\nYou must place your files in the directory `/webapp/views/guest/index.html`, be careful, the webapp directory is outside of the resources directory.  \r\nIn this way you may use the url patterns of spring-mvc but serve static context.","title":"How to serve .html files with Spring","body":"<p>In case you use spring boot, you must not set the properties <code>spring.mvc.view.prefix</code> and <code>spring.mvc.view.suffix</code> in your application.properties file, instead configure the bean <code>ViewResolver</code> from a configuration class.</p>\n\n<p>application.properties  </p>\n\n<pre><code># Configured in @Configuration GuestNav\n#spring.mvc.view.prefix=/WEB-INF/views/\n#spring.mvc.view.suffix=.jsp\n# Live reload\nspring.devtools.restart.additional-paths=.\n# Better logging\nserver.tomcat.accesslog.directory=logs\nserver.tomcat.accesslog.file-date-format=yyyy-MM-dd\nserver.tomcat.accesslog.prefix=access_log\nserver.tomcat.accesslog.suffix=.log\n</code></pre>\n\n<p>Main method  </p>\n\n<pre><code>@SpringBootApplication\npublic class WebApp extends SpringBootServletInitializer {\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(WebApp.class);\n    }\n\n    public static void main(String[] args) throws Exception {\n        SpringApplication.run(WebApp.class, args);\n    }\n\n}\n</code></pre>\n\n<p>Configuration class</p>\n\n<pre><code>@Configuration\n@EnableWebMvc\npublic class DispatcherConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(\"/views/**\").addResourceLocations(\"/views/\");\n    }\n\n    @Bean\n    public ViewResolver viewResolver() {\n        InternalResourceViewResolver viewResolver = new InternalResourceViewResolver();\n        viewResolver.setViewClass(JstlView.class);\n        viewResolver.setPrefix(\"/WEB-INF/notinuse/\");\n        viewResolver.setSuffix(\"\");\n        return viewResolver;\n    }\n\n}\n</code></pre>\n\n<p>A controller class</p>\n\n<pre><code>@Controller\npublic class GuestNav {\n\n    @GetMapping(\"/\")\n    public String home() {\n        return \"forward:/views/guest/index.html\";\n    }\n}\n</code></pre>\n\n<p>You must place your files in the directory <code>/webapp/views/guest/index.html</code>, be careful, the webapp directory is outside of the resources directory.<br>\nIn this way you may use the url patterns of spring-mvc but serve static context.</p>\n"}],"owner":{"account_id":199895,"reputation":10891,"user_id":445468,"accept_rate":50,"display_name":"Gleeb"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165186,"favorite_count":0,"down_vote_count":0,"up_vote_count":73,"accepted_answer_id":15480301,"answer_count":9,"score":73,"last_activity_date":1671568235,"creation_date":1363616812,"question_id":15479213,"body_markdown":"I am developing a website with Spring, and am trying to serve resources that are not .jsp files (.html for example)\r\n\r\nright now i have commented out this part of my servlet configuration\r\n\r\n    \t&lt;bean id=&quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot; \r\n    \t\tp:prefix=&quot;/WEB-INF/jsp/&quot; p:suffix=&quot;.jsp&quot; /&gt;\r\n\r\nAnd tried to return fromthe controller the full path to the resource.\r\n\r\n    @Controller\r\n    public class LandingPageController {\r\n\t\r\n\tprotected static Logger logger = Logger.getLogger(LandingPageController.class);\r\n\t\r\n\t@RequestMapping({&quot;/&quot;,&quot;/home&quot;})\r\n\tpublic String showHomePage(Map&lt;String, Object&gt; model) {\r\n\t\treturn &quot;/WEB-INF/jsp/index.html&quot;;\t\r\n\t   }\r\n    }\r\n\r\nthe `index.html` file exists in that folder.\r\n\r\nNOTE: when I change the `index.html` to `index.jsp` my server now serves the page correctly.\r\n\r\nThank you.","title":"How to serve .html files with Spring","body":"<p>I am developing a website with Spring, and am trying to serve resources that are not .jsp files (.html for example)</p>\n<p>right now i have commented out this part of my servlet configuration</p>\n<pre><code>    &lt;bean id=&quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot; \n        p:prefix=&quot;/WEB-INF/jsp/&quot; p:suffix=&quot;.jsp&quot; /&gt;\n</code></pre>\n<p>And tried to return fromthe controller the full path to the resource.</p>\n<pre><code>@Controller\npublic class LandingPageController {\n\nprotected static Logger logger = Logger.getLogger(LandingPageController.class);\n\n@RequestMapping({&quot;/&quot;,&quot;/home&quot;})\npublic String showHomePage(Map&lt;String, Object&gt; model) {\n    return &quot;/WEB-INF/jsp/index.html&quot;;   \n   }\n}\n</code></pre>\n<p>the <code>index.html</code> file exists in that folder.</p>\n<p>NOTE: when I change the <code>index.html</code> to <code>index.jsp</code> my server now serves the page correctly.</p>\n<p>Thank you.</p>\n"},{"tags":["java","hibernate","jpa","orm"],"answers":[{"tags":[],"owner":{"account_id":40862,"reputation":23767,"user_id":118587,"accept_rate":75,"display_name":"Grzegorz Oledzki"},"down_vote_count":2,"up_vote_count":108,"is_accepted":true,"score":106,"last_activity_date":1246911332,"creation_date":1246911332,"answer_id":1089008,"question_id":1082095,"body_markdown":"- The ownership of the relation is determined by where you place the &#39;mappedBy&#39; attribute to the annotation. The entity you put &#39;mappedBy&#39; is the one which is NOT the owner. There&#39;s no chance for both sides to be owners. If you don&#39;t have a &#39;delete user&#39; use-case you could simply move the ownership to the `Group` entity, as currently the `User` is the owner.\r\n- On the other hand, you haven&#39;t been asking about it, but one thing worth to know. The `groups` and `users` are not combined with each other. I mean, after deleting User1 instance from Group1.users, the User1.groups collections is not changed automatically (which is quite surprising for me),\r\n- All in all, I would suggest you decide who is the owner. Let say the `User` is the owner. Then when deleting a user the relation user-group will be updated automatically. But when deleting a group you have to take care of deleting the relation yourself like this:\r\n\r\n----\r\n    entityManager.remove(group)\r\n    for (User user : group.users) {\r\n         user.groups.remove(group);\r\n    }\r\n    ...\r\n    // then merge() and flush()\r\n","title":"How to remove entity with ManyToMany relationship in JPA (and corresponding join table rows)?","body":"<ul>\n<li>The ownership of the relation is determined by where you place the 'mappedBy' attribute to the annotation. The entity you put 'mappedBy' is the one which is NOT the owner. There's no chance for both sides to be owners. If you don't have a 'delete user' use-case you could simply move the ownership to the <code>Group</code> entity, as currently the <code>User</code> is the owner.</li>\n<li>On the other hand, you haven't been asking about it, but one thing worth to know. The <code>groups</code> and <code>users</code> are not combined with each other. I mean, after deleting User1 instance from Group1.users, the User1.groups collections is not changed automatically (which is quite surprising for me),</li>\n<li>All in all, I would suggest you decide who is the owner. Let say the <code>User</code> is the owner. Then when deleting a user the relation user-group will be updated automatically. But when deleting a group you have to take care of deleting the relation yourself like this:</li>\n</ul>\n\n<hr>\n\n<pre><code>entityManager.remove(group)\nfor (User user : group.users) {\n     user.groups.remove(group);\n}\n...\n// then merge() and flush()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":644962,"reputation":289,"user_id":431814,"display_name":"jelies"},"down_vote_count":1,"up_vote_count":29,"is_accepted":false,"score":28,"last_activity_date":1282823995,"creation_date":1282823995,"answer_id":3574839,"question_id":1082095,"body_markdown":"I found a possible solution, but... I don&#39;t know if it&#39;s a good solution.\r\n\r\n    @Entity\r\n    public class Role extends Identifiable {\r\n    \r\n        @ManyToMany(cascade ={CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH})\r\n        @JoinTable(name=&quot;Role_Permission&quot;,\r\n                joinColumns=@JoinColumn(name=&quot;Role_id&quot;),\r\n                inverseJoinColumns=@JoinColumn(name=&quot;Permission_id&quot;)\r\n            )\r\n        public List&lt;Permission&gt; getPermissions() {\r\n            return permissions;\r\n        }\r\n    \r\n        public void setPermissions(List&lt;Permission&gt; permissions) {\r\n            this.permissions = permissions;\r\n        }\r\n    }\r\n    \r\n    @Entity\r\n    public class Permission extends Identifiable {\r\n    \r\n        @ManyToMany(cascade = {CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH})\r\n        @JoinTable(name=&quot;Role_Permission&quot;,\r\n                joinColumns=@JoinColumn(name=&quot;Permission_id&quot;),\r\n                inverseJoinColumns=@JoinColumn(name=&quot;Role_id&quot;)\r\n            )\r\n        public List&lt;Role&gt; getRoles() {\r\n            return roles;\r\n        }\r\n    \r\n        public void setRoles(List&lt;Role&gt; roles) {\r\n            this.roles = roles;\r\n        }\r\n\r\nI have tried this and it works. When you delete Role, also the relations are deleted (but not the Permission entities) and when you delete Permission, the relations with Role are deleted too (but not the Role instance). But we are mapping a unidirectional relation two times and both entities are the owner of the relation. Could this cause some problems to Hibernate? Which type of problems?\r\n\r\nThanks!\r\n\r\nThe code above is from another [post][1] related.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1299455","title":"How to remove entity with ManyToMany relationship in JPA (and corresponding join table rows)?","body":"<p>I found a possible solution, but... I don't know if it's a good solution.</p>\n\n<pre><code>@Entity\npublic class Role extends Identifiable {\n\n    @ManyToMany(cascade ={CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH})\n    @JoinTable(name=\"Role_Permission\",\n            joinColumns=@JoinColumn(name=\"Role_id\"),\n            inverseJoinColumns=@JoinColumn(name=\"Permission_id\")\n        )\n    public List&lt;Permission&gt; getPermissions() {\n        return permissions;\n    }\n\n    public void setPermissions(List&lt;Permission&gt; permissions) {\n        this.permissions = permissions;\n    }\n}\n\n@Entity\npublic class Permission extends Identifiable {\n\n    @ManyToMany(cascade = {CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH})\n    @JoinTable(name=\"Role_Permission\",\n            joinColumns=@JoinColumn(name=\"Permission_id\"),\n            inverseJoinColumns=@JoinColumn(name=\"Role_id\")\n        )\n    public List&lt;Role&gt; getRoles() {\n        return roles;\n    }\n\n    public void setRoles(List&lt;Role&gt; roles) {\n        this.roles = roles;\n    }\n</code></pre>\n\n<p>I have tried this and it works. When you delete Role, also the relations are deleted (but not the Permission entities) and when you delete Permission, the relations with Role are deleted too (but not the Role instance). But we are mapping a unidirectional relation two times and both entities are the owner of the relation. Could this cause some problems to Hibernate? Which type of problems?</p>\n\n<p>Thanks!</p>\n\n<p>The code above is from another <a href=\"https://stackoverflow.com/questions/1299455\">post</a> related.</p>\n"},{"tags":[],"owner":{"account_id":82370,"reputation":1477,"user_id":231645,"accept_rate":58,"display_name":"NBW"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1338607287,"creation_date":1338607287,"answer_id":10859541,"question_id":1082095,"body_markdown":"For what its worth, I am using EclipseLink  2.3.2.v20111125-r10461 and if I have a @ManyToMany unidirectional relationship I observe the problem that you describe. However, if I change it to be a bi-directional @ManyToMany relationship I am able to delete an entity from the non-owning side and the JOIN table is updated appropriately. This is all without the use of any cascade attributes.\r\n","title":"How to remove entity with ManyToMany relationship in JPA (and corresponding join table rows)?","body":"<p>For what its worth, I am using EclipseLink  2.3.2.v20111125-r10461 and if I have a @ManyToMany unidirectional relationship I observe the problem that you describe. However, if I change it to be a bi-directional @ManyToMany relationship I am able to delete an entity from the non-owning side and the JOIN table is updated appropriately. This is all without the use of any cascade attributes.</p>\n"},{"tags":[],"owner":{"account_id":378737,"reputation":4024,"user_id":731650,"accept_rate":75,"display_name":"damian"},"down_vote_count":1,"up_vote_count":53,"is_accepted":false,"score":52,"last_activity_date":1361028622,"creation_date":1361028622,"answer_id":14911910,"question_id":1082095,"body_markdown":"The following works for me. Add the following method to the entity that is not the owner of the relationship (Group)\r\n\r\n    @PreRemove\r\n    private void removeGroupsFromUsers() {\r\n        for (User u : users) {\r\n            u.getGroups().remove(this);\r\n        }\r\n    }\r\n\r\nKeep in mind that for this to work, the Group must have an updated list of Users (which is not done automatically). so everytime you add a Group to the group list in User entity, you should also add a User to the user list in the Group entity.","title":"How to remove entity with ManyToMany relationship in JPA (and corresponding join table rows)?","body":"<p>The following works for me. Add the following method to the entity that is not the owner of the relationship (Group)</p>\n\n<pre><code>@PreRemove\nprivate void removeGroupsFromUsers() {\n    for (User u : users) {\n        u.getGroups().remove(this);\n    }\n}\n</code></pre>\n\n<p>Keep in mind that for this to work, the Group must have an updated list of Users (which is not done automatically). so everytime you add a Group to the group list in User entity, you should also add a User to the user list in the Group entity.</p>\n"},{"tags":[],"owner":{"account_id":122100,"reputation":16858,"user_id":315677,"accept_rate":81,"display_name":"Pierre Henry"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1671568169,"creation_date":1435571411,"answer_id":31112583,"question_id":1082095,"body_markdown":"As an alternative to JPA/Hibernate solutions : you could use a CASCADE DELETE clause in the database definition of your foreign key on your join table, such as (Oracle syntax) :\r\n\r\n    CONSTRAINT fk_to_group\r\n         FOREIGN KEY (group_id)\r\n         REFERENCES group (id)\r\n         ON DELETE CASCADE\r\n\r\nThat way the DBMS itself automatically deletes the row that points to the group when you delete the group. It works whether the delete is made from Hibernate/JPA, JDBC, manually in the DB, or any other way.\r\n\r\nthe cascade delete feature is supported by all major DBMS (Oracle, MySQL, SQL Server, PostgreSQL).","title":"How to remove entity with ManyToMany relationship in JPA (and corresponding join table rows)?","body":"<p>As an alternative to JPA/Hibernate solutions : you could use a CASCADE DELETE clause in the database definition of your foreign key on your join table, such as (Oracle syntax) :</p>\n<pre><code>CONSTRAINT fk_to_group\n     FOREIGN KEY (group_id)\n     REFERENCES group (id)\n     ON DELETE CASCADE\n</code></pre>\n<p>That way the DBMS itself automatically deletes the row that points to the group when you delete the group. It works whether the delete is made from Hibernate/JPA, JDBC, manually in the DB, or any other way.</p>\n<p>the cascade delete feature is supported by all major DBMS (Oracle, MySQL, SQL Server, PostgreSQL).</p>\n"},{"tags":[],"owner":{"account_id":1980125,"reputation":41,"user_id":1776955,"display_name":"user1776955"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1499566734,"creation_date":1499544550,"answer_id":44990315,"question_id":1082095,"body_markdown":"This is a good solution. The best part is on the SQL side  fine tuning to any level is easy.\r\n\r\nI used MySql and MySql Workbench to Cascade on delete for the Required Foreign KEY.\r\n\r\n    ALTER TABLE schema.joined_table \r\n    ADD CONSTRAINT UniqueKey\r\n    FOREIGN KEY (key2)\r\n    REFERENCES schema.table1 (id)\r\n    ON DELETE CASCADE;","title":"How to remove entity with ManyToMany relationship in JPA (and corresponding join table rows)?","body":"<p>This is a good solution. The best part is on the SQL side  fine tuning to any level is easy.</p>\n\n<p>I used MySql and MySql Workbench to Cascade on delete for the Required Foreign KEY.</p>\n\n<pre><code>ALTER TABLE schema.joined_table \nADD CONSTRAINT UniqueKey\nFOREIGN KEY (key2)\nREFERENCES schema.table1 (id)\nON DELETE CASCADE;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5104821,"reputation":1711,"user_id":4093220,"display_name":"Mehul Katpara"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1520370983,"creation_date":1520370661,"answer_id":49140010,"question_id":1082095,"body_markdown":"This works for me:\r\n\r\n    @Transactional\r\n    public void remove(Integer groupId) {\r\n        Group group = groupRepository.findOne(groupId);\r\n        group.getUsers().removeAll(group.getUsers());\r\n\r\n        // Other business logic\r\n\r\n        groupRepository.delete(group);\r\n    }\r\n\r\nAlso, mark the method @Transactional (org.springframework.transaction.annotation.Transactional), this will do whole process in one session, saves some time.","title":"How to remove entity with ManyToMany relationship in JPA (and corresponding join table rows)?","body":"<p>This works for me:</p>\n\n<pre><code>@Transactional\npublic void remove(Integer groupId) {\n    Group group = groupRepository.findOne(groupId);\n    group.getUsers().removeAll(group.getUsers());\n\n    // Other business logic\n\n    groupRepository.delete(group);\n}\n</code></pre>\n\n<p>Also, mark the method @Transactional (org.springframework.transaction.annotation.Transactional), this will do whole process in one session, saves some time.</p>\n"},{"tags":[],"owner":{"account_id":16567392,"reputation":21,"user_id":11971580,"display_name":"Me Me"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1590652142,"creation_date":1590639061,"answer_id":62056928,"question_id":1082095,"body_markdown":"This works for me on a similar issue where I failed to delete the user due to the reference. Thank you \r\n\r\n    @ManyToMany(cascade = {CascadeType.MERGE, CascadeType.PERSIST,CascadeType.REFRESH})\r\n\r\n","title":"How to remove entity with ManyToMany relationship in JPA (and corresponding join table rows)?","body":"<p>This works for me on a similar issue where I failed to delete the user due to the reference. Thank you </p>\n\n<pre><code>@ManyToMany(cascade = {CascadeType.MERGE, CascadeType.PERSIST,CascadeType.REFRESH})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1092885,"reputation":37669,"user_id":1087131,"accept_rate":54,"display_name":"Stephen Paul"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1600424156,"creation_date":1600424156,"answer_id":63953801,"question_id":1082095,"body_markdown":"This is what I ended up doing. Hopefully someone might find it useful.\r\n\r\n    @Transactional\r\n    public void deleteGroup(Long groupId) {\r\n        Group group = groupRepository.findById(groupId).orElseThrow();\r\n        group.getUsers().forEach(u -&gt; u.getGroups().remove(group));\r\n        userRepository.saveAll(group.getUsers());\r\n        groupRepository.delete(group);\r\n    }","title":"How to remove entity with ManyToMany relationship in JPA (and corresponding join table rows)?","body":"<p>This is what I ended up doing. Hopefully someone might find it useful.</p>\n<pre><code>@Transactional\npublic void deleteGroup(Long groupId) {\n    Group group = groupRepository.findById(groupId).orElseThrow();\n    group.getUsers().forEach(u -&gt; u.getGroups().remove(group));\n    userRepository.saveAll(group.getUsers());\n    groupRepository.delete(group);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7425507,"reputation":621,"user_id":5648134,"accept_rate":100,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632630341,"creation_date":1632630341,"answer_id":69331869,"question_id":1082095,"body_markdown":"If you are using Spring Data Jpa, then simply create a repository interface for the owner class `Group.class`, then use their `deleteById(Long id)` method extended from `JpaRepository.class`. Then, when you delete a Group, the related rows(containing the same group id as you specify) in the join table will also be removed. Be aware of the CascadeType, avoid CascadeType.All, otherwise it will attempt to delete the user from the User table, which would cause the foreign key constraint runtime error again.","title":"How to remove entity with ManyToMany relationship in JPA (and corresponding join table rows)?","body":"<p>If you are using Spring Data Jpa, then simply create a repository interface for the owner class <code>Group.class</code>, then use their <code>deleteById(Long id)</code> method extended from <code>JpaRepository.class</code>. Then, when you delete a Group, the related rows(containing the same group id as you specify) in the join table will also be removed. Be aware of the CascadeType, avoid CascadeType.All, otherwise it will attempt to delete the user from the User table, which would cause the foreign key constraint runtime error again.</p>\n"}],"owner":{"account_id":34199,"reputation":2833,"user_id":96412,"accept_rate":40,"display_name":"rdk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153756,"favorite_count":0,"down_vote_count":0,"up_vote_count":110,"accepted_answer_id":1089008,"answer_count":10,"score":110,"last_activity_date":1671568169,"creation_date":1246709580,"question_id":1082095,"body_markdown":"Let&#39;s say I have two entities: Group and User. Every user can be member of many groups and every group can have many users.\r\n\r\n    @Entity\r\n    public class User {\r\n        @ManyToMany\r\n        Set&lt;Group&gt; groups;\r\n        //...\r\n    }\r\n    \r\n    @Entity\r\n    public class Group {\r\n        @ManyToMany(mappedBy=&quot;groups&quot;)\r\n        Set&lt;User&gt; users;\r\n        //...\r\n    }\r\n\r\nNow I want to remove a group (let&#39;s say it has many members).\r\n\r\nProblem is that when I call EntityManager.remove() on some Group, JPA provider (in my case Hibernate) **does not remove rows from join table** and delete operation fails due to foreign key constrains. Calling remove() on User works fine (I guess this has something to do with owning side of relationship).\r\n\r\nSo how can I remove a group in this case? \r\n\r\nOnly way I could come up with is to load all users in the group, then for every user remove current group from his groups and update user. But it seems ridiculous to me to call update() on every user from the group just to be able to delete this group.","title":"How to remove entity with ManyToMany relationship in JPA (and corresponding join table rows)?","body":"<p>Let's say I have two entities: Group and User. Every user can be member of many groups and every group can have many users.</p>\n\n<pre><code>@Entity\npublic class User {\n    @ManyToMany\n    Set&lt;Group&gt; groups;\n    //...\n}\n\n@Entity\npublic class Group {\n    @ManyToMany(mappedBy=\"groups\")\n    Set&lt;User&gt; users;\n    //...\n}\n</code></pre>\n\n<p>Now I want to remove a group (let's say it has many members).</p>\n\n<p>Problem is that when I call EntityManager.remove() on some Group, JPA provider (in my case Hibernate) <strong>does not remove rows from join table</strong> and delete operation fails due to foreign key constrains. Calling remove() on User works fine (I guess this has something to do with owning side of relationship).</p>\n\n<p>So how can I remove a group in this case? </p>\n\n<p>Only way I could come up with is to load all users in the group, then for every user remove current group from his groups and update user. But it seems ridiculous to me to call update() on every user from the group just to be able to delete this group.</p>\n"},{"tags":["java","android","kotlin","android-workmanager"],"owner":{"account_id":14057281,"reputation":143,"user_id":10154279,"display_name":"Stefan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671567640,"creation_date":1671567640,"question_id":74868511,"body_markdown":"I&#39;m trying to get a function to trigger whenever the screen gets unlocked, even if the app is not running.\r\n\r\nWith Android &lt;= 8 it was possible to use the Broadcast service and define the triggers in the manifest.xml like shown [here][1]\r\n\r\nHowever, I could not find any information on how to listen to such events like screen unlocked (android.intent.action.USER_PRESENT) with the &quot;new&quot; Work Manager or any other way.\r\n\r\n\r\n  [1]: https://developer.android.com/guide/components/broadcasts#manifest-declared-receivers","title":"How to listen to an unlock screen event on Android","body":"<p>I'm trying to get a function to trigger whenever the screen gets unlocked, even if the app is not running.</p>\n<p>With Android &lt;= 8 it was possible to use the Broadcast service and define the triggers in the manifest.xml like shown <a href=\"https://developer.android.com/guide/components/broadcasts#manifest-declared-receivers\" rel=\"nofollow noreferrer\">here</a></p>\n<p>However, I could not find any information on how to listen to such events like screen unlocked (android.intent.action.USER_PRESENT) with the &quot;new&quot; Work Manager or any other way.</p>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb","aws-sdk","dynamodb-queries"],"answers":[{"tags":[],"owner":{"account_id":10749774,"reputation":14475,"user_id":7909676,"display_name":"Leeroy Hannigan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671567457,"creation_date":1671567457,"answer_id":74868487,"question_id":74865592,"body_markdown":"You did not share the structure of your data, but i&#39;ll try sum it up:\r\n\r\n```\r\n{\r\n  &quot;id&quot;: &quot;1&quot;,\r\n  &quot;val&quot;: {\r\n    &quot;ABCLink&quot;: [\r\n      {\r\n        &quot;DEFName&quot;: &quot;MyDefName1&quot;,\r\n        &quot;DEFArn&quot;: &quot;DEFArn1&quot;\r\n      },\r\n      {\r\n        &quot;DEFName&quot;: &quot;MyDefName2&quot;,\r\n        &quot;DEFArn&quot;: &quot;DEFArn2&quot;\r\n      }\r\n    ],\r\n    &quot;ABCArn&quot;: &quot;ProfileArn1&quot;\r\n  }\r\n}\r\n```\r\n\r\nNow lets imagine you want all the items where `id=1` and `val contains DEFArn1`\r\n\r\nIn order to achieve this you have two options:\r\n\r\n1. You pass the entire map as a condition, meaning you must know both `DEFArn` and `DEFName`\r\n```\r\n    response = client.scan(\r\n        TableName=table_name,\r\n        FilterExpression=&#39;contains(#a.#b, :r)&#39;,\r\n        ExpressionAttributeValues={\r\n            &#39;:r&#39;: {\r\n                &quot;M&quot;: {\r\n                    &quot;DEFName&quot;: {\r\n                        &quot;S&quot;: &quot;MyDefName1&quot;\r\n                    },\r\n                    &quot;DEFArn&quot;: {\r\n                        &quot;S&quot;: &quot;DEFArn1&quot;\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        ExpressionAttributeNames={\r\n            &#39;#a&#39;: &#39;val&#39;,\r\n            &#39;#b&#39;: &#39;ABCLink&#39;,\r\n        }\r\n    )\r\n```\r\n\r\n2. You do not know the full map, but you know the position it should be in the list:\r\n\r\n```\r\n    response = client.scan(\r\n        TableName=table_name,\r\n        FilterExpression=&#39;contains(#a.#b[0].DEFArn, :r)&#39;,\r\n        ExpressionAttributeValues={\r\n            &#39;:r&#39;: {\r\n                &quot;S&quot;: &quot;DEFArn1&quot;     \r\n            }\r\n        },\r\n        ExpressionAttributeNames={\r\n            &#39;#a&#39;: &#39;val&#39;,\r\n            &#39;#b&#39;: &#39;ABCLink&#39;,\r\n        }\r\n    )\r\n```\r\n\r\n\r\n\r\n**NOTE:** I&#39;ve reused an example I shared before, and the code is Boto3, but the logic remains the same. I hope it helps your use-case.","title":"DynamoDB filterexpression using Contains on a document","body":"<p>You did not share the structure of your data, but i'll try sum it up:</p>\n<pre><code>{\n  &quot;id&quot;: &quot;1&quot;,\n  &quot;val&quot;: {\n    &quot;ABCLink&quot;: [\n      {\n        &quot;DEFName&quot;: &quot;MyDefName1&quot;,\n        &quot;DEFArn&quot;: &quot;DEFArn1&quot;\n      },\n      {\n        &quot;DEFName&quot;: &quot;MyDefName2&quot;,\n        &quot;DEFArn&quot;: &quot;DEFArn2&quot;\n      }\n    ],\n    &quot;ABCArn&quot;: &quot;ProfileArn1&quot;\n  }\n}\n</code></pre>\n<p>Now lets imagine you want all the items where <code>id=1</code> and <code>val contains DEFArn1</code></p>\n<p>In order to achieve this you have two options:</p>\n<ol>\n<li>You pass the entire map as a condition, meaning you must know both <code>DEFArn</code> and <code>DEFName</code></li>\n</ol>\n<pre><code>    response = client.scan(\n        TableName=table_name,\n        FilterExpression='contains(#a.#b, :r)',\n        ExpressionAttributeValues={\n            ':r': {\n                &quot;M&quot;: {\n                    &quot;DEFName&quot;: {\n                        &quot;S&quot;: &quot;MyDefName1&quot;\n                    },\n                    &quot;DEFArn&quot;: {\n                        &quot;S&quot;: &quot;DEFArn1&quot;\n                    }\n                }\n            }\n        },\n        ExpressionAttributeNames={\n            '#a': 'val',\n            '#b': 'ABCLink',\n        }\n    )\n</code></pre>\n<ol start=\"2\">\n<li>You do not know the full map, but you know the position it should be in the list:</li>\n</ol>\n<pre><code>    response = client.scan(\n        TableName=table_name,\n        FilterExpression='contains(#a.#b[0].DEFArn, :r)',\n        ExpressionAttributeValues={\n            ':r': {\n                &quot;S&quot;: &quot;DEFArn1&quot;     \n            }\n        },\n        ExpressionAttributeNames={\n            '#a': 'val',\n            '#b': 'ABCLink',\n        }\n    )\n</code></pre>\n<p><strong>NOTE:</strong> I've reused an example I shared before, and the code is Boto3, but the logic remains the same. I hope it helps your use-case.</p>\n"}],"owner":{"account_id":6898619,"reputation":303,"user_id":5298978,"accept_rate":12,"display_name":"Sharvari Nagesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":334,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74868487,"answer_count":1,"score":0,"last_activity_date":1671567457,"creation_date":1671551184,"question_id":74865592,"body_markdown":"I am using Java AWS SDK for AWS dynamoDB. Is it possible to use &quot;Contains&quot; function on a document object? Contains is working on an simple field. but if the field is a @DynamoDBDocument, it is not working. Please let me know if you know of a way to search for a value in a document. My query looks like this:\r\n\r\n    DynamoDBQueryExpression&lt;SSRequest&gt; query = new DynamoDBQueryExpression&lt;SSRequest&gt;()\r\n                .withHashKeyValues(ssRequest)\r\n                .withIndexName(&quot;ssRequestType-index&quot;)\r\n                .withFilterExpression(&quot; contains(attachments, :val) &quot;)\r\n                .withExpressionAttributeValues(eav)\r\n                .withConsistentRead(false);\r\n\r\n In the above query, attachments is a document. I tried with scan as well. but both scan and query are not working on document fields.","title":"DynamoDB filterexpression using Contains on a document","body":"<p>I am using Java AWS SDK for AWS dynamoDB. Is it possible to use &quot;Contains&quot; function on a document object? Contains is working on an simple field. but if the field is a @DynamoDBDocument, it is not working. Please let me know if you know of a way to search for a value in a document. My query looks like this:</p>\n<pre><code>DynamoDBQueryExpression&lt;SSRequest&gt; query = new DynamoDBQueryExpression&lt;SSRequest&gt;()\n            .withHashKeyValues(ssRequest)\n            .withIndexName(&quot;ssRequestType-index&quot;)\n            .withFilterExpression(&quot; contains(attachments, :val) &quot;)\n            .withExpressionAttributeValues(eav)\n            .withConsistentRead(false);\n</code></pre>\n<p>In the above query, attachments is a document. I tried with scan as well. but both scan and query are not working on document fields.</p>\n"},{"tags":["java","h2"],"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1667503038,"post_id":74308407,"comment_id":131188141,"body_markdown":"How are you managing your dependencies?  What code is running that produces this error?","body":"How are you managing your dependencies?  What code is running that produces this error?"},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1667503522,"post_id":74308407,"comment_id":131188307,"body_markdown":"Edit your question with your code.  As you have surely noticed, there is no space to add it in here in the comments.","body":"Edit your question with your code.  As you have surely noticed, there is no space to add it in here in the comments."},{"owner":{"account_id":26821912,"reputation":1,"user_id":20411118,"display_name":"Tao Yang"},"score":0,"creation_date":1667504622,"post_id":74308407,"comment_id":131188635,"body_markdown":"just updated the post with dependency and code","body":"just updated the post with dependency and code"}],"answers":[{"tags":[],"owner":{"account_id":382800,"reputation":420,"user_id":738261,"display_name":"torahmike"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671567328,"creation_date":1671567328,"answer_id":74868468,"question_id":74308407,"body_markdown":"Replace ignite-indexing-2.14.0.jar with ignite-calcite-2.14.0.jar","title":"Can Apache Ignite work without H2 library?","body":"<p>Replace ignite-indexing-2.14.0.jar with ignite-calcite-2.14.0.jar</p>\n"}],"owner":{"account_id":26821912,"reputation":1,"user_id":20411118,"display_name":"Tao Yang"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":379,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671567328,"creation_date":1667502606,"question_id":74308407,"body_markdown":"\r\nI found this sentence in the 2.14.0 release note:\r\n\r\nCalcite-based SQL engine is now independent of H2-based SQL engine and doesn&#39;t require &#39;ignite-indexing&#39; module and H2 to be in classpath anymore.\r\n\r\nHowever when I start a simplest Ignite object, it gives error saying class not found for org.h2.value.ValueByte, am I missing anything.\r\n\r\nDue to the security vulnerability of H2, all my Ignite applications were forced to stop at work I thought the version 2.14.0 allows me to get rid of H2. Anybody can give me an idea if I can have my apps running without H2?\r\n\r\nThanks\r\n\r\n\r\n\r\nI manage my dependency with gradle, \r\n\r\n```\r\nimplementation fiels(&#39;/myfolder/apache-ignite/2.14.0/libs/ignite-core-2.14.0.jar&#39;)\r\nimplementation fiels(&#39;/myfolder/apache-ignite/2.14.0/libs/cache-api-1.0.0.jar&#39;)\r\nimplementation fiels(&#39;/myfolder/apache-ignite/2.14.0/libs/annotations-16.0.3.jar&#39;)\r\nimplementation fiels(&#39;/myfolder/apache-ignite/2.14.0/libs/ignite-spring/ignite-spring-2.14.0.jar&#39;)\r\nimplementation fiels(&#39;/myfolder/apache-ignite/2.14.0/libs/ignite-indexing/ignite-indexing-2.14.0.jar&#39;)\r\n```\r\n\r\nthis is how my code looks like:\r\n\r\n\r\n    TcpDiscoveryMulticastIpFinder tcMp = new TcpDiscoveryMulticastIpFinder();\r\n    TcpDiscoverySpi spi = new TcpDiscoverySpi();\r\n    spi.setIpFinder(tcMp);\r\n    IgniteConfiguration cfg = new IgniteConfiguration();\r\n    cfg.setClentMode(false);\r\n    cfg.setDiscoverySpi(spi);\r\n    Ignite ignite=Ignition.start(cfg)\r\n\r\n\r\n\r\nit failes at last line &quot;Ignition.start(cfg);","title":"Can Apache Ignite work without H2 library?","body":"<p>I found this sentence in the 2.14.0 release note:</p>\n<p>Calcite-based SQL engine is now independent of H2-based SQL engine and doesn't require 'ignite-indexing' module and H2 to be in classpath anymore.</p>\n<p>However when I start a simplest Ignite object, it gives error saying class not found for org.h2.value.ValueByte, am I missing anything.</p>\n<p>Due to the security vulnerability of H2, all my Ignite applications were forced to stop at work I thought the version 2.14.0 allows me to get rid of H2. Anybody can give me an idea if I can have my apps running without H2?</p>\n<p>Thanks</p>\n<p>I manage my dependency with gradle,</p>\n<pre><code>implementation fiels('/myfolder/apache-ignite/2.14.0/libs/ignite-core-2.14.0.jar')\nimplementation fiels('/myfolder/apache-ignite/2.14.0/libs/cache-api-1.0.0.jar')\nimplementation fiels('/myfolder/apache-ignite/2.14.0/libs/annotations-16.0.3.jar')\nimplementation fiels('/myfolder/apache-ignite/2.14.0/libs/ignite-spring/ignite-spring-2.14.0.jar')\nimplementation fiels('/myfolder/apache-ignite/2.14.0/libs/ignite-indexing/ignite-indexing-2.14.0.jar')\n</code></pre>\n<p>this is how my code looks like:</p>\n<pre><code>TcpDiscoveryMulticastIpFinder tcMp = new TcpDiscoveryMulticastIpFinder();\nTcpDiscoverySpi spi = new TcpDiscoverySpi();\nspi.setIpFinder(tcMp);\nIgniteConfiguration cfg = new IgniteConfiguration();\ncfg.setClentMode(false);\ncfg.setDiscoverySpi(spi);\nIgnite ignite=Ignition.start(cfg)\n</code></pre>\n<p>it failes at last line &quot;Ignition.start(cfg);</p>\n"},{"tags":["java","machine-learning","deep-learning","djl"],"answers":[{"tags":[],"owner":{"account_id":8940317,"reputation":46,"user_id":10764959,"display_name":"Kx13739240386"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671566961,"creation_date":1671250887,"answer_id":74831773,"question_id":70998652,"body_markdown":"This is because currently DJL gradient collector is global and doesn&#39;t support multiple gradient collector coexisting. This is documented here https://github.com/deepjavalibrary/djl/pull/2111.\r\n\r\nIs it possible to use single global gradient collector in your case? Usually, gradient collector is only used to invoke backward(). Thus it may be possible to use global gradient collector. If not, you can open an `enhancement` issue in DJL github repo.\r\n","title":"DJL GradientCollector Try With Resources Initialiser Error","body":"<p>This is because currently DJL gradient collector is global and doesn't support multiple gradient collector coexisting. This is documented here <a href=\"https://github.com/deepjavalibrary/djl/pull/2111\" rel=\"nofollow noreferrer\">https://github.com/deepjavalibrary/djl/pull/2111</a>.</p>\n<p>Is it possible to use single global gradient collector in your case? Usually, gradient collector is only used to invoke backward(). Thus it may be possible to use global gradient collector. If not, you can open an <code>enhancement</code> issue in DJL github repo.</p>\n"}],"owner":{"account_id":13952299,"reputation":1,"user_id":11211882,"display_name":"Aidan L"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671566961,"creation_date":1644069186,"question_id":70998652,"body_markdown":"I am trying to initialise two GradientCollectors for a card game AI. I am currently experiencing the following error:\r\n\r\n```\r\njava.lang.IllegalStateException: Autograd Recording is already set to True. Please create autograd using try with resource \r\n\tat ai.djl.mxnet.engine.MxGradientCollector.&lt;init&gt;(MxGradientCollector.java:31)\r\n\tat ai.djl.mxnet.engine.MxEngine.newGradientCollector(MxEngine.java:144)\r\n\tat ai.djl.training.Trainer.newGradientCollector(Trainer.java:145)\r\n```\r\n\r\nThe code that is causing this error (along with extra code for reference) is:\r\n\r\n```\r\nNDManager manager = NDManager.newBaseManager(Device.cpu());\r\n\r\nNDArray inputArray = manager.create(new float[52]);\r\n\r\nint numEpochs = Integer.getInteger(&quot;MAX_EPOCH&quot;, 10);\r\n\r\ndouble[] epochCount = new double[numEpochs/5];\r\n\r\nfor(int i = 0; i &lt; epochCount.length; i++) {\r\n    epochCount[i] = (i + 1);\r\n}\r\n\r\n// Learning to Rank\r\nTracker selectionLrt = Tracker.fixed(0.5f);\r\nTracker destinationLrt = Tracker.fixed(0.5f);\r\n\r\n// Stochastic gradient descent\r\nOptimizer selectionSgd = Optimizer.sgd().setLearningRateTracker(selectionLrt).build();\r\nOptimizer destinationSgd = Optimizer.sgd().setLearningRateTracker(destinationLrt).build();\r\n\r\n// Loss function\r\nLoss selectionLoss = Loss.softmaxCrossEntropyLoss();\r\nLoss destinationLoss = Loss.softmaxCrossEntropyLoss();\r\n\r\nDefaultTrainingConfig selectionConfig = new DefaultTrainingConfig(selectionLoss)\r\n    .optOptimizer(selectionSgd) // Optimizer (loss function)\r\n    .optDevices(Engine.getInstance().getDevices(0)) // single CPU\r\n    .addEvaluator(new Accuracy()) // Model Accuracy\r\n    .addTrainingListeners(TrainingListener.Defaults.logging()); // Logging\r\n\r\nDefaultTrainingConfig destinationConfig = new DefaultTrainingConfig(destinationLoss)\r\n    .optOptimizer(destinationSgd) // Optimizer (loss function)\r\n    .optDevices(Engine.getInstance().getDevices(0)) // single CPU\r\n    .addEvaluator(new Accuracy()) // Model Accuracy\r\n    .addTrainingListeners(TrainingListener.Defaults.logging()); // Logging\r\n\r\ntry (Model selectionANN = Engine.getInstance().newModel(&quot;selectionANN&quot;, Device.cpu());\r\n    Model destinationANN = Engine.getInstance().newModel(&quot;destinationANN&quot;, Device.cpu())) {\r\n\r\n    selectionANN.setBlock(getBlock(true));\r\n    destinationANN.setBlock(getBlock(false));\r\n\r\n\r\n    try (Trainer selectionTrainer = selectionANN.newTrainer(selectionConfig);\r\n        Trainer destinationTrainer = destinationANN.newTrainer(destinationConfig);\r\n        GradientCollector selectionCollector = selectionTrainer.newGradientCollector();\r\n        GradientCollector destinationCollector = destinationTrainer.newGradientCollector()) {\r\n```\r\n\r\n","title":"DJL GradientCollector Try With Resources Initialiser Error","body":"<p>I am trying to initialise two GradientCollectors for a card game AI. I am currently experiencing the following error:</p>\n<pre><code>java.lang.IllegalStateException: Autograd Recording is already set to True. Please create autograd using try with resource \n    at ai.djl.mxnet.engine.MxGradientCollector.&lt;init&gt;(MxGradientCollector.java:31)\n    at ai.djl.mxnet.engine.MxEngine.newGradientCollector(MxEngine.java:144)\n    at ai.djl.training.Trainer.newGradientCollector(Trainer.java:145)\n</code></pre>\n<p>The code that is causing this error (along with extra code for reference) is:</p>\n<pre><code>NDManager manager = NDManager.newBaseManager(Device.cpu());\n\nNDArray inputArray = manager.create(new float[52]);\n\nint numEpochs = Integer.getInteger(&quot;MAX_EPOCH&quot;, 10);\n\ndouble[] epochCount = new double[numEpochs/5];\n\nfor(int i = 0; i &lt; epochCount.length; i++) {\n    epochCount[i] = (i + 1);\n}\n\n// Learning to Rank\nTracker selectionLrt = Tracker.fixed(0.5f);\nTracker destinationLrt = Tracker.fixed(0.5f);\n\n// Stochastic gradient descent\nOptimizer selectionSgd = Optimizer.sgd().setLearningRateTracker(selectionLrt).build();\nOptimizer destinationSgd = Optimizer.sgd().setLearningRateTracker(destinationLrt).build();\n\n// Loss function\nLoss selectionLoss = Loss.softmaxCrossEntropyLoss();\nLoss destinationLoss = Loss.softmaxCrossEntropyLoss();\n\nDefaultTrainingConfig selectionConfig = new DefaultTrainingConfig(selectionLoss)\n    .optOptimizer(selectionSgd) // Optimizer (loss function)\n    .optDevices(Engine.getInstance().getDevices(0)) // single CPU\n    .addEvaluator(new Accuracy()) // Model Accuracy\n    .addTrainingListeners(TrainingListener.Defaults.logging()); // Logging\n\nDefaultTrainingConfig destinationConfig = new DefaultTrainingConfig(destinationLoss)\n    .optOptimizer(destinationSgd) // Optimizer (loss function)\n    .optDevices(Engine.getInstance().getDevices(0)) // single CPU\n    .addEvaluator(new Accuracy()) // Model Accuracy\n    .addTrainingListeners(TrainingListener.Defaults.logging()); // Logging\n\ntry (Model selectionANN = Engine.getInstance().newModel(&quot;selectionANN&quot;, Device.cpu());\n    Model destinationANN = Engine.getInstance().newModel(&quot;destinationANN&quot;, Device.cpu())) {\n\n    selectionANN.setBlock(getBlock(true));\n    destinationANN.setBlock(getBlock(false));\n\n\n    try (Trainer selectionTrainer = selectionANN.newTrainer(selectionConfig);\n        Trainer destinationTrainer = destinationANN.newTrainer(destinationConfig);\n        GradientCollector selectionCollector = selectionTrainer.newGradientCollector();\n        GradientCollector destinationCollector = destinationTrainer.newGradientCollector()) {\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671566908,"creation_date":1671566080,"answer_id":74868266,"question_id":74866026,"body_markdown":"`@InjectMocks` only works with `@Mock`-annotated fields, not with fields which get assigned a manually created mock. Therefore you need to change:\r\n\r\n    private final RestTemplate restTemplate = Mockito.mock(RestTemplate.class);\r\n\r\n    @InjectMocks\r\n    private BankIdClient bankIdClient;\r\n\r\nto\r\n\r\n    @Mock\r\n    private RestTemplate restTemplate;\r\n\r\n    @InjectMocks\r\n    private BankIdClient bankIdClient;\r\n\r\nI also recommend reading https://stackoverflow.com/questions/74027324/why-is-my-class-not-calling-my-mocked-methods-in-unit-test which provides additional insights and points out some common mistakes when using Mockito or mocks in general.","title":"Unit testing - RestTemplate mock keeps retuning null","body":"<p><code>@InjectMocks</code> only works with <code>@Mock</code>-annotated fields, not with fields which get assigned a manually created mock. Therefore you need to change:</p>\n<pre><code>private final RestTemplate restTemplate = Mockito.mock(RestTemplate.class);\n\n@InjectMocks\nprivate BankIdClient bankIdClient;\n</code></pre>\n<p>to</p>\n<pre><code>@Mock\nprivate RestTemplate restTemplate;\n\n@InjectMocks\nprivate BankIdClient bankIdClient;\n</code></pre>\n<p>I also recommend reading <a href=\"https://stackoverflow.com/questions/74027324/why-is-my-class-not-calling-my-mocked-methods-in-unit-test\">Why is my class not calling my mocked methods in unit test?</a> which provides additional insights and points out some common mistakes when using Mockito or mocks in general.</p>\n"}],"owner":{"account_id":17975995,"reputation":551,"user_id":13063551,"display_name":"Mr.Gomer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671566908,"creation_date":1671553519,"question_id":74866026,"body_markdown":"So Im writing unit test a class that does bankId authentication and the unit test looks like this. \r\n\r\n    package se.kt.client;\r\n    \r\n    import org.junit.jupiter.api.Assertions;\r\n    import org.junit.jupiter.api.BeforeEach;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.junit.jupiter.api.extension.ExtendWith;\r\n    import org.junit.runner.RunWith;\r\n    import org.mockito.InjectMocks;\r\n    import org.mockito.Mockito;\r\n    import org.mockito.junit.MockitoJUnitRunner;\r\n    import org.mockito.junit.jupiter.MockitoExtension;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.test.context.junit4.SpringRunner;\r\n    import org.springframework.web.client.RestTemplate;\r\n    import org.springframework.http.HttpEntity;\r\n    import se.kt.common.vo.PublicApplicationForm;\r\n    import se.kt.models.BankIdAuthRequest;\r\n    import se.kt.models.BankIdAuthResponse;\r\n    import se.kt.models.BankIdCollectResponse;\r\n    import static org.mockito.ArgumentMatchers.any;\r\n    import static org.junit.Assert.assertTrue;\r\n    import static org.mockito.ArgumentMatchers.anyString;\r\n    import static org.mockito.ArgumentMatchers.eq;\r\n    \r\n    \r\n    @RunWith(MockitoJUnitRunner.class)\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    class BankIdClientTest {\r\n    \r\n        private final RestTemplate restTemplate = Mockito.mock(RestTemplate.class);\r\n    \r\n        @InjectMocks\r\n        private BankIdClient bankIdClient;\r\n    \r\n        @BeforeEach\r\n        public void setUp() {\r\n        }\r\n    \r\n    \r\n    \r\n        @Test\r\n        public void testBankIdAuthentication_success() throws InterruptedException {\r\n            PublicApplicationForm form = new PublicApplicationForm();\r\n            form.setSsn(&quot;123456-7890&quot;);\r\n            form.setIp_address(&quot;123.123.123.123&quot;);\r\n    \r\n            BankIdAuthRequest authRequest = bankIdClient.authRequestFromApplicationForm(form, &quot;123&quot;);\r\n    \r\n            BankIdAuthResponse authResponse = new BankIdAuthResponse();\r\n            authResponse.setOrderRef(&quot;123456&quot;);\r\n    \r\n            BankIdCollectResponse collectResponse = new BankIdCollectResponse();\r\n            collectResponse.setStatus(&quot;completed&quot;);\r\n    \r\n            Mockito.when(restTemplate.postForEntity(anyString(), any(HttpEntity.class), any()))\r\n                    .thenReturn(ResponseEntity.ok(authResponse));\r\n            Mockito.when(restTemplate.getForEntity(anyString(), any()))\r\n                    .thenReturn(ResponseEntity.ok(collectResponse));\r\n    \r\n            assertTrue(bankIdClient.bankIdAuthentication(authRequest));\r\n        }\r\n    }\r\n\r\nAnd the class Im testing looks like this:\r\n\r\n    package se.kt.client;\r\n    \r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.ObjectWriter;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.http.HttpEntity;\r\n    import org.springframework.http.HttpHeaders;\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.web.client.RestTemplate;\r\n    import se.kt.common.domain.AbstractApplicationForm;\r\n    import se.kt.common.vo.PublicApplicationForm;\r\n    import se.kt.models.BankIdAuthRequest;\r\n    import se.kt.models.BankIdAuthResponse;\r\n    import se.kt.models.BankIdCollectResponse;\r\n    \r\n    import javax.validation.constraints.AssertFalse;\r\n    import javax.validation.constraints.AssertTrue;\r\n    import java.util.Objects;\r\n    \r\n    @Component\r\n    public class BankIdClient {\r\n    \r\n        private static final Logger log = LoggerFactory.getLogger(BankIdClient.class);\r\n        private final RestTemplate customRestTemplate;\r\n        private static final String CONTENT_TYPE = &quot;Content-Type&quot;;\r\n    \r\n        @Value(&quot;${BankId.AuthUrl}&quot;)\r\n        private String bankIdAuthUrl;\r\n    \r\n        @Value(&quot;${BankId.CollectUrl}&quot;)\r\n        private String bankIdCollectUrl;\r\n    \r\n        @Value(&quot;${BankId.SecretKey}&quot;)\r\n        private String bankIdSecretKey;\r\n    \r\n        public BankIdClient(RestTemplate customRestTemplate) {\r\n            this.customRestTemplate = customRestTemplate;\r\n        }\r\n    \r\n        public BankIdAuthRequest authRequestFromApplicationForm(PublicApplicationForm form, String jobId) {\r\n            BankIdAuthRequest bankIdAuthRequest = new BankIdAuthRequest();\r\n            bankIdAuthRequest.setPno(form.getSsn());\r\n            bankIdAuthRequest.setIpAddress(form.getIp_address());\r\n            bankIdAuthRequest.setRefID(jobId);\r\n            bankIdAuthRequest.setSecretKey(bankIdSecretKey);\r\n            bankIdAuthRequest.setAvsikt(&quot;Kt application&quot;);\r\n    \r\n            return bankIdAuthRequest;\r\n        }\r\n    \r\n        public boolean bankIdAuthentication(BankIdAuthRequest bankIdAuthRequest) throws InterruptedException {\r\n            //Setup header and body for request.\r\n            HttpHeaders headers = new HttpHeaders();\r\n            headers.add(CONTENT_TYPE, MediaType.APPLICATION_JSON.toString());\r\n    \r\n            ObjectWriter ow = new ObjectMapper().writer().withDefaultPrettyPrinter();\r\n    \r\n            try {\r\n                String bankIdAuthFormJson = ow.writeValueAsString(bankIdAuthRequest);\r\n    \r\n                HttpEntity&lt;String&gt; httpEntity = new HttpEntity&lt;&gt;(bankIdAuthFormJson, headers);\r\n                ResponseEntity&lt;BankIdAuthResponse&gt; authResponse = customRestTemplate.postForEntity(bankIdAuthUrl, httpEntity, BankIdAuthResponse.class);\r\n    \r\n                bankIdCollectUrl += Objects.requireNonNull(authResponse.getBody()).getOrderRef();\r\n    \r\n                ResponseEntity&lt;BankIdCollectResponse&gt; collectResponse;\r\n    \r\n                do {\r\n                    collectResponse = customRestTemplate.getForEntity(bankIdCollectUrl, BankIdCollectResponse.class);\r\n    \r\n                    Thread.sleep(1500);\r\n    \r\n                    if (Objects.requireNonNull(collectResponse.getBody()).getStatus().equals(&quot;completed&quot;))\r\n                        return true;\r\n                    if (Objects.requireNonNull(collectResponse.getBody()).getStatus().equals(&quot;failed&quot;))\r\n                        return false;\r\n                } while (Objects.requireNonNull(collectResponse.getBody()).getStatus().equals(&quot;progress&quot;));\r\n    \r\n            } catch (JsonProcessingException e) {\r\n                log.info(e.getMessage());\r\n            } catch (NullPointerException e) {\r\n                log.info(e.toString());\r\n                log.info(&quot;BankId API not responding correctly. Check server connection&quot;);\r\n            }\r\n            return false;\r\n        }\r\n    \r\n        public void cancelBankIdAuthentication(@Value(&quot;${BankId.CancelUrl}&quot;) String bankIdCancelUrl) {\r\n            customRestTemplate.postForEntity(bankIdCancelUrl, null, String.class);\r\n        }\r\n    }\r\n\r\nNow for some reson this line:\r\n\r\n    ResponseEntity&lt;BankIdAuthResponse&gt; authResponse = customRestTemplate.postForEntity(bankIdAuthUrl, httpEntity, BankIdAuthResponse.class);\r\n\r\nkeeps producing the result `authResponse = null` indicating that \r\n\r\n    Mockito.when(restTemplate.postForEntity(anyString(), any(HttpEntity.class), any()))\r\n                    .thenReturn(ResponseEntity.ok(authResponse));\r\n\r\nis not working. Now I have been playing around with this for over 3h and i still get the same result. What could i be doing wrong?","title":"Unit testing - RestTemplate mock keeps retuning null","body":"<p>So Im writing unit test a class that does bankId authentication and the unit test looks like this.</p>\n<pre><code>package se.kt.client;\n\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.junit.runner.RunWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mockito;\nimport org.mockito.junit.MockitoJUnitRunner;\nimport org.mockito.junit.jupiter.MockitoExtension;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.test.context.junit4.SpringRunner;\nimport org.springframework.web.client.RestTemplate;\nimport org.springframework.http.HttpEntity;\nimport se.kt.common.vo.PublicApplicationForm;\nimport se.kt.models.BankIdAuthRequest;\nimport se.kt.models.BankIdAuthResponse;\nimport se.kt.models.BankIdCollectResponse;\nimport static org.mockito.ArgumentMatchers.any;\nimport static org.junit.Assert.assertTrue;\nimport static org.mockito.ArgumentMatchers.anyString;\nimport static org.mockito.ArgumentMatchers.eq;\n\n\n@RunWith(MockitoJUnitRunner.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\nclass BankIdClientTest {\n\n    private final RestTemplate restTemplate = Mockito.mock(RestTemplate.class);\n\n    @InjectMocks\n    private BankIdClient bankIdClient;\n\n    @BeforeEach\n    public void setUp() {\n    }\n\n\n\n    @Test\n    public void testBankIdAuthentication_success() throws InterruptedException {\n        PublicApplicationForm form = new PublicApplicationForm();\n        form.setSsn(&quot;123456-7890&quot;);\n        form.setIp_address(&quot;123.123.123.123&quot;);\n\n        BankIdAuthRequest authRequest = bankIdClient.authRequestFromApplicationForm(form, &quot;123&quot;);\n\n        BankIdAuthResponse authResponse = new BankIdAuthResponse();\n        authResponse.setOrderRef(&quot;123456&quot;);\n\n        BankIdCollectResponse collectResponse = new BankIdCollectResponse();\n        collectResponse.setStatus(&quot;completed&quot;);\n\n        Mockito.when(restTemplate.postForEntity(anyString(), any(HttpEntity.class), any()))\n                .thenReturn(ResponseEntity.ok(authResponse));\n        Mockito.when(restTemplate.getForEntity(anyString(), any()))\n                .thenReturn(ResponseEntity.ok(collectResponse));\n\n        assertTrue(bankIdClient.bankIdAuthentication(authRequest));\n    }\n}\n</code></pre>\n<p>And the class Im testing looks like this:</p>\n<pre><code>package se.kt.client;\n\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.ObjectWriter;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.http.HttpEntity;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.client.RestTemplate;\nimport se.kt.common.domain.AbstractApplicationForm;\nimport se.kt.common.vo.PublicApplicationForm;\nimport se.kt.models.BankIdAuthRequest;\nimport se.kt.models.BankIdAuthResponse;\nimport se.kt.models.BankIdCollectResponse;\n\nimport javax.validation.constraints.AssertFalse;\nimport javax.validation.constraints.AssertTrue;\nimport java.util.Objects;\n\n@Component\npublic class BankIdClient {\n\n    private static final Logger log = LoggerFactory.getLogger(BankIdClient.class);\n    private final RestTemplate customRestTemplate;\n    private static final String CONTENT_TYPE = &quot;Content-Type&quot;;\n\n    @Value(&quot;${BankId.AuthUrl}&quot;)\n    private String bankIdAuthUrl;\n\n    @Value(&quot;${BankId.CollectUrl}&quot;)\n    private String bankIdCollectUrl;\n\n    @Value(&quot;${BankId.SecretKey}&quot;)\n    private String bankIdSecretKey;\n\n    public BankIdClient(RestTemplate customRestTemplate) {\n        this.customRestTemplate = customRestTemplate;\n    }\n\n    public BankIdAuthRequest authRequestFromApplicationForm(PublicApplicationForm form, String jobId) {\n        BankIdAuthRequest bankIdAuthRequest = new BankIdAuthRequest();\n        bankIdAuthRequest.setPno(form.getSsn());\n        bankIdAuthRequest.setIpAddress(form.getIp_address());\n        bankIdAuthRequest.setRefID(jobId);\n        bankIdAuthRequest.setSecretKey(bankIdSecretKey);\n        bankIdAuthRequest.setAvsikt(&quot;Kt application&quot;);\n\n        return bankIdAuthRequest;\n    }\n\n    public boolean bankIdAuthentication(BankIdAuthRequest bankIdAuthRequest) throws InterruptedException {\n        //Setup header and body for request.\n        HttpHeaders headers = new HttpHeaders();\n        headers.add(CONTENT_TYPE, MediaType.APPLICATION_JSON.toString());\n\n        ObjectWriter ow = new ObjectMapper().writer().withDefaultPrettyPrinter();\n\n        try {\n            String bankIdAuthFormJson = ow.writeValueAsString(bankIdAuthRequest);\n\n            HttpEntity&lt;String&gt; httpEntity = new HttpEntity&lt;&gt;(bankIdAuthFormJson, headers);\n            ResponseEntity&lt;BankIdAuthResponse&gt; authResponse = customRestTemplate.postForEntity(bankIdAuthUrl, httpEntity, BankIdAuthResponse.class);\n\n            bankIdCollectUrl += Objects.requireNonNull(authResponse.getBody()).getOrderRef();\n\n            ResponseEntity&lt;BankIdCollectResponse&gt; collectResponse;\n\n            do {\n                collectResponse = customRestTemplate.getForEntity(bankIdCollectUrl, BankIdCollectResponse.class);\n\n                Thread.sleep(1500);\n\n                if (Objects.requireNonNull(collectResponse.getBody()).getStatus().equals(&quot;completed&quot;))\n                    return true;\n                if (Objects.requireNonNull(collectResponse.getBody()).getStatus().equals(&quot;failed&quot;))\n                    return false;\n            } while (Objects.requireNonNull(collectResponse.getBody()).getStatus().equals(&quot;progress&quot;));\n\n        } catch (JsonProcessingException e) {\n            log.info(e.getMessage());\n        } catch (NullPointerException e) {\n            log.info(e.toString());\n            log.info(&quot;BankId API not responding correctly. Check server connection&quot;);\n        }\n        return false;\n    }\n\n    public void cancelBankIdAuthentication(@Value(&quot;${BankId.CancelUrl}&quot;) String bankIdCancelUrl) {\n        customRestTemplate.postForEntity(bankIdCancelUrl, null, String.class);\n    }\n}\n</code></pre>\n<p>Now for some reson this line:</p>\n<pre><code>ResponseEntity&lt;BankIdAuthResponse&gt; authResponse = customRestTemplate.postForEntity(bankIdAuthUrl, httpEntity, BankIdAuthResponse.class);\n</code></pre>\n<p>keeps producing the result <code>authResponse = null</code> indicating that</p>\n<pre><code>Mockito.when(restTemplate.postForEntity(anyString(), any(HttpEntity.class), any()))\n                .thenReturn(ResponseEntity.ok(authResponse));\n</code></pre>\n<p>is not working. Now I have been playing around with this for over 3h and i still get the same result. What could i be doing wrong?</p>\n"},{"tags":["java","synchronized"],"comments":[{"owner":{"account_id":2818342,"reputation":299858,"user_id":2422776,"display_name":"Mureinik"},"score":4,"creation_date":1671566093,"post_id":74868243,"comment_id":132125748,"body_markdown":"You have five different instances in five different threads, and each one is synchronized on it&#39;s own instance - they use different synchronization so they won&#39;t block each other.","body":"You have five different instances in five different threads, and each one is synchronized on it&#39;s own instance - they use different synchronization so they won&#39;t block each other."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1671566143,"post_id":74868243,"comment_id":132125762,"body_markdown":"What exactly do you mean by &quot;he streams cannot be synchronized&quot;?","body":"What exactly do you mean by &quot;he streams cannot be synchronized&quot;?"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1671566173,"post_id":74868243,"comment_id":132125768,"body_markdown":"Also note: when writing questions about &quot;not working code&quot;, please follow [mcve]. Don&#39;t expect us to figure your problem from &quot;not working, here my code&quot;. Always tell us what you expect to happen, and what actually happens. &quot;doesnt work&quot; isnt a working problem description.","body":"Also note: when writing questions about &quot;not working code&quot;, please follow <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Don&#39;t expect us to figure your problem from &quot;not working, here my code&quot;. Always tell us what you expect to happen, and what actually happens. &quot;doesnt work&quot; isnt a working problem description."},{"owner":{"account_id":27307692,"reputation":11,"user_id":20823386,"display_name":"Fobos1996"},"score":0,"creation_date":1671566507,"post_id":74868243,"comment_id":132125875,"body_markdown":"I expect the output to be like this:\n50000\n50000\n50000\n\nbut the output is:\n48359\n48938\n48429","body":"I expect the output to be like this: 50000 50000 50000  but the output is: 48359 48938 48429"},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1671566786,"post_id":74868243,"comment_id":132125936,"body_markdown":"`synchronized (SecondClass.class)` should work for example. The synchronization object needs to be shared across all instances of `SecondClass`, i.e. it has to be `static` or something that is inherently static like a class object","body":"<code>synchronized (SecondClass.class)</code> should work for example. The synchronization object needs to be shared across all instances of <code>SecondClass</code>, i.e. it has to be <code>static</code> or something that is inherently static like a class object"},{"owner":{"account_id":27307692,"reputation":11,"user_id":20823386,"display_name":"Fobos1996"},"score":0,"creation_date":1671731106,"post_id":74868243,"comment_id":132165831,"body_markdown":"Thank you all for your help, I figured out my issue with your help.","body":"Thank you all for your help, I figured out my issue with your help."}],"owner":{"account_id":27307692,"reputation":11,"user_id":20823386,"display_name":"Fobos1996"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1671911627,"answer_count":0,"score":0,"last_activity_date":1671566723,"creation_date":1671565937,"question_id":74868243,"body_markdown":"In the course of training, as well as with the analysis of multithreading, I decided to try my hand at thread synchronization. In this regard, I made a small test, where the creation of threads occurs through the creation of objects. And I got into a problem situation, the streams cannot be synchronized, and I don&#39;t understand what the problem is.\r\n\r\n\r\n```\r\npublic class MainClass {\r\n    static int firstInt;\r\n    static int secondInt;\r\n    static int thirdInt;\r\n    public static void main(String[] args) {\r\n        SecondClass s1 = new SecondClass(&quot;&quot;);\r\n        SecondClass s2 = new SecondClass(&quot;&quot;);\r\n        SecondClass s3 = new SecondClass(&quot;&quot;);\r\n        SecondClass s4 = new SecondClass(&quot;&quot;);\r\n        SecondClass s5 = new SecondClass(&quot;&quot;);\r\n\r\n        try {\r\n            s1.t.join();\r\n            s2.t.join();\r\n            s3.t.join();\r\n            s4.t.join();\r\n            s5.t.join();\r\n        } catch (InterruptedException exp) {\r\n            System.out.println(&quot;!&quot;);\r\n        }\r\n\r\n        System.out.println(firstInt);\r\n        System.out.println(secondInt);\r\n        System.out.println(thirdInt);\r\n    }\r\n}\r\n\r\nclass SecondClass implements Runnable {\r\n    String name;\r\n    Thread t;\r\n\r\n    SecondClass(String a) {\r\n        name = a;\r\n        t = new Thread(this);\r\n        t.setName(name);\r\n        t.start();\r\n        System.out.println(&quot;   &quot;+t.getName()+&quot;   .&quot;);\r\n    }\r\n\r\n    private void plusFirstInt() {\r\n        MainClass.firstInt++;\r\n    }\r\n\r\n    private void plusSecondInt() {\r\n        MainClass.secondInt++;\r\n    }\r\n\r\n    private void plusThirdInt() {\r\n        MainClass.thirdInt++;\r\n    }\r\n\r\n    private synchronized void fori() {\r\n        try {\r\n            for (int i = 0; i &lt; 10000; i++) {\r\n                plusFirstInt();\r\n                plusSecondInt();\r\n                plusThirdInt();\r\n            }\r\n            Thread.sleep(10);\r\n        } catch (InterruptedException exp) {\r\n            System.out.println(&quot;!&quot;);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        fori();\r\n    }\r\n}\r\n```\r\n\r\nTried to sync using object reference.\r\n\r\n```\r\nObject a = new Object();\r\n\r\nprivate void plusFirstInt() {\r\n    synchronized (a){\r\n        MainClass.firstInt++;\r\n    }\r\n}\r\n```","title":"Can&#39;t implement synchronization in class","body":"<p>In the course of training, as well as with the analysis of multithreading, I decided to try my hand at thread synchronization. In this regard, I made a small test, where the creation of threads occurs through the creation of objects. And I got into a problem situation, the streams cannot be synchronized, and I don't understand what the problem is.</p>\n<pre><code>public class MainClass {\n    static int firstInt;\n    static int secondInt;\n    static int thirdInt;\n    public static void main(String[] args) {\n        SecondClass s1 = new SecondClass(&quot;&quot;);\n        SecondClass s2 = new SecondClass(&quot;&quot;);\n        SecondClass s3 = new SecondClass(&quot;&quot;);\n        SecondClass s4 = new SecondClass(&quot;&quot;);\n        SecondClass s5 = new SecondClass(&quot;&quot;);\n\n        try {\n            s1.t.join();\n            s2.t.join();\n            s3.t.join();\n            s4.t.join();\n            s5.t.join();\n        } catch (InterruptedException exp) {\n            System.out.println(&quot;!&quot;);\n        }\n\n        System.out.println(firstInt);\n        System.out.println(secondInt);\n        System.out.println(thirdInt);\n    }\n}\n\nclass SecondClass implements Runnable {\n    String name;\n    Thread t;\n\n    SecondClass(String a) {\n        name = a;\n        t = new Thread(this);\n        t.setName(name);\n        t.start();\n        System.out.println(&quot;   &quot;+t.getName()+&quot;   .&quot;);\n    }\n\n    private void plusFirstInt() {\n        MainClass.firstInt++;\n    }\n\n    private void plusSecondInt() {\n        MainClass.secondInt++;\n    }\n\n    private void plusThirdInt() {\n        MainClass.thirdInt++;\n    }\n\n    private synchronized void fori() {\n        try {\n            for (int i = 0; i &lt; 10000; i++) {\n                plusFirstInt();\n                plusSecondInt();\n                plusThirdInt();\n            }\n            Thread.sleep(10);\n        } catch (InterruptedException exp) {\n            System.out.println(&quot;!&quot;);\n        }\n    }\n\n    @Override\n    public void run() {\n        fori();\n    }\n}\n</code></pre>\n<p>Tried to sync using object reference.</p>\n<pre><code>Object a = new Object();\n\nprivate void plusFirstInt() {\n    synchronized (a){\n        MainClass.firstInt++;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc","spring-security","spring-data"],"comments":[{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1671301678,"post_id":74831043,"comment_id":132071905,"body_markdown":"You mean when are you running java -jar command then this error is coming?","body":"You mean when are you running java -jar command then this error is coming?"},{"owner":{"account_id":10207255,"reputation":21,"user_id":7535604,"display_name":"onox"},"score":0,"creation_date":1671317417,"post_id":74831043,"comment_id":132074721,"body_markdown":"exactly, java -jar core.jar","body":"exactly, java -jar core.jar"}],"answers":[{"tags":[],"owner":{"account_id":10207255,"reputation":21,"user_id":7535604,"display_name":"onox"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671566649,"creation_date":1671566649,"answer_id":74868361,"question_id":74831043,"body_markdown":"There was some problem when build jar from Build -&gt; Build Artifacts -&gt; Rebuild. Seems that tomcat is not embeeded with this configuration.\r\n\r\nIf I build jar from maven menu into Intellij, the exception dissapear.","title":"Error creating bean with name &#39;resourceHandlerMapping&#39;","body":"<p>There was some problem when build jar from Build -&gt; Build Artifacts -&gt; Rebuild. Seems that tomcat is not embeeded with this configuration.</p>\n<p>If I build jar from maven menu into Intellij, the exception dissapear.</p>\n"}],"owner":{"account_id":10207255,"reputation":21,"user_id":7535604,"display_name":"onox"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":547,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671566649,"creation_date":1671237789,"question_id":74831043,"body_markdown":"I am implementing Spring Boot application and when it&#39;s run from Intellij everythinks works fine, but when the artifact is built and run, gets the next error:\r\n\r\n``` 01:07:27.155 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;resourceHandlerMapping&#39; defined in class path resource [org/springframework/web/servlet/config/annotation/DelegatingWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.HandlerMapping]: Factory method &#39;resourceHandlerMapping&#39; threw exception; nested exception is java.lang.IllegalStateException: No ServletContext set\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\n\tat com.backend.core.CoreApplication.main(CoreApplication.java:20)\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.HandlerMapping]: Factory method &#39;resourceHandlerMapping&#39; threw exception; nested exception is java.lang.IllegalStateException: No ServletContext set\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\r\n\t... 18 common frames omitted\r\nCaused by: java.lang.IllegalStateException: No ServletContext set\r\n\tat org.springframework.util.Assert.state(Assert.java:76)\r\n\tat org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.resourceHandlerMapping(WebMvcConfigurationSupport.java:591)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n\t... 19 common frames omitted\r\n```\r\nSee [here][1] full log.\r\n\r\nI&#39;m using spring-boot-starter-web package which includes Tomcat as a default implementation of a servlet. Seems that exception is thrown because the bean which extends WebMvcConfigurationSupport is created earlier than expected and before the ServletContext is available.\r\n\r\nI was trying to change or remove some annotations on WebConfig.java, SecurityConfig.java and CoreApplication.java but always the result is the same. \r\n\r\nAs a test, if @EnableAutoConfiguration(exclude = { WebMvcAutoConfiguration.class }) is implemented on CoreApplication.java, the exported jar is runned as standalone application without any issue.\r\n\r\nSo how can I configure WebMvcAutoConfiguration.class in order to run the application waiting for incoming http requests? How can I do in order to build later the bean which extends WebMvcConfigurationSupport and after the ServletContext is available?\r\n\r\nHere my repo where there is [pom.xml][2], [application.properties][3], [config classes][4], [controllers][5], [main application][6], [models][7] and [repositories][8].\r\n\r\nThanks\r\n\r\n\r\n  [1]: https://github.com/SoftwarDevelop3r/core-backend-api-v1/blob/feature/SpringSecurity/out/artifacts/core_jar/log.txt\r\n  [2]: https://github.com/SoftwarDevelop3r/core-backend-api-v1/blob/feature/SpringSecurity/pom.xml\r\n  [3]: https://github.com/SoftwarDevelop3r/core-backend-api-v1/blob/feature/SpringSecurity/src/main/resources/application.properties\r\n  [4]: https://github.com/SoftwarDevelop3r/core-backend-api-v1/tree/feature/SpringSecurity/src/main/java/com/backend/config\r\n  [5]: https://github.com/SoftwarDevelop3r/core-backend-api-v1/tree/feature/SpringSecurity/src/main/java/com/backend/controller\r\n  [6]: https://github.com/SoftwarDevelop3r/core-backend-api-v1/blob/feature/SpringSecurity/src/main/java/com/backend/core/CoreApplication.java\r\n  [7]: https://github.com/SoftwarDevelop3r/core-backend-api-v1/tree/feature/SpringSecurity/src/main/java/com/backend/model\r\n  [8]: https://github.com/SoftwarDevelop3r/core-backend-api-v1/tree/feature/SpringSecurity/src/main/java/com/backend/repository","title":"Error creating bean with name &#39;resourceHandlerMapping&#39;","body":"<p>I am implementing Spring Boot application and when it's run from Intellij everythinks works fine, but when the artifact is built and run, gets the next error:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'resourceHandlerMapping' defined in class path resource [org/springframework/web/servlet/config/annotation/DelegatingWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.HandlerMapping]: Factory method 'resourceHandlerMapping' threw exception; nested exception is java.lang.IllegalStateException: No ServletContext set\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\n    at com.backend.core.CoreApplication.main(CoreApplication.java:20)\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.HandlerMapping]: Factory method 'resourceHandlerMapping' threw exception; nested exception is java.lang.IllegalStateException: No ServletContext set\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\n    ... 18 common frames omitted\nCaused by: java.lang.IllegalStateException: No ServletContext set\n    at org.springframework.util.Assert.state(Assert.java:76)\n    at org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.resourceHandlerMapping(WebMvcConfigurationSupport.java:591)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n    ... 19 common frames omitted\n</code></pre>\n<p>See <a href=\"https://github.com/SoftwarDevelop3r/core-backend-api-v1/blob/feature/SpringSecurity/out/artifacts/core_jar/log.txt\" rel=\"nofollow noreferrer\">here</a> full log.</p>\n<p>I'm using spring-boot-starter-web package which includes Tomcat as a default implementation of a servlet. Seems that exception is thrown because the bean which extends WebMvcConfigurationSupport is created earlier than expected and before the ServletContext is available.</p>\n<p>I was trying to change or remove some annotations on WebConfig.java, SecurityConfig.java and CoreApplication.java but always the result is the same.</p>\n<p>As a test, if @EnableAutoConfiguration(exclude = { WebMvcAutoConfiguration.class }) is implemented on CoreApplication.java, the exported jar is runned as standalone application without any issue.</p>\n<p>So how can I configure WebMvcAutoConfiguration.class in order to run the application waiting for incoming http requests? How can I do in order to build later the bean which extends WebMvcConfigurationSupport and after the ServletContext is available?</p>\n<p>Here my repo where there is <a href=\"https://github.com/SoftwarDevelop3r/core-backend-api-v1/blob/feature/SpringSecurity/pom.xml\" rel=\"nofollow noreferrer\">pom.xml</a>, <a href=\"https://github.com/SoftwarDevelop3r/core-backend-api-v1/blob/feature/SpringSecurity/src/main/resources/application.properties\" rel=\"nofollow noreferrer\">application.properties</a>, <a href=\"https://github.com/SoftwarDevelop3r/core-backend-api-v1/tree/feature/SpringSecurity/src/main/java/com/backend/config\" rel=\"nofollow noreferrer\">config classes</a>, <a href=\"https://github.com/SoftwarDevelop3r/core-backend-api-v1/tree/feature/SpringSecurity/src/main/java/com/backend/controller\" rel=\"nofollow noreferrer\">controllers</a>, <a href=\"https://github.com/SoftwarDevelop3r/core-backend-api-v1/blob/feature/SpringSecurity/src/main/java/com/backend/core/CoreApplication.java\" rel=\"nofollow noreferrer\">main application</a>, <a href=\"https://github.com/SoftwarDevelop3r/core-backend-api-v1/tree/feature/SpringSecurity/src/main/java/com/backend/model\" rel=\"nofollow noreferrer\">models</a> and <a href=\"https://github.com/SoftwarDevelop3r/core-backend-api-v1/tree/feature/SpringSecurity/src/main/java/com/backend/repository\" rel=\"nofollow noreferrer\">repositories</a>.</p>\n<p>Thanks</p>\n"},{"tags":["java","mysql","user-interface","netbeans"],"comments":[{"owner":{"account_id":27123034,"reputation":1993,"user_id":20666497,"display_name":"Albina"},"score":0,"creation_date":1671563019,"post_id":74867600,"comment_id":132124812,"body_markdown":"I think the problem is with the quotes. Check this answer: https://stackoverflow.com/a/1346298/20666497","body":"I think the problem is with the quotes. Check this answer: <a href=\"https://stackoverflow.com/a/1346298/20666497\">stackoverflow.com/a/1346298/20666497</a>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1671563048,"post_id":74867600,"comment_id":132124826,"body_markdown":"1) *i tried this on another table and it works just fine!* - well that doesn&#39;t mean both tables have the same column name. We can&#39;t debug this for you. 2) you should be using a `PreparedStatement` to make the SQL easier and less error prone. Check out: https://stackoverflow.com/a/24102087/131872 for a simple example of how to create the statement and use parameters.","body":"1) <i>i tried this on another table and it works just fine!</i> - well that doesn&#39;t mean both tables have the same column name. We can&#39;t debug this for you. 2) you should be using a <code>PreparedStatement</code> to make the SQL easier and less error prone. Check out: <a href=\"https://stackoverflow.com/a/24102087/131872\">stackoverflow.com/a/24102087/131872</a> for a simple example of how to create the statement and use parameters."}],"answers":[{"tags":[],"owner":{"account_id":8067843,"reputation":3948,"user_id":6081445,"accept_rate":100,"display_name":"wake-0"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671566181,"creation_date":1671566181,"answer_id":74868278,"question_id":74867600,"body_markdown":"Do you have a typo? You write `empJob` -&gt; but your variable is called `Jop`. So maybe it should be `empJop`.\r\n\r\n    String sql = &quot;insert into employee(empid,empName, empAddress,empJop,empSalary) values(&#39;&quot; + id + &quot;&#39;,&#39;&quot; + name + &quot;&#39; , &#39;&quot; + Address + &quot;&#39;,&#39;&quot; + Jop + &quot;&#39;,&#39;&quot; + Salary + &quot;&#39;)&quot;;\r\n\r\n","title":"inserting to database using java gui","body":"<p>Do you have a typo? You write <code>empJob</code> -&gt; but your variable is called <code>Jop</code>. So maybe it should be <code>empJop</code>.</p>\n<pre><code>String sql = &quot;insert into employee(empid,empName, empAddress,empJop,empSalary) values('&quot; + id + &quot;','&quot; + name + &quot;' , '&quot; + Address + &quot;','&quot; + Jop + &quot;','&quot; + Salary + &quot;')&quot;;\n</code></pre>\n"}],"owner":{"account_id":25337904,"reputation":1,"user_id":19156740,"display_name":"user19156740"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671566181,"creation_date":1671561993,"question_id":74867600,"body_markdown":"I am trying to insert data from my netbeans to mysql workbench. there is no problem with the query but when I run the program a message box appear  **&quot;Unknown column &#39;empJob&#39; in &#39;field list &#39;&quot;**  . What seems to be the problem?\r\nand just to Know i tried this on another table and it works just fine! but in this one it doesn&#39;t work!  \r\n\r\n```\r\nint id, Salary;\r\nString name, Address, Jop;\r\n\r\nid = Integer.parseInt(tNo.getText());\r\nname = tName.getText();\r\nAddress = tAddress.getText();\r\nJop = tJop.getText();\r\nSalary = Integer.parseInt(tNo.getText());\r\n\r\nString sql = &quot;insert into employee(empid,empName, empAddress,empJob,empSalary) values(&#39;&quot; + id + &quot;&#39;,&#39;&quot; + name + &quot;&#39; , &#39;&quot; + Address + &quot;&#39;,&#39;&quot; + Jop + &quot;&#39;,&#39;&quot; + Salary + &quot;&#39;)&quot;;\r\n\r\nStatement st = con.createStatement(ResultSet.TYPE_SCROLL_SENSITIVE, ResultSet.CONCUR_UPDATABLE);\r\nint x = st.executeUpdate(sql);\r\nif (x &gt; 0) {\r\n    JOptionPane.showMessageDialog(prev, x + &quot;rows effected&quot;);\r\n} else {\r\n    JOptionPane.showMessageDialog(prev, &quot;insert failed&quot;);\r\n}\r\n\r\n```\r\n","title":"inserting to database using java gui","body":"<p>I am trying to insert data from my netbeans to mysql workbench. there is no problem with the query but when I run the program a message box appear  <strong>&quot;Unknown column 'empJob' in 'field list '&quot;</strong>  . What seems to be the problem?\nand just to Know i tried this on another table and it works just fine! but in this one it doesn't work!</p>\n<pre><code>int id, Salary;\nString name, Address, Jop;\n\nid = Integer.parseInt(tNo.getText());\nname = tName.getText();\nAddress = tAddress.getText();\nJop = tJop.getText();\nSalary = Integer.parseInt(tNo.getText());\n\nString sql = &quot;insert into employee(empid,empName, empAddress,empJob,empSalary) values('&quot; + id + &quot;','&quot; + name + &quot;' , '&quot; + Address + &quot;','&quot; + Jop + &quot;','&quot; + Salary + &quot;')&quot;;\n\nStatement st = con.createStatement(ResultSet.TYPE_SCROLL_SENSITIVE, ResultSet.CONCUR_UPDATABLE);\nint x = st.executeUpdate(sql);\nif (x &gt; 0) {\n    JOptionPane.showMessageDialog(prev, x + &quot;rows effected&quot;);\n} else {\n    JOptionPane.showMessageDialog(prev, &quot;insert failed&quot;);\n}\n\n</code></pre>\n"},{"tags":["java","generics","reflection"],"answers":[{"tags":[],"owner":{"account_id":84673,"reputation":2402,"user_id":236521,"accept_rate":100,"display_name":"Dimitar"},"down_vote_count":3,"up_vote_count":22,"is_accepted":false,"score":19,"last_activity_date":1456869833,"creation_date":1280911628,"answer_id":3403927,"question_id":3403909,"body_markdown":"I dont think you can, Java uses type erasure when compiling so your code is compatible with applications and libraries that were created pre-generics.\r\n\r\nFrom the Oracle Docs:\r\n\r\n&gt; Type Erasure\r\n&gt; \r\n&gt; Generics were introduced to the Java language to provide tighter type\r\n&gt; checks at compile time and to support generic programming. To\r\n&gt; implement generics, the Java compiler applies type erasure to:\r\n&gt; \r\n&gt; Replace all type parameters in generic types with their bounds or\r\n&gt; Object if the type parameters are unbounded. The produced bytecode,\r\n&gt; therefore, contains only ordinary classes, interfaces, and methods.\r\n&gt; Insert type casts if necessary to preserve type safety. Generate\r\n&gt; bridge methods to preserve polymorphism in extended generic types.\r\n&gt; Type erasure ensures that no new classes are created for parameterized\r\n&gt; types; consequently, generics incur no runtime overhead.\r\n\r\nhttp://docs.oracle.com/javase/tutorial/java/generics/erasure.html\r\n","title":"Get generic type of class at runtime","body":"<p>I dont think you can, Java uses type erasure when compiling so your code is compatible with applications and libraries that were created pre-generics.</p>\n\n<p>From the Oracle Docs:</p>\n\n<blockquote>\n  <p>Type Erasure</p>\n  \n  <p>Generics were introduced to the Java language to provide tighter type\n  checks at compile time and to support generic programming. To\n  implement generics, the Java compiler applies type erasure to:</p>\n  \n  <p>Replace all type parameters in generic types with their bounds or\n  Object if the type parameters are unbounded. The produced bytecode,\n  therefore, contains only ordinary classes, interfaces, and methods.\n  Insert type casts if necessary to preserve type safety. Generate\n  bridge methods to preserve polymorphism in extended generic types.\n  Type erasure ensures that no new classes are created for parameterized\n  types; consequently, generics incur no runtime overhead.</p>\n</blockquote>\n\n<p><a href=\"http://docs.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/tutorial/java/generics/erasure.html</a></p>\n"},{"tags":[],"owner":{"account_id":15931,"reputation":14364,"user_id":34201,"display_name":"andrewmu"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1280911820,"creation_date":1280911820,"answer_id":3403957,"question_id":3403909,"body_markdown":"You can&#39;t.  If you add a member variable of type T to the class (you don&#39;t even have to initialise it), you could use that to recover the type.","title":"Get generic type of class at runtime","body":"<p>You can't.  If you add a member variable of type T to the class (you don't even have to initialise it), you could use that to recover the type.</p>\n"},{"tags":[],"owner":{"account_id":76005,"reputation":38195,"user_id":217862,"accept_rate":64,"display_name":"ewernli"},"down_vote_count":7,"up_vote_count":139,"is_accepted":false,"score":132,"last_activity_date":1560351305,"creation_date":1280911951,"answer_id":3403969,"question_id":3403909,"body_markdown":"Generics are not *reified* at run-time. This means the information is not present at run-time.\r\n\r\nAdding generics to Java while mantaining backward compatibility was a tour-de-force (you can see the seminal paper about it: [Making the future safe for the past: adding genericity to the Java programming language][1]).\r\n\r\nThere is a rich literature on the subject, and some people are [dissatisfied][2] with the current state, some says that actually it&#39;s a [lure][3] and there is no real need for it. You can read both links, I found them quite interesting.\r\n\r\n\r\n  [1]: http://homepages.inf.ed.ac.uk/wadler/gj/Documents/gj-oopsla.pdf\r\n  [2]: http://gafter.blogspot.com/2006/11/reified-generics-for-java.html\r\n  [3]: https://olabini.se/blog/2010/07/questioning-the-reality-of-generics/","title":"Get generic type of class at runtime","body":"<p>Generics are not <em>reified</em> at run-time. This means the information is not present at run-time.</p>\n\n<p>Adding generics to Java while mantaining backward compatibility was a tour-de-force (you can see the seminal paper about it: <a href=\"http://homepages.inf.ed.ac.uk/wadler/gj/Documents/gj-oopsla.pdf\" rel=\"noreferrer\">Making the future safe for the past: adding genericity to the Java programming language</a>).</p>\n\n<p>There is a rich literature on the subject, and some people are <a href=\"http://gafter.blogspot.com/2006/11/reified-generics-for-java.html\" rel=\"noreferrer\">dissatisfied</a> with the current state, some says that actually it's a <a href=\"https://olabini.se/blog/2010/07/questioning-the-reality-of-generics/\" rel=\"noreferrer\">lure</a> and there is no real need for it. You can read both links, I found them quite interesting.</p>\n"},{"tags":[],"owner":{"account_id":152633,"reputation":48303,"user_id":367285,"accept_rate":81,"display_name":"FrVaBe"},"down_vote_count":8,"up_vote_count":330,"is_accepted":false,"score":322,"last_activity_date":1280912000,"creation_date":1280912000,"answer_id":3403976,"question_id":3403909,"body_markdown":"I have seen something like this\r\n\r\n    private Class&lt;T&gt; persistentClass;\r\n \r\n    public Constructor() {\r\n        this.persistentClass = (Class&lt;T&gt;) ((ParameterizedType) getClass()\r\n                                .getGenericSuperclass()).getActualTypeArguments()[0];\r\n     }\r\n\r\nin the [hibernate GenericDataAccessObjects][1] Example\r\n\r\n\r\n  [1]: http://community.jboss.org/wiki/GenericDataAccessObjects","title":"Get generic type of class at runtime","body":"<p>I have seen something like this</p>\n\n<pre><code>private Class&lt;T&gt; persistentClass;\n\npublic Constructor() {\n    this.persistentClass = (Class&lt;T&gt;) ((ParameterizedType) getClass()\n                            .getGenericSuperclass()).getActualTypeArguments()[0];\n }\n</code></pre>\n\n<p>in the <a href=\"http://community.jboss.org/wiki/GenericDataAccessObjects\" rel=\"noreferrer\">hibernate GenericDataAccessObjects</a> Example</p>\n"},{"tags":[],"owner":{"account_id":4627,"reputation":16143,"user_id":7034,"accept_rate":100,"display_name":"Henning"},"down_vote_count":4,"up_vote_count":416,"is_accepted":false,"score":412,"last_activity_date":1425812134,"creation_date":1280912126,"answer_id":3403987,"question_id":3403909,"body_markdown":"As others mentioned, it&#39;s only possible via reflection in certain circumstances.\r\n\r\nIf you really need the type, this is the usual (type-safe) workaround pattern:\r\n\r\n    public class GenericClass&lt;T&gt; {\r\n         \r\n         private final Class&lt;T&gt; type;\r\n\r\n         public GenericClass(Class&lt;T&gt; type) {\r\n              this.type = type;\r\n         }\r\n\r\n         public Class&lt;T&gt; getMyType() {\r\n             return this.type;\r\n         }\r\n    }","title":"Get generic type of class at runtime","body":"<p>As others mentioned, it's only possible via reflection in certain circumstances.</p>\n\n<p>If you really need the type, this is the usual (type-safe) workaround pattern:</p>\n\n<pre><code>public class GenericClass&lt;T&gt; {\n\n     private final Class&lt;T&gt; type;\n\n     public GenericClass(Class&lt;T&gt; type) {\n          this.type = type;\n     }\n\n     public Class&lt;T&gt; getMyType() {\n         return this.type;\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":75323,"reputation":15516,"user_id":216111,"accept_rate":100,"display_name":"josefx"},"down_vote_count":2,"up_vote_count":51,"is_accepted":false,"score":49,"last_activity_date":1280912380,"creation_date":1280912380,"answer_id":3404014,"question_id":3403909,"body_markdown":"Java generics are mostly compile time, this means that the type information is lost at runtime.\r\n\r\n    class GenericCls&lt;T&gt;\r\n    {\r\n        T t;\r\n    }\r\n\r\nwill be compiled to something like\r\n\r\n    class GenericCls\r\n    {\r\n       Object o;\r\n    }\r\nTo get the type information at runtime you have to add it as an argument of the ctor.\r\n\r\n    class GenericCls&lt;T&gt;\r\n    {\r\n         private Class&lt;T&gt; type;\r\n         public GenericCls(Class&lt;T&gt; cls)\r\n         {\r\n            type= cls;\r\n         }\r\n         Class&lt;T&gt; getType(){return type;}\r\n    }\r\n\r\nExample:\r\n\r\n    GenericCls&lt;?&gt; instance = new GenericCls&lt;String&gt;(String.class);\r\n    assert instance.getType() == String.class;\r\n\r\n","title":"Get generic type of class at runtime","body":"<p>Java generics are mostly compile time, this means that the type information is lost at runtime.</p>\n\n<pre><code>class GenericCls&lt;T&gt;\n{\n    T t;\n}\n</code></pre>\n\n<p>will be compiled to something like</p>\n\n<pre><code>class GenericCls\n{\n   Object o;\n}\n</code></pre>\n\n<p>To get the type information at runtime you have to add it as an argument of the ctor.</p>\n\n<pre><code>class GenericCls&lt;T&gt;\n{\n     private Class&lt;T&gt; type;\n     public GenericCls(Class&lt;T&gt; cls)\n     {\n        type= cls;\n     }\n     Class&lt;T&gt; getType(){return type;}\n}\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>GenericCls&lt;?&gt; instance = new GenericCls&lt;String&gt;(String.class);\nassert instance.getType() == String.class;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":170117,"reputation":17037,"user_id":396618,"accept_rate":100,"display_name":"Joeri Hendrickx"},"down_vote_count":5,"up_vote_count":51,"is_accepted":false,"score":46,"last_activity_date":1453838018,"creation_date":1280913771,"answer_id":3404169,"question_id":3403909,"body_markdown":"Sure, you can.\r\n\r\nJava does not *use* the information at run time, for backwards compatibility reasons.  But the information is *actually present* as metadata and can be accessed via reflection (but it is still not used for type-checking).\r\n\r\nFrom the official API:\r\n\r\nhttp://download.oracle.com/javase/6/docs/api/java/lang/reflect/ParameterizedType.html#getActualTypeArguments%28%29\r\n\r\n**However**, for your scenario I would not use reflection.  I&#39;m personally more inclined to use that for framework code.  In your case I would just add the type as a constructor param.","title":"Get generic type of class at runtime","body":"<p>Sure, you can.</p>\n\n<p>Java does not <em>use</em> the information at run time, for backwards compatibility reasons.  But the information is <em>actually present</em> as metadata and can be accessed via reflection (but it is still not used for type-checking).</p>\n\n<p>From the official API:</p>\n\n<p><a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/reflect/ParameterizedType.html#getActualTypeArguments%28%29\" rel=\"noreferrer\">http://download.oracle.com/javase/6/docs/api/java/lang/reflect/ParameterizedType.html#getActualTypeArguments%28%29</a></p>\n\n<p><strong>However</strong>, for your scenario I would not use reflection.  I'm personally more inclined to use that for framework code.  In your case I would just add the type as a constructor param.</p>\n"},{"tags":[],"owner":{"account_id":2153873,"reputation":13196,"user_id":1909531,"accept_rate":79,"display_name":"Matthias M"},"down_vote_count":4,"up_vote_count":11,"is_accepted":false,"score":7,"last_activity_date":1357050033,"creation_date":1357050033,"answer_id":14111247,"question_id":3403909,"body_markdown":"This is my solution:\r\n\r\n    import java.lang.reflect.Type;\r\n    import java.lang.reflect.TypeVariable;\r\n\r\n    public class GenericClass&lt;T extends String&gt; {\r\n\r\n      public static void main(String[] args) {\r\n         for (TypeVariable typeParam : GenericClass.class.getTypeParameters()) {\r\n          System.out.println(typeParam.getName());\r\n          for (Type bound : typeParam.getBounds()) {\r\n             System.out.println(bound);\r\n          }\r\n        }\r\n      }\r\n    }","title":"Get generic type of class at runtime","body":"<p>This is my solution:</p>\n\n<pre><code>import java.lang.reflect.Type;\nimport java.lang.reflect.TypeVariable;\n\npublic class GenericClass&lt;T extends String&gt; {\n\n  public static void main(String[] args) {\n     for (TypeVariable typeParam : GenericClass.class.getTypeParameters()) {\n      System.out.println(typeParam.getName());\n      for (Type bound : typeParam.getBounds()) {\n         System.out.println(bound);\n      }\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":339128,"reputation":11053,"user_id":668417,"accept_rate":55,"display_name":"Ondrej Bozek"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1361465959,"creation_date":1361465959,"answer_id":15008017,"question_id":3403909,"body_markdown":"Technique described in this [article by Ian Robertson][1] works for me.\r\n\r\nIn short quick and dirty example:\r\n\r\n\r\n\r\n   \r\n\r\n     public abstract class AbstractDAO&lt;T extends EntityInterface, U extends QueryCriteria, V&gt;\r\n     {\r\n        /**\r\n         * Method returns class implementing EntityInterface which was used in class\r\n         * extending AbstractDAO\r\n         *\r\n         * @return Class&lt;T extends EntityInterface&gt;\r\n         */\r\n        public Class&lt;T&gt; returnedClass()\r\n        {\r\n            return (Class&lt;T&gt;) getTypeArguments(AbstractDAO.class, getClass()).get(0);\r\n        }\r\n    \r\n        /**\r\n         * Get the underlying class for a type, or null if the type is a variable\r\n         * type.\r\n         *\r\n         * @param type the type\r\n         * @return the underlying class\r\n         */\r\n        public static Class&lt;?&gt; getClass(Type type)\r\n        {\r\n            if (type instanceof Class) {\r\n                return (Class) type;\r\n            } else if (type instanceof ParameterizedType) {\r\n                return getClass(((ParameterizedType) type).getRawType());\r\n            } else if (type instanceof GenericArrayType) {\r\n                Type componentType = ((GenericArrayType) type).getGenericComponentType();\r\n                Class&lt;?&gt; componentClass = getClass(componentType);\r\n                if (componentClass != null) {\r\n                    return Array.newInstance(componentClass, 0).getClass();\r\n                } else {\r\n                    return null;\r\n                }\r\n            } else {\r\n                return null;\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Get the actual type arguments a child class has used to extend a generic\r\n         * base class.\r\n         *\r\n         * @param baseClass the base class\r\n         * @param childClass the child class\r\n         * @return a list of the raw classes for the actual type arguments.\r\n         */\r\n        public static &lt;T&gt; List&lt;Class&lt;?&gt;&gt; getTypeArguments(\r\n                Class&lt;T&gt; baseClass, Class&lt;? extends T&gt; childClass)\r\n        {\r\n            Map&lt;Type, Type&gt; resolvedTypes = new HashMap&lt;Type, Type&gt;();\r\n            Type type = childClass;\r\n            // start walking up the inheritance hierarchy until we hit baseClass\r\n            while (!getClass(type).equals(baseClass)) {\r\n                if (type instanceof Class) {\r\n                    // there is no useful information for us in raw types, so just keep going.\r\n                    type = ((Class) type).getGenericSuperclass();\r\n                } else {\r\n                    ParameterizedType parameterizedType = (ParameterizedType) type;\r\n                    Class&lt;?&gt; rawType = (Class) parameterizedType.getRawType();\r\n    \r\n                    Type[] actualTypeArguments = parameterizedType.getActualTypeArguments();\r\n                    TypeVariable&lt;?&gt;[] typeParameters = rawType.getTypeParameters();\r\n                    for (int i = 0; i &lt; actualTypeArguments.length; i++) {\r\n                        resolvedTypes.put(typeParameters[i], actualTypeArguments[i]);\r\n                    }\r\n    \r\n                    if (!rawType.equals(baseClass)) {\r\n                        type = rawType.getGenericSuperclass();\r\n                    }\r\n                }\r\n            }\r\n    \r\n            // finally, for each actual type argument provided to baseClass, determine (if possible)\r\n            // the raw class for that type argument.\r\n            Type[] actualTypeArguments;\r\n            if (type instanceof Class) {\r\n                actualTypeArguments = ((Class) type).getTypeParameters();\r\n            } else {\r\n                actualTypeArguments = ((ParameterizedType) type).getActualTypeArguments();\r\n            }\r\n            List&lt;Class&lt;?&gt;&gt; typeArgumentsAsClasses = new ArrayList&lt;Class&lt;?&gt;&gt;();\r\n            // resolve types by chasing down type variables.\r\n            for (Type baseType : actualTypeArguments) {\r\n                while (resolvedTypes.containsKey(baseType)) {\r\n                    baseType = resolvedTypes.get(baseType);\r\n                }\r\n                typeArgumentsAsClasses.add(getClass(baseType));\r\n            }\r\n            return typeArgumentsAsClasses;\r\n        }\r\n      }\r\n\r\n  [1]: http://www.artima.com/weblogs/viewpost.jsp?thread=208860","title":"Get generic type of class at runtime","body":"<p>Technique described in this <a href=\"http://www.artima.com/weblogs/viewpost.jsp?thread=208860\">article by Ian Robertson</a> works for me.</p>\n\n<p>In short quick and dirty example:</p>\n\n<pre><code> public abstract class AbstractDAO&lt;T extends EntityInterface, U extends QueryCriteria, V&gt;\n {\n    /**\n     * Method returns class implementing EntityInterface which was used in class\n     * extending AbstractDAO\n     *\n     * @return Class&lt;T extends EntityInterface&gt;\n     */\n    public Class&lt;T&gt; returnedClass()\n    {\n        return (Class&lt;T&gt;) getTypeArguments(AbstractDAO.class, getClass()).get(0);\n    }\n\n    /**\n     * Get the underlying class for a type, or null if the type is a variable\n     * type.\n     *\n     * @param type the type\n     * @return the underlying class\n     */\n    public static Class&lt;?&gt; getClass(Type type)\n    {\n        if (type instanceof Class) {\n            return (Class) type;\n        } else if (type instanceof ParameterizedType) {\n            return getClass(((ParameterizedType) type).getRawType());\n        } else if (type instanceof GenericArrayType) {\n            Type componentType = ((GenericArrayType) type).getGenericComponentType();\n            Class&lt;?&gt; componentClass = getClass(componentType);\n            if (componentClass != null) {\n                return Array.newInstance(componentClass, 0).getClass();\n            } else {\n                return null;\n            }\n        } else {\n            return null;\n        }\n    }\n\n    /**\n     * Get the actual type arguments a child class has used to extend a generic\n     * base class.\n     *\n     * @param baseClass the base class\n     * @param childClass the child class\n     * @return a list of the raw classes for the actual type arguments.\n     */\n    public static &lt;T&gt; List&lt;Class&lt;?&gt;&gt; getTypeArguments(\n            Class&lt;T&gt; baseClass, Class&lt;? extends T&gt; childClass)\n    {\n        Map&lt;Type, Type&gt; resolvedTypes = new HashMap&lt;Type, Type&gt;();\n        Type type = childClass;\n        // start walking up the inheritance hierarchy until we hit baseClass\n        while (!getClass(type).equals(baseClass)) {\n            if (type instanceof Class) {\n                // there is no useful information for us in raw types, so just keep going.\n                type = ((Class) type).getGenericSuperclass();\n            } else {\n                ParameterizedType parameterizedType = (ParameterizedType) type;\n                Class&lt;?&gt; rawType = (Class) parameterizedType.getRawType();\n\n                Type[] actualTypeArguments = parameterizedType.getActualTypeArguments();\n                TypeVariable&lt;?&gt;[] typeParameters = rawType.getTypeParameters();\n                for (int i = 0; i &lt; actualTypeArguments.length; i++) {\n                    resolvedTypes.put(typeParameters[i], actualTypeArguments[i]);\n                }\n\n                if (!rawType.equals(baseClass)) {\n                    type = rawType.getGenericSuperclass();\n                }\n            }\n        }\n\n        // finally, for each actual type argument provided to baseClass, determine (if possible)\n        // the raw class for that type argument.\n        Type[] actualTypeArguments;\n        if (type instanceof Class) {\n            actualTypeArguments = ((Class) type).getTypeParameters();\n        } else {\n            actualTypeArguments = ((ParameterizedType) type).getActualTypeArguments();\n        }\n        List&lt;Class&lt;?&gt;&gt; typeArgumentsAsClasses = new ArrayList&lt;Class&lt;?&gt;&gt;();\n        // resolve types by chasing down type variables.\n        for (Type baseType : actualTypeArguments) {\n            while (resolvedTypes.containsKey(baseType)) {\n                baseType = resolvedTypes.get(baseType);\n            }\n            typeArgumentsAsClasses.add(getClass(baseType));\n        }\n        return typeArgumentsAsClasses;\n    }\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1586049,"reputation":170,"user_id":1470386,"display_name":"PJWeisberg"},"down_vote_count":6,"up_vote_count":14,"is_accepted":false,"score":8,"last_activity_date":1363209901,"creation_date":1363209901,"answer_id":15396772,"question_id":3403909,"body_markdown":"Here&#39;s one way, which I&#39;ve had to use once or twice:\r\n\r\n    public abstract class GenericClass&lt;T&gt;{\r\n        public abstract Class&lt;T&gt; getMyType();\r\n    }\r\n\r\nAlong with\r\n\r\n    public class SpecificClass extends GenericClass&lt;String&gt;{\r\n\r\n        @Override\r\n        public Class&lt;String&gt; getMyType(){\r\n            return String.class;\r\n        }\r\n    }","title":"Get generic type of class at runtime","body":"<p>Here's one way, which I've had to use once or twice:</p>\n\n<pre><code>public abstract class GenericClass&lt;T&gt;{\n    public abstract Class&lt;T&gt; getMyType();\n}\n</code></pre>\n\n<p>Along with</p>\n\n<pre><code>public class SpecificClass extends GenericClass&lt;String&gt;{\n\n    @Override\n    public Class&lt;String&gt; getMyType(){\n        return String.class;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":135124,"reputation":5909,"user_id":337735,"accept_rate":50,"display_name":"Cody A. Ray"},"down_vote_count":3,"up_vote_count":92,"is_accepted":false,"score":89,"last_activity_date":1542989238,"creation_date":1383594904,"answer_id":19775924,"question_id":3403909,"body_markdown":"Use Guava.\r\n\r\n    import com.google.common.reflect.TypeToken;\r\n    import java.lang.reflect.Type;\r\n\r\n    public abstract class GenericClass&lt;T&gt; {\r\n      private final TypeToken&lt;T&gt; typeToken = new TypeToken&lt;T&gt;(getClass()) { };\r\n      private final Type type = typeToken.getType(); // or getRawType() to return Class&lt;? super T&gt;\r\n\r\n      public Type getType() {\r\n        return type;\r\n      }\r\n\r\n      public static void main(String[] args) {\r\n        GenericClass&lt;String&gt; example = new GenericClass&lt;String&gt;() { };\r\n        System.out.println(example.getType()); // =&gt; class java.lang.String\r\n      }\r\n    }\r\n\r\nA while back, I posted some full-fledge examples including abstract classes and subclasses [here](http://codyaray.com/2013/01/finding-generic-type-parameters-with-guava).\r\n\r\nNote: this requires that you instantiate a _subclass_ of `GenericClass` so it can bind the type parameter correctly. Otherwise it&#39;ll just return the type as `T`.","title":"Get generic type of class at runtime","body":"<p>Use Guava.</p>\n\n<pre><code>import com.google.common.reflect.TypeToken;\nimport java.lang.reflect.Type;\n\npublic abstract class GenericClass&lt;T&gt; {\n  private final TypeToken&lt;T&gt; typeToken = new TypeToken&lt;T&gt;(getClass()) { };\n  private final Type type = typeToken.getType(); // or getRawType() to return Class&lt;? super T&gt;\n\n  public Type getType() {\n    return type;\n  }\n\n  public static void main(String[] args) {\n    GenericClass&lt;String&gt; example = new GenericClass&lt;String&gt;() { };\n    System.out.println(example.getType()); // =&gt; class java.lang.String\n  }\n}\n</code></pre>\n\n<p>A while back, I posted some full-fledge examples including abstract classes and subclasses <a href=\"http://codyaray.com/2013/01/finding-generic-type-parameters-with-guava\" rel=\"noreferrer\">here</a>.</p>\n\n<p>Note: this requires that you instantiate a <em>subclass</em> of <code>GenericClass</code> so it can bind the type parameter correctly. Otherwise it'll just return the type as <code>T</code>.</p>\n"},{"tags":[],"owner":{"account_id":363131,"reputation":2750,"user_id":706695,"accept_rate":78,"display_name":"HRgiger"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1394021973,"creation_date":1394021973,"answer_id":22197590,"question_id":3403909,"body_markdown":"Here is my trick:\r\n\r\n    public class Main {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n    \r\n            System.out.println(Main.&lt;String&gt; getClazz());\r\n    \r\n        }\r\n    \r\n        static &lt;T&gt; Class getClazz(T... param) {\r\n    \r\n            return param.getClass().getComponentType();\r\n        }\r\n    \r\n    }","title":"Get generic type of class at runtime","body":"<p>Here is my trick:</p>\n\n<pre><code>public class Main {\n\n    public static void main(String[] args) throws Exception {\n\n        System.out.println(Main.&lt;String&gt; getClazz());\n\n    }\n\n    static &lt;T&gt; Class getClazz(T... param) {\n\n        return param.getClass().getComponentType();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4894672,"reputation":57,"user_id":3944702,"display_name":"Pablo Trinidad"},"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1408111129,"creation_date":1408110637,"answer_id":25327642,"question_id":3403909,"body_markdown":"Just in case you use store a variable using the generic type you can easily solve this problem adding a getClassType method as follows:\r\n\r\n    public class Constant&lt;T&gt; {\r\n\t  private T value;\r\n\t  \r\n\t  @SuppressWarnings(&quot;unchecked&quot;)\r\n\t  public Class&lt;T&gt; getClassType () {\r\n\t\treturn ((Class&lt;T&gt;) value.getClass());\r\n\t  }\r\n    }\r\n\r\nI use the provided class object later to check if it is an instance of a given class, as follows:\r\n\r\n    Constant&lt;?&gt; constant = ...;\r\n    if (constant.getClassType().equals(Integer.class)) {\r\n    \tConstant&lt;Integer&gt; integerConstant = (Constant&lt;Integer&gt;)constant;\r\n    \tInteger value = integerConstant.getValue();\r\n    \t// ...\r\n    }","title":"Get generic type of class at runtime","body":"<p>Just in case you use store a variable using the generic type you can easily solve this problem adding a getClassType method as follows:</p>\n\n<pre><code>public class Constant&lt;T&gt; {\n  private T value;\n\n  @SuppressWarnings(\"unchecked\")\n  public Class&lt;T&gt; getClassType () {\n    return ((Class&lt;T&gt;) value.getClass());\n  }\n}\n</code></pre>\n\n<p>I use the provided class object later to check if it is an instance of a given class, as follows:</p>\n\n<pre><code>Constant&lt;?&gt; constant = ...;\nif (constant.getClassType().equals(Integer.class)) {\n    Constant&lt;Integer&gt; integerConstant = (Constant&lt;Integer&gt;)constant;\n    Integer value = integerConstant.getValue();\n    // ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1126287,"reputation":3130,"user_id":1113510,"display_name":"Moesio"},"down_vote_count":2,"up_vote_count":25,"is_accepted":false,"score":23,"last_activity_date":1512674928,"creation_date":1411933477,"answer_id":26088911,"question_id":3403909,"body_markdown":"I used follow approach:\r\n\r\n\r\n    public class A&lt;T&gt; {\r\n\r\n\t    protected Class&lt;T&gt; clazz;\r\n\r\n    \tpublic A() {\r\n      \t\tthis.clazz = (Class&lt;T&gt;) ((ParameterizedType) getClass().getGenericSuperclass()).getActualTypeArguments()[0];\r\n    \t}\r\n\r\n        public Class&lt;T&gt; getClazz() {\r\n            return clazz;\r\n        }\r\n    }\r\n\r\n    public class B extends A&lt;C&gt; {\r\n       /* ... */\r\n        public void anything() {\r\n           // here I may use getClazz();\r\n        }\r\n    }","title":"Get generic type of class at runtime","body":"<p>I used follow approach:</p>\n\n<pre><code>public class A&lt;T&gt; {\n\n    protected Class&lt;T&gt; clazz;\n\n    public A() {\n        this.clazz = (Class&lt;T&gt;) ((ParameterizedType) getClass().getGenericSuperclass()).getActualTypeArguments()[0];\n    }\n\n    public Class&lt;T&gt; getClazz() {\n        return clazz;\n    }\n}\n\npublic class B extends A&lt;C&gt; {\n   /* ... */\n    public void anything() {\n       // here I may use getClazz();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5964676,"reputation":430,"user_id":4688730,"display_name":"Yaroslav Kovbas"},"down_vote_count":3,"up_vote_count":10,"is_accepted":false,"score":7,"last_activity_date":1448892973,"creation_date":1448881988,"answer_id":33997270,"question_id":3403909,"body_markdown":"Here is working solution!!!\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n        private&#160;Class&lt;T&gt; getGenericTypeClass() {\r\n        &#160;&#160;&#160;&#160;try&#160;{\r\n        &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;String className = ((ParameterizedType) getClass().getGenericSuperclass()).getActualTypeArguments()[0].getTypeName();\r\n        &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Class&lt;?&gt; clazz = Class.forName(className);\r\n        &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return&#160;(Class&lt;T&gt;) clazz;\r\n        &#160;&#160;&#160;&#160;}&#160;catch&#160;(Exception e) {\r\n        &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;throw new&#160;IllegalStateException(&quot;Class is not parametrized with generic type!!! Please use extends &lt;&gt; &quot;);\r\n        &#160;&#160;&#160;&#160;}\r\n        } \r\n\r\nNOTES:\r\n**Can be used only as superclass**\r\n &lt;br/&gt;1. Has to be extended with typed class  (`Child extends Generic&lt;Integer&gt;`)\r\n***&lt;br/&gt;OR***\r\n &lt;br/&gt;2. Has to be created as anonymous implementation (`new Generic&lt;Integer&gt;() {};`)   ","title":"Get generic type of class at runtime","body":"<p>Here is working solution!!!</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\n    privateClass&lt;T&gt; getGenericTypeClass() {\n    try{\n    String className = ((ParameterizedType) getClass().getGenericSuperclass()).getActualTypeArguments()[0].getTypeName();\n    Class&lt;?&gt; clazz = Class.forName(className);\n    return(Class&lt;T&gt;) clazz;\n    }catch(Exception e) {\n    throw newIllegalStateException(\"Class is not parametrized with generic type!!! Please use extends &lt;&gt; \");\n    }\n    } \n</code></pre>\n\n<p>NOTES:\n<strong>Can be used only as superclass</strong>\n <br/>1. Has to be extended with typed class  (<code>Child extends Generic&lt;Integer&gt;</code>)\n<strong><em><br/>OR</em></strong>\n <br/>2. Has to be created as anonymous implementation (<code>new Generic&lt;Integer&gt;() {};</code>)   </p>\n"},{"tags":[],"owner":{"account_id":440244,"reputation":3289,"user_id":829711,"accept_rate":85,"display_name":"galex"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1463478314,"creation_date":1463478314,"answer_id":37272615,"question_id":3403909,"body_markdown":"To complete some of the answers here, I had to get the ParametrizedType of MyGenericClass&lt;T&gt;, no matter how high is the hierarchy, with the help of recursion:\r\n\r\n    private Class&lt;T&gt; getGenericTypeClass() {\r\n    \t\treturn (Class&lt;T&gt;) (getParametrizedType(getClass())).getActualTypeArguments()[0];\r\n    }\r\n\r\n\tprivate static ParameterizedType getParametrizedType(Class clazz){\r\n\t\tif(clazz.getSuperclass().equals(MyGenericClass.class)){ // check that we are at the top of the hierarchy\r\n\t\t\treturn (ParameterizedType) clazz.getGenericSuperclass();\r\n\t\t} else {\r\n\t\t\treturn getParametrizedType(clazz.getSuperclass());\r\n\t\t}\r\n\t}","title":"Get generic type of class at runtime","body":"<p>To complete some of the answers here, I had to get the ParametrizedType of MyGenericClass, no matter how high is the hierarchy, with the help of recursion:</p>\n\n<pre><code>private Class&lt;T&gt; getGenericTypeClass() {\n        return (Class&lt;T&gt;) (getParametrizedType(getClass())).getActualTypeArguments()[0];\n}\n\nprivate static ParameterizedType getParametrizedType(Class clazz){\n    if(clazz.getSuperclass().equals(MyGenericClass.class)){ // check that we are at the top of the hierarchy\n        return (ParameterizedType) clazz.getGenericSuperclass();\n    } else {\n        return getParametrizedType(clazz.getSuperclass());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":953426,"reputation":918,"user_id":979145,"accept_rate":25,"display_name":"DaBlick"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1468509639,"creation_date":1468509639,"answer_id":38378135,"question_id":3403909,"body_markdown":"I think there is another elegant solution.\r\n\r\nWhat you want to do is (safely) &quot;pass&quot; the type of the generic type parameter up from the concerete class to the superclass.\r\n\r\nIf you allow yourself to think of the class type as &quot;metadata&quot; on the class, that suggests the Java method for encoding metadata in at runtime:  annotations.\r\n\r\nFirst define a custom annotation along these lines:\r\n\r\n\r\n    import java.lang.annotation.*;\r\n\r\n    @Target(ElementType.TYPE)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface EntityAnnotation {\r\n        Class entityClass();\r\n    }\r\n\r\nYou can then have to add the annotation to your subclass.\r\n \r\n    @EntityAnnotation(entityClass =  PassedGenericType.class)\r\n    public class Subclass&lt;PassedGenericType&gt; {...}\r\n\r\nThen you can use this code to get the class type in  your base class:\r\n\r\n    import org.springframework.core.annotation.AnnotationUtils;\r\n    .\r\n    .\r\n    .\r\n\r\n    private Class getGenericParameterType() {\r\n        final Class aClass = this.getClass();\r\n        EntityAnnotation ne = \r\n             AnnotationUtils.findAnnotation(aClass, EntityAnnotation.class);\r\n\r\n        return ne.entityClass();\r\n    }\r\n\r\n\r\nSome limitations of this approach are:\r\n\r\n 1. You specify the generic type (`PassedGenericType`) in TWO places rather than one which is non-DRY.\r\n 2. This is only possible if you can modify the concrete subclasses.\r\n\r\n ","title":"Get generic type of class at runtime","body":"<p>I think there is another elegant solution.</p>\n\n<p>What you want to do is (safely) \"pass\" the type of the generic type parameter up from the concerete class to the superclass.</p>\n\n<p>If you allow yourself to think of the class type as \"metadata\" on the class, that suggests the Java method for encoding metadata in at runtime:  annotations.</p>\n\n<p>First define a custom annotation along these lines:</p>\n\n<pre><code>import java.lang.annotation.*;\n\n@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface EntityAnnotation {\n    Class entityClass();\n}\n</code></pre>\n\n<p>You can then have to add the annotation to your subclass.</p>\n\n<pre><code>@EntityAnnotation(entityClass =  PassedGenericType.class)\npublic class Subclass&lt;PassedGenericType&gt; {...}\n</code></pre>\n\n<p>Then you can use this code to get the class type in  your base class:</p>\n\n<pre><code>import org.springframework.core.annotation.AnnotationUtils;\n.\n.\n.\n\nprivate Class getGenericParameterType() {\n    final Class aClass = this.getClass();\n    EntityAnnotation ne = \n         AnnotationUtils.findAnnotation(aClass, EntityAnnotation.class);\n\n    return ne.entityClass();\n}\n</code></pre>\n\n<p>Some limitations of this approach are:</p>\n\n<ol>\n<li>You specify the generic type (<code>PassedGenericType</code>) in TWO places rather than one which is non-DRY.</li>\n<li>This is only possible if you can modify the concrete subclasses.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1873350,"reputation":667,"user_id":1695108,"accept_rate":62,"display_name":"Lin Yu Cheng"},"down_vote_count":4,"up_vote_count":7,"is_accepted":false,"score":3,"last_activity_date":1469616222,"creation_date":1469616222,"answer_id":38610737,"question_id":3403909,"body_markdown":"Here is my solution\r\n\r\n    public class GenericClass&lt;T&gt;\r\n    {\r\n        private Class&lt;T&gt; realType;\r\n        \r\n        public GenericClass() {\r\n            findTypeArguments(getClass());\r\n        }\r\n        \r\n        private void findTypeArguments(Type t) {\r\n            if (t instanceof ParameterizedType) {\r\n                Type[] typeArgs = ((ParameterizedType) t).getActualTypeArguments();\r\n                realType = (Class&lt;T&gt;) typeArgs[0];\r\n            } else {\r\n                Class c = (Class) t;\r\n                findTypeArguments(c.getGenericSuperclass());\r\n            }\r\n        }\r\n\r\n        public Type getMyType()\r\n        {\r\n            // How do I return the type of T? (your question)\r\n            return realType;\r\n        }\r\n    }\r\n\r\nNo matter how many level does your class hierarchy has,\r\nthis solution still works, for example:\r\n\r\n    public class FirstLevelChild&lt;T&gt; extends GenericClass&lt;T&gt; {\r\n    \r\n    }\r\n\r\n    public class SecondLevelChild extends FirstLevelChild&lt;String&gt; {\r\n    \r\n    }\r\n\r\nIn this case, getMyType() = java.lang.String","title":"Get generic type of class at runtime","body":"<p>Here is my solution</p>\n\n<pre><code>public class GenericClass&lt;T&gt;\n{\n    private Class&lt;T&gt; realType;\n\n    public GenericClass() {\n        findTypeArguments(getClass());\n    }\n\n    private void findTypeArguments(Type t) {\n        if (t instanceof ParameterizedType) {\n            Type[] typeArgs = ((ParameterizedType) t).getActualTypeArguments();\n            realType = (Class&lt;T&gt;) typeArgs[0];\n        } else {\n            Class c = (Class) t;\n            findTypeArguments(c.getGenericSuperclass());\n        }\n    }\n\n    public Type getMyType()\n    {\n        // How do I return the type of T? (your question)\n        return realType;\n    }\n}\n</code></pre>\n\n<p>No matter how many level does your class hierarchy has,\nthis solution still works, for example:</p>\n\n<pre><code>public class FirstLevelChild&lt;T&gt; extends GenericClass&lt;T&gt; {\n\n}\n\npublic class SecondLevelChild extends FirstLevelChild&lt;String&gt; {\n\n}\n</code></pre>\n\n<p>In this case, getMyType() = java.lang.String</p>\n"},{"tags":[],"owner":{"account_id":9763354,"reputation":1,"user_id":7237714,"display_name":"Mark Karchner"},"down_vote_count":7,"up_vote_count":1,"is_accepted":false,"score":-6,"last_activity_date":1480616400,"creation_date":1480616400,"answer_id":40917725,"question_id":3403909,"body_markdown":"I found this to be a simple understandable and easily explainable  solution\r\n\r\n    public class GenericClass&lt;T&gt; {\r\n\r\n\t    private Class classForT(T...t) {\r\n    \t    return t.getClass().getComponentType();\r\n        }\r\n\t\r\n\t    public static void main(String[] args) {\r\n\t\t    GenericClass&lt;String&gt; g = new GenericClass&lt;String&gt;();\r\n\t\t\r\n\t\t    System.out.println(g.classForT());\r\n\t\t    System.out.println(String.class);\r\n\t    }\r\n    }","title":"Get generic type of class at runtime","body":"<p>I found this to be a simple understandable and easily explainable  solution</p>\n\n<pre><code>public class GenericClass&lt;T&gt; {\n\n    private Class classForT(T...t) {\n        return t.getClass().getComponentType();\n    }\n\n    public static void main(String[] args) {\n        GenericClass&lt;String&gt; g = new GenericClass&lt;String&gt;();\n\n        System.out.println(g.classForT());\n        System.out.println(String.class);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5001436,"reputation":905,"user_id":4020329,"display_name":"Ali Yeganeh"},"down_vote_count":2,"up_vote_count":43,"is_accepted":false,"score":41,"last_activity_date":1545822981,"creation_date":1487177704,"answer_id":42255526,"question_id":3403909,"body_markdown":"    public abstract class AbstractDao&lt;T&gt;\r\n    {\r\n    \tprivate final Class&lt;T&gt; persistentClass;\r\n    \t\r\n    \tpublic AbstractDao()\r\n    \t{\r\n    \t\tthis.persistentClass = (Class&lt;T&gt;) ((ParameterizedType) this.getClass().getGenericSuperclass())\r\n    \t\t        .getActualTypeArguments()[0];\r\n    \t}\r\n    }","title":"Get generic type of class at runtime","body":"<pre><code>public abstract class AbstractDao&lt;T&gt;\n{\n    private final Class&lt;T&gt; persistentClass;\n\n    public AbstractDao()\n    {\n        this.persistentClass = (Class&lt;T&gt;) ((ParameterizedType) this.getClass().getGenericSuperclass())\n                .getActualTypeArguments()[0];\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6567154,"reputation":137,"user_id":5076337,"display_name":"Paul92"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1520537501,"creation_date":1520535406,"answer_id":49180507,"question_id":3403909,"body_markdown":"One simple solution for this cab be like below\r\n\r\n    public class GenericDemo&lt;T&gt;{\r\n    \tprivate T type;\r\n    \t\r\n    \tGenericDemo(T t)\r\n    \t{\r\n    \t\tthis.type = t;\r\n    \t}\r\n    \t\r\n    \tpublic String getType()\r\n    \t{\r\n    \t\treturn this.type.getClass().getName();\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tGenericDemo&lt;Integer&gt; obj = new  GenericDemo&lt;Integer&gt;(5);\r\n    \t\tSystem.out.println(&quot;Type: &quot;+ obj.getType());\r\n    \t}\r\n    }","title":"Get generic type of class at runtime","body":"<p>One simple solution for this cab be like below</p>\n\n<pre><code>public class GenericDemo&lt;T&gt;{\n    private T type;\n\n    GenericDemo(T t)\n    {\n        this.type = t;\n    }\n\n    public String getType()\n    {\n        return this.type.getClass().getName();\n    }\n\n    public static void main(String[] args)\n    {\n        GenericDemo&lt;Integer&gt; obj = new  GenericDemo&lt;Integer&gt;(5);\n        System.out.println(\"Type: \"+ obj.getType());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1144833,"reputation":7270,"user_id":1127843,"accept_rate":86,"display_name":"kayz1"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1538038507,"creation_date":1538038507,"answer_id":52533102,"question_id":3403909,"body_markdown":"    public static final Class&lt;?&gt; getGenericArgument(final Class&lt;?&gt; clazz)\r\n\t{\r\n\t\treturn (Class&lt;?&gt;) ((ParameterizedType) clazz.getGenericSuperclass()).getActualTypeArguments()[0];\r\n\t}","title":"Get generic type of class at runtime","body":"<pre><code>public static final Class&lt;?&gt; getGenericArgument(final Class&lt;?&gt; clazz)\n{\n    return (Class&lt;?&gt;) ((ParameterizedType) clazz.getGenericSuperclass()).getActualTypeArguments()[0];\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7991674,"reputation":385,"user_id":6029353,"display_name":"TheLetch"},"down_vote_count":5,"up_vote_count":1,"is_accepted":false,"score":-4,"last_activity_date":1540504840,"creation_date":1540504840,"answer_id":52998714,"question_id":3403909,"body_markdown":"It might be useful to someone. You can Use  java.lang.ref.WeakReference;\r\nthis way:\r\n\r\n    class SomeClass&lt;N&gt;{\r\n      WeakReference&lt;N&gt; variableToGetTypeFrom;\r\n      \r\n      N getType(){\r\n        return variableToGetTypeFrom.get();\r\n      }\r\n    }\r\n\r\n\r\n","title":"Get generic type of class at runtime","body":"<p>It might be useful to someone. You can Use  java.lang.ref.WeakReference;\nthis way:</p>\n\n<pre><code>class SomeClass&lt;N&gt;{\n  WeakReference&lt;N&gt; variableToGetTypeFrom;\n\n  N getType(){\n    return variableToGetTypeFrom.get();\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13855989,"reputation":81,"user_id":10002776,"display_name":"Bonestack"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1572302110,"creation_date":1572302110,"answer_id":58599254,"question_id":3403909,"body_markdown":"I did the same as @Moesio Above but in Kotlin it could be done this way:\r\n\r\n    class A&lt;T : SomeClass&gt;() {\r\n    \r\n        var someClassType : T\r\n    \r\n        init(){\r\n        this.someClassType = (javaClass.genericSuperclass as ParameterizedType).actualTypeArguments[0] as Class&lt;T&gt;\r\n        }\r\n    \r\n    }\r\n\r\n   ","title":"Get generic type of class at runtime","body":"<p>I did the same as @Moesio Above but in Kotlin it could be done this way:</p>\n\n<pre><code>class A&lt;T : SomeClass&gt;() {\n\n    var someClassType : T\n\n    init(){\n    this.someClassType = (javaClass.genericSuperclass as ParameterizedType).actualTypeArguments[0] as Class&lt;T&gt;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16375019,"reputation":39,"user_id":11827346,"display_name":"PetermaxX"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1575597229,"creation_date":1575597229,"answer_id":59205754,"question_id":3403909,"body_markdown":"Here is my solution. The examples should explain it. The only requirement is that a subclass must set the generic type, not an object.\r\n\r\n\timport java.lang.reflect.AccessibleObject;\r\n\timport java.lang.reflect.Field;\r\n\timport java.lang.reflect.Method;\r\n\timport java.lang.reflect.ParameterizedType;\r\n\timport java.lang.reflect.Type;\r\n\timport java.lang.reflect.TypeVariable;\r\n\timport java.util.HashMap;\r\n\timport java.util.Map;\r\n\t\r\n\tpublic class TypeUtils {\r\n\r\n\t\t/*** EXAMPLES ***/\r\n\r\n\t\tpublic static class Class1&lt;A, B, C&gt; {\r\n\r\n\t\t\tpublic A someA;\r\n\t\t\tpublic B someB;\r\n\t\t\tpublic C someC;\r\n\r\n\t\t\tpublic Class&lt;?&gt; getAType() {\r\n\t\t\t\treturn getTypeParameterType(this.getClass(), Class1.class, 0);\r\n\t\t\t}\r\n\r\n\t\t\tpublic Class&lt;?&gt; getCType() {\r\n\t\t\t\treturn getTypeParameterType(this.getClass(), Class1.class, 2);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic static class Class2&lt;D, A, B, E, C&gt; extends Class1&lt;A, B, C&gt; {\r\n\r\n\t\t\tpublic B someB;\r\n\t\t\tpublic D someD;\r\n\t\t\tpublic E someE;\r\n\t\t}\r\n\r\n\t\tpublic static class Class3&lt;E, C&gt; extends Class2&lt;String, Integer, Double, E, C&gt; {\r\n\r\n\t\t\tpublic E someE;\r\n\t\t}\r\n\r\n\t\tpublic static class Class4 extends Class3&lt;Boolean, Long&gt; {\r\n\r\n\t\t}\r\n\r\n\t\tpublic static void test() throws NoSuchFieldException {\r\n\r\n\t\t\tClass4 class4 = new Class4();\r\n\t\t\tClass&lt;?&gt; typeA = class4.getAType(); // typeA = Integer\r\n\t\t\tClass&lt;?&gt; typeC = class4.getCType(); // typeC = Long\r\n\r\n\t\t\tField fieldSomeA = class4.getClass().getField(&quot;someA&quot;);\r\n\t\t\tClass&lt;?&gt; typeSomeA = TypeUtils.getFieldType(class4.getClass(), fieldSomeA); // typeSomeA = Integer\r\n\r\n\t\t\tField fieldSomeE = class4.getClass().getField(&quot;someE&quot;);\r\n\t\t\tClass&lt;?&gt; typeSomeE = TypeUtils.getFieldType(class4.getClass(), fieldSomeE); // typeSomeE = Boolean\r\n\r\n\r\n\t\t}\r\n\r\n\t\t/*** UTILS ***/\r\n\r\n\t\tpublic static Class&lt;?&gt; getTypeVariableType(Class&lt;?&gt; subClass, TypeVariable&lt;?&gt; typeVariable) {\r\n\t\t\tMap&lt;TypeVariable&lt;?&gt;, Type&gt; subMap = new HashMap&lt;&gt;();\r\n\t\t\tClass&lt;?&gt; superClass;\r\n\t\t\twhile ((superClass = subClass.getSuperclass()) != null) {\r\n\r\n\t\t\t\tMap&lt;TypeVariable&lt;?&gt;, Type&gt; superMap = new HashMap&lt;&gt;();\r\n\t\t\t\tType superGeneric = subClass.getGenericSuperclass();\r\n\t\t\t\tif (superGeneric instanceof ParameterizedType) {\r\n\r\n\t\t\t\t\tTypeVariable&lt;?&gt;[] typeParams = superClass.getTypeParameters();\r\n\t\t\t\t\tType[] actualTypeArgs = ((ParameterizedType) superGeneric).getActualTypeArguments();\r\n\r\n\t\t\t\t\tfor (int i = 0; i &lt; typeParams.length; i++) {\r\n\t\t\t\t\t\tType actualType = actualTypeArgs[i];\r\n\t\t\t\t\t\tif (actualType instanceof TypeVariable) {\r\n\t\t\t\t\t\t\tactualType = subMap.get(actualType);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (typeVariable == typeParams[i]) return (Class&lt;?&gt;) actualType;\r\n\t\t\t\t\t\tsuperMap.put(typeParams[i], actualType);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tsubClass = superClass;\r\n\t\t\t\tsubMap = superMap;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tpublic static Class&lt;?&gt; getTypeParameterType(Class&lt;?&gt; subClass, Class&lt;?&gt; superClass, int typeParameterIndex) {\r\n\t\t\treturn TypeUtils.getTypeVariableType(subClass, superClass.getTypeParameters()[typeParameterIndex]);\r\n\t\t}\r\n\r\n\t\tpublic static Class&lt;?&gt; getFieldType(Class&lt;?&gt; clazz, AccessibleObject element) {\r\n\t\t\tClass&lt;?&gt; type = null;\r\n\t\t\tType genericType = null;\r\n\r\n\t\t\tif (element instanceof Field) {\r\n\t\t\t\ttype = ((Field) element).getType();\r\n\t\t\t\tgenericType = ((Field) element).getGenericType();\r\n\t\t\t} else if (element instanceof Method) {\r\n\t\t\t\ttype = ((Method) element).getReturnType();\r\n\t\t\t\tgenericType = ((Method) element).getGenericReturnType();\r\n\t\t\t}\r\n\r\n\t\t\tif (genericType instanceof TypeVariable) {\r\n\t\t\t\tClass&lt;?&gt; typeVariableType = TypeUtils.getTypeVariableType(clazz, (TypeVariable) genericType);\r\n\t\t\t\tif (typeVariableType != null) {\r\n\t\t\t\t\ttype = typeVariableType;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn type;\r\n\t\t}\r\n\t\t\r\n\t}","title":"Get generic type of class at runtime","body":"<p>Here is my solution. The examples should explain it. The only requirement is that a subclass must set the generic type, not an object.</p>\n\n<pre><code>import java.lang.reflect.AccessibleObject;\nimport java.lang.reflect.Field;\nimport java.lang.reflect.Method;\nimport java.lang.reflect.ParameterizedType;\nimport java.lang.reflect.Type;\nimport java.lang.reflect.TypeVariable;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class TypeUtils {\n\n    /*** EXAMPLES ***/\n\n    public static class Class1&lt;A, B, C&gt; {\n\n        public A someA;\n        public B someB;\n        public C someC;\n\n        public Class&lt;?&gt; getAType() {\n            return getTypeParameterType(this.getClass(), Class1.class, 0);\n        }\n\n        public Class&lt;?&gt; getCType() {\n            return getTypeParameterType(this.getClass(), Class1.class, 2);\n        }\n    }\n\n    public static class Class2&lt;D, A, B, E, C&gt; extends Class1&lt;A, B, C&gt; {\n\n        public B someB;\n        public D someD;\n        public E someE;\n    }\n\n    public static class Class3&lt;E, C&gt; extends Class2&lt;String, Integer, Double, E, C&gt; {\n\n        public E someE;\n    }\n\n    public static class Class4 extends Class3&lt;Boolean, Long&gt; {\n\n    }\n\n    public static void test() throws NoSuchFieldException {\n\n        Class4 class4 = new Class4();\n        Class&lt;?&gt; typeA = class4.getAType(); // typeA = Integer\n        Class&lt;?&gt; typeC = class4.getCType(); // typeC = Long\n\n        Field fieldSomeA = class4.getClass().getField(\"someA\");\n        Class&lt;?&gt; typeSomeA = TypeUtils.getFieldType(class4.getClass(), fieldSomeA); // typeSomeA = Integer\n\n        Field fieldSomeE = class4.getClass().getField(\"someE\");\n        Class&lt;?&gt; typeSomeE = TypeUtils.getFieldType(class4.getClass(), fieldSomeE); // typeSomeE = Boolean\n\n\n    }\n\n    /*** UTILS ***/\n\n    public static Class&lt;?&gt; getTypeVariableType(Class&lt;?&gt; subClass, TypeVariable&lt;?&gt; typeVariable) {\n        Map&lt;TypeVariable&lt;?&gt;, Type&gt; subMap = new HashMap&lt;&gt;();\n        Class&lt;?&gt; superClass;\n        while ((superClass = subClass.getSuperclass()) != null) {\n\n            Map&lt;TypeVariable&lt;?&gt;, Type&gt; superMap = new HashMap&lt;&gt;();\n            Type superGeneric = subClass.getGenericSuperclass();\n            if (superGeneric instanceof ParameterizedType) {\n\n                TypeVariable&lt;?&gt;[] typeParams = superClass.getTypeParameters();\n                Type[] actualTypeArgs = ((ParameterizedType) superGeneric).getActualTypeArguments();\n\n                for (int i = 0; i &lt; typeParams.length; i++) {\n                    Type actualType = actualTypeArgs[i];\n                    if (actualType instanceof TypeVariable) {\n                        actualType = subMap.get(actualType);\n                    }\n                    if (typeVariable == typeParams[i]) return (Class&lt;?&gt;) actualType;\n                    superMap.put(typeParams[i], actualType);\n                }\n            }\n            subClass = superClass;\n            subMap = superMap;\n        }\n        return null;\n    }\n\n    public static Class&lt;?&gt; getTypeParameterType(Class&lt;?&gt; subClass, Class&lt;?&gt; superClass, int typeParameterIndex) {\n        return TypeUtils.getTypeVariableType(subClass, superClass.getTypeParameters()[typeParameterIndex]);\n    }\n\n    public static Class&lt;?&gt; getFieldType(Class&lt;?&gt; clazz, AccessibleObject element) {\n        Class&lt;?&gt; type = null;\n        Type genericType = null;\n\n        if (element instanceof Field) {\n            type = ((Field) element).getType();\n            genericType = ((Field) element).getGenericType();\n        } else if (element instanceof Method) {\n            type = ((Method) element).getReturnType();\n            genericType = ((Method) element).getGenericReturnType();\n        }\n\n        if (genericType instanceof TypeVariable) {\n            Class&lt;?&gt; typeVariableType = TypeUtils.getTypeVariableType(clazz, (TypeVariable) genericType);\n            if (typeVariableType != null) {\n                type = typeVariableType;\n            }\n        }\n\n        return type;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3482475,"reputation":27230,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1605638672,"creation_date":1605638672,"answer_id":64881416,"question_id":3403909,"body_markdown":"If you have a class like:\r\n\r\n    public class GenericClass&lt;T&gt; {\r\n        private T data;\r\n    }\r\n\r\nwith `T` variable, then you can print `T` name:\r\n\r\n    System.out.println(data.getClass().getSimpleName()); // &quot;String&quot;, &quot;Integer&quot;, etc.","title":"Get generic type of class at runtime","body":"<p>If you have a class like:</p>\n<pre><code>public class GenericClass&lt;T&gt; {\n    private T data;\n}\n</code></pre>\n<p>with <code>T</code> variable, then you can print <code>T</code> name:</p>\n<pre><code>System.out.println(data.getClass().getSimpleName()); // &quot;String&quot;, &quot;Integer&quot;, etc.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7962844,"reputation":155,"user_id":6010052,"display_name":"jhyry-gcpud"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1621629247,"creation_date":1621629247,"answer_id":67643549,"question_id":3403909,"body_markdown":"This was inspired by Pablo&#39;s and CoolMind&#39;s answers.\r\nOccasionally I have also used the technique from kayz1&#39;s answer (expressed in many other answers as well), and I believe it is a decent and reliable way to do what the OP asked.\r\n\r\nI chose to define this as an interface (similar to PJWeisberg) first because I have existing types that would benefit from this functionality, particularly a heterogeneous generic union type:\r\n\r\n    public interface IGenericType&lt;T&gt;\r\n    {\r\n        Class&lt;T&gt; getGenericTypeParameterType();\r\n    }\r\n\r\nWhere my simple implementation in a generic anonymous interface implementation looks like the following:\r\n\r\n    //Passed into the generic value generator function: toStore\r\n    //This value name is a field in the enclosing class.\r\n    //IUnionTypeValue&lt;T&gt; is a generic interface that extends IGenericType&lt;T&gt;\r\n    value = new IUnionTypeValue&lt;T&gt;() {\r\n        ...\r\n        private T storedValue = toStore;\r\n        ...\r\n        \r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        @Override\r\n        public Class&lt;T&gt; getGenericTypeParameterType()\r\n        {\r\n            return (Class&lt;T&gt;) storedValue.getClass();\r\n        }\r\n    }\r\n\r\nI imagine this could be also implemented by being built with a class definition object as the source, that&#39;s just a separate use-case.\r\nI think the key is as many other answers have stated, in one way or another, you need to get the type information at runtime to have it available at runtime; the objects themselves maintain their type, but erasure (also as others have said, with appropriate references) causes any enclosing/container types to lose that type information.","title":"Get generic type of class at runtime","body":"<p>This was inspired by Pablo's and CoolMind's answers.\nOccasionally I have also used the technique from kayz1's answer (expressed in many other answers as well), and I believe it is a decent and reliable way to do what the OP asked.</p>\n<p>I chose to define this as an interface (similar to PJWeisberg) first because I have existing types that would benefit from this functionality, particularly a heterogeneous generic union type:</p>\n<pre><code>public interface IGenericType&lt;T&gt;\n{\n    Class&lt;T&gt; getGenericTypeParameterType();\n}\n</code></pre>\n<p>Where my simple implementation in a generic anonymous interface implementation looks like the following:</p>\n<pre><code>//Passed into the generic value generator function: toStore\n//This value name is a field in the enclosing class.\n//IUnionTypeValue&lt;T&gt; is a generic interface that extends IGenericType&lt;T&gt;\nvalue = new IUnionTypeValue&lt;T&gt;() {\n    ...\n    private T storedValue = toStore;\n    ...\n    \n    @SuppressWarnings(&quot;unchecked&quot;)\n    @Override\n    public Class&lt;T&gt; getGenericTypeParameterType()\n    {\n        return (Class&lt;T&gt;) storedValue.getClass();\n    }\n}\n</code></pre>\n<p>I imagine this could be also implemented by being built with a class definition object as the source, that's just a separate use-case.\nI think the key is as many other answers have stated, in one way or another, you need to get the type information at runtime to have it available at runtime; the objects themselves maintain their type, but erasure (also as others have said, with appropriate references) causes any enclosing/container types to lose that type information.</p>\n"},{"tags":[],"owner":{"account_id":9916994,"reputation":454,"user_id":7341454,"display_name":"scruel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638407835,"creation_date":1636592949,"answer_id":69922096,"question_id":3403909,"body_markdown":"If you are working with spring:\r\n\r\n    public static Class&lt;?&gt;[] resolveTypeArguments(Class&lt;?&gt; parentClass, Class&lt;?&gt; subClass) {\r\n        if (subClass.isSynthetic()) {\r\n            return null;\r\n        }\r\n        return GenericTypeResolver.resolveTypeArguments(subClass, parentClass);\r\n    }\r\n\r\nBy the way, `GenericTypeResolver` will still get null for the non-subclasses class like the question mentioned, because the generic info of such class was completely [erased](http://download.oracle.com/javase/tutorial/java/generics/erasure.html) after compilation.\r\n\r\nThe only way to solve this question may be:\r\n\r\n    public class GenericClass&lt;T&gt;\r\n    {\r\n        private final Class&lt;T&gt; clazz;\r\n        public Foo(Class&lt;T&gt; clazz) {\r\n            this.clazz= clazz;\r\n        }\r\n        \r\n        public Type getMyType()\r\n        {\r\n            return clazz;\r\n        }\r\n    }\r\n\r\n","title":"Get generic type of class at runtime","body":"<p>If you are working with spring:</p>\n<pre><code>public static Class&lt;?&gt;[] resolveTypeArguments(Class&lt;?&gt; parentClass, Class&lt;?&gt; subClass) {\n    if (subClass.isSynthetic()) {\n        return null;\n    }\n    return GenericTypeResolver.resolveTypeArguments(subClass, parentClass);\n}\n</code></pre>\n<p>By the way, <code>GenericTypeResolver</code> will still get null for the non-subclasses class like the question mentioned, because the generic info of such class was completely <a href=\"http://download.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"nofollow noreferrer\">erased</a> after compilation.</p>\n<p>The only way to solve this question may be:</p>\n<pre><code>public class GenericClass&lt;T&gt;\n{\n    private final Class&lt;T&gt; clazz;\n    public Foo(Class&lt;T&gt; clazz) {\n        this.clazz= clazz;\n    }\n    \n    public Type getMyType()\n    {\n        return clazz;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12243278,"reputation":762,"user_id":10275600,"display_name":"Shtefan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639013553,"creation_date":1639012612,"answer_id":70283633,"question_id":3403909,"body_markdown":"If you cannot change the generic class and use one of the method already explained on this page, then simple approach would be to get the type class based on the runtime instance class name.\r\n\r\n    Class getType(GenericType runtimeClassMember){\r\n    if (ClassA.class.equals(runtimeClassMember.getClass()){\r\n      return TypeForClassA.class;\r\n    } else if (ClassB.class.equals(runtimeClassMember.getClass()){\r\n      return TypeForClassB.class;\r\n    } \r\n\r\n    //throw an expectation or do whatever you want for the cases not described in the if section.\r\n    }","title":"Get generic type of class at runtime","body":"<p>If you cannot change the generic class and use one of the method already explained on this page, then simple approach would be to get the type class based on the runtime instance class name.</p>\n<pre><code>Class getType(GenericType runtimeClassMember){\nif (ClassA.class.equals(runtimeClassMember.getClass()){\n  return TypeForClassA.class;\n} else if (ClassB.class.equals(runtimeClassMember.getClass()){\n  return TypeForClassB.class;\n} \n\n//throw an expectation or do whatever you want for the cases not described in the if section.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8767894,"reputation":1528,"user_id":6555698,"display_name":"Odwori"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1671565741,"creation_date":1655209500,"answer_id":72616941,"question_id":3403909,"body_markdown":"Use an abstract method that returns the class type then use it in that class and wherever you extend generic class you will have to implement that abstract method to return the required class type \r\n\r\n    public class AbsractService&lt;T&gt;{\r\n      public abstract Class&lt;T&gt; getClassType ();\r\n       .......\r\n    }\r\n\r\n at runtime\r\n\r\n    class AnimalService extends AbstractService&lt;Animal&gt;{\r\n    \r\n    @Override  \r\n    public Class&lt;Animal&gt; getClassType (){\r\n            return Animal.class;\r\n     }\r\n\r\n      .....\r\n    }","title":"Get generic type of class at runtime","body":"<p>Use an abstract method that returns the class type then use it in that class and wherever you extend generic class you will have to implement that abstract method to return the required class type</p>\n<pre><code>public class AbsractService&lt;T&gt;{\n  public abstract Class&lt;T&gt; getClassType ();\n   .......\n}\n</code></pre>\n<p>at runtime</p>\n<pre><code>class AnimalService extends AbstractService&lt;Animal&gt;{\n\n@Override  \npublic Class&lt;Animal&gt; getClassType (){\n        return Animal.class;\n }\n\n  .....\n}\n</code></pre>\n"}],"owner":{"account_id":641703,"reputation":6635,"user_id":410543,"display_name":"Glenn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":845293,"favorite_count":0,"down_vote_count":3,"up_vote_count":664,"answer_count":30,"score":661,"last_activity_date":1671565741,"creation_date":1280911484,"question_id":3403909,"body_markdown":"How can I achieve this?\r\n\r\n    public class GenericClass&lt;T&gt;\r\n    {\r\n        public Type getMyType()\r\n        {\r\n            //How do I return the type of T?\r\n        }\r\n    }\r\n\r\nEverything I have tried so far always returns type `Object` rather than the specific type used.","title":"Get generic type of class at runtime","body":"<p>How can I achieve this?</p>\n\n<pre><code>public class GenericClass&lt;T&gt;\n{\n    public Type getMyType()\n    {\n        //How do I return the type of T?\n    }\n}\n</code></pre>\n\n<p>Everything I have tried so far always returns type <code>Object</code> rather than the specific type used.</p>\n"},{"tags":["java","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1671453882,"post_id":74850375,"comment_id":132095618,"body_markdown":"Please learn how to use prepared statements with parameters. Do not concatenate values into a query string as that makes you vulnerable to SQL injection.","body":"Please learn how to use prepared statements with parameters. Do not concatenate values into a query string as that makes you vulnerable to SQL injection."}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299858,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671452413,"creation_date":1671452413,"answer_id":74850449,"question_id":74850375,"body_markdown":"Assuming `identificacao` is a unique identifier, the query will return either one or no rows, so you don&#39;t need to process the result set with a `while`, but with an `if`:\r\n\r\n```java\r\n// Single row found\r\nif (rs.next()) {\r\n    int nidentificacaoP = rs.getInt(&quot;nidentificacao&quot;);\r\n    String nome = rs.getString(&quot;nomeP&quot;);\r\n    String sexo = rs.getString(&quot;sexo&quot;);\r\n    String destinopretendido = rs.getString(&quot;destinopretendido&quot;);\r\n    String dataviagem = rs.getString(&quot;dataviagem&quot;);\r\n    System.out.println\r\n        (nome + &quot; do sexo &quot;  + sexo + &quot; para o destino &quot; + \r\n         destinopretendido + &quot; no dia &quot; + dataviagem);\r\n// No row found\r\n} else {\r\n    System.out.print(&quot;Identificacao nao encontrada&quot;);\r\n}\r\n```\r\n\r\n**Mandatory side note:**\\\r\nConcatenating the condition like that is at best a bad practice and at worst leaves your application vulnerable to SQL Injection attacks if `identificacao` is received from user-controlled input. You should probably convert this query to a [`PreparedStatemet`](https://docs.oracle.com/en/java/javase/19/docs/api/java.sql/java/sql/PreparedStatement.html) with placeholders.","title":"How to check if there is a specific number in the database","body":"<p>Assuming <code>identificacao</code> is a unique identifier, the query will return either one or no rows, so you don't need to process the result set with a <code>while</code>, but with an <code>if</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Single row found\nif (rs.next()) {\n    int nidentificacaoP = rs.getInt(&quot;nidentificacao&quot;);\n    String nome = rs.getString(&quot;nomeP&quot;);\n    String sexo = rs.getString(&quot;sexo&quot;);\n    String destinopretendido = rs.getString(&quot;destinopretendido&quot;);\n    String dataviagem = rs.getString(&quot;dataviagem&quot;);\n    System.out.println\n        (nome + &quot; do sexo &quot;  + sexo + &quot; para o destino &quot; + \n         destinopretendido + &quot; no dia &quot; + dataviagem);\n// No row found\n} else {\n    System.out.print(&quot;Identificacao nao encontrada&quot;);\n}\n</code></pre>\n<p><strong>Mandatory side note:</strong><br />\nConcatenating the condition like that is at best a bad practice and at worst leaves your application vulnerable to SQL Injection attacks if <code>identificacao</code> is received from user-controlled input. You should probably convert this query to a <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.sql/java/sql/PreparedStatement.html\" rel=\"nofollow noreferrer\"><code>PreparedStatemet</code></a> with placeholders.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1671452761,"creation_date":1671452761,"answer_id":74850515,"question_id":74850375,"body_markdown":"There are at least 3 errors/misconceptions in this code.\r\n\r\n## SQL injection\r\n\r\n&gt; ```java\r\n&gt; String query = &quot;SELECT nomeP, sexo, destinopretendido, dataviagem &quot; +\r\n&gt;                    &quot;FROM passageiros &quot; +\r\n&gt;                    &quot;WHERE nidentificacao=&#39;&quot; + identificacao + &quot;&#39;;&quot;;\r\n&gt; ```\r\n\r\nImagine the user types this on the command line:\r\n\r\n`Whatever&#39; OR 1 == 1; EXEC &#39;FORMAT C: /Y&#39;; --`\r\n\r\nThat would mean the query matches many records (`OR 1 == 1` means it matches all of them), and it&#39;ll format your drive. This is called SQL injection; to avoid it, use `PreparedStatement` and __NEVER__ put user input directly into the SQL. In general your SQL statements should be string literals.\r\n\r\n## Selecting columns vs retrieving them\r\n\r\n&gt; ``` java\r\n&gt; String query = &quot;SELECT nomeP, sexo, destinopretendido, dataviagem &quot; +\r\n&gt; ....\r\n&gt; rs.getInt(&quot;nidentificacao&quot;)\r\n&gt; ```\r\n\r\nYour select statement states that you want 4 values to be returned for each matching row in the query. You then ask for the value of row &#39;nidentificacao&#39; which isn&#39;t in there. The only 4 string values valid in `rs.getInt`, are `nomeP`, `sexo`, `destinopretendido` and `dataviagem`, because those are the only 4 columns in the query.\r\n\r\n## Misunderstanding of how &#39;not found&#39; is registered\r\n\r\nYour query returns a number of rows. `while (rs.next())` loops once for each row. If `nidentificacao` is unique, given that you are looking for a specific value of it, your query returns either 1 row, or 0 rows.\r\n\r\nIf no row with `nidentificacao` at the searched-for value exists, you would get no rows. In your code, you assume you get a row, with `null` as value for `rs.getInt(&quot;nidentificacao&quot;);` which isn&#39;t how it works.\r\n\r\n## `NULL` misconception\r\n\r\nIn SQL, `NULL` is a thing. In java, there&#39;s, at best, `null` (case sensitive). The various `.getX()` methods tend to return a placeholder value __and not `null`__ for SQL NULL values. For example, if your SQL query returns `NULL` and you call `rs.getInt(column)` to retrieve it, you get 0, not `null` - that&#39;s because in java primitives cannot be `null`.\r\n\r\nIt isn&#39;t relevant here (checking for SQL NULL is _not_ how you determine that no results are found; you determine that by realizing `rs.next()` will return `false` always - even the first time you call it) - but if it had been, that&#39;s not how its done.\r\n","title":"How to check if there is a specific number in the database","body":"<p>There are at least 3 errors/misconceptions in this code.</p>\n<h2>SQL injection</h2>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>String query = &quot;SELECT nomeP, sexo, destinopretendido, dataviagem &quot; +\n                   &quot;FROM passageiros &quot; +\n                   &quot;WHERE nidentificacao='&quot; + identificacao + &quot;';&quot;;\n</code></pre>\n</blockquote>\n<p>Imagine the user types this on the command line:</p>\n<p><code>Whatever' OR 1 == 1; EXEC 'FORMAT C: /Y'; --</code></p>\n<p>That would mean the query matches many records (<code>OR 1 == 1</code> means it matches all of them), and it'll format your drive. This is called SQL injection; to avoid it, use <code>PreparedStatement</code> and <strong>NEVER</strong> put user input directly into the SQL. In general your SQL statements should be string literals.</p>\n<h2>Selecting columns vs retrieving them</h2>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>String query = &quot;SELECT nomeP, sexo, destinopretendido, dataviagem &quot; +\n....\nrs.getInt(&quot;nidentificacao&quot;)\n</code></pre>\n</blockquote>\n<p>Your select statement states that you want 4 values to be returned for each matching row in the query. You then ask for the value of row 'nidentificacao' which isn't in there. The only 4 string values valid in <code>rs.getInt</code>, are <code>nomeP</code>, <code>sexo</code>, <code>destinopretendido</code> and <code>dataviagem</code>, because those are the only 4 columns in the query.</p>\n<h2>Misunderstanding of how 'not found' is registered</h2>\n<p>Your query returns a number of rows. <code>while (rs.next())</code> loops once for each row. If <code>nidentificacao</code> is unique, given that you are looking for a specific value of it, your query returns either 1 row, or 0 rows.</p>\n<p>If no row with <code>nidentificacao</code> at the searched-for value exists, you would get no rows. In your code, you assume you get a row, with <code>null</code> as value for <code>rs.getInt(&quot;nidentificacao&quot;);</code> which isn't how it works.</p>\n<h2><code>NULL</code> misconception</h2>\n<p>In SQL, <code>NULL</code> is a thing. In java, there's, at best, <code>null</code> (case sensitive). The various <code>.getX()</code> methods tend to return a placeholder value <strong>and not <code>null</code></strong> for SQL NULL values. For example, if your SQL query returns <code>NULL</code> and you call <code>rs.getInt(column)</code> to retrieve it, you get 0, not <code>null</code> - that's because in java primitives cannot be <code>null</code>.</p>\n<p>It isn't relevant here (checking for SQL NULL is <em>not</em> how you determine that no results are found; you determine that by realizing <code>rs.next()</code> will return <code>false</code> always - even the first time you call it) - but if it had been, that's not how its done.</p>\n"}],"owner":{"account_id":26650929,"reputation":27,"user_id":20265248,"display_name":"andre Sousa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74850449,"answer_count":2,"score":1,"last_activity_date":1671565607,"creation_date":1671452039,"question_id":74850375,"body_markdown":"This is my entire code:\r\n\r\n```java\r\nimport java.sql.*;\r\nimport java.io.*;\r\n\r\npublic class VerInformacaoPassageiro {\r\n\r\n    public static void main(String args[]) {\r\n        String dbname = &quot;BD22&quot;;\r\n        String dbuser = &quot;postgres&quot;;\r\n        String password = &quot;12345&quot;;\r\n        String url = &quot;jdbc:postgresql://localhost:5432/&quot; + dbname;\r\n\r\n        try {\r\n            BufferedReader in;\r\n            in = new BufferedReader( new InputStreamReader( System.in ));\r\n            System.out.print(&quot;Numero de identificacao: &quot;);\r\n            String identificacao = in.readLine();\r\n\r\n            Connection c = DriverManager.getConnection(url, dbuser, password);\r\n            c.setAutoCommit(false);\r\n            Statement stmt = c.createStatement();\r\n            String query = &quot;SELECT nomeP, sexo, destinopretendido, dataviagem &quot; +\r\n                    &quot;FROM passageiros &quot; +\r\n                    &quot;WHERE nidentificacao=&#39;&quot; + identificacao + &quot;&#39;;&quot;;\r\n            System.out.println(&quot;QUERY: &quot; + query);\r\n            ResultSet rs = stmt.executeQuery(query);\r\n            System.out.println( &quot;Informacao do passageiro com numero de identificacao &quot; + identificacao);\r\n            System.out.println( &quot;---------------------------------------&quot;);\r\n            while ( rs.next() ) {\r\n                int nidentificacaoP = rs.getInt(&quot;nidentificacao&quot;);\r\n                String nome = rs.getString(&quot;nomeP&quot;);\r\n                String sexo = rs.getString(&quot;sexo&quot;);\r\n                String destinopretendido = rs.getString(&quot;destinopretendido&quot;);\r\n                String dataviagem = rs.getString(&quot;dataviagem&quot;);\r\n                if (nidentificacaoP == NULL)\r\n                    System.out.print(&quot;Identificacao nao encontrada&quot;);\r\n                else\r\n                    System.out.println( nome + &quot; do sexo &quot;  + sexo + &quot; para o destino &quot; + destinopretendido + &quot; no dia &quot; + dataviagem );\r\n            }\r\n\r\n            rs.close();\r\n            stmt.close();\r\n            c.close();\r\n        }\r\n        catch (Exception e) {\r\n            System.err.println( e.getClass().getName()+&quot;: &quot;+ e.getMessage() );\r\n            System.exit(0);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nBut my doubt is in this part of the code:\r\n\r\n```\r\n    if (nidentificacaoP == NULL)\r\n        System.out.print(&quot;Identificacao nao encontrada&quot;);\r\n    else\r\n        System.out.println( nome + &quot; do sexo &quot;  + sexo + &quot; para o destino &quot; + destinopretendido + &quot; no dia &quot; + dataviagem );\r\n}\r\n\r\nrs.close();\r\nstmt.close();\r\nc.close();\r\n```\r\n\r\nMy goal is to find a certain ID number in a database that will give me a passenger&#39;s information. If this ID is not in the database I want to use an if to write &quot;ID not found&quot; but I don&#39;t know how to do this. (I left it as NULL inside the if because I didn&#39;t know what to put in it so it won&#39;t be empty, so I can submit it here on Stack Overflow). What should I write inside the if to check if the ID exists?","title":"How to check if there is a specific number in the database","body":"<p>This is my entire code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.sql.*;\nimport java.io.*;\n\npublic class VerInformacaoPassageiro {\n\n    public static void main(String args[]) {\n        String dbname = &quot;BD22&quot;;\n        String dbuser = &quot;postgres&quot;;\n        String password = &quot;12345&quot;;\n        String url = &quot;jdbc:postgresql://localhost:5432/&quot; + dbname;\n\n        try {\n            BufferedReader in;\n            in = new BufferedReader( new InputStreamReader( System.in ));\n            System.out.print(&quot;Numero de identificacao: &quot;);\n            String identificacao = in.readLine();\n\n            Connection c = DriverManager.getConnection(url, dbuser, password);\n            c.setAutoCommit(false);\n            Statement stmt = c.createStatement();\n            String query = &quot;SELECT nomeP, sexo, destinopretendido, dataviagem &quot; +\n                    &quot;FROM passageiros &quot; +\n                    &quot;WHERE nidentificacao='&quot; + identificacao + &quot;';&quot;;\n            System.out.println(&quot;QUERY: &quot; + query);\n            ResultSet rs = stmt.executeQuery(query);\n            System.out.println( &quot;Informacao do passageiro com numero de identificacao &quot; + identificacao);\n            System.out.println( &quot;---------------------------------------&quot;);\n            while ( rs.next() ) {\n                int nidentificacaoP = rs.getInt(&quot;nidentificacao&quot;);\n                String nome = rs.getString(&quot;nomeP&quot;);\n                String sexo = rs.getString(&quot;sexo&quot;);\n                String destinopretendido = rs.getString(&quot;destinopretendido&quot;);\n                String dataviagem = rs.getString(&quot;dataviagem&quot;);\n                if (nidentificacaoP == NULL)\n                    System.out.print(&quot;Identificacao nao encontrada&quot;);\n                else\n                    System.out.println( nome + &quot; do sexo &quot;  + sexo + &quot; para o destino &quot; + destinopretendido + &quot; no dia &quot; + dataviagem );\n            }\n\n            rs.close();\n            stmt.close();\n            c.close();\n        }\n        catch (Exception e) {\n            System.err.println( e.getClass().getName()+&quot;: &quot;+ e.getMessage() );\n            System.exit(0);\n        }\n    }\n}\n</code></pre>\n<p>But my doubt is in this part of the code:</p>\n<pre><code>    if (nidentificacaoP == NULL)\n        System.out.print(&quot;Identificacao nao encontrada&quot;);\n    else\n        System.out.println( nome + &quot; do sexo &quot;  + sexo + &quot; para o destino &quot; + destinopretendido + &quot; no dia &quot; + dataviagem );\n}\n\nrs.close();\nstmt.close();\nc.close();\n</code></pre>\n<p>My goal is to find a certain ID number in a database that will give me a passenger's information. If this ID is not in the database I want to use an if to write &quot;ID not found&quot; but I don't know how to do this. (I left it as NULL inside the if because I didn't know what to put in it so it won't be empty, so I can submit it here on Stack Overflow). What should I write inside the if to check if the ID exists?</p>\n"},{"tags":["java","xml","jaxb"],"owner":{"account_id":17497721,"reputation":144,"user_id":12688654,"display_name":"vished2000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671565577,"creation_date":1671565577,"question_id":74868191,"body_markdown":"I have different projects:\r\n\r\n1) SharedProject\r\n   -&gt; This project is like a .jar. I can use this .jar in several projects. This project is not aware about classes from Project1, Project2....\r\n\r\n2) Project1, Project2, Project3....\r\n   -&gt; This project can use classes from &quot;SharedProject&quot;\r\n\r\nIn Project1, Project2, Project3 I have different &quot;ActionTypes&quot;, like &quot;sendEmail&quot;, &quot;sendNotification&quot;. The information about those actions are stored in XML.\r\nThis classes are standalone are not known in any other projects.\r\n\r\nI have a XML structure, like this:\r\n  \r\n\r\n     &lt;ActionComponent&gt;\r\n      &lt;Action1&gt;...&lt;/Action1&gt;\r\n    &lt;/ActionComponent&gt;\r\n    &lt;ActionComponent&gt;\r\n      &lt;Action2&gt;...&lt;/Action2&gt;\r\n    &lt;/ActionComponent&gt;\r\n\r\n&quot;Action1&quot; could be &quot;sendEmail&quot;, &quot;Action2&quot; could be &quot;sendNotification&quot; etc.\r\nThis issue is for me, &quot;SharedProject&quot; is not aware about the classes &quot;Action1&quot; and &quot;Action2&quot;, therefore I cannot easily use it like this, otherwise it is working.\r\n\r\n    @XmlElements({\r\n                @XmlElement(name = &quot;Action1&quot;, type = Action1.class),\r\n                @XmlElement(name = &quot;Action2&quot;, type = Action2.class),\r\n        })\r\n        private ActionComponentInterface actionComponentInterface;\r\n\r\nAll classes (Action1, Action2...) are implements the interface &quot;ActionComponentInterface&quot;. ActionComponentInterface is part from SharedProject.\r\n\r\nWhat I need is something like a placeholder in the &quot;ActionComponent&quot;:\r\n\r\n    @XmlRootElement\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class ActionComponent  {\r\n    \r\n    \t// ActionComponentInterface\r\n    \tprivate ActionComponentInterface actionComponentInterface;\r\n\r\n But this code is not working, because I have to specify my classes.\r\n\r\nAny idea, how I can solve this?","title":"JaxB interfaces / generic object using between different projects","body":"<p>I have different projects:</p>\n<ol>\n<li><p>SharedProject\n-&gt; This project is like a .jar. I can use this .jar in several projects. This project is not aware about classes from Project1, Project2....</p>\n</li>\n<li><p>Project1, Project2, Project3....\n-&gt; This project can use classes from &quot;SharedProject&quot;</p>\n</li>\n</ol>\n<p>In Project1, Project2, Project3 I have different &quot;ActionTypes&quot;, like &quot;sendEmail&quot;, &quot;sendNotification&quot;. The information about those actions are stored in XML.\nThis classes are standalone are not known in any other projects.</p>\n<p>I have a XML structure, like this:</p>\n<pre><code> &lt;ActionComponent&gt;\n  &lt;Action1&gt;...&lt;/Action1&gt;\n&lt;/ActionComponent&gt;\n&lt;ActionComponent&gt;\n  &lt;Action2&gt;...&lt;/Action2&gt;\n&lt;/ActionComponent&gt;\n</code></pre>\n<p>&quot;Action1&quot; could be &quot;sendEmail&quot;, &quot;Action2&quot; could be &quot;sendNotification&quot; etc.\nThis issue is for me, &quot;SharedProject&quot; is not aware about the classes &quot;Action1&quot; and &quot;Action2&quot;, therefore I cannot easily use it like this, otherwise it is working.</p>\n<pre><code>@XmlElements({\n            @XmlElement(name = &quot;Action1&quot;, type = Action1.class),\n            @XmlElement(name = &quot;Action2&quot;, type = Action2.class),\n    })\n    private ActionComponentInterface actionComponentInterface;\n</code></pre>\n<p>All classes (Action1, Action2...) are implements the interface &quot;ActionComponentInterface&quot;. ActionComponentInterface is part from SharedProject.</p>\n<p>What I need is something like a placeholder in the &quot;ActionComponent&quot;:</p>\n<pre><code>@XmlRootElement\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class ActionComponent  {\n\n    // ActionComponentInterface\n    private ActionComponentInterface actionComponentInterface;\n</code></pre>\n<p>But this code is not working, because I have to specify my classes.</p>\n<p>Any idea, how I can solve this?</p>\n"},{"tags":["java","swing","word-wrap","jtextarea"],"answers":[{"tags":[],"owner":{"account_id":139856,"reputation":77164,"user_id":345717,"accept_rate":81,"display_name":"EboMike"},"down_vote_count":1,"up_vote_count":62,"is_accepted":true,"score":61,"last_activity_date":1305768634,"creation_date":1305768634,"answer_id":6052843,"question_id":6052821,"body_markdown":"`JTextArea.setWrapStyleWord(true)`?","title":"JTextArea: how to wrap text by words, not characters?","body":"<p><code>JTextArea.setWrapStyleWord(true)</code>?</p>\n"},{"tags":[],"owner":{"account_id":11926005,"reputation":21,"user_id":8727277,"display_name":"Anuj Mor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1507219313,"creation_date":1507217025,"answer_id":46589335,"question_id":6052821,"body_markdown":"If you want your text is wrapped by words and not by the characters ( in other words , if you want you half word also shifts to next line \r\n\r\nVery simple just use wrapstyleword instead of linewrap\r\nSyntax - JTextArea.setwrapstyleword(true);\r\n\r\nNote~ It can only be used when you linewrap is already true \r\nI hope it would help.\r\n\r\nSource ~ My notebook\r\n\r\nCredits - 49/51  { 49% to myself &amp; 51% to  my ip teachers Ms. Shalu  } \r\n\r\n~ AM 17","title":"JTextArea: how to wrap text by words, not characters?","body":"<p>If you want your text is wrapped by words and not by the characters ( in other words , if you want you half word also shifts to next line </p>\n\n<p>Very simple just use wrapstyleword instead of linewrap\nSyntax - JTextArea.setwrapstyleword(true);</p>\n\n<p>Note~ It can only be used when you linewrap is already true \nI hope it would help.</p>\n\n<p>Source ~ My notebook</p>\n\n<p>Credits - 49/51  { 49% to myself &amp; 51% to  my ip teachers Ms. Shalu  } </p>\n\n<p>~ AM 17</p>\n"},{"tags":[],"owner":{"account_id":14409322,"reputation":31,"user_id":10408584,"display_name":"Eliizabeth"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1537812008,"creation_date":1537801159,"answer_id":52482165,"question_id":6052821,"body_markdown":"You could just go to the properties window of the text field and check the boxes for both wrap style word and line wrap.\r\nIt works like a charm\r\n\r\n[![the properties window][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/mEcpq.png","title":"JTextArea: how to wrap text by words, not characters?","body":"<p>You could just go to the properties window of the text field and check the boxes for both wrap style word and line wrap.\nIt works like a charm</p>\n\n<p><a href=\"https://i.stack.imgur.com/mEcpq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mEcpq.png\" alt=\"the properties window\"></a></p>\n"},{"tags":[],"owner":{"account_id":27304921,"reputation":1,"user_id":20821055,"display_name":"vendul0g"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671565424,"creation_date":1671565424,"answer_id":74868160,"question_id":6052821,"body_markdown":"To make wrap by words like this:\r\n\r\n    JtextArea textArea = new JTextArea(8, 20);\r\n    textArea.setLineWrap(true);\r\n    textArea.setWrapStyleWord(true);","title":"JTextArea: how to wrap text by words, not characters?","body":"<p>To make wrap by words like this:</p>\n<pre><code>JtextArea textArea = new JTextArea(8, 20);\ntextArea.setLineWrap(true);\ntextArea.setWrapStyleWord(true);\n</code></pre>\n"}],"owner":{"account_id":753150,"reputation":365,"user_id":754955,"display_name":"Cherie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27506,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":6052843,"answer_count":4,"score":35,"last_activity_date":1671565424,"creation_date":1305768357,"question_id":6052821,"body_markdown":"I want to avoid an output like this: \r\n\r\nHere is some text t&lt;br&gt;\r\nhat is being wrappe&lt;br&gt;\r\nd by characters, sp&lt;br&gt;\r\nlitting words in ha&lt;br&gt;\r\nlf \r\n\r\nI am using a JTextArea, with setLineWrap(true). How can I make it wrap words, though? (Is there a way to make it only wrap when there is a space or something?) ","title":"JTextArea: how to wrap text by words, not characters?","body":"<p>I want to avoid an output like this: </p>\n\n<p>Here is some text t<br>\nhat is being wrappe<br>\nd by characters, sp<br>\nlitting words in ha<br>\nlf </p>\n\n<p>I am using a JTextArea, with setLineWrap(true). How can I make it wrap words, though? (Is there a way to make it only wrap when there is a space or something?) </p>\n"},{"tags":["java","jms","activemq","jms-topic","ems"],"comments":[{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1671565415,"post_id":74867947,"comment_id":132125546,"body_markdown":"What version of ActiveMQ are you using? Also, what exactly is &quot;EMS&quot;? Is that another JMS broker implementation?","body":"What version of ActiveMQ are you using? Also, what exactly is &quot;EMS&quot;? Is that another JMS broker implementation?"},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1672258214,"post_id":74867947,"comment_id":132254443,"body_markdown":"Any feedback here? Did you get this sorted?","body":"Any feedback here? Did you get this sorted?"}],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671565323,"creation_date":1671565023,"answer_id":74868094,"question_id":74867947,"body_markdown":"What you&#39;re seeing is the expected behavior. JMS topic semantics dictate that messages are discarded when sent in the absence of any subscriptions. This is exactly what happens when you close the subscriber and then send the message.\r\n\r\nIf you want the subscription to remain after the subscriber is closed then you need to use a [_durable_ subscription][1].\r\n\r\nHowever, you should keep in mind that any messages sent before the durable subscription is created will still be discarded. You&#39;d have to use the &quot;[retroactive consumer][2]&quot; feature from ActiveMQ &quot;Classic&quot; to get any messages sent before the subscription was created. Of course that won&#39;t work on any other JMS provider aside from ActiveMQ.\r\n\r\nLastly, JMS destinations (i.e. queues &amp; topics) are themselves not persistent or non-persistent. That is a quality of JMS _messages_.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/jms/Session.html#createDurableSubscriber-javax.jms.Topic-java.lang.String-\r\n  [2]: https://activemq.apache.org/retroactive-consumer.html","title":"Unable to persist messages on JMS Topics and retreive them later","body":"<p>What you're seeing is the expected behavior. JMS topic semantics dictate that messages are discarded when sent in the absence of any subscriptions. This is exactly what happens when you close the subscriber and then send the message.</p>\n<p>If you want the subscription to remain after the subscriber is closed then you need to use a <a href=\"https://docs.oracle.com/javaee/7/api/javax/jms/Session.html#createDurableSubscriber-javax.jms.Topic-java.lang.String-\" rel=\"nofollow noreferrer\"><em>durable</em> subscription</a>.</p>\n<p>However, you should keep in mind that any messages sent before the durable subscription is created will still be discarded. You'd have to use the &quot;<a href=\"https://activemq.apache.org/retroactive-consumer.html\" rel=\"nofollow noreferrer\">retroactive consumer</a>&quot; feature from ActiveMQ &quot;Classic&quot; to get any messages sent before the subscription was created. Of course that won't work on any other JMS provider aside from ActiveMQ.</p>\n<p>Lastly, JMS destinations (i.e. queues &amp; topics) are themselves not persistent or non-persistent. That is a quality of JMS <em>messages</em>.</p>\n"}],"owner":{"account_id":7985439,"reputation":747,"user_id":6025132,"accept_rate":7,"display_name":"Philippe MESMEUR"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671565395,"creation_date":1671564065,"question_id":74867947,"body_markdown":"My end objective is to develop an application that on startup retrieves the last message published on a topic; and that, whether the message was published a second ago, or a month ago, or even earlier...\r\n\r\nMy feeling is that I have to use **persistent topic**. For test purpose, I tried to develop a sample that would do what I want:\r\n```java\r\npublic void myTest() throws JMSException, InterruptedException {\r\n    latch = new CountDownLatch(1);\r\n\r\n    ActiveMQConnectionFactory factory = new ActiveMQConnectionFactory();\r\n    factory.setBrokerURL(&quot;tcp://150.151.179.31:61616&quot;);\r\n\r\n    Connection connection1 = factory.createConnection();\r\n    Session session1 = connection1.createSession(false /* no transaction */, Session.CLIENT_ACKNOWLEDGE);\r\n    connection1.start();\r\n\r\n    Topic topic1 = session1.createTopic(&quot;test.persistence&quot;);\r\n    MessageConsumer consumer1 = session1.createConsumer(topic1, null /* no filter */, true /* prevent receiving message published by current session */);\r\n    consumer1.setMessageListener(this);\r\n\r\n    //////////////////////////////////////////////////\r\n    // if I do not close the session, my sample works,\r\n    // if I close it, it doesn&#39;t\r\n    //\r\n    // session1.close();\r\n    // connection1.close();\r\n    //////////////////////////////////////////////////\r\n\r\n    Connection connection2 = factory.createConnection();\r\n    Session session2 = connection2.createSession(false, Session.AUTO_ACKNOWLEDGE);\r\n    connection2.start();\r\n\r\n    Topic topic2 = session2.createTopic(&quot;test.persistence&quot;);\r\n    MessageProducer producer2 = session2.createProducer(topic2);\r\n    MapMessage mapMessage2 = session2.createMapMessage();\r\n    mapMessage2.setStringProperty(&quot;key&quot;, &quot;value&quot;);\r\n    producer2.send(mapMessage2, PERSISTENT, DEFAULT_PRIORITY, DEFAULT_TIME_TO_LIVE);\r\n\r\n    Assert.assertTrue(latch.await(5, TimeUnit.SECONDS));\r\n}\r\n\r\n@Override\r\npublic void onMessage(Message message) {\r\n    latch.countDown();\r\n}\r\n```\r\nThis sample uses ActiveMQ, but I also have the same issue with EMS.\r\n\r\nI created two sessions:\r\n- one is publishing on the `PERSISTENT` topic\r\n- the other is trying to receive message on the same topic\r\n\r\nThe behavior is:\r\n- If I keep the first session opened my sample works *but it does not test the persistence*.\r\n- If I close the first session after the publication of the message and the subscription of the second session, no message is received: it seems that the persistence is not working.\r\n\r\nPlease help me to understand my issue.","title":"Unable to persist messages on JMS Topics and retreive them later","body":"<p>My end objective is to develop an application that on startup retrieves the last message published on a topic; and that, whether the message was published a second ago, or a month ago, or even earlier...</p>\n<p>My feeling is that I have to use <strong>persistent topic</strong>. For test purpose, I tried to develop a sample that would do what I want:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void myTest() throws JMSException, InterruptedException {\n    latch = new CountDownLatch(1);\n\n    ActiveMQConnectionFactory factory = new ActiveMQConnectionFactory();\n    factory.setBrokerURL(&quot;tcp://150.151.179.31:61616&quot;);\n\n    Connection connection1 = factory.createConnection();\n    Session session1 = connection1.createSession(false /* no transaction */, Session.CLIENT_ACKNOWLEDGE);\n    connection1.start();\n\n    Topic topic1 = session1.createTopic(&quot;test.persistence&quot;);\n    MessageConsumer consumer1 = session1.createConsumer(topic1, null /* no filter */, true /* prevent receiving message published by current session */);\n    consumer1.setMessageListener(this);\n\n    //////////////////////////////////////////////////\n    // if I do not close the session, my sample works,\n    // if I close it, it doesn't\n    //\n    // session1.close();\n    // connection1.close();\n    //////////////////////////////////////////////////\n\n    Connection connection2 = factory.createConnection();\n    Session session2 = connection2.createSession(false, Session.AUTO_ACKNOWLEDGE);\n    connection2.start();\n\n    Topic topic2 = session2.createTopic(&quot;test.persistence&quot;);\n    MessageProducer producer2 = session2.createProducer(topic2);\n    MapMessage mapMessage2 = session2.createMapMessage();\n    mapMessage2.setStringProperty(&quot;key&quot;, &quot;value&quot;);\n    producer2.send(mapMessage2, PERSISTENT, DEFAULT_PRIORITY, DEFAULT_TIME_TO_LIVE);\n\n    Assert.assertTrue(latch.await(5, TimeUnit.SECONDS));\n}\n\n@Override\npublic void onMessage(Message message) {\n    latch.countDown();\n}\n</code></pre>\n<p>This sample uses ActiveMQ, but I also have the same issue with EMS.</p>\n<p>I created two sessions:</p>\n<ul>\n<li>one is publishing on the <code>PERSISTENT</code> topic</li>\n<li>the other is trying to receive message on the same topic</li>\n</ul>\n<p>The behavior is:</p>\n<ul>\n<li>If I keep the first session opened my sample works <em>but it does not test the persistence</em>.</li>\n<li>If I close the first session after the publication of the message and the subscription of the second session, no message is received: it seems that the persistence is not working.</li>\n</ul>\n<p>Please help me to understand my issue.</p>\n"},{"tags":["java","hadoop","hdfs"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":2,"creation_date":1671562584,"post_id":74867515,"comment_id":132124653,"body_markdown":"The error says the `JAVA_HOME` you used does not exist, so prove to us that it does exist. Please share terminal output as text, not images.","body":"The error says the <code>JAVA_HOME</code> you used does not exist, so prove to us that it does exist. Please share terminal output as text, not images."},{"owner":{"account_id":17941912,"reputation":81,"user_id":13310154,"display_name":"Salva"},"score":0,"creation_date":1671563409,"post_id":74867515,"comment_id":132124926,"body_markdown":"hi thanks for the reply, see i have run the java_home command is there any issue in the result?","body":"hi thanks for the reply, see i have run the java_home command is there any issue in the result?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1671563555,"post_id":74867515,"comment_id":132124974,"body_markdown":"That just echos a string. Doesn&#39;t prove that folder actually exists","body":"That just echos a string. Doesn&#39;t prove that folder actually exists"},{"owner":{"account_id":17941912,"reputation":81,"user_id":13310154,"display_name":"Salva"},"score":0,"creation_date":1671563625,"post_id":74867515,"comment_id":132124999,"body_markdown":"ohh, can you suggest how i can check?","body":"ohh, can you suggest how i can check?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1671563718,"post_id":74867515,"comment_id":132125029,"body_markdown":"`cd` into the folder, if you can, or use `ls` to list directory content","body":"<code>cd</code> into the folder, if you can, or use <code>ls</code> to list directory content"},{"owner":{"account_id":5324953,"reputation":1348,"user_id":4424636,"display_name":"Greenonline"},"score":0,"creation_date":1671888253,"post_id":74867515,"comment_id":132192868,"body_markdown":"Please post the error as *text* and not as a screenshot. Images are not text searchable","body":"Please post the error as <i>text</i> and not as a screenshot. Images are not text searchable"}],"owner":{"account_id":17941912,"reputation":81,"user_id":13310154,"display_name":"Salva"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671565159,"creation_date":1671561483,"question_id":74867515,"body_markdown":"I have already added the required java home in hadoop-env.sh.\r\n\r\n[![strong text][2]][2]\r\n\r\n  [2]: https://i.stack.imgur.com/eB7md.png\r\n\r\n\r\n```\r\nadminn@hadoop-master:~$ echo $JAVA_HOME\r\n/usr/lib/jvm/java-8-openjdk-amd64/jre\r\nadminn@hadoop-master:~$ \r\n```","title":"Facing error when formatting hdfs namenode","body":"<p>I have already added the required java home in hadoop-env.sh.</p>\n<p><a href=\"https://i.stack.imgur.com/eB7md.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eB7md.png\" alt=\"strong text\" /></a></p>\n<pre><code>adminn@hadoop-master:~$ echo $JAVA_HOME\n/usr/lib/jvm/java-8-openjdk-amd64/jre\nadminn@hadoop-master:~$ \n</code></pre>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":27310881,"reputation":11,"user_id":20826051,"display_name":"Dreessan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671565093,"creation_date":1671565093,"answer_id":74868104,"question_id":74867851,"body_markdown":"Turns out it was because my nested value was, itself, escaped.\r\n\r\ndebugging `root` gave something of this form\r\n\r\n```\r\n{\r\n  status: 400,\r\n  headers: {...},\r\n  body: &quot;{\\&quot;errorMessage\\&quot;:\\&quot;input is not a string\\&quot;}&quot;\r\n}\r\n```\r\n\r\nThe strategy then was to use the `objectMapper` again\r\n\r\n```\r\nfinal JsonNode root = objectMapper.readTree(res.payload().asUtf8String());\r\n// Body is, itself, escaped so we need to re-parse\r\nJsonNode body = objectMapper.readTree(root.path(&quot;body&quot;).asText());\r\n```","title":"Trouble using Jackson (JsonNode) to parse nested paths?","body":"<p>Turns out it was because my nested value was, itself, escaped.</p>\n<p>debugging <code>root</code> gave something of this form</p>\n<pre><code>{\n  status: 400,\n  headers: {...},\n  body: &quot;{\\&quot;errorMessage\\&quot;:\\&quot;input is not a string\\&quot;}&quot;\n}\n</code></pre>\n<p>The strategy then was to use the <code>objectMapper</code> again</p>\n<pre><code>final JsonNode root = objectMapper.readTree(res.payload().asUtf8String());\n// Body is, itself, escaped so we need to re-parse\nJsonNode body = objectMapper.readTree(root.path(&quot;body&quot;).asText());\n</code></pre>\n"}],"owner":{"account_id":27310881,"reputation":11,"user_id":20826051,"display_name":"Dreessan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671565093,"creation_date":1671563605,"question_id":74867851,"body_markdown":"Trying to use Jackson to parse JSON. Simple enough- I&#39;m clearly messing up something basic.\r\n\r\n```\r\nfinal JsonNode root = objectMapper.readTree(res.payload().asUtf8String());\r\nJsonNode body = root.path(&quot;body&quot;);\r\nJsonNode message = root.path(&quot;body&quot;).path(&quot;errorMessage&quot;);\r\nlogger.log(Level.INFO, body.asText());\r\nlogger.log(Level.INFO, message.asText());\r\n```\r\n\r\n**Expected Result:**\r\n\r\n```\r\nINFO: {&quot;errorMessage&quot;: &quot;input is not a string&quot;}\r\nINFO: &quot;input is not a string&quot;\r\n```\r\n\r\n**Actual Result:**\r\n\r\n```\r\nINFO: {&quot;errorMessage&quot;: &quot;input is not a string&quot;}\r\nINFO: \r\n```","title":"Trouble using Jackson (JsonNode) to parse nested paths?","body":"<p>Trying to use Jackson to parse JSON. Simple enough- I'm clearly messing up something basic.</p>\n<pre><code>final JsonNode root = objectMapper.readTree(res.payload().asUtf8String());\nJsonNode body = root.path(&quot;body&quot;);\nJsonNode message = root.path(&quot;body&quot;).path(&quot;errorMessage&quot;);\nlogger.log(Level.INFO, body.asText());\nlogger.log(Level.INFO, message.asText());\n</code></pre>\n<p><strong>Expected Result:</strong></p>\n<pre><code>INFO: {&quot;errorMessage&quot;: &quot;input is not a string&quot;}\nINFO: &quot;input is not a string&quot;\n</code></pre>\n<p><strong>Actual Result:</strong></p>\n<pre><code>INFO: {&quot;errorMessage&quot;: &quot;input is not a string&quot;}\nINFO: \n</code></pre>\n"},{"tags":["java","spring-boot","docker"],"comments":[{"owner":{"account_id":1083854,"reputation":13775,"user_id":1080064,"accept_rate":43,"display_name":"tkausl"},"score":1,"creation_date":1671565112,"post_id":74868088,"comment_id":132125471,"body_markdown":"Check `docker ps -a` and `docker logs` to figure out why it exited.","body":"Check <code>docker ps -a</code> and <code>docker logs</code> to figure out why it exited."},{"owner":{"account_id":27311069,"reputation":3,"user_id":20826208,"display_name":"shawn19702"},"score":0,"creation_date":1671565590,"post_id":74868088,"comment_id":132125594,"body_markdown":"Thanks, I figured out the error running the docker logs command.","body":"Thanks, I figured out the error running the docker logs command."}],"owner":{"account_id":27311069,"reputation":3,"user_id":20826208,"display_name":"shawn19702"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671564997,"creation_date":1671564997,"question_id":74868088,"body_markdown":"I&#39;m trying to dockerize MySQL and Spring Boot application however whenever I try to run my docker container and connect my docker image to the network the container automatically stops running.I&#39;m new to docker so any help well is appreciated.  \r\n\r\n```\r\nC:\\Users\\shawn&gt;docker run --name mysqldb --network springboot -e MYSQL_ROOT_PASSWORD=password -e MYSQL_DATABASE=passion -e MYSQL_USER=root -e MYSQL_PASSWORD=password -d mysql:5.7\r\n54d2a7c0ec819ec5e8e550ad61f55e8aabc7783ffad12d1ae04e79e7925d8064\r\n\r\nC:\\Users\\shawn&gt;docker ps\r\nCONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES\r\n```\r\n\r\nI&#39;ve tried using docker starting and using docker run with a specific port but still getting the same error. ","title":"Docker container automatically stopping after running command docker run","body":"<p>I'm trying to dockerize MySQL and Spring Boot application however whenever I try to run my docker container and connect my docker image to the network the container automatically stops running.I'm new to docker so any help well is appreciated.</p>\n<pre><code>C:\\Users\\shawn&gt;docker run --name mysqldb --network springboot -e MYSQL_ROOT_PASSWORD=password -e MYSQL_DATABASE=passion -e MYSQL_USER=root -e MYSQL_PASSWORD=password -d mysql:5.7\n54d2a7c0ec819ec5e8e550ad61f55e8aabc7783ffad12d1ae04e79e7925d8064\n\nC:\\Users\\shawn&gt;docker ps\nCONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES\n</code></pre>\n<p>I've tried using docker starting and using docker run with a specific port but still getting the same error.</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1671469619,"post_id":74850882,"comment_id":132101040,"body_markdown":"Not the cause of your problem, but FYI, `synchronized void run()...` is _always_ a bad idea. Synchronizing the entire body of the `run()` method says that you only want one thread at a time to execute that `for` loop. But if that&#39;s the case, then there would be no point in using threads. The whole point of threads is to let them run _concurrently_ with each other.","body":"Not the cause of your problem, but FYI, <code>synchronized void run()...</code> is <i>always</i> a bad idea. Synchronizing the entire body of the <code>run()</code> method says that you only want one thread at a time to execute that <code>for</code> loop. But if that&#39;s the case, then there would be no point in using threads. The whole point of threads is to let them run <i>concurrently</i> with each other."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1671472188,"post_id":74850882,"comment_id":132101946,"body_markdown":"Vague title. Rewrite to summarize your specific technical issue","body":"Vague title. Rewrite to summarize your specific technical issue"}],"answers":[{"tags":[],"owner":{"account_id":15695098,"reputation":1,"user_id":11324916,"display_name":"Kacper Zieliski"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1671466804,"creation_date":1671455024,"answer_id":74850927,"question_id":74850882,"body_markdown":"You can do this task without need of synchronization.\r\nJust be sure that increment operation is atomic.\r\nUse `AtomicLong` and its methods instead of `counter++`.\r\n\r\n`static AtomicLong counter = new AtomicLong(0);`\r\n\r\n`counter.addAndGet(1);`\r\n","title":"How to use Java synchronized keyword correctly?","body":"<p>You can do this task without need of synchronization.\nJust be sure that increment operation is atomic.\nUse <code>AtomicLong</code> and its methods instead of <code>counter++</code>.</p>\n<p><code>static AtomicLong counter = new AtomicLong(0);</code></p>\n<p><code>counter.addAndGet(1);</code></p>\n"},{"tags":[],"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671455084,"creation_date":1671455084,"answer_id":74850936,"question_id":74850882,"body_markdown":"Each execution of &#39;run&#39; synchronized on its own object, which means you have no synchronization at all.  \r\n\r\nYou need to synchronize on the same object.  In your case, the class might be suitable. Express this as a &#39;synchronized&#39; statement naming the object - in this case the class literal - to be synchronized on.\r\n\r\n    public void run() {\r\n       synchronized (Threadproblem.class) { \r\n          ... \r\n       }\r\n    }\r\n","title":"How to use Java synchronized keyword correctly?","body":"<p>Each execution of 'run' synchronized on its own object, which means you have no synchronization at all.</p>\n<p>You need to synchronize on the same object.  In your case, the class might be suitable. Express this as a 'synchronized' statement naming the object - in this case the class literal - to be synchronized on.</p>\n<pre><code>public void run() {\n   synchronized (Threadproblem.class) { \n      ... \n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15460773,"reputation":186,"user_id":11153525,"display_name":"Leno"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671455294,"creation_date":1671455294,"answer_id":74850976,"question_id":74850882,"body_markdown":"Each Object in Java has an implicit lock, which is the element that allows synchronization and mutual exclusion. Each time you call a non-static function on a specific object, its lock gets acquired and no other thread can call the dynamic function on that object until it gets released by the first thread.\r\n\r\nSo what you should actually be doing is this:\r\n- You create a new class with the method you want to be executed un mutual exclusion\r\n- You create **one single** object of that class in your main method\r\n- Each thread calls the synchronized function trough **that object**. \r\nIt this way, only one thread at the time can acquire the lock and increment the counter in mutual exclusion.\r\n\r\nHere&#39;s a good example: https://www.geeksforgeeks.org/object-level-lock-in-java/\r\n\r\n    // Java program to illustrate\r\n    // Object lock concept\r\n    \r\n    // Class\r\n    // Extending Runnable interface\r\n    class Geek implements Runnable {\r\n    \r\n    \t// Method of this class\r\n    \tpublic void run() { Lock(); }\r\n    \r\n    \t// Synchronization of non-static methods\r\n    \t// (object lock) as different synchronized\r\n    \t// non-static methods are called in both threads\r\n    \r\n    \t// Then both threads need to acquire the object lock\r\n    \t// After one is acquired, the other thread must wait\r\n    \t// for one thread to finish the executing\r\n    \t// before the other thread starts to execute.\r\n    \tpublic void Lock()\r\n    \t{\r\n    \t\tSystem.out.println(\r\n    \t\t\tThread.currentThread().getName());\r\n    \t\tsynchronized (this)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(\r\n    \t\t\t\t&quot;in block &quot;\r\n    \t\t\t\t+ Thread.currentThread().getName());\r\n    \t\t\tSystem.out.println(\r\n    \t\t\t\t&quot;in block &quot;\r\n    \t\t\t\t+ Thread.currentThread().getName()\r\n    \t\t\t\t+ &quot; end&quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t// Main driver method\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\t// Creating an object of above class\r\n    \t\t// in the main() method\r\n    \t\tGeek g = new Geek();\r\n    \r\n    \t\t// Sharing the same object across two Threads\r\n    \r\n    \t\t// Here, t1 takes g\r\n    \t\tThread t1 = new Thread(g);\r\n    \t\r\n    \t\t// Here, t2 takes g\r\n    \t\tThread t2 = new Thread(g);\r\n    \r\n    \t\t// Creating another object of above class\r\n    \t\tGeek g1 = new Geek();\r\n    \r\n    \t\t// Here, t3 takes g1\r\n    \t\tThread t3 = new Thread(g1);\r\n    \r\n    \t\t// setname() method is used to change\r\n    \t\t// name of the thread\r\n    \t\tt1.setName(&quot;t1&quot;);\r\n    \t\tt2.setName(&quot;t2&quot;);\r\n    \t\tt3.setName(&quot;t3&quot;);\r\n    \r\n    \t\t// start() method beginning the execution of threads\r\n    \t\t// as JVM calls the run() method of thread\r\n    \t\tt1.start();\r\n    \t\tt2.start();\r\n    \t\tt3.start();\r\n    \t}\r\n    }\r\n\r\n","title":"How to use Java synchronized keyword correctly?","body":"<p>Each Object in Java has an implicit lock, which is the element that allows synchronization and mutual exclusion. Each time you call a non-static function on a specific object, its lock gets acquired and no other thread can call the dynamic function on that object until it gets released by the first thread.</p>\n<p>So what you should actually be doing is this:</p>\n<ul>\n<li>You create a new class with the method you want to be executed un mutual exclusion</li>\n<li>You create <strong>one single</strong> object of that class in your main method</li>\n<li>Each thread calls the synchronized function trough <strong>that object</strong>.\nIt this way, only one thread at the time can acquire the lock and increment the counter in mutual exclusion.</li>\n</ul>\n<p>Here's a good example: <a href=\"https://www.geeksforgeeks.org/object-level-lock-in-java/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/object-level-lock-in-java/</a></p>\n<pre><code>// Java program to illustrate\n// Object lock concept\n\n// Class\n// Extending Runnable interface\nclass Geek implements Runnable {\n\n    // Method of this class\n    public void run() { Lock(); }\n\n    // Synchronization of non-static methods\n    // (object lock) as different synchronized\n    // non-static methods are called in both threads\n\n    // Then both threads need to acquire the object lock\n    // After one is acquired, the other thread must wait\n    // for one thread to finish the executing\n    // before the other thread starts to execute.\n    public void Lock()\n    {\n        System.out.println(\n            Thread.currentThread().getName());\n        synchronized (this)\n        {\n            System.out.println(\n                &quot;in block &quot;\n                + Thread.currentThread().getName());\n            System.out.println(\n                &quot;in block &quot;\n                + Thread.currentThread().getName()\n                + &quot; end&quot;);\n        }\n    }\n\n    // Main driver method\n    public static void main(String[] args)\n    {\n        // Creating an object of above class\n        // in the main() method\n        Geek g = new Geek();\n\n        // Sharing the same object across two Threads\n\n        // Here, t1 takes g\n        Thread t1 = new Thread(g);\n    \n        // Here, t2 takes g\n        Thread t2 = new Thread(g);\n\n        // Creating another object of above class\n        Geek g1 = new Geek();\n\n        // Here, t3 takes g1\n        Thread t3 = new Thread(g1);\n\n        // setname() method is used to change\n        // name of the thread\n        t1.setName(&quot;t1&quot;);\n        t2.setName(&quot;t2&quot;);\n        t3.setName(&quot;t3&quot;);\n\n        // start() method beginning the execution of threads\n        // as JVM calls the run() method of thread\n        t1.start();\n        t2.start();\n        t3.start();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1671456162,"creation_date":1671455327,"answer_id":74850982,"question_id":74850882,"body_markdown":"Correct synchronization requires that all accesses to the protected variable(s) be performed while holding *the same* monitor.  For an instance method, the `synchronized` keyword causes the method automatically to acquire the monitor of the instance on which it is invoked.  You have two separate instances of `Threadproblem`, so each is using its own monitor.  That provides no synchronization at all.\r\n\r\nOne way to fix this while using `synchronized` would be to give your class a synchronized, *static* method for incrementing the counter.  Synchronized static methods use a monitor associated with the class on which they are defined, so your two instances of `ThreadProblem` would then use the same monitor:\r\n```\r\npublic class Threadproblem extends Thread {\r\n    static long counter;\r\n\r\n    synchronized static void incrementCounter() {\r\n        counter++;\r\n    }\r\n\r\n    public void run() {\r\n        for (int i = 0; i &lt; 100000;i++) {\r\n            Threadproblem.incrementCounter();\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Threadproblem thr = new Threadproblem();\r\n        Threadproblem thr2 = new Threadproblem();\r\n\r\n        thr.start();\r\n        thr2.start();\r\n        try {\r\n            thr.join();\r\n            thr2.join();\r\n        } catch(InterruptedException e) {\r\n            System.out.println(e);\r\n        }\r\n        System.out.println(&quot;Counts:&quot; + counter);\r\n    }       \r\n}\r\n```\r\nOr as @HiranChaudhuri suggested in comments, you could achieve the same by making the two threads use the same `Runnable` object, with the synchronized method belonging to that object.  Example:\r\n```\r\npublic class Threadproblem implements Runnable {\r\n    static long counter;\r\n\r\n    synchronized public void run() {\r\n        for (int i = 0; i &lt; 100000;i++) {\r\n            counter++;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Threadproblem problem = new Threadproblem();\r\n\r\n        // Note: instances of plain Thread:\r\n        Thread thr = new Thread(problem);\r\n        Thread thr2 = new Thread(problem);\r\n\r\n        thr.start();\r\n        thr2.start();\r\n        try {\r\n            thr.join();\r\n            thr2.join();\r\n        } catch(InterruptedException e) {\r\n            System.out.println(e);\r\n        }\r\n        System.out.println(&quot;Counts:&quot; + counter);\r\n    }       \r\n}\r\n```\r\nThis is better anyway, regardless of the synchronization issue, because extending `Thread` is almost always the wrong thing to do.  You should define a thread&#39;s work by giving it an appropriate `Runnable`, not by overriding the `run()` method of `Thread` itself.\r\n\r\nNote that there is also a potential for data races between the main thread and the two additional ones, but these are already avoided because starting a thread and joining one provide appropriate ordering semantics between the two threads involved.","title":"How to use Java synchronized keyword correctly?","body":"<p>Correct synchronization requires that all accesses to the protected variable(s) be performed while holding <em>the same</em> monitor.  For an instance method, the <code>synchronized</code> keyword causes the method automatically to acquire the monitor of the instance on which it is invoked.  You have two separate instances of <code>Threadproblem</code>, so each is using its own monitor.  That provides no synchronization at all.</p>\n<p>One way to fix this while using <code>synchronized</code> would be to give your class a synchronized, <em>static</em> method for incrementing the counter.  Synchronized static methods use a monitor associated with the class on which they are defined, so your two instances of <code>ThreadProblem</code> would then use the same monitor:</p>\n<pre><code>public class Threadproblem extends Thread {\n    static long counter;\n\n    synchronized static void incrementCounter() {\n        counter++;\n    }\n\n    public void run() {\n        for (int i = 0; i &lt; 100000;i++) {\n            Threadproblem.incrementCounter();\n        }\n    }\n\n    public static void main(String[] args) {\n        Threadproblem thr = new Threadproblem();\n        Threadproblem thr2 = new Threadproblem();\n\n        thr.start();\n        thr2.start();\n        try {\n            thr.join();\n            thr2.join();\n        } catch(InterruptedException e) {\n            System.out.println(e);\n        }\n        System.out.println(&quot;Counts:&quot; + counter);\n    }       \n}\n</code></pre>\n<p>Or as @HiranChaudhuri suggested in comments, you could achieve the same by making the two threads use the same <code>Runnable</code> object, with the synchronized method belonging to that object.  Example:</p>\n<pre><code>public class Threadproblem implements Runnable {\n    static long counter;\n\n    synchronized public void run() {\n        for (int i = 0; i &lt; 100000;i++) {\n            counter++;\n        }\n    }\n\n    public static void main(String[] args) {\n        Threadproblem problem = new Threadproblem();\n\n        // Note: instances of plain Thread:\n        Thread thr = new Thread(problem);\n        Thread thr2 = new Thread(problem);\n\n        thr.start();\n        thr2.start();\n        try {\n            thr.join();\n            thr2.join();\n        } catch(InterruptedException e) {\n            System.out.println(e);\n        }\n        System.out.println(&quot;Counts:&quot; + counter);\n    }       \n}\n</code></pre>\n<p>This is better anyway, regardless of the synchronization issue, because extending <code>Thread</code> is almost always the wrong thing to do.  You should define a thread's work by giving it an appropriate <code>Runnable</code>, not by overriding the <code>run()</code> method of <code>Thread</code> itself.</p>\n<p>Note that there is also a potential for data races between the main thread and the two additional ones, but these are already avoided because starting a thread and joining one provide appropriate ordering semantics between the two threads involved.</p>\n"}],"owner":{"account_id":26707949,"reputation":49,"user_id":20313832,"display_name":"SBAT"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74850982,"answer_count":4,"score":1,"last_activity_date":1671564939,"creation_date":1671454794,"question_id":74850882,"body_markdown":"I am testing the synchronized functionality in java but it seems that i am not using it correctly.  I want two thread to increment an integer and with using synchronized keyword in the signature of the method the result of the increments should be 200000 but what i am getting is less than 200000 that means that the threads are not synchronized correctly.\r\n\r\nMy code :\r\n```\r\npublic class Threadproblem extends Thread {\r\n    static long counter;\r\n    synchronized public void run() {\r\n        for (int i=0; i&lt;100000;i++) {\r\n            counter++;\r\n        }\r\n    }\r\n    public static void main(String[] args) {\r\n        Threadproblem thr=new Threadproblem();\r\n        Threadproblem thr2=new Threadproblem();\r\n        thr.start();\r\n        thr2.start();\r\n        try {\r\n            thr.join();\r\n            thr2.join();\r\n        } catch(InterruptedException e) {\r\n            System.out.println(e);\r\n        }\r\n        System.out.println(&quot;Counts:&quot;+counter);\r\n    }\r\n}\r\n```\r\n\r\nExecution:\r\n```\r\nCounts:137978\r\n```\r\n","title":"How to use Java synchronized keyword correctly?","body":"<p>I am testing the synchronized functionality in java but it seems that i am not using it correctly.  I want two thread to increment an integer and with using synchronized keyword in the signature of the method the result of the increments should be 200000 but what i am getting is less than 200000 that means that the threads are not synchronized correctly.</p>\n<p>My code :</p>\n<pre><code>public class Threadproblem extends Thread {\n    static long counter;\n    synchronized public void run() {\n        for (int i=0; i&lt;100000;i++) {\n            counter++;\n        }\n    }\n    public static void main(String[] args) {\n        Threadproblem thr=new Threadproblem();\n        Threadproblem thr2=new Threadproblem();\n        thr.start();\n        thr2.start();\n        try {\n            thr.join();\n            thr2.join();\n        } catch(InterruptedException e) {\n            System.out.println(e);\n        }\n        System.out.println(&quot;Counts:&quot;+counter);\n    }\n}\n</code></pre>\n<p>Execution:</p>\n<pre><code>Counts:137978\n</code></pre>\n"},{"tags":["java","oracle","plsql","spring-jms","tibco-topic"],"answers":[{"tags":[],"owner":{"account_id":27311118,"reputation":16,"user_id":20826252,"display_name":"Adel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671564896,"creation_date":1671564896,"answer_id":74868071,"question_id":74868013,"body_markdown":"There are several ways to send insert, update, and delete operations from an Oracle database to a message queue. Here are a few options you can consider:\r\n\r\n1. Using Oracle Advanced Queueing (AQ): You can use AQ to capture changes to the database using triggers, and then send the change data to a message queue. This is a native solution provided by Oracle and is relatively easy to set up.\r\n\r\n2. Using a Java application with a Java Messaging Service (JMS) provider: You can use a Java application to capture changes to the database using triggers, and then send the change data to a message queue using a JMS provider, such as ActiveMQ, Kafka, or IBM MQ. This option requires some programming effort, but it gives you the flexibility to choose from a wide range of JMS providers.\r\n\r\n3. Using a change data capture (CDC) tool: There are several CDC tools available that can capture changes to the database and send them to a message queue in real-time. Some examples include Oracle GoldenGate, Attunity Replicate, and HVR. These tools are typically more powerful and scalable than the other options, but they may also be more expensive and require more setup and maintenance.\r\n\r\nOverall, the best approach will depend on your specific requirements and constraints. You should consider factors such as performance, reliability, complexity, and cost when choosing the right solution for your use case.","title":"Send insert/updates/deletes from a Oracle Database to a tibco topic (Event Publishing)","body":"<p>There are several ways to send insert, update, and delete operations from an Oracle database to a message queue. Here are a few options you can consider:</p>\n<ol>\n<li><p>Using Oracle Advanced Queueing (AQ): You can use AQ to capture changes to the database using triggers, and then send the change data to a message queue. This is a native solution provided by Oracle and is relatively easy to set up.</p>\n</li>\n<li><p>Using a Java application with a Java Messaging Service (JMS) provider: You can use a Java application to capture changes to the database using triggers, and then send the change data to a message queue using a JMS provider, such as ActiveMQ, Kafka, or IBM MQ. This option requires some programming effort, but it gives you the flexibility to choose from a wide range of JMS providers.</p>\n</li>\n<li><p>Using a change data capture (CDC) tool: There are several CDC tools available that can capture changes to the database and send them to a message queue in real-time. Some examples include Oracle GoldenGate, Attunity Replicate, and HVR. These tools are typically more powerful and scalable than the other options, but they may also be more expensive and require more setup and maintenance.</p>\n</li>\n</ol>\n<p>Overall, the best approach will depend on your specific requirements and constraints. You should consider factors such as performance, reliability, complexity, and cost when choosing the right solution for your use case.</p>\n"}],"owner":{"account_id":24140256,"reputation":39,"user_id":18106551,"display_name":"Sricharan Anand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74868071,"answer_count":1,"score":0,"last_activity_date":1671564896,"creation_date":1671564533,"question_id":74868013,"body_markdown":"**Hello All,**\r\n\r\nJust wondering what will be the best approach to send insert, updates and deletes from an Oracle Database to any topic/message queue product(ActiveMQ, Kafka, IBM MQ ..and so on). I have been trying to find the best way to do it, but have not been able to come to a conclusion. \r\n\r\nI had looked into 2 ways \r\n\r\n1. Using PL/SQL triggers to send to AQ(ORacle Advanced Queue).  \r\n2. Using same PL/SQL triggers and read message in java(JMS) and forward them to a selected message queue product (Looks straightforward to me but looks like an extra step)\r\n\r\nAre there any other better ways to do it? Or the above methods are incorrect? \r\n\r\n**PS**: This table gets around 20k to 30k updates per hour. And also I cannot get any message product I want, mostly TIBCO, but I am assuming the way to do it will be the same. \r\n\r\nThanks in Advance! Appreciate your help. ","title":"Send insert/updates/deletes from a Oracle Database to a tibco topic (Event Publishing)","body":"<p><strong>Hello All,</strong></p>\n<p>Just wondering what will be the best approach to send insert, updates and deletes from an Oracle Database to any topic/message queue product(ActiveMQ, Kafka, IBM MQ ..and so on). I have been trying to find the best way to do it, but have not been able to come to a conclusion.</p>\n<p>I had looked into 2 ways</p>\n<ol>\n<li>Using PL/SQL triggers to send to AQ(ORacle Advanced Queue).</li>\n<li>Using same PL/SQL triggers and read message in java(JMS) and forward them to a selected message queue product (Looks straightforward to me but looks like an extra step)</li>\n</ol>\n<p>Are there any other better ways to do it? Or the above methods are incorrect?</p>\n<p><strong>PS</strong>: This table gets around 20k to 30k updates per hour. And also I cannot get any message product I want, mostly TIBCO, but I am assuming the way to do it will be the same.</p>\n<p>Thanks in Advance! Appreciate your help.</p>\n"},{"tags":["java","regex","string","split"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1671553585,"post_id":74865896,"comment_id":132121836,"body_markdown":"Well, you could try expression `:|\\([^\\)]*\\)` which means &quot;a colon or (a sequence of opening parenthesis, anything not a closing parenthesis and a closing parenthesis)&quot;. - However, note that code often is an irregular problem space so regular expressions have their limits in parsing code. It&#39;s often advisable to try and parse code with a proper parser.","body":"Well, you could try expression <code>:|\\([^\\)]*\\)</code> which means &quot;a colon or (a sequence of opening parenthesis, anything not a closing parenthesis and a closing parenthesis)&quot;. - However, note that code often is an irregular problem space so regular expressions have their limits in parsing code. It&#39;s often advisable to try and parse code with a proper parser."},{"owner":{"account_id":27309242,"reputation":13,"user_id":20824673,"display_name":"Somaiyah Sultani"},"score":0,"creation_date":1671554669,"post_id":74865896,"comment_id":132122191,"body_markdown":"I do not know much about parsing codes, could you please point me to a right parser to use?","body":"I do not know much about parsing codes, could you please point me to a right parser to use?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1671556768,"post_id":74865896,"comment_id":132122900,"body_markdown":"Well, it depends on what exactly you want to parse but ANTLR would be a good point to start. It comes with quite a list of grammars for many languages already but you could even add your own if required.","body":"Well, it depends on what exactly you want to parse but ANTLR would be a good point to start. It comes with quite a list of grammars for many languages already but you could even add your own if required."},{"owner":{"account_id":27309242,"reputation":13,"user_id":20824673,"display_name":"Somaiyah Sultani"},"score":0,"creation_date":1671599638,"post_id":74865896,"comment_id":132131371,"body_markdown":"Thank you! I realized my input always will be of the same pattern, but I will make a note of ANTLR too, for the next version of the project.","body":"Thank you! I realized my input always will be of the same pattern, but I will make a note of ANTLR too, for the next version of the project."}],"answers":[{"tags":[],"owner":{"account_id":10226159,"reputation":41,"user_id":17475429,"display_name":"Victor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671564761,"creation_date":1671557239,"answer_id":74866726,"question_id":74865896,"body_markdown":"Could you give this a try:\r\n\r\n    String[] arr = str.split(&quot;(\\\\((.*?)\\\\))|:|  |[(]|[)]&quot;);\r\n\r\nshould look like this now:\r\n\r\n    M\r\n    org.apache.commons.math3.genetics.CycleCrossover\r\n    mate\r\n     \r\n    java.util.HashSet\r\n    &lt;init&gt;\r\n\r\n`\\\\(` and `)//` which will match `()`. For `(.*?)`, the `.*?` will match any character zero or anything and the `()` is the group.","title":"How to define a regex for (arg_1, arg_2, ..., arg_n) in java and use it to split a string?","body":"<p>Could you give this a try:</p>\n<pre><code>String[] arr = str.split(&quot;(\\\\((.*?)\\\\))|:|  |[(]|[)]&quot;);\n</code></pre>\n<p>should look like this now:</p>\n<pre><code>M\norg.apache.commons.math3.genetics.CycleCrossover\nmate\n \njava.util.HashSet\n&lt;init&gt;\n</code></pre>\n<p><code>\\\\(</code> and <code>)//</code> which will match <code>()</code>. For <code>(.*?)</code>, the <code>.*?</code> will match any character zero or anything and the <code>()</code> is the group.</p>\n"}],"owner":{"account_id":27309242,"reputation":13,"user_id":20824673,"display_name":"Somaiyah Sultani"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74866726,"answer_count":1,"score":1,"last_activity_date":1671564761,"creation_date":1671552824,"question_id":74865896,"body_markdown":"I am trying to split a string that has names of couple of methods and classes in them and other information that I am trying to extract.  The methods and classes are separated by : which is pretty straight forward.For methods, I only need the names and not the parameters. I am trying to define a regex to represent (...) where ... represents anything.\r\n\r\nHere is what I have done so far:\r\n\r\n```\r\nString str = &quot;M:org.apache.commons.math3.genetics.CycleCrossover:mate(org.apache.commons.math3.genetics.AbstractListChromosome,org.apache.commons.math3.genetics.AbstractListChromosome) (O)java.util.HashSet:&lt;init&gt;(int)&quot;;\r\nString[] arr = line.split(&quot;:|[(&amp;&amp;[a-z|A-Z]&amp;&amp;)]&quot;);\r\n```\r\nThis will give me the following:\r\n```\r\nM\r\norg.apache.commons.math3.genetics.CycleCrossover\r\nmate(org.apache.commons.math3.genetics.AbstractListChromosome,org.apache.commons.math3.genetics.AbstractListChromosome) (O)java.util.HashSet\r\n&lt;init&gt;(int)\r\n```\r\n\r\nwhich is technically the same as using only &#39;:&#39;\r\nI have tried a variety of different patterns but the closet that I got to is the following:\r\n```\r\nString[] arr = line.split(&quot;:| |[(]|[)]&quot;);\r\n```\r\nwhich produces:\r\n```\r\nM\r\norg.apache.commons.math3.genetics.CycleCrossover\r\nmate\r\norg.apache.commons.math3.genetics.AbstractListChromosome,org.apache.commons.math3.genetics.AbstractListChromosome\r\n\r\n\r\nO\r\njava.util.HashSet\r\n&lt;init&gt;\r\nint\r\n```\r\n\r\nfinally what I am trying to get is;\r\n```\r\nM\r\norg.apache.commons.math3.genetics.CycleCrossover\r\nmate\r\n\r\njava.util.HashSet\r\n&lt;init&gt;\r\n```\r\n\r\n\r\n","title":"How to define a regex for (arg_1, arg_2, ..., arg_n) in java and use it to split a string?","body":"<p>I am trying to split a string that has names of couple of methods and classes in them and other information that I am trying to extract.  The methods and classes are separated by : which is pretty straight forward.For methods, I only need the names and not the parameters. I am trying to define a regex to represent (...) where ... represents anything.</p>\n<p>Here is what I have done so far:</p>\n<pre><code>String str = &quot;M:org.apache.commons.math3.genetics.CycleCrossover:mate(org.apache.commons.math3.genetics.AbstractListChromosome,org.apache.commons.math3.genetics.AbstractListChromosome) (O)java.util.HashSet:&lt;init&gt;(int)&quot;;\nString[] arr = line.split(&quot;:|[(&amp;&amp;[a-z|A-Z]&amp;&amp;)]&quot;);\n</code></pre>\n<p>This will give me the following:</p>\n<pre><code>M\norg.apache.commons.math3.genetics.CycleCrossover\nmate(org.apache.commons.math3.genetics.AbstractListChromosome,org.apache.commons.math3.genetics.AbstractListChromosome) (O)java.util.HashSet\n&lt;init&gt;(int)\n</code></pre>\n<p>which is technically the same as using only ':'\nI have tried a variety of different patterns but the closet that I got to is the following:</p>\n<pre><code>String[] arr = line.split(&quot;:| |[(]|[)]&quot;);\n</code></pre>\n<p>which produces:</p>\n<pre><code>M\norg.apache.commons.math3.genetics.CycleCrossover\nmate\norg.apache.commons.math3.genetics.AbstractListChromosome,org.apache.commons.math3.genetics.AbstractListChromosome\n\n\nO\njava.util.HashSet\n&lt;init&gt;\nint\n</code></pre>\n<p>finally what I am trying to get is;</p>\n<pre><code>M\norg.apache.commons.math3.genetics.CycleCrossover\nmate\n\njava.util.HashSet\n&lt;init&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security"],"owner":{"account_id":61147,"reputation":2846,"user_id":182393,"accept_rate":85,"display_name":"Kozioek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671564606,"creation_date":1671560288,"question_id":74867317,"body_markdown":"*Project is in initial phase, so you could see some bad things like public actuator endpoint, but it does not interfere with main issue.*\r\n\r\nI have two rest controllers:\r\n\r\n```java\r\n@RestController\r\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\r\n@RequestMapping(&quot;/a&quot;)\r\n@RequiredArgsConstructor\r\nclass AController {\r\n    @GetMapping(&quot;/&quot;)\r\n    @CrossOrigin(origins = &quot;*&quot;)\r\n    @PreAuthorize(&quot;hasAnyRole(&#39;ROLE_User&#39;)&quot;)\r\n    public Collection&lt;AProjection&gt; getAThing(@RequestHeader(&quot;Authorization&quot;) String auth) {\r\n      // do something\r\n    }\r\n}\r\n\r\n// and \r\n@RestController\r\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\r\n@RequestMapping(&quot;/b&quot;)\r\n@RequiredArgsConstructor\r\nclass BController {\r\n    @GetMapping(&quot;/&quot;)\r\n    @CrossOrigin(origins = &quot;*&quot;)\r\n    @PreAuthorize(&quot;hasAnyRole(&#39;ROLE_User&#39;)&quot;)\r\n    public Collection&lt;BProjection&gt; getBThing() {\r\n      // do something\r\n    }\r\n}\r\n```\r\n\r\nThey are the same from a spring security point of view. Just different paths. \r\n\r\nNow I prepare security configuration:\r\n\r\n```java\r\npublic SecurityFilterChain filterChain(HttpSecurity http, AuthTokenFilter authenticationJwtTokenFilter, AuthEntryPointJwt unauthorizedHandler) throws Exception {\r\n    http.csrf().disable().cors().and() \r\n            .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\r\n            .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n            .authorizeHttpRequests() \r\n            .requestMatchers(&quot;/auth/**&quot;).permitAll()\r\n            .requestMatchers(&quot;/actuator/**&quot;).permitAll()\r\n            .anyRequest().authenticated();\r\n\r\n    http.addFilterBefore(authenticationJwtTokenFilter, UsernamePasswordAuthenticationFilter.class);\r\n\r\n    return http.build();\r\n}\r\n\r\n@Bean\r\npublic CorsConfigurationSource corsConfigurationSource() {\r\n    CorsConfiguration configuration = new CorsConfiguration();\r\n    configuration.setAllowedOrigins(Arrays.asList(&quot;*&quot;));\r\n    configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;PATCH&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;));\r\n    configuration.setAllowedHeaders(Arrays.asList(&quot;Authorization&quot;, &quot;authorization&quot;, &quot;content-type&quot;, &quot;x-auth-token&quot;));\r\n    configuration.setExposedHeaders(Arrays.asList(&quot;x-auth-token&quot;));\r\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n    source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n    return source;\r\n}\r\n```\r\n\r\n### Issue symptoms\r\n\r\nWhen I call `AController` from react app I get HTTP200 and everything is OK. The same situation is when I call it from cUrl or IntetlliJ WebClient. But\r\n\r\nWhen I call `BController` from react app I get HTTP401 Unauthorized, but when I use cUrl or WebClient I get HTTP200.\r\n\r\n\r\n### Few request:\r\n\r\nCall from IntelliJ WebClient for `AController`\r\n\r\n    GET http://localhost:28080/a\r\n    Host: localhost:28080\r\n    User-Agent: Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:108.0) Gecko/20100101 Firefox/108.0\r\n    Accept: application/json, text/plain, */*\r\n    Accept-Language: pl,en-US;q=0.7,en;q=0.3\r\n    Accept-Encoding: gzip, deflate, br\r\n    Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.\r\n    Origin: http://localhost:3000\r\n    Connection: keep-alive\r\n    Referer: http://localhost:3000/\r\n    Sec-Fetch-Dest: empty\r\n    Sec-Fetch-Mode: cors\r\n    Sec-Fetch-Site: same-site\r\n\r\nCall from IntelliJ WebClient for `BController`\r\n\r\n    GET http://localhost:28080/b\r\n    Host: localhost:28080\r\n    User-Agent: Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:108.0) Gecko/20100101 Firefox/108.0\r\n    Accept: application/json, text/plain, */*\r\n    Accept-Language: pl,en-US;q=0.7,en;q=0.3\r\n    Accept-Encoding: gzip, deflate, br\r\n    Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.\r\n    Origin: http://localhost:3000\r\n    Connection: keep-alive\r\n    Referer: http://localhost:3000/\r\n    Sec-Fetch-Dest: empty\r\n    Sec-Fetch-Mode: cors\r\n    Sec-Fetch-Site: same-site\r\n\r\nBoth was copied from browser. \r\n\r\nReact call:\r\n\r\n    const get = (resource: string): Promise&lt;any&gt; =&gt;\r\n    \taxios\r\n    \t\t.get(`http://localhost:28080/${resource}`, {\r\n    \t\t\theaders: authHeader() as AxiosRequestHeaders,\r\n    \t\t})\r\n    \t\t.then(response =&gt; response.data as string)\r\n    \t\t.catch(err =&gt; {\r\n    \t\t\tconsole.log(err);\r\n    \t\t\treturn &quot;&quot;;\r\n    \t\t});\r\n\r\n\r\n### What I have discovered during debugging\r\n\r\nI started debugging of code and I discovered one strange thing. \r\n\r\nOne of a filters in chain is `SecurityContextHolderFilter`. When I call `AController` this filter is applied only once. Before I add user to security context, `SecurityContextHolder.getContext().getAuthentication()` return `null`. After that, my security filter is applied where I call `SecurityContextHolder.getContext().setAuthentication(authentication)`. But when I call `BController` from react app `SecurityContextHolderFilter` is applied twice. That does not happen when I use cUrl or WebClient. On that case, application happen only once. \r\n\r\nIt looks like I have two requests when I use browser\r\n\r\nAnother observation, when I use browser\r\n\r\nFirst application works with `RequestFacade` object as request.\r\nSecond works with `FirewalledFacade` object as request.\r\n\r\n\r\n### Questions\r\n\r\n 1. What is the rule that decide to change of request?\r\n 2. Why?\r\n\r\n\r\nI know that second question is not so precise, but I give up and have no idea what happen there.\r\n\r\n---------\r\n\r\n### Edit\r\n\r\nAbout new request  that because after failed auth we are redirected to `/error`.","title":"Diffrent filtering applied for request from browser and from curl or webclient","body":"<p><em>Project is in initial phase, so you could see some bad things like public actuator endpoint, but it does not interfere with main issue.</em></p>\n<p>I have two rest controllers:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\n@RequestMapping(&quot;/a&quot;)\n@RequiredArgsConstructor\nclass AController {\n    @GetMapping(&quot;/&quot;)\n    @CrossOrigin(origins = &quot;*&quot;)\n    @PreAuthorize(&quot;hasAnyRole('ROLE_User')&quot;)\n    public Collection&lt;AProjection&gt; getAThing(@RequestHeader(&quot;Authorization&quot;) String auth) {\n      // do something\n    }\n}\n\n// and \n@RestController\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\n@RequestMapping(&quot;/b&quot;)\n@RequiredArgsConstructor\nclass BController {\n    @GetMapping(&quot;/&quot;)\n    @CrossOrigin(origins = &quot;*&quot;)\n    @PreAuthorize(&quot;hasAnyRole('ROLE_User')&quot;)\n    public Collection&lt;BProjection&gt; getBThing() {\n      // do something\n    }\n}\n</code></pre>\n<p>They are the same from a spring security point of view. Just different paths.</p>\n<p>Now I prepare security configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public SecurityFilterChain filterChain(HttpSecurity http, AuthTokenFilter authenticationJwtTokenFilter, AuthEntryPointJwt unauthorizedHandler) throws Exception {\n    http.csrf().disable().cors().and() \n            .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\n            .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n            .authorizeHttpRequests() \n            .requestMatchers(&quot;/auth/**&quot;).permitAll()\n            .requestMatchers(&quot;/actuator/**&quot;).permitAll()\n            .anyRequest().authenticated();\n\n    http.addFilterBefore(authenticationJwtTokenFilter, UsernamePasswordAuthenticationFilter.class);\n\n    return http.build();\n}\n\n@Bean\npublic CorsConfigurationSource corsConfigurationSource() {\n    CorsConfiguration configuration = new CorsConfiguration();\n    configuration.setAllowedOrigins(Arrays.asList(&quot;*&quot;));\n    configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;PATCH&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;));\n    configuration.setAllowedHeaders(Arrays.asList(&quot;Authorization&quot;, &quot;authorization&quot;, &quot;content-type&quot;, &quot;x-auth-token&quot;));\n    configuration.setExposedHeaders(Arrays.asList(&quot;x-auth-token&quot;));\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n    source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n    return source;\n}\n</code></pre>\n<h3>Issue symptoms</h3>\n<p>When I call <code>AController</code> from react app I get HTTP200 and everything is OK. The same situation is when I call it from cUrl or IntetlliJ WebClient. But</p>\n<p>When I call <code>BController</code> from react app I get HTTP401 Unauthorized, but when I use cUrl or WebClient I get HTTP200.</p>\n<h3>Few request:</h3>\n<p>Call from IntelliJ WebClient for <code>AController</code></p>\n<pre><code>GET http://localhost:28080/a\nHost: localhost:28080\nUser-Agent: Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:108.0) Gecko/20100101 Firefox/108.0\nAccept: application/json, text/plain, */*\nAccept-Language: pl,en-US;q=0.7,en;q=0.3\nAccept-Encoding: gzip, deflate, br\nAuthorization: Bearer eyJhbGciOiJIUzUxMiJ9.\nOrigin: http://localhost:3000\nConnection: keep-alive\nReferer: http://localhost:3000/\nSec-Fetch-Dest: empty\nSec-Fetch-Mode: cors\nSec-Fetch-Site: same-site\n</code></pre>\n<p>Call from IntelliJ WebClient for <code>BController</code></p>\n<pre><code>GET http://localhost:28080/b\nHost: localhost:28080\nUser-Agent: Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:108.0) Gecko/20100101 Firefox/108.0\nAccept: application/json, text/plain, */*\nAccept-Language: pl,en-US;q=0.7,en;q=0.3\nAccept-Encoding: gzip, deflate, br\nAuthorization: Bearer eyJhbGciOiJIUzUxMiJ9.\nOrigin: http://localhost:3000\nConnection: keep-alive\nReferer: http://localhost:3000/\nSec-Fetch-Dest: empty\nSec-Fetch-Mode: cors\nSec-Fetch-Site: same-site\n</code></pre>\n<p>Both was copied from browser.</p>\n<p>React call:</p>\n<pre><code>const get = (resource: string): Promise&lt;any&gt; =&gt;\n    axios\n        .get(`http://localhost:28080/${resource}`, {\n            headers: authHeader() as AxiosRequestHeaders,\n        })\n        .then(response =&gt; response.data as string)\n        .catch(err =&gt; {\n            console.log(err);\n            return &quot;&quot;;\n        });\n</code></pre>\n<h3>What I have discovered during debugging</h3>\n<p>I started debugging of code and I discovered one strange thing.</p>\n<p>One of a filters in chain is <code>SecurityContextHolderFilter</code>. When I call <code>AController</code> this filter is applied only once. Before I add user to security context, <code>SecurityContextHolder.getContext().getAuthentication()</code> return <code>null</code>. After that, my security filter is applied where I call <code>SecurityContextHolder.getContext().setAuthentication(authentication)</code>. But when I call <code>BController</code> from react app <code>SecurityContextHolderFilter</code> is applied twice. That does not happen when I use cUrl or WebClient. On that case, application happen only once.</p>\n<p>It looks like I have two requests when I use browser</p>\n<p>Another observation, when I use browser</p>\n<p>First application works with <code>RequestFacade</code> object as request.\nSecond works with <code>FirewalledFacade</code> object as request.</p>\n<h3>Questions</h3>\n<ol>\n<li>What is the rule that decide to change of request?</li>\n<li>Why?</li>\n</ol>\n<p>I know that second question is not so precise, but I give up and have no idea what happen there.</p>\n<hr />\n<h3>Edit</h3>\n<p>About new request  that because after failed auth we are redirected to <code>/error</code>.</p>\n"},{"tags":["java","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1671566098,"post_id":74867964,"comment_id":132125752,"body_markdown":"You can&#39;t index on a dynamic path like that. You data structure makes it easy to find the friends for a user, but not the users for a friends. To allow that you&#39;ll want to add an additional data structure with the reverse mapping, commonly referred to as an inverted index. See https://stackoverflow.com/questions/40656589/firebase-query-if-child-of-child-contains-a-value","body":"You can&#39;t index on a dynamic path like that. You data structure makes it easy to find the friends for a user, but not the users for a friends. To allow that you&#39;ll want to add an additional data structure with the reverse mapping, commonly referred to as an inverted index. See <a href=\"https://stackoverflow.com/questions/40656589/firebase-query-if-child-of-child-contains-a-value\" title=\"firebase query if child of child contains a value\">stackoverflow.com/questions/40656589/&hellip;</a>"}],"owner":{"account_id":1513296,"reputation":349,"user_id":1414893,"display_name":"Henrik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671566107,"answer_count":0,"score":0,"last_activity_date":1671564181,"creation_date":1671564181,"question_id":74867964,"body_markdown":"This is what my database looks like.. \r\n```\r\n{\r\n&quot;users&quot;:{\r\n     &quot;user_id4243&quot;:{\r\n        &quot;friends&quot;:{\r\n             &quot;friend1_ID5321&quot;:1,\r\n             &quot;friend2_ID5321&quot;:1,\r\n             &quot;friend3_ID5321&quot;:1}\r\n        &quot;sData&quot;:&quot;some_data&quot;\r\n     }\r\n   }\r\n}\r\n```\r\n\r\nIn the other words, I store user&#39;s friend&#39;s Id&#39;s, and try to filter users, using a friend ID.\r\n\r\nEverything works perfectly, except it downloads the whole &quot;friends&quot; data, and does the filtering on the client side. I get logs saying(Android/iOS),\r\n\r\n    Consider adding &#39;&quot;.indexOn&quot;: &quot;friends/115883230405231926879&quot;&#39; at users to your security and Firebase Database rules...\r\n\r\nBut how should I do that with no static user ids?\r\nI&#39;ve tried the following method, but it doesn&#39;t work as indexOn required only static path..\r\n\r\n    &quot;users&quot;: {\r\n          &quot;$user_id&quot;: {\r\n              &quot;friends&quot;: {\r\n                    &quot;.indexOn&quot;: &quot;$user_id&quot;\r\n                }\r\n            }\r\n        }\r\n\r\nI&#39;ve even tried adding another &quot;ID&quot; variable inside the friend id, but still no success..\r\n\r\n    &quot;users&quot;: {\r\n          &quot;$user_id&quot;: {\r\n              &quot;friends&quot;: {\r\n                  &quot;$user_id&quot;: {\r\n                    &quot;.indexOn&quot;: [&quot;ID&quot;]\r\n                  }\r\n                }\r\n            }\r\n        }\r\n\r\nAny idea how can I use .indexOn in this situation? Or how can I make a structure, where I&#39;ll be able to filter users, that will have certain ID inside..?","title":"Firebase Realtime Database, .indexOn with nested child with dynamic ID not working","body":"<p>This is what my database looks like..</p>\n<pre><code>{\n&quot;users&quot;:{\n     &quot;user_id4243&quot;:{\n        &quot;friends&quot;:{\n             &quot;friend1_ID5321&quot;:1,\n             &quot;friend2_ID5321&quot;:1,\n             &quot;friend3_ID5321&quot;:1}\n        &quot;sData&quot;:&quot;some_data&quot;\n     }\n   }\n}\n</code></pre>\n<p>In the other words, I store user's friend's Id's, and try to filter users, using a friend ID.</p>\n<p>Everything works perfectly, except it downloads the whole &quot;friends&quot; data, and does the filtering on the client side. I get logs saying(Android/iOS),</p>\n<pre><code>Consider adding '&quot;.indexOn&quot;: &quot;friends/115883230405231926879&quot;' at users to your security and Firebase Database rules...\n</code></pre>\n<p>But how should I do that with no static user ids?\nI've tried the following method, but it doesn't work as indexOn required only static path..</p>\n<pre><code>&quot;users&quot;: {\n      &quot;$user_id&quot;: {\n          &quot;friends&quot;: {\n                &quot;.indexOn&quot;: &quot;$user_id&quot;\n            }\n        }\n    }\n</code></pre>\n<p>I've even tried adding another &quot;ID&quot; variable inside the friend id, but still no success..</p>\n<pre><code>&quot;users&quot;: {\n      &quot;$user_id&quot;: {\n          &quot;friends&quot;: {\n              &quot;$user_id&quot;: {\n                &quot;.indexOn&quot;: [&quot;ID&quot;]\n              }\n            }\n        }\n    }\n</code></pre>\n<p>Any idea how can I use .indexOn in this situation? Or how can I make a structure, where I'll be able to filter users, that will have certain ID inside..?</p>\n"},{"tags":["java","android","whatsapp"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1671566374,"post_id":74867724,"comment_id":132125837,"body_markdown":"`return pathSdCard` Even if there is an exception in that function you return that path. But it will not be valid then. Please adapt your code. And the caller should check.","body":"<code>return pathSdCard</code> Even if there is an exception in that function you return that path. But it will not be valid then. Please adapt your code. And the caller should check."}],"owner":{"account_id":26703608,"reputation":13,"user_id":20310230,"display_name":"Unknown_Soldier"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671563945,"creation_date":1671562849,"question_id":74867724,"body_markdown":"For some time I&#39;ve been trying to implement the functionality of sending an audio file from my app through WhatsApp. When debugging everything seems to work correctly in the application, the audio file is generated and saved correctly in the external storage of the device, the WhatsApp window opens and allows me to select the chat to which I want to send the audio. The problem is that when I press the send button, WhatsApp returns the message &quot;Failed to share. Please try again&quot; (I leave a screenshot of the error so that it can be better viewed, in addition to the code used to add said functionality).\r\n\r\nCapture of the error shown on the screen by WhatsApp when trying to share the audio:\r\n\r\nhttps://i.stack.imgur.com/gZuLt.jpg\r\n\r\nCode used:\r\n\r\n```\r\n//////Boton//////\r\n\r\nbtn1.setOnClickListener(new View.OnClickListener(){\r\n    @Override\r\n    public void onClick(View view) {\r\n\r\n        try {\r\n            String mediaPath = copyFiletoExternalStorage(R.raw.audio1, &quot;audio1.mp3&quot;);\r\n            File myFile = new File(mediaPath);\r\n            Uri newUri = getUriForFile(wspActivity.this, &quot;com.restart.shareaudiofiles.fileprovider&quot;, myFile);\r\n            Intent compartirAudio = new Intent(android.content.Intent.ACTION_SEND);\r\n            compartirAudio.setType(&quot;com.whatsapp&quot;);\r\n            compartirAudio.setType(&quot;audio/mp3&quot;);\r\n            compartirAudio.putExtra(Intent.EXTRA_STREAM,newUri);\r\n            startActivity(Intent.createChooser(compartirAudio, &quot;Compartir v&#237;a&quot;));\r\n        } catch (Exception e) {\r\n            Toast.makeText(getApplicationContext(), &quot;Whatsapp no se encuentra instalado&quot;, Toast.LENGTH_LONG).show();\r\n        }\r\n    }\r\n});\r\n\r\n/////funcion auxiliar/////\r\nprivate String copyFiletoExternalStorage(int resourceId, String resourceName){\r\n        String pathi= Environment.getExternalStorageDirectory() + &quot;/Android/data/myProject/&quot;;\r\n        boolean exists = (new File(pathi)).exists();\r\n        if (!exists) {\r\n            new File(pathi).mkdirs();\r\n        }\r\n        String pathSDCard = Environment.getExternalStorageDirectory() + &quot;/Android/data/TeLoResumoBotonera/&quot; + resourceName;\r\n        try{\r\n            InputStream in = getResources().openRawResource(resourceId);\r\n            FileOutputStream out = null;\r\n            out = new FileOutputStream(pathSDCard);\r\n            byte[] buff = new byte[1024];\r\n            int read = 0;\r\n            try {\r\n                while ((read = in.read(buff)) &gt; 0) {\r\n                    out.write(buff, 0, read);\r\n                }\r\n            } finally {\r\n                in.close();\r\n                out.close();\r\n            }\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return  pathSDCard;\r\n    }\r\n\r\n/////Elementos agregados al manifest/////\r\n\r\n    &lt;queries&gt;\r\n\r\n        &lt;package android:name=&quot;com.whatsapp&quot; /&gt;\r\n        &lt;package android:name=&quot;com.whatsapp.w4b&quot; /&gt;\r\n\r\n    &lt;/queries&gt;\r\n\r\n\r\n    &lt;provider\r\n            android:name=&quot;androidx.core.content.FileProvider&quot;\r\n            android:authorities=&quot;com.restart.shareaudiofiles.fileprovider&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:grantUriPermissions=&quot;true&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                android:resource=&quot;@xml/provider_paths&quot; /&gt;\r\n    &lt;/provider&gt;\r\n```\r\n\r\nI researched and implemented various resources to the manifest such as the fileprovider and queries with specific packages for WhatsApp (as can be seen in the code). However, the app still doesn&#39;t work. This makes me think that the problem could be in the mobile device that I am using to test the application (I would like to use another one to rule out this option, but I don&#39;t have an extra one). If the device has nothing to do with it, then clearly there is a bug in my code. Due to this, in case someone manages to identify the improvement that could make the application work correctly, I would be very grateful if you can share it with me, or at least give me an idea of where to address the problem.\r\n","title":"Error when sending an audio file from my app to WhatsApp","body":"<p>For some time I've been trying to implement the functionality of sending an audio file from my app through WhatsApp. When debugging everything seems to work correctly in the application, the audio file is generated and saved correctly in the external storage of the device, the WhatsApp window opens and allows me to select the chat to which I want to send the audio. The problem is that when I press the send button, WhatsApp returns the message &quot;Failed to share. Please try again&quot; (I leave a screenshot of the error so that it can be better viewed, in addition to the code used to add said functionality).</p>\n<p>Capture of the error shown on the screen by WhatsApp when trying to share the audio:</p>\n<p><a href=\"https://i.stack.imgur.com/gZuLt.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/gZuLt.jpg</a></p>\n<p>Code used:</p>\n<pre><code>//////Boton//////\n\nbtn1.setOnClickListener(new View.OnClickListener(){\n    @Override\n    public void onClick(View view) {\n\n        try {\n            String mediaPath = copyFiletoExternalStorage(R.raw.audio1, &quot;audio1.mp3&quot;);\n            File myFile = new File(mediaPath);\n            Uri newUri = getUriForFile(wspActivity.this, &quot;com.restart.shareaudiofiles.fileprovider&quot;, myFile);\n            Intent compartirAudio = new Intent(android.content.Intent.ACTION_SEND);\n            compartirAudio.setType(&quot;com.whatsapp&quot;);\n            compartirAudio.setType(&quot;audio/mp3&quot;);\n            compartirAudio.putExtra(Intent.EXTRA_STREAM,newUri);\n            startActivity(Intent.createChooser(compartirAudio, &quot;Compartir va&quot;));\n        } catch (Exception e) {\n            Toast.makeText(getApplicationContext(), &quot;Whatsapp no se encuentra instalado&quot;, Toast.LENGTH_LONG).show();\n        }\n    }\n});\n\n/////funcion auxiliar/////\nprivate String copyFiletoExternalStorage(int resourceId, String resourceName){\n        String pathi= Environment.getExternalStorageDirectory() + &quot;/Android/data/myProject/&quot;;\n        boolean exists = (new File(pathi)).exists();\n        if (!exists) {\n            new File(pathi).mkdirs();\n        }\n        String pathSDCard = Environment.getExternalStorageDirectory() + &quot;/Android/data/TeLoResumoBotonera/&quot; + resourceName;\n        try{\n            InputStream in = getResources().openRawResource(resourceId);\n            FileOutputStream out = null;\n            out = new FileOutputStream(pathSDCard);\n            byte[] buff = new byte[1024];\n            int read = 0;\n            try {\n                while ((read = in.read(buff)) &gt; 0) {\n                    out.write(buff, 0, read);\n                }\n            } finally {\n                in.close();\n                out.close();\n            }\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return  pathSDCard;\n    }\n\n/////Elementos agregados al manifest/////\n\n    &lt;queries&gt;\n\n        &lt;package android:name=&quot;com.whatsapp&quot; /&gt;\n        &lt;package android:name=&quot;com.whatsapp.w4b&quot; /&gt;\n\n    &lt;/queries&gt;\n\n\n    &lt;provider\n            android:name=&quot;androidx.core.content.FileProvider&quot;\n            android:authorities=&quot;com.restart.shareaudiofiles.fileprovider&quot;\n            android:exported=&quot;false&quot;\n            android:grantUriPermissions=&quot;true&quot;&gt;\n            &lt;meta-data\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n                android:resource=&quot;@xml/provider_paths&quot; /&gt;\n    &lt;/provider&gt;\n</code></pre>\n<p>I researched and implemented various resources to the manifest such as the fileprovider and queries with specific packages for WhatsApp (as can be seen in the code). However, the app still doesn't work. This makes me think that the problem could be in the mobile device that I am using to test the application (I would like to use another one to rule out this option, but I don't have an extra one). If the device has nothing to do with it, then clearly there is a bug in my code. Due to this, in case someone manages to identify the improvement that could make the application work correctly, I would be very grateful if you can share it with me, or at least give me an idea of where to address the problem.</p>\n"},{"tags":["java","eclipse","windowbuilder"],"owner":{"account_id":27310913,"reputation":11,"user_id":20826077,"display_name":"Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1671563930,"creation_date":1671563829,"question_id":74867899,"body_markdown":"[enter image description here](https://i.stack.imgur.com/EW9VX.png)\r\n\r\n\r\n[enter image description here](https://i.stack.imgur.com/NLf8E.png)\r\n\r\n\r\n\r\n\r\n    import java.awt.EventQueue;\r\n    \r\n    import javax.swing.JFrame;\r\n    \r\n    public class AAA {\r\n    \r\n        private JFrame frame;\r\n    \r\n        /\r\n         * Launch the application.\r\n         */\r\n        public static void main(String[] args) {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                public void run() {\r\n                    try {\r\n                        AAA window = new AAA();\r\n                        window.frame.setVisible(true);\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    \r\n        /\r\n         * Create the application.\r\n         */\r\n        public AAA() {\r\n            initialize();\r\n        }\r\n    \r\n        /**\r\n         * Initialize the contents of the frame.\r\n         */\r\n        private void initialize() {\r\n            frame = new JFrame();\r\n            frame.setBounds(100, 100, 450, 300);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        }\r\n    \r\n    }\r\n\r\nWhen I open WB via Eclipse. as soon as the project opens, my screen is like this.\r\n\r\n","title":"Windowbuilder not showing the full frame","body":"<p><a href=\"https://i.stack.imgur.com/EW9VX.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/NLf8E.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>import java.awt.EventQueue;\n\nimport javax.swing.JFrame;\n\npublic class AAA {\n\n    private JFrame frame;\n\n    /\n     * Launch the application.\n     */\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                try {\n                    AAA window = new AAA();\n                    window.frame.setVisible(true);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n\n    /\n     * Create the application.\n     */\n    public AAA() {\n        initialize();\n    }\n\n    /**\n     * Initialize the contents of the frame.\n     */\n    private void initialize() {\n        frame = new JFrame();\n        frame.setBounds(100, 100, 450, 300);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    }\n\n}\n</code></pre>\n<p>When I open WB via Eclipse. as soon as the project opens, my screen is like this.</p>\n"},{"tags":["java","lombok","mapstruct"],"comments":[{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":1,"creation_date":1611926262,"post_id":65955000,"comment_id":116613481,"body_markdown":"Try to lower the version of `lombok-mapstruct-binding` to `0.1.0`.","body":"Try to lower the version of <code>lombok-mapstruct-binding</code> to <code>0.1.0</code>."},{"owner":{"account_id":8428380,"reputation":1057,"user_id":6324924,"accept_rate":100,"display_name":"Robert van der Spek"},"score":0,"creation_date":1611926596,"post_id":65955000,"comment_id":116613634,"body_markdown":"Downgrading &#39;lombok-mapstruct-binding&#39; to &#39;0.1.0&#39; did not have any (noticeable) effect.","body":"Downgrading &#39;lombok-mapstruct-binding&#39; to &#39;0.1.0&#39; did not have any (noticeable) effect."}],"answers":[{"tags":[],"owner":{"account_id":12060587,"reputation":3933,"user_id":8819761,"display_name":"Jeroen Steenbeeke"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1611927233,"creation_date":1611927233,"answer_id":65955495,"question_id":65955000,"body_markdown":"I&#39;ve played around with your demo sources, and it turns out that placing Mapstruct first in the compiler plugin sources fixes the issue. I don&#39;t know why this works, it feels counterintuitive to me, but this is what one of the developers of Mapstruct suggested in [a similar issue posted on Lombok&#39;s Github](https://github.com/rzwitserloot/lombok/issues/1538#issuecomment-489367794).\r\n\r\nSo in your case:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;${compiler-plugin.version}&lt;/version&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;annotationProcessorPaths&gt;\r\n\t\t\t&lt;path&gt;\r\n\t\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${org.mapstruct.mapstruct-processor.version}&lt;/version&gt;\r\n\t\t\t&lt;/path&gt;\r\n\t\t\t&lt;path&gt;\r\n\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${org.projectlombok.lombok.version}&lt;/version&gt;\r\n\t\t\t&lt;/path&gt;\r\n\t\t\t&lt;path&gt;\r\n\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${org.projectlombok.ombok-mapstruct-binding.version}&lt;/version&gt;\r\n\t\t\t&lt;/path&gt;\r\n\t\t&lt;/annotationProcessorPaths&gt;\r\n\t&lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n    \r\n```","title":"How to instruct Mapstruct to use lombok builder?","body":"<p>I've played around with your demo sources, and it turns out that placing Mapstruct first in the compiler plugin sources fixes the issue. I don't know why this works, it feels counterintuitive to me, but this is what one of the developers of Mapstruct suggested in <a href=\"https://github.com/rzwitserloot/lombok/issues/1538#issuecomment-489367794\" rel=\"noreferrer\">a similar issue posted on Lombok's Github</a>.</p>\n<p>So in your case:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${compiler-plugin.version}&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;annotationProcessorPaths&gt;\n            &lt;path&gt;\n                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                &lt;version&gt;${org.mapstruct.mapstruct-processor.version}&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;path&gt;\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                &lt;version&gt;${org.projectlombok.lombok.version}&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;path&gt;\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                &lt;version&gt;${org.projectlombok.ombok-mapstruct-binding.version}&lt;/version&gt;\n            &lt;/path&gt;\n        &lt;/annotationProcessorPaths&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1077484,"reputation":1314,"user_id":1075304,"display_name":"Swoot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619089039,"creation_date":1619089039,"answer_id":67211893,"question_id":65955000,"body_markdown":"I put the lombok artifact below the mapstruct and mapstruct-processor artifact in the dependencies and it started working. \r\n\r\n```lang-xml\r\n    &lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${lombok-mapstruct-binding.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n```","title":"How to instruct Mapstruct to use lombok builder?","body":"<p>I put the lombok artifact below the mapstruct and mapstruct-processor artifact in the dependencies and it started working.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n            &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n            &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n            &lt;version&gt;${lombok-mapstruct-binding.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7377225,"reputation":1389,"user_id":5615357,"accept_rate":58,"display_name":"Philippe Simo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671563689,"creation_date":1671563689,"answer_id":74867864,"question_id":65955000,"body_markdown":"I&#39;ve spent a couple of hours figuring this out: \r\n\r\nJust in case you are not using Lombok `@Builder` to set up the builder pattern for your object.\r\n\r\nMake sure your builder method is `public` and `static`:\r\n\r\n```\r\n public static SectionBuilder builder() {\r\n        return new SectionBuilder();\r\n } \r\n```","title":"How to instruct Mapstruct to use lombok builder?","body":"<p>I've spent a couple of hours figuring this out:</p>\n<p>Just in case you are not using Lombok <code>@Builder</code> to set up the builder pattern for your object.</p>\n<p>Make sure your builder method is <code>public</code> and <code>static</code>:</p>\n<pre><code> public static SectionBuilder builder() {\n        return new SectionBuilder();\n } \n</code></pre>\n"}],"owner":{"account_id":8428380,"reputation":1057,"user_id":6324924,"accept_rate":100,"display_name":"Robert van der Spek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18210,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":65955495,"answer_count":3,"score":12,"last_activity_date":1671563689,"creation_date":1611925319,"question_id":65955000,"body_markdown":"MapStruct is unable to create an implementation when I&#39;m trying to map object with a private default constructor, but with a (lombok generated) builder.\r\n\r\n&gt; SomeMapperImpl.java:[20,27] SomeDto() is not public in\r\n&gt; com.example.mapstructdemo.dto.SomeDto; cannot be accessed from outside\r\n&gt; package\r\n\r\nDto:\r\n\r\n    @Value\r\n    @Builder\r\n    public class SomeDto {\r\n    }\r\nModel:\r\n\r\n    @Value\r\n    @Builder\r\n    public class SomeModel {\r\n    }\r\nMapper interface:\r\n\r\n    @Mapper\r\n    public interface SomeMapper {\r\n        SomeDto map(SomeModel someModel);\r\n        SomeModel map(SomeDto someDto);\r\n    }\r\nfragment from Pom.xml:\r\n\r\n\t\t&lt;plugin&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${compiler-plugin.version}&lt;/version&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;annotationProcessorPaths&gt;\r\n\t\t\t\t\t&lt;path&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;1.18.16&lt;/version&gt;\r\n\t\t\t\t\t&lt;/path&gt;\r\n\t\t\t\t\t&lt;path&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;0.2.0&lt;/version&gt;\r\n\t\t\t\t\t&lt;/path&gt;\r\n\t\t\t\t\t&lt;path&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;1.4.1.Final&lt;/version&gt;\r\n\t\t\t\t\t&lt;/path&gt;\r\n\t\t\t\t&lt;/annotationProcessorPaths&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/plugin&gt;\r\n\r\nThe generated implementation:\r\n\r\n    @Generated(\r\n        value = &quot;org.mapstruct.ap.MappingProcessor&quot;,\r\n        date = &quot;2021-01-29T13:47:46+0100&quot;,\r\n        comments = &quot;version: 1.4.1.Final, compiler: javac, environment: Java 11.0.9.1 (Ubuntu)&quot;\r\n    )\r\n    public class SomeMapperImpl implements SomeMapper {\r\n    \r\n        @Override\r\n        public SomeDto map(SomeModel someModel) {\r\n            if ( someModel == null ) {\r\n                return null;\r\n            }\r\n    \r\n            SomeDto someDto = new SomeDto();\r\n    \r\n            return someDto;\r\n        }\r\n    \r\n        @Override\r\n        public SomeModel map(SomeDto someDto) {\r\n            if ( someDto == null ) {\r\n                return null;\r\n            }\r\n    \r\n            SomeModel someModel = new SomeModel();\r\n    \r\n            return someModel;\r\n        }\r\n    }\r\n\r\nWhat can I do to help mapstruct find the builder?\r\n\r\n\r\nTo reproduce the problem, clone this repo https://github.com/rmvanderspek/mapstruct-demo and mvn verify.\r\n\r\n\r\n","title":"How to instruct Mapstruct to use lombok builder?","body":"<p>MapStruct is unable to create an implementation when I'm trying to map object with a private default constructor, but with a (lombok generated) builder.</p>\n<blockquote>\n<p>SomeMapperImpl.java:[20,27] SomeDto() is not public in\ncom.example.mapstructdemo.dto.SomeDto; cannot be accessed from outside\npackage</p>\n</blockquote>\n<p>Dto:</p>\n<pre><code>@Value\n@Builder\npublic class SomeDto {\n}\n</code></pre>\n<p>Model:</p>\n<pre><code>@Value\n@Builder\npublic class SomeModel {\n}\n</code></pre>\n<p>Mapper interface:</p>\n<pre><code>@Mapper\npublic interface SomeMapper {\n    SomeDto map(SomeModel someModel);\n    SomeModel map(SomeDto someDto);\n}\n</code></pre>\n<p>fragment from Pom.xml:</p>\n<pre><code>    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${compiler-plugin.version}&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;annotationProcessorPaths&gt;\n                &lt;path&gt;\n                    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                    &lt;version&gt;1.18.16&lt;/version&gt;\n                &lt;/path&gt;\n                &lt;path&gt;\n                    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                    &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                    &lt;version&gt;0.2.0&lt;/version&gt;\n                &lt;/path&gt;\n                &lt;path&gt;\n                    &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                    &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                    &lt;version&gt;1.4.1.Final&lt;/version&gt;\n                &lt;/path&gt;\n            &lt;/annotationProcessorPaths&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n<p>The generated implementation:</p>\n<pre><code>@Generated(\n    value = &quot;org.mapstruct.ap.MappingProcessor&quot;,\n    date = &quot;2021-01-29T13:47:46+0100&quot;,\n    comments = &quot;version: 1.4.1.Final, compiler: javac, environment: Java 11.0.9.1 (Ubuntu)&quot;\n)\npublic class SomeMapperImpl implements SomeMapper {\n\n    @Override\n    public SomeDto map(SomeModel someModel) {\n        if ( someModel == null ) {\n            return null;\n        }\n\n        SomeDto someDto = new SomeDto();\n\n        return someDto;\n    }\n\n    @Override\n    public SomeModel map(SomeDto someDto) {\n        if ( someDto == null ) {\n            return null;\n        }\n\n        SomeModel someModel = new SomeModel();\n\n        return someModel;\n    }\n}\n</code></pre>\n<p>What can I do to help mapstruct find the builder?</p>\n<p>To reproduce the problem, clone this repo <a href=\"https://github.com/rmvanderspek/mapstruct-demo\" rel=\"noreferrer\">https://github.com/rmvanderspek/mapstruct-demo</a> and mvn verify.</p>\n"},{"tags":["java","minecraft","bukkit","spigot"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":1,"creation_date":1650847879,"post_id":71993453,"comment_id":127212596,"body_markdown":"Print out the String `networkfolder + File.separator + filename` before you create the file.  What does it have in it?","body":"Print out the String <code>networkfolder + File.separator + filename</code> before you create the file.  What does it have in it?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1650849525,"post_id":71993453,"comment_id":127212784,"body_markdown":"Use your debugger to look at `txt` before the call to `createNewFile()`.  There may be some unexpected characters in there, such as two slashes in a row, or similar.","body":"Use your debugger to look at <code>txt</code> before the call to <code>createNewFile()</code>.  There may be some unexpected characters in there, such as two slashes in a row, or similar."},{"owner":{"account_id":24446379,"reputation":103,"user_id":18369260,"display_name":"ThrownRedstone"},"score":0,"creation_date":1650850867,"post_id":71993453,"comment_id":127212987,"body_markdown":"@stdunbar It gives me this: C:\\Users\\Anston Sorensen\\Desktop\\Minecraft Servers\\Sun Apr 24 20:40:41 CDT 2022-D.txt","body":"@stdunbar It gives me this: C:\\Users\\Anston Sorensen\\Desktop\\Minecraft Servers\\Sun Apr 24 20:40:41 CDT 2022-D.txt"},{"owner":{"account_id":24446379,"reputation":103,"user_id":18369260,"display_name":"ThrownRedstone"},"score":0,"creation_date":1650850891,"post_id":71993453,"comment_id":127212990,"body_markdown":"@DawoodibnKareem There isn&#39;t","body":"@DawoodibnKareem There isn&#39;t"},{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":1,"creation_date":1650851132,"post_id":71993453,"comment_id":127213039,"body_markdown":"That isn&#39;t a valid Windows file name @ThrownRedstone.  See [this link](https://learn.microsoft.com/en-us/windows/win32/fileio/naming-a-file) for details but the extra colon characters are breaking it.","body":"That isn&#39;t a valid Windows file name @ThrownRedstone.  See <a href=\"https://learn.microsoft.com/en-us/windows/win32/fileio/naming-a-file\" rel=\"nofollow noreferrer\">this link</a> for details but the extra colon characters are breaking it."}],"answers":[{"tags":[],"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650851184,"creation_date":1650851184,"answer_id":71993725,"question_id":71993453,"body_markdown":"Like the error message says, the filename syntax is incorrect. \r\n\r\n    C:\\Users\\Anston Sorensen\\Desktop\\Minecraft Servers\\Sun Apr 24 20:40:41 CDT 2022-D.txt\r\n\r\nYou can&#39;t use colons in Windows filenames, except for after the drive letter.  You need to rethink your name generation strategy.\r\n\r\n\r\n","title":"Why doesn&#39;t Java create a file with the system time in it&#39;s filename?","body":"<p>Like the error message says, the filename syntax is incorrect.</p>\n<pre><code>C:\\Users\\Anston Sorensen\\Desktop\\Minecraft Servers\\Sun Apr 24 20:40:41 CDT 2022-D.txt\n</code></pre>\n<p>You can't use colons in Windows filenames, except for after the drive letter.  You need to rethink your name generation strategy.</p>\n"}],"owner":{"account_id":24446379,"reputation":103,"user_id":18369260,"display_name":"ThrownRedstone"},"comment_count":5,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1651025398,"accepted_answer_id":71993725,"answer_count":1,"score":-2,"last_activity_date":1671563600,"creation_date":1650847690,"question_id":71993453,"body_markdown":"I&#39;m working on a Bukkit/Spigot plugin for my Minecraft server. This command is supposed to create a file with the system time in it and whatever the player puts in for an argument. For some reason, it doesn&#39;t work. It has to do with what is in the filename. \r\n\r\nPrinting out ```networkfolder + File.separator + filename``` gives me ```C:\\Users\\Anston Sorensen\\Desktop\\Minecraft Servers\\Sun Apr 24 20:40:41 CDT 2022-D.txt```. What could be going on?\r\n\r\nMy command class:\r\n```public class TestCrap implements CommandExecutor {\r\n\r\n    @Override\r\n    public boolean onCommand(CommandSender sender, Command command, String label, String[] args) {\r\n\r\n        if (sender instanceof Player) {\r\n            Player player = (Player) sender;\r\n\r\n            if (args.length == 0) {\r\n                player.sendMessage(ChatColor.RED + &quot;You need to enter some arguments&quot;);\r\n                player.sendMessage(ChatColor.YELLOW + &quot;To save the server network to the GitHub website: /saveserver &lt;what you built/did(TYPE _ FOR SPACES)&gt;&quot;);\r\n            } else if (args.length == 1) {\r\n                File curdir = new File(System.getProperty(&quot;user.dir&quot;));\r\n                Path parentfolder = curdir.toPath().getParent().getParent();\r\n                String networkfolder = parentfolder + File.separator + &quot;Minecraft Servers&quot;;\r\n                Date date = new Date();\r\n                String filename = date + &quot;-&quot; + args[0].toUpperCase().replace(&quot;_&quot;, &quot; &quot;) + &quot;.txt&quot;;\r\n\r\n                File txt = new File(networkfolder + File.separator + filename);\r\n                try {\r\n                    txt.createNewFile();\r\n                } catch (IOException e) {\r\n                    player.sendMessage(&quot;Unable to create file.&quot;);\r\n                }\r\n            } else {\r\n                player.sendMessage(ChatColor.RED + &quot;Too many arguments&quot;);\r\n                player.sendMessage(ChatColor.YELLOW + &quot;To save the server network to the GitHub website: /saveserver &lt;what you built/did(TYPE _ FOR SPACES)&gt;&quot;);\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\nIt gives me this error:\r\n```\r\n[15:18:44 WARN]: java.io.IOException: The filename, directory name, or volume label syntax is incorrect\r\n[15:18:44 WARN]:        at java.base/java.io.WinNTFileSystem.createFileExclusively(Native Method)\r\n[15:18:44 WARN]:        at java.base/java.io.File.createNewFile(File.java:1043)\r\n[15:18:44 WARN]:        at CrucialPlugin-1.0.jar//me.acclashcorporation.crucialplugin.commands.TestCrap.onCommand(TestCrap.java:36)\r\n[15:18:44 WARN]:        at org.bukkit.command.PluginCommand.execute(PluginCommand.java:45)\r\n[15:18:44 WARN]:        at org.bukkit.command.SimpleCommandMap.dispatch(SimpleCommandMap.java:159)\r\n[15:18:44 WARN]:        at org.bukkit.craftbukkit.v1_18_R2.CraftServer.dispatchCommand(CraftServer.java:906)\r\n[15:18:44 WARN]:        at net.minecraft.server.network.PlayerConnection.a(PlayerConnection.java:2306)\r\n[15:18:44 WARN]:        at net.minecraft.server.network.PlayerConnection.a(PlayerConnection.java:2117)\r\n[15:18:44 WARN]:        at net.minecraft.server.network.PlayerConnection.a(PlayerConnection.java:2098)\r\n[15:18:44 WARN]:        at net.minecraft.network.protocol.game.PacketPlayInChat.a(PacketPlayInChat.java:46)\r\n[15:18:44 WARN]:        at net.minecraft.network.protocol.game.PacketPlayInChat.a(PacketPlayInChat.java:6)\r\n[15:18:44 WARN]:        at net.minecraft.network.protocol.PlayerConnectionUtils.lambda$ensureRunningOnSameThread$1(PlayerConnectionUtils.java:51)\r\n[15:18:44 WARN]:        at net.minecraft.server.TickTask.run(TickTask.java:18)\r\n[15:18:44 WARN]:        at net.minecraft.util.thread.IAsyncTaskHandler.d(IAsyncTaskHandler.java:153)\r\n[15:18:44 WARN]:        at net.minecraft.util.thread.IAsyncTaskHandlerReentrant.d(IAsyncTaskHandlerReentrant.java:24)\r\n[15:18:44 WARN]:        at net.minecraft.server.MinecraftServer.b(MinecraftServer.java:1399)\r\n[15:18:44 WARN]:        at net.minecraft.server.MinecraftServer.d(MinecraftServer.java:188)\r\n[15:18:44 WARN]:        at net.minecraft.util.thread.IAsyncTaskHandler.y(IAsyncTaskHandler.java:126)\r\n[15:18:44 WARN]:        at net.minecraft.server.MinecraftServer.be(MinecraftServer.java:1376)\r\n[15:18:44 WARN]:        at net.minecraft.server.MinecraftServer.y(MinecraftServer.java:1369)\r\n[15:18:44 WARN]:        at net.minecraft.util.thread.IAsyncTaskHandler.c(IAsyncTaskHandler.java:136)\r\n[15:18:44 WARN]:        at net.minecraft.server.MinecraftServer.x(MinecraftServer.java:1347)\r\n[15:18:44 WARN]:        at net.minecraft.server.MinecraftServer.w(MinecraftServer.java:1229)\r\n[15:18:44 WARN]:        at net.minecraft.server.MinecraftServer.lambda$spin$0(MinecraftServer.java:315)\r\n[15:18:44 WARN]:        at java.base/java.lang.Thread.run(Thread.java:833)\r\n```","title":"Why doesn&#39;t Java create a file with the system time in it&#39;s filename?","body":"<p>I'm working on a Bukkit/Spigot plugin for my Minecraft server. This command is supposed to create a file with the system time in it and whatever the player puts in for an argument. For some reason, it doesn't work. It has to do with what is in the filename.</p>\n<p>Printing out <code>networkfolder + File.separator + filename</code> gives me <code>C:\\Users\\Anston Sorensen\\Desktop\\Minecraft Servers\\Sun Apr 24 20:40:41 CDT 2022-D.txt</code>. What could be going on?</p>\n<p>My command class:</p>\n<pre><code>\n    @Override\n    public boolean onCommand(CommandSender sender, Command command, String label, String[] args) {\n\n        if (sender instanceof Player) {\n            Player player = (Player) sender;\n\n            if (args.length == 0) {\n                player.sendMessage(ChatColor.RED + &quot;You need to enter some arguments&quot;);\n                player.sendMessage(ChatColor.YELLOW + &quot;To save the server network to the GitHub website: /saveserver &lt;what you built/did(TYPE _ FOR SPACES)&gt;&quot;);\n            } else if (args.length == 1) {\n                File curdir = new File(System.getProperty(&quot;user.dir&quot;));\n                Path parentfolder = curdir.toPath().getParent().getParent();\n                String networkfolder = parentfolder + File.separator + &quot;Minecraft Servers&quot;;\n                Date date = new Date();\n                String filename = date + &quot;-&quot; + args[0].toUpperCase().replace(&quot;_&quot;, &quot; &quot;) + &quot;.txt&quot;;\n\n                File txt = new File(networkfolder + File.separator + filename);\n                try {\n                    txt.createNewFile();\n                } catch (IOException e) {\n                    player.sendMessage(&quot;Unable to create file.&quot;);\n                }\n            } else {\n                player.sendMessage(ChatColor.RED + &quot;Too many arguments&quot;);\n                player.sendMessage(ChatColor.YELLOW + &quot;To save the server network to the GitHub website: /saveserver &lt;what you built/did(TYPE _ FOR SPACES)&gt;&quot;);\n            }\n        }\n        return true;\n    }\n}\n</code></pre>\n<p>It gives me this error:</p>\n<pre><code>[15:18:44 WARN]: java.io.IOException: The filename, directory name, or volume label syntax is incorrect\n[15:18:44 WARN]:        at java.base/java.io.WinNTFileSystem.createFileExclusively(Native Method)\n[15:18:44 WARN]:        at java.base/java.io.File.createNewFile(File.java:1043)\n[15:18:44 WARN]:        at CrucialPlugin-1.0.jar//me.acclashcorporation.crucialplugin.commands.TestCrap.onCommand(TestCrap.java:36)\n[15:18:44 WARN]:        at org.bukkit.command.PluginCommand.execute(PluginCommand.java:45)\n[15:18:44 WARN]:        at org.bukkit.command.SimpleCommandMap.dispatch(SimpleCommandMap.java:159)\n[15:18:44 WARN]:        at org.bukkit.craftbukkit.v1_18_R2.CraftServer.dispatchCommand(CraftServer.java:906)\n[15:18:44 WARN]:        at net.minecraft.server.network.PlayerConnection.a(PlayerConnection.java:2306)\n[15:18:44 WARN]:        at net.minecraft.server.network.PlayerConnection.a(PlayerConnection.java:2117)\n[15:18:44 WARN]:        at net.minecraft.server.network.PlayerConnection.a(PlayerConnection.java:2098)\n[15:18:44 WARN]:        at net.minecraft.network.protocol.game.PacketPlayInChat.a(PacketPlayInChat.java:46)\n[15:18:44 WARN]:        at net.minecraft.network.protocol.game.PacketPlayInChat.a(PacketPlayInChat.java:6)\n[15:18:44 WARN]:        at net.minecraft.network.protocol.PlayerConnectionUtils.lambda$ensureRunningOnSameThread$1(PlayerConnectionUtils.java:51)\n[15:18:44 WARN]:        at net.minecraft.server.TickTask.run(TickTask.java:18)\n[15:18:44 WARN]:        at net.minecraft.util.thread.IAsyncTaskHandler.d(IAsyncTaskHandler.java:153)\n[15:18:44 WARN]:        at net.minecraft.util.thread.IAsyncTaskHandlerReentrant.d(IAsyncTaskHandlerReentrant.java:24)\n[15:18:44 WARN]:        at net.minecraft.server.MinecraftServer.b(MinecraftServer.java:1399)\n[15:18:44 WARN]:        at net.minecraft.server.MinecraftServer.d(MinecraftServer.java:188)\n[15:18:44 WARN]:        at net.minecraft.util.thread.IAsyncTaskHandler.y(IAsyncTaskHandler.java:126)\n[15:18:44 WARN]:        at net.minecraft.server.MinecraftServer.be(MinecraftServer.java:1376)\n[15:18:44 WARN]:        at net.minecraft.server.MinecraftServer.y(MinecraftServer.java:1369)\n[15:18:44 WARN]:        at net.minecraft.util.thread.IAsyncTaskHandler.c(IAsyncTaskHandler.java:136)\n[15:18:44 WARN]:        at net.minecraft.server.MinecraftServer.x(MinecraftServer.java:1347)\n[15:18:44 WARN]:        at net.minecraft.server.MinecraftServer.w(MinecraftServer.java:1229)\n[15:18:44 WARN]:        at net.minecraft.server.MinecraftServer.lambda$spin$0(MinecraftServer.java:315)\n[15:18:44 WARN]:        at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n"},{"tags":["java","apache-kafka","kafka-consumer-api","snappy"],"comments":[{"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"score":1,"creation_date":1671563438,"post_id":74867728,"comment_id":132124936,"body_markdown":"This has nothing to do with Spring so I removed those tags and added Snappy - FYI, those Spring versions have been out of support for a very long time now. https://spring.io/projects/spring-boot#support https://spring.io/projects/spring-kafka#support","body":"This has nothing to do with Spring so I removed those tags and added Snappy - FYI, those Spring versions have been out of support for a very long time now. <a href=\"https://spring.io/projects/spring-boot#support\" rel=\"nofollow noreferrer\">spring.io/projects/spring-boot#support</a> <a href=\"https://spring.io/projects/spring-kafka#support\" rel=\"nofollow noreferrer\">spring.io/projects/spring-kafka#support</a>"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1671564932,"post_id":74867728,"comment_id":132125425,"body_markdown":"For debugging, do you get the same error when you try using `kafka-console-consumer`?","body":"For debugging, do you get the same error when you try using <code>kafka-console-consumer</code>?"}],"owner":{"account_id":3355555,"reputation":2794,"user_id":2818583,"display_name":"AnV"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":559,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671563539,"creation_date":1671562869,"question_id":74867728,"body_markdown":"I am trying to consume messages from kafka using spring-kafka using code below. But I am seeing `java.io.IOException: FAILED_TO_UNCOMPRESS(5)` error from snappy and `org.apache.kafka.common.KafkaException: Failed to decompress record stream`\r\n\r\n**Consumer.java** \r\n\r\n      @Autowired\r\n      @Qualifier(&quot;batchAckEventProcessor&quot;)\r\n      private BatchEventProcessor eventProcessor;\r\n      \r\n      @KafkaListener(\r\n              topics = &quot;MyAckTopic&quot;,\r\n              containerFactory = &quot;kafkaListenerContainerFactory&quot;)\r\n      public void consume(Message&lt;Object&gt; message) {   \r\n          eventProcessor.process(message.getPayload());\r\n      }\r\n    }\r\n\r\n**ConsumerConfig.java**\r\n\r\n      public ConsumerFactory&lt;String, JSONObject&gt; batchConsumerConfiguration() {\r\n        Map&lt;String, Object&gt; config = new HashMap&lt;&gt;();\r\n        config.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, env.getProperty(&quot;batch_kafka_bootstrap_servers_list&quot;));\r\n        config.put(ConsumerConfig.GROUP_ID_CONFIG, env.getProperty(&quot;batch_consumer_group_id&quot;));\r\n        config.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        config.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class);\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(\r\n            config, new StringDeserializer(), new JsonDeserializer&lt;&gt;(JSONObject.class));\r\n      }\r\n    \r\n      @Bean\r\n      public ConcurrentKafkaListenerContainerFactory&lt;String, JSONObject&gt; kafkaListenerContainerFactory() {\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, JSONObject&gt; factory =\r\n            new ConcurrentKafkaListenerContainerFactory();\r\n        factory.setConsumerFactory(batchConsumerConfiguration());\r\n        return factory;\r\n      }\r\n\r\n**compression type** for topic : snappy\r\n\r\n**spring boot version** : 2.1.1.RELEASE\r\n\r\n**dependency versions**:\r\n\r\n    [INFO] +- org.springframework.kafka:spring-kafka:jar:2.2.15.RELEASE:compile\r\n    [INFO] |  \\- org.apache.kafka:kafka-clients:jar:2.0.1:compile\r\n    [INFO] |     +- org.lz4:lz4-java:jar:1.4.1:compile\r\n    [INFO] |     \\- org.xerial.snappy:snappy-java:jar:1.1.7.1:compile\r\n\r\n\r\n**Error log:**\r\n\r\n    2022-12-20 18:40:01\t\r\n    18:39:58 20-Dec [ERROR] [o.s.kafka.listener.LoggingErrorHandler  ] [handle              :37  ] [] []-&gt; Error while processing: null \r\n    2022-12-20 18:40:01\t\r\n    Caused by: org.apache.kafka.common.KafkaException: Failed to decompress record stream\r\n    2022-12-20 18:40:01\t\r\n    org.apache.kafka.common.KafkaException: Received exception when fetching the next record from MyAckTopic-0. If needed, please seek past the record to continue consumption.\r\n    2022-12-20 18:40:01\t\r\n    \tat org.apache.kafka.common.record.DefaultRecordBatch$1.readNext(DefaultRecordBatch.java:268)\r\n    2022-12-20 18:40:01\t\r\n    \tat org.apache.kafka.common.record.DefaultRecordBatch$RecordIterator.next(DefaultRecordBatch.java:563)\r\n    2022-12-20 18:40:01\t\r\n    \tat org.apache.kafka.clients.consumer.internals.Fetcher$PartitionRecords.fetchRecords(Fetcher.java:1204)\r\n    2022-12-20 18:40:01\t\r\n    \tat org.apache.kafka.common.record.DefaultRecordBatch$RecordIterator.next(DefaultRecordBatch.java:532)\r\n    2022-12-20 18:40:01\t\r\n    \tat org.apache.kafka.clients.consumer.internals.Fetcher$PartitionRecords.access$1400(Fetcher.java:1072)\r\n    2022-12-20 18:40:01\t\r\n    \tat org.apache.kafka.clients.consumer.internals.Fetcher$PartitionRecords.nextFetchedRecord(Fetcher.java:1183)\r\n    2022-12-20 18:40:01\t\r\n    \tat org.apache.kafka.clients.consumer.internals.Fetcher.fetchRecords(Fetcher.java:562)\r\n    2022-12-20 18:40:01\t\r\n    \tat org.apache.kafka.clients.consumer.internals.Fetcher$PartitionRecords.fetchRecords(Fetcher.java:1218)\r\n    2022-12-20 18:40:01\t\r\n    \tat org.apache.kafka.clients.consumer.internals.Fetcher.fetchedRecords(Fetcher.java:523)\r\n    2022-12-20 18:40:01\t\r\n    \tat org.apache.kafka.clients.consumer.internals.Fetcher$PartitionRecords.access$1400(Fetcher.java:1072)\r\n    2022-12-20 18:40:01\t\r\n    \tat org.apache.kafka.clients.consumer.KafkaConsumer.pollForFetches(KafkaConsumer.java:1230)\r\n    2022-12-20 18:40:01\t\r\n    \tat org.apache.kafka.clients.consumer.internals.Fetcher.fetchRecords(Fetcher.java:562)\r\n    2022-12-20 18:40:01\t\r\n    \tat org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1187)\r\n    2022-12-20 18:40:01\t\r\n    \tat org.apache.kafka.clients.consumer.internals.Fetcher.fetchedRecords(Fetcher.java:523)\r\n    2022-12-20 18:40:01\t\r\n    \tat org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1154)\r\n    2022-12-20 18:40:01\t\r\n    \tat org.apache.kafka.clients.consumer.KafkaConsumer.pollForFetches(KafkaConsumer.java:1259)\r\n    2022-12-20 18:40:01\t\r\n    \tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:757)\r\n    2022-12-20 18:40:01\t\r\n    \t... 7 common frames omitted\r\n    2022-12-20 18:40:01\t\r\n    Caused by: java.io.IOException: FAILED_TO_UNCOMPRESS(5)\r\n    2022-12-20 18:40:01\t\r\n    \tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:708)\r\n    2022-12-20 18:40:01\t\r\n    \tat org.xerial.snappy.SnappyNative.throw_error(SnappyNative.java:98)\r\n    2022-12-20 18:40:01\t\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n    2022-12-20 18:40:01\t\r\n    \tat org.xerial.snappy.SnappyNative.rawUncompress(Native Method)\r\n    2022-12-20 18:40:01\t\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    2022-12-20 18:40:01\t\r\n    \tat org.xerial.snappy.Snappy.rawUncompress(Snappy.java:474)\r\n    2022-12-20 18:40:01\t\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    2022-12-20 18:40:01\t\r\n    \tat org.xerial.snappy.Snappy.uncompress(Snappy.java:513)\r\n    2022-12-20 18:40:01\t\r\n    Caused by: org.apache.kafka.common.KafkaException: Failed to decompress record stream\r\n    2022-12-20 18:40:01\t\r\n    \tat org.xerial.snappy.SnappyInputStream.hasNextChunk(SnappyInputStream.java:439)\r\n    2022-12-20 18:40:01\t\r\n    \tat org.apache.kafka.common.record.DefaultRecordBatch$1.readNext(DefaultRecordBatch.java:268)\r\n    2022-12-20 18:40:01\t\r\n    \tat org.xerial.snappy.SnappyInputStream.read(SnappyInputStream.java:466)\r\n    2022-12-20 18:40:01\t\r\n    \tat java.io.DataInputStream.readByte(DataInputStream.java:265)\r\n    2022-12-20 18:40:01\t\r\n    \tat org.apache.kafka.common.utils.ByteUtils.readVarint(ByteUtils.java:168)\r\n    2022-12-20 18:40:01\t\r\n    \tat org.apache.kafka.common.record.DefaultRecord.readFrom(DefaultRecord.java:292)\r\n    2022-12-20 18:40:01\t\r\n    \tat org.apache.kafka.common.record.DefaultRecordBatch$1.readNext(DefaultRecordBatch.java:264)\r\n    2022-12-20 18:40:01\t\r\n    \t... 15 common frames omitted","title":"spring kafka consumer is failing to decompress messages [snappy compression]","body":"<p>I am trying to consume messages from kafka using spring-kafka using code below. But I am seeing <code>java.io.IOException: FAILED_TO_UNCOMPRESS(5)</code> error from snappy and <code>org.apache.kafka.common.KafkaException: Failed to decompress record stream</code></p>\n<p><strong>Consumer.java</strong></p>\n<pre><code>  @Autowired\n  @Qualifier(&quot;batchAckEventProcessor&quot;)\n  private BatchEventProcessor eventProcessor;\n  \n  @KafkaListener(\n          topics = &quot;MyAckTopic&quot;,\n          containerFactory = &quot;kafkaListenerContainerFactory&quot;)\n  public void consume(Message&lt;Object&gt; message) {   \n      eventProcessor.process(message.getPayload());\n  }\n}\n</code></pre>\n<p><strong>ConsumerConfig.java</strong></p>\n<pre><code>  public ConsumerFactory&lt;String, JSONObject&gt; batchConsumerConfiguration() {\n    Map&lt;String, Object&gt; config = new HashMap&lt;&gt;();\n    config.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, env.getProperty(&quot;batch_kafka_bootstrap_servers_list&quot;));\n    config.put(ConsumerConfig.GROUP_ID_CONFIG, env.getProperty(&quot;batch_consumer_group_id&quot;));\n    config.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n    config.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class);\n    return new DefaultKafkaConsumerFactory&lt;&gt;(\n        config, new StringDeserializer(), new JsonDeserializer&lt;&gt;(JSONObject.class));\n  }\n\n  @Bean\n  public ConcurrentKafkaListenerContainerFactory&lt;String, JSONObject&gt; kafkaListenerContainerFactory() {\n    ConcurrentKafkaListenerContainerFactory&lt;String, JSONObject&gt; factory =\n        new ConcurrentKafkaListenerContainerFactory();\n    factory.setConsumerFactory(batchConsumerConfiguration());\n    return factory;\n  }\n</code></pre>\n<p><strong>compression type</strong> for topic : snappy</p>\n<p><strong>spring boot version</strong> : 2.1.1.RELEASE</p>\n<p><strong>dependency versions</strong>:</p>\n<pre><code>[INFO] +- org.springframework.kafka:spring-kafka:jar:2.2.15.RELEASE:compile\n[INFO] |  \\- org.apache.kafka:kafka-clients:jar:2.0.1:compile\n[INFO] |     +- org.lz4:lz4-java:jar:1.4.1:compile\n[INFO] |     \\- org.xerial.snappy:snappy-java:jar:1.1.7.1:compile\n</code></pre>\n<p><strong>Error log:</strong></p>\n<pre><code>2022-12-20 18:40:01 \n18:39:58 20-Dec [ERROR] [o.s.kafka.listener.LoggingErrorHandler  ] [handle              :37  ] [] []-&gt; Error while processing: null \n2022-12-20 18:40:01 \nCaused by: org.apache.kafka.common.KafkaException: Failed to decompress record stream\n2022-12-20 18:40:01 \norg.apache.kafka.common.KafkaException: Received exception when fetching the next record from MyAckTopic-0. If needed, please seek past the record to continue consumption.\n2022-12-20 18:40:01 \n    at org.apache.kafka.common.record.DefaultRecordBatch$1.readNext(DefaultRecordBatch.java:268)\n2022-12-20 18:40:01 \n    at org.apache.kafka.common.record.DefaultRecordBatch$RecordIterator.next(DefaultRecordBatch.java:563)\n2022-12-20 18:40:01 \n    at org.apache.kafka.clients.consumer.internals.Fetcher$PartitionRecords.fetchRecords(Fetcher.java:1204)\n2022-12-20 18:40:01 \n    at org.apache.kafka.common.record.DefaultRecordBatch$RecordIterator.next(DefaultRecordBatch.java:532)\n2022-12-20 18:40:01 \n    at org.apache.kafka.clients.consumer.internals.Fetcher$PartitionRecords.access$1400(Fetcher.java:1072)\n2022-12-20 18:40:01 \n    at org.apache.kafka.clients.consumer.internals.Fetcher$PartitionRecords.nextFetchedRecord(Fetcher.java:1183)\n2022-12-20 18:40:01 \n    at org.apache.kafka.clients.consumer.internals.Fetcher.fetchRecords(Fetcher.java:562)\n2022-12-20 18:40:01 \n    at org.apache.kafka.clients.consumer.internals.Fetcher$PartitionRecords.fetchRecords(Fetcher.java:1218)\n2022-12-20 18:40:01 \n    at org.apache.kafka.clients.consumer.internals.Fetcher.fetchedRecords(Fetcher.java:523)\n2022-12-20 18:40:01 \n    at org.apache.kafka.clients.consumer.internals.Fetcher$PartitionRecords.access$1400(Fetcher.java:1072)\n2022-12-20 18:40:01 \n    at org.apache.kafka.clients.consumer.KafkaConsumer.pollForFetches(KafkaConsumer.java:1230)\n2022-12-20 18:40:01 \n    at org.apache.kafka.clients.consumer.internals.Fetcher.fetchRecords(Fetcher.java:562)\n2022-12-20 18:40:01 \n    at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1187)\n2022-12-20 18:40:01 \n    at org.apache.kafka.clients.consumer.internals.Fetcher.fetchedRecords(Fetcher.java:523)\n2022-12-20 18:40:01 \n    at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1154)\n2022-12-20 18:40:01 \n    at org.apache.kafka.clients.consumer.KafkaConsumer.pollForFetches(KafkaConsumer.java:1259)\n2022-12-20 18:40:01 \n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:757)\n2022-12-20 18:40:01 \n    ... 7 common frames omitted\n2022-12-20 18:40:01 \nCaused by: java.io.IOException: FAILED_TO_UNCOMPRESS(5)\n2022-12-20 18:40:01 \n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:708)\n2022-12-20 18:40:01 \n    at org.xerial.snappy.SnappyNative.throw_error(SnappyNative.java:98)\n2022-12-20 18:40:01 \n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n2022-12-20 18:40:01 \n    at org.xerial.snappy.SnappyNative.rawUncompress(Native Method)\n2022-12-20 18:40:01 \n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n2022-12-20 18:40:01 \n    at org.xerial.snappy.Snappy.rawUncompress(Snappy.java:474)\n2022-12-20 18:40:01 \n    at java.lang.Thread.run(Thread.java:748)\n2022-12-20 18:40:01 \n    at org.xerial.snappy.Snappy.uncompress(Snappy.java:513)\n2022-12-20 18:40:01 \nCaused by: org.apache.kafka.common.KafkaException: Failed to decompress record stream\n2022-12-20 18:40:01 \n    at org.xerial.snappy.SnappyInputStream.hasNextChunk(SnappyInputStream.java:439)\n2022-12-20 18:40:01 \n    at org.apache.kafka.common.record.DefaultRecordBatch$1.readNext(DefaultRecordBatch.java:268)\n2022-12-20 18:40:01 \n    at org.xerial.snappy.SnappyInputStream.read(SnappyInputStream.java:466)\n2022-12-20 18:40:01 \n    at java.io.DataInputStream.readByte(DataInputStream.java:265)\n2022-12-20 18:40:01 \n    at org.apache.kafka.common.utils.ByteUtils.readVarint(ByteUtils.java:168)\n2022-12-20 18:40:01 \n    at org.apache.kafka.common.record.DefaultRecord.readFrom(DefaultRecord.java:292)\n2022-12-20 18:40:01 \n    at org.apache.kafka.common.record.DefaultRecordBatch$1.readNext(DefaultRecordBatch.java:264)\n2022-12-20 18:40:01 \n    ... 15 common frames omitted\n</code></pre>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1671495148,"post_id":74857269,"comment_id":132107637,"body_markdown":"Converting it to `ArrayList&lt;?&gt;` is no different from converting it to `ArrayList` of whatever type the first object happens to be. When a Java program is running, all the objects of generic type lose their type parameters.  The distinction between `ArrayList&lt;Foo&gt;` and `ArrayList&lt;Bar&gt;` only exists at compile time.","body":"Converting it to <code>ArrayList&lt;?&gt;</code> is no different from converting it to <code>ArrayList</code> of whatever type the first object happens to be. When a Java program is running, all the objects of generic type lose their type parameters.  The distinction between <code>ArrayList&lt;Foo&gt;</code> and <code>ArrayList&lt;Bar&gt;</code> only exists at compile time."},{"owner":{"account_id":329814,"reputation":11000,"user_id":653539,"accept_rate":50,"display_name":"Tom&#225; Z&#225;lusk&#253;"},"score":3,"creation_date":1671495273,"post_id":74857269,"comment_id":132107651,"body_markdown":"What is your concrete problem with this code snippet? (except the method declaration won&#39;t compile for missing return type) You can declare method to return `List&lt;T&gt;` where `T` is type of &quot;all elements of the ArrayList&quot; you know they are &quot;of the same type&quot;.","body":"What is your concrete problem with this code snippet? (except the method declaration won&#39;t compile for missing return type) You can declare method to return <code>List&lt;T&gt;</code> where <code>T</code> is type of &quot;all elements of the ArrayList&quot; you know they are &quot;of the same type&quot;."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1671501480,"post_id":74857269,"comment_id":132108453,"body_markdown":"Your method declaration doesn&#39;t have a return type.  What do actually want the (compile time) return type to be?  That is the nub of this problem!  (The runtime type of all `ArrayList` objects is the same ... irrespective of what is in the lists.)","body":"Your method declaration doesn&#39;t have a return type.  What do actually want the (compile time) return type to be?  That is the nub of this problem!  (The runtime type of all <code>ArrayList</code> objects is the same ... irrespective of what is in the lists.)"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671495680,"creation_date":1671495680,"answer_id":74857370,"question_id":74857269,"body_markdown":"&gt; I was thinking about using list.get(0).getClass() I tried doing ArrayList&lt;(list.get(0).getClass()&gt; \r\n\r\nGenerics is a **compile time** mechanism. Its purpose is to allow the compiler to verify that manipulations in your code are type-safe.\r\n\r\nAnd during the compilation `ArrayList&lt;Something&gt;` turn into `ArrayList&lt;Object&gt;`, this process is called [*generic type erasure*][genericTypeErasure]. \r\n\r\nYou can&#39;t provide a generic type through a method call, like `list.get(0).getClass()`.\r\n\r\nIf you want to benefit from generics, then you need to provide the Generic type explicitly, and can&#39;t be dynamic.\r\n\r\n\r\n\r\n   [genericTypeErasure]: https://docs.oracle.com/javase/tutorial/java/generics/genTypes.html","title":"How to get ArrayList type and create an ArrayList based off that?","body":"<blockquote>\n<p>I was thinking about using list.get(0).getClass() I tried doing ArrayList&lt;(list.get(0).getClass()&gt;</p>\n</blockquote>\n<p>Generics is a <strong>compile time</strong> mechanism. Its purpose is to allow the compiler to verify that manipulations in your code are type-safe.</p>\n<p>And during the compilation <code>ArrayList&lt;Something&gt;</code> turn into <code>ArrayList&lt;Object&gt;</code>, this process is called <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/genTypes.html\" rel=\"nofollow noreferrer\"><em>generic type erasure</em></a>.</p>\n<p>You can't provide a generic type through a method call, like <code>list.get(0).getClass()</code>.</p>\n<p>If you want to benefit from generics, then you need to provide the Generic type explicitly, and can't be dynamic.</p>\n"},{"tags":[],"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671501613,"creation_date":1671501613,"answer_id":74857826,"question_id":74857269,"body_markdown":"You can&#39;t do that!\r\n\r\nThink about that, if you can do that, it same to this:\r\n\r\n`ArrayList&lt;Integer&gt; instanceof ArrayList&lt;?&gt;`\r\nor\r\n`ArrayList&lt;Integer&gt; instanceof ArrayList&lt;Number&gt;`\r\n\r\n`Integer` is a `Number`, that is ok, but as generics is **invariance**, `ArrayList&lt;Integer&gt;` is not a `ArrayList&lt;Number&gt;`. This contradicts the above.\r\n\r\n","title":"How to get ArrayList type and create an ArrayList based off that?","body":"<p>You can't do that!</p>\n<p>Think about that, if you can do that, it same to this:</p>\n<p><code>ArrayList&lt;Integer&gt; instanceof ArrayList&lt;?&gt;</code>\nor\n<code>ArrayList&lt;Integer&gt; instanceof ArrayList&lt;Number&gt;</code></p>\n<p><code>Integer</code> is a <code>Number</code>, that is ok, but as generics is <strong>invariance</strong>, <code>ArrayList&lt;Integer&gt;</code> is not a <code>ArrayList&lt;Number&gt;</code>. This contradicts the above.</p>\n"}],"owner":{"account_id":27223384,"reputation":3,"user_id":20752246,"display_name":"sytez"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1671563418,"creation_date":1671494537,"question_id":74857269,"body_markdown":"I have this method to read a **txt** file. First it converts the **.txt** file to an `Object`, and then checks if it is an `ArrayList`. If it is I want to create an `ArrayList` of whatever type obj is.\r\n\r\n```\r\n\tpublic static readFile(String fileName) {\r\n\t\tObject obj = null;\r\n\t\t\r\n\t\ttry {\r\n\t\t\tobj = deserialize(fileName);\r\n\t\t} catch (IOException e) {\r\n\t\t\treturn null;\r\n\t\t} catch (ClassNotFoundException e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tArrayList&lt;?&gt; list;\r\n\r\n\t\tif (obj instanceof ArrayList&lt;?&gt;) {\r\n\t\t\tlist = (ArrayList&lt;?&gt;) obj;\r\n\t\t} else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t}\r\n```\r\n\r\n\r\nI know all elements of the `ArrayList` will be of the same type in my scenario so I was thinking about using `list.get(0).getClass()`. I tried doing `ArrayList&lt;(list.get(0).getClass()&gt;` but it doesn&#39;t work so I don&#39;t know where to go from here.","title":"How to get ArrayList type and create an ArrayList based off that?","body":"<p>I have this method to read a <strong>txt</strong> file. First it converts the <strong>.txt</strong> file to an <code>Object</code>, and then checks if it is an <code>ArrayList</code>. If it is I want to create an <code>ArrayList</code> of whatever type obj is.</p>\n<pre><code>    public static readFile(String fileName) {\n        Object obj = null;\n        \n        try {\n            obj = deserialize(fileName);\n        } catch (IOException e) {\n            return null;\n        } catch (ClassNotFoundException e) {\n            return null;\n        }\n\n        ArrayList&lt;?&gt; list;\n\n        if (obj instanceof ArrayList&lt;?&gt;) {\n            list = (ArrayList&lt;?&gt;) obj;\n        } else {\n            return null;\n        }\n\n        return null;\n    }\n</code></pre>\n<p>I know all elements of the <code>ArrayList</code> will be of the same type in my scenario so I was thinking about using <code>list.get(0).getClass()</code>. I tried doing <code>ArrayList&lt;(list.get(0).getClass()&gt;</code> but it doesn't work so I don't know where to go from here.</p>\n"},{"tags":["java","mysql","sql"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1671558898,"post_id":74866836,"comment_id":132123549,"body_markdown":"Please don&#39;t post screenshots of errors, post the error message as text, preferably including the full exception stacktrace.","body":"Please don&#39;t post screenshots of errors, post the error message as text, preferably including the full exception stacktrace."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1671558967,"post_id":74866836,"comment_id":132123572,"body_markdown":"`rs1` contains the result of a query against `Person`, not against `Address`, and `Person` doesn&#39;t have a column `Aid`.","body":"<code>rs1</code> contains the result of a query against <code>Person</code>, not against <code>Address</code>, and <code>Person</code> doesn&#39;t have a column <code>Aid</code>."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1671562059,"post_id":74866836,"comment_id":132124489,"body_markdown":"The error message says exactly what&#39;s wrong!  There&#39;s no column called `Aid` in the query that it&#39;s running.","body":"The error message says exactly what&#39;s wrong!  There&#39;s no column called <code>Aid</code> in the query that it&#39;s running."},{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":0,"creation_date":1671562251,"post_id":74866836,"comment_id":132124556,"body_markdown":"Depending if the MySQL database is running in Linux or Windows, the column names can be case sensitive. Are you sure the column `Aid` exists with that exact same letter case?","body":"Depending if the MySQL database is running in Linux or Windows, the column names can be case sensitive. Are you sure the column <code>Aid</code> exists with that exact same letter case?"},{"owner":{"account_id":27295153,"reputation":3,"user_id":20812901,"display_name":"Sourabh"},"score":0,"creation_date":1672638214,"post_id":74866836,"comment_id":132316425,"body_markdown":"Yes Sir, It Does Exist. &amp; Thank you, sir. Your input has solved my query.","body":"Yes Sir, It Does Exist. &amp; Thank you, sir. Your input has solved my query."}],"answers":[{"tags":[],"owner":{"account_id":11084453,"reputation":211,"user_id":8138689,"display_name":"Satyajit Bhatt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671563169,"creation_date":1671563169,"answer_id":74867775,"question_id":74866836,"body_markdown":"You are facing error at this line :\r\n\r\n&gt; a.setAid(rs1.getInt(&quot;Aid&quot;));\r\n\r\nThe reason is you are setting the value of particular column in this scenario you are setting value of object a with Aid column. But SQL says that Aid column you are using which is not presented it means you doesn&#39;t have any column which has name Aid into your database table. ","title":"I am stuck in a Java program. My program is One To Many Right Outer Join","body":"<p>You are facing error at this line :</p>\n<blockquote>\n<p>a.setAid(rs1.getInt(&quot;Aid&quot;));</p>\n</blockquote>\n<p>The reason is you are setting the value of particular column in this scenario you are setting value of object a with Aid column. But SQL says that Aid column you are using which is not presented it means you doesn't have any column which has name Aid into your database table.</p>\n"}],"owner":{"account_id":27295153,"reputation":3,"user_id":20812901,"display_name":"Sourabh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74867775,"answer_count":1,"score":0,"last_activity_date":1671563169,"creation_date":1671557794,"question_id":74866836,"body_markdown":"I am stuck in a Java program. My program is One To Many Right Outer Join. I am trying to figure where my error is, but I couldn&#39;t find it by myself.\r\n\r\nI tried to solve it so many times, but nothing happened.\r\n\r\nI tried to change the database column name, it didn&#39;t work. I tried to debug using Eclipse debugger, couldn&#39;t find any.\r\n\r\nDetails are attached below.\r\n\r\nMainClass.java\r\n\r\n```java\r\npackage OneToManyRightJoin;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.sql.Statement;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class MainClass {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\ttry {\r\n\t\t\tClass.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\t\t\tConnection con =DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/person&quot;,&quot;root&quot;,&quot;1234&quot;);\r\n\t\t\tStatement st=con.createStatement();\r\n\t\t\tjava.sql.Statement st1=con.createStatement();\r\n\t\t\tjava.sql.Statement st2=con.createStatement();\r\n\t\t\t\r\n\t\t\tString query1 =&quot;SELECT * from person&quot; ;\r\n\t\t\tString query2 =&quot;SELECT * from address&quot; ;\r\n\t\t\t\r\n\t\t\tResultSet rs1=st1.executeQuery(query1);\r\n\t\t\tResultSet rs2=st2.executeQuery(query2);   \r\n\t\r\n    //for address\t\r\n\t\t\t\r\n\t\t\tList&lt;Address&gt; addrList = new ArrayList&lt;Address&gt;();\r\n\t\t\tList&lt;Person&gt; personList = new ArrayList&lt;Person&gt;();\r\n\t\t\t\r\n\t\t\twhile(rs1.next()) \r\n\t\t\t{\r\n\t\t\t\r\n\t\t\t  \r\n\t\t    //List&lt;Address&gt; addrList = new ArrayList&lt;Address&gt;();\t \r\n\t\t\t\tAddress a=new Address();\r\n\t\t\t\t\r\n\t\t\t\ta.setPid(rs1.getInt(&quot;pid&quot;));\r\n\t\t\t\ta.setAid(rs1.getInt(&quot;Aid&quot;));\r\n\t\t\t\ta.setAddress1(rs1.getString(&quot;Ad1&quot;));\r\n\t\t\t\ta.setAddress2(rs1.getString(&quot;Ad2&quot;));\r\n\t\t\t\taddrList.add(a);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t \r\n\r\n\twhile(rs2.next()) \r\n\t{\r\n\t\tPerson p=new Person();\r\n\t\tp.setPid(rs2.getInt(&quot;pid&quot;)) ;\r\n\t\tp.setName(rs2.getString(&quot;name&quot;));\r\n\t\tpersonList.add(p);\r\n\t}\t\r\n\t\r\n  \t//comparing 2 List(personList and addrList)\r\n\t\r\n\tList matchedList=new ArrayList&lt;List&gt;();\r\n\t\r\n\tfor(int i=0;i&lt;addrList.size();i++)\r\n\t{\r\n\t\tList innerPersonList = new ArrayList();\r\n    \t \r\n\t\tAddress pkgInnerAddress = (Address)addrList.get(i);\r\n\t\t\r\n\t\tfor(int j=0;j&lt;personList.size();j++)\r\n\t\t\r\n\t\t{                     \r\n\t\t\t\r\n\t\t\tif(addrList.get(i).getPid() == personList.get(j).getPid())\t\t   \r\n\t\t\t\r\n\t\t\t{\r\n\t\t\t\tPerson innerPerson = personList.get(j);\r\n\t\t\t\t\r\n\t\t\t\tinnerPersonList.add(innerPerson);\r\n\t  \r\n    \t}\t\r\n\t                                   \r\n    \t\r\n    \t}\r\n   \r\n\t   // add the list of matched addresses to person\r\n\t   pkgInnerAddress.setLst(innerPersonList);\r\n\t \r\n\t   matchedList.add(pkgInnerAddress);\r\n\t   \r\n    }\t\r\n   \r\n \r\n  \r\n\t\r\n System.out.println(&quot;Right Outer join details&quot; +&quot;\\n&quot;);\r\n\t   \r\n\t\tfor (int i=0; i&lt;matchedList.size(); i++) {\r\n\t\t\t\r\n\t\t\tAddress a = (Address)matchedList.get(i);\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;\\n&quot; + &quot;address details Id Ad1 Ad2 are &quot;+a.getAid()+&quot; &quot;+a.getAddress1()+&quot; &quot;+a.getAddress2()+&quot; &quot;+a.getPid()+&quot;\\n&quot;);\r\n\t\t\t\r\n\t\t\r\n\t\t\t\r\n\t\t\tfor (int j=0; j&lt;a.getLst().size(); j++) {\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot; Person Pid is &quot; +a.getLst().get(j).getPid());\t\r\n\t\t\t}\r\n\t\t\r\n\t\t}\r\n\t}\r\n\t               \r\ncatch (SQLException e)\r\n\t{\r\n\t\tSystem.out.println(e);\t\t\t\r\n\t}\t\r\n\tcatch(ClassNotFoundException e1)\r\n\t{\r\n\t\tSystem.out.println(e1);\t\t\r\n}\r\n}\r\n}\r\n```\r\n\r\nAddress.java\r\n\r\n```java\r\npackage OneToManyRightJoin;\r\n\r\nimport java.util.List;\r\n\r\npublic class Address {\r\n\t\r\n\tint aid;\r\n\tint Pid;\r\n\tString Address1;\r\n\tString Address2;\r\n\tList&lt;Person&gt;lst;\r\n\tpublic int getAid() {\r\n\t\treturn aid;\r\n\t}\r\n\tpublic void setAid(int aid) {\r\n\t\tthis.aid = aid;\r\n\t}\r\n\tpublic int getPid() {\r\n\t\treturn Pid;\r\n\t}\r\n\tpublic void setPid(int pid) {\r\n\t\tPid = pid;\r\n\t}\r\n\tpublic String getAddress1() {\r\n\t\treturn Address1;\r\n\t}\r\n\tpublic void setAddress1(String address1) {\r\n\t\tAddress1 = address1;\r\n\t}\r\n\tpublic String getAddress2() {\r\n\t\treturn Address2;\r\n\t}\r\n\tpublic void setAddress2(String address2) {\r\n\t\tAddress2 = address2;\r\n\t}\r\n\tpublic List&lt;Person&gt; getLst() {\r\n\t\treturn lst;\r\n\t}\r\n\tpublic void setLst(List&lt;Person&gt; lst) {\r\n\t\tthis.lst = lst;\r\n\t}\r\n}\r\n```\r\n\r\nPerson.java\r\n\r\n```java\r\npackage OneToManyRightJoin;\r\n\r\npublic class Person \r\n{\r\n\tint pid;\r\n\tString Name;\r\n\t\r\n\tPerson()\r\n\t{\r\n\t\t\r\n\t}\r\n\r\n\tpublic int getPid() {\r\n\t\treturn pid;\r\n\t}\r\n\r\n\tpublic void setPid(int pid) {\r\n\t\tthis.pid = pid;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn Name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tName = name;\r\n\t}\r\n}\r\n```\r\nThese are  my database details images.\r\n\r\n[Address DB](https://i.stack.imgur.com/qzPjP.png)\r\n[Person DB](https://i.stack.imgur.com/vsFOH.png)\r\n\r\nError Details:\r\n\r\n[Error Details](https://i.stack.imgur.com/W72dD.png)\r\n","title":"I am stuck in a Java program. My program is One To Many Right Outer Join","body":"<p>I am stuck in a Java program. My program is One To Many Right Outer Join. I am trying to figure where my error is, but I couldn't find it by myself.</p>\n<p>I tried to solve it so many times, but nothing happened.</p>\n<p>I tried to change the database column name, it didn't work. I tried to debug using Eclipse debugger, couldn't find any.</p>\n<p>Details are attached below.</p>\n<p>MainClass.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package OneToManyRightJoin;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class MainClass {\n\n    public static void main(String[] args) {\n        try {\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            Connection con =DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/person&quot;,&quot;root&quot;,&quot;1234&quot;);\n            Statement st=con.createStatement();\n            java.sql.Statement st1=con.createStatement();\n            java.sql.Statement st2=con.createStatement();\n            \n            String query1 =&quot;SELECT * from person&quot; ;\n            String query2 =&quot;SELECT * from address&quot; ;\n            \n            ResultSet rs1=st1.executeQuery(query1);\n            ResultSet rs2=st2.executeQuery(query2);   \n    \n    //for address   \n            \n            List&lt;Address&gt; addrList = new ArrayList&lt;Address&gt;();\n            List&lt;Person&gt; personList = new ArrayList&lt;Person&gt;();\n            \n            while(rs1.next()) \n            {\n            \n              \n            //List&lt;Address&gt; addrList = new ArrayList&lt;Address&gt;();     \n                Address a=new Address();\n                \n                a.setPid(rs1.getInt(&quot;pid&quot;));\n                a.setAid(rs1.getInt(&quot;Aid&quot;));\n                a.setAddress1(rs1.getString(&quot;Ad1&quot;));\n                a.setAddress2(rs1.getString(&quot;Ad2&quot;));\n                addrList.add(a);\n                \n            }\n     \n\n    while(rs2.next()) \n    {\n        Person p=new Person();\n        p.setPid(rs2.getInt(&quot;pid&quot;)) ;\n        p.setName(rs2.getString(&quot;name&quot;));\n        personList.add(p);\n    }   \n    \n    //comparing 2 List(personList and addrList)\n    \n    List matchedList=new ArrayList&lt;List&gt;();\n    \n    for(int i=0;i&lt;addrList.size();i++)\n    {\n        List innerPersonList = new ArrayList();\n         \n        Address pkgInnerAddress = (Address)addrList.get(i);\n        \n        for(int j=0;j&lt;personList.size();j++)\n        \n        {                     \n            \n            if(addrList.get(i).getPid() == personList.get(j).getPid())         \n            \n            {\n                Person innerPerson = personList.get(j);\n                \n                innerPersonList.add(innerPerson);\n      \n        }   \n                                       \n        \n        }\n   \n       // add the list of matched addresses to person\n       pkgInnerAddress.setLst(innerPersonList);\n     \n       matchedList.add(pkgInnerAddress);\n       \n    }   \n   \n \n  \n    \n System.out.println(&quot;Right Outer join details&quot; +&quot;\\n&quot;);\n       \n        for (int i=0; i&lt;matchedList.size(); i++) {\n            \n            Address a = (Address)matchedList.get(i);\n            \n            System.out.println(&quot;\\n&quot; + &quot;address details Id Ad1 Ad2 are &quot;+a.getAid()+&quot; &quot;+a.getAddress1()+&quot; &quot;+a.getAddress2()+&quot; &quot;+a.getPid()+&quot;\\n&quot;);\n            \n        \n            \n            for (int j=0; j&lt;a.getLst().size(); j++) {\n                \n                System.out.println(&quot; Person Pid is &quot; +a.getLst().get(j).getPid());  \n            }\n        \n        }\n    }\n                   \ncatch (SQLException e)\n    {\n        System.out.println(e);          \n    }   \n    catch(ClassNotFoundException e1)\n    {\n        System.out.println(e1);     \n}\n}\n}\n</code></pre>\n<p>Address.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package OneToManyRightJoin;\n\nimport java.util.List;\n\npublic class Address {\n    \n    int aid;\n    int Pid;\n    String Address1;\n    String Address2;\n    List&lt;Person&gt;lst;\n    public int getAid() {\n        return aid;\n    }\n    public void setAid(int aid) {\n        this.aid = aid;\n    }\n    public int getPid() {\n        return Pid;\n    }\n    public void setPid(int pid) {\n        Pid = pid;\n    }\n    public String getAddress1() {\n        return Address1;\n    }\n    public void setAddress1(String address1) {\n        Address1 = address1;\n    }\n    public String getAddress2() {\n        return Address2;\n    }\n    public void setAddress2(String address2) {\n        Address2 = address2;\n    }\n    public List&lt;Person&gt; getLst() {\n        return lst;\n    }\n    public void setLst(List&lt;Person&gt; lst) {\n        this.lst = lst;\n    }\n}\n</code></pre>\n<p>Person.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package OneToManyRightJoin;\n\npublic class Person \n{\n    int pid;\n    String Name;\n    \n    Person()\n    {\n        \n    }\n\n    public int getPid() {\n        return pid;\n    }\n\n    public void setPid(int pid) {\n        this.pid = pid;\n    }\n\n    public String getName() {\n        return Name;\n    }\n\n    public void setName(String name) {\n        Name = name;\n    }\n}\n</code></pre>\n<p>These are  my database details images.</p>\n<p><a href=\"https://i.stack.imgur.com/qzPjP.png\" rel=\"nofollow noreferrer\">Address DB</a>\n<a href=\"https://i.stack.imgur.com/vsFOH.png\" rel=\"nofollow noreferrer\">Person DB</a></p>\n<p>Error Details:</p>\n<p><a href=\"https://i.stack.imgur.com/W72dD.png\" rel=\"nofollow noreferrer\">Error Details</a></p>\n"},{"tags":["java","selenium-webdriver","jmeter","jmeter-plugins"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671563114,"creation_date":1671563114,"answer_id":74867769,"question_id":74867129,"body_markdown":"Just switch to `groovy`\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhen you choose `java` from the &quot;Language&quot; dropdown it is not real &quot;java&quot;, it&#39;s [Beanshell interpreter][2] which is not 100% Java compatible and doesn&#39;t support Java features like [Generics][3] and this is the cause of the error you&#39;re getting. \r\n\r\nMoreover [it&#39;s recommended to use Groovy for any form of scripting since JMeter 3.1][4]. See [Apache Groovy: What Is Groovy Used For?][5] article for more information. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QEbSF.gif\r\n  [2]: https://beanshell.github.io/\r\n  [3]: https://en.wikipedia.org/wiki/Generics_in_Java\r\n  [4]: https://jmeter.apache.org/usermanual/best-practices.html#bsh_scripting\r\n  [5]: https://www.blazemeter.com/blog/apache-groovy","title":"Unable to enter the integer value in textbox using SendKeys(&quot;1&quot;) in Jmeter webdriver Sampler 4.6.0","body":"<p>Just switch to <code>groovy</code></p>\n<p><a href=\"https://i.stack.imgur.com/QEbSF.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QEbSF.gif\" alt=\"enter image description here\" /></a></p>\n<p>When you choose <code>java</code> from the &quot;Language&quot; dropdown it is not real &quot;java&quot;, it's <a href=\"https://beanshell.github.io/\" rel=\"nofollow noreferrer\">Beanshell interpreter</a> which is not 100% Java compatible and doesn't support Java features like <a href=\"https://en.wikipedia.org/wiki/Generics_in_Java\" rel=\"nofollow noreferrer\">Generics</a> and this is the cause of the error you're getting.</p>\n<p>Moreover <a href=\"https://jmeter.apache.org/usermanual/best-practices.html#bsh_scripting\" rel=\"nofollow noreferrer\">it's recommended to use Groovy for any form of scripting since JMeter 3.1</a>. See <a href=\"https://www.blazemeter.com/blog/apache-groovy\" rel=\"nofollow noreferrer\">Apache Groovy: What Is Groovy Used For?</a> article for more information.</p>\n"}],"owner":{"account_id":8156915,"reputation":15,"user_id":6142187,"display_name":"Gopala Krishnan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671563114,"creation_date":1671559259,"question_id":74867129,"body_markdown":"In jmeter selenium webdriver sampler 4.6.0, using the sendKeys(&quot;1&quot;) or Javascript, unable to enter the integer value in textbox using java or groovy. could you please check the screenshot\r\n\r\n[![enter image description here](https://i.stack.imgur.com/CwUJO.png)](https://i.stack.imgur.com/CwUJO.png)\r\n\r\nJmeter 5.4.3 or 5.5\r\nSelenium Webdriver Sampler 4.6.0 or 4.7.0\r\nJava language","title":"Unable to enter the integer value in textbox using SendKeys(&quot;1&quot;) in Jmeter webdriver Sampler 4.6.0","body":"<p>In jmeter selenium webdriver sampler 4.6.0, using the sendKeys(&quot;1&quot;) or Javascript, unable to enter the integer value in textbox using java or groovy. could you please check the screenshot</p>\n<p><a href=\"https://i.stack.imgur.com/CwUJO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CwUJO.png\" alt=\"enter image description here\" /></a></p>\n<p>Jmeter 5.4.3 or 5.5\nSelenium Webdriver Sampler 4.6.0 or 4.7.0\nJava language</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1671559805,"post_id":74867167,"comment_id":132123817,"body_markdown":"Obtaining the generated keys - generally - only works for DML statements like INSERT (and sometimes others like MERGE, UPDATE and DELETE). It doesn&#39;t work for stored procedures. If you want to obtain a value from a stored procedure, you should return it explicitly.","body":"Obtaining the generated keys - generally - only works for DML statements like INSERT (and sometimes others like MERGE, UPDATE and DELETE). It doesn&#39;t work for stored procedures. If you want to obtain a value from a stored procedure, you should return it explicitly."}],"answers":[{"tags":[],"owner":{"account_id":16895353,"reputation":23,"user_id":12218018,"display_name":"Sn4red"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671562911,"creation_date":1671562911,"answer_id":74867733,"question_id":74867167,"body_markdown":"Ok so what I did was make the stored procedure return me the last inserted ID:\r\n\r\n    delimiter $$\r\n    create procedure insertar_compra (in fec datetime, in client_id int, out id int)\r\n    begin\r\n    \tinsert into compra values (null, fec, client_id, &#39;P&#39;);\r\n        \r\n        set id = LAST_INSERT_ID();\r\n    end; $$\r\n    delimiter ;\r\n\r\nAnd then I got it with the `registerOutParameter()` method:\r\n\r\n    public int insertar(Compra objC, ArrayList&lt;DetalleCompra&gt; listaDetalle) {\r\n    \t\ttry {\r\n    \t\t\tconexion = MySQLConexion.conexion();\r\n    \t\t\t\r\n    \t\t\tconexion.setAutoCommit(false);\r\n    \t\t\t\r\n    \t\t\tprocedimientoAlmacenado = conexion.prepareCall(&quot;{call insertar_compra (?, ?, ?)}&quot;);\r\n    \t\t\t\r\n    \t\t\tfecha = FORMATO_FECHA.parse(objC.getFecha());\r\n    \t\t\t\r\n    \t\t\tfechaSQL = new Timestamp(fecha.getTime());\r\n    \t\t\t\r\n    \t\t\tprocedimientoAlmacenado.setTimestamp(1, fechaSQL);\r\n    \t\t\tprocedimientoAlmacenado.setInt(2, objC.getIdCliente());\r\n    \t\t\tprocedimientoAlmacenado.registerOutParameter(3, Types.INTEGER);\r\n    \t\t\t\r\n    \t\t\tresultado = procedimientoAlmacenado.executeUpdate();\r\n    \t\t\t\r\n    \t\t\tint idCompra = 0;\r\n    \t\t\t\r\n    \t\t\tidCompra = procedimientoAlmacenado.getInt(3);\r\n    \t\t\t\r\n    \t\t\tif (resultado != 0) {\r\n    \t\t\t\tfor (DetalleCompra x : listaDetalle) {\r\n    \t\t\t\t\tprocedimientoAlmacenado = conexion.prepareCall(&quot;{call insertar_detalle_compra (?, ?, ?)}&quot;);\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tprocedimientoAlmacenado.setInt(1, idCompra);\r\n    \t\t\t\t\tprocedimientoAlmacenado.setInt(2, x.getIdProducto());\r\n    \t\t\t\t\tprocedimientoAlmacenado.setInt(3, x.getCantidad());\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tresultado = procedimientoAlmacenado.executeUpdate();\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tprocedimientoAlmacenado = conexion.prepareCall(&quot;{call disminuir_stock (?, ?)}&quot;);\r\n    \r\n    \t\t\t\t\tprocedimientoAlmacenado.setInt(1, x.getIdProducto());\r\n    \t\t\t\t\tprocedimientoAlmacenado.setInt(2, x.getCantidad());\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tresultado = procedimientoAlmacenado.executeUpdate();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tconexion.commit();\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tSystem.out.println(e.getMessage());\r\n    \t\t\t\r\n    \t\t\ttry {\r\n    \t\t\t\tconexion.rollback();\r\n    \t\t\t} catch (SQLException e1) {\r\n    \t\t\t\te1.printStackTrace();\r\n    \t\t\t}\r\n    \t\t} finally {\r\n    \t\t\ttry {\r\n    \t\t\t\tif (procedimientoAlmacenado != null)\r\n    \t\t\t\t\tprocedimientoAlmacenado.close();\r\n    \t\t\t\t\r\n    \t\t\t\tif (conexion != null)\r\n    \t\t\t\t\tconexion.close();\r\n    \t\t\t} catch (SQLException e) {\r\n    \t\t\t\tSystem.out.println(e.getMessage());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn resultado;\r\n    \t}\r\n\r\nThanks to [Mark Rotteveel](https://stackoverflow.com/users/466862/mark-rotteveel) for the suggestion!","title":"Can&#39;t retrieve ID from an insert in JDBC with PreparedStatement","body":"<p>Ok so what I did was make the stored procedure return me the last inserted ID:</p>\n<pre><code>delimiter $$\ncreate procedure insertar_compra (in fec datetime, in client_id int, out id int)\nbegin\n    insert into compra values (null, fec, client_id, 'P');\n    \n    set id = LAST_INSERT_ID();\nend; $$\ndelimiter ;\n</code></pre>\n<p>And then I got it with the <code>registerOutParameter()</code> method:</p>\n<pre><code>public int insertar(Compra objC, ArrayList&lt;DetalleCompra&gt; listaDetalle) {\n        try {\n            conexion = MySQLConexion.conexion();\n            \n            conexion.setAutoCommit(false);\n            \n            procedimientoAlmacenado = conexion.prepareCall(&quot;{call insertar_compra (?, ?, ?)}&quot;);\n            \n            fecha = FORMATO_FECHA.parse(objC.getFecha());\n            \n            fechaSQL = new Timestamp(fecha.getTime());\n            \n            procedimientoAlmacenado.setTimestamp(1, fechaSQL);\n            procedimientoAlmacenado.setInt(2, objC.getIdCliente());\n            procedimientoAlmacenado.registerOutParameter(3, Types.INTEGER);\n            \n            resultado = procedimientoAlmacenado.executeUpdate();\n            \n            int idCompra = 0;\n            \n            idCompra = procedimientoAlmacenado.getInt(3);\n            \n            if (resultado != 0) {\n                for (DetalleCompra x : listaDetalle) {\n                    procedimientoAlmacenado = conexion.prepareCall(&quot;{call insertar_detalle_compra (?, ?, ?)}&quot;);\n                    \n                    procedimientoAlmacenado.setInt(1, idCompra);\n                    procedimientoAlmacenado.setInt(2, x.getIdProducto());\n                    procedimientoAlmacenado.setInt(3, x.getCantidad());\n                    \n                    resultado = procedimientoAlmacenado.executeUpdate();\n                    \n                    procedimientoAlmacenado = conexion.prepareCall(&quot;{call disminuir_stock (?, ?)}&quot;);\n\n                    procedimientoAlmacenado.setInt(1, x.getIdProducto());\n                    procedimientoAlmacenado.setInt(2, x.getCantidad());\n                    \n                    resultado = procedimientoAlmacenado.executeUpdate();\n                }\n            }\n            \n            conexion.commit();\n        } catch (Exception e) {\n            System.out.println(e.getMessage());\n            \n            try {\n                conexion.rollback();\n            } catch (SQLException e1) {\n                e1.printStackTrace();\n            }\n        } finally {\n            try {\n                if (procedimientoAlmacenado != null)\n                    procedimientoAlmacenado.close();\n                \n                if (conexion != null)\n                    conexion.close();\n            } catch (SQLException e) {\n                System.out.println(e.getMessage());\n            }\n        }\n        \n        return resultado;\n    }\n</code></pre>\n<p>Thanks to <a href=\"https://stackoverflow.com/users/466862/mark-rotteveel\">Mark Rotteveel</a> for the suggestion!</p>\n"}],"owner":{"account_id":16895353,"reputation":23,"user_id":12218018,"display_name":"Sn4red"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74867733,"answer_count":1,"score":1,"last_activity_date":1671562999,"creation_date":1671559457,"question_id":74867167,"body_markdown":"I&#39;m trying to get the **ID** of an insert row which is `auto_increment` in MySQL. I&#39;m using the parameter `Statement.RETURN_GENERATED_KEYS` in the `prepareStatement` method and trying to obtain it via the `getGeneratedKeys` method. Somehow, it is not retrieving the **ID**.\r\n\r\nIt should be noted that the insertion is done, but since the **ID** is not obtained, I cannot perform the other inserts and that is why it gives me the error `&quot;MySQL ERROR 1452&quot;`, because an insert is being made later with the **ID 0** that does not exist.\r\n\r\n```java\r\npublic int insertar(Compra objC, ArrayList&lt;DetalleCompra&gt; listaDetalle) {\r\n\ttry {\r\n\t\tconexion = MySQLConexion.conexion();\r\n\t\t\r\n\t\tconexion.setAutoCommit(false);\r\n\t\t\r\n\t\tprocedimientoAlmacenado = conexion.prepareStatement(&quot;{call insertar_compra (?, ?)}&quot;, Statement.RETURN_GENERATED_KEYS);\r\n\t\t\r\n\t\tfecha = FORMATO_FECHA.parse(objC.getFecha());\r\n\t\tfechaSQL = new java.sql.Date(fecha.getTime());\r\n\t\t\r\n\t\tprocedimientoAlmacenado.setDate(1, fechaSQL);\r\n\t\tprocedimientoAlmacenado.setInt(2, objC.getIdCliente());\r\n\t\t\r\n\t\tresultado = procedimientoAlmacenado.executeUpdate();\r\n\t\t\r\n\t\tint idCompra = 0;\r\n\t\t\r\n\t\tResultSet idGenerada = procedimientoAlmacenado.getGeneratedKeys();\r\n\t\t\t\r\n\t\tif (idGenerada.next()) {\r\n\t\t\tidCompra = idGenerada.getInt(1);\r\n\t\t}\r\n\t\t\r\n\t\tif (resultado != 0) {\r\n\t\t\tfor (DetalleCompra x : listaDetalle) {\r\n\t\t\t\tprocedimientoAlmacenado = conexion.prepareCall(&quot;{call insertar_detalle_compra (?, ?, ?)}&quot;);\r\n\t\t\t\t\r\n\t\t\t\tprocedimientoAlmacenado.setInt(1, idCompra);\r\n\t\t\t\tprocedimientoAlmacenado.setInt(2, x.getIdProducto());\r\n\t\t\t\tprocedimientoAlmacenado.setInt(3, x.getCantidad());\r\n\t\t\t\t\r\n\t\t\t\tresultado = procedimientoAlmacenado.executeUpdate();\r\n\t\t\t\t\r\n\t\t\t\tprocedimientoAlmacenado = conexion.prepareCall(&quot;{disminuir_stock (?, ?)}&quot;);\r\n\t\t\t\t\r\n\t\t\t\tprocedimientoAlmacenado.setInt(1, x.getIdProducto());\r\n\t\t\t\tprocedimientoAlmacenado.setInt(2, x.getCantidad());\r\n\t\t\t\t\r\n\t\t\t\tresultado = procedimientoAlmacenado.executeUpdate();\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tconexion.commit();\r\n\t} catch (Exception e) {\r\n\t\tSystem.out.println(e.getMessage());\r\n\t\t\r\n\t\ttry {\r\n\t\t\tconexion.rollback();\r\n\t\t} catch (SQLException e1) {\r\n\t\t\te1.printStackTrace();\r\n\t\t}\r\n\t} finally {\r\n\t\ttry {\r\n\t\t\tif (procedimientoAlmacenado != null)\r\n\t\t\t\tprocedimientoAlmacenado.close();\r\n\t\t\t\r\n\t\t\tif (conexion != null)\r\n\t\t\t\tconexion.close();\r\n\t\t} catch (SQLException e) {\r\n\t\t\tSystem.out.println(e.getMessage());\r\n\t\t}\r\n\t}\r\n\t\r\n\treturn resultado;\r\n}\r\n```\r\n\r\nI also tried to create a variable:\r\n\r\n```\r\nString[] generatedId = { &quot;ID&quot; };\r\n```\r\n\r\nand place it in the method `prepareStatement`:\r\n\r\n```\r\nprocedimientoAlmacenado = conexion.prepareStatement(&quot;{call insertar_compra (?, ?)}&quot;, generatedId);\r\n```\r\n\r\nHowever, it doesn&#39;t work either. I&#39;m suspecting that it has to do with the fact that I&#39;m doing the statement inside a stored procedure, or with `setAutoCommit(false)`, but I can&#39;t think of anything else.\r\n","title":"Can&#39;t retrieve ID from an insert in JDBC with PreparedStatement","body":"<p>I'm trying to get the <strong>ID</strong> of an insert row which is <code>auto_increment</code> in MySQL. I'm using the parameter <code>Statement.RETURN_GENERATED_KEYS</code> in the <code>prepareStatement</code> method and trying to obtain it via the <code>getGeneratedKeys</code> method. Somehow, it is not retrieving the <strong>ID</strong>.</p>\n<p>It should be noted that the insertion is done, but since the <strong>ID</strong> is not obtained, I cannot perform the other inserts and that is why it gives me the error <code>&quot;MySQL ERROR 1452&quot;</code>, because an insert is being made later with the <strong>ID 0</strong> that does not exist.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int insertar(Compra objC, ArrayList&lt;DetalleCompra&gt; listaDetalle) {\n    try {\n        conexion = MySQLConexion.conexion();\n        \n        conexion.setAutoCommit(false);\n        \n        procedimientoAlmacenado = conexion.prepareStatement(&quot;{call insertar_compra (?, ?)}&quot;, Statement.RETURN_GENERATED_KEYS);\n        \n        fecha = FORMATO_FECHA.parse(objC.getFecha());\n        fechaSQL = new java.sql.Date(fecha.getTime());\n        \n        procedimientoAlmacenado.setDate(1, fechaSQL);\n        procedimientoAlmacenado.setInt(2, objC.getIdCliente());\n        \n        resultado = procedimientoAlmacenado.executeUpdate();\n        \n        int idCompra = 0;\n        \n        ResultSet idGenerada = procedimientoAlmacenado.getGeneratedKeys();\n            \n        if (idGenerada.next()) {\n            idCompra = idGenerada.getInt(1);\n        }\n        \n        if (resultado != 0) {\n            for (DetalleCompra x : listaDetalle) {\n                procedimientoAlmacenado = conexion.prepareCall(&quot;{call insertar_detalle_compra (?, ?, ?)}&quot;);\n                \n                procedimientoAlmacenado.setInt(1, idCompra);\n                procedimientoAlmacenado.setInt(2, x.getIdProducto());\n                procedimientoAlmacenado.setInt(3, x.getCantidad());\n                \n                resultado = procedimientoAlmacenado.executeUpdate();\n                \n                procedimientoAlmacenado = conexion.prepareCall(&quot;{disminuir_stock (?, ?)}&quot;);\n                \n                procedimientoAlmacenado.setInt(1, x.getIdProducto());\n                procedimientoAlmacenado.setInt(2, x.getCantidad());\n                \n                resultado = procedimientoAlmacenado.executeUpdate();\n            }\n        }\n        \n        conexion.commit();\n    } catch (Exception e) {\n        System.out.println(e.getMessage());\n        \n        try {\n            conexion.rollback();\n        } catch (SQLException e1) {\n            e1.printStackTrace();\n        }\n    } finally {\n        try {\n            if (procedimientoAlmacenado != null)\n                procedimientoAlmacenado.close();\n            \n            if (conexion != null)\n                conexion.close();\n        } catch (SQLException e) {\n            System.out.println(e.getMessage());\n        }\n    }\n    \n    return resultado;\n}\n</code></pre>\n<p>I also tried to create a variable:</p>\n<pre><code>String[] generatedId = { &quot;ID&quot; };\n</code></pre>\n<p>and place it in the method <code>prepareStatement</code>:</p>\n<pre><code>procedimientoAlmacenado = conexion.prepareStatement(&quot;{call insertar_compra (?, ?)}&quot;, generatedId);\n</code></pre>\n<p>However, it doesn't work either. I'm suspecting that it has to do with the fact that I'm doing the statement inside a stored procedure, or with <code>setAutoCommit(false)</code>, but I can't think of anything else.</p>\n"},{"tags":["java","variables","inheritance"],"answers":[{"tags":[],"owner":{"account_id":8891,"reputation":3425,"user_id":16193,"accept_rate":88,"display_name":"Daniel Hiller"},"down_vote_count":1,"up_vote_count":10,"is_accepted":true,"score":9,"last_activity_date":1568299355,"creation_date":1225951614,"answer_id":267756,"question_id":267750,"body_markdown":"  - `public`: read/writable for anyone\r\n  - `protected`: read/writable for\r\n    instances of subclasses **and from within the enclosing package**\r\n  - `private`: read/writable for **any** instance of the class\r\n    and inner or outer (enclosing) instance\r\n  - `int c`:\r\n    package-private, read/writable for\r\n    all classes inside same package\r\n\r\nSee the [JLS][1] for more details\r\n\r\nEDIT: Added the comment for protected stating that access is granted from inside same package, you guys are totally right. Also added comment for `private`. I remember now... ;-)\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/jls/second_edition/html/names.doc.html#104285","title":"Java Instance Variable Accessibility","body":"<ul>\n<li><code>public</code>: read/writable for anyone</li>\n<li><code>protected</code>: read/writable for\ninstances of subclasses <strong>and from within the enclosing package</strong></li>\n<li><code>private</code>: read/writable for <strong>any</strong> instance of the class\nand inner or outer (enclosing) instance</li>\n<li><code>int c</code>:\npackage-private, read/writable for\nall classes inside same package</li>\n</ul>\n\n<p>See the <a href=\"http://java.sun.com/docs/books/jls/second_edition/html/names.doc.html#104285\" rel=\"nofollow noreferrer\">JLS</a> for more details</p>\n\n<p>EDIT: Added the comment for protected stating that access is granted from inside same package, you guys are totally right. Also added comment for <code>private</code>. I remember now... ;-)</p>\n"},{"tags":[],"owner":{"account_id":7795,"reputation":116405,"user_id":13663,"accept_rate":75,"display_name":"Will Hartung"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1225952579,"creation_date":1225952579,"answer_id":267769,"question_id":267750,"body_markdown":"And all of these are compile time protections, they can be readily overridden through reflection at runtime.\r\n\r\n","title":"Java Instance Variable Accessibility","body":"<p>And all of these are compile time protections, they can be readily overridden through reflection at runtime.</p>\n"},{"tags":[],"owner":{"account_id":4243,"reputation":1301840,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1568299289,"creation_date":1225952614,"answer_id":267772,"question_id":267750,"body_markdown":"I try to avoid package level access completely (the last access you mention).\r\n\r\nI like to keep classes self-contained. If another class needs access to something in my class it should be `public` (and it should by a method, not an attribute). Otherwise I feel you&#39;ve broken [encapsulation][1], as explained in [Abstraction VS Information Hiding VS Encapsulation][2].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/99688/private-vs-public-members-in-practice-how-important-is-encapsulation#100035\r\n  [2]: https://stackoverflow.com/questions/24626/abstraction-vs-information-hiding-vs-encapsulation","title":"Java Instance Variable Accessibility","body":"<p>I try to avoid package level access completely (the last access you mention).</p>\n\n<p>I like to keep classes self-contained. If another class needs access to something in my class it should be <code>public</code> (and it should by a method, not an attribute). Otherwise I feel you've broken <a href=\"https://stackoverflow.com/questions/99688/private-vs-public-members-in-practice-how-important-is-encapsulation#100035\">encapsulation</a>, as explained in <a href=\"https://stackoverflow.com/questions/24626/abstraction-vs-information-hiding-vs-encapsulation\">Abstraction VS Information Hiding VS Encapsulation</a>.</p>\n"},{"tags":[],"owner":{"account_id":15857,"reputation":10459,"user_id":1440720,"display_name":"jfpoilpret"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1568299257,"creation_date":1225957442,"answer_id":267877,"question_id":267750,"body_markdown":"Sorry for answering corrections to one previous answer but I don&#39;t have enough reputation to modify directly...\r\n\r\n  - `public` - read/writable for anyone\r\n  - `protected` - read/writable for\r\n    instances subclasses and all classes\r\n    inside same package\r\n  - `int c` : package-private,\r\n    read/writable for all classes inside\r\n    same package\r\n  - `private` - read/writable for any member of that class itself and inner classes (if any)\r\n\r\nIt is better to order the access modifiers this way, from the broadest access (`public`) to the narrowest (`private`), knowing that when going from narrow to broad, you don&#39;t lose any possibilities. \r\n\r\nThat&#39;s particularly important for &quot;protected&quot;, where it is often misunderstood that classes in the same package can also access protected members of a class (not only its subclasses).","title":"Java Instance Variable Accessibility","body":"<p>Sorry for answering corrections to one previous answer but I don't have enough reputation to modify directly...</p>\n\n<ul>\n<li><code>public</code> - read/writable for anyone</li>\n<li><code>protected</code> - read/writable for\ninstances subclasses and all classes\ninside same package</li>\n<li><code>int c</code> : package-private,\nread/writable for all classes inside\nsame package</li>\n<li><code>private</code> - read/writable for any member of that class itself and inner classes (if any)</li>\n</ul>\n\n<p>It is better to order the access modifiers this way, from the broadest access (<code>public</code>) to the narrowest (<code>private</code>), knowing that when going from narrow to broad, you don't lose any possibilities. </p>\n\n<p>That's particularly important for \"protected\", where it is often misunderstood that classes in the same package can also access protected members of a class (not only its subclasses).</p>\n"}],"owner":{"account_id":8372,"reputation":225282,"user_id":15055,"accept_rate":80,"display_name":"Claudiu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8268,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"closed_date":1535125504,"accepted_answer_id":267756,"answer_count":4,"score":4,"last_activity_date":1671562798,"creation_date":1225951226,"question_id":267750,"body_markdown":"What is the difference in the accessibility of the following variables in Java?\r\n\r\n```Java\r\npublic class Joe {\r\n    public int a;\r\n    protected int b;\r\n    private int b;\r\n    int c;\r\n}\r\n```\r\n\r\nI&#39;m most interested in what the last one is doing.","title":"Java Instance Variable Accessibility","body":"<p>What is the difference in the accessibility of the following variables in Java?</p>\n\n<pre><code>public class Joe {\n    public int a;\n    protected int b;\n    private int b;\n    int c;\n}\n</code></pre>\n\n<p>I'm most interested in what the last one is doing.</p>\n"},{"tags":["java","arrays","string","date"],"answers":[{"tags":[],"owner":{"account_id":19410276,"reputation":1735,"user_id":14194793,"display_name":"MFerguson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671560316,"creation_date":1671560316,"answer_id":74867322,"question_id":74867258,"body_markdown":"As long as the day and date will stay in that format you can use the `split()` function:\r\n\r\n```\r\nclass DateSplit {\r\n    public static void main(String[] args) {\r\n        String a = &quot;Tuesday 8/11/22&quot;;\r\n        String[] result = a.split(&quot; &quot;);\r\n        System.out.println(result[1]);\r\n    }\r\n}\r\n```\r\n\r\nwhere the delimiter splitting the string is the whitespace character.","title":"how to break a string into two parts in java","body":"<p>As long as the day and date will stay in that format you can use the <code>split()</code> function:</p>\n<pre><code>class DateSplit {\n    public static void main(String[] args) {\n        String a = &quot;Tuesday 8/11/22&quot;;\n        String[] result = a.split(&quot; &quot;);\n        System.out.println(result[1]);\n    }\n}\n</code></pre>\n<p>where the delimiter splitting the string is the whitespace character.</p>\n"},{"tags":[],"owner":{"account_id":21267548,"reputation":310,"user_id":15647563,"display_name":"K-Galalem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671560380,"creation_date":1671560380,"answer_id":74867334,"question_id":74867258,"body_markdown":"```Java\r\nfor(String str : arr) {\r\n  System.out.println(str.split(&quot; &quot;)[1])\r\n}\r\n``` ","title":"how to break a string into two parts in java","body":"<pre><code>for(String str : arr) {\n  System.out.println(str.split(&quot; &quot;)[1])\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11084453,"reputation":211,"user_id":8138689,"display_name":"Satyajit Bhatt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671561339,"creation_date":1671561339,"answer_id":74867492,"question_id":74867258,"body_markdown":"    public class Main {\r\n        \t    public static void main(String[] args) {\r\n        \t\t    String arr[] = { &quot;Tuesday 8/11/22&quot;, &quot;Monday 15/3/21&quot;, &quot;Friday 20/5/21&quot; };\r\n        \t\t\r\n        \t\tfor(int count = 0; count &lt; arr.length; count++) {\r\n        \t\t    String[] s = arr[count].split(&quot; &quot;);\r\n        \t\t    System.out.println(s[1]);\r\n        \t\t}\r\n        \t}\r\n        }","title":"how to break a string into two parts in java","body":"<pre><code>public class Main {\n            public static void main(String[] args) {\n                String arr[] = { &quot;Tuesday 8/11/22&quot;, &quot;Monday 15/3/21&quot;, &quot;Friday 20/5/21&quot; };\n            \n            for(int count = 0; count &lt; arr.length; count++) {\n                String[] s = arr[count].split(&quot; &quot;);\n                System.out.println(s[1]);\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1671562443,"creation_date":1671562443,"answer_id":74867666,"question_id":74867258,"body_markdown":"I recommend you use the date-time API instead of performing string manipulation of the elements. The string manipulation will not give you all the benefits that you can get by the specialized date-time API.\r\n\r\n\r\nBonus\r\n--\r\n\r\nYou get your dates validated free of cost e.g. one of your dates, `Friday 20/5/21` is incorrect. This date was Thursday and the `java.time` API can perform this check for you automatically.\r\n\r\n**Demo**:\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.time.format.TextStyle;\r\n    import java.util.Locale;\r\n    \r\n    class Main {\r\n        public static void main(String[] args) {\r\n            String arr[] = { &quot;Tuesday 8/11/22&quot;, &quot;Monday 15/3/21&quot;, &quot;Friday 20/5/21&quot; };\r\n            DateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;EEEE d/M/uu&quot;, Locale.ENGLISH);\r\n            for (String s : arr) {\r\n                LocalDate date = LocalDate.parse(s, parser);\r\n    \r\n                // Now you can get individual units from date in a variety of ways\r\n                System.out.println(date.getDayOfWeek().getDisplayName(TextStyle.FULL, Locale.ENGLISH));\r\n                System.out.println(date.getDayOfWeek().getDisplayName(TextStyle.SHORT, Locale.ENGLISH));\r\n                System.out.println(date.getYear());\r\n    \r\n                // You can also format it in the desired ways\r\n                DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;d/M/uu&quot;, Locale.ENGLISH);\r\n                String formatted = date.format(formatter);\r\n                System.out.println(formatted);\r\n            }\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    Tuesday\r\n    Tue\r\n    2022\r\n    8/11/22\r\n    Monday\r\n    Mon\r\n    2021\r\n    15/3/21\r\n    Exception in thread &quot;main&quot; java.time.format.DateTimeParseException: Text &#39;Friday 20/5/21&#39; could not be parsed: Conflict found: Field DayOfWeek 4 differs from DayOfWeek 5 derived from 2021-05-20\r\n            at java.base/java.time.format.DateTimeFormatter.createError(DateTimeFormatter.java:2023)\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"how to break a string into two parts in java","body":"<p>I recommend you use the date-time API instead of performing string manipulation of the elements. The string manipulation will not give you all the benefits that you can get by the specialized date-time API.</p>\n<h2>Bonus</h2>\n<p>You get your dates validated free of cost e.g. one of your dates, <code>Friday 20/5/21</code> is incorrect. This date was Thursday and the <code>java.time</code> API can perform this check for you automatically.</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\nimport java.time.format.TextStyle;\nimport java.util.Locale;\n\nclass Main {\n    public static void main(String[] args) {\n        String arr[] = { &quot;Tuesday 8/11/22&quot;, &quot;Monday 15/3/21&quot;, &quot;Friday 20/5/21&quot; };\n        DateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;EEEE d/M/uu&quot;, Locale.ENGLISH);\n        for (String s : arr) {\n            LocalDate date = LocalDate.parse(s, parser);\n\n            // Now you can get individual units from date in a variety of ways\n            System.out.println(date.getDayOfWeek().getDisplayName(TextStyle.FULL, Locale.ENGLISH));\n            System.out.println(date.getDayOfWeek().getDisplayName(TextStyle.SHORT, Locale.ENGLISH));\n            System.out.println(date.getYear());\n\n            // You can also format it in the desired ways\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;d/M/uu&quot;, Locale.ENGLISH);\n            String formatted = date.format(formatter);\n            System.out.println(formatted);\n        }\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>Tuesday\nTue\n2022\n8/11/22\nMonday\nMon\n2021\n15/3/21\nException in thread &quot;main&quot; java.time.format.DateTimeParseException: Text 'Friday 20/5/21' could not be parsed: Conflict found: Field DayOfWeek 4 differs from DayOfWeek 5 derived from 2021-05-20\n        at java.base/java.time.format.DateTimeFormatter.createError(DateTimeFormatter.java:2023)\n</code></pre>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"display_name":"user20804822"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1671562486,"creation_date":1671559988,"question_id":74867258,"body_markdown":"Let&#39;s assume a string consists of two parts, day and date.\r\n\r\n```\r\nString arr[] = { &quot;Tuesday 8/11/22&quot;, &quot;Monday 15/3/21&quot;, &quot;Friday 20/5/21&quot; };\r\n```\r\n\r\n\r\nHow can I only print out the latter part (date part) on console?","title":"how to break a string into two parts in java","body":"<p>Let's assume a string consists of two parts, day and date.</p>\n<pre><code>String arr[] = { &quot;Tuesday 8/11/22&quot;, &quot;Monday 15/3/21&quot;, &quot;Friday 20/5/21&quot; };\n</code></pre>\n<p>How can I only print out the latter part (date part) on console?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1671562380,"post_id":74867632,"comment_id":132124589,"body_markdown":"You might want to check other questions like https://stackoverflow.com/questions/2036970/how-do-getters-and-setters-work","body":"You might want to check other questions like <a href=\"https://stackoverflow.com/questions/2036970/how-do-getters-and-setters-work\" title=\"how do getters and setters work\">stackoverflow.com/questions/2036970/&hellip;</a>"},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1671563962,"post_id":74867632,"comment_id":132125101,"body_markdown":"`this.BObject` stores a reference to the `classB` instance - and please don&#39;t learn those naming conventions, Java classes should start uppercase (`ClassB`), variable names start lowercase (`bObject`), it&#39;s incredibly confusing if you turn it around 180&#176;","body":"<code>this.BObject</code> stores a reference to the <code>classB</code> instance - and please don&#39;t learn those naming conventions, Java classes should start uppercase (<code>ClassB</code>), variable names start lowercase (<code>bObject</code>), it&#39;s incredibly confusing if you turn it around 180&#176;"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":1,"creation_date":1671564202,"post_id":74867632,"comment_id":132125196,"body_markdown":"Please don&#39;t post images of code, errors, logs, or other text; see [ask]","body":"Please don&#39;t post images of code, errors, logs, or other text; see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299858,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671562397,"creation_date":1671562397,"answer_id":74867654,"question_id":74867632,"body_markdown":"There&#39;s nothing special about this method.\r\n\r\nClass A has a member of type Class B called `BObject` (BTW - this name doesn&#39;t follow Java&#39;s naming conventions). The `setBObject` methods gets an instance of `classB` and saves it to the data member in the `classA` instance, exactly the same as any other setter would do.","title":"How does the SetObject method work for a class","body":"<p>There's nothing special about this method.</p>\n<p>Class A has a member of type Class B called <code>BObject</code> (BTW - this name doesn't follow Java's naming conventions). The <code>setBObject</code> methods gets an instance of <code>classB</code> and saves it to the data member in the <code>classA</code> instance, exactly the same as any other setter would do.</p>\n"}],"owner":{"account_id":23454763,"reputation":21,"user_id":17510432,"display_name":"smnt"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":4,"up_vote_count":2,"closed_date":1671565900,"answer_count":1,"score":-2,"last_activity_date":1671562397,"creation_date":1671562200,"question_id":74867632,"body_markdown":"[This is the picture for question which i am asking](https://i.stack.imgur.com/Yl1la.png) \r\n [Please look at this picture also to understand the code.](https://i.stack.imgur.com/ou2F2.png)\r\n \r\nIn the image which I have mentioned here. It shows the setObject method inside the Class A. (There are 2 classes 1 called class A and another Class B). Inside class a it has created a method called set B Object. I need someone to explain me what this code does. The teacher which teaches is very bad, he cant even speak english properly. Please if anyone can explain it to me. That would be a big help\r\n\r\nI know how to write a normal Set method, but I am not sure of a SetMethod for a class. ","title":"How does the SetObject method work for a class","body":"<p><a href=\"https://i.stack.imgur.com/Yl1la.png\" rel=\"nofollow noreferrer\">This is the picture for question which i am asking</a>\n<a href=\"https://i.stack.imgur.com/ou2F2.png\" rel=\"nofollow noreferrer\">Please look at this picture also to understand the code.</a></p>\n<p>In the image which I have mentioned here. It shows the setObject method inside the Class A. (There are 2 classes 1 called class A and another Class B). Inside class a it has created a method called set B Object. I need someone to explain me what this code does. The teacher which teaches is very bad, he cant even speak english properly. Please if anyone can explain it to me. That would be a big help</p>\n<p>I know how to write a normal Set method, but I am not sure of a SetMethod for a class.</p>\n"},{"tags":["java","android","exoplayer","exoplayer2.x"],"comments":[{"owner":{"account_id":11163581,"reputation":1048,"user_id":8192914,"display_name":"ganjaam"},"score":0,"creation_date":1668182711,"post_id":74404481,"comment_id":131351153,"body_markdown":"As far as I&#39;m concerned, this is the only way to listen to playback state. I guess there&#39;s either problem in the code for updating UI or you&#39;re accessing the wrong player variable.","body":"As far as I&#39;m concerned, this is the only way to listen to playback state. I guess there&#39;s either problem in the code for updating UI or you&#39;re accessing the wrong player variable."},{"owner":{"account_id":18284330,"reputation":39,"user_id":13312583,"display_name":"Garvit"},"score":0,"creation_date":1668187248,"post_id":74404481,"comment_id":131352751,"body_markdown":"@ganjaam this method is  deprecated","body":"@ganjaam this method is  deprecated"}],"answers":[{"tags":[],"owner":{"account_id":17413348,"reputation":154,"user_id":12620176,"display_name":"Patrick Koning"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671561589,"creation_date":1671561589,"answer_id":74867533,"question_id":74404481,"body_markdown":"You can use: \r\n\r\n    override fun onPlaybackStateChanged(playbackState: Int) {\r\n        \r\n        super.onPlaybackStateChanged(playbackState)\r\n        \r\n        when (playbackState) {\r\n    \r\n            ExoPlayer.STATE_BUFFERING -&gt; {\r\n    \r\n                 //I send a broadcast from my exoplayer service to my interface\r\n    \r\n            }\r\n    \r\n            ExoPlayer.STATE_READY -&gt; {\r\n    \r\n                 //I send a broadcast from my exoplayer service to my interface\r\n    \r\n            }\r\n    \r\n            Player.STATE_IDLE -&gt; {\r\n    \r\n                //I send a broadcast from my exoplayer service to my interface\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n","title":"How to detect play or pause action in exoplayer","body":"<p>You can use:</p>\n<pre><code>override fun onPlaybackStateChanged(playbackState: Int) {\n    \n    super.onPlaybackStateChanged(playbackState)\n    \n    when (playbackState) {\n\n        ExoPlayer.STATE_BUFFERING -&gt; {\n\n             //I send a broadcast from my exoplayer service to my interface\n\n        }\n\n        ExoPlayer.STATE_READY -&gt; {\n\n             //I send a broadcast from my exoplayer service to my interface\n\n        }\n\n        Player.STATE_IDLE -&gt; {\n\n            //I send a broadcast from my exoplayer service to my interface\n\n        }\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":18284330,"reputation":39,"user_id":13312583,"display_name":"Garvit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74867533,"answer_count":1,"score":0,"last_activity_date":1671561589,"creation_date":1668179311,"question_id":74404481,"body_markdown":"I have implemented exoplayer notification manager and wanted to detect play or pause action so that I can update UI accordingly to it\r\n\r\nI have tried this code\r\n\r\n`\r\n```\r\nplayer.addListener(new Player.DefaultEventListener() {\r\n  @Override\r\n  public void onPlayerStateChanged(boolean playWhenReady, int playbackState) {\r\n    if (playWhenReady &amp;&amp; playbackState == Player.STATE_READY) {\r\n      // media actually playing\r\n    } else if (playWhenReady) {\r\n      // might be idle (plays after prepare()), \r\n      // buffering (plays when data available) \r\n      // or ended (plays when seek away from end)\r\n    } else {\r\n      // player paused in any state\r\n    }\r\n  }\r\n});\r\n```\r\n`\r\n\r\nwhich I got from here - https://stackoverflow.com/a/48067205/13312583\r\n\r\nbut its not working is there any method to this thing ?\r\n","title":"How to detect play or pause action in exoplayer","body":"<p>I have implemented exoplayer notification manager and wanted to detect play or pause action so that I can update UI accordingly to it</p>\n<p>I have tried this code</p>\n<p>`</p>\n<pre><code>player.addListener(new Player.DefaultEventListener() {\n  @Override\n  public void onPlayerStateChanged(boolean playWhenReady, int playbackState) {\n    if (playWhenReady &amp;&amp; playbackState == Player.STATE_READY) {\n      // media actually playing\n    } else if (playWhenReady) {\n      // might be idle (plays after prepare()), \n      // buffering (plays when data available) \n      // or ended (plays when seek away from end)\n    } else {\n      // player paused in any state\n    }\n  }\n});\n</code></pre>\n<p>`</p>\n<p>which I got from here - <a href=\"https://stackoverflow.com/a/48067205/13312583\">https://stackoverflow.com/a/48067205/13312583</a></p>\n<p>but its not working is there any method to this thing ?</p>\n"},{"tags":["java","maven","gitlab","gitlab-ci","maven-3"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1671521845,"post_id":74858353,"comment_id":132111509,"body_markdown":"Ah... and what is exactly not working? What are the outputs? Which Maven version, JDK etc. do you se?","body":"Ah... and what is exactly not working? What are the outputs? Which Maven version, JDK etc. do you se?"},{"owner":{"account_id":965027,"reputation":1,"user_id":988606,"display_name":"webBuilder"},"score":0,"creation_date":1671549172,"post_id":74858353,"comment_id":132120202,"body_markdown":"openjdk version &quot;12.0.2&quot;\n\napache-maven-3.6.3\n\nThe error message I see is \n\n* jobs:package:rules:rule:variables config should be a hash of key value pairs","body":"openjdk version &quot;12.0.2&quot;  apache-maven-3.6.3  The error message I see is   * jobs:package:rules:rule:variables config should be a hash of key value pairs"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1671563473,"post_id":74858353,"comment_id":132124950,"body_markdown":"First JDK 12 (non LTS) (JDK17 LTS) is already out of date as well as Maven 3.6.3 (most recent 3.8.6)","body":"First JDK 12 (non LTS) (JDK17 LTS) is already out of date as well as Maven 3.6.3 (most recent 3.8.6)"}],"owner":{"account_id":965027,"reputation":1,"user_id":988606,"display_name":"webBuilder"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671561398,"creation_date":1671508107,"question_id":74858353,"body_markdown":"I have the following job:\r\n\r\n\r\n```\r\nvariables:\r\n    MAVEN_CLI_OPTS: &quot;-s $CI_PROJECT_DIR/.m2/settings.xml --batch-mode --errors --fail-at-end --show-version -DinstallAtEnd=false -DdeployAtEnd=false -Dorg.slf4j.simpleLogger.log.org.apache.maven.cli.transfer.Slf4jMavenTransferListener=&#39;warn&quot;\r\n\r\n\r\npackage:\r\n  stage: package\r\n  extends: .jdk_in_dind\r\n  script:\r\n    - ./builddockerimage.sh -a\r\n    - docker save -o candy-manager-docker-image-`docker images candy-manager --format &quot;{{.Tag}}&quot;`.tgz  track-history-manager:`docker images candy-manager --format &quot;{{.Tag}}&quot;`\r\n    - chmod 777 candy-manager-docker-image-`docker images candy-manager --format &quot;{{.Tag}}&quot;`.tgz\r\n    - mvn clean ${MAVEN_CLI_OPTS} package\r\n    - ls -la target\r\n  artifacts:\r\n    paths:\r\n      - candy-manager-*.tgz\r\n      - target/candy-manager*.jar\r\n  only:\r\n    - merge_requests\r\n    - develop\r\n    - tags\r\n    - prod\r\n```\r\n\r\n\r\nI was wandering if I can use rules to add a tag number when a tag is generated on the tag. \r\nhere is the desired output \r\n\r\nif tag is created, the tag should be read from CI_COMMIT_TAG global variable and have this outcome candy-manager_0.1.1_MYTAGVAULUE.jar if there is not tag and it&#39;s a regular commit then have the jar file as follow candy-manager_0.0.1.SNAPSHOT.jar. the value 0.0.1.SNAPSHOT is read from &lt;version&gt;0.0.1.SNAPSHOT&lt;/version&gt; that is present from pom.xml. \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nI try the following technic:\r\n\r\n\r\n```\r\npackage:\r\n  stage: package\r\n  extends: .jdk_in_dind\r\n\r\nvariables:\r\n    MAVEN_CLI_OPTS: &quot;-s $CI_PROJECT_DIR/.m2/settings.xml --batch-mode --errors --fail-at-end --show-version -DinstallAtEnd=false -DdeployAtEnd=false -Dorg.slf4j.simpleLogger.log.org.apache.maven.cli.transfer.Slf4jMavenTransferListener=&#39;warn&quot;\r\n\r\nrules:\r\n    - if: &#39;$CI_COMMIT_TAG != &quot;&quot;&#39;\r\n      when: \r\nMAVEN_CLI_OPTS = &quot;-s $CI_PROJECT_DIR/.m2/settings.xml --batch-mode versions:set -DnewVersion=${CI_COMMIT_TAG} --errors --fail-at-end --show-version -DinstallAtEnd=false -DdeployAtEnd=false -Dorg.slf4j.simpleLogger.log.org.apache.maven.cli.transfer.Slf4jMavenTransferListener=&#39;warn&quot;\r\n\r\n  script:\r\n    - ./builddockerimage.sh -a\r\n    - docker save -o candy-manager-docker-image-`docker images candy-manager --format &quot;{{.Tag}}&quot;`.tgz  track-history-manager:`docker images candy-manager --format &quot;{{.Tag}}&quot;`\r\n    - chmod 777 candy-manager-docker-image-`docker images candy-manager --format &quot;{{.Tag}}&quot;`.tgz\r\n    - mvn clean ${MAVEN_CLI_OPTS} package\r\n    - ls -la target\r\n```\r\n\r\n\r\nbut it is not working. \r\n\r\nany help on this. ","title":"How to do if else in gitlab-ci to execute different script on the same job?","body":"<p>I have the following job:</p>\n<pre><code>variables:\n    MAVEN_CLI_OPTS: &quot;-s $CI_PROJECT_DIR/.m2/settings.xml --batch-mode --errors --fail-at-end --show-version -DinstallAtEnd=false -DdeployAtEnd=false -Dorg.slf4j.simpleLogger.log.org.apache.maven.cli.transfer.Slf4jMavenTransferListener='warn&quot;\n\n\npackage:\n  stage: package\n  extends: .jdk_in_dind\n  script:\n    - ./builddockerimage.sh -a\n    - docker save -o candy-manager-docker-image-`docker images candy-manager --format &quot;{{.Tag}}&quot;`.tgz  track-history-manager:`docker images candy-manager --format &quot;{{.Tag}}&quot;`\n    - chmod 777 candy-manager-docker-image-`docker images candy-manager --format &quot;{{.Tag}}&quot;`.tgz\n    - mvn clean ${MAVEN_CLI_OPTS} package\n    - ls -la target\n  artifacts:\n    paths:\n      - candy-manager-*.tgz\n      - target/candy-manager*.jar\n  only:\n    - merge_requests\n    - develop\n    - tags\n    - prod\n</code></pre>\n<p>I was wandering if I can use rules to add a tag number when a tag is generated on the tag.\nhere is the desired output</p>\n<p>if tag is created, the tag should be read from CI_COMMIT_TAG global variable and have this outcome candy-manager_0.1.1_MYTAGVAULUE.jar if there is not tag and it's a regular commit then have the jar file as follow candy-manager_0.0.1.SNAPSHOT.jar. the value 0.0.1.SNAPSHOT is read from 0.0.1.SNAPSHOT that is present from pom.xml.</p>\n<p>I try the following technic:</p>\n<pre><code>package:\n  stage: package\n  extends: .jdk_in_dind\n\nvariables:\n    MAVEN_CLI_OPTS: &quot;-s $CI_PROJECT_DIR/.m2/settings.xml --batch-mode --errors --fail-at-end --show-version -DinstallAtEnd=false -DdeployAtEnd=false -Dorg.slf4j.simpleLogger.log.org.apache.maven.cli.transfer.Slf4jMavenTransferListener='warn&quot;\n\nrules:\n    - if: '$CI_COMMIT_TAG != &quot;&quot;'\n      when: \nMAVEN_CLI_OPTS = &quot;-s $CI_PROJECT_DIR/.m2/settings.xml --batch-mode versions:set -DnewVersion=${CI_COMMIT_TAG} --errors --fail-at-end --show-version -DinstallAtEnd=false -DdeployAtEnd=false -Dorg.slf4j.simpleLogger.log.org.apache.maven.cli.transfer.Slf4jMavenTransferListener='warn&quot;\n\n  script:\n    - ./builddockerimage.sh -a\n    - docker save -o candy-manager-docker-image-`docker images candy-manager --format &quot;{{.Tag}}&quot;`.tgz  track-history-manager:`docker images candy-manager --format &quot;{{.Tag}}&quot;`\n    - chmod 777 candy-manager-docker-image-`docker images candy-manager --format &quot;{{.Tag}}&quot;`.tgz\n    - mvn clean ${MAVEN_CLI_OPTS} package\n    - ls -la target\n</code></pre>\n<p>but it is not working.</p>\n<p>any help on this.</p>\n"},{"tags":["java","android","set","android-glide","wallpaper"],"answers":[{"tags":[],"owner":{"account_id":2912207,"reputation":1996,"user_id":4606368,"accept_rate":29,"display_name":"Aykut Uluda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546052245,"creation_date":1546052245,"answer_id":53966334,"question_id":53966303,"body_markdown":"As I can see, you are not using full path for decoding bitmap. You need to obtain full path name like:\r\n\r\n    String uri =  Environment.getExternalStorageDirectory().toString() + &quot;/&quot; + PHOTO_DIR  + &quot;/test.jpg&quot;;\r\n\r\nAfter that:\r\n\r\n    Bitmap bitmap = BitmapFactory.decodeFile(uri);\r\n\r\n[Reference][1]\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/graphics/BitmapFactory.html#decodeFile(java.lang.String)","title":"Set image as wallpaper from url (Glide + json)","body":"<p>As I can see, you are not using full path for decoding bitmap. You need to obtain full path name like:</p>\n\n<pre><code>String uri =  Environment.getExternalStorageDirectory().toString() + \"/\" + PHOTO_DIR  + \"/test.jpg\";\n</code></pre>\n\n<p>After that:</p>\n\n<pre><code>Bitmap bitmap = BitmapFactory.decodeFile(uri);\n</code></pre>\n\n<p><a href=\"https://developer.android.com/reference/android/graphics/BitmapFactory.html#decodeFile(java.lang.String)\" rel=\"nofollow noreferrer\">Reference</a></p>\n"},{"tags":[],"owner":{"account_id":23088962,"reputation":61,"user_id":17200097,"display_name":"Mohammad Reza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671561175,"creation_date":1650638460,"answer_id":71970573,"question_id":53966303,"body_markdown":"Set wallpaper with Glide4+ I did like this:\r\n \r\n\r\n    public void setAsWallpaper() {\r\n                Glide.with(requireContext())\r\n                        .asBitmap()\r\n                        .load(listItem.get(position).getWallpaperImage())\r\n                        .into(new SimpleTarget&lt;Bitmap&gt;() {\r\n        \r\n                            @Override\r\n                            public void onResourceReady(@NonNull Bitmap resource, @Nullable Transition&lt;? super Bitmap&gt; transition) {\r\n        \r\n                                try {\r\n                                    WallpaperManager.getInstance(requireContext()).setBitmap(resource);\r\n                                } catch (IOException e) {\r\n                                    e.printStackTrace();\r\n                                }\r\n                            }\r\n                        });\r\n            }","title":"Set image as wallpaper from url (Glide + json)","body":"<p>Set wallpaper with Glide4+ I did like this:</p>\n<pre><code>public void setAsWallpaper() {\n            Glide.with(requireContext())\n                    .asBitmap()\n                    .load(listItem.get(position).getWallpaperImage())\n                    .into(new SimpleTarget&lt;Bitmap&gt;() {\n    \n                        @Override\n                        public void onResourceReady(@NonNull Bitmap resource, @Nullable Transition&lt;? super Bitmap&gt; transition) {\n    \n                            try {\n                                WallpaperManager.getInstance(requireContext()).setBitmap(resource);\n                            } catch (IOException e) {\n                                e.printStackTrace();\n                            }\n                        }\n                    });\n        }\n</code></pre>\n"}],"owner":{"account_id":15024234,"reputation":1,"user_id":10844660,"display_name":"VinotintoPlayer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":529,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1671561175,"creation_date":1546051844,"question_id":53966303,"body_markdown":"[app][1]\r\n[app][2]\r\n\r\nHi, thanks in advance to those who guide me.\r\n\r\nI have a problem with the Set Wallpaper, that when I clicked on the button, I get the following error:\r\n\r\n2018-12-28 22: 36: 02.801 13030-13030 /? E / AndroidRuntime: FATAL EXCEPTION: main\r\n&#160;&#160;&#160;&#160; java.lang.NullPointerException: Attempt to invoke virtual method &#39;boolean android.graphics.Bitmap.compress (android.graphics.Bitmap $ CompressFormat, int, java.io.OutputStream)&#39; on a null object reference\r\n\r\nI leave the files used.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    \r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:id=&quot;@+id/thumbnail2&quot;\r\n        android:padding=&quot;5dp&quot;&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/txtclose&quot;\r\n            android:layout_width=&quot;30dp&quot;\r\n            android:layout_height=&quot;30dp&quot;\r\n            android:layout_gravity=&quot;end&quot;\r\n            android:layout_marginTop=&quot;5dp&quot;\r\n            android:layout_marginEnd=&quot;5dp&quot;\r\n            android:layout_marginRight=&quot;5dp&quot;\r\n            android:layout_marginBottom=&quot;5dp&quot;\r\n            android:background=&quot;@drawable/circulo&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;@string/equis&quot;\r\n            android:textColor=&quot;@android:color/background_light&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n    &lt;FrameLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_gravity=&quot;end&quot;&gt;\r\n    \r\n            &lt;Button\r\n                    android:id=&quot;@+id/btn&quot;\r\n                    android:layout_width=&quot;159dp&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_gravity=&quot;bottom|center&quot;\r\n                    android:layout_marginBottom=&quot;25dp&quot;\r\n                    android:background=&quot;@drawable/borde_redondo&quot;\r\n                    android:text=&quot;Establecer como Fondo de Pantalla&quot;\r\n                    android:textColor=&quot;#ffffff&quot; /&gt;\r\n    \r\n    &lt;/FrameLayout&gt;\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/LinearLayout&gt;\r\n    \r\n    \r\n\r\npublic class infoanimales extends AppCompatActivity {\r\n        \r\n            private RequestOptions options;\r\n            TextView txtclose;\r\n            LinearLayout img;\r\n        \r\n            @Override\r\n            protected void onCreate(Bundle savedInstanceState) {\r\n                super.onCreate(savedInstanceState);\r\n                setContentView(R.layout.activity_infoanimales);\r\n        \r\n                Button button = findViewById(R.id.btn);\r\n        \r\n                button.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        setWallpaper();\r\n                    }\r\n                });\r\n        \r\n                if (android.os.Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.O) {\r\n                    setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\r\n                }\r\n        \r\n                this.options = new RequestOptions()\r\n                        .diskCacheStrategy(DiskCacheStrategy.AUTOMATIC);\r\n        \r\n                String image_url = getIntent().getExtras().getString(&quot;img2&quot;);\r\n        \r\n                img = findViewById(R.id.thumbnail2);\r\n                Glide.with(this).load(image_url).into(new SimpleTarget&lt;Drawable&gt;() {\r\n                    @Override\r\n                    public void onResourceReady(@NonNull Drawable fondoreceta, Transition&lt;? super Drawable&gt; transition) {\r\n                        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.JELLY_BEAN) {\r\n                            img.setBackground(fondoreceta);\r\n                        }\r\n                    }\r\n                });\r\n        \r\n                TextView txtclose = findViewById(R.id.txtclose);\r\n                txtclose.setOnClickListener(new View.OnClickListener() {\r\n        \r\n                    @Override\r\n                    public void onClick(View v) {\r\n        \r\n                        finish();\r\n                    }\r\n                });\r\n            }\r\n        \r\n            private void setWallpaper() {\r\n                Bitmap bitmap = BitmapFactory.decodeFile(&quot;img2&quot;);\r\n                WallpaperManager manager = WallpaperManager.getInstance(getApplicationContext());\r\n        \r\n                try {\r\n                    manager.setBitmap(bitmap);\r\n                    Toast.makeText(this, &quot;Listo&quot;, Toast.LENGTH_SHORT).show();\r\n        \r\n                } catch (IOException e) {\r\n                    Toast.makeText(this, &quot;error&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        \r\n        }\r\n    \r\nWith this function, it works perfect, but that is having the images in the drawable folder, and what you want or what it is that you take the image of the json url, traide with glide\r\n\r\n    private void setWallpaper() {\r\n            Bitmap bitmap = BitmapFactory.decodeResource(getResources(), R.drawable.cochinito);\r\n            WallpaperManager manager = WallpaperManager.getInstance(getApplicationContext());\r\n    \r\n            try {\r\n                manager.setBitmap(bitmap);\r\n                Toast.makeText(this, &quot;Listo&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n            } catch (IOException e) {\r\n                Toast.makeText(this, &quot;error&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n\r\nIn conclusion, what I need is that when you click on the button, the displayed image is set as wallpaper\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6oTXf.jpg\r\n  [2]: https://i.stack.imgur.com/RSRXV.jpg","title":"Set image as wallpaper from url (Glide + json)","body":"<p><a href=\"https://i.stack.imgur.com/6oTXf.jpg\" rel=\"nofollow noreferrer\">app</a>\n<a href=\"https://i.stack.imgur.com/RSRXV.jpg\" rel=\"nofollow noreferrer\">app</a></p>\n\n<p>Hi, thanks in advance to those who guide me.</p>\n\n<p>I have a problem with the Set Wallpaper, that when I clicked on the button, I get the following error:</p>\n\n<p>2018-12-28 22: 36: 02.801 13030-13030 /? E / AndroidRuntime: FATAL EXCEPTION: main\n java.lang.NullPointerException: Attempt to invoke virtual method 'boolean android.graphics.Bitmap.compress (android.graphics.Bitmap $ CompressFormat, int, java.io.OutputStream)' on a null object reference</p>\n\n<p>I leave the files used.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:layout_gravity=\"center\"\n    android:orientation=\"vertical\"\n    android:id=\"@+id/thumbnail2\"\n    android:padding=\"5dp\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/txtclose\"\n        android:layout_width=\"30dp\"\n        android:layout_height=\"30dp\"\n        android:layout_gravity=\"end\"\n        android:layout_marginTop=\"5dp\"\n        android:layout_marginEnd=\"5dp\"\n        android:layout_marginRight=\"5dp\"\n        android:layout_marginBottom=\"5dp\"\n        android:background=\"@drawable/circulo\"\n        android:gravity=\"center\"\n        android:text=\"@string/equis\"\n        android:textColor=\"@android:color/background_light\"\n        android:textStyle=\"bold\" /&gt;\n\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:layout_gravity=\"center\"\n        android:orientation=\"vertical\"&gt;\n&lt;FrameLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:layout_gravity=\"end\"&gt;\n\n        &lt;Button\n                android:id=\"@+id/btn\"\n                android:layout_width=\"159dp\"\n                android:layout_height=\"wrap_content\"\n                android:layout_gravity=\"bottom|center\"\n                android:layout_marginBottom=\"25dp\"\n                android:background=\"@drawable/borde_redondo\"\n                android:text=\"Establecer como Fondo de Pantalla\"\n                android:textColor=\"#ffffff\" /&gt;\n\n&lt;/FrameLayout&gt;\n    &lt;/LinearLayout&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>public class infoanimales extends AppCompatActivity {</p>\n\n<pre><code>        private RequestOptions options;\n        TextView txtclose;\n        LinearLayout img;\n\n        @Override\n        protected void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.activity_infoanimales);\n\n            Button button = findViewById(R.id.btn);\n\n            button.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    setWallpaper();\n                }\n            });\n\n            if (android.os.Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.O) {\n                setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\n            }\n\n            this.options = new RequestOptions()\n                    .diskCacheStrategy(DiskCacheStrategy.AUTOMATIC);\n\n            String image_url = getIntent().getExtras().getString(\"img2\");\n\n            img = findViewById(R.id.thumbnail2);\n            Glide.with(this).load(image_url).into(new SimpleTarget&lt;Drawable&gt;() {\n                @Override\n                public void onResourceReady(@NonNull Drawable fondoreceta, Transition&lt;? super Drawable&gt; transition) {\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.JELLY_BEAN) {\n                        img.setBackground(fondoreceta);\n                    }\n                }\n            });\n\n            TextView txtclose = findViewById(R.id.txtclose);\n            txtclose.setOnClickListener(new View.OnClickListener() {\n\n                @Override\n                public void onClick(View v) {\n\n                    finish();\n                }\n            });\n        }\n\n        private void setWallpaper() {\n            Bitmap bitmap = BitmapFactory.decodeFile(\"img2\");\n            WallpaperManager manager = WallpaperManager.getInstance(getApplicationContext());\n\n            try {\n                manager.setBitmap(bitmap);\n                Toast.makeText(this, \"Listo\", Toast.LENGTH_SHORT).show();\n\n            } catch (IOException e) {\n                Toast.makeText(this, \"error\", Toast.LENGTH_SHORT).show();\n            }\n        }\n\n    }\n</code></pre>\n\n<p>With this function, it works perfect, but that is having the images in the drawable folder, and what you want or what it is that you take the image of the json url, traide with glide</p>\n\n<pre><code>private void setWallpaper() {\n        Bitmap bitmap = BitmapFactory.decodeResource(getResources(), R.drawable.cochinito);\n        WallpaperManager manager = WallpaperManager.getInstance(getApplicationContext());\n\n        try {\n            manager.setBitmap(bitmap);\n            Toast.makeText(this, \"Listo\", Toast.LENGTH_SHORT).show();\n\n        } catch (IOException e) {\n            Toast.makeText(this, \"error\", Toast.LENGTH_SHORT).show();\n        }\n    }\n</code></pre>\n\n<p>In conclusion, what I need is that when you click on the button, the displayed image is set as wallpaper</p>\n"},{"tags":["java","algorithm","hashmap","dynamic-programming","treemap"],"answers":[{"tags":[],"owner":{"account_id":27123034,"reputation":1993,"user_id":20666497,"display_name":"Albina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671561153,"creation_date":1671560499,"answer_id":74867352,"question_id":74867085,"body_markdown":"Hope I understood your question correctly. \r\n\r\nIf you really need to search for the nearest lower temperature in the range `[i - 1, i + 1]` (between &#39;neighbour&#39; days, closest indices), where `i` is the current day index:\r\n\r\n**Using a HashMap**:\r\n```\r\nprivate int getLowerTemperature(Map&lt;Integer, Integer&gt; temperatures, int searchDay) {\r\n        int dayIndex = searchDay - 1;\r\n\r\n        int previousDayTemp = temperatures.getOrDefault(dayIndex - 1, Integer.MAX_VALUE);\r\n        int currentDayTemp = temperatures.getOrDefault(dayIndex, Integer.MAX_VALUE);\r\n        int nextDayTemp = temperatures.getOrDefault(dayIndex + 1, Integer.MAX_VALUE);\r\n\r\n        return Math.min(previousDayTemp, Math.min(currentDayTemp, nextDayTemp));\r\n    }\r\n```\r\n***Complexities***:\r\nO(1) - space,\r\nO(1) - time\r\n\r\n\r\n**Using an ArrayList**:\r\n```\r\n    private int getLowerTemperature(List&lt;Integer&gt; temperatures, int searchDay) {\r\n        int dayIndex = searchDay - 1;\r\n        if (temperatures.size() &lt; 2 || dayIndex &gt; temperatures.size()) {\r\n            return temperatures.get(0);\r\n        }\r\n\r\n        int currentDayTemp = temperatures.get(dayIndex);\r\n        // corner cases\r\n        if (dayIndex == 0) {\r\n            return Math.min(currentDayTemp, temperatures.get(dayIndex + 1));\r\n        }\r\n        if (dayIndex == temperatures.size() - 1) {\r\n            return Math.min(temperatures.get(dayIndex - 1), currentDayTemp);\r\n        }\r\n\r\n        int previousDayTemp = temperatures.get(dayIndex - 1);\r\n        int nextDayTemp = temperatures.get(dayIndex + 1);\r\n\r\n        return Math.min(previousDayTemp, Math.min(currentDayTemp, nextDayTemp));\r\n    }\r\n```\r\nActually here you don&#39;t need `List&lt;Integer&gt; days` if every index of `List&lt;Integer&gt; temperatures` corresponds to its day. \r\n\r\n***Complexities***:\r\nO(1) - space,\r\nO(1) - time","title":"How to get lower value by closest index?","body":"<p>Hope I understood your question correctly.</p>\n<p>If you really need to search for the nearest lower temperature in the range <code>[i - 1, i + 1]</code> (between 'neighbour' days, closest indices), where <code>i</code> is the current day index:</p>\n<p><strong>Using a HashMap</strong>:</p>\n<pre><code>private int getLowerTemperature(Map&lt;Integer, Integer&gt; temperatures, int searchDay) {\n        int dayIndex = searchDay - 1;\n\n        int previousDayTemp = temperatures.getOrDefault(dayIndex - 1, Integer.MAX_VALUE);\n        int currentDayTemp = temperatures.getOrDefault(dayIndex, Integer.MAX_VALUE);\n        int nextDayTemp = temperatures.getOrDefault(dayIndex + 1, Integer.MAX_VALUE);\n\n        return Math.min(previousDayTemp, Math.min(currentDayTemp, nextDayTemp));\n    }\n</code></pre>\n<p><em><strong>Complexities</strong></em>:\nO(1) - space,\nO(1) - time</p>\n<p><strong>Using an ArrayList</strong>:</p>\n<pre><code>    private int getLowerTemperature(List&lt;Integer&gt; temperatures, int searchDay) {\n        int dayIndex = searchDay - 1;\n        if (temperatures.size() &lt; 2 || dayIndex &gt; temperatures.size()) {\n            return temperatures.get(0);\n        }\n\n        int currentDayTemp = temperatures.get(dayIndex);\n        // corner cases\n        if (dayIndex == 0) {\n            return Math.min(currentDayTemp, temperatures.get(dayIndex + 1));\n        }\n        if (dayIndex == temperatures.size() - 1) {\n            return Math.min(temperatures.get(dayIndex - 1), currentDayTemp);\n        }\n\n        int previousDayTemp = temperatures.get(dayIndex - 1);\n        int nextDayTemp = temperatures.get(dayIndex + 1);\n\n        return Math.min(previousDayTemp, Math.min(currentDayTemp, nextDayTemp));\n    }\n</code></pre>\n<p>Actually here you don't need <code>List&lt;Integer&gt; days</code> if every index of <code>List&lt;Integer&gt; temperatures</code> corresponds to its day.</p>\n<p><em><strong>Complexities</strong></em>:\nO(1) - space,\nO(1) - time</p>\n"}],"owner":{"display_name":"user20818590"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1671561153,"creation_date":1671559090,"question_id":74867085,"body_markdown":"I have the following list values:\r\n\r\n\r\n```\r\nList&lt;Integer&gt; days = List.of(1, 2, 3, 4, 5, 6, 7, 8, 9, 10);\r\nList&lt;Integer&gt; temperatures = List.of(4, 5, 7, 3, 6, 9, 7, 2, 5, 3);\r\n```\r\n\r\nEach day has the corresponding temp value on the given order (1st day is 4, 2dn day is 5, ...). I also have search values for days:\r\n\r\n```\r\nList&lt;Integer&gt; searchDays = List.of(6, 5, 4);\r\n```\r\n\r\nI am trying to find the nearest lower value for each searchDay values. For example:\r\n\r\n```\r\n6 --&gt; 6th day value is 9 degree. \r\nThe nearest lower value of it 6 that is on the 5th day. \r\n```\r\n\r\nI used the following approaches to solve the problem, but have the mentioned problem during these:\r\n\r\n1. NavigableMap: I can just get the lower value in the map. For example, in the example above, I get 8, instead of 6. But I need to get the nearest lower value instead of a lower (value-1) value.\r\n\r\n2. I used sliding window and solved the problem, but I needed to use inner loop with `O(n^2)`. I need to find a better solution with less time complexity.\r\n\r\n3. I tried to use `HashMap&lt;day, temperature&gt;`, but it does not make any sense I think and probably I would need to use 2 loop.\r\n\r\nSo, how can I solve this problem with a better time complexity than `O(n^2)`?\r\n\r\n\r\n","title":"How to get lower value by closest index?","body":"<p>I have the following list values:</p>\n<pre><code>List&lt;Integer&gt; days = List.of(1, 2, 3, 4, 5, 6, 7, 8, 9, 10);\nList&lt;Integer&gt; temperatures = List.of(4, 5, 7, 3, 6, 9, 7, 2, 5, 3);\n</code></pre>\n<p>Each day has the corresponding temp value on the given order (1st day is 4, 2dn day is 5, ...). I also have search values for days:</p>\n<pre><code>List&lt;Integer&gt; searchDays = List.of(6, 5, 4);\n</code></pre>\n<p>I am trying to find the nearest lower value for each searchDay values. For example:</p>\n<pre><code>6 --&gt; 6th day value is 9 degree. \nThe nearest lower value of it 6 that is on the 5th day. \n</code></pre>\n<p>I used the following approaches to solve the problem, but have the mentioned problem during these:</p>\n<ol>\n<li><p>NavigableMap: I can just get the lower value in the map. For example, in the example above, I get 8, instead of 6. But I need to get the nearest lower value instead of a lower (value-1) value.</p>\n</li>\n<li><p>I used sliding window and solved the problem, but I needed to use inner loop with <code>O(n^2)</code>. I need to find a better solution with less time complexity.</p>\n</li>\n<li><p>I tried to use <code>HashMap&lt;day, temperature&gt;</code>, but it does not make any sense I think and probably I would need to use 2 loop.</p>\n</li>\n</ol>\n<p>So, how can I solve this problem with a better time complexity than <code>O(n^2)</code>?</p>\n"},{"tags":["java","json","excel","selenium","aspose"],"comments":[{"owner":{"account_id":27123034,"reputation":1993,"user_id":20666497,"display_name":"Albina"},"score":0,"creation_date":1671473358,"post_id":74854232,"comment_id":132102336,"body_markdown":"What is the question? How to save a file? How to run the code daily?","body":"What is the question? How to save a file? How to run the code daily?"},{"owner":{"account_id":25888760,"reputation":1,"user_id":19616469,"display_name":"Ramesh"},"score":0,"creation_date":1671473457,"post_id":74854232,"comment_id":132102368,"body_markdown":"@albina need to run it daily and should save  according to the timestamp","body":"@albina need to run it daily and should save  according to the timestamp"},{"owner":{"account_id":25888760,"reputation":1,"user_id":19616469,"display_name":"Ramesh"},"score":0,"creation_date":1671473912,"post_id":74854232,"comment_id":132102488,"body_markdown":"@albina It should create a folder with the date and save all the excel files which  are generated on that day.","body":"@albina It should create a folder with the date and save all the excel files which  are generated on that day."}],"answers":[{"tags":[],"owner":{"account_id":4153548,"reputation":1826,"user_id":3405358,"display_name":"Amjad Sahi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671561129,"creation_date":1671561129,"answer_id":74867457,"question_id":74854232,"body_markdown":"Maybe you could try:\r\n\r\ne.g.\r\n\r\n**Sample code:**\r\n```java\r\nLocalDateTime date = LocalDateTime.now();\r\njava.time.format.DateTimeFormatter dateformat = java.time.format.DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;);\r\nString formatedate = date.format(dateformat);\r\n\r\njava.time.format.DateTimeFormatter datetimeformat = java.time.format.DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy HH-mm-ss&quot;);\r\nString formatedatetime = date.format(datetimeformat);\r\n\r\nWorkbook workbook = new Workbook(&quot;.//Files//output.json&quot;);\r\nFile file = new File(&quot;.//&quot; + formatedate);\r\nif (!file.exists())\r\n{\r\n    file.mkdir();\r\n}\r\nworkbook.save(file.getPath()+ &quot;//output-&quot;+formatedatetime+&quot;.xlsx&quot;);\r\nSystem.out.println(&quot;json file converted successfully&quot;);\r\n```\r\n\r\nPS. I am working as Support developer/ Evangelist at Aspose.\r\n","title":"Need to save the excel file for every run with the current timestamp","body":"<p>Maybe you could try:</p>\n<p>e.g.</p>\n<p><strong>Sample code:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDateTime date = LocalDateTime.now();\njava.time.format.DateTimeFormatter dateformat = java.time.format.DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;);\nString formatedate = date.format(dateformat);\n\njava.time.format.DateTimeFormatter datetimeformat = java.time.format.DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy HH-mm-ss&quot;);\nString formatedatetime = date.format(datetimeformat);\n\nWorkbook workbook = new Workbook(&quot;.//Files//output.json&quot;);\nFile file = new File(&quot;.//&quot; + formatedate);\nif (!file.exists())\n{\n    file.mkdir();\n}\nworkbook.save(file.getPath()+ &quot;//output-&quot;+formatedatetime+&quot;.xlsx&quot;);\nSystem.out.println(&quot;json file converted successfully&quot;);\n</code></pre>\n<p>PS. I am working as Support developer/ Evangelist at Aspose.</p>\n"}],"owner":{"account_id":25888760,"reputation":1,"user_id":19616469,"display_name":"Ramesh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671561129,"creation_date":1671472608,"question_id":74854232,"body_markdown":"I am using the below code to convert the json file to excel using aspose. I am able to convert the json file but i need to save the converted file for every run with the current timestamp and i need to run it daily so that it should create a folder daily with the date.\r\n\r\n    public class converter1 {\r\n\tpublic static void main(String[] args) throws Exception {\t\r\n\t\tLocalDateTime date = LocalDateTime.now();\r\n\t\tDateTimeFormatter dateformat = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy HH-mm-ss&quot;);\r\n\t\tString formatedate =date.format(dateformat);\r\n\t\tWorkbook workbook = new Workbook(&quot;.//Files//output.json&quot;);\t\t \r\n\t\tworkbook.save(&quot;.//output-&quot;+formatedate+&quot;.xlsx&quot;);\t\t\t\r\n\t\tSystem.out.println(&quot;json file converted successfully&quot;);\r\n\t}\r\n}","title":"Need to save the excel file for every run with the current timestamp","body":"<p>I am using the below code to convert the json file to excel using aspose. I am able to convert the json file but i need to save the converted file for every run with the current timestamp and i need to run it daily so that it should create a folder daily with the date.</p>\n<pre><code>public class converter1 {\npublic static void main(String[] args) throws Exception {   \n    LocalDateTime date = LocalDateTime.now();\n    DateTimeFormatter dateformat = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy HH-mm-ss&quot;);\n    String formatedate =date.format(dateformat);\n    Workbook workbook = new Workbook(&quot;.//Files//output.json&quot;);       \n    workbook.save(&quot;.//output-&quot;+formatedate+&quot;.xlsx&quot;);            \n    System.out.println(&quot;json file converted successfully&quot;);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","android","interactive"],"comments":[{"owner":{"account_id":19410276,"reputation":1735,"user_id":14194793,"display_name":"MFerguson"},"score":1,"creation_date":1671561177,"post_id":74867424,"comment_id":132124229,"body_markdown":"What you are trying to create is called a GUI. Look up some tutorials on GUI packages in Java.","body":"What you are trying to create is called a GUI. Look up some tutorials on GUI packages in Java."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1671561227,"post_id":74867424,"comment_id":132124245,"body_markdown":"Before you start with the visual part of this, you should create and test your game model (the game and all the API you need, minus user interaction) once that&#39;s fully working, that&#39;s the time to think about visualizing it and setting it up for user interaction","body":"Before you start with the visual part of this, you should create and test your game model (the game and all the API you need, minus user interaction) once that&#39;s fully working, that&#39;s the time to think about visualizing it and setting it up for user interaction"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1671573247,"post_id":74867424,"comment_id":132127539,"body_markdown":"Sounds like you should do a web search for general basic android tutorials. Stackoverflow is for specific questions about problems in your code, it&#39;s not a tutorial service. To answer your question people would have to type whole tutorials if not books. Luckily such books and tutorials already exist. See [ask].","body":"Sounds like you should do a web search for general basic android tutorials. Stackoverflow is for specific questions about problems in your code, it&#39;s not a tutorial service. To answer your question people would have to type whole tutorials if not books. Luckily such books and tutorials already exist. See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"owner":{"account_id":27203012,"reputation":11,"user_id":20735000,"display_name":"Mikodi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1671560911,"creation_date":1671560911,"question_id":74867424,"body_markdown":"As my first big project for class, I need to make a card game using android studio. the game would pretty much be the card jitsu mini game from club penguin. I already have Card objects and everything like that, but I&#39;m just stuck on how to begin working on the parts that the player would need to interact with. For example, how do I display a card &quot;physically&quot; on the game screen where it displays on the bottom left side in the players hand? how to interact with it? I&#39;m basically stuck on the displaying and interacting with the cards. As I&#39;m pretty new to programming I don&#39;t even really know where to begin with so every bit of help will be appreciated. I&#39;ve added a picture to emphasize what I&#39;m stuck on.\r\n[The draft:](https://i.stack.imgur.com/Q3TcX.jpg)\r\n\r\nI&#39;ve tried looking for how to do this on the internet but due to how specific it is I&#39;m having a really hard time finding something useful for what I need.","title":"How to begin on making the interactive section of a card game in Java","body":"<p>As my first big project for class, I need to make a card game using android studio. the game would pretty much be the card jitsu mini game from club penguin. I already have Card objects and everything like that, but I'm just stuck on how to begin working on the parts that the player would need to interact with. For example, how do I display a card &quot;physically&quot; on the game screen where it displays on the bottom left side in the players hand? how to interact with it? I'm basically stuck on the displaying and interacting with the cards. As I'm pretty new to programming I don't even really know where to begin with so every bit of help will be appreciated. I've added a picture to emphasize what I'm stuck on.\n<a href=\"https://i.stack.imgur.com/Q3TcX.jpg\" rel=\"nofollow noreferrer\">The draft:</a></p>\n<p>I've tried looking for how to do this on the internet but due to how specific it is I'm having a really hard time finding something useful for what I need.</p>\n"},{"tags":["java","user-interface","button","radio-button","drawing"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1671561382,"post_id":74867399,"comment_id":132124303,"body_markdown":"You should almost never create classes that extend from JFrame. Much better/flexible to extend from JPanel and then put it in a JFrame","body":"You should almost never create classes that extend from JFrame. Much better/flexible to extend from JPanel and then put it in a JFrame"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1671561720,"post_id":74867399,"comment_id":132124395,"body_markdown":"What you&#39;ll want is something like the Area classes here: https://sourceforge.net/p/tus/code/HEAD/tree/tjacobs/ui/shape/ (AreaManager is the right place to get started in looking at how all this works together)","body":"What you&#39;ll want is something like the Area classes here: <a href=\"https://sourceforge.net/p/tus/code/HEAD/tree/tjacobs/ui/shape/\" rel=\"nofollow noreferrer\">sourceforge.net/p/tus/code/HEAD/tree/tjacobs/ui/shape</a> (AreaManager is the right place to get started in looking at how all this works together)"},{"owner":{"account_id":23403381,"reputation":3,"user_id":17466183,"display_name":"Uncognito"},"score":0,"creation_date":1671568361,"post_id":74867399,"comment_id":132126351,"body_markdown":"@ControlAltDel i see, i looked about that link u sended, but i couldnt understand much whats going on there, as i said im new at JAVA i cant understand these complicated manager stuffs, it might be the base level for you but i cant sorry, i just want to know what kind of functions or whatever i have to use to make my radiobuttons to draw objects in another screen, every one of these examples are drawing objects in the same screen u making the buttons, thats the easy part but i cant with 2 screens for some reason.","body":"@ControlAltDel i see, i looked about that link u sended, but i couldnt understand much whats going on there, as i said im new at JAVA i cant understand these complicated manager stuffs, it might be the base level for you but i cant sorry, i just want to know what kind of functions or whatever i have to use to make my radiobuttons to draw objects in another screen, every one of these examples are drawing objects in the same screen u making the buttons, thats the easy part but i cant with 2 screens for some reason."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1671568945,"post_id":74867399,"comment_id":132126490,"body_markdown":"I recommend you do the Swing trails on Oracle&#39;s website","body":"I recommend you do the Swing trails on Oracle&#39;s website"}],"owner":{"account_id":23403381,"reputation":3,"user_id":17466183,"display_name":"Uncognito"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671560758,"creation_date":1671560758,"question_id":74867399,"body_markdown":"So, i have a question with me code here, i have to make a program that draws objects and sometime fills them by clicking radiobuttons, the other part is that the drawing part had to be done in a second window, so i need to have the radiobuttons in one screen and by clicking them i have to draw objects in different window. I maded up to the part where i declared the buttons and created the 2nd screen, but i dont know how to make when i select the radiobutton to draws in the 2nd screen, can someone help me, im new into JAVA.\r\n`\r\n```\r\n\r\nimport java.awt.event.*;\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class ButtonWindow extends JFrame{\r\n\r\n\t\tJRadioButton Oval, Line,OutlineColor1,OutlineColor2,OutlineColor3,FillColor1,FillColor2,FillColor3;\r\n\t\t\r\n\t\tButtonWindow(){\r\n\t\t\tJFrame f1=new JFrame();\r\n\t\t\tthis.setTitle(&quot;Drawing Objects&quot;);\r\n\t\t\tthis.setVisible(true);\r\n\t\t\tthis.setLayout(new FlowLayout());\r\n\t\t\tthis.pack();\r\n\t\t\tthis.setSize(500,500);\r\n\t\t\tthis.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\t\r\n\t\t\tsetLayout(new GridLayout(0,1));\r\n\t    \r\n\t\t\t  Oval = new JRadioButton(&quot;Oval shape &quot;);\t\r\n\t\t\t  Line = new JRadioButton(&quot;Line&quot;);\r\n\t\t\t  OutlineColor1 = new JRadioButton(&quot;Outline Color: RED&quot;);\r\n\t\t\t  OutlineColor2 = new JRadioButton(&quot;Outline Color: BLUE&quot;);\r\n\t\t\t  OutlineColor3 = new JRadioButton(&quot;Outline Color: GREEN&quot;);\r\n\t\t\t  FillColor1 = new JRadioButton(&quot;Filling Color: RED&quot;);\r\n\t\t\t  FillColor2 = new JRadioButton(&quot;Filling Color: BLUE&quot;);\r\n\t\t\t  FillColor3 = new JRadioButton(&quot;Filling Color: GREEN&quot;);\r\n\t\t\t \r\n\t\t\t ButtonGroup group1 = new ButtonGroup();\r\n\t\t\t\tgroup1.add(Oval);\r\n\t\t\t\tgroup1.add(Line);\r\n\t\t\t\t\r\n\t\t\t\tButtonGroup group2 = new ButtonGroup();\r\n\t\t\t\tgroup2.add(OutlineColor1);\r\n\t\t\t\tgroup2.add(OutlineColor2);\r\n\t\t\t\tgroup2.add(OutlineColor3);\r\n\t\t\t\t\r\n\t\t\t\tButtonGroup group3 = new ButtonGroup();\r\n\t\t\t\tgroup3.add(FillColor1);\r\n\t\t\t\tgroup3.add(FillColor2);\r\n\t\t\t\tgroup3.add(FillColor3);\t\t\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t this.add(Oval);\t\t\r\n\t\t\t this.add(Line);\t\t\t\r\n\t\t\t this.add(OutlineColor1);\t\t\t\r\n\t\t\t this.add(OutlineColor2);\t\t\t\r\n\t\t\t this.add(OutlineColor3);\t\t\t \r\n\t\t\t this.add(FillColor1);\t\t\t\r\n\t\t\t this.add(FillColor2);\t\t\t\r\n\t\t\t this.add(FillColor3);\t\t\r\n\t\t}\r\n}\r\n```\r\n`\r\n```\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\n\r\nimport javax.swing.JFrame;\r\n\r\npublic class ObjectWindow extends JFrame implements ActionListener {\r\n\t\r\n\tButtonWindow ButtonWindow;\r\n\t\r\n\tObjectWindow(ButtonWindow bw){\r\n\t\tthis.ButtonWindow =bw;\r\n\t\tthis.setTitle(&quot;Drawing Objects&quot;);\r\n\t\tthis.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tthis.setLayout(new FlowLayout());\r\n\t\t\r\n\t\r\n\t this.setSize(1000, 1000);\r\n\t this.setVisible(true);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n\r\n}\r\n```\r\n`\r\n```\r\n\r\nimport javax.swing.JRadioButton;\r\nimport java.awt.event.*; \r\nimport javax.swing.JFrame;\r\nimport java.awt.*;\r\n\r\npublic class main {\r\n\tpublic static void main(String a[]){\r\n\t\tButtonWindow window = new ButtonWindow();\r\n\t\tnew ObjectWindow(window);\r\n\t\t\r\n       \r\n\t}\r\n\r\n}\r\n\r\n```\r\n```","title":"JAVA GUI drawing objects with buttons in multiple windows","body":"<p>So, i have a question with me code here, i have to make a program that draws objects and sometime fills them by clicking radiobuttons, the other part is that the drawing part had to be done in a second window, so i need to have the radiobuttons in one screen and by clicking them i have to draw objects in different window. I maded up to the part where i declared the buttons and created the 2nd screen, but i dont know how to make when i select the radiobutton to draws in the 2nd screen, can someone help me, im new into JAVA.\n`</p>\n<pre><code>\nimport java.awt.event.*;\nimport javax.swing.*;\nimport java.awt.*;\n\npublic class ButtonWindow extends JFrame{\n\n        JRadioButton Oval, Line,OutlineColor1,OutlineColor2,OutlineColor3,FillColor1,FillColor2,FillColor3;\n        \n        ButtonWindow(){\n            JFrame f1=new JFrame();\n            this.setTitle(&quot;Drawing Objects&quot;);\n            this.setVisible(true);\n            this.setLayout(new FlowLayout());\n            this.pack();\n            this.setSize(500,500);\n            this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            \n            setLayout(new GridLayout(0,1));\n        \n              Oval = new JRadioButton(&quot;Oval shape &quot;);   \n              Line = new JRadioButton(&quot;Line&quot;);\n              OutlineColor1 = new JRadioButton(&quot;Outline Color: RED&quot;);\n              OutlineColor2 = new JRadioButton(&quot;Outline Color: BLUE&quot;);\n              OutlineColor3 = new JRadioButton(&quot;Outline Color: GREEN&quot;);\n              FillColor1 = new JRadioButton(&quot;Filling Color: RED&quot;);\n              FillColor2 = new JRadioButton(&quot;Filling Color: BLUE&quot;);\n              FillColor3 = new JRadioButton(&quot;Filling Color: GREEN&quot;);\n             \n             ButtonGroup group1 = new ButtonGroup();\n                group1.add(Oval);\n                group1.add(Line);\n                \n                ButtonGroup group2 = new ButtonGroup();\n                group2.add(OutlineColor1);\n                group2.add(OutlineColor2);\n                group2.add(OutlineColor3);\n                \n                ButtonGroup group3 = new ButtonGroup();\n                group3.add(FillColor1);\n                group3.add(FillColor2);\n                group3.add(FillColor3);                         \n                \n             this.add(Oval);        \n             this.add(Line);            \n             this.add(OutlineColor1);           \n             this.add(OutlineColor2);           \n             this.add(OutlineColor3);            \n             this.add(FillColor1);          \n             this.add(FillColor2);          \n             this.add(FillColor3);      \n        }\n}\n</code></pre>\n<p>`</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.JFrame;\n\npublic class ObjectWindow extends JFrame implements ActionListener {\n    \n    ButtonWindow ButtonWindow;\n    \n    ObjectWindow(ButtonWindow bw){\n        this.ButtonWindow =bw;\n        this.setTitle(&quot;Drawing Objects&quot;);\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        this.setLayout(new FlowLayout());\n        \n    \n     this.setSize(1000, 1000);\n     this.setVisible(true);\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        \n        \n    }\n\n\n}\n</code></pre>\n<p>`</p>\n<pre><code>\nimport javax.swing.JRadioButton;\nimport java.awt.event.*; \nimport javax.swing.JFrame;\nimport java.awt.*;\n\npublic class main {\n    public static void main(String a[]){\n        ButtonWindow window = new ButtonWindow();\n        new ObjectWindow(window);\n        \n       \n    }\n\n}\n\n</code></pre>\n<pre><code></code></pre>\n"},{"tags":["java","amazon-web-services","aws-lambda","spring-cloud","spring-cloud-function"],"owner":{"account_id":13626589,"reputation":1,"user_id":9829698,"display_name":"Chuchu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671559785,"creation_date":1671559785,"question_id":74867223,"body_markdown":"I created an AWS Lambda function with a Java 11 Corretto runtime. I then created a spring cloud function application and deployed it to the Lambda function. I used slf4j for the logs. For some reason, I just can&#39;t see anything in the CloudWatch logs but when I test it locally in my console, logs appear.\r\n\r\nHere&#39;s the code that I deployed.\r\n\r\n```\r\n@Configuration\r\npublic class DeliveryCostFunction {\r\n\r\n  private static final Logger log = LoggerFactory.getLogger(DeliveryCostFunction.class);\r\n\r\n  private APIGatewayProxyResponseEvent response(String body, Integer statusCode) {\r\n    return new APIGatewayProxyResponseEvent()\r\n        .withHeaders(Map.of(&quot;Content-Type&quot;, &quot;application/json&quot;, &quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;))\r\n        .withBody(body).withStatusCode(statusCode);\r\n  }\r\n  \r\n  public APIGatewayProxyResponseEvent testFunction(APIGatewayProxyRequestEvent event) {\r\n    log.info(&quot;Request Event={}&quot;, event.toString());\r\n    return response(&quot;This is a sample body&quot;, 200);\r\n  }\r\n\r\n  @Bean\r\n  public Function&lt;APIGatewayProxyRequestEvent, APIGatewayProxyResponseEvent&gt; handleRequest() {\r\n    return this::testFunction;\r\n  }\r\n}\r\n```\r\n\r\nThe log message that I wrote won&#39;t appear in the CloudWatch logs.\r\n[The logs after executing the Lambda function](https://i.stack.imgur.com/0EL3F.png)\r\n\r\nHowever, if I write the log before returning the test function, the logs appear.\r\n```\r\n  @Bean\r\n  public Function&lt;APIGatewayProxyRequestEvent, APIGatewayProxyResponseEvent&gt; handleRequest() {\r\n    log.info(&quot;This is a sample log&quot;);\r\n    return this::testFunction;\r\n  }\r\n```\r\n[Logs appear](https://i.stack.imgur.com/N3dKo.png)\r\n\r\nIf this is the case, then I have no way to get the request event when I invoke the Lambda function from API gateway.\r\n\r\nI&#39;ve read Spring Cloud Function&#39;s documentation over and over again but there was no mention of proper logging. Is there a way to make the logs from the spring cloud function appear in the CloudWatch logs?","title":"Spring Cloud Function logging in AWS Lambda","body":"<p>I created an AWS Lambda function with a Java 11 Corretto runtime. I then created a spring cloud function application and deployed it to the Lambda function. I used slf4j for the logs. For some reason, I just can't see anything in the CloudWatch logs but when I test it locally in my console, logs appear.</p>\n<p>Here's the code that I deployed.</p>\n<pre><code>@Configuration\npublic class DeliveryCostFunction {\n\n  private static final Logger log = LoggerFactory.getLogger(DeliveryCostFunction.class);\n\n  private APIGatewayProxyResponseEvent response(String body, Integer statusCode) {\n    return new APIGatewayProxyResponseEvent()\n        .withHeaders(Map.of(&quot;Content-Type&quot;, &quot;application/json&quot;, &quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;))\n        .withBody(body).withStatusCode(statusCode);\n  }\n  \n  public APIGatewayProxyResponseEvent testFunction(APIGatewayProxyRequestEvent event) {\n    log.info(&quot;Request Event={}&quot;, event.toString());\n    return response(&quot;This is a sample body&quot;, 200);\n  }\n\n  @Bean\n  public Function&lt;APIGatewayProxyRequestEvent, APIGatewayProxyResponseEvent&gt; handleRequest() {\n    return this::testFunction;\n  }\n}\n</code></pre>\n<p>The log message that I wrote won't appear in the CloudWatch logs.\n<a href=\"https://i.stack.imgur.com/0EL3F.png\" rel=\"nofollow noreferrer\">The logs after executing the Lambda function</a></p>\n<p>However, if I write the log before returning the test function, the logs appear.</p>\n<pre><code>  @Bean\n  public Function&lt;APIGatewayProxyRequestEvent, APIGatewayProxyResponseEvent&gt; handleRequest() {\n    log.info(&quot;This is a sample log&quot;);\n    return this::testFunction;\n  }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/N3dKo.png\" rel=\"nofollow noreferrer\">Logs appear</a></p>\n<p>If this is the case, then I have no way to get the request event when I invoke the Lambda function from API gateway.</p>\n<p>I've read Spring Cloud Function's documentation over and over again but there was no mention of proper logging. Is there a way to make the logs from the spring cloud function appear in the CloudWatch logs?</p>\n"},{"tags":["java","mysql","hibernate","tomcat","hikaricp"],"comments":[{"owner":{"account_id":6600609,"reputation":334,"user_id":5099041,"accept_rate":38,"display_name":"jNewbie"},"score":0,"creation_date":1510164277,"post_id":47186214,"comment_id":81322415,"body_markdown":"Also using a swap mem of 1Gb","body":"Also using a swap mem of 1Gb"}],"answers":[{"tags":[],"owner":{"account_id":6027182,"reputation":2632,"user_id":8705446,"display_name":"Aleh Maksimovich"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671559371,"creation_date":1510165314,"answer_id":47187000,"question_id":47186214,"body_markdown":"One of the issues that is clearly visible:\r\n\r\n&gt; java.lang.OutOfMemoryError: GC overhead limit exceeded\r\n\r\nDenotes that you have not enough heap memory and JVM spends a lot of time doing garbage collect.\r\n\r\n```bash\r\nexport CATALINA_OPTS=&quot;$CATALINA_OPTS -Xms512m&quot;\r\nexport CATALINA_OPTS=&quot;$CATALINA_OPTS -Xmx512m&quot;\r\n```\r\n\r\nTells JVM that Tomcat and all applications it is running should initially reserve 512 Mb of memory and they can at maximum allocate 512 Mb of memory.\r\n\r\nFrom the error above, it is clear that 512 Mb is not enough for your app.\r\n\r\nThe options for you to consider:\r\n\r\n* What `maxThreads` value is defined in your Tomcat `Connector`. Default is `200`. Each thread occupies memory. With just 3 users I expect you may reduce this to 5 to conserve memory.\r\n* `hibernate.hikari.maximumPoolSize` also seems too large. Again `5` should suffice.\r\n* Each @Entity loaded by Hibernate is stored in [first level cache][1]. This slows Hibernate down and consumes memory. Consider using [stateless session][2] (if possible) to reduce session size.\r\n* Use [VisualVM][3] or some other profiler to take a memory dump to analyze where your memory is going to.\r\n\r\n\r\n  [1]: https://howtodoinjava.com/hibernate/understanding-hibernate-first-level-cache-with-example/\r\n  [2]: https://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/chapters/batch/Batching.html\r\n  [3]: https://visualvm.github.io/","title":"Apache Tomcat 8 + MySQL performance issue","body":"<p>One of the issues that is clearly visible:</p>\n<blockquote>\n<p>java.lang.OutOfMemoryError: GC overhead limit exceeded</p>\n</blockquote>\n<p>Denotes that you have not enough heap memory and JVM spends a lot of time doing garbage collect.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>export CATALINA_OPTS=&quot;$CATALINA_OPTS -Xms512m&quot;\nexport CATALINA_OPTS=&quot;$CATALINA_OPTS -Xmx512m&quot;\n</code></pre>\n<p>Tells JVM that Tomcat and all applications it is running should initially reserve 512 Mb of memory and they can at maximum allocate 512 Mb of memory.</p>\n<p>From the error above, it is clear that 512 Mb is not enough for your app.</p>\n<p>The options for you to consider:</p>\n<ul>\n<li>What <code>maxThreads</code> value is defined in your Tomcat <code>Connector</code>. Default is <code>200</code>. Each thread occupies memory. With just 3 users I expect you may reduce this to 5 to conserve memory.</li>\n<li><code>hibernate.hikari.maximumPoolSize</code> also seems too large. Again <code>5</code> should suffice.</li>\n<li>Each @Entity loaded by Hibernate is stored in <a href=\"https://howtodoinjava.com/hibernate/understanding-hibernate-first-level-cache-with-example/\" rel=\"nofollow noreferrer\">first level cache</a>. This slows Hibernate down and consumes memory. Consider using <a href=\"https://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/chapters/batch/Batching.html\" rel=\"nofollow noreferrer\">stateless session</a> (if possible) to reduce session size.</li>\n<li>Use <a href=\"https://visualvm.github.io/\" rel=\"nofollow noreferrer\">VisualVM</a> or some other profiler to take a memory dump to analyze where your memory is going to.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4668619,"reputation":442,"user_id":3781025,"accept_rate":75,"display_name":"Roger that"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1671556048,"creation_date":1671556048,"answer_id":74866508,"question_id":47186214,"body_markdown":"You have way too many connections in the pool, if you don&#39;t have a database server with 200 cores, there is no reason to use 200, especially considering that the max connection in the database is 152, that alone is surely causing you some of the issues you are seeing.\r\n\r\nGood practice for the max number of connections in the pool is the number of CPU cores of the server that host the database plus 1 or 2 or 3 (to be tested) and that is because there is no real parallelism beyond the number of cores, but we can use a few extra connections because there are CPU waiting times when reading information from disk for instance that would be better used by processing another thread. ","title":"Apache Tomcat 8 + MySQL performance issue","body":"<p>You have way too many connections in the pool, if you don't have a database server with 200 cores, there is no reason to use 200, especially considering that the max connection in the database is 152, that alone is surely causing you some of the issues you are seeing.</p>\n<p>Good practice for the max number of connections in the pool is the number of CPU cores of the server that host the database plus 1 or 2 or 3 (to be tested) and that is because there is no real parallelism beyond the number of cores, but we can use a few extra connections because there are CPU waiting times when reading information from disk for instance that would be better used by processing another thread.</p>\n"}],"owner":{"account_id":6600609,"reputation":334,"user_id":5099041,"accept_rate":38,"display_name":"jNewbie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1118,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1671559371,"creation_date":1510162694,"question_id":47186214,"body_markdown":"I have a Java (Tomcat) application that uses with MySQL (with Hibernate) as database.\r\n\r\nIt&#39;s a simple Java JSF application and only three users use the system simultaneously. (There&#39;s two kind of big tables, with 20k lines - usually is there when it freezes.)\r\n\r\nThe system keeps freezing and I need to restart Tomcat and MySQL to work again.\r\n\r\nIn the logs I have:\r\n\r\n&gt; [WARN] 2017-11-08 16:53:02,438 com.zaxxer.hikari.pool.PoolBase isConnectionAlive - HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@33dc5260 \r\n\r\nalso:\r\n&gt; [WARN] 2017-11-08 17:04:32,200 com.zaxxer.hikari.pool.HikariPool run - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m22s40ms97&#181;s73ns).\r\n\r\nAnd (90x):\r\n\r\n&gt; [WARN] 2017-11-08 17:04:35,438 com.zaxxer.hikari.pool.PoolBase isConnectionAlive - HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@2c365a2e (No operations allowed after connection closed.)\r\n\r\n\r\nAlso:\r\n\r\n&gt; java.lang.OutOfMemoryError: GC overhead limit exceeded\r\n\r\nAlso later on I got: _&quot;java.lang.OutOfMemoryError: Java heap space&quot;_, but only 760Mb was being used by the system.\r\n\r\n(Yes, there are a lot of errors, this is why it&#39;s hard for me to figure out how to fix it!)\r\n\r\nAny tips?\r\n\r\nI have set at **setenv.sh**:\r\n\r\n```bash\r\nexport CATALINA_OPTS=&quot;$CATALINA_OPTS -Xms512m&quot;\r\nexport CATALINA_OPTS=&quot;$CATALINA_OPTS -Xmx512m&quot;\r\nexport CATALINA_OPTS=&quot;$CATALINA_OPTS -server&quot;\r\n```\r\n\r\nWhen I verify the memory in use, shows:\r\n\r\n```none\r\nmysqld = 165.3 MiB\r\njava = 662.0 MiB\r\n```\r\n\r\nI&#39;m using Hikari Connection Pool as below:\r\n\r\n```xml\r\n&lt;property name=&quot;hibernate.hikari.maximumPoolSize&quot; value=&quot;200&quot; /&gt; \r\n&lt;property name=&quot;hibernate.hikari.idleTimeout&quot; value=&quot;30000&quot; /&gt; \r\n&lt;property name=&quot;hibernate.hikari.maxLifetime&quot; value=&quot;600000&quot; /&gt; \r\n&lt;property name=&quot;hibernate.hikari.dataSourceClassName&quot; value=&quot;com.mysql.jdbc.jdbc2.optional.MysqlDataSource&quot; /&gt;\r\n&lt;property name=&quot;hibernate.connection.provider_class&quot; value=&quot;org.hibernate.hikaricp.internal.HikariCPConnectionProvider&quot; /&gt;\r\n```\r\n\r\nMySQL max connections is set to 152.\r\n\r\nMySQL **my.cnf** settings:\r\n\r\n```none\r\nwait_timeout = 360\r\ninteractive_timeout = 420\r\n```\r\n\r\nThe server is running in a DigitalOcean droplet with 1Gb Ram and 1 vCPU. What it&#39;s the best Tomcat + MySQL + Hikari configuration for this server?\r\n\r\nI removed the Xms512m and Xmx512m parameters and decreased the maximumPoolSize to 20 and after a few hours of the server running OK, I got:\r\n\r\n&gt; ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper - HikariPool-1\r\n&gt; \\- Connection is not available, request timed out after 30004ms. javax.persistence.PersistenceException: \\\r\n&gt; org.hibernate.exception.JDBCConnectionException: Unable to acquire\r\n&gt; JDBC Connection \\\r\n&gt; Caused by: org.hibernate.exception.JDBCConnectionException: Unable to\r\n&gt; acquire JDBC Connection\r\n\r\n\r\n","title":"Apache Tomcat 8 + MySQL performance issue","body":"<p>I have a Java (Tomcat) application that uses with MySQL (with Hibernate) as database.</p>\n<p>It's a simple Java JSF application and only three users use the system simultaneously. (There's two kind of big tables, with 20k lines - usually is there when it freezes.)</p>\n<p>The system keeps freezing and I need to restart Tomcat and MySQL to work again.</p>\n<p>In the logs I have:</p>\n<blockquote>\n<p>[WARN] 2017-11-08 16:53:02,438 com.zaxxer.hikari.pool.PoolBase isConnectionAlive - HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@33dc5260</p>\n</blockquote>\n<p>also:</p>\n<blockquote>\n<p>[WARN] 2017-11-08 17:04:32,200 com.zaxxer.hikari.pool.HikariPool run - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m22s40ms97s73ns).</p>\n</blockquote>\n<p>And (90x):</p>\n<blockquote>\n<p>[WARN] 2017-11-08 17:04:35,438 com.zaxxer.hikari.pool.PoolBase isConnectionAlive - HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@2c365a2e (No operations allowed after connection closed.)</p>\n</blockquote>\n<p>Also:</p>\n<blockquote>\n<p>java.lang.OutOfMemoryError: GC overhead limit exceeded</p>\n</blockquote>\n<p>Also later on I got: <em>&quot;java.lang.OutOfMemoryError: Java heap space&quot;</em>, but only 760Mb was being used by the system.</p>\n<p>(Yes, there are a lot of errors, this is why it's hard for me to figure out how to fix it!)</p>\n<p>Any tips?</p>\n<p>I have set at <strong>setenv.sh</strong>:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>export CATALINA_OPTS=&quot;$CATALINA_OPTS -Xms512m&quot;\nexport CATALINA_OPTS=&quot;$CATALINA_OPTS -Xmx512m&quot;\nexport CATALINA_OPTS=&quot;$CATALINA_OPTS -server&quot;\n</code></pre>\n<p>When I verify the memory in use, shows:</p>\n<pre class=\"lang-none prettyprint-override\"><code>mysqld = 165.3 MiB\njava = 662.0 MiB\n</code></pre>\n<p>I'm using Hikari Connection Pool as below:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;property name=&quot;hibernate.hikari.maximumPoolSize&quot; value=&quot;200&quot; /&gt; \n&lt;property name=&quot;hibernate.hikari.idleTimeout&quot; value=&quot;30000&quot; /&gt; \n&lt;property name=&quot;hibernate.hikari.maxLifetime&quot; value=&quot;600000&quot; /&gt; \n&lt;property name=&quot;hibernate.hikari.dataSourceClassName&quot; value=&quot;com.mysql.jdbc.jdbc2.optional.MysqlDataSource&quot; /&gt;\n&lt;property name=&quot;hibernate.connection.provider_class&quot; value=&quot;org.hibernate.hikaricp.internal.HikariCPConnectionProvider&quot; /&gt;\n</code></pre>\n<p>MySQL max connections is set to 152.</p>\n<p>MySQL <strong>my.cnf</strong> settings:</p>\n<pre class=\"lang-none prettyprint-override\"><code>wait_timeout = 360\ninteractive_timeout = 420\n</code></pre>\n<p>The server is running in a DigitalOcean droplet with 1Gb Ram and 1 vCPU. What it's the best Tomcat + MySQL + Hikari configuration for this server?</p>\n<p>I removed the Xms512m and Xmx512m parameters and decreased the maximumPoolSize to 20 and after a few hours of the server running OK, I got:</p>\n<blockquote>\n<p>ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper - HikariPool-1\n- Connection is not available, request timed out after 30004ms. javax.persistence.PersistenceException: <br />\norg.hibernate.exception.JDBCConnectionException: Unable to acquire\nJDBC Connection <br />\nCaused by: org.hibernate.exception.JDBCConnectionException: Unable to\nacquire JDBC Connection</p>\n</blockquote>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":984212,"reputation":62352,"user_id":1003142,"display_name":"Konstantin Yovkov"},"score":0,"creation_date":1486975042,"post_id":42199723,"comment_id":71560922,"body_markdown":"&quot; when the string is positive ...&quot; ?","body":"&quot; when the string is positive ...&quot; ?"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1486975114,"post_id":42199723,"comment_id":71560953,"body_markdown":"Your question is unclear. You should note that you can&#39;t remove letters from a String in Java - you can only create a new string that has the letters that you want to keep.","body":"Your question is unclear. You should note that you can&#39;t remove letters from a String in Java - you can only create a new string that has the letters that you want to keep."},{"owner":{"account_id":9807414,"reputation":17,"user_id":7266700,"accept_rate":25,"display_name":"Supreme"},"score":0,"creation_date":1486975178,"post_id":42199723,"comment_id":71560983,"body_markdown":"Yes for example &quot;ABCDEF&quot; and the outcome would be just &quot;ABEF&quot;","body":"Yes for example &quot;ABCDEF&quot; and the outcome would be just &quot;ABEF&quot;"},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1486975207,"post_id":42199723,"comment_id":71560997,"body_markdown":"[`String String.substring(int[, int])`](https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#substring(int,%20int)) would help, let you read how it works since you are only asking how to do it...","body":"<a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#substring(int,%20int)\" rel=\"nofollow noreferrer\"><code>String String.substring(int[, int])</code></a> would help, let you read how it works since you are only asking how to do it..."},{"owner":{"account_id":272779,"reputation":5565,"user_id":564045,"accept_rate":78,"display_name":"PDStat"},"score":0,"creation_date":1486975607,"post_id":42199723,"comment_id":71561209,"body_markdown":"What happens with &quot;AB&quot; and &quot;ABCD&quot;?","body":"What happens with &quot;AB&quot; and &quot;ABCD&quot;?"},{"owner":{"account_id":9807414,"reputation":17,"user_id":7266700,"accept_rate":25,"display_name":"Supreme"},"score":0,"creation_date":1486975767,"post_id":42199723,"comment_id":71561294,"body_markdown":"@PaulStatham &quot;AB&quot; would be &quot;A&quot; and &quot;ABCD&quot; would be &quot;AD&quot;","body":"@PaulStatham &quot;AB&quot; would be &quot;A&quot; and &quot;ABCD&quot; would be &quot;AD&quot;"},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1486975774,"post_id":42199723,"comment_id":71561302,"body_markdown":"@PaulStatham, I would say in order &quot;&quot; and &quot;AD&quot; as it is said _And when the string has an even amount of letter, how to remove the two middles ones?_ EDIT : Supreme, then you are not following the requirement you gave ... &quot;AB&quot; as a even length so the two charater in the middle are &quot;AB&quot;","body":"@PaulStatham, I would say in order &quot;&quot; and &quot;AD&quot; as it is said <i>And when the string has an even amount of letter, how to remove the two middles ones?</i> EDIT : Supreme, then you are not following the requirement you gave ... &quot;AB&quot; as a even length so the two charater in the middle are &quot;AB&quot;"}],"answers":[{"tags":[],"owner":{"account_id":3037892,"reputation":723,"user_id":2575545,"accept_rate":76,"display_name":"Kartik Sharma"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1486975397,"creation_date":1486975397,"answer_id":42199830,"question_id":42199723,"body_markdown":"A String object is immutable in java. Although you can remove the middle by using a stringbuilder.\r\n\r\n    public static void main(String[] args) {\r\n        String string = &quot;ABCDE&quot;;\r\n        StringBuilder sb = new StringBuilder(string);\r\n        if(string.length() % 2 != 0)\r\n            sb.deleteCharAt(string.length()/2);\r\n        else{\r\n            int middle = string.length()/2 - 1;\r\n            sb.deleteCharAt(middle);\r\n            sb.deleteCharAt(middle);\r\n        }\r\n        string = sb.toString();  \r\n    }","title":"How to middle two characters in a string in java is even","body":"<p>A String object is immutable in java. Although you can remove the middle by using a stringbuilder.</p>\n\n<pre><code>public static void main(String[] args) {\n    String string = \"ABCDE\";\n    StringBuilder sb = new StringBuilder(string);\n    if(string.length() % 2 != 0)\n        sb.deleteCharAt(string.length()/2);\n    else{\n        int middle = string.length()/2 - 1;\n        sb.deleteCharAt(middle);\n        sb.deleteCharAt(middle);\n    }\n    string = sb.toString();  \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10221703,"reputation":11,"user_id":7545706,"display_name":"ajazahmed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1486977280,"creation_date":1486977280,"answer_id":42200409,"question_id":42199723,"body_markdown":"Also you can remove the middle by using StringBuffer and write simple easy \r\nCode below that.\r\n\r\n    public static void main(String[] args) {\r\n\t    String string = &quot;ABCDEFGHIJKLM&quot;;\r\n\t    StringBuffer sb = new StringBuffer(string);\r\n\t    \r\n\t    if(string.length() % 2 != 0) {\r\n\t    \tsb.deleteCharAt(string.length()/2);\r\n\t    }\r\n\t    \r\n\t    string = sb.toString();  \r\n\t    System.out.println(&quot;ans==&quot; +string);\r\n\t}","title":"How to middle two characters in a string in java is even","body":"<p>Also you can remove the middle by using StringBuffer and write simple easy \nCode below that.</p>\n\n<pre><code>public static void main(String[] args) {\n    String string = \"ABCDEFGHIJKLM\";\n    StringBuffer sb = new StringBuffer(string);\n\n    if(string.length() % 2 != 0) {\n        sb.deleteCharAt(string.length()/2);\n    }\n\n    string = sb.toString();  \n    System.out.println(\"ans==\" +string);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5781672,"reputation":3514,"user_id":6402939,"accept_rate":75,"display_name":"jitendra varshney"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486977627,"creation_date":1486977627,"answer_id":42200514,"question_id":42199723,"body_markdown":"you can take length at once so you can increase your performance , calculate length when you need .\r\n        \r\n    public static void main(String...args) {\r\n\t\tString s = &quot;ABCDEFGHIJKL&quot;;\r\n\t\tStringBuilder sb = new StringBuilder(s);\r\n\t\tint length = s.length();\r\n\t\tif(length%2==0){\r\n\t\t\tsb.deleteCharAt(length/2);\r\n\t\t\tsb.deleteCharAt(sb.length()/2);\r\n\t\t}else{\r\n\t\t\tsb.deleteCharAt(length/2);\r\n\t\t}\r\n\t\ts =sb.toString();\r\n\t}","title":"How to middle two characters in a string in java is even","body":"<p>you can take length at once so you can increase your performance , calculate length when you need .</p>\n\n<pre><code>public static void main(String...args) {\n    String s = \"ABCDEFGHIJKL\";\n    StringBuilder sb = new StringBuilder(s);\n    int length = s.length();\n    if(length%2==0){\n        sb.deleteCharAt(length/2);\n        sb.deleteCharAt(sb.length()/2);\n    }else{\n        sb.deleteCharAt(length/2);\n    }\n    s =sb.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6456733,"reputation":1883,"user_id":5404976,"accept_rate":50,"display_name":"Vinit Solanki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486977787,"creation_date":1486977787,"answer_id":42200557,"question_id":42199723,"body_markdown":"    public static void main(String args[]){\r\n\r\n        String str = &quot;ABCDEF&quot;;\r\n        System.out.println(&quot;string : &quot; + str);\r\n        StringBuilder sb = new StringBuilder(str);\r\n        int length= sb.length();\r\n        if(length%2 != 0) {\r\n            sb.deleteCharAt(length / 2);\r\n        }\r\n        else{\r\n            sb.deleteCharAt((length / 2)-1);\r\n            sb.deleteCharAt((length / 2)-1);\r\n        }\r\n        str = sb.toString();\r\n        System.out.println(&quot;string : &quot; + str);\r\n\r\n\r\n    }","title":"How to middle two characters in a string in java is even","body":"<pre><code>public static void main(String args[]){\n\n    String str = \"ABCDEF\";\n    System.out.println(\"string : \" + str);\n    StringBuilder sb = new StringBuilder(str);\n    int length= sb.length();\n    if(length%2 != 0) {\n        sb.deleteCharAt(length / 2);\n    }\n    else{\n        sb.deleteCharAt((length / 2)-1);\n        sb.deleteCharAt((length / 2)-1);\n    }\n    str = sb.toString();\n    System.out.println(\"string : \" + str);\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3350534,"reputation":32,"user_id":2814690,"display_name":"Doppa Srinivas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1542612017,"creation_date":1486977990,"answer_id":42200631,"question_id":42199723,"body_markdown":"This will solve your problem\r\n\r\n    public class Test{\r\n\r\n       public static void main(String[] args) {\r\n          String s = new String(&quot;ABCDf&quot;);\r\n          System.out.println(s);\r\n          int length = s.length();\r\n          int mid = length / 2;\r\n          s = (length % 2 != 0) ? (s.substring(0, mid) + s.substring(mid + 1, \r\n          s.length())) : (s.substring(0, mid - 1) + s.substring(mid + 1, s.length()));\r\n          System.out.println(s);\r\n      }\r\n\r\n    }","title":"How to middle two characters in a string in java is even","body":"<p>This will solve your problem</p>\n\n<pre><code>public class Test{\n\n   public static void main(String[] args) {\n      String s = new String(\"ABCDf\");\n      System.out.println(s);\n      int length = s.length();\n      int mid = length / 2;\n      s = (length % 2 != 0) ? (s.substring(0, mid) + s.substring(mid + 1, \n      s.length())) : (s.substring(0, mid - 1) + s.substring(mid + 1, s.length()));\n      System.out.println(s);\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2814449,"reputation":5714,"user_id":2419922,"accept_rate":72,"display_name":"cshu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486987822,"creation_date":1486979541,"answer_id":42201108,"question_id":42199723,"body_markdown":"    String str=&quot;ABCDEFGHIJKLM&quot;;\r\n    System.out.println(str.substring(0,(str.length()-1)/2)+str.substring(str.length()/2+1,str.length()));\r\n\r\n--\r\n\r\nExplanation: the objective is to get the start and end indexes of the removed character(s). `(str.length()-1)/2` is the start index and `str.length()/2+1` is the end index for the 1 or 2 characters in the middle. Use these 2 integers to find the two substrings for concatenation.","title":"How to middle two characters in a string in java is even","body":"<pre><code>String str=\"ABCDEFGHIJKLM\";\nSystem.out.println(str.substring(0,(str.length()-1)/2)+str.substring(str.length()/2+1,str.length()));\n</code></pre>\n\n<p>--</p>\n\n<p>Explanation: the objective is to get the start and end indexes of the removed character(s). <code>(str.length()-1)/2</code> is the start index and <code>str.length()/2+1</code> is the end index for the 1 or 2 characters in the middle. Use these 2 integers to find the two substrings for concatenation.</p>\n"},{"tags":[],"owner":{"account_id":27310322,"reputation":1,"user_id":20825574,"display_name":"Ellissa Safarova"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671559124,"creation_date":1671558945,"answer_id":74867060,"question_id":42199723,"body_markdown":"```System.out.println(word.charAt(length/2-1)+&quot;&quot;+word.charAt(length/2));```\r\n\r\nIf you want to use two charAt in SystemOut,  dont use just +, use +&quot;&quot;+.","title":"How to middle two characters in a string in java is even","body":"<p><code>System.out.println(word.charAt(length/2-1)+&quot;&quot;+word.charAt(length/2));</code></p>\n<p>If you want to use two charAt in SystemOut,  dont use just +, use +&quot;&quot;+.</p>\n"}],"owner":{"account_id":9807414,"reputation":17,"user_id":7266700,"accept_rate":25,"display_name":"Supreme"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7800,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"accepted_answer_id":42200631,"answer_count":7,"score":-3,"last_activity_date":1671559124,"creation_date":1486974999,"question_id":42199723,"body_markdown":"Given the String `&quot;ABCDEFGHIJKLM&quot;`, which contains an odd amount of letters, how can I remove the middle character? And when the string has an even amount of letter, how to remove the two middles ones?","title":"How to middle two characters in a string in java is even","body":"<p>Given the String <code>\"ABCDEFGHIJKLM\"</code>, which contains an odd amount of letters, how can I remove the middle character? And when the string has an even amount of letter, how to remove the two middles ones?</p>\n"},{"tags":["java","ibm-mq"],"comments":[{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":1,"creation_date":1671559383,"post_id":74866926,"comment_id":132123703,"body_markdown":"Queue manger group is how you world get around the two different names.   9.3 will not have a problem connecting to 9.1.  I would suggest you just have one channel entry in the json CCDT with two connection names listed.   Use one file for each application instance with the connection name order reversed so that each app instance prefers one queue manager of the other.   You then have a problem of how to fail the app server back once your queue manager recovers from a failure.","body":"Queue manger group is how you world get around the two different names.   9.3 will not have a problem connecting to 9.1.  I would suggest you just have one channel entry in the json CCDT with two connection names listed.   Use one file for each application instance with the connection name order reversed so that each app instance prefers one queue manager of the other.   You then have a problem of how to fail the app server back once your queue manager recovers from a failure."},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":1,"creation_date":1671559667,"post_id":74866926,"comment_id":132123787,"body_markdown":"One suggest is to run two instances of the app on each server each configured only to connect to one queue manager.   Each app server will have an instance pointed to each queue manager.  In this way if a queue manager crashes you will have two instances connected to the remaining queue manger and two instances trying to reconnect to the crashed queue manager.   When the queue manger recovers the app instances will reconnect. Similarly if one app server crashes you will still have an instance connected to each queue manger.","body":"One suggest is to run two instances of the app on each server each configured only to connect to one queue manager.   Each app server will have an instance pointed to each queue manager.  In this way if a queue manager crashes you will have two instances connected to the remaining queue manger and two instances trying to reconnect to the crashed queue manager.   When the queue manger recovers the app instances will reconnect. Similarly if one app server crashes you will still have an instance connected to each queue manger."},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":1,"creation_date":1671559807,"post_id":74866926,"comment_id":132123820,"body_markdown":"If you migrate your queue manger to 9.2 or later you could look at uniform clusters which will dynamically handle keeping the available clients balanced across the available queue managers.","body":"If you migrate your queue manger to 9.2 or later you could look at uniform clusters which will dynamically handle keeping the available clients balanced across the available queue managers."},{"owner":{"account_id":5070784,"reputation":47,"user_id":4069591,"display_name":"meteoriteliu"},"score":0,"creation_date":1671587621,"post_id":74866926,"comment_id":132129778,"body_markdown":"@JoshMc in uniform cluster, can a SUB be shared across QMs? in queue manager cluster, I have to define a cluster local queue in each QM and set it as SUB dest. how to do that with uniform cluster?","body":"@JoshMc in uniform cluster, can a SUB be shared across QMs? in queue manager cluster, I have to define a cluster local queue in each QM and set it as SUB dest. how to do that with uniform cluster?"},{"owner":{"account_id":5070784,"reputation":47,"user_id":4069591,"display_name":"meteoriteliu"},"score":0,"creation_date":1671624040,"post_id":74866926,"comment_id":132137833,"body_markdown":"@JoshMc this seems more of a problem for the topic-sub application. is there any config similar to &quot;aged timeout&quot;? which will discard established connection in a given interval","body":"@JoshMc this seems more of a problem for the topic-sub application. is there any config similar to &quot;aged timeout&quot;? which will discard established connection in a given interval"},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":1,"creation_date":1671678722,"post_id":74866926,"comment_id":132152089,"body_markdown":"The only thing close to what you mention may be DISCINT on the SVRCONN, but that won&#39;t disconnect a connection unless it is idle.  You can cluster studies in a uniform cluster or they could be a member of a larger overlapping cluster.","body":"The only thing close to what you mention may be DISCINT on the SVRCONN, but that won&#39;t disconnect a connection unless it is idle.  You can cluster studies in a uniform cluster or they could be a member of a larger overlapping cluster."},{"owner":{"account_id":5070784,"reputation":47,"user_id":4069591,"display_name":"meteoriteliu"},"score":0,"creation_date":1671687290,"post_id":74866926,"comment_id":132153156,"body_markdown":"@JoshMc noted, tons of thanks for your advise","body":"@JoshMc noted, tons of thanks for your advise"}],"owner":{"account_id":5070784,"reputation":47,"user_id":4069591,"display_name":"meteoriteliu"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671558264,"creation_date":1671558264,"question_id":74866926,"body_markdown":"I am looking for HA/LB solution for my java (spring-boot) application doing pub/sub messages through IBM MQ and have following questions on CCDT\r\n\r\n 1. given a queue manager cluster of 2 QMs, naming QM1 and QM2, can my application use CCDT to achieve some kind of HA? that is defined both QM1 &amp; QM2 in CCDT and if QM1 fails, application will automatically switch to QM2. the tricky part is QM1/2 have different names and in application property you can specify only one QM name. I found a document about [Queue manager groups](https://www.ibm.com/docs/en/ibm-mq/9.1?topic=table-queue-manager-groups-in-ccdt), is this right way to go?\r\n 2. how to achieve LB? say there is two instances of the application, and they are able to connect to different QMs by default\r\n 3. I understand that JSON format CCDT was introduced in IBM MQ after version 9.1.2. Since the CCDT file is for client-side usage, I wonder if I can use JSON format CCDT in a java application with latest version MQ library (v9.3.0) to connect to an earlier version of IBM MQ server (v9.1.0). provided that latest version MQ library has no problem connecting to v9.1.0 with connection properties set","title":"Questions on use of CCDT to connect to IBM MQ","body":"<p>I am looking for HA/LB solution for my java (spring-boot) application doing pub/sub messages through IBM MQ and have following questions on CCDT</p>\n<ol>\n<li>given a queue manager cluster of 2 QMs, naming QM1 and QM2, can my application use CCDT to achieve some kind of HA? that is defined both QM1 &amp; QM2 in CCDT and if QM1 fails, application will automatically switch to QM2. the tricky part is QM1/2 have different names and in application property you can specify only one QM name. I found a document about <a href=\"https://www.ibm.com/docs/en/ibm-mq/9.1?topic=table-queue-manager-groups-in-ccdt\" rel=\"nofollow noreferrer\">Queue manager groups</a>, is this right way to go?</li>\n<li>how to achieve LB? say there is two instances of the application, and they are able to connect to different QMs by default</li>\n<li>I understand that JSON format CCDT was introduced in IBM MQ after version 9.1.2. Since the CCDT file is for client-side usage, I wonder if I can use JSON format CCDT in a java application with latest version MQ library (v9.3.0) to connect to an earlier version of IBM MQ server (v9.1.0). provided that latest version MQ library has no problem connecting to v9.1.0 with connection properties set</li>\n</ol>\n"},{"tags":["java","android","broadcastreceiver","geofence"],"answers":[{"tags":[],"owner":{"account_id":8967184,"reputation":570,"user_id":9305266,"display_name":"Manish Ahire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671540291,"creation_date":1671528312,"answer_id":74860886,"question_id":74858942,"body_markdown":"\r\nUsing LocalBroadcastManager, we may transfer data from onReceive to another activity.\r\n\r\n\r\n```\r\n@Override\r\n    public void onReceive(Context context, Intent intent) { \r\n                Bundle extras = intent.getExtras();\r\n                Intent intent = new Intent(&quot;broadCastName&quot;);  //new Intent(context, ReceiveText.class);\r\n                // Data you need to pass to another activity\r\n                intent .putExtra(&quot;message&quot;, extras.getString(Config.MESSAGE_KEY)); \r\n                context.sendBroadcast(intent );\r\n    } \r\n\r\n```","title":"How to transfer Geofence transition values from broadcast receiver to my main activity","body":"<p>Using LocalBroadcastManager, we may transfer data from onReceive to another activity.</p>\n<pre><code>@Override\n    public void onReceive(Context context, Intent intent) { \n                Bundle extras = intent.getExtras();\n                Intent intent = new Intent(&quot;broadCastName&quot;);  //new Intent(context, ReceiveText.class);\n                // Data you need to pass to another activity\n                intent .putExtra(&quot;message&quot;, extras.getString(Config.MESSAGE_KEY)); \n                context.sendBroadcast(intent );\n    } \n\n</code></pre>\n"}],"owner":{"account_id":27304023,"reputation":1,"user_id":20820275,"display_name":"Yuanismo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671558112,"creation_date":1671515203,"question_id":74858942,"body_markdown":"I&#39;m working on a feature in my app that moves a marker to a certain latlng when the user exits the geofence.\r\n\r\nSend the broadcast received data to any activity\r\n\r\n```\r\n\r\npublic class GeofenceBroadcastReceiver extends BroadcastReceiver {\r\n\r\n    private static final String TAG = &quot;GeofenceBroadcastReceiver&quot;;\r\n\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        // TODO: This method is called when the BroadcastReceiver is receiving\r\n        // an Intent broadcast.\r\n//        Toast.makeText(context, &quot;Geofence triggered...&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n        NotificationHelper notificationHelper = new NotificationHelper(context);\r\n\r\n        GeofencingEvent geofencingEvent = GeofencingEvent.fromIntent(intent);\r\n\r\n        if (geofencingEvent.hasError()) {\r\n            Log.d(TAG, &quot;onReceive: Error receiving geofence event...&quot;);\r\n            return;\r\n        }\r\n\r\n        List&lt;Geofence&gt; geofenceList = geofencingEvent.getTriggeringGeofences();\r\n        for (Geofence geofence: geofenceList) {\r\n            Log.d(TAG, &quot;onReceive: &quot; + geofence.getRequestId());\r\n        }\r\n//        Location location = geofencingEvent.getTriggeringLocation();\r\n        int transitionType = geofencingEvent.getGeofenceTransition();\r\n\r\n\r\n        switch (transitionType) {\r\n            case Geofence.GEOFENCE_TRANSITION_ENTER:\r\n                Toast.makeText(context, &quot;You are near the drop off location.&quot;, Toast.LENGTH_SHORT).show();\r\n                notificationHelper.sendHighPriorityNotification(&quot;You are near the drop off location&quot;, &quot;&quot;, Home.class);\r\n                break;\r\n            case Geofence.GEOFENCE_TRANSITION_DWELL:\r\n                Toast.makeText(context, &quot;Pickup/Drop off Location reached.&quot;, Toast.LENGTH_SHORT).show();\r\n                notificationHelper.sendHighPriorityNotification(&quot;Pickup/Drop off Location reached.&quot;, &quot;&quot;, Home.class);\r\n                break;\r\n            case Geofence.GEOFENCE_TRANSITION_EXIT:\r\n                Toast.makeText(context, &quot;Leaving Pickup/Drop off point.&quot;, Toast.LENGTH_SHORT).show();\r\n                notificationHelper.sendHighPriorityNotification(&quot;Leaving Pickup/Drop off point.&quot;, &quot;&quot;, Home.class);\r\n                break;\r\n        }\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nI tried using intents but failed due to me being a beginner.","title":"How to transfer Geofence transition values from broadcast receiver to my main activity","body":"<p>I'm working on a feature in my app that moves a marker to a certain latlng when the user exits the geofence.</p>\n<p>Send the broadcast received data to any activity</p>\n<pre><code>\npublic class GeofenceBroadcastReceiver extends BroadcastReceiver {\n\n    private static final String TAG = &quot;GeofenceBroadcastReceiver&quot;;\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        // TODO: This method is called when the BroadcastReceiver is receiving\n        // an Intent broadcast.\n//        Toast.makeText(context, &quot;Geofence triggered...&quot;, Toast.LENGTH_SHORT).show();\n\n        NotificationHelper notificationHelper = new NotificationHelper(context);\n\n        GeofencingEvent geofencingEvent = GeofencingEvent.fromIntent(intent);\n\n        if (geofencingEvent.hasError()) {\n            Log.d(TAG, &quot;onReceive: Error receiving geofence event...&quot;);\n            return;\n        }\n\n        List&lt;Geofence&gt; geofenceList = geofencingEvent.getTriggeringGeofences();\n        for (Geofence geofence: geofenceList) {\n            Log.d(TAG, &quot;onReceive: &quot; + geofence.getRequestId());\n        }\n//        Location location = geofencingEvent.getTriggeringLocation();\n        int transitionType = geofencingEvent.getGeofenceTransition();\n\n\n        switch (transitionType) {\n            case Geofence.GEOFENCE_TRANSITION_ENTER:\n                Toast.makeText(context, &quot;You are near the drop off location.&quot;, Toast.LENGTH_SHORT).show();\n                notificationHelper.sendHighPriorityNotification(&quot;You are near the drop off location&quot;, &quot;&quot;, Home.class);\n                break;\n            case Geofence.GEOFENCE_TRANSITION_DWELL:\n                Toast.makeText(context, &quot;Pickup/Drop off Location reached.&quot;, Toast.LENGTH_SHORT).show();\n                notificationHelper.sendHighPriorityNotification(&quot;Pickup/Drop off Location reached.&quot;, &quot;&quot;, Home.class);\n                break;\n            case Geofence.GEOFENCE_TRANSITION_EXIT:\n                Toast.makeText(context, &quot;Leaving Pickup/Drop off point.&quot;, Toast.LENGTH_SHORT).show();\n                notificationHelper.sendHighPriorityNotification(&quot;Leaving Pickup/Drop off point.&quot;, &quot;&quot;, Home.class);\n                break;\n        }\n\n    }\n\n\n}\n\n</code></pre>\n<p>I tried using intents but failed due to me being a beginner.</p>\n"},{"tags":["java","android","android-workmanager"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1671559034,"post_id":74866904,"comment_id":132123591,"body_markdown":"AFAIK, `WorkManager` has no option for this, sorry.","body":"AFAIK, <code>WorkManager</code> has no option for this, sorry."},{"owner":{"account_id":14057281,"reputation":143,"user_id":10154279,"display_name":"Stefan"},"score":0,"creation_date":1671559440,"post_id":74866904,"comment_id":132123722,"body_markdown":"@CommonsWare Is there any other way to accomplish this.","body":"@CommonsWare Is there any other way to accomplish this."},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1671560856,"post_id":74866904,"comment_id":132124140,"body_markdown":"I don&#39;t see it on the broadcast implicit `Intent` allowlist, but I expected to see it there. If the manifest-registered receiver is not working, then I do not have a good solution for you to find out about this event in the background.","body":"I don&#39;t see it on the broadcast implicit <code>Intent</code> allowlist, but I expected to see it there. If the manifest-registered receiver is not working, then I do not have a good solution for you to find out about this event in the background."},{"owner":{"account_id":14057281,"reputation":143,"user_id":10154279,"display_name":"Stefan"},"score":0,"creation_date":1671567209,"post_id":74866904,"comment_id":132126053,"body_markdown":"Ok, thanks. I will try to ask in a more general way again and hope to find a solution.","body":"Ok, thanks. I will try to ask in a more general way again and hope to find a solution."}],"owner":{"account_id":14057281,"reputation":143,"user_id":10154279,"display_name":"Stefan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671558111,"creation_date":1671558111,"question_id":74866904,"body_markdown":"I&#39;m trying to set up an Android Work Manager in Java which is triggered every Time the screen gets unlocked.\r\n\r\nWith Android &lt;= 8 it was possible to use the Broadcast service and define the triggers in the manifest.xml like shown [here][1]\r\n\r\nHowever, I could not find any information on how to listen to such events like screen unlocked (android.intent.action.USER_PRESENT) with the &quot;new&quot; Work Manager.\r\n\r\n  [1]: https://developer.android.com/guide/components/broadcasts#manifest-declared-receivers","title":"How to set a Work Manager to listen to an unlock screen event (android.intent.action.USER_PRESENT)","body":"<p>I'm trying to set up an Android Work Manager in Java which is triggered every Time the screen gets unlocked.</p>\n<p>With Android &lt;= 8 it was possible to use the Broadcast service and define the triggers in the manifest.xml like shown <a href=\"https://developer.android.com/guide/components/broadcasts#manifest-declared-receivers\" rel=\"nofollow noreferrer\">here</a></p>\n<p>However, I could not find any information on how to listen to such events like screen unlocked (android.intent.action.USER_PRESENT) with the &quot;new&quot; Work Manager.</p>\n"},{"tags":["java","android","onclicklistener"],"answers":[{"tags":[],"owner":{"account_id":25119674,"reputation":61,"user_id":18968173,"display_name":"Ghita Danut Dan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671304531,"creation_date":1671304531,"answer_id":74836800,"question_id":74836761,"body_markdown":"    @Override\r\n    public void onClick(View view) {\r\n        if (view.getId() == R.id.filterIcon) {\r\n            // codul care se executeaz c&#226;nd este apsat imaginea filterIcon\r\n        } else if (view.getId() == R.id.fab) {\r\n            // codul care se executeaz c&#226;nd este apsat imaginea fab\r\n        }\r\n    }\r\n\r\n","title":"How can I perform onClickListener on two object using interface in Android Studio?","body":"<pre><code>@Override\npublic void onClick(View view) {\n    if (view.getId() == R.id.filterIcon) {\n        // codul care se executeaz cnd este apsat imaginea filterIcon\n    } else if (view.getId() == R.id.fab) {\n        // codul care se executeaz cnd este apsat imaginea fab\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22804601,"reputation":53,"user_id":16956797,"display_name":"Shagor jhon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671558072,"creation_date":1671327426,"answer_id":74838607,"question_id":74836761,"body_markdown":"You could try this using Kotlin:\r\n\r\n```lang-kotlin\r\n@Override\r\npublic void onClick(View view) {\r\n    when (view.getId) {\r\n        R.id.filterIcon -&gt; {\r\n            //do something\r\n        }\r\n\r\n        R.id.fab -&gt; {\r\n            //do something\r\n        }\r\n    }\r\n}\r\n```","title":"How can I perform onClickListener on two object using interface in Android Studio?","body":"<p>You could try this using Kotlin:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Override\npublic void onClick(View view) {\n    when (view.getId) {\n        R.id.filterIcon -&gt; {\n            //do something\n        }\n\n        R.id.fab -&gt; {\n            //do something\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26845407,"reputation":19,"user_id":20431236,"display_name":"prabin chand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74836800,"answer_count":2,"score":0,"last_activity_date":1671558072,"creation_date":1671304161,"question_id":74836761,"body_markdown":"I have a Fragment class which extends `View.onClickListener` and I have implement _@overriden_ method i.e **onClick**.  \r\nI have 2 `imageView` which performs `onClickListener`.\r\n\r\n1. `filterIcon.setOnClickListener(this)`\r\n2. `fab.setOnClickListener(this)`\r\n\r\nAnd set both activities in _@overriden_ method i.e. **`onClick()`**.\r\n\r\nI want to know can this is possible that `onClickListener` will call the related `clickEvent`? If yes, how? If not, why?\r\n\r\nHere&#39;s my code :\r\n\r\n\r\n    public class ExpenseFragment extends Fragment implements View.OnClickListener {\r\n        private TextView totalExpenseTV;\r\n        private FloatingActionButton fab;\r\n        private RecyclerView recyclerView;\r\n        private ImageView filterIcon;\r\n        private PieChart pieChart;\r\n    \r\n        private Animation rotateForward, rotateBackward;\r\n    \r\n        private FirebaseRecyclerOptions&lt;ExpenseModel&gt; options;\r\n        private MyAdapter adapter;\r\n    \r\n        private int calendarImgClick = 0;\r\n        private int groceryClick = 0;\r\n        private int bikeClick = 0;\r\n        private int rentClick = 0;\r\n        private int foodsClick = 0;\r\n        private int beerClick = 0;\r\n        private int setCalClick = 0;\r\n    \r\n        private String whichCategorySelected = &quot;&quot;;\r\n        private String selectedDate;\r\n    \r\n        public void onViewCreated(@NonNull View attachInParentView, Bundle savedInstanceState) {\r\n            super.onViewCreated(attachInParentView, savedInstanceState);\r\n            findViewByIDS(attachInParentView);\r\n            setupRecyclerView();\r\n            fabAnimation();\r\n            fab.setOnClickListener(this);\r\n            filterIcon.setOnClickListener(this);\r\n            databaseListener();\r\n    \r\n    \r\n        }\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n            // Inflate the layout for this fragment\r\n            return inflater.inflate(R.layout.fragment_expense, container, false);\r\n        }\r\n    \r\n        @Override\r\n        public void onClick(View view) {\r\n            fab.startAnimation(rotateForward);\r\n            rotateForward.setAnimationListener(new Animation.AnimationListener() {\r\n                @Override\r\n                public void onAnimationStart(Animation animation) {\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onAnimationEnd(Animation animation) {\r\n                    addNote();\r\n                }\r\n    \r\n                @Override\r\n                public void onAnimationRepeat(Animation animation) {\r\n    \r\n                }\r\n            });\r\n            filterIcon.setBackgroundResource(R.drawable.filter_off);\r\n        }","title":"How can I perform onClickListener on two object using interface in Android Studio?","body":"<p>I have a Fragment class which extends <code>View.onClickListener</code> and I have implement <em>@overriden</em> method i.e <strong>onClick</strong>.<br />\nI have 2 <code>imageView</code> which performs <code>onClickListener</code>.</p>\n<ol>\n<li><code>filterIcon.setOnClickListener(this)</code></li>\n<li><code>fab.setOnClickListener(this)</code></li>\n</ol>\n<p>And set both activities in <em>@overriden</em> method i.e. <strong><code>onClick()</code></strong>.</p>\n<p>I want to know can this is possible that <code>onClickListener</code> will call the related <code>clickEvent</code>? If yes, how? If not, why?</p>\n<p>Here's my code :</p>\n<pre><code>public class ExpenseFragment extends Fragment implements View.OnClickListener {\n    private TextView totalExpenseTV;\n    private FloatingActionButton fab;\n    private RecyclerView recyclerView;\n    private ImageView filterIcon;\n    private PieChart pieChart;\n\n    private Animation rotateForward, rotateBackward;\n\n    private FirebaseRecyclerOptions&lt;ExpenseModel&gt; options;\n    private MyAdapter adapter;\n\n    private int calendarImgClick = 0;\n    private int groceryClick = 0;\n    private int bikeClick = 0;\n    private int rentClick = 0;\n    private int foodsClick = 0;\n    private int beerClick = 0;\n    private int setCalClick = 0;\n\n    private String whichCategorySelected = &quot;&quot;;\n    private String selectedDate;\n\n    public void onViewCreated(@NonNull View attachInParentView, Bundle savedInstanceState) {\n        super.onViewCreated(attachInParentView, savedInstanceState);\n        findViewByIDS(attachInParentView);\n        setupRecyclerView();\n        fabAnimation();\n        fab.setOnClickListener(this);\n        filterIcon.setOnClickListener(this);\n        databaseListener();\n\n\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        return inflater.inflate(R.layout.fragment_expense, container, false);\n    }\n\n    @Override\n    public void onClick(View view) {\n        fab.startAnimation(rotateForward);\n        rotateForward.setAnimationListener(new Animation.AnimationListener() {\n            @Override\n            public void onAnimationStart(Animation animation) {\n\n            }\n\n            @Override\n            public void onAnimationEnd(Animation animation) {\n                addNote();\n            }\n\n            @Override\n            public void onAnimationRepeat(Animation animation) {\n\n            }\n        });\n        filterIcon.setBackgroundResource(R.drawable.filter_off);\n    }\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9201,"page":791,"page_size":100}
