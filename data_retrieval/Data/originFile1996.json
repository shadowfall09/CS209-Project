{"items":[{"tags":["java","arrays","multidimensional-array","methods"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1632606344,"post_id":69330265,"comment_id":122539708,"body_markdown":"You are never passing the array to any other method. Since the array is defined as a method-local variable, other methods cannot access it, without it being passed","body":"You are never passing the array to any other method. Since the array is defined as a method-local variable, other methods cannot access it, without it being passed"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1632606715,"post_id":69330265,"comment_id":122539763,"body_markdown":"The obvious answer, especially for a method named &quot;create array&quot;, is to return the array you just made: `int[][] createArray(){...`","body":"The obvious answer, especially for a method named &quot;create array&quot;, is to return the array you just made: <code>int[][] createArray(){...</code>"}],"answers":[{"tags":[],"owner":{"account_id":6277659,"reputation":1147,"user_id":4879856,"accept_rate":100,"display_name":"Eldar B."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632606933,"creation_date":1632606674,"answer_id":69330303,"question_id":69330265,"body_markdown":"You&#39;re creating that array in the scope of the `createArray` method, that means that `myArray` is a defined variable only within that method. If you&#39;d like to use it in other methods, you can either define it inside the `main` method as the return value of `createArray` and pass it in each call: \r\n```\r\nint[][] myArray = createArray();\r\ncalculateVariables(myArray);\r\ncallArray(myArray);\r\n```\r\nor define it as a class field:\r\n```\r\nstatic int[][] myArray;\r\n\r\npublic static void main(String[] args) {\r\n    createArray();\r\n    calculateVariables();\r\n    callArray();\r\n}\r\n\r\npublic static void createArray(){\r\n    //... \r\n    myArray = new int[rows][columns];\r\n    //... \r\n}\r\n```","title":"Java - How to use an array in 1 method, in another or even multiple other methods?","body":"<p>You're creating that array in the scope of the <code>createArray</code> method, that means that <code>myArray</code> is a defined variable only within that method. If you'd like to use it in other methods, you can either define it inside the <code>main</code> method as the return value of <code>createArray</code> and pass it in each call:</p>\n<pre><code>int[][] myArray = createArray();\ncalculateVariables(myArray);\ncallArray(myArray);\n</code></pre>\n<p>or define it as a class field:</p>\n<pre><code>static int[][] myArray;\n\npublic static void main(String[] args) {\n    createArray();\n    calculateVariables();\n    callArray();\n}\n\npublic static void createArray(){\n    //... \n    myArray = new int[rows][columns];\n    //... \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632607097,"creation_date":1632606785,"answer_id":69330311,"question_id":69330265,"body_markdown":"There are two ways to do this:\r\n1. Make `myArray` a static field in your class, so every static method in the class can see it.\r\n2. Return `myArray` from the `createArray` method, store it in a local variable in `main`, and pass it as a parameter to each of the other methods.\r\n\r\ni.e.:\r\n```\r\nstatic int[][] createArray() { ... }\r\nstatic void calculateVariables(int[][] myArray) { ... }\r\n...\r\nint[][] myArray = createArray();\r\ncalculateVariables(myArray);\r\ncallArray(myArray);\r\n```\r\n\r\nOption 2 is far superior to option 1, as it:\r\n* makes it clear what data the functions depend on\r\n* prevents you calling `calculateVariables` without having created the array.\r\n* allows you to have many arrays used at once\r\n","title":"Java - How to use an array in 1 method, in another or even multiple other methods?","body":"<p>There are two ways to do this:</p>\n<ol>\n<li>Make <code>myArray</code> a static field in your class, so every static method in the class can see it.</li>\n<li>Return <code>myArray</code> from the <code>createArray</code> method, store it in a local variable in <code>main</code>, and pass it as a parameter to each of the other methods.</li>\n</ol>\n<p>i.e.:</p>\n<pre><code>static int[][] createArray() { ... }\nstatic void calculateVariables(int[][] myArray) { ... }\n...\nint[][] myArray = createArray();\ncalculateVariables(myArray);\ncallArray(myArray);\n</code></pre>\n<p>Option 2 is far superior to option 1, as it:</p>\n<ul>\n<li>makes it clear what data the functions depend on</li>\n<li>prevents you calling <code>calculateVariables</code> without having created the array.</li>\n<li>allows you to have many arrays used at once</li>\n</ul>\n"}],"owner":{"account_id":21062220,"reputation":101,"user_id":15480359,"display_name":"Ransome"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69330303,"answer_count":2,"score":-1,"last_activity_date":1632607097,"creation_date":1632606197,"question_id":69330265,"body_markdown":"I am trying to use the 2D array &quot;myArray&quot; which is created in the createArray method - in all other methods in the program. I looked over some other stack overflow answers similar to this, and nothing I have tried has worked. Every time I try to pass the array to the other methods, it is unresolved.\r\n\r\nHere is my code:\r\n\r\n    import java.lang.Math;\r\n    import java.util.Scanner;\r\n    \r\n    \r\n    public class RandomArray {\r\n    \r\n        public static void main(String[] args) {\r\n            createArray();\r\n            calculateVariables();\r\n            callArray();\r\n        }\r\n    \r\n        public static void createArray(){\r\n            Scanner scan = new Scanner(System.in);\r\n            System.out.print(&quot;Enter number of rows: &quot;);\r\n            int rows = scan.nextInt();\r\n            System.out.print(&quot;Enter number of columns: &quot;);\r\n            int columns = scan.nextInt();\r\n    \r\n            int count = 0;\r\n            int[][] myArray = new int[rows][columns];\r\n    \r\n            for (int row = 0; row &lt; rows; row++) {\r\n                for (int col = 0; col &lt; columns; col++) {\r\n                    myArray[row][col] = (int) (Math.random() * 100);\r\n                    System.out.print(myArray[row][col] + &quot;\\t&quot;);\r\n    \r\n                    if (rows &gt; 0) {\r\n                        count++;\r\n                    }\r\n                }\r\n                System.out.println();\r\n                System.out.println();\r\n                System.out.println(&quot;The number of elements in the array: &quot; + count);\r\n            }\r\n        }\r\n        \r\n        public static void calculateVariables(){\r\n            int sum = 0;\r\n            int min = myArray[0][0];\r\n            int max = myArray[0][0];\r\n            int below50 = 0;\r\n    \r\n            for (int i = 0; i &lt; myArray.length; i++) {\r\n                for (int j = 0; j &lt; myArray.length; j++) {\r\n    \r\n                    if (max &lt; myArray[i][j]) {\r\n                        max = myArray[i][j];\r\n                    }\r\n    \r\n                    if (min &gt; myArray[i][j]) {\r\n                        min = myArray[i][j];\r\n                    }\r\n    \r\n                    sum = sum + myArray[i][j];\r\n    \r\n                    if (myArray[i][j] &lt; 50) {\r\n                        below50++;\r\n                    }\r\n                }\r\n    \r\n            }\r\n            System.out.println(&quot;The average number is: &quot; + sum / count);\r\n            System.out.println(&quot;the min is &quot; + min);\r\n            System.out.println(&quot;the max is &quot; + max);\r\n            System.out.println(&quot;the number of entries below 50 is: &quot; + below50);\r\n            System.out.println();\r\n            }\r\n            \r\n        public static void callArray(){\r\n            Scanner scan2 = new Scanner(System.in);\r\n            System.out.print(&quot;Enter a row number: &quot;);\r\n            int row1 = scan2.nextInt();\r\n            System.out.print(&quot;Enter a column number: &quot;);\r\n            int col1 = scan2.nextInt();\r\n    \r\n            if ((row1 &gt; myArray.length) &amp;&amp; (col1 &gt; myArray.length)) {\r\n                System.out.println(&quot;Sorry, I cant retrieve that value! You entered a bad index.&quot;);\r\n            }\r\n    \r\n            if ((row1 &lt; 0) &amp;&amp; (col1 &lt; 0)) {\r\n                System.out.println(&quot;Sorry, I cant retrieve that value! You entered a bad index.&quot;);\r\n            } else System.out.println(&quot;The entry at that row and column is: &quot; + myArray[row1][col1]);\r\n            }\r\n        }\r\n    }","title":"Java - How to use an array in 1 method, in another or even multiple other methods?","body":"<p>I am trying to use the 2D array &quot;myArray&quot; which is created in the createArray method - in all other methods in the program. I looked over some other stack overflow answers similar to this, and nothing I have tried has worked. Every time I try to pass the array to the other methods, it is unresolved.</p>\n<p>Here is my code:</p>\n<pre><code>import java.lang.Math;\nimport java.util.Scanner;\n\n\npublic class RandomArray {\n\n    public static void main(String[] args) {\n        createArray();\n        calculateVariables();\n        callArray();\n    }\n\n    public static void createArray(){\n        Scanner scan = new Scanner(System.in);\n        System.out.print(&quot;Enter number of rows: &quot;);\n        int rows = scan.nextInt();\n        System.out.print(&quot;Enter number of columns: &quot;);\n        int columns = scan.nextInt();\n\n        int count = 0;\n        int[][] myArray = new int[rows][columns];\n\n        for (int row = 0; row &lt; rows; row++) {\n            for (int col = 0; col &lt; columns; col++) {\n                myArray[row][col] = (int) (Math.random() * 100);\n                System.out.print(myArray[row][col] + &quot;\\t&quot;);\n\n                if (rows &gt; 0) {\n                    count++;\n                }\n            }\n            System.out.println();\n            System.out.println();\n            System.out.println(&quot;The number of elements in the array: &quot; + count);\n        }\n    }\n    \n    public static void calculateVariables(){\n        int sum = 0;\n        int min = myArray[0][0];\n        int max = myArray[0][0];\n        int below50 = 0;\n\n        for (int i = 0; i &lt; myArray.length; i++) {\n            for (int j = 0; j &lt; myArray.length; j++) {\n\n                if (max &lt; myArray[i][j]) {\n                    max = myArray[i][j];\n                }\n\n                if (min &gt; myArray[i][j]) {\n                    min = myArray[i][j];\n                }\n\n                sum = sum + myArray[i][j];\n\n                if (myArray[i][j] &lt; 50) {\n                    below50++;\n                }\n            }\n\n        }\n        System.out.println(&quot;The average number is: &quot; + sum / count);\n        System.out.println(&quot;the min is &quot; + min);\n        System.out.println(&quot;the max is &quot; + max);\n        System.out.println(&quot;the number of entries below 50 is: &quot; + below50);\n        System.out.println();\n        }\n        \n    public static void callArray(){\n        Scanner scan2 = new Scanner(System.in);\n        System.out.print(&quot;Enter a row number: &quot;);\n        int row1 = scan2.nextInt();\n        System.out.print(&quot;Enter a column number: &quot;);\n        int col1 = scan2.nextInt();\n\n        if ((row1 &gt; myArray.length) &amp;&amp; (col1 &gt; myArray.length)) {\n            System.out.println(&quot;Sorry, I cant retrieve that value! You entered a bad index.&quot;);\n        }\n\n        if ((row1 &lt; 0) &amp;&amp; (col1 &lt; 0)) {\n            System.out.println(&quot;Sorry, I cant retrieve that value! You entered a bad index.&quot;);\n        } else System.out.println(&quot;The entry at that row and column is: &quot; + myArray[row1][col1]);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","flutter","dart","mobile"],"answers":[{"tags":[],"owner":{"account_id":16877422,"reputation":265,"user_id":12204458,"display_name":"Fabi&#225;n Bardecio"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1632606300,"creation_date":1632606300,"answer_id":69330269,"question_id":69329386,"body_markdown":"I&#39;m gonna try to explain every required step, so bear with me.\r\n\r\nFirst, you have to create a new list, which will be the list of favorite strings\r\n\r\n      List&lt;String&gt; mainDataList = [\r\n        &quot;Apple&quot;,\r\n        &quot;Apricot&quot;,\r\n        &quot;Banana&quot;,\r\n        &quot;Blackberry&quot;,\r\n        &quot;Coconut&quot;,\r\n        &quot;Date&quot;,\r\n        &quot;Fig&quot;,\r\n        &quot;Gooseberry&quot;,\r\n        &quot;Grapes&quot;,\r\n        &quot;Lemon&quot;,\r\n        &quot;Litchi&quot;,\r\n        &quot;Mango&quot;,\r\n        &quot;Orange&quot;,\r\n        &quot;Papaya&quot;,\r\n        &quot;Peach&quot;,\r\n        &quot;Pineapple&quot;,\r\n        &quot;Pomegranate&quot;,\r\n        &quot;Starfruit&quot;\r\n      ];\r\n    \r\n      List&lt;String&gt; favoriteDataList = [];\r\n\r\nNow, as the body for your Scaffold, you have to add a TabBarView widgets, which contains a List of Widgets. The amount of widgets in this list, has to match with the amount of tabs that you have added in the TabBar, since, whenever you tap one of the tabs in it, it will move to the TabBarView&#39;s widgets that matchs the index.\r\n\r\nSo the body for your Scaffold should look something like this:\r\n\r\n    TabBarView(\r\n          children: [\r\n            ListView.builder(\r\n              itemCount: mainDataList.length,\r\n              itemBuilder: (context, index) {\r\n                return Card(\r\n                  child: Row(\r\n                    children: [\r\n                      Expanded(\r\n                        child: Padding(\r\n                          padding: const EdgeInsets.all(20.0),\r\n                          child: Text(\r\n                            mainDataList[index],\r\n                            style: const TextStyle(fontSize: 19.0),\r\n                          ),\r\n                        ),\r\n                      ),\r\n                      ElevatedButton(\r\n                        onPressed: () {\r\n                          setState(() {\r\n                            favoriteDataList.add(mainDataList[index]);\r\n                          });\r\n                        },\r\n                        style: ButtonStyle(\r\n                          backgroundColor: MaterialStateProperty.all&lt;Color&gt;(\r\n                            Colors.deepPurple,\r\n                          ),\r\n                        ),\r\n                        child: const Icon(\r\n                          Icons.favorite,\r\n                          color: Colors.white,\r\n                        ),\r\n                      ),\r\n                    ],\r\n                  ),\r\n                );\r\n              },\r\n            ),\r\n            favoriteDataList.isEmpty\r\n                ? const Center(\r\n                    child: Text(\r\n                      &#39;There are no favorites yet!&#39;,\r\n                      style: TextStyle(color: Colors.black),\r\n                    ),\r\n                  )\r\n                : ListView.builder(\r\n                    itemCount: favoriteDataList.length,\r\n                    itemBuilder: (context, index) {\r\n                      return Card(\r\n                        child: Row(\r\n                          children: [\r\n                            Expanded(\r\n                              child: Padding(\r\n                                padding: const EdgeInsets.all(20.0),\r\n                                child: Text(\r\n                                  favoriteDataList[index],\r\n                                  style: const TextStyle(fontSize: 19.0),\r\n                                ),\r\n                              ),\r\n                            ),\r\n                            ElevatedButton(\r\n                              onPressed: () {\r\n                                setState(() {\r\n                                  favoriteDataList\r\n                                      .remove(favoriteDataList[index]);\r\n                                });\r\n                              },\r\n                              style: ButtonStyle(\r\n                                backgroundColor:\r\n                                    MaterialStateProperty.all&lt;Color&gt;(\r\n                                  Colors.deepPurple,\r\n                                ),\r\n                              ),\r\n                              child: const Icon(\r\n                                Icons.remove,\r\n                                color: Colors.white,\r\n                              ),\r\n                            ),\r\n                          ],\r\n                        ),\r\n                      );\r\n                    },\r\n                  ),\r\n          ],\r\n        ),\r\n\r\nOf course, there is a lot of code there, I&#39;m gonna split it in parts to explain it better.\r\nAs you may see, first we have two Widgets inside the children of the TabBarView, first one is the one that you had, there are some differences, since I&#39;ve added a Row and inside it, a ElevatedButton, which will take care of adding the desired element to the favorite list:\r\n\r\n    ElevatedButton(\r\n        onPressed: () {\r\n            setState(() {\r\n            favoriteDataList.add(mainDataList[index]);\r\n            });\r\n        },\r\n        style: ButtonStyle(\r\n            backgroundColor: MaterialStateProperty.all&lt;Color&gt;(\r\n            Colors.deepPurple,\r\n            ),\r\n        ),\r\n        child: const Icon(\r\n            Icons.favorite,\r\n            color: Colors.white,\r\n        ),\r\n    ),\r\n\r\nSo, the important part of this button is the onPressed method, since you have built an StatefulWidget, we can tell that the state has been changed, using the setState method, it receives a function. Why do you need this? Because, you need a way to say the UI that the state has changed, so it has to rebuild.\r\nFor example, in an StatelessWidget, you don&#39;t have the setState method, so you won&#39;t be able to update the UI, without using some specifics Widgets or some specific state management solution (like [BLoC][1]).\r\nRight now, when the user press this favorite button, we are going to add the selected item from the mainDataList to the favoriteDataList, making use of the index of the element that we have just pressed. And as I mentioned before, since the state was changed, the UI will rebuilt, so when you tap the favorite Tab, you will see that the selected item has been added.\r\n\r\nThe ElevatedButton in the second tab view, has some small differences\r\n\r\n    ElevatedButton(\r\n        onPressed: () {\r\n        setState(() {\r\n            favoriteDataList\r\n                .remove(favoriteDataList[index]);\r\n        });\r\n        },\r\n        style: ButtonStyle(\r\n        backgroundColor:\r\n            MaterialStateProperty.all&lt;Color&gt;(\r\n            Colors.deepPurple,\r\n        ),\r\n        ),\r\n        child: const Icon(\r\n        Icons.remove,\r\n        color: Colors.white,\r\n        ),\r\n    ),\r\n\r\nApart from a different Icon, Instead of being adding elements, we want to remove them, so whenever we press the button, the item positioned in the same index, will be removed from the favoriteDataList.\r\n\r\nI have also used a ternary operator to display a widget if the favoriteDataList is not:\r\n\r\n    favoriteDataList.isEmpty\r\n        ? const Center(\r\n            child: Text(\r\n                &#39;There are no favorites yet!&#39;,\r\n                style: TextStyle(color: Colors.black),\r\n            ),\r\n            )\r\n        : ListView.builder(\r\n\r\nIf is empty we display the Center... and if is not, the ListView...\r\n\r\nAnd that&#39;s pretty much all, of course there some improvements to do on this code, for example, if you tap the same item in the first tab more than once, it will be added to the favorite list multiple times. But I think the example works, and you will be able to play with it and fix it!\r\n\r\nSorry for the long post, I hope it helps!\r\n\r\n  [1]: https://bloclibrary.dev/#/\r\n","title":"How i can add a saved items to favorite section in Flutter?","body":"<p>I'm gonna try to explain every required step, so bear with me.</p>\n<p>First, you have to create a new list, which will be the list of favorite strings</p>\n<pre><code>  List&lt;String&gt; mainDataList = [\n    &quot;Apple&quot;,\n    &quot;Apricot&quot;,\n    &quot;Banana&quot;,\n    &quot;Blackberry&quot;,\n    &quot;Coconut&quot;,\n    &quot;Date&quot;,\n    &quot;Fig&quot;,\n    &quot;Gooseberry&quot;,\n    &quot;Grapes&quot;,\n    &quot;Lemon&quot;,\n    &quot;Litchi&quot;,\n    &quot;Mango&quot;,\n    &quot;Orange&quot;,\n    &quot;Papaya&quot;,\n    &quot;Peach&quot;,\n    &quot;Pineapple&quot;,\n    &quot;Pomegranate&quot;,\n    &quot;Starfruit&quot;\n  ];\n\n  List&lt;String&gt; favoriteDataList = [];\n</code></pre>\n<p>Now, as the body for your Scaffold, you have to add a TabBarView widgets, which contains a List of Widgets. The amount of widgets in this list, has to match with the amount of tabs that you have added in the TabBar, since, whenever you tap one of the tabs in it, it will move to the TabBarView's widgets that matchs the index.</p>\n<p>So the body for your Scaffold should look something like this:</p>\n<pre><code>TabBarView(\n      children: [\n        ListView.builder(\n          itemCount: mainDataList.length,\n          itemBuilder: (context, index) {\n            return Card(\n              child: Row(\n                children: [\n                  Expanded(\n                    child: Padding(\n                      padding: const EdgeInsets.all(20.0),\n                      child: Text(\n                        mainDataList[index],\n                        style: const TextStyle(fontSize: 19.0),\n                      ),\n                    ),\n                  ),\n                  ElevatedButton(\n                    onPressed: () {\n                      setState(() {\n                        favoriteDataList.add(mainDataList[index]);\n                      });\n                    },\n                    style: ButtonStyle(\n                      backgroundColor: MaterialStateProperty.all&lt;Color&gt;(\n                        Colors.deepPurple,\n                      ),\n                    ),\n                    child: const Icon(\n                      Icons.favorite,\n                      color: Colors.white,\n                    ),\n                  ),\n                ],\n              ),\n            );\n          },\n        ),\n        favoriteDataList.isEmpty\n            ? const Center(\n                child: Text(\n                  'There are no favorites yet!',\n                  style: TextStyle(color: Colors.black),\n                ),\n              )\n            : ListView.builder(\n                itemCount: favoriteDataList.length,\n                itemBuilder: (context, index) {\n                  return Card(\n                    child: Row(\n                      children: [\n                        Expanded(\n                          child: Padding(\n                            padding: const EdgeInsets.all(20.0),\n                            child: Text(\n                              favoriteDataList[index],\n                              style: const TextStyle(fontSize: 19.0),\n                            ),\n                          ),\n                        ),\n                        ElevatedButton(\n                          onPressed: () {\n                            setState(() {\n                              favoriteDataList\n                                  .remove(favoriteDataList[index]);\n                            });\n                          },\n                          style: ButtonStyle(\n                            backgroundColor:\n                                MaterialStateProperty.all&lt;Color&gt;(\n                              Colors.deepPurple,\n                            ),\n                          ),\n                          child: const Icon(\n                            Icons.remove,\n                            color: Colors.white,\n                          ),\n                        ),\n                      ],\n                    ),\n                  );\n                },\n              ),\n      ],\n    ),\n</code></pre>\n<p>Of course, there is a lot of code there, I'm gonna split it in parts to explain it better.\nAs you may see, first we have two Widgets inside the children of the TabBarView, first one is the one that you had, there are some differences, since I've added a Row and inside it, a ElevatedButton, which will take care of adding the desired element to the favorite list:</p>\n<pre><code>ElevatedButton(\n    onPressed: () {\n        setState(() {\n        favoriteDataList.add(mainDataList[index]);\n        });\n    },\n    style: ButtonStyle(\n        backgroundColor: MaterialStateProperty.all&lt;Color&gt;(\n        Colors.deepPurple,\n        ),\n    ),\n    child: const Icon(\n        Icons.favorite,\n        color: Colors.white,\n    ),\n),\n</code></pre>\n<p>So, the important part of this button is the onPressed method, since you have built an StatefulWidget, we can tell that the state has been changed, using the setState method, it receives a function. Why do you need this? Because, you need a way to say the UI that the state has changed, so it has to rebuild.\nFor example, in an StatelessWidget, you don't have the setState method, so you won't be able to update the UI, without using some specifics Widgets or some specific state management solution (like <a href=\"https://bloclibrary.dev/#/\" rel=\"nofollow noreferrer\">BLoC</a>).\nRight now, when the user press this favorite button, we are going to add the selected item from the mainDataList to the favoriteDataList, making use of the index of the element that we have just pressed. And as I mentioned before, since the state was changed, the UI will rebuilt, so when you tap the favorite Tab, you will see that the selected item has been added.</p>\n<p>The ElevatedButton in the second tab view, has some small differences</p>\n<pre><code>ElevatedButton(\n    onPressed: () {\n    setState(() {\n        favoriteDataList\n            .remove(favoriteDataList[index]);\n    });\n    },\n    style: ButtonStyle(\n    backgroundColor:\n        MaterialStateProperty.all&lt;Color&gt;(\n        Colors.deepPurple,\n    ),\n    ),\n    child: const Icon(\n    Icons.remove,\n    color: Colors.white,\n    ),\n),\n</code></pre>\n<p>Apart from a different Icon, Instead of being adding elements, we want to remove them, so whenever we press the button, the item positioned in the same index, will be removed from the favoriteDataList.</p>\n<p>I have also used a ternary operator to display a widget if the favoriteDataList is not:</p>\n<pre><code>favoriteDataList.isEmpty\n    ? const Center(\n        child: Text(\n            'There are no favorites yet!',\n            style: TextStyle(color: Colors.black),\n        ),\n        )\n    : ListView.builder(\n</code></pre>\n<p>If is empty we display the Center... and if is not, the ListView...</p>\n<p>And that's pretty much all, of course there some improvements to do on this code, for example, if you tap the same item in the first tab more than once, it will be added to the favorite list multiple times. But I think the example works, and you will be able to play with it and fix it!</p>\n<p>Sorry for the long post, I hope it helps!</p>\n"}],"owner":{"account_id":15555741,"reputation":65,"user_id":11582172,"display_name":"Aleyna Eser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7537,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69330269,"answer_count":1,"score":3,"last_activity_date":1632606300,"creation_date":1632598362,"question_id":69329386,"body_markdown":"i am currently learning flutter and dart. I searched but couldn&#39;t find it.\r\n\r\nI want to put a favorite button next to the names in the list \r\nand\r\nwhen clicked on it, I just want it to sort the favorites on the other page.\r\n\r\nHere is my code:\r\n\r\n```\r\nimport &#39;package:flutter/material.dart&#39;;\r\n\r\nvoid main() =&gt; runApp(MyApp());\r\n\r\n\r\nclass MyApp extends StatelessWidget {\r\n  const MyApp({Key? key}) : super(key: key);\r\n  @override\r\n  Widget build(BuildContext context) {\r\n    return MaterialApp(\r\n      home: HomeScreen(),\r\n    );\r\n  }\r\n}\r\n\r\nclass HomeScreen extends StatefulWidget {\r\n  AnaEkran createState() =&gt; AnaEkran();\r\n}\r\n\r\n\r\nclass AnaEkran extends State&lt;HomeScreen&gt; {\r\n  static List&lt;String&gt; mainDataList = [\r\n    &quot;Apple&quot;,\r\n    &quot;Apricot&quot;,\r\n    &quot;Banana&quot;,\r\n    &quot;Blackberry&quot;,\r\n    &quot;Coconut&quot;,\r\n    &quot;Date&quot;,\r\n    &quot;Fig&quot;,\r\n    &quot;Gooseberry&quot;,\r\n    &quot;Grapes&quot;,\r\n    &quot;Lemon&quot;,\r\n    &quot;Litchi&quot;,\r\n    &quot;Mango&quot;,\r\n    &quot;Orange&quot;,\r\n    &quot;Papaya&quot;,\r\n    &quot;Peach&quot;,\r\n    &quot;Pineapple&quot;,\r\n    &quot;Pomegranate&quot;,\r\n    &quot;Starfruit&quot;\r\n  ];\r\n  @override\r\n  Widget build(BuildContext context) {\r\n    return DefaultTabController(\r\n      length: 2,\r\n      child: Scaffold(\r\n          appBar: AppBar(\r\n            title: Text(&#39;NickName Generator&#39;),\r\n            backgroundColor: Colors.deepPurple,\r\n            bottom: TabBar(\r\n              tabs: [\r\n                Tab(icon: Icon(Icons.article_rounded)),\r\n                Tab(icon: Icon(Icons.favorite)),\r\n              ],\r\n            ),\r\n          ),\r\n          body: ListView.builder(\r\n            itemCount: mainDataList.length,\r\n            itemBuilder: (context, index) {\r\n           return Card (\r\n             child: Padding(\r\n             padding: const EdgeInsets.all(20.0),\r\n                child: Text(mainDataList[index],style: TextStyle(fontSize: 19.0),),\r\n\r\n             ),\r\n\r\n        );\r\n       },\r\n      ),\r\n    ),\r\n    );\r\n  }\r\n}\r\n```\r\nAnd this is how it looks. The same list appears on the second page, but I only want the favorite words to be added there.\r\n\r\n[first screen ][1]\r\n\r\n[second screen][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zAMmA.png\r\n  [2]: https://i.stack.imgur.com/MiDer.png","title":"How i can add a saved items to favorite section in Flutter?","body":"<p>i am currently learning flutter and dart. I searched but couldn't find it.</p>\n<p>I want to put a favorite button next to the names in the list\nand\nwhen clicked on it, I just want it to sort the favorites on the other page.</p>\n<p>Here is my code:</p>\n<pre><code>import 'package:flutter/material.dart';\n\nvoid main() =&gt; runApp(MyApp());\n\n\nclass MyApp extends StatelessWidget {\n  const MyApp({Key? key}) : super(key: key);\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      home: HomeScreen(),\n    );\n  }\n}\n\nclass HomeScreen extends StatefulWidget {\n  AnaEkran createState() =&gt; AnaEkran();\n}\n\n\nclass AnaEkran extends State&lt;HomeScreen&gt; {\n  static List&lt;String&gt; mainDataList = [\n    &quot;Apple&quot;,\n    &quot;Apricot&quot;,\n    &quot;Banana&quot;,\n    &quot;Blackberry&quot;,\n    &quot;Coconut&quot;,\n    &quot;Date&quot;,\n    &quot;Fig&quot;,\n    &quot;Gooseberry&quot;,\n    &quot;Grapes&quot;,\n    &quot;Lemon&quot;,\n    &quot;Litchi&quot;,\n    &quot;Mango&quot;,\n    &quot;Orange&quot;,\n    &quot;Papaya&quot;,\n    &quot;Peach&quot;,\n    &quot;Pineapple&quot;,\n    &quot;Pomegranate&quot;,\n    &quot;Starfruit&quot;\n  ];\n  @override\n  Widget build(BuildContext context) {\n    return DefaultTabController(\n      length: 2,\n      child: Scaffold(\n          appBar: AppBar(\n            title: Text('NickName Generator'),\n            backgroundColor: Colors.deepPurple,\n            bottom: TabBar(\n              tabs: [\n                Tab(icon: Icon(Icons.article_rounded)),\n                Tab(icon: Icon(Icons.favorite)),\n              ],\n            ),\n          ),\n          body: ListView.builder(\n            itemCount: mainDataList.length,\n            itemBuilder: (context, index) {\n           return Card (\n             child: Padding(\n             padding: const EdgeInsets.all(20.0),\n                child: Text(mainDataList[index],style: TextStyle(fontSize: 19.0),),\n\n             ),\n\n        );\n       },\n      ),\n    ),\n    );\n  }\n}\n</code></pre>\n<p>And this is how it looks. The same list appears on the second page, but I only want the favorite words to be added there.</p>\n<p><a href=\"https://i.stack.imgur.com/zAMmA.png\" rel=\"nofollow noreferrer\">first screen </a></p>\n<p><a href=\"https://i.stack.imgur.com/MiDer.png\" rel=\"nofollow noreferrer\">second screen</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":12695174,"reputation":45172,"user_id":9223839,"display_name":"Joakim Danielson"},"score":1,"creation_date":1632585437,"post_id":69327714,"comment_id":122535295,"body_markdown":"You are reading 2 lines per iteration in your loop so my guess is that you have an odd number of lines in your file which means the last `sc.next()` expects the input to come from System.in instead.","body":"You are reading 2 lines per iteration in your loop so my guess is that you have an odd number of lines in your file which means the last <code>sc.next()</code> expects the input to come from System.in instead."},{"owner":{"account_id":22858044,"reputation":1,"user_id":17002597,"display_name":"Peter Kim"},"score":0,"creation_date":1632585780,"post_id":69327714,"comment_id":122535380,"body_markdown":"@JoakimDanielson I don&#39;t think that&#39;s the issue. It only goes through the first line then waits for input","body":"@JoakimDanielson I don&#39;t think that&#39;s the issue. It only goes through the first line then waits for input"},{"owner":{"account_id":14558761,"reputation":138,"user_id":10580922,"display_name":"Xammax"},"score":0,"creation_date":1632586020,"post_id":69327714,"comment_id":122535443,"body_markdown":"Is there a difference between\n\nSystem.out.print(wl.toString()); and \nSystem.out.println(s);","body":"Is there a difference between  System.out.print(wl.toString()); and  System.out.println(s);"},{"owner":{"account_id":22858044,"reputation":1,"user_id":17002597,"display_name":"Peter Kim"},"score":0,"creation_date":1632586618,"post_id":69327714,"comment_id":122535598,"body_markdown":"@Xammax Yes word ladder to string prints out the finished word ladder and the word ladder needs 2 strings for the constructor","body":"@Xammax Yes word ladder to string prints out the finished word ladder and the word ladder needs 2 strings for the constructor"},{"owner":{"account_id":12695174,"reputation":45172,"user_id":9223839,"display_name":"Joakim Danielson"},"score":0,"creation_date":1632588322,"post_id":69327714,"comment_id":122535978,"body_markdown":"Yes sorry, I misread the question somewhat. Maybe you need to do `sc.nextLine()` inside the loop.","body":"Yes sorry, I misread the question somewhat. Maybe you need to do <code>sc.nextLine()</code> inside the loop."}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632605976,"creation_date":1632605976,"answer_id":69330240,"question_id":69327714,"body_markdown":"I just tried your code and I have no issues unless I have a file with an odd number of Strings. In that case, I get the following error:\r\n```java\r\nException in thread &quot;main&quot; java.util.NoSuchElementException\r\n\tat java.base/java.util.Scanner.throwFor(Scanner.java:937)\r\n\tat java.base/java.util.Scanner.next(Scanner.java:1478)\r\n\tat Main.main(Main.java:19)\r\n```\r\n\r\nThis is expected since you are reading 2 Strings for each `sc.hasNext()`.\r\n\r\nSo it seems to me that the issue might be the content of your `input.txt` file.","title":"Why does my code keep waiting for user input","body":"<p>I just tried your code and I have no issues unless I have a file with an odd number of Strings. In that case, I get the following error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Exception in thread &quot;main&quot; java.util.NoSuchElementException\n    at java.base/java.util.Scanner.throwFor(Scanner.java:937)\n    at java.base/java.util.Scanner.next(Scanner.java:1478)\n    at Main.main(Main.java:19)\n</code></pre>\n<p>This is expected since you are reading 2 Strings for each <code>sc.hasNext()</code>.</p>\n<p>So it seems to me that the issue might be the content of your <code>input.txt</code> file.</p>\n"}],"owner":{"account_id":22858044,"reputation":1,"user_id":17002597,"display_name":"Peter Kim"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632605976,"creation_date":1632584731,"question_id":69327714,"body_markdown":"Ok so I have a text file like so \r\n\r\n**dears fears**\r\n\r\n**heart heart**\r\n\r\n**sail ruin**\r\n\r\n**etc**\r\n\r\nI&#39;m trying to run the scanner through each line so I can \r\ncreate a WordLadder object which requires the 2 strings in each line.\r\n```\r\ntry {\r\n   Scanner sc = new Scanner(new File(&quot;input.txt&quot;));\r\n   while (sc.hasNext()) {\r\n   String s = sc.next();\r\n   String s2 = sc.next();\r\n   WordLadder wl = new WordLadder(s, s2);\r\n   System.out.print(wl.toString());\r\n}\r\n}\r\ncatch (FileNotFoundException ex) \r\n   System.out.print(&quot;File not found&quot;);\r\n}\r\n```\r\nFor some reason, when I run the debugger, as far as I can tell, it runs through once then it waits for user input. It creates a word ladder with dears and fears and prints the solution for that word ladder. Then second loop it waits for user input instead of doing it again.\r\n\r\nI&#39;m thoroughly confused because when I do something like this\r\n\r\n```\r\ntry {\r\n   Scanner sc = new Scanner(new File(&quot;input.txt&quot;));\r\n   while (sc.hasNext()) {\r\n   String s = sc.next();\r\n   System.out.println(s);\r\n}\r\n}\r\ncatch (FileNotFoundException ex) \r\n{\r\n   System.out.print(&quot;File not found&quot;);\r\n}\r\n``` \r\n\r\nIt prints all the words. But any variation I tried of trying to put those words in a wordladder object it waits for user input. Any ideas?","title":"Why does my code keep waiting for user input","body":"<p>Ok so I have a text file like so</p>\n<p><strong>dears fears</strong></p>\n<p><strong>heart heart</strong></p>\n<p><strong>sail ruin</strong></p>\n<p><strong>etc</strong></p>\n<p>I'm trying to run the scanner through each line so I can\ncreate a WordLadder object which requires the 2 strings in each line.</p>\n<pre><code>try {\n   Scanner sc = new Scanner(new File(&quot;input.txt&quot;));\n   while (sc.hasNext()) {\n   String s = sc.next();\n   String s2 = sc.next();\n   WordLadder wl = new WordLadder(s, s2);\n   System.out.print(wl.toString());\n}\n}\ncatch (FileNotFoundException ex) \n   System.out.print(&quot;File not found&quot;);\n}\n</code></pre>\n<p>For some reason, when I run the debugger, as far as I can tell, it runs through once then it waits for user input. It creates a word ladder with dears and fears and prints the solution for that word ladder. Then second loop it waits for user input instead of doing it again.</p>\n<p>I'm thoroughly confused because when I do something like this</p>\n<pre><code>try {\n   Scanner sc = new Scanner(new File(&quot;input.txt&quot;));\n   while (sc.hasNext()) {\n   String s = sc.next();\n   System.out.println(s);\n}\n}\ncatch (FileNotFoundException ex) \n{\n   System.out.print(&quot;File not found&quot;);\n}\n</code></pre>\n<p>It prints all the words. But any variation I tried of trying to put those words in a wordladder object it waits for user input. Any ideas?</p>\n"},{"tags":["java","while-loop","do-while"],"answers":[{"tags":[],"owner":{"account_id":21379802,"reputation":188,"user_id":15745910,"display_name":"Flav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632605437,"creation_date":1632605437,"answer_id":69330189,"question_id":69330132,"body_markdown":"The input caught by the scanner is not reset when you get to the *else* clause. Adding `s.next();` before printing &#171;&#160;Invalid Input&#160;&#187; should solve your problem.","title":"Program that continues loop after invalid input?","body":"<p>The input caught by the scanner is not reset when you get to the <em>else</em> clause. Adding <code>s.next();</code> before printing « Invalid Input » should solve your problem.</p>\n"}],"owner":{"account_id":22859908,"reputation":3,"user_id":17004172,"display_name":"Preston Bearden"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69330189,"answer_count":1,"score":0,"last_activity_date":1632605437,"creation_date":1632604855,"question_id":69330132,"body_markdown":"I am trying to create a program that asks the user for an exponent and then takes the exponent and does the operation (e^exponent). If the user inputs a value that is not a double, the program prints &quot;Invalid input.&quot;, and continues asking for an exponent. However, I cannot get this code to work and when I type a non-double into the debugger it infinitely prints &quot;Enter exponent: Invalid input&quot;.\r\n\r\n    importjava.util.Scanner;\r\n    class loops{\r\n       public static void main(String[] args) {\r\n       double exponent;\r\n       Scanner s = new Scanner(System.in);\r\n       do {\r\n         System.out.print(&quot;Enter exponent: &quot;);\r\n         if(s.hasNextDouble()){\r\n            exponent = s.nextDouble();\r\n            double result;\r\n            result = Math.exp(exponent);\r\n            String x;\r\n            x = &quot;Result = &quot; + String.format(&quot;%.4f&quot;, result);\r\n            System.out.print(x);\r\n            System.out.print(&#39;\\n&#39;);\r\n            System.out.println();\r\n         }\r\n         else {\r\n            System.out.println(&quot;Invalid input.&quot;);\r\n         }\r\n      }while (true);\r\n\r\n\r\n\r\n","title":"Program that continues loop after invalid input?","body":"<p>I am trying to create a program that asks the user for an exponent and then takes the exponent and does the operation (e^exponent). If the user inputs a value that is not a double, the program prints &quot;Invalid input.&quot;, and continues asking for an exponent. However, I cannot get this code to work and when I type a non-double into the debugger it infinitely prints &quot;Enter exponent: Invalid input&quot;.</p>\n<pre><code>importjava.util.Scanner;\nclass loops{\n   public static void main(String[] args) {\n   double exponent;\n   Scanner s = new Scanner(System.in);\n   do {\n     System.out.print(&quot;Enter exponent: &quot;);\n     if(s.hasNextDouble()){\n        exponent = s.nextDouble();\n        double result;\n        result = Math.exp(exponent);\n        String x;\n        x = &quot;Result = &quot; + String.format(&quot;%.4f&quot;, result);\n        System.out.print(x);\n        System.out.print('\\n');\n        System.out.println();\n     }\n     else {\n        System.out.println(&quot;Invalid input.&quot;);\n     }\n  }while (true);\n</code></pre>\n"},{"tags":["java","arrays","sorting","quicksort"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":1,"creation_date":1632604737,"post_id":69330101,"comment_id":122539394,"body_markdown":"You&#39;ll want t show a [mcve] here.","body":"You&#39;ll want t show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> here."},{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1632604764,"post_id":69330101,"comment_id":122539400,"body_markdown":"Well, how long is the &quot;random array&quot;, and how is it generated?","body":"Well, how long is the &quot;random array&quot;, and how is it generated?"},{"owner":{"account_id":6163813,"reputation":31,"user_id":4804490,"display_name":"Swaginator09"},"score":0,"creation_date":1632605214,"post_id":69330101,"comment_id":122539485,"body_markdown":"@Mike&#39;Pomax&#39;Kamermans I&#39;ve added another output, and the rest of the code, thanks","body":"@Mike&#39;Pomax&#39;Kamermans I&#39;ve added another output, and the rest of the code, thanks"},{"owner":{"account_id":6163813,"reputation":31,"user_id":4804490,"display_name":"Swaginator09"},"score":0,"creation_date":1632605302,"post_id":69330101,"comment_id":122539507,"body_markdown":"@kaya3 At first it&#39;s whatever &quot;_SIZE&quot; is, and in the example it is 100000. So it should definitely not be that short. Additionally, the array sizes increase by a factor of 2^i, so n, 2n, 4, and 8n. And all of those look identical to the 0.009s. I&#39;ve added the array generation code.","body":"@kaya3 At first it&#39;s whatever &quot;_SIZE&quot; is, and in the example it is 100000. So it should definitely not be that short. Additionally, the array sizes increase by a factor of 2^i, so n, 2n, 4, and 8n. And all of those look identical to the 0.009s. I&#39;ve added the array generation code."},{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1632605743,"post_id":69330101,"comment_id":122539597,"body_markdown":"Well, the two cases you&#39;re comparing it against are the worst cases for your version of quicksort, since you consistently choose the pivot as the first element from the sub-array, so it will degrade to O(n^2) time.","body":"Well, the two cases you&#39;re comparing it against are the worst cases for your version of quicksort, since you consistently choose the pivot as the first element from the sub-array, so it will degrade to O(n^2) time."},{"owner":{"account_id":6163813,"reputation":31,"user_id":4804490,"display_name":"Swaginator09"},"score":0,"creation_date":1632606031,"post_id":69330101,"comment_id":122539649,"body_markdown":"@kaya3 My bad. I forgot to include that it also does this for the central pivot, median of 3, and random pivot.","body":"@kaya3 My bad. I forgot to include that it also does this for the central pivot, median of 3, and random pivot."},{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1632606879,"post_id":69330101,"comment_id":122539800,"body_markdown":"Well, nobody can suggest what might be causing the issue with those implementations since you didn&#39;t post any code for them. This is why you need to provide a [mcve].","body":"Well, nobody can suggest what might be causing the issue with those implementations since you didn&#39;t post any code for them. This is why you need to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":6163813,"reputation":31,"user_id":4804490,"display_name":"Swaginator09"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632605046,"creation_date":1632604600,"question_id":69330101,"body_markdown":"I&#39;m making a program that compares the times of 4 different types of sorts. Each sort uses a sorted array, a reverse sorted array, and a randomly filled array. The times for the sorted and reverse sorted look correct, but the randomly filled always returns &lt;0.01, no matter the input size. My main looks like this:\r\n```// left pivot\r\n\r\n        System.out.println(&quot;---------LEFT PIVOT----------\\n&quot;);\r\n\r\n        for (int i = 0; i &lt; 4; i++) {\r\n            int[][] a = makearrays((int) (_SIZE * Math.pow(2, i)));\r\n            System.out.println(&quot;SIZE: &quot; + _SIZE * Math.pow(2, i));\r\n            for (int k = 0; k &lt; 3; k++) {\r\n                long start = System.currentTimeMillis();\r\n                Sort.quicksort(a[k], 0, a[k].length - 1);\r\n                long end = System.currentTimeMillis();\r\n                long time = end - start;\r\n                System.out.println(&quot;Time for &quot; + types[k] + &quot;: &quot; + (time / 1000.0) + &quot; seconds.&quot;);\r\n                System.out.println();\r\n            }\r\n        }\r\n```\r\nWhere a[0] is the sorted, a[1] is the reverse sorted, and a[2] is the random sorted. Here&#39;s a sample of the output:\r\n\r\n```SIZE: 100000.0\r\nTime for SORTED ARRAY: 1.212 seconds.\r\n\r\nTime for REVERSE SORTED ARRAY: 5.226 seconds.\r\n\r\nTime for RANDOM ARRAY: 0.008 seconds.\r\n```\r\nOn another run, it outputs this:\r\n\r\n```\r\nTime for SORTED ARRAY: 1.19 seconds.\r\n\r\nTime for REVERSE SORTED ARRAY: 4.053 seconds.\r\n\r\nTime for RANDOM ARRAY: 0.009 seconds.\r\n```\r\n\r\nI printed the arrays before and after each sort, and can confirm the random array is completely random before the sort, and sorted after. Does anyone have any idea why it would be printing such a small time? Thanks.\r\n\r\nEdit:\r\nIn that example, I used the following:\r\n```\r\n        int _SIZE = 100000;\r\n```\r\n\r\nHere&#39;s how the arrays are generated:\r\n\r\n```\r\n    public static int[][] makearrays(int size) {\r\n        Random r = new Random();\r\n        int[][] a = new int[3][size];\r\n        for (int i = 0; i &lt; size; i++) {\r\n            a[0][i] = i;\r\n            a[1][i] = size - i - 1;\r\n            a[2][i] = r.nextInt(size);\r\n        }\r\n        return a;\r\n    }\r\n```\r\n\r\nAnd this is what my quicksort looks like:\r\n```\r\npublic static void quicksort(int[] arr, int l, int r) {\r\n        if (l &lt; r) {\r\n            int s = partition(arr, l, r);\r\n            quicksort(arr, l, s-1);\r\n            quicksort(arr, s+1, r);\r\n        } \r\n    }\r\n\r\n    public static int partition(int[] arr, int l, int r) {\r\n        int p=arr[l],i=l+1;\r\n\r\n        for (int j =l+1;j&lt;=r;j++) {\r\n            if (arr[j]&lt;p) {\r\n                int temp = arr[i];\r\n                arr[i] = arr[j];\r\n                arr[j] = temp;\r\n                i++;\r\n            }\r\n        }\r\n        \r\n        int temp = arr[l];\r\n        arr[l] = arr[i-1];\r\n        arr[i-1] = temp;\r\n        return i-1;\r\n    }\r\n```","title":"Why is my random array sorting in 0.001 seconds?","body":"<p>I'm making a program that compares the times of 4 different types of sorts. Each sort uses a sorted array, a reverse sorted array, and a randomly filled array. The times for the sorted and reverse sorted look correct, but the randomly filled always returns &lt;0.01, no matter the input size. My main looks like this:</p>\n<pre><code>\n        System.out.println(&quot;---------LEFT PIVOT----------\\n&quot;);\n\n        for (int i = 0; i &lt; 4; i++) {\n            int[][] a = makearrays((int) (_SIZE * Math.pow(2, i)));\n            System.out.println(&quot;SIZE: &quot; + _SIZE * Math.pow(2, i));\n            for (int k = 0; k &lt; 3; k++) {\n                long start = System.currentTimeMillis();\n                Sort.quicksort(a[k], 0, a[k].length - 1);\n                long end = System.currentTimeMillis();\n                long time = end - start;\n                System.out.println(&quot;Time for &quot; + types[k] + &quot;: &quot; + (time / 1000.0) + &quot; seconds.&quot;);\n                System.out.println();\n            }\n        }\n</code></pre>\n<p>Where a[0] is the sorted, a[1] is the reverse sorted, and a[2] is the random sorted. Here's a sample of the output:</p>\n<pre><code>Time for SORTED ARRAY: 1.212 seconds.\n\nTime for REVERSE SORTED ARRAY: 5.226 seconds.\n\nTime for RANDOM ARRAY: 0.008 seconds.\n</code></pre>\n<p>On another run, it outputs this:</p>\n<pre><code>Time for SORTED ARRAY: 1.19 seconds.\n\nTime for REVERSE SORTED ARRAY: 4.053 seconds.\n\nTime for RANDOM ARRAY: 0.009 seconds.\n</code></pre>\n<p>I printed the arrays before and after each sort, and can confirm the random array is completely random before the sort, and sorted after. Does anyone have any idea why it would be printing such a small time? Thanks.</p>\n<p>Edit:\nIn that example, I used the following:</p>\n<pre><code>        int _SIZE = 100000;\n</code></pre>\n<p>Here's how the arrays are generated:</p>\n<pre><code>    public static int[][] makearrays(int size) {\n        Random r = new Random();\n        int[][] a = new int[3][size];\n        for (int i = 0; i &lt; size; i++) {\n            a[0][i] = i;\n            a[1][i] = size - i - 1;\n            a[2][i] = r.nextInt(size);\n        }\n        return a;\n    }\n</code></pre>\n<p>And this is what my quicksort looks like:</p>\n<pre><code>public static void quicksort(int[] arr, int l, int r) {\n        if (l &lt; r) {\n            int s = partition(arr, l, r);\n            quicksort(arr, l, s-1);\n            quicksort(arr, s+1, r);\n        } \n    }\n\n    public static int partition(int[] arr, int l, int r) {\n        int p=arr[l],i=l+1;\n\n        for (int j =l+1;j&lt;=r;j++) {\n            if (arr[j]&lt;p) {\n                int temp = arr[i];\n                arr[i] = arr[j];\n                arr[j] = temp;\n                i++;\n            }\n        }\n        \n        int temp = arr[l];\n        arr[l] = arr[i-1];\n        arr[i-1] = temp;\n        return i-1;\n    }\n</code></pre>\n"},{"tags":["java","swi-prolog","jpl"],"comments":[{"owner":{"account_id":474651,"reputation":14676,"user_id":884463,"accept_rate":89,"display_name":"David Tonhofer"},"score":0,"creation_date":1613430793,"post_id":66216361,"comment_id":117068289,"body_markdown":"Is the initialization actually correct. According to [this page](https://github.com/ssardina-research/packages-jpl/wiki/Getting-Started---An-Example-Tutorial) you actually have to spell the term out (evidently laborious so it may well have changed): `Query q1 = new Query( &quot;consult&quot;, new Term[] {new Atom(&quot;test.pl&quot;)} );`","body":"Is the initialization actually correct. According to <a href=\"https://github.com/ssardina-research/packages-jpl/wiki/Getting-Started---An-Example-Tutorial\" rel=\"nofollow noreferrer\">this page</a> you actually have to spell the term out (evidently laborious so it may well have changed): <code>Query q1 = new Query( &quot;consult&quot;, new Term[] {new Atom(&quot;test.pl&quot;)} );</code>"},{"owner":{"account_id":474651,"reputation":14676,"user_id":884463,"accept_rate":89,"display_name":"David Tonhofer"},"score":0,"creation_date":1613431489,"post_id":66216361,"comment_id":117068460,"body_markdown":"Yes it works. But the thing is that `consult/1` _itself_ is happy with a bad file. It succeeds! Interesting.","body":"Yes it works. But the thing is that <code>consult&#47;1</code> <i>itself</i> is happy with a bad file. It succeeds! Interesting."},{"owner":{"account_id":474651,"reputation":14676,"user_id":884463,"accept_rate":89,"display_name":"David Tonhofer"},"score":0,"creation_date":1613432369,"post_id":66216361,"comment_id":117068709,"body_markdown":"But I don&#39;t know how to solve it. How do you make Prolog fail if the file contains errors (and best transactionally _not_ assert any rules from that file?)","body":"But I don&#39;t know how to solve it. How do you make Prolog fail if the file contains errors (and best transactionally <i>not</i> assert any rules from that file?)"},{"owner":{"account_id":10934332,"reputation":31,"user_id":8036540,"display_name":"Nikos Spanoudakis"},"score":1,"creation_date":1613482093,"post_id":66216361,"comment_id":117083452,"body_markdown":"I managed to solve it by redirecting output to a file when executing the java code and then by opening the file and searching the last instance of the filename (e.g. test.pl). However this can be problematic because a) output files can get very large, thus degrading performance and b) I want to do this from a spring boot restful service...","body":"I managed to solve it by redirecting output to a file when executing the java code and then by opening the file and searching the last instance of the filename (e.g. test.pl). However this can be problematic because a) output files can get very large, thus degrading performance and b) I want to do this from a spring boot restful service..."},{"owner":{"account_id":474651,"reputation":14676,"user_id":884463,"accept_rate":89,"display_name":"David Tonhofer"},"score":0,"creation_date":1613484628,"post_id":66216361,"comment_id":117084622,"body_markdown":"Maybe there is a Prolog linter which can be applied to the file-to-be-loaded first. If it coughs, put the file aside. On a different, it sounds like you are trying to implement a REST-based protocol fronting a Prolog Engine? Have you taken a look at [Pengines](https://eu.swi-prolog.org/pldoc/doc_for?object=section(%27packages/pengines.html%27)) which provides a HTTP protocol (stateful, as pure statelessness doesn&#39;t do).","body":"Maybe there is a Prolog linter which can be applied to the file-to-be-loaded first. If it coughs, put the file aside. On a different, it sounds like you are trying to implement a REST-based protocol fronting a Prolog Engine? Have you taken a look at <a href=\"https://eu.swi-prolog.org/pldoc/doc_for?object=section(%27packages/pengines.html%27)\" rel=\"nofollow noreferrer\">Pengines</a> which provides a HTTP protocol (stateful, as pure statelessness doesn&#39;t do)."},{"owner":{"account_id":10934332,"reputation":31,"user_id":8036540,"display_name":"Nikos Spanoudakis"},"score":0,"creation_date":1613582032,"post_id":66216361,"comment_id":117121261,"body_markdown":"Thank you @DavidTonhofer, however I want a Java solution... Do you think there is one? Pengines is a completely different architecture... This is about JPL...","body":"Thank you @DavidTonhofer, however I want a Java solution... Do you think there is one? Pengines is a completely different architecture... This is about JPL..."}],"answers":[{"tags":[],"owner":{"account_id":10934332,"reputation":31,"user_id":8036540,"display_name":"Nikos Spanoudakis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632604642,"creation_date":1632491373,"answer_id":69316148,"question_id":66216361,"body_markdown":"It finally occurred to me to try to use the terminal to get the error or warning messages. I used the Java Runtime class to execute swipl.exe with the file in question as parameter. Needed a little processing of the output but it worked fine. The following block of code demonstrates the solution:\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;  \r\n    import java.io.InputStreamReader;\r\n\r\n    public class TestCMD {\r\n\r\n        public static void main(String[] args) {\r\n            try {\r\n                String userProjectPath = &quot;Path to the folder of your file, e.g. E:\\\\&quot;;\r\n                String userFilename = &quot;Your file name, e.g. test.pl&quot;;\r\n                Process p = Runtime.getRuntime().exec(&quot;\\&quot;Path to swipl.exe, e.g. C:\\\\Program Files\\\\swipl\\\\bin\\\\swipl.exe\\&quot; -o /dev/null -c &quot; + userProjectPath + userFilename);\r\n                p.waitFor();\r\n                BufferedReader reader = new BufferedReader(new InputStreamReader(p.getErrorStream()));\r\n                String line;\r\n                while ((line = reader.readLine()) != null) {\r\n                    System.out.println(line);\r\n                }\r\n            } catch (IOException e1) {\r\n                e1.printStackTrace();\r\n            } catch (InterruptedException e2) {\r\n                e2.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nThis solution is also given at my [blog][1].\r\n\r\n\r\n  [1]: https://siteblog.tuc.gr/nispanoudakis/2021/09/24/retrieving-error-messages-from-swi-prolog-using-java/","title":"Retrieving ERROR messages from SWI-Prolog using Java and JPL","body":"<p>It finally occurred to me to try to use the terminal to get the error or warning messages. I used the Java Runtime class to execute swipl.exe with the file in question as parameter. Needed a little processing of the output but it worked fine. The following block of code demonstrates the solution:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;  \nimport java.io.InputStreamReader;\n\npublic class TestCMD {\n\n    public static void main(String[] args) {\n        try {\n            String userProjectPath = &quot;Path to the folder of your file, e.g. E:\\\\&quot;;\n            String userFilename = &quot;Your file name, e.g. test.pl&quot;;\n            Process p = Runtime.getRuntime().exec(&quot;\\&quot;Path to swipl.exe, e.g. C:\\\\Program Files\\\\swipl\\\\bin\\\\swipl.exe\\&quot; -o /dev/null -c &quot; + userProjectPath + userFilename);\n            p.waitFor();\n            BufferedReader reader = new BufferedReader(new InputStreamReader(p.getErrorStream()));\n            String line;\n            while ((line = reader.readLine()) != null) {\n                System.out.println(line);\n            }\n        } catch (IOException e1) {\n            e1.printStackTrace();\n        } catch (InterruptedException e2) {\n            e2.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>This solution is also given at my <a href=\"https://siteblog.tuc.gr/nispanoudakis/2021/09/24/retrieving-error-messages-from-swi-prolog-using-java/\" rel=\"nofollow noreferrer\">blog</a>.</p>\n"}],"owner":{"account_id":10934332,"reputation":31,"user_id":8036540,"display_name":"Nikos Spanoudakis"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69316148,"answer_count":1,"score":3,"last_activity_date":1632604642,"creation_date":1613429100,"question_id":66216361,"body_markdown":"When I use JPL (from JavaSE 1.8), Prolog (SWI-Prolog version 8.2.2) can return an error message without throwing an exception. E.g. when using consult and the file has errors:\r\n\r\n    import org.jpl7.Query;\r\n    \r\n    public class Test {\r\n      public static void main(String[] args) {\r\n        try {\r\n          String t1 = &quot;consult(&#39;test.pl&#39;)&quot;;\r\n          Query q1 = new Query(t1);\r\n          q1.hasNext();\r\n        } catch (Exception e) {\r\n          e.printStackTrace();\r\n        }\r\n      }\r\n    }\r\n\r\nI get the output at the console:\r\n\r\n    ERROR: test.pl:1:23: Syntax error: Unexpected end of file\r\n\r\nBut no exception is thrown. Therefore my Java program cannot know that the consulted file has errors. The file *test.pl* that I used in this simple example only contains a simple predicate with a syntactical error:\r\n\r\n    brother(mike, stella)..\r\n\r\nWhat can I do so that my Java program can catch this error? A [post][1] with a similar title doesn&#39;t seem to resolve this issue...\r\n\r\nMaybe I can use a syntactical checking method either from JPL, or another source, any concrete ideas?\r\n\r\n  [1]: https://stackoverflow.com/questions/11608867/retrieving-error-and-warning-messages-from-swi-prolog-through-jpl","title":"Retrieving ERROR messages from SWI-Prolog using Java and JPL","body":"<p>When I use JPL (from JavaSE 1.8), Prolog (SWI-Prolog version 8.2.2) can return an error message without throwing an exception. E.g. when using consult and the file has errors:</p>\n<pre><code>import org.jpl7.Query;\n\npublic class Test {\n  public static void main(String[] args) {\n    try {\n      String t1 = &quot;consult('test.pl')&quot;;\n      Query q1 = new Query(t1);\n      q1.hasNext();\n    } catch (Exception e) {\n      e.printStackTrace();\n    }\n  }\n}\n</code></pre>\n<p>I get the output at the console:</p>\n<pre><code>ERROR: test.pl:1:23: Syntax error: Unexpected end of file\n</code></pre>\n<p>But no exception is thrown. Therefore my Java program cannot know that the consulted file has errors. The file <em>test.pl</em> that I used in this simple example only contains a simple predicate with a syntactical error:</p>\n<pre><code>brother(mike, stella)..\n</code></pre>\n<p>What can I do so that my Java program can catch this error? A <a href=\"https://stackoverflow.com/questions/11608867/retrieving-error-and-warning-messages-from-swi-prolog-through-jpl\">post</a> with a similar title doesn't seem to resolve this issue...</p>\n<p>Maybe I can use a syntactical checking method either from JPL, or another source, any concrete ideas?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1632603500,"post_id":69329964,"comment_id":122539118,"body_markdown":"You are not changing the values in `highScores` in any way.","body":"You are not changing the values in <code>highScores</code> in any way."},{"owner":{"account_id":21441751,"reputation":19,"user_id":15796180,"display_name":"alex quintanilla"},"score":0,"creation_date":1632603930,"post_id":69329964,"comment_id":122539226,"body_markdown":"@Progman no I&#39;m not changing the scores. There is a test case open with values already given to me and a threshold. My loop needs to check each score in the array and return true or false for any that doesn&#39;t meet the threshold","body":"@Progman no I&#39;m not changing the scores. There is a test case open with values already given to me and a threshold. My loop needs to check each score in the array and return true or false for any that doesn&#39;t meet the threshold"},{"owner":{"account_id":22662393,"reputation":1978,"user_id":16835308,"display_name":"Zakk"},"score":0,"creation_date":1632604062,"post_id":69329964,"comment_id":122539259,"body_markdown":"@alexquintanilla Mark as accepted answer if it solved your problem.","body":"@alexquintanilla Mark as accepted answer if it solved your problem."},{"owner":{"account_id":21441751,"reputation":19,"user_id":15796180,"display_name":"alex quintanilla"},"score":1,"creation_date":1632604508,"post_id":69329964,"comment_id":122539348,"body_markdown":"@Zakk you&#39;re awesome thank you!","body":"@Zakk you&#39;re awesome thank you!"}],"answers":[{"tags":[],"owner":{"account_id":22662393,"reputation":1978,"user_id":16835308,"display_name":"Zakk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632603965,"creation_date":1632603965,"answer_id":69330038,"question_id":69329964,"body_markdown":"Simply assign the value of `scores[i] &gt; threshold` to your bool array:\r\n\r\n``` lang-java\r\nboolean[] highScores = new boolean[scores.length];\r\n\r\nfor (int i = 0; i &lt; highScores.length; i++)\r\n    highScores[i] = scores[i] &gt; threshold;\r\n```","title":"Using a loop to check each element in an array and return true or false","body":"<p>Simply assign the value of <code>scores[i] &gt; threshold</code> to your bool array:</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean[] highScores = new boolean[scores.length];\n\nfor (int i = 0; i &lt; highScores.length; i++)\n    highScores[i] = scores[i] &gt; threshold;\n</code></pre>\n"}],"owner":{"account_id":21441751,"reputation":19,"user_id":15796180,"display_name":"alex quintanilla"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":644,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69330038,"answer_count":1,"score":0,"last_activity_date":1632604633,"creation_date":1632603350,"question_id":69329964,"body_markdown":"I&#39;m trying to write a loop that checks each element in an array that contains test scores. If the test score meets the threshold then it should return true or false in that location. Here&#39;s the code so far. I felt I was on the right track and understand how it should be done but don&#39;t know enough Java to do so.\r\n\r\n    public class SimpleArray {\r\n    \r\n      /**\r\n       * Write a function that takes in an applicant&#39;s numerical scores and returns\r\n       * Boolean values to tell us if they are above a certain threshold.\r\n       * \r\n       * For example, if the applicant&#39;s scores are [80, 85, 89, 92, 76, 81], and the\r\n       * threshold value is 85, return [false, false, true, true, false, false].\r\n       * \r\n       * @param scores    The applicant&#39;s array of scores\r\n       * @param threshold The threshold value\r\n       * @return An array of boolean values: true if the score is higher than\r\n       *         threshold, false otherwise\r\n       */\r\n      public static boolean[] applicantAcceptable(int[] scores, int threshold) {\r\n      \r\n        boolean[] highScores = new boolean[scores.length];\r\n    \r\n        /*\r\n         * TO DO: The output array, highScores, should hold as its elements the\r\n         * appropriate boolean (true or false) value.\r\n         *\r\n         * Write a loop to compute the acceptability of the scores based on the\r\n         * threshold and place the result into the output array.\r\n         */\r\n        for (int i = 0; i &lt; highScores.length; i++){\r\n          if (highScores[i] &lt;= threshold[i]);\r\n    \r\n    \r\n          return highScores;\r\n    \r\n      }\r\n    }","title":"Using a loop to check each element in an array and return true or false","body":"<p>I'm trying to write a loop that checks each element in an array that contains test scores. If the test score meets the threshold then it should return true or false in that location. Here's the code so far. I felt I was on the right track and understand how it should be done but don't know enough Java to do so.</p>\n<pre><code>public class SimpleArray {\n\n  /**\n   * Write a function that takes in an applicant's numerical scores and returns\n   * Boolean values to tell us if they are above a certain threshold.\n   * \n   * For example, if the applicant's scores are [80, 85, 89, 92, 76, 81], and the\n   * threshold value is 85, return [false, false, true, true, false, false].\n   * \n   * @param scores    The applicant's array of scores\n   * @param threshold The threshold value\n   * @return An array of boolean values: true if the score is higher than\n   *         threshold, false otherwise\n   */\n  public static boolean[] applicantAcceptable(int[] scores, int threshold) {\n  \n    boolean[] highScores = new boolean[scores.length];\n\n    /*\n     * TO DO: The output array, highScores, should hold as its elements the\n     * appropriate boolean (true or false) value.\n     *\n     * Write a loop to compute the acceptability of the scores based on the\n     * threshold and place the result into the output array.\n     */\n    for (int i = 0; i &lt; highScores.length; i++){\n      if (highScores[i] &lt;= threshold[i]);\n\n\n      return highScores;\n\n  }\n}\n</code></pre>\n"},{"tags":["java","mariadb"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1632403151,"post_id":69300500,"comment_id":122486614,"body_markdown":"You might have to run that as an administrator","body":"You might have to run that as an administrator"},{"owner":{"account_id":2892575,"reputation":6529,"user_id":2481006,"display_name":"Georg Richter"},"score":0,"creation_date":1632405107,"post_id":69300500,"comment_id":122487581,"body_markdown":"Did you already try to shutdown the server with same command from command prompt?","body":"Did you already try to shutdown the server with same command from command prompt?"},{"owner":{"account_id":6105736,"reputation":1223,"user_id":4763511,"accept_rate":80,"display_name":"Bu Saeed"},"score":0,"creation_date":1632405981,"post_id":69300500,"comment_id":122488029,"body_markdown":"@GeorgRichter when I try that the cmd asks for password.","body":"@GeorgRichter when I try that the cmd asks for password."}],"answers":[{"tags":[],"owner":{"account_id":22760742,"reputation":1,"user_id":16919610,"display_name":"Thanusha"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1632405174,"creation_date":1632405174,"answer_id":69301400,"question_id":69300500,"body_markdown":"I don&#39;t think so.\r\n\r\nThere are no SQL command for shutting down MySQL (and\r\nobviously none to start it).\r\n\r\n`Runtime.exec` seems as the only way.","title":"How to shutdown MySQL server from java","body":"<p>I don't think so.</p>\n<p>There are no SQL command for shutting down MySQL (and\nobviously none to start it).</p>\n<p><code>Runtime.exec</code> seems as the only way.</p>\n"},{"tags":[],"owner":{"account_id":2892575,"reputation":6529,"user_id":2481006,"display_name":"Georg Richter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632407593,"creation_date":1632407593,"answer_id":69302037,"question_id":69300500,"body_markdown":"You need either pass the password directly to mysqladmin command, or you have to connect to the database server and execute the SQL command `SHUTDOWN` to shutdown the server.\r\n\r\nExecuting SHUTDOWN command requires that shutdown privileges have been granted to the connected user.","title":"How to shutdown MySQL server from java","body":"<p>You need either pass the password directly to mysqladmin command, or you have to connect to the database server and execute the SQL command <code>SHUTDOWN</code> to shutdown the server.</p>\n<p>Executing SHUTDOWN command requires that shutdown privileges have been granted to the connected user.</p>\n"},{"tags":[],"owner":{"account_id":6105736,"reputation":1223,"user_id":4763511,"accept_rate":80,"display_name":"Bu Saeed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632604031,"creation_date":1632408715,"answer_id":69302330,"question_id":69300500,"body_markdown":"The shutdown command should be like this:\r\n\r\n    mysqladmin --port=15001 -u root shutdown\r\n\r\nI&#39;ve removed `-p` because I&#39;m using the default credentials which doesn&#39;t require a password.","title":"How to shutdown MySQL server from java","body":"<p>The shutdown command should be like this:</p>\n<pre><code>mysqladmin --port=15001 -u root shutdown\n</code></pre>\n<p>I've removed <code>-p</code> because I'm using the default credentials which doesn't require a password.</p>\n"}],"owner":{"account_id":6105736,"reputation":1223,"user_id":4763511,"accept_rate":80,"display_name":"Bu Saeed"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69302330,"answer_count":3,"score":1,"last_activity_date":1632604031,"creation_date":1632401828,"question_id":69300500,"body_markdown":"I&#39;m using a portable MariaDB (10.3.31) for a program written in Java.\r\n\r\nWhen the program starts the database server starts like this:\r\n\r\n    Runtime.getRuntime().exec(path + &quot;\\\\database\\\\bin\\\\mysqld.exe --port=15001&quot;);\r\n\r\nSo far so good. The server starts with no problem.\r\n\r\nBut I&#39;m not able to shutdown the database server:\r\n\r\n    Runtime.getRuntime().exec(path + &quot;\\\\database\\\\bin\\\\mysqladmin --port=15001 -u root -p shutdown&quot;);\r\n\r\nBy the way, I&#39;m using Windows 10.","title":"How to shutdown MySQL server from java","body":"<p>I'm using a portable MariaDB (10.3.31) for a program written in Java.</p>\n<p>When the program starts the database server starts like this:</p>\n<pre><code>Runtime.getRuntime().exec(path + &quot;\\\\database\\\\bin\\\\mysqld.exe --port=15001&quot;);\n</code></pre>\n<p>So far so good. The server starts with no problem.</p>\n<p>But I'm not able to shutdown the database server:</p>\n<pre><code>Runtime.getRuntime().exec(path + &quot;\\\\database\\\\bin\\\\mysqladmin --port=15001 -u root -p shutdown&quot;);\n</code></pre>\n<p>By the way, I'm using Windows 10.</p>\n"},{"tags":["java","android","kotlin","calendar","localdate"],"comments":[{"owner":{"account_id":6998321,"reputation":1684,"user_id":5365227,"display_name":"Wale"},"score":0,"creation_date":1627651669,"post_id":68591732,"comment_id":121220153,"body_markdown":"show some code pls, at least something you&#39;ve done to get it done","body":"show some code pls, at least something you&#39;ve done to get it done"},{"owner":{"account_id":1951,"reputation":26904,"user_id":2684,"accept_rate":87,"display_name":"Martin Marconcini"},"score":0,"creation_date":1627651736,"post_id":68591732,"comment_id":121220174,"body_markdown":"Welcome to StackOverflow! Please refer to the guide on [how to ask a good question](https://stackoverflow.com/help/how-to-ask) and when needed, how to provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) so people can try to help you with a problem. You&#39;re often expected to do your own homework and research before asking a question.","body":"Welcome to StackOverflow! Please refer to the guide on <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a good question</a> and when needed, how to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> so people can try to help you with a problem. You&#39;re often expected to do your own homework and research before asking a question."}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627653285,"creation_date":1627653285,"answer_id":68592117,"question_id":68591732,"body_markdown":"The first step to getting `LocalDate` out of a `Calendar` object is to convert it into an `Instant` which can be converted to other `java.time` types.\r\n\r\n**Demo:**\r\n\r\n    import java.time.Instant;\r\n    import java.time.LocalDate;\r\n    import java.time.LocalDateTime;\r\n    import java.time.ZoneId;\r\n    import java.util.Calendar;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// A sample Date-Time\r\n    \t\tCalendar calendar = Calendar.getInstance();\r\n    \t\tcalendar.set(2021, 6, 30, 14, 50); // Note: Month has 0-based index\r\n    \r\n    \t\tInstant instant = calendar.toInstant();\r\n    \t\tSystem.out.println(instant);\r\n    \r\n    \t\t// Change JVM&#39;s default ZoneId, ZoneId.systemDefault() with the applicable\r\n    \t\t// ZoneId e.g. ZoneId.of(&quot;America/New_York&quot;)\r\n    \t\tLocalDateTime ldt = LocalDateTime.ofInstant(instant, ZoneId.systemDefault());\r\n    \t\tSystem.out.println(ldt);\r\n    \r\n    \t\tLocalDate date = ldt.toLocalDate();\r\n    \t\tSystem.out.println(date);\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    2021-07-30T13:50:47.528Z\r\n    2021-07-30T14:50:47.528\r\n    2021-07-30\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;][1]\r\n\r\nAn [`Instant`](https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html) represents an instantaneous point on the timeline, normally represented in [UTC](https://www.timeanddate.com/worldclock/timezone/utc) time. The `Z` in the output is the [timezone designator](https://en.wikipedia.org/wiki/ISO_8601#Time_zone_designators) for a zero-timezone offset. It stands for Zulu and specifies the `Etc/UTC` timezone (which has the timezone offset of `+00:00` hours).\r\n\r\nLearn more about the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html)&lt;sup&gt;*&lt;/sup&gt; from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n***\r\n&lt;sup&gt;* For any reason, if you have to stick to Java 6 or Java 7, you can use [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) which backports most of the *java.time* functionality to Java 6 &amp; 7. If you are working for an Android project and your Android API level is still not compliant with Java-8, check [Java 8+ APIs available through desugaring](https://developer.android.com/studio/write/java8-support-table) and [How to use ThreeTenABP in Android Project](https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project).\r\n&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://ideone.com/maD9KI","title":"Compare Calendar and LocalDate in Kotlin","body":"<p>The first step to getting <code>LocalDate</code> out of a <code>Calendar</code> object is to convert it into an <code>Instant</code> which can be converted to other <code>java.time</code> types.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.Instant;\nimport java.time.LocalDate;\nimport java.time.LocalDateTime;\nimport java.time.ZoneId;\nimport java.util.Calendar;\n\npublic class Main {\n    public static void main(String[] args) {\n        // A sample Date-Time\n        Calendar calendar = Calendar.getInstance();\n        calendar.set(2021, 6, 30, 14, 50); // Note: Month has 0-based index\n\n        Instant instant = calendar.toInstant();\n        System.out.println(instant);\n\n        // Change JVM's default ZoneId, ZoneId.systemDefault() with the applicable\n        // ZoneId e.g. ZoneId.of(&quot;America/New_York&quot;)\n        LocalDateTime ldt = LocalDateTime.ofInstant(instant, ZoneId.systemDefault());\n        System.out.println(ldt);\n\n        LocalDate date = ldt.toLocalDate();\n        System.out.println(date);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>2021-07-30T13:50:47.528Z\n2021-07-30T14:50:47.528\n2021-07-30\n</code></pre>\n<p><a href=\"https://ideone.com/maD9KI\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>An <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>Instant</code></a> represents an instantaneous point on the timeline, normally represented in <a href=\"https://www.timeanddate.com/worldclock/timezone/utc\" rel=\"nofollow noreferrer\">UTC</a> time. The <code>Z</code> in the output is the <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Time_zone_designators\" rel=\"nofollow noreferrer\">timezone designator</a> for a zero-timezone offset. It stands for Zulu and specifies the <code>Etc/UTC</code> timezone (which has the timezone offset of <code>+00:00</code> hours).</p>\n<p>Learn more about the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a><sup>*</sup> from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n<hr />\n<p><sup>* For any reason, if you have to stick to Java 6 or Java 7, you can use <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> which backports most of the <em>java.time</em> functionality to Java 6 &amp; 7. If you are working for an Android project and your Android API level is still not compliant with Java-8, check <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">Java 8+ APIs available through desugaring</a> and <a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">How to use ThreeTenABP in Android Project</a>.\n</sup></p>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1627878825,"creation_date":1627764795,"answer_id":68605777,"question_id":68591732,"body_markdown":"The conversion is straightforward when you know how. I will have to trust you to convert my Java to Kotlin.\r\n\r\n\t\tGregorianCalendar calendar = new GregorianCalendar();\r\n\t\t// Fill year, month, dayOfMonth into the following line\r\n\t\tcalendar.set(2021, Calendar.JULY, 31);\r\n\t\t\r\n\t\tLocalDate date = calendar.toZonedDateTime().toLocalDate();\r\n\t\t\r\n\t\tSystem.out.println(&quot;Converted to LocalDate: &quot; + date);\r\n\r\nOutput from this snippet is:\r\n\r\n&gt; Converted to LocalDate: 2021-07-31\r\n\r\nI have assumed that you want to use the Gregorian calendar always. Just as `LocalDate` always uses the proleptic Gregorian calendar.\r\n\r\nEdit: the still better and also simpler option is to do away with the `Calendar` class altogether and just use `LocalDate` throughout:\r\n\r\n\t\tint year = 2021;\r\n\t\tint month = Calendar.JULY; // For demonstration; don’t use Calendar in your code\r\n\t\tint dayOfMonth = 31;\r\n\t\t\r\n\t\tLocalDate date = LocalDate.of(year, month + 1, dayOfMonth);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Created as LocalDate: &quot; + date);\r\n\r\n&gt; Created as LocalDate: 2021-07-31\r\n\r\nDownside is the funny adding 1 to the month number because your date picker numbers months from 0 = January while `LocalDate` sensibly numbers from 1.\r\n","title":"Compare Calendar and LocalDate in Kotlin","body":"<p>The conversion is straightforward when you know how. I will have to trust you to convert my Java to Kotlin.</p>\n<pre><code>    GregorianCalendar calendar = new GregorianCalendar();\n    // Fill year, month, dayOfMonth into the following line\n    calendar.set(2021, Calendar.JULY, 31);\n    \n    LocalDate date = calendar.toZonedDateTime().toLocalDate();\n    \n    System.out.println(&quot;Converted to LocalDate: &quot; + date);\n</code></pre>\n<p>Output from this snippet is:</p>\n<blockquote>\n<p>Converted to LocalDate: 2021-07-31</p>\n</blockquote>\n<p>I have assumed that you want to use the Gregorian calendar always. Just as <code>LocalDate</code> always uses the proleptic Gregorian calendar.</p>\n<p>Edit: the still better and also simpler option is to do away with the <code>Calendar</code> class altogether and just use <code>LocalDate</code> throughout:</p>\n<pre><code>    int year = 2021;\n    int month = Calendar.JULY; // For demonstration; don’t use Calendar in your code\n    int dayOfMonth = 31;\n    \n    LocalDate date = LocalDate.of(year, month + 1, dayOfMonth);\n    \n    System.out.println(&quot;Created as LocalDate: &quot; + date);\n</code></pre>\n<blockquote>\n<p>Created as LocalDate: 2021-07-31</p>\n</blockquote>\n<p>Downside is the funny adding 1 to the month number because your date picker numbers months from 0 = January while <code>LocalDate</code> sensibly numbers from 1.</p>\n"}],"owner":{"account_id":22117406,"reputation":27,"user_id":16371260,"display_name":"Cagatayencan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1124,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68605777,"answer_count":2,"score":1,"last_activity_date":1632603879,"creation_date":1627651530,"question_id":68591732,"body_markdown":"I have a `Calender` object that is chosen by user. I need to compare this object (or convert) with `LocalDate`. Is there any way to do that? I am getting calendar object by that : \r\n\r\n    \r\n            val calendar = Calendar.getInstance()\r\n            val calendar2 = Calendar.getInstance()\r\n            val pickDate = DatePickerDialog.OnDateSetListener { view, year, month, dayOfMonth -&gt;\r\n                calendar.set(Calendar.YEAR,year)\r\n                calendar.set(Calendar.MONTH,month)\r\n                calendar.set(Calendar.DAY_OF_MONTH,dayOfMonth)\r\n    \r\n                update(calendar)\r\n    \r\n            }\r\n            val pickTime = TimePickerDialog.OnTimeSetListener { view, hour, minute -&gt;\r\n                calendar2.set(Calendar.HOUR_OF_DAY,hour)\r\n                calendar2.set(Calendar.MINUTE,minute)\r\n                update2(calendar2)\r\n            }\r\n    \r\n            datePicker.setOnClickListener {\r\n                DatePickerDialog(this.requireContext(),pickDate,calendar.get(Calendar.YEAR),calendar.get(Calendar.MONTH),calendar.get(Calendar.DAY_OF_MONTH)).show()\r\n    \r\n    \r\n    \r\n            }\r\n            timePicker.setOnClickListener {\r\n                TimePickerDialog(this.requireContext(),pickTime,calendar2.get(Calendar.HOUR_OF_DAY),calendar2.get(Calendar.MINUTE),true).show()\r\n            }\r\n    \r\n        }\r\n    \r\n        @SuppressLint(&quot;SetTextI18n&quot;)\r\n        fun update(calendar : Calendar)  {\r\n            val format = SimpleDateFormat(&quot;dd-MM-yyyy&quot;,Locale.US).format(calendar.time)\r\n            showDate.text = format\r\n    \r\n    \r\n    \r\n    \r\n        }\r\n        fun update2(calendar : Calendar)  {\r\n            val format2 = SimpleDateFormat(&quot;HH:mm&quot;,Locale.US).format(calendar.time)\r\n            showDate2.text = format2\r\n    \r\n        }\r\n    }","title":"Compare Calendar and LocalDate in Kotlin","body":"<p>I have a <code>Calender</code> object that is chosen by user. I need to compare this object (or convert) with <code>LocalDate</code>. Is there any way to do that? I am getting calendar object by that :</p>\n<pre><code>        val calendar = Calendar.getInstance()\n        val calendar2 = Calendar.getInstance()\n        val pickDate = DatePickerDialog.OnDateSetListener { view, year, month, dayOfMonth -&gt;\n            calendar.set(Calendar.YEAR,year)\n            calendar.set(Calendar.MONTH,month)\n            calendar.set(Calendar.DAY_OF_MONTH,dayOfMonth)\n\n            update(calendar)\n\n        }\n        val pickTime = TimePickerDialog.OnTimeSetListener { view, hour, minute -&gt;\n            calendar2.set(Calendar.HOUR_OF_DAY,hour)\n            calendar2.set(Calendar.MINUTE,minute)\n            update2(calendar2)\n        }\n\n        datePicker.setOnClickListener {\n            DatePickerDialog(this.requireContext(),pickDate,calendar.get(Calendar.YEAR),calendar.get(Calendar.MONTH),calendar.get(Calendar.DAY_OF_MONTH)).show()\n\n\n\n        }\n        timePicker.setOnClickListener {\n            TimePickerDialog(this.requireContext(),pickTime,calendar2.get(Calendar.HOUR_OF_DAY),calendar2.get(Calendar.MINUTE),true).show()\n        }\n\n    }\n\n    @SuppressLint(&quot;SetTextI18n&quot;)\n    fun update(calendar : Calendar)  {\n        val format = SimpleDateFormat(&quot;dd-MM-yyyy&quot;,Locale.US).format(calendar.time)\n        showDate.text = format\n\n\n\n\n    }\n    fun update2(calendar : Calendar)  {\n        val format2 = SimpleDateFormat(&quot;HH:mm&quot;,Locale.US).format(calendar.time)\n        showDate2.text = format2\n\n    }\n}\n</code></pre>\n"},{"tags":["java","kotlin","exception","pdfbox","pdf-extraction"],"comments":[{"owner":{"account_id":13722742,"reputation":16978,"user_id":10134209,"display_name":"gidds"},"score":2,"creation_date":1631538347,"post_id":69162450,"comment_id":122241349,"body_markdown":"Can you post the full exception message (including stack trace)?","body":"Can you post the full exception message (including stack trace)?"},{"owner":{"account_id":12821020,"reputation":81,"user_id":13348637,"display_name":"Sarthak Kumar"},"score":0,"creation_date":1631543305,"post_id":69162450,"comment_id":122243668,"body_markdown":"I added the exception but it is now giving null pointer exception. I am confused as I didn&#39;t changed the code.","body":"I added the exception but it is now giving null pointer exception. I am confused as I didn&#39;t changed the code."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1631553798,"post_id":69162450,"comment_id":122247966,"body_markdown":"There&#39;s a problem with your jar file, make sure that &quot;com/tom_roush/pdfbox/resources/text/BidiMirroring.txt&quot; exists. Have a look at https://github.com/TomRoush/PdfBox-Android/blob/master/library/src/main/java/com/tom_roush/pdfbox/text/PDFTextStripper.java#L1855 , input would be null if the resource doesn&#39;t exist.","body":"There&#39;s a problem with your jar file, make sure that &quot;com/tom_roush/pdfbox/resources/text/BidiMirroring.txt&quot; exists. Have a look at <a href=\"https://github.com/TomRoush/PdfBox-Android/blob/master/library/src/main/java/com/tom_roush/pdfbox/text/PDFTextStripper.java#L1855\" rel=\"nofollow noreferrer\">github.com/TomRoush/PdfBox-Android/blob/master/library/src/m&zwnj;&#8203;ain/&hellip;</a> , input would be null if the resource doesn&#39;t exist."},{"owner":{"account_id":12821020,"reputation":81,"user_id":13348637,"display_name":"Sarthak Kumar"},"score":0,"creation_date":1631556160,"post_id":69162450,"comment_id":122248741,"body_markdown":"How can I add this .txt file in my project. I just added the dependency of pdfBox for its implementation. Please help me with this.","body":"How can I add this .txt file in my project. I just added the dependency of pdfBox for its implementation. Please help me with this."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1631587767,"post_id":69162450,"comment_id":122255986,"body_markdown":"First make sure you are using maven. Second, try if it works with a previous version. I can&#39;t help directly because I don&#39;t have an android build environment set up. You should try using a previous version, but also report the bug on the bug tracker. Mention that the file is missing and the null check is missing. I looked into the .aar (not .jar) file and it is missing. https://repo1.maven.org/maven2/com/tom-roush/pdfbox-android/2.0.3.0/","body":"First make sure you are using maven. Second, try if it works with a previous version. I can&#39;t help directly because I don&#39;t have an android build environment set up. You should try using a previous version, but also report the bug on the bug tracker. Mention that the file is missing and the null check is missing. I looked into the .aar (not .jar) file and it is missing. <a href=\"https://repo1.maven.org/maven2/com/tom-roush/pdfbox-android/2.0.3.0/\" rel=\"nofollow noreferrer\">repo1.maven.org/maven2/com/tom-roush/pdfbox-android/2.0.3.0</a>"}],"answers":[{"tags":[],"owner":{"account_id":20789322,"reputation":96,"user_id":15267862,"display_name":"kek5chen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631540861,"creation_date":1631540861,"answer_id":69163830,"question_id":69162450,"body_markdown":"Are you sure the PdfBox library is getting compiled into your code? Because if its an error which happens on initialization it seems to be a compilation error since it cannot refer to the library.\r\n\r\nYou should get some kotlin code to compile your dependencies into your built app.","title":"How to resolve the Java Exception In Initialize error?","body":"<p>Are you sure the PdfBox library is getting compiled into your code? Because if its an error which happens on initialization it seems to be a compilation error since it cannot refer to the library.</p>\n<p>You should get some kotlin code to compile your dependencies into your built app.</p>\n"},{"tags":[],"owner":{"account_id":6808495,"reputation":66,"user_id":5239542,"display_name":"Tom Roush"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632603643,"creation_date":1632603643,"answer_id":69329999,"question_id":69162450,"body_markdown":"It sounds like you haven&#39;t called `PDFBoxResourceLoader.init(Context)` before using PDFTextStripper. This is required to load certain files used by PdfBox-Android like BidiMirroring.txt.\r\n\r\nI added `PDFBoxResourceLoader.init(applicationContext)` to your `onCreate` function and was able to extract text successfully using your code.","title":"How to resolve the Java Exception In Initialize error?","body":"<p>It sounds like you haven't called <code>PDFBoxResourceLoader.init(Context)</code> before using PDFTextStripper. This is required to load certain files used by PdfBox-Android like BidiMirroring.txt.</p>\n<p>I added <code>PDFBoxResourceLoader.init(applicationContext)</code> to your <code>onCreate</code> function and was able to extract text successfully using your code.</p>\n"}],"owner":{"account_id":12821020,"reputation":81,"user_id":13348637,"display_name":"Sarthak Kumar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":872,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1632603643,"creation_date":1631534960,"question_id":69162450,"body_markdown":"I am creating an app where I can extract the text from the pdf. For this I am using PdfBox library. But when I import pdf from the file manager, app stops and it gives exception in Initialize error at line where PDFTextStripper is initialized. How can I solve this problem?\r\n\r\nBelow is the function for extracting the text from pdf.\r\n\r\n\r\n    private fun extractTextPdfFile() {\r\n       var document: PDDocument? = null\r\n        var parsedText: String? = null\r\n        try {\r\n            val inputStream: InputStream? = this.contentResolver.openInputStream(fileUri!!)\r\n            document = PDDocument.load(inputStream)\r\n        } catch (e: IOException) {\r\n            e.printStackTrace()\r\n        }\r\n\r\n        try {\r\n            val pdfStripper = PDFTextStripper()\r\n            pdfStripper.startPage = 0\r\n            if (document != null) {\r\n                pdfStripper.endPage = 1\r\n            }\r\n            parsedText=&quot;Parsed text: &quot; + pdfStripper.getText(document)\r\n        } catch (e: IOException) {\r\n            e.printStackTrace()\r\n        } finally {\r\n            try {\r\n                document?.close()\r\n            } catch (e: IOException) {\r\n                e.printStackTrace()\r\n            }\r\n        }\r\n        findViewById&lt;TextView&gt;(R.id.file_path).text=parsedText\r\n\r\n     }\r\n    }\r\n\r\n\r\nI have used registerForActivityResult for getting the pdf document Uri.\r\n\r\n    private var fileUri: Uri? = null\r\n    private val getContent =\r\n        registerForActivityResult(ActivityResultContracts.GetContent()) { uri: Uri? -&gt;\r\n            // Handle the returned Uri\r\n            if (uri != null) {\r\n                fileUri = uri\r\n            } else {\r\n                Toast.makeText(\r\n                    this,\r\n                    &quot;Cannot fetch document from the file manager&quot;,\r\n                    Toast.LENGTH_SHORT\r\n                ).show()\r\n            }\r\n        }\r\n      \r\n     override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n\r\n        findViewById&lt;Button&gt;(R.id.Import).setOnClickListener {\r\n            getContent.launch(&quot;application/pdf&quot;)\r\n            if (fileUri != null)\r\n                extractTextPdfFile()\r\n        }\r\n    }\r\n\r\nThis is the exception which I am getting. I don&#39;t know how it is now giving null pointer exception, earlier it was giving the exception which I had mentioned.\r\n\r\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void java.io.InputStream.close()&#39; on a null object reference\r\n        at com.tom_roush.pdfbox.text.PDFTextStripper.&lt;clinit&gt;(PDFTextStripper.java:1874)\r\n        at com.example.doctranslator.MainActivity.extractTextPdfFile(MainActivity.kt:82)&#160;\r\n        at com.example.doctranslator.MainActivity.onCreate$lambda-1(MainActivity.kt:44)&#160;\r\n        at com.example.doctranslator.MainActivity.$r8$lambda$8z4EEPr6Q6JatIakz-DO65v-zdE(Unknown Source:0)&#160;\r\n        at com.example.doctranslator.MainActivity$$ExternalSyntheticLambda0.onClick(Unknown Source:2)&#160;\r\n        at android.view.View.performClick(View.java:8160)&#160;\r\n        at android.widget.TextView.performClick(TextView.java:16222)&#160;\r\n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1119)&#160;\r\n        at android.view.View.performClickInternal(View.java:8137)&#160;\r\n        at android.view.View.access$3700(View.java:888)&#160;\r\n        at android.view.View$PerformClick.run(View.java:30236)&#160;\r\n        at android.os.Handler.handleCallback(Handler.java:938)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)&#160;\r\n        at android.os.Looper.loop(Looper.java:246)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:8595)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)&#160;","title":"How to resolve the Java Exception In Initialize error?","body":"<p>I am creating an app where I can extract the text from the pdf. For this I am using PdfBox library. But when I import pdf from the file manager, app stops and it gives exception in Initialize error at line where PDFTextStripper is initialized. How can I solve this problem?</p>\n<p>Below is the function for extracting the text from pdf.</p>\n<pre><code>private fun extractTextPdfFile() {\n   var document: PDDocument? = null\n    var parsedText: String? = null\n    try {\n        val inputStream: InputStream? = this.contentResolver.openInputStream(fileUri!!)\n        document = PDDocument.load(inputStream)\n    } catch (e: IOException) {\n        e.printStackTrace()\n    }\n\n    try {\n        val pdfStripper = PDFTextStripper()\n        pdfStripper.startPage = 0\n        if (document != null) {\n            pdfStripper.endPage = 1\n        }\n        parsedText=&quot;Parsed text: &quot; + pdfStripper.getText(document)\n    } catch (e: IOException) {\n        e.printStackTrace()\n    } finally {\n        try {\n            document?.close()\n        } catch (e: IOException) {\n            e.printStackTrace()\n        }\n    }\n    findViewById&lt;TextView&gt;(R.id.file_path).text=parsedText\n\n }\n}\n</code></pre>\n<p>I have used registerForActivityResult for getting the pdf document Uri.</p>\n<pre><code>private var fileUri: Uri? = null\nprivate val getContent =\n    registerForActivityResult(ActivityResultContracts.GetContent()) { uri: Uri? -&gt;\n        // Handle the returned Uri\n        if (uri != null) {\n            fileUri = uri\n        } else {\n            Toast.makeText(\n                this,\n                &quot;Cannot fetch document from the file manager&quot;,\n                Toast.LENGTH_SHORT\n            ).show()\n        }\n    }\n  \n override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    findViewById&lt;Button&gt;(R.id.Import).setOnClickListener {\n        getContent.launch(&quot;application/pdf&quot;)\n        if (fileUri != null)\n            extractTextPdfFile()\n    }\n}\n</code></pre>\n<p>This is the exception which I am getting. I don't know how it is now giving null pointer exception, earlier it was giving the exception which I had mentioned.</p>\n<pre><code> Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void java.io.InputStream.close()' on a null object reference\n    at com.tom_roush.pdfbox.text.PDFTextStripper.&lt;clinit&gt;(PDFTextStripper.java:1874)\n    at com.example.doctranslator.MainActivity.extractTextPdfFile(MainActivity.kt:82) \n    at com.example.doctranslator.MainActivity.onCreate$lambda-1(MainActivity.kt:44) \n    at com.example.doctranslator.MainActivity.$r8$lambda$8z4EEPr6Q6JatIakz-DO65v-zdE(Unknown Source:0) \n    at com.example.doctranslator.MainActivity$$ExternalSyntheticLambda0.onClick(Unknown Source:2) \n    at android.view.View.performClick(View.java:8160) \n    at android.widget.TextView.performClick(TextView.java:16222) \n    at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1119) \n    at android.view.View.performClickInternal(View.java:8137) \n    at android.view.View.access$3700(View.java:888) \n    at android.view.View$PerformClick.run(View.java:30236) \n    at android.os.Handler.handleCallback(Handler.java:938) \n    at android.os.Handler.dispatchMessage(Handler.java:99) \n    at android.os.Looper.loop(Looper.java:246) \n    at android.app.ActivityThread.main(ActivityThread.java:8595) \n    at java.lang.reflect.Method.invoke(Native Method) \n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602) \n</code></pre>\n"},{"tags":["java","dynamic-programming","knapsack-problem"],"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1607739158,"post_id":65260866,"comment_id":115375408,"body_markdown":"Why wouldn&#39;t the optimal solution be items `{1, 2, 5}`?","body":"Why wouldn&#39;t the optimal solution be items <code>{1, 2, 5}</code>?"},{"owner":{"account_id":15696595,"reputation":117,"user_id":11325949,"display_name":"Nimbus"},"score":0,"creation_date":1607741415,"post_id":65260866,"comment_id":115375729,"body_markdown":"Yes, thanks so much for pointing that out. I&#39;ve just changed it.","body":"Yes, thanks so much for pointing that out. I&#39;ve just changed it."}],"answers":[{"tags":[],"owner":{"account_id":10842003,"reputation":496,"user_id":7972923,"display_name":"VFX"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607747329,"creation_date":1607746486,"answer_id":65261534,"question_id":65260866,"body_markdown":"Lets define the function f(i,j) that gives the minimum cost for choosing  items from the first i+1 items (0,1...i) where the sum of the weights of these items is exactly equal to j, then the minimum cost to get at least the weight(minW=15) would be calculated like this: \r\n````\r\nmin(f(i,j)) where  i=0,1...n-1, j=minW,minW+1,.... maxW \r\n- n is the number of items \r\n- minW=15 in your case\r\n- maxW is the maximum possible sum of all the given weights\r\n````\r\n\r\nyou can refer to this C++ code(very similar to Java):\r\n\r\n```` &lt;!-- language-all: cpp --&gt;\r\n    const int maxW = 100;//the maximum weight, a problem constraint\r\n\tconst int maxN = 100;//the maximum number of items, a problem constraint\r\n\r\n\tint n = 6; //input\r\n\tint w[maxN] = { 1, 1, 1, 5, 13, 3 };//the weights(should be read as an input)\r\n\tint c[maxN] = { 1, 1, 1, 5, 10, 12 };//the costs(should be read as an input)\r\n\t\r\n\tint f[maxN][maxW];\r\n\tfor (int i = 0; i &lt; maxN; i++)\r\n\t\tfor (int j = 0; j &lt; maxW; j++)\r\n\t\t\tf[i][j] = 1000000;//some big value\r\n\r\n\tint minW = 15;//the minimum weight(should be read as an input)\r\n\t\r\n\tint result = 1000000;\r\n\t\r\n\tf[0][w[0]] = c[0];//initialization\r\n\tfor (int i = 1; i &lt; n; i++) {\r\n\t\tfor (int j = 0; j &lt; maxW; j++) {\r\n\t\t\t\r\n\t\t\tf[i][j] = f[i - 1][j];//don&#39;t pick the i-th item\r\n\r\n\t\t\tif (j - w[i] &gt;= 0) {//pick the i-th item if possible\r\n\t\t\t\tif (f[i][j] &gt; f[i - 1][j - w[i]] + c[i])\r\n\t\t\t\t\tf[i][j] = f[i - 1][j - w[i]] + c[i];\r\n\t\t\t}\r\n\r\n\t\t\tif (j &gt;= minW and f[i][j] &lt; result) {\r\n\t\t\t\tresult = f[i][j];//store the minimum cost when the weight is &gt;= minW\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tcout &lt;&lt; result &lt;&lt; endl;//print the result(12 in this case)\r\n````","title":"Knapsack with min weight","body":"<p>Lets define the function f(i,j) that gives the minimum cost for choosing  items from the first i+1 items (0,1...i) where the sum of the weights of these items is exactly equal to j, then the minimum cost to get at least the weight(minW=15) would be calculated like this:</p>\n<pre><code>min(f(i,j)) where  i=0,1...n-1, j=minW,minW+1,.... maxW \n- n is the number of items \n- minW=15 in your case\n- maxW is the maximum possible sum of all the given weights\n</code></pre>\n<p>you can refer to this C++ code(very similar to Java):</p>\n<pre><code>    const int maxW = 100;//the maximum weight, a problem constraint\n    const int maxN = 100;//the maximum number of items, a problem constraint\n\n    int n = 6; //input\n    int w[maxN] = { 1, 1, 1, 5, 13, 3 };//the weights(should be read as an input)\n    int c[maxN] = { 1, 1, 1, 5, 10, 12 };//the costs(should be read as an input)\n    \n    int f[maxN][maxW];\n    for (int i = 0; i &lt; maxN; i++)\n        for (int j = 0; j &lt; maxW; j++)\n            f[i][j] = 1000000;//some big value\n\n    int minW = 15;//the minimum weight(should be read as an input)\n    \n    int result = 1000000;\n    \n    f[0][w[0]] = c[0];//initialization\n    for (int i = 1; i &lt; n; i++) {\n        for (int j = 0; j &lt; maxW; j++) {\n            \n            f[i][j] = f[i - 1][j];//don't pick the i-th item\n\n            if (j - w[i] &gt;= 0) {//pick the i-th item if possible\n                if (f[i][j] &gt; f[i - 1][j - w[i]] + c[i])\n                    f[i][j] = f[i - 1][j - w[i]] + c[i];\n            }\n\n            if (j &gt;= minW and f[i][j] &lt; result) {\n                result = f[i][j];//store the minimum cost when the weight is &gt;= minW\n            }\n        }\n    }\n    cout &lt;&lt; result &lt;&lt; endl;//print the result(12 in this case)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1607746934,"creation_date":1607746934,"answer_id":65261578,"question_id":65260866,"body_markdown":"Let `minCost[i]` denote the minimum value that a knapsack with capacity `i` can hold, `costs[i]` represent the cost of the ith item, and `weights[i]` represent the weight of the ith item. Then, for each i, `minVal[i]` is the minimum of `minVal[i - weights[j]] + costs[j]` for all `j` from 1 to the number of items.\r\n\r\nThen, the answer is the minimum value in the `minCost` array in the range from the minimum weight to the maximum weight.\r\n\r\n```\r\nfinal int[] weights = {1, 1, 1, 5, 13, 3}, costs = {1, 1, 1, 5, 10, 12};\r\nfinal int minWeight = 15;\r\nint maxWeight = 0;\r\nfor(final int weight: weights){\r\n    maxWeight += weight;\r\n}\r\nfinal int[] minCost = new int[maxWeight + 1];\r\nfor(int i = 1; i &lt;= maxWeight; i++){\r\n    minCost[i] = Integer.MAX_VALUE;\r\n}\r\nfor(int i = 0; i &lt; weights.length; i++){\r\n    for(int j = maxWeight; j &gt;= weights[i]; j--){\r\n        if(minCost[j - weights[i]] != Integer.MAX_VALUE){\r\n            minCost[j] = Math.min(minCost[j], minCost[j - weights[i]] + costs[i]);\r\n        }\r\n    }\r\n}\r\nint answer = Integer.MAX_VALUE;\r\nfor(int i = minWeight; i &lt;= maxWeight; i++){\r\n    answer = Math.min(answer, minCost[i]);\r\n}\r\nSystem.out.println(answer);\r\n```\r\n\r\n&lt;kbd&gt;[Demo](https://ideone.com/zfbscN)&lt;/kbd&gt;","title":"Knapsack with min weight","body":"<p>Let <code>minCost[i]</code> denote the minimum value that a knapsack with capacity <code>i</code> can hold, <code>costs[i]</code> represent the cost of the ith item, and <code>weights[i]</code> represent the weight of the ith item. Then, for each i, <code>minVal[i]</code> is the minimum of <code>minVal[i - weights[j]] + costs[j]</code> for all <code>j</code> from 1 to the number of items.</p>\n<p>Then, the answer is the minimum value in the <code>minCost</code> array in the range from the minimum weight to the maximum weight.</p>\n<pre><code>final int[] weights = {1, 1, 1, 5, 13, 3}, costs = {1, 1, 1, 5, 10, 12};\nfinal int minWeight = 15;\nint maxWeight = 0;\nfor(final int weight: weights){\n    maxWeight += weight;\n}\nfinal int[] minCost = new int[maxWeight + 1];\nfor(int i = 1; i &lt;= maxWeight; i++){\n    minCost[i] = Integer.MAX_VALUE;\n}\nfor(int i = 0; i &lt; weights.length; i++){\n    for(int j = maxWeight; j &gt;= weights[i]; j--){\n        if(minCost[j - weights[i]] != Integer.MAX_VALUE){\n            minCost[j] = Math.min(minCost[j], minCost[j - weights[i]] + costs[i]);\n        }\n    }\n}\nint answer = Integer.MAX_VALUE;\nfor(int i = minWeight; i &lt;= maxWeight; i++){\n    answer = Math.min(answer, minCost[i]);\n}\nSystem.out.println(answer);\n</code></pre>\n<p><kbd><a href=\"https://ideone.com/zfbscN\" rel=\"nofollow noreferrer\">Demo</a></kbd></p>\n"},{"tags":[],"owner":{"account_id":3317352,"reputation":11,"user_id":2789382,"display_name":"ryanym"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632603578,"creation_date":1632603578,"answer_id":69329991,"question_id":65260866,"body_markdown":"We can actually achieve `O(n * targetMinWeight)` instead of `O(n * maximum weight)` by slightly modifying @Unmitigated&#39;s answer\r\n\r\n```\r\nclass Solution:\r\n\r\n\r\n    def knapsack(self, n, costs, weights, target):\r\n        MAX = float(&#39;inf&#39;)\r\n        dp = [[0 for _ in range(n + 1)] for _ in range(target + 1)]\r\n        for t in range(target + 1):\r\n            dp[t][0] = MAX\r\n        for i in range(n + 1):\r\n            dp[0][i] = MAX\r\n\r\n        for t in range(1, target + 1):\r\n            for i in range(1, n + 1):\r\n                if t &gt; weights[i - 1]:  # i - 1 because of the offset\r\n                    dp[t][i] = min(dp[t][i - 1], dp[t - weights[i - 1]][i - 1] + costs[i - 1])\r\n                else:\r\n                    dp[t][i] = min(dp[t][i - 1], costs[i - 1])\r\n\r\n        return min(dp[target])\r\n\r\nsol = Solution()\r\nprint(sol.knapsack(6, [1, 1, 1, 5, 10, 12], [1, 1, 1, 5, 13, 3], 15)) # returns 12\r\n\r\n\r\n```","title":"Knapsack with min weight","body":"<p>We can actually achieve <code>O(n * targetMinWeight)</code> instead of <code>O(n * maximum weight)</code> by slightly modifying @Unmitigated's answer</p>\n<pre><code>class Solution:\n\n\n    def knapsack(self, n, costs, weights, target):\n        MAX = float('inf')\n        dp = [[0 for _ in range(n + 1)] for _ in range(target + 1)]\n        for t in range(target + 1):\n            dp[t][0] = MAX\n        for i in range(n + 1):\n            dp[0][i] = MAX\n\n        for t in range(1, target + 1):\n            for i in range(1, n + 1):\n                if t &gt; weights[i - 1]:  # i - 1 because of the offset\n                    dp[t][i] = min(dp[t][i - 1], dp[t - weights[i - 1]][i - 1] + costs[i - 1])\n                else:\n                    dp[t][i] = min(dp[t][i - 1], costs[i - 1])\n\n        return min(dp[target])\n\nsol = Solution()\nprint(sol.knapsack(6, [1, 1, 1, 5, 10, 12], [1, 1, 1, 5, 13, 3], 15)) # returns 12\n\n\n</code></pre>\n"}],"owner":{"account_id":15696595,"reputation":117,"user_id":11325949,"display_name":"Nimbus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7659,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":65261578,"answer_count":3,"score":8,"last_activity_date":1632603578,"creation_date":1607738646,"question_id":65260866,"body_markdown":"This variation of the knapsack problem requires a minimum weight. The goal is to minimize the cost while achieving at least the minimum weight. \r\n\r\nFor example, we have 6 items with weights `{1, 1, 1, 5, 13, 3}` and costs `{1, 1, 1, 5, 10, 12}`.\r\nAssume a minimum weight of 15.\r\n\r\nThe optimal solution is items `{1, 2, 5}` for a total weight of 15 and cost 12. \r\n\r\nHow should I go about implementing this algorithm as efficiently as possible? Greedy choices don&#39;t work, so should I modify the original dynamic programming solution to fit this problem? If so, how?\r\n\r\nIf it matters, I&#39;m planning to write this in Java.\r\n\r\n","title":"Knapsack with min weight","body":"<p>This variation of the knapsack problem requires a minimum weight. The goal is to minimize the cost while achieving at least the minimum weight.</p>\n<p>For example, we have 6 items with weights <code>{1, 1, 1, 5, 13, 3}</code> and costs <code>{1, 1, 1, 5, 10, 12}</code>.\nAssume a minimum weight of 15.</p>\n<p>The optimal solution is items <code>{1, 2, 5}</code> for a total weight of 15 and cost 12.</p>\n<p>How should I go about implementing this algorithm as efficiently as possible? Greedy choices don't work, so should I modify the original dynamic programming solution to fit this problem? If so, how?</p>\n<p>If it matters, I'm planning to write this in Java.</p>\n"},{"tags":["java","branch.io"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1594074969,"post_id":62763443,"comment_id":110993980,"body_markdown":"What version of Java, and has it changed? Any sysprops set, especially related to SNI? I don&#39;t know about 2017 but currently for ClientHello with missing (or wrong) SNI that server responds with two(!) invalid &#39;version 0.0&#39; alerts (fatal 40 and warning 1) but it correctlyl rejects (with 70) ClientHello for version below 1.2, which would be the case for the (older) versions of Java that I know to omit SNI.","body":"What version of Java, and has it changed? Any sysprops set, especially related to SNI? I don&#39;t know about 2017 but currently for ClientHello with missing (or wrong) SNI that server responds with two(!) invalid &#39;version 0.0&#39; alerts (fatal 40 and warning 1) but it correctlyl rejects (with 70) ClientHello for version below 1.2, which would be the case for the (older) versions of Java that I know to omit SNI."},{"owner":{"account_id":7270503,"reputation":201,"user_id":5543732,"accept_rate":50,"display_name":"Ryan McCaffrey"},"score":0,"creation_date":1594130270,"post_id":62763443,"comment_id":111014307,"body_markdown":"Java 8 and has not changed, nothing in the code base on my side has changed at all. I don&#39;t believe and sysprops are set.","body":"Java 8 and has not changed, nothing in the code base on my side has changed at all. I don&#39;t believe and sysprops are set."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1594231696,"post_id":62763443,"comment_id":111057197,"body_markdown":"Try running with sysprop `javax.net.debug=ssl,handshake` (or if you can&#39;t do that get an external capture with wireshark, tcpdump, or similar) and see if your client is in fact sending correct SNI (which the Java log spells server_name). If not look at the _exact_ versions -- there were some bugs in this area, IIRC within the lifetime of j8 but I don&#39;t remember details.","body":"Try running with sysprop <code>javax.net.debug=ssl,handshake</code> (or if you can&#39;t do that get an external capture with wireshark, tcpdump, or similar) and see if your client is in fact sending correct SNI (which the Java log spells server_name). If not look at the <i>exact</i> versions -- there were some bugs in this area, IIRC within the lifetime of j8 but I don&#39;t remember details."}],"answers":[{"tags":[],"owner":{"account_id":1558549,"reputation":167,"user_id":1448980,"accept_rate":0,"display_name":"ashah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632603155,"creation_date":1632603155,"answer_id":69329937,"question_id":62763443,"body_markdown":"I had same issue and I found that my cloud server is Openjdk 1.8 and I was using IBM J9 VM (jre 1.8.0). When I connect with OpenJDK both side it was working. Finally I resolved issue by using Spring [RestTemplate][1] instead of HttpURLConnection and then with IBM jre also it worked.\r\n\r\n\r\n  [1]: https://howtodoinjava.com/spring-boot2/resttemplate/spring-restful-client-resttemplate-example/","title":"Branch.io API throwing SSLException Unsupported record version Unknown-0.0 on create","body":"<p>I had same issue and I found that my cloud server is Openjdk 1.8 and I was using IBM J9 VM (jre 1.8.0). When I connect with OpenJDK both side it was working. Finally I resolved issue by using Spring <a href=\"https://howtodoinjava.com/spring-boot2/resttemplate/spring-restful-client-resttemplate-example/\" rel=\"nofollow noreferrer\">RestTemplate</a> instead of HttpURLConnection and then with IBM jre also it worked.</p>\n"}],"owner":{"account_id":7270503,"reputation":201,"user_id":5543732,"accept_rate":50,"display_name":"Ryan McCaffrey"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":682,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632603155,"creation_date":1594064891,"question_id":62763443,"body_markdown":"I have code that uses the Branch.io API to create deep links on the fly. It worked for at least a year around 2017ish, and I&#39;m not sure when it stopped working. I&#39;m getting SSLException Unsupported record version Unknown-0.0 when I try to connect to the api at, &quot;https://api.branch.io/v1/url&quot;. Anyone know what changed about the SSL security with the branch.io API to make the call no longer work? If I can figure out what changed then how to fix it should be obvious. \r\n\r\nThe relevant bits of code look like this:\r\n\r\n    \t\t\tHttpURLConnection conn = (HttpURLConnection) new URL(&quot;https://api.branch.io/v1/url&quot;).openConnection();\r\n     conn.setDoOutput(true);\r\n    \t\t    conn.setUseCaches(false);\r\n    \t\t    conn.setFixedLengthStreamingMode(bytes.length);\r\n    \t\t    conn.setRequestMethod(&quot;POST&quot;);\r\n    \r\n    \t\t    conn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n    \t\t    out = conn.getOutputStream();\r\n    \r\n    \t\t    out.write(bytes);\r\n    \t\t\tin = conn.getInputStream();\r\n    \r\n    \t\t\tBufferedReader reader =new BufferedReader(new InputStreamReader(in));","title":"Branch.io API throwing SSLException Unsupported record version Unknown-0.0 on create","body":"<p>I have code that uses the Branch.io API to create deep links on the fly. It worked for at least a year around 2017ish, and I'm not sure when it stopped working. I'm getting SSLException Unsupported record version Unknown-0.0 when I try to connect to the api at, &quot;https://api.branch.io/v1/url&quot;. Anyone know what changed about the SSL security with the branch.io API to make the call no longer work? If I can figure out what changed then how to fix it should be obvious.</p>\n<p>The relevant bits of code look like this:</p>\n<pre><code>            HttpURLConnection conn = (HttpURLConnection) new URL(&quot;https://api.branch.io/v1/url&quot;).openConnection();\n conn.setDoOutput(true);\n            conn.setUseCaches(false);\n            conn.setFixedLengthStreamingMode(bytes.length);\n            conn.setRequestMethod(&quot;POST&quot;);\n\n            conn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\n            out = conn.getOutputStream();\n\n            out.write(bytes);\n            in = conn.getInputStream();\n\n            BufferedReader reader =new BufferedReader(new InputStreamReader(in));\n</code></pre>\n"},{"tags":["java","jersey","jackson","jersey-2.0"],"answers":[{"tags":[],"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1632602925,"creation_date":1431820530,"answer_id":30281912,"question_id":30278303,"body_markdown":"Yeah, so the Jackson feature is wrapped in an [auto-discoverable][1], so it&#39;s automatically registered. There a a couple options I see.\r\n\r\n### _You Could..._\r\n\r\nDisable the auto discovery feature with the property\r\n\r\n    CommonProperties.FEATURE_AUTO_DISCOVERY_DISABLE\r\n    - or -\r\n    &quot;jersey.config.disableAutoDiscovery&quot;\r\n\r\nThe only thing with this is that any other feature that you would expect to be registered automatically (which are also auto discovered) will need to be registered again. (There aren&#39;t many features that are auto-discovered, so it might not be that big of a problem to disable it, if any).\r\n\r\n### _You Could..._\r\n\r\nNot use `jersey-media-json-jackson` and instead use \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-jaxrs-json-provider&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n`jersey-media-json-jackson` actually uses that provider, it doesn&#39;t actually provide any of it&#39;s own Jackson functionality. All it does really is register the MBR, MBW, and ExceptionMapper, and also wrap it in the auto-discoverable. The `JacksonJsonProvider` or `JacksonJaxbJsonProvider` you extended is there. You may also want to register the `JsonParseExceptionMapper` and `JsonMappingExceptionMapper`.\r\n\r\n### _Also..._\r\n\r\nNot sure why you are extending the `JacksonJsonProvider`, but if it&#39;s just to register your own `ObjectMapper`, the more common approach is to configure it in a [`ContextResolver`](https://jersey.java.net/documentation/latest/media.html#json.jackson)\r\n\r\n\r\n[1]: https://eclipse-ee4j.github.io/jersey.github.io/documentation/latest/deployment.html#deployment.autodiscoverable","title":"Jersey: disable default JSON provider","body":"<p>Yeah, so the Jackson feature is wrapped in an <a href=\"https://eclipse-ee4j.github.io/jersey.github.io/documentation/latest/deployment.html#deployment.autodiscoverable\" rel=\"nofollow noreferrer\">auto-discoverable</a>, so it's automatically registered. There a a couple options I see.</p>\n<h3><em>You Could...</em></h3>\n<p>Disable the auto discovery feature with the property</p>\n<pre><code>CommonProperties.FEATURE_AUTO_DISCOVERY_DISABLE\n- or -\n&quot;jersey.config.disableAutoDiscovery&quot;\n</code></pre>\n<p>The only thing with this is that any other feature that you would expect to be registered automatically (which are also auto discovered) will need to be registered again. (There aren't many features that are auto-discovered, so it might not be that big of a problem to disable it, if any).</p>\n<h3><em>You Could...</em></h3>\n<p>Not use <code>jersey-media-json-jackson</code> and instead use</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-jaxrs-json-provider&lt;/artifactId&gt;\n    &lt;version&gt;2.5.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><code>jersey-media-json-jackson</code> actually uses that provider, it doesn't actually provide any of it's own Jackson functionality. All it does really is register the MBR, MBW, and ExceptionMapper, and also wrap it in the auto-discoverable. The <code>JacksonJsonProvider</code> or <code>JacksonJaxbJsonProvider</code> you extended is there. You may also want to register the <code>JsonParseExceptionMapper</code> and <code>JsonMappingExceptionMapper</code>.</p>\n<h3><em>Also...</em></h3>\n<p>Not sure why you are extending the <code>JacksonJsonProvider</code>, but if it's just to register your own <code>ObjectMapper</code>, the more common approach is to configure it in a <a href=\"https://jersey.java.net/documentation/latest/media.html#json.jackson\" rel=\"nofollow noreferrer\"><code>ContextResolver</code></a></p>\n"}],"owner":{"account_id":473732,"reputation":176,"user_id":883005,"accept_rate":71,"display_name":"sv13"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3519,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":30281912,"answer_count":1,"score":5,"last_activity_date":1632602925,"creation_date":1431794885,"question_id":30278303,"body_markdown":"i am using Jersey 2.17, JSON and automatic feature discovery.\r\n\r\nI have my custom JSON Provider extending &lt;code&gt;JacksonJsonProvider&lt;/code&gt;. It&#39;s annotated with &lt;code&gt;@Provider&lt;/code&gt; and automatically registerd, same as default one that comes with:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nI want to disable/exclude default one without giving up on feature scanning/manually registering everything. \r\n\r\nOnly solution I&#39;ve came up with is &lt;code&gt;@Priority(Integer.MAX_VALUE)&lt;/code&gt; to make sure my provider have higher priority, but I don&#39;t like  the idea of relying on priority.\r\n\r\ntried &lt;code&gt;jersey.config.disableJsonProcessing&lt;/code&gt; but it does not seem to change anything","title":"Jersey: disable default JSON provider","body":"<p>i am using Jersey 2.17, JSON and automatic feature discovery.</p>\n\n<p>I have my custom JSON Provider extending <code>JacksonJsonProvider</code>. It's annotated with <code>@Provider</code> and automatically registerd, same as default one that comes with:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>I want to disable/exclude default one without giving up on feature scanning/manually registering everything. </p>\n\n<p>Only solution I've came up with is <code>@Priority(Integer.MAX_VALUE)</code> to make sure my provider have higher priority, but I don't like  the idea of relying on priority.</p>\n\n<p>tried <code>jersey.config.disableJsonProcessing</code> but it does not seem to change anything</p>\n"},{"tags":["java","jackson","jersey-2.0","jsr310"],"answers":[{"tags":[],"owner":{"account_id":1135699,"reputation":30287,"user_id":1120793,"accept_rate":35,"display_name":"Darshan Mehta"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1488111631,"creation_date":1488110821,"answer_id":42468267,"question_id":42468133,"body_markdown":"Jackson configuration looks fine, I tried the following and was able to deserialize the value:\r\n\r\n    public class Test {\r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tObjectMapper mapper = new ObjectMapper();\r\n    \t\tmapper.registerModule(new JavaTimeModule());\r\n    \t\tModel model = mapper.readValue(&quot;{\\&quot;time\\&quot; : \\&quot;2014-07-02T04:00:00.000000Z\\&quot;}&quot;, Model.class);\r\n    \t\tSystem.out.println(model.getTime());\r\n    \t}\r\n    \t\r\n    }\r\n    \r\n    class Model{\r\n    \tprivate ZonedDateTime time;\r\n    \r\n    \tpublic ZonedDateTime getTime() {\r\n    \t\treturn time;\r\n    \t}\r\n    \tpublic void setTime(ZonedDateTime time) {\r\n    \t\tthis.time = time;\r\n    \t}\r\n    }\r\n\r\nI can reproduce it by commenting out `mapper.registerModule(new JavaTimeModule());`. So, it looks like jersey client is not using custom `mapper` instance. Could you try configuring it as described [here][1].\r\n\r\n\r\n  [1]: http://code-willy.blogspot.co.uk/2013/03/jersey-client-with-customize-json.html","title":"Registering JacksonJsonProvider with ObjectMapper + JavaTimeModule to Jersey 2 Client","body":"<p>Jackson configuration looks fine, I tried the following and was able to deserialize the value:</p>\n\n<pre><code>public class Test {\n\n    public static void main(String[] args) throws Exception {\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.registerModule(new JavaTimeModule());\n        Model model = mapper.readValue(\"{\\\"time\\\" : \\\"2014-07-02T04:00:00.000000Z\\\"}\", Model.class);\n        System.out.println(model.getTime());\n    }\n\n}\n\nclass Model{\n    private ZonedDateTime time;\n\n    public ZonedDateTime getTime() {\n        return time;\n    }\n    public void setTime(ZonedDateTime time) {\n        this.time = time;\n    }\n}\n</code></pre>\n\n<p>I can reproduce it by commenting out <code>mapper.registerModule(new JavaTimeModule());</code>. So, it looks like jersey client is not using custom <code>mapper</code> instance. Could you try configuring it as described <a href=\"http://code-willy.blogspot.co.uk/2013/03/jersey-client-with-customize-json.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1632602896,"creation_date":1488154040,"answer_id":42475863,"question_id":42468133,"body_markdown":"&gt;Eventually it works if I use solution that is commented in following snippet.\r\n\r\nFirst of all, you are missing a dependency in your list, that you also have, which is the problem.\r\n\r\n`jersey-media-json-jackson`\r\n\r\nThis module depends on the native Jackson module that has the `JacksonJsonProvider`. When you register the `JacksonFeature` (that comes with `jersey-media-json-jackson`), it registers its own `JacksonJaxbJsonProvider`, which seems to take precedence over any that you provide.\r\n\r\nWhen you use the `ContextResolver`, the `JacksonJsonProvider` actually looks-up that `ContextResolver` and uses it to resolve the `ObjectMapper`. That&#39;s why it works. Whether you used the `JacksonFeature` or registered your own `JacksonJsonProvider` (without configuring an `ObjectMapper` for it) the `ContextResovler` would work. \r\n\r\nAnother thing about the `jersey-media-json-jackson` module, it that it participates in Jersey&#39;s [auto-discoverable][auto-discoverables] mechanism, which registers it&#39;s `JacksonFeature`. So even if you didn&#39;t explicitly register it, it would still be registered. The only ways to avoid it being registered are to:\r\n\r\n1. Disable the auto-discovery (as mention in the [previous link][auto-discoverables])&lt;sup&gt;1&lt;/sup&gt;\r\n2. Don&#39;t use the `jersey-media-json-jackson`. Just use the Jackson native module `jackson-jaxrs-json-provider`. Thing about this though is that, the `jersey-media-json-jackson` adds a couple features on top of the  the native module, so you would lose those.\r\n3. Haven&#39;t tested, but it seems that if you use `JacksonJaxbJsonProvider` instead of `JacksonJsonProvider`, it might work. If you look at the [source for the `JacksonFeature`][2], you will see that it checks for an already registered `JacksonJaxbJsonProvider`. If there is one, it won&#39;t register it&#39;s own. \r\n\r\n    The one thing I&#39;m not sure about with this is the auto-discoverable. The order in which it is registered, if it will affect whether or not it catches your registered `JacksonJaxbJsonProvider`. Something you can test out.\r\n\r\n----\r\n\r\n### Footnotes\r\n\r\n&lt;sub&gt;1. [See also](https://stackoverflow.com/a/30281912/2587435)&lt;/sub&gt;\r\n\r\n[1]: https://eclipse-ee4j.github.io/jersey.github.io/documentation/latest/deployment.html#deployment.autodiscoverable\r\n\r\n[2]: https://github.com/jersey/jersey/blob/2.25.1/media/json-jackson/src/main/java/org/glassfish/jersey/jackson/JacksonFeature.java#L85\r\n\r\n[auto-discoverables]: https://eclipse-ee4j.github.io/jersey.github.io/documentation/latest/deployment.html#deployment.autodiscoverable","title":"Registering JacksonJsonProvider with ObjectMapper + JavaTimeModule to Jersey 2 Client","body":"<blockquote>\n<p>Eventually it works if I use solution that is commented in following snippet.</p>\n</blockquote>\n<p>First of all, you are missing a dependency in your list, that you also have, which is the problem.</p>\n<p><code>jersey-media-json-jackson</code></p>\n<p>This module depends on the native Jackson module that has the <code>JacksonJsonProvider</code>. When you register the <code>JacksonFeature</code> (that comes with <code>jersey-media-json-jackson</code>), it registers its own <code>JacksonJaxbJsonProvider</code>, which seems to take precedence over any that you provide.</p>\n<p>When you use the <code>ContextResolver</code>, the <code>JacksonJsonProvider</code> actually looks-up that <code>ContextResolver</code> and uses it to resolve the <code>ObjectMapper</code>. That's why it works. Whether you used the <code>JacksonFeature</code> or registered your own <code>JacksonJsonProvider</code> (without configuring an <code>ObjectMapper</code> for it) the <code>ContextResovler</code> would work.</p>\n<p>Another thing about the <code>jersey-media-json-jackson</code> module, it that it participates in Jersey's <a href=\"https://eclipse-ee4j.github.io/jersey.github.io/documentation/latest/deployment.html#deployment.autodiscoverable\" rel=\"nofollow noreferrer\">auto-discoverable</a> mechanism, which registers it's <code>JacksonFeature</code>. So even if you didn't explicitly register it, it would still be registered. The only ways to avoid it being registered are to:</p>\n<ol>\n<li><p>Disable the auto-discovery (as mention in the <a href=\"https://eclipse-ee4j.github.io/jersey.github.io/documentation/latest/deployment.html#deployment.autodiscoverable\" rel=\"nofollow noreferrer\">previous link</a>)<sup>1</sup></p>\n</li>\n<li><p>Don't use the <code>jersey-media-json-jackson</code>. Just use the Jackson native module <code>jackson-jaxrs-json-provider</code>. Thing about this though is that, the <code>jersey-media-json-jackson</code> adds a couple features on top of the  the native module, so you would lose those.</p>\n</li>\n<li><p>Haven't tested, but it seems that if you use <code>JacksonJaxbJsonProvider</code> instead of <code>JacksonJsonProvider</code>, it might work. If you look at the <a href=\"https://github.com/jersey/jersey/blob/2.25.1/media/json-jackson/src/main/java/org/glassfish/jersey/jackson/JacksonFeature.java#L85\" rel=\"nofollow noreferrer\">source for the <code>JacksonFeature</code></a>, you will see that it checks for an already registered <code>JacksonJaxbJsonProvider</code>. If there is one, it won't register it's own.</p>\n<p>The one thing I'm not sure about with this is the auto-discoverable. The order in which it is registered, if it will affect whether or not it catches your registered <code>JacksonJaxbJsonProvider</code>. Something you can test out.</p>\n</li>\n</ol>\n<hr />\n<h3>Footnotes</h3>\n<p><sub>1. <a href=\"https://stackoverflow.com/a/30281912/2587435\">See also</a></sub></p>\n"},{"tags":[],"owner":{"account_id":1806748,"reputation":3695,"user_id":1643711,"accept_rate":67,"display_name":"Mircea Stanciu"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1534307031,"creation_date":1534307031,"answer_id":51852924,"question_id":42468133,"body_markdown":"From my pet project:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n        &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    public WebTarget getTarget(URI uri) {\r\n        Client client = ClientBuilder\r\n                .newClient()\r\n                .register(JacksonConfig.class);\r\n        return client.target(uri);\r\n    }\r\n\r\nwhere\r\n\r\n    @Provider\r\n    public class JacksonConfig implements ContextResolver&lt;ObjectMapper&gt; {\r\n\r\n        private final ObjectMapper objectMapper;\r\n\r\n        public JacksonConfig() {\r\n            objectMapper = new ObjectMapper();\r\n            objectMapper.registerModule(new JavaTimeModule());\r\n            objectMapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\r\n            objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n            objectMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\r\n        }\r\n\r\n        @Override\r\n        public ObjectMapper getContext(Class&lt;?&gt; aClass) {\r\n            return objectMapper;\r\n        }\r\n    }\r\n","title":"Registering JacksonJsonProvider with ObjectMapper + JavaTimeModule to Jersey 2 Client","body":"<p>From my pet project:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n    &lt;version&gt;${jackson.version}&lt;/version&gt;\n&lt;/dependency&gt;\n\npublic WebTarget getTarget(URI uri) {\n    Client client = ClientBuilder\n            .newClient()\n            .register(JacksonConfig.class);\n    return client.target(uri);\n}\n</code></pre>\n\n<p>where</p>\n\n<pre><code>@Provider\npublic class JacksonConfig implements ContextResolver&lt;ObjectMapper&gt; {\n\n    private final ObjectMapper objectMapper;\n\n    public JacksonConfig() {\n        objectMapper = new ObjectMapper();\n        objectMapper.registerModule(new JavaTimeModule());\n        objectMapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\n        objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n        objectMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\n    }\n\n    @Override\n    public ObjectMapper getContext(Class&lt;?&gt; aClass) {\n        return objectMapper;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5714733,"reputation":881,"user_id":4515400,"accept_rate":92,"display_name":"libnull-dev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20620,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":42475863,"answer_count":3,"score":16,"last_activity_date":1632602896,"creation_date":1488110069,"question_id":42468133,"body_markdown":"I&#39;m trying to marshal response containing ISO formatted timestamp like that:\r\n\r\n    {\r\n    ...\r\n        &quot;time&quot; : &quot;2014-07-02T04:00:00.000000Z&quot;\r\n    ...\r\n    }\r\n\r\ninto `ZonedDateTime` field in my domain model object. Eventually it works if I use solution that is commented in following snippet.There are many similar questions on SO but I would like to get a specific answer\r\n what is wrong with  another approach which uses `JacksonJsonProvider` with `ObjectMapper + JavaTimeModule`?\r\n\r\n\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            mapper.registerModule(new JavaTimeModule());\r\n            JacksonJsonProvider provider = new JacksonJsonProvider(mapper);\r\n            Client client = ClientBuilder.newBuilder()\r\n    //                .register(new ObjectMapperContextResolver(){\r\n    //                    @Override\r\n    //                    public ObjectMapper getContext(Class&lt;?&gt; type) {\r\n    //                        ObjectMapper mapper = new ObjectMapper();\r\n    //                        mapper.registerModule(new JavaTimeModule());\r\n    //                        return mapper;\r\n    //                    }\r\n    //                })\r\n                    .register(provider)\r\n                    .register(JacksonFeature.class)\r\n                    .build();\r\n\r\nError I get:\r\n\r\n    javax.ws.rs.client.ResponseProcessingException: com.fasterxml.jackson.databind.JsonMappingException: Can not construct instance of java.time.ZonedDateTime: no String-argument constructor/factory method to deserialize from String value (&#39;2017-02-24T20:46:05.000000Z&#39;)\r\n     at [Source: org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$UnCloseableInputStream@53941c2f\r\n\r\nProject dependencies are:\r\n\r\n    \r\n    compile &#39;com.fasterxml.jackson.datatype:jackson-datatype-jdk8:2.8.7&#39;\r\n    compile &#39;com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.8.7&#39;\r\n    compile &#39;com.fasterxml.jackson.core:jackson-core:2.8.7&#39;\r\n    compile &#39;com.fasterxml.jackson.core:jackson-databind:2.8.7&#39;\r\n    compile &#39;com.fasterxml.jackson.core:jackson-annotations:2.8.7&#39;\r\n    compile &#39;org.glassfish.jersey.core:jersey-client:2.25.1&#39;\r\n    \r\n_edit_\r\n\r\nDeserialization happens in here:\r\n\r\n    CandlesResponse&lt;BidAskCandle&gt; candlesResponse = webTarget.request()\r\n                    .header(HttpHeaders.AUTHORIZATION,&quot;Bearer &quot;+token)\r\n                    .accept(MediaType.APPLICATION_JSON)\r\n                    .get(new GenericType&lt;CandlesResponse&lt;BidAskCandle&gt;&gt;(){});\r\n\r\n","title":"Registering JacksonJsonProvider with ObjectMapper + JavaTimeModule to Jersey 2 Client","body":"<p>I'm trying to marshal response containing ISO formatted timestamp like that:</p>\n\n<pre><code>{\n...\n    \"time\" : \"2014-07-02T04:00:00.000000Z\"\n...\n}\n</code></pre>\n\n<p>into <code>ZonedDateTime</code> field in my domain model object. Eventually it works if I use solution that is commented in following snippet.There are many similar questions on SO but I would like to get a specific answer\n what is wrong with  another approach which uses <code>JacksonJsonProvider</code> with <code>ObjectMapper + JavaTimeModule</code>?</p>\n\n<pre><code>        ObjectMapper mapper = new ObjectMapper();\n        mapper.registerModule(new JavaTimeModule());\n        JacksonJsonProvider provider = new JacksonJsonProvider(mapper);\n        Client client = ClientBuilder.newBuilder()\n//                .register(new ObjectMapperContextResolver(){\n//                    @Override\n//                    public ObjectMapper getContext(Class&lt;?&gt; type) {\n//                        ObjectMapper mapper = new ObjectMapper();\n//                        mapper.registerModule(new JavaTimeModule());\n//                        return mapper;\n//                    }\n//                })\n                .register(provider)\n                .register(JacksonFeature.class)\n                .build();\n</code></pre>\n\n<p>Error I get:</p>\n\n<pre><code>javax.ws.rs.client.ResponseProcessingException: com.fasterxml.jackson.databind.JsonMappingException: Can not construct instance of java.time.ZonedDateTime: no String-argument constructor/factory method to deserialize from String value ('2017-02-24T20:46:05.000000Z')\n at [Source: org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$UnCloseableInputStream@53941c2f\n</code></pre>\n\n<p>Project dependencies are:</p>\n\n<pre><code>compile 'com.fasterxml.jackson.datatype:jackson-datatype-jdk8:2.8.7'\ncompile 'com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.8.7'\ncompile 'com.fasterxml.jackson.core:jackson-core:2.8.7'\ncompile 'com.fasterxml.jackson.core:jackson-databind:2.8.7'\ncompile 'com.fasterxml.jackson.core:jackson-annotations:2.8.7'\ncompile 'org.glassfish.jersey.core:jersey-client:2.25.1'\n</code></pre>\n\n<p><em>edit</em></p>\n\n<p>Deserialization happens in here:</p>\n\n<pre><code>CandlesResponse&lt;BidAskCandle&gt; candlesResponse = webTarget.request()\n                .header(HttpHeaders.AUTHORIZATION,\"Bearer \"+token)\n                .accept(MediaType.APPLICATION_JSON)\n                .get(new GenericType&lt;CandlesResponse&lt;BidAskCandle&gt;&gt;(){});\n</code></pre>\n"},{"tags":["java","linked-list","nodes"],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632602724,"creation_date":1632602724,"answer_id":69329892,"question_id":69328847,"body_markdown":"You&#39;ll have to have a method that identifies the node that *precedes* the node with the data to delete. You already have a `searchNode`, so it should be similar. \r\n\r\nBut `searchNode` has a problem: it does not compare strings in the right way. You should use the `.equals` method. Change this line:\r\n\r\n```\r\n    if(data == temp.getData())\r\n```\r\n\r\nto:\r\n\r\n```\r\n    if(temp.getData().equals(data))\r\n```\r\n\r\n\r\nHere is the method you would need to delete one (or more) nodes that have the given data:\r\n\r\n```\r\npublic void deleteNode(String data) {\r\n    if (head == null) \r\n        return;\r\n    if (head.getData().equals(data)) {\r\n        head = head.link;\r\n        return;\r\n    }\r\n    ListNode temp = head;\r\n    while (temp.link != null) {\r\n        if (temp.link.getData().equals(data)) {\r\n            temp.link = temp.link.link;\r\n        } else {\r\n            temp = temp.link;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIn the main program you would do this:\r\n\r\n```\r\nSystem.out.println(&quot;Please enter the desired data you want to delete. &gt;&gt; &quot;);\r\nScanner scanner = new Scanner(System.in);\r\nString data = scanner.nextLine();\r\nL.deleteNode(data);\r\nL.printList();\r\n```\r\n\r\n","title":"How do you delete a certain node based on a name inputted by the user","body":"<p>You'll have to have a method that identifies the node that <em>precedes</em> the node with the data to delete. You already have a <code>searchNode</code>, so it should be similar.</p>\n<p>But <code>searchNode</code> has a problem: it does not compare strings in the right way. You should use the <code>.equals</code> method. Change this line:</p>\n<pre><code>    if(data == temp.getData())\n</code></pre>\n<p>to:</p>\n<pre><code>    if(temp.getData().equals(data))\n</code></pre>\n<p>Here is the method you would need to delete one (or more) nodes that have the given data:</p>\n<pre><code>public void deleteNode(String data) {\n    if (head == null) \n        return;\n    if (head.getData().equals(data)) {\n        head = head.link;\n        return;\n    }\n    ListNode temp = head;\n    while (temp.link != null) {\n        if (temp.link.getData().equals(data)) {\n            temp.link = temp.link.link;\n        } else {\n            temp = temp.link;\n        }\n    }\n}\n</code></pre>\n<p>In the main program you would do this:</p>\n<pre><code>System.out.println(&quot;Please enter the desired data you want to delete. &gt;&gt; &quot;);\nScanner scanner = new Scanner(System.in);\nString data = scanner.nextLine();\nL.deleteNode(data);\nL.printList();\n</code></pre>\n"}],"owner":{"account_id":21938933,"reputation":15,"user_id":16219737,"display_name":"RainyDay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69329892,"answer_count":1,"score":1,"last_activity_date":1632602724,"creation_date":1632593490,"question_id":69328847,"body_markdown":"I want to delete a certain node in a linked-list but, I can&#39;t use `java.util.LinkedList`\r\n\r\nThe final result should be like this.\r\n\r\nHow do you find a node based on its name?\r\n\r\nCan you find the nodes index based on its name, and delete it the original way?\r\n\r\n    L = (mon, wed, fri)   \r\n    Please enter the desired data you want to delete. &gt;&gt;  wed    \r\n    L = (mon, fri)\r\nAdding my original code, hope it will help. \r\n\r\n    package week4;\r\n    \r\n    public class C {\r\n    \tpublic static void main(String args[]) {\r\n    \t\tLinkedList L = new LinkedList();\r\n    \t\tSystem.out.println(&quot;Add three nodes.&quot;);\t\t\r\n    \t\tL.insertLastNode(&quot;mon&quot;);\r\n    \t\tL.insertLastNode(&quot;wed&quot;);\r\n    \t\tL.insertLastNode(&quot;sun&quot;);\r\n    \t\tL.printList(); \r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Add fri behind wed.&quot;);\t\t\t\r\n    \t\tListNode pre = L.searchNode(&quot;wed&quot;);\r\n    \t\tif(pre == null) \r\n    \t\t\tSystem.out.println(&quot;Error &gt;&gt; No data found&quot;);\r\n    \t\telse {\r\n    \t\t\tL.insertMiddleNode(pre, &quot;fri&quot;);\r\n    \t\t\tL.printList();\r\n    \t\t} \r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Delete last node.&quot;);\r\n    \t\tL.deleteLastNode();\r\n    \t\tL.printList();\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Please enter the desired data you want to delete. &gt;&gt; &quot;);\r\n    \t}\r\n    }\r\n    class LinkedList{\r\n    \tprivate ListNode head; \t\t\t\t\t      \t\r\n    \tpublic LinkedList() {\t\t\t\t\t\t\r\n    \t\thead = null;\t\t\r\n    \t}\t\t  \t\t\t\r\n    \tpublic void insertMiddleNode(ListNode pre, String data) {\r\n    \t\tListNode newNode = new ListNode(data); \t\t//-&gt; new |data|null|\r\n    \t\tnewNode.link = pre.link;               \t\t//-&gt; new |data|pre.link|\r\n    \t\tpre.link = newNode;                    \t\t//-&gt; pre |predata|new.link|\r\n    \t}\t\t\r\n    \tpublic void insertLastNode(String data) {\r\n    \t\tListNode newNode = new ListNode(data);\t\t//-&gt; new |data|null|\r\n    \t\tif(head == null) {       \t\t\t\t\t\r\n    \t\t\tthis.head = newNode; \t\t\t\t\t\r\n    \t\t} \r\n    \t\telse{                    \r\n    \t\t\tListNode temp = head;\r\n    \t\t\twhile(temp.link != null)  \t\t\t\t\r\n    \t\t\t\t temp = temp.link;  \t\t\t\t\r\n    \t\t\ttemp.link = newNode;\t\t\t\t\t\t\t\r\n    \t\t}\r\n    \t}\r\n    \tpublic void deleteLastNode() {\r\n    \t\tListNode pre, temp;\r\n    \t\tif(head == null) \r\n    \t\treturn;\r\n    \t\tif(head.link == null) {\r\n    \t\t\thead = null;\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tpre = head;\r\n    \t\t\ttemp = head.link;\r\n    \t\t\twhile(temp.link != null) {\r\n    \t\t\t\tpre = temp;\r\n    \t\t\t\ttemp = temp.link;\r\n    \t\t\t}\r\n    \t\t\tpre.link = null;\r\n    \t\t}\r\n    \t}\t\r\n    \tpublic ListNode searchNode(String data) {\r\n    \t\tListNode temp = this.head;\r\n    \t\twhile(temp != null) {\r\n    \t\t\tif(data == temp.getData())\r\n    \t\t\t\treturn temp;\r\n    \t\t\telse temp = temp.link;\r\n    \t\t}\r\n    \t\treturn null;\r\n    \t}\r\n    \tpublic void reverseList() {\r\n    \t\tListNode next = head;\r\n    \t\tListNode current = null;\r\n    \t\tListNode pre = null;\r\n    \t\twhile(next  != null) {\r\n    \t\t\tpre = current;\r\n    \t\t\tcurrent = next;\r\n    \t\t\tnext = next.link;\r\n    \t\t\tcurrent.link = pre;\r\n    \t\t}\r\n    \t\thead = current;\r\n    \t}\r\n    \tpublic void printList() {\r\n    \t\tListNode temp = this.head;\r\n    \t\tSystem.out.printf(&quot;L = (&quot;);\r\n    \t\twhile(temp != null) {\r\n    \t\t\tSystem.out.printf(temp.getData());\r\n    \t\t\ttemp = temp.link;\r\n    \t\t\tif(temp != null) {\r\n    \t\t\t\tSystem.out.printf(&quot;, &quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;)&quot;);\t\t\r\n    \t}\t\r\n    }\r\n    \r\n    class ListNode {\r\n    \tprivate String data;\r\n    \tpublic ListNode link;\r\n    \tpublic ListNode() {                           \r\n    \t\tthis.data = null;\r\n    \t\tthis.link = null;\t\t\t\t\r\n    \t}\r\n    \tpublic ListNode(String data) {                \r\n    \t\tthis.data = data;\r\n    \t\tthis.link = null;\r\n    \t}\r\n    \tpublic ListNode(String data, ListNode link) { \r\n    \t\tthis.data = data;\r\n    \t\tthis.link = link;\r\n    \t}\r\n    \tpublic String getData() {                    \r\n    \t\treturn this.data;\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n","title":"How do you delete a certain node based on a name inputted by the user","body":"<p>I want to delete a certain node in a linked-list but, I can't use <code>java.util.LinkedList</code></p>\n<p>The final result should be like this.</p>\n<p>How do you find a node based on its name?</p>\n<p>Can you find the nodes index based on its name, and delete it the original way?</p>\n<pre><code>L = (mon, wed, fri)   \nPlease enter the desired data you want to delete. &gt;&gt;  wed    \nL = (mon, fri)\n</code></pre>\n<p>Adding my original code, hope it will help.</p>\n<pre><code>package week4;\n\npublic class C {\n    public static void main(String args[]) {\n        LinkedList L = new LinkedList();\n        System.out.println(&quot;Add three nodes.&quot;);     \n        L.insertLastNode(&quot;mon&quot;);\n        L.insertLastNode(&quot;wed&quot;);\n        L.insertLastNode(&quot;sun&quot;);\n        L.printList(); \n        \n        System.out.println(&quot;Add fri behind wed.&quot;);          \n        ListNode pre = L.searchNode(&quot;wed&quot;);\n        if(pre == null) \n            System.out.println(&quot;Error &gt;&gt; No data found&quot;);\n        else {\n            L.insertMiddleNode(pre, &quot;fri&quot;);\n            L.printList();\n        } \n        \n        System.out.println(&quot;Delete last node.&quot;);\n        L.deleteLastNode();\n        L.printList();\n        \n        System.out.println(&quot;Please enter the desired data you want to delete. &gt;&gt; &quot;);\n    }\n}\nclass LinkedList{\n    private ListNode head;                          \n    public LinkedList() {                       \n        head = null;        \n    }                   \n    public void insertMiddleNode(ListNode pre, String data) {\n        ListNode newNode = new ListNode(data);      //-&gt; new |data|null|\n        newNode.link = pre.link;                    //-&gt; new |data|pre.link|\n        pre.link = newNode;                         //-&gt; pre |predata|new.link|\n    }       \n    public void insertLastNode(String data) {\n        ListNode newNode = new ListNode(data);      //-&gt; new |data|null|\n        if(head == null) {                          \n            this.head = newNode;                    \n        } \n        else{                    \n            ListNode temp = head;\n            while(temp.link != null)                \n                 temp = temp.link;                  \n            temp.link = newNode;                            \n        }\n    }\n    public void deleteLastNode() {\n        ListNode pre, temp;\n        if(head == null) \n        return;\n        if(head.link == null) {\n            head = null;\n        }\n        else {\n            pre = head;\n            temp = head.link;\n            while(temp.link != null) {\n                pre = temp;\n                temp = temp.link;\n            }\n            pre.link = null;\n        }\n    }   \n    public ListNode searchNode(String data) {\n        ListNode temp = this.head;\n        while(temp != null) {\n            if(data == temp.getData())\n                return temp;\n            else temp = temp.link;\n        }\n        return null;\n    }\n    public void reverseList() {\n        ListNode next = head;\n        ListNode current = null;\n        ListNode pre = null;\n        while(next  != null) {\n            pre = current;\n            current = next;\n            next = next.link;\n            current.link = pre;\n        }\n        head = current;\n    }\n    public void printList() {\n        ListNode temp = this.head;\n        System.out.printf(&quot;L = (&quot;);\n        while(temp != null) {\n            System.out.printf(temp.getData());\n            temp = temp.link;\n            if(temp != null) {\n                System.out.printf(&quot;, &quot;);\n            }\n        }\n        System.out.println(&quot;)&quot;);        \n    }   \n}\n\nclass ListNode {\n    private String data;\n    public ListNode link;\n    public ListNode() {                           \n        this.data = null;\n        this.link = null;               \n    }\n    public ListNode(String data) {                \n        this.data = data;\n        this.link = null;\n    }\n    public ListNode(String data, ListNode link) { \n        this.data = data;\n        this.link = link;\n    }\n    public String getData() {                    \n        return this.data;\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2340745,"reputation":7243,"user_id":2052097,"accept_rate":85,"display_name":"z atef"},"score":0,"creation_date":1632601936,"post_id":69329783,"comment_id":122538781,"body_markdown":"Can you provide sample input string and sample output string.","body":"Can you provide sample input string and sample output string."},{"owner":{"account_id":15696142,"reputation":499,"user_id":13916802,"display_name":"Alpharius"},"score":0,"creation_date":1632602070,"post_id":69329783,"comment_id":122538798,"body_markdown":"@Unmitigated it doesn&#39;t work","body":"@Unmitigated it doesn&#39;t work"}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632602278,"creation_date":1632602278,"answer_id":69329843,"question_id":69329783,"body_markdown":"You can first remove all characters that are not alphanumeric or one of the accepted punctuation marks. Then, you can use a capturing group to match a punctuation mark followed by at one or more of the same punctuation mark, to be replaced by a single punctuation mark.\r\n\r\n```\r\nString str = &quot;agagahh,,,mvf ....      AJFKL  ???&quot;;\r\nString res = str.replaceAll(&quot;[^ a-zA-z0-9.?,]&quot;, &quot;&quot;).replaceAll(&quot;([ .,?])\\\\1+&quot;, &quot;$1&quot;);\r\nSystem.out.println(res);\r\n```","title":"What should I add to a regular expression to remove punctuation marks that appear more than 1 time?","body":"<p>You can first remove all characters that are not alphanumeric or one of the accepted punctuation marks. Then, you can use a capturing group to match a punctuation mark followed by at one or more of the same punctuation mark, to be replaced by a single punctuation mark.</p>\n<pre><code>String str = &quot;agagahh,,,mvf ....      AJFKL  ???&quot;;\nString res = str.replaceAll(&quot;[^ a-zA-z0-9.?,]&quot;, &quot;&quot;).replaceAll(&quot;([ .,?])\\\\1+&quot;, &quot;$1&quot;);\nSystem.out.println(res);\n</code></pre>\n"}],"owner":{"account_id":15696142,"reputation":499,"user_id":13916802,"display_name":"Alpharius"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69329843,"answer_count":1,"score":1,"last_activity_date":1632602278,"creation_date":1632601788,"question_id":69329783,"body_markdown":"I am trying to write a regular expression that will remove letters of another language and punctuation marks that occur more than 1 time.\r\n\r\nTo remove the letters from another language here is the usual expression:\r\n\r\n```\r\nst = test.replaceAll(&quot;[^ a-zA-z0-9]&quot; ,  &quot;&quot;);\r\n```\r\nBut i don&#39;t understand what should i add to it so that it removes not all punctuation marks and spaces ,but only those that occur more than 1 time:\r\n``` String test = new String(&quot;agagahh,,,mvf ....      AJFKL  ???&quot;);```\r\n\r\nI will be glad to help\r\n\r\nInput : ```&quot;agagahh,,,mvf ....      AJFKL  ???&quot;```\r\n\r\nOutput:```&quot;agagahh,mvf . AJFKL ?&quot;```","title":"What should I add to a regular expression to remove punctuation marks that appear more than 1 time?","body":"<p>I am trying to write a regular expression that will remove letters of another language and punctuation marks that occur more than 1 time.</p>\n<p>To remove the letters from another language here is the usual expression:</p>\n<pre><code>st = test.replaceAll(&quot;[^ a-zA-z0-9]&quot; ,  &quot;&quot;);\n</code></pre>\n<p>But i don't understand what should i add to it so that it removes not all punctuation marks and spaces ,but only those that occur more than 1 time:\n<code> String test = new String(&quot;agagahh,,,mvf ....      AJFKL  ???&quot;);</code></p>\n<p>I will be glad to help</p>\n<p>Input : <code>&quot;agagahh,,,mvf ....      AJFKL  ???&quot;</code></p>\n<p>Output:<code>&quot;agagahh,mvf . AJFKL ?&quot;</code></p>\n"},{"tags":["java","jpa","intellij-idea","glassfish"],"comments":[{"owner":{"account_id":3362613,"reputation":3562,"user_id":2824087,"accept_rate":100,"display_name":"Rob Gorman"},"score":0,"creation_date":1639152907,"post_id":69329565,"comment_id":124283321,"body_markdown":"I have exact same problem","body":"I have exact same problem"}],"owner":{"account_id":18748815,"reputation":21,"user_id":16946931,"display_name":"Alder Isaac Solis de Leon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1632599818,"creation_date":1632599818,"question_id":69329565,"body_markdown":"Good morning, Stack overflow community\r\n\r\nI am trying to build GlassFish 5.0.1 with intellij Idea, and when I run the server the localhost with port 8080 runs excellent, but the admin that by default is in 4848 throws me a blank page, on the contrary if I run the server from the GlassFish bin folder this one runs for me without problems, the problem is only when I run it from intellij idea.\r\n\r\nThis is the error that the console throws me:\r\n\r\njava.lang.NoClassDefFoundError: sun/security/util/CurveDB\r\n\r\n    java.lang.NoClassDefFoundError: sun/security/util/CurveDB\r\n    at sun.security.ec.SunEC.putEntries(SunEC.java:118)\r\n    at sun.security.ec.SunEC.&lt;init&gt;(SunEC.java:82)\r\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n    at java.lang.Class.newInstance(Class.java:442)\r\n    at sun.security.jca.ProviderConfig$2.run(ProviderConfig.java:221)\r\n    at sun.security.jca.ProviderConfig$2.run(ProviderConfig.java:206)\r\n    at java.security.AccessController.doPrivileged(Native Method)\r\n    at sun.security.jca.ProviderConfig.doLoadProvider(ProviderConfig.java:206)\r\n    at sun.security.jca.ProviderConfig.getProvider(ProviderConfig.java:187)\r\n    at sun.security.jca.ProviderList.getProvider(ProviderList.java:233)\r\n    at sun.security.jca.ProviderList.getService(ProviderList.java:331)\r\n    at sun.security.jca.GetInstance.getInstance(GetInstance.java:157)\r\n    at javax.net.ssl.SSLContext.getInstance(SSLContext.java:156)\r\n    at com.sun.enterprise.security.ssl.SSLUtils.getSSLContext(SSLUtils.java:146)\r\n    at com.sun.enterprise.security.ssl.SSLUtils.postConstruct(SSLUtils.java:126)\r\n    at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:327)\r\n    at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:375)\r\n    at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:487)\r\n    at org.jvnet.hk2.internal.SingletonContext$1.compute(SingletonContext.java:83)\r\n    at org.jvnet.hk2.internal.SingletonContext$1.compute(SingletonContext.java:71)\r\n    at org.glassfish.hk2.utilities.cache.Cache$OriginThreadAwareFuture$1.call(Cache.java:97)\r\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    at org.glassfish.hk2.utilities.cache.Cache$OriginThreadAwareFuture.run(Cache.java:154)\r\n    at org.glassfish.hk2.utilities.cache.Cache.compute(Cache.java:199)\r\n    at org.jvnet.hk2.internal.SingletonContext.findOrCreate(SingletonContext.java:122)\r\n    at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2126)\r\n    at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:116)\r\n    at org.jvnet.hk2.internal.ServiceLocatorImpl.getService(ServiceLocatorImpl.java:698)\r\n    at org.jvnet.hk2.internal.ThreeThirtyResolver.resolve(ThreeThirtyResolver.java:78)\r\n    at org.jvnet.hk2.internal.ClazzCreator.resolve(ClazzCreator.java:212)\r\n    at org.jvnet.hk2.internal.ClazzCreator.resolveAllDependencies(ClazzCreator.java:235)\r\n    at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:358)\r\n    at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:487)\r\n    at org.jvnet.hk2.internal.SingletonContext$1.compute(SingletonContext.java:83)\r\n    at org.jvnet.hk2.internal.SingletonContext$1.compute(SingletonContext.java:71)\r\n    at org.glassfish.hk2.utilities.cache.Cache$OriginThreadAwareFuture$1.call(Cache.java:97)\r\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    at org.glassfish.hk2.utilities.cache.Cache$OriginThreadAwareFuture.run(Cache.java:154)\r\n    at org.glassfish.hk2.utilities.cache.Cache.compute(Cache.java:199)\r\n    at org.jvnet.hk2.internal.SingletonContext.findOrCreate(SingletonContext.java:122)\r\n    at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2126)\r\n    at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:116)\r\n    at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:90)\r\n    at com.sun.enterprise.security.ee.SecuritySniffer.setup(SecuritySniffer.java:134)\r\n    at com.sun.enterprise.v3.server.ContainerStarter.startContainer(ContainerStarter.java:97)\r\n    at com.sun.enterprise.v3.server.ApplicationLifecycle.setupContainer(ApplicationLifecycle.java:997)\r\n\r\n\r\nI am using jdk 1.8 to run the glassfish and these are my configurations: Configuration in intellij Idea\r\n[configurations][1]\r\n\r\n\r\nlocalhost port 8080\r\n\r\n[port 8080][2]\r\n\r\nlocalhost port 4848\r\n\r\n[port 4848 admin][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KlJJI.png\r\n  [2]: https://i.stack.imgur.com/5CCLW.png\r\n  [3]: https://i.stack.imgur.com/A90KY.png\r\n\r\nthank you very much for your help","title":"Error GlassFish 5.0.1 when start server: java.lang.NoClassDefFoundError: sun/security/util/CurveDB","body":"<p>Good morning, Stack overflow community</p>\n<p>I am trying to build GlassFish 5.0.1 with intellij Idea, and when I run the server the localhost with port 8080 runs excellent, but the admin that by default is in 4848 throws me a blank page, on the contrary if I run the server from the GlassFish bin folder this one runs for me without problems, the problem is only when I run it from intellij idea.</p>\n<p>This is the error that the console throws me:</p>\n<p>java.lang.NoClassDefFoundError: sun/security/util/CurveDB</p>\n<pre><code>java.lang.NoClassDefFoundError: sun/security/util/CurveDB\nat sun.security.ec.SunEC.putEntries(SunEC.java:118)\nat sun.security.ec.SunEC.&lt;init&gt;(SunEC.java:82)\nat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\nat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\nat java.lang.Class.newInstance(Class.java:442)\nat sun.security.jca.ProviderConfig$2.run(ProviderConfig.java:221)\nat sun.security.jca.ProviderConfig$2.run(ProviderConfig.java:206)\nat java.security.AccessController.doPrivileged(Native Method)\nat sun.security.jca.ProviderConfig.doLoadProvider(ProviderConfig.java:206)\nat sun.security.jca.ProviderConfig.getProvider(ProviderConfig.java:187)\nat sun.security.jca.ProviderList.getProvider(ProviderList.java:233)\nat sun.security.jca.ProviderList.getService(ProviderList.java:331)\nat sun.security.jca.GetInstance.getInstance(GetInstance.java:157)\nat javax.net.ssl.SSLContext.getInstance(SSLContext.java:156)\nat com.sun.enterprise.security.ssl.SSLUtils.getSSLContext(SSLUtils.java:146)\nat com.sun.enterprise.security.ssl.SSLUtils.postConstruct(SSLUtils.java:126)\nat org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:327)\nat org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:375)\nat org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:487)\nat org.jvnet.hk2.internal.SingletonContext$1.compute(SingletonContext.java:83)\nat org.jvnet.hk2.internal.SingletonContext$1.compute(SingletonContext.java:71)\nat org.glassfish.hk2.utilities.cache.Cache$OriginThreadAwareFuture$1.call(Cache.java:97)\nat java.util.concurrent.FutureTask.run(FutureTask.java:266)\nat org.glassfish.hk2.utilities.cache.Cache$OriginThreadAwareFuture.run(Cache.java:154)\nat org.glassfish.hk2.utilities.cache.Cache.compute(Cache.java:199)\nat org.jvnet.hk2.internal.SingletonContext.findOrCreate(SingletonContext.java:122)\nat org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2126)\nat org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:116)\nat org.jvnet.hk2.internal.ServiceLocatorImpl.getService(ServiceLocatorImpl.java:698)\nat org.jvnet.hk2.internal.ThreeThirtyResolver.resolve(ThreeThirtyResolver.java:78)\nat org.jvnet.hk2.internal.ClazzCreator.resolve(ClazzCreator.java:212)\nat org.jvnet.hk2.internal.ClazzCreator.resolveAllDependencies(ClazzCreator.java:235)\nat org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:358)\nat org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:487)\nat org.jvnet.hk2.internal.SingletonContext$1.compute(SingletonContext.java:83)\nat org.jvnet.hk2.internal.SingletonContext$1.compute(SingletonContext.java:71)\nat org.glassfish.hk2.utilities.cache.Cache$OriginThreadAwareFuture$1.call(Cache.java:97)\nat java.util.concurrent.FutureTask.run(FutureTask.java:266)\nat org.glassfish.hk2.utilities.cache.Cache$OriginThreadAwareFuture.run(Cache.java:154)\nat org.glassfish.hk2.utilities.cache.Cache.compute(Cache.java:199)\nat org.jvnet.hk2.internal.SingletonContext.findOrCreate(SingletonContext.java:122)\nat org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2126)\nat org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:116)\nat org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:90)\nat com.sun.enterprise.security.ee.SecuritySniffer.setup(SecuritySniffer.java:134)\nat com.sun.enterprise.v3.server.ContainerStarter.startContainer(ContainerStarter.java:97)\nat com.sun.enterprise.v3.server.ApplicationLifecycle.setupContainer(ApplicationLifecycle.java:997)\n</code></pre>\n<p>I am using jdk 1.8 to run the glassfish and these are my configurations: Configuration in intellij Idea\n<a href=\"https://i.stack.imgur.com/KlJJI.png\" rel=\"nofollow noreferrer\">configurations</a></p>\n<p>localhost port 8080</p>\n<p><a href=\"https://i.stack.imgur.com/5CCLW.png\" rel=\"nofollow noreferrer\">port 8080</a></p>\n<p>localhost port 4848</p>\n<p><a href=\"https://i.stack.imgur.com/A90KY.png\" rel=\"nofollow noreferrer\">port 4848 admin</a></p>\n<p>thank you very much for your help</p>\n"},{"tags":["java","json","spring","spring-boot","jsonparser"],"comments":[{"owner":{"account_id":21380994,"reputation":65,"user_id":15746918,"display_name":"Takwa"},"score":0,"creation_date":1632526405,"post_id":69321978,"comment_id":122525293,"body_markdown":"this is the data sended by form in the console :                                                                                    \nadresse: &quot;4270&quot;\nage: &quot;20&quot;\ncodeP: &quot;2087&quot;\ndescription: &quot;&quot;\nemail: &quot;jkca@gmail.com&quot;\ngroup: &quot;{\\n  \\&quot;idGrp\\&quot;: 2,\\n  \\&quot;nomGroup\\&quot;: \\&quot;intranet\\&quot;\\n}&quot;\nmatricule: &quot;125&quot;\nnom: &quot;&quot;\nnom_ar: &quot;jack&quot;\nnumTele: &quot;0335890562&quot;\nprenom: &quot;&quot;\nprenom_ar: &quot;&quot;\nville: &quot;Tunis&quot;\n[[Prototype]]: Object","body":"this is the data sended by form in the console :                                                                                     adresse: &quot;4270&quot; age: &quot;20&quot; codeP: &quot;2087&quot; description: &quot;&quot; email: &quot;jkca@gmail.com&quot; group: &quot;{\\n  \\&quot;idGrp\\&quot;: 2,\\n  \\&quot;nomGroup\\&quot;: \\&quot;intranet\\&quot;\\n}&quot; matricule: &quot;125&quot; nom: &quot;&quot; nom_ar: &quot;jack&quot; numTele: &quot;0335890562&quot; prenom: &quot;&quot; prenom_ar: &quot;&quot; ville: &quot;Tunis&quot; [[Prototype]]: Object"},{"owner":{"account_id":16726121,"reputation":455,"user_id":12089702,"display_name":"Stan van der Bend"},"score":1,"creation_date":1632550258,"post_id":69321978,"comment_id":122528126,"body_markdown":"Hi does this help: https://stackoverflow.com/q/45110371/12089702? If not can u provide a [mre] similar to the one in the post I linked.","body":"Hi does this help: <a href=\"https://stackoverflow.com/q/45110371/12089702\">stackoverflow.com/q/45110371/12089702</a>? If not can u provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> similar to the one in the post I linked."}],"answers":[{"tags":[],"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632566413,"creation_date":1632566054,"answer_id":69325305,"question_id":69321978,"body_markdown":"The problem is the usage of constructors with parameters. Jackson can&#39;t map this by default. I think, there are two options:\r\n\r\n 1. Add the default constructor and all required getters and setters.\r\n 2. Add @JsonCreator to your paramized constructor.\r\n\r\nFor example:\r\n```\r\npublic class Bean {\r\n    public int id;\r\n    public String name;\r\n\r\n    @JsonCreator\r\n    public Bean(\r\n      @JsonProperty(&quot;id&quot;) int id, \r\n      @JsonProperty(&quot;theName&quot;) String name) {\r\n        this.id = id;\r\n        this.name = name;\r\n    }\r\n}\r\n```\r\n\r\nI am not sure, if you really need ```@JsonProperty``` for the parameters of the constructor, if you are using spring boot!","title":"json parse error post data spring boot mysql","body":"<p>The problem is the usage of constructors with parameters. Jackson can't map this by default. I think, there are two options:</p>\n<ol>\n<li>Add the default constructor and all required getters and setters.</li>\n<li>Add @JsonCreator to your paramized constructor.</li>\n</ol>\n<p>For example:</p>\n<pre><code>public class Bean {\n    public int id;\n    public String name;\n\n    @JsonCreator\n    public Bean(\n      @JsonProperty(&quot;id&quot;) int id, \n      @JsonProperty(&quot;theName&quot;) String name) {\n        this.id = id;\n        this.name = name;\n    }\n}\n</code></pre>\n<p>I am not sure, if you really need <code>@JsonProperty</code> for the parameters of the constructor, if you are using spring boot!</p>\n"}],"owner":{"account_id":21380994,"reputation":65,"user_id":15746918,"display_name":"Takwa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1446,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632599556,"creation_date":1632526316,"question_id":69321978,"body_markdown":"I have this problem in the back end when I post a data form from angular please someone help me I trie to solve this problem by object mapper but I don&#39;t understand well how can I do it correctly \r\nthe error is : \r\n* Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot construct instance of `entity.Group` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (&#39;{\r\n  &quot;idGrp&quot;: 2,\r\n  &quot;nomGroup&quot;: &quot;intranet&quot;\r\n}&#39;); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `entity.Group` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (&#39;{\r\n  &quot;idGrp&quot;: 2,\r\n  &quot;nomGroup&quot;: &quot;intranet&quot;\r\n}&#39;)\r\n at [Source: (PushbackInputStream); line: 1, column: 236] (through reference chain: entity.Employe[&quot;group&quot;])]*\r\n\r\nthis is my class Group\r\n\r\n    package entity;\r\n    \r\n    import java.io.Serializable;\r\n    \r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n    \r\n    @Entity\r\n    @Table(name=&quot;groups&quot;)\r\n    public class Group implements Serializable{\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.AUTO)\r\n    \tprivate Long idGrp;\r\n    \t\r\n    \tprivate String NomGroup;\r\n    \t\r\n    \tpublic Group()\r\n    \t{\r\n    \t\t\r\n    \t}\r\n    \r\n    \tpublic Group(Long id, String nomGroup) {\r\n    \t\tsuper();\r\n    \t\tthis.idGrp = id;\r\n    \t\tNomGroup = nomGroup;\r\n    \t}\r\n    \r\n    \r\n    }\r\n\r\n\r\nIm trying to post a data of employee which contain the data of entity group \r\nclass employee \r\n\r\n    package entity;\r\n    \r\n    import java.io.Serializable;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import javax.persistence.Basic;\r\n    import javax.persistence.CascadeType;\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.JoinColumn;\r\n    import javax.persistence.ManyToOne;\r\n    import javax.persistence.Table;\r\n    \r\n    import org.hibernate.annotations.Cascade;\r\n    import org.hibernate.annotations.GenericGenerator;\r\n    \r\n    @Entity\r\n    public class Employe  implements Serializable {\r\n    \t @Id\r\n    \t @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;myid&quot;)\r\n    \t @GenericGenerator(name = &quot;myid&quot;, strategy = &quot;entity.MyGenerator&quot;)\r\n    \t private Integer matricule;\r\n    \r\n    \tprivate String\tnom;\r\n    \t\r\n    \tprivate String   prenom ;\r\n    \r\n    \t private String  nom_ar;\r\n    \t\r\n    \t private String prenom_ar;\r\n    \r\n    \t \r\n    \t private int age;\r\n    \t\r\n    \t private String description;\r\n    \r\n    \t private String email;\r\n    \r\n    \t private int codeP;\r\n    \r\n    \t private int numTele;\r\n    \r\n    \t private String adresse;\r\n    \r\n    \t private String  ville;\r\n    \t @JoinColumn(name=&quot;idGrp&quot;)\r\n    \t @ManyToOne(cascade = {CascadeType.ALL})\t \r\n    \tGroup group;\r\n    \t \r\n    \t \r\n    \t\r\n    \tpublic Employe(Integer matricule, String nom, String prenom, String nom_ar, String prenom_ar, int age,\r\n    \t\t\tString description, String email, int codeP, int numTele, String adresse, String ville, Group group) {\r\n    \t\tsuper();\r\n    \t\tthis.matricule = matricule;\r\n    \t\tthis.nom = nom;\r\n    \t\tthis.prenom = prenom;\r\n    \t\tthis.nom_ar = nom_ar;\r\n    \t\tthis.prenom_ar = prenom_ar;\r\n    \t\tthis.age = age;\r\n    \t\tthis.description = description;\r\n    \t\tthis.email = email;\r\n    \t\tthis.codeP = codeP;\r\n    \t\tthis.numTele = numTele;\r\n    \t\tthis.adresse = adresse;\r\n    \t\tthis.ville = ville;\r\n    \t\r\n    \t}\r\n    \tpublic Employe(Integer matricule, String nom, String prenom, String nom_ar, String prenom_ar, int age,\r\n    \t\t\tString description, String email, int codeP, int numTele, String adresse, String ville) {\r\n    \t\t\r\n    \t\tthis.matricule = matricule;\r\n    \t\tthis.nom = nom;\r\n    \t\tthis.prenom = prenom;\r\n    \t\tthis.nom_ar = nom_ar;\r\n    \t\tthis.prenom_ar = prenom_ar;\r\n    \t\tthis.age = age;\r\n    \t\tthis.description = description;\r\n    \t\tthis.email = email;\r\n    \t\tthis.codeP = codeP;\r\n    \t\tthis.numTele = numTele;\r\n    \t\tthis.adresse = adresse;\r\n    \t\tthis.ville = ville;\r\n    \t}\r\n    \r\n    \r\n    }\r\n\r\n\r\n*controller*\r\n\r\n   \r\n\r\n     @CrossOrigin(origins = &quot;http://localhost:4200&quot;)\r\n        \r\n        @PostMapping(&quot;addEmp&quot;)\r\n        public ResponseEntity&lt;Employe&gt; addEmp(@RequestBody Employe ep) throws JsonProcessingException\r\n        {\r\n        \tEmploye p=this.servEmp.addEmp(ep);\r\n        \r\n    \treturn new ResponseEntity&lt;&gt;(p, HttpStatus.CREATED);\r\n            }\r\n\r\nplease help me how can I convert the json data to object I spend now two days In this error\r\n\r\n\r\n    I try to use commandRunner \r\n    \t@Bean\r\n    \t   public CommandLineRunner run(ServiceEmp ServiceEmp) {\r\n    \t\t\r\n    \t\treturn args-&gt;{\r\n    \t\t\t\r\n    \t\t\tEmploye e=new Employe(0,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,0,&quot;&quot;,&quot;&quot;,0,0,&quot;&quot;,&quot;&quot;);\r\n    \t\t\tObjectMapper objectMapper=new ObjectMapper();\r\n    \t\t\tTypeReference&lt;Employe&gt; TypeReference =new TypeReference&lt;Employe&gt;() {};\r\n    \t\t\tInputStream InputStream=TypeReference.class.getResourceAsStream(objectMapper.writeValueAsString(ServiceEmp.addEmp(e)));\r\n    \t\t\ttry {\r\n    \t\t\t\t\te=objectMapper.readValue(InputStream,TypeReference);\r\n    \t\t\tServiceEmp.addEmp(e);\r\n    \t\t\tSystem.out.print(&quot;saved&quot;);\r\n    \t\t\t\r\n    \t\t\t}\r\n    \t\t\tcatch(IOException a)\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.print(&quot;not saved&quot;+a.getMessage());\r\n    \t\t\t\t\r\n    \t\t\t}\r\n\r\n\r\n\r\noutput:\r\n\r\n\r\n    **Employe [nom=, prenom=, nom_ar=, prenom_ar=, matricule=0, age=0, description=, email=, codeP=0, numTele=0, adresse=, ville=]\r\n    [2m2021-09-25 20:40:39.966[0;39m [32m INFO[0;39m [35m10044[0;39m [2m---[0;39m [2m[           main][0;39m [36mConditionEvaluationReportLoggingListener[0;39m [2m:[0;39m \r\n    \r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    [2m2021-09-25 20:40:39.992[0;39m [31mERROR[0;39m [35m10044[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.boot.SpringApplication              [0;39m [2m:[0;39m Application run failed\r\n    \r\n    java.lang.IllegalStateException: Failed to execute CommandLineRunner\r\n    \tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:794) ~[spring-boot-2.5.4.jar:2.5.4]\r\n    \tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:775) ~[spring-boot-2.5.4.jar:2.5.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:345) ~[spring-boot-2.5.4.jar:2.5.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.4.jar:2.5.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.4.jar:2.5.4]\r\n    \tat cni.tn.CniApp.CniAppApplication.main(CniAppApplication.java:34) ~[classes/:na]\r\n    Caused by: java.lang.IllegalArgumentException: argument &quot;src&quot; is null\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper._assertNotNull(ObjectMapper.java:4693) ~[jackson-databind-2.11.1.jar:2.11.1]\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3478) ~[jackson-databind-2.11.1.jar:2.11.1]\r\n    \tat cni.tn.CniApp.CniAppApplication.lambda$0(CniAppApplication.java:46) ~[classes/:na]\r\n    \tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:791) ~[spring-boot-2.5.4.jar:2.5.4]\r\n    \t... 5 common frames omitted**\r\n\r\n\r\n\r\n\r\n","title":"json parse error post data spring boot mysql","body":"<p>I have this problem in the back end when I post a data form from angular please someone help me I trie to solve this problem by object mapper but I don't understand well how can I do it correctly\nthe error is :</p>\n<ul>\n<li>Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot construct instance of <code>entity.Group</code> (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('{\n&quot;idGrp&quot;: 2,\n&quot;nomGroup&quot;: &quot;intranet&quot;\n}'); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of <code>entity.Group</code> (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('{\n&quot;idGrp&quot;: 2,\n&quot;nomGroup&quot;: &quot;intranet&quot;\n}')\nat [Source: (PushbackInputStream); line: 1, column: 236] (through reference chain: entity.Employe[&quot;group&quot;])]*</li>\n</ul>\n<p>this is my class Group</p>\n<pre><code>package entity;\n\nimport java.io.Serializable;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name=&quot;groups&quot;)\npublic class Group implements Serializable{\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long idGrp;\n    \n    private String NomGroup;\n    \n    public Group()\n    {\n        \n    }\n\n    public Group(Long id, String nomGroup) {\n        super();\n        this.idGrp = id;\n        NomGroup = nomGroup;\n    }\n\n\n}\n</code></pre>\n<p>Im trying to post a data of employee which contain the data of entity group\nclass employee</p>\n<pre><code>package entity;\n\nimport java.io.Serializable;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport javax.persistence.Basic;\nimport javax.persistence.CascadeType;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.ManyToOne;\nimport javax.persistence.Table;\n\nimport org.hibernate.annotations.Cascade;\nimport org.hibernate.annotations.GenericGenerator;\n\n@Entity\npublic class Employe  implements Serializable {\n     @Id\n     @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;myid&quot;)\n     @GenericGenerator(name = &quot;myid&quot;, strategy = &quot;entity.MyGenerator&quot;)\n     private Integer matricule;\n\n    private String  nom;\n    \n    private String   prenom ;\n\n     private String  nom_ar;\n    \n     private String prenom_ar;\n\n     \n     private int age;\n    \n     private String description;\n\n     private String email;\n\n     private int codeP;\n\n     private int numTele;\n\n     private String adresse;\n\n     private String  ville;\n     @JoinColumn(name=&quot;idGrp&quot;)\n     @ManyToOne(cascade = {CascadeType.ALL})     \n    Group group;\n     \n     \n    \n    public Employe(Integer matricule, String nom, String prenom, String nom_ar, String prenom_ar, int age,\n            String description, String email, int codeP, int numTele, String adresse, String ville, Group group) {\n        super();\n        this.matricule = matricule;\n        this.nom = nom;\n        this.prenom = prenom;\n        this.nom_ar = nom_ar;\n        this.prenom_ar = prenom_ar;\n        this.age = age;\n        this.description = description;\n        this.email = email;\n        this.codeP = codeP;\n        this.numTele = numTele;\n        this.adresse = adresse;\n        this.ville = ville;\n    \n    }\n    public Employe(Integer matricule, String nom, String prenom, String nom_ar, String prenom_ar, int age,\n            String description, String email, int codeP, int numTele, String adresse, String ville) {\n        \n        this.matricule = matricule;\n        this.nom = nom;\n        this.prenom = prenom;\n        this.nom_ar = nom_ar;\n        this.prenom_ar = prenom_ar;\n        this.age = age;\n        this.description = description;\n        this.email = email;\n        this.codeP = codeP;\n        this.numTele = numTele;\n        this.adresse = adresse;\n        this.ville = ville;\n    }\n\n\n}\n</code></pre>\n<p><em>controller</em></p>\n<pre><code> @CrossOrigin(origins = &quot;http://localhost:4200&quot;)\n    \n    @PostMapping(&quot;addEmp&quot;)\n    public ResponseEntity&lt;Employe&gt; addEmp(@RequestBody Employe ep) throws JsonProcessingException\n    {\n        Employe p=this.servEmp.addEmp(ep);\n    \n    return new ResponseEntity&lt;&gt;(p, HttpStatus.CREATED);\n        }\n</code></pre>\n<p>please help me how can I convert the json data to object I spend now two days In this error</p>\n<pre><code>I try to use commandRunner \n    @Bean\n       public CommandLineRunner run(ServiceEmp ServiceEmp) {\n        \n        return args-&gt;{\n            \n            Employe e=new Employe(0,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,0,&quot;&quot;,&quot;&quot;,0,0,&quot;&quot;,&quot;&quot;);\n            ObjectMapper objectMapper=new ObjectMapper();\n            TypeReference&lt;Employe&gt; TypeReference =new TypeReference&lt;Employe&gt;() {};\n            InputStream InputStream=TypeReference.class.getResourceAsStream(objectMapper.writeValueAsString(ServiceEmp.addEmp(e)));\n            try {\n                    e=objectMapper.readValue(InputStream,TypeReference);\n            ServiceEmp.addEmp(e);\n            System.out.print(&quot;saved&quot;);\n            \n            }\n            catch(IOException a)\n            {\n                System.out.print(&quot;not saved&quot;+a.getMessage());\n                \n            }\n</code></pre>\n<p>output:</p>\n<pre><code>**Employe [nom=, prenom=, nom_ar=, prenom_ar=, matricule=0, age=0, description=, email=, codeP=0, numTele=0, adresse=, ville=]\n[2m2021-09-25 20:40:39.966[0;39m [32m INFO[0;39m [35m10044[0;39m [2m---[0;39m [2m[           main][0;39m [36mConditionEvaluationReportLoggingListener[0;39m [2m:[0;39m \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n[2m2021-09-25 20:40:39.992[0;39m [31mERROR[0;39m [35m10044[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.boot.SpringApplication              [0;39m [2m:[0;39m Application run failed\n\njava.lang.IllegalStateException: Failed to execute CommandLineRunner\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:794) ~[spring-boot-2.5.4.jar:2.5.4]\n    at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:775) ~[spring-boot-2.5.4.jar:2.5.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:345) ~[spring-boot-2.5.4.jar:2.5.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.4.jar:2.5.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.4.jar:2.5.4]\n    at cni.tn.CniApp.CniAppApplication.main(CniAppApplication.java:34) ~[classes/:na]\nCaused by: java.lang.IllegalArgumentException: argument &quot;src&quot; is null\n    at com.fasterxml.jackson.databind.ObjectMapper._assertNotNull(ObjectMapper.java:4693) ~[jackson-databind-2.11.1.jar:2.11.1]\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3478) ~[jackson-databind-2.11.1.jar:2.11.1]\n    at cni.tn.CniApp.CniAppApplication.lambda$0(CniAppApplication.java:46) ~[classes/:na]\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:791) ~[spring-boot-2.5.4.jar:2.5.4]\n    ... 5 common frames omitted**\n</code></pre>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":12721843,"reputation":16013,"user_id":9241978,"display_name":"Pawel"},"score":0,"creation_date":1632612014,"post_id":69329377,"comment_id":122540463,"body_markdown":"What is your apps target API and android version of the device? Do note that `requestLegacyExternalStorage` is ignored on android 11 devices if your app is targeting API 30 or higher.","body":"What is your apps target API and android version of the device? Do note that <code>requestLegacyExternalStorage</code> is ignored on android 11 devices if your app is targeting API 30 or higher."},{"owner":{"account_id":4334893,"reputation":980,"user_id":3539592,"accept_rate":84,"display_name":"now_world"},"score":1,"creation_date":1632615669,"post_id":69329377,"comment_id":122540916,"body_markdown":"@Pawel my target API is set to `30` and my device is running Android 11.. Does that mean I need to remove `requestLegacyExternalStorage`?","body":"@Pawel my target API is set to <code>30</code> and my device is running Android 11.. Does that mean I need to remove <code>requestLegacyExternalStorage</code>?"},{"owner":{"account_id":12721843,"reputation":16013,"user_id":9241978,"display_name":"Pawel"},"score":0,"creation_date":1632616548,"post_id":69329377,"comment_id":122541004,"body_markdown":"Legacy external storage was only a temporary solution to give developers more time to migrate to scoped storage. Sadly you have to use that convoluted API now, `File` can only be used for managing your apps local directory. If it&#39;s a local project you can just request `MANAGE_EXTERNAL_STORAGE` and keep using `File` API but it will make your app unsuitable for app store release.","body":"Legacy external storage was only a temporary solution to give developers more time to migrate to scoped storage. Sadly you have to use that convoluted API now, <code>File</code> can only be used for managing your apps local directory. If it&#39;s a local project you can just request <code>MANAGE_EXTERNAL_STORAGE</code> and keep using <code>File</code> API but it will make your app unsuitable for app store release."},{"owner":{"account_id":4334893,"reputation":980,"user_id":3539592,"accept_rate":84,"display_name":"now_world"},"score":0,"creation_date":1632617357,"post_id":69329377,"comment_id":122541089,"body_markdown":"@Pawel oh ok I see &#128532;. I need to access the DCIM directory, what &quot;convoluted API&quot; are you referencing?","body":"@Pawel oh ok I see 😔. I need to access the DCIM directory, what &quot;convoluted API&quot; are you referencing?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1632634088,"post_id":69329377,"comment_id":122542843,"body_markdown":"You use the wrong function. getExternalFilesDir() delivers a completely different path.. Have a look at dcim.getAbsolutePath() to see.  Just use getExternalStorageDirectory() and so on for the right path.","body":"You use the wrong function. getExternalFilesDir() delivers a completely different path.. Have a look at dcim.getAbsolutePath() to see.  Just use getExternalStorageDirectory() and so on for the right path."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1632634281,"post_id":69329377,"comment_id":122542857,"body_markdown":"`Does that mean I need to remove requestLegacyExternalStorage?` No. Leave it in case your app should run on an Android 10 device.","body":"<code>Does that mean I need to remove requestLegacyExternalStorage?</code> No. Leave it in case your app should run on an Android 10 device."}],"owner":{"account_id":4334893,"reputation":980,"user_id":3539592,"accept_rate":84,"display_name":"now_world"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":593,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632599216,"creation_date":1632598315,"question_id":69329377,"body_markdown":"I&#39;m trying to get a list of all files in the `DCIM/Camera` directory on Android. I&#39;m 100% certain that the files exists in this location because I can see them in Ubuntu&#39;s file explorer when I navigate to my connected Android&#39;s `DCIM/Camera` directory. However, my app isn&#39;t showing any files. Here is what I&#39;ve tried:\r\n\r\n```\r\nval dcim = mContext.getExternalFilesDir(Environment.DIRECTORY_DCIM + &quot;/Camera&quot;)\r\n\r\nvar files = File(dcim.toString())\r\nfiles.walk().forEach {\r\n    println(it)\r\n}\r\n\r\n```\r\n//Nothing happens^\r\n\r\nI&#39;ve also tried this:\r\n```\r\nval dcim = mContext.getExternalFilesDir(Environment.DIRECTORY_DCIM + &quot;/Camera&quot;)\r\nif (dcim != null) {\r\n    val pics = dcim.listFiles()\r\n    if (pics != null) {\r\n        for (pic in pics) {\r\n            //Never gets here...\r\n        }\r\n    }\r\n}\r\n```\r\n`val pics = dcim.listFiles()` is an empty array.\r\n\r\nMy manifest file has both:\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n```\r\nAnd:\r\n```\r\nandroid:requestLegacyExternalStorage=&quot;true&quot;\r\n```\r\n\r\nUbuntu can see the files and so can other apps on my phone:\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4SuG3.png\r\n  [2]: https://i.stack.imgur.com/fPzqY.png","title":"How to list files in DCIM/Camera folder?","body":"<p>I'm trying to get a list of all files in the <code>DCIM/Camera</code> directory on Android. I'm 100% certain that the files exists in this location because I can see them in Ubuntu's file explorer when I navigate to my connected Android's <code>DCIM/Camera</code> directory. However, my app isn't showing any files. Here is what I've tried:</p>\n<pre><code>val dcim = mContext.getExternalFilesDir(Environment.DIRECTORY_DCIM + &quot;/Camera&quot;)\n\nvar files = File(dcim.toString())\nfiles.walk().forEach {\n    println(it)\n}\n\n</code></pre>\n<p>//Nothing happens^</p>\n<p>I've also tried this:</p>\n<pre><code>val dcim = mContext.getExternalFilesDir(Environment.DIRECTORY_DCIM + &quot;/Camera&quot;)\nif (dcim != null) {\n    val pics = dcim.listFiles()\n    if (pics != null) {\n        for (pic in pics) {\n            //Never gets here...\n        }\n    }\n}\n</code></pre>\n<p><code>val pics = dcim.listFiles()</code> is an empty array.</p>\n<p>My manifest file has both:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n<p>And:</p>\n<pre><code>android:requestLegacyExternalStorage=&quot;true&quot;\n</code></pre>\n<p>Ubuntu can see the files and so can other apps on my phone:\n<a href=\"https://i.stack.imgur.com/4SuG3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4SuG3.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/fPzqY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fPzqY.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","mysql","spring","database","hibernate"],"comments":[{"owner":{"account_id":17813347,"reputation":1635,"user_id":12937443,"display_name":"DEV"},"score":1,"creation_date":1632599472,"post_id":69329455,"comment_id":122538277,"body_markdown":"did you check if your users table  has the new columns in the dataBase","body":"did you check if your users table  has the new columns in the dataBase"},{"owner":{"account_id":15007075,"reputation":33,"user_id":10832794,"display_name":"try.aaam"},"score":0,"creation_date":1632631179,"post_id":69329455,"comment_id":122542556,"body_markdown":"@Hamza database also updated\nand column also present in ddl script","body":"@Hamza database also updated and column also present in ddl script"},{"owner":{"account_id":15007075,"reputation":33,"user_id":10832794,"display_name":"try.aaam"},"score":0,"creation_date":1632936136,"post_id":69329455,"comment_id":122630558,"body_markdown":"some how @param works. \n    ```@Query(value=&quot;select u from User u where u.username = :username&quot;)\n    public User findByUsername(@Param (&quot;username&quot;) String username);```","body":"some how @param works.      <code>@Query(value=&quot;select u from User u where u.username = :username&quot;)     public User findByUsername(@Param (&quot;username&quot;) String username);</code>"}],"owner":{"account_id":15007075,"reputation":33,"user_id":10832794,"display_name":"try.aaam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632598956,"creation_date":1632598956,"question_id":69329455,"body_markdown":"After updating  user entity parent class spring login fails.\r\n\r\nremoving new column from class works fine.\r\n\r\n```\r\n@MappedSuperclass\r\npublic abstract class Parent {\r\n\r\n    @Column()\r\n    private String id;\r\n\r\n    //added new column\r\n    @Column()\r\n    private Date created;\r\n\r\n}\r\n```\r\n```\r\n@Entity()\r\n@Table(&quot;users&quot;)\r\npublic class User extends Parent {\r\n\r\n    @Column(name = &quot;username&quot;, unique = true)\r\n    private String username;\r\n\r\n    @Column(name = &quot;password&quot;)\r\n    private String password;\r\n}\r\n```\r\nhql query or query method\r\n\r\n```\r\n\r\n/*hql query return user = null*/\r\n@Query(value = &quot;select u from user u where u.username = ?1&quot;)\r\npublic User findByUsername(String username);\r\n\r\n```\r\n\r\nnative sql\r\n```\r\n/*native sql query throws exception java.sql.SQLException: Column &#39;clazz_&#39; not found.*/\r\n@Query(value = &quot;select * from user u where u.username = ?1&quot;,nativeQuery =true)\r\npublic User findByUsername(String username);\r\n```","title":"when new column added in user table spring login fails","body":"<p>After updating  user entity parent class spring login fails.</p>\n<p>removing new column from class works fine.</p>\n<pre><code>@MappedSuperclass\npublic abstract class Parent {\n\n    @Column()\n    private String id;\n\n    //added new column\n    @Column()\n    private Date created;\n\n}\n</code></pre>\n<pre><code>@Entity()\n@Table(&quot;users&quot;)\npublic class User extends Parent {\n\n    @Column(name = &quot;username&quot;, unique = true)\n    private String username;\n\n    @Column(name = &quot;password&quot;)\n    private String password;\n}\n</code></pre>\n<p>hql query or query method</p>\n<pre><code>\n/*hql query return user = null*/\n@Query(value = &quot;select u from user u where u.username = ?1&quot;)\npublic User findByUsername(String username);\n\n</code></pre>\n<p>native sql</p>\n<pre><code>/*native sql query throws exception java.sql.SQLException: Column 'clazz_' not found.*/\n@Query(value = &quot;select * from user u where u.username = ?1&quot;,nativeQuery =true)\npublic User findByUsername(String username);\n</code></pre>\n"},{"tags":["java","spring-boot","code-injection","checkmarx"],"answers":[{"tags":[],"owner":{"account_id":5439142,"reputation":2507,"user_id":4327668,"display_name":"securecodeninja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632598733,"creation_date":1632598733,"answer_id":69329432,"question_id":69280338,"body_markdown":"Use the Object&#39;s built-in getClass() method instead of getClazz()\r\n\r\n    for(InvokeableClasses currentInvokeableClass : InvokeableClasses.values()) {\r\n        if(currentInvokeableClass.getClass().getSimpleName().equalsIgnoreCase(className)) {\r\n            return currentInvokeableClass;\r\n        }\r\n    } \r\n\r\nThis is the method that Checkmarx recognizes","title":"CheckMarx - How to fix the Code Injection report?","body":"<p>Use the Object's built-in getClass() method instead of getClazz()</p>\n<pre><code>for(InvokeableClasses currentInvokeableClass : InvokeableClasses.values()) {\n    if(currentInvokeableClass.getClass().getSimpleName().equalsIgnoreCase(className)) {\n        return currentInvokeableClass;\n    }\n} \n</code></pre>\n<p>This is the method that Checkmarx recognizes</p>\n"}],"owner":{"account_id":12478511,"reputation":11,"user_id":9084112,"display_name":"Andrea F."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632598733,"creation_date":1632297625,"question_id":69280338,"body_markdown":"Checkmarx encountered the following error:\r\n\r\n\t@RequestMapping(value = RequestMappings.PROVA, method=RequestMethod.POST)\r\n\tpublic ResponseEntity&lt;? extends Object&gt; provaAction(@RequestBody(required = false) Object[] inputExample,\r\n\t\t\tHttpServletRequest req, HttpServletResponse res) throws Exception {\r\n\r\nError:\r\n\r\nThe application&#39;s getOutput method receives and dynamically executes usercontrolled\r\ncode using invoke, at line 153 of\r\nService.java. This could enable an attacker to\r\ninject and run arbitrary code.\r\nThe attacker can inject the executed code via user input, inputExample, which is retrieved by the\r\napplication in the provaAction method, at line 39 of Service.java.\r\n\r\n\r\nUsing a method inputExample fromString, but is not function\r\n\r\npublic enum InvokeableClasses {\r\n    inputExample (InputExample .class);\r\n\r\n    private final Class clazz;\r\n    InvokeableClasses(Class clazz){\r\n        this.clazz = clazz;\r\n    }\r\n\r\n    public Class getClazz() {\r\n        return this.clazz;\r\n    }\r\n\r\n    public static InvokeableClasses fromString(String className) {\r\n        for(InvokeableClasses currentInvokeableClass : InvokeableClasses.values()) {\r\n            if(currentInvokeableClass.getClazz().getSimpleName().equalsIgnoreCase(className)) {\r\n                return currentInvokeableClass;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n}\r\n\r\n**How can I fix the checkmarx ??** \r\n\r\nThanks","title":"CheckMarx - How to fix the Code Injection report?","body":"<p>Checkmarx encountered the following error:</p>\n<pre><code>@RequestMapping(value = RequestMappings.PROVA, method=RequestMethod.POST)\npublic ResponseEntity&lt;? extends Object&gt; provaAction(@RequestBody(required = false) Object[] inputExample,\n        HttpServletRequest req, HttpServletResponse res) throws Exception {\n</code></pre>\n<p>Error:</p>\n<p>The application's getOutput method receives and dynamically executes usercontrolled\ncode using invoke, at line 153 of\nService.java. This could enable an attacker to\ninject and run arbitrary code.\nThe attacker can inject the executed code via user input, inputExample, which is retrieved by the\napplication in the provaAction method, at line 39 of Service.java.</p>\n<p>Using a method inputExample fromString, but is not function</p>\n<p>public enum InvokeableClasses {\ninputExample (InputExample .class);</p>\n<pre><code>private final Class clazz;\nInvokeableClasses(Class clazz){\n    this.clazz = clazz;\n}\n\npublic Class getClazz() {\n    return this.clazz;\n}\n\npublic static InvokeableClasses fromString(String className) {\n    for(InvokeableClasses currentInvokeableClass : InvokeableClasses.values()) {\n        if(currentInvokeableClass.getClazz().getSimpleName().equalsIgnoreCase(className)) {\n            return currentInvokeableClass;\n        }\n    }\n    return null;\n}\n</code></pre>\n<p>}</p>\n<p><strong>How can I fix the checkmarx ??</strong></p>\n<p>Thanks</p>\n"},{"tags":["java","linux","bash","tomcat","vim"],"answers":[{"tags":[],"owner":{"account_id":262424,"reputation":1418,"user_id":547270,"display_name":"scrutari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1508441355,"creation_date":1508440989,"answer_id":46837385,"question_id":46837147,"body_markdown":"If your usage is covered by their licence, I strongly recommend to use Oracle&#39;s JDK RPM: when installed it provides much more sane directory layout than OpenJDK RPM package(s): you would be able to use &quot;/usr/java/latest&quot; as Java home.\r\nTo have persistent environment variable, add export command to `~/.bashrc` or `~/.bash_profile` file (depending on how you perform remote login, add it to both if unsure): `export JAVA_HOME=/usr/java/latest`.","title":"How Do I Set JAVA_HOME in Centos For Apache Tomcat?","body":"<p>If your usage is covered by their licence, I strongly recommend to use Oracle's JDK RPM: when installed it provides much more sane directory layout than OpenJDK RPM package(s): you would be able to use \"/usr/java/latest\" as Java home.\nTo have persistent environment variable, add export command to <code>~/.bashrc</code> or <code>~/.bash_profile</code> file (depending on how you perform remote login, add it to both if unsure): <code>export JAVA_HOME=/usr/java/latest</code>.</p>\n"},{"tags":[],"owner":{"account_id":13153217,"reputation":340,"user_id":9501117,"display_name":"erTugRul"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1521715935,"creation_date":1521715935,"answer_id":49426789,"question_id":46837147,"body_markdown":"Run below commands on shell prompt before adding it into java.sh:\r\n\r\n    export JAVA_HOME=/usr/bin/java/java-1.8.0-openjdk.x86_64 \r\n    export PATH=$PATH:$JAVA_HOME/bin\r\n    export CLASSPATH=$JAVA_HOME/jre/lib/ext:$JAVA_HOME/lib/tools.jar\r\n\r\nThen run `echo $JAVA_HOME`\r\n\r\n\r\n\r\n","title":"How Do I Set JAVA_HOME in Centos For Apache Tomcat?","body":"<p>Run below commands on shell prompt before adding it into java.sh:</p>\n\n<pre><code>export JAVA_HOME=/usr/bin/java/java-1.8.0-openjdk.x86_64 \nexport PATH=$PATH:$JAVA_HOME/bin\nexport CLASSPATH=$JAVA_HOME/jre/lib/ext:$JAVA_HOME/lib/tools.jar\n</code></pre>\n\n<p>Then run <code>echo $JAVA_HOME</code></p>\n"}],"owner":{"account_id":2985402,"reputation":77,"user_id":2534377,"display_name":"Ityav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31168,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1632597830,"creation_date":1508440131,"question_id":46837147,"body_markdown":"I have purchased a VPS with a top hosting company. I am new to Linux. Since I am not able to purchase a CPanel License, I need to manually install JDK, Tomcat, and MariaDB. All this through SSH using PUTTY.\r\n\r\nThere are tutorials which I have followed:\r\n\r\n[Setting JAVA_HOME &amp; CLASSPATH in CentOS 6][1]\r\n\r\n[How to Install Apache Tomcat 8.5 on CentOS 7.3][2]\r\n\r\nBut since I am a newbie in Linux am only able to install JDK8.\r\n\r\nNow I need to set JAVA_HOME in a bash file to remain permanent before I can continue with tomcat installation.\r\n\r\nFrom PUTTY, I have login as root user with my password:\r\n\r\n1. I checked the location of the Java `&quot;which java&quot; : /usr/bin/java`\r\n\r\n2. To get the exact jdk name I used command  `&quot;sudo update-alternatives --config java&quot;` &gt;java-1.8.0-openjdk.x86_64 (/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.144-0.b01.el7_4.x86_64/jre/bin/java)\r\n\r\n3. I createed a new file through command `&quot;vim /etc/profile.d/java.sh&quot;` which gave the error below:\r\n\r\n```\r\n    E325: ATTENTION\r\n    Found a swap file by the name &quot;/etc/profile.d/.java.sh.swp&quot;\r\n              owned by: root   dated: Thu Oct 19 14:21:28 2017\r\n             file name: /etc/profile.d/java.sh\r\n              modified: YES\r\n             user name: root   host name: rtp\r\n            process ID: 31766\r\n    While opening file &quot;/etc/profile.d/java.sh&quot;\r\n    \r\n    (1) Another program may be editing the same file.  If this is the case,\r\n        be careful not to end up with two different instances of the same\r\n        file when making changes.  Quit, or continue with caution.\r\n    (2) An edit session for this file crashed.\r\n        If this is the case, use &quot;:recover&quot; or &quot;vim -r /etc/profile.d/java.sh&quot;\r\n        to recover the changes (see &quot;:help recovery&quot;).\r\n        If you did this already, delete the swap file &quot;/etc/profile.d/.java.sh.swp&quot;\r\n        to avoid this message.\r\n    \r\n    Swap file &quot;/etc/profile.d/.java.sh.swp&quot; already exists!\r\n    [O]pen Read-Only, (E)dit anyway, (R)ecover, (D)elete it, (Q)uit, (A)bort:\r\n```\r\n\r\nI pressed `d` to delete the existing one.\r\n\r\n4. I copy this and pasted:\r\n\r\n```\r\n    export JAVA_HOME=/usr/bin/java/java-1.8.0-openjdk.x86_64 \r\n    export PATH=$PATH:$JAVA_HOME/bin\r\n    export CLASSPATH=$JAVA_HOME/jre/lib/ext:$JAVA_HOME/lib/tools.jar\r\n```\r\n\r\nAnd then I Press ENTER\r\n\r\nThe file is in insert mode so I press `Esc :w java.sh` to save and exit.\r\n\r\nThen I closed the PUTTY session and started again to check if the JAVA_HOME has been set: `&quot;echo $JAVA_HOME&quot;`\r\n\r\nNo result!\r\n\r\nI don&#39;t understand what to do again. I kept on repeating this for two days now. Please, any help?\r\n\r\n  [1]: https://stackoverflow.com/questions/16271316/setting-java-home-classpath-in-centos-6\r\n  [2]: https://www.howtoforge.com/tutorial/how-to-install-tomcat-on-centos/","title":"How Do I Set JAVA_HOME in Centos For Apache Tomcat?","body":"<p>I have purchased a VPS with a top hosting company. I am new to Linux. Since I am not able to purchase a CPanel License, I need to manually install JDK, Tomcat, and MariaDB. All this through SSH using PUTTY.</p>\n<p>There are tutorials which I have followed:</p>\n<p><a href=\"https://stackoverflow.com/questions/16271316/setting-java-home-classpath-in-centos-6\">Setting JAVA_HOME &amp; CLASSPATH in CentOS 6</a></p>\n<p><a href=\"https://www.howtoforge.com/tutorial/how-to-install-tomcat-on-centos/\" rel=\"nofollow noreferrer\">How to Install Apache Tomcat 8.5 on CentOS 7.3</a></p>\n<p>But since I am a newbie in Linux am only able to install JDK8.</p>\n<p>Now I need to set JAVA_HOME in a bash file to remain permanent before I can continue with tomcat installation.</p>\n<p>From PUTTY, I have login as root user with my password:</p>\n<ol>\n<li><p>I checked the location of the Java <code>&quot;which java&quot; : /usr/bin/java</code></p>\n</li>\n<li><p>To get the exact jdk name I used command  <code>&quot;sudo update-alternatives --config java&quot;</code> &gt;java-1.8.0-openjdk.x86_64 (/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.144-0.b01.el7_4.x86_64/jre/bin/java)</p>\n</li>\n<li><p>I createed a new file through command <code>&quot;vim /etc/profile.d/java.sh&quot;</code> which gave the error below:</p>\n</li>\n</ol>\n<pre><code>    E325: ATTENTION\n    Found a swap file by the name &quot;/etc/profile.d/.java.sh.swp&quot;\n              owned by: root   dated: Thu Oct 19 14:21:28 2017\n             file name: /etc/profile.d/java.sh\n              modified: YES\n             user name: root   host name: rtp\n            process ID: 31766\n    While opening file &quot;/etc/profile.d/java.sh&quot;\n    \n    (1) Another program may be editing the same file.  If this is the case,\n        be careful not to end up with two different instances of the same\n        file when making changes.  Quit, or continue with caution.\n    (2) An edit session for this file crashed.\n        If this is the case, use &quot;:recover&quot; or &quot;vim -r /etc/profile.d/java.sh&quot;\n        to recover the changes (see &quot;:help recovery&quot;).\n        If you did this already, delete the swap file &quot;/etc/profile.d/.java.sh.swp&quot;\n        to avoid this message.\n    \n    Swap file &quot;/etc/profile.d/.java.sh.swp&quot; already exists!\n    [O]pen Read-Only, (E)dit anyway, (R)ecover, (D)elete it, (Q)uit, (A)bort:\n</code></pre>\n<p>I pressed <code>d</code> to delete the existing one.</p>\n<ol start=\"4\">\n<li>I copy this and pasted:</li>\n</ol>\n<pre><code>    export JAVA_HOME=/usr/bin/java/java-1.8.0-openjdk.x86_64 \n    export PATH=$PATH:$JAVA_HOME/bin\n    export CLASSPATH=$JAVA_HOME/jre/lib/ext:$JAVA_HOME/lib/tools.jar\n</code></pre>\n<p>And then I Press ENTER</p>\n<p>The file is in insert mode so I press <code>Esc :w java.sh</code> to save and exit.</p>\n<p>Then I closed the PUTTY session and started again to check if the JAVA_HOME has been set: <code>&quot;echo $JAVA_HOME&quot;</code></p>\n<p>No result!</p>\n<p>I don't understand what to do again. I kept on repeating this for two days now. Please, any help?</p>\n"},{"tags":["java","android","android-room"],"answers":[{"tags":[],"owner":{"account_id":14535125,"reputation":602,"user_id":10498741,"display_name":"logancodemaker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1631904688,"creation_date":1631904688,"answer_id":69228274,"question_id":69227679,"body_markdown":"You can use cast mechanism to perform that\r\n\r\n```sql\r\nSELECT * FROM myTable WHERE CAST(colA AS INT) &gt; colB\r\n```\r\n\r\n[Take a look at here][1]\r\n\r\n\r\n  [1]: https://www.sqlite.org/datatype3.html","title":"string to int in room database","body":"<p>You can use cast mechanism to perform that</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT * FROM myTable WHERE CAST(colA AS INT) &gt; colB\n</code></pre>\n<p><a href=\"https://www.sqlite.org/datatype3.html\" rel=\"nofollow noreferrer\">Take a look at here</a></p>\n"}],"owner":{"account_id":22783730,"reputation":1,"user_id":16939237,"display_name":"Ahmad Momani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":412,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69228274,"answer_count":1,"score":0,"last_activity_date":1632597688,"creation_date":1631901024,"question_id":69227679,"body_markdown":"I have a column in room database table and it is string type \r\nI want to do some math like a &gt; b , a &lt; c in DAW query\r\nand I don&#39;t know how to do that or how to convert it to integer without making a new table ","title":"string to int in room database","body":"<p>I have a column in room database table and it is string type\nI want to do some math like a &gt; b , a &lt; c in DAW query\nand I don't know how to do that or how to convert it to integer without making a new table</p>\n"},{"tags":["java","antlr","antlr4","pretty-print"],"answers":[{"tags":[],"owner":{"account_id":2124127,"reputation":5911,"user_id":1886753,"display_name":"GRosenberg"},"down_vote_count":2,"up_vote_count":10,"is_accepted":true,"score":8,"last_activity_date":1566590550,"creation_date":1524855136,"answer_id":50068645,"question_id":50064110,"body_markdown":"Extracted from [SnippetsTest][1] as a standalone utility class:\r\n\r\n\r\n    import java.util.List;\r\n    \r\n    import org.antlr.v4.runtime.misc.Utils;\r\n    import org.antlr.v4.runtime.tree.Tree;\r\n    import org.antlr.v4.runtime.tree.Trees;\r\n    \r\n    public class TreeUtils {\r\n    \r\n    \t/** Platform dependent end-of-line marker */\r\n    \tpublic static final String Eol = System.lineSeparator();\r\n    \t/** The literal indent char(s) used for pretty-printing */\r\n    \tpublic static final String Indents = &quot;  &quot;;\r\n    \tprivate static int level;\r\n    \r\n    \tprivate TreeUtils() {}\r\n    \r\n    \t/**\r\n    \t * Pretty print out a whole tree. {@link #getNodeText} is used on the node payloads to get the text\r\n    \t * for the nodes. (Derived from Trees.toStringTree(....))\r\n    \t */\r\n    \tpublic static String toPrettyTree(final Tree t, final List&lt;String&gt; ruleNames) {\r\n    \t\tlevel = 0;\r\n    \t\treturn process(t, ruleNames).replaceAll(&quot;(?m)^\\\\s+$&quot;, &quot;&quot;).replaceAll(&quot;\\\\r?\\\\n\\\\r?\\\\n&quot;, Eol);\r\n    \t}\r\n    \r\n    \tprivate static String process(final Tree t, final List&lt;String&gt; ruleNames) {\r\n    \t\tif (t.getChildCount() == 0) return Utils.escapeWhitespace(Trees.getNodeText(t, ruleNames), false);\r\n    \t\tStringBuilder sb = new StringBuilder();\r\n    \t\tsb.append(lead(level));\r\n    \t\tlevel++;\r\n    \t\tString s = Utils.escapeWhitespace(Trees.getNodeText(t, ruleNames), false);\r\n    \t\tsb.append(s + &#39; &#39;);\r\n    \t\tfor (int i = 0; i &lt; t.getChildCount(); i++) {\r\n    \t\t\tsb.append(process(t.getChild(i), ruleNames));\r\n    \t\t}\r\n    \t\tlevel--;\r\n    \t\tsb.append(lead(level));\r\n    \t\treturn sb.toString();\r\n    \t}\r\n    \r\n    \tprivate static String lead(int level) {\r\n    \t\tStringBuilder sb = new StringBuilder();\r\n    \t\tif (level &gt; 0) {\r\n    \t\t\tsb.append(Eol);\r\n    \t\t\tfor (int cnt = 0; cnt &lt; level; cnt++) {\r\n    \t\t\t\tsb.append(Indents);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn sb.toString();\r\n    \t}\r\n    }\r\n\r\nCall the method as follows:\r\n\r\n    List&lt;String&gt; ruleNamesList = Arrays.asList(parser.getRuleNames());\r\n    String prettyTree = TreeUtils.toPrettyTree(tree, ruleNamesList);\r\n\r\n  [1]: https://github.com/grosenberg/SnippetsTest","title":"antlr4/java: pretty print parse tree to stdout","body":"<p>Extracted from <a href=\"https://github.com/grosenberg/SnippetsTest\" rel=\"nofollow noreferrer\">SnippetsTest</a> as a standalone utility class:</p>\n\n<pre><code>import java.util.List;\n\nimport org.antlr.v4.runtime.misc.Utils;\nimport org.antlr.v4.runtime.tree.Tree;\nimport org.antlr.v4.runtime.tree.Trees;\n\npublic class TreeUtils {\n\n    /** Platform dependent end-of-line marker */\n    public static final String Eol = System.lineSeparator();\n    /** The literal indent char(s) used for pretty-printing */\n    public static final String Indents = \"  \";\n    private static int level;\n\n    private TreeUtils() {}\n\n    /**\n     * Pretty print out a whole tree. {@link #getNodeText} is used on the node payloads to get the text\n     * for the nodes. (Derived from Trees.toStringTree(....))\n     */\n    public static String toPrettyTree(final Tree t, final List&lt;String&gt; ruleNames) {\n        level = 0;\n        return process(t, ruleNames).replaceAll(\"(?m)^\\\\s+$\", \"\").replaceAll(\"\\\\r?\\\\n\\\\r?\\\\n\", Eol);\n    }\n\n    private static String process(final Tree t, final List&lt;String&gt; ruleNames) {\n        if (t.getChildCount() == 0) return Utils.escapeWhitespace(Trees.getNodeText(t, ruleNames), false);\n        StringBuilder sb = new StringBuilder();\n        sb.append(lead(level));\n        level++;\n        String s = Utils.escapeWhitespace(Trees.getNodeText(t, ruleNames), false);\n        sb.append(s + ' ');\n        for (int i = 0; i &lt; t.getChildCount(); i++) {\n            sb.append(process(t.getChild(i), ruleNames));\n        }\n        level--;\n        sb.append(lead(level));\n        return sb.toString();\n    }\n\n    private static String lead(int level) {\n        StringBuilder sb = new StringBuilder();\n        if (level &gt; 0) {\n            sb.append(Eol);\n            for (int cnt = 0; cnt &lt; level; cnt++) {\n                sb.append(Indents);\n            }\n        }\n        return sb.toString();\n    }\n}\n</code></pre>\n\n<p>Call the method as follows:</p>\n\n<pre><code>List&lt;String&gt; ruleNamesList = Arrays.asList(parser.getRuleNames());\nString prettyTree = TreeUtils.toPrettyTree(tree, ruleNamesList);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1156784,"reputation":50182,"user_id":1137174,"accept_rate":78,"display_name":"Mike Lischke"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1524922309,"creation_date":1524922309,"answer_id":50077087,"question_id":50064110,"body_markdown":"Besides a graphical parse tree [my ANTLR4 extension for Visual Studio Code][1] also produces a formatted text parse tree:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://marketplace.visualstudio.com/items?itemName=mike-lischke.vscode-antlr4\r\n  [2]: https://i.stack.imgur.com/dn18r.png","title":"antlr4/java: pretty print parse tree to stdout","body":"<p>Besides a graphical parse tree <a href=\"https://marketplace.visualstudio.com/items?itemName=mike-lischke.vscode-antlr4\" rel=\"noreferrer\">my ANTLR4 extension for Visual Studio Code</a> also produces a formatted text parse tree:</p>\n\n<p><a href=\"https://i.stack.imgur.com/dn18r.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/dn18r.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":71704,"reputation":4230,"user_id":207352,"accept_rate":51,"display_name":"Pavel Vlasov"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1567529159,"creation_date":1567353403,"answer_id":57747478,"question_id":50064110,"body_markdown":"If you like to use regex only for what it&#39;s really for, you can always print a tree by yourself:\r\n\r\n    import org.antlr.v4.runtime.Parser;\r\n    import org.antlr.v4.runtime.ParserRuleContext;\r\n    import org.antlr.v4.runtime.tree.ParseTree;\r\n    import org.antlr.v4.runtime.tree.Trees;\r\n\r\n    public static String printSyntaxTree(Parser parser, ParseTree root) {\r\n        StringBuilder buf = new StringBuilder();\r\n        recursive(root, buf, 0, Arrays.asList(parser.getRuleNames()));\r\n        return buf.toString();\r\n    }\r\n\r\n    private static void recursive(ParseTree aRoot, StringBuilder buf, int offset, List&lt;String&gt; ruleNames) {\r\n        for (int i = 0; i &lt; offset; i++) {\r\n            buf.append(&quot;  &quot;);\r\n        }\r\n        buf.append(Trees.getNodeText(aRoot, ruleNames)).append(&quot;\\n&quot;);\r\n        if (aRoot instanceof ParserRuleContext) {\r\n            ParserRuleContext prc = (ParserRuleContext) aRoot;\r\n            if (prc.children != null) {\r\n                for (ParseTree child : prc.children) {\r\n                    recursive(child, buf, offset + 1, ruleNames);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nUsage:\r\n\r\n    ParseTree root = parser.yourOwnRule();\r\n    System.out.println(printSyntaxTree(parser, root));","title":"antlr4/java: pretty print parse tree to stdout","body":"<p>If you like to use regex only for what it's really for, you can always print a tree by yourself:</p>\n\n<pre><code>import org.antlr.v4.runtime.Parser;\nimport org.antlr.v4.runtime.ParserRuleContext;\nimport org.antlr.v4.runtime.tree.ParseTree;\nimport org.antlr.v4.runtime.tree.Trees;\n\npublic static String printSyntaxTree(Parser parser, ParseTree root) {\n    StringBuilder buf = new StringBuilder();\n    recursive(root, buf, 0, Arrays.asList(parser.getRuleNames()));\n    return buf.toString();\n}\n\nprivate static void recursive(ParseTree aRoot, StringBuilder buf, int offset, List&lt;String&gt; ruleNames) {\n    for (int i = 0; i &lt; offset; i++) {\n        buf.append(\"  \");\n    }\n    buf.append(Trees.getNodeText(aRoot, ruleNames)).append(\"\\n\");\n    if (aRoot instanceof ParserRuleContext) {\n        ParserRuleContext prc = (ParserRuleContext) aRoot;\n        if (prc.children != null) {\n            for (ParseTree child : prc.children) {\n                recursive(child, buf, offset + 1, ruleNames);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>ParseTree root = parser.yourOwnRule();\nSystem.out.println(printSyntaxTree(parser, root));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7221804,"reputation":478,"user_id":5511972,"display_name":"Mr Redstoner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592827711,"creation_date":1592827711,"answer_id":62514101,"question_id":50064110,"body_markdown":"I wanted to put in my own spin on this, taking advantage of the fact that I already use [StringTemplate][1] in my project. This means I don&#39;t have to manually deal with levels like the other answers. It also makes the output format easier to customize.\r\n\r\nOn top of that, the main reason I&#39;m posting this is because I decided to skip printing rules that I&#39;m only &#39;passing through&#39;, i.e. when using chain rules\r\n```g4\r\na : b | something_else ;\r\nb : c | another ;\r\nc : d | yet_more ;\r\nd : rule that matters ;\r\n```\r\nsince they cluttered my output when checking trees from small inputs without adding any usefull information. This is also easy to change, at the `//pass-through rules` comment location.\r\n\r\nI also copied in the definition of `Trees.getNodeText` and modified it to use a plain array to get rid of the unnecessary wrapping, and even let me customize it if I feel like it.\r\n\r\nFinally, I made it take the parser and tree and just straight dump to System.out, since that&#39;s the only situation I need it in.\r\n\r\n```java\r\nimport org.antlr.v4.runtime.Parser;\r\nimport org.antlr.v4.runtime.RuleContext;\r\nimport org.antlr.v4.runtime.Token;\r\nimport org.antlr.v4.runtime.tree.ErrorNode;\r\nimport org.antlr.v4.runtime.tree.TerminalNode;\r\nimport org.antlr.v4.runtime.tree.Tree;\r\nimport org.stringtemplate.v4.ST;\r\n\r\n//for pretty-dumping trees in short form\r\npublic class TreeUtils {\r\n\tprivate static final ST template() {\r\n\t\treturn new ST(&quot;&lt;rule_text&gt;\\n\\t&lt;child; separator=\\&quot;\\n\\&quot;&gt;&quot;);\r\n\t}\r\n\tprivate static final ST literal(String text) {\r\n\t\treturn new ST(&quot;&lt;text&gt;&quot;).add(&quot;text&quot;, text);\r\n\t}\r\n\r\n\tpublic static void dump(Parser parser, Tree tree) {\r\n\t\tSystem.out.println(process(parser.getRuleNames(),tree).render());\r\n\t}\r\n\t\r\n\tprivate static String getNodeText(Tree t, String[] ruleNames) {\r\n\t\tif ( t instanceof RuleContext ) {\r\n\t\t\tint ruleIndex = ((RuleContext)t).getRuleContext().getRuleIndex();\r\n\t\t\tString ruleName = ruleNames[ruleIndex];\r\n\t\t\treturn ruleName;\r\n\t\t}\r\n\t\telse if ( t instanceof ErrorNode) {\r\n\t\t\treturn t.toString();\r\n\t\t}\r\n\t\telse if ( t instanceof TerminalNode) {\r\n\t\t\tToken symbol = ((TerminalNode)t).getSymbol();\r\n\t\t\tif (symbol != null) {\r\n\t\t\t\tString s = symbol.getText();\r\n\t\t\t\treturn s;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tObject payload = t.getPayload();\r\n\t\tif ( payload instanceof Token ) {\r\n\t\t\treturn ((Token)payload).getText();\r\n\t\t}\r\n\t\treturn t.getPayload().toString();\r\n\t}\r\n\r\n\tprivate static ST process(String[] ruleNames, Tree t) {\r\n\t\tif(t.getChildCount()==0) {\r\n\t\t\treturn literal(getNodeText(t, ruleNames));\r\n\t\t} else if(t.getChildCount()==1) {\r\n\t\t\t//pass-through rules\r\n\t\t\treturn process(ruleNames,t.getChild(0));\r\n\t\t} else {\r\n\t\t\tST out=template();\r\n\t\t\tout.add(&quot;rule_text&quot;, getNodeText(t, ruleNames));\r\n\t\t\tfor(int i=0;i&lt;t.getChildCount();i++) {\r\n\t\t\t\tout.add(&quot;child&quot;, process(ruleNames,t.getChild(i)));\r\n\t\t\t}\r\n\t\t\treturn out;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n\r\n  [1]: https://www.stringtemplate.org/","title":"antlr4/java: pretty print parse tree to stdout","body":"<p>I wanted to put in my own spin on this, taking advantage of the fact that I already use <a href=\"https://www.stringtemplate.org/\" rel=\"nofollow noreferrer\">StringTemplate</a> in my project. This means I don't have to manually deal with levels like the other answers. It also makes the output format easier to customize.</p>\n<p>On top of that, the main reason I'm posting this is because I decided to skip printing rules that I'm only 'passing through', i.e. when using chain rules</p>\n<pre><code>a : b | something_else ;\nb : c | another ;\nc : d | yet_more ;\nd : rule that matters ;\n</code></pre>\n<p>since they cluttered my output when checking trees from small inputs without adding any usefull information. This is also easy to change, at the <code>//pass-through rules</code> comment location.</p>\n<p>I also copied in the definition of <code>Trees.getNodeText</code> and modified it to use a plain array to get rid of the unnecessary wrapping, and even let me customize it if I feel like it.</p>\n<p>Finally, I made it take the parser and tree and just straight dump to System.out, since that's the only situation I need it in.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.antlr.v4.runtime.Parser;\nimport org.antlr.v4.runtime.RuleContext;\nimport org.antlr.v4.runtime.Token;\nimport org.antlr.v4.runtime.tree.ErrorNode;\nimport org.antlr.v4.runtime.tree.TerminalNode;\nimport org.antlr.v4.runtime.tree.Tree;\nimport org.stringtemplate.v4.ST;\n\n//for pretty-dumping trees in short form\npublic class TreeUtils {\n    private static final ST template() {\n        return new ST(&quot;&lt;rule_text&gt;\\n\\t&lt;child; separator=\\&quot;\\n\\&quot;&gt;&quot;);\n    }\n    private static final ST literal(String text) {\n        return new ST(&quot;&lt;text&gt;&quot;).add(&quot;text&quot;, text);\n    }\n\n    public static void dump(Parser parser, Tree tree) {\n        System.out.println(process(parser.getRuleNames(),tree).render());\n    }\n    \n    private static String getNodeText(Tree t, String[] ruleNames) {\n        if ( t instanceof RuleContext ) {\n            int ruleIndex = ((RuleContext)t).getRuleContext().getRuleIndex();\n            String ruleName = ruleNames[ruleIndex];\n            return ruleName;\n        }\n        else if ( t instanceof ErrorNode) {\n            return t.toString();\n        }\n        else if ( t instanceof TerminalNode) {\n            Token symbol = ((TerminalNode)t).getSymbol();\n            if (symbol != null) {\n                String s = symbol.getText();\n                return s;\n            }\n        }\n\n        Object payload = t.getPayload();\n        if ( payload instanceof Token ) {\n            return ((Token)payload).getText();\n        }\n        return t.getPayload().toString();\n    }\n\n    private static ST process(String[] ruleNames, Tree t) {\n        if(t.getChildCount()==0) {\n            return literal(getNodeText(t, ruleNames));\n        } else if(t.getChildCount()==1) {\n            //pass-through rules\n            return process(ruleNames,t.getChild(0));\n        } else {\n            ST out=template();\n            out.add(&quot;rule_text&quot;, getNodeText(t, ruleNames));\n            for(int i=0;i&lt;t.getChildCount();i++) {\n                out.add(&quot;child&quot;, process(ruleNames,t.getChild(i)));\n            }\n            return out;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10357491,"reputation":1001,"user_id":7823010,"display_name":"R. C. Howell"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1632597299,"creation_date":1632597299,"answer_id":69329276,"question_id":50064110,"body_markdown":"For Kotlin, you can use this extension function\r\n\r\n    fun Tree.format(parser: Parser, indent: Int = 0): String = buildString {\r\n        val tree = this@format\r\n        val prefix = &quot;  &quot;.repeat(indent)\r\n        append(prefix)\r\n        append(Trees.getNodeText(tree, parser))\r\n        if (tree.childCount != 0) {\r\n            append(&quot; (\\n&quot;)\r\n            for (i in 0 until tree.childCount) {\r\n                append(tree.getChild(i).format(parser, indent + 1))\r\n                append(&quot;\\n&quot;)\r\n            }\r\n            append(prefix).append(&quot;)&quot;)\r\n        }\r\n    }","title":"antlr4/java: pretty print parse tree to stdout","body":"<p>For Kotlin, you can use this extension function</p>\n<pre><code>fun Tree.format(parser: Parser, indent: Int = 0): String = buildString {\n    val tree = this@format\n    val prefix = &quot;  &quot;.repeat(indent)\n    append(prefix)\n    append(Trees.getNodeText(tree, parser))\n    if (tree.childCount != 0) {\n        append(&quot; (\\n&quot;)\n        for (i in 0 until tree.childCount) {\n            append(tree.getChild(i).format(parser, indent + 1))\n            append(&quot;\\n&quot;)\n        }\n        append(prefix).append(&quot;)&quot;)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5108847,"reputation":460,"user_id":4308462,"accept_rate":50,"display_name":"JPT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11946,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":50068645,"answer_count":5,"score":13,"last_activity_date":1632597299,"creation_date":1524837853,"question_id":50064110,"body_markdown":"Beginners question: how do I print a readable version of the parse tree to stdout?\r\n\r\n    CharStream input = CharStreams.fromFileName(&quot;testdata/test.txt&quot;);\r\n    MyLexer lexer = new MyLexer(input);\r\n    CommonTokenStream tokens = new CommonTokenStream(lexer);\r\n    MyParser parser = new MyParser(tokens);\t\t\r\n    parser.setBuildParseTree(true);\r\n    RuleContext tree = parser.record();\r\n    System.out.println(tree.toStringTree(parser));\r\n\r\nthis prints the whole tree on a single line delimited by brackets &#39;()&#39;. \r\n\r\n    (record (husband &lt;4601&gt;   (name KOHAI   Nikolaus) \\n (birth *   um.1872   (place Ploschitz)) \\n\\n) (wife      (marriage oo) \\n      (name SCHLOTTHAUER   Maria) \\n      (birth *   um.1877  \r\n    ...\r\n\r\nI would like to have something like this\r\n\r\n    record \r\n      husband\r\n        &lt;id&gt;\r\n        name\r\n           &lt;name&gt;\r\n    ...\r\n      wife\r\n","title":"antlr4/java: pretty print parse tree to stdout","body":"<p>Beginners question: how do I print a readable version of the parse tree to stdout?</p>\n\n<pre><code>CharStream input = CharStreams.fromFileName(\"testdata/test.txt\");\nMyLexer lexer = new MyLexer(input);\nCommonTokenStream tokens = new CommonTokenStream(lexer);\nMyParser parser = new MyParser(tokens);     \nparser.setBuildParseTree(true);\nRuleContext tree = parser.record();\nSystem.out.println(tree.toStringTree(parser));\n</code></pre>\n\n<p>this prints the whole tree on a single line delimited by brackets '()'. </p>\n\n<pre><code>(record (husband &lt;4601&gt;   (name KOHAI   Nikolaus) \\n (birth *   um.1872   (place Ploschitz)) \\n\\n) (wife      (marriage oo) \\n      (name SCHLOTTHAUER   Maria) \\n      (birth *   um.1877  \n...\n</code></pre>\n\n<p>I would like to have something like this</p>\n\n<pre><code>record \n  husband\n    &lt;id&gt;\n    name\n       &lt;name&gt;\n...\n  wife\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database","android-activity"],"comments":[{"owner":{"account_id":11723272,"reputation":13,"user_id":10658268,"display_name":"Perfect Updates"},"score":0,"creation_date":1575980421,"post_id":59267055,"comment_id":104741577,"body_markdown":"It doesn&#39;t crash. Why would you say it crashes.","body":"It doesn&#39;t crash. Why would you say it crashes."},{"owner":{"account_id":9432262,"reputation":79450,"user_id":7015400,"accept_rate":38,"display_name":"Peter Haddad"},"score":0,"creation_date":1575980608,"post_id":59267055,"comment_id":104741702,"body_markdown":"`startActivity(choose_mua_intent);` starts a new activity","body":"<code>startActivity(choose_mua_intent);</code> starts a new activity"},{"owner":{"account_id":11723272,"reputation":13,"user_id":10658268,"display_name":"Perfect Updates"},"score":0,"creation_date":1575980709,"post_id":59267055,"comment_id":104741762,"body_markdown":"Yes of course, @Peter Haddad. But when I just switch off my location with the &quot;location_switch variable&quot;, the activity gets recreated.","body":"Yes of course, @Peter Haddad. But when I just switch off my location with the &quot;location_switch variable&quot;, the activity gets recreated."},{"owner":{"account_id":11723272,"reputation":13,"user_id":10658268,"display_name":"Perfect Updates"},"score":0,"creation_date":1575980798,"post_id":59267055,"comment_id":104741816,"body_markdown":"I mean the activity restarts.","body":"I mean the activity restarts."},{"owner":{"account_id":11723272,"reputation":13,"user_id":10658268,"display_name":"Perfect Updates"},"score":0,"creation_date":1575980910,"post_id":59267055,"comment_id":104741895,"body_markdown":"Look through my code, please. The &quot;location switch&quot; makes the activity restart all over again. But actually, the location switch puts some data into the database, but in that moment, the activity also restarts. Why?","body":"Look through my code, please. The &quot;location switch&quot; makes the activity restart all over again. But actually, the location switch puts some data into the database, but in that moment, the activity also restarts. Why?"},{"owner":{"display_name":"user2711811"},"score":0,"creation_date":1575981692,"post_id":59267055,"comment_id":104742353,"body_markdown":"Something looks circular: when `location_switch` is cleared, `switchRef` is set to false - which has a listener and if false sets `location_switch` to false ....and so on...","body":"Something looks circular: when <code>location_switch</code> is cleared, <code>switchRef</code> is set to false - which has a listener and if false sets <code>location_switch</code> to false ....and so on..."},{"owner":{"account_id":11723272,"reputation":13,"user_id":10658268,"display_name":"Perfect Updates"},"score":0,"creation_date":1575982100,"post_id":59267055,"comment_id":104742599,"body_markdown":"Exactly. But it writes to the database. And when that happens, it restarts the activity. Am I doing anything wrong or it&#39;s from firebase?","body":"Exactly. But it writes to the database. And when that happens, it restarts the activity. Am I doing anything wrong or it&#39;s from firebase?"},{"owner":{"account_id":9078600,"reputation":4924,"user_id":6759241,"display_name":"greeble31"},"score":0,"creation_date":1575992629,"post_id":59267055,"comment_id":104748812,"body_markdown":"Either it&#39;s crashing, or you&#39;re calling `startActivity()`. You can determine the conditions under which `startActivity()` is called by putting a breakpoint on it.","body":"Either it&#39;s crashing, or you&#39;re calling <code>startActivity()</code>. You can determine the conditions under which <code>startActivity()</code> is called by putting a breakpoint on it."},{"owner":{"account_id":11723272,"reputation":13,"user_id":10658268,"display_name":"Perfect Updates"},"score":0,"creation_date":1576018679,"post_id":59267055,"comment_id":104760056,"body_markdown":"I said it&#39;s not crashing. The activity gets restarted upon any changes to the database. Why do you insist it&#39;s crashing?","body":"I said it&#39;s not crashing. The activity gets restarted upon any changes to the database. Why do you insist it&#39;s crashing?"},{"owner":{"account_id":11723272,"reputation":13,"user_id":10658268,"display_name":"Perfect Updates"},"score":0,"creation_date":1576021312,"post_id":59267055,"comment_id":104760754,"body_markdown":"@Frank van Puffelen","body":"@Frank van Puffelen"},{"owner":{"account_id":9078600,"reputation":4924,"user_id":6759241,"display_name":"greeble31"},"score":0,"creation_date":1576088041,"post_id":59267055,"comment_id":104788273,"body_markdown":"@PerfectUpdates You may want to examine my comment more carefully. It could be re-stated this way: &quot;If A is not happening, then B must be happening&quot;. You seem confident that &quot;A&quot; is not happening, so that leaves you with &quot;B&quot;. Since you seem to be wondering _why_ &quot;B&quot; is happening, I suggested you put a breakpoint on it. This technique can be used to help you understand your program&#39;s control flow.","body":"@PerfectUpdates You may want to examine my comment more carefully. It could be re-stated this way: &quot;If A is not happening, then B must be happening&quot;. You seem confident that &quot;A&quot; is not happening, so that leaves you with &quot;B&quot;. Since you seem to be wondering <i>why</i> &quot;B&quot; is happening, I suggested you put a breakpoint on it. This technique can be used to help you understand your program&#39;s control flow."}],"owner":{"account_id":11723272,"reputation":13,"user_id":10658268,"display_name":"Perfect Updates"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":638,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632596870,"creation_date":1575980243,"question_id":59267055,"body_markdown":"When I try to write, update, delete or change any type of data to my realtime firebase database, an activity gets recreated automatically. I checked online for the solution but all didn&#39;t work. Something about SingleValueEventListener. What could I be doing wrong? Below is my code.\r\n\r\n\r\n    public class MainActivity extends FragmentActivity implements OnMapReadyCallback {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        LocationManager lm = (LocationManager) this.getSystemService(Context.LOCATION_SERVICE);\r\n        boolean gps_enabled;\r\n\r\n        assert lm != null;\r\n        gps_enabled = lm.isProviderEnabled(LocationManager.GPS_PROVIDER);\r\n\r\n        relativelayout = findViewById(R.id.relativelayout);\r\n\r\n        signoutRef = FirebaseDatabase.getInstance().getReference().child(&quot;MakeUpArtists_Info&quot;).child(FirebaseAuth.getInstance().getCurrentUser().getUid()).child(&quot;device_token&quot;);\r\n\r\n        username = findViewById(R.id.username);\r\n        greetings = findViewById(R.id.greetings);\r\n\r\n        sign_out = findViewById(R.id.sign_out);\r\n        sign_out.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                signoutRef.setValue(&quot;no_token&quot;);\r\n                Toast.makeText(MainActivity.this, &quot;Signing out...&quot;, Toast.LENGTH_SHORT).show();\r\n                FirebaseAuth.getInstance().signOut();\r\n                Intent log_out = new Intent(MainActivity.this, LoginActivity.class);\r\n                startActivity(log_out);\r\n                finish();\r\n\r\n            }\r\n        });\r\n\r\n\r\n        ongoing_task = findViewById(R.id.latest_task);\r\n        ongoing_task.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                PressRef = FirebaseDatabase.getInstance().getReference().child(&quot;MakeUpArtists_Info&quot;).child(Objects.requireNonNull(FirebaseAuth.getInstance().getCurrentUser()).getUid()).child(&quot;Ongoing&quot;);\r\n                PressRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(DataSnapshot dataSnapshot) {\r\n                        String c_id = dataSnapshot.child(&quot;cu_id&quot;).getValue().toString();\r\n\r\n                        Intent choose_mua_intent = new Intent(MainActivity.this, OngoingTask.class);\r\n                        choose_mua_intent.putExtra(&quot;customer_id&quot;, c_id);\r\n                        startActivity(choose_mua_intent);\r\n                        finish();\r\n\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(DatabaseError databaseError) {\r\n\r\n                    }\r\n                });\r\n\r\n            }\r\n        });\r\n\r\n        databaseReference = FirebaseDatabase.getInstance().getReference().child(&quot;MakeUpArtists_Info&quot;).child(FirebaseAuth.getInstance().getCurrentUser().getUid());\r\n        databaseReference.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n\r\n                Log.d(&quot;Culprit&quot;, &quot;Yes, it is me 1&quot;);\r\n\r\n                String image = dataSnapshot.child(&quot;image&quot;).getValue().toString();\r\n                String name = dataSnapshot.child(&quot;username&quot;).getValue().toString();\r\n\r\n                if (!image.equals(&quot;default&quot;)) {\r\n\r\n                    Picasso.with(getApplicationContext()).load(image).placeholder(R.drawable.no_image_two).into(profile);\r\n                }\r\n\r\n                username.setText(name);\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError databaseError) {\r\n\r\n            }\r\n        });\r\n\r\n        location_switch = findViewById(R.id.location_switch);\r\n\r\n        switchRef = FirebaseDatabase.getInstance().getReference().child(&quot;MakeUpArtists_Info&quot;).child(FirebaseAuth.getInstance().getCurrentUser().getUid()).child(&quot;online&quot;);\r\n        currentUserRef = FirebaseDatabase.getInstance().getReference(&quot;MakeUp_Artists&quot;).child(FirebaseAuth.getInstance().getCurrentUser().getUid());\r\n\r\n        setUpLocation();\r\n\r\n        fusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(this);\r\n\r\n        mapFragment = (SupportMapFragment) getSupportFragmentManager()\r\n                .findFragmentById(R.id.map);\r\n        mapFragment.getMapAsync(this);\r\n\r\n        switchRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n\r\n                Log.d(&quot;Culprit&quot;, &quot;Yes, it is me 2&quot;);\r\n\r\n                String online = dataSnapshot.getValue().toString();\r\n                if (online.equals(&quot;true&quot;)) {\r\n                    location_switch.setChecked(true);\r\n                    FirebaseDatabase.getInstance().goOnline();\r\n                } else {\r\n                    currentUserRef.onDisconnect().removeValue();\r\n                    location_switch.setChecked(false);\r\n                    FirebaseDatabase.getInstance().goOffline();\r\n\r\n                }\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError databaseError) {\r\n\r\n            }\r\n        });\r\n\r\n        if (gps_enabled) {\r\n            location_switch.setClickable(true);\r\n        } else {\r\n            location_switch.setClickable(false);\r\n        }\r\n\r\n        location_switch.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n            @Override\r\n            public void onCheckedChanged(CompoundButton compoundButton, boolean IsOnline) {\r\n                if (IsOnline) {\r\n                    switchRef.setValue(true);\r\n                    FirebaseDatabase.getInstance().goOnline();\r\n                    if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n                        return;\r\n                    }\r\n                    buildLocationRequest();\r\n                    buildLocationCallback();\r\n                    fusedLocationProviderClient.requestLocationUpdates(mLocationRequest, mLocationCallBack, Looper.myLooper());\r\n                    displayLocation();\r\n                    Snackbar.make(relativelayout, &quot;You are currently available&quot;, Snackbar.LENGTH_LONG).show();\r\n                } else {\r\n                    switchRef.setValue(false);\r\n                    FirebaseDatabase.getInstance().goOffline();\r\n                    fusedLocationProviderClient.removeLocationUpdates(mLocationCallBack);\r\n                    currentUserRef.onDisconnect().removeValue();\r\n                    mCurrent.remove();\r\n                    mMap.clear();\r\n                    Snackbar.make(relativelayout, &quot;You just went offline&quot;, Snackbar.LENGTH_LONG).show();\r\n                }\r\n            }\r\n        });\r\n\r\n        mArtists = FirebaseDatabase.getInstance().getReference(&quot;MakeUp_Artists&quot;);\r\n        geoFire = new GeoFire(mArtists);\r\n\r\n        onGoingRef = FirebaseDatabase.getInstance().getReference().child(&quot;MakeUpArtists_Info&quot;).child(FirebaseAuth.getInstance().getCurrentUser().getUid()).child(&quot;Ongoing&quot;);\r\n        onGoingRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @SuppressLint(&quot;RestrictedApi&quot;)\r\n            @Override\r\n            public void onDataChange(DataSnapshot dataSnapshot) {\r\n\r\n                Log.d(&quot;Culprit&quot;, &quot;Yes, it is me 3&quot;);\r\n\r\n                String ongoing = dataSnapshot.child(&quot;alert_issue&quot;).getValue().toString();\r\n\r\n                if (ongoing.equals(&quot;Your request was accepted&quot;)) {\r\n                    location_switch.setVisibility(View.GONE);\r\n                    ongoing_task.setVisibility(View.VISIBLE);\r\n                } else {\r\n                    location_switch.setVisibility(View.VISIBLE);\r\n                    ongoing_task.setVisibility(View.INVISIBLE);\r\n                }\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(DatabaseError databaseError) {\r\n\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        switch (requestCode) {\r\n            case MY_PERMISSION_REQUEST_CODE:\r\n                if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                    buildLocationCallback();\r\n                    buildLocationRequest();\r\n                    if (location_switch.isChecked()) {\r\n                        displayLocation();\r\n                    }\r\n                }\r\n        }\r\n    }\r\n\r\n    private void setUpLocation() {\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp;\r\n                ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp;\r\n                ActivityCompat.checkSelfPermission(this, Manifest.permission.CALL_PHONE) != PackageManager.PERMISSION_GRANTED) {\r\n            ActivityCompat.requestPermissions(this, new String[]{\r\n                    Manifest.permission.ACCESS_COARSE_LOCATION,\r\n                    Manifest.permission.ACCESS_FINE_LOCATION,\r\n                    Manifest.permission.CALL_PHONE\r\n            }, MY_PERMISSION_REQUEST_CODE);\r\n\r\n        } else {\r\n            buildLocationRequest();\r\n            buildLocationCallback();\r\n            if (location_switch.isChecked()) {\r\n                displayLocation();\r\n\r\n\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    private void buildLocationCallback() {\r\n        mLocationCallBack = new LocationCallback() {\r\n            @Override\r\n            public void onLocationResult(LocationResult locationResult) {\r\n                for (Location location : locationResult.getLocations()) {\r\n                    CommonClass.mLastLocation = location;\r\n                    displayLocation();\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\n    private void buildLocationRequest() {\r\n        mLocationRequest = new LocationRequest();\r\n        mLocationRequest.setInterval(UPDATE_INTERVAL);\r\n        mLocationRequest.setFastestInterval(FASTEST_INTERVAL);\r\n        mLocationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n        mLocationRequest.setSmallestDisplacement(DISPLACEMENT);\r\n    }\r\n\r\n    private void displayLocation() {\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp;\r\n                ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n            return;\r\n        }\r\n\r\n        fusedLocationProviderClient.getLastLocation().addOnSuccessListener(new OnSuccessListener&lt;Location&gt;() {\r\n            @Override\r\n            public void onSuccess(Location location) {\r\n                CommonClass.mLastLocation = location;\r\n\r\n                if (CommonClass.mLastLocation != null) {\r\n                    if (location_switch.isChecked()) {\r\n                        final double latitude = CommonClass.mLastLocation.getLatitude();\r\n                        final double longitude = CommonClass.mLastLocation.getLongitude();\r\n\r\n                        geoFire.setLocation(FirebaseAuth.getInstance().getCurrentUser().getUid(),\r\n                                new GeoLocation(latitude, longitude), new GeoFire.CompletionListener() {\r\n                                    @Override\r\n                                    public void onComplete(String key, DatabaseError error) {\r\n\r\n                                        Log.d(&quot;Culprit&quot;, &quot;Yes, it is me 4&quot;);\r\n\r\n                                        if (mCurrent != null)\r\n                                            mCurrent.remove();\r\n                                        mCurrent = mMap.addMarker(new MarkerOptions()\r\n                                                .position(new LatLng(latitude, longitude))\r\n                                                .title(&quot;Your current location&quot;)\r\n                                                .icon(BitmapDescriptorFactory.fromResource(R.drawable.rec)));\r\n\r\n                                        mMap.animateCamera(CameraUpdateFactory.newLatLngZoom(new LatLng(latitude, longitude), 15.0f));\r\n\r\n                                        /*rotateMarker(mCurrent, 360, mMap);*/\r\n                                    }\r\n                                });\r\n                    }\r\n                } else {\r\n                    Log.d(&quot;ERROR&quot;, &quot;Cannot get your location&quot;);\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onMapReady(GoogleMap googleMap) {\r\n\r\n        try {\r\n            boolean isSuccess = googleMap.setMapStyle(\r\n                    MapStyleOptions.loadRawResourceStyle(this, R.raw.makeup_aid_map)\r\n            );\r\n\r\n            if (!isSuccess)\r\n                Log.e(&quot;MUA - CUSTOMER&quot;, &quot;Map style failed!&quot;);\r\n\r\n\r\n        } catch (Resources.NotFoundException ex) {\r\n            ex.printStackTrace();\r\n        }\r\n\r\n        mMap = googleMap;\r\n        mMap.setTrafficEnabled(false);\r\n        mMap.setIndoorEnabled(false);\r\n        mMap.setBuildingsEnabled(false);\r\n\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n            return;\r\n        }\r\n        buildLocationRequest();\r\n        buildLocationCallback();\r\n        fusedLocationProviderClient.requestLocationUpdates(mLocationRequest, mLocationCallBack, Looper.myLooper());\r\n    }\r\n\r\nWhat could I be doing wrong?","title":"Activity gets restarted after there&#39;s a change in firebase database","body":"<p>When I try to write, update, delete or change any type of data to my realtime firebase database, an activity gets recreated automatically. I checked online for the solution but all didn't work. Something about SingleValueEventListener. What could I be doing wrong? Below is my code.</p>\n\n<pre><code>public class MainActivity extends FragmentActivity implements OnMapReadyCallback {\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    LocationManager lm = (LocationManager) this.getSystemService(Context.LOCATION_SERVICE);\n    boolean gps_enabled;\n\n    assert lm != null;\n    gps_enabled = lm.isProviderEnabled(LocationManager.GPS_PROVIDER);\n\n    relativelayout = findViewById(R.id.relativelayout);\n\n    signoutRef = FirebaseDatabase.getInstance().getReference().child(\"MakeUpArtists_Info\").child(FirebaseAuth.getInstance().getCurrentUser().getUid()).child(\"device_token\");\n\n    username = findViewById(R.id.username);\n    greetings = findViewById(R.id.greetings);\n\n    sign_out = findViewById(R.id.sign_out);\n    sign_out.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            signoutRef.setValue(\"no_token\");\n            Toast.makeText(MainActivity.this, \"Signing out...\", Toast.LENGTH_SHORT).show();\n            FirebaseAuth.getInstance().signOut();\n            Intent log_out = new Intent(MainActivity.this, LoginActivity.class);\n            startActivity(log_out);\n            finish();\n\n        }\n    });\n\n\n    ongoing_task = findViewById(R.id.latest_task);\n    ongoing_task.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n\n            PressRef = FirebaseDatabase.getInstance().getReference().child(\"MakeUpArtists_Info\").child(Objects.requireNonNull(FirebaseAuth.getInstance().getCurrentUser()).getUid()).child(\"Ongoing\");\n            PressRef.addListenerForSingleValueEvent(new ValueEventListener() {\n                @Override\n                public void onDataChange(DataSnapshot dataSnapshot) {\n                    String c_id = dataSnapshot.child(\"cu_id\").getValue().toString();\n\n                    Intent choose_mua_intent = new Intent(MainActivity.this, OngoingTask.class);\n                    choose_mua_intent.putExtra(\"customer_id\", c_id);\n                    startActivity(choose_mua_intent);\n                    finish();\n\n                }\n\n                @Override\n                public void onCancelled(DatabaseError databaseError) {\n\n                }\n            });\n\n        }\n    });\n\n    databaseReference = FirebaseDatabase.getInstance().getReference().child(\"MakeUpArtists_Info\").child(FirebaseAuth.getInstance().getCurrentUser().getUid());\n    databaseReference.addListenerForSingleValueEvent(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n\n            Log.d(\"Culprit\", \"Yes, it is me 1\");\n\n            String image = dataSnapshot.child(\"image\").getValue().toString();\n            String name = dataSnapshot.child(\"username\").getValue().toString();\n\n            if (!image.equals(\"default\")) {\n\n                Picasso.with(getApplicationContext()).load(image).placeholder(R.drawable.no_image_two).into(profile);\n            }\n\n            username.setText(name);\n\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError databaseError) {\n\n        }\n    });\n\n    location_switch = findViewById(R.id.location_switch);\n\n    switchRef = FirebaseDatabase.getInstance().getReference().child(\"MakeUpArtists_Info\").child(FirebaseAuth.getInstance().getCurrentUser().getUid()).child(\"online\");\n    currentUserRef = FirebaseDatabase.getInstance().getReference(\"MakeUp_Artists\").child(FirebaseAuth.getInstance().getCurrentUser().getUid());\n\n    setUpLocation();\n\n    fusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(this);\n\n    mapFragment = (SupportMapFragment) getSupportFragmentManager()\n            .findFragmentById(R.id.map);\n    mapFragment.getMapAsync(this);\n\n    switchRef.addListenerForSingleValueEvent(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n\n            Log.d(\"Culprit\", \"Yes, it is me 2\");\n\n            String online = dataSnapshot.getValue().toString();\n            if (online.equals(\"true\")) {\n                location_switch.setChecked(true);\n                FirebaseDatabase.getInstance().goOnline();\n            } else {\n                currentUserRef.onDisconnect().removeValue();\n                location_switch.setChecked(false);\n                FirebaseDatabase.getInstance().goOffline();\n\n            }\n\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError databaseError) {\n\n        }\n    });\n\n    if (gps_enabled) {\n        location_switch.setClickable(true);\n    } else {\n        location_switch.setClickable(false);\n    }\n\n    location_switch.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n        @Override\n        public void onCheckedChanged(CompoundButton compoundButton, boolean IsOnline) {\n            if (IsOnline) {\n                switchRef.setValue(true);\n                FirebaseDatabase.getInstance().goOnline();\n                if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n                    return;\n                }\n                buildLocationRequest();\n                buildLocationCallback();\n                fusedLocationProviderClient.requestLocationUpdates(mLocationRequest, mLocationCallBack, Looper.myLooper());\n                displayLocation();\n                Snackbar.make(relativelayout, \"You are currently available\", Snackbar.LENGTH_LONG).show();\n            } else {\n                switchRef.setValue(false);\n                FirebaseDatabase.getInstance().goOffline();\n                fusedLocationProviderClient.removeLocationUpdates(mLocationCallBack);\n                currentUserRef.onDisconnect().removeValue();\n                mCurrent.remove();\n                mMap.clear();\n                Snackbar.make(relativelayout, \"You just went offline\", Snackbar.LENGTH_LONG).show();\n            }\n        }\n    });\n\n    mArtists = FirebaseDatabase.getInstance().getReference(\"MakeUp_Artists\");\n    geoFire = new GeoFire(mArtists);\n\n    onGoingRef = FirebaseDatabase.getInstance().getReference().child(\"MakeUpArtists_Info\").child(FirebaseAuth.getInstance().getCurrentUser().getUid()).child(\"Ongoing\");\n    onGoingRef.addListenerForSingleValueEvent(new ValueEventListener() {\n        @SuppressLint(\"RestrictedApi\")\n        @Override\n        public void onDataChange(DataSnapshot dataSnapshot) {\n\n            Log.d(\"Culprit\", \"Yes, it is me 3\");\n\n            String ongoing = dataSnapshot.child(\"alert_issue\").getValue().toString();\n\n            if (ongoing.equals(\"Your request was accepted\")) {\n                location_switch.setVisibility(View.GONE);\n                ongoing_task.setVisibility(View.VISIBLE);\n            } else {\n                location_switch.setVisibility(View.VISIBLE);\n                ongoing_task.setVisibility(View.INVISIBLE);\n            }\n\n        }\n\n        @Override\n        public void onCancelled(DatabaseError databaseError) {\n\n        }\n    });\n\n}\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    switch (requestCode) {\n        case MY_PERMISSION_REQUEST_CODE:\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                buildLocationCallback();\n                buildLocationRequest();\n                if (location_switch.isChecked()) {\n                    displayLocation();\n                }\n            }\n    }\n}\n\nprivate void setUpLocation() {\n    if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp;\n            ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp;\n            ActivityCompat.checkSelfPermission(this, Manifest.permission.CALL_PHONE) != PackageManager.PERMISSION_GRANTED) {\n        ActivityCompat.requestPermissions(this, new String[]{\n                Manifest.permission.ACCESS_COARSE_LOCATION,\n                Manifest.permission.ACCESS_FINE_LOCATION,\n                Manifest.permission.CALL_PHONE\n        }, MY_PERMISSION_REQUEST_CODE);\n\n    } else {\n        buildLocationRequest();\n        buildLocationCallback();\n        if (location_switch.isChecked()) {\n            displayLocation();\n\n\n        }\n\n    }\n}\n\nprivate void buildLocationCallback() {\n    mLocationCallBack = new LocationCallback() {\n        @Override\n        public void onLocationResult(LocationResult locationResult) {\n            for (Location location : locationResult.getLocations()) {\n                CommonClass.mLastLocation = location;\n                displayLocation();\n            }\n        }\n    };\n}\n\nprivate void buildLocationRequest() {\n    mLocationRequest = new LocationRequest();\n    mLocationRequest.setInterval(UPDATE_INTERVAL);\n    mLocationRequest.setFastestInterval(FASTEST_INTERVAL);\n    mLocationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n    mLocationRequest.setSmallestDisplacement(DISPLACEMENT);\n}\n\nprivate void displayLocation() {\n    if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp;\n            ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n        return;\n    }\n\n    fusedLocationProviderClient.getLastLocation().addOnSuccessListener(new OnSuccessListener&lt;Location&gt;() {\n        @Override\n        public void onSuccess(Location location) {\n            CommonClass.mLastLocation = location;\n\n            if (CommonClass.mLastLocation != null) {\n                if (location_switch.isChecked()) {\n                    final double latitude = CommonClass.mLastLocation.getLatitude();\n                    final double longitude = CommonClass.mLastLocation.getLongitude();\n\n                    geoFire.setLocation(FirebaseAuth.getInstance().getCurrentUser().getUid(),\n                            new GeoLocation(latitude, longitude), new GeoFire.CompletionListener() {\n                                @Override\n                                public void onComplete(String key, DatabaseError error) {\n\n                                    Log.d(\"Culprit\", \"Yes, it is me 4\");\n\n                                    if (mCurrent != null)\n                                        mCurrent.remove();\n                                    mCurrent = mMap.addMarker(new MarkerOptions()\n                                            .position(new LatLng(latitude, longitude))\n                                            .title(\"Your current location\")\n                                            .icon(BitmapDescriptorFactory.fromResource(R.drawable.rec)));\n\n                                    mMap.animateCamera(CameraUpdateFactory.newLatLngZoom(new LatLng(latitude, longitude), 15.0f));\n\n                                    /*rotateMarker(mCurrent, 360, mMap);*/\n                                }\n                            });\n                }\n            } else {\n                Log.d(\"ERROR\", \"Cannot get your location\");\n            }\n        }\n    });\n\n\n}\n\n@Override\npublic void onMapReady(GoogleMap googleMap) {\n\n    try {\n        boolean isSuccess = googleMap.setMapStyle(\n                MapStyleOptions.loadRawResourceStyle(this, R.raw.makeup_aid_map)\n        );\n\n        if (!isSuccess)\n            Log.e(\"MUA - CUSTOMER\", \"Map style failed!\");\n\n\n    } catch (Resources.NotFoundException ex) {\n        ex.printStackTrace();\n    }\n\n    mMap = googleMap;\n    mMap.setTrafficEnabled(false);\n    mMap.setIndoorEnabled(false);\n    mMap.setBuildingsEnabled(false);\n\n    if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n        return;\n    }\n    buildLocationRequest();\n    buildLocationCallback();\n    fusedLocationProviderClient.requestLocationUpdates(mLocationRequest, mLocationCallBack, Looper.myLooper());\n}\n</code></pre>\n\n<p>What could I be doing wrong?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1496925085,"post_id":44435763,"comment_id":75868773,"body_markdown":"Firebase Database listeners are not context bound. You will need to remove them explicitly in your code in the correct activity lifecycle event, as in Alex&#39; answer.","body":"Firebase Database listeners are not context bound. You will need to remove them explicitly in your code in the correct activity lifecycle event, as in Alex&#39; answer."},{"owner":{"account_id":8898907,"reputation":8529,"user_id":6642927,"display_name":"Dishonered"},"score":1,"creation_date":1496925238,"post_id":44435763,"comment_id":75868892,"body_markdown":"Is there any way to attach it to a context ? I don&#39;t want to manually do it since there are a lot of listeners in each activity.","body":"Is there any way to attach it to a context ? I don&#39;t want to manually do it since there are a lot of listeners in each activity."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1496926368,"post_id":44435763,"comment_id":75869780,"body_markdown":"Please see my updated answer.","body":"Please see my updated answer."},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1496926918,"post_id":44435763,"comment_id":75870234,"body_markdown":"As I said Firebase Database listeners are not context bound. You will have to track them in your code and detach them as Alex shows.","body":"As I said Firebase Database listeners are not context bound. You will have to track them in your code and detach them as Alex shows."}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1594719989,"creation_date":1496924993,"answer_id":44435838,"question_id":44435763,"body_markdown":"You need to remove the listener once you leave the main activity. In order to do that, you can create a method like this:\r\n\r\n    private HashMap&lt;DatabaseReference, ValueEventListener&gt; hashMap = new HashMap&lt;&gt;();\r\n    public static void removeValueEventListener(HashMap&lt;DatabaseReference, ValueEventListener&gt; hashMap) {\r\n        for (Map.Entry&lt;DatabaseReference, ValueEventListener&gt; entry : hashMap.entrySet()) {\r\n            DatabaseReference databaseReference = entry.getKey();\r\n            ValueEventListener valueEventListener = entry.getValue();\r\n            databaseReference.removeEventListener(valueEventListener);\r\n        }\r\n    }\r\n\r\nEvery time you want to remove a lister, you can use this line of code:\r\n\r\n    hashMap.put(yourRef, eventListener);\r\n\r\nThan just call `removeValueEventListener(hashMap);` according to the activity life-cycle. You can add this line in your `onPause()` or `onStop()` methods. In this way **you can remove all the listeners at once**.","title":"Firebase value event listener firing even after activity is finished?","body":"<p>You need to remove the listener once you leave the main activity. In order to do that, you can create a method like this:</p>\n<pre><code>private HashMap&lt;DatabaseReference, ValueEventListener&gt; hashMap = new HashMap&lt;&gt;();\npublic static void removeValueEventListener(HashMap&lt;DatabaseReference, ValueEventListener&gt; hashMap) {\n    for (Map.Entry&lt;DatabaseReference, ValueEventListener&gt; entry : hashMap.entrySet()) {\n        DatabaseReference databaseReference = entry.getKey();\n        ValueEventListener valueEventListener = entry.getValue();\n        databaseReference.removeEventListener(valueEventListener);\n    }\n}\n</code></pre>\n<p>Every time you want to remove a lister, you can use this line of code:</p>\n<pre><code>hashMap.put(yourRef, eventListener);\n</code></pre>\n<p>Than just call <code>removeValueEventListener(hashMap);</code> according to the activity life-cycle. You can add this line in your <code>onPause()</code> or <code>onStop()</code> methods. In this way <strong>you can remove all the listeners at once</strong>.</p>\n"},{"tags":[],"owner":{"account_id":13315285,"reputation":1,"user_id":9611943,"display_name":"Rimantas Sukys"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523111946,"creation_date":1523111946,"answer_id":49708494,"question_id":44435763,"body_markdown":"There is slightly other way\r\n\r\n        mReference.addChildEventListener(new ChildEventListener() {\r\n            @Override\r\n            public void onChildAdded(DataSnapshot dataSnapshot, String s) {\r\n             //Your initial code:\r\n             .....\r\n            }\r\n            @Override\r\n            public void onChildChanged(DataSnapshot dataSnapshot, String s) {\r\n                mReference.removeEventListener(this);\r\n            }\r\n\r\n            @Override\r\n            public void onChildRemoved(DataSnapshot dataSnapshot) {\r\n                mReference.removeEventListener(this);\r\n            }\r\n\r\n            @Override\r\n            public void onChildMoved(DataSnapshot dataSnapshot, String s) {\r\n                mReference.removeEventListener(this);\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(DatabaseError databaseError) {\r\n                mReference.removeEventListener(this);\r\n            }\r\n        });\r\n\r\n\r\n\r\nNot saying that this is the best way, but it helped me solve the problem","title":"Firebase value event listener firing even after activity is finished?","body":"<p>There is slightly other way</p>\n\n<pre><code>    mReference.addChildEventListener(new ChildEventListener() {\n        @Override\n        public void onChildAdded(DataSnapshot dataSnapshot, String s) {\n         //Your initial code:\n         .....\n        }\n        @Override\n        public void onChildChanged(DataSnapshot dataSnapshot, String s) {\n            mReference.removeEventListener(this);\n        }\n\n        @Override\n        public void onChildRemoved(DataSnapshot dataSnapshot) {\n            mReference.removeEventListener(this);\n        }\n\n        @Override\n        public void onChildMoved(DataSnapshot dataSnapshot, String s) {\n            mReference.removeEventListener(this);\n        }\n\n        @Override\n        public void onCancelled(DatabaseError databaseError) {\n            mReference.removeEventListener(this);\n        }\n    });\n</code></pre>\n\n<p>Not saying that this is the best way, but it helped me solve the problem</p>\n"},{"tags":[],"owner":{"account_id":5400671,"reputation":1252,"user_id":4300670,"display_name":"Aliton Oliveira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556580192,"creation_date":1556579839,"answer_id":55911957,"question_id":44435763,"body_markdown":"For those who are starting in Android Studio like me and did not understand right away [Alex Mamo](https://stackoverflow.com/a/44435838/4300670)&#39;s answer, here comes a short example:\r\n\r\nFirst declare your Firebase and HashMap variables like below.\r\n\r\n    private DatabaseReference NotifyGroupRef;\r\n    private ValueEventListener valueEventListener;\r\n    private HashMap&lt;DatabaseReference, ValueEventListener&gt; groupCreatorAndKeys = new HashMap&lt;&gt;();\r\n\r\nAfter, assign your Firebase Reference in **onCreate** like below.\r\n\r\n    NotifyGroupRef = FirebaseDatabase.getInstance().getReference().child(&quot;NotifyGroup&quot;);\r\n\r\nCreate a function to add your listener like below.\r\n\r\n    private void updateNotifyGroupInternet(String groupCreator, String groupKey) {\r\n    \r\n        NotifyGroupRef.child(groupCreator).child(groupKey).addValueEventListener(valueEventListener = new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                \r\n    \r\n                String[] splittedSnapshot = dataSnapshot.getValue().toString().split(&quot;=&quot;);\r\n                String clientId = splittedSnapshot[0].replace(&quot;{&quot;,&quot;&quot;);\r\n                String notification = splittedSnapshot[1].replace(&quot;}&quot;, &quot;&quot;);\r\n    \r\n            }\r\n    \r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError databaseError) {\r\n                \r\n            }\r\n        });\r\n    \r\n        groupCreatorAndKeys.put(NotifyGroupRef.child(groupCreator).child(groupKey), valueEventListener);\r\n    \r\n    }\r\n\r\nStop listening when launching a new activity like below.\r\n\r\n    @Override\r\n    public void onPause() {\r\n        super.onPause();\r\n\r\n        for (Map.Entry&lt;DatabaseReference, ValueEventListener&gt; entry : groupCreatorAndKeys.entrySet()) {\r\n            DatabaseReference databaseReference = entry.getKey();\r\n            ValueEventListener value = entry.getValue();\r\n            databaseReference.removeEventListener(value);\r\n        }\r\n\r\n\r\n    }\r\n\r\nAnd finally, add the listener again when returning to the activity by pressing the backbutton, for example:\r\n\r\n    @Override\r\n    public void onStart() {\r\n        super.onStart();\r\n\r\n        for (Map.Entry&lt;DatabaseReference, ValueEventListener&gt; entry : groupCreatorAndKeys.entrySet()) {\r\n            DatabaseReference databaseReference = entry.getKey();\r\n            ValueEventListener value = entry.getValue();\r\n            databaseReference.addValueEventListener(value);\r\n        }\r\n\r\n    }\r\n\r\nIn my example, I&#39;ve used different paths via variables `groupCreator` and `groupKey` and it worked perfectly!\r\n\r\n","title":"Firebase value event listener firing even after activity is finished?","body":"<p>For those who are starting in Android Studio like me and did not understand right away <a href=\"https://stackoverflow.com/a/44435838/4300670\">Alex Mamo</a>'s answer, here comes a short example:</p>\n\n<p>First declare your Firebase and HashMap variables like below.</p>\n\n<pre><code>private DatabaseReference NotifyGroupRef;\nprivate ValueEventListener valueEventListener;\nprivate HashMap&lt;DatabaseReference, ValueEventListener&gt; groupCreatorAndKeys = new HashMap&lt;&gt;();\n</code></pre>\n\n<p>After, assign your Firebase Reference in <strong>onCreate</strong> like below.</p>\n\n<pre><code>NotifyGroupRef = FirebaseDatabase.getInstance().getReference().child(\"NotifyGroup\");\n</code></pre>\n\n<p>Create a function to add your listener like below.</p>\n\n<pre><code>private void updateNotifyGroupInternet(String groupCreator, String groupKey) {\n\n    NotifyGroupRef.child(groupCreator).child(groupKey).addValueEventListener(valueEventListener = new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n\n\n            String[] splittedSnapshot = dataSnapshot.getValue().toString().split(\"=\");\n            String clientId = splittedSnapshot[0].replace(\"{\",\"\");\n            String notification = splittedSnapshot[1].replace(\"}\", \"\");\n\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError databaseError) {\n\n        }\n    });\n\n    groupCreatorAndKeys.put(NotifyGroupRef.child(groupCreator).child(groupKey), valueEventListener);\n\n}\n</code></pre>\n\n<p>Stop listening when launching a new activity like below.</p>\n\n<pre><code>@Override\npublic void onPause() {\n    super.onPause();\n\n    for (Map.Entry&lt;DatabaseReference, ValueEventListener&gt; entry : groupCreatorAndKeys.entrySet()) {\n        DatabaseReference databaseReference = entry.getKey();\n        ValueEventListener value = entry.getValue();\n        databaseReference.removeEventListener(value);\n    }\n\n\n}\n</code></pre>\n\n<p>And finally, add the listener again when returning to the activity by pressing the backbutton, for example:</p>\n\n<pre><code>@Override\npublic void onStart() {\n    super.onStart();\n\n    for (Map.Entry&lt;DatabaseReference, ValueEventListener&gt; entry : groupCreatorAndKeys.entrySet()) {\n        DatabaseReference databaseReference = entry.getKey();\n        ValueEventListener value = entry.getValue();\n        databaseReference.addValueEventListener(value);\n    }\n\n}\n</code></pre>\n\n<p>In my example, I've used different paths via variables <code>groupCreator</code> and <code>groupKey</code> and it worked perfectly!</p>\n"},{"tags":[],"owner":{"account_id":14071021,"reputation":319,"user_id":10164508,"display_name":"Hamza Rasheed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632596541,"creation_date":1632596541,"answer_id":69329182,"question_id":44435763,"body_markdown":"First declare your DatabaseReference and ValueEventListener\r\n\r\n    private ValueEventListener valueEventListener;\r\n    private final DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference();\r\n\r\nafter that you can remove that listener in OnDestroy() or according to your activity life cycle\r\n\r\n      @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        if(valueEventListener!=null)\r\n        {\r\n            databaseReference.removeEventListener(valueEventListener);\r\n        }\r\n    }","title":"Firebase value event listener firing even after activity is finished?","body":"<p>First declare your DatabaseReference and ValueEventListener</p>\n<pre><code>private ValueEventListener valueEventListener;\nprivate final DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference();\n</code></pre>\n<p>after that you can remove that listener in OnDestroy() or according to your activity life cycle</p>\n<pre><code>  @Override\nprotected void onDestroy() {\n    super.onDestroy();\n    if(valueEventListener!=null)\n    {\n        databaseReference.removeEventListener(valueEventListener);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8898907,"reputation":8529,"user_id":6642927,"display_name":"Dishonered"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2562,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":44435838,"answer_count":4,"score":2,"last_activity_date":1632596541,"creation_date":1496924756,"question_id":44435763,"body_markdown":"I have been working with firebase and i noticed something strange.\r\nOne of the value event listener that i had registered in activity is fired even after i have finished the activity. \r\nI have added code to open a new activity in the&#39;onDataChanged&#39; method , so even if i am in a different activity the new activity is opened.  This is causing  big problems in the app.\r\nI know that i have to call remove listener but i expected that the listener will be removed automatically after the activity is finished. Is there a simpler way in which i can remove all the value event listeners of an activity ? Thanks in advance.","title":"Firebase value event listener firing even after activity is finished?","body":"<p>I have been working with firebase and i noticed something strange.\nOne of the value event listener that i had registered in activity is fired even after i have finished the activity. \nI have added code to open a new activity in the'onDataChanged' method , so even if i am in a different activity the new activity is opened.  This is causing  big problems in the app.\nI know that i have to call remove listener but i expected that the listener will be removed automatically after the activity is finished. Is there a simpler way in which i can remove all the value event listeners of an activity ? Thanks in advance.</p>\n"},{"tags":["java","spring","spring-boot","spring-batch","hikaricp"],"comments":[{"owner":{"account_id":2340745,"reputation":7243,"user_id":2052097,"accept_rate":85,"display_name":"z atef"},"score":1,"creation_date":1632599370,"post_id":69329138,"comment_id":122538253,"body_markdown":"Enable logging and see how many connections opened/closed -&gt; grep &quot;Added connection&quot; your.log | wc -l      grep &quot;Closing connection&quot; your.log | wc -l","body":"Enable logging and see how many connections opened/closed -&gt; grep &quot;Added connection&quot; your.log | wc -l      grep &quot;Closing connection&quot; your.log | wc -l"},{"owner":{"account_id":2340745,"reputation":7243,"user_id":2052097,"accept_rate":85,"display_name":"z atef"},"score":1,"creation_date":1632599436,"post_id":69329138,"comment_id":122538267,"body_markdown":"Does the number of connections exceeds  spring.datasource.hikari.maximumPoolSize=20","body":"Does the number of connections exceeds  spring.datasource.hikari.maximumPoolSize=20"},{"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"score":0,"creation_date":1632604090,"post_id":69329138,"comment_id":122539265,"body_markdown":"@zatef how can I enable logging in order to see how many connection are opened\\closed? tnx","body":"@zatef how can I enable logging in order to see how many connection are opened\\closed? tnx"},{"owner":{"account_id":2340745,"reputation":7243,"user_id":2052097,"accept_rate":85,"display_name":"z atef"},"score":0,"creation_date":1632625169,"post_id":69329138,"comment_id":122541896,"body_markdown":"lsof -nP -i :8080 -sTCP:ESTABLISHED &quot;or whatever port the database is using&quot; to see established connections.","body":"lsof -nP -i :8080 -sTCP:ESTABLISHED &quot;or whatever port the database is using&quot; to see established connections."},{"owner":{"account_id":2340745,"reputation":7243,"user_id":2052097,"accept_rate":85,"display_name":"z atef"},"score":0,"creation_date":1632625440,"post_id":69329138,"comment_id":122541933,"body_markdown":"To enable debug mode, it should just be a property you need to add to config props file. Something like log4j.logger.HikariPool=DEBUG","body":"To enable debug mode, it should just be a property you need to add to config props file. Something like log4j.logger.HikariPool=DEBUG"},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1632725253,"post_id":69329138,"comment_id":122560282,"body_markdown":"Your job/step seems to be multi-threaded, and I think this could be the cause of your issue. Can you share the code of your code? Is this the same question as https://stackoverflow.com/questions/69256967? If it&#39;s the case, there is no need to duplicate question, you can add more details to the other one.","body":"Your job/step seems to be multi-threaded, and I think this could be the cause of your issue. Can you share the code of your code? Is this the same question as <a href=\"https://stackoverflow.com/questions/69256967\">stackoverflow.com/questions/69256967</a>? If it&#39;s the case, there is no need to duplicate question, you can add more details to the other one."}],"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4512,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632596140,"creation_date":1632596140,"question_id":69329138,"body_markdown":"I am working on a Spring Batch application.\r\nBasically this application it is composed by a single job batch working in this way:\r\n\r\n 1. **READER:** call an external API and obtain a list of items.\r\n 2. **PROCESSOR:** for each of the previous items call another external API obtaining the detailed information of this object (it set all the fields of a model opbject).\r\n 3. **WRITER:** implement some simple business logic calling other external APIs in order to save\\update the previous created model objects on another external system (a WordPress portal. These objects are stored as a post in specific post types).\r\n\r\nThe problem is that sometimes my batch crash before complete its execution obtaining this exception in my stacktrace:\r\n\r\n\r\n\torg.springframework.transaction.CannotCreateTransactionException: Could not open JDBC Connection for transaction; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (NotaryDbConnectionPool) has been closed.\r\n\t\tat org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:309) ~[spring-jdbc-5.3.9.jar:5.3.9]\r\n\t\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400) ~[spring-tx-5.3.9.jar:5.3.9]\r\n\t\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373) ~[spring-tx-5.3.9.jar:5.3.9]\r\n\t\tat org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595) ~[spring-tx-5.3.9.jar:5.3.9]\r\n\t\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382) ~[spring-tx-5.3.9.jar:5.3.9]\r\n\t\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.9.jar:5.3.9]\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.9.jar:5.3.9]\r\n\t\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.9.jar:5.3.9]\r\n\t\tat jdk.proxy2/jdk.proxy2.$Proxy65.updateExecutionContext(Unknown Source) ~[na:na]\r\n\t\tat jdk.internal.reflect.GeneratedMethodAccessor122.invoke(Unknown Source) ~[na:na]\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\r\n\t\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.9.jar:5.3.9]\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.9.jar:5.3.9]\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.9.jar:5.3.9]\r\n\t\tat org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128) ~[spring-batch-core-4.3.3.jar:4.3.3]\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.9.jar:5.3.9]\r\n\t\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.9.jar:5.3.9]\r\n\t\tat jdk.proxy2/jdk.proxy2.$Proxy65.updateExecutionContext(Unknown Source) ~[na:na]\r\n\t\tat org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:163) ~[spring-batch-core-4.3.3.jar:4.3.3]\r\n\t\tat org.springframework.batch.core.job.AbstractJob.handleStep(AbstractJob.java:413) ~[spring-batch-core-4.3.3.jar:4.3.3]\r\n\t\tat org.springframework.batch.core.job.SimpleJob.doExecute(SimpleJob.java:136) ~[spring-batch-core-4.3.3.jar:4.3.3]\r\n\t\tat org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:320) ~[spring-batch-core-4.3.3.jar:4.3.3]\r\n\t\tat org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:149) ~[spring-batch-core-4.3.3.jar:4.3.3]\r\n\t\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) ~[na:na]\r\n\t\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) ~[na:na]\r\n\t\tat java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]\r\n\tCaused by: java.sql.SQLException: HikariDataSource HikariDataSource (NotaryDbConnectionPool) has been closed.\r\n\t\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:96) ~[HikariCP-4.0.3.jar:na]\r\n\t\tat org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:265) ~[spring-jdbc-5.3.9.jar:5.3.9]\r\n\t\t... 26 common frames omitted\r\n\r\n\tException in thread &quot;taskExecutor-4&quot; org.springframework.transaction.CannotCreateTransactionException: Could not open JDBC Connection for transaction; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (NotaryDbConnectionPool) has been closed.\r\n\t\tat org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:309)\r\n\t\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)\r\n\t\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)\r\n\t\tat org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)\r\n\t\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)\r\n\t\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\t\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n\t\tat jdk.proxy2/jdk.proxy2.$Proxy65.update(Unknown Source)\r\n\t\tat jdk.internal.reflect.GeneratedMethodAccessor115.invoke(Unknown Source)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n\t\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\t\tat org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\t\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n\t\tat jdk.proxy2/jdk.proxy2.$Proxy65.update(Unknown Source)\r\n\t\tat org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:378)\r\n\t\tat org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:149)\r\n\t\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\r\n\t\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\r\n\t\tat java.base/java.lang.Thread.run(Thread.java:831)\r\n\tCaused by: java.sql.SQLException: HikariDataSource HikariDataSource (NotaryDbConnectionPool) has been closed.\r\n\t\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:96)\r\n\t\tat org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:265)\r\n\t\t... 23 more\r\n\tException in thread &quot;taskExecutor-12&quot; org.springframework.transaction.CannotCreateTransactionException: Could not open JDBC Connection for transaction; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (NotaryDbConnectionPool) has been closed.\r\n\t\tat org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:309)\r\n\t\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)\r\n\t\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)\r\n\t\tat org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)\r\n\t\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)\r\n\t\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\t\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n\t\tat jdk.proxy2/jdk.proxy2.$Proxy65.update(Unknown Source)\r\n\t\tat jdk.internal.reflect.GeneratedMethodAccessor115.invoke(Unknown Source)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n\t\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\t\tat org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\t\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n\t\tat jdk.proxy2/jdk.proxy2.$Proxy65.update(Unknown Source)\r\n\t\tat org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:378)\r\n\t\tat org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:149)\r\n\t\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\r\n\t\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\r\n\t\tat java.base/java.lang.Thread.run(Thread.java:831)\r\n\tCaused by: java.sql.SQLException: HikariDataSource HikariDataSource (NotaryDbConnectionPool) has been closed.\r\n\t\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:96)\r\n\t\tat org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:265)\r\n\t\t... 23 more\r\n\tException in thread &quot;taskExecutor-13&quot; org.springframework.transaction.CannotCreateTransactionException: Could not open JDBC Connection for transaction; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (NotaryDbConnectionPool) has been closed.\r\n\t\tat org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:309)\r\n\t\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)\r\n\t\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)\r\n\t\tat org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)\r\n\t\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)\r\n\t\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\t\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n\t\tat jdk.proxy2/jdk.proxy2.$Proxy65.update(Unknown Source)\r\n\t\tat jdk.internal.reflect.GeneratedMethodAccessor115.invoke(Unknown Source)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n\t\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\t\tat org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\t\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n\t\tat jdk.proxy2/jdk.proxy2.$Proxy65.update(Unknown Source)\r\n\t\tat org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:378)\r\n\t\tat org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:149)\r\n\t\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\r\n\t\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\r\n\t\tat java.base/java.lang.Thread.run(Thread.java:831)\r\n\tCaused by: java.sql.SQLException: HikariDataSource HikariDataSource (NotaryDbConnectionPool) has been closed.\r\n\t\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:96)\r\n\t\tat org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:265)\r\n\t\t... 23 more\r\n\r\nI think that the most significant exception (the root exception) should be the last one in my stacktrace, this one:\r\n\r\n    Caused by: java.sql.SQLException: HikariDataSource HikariDataSource (NotaryDbConnectionPool) has been closed.\r\n\r\nSince my job doesn&#39;t directly interact with the DB (the business logic doens&#39;t perform read\\write operation on the DB. My business logic retrieve data from external API and insert\\update data on another external system calling other external API) I suppose that the problem is related to the operation made by Spring Batch in order to save its own state on the DB. Is this interpreatation correct?\r\n\r\nIn the stack trace the exception before the previous one is:\r\n\r\n    Exception in thread &quot;taskExecutor-13&quot; org.springframework.transaction.CannotCreateTransactionException: Could not open JDBC Connection for transaction; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (NotaryDbConnectionPool) has been closed.\r\n\r\n\r\nSo I think that it could be some **HikariDataSource** missoconfiguration. From what I know Hikari is a connection pool providing connection to Spring Batch.\r\n\r\nAll my configuration are stored into the **resources/application.properties** file of my application. As you can see I tried to set some hikari configuration but with no success:\r\n\r\n    #Batch Configuration\r\n    spring.batch.initialize-schema=NEVER\r\n    spring.batch.job.enabled=false\r\n    \r\n    #Database Configuration\r\n    spring.datasource.url=jdbc:h2:mem:springbatch;DB_CLOSE_ON_EXIT=TRUE\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=\r\n    \r\n    #Liquibase Configuration\r\n    spring.liquibase.change-log=classpath:/db/changelog/db.changelog.xml\r\n    \r\n    spring.datasource.hikari.minimumIdle=5\r\n    spring.datasource.hikari.maximumPoolSize=20\r\n    spring.datasource.hikari.idleTimeout=120000\r\n    spring.datasource.hikari.maxLifetime=500000\r\n    spring.datasource.hikari.leakDetectionThreshold: 450000\r\n    spring.datasource.hikari.pool-name=NotaryDbConnectionPool\r\n    spring.datasource.hikari.connection-test-query=select 1 from dual\r\n\r\n\r\nWhat is wrong? What am I missing? What could be the cause of this problem?\r\n\r\n","title":"&quot;HikariDataSource has been closed&quot; exception happens running this Spring Batch application, why? how to fix?","body":"<p>I am working on a Spring Batch application.\nBasically this application it is composed by a single job batch working in this way:</p>\n<ol>\n<li><strong>READER:</strong> call an external API and obtain a list of items.</li>\n<li><strong>PROCESSOR:</strong> for each of the previous items call another external API obtaining the detailed information of this object (it set all the fields of a model opbject).</li>\n<li><strong>WRITER:</strong> implement some simple business logic calling other external APIs in order to save\\update the previous created model objects on another external system (a WordPress portal. These objects are stored as a post in specific post types).</li>\n</ol>\n<p>The problem is that sometimes my batch crash before complete its execution obtaining this exception in my stacktrace:</p>\n<pre><code>org.springframework.transaction.CannotCreateTransactionException: Could not open JDBC Connection for transaction; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (NotaryDbConnectionPool) has been closed.\n    at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:309) ~[spring-jdbc-5.3.9.jar:5.3.9]\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400) ~[spring-tx-5.3.9.jar:5.3.9]\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373) ~[spring-tx-5.3.9.jar:5.3.9]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595) ~[spring-tx-5.3.9.jar:5.3.9]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382) ~[spring-tx-5.3.9.jar:5.3.9]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.9.jar:5.3.9]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.9.jar:5.3.9]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.9.jar:5.3.9]\n    at jdk.proxy2/jdk.proxy2.$Proxy65.updateExecutionContext(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor122.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.9.jar:5.3.9]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.9.jar:5.3.9]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.9.jar:5.3.9]\n    at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128) ~[spring-batch-core-4.3.3.jar:4.3.3]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.9.jar:5.3.9]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.9.jar:5.3.9]\n    at jdk.proxy2/jdk.proxy2.$Proxy65.updateExecutionContext(Unknown Source) ~[na:na]\n    at org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:163) ~[spring-batch-core-4.3.3.jar:4.3.3]\n    at org.springframework.batch.core.job.AbstractJob.handleStep(AbstractJob.java:413) ~[spring-batch-core-4.3.3.jar:4.3.3]\n    at org.springframework.batch.core.job.SimpleJob.doExecute(SimpleJob.java:136) ~[spring-batch-core-4.3.3.jar:4.3.3]\n    at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:320) ~[spring-batch-core-4.3.3.jar:4.3.3]\n    at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:149) ~[spring-batch-core-4.3.3.jar:4.3.3]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) ~[na:na]\n    at java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]\nCaused by: java.sql.SQLException: HikariDataSource HikariDataSource (NotaryDbConnectionPool) has been closed.\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:96) ~[HikariCP-4.0.3.jar:na]\n    at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:265) ~[spring-jdbc-5.3.9.jar:5.3.9]\n    ... 26 common frames omitted\n\nException in thread &quot;taskExecutor-4&quot; org.springframework.transaction.CannotCreateTransactionException: Could not open JDBC Connection for transaction; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (NotaryDbConnectionPool) has been closed.\n    at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:309)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n    at jdk.proxy2/jdk.proxy2.$Proxy65.update(Unknown Source)\n    at jdk.internal.reflect.GeneratedMethodAccessor115.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n    at jdk.proxy2/jdk.proxy2.$Proxy65.update(Unknown Source)\n    at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:378)\n    at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:149)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\n    at java.base/java.lang.Thread.run(Thread.java:831)\nCaused by: java.sql.SQLException: HikariDataSource HikariDataSource (NotaryDbConnectionPool) has been closed.\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:96)\n    at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:265)\n    ... 23 more\nException in thread &quot;taskExecutor-12&quot; org.springframework.transaction.CannotCreateTransactionException: Could not open JDBC Connection for transaction; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (NotaryDbConnectionPool) has been closed.\n    at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:309)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n    at jdk.proxy2/jdk.proxy2.$Proxy65.update(Unknown Source)\n    at jdk.internal.reflect.GeneratedMethodAccessor115.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n    at jdk.proxy2/jdk.proxy2.$Proxy65.update(Unknown Source)\n    at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:378)\n    at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:149)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\n    at java.base/java.lang.Thread.run(Thread.java:831)\nCaused by: java.sql.SQLException: HikariDataSource HikariDataSource (NotaryDbConnectionPool) has been closed.\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:96)\n    at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:265)\n    ... 23 more\nException in thread &quot;taskExecutor-13&quot; org.springframework.transaction.CannotCreateTransactionException: Could not open JDBC Connection for transaction; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (NotaryDbConnectionPool) has been closed.\n    at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:309)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n    at jdk.proxy2/jdk.proxy2.$Proxy65.update(Unknown Source)\n    at jdk.internal.reflect.GeneratedMethodAccessor115.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n    at jdk.proxy2/jdk.proxy2.$Proxy65.update(Unknown Source)\n    at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:378)\n    at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:149)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\n    at java.base/java.lang.Thread.run(Thread.java:831)\nCaused by: java.sql.SQLException: HikariDataSource HikariDataSource (NotaryDbConnectionPool) has been closed.\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:96)\n    at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:265)\n    ... 23 more\n</code></pre>\n<p>I think that the most significant exception (the root exception) should be the last one in my stacktrace, this one:</p>\n<pre><code>Caused by: java.sql.SQLException: HikariDataSource HikariDataSource (NotaryDbConnectionPool) has been closed.\n</code></pre>\n<p>Since my job doesn't directly interact with the DB (the business logic doens't perform read\\write operation on the DB. My business logic retrieve data from external API and insert\\update data on another external system calling other external API) I suppose that the problem is related to the operation made by Spring Batch in order to save its own state on the DB. Is this interpreatation correct?</p>\n<p>In the stack trace the exception before the previous one is:</p>\n<pre><code>Exception in thread &quot;taskExecutor-13&quot; org.springframework.transaction.CannotCreateTransactionException: Could not open JDBC Connection for transaction; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (NotaryDbConnectionPool) has been closed.\n</code></pre>\n<p>So I think that it could be some <strong>HikariDataSource</strong> missoconfiguration. From what I know Hikari is a connection pool providing connection to Spring Batch.</p>\n<p>All my configuration are stored into the <strong>resources/application.properties</strong> file of my application. As you can see I tried to set some hikari configuration but with no success:</p>\n<pre><code>#Batch Configuration\nspring.batch.initialize-schema=NEVER\nspring.batch.job.enabled=false\n\n#Database Configuration\nspring.datasource.url=jdbc:h2:mem:springbatch;DB_CLOSE_ON_EXIT=TRUE\nspring.datasource.username=sa\nspring.datasource.password=\n\n#Liquibase Configuration\nspring.liquibase.change-log=classpath:/db/changelog/db.changelog.xml\n\nspring.datasource.hikari.minimumIdle=5\nspring.datasource.hikari.maximumPoolSize=20\nspring.datasource.hikari.idleTimeout=120000\nspring.datasource.hikari.maxLifetime=500000\nspring.datasource.hikari.leakDetectionThreshold: 450000\nspring.datasource.hikari.pool-name=NotaryDbConnectionPool\nspring.datasource.hikari.connection-test-query=select 1 from dual\n</code></pre>\n<p>What is wrong? What am I missing? What could be the cause of this problem?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":122491,"reputation":1028,"user_id":316338,"display_name":"sphennings"},"score":0,"creation_date":1632584587,"post_id":69323968,"comment_id":122535076,"body_markdown":"Can you [edit] your post to ask a specific question? It&#39;s a good idea to share what you&#39;ve tried so far, and explain why that doesn&#39;t work.","body":"Can you <a href=\"https://stackoverflow.com/posts/69323968/edit\">edit</a> your post to ask a specific question? It&#39;s a good idea to share what you&#39;ve tried so far, and explain why that doesn&#39;t work."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1633250433,"post_id":69323968,"comment_id":122705402,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":1674999,"reputation":9423,"user_id":1540749,"accept_rate":90,"display_name":"josejuan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632555447,"creation_date":1632555447,"answer_id":69324089,"question_id":69323968,"body_markdown":"In _Java_ a 2D Array is declared using double brackets `T [][]`:\r\n\r\n    public static void main(String[] args) {\r\n\r\n        // mock to not to use a stdin redirection or enter data manually\r\n        ByteArrayInputStream system_in = new ByteArrayInputStream(&quot;3 2 5 8 1 6 7 2&quot;.getBytes(UTF_8));\r\n\r\n        Scanner adnan = new Scanner(system_in);\r\n\r\n        System.out.println(&quot;Enter rows number: &quot;);\r\n        final int rows = adnan.nextInt();\r\n\r\n        System.out.println(&quot;Enter rows number: &quot;);\r\n        final int cols = adnan.nextInt();\r\n\r\n        final int [][] input = new int[rows][cols];\r\n\r\n        System.out.println(&quot;Enter Numbers : &quot;);\r\n        for (int row = 0; row &lt; rows; row++) {\r\n            for (int col = 0; col &lt; cols; col++) {\r\n                input[row][col] = adnan.nextInt();\r\n            }\r\n        }\r\n        double average = average(input);\r\n        System.out.println(&quot;Average of all numbers in the array : &quot; + average);\r\n        adnan.close();\r\n    }\r\n\r\n    public static double average(int[][] input) {\r\n        // use streams or you can use the `Enter Numbers...` way\r\n        return Arrays.stream(input)\r\n                .flatMap(x -&gt; Arrays.stream(x).boxed())\r\n                .mapToInt(x -&gt; x).average()\r\n                .getAsDouble();\r\n    }\r\n\r\nwith output\r\n\r\n    Enter rows number: \r\n    Enter rows number: \r\n    Enter Numbers : \r\n    Average of all numbers in the array : 4.833333333333333\r\n","title":"create a two dimensional (2D) array in java","body":"<p>In <em>Java</em> a 2D Array is declared using double brackets <code>T [][]</code>:</p>\n<pre><code>public static void main(String[] args) {\n\n    // mock to not to use a stdin redirection or enter data manually\n    ByteArrayInputStream system_in = new ByteArrayInputStream(&quot;3 2 5 8 1 6 7 2&quot;.getBytes(UTF_8));\n\n    Scanner adnan = new Scanner(system_in);\n\n    System.out.println(&quot;Enter rows number: &quot;);\n    final int rows = adnan.nextInt();\n\n    System.out.println(&quot;Enter rows number: &quot;);\n    final int cols = adnan.nextInt();\n\n    final int [][] input = new int[rows][cols];\n\n    System.out.println(&quot;Enter Numbers : &quot;);\n    for (int row = 0; row &lt; rows; row++) {\n        for (int col = 0; col &lt; cols; col++) {\n            input[row][col] = adnan.nextInt();\n        }\n    }\n    double average = average(input);\n    System.out.println(&quot;Average of all numbers in the array : &quot; + average);\n    adnan.close();\n}\n\npublic static double average(int[][] input) {\n    // use streams or you can use the `Enter Numbers...` way\n    return Arrays.stream(input)\n            .flatMap(x -&gt; Arrays.stream(x).boxed())\n            .mapToInt(x -&gt; x).average()\n            .getAsDouble();\n}\n</code></pre>\n<p>with output</p>\n<pre><code>Enter rows number: \nEnter rows number: \nEnter Numbers : \nAverage of all numbers in the array : 4.833333333333333\n</code></pre>\n"}],"owner":{"account_id":22813789,"reputation":45,"user_id":16964694,"display_name":"adnanadel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69324089,"answer_count":1,"score":0,"last_activity_date":1632596006,"creation_date":1632554375,"question_id":69323968,"body_markdown":"I am working on a java code that calculates the average of an array and it is working perfectly in serving its purpose but I want to modify it to be a 2D array (Two-dimensional).\r\n\r\n    import java.util.*;\r\n    public class Test3{\r\n       public static void main(String [] args){\r\n          Scanner adnan = new Scanner(System.in);\r\n          System.out.println(&quot;Enter the length of the array : &quot;);\r\n          int length = adnan.nextInt();\r\n          int [] input = new int [length];\r\n          System.out.println(&quot;Enter Numbers : &quot;);\r\n          for ( int i = 0; i &lt; length; i++){\r\n             input [i] = adnan.nextInt();\r\n          }\r\n          float average = average(input);\r\n          System.out.println(&quot;Average of all numbers in the array : &quot; + average);\r\n          adnan.close();\r\n       }\r\n       public static float average(int [] input){\r\n          float sum = 0f;\r\n          for ( int number : input){\r\n             sum = sum + number;\r\n          }\r\n          return sum / input.length;\r\n       }\r\n    }\r\nany help would be really appreciated because I am not too good at 2D arrays.\r\n     ","title":"create a two dimensional (2D) array in java","body":"<p>I am working on a java code that calculates the average of an array and it is working perfectly in serving its purpose but I want to modify it to be a 2D array (Two-dimensional).</p>\n<pre><code>import java.util.*;\npublic class Test3{\n   public static void main(String [] args){\n      Scanner adnan = new Scanner(System.in);\n      System.out.println(&quot;Enter the length of the array : &quot;);\n      int length = adnan.nextInt();\n      int [] input = new int [length];\n      System.out.println(&quot;Enter Numbers : &quot;);\n      for ( int i = 0; i &lt; length; i++){\n         input [i] = adnan.nextInt();\n      }\n      float average = average(input);\n      System.out.println(&quot;Average of all numbers in the array : &quot; + average);\n      adnan.close();\n   }\n   public static float average(int [] input){\n      float sum = 0f;\n      for ( int number : input){\n         sum = sum + number;\n      }\n      return sum / input.length;\n   }\n}\n</code></pre>\n<p>any help would be really appreciated because I am not too good at 2D arrays.</p>\n"},{"tags":["java","maven","jmh","java-17"],"comments":[{"owner":{"account_id":1546239,"reputation":3192,"user_id":1439733,"display_name":"Stefan Zobel"},"score":3,"creation_date":1632642618,"post_id":69329118,"comment_id":122544132,"body_markdown":"Did you try? Java 17 doesn&#39;t disallow to use sun.misc.Unsafe. The only thing that could get in your way  is if the JMH code uses an Unsafe method that has been removed in 17.","body":"Did you try? Java 17 doesn&#39;t disallow to use sun.misc.Unsafe. The only thing that could get in your way  is if the JMH code uses an Unsafe method that has been removed in 17."},{"owner":{"account_id":10098519,"reputation":5323,"user_id":7463126,"display_name":"Alan Bateman"},"score":0,"creation_date":1636184913,"post_id":69329118,"comment_id":123493208,"body_markdown":"The comment that &quot;Java 17 doesn&#39;t disallow to use sun.misc.Unsafe&quot; is not correct, where are getting this information from?","body":"The comment that &quot;Java 17 doesn&#39;t disallow to use sun.misc.Unsafe&quot; is not correct, where are getting this information from?"},{"owner":{"account_id":1546239,"reputation":3192,"user_id":1439733,"display_name":"Stefan Zobel"},"score":0,"creation_date":1636479677,"post_id":69329118,"comment_id":123566382,"body_markdown":"@AlanBateman I meant it in the sense of &quot;*Strongly encapsulate all internal elements of the JDK, except for critical internal APIs such as sun.misc.Unsafe*&quot; in JEPs 260, 396, 403 which all make an exemption for Unsafe.","body":"@AlanBateman I meant it in the sense of &quot;<i>Strongly encapsulate all internal elements of the JDK, except for critical internal APIs such as sun.misc.Unsafe</i>&quot; in JEPs 260, 396, 403 which all make an exemption for Unsafe."},{"owner":{"account_id":1546239,"reputation":3192,"user_id":1439733,"display_name":"Stefan Zobel"},"score":0,"creation_date":1636480707,"post_id":69329118,"comment_id":123566814,"body_markdown":"I should perhaps have said *doesn&#39;t make it impossible* instead of *doesn&#39;t disallow*. Of course, using internal APIs was frowned upon even in Java 1.0","body":"I should perhaps have said <i>doesn&#39;t make it impossible</i> instead of <i>doesn&#39;t disallow</i>. Of course, using internal APIs was frowned upon even in Java 1.0"}],"owner":{"account_id":6542198,"reputation":305,"user_id":7608007,"display_name":"Dyllon Gagnier"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":833,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1632596002,"creation_date":1632596002,"question_id":69329118,"body_markdown":"Currently using trying to use JMH 1.33 with JDK 17. However, invoking JMH programatically seems to use sun.mis.Unsafe. Since 1.33 is the latest version of JMH, it therefore seems like it is impossible to use JMH with JDK 17? I hope this is not the case since I&#39;m trying to benchmark some of the newer APIs so using an older version of the JDK is not an option for me.\r\n\r\nI&#39;m using the following wrapper code:\r\n\r\n```java\r\n    public static void main(String[] args) throws RunnerException {\r\n        Options opt = new OptionsBuilder()\r\n                .include(QuadPointBenchmark.class.getName())\r\n                .warmupTime(TimeValue.seconds(10))\r\n                .detectJvmArgs()\r\n                .mode(Mode.AverageTime)\r\n                .timeUnit(TimeUnit.NANOSECONDS)\r\n                .build();\r\n        new Runner(opt).run();\r\n    }\r\n```\r\n\r\nAnd here are the relevant portions of my pom file:\r\n\r\n```xml\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;jmh.version&gt;1.33&lt;/jmh.version&gt;\r\n        &lt;javac.target&gt;17&lt;/javac.target&gt;\r\n        &lt;uberjar.name&gt;benchmarks&lt;/uberjar.name&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjdk.jmh&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jmh-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${jmh.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjdk.jmh&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jmh-generator-annprocess&lt;/artifactId&gt;\r\n            &lt;version&gt;${jmh.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-lang3 --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n            &lt;version&gt;3.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```","title":"Is it possible to use JMH with JDK 17?","body":"<p>Currently using trying to use JMH 1.33 with JDK 17. However, invoking JMH programatically seems to use sun.mis.Unsafe. Since 1.33 is the latest version of JMH, it therefore seems like it is impossible to use JMH with JDK 17? I hope this is not the case since I'm trying to benchmark some of the newer APIs so using an older version of the JDK is not an option for me.</p>\n<p>I'm using the following wrapper code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String[] args) throws RunnerException {\n        Options opt = new OptionsBuilder()\n                .include(QuadPointBenchmark.class.getName())\n                .warmupTime(TimeValue.seconds(10))\n                .detectJvmArgs()\n                .mode(Mode.AverageTime)\n                .timeUnit(TimeUnit.NANOSECONDS)\n                .build();\n        new Runner(opt).run();\n    }\n</code></pre>\n<p>And here are the relevant portions of my pom file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;jmh.version&gt;1.33&lt;/jmh.version&gt;\n        &lt;javac.target&gt;17&lt;/javac.target&gt;\n        &lt;uberjar.name&gt;benchmarks&lt;/uberjar.name&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjdk.jmh&lt;/groupId&gt;\n            &lt;artifactId&gt;jmh-core&lt;/artifactId&gt;\n            &lt;version&gt;${jmh.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjdk.jmh&lt;/groupId&gt;\n            &lt;artifactId&gt;jmh-generator-annprocess&lt;/artifactId&gt;\n            &lt;version&gt;${jmh.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-lang3 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.9&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","arrays","2d","fill","spiral"],"answers":[{"tags":[],"owner":{"account_id":13903,"reputation":393613,"user_id":28169,"accept_rate":88,"display_name":"unwind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1244041485,"creation_date":1244041485,"answer_id":945306,"question_id":945265,"body_markdown":"If you&#39;ve figured out code to do the reads (for printing), then surely you can just modify that to do writes instead, using the same logic?\r\n\r\nIf you want each cell in the matrix to contain its &quot;sequential number&quot;, counting backwards, something like this ought to work, assuming your access logic is correct:\r\n\r\n    for (int i = (m*n)-1, j = 0, index = m * n; i &gt; 0; i--, j++) {\r\n          for (int k = j; k &lt; i; k++) values[j][j] = index--;\r\n          for (int k = j; k &lt; i; k++) values[k][i] = index--;\r\n          for (int k = i; k &gt; j; k--) values[i][k] = index--;\r\n          for (int k = i; k &gt; j; k--) values[k][j] = index--;\r\n    }\r\n","title":"2d Array in Spiral Order","body":"<p>If you've figured out code to do the reads (for printing), then surely you can just modify that to do writes instead, using the same logic?</p>\n\n<p>If you want each cell in the matrix to contain its \"sequential number\", counting backwards, something like this ought to work, assuming your access logic is correct:</p>\n\n<pre><code>for (int i = (m*n)-1, j = 0, index = m * n; i &gt; 0; i--, j++) {\n      for (int k = j; k &lt; i; k++) values[j][j] = index--;\n      for (int k = j; k &lt; i; k++) values[k][i] = index--;\n      for (int k = i; k &gt; j; k--) values[i][k] = index--;\n      for (int k = i; k &gt; j; k--) values[k][j] = index--;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":31100,"reputation":13876,"user_id":85170,"accept_rate":100,"display_name":"CookieOfFortune"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1244042011,"creation_date":1244041619,"answer_id":945318,"question_id":945265,"body_markdown":"Not the most efficient, but it should work: g is the array. I&#39;m also using exceptions to control logic.\r\n\r\n    public static void spiralFill()\r\n    {\r\n        x = (g.length-1)/2;\r\n        y = (g[0].length-1)/2;\r\n\t\r\n        try\r\n        {\r\n            while(true)\r\n            {\r\n                 east();\r\n                 south();\r\n                 step++;\r\n                 west();\r\n                 north();\r\n                 step++;\t    \r\n            }\r\n        }\r\n        catch(ArrayIndexOutOfBoundsException e)\r\n        {\r\n\t\t\t\r\n        }\r\n    }\r\n\t\r\n    public static void east()\r\n    {\r\n\tfor(int i = 0; i &lt; step; i++)\r\n\t{\r\n            g[x][y] = count;\r\n            count++;\r\n\t    x++;\r\n        }\r\n    }\r\n    public static void south()\r\n    {\r\n        for(int i = 0; i &lt; step; i++)\r\n        {\r\n            g[x][y] = count;\r\n            count++;\r\n            y--;\r\n        }\r\n    }\t\r\n    public static void west()\r\n    {\r\n        for(int i = 0; i &lt; step; i++)\r\n        {\r\n             g[x][y] = count;\r\n             count++;\r\n             x--;\r\n        }\r\n    }\t\r\n    public static void north()\r\n    {\r\n       for(int i = 0; i &lt; step; i++)\r\n       {\r\n           g[x][y] = count;\r\n           count++;\r\n           y++;\r\n       }\r\n    }\t","title":"2d Array in Spiral Order","body":"<p>Not the most efficient, but it should work: g is the array. I'm also using exceptions to control logic.</p>\n\n<pre><code>public static void spiralFill()\n{\n    x = (g.length-1)/2;\n    y = (g[0].length-1)/2;\n\n    try\n    {\n        while(true)\n        {\n             east();\n             south();\n             step++;\n             west();\n             north();\n             step++;        \n        }\n    }\n    catch(ArrayIndexOutOfBoundsException e)\n    {\n\n    }\n}\n\npublic static void east()\n{\nfor(int i = 0; i &lt; step; i++)\n{\n        g[x][y] = count;\n        count++;\n    x++;\n    }\n}\npublic static void south()\n{\n    for(int i = 0; i &lt; step; i++)\n    {\n        g[x][y] = count;\n        count++;\n        y--;\n    }\n}   \npublic static void west()\n{\n    for(int i = 0; i &lt; step; i++)\n    {\n         g[x][y] = count;\n         count++;\n         x--;\n    }\n}   \npublic static void north()\n{\n   for(int i = 0; i &lt; step; i++)\n   {\n       g[x][y] = count;\n       count++;\n       y++;\n   }\n}   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":628127,"reputation":1,"user_id":373672,"display_name":"djiva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1277243047,"creation_date":1277243047,"answer_id":3097384,"question_id":945265,"body_markdown":"Here is some of the variations:\r\n\r\n    public class SpiralMatrix {\r\n    \r\n    \tprivate static int[][] createSpiralMatrix(int size) {\r\n    \t\tint[][] matrix = new int[size][size];\r\n    \r\n    \t\tint row = 0, col = -1;\r\n    \t\tint value = 1;\r\n    \r\n    \t\tboolean horizontal = true;\r\n    \t\tboolean increasing = true;\r\n    \t\tboolean finish = false;\r\n    \r\n    \t\twhile(!finish) {\r\n    \r\n    \t\t\tfinish = true;\r\n    \t\t\tif (horizontal &amp;&amp; increasing) {\r\n    \t\t\t\twhile(tryAndSet(matrix, row, col + 1, value)) {\r\n    \t\t\t\t\tfinish = false;\r\n    \t\t\t\t\tcol++;\r\n    \t\t\t\t\tvalue++;\r\n    \t\t\t\t}\r\n    \t\t\t} else if (horizontal &amp;&amp; !increasing) {\r\n    \t\t\t\twhile(tryAndSet(matrix, row, col - 1, value)) {\r\n    \t\t\t\t\tfinish = false;\r\n    \t\t\t\t\tcol--;\r\n    \t\t\t\t\tvalue++;\r\n    \t\t\t\t}\r\n    \t\t\t} else if (!horizontal &amp;&amp; increasing) {\r\n    \t\t\t\twhile(tryAndSet(matrix, row + 1, col, value)) {\r\n    \t\t\t\t\tfinish = false;\r\n    \t\t\t\t\trow++;\r\n    \t\t\t\t\tvalue++;\r\n    \t\t\t\t}\r\n    \t\t\t} else {\r\n    \t\t\t\twhile(tryAndSet(matrix, row - 1, col, value)) {\r\n    \t\t\t\t\tfinish = false;\r\n    \t\t\t\t\trow--;\r\n    \t\t\t\t\tvalue++;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t\tif (!horizontal) {\r\n    \t\t\t\tincreasing = !increasing;\r\n    \t\t\t}\r\n    \t\t\thorizontal = !horizontal;\r\n    \t\t}\r\n    \r\n    \t\treturn matrix;\r\n    \t}\r\n    \r\n    \r\n    \tprivate static boolean tryAndSet(int[][] matrix, int row, int col, int value) {\r\n    \t\tif (row &lt; 0 || col &lt; 0 || row &gt;= matrix.length || col &gt;= matrix[row].length || matrix[row][col] != 0) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t\tmatrix[row][col] = value;\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \tprivate static void printMatrix(int[][] matrix) {\r\n    \t\tfor (int i = 0; i &lt; matrix.length; i++) {\r\n    \t\t\tfor(int j = 0; j &lt; matrix[i].length; j++) {\r\n    \t\t\t\tSystem.out.print(&quot;\\t&quot; + matrix[i][j]);\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\ttry {\r\n    \t\t\tint[][] spiralMatrix = createSpiralMatrix(40);\r\n    \t\t\tprintMatrix(spiralMatrix);\r\n    \t\t} catch (Throwable th) {\r\n    \t\t\tth.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n\r\n\r\n\r\n\r\n","title":"2d Array in Spiral Order","body":"<p>Here is some of the variations:</p>\n\n<pre><code>public class SpiralMatrix {\n\n    private static int[][] createSpiralMatrix(int size) {\n        int[][] matrix = new int[size][size];\n\n        int row = 0, col = -1;\n        int value = 1;\n\n        boolean horizontal = true;\n        boolean increasing = true;\n        boolean finish = false;\n\n        while(!finish) {\n\n            finish = true;\n            if (horizontal &amp;&amp; increasing) {\n                while(tryAndSet(matrix, row, col + 1, value)) {\n                    finish = false;\n                    col++;\n                    value++;\n                }\n            } else if (horizontal &amp;&amp; !increasing) {\n                while(tryAndSet(matrix, row, col - 1, value)) {\n                    finish = false;\n                    col--;\n                    value++;\n                }\n            } else if (!horizontal &amp;&amp; increasing) {\n                while(tryAndSet(matrix, row + 1, col, value)) {\n                    finish = false;\n                    row++;\n                    value++;\n                }\n            } else {\n                while(tryAndSet(matrix, row - 1, col, value)) {\n                    finish = false;\n                    row--;\n                    value++;\n                }\n            }\n\n            if (!horizontal) {\n                increasing = !increasing;\n            }\n            horizontal = !horizontal;\n        }\n\n        return matrix;\n    }\n\n\n    private static boolean tryAndSet(int[][] matrix, int row, int col, int value) {\n        if (row &lt; 0 || col &lt; 0 || row &gt;= matrix.length || col &gt;= matrix[row].length || matrix[row][col] != 0) {\n            return false;\n        }\n        matrix[row][col] = value;\n        return true;\n    }\n\n    private static void printMatrix(int[][] matrix) {\n        for (int i = 0; i &lt; matrix.length; i++) {\n            for(int j = 0; j &lt; matrix[i].length; j++) {\n                System.out.print(\"\\t\" + matrix[i][j]);\n            }\n            System.out.println();\n        }\n    }\n\n\n    public static void main(String[] args) {\n        try {\n            int[][] spiralMatrix = createSpiralMatrix(40);\n            printMatrix(spiralMatrix);\n        } catch (Throwable th) {\n            th.printStackTrace();\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":398719,"reputation":11,"user_id":763566,"display_name":"user763566"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1312848504,"creation_date":1312848504,"answer_id":6990057,"question_id":945265,"body_markdown":"    int maxValue = target.length * target[0].length;\r\n\r\n    private int[][] generateMatrix(int[][] target, int level, int currentVal) {\r\n\t\t// always start from lower left corner in each layer\r\n\t\tint w = level;\r\n\t\tint h = target.length - level - 1;\r\n\r\n\t\t// fill the bottom line\r\n\t\tint i = 0;\r\n\t\tfor (i = w; i &lt; target[0].length - level &amp;&amp; currentVal &lt;= maxValue; i++) {\r\n\t\t\ttarget[h][i] = currentVal++;\r\n\t\t}\r\n\r\n\t\tw = target[0].length - level - 1;\r\n\r\n\t\tint j = 0;\r\n\t\t// fill the right line\r\n\t\tfor (j = h - 1; j &gt;= level &amp;&amp; currentVal &lt;= maxValue; j--) {\r\n\t\t\ttarget[j][w] = currentVal++;\r\n\t\t}\r\n\r\n\t\th = level;\r\n\r\n\t\t// fill the above line\r\n\t\tfor (i = w - 1; i &gt;= level &amp;&amp; currentVal &lt;= maxValue; i--) {\r\n\t\t\ttarget[h][i] = currentVal++;\r\n\t\t}\r\n\t\tw = level;\r\n\r\n\t\t// fill the left line\r\n\t\tfor (j = h + 1; j &lt; target.length - level - 1 &amp;&amp; currentVal &lt;= maxValue; j++) {\r\n\t\t\ttarget[j][w] = currentVal++;\r\n\t\t}\r\n\r\n\t\tif (currentVal &gt; maxValue)\r\n\t\t\treturn target;\r\n\t\treturn generateMatrix(target, ++level, currentVal);\r\n\r\n\t}\r\n","title":"2d Array in Spiral Order","body":"<pre><code>int maxValue = target.length * target[0].length;\n\nprivate int[][] generateMatrix(int[][] target, int level, int currentVal) {\n    // always start from lower left corner in each layer\n    int w = level;\n    int h = target.length - level - 1;\n\n    // fill the bottom line\n    int i = 0;\n    for (i = w; i &lt; target[0].length - level &amp;&amp; currentVal &lt;= maxValue; i++) {\n        target[h][i] = currentVal++;\n    }\n\n    w = target[0].length - level - 1;\n\n    int j = 0;\n    // fill the right line\n    for (j = h - 1; j &gt;= level &amp;&amp; currentVal &lt;= maxValue; j--) {\n        target[j][w] = currentVal++;\n    }\n\n    h = level;\n\n    // fill the above line\n    for (i = w - 1; i &gt;= level &amp;&amp; currentVal &lt;= maxValue; i--) {\n        target[h][i] = currentVal++;\n    }\n    w = level;\n\n    // fill the left line\n    for (j = h + 1; j &lt; target.length - level - 1 &amp;&amp; currentVal &lt;= maxValue; j++) {\n        target[j][w] = currentVal++;\n    }\n\n    if (currentVal &gt; maxValue)\n        return target;\n    return generateMatrix(target, ++level, currentVal);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3908657,"reputation":41,"user_id":3234606,"display_name":"Foxz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481973024,"creation_date":1481973024,"answer_id":41197942,"question_id":945265,"body_markdown":"    public ArrayList&lt;Integer&gt; spiralOrder(final List&lt;ArrayList&lt;Integer&gt;&gt; a) {\r\n\t\t ArrayList&lt;Integer&gt; result = new ArrayList&lt;Integer&gt;();\r\n\t\t  int m = a.get(0).size();\r\n\t\t  int n = a.size();\r\n\t\t  if(m&gt;1 &amp;&amp; n&gt;1){\r\n\t\t\t int loopCounter = (n &gt; m)  ? m*2 : n *2 -1 ;\r\n\t\t     int opr=1;\r\n\t\t     int i=0,j=0;\r\n\t\t     int opA=m,opB=n,opC=0,opD=1;\r\n\t\t     for(int k=0;k &lt; loopCounter ;k++){\r\n\t\t          if(opr == 1){\r\n\t\t    \t\t int counter =0;\r\n\t\t             while(counter &lt; opA){\r\n\t\t                System.out.print(a.get(i).get(j)+ &quot;;&quot;);\r\n\t\t                result.add(a.get(i).get(j));\r\n\t\t                counter++;\r\n\r\n\t\t                if(j != opA-1){\r\n\t\t                \tj++;\r\n\t\t                }\r\n\t\t                else{\r\n\t\t                \tbreak;\r\n\t\t                }\r\n\t\t             }\r\n\t\t             opr =2;\r\n\t\t             continue;\r\n\t\t         }\r\n\t\t         if(opr == 2){\r\n\t\t             i++;\r\n\t\t             int counter =1;\r\n\t\t             while(counter &lt; opB){\r\n\t\t                 System.out.print(a.get(i).get(j)+ &quot;;&quot;);\r\n\t\t                result.add(a.get(i).get(j));\r\n\t\t                counter++;\r\n\t\t               \r\n\t\t               if( i != opB-1){\r\n\t\t                 i++;\r\n\t\t               }\r\n\t\t               else{\r\n\t\t            \t   break;\r\n\t\t               }\r\n\t\t             }\r\n\t\t             opr =3;\r\n\t\t             continue;\r\n\t\t         }\r\n\t\t         if(opr == 3){\r\n\t\t        \t j--;\r\n\t\t             int counter =j;\r\n\t\t             while(counter &gt;= opC){\r\n\t\t                 System.out.print(a.get(i).get(j)+ &quot;;&quot;);\r\n\t\t                result.add(a.get(i).get(j));\r\n\t\t                counter --;\r\n\t\t                 if(j != opC){\r\n\t\t                 j--;\r\n\t\t                }\r\n\t\t                else{\r\n\t\t                \tbreak;\r\n\t\t                }\r\n\t\t              }\r\n\t\t             opr =4;\r\n\t\t             continue;\r\n\t\t         }\r\n\t\t         if(opr == 4){\r\n\t\t        \t i--;\r\n\t\t             int counter = i;\r\n\t\t             while(counter &gt;= opD){\r\n\t\t                 System.out.print(a.get(i).get(j)+ &quot;;&quot;);\r\n\t\t                result.add(a.get(i).get(j));\r\n\t\t                counter --;\r\n\t\t                if(i != opD){\r\n\t\t                 i--;\r\n\t\t                }else{\r\n\t\t                \tbreak;\r\n\t\t                }\r\n\t\t             }\r\n\t\t             opr =1;\r\n\t\t             j++;\r\n\t\t             opA = opA -1;\r\n\t\t\t         opB = opB -1;\r\n\t\t\t         opC= opC +1;\r\n\t\t\t         opD = opD+1;\r\n\t\t\t         continue;\r\n\t\t         }\r\n\t\t     }\r\n\t\t     \r\n\t\t }\r\n\t\t \r\n\t\t\t else if(n ==1){\r\n\t\t\t      for(int k=0;k &lt; a.get(0).size();k++){\r\n\t\t\t          result.add(a.get(0).get(k));\r\n\t\t\t      }\r\n\t\t\t }\r\n\r\n           else if(m==1 &amp;&amp; n==1){\r\n\t\t\t     result.add(a.get(0).get(0));\r\n\t\t\t }\r\n\t\t \r\n\t\t // Populate result;\r\n\t\t return result;\r\n\t\r\n\t\t     \r\n}","title":"2d Array in Spiral Order","body":"<pre><code>public ArrayList&lt;Integer&gt; spiralOrder(final List&lt;ArrayList&lt;Integer&gt;&gt; a) {\n     ArrayList&lt;Integer&gt; result = new ArrayList&lt;Integer&gt;();\n      int m = a.get(0).size();\n      int n = a.size();\n      if(m&gt;1 &amp;&amp; n&gt;1){\n         int loopCounter = (n &gt; m)  ? m*2 : n *2 -1 ;\n         int opr=1;\n         int i=0,j=0;\n         int opA=m,opB=n,opC=0,opD=1;\n         for(int k=0;k &lt; loopCounter ;k++){\n              if(opr == 1){\n                 int counter =0;\n                 while(counter &lt; opA){\n                    System.out.print(a.get(i).get(j)+ \";\");\n                    result.add(a.get(i).get(j));\n                    counter++;\n\n                    if(j != opA-1){\n                        j++;\n                    }\n                    else{\n                        break;\n                    }\n                 }\n                 opr =2;\n                 continue;\n             }\n             if(opr == 2){\n                 i++;\n                 int counter =1;\n                 while(counter &lt; opB){\n                     System.out.print(a.get(i).get(j)+ \";\");\n                    result.add(a.get(i).get(j));\n                    counter++;\n\n                   if( i != opB-1){\n                     i++;\n                   }\n                   else{\n                       break;\n                   }\n                 }\n                 opr =3;\n                 continue;\n             }\n             if(opr == 3){\n                 j--;\n                 int counter =j;\n                 while(counter &gt;= opC){\n                     System.out.print(a.get(i).get(j)+ \";\");\n                    result.add(a.get(i).get(j));\n                    counter --;\n                     if(j != opC){\n                     j--;\n                    }\n                    else{\n                        break;\n                    }\n                  }\n                 opr =4;\n                 continue;\n             }\n             if(opr == 4){\n                 i--;\n                 int counter = i;\n                 while(counter &gt;= opD){\n                     System.out.print(a.get(i).get(j)+ \";\");\n                    result.add(a.get(i).get(j));\n                    counter --;\n                    if(i != opD){\n                     i--;\n                    }else{\n                        break;\n                    }\n                 }\n                 opr =1;\n                 j++;\n                 opA = opA -1;\n                 opB = opB -1;\n                 opC= opC +1;\n                 opD = opD+1;\n                 continue;\n             }\n         }\n\n     }\n\n         else if(n ==1){\n              for(int k=0;k &lt; a.get(0).size();k++){\n                  result.add(a.get(0).get(k));\n              }\n         }\n\n       else if(m==1 &amp;&amp; n==1){\n             result.add(a.get(0).get(0));\n         }\n\n     // Populate result;\n     return result;\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":8763927,"reputation":1512,"user_id":6553042,"display_name":"fuat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539807196,"creation_date":1539807196,"answer_id":52862904,"question_id":945265,"body_markdown":"Below function is a square matrix with a size N &#215; N containing integers from 1 to N * N in a spiral order, starting from top-left and in clockwise direction.\r\n\r\n    int[][] spiralNumbers(int n) {\r\n    int[][] matrix = new int[n][n];\r\n    for (int step = 0, a = 0, size; step &lt; n/2; step++) {\r\n        size = (n - step * 2 - 1);\r\n        for (int i = 0, chunk, chunkIndex, chunkOffset; i &lt; 4 * size; i++) {\r\n            chunk = i / size;\r\n            chunkIndex = i % size;\r\n            chunkOffset = n - step - 1;\r\n            switch (chunk) {\r\n                case 0:\r\n                    matrix[step][chunkIndex + step] = a+1;\r\n                    break;\r\n                case 1:\r\n                    matrix[chunkIndex + step][chunkOffset] = a+1;\r\n                    break;\r\n                case 2:\r\n                    matrix[chunkOffset][chunkOffset - chunkIndex] = a+1;\r\n                    break;\r\n                case 3:\r\n                    matrix[chunkOffset - chunkIndex][step] = a+1;\r\n                    break;\r\n                default:\r\n                    throw new IndexOutOfBoundsException();\r\n            }\r\n            a++;\r\n        }\r\n        if (n % 2 == 1) {\r\n            matrix[n/2][n/2] = n * n;\r\n        }\r\n    }\r\n    return matrix; \r\n    }","title":"2d Array in Spiral Order","body":"<p>Below function is a square matrix with a size N × N containing integers from 1 to N * N in a spiral order, starting from top-left and in clockwise direction.</p>\n\n<pre><code>int[][] spiralNumbers(int n) {\nint[][] matrix = new int[n][n];\nfor (int step = 0, a = 0, size; step &lt; n/2; step++) {\n    size = (n - step * 2 - 1);\n    for (int i = 0, chunk, chunkIndex, chunkOffset; i &lt; 4 * size; i++) {\n        chunk = i / size;\n        chunkIndex = i % size;\n        chunkOffset = n - step - 1;\n        switch (chunk) {\n            case 0:\n                matrix[step][chunkIndex + step] = a+1;\n                break;\n            case 1:\n                matrix[chunkIndex + step][chunkOffset] = a+1;\n                break;\n            case 2:\n                matrix[chunkOffset][chunkOffset - chunkIndex] = a+1;\n                break;\n            case 3:\n                matrix[chunkOffset - chunkIndex][step] = a+1;\n                break;\n            default:\n                throw new IndexOutOfBoundsException();\n        }\n        a++;\n    }\n    if (n % 2 == 1) {\n        matrix[n/2][n/2] = n * n;\n    }\n}\nreturn matrix; \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19296018,"reputation":9,"user_id":14104979,"display_name":"Hristo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632595770,"creation_date":1632595770,"answer_id":69329087,"question_id":945265,"body_markdown":"Here&#39;s my take on this:\r\n    \r\n\r\n    public class SpiralMatrix {\r\n    public static void main(String[] args) {\r\n        int[][] matrix = new int[5][5];\r\n        int startRow = 0;\r\n        int endRow = matrix.length - 1;\r\n        int startCol = 0;\r\n        int endCol = matrix.length - 1;\r\n        int counter = 1;\r\n        int cycleEnder = matrix.length * matrix.length;\r\n\r\n\r\n        while (counter &lt;= cycleEnder) {\r\n\r\n            //FIRST ROW\r\n            for (int i = 0; i &lt;= endCol; i++) {\r\n                matrix[startRow][i] = counter;\r\n                counter++;\r\n            }\r\n            startRow++;\r\n            //RIGHT-SIDE COL\r\n            for (int i = startRow; i &lt;= endRow; i++) {\r\n                matrix[i][endCol] = counter;\r\n                counter++;\r\n            }\r\n            endCol--;\r\n            //BOTTOM ROW REVERSE\r\n            for (int i = endCol; i &gt;= startCol; i--) {\r\n                matrix[endRow][i] = counter;\r\n                counter++;\r\n            }\r\n            endRow--;\r\n\r\n            //FIRST COL UP\r\n            for (int i = endRow; i &gt; startRow; i--) {\r\n                matrix[i][startCol] = counter;\r\n                counter++;\r\n            }\r\n            startCol++;\r\n\r\n\r\n        }\r\n        for (int[] ints : matrix) {\r\n            for (int j = 0; j &lt; matrix.length; j++) {\r\n                if (ints[j] &lt; 10) {\r\n                    System.out.print(ints[j] + &quot;  &quot;);\r\n                } else {\r\n                    System.out.print(ints[j] + &quot; &quot;);\r\n                }\r\n\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\n\r\n        public static void showMatrix ( int[][] mat, int x, int y){\r\n            for (int i = 0; i &lt; mat.length; i++) {\r\n                for (int j = 0; j &lt; mat.length; j++) {\r\n                    System.out.print(mat[i][j] + &quot; &quot;);\r\n                }\r\n                System.out.println();\r\n            }\r\n        }\r\n    }\r\n","title":"2d Array in Spiral Order","body":"<p>Here's my take on this:</p>\n<pre><code>public class SpiralMatrix {\npublic static void main(String[] args) {\n    int[][] matrix = new int[5][5];\n    int startRow = 0;\n    int endRow = matrix.length - 1;\n    int startCol = 0;\n    int endCol = matrix.length - 1;\n    int counter = 1;\n    int cycleEnder = matrix.length * matrix.length;\n\n\n    while (counter &lt;= cycleEnder) {\n\n        //FIRST ROW\n        for (int i = 0; i &lt;= endCol; i++) {\n            matrix[startRow][i] = counter;\n            counter++;\n        }\n        startRow++;\n        //RIGHT-SIDE COL\n        for (int i = startRow; i &lt;= endRow; i++) {\n            matrix[i][endCol] = counter;\n            counter++;\n        }\n        endCol--;\n        //BOTTOM ROW REVERSE\n        for (int i = endCol; i &gt;= startCol; i--) {\n            matrix[endRow][i] = counter;\n            counter++;\n        }\n        endRow--;\n\n        //FIRST COL UP\n        for (int i = endRow; i &gt; startRow; i--) {\n            matrix[i][startCol] = counter;\n            counter++;\n        }\n        startCol++;\n\n\n    }\n    for (int[] ints : matrix) {\n        for (int j = 0; j &lt; matrix.length; j++) {\n            if (ints[j] &lt; 10) {\n                System.out.print(ints[j] + &quot;  &quot;);\n            } else {\n                System.out.print(ints[j] + &quot; &quot;);\n            }\n\n        }\n        System.out.println();\n    }\n}\n\n\n    public static void showMatrix ( int[][] mat, int x, int y){\n        for (int i = 0; i &lt; mat.length; i++) {\n            for (int j = 0; j &lt; mat.length; j++) {\n                System.out.print(mat[i][j] + &quot; &quot;);\n            }\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"Dior"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20689,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":7,"score":3,"last_activity_date":1632595770,"creation_date":1244041106,"question_id":945265,"body_markdown":"I&#39;m trying to fill an array in spiral order. So far, I can print the array in spiral order, but is there a way to modify the array so that i can fill it in spiral order and then just print the array? I&#39;d like it to go in decreasing order like a countdown. Please help!\r\n\r\n    public class Spiral {\r\n      public static void main(int m, int n) { \r\n        \r\n        // create m by n array of integers 1 through m*n\r\n        int[][] values = new int[m][n];\r\n        for (int i = 0; i &lt; m; i++)\r\n            for (int j = 0; j &lt; n; j++)\r\n                values[i][j] = 1 + (m*n)*i + j;\r\n\r\n        // spiral\r\n        for (int i = (m*n)-1, j = 0; i &gt; 0; i--, j++) {\r\n              for (int k = j; k &lt; i; k++) System.out.println(values[j][k]);\r\n              for (int k = j; k &lt; i; k++) System.out.println(values[k][i]);\r\n              for (int k = i; k &gt; j; k--) System.out.println(values[i][k]);\r\n              for (int k = i; k &gt; j; k--) System.out.println(values[k][j]);\r\n        }\r\n      }\r\n    }","title":"2d Array in Spiral Order","body":"<p>I'm trying to fill an array in spiral order. So far, I can print the array in spiral order, but is there a way to modify the array so that i can fill it in spiral order and then just print the array? I'd like it to go in decreasing order like a countdown. Please help!</p>\n\n<pre><code>public class Spiral {\n  public static void main(int m, int n) { \n\n    // create m by n array of integers 1 through m*n\n    int[][] values = new int[m][n];\n    for (int i = 0; i &lt; m; i++)\n        for (int j = 0; j &lt; n; j++)\n            values[i][j] = 1 + (m*n)*i + j;\n\n    // spiral\n    for (int i = (m*n)-1, j = 0; i &gt; 0; i--, j++) {\n          for (int k = j; k &lt; i; k++) System.out.println(values[j][k]);\n          for (int k = j; k &lt; i; k++) System.out.println(values[k][i]);\n          for (int k = i; k &gt; j; k--) System.out.println(values[i][k]);\n          for (int k = i; k &gt; j; k--) System.out.println(values[k][j]);\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","netbeans","static","static-block"],"comments":[{"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"score":0,"creation_date":1631927567,"post_id":69230774,"comment_id":122363325,"body_markdown":"Per my reading of [the language specification](https://docs.oracle.com/javase/specs/jls/se11/html/jls-12.html#jls-12.4.1), NetBeans is doing it wrong.  I don&#39;t see why there would be an &quot;option&quot; to not implement the language correctly, so maybe it&#39;s a bug pure and simple.","body":"Per my reading of <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-12.html#jls-12.4.1\" rel=\"nofollow noreferrer\">the language specification</a>, NetBeans is doing it wrong.  I don&#39;t see why there would be an &quot;option&quot; to not implement the language correctly, so maybe it&#39;s a bug pure and simple."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1631928693,"post_id":69230774,"comment_id":122363426,"body_markdown":"netbeans uses `javac` under the hood. There is surely no `--do-something-bizarre-and-break-spec` option in netbeans. There is no allowance in the lang spec here; this must print `10`. Check a few things: Did you save the file before running it, for example?","body":"netbeans uses <code>javac</code> under the hood. There is surely no <code>--do-something-bizarre-and-break-spec</code> option in netbeans. There is no allowance in the lang spec here; this must print <code>10</code>. Check a few things: Did you save the file before running it, for example?"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1631928735,"post_id":69230774,"comment_id":122363431,"body_markdown":"I run the code in Netbeans 12.4 using Java 16.0.2 and it worked just like your command line output.  Since Netbeans is relying on the installed version of Java (and not an internal version that some IDEs use), I don&#39;t, personally, see it as a bug in Netbeans itself, but I can&#39;t answer the question of why it&#39;s happening, other then you&#39;re possibly running the wrong code or are running an out date version of the code (ie do a clean and build)","body":"I run the code in Netbeans 12.4 using Java 16.0.2 and it worked just like your command line output.  Since Netbeans is relying on the installed version of Java (and not an internal version that some IDEs use), I don&#39;t, personally, see it as a bug in Netbeans itself, but I can&#39;t answer the question of why it&#39;s happening, other then you&#39;re possibly running the wrong code or are running an out date version of the code (ie do a clean and build)"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1631932130,"post_id":69230774,"comment_id":122363801,"body_markdown":"How did you create your NetBeans project? Was it created using &quot;Java with Maven&quot;? Or &quot;Java with Ant&quot;? If I create one of each type, the &quot;with Maven&quot; project gives `10` but the &quot;with Ant&quot; project gives `0` - and yes that is after a clean &amp; build in both projects. Interestingly, the JAR file from the Ant project gives `10` when executed at the command line. (I cannot explain the differences.)","body":"How did you create your NetBeans project? Was it created using &quot;Java with Maven&quot;? Or &quot;Java with Ant&quot;? If I create one of each type, the &quot;with Maven&quot; project gives <code>10</code> but the &quot;with Ant&quot; project gives <code>0</code> - and yes that is after a clean &amp; build in both projects. Interestingly, the JAR file from the Ant project gives <code>10</code> when executed at the command line. (I cannot explain the differences.)"},{"owner":{"account_id":19502641,"reputation":13,"user_id":14268314,"display_name":"Isira Ratnayake"},"score":0,"creation_date":1631932569,"post_id":69230774,"comment_id":122363836,"body_markdown":"@andrewjames I am running a Java with Ant project, maybe that&#39;s the issue. I am positive that it&#39;s not a older version of the code. thnx for the speedy reply.  Can someone explain the difference between an Ant project and a Maven project?","body":"@andrewjames I am running a Java with Ant project, maybe that&#39;s the issue. I am positive that it&#39;s not a older version of the code. thnx for the speedy reply.  Can someone explain the difference between an Ant project and a Maven project?"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1631932802,"post_id":69230774,"comment_id":122363858,"body_markdown":"OK - so try the &quot;with Maven&quot; version. That would help to narrow things down to (probably) how NetBeans uses Ant.","body":"OK - so try the &quot;with Maven&quot; version. That would help to narrow things down to (probably) how NetBeans uses Ant."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1631933492,"post_id":69230774,"comment_id":122363925,"body_markdown":"&quot;with Ant&quot; means NetBeans uses [Ant](https://ant.apache.org/) to manage compilation and build, using its own custom `build.xml` script. &quot;with Maven&quot; means NetBeans uses [Maven](https://maven.apache.org/) instead. I would generally recommend Maven (or Gradle) over Ant, these days. But that&#39;s a big topic for a small comment.","body":"&quot;with Ant&quot; means NetBeans uses <a href=\"https://ant.apache.org/\" rel=\"nofollow noreferrer\">Ant</a> to manage compilation and build, using its own custom <code>build.xml</code> script. &quot;with Maven&quot; means NetBeans uses <a href=\"https://maven.apache.org/\" rel=\"nofollow noreferrer\">Maven</a> instead. I would generally recommend Maven (or Gradle) over Ant, these days. But that&#39;s a big topic for a small comment."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1631934525,"post_id":69230774,"comment_id":122364050,"body_markdown":"@IsiraRatnayake FYI I used the &quot;ant&quot; based project for my test.  The difference between Ant and Maven is a little like trying to compare apples and oranges, but they are, essentially, two different build systems","body":"@IsiraRatnayake FYI I used the &quot;ant&quot; based project for my test.  The difference between Ant and Maven is a little like trying to compare apples and oranges, but they are, essentially, two different build systems"},{"owner":{"account_id":19502641,"reputation":13,"user_id":14268314,"display_name":"Isira Ratnayake"},"score":0,"creation_date":1631938262,"post_id":69230774,"comment_id":122364413,"body_markdown":"@andrewjames I rewrote the program as a maven project and worked like a charm. Although it takes a while to build and run doesn&#39;t it?","body":"@andrewjames I rewrote the program as a maven project and worked like a charm. Although it takes a while to build and run doesn&#39;t it?"},{"owner":{"account_id":19502641,"reputation":13,"user_id":14268314,"display_name":"Isira Ratnayake"},"score":0,"creation_date":1631938486,"post_id":69230774,"comment_id":122364430,"body_markdown":"thannks guys for helping me out. It&#39;s also a bit strange how this was not an issue for @MadProgrammer","body":"thannks guys for helping me out. It&#39;s also a bit strange how this was not an issue for @MadProgrammer"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1631940110,"post_id":69230774,"comment_id":122364600,"body_markdown":"Conversely, I think that it was strange that it was an issue for you.  AFAIK, nobody else managed to reproduce your problem.  Certainly, nobody *said* that they had.","body":"Conversely, I think that it was strange that it was an issue for you.  AFAIK, nobody else managed to reproduce your problem.  Certainly, nobody <i>said</i> that they had."}],"answers":[{"tags":[],"owner":{"account_id":22852218,"reputation":1,"user_id":16997649,"display_name":"Cien"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632523765,"creation_date":1632523765,"answer_id":69321778,"question_id":69230774,"body_markdown":"i got this problem too after updating from netbeans 12.0 to 12.4, importing my old plugins fixed the problem, i think it&#39;s something related to nb-javac plugin.","title":"why are Static blocks not being executed in the NetBeans IDE (Java)?","body":"<p>i got this problem too after updating from netbeans 12.0 to 12.4, importing my old plugins fixed the problem, i think it's something related to nb-javac plugin.</p>\n"},{"tags":[],"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632595410,"creation_date":1632595410,"answer_id":69329054,"question_id":69230774,"body_markdown":"You should [upgrade](https://netbeans.apache.org/download/nb125/nb125.html) to NetBeans 12.5.\r\n\r\nThis is a known issue in NetBeans 12.4, and has been fixed in NetBeans 12.5 (I ran a test to confirm).\r\n\r\nSummary from the [NetBeans 12.5 Features](https://netbeans.apache.org/download/nb125/index.html) page:\r\n\r\n&gt; NETBEANS-5832 Fixing compilation of static initializer for vanilla indexing.: https://github.com/apache/netbeans/pull/3054\r\n\r\nThe specific NetBeans JIRA ticket: [Static block not compiled](https://issues.apache.org/jira/browse/NETBEANS-5832)\r\n\r\n","title":"why are Static blocks not being executed in the NetBeans IDE (Java)?","body":"<p>You should <a href=\"https://netbeans.apache.org/download/nb125/nb125.html\" rel=\"nofollow noreferrer\">upgrade</a> to NetBeans 12.5.</p>\n<p>This is a known issue in NetBeans 12.4, and has been fixed in NetBeans 12.5 (I ran a test to confirm).</p>\n<p>Summary from the <a href=\"https://netbeans.apache.org/download/nb125/index.html\" rel=\"nofollow noreferrer\">NetBeans 12.5 Features</a> page:</p>\n<blockquote>\n<p>NETBEANS-5832 Fixing compilation of static initializer for vanilla indexing.: <a href=\"https://github.com/apache/netbeans/pull/3054\" rel=\"nofollow noreferrer\">https://github.com/apache/netbeans/pull/3054</a></p>\n</blockquote>\n<p>The specific NetBeans JIRA ticket: <a href=\"https://issues.apache.org/jira/browse/NETBEANS-5832\" rel=\"nofollow noreferrer\">Static block not compiled</a></p>\n"}],"owner":{"account_id":19502641,"reputation":13,"user_id":14268314,"display_name":"Isira Ratnayake"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69329054,"answer_count":2,"score":1,"last_activity_date":1632595410,"creation_date":1631926707,"question_id":69230774,"body_markdown":"I&#39;m learning java and right now testing how static blocks work. I am trying to build and run the below code, but the static blocks are not being executed. When I compile and run the same code via the command-line (I am using command prompt(Windows 10)), the static blocks are being executed.  \r\nI am assuming this is related to some option in the IDE, but as I said I&#39;m a still learning Java and OOP.\r\n```\r\npackage statictest;\r\n\r\npublic class StaticTest {\r\n\tpublic static void main(String args[]) {\r\n\t\tSystem.out.println(Test.i);\r\n\t}\r\n}\r\n\r\nclass Test {\r\n\tstatic int i;\r\n\tstatic {\r\n\t\ti = 10;\r\n\t}\r\n}\r\n```\r\nCan anyone help me out? An explanation of why this happens is also much appreciated.  \r\nPS:  \r\nWhen using NetBeans the output is 0  \r\nWhen using command-line the output is 10\r\n","title":"why are Static blocks not being executed in the NetBeans IDE (Java)?","body":"<p>I'm learning java and right now testing how static blocks work. I am trying to build and run the below code, but the static blocks are not being executed. When I compile and run the same code via the command-line (I am using command prompt(Windows 10)), the static blocks are being executed.<br />\nI am assuming this is related to some option in the IDE, but as I said I'm a still learning Java and OOP.</p>\n<pre><code>package statictest;\n\npublic class StaticTest {\n    public static void main(String args[]) {\n        System.out.println(Test.i);\n    }\n}\n\nclass Test {\n    static int i;\n    static {\n        i = 10;\n    }\n}\n</code></pre>\n<p>Can anyone help me out? An explanation of why this happens is also much appreciated.<br />\nPS:<br />\nWhen using NetBeans the output is 0<br />\nWhen using command-line the output is 10</p>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631535817,"creation_date":1631534682,"answer_id":69162375,"question_id":69162236,"body_markdown":"There are **two** web elements with `List Your Property.` \r\n\r\nThe below xpath has unique entry in `HTMLDOM`\r\n\r\n    //div[@id=&#39;myNavbar&#39;]/descendant::a[text()=&#39;List Your Property&#39;]\r\n\r\n**Code trial 1 :**\r\n\r\n    WebElement element = driver.findElement(By.xpath(&quot;//div[@id=&#39;myNavbar&#39;]/descendant::a[text()=&#39;List Your Property&#39;]&quot;)); \r\n    element.click();\r\n\r\n\r\n**Code trial 2 :** **With Explicit waits:** \r\n\r\n    WebElement element  = new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//div[@id=&#39;myNavbar&#39;]/descendant::a[text()=&#39;List Your Property&#39;]&quot;)));\r\n    element.click();\r\n\r\n\r\n**Update 1 :**\r\n\r\n\tdriver.manage().window().maximize();\r\n\t//WebDriverWait wait = new WebDriverWait(driver, 30);\r\n\t//driver.manage().timeouts().implicitlyWait(300, TimeUnit.SECONDS);\r\n\tdriver.get(&quot;https://staging.corporatehousingbyowner.com/&quot;);\r\n\tWebElement element  = new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//div[@id=&#39;myNavbar&#39;]/descendant::a[text()=&#39;List Your Property&#39;]&quot;)));\r\n\telement.click();","title":"How to locate an element by using any of the selenium web driver locators","body":"<p>There are <strong>two</strong> web elements with <code>List Your Property.</code></p>\n<p>The below xpath has unique entry in <code>HTMLDOM</code></p>\n<pre><code>//div[@id='myNavbar']/descendant::a[text()='List Your Property']\n</code></pre>\n<p><strong>Code trial 1 :</strong></p>\n<pre><code>WebElement element = driver.findElement(By.xpath(&quot;//div[@id='myNavbar']/descendant::a[text()='List Your Property']&quot;)); \nelement.click();\n</code></pre>\n<p><strong>Code trial 2 :</strong> <strong>With Explicit waits:</strong></p>\n<pre><code>WebElement element  = new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//div[@id='myNavbar']/descendant::a[text()='List Your Property']&quot;)));\nelement.click();\n</code></pre>\n<p><strong>Update 1 :</strong></p>\n<pre><code>driver.manage().window().maximize();\n//WebDriverWait wait = new WebDriverWait(driver, 30);\n//driver.manage().timeouts().implicitlyWait(300, TimeUnit.SECONDS);\ndriver.get(&quot;https://staging.corporatehousingbyowner.com/&quot;);\nWebElement element  = new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//div[@id='myNavbar']/descendant::a[text()='List Your Property']&quot;)));\nelement.click();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631536194,"creation_date":1631536194,"answer_id":69162709,"question_id":69162236,"body_markdown":"You can use\r\n\r\n`driver.findElement(By.cssSelector(&quot;nav.navbar a.list-your-prop&quot;)).click();`\r\n\r\nIt is also better to use waiters because the element might take time to load.","title":"How to locate an element by using any of the selenium web driver locators","body":"<p>You can use</p>\n<p><code>driver.findElement(By.cssSelector(&quot;nav.navbar a.list-your-prop&quot;)).click();</code></p>\n<p>It is also better to use waiters because the element might take time to load.</p>\n"},{"tags":[],"owner":{"account_id":15279664,"reputation":73,"user_id":11024443,"display_name":"Thiru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632595264,"creation_date":1632595264,"answer_id":69329044,"question_id":69162236,"body_markdown":"&gt;You just need to traverse from parent -&gt; child to identify unique xpath as it&#39;s returning 2 elements with class attribute alone.\r\nHere is the working code : \r\n\r\n    driver.get(&quot;https://staging.corporatehousingbyowner.com/&quot;)\r\n    driver.implicitly_wait(10)\r\n    driver.find_element_by_xpath(&quot;//ul[@class=&#39;nav navbar-nav navbar-right&#39;]//a[text()=&#39;List Your Property&#39;]&quot;).click()\r\n\r\n","title":"How to locate an element by using any of the selenium web driver locators","body":"<blockquote>\n<p>You just need to traverse from parent -&gt; child to identify unique xpath as it's returning 2 elements with class attribute alone.\nHere is the working code :</p>\n</blockquote>\n<pre><code>driver.get(&quot;https://staging.corporatehousingbyowner.com/&quot;)\ndriver.implicitly_wait(10)\ndriver.find_element_by_xpath(&quot;//ul[@class='nav navbar-nav navbar-right']//a[text()='List Your Property']&quot;).click()\n</code></pre>\n"}],"owner":{"account_id":5107002,"reputation":1,"user_id":4094806,"display_name":"Gul raiz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1632595264,"creation_date":1631534206,"question_id":69162236,"body_markdown":"**Website URL**: https://staging.corporatehousingbyowner.com/\r\n\r\nHi,\r\nI am unable to locate and click at the following button present in a UL &gt; li through Selenium Webdriver with Java. \r\nUsing Chrome driver to perform automated execution.\r\n\r\n    &lt;ul&gt;\r\n    &lt;li&gt;&lt;a class=&quot;list-your-prop&quot; href=&quot;/dashboard/properties/add/&quot;&gt;List Your Property&lt;/a&gt;&lt;/li&gt;\r\n    &lt;ul/&gt;\r\n\r\nAlready tried the following solutions.\r\n\r\n1: \r\n\r\n    WebElement element = driver.findElement(By.linkText(&quot;List Your Property&quot;));\r\n    \t\telement.click();\r\n\r\n2: \r\n\r\n    WebElement element = driver.findElement(By.className(&quot;menu-text&quot;));\r\n    String elementText = element.getText();\r\n\r\n3: \r\n\r\n    WebElement element = driver.findElement(By.xpath(&quot;//li[contains(@class,&#39;list-your-prop&#39;)]/ul/li/a&quot;));\r\n    \t\telement.click();\r\n\r\n4: `driver.findElement(By.cssSelector(&quot;body &gt; header:nth-child(1) &gt; nav:nth-child(4) &gt; div:nth-child(1) &gt; div:nth-child(2) &gt; ul:nth-child(2) &gt; li:nth-child(4) &gt; a:nth-child(1)&quot;)).click();`\r\n\r\n[WebPage Highlights][1]\r\n  [1]: https://i.stack.imgur.com/FH2LR.png\r\n\r\nPlease help, **thanks in advance**.","title":"How to locate an element by using any of the selenium web driver locators","body":"<p><strong>Website URL</strong>: <a href=\"https://staging.corporatehousingbyowner.com/\" rel=\"nofollow noreferrer\">https://staging.corporatehousingbyowner.com/</a></p>\n<p>Hi,\nI am unable to locate and click at the following button present in a UL &gt; li through Selenium Webdriver with Java.\nUsing Chrome driver to perform automated execution.</p>\n<pre><code>&lt;ul&gt;\n&lt;li&gt;&lt;a class=&quot;list-your-prop&quot; href=&quot;/dashboard/properties/add/&quot;&gt;List Your Property&lt;/a&gt;&lt;/li&gt;\n&lt;ul/&gt;\n</code></pre>\n<p>Already tried the following solutions.</p>\n<p>1:</p>\n<pre><code>WebElement element = driver.findElement(By.linkText(&quot;List Your Property&quot;));\n        element.click();\n</code></pre>\n<p>2:</p>\n<pre><code>WebElement element = driver.findElement(By.className(&quot;menu-text&quot;));\nString elementText = element.getText();\n</code></pre>\n<p>3:</p>\n<pre><code>WebElement element = driver.findElement(By.xpath(&quot;//li[contains(@class,'list-your-prop')]/ul/li/a&quot;));\n        element.click();\n</code></pre>\n<p>4: <code>driver.findElement(By.cssSelector(&quot;body &gt; header:nth-child(1) &gt; nav:nth-child(4) &gt; div:nth-child(1) &gt; div:nth-child(2) &gt; ul:nth-child(2) &gt; li:nth-child(4) &gt; a:nth-child(1)&quot;)).click();</code></p>\n<p>[WebPage Highlights][1]\n[1]: https://i.stack.imgur.com/FH2LR.png</p>\n<p>Please help, <strong>thanks in advance</strong>.</p>\n"},{"tags":["java","spring-boot","get","resttemplate"],"comments":[{"owner":{"account_id":90879,"reputation":606,"user_id":249907,"display_name":"tony.ganchev"},"score":1,"creation_date":1632593481,"post_id":69328795,"comment_id":122537125,"body_markdown":"I hope you get some answers but frankly I think this is a problem you can easily debug - any IDE would get the Spring source for you and you can see where the response processing fails.","body":"I hope you get some answers but frankly I think this is a problem you can easily debug - any IDE would get the Spring source for you and you can see where the response processing fails."},{"owner":{"account_id":2281096,"reputation":497,"user_id":14995131,"display_name":"jimmy"},"score":0,"creation_date":1632594228,"post_id":69328795,"comment_id":122537289,"body_markdown":"I&#39;m getting a 200 response code but the body is null. I&#39;m following the suggestion provided by the other user to solve it. Hopefully it will be fixed soon. Thanks!","body":"I&#39;m getting a 200 response code but the body is null. I&#39;m following the suggestion provided by the other user to solve it. Hopefully it will be fixed soon. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":11003756,"reputation":735,"user_id":8303430,"display_name":"Rituraj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632593342,"creation_date":1632593342,"answer_id":69328819,"question_id":69328795,"body_markdown":"You carList object is private, try providing a setter method for this object and if the contract is fine, the deserialization will work fine. \r\n```\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class CarList{\r\n    private List&lt;Car&gt; carList;\r\n\r\n    public CarList(List&lt;Car&gt; carList) {\r\n        this.carList= carList;\r\n    }\r\n\r\n    public CarList() {\r\n    }\r\n\r\n    public List&lt;Car&gt; getCarList() {\r\n        return carList;\r\n    }\r\n\r\n    public setCarList(List&lt;Car&gt; carList) {\r\n        this.carList= carList;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;CarList{&quot; +\r\n                &quot;carList=&quot; + carList +\r\n                &#39;}&#39;;\r\n    }\r\n}","title":"How to GET data using RestTemplate exchange?","body":"<p>You carList object is private, try providing a setter method for this object and if the contract is fine, the deserialization will work fine.</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\npublic class CarList{\n    private List&lt;Car&gt; carList;\n\n    public CarList(List&lt;Car&gt; carList) {\n        this.carList= carList;\n    }\n\n    public CarList() {\n    }\n\n    public List&lt;Car&gt; getCarList() {\n        return carList;\n    }\n\n    public setCarList(List&lt;Car&gt; carList) {\n        this.carList= carList;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;CarList{&quot; +\n                &quot;carList=&quot; + carList +\n                '}';\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2281096,"reputation":497,"user_id":14995131,"display_name":"jimmy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":822,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69328819,"answer_count":1,"score":0,"last_activity_date":1632594067,"creation_date":1632593063,"question_id":69328795,"body_markdown":"I&#39;m currently sending a `GET request` which is returning a `null` body in the response.\r\n\r\n\r\n    @Service\r\n    public class CarService {\r\n    private RestTemplate restTemplate;\r\n    private final String url = &quot;url&quot;;\r\n    private final String accessToken = &quot;x&quot;;\r\n\r\n    @Autowired\r\n    public CarService () throws URISyntaxException {\r\n        restTemplate = new RestTemplate();\r\n    }\r\n\r\n    public void fetchCars() throws URISyntaxException {\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setBearerAuth(accessToken);\r\n        headers.setAccept(List.of(MediaType.APPLICATION_JSON));\r\n        ResponseEntity&lt;CarList&gt; carList = restTemplate.exchange\r\n                (RequestEntity.get(new URI(url)).headers(headers).build(), CarList.class);\r\n    }\r\n\r\n    }\r\n\r\nThe CarList.class looks like this:\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class CarList{\r\n        private List&lt;Car&gt; carList;\r\n    \r\n        public CarList(List&lt;Car&gt; carList) {\r\n            this.carList= carList;\r\n        }\r\n    \r\n        public CarList() {\r\n        }\r\n    \r\n        public List&lt;Car&gt; getCarList() {\r\n            return carList;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;CarList{&quot; +\r\n                    &quot;carList=&quot; + carList +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\nThe response in Postman looks like this:\r\n\r\n    {\r\n        &quot;cars&quot;: [\r\n            {\r\n                &quot;carUid&quot;: &quot;aaaa-ccc-dd-cc-ee&quot;,\r\n                &quot;model&quot;: &quot;hyundai&quot;,\r\n                &quot;price&quot;: 20000,\r\n                &quot;soldAt&quot;: &quot;2021-09-24T22:10:15.307Z&quot;\r\n            }\r\n        ]\r\n    }\r\n\r\nAm I missing something? \r\nIt&#39;s the first time I try to consume from a client, so take in consideration the most basic things that I might be missing.\r\n\r\nI&#39;ve already tested the GET request in Postman with the given accessToken and it&#39;s working fine.\r\n\r\n","title":"How to GET data using RestTemplate exchange?","body":"<p>I'm currently sending a <code>GET request</code> which is returning a <code>null</code> body in the response.</p>\n<pre><code>@Service\npublic class CarService {\nprivate RestTemplate restTemplate;\nprivate final String url = &quot;url&quot;;\nprivate final String accessToken = &quot;x&quot;;\n\n@Autowired\npublic CarService () throws URISyntaxException {\n    restTemplate = new RestTemplate();\n}\n\npublic void fetchCars() throws URISyntaxException {\n    HttpHeaders headers = new HttpHeaders();\n    headers.setBearerAuth(accessToken);\n    headers.setAccept(List.of(MediaType.APPLICATION_JSON));\n    ResponseEntity&lt;CarList&gt; carList = restTemplate.exchange\n            (RequestEntity.get(new URI(url)).headers(headers).build(), CarList.class);\n}\n\n}\n</code></pre>\n<p>The CarList.class looks like this:</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\npublic class CarList{\n    private List&lt;Car&gt; carList;\n\n    public CarList(List&lt;Car&gt; carList) {\n        this.carList= carList;\n    }\n\n    public CarList() {\n    }\n\n    public List&lt;Car&gt; getCarList() {\n        return carList;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;CarList{&quot; +\n                &quot;carList=&quot; + carList +\n                '}';\n    }\n}\n</code></pre>\n<p>The response in Postman looks like this:</p>\n<pre><code>{\n    &quot;cars&quot;: [\n        {\n            &quot;carUid&quot;: &quot;aaaa-ccc-dd-cc-ee&quot;,\n            &quot;model&quot;: &quot;hyundai&quot;,\n            &quot;price&quot;: 20000,\n            &quot;soldAt&quot;: &quot;2021-09-24T22:10:15.307Z&quot;\n        }\n    ]\n}\n</code></pre>\n<p>Am I missing something?\nIt's the first time I try to consume from a client, so take in consideration the most basic things that I might be missing.</p>\n<p>I've already tested the GET request in Postman with the given accessToken and it's working fine.</p>\n"},{"tags":["java","string","rotation","ascii"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1632592553,"post_id":69328699,"comment_id":122536936,"body_markdown":"Are you aware of idea behind `if (currentAscii &lt;65|| currentAscii&gt;122)`? Have you seen *all* characters which are between `65` and `122`?","body":"Are you aware of idea behind <code>if (currentAscii &lt;65|| currentAscii&gt;122)</code>? Have you seen <i>all</i> characters which are between <code>65</code> and <code>122</code>?"},{"owner":{"display_name":"user16225412"},"score":0,"creation_date":1632592807,"post_id":69328699,"comment_id":122536990,"body_markdown":"Yes so I put that since that&#39;s where the alphabets are (between 65 and 122) but just realized there are some special characters in between them as well. I edited that in my code but still doesn&#39;t fix the issue","body":"Yes so I put that since that&#39;s where the alphabets are (between 65 and 122) but just realized there are some special characters in between them as well. I edited that in my code but still doesn&#39;t fix the issue"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1632593729,"post_id":69328699,"comment_id":122537177,"body_markdown":"Lets start improving your code with (1) [not using &quot;magic numbers&quot;](https://stackoverflow.com/questions/47882/what-is-a-magic-number-and-why-is-it-bad). So instead of something like `currentAscii &lt;65|| currentAscii&gt;122` it is easier to read (and debug/maintain) when we write code like `currentAscii &lt;&#39;A&#39; || currentAscii&gt;&#39;z&#39;`. (2) Aside from that in `else` branch you are also checking `currentAscii &gt; 122` case which is redundant as such case was already part of &quot;main&quot; `if` condition.","body":"Lets start improving your code with (1) <a href=\"https://stackoverflow.com/questions/47882/what-is-a-magic-number-and-why-is-it-bad\">not using &quot;magic numbers&quot;</a>. So instead of something like <code>currentAscii &lt;65|| currentAscii&gt;122</code> it is easier to read (and debug/maintain) when we write code like <code>currentAscii &lt;&#39;A&#39; || currentAscii&gt;&#39;z&#39;</code>. (2) Aside from that in <code>else</code> branch you are also checking <code>currentAscii &gt; 122</code> case which is redundant as such case was already part of &quot;main&quot; <code>if</code> condition."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1632593731,"post_id":69328699,"comment_id":122537179,"body_markdown":"(3) Your `else` case is basically handling now `A-Z` and `a-z` characters. Now all you need is logic for rotation *within* those ranges separately. You will need to use some modulo operator to calculate rotation (don&#39;t want to give you solution since purpose of this task is not to see working code but to *create* it, take your time).","body":"(3) Your <code>else</code> case is basically handling now <code>A-Z</code> and <code>a-z</code> characters. Now all you need is logic for rotation <i>within</i> those ranges separately. You will need to use some modulo operator to calculate rotation (don&#39;t want to give you solution since purpose of this task is not to see working code but to <i>create</i> it, take your time)."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632592887,"creation_date":1632592887,"answer_id":69328772,"question_id":69328699,"body_markdown":"Here is an [ASCII chart](https://commons.wikimedia.org/wiki/File:ASCII-Table-wide.svg).\r\n\r\nYour rotate algorithm is:\r\n\r\nIf the value is below 65 (less than &#39;A&#39; in that chart), or above 122 (more than &#39;z&#39; in that chart), do nothing to the character and just copy it verbatim.\r\n\r\nIn all other cases, add `k`, e.g. 11. This goes wrong, immediately. Note how for example `[` is in between 65 and 122. Adding 11 to `[` is nonsensical. `[` should obviously be treated the same as, say, `&lt;` is treated (which is less than 65).\r\n\r\nOf course, adding 11 isn&#39;t what &#39;rotating&#39; is all about: If adding 11 pushes it &#39;beyond&#39; the z or Z, you want to snap around back to the a or A. Your code does that, but only if the end result is above &#39;z&#39;. You forgot about &#39;Z&#39;.\r\n\r\nFor example, adding 1 to `Z` (Which is value 90) gets you `[` (the character with value 91). Given that 91 is _not_ above 122, you don&#39;t modify this at all.\r\n\r\nAdd more test cases, especially involving capitals, preferably `Z`. You&#39;ll see the problem immediately.\r\n\r\nThe solution involves getting rid of the 65/122 dichotomy; instead it&#39;s 2 ranges: 65-90 and 97-122. For what it is worth, `int a = (int) 65;` and `int a = (int) &#39;a&#39;;` is _exactly_ the same code, and the latter is far more readable, so you might want to use that. There is no need to write any actual number in this code anywhere, except possibly &#39;26&#39;.\r\n\r\n","title":"Rotating a string with ASCII in Java","body":"<p>Here is an <a href=\"https://commons.wikimedia.org/wiki/File:ASCII-Table-wide.svg\" rel=\"nofollow noreferrer\">ASCII chart</a>.</p>\n<p>Your rotate algorithm is:</p>\n<p>If the value is below 65 (less than 'A' in that chart), or above 122 (more than 'z' in that chart), do nothing to the character and just copy it verbatim.</p>\n<p>In all other cases, add <code>k</code>, e.g. 11. This goes wrong, immediately. Note how for example <code>[</code> is in between 65 and 122. Adding 11 to <code>[</code> is nonsensical. <code>[</code> should obviously be treated the same as, say, <code>&lt;</code> is treated (which is less than 65).</p>\n<p>Of course, adding 11 isn't what 'rotating' is all about: If adding 11 pushes it 'beyond' the z or Z, you want to snap around back to the a or A. Your code does that, but only if the end result is above 'z'. You forgot about 'Z'.</p>\n<p>For example, adding 1 to <code>Z</code> (Which is value 90) gets you <code>[</code> (the character with value 91). Given that 91 is <em>not</em> above 122, you don't modify this at all.</p>\n<p>Add more test cases, especially involving capitals, preferably <code>Z</code>. You'll see the problem immediately.</p>\n<p>The solution involves getting rid of the 65/122 dichotomy; instead it's 2 ranges: 65-90 and 97-122. For what it is worth, <code>int a = (int) 65;</code> and <code>int a = (int) 'a';</code> is <em>exactly</em> the same code, and the latter is far more readable, so you might want to use that. There is no need to write any actual number in this code anywhere, except possibly '26'.</p>\n"}],"owner":{"display_name":"user16225412"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632592887,"creation_date":1632592289,"question_id":69328699,"body_markdown":"I&#39;m doing some practice on HackerRank and I&#39;m stuck on a problem. The problem is:\r\n\r\nJulius Caesar protected his confidential information by encrypting it using a cipher. Caesar&#39;s cipher shifts each letter by a number of letters. If the shift takes you past the end of the alphabet, just rotate back to the front of the alphabet. In the case of a rotation by 3, w, x, y and z would map to z, a, b and c.\r\n\r\nOriginal alphabet:      abcdefghijklmnopqrstuvwxyz\r\n\r\nAlphabet rotated +3:    defghijklmnopqrstuvwxyzabc\r\n\r\nExample \r\n\r\ninput:\r\n`11`\r\n`middle-Outz`\r\n`2`\r\noutput:\r\n`okffng-Qwvb`\r\n\r\nI pass this test case, but I don&#39;t pass the rest of the test cases and it won&#39;t tell me which ones. What am I missing in my logic?\r\n\r\n```java\r\npublic static String caesarCipher(String s, int k) {\r\n        String newString = &quot;&quot;;\r\n    // Write your code here\r\n        for (int i=0; i&lt;s.length(); i++) {\r\n            char currentChar = s.charAt(i);\r\n            int currentAscii = currentChar;\r\n            if (currentAscii &lt;65|| currentAscii&gt;122 || (currentAscii&gt;90 &amp;&amp; currentAscii &lt; 97)) {\r\n                newString += currentChar;\r\n            } else {\r\n                currentAscii = currentChar+k;\r\n                if (currentAscii &gt; 122) {\r\n                    currentAscii = Math.abs(currentAscii-26);\r\n                } \r\n                newString += (char) currentAscii;\r\n            }\r\n        }\r\n\r\n        return newString;\r\n    }\r\n```\r\n\r\n.\r\n\r\n","title":"Rotating a string with ASCII in Java","body":"<p>I'm doing some practice on HackerRank and I'm stuck on a problem. The problem is:</p>\n<p>Julius Caesar protected his confidential information by encrypting it using a cipher. Caesar's cipher shifts each letter by a number of letters. If the shift takes you past the end of the alphabet, just rotate back to the front of the alphabet. In the case of a rotation by 3, w, x, y and z would map to z, a, b and c.</p>\n<p>Original alphabet:      abcdefghijklmnopqrstuvwxyz</p>\n<p>Alphabet rotated +3:    defghijklmnopqrstuvwxyzabc</p>\n<p>Example</p>\n<p>input:\n<code>11</code>\n<code>middle-Outz</code>\n<code>2</code>\noutput:\n<code>okffng-Qwvb</code></p>\n<p>I pass this test case, but I don't pass the rest of the test cases and it won't tell me which ones. What am I missing in my logic?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String caesarCipher(String s, int k) {\n        String newString = &quot;&quot;;\n    // Write your code here\n        for (int i=0; i&lt;s.length(); i++) {\n            char currentChar = s.charAt(i);\n            int currentAscii = currentChar;\n            if (currentAscii &lt;65|| currentAscii&gt;122 || (currentAscii&gt;90 &amp;&amp; currentAscii &lt; 97)) {\n                newString += currentChar;\n            } else {\n                currentAscii = currentChar+k;\n                if (currentAscii &gt; 122) {\n                    currentAscii = Math.abs(currentAscii-26);\n                } \n                newString += (char) currentAscii;\n            }\n        }\n\n        return newString;\n    }\n</code></pre>\n<p>.</p>\n"},{"tags":["java","elasticsearch","concurrency","insert","unique"],"answers":[{"tags":[],"owner":{"account_id":13759339,"reputation":1737,"user_id":9929449,"display_name":"LeBigCat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571988831,"creation_date":1571988831,"answer_id":58554122,"question_id":58551226,"body_markdown":"If you detect an insert why not once insertion done (and index refresh...) check if you have no duplicate. A second solution would be to write every Xs using a bulk insert-update pack of data (= store new documents in a list in a share area, so you could check if your document arenot already present in, and write this list every 10s for example).","title":"How to ensure uniqueness when elasticsearch is inserted in multithreading？","body":"<p>If you detect an insert why not once insertion done (and index refresh...) check if you have no duplicate. A second solution would be to write every Xs using a bulk insert-update pack of data (= store new documents in a list in a share area, so you could check if your document arenot already present in, and write this list every 10s for example).</p>\n"},{"tags":[],"owner":{"account_id":2031013,"reputation":2094,"user_id":2908793,"accept_rate":58,"display_name":"Etki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1571989969,"creation_date":1571989477,"answer_id":58554266,"question_id":58551226,"body_markdown":"There is no way to guarantee there isn&#39;t such document just by properties in index in any way. Even if you check it&#39;s presence in index and don&#39;t see it, there is some time between response for that operation was issued and your indexing request accepted by ES. \r\n\r\nSo basically you have only two ways:\r\n\r\n - Guarantee single execution of indexing operation (long and not-so-easy way because we don&#39;t have exactly-once systems) \r\n - Convert document unique properties into document ID, so even if your indexing operations overlap, they will just write same values into same document (or the second one and following will fail, depending on request options).\r\n\r\nThe latter one is quite easy, you have some options out of the box:\r\n\r\n - Take all unique properties in determined order and concatenate their string representations (ugly)\r\n - Take all unique properties in determined order, concatenate their byte values and encode using Base64 (less ugly)\r\n - Take all unique properties in determined order, pass them through hashing function (md5, sha-X families, whatever you like) and use string representation of result.","title":"How to ensure uniqueness when elasticsearch is inserted in multithreading？","body":"<p>There is no way to guarantee there isn't such document just by properties in index in any way. Even if you check it's presence in index and don't see it, there is some time between response for that operation was issued and your indexing request accepted by ES. </p>\n\n<p>So basically you have only two ways:</p>\n\n<ul>\n<li>Guarantee single execution of indexing operation (long and not-so-easy way because we don't have exactly-once systems) </li>\n<li>Convert document unique properties into document ID, so even if your indexing operations overlap, they will just write same values into same document (or the second one and following will fail, depending on request options).</li>\n</ul>\n\n<p>The latter one is quite easy, you have some options out of the box:</p>\n\n<ul>\n<li>Take all unique properties in determined order and concatenate their string representations (ugly)</li>\n<li>Take all unique properties in determined order, concatenate their byte values and encode using Base64 (less ugly)</li>\n<li>Take all unique properties in determined order, pass them through hashing function (md5, sha-X families, whatever you like) and use string representation of result.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2676306,"reputation":125,"user_id":2312654,"display_name":"Maciej Wakuła"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632592684,"creation_date":1632592684,"answer_id":69328750,"question_id":58551226,"body_markdown":"Common scenario might be that you have documents sent in some way (ex. kafka) and wish to ensure there are no duplicates. As far as I know there is no such a way in ElasticSearch though you might try a trick here:\r\n- ElasticSearch allows custom document ID to be given\r\n- Document ID is restricted to 512 bytes length and cannot be used for normal &quot;processing&quot;\r\n\r\nYou might wish to create an ID based on your fields (like primary key in a database). If using _create then your document would be created only if it doesn&#39;t exist yet.\r\n\r\nSome problems are still to be solved though:\r\nHow to generate the ID? Simple concatenation would work but only if you are sure the total length won&#39;t exceed 512B. Otherwise a checksum can be used - but there is a small chance of collision.\r\nWhat to do if almost the same document is received (your keys are the same but some other difference exists). Elastic would allow only &quot;replace&quot; or &quot;do not replace&quot;. You need to handle other scenarios.","title":"How to ensure uniqueness when elasticsearch is inserted in multithreading？","body":"<p>Common scenario might be that you have documents sent in some way (ex. kafka) and wish to ensure there are no duplicates. As far as I know there is no such a way in ElasticSearch though you might try a trick here:</p>\n<ul>\n<li>ElasticSearch allows custom document ID to be given</li>\n<li>Document ID is restricted to 512 bytes length and cannot be used for normal &quot;processing&quot;</li>\n</ul>\n<p>You might wish to create an ID based on your fields (like primary key in a database). If using _create then your document would be created only if it doesn't exist yet.</p>\n<p>Some problems are still to be solved though:\nHow to generate the ID? Simple concatenation would work but only if you are sure the total length won't exceed 512B. Otherwise a checksum can be used - but there is a small chance of collision.\nWhat to do if almost the same document is received (your keys are the same but some other difference exists). Elastic would allow only &quot;replace&quot; or &quot;do not replace&quot;. You need to handle other scenarios.</p>\n"}],"owner":{"account_id":16965621,"reputation":3,"user_id":12271574,"display_name":"mingzhen chen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58554266,"answer_count":3,"score":0,"last_activity_date":1632592684,"creation_date":1571968736,"question_id":58551226,"body_markdown":"We have some documents of elasticsearch . The uniqueness of the document is determined by some fields together, how to ensure uniqueness when java multi-threading determines whether it exists and is inserted.\r\n\r\nI didn&#39;t know what good method I had before, so I wrote a method: I guess if it exists, if it doesn&#39;t exist, I insert it, and this method is modified by syncronized. But I found this to be a very inefficient practice.\r\n\r\n\r\n    /**\r\n     * @param document\r\n     */\r\n    synchronized void selectAndInsert(Map&lt;String, Object&gt; document){\r\n        //Determine if it exists, insert it if it does not exist\r\n    }\r\n\r\n\r\nMy mapping is as follows:\r\n{&quot;properties&quot;:{&quot;pt_number&quot;:{ &quot;type&quot;:&quot;keyword&quot; }, &quot;pt_name&quot;:{&quot;type&quot;:&quot;keyword&quot; },&quot;pt_longitude&quot;:{ &quot;type&quot;:&quot;text&quot;},&quot;pt_latitude&quot;:{&quot;type&quot;:&quot;text&quot; },&quot;rd_code&quot;:{ &quot;type&quot;:&quot;text&quot; }, &quot;rd_name&quot;:{ &quot;type&quot;:&quot;keyword&quot;}, &quot;area_code&quot;:{ &quot;type&quot;:&quot;keyword&quot;} ... and so on }}\r\n\r\n   Uniqueness is determined by area_code, pt_longitude and pt_latitude. When the document is inserted, I will judge whether it exists according to area_code, pt-longitude, pt_latitude, and insert if it does not exist. How do I guarantee the uniqueness of a document when java multithreading is running?\r\n\r\nThis question has plagued me for some time. Who can help me, I will be very grateful.","title":"How to ensure uniqueness when elasticsearch is inserted in multithreading？","body":"<p>We have some documents of elasticsearch . The uniqueness of the document is determined by some fields together, how to ensure uniqueness when java multi-threading determines whether it exists and is inserted.</p>\n\n<p>I didn't know what good method I had before, so I wrote a method: I guess if it exists, if it doesn't exist, I insert it, and this method is modified by syncronized. But I found this to be a very inefficient practice.</p>\n\n<pre><code>/**\n * @param document\n */\nsynchronized void selectAndInsert(Map&lt;String, Object&gt; document){\n    //Determine if it exists, insert it if it does not exist\n}\n</code></pre>\n\n<p>My mapping is as follows:\n{\"properties\":{\"pt_number\":{ \"type\":\"keyword\" }, \"pt_name\":{\"type\":\"keyword\" },\"pt_longitude\":{ \"type\":\"text\"},\"pt_latitude\":{\"type\":\"text\" },\"rd_code\":{ \"type\":\"text\" }, \"rd_name\":{ \"type\":\"keyword\"}, \"area_code\":{ \"type\":\"keyword\"} ... and so on }}</p>\n\n<p>Uniqueness is determined by area_code, pt_longitude and pt_latitude. When the document is inserted, I will judge whether it exists according to area_code, pt-longitude, pt_latitude, and insert if it does not exist. How do I guarantee the uniqueness of a document when java multithreading is running?</p>\n\n<p>This question has plagued me for some time. Who can help me, I will be very grateful.</p>\n"},{"tags":["java","android","tikxml"],"answers":[{"tags":[],"owner":{"account_id":9543408,"reputation":424,"user_id":7090547,"display_name":"Chris River"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1632592030,"creation_date":1632592030,"answer_id":69328667,"question_id":67054673,"body_markdown":"Make sure you&#39;ve also added the `annotationProcessor` in your gradle file:\r\n`annotationProcessor &#39;com.tickaroo.tikxml:processor:0.8.13&#39;`","title":"tikxml No TypeAdapter","body":"<p>Make sure you've also added the <code>annotationProcessor</code> in your gradle file:\n<code>annotationProcessor 'com.tickaroo.tikxml:processor:0.8.13'</code></p>\n"}],"owner":{"account_id":20319546,"reputation":27,"user_id":14904561,"display_name":"우주산"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":628,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1632592030,"creation_date":1618214651,"question_id":67054673,"body_markdown":"build.gradle\r\n\r\n     implementation &#39;com.tickaroo.tikxml:annotation:0.8.13&#39;\r\n        implementation &#39;com.tickaroo.tikxml:core:0.8.13&#39;\r\n        implementation &#39;com.tickaroo.tikxml:retrofit-converter:0.8.13&#39;\r\n\r\n\r\ndocs.class\r\n\r\n    @Xml(name = &quot;docs&quot;)\r\n    public class docs {\r\n        @Attribute(name = &quot;docs&quot;)\r\n        public ArrayList&lt;doc&gt; doc = new ArrayList &lt;&gt;();\r\n    \r\n    }\r\n\r\n\r\ndoc.class\r\n\r\n    public class doc {\r\n        @PropertyElement(name=&quot;bookname&quot;)\r\n        String bookname;\r\n        @PropertyElement(name=&quot;authors&quot;)\r\n        String authors;\r\n        @PropertyElement(name=&quot;isbn13&quot;)\r\n        String isbn13;\r\n        @PropertyElement(name=&quot;bookImageURL&quot;)\r\n        String bookImageURL;\r\n        public doc(){\r\n    \r\n        }\r\n        public doc(String title, String authors, String isbn13, String bookImageURL) {\r\n            this.bookname = title;\r\n            this.authors = authors;\r\n            this.isbn13 = isbn13;\r\n            this.bookImageURL = bookImageURL;\r\n    \r\n    \r\n        }\r\n        public String getTitle() {\r\n            return bookname;\r\n        }\r\n        public void setTitle(String title) {\r\n            this.bookname = title;\r\n        }\r\n        public String getAuthors() {\r\n            return authors;\r\n        }\r\n        public void setAuthors(String authors) {\r\n            this.authors = authors;\r\n        }\r\n        public String getIsbn13() {\r\n            return isbn13;\r\n        }\r\n        public void setIsbn13(String isbn13) {\r\n            this.isbn13 = isbn13;\r\n        }\r\n        public String getBookImageURL() {\r\n            return bookImageURL;\r\n        }\r\n        public void setBookImageURL(String bookImageURL) {\r\n            this.bookImageURL = bookImageURL;\r\n        }\r\n    \r\n    \r\n    \r\n    }\r\n\r\n\r\n\r\nmain.class\r\n\r\n  \r\n\r\n     Retrofit retrofit = new Retrofit.Builder()\r\n                    .baseUrl(&quot;http://data4library.kr/api/&quot;)\r\n                    .addConverterFactory(TikXmlConverterFactory.create(tikXml))\r\n                    .build();\r\n    \r\n            Library retable = retrofit.create(Library.class);\r\n            Call &lt;docs&gt; call = retable.getRes(&quot;key&quot;,&quot;2021-04-11&quot;);\r\n            Log.d(&quot;request&quot;, call.request().toString());\r\n            call.enqueue(new Callback &lt;docs&gt;() {\r\n                @Override\r\n                public void onResponse(Call &lt;docs&gt; call, Response &lt;docs&gt; response) {\r\n    \r\n                    Log.d(&quot;Title&quot;, livo.get(0).getTitle());\r\n                }\r\n    \r\n                @Override\r\n                public void onFailure(Call &lt;docs&gt; call, Throwable t) {\r\n             \r\n                    Log.d(&quot;Test&quot;, t.getMessage());\r\n                }\r\n            });\r\n\r\n\r\n    public interface Library {\r\n        @GET(&quot;loanItemSrch&quot;)\r\n        Call&lt;docs&gt; getRes(\r\n                @Query(&quot;authKey&quot;) String authKey,\r\n                @Query(&quot;startDt&quot;) String startDt\r\n    \r\n        );\r\n    }\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nXML parsing using retrofit\r\n\r\nYou get an error that you can&#39;t solve on your own.\r\n\r\nNo TypeAdapKter for class\r\n\r\nWhen the log was received with call.request(), the address was normally\r\n\r\nI&#39;m connected, but the onFailure() method keeps showing me an error message\r\n\r\n\r\nI need your help. Thank you.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gEjJP.png","title":"tikxml No TypeAdapter","body":"<p>build.gradle</p>\n<pre><code> implementation 'com.tickaroo.tikxml:annotation:0.8.13'\n    implementation 'com.tickaroo.tikxml:core:0.8.13'\n    implementation 'com.tickaroo.tikxml:retrofit-converter:0.8.13'\n</code></pre>\n<p>docs.class</p>\n<pre><code>@Xml(name = &quot;docs&quot;)\npublic class docs {\n    @Attribute(name = &quot;docs&quot;)\n    public ArrayList&lt;doc&gt; doc = new ArrayList &lt;&gt;();\n\n}\n</code></pre>\n<p>doc.class</p>\n<pre><code>public class doc {\n    @PropertyElement(name=&quot;bookname&quot;)\n    String bookname;\n    @PropertyElement(name=&quot;authors&quot;)\n    String authors;\n    @PropertyElement(name=&quot;isbn13&quot;)\n    String isbn13;\n    @PropertyElement(name=&quot;bookImageURL&quot;)\n    String bookImageURL;\n    public doc(){\n\n    }\n    public doc(String title, String authors, String isbn13, String bookImageURL) {\n        this.bookname = title;\n        this.authors = authors;\n        this.isbn13 = isbn13;\n        this.bookImageURL = bookImageURL;\n\n\n    }\n    public String getTitle() {\n        return bookname;\n    }\n    public void setTitle(String title) {\n        this.bookname = title;\n    }\n    public String getAuthors() {\n        return authors;\n    }\n    public void setAuthors(String authors) {\n        this.authors = authors;\n    }\n    public String getIsbn13() {\n        return isbn13;\n    }\n    public void setIsbn13(String isbn13) {\n        this.isbn13 = isbn13;\n    }\n    public String getBookImageURL() {\n        return bookImageURL;\n    }\n    public void setBookImageURL(String bookImageURL) {\n        this.bookImageURL = bookImageURL;\n    }\n\n\n\n}\n</code></pre>\n<p>main.class</p>\n<pre><code> Retrofit retrofit = new Retrofit.Builder()\n                .baseUrl(&quot;http://data4library.kr/api/&quot;)\n                .addConverterFactory(TikXmlConverterFactory.create(tikXml))\n                .build();\n\n        Library retable = retrofit.create(Library.class);\n        Call &lt;docs&gt; call = retable.getRes(&quot;key&quot;,&quot;2021-04-11&quot;);\n        Log.d(&quot;request&quot;, call.request().toString());\n        call.enqueue(new Callback &lt;docs&gt;() {\n            @Override\n            public void onResponse(Call &lt;docs&gt; call, Response &lt;docs&gt; response) {\n\n                Log.d(&quot;Title&quot;, livo.get(0).getTitle());\n            }\n\n            @Override\n            public void onFailure(Call &lt;docs&gt; call, Throwable t) {\n         \n                Log.d(&quot;Test&quot;, t.getMessage());\n            }\n        });\n\n\npublic interface Library {\n    @GET(&quot;loanItemSrch&quot;)\n    Call&lt;docs&gt; getRes(\n            @Query(&quot;authKey&quot;) String authKey,\n            @Query(&quot;startDt&quot;) String startDt\n\n    );\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/gEjJP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gEjJP.png\" alt=\"enter image description here\" /></a></p>\n<p>XML parsing using retrofit</p>\n<p>You get an error that you can't solve on your own.</p>\n<p>No TypeAdapKter for class</p>\n<p>When the log was received with call.request(), the address was normally</p>\n<p>I'm connected, but the onFailure() method keeps showing me an error message</p>\n<p>I need your help. Thank you.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":13703711,"reputation":56,"user_id":9888021,"display_name":"Ashkan Khaleghi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632591595,"creation_date":1632591595,"answer_id":69328614,"question_id":69328400,"body_markdown":"I changed the code to get the desired result :\r\n\r\n   \r\n\r\n    public static void main(String[] args) {\r\n        Scanner s = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;enter number of account u want to register&quot;);\r\n\r\n        int n=s.nextInt();\r\n\r\n        int regid[]=new int[n];\r\n        int regpass[]=new int[n];\r\n\r\n\r\n\r\n        for(int i=0;i&lt;n;i++){//for reading id and pass\r\n            System.out.println(&quot;enter your favorite user id: &quot;);\r\n            regid[i]=s.nextInt();\r\n            System.out.println(&quot;enter your password: &quot;);\r\n            regpass[i]=s.nextInt();\r\n            s.nextLine();\r\n\r\n        }\r\n\r\n\r\n        System.out.printf(&quot;%-2s %-20s\\n&quot;, &quot;user id&quot;, &quot;password&quot;);\r\n\r\n        for(int i=0;i&lt;n;i++){//for printing all registerted account\r\n\r\n            System.out.printf(&quot;%7d %-20s \\n&quot;, regid[i], regpass[i]);\r\n\r\n        }\r\n\r\n        System.out.printf(&quot;==========================\\n&quot;);\r\n        System.out.printf(&quot;==========LOGIN===========&quot;);\r\n        System.out.printf(&quot;==========================\\n&quot;);\r\n\r\n        System.out.printf(&quot;enter your userid&quot;);\r\n        String id = s.nextLine();\r\n\r\n        System.out.printf(&quot;enter your password&quot;);\r\n        String pass = s.nextLine();\r\n\r\n        //user validation\r\n        boolean logged = false;\r\n\r\n        for (int i = 0; i &lt; n; i++) {\r\n            if(Integer.parseInt(id) == regid[i] &amp;&amp; Integer.parseInt(pass) == regpass[i]) {\r\n                System.out.println(&quot;welcome&quot;);\r\n                logged = true;\r\n                break;\r\n            }\r\n        }\r\n        if(!logged)\r\n            System.out.println(&quot;wrong id or password&quot;);\r\n    }","title":"register an account and login in java","body":"<p>I changed the code to get the desired result :</p>\n<pre><code>public static void main(String[] args) {\n    Scanner s = new Scanner(System.in);\n\n    System.out.println(&quot;enter number of account u want to register&quot;);\n\n    int n=s.nextInt();\n\n    int regid[]=new int[n];\n    int regpass[]=new int[n];\n\n\n\n    for(int i=0;i&lt;n;i++){//for reading id and pass\n        System.out.println(&quot;enter your favorite user id: &quot;);\n        regid[i]=s.nextInt();\n        System.out.println(&quot;enter your password: &quot;);\n        regpass[i]=s.nextInt();\n        s.nextLine();\n\n    }\n\n\n    System.out.printf(&quot;%-2s %-20s\\n&quot;, &quot;user id&quot;, &quot;password&quot;);\n\n    for(int i=0;i&lt;n;i++){//for printing all registerted account\n\n        System.out.printf(&quot;%7d %-20s \\n&quot;, regid[i], regpass[i]);\n\n    }\n\n    System.out.printf(&quot;==========================\\n&quot;);\n    System.out.printf(&quot;==========LOGIN===========&quot;);\n    System.out.printf(&quot;==========================\\n&quot;);\n\n    System.out.printf(&quot;enter your userid&quot;);\n    String id = s.nextLine();\n\n    System.out.printf(&quot;enter your password&quot;);\n    String pass = s.nextLine();\n\n    //user validation\n    boolean logged = false;\n\n    for (int i = 0; i &lt; n; i++) {\n        if(Integer.parseInt(id) == regid[i] &amp;&amp; Integer.parseInt(pass) == regpass[i]) {\n            System.out.println(&quot;welcome&quot;);\n            logged = true;\n            break;\n        }\n    }\n    if(!logged)\n        System.out.println(&quot;wrong id or password&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":20083320,"reputation":13,"user_id":14725481,"display_name":"Martin Lee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":393,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69328614,"answer_count":1,"score":0,"last_activity_date":1632591595,"creation_date":1632590127,"question_id":69328400,"body_markdown":"hi im newbie in java and i try to create a login/registration by using array. but when i try to login the account that i created it always shows out the wrong login details message, am i missing something? or should i use other method to do the validation check other than using array? tq\r\n\r\nhere&#39;s my code\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class sample {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Scanner s = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;enter number of account u want to register&quot;);\r\n\r\n        int n=s.nextInt();\r\n\r\n        int regid[]=new int[n];\r\n        int regpass[]=new int[n];\r\n\r\n        \r\n\r\n        for(int i=0;i&lt;n;i++){//for reading id and pass\r\n        \tSystem.out.println(&quot;enter your favorite user id: &quot;);\r\n            regid[i]=s.nextInt();\r\n            System.out.println(&quot;enter your password: &quot;);\r\n            regpass[i]=s.nextInt();\r\n            s.nextLine();\r\n\r\n        }\r\n\r\n\r\n        System.out.printf(&quot;%-2s %-20s\\n&quot;, &quot;user id&quot;, &quot;password&quot;);\r\n\r\n\t\tfor(int i=0;i&lt;n;i++){//for printing all registerted account\r\n            \r\n            System.out.printf(&quot;%7d %-20s \\n&quot;, regid[i], regpass[i]);\r\n\r\n        }\r\n        \r\n        System.out.printf(&quot;==========================\\n&quot;);\r\n        System.out.printf(&quot;==========LOGIN===========&quot;);\r\n        System.out.printf(&quot;==========================\\n&quot;);\r\n        \r\n        System.out.printf(&quot;enter your userid&quot;);\r\n        String id = s.nextLine();\r\n        \r\n        System.out.printf(&quot;enter your password&quot;);\r\n        String pass = s.nextLine();\r\n\r\n        //user validation\r\n        if(id.equals(regid) &amp;&amp; pass.equals(regpass)) {\r\n\t\t           System.out.printf(&quot;welcome&quot;);\r\n\t\t}else {\r\n\t\t           System.out.printf(&quot;wrong id or password&quot;);\r\n\t\t}\r\n       \r\n\r\n    }\r\n\r\n}\r\n```","title":"register an account and login in java","body":"<p>hi im newbie in java and i try to create a login/registration by using array. but when i try to login the account that i created it always shows out the wrong login details message, am i missing something? or should i use other method to do the validation check other than using array? tq</p>\n<p>here's my code</p>\n<pre><code>import java.util.Scanner;\n\npublic class sample {\n\n    public static void main(String[] args) {\n\n        Scanner s = new Scanner(System.in);\n\n        System.out.println(&quot;enter number of account u want to register&quot;);\n\n        int n=s.nextInt();\n\n        int regid[]=new int[n];\n        int regpass[]=new int[n];\n\n        \n\n        for(int i=0;i&lt;n;i++){//for reading id and pass\n            System.out.println(&quot;enter your favorite user id: &quot;);\n            regid[i]=s.nextInt();\n            System.out.println(&quot;enter your password: &quot;);\n            regpass[i]=s.nextInt();\n            s.nextLine();\n\n        }\n\n\n        System.out.printf(&quot;%-2s %-20s\\n&quot;, &quot;user id&quot;, &quot;password&quot;);\n\n        for(int i=0;i&lt;n;i++){//for printing all registerted account\n            \n            System.out.printf(&quot;%7d %-20s \\n&quot;, regid[i], regpass[i]);\n\n        }\n        \n        System.out.printf(&quot;==========================\\n&quot;);\n        System.out.printf(&quot;==========LOGIN===========&quot;);\n        System.out.printf(&quot;==========================\\n&quot;);\n        \n        System.out.printf(&quot;enter your userid&quot;);\n        String id = s.nextLine();\n        \n        System.out.printf(&quot;enter your password&quot;);\n        String pass = s.nextLine();\n\n        //user validation\n        if(id.equals(regid) &amp;&amp; pass.equals(regpass)) {\n                   System.out.printf(&quot;welcome&quot;);\n        }else {\n                   System.out.printf(&quot;wrong id or password&quot;);\n        }\n       \n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","exoplayer2.x"],"comments":[{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1530045322,"post_id":51048793,"comment_id":89092942,"body_markdown":"Please read [Under what circumstances may I add “urgent” or other similar phrases to my question, in order to obtain faster answers?](//meta.stackoverflow.com/q/326569) - the summary is that this is not an ideal way to address volunteers, and is probably counterproductive to obtaining answers. Please refrain from adding this to your questions.","body":"Please read <a href=\"//meta.stackoverflow.com/q/326569\">Under what circumstances may I add “urgent” or other similar phrases to my question, in order to obtain faster answers?</a> - the summary is that this is not an ideal way to address volunteers, and is probably counterproductive to obtaining answers. Please refrain from adding this to your questions."}],"owner":{"account_id":13783048,"reputation":324,"user_id":9947720,"display_name":"dbenitobaldeon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1116,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1632591573,"creation_date":1530035227,"question_id":51048793,"body_markdown":"    06-26 12:32:30.141 16571-16980/com.example.dell.exoplayer_test E/ExoPlayerImplInternal: Source error.\r\n        com.google.android.exoplayer2.ParserException: org.xmlpull.v1.XmlPullParserException: unterminated entity ref (position:TEXT @1:218 in java.io.InputStreamReader@c8b4a4f) \r\n            at com.google.android.exoplayer2.source.dash.manifest.DashManifestParser.parse(DashManifestParser.java:105)\r\n            at com.google.android.exoplayer2.source.dash.manifest.DashManifestParser.parse(DashManifestParser.java:58)\r\n            at com.google.android.exoplayer2.upstream.ParsingLoadable.load(ParsingLoadable.java:130)\r\n            at com.google.android.exoplayer2.upstream.Loader$LoadTask.run(Loader.java:308)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)\r\n            at java.lang.Thread.run(Thread.java:818)\r\n         Caused by: org.xmlpull.v1.XmlPullParserException: unterminated entity ref (position:TEXT @1:218 in java.io.InputStreamReader@c8b4a4f) \r\n            at org.kxml2.io.KXmlParser.readEntity(KXmlParser.java:1219)\r\n            at org.kxml2.io.KXmlParser.readValue(KXmlParser.java:1401)\r\n            at org.kxml2.io.KXmlParser.next(KXmlParser.java:393)\r\n            at org.kxml2.io.KXmlParser.next(KXmlParser.java:313)\r\n            at com.google.android.exoplayer2.source.dash.manifest.DashManifestParser.parse(DashManifestParser.java:98)\r\n            at com.google.android.exoplayer2.source.dash.manifest.DashManifestParser.parse(DashManifestParser.java:58)&#160;\r\n            at com.google.android.exoplayer2.upstream.ParsingLoadable.load(ParsingLoadable.java:130)&#160;\r\n            at com.google.android.exoplayer2.upstream.Loader$LoadTask.run(Loader.java:308)&#160;\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)&#160;\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)&#160;\r\n            at java.lang.Thread.run(Thread.java:818)&#160;\r\n\r\n \r\n\r\nThis is my code line.\r\n\r\nThis metod is for initilizar the video\r\n\r\n     private void initializePlayer() {\r\n        if (player == null) {\r\n            player = ExoPlayerFactory.newSimpleInstance(new DefaultRenderersFactory(this),\r\n                    new DefaultTrackSelector(), new DefaultLoadControl());\r\n            playerView.setPlayer(player);\r\n            player.setPlayWhenReady(playWhenReady);\r\n            player.seekTo(currentWindow, playbackPosition);\r\n        }\r\n        prepareExoPlayer();\r\n    }\r\nHere use DASH , I think maybe the problem is here\r\n\r\n      private MediaSource buildMediaSource(Uri uri) {\r\n        DataSource.Factory dataSourceFactory =\r\n                new DefaultHttpDataSourceFactory(&quot;ua&quot;,BANDWIDTH_METER);\r\n        DashChunkSource.Factory dashChunkSourceFactory =\r\n                new DefaultDashChunkSource.Factory(dataSourceFactory);\r\n        return new DashMediaSource\r\n                (uri, dataSourceFactory, dashChunkSourceFactory, null, null);\r\n\r\n    }\r\n\r\nAlso prepare other metod but say the same error\r\n\r\n      private MediaSource buildMediaSource(Uri uri) {\r\n        DataSource.Factory dataSourceFactory =\r\n                new DefaultHttpDataSourceFactory(&quot;ua&quot;,BANDWIDTH_METER);\r\n        DashChunkSource.Factory dashChunkSourceFactory =\r\n                new DefaultDashChunkSource.Factory(dataSourceFactory);\r\n        return new DashMediaSource\r\n                (uri, dataSourceFactory, dashChunkSourceFactory, null, null);\r\n    }\r\n\r\nHow can I resolve this issue? I researched other similar problems, but nothing similar to this.\r\n","title":"My Exoplayer player gives me an error when I use DASH","body":"<pre><code>06-26 12:32:30.141 16571-16980/com.example.dell.exoplayer_test E/ExoPlayerImplInternal: Source error.\n    com.google.android.exoplayer2.ParserException: org.xmlpull.v1.XmlPullParserException: unterminated entity ref (position:TEXT @1:218 in java.io.InputStreamReader@c8b4a4f) \n        at com.google.android.exoplayer2.source.dash.manifest.DashManifestParser.parse(DashManifestParser.java:105)\n        at com.google.android.exoplayer2.source.dash.manifest.DashManifestParser.parse(DashManifestParser.java:58)\n        at com.google.android.exoplayer2.upstream.ParsingLoadable.load(ParsingLoadable.java:130)\n        at com.google.android.exoplayer2.upstream.Loader$LoadTask.run(Loader.java:308)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)\n        at java.lang.Thread.run(Thread.java:818)\n     Caused by: org.xmlpull.v1.XmlPullParserException: unterminated entity ref (position:TEXT @1:218 in java.io.InputStreamReader@c8b4a4f) \n        at org.kxml2.io.KXmlParser.readEntity(KXmlParser.java:1219)\n        at org.kxml2.io.KXmlParser.readValue(KXmlParser.java:1401)\n        at org.kxml2.io.KXmlParser.next(KXmlParser.java:393)\n        at org.kxml2.io.KXmlParser.next(KXmlParser.java:313)\n        at com.google.android.exoplayer2.source.dash.manifest.DashManifestParser.parse(DashManifestParser.java:98)\n        at com.google.android.exoplayer2.source.dash.manifest.DashManifestParser.parse(DashManifestParser.java:58) \n        at com.google.android.exoplayer2.upstream.ParsingLoadable.load(ParsingLoadable.java:130) \n        at com.google.android.exoplayer2.upstream.Loader$LoadTask.run(Loader.java:308) \n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113) \n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588) \n        at java.lang.Thread.run(Thread.java:818) \n</code></pre>\n\n<p>This is my code line.</p>\n\n<p>This metod is for initilizar the video</p>\n\n<pre><code> private void initializePlayer() {\n    if (player == null) {\n        player = ExoPlayerFactory.newSimpleInstance(new DefaultRenderersFactory(this),\n                new DefaultTrackSelector(), new DefaultLoadControl());\n        playerView.setPlayer(player);\n        player.setPlayWhenReady(playWhenReady);\n        player.seekTo(currentWindow, playbackPosition);\n    }\n    prepareExoPlayer();\n}\n</code></pre>\n\n<p>Here use DASH , I think maybe the problem is here</p>\n\n<pre><code>  private MediaSource buildMediaSource(Uri uri) {\n    DataSource.Factory dataSourceFactory =\n            new DefaultHttpDataSourceFactory(\"ua\",BANDWIDTH_METER);\n    DashChunkSource.Factory dashChunkSourceFactory =\n            new DefaultDashChunkSource.Factory(dataSourceFactory);\n    return new DashMediaSource\n            (uri, dataSourceFactory, dashChunkSourceFactory, null, null);\n\n}\n</code></pre>\n\n<p>Also prepare other metod but say the same error</p>\n\n<pre><code>  private MediaSource buildMediaSource(Uri uri) {\n    DataSource.Factory dataSourceFactory =\n            new DefaultHttpDataSourceFactory(\"ua\",BANDWIDTH_METER);\n    DashChunkSource.Factory dashChunkSourceFactory =\n            new DefaultDashChunkSource.Factory(dataSourceFactory);\n    return new DashMediaSource\n            (uri, dataSourceFactory, dashChunkSourceFactory, null, null);\n}\n</code></pre>\n\n<p>How can I resolve this issue? I researched other similar problems, but nothing similar to this.</p>\n"},{"tags":["java","ssh","rsa","jsch"],"comments":[{"owner":{"account_id":199671,"reputation":148444,"user_id":445131,"accept_rate":89,"display_name":"Eric Leschinski"},"score":0,"creation_date":1632405736,"post_id":69301480,"comment_id":122487910,"body_markdown":"Newbie Walkthrough for implementing JSCH for moving files and commands here https://stackoverflow.com/questions/2405885/run-a-command-over-ssh-with-jsch","body":"Newbie Walkthrough for implementing JSCH for moving files and commands here <a href=\"https://stackoverflow.com/questions/2405885/run-a-command-over-ssh-with-jsch\" title=\"run a command over ssh with jsch\">stackoverflow.com/questions/2405885/&hellip;</a>"},{"owner":{"account_id":7783745,"reputation":29,"user_id":5889351,"display_name":"Dave Breeze"},"score":0,"creation_date":1632407283,"post_id":69301480,"comment_id":122488733,"body_markdown":"have reduced the code size pasted","body":"have reduced the code size pasted"},{"owner":{"account_id":7783745,"reputation":29,"user_id":5889351,"display_name":"Dave Breeze"},"score":0,"creation_date":1632407351,"post_id":69301480,"comment_id":122488765,"body_markdown":"have reviewed https://stackoverflow.com/questions/2405885/run-a-command-over-ssh-with-jsch as suggested. Not sure how this addresses the incorrect RSA publickey being used","body":"have reviewed <a href=\"https://stackoverflow.com/questions/2405885/run-a-command-over-ssh-with-jsch\" title=\"run a command over ssh with jsch\">stackoverflow.com/questions/2405885/&hellip;</a> as suggested. Not sure how this addresses the incorrect RSA publickey being used"},{"owner":{"account_id":7783745,"reputation":29,"user_id":5889351,"display_name":"Dave Breeze"},"score":0,"creation_date":1632408412,"post_id":69301480,"comment_id":122489243,"body_markdown":"have added key formats","body":"have added key formats"},{"owner":{"account_id":7783745,"reputation":29,"user_id":5889351,"display_name":"Dave Breeze"},"score":0,"creation_date":1632409861,"post_id":69301480,"comment_id":122489904,"body_markdown":"have added Jsch log from failed connection","body":"have added Jsch log from failed connection"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":2,"creation_date":1632422753,"post_id":69301480,"comment_id":122495139,"body_markdown":"Jsch uses only the file(s) you give it -- and the file pair you posted has (modern) fingerprint `SHA256:YRFhNaiGwKl7BUF8MZIEn2Rcc+i1VLxauOYxWvaGSYA` which doesn&#39;t match _either_ your good or bad serverlog entries! It&#39;s more likely `ssh` is the one using a different key from agent or config; **try `ssh -oIdentitiesOnly=yes -i~/.ssh/id_rsa user@host`**","body":"Jsch uses only the file(s) you give it -- and the file pair you posted has (modern) fingerprint <code>SHA256:YRFhNaiGwKl7BUF8MZIEn2Rcc+i1VLxauOYxWvaGSYA</code> which doesn&#39;t match <i>either</i> your good or bad serverlog entries! It&#39;s more likely <code>ssh</code> is the one using a different key from agent or config; <b>try <code>ssh -oIdentitiesOnly=yes -i~&#47;.ssh&#47;id_rsa user@host</code></b>"}],"answers":[{"tags":[],"owner":{"account_id":7783745,"reputation":29,"user_id":5889351,"display_name":"Dave Breeze"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1632471028,"creation_date":1632471028,"answer_id":69311640,"question_id":69301480,"body_markdown":"A huge thank you and much respect to [dave_thompson_085](https://stackoverflow.com/users/2868801/dave-thompson-085)\r\n\r\nUsing\r\n\r\n    ssh -oIdentitiesOnly=yes -i~/.ssh/id_rsa  \r\n\r\nconfirmed the assertion from Dave Thompson - the ssh command was not using the keys in ~/.ssh. It seems there was a stale key in the ssh agent. I cannot explain this but I removed this and for good measure regenerated and copied the keys and now both ssh command and Jsch code work as expected.","title":"Unable to use private/public keys with Jsch","body":"<p>A huge thank you and much respect to <a href=\"https://stackoverflow.com/users/2868801/dave-thompson-085\">dave_thompson_085</a></p>\n<p>Using</p>\n<pre><code>ssh -oIdentitiesOnly=yes -i~/.ssh/id_rsa  \n</code></pre>\n<p>confirmed the assertion from Dave Thompson - the ssh command was not using the keys in ~/.ssh. It seems there was a stale key in the ssh agent. I cannot explain this but I removed this and for good measure regenerated and copied the keys and now both ssh command and Jsch code work as expected.</p>\n"}],"owner":{"account_id":7783745,"reputation":29,"user_id":5889351,"display_name":"Dave Breeze"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1157,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1632591265,"creation_date":1632405443,"question_id":69301480,"body_markdown":"On a linux system I create ssh keys through ssh-keygen and copy the public key to a remote host via ssh-copy-id ftpuser@192.168.56.99. The connection works as expected - I can ssh from my host to the remote system using the generated keys. I have sshd running with DEBUG on the remote host. On the ssh test I see in authlog\r\n\r\n    Sep 21 13:16:15 vagrant sshd[2315]: debug1: attempt 1 failures 0 [preauth]\r\n    Sep 21 13:16:15 vagrant sshd[2315]: debug1: userauth_pubkey: test pkalg rsa-sha2-512 pkblob RSA SHA256:P6REREG/SHYaPU3e/EPJ1xROFRw+9vzrr0p1frf278w [preauth]\r\n    Sep 21 13:16:15 vagrant sshd[2315]: debug1: temporarily_use_uid: 1001/1001 (e=0/0)\r\n    Sep 21 13:16:15 vagrant sshd[2315]: debug1: trying public key file /home/ftpuser/.ssh/authorized_keys\r\n    Sep 21 13:16:15 vagrant sshd[2315]: debug1: fd 5 clearing O_NONBLOCK\r\n    Sep 21 13:16:15 vagrant sshd[2315]: debug1: /home/ftpuser/.ssh/authorized_keys:5: matching key found: RSA SHA256:P6REREG/SHYaPU3e/EPJ1xROFRw+9vzrr0p1frf278w`\r\n\r\nusing the same user credentials I attempt the same connection fron java coe using Jsch 0.1.67. Specifically I use `jsch.addIdentity(privateKey, pubKey, null);` with the private and public keys set to the standard .ssh/id_rsa &amp; .ssh/id_rsa.pub. In the remote authlog\r\nI see\r\n\r\n    Sep 21 13:16:50 vagrant sshd[2419]: debug1: attempt 1 failures 0 [preauth]\r\n    Sep 21 13:16:50 vagrant sshd[2419]: debug1: userauth_pubkey: test pkalg rsa-sha2-512 pkblob RSA SHA256:dhsK1JICUVncZmXW6MIFi0/fb2mJTetz8/igyP+kYXY [preauth]\r\n    Sep 21 13:16:50 vagrant sshd[2419]: debug1: temporarily_use_uid: 1001/1001 (e=0/0)\r\n    Sep 21 13:16:50 vagrant sshd[2419]: debug1: trying public key file /home/ftpuser/.ssh/authorized_keys\r\n    Sep 21 13:16:50 vagrant sshd[2419]: debug1: fd 5 clearing O_NONBLOCK\r\n    Sep 21 13:16:50 vagrant sshd[2419]: debug1: restore_uid: 0/0\r\n    Sep 21 13:16:50 vagrant sshd[2419]: debug1: temporarily_use_uid: 1001/1001 (e=0/0)\r\n    Sep 21 13:16:50 vagrant sshd[2419]: debug1: trying public key file /home/ftpuser/.ssh/authorized_keys2\r\n    Sep 21 13:16:50 vagrant sshd[2419]: debug1: Could not open authorized keys &#39;/home/ftpuser/.ssh/authorized_keys2&#39;: No such file or directory\r\n\r\n\r\nso a different public key is used which fails. I do not understand where Jsch is getting this key from.I have stepped through the jsch.addIdentity call. I can see my publickey file being read but not too sure how Jsch transforms this before sending to the remote ssh server.\r\n\r\nMy code is very simple - with one exception - it is meant to run on both linux and z/os systems - to date all testing on linux only - the z/os aspects can be ignored\r\n\r\n    \tByteArrayOutputStream\tresponseStream\t= null;\r\n\t\tChannelExec\t\t\t\t\t\tchannel\t\t\t\t\t= null;\r\n\t\tSession\t\t\t\t\t\t\t\tsession\t\t\t\t\t= null;\r\n\t\tUserInfo\t\t\t\t\t\t\tui\t\t\t\t\t\t\t= null;\r\n\r\n\t\ttry\r\n\t\t{\r\n\t\t\tif (shellParms.getPassword() != null)\r\n\t\t\t\tJSch.setConfig(&quot;UserAuth&quot;, &quot;password&quot;);\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tJSch.setConfig(&quot;UserAuth&quot;, &quot;privatekey&quot;);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tJSch.setConfig(&quot;preferredAuthentications&quot;,&quot;gssapi-with-mic,hostbased,publickey,keyboard-interactive,password&quot;) ;\r\n\t\t\tJSch.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n\t\t\tJSch.setConfig (&quot;userauth.gssapi-with-mic&quot;, &quot;no&quot;) ;\r\n\r\n\t\t\tJSch jsch = new JSch();\r\n\r\n\t\t\t\r\n\t\t\tif (shellParms.getPassword() == null)\r\n\t\t\t\t{\r\n\t\t\t\t\r\n\t\t\t\tjsch.setKnownHosts(System.getProperty(&quot;user.home&quot;) + &quot;/.ssh/known_hosts&quot;);\r\n\t\t\t\tjsch.addIdentity(privateKey, pubKey, null);\r\n\t\t\t\t}\r\n\r\n\t\t\tsession\t= jsch.getSession(shellParms.getUserid(), shellParms.getHost(), shellParms.getPort());\r\n\r\n\t\t\tui\t\t\t= new PantgwynUserInfo(shellParms.getPassword(),shellParms.getPassphrase());\r\n\t\t\tsession.setUserInfo(ui);\r\n\t\t\t\r\n\t\t\r\n\t\t\tsession.connect();\r\n\r\n\t\t\tfor (String cmd : shellParms.getCommands())\r\n\t\t\t{\r\n\t\t\t\tlog.info(&quot;sending command:&quot; + cmd);\r\n\r\n\t\t\t\tchannel = (ChannelExec) session.openChannel(&quot;exec&quot;);\r\n\t\t\t\tchannel.setCommand(cmd);\r\n\r\n\t\t\t\tresponseStream = new ByteArrayOutputStream();\r\n\t\t\t\tchannel.setOutputStream(responseStream);\r\n\t\t\t\tchannel.connect();\r\n\r\n\t\t\t\twhile (channel.isConnected())\r\n\t\t\t\t{\r\n\t\t\t\t\tThread.sleep(100);\r\n\t\t\t\t}\r\n\t\t\t\tresponseStream.flush();\r\n\t\t\t\tString responseString = null;\r\n\r\n\t\t\t\t\tresponseString = new String(responseStream.toByteArray());\r\n\r\n\r\n\t\t\t\tSystem.out.println(responseString);\r\n\r\n\t\t}\r\n\t\tcatch (Exception e)\r\n\t\t{\r\n\t\t\tSystem.out.println(e);\r\n\t\t}\r\n\r\n\t\tfinally\r\n\t\t{\r\n\t\t\tif (session != null)\r\n\t\t\t{\r\n\t\t\t\tsession.disconnect();\r\n\t\t\t}\r\n\t\t\tif (channel != null)\r\n\t\t\t{\r\n\t\t\t\tchannel.disconnect();\r\n\t\t\t}\r\n\r\n\t\t\tsilentClose(responseStream);\r\n\t\t}\r\n\r\n\t\treturn 0;\r\n\r\n\t}\r\n\r\nI have tried lots of variations from stackoverflow questions/answers and elsewhere - but cannot determine why ssh command works and Jsch fails. Any suggestions welcome.\r\n\r\nfurther.....\r\nkeys on the sending host\r\n\r\n    vagrant@vagrant:~/.ssh$ cat id_rsa\r\n    -----BEGIN RSA PRIVATE KEY-----\r\n    MIIG4gIBAAKCAYEA10HhTsNZ1gHc5exM56eBmzYBy0BHBLlJTCkySSu/Psf5YSP0\r\n    EBu/cfXg3ACbEnKz4eOTkDBhR8MDDfn5Ppv1U8MTyvzaaq0+I2FNSHmjHTtHjELb\r\n    fWn1qA9D5m3tvYrHPcakDVcDKdCqXD8x0qAnVR4rg5A7J4TK9bNr8CzMQJ5Nm1UH\r\n    vueSZyvP2SH6+WFusnRDdiNtfPdu0DQKmF5fOFIdFWTlgSGrULcw3oI9RbzruSBW\r\n    G7gj/fAFkcK7v+WyTExNJsvET7U8eS/m9wTXBN/e1OhBA0MP2fK0ZpULjhSoNtY1\r\n    z5k/4OoSOU993bgD2q7BKmjQY51fXj3+j3L7fugIf5UKD7gwPnSgM1jzuFUced94\r\n    u2cvdrzPDULVFxBk7y9DZdxI19jw5eBh1ThBK7iyEjLa+GdfXnyUCv3HNTlZswY7\r\n    PP8vF0sgSQC1VXgXLVYBb0U2eSdu8Hru/79+h+AQY6L01/o/6bMRCHWO824rIGlm\r\n    fnjRWq+bEnEQxLcPAgMBAAECggGAFWEArJ7wVDX5J4jRloxnbe/uO66Vnx177ymE\r\n    SgojQ2v/E6vLeLIY0Iu4GoGg5TMpNH0y0bZMYyE2M3QpUhORSRFt7NIyKzgrnL30\r\n    PAeAsM2LbJ3TSOB2OovRlZhDbXjUEwmgj4ad1NBZqzHHlAC+B1EoxzdS+LjSo5Z/\r\n    WOpKGvzd/lhynX5IZyDN0uXyFESeBvFPJfOc0zWL9vfEOZ/d2y0koFRWCv46Epkv\r\n    LFpJFZ0O2GMiyjv+ryDgnLp3hTad0QBkSDoMUkcbeVX/s2IWRB98k+JqxRqN17ig\r\n    S8iulFmNxTT+HP4Vxv1m4gocvbISy96aQlvK2DWpOAVBqvdJIlFclGhdyJ3RShZe\r\n    qfPwgAr3T8qufth15fAr0mxhWk6DNXEDij4S+HCbFnw6hSB5GzWDvgEarp2+Jl1c\r\n    m/nVuNkMBeXjblsrN73Kugx7YTgMzKyyby7f5rAViTg9wj7OqI/FuRo16k5xpDzm\r\n    mlpQQVAoI6Qn3n/jCdKc4Xu9MYcRAoHBAPwjzwVj85TJJKPZiiWYR6nN942iv9RP\r\n    1XVVWzIJfTaayyfw9YJs4FkufQadOY3r2dTAkjRu7m3TTzsV+uIw8Qnz6SPLJ/Z9\r\n    L9LRNz6/fxX0zSh7Y84uqUsKRNOPQlSQOOZx9cNmnUovWxfpLkAcc6CeWznKC6s7\r\n    QOTUjBVTl+qJCFGv8J5/zf/pL8hVXEVx9AfDq+IDBWr2s0hs/G6RzPK/JxXzQMHr\r\n    IuXC82Fjlan0aZPOgupcq1+Owwbf3MpnhwKBwQDajYVNt7Zx3oixhz+evF/qUfHX\r\n    96T+IO6NvEz1G0EOg2p/tCeQOTQveATCpRmRQAz/78BnwZfcrUGqoUgQLNaEbiDw\r\n    2h54lRxZPsYdrPwgm5ECQkks+gnfKIAiLI/Icd/4rxsV1IauSKeoKCrWUXq5/9Un\r\n    Rb1WrGxYPrS5RoizoXTHj0SXjUeR0SWQtTPyWiVSHPf9dJH7bjKAEIE83ye3QAy0\r\n    nbCGr71gf/PVrgMOOmqtRtwUfkGGBE1I28klhjkCgcANNS7+AEtdKuAxeQ7Eg2KV\r\n    oYVrNPBJhdkPqWX6jAa0Go2zzOp/Z4alBUtlUk0WgxlJDMFb38e7lwsadD9NI/Us\r\n    aUt4JYc1YT9lErKLJerZUpaAnV4QCd+yX5pVXrbByUBBygxurOxmW26xJPTYROVF\r\n    r6XltBDCansuwXeJEnTtwzndVZMMKnO3CRcIrngD50E6OuTBFRlujfe8PoFGpXqP\r\n    6LV6b+Cfh9qvIHQxUM8hNP1m0bWH40zS156duJJPQ/cCgcAUXZmta1Ah/kWonVzN\r\n    UupxMF+j61zBnZn9NS3KrVZ7nr1e1w/Uva/iOIHhDXd7dIeBlfrM8FpRYwe6ebr4\r\n    XuVCg+yn5Ptv6x0wJ8xYWZVJCJYTqs+c1FP1KpX+GT7ww8PGLbMNbrd6KCUPY2bS\r\n    f9c6298mALarC/gwpO88UJlOe94g9nXC1ZR0vxOMD4aer83IgBCP2rv7vQIRsvgI\r\n    DxdpWRuV/RfFBT1Vb7buE4APZFwqd27srfM3JNF615g/2ekCgcBSO6zScmkEwUGj\r\n    eTu9lhHWre2IsN6nnUmfCsl0GpJ+hhLaB9DX3Qdc2Ssu3ez5TAbaOGN9ngrvxGNH\r\n    oY8lZLUAUwmjr85nr0hgA/eBvdiwnrzIjHxjA+jRqHI/BItZrpZfkSIC2V1DNLHD\r\n    1wdeBR0412PnMQgWNL+ltmgTFLAMX9dbdDMySOFcPjbsyrY7xLn4lsLkH6agqfuC\r\n    2CI4Phk9ki/Bh75AuhaSinUAzjEDJahLotFlfVJbWRNOCE6S3VQ=\r\n    -----END RSA PRIVATE KEY-----\r\n    \r\n    vagrant@vagrant:~/.ssh$ cat id_rsa.pub \r\n    ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDXQeFOw1nWAdzl7Eznp4GbNgHLQEcEuUlMKTJJK78+x/lhI/QQG79x9eDcAJsScrPh45OQMGFHwwMN+fk+m/VTwxPK/NpqrT4jYU1IeaMdO0eMQtt9afWoD0Pmbe29isc9xqQNVwMp0KpcPzHSoCdVHiuDkDsnhMr1s2vwLMxAnk2bVQe+55JnK8/ZIfr5YW6ydEN2I218927QNAqYXl84Uh0VZOWBIatQtzDegj1FvOu5IFYbuCP98AWRwru/5bJMTE0my8RPtTx5L+b3BNcE397U6EEDQw/Z8rRmlQuOFKg21jXPmT/g6hI5T33duAParsEqaNBjnV9ePf6Pcvt+6Ah/lQoPuDA+dKAzWPO4VRx533i7Zy92vM8NQtUXEGTvL0Nl3EjX2PDl4GHVOEEruLISMtr4Z19efJQK/cc1OVmzBjs8/y8XSyBJALVVeBctVgFvRTZ5J27weu7/v36H4BBjovTX+j/psxEIdY7zbisgaWZ+eNFar5sScRDEtw8= vagrant@vagrant\r\n\r\non the receiving host\r\n\r\n \r\n    ftpuser@vagrant:~/.ssh$ cat authorized_keys \r\n    ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDZ15ARPZZLGcl9PD8X8XBNiqSHO8FjN+c/PouLmvs3gLQS6Vc6AYr0R073gf6760+YK514X5amNsmESVKfFD0URRzF5WWz5n97AZ0IQd6o5Q1QFvhqsVmN/5ZodZGMTf28sPvg+t7PT/ZsohukhvlIzzzKJ3MycDAhYYK36MW/Rk0E0JpN39d63oCSCa1lh615DqyF+3jIM1mPQ3Moho+UufrXSFxutaDNd48aznSmczSC33a6Uez/A6yIEnpcqSUdlVxTFfe6hf4fdEfdW+SH5CaBvtmNcW5dOYPtfEq7AnfS0ddRIghQtbYTcj0g8X7TXCl1NPNSjLlUO9zIem7pH1IDrJCfFV3id6ozBPfafwpOFb/e3JC15jeBjgRFCbnDXeOrFzQY1jHban97nt9VyEVfzHJclFMDTsRwOeElxtg+XyBgYWEgFfvhlQmDE3jyXiMpGihfJi48wYPl1/B2nrcTpbLef9why9KOiJWeZaGYaquf7GKpfZTDqAe/Kck= dave@pantgwyn2010\r\n\r\n\r\nthe Jsch logs from a failed connection:\r\n\r\n    Connecting to 192.168.56.99 port 22\r\n    Connection established\r\n    Remote version string: SSH-2.0-OpenSSH_8.2p1 Ubuntu-4ubuntu0.1\r\n    Local version string: SSH-2.0-JSCH-0.1.67\r\n    CheckCiphers: chacha20-poly1305@openssh.com\r\n    chacha20-poly1305@openssh.com is not available.\r\n    cipher.c2s proposal before removing unavailable algos is: aes128- \r\n    ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256- \r\n    gcm@openssh.com,chacha20-poly1305@openssh.com\r\n    cipher.s2c proposal before removing unavailable algos is: aes128- \r\n    ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256- \r\n    gcm@openssh.com,chacha20-poly1305@openssh.com\r\n    cipher.c2s proposal after removing unavailable algos is: aes128- \r\n    ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256- \r\n    gcm@openssh.com\r\n    cipher.s2c proposal after removing unavailable algos is: aes128- \r\n    ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256- \r\n    gcm@openssh.com\r\n    CheckKexes: curve25519-sha256,curve25519- \r\n    sha256@libssh.org,curve448-sha512\r\n    curve25519-sha256 is not available.\r\n    curve25519-sha256@libssh.org is not available.\r\n    curve448-sha512 is not available.\r\n    kex proposal before removing unavailable algos is: curve25519- \r\n    sha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2- \r\n    nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange- \r\n    sha256,diffie-hellman-group16-sha512,diffie-hellman-group18- \r\n    sha512,diffie-hellman-group14-sha256\r\n    kex proposal after removing unavailable algos is: ecdh-sha2- \r\n    nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman- \r\n    group-exchange-sha256,diffie-hellman-group16-sha512,diffie- \r\n    hellman-group18-sha512,diffie-hellman-group14-sha256\r\n    CheckSignatures: ssh-ed25519,ssh-ed448\r\n    ssh-ed25519 is not available.\r\n    ssh-ed448 is not available.\r\n    server_host_key proposal before removing unavailable algos is: \r\n    ssh-ed25519,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2- \r\n    nistp521,rsa-sha2-512,rsa-sha2-256,ssh-rsa\r\n    server_host_key proposal after removing unavailable algos is: \r\n    ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,rsa- \r\n    sha2-512,rsa-sha2-256,ssh-rsa\r\n    server_host_key proposal before known_host reordering is: ecdsa- \r\n    sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,rsa-sha2- \r\n    512,rsa-sha2-256,ssh-rsa\r\n    server_host_key proposal after known_host reordering is: ecdsa- \r\n    sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,rsa-sha2- \r\n    512,rsa-sha2-256,ssh-rsa\r\n    SSH_MSG_KEXINIT sent\r\n    SSH_MSG_KEXINIT received\r\n    kex: server: curve25519-sha256,curve25519-sha256@libssh.org,ecdh- \r\n    sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie- \r\n    hellman-group-exchange-sha256,diffie-hellman-group16- \r\n    sha512,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256\r\n    kex: server: rsa-sha2-512,rsa-sha2-256,ssh-rsa,ecdsa-sha2- \r\n    nistp256,ssh-ed25519\r\n    kex: server: chacha20-poly1305@openssh.com,aes128-ctr,aes192- \r\n    ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\r\n    kex: server: chacha20-poly1305@openssh.com,aes128-ctr,aes192- \r\n    ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\r\n    kex: server: umac-64-etm@openssh.com,umac-128- \r\n    etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512- \r\n    etm@openssh.com,hmac-sha1-etm@openssh.com,umac- \r\n    64@openssh.com,umac- \r\n    128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\r\n    kex: server: umac-64-etm@openssh.com,umac-128- \r\n    etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512- \r\n    etm@openssh.com,hmac-sha1-etm@openssh.com,umac- \r\n    64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2- \r\n    512,hmac-sha1\r\n    kex: server: none,zlib@openssh.com\r\n    kex: server: none,zlib@openssh.com\r\n    kex: server: \r\n    kex: server: \r\n    kex: client: ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2- \r\n    nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman- \r\n    group16-sha512,diffie-hellman-group18-sha512,diffie-hellman- \r\n    group14-sha256,ext-info-c\r\n    kex: client: ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2- \r\n    nistp521,rsa-sha2-512,rsa-sha2-256,ssh-rsa\r\n    kex: client: aes128-ctr,aes192-ctr,aes256-ctr,aes128- \r\n    gcm@openssh.com,aes256-gcm@openssh.com\r\n    kex: client: aes128-ctr,aes192-ctr,aes256-ctr,aes128- \r\n    gcm@openssh.com,aes256-gcm@openssh.com\r\n    kex: client: hmac-sha2-256-etm@openssh.com,hmac-sha2-512- \r\n    etm@openssh.com,hmac-sha1-etm@openssh.com,hmac-sha2-256,hmac-sha2- \r\n    512,hmac-sha1\r\n    kex: client: hmac-sha2-256-etm@openssh.com,hmac-sha2-512- \r\n    etm@openssh.com,hmac-sha1-etm@openssh.com,hmac-sha2-256,hmac-sha2- \r\n    512,hmac-sha1\r\n    kex: client: none\r\n    kex: client: none\r\n    kex: client: \r\n    kex: client: \r\n    kex: algorithm: ecdh-sha2-nistp256\r\n    kex: host key algorithm: ecdsa-sha2-nistp256\r\n    kex: server-&gt;client cipher: aes128-ctr MAC: hmac-sha2-256- \r\n    etm@openssh.com compression: none\r\n    kex: client-&gt;server cipher: aes128-ctr MAC: hmac-sha2-256- \r\n    etm@openssh.com compression: none\r\n    SSH_MSG_KEX_ECDH_INIT sent\r\n    expecting SSH_MSG_KEX_ECDH_REPLY\r\n    ssh_ecdsa_verify: ecdsa-sha2-nistp256 signature true\r\n    Host &#39;192.168.56.99&#39; is known and matches the ECDSA host key\r\n    SSH_MSG_NEWKEYS sent\r\n    SSH_MSG_NEWKEYS received\r\n    SSH_MSG_SERVICE_REQUEST sent\r\n    SSH_MSG_EXT_INFO received\r\n    server-sig-algs=&lt;ssh-ed25519,sk-ssh-ed25519@openssh.com,ssh- \r\n    rsa,rsa-sha2-256,rsa-sha2-512,ssh-dss,ecdsa-sha2-nistp256,ecdsa- \r\n    sha2-nistp384,ecdsa-sha2-nistp521,sk-ecdsa-sha2- \r\n    nistp256@openssh.com&gt;\r\n    SSH_MSG_SERVICE_ACCEPT received\r\n    Authentications that can continue: gssapi-with- \r\n    mic,publickey,keyboard-interactive,password\r\n    Next authentication method: gssapi-with-mic\r\n    failed to load gssapi-with-mic method\r\n    Authentications that can continue: publickey,keyboard- \r\n    interactive,password\r\n    Next authentication method: publickey\r\n    PubkeyAcceptedAlgorithms = ssh-ed25519,ecdsa-sha2-nistp256,ecdsa- \r\n    sha2-nistp384,ecdsa-sha2-nistp521,rsa-sha2-512,rsa-sha2-256,ssh-rsa\r\n    Signature algorithms unavailable for non-agent identities = [ssh-ed25519, ssh-ed448]\r\n    PubkeyAcceptedAlgorithms in server-sig-algs = [ssh-ed25519, ecdsa-sha2-nistp256, ecdsa-sha2-nistp384, ecdsa-sha2-nistp521, rsa-sha2-512, \r\n    rsa-sha2-256, ssh-rsa]\r\n    rsa-sha2-512 preauth failure\r\n    rsa-sha2-256 preauth failure\r\n    ssh-rsa preauth failure\r\n    Authentications that can continue: password\r\n    Next authentication method: password\r\n    Disconnecting from 192.168.56.99 port 22\r\n    com.jcraft.jsch.JSchException: Auth cancel","title":"Unable to use private/public keys with Jsch","body":"<p>On a linux system I create ssh keys through ssh-keygen and copy the public key to a remote host via ssh-copy-id ftpuser@192.168.56.99. The connection works as expected - I can ssh from my host to the remote system using the generated keys. I have sshd running with DEBUG on the remote host. On the ssh test I see in authlog</p>\n<pre><code>Sep 21 13:16:15 vagrant sshd[2315]: debug1: attempt 1 failures 0 [preauth]\nSep 21 13:16:15 vagrant sshd[2315]: debug1: userauth_pubkey: test pkalg rsa-sha2-512 pkblob RSA SHA256:P6REREG/SHYaPU3e/EPJ1xROFRw+9vzrr0p1frf278w [preauth]\nSep 21 13:16:15 vagrant sshd[2315]: debug1: temporarily_use_uid: 1001/1001 (e=0/0)\nSep 21 13:16:15 vagrant sshd[2315]: debug1: trying public key file /home/ftpuser/.ssh/authorized_keys\nSep 21 13:16:15 vagrant sshd[2315]: debug1: fd 5 clearing O_NONBLOCK\nSep 21 13:16:15 vagrant sshd[2315]: debug1: /home/ftpuser/.ssh/authorized_keys:5: matching key found: RSA SHA256:P6REREG/SHYaPU3e/EPJ1xROFRw+9vzrr0p1frf278w`\n</code></pre>\n<p>using the same user credentials I attempt the same connection fron java coe using Jsch 0.1.67. Specifically I use <code>jsch.addIdentity(privateKey, pubKey, null);</code> with the private and public keys set to the standard .ssh/id_rsa &amp; .ssh/id_rsa.pub. In the remote authlog\nI see</p>\n<pre><code>Sep 21 13:16:50 vagrant sshd[2419]: debug1: attempt 1 failures 0 [preauth]\nSep 21 13:16:50 vagrant sshd[2419]: debug1: userauth_pubkey: test pkalg rsa-sha2-512 pkblob RSA SHA256:dhsK1JICUVncZmXW6MIFi0/fb2mJTetz8/igyP+kYXY [preauth]\nSep 21 13:16:50 vagrant sshd[2419]: debug1: temporarily_use_uid: 1001/1001 (e=0/0)\nSep 21 13:16:50 vagrant sshd[2419]: debug1: trying public key file /home/ftpuser/.ssh/authorized_keys\nSep 21 13:16:50 vagrant sshd[2419]: debug1: fd 5 clearing O_NONBLOCK\nSep 21 13:16:50 vagrant sshd[2419]: debug1: restore_uid: 0/0\nSep 21 13:16:50 vagrant sshd[2419]: debug1: temporarily_use_uid: 1001/1001 (e=0/0)\nSep 21 13:16:50 vagrant sshd[2419]: debug1: trying public key file /home/ftpuser/.ssh/authorized_keys2\nSep 21 13:16:50 vagrant sshd[2419]: debug1: Could not open authorized keys '/home/ftpuser/.ssh/authorized_keys2': No such file or directory\n</code></pre>\n<p>so a different public key is used which fails. I do not understand where Jsch is getting this key from.I have stepped through the jsch.addIdentity call. I can see my publickey file being read but not too sure how Jsch transforms this before sending to the remote ssh server.</p>\n<p>My code is very simple - with one exception - it is meant to run on both linux and z/os systems - to date all testing on linux only - the z/os aspects can be ignored</p>\n<pre><code>    ByteArrayOutputStream   responseStream  = null;\n    ChannelExec                     channel                 = null;\n    Session                             session                 = null;\n    UserInfo                            ui                          = null;\n\n    try\n    {\n        if (shellParms.getPassword() != null)\n            JSch.setConfig(&quot;UserAuth&quot;, &quot;password&quot;);\n        else\n        {\n            JSch.setConfig(&quot;UserAuth&quot;, &quot;privatekey&quot;);\n        }\n        \n        JSch.setConfig(&quot;preferredAuthentications&quot;,&quot;gssapi-with-mic,hostbased,publickey,keyboard-interactive,password&quot;) ;\n        JSch.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n        JSch.setConfig (&quot;userauth.gssapi-with-mic&quot;, &quot;no&quot;) ;\n\n        JSch jsch = new JSch();\n\n        \n        if (shellParms.getPassword() == null)\n            {\n            \n            jsch.setKnownHosts(System.getProperty(&quot;user.home&quot;) + &quot;/.ssh/known_hosts&quot;);\n            jsch.addIdentity(privateKey, pubKey, null);\n            }\n\n        session = jsch.getSession(shellParms.getUserid(), shellParms.getHost(), shellParms.getPort());\n\n        ui          = new PantgwynUserInfo(shellParms.getPassword(),shellParms.getPassphrase());\n        session.setUserInfo(ui);\n        \n    \n        session.connect();\n\n        for (String cmd : shellParms.getCommands())\n        {\n            log.info(&quot;sending command:&quot; + cmd);\n\n            channel = (ChannelExec) session.openChannel(&quot;exec&quot;);\n            channel.setCommand(cmd);\n\n            responseStream = new ByteArrayOutputStream();\n            channel.setOutputStream(responseStream);\n            channel.connect();\n\n            while (channel.isConnected())\n            {\n                Thread.sleep(100);\n            }\n            responseStream.flush();\n            String responseString = null;\n\n                responseString = new String(responseStream.toByteArray());\n\n\n            System.out.println(responseString);\n\n    }\n    catch (Exception e)\n    {\n        System.out.println(e);\n    }\n\n    finally\n    {\n        if (session != null)\n        {\n            session.disconnect();\n        }\n        if (channel != null)\n        {\n            channel.disconnect();\n        }\n\n        silentClose(responseStream);\n    }\n\n    return 0;\n\n}\n</code></pre>\n<p>I have tried lots of variations from stackoverflow questions/answers and elsewhere - but cannot determine why ssh command works and Jsch fails. Any suggestions welcome.</p>\n<p>further.....\nkeys on the sending host</p>\n<pre><code>vagrant@vagrant:~/.ssh$ cat id_rsa\n-----BEGIN RSA PRIVATE KEY-----\nMIIG4gIBAAKCAYEA10HhTsNZ1gHc5exM56eBmzYBy0BHBLlJTCkySSu/Psf5YSP0\nEBu/cfXg3ACbEnKz4eOTkDBhR8MDDfn5Ppv1U8MTyvzaaq0+I2FNSHmjHTtHjELb\nfWn1qA9D5m3tvYrHPcakDVcDKdCqXD8x0qAnVR4rg5A7J4TK9bNr8CzMQJ5Nm1UH\nvueSZyvP2SH6+WFusnRDdiNtfPdu0DQKmF5fOFIdFWTlgSGrULcw3oI9RbzruSBW\nG7gj/fAFkcK7v+WyTExNJsvET7U8eS/m9wTXBN/e1OhBA0MP2fK0ZpULjhSoNtY1\nz5k/4OoSOU993bgD2q7BKmjQY51fXj3+j3L7fugIf5UKD7gwPnSgM1jzuFUced94\nu2cvdrzPDULVFxBk7y9DZdxI19jw5eBh1ThBK7iyEjLa+GdfXnyUCv3HNTlZswY7\nPP8vF0sgSQC1VXgXLVYBb0U2eSdu8Hru/79+h+AQY6L01/o/6bMRCHWO824rIGlm\nfnjRWq+bEnEQxLcPAgMBAAECggGAFWEArJ7wVDX5J4jRloxnbe/uO66Vnx177ymE\nSgojQ2v/E6vLeLIY0Iu4GoGg5TMpNH0y0bZMYyE2M3QpUhORSRFt7NIyKzgrnL30\nPAeAsM2LbJ3TSOB2OovRlZhDbXjUEwmgj4ad1NBZqzHHlAC+B1EoxzdS+LjSo5Z/\nWOpKGvzd/lhynX5IZyDN0uXyFESeBvFPJfOc0zWL9vfEOZ/d2y0koFRWCv46Epkv\nLFpJFZ0O2GMiyjv+ryDgnLp3hTad0QBkSDoMUkcbeVX/s2IWRB98k+JqxRqN17ig\nS8iulFmNxTT+HP4Vxv1m4gocvbISy96aQlvK2DWpOAVBqvdJIlFclGhdyJ3RShZe\nqfPwgAr3T8qufth15fAr0mxhWk6DNXEDij4S+HCbFnw6hSB5GzWDvgEarp2+Jl1c\nm/nVuNkMBeXjblsrN73Kugx7YTgMzKyyby7f5rAViTg9wj7OqI/FuRo16k5xpDzm\nmlpQQVAoI6Qn3n/jCdKc4Xu9MYcRAoHBAPwjzwVj85TJJKPZiiWYR6nN942iv9RP\n1XVVWzIJfTaayyfw9YJs4FkufQadOY3r2dTAkjRu7m3TTzsV+uIw8Qnz6SPLJ/Z9\nL9LRNz6/fxX0zSh7Y84uqUsKRNOPQlSQOOZx9cNmnUovWxfpLkAcc6CeWznKC6s7\nQOTUjBVTl+qJCFGv8J5/zf/pL8hVXEVx9AfDq+IDBWr2s0hs/G6RzPK/JxXzQMHr\nIuXC82Fjlan0aZPOgupcq1+Owwbf3MpnhwKBwQDajYVNt7Zx3oixhz+evF/qUfHX\n96T+IO6NvEz1G0EOg2p/tCeQOTQveATCpRmRQAz/78BnwZfcrUGqoUgQLNaEbiDw\n2h54lRxZPsYdrPwgm5ECQkks+gnfKIAiLI/Icd/4rxsV1IauSKeoKCrWUXq5/9Un\nRb1WrGxYPrS5RoizoXTHj0SXjUeR0SWQtTPyWiVSHPf9dJH7bjKAEIE83ye3QAy0\nnbCGr71gf/PVrgMOOmqtRtwUfkGGBE1I28klhjkCgcANNS7+AEtdKuAxeQ7Eg2KV\noYVrNPBJhdkPqWX6jAa0Go2zzOp/Z4alBUtlUk0WgxlJDMFb38e7lwsadD9NI/Us\naUt4JYc1YT9lErKLJerZUpaAnV4QCd+yX5pVXrbByUBBygxurOxmW26xJPTYROVF\nr6XltBDCansuwXeJEnTtwzndVZMMKnO3CRcIrngD50E6OuTBFRlujfe8PoFGpXqP\n6LV6b+Cfh9qvIHQxUM8hNP1m0bWH40zS156duJJPQ/cCgcAUXZmta1Ah/kWonVzN\nUupxMF+j61zBnZn9NS3KrVZ7nr1e1w/Uva/iOIHhDXd7dIeBlfrM8FpRYwe6ebr4\nXuVCg+yn5Ptv6x0wJ8xYWZVJCJYTqs+c1FP1KpX+GT7ww8PGLbMNbrd6KCUPY2bS\nf9c6298mALarC/gwpO88UJlOe94g9nXC1ZR0vxOMD4aer83IgBCP2rv7vQIRsvgI\nDxdpWRuV/RfFBT1Vb7buE4APZFwqd27srfM3JNF615g/2ekCgcBSO6zScmkEwUGj\neTu9lhHWre2IsN6nnUmfCsl0GpJ+hhLaB9DX3Qdc2Ssu3ez5TAbaOGN9ngrvxGNH\noY8lZLUAUwmjr85nr0hgA/eBvdiwnrzIjHxjA+jRqHI/BItZrpZfkSIC2V1DNLHD\n1wdeBR0412PnMQgWNL+ltmgTFLAMX9dbdDMySOFcPjbsyrY7xLn4lsLkH6agqfuC\n2CI4Phk9ki/Bh75AuhaSinUAzjEDJahLotFlfVJbWRNOCE6S3VQ=\n-----END RSA PRIVATE KEY-----\n\nvagrant@vagrant:~/.ssh$ cat id_rsa.pub \nssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDXQeFOw1nWAdzl7Eznp4GbNgHLQEcEuUlMKTJJK78+x/lhI/QQG79x9eDcAJsScrPh45OQMGFHwwMN+fk+m/VTwxPK/NpqrT4jYU1IeaMdO0eMQtt9afWoD0Pmbe29isc9xqQNVwMp0KpcPzHSoCdVHiuDkDsnhMr1s2vwLMxAnk2bVQe+55JnK8/ZIfr5YW6ydEN2I218927QNAqYXl84Uh0VZOWBIatQtzDegj1FvOu5IFYbuCP98AWRwru/5bJMTE0my8RPtTx5L+b3BNcE397U6EEDQw/Z8rRmlQuOFKg21jXPmT/g6hI5T33duAParsEqaNBjnV9ePf6Pcvt+6Ah/lQoPuDA+dKAzWPO4VRx533i7Zy92vM8NQtUXEGTvL0Nl3EjX2PDl4GHVOEEruLISMtr4Z19efJQK/cc1OVmzBjs8/y8XSyBJALVVeBctVgFvRTZ5J27weu7/v36H4BBjovTX+j/psxEIdY7zbisgaWZ+eNFar5sScRDEtw8= vagrant@vagrant\n</code></pre>\n<p>on the receiving host</p>\n<pre><code>ftpuser@vagrant:~/.ssh$ cat authorized_keys \nssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDZ15ARPZZLGcl9PD8X8XBNiqSHO8FjN+c/PouLmvs3gLQS6Vc6AYr0R073gf6760+YK514X5amNsmESVKfFD0URRzF5WWz5n97AZ0IQd6o5Q1QFvhqsVmN/5ZodZGMTf28sPvg+t7PT/ZsohukhvlIzzzKJ3MycDAhYYK36MW/Rk0E0JpN39d63oCSCa1lh615DqyF+3jIM1mPQ3Moho+UufrXSFxutaDNd48aznSmczSC33a6Uez/A6yIEnpcqSUdlVxTFfe6hf4fdEfdW+SH5CaBvtmNcW5dOYPtfEq7AnfS0ddRIghQtbYTcj0g8X7TXCl1NPNSjLlUO9zIem7pH1IDrJCfFV3id6ozBPfafwpOFb/e3JC15jeBjgRFCbnDXeOrFzQY1jHban97nt9VyEVfzHJclFMDTsRwOeElxtg+XyBgYWEgFfvhlQmDE3jyXiMpGihfJi48wYPl1/B2nrcTpbLef9why9KOiJWeZaGYaquf7GKpfZTDqAe/Kck= dave@pantgwyn2010\n</code></pre>\n<p>the Jsch logs from a failed connection:</p>\n<pre><code>Connecting to 192.168.56.99 port 22\nConnection established\nRemote version string: SSH-2.0-OpenSSH_8.2p1 Ubuntu-4ubuntu0.1\nLocal version string: SSH-2.0-JSCH-0.1.67\nCheckCiphers: chacha20-poly1305@openssh.com\nchacha20-poly1305@openssh.com is not available.\ncipher.c2s proposal before removing unavailable algos is: aes128- \nctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256- \ngcm@openssh.com,chacha20-poly1305@openssh.com\ncipher.s2c proposal before removing unavailable algos is: aes128- \nctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256- \ngcm@openssh.com,chacha20-poly1305@openssh.com\ncipher.c2s proposal after removing unavailable algos is: aes128- \nctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256- \ngcm@openssh.com\ncipher.s2c proposal after removing unavailable algos is: aes128- \nctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256- \ngcm@openssh.com\nCheckKexes: curve25519-sha256,curve25519- \nsha256@libssh.org,curve448-sha512\ncurve25519-sha256 is not available.\ncurve25519-sha256@libssh.org is not available.\ncurve448-sha512 is not available.\nkex proposal before removing unavailable algos is: curve25519- \nsha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2- \nnistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange- \nsha256,diffie-hellman-group16-sha512,diffie-hellman-group18- \nsha512,diffie-hellman-group14-sha256\nkex proposal after removing unavailable algos is: ecdh-sha2- \nnistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman- \ngroup-exchange-sha256,diffie-hellman-group16-sha512,diffie- \nhellman-group18-sha512,diffie-hellman-group14-sha256\nCheckSignatures: ssh-ed25519,ssh-ed448\nssh-ed25519 is not available.\nssh-ed448 is not available.\nserver_host_key proposal before removing unavailable algos is: \nssh-ed25519,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2- \nnistp521,rsa-sha2-512,rsa-sha2-256,ssh-rsa\nserver_host_key proposal after removing unavailable algos is: \necdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,rsa- \nsha2-512,rsa-sha2-256,ssh-rsa\nserver_host_key proposal before known_host reordering is: ecdsa- \nsha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,rsa-sha2- \n512,rsa-sha2-256,ssh-rsa\nserver_host_key proposal after known_host reordering is: ecdsa- \nsha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,rsa-sha2- \n512,rsa-sha2-256,ssh-rsa\nSSH_MSG_KEXINIT sent\nSSH_MSG_KEXINIT received\nkex: server: curve25519-sha256,curve25519-sha256@libssh.org,ecdh- \nsha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie- \nhellman-group-exchange-sha256,diffie-hellman-group16- \nsha512,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256\nkex: server: rsa-sha2-512,rsa-sha2-256,ssh-rsa,ecdsa-sha2- \nnistp256,ssh-ed25519\nkex: server: chacha20-poly1305@openssh.com,aes128-ctr,aes192- \nctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\nkex: server: chacha20-poly1305@openssh.com,aes128-ctr,aes192- \nctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\nkex: server: umac-64-etm@openssh.com,umac-128- \netm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512- \netm@openssh.com,hmac-sha1-etm@openssh.com,umac- \n64@openssh.com,umac- \n128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\nkex: server: umac-64-etm@openssh.com,umac-128- \netm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512- \netm@openssh.com,hmac-sha1-etm@openssh.com,umac- \n64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2- \n512,hmac-sha1\nkex: server: none,zlib@openssh.com\nkex: server: none,zlib@openssh.com\nkex: server: \nkex: server: \nkex: client: ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2- \nnistp521,diffie-hellman-group-exchange-sha256,diffie-hellman- \ngroup16-sha512,diffie-hellman-group18-sha512,diffie-hellman- \ngroup14-sha256,ext-info-c\nkex: client: ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2- \nnistp521,rsa-sha2-512,rsa-sha2-256,ssh-rsa\nkex: client: aes128-ctr,aes192-ctr,aes256-ctr,aes128- \ngcm@openssh.com,aes256-gcm@openssh.com\nkex: client: aes128-ctr,aes192-ctr,aes256-ctr,aes128- \ngcm@openssh.com,aes256-gcm@openssh.com\nkex: client: hmac-sha2-256-etm@openssh.com,hmac-sha2-512- \netm@openssh.com,hmac-sha1-etm@openssh.com,hmac-sha2-256,hmac-sha2- \n512,hmac-sha1\nkex: client: hmac-sha2-256-etm@openssh.com,hmac-sha2-512- \netm@openssh.com,hmac-sha1-etm@openssh.com,hmac-sha2-256,hmac-sha2- \n512,hmac-sha1\nkex: client: none\nkex: client: none\nkex: client: \nkex: client: \nkex: algorithm: ecdh-sha2-nistp256\nkex: host key algorithm: ecdsa-sha2-nistp256\nkex: server-&gt;client cipher: aes128-ctr MAC: hmac-sha2-256- \netm@openssh.com compression: none\nkex: client-&gt;server cipher: aes128-ctr MAC: hmac-sha2-256- \netm@openssh.com compression: none\nSSH_MSG_KEX_ECDH_INIT sent\nexpecting SSH_MSG_KEX_ECDH_REPLY\nssh_ecdsa_verify: ecdsa-sha2-nistp256 signature true\nHost '192.168.56.99' is known and matches the ECDSA host key\nSSH_MSG_NEWKEYS sent\nSSH_MSG_NEWKEYS received\nSSH_MSG_SERVICE_REQUEST sent\nSSH_MSG_EXT_INFO received\nserver-sig-algs=&lt;ssh-ed25519,sk-ssh-ed25519@openssh.com,ssh- \nrsa,rsa-sha2-256,rsa-sha2-512,ssh-dss,ecdsa-sha2-nistp256,ecdsa- \nsha2-nistp384,ecdsa-sha2-nistp521,sk-ecdsa-sha2- \nnistp256@openssh.com&gt;\nSSH_MSG_SERVICE_ACCEPT received\nAuthentications that can continue: gssapi-with- \nmic,publickey,keyboard-interactive,password\nNext authentication method: gssapi-with-mic\nfailed to load gssapi-with-mic method\nAuthentications that can continue: publickey,keyboard- \ninteractive,password\nNext authentication method: publickey\nPubkeyAcceptedAlgorithms = ssh-ed25519,ecdsa-sha2-nistp256,ecdsa- \nsha2-nistp384,ecdsa-sha2-nistp521,rsa-sha2-512,rsa-sha2-256,ssh-rsa\nSignature algorithms unavailable for non-agent identities = [ssh-ed25519, ssh-ed448]\nPubkeyAcceptedAlgorithms in server-sig-algs = [ssh-ed25519, ecdsa-sha2-nistp256, ecdsa-sha2-nistp384, ecdsa-sha2-nistp521, rsa-sha2-512, \nrsa-sha2-256, ssh-rsa]\nrsa-sha2-512 preauth failure\nrsa-sha2-256 preauth failure\nssh-rsa preauth failure\nAuthentications that can continue: password\nNext authentication method: password\nDisconnecting from 192.168.56.99 port 22\ncom.jcraft.jsch.JSchException: Auth cancel\n</code></pre>\n"},{"tags":["java","jooq"],"answers":[{"tags":[],"owner":{"account_id":5159758,"reputation":1872,"user_id":4131849,"display_name":"Roshan Upreti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632590401,"creation_date":1632590086,"answer_id":69328395,"question_id":69327738,"body_markdown":"Turns out the culprit here was the usage of `jakarta.persistence-api`. Switching to `javax.persistence-api` made things all fine and dandy.","title":"Why is JOOQ&#39;s fetchOneInto(Pojo.class) setting only id field, and others to null?","body":"<p>Turns out the culprit here was the usage of <code>jakarta.persistence-api</code>. Switching to <code>javax.persistence-api</code> made things all fine and dandy.</p>\n"}],"owner":{"account_id":5159758,"reputation":1872,"user_id":4131849,"display_name":"Roshan Upreti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":327,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1632590401,"creation_date":1632584931,"question_id":69327738,"body_markdown":"I&#39;m using a `users` table, defined as:\r\n\r\n    CREATE TABLE `users` (\r\n      `id` int(11) NOT NULL AUTO_INCREMENT COMMENT &#39;unique user id.&#39;,\r\n      `username` varchar(50) NOT NULL COMMENT &#39;username(unique identifier for each user.)&#39;,\r\n      `password` text NOT NULL COMMENT &#39;password encrypted with salt.&#39;,\r\n      `phone` varchar(20) DEFAULT NULL COMMENT &#39;phone number(phone number should be unique for each user.)&#39;,\r\n      `email` varchar(70) DEFAULT NULL COMMENT &#39;e-mail(e-mail should be unique for each user.)&#39;,\r\n      `status` enum(&#39;ACTIVE&#39;,&#39;LOCKED&#39;,&#39;DELETED&#39;) NOT NULL COMMENT &#39;user account status.&#39;,\r\n      `isDeleted` tinyint(4) NOT NULL DEFAULT 0 COMMENT &#39;boolean flag deleting whether the user is deleted or not.&#39;,\r\n      `created_at` timestamp NOT NULL DEFAULT current_timestamp() COMMENT &#39;Date and time of user creation.&#39;,\r\n      `updated_at` datetime NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp() COMMENT &#39;Date and time when the user was last updated.&#39;,\r\n      PRIMARY KEY (`id`),\r\n      UNIQUE KEY `username` (`username`,`phone`,`email`)\r\n    ) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8\r\n\r\nAlso, a custom `User` POJO, that looks something like:\r\n\r\n    @Table(name = &quot;users&quot;)\r\n    public class User {\r\n    \r\n        @Column(name = &quot;id&quot;)\r\n        private Integer id;\r\n    \r\n        @Column(name = &quot;username&quot;)\r\n        private String userName;\r\n    \r\n        @Column(name = &quot;phone&quot;)\r\n        private String userPhone;\r\n    \r\n        @Column(name = &quot;email&quot;)\r\n        private String userEmail;\r\n    \r\n        @Column(name = &quot;password&quot;)\r\n        private String password;\r\n    \r\n    // Getters and Setters omitted for brevity\r\n    }\r\n\r\nNow, when I simply `fetch()` the record, it works fine:\r\n\r\n    UsersRecord user = new DSLContextFactory(&quot;demo&quot;).getDSLContext()\r\n                    .selectFrom(USERS)\r\n                    .where(USERS.USERNAME.eq(&quot;james&quot;))\r\n                    .fetchOne();\r\n            System.out.println(user);\r\n\r\nThe snippet above returns[![enter image description here][1]][1]\r\n\r\nBut, if I try `fetchOneInto(User.class)`, it only lodges the id field to `User`:\r\n\r\n    User user = new DSLContextFactory(&quot;demo&quot;).getDSLContext()\r\n                    .selectFrom(USERS)\r\n                    .where(USERS.USERNAME.eq(&quot;james&quot;))\r\n                    .fetchOneInto(User.class);\r\n            System.out.println(user);\r\n\r\nNow, the above snippet returns this:\r\n\r\n    [User{id=3, userName=&#39;null&#39;, userPhone=&#39;null&#39;, userEmail=&#39;null&#39;}]\r\n\r\nI have not the slightest clue what&#39;s going on here. Some help would be greatly appreciated!\r\n\r\nI&#39;m using JOOQ `3.15.0`\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aEXFS.png","title":"Why is JOOQ&#39;s fetchOneInto(Pojo.class) setting only id field, and others to null?","body":"<p>I'm using a <code>users</code> table, defined as:</p>\n<pre><code>CREATE TABLE `users` (\n  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'unique user id.',\n  `username` varchar(50) NOT NULL COMMENT 'username(unique identifier for each user.)',\n  `password` text NOT NULL COMMENT 'password encrypted with salt.',\n  `phone` varchar(20) DEFAULT NULL COMMENT 'phone number(phone number should be unique for each user.)',\n  `email` varchar(70) DEFAULT NULL COMMENT 'e-mail(e-mail should be unique for each user.)',\n  `status` enum('ACTIVE','LOCKED','DELETED') NOT NULL COMMENT 'user account status.',\n  `isDeleted` tinyint(4) NOT NULL DEFAULT 0 COMMENT 'boolean flag deleting whether the user is deleted or not.',\n  `created_at` timestamp NOT NULL DEFAULT current_timestamp() COMMENT 'Date and time of user creation.',\n  `updated_at` datetime NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp() COMMENT 'Date and time when the user was last updated.',\n  PRIMARY KEY (`id`),\n  UNIQUE KEY `username` (`username`,`phone`,`email`)\n) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8\n</code></pre>\n<p>Also, a custom <code>User</code> POJO, that looks something like:</p>\n<pre><code>@Table(name = &quot;users&quot;)\npublic class User {\n\n    @Column(name = &quot;id&quot;)\n    private Integer id;\n\n    @Column(name = &quot;username&quot;)\n    private String userName;\n\n    @Column(name = &quot;phone&quot;)\n    private String userPhone;\n\n    @Column(name = &quot;email&quot;)\n    private String userEmail;\n\n    @Column(name = &quot;password&quot;)\n    private String password;\n\n// Getters and Setters omitted for brevity\n}\n</code></pre>\n<p>Now, when I simply <code>fetch()</code> the record, it works fine:</p>\n<pre><code>UsersRecord user = new DSLContextFactory(&quot;demo&quot;).getDSLContext()\n                .selectFrom(USERS)\n                .where(USERS.USERNAME.eq(&quot;james&quot;))\n                .fetchOne();\n        System.out.println(user);\n</code></pre>\n<p>The snippet above returns<a href=\"https://i.stack.imgur.com/aEXFS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aEXFS.png\" alt=\"enter image description here\" /></a></p>\n<p>But, if I try <code>fetchOneInto(User.class)</code>, it only lodges the id field to <code>User</code>:</p>\n<pre><code>User user = new DSLContextFactory(&quot;demo&quot;).getDSLContext()\n                .selectFrom(USERS)\n                .where(USERS.USERNAME.eq(&quot;james&quot;))\n                .fetchOneInto(User.class);\n        System.out.println(user);\n</code></pre>\n<p>Now, the above snippet returns this:</p>\n<pre><code>[User{id=3, userName='null', userPhone='null', userEmail='null'}]\n</code></pre>\n<p>I have not the slightest clue what's going on here. Some help would be greatly appreciated!</p>\n<p>I'm using JOOQ <code>3.15.0</code></p>\n"},{"tags":["java","arrays","multidimensional-array","user-input"],"comments":[{"owner":{"account_id":22656379,"reputation":76,"user_id":16830227,"display_name":"user16830227"},"score":0,"creation_date":1632586856,"post_id":69327879,"comment_id":122535663,"body_markdown":"For the inner loop, &quot;columns &lt; myArray.length&quot; should be &quot;columns &lt; myArray[0].length&quot;","body":"For the inner loop, &quot;columns &lt; myArray.length&quot; should be &quot;columns &lt; myArray[0].length&quot;"},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1632586962,"post_id":69327879,"comment_id":122535686,"body_markdown":"myArray.length returns the rows count. To get the columns count you need to get a row and call the length method on it. I.e change `for (columns = 0; columns &lt; myArray.length; columns++)` to `for (columns = 0; columns &lt; myArray[0].length; columns++)`","body":"myArray.length returns the rows count. To get the columns count you need to get a row and call the length method on it. I.e change <code>for (columns = 0; columns &lt; myArray.length; columns++)</code> to <code>for (columns = 0; columns &lt; myArray[0].length; columns++)</code>"},{"owner":{"account_id":21062220,"reputation":101,"user_id":15480359,"display_name":"Ransome"},"score":0,"creation_date":1632587516,"post_id":69327879,"comment_id":122535800,"body_markdown":"Thank you both for the replies, I changed the inner loop to what both of you suggested. But I still get the same error.","body":"Thank you both for the replies, I changed the inner loop to what both of you suggested. But I still get the same error."}],"answers":[{"tags":[],"owner":{"account_id":9648501,"reputation":181,"user_id":7160371,"display_name":"Ajit Kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632590233,"creation_date":1632590233,"answer_id":69328419,"question_id":69327879,"body_markdown":"You should use separate variables to run the loops. \r\n\r\n\r\n    public class Random {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scan = new Scanner(System.in);\r\n        System.out.print(&quot;Enter rows for the array: &quot;);\r\n        int rows = scan.nextInt();\r\n        System.out.print(&quot;Enter columns for the array: &quot;);\r\n        int columns = scan.nextInt();\r\n\r\n        int[][] myArray = new int[rows][columns];\r\n\r\n        for (int row = 0; row &lt; rows; row++) {\r\n            for (int col = 0; col &lt; columns; col++) {\r\n                myArray[row][col] = (int) (Math.random() * 100);\r\n                System.out.print(myArray[row][col] + &quot;\\t&quot;);\r\n            }\r\n        }\r\n    }\r\n}","title":"Creating user input for randomized 2D java array issue - OutOfBoundsException","body":"<p>You should use separate variables to run the loops.</p>\n<pre><code>public class Random {\n\npublic static void main(String[] args) {\n    Scanner scan = new Scanner(System.in);\n    System.out.print(&quot;Enter rows for the array: &quot;);\n    int rows = scan.nextInt();\n    System.out.print(&quot;Enter columns for the array: &quot;);\n    int columns = scan.nextInt();\n\n    int[][] myArray = new int[rows][columns];\n\n    for (int row = 0; row &lt; rows; row++) {\n        for (int col = 0; col &lt; columns; col++) {\n            myArray[row][col] = (int) (Math.random() * 100);\n            System.out.print(myArray[row][col] + &quot;\\t&quot;);\n        }\n    }\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":21062220,"reputation":101,"user_id":15480359,"display_name":"Ransome"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69328419,"answer_count":1,"score":0,"last_activity_date":1632590233,"creation_date":1632585919,"question_id":69327879,"body_markdown":"Trying to create a 2D array that takes the users input for rows and columns. The numbers inside the array are then randomized from 0 to 100. I am getting the following error:\r\n\r\nEnter rows for the array: 3\r\n\r\nEnter columns for the array: 2\r\n\r\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 3 out of bounds for length 3\r\n\tat test2.main(test2.java:17)\r\n\r\n**Here is my code:**\r\n\r\n    import java.lang.Math;\r\n    import java.util.Scanner;\r\n    \r\n    public class test2 {\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner scan = new Scanner(System.in);\r\n            System.out.print(&quot;Enter rows for the array: &quot;);\r\n            int rows = scan.nextInt();\r\n            System.out.print(&quot;Enter columns for the array: &quot;);\r\n            int columns = scan.nextInt();\r\n    \r\n            int [][] myArray = new int [rows][columns];\r\n    \r\n            for (rows = 0; rows &lt; myArray.length;rows++) {\r\n                for (columns = 0; columns &lt; myArray.length; columns++)\r\n                myArray[rows][columns] = (int) (Math.random()*100);\r\n                System.out.print(myArray[rows][columns] + &quot;\\t&quot;);\r\n            }\r\n        }\r\n    }","title":"Creating user input for randomized 2D java array issue - OutOfBoundsException","body":"<p>Trying to create a 2D array that takes the users input for rows and columns. The numbers inside the array are then randomized from 0 to 100. I am getting the following error:</p>\n<p>Enter rows for the array: 3</p>\n<p>Enter columns for the array: 2</p>\n<p>Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 3 out of bounds for length 3\nat test2.main(test2.java:17)</p>\n<p><strong>Here is my code:</strong></p>\n<pre><code>import java.lang.Math;\nimport java.util.Scanner;\n\npublic class test2 {\n\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        System.out.print(&quot;Enter rows for the array: &quot;);\n        int rows = scan.nextInt();\n        System.out.print(&quot;Enter columns for the array: &quot;);\n        int columns = scan.nextInt();\n\n        int [][] myArray = new int [rows][columns];\n\n        for (rows = 0; rows &lt; myArray.length;rows++) {\n            for (columns = 0; columns &lt; myArray.length; columns++)\n            myArray[rows][columns] = (int) (Math.random()*100);\n            System.out.print(myArray[rows][columns] + &quot;\\t&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","multithreading","concurrency"],"answers":[{"tags":[],"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1286761833,"creation_date":1286761533,"answer_id":3903047,"question_id":3903039,"body_markdown":"You need to hold the lock on the object you want to `wait` on (you can only call it within a `synchronized` block).\r\n\r\nAlso, calling `wait` on a `Thread` is very unusual and probably not what you want.\r\n\r\nI am not sure what you are trying to do, but could you be confusing `wait` with `sleep`?\r\n\r\nIf you want to wait for another thread to finish, that would be `anotherThread.join()`.","title":"wait() and notify() method , always IllegalMonitorStateException is happen and tell me current Thread is not Owner Why?","body":"<p>You need to hold the lock on the object you want to <code>wait</code> on (you can only call it within a <code>synchronized</code> block).</p>\n\n<p>Also, calling <code>wait</code> on a <code>Thread</code> is very unusual and probably not what you want.</p>\n\n<p>I am not sure what you are trying to do, but could you be confusing <code>wait</code> with <code>sleep</code>?</p>\n\n<p>If you want to wait for another thread to finish, that would be <code>anotherThread.join()</code>.</p>\n"},{"tags":[],"owner":{"account_id":203002,"reputation":21637,"user_id":450398,"accept_rate":85,"display_name":"Grodriguez"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1632590227,"creation_date":1286780580,"answer_id":3904078,"question_id":3903039,"body_markdown":"Before you call `wait` on an object, you must acquire that object&#39;s lock:\r\n\r\n    synchronized(obj)\r\n    {\r\n        obj.wait();\r\n    }\r\n\r\nYour code is calling `wait` on a `Thread` object without acquiring the lock first.\r\n\r\nI assume this is just a simplified test case to show your problem, but note that you probably want to be calling `wait` on an object that is accessible from all threads, not on the `Thread` objects themselves.","title":"wait() and notify() method , always IllegalMonitorStateException is happen and tell me current Thread is not Owner Why?","body":"<p>Before you call <code>wait</code> on an object, you must acquire that object's lock:</p>\n<pre><code>synchronized(obj)\n{\n    obj.wait();\n}\n</code></pre>\n<p>Your code is calling <code>wait</code> on a <code>Thread</code> object without acquiring the lock first.</p>\n<p>I assume this is just a simplified test case to show your problem, but note that you probably want to be calling <code>wait</code> on an object that is accessible from all threads, not on the <code>Thread</code> objects themselves.</p>\n"},{"tags":[],"owner":{"account_id":30659,"reputation":22506,"user_id":83695,"accept_rate":86,"display_name":"andersoj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1287278094,"creation_date":1287278094,"answer_id":3951544,"question_id":3903039,"body_markdown":"Someone should cite the API contract for [`java.lang.Object.wait()`][1], which explains this directly.  If a method raises an exception, read the documentation.\r\n\r\nWhen in doubt, read the contract.  (Bill McNeal on NewsRadio always kept his in his jacket pocket, a good metaphor for the JavaDoc API.. see &quot;Crazy Prepared&quot; under [NewsRadio][2] and ponder the imponderable.)\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/Object.html#wait%28%29\r\n  [2]: http://tvtropes.org/pmwiki/pmwiki.php/Main/NewsRadio","title":"wait() and notify() method , always IllegalMonitorStateException is happen and tell me current Thread is not Owner Why?","body":"<p>Someone should cite the API contract for <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Object.html#wait%28%29\" rel=\"nofollow\"><code>java.lang.Object.wait()</code></a>, which explains this directly.  If a method raises an exception, read the documentation.</p>\n\n<p>When in doubt, read the contract.  (Bill McNeal on NewsRadio always kept his in his jacket pocket, a good metaphor for the JavaDoc API.. see \"Crazy Prepared\" under <a href=\"http://tvtropes.org/pmwiki/pmwiki.php/Main/NewsRadio\" rel=\"nofollow\">NewsRadio</a> and ponder the imponderable.)</p>\n"}],"owner":{"account_id":208444,"reputation":424,"user_id":458930,"accept_rate":73,"display_name":"MineIsMine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16942,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":3903047,"answer_count":3,"score":2,"last_activity_date":1632590227,"creation_date":1286761392,"question_id":3903039,"body_markdown":"    package pkg_1;\r\n\r\n    public class ExpOnWaitMethod extends Thread {\r\n    \r\n    \tstatic Double x = new Double(20);\r\n    \r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tExpOnWaitMethod T1 = new ExpOnWaitMethod();\r\n    \t\tExpOnWaitMethod T2 = new ExpOnWaitMethod();\r\n    \r\n    \t\tT1.start();\r\n    \r\n    \t\tT2.start();\r\n    \r\n    \t}\r\n    \r\n    \tpublic void run() {\r\n    \r\n    \t\tMag mag = new Mag();\r\n    \r\n    \t\tsynchronized (x) {\r\n    \r\n    \t\t\ttry {\r\n    \t\t\t\tfor (int i = 1; i &lt; 10; i++) {\r\n    \t\t\t\t\tmag.nop(Thread.currentThread());\r\n    \t\t\t\t\tx = i * 2.0;\r\n    \r\n    \t\t\t\t}\r\n    \r\n    \t\t\t} catch (InterruptedException e) {\r\n    \r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n    \r\n    class Mag {\r\n    \tchar ccc = &#39;A&#39;;\r\n    \r\n    \tpublic void nop(Thread thr) throws InterruptedException {\r\n    \r\n    \t\tSystem.out.print(ccc + &quot; &quot;);\r\n    \t\tccc++;\r\n    \r\n    \t\tif (thr.getState().toString().equalsIgnoreCase(&quot;runnable&quot;))\r\n    \t\t\tThread.currentThread().wait();\r\n    \t\t//thr.notify();\r\n    \t}\r\n    }\r\n\r\n","title":"wait() and notify() method , always IllegalMonitorStateException is happen and tell me current Thread is not Owner Why?","body":"<pre><code>package pkg_1;\n\npublic class ExpOnWaitMethod extends Thread {\n\n    static Double x = new Double(20);\n\n\n    public static void main(String[] args) {\n\n        ExpOnWaitMethod T1 = new ExpOnWaitMethod();\n        ExpOnWaitMethod T2 = new ExpOnWaitMethod();\n\n        T1.start();\n\n        T2.start();\n\n    }\n\n    public void run() {\n\n        Mag mag = new Mag();\n\n        synchronized (x) {\n\n            try {\n                for (int i = 1; i &lt; 10; i++) {\n                    mag.nop(Thread.currentThread());\n                    x = i * 2.0;\n\n                }\n\n            } catch (InterruptedException e) {\n\n                e.printStackTrace();\n            }\n\n        }\n    }\n\n}\n\nclass Mag {\n    char ccc = 'A';\n\n    public void nop(Thread thr) throws InterruptedException {\n\n        System.out.print(ccc + \" \");\n        ccc++;\n\n        if (thr.getState().toString().equalsIgnoreCase(\"runnable\"))\n            Thread.currentThread().wait();\n        //thr.notify();\n    }\n}\n</code></pre>\n"},{"tags":["java","gradle","multi-module","jib"],"answers":[{"tags":[],"owner":{"account_id":1881220,"reputation":4005,"user_id":1701388,"display_name":"Chanseok Oh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632589945,"creation_date":1632522552,"answer_id":69321659,"question_id":69320809,"body_markdown":"Being on Gradle, there are many ways to achieve whatever you want. One idea of mine is to create a new module (say, `jibconf`) for the following `build.gradle`.\r\n\r\n```gradle\r\n[&#39;jib&#39;, &#39;jibDockerBuild&#39;, &#39;jibBuildTar&#39;].each { jibTaskName -&gt;\r\n  task &quot;${jibTaskName}Webapp&quot; {\r\n    doFirst {\r\n      project(&#39;:webapp&#39;).jib {\r\n        to.image = &#39;jib-webapp&#39;\r\n        // and more ....\r\n      }\r\n    }\r\n    finalizedBy &quot;:webapp:$jibTaskName&quot;\r\n  }\r\n\r\n  task &quot;${jibTaskName}App&quot; {\r\n    doFirst {\r\n      project(&#39;:app&#39;).jib {\r\n        to.image = &#39;jib-app&#39;\r\n        // and more ...\r\n      }\r\n    }\r\n    finalizedBy &quot;:app:$jibTaskName&quot;\r\n  }\r\n}\r\n```\r\n\r\nThen running `./gradelw jibW` or `./gradle jibDBW` at the root builds a webapp image, while `./gradlew jibA` or `./gradlew jibDBA` builds an app image.\r\n\r\nNote that it&#39;s recommended to register a task than outright creating it, so I&#39;d actually do this:\r\n```gradle\r\n  tasks.register(&quot;${jibTaskName}Webapp&quot;) { ...\r\n```","title":"Moving Jib configuration of one module into a new module, to refactor multi-module gradle project","body":"<p>Being on Gradle, there are many ways to achieve whatever you want. One idea of mine is to create a new module (say, <code>jibconf</code>) for the following <code>build.gradle</code>.</p>\n<pre><code>['jib', 'jibDockerBuild', 'jibBuildTar'].each { jibTaskName -&gt;\n  task &quot;${jibTaskName}Webapp&quot; {\n    doFirst {\n      project(':webapp').jib {\n        to.image = 'jib-webapp'\n        // and more ....\n      }\n    }\n    finalizedBy &quot;:webapp:$jibTaskName&quot;\n  }\n\n  task &quot;${jibTaskName}App&quot; {\n    doFirst {\n      project(':app').jib {\n        to.image = 'jib-app'\n        // and more ...\n      }\n    }\n    finalizedBy &quot;:app:$jibTaskName&quot;\n  }\n}\n</code></pre>\n<p>Then running <code>./gradelw jibW</code> or <code>./gradle jibDBW</code> at the root builds a webapp image, while <code>./gradlew jibA</code> or <code>./gradlew jibDBA</code> builds an app image.</p>\n<p>Note that it's recommended to register a task than outright creating it, so I'd actually do this:</p>\n<pre><code>  tasks.register(&quot;${jibTaskName}Webapp&quot;) { ...\n</code></pre>\n"}],"owner":{"account_id":7089007,"reputation":67,"user_id":5424889,"display_name":"Santi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":321,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69321659,"answer_count":1,"score":0,"last_activity_date":1632589945,"creation_date":1632515412,"question_id":69320809,"body_markdown":"I have a multi-module gradle project and one of the modules is a webapp. I added Jib configuration within the webapp build.gradle file to generate the container images.\r\nSimilarly I have a few modules for command-line applications and I use Jib jar config to create container images.\r\n\r\nI want to move the Jib specific configuration in new modules to unclutter the webapp/app build.gradle files and want achieve this by creating new modules (say &#39;:container:tomcat&#39;, &#39;:container:app1&#39;) and setting up a task (or something) to set Jib config here for webapp/app project. I am not sure what gradle apis I need to call to achive the same?\r\nI know I can access the webapp/app module from new module build.gradle file but not sure how to set the Jib configuration there.\r\n \r\nCan someone please suggest how to achieve this?\r\n","title":"Moving Jib configuration of one module into a new module, to refactor multi-module gradle project","body":"<p>I have a multi-module gradle project and one of the modules is a webapp. I added Jib configuration within the webapp build.gradle file to generate the container images.\nSimilarly I have a few modules for command-line applications and I use Jib jar config to create container images.</p>\n<p>I want to move the Jib specific configuration in new modules to unclutter the webapp/app build.gradle files and want achieve this by creating new modules (say ':container:tomcat', ':container:app1') and setting up a task (or something) to set Jib config here for webapp/app project. I am not sure what gradle apis I need to call to achive the same?\nI know I can access the webapp/app module from new module build.gradle file but not sure how to set the Jib configuration there.</p>\n<p>Can someone please suggest how to achieve this?</p>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1632584965,"post_id":69327526,"comment_id":122535167,"body_markdown":"Why do you use setString on a date column? Create a proper date object corresponding to the type I  the dB instead. That will sa e you a lot of trouble.","body":"Why do you use setString on a date column? Create a proper date object corresponding to the type I  the dB instead. That will sa e you a lot of trouble."},{"owner":{"account_id":14725244,"reputation":482,"user_id":10634487,"display_name":"Bill Naylor"},"score":0,"creation_date":1632585194,"post_id":69327526,"comment_id":122535227,"body_markdown":"Have you tried putting in some debug, like after the line where you say `rs.first();` put a line that says `System.out.println(rs.getInt(&quot;count&quot;);` (I personally prefer to use a proper logging framework - Slf4j et. al.)","body":"Have you tried putting in some debug, like after the line where you say <code>rs.first();</code> put a line that says <code>System.out.println(rs.getInt(&quot;count&quot;);</code> (I personally prefer to use a proper logging framework - Slf4j et. al.)"},{"owner":{"account_id":14725244,"reputation":482,"user_id":10634487,"display_name":"Bill Naylor"},"score":0,"creation_date":1632585833,"post_id":69327526,"comment_id":122535394,"body_markdown":"Also you might want to look at this question:\nhttps://stackoverflow.com/questions/867194/java-resultset-how-to-check-if-there-are-any-results?rq=1","body":"Also you might want to look at this question: <a href=\"https://stackoverflow.com/questions/867194/java-resultset-how-to-check-if-there-are-any-results?rq=1\" title=\"java resultset how to check if there are any results\">stackoverflow.com/questions/867194/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":22857753,"reputation":1,"user_id":17002338,"display_name":"Coder2021"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632589639,"creation_date":1632589639,"answer_id":69328335,"question_id":69327526,"body_markdown":"I got it to work. Instead of &quot;rs.first();&quot;, I changed it to &quot;rs.next();&quot;. Now my code doesn&#39;t post anything unless the date currently isn&#39;t being used. ","title":"Using Java check to determine if there is data in mySQL table before updating table","body":"<p>I got it to work. Instead of &quot;rs.first();&quot;, I changed it to &quot;rs.next();&quot;. Now my code doesn't post anything unless the date currently isn't being used.</p>\n"}],"owner":{"account_id":22857753,"reputation":1,"user_id":17002338,"display_name":"Coder2021"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69328335,"answer_count":1,"score":0,"last_activity_date":1632589639,"creation_date":1632583470,"question_id":69327526,"body_markdown":"I am new to Java and am trying to see if the date (actually day of week) column in MySQL contains the date before updating the table. If the date already exist the table should not be updated and if the date doesn&#39;t exist the table should be updated. I&#39;ve tried different code. My prior code either updated or didn&#39;t update the table depending on whether I has &quot;!rs.next()&quot; or &quot;rs.next()&quot; instead of depending on whether the date was in the table.\r\n\r\n        @PostMapping(&quot;/add&quot;)\r\n\r\n    public Object processMenuAddForm(@ModelAttribute @Valid Menu menu, Errors errors, HttpServletRequest request,\r\n                                     Model model/*, @PathVariable int id, @PathVariable String Date*/)\r\n                                     throws ParseException, SQLException {\r\n\r\n        User user = getUserFromSession(request.getSession());\r\n\r\n        if (errors.hasErrors()) {\r\n            model.addAttribute(&quot;title&quot;, &quot;Add&quot;);\r\n            return &quot;/menu/add&quot;;\r\n        }\r\n\r\n        Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/family_organizer&quot;,\r\n                &quot;family_organizer&quot;, &quot;LiftOff2021&quot;);\r\n        try (PreparedStatement checkDateExists = con.prepareStatement(\r\n                &quot;SELECT COUNT(date) AS count FROM menu WHERE user_id = ? AND date = ?&quot;)) {\r\n            checkDateExists.setInt(1, user.getId());\r\n            checkDateExists.setString(2, (menu.getDate()));\r\n\r\n        try (ResultSet rs = checkDateExists.executeQuery()) {\r\n\r\n              if (!rs.next()) {\r\n\r\n                Menu newMenu = new Menu(menu.getDate(), menu.getMainCourse(), menu.getVegetable(), menu.getMainSide(),\r\n                        menu.getAdditionalSide(), menu.getDessert(), user);\r\n                menuRepository.save(newMenu);\r\n\r\n            } else {\r\n                return &quot;redirect:/menu/view&quot;;\r\n        }\r\n\r\n        } catch (SQLException err) {\r\n            System.out.println(err.getMessage());\r\n        }\r\n\r\n            return &quot;redirect:/menu/view&quot;;\r\n\r\n       }\r\n      }\r\n\r\n\r\nMy current attempt doesn&#39;t update my table at all.\r\n\r\n        @PostMapping(&quot;/add&quot;)\r\n\r\n    public Object processMenuAddForm(@ModelAttribute @Valid Menu menu, Errors errors, HttpServletRequest request,\r\n                                     Model model/*, @PathVariable int id, @PathVariable String Date*/)\r\n                                     throws ParseException, SQLException {\r\n\r\n        User user = getUserFromSession(request.getSession());\r\n\r\n        if (errors.hasErrors()) {\r\n            model.addAttribute(&quot;title&quot;, &quot;Add&quot;);\r\n            return &quot;/menu/add&quot;;\r\n        }\r\n\r\n        Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/family_organizer&quot;,\r\n                &quot;family_organizer&quot;, &quot;LiftOff2021&quot;);\r\n        try (PreparedStatement checkDateExists = con.prepareStatement(\r\n                &quot;SELECT COUNT(date) AS count FROM menu WHERE user_id = ? AND date = ?&quot;)) {\r\n            checkDateExists.setInt(1, user.getId());\r\n            checkDateExists.setString(2, (menu.getDate()));\r\n\r\n        try (ResultSet rs = checkDateExists.executeQuery()) {\r\n\r\n              rs.first();\r\n              if (rs.getInt(&quot;count&quot;) == 0) {\r\n\r\n                Menu newMenu = new Menu(menu.getDate(), menu.getMainCourse(), menu.getVegetable(), menu.getMainSide(),\r\n                        menu.getAdditionalSide(), menu.getDessert(), user);\r\n                menuRepository.save(newMenu);\r\n\r\n            } else {\r\n                return &quot;redirect:/menu/view&quot;;\r\n        }\r\n\r\n        } catch (SQLException err) {\r\n            System.out.println(err.getMessage());\r\n        }\r\n\r\n            return &quot;redirect:/menu/view&quot;;\r\n\r\n       }\r\n     }\r\n\r\nAny help would be appreciated.","title":"Using Java check to determine if there is data in mySQL table before updating table","body":"<p>I am new to Java and am trying to see if the date (actually day of week) column in MySQL contains the date before updating the table. If the date already exist the table should not be updated and if the date doesn't exist the table should be updated. I've tried different code. My prior code either updated or didn't update the table depending on whether I has &quot;!rs.next()&quot; or &quot;rs.next()&quot; instead of depending on whether the date was in the table.</p>\n<pre><code>    @PostMapping(&quot;/add&quot;)\n\npublic Object processMenuAddForm(@ModelAttribute @Valid Menu menu, Errors errors, HttpServletRequest request,\n                                 Model model/*, @PathVariable int id, @PathVariable String Date*/)\n                                 throws ParseException, SQLException {\n\n    User user = getUserFromSession(request.getSession());\n\n    if (errors.hasErrors()) {\n        model.addAttribute(&quot;title&quot;, &quot;Add&quot;);\n        return &quot;/menu/add&quot;;\n    }\n\n    Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/family_organizer&quot;,\n            &quot;family_organizer&quot;, &quot;LiftOff2021&quot;);\n    try (PreparedStatement checkDateExists = con.prepareStatement(\n            &quot;SELECT COUNT(date) AS count FROM menu WHERE user_id = ? AND date = ?&quot;)) {\n        checkDateExists.setInt(1, user.getId());\n        checkDateExists.setString(2, (menu.getDate()));\n\n    try (ResultSet rs = checkDateExists.executeQuery()) {\n\n          if (!rs.next()) {\n\n            Menu newMenu = new Menu(menu.getDate(), menu.getMainCourse(), menu.getVegetable(), menu.getMainSide(),\n                    menu.getAdditionalSide(), menu.getDessert(), user);\n            menuRepository.save(newMenu);\n\n        } else {\n            return &quot;redirect:/menu/view&quot;;\n    }\n\n    } catch (SQLException err) {\n        System.out.println(err.getMessage());\n    }\n\n        return &quot;redirect:/menu/view&quot;;\n\n   }\n  }\n</code></pre>\n<p>My current attempt doesn't update my table at all.</p>\n<pre><code>    @PostMapping(&quot;/add&quot;)\n\npublic Object processMenuAddForm(@ModelAttribute @Valid Menu menu, Errors errors, HttpServletRequest request,\n                                 Model model/*, @PathVariable int id, @PathVariable String Date*/)\n                                 throws ParseException, SQLException {\n\n    User user = getUserFromSession(request.getSession());\n\n    if (errors.hasErrors()) {\n        model.addAttribute(&quot;title&quot;, &quot;Add&quot;);\n        return &quot;/menu/add&quot;;\n    }\n\n    Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/family_organizer&quot;,\n            &quot;family_organizer&quot;, &quot;LiftOff2021&quot;);\n    try (PreparedStatement checkDateExists = con.prepareStatement(\n            &quot;SELECT COUNT(date) AS count FROM menu WHERE user_id = ? AND date = ?&quot;)) {\n        checkDateExists.setInt(1, user.getId());\n        checkDateExists.setString(2, (menu.getDate()));\n\n    try (ResultSet rs = checkDateExists.executeQuery()) {\n\n          rs.first();\n          if (rs.getInt(&quot;count&quot;) == 0) {\n\n            Menu newMenu = new Menu(menu.getDate(), menu.getMainCourse(), menu.getVegetable(), menu.getMainSide(),\n                    menu.getAdditionalSide(), menu.getDessert(), user);\n            menuRepository.save(newMenu);\n\n        } else {\n            return &quot;redirect:/menu/view&quot;;\n    }\n\n    } catch (SQLException err) {\n        System.out.println(err.getMessage());\n    }\n\n        return &quot;redirect:/menu/view&quot;;\n\n   }\n }\n</code></pre>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","android","validation","mvvm","android-textinputlayout"],"comments":[{"owner":{"account_id":8441332,"reputation":375,"user_id":6333708,"display_name":"Emmanuel Conradie"},"score":0,"creation_date":1632588829,"post_id":69328131,"comment_id":122536086,"body_markdown":"Simply, send the text to your viewmodel -&gt; validate the text -&gt; update mutableLivedata -&gt; observer the livedata in your fragment/activity and update your EditTextError","body":"Simply, send the text to your viewmodel -&gt; validate the text -&gt; update mutableLivedata -&gt; observer the livedata in your fragment/activity and update your EditTextError"},{"owner":{"account_id":22858333,"reputation":21,"user_id":17002833,"display_name":"Gene"},"score":0,"creation_date":1632589583,"post_id":69328131,"comment_id":122536276,"body_markdown":"@EmmanuelConradie I&#39;m sorry that I forgot to include that my ViewModel extends BaseObservable. I&#39;m using BindingAdapter. How will I achieve it without using MutableLiveData? Thank you.","body":"@EmmanuelConradie I&#39;m sorry that I forgot to include that my ViewModel extends BaseObservable. I&#39;m using BindingAdapter. How will I achieve it without using MutableLiveData? Thank you."},{"owner":{"account_id":8441332,"reputation":375,"user_id":6333708,"display_name":"Emmanuel Conradie"},"score":0,"creation_date":1632590443,"post_id":69328131,"comment_id":122536453,"body_markdown":"I would create a datavariable for your TextInputLayoutError, so that you can notify it if your validate method is false.\nThen in your view layer you can check if the error is null or empty and only then do something","body":"I would create a datavariable for your TextInputLayoutError, so that you can notify it if your validate method is false. Then in your view layer you can check if the error is null or empty and only then do something"},{"owner":{"account_id":8441332,"reputation":375,"user_id":6333708,"display_name":"Emmanuel Conradie"},"score":0,"creation_date":1632591161,"post_id":69328131,"comment_id":122536620,"body_markdown":"What I mean is link your validator with TextInputLayoutError. Also it&#39;s more reliable to use onTextChanged (not after) since onTextChanged is instant. If you don&#39;t want to check it constantly you could only check if after (for example) 5 characters","body":"What I mean is link your validator with TextInputLayoutError. Also it&#39;s more reliable to use onTextChanged (not after) since onTextChanged is instant. If you don&#39;t want to check it constantly you could only check if after (for example) 5 characters"},{"owner":{"account_id":3131499,"reputation":1797,"user_id":2649154,"accept_rate":93,"display_name":"gioravered"},"score":0,"creation_date":1632591733,"post_id":69328131,"comment_id":122536768,"body_markdown":"Why does the answer you linked to not working for you?","body":"Why does the answer you linked to not working for you?"},{"owner":{"account_id":8441332,"reputation":375,"user_id":6333708,"display_name":"Emmanuel Conradie"},"score":0,"creation_date":1632592422,"post_id":69328131,"comment_id":122536904,"body_markdown":"https://stackoverflow.com/questions/41068826/android-data-binding-edittext-seterror\nThey have already answered your question here.","body":"<a href=\"https://stackoverflow.com/questions/41068826/android-data-binding-edittext-seterror\" title=\"android data binding edittext seterror\">stackoverflow.com/questions/41068826/&hellip;</a> They have already answered your question here."},{"owner":{"account_id":22858333,"reputation":21,"user_id":17002833,"display_name":"Gene"},"score":0,"creation_date":1632659856,"post_id":69328131,"comment_id":122547756,"body_markdown":"Yes, it answered my question. Thank you.","body":"Yes, it answered my question. Thank you."}],"owner":{"account_id":22858333,"reputation":21,"user_id":17002833,"display_name":"Gene"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1632989210,"answer_count":0,"score":0,"last_activity_date":1632589496,"creation_date":1632587994,"question_id":69328131,"body_markdown":"I&#39;m learning MVVM and I want to do the validation of text in the ViewModel layer, not in Fragment.\r\n\r\n\r\nData Variables:\r\n\r\n    &lt;data&gt;\r\n        &lt;variable\r\n            name=&quot;viewmodel&quot;\r\n            type=&quot;com.pup.ccis.mmReady.viewModel.LoginViewModel&quot;/&gt;\r\n        &lt;variable\r\n            name=&quot;validator&quot;\r\n            type=&quot;com.pup.ccis.mmReady.utilities.validation.validators.UserValidator.Validators&quot; /&gt;\r\n    &lt;/data&gt;\r\n\r\nLayout XML of TextInputLayout:\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n            android:id=&quot;@+id/fragment_login_til_email&quot;\r\n            style=&quot;@style/App_TextInputEditTextStyle&quot;\r\n            android:layout_marginBottom=&quot;@dimen/et_space_0&quot;&gt;\r\n\r\n            &lt;com.google.android.material.textfield.TextInputEditText\r\n                style=&quot;@style/App_TextInputEditTextStyle&quot;\r\n                android:inputType=&quot;textEmailAddress&quot;\r\n                android:hint=&quot;Email Address&quot;\r\n                android:autofillHints=&quot;emailAddress&quot;\r\n                android:text=&quot;@={viewmodel.loginEmail}&quot;\r\n                android:afterTextChanged=&quot;@{() -&gt; viewmodel.validate(viewmodel.loginEmail, validator.REQUIRED_FIELD)}&quot;/&gt;\r\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\nThe TextInputLayout element has a method setError() that accepts CharSequence. The problem is I cannot bind that as I cannot set it in the Layout XML.\r\n[I have seen this one, but it is a different type of TextInputLayout][1]. I have searched everywhere I can.\r\n\r\nViewModel\r\n\r\n\r\n    public class LoginViewModel extends BaseObservable {\r\n    private static final String TAG = &quot;LoginViewModel&quot;;\r\n\r\n    private String loginEmail;\r\n            \r\n    @Bindable\r\n    public String getLoginEmail() {\r\n        return loginEmail;\r\n    }\r\n\r\n    public void setLoginEmail(String loginEmail) {\r\n        this.loginEmail = loginEmail;\r\n        notifyPropertyChanged(BR.loginEmail);\r\n    }\r\n\r\nValidate Function in ViewModel:\r\n\r\n    public void validate(String text, Validator validator){\r\n        if(!validator.validate(text)){\r\n            validator.getInvalidMsg(); // Pass this to the TextInputLayout in View Layer so that it will become textInputLayout.setError(validator.getInvalidMsg())\r\n        }\r\n    }\r\n\r\nI know that I can just validate it in the View layer, but if I&#39;m not wrong, Validation of data should happen on the ViewModel layer in MVVM.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/37075871/can-i-bind-an-error-message-to-a-textinputlayout/37076057","title":"MVVM TextInputLayout Validation","body":"<p>I'm learning MVVM and I want to do the validation of text in the ViewModel layer, not in Fragment.</p>\n<p>Data Variables:</p>\n<pre><code>&lt;data&gt;\n    &lt;variable\n        name=&quot;viewmodel&quot;\n        type=&quot;com.pup.ccis.mmReady.viewModel.LoginViewModel&quot;/&gt;\n    &lt;variable\n        name=&quot;validator&quot;\n        type=&quot;com.pup.ccis.mmReady.utilities.validation.validators.UserValidator.Validators&quot; /&gt;\n&lt;/data&gt;\n</code></pre>\n<p>Layout XML of TextInputLayout:</p>\n<pre><code>&lt;com.google.android.material.textfield.TextInputLayout\n        android:id=&quot;@+id/fragment_login_til_email&quot;\n        style=&quot;@style/App_TextInputEditTextStyle&quot;\n        android:layout_marginBottom=&quot;@dimen/et_space_0&quot;&gt;\n\n        &lt;com.google.android.material.textfield.TextInputEditText\n            style=&quot;@style/App_TextInputEditTextStyle&quot;\n            android:inputType=&quot;textEmailAddress&quot;\n            android:hint=&quot;Email Address&quot;\n            android:autofillHints=&quot;emailAddress&quot;\n            android:text=&quot;@={viewmodel.loginEmail}&quot;\n            android:afterTextChanged=&quot;@{() -&gt; viewmodel.validate(viewmodel.loginEmail, validator.REQUIRED_FIELD)}&quot;/&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n</code></pre>\n<p>The TextInputLayout element has a method setError() that accepts CharSequence. The problem is I cannot bind that as I cannot set it in the Layout XML.\n<a href=\"https://stackoverflow.com/questions/37075871/can-i-bind-an-error-message-to-a-textinputlayout/37076057\">I have seen this one, but it is a different type of TextInputLayout</a>. I have searched everywhere I can.</p>\n<p>ViewModel</p>\n<pre><code>public class LoginViewModel extends BaseObservable {\nprivate static final String TAG = &quot;LoginViewModel&quot;;\n\nprivate String loginEmail;\n        \n@Bindable\npublic String getLoginEmail() {\n    return loginEmail;\n}\n\npublic void setLoginEmail(String loginEmail) {\n    this.loginEmail = loginEmail;\n    notifyPropertyChanged(BR.loginEmail);\n}\n</code></pre>\n<p>Validate Function in ViewModel:</p>\n<pre><code>public void validate(String text, Validator validator){\n    if(!validator.validate(text)){\n        validator.getInvalidMsg(); // Pass this to the TextInputLayout in View Layer so that it will become textInputLayout.setError(validator.getInvalidMsg())\n    }\n}\n</code></pre>\n<p>I know that I can just validate it in the View layer, but if I'm not wrong, Validation of data should happen on the ViewModel layer in MVVM.</p>\n"},{"tags":["java","android","android-studio","listview","listadapter"],"answers":[{"tags":[],"owner":{"account_id":16020322,"reputation":166,"user_id":11561980,"display_name":"Dmitry Yablokov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632589129,"creation_date":1632589129,"answer_id":69328266,"question_id":69327365,"body_markdown":"Check this line:  \r\n  \r\n    Type type = new TypeToken&lt;ArrayList&lt;String&gt;&gt;() {}.getType();\r\nTry this:\r\n\r\n\r\n     Type type = new TypeToken&lt;ArrayList&lt;AnimeListOne&gt;&gt;() {}.getType();\r\n","title":"Error : java.lang.ClassCastException: java.lang.String cannot be cast to com.example.animeguide.AnimeListOne","body":"<p>Check this line:</p>\n<pre><code>Type type = new TypeToken&lt;ArrayList&lt;String&gt;&gt;() {}.getType();\n</code></pre>\n<p>Try this:</p>\n<pre><code> Type type = new TypeToken&lt;ArrayList&lt;AnimeListOne&gt;&gt;() {}.getType();\n</code></pre>\n"}],"owner":{"account_id":22721263,"reputation":3,"user_id":16885742,"display_name":"TheVishesh Vlog"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1392,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632589129,"creation_date":1632582377,"question_id":69327365,"body_markdown":"I have a gridview with an Imageview and Textview. I am getting the names and image Url&#39;s through intent. I want to show the name in textview and load the urls in imageview but im getting error &quot; java.lang.ClassCastException: java.lang.String cannot be cast to com.example.animeguide.AnimeListOne   &quot;\r\n\r\n\r\n\r\nMy Fragment \r\n\r\n    public class NotificationsFragment extends Fragment {\r\n       ArrayList&lt;AnimeListOne&gt; list = new ArrayList&lt;AnimeListOne&gt;();\r\n    \r\n        GridView listv;\r\n    \r\n        private NotificationsViewModel notificationsViewModel;\r\n        private FragmentNotificationsBinding binding;\r\n    \r\n        public View onCreateView(@NonNull LayoutInflater inflater,\r\n                                 ViewGroup container, Bundle savedInstanceState) {\r\n            notificationsViewModel =\r\n                    new ViewModelProvider(this).get(NotificationsViewModel.class);\r\n    \r\n            binding = FragmentNotificationsBinding.inflate(inflater, container, false);\r\n            View root = binding.getRoot();\r\n    \r\n    \r\n            listv = root.findViewById(R.id.listv);\r\n    \r\n            Intent intent = getActivity().getIntent();\r\n            String animename = intent.getStringExtra(&quot;nameanime&quot;);\r\n    \r\n            Intent newintent = getActivity().getIntent();\r\n            String url = newintent.getStringExtra(&quot;url2&quot;);\r\n    \r\n    \r\n            list.add(new AnimeListOne(animename , url));\r\n    \r\n    \r\n            loadData2();\r\n            saveData2();\r\n    \r\n            ListNewAdapter adapter = new ListNewAdapter(getContext(), R.layout.watch_list, list);\r\n            listv.setAdapter(adapter);\r\n    \r\n            listv.setOnItemLongClickListener(new AdapterView.OnItemLongClickListener() {\r\n                @Override\r\n                public boolean onItemLongClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n                    list.remove(position);\r\n                    adapter.notifyDataSetChanged();\r\n                    saveData2();\r\n                    return true;\r\n                }\r\n            });\r\n    \r\n    \r\n    \r\n        return  root; }\r\n    \r\n        private void saveData2() {\r\n            SharedPreferences sp = getActivity().getSharedPreferences(&quot;shared preferences&quot;, MODE_PRIVATE);\r\n            SharedPreferences.Editor ed = sp.edit();\r\n            Gson gson = new Gson();\r\n            String json = gson.toJson(list);\r\n            ed.putString(&quot;anime list&quot;, json);\r\n            ed.apply();\r\n        }\r\n    \r\n        private void loadData2() {\r\n            SharedPreferences sp = getActivity().getSharedPreferences(&quot;shared preferences&quot;, MODE_PRIVATE);\r\n            Gson gson = new Gson();\r\n            String json = sp.getString(&quot;anime list&quot;, null);\r\n            Type type = new TypeToken&lt;ArrayList&lt;String&gt;&gt;() {\r\n            }.getType();\r\n            list = gson.fromJson(json, type);\r\n    \r\n            if (list == null) {\r\n                list = new ArrayList&lt;AnimeListOne&gt;();\r\n            }\r\n    \r\n        }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    @Override\r\n        public void onDestroyView() {\r\n            super.onDestroyView();\r\n            binding = null;\r\n    \r\n    }\r\n    }\r\n    &#39;&#39;&#39;\r\n\r\nMy Adapter Class\r\n\r\n\r\n\r\n\r\n    public class ListNewAdapter extends ArrayAdapter&lt;AnimeListOne&gt; {\r\n        private Context mContext;\r\n        public ListNewAdapter(@NonNull @NotNull Context context, int resource, @NonNull @NotNull ArrayList&lt;AnimeListOne&gt; objects) {\r\n            super(context, resource, objects);\r\n            mContext = context;\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent) {\r\n           String name = getItem(position).getName();\r\n           String url = getItem(position).getUrl();\r\n    \r\n           AnimeListOne animeListOne = new AnimeListOne(name , url);\r\n            convertView = LayoutInflater.from(mContext).inflate(R.layout.watch_list,parent, false);\r\n    \r\n            TextView tvname = (TextView)convertView.findViewById(R.id.anime_name);\r\n            ImageView tvurl = (ImageView)convertView.findViewById(R.id.list_photo);\r\n    \r\n            tvname.setText(name);\r\n            Glide.with(mContext).load(url).into(tvurl);\r\n            return convertView;\r\n        }\r\n    }\r\n&#39;&#39;&#39;\r\n\r\nAnimeListOne class\r\n\r\n    public class AnimeListOne {\r\n        private String name;\r\n        private String url;\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getUrl() {\r\n            return url;\r\n        }\r\n    \r\n        public void setUrl(String url) {\r\n            this.url = url;\r\n        }\r\n    \r\n        public AnimeListOne(String name, String url) {\r\n            this.name = name;\r\n            this.url = url;\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"Error : java.lang.ClassCastException: java.lang.String cannot be cast to com.example.animeguide.AnimeListOne","body":"<p>I have a gridview with an Imageview and Textview. I am getting the names and image Url's through intent. I want to show the name in textview and load the urls in imageview but im getting error &quot; java.lang.ClassCastException: java.lang.String cannot be cast to com.example.animeguide.AnimeListOne   &quot;</p>\n<p>My Fragment</p>\n<pre><code>public class NotificationsFragment extends Fragment {\n   ArrayList&lt;AnimeListOne&gt; list = new ArrayList&lt;AnimeListOne&gt;();\n\n    GridView listv;\n\n    private NotificationsViewModel notificationsViewModel;\n    private FragmentNotificationsBinding binding;\n\n    public View onCreateView(@NonNull LayoutInflater inflater,\n                             ViewGroup container, Bundle savedInstanceState) {\n        notificationsViewModel =\n                new ViewModelProvider(this).get(NotificationsViewModel.class);\n\n        binding = FragmentNotificationsBinding.inflate(inflater, container, false);\n        View root = binding.getRoot();\n\n\n        listv = root.findViewById(R.id.listv);\n\n        Intent intent = getActivity().getIntent();\n        String animename = intent.getStringExtra(&quot;nameanime&quot;);\n\n        Intent newintent = getActivity().getIntent();\n        String url = newintent.getStringExtra(&quot;url2&quot;);\n\n\n        list.add(new AnimeListOne(animename , url));\n\n\n        loadData2();\n        saveData2();\n\n        ListNewAdapter adapter = new ListNewAdapter(getContext(), R.layout.watch_list, list);\n        listv.setAdapter(adapter);\n\n        listv.setOnItemLongClickListener(new AdapterView.OnItemLongClickListener() {\n            @Override\n            public boolean onItemLongClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n                list.remove(position);\n                adapter.notifyDataSetChanged();\n                saveData2();\n                return true;\n            }\n        });\n\n\n\n    return  root; }\n\n    private void saveData2() {\n        SharedPreferences sp = getActivity().getSharedPreferences(&quot;shared preferences&quot;, MODE_PRIVATE);\n        SharedPreferences.Editor ed = sp.edit();\n        Gson gson = new Gson();\n        String json = gson.toJson(list);\n        ed.putString(&quot;anime list&quot;, json);\n        ed.apply();\n    }\n\n    private void loadData2() {\n        SharedPreferences sp = getActivity().getSharedPreferences(&quot;shared preferences&quot;, MODE_PRIVATE);\n        Gson gson = new Gson();\n        String json = sp.getString(&quot;anime list&quot;, null);\n        Type type = new TypeToken&lt;ArrayList&lt;String&gt;&gt;() {\n        }.getType();\n        list = gson.fromJson(json, type);\n\n        if (list == null) {\n            list = new ArrayList&lt;AnimeListOne&gt;();\n        }\n\n    }\n\n\n\n\n\n\n\n@Override\n    public void onDestroyView() {\n        super.onDestroyView();\n        binding = null;\n\n}\n}\n'''\n</code></pre>\n<p>My Adapter Class</p>\n<pre><code>public class ListNewAdapter extends ArrayAdapter&lt;AnimeListOne&gt; {\n    private Context mContext;\n    public ListNewAdapter(@NonNull @NotNull Context context, int resource, @NonNull @NotNull ArrayList&lt;AnimeListOne&gt; objects) {\n        super(context, resource, objects);\n        mContext = context;\n    }\n\n    @NonNull\n    @Override\n    public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent) {\n       String name = getItem(position).getName();\n       String url = getItem(position).getUrl();\n\n       AnimeListOne animeListOne = new AnimeListOne(name , url);\n        convertView = LayoutInflater.from(mContext).inflate(R.layout.watch_list,parent, false);\n\n        TextView tvname = (TextView)convertView.findViewById(R.id.anime_name);\n        ImageView tvurl = (ImageView)convertView.findViewById(R.id.list_photo);\n\n        tvname.setText(name);\n        Glide.with(mContext).load(url).into(tvurl);\n        return convertView;\n    }\n}\n</code></pre>\n<p>'''</p>\n<p>AnimeListOne class</p>\n<pre><code>public class AnimeListOne {\n    private String name;\n    private String url;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getUrl() {\n        return url;\n    }\n\n    public void setUrl(String url) {\n        this.url = url;\n    }\n\n    public AnimeListOne(String name, String url) {\n        this.name = name;\n        this.url = url;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate"],"answers":[{"tags":[],"owner":{"account_id":6460997,"reputation":7359,"user_id":5004822,"accept_rate":41,"display_name":"SledgeHammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632583432,"creation_date":1632583432,"answer_id":69327518,"question_id":69327342,"body_markdown":"What you want to do is a **really** bad idea since one would expect all elements in a JSON array to have the same attributes.\r\n\r\nYou should return what you are returning now with all the nulls and return your &quot;message&quot; in status.\r\n\r\n    [\r\n        {\r\n            &quot;id&quot;: 1,\r\n            &quot;uuid&quot;: &quot;@B7304&quot;,\r\n            &quot;username&quot;: &quot;blabla&quot;,\r\n            &quot;hearthBeat&quot;: 30,\r\n            &quot;status&quot;: &quot;well&quot;,\r\n            &quot;date&quot;: &quot;13/05/1333&quot;,\r\n            &quot;latitute&quot;: 30,\r\n            &quot;longitude&quot;: 40,\r\n            &quot;cardiacSteps&quot;: 50\r\n        },\r\n        {\r\n            &quot;id&quot;: 2,\r\n            &quot;uuid&quot;: &quot;@B7304&quot;,\r\n            &quot;username&quot;: &quot;blabla&quot;,\r\n            &quot;hearthBeat&quot;: null,\r\n            &quot;status&quot;: &quot;This user has no data&quot;,\r\n            &quot;date&quot;: null,\r\n            &quot;latitute&quot;: null,\r\n            &quot;longitude&quot;: null,\r\n            &quot;cardiacSteps&quot;: null\r\n        }\r\n    ]\r\n\r\nI would also recommend adding a &quot;statusCode&quot; attribute where you can return a numerical code and have &quot;status&quot; represent the statusCode description since doing string compares on status isn&#39;t a good idea either.\r\n","title":"How to make a custom message from an already defined response on Spring","body":"<p>What you want to do is a <strong>really</strong> bad idea since one would expect all elements in a JSON array to have the same attributes.</p>\n<p>You should return what you are returning now with all the nulls and return your &quot;message&quot; in status.</p>\n<pre><code>[\n    {\n        &quot;id&quot;: 1,\n        &quot;uuid&quot;: &quot;@B7304&quot;,\n        &quot;username&quot;: &quot;blabla&quot;,\n        &quot;hearthBeat&quot;: 30,\n        &quot;status&quot;: &quot;well&quot;,\n        &quot;date&quot;: &quot;13/05/1333&quot;,\n        &quot;latitute&quot;: 30,\n        &quot;longitude&quot;: 40,\n        &quot;cardiacSteps&quot;: 50\n    },\n    {\n        &quot;id&quot;: 2,\n        &quot;uuid&quot;: &quot;@B7304&quot;,\n        &quot;username&quot;: &quot;blabla&quot;,\n        &quot;hearthBeat&quot;: null,\n        &quot;status&quot;: &quot;This user has no data&quot;,\n        &quot;date&quot;: null,\n        &quot;latitute&quot;: null,\n        &quot;longitude&quot;: null,\n        &quot;cardiacSteps&quot;: null\n    }\n]\n</code></pre>\n<p>I would also recommend adding a &quot;statusCode&quot; attribute where you can return a numerical code and have &quot;status&quot; represent the statusCode description since doing string compares on status isn't a good idea either.</p>\n"},{"tags":[],"owner":{"account_id":15435220,"reputation":63,"user_id":11135504,"display_name":"Sam Jing Wen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632587911,"creation_date":1632587303,"answer_id":69328043,"question_id":69327342,"body_markdown":"In your health class, add the @JsonInclude(Include.NON_NULL), values that are null will not be shown on your response. Take note to use the boxed type and not the primitive type.\r\n```\r\n@JsonInclude(Include.NON_NULL)\r\npublic class Health {\r\n    Integer id;\r\n    String uuid;\r\n    ... \r\n    String message;\r\n}\r\n\r\n\r\n```","title":"How to make a custom message from an already defined response on Spring","body":"<p>In your health class, add the @JsonInclude(Include.NON_NULL), values that are null will not be shown on your response. Take note to use the boxed type and not the primitive type.</p>\n<pre><code>@JsonInclude(Include.NON_NULL)\npublic class Health {\n    Integer id;\n    String uuid;\n    ... \n    String message;\n}\n\n\n</code></pre>\n"}],"owner":{"account_id":14486348,"reputation":71,"user_id":10464156,"display_name":"Raven"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69327518,"answer_count":2,"score":0,"last_activity_date":1632587911,"creation_date":1632582198,"question_id":69327342,"body_markdown":"My API is returning me this:\r\n\r\n```\r\n[\r\n    {\r\n        &quot;id&quot;: 1,\r\n        &quot;uuid&quot;: &quot;@B7304&quot;,\r\n        &quot;username&quot;: &quot;blabla&quot;,\r\n        &quot;hearthBeat&quot;: 30,\r\n        &quot;status&quot;: &quot;well&quot;,\r\n        &quot;date&quot;: &quot;13/05/1333&quot;,\r\n        &quot;latitute&quot;: 30,\r\n        &quot;longitude&quot;: 40,\r\n        &quot;cardiacSteps&quot;: 50\r\n    },\r\n    {\r\n        &quot;id&quot;: 2,\r\n        &quot;uuid&quot;: &quot;@B7304&quot;,\r\n        &quot;username&quot;: &quot;blabla&quot;,\r\n        &quot;hearthBeat&quot;: null,\r\n        &quot;status&quot;: null,\r\n        &quot;date&quot;: null,\r\n        &quot;latitute&quot;: null,\r\n        &quot;longitude&quot;: null,\r\n        &quot;cardiacSteps&quot;: null\r\n    }\r\n]\r\n```\r\n\r\nThe problem is, I would like to, on the array that is represented by the second ID, return a error message, as there is no data in it. Something like this:\r\n\r\n\r\n```\r\n[\r\n    {\r\n        &quot;id&quot;: 1,\r\n        &quot;uuid&quot;: &quot;@B7304&quot;,\r\n        &quot;username&quot;: &quot;blabla&quot;,\r\n        &quot;hearthBeat&quot;: 30,\r\n        &quot;status&quot;: &quot;well&quot;,\r\n        &quot;date&quot;: &quot;13/05/1333&quot;,\r\n        &quot;latitute&quot;: 30,\r\n        &quot;longitude&quot;: 40,\r\n        &quot;cardiacSteps&quot;: 50\r\n    },\r\n    {\r\n        &quot;uuid&quot;: @B7304,\r\n        &quot;message&quot;: &quot;This user has no data&quot;\r\n    }\r\n]\r\n```\r\n\r\n\r\nMy code is as follows:\r\n```\r\n    @GetMapping(&quot;/monitored&quot;)\r\n    @PreAuthorize(&quot;hasRole(&#39;USER&#39;) and hasRole(&#39;RESPONSIBLE&#39;)&quot;)\r\n    public Object returnMonitored() {\r\n\r\n        Authentication auth = SecurityContextHolder.getContext().getAuthentication();\r\n        Optional&lt;User&gt; username = userRepository.findByUsername(auth.getName());\r\n\r\n        List&lt;Dependency&gt; uuids = dependencyRepository.returnAllUserUuid(Objects.requireNonNull(username.orElse(null)).getUuid());\r\n        List&lt;Health&gt; health = new ArrayList&lt;&gt;();\r\n\r\n        uuids.forEach(uuid -&gt; {\r\n                    if (userRepository.existsByUuid(uuid.getUserUuid()) &amp;&amp; healthRepository.existsByUuid(uuid.getUserUuid())) {\r\n\r\n                        if(healthRepository.existsByUuid(uuid.getUserUuid()) &amp;&amp; healthRepository.isRegistered(uuid.getUserUuid())) {\r\n                            List&lt;Health&gt; healthList = healthRepository.returnAllUserUuid(uuid.getUserUuid());\r\n                            health.addAll(healthList);\r\n                        }\r\n                    }\r\n                }\r\n        );\r\n\r\n        if(health == null || health.isEmpty()) {\r\n            return ResponseEntity.ok().body(new MessageVo(&quot;You&#39;re not responsible for any user ;) &quot;));\r\n        }\r\n\r\n        return health;\r\n    }\r\n```\r\n\r\nWith this, I can&#39;t seem to override the specific response, as it is an List of the Entity(Health).\r\n\r\nThanks for your help!\r\n\r\n\r\n","title":"How to make a custom message from an already defined response on Spring","body":"<p>My API is returning me this:</p>\n<pre><code>[\n    {\n        &quot;id&quot;: 1,\n        &quot;uuid&quot;: &quot;@B7304&quot;,\n        &quot;username&quot;: &quot;blabla&quot;,\n        &quot;hearthBeat&quot;: 30,\n        &quot;status&quot;: &quot;well&quot;,\n        &quot;date&quot;: &quot;13/05/1333&quot;,\n        &quot;latitute&quot;: 30,\n        &quot;longitude&quot;: 40,\n        &quot;cardiacSteps&quot;: 50\n    },\n    {\n        &quot;id&quot;: 2,\n        &quot;uuid&quot;: &quot;@B7304&quot;,\n        &quot;username&quot;: &quot;blabla&quot;,\n        &quot;hearthBeat&quot;: null,\n        &quot;status&quot;: null,\n        &quot;date&quot;: null,\n        &quot;latitute&quot;: null,\n        &quot;longitude&quot;: null,\n        &quot;cardiacSteps&quot;: null\n    }\n]\n</code></pre>\n<p>The problem is, I would like to, on the array that is represented by the second ID, return a error message, as there is no data in it. Something like this:</p>\n<pre><code>[\n    {\n        &quot;id&quot;: 1,\n        &quot;uuid&quot;: &quot;@B7304&quot;,\n        &quot;username&quot;: &quot;blabla&quot;,\n        &quot;hearthBeat&quot;: 30,\n        &quot;status&quot;: &quot;well&quot;,\n        &quot;date&quot;: &quot;13/05/1333&quot;,\n        &quot;latitute&quot;: 30,\n        &quot;longitude&quot;: 40,\n        &quot;cardiacSteps&quot;: 50\n    },\n    {\n        &quot;uuid&quot;: @B7304,\n        &quot;message&quot;: &quot;This user has no data&quot;\n    }\n]\n</code></pre>\n<p>My code is as follows:</p>\n<pre><code>    @GetMapping(&quot;/monitored&quot;)\n    @PreAuthorize(&quot;hasRole('USER') and hasRole('RESPONSIBLE')&quot;)\n    public Object returnMonitored() {\n\n        Authentication auth = SecurityContextHolder.getContext().getAuthentication();\n        Optional&lt;User&gt; username = userRepository.findByUsername(auth.getName());\n\n        List&lt;Dependency&gt; uuids = dependencyRepository.returnAllUserUuid(Objects.requireNonNull(username.orElse(null)).getUuid());\n        List&lt;Health&gt; health = new ArrayList&lt;&gt;();\n\n        uuids.forEach(uuid -&gt; {\n                    if (userRepository.existsByUuid(uuid.getUserUuid()) &amp;&amp; healthRepository.existsByUuid(uuid.getUserUuid())) {\n\n                        if(healthRepository.existsByUuid(uuid.getUserUuid()) &amp;&amp; healthRepository.isRegistered(uuid.getUserUuid())) {\n                            List&lt;Health&gt; healthList = healthRepository.returnAllUserUuid(uuid.getUserUuid());\n                            health.addAll(healthList);\n                        }\n                    }\n                }\n        );\n\n        if(health == null || health.isEmpty()) {\n            return ResponseEntity.ok().body(new MessageVo(&quot;You're not responsible for any user ;) &quot;));\n        }\n\n        return health;\n    }\n</code></pre>\n<p>With this, I can't seem to override the specific response, as it is an List of the Entity(Health).</p>\n<p>Thanks for your help!</p>\n"},{"tags":["java","spring","multithreading","spring-boot","transactions"],"answers":[{"tags":[],"owner":{"account_id":11725107,"reputation":754,"user_id":8582685,"display_name":"Lee Greiner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632584973,"creation_date":1632584973,"answer_id":69327751,"question_id":69327491,"body_markdown":"What you are looking for is a pessimistic write lock. Remove `isolation = Isolation.SERIALIZABLE`, the `updateName()` method, and add the `@Lock(LockModeType.PESSIMISTIC_WRITE)` annotation to your `findByName()` repository method (or create a new method if you don&#39;t want to alter the default functionality provided by Spring Data JPA). There are different flavors of pessimistic write locks but this one meets your criteria. See [this Baeldung article][1] for more information about pessimistic locking.\r\n\r\n\r\n  [1]: https://www.baeldung.com/jpa-pessimistic-locking","title":"How can I ensure sequential access to data in Springboot with @Transactional?","body":"<p>What you are looking for is a pessimistic write lock. Remove <code>isolation = Isolation.SERIALIZABLE</code>, the <code>updateName()</code> method, and add the <code>@Lock(LockModeType.PESSIMISTIC_WRITE)</code> annotation to your <code>findByName()</code> repository method (or create a new method if you don't want to alter the default functionality provided by Spring Data JPA). There are different flavors of pessimistic write locks but this one meets your criteria. See <a href=\"https://www.baeldung.com/jpa-pessimistic-locking\" rel=\"nofollow noreferrer\">this Baeldung article</a> for more information about pessimistic locking.</p>\n"},{"tags":[],"owner":{"account_id":22858453,"reputation":1,"user_id":17002935,"display_name":"user17002935"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632587702,"creation_date":1632587702,"answer_id":69328091,"question_id":69327491,"body_markdown":"You have a deadlock — it&#39;s in the logs:\r\n```\r\ncom.mysql.cj.jdbc.exceptions.MySQLTransactionRollbackException: Deadlock found when trying to get lock; try restarting transaction\r\n```\r\n\r\nFrom MySQL [docs](https://dev.mysql.com/doc/refman/8.0/en/innodb-deadlocks-handling.html):\r\n&gt; Deadlocks are a classic problem in transactional databases, but they are not dangerous unless they are so frequent that you cannot run certain transactions at all. Normally, you must write your applications so that they are always prepared to re-issue a transaction if it gets rolled back because of a deadlock.\r\n\r\nOne possible solution would be to restart the transaction.\r\n\r\n---\r\n\r\nAdditionally:\r\n1. `Isolation.SERIALIZABLE` in MySQL [means](https://dev.mysql.com/doc/refman/8.0/en/innodb-transaction-isolation-levels.html#isolevel_serializable) that every `SELECT..` become `SELECT ... FOR SHARE`\r\n2. [in MySQL docs](https://dev.mysql.com/doc/refman/8.0/en/innodb-locking-reads.html) there is an example similar to yours and the recommendation is to use `FOR UPDATE` instead of `FOR SHARE`:\r\n  &gt;  Here, FOR SHARE is not a good solution because if two users read the counter at the same time, at least one of them ends up in deadlock when it attempts to update the counter.  \r\n  &gt; To implement reading and incrementing the counter, first perform a locking read of the counter using FOR UPDATE, and then increment the counter.\r\n\r\nSo you might also want to try `FOR UPDATE` as well (this might how the update command fixes the problem in your 2nd example).  \r\nAs written in [the answer above](https://stackoverflow.com/a/69327751), `LockModeType.PESSIMISTIC_WRITE` should do that.\r\n\r\nUnfortunatelly, I don&#39;t know if `FOR UPDATE` eliminates deadlocks entirely or just reduces their frequency.","title":"How can I ensure sequential access to data in Springboot with @Transactional?","body":"<p>You have a deadlock — it's in the logs:</p>\n<pre><code>com.mysql.cj.jdbc.exceptions.MySQLTransactionRollbackException: Deadlock found when trying to get lock; try restarting transaction\n</code></pre>\n<p>From MySQL <a href=\"https://dev.mysql.com/doc/refman/8.0/en/innodb-deadlocks-handling.html\" rel=\"nofollow noreferrer\">docs</a>:</p>\n<blockquote>\n<p>Deadlocks are a classic problem in transactional databases, but they are not dangerous unless they are so frequent that you cannot run certain transactions at all. Normally, you must write your applications so that they are always prepared to re-issue a transaction if it gets rolled back because of a deadlock.</p>\n</blockquote>\n<p>One possible solution would be to restart the transaction.</p>\n<hr />\n<p>Additionally:</p>\n<ol>\n<li><code>Isolation.SERIALIZABLE</code> in MySQL <a href=\"https://dev.mysql.com/doc/refman/8.0/en/innodb-transaction-isolation-levels.html#isolevel_serializable\" rel=\"nofollow noreferrer\">means</a> that every <code>SELECT..</code> become <code>SELECT ... FOR SHARE</code></li>\n<li><a href=\"https://dev.mysql.com/doc/refman/8.0/en/innodb-locking-reads.html\" rel=\"nofollow noreferrer\">in MySQL docs</a> there is an example similar to yours and the recommendation is to use <code>FOR UPDATE</code> instead of <code>FOR SHARE</code>:</li>\n</ol>\n<blockquote>\n<p>Here, FOR SHARE is not a good solution because if two users read the counter at the same time, at least one of them ends up in deadlock when it attempts to update the counter.<br />\nTo implement reading and incrementing the counter, first perform a locking read of the counter using FOR UPDATE, and then increment the counter.</p>\n</blockquote>\n<p>So you might also want to try <code>FOR UPDATE</code> as well (this might how the update command fixes the problem in your 2nd example).<br />\nAs written in <a href=\"https://stackoverflow.com/a/69327751\">the answer above</a>, <code>LockModeType.PESSIMISTIC_WRITE</code> should do that.</p>\n<p>Unfortunatelly, I don't know if <code>FOR UPDATE</code> eliminates deadlocks entirely or just reduces their frequency.</p>\n"}],"owner":{"account_id":6868391,"reputation":1588,"user_id":5279855,"accept_rate":32,"display_name":"Auro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":638,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1632587702,"creation_date":1632583242,"question_id":69327491,"body_markdown":"I have a requirement where a request is going to read a row from a MySQL database and update it based on the value it read from the row and while that request is being served, if there&#39;s any other request that&#39;s trying to do the same on that particular row, it would be halted until the first request is served. This would mean that if TXN1 comes and reads the value 1 from the row and updates it to 2, if there are other transactions trying to do the same at the same time, they should not even be able to read that particular row until the first transaction is done. \r\n\r\nI was going through different levels of isolation in Springboot&#39;s `@Transactional` annotation and `Isolation.SERIALIZABLE` sounded a lot like what I wanted.\r\n\r\nSo I created the following **TestEntity.java**\r\n\r\n    @Entity(name = &quot;test&quot;)\r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class TestEntity {\r\n    \r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        @Id\r\n        private Long id;\r\n    \r\n        @Column(unique = true)\r\n        private String name;\r\n    \r\n        private Long count;\r\n    \r\n    }\r\n\r\n\r\nAlong with that, I also created the following **TestRepository.java**\r\n\r\n    public interface TestRepository extends JpaRepository&lt;TestEntity, Long&gt; {\r\n    \r\n        TestEntity findByName(final String name);\r\n    }\r\n\r\nAlong with that I have a simple controller that receives a request and tries to update the count\r\n\r\n**TestV2Controller.java**\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;test/v2&quot;)\r\n    @Slf4j\r\n    public class TestV2Controller {\r\n    \r\n        @Autowired\r\n        private TestRepository testRepository;\r\n    \r\n        @GetMapping\r\n        @Transactional(isolation = Isolation.SERIALIZABLE)\r\n        public void test() {\r\n            log.info(&quot;Reading from DB&quot;);\r\n            final var entity = testRepository.findByName(&quot;Jake&quot;);\r\n            log.info(&quot;Retrieved Entity: {}&quot;, entity);\r\n            entity.setCount(entity.getCount() + 1);\r\n            log.info(&quot;Modified Entity: {}&quot;, entity);\r\n        }\r\n    \r\n        .........\r\n        .........\r\n    }\r\n\r\nI test my API with 5 concurrent requests.\r\n\r\nIf my understanding is correct, the `@Transactional(isolation = Isolation.SERIALIZABLE)` should cause 5 separate transactions, all trying to read and modify the row. At this point, one should succeed and acquire a lock on the row, causing every other transactions to wait (not even able to read).\r\n\r\nBut as you can see from the logs below, all 5 transactions are able to read the row all at the same time. What is ever more puzzling is that, except for one transaction, all other transactions are failing to update rather than wait and update. And in the DB, the count becomes only 2 from 1 instead of 6.\r\n\r\n\r\n    2021-09-25 19:59:00.878  INFO 42623 --- [nio-8001-exec-3] i.t.t.a.test.TestV2Controller            : Reading from DB\r\n    2021-09-25 19:59:00.878  INFO 42623 --- [nio-8001-exec-4] i.t.t.a.test.TestV2Controller            : Reading from DB\r\n    2021-09-25 19:59:00.878  INFO 42623 --- [nio-8001-exec-5] i.t.t.a.test.TestV2Controller            : Reading from DB\r\n    2021-09-25 19:59:00.879  INFO 42623 --- [nio-8001-exec-7] i.t.t.a.test.TestV2Controller            : Reading from DB\r\n    2021-09-25 19:59:00.879  INFO 42623 --- [nio-8001-exec-6] i.t.t.a.test.TestV2Controller            : Reading from DB\r\n    2021-09-25 19:59:00.938  INFO 42623 --- [nio-8001-exec-3] i.t.t.a.test.TestV2Controller            : Retrieved Entity: TestEntity(id=31, name=Jake, count=1)\r\n    2021-09-25 19:59:00.938  INFO 42623 --- [nio-8001-exec-6] i.t.t.a.test.TestV2Controller            : Retrieved Entity: TestEntity(id=31, name=Jake, count=1)\r\n    2021-09-25 19:59:00.938  INFO 42623 --- [nio-8001-exec-5] i.t.t.a.test.TestV2Controller            : Retrieved Entity: TestEntity(id=31, name=Jake, count=1)\r\n    2021-09-25 19:59:00.938  INFO 42623 --- [nio-8001-exec-7] i.t.t.a.test.TestV2Controller            : Retrieved Entity: TestEntity(id=31, name=Jake, count=1)\r\n    2021-09-25 19:59:00.938  INFO 42623 --- [nio-8001-exec-3] i.t.t.a.test.TestV2Controller            : Modified Entity: TestEntity(id=31, name=Jake, count=2)\r\n    2021-09-25 19:59:00.938  INFO 42623 --- [nio-8001-exec-6] i.t.t.a.test.TestV2Controller            : Modified Entity: TestEntity(id=31, name=Jake, count=2)\r\n    2021-09-25 19:59:00.938  INFO 42623 --- [nio-8001-exec-5] i.t.t.a.test.TestV2Controller            : Modified Entity: TestEntity(id=31, name=Jake, count=2)\r\n    2021-09-25 19:59:00.938  INFO 42623 --- [nio-8001-exec-7] i.t.t.a.test.TestV2Controller            : Modified Entity: TestEntity(id=31, name=Jake, count=2)\r\n    2021-09-25 19:59:00.938  INFO 42623 --- [nio-8001-exec-4] i.t.t.a.test.TestV2Controller            : Retrieved Entity: TestEntity(id=31, name=Jake, count=1)\r\n    2021-09-25 19:59:00.938  INFO 42623 --- [nio-8001-exec-4] i.t.t.a.test.TestV2Controller            : Modified Entity: TestEntity(id=31, name=Jake, count=2)\r\n    2021-09-25 19:59:00.940  WARN 42623 --- [nio-8001-exec-3] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1213, SQLState: 40001\r\n    2021-09-25 19:59:00.940  WARN 42623 --- [nio-8001-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1213, SQLState: 40001\r\n    2021-09-25 19:59:00.940  WARN 42623 --- [nio-8001-exec-6] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1213, SQLState: 40001\r\n    2021-09-25 19:59:00.940  WARN 42623 --- [nio-8001-exec-7] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1213, SQLState: 40001\r\n    2021-09-25 19:59:00.940 ERROR 42623 --- [nio-8001-exec-3] o.h.engine.jdbc.spi.SqlExceptionHelper   : Deadlock found when trying to get lock; try restarting transaction\r\n    2021-09-25 19:59:00.940 ERROR 42623 --- [nio-8001-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : Deadlock found when trying to get lock; try restarting transaction\r\n    2021-09-25 19:59:00.940 ERROR 42623 --- [nio-8001-exec-6] o.h.engine.jdbc.spi.SqlExceptionHelper   : Deadlock found when trying to get lock; try restarting transaction\r\n    2021-09-25 19:59:00.940 ERROR 42623 --- [nio-8001-exec-7] o.h.engine.jdbc.spi.SqlExceptionHelper   : Deadlock found when trying to get lock; try restarting transaction\r\n    2021-09-25 19:59:00.945 ERROR 42623 --- [nio-8001-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.CannotAcquireLockException: could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.LockAcquisitionException: could not execute statement] with root cause\r\n    \r\n    com.mysql.cj.jdbc.exceptions.MySQLTransactionRollbackException: Deadlock found when trying to get lock; try restarting transaction\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:123) ~[mysql-connector-java-8.0.26.jar:8.0.26]\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.26.jar:8.0.26]\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953) ~[mysql-connector-java-8.0.26.jar:8.0.26]\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1092) ~[mysql-connector-java-8.0.26.jar:8.0.26]\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1040) ~[mysql-connector-java-8.0.26.jar:8.0.26]\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1350) ~[mysql-connector-java-8.0.26.jar:8.0.26]\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1025) ~[mysql-connector-java-8.0.26.jar:8.0.26]\r\n    \tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-4.0.3.jar:na]\r\n    \tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-4.0.3.jar:na]\r\n    \tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-5.5.7.Final.jar:5.5.7.Final]\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3574) ~[hibernate-core-5.5.7.Final.jar:5.5.7.Final]\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3436) ~[hibernate-core-5.5.7.Final.jar:5.5.7.Final]\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3850) ~[hibernate-core-5.5.7.Final.jar:5.5.7.Final]\r\n    \tat org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:201) ~[hibernate-core-5.5.7.Final.jar:5.5.7.Final]\r\n    \tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604) ~[hibernate-core-5.5.7.Final.jar:5.5.7.Final]\r\n    \tat org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478) ~[hibernate-core-5.5.7.Final.jar:5.5.7.Final]\r\n    \tat java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:723) ~[na:na]\r\n    \tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475) ~[hibernate-core-5.5.7.Final.jar:5.5.7.Final]\r\n    \tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:344) ~[hibernate-core-5.5.7.Final.jar:5.5.7.Final]\r\n    \tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40) ~[hibernate-core-5.5.7.Final.jar:5.5.7.Final]\r\n    \tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.5.7.Final.jar:5.5.7.Final]\r\n    \tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1391) ~[hibernate-core-5.5.7.Final.jar:5.5.7.Final]\r\n    \tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:482) ~[hibernate-core-5.5.7.Final.jar:5.5.7.Final]\r\n    \tat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3274) ~[hibernate-core-5.5.7.Final.jar:5.5.7.Final]\r\n    \tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2409) ~[hibernate-core-5.5.7.Final.jar:5.5.7.Final]\r\n    \tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449) ~[hibernate-core-5.5.7.Final.jar:5.5.7.Final]\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183) ~[hibernate-core-5.5.7.Final.jar:5.5.7.Final]\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40) ~[hibernate-core-5.5.7.Final.jar:5.5.7.Final]\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281) ~[hibernate-core-5.5.7.Final.jar:5.5.7.Final]\r\n    \tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-5.5.7.Final.jar:5.5.7.Final]\r\n    \tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743) ~[spring-tx-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711) ~[spring-tx-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654) ~[spring-tx-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407) ~[spring-tx-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692) ~[spring-aop-5.3.10.jar:5.3.10]\r\n    \tat in.turls.teenyurl.apigatewayservice.test.TestV2Controller$$EnhancerBySpringCGLIB$$c3571c40.test(&lt;generated&gt;) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.10.jar:5.3.10]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.53.jar:4.0.FR]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.10.jar:5.3.10]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.53.jar:4.0.FR]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.6.0-SNAPSHOT.jar:2.6.0-SNAPSHOT]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]\r\n    \r\n    2021-09-25 19:59:00.945 ERROR 42623 --- [nio-8001-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.CannotAcquireLockException: could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.LockAcquisitionException: could not execute statement] with root cause\r\n    \r\n    com.mysql.cj.jdbc.exceptions.MySQLTransactionRollbackException: Deadlock found when trying to get lock; try restarting transaction\r\n    \t... same error stack as the one above ...\r\n    \r\n    2021-09-25 19:59:00.945 ERROR 42623 --- [nio-8001-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.CannotAcquireLockException: could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.LockAcquisitionException: could not execute statement] with root cause\r\n    \r\n    com.mysql.cj.jdbc.exceptions.MySQLTransactionRollbackException: Deadlock found when trying to get lock; try restarting transaction\r\n    \t... same error stack as the one above ...\r\n    \r\n    2021-09-25 19:59:00.945 ERROR 42623 --- [nio-8001-exec-7] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.CannotAcquireLockException: could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.LockAcquisitionException: could not execute statement] with root cause\r\n    \r\n    com.mysql.cj.jdbc.exceptions.MySQLTransactionRollbackException: Deadlock found when trying to get lock; try restarting transaction\r\n    \t... same error stack as the one above ...\r\n\r\n\r\nThis behavior, however, changes and becomes sequential when I issue an update command just before reading\r\n\r\nSo my modified **TestRepository.java** looks like this\r\n\r\n    public interface TestRepository extends JpaRepository&lt;TestEntity, Long&gt; {\r\n    \r\n        TestEntity findByName(final String name);\r\n    \r\n        @Modifying\r\n        @Query(&quot;UPDATE test t SET t.name = ?1 WHERE t.name = ?1&quot;)\r\n        void updateName(final String name);\r\n    }\r\n\r\n\r\nAnd my modified controller method becomes like this:\r\n\r\n    @GetMapping\r\n    @Transactional(isolation = Isolation.SERIALIZABLE)\r\n    public void test() {\r\n        log.info(&quot;Reading from DB&quot;);\r\n        testRepository.updateName(&quot;Jake&quot;);\r\n        final var entity = testRepository.findByName(&quot;Jake&quot;);\r\n        log.info(&quot;Retrieved Entity: {}&quot;, entity);\r\n        entity.setCount(entity.getCount() + 1);\r\n        log.info(&quot;Modified Entity: {}&quot;, entity);\r\n    }\r\n\r\n\r\nI run the same concurrent requests with initial count value in DB as 2 and below are the logs of it:\r\n\r\n    2021-09-25 20:30:08.338  INFO 44754 --- [nio-8001-exec-4] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n    2021-09-25 20:30:08.338  INFO 44754 --- [nio-8001-exec-4] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n    2021-09-25 20:30:08.339  INFO 44754 --- [nio-8001-exec-4] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\r\n    2021-09-25 20:30:08.359  INFO 44754 --- [nio-8001-exec-2] i.t.t.a.test.TestV2Controller            : Reading from DB\r\n    2021-09-25 20:30:08.359  INFO 44754 --- [nio-8001-exec-1] i.t.t.a.test.TestV2Controller            : Reading from DB\r\n    2021-09-25 20:30:08.359  INFO 44754 --- [nio-8001-exec-5] i.t.t.a.test.TestV2Controller            : Reading from DB\r\n    2021-09-25 20:30:08.359  INFO 44754 --- [nio-8001-exec-4] i.t.t.a.test.TestV2Controller            : Reading from DB\r\n    2021-09-25 20:30:08.359  INFO 44754 --- [nio-8001-exec-3] i.t.t.a.test.TestV2Controller            : Reading from DB\r\n    2021-09-25 20:30:08.394  INFO 44754 --- [nio-8001-exec-2] i.t.t.a.test.TestV2Controller            : Retrieved Entity: TestEntity(id=31, name=Jake, count=2)\r\n    2021-09-25 20:30:08.394  INFO 44754 --- [nio-8001-exec-2] i.t.t.a.test.TestV2Controller            : Modified Entity: TestEntity(id=31, name=Jake, count=3)\r\n    2021-09-25 20:30:08.423  INFO 44754 --- [nio-8001-exec-4] i.t.t.a.test.TestV2Controller            : Retrieved Entity: TestEntity(id=31, name=Jake, count=3)\r\n    2021-09-25 20:30:08.423  INFO 44754 --- [nio-8001-exec-4] i.t.t.a.test.TestV2Controller            : Modified Entity: TestEntity(id=31, name=Jake, count=4)\r\n    2021-09-25 20:30:08.428  INFO 44754 --- [nio-8001-exec-5] i.t.t.a.test.TestV2Controller            : Retrieved Entity: TestEntity(id=31, name=Jake, count=4)\r\n    2021-09-25 20:30:08.428  INFO 44754 --- [nio-8001-exec-5] i.t.t.a.test.TestV2Controller            : Modified Entity: TestEntity(id=31, name=Jake, count=5)\r\n    2021-09-25 20:30:08.432  INFO 44754 --- [nio-8001-exec-3] i.t.t.a.test.TestV2Controller            : Retrieved Entity: TestEntity(id=31, name=Jake, count=5)\r\n    2021-09-25 20:30:08.432  INFO 44754 --- [nio-8001-exec-3] i.t.t.a.test.TestV2Controller            : Modified Entity: TestEntity(id=31, name=Jake, count=6)\r\n    2021-09-25 20:30:08.435  INFO 44754 --- [nio-8001-exec-1] i.t.t.a.test.TestV2Controller            : Retrieved Entity: TestEntity(id=31, name=Jake, count=6)\r\n    2021-09-25 20:30:08.435  INFO 44754 --- [nio-8001-exec-1] i.t.t.a.test.TestV2Controller            : Modified Entity: TestEntity(id=31, name=Jake, count=7)\r\n\r\n\r\nAs a matter of fact, I don&#39;t even need `Isolation.SERIALIZABLE`. It behaves the same way with that `@Transactional` annotation.\r\n\r\nThe count value in the DB becomes 7 from 2 as expected.\r\n\r\nSo what is going on here? Why is isolation level `SERIALIZABLE` allowing concurrent reads and then allowing only one to succeed, failing all others? Should it not allow all operations to go through one after another?\r\n\r\nTo me it seems like, unless I issue an update command, all transactions have a **shared read-lock**, which allows all of them to read. And in the next scenario, when an update command is issued before read, it creates an **exclusive write-lock**, which forces every other transaction to wait and go through sequentially. \r\n\r\nIs there something wrong with my understanding of serializable? Is this how it&#39;s supposed to behave? How can I achieve the same behavior (read-update exclusively) without issuing an update command before reading?\r\n\r\nThank you for your time","title":"How can I ensure sequential access to data in Springboot with @Transactional?","body":"<p>I have a requirement where a request is going to read a row from a MySQL database and update it based on the value it read from the row and while that request is being served, if there's any other request that's trying to do the same on that particular row, it would be halted until the first request is served. This would mean that if TXN1 comes and reads the value 1 from the row and updates it to 2, if there are other transactions trying to do the same at the same time, they should not even be able to read that particular row until the first transaction is done.</p>\n<p>I was going through different levels of isolation in Springboot's <code>@Transactional</code> annotation and <code>Isolation.SERIALIZABLE</code> sounded a lot like what I wanted.</p>\n<p>So I created the following <strong>TestEntity.java</strong></p>\n<pre><code>@Entity(name = &quot;test&quot;)\n@Getter\n@Setter\n@ToString\n@NoArgsConstructor\n@AllArgsConstructor\npublic class TestEntity {\n\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Id\n    private Long id;\n\n    @Column(unique = true)\n    private String name;\n\n    private Long count;\n\n}\n</code></pre>\n<p>Along with that, I also created the following <strong>TestRepository.java</strong></p>\n<pre><code>public interface TestRepository extends JpaRepository&lt;TestEntity, Long&gt; {\n\n    TestEntity findByName(final String name);\n}\n</code></pre>\n<p>Along with that I have a simple controller that receives a request and tries to update the count</p>\n<p><strong>TestV2Controller.java</strong></p>\n<pre><code>@RestController\n@RequestMapping(&quot;test/v2&quot;)\n@Slf4j\npublic class TestV2Controller {\n\n    @Autowired\n    private TestRepository testRepository;\n\n    @GetMapping\n    @Transactional(isolation = Isolation.SERIALIZABLE)\n    public void test() {\n        log.info(&quot;Reading from DB&quot;);\n        final var entity = testRepository.findByName(&quot;Jake&quot;);\n        log.info(&quot;Retrieved Entity: {}&quot;, entity);\n        entity.setCount(entity.getCount() + 1);\n        log.info(&quot;Modified Entity: {}&quot;, entity);\n    }\n\n    .........\n    .........\n}\n</code></pre>\n<p>I test my API with 5 concurrent requests.</p>\n<p>If my understanding is correct, the <code>@Transactional(isolation = Isolation.SERIALIZABLE)</code> should cause 5 separate transactions, all trying to read and modify the row. At this point, one should succeed and acquire a lock on the row, causing every other transactions to wait (not even able to read).</p>\n<p>But as you can see from the logs below, all 5 transactions are able to read the row all at the same time. What is ever more puzzling is that, except for one transaction, all other transactions are failing to update rather than wait and update. And in the DB, the count becomes only 2 from 1 instead of 6.</p>\n<pre><code>2021-09-25 19:59:00.878  INFO 42623 --- [nio-8001-exec-3] i.t.t.a.test.TestV2Controller            : Reading from DB\n2021-09-25 19:59:00.878  INFO 42623 --- [nio-8001-exec-4] i.t.t.a.test.TestV2Controller            : Reading from DB\n2021-09-25 19:59:00.878  INFO 42623 --- [nio-8001-exec-5] i.t.t.a.test.TestV2Controller            : Reading from DB\n2021-09-25 19:59:00.879  INFO 42623 --- [nio-8001-exec-7] i.t.t.a.test.TestV2Controller            : Reading from DB\n2021-09-25 19:59:00.879  INFO 42623 --- [nio-8001-exec-6] i.t.t.a.test.TestV2Controller            : Reading from DB\n2021-09-25 19:59:00.938  INFO 42623 --- [nio-8001-exec-3] i.t.t.a.test.TestV2Controller            : Retrieved Entity: TestEntity(id=31, name=Jake, count=1)\n2021-09-25 19:59:00.938  INFO 42623 --- [nio-8001-exec-6] i.t.t.a.test.TestV2Controller            : Retrieved Entity: TestEntity(id=31, name=Jake, count=1)\n2021-09-25 19:59:00.938  INFO 42623 --- [nio-8001-exec-5] i.t.t.a.test.TestV2Controller            : Retrieved Entity: TestEntity(id=31, name=Jake, count=1)\n2021-09-25 19:59:00.938  INFO 42623 --- [nio-8001-exec-7] i.t.t.a.test.TestV2Controller            : Retrieved Entity: TestEntity(id=31, name=Jake, count=1)\n2021-09-25 19:59:00.938  INFO 42623 --- [nio-8001-exec-3] i.t.t.a.test.TestV2Controller            : Modified Entity: TestEntity(id=31, name=Jake, count=2)\n2021-09-25 19:59:00.938  INFO 42623 --- [nio-8001-exec-6] i.t.t.a.test.TestV2Controller            : Modified Entity: TestEntity(id=31, name=Jake, count=2)\n2021-09-25 19:59:00.938  INFO 42623 --- [nio-8001-exec-5] i.t.t.a.test.TestV2Controller            : Modified Entity: TestEntity(id=31, name=Jake, count=2)\n2021-09-25 19:59:00.938  INFO 42623 --- [nio-8001-exec-7] i.t.t.a.test.TestV2Controller            : Modified Entity: TestEntity(id=31, name=Jake, count=2)\n2021-09-25 19:59:00.938  INFO 42623 --- [nio-8001-exec-4] i.t.t.a.test.TestV2Controller            : Retrieved Entity: TestEntity(id=31, name=Jake, count=1)\n2021-09-25 19:59:00.938  INFO 42623 --- [nio-8001-exec-4] i.t.t.a.test.TestV2Controller            : Modified Entity: TestEntity(id=31, name=Jake, count=2)\n2021-09-25 19:59:00.940  WARN 42623 --- [nio-8001-exec-3] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1213, SQLState: 40001\n2021-09-25 19:59:00.940  WARN 42623 --- [nio-8001-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1213, SQLState: 40001\n2021-09-25 19:59:00.940  WARN 42623 --- [nio-8001-exec-6] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1213, SQLState: 40001\n2021-09-25 19:59:00.940  WARN 42623 --- [nio-8001-exec-7] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1213, SQLState: 40001\n2021-09-25 19:59:00.940 ERROR 42623 --- [nio-8001-exec-3] o.h.engine.jdbc.spi.SqlExceptionHelper   : Deadlock found when trying to get lock; try restarting transaction\n2021-09-25 19:59:00.940 ERROR 42623 --- [nio-8001-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : Deadlock found when trying to get lock; try restarting transaction\n2021-09-25 19:59:00.940 ERROR 42623 --- [nio-8001-exec-6] o.h.engine.jdbc.spi.SqlExceptionHelper   : Deadlock found when trying to get lock; try restarting transaction\n2021-09-25 19:59:00.940 ERROR 42623 --- [nio-8001-exec-7] o.h.engine.jdbc.spi.SqlExceptionHelper   : Deadlock found when trying to get lock; try restarting transaction\n2021-09-25 19:59:00.945 ERROR 42623 --- [nio-8001-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.CannotAcquireLockException: could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.LockAcquisitionException: could not execute statement] with root cause\n\ncom.mysql.cj.jdbc.exceptions.MySQLTransactionRollbackException: Deadlock found when trying to get lock; try restarting transaction\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:123) ~[mysql-connector-java-8.0.26.jar:8.0.26]\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.26.jar:8.0.26]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953) ~[mysql-connector-java-8.0.26.jar:8.0.26]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1092) ~[mysql-connector-java-8.0.26.jar:8.0.26]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1040) ~[mysql-connector-java-8.0.26.jar:8.0.26]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1350) ~[mysql-connector-java-8.0.26.jar:8.0.26]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1025) ~[mysql-connector-java-8.0.26.jar:8.0.26]\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-4.0.3.jar:na]\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-5.5.7.Final.jar:5.5.7.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3574) ~[hibernate-core-5.5.7.Final.jar:5.5.7.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3436) ~[hibernate-core-5.5.7.Final.jar:5.5.7.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3850) ~[hibernate-core-5.5.7.Final.jar:5.5.7.Final]\n    at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:201) ~[hibernate-core-5.5.7.Final.jar:5.5.7.Final]\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604) ~[hibernate-core-5.5.7.Final.jar:5.5.7.Final]\n    at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478) ~[hibernate-core-5.5.7.Final.jar:5.5.7.Final]\n    at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:723) ~[na:na]\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475) ~[hibernate-core-5.5.7.Final.jar:5.5.7.Final]\n    at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:344) ~[hibernate-core-5.5.7.Final.jar:5.5.7.Final]\n    at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40) ~[hibernate-core-5.5.7.Final.jar:5.5.7.Final]\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.5.7.Final.jar:5.5.7.Final]\n    at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1391) ~[hibernate-core-5.5.7.Final.jar:5.5.7.Final]\n    at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:482) ~[hibernate-core-5.5.7.Final.jar:5.5.7.Final]\n    at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3274) ~[hibernate-core-5.5.7.Final.jar:5.5.7.Final]\n    at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2409) ~[hibernate-core-5.5.7.Final.jar:5.5.7.Final]\n    at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449) ~[hibernate-core-5.5.7.Final.jar:5.5.7.Final]\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183) ~[hibernate-core-5.5.7.Final.jar:5.5.7.Final]\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40) ~[hibernate-core-5.5.7.Final.jar:5.5.7.Final]\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281) ~[hibernate-core-5.5.7.Final.jar:5.5.7.Final]\n    at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-5.5.7.Final.jar:5.5.7.Final]\n    at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-5.3.10.jar:5.3.10]\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743) ~[spring-tx-5.3.10.jar:5.3.10]\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711) ~[spring-tx-5.3.10.jar:5.3.10]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654) ~[spring-tx-5.3.10.jar:5.3.10]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407) ~[spring-tx-5.3.10.jar:5.3.10]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.10.jar:5.3.10]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.10.jar:5.3.10]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.10.jar:5.3.10]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692) ~[spring-aop-5.3.10.jar:5.3.10]\n    at in.turls.teenyurl.apigatewayservice.test.TestV2Controller$$EnhancerBySpringCGLIB$$c3571c40.test(&lt;generated&gt;) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.10.jar:5.3.10]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.10.jar:5.3.10]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.10.jar:5.3.10]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.10.jar:5.3.10]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.10.jar:5.3.10]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.10.jar:5.3.10]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.10.jar:5.3.10]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.10.jar:5.3.10]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.10.jar:5.3.10]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.10.jar:5.3.10]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.53.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.10.jar:5.3.10]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.53.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.10.jar:5.3.10]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.10.jar:5.3.10]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.6.0-SNAPSHOT.jar:2.6.0-SNAPSHOT]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.10.jar:5.3.10]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]\n\n2021-09-25 19:59:00.945 ERROR 42623 --- [nio-8001-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.CannotAcquireLockException: could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.LockAcquisitionException: could not execute statement] with root cause\n\ncom.mysql.cj.jdbc.exceptions.MySQLTransactionRollbackException: Deadlock found when trying to get lock; try restarting transaction\n    ... same error stack as the one above ...\n\n2021-09-25 19:59:00.945 ERROR 42623 --- [nio-8001-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.CannotAcquireLockException: could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.LockAcquisitionException: could not execute statement] with root cause\n\ncom.mysql.cj.jdbc.exceptions.MySQLTransactionRollbackException: Deadlock found when trying to get lock; try restarting transaction\n    ... same error stack as the one above ...\n\n2021-09-25 19:59:00.945 ERROR 42623 --- [nio-8001-exec-7] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.CannotAcquireLockException: could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.LockAcquisitionException: could not execute statement] with root cause\n\ncom.mysql.cj.jdbc.exceptions.MySQLTransactionRollbackException: Deadlock found when trying to get lock; try restarting transaction\n    ... same error stack as the one above ...\n</code></pre>\n<p>This behavior, however, changes and becomes sequential when I issue an update command just before reading</p>\n<p>So my modified <strong>TestRepository.java</strong> looks like this</p>\n<pre><code>public interface TestRepository extends JpaRepository&lt;TestEntity, Long&gt; {\n\n    TestEntity findByName(final String name);\n\n    @Modifying\n    @Query(&quot;UPDATE test t SET t.name = ?1 WHERE t.name = ?1&quot;)\n    void updateName(final String name);\n}\n</code></pre>\n<p>And my modified controller method becomes like this:</p>\n<pre><code>@GetMapping\n@Transactional(isolation = Isolation.SERIALIZABLE)\npublic void test() {\n    log.info(&quot;Reading from DB&quot;);\n    testRepository.updateName(&quot;Jake&quot;);\n    final var entity = testRepository.findByName(&quot;Jake&quot;);\n    log.info(&quot;Retrieved Entity: {}&quot;, entity);\n    entity.setCount(entity.getCount() + 1);\n    log.info(&quot;Modified Entity: {}&quot;, entity);\n}\n</code></pre>\n<p>I run the same concurrent requests with initial count value in DB as 2 and below are the logs of it:</p>\n<pre><code>2021-09-25 20:30:08.338  INFO 44754 --- [nio-8001-exec-4] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2021-09-25 20:30:08.338  INFO 44754 --- [nio-8001-exec-4] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2021-09-25 20:30:08.339  INFO 44754 --- [nio-8001-exec-4] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\n2021-09-25 20:30:08.359  INFO 44754 --- [nio-8001-exec-2] i.t.t.a.test.TestV2Controller            : Reading from DB\n2021-09-25 20:30:08.359  INFO 44754 --- [nio-8001-exec-1] i.t.t.a.test.TestV2Controller            : Reading from DB\n2021-09-25 20:30:08.359  INFO 44754 --- [nio-8001-exec-5] i.t.t.a.test.TestV2Controller            : Reading from DB\n2021-09-25 20:30:08.359  INFO 44754 --- [nio-8001-exec-4] i.t.t.a.test.TestV2Controller            : Reading from DB\n2021-09-25 20:30:08.359  INFO 44754 --- [nio-8001-exec-3] i.t.t.a.test.TestV2Controller            : Reading from DB\n2021-09-25 20:30:08.394  INFO 44754 --- [nio-8001-exec-2] i.t.t.a.test.TestV2Controller            : Retrieved Entity: TestEntity(id=31, name=Jake, count=2)\n2021-09-25 20:30:08.394  INFO 44754 --- [nio-8001-exec-2] i.t.t.a.test.TestV2Controller            : Modified Entity: TestEntity(id=31, name=Jake, count=3)\n2021-09-25 20:30:08.423  INFO 44754 --- [nio-8001-exec-4] i.t.t.a.test.TestV2Controller            : Retrieved Entity: TestEntity(id=31, name=Jake, count=3)\n2021-09-25 20:30:08.423  INFO 44754 --- [nio-8001-exec-4] i.t.t.a.test.TestV2Controller            : Modified Entity: TestEntity(id=31, name=Jake, count=4)\n2021-09-25 20:30:08.428  INFO 44754 --- [nio-8001-exec-5] i.t.t.a.test.TestV2Controller            : Retrieved Entity: TestEntity(id=31, name=Jake, count=4)\n2021-09-25 20:30:08.428  INFO 44754 --- [nio-8001-exec-5] i.t.t.a.test.TestV2Controller            : Modified Entity: TestEntity(id=31, name=Jake, count=5)\n2021-09-25 20:30:08.432  INFO 44754 --- [nio-8001-exec-3] i.t.t.a.test.TestV2Controller            : Retrieved Entity: TestEntity(id=31, name=Jake, count=5)\n2021-09-25 20:30:08.432  INFO 44754 --- [nio-8001-exec-3] i.t.t.a.test.TestV2Controller            : Modified Entity: TestEntity(id=31, name=Jake, count=6)\n2021-09-25 20:30:08.435  INFO 44754 --- [nio-8001-exec-1] i.t.t.a.test.TestV2Controller            : Retrieved Entity: TestEntity(id=31, name=Jake, count=6)\n2021-09-25 20:30:08.435  INFO 44754 --- [nio-8001-exec-1] i.t.t.a.test.TestV2Controller            : Modified Entity: TestEntity(id=31, name=Jake, count=7)\n</code></pre>\n<p>As a matter of fact, I don't even need <code>Isolation.SERIALIZABLE</code>. It behaves the same way with that <code>@Transactional</code> annotation.</p>\n<p>The count value in the DB becomes 7 from 2 as expected.</p>\n<p>So what is going on here? Why is isolation level <code>SERIALIZABLE</code> allowing concurrent reads and then allowing only one to succeed, failing all others? Should it not allow all operations to go through one after another?</p>\n<p>To me it seems like, unless I issue an update command, all transactions have a <strong>shared read-lock</strong>, which allows all of them to read. And in the next scenario, when an update command is issued before read, it creates an <strong>exclusive write-lock</strong>, which forces every other transaction to wait and go through sequentially.</p>\n<p>Is there something wrong with my understanding of serializable? Is this how it's supposed to behave? How can I achieve the same behavior (read-update exclusively) without issuing an update command before reading?</p>\n<p>Thank you for your time</p>\n"},{"tags":["java","spring-boot","spring-mvc","jsp","spring-security"],"comments":[{"owner":{"account_id":11884699,"reputation":497,"user_id":8697412,"display_name":"Barracuda"},"score":0,"creation_date":1632569633,"post_id":69325528,"comment_id":122531574,"body_markdown":"What exception do you get when you try to access static resources?","body":"What exception do you get when you try to access static resources?"}],"answers":[{"tags":[],"owner":{"account_id":11725107,"reputation":754,"user_id":8582685,"display_name":"Lee Greiner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632587109,"creation_date":1632587109,"answer_id":69328025,"question_id":69325528,"body_markdown":"You have quite a few directories under /static that are not matched by `PathRequest.toStaticResources().atCommonLocations()`. The following locations are matched: /static/css/\\*\\*, /static/js/\\*\\*, /static/images/\\*\\*, /static/webjars/\\*\\*, /static/favicon.\\*, and /static/\\*/icon-\\*. This is why your images are accessible. You will need to add antMatchers for your custom locations with `permitAll()` (e.g. `antMatchers(&quot;/build/**&quot;, &quot;/delete-popup/**&quot;, ...).permitAll()`.","title":"Not able to access static resources directory without logging in(I am using spring security)","body":"<p>You have quite a few directories under /static that are not matched by <code>PathRequest.toStaticResources().atCommonLocations()</code>. The following locations are matched: /static/css/**, /static/js/**, /static/images/**, /static/webjars/**, /static/favicon.*, and /static/*/icon-*. This is why your images are accessible. You will need to add antMatchers for your custom locations with <code>permitAll()</code> (e.g. <code>antMatchers(&quot;/build/**&quot;, &quot;/delete-popup/**&quot;, ...).permitAll()</code>.</p>\n"}],"owner":{"account_id":16734349,"reputation":3,"user_id":12095879,"display_name":"Mohit Nirwan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69328025,"answer_count":1,"score":0,"last_activity_date":1632587109,"creation_date":1632567910,"question_id":69325528,"body_markdown":"Problem: I cannot access static resources like images, js or css files located under default resources folder of a spring boot project. I am using spring boot version (&lt;version&gt;2.4.9&lt;/version&gt;). Now, after doing a lot of research I came up with a solution which I found on spring doc website, which is, use the following piece of code:\r\n\r\n    .requestMatchers(PathRequest.toStaticResources().atCommonLocations()).permitAll()\r\n\r\nNow the funny thing is, after using this piece of code I am still not able to access any file or folder under the resources folder, but I can access a folder named **images** (I made it) under resources folder. Any solutions or helpful tip ?\r\n\r\n\r\n**The Directory structure of my project:**\r\n\r\n[screenshot of project directory][1]\r\n\r\n\r\n**SecurityConfiguration File:**\r\n\r\n    package com.pisoft.informatics.security;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.autoconfigure.security.servlet.PathRequest;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n    \r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class DemoSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Autowired\r\n        private CustomAuthenticationSuccessHandler customAuthenticationSuccessHandler;\r\n         \r\n      \t//bcrypt bean definition\r\n      \t/*\r\n        @Bean\r\n      \tpublic BCryptPasswordEncoder passwordEncoder() {\r\n      \t\treturn new BCryptPasswordEncoder();\r\n      \t}\r\n        */\r\n          \r\n      \t@Autowired\r\n        private MeriCustomAuthenticationProvider authProvider;\r\n      \t\r\n      \t@Override\r\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            //auth.authenticationProvider(authenticationProvider());\r\n      \t\tauth.authenticationProvider(authProvider);\r\n        }\r\n      \t  \t\r\n    \t@Override\r\n    \tprotected void configure(HttpSecurity http) throws Exception {\r\n    \t\t\r\n    \t\thttp.authorizeRequests()\t\r\n    \t\t\t//.antMatchers(&quot;/resources/**&quot;).permitAll()\t\t\t\r\n    \t\t\t.requestMatchers(PathRequest.toStaticResources().atCommonLocations()).permitAll()\t\t\t\r\n    \t\t\t.anyRequest().authenticated()\t\t\t\r\n    \t\t\t\r\n    \t\t\t.and()\r\n    \t\t\t.formLogin()\t\t\t\t\r\n    \t\t\t\t.loginPage(&quot;/&quot;)\r\n    \t\t\t\t.loginProcessingUrl(&quot;/authenticateTheUser&quot;)\r\n    \t\t\t\t.successHandler(customAuthenticationSuccessHandler)\r\n    \t\t\t\t.permitAll()\r\n    \t\t\t.and()\r\n    \t\t\t.logout()\r\n    \t\t\t.permitAll()\r\n    \t\t\t\t\t\r\n    \t\t\t.and()\r\n    \t\t\t.csrf().disable();\t\r\n    \t}\r\n    }\r\n\r\n\r\n**CustomAuthenticationProvider File:**\r\n\r\n    package com.pisoft.informatics.security;\r\n    \r\n    import java.util.ArrayList;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.security.authentication.AuthenticationProvider;\r\n    import org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\n    import org.springframework.security.core.Authentication;\r\n    import org.springframework.security.core.AuthenticationException;\r\n    import org.springframework.stereotype.Component;\r\n    import com.pisoft.informatics.entity.user.CrmUser;\r\n    import com.pisoft.informatics.misc.EncryptionUtil1;\r\n    import com.pisoft.informatics.service.user.CrmUserService;\r\n    \r\n    \r\n    \r\n    @Component\r\n    public class MeriCustomAuthenticationProvider implements AuthenticationProvider{\r\n    \r\n    \t@Autowired\r\n    \tprivate CrmUserService userService;\r\n    \t\r\n    \t@Override\r\n    \tpublic Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n    \t\t\r\n    \t\tString name = authentication.getName();\r\n            String password = authentication.getCredentials().toString();\r\n    \t\t\r\n            //System.out.println(&quot;name :&quot;+name+&quot; password :&quot;+password);\r\n            \r\n            \t// use the credentials\r\n            \tCrmUser user= userService.findByUserName(name);\r\n            \tif(user!=null) {\r\n            \t\tif(password.equalsIgnoreCase(EncryptionUtil1.decode(user.getPassword()))) {\r\n            \t\t\tif(user.getStatus().equalsIgnoreCase(&quot;Active&quot;)) {\r\n            \t\t\t\treturn new UsernamePasswordAuthenticationToken(name, password, new ArrayList&lt;&gt;());\r\n                    \t}\r\n                    \telse {\r\n                    \t\treturn null;\r\n                    \t}\r\n            \t\t}\r\n            \t\telse {\r\n            \t\t\treturn null;\r\n            \t\t}\r\n            \t}\r\n            \telse {\r\n            \t\treturn null;\r\n            \t}       \t        \r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean supports(Class&lt;?&gt; authentication) {\r\n    \t\t\r\n    \t\t return authentication.equals(UsernamePasswordAuthenticationToken.class);\r\n    \t}\t\r\n    }\r\n\r\n\r\n**SecurityWebApplicationInitializer File:**\r\n\r\n    package com.pisoft.informatics.security;\r\n    \r\n    import org.springframework.security.web.context.AbstractSecurityWebApplicationInitializer;\r\n    \r\n    public class SecurityWebApplicationInitializer extends AbstractSecurityWebApplicationInitializer{\r\n    \r\n    }\r\n\r\n\r\n**CustomAuthenticationSuccessHandler File:**\r\n\r\n    package com.pisoft.informatics.security;\r\n    \r\n    \r\n    import java.io.IOException;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import javax.servlet.http.HttpSession;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.security.core.Authentication;\r\n    import org.springframework.security.web.authentication.AuthenticationSuccessHandler;\r\n    import org.springframework.stereotype.Component;\r\n    import com.pisoft.informatics.misc.*;\r\n    import com.pisoft.informatics.entity.user.CrmUser;\r\n    import com.pisoft.informatics.service.sidebar.ServiceHeader;\r\n    import com.pisoft.informatics.service.user.CrmUserService;\r\n    \r\n    @Component\r\n    public class CustomAuthenticationSuccessHandler implements AuthenticationSuccessHandler {\r\n    \r\n        @Autowired\r\n        private CrmUserService crmUserService;\r\n       \r\n        @Autowired\r\n        private ServiceHeader headerService;\r\n        \r\n    \t@Override\r\n    \tpublic void onAuthenticationSuccess(HttpServletRequest request, HttpServletResponse response, Authentication authentication)\r\n    \t\t\tthrows IOException, ServletException {\r\n    \t\t\r\n    \t\tString userName = authentication.getName();\r\n    \t\tCrmUser theUser = crmUserService.findByUserName(userName);\r\n    \t\t\r\n    \t\t// now place in the session\r\n    \t\tHttpSession session = request.getSession();\r\n    \t\tsession.setAttribute(&quot;CRMUserDetails&quot;, theUser);\r\n    \t\tsession.setAttribute(&quot;allMenus&quot;, headerService.getMeAllMainMenus());\r\n    \t\tsession.setAttribute(&quot;greetings&quot;, WishUtill.Wish());\r\n    \t\t// forward to home page\r\n    \t\t\r\n    \t\tresponse.sendRedirect(request.getContextPath() + &quot;/dashboard&quot;);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/77pUH.png","title":"Not able to access static resources directory without logging in(I am using spring security)","body":"<p>Problem: I cannot access static resources like images, js or css files located under default resources folder of a spring boot project. I am using spring boot version (2.4.9). Now, after doing a lot of research I came up with a solution which I found on spring doc website, which is, use the following piece of code:</p>\n<pre><code>.requestMatchers(PathRequest.toStaticResources().atCommonLocations()).permitAll()\n</code></pre>\n<p>Now the funny thing is, after using this piece of code I am still not able to access any file or folder under the resources folder, but I can access a folder named <strong>images</strong> (I made it) under resources folder. Any solutions or helpful tip ?</p>\n<p><strong>The Directory structure of my project:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/77pUH.png\" rel=\"nofollow noreferrer\">screenshot of project directory</a></p>\n<p><strong>SecurityConfiguration File:</strong></p>\n<pre><code>package com.pisoft.informatics.security;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.autoconfigure.security.servlet.PathRequest;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\n\n@Configuration\n@EnableWebSecurity\npublic class DemoSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private CustomAuthenticationSuccessHandler customAuthenticationSuccessHandler;\n     \n    //bcrypt bean definition\n    /*\n    @Bean\n    public BCryptPasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n    */\n      \n    @Autowired\n    private MeriCustomAuthenticationProvider authProvider;\n    \n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        //auth.authenticationProvider(authenticationProvider());\n        auth.authenticationProvider(authProvider);\n    }\n        \n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        \n        http.authorizeRequests()    \n            //.antMatchers(&quot;/resources/**&quot;).permitAll()         \n            .requestMatchers(PathRequest.toStaticResources().atCommonLocations()).permitAll()           \n            .anyRequest().authenticated()           \n            \n            .and()\n            .formLogin()                \n                .loginPage(&quot;/&quot;)\n                .loginProcessingUrl(&quot;/authenticateTheUser&quot;)\n                .successHandler(customAuthenticationSuccessHandler)\n                .permitAll()\n            .and()\n            .logout()\n            .permitAll()\n                    \n            .and()\n            .csrf().disable();  \n    }\n}\n</code></pre>\n<p><strong>CustomAuthenticationProvider File:</strong></p>\n<pre><code>package com.pisoft.informatics.security;\n\nimport java.util.ArrayList;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.authentication.AuthenticationProvider;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.AuthenticationException;\nimport org.springframework.stereotype.Component;\nimport com.pisoft.informatics.entity.user.CrmUser;\nimport com.pisoft.informatics.misc.EncryptionUtil1;\nimport com.pisoft.informatics.service.user.CrmUserService;\n\n\n\n@Component\npublic class MeriCustomAuthenticationProvider implements AuthenticationProvider{\n\n    @Autowired\n    private CrmUserService userService;\n    \n    @Override\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n        \n        String name = authentication.getName();\n        String password = authentication.getCredentials().toString();\n        \n        //System.out.println(&quot;name :&quot;+name+&quot; password :&quot;+password);\n        \n            // use the credentials\n            CrmUser user= userService.findByUserName(name);\n            if(user!=null) {\n                if(password.equalsIgnoreCase(EncryptionUtil1.decode(user.getPassword()))) {\n                    if(user.getStatus().equalsIgnoreCase(&quot;Active&quot;)) {\n                        return new UsernamePasswordAuthenticationToken(name, password, new ArrayList&lt;&gt;());\n                    }\n                    else {\n                        return null;\n                    }\n                }\n                else {\n                    return null;\n                }\n            }\n            else {\n                return null;\n            }                   \n    }\n\n    @Override\n    public boolean supports(Class&lt;?&gt; authentication) {\n        \n         return authentication.equals(UsernamePasswordAuthenticationToken.class);\n    }   \n}\n</code></pre>\n<p><strong>SecurityWebApplicationInitializer File:</strong></p>\n<pre><code>package com.pisoft.informatics.security;\n\nimport org.springframework.security.web.context.AbstractSecurityWebApplicationInitializer;\n\npublic class SecurityWebApplicationInitializer extends AbstractSecurityWebApplicationInitializer{\n\n}\n</code></pre>\n<p><strong>CustomAuthenticationSuccessHandler File:</strong></p>\n<pre><code>package com.pisoft.informatics.security;\n\n\nimport java.io.IOException;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport javax.servlet.http.HttpSession;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.web.authentication.AuthenticationSuccessHandler;\nimport org.springframework.stereotype.Component;\nimport com.pisoft.informatics.misc.*;\nimport com.pisoft.informatics.entity.user.CrmUser;\nimport com.pisoft.informatics.service.sidebar.ServiceHeader;\nimport com.pisoft.informatics.service.user.CrmUserService;\n\n@Component\npublic class CustomAuthenticationSuccessHandler implements AuthenticationSuccessHandler {\n\n    @Autowired\n    private CrmUserService crmUserService;\n   \n    @Autowired\n    private ServiceHeader headerService;\n    \n    @Override\n    public void onAuthenticationSuccess(HttpServletRequest request, HttpServletResponse response, Authentication authentication)\n            throws IOException, ServletException {\n        \n        String userName = authentication.getName();\n        CrmUser theUser = crmUserService.findByUserName(userName);\n        \n        // now place in the session\n        HttpSession session = request.getSession();\n        session.setAttribute(&quot;CRMUserDetails&quot;, theUser);\n        session.setAttribute(&quot;allMenus&quot;, headerService.getMeAllMainMenus());\n        session.setAttribute(&quot;greetings&quot;, WishUtill.Wish());\n        // forward to home page\n        \n        response.sendRedirect(request.getContextPath() + &quot;/dashboard&quot;);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":17336652,"reputation":321,"user_id":12558456,"display_name":"Moos&#39; Samuel Silver"},"score":1,"creation_date":1584610499,"post_id":60754134,"comment_id":107490733,"body_markdown":"In Case of Performance: Any File I/O acces is slow, so just keep you HashMap, for your programm. Your reads can go directly to the HashMap. your wirts also, but they also should **append** a new line/object to you File (at best asynchronly, by a seperate singleton writer, which has a buffer for non persistet Objects). The only time you have to read the file, is on startup.","body":"In Case of Performance: Any File I/O acces is slow, so just keep you HashMap, for your programm. Your reads can go directly to the HashMap. your wirts also, but they also should <b>append</b> a new line/object to you File (at best asynchronly, by a seperate singleton writer, which has a buffer for non persistet Objects). The only time you have to read the file, is on startup."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1584615535,"post_id":60754134,"comment_id":107493118,"body_markdown":"How about creating a solution that works first?  Then, once you have a working solution, you can measure the performance.  Only then, if the performance is poor, do you think about alternate solutions.  A simple text file should be sufficient for your needs.","body":"How about creating a solution that works first?  Then, once you have a working solution, you can measure the performance.  Only then, if the performance is poor, do you think about alternate solutions.  A simple text file should be sufficient for your needs."}],"owner":{"account_id":17984787,"reputation":686,"user_id":13070305,"display_name":"takotsubo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632586450,"creation_date":1584609686,"question_id":60754134,"body_markdown":"I have next task: user will request info about game. If game exists in library just return value (info about game - object) by key (game title - String). If not, do some work and after work add new game to library. Of course, I need a file (because if app will stop, all data will be lost). I decided to store game in library in hashmap. But what kind of format I should use to file which will contains all my library? JSON? Or simple txt?\r\n\r\nAfter each request I should check this file and return value if key match was found.\r\n\r\nAnd how many steps it will take before writing new information?\r\n\r\n1) Check if game exists in library (read file).\r\n\r\n2) If exist, then return value from file.\r\n\r\n3) If no, then do actions and add new info to HashMap, then rewrite new version hashmap into file?\r\n\r\nToo many steps.\r\n\r\nCan I do it better?","title":"I want to get best performance/solution with writing to/reading file","body":"<p>I have next task: user will request info about game. If game exists in library just return value (info about game - object) by key (game title - String). If not, do some work and after work add new game to library. Of course, I need a file (because if app will stop, all data will be lost). I decided to store game in library in hashmap. But what kind of format I should use to file which will contains all my library? JSON? Or simple txt?</p>\n<p>After each request I should check this file and return value if key match was found.</p>\n<p>And how many steps it will take before writing new information?</p>\n<ol>\n<li><p>Check if game exists in library (read file).</p>\n</li>\n<li><p>If exist, then return value from file.</p>\n</li>\n<li><p>If no, then do actions and add new info to HashMap, then rewrite new version hashmap into file?</p>\n</li>\n</ol>\n<p>Too many steps.</p>\n<p>Can I do it better?</p>\n"},{"tags":["java","python","c"],"answers":[{"tags":[],"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1376546890,"creation_date":1376546485,"answer_id":18247143,"question_id":18247126,"body_markdown":"To flip one or more bits, use [binary XOR][1]. In your case, the appropriate XOR mask is `1` [shifted][2] `k` bits to the left.\r\n\r\nIn Python:\r\n\r\n    In [58]: 0b01101 ^ (1 &lt;&lt; 2)\r\n    Out[58]: 9\r\n\r\nThe expression:\r\n\r\n    n ^ (1 &lt;&lt; k)\r\n\r\nis valid in C, Java, Python and a few other languages (provided the variables are appropriately defined).\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Exclusive_or#Bitwise_operation\r\n  [2]: https://stackoverflow.com/questions/141525/absolute-beginners-guide-to-bit-shifting","title":"how to flip a bit at a specific position in an integer in any language","body":"<p>To flip one or more bits, use <a href=\"http://en.wikipedia.org/wiki/Exclusive_or#Bitwise_operation\" rel=\"noreferrer\">binary XOR</a>. In your case, the appropriate XOR mask is <code>1</code> <a href=\"https://stackoverflow.com/questions/141525/absolute-beginners-guide-to-bit-shifting\">shifted</a> <code>k</code> bits to the left.</p>\n\n<p>In Python:</p>\n\n<pre><code>In [58]: 0b01101 ^ (1 &lt;&lt; 2)\nOut[58]: 9\n</code></pre>\n\n<p>The expression:</p>\n\n<pre><code>n ^ (1 &lt;&lt; k)\n</code></pre>\n\n<p>is valid in C, Java, Python and a few other languages (provided the variables are appropriately defined).</p>\n"},{"tags":[],"owner":{"account_id":1850486,"reputation":1179,"user_id":2019892,"accept_rate":69,"display_name":"Kevin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1376546580,"creation_date":1376546580,"answer_id":18247154,"question_id":18247126,"body_markdown":"Here&#39;s how you&#39;d do it in C:\r\n\r\n    n ^ (1 &lt;&lt; k)","title":"how to flip a bit at a specific position in an integer in any language","body":"<p>Here's how you'd do it in C:</p>\n\n<pre><code>n ^ (1 &lt;&lt; k)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3113994,"reputation":836,"user_id":2635190,"accept_rate":100,"display_name":"Constablebrew"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1376547224,"creation_date":1376547224,"answer_id":18247246,"question_id":18247126,"body_markdown":"Left-shift the number 1 the number of digits you need, and then XOR the number.\r\n\r\nJavaScript:\r\n\r\n    var num = 6, k = 2;\r\n    num = num ^ (1 &lt;&lt; k);\r\n\r\nWhat is happening:\r\n\r\n    num = 0b01101 XOR (0b00001 &lt;&lt; 2)\r\n    num = 0b01101 XOR 0b00100\r\n    num = 0b01001\r\n\r\n","title":"how to flip a bit at a specific position in an integer in any language","body":"<p>Left-shift the number 1 the number of digits you need, and then XOR the number.</p>\n\n<p>JavaScript:</p>\n\n<pre><code>var num = 6, k = 2;\nnum = num ^ (1 &lt;&lt; k);\n</code></pre>\n\n<p>What is happening:</p>\n\n<pre><code>num = 0b01101 XOR (0b00001 &lt;&lt; 2)\nnum = 0b01101 XOR 0b00100\nnum = 0b01001\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3049653,"reputation":334,"user_id":2584521,"accept_rate":70,"display_name":"Ion"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1376548881,"creation_date":1376548540,"answer_id":18247493,"question_id":18247126,"body_markdown":"In c you just do this to toggle it:\r\n\r\n    n ^= 1 &lt;&lt; k;\r\n\r\nbut there are other ways of doing it like:\r\n\r\n    n |= ( 1 &lt;&lt; k);\r\n\r\nThis shifts bit k to 1\r\n\r\nNow if you want to flip the bit you can do an if statement with a unary and to see how you need to flip it\r\n\r\n    number = pow(2,k)    \r\n    if((number &amp; n) != number)\r\n        //this means that it&#39;s a 0 at position k\r\n        n |= ( 1 &lt;&lt; k);\r\n    else\r\n        //this means that it&#39;s a 1 at position k\r\n        n &amp;= ( 0 &lt;&lt; k);","title":"how to flip a bit at a specific position in an integer in any language","body":"<p>In c you just do this to toggle it:</p>\n\n<pre><code>n ^= 1 &lt;&lt; k;\n</code></pre>\n\n<p>but there are other ways of doing it like:</p>\n\n<pre><code>n |= ( 1 &lt;&lt; k);\n</code></pre>\n\n<p>This shifts bit k to 1</p>\n\n<p>Now if you want to flip the bit you can do an if statement with a unary and to see how you need to flip it</p>\n\n<pre><code>number = pow(2,k)    \nif((number &amp; n) != number)\n    //this means that it's a 0 at position k\n    n |= ( 1 &lt;&lt; k);\nelse\n    //this means that it's a 1 at position k\n    n &amp;= ( 0 &lt;&lt; k);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8172590,"reputation":105,"user_id":6152502,"display_name":"Lewis Miller"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632586284,"creation_date":1632583564,"answer_id":69327547,"question_id":18247126,"body_markdown":"(for googlers) here is how you can do it in VB6 without shifting\r\n\r\n    &#39;flips a bit to the opposite of its current value\r\n    &#39;1 based, left to right\r\n    Function FlipBit(ByVal FlipByte As Byte, ByVal bPosition As Byte) As Byte\r\n        FlipBit = FlipByte Xor (2 ^ (8 - bPosition))\r\n    End Function\r\n\r\n    &#39;example\r\n     MyByte = 255\r\n    &#39;mybyte is now &quot;11111111&quot;\r\n     MyByte = FlipBit(MyByte,2)\r\n    &#39;mybyte is now &quot;10111111&quot;\r\n","title":"how to flip a bit at a specific position in an integer in any language","body":"<p>(for googlers) here is how you can do it in VB6 without shifting</p>\n<pre><code>'flips a bit to the opposite of its current value\n'1 based, left to right\nFunction FlipBit(ByVal FlipByte As Byte, ByVal bPosition As Byte) As Byte\n    FlipBit = FlipByte Xor (2 ^ (8 - bPosition))\nEnd Function\n\n'example\n MyByte = 255\n'mybyte is now &quot;11111111&quot;\n MyByte = FlipBit(MyByte,2)\n'mybyte is now &quot;10111111&quot;\n</code></pre>\n"}],"owner":{"display_name":"user2626368"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38969,"favorite_count":0,"down_vote_count":1,"up_vote_count":25,"answer_count":5,"score":24,"last_activity_date":1632586284,"creation_date":1376546342,"question_id":18247126,"body_markdown":"I have an integer `n`, and I want to flip its `k`th bit (from the lowest) in its binary representation. How can I do it?\r\n\r\nFor example, if I have `n=0b01101` and `k=2`, then the result is `0b01001=9`\r\n\r\nAny language is fine. Thank you.","title":"how to flip a bit at a specific position in an integer in any language","body":"<p>I have an integer <code>n</code>, and I want to flip its <code>k</code>th bit (from the lowest) in its binary representation. How can I do it?</p>\n\n<p>For example, if I have <code>n=0b01101</code> and <code>k=2</code>, then the result is <code>0b01001=9</code></p>\n\n<p>Any language is fine. Thank you.</p>\n"},{"tags":["java","spring","upload"],"owner":{"account_id":9760605,"reputation":71,"user_id":7235823,"display_name":"Sandro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1632586020,"creation_date":1632586020,"question_id":69327888,"body_markdown":"I&#39;m trying to upload a csv file. and is generating an error when trying to read the header. Does anyone know what I&#39;m failing to do?\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/C0KG6.png","title":"Upload CSV in Spring boot - Header name &#39;XXXXX&#39; not found","body":"<p>I'm trying to upload a csv file. and is generating an error when trying to read the header. Does anyone know what I'm failing to do?</p>\n<p><a href=\"https://i.stack.imgur.com/C0KG6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C0KG6.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632585798,"creation_date":1632585798,"answer_id":69327872,"question_id":69327824,"body_markdown":"You need to test for the empty `String`. You do not need a nested loop on `message`. And you could simplify `inputChecker` by removing the temporary local variable. Something like,\r\n\r\n\tpublic static boolean inputChecker(String message) {\r\n\t\tif (message.isEmpty()) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tString alphabet = &quot;abcdefghijklmnopqrstuvwxyz&#230;&#248;&#229;&quot;;\r\n\t\tfor (int i = 0; i &lt; message.length(); i++) {\r\n\t\t\tif (alphabet.indexOf(message.charAt(i)) &lt; 0) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n","title":"Scanner accepts wrong input","body":"<p>You need to test for the empty <code>String</code>. You do not need a nested loop on <code>message</code>. And you could simplify <code>inputChecker</code> by removing the temporary local variable. Something like,</p>\n<pre><code>public static boolean inputChecker(String message) {\n    if (message.isEmpty()) {\n        return false;\n    }\n    String alphabet = &quot;abcdefghijklmnopqrstuvwxyzæøå&quot;;\n    for (int i = 0; i &lt; message.length(); i++) {\n        if (alphabet.indexOf(message.charAt(i)) &lt; 0) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n"}],"owner":{"account_id":14169333,"reputation":104,"user_id":16894611,"display_name":"Aleksandar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":69327872,"answer_count":1,"score":-2,"last_activity_date":1632585798,"creation_date":1632585443,"question_id":69327824,"body_markdown":"    public static String userInput(){\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.println(&quot;Please type in a word in small letters to be encrypted:&quot;);\r\n        String input = sc.nextLine();\r\n\r\n        boolean loopChecker = false;\r\n        while(!loopChecker){\r\n            if (inputChecker(input)){\r\n                loopChecker = true;\r\n            }\r\n            else if (!loopChecker){\r\n                System.out.println(&quot;You typed &quot; + input + &quot;.&quot;);\r\n                System.out.println(&quot;Please type a small word to be encoded.&quot;);\r\n                input = sc.nextLine();\r\n            }\r\n        }\r\n\r\n        return input;\r\n    }\r\n\r\nUsing the string input from above as argument to the following method loops to check if the user has entered the desired input (letters in the danish alphabet):\r\n\r\n    public static boolean inputChecker(String message){\r\n        String alphabet = &quot;abcdefghijklmnopqrstuvwxyz&#230;&#248;&#229;&quot;;\r\n        boolean loopChecker = true;\r\n        for (int i = 0; i &lt; message.length(); i++) {\r\n            for (int j = 0; j &lt; message.length(); j++) {\r\n                String messageIndex = Character.toString(message.charAt(j));\r\n                if(!alphabet.contains(messageIndex)){\r\n                    loopChecker = false;\r\n                }\r\n            }\r\n        }\r\n        return loopChecker;\r\n    }\r\n\r\n\r\n\r\nThe problem is as following:\r\nsc.nextLine() accepts &quot;Enter&quot; as valid input when the user hits enter on the keyboard. Why is this? It should only accept the letters in the string &quot;alphabet&quot;.\r\nHow do I work around this problem?","title":"Scanner accepts wrong input","body":"<pre><code>public static String userInput(){\n    Scanner sc = new Scanner(System.in);\n    System.out.println(&quot;Please type in a word in small letters to be encrypted:&quot;);\n    String input = sc.nextLine();\n\n    boolean loopChecker = false;\n    while(!loopChecker){\n        if (inputChecker(input)){\n            loopChecker = true;\n        }\n        else if (!loopChecker){\n            System.out.println(&quot;You typed &quot; + input + &quot;.&quot;);\n            System.out.println(&quot;Please type a small word to be encoded.&quot;);\n            input = sc.nextLine();\n        }\n    }\n\n    return input;\n}\n</code></pre>\n<p>Using the string input from above as argument to the following method loops to check if the user has entered the desired input (letters in the danish alphabet):</p>\n<pre><code>public static boolean inputChecker(String message){\n    String alphabet = &quot;abcdefghijklmnopqrstuvwxyzæøå&quot;;\n    boolean loopChecker = true;\n    for (int i = 0; i &lt; message.length(); i++) {\n        for (int j = 0; j &lt; message.length(); j++) {\n            String messageIndex = Character.toString(message.charAt(j));\n            if(!alphabet.contains(messageIndex)){\n                loopChecker = false;\n            }\n        }\n    }\n    return loopChecker;\n}\n</code></pre>\n<p>The problem is as following:\nsc.nextLine() accepts &quot;Enter&quot; as valid input when the user hits enter on the keyboard. Why is this? It should only accept the letters in the string &quot;alphabet&quot;.\nHow do I work around this problem?</p>\n"},{"tags":["java","average","stdout"],"answers":[{"tags":[],"owner":{"account_id":6670157,"reputation":1269,"user_id":5146487,"accept_rate":56,"display_name":"Ethan Fischer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632585662,"creation_date":1632585662,"answer_id":69327855,"question_id":69327786,"body_markdown":"`main(String[] args)` gets called when you first start your program. If you start the program without passing any arguments, `names` will be empty. You need to either pass in your names when you start your program, or populate `names` in the while loop with `StdIn` like you are for the other values.","title":"How to Create a Table of Names and Average Numbers?","body":"<p><code>main(String[] args)</code> gets called when you first start your program. If you start the program without passing any arguments, <code>names</code> will be empty. You need to either pass in your names when you start your program, or populate <code>names</code> in the while loop with <code>StdIn</code> like you are for the other values.</p>\n"}],"owner":{"account_id":22792415,"reputation":1,"user_id":16946537,"display_name":"gizmo.java"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632585662,"creation_date":1632585189,"question_id":69327786,"body_markdown":"I need to write a Java program that reads in lines from standard input \r\nwith each line containing a name and three integers and then uses printf() to print a table with \r\na column of the names, the integers, and the average of the three integers accurate to two decimal \r\nplaces. I will specify the number of names as a command-line argument and then type in at \r\nleast that number of names (along with three integers for each name). Then I would signal the end of Control Z and then Enter since I&#39;m using Windows.\r\n\r\nMy final result should look something like this:\r\njava Average 4\r\n\r\nJoe 3 5 2\r\n\r\nTim 4 1 5\r\n\r\nJane 6 3 2\r\n\r\nJack 8 3 5\r\n\r\nCtrl+Z\r\n\r\n\r\nJoe 3 5 2 3.33\r\n\r\nTim 4 1 5 3.33\r\n\r\nJane 6 3 2 3.67\r\n\r\nJack 8 3 5 5.33\r\n\r\nRight now, my program is only averaging the numbers I&#39;m entering. It isn&#39;t printing the names I entered. Can anyone give me tips on how to correct my current code? I want to keep it as simple as possible since I&#39;m new to programming. \r\n\r\n```public class Average { \r\n    public static void main(String[] args) { \r\n\t\tString names = args [0];\r\n\t\t\r\n        int count = 0;       // number input values\r\n        double sum = 0.0;    // sum of input values\r\n\r\n        // read data and compute statistics\r\n        while (!StdIn.isEmpty()) {\r\n\t\t\tString run = StdIn.readString ();\r\n            double value = StdIn.readDouble();\r\n            sum += value;\r\n            count++;\r\n        }\r\n\r\n        // compute the average\r\n        double average = sum / count;\r\n\r\n        // print results\r\n\t\tStdOut.print(names);\r\n        StdOut.printf(names + &quot;%3.2f&quot;, average);\r\n    }\r\n}\r\n```","title":"How to Create a Table of Names and Average Numbers?","body":"<p>I need to write a Java program that reads in lines from standard input\nwith each line containing a name and three integers and then uses printf() to print a table with\na column of the names, the integers, and the average of the three integers accurate to two decimal\nplaces. I will specify the number of names as a command-line argument and then type in at\nleast that number of names (along with three integers for each name). Then I would signal the end of Control Z and then Enter since I'm using Windows.</p>\n<p>My final result should look something like this:\njava Average 4</p>\n<p>Joe 3 5 2</p>\n<p>Tim 4 1 5</p>\n<p>Jane 6 3 2</p>\n<p>Jack 8 3 5</p>\n<p>Ctrl+Z</p>\n<p>Joe 3 5 2 3.33</p>\n<p>Tim 4 1 5 3.33</p>\n<p>Jane 6 3 2 3.67</p>\n<p>Jack 8 3 5 5.33</p>\n<p>Right now, my program is only averaging the numbers I'm entering. It isn't printing the names I entered. Can anyone give me tips on how to correct my current code? I want to keep it as simple as possible since I'm new to programming.</p>\n<pre><code>    public static void main(String[] args) { \n        String names = args [0];\n        \n        int count = 0;       // number input values\n        double sum = 0.0;    // sum of input values\n\n        // read data and compute statistics\n        while (!StdIn.isEmpty()) {\n            String run = StdIn.readString ();\n            double value = StdIn.readDouble();\n            sum += value;\n            count++;\n        }\n\n        // compute the average\n        double average = sum / count;\n\n        // print results\n        StdOut.print(names);\n        StdOut.printf(names + &quot;%3.2f&quot;, average);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","gradle"],"comments":[{"owner":{"account_id":6358892,"reputation":57,"user_id":4935087,"display_name":"Iuri Sampaio"},"score":0,"creation_date":1631033743,"post_id":69092015,"comment_id":122112811,"body_markdown":"btw, the original post, which led me to this solution approach is: https://stackoverflow.com/questions/67598533/windowsplashscreenanimatableicon-not-found#_=_","body":"btw, the original post, which led me to this solution approach is: <a href=\"https://stackoverflow.com/questions/67598533/windowsplashscreenanimatableicon-not-found#_=_\" title=\"windowsplashscreenanimatableicon not found%23_%3d_\">stackoverflow.com/questions/67598533/&hellip;</a>"},{"owner":{"account_id":13518167,"reputation":773,"user_id":9752209,"display_name":"Omkar T"},"score":0,"creation_date":1648975494,"post_id":69092015,"comment_id":126754950,"body_markdown":"I tried everything correctly, but error was never resolved, wasted hours..","body":"I tried everything correctly, but error was never resolved, wasted hours.."}],"answers":[{"tags":[],"owner":{"account_id":19939560,"reputation":217,"user_id":14611548,"display_name":"Ronnie"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1631800306,"creation_date":1631705749,"answer_id":69192382,"question_id":69092015,"body_markdown":"Most probably a duplicate of my [question][1]\r\n\r\nI guess you didn&#39;t change the *theme parent*. \r\n\r\nWith the latest update, Android 12 comes with `SplashScreen API` to ensure the splash screen displays correctly starting in Android 12.\r\n\r\nTo access that you have to upgrade your *gradle* file and change your *theme parent* to `Theme.SplashScreen`. In your gradle add:\r\n```\r\nandroid {\r\n    //before syncing please make sure Android API 12 is installed in SDK manager\r\n    compileSdkVersion 31 \r\n    ...\r\n}\r\ndependencies {\r\n    ...\r\n    implementation &#39;androidx.core:core-splashscreen:1.0.0-alpha01&#39;\r\n    ...\r\n}\r\n```\r\nCreate a separate `style.xml` for the splash screen\r\n```xml\r\n&lt;resources&gt;\r\n    &lt;style name=&quot;Theme.MySplashScreen&quot; parent=&quot;Theme.SplashScreen&quot;&gt; \r\n        &lt;item name=&quot;windowSplashScreenBackground&quot;&gt;@color/black&lt;/item&gt; &lt;!-- If it&#39;s a @drawable make sure it&#39;s in .xml format--&gt;\r\n        &lt;item name=&quot;windowSplashScreenAnimationDuration&quot;&gt;1000&lt;/item&gt;\r\n        &lt;item name=&quot;windowSplashScreenAnimatedIcon&quot;&gt;@drawable/books_logo&lt;/item&gt;\r\n        &lt;item name=&quot;postSplashScreenTheme&quot;&gt;@style/Theme.Books&lt;/item&gt; &lt;!-- This will switch back to your given theme once the splash screen is gone--&gt;\r\n    &lt;/style&gt;\r\n&lt;/resources&gt;\r\n```\r\nSet the theme in your manifest `&lt;application&gt;`\r\n```\r\n&lt;manifest&gt;\r\n   &lt;application \r\n   ...\r\n   android:theme=&quot;@style/Theme.MySplashScreen&quot;&gt;\r\n   ...\r\n```\r\n**Finally** in `MainActivity` or your start activity to load the splash screen set this in `onCreate()` before `setContentView()`\r\n```\r\noverride fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n\r\n        installSplashScreen()\r\n\r\n        setContentView(...)\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/69183863/how-to-make-a-splash-screen-the-proper-way-i-e-not-to-make-it-a-part-of-the-app","title":"AAPT: error: style attribute &#39;android:attr/windowSplashScreenBackground&#39; not found","body":"<p>Most probably a duplicate of my <a href=\"https://stackoverflow.com/questions/69183863/how-to-make-a-splash-screen-the-proper-way-i-e-not-to-make-it-a-part-of-the-app\">question</a></p>\n<p>I guess you didn't change the <em>theme parent</em>.</p>\n<p>With the latest update, Android 12 comes with <code>SplashScreen API</code> to ensure the splash screen displays correctly starting in Android 12.</p>\n<p>To access that you have to upgrade your <em>gradle</em> file and change your <em>theme parent</em> to <code>Theme.SplashScreen</code>. In your gradle add:</p>\n<pre><code>android {\n    //before syncing please make sure Android API 12 is installed in SDK manager\n    compileSdkVersion 31 \n    ...\n}\ndependencies {\n    ...\n    implementation 'androidx.core:core-splashscreen:1.0.0-alpha01'\n    ...\n}\n</code></pre>\n<p>Create a separate <code>style.xml</code> for the splash screen</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;resources&gt;\n    &lt;style name=&quot;Theme.MySplashScreen&quot; parent=&quot;Theme.SplashScreen&quot;&gt; \n        &lt;item name=&quot;windowSplashScreenBackground&quot;&gt;@color/black&lt;/item&gt; &lt;!-- If it's a @drawable make sure it's in .xml format--&gt;\n        &lt;item name=&quot;windowSplashScreenAnimationDuration&quot;&gt;1000&lt;/item&gt;\n        &lt;item name=&quot;windowSplashScreenAnimatedIcon&quot;&gt;@drawable/books_logo&lt;/item&gt;\n        &lt;item name=&quot;postSplashScreenTheme&quot;&gt;@style/Theme.Books&lt;/item&gt; &lt;!-- This will switch back to your given theme once the splash screen is gone--&gt;\n    &lt;/style&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>Set the theme in your manifest <code>&lt;application&gt;</code></p>\n<pre><code>&lt;manifest&gt;\n   &lt;application \n   ...\n   android:theme=&quot;@style/Theme.MySplashScreen&quot;&gt;\n   ...\n</code></pre>\n<p><strong>Finally</strong> in <code>MainActivity</code> or your start activity to load the splash screen set this in <code>onCreate()</code> before <code>setContentView()</code></p>\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n        installSplashScreen()\n\n        setContentView(...)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6358892,"reputation":57,"user_id":4935087,"display_name":"Iuri Sampaio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632585386,"creation_date":1632585386,"answer_id":69327810,"question_id":69092015,"body_markdown":"I did change theme parent within AndroidManifest.xml.\r\n\r\n\r\nAfter a long time debugging and burning neurons, I switched to another react-native pluggin called bootsplash. https://www.reactnativeschool.com/simple-splash-launch-boot-screen-in-react-native-ios-and-android\r\n\r\n\r\n\r\nIt seems react-native-splashscreen&#39;s core (i.e. latest version 3.2.0) has a bug within JAVA&#39;s native source code.\r\n\r\n\r\nBest wishes,\r\nI\r\n","title":"AAPT: error: style attribute &#39;android:attr/windowSplashScreenBackground&#39; not found","body":"<p>I did change theme parent within AndroidManifest.xml.</p>\n<p>After a long time debugging and burning neurons, I switched to another react-native pluggin called bootsplash. <a href=\"https://www.reactnativeschool.com/simple-splash-launch-boot-screen-in-react-native-ios-and-android\" rel=\"nofollow noreferrer\">https://www.reactnativeschool.com/simple-splash-launch-boot-screen-in-react-native-ios-and-android</a></p>\n<p>It seems react-native-splashscreen's core (i.e. latest version 3.2.0) has a bug within JAVA's native source code.</p>\n<p>Best wishes,\nI</p>\n"}],"owner":{"account_id":6358892,"reputation":57,"user_id":4935087,"display_name":"Iuri Sampaio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4781,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1632585386,"creation_date":1631033683,"question_id":69092015,"body_markdown":"I&#39;ve got the very same error, using Android Studio Canary.\r\n\r\nIt returns the same error in Gradle 4.2.1 and Gradle latest version 7.1.0-alpha09.  (i.e. error log is bellow)\r\n```\r\nat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n        at java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: com.android.builder.internal.aapt.v2.Aapt2Exception: Android resource linking failed\r\nERROR:/home/iuri/QonteoApps/biometricmax/node_modules/react-native-splash-screen/android/build/intermediates/packaged_res/release/values/values.xml:13:5-18:13: AAPT: error: style attribute &#39;android:attr/windowSplashScreenBackground&#39; not found.\r\n    \r\nERROR:/home/iuri/QonteoApps/biometricmax/node_modules/react-native-splash-screen/android/build/intermediates/packaged_res/release/values/values.xml:13:5-18:13: AAPT: error: style attribute &#39;android:attr/windowSplashScreenAnimatedIcon&#39; not found.\r\n    \r\nERROR:/home/iuri/.gradle/caches/transforms-3/de2ed04f8522efd4ca22835ece62dd33/transformed/core-splashscreen-1.0.0-alpha01/res/values-v31/values-v31.xml:3:5-9:13: AAPT: error: style attribute &#39;android:attr/windowSplashScreenAnimatedIcon&#39; not found.\r\n    \r\nERROR:/home/iuri/.gradle/caches/transforms-3/de2ed04f8522efd4ca22835ece62dd33/transformed/core-splashscreen-1.0.0-alpha01/res/values-v31/values-v31.xml:3:5-9:13: AAPT: error: style attribute &#39;android:attr/windowSplashScreenBackground&#39; not found.\r\n    \r\nERROR:/home/iuri/.gradle/caches/transforms-3/de2ed04f8522efd4ca22835ece62dd33/transformed/core-splashscreen-1.0.0-alpha01/res/values-v31/values-v31.xml:3:5-9:13: AAPT: error: style attribute &#39;android:attr/windowSplashScreenAnimationDuration&#39; not found.\r\n\r\nat com.android.builder.internal.aapt.v2.Aapt2Exception$Companion.create(Aapt2Exception.kt:45)\r\nat com.android.builder.internal.aapt.v2.Aapt2Exception$Companion.create$default(Aapt2Exception.kt:39)\r\n```\r\n\r\nFurthermore, I&#39;ve updated:\r\n1. SDK Platform to Android 12(S).\r\n2. Plus SDK Build Tools is updated to Android SDK Build-Tools 31\r\n\r\n\r\nWhere/How must I implement those style attributes?\r\nI&#39;ve added the following items to Styles.xml\r\n```xml\r\n    &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/splash&lt;/item&gt;\r\n    &lt;item name=&quot;android:windowSplashScreenBackground&quot;&gt;@drawable/splash&lt;/item&gt;\r\n    &lt;item name=&quot;android:windowSplashScreenAnimatedIcon&quot;&gt;@null&lt;/item&gt;\r\n```\r\n","title":"AAPT: error: style attribute &#39;android:attr/windowSplashScreenBackground&#39; not found","body":"<p>I've got the very same error, using Android Studio Canary.</p>\n<p>It returns the same error in Gradle 4.2.1 and Gradle latest version 7.1.0-alpha09.  (i.e. error log is bellow)</p>\n<pre><code>at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\n        at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: com.android.builder.internal.aapt.v2.Aapt2Exception: Android resource linking failed\nERROR:/home/iuri/QonteoApps/biometricmax/node_modules/react-native-splash-screen/android/build/intermediates/packaged_res/release/values/values.xml:13:5-18:13: AAPT: error: style attribute 'android:attr/windowSplashScreenBackground' not found.\n    \nERROR:/home/iuri/QonteoApps/biometricmax/node_modules/react-native-splash-screen/android/build/intermediates/packaged_res/release/values/values.xml:13:5-18:13: AAPT: error: style attribute 'android:attr/windowSplashScreenAnimatedIcon' not found.\n    \nERROR:/home/iuri/.gradle/caches/transforms-3/de2ed04f8522efd4ca22835ece62dd33/transformed/core-splashscreen-1.0.0-alpha01/res/values-v31/values-v31.xml:3:5-9:13: AAPT: error: style attribute 'android:attr/windowSplashScreenAnimatedIcon' not found.\n    \nERROR:/home/iuri/.gradle/caches/transforms-3/de2ed04f8522efd4ca22835ece62dd33/transformed/core-splashscreen-1.0.0-alpha01/res/values-v31/values-v31.xml:3:5-9:13: AAPT: error: style attribute 'android:attr/windowSplashScreenBackground' not found.\n    \nERROR:/home/iuri/.gradle/caches/transforms-3/de2ed04f8522efd4ca22835ece62dd33/transformed/core-splashscreen-1.0.0-alpha01/res/values-v31/values-v31.xml:3:5-9:13: AAPT: error: style attribute 'android:attr/windowSplashScreenAnimationDuration' not found.\n\nat com.android.builder.internal.aapt.v2.Aapt2Exception$Companion.create(Aapt2Exception.kt:45)\nat com.android.builder.internal.aapt.v2.Aapt2Exception$Companion.create$default(Aapt2Exception.kt:39)\n</code></pre>\n<p>Furthermore, I've updated:</p>\n<ol>\n<li>SDK Platform to Android 12(S).</li>\n<li>Plus SDK Build Tools is updated to Android SDK Build-Tools 31</li>\n</ol>\n<p>Where/How must I implement those style attributes?\nI've added the following items to Styles.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/splash&lt;/item&gt;\n    &lt;item name=&quot;android:windowSplashScreenBackground&quot;&gt;@drawable/splash&lt;/item&gt;\n    &lt;item name=&quot;android:windowSplashScreenAnimatedIcon&quot;&gt;@null&lt;/item&gt;\n</code></pre>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":3,"creation_date":1632585372,"post_id":69327730,"comment_id":122535270,"body_markdown":"The end index is *exclusive*, that means the element at that particular index is not part of your sub-list. You&#39;re creating 3 sub-lists like this, so you&#39;re missing 3 indexes.","body":"The end index is <i>exclusive</i>, that means the element at that particular index is not part of your sub-list. You&#39;re creating 3 sub-lists like this, so you&#39;re missing 3 indexes."}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1632585370,"creation_date":1632585370,"answer_id":69327808,"question_id":69327730,"body_markdown":"Keep in mind that `subList()` does not include the `toIndex`, which means that in the following `subList()` you need to start at the `toIndex` of the previous `subList()`.\r\n```java\r\nint size   = MASTER_LINE_LIST.size();\r\nint third  = size / 3;\r\nint start1 = 0;\r\nint end1   = start1 + third;\r\nint start2 = end1;\r\nint end2   = start2 + third;\r\nint start3 = end2;\r\nint end3   = size - 1;\r\n```","title":"Trying to split a List in Java but I&#39;m dumbfounded in indexing confusion","body":"<p>Keep in mind that <code>subList()</code> does not include the <code>toIndex</code>, which means that in the following <code>subList()</code> you need to start at the <code>toIndex</code> of the previous <code>subList()</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int size   = MASTER_LINE_LIST.size();\nint third  = size / 3;\nint start1 = 0;\nint end1   = start1 + third;\nint start2 = end1;\nint end2   = start2 + third;\nint start3 = end2;\nint end3   = size - 1;\n</code></pre>\n"}],"owner":{"account_id":5068712,"reputation":2406,"user_id":4068123,"display_name":"Michael Sims"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69327808,"answer_count":1,"score":0,"last_activity_date":1632585370,"creation_date":1632584858,"question_id":69327730,"body_markdown":"I have a List&lt;String&gt; that I need to split because it gets sent to Google translate via the API and it has a List element size limit of 1024.\r\n\r\nHere&#39;s the code (including the debugging code I added to try and figure this out):\r\n\r\n\t\tint size   = MASTER_LINE_LIST.size();\r\n\t\tint third  = size / 3;\r\n\t\tint start1 = 0;\r\n\t\tint end1   = start1 + third;\r\n\t\tint start2 = end1 + 1;\r\n\t\tint end2   = start2 + third;\r\n\t\tint start3 = end2 + 1;\r\n\t\tint end3   = size - 1;\r\n\r\n\t\tString msg1 = &quot;start1 = &quot; \t+ start1 \t+ &quot;\\n&quot; +\r\n\t\t\t\t\t  &quot;end1   = &quot; \t+ end1 \t\t+ &quot;\\n\\n&quot; +\r\n\t\t\t\t\t  &quot;start2 = &quot; \t+ start2 \t+ &quot;\\n&quot; +\r\n\t\t\t\t\t  &quot;end2   = &quot; \t+ end2 \t\t+ &quot;\\n\\n&quot; +\r\n\t\t\t\t\t  &quot;start3 = &quot; \t+ start3 \t+ &quot;\\n&quot; +\r\n\t\t\t\t\t  &quot;end3   = &quot; \t+ end3 \t\t+ &quot;\\n\\n&quot;;\r\n\r\n\t\tList&lt;String&gt; lineListSub0 = MASTER_LINE_LIST.subList(start1, end1);\r\n\t\tList&lt;String&gt; lineListSub1 = MASTER_LINE_LIST.subList(start2, end2);\r\n\t\tList&lt;String&gt; lineListSub2 = MASTER_LINE_LIST.subList(start3, end3);\r\n\r\n\t\tint mllSize = MASTER_LINE_LIST.size();\r\n\t\tint ll0Size = lineListSub0.size();\r\n\t\tint ll1Size = lineListSub1.size();\r\n\t\tint ll2Size = lineListSub2.size();\r\n\t\tint llTotal = ll0Size + ll1Size + ll2Size;\r\n\t\tString msg2 =  &quot;Master list size = &quot; \t\t\t+ mllSize + &quot;\\n\\n&quot; +\r\n\t\t\t\t\t\t &quot;sublist 1 size = &quot; \t\t\t+ ll0Size + &quot;\\n&quot; +\r\n\t\t\t\t\t\t &quot;sublist 2 size = &quot; \t\t\t+ ll1Size + &quot;\\n&quot; +\r\n\t\t\t\t\t\t &quot;sublist 3 size = &quot; \t\t\t+ ll2Size + &quot;\\n\\n&quot; +\r\n\t\t\t\t\t\t &quot;total size of sublists = &quot; \t+ llTotal;\r\n\r\n\t\tSystem.out.println(msg1);\r\n\t\tSystem.out.println(msg2);\r\n\r\nHere is the output from this code:\r\n\r\n    start1 = 0\r\n    end1   = 949\r\n    \r\n    start2 = 950\r\n    end2   = 1899\r\n    \r\n    start3 = 1900\r\n    end3   = 2846\r\n    \r\n    \r\n    Master list size = 2847\r\n    \r\n    sublist 1 size = 949\r\n    sublist 2 size = 949\r\n    sublist 3 size = 946\r\n    \r\n    total size of sublists = 2844\r\n\r\n\r\nAs you can see, the original List has 2,847 elements, yet the sum of the sizes of the subLists adds up to 2,844 ... I somehow lost three elements and I can&#39;t seem to find them because when I look at my start and end indexes that I use for the splits, they appear to me to be a cumulative series of numbers from 0 to 2846, as the start index of the next sublist is the end index of the previous sub-list plus 1 ... it looks right to me but why is it not adding up? Each sub-list SHOULD contain exactly 949 elements ... yet that third one doesn&#39;t ... but if I expand the boundaries of the indexes, I&#39;ll either get repeating data, or I&#39;ll go out of bounds.\r\n\r\nWhat am I missing?\r\n\r\n","title":"Trying to split a List in Java but I&#39;m dumbfounded in indexing confusion","body":"<p>I have a List that I need to split because it gets sent to Google translate via the API and it has a List element size limit of 1024.</p>\n<p>Here's the code (including the debugging code I added to try and figure this out):</p>\n<pre><code>    int size   = MASTER_LINE_LIST.size();\n    int third  = size / 3;\n    int start1 = 0;\n    int end1   = start1 + third;\n    int start2 = end1 + 1;\n    int end2   = start2 + third;\n    int start3 = end2 + 1;\n    int end3   = size - 1;\n\n    String msg1 = &quot;start1 = &quot;   + start1    + &quot;\\n&quot; +\n                  &quot;end1   = &quot;   + end1      + &quot;\\n\\n&quot; +\n                  &quot;start2 = &quot;   + start2    + &quot;\\n&quot; +\n                  &quot;end2   = &quot;   + end2      + &quot;\\n\\n&quot; +\n                  &quot;start3 = &quot;   + start3    + &quot;\\n&quot; +\n                  &quot;end3   = &quot;   + end3      + &quot;\\n\\n&quot;;\n\n    List&lt;String&gt; lineListSub0 = MASTER_LINE_LIST.subList(start1, end1);\n    List&lt;String&gt; lineListSub1 = MASTER_LINE_LIST.subList(start2, end2);\n    List&lt;String&gt; lineListSub2 = MASTER_LINE_LIST.subList(start3, end3);\n\n    int mllSize = MASTER_LINE_LIST.size();\n    int ll0Size = lineListSub0.size();\n    int ll1Size = lineListSub1.size();\n    int ll2Size = lineListSub2.size();\n    int llTotal = ll0Size + ll1Size + ll2Size;\n    String msg2 =  &quot;Master list size = &quot;            + mllSize + &quot;\\n\\n&quot; +\n                     &quot;sublist 1 size = &quot;            + ll0Size + &quot;\\n&quot; +\n                     &quot;sublist 2 size = &quot;            + ll1Size + &quot;\\n&quot; +\n                     &quot;sublist 3 size = &quot;            + ll2Size + &quot;\\n\\n&quot; +\n                     &quot;total size of sublists = &quot;    + llTotal;\n\n    System.out.println(msg1);\n    System.out.println(msg2);\n</code></pre>\n<p>Here is the output from this code:</p>\n<pre><code>start1 = 0\nend1   = 949\n\nstart2 = 950\nend2   = 1899\n\nstart3 = 1900\nend3   = 2846\n\n\nMaster list size = 2847\n\nsublist 1 size = 949\nsublist 2 size = 949\nsublist 3 size = 946\n\ntotal size of sublists = 2844\n</code></pre>\n<p>As you can see, the original List has 2,847 elements, yet the sum of the sizes of the subLists adds up to 2,844 ... I somehow lost three elements and I can't seem to find them because when I look at my start and end indexes that I use for the splits, they appear to me to be a cumulative series of numbers from 0 to 2846, as the start index of the next sublist is the end index of the previous sub-list plus 1 ... it looks right to me but why is it not adding up? Each sub-list SHOULD contain exactly 949 elements ... yet that third one doesn't ... but if I expand the boundaries of the indexes, I'll either get repeating data, or I'll go out of bounds.</p>\n<p>What am I missing?</p>\n"},{"tags":["java","selenium","maven","listener","qaf"],"answers":[{"tags":[],"owner":{"account_id":20410258,"reputation":165,"user_id":14973842,"display_name":"Renish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632584980,"creation_date":1632584980,"answer_id":69327753,"question_id":69327676,"body_markdown":"Identified the issue..\r\n\r\nThe wrong filename given \r\nRegistered: \r\n\r\nwe.command.listeners=com.proj.listener.proj_qaf_listener\r\n\r\nbut the filename is missing &quot;e&quot;.\r\nListener file: proj_qaf_listner.java\r\n\r\n","title":"QAF 3.0.1b | Issue in registering QAFExtendedWebElement listener","body":"<p>Identified the issue..</p>\n<p>The wrong filename given\nRegistered:</p>\n<p>we.command.listeners=com.proj.listener.proj_qaf_listener</p>\n<p>but the filename is missing &quot;e&quot;.\nListener file: proj_qaf_listner.java</p>\n"}],"owner":{"account_id":20410258,"reputation":165,"user_id":14973842,"display_name":"Renish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":382,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632584980,"creation_date":1632584444,"question_id":69327676,"body_markdown":"The listener not registering during run. Getting below error\r\n```\r\n[QAFExtendedWebElement] - Unable to register listener class com.proj.listener.proj_qaf_listener\r\njava.lang.ClassNotFoundException: com.proj.listener.proj_qaf_listener\r\n at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n        at java.lang.Class.forName0(Native Method)\r\n        at java.lang.Class.forName(Class.java:264)\r\n        at com.qmetry.qaf.automation.ui.webdriver.QAFExtendedWebElement.registerListeners(QAFExtendedWebElement.java:1271)\r\n        at com.qmetry.qaf.automation.ui.webdriver.QAFExtendedWebElement.&lt;init&gt;(QAFExtendedWebElement.java:113)\r\n        at com.qmetry.qaf.automation.ui.webdriver.QAFExtendedWebElement$JsonConvertor.newRemoteWebElement(QAFExtendedWebElement.java:425)\r\n        at com.qmetry.qaf.automation.ui.webdriver.QAFExtendedWebElement$JsonConvertor.newRemoteWebElement(QAFExtendedWebElement.java:1)\r\n        at org.openqa.selenium.remote.internal.JsonToWebElementConverter.apply(JsonToWebElementConverter.java:55)\r\n        at com.qmetry.qaf.automation.ui.webdriver.QAFExtendedWebElement$JsonConvertor.apply(QAFExtendedWebElement.java:410)\r\n        at com.google.common.collect.Iterators$6.transform(Iterators.java:788)\r\n        at com.google.common.collect.TransformedIterator.next(TransformedIterator.java:47)\r\n        at com.google.common.collect.Iterators.addAll(Iterators.java:358)\r\n        at com.google.common.collect.Lists.newArrayList(Lists.java:147)\r\n        at com.google.common.collect.Lists.newArrayList(Lists.java:133)\r\n        at com.qmetry.qaf.automation.ui.webdriver.QAFExtendedWebElement$JsonConvertor.apply(QAFExtendedWebElement.java:407)\r\n        at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:561)\r\n        at com.qmetry.qaf.automation.ui.webdriver.QAFExtendedWebDriver.execute(QAFExtendedWebDriver.java:236)\r\n        at org.openqa.selenium.remote.RemoteWebDriver.findElements(RemoteWebDriver.java:353)\r\n        at org.openqa.selenium.remote.RemoteWebDriver.findElementsByName(RemoteWebDriver.java:408)\r\n        at org.openqa.selenium.By$ByName.findElements(By.java:276)\r\n        at com.qmetry.qaf.automation.ui.webdriver.ByAny.findElements(ByAny.java:65)\r\n        at com.qmetry.qaf.automation.ui.webdriver.ByAny.findElement(ByAny.java:49)\r\n        at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:315)\r\n        at com.qmetry.qaf.automation.ui.webdriver.QAFExtendedWebDriver.findElement(QAFExtendedWebDriver.java:172)\r\n        at com.qmetry.qaf.automation.ui.webdriver.QAFExtendedWebDriver.findElement(QAFExtendedWebDriver.java:1)\r\n        at org.openqa.selenium.support.ui.ExpectedConditions$6.apply(ExpectedConditions.java:182)\r\n        at org.openqa.selenium.support.ui.ExpectedConditions$6.apply(ExpectedConditions.java:179)\r\n        at com.qmetry.qaf.automation.ui.util.DynamicWait.until(DynamicWait.java:147)\r\n        at com.qmetry.qaf.automation.ui.webdriver.QAFExtendedWebDriver.load(QAFExtendedWebDriver.java:216)\r\n        at com.qmetry.qaf.automation.ui.webdriver.QAFExtendedWebElement.load(QAFExtendedWebElement.java:302)\r\n        at com.qmetry.qaf.automation.ui.webdriver.QAFExtendedWebElement.execute(QAFExtendedWebElement.java:249)\r\n        at org.openqa.selenium.remote.RemoteWebElement.sendKeys(RemoteWebElement.java:106)\r\n        at com.qmetry.qaf.automation.step.CommonStep.sendKeys_aroundBody6(CommonStep.java:114)\r\n        at com.qmetry.qaf.automation.step.CommonStep$AjcClosure7.run(CommonStep.java:1)\r\n        at org.aspectj.runtime.reflect.JoinPointImpl.proceed(JoinPointImpl.java:167)\r\n        at com.qmetry.qaf.automation.step.JavaStepReporter$MockJavaStep.doExecute(JavaStepReporter.java:130)\r\n        at com.qmetry.qaf.automation.step.BaseTestStep.execute(BaseTestStep.java:149)\r\n        at com.qmetry.qaf.automation.step.JavaStepReporter.javaTestStep(JavaStepReporter.java:80)\r\n        at com.qmetry.qaf.automation.step.CommonStep.sendKeys(CommonStep.java:113)\r\n        at com.rt.steps.rt_globals.iFillInTo_aroundBody86(rt_globals.java:691)\r\n        at com.rt.steps.rt_globals$AjcClosure87.run(rt_globals.java:1)\r\n        at org.aspectj.runtime.reflect.JoinPointImpl.proceed(JoinPointImpl.java:167)\r\n        at com.qmetry.qaf.automation.step.JavaStepReporter.javaTestStep(JavaStepReporter.java:93)\r\n        at com.rt.steps.rt_globals.iFillInTo(rt_globals.java:688)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at com.qmetry.qaf.automation.step.JavaStep.doExecute(JavaStep.java:150)\r\n        at com.qmetry.qaf.automation.step.BaseTestStep.execute(BaseTestStep.java:149)\r\n        at com.qmetry.qaf.automation.step.StringTestStep.execute(StringTestStep.java:127)\r\n        at com.qmetry.qaf.automation.step.client.Scenario.execute(Scenario.java:174)\r\n        at com.qmetry.qaf.automation.step.client.Scenario.scenario(Scenario.java:237)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:104)\r\n        at org.testng.internal.Invoker.invokeMethod(Invoker.java:645)\r\n        at org.testng.internal.Invoker.invokeTestMethod(Invoker.java:851)\r\n        at org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1177)\r\n        at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:129)\r\n        at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:112)\r\n        at org.testng.TestRunner.privateRun(TestRunner.java:756)\r\n        at org.testng.TestRunner.run(TestRunner.java:610)\r\n        at org.testng.SuiteRunner.runTest(SuiteRunner.java:387)\r\n        at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:382)\r\n        at org.testng.SuiteRunner.privateRun(SuiteRunner.java:340)\r\n        at org.testng.SuiteRunner.run(SuiteRunner.java:289)\r\n        at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n        at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\r\n        at org.testng.TestNG.runSuitesSequentially(TestNG.java:1293)\r\n        at org.testng.TestNG.runSuitesLocally(TestNG.java:1218)\r\n        at org.testng.TestNG.runSuites(TestNG.java:1133)\r\n        at org.testng.TestNG.run(TestNG.java:1104)\r\n        at org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:122)\r\n        at org.apache.maven.surefire.testng.TestNGXmlTestSuite.execute(TestNGXmlTestSuite.java:92)\r\n        at org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:101)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:164)\r\n        at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:110)\r\n        at org.apache.maven.surefire.booter.SurefireStarter.invokeProvider(SurefireStarter.java:172)\r\n        at org.apache.maven.surefire.booter.SurefireStarter.runSuitesInProcessWhenForked(SurefireStarter.java:104)\r\n        at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:70)\r\n```\r\nI have added a new QAFExtendedWebElement listener in com.proj.listener\r\n\r\nIn application.properties I have added: \r\nwe.command.listeners=com.proj.listener.proj_qaf_listener\r\n\r\nListener file: proj_qaf_listner.java\r\n\r\n```\r\npackage com.proj.listener;\r\n\r\nimport static com.qmetry.qaf.automation.core.ConfigurationManager.getBundle;\r\nimport static com.qmetry.qaf.automation.step.CommonStep.*;\r\nimport static com.qmetry.qaf.automation.util.Validator.assertThat;\r\n// QAF Listner:\r\nimport java.util.Map;\r\nimport org.apache.commons.logging.Log;\r\nimport org.apache.commons.logging.impl.LogFactoryImpl;\r\nimport org.openqa.selenium.remote.DriverCommand;\r\n\r\nimport com.qmetry.qaf.automation.ui.webdriver.CommandTracker;\r\nimport com.qmetry.qaf.automation.ui.webdriver.QAFExtendedWebElement;\r\nimport com.qmetry.qaf.automation.ui.webdriver.QAFWebElementCommandListener;\r\nimport com.qmetry.qaf.automation.ui.webdriver.QAFWebElementCommandAdapter;\r\n\r\npublic class proj_qaf_listner extends QAFWebElementCommandAdapter {\r\n\r\n//   Log logger = LogFactory.getLog(getClass());\r\n\r\n\r\n  public void onFailure(\r\n    QAFExtendedWebElement element,\r\n    CommandTracker commandTracker\r\n  ) {\r\n    System.out.println(&quot;=====&lt;&lt;&lt;&lt;&lt;&lt;&lt; FALLBACK element &gt;&gt;&gt;&gt;&gt;&gt;&gt;------&gt;  \\n&quot; + element);\r\n    System.out.println(&quot;=====&lt;&lt;&lt;&lt;&lt;&lt;&lt; FALLBACK commandTracker &gt;&gt;&gt;&gt;&gt;&gt;&gt;------&gt; \\n &quot; + commandTracker);\r\n    //By newBy = &lt;do needful&gt;;\r\n    // element.setBy(newBy);\r\n    // commandTracker.setRetry(true);\r\n  }\r\n  \r\n}\r\n\r\n```\r\nReferred following links:\r\n\r\nhttps://qmetry.github.io/qaf/latest/qaf_listeners.html\r\n","title":"QAF 3.0.1b | Issue in registering QAFExtendedWebElement listener","body":"<p>The listener not registering during run. Getting below error</p>\n<pre><code>[QAFExtendedWebElement] - Unable to register listener class com.proj.listener.proj_qaf_listener\njava.lang.ClassNotFoundException: com.proj.listener.proj_qaf_listener\n at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n        at java.lang.Class.forName0(Native Method)\n        at java.lang.Class.forName(Class.java:264)\n        at com.qmetry.qaf.automation.ui.webdriver.QAFExtendedWebElement.registerListeners(QAFExtendedWebElement.java:1271)\n        at com.qmetry.qaf.automation.ui.webdriver.QAFExtendedWebElement.&lt;init&gt;(QAFExtendedWebElement.java:113)\n        at com.qmetry.qaf.automation.ui.webdriver.QAFExtendedWebElement$JsonConvertor.newRemoteWebElement(QAFExtendedWebElement.java:425)\n        at com.qmetry.qaf.automation.ui.webdriver.QAFExtendedWebElement$JsonConvertor.newRemoteWebElement(QAFExtendedWebElement.java:1)\n        at org.openqa.selenium.remote.internal.JsonToWebElementConverter.apply(JsonToWebElementConverter.java:55)\n        at com.qmetry.qaf.automation.ui.webdriver.QAFExtendedWebElement$JsonConvertor.apply(QAFExtendedWebElement.java:410)\n        at com.google.common.collect.Iterators$6.transform(Iterators.java:788)\n        at com.google.common.collect.TransformedIterator.next(TransformedIterator.java:47)\n        at com.google.common.collect.Iterators.addAll(Iterators.java:358)\n        at com.google.common.collect.Lists.newArrayList(Lists.java:147)\n        at com.google.common.collect.Lists.newArrayList(Lists.java:133)\n        at com.qmetry.qaf.automation.ui.webdriver.QAFExtendedWebElement$JsonConvertor.apply(QAFExtendedWebElement.java:407)\n        at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:561)\n        at com.qmetry.qaf.automation.ui.webdriver.QAFExtendedWebDriver.execute(QAFExtendedWebDriver.java:236)\n        at org.openqa.selenium.remote.RemoteWebDriver.findElements(RemoteWebDriver.java:353)\n        at org.openqa.selenium.remote.RemoteWebDriver.findElementsByName(RemoteWebDriver.java:408)\n        at org.openqa.selenium.By$ByName.findElements(By.java:276)\n        at com.qmetry.qaf.automation.ui.webdriver.ByAny.findElements(ByAny.java:65)\n        at com.qmetry.qaf.automation.ui.webdriver.ByAny.findElement(ByAny.java:49)\n        at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:315)\n        at com.qmetry.qaf.automation.ui.webdriver.QAFExtendedWebDriver.findElement(QAFExtendedWebDriver.java:172)\n        at com.qmetry.qaf.automation.ui.webdriver.QAFExtendedWebDriver.findElement(QAFExtendedWebDriver.java:1)\n        at org.openqa.selenium.support.ui.ExpectedConditions$6.apply(ExpectedConditions.java:182)\n        at org.openqa.selenium.support.ui.ExpectedConditions$6.apply(ExpectedConditions.java:179)\n        at com.qmetry.qaf.automation.ui.util.DynamicWait.until(DynamicWait.java:147)\n        at com.qmetry.qaf.automation.ui.webdriver.QAFExtendedWebDriver.load(QAFExtendedWebDriver.java:216)\n        at com.qmetry.qaf.automation.ui.webdriver.QAFExtendedWebElement.load(QAFExtendedWebElement.java:302)\n        at com.qmetry.qaf.automation.ui.webdriver.QAFExtendedWebElement.execute(QAFExtendedWebElement.java:249)\n        at org.openqa.selenium.remote.RemoteWebElement.sendKeys(RemoteWebElement.java:106)\n        at com.qmetry.qaf.automation.step.CommonStep.sendKeys_aroundBody6(CommonStep.java:114)\n        at com.qmetry.qaf.automation.step.CommonStep$AjcClosure7.run(CommonStep.java:1)\n        at org.aspectj.runtime.reflect.JoinPointImpl.proceed(JoinPointImpl.java:167)\n        at com.qmetry.qaf.automation.step.JavaStepReporter$MockJavaStep.doExecute(JavaStepReporter.java:130)\n        at com.qmetry.qaf.automation.step.BaseTestStep.execute(BaseTestStep.java:149)\n        at com.qmetry.qaf.automation.step.JavaStepReporter.javaTestStep(JavaStepReporter.java:80)\n        at com.qmetry.qaf.automation.step.CommonStep.sendKeys(CommonStep.java:113)\n        at com.rt.steps.rt_globals.iFillInTo_aroundBody86(rt_globals.java:691)\n        at com.rt.steps.rt_globals$AjcClosure87.run(rt_globals.java:1)\n        at org.aspectj.runtime.reflect.JoinPointImpl.proceed(JoinPointImpl.java:167)\n        at com.qmetry.qaf.automation.step.JavaStepReporter.javaTestStep(JavaStepReporter.java:93)\n        at com.rt.steps.rt_globals.iFillInTo(rt_globals.java:688)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at com.qmetry.qaf.automation.step.JavaStep.doExecute(JavaStep.java:150)\n        at com.qmetry.qaf.automation.step.BaseTestStep.execute(BaseTestStep.java:149)\n        at com.qmetry.qaf.automation.step.StringTestStep.execute(StringTestStep.java:127)\n        at com.qmetry.qaf.automation.step.client.Scenario.execute(Scenario.java:174)\n        at com.qmetry.qaf.automation.step.client.Scenario.scenario(Scenario.java:237)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:104)\n        at org.testng.internal.Invoker.invokeMethod(Invoker.java:645)\n        at org.testng.internal.Invoker.invokeTestMethod(Invoker.java:851)\n        at org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1177)\n        at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:129)\n        at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:112)\n        at org.testng.TestRunner.privateRun(TestRunner.java:756)\n        at org.testng.TestRunner.run(TestRunner.java:610)\n        at org.testng.SuiteRunner.runTest(SuiteRunner.java:387)\n        at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:382)\n        at org.testng.SuiteRunner.privateRun(SuiteRunner.java:340)\n        at org.testng.SuiteRunner.run(SuiteRunner.java:289)\n        at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n        at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\n        at org.testng.TestNG.runSuitesSequentially(TestNG.java:1293)\n        at org.testng.TestNG.runSuitesLocally(TestNG.java:1218)\n        at org.testng.TestNG.runSuites(TestNG.java:1133)\n        at org.testng.TestNG.run(TestNG.java:1104)\n        at org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:122)\n        at org.apache.maven.surefire.testng.TestNGXmlTestSuite.execute(TestNGXmlTestSuite.java:92)\n        at org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:101)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:164)\n        at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:110)\n        at org.apache.maven.surefire.booter.SurefireStarter.invokeProvider(SurefireStarter.java:172)\n        at org.apache.maven.surefire.booter.SurefireStarter.runSuitesInProcessWhenForked(SurefireStarter.java:104)\n        at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:70)\n</code></pre>\n<p>I have added a new QAFExtendedWebElement listener in com.proj.listener</p>\n<p>In application.properties I have added:\nwe.command.listeners=com.proj.listener.proj_qaf_listener</p>\n<p>Listener file: proj_qaf_listner.java</p>\n<pre><code>package com.proj.listener;\n\nimport static com.qmetry.qaf.automation.core.ConfigurationManager.getBundle;\nimport static com.qmetry.qaf.automation.step.CommonStep.*;\nimport static com.qmetry.qaf.automation.util.Validator.assertThat;\n// QAF Listner:\nimport java.util.Map;\nimport org.apache.commons.logging.Log;\nimport org.apache.commons.logging.impl.LogFactoryImpl;\nimport org.openqa.selenium.remote.DriverCommand;\n\nimport com.qmetry.qaf.automation.ui.webdriver.CommandTracker;\nimport com.qmetry.qaf.automation.ui.webdriver.QAFExtendedWebElement;\nimport com.qmetry.qaf.automation.ui.webdriver.QAFWebElementCommandListener;\nimport com.qmetry.qaf.automation.ui.webdriver.QAFWebElementCommandAdapter;\n\npublic class proj_qaf_listner extends QAFWebElementCommandAdapter {\n\n//   Log logger = LogFactory.getLog(getClass());\n\n\n  public void onFailure(\n    QAFExtendedWebElement element,\n    CommandTracker commandTracker\n  ) {\n    System.out.println(&quot;=====&lt;&lt;&lt;&lt;&lt;&lt;&lt; FALLBACK element &gt;&gt;&gt;&gt;&gt;&gt;&gt;------&gt;  \\n&quot; + element);\n    System.out.println(&quot;=====&lt;&lt;&lt;&lt;&lt;&lt;&lt; FALLBACK commandTracker &gt;&gt;&gt;&gt;&gt;&gt;&gt;------&gt; \\n &quot; + commandTracker);\n    //By newBy = &lt;do needful&gt;;\n    // element.setBy(newBy);\n    // commandTracker.setRetry(true);\n  }\n  \n}\n\n</code></pre>\n<p>Referred following links:</p>\n<p><a href=\"https://qmetry.github.io/qaf/latest/qaf_listeners.html\" rel=\"nofollow noreferrer\">https://qmetry.github.io/qaf/latest/qaf_listeners.html</a></p>\n"},{"tags":["java","arrays","string","arraylist"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":3,"creation_date":1628282312,"post_id":68687226,"comment_id":121387892,"body_markdown":"You can build each line with [`StringBuilder`](https://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html). It has a `length` member you can use to decide if adding a word will make it too long.","body":"You can build each line with <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html\" rel=\"nofollow noreferrer\"><code>StringBuilder</code></a>. It has a <code>length</code> member you can use to decide if adding a word will make it too long."},{"owner":{"account_id":22362597,"reputation":325,"user_id":16578926,"display_name":"Emanuel Garcia"},"score":0,"creation_date":1628282533,"post_id":68687226,"comment_id":121387942,"body_markdown":"hmm... If you have the words &quot;Lorem Ipsum&quot; this will be shown in one line or two?","body":"hmm... If you have the words &quot;Lorem Ipsum&quot; this will be shown in one line or two?"},{"owner":{"account_id":9187007,"reputation":23,"user_id":6828798,"display_name":"Steven Eck"},"score":1,"creation_date":1628282687,"post_id":68687226,"comment_id":121387980,"body_markdown":"@EmanuelGarcia with the constraints above it would be broken into two lines since the both of them would be over the 8 character limit per line.","body":"@EmanuelGarcia with the constraints above it would be broken into two lines since the both of them would be over the 8 character limit per line."},{"owner":{"account_id":22362597,"reputation":325,"user_id":16578926,"display_name":"Emanuel Garcia"},"score":0,"creation_date":1628284948,"post_id":68687226,"comment_id":121388562,"body_markdown":"I just posted an answer @StevenEck you can go and check it.\nAccept if that works.","body":"I just posted an answer @StevenEck you can go and check it. Accept if that works."}],"answers":[{"tags":[],"owner":{"account_id":22362597,"reputation":325,"user_id":16578926,"display_name":"Emanuel Garcia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1628284625,"creation_date":1628284625,"answer_id":68687550,"question_id":68687226,"body_markdown":"For best practices the constants like Limit length per word is to do on constants.\r\n\r\nSo first lets create a constant variable.\r\n`final int MAX_WORDS_PER_LINE = 8;`\r\n\r\nLets guess you have a String array with sentences:\r\n\r\n`String[] sentences = {&quot;Hello World Im learning.&quot;, &quot;Other Word here&quot;};`\r\n\r\n\r\nSo out logic will be like this. We will iterate for each sentence on sentences.\r\nAnd after that for each word on sentence.\r\n\r\n\r\nSo our code will look like this.\r\n\r\n    // We use StringBuilder to save the word that we need to print.\r\n    StringBuilder wordToPrint = new StringBuilder();\r\n\r\n        for (String sentence: sentences) {\r\n            // for each sentence we will save the words like this:\r\n            String[] words = sentence.split(&quot; &quot;);\r\n\r\n            // there we will iterate for each word on words\r\n            for(String word: words) {\r\n                // and check if length of word that we have to print + current word length is more than max words length per line.  \r\n                if (wordToPrint.length() + word.length() &gt; MAX_WORDS_PER_LINE) {\r\n                    //So if its true we need to print that word and clear the word to print.\r\n                    System.out.println(wordToPrint);\r\n                    wordToPrint.delete(0, wordToPrint.length());\r\n                }\r\n\r\n                // So everytime we need to append an space and the current word.\r\n                wordToPrint.append(&quot; &quot;).append(word);\r\n            }\r\n        }","title":"How to output String array on separate lines with N amount of characters allowed per line","body":"<p>For best practices the constants like Limit length per word is to do on constants.</p>\n<p>So first lets create a constant variable.\n<code>final int MAX_WORDS_PER_LINE = 8;</code></p>\n<p>Lets guess you have a String array with sentences:</p>\n<p><code>String[] sentences = {&quot;Hello World Im learning.&quot;, &quot;Other Word here&quot;};</code></p>\n<p>So out logic will be like this. We will iterate for each sentence on sentences.\nAnd after that for each word on sentence.</p>\n<p>So our code will look like this.</p>\n<pre><code>// We use StringBuilder to save the word that we need to print.\nStringBuilder wordToPrint = new StringBuilder();\n\n    for (String sentence: sentences) {\n        // for each sentence we will save the words like this:\n        String[] words = sentence.split(&quot; &quot;);\n\n        // there we will iterate for each word on words\n        for(String word: words) {\n            // and check if length of word that we have to print + current word length is more than max words length per line.  \n            if (wordToPrint.length() + word.length() &gt; MAX_WORDS_PER_LINE) {\n                //So if its true we need to print that word and clear the word to print.\n                System.out.println(wordToPrint);\n                wordToPrint.delete(0, wordToPrint.length());\n            }\n\n            // So everytime we need to append an space and the current word.\n            wordToPrint.append(&quot; &quot;).append(word);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15561237,"reputation":1596,"user_id":11226302,"display_name":"Shivam Puri"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1628285663,"creation_date":1628285663,"answer_id":68687673,"question_id":68687226,"body_markdown":"Gabriel Rouleau&#39;s code above will skip a lot of words when iterating in the loop.\r\nFor example in string &quot;A red sweater.&quot; it will loop for &quot;A&quot;, add to ```line``` variable then &quot;red&quot; is added to ```line``` variable then sweater is iterated but not added to line variable. It is never revisited to be added in the next line.\r\n\r\nFixing that problem by iterating with the primitive for loop syntax and decrementing the iteration index if a word needs to be revisited for the next line.\r\n```\r\n    String sentence = &quot;A red sweater with some other stuff.&quot;;\r\n    String[] words = sentence.split(&quot; &quot;);\r\n    int bound = 8;\r\n\r\n    if(words.length == 0) return;\r\n\r\n    String line = &quot;&quot;;\r\n    Boolean first = true;\r\n    for (int i = 0; i &lt; words.length; i++) {\r\n        if(first) {\r\n            line = words[i];\r\n            first = false;\r\n        } else {\r\n            if ((line + &quot; &quot; + words[i]).length() &lt; bound) {\r\n                line += &quot; &quot; + words[i];\r\n            } else {\r\n                System.out.println(line);\r\n                line = words[i];\r\n                first = true;\r\n                i--;\r\n            }\r\n        }\r\n    }\r\n    System.out.println(line);\r\n```\r\n\r\nAlso, this code fixes the problem that the original question was having (Considering more than 2 elements).\r\n\r\n**Code tested and runs successfully!**","title":"How to output String array on separate lines with N amount of characters allowed per line","body":"<p>Gabriel Rouleau's code above will skip a lot of words when iterating in the loop.\nFor example in string &quot;A red sweater.&quot; it will loop for &quot;A&quot;, add to <code>line</code> variable then &quot;red&quot; is added to <code>line</code> variable then sweater is iterated but not added to line variable. It is never revisited to be added in the next line.</p>\n<p>Fixing that problem by iterating with the primitive for loop syntax and decrementing the iteration index if a word needs to be revisited for the next line.</p>\n<pre><code>    String sentence = &quot;A red sweater with some other stuff.&quot;;\n    String[] words = sentence.split(&quot; &quot;);\n    int bound = 8;\n\n    if(words.length == 0) return;\n\n    String line = &quot;&quot;;\n    Boolean first = true;\n    for (int i = 0; i &lt; words.length; i++) {\n        if(first) {\n            line = words[i];\n            first = false;\n        } else {\n            if ((line + &quot; &quot; + words[i]).length() &lt; bound) {\n                line += &quot; &quot; + words[i];\n            } else {\n                System.out.println(line);\n                line = words[i];\n                first = true;\n                i--;\n            }\n        }\n    }\n    System.out.println(line);\n</code></pre>\n<p>Also, this code fixes the problem that the original question was having (Considering more than 2 elements).</p>\n<p><strong>Code tested and runs successfully!</strong></p>\n"}],"owner":{"account_id":9187007,"reputation":23,"user_id":6828798,"display_name":"Steven Eck"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":795,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":68687673,"answer_count":2,"score":2,"last_activity_date":1632584283,"creation_date":1628282076,"question_id":68687226,"body_markdown":"I had a coding interview and this question was given. Given a string of words, break up that string into words and output them on separate lines not to exceed N characters long per line. The sample given to me was &quot;A red sweater.&quot; and a line length of 8. The words can&#39;t be broken up and you have to fit as many words per line as you can. So, for the given example, &quot;A&quot; &amp; &quot;red&quot; would fit on one line and &quot;sweater.&quot; added to that line is over the allowed length of characters, so it would get output on a new line. \r\n\r\nI started out by splitting the String into a String []. Then created a method that took in the String [] and the line length. I made some assumptions on the edge cases and then looped through the String [].This is where I got very confused on what could I use to represent a single line and how to add a subarray on a single line. I looked up algorithms that will find all subarrays that get close to a sum, but it appeared that it recycles elements and I can&#39;t do that. \r\n\r\nThis is as far as I got before the time ran out:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    class Solution {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tString sentence = &quot;A red sweater.&quot;;\r\n\r\n\t\tString[] words = sentence.split(&quot; &quot;);\r\n\r\n\t\tSolution newSol = new Solution();\r\n\r\n\t\tSystem.out.println(newSol.convertToLines(words, 8));\r\n\t}\r\n\r\n\tpublic List&lt;String&gt; convertToLines(String[] myArr, int bound) {\r\n\t\tList&lt;String&gt; result = new ArrayList&lt;String&gt;();\r\n\r\n\t\tif (myArr.length == 0) {\r\n\t\t\treturn result;\r\n\t\t}\r\n\r\n\t\tfor (int i = 0; i &lt; myArr.length; i++) {\r\n\t\t\tif (myArr[i].length() &gt; bound) {\r\n\t\t\t\tSystem.out.println(&quot;One or more words is larger than your boundary&quot;);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n            //This is where I got into trouble\r\n            //This doesn&#39;t account for more than 2 elements\r\n            //nor how I would output them on separate lines \r\n\t\t\tif (myArr[i].length() + myArr[i].length() &lt;= bound) {\r\n\t\t\t\tresult.add(myArr[i] + &quot; &quot; + myArr[i + 1]);\r\n\t\t\t} else {\r\n\t\t\t\tresult.add(myArr[i]);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\treturn result;\r\n\r\n\t }\r\n\r\n    }\r\n\r\nI searched all over for this particular problem and couldn&#39;t find it. I assume that there is a pattern or something I am missing, but after hours messing with it, I&#39;m still at a loss as where to go from here. I have never coded something similar to this. While it&#39;s too late for the interview, I would still like to know how this could be solved so that I can learn from it and keep on learning. ","title":"How to output String array on separate lines with N amount of characters allowed per line","body":"<p>I had a coding interview and this question was given. Given a string of words, break up that string into words and output them on separate lines not to exceed N characters long per line. The sample given to me was &quot;A red sweater.&quot; and a line length of 8. The words can't be broken up and you have to fit as many words per line as you can. So, for the given example, &quot;A&quot; &amp; &quot;red&quot; would fit on one line and &quot;sweater.&quot; added to that line is over the allowed length of characters, so it would get output on a new line.</p>\n<p>I started out by splitting the String into a String []. Then created a method that took in the String [] and the line length. I made some assumptions on the edge cases and then looped through the String [].This is where I got very confused on what could I use to represent a single line and how to add a subarray on a single line. I looked up algorithms that will find all subarrays that get close to a sum, but it appeared that it recycles elements and I can't do that.</p>\n<p>This is as far as I got before the time ran out:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\nclass Solution {\n\npublic static void main(String[] args) {\n\n    String sentence = &quot;A red sweater.&quot;;\n\n    String[] words = sentence.split(&quot; &quot;);\n\n    Solution newSol = new Solution();\n\n    System.out.println(newSol.convertToLines(words, 8));\n}\n\npublic List&lt;String&gt; convertToLines(String[] myArr, int bound) {\n    List&lt;String&gt; result = new ArrayList&lt;String&gt;();\n\n    if (myArr.length == 0) {\n        return result;\n    }\n\n    for (int i = 0; i &lt; myArr.length; i++) {\n        if (myArr[i].length() &gt; bound) {\n            System.out.println(&quot;One or more words is larger than your boundary&quot;);\n            break;\n        }\n        //This is where I got into trouble\n        //This doesn't account for more than 2 elements\n        //nor how I would output them on separate lines \n        if (myArr[i].length() + myArr[i].length() &lt;= bound) {\n            result.add(myArr[i] + &quot; &quot; + myArr[i + 1]);\n        } else {\n            result.add(myArr[i]);\n        }\n\n    }\n    return result;\n\n }\n\n}\n</code></pre>\n<p>I searched all over for this particular problem and couldn't find it. I assume that there is a pattern or something I am missing, but after hours messing with it, I'm still at a loss as where to go from here. I have never coded something similar to this. While it's too late for the interview, I would still like to know how this could be solved so that I can learn from it and keep on learning.</p>\n"},{"tags":["java","indexing","location","eof"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1631961824,"post_id":69233825,"comment_id":122368268,"body_markdown":"The code seems very confused. You seem to be treating the same file (location.txt) several times. If you need to count the number of lines in it (I&#39;m not convinced you do), you should be calling `hasNextLine` on the `Scanner` and counting them. Could you please describe, in simple words, what exactly you are doing?","body":"The code seems very confused. You seem to be treating the same file (location.txt) several times. If you need to count the number of lines in it (I&#39;m not convinced you do), you should be calling <code>hasNextLine</code> on the <code>Scanner</code> and counting them. Could you please describe, in simple words, what exactly you are doing?"},{"owner":{"account_id":22788845,"reputation":1,"user_id":16943513,"display_name":"Asst. Farah"},"score":0,"creation_date":1631962712,"post_id":69233825,"comment_id":122368472,"body_markdown":"I edited my codes .. I was calling `hasNextLine` so by mistake I called `hasNext`. So What I am doing is: I saved the index for some characters in (location.txt) file, these characters are taken from a message found in SFile.txt.. then here in these codes I want to retrieve the characters from SFile.txt that have the locations saved in location.txt. ... Hope I could transfer my idea","body":"I edited my codes .. I was calling <code>hasNextLine</code> so by mistake I called <code>hasNext</code>. So What I am doing is: I saved the index for some characters in (location.txt) file, these characters are taken from a message found in SFile.txt.. then here in these codes I want to retrieve the characters from SFile.txt that have the locations saved in location.txt. ... Hope I could transfer my idea"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1631963112,"post_id":69233825,"comment_id":122368561,"body_markdown":"Personally I would put SFile.txt into a `List&lt;String&gt;` then you can access the file randomly with the right location. As far as the locations are concerned, I would save the locations as lines of `&lt;line number&gt;&lt;space&gt;&lt;line offset&gt;`","body":"Personally I would put SFile.txt into a <code>List&lt;String&gt;</code> then you can access the file randomly with the right location. As far as the locations are concerned, I would save the locations as lines of <code>&lt;line number&gt;&lt;space&gt;&lt;line offset&gt;</code>"},{"owner":{"account_id":19414861,"reputation":443,"user_id":14198583,"display_name":"Christopher"},"score":0,"creation_date":1631964351,"post_id":69233825,"comment_id":122368855,"body_markdown":"lineNumb is initialized to 1 and then incremented. Remember that Java uses zero based indexing.","body":"lineNumb is initialized to 1 and then incremented. Remember that Java uses zero based indexing."},{"owner":{"account_id":22788845,"reputation":1,"user_id":16943513,"display_name":"Asst. Farah"},"score":0,"creation_date":1631965362,"post_id":69233825,"comment_id":122369063,"body_markdown":"@Christopher right.. But I don&#39;t have any problem with retrieving.. I just had the error that tells (Index 120 out of bounds for length 120).","body":"@Christopher right.. But I don&#39;t have any problem with retrieving.. I just had the error that tells (Index 120 out of bounds for length 120)."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1631974146,"post_id":69233825,"comment_id":122370890,"body_markdown":"@Asst.Farah - Christopher&#39;s last comment tells you the reason that you are getting that `IndexOutOfBoundsException`.","body":"@Asst.Farah - Christopher&#39;s last comment tells you the reason that you are getting that <code>IndexOutOfBoundsException</code>."}],"answers":[{"tags":[],"owner":{"account_id":22788845,"reputation":1,"user_id":16943513,"display_name":"Asst. Farah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632584043,"creation_date":1632584043,"answer_id":69327618,"question_id":69233825,"body_markdown":"Here is the solution ...\r\n    \r\n            int n;\r\n            String s; \r\n            int lineNumCount = 0;\r\n            String coverText = stegoMsg.getText(); // get the stego text from the textfield\r\n            int k = coverText.length(); // get the length for the stego text\r\n            int lineNumb = 1;\r\n            Scanner myFile = null;\r\n            try{\r\n            Scanner file = new Scanner(new File(&quot;location.txt&quot;));\r\n            myFile = file;\r\n            }catch (FileNotFoundException e){\r\n                System.out.println(&quot;File does not found&quot;);\r\n            }\r\n           try{\r\n            while (myFile.hasNext()){\r\n                //Count the Number of the lines in location.txt\r\n                //1. Read the File\r\n                File fileLocation = new File(&quot;C:\\\\Users\\\\Farah\\\\Dropbox\\\\Steganography codes\\\\NewStegoTech\\\\location.txt&quot;);\r\n                if(fileLocation.exists()){\r\n                    try {\r\n                        FileReader fr = new FileReader(fileLocation);\r\n                        LineNumberReader lr = new LineNumberReader(fr); //2. Read the lines for location.txt\r\n                        \r\n                        while((lr.readLine()) !=null){\r\n                        lineNumCount++;\r\n                                }\r\n                    } catch (FileNotFoundException ex) {\r\n                        Logger.getLogger(ExtPage.class.getName()).log(Level.SEVERE, null, ex);\r\n                    } catch (IOException ex) {\r\n                        Logger.getLogger(ExtPage.class.getName()).log(Level.SEVERE, null, ex);\r\n                    }\r\n                \r\n              try{\r\n                    String line = Files.readAllLines(Paths.get(&quot;location.txt&quot;)).get(lineNumb);\r\n                   // System.out.println(&quot;Line First &quot; + line);\r\n                    BufferedReader bufrd = new BufferedReader(new FileReader(&quot;Stego File.txt&quot;));\r\n                    int nn = Integer.parseInt(line);  \r\n                    s = bufrd.readLine();\r\n                    System.out.println(&quot;The Loocation &quot; + nn  + &quot; is : &quot;+ s.charAt(nn)); // read the character that has this location\r\n                    lineNumb++;\r\n                    }catch(IOException e){\r\n                        System.out.println(e);\r\n                    }\r\n               \r\n                }\r\n            }\r\n           }catch(IndexOutOfBoundsException e)\r\n           {\r\n               System.out.println(&quot;Finish reading file&quot;);\r\n           }\r\n           \r\n            myFile.close();","title":"How can I reach End Of File?","body":"<p>Here is the solution ...</p>\n<pre><code>        int n;\n        String s; \n        int lineNumCount = 0;\n        String coverText = stegoMsg.getText(); // get the stego text from the textfield\n        int k = coverText.length(); // get the length for the stego text\n        int lineNumb = 1;\n        Scanner myFile = null;\n        try{\n        Scanner file = new Scanner(new File(&quot;location.txt&quot;));\n        myFile = file;\n        }catch (FileNotFoundException e){\n            System.out.println(&quot;File does not found&quot;);\n        }\n       try{\n        while (myFile.hasNext()){\n            //Count the Number of the lines in location.txt\n            //1. Read the File\n            File fileLocation = new File(&quot;C:\\\\Users\\\\Farah\\\\Dropbox\\\\Steganography codes\\\\NewStegoTech\\\\location.txt&quot;);\n            if(fileLocation.exists()){\n                try {\n                    FileReader fr = new FileReader(fileLocation);\n                    LineNumberReader lr = new LineNumberReader(fr); //2. Read the lines for location.txt\n                    \n                    while((lr.readLine()) !=null){\n                    lineNumCount++;\n                            }\n                } catch (FileNotFoundException ex) {\n                    Logger.getLogger(ExtPage.class.getName()).log(Level.SEVERE, null, ex);\n                } catch (IOException ex) {\n                    Logger.getLogger(ExtPage.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            \n          try{\n                String line = Files.readAllLines(Paths.get(&quot;location.txt&quot;)).get(lineNumb);\n               // System.out.println(&quot;Line First &quot; + line);\n                BufferedReader bufrd = new BufferedReader(new FileReader(&quot;Stego File.txt&quot;));\n                int nn = Integer.parseInt(line);  \n                s = bufrd.readLine();\n                System.out.println(&quot;The Loocation &quot; + nn  + &quot; is : &quot;+ s.charAt(nn)); // read the character that has this location\n                lineNumb++;\n                }catch(IOException e){\n                    System.out.println(e);\n                }\n           \n            }\n        }\n       }catch(IndexOutOfBoundsException e)\n       {\n           System.out.println(&quot;Finish reading file&quot;);\n       }\n       \n        myFile.close();\n</code></pre>\n"}],"owner":{"account_id":22788845,"reputation":1,"user_id":16943513,"display_name":"Asst. Farah"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69327618,"answer_count":1,"score":0,"last_activity_date":1632584043,"creation_date":1631961115,"question_id":69233825,"body_markdown":"I am designing a program that saves the index location for specific characters from a message. Then, I need to retrieve these characters according to their index location. I kept the locations for these characters in a .txt file. I retrieved them, but at the end, I got this message &quot;Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.IndexOutOfBoundsException: Index 120 out of bounds for length 120&quot;. \r\nMy codes:\r\n\r\n    int n;\r\n    String s; \r\n    int lineNumCount = 0;\r\n    String coverText = stegoMsg.getText(); // get the stego text from the textfield\r\n    int k = coverText.length(); // get the length for the stego text\r\n    int lineNumb = 1;\r\n    Scanner myFile = null;\r\n              try{\r\n                   Scanner file = new Scanner(new File(&quot;location.txt&quot;));//location.txt is the file that has the locations for the characters\r\n                   myFile = file;\r\n                 }catch (FileNotFoundException e){\r\n                     System.out.println(&quot;File does not found&quot;);\r\n                 }\r\n            while (myFile.hasNextLine()){\r\n                //Count the Number of the lines in location.txt\r\n                //1. Read the File\r\n                File fileLocation = new File(&quot;location.txt&quot;); \r\n                if(fileLocation.exists()){\r\n                    try {\r\n                        FileReader fr = new FileReader(fileLocation);\r\n                        LineNumberReader lr = new LineNumberReader(fr); //2. Read the lines for location.txt\r\n                        \r\n                        while((lr.readLine()) !=null){\r\n                        lineNumCount++;\r\n                                }\r\n                       // System.out.println(&quot;Total Number of the Lines &quot; + lineNumCount);\r\n                    } catch (FileNotFoundException ex) {\r\n                        Logger.getLogger(ExtPage.class.getName()).log(Level.SEVERE, null, ex);\r\n                    } catch (IOException ex) {\r\n                        Logger.getLogger(ExtPage.class.getName()).log(Level.SEVERE, null, ex);\r\n                    }\r\n                \r\n               for(int x = 0; x&lt;lineNumCount; ++x){\r\n                try{\r\n                    String line = Files.readAllLines(Paths.get(&quot;location.txt&quot;)).get(lineNumb);\r\n                   // System.out.println(&quot;Line First &quot; + line);\r\n                    BufferedReader bufrd = new BufferedReader(new FileReader(&quot;SFile.txt&quot;)); //SFile.txt is the file that has the messsage that I need to take the location for the specific characters\r\n                    int nn = Integer.parseInt(line);  \r\n                    s = bufrd.readLine();\r\n                    System.out.println(&quot;The Location &quot; + nn  + &quot; is : &quot;+ s.charAt(nn)); // read the character that has this location\r\n                    lineNumb++;\r\n                    \r\n                    }catch(IOException e){\r\n                        System.out.println(&quot;Line 334&quot;);\r\n                    }\r\n               }\r\n                }\r\n            }\r\n            myFile.close();\r\n     }\r\n\r\nIs it possible to guide me on how I can solve the exception? \r\nI appreciate any help you can provide.","title":"How can I reach End Of File?","body":"<p>I am designing a program that saves the index location for specific characters from a message. Then, I need to retrieve these characters according to their index location. I kept the locations for these characters in a .txt file. I retrieved them, but at the end, I got this message &quot;Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.IndexOutOfBoundsException: Index 120 out of bounds for length 120&quot;.\nMy codes:</p>\n<pre><code>int n;\nString s; \nint lineNumCount = 0;\nString coverText = stegoMsg.getText(); // get the stego text from the textfield\nint k = coverText.length(); // get the length for the stego text\nint lineNumb = 1;\nScanner myFile = null;\n          try{\n               Scanner file = new Scanner(new File(&quot;location.txt&quot;));//location.txt is the file that has the locations for the characters\n               myFile = file;\n             }catch (FileNotFoundException e){\n                 System.out.println(&quot;File does not found&quot;);\n             }\n        while (myFile.hasNextLine()){\n            //Count the Number of the lines in location.txt\n            //1. Read the File\n            File fileLocation = new File(&quot;location.txt&quot;); \n            if(fileLocation.exists()){\n                try {\n                    FileReader fr = new FileReader(fileLocation);\n                    LineNumberReader lr = new LineNumberReader(fr); //2. Read the lines for location.txt\n                    \n                    while((lr.readLine()) !=null){\n                    lineNumCount++;\n                            }\n                   // System.out.println(&quot;Total Number of the Lines &quot; + lineNumCount);\n                } catch (FileNotFoundException ex) {\n                    Logger.getLogger(ExtPage.class.getName()).log(Level.SEVERE, null, ex);\n                } catch (IOException ex) {\n                    Logger.getLogger(ExtPage.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            \n           for(int x = 0; x&lt;lineNumCount; ++x){\n            try{\n                String line = Files.readAllLines(Paths.get(&quot;location.txt&quot;)).get(lineNumb);\n               // System.out.println(&quot;Line First &quot; + line);\n                BufferedReader bufrd = new BufferedReader(new FileReader(&quot;SFile.txt&quot;)); //SFile.txt is the file that has the messsage that I need to take the location for the specific characters\n                int nn = Integer.parseInt(line);  \n                s = bufrd.readLine();\n                System.out.println(&quot;The Location &quot; + nn  + &quot; is : &quot;+ s.charAt(nn)); // read the character that has this location\n                lineNumb++;\n                \n                }catch(IOException e){\n                    System.out.println(&quot;Line 334&quot;);\n                }\n           }\n            }\n        }\n        myFile.close();\n }\n</code></pre>\n<p>Is it possible to guide me on how I can solve the exception?\nI appreciate any help you can provide.</p>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":9609,"reputation":92294,"user_id":17833,"display_name":"Anya Shenanigans"},"score":0,"creation_date":1631976989,"post_id":69235519,"comment_id":122371543,"body_markdown":"The class you&#39;re using is not a descendant of the `Context` class, which is why you don&#39;t have those symbols available. Perhaps passing an instance of a Context class into the save function and using that?","body":"The class you&#39;re using is not a descendant of the <code>Context</code> class, which is why you don&#39;t have those symbols available. Perhaps passing an instance of a Context class into the save function and using that?"}],"answers":[{"tags":[],"owner":{"account_id":16429226,"reputation":1519,"user_id":11868502,"display_name":"Saurabh Dhage"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632583924,"creation_date":1632583924,"answer_id":69327600,"question_id":69235519,"body_markdown":"     FileOutputStream fos = getApplicationContext().getContextResolver().openFileOutput(FILENAME);\r\n\r\nBefore using `openFileOutpout()` you have to use `getContextResolver()` and there is no `Context.MODE_PRIVATE` parameter in this function","title":"how to save text to file in Android Studio?","body":"<pre><code> FileOutputStream fos = getApplicationContext().getContextResolver().openFileOutput(FILENAME);\n</code></pre>\n<p>Before using <code>openFileOutpout()</code> you have to use <code>getContextResolver()</code> and there is no <code>Context.MODE_PRIVATE</code> parameter in this function</p>\n"}],"owner":{"account_id":22781394,"reputation":5,"user_id":16937287,"display_name":"Sleepy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":440,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69327600,"answer_count":1,"score":0,"last_activity_date":1632583924,"creation_date":1631975015,"question_id":69235519,"body_markdown":"I want to create file in which the first line will be constantly updated. actually I want to save this file to custom path, for example /storage/emulated/0/Download, but I don&#39;t know how to do that, so now I have something like this:\r\n\r\n```\r\npublic void save(){\r\n    while(true) {\r\n        try {\r\n            String FILENAME = &quot;my_file&quot;;\r\n            String string = &quot;&quot; + System.currentTimeMillis();\r\n\r\n            FileOutputStream fos = openFileOutput(FILENAME, MODE_PRIVATE);\r\n            fos.write(string.getBytes());\r\n        } catch (Exception e) {\r\n\r\n            e.printStackTrace();\r\n\r\n        }\r\n    }\r\n}\r\n```\r\nand this code gives me two errors\r\n\r\n 1. Cannot resolve method &#39;openFileOutput&#39;\r\n 2. Cannot resolve symbol &#39;MODE_PRIVATE&#39;","title":"how to save text to file in Android Studio?","body":"<p>I want to create file in which the first line will be constantly updated. actually I want to save this file to custom path, for example /storage/emulated/0/Download, but I don't know how to do that, so now I have something like this:</p>\n<pre><code>public void save(){\n    while(true) {\n        try {\n            String FILENAME = &quot;my_file&quot;;\n            String string = &quot;&quot; + System.currentTimeMillis();\n\n            FileOutputStream fos = openFileOutput(FILENAME, MODE_PRIVATE);\n            fos.write(string.getBytes());\n        } catch (Exception e) {\n\n            e.printStackTrace();\n\n        }\n    }\n}\n</code></pre>\n<p>and this code gives me two errors</p>\n<ol>\n<li>Cannot resolve method 'openFileOutput'</li>\n<li>Cannot resolve symbol 'MODE_PRIVATE'</li>\n</ol>\n"},{"tags":["java","jpa"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1632476512,"post_id":69312759,"comment_id":122508303,"body_markdown":"You are using the same address in Home and Office? If yes then it&#39;s a ManyToOne and not a OneToOne. If not then you can use orphan removal","body":"You are using the same address in Home and Office? If yes then it&#39;s a ManyToOne and not a OneToOne. If not then you can use orphan removal"},{"owner":{"account_id":1059597,"reputation":24002,"user_id":1061499,"accept_rate":84,"display_name":"davioooh"},"score":0,"creation_date":1632476728,"post_id":69312759,"comment_id":122508382,"body_markdown":"@SimonMartinelli no, not the same: a new address is created every time a new Office/Home is created. I tried to apply orphanRemoval to OneToOne, but setting the address field to null doesn&#39;t trigger the (address) entity to be removed from the database.","body":"@SimonMartinelli no, not the same: a new address is created every time a new Office/Home is created. I tried to apply orphanRemoval to OneToOne, but setting the address field to null doesn&#39;t trigger the (address) entity to be removed from the database."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1632482218,"post_id":69312759,"comment_id":122510655,"body_markdown":"Does this answer your question? [JPA orphan removal does not work for OneToOne relations](https://stackoverflow.com/questions/31470414/jpa-orphan-removal-does-not-work-for-onetoone-relations)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/31470414/jpa-orphan-removal-does-not-work-for-onetoone-relations\">JPA orphan removal does not work for OneToOne relations</a>"}],"answers":[{"tags":[],"owner":{"account_id":18098038,"reputation":1240,"user_id":13156126,"display_name":"fladdimir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632583488,"creation_date":1632583488,"answer_id":69327528,"question_id":69312759,"body_markdown":"Replicating your problem as follows, `orphanRemoval` works as expected:\r\nhttps://github.com/fladdimir/so-jpa/blob/b324b3d2867ba62ee3e96357822ea9aee86a10a0/src/test/java/org/demo/address/AddressTest.java#L57\r\n\r\n    @Entity\r\n    @Data\r\n    class Home {\r\n\r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n      private Long id;\r\n\r\n      @OneToOne(orphanRemoval = true) // should work as shown in the linked test\r\n      private Address address; // &lt;- associated entity is removed when set to &#39;null&#39;\r\n    }\r\n\r\nDoes this work for you? If not, what are the differences to your setup?\r\n\r\n","title":"Implement &quot;reverse&quot; orphan removal with JPA","body":"<p>Replicating your problem as follows, <code>orphanRemoval</code> works as expected:\n<a href=\"https://github.com/fladdimir/so-jpa/blob/b324b3d2867ba62ee3e96357822ea9aee86a10a0/src/test/java/org/demo/address/AddressTest.java#L57\" rel=\"nofollow noreferrer\">https://github.com/fladdimir/so-jpa/blob/b324b3d2867ba62ee3e96357822ea9aee86a10a0/src/test/java/org/demo/address/AddressTest.java#L57</a></p>\n<pre><code>@Entity\n@Data\nclass Home {\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.SEQUENCE)\n  private Long id;\n\n  @OneToOne(orphanRemoval = true) // should work as shown in the linked test\n  private Address address; // &lt;- associated entity is removed when set to 'null'\n}\n</code></pre>\n<p>Does this work for you? If not, what are the differences to your setup?</p>\n"}],"owner":{"account_id":1059597,"reputation":24002,"user_id":1061499,"accept_rate":84,"display_name":"davioooh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69327528,"answer_count":1,"score":0,"last_activity_date":1632583488,"creation_date":1632476031,"question_id":69312759,"body_markdown":"I have an entity Address that is referenced by several other entities, for example:\r\n\r\n    @Entity\r\n    class Office {\r\n    \t@OneToOne\r\n    \tprivate Address address;\r\n    \r\n    \t...\r\n    }\r\n\r\n    @Entity\r\n    class Home {\r\n    \t@OneToOne\r\n    \tprivate Address address;\r\n    \r\n    \t...\r\n    }\r\n\r\nwhere\r\n\r\n    @Entity\r\n    class Address {\r\n    \t@Id\r\n    \tprivate Long id;\r\n    \tprivate String street;\r\n    \tprivate String zipCode;\r\n    \t\r\n    \t...\r\n    }\r\n\r\nThe field referencing `Address` in the other entities is nullable, so I&#39;d like that when, for example, `Office.address` is set to `null`, the referenced entity is removed from database.\r\n\r\nThis is similar to how `orphanRemoval` works, but in my situation I need that the *parent* class (`Address`) instance is removed, instead of the *child*.\r\n\r\nIs there a way to achieve this using a declarative way, or shoul I manually remove the unreferenced `Address`es?\r\n\r\n**NOTES**\r\n- a new address is created every time a new Office/Home/etc. is created. (There are no shared addresses referenced by other entities.)\r\n\r\n- I tried to apply orphanRemoval to `@OneToOne` annotation, but setting the `address` field to null doesn&#39;t trigger the (`Address`) entity to be removed from the database.\r\n\r\n- I already checked this answer: https://stackoverflow.com/a/31471415/1061499, but this is not applicable to my case. I can&#39;t include a cross reference in my `Address` class.","title":"Implement &quot;reverse&quot; orphan removal with JPA","body":"<p>I have an entity Address that is referenced by several other entities, for example:</p>\n<pre><code>@Entity\nclass Office {\n    @OneToOne\n    private Address address;\n\n    ...\n}\n\n@Entity\nclass Home {\n    @OneToOne\n    private Address address;\n\n    ...\n}\n</code></pre>\n<p>where</p>\n<pre><code>@Entity\nclass Address {\n    @Id\n    private Long id;\n    private String street;\n    private String zipCode;\n    \n    ...\n}\n</code></pre>\n<p>The field referencing <code>Address</code> in the other entities is nullable, so I'd like that when, for example, <code>Office.address</code> is set to <code>null</code>, the referenced entity is removed from database.</p>\n<p>This is similar to how <code>orphanRemoval</code> works, but in my situation I need that the <em>parent</em> class (<code>Address</code>) instance is removed, instead of the <em>child</em>.</p>\n<p>Is there a way to achieve this using a declarative way, or shoul I manually remove the unreferenced <code>Address</code>es?</p>\n<p><strong>NOTES</strong></p>\n<ul>\n<li><p>a new address is created every time a new Office/Home/etc. is created. (There are no shared addresses referenced by other entities.)</p>\n</li>\n<li><p>I tried to apply orphanRemoval to <code>@OneToOne</code> annotation, but setting the <code>address</code> field to null doesn't trigger the (<code>Address</code>) entity to be removed from the database.</p>\n</li>\n<li><p>I already checked this answer: <a href=\"https://stackoverflow.com/a/31471415/1061499\">https://stackoverflow.com/a/31471415/1061499</a>, but this is not applicable to my case. I can't include a cross reference in my <code>Address</code> class.</p>\n</li>\n</ul>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":733809,"reputation":43147,"user_id":1211528,"accept_rate":57,"display_name":"plalx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632530187,"creation_date":1632530187,"answer_id":69322258,"question_id":69322158,"body_markdown":"It&#39;s not a generic solution, but in your specific use case you could use the `long` primitive instead of `Long` which will coerce `null` to `0` when deserialized.","title":"Set the default value of a property if null in springboot","body":"<p>It's not a generic solution, but in your specific use case you could use the <code>long</code> primitive instead of <code>Long</code> which will coerce <code>null</code> to <code>0</code> when deserialized.</p>\n"},{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1632532519,"creation_date":1632531117,"answer_id":69322324,"question_id":69322158,"body_markdown":"You have multiple ways to do this.\r\n\r\n**1) Setter that receives long instead**\r\n\r\nThis is actually not straightforward but it works. If you define the setter as follows it will do what you need:\r\n```java\r\npublic void setCarValue(long carValue) {\r\n    this.carValue = carValue;\r\n}\r\n```\r\n\r\nHowever, this feels like a hack to me, so I would not suggest you use it.\r\n\r\n\r\n**2) Custom deserializer**\r\n\r\nThis one is more complex but also much easier to understand and explicit about your intent.\r\n```java\r\npublic class CustomLongDeserializer extends JsonDeserializer&lt;Long&gt; {\r\n\r\n    @Override\r\n    public Long deserialize(JsonParser jp, DeserializationContext ctxt) \r\n      throws IOException, JsonProcessingException {\r\n\r\n        String text = jp.getText();\r\n        if (text == null || text.isEmpty()) {\r\n            return 0;\r\n        } else {\r\n            return Long.valueOf(text);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThen you could apply the serializer on the attribute as follows:\r\n```java\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\npublic class Car {\r\n\r\n    @JsonProperty(value = &quot;car_name&quot;)\r\n    private String carName;\r\n\r\n    @JsonProperty(value = &quot;car_value&quot;)\r\n    @JsonDeserialize(using = CustomLongDeserializer.class)\r\n    private Long carValue;\r\n\r\n    @JsonProperty(value = &quot;Specifications&quot;)\r\n    private Map&lt;String, String&gt; Specifications;\r\n}\r\n```\r\n\r\nOr apply it as a global deserializer to be used to deserialize every single `Long`:\r\n```java\r\nObjectMapper mapper = new ObjectMapper();\r\nSimpleModule module = new SimpleModule();\r\nmodule.addDeserializer(Long.class, new CustomLongDeserializer());\r\nmapper.registerModule(module);\r\n```","title":"Set the default value of a property if null in springboot","body":"<p>You have multiple ways to do this.</p>\n<p><strong>1) Setter that receives long instead</strong></p>\n<p>This is actually not straightforward but it works. If you define the setter as follows it will do what you need:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void setCarValue(long carValue) {\n    this.carValue = carValue;\n}\n</code></pre>\n<p>However, this feels like a hack to me, so I would not suggest you use it.</p>\n<p><strong>2) Custom deserializer</strong></p>\n<p>This one is more complex but also much easier to understand and explicit about your intent.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomLongDeserializer extends JsonDeserializer&lt;Long&gt; {\n\n    @Override\n    public Long deserialize(JsonParser jp, DeserializationContext ctxt) \n      throws IOException, JsonProcessingException {\n\n        String text = jp.getText();\n        if (text == null || text.isEmpty()) {\n            return 0;\n        } else {\n            return Long.valueOf(text);\n        }\n    }\n}\n</code></pre>\n<p>Then you could apply the serializer on the attribute as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\npublic class Car {\n\n    @JsonProperty(value = &quot;car_name&quot;)\n    private String carName;\n\n    @JsonProperty(value = &quot;car_value&quot;)\n    @JsonDeserialize(using = CustomLongDeserializer.class)\n    private Long carValue;\n\n    @JsonProperty(value = &quot;Specifications&quot;)\n    private Map&lt;String, String&gt; Specifications;\n}\n</code></pre>\n<p>Or apply it as a global deserializer to be used to deserialize every single <code>Long</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ObjectMapper mapper = new ObjectMapper();\nSimpleModule module = new SimpleModule();\nmodule.addDeserializer(Long.class, new CustomLongDeserializer());\nmapper.registerModule(module);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16526510,"reputation":372,"user_id":11941108,"display_name":"Praveen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632583395,"creation_date":1632583395,"answer_id":69327515,"question_id":69322158,"body_markdown":"If you don&#39;t want to create a separate class like @Jo&#227;o Dias mentioned, you can define the constructor yourself instead of using `@AllArgsConstructor`, something like :\r\n```java\r\n\r\npublic Car(String carName,\r\n           Long carValue, \r\n           Map&lt;String, String&gt; Specifications){\r\n\r\n  this.carName = carName;\r\n  this.Specifications = Specifications;\r\n  this.carValue = (carValue == null ? 0 : carValue);\r\n\r\n}\r\n\r\n```\r\nThe same can be used for @Builder annotation like :\r\n\r\n```java\r\nbuilder().carValue(value == null ? 0 : value).build();\r\n```\r\n\r\nAgain, if you have more variables to handle you should consider previous response.","title":"Set the default value of a property if null in springboot","body":"<p>If you don't want to create a separate class like @João Dias mentioned, you can define the constructor yourself instead of using <code>@AllArgsConstructor</code>, something like :</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic Car(String carName,\n           Long carValue, \n           Map&lt;String, String&gt; Specifications){\n\n  this.carName = carName;\n  this.Specifications = Specifications;\n  this.carValue = (carValue == null ? 0 : carValue);\n\n}\n\n</code></pre>\n<p>The same can be used for @Builder annotation like :</p>\n<pre class=\"lang-java prettyprint-override\"><code>builder().carValue(value == null ? 0 : value).build();\n</code></pre>\n<p>Again, if you have more variables to handle you should consider previous response.</p>\n"}],"owner":{"account_id":4949942,"reputation":827,"user_id":3985332,"accept_rate":45,"display_name":"perplexedDev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2704,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69322324,"answer_count":3,"score":1,"last_activity_date":1632583395,"creation_date":1632528732,"question_id":69322158,"body_markdown":"I get a JSON string that I convert to an object. One of the property within the JSON sometimes would be null. If the property is null, I want the default value to be set to 0. \r\n\r\nThis is my class:\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder\r\n    public class Car {\r\n    \r\n        @JsonProperty(value = &quot;car_name&quot;)\r\n        private String carName;\r\n    \r\n        @JsonProperty(value = &quot;car_value&quot;)\r\n        private Long carValue;\r\n    \r\n        @JsonProperty(value = &quot;Specifications&quot;)\r\n        private Map&lt;String, String&gt; Specifications;\r\n    }\r\n\r\nI use object mapper to convert the JSON string to the object\r\n\r\n      public List&lt;Car&gt; stringToCar(String json) throws JsonProcessingException {\r\n        ObjectMapper om = new ObjectMapper();\r\n        return om.readValue(json,  new TypeReference&lt;List&lt;Car&gt;&gt;() {} );\r\n    }\r\n\r\n\r\ncarValue would sometimes have null value, if that happens I want it be set as 0. Is it possible to do in a efficient way rather than looping through the object and manually setting the value to 0","title":"Set the default value of a property if null in springboot","body":"<p>I get a JSON string that I convert to an object. One of the property within the JSON sometimes would be null. If the property is null, I want the default value to be set to 0.</p>\n<p>This is my class:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\npublic class Car {\n\n    @JsonProperty(value = &quot;car_name&quot;)\n    private String carName;\n\n    @JsonProperty(value = &quot;car_value&quot;)\n    private Long carValue;\n\n    @JsonProperty(value = &quot;Specifications&quot;)\n    private Map&lt;String, String&gt; Specifications;\n}\n</code></pre>\n<p>I use object mapper to convert the JSON string to the object</p>\n<pre><code>  public List&lt;Car&gt; stringToCar(String json) throws JsonProcessingException {\n    ObjectMapper om = new ObjectMapper();\n    return om.readValue(json,  new TypeReference&lt;List&lt;Car&gt;&gt;() {} );\n}\n</code></pre>\n<p>carValue would sometimes have null value, if that happens I want it be set as 0. Is it possible to do in a efficient way rather than looping through the object and manually setting the value to 0</p>\n"},{"tags":["java","android","deep-linking","firebase-dynamic-links"],"comments":[{"owner":{"account_id":4254876,"reputation":725,"user_id":3480829,"display_name":"Alex Kuzmin"},"score":1,"creation_date":1594979285,"post_id":60774384,"comment_id":111322524,"body_markdown":"See this answer: https://stackoverflow.com/a/58874375/3480829. You need to add `ofl` parameter.","body":"See this answer: <a href=\"https://stackoverflow.com/a/58874375/3480829\">stackoverflow.com/a/58874375/3480829</a>. You need to add <code>ofl</code> parameter."}],"answers":[{"tags":[],"owner":{"account_id":16748000,"reputation":15,"user_id":12105728,"display_name":"Corbin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631687000,"creation_date":1631684734,"answer_id":69187668,"question_id":60774384,"body_markdown":"**This is a Swift solution but may be helpful to others-**  \r\nUnfortunately, there is currently no built-in method to handle this programmatically through the Firebase url editor. You must manually add an &#39;ofl&#39; parameter to the link. The easiest way to do this: \r\n\r\n```\r\n// Grab link from Firebase builder\r\nguard var longDynamicLink = shareLink.url else { return }\r\n// Parse URL to string\r\nvar urlStr = longDynamicLink.absoluteString\r\n// Append the ofl fallback (ofl param specifies a device other than ios or android)\r\nurlStr = urlStr + &quot;&amp;ofl=https://www.google.com/&quot;\r\n// Convert back to a URL\r\nvar urlFinal = URL(string: urlStr)!\r\n\r\n// Shorten the url &amp; check for errors\r\nDynamicLinkComponents.shortenURL(urlFinal, options: nil, completion:{ [weak self] url,warnings,error in\r\n        if let _ = error{\r\n            return\r\n        }\r\n        if let warnings = warnings{\r\n            for warning in warnings{\r\n                print(&quot;Shorten URL warnings: &quot;, warning)\r\n            }\r\n        }\r\n        guard let shortUrl = url else {return}\r\n        // prompt the user with UIActivityViewController\r\n        self?.showShareSheet(url: shortUrl)\r\n    })\r\n```\r\nThe final URL can then be used to present the shareable panel with another function like: \r\n```self.showShareSheet(url: finalUrl)``` which triggers the UIActivityViewController\r\n\r\nCredit to http://ostack.cn/?qa=168161/ for the original idea\r\n\r\nMore about ofl: https://firebase.google.com/docs/dynamic-links/create-manually?authuser=3#general-params\r\n","title":"How to build a short Dynamic Link with a Desktop Fallback URL on Android?","body":"<p><strong>This is a Swift solution but may be helpful to others-</strong><br />\nUnfortunately, there is currently no built-in method to handle this programmatically through the Firebase url editor. You must manually add an 'ofl' parameter to the link. The easiest way to do this:</p>\n<pre><code>// Grab link from Firebase builder\nguard var longDynamicLink = shareLink.url else { return }\n// Parse URL to string\nvar urlStr = longDynamicLink.absoluteString\n// Append the ofl fallback (ofl param specifies a device other than ios or android)\nurlStr = urlStr + &quot;&amp;ofl=https://www.google.com/&quot;\n// Convert back to a URL\nvar urlFinal = URL(string: urlStr)!\n\n// Shorten the url &amp; check for errors\nDynamicLinkComponents.shortenURL(urlFinal, options: nil, completion:{ [weak self] url,warnings,error in\n        if let _ = error{\n            return\n        }\n        if let warnings = warnings{\n            for warning in warnings{\n                print(&quot;Shorten URL warnings: &quot;, warning)\n            }\n        }\n        guard let shortUrl = url else {return}\n        // prompt the user with UIActivityViewController\n        self?.showShareSheet(url: shortUrl)\n    })\n</code></pre>\n<p>The final URL can then be used to present the shareable panel with another function like:\n<code>self.showShareSheet(url: finalUrl)</code> which triggers the UIActivityViewController</p>\n<p>Credit to <a href=\"http://ostack.cn/?qa=168161/\" rel=\"nofollow noreferrer\">http://ostack.cn/?qa=168161/</a> for the original idea</p>\n<p>More about ofl: <a href=\"https://firebase.google.com/docs/dynamic-links/create-manually?authuser=3#general-params\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/dynamic-links/create-manually?authuser=3#general-params</a></p>\n"}],"owner":{"account_id":10671270,"reputation":133,"user_id":8857204,"display_name":"Tom"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2785,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1632583369,"creation_date":1584708128,"question_id":60774384,"body_markdown":"I have implemented deep link in my Android App to share content. The problem is on Android I can&#39;t find a way to set a Fallback URL when the user open the short link on his desktop. \r\nWith the Firebase DynamicLink.Builder I can set iOS fallback URL because my app doesn&#39;t exist on iOS but I can&#39;t find a way to set the `dfl` parameters in my link.\r\nWhich lead the user to an error page like this : \r\n[![enter image description here][1]][1]\r\n\r\nHere how I build my short dynamic link:\r\n \r\n    //link example : https://app.example.com/details/ebLvAV9fi9S7Pab0qR3a\r\n    String link = domainUri + &quot;/details/&quot; + object.getUid();\r\n    \r\n    FirebaseDynamicLinks.getInstance().createDynamicLink()\r\n                .setLink(Uri.parse(link))\r\n                .setDomainUriPrefix(domainUri)\r\n                .setAndroidParameters(new DynamicLink.AndroidParameters.Builder().setMinimumVersion(1).build())\r\n                // Fallback Url for iOS\r\n                .setIosParameters(new DynamicLink.IosParameters.Builder(&quot;&quot;).setFallbackUrl(Uri.parse(RMP_WEB_BASE_URL)).build())\r\n                .setSocialMetaTagParameters(\r\n                        new DynamicLink.SocialMetaTagParameters.Builder()\r\n                                .setTitle(title)\r\n                                .setDescription(description)\r\n                                .setImageUrl(Uri.parse(imageUrl))\r\n                                .build())\r\n                .buildShortDynamicLink()\r\n                .addOnCompleteListener(new OnCompleteListener&lt;ShortDynamicLink&gt;() {\r\n                    @Override\r\n                        public void onComplete(@NonNull Task&lt;ShortDynamicLink&gt; task) {\r\n                            if (task.isSuccessful() &amp;&amp; task.getResult() != null) {\r\n                                shortLink = task.getResult().getShortLink();\r\n                                //Create Shareable Intent\r\n                                //...\r\n                            }\r\n                        }\r\n                });\r\n\r\nI have read that I need to specify a Desktop Fallback URL like the iOS one but DynamicLink.Builder doesn&#39;t seems to include one. \r\nI would like to redirect my user to the home page `https://example.com` when they open the link from a non-android device.\r\n\r\nI have tried to use `setLongLink(longLink)` in the `DynamicLink.Builder` with the parameters `?dfl=https://example.com` but it doesn&#39;t seems to work and it even break my dynamic link on android.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nNUzx.png","title":"How to build a short Dynamic Link with a Desktop Fallback URL on Android?","body":"<p>I have implemented deep link in my Android App to share content. The problem is on Android I can't find a way to set a Fallback URL when the user open the short link on his desktop.\nWith the Firebase DynamicLink.Builder I can set iOS fallback URL because my app doesn't exist on iOS but I can't find a way to set the <code>dfl</code> parameters in my link.\nWhich lead the user to an error page like this :\n<a href=\"https://i.stack.imgur.com/nNUzx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nNUzx.png\" alt=\"enter image description here\" /></a></p>\n<p>Here how I build my short dynamic link:</p>\n<pre><code>//link example : https://app.example.com/details/ebLvAV9fi9S7Pab0qR3a\nString link = domainUri + &quot;/details/&quot; + object.getUid();\n\nFirebaseDynamicLinks.getInstance().createDynamicLink()\n            .setLink(Uri.parse(link))\n            .setDomainUriPrefix(domainUri)\n            .setAndroidParameters(new DynamicLink.AndroidParameters.Builder().setMinimumVersion(1).build())\n            // Fallback Url for iOS\n            .setIosParameters(new DynamicLink.IosParameters.Builder(&quot;&quot;).setFallbackUrl(Uri.parse(RMP_WEB_BASE_URL)).build())\n            .setSocialMetaTagParameters(\n                    new DynamicLink.SocialMetaTagParameters.Builder()\n                            .setTitle(title)\n                            .setDescription(description)\n                            .setImageUrl(Uri.parse(imageUrl))\n                            .build())\n            .buildShortDynamicLink()\n            .addOnCompleteListener(new OnCompleteListener&lt;ShortDynamicLink&gt;() {\n                @Override\n                    public void onComplete(@NonNull Task&lt;ShortDynamicLink&gt; task) {\n                        if (task.isSuccessful() &amp;&amp; task.getResult() != null) {\n                            shortLink = task.getResult().getShortLink();\n                            //Create Shareable Intent\n                            //...\n                        }\n                    }\n            });\n</code></pre>\n<p>I have read that I need to specify a Desktop Fallback URL like the iOS one but DynamicLink.Builder doesn't seems to include one.\nI would like to redirect my user to the home page <code>https://example.com</code> when they open the link from a non-android device.</p>\n<p>I have tried to use <code>setLongLink(longLink)</code> in the <code>DynamicLink.Builder</code> with the parameters <code>?dfl=https://example.com</code> but it doesn't seems to work and it even break my dynamic link on android.</p>\n"},{"tags":["java","double","java.util.scanner"],"comments":[{"owner":{"account_id":2818342,"reputation":299876,"user_id":2422776,"display_name":"Mureinik"},"score":4,"creation_date":1632580846,"post_id":69327142,"comment_id":122534183,"body_markdown":"Can&#39;t reproduce - this program takes input like 5.9 just fine. Can you share the full stacktrace and the exact input you&#39;ve provided?","body":"Can&#39;t reproduce - this program takes input like 5.9 just fine. Can you share the full stacktrace and the exact input you&#39;ve provided?"},{"owner":{"account_id":22494861,"reputation":33,"user_id":16692026,"display_name":"Mile Stanislavov"},"score":0,"creation_date":1632672919,"post_id":69327142,"comment_id":122550712,"body_markdown":"Insert for a: 5\ninsert for b: 6.8\nException in thread &quot;main&quot; java.util.InputMismatchException\n\tat java.util.Scanner.throwFor(Scanner.java:864)\n\tat java.util.Scanner.next(Scanner.java:1485)\n\tat java.util.Scanner.nextDouble(Scanner.java:2413)\n\tat Main$Wrappers.quadraticWrapper(Main.java:13)\n\tat Main.main(Main.java:5)","body":"Insert for a: 5 insert for b: 6.8 Exception in thread &quot;main&quot; java.util.InputMismatchException \tat java.util.Scanner.throwFor(Scanner.java:864) \tat java.util.Scanner.next(Scanner.java:1485) \tat java.util.Scanner.nextDouble(Scanner.java:2413) \tat Main$Wrappers.quadraticWrapper(Main.java:13) \tat Main.main(Main.java:5)"}],"answers":[{"tags":[],"owner":{"account_id":18191159,"reputation":41,"user_id":13236982,"display_name":"Mika Pennanen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632583214,"creation_date":1632583214,"answer_id":69327485,"question_id":69327142,"body_markdown":"Are you trying to add a double value with a comma as decimal separator?\r\n\r\n```\r\nInsert for a: 5,6\r\nException in thread &quot;main&quot; java.util.InputMismatchException\r\n        at java.util.Scanner.throwFor(Scanner.java:864)\r\n        at java.util.Scanner.next(Scanner.java:1485)\r\n        at java.util.Scanner.nextDouble(Scanner.java:2413)\r\n        at Main$Wrappers.quadraticWrapper(Main.java:11)\r\n        at Main.main(Main.java:5)\r\n```\r\n\r\nIf you wish to support commas as decimal separators, you need to read in as Strings and handle it yourself:\r\n\r\n```\r\ndouble c = commaNumberToDouble(s.nextLine());\r\n```\r\n\r\n```\r\nprivate static double commaNumberToDouble(String input) {\r\n    return Double.parseDouble(input.replaceAll(&quot;,&quot;, &quot;.&quot;));\r\n}\r\n```\r\n\r\n```\r\n% java Main\r\nInsert for a: 4,5\r\ninsert for b: 24.6\r\ninsert for c: 1,2\r\n[\r\n-0.0492237147736808 -5.417442951892986 ]\r\n```","title":"How to import double values to console through Scanner","body":"<p>Are you trying to add a double value with a comma as decimal separator?</p>\n<pre><code>Insert for a: 5,6\nException in thread &quot;main&quot; java.util.InputMismatchException\n        at java.util.Scanner.throwFor(Scanner.java:864)\n        at java.util.Scanner.next(Scanner.java:1485)\n        at java.util.Scanner.nextDouble(Scanner.java:2413)\n        at Main$Wrappers.quadraticWrapper(Main.java:11)\n        at Main.main(Main.java:5)\n</code></pre>\n<p>If you wish to support commas as decimal separators, you need to read in as Strings and handle it yourself:</p>\n<pre><code>double c = commaNumberToDouble(s.nextLine());\n</code></pre>\n<pre><code>private static double commaNumberToDouble(String input) {\n    return Double.parseDouble(input.replaceAll(&quot;,&quot;, &quot;.&quot;));\n}\n</code></pre>\n<pre><code>% java Main\nInsert for a: 4,5\ninsert for b: 24.6\ninsert for c: 1,2\n[\n-0.0492237147736808 -5.417442951892986 ]\n</code></pre>\n"}],"owner":{"account_id":22494861,"reputation":33,"user_id":16692026,"display_name":"Mile Stanislavov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69327485,"answer_count":1,"score":-1,"last_activity_date":1632583214,"creation_date":1632580614,"question_id":69327142,"body_markdown":"whenever i input a double value like 5.9 for either a, b, or c i get a missmatch exception error. my goal is to create a quadratic function by importing values for a, b and c with the Scanner.\r\n\t\t\r\n```\r\nimport java.util.Scanner;\r\npublic class Main {\r\n\tstatic Scanner scan = new Scanner(System.in);\r\n\tpublic static void main(String[] args) {\r\n\t\tWrappers.quadraticWrapper(scan);\r\n\r\n\t}\r\n\tstatic class Wrappers {\r\n\t\tpublic static void quadraticWrapper(Scanner s){\r\n\t\t\tSystem.out.print(&quot;Insert for a: &quot;);\r\n\t\t\tdouble a = s.nextDouble();\r\n\t\t\tSystem.out.print(&quot;insert for b: &quot;);\r\n\t\t\tdouble b = s.nextDouble();\r\n\t\t\tSystem.out.print(&quot;insert for c: &quot;);\r\n\t\t\tdouble c = s.nextDouble();\r\n\t\t\tprintArr(Formulas.quadraticF(a, b, c));\r\n\t\t}\r\n\t\tprivate static void printArr(double[] arr) {\r\n\t\t\tSystem.out.println(&quot;[&quot;);\r\n\t\t\tfor (double d : arr) {\r\n\t\t\t\tSystem.out.print(d + &quot; &quot;);\r\n\t\t\t}\t\tSystem.out.println(&quot;]&quot;);\r\n\r\n\t\t}\r\n\t}\r\n\tstatic class Formulas{\r\n\t\tpublic static double[] quadraticF(double a, double b, double c) {\r\n\t\t\tdouble[] arr = new double[2];\r\n\t\t\tdouble x1, x2;\r\n\t\t\tx1 = (-b + Math.sqrt(Math.pow(b, 2) - ((4) * (a) * (c))))/(2 * a);\r\n\t\t\tx2 = (-b - Math.sqrt(Math.pow(b, 2) - ((4) * (a) * (c))))/(2 * a);\r\n\t\t\tarr[0] = x1;\r\n\t\t\tarr[1] = x2;\r\n\t\t\treturn arr;\r\n\t\t}\r\n\t}\r\n\t\r\n\r\n}\r\n```\r\nId appreciate your help! Thanks :D","title":"How to import double values to console through Scanner","body":"<p>whenever i input a double value like 5.9 for either a, b, or c i get a missmatch exception error. my goal is to create a quadratic function by importing values for a, b and c with the Scanner.</p>\n<pre><code>import java.util.Scanner;\npublic class Main {\n    static Scanner scan = new Scanner(System.in);\n    public static void main(String[] args) {\n        Wrappers.quadraticWrapper(scan);\n\n    }\n    static class Wrappers {\n        public static void quadraticWrapper(Scanner s){\n            System.out.print(&quot;Insert for a: &quot;);\n            double a = s.nextDouble();\n            System.out.print(&quot;insert for b: &quot;);\n            double b = s.nextDouble();\n            System.out.print(&quot;insert for c: &quot;);\n            double c = s.nextDouble();\n            printArr(Formulas.quadraticF(a, b, c));\n        }\n        private static void printArr(double[] arr) {\n            System.out.println(&quot;[&quot;);\n            for (double d : arr) {\n                System.out.print(d + &quot; &quot;);\n            }       System.out.println(&quot;]&quot;);\n\n        }\n    }\n    static class Formulas{\n        public static double[] quadraticF(double a, double b, double c) {\n            double[] arr = new double[2];\n            double x1, x2;\n            x1 = (-b + Math.sqrt(Math.pow(b, 2) - ((4) * (a) * (c))))/(2 * a);\n            x2 = (-b - Math.sqrt(Math.pow(b, 2) - ((4) * (a) * (c))))/(2 * a);\n            arr[0] = x1;\n            arr[1] = x2;\n            return arr;\n        }\n    }\n    \n\n}\n</code></pre>\n<p>Id appreciate your help! Thanks :D</p>\n"},{"tags":["java","android","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1632567357,"post_id":69325370,"comment_id":122531122,"body_markdown":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your [Firebase Console](https://console.firebase.google.com/u/0/project/_/database/data).","body":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your <a href=\"https://console.firebase.google.com/u/0/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Console</a>."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1633253880,"post_id":69325370,"comment_id":122706094,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632583028,"creation_date":1632583028,"answer_id":69327455,"question_id":69325370,"body_markdown":"The problem is in this fragment of your code:\r\n```\r\ndatabase.getReference().child(&quot;chats&quot;).child(senderMe)\r\n    .addValueEventListener(new ValueEventListener() {\r\n        @Override\r\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n            messageClasses.clear();\r\n            for (DataSnapshot snapshot1 : snapshot.getChildren()){\r\n                MessageClass msg =snapshot1.getValue(MessageClass.class);\r\n                msg.setMessageId(snapshot1.getKey());\r\n                messageClasses.add(msg);\r\n            }\r\n            chatAdapter.notifyDataSetChanged();\r\n        }\r\n```\r\n\r\nYou attach a listener to `/chats/$user`, which means the `snapshot` will contain this data:\r\n\r\n```\r\n&quot;PWGD0vsRhfd83tqM1ClwvwqJIRD3PWGD0vsRhfd83tqM1ClwvwqJIRD3&quot; : {\r\n  &quot;messages&quot; : &quot;hiii&quot;,\r\n  &quot;timestamp&quot; : 1632570537312,\r\n  &quot;userId&quot; : &quot;PWGD0vsRhfd83tqM1ClwvwqJIRD3&quot;\r\n}\r\n```\r\n\r\nThen within `onDataChange` you loop over `snapshot.getChildren`, so `snapshot1` will be `&quot;messages&quot;: &quot;hiii&quot;`, `&quot;timestamp&quot; : 1632570537312` and `&quot;userId&quot; : &quot;PWGD0vsRhfd83tqM1ClwvwqJIRD3&quot;` in turn.\r\n\r\nAnd then you try to read data from `snapshot1` with `snapshot1.getValue(MessageClass.class)`. This won&#39;t work, because `messages` (and the other properties in turn) are **not** a full message.\r\n\r\n---\r\n\r\nYour code is made to work on a data structure like this:\r\n\r\n```\r\n&quot;PWGD0vsRhfd83tqM1ClwvwqJIRD3PWGD0vsRhfd83tqM1ClwvwqJIRD3&quot; : { // &#128072; user ID\r\n  &quot;-LMSDjlfsdfhkjsdf90318&quot;: { // &#128072; message ID\r\n    &quot;messages&quot; : &quot;hiii&quot;,\r\n    &quot;timestamp&quot; : 1632570537312,\r\n    &quot;userId&quot; : &quot;PWGD0vsRhfd83tqM1ClwvwqJIRD3&quot;\r\n  },\r\n  &quot;-LMTsdfh23sad9023343&quot;: { // &#128072; message ID\r\n    &quot;messages&quot; : &quot;hello again&quot;,\r\n    &quot;timestamp&quot; : 1632570537342,\r\n    &quot;userId&quot; : &quot;PWGD0vsRhfd83tqM1ClwvwqJIRD3&quot;\r\n  },\r\n\r\n}\r\n```\r\n\r\nBut you&#39;re missing that level `message ID` in your current data structure. When you add that level, it will work.\r\n\r\nAlternatively, you can remove the `for (DataSnapshot snapshot1 : snapshot.getChildren()){` loop and read the single message you current have from `snapshot` with `snapshot.getValue(MessageClass.class)`.","title":"can&#39;t convert object of type java.lang.String to type com.example.myapplication.MessageClass","body":"<p>The problem is in this fragment of your code:</p>\n<pre><code>database.getReference().child(&quot;chats&quot;).child(senderMe)\n    .addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            messageClasses.clear();\n            for (DataSnapshot snapshot1 : snapshot.getChildren()){\n                MessageClass msg =snapshot1.getValue(MessageClass.class);\n                msg.setMessageId(snapshot1.getKey());\n                messageClasses.add(msg);\n            }\n            chatAdapter.notifyDataSetChanged();\n        }\n</code></pre>\n<p>You attach a listener to <code>/chats/$user</code>, which means the <code>snapshot</code> will contain this data:</p>\n<pre><code>&quot;PWGD0vsRhfd83tqM1ClwvwqJIRD3PWGD0vsRhfd83tqM1ClwvwqJIRD3&quot; : {\n  &quot;messages&quot; : &quot;hiii&quot;,\n  &quot;timestamp&quot; : 1632570537312,\n  &quot;userId&quot; : &quot;PWGD0vsRhfd83tqM1ClwvwqJIRD3&quot;\n}\n</code></pre>\n<p>Then within <code>onDataChange</code> you loop over <code>snapshot.getChildren</code>, so <code>snapshot1</code> will be <code>&quot;messages&quot;: &quot;hiii&quot;</code>, <code>&quot;timestamp&quot; : 1632570537312</code> and <code>&quot;userId&quot; : &quot;PWGD0vsRhfd83tqM1ClwvwqJIRD3&quot;</code> in turn.</p>\n<p>And then you try to read data from <code>snapshot1</code> with <code>snapshot1.getValue(MessageClass.class)</code>. This won't work, because <code>messages</code> (and the other properties in turn) are <strong>not</strong> a full message.</p>\n<hr />\n<p>Your code is made to work on a data structure like this:</p>\n<pre><code>&quot;PWGD0vsRhfd83tqM1ClwvwqJIRD3PWGD0vsRhfd83tqM1ClwvwqJIRD3&quot; : { // 👈 user ID\n  &quot;-LMSDjlfsdfhkjsdf90318&quot;: { // 👈 message ID\n    &quot;messages&quot; : &quot;hiii&quot;,\n    &quot;timestamp&quot; : 1632570537312,\n    &quot;userId&quot; : &quot;PWGD0vsRhfd83tqM1ClwvwqJIRD3&quot;\n  },\n  &quot;-LMTsdfh23sad9023343&quot;: { // 👈 message ID\n    &quot;messages&quot; : &quot;hello again&quot;,\n    &quot;timestamp&quot; : 1632570537342,\n    &quot;userId&quot; : &quot;PWGD0vsRhfd83tqM1ClwvwqJIRD3&quot;\n  },\n\n}\n</code></pre>\n<p>But you're missing that level <code>message ID</code> in your current data structure. When you add that level, it will work.</p>\n<p>Alternatively, you can remove the <code>for (DataSnapshot snapshot1 : snapshot.getChildren()){</code> loop and read the single message you current have from <code>snapshot</code> with <code>snapshot.getValue(MessageClass.class)</code>.</p>\n"}],"owner":{"account_id":18506594,"reputation":25,"user_id":13482762,"display_name":"shiva"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":616,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69327455,"answer_count":1,"score":0,"last_activity_date":1632583028,"creation_date":1632566613,"question_id":69325370,"body_markdown":"&gt; com.google.firebase.database.DatabaseException: Can&#39;t convert object of type java.lang.String to type com.example.myapplication.MessageClass\r\n\r\nMessageClass.class code this.\r\n```\r\npublic class MessageClass {\r\n    String userId,messages,messageId;\r\n    long timestamp;\r\n\r\n    public MessageClass(String userId, String messages, long timestamp) {\r\n        this.userId = userId;\r\n        this.messages = messages;\r\n        this.timestamp = timestamp;\r\n    }\r\n\r\n    public MessageClass(String userId, String messages) {\r\n        this.userId = userId;\r\n        this.messages = messages;\r\n    }\r\n    public MessageClass(){\r\n\r\n    }\r\n\r\n    public String getUserId() {\r\n        return userId;\r\n    }\r\n\r\n    public void setUserId(String userId) {\r\n        this.userId = userId;\r\n    }\r\n\r\n    public String getMessages() {\r\n        return messages;\r\n    }\r\n\r\n    public void setMessages(String messages) {\r\n        this.messages = messages;\r\n    }\r\n\r\n    public String getMessageId() {\r\n        return messageId;\r\n    }\r\n\r\n    public void setMessageId(String messageId) {\r\n        this.messageId = messageId;\r\n    }\r\n\r\n    public long getTimestamp() {\r\n        return timestamp;\r\n    }\r\n\r\n    public void setTimestamp(long timestamp) {\r\n        this.timestamp = timestamp;\r\n    }\r\n}\r\n```\r\n\r\nChatActivity.java\r\n```\r\npublic class ChatActivity extends AppCompatActivity {\r\n\r\n    CircleImageView imageView;\r\n    RecyclerView recyclerView;\r\n    ImageView backArrow,video,call,menus,send_btn,AttachFile,Emoji;\r\n    EditText EnterMessage;\r\n    TextView username;\r\n    FirebaseDatabase database;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_chat);\r\n        imageView=findViewById(R.id.chat_pro_pic);\r\n        recyclerView=findViewById(R.id.chatRecyclerView2);\r\n        backArrow=findViewById(R.id.back_arrow);\r\n        video=findViewById(R.id.video_call);\r\n        call=findViewById(R.id.call_btn);\r\n        menus=findViewById(R.id.menu_btn);\r\n        send_btn=findViewById(R.id.send_btn);\r\n        AttachFile=findViewById(R.id.files_btn);\r\n        Emoji=findViewById(R.id.emoji_bar);\r\n        EnterMessage=findViewById(R.id.type_msg);\r\n        username=findViewById(R.id.chat_username);\r\n        FirebaseAuth mAuth =FirebaseAuth.getInstance();\r\n\r\n\r\n        final String senderId= mAuth.getUid();\r\n        String receiveId = getIntent().getStringExtra(&quot;userId&quot;);\r\n        String name = getIntent().getStringExtra(&quot;name&quot;);\r\n        String profilePic= getIntent().getStringExtra(&quot;profilePic&quot;);\r\n\r\n        username.setText(name);\r\n        Picasso.get().load(profilePic).placeholder(R.drawable.profile).into(imageView);\r\n\r\n        backArrow.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent=new Intent(ChatActivity.this,MainActivity.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n\r\n        final ArrayList&lt;MessageClass&gt; messageClasses =new ArrayList&lt;&gt;();\r\n        final chatAdapter chatAdapter=new chatAdapter(messageClasses,this,receiveId);\r\n        recyclerView.setAdapter(chatAdapter);\r\n        LinearLayoutManager layoutManager=new LinearLayoutManager(this);\r\n        recyclerView.setLayoutManager(layoutManager);\r\n\r\n        final String senderMe =senderId+receiveId;\r\n        final String receiveMe =receiveId+senderId;\r\n\r\n        database=FirebaseDatabase.getInstance();\r\n        database.getReference().child(&quot;chats&quot;).child(senderMe)\r\n                .addValueEventListener(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                        messageClasses.clear();\r\n                        for (DataSnapshot snapshot1 : snapshot.getChildren()){\r\n                            MessageClass msg =snapshot1.getValue(MessageClass.class);\r\n                            msg.setMessageId(snapshot1.getKey());\r\n                            messageClasses.add(msg);\r\n                        }\r\n                        chatAdapter.notifyDataSetChanged();\r\n\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                    }\r\n                });\r\n\r\n        send_btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                String message = EnterMessage.getText().toString();\r\n                final MessageClass classes= new MessageClass(senderId,message);\r\n                classes.setTimestamp(new Date().getTime());\r\n                EnterMessage.setText(message);\r\n\r\n                database.getReference().child(&quot;chats&quot;).child(senderMe)\r\n                        .setValue(classes).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                    @Override\r\n                    public void onSuccess(Void aVoid) {\r\n                        database.getReference().child(&quot;chats&quot;)\r\n                                .child(receiveMe)\r\n                                .push()\r\n                                .setValue(classes).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                            @Override\r\n                            public void onSuccess(Void aVoid) {\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nIn this code i have to face some error while i am running this app. I have input something in edittext that text save into firebase realtime data base, but don&#39;t show in mobile application `ChatActivity` and app has been crash.\r\n\r\nExport JSON file from firebase database. \r\n```\r\n{\r\n  &quot;Users&quot; : {\r\n    &quot;PWGD0vsRhfd83tqM1ClwvwqJIRD3&quot; : {\r\n      &quot;email&quot; : &quot;abc@gmail.com&quot;,\r\n      &quot;name&quot; : &quot;Abc&quot;,\r\n      &quot;password&quot; : &quot;123456&quot;\r\n    }\r\n  },\r\n  &quot;chats&quot; : {\r\n    &quot;PWGD0vsRhfd83tqM1ClwvwqJIRD3PWGD0vsRhfd83tqM1ClwvwqJIRD3&quot; : {\r\n      &quot;messages&quot; : &quot;hiii&quot;,\r\n      &quot;timestamp&quot; : 1632570537312,\r\n      &quot;userId&quot; : &quot;PWGD0vsRhfd83tqM1ClwvwqJIRD3&quot;\r\n    }\r\n  }\r\n}\r\n```","title":"can&#39;t convert object of type java.lang.String to type com.example.myapplication.MessageClass","body":"<blockquote>\n<p>com.google.firebase.database.DatabaseException: Can't convert object of type java.lang.String to type com.example.myapplication.MessageClass</p>\n</blockquote>\n<p>MessageClass.class code this.</p>\n<pre><code>public class MessageClass {\n    String userId,messages,messageId;\n    long timestamp;\n\n    public MessageClass(String userId, String messages, long timestamp) {\n        this.userId = userId;\n        this.messages = messages;\n        this.timestamp = timestamp;\n    }\n\n    public MessageClass(String userId, String messages) {\n        this.userId = userId;\n        this.messages = messages;\n    }\n    public MessageClass(){\n\n    }\n\n    public String getUserId() {\n        return userId;\n    }\n\n    public void setUserId(String userId) {\n        this.userId = userId;\n    }\n\n    public String getMessages() {\n        return messages;\n    }\n\n    public void setMessages(String messages) {\n        this.messages = messages;\n    }\n\n    public String getMessageId() {\n        return messageId;\n    }\n\n    public void setMessageId(String messageId) {\n        this.messageId = messageId;\n    }\n\n    public long getTimestamp() {\n        return timestamp;\n    }\n\n    public void setTimestamp(long timestamp) {\n        this.timestamp = timestamp;\n    }\n}\n</code></pre>\n<p>ChatActivity.java</p>\n<pre><code>public class ChatActivity extends AppCompatActivity {\n\n    CircleImageView imageView;\n    RecyclerView recyclerView;\n    ImageView backArrow,video,call,menus,send_btn,AttachFile,Emoji;\n    EditText EnterMessage;\n    TextView username;\n    FirebaseDatabase database;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_chat);\n        imageView=findViewById(R.id.chat_pro_pic);\n        recyclerView=findViewById(R.id.chatRecyclerView2);\n        backArrow=findViewById(R.id.back_arrow);\n        video=findViewById(R.id.video_call);\n        call=findViewById(R.id.call_btn);\n        menus=findViewById(R.id.menu_btn);\n        send_btn=findViewById(R.id.send_btn);\n        AttachFile=findViewById(R.id.files_btn);\n        Emoji=findViewById(R.id.emoji_bar);\n        EnterMessage=findViewById(R.id.type_msg);\n        username=findViewById(R.id.chat_username);\n        FirebaseAuth mAuth =FirebaseAuth.getInstance();\n\n\n        final String senderId= mAuth.getUid();\n        String receiveId = getIntent().getStringExtra(&quot;userId&quot;);\n        String name = getIntent().getStringExtra(&quot;name&quot;);\n        String profilePic= getIntent().getStringExtra(&quot;profilePic&quot;);\n\n        username.setText(name);\n        Picasso.get().load(profilePic).placeholder(R.drawable.profile).into(imageView);\n\n        backArrow.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent=new Intent(ChatActivity.this,MainActivity.class);\n                startActivity(intent);\n            }\n        });\n\n        final ArrayList&lt;MessageClass&gt; messageClasses =new ArrayList&lt;&gt;();\n        final chatAdapter chatAdapter=new chatAdapter(messageClasses,this,receiveId);\n        recyclerView.setAdapter(chatAdapter);\n        LinearLayoutManager layoutManager=new LinearLayoutManager(this);\n        recyclerView.setLayoutManager(layoutManager);\n\n        final String senderMe =senderId+receiveId;\n        final String receiveMe =receiveId+senderId;\n\n        database=FirebaseDatabase.getInstance();\n        database.getReference().child(&quot;chats&quot;).child(senderMe)\n                .addValueEventListener(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\n                        messageClasses.clear();\n                        for (DataSnapshot snapshot1 : snapshot.getChildren()){\n                            MessageClass msg =snapshot1.getValue(MessageClass.class);\n                            msg.setMessageId(snapshot1.getKey());\n                            messageClasses.add(msg);\n                        }\n                        chatAdapter.notifyDataSetChanged();\n\n                    }\n\n                    @Override\n                    public void onCancelled(@NonNull DatabaseError error) {\n\n                    }\n                });\n\n        send_btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                String message = EnterMessage.getText().toString();\n                final MessageClass classes= new MessageClass(senderId,message);\n                classes.setTimestamp(new Date().getTime());\n                EnterMessage.setText(message);\n\n                database.getReference().child(&quot;chats&quot;).child(senderMe)\n                        .setValue(classes).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                    @Override\n                    public void onSuccess(Void aVoid) {\n                        database.getReference().child(&quot;chats&quot;)\n                                .child(receiveMe)\n                                .push()\n                                .setValue(classes).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                            @Override\n                            public void onSuccess(Void aVoid) {\n                            }\n                        });\n                    }\n                });\n            }\n        });\n    }\n}\n</code></pre>\n<p>In this code i have to face some error while i am running this app. I have input something in edittext that text save into firebase realtime data base, but don't show in mobile application <code>ChatActivity</code> and app has been crash.</p>\n<p>Export JSON file from firebase database.</p>\n<pre><code>{\n  &quot;Users&quot; : {\n    &quot;PWGD0vsRhfd83tqM1ClwvwqJIRD3&quot; : {\n      &quot;email&quot; : &quot;abc@gmail.com&quot;,\n      &quot;name&quot; : &quot;Abc&quot;,\n      &quot;password&quot; : &quot;123456&quot;\n    }\n  },\n  &quot;chats&quot; : {\n    &quot;PWGD0vsRhfd83tqM1ClwvwqJIRD3PWGD0vsRhfd83tqM1ClwvwqJIRD3&quot; : {\n      &quot;messages&quot; : &quot;hiii&quot;,\n      &quot;timestamp&quot; : 1632570537312,\n      &quot;userId&quot; : &quot;PWGD0vsRhfd83tqM1ClwvwqJIRD3&quot;\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","android","image","android-glide"],"answers":[{"tags":[],"owner":{"account_id":16582317,"reputation":2481,"user_id":11982611,"display_name":"Eren T&#252;fek&#231;i"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632578369,"creation_date":1632578369,"answer_id":69326851,"question_id":69326707,"body_markdown":"You can use placeholder attribute of Glide. Inser your placeholder image inside drawable folder. And use it like this.\r\n\r\n    Glide.with(this)\r\n            .load(url)\r\n            .placeholder(R.id.your drawable name)\r\n            .error(errorUrl)\r\n            .into(imageView)","title":"Android Glide - How do I load another image if my original image takes too long to load?","body":"<p>You can use placeholder attribute of Glide. Inser your placeholder image inside drawable folder. And use it like this.</p>\n<pre><code>Glide.with(this)\n        .load(url)\n        .placeholder(R.id.your drawable name)\n        .error(errorUrl)\n        .into(imageView)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16429226,"reputation":1519,"user_id":11868502,"display_name":"Saurabh Dhage"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632582793,"creation_date":1632582793,"answer_id":69327420,"question_id":69326707,"body_markdown":"    Glide.with(context)\r\n        .load(url)\r\n        .placeholder(R.id.your drawable name) //this will be shown until actul image load\r\n        .apply(new RequestOptions().override(150, 150)) //for resizing orgininal image \r\n        .into(imageView);\r\n\r\n**Note**: Lower resolution in `override(150, 150)` would result in faster loading so choose accordingly.","title":"Android Glide - How do I load another image if my original image takes too long to load?","body":"<pre><code>Glide.with(context)\n    .load(url)\n    .placeholder(R.id.your drawable name) //this will be shown until actul image load\n    .apply(new RequestOptions().override(150, 150)) //for resizing orgininal image \n    .into(imageView);\n</code></pre>\n<p><strong>Note</strong>: Lower resolution in <code>override(150, 150)</code> would result in faster loading so choose accordingly.</p>\n"}],"owner":{"account_id":11598060,"reputation":45,"user_id":8496170,"display_name":"Evian Pringle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":858,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1632582793,"creation_date":1632577287,"question_id":69326707,"body_markdown":"I&#39;m loading an image from a url like this. If the image is taking a really long time to load, I want to load another image in its place so I used .error() to load an error image if the load fails, but this fail never gets called. Instead, the original image will eventually load after a long time, but I don&#39;t want to wait this long for the image to load. I tried using .timeout() but that doesn&#39;t do anything.\r\n                    \r\n                    Glide.with(this)\r\n                    .load(url)\r\n                    .error(Glide.with(errorUrl).load(imageView))\r\n                    .into(imageView);","title":"Android Glide - How do I load another image if my original image takes too long to load?","body":"<p>I'm loading an image from a url like this. If the image is taking a really long time to load, I want to load another image in its place so I used .error() to load an error image if the load fails, but this fail never gets called. Instead, the original image will eventually load after a long time, but I don't want to wait this long for the image to load. I tried using .timeout() but that doesn't do anything.</p>\n<pre><code>                Glide.with(this)\n                .load(url)\n                .error(Glide.with(errorUrl).load(imageView))\n                .into(imageView);\n</code></pre>\n"},{"tags":["java","spring","spring-boot","gradle","bootrun"],"comments":[{"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"score":0,"creation_date":1632474697,"post_id":69312280,"comment_id":122507505,"body_markdown":"Can you please share you build.gradle file?","body":"Can you please share you build.gradle file?"},{"owner":{"account_id":19507919,"reputation":366,"user_id":14272487,"display_name":"edhi.uchiha"},"score":0,"creation_date":1632475166,"post_id":69312280,"comment_id":122507729,"body_markdown":"please check here @akortex https://pastebin.com/3dwJAgNp","body":"please check here @akortex <a href=\"https://pastebin.com/3dwJAgNp\" rel=\"nofollow noreferrer\">pastebin.com/3dwJAgNp</a>"},{"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"score":0,"creation_date":1632475237,"post_id":69312280,"comment_id":122507760,"body_markdown":"How are you trying to run your project?","body":"How are you trying to run your project?"},{"owner":{"account_id":19507919,"reputation":366,"user_id":14272487,"display_name":"edhi.uchiha"},"score":0,"creation_date":1632475347,"post_id":69312280,"comment_id":122507806,"body_markdown":"./gradlew bootRun \n\nif with any profile\n./gradlew bootRun -Penv=dev","body":"./gradlew bootRun   if with any profile ./gradlew bootRun -Penv=dev"}],"answers":[{"tags":[],"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632582582,"creation_date":1632582582,"answer_id":69327398,"question_id":69312280,"body_markdown":"Try adding mainClassName \r\n\r\nmainClassName should be fully qualified class name, not path.\r\n\r\nmainClassName = &quot;full.package.name.MainClassApplication&quot;\r\n\r\nThis official grade docs can be helpful .\r\n\r\nhttps://docs.gradle.org/current/userguide/application_plugin.html","title":"Spring Gradle Project","body":"<p>Try adding mainClassName</p>\n<p>mainClassName should be fully qualified class name, not path.</p>\n<p>mainClassName = &quot;full.package.name.MainClassApplication&quot;</p>\n<p>This official grade docs can be helpful .</p>\n<p><a href=\"https://docs.gradle.org/current/userguide/application_plugin.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/application_plugin.html</a></p>\n"}],"owner":{"account_id":19507919,"reputation":366,"user_id":14272487,"display_name":"edhi.uchiha"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69327398,"answer_count":1,"score":1,"last_activity_date":1632582582,"creation_date":1632474000,"question_id":69312280,"body_markdown":"I working in spring project, I just got the project from my PM and when the project try to run got this error \r\n\r\n```\r\nMain class name has not been configured and it could not be resolved\r\n```\r\n\r\nThe project is using more than one environment that using application.yml. So there&#39;are some file similar like application-dev.yml etc.\r\n\r\nAnd there&#39;s no specific error, I had no idea what the fu*k is this error.\r\nPlease help me if you know something about. thanks\r\n\r\nYou can check my build.gradle here\r\n\r\nhttps://pastebin.com/3dwJAgNp\r\n\r\n","title":"Spring Gradle Project","body":"<p>I working in spring project, I just got the project from my PM and when the project try to run got this error</p>\n<pre><code>Main class name has not been configured and it could not be resolved\n</code></pre>\n<p>The project is using more than one environment that using application.yml. So there'are some file similar like application-dev.yml etc.</p>\n<p>And there's no specific error, I had no idea what the fu*k is this error.\nPlease help me if you know something about. thanks</p>\n<p>You can check my build.gradle here</p>\n<p><a href=\"https://pastebin.com/3dwJAgNp\" rel=\"nofollow noreferrer\">https://pastebin.com/3dwJAgNp</a></p>\n"},{"tags":["java","completable-future"],"comments":[{"owner":{"account_id":18834219,"reputation":1,"user_id":13737289,"display_name":"LearnConcept"},"score":0,"creation_date":1632573986,"post_id":69326270,"comment_id":122532515,"body_markdown":"I been suggested using CompletableFuture instead my code will works sequentially.","body":"I been suggested using CompletableFuture instead my code will works sequentially."},{"owner":{"account_id":1674999,"reputation":9423,"user_id":1540749,"accept_rate":90,"display_name":"josejuan"},"score":0,"creation_date":1632574578,"post_id":69326270,"comment_id":122532676,"body_markdown":"Do not use `CompletableFuture` I don&#39;t know what rest api are you using but use non-blocking async io operations (`CompletableFuture` create a new thread and wait for it).","body":"Do not use <code>CompletableFuture</code> I don&#39;t know what rest api are you using but use non-blocking async io operations (<code>CompletableFuture</code> create a new thread and wait for it)."},{"owner":{"account_id":18834219,"reputation":1,"user_id":13737289,"display_name":"LearnConcept"},"score":0,"creation_date":1632574663,"post_id":69326270,"comment_id":122532694,"body_markdown":"Can you please provide the detail solution.. please","body":"Can you please provide the detail solution.. please"},{"owner":{"account_id":1674999,"reputation":9423,"user_id":1540749,"accept_rate":90,"display_name":"josejuan"},"score":0,"creation_date":1632574764,"post_id":69326270,"comment_id":122532717,"body_markdown":"https://stackoverflow.com/a/26151888/1540749 this close your question :)","body":"<a href=\"https://stackoverflow.com/a/26151888/1540749\">stackoverflow.com/a/26151888/1540749</a> this close your question :)"}],"answers":[{"tags":[],"owner":{"account_id":2366927,"reputation":1802,"user_id":2072444,"accept_rate":41,"display_name":"rishi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632582007,"creation_date":1632582007,"answer_id":69327320,"question_id":69326270,"body_markdown":"Not sure about how your API looks like but below is an example that gives you a fair idea of how you can call your API in parallel.\r\n\r\n   \r\n\r\n     @Service\r\n    public class RestService1 {\r\n    \r\n        private final String YOUR_API = &quot;your-api&quot;;\r\n    \r\n        @Autowired\r\n        private RestTemplate restTemplate;\r\n    \r\n        Executor executor = Executors.newFixedThreadPool(5);\r\n    \r\n        public void callApi() {\r\n            List&lt;Object&gt; list = List.of(new Object(), new Object(), new Object()); // your list of object. \r\n            Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n            List&lt;CompletableFuture&lt;Student&gt;&gt; completableFutureList = list.stream().map(object -&gt; {\r\n                return CompletableFuture.supplyAsync(() -&gt; callRestApi(map), executor).thenApply(jsonNode -&gt; callRestApi(jsonNode));\r\n            }).collect(Collectors.toList());\r\n            List&lt;Student&gt; result = completableFutureList.stream()\r\n                    .map(CompletableFuture::join)\r\n                    .collect(Collectors.toList());\r\n        }\r\n    \r\n        private JsonNode callRestApi(final Map&lt;String, String&gt; params) {\r\n            return restTemplate.getForObject(YOUR_API, JsonNode.class, params);\r\n        }\r\n    \r\n        private Student callRestApi(final JsonNode jsonNode) {\r\n            // deserialize it and return your Currency object\r\n            return new Student(); // just for example\r\n        }\r\n    \r\n        // Keep it somewhere in Model package (here just for example)\r\n        private class Student {\r\n            // define your arguments\r\n        }\r\n    }","title":"How to implement forEach loop of list using completableFuture of java8","body":"<p>Not sure about how your API looks like but below is an example that gives you a fair idea of how you can call your API in parallel.</p>\n<pre><code> @Service\npublic class RestService1 {\n\n    private final String YOUR_API = &quot;your-api&quot;;\n\n    @Autowired\n    private RestTemplate restTemplate;\n\n    Executor executor = Executors.newFixedThreadPool(5);\n\n    public void callApi() {\n        List&lt;Object&gt; list = List.of(new Object(), new Object(), new Object()); // your list of object. \n        Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n        List&lt;CompletableFuture&lt;Student&gt;&gt; completableFutureList = list.stream().map(object -&gt; {\n            return CompletableFuture.supplyAsync(() -&gt; callRestApi(map), executor).thenApply(jsonNode -&gt; callRestApi(jsonNode));\n        }).collect(Collectors.toList());\n        List&lt;Student&gt; result = completableFutureList.stream()\n                .map(CompletableFuture::join)\n                .collect(Collectors.toList());\n    }\n\n    private JsonNode callRestApi(final Map&lt;String, String&gt; params) {\n        return restTemplate.getForObject(YOUR_API, JsonNode.class, params);\n    }\n\n    private Student callRestApi(final JsonNode jsonNode) {\n        // deserialize it and return your Currency object\n        return new Student(); // just for example\n    }\n\n    // Keep it somewhere in Model package (here just for example)\n    private class Student {\n        // define your arguments\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18834219,"reputation":1,"user_id":13737289,"display_name":"LearnConcept"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":670,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1632582007,"creation_date":1632573890,"question_id":69326270,"body_markdown":"    List&lt;String&gt; list1 = new ArrayList&lt;String&gt;();\r\n    \t\tlist1.add(&quot;Class1&quot;);\r\n    \t\tlist1.add(&quot;Class2&quot;);\r\n    \t\tList&lt;String&gt; list2 = new ArrayList&lt;String&gt;();\r\n    \t\tlist2.add(&quot;Book1&quot;);\r\n    \t\tlist2.add(&quot;Book2&quot;);\r\n    \t\t\r\n    \t\tList&lt;List&lt;String&gt;&gt; combine = new ArrayList&lt;List&lt;String&gt;&gt;();\r\n    \t\tList&lt;List&lt;Object&gt;&gt; objList = new ArrayList&lt;List&lt;Object&gt;&gt;();\r\n    \t\tcombine.add(list1);\r\n    \t\tcombine.add(list2);\r\n    \t\tList&lt;List&lt;Object&gt;&gt; finalResponse = getObjList(combine, objList);\r\n    \t\t\r\n    \t}\r\n    \r\n    \tprivate static List&lt;List&lt;Object&gt;&gt; getObjList(List&lt;List&lt;String&gt;&gt; combine, List&lt;List&lt;Object&gt;&gt; objList) {\r\n    \t\tStudent std = new Student();\r\n    \t\tAtomicInteger counter = new AtomicInteger(0);\r\n    \t\tcombine.forEach((items)-&gt;{\r\n    \t\t\tstd.setList(items);\r\n    \t\t\tstd.setPageId(counter.incrementAndGet());\r\n    \t\t\t// rest call\r\n    \t\t\tList&lt;Object&gt; response = null; // we are doing rest call here\r\n    \t\t\tobjList.add(response);\r\n    \t\t});\r\n    \t\treturn objList;\r\n    \t}\r\n     \r\n   Please help me.We are preparing the Student object and sending it to rest api. We need to do multiple time depending on List&lt;List&lt;String&gt;&gt; size.Need to use CompletableFuture","title":"How to implement forEach loop of list using completableFuture of java8","body":"<pre><code>List&lt;String&gt; list1 = new ArrayList&lt;String&gt;();\n        list1.add(&quot;Class1&quot;);\n        list1.add(&quot;Class2&quot;);\n        List&lt;String&gt; list2 = new ArrayList&lt;String&gt;();\n        list2.add(&quot;Book1&quot;);\n        list2.add(&quot;Book2&quot;);\n        \n        List&lt;List&lt;String&gt;&gt; combine = new ArrayList&lt;List&lt;String&gt;&gt;();\n        List&lt;List&lt;Object&gt;&gt; objList = new ArrayList&lt;List&lt;Object&gt;&gt;();\n        combine.add(list1);\n        combine.add(list2);\n        List&lt;List&lt;Object&gt;&gt; finalResponse = getObjList(combine, objList);\n        \n    }\n\n    private static List&lt;List&lt;Object&gt;&gt; getObjList(List&lt;List&lt;String&gt;&gt; combine, List&lt;List&lt;Object&gt;&gt; objList) {\n        Student std = new Student();\n        AtomicInteger counter = new AtomicInteger(0);\n        combine.forEach((items)-&gt;{\n            std.setList(items);\n            std.setPageId(counter.incrementAndGet());\n            // rest call\n            List&lt;Object&gt; response = null; // we are doing rest call here\n            objList.add(response);\n        });\n        return objList;\n    }\n \n</code></pre>\n<p>Please help me.We are preparing the Student object and sending it to rest api. We need to do multiple time depending on List&lt;List&gt; size.Need to use CompletableFuture</p>\n"},{"tags":["java","checksum","crc","crc32"],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1318453210,"creation_date":1318453210,"answer_id":7746515,"question_id":7746476,"body_markdown":"Have you tried the CRC32 class?\r\n\r\nhttp://download.oracle.com/javase/7/docs/api/java/util/zip/CRC32.html\r\n\r\nThis is the crc 32 which gzip uses.","title":"Java compatible cksum function","body":"<p>Have you tried the CRC32 class?</p>\n\n<p><a href=\"http://download.oracle.com/javase/7/docs/api/java/util/zip/CRC32.html\" rel=\"nofollow\">http://download.oracle.com/javase/7/docs/api/java/util/zip/CRC32.html</a></p>\n\n<p>This is the crc 32 which gzip uses.</p>\n"},{"tags":[],"owner":{"account_id":449171,"reputation":28526,"user_id":843804,"accept_rate":89,"display_name":"palacsint"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1632581617,"creation_date":1318456461,"answer_id":7747073,"question_id":7746476,"body_markdown":"Jacksum: http://www.jonelo.de/java/jacksum/index.html\r\n\r\n\r\n    cksum         algorithm:   POSIX 1003.2 CRC algorithm\r\n                  length:      32 bits\r\n                  type:        crc\r\n                  since:       Jacksum 1.0.0\r\n                  comment:     - under BeOS    it is /bin/cksum\r\n                               - under FreeBSD it is /usr/bin/cksum\r\n                               - under HP-UX   it is /usr/bin/cksum and\r\n                                 /usr/bin/sum -p\r\n                               - under IBM AIX it is /usr/bin/cksum\r\n                               - under Linux   it is /usr/bin/cksum \r\n\r\nIt&#39;s open source with GPL licence.","title":"Java compatible cksum function","body":"<p>Jacksum: <a href=\"http://www.jonelo.de/java/jacksum/index.html\" rel=\"nofollow noreferrer\">http://www.jonelo.de/java/jacksum/index.html</a></p>\n<pre><code>cksum         algorithm:   POSIX 1003.2 CRC algorithm\n              length:      32 bits\n              type:        crc\n              since:       Jacksum 1.0.0\n              comment:     - under BeOS    it is /bin/cksum\n                           - under FreeBSD it is /usr/bin/cksum\n                           - under HP-UX   it is /usr/bin/cksum and\n                             /usr/bin/sum -p\n                           - under IBM AIX it is /usr/bin/cksum\n                           - under Linux   it is /usr/bin/cksum \n</code></pre>\n<p>It's open source with GPL licence.</p>\n"},{"tags":[],"owner":{"account_id":285018,"reputation":1609,"user_id":583446,"display_name":"Chris Wolf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632494451,"creation_date":1632441544,"answer_id":69308089,"question_id":7746476,"body_markdown":"The `cksum` command on MacOS allows selecting historic algorithms and algorithm 3 is the same as `java.util.zip.CRC32`, as @RobertTupelo-Schneck pointed out.  For some reason, the more compact `CheckedInputStream` yields a different checksum.\r\n  \r\ne.g.\r\n```\r\n$ cksum -o 3 /bin/ls\r\n4187574503 38704 /bin/ls\r\n```\r\n\r\nSame as :\r\n```java\r\npackage com.elsevier.hmsearch.util;\r\nimport static java.lang.System.out;\r\n\r\nimport java.io.InputStream;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\nimport java.util.zip.CRC32;\r\nimport java.util.zip.CheckedInputStream;\r\nimport java.util.zip.Checksum;\r\n\r\npublic class Demo {\r\n\r\n  static final String FILE = &quot;/bin/ls&quot;;\r\n  \r\n  public static void main(String[] args) throws Exception {\r\n    Checksum cs = new CRC32();\r\n    byte[] buffer = new byte[4096];\r\n    long totalBytes = 0;\r\n    \r\n    InputStream is = Files.newInputStream(Paths.get(FILE));\r\n    int bytesRead = is.read(buffer);\r\n    totalBytes += bytesRead;\r\n    //CheckedInputStream checkedInputStream = new CheckedInputStream(is, new CRC32());\r\n    //while ((bytesRead = checkedInputStream.read(buffer, 0, buffer.length)) &gt;= 0) {\r\n    //  totalBytes += bytesRead;\r\n    //}\r\n    while (bytesRead &gt; 0) {\r\n      cs.update(buffer, 0, bytesRead);\r\n      bytesRead = is.read(buffer);\r\n      if (bytesRead &lt; 1)\r\n        break;\r\n      totalBytes += bytesRead;\r\n    }\r\n    //out.printf(&quot;%d %d %s\\n&quot;, checkedInputStream.getChecksum().getValue(), totalBytes, FILE);\r\n    out.printf(&quot;%d %d %s\\n&quot;, cs.getValue(), totalBytes, FILE);\r\n  }\r\n}\r\n```","title":"Java compatible cksum function","body":"<p>The <code>cksum</code> command on MacOS allows selecting historic algorithms and algorithm 3 is the same as <code>java.util.zip.CRC32</code>, as @RobertTupelo-Schneck pointed out.  For some reason, the more compact <code>CheckedInputStream</code> yields a different checksum.</p>\n<p>e.g.</p>\n<pre><code>$ cksum -o 3 /bin/ls\n4187574503 38704 /bin/ls\n</code></pre>\n<p>Same as :</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.elsevier.hmsearch.util;\nimport static java.lang.System.out;\n\nimport java.io.InputStream;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.util.zip.CRC32;\nimport java.util.zip.CheckedInputStream;\nimport java.util.zip.Checksum;\n\npublic class Demo {\n\n  static final String FILE = &quot;/bin/ls&quot;;\n  \n  public static void main(String[] args) throws Exception {\n    Checksum cs = new CRC32();\n    byte[] buffer = new byte[4096];\n    long totalBytes = 0;\n    \n    InputStream is = Files.newInputStream(Paths.get(FILE));\n    int bytesRead = is.read(buffer);\n    totalBytes += bytesRead;\n    //CheckedInputStream checkedInputStream = new CheckedInputStream(is, new CRC32());\n    //while ((bytesRead = checkedInputStream.read(buffer, 0, buffer.length)) &gt;= 0) {\n    //  totalBytes += bytesRead;\n    //}\n    while (bytesRead &gt; 0) {\n      cs.update(buffer, 0, bytesRead);\n      bytesRead = is.read(buffer);\n      if (bytesRead &lt; 1)\n        break;\n      totalBytes += bytesRead;\n    }\n    //out.printf(&quot;%d %d %s\\n&quot;, checkedInputStream.getChecksum().getValue(), totalBytes, FILE);\n    out.printf(&quot;%d %d %s\\n&quot;, cs.getValue(), totalBytes, FILE);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":263097,"reputation":1561,"user_id":548446,"accept_rate":63,"display_name":"Kowshik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5085,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":7747073,"answer_count":3,"score":8,"last_activity_date":1632581617,"creation_date":1318453049,"question_id":7746476,"body_markdown":"Is there any library/code in Java to calculate the 32-bit CRC of a stream of bytes in a way thats consistent with the cksum command in unix ?","title":"Java compatible cksum function","body":"<p>Is there any library/code in Java to calculate the 32-bit CRC of a stream of bytes in a way thats consistent with the cksum command in unix ?</p>\n"},{"tags":["java","android","android-studio","android-mediaplayer","android-mediarecorder"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1632492846,"post_id":69316201,"comment_id":122515025,"body_markdown":"`catch (IOException e) {\n                        e.printStackTrace();\n    \n                    }` Place a Toast in it to display e.getMessage() and do not continue but return.","body":"<code>catch (IOException e) {                         e.printStackTrace();                          }</code> Place a Toast in it to display e.getMessage() and do not continue but return."},{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1633193064,"post_id":69316201,"comment_id":122696596,"body_markdown":"Please provide a minimal working example [ask]","body":"Please provide a minimal working example <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"}],"owner":{"account_id":22848301,"reputation":1,"user_id":16994337,"display_name":"WhitePhantom"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632581370,"creation_date":1632491624,"question_id":69316201,"body_markdown":"I&#39;m new to android dev. I use the following code to record and play the audio, the application records audio through a Java media recorder it records the audio but doesn&#39;t play the audio. The IDE doesn&#39;t show any errors with the code, but the audio file doesn&#39;t play when I click the play button. I.e the Media Player doesn&#39;t work.\r\n\r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.core.app.ActivityCompat;\r\n    import androidx.core.content.ContextCompat;\r\n    \r\n    import android.Manifest;\r\n    \r\n    import android.annotation.SuppressLint;\r\n    import android.content.pm.PackageManager;\r\n    import android.media.MediaPlayer;\r\n    import android.media.MediaRecorder;\r\n    import android.os.Bundle;\r\n    import android.os.Environment;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.Toast;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.UUID;\r\n    \r\n    import static android.os.Environment.getExternalStorageDirectory;\r\n    \r\n    \r\n    public class rec_ingress extends AppCompatActivity {\r\n    \r\n        private Button btnStopRecording, btnRecord, btnPlay, btnStop;\r\n        private String pathSave = &quot;&quot;;\r\n        private MediaRecorder mediaRecorder;\r\n        private MediaPlayer mediaPlayer;\r\n    \r\n    \r\n        final int REQUEST_PERMISSION_CODE=1000;\r\n    \r\n        @SuppressLint(&quot;ShowToast&quot;)\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_rec_ingress);\r\n    \r\n            if(!checkPermissionFromDevice())\r\n                requestPermissions();\r\n    \r\n            btnRecord =findViewById(R.id.Recbtn);\r\n            btnPlay =findViewById(R.id.playbtn);\r\n            btnStopRecording =findViewById(R.id.stopRecbtn);\r\n            btnStop =findViewById(R.id.pausebtn);\r\n    \r\n            //runtime Permission Request form android manifest\r\n    \r\n                btnRecord.setOnClickListener(new View.OnClickListener()\r\n                {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        if (checkPermissionFromDevice())\r\n                        {\r\n    \r\n    \r\n                       /* pathSave = Environment.getExternalStorageDirectory()\r\n                                .getAbsolutePath()+&quot;/&quot;\r\n                                +UUID.randomUUID().toString()+&quot;_steth19_.mpg&quot;;*/\r\n                            pathSave= getExternalStorageDirectory().getAbsolutePath();\r\n                            pathSave += &quot;/audiorecordtest.3gp&quot;;\r\n    \r\n                        setupMediaRecorder();\r\n                        try {\r\n                            mediaRecorder.prepare();\r\n                            mediaRecorder.start();\r\n                        } catch (IOException e) {\r\n                            e.printStackTrace();\r\n                            Toast.makeText(rec_ingress.this,e.getMessage(), Toast.LENGTH_SHORT);\r\n                            e.getMessage();\r\n                        }\r\n                        btnPlay.setEnabled(false);\r\n                        btnStop.setEnabled(false);\r\n    \r\n                        Toast.makeText(rec_ingress.this, &quot;Recording Started&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n                    }\r\n                    }\r\n    \r\n                    {\r\n                        requestPermissions();\r\n                    }\r\n                });\r\n                btnStopRecording.setOnClickListener(v -&gt; {\r\n                    mediaRecorder.stop();\r\n                    btnStopRecording.setEnabled(false);\r\n                    btnPlay.setEnabled(true);\r\n                    btnRecord.setEnabled(true);\r\n                    btnStop.setEnabled(false);\r\n    \r\n                });\r\n    \r\n                //Play Button\r\n                btnPlay.setOnClickListener(v -&gt; {\r\n    \r\n                    btnStopRecording.setEnabled(false);\r\n                    btnStop.setEnabled(true);\r\n                    btnRecord.setEnabled(true);\r\n    \r\n                    mediaPlayer = new MediaPlayer();\r\n                    try {\r\n                        mediaPlayer.setDataSource(pathSave);\r\n                        mediaPlayer.prepare();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n    \r\n    \r\n                    }\r\n                    mediaPlayer.start();\r\n                    Toast.makeText(rec_ingress.this, &quot;Playing....&quot;, Toast.LENGTH_SHORT).show();\r\n                });\r\n    \r\n                    //stop button\r\n                    btnStop.setOnClickListener(v -&gt; {\r\n    \r\n                        btnStopRecording.setEnabled(false);\r\n                        btnPlay.setEnabled(true);\r\n                        btnRecord.setEnabled(true);\r\n                        btnStop.setEnabled(false);\r\n    \r\n                        if(mediaPlayer != null)\r\n                        {\r\n                            mediaPlayer.stop();\r\n                            mediaPlayer.release();\r\n                            setupMediaRecorder();\r\n                            Toast.makeText(rec_ingress.this, &quot;Stoped....&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n                        }\r\n                    });\r\n    \r\n    \r\n        }\r\n    \r\n        private void setupMediaRecorder() {\r\n            mediaRecorder =new MediaRecorder();\r\n            mediaRecorder.setAudioSource(MediaRecorder.AudioSource.MIC);\r\n            mediaRecorder.setOutputFormat(MediaRecorder.OutputFormat.THREE_GPP);\r\n            mediaRecorder.setAudioEncoder(MediaRecorder.OutputFormat.AMR_NB);\r\n            mediaRecorder.setOutputFile(pathSave);\r\n        }\r\n        private boolean checkPermissionFromDevice () {\r\n            int write_external_storage_result = ContextCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE);\r\n            int record_audio_results = ContextCompat.checkSelfPermission(this, Manifest.permission.RECORD_AUDIO);\r\n            return write_external_storage_result == PackageManager.PERMISSION_GRANTED &amp;&amp;\r\n                    record_audio_results == PackageManager.PERMISSION_GRANTED;\r\n        }\r\n    \r\n    \r\n    \r\n        private void requestPermissions() {\r\n            ActivityCompat.requestPermissions(this, new String[]{\r\n                    Manifest.permission.WRITE_EXTERNAL_STORAGE,\r\n                    Manifest.permission.RECORD_AUDIO\r\n    \r\n            }, REQUEST_PERMISSION_CODE);\r\n        }\r\n    \r\n    \r\n    \r\n    \r\n            @Override\r\n        public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n                super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n                if (requestCode == REQUEST_PERMISSION_CODE) {\r\n                    if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED)\r\n                        Toast.makeText(this, &quot;Permission Granted&quot;, Toast.LENGTH_SHORT).show();\r\n                    else\r\n                        Toast.makeText(this, &quot;Permission Denied&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n        }\r\n    }","title":"Audio file doesn&#39;t play after recording it through Java mediarecoder","body":"<p>I'm new to android dev. I use the following code to record and play the audio, the application records audio through a Java media recorder it records the audio but doesn't play the audio. The IDE doesn't show any errors with the code, but the audio file doesn't play when I click the play button. I.e the Media Player doesn't work.</p>\n<pre><code>import androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\n\nimport android.Manifest;\n\nimport android.annotation.SuppressLint;\nimport android.content.pm.PackageManager;\nimport android.media.MediaPlayer;\nimport android.media.MediaRecorder;\nimport android.os.Bundle;\nimport android.os.Environment;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.Toast;\n\nimport java.io.IOException;\nimport java.util.UUID;\n\nimport static android.os.Environment.getExternalStorageDirectory;\n\n\npublic class rec_ingress extends AppCompatActivity {\n\n    private Button btnStopRecording, btnRecord, btnPlay, btnStop;\n    private String pathSave = &quot;&quot;;\n    private MediaRecorder mediaRecorder;\n    private MediaPlayer mediaPlayer;\n\n\n    final int REQUEST_PERMISSION_CODE=1000;\n\n    @SuppressLint(&quot;ShowToast&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_rec_ingress);\n\n        if(!checkPermissionFromDevice())\n            requestPermissions();\n\n        btnRecord =findViewById(R.id.Recbtn);\n        btnPlay =findViewById(R.id.playbtn);\n        btnStopRecording =findViewById(R.id.stopRecbtn);\n        btnStop =findViewById(R.id.pausebtn);\n\n        //runtime Permission Request form android manifest\n\n            btnRecord.setOnClickListener(new View.OnClickListener()\n            {\n                @Override\n                public void onClick(View v) {\n                    if (checkPermissionFromDevice())\n                    {\n\n\n                   /* pathSave = Environment.getExternalStorageDirectory()\n                            .getAbsolutePath()+&quot;/&quot;\n                            +UUID.randomUUID().toString()+&quot;_steth19_.mpg&quot;;*/\n                        pathSave= getExternalStorageDirectory().getAbsolutePath();\n                        pathSave += &quot;/audiorecordtest.3gp&quot;;\n\n                    setupMediaRecorder();\n                    try {\n                        mediaRecorder.prepare();\n                        mediaRecorder.start();\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                        Toast.makeText(rec_ingress.this,e.getMessage(), Toast.LENGTH_SHORT);\n                        e.getMessage();\n                    }\n                    btnPlay.setEnabled(false);\n                    btnStop.setEnabled(false);\n\n                    Toast.makeText(rec_ingress.this, &quot;Recording Started&quot;, Toast.LENGTH_SHORT).show();\n\n                }\n                }\n\n                {\n                    requestPermissions();\n                }\n            });\n            btnStopRecording.setOnClickListener(v -&gt; {\n                mediaRecorder.stop();\n                btnStopRecording.setEnabled(false);\n                btnPlay.setEnabled(true);\n                btnRecord.setEnabled(true);\n                btnStop.setEnabled(false);\n\n            });\n\n            //Play Button\n            btnPlay.setOnClickListener(v -&gt; {\n\n                btnStopRecording.setEnabled(false);\n                btnStop.setEnabled(true);\n                btnRecord.setEnabled(true);\n\n                mediaPlayer = new MediaPlayer();\n                try {\n                    mediaPlayer.setDataSource(pathSave);\n                    mediaPlayer.prepare();\n                } catch (IOException e) {\n                    e.printStackTrace();\n\n\n                }\n                mediaPlayer.start();\n                Toast.makeText(rec_ingress.this, &quot;Playing....&quot;, Toast.LENGTH_SHORT).show();\n            });\n\n                //stop button\n                btnStop.setOnClickListener(v -&gt; {\n\n                    btnStopRecording.setEnabled(false);\n                    btnPlay.setEnabled(true);\n                    btnRecord.setEnabled(true);\n                    btnStop.setEnabled(false);\n\n                    if(mediaPlayer != null)\n                    {\n                        mediaPlayer.stop();\n                        mediaPlayer.release();\n                        setupMediaRecorder();\n                        Toast.makeText(rec_ingress.this, &quot;Stoped....&quot;, Toast.LENGTH_SHORT).show();\n\n                    }\n                });\n\n\n    }\n\n    private void setupMediaRecorder() {\n        mediaRecorder =new MediaRecorder();\n        mediaRecorder.setAudioSource(MediaRecorder.AudioSource.MIC);\n        mediaRecorder.setOutputFormat(MediaRecorder.OutputFormat.THREE_GPP);\n        mediaRecorder.setAudioEncoder(MediaRecorder.OutputFormat.AMR_NB);\n        mediaRecorder.setOutputFile(pathSave);\n    }\n    private boolean checkPermissionFromDevice () {\n        int write_external_storage_result = ContextCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE);\n        int record_audio_results = ContextCompat.checkSelfPermission(this, Manifest.permission.RECORD_AUDIO);\n        return write_external_storage_result == PackageManager.PERMISSION_GRANTED &amp;&amp;\n                record_audio_results == PackageManager.PERMISSION_GRANTED;\n    }\n\n\n\n    private void requestPermissions() {\n        ActivityCompat.requestPermissions(this, new String[]{\n                Manifest.permission.WRITE_EXTERNAL_STORAGE,\n                Manifest.permission.RECORD_AUDIO\n\n        }, REQUEST_PERMISSION_CODE);\n    }\n\n\n\n\n        @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n            super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n            if (requestCode == REQUEST_PERMISSION_CODE) {\n                if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED)\n                    Toast.makeText(this, &quot;Permission Granted&quot;, Toast.LENGTH_SHORT).show();\n                else\n                    Toast.makeText(this, &quot;Permission Denied&quot;, Toast.LENGTH_SHORT).show();\n            }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","transient"],"comments":[{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":1,"creation_date":1632613757,"post_id":69327221,"comment_id":122540693,"body_markdown":"Can you please add some code? Simple descriptions of it do not help us help you. thanks!","body":"Can you please add some code? Simple descriptions of it do not help us help you. thanks!"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1633284615,"post_id":69327221,"comment_id":122713482,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":1413067,"reputation":13,"user_id":1339293,"display_name":"IcyNeko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632581278,"creation_date":1632581278,"question_id":69327221,"body_markdown":"I&#39;m using hibernate to pull data from two different tables and use them to display. Table A has personnel data, and data B has some state-changing data. Rather than use two lists to display, I want to take a variable from B, apply it to entries pulled from A via a transient variable, and use it in a controller for display.\r\n\r\nWhat I&#39;m seeing is that when I use it in System.out, the value is displayed correctly. however, when I step through with the debugger, it&#39;s not showing the correct value (ie: a boolean value that I have in there is defaulted as false, but something in Table B sets it to true under certain conditions. Sys out shows the value get reset to true, but when I step through with debugger, I don&#39;t see it set to true). \r\n\r\nFurther, when I pass it to the jsp (via model) to then trigger a checkbox, the boolean is still false, so the checkbox remains unchecked. \r\n\r\nI&#39;ve had issues in the past where hibernate pulls don&#39;t work right when used to set another value, due to lazy loading iirc. Any suggestions?","title":"Trying to update transient variable in a hibernate data object for use in a controller, but it&#39;s not displaying (in spring mvc)","body":"<p>I'm using hibernate to pull data from two different tables and use them to display. Table A has personnel data, and data B has some state-changing data. Rather than use two lists to display, I want to take a variable from B, apply it to entries pulled from A via a transient variable, and use it in a controller for display.</p>\n<p>What I'm seeing is that when I use it in System.out, the value is displayed correctly. however, when I step through with the debugger, it's not showing the correct value (ie: a boolean value that I have in there is defaulted as false, but something in Table B sets it to true under certain conditions. Sys out shows the value get reset to true, but when I step through with debugger, I don't see it set to true).</p>\n<p>Further, when I pass it to the jsp (via model) to then trigger a checkbox, the boolean is still false, so the checkbox remains unchecked.</p>\n<p>I've had issues in the past where hibernate pulls don't work right when used to set another value, due to lazy loading iirc. Any suggestions?</p>\n"},{"tags":["java","mysql","spring","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632580901,"creation_date":1632580901,"answer_id":69327175,"question_id":69327098,"body_markdown":"Then you need to map it as a simple column instead of entity relationship:\r\n```java\r\n@Id\r\nprivate UUID id;\r\nprivate String name;\r\nprivate double price;\r\nprivate String image;\r\nprivate String ingredients;\r\nprivate String description;\r\n@Column(name=&quot;CATEGORY_ID&quot;. // name is just an example\r\nprivate UUID categoryId;\r\n```\r\n\r\nYou may remove `@Column` if the name of the property matches the column name.","title":"Spring Boot Jpa, cannot map only foreign key","body":"<p>Then you need to map it as a simple column instead of entity relationship:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Id\nprivate UUID id;\nprivate String name;\nprivate double price;\nprivate String image;\nprivate String ingredients;\nprivate String description;\n@Column(name=&quot;CATEGORY_ID&quot;. // name is just an example\nprivate UUID categoryId;\n</code></pre>\n<p>You may remove <code>@Column</code> if the name of the property matches the column name.</p>\n"}],"owner":{"account_id":22818475,"reputation":17,"user_id":16968708,"display_name":"Dark Knight"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":322,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69327175,"answer_count":1,"score":0,"last_activity_date":1632580901,"creation_date":1632580258,"question_id":69327098,"body_markdown":"How can map only id(foreign key) with @ManyToOne? I don&#39;t want whole object to be mapped..\r\n\r\n    @Id\r\n    private UUID id;\r\n    private String name;\r\n    private double price;\r\n    private String image;\r\n    private String ingredients;\r\n    private String description;\r\n\r\n    @ManyToOne\r\n    private CategoryImpl category;\r\n\r\n    public FoodDto mapToDto() {\r\n        return new FoodDtoImpl(this.getId(), this.getName(), this.getPrice(), this.getImage(),\r\n                this.getIngredients(), this.getDescription(),this.getCategory());\r\n    }\r\n\r\n    public void generateId(){\r\n        this.setId(UUID.randomUUID());\r\n    }\r\n}","title":"Spring Boot Jpa, cannot map only foreign key","body":"<p>How can map only id(foreign key) with @ManyToOne? I don't want whole object to be mapped..</p>\n<pre><code>@Id\nprivate UUID id;\nprivate String name;\nprivate double price;\nprivate String image;\nprivate String ingredients;\nprivate String description;\n\n@ManyToOne\nprivate CategoryImpl category;\n\npublic FoodDto mapToDto() {\n    return new FoodDtoImpl(this.getId(), this.getName(), this.getPrice(), this.getImage(),\n            this.getIngredients(), this.getDescription(),this.getCategory());\n}\n\npublic void generateId(){\n    this.setId(UUID.randomUUID());\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","python-2.7","selenium","automation","google-chrome-devtools"],"answers":[{"tags":[],"owner":{"account_id":3447044,"reputation":41737,"user_id":2887618,"display_name":"Florent B."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1508948213,"creation_date":1508948213,"answer_id":46937393,"question_id":46936851,"body_markdown":"You could use the [performance API](https://developer.mozilla.org/en-US/docs/Web/API/Window/performance) to get the transferred size.\r\n\r\nTransferred size for the main page and each resources:\r\n\r\n    sizes = driver.execute_script(&quot;&quot;&quot;\r\n      return performance.getEntries()\r\n        .filter(e =&gt; e.entryType===&#39;navigation&#39; || e.entryType===&#39;resource&#39;)\r\n        .map(e=&gt; ([e.name, e.transferSize]));\r\n      &quot;&quot;&quot;)\r\n\r\nTransferred size for the main page only:\r\n\r\n    size = driver.execute_script(&quot;&quot;&quot;\r\n      return performance.getEntriesByType(&#39;navigation&#39;)[0].transferSize;\r\n      &quot;&quot;&quot;)\r\n\r\nTotal transferred size for the main page and resources:\r\n\r\n    size = driver.execute_script(&quot;&quot;&quot;\r\n      return performance.getEntries()\r\n        .filter(e =&gt; e.entryType===&#39;navigation&#39; || e.entryType===&#39;resource&#39;)\r\n        .reduce((acc, e) =&gt; acc + e.transferSize, 0)\r\n      &quot;&quot;&quot;)","title":"How to access the values of Chrome&#39;s Dev tools Network tab&#39;s Request or summary using Selenium in python/java?","body":"<p>You could use the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/performance\" rel=\"nofollow noreferrer\">performance API</a> to get the transferred size.</p>\n\n<p>Transferred size for the main page and each resources:</p>\n\n<pre><code>sizes = driver.execute_script(\"\"\"\n  return performance.getEntries()\n    .filter(e =&gt; e.entryType==='navigation' || e.entryType==='resource')\n    .map(e=&gt; ([e.name, e.transferSize]));\n  \"\"\")\n</code></pre>\n\n<p>Transferred size for the main page only:</p>\n\n<pre><code>size = driver.execute_script(\"\"\"\n  return performance.getEntriesByType('navigation')[0].transferSize;\n  \"\"\")\n</code></pre>\n\n<p>Total transferred size for the main page and resources:</p>\n\n<pre><code>size = driver.execute_script(\"\"\"\n  return performance.getEntries()\n    .filter(e =&gt; e.entryType==='navigation' || e.entryType==='resource')\n    .reduce((acc, e) =&gt; acc + e.transferSize, 0)\n  \"\"\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10813923,"reputation":1986,"user_id":7953640,"accept_rate":50,"display_name":"Satish Michael"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1508956031,"creation_date":1508956031,"answer_id":46939621,"question_id":46936851,"body_markdown":"I&quot;m not sure on calculating total weight of the page but obtaining total number of request sent to the server is possible\r\n\r\nUse https://github.com/lightbody/browsermob-proxy and add the proxy to the desired_capabilities, once the script finished, dump the har file to json and get all the request \r\n\r\nin python:\r\n\r\n    from browsermobproxy import Server\r\n    from selenium import webdriver\r\n    from selenium.webdriver.chrome.options import Options\r\n    import json\r\n\r\n    server = Server(&#39;path to the proxy server file&#39;)\r\n    server.start()\r\n    proxy = server.create_proxy()\r\n\r\n    options = Options()\r\n    options.add_argument(f&#39;--proxy-server={proxy.proxy}&#39;)\r\n    driver = webdriver.Chrome(&#39;path to chromedriver&#39;, desired_capabilities=options.to_capabilities())\r\n     \r\n    proxy.new_har()\r\n    driver.get(&#39;https://www.google.com&#39;)\r\n    \r\n    result = json.dumps(proxy.har)\r\n    json_data = json.loads(result)\r\n    \r\n    request= [x for x in json_data[&#39;log&#39;][&#39;entries&#39;]]\r\n    server.stop()\r\n    driver.close()","title":"How to access the values of Chrome&#39;s Dev tools Network tab&#39;s Request or summary using Selenium in python/java?","body":"<p>I\"m not sure on calculating total weight of the page but obtaining total number of request sent to the server is possible</p>\n\n<p>Use <a href=\"https://github.com/lightbody/browsermob-proxy\" rel=\"nofollow noreferrer\">https://github.com/lightbody/browsermob-proxy</a> and add the proxy to the desired_capabilities, once the script finished, dump the har file to json and get all the request </p>\n\n<p>in python:</p>\n\n<pre><code>from browsermobproxy import Server\nfrom selenium import webdriver\nfrom selenium.webdriver.chrome.options import Options\nimport json\n\nserver = Server('path to the proxy server file')\nserver.start()\nproxy = server.create_proxy()\n\noptions = Options()\noptions.add_argument(f'--proxy-server={proxy.proxy}')\ndriver = webdriver.Chrome('path to chromedriver', desired_capabilities=options.to_capabilities())\n\nproxy.new_har()\ndriver.get('https://www.google.com')\n\nresult = json.dumps(proxy.har)\njson_data = json.loads(result)\n\nrequest= [x for x in json_data['log']['entries']]\nserver.stop()\ndriver.close()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16898614,"reputation":11,"user_id":12220587,"display_name":"Bradley Pelton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632580771,"creation_date":1632580771,"answer_id":69327161,"question_id":46936851,"body_markdown":"UPDATE 2021:\r\n\r\nThis is now possible as part of the Selenium 4 Beta as of 2020/2021. The entire chrome dev tool suite is available via native selenium APIs. \r\n\r\nsee: https://www.selenium.dev/documentation/support_packages/chrome_devtools/","title":"How to access the values of Chrome&#39;s Dev tools Network tab&#39;s Request or summary using Selenium in python/java?","body":"<p>UPDATE 2021:</p>\n<p>This is now possible as part of the Selenium 4 Beta as of 2020/2021. The entire chrome dev tool suite is available via native selenium APIs.</p>\n<p>see: <a href=\"https://www.selenium.dev/documentation/support_packages/chrome_devtools/\" rel=\"nofollow noreferrer\">https://www.selenium.dev/documentation/support_packages/chrome_devtools/</a></p>\n"}],"owner":{"account_id":5282955,"reputation":41,"user_id":4217727,"display_name":"Haris Rizwan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9128,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1632580771,"creation_date":1508946585,"question_id":46936851,"body_markdown":"I&#39;m using chrome option to access the performance logging using selenium, I&#39;m trying to write a code that would help me figure out the total number of the http request and the size of the page after the loading is finished. Manually we can check this by using Dev tool&#39;s network tab. Just need to know how to access the Network table&#39;s value or summary values. Because the performance logging is not giving me the summarized values that I need, I would like to write a code to get: \n\n&gt; The total number of requests=\n&gt;\n&gt; What the total weight of the Page is=\n\nIf it is possible.\n\n[Screen shot of network tab highlighted the Summary and Request table values that i need to access][1]\n\n\n  [1]: https://i.stack.imgur.com/IknaU.png\n\n    \n    capabilities = DesiredCapabilities.CHROME\n    capabilities[&#39;loggingPrefs&#39;] = {&#39;browser&#39;: &#39;DEBUG&#39;}\n    capabilities[&#39;loggingPrefs&#39;] = {&#39;performance&#39;: &#39;ALL&#39;}\n    capabilities[&#39;perfLoggingPrefs&#39;] = {&#39;enableTimeline&#39;: &#39;true&#39;}\n\n\n    driverLocation = &quot;/Users/harisrizwan/Selenium/chrome/chromedriver&quot;\n    os.environ[&quot;chrome.driver&quot;] = driverLocation\n    chrome_options = Options()\n    chrome_options.add_argument(&quot;headless&quot;)\n  \n    driver= \n    webdriver.Chrome(driverLocation,desired_capabilities=capabilities)\n    driver.implicitly_wait(10)\n    driver.maximize_window()\n    baseUrl=&quot;www.google.com&quot;\n    driver.get(baseUrl)\n\n# using pandas to create a dataframe of the log.\n\n    df = pd.DataFrame(driver.get_log(&#39;performance&#39;))\n    df.to_clipboard(index=False)\n\n\n\n\nThank you.","title":"How to access the values of Chrome&#39;s Dev tools Network tab&#39;s Request or summary using Selenium in python/java?","body":"<p>I'm using chrome option to access the performance logging using selenium, I'm trying to write a code that would help me figure out the total number of the http request and the size of the page after the loading is finished. Manually we can check this by using Dev tool's network tab. Just need to know how to access the Network table's value or summary values. Because the performance logging is not giving me the summarized values that I need, I would like to write a code to get:</p>\n<blockquote>\n<p>The total number of requests=</p>\n<p>What the total weight of the Page is=</p>\n</blockquote>\n<p>If it is possible.</p>\n<p><a href=\"https://i.stack.imgur.com/IknaU.png\" rel=\"nofollow noreferrer\">Screen shot of network tab highlighted the Summary and Request table values that i need to access</a></p>\n<pre><code>capabilities = DesiredCapabilities.CHROME\ncapabilities['loggingPrefs'] = {'browser': 'DEBUG'}\ncapabilities['loggingPrefs'] = {'performance': 'ALL'}\ncapabilities['perfLoggingPrefs'] = {'enableTimeline': 'true'}\n\n\ndriverLocation = &quot;/Users/harisrizwan/Selenium/chrome/chromedriver&quot;\nos.environ[&quot;chrome.driver&quot;] = driverLocation\nchrome_options = Options()\nchrome_options.add_argument(&quot;headless&quot;)\n\ndriver= \nwebdriver.Chrome(driverLocation,desired_capabilities=capabilities)\ndriver.implicitly_wait(10)\ndriver.maximize_window()\nbaseUrl=&quot;www.google.com&quot;\ndriver.get(baseUrl)\n</code></pre>\n<h1>using pandas to create a dataframe of the log.</h1>\n<pre><code>df = pd.DataFrame(driver.get_log('performance'))\ndf.to_clipboard(index=False)\n</code></pre>\n<p>Thank you.</p>\n"},{"tags":["java","maven","javadoc","maven-javadoc-plugin"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1632064901,"post_id":69243027,"comment_id":122387274,"body_markdown":"What do you mean by “work properly”?  Are the links within the generated javadoc tree broken?","body":"What do you mean by “work properly”?  Are the links within the generated javadoc tree broken?"},{"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"score":0,"creation_date":1632094840,"post_id":69243027,"comment_id":122393463,"body_markdown":"@VGR yes, they are broken as by default javadoc uses parentheses in method links (by broken, I mean they point the the right class html page, but the fragment does not resolve and you land at the top of the page instead of specific method section)","body":"@VGR yes, they are broken as by default javadoc uses parentheses in method links (by broken, I mean they point the the right class html page, but the fragment does not resolve and you land at the top of the page instead of specific method section)"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1632096118,"post_id":69243027,"comment_id":122393642,"body_markdown":"Can you provide an example of a broken URL?  https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/System.html#currentTimeMillis() seems to work quite well.","body":"Can you provide an example of a broken URL?  <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/System.html#currentTimeMillis()\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/16/docs/api/java.base/java/la&zwnj;&#8203;ng/&hellip;</a> seems to work quite well."},{"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"score":0,"creation_date":1632096874,"post_id":69243027,"comment_id":122393738,"body_markdown":"@VGR as stated in the OP only &quot;some projects&quot; make this replacement. gRPC is an example of such project: javadoc links to gRPC methods in your project will not work by default because of this. For example rendering javadoc `{@link ServerCallStreamObserver#setOnCancelHandler(Runnable)}` will create a link to  https://javadoc.io/doc/io.grpc/grpc-all/1.40.0/io/grpc/stub/ServerCallStreamObserver.html#setOnCancelHandler(java.lang.Runnable) which will take you to the top of `ServerCallStreamObserver`&#39;s page as they replace parentheses with dashes somehow: see the properly working link in the OP.","body":"@VGR as stated in the OP only &quot;some projects&quot; make this replacement. gRPC is an example of such project: javadoc links to gRPC methods in your project will not work by default because of this. For example rendering javadoc <code>{@link ServerCallStreamObserver#setOnCancelHandler(Runnable)}</code> will create a link to  <a href=\"https://javadoc.io/doc/io.grpc/grpc-all/1.40.0/io/grpc/stub/ServerCallStreamObserver.html#setOnCancelHandler(java.lang.Runnable)\" rel=\"nofollow noreferrer\">javadoc.io/doc/io.grpc/grpc-all/1.40.0/io/grpc/stub/&hellip;</a> which will take you to the top of <code>ServerCallStreamObserver</code>&#39;s page as they replace parentheses with dashes somehow: see the properly working link in the OP."},{"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"score":0,"creation_date":1632097518,"post_id":69243027,"comment_id":122393824,"body_markdown":"@EricAnderson could you help with this one? (not sure if this shoutout will generate a notification)","body":"@EricAnderson could you help with this one? (not sure if this shoutout will generate a notification)"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1632097848,"post_id":69243027,"comment_id":122393875,"body_markdown":"I gather you are referring to the use of javadoc’s `-link` or `-linkoffline` option when generating javadoc?","body":"I gather you are referring to the use of javadoc’s <code>-link</code> or <code>-linkoffline</code> option when generating javadoc?"},{"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"score":0,"creation_date":1632098568,"post_id":69243027,"comment_id":122393951,"body_markdown":"@VGR the question is about maven (I&#39;ve just added a tag to make this more clear). To be honest, I&#39;ve never used `javadoc` from command line directly, but I&#39;m guessing that the options you mention correspond to maven&#39;s `&lt;link&gt;https://javadoc.io/doc/io.grpc/grpc-all/${grpc.version}&lt;/link&gt;` in this example.","body":"@VGR the question is about maven (I&#39;ve just added a tag to make this more clear). To be honest, I&#39;ve never used <code>javadoc</code> from command line directly, but I&#39;m guessing that the options you mention correspond to maven&#39;s <code>&lt;link&gt;https:&#47;&#47;javadoc.io&#47;doc&#47;io.grpc&#47;grpc-all&#47;${grpc.version&zwnj;&#8203;}&lt;&#47;link&gt;</code> in this example."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1632098795,"post_id":69243027,"comment_id":122393975,"body_markdown":"Yes, thank you.  That greatly clarifies the problem you’re having.","body":"Yes, thank you.  That greatly clarifies the problem you’re having."},{"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"score":0,"creation_date":1632099167,"post_id":69243027,"comment_id":122394023,"body_markdown":"@VGR nevertheless if you know how to make `javadoc` command line tool generate links to external projects using dashes instead of parentheses, that would be probably very helpful too :)  (as far as I recall there&#39;s a way to pass additional arguments in `maven-javadoc-plugin`&#39;s xml config)","body":"@VGR nevertheless if you know how to make <code>javadoc</code> command line tool generate links to external projects using dashes instead of parentheses, that would be probably very helpful too :)  (as far as I recall there&#39;s a way to pass additional arguments in <code>maven-javadoc-plugin</code>&#39;s xml config)"},{"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"score":0,"creation_date":1632100005,"post_id":69243027,"comment_id":122394158,"body_markdown":"@VGR I&#39;ve further clarified the OP based on your comments: thanks!","body":"@VGR I&#39;ve further clarified the OP based on your comments: thanks!"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1632101142,"post_id":69243027,"comment_id":122394304,"body_markdown":"I’m fairly sure it’s possible to execute a text search-and-replace on the generated javadoc files, and the regex for it is certainly feasible, but I don’t know enough about Maven lifecycles to provide a full answer.","body":"I’m fairly sure it’s possible to execute a text search-and-replace on the generated javadoc files, and the regex for it is certainly feasible, but I don’t know enough about Maven lifecycles to provide a full answer."},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":1,"creation_date":1632101988,"post_id":69243027,"comment_id":122394426,"body_markdown":"I know Maven very well. I&#39;m preparing an answer right now. Be patient! Stay tuned! ;)","body":"I know Maven very well. I&#39;m preparing an answer right now. Be patient! Stay tuned! ;)"},{"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"score":0,"creation_date":1632103035,"post_id":69243027,"comment_id":122394584,"body_markdown":"@VGR i cannot say for sure, but since I&#39;ve seen it in few other projects, I&#39;d rather bet that there&#39;s some built-in mechanism for this (if not in `javadoc` itself then maybe gradle or maven or some plugin to them).","body":"@VGR i cannot say for sure, but since I&#39;ve seen it in few other projects, I&#39;d rather bet that there&#39;s some built-in mechanism for this (if not in <code>javadoc</code> itself then maybe gradle or maven or some plugin to them)."},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1632139225,"post_id":69243027,"comment_id":122404552,"body_markdown":"What do you mean by &quot;_when using `&lt;link&gt;` tag in xml config_&quot;? Which XML config? Links in Javadoc comments are usually `{@link ...}`.","body":"What do you mean by &quot;<i>when using <code>&lt;link&gt;</code> tag in xml config</i>&quot;? Which XML config? Links in Javadoc comments are usually <code>{@link ...}</code>."},{"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"score":1,"creation_date":1632139478,"post_id":69243027,"comment_id":122404649,"body_markdown":"@GeroldBroser I meant part of `maven-javadoc-plugin`&#39;s configuration in maven `pom.xml` in which you specify where to look for external javadoc of your dependenicies. For example like in this: https://github.com/morgwai/grpc-scopes/blob/master/pom.xml#L110","body":"@GeroldBroser I meant part of <code>maven-javadoc-plugin</code>&#39;s configuration in maven <code>pom.xml</code> in which you specify where to look for external javadoc of your dependenicies. For example like in this: <a href=\"https://github.com/morgwai/grpc-scopes/blob/master/pom.xml#L110\" rel=\"nofollow noreferrer\">github.com/morgwai/grpc-scopes/blob/master/pom.xml#L110</a>"}],"answers":[{"tags":[],"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1632580733,"creation_date":1632104972,"answer_id":69248525,"question_id":69243027,"body_markdown":"According to [RFC 3986][RFC3986] both variants are valid. \r\n\r\nFor instance, URL fragments for methods with parameters for Java &lt;=9 look like:\r\n\r\nhttps://docs.oracle.com/javase/9/docs/api/java/lang/Object.html#equals-java.lang.Object-\r\n\r\nand for Java 10–17 they look like:\r\n\r\nhttps://docs.oracle.com/javase/10/docs/api/java/lang/Object.html#equals(java.lang.Object)\r\n\r\nIf you `{@link ...}` to the Javadoc of a library that used a different tool to create its Javadoc than you do (or used a different version of the same tool) you&#39;re out of luck for the moment.\r\n\r\nIf we really do not find an according option at the Javadoc tool(s) (and I think we won&#39;t because why should external links be handled differently than internal ones) the first that comes into my mind is the _Maven Resources Plugin_. It has the feature of [resource filtering][filter] (which is bad naming, since in fact it&#39;s _string interpolation_) and perhaps this could be used to replace the characters accordingly.\r\n\r\nIf that doesn&#39;t work there are other options, like running an external program, e.g. `sed`, during a build. Let me think a while and try some things. I&#39;m confident that I can come up with a working solution. However, please be patient. It&#39;s 4:30 a.m. here now and I think I need some hours of sleep soon. If someone comes up with a solution in the meantime, the better (though I don&#39;t think so but who knows... :)\r\n\r\n#### Approach #1 – `--release` option\r\n\r\nThere&#39;s [`javadoc`&#39;s `--release`][javadoc-release] option:\r\n\r\n&gt; The following core `javadoc` options are equivalent to corresponding `javac` options. See [Standard Options][options] for the detailed descriptions of using these options:\r\n&gt;\r\n&gt; * ...\r\n&gt; * `--release`\r\n\r\n[`javac`&#39;s `--release`][javac-release]:\r\n\r\n\\[Well, that&#39;s funny...well, no, it&#39;s embarassing: The deep links to [`--release`][javac-release] and its [`Note: ...`][javac-release-note] dont&#39; work in the end because centiseconds after jumping to them apparently a JS (AJAX?) comes into play and the page finally lands at its top. I want [**Sun Microsystems**][Sun] back!\\]\r\n\r\n&gt; `--release release`\r\n&gt;\r\n&gt; Compiles against the public, supported and documented API for a specific VM version. Supported `release` targets are `6`, `7`, `8`, `9`, `10`, and `11`.\r\n\r\nIf this `javadoc --release` solves your problem we dont&#39; have to think further for a handmade solution.\r\n\r\n**Update:** The `--release`/`&lt;release&gt;` option doesn&#39;t solve the problem. It&#39;s just to specify the link target version as in `https://docs.oracle.com/javase/&lt;version&gt;/docs/api/...`. The docs above aren&#39;t too helpful in this regard and the [`maven-javadoc-plugin` doc][mvn-release] isn&#39;t either: &quot;_**\\&lt;release\\&gt;** Provide source compatibility with specified release_&quot;. At least it&#39;s documented here now. ;)\r\n\r\n#### Approach #2 – Maven resource filtering\r\n\r\n[Maven&#39;s resource filtering][filter] doesn&#39;t help either since in Javadoc comments method references for methods with just one parameter can look like:\r\n````lang-java\r\n/**\r\n * &lt;p&gt;Link to {@link Logger#info}&lt;/p&gt;\r\n * &lt;p&gt;Link to {@link Object#equals}&lt;/p&gt;\r\n */\r\n````\r\nand for string interpolation we would need `${...}` (or the not well-known and unusual [`@...@`][@@]) definitions.\r\n\r\nIt would work (in theory) with the explicit form:\r\n````lang-java\r\n/**\r\n * &lt;p&gt;&quot;${(}&quot; and &quot;${)}&quot; replaced by &#39;-&#39;, if the additional &#39;{&#39; and &#39;}&#39; don&#39;t conflict with Javadoc comment&#39;s tags – but it seems they do&lt;/p&gt;\r\n * &lt;p&gt;Link to {@link Logger#info${(}String${)}}&lt;/p&gt;\r\n * &lt;p&gt;Link to {@link Object#equals${(}Object${)}}&lt;/p&gt;\r\n *\r\n * &lt;p&gt; &quot;@(@&quot; and &quot;@)@&quot; replaced by &#39;-&#39;&lt;/p&gt;, if the additional &#39;@&#39;s don&#39;t conflict with Javadoc comment&#39;s tags – but it seems they do&lt;/p&gt;\r\n * &lt;p&gt;Link to {@link Logger#info@(@String@)@}&lt;/p&gt;\r\n * &lt;p&gt;Link to {@link Object#equals@(@Object@)@}&lt;/p&gt;\r\n */\r\n````\r\nI don&#39;t know (yet) whether these &quot;reserved characters&quot; can be escaped and if yes, how this could be done. I found [How do you escape curly braces in javadoc inline tags, such as the {@code} tag][curly] but nothing from there works with `{@link ...}` (yet).\r\n\r\n### UPDATE\r\n\r\n#### Approach #3 –  Maven XML Plugin&#39;s [`xml:transform`][xml]\r\n\r\nDoesn&#39;t work since the Javadoc HTMLs contain non-X(HT)ML-conformant unclosed `&lt;meta ... &gt;`s and `&lt;link ... &gt;`s.\r\n\r\n#### Approach #4 a) –  Groovy script via the [GMavenPlus Plugin][gmaven+]\r\n\r\nUsing [FileVisitor], XPath – if that works with the non-X(HT)ML-conformant HTML – or whatever works then.\r\n\r\nXPath doesn&#39;t work: `[Fatal Error] :18:3: The element type &quot;link&quot; must be terminated by the matching end-tag &quot;&lt;/link&gt;&quot;.`\r\n\r\n#### Approach #4 b) –  Revive one of [maven-javascript-plugin][maven-js] or [Maven Javascript Plugin][js-maven], ...\r\n\r\n... add a goal `javascript:execute` and use a JS script with its CSS selectors and DOM manipulation.\r\n\r\n\r\n[RFC3986]: https://datatracker.ietf.org/doc/html/rfc3986\r\n[filter]: https://maven.apache.org/plugins/maven-resources-plugin/examples/filter.html\r\n[javadoc-release]: https://docs.oracle.com/en/java/javase/11/tools/javadoc.html#GUID-9D532574-1CDB-4D30-99F3-A308DCAEE55F__GUID-8E6B3C5F-B4AB-4253-9157-9476500E424D\r\n[options]: https://docs.oracle.com/en/java/javase/11/tools/javac.html#GUID-AEEC9F07-CB49-4E96-8BC7-BCC2C7F725C9__STANDARDOPTIONSFORJAVAC-7D3D9CC2\r\n[javac-release]: https://docs.oracle.com/en/java/javase/11/tools/javac.html#GUID-AEEC9F07-CB49-4E96-8BC7-BCC2C7F725C9__GUID-D343F6B4-3FDD-43A8-AD24-43DD70214471\r\n[javac-release-note]: https://docs.oracle.com/en/java/javase/11/tools/javac.html#GUID-AEEC9F07-CB49-4E96-8BC7-BCC2C7F725C9__GUID-947ACE0E-6307-48C6-B820-EC7F929EBDF0\r\n[Sun]: https://en.wikipedia.org/wiki/Sun_Microsystems\r\n[mvn-release]: https://maven.apache.org/plugins/maven-javadoc-plugin/javadoc-mojo.html#release\r\n[@@]: https://maven.apache.org/plugins/maven-resources-plugin/examples/escape-filtering.html\r\n[curly]: https://stackoverflow.com/q/647195/1744774\r\n[xml]: https://www.mojohaus.org/xml-maven-plugin/transform-mojo.html\r\n[gmaven+]: https://groovy.github.io/GMavenPlus/plugin-info.html\r\n[FileVisitor]: https://docs.oracle.com/javase/tutorial/essential/io/walk.html\r\n[maven-js]: https://github.com/tschueller/maven-javascript-plugin\r\n[js-maven]: http://hammerfest.sourceforge.net/maven-javascript-plugin/","title":"correctly render javadoc method links to external html javadoc documents that use dashes instead of parentheses and commas","body":"<p>According to <a href=\"https://datatracker.ietf.org/doc/html/rfc3986\" rel=\"nofollow noreferrer\">RFC 3986</a> both variants are valid.</p>\n<p>For instance, URL fragments for methods with parameters for Java &lt;=9 look like:</p>\n<p><a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/Object.html#equals-java.lang.Object-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/9/docs/api/java/lang/Object.html#equals-java.lang.Object-</a></p>\n<p>and for Java 10–17 they look like:</p>\n<p><a href=\"https://docs.oracle.com/javase/10/docs/api/java/lang/Object.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/10/docs/api/java/lang/Object.html#equals(java.lang.Object)</a></p>\n<p>If you <code>{@link ...}</code> to the Javadoc of a library that used a different tool to create its Javadoc than you do (or used a different version of the same tool) you're out of luck for the moment.</p>\n<p>If we really do not find an according option at the Javadoc tool(s) (and I think we won't because why should external links be handled differently than internal ones) the first that comes into my mind is the <em>Maven Resources Plugin</em>. It has the feature of <a href=\"https://maven.apache.org/plugins/maven-resources-plugin/examples/filter.html\" rel=\"nofollow noreferrer\">resource filtering</a> (which is bad naming, since in fact it's <em>string interpolation</em>) and perhaps this could be used to replace the characters accordingly.</p>\n<p>If that doesn't work there are other options, like running an external program, e.g. <code>sed</code>, during a build. Let me think a while and try some things. I'm confident that I can come up with a working solution. However, please be patient. It's 4:30 a.m. here now and I think I need some hours of sleep soon. If someone comes up with a solution in the meantime, the better (though I don't think so but who knows... :)</p>\n<h4>Approach #1 – <code>--release</code> option</h4>\n<p>There's <a href=\"https://docs.oracle.com/en/java/javase/11/tools/javadoc.html#GUID-9D532574-1CDB-4D30-99F3-A308DCAEE55F__GUID-8E6B3C5F-B4AB-4253-9157-9476500E424D\" rel=\"nofollow noreferrer\"><code>javadoc</code>'s <code>--release</code></a> option:</p>\n<blockquote>\n<p>The following core <code>javadoc</code> options are equivalent to corresponding <code>javac</code> options. See <a href=\"https://docs.oracle.com/en/java/javase/11/tools/javac.html#GUID-AEEC9F07-CB49-4E96-8BC7-BCC2C7F725C9__STANDARDOPTIONSFORJAVAC-7D3D9CC2\" rel=\"nofollow noreferrer\">Standard Options</a> for the detailed descriptions of using these options:</p>\n<ul>\n<li>...</li>\n<li><code>--release</code></li>\n</ul>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/en/java/javase/11/tools/javac.html#GUID-AEEC9F07-CB49-4E96-8BC7-BCC2C7F725C9__GUID-D343F6B4-3FDD-43A8-AD24-43DD70214471\" rel=\"nofollow noreferrer\"><code>javac</code>'s <code>--release</code></a>:</p>\n<p>[Well, that's funny...well, no, it's embarassing: The deep links to <a href=\"https://docs.oracle.com/en/java/javase/11/tools/javac.html#GUID-AEEC9F07-CB49-4E96-8BC7-BCC2C7F725C9__GUID-D343F6B4-3FDD-43A8-AD24-43DD70214471\" rel=\"nofollow noreferrer\"><code>--release</code></a> and its <a href=\"https://docs.oracle.com/en/java/javase/11/tools/javac.html#GUID-AEEC9F07-CB49-4E96-8BC7-BCC2C7F725C9__GUID-947ACE0E-6307-48C6-B820-EC7F929EBDF0\" rel=\"nofollow noreferrer\"><code>Note: ...</code></a> dont' work in the end because centiseconds after jumping to them apparently a JS (AJAX?) comes into play and the page finally lands at its top. I want <a href=\"https://en.wikipedia.org/wiki/Sun_Microsystems\" rel=\"nofollow noreferrer\"><strong>Sun Microsystems</strong></a> back!]</p>\n<blockquote>\n<p><code>--release release</code></p>\n<p>Compiles against the public, supported and documented API for a specific VM version. Supported <code>release</code> targets are <code>6</code>, <code>7</code>, <code>8</code>, <code>9</code>, <code>10</code>, and <code>11</code>.</p>\n</blockquote>\n<p>If this <code>javadoc --release</code> solves your problem we dont' have to think further for a handmade solution.</p>\n<p><strong>Update:</strong> The <code>--release</code>/<code>&lt;release&gt;</code> option doesn't solve the problem. It's just to specify the link target version as in <code>https://docs.oracle.com/javase/&lt;version&gt;/docs/api/...</code>. The docs above aren't too helpful in this regard and the <a href=\"https://maven.apache.org/plugins/maven-javadoc-plugin/javadoc-mojo.html#release\" rel=\"nofollow noreferrer\"><code>maven-javadoc-plugin</code> doc</a> isn't either: &quot;<em><strong>&lt;release&gt;</strong> Provide source compatibility with specified release</em>&quot;. At least it's documented here now. ;)</p>\n<h4>Approach #2 – Maven resource filtering</h4>\n<p><a href=\"https://maven.apache.org/plugins/maven-resources-plugin/examples/filter.html\" rel=\"nofollow noreferrer\">Maven's resource filtering</a> doesn't help either since in Javadoc comments method references for methods with just one parameter can look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * &lt;p&gt;Link to {@link Logger#info}&lt;/p&gt;\n * &lt;p&gt;Link to {@link Object#equals}&lt;/p&gt;\n */\n</code></pre>\n<p>and for string interpolation we would need <code>${...}</code> (or the not well-known and unusual <a href=\"https://maven.apache.org/plugins/maven-resources-plugin/examples/escape-filtering.html\" rel=\"nofollow noreferrer\"><code>@...@</code></a>) definitions.</p>\n<p>It would work (in theory) with the explicit form:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * &lt;p&gt;&quot;${(}&quot; and &quot;${)}&quot; replaced by '-', if the additional '{' and '}' don't conflict with Javadoc comment's tags – but it seems they do&lt;/p&gt;\n * &lt;p&gt;Link to {@link Logger#info${(}String${)}}&lt;/p&gt;\n * &lt;p&gt;Link to {@link Object#equals${(}Object${)}}&lt;/p&gt;\n *\n * &lt;p&gt; &quot;@(@&quot; and &quot;@)@&quot; replaced by '-'&lt;/p&gt;, if the additional '@'s don't conflict with Javadoc comment's tags – but it seems they do&lt;/p&gt;\n * &lt;p&gt;Link to {@link Logger#info@(@String@)@}&lt;/p&gt;\n * &lt;p&gt;Link to {@link Object#equals@(@Object@)@}&lt;/p&gt;\n */\n</code></pre>\n<p>I don't know (yet) whether these &quot;reserved characters&quot; can be escaped and if yes, how this could be done. I found <a href=\"https://stackoverflow.com/q/647195/1744774\">How do you escape curly braces in javadoc inline tags, such as the {@code} tag</a> but nothing from there works with <code>{@link ...}</code> (yet).</p>\n<h3>UPDATE</h3>\n<h4>Approach #3 –  Maven XML Plugin's <a href=\"https://www.mojohaus.org/xml-maven-plugin/transform-mojo.html\" rel=\"nofollow noreferrer\"><code>xml:transform</code></a></h4>\n<p>Doesn't work since the Javadoc HTMLs contain non-X(HT)ML-conformant unclosed <code>&lt;meta ... &gt;</code>s and <code>&lt;link ... &gt;</code>s.</p>\n<h4>Approach #4 a) –  Groovy script via the <a href=\"https://groovy.github.io/GMavenPlus/plugin-info.html\" rel=\"nofollow noreferrer\">GMavenPlus Plugin</a></h4>\n<p>Using <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/walk.html\" rel=\"nofollow noreferrer\">FileVisitor</a>, XPath – if that works with the non-X(HT)ML-conformant HTML – or whatever works then.</p>\n<p>XPath doesn't work: <code>[Fatal Error] :18:3: The element type &quot;link&quot; must be terminated by the matching end-tag &quot;&lt;/link&gt;&quot;.</code></p>\n<h4>Approach #4 b) –  Revive one of <a href=\"https://github.com/tschueller/maven-javascript-plugin\" rel=\"nofollow noreferrer\">maven-javascript-plugin</a> or <a href=\"http://hammerfest.sourceforge.net/maven-javascript-plugin/\" rel=\"nofollow noreferrer\">Maven Javascript Plugin</a>, ...</h4>\n<p>... add a goal <code>javascript:execute</code> and use a JS script with its CSS selectors and DOM manipulation.</p>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632186375,"creation_date":1632175131,"answer_id":69261289,"question_id":69243027,"body_markdown":"After much searching, I’m inclined to believe that it’s easier to just use Ant inside your pom.xml to change parentheses to hyphens, than to try to look  for a dedicated plugin:\r\n\r\n    &lt;plugin&gt;\r\n      &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n      &lt;executions&gt;\r\n        &lt;execution&gt;\r\n          &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n          &lt;configuration&gt;\r\n            &lt;target&gt;\r\n              &lt;replaceregexp\r\n                  match=&#39;(&amp;lt;a href=&quot;[^&quot;]*grpc[^&quot;]*)[(]([^)&quot;]*)[)](&quot;[^&amp;gt;]* class=&quot;external-link&quot;)&#39;\r\n                  replace=&quot;\\1-\\2-\\3&quot;\r\n                  flags=&quot;g&quot;&gt;\r\n                &lt;fileset dir=&quot;${project.reporting.outputDirectory}/apidocs&quot;\r\n                         includes=&quot;**/*.html&quot;/&gt;\r\n              &lt;/replaceregexp&gt;\r\n            &lt;/target&gt;\r\n          &lt;/configuration&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;run&lt;/goal&gt;\r\n          &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nUnfortunately, I don’t have a way to test it.\r\n","title":"correctly render javadoc method links to external html javadoc documents that use dashes instead of parentheses and commas","body":"<p>After much searching, I’m inclined to believe that it’s easier to just use Ant inside your pom.xml to change parentheses to hyphens, than to try to look  for a dedicated plugin:</p>\n<pre><code>&lt;plugin&gt;\n  &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n  &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;phase&gt;prepare-package&lt;/phase&gt;\n      &lt;configuration&gt;\n        &lt;target&gt;\n          &lt;replaceregexp\n              match='(&amp;lt;a href=&quot;[^&quot;]*grpc[^&quot;]*)[(]([^)&quot;]*)[)](&quot;[^&amp;gt;]* class=&quot;external-link&quot;)'\n              replace=&quot;\\1-\\2-\\3&quot;\n              flags=&quot;g&quot;&gt;\n            &lt;fileset dir=&quot;${project.reporting.outputDirectory}/apidocs&quot;\n                     includes=&quot;**/*.html&quot;/&gt;\n          &lt;/replaceregexp&gt;\n        &lt;/target&gt;\n      &lt;/configuration&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;run&lt;/goal&gt;\n      &lt;/goals&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Unfortunately, I don’t have a way to test it.</p>\n"}],"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":325,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1632580733,"creation_date":1632052551,"question_id":69243027,"body_markdown":"HTML javadoc documents that were generated with `javadoc` tool from Java version 10 and newer use parentheses `(` `)` and commas `,` in method links/labels, for example: https://docs.oracle.com/javase/10/docs/api/java/lang/Object.html#wait(long,int).  \r\nOlder versions however replace these characters with a dash `-`, for example: https://docs.oracle.com/javase/9/docs/api/java/lang/Object.html#wait-long-int-.  \r\n(kudos to [this answer](https://stackoverflow.com/a/69248525/1220560) for explaining that format depends on javadoc version)\r\n\r\nNow, when building a project with Java version 10+, how can I make `maven-javadoc-plugin` render proper links to methods from projects that had their HTML javadoc documents generated with older versions?   (i.e. when one of the `&lt;link&gt;` tag in `pom.xml` in `maven-javadoc-plugin`&#39;s configuration section points to a set of HTML javadoc documents that use dashes instead of parentheses and commas).  \r\nBy default, parentheses and commas are used, which results in links leading to the top of the given class&#39;s page instead of the desired method section.\r\n\r\nUsing an older javadoc tool to generate HTML for the project that uses Java 10+ is not a solution as in such case links to methods from standard libraries at docs.oracle.com (or to any other external projects built with java 10+) would be broken. A definitive solution must be applicable to a specific `&lt;link&gt;` section only.","title":"correctly render javadoc method links to external html javadoc documents that use dashes instead of parentheses and commas","body":"<p>HTML javadoc documents that were generated with <code>javadoc</code> tool from Java version 10 and newer use parentheses <code>(</code> <code>)</code> and commas <code>,</code> in method links/labels, for example: <a href=\"https://docs.oracle.com/javase/10/docs/api/java/lang/Object.html#wait(long,int)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/10/docs/api/java/lang/Object.html#wait(long,int)</a>.<br />\nOlder versions however replace these characters with a dash <code>-</code>, for example: <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/Object.html#wait-long-int-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/9/docs/api/java/lang/Object.html#wait-long-int-</a>.<br />\n(kudos to <a href=\"https://stackoverflow.com/a/69248525/1220560\">this answer</a> for explaining that format depends on javadoc version)</p>\n<p>Now, when building a project with Java version 10+, how can I make <code>maven-javadoc-plugin</code> render proper links to methods from projects that had their HTML javadoc documents generated with older versions?   (i.e. when one of the <code>&lt;link&gt;</code> tag in <code>pom.xml</code> in <code>maven-javadoc-plugin</code>'s configuration section points to a set of HTML javadoc documents that use dashes instead of parentheses and commas).<br />\nBy default, parentheses and commas are used, which results in links leading to the top of the given class's page instead of the desired method section.</p>\n<p>Using an older javadoc tool to generate HTML for the project that uses Java 10+ is not a solution as in such case links to methods from standard libraries at docs.oracle.com (or to any other external projects built with java 10+) would be broken. A definitive solution must be applicable to a specific <code>&lt;link&gt;</code> section only.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":18191159,"reputation":41,"user_id":13236982,"display_name":"Mika Pennanen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632580126,"creation_date":1632579307,"answer_id":69326970,"question_id":69326807,"body_markdown":"You need to catch or throw also these `KeyStoreException, CertificateException, NoSuchAlgorithmException`\r\n\r\n\r\nSo either: \r\n```\r\npublic static int GetDetails() throws IOException, KeyStoreException, \r\n                     CertificateException, NoSuchAlgorithmException {\r\n```\r\n\r\nor\r\n\r\n```\r\nKeyStore keyStore = null;\r\ntry {\r\n    keyStore = KeyStore.getInstance(CLIENT_KEYSTORE_TYPE);\r\n    keyStore.load(null, clientPassword.toCharArray());\r\n} catch (KeyStoreException | CertificateException | NoSuchAlgorithmException e) {\r\n    e.printStackTrace();\r\n}\r\n```","title":"PCKS12 NoSuchAlgorithmException Error while compiling","body":"<p>You need to catch or throw also these <code>KeyStoreException, CertificateException, NoSuchAlgorithmException</code></p>\n<p>So either:</p>\n<pre><code>public static int GetDetails() throws IOException, KeyStoreException, \n                     CertificateException, NoSuchAlgorithmException {\n</code></pre>\n<p>or</p>\n<pre><code>KeyStore keyStore = null;\ntry {\n    keyStore = KeyStore.getInstance(CLIENT_KEYSTORE_TYPE);\n    keyStore.load(null, clientPassword.toCharArray());\n} catch (KeyStoreException | CertificateException | NoSuchAlgorithmException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":2178006,"reputation":11,"user_id":1928217,"display_name":"Swaminathan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1632648450,"accepted_answer_id":69326970,"answer_count":1,"score":0,"last_activity_date":1632580126,"creation_date":1632578096,"question_id":69326807,"body_markdown":"I&#39;m just trying P12 certificate import in java code for one project testing. I have tested the certificate with my python code and it is working fine. Below is my Java sample code which i&#39;m trying to compile. But it is throwing error. I&#39;m new to java thats why getting confused with the error message.\r\n\r\n    import java.io.IOException;\r\n    import java.io.OutputStreamWriter;\r\n    import java.io.FileInputStream;\r\n    import java.io.File;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.URL;\r\n    import java.net.URLEncoder;\r\n    import java.util.Scanner;\r\n    //import org.json.JSONObject;\r\n    import java.net.InetSocketAddress;\r\n    import java.net.Proxy;\r\n    import java.net.URL;\r\n    import java.security.KeyStore;\r\n    import java.security.SecureRandom;\r\n    import java.util.logging.Logger;\r\n    import javax.net.ssl.HttpsURLConnection;\r\n    import javax.net.ssl.KeyManagerFactory;\r\n    import javax.net.ssl.SSLContext;\r\n    import javax.net.ssl.SSLSocketFactory;\r\n    \r\n    \r\n    \r\n    public class APIClient{\r\n        public static void main(String[] args) throws IOException{\r\n    \r\n            int responseCode = GetDetails();\r\n            System.out.println(responseCode);\r\n            if (responseCode == 200){\r\n                System.out.println(&quot;yes success&quot;);\r\n            }\r\n            else{\r\n                System.out.println(&quot;no failed&quot;);\r\n            }\r\n        }\r\n        public static int GetDetails() throws  IOException{\r\n            String CLIENT_KEYSTORE_TYPE = &quot;PKCS12&quot;;\r\n            String clientPassword = &quot;xxxxxxxxxx&quot;;\r\n            String clientCertificatePath = &quot;Client_Certificate.p12&quot;;\r\n            KeyStore keyStore = KeyStore.getInstance(CLIENT_KEYSTORE_TYPE);\r\n            keyStore.load(null, clientPassword.toCharArray());\r\n            URL url = new URL(&quot;https://localhost&quot;);\r\n            HttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\r\n            connection.setRequestMethod(&quot;GET&quot;);\r\n            int responseCode = connection.getResponseCode();\r\n            return responseCode;\r\n        }\r\n    }\r\n\r\nBelow is the error while compiling with javac. Also i have added the P12 certificate in same directory where the APIClient.java located.\r\n\r\n    javac APIClient.java\r\n\r\nError below while compiling with above javac command\r\n\r\n    APIClient.java:39: error: unreported exception KeyStoreException; must be caught or declared to be thrown\r\n            KeyStore keyStore = KeyStore.getInstance(CLIENT_KEYSTORE_TYPE);\r\n                                                    ^\r\n    APIClient.java:40: error: unreported exception NoSuchAlgorithmException; must be caught or declared to be thrown\r\n            keyStore.load(null, clientPassword.toCharArray());\r\n                         ^\r\n    2 errors\r\n\r\nLet me know what I have missed.","title":"PCKS12 NoSuchAlgorithmException Error while compiling","body":"<p>I'm just trying P12 certificate import in java code for one project testing. I have tested the certificate with my python code and it is working fine. Below is my Java sample code which i'm trying to compile. But it is throwing error. I'm new to java thats why getting confused with the error message.</p>\n<pre><code>import java.io.IOException;\nimport java.io.OutputStreamWriter;\nimport java.io.FileInputStream;\nimport java.io.File;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.net.URLEncoder;\nimport java.util.Scanner;\n//import org.json.JSONObject;\nimport java.net.InetSocketAddress;\nimport java.net.Proxy;\nimport java.net.URL;\nimport java.security.KeyStore;\nimport java.security.SecureRandom;\nimport java.util.logging.Logger;\nimport javax.net.ssl.HttpsURLConnection;\nimport javax.net.ssl.KeyManagerFactory;\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.SSLSocketFactory;\n\n\n\npublic class APIClient{\n    public static void main(String[] args) throws IOException{\n\n        int responseCode = GetDetails();\n        System.out.println(responseCode);\n        if (responseCode == 200){\n            System.out.println(&quot;yes success&quot;);\n        }\n        else{\n            System.out.println(&quot;no failed&quot;);\n        }\n    }\n    public static int GetDetails() throws  IOException{\n        String CLIENT_KEYSTORE_TYPE = &quot;PKCS12&quot;;\n        String clientPassword = &quot;xxxxxxxxxx&quot;;\n        String clientCertificatePath = &quot;Client_Certificate.p12&quot;;\n        KeyStore keyStore = KeyStore.getInstance(CLIENT_KEYSTORE_TYPE);\n        keyStore.load(null, clientPassword.toCharArray());\n        URL url = new URL(&quot;https://localhost&quot;);\n        HttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\n        connection.setRequestMethod(&quot;GET&quot;);\n        int responseCode = connection.getResponseCode();\n        return responseCode;\n    }\n}\n</code></pre>\n<p>Below is the error while compiling with javac. Also i have added the P12 certificate in same directory where the APIClient.java located.</p>\n<pre><code>javac APIClient.java\n</code></pre>\n<p>Error below while compiling with above javac command</p>\n<pre><code>APIClient.java:39: error: unreported exception KeyStoreException; must be caught or declared to be thrown\n        KeyStore keyStore = KeyStore.getInstance(CLIENT_KEYSTORE_TYPE);\n                                                ^\nAPIClient.java:40: error: unreported exception NoSuchAlgorithmException; must be caught or declared to be thrown\n        keyStore.load(null, clientPassword.toCharArray());\n                     ^\n2 errors\n</code></pre>\n<p>Let me know what I have missed.</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":16582962,"reputation":3261,"user_id":11983124,"display_name":"Praveen"},"score":3,"creation_date":1632572530,"post_id":69325952,"comment_id":122532165,"body_markdown":"You can add a kotlin activity in the java package. you don&#39;t need to create a separate package.","body":"You can add a kotlin activity in the java package. you don&#39;t need to create a separate package."}],"answers":[{"tags":[],"owner":{"account_id":15844225,"reputation":62,"user_id":11431923,"display_name":"Parsamlm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632579559,"creation_date":1632579559,"answer_id":69327014,"question_id":69325952,"body_markdown":"Don&#39;t need to add another package in this case, just add another activity with Kotlin language like this (source language should be Kotlin):\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/t2AsB.png","title":"Android Mixing Java and Kotlin , can&#39;t find Kotlin files","body":"<p>Don't need to add another package in this case, just add another activity with Kotlin language like this (source language should be Kotlin):</p>\n<p><a href=\"https://i.stack.imgur.com/t2AsB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t2AsB.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":3368850,"reputation":3589,"user_id":2828651,"accept_rate":56,"display_name":"صلي علي محمد - Atef Farouk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69327014,"answer_count":1,"score":0,"last_activity_date":1632579559,"creation_date":1632571303,"question_id":69325952,"body_markdown":"I&#39;ve an existing Java project, I am trying to add a Kotlin activity but it&#39;s not listed in java files in android studio.\r\n\r\nInputs:\r\nkotlin files are added to main folder like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nGradle project is updated like this:\r\n\r\n            classpath &#39;com.android.tools.build:gradle:4.2.2&#39;\r\n        classpath &#39;org.jetbrains.kotlin:kotlin-gradle-plugin:1.5.0&#39;\r\n\r\nGradle app level is updated like this:\r\n\r\n        apply plugin: &#39;com.android.application&#39;\r\n    apply plugin: &#39;kotlin-android&#39;\r\n    apply plugin: &#39;kotlin-android-extensions&#39;\r\n\r\nfinally in android studio, can&#39;t find Kotlin activity. only java files are listed.\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\ndid I miss any configuration?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YLR30.png\r\n  [2]: https://i.stack.imgur.com/Jlk0H.png","title":"Android Mixing Java and Kotlin , can&#39;t find Kotlin files","body":"<p>I've an existing Java project, I am trying to add a Kotlin activity but it's not listed in java files in android studio.</p>\n<p>Inputs:\nkotlin files are added to main folder like this:</p>\n<p><a href=\"https://i.stack.imgur.com/YLR30.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YLR30.png\" alt=\"enter image description here\" /></a></p>\n<p>Gradle project is updated like this:</p>\n<pre><code>        classpath 'com.android.tools.build:gradle:4.2.2'\n    classpath 'org.jetbrains.kotlin:kotlin-gradle-plugin:1.5.0'\n</code></pre>\n<p>Gradle app level is updated like this:</p>\n<pre><code>    apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\n</code></pre>\n<p>finally in android studio, can't find Kotlin activity. only java files are listed.</p>\n<p><a href=\"https://i.stack.imgur.com/Jlk0H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jlk0H.png\" alt=\"enter image description here\" /></a></p>\n<p>did I miss any configuration?</p>\n"},{"tags":["java","slf4j","logback-classic"],"answers":[{"tags":[],"owner":{"account_id":2582927,"reputation":960,"user_id":2239213,"display_name":"RoK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632579322,"creation_date":1632579322,"answer_id":69326973,"question_id":67622220,"body_markdown":"Field breakpoints in IntelliJ IDEA work that way. Put LOGGER = LoggerFactory.getLogger(Slf4jApp1.class); and the breakpoint in a static block and see there is no logback thread.","title":"How does logback- daemon threads get created automatically?","body":"<p>Field breakpoints in IntelliJ IDEA work that way. Put LOGGER = LoggerFactory.getLogger(Slf4jApp1.class); and the breakpoint in a static block and see there is no logback thread.</p>\n"}],"owner":{"account_id":4197388,"reputation":8387,"user_id":3438473,"accept_rate":58,"display_name":"CuriousMind"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":302,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1632579322,"creation_date":1621520340,"question_id":67622220,"body_markdown":"I am trying to understand `logback` a little more, and I wrote a very simple standalone Java application - hello world:\r\n\r\n```\r\npackage com.example;\r\n\r\nimport java.io.IOException;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport ch.qos.logback.classic.LoggerContext;\r\nimport ch.qos.logback.core.util.StatusPrinter;\r\n\r\npublic class Slf4jApp1 {\r\n\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(Slf4jApp1.class);\r\n\r\n    public static void main(String[] args) throws InterruptedException, IOException {\r\n\r\n        LOGGER.info(&quot;Hello World&quot;);\r\n        for (;;)\r\n            ;\r\n    }\r\n}\r\n```\r\n\r\n**The below is logback.xml**\r\n\r\n\r\n```\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration scan=&quot;true&quot; scanPeriod=&quot;60 seconds&quot;&gt;\r\n\r\n    &lt;appender name=&quot;STDOUT&quot;\r\n        class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder&gt;\r\n            &lt;!-- %d{yyyy-MM-dd HH:mm:ss.SSS} %thread %-5level %logger{0}:%L \r\n                If you required class name ,enable %logger{0}:%L --&gt;\r\n            &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} %thread %-5level - %msg\r\n                %n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n\r\n    &lt;appender name=&quot;FILE&quot;\r\n        class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n        &lt;file&gt;/Users/user1/eclipse-workspace/logback-learning/log-file.log\r\n        &lt;/file&gt;\r\n        &lt;append&gt;true&lt;/append&gt;\r\n        &lt;rollingPolicy\r\n            class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n            \r\n            &lt;fileNamePattern&gt;/Users/user1/eclipse-workspace/logback-learning/log-file.%d{yyyy-MM-dd_HH}.log\r\n            &lt;/fileNamePattern&gt;\r\n            \r\n            &lt;maxHistory&gt;240&lt;/maxHistory&gt;\r\n        &lt;/rollingPolicy&gt;\r\n        &lt;encoder&gt;\r\n          \r\n            &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} %thread %-5level\r\n                %logger{0} %L - %msg%n &lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n\r\n    &lt;appender name=&quot;ASYNC-STDOUT&quot;\r\n        class=&quot;ch.qos.logback.classic.AsyncAppender&quot;&gt;\r\n        &lt;queueSize&gt;0&lt;/queueSize&gt;\r\n        &lt;discardingThreshold&gt;1&lt;/discardingThreshold&gt;\r\n        &lt;neverBlock&gt;true&lt;/neverBlock&gt;\r\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;root level=&quot;INFO&quot;&gt;\r\n        &lt;appender-ref ref=&quot;ASYNC-STDOUT&quot; /&gt;\r\n        &lt;appender-ref ref=&quot;FILE&quot; /&gt;\r\n    &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n\r\n```\r\n\r\n**When I run it; I see the following Thread dump (snippet):**\r\n\r\n\r\n```\r\n\r\n&quot;logback-1&quot; #13 daemon prio=5 os_prio=31 tid=0x00007fd01d93a800 nid=0xa603 waiting on condition [0x00007000071c7000]\r\n   java.lang.Thread.State: TIMED_WAITING (parking)\r\n        at sun.misc.Unsafe.park(Native Method)\r\n        - parking to wait for  &lt;0x0000000797600730&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\r\n        at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)\r\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)\r\n        at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)\r\n        at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)\r\n        at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n        at java.lang.Thread.run(Thread.java:748)\r\n\r\n\r\n\r\n\r\n&quot;main&quot; #1 prio=5 os_prio=31 tid=0x00007fd01d00f800 nid=0x1803 runnable [0x0000700005b85000]\r\n   java.lang.Thread.State: RUNNABLE\r\n        at com.example.Slf4jApp1.&lt;clinit&gt;(Slf4jApp1.java:13)\r\n\r\n```\r\nI debugged it and hit breakpoint on the first statement:\r\n\r\n```\r\nprivate static final Logger LOGGER = LoggerFactory.getLogger(Slf4jApp1.class);\r\n```\r\n\r\nI am not able to understand how `logback-1` thread gets spawned, does it get created simply having maven dependency in pom.xml? Also, I haven&#39;t given any specific instruction / JVM OPTS, so how come new thread gets spawned?\r\n","title":"How does logback- daemon threads get created automatically?","body":"<p>I am trying to understand <code>logback</code> a little more, and I wrote a very simple standalone Java application - hello world:</p>\n<pre><code>package com.example;\n\nimport java.io.IOException;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport ch.qos.logback.classic.LoggerContext;\nimport ch.qos.logback.core.util.StatusPrinter;\n\npublic class Slf4jApp1 {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(Slf4jApp1.class);\n\n    public static void main(String[] args) throws InterruptedException, IOException {\n\n        LOGGER.info(&quot;Hello World&quot;);\n        for (;;)\n            ;\n    }\n}\n</code></pre>\n<p><strong>The below is logback.xml</strong></p>\n<pre><code>\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration scan=&quot;true&quot; scanPeriod=&quot;60 seconds&quot;&gt;\n\n    &lt;appender name=&quot;STDOUT&quot;\n        class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder&gt;\n            &lt;!-- %d{yyyy-MM-dd HH:mm:ss.SSS} %thread %-5level %logger{0}:%L \n                If you required class name ,enable %logger{0}:%L --&gt;\n            &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} %thread %-5level - %msg\n                %n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n\n    &lt;appender name=&quot;FILE&quot;\n        class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n        &lt;file&gt;/Users/user1/eclipse-workspace/logback-learning/log-file.log\n        &lt;/file&gt;\n        &lt;append&gt;true&lt;/append&gt;\n        &lt;rollingPolicy\n            class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n            \n            &lt;fileNamePattern&gt;/Users/user1/eclipse-workspace/logback-learning/log-file.%d{yyyy-MM-dd_HH}.log\n            &lt;/fileNamePattern&gt;\n            \n            &lt;maxHistory&gt;240&lt;/maxHistory&gt;\n        &lt;/rollingPolicy&gt;\n        &lt;encoder&gt;\n          \n            &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} %thread %-5level\n                %logger{0} %L - %msg%n &lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n\n    &lt;appender name=&quot;ASYNC-STDOUT&quot;\n        class=&quot;ch.qos.logback.classic.AsyncAppender&quot;&gt;\n        &lt;queueSize&gt;0&lt;/queueSize&gt;\n        &lt;discardingThreshold&gt;1&lt;/discardingThreshold&gt;\n        &lt;neverBlock&gt;true&lt;/neverBlock&gt;\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n    &lt;/appender&gt;\n\n    &lt;root level=&quot;INFO&quot;&gt;\n        &lt;appender-ref ref=&quot;ASYNC-STDOUT&quot; /&gt;\n        &lt;appender-ref ref=&quot;FILE&quot; /&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n\n</code></pre>\n<p><strong>When I run it; I see the following Thread dump (snippet):</strong></p>\n<pre><code>\n&quot;logback-1&quot; #13 daemon prio=5 os_prio=31 tid=0x00007fd01d93a800 nid=0xa603 waiting on condition [0x00007000071c7000]\n   java.lang.Thread.State: TIMED_WAITING (parking)\n        at sun.misc.Unsafe.park(Native Method)\n        - parking to wait for  &lt;0x0000000797600730&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n        at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)\n        at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)\n        at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)\n        at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        at java.lang.Thread.run(Thread.java:748)\n\n\n\n\n&quot;main&quot; #1 prio=5 os_prio=31 tid=0x00007fd01d00f800 nid=0x1803 runnable [0x0000700005b85000]\n   java.lang.Thread.State: RUNNABLE\n        at com.example.Slf4jApp1.&lt;clinit&gt;(Slf4jApp1.java:13)\n\n</code></pre>\n<p>I debugged it and hit breakpoint on the first statement:</p>\n<pre><code>private static final Logger LOGGER = LoggerFactory.getLogger(Slf4jApp1.class);\n</code></pre>\n<p>I am not able to understand how <code>logback-1</code> thread gets spawned, does it get created simply having maven dependency in pom.xml? Also, I haven't given any specific instruction / JVM OPTS, so how come new thread gets spawned?</p>\n"},{"tags":["java","sorting","filter","pagination"],"answers":[{"tags":[],"owner":{"account_id":2837954,"reputation":911,"user_id":2438182,"accept_rate":67,"display_name":"Terry"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1410458137,"creation_date":1410458137,"answer_id":25794077,"question_id":25793827,"body_markdown":"You don&#39;t say how much data is involved.  If it is a lot you certainly don&#39;t want to be sending that around e.g. Don&#39;t send 20GB to a javascript in a browser to render.  \r\n\r\nGenerally it&#39;s better to pare down your results set and do all the manipulation you can as close to the database as possible.  But you don&#39;t want to get too wild with the dynamic SQL.  You don&#39;t want a user to be able to cause some giant query on non-indexed data.\r\n\r\nI am a big fan of spring and think if you could combine it&#39;s paging capability with hand optimized Queries in your Repository classes that would be &quot;best&quot;.","title":"filter pagination sorting at frontend or backend","body":"<p>You don't say how much data is involved.  If it is a lot you certainly don't want to be sending that around e.g. Don't send 20GB to a javascript in a browser to render.  </p>\n\n<p>Generally it's better to pare down your results set and do all the manipulation you can as close to the database as possible.  But you don't want to get too wild with the dynamic SQL.  You don't want a user to be able to cause some giant query on non-indexed data.</p>\n\n<p>I am a big fan of spring and think if you could combine it's paging capability with hand optimized Queries in your Repository classes that would be \"best\".</p>\n"},{"tags":[],"owner":{"account_id":12785207,"reputation":31,"user_id":9251689,"display_name":"Sherif Safwat"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1632579188,"creation_date":1632579188,"answer_id":69326956,"question_id":25793827,"body_markdown":"Server side pagination will almost always win. And not just server side in the app layer, pagination via the database. From a performance point of view, asking the database for a small limited subset and returning that will be the most performance.\r\n\r\nYears ago I worked on an app where the server side code was pulling all data from the DB (about 200k rows - which in the industry isn&#39;t a lot) and then paging it via code. It took 30-50 seconds to render the page. When I switched to DB pagination, it dropped to 1.5 seconds.\r\n\r\nNow that&#39;s server side pagination not even even front-end back-end. Doing it via jquery (on a large dataset) or even a medium sized data set means having to send EVERYTHING to the browser. That&#39;s an expensive operation.","title":"filter pagination sorting at frontend or backend","body":"<p>Server side pagination will almost always win. And not just server side in the app layer, pagination via the database. From a performance point of view, asking the database for a small limited subset and returning that will be the most performance.</p>\n<p>Years ago I worked on an app where the server side code was pulling all data from the DB (about 200k rows - which in the industry isn't a lot) and then paging it via code. It took 30-50 seconds to render the page. When I switched to DB pagination, it dropped to 1.5 seconds.</p>\n<p>Now that's server side pagination not even even front-end back-end. Doing it via jquery (on a large dataset) or even a medium sized data set means having to send EVERYTHING to the browser. That's an expensive operation.</p>\n"}],"owner":{"account_id":1550380,"reputation":1041,"user_id":1442922,"accept_rate":65,"display_name":"Peter Huang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12425,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":25794077,"answer_count":2,"score":9,"last_activity_date":1632579188,"creation_date":1410457217,"question_id":25793827,"body_markdown":"I have an application mostly display table data from database. but those tables need to be applied pagination, sorting, filter. for sorting and filter, they needs to be applied on the whole list, not only 1st. page.\r\nI have 3 ideas in my head:\r\n\r\n - retrieve the whole list from backend, and then apply pagination, sorting, filter on frontend using javascript. (this way is very easy and I found a lot libs can do it).\r\n - do sorting, pagination, filter on hibernate level.(ie. create dynamic SQL to get result and then using AJAX call render to frontend.)\r\n - do sorting, pagination, filter on java level. (ie. get the whole list from database and then using Spring PagedListHolder do pagination and sorting, maybe other framework for filter. and then again using AJAX call render to frontend.)\r\n\r\n\r\nwhich way is best to achieve this amount those three?\r\nor there is other better way that I didn&#39;t think.\r\n\r\nThanks for any help or tip.\r\n","title":"filter pagination sorting at frontend or backend","body":"<p>I have an application mostly display table data from database. but those tables need to be applied pagination, sorting, filter. for sorting and filter, they needs to be applied on the whole list, not only 1st. page.\nI have 3 ideas in my head:</p>\n\n<ul>\n<li>retrieve the whole list from backend, and then apply pagination, sorting, filter on frontend using javascript. (this way is very easy and I found a lot libs can do it).</li>\n<li>do sorting, pagination, filter on hibernate level.(ie. create dynamic SQL to get result and then using AJAX call render to frontend.)</li>\n<li>do sorting, pagination, filter on java level. (ie. get the whole list from database and then using Spring PagedListHolder do pagination and sorting, maybe other framework for filter. and then again using AJAX call render to frontend.)</li>\n</ul>\n\n<p>which way is best to achieve this amount those three?\nor there is other better way that I didn't think.</p>\n\n<p>Thanks for any help or tip.</p>\n"},{"tags":["java","json","testing","automated-tests","postman"],"answers":[{"tags":[],"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632570665,"creation_date":1632570665,"answer_id":69325876,"question_id":69318432,"body_markdown":"I think using parameterized test will solve a part of your problem. The main idea is:\r\n\r\n- Provide a csv file (or any kinds), each line can contain data test and corresponding error message.\r\n\r\n- One line = one test.\r\n\r\n\r\nExample:\r\n\r\n    import org.junit.jupiter.params.ParameterizedTest;\r\n    import org.junit.jupiter.params.provider.CsvSource;\r\n    \r\n    public class DemoTest {\r\n    \r\n        @ParameterizedTest\r\n        @CsvSource({\r\n                &quot;,name cannot be blank&quot;,\r\n                &quot;lucas,name cannot less than 6 chars&quot;\r\n        })\r\n        void test1(String name, String errorMsg){\r\n            System.out.printf(&quot;name=%s, errorMsg=%s&quot;, name, errorMsg);\r\n        }\r\n    }\r\n\r\nThe example goes with Junit5, you can do the same with TestNG `@DataProvider`\r\n","title":"Best way to Automate API (JSON) contract validation","body":"<p>I think using parameterized test will solve a part of your problem. The main idea is:</p>\n<ul>\n<li><p>Provide a csv file (or any kinds), each line can contain data test and corresponding error message.</p>\n</li>\n<li><p>One line = one test.</p>\n</li>\n</ul>\n<p>Example:</p>\n<pre><code>import org.junit.jupiter.params.ParameterizedTest;\nimport org.junit.jupiter.params.provider.CsvSource;\n\npublic class DemoTest {\n\n    @ParameterizedTest\n    @CsvSource({\n            &quot;,name cannot be blank&quot;,\n            &quot;lucas,name cannot less than 6 chars&quot;\n    })\n    void test1(String name, String errorMsg){\n        System.out.printf(&quot;name=%s, errorMsg=%s&quot;, name, errorMsg);\n    }\n}\n</code></pre>\n<p>The example goes with Junit5, you can do the same with TestNG <code>@DataProvider</code></p>\n"},{"tags":[],"owner":{"account_id":9132670,"reputation":18599,"user_id":6793637,"accept_rate":0,"display_name":"PDHide"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632578759,"creation_date":1632578759,"answer_id":69326897,"question_id":69318432,"body_markdown":"What you are referring to is JSON schema , you can create a schema for your api response mentioning which all fields are mandatory and then use it with postman or restassured .\r\n\r\nYou can generate schema using :\r\n\r\nhttps://www.jsonschema.net/login","title":"Best way to Automate API (JSON) contract validation","body":"<p>What you are referring to is JSON schema , you can create a schema for your api response mentioning which all fields are mandatory and then use it with postman or restassured .</p>\n<p>You can generate schema using :</p>\n<p><a href=\"https://www.jsonschema.net/login\" rel=\"nofollow noreferrer\">https://www.jsonschema.net/login</a></p>\n"}],"owner":{"account_id":3727285,"reputation":29,"user_id":3100834,"display_name":"user3100834"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":541,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1632578759,"creation_date":1632501196,"question_id":69318432,"body_markdown":"I am trying to find the effective way to automate the API contract validation. Validations should cover\r\n - Field Mandatory or Optional\r\n - Field length\r\n - Field Type\r\n - Structure\r\n - Values not allowed\r\n\r\nWe are using Java with RESTAssured. For few APIs, in the past I have developed individual tests for each field &amp; each validation (like below).\r\n  Ex: Test Employee Name is Mandatory (Submit an API request with empty Employee Name)\r\n      Test Employee Name is String (Submit an API request with number in Employee Name)\r\n      Test Employee name field length (Submit an API request with empty Employee Name more than allowed length)\r\n\r\nThis approach works but I guess there might be effective ways. Looking for suggestions.","title":"Best way to Automate API (JSON) contract validation","body":"<p>I am trying to find the effective way to automate the API contract validation. Validations should cover</p>\n<ul>\n<li>Field Mandatory or Optional</li>\n<li>Field length</li>\n<li>Field Type</li>\n<li>Structure</li>\n<li>Values not allowed</li>\n</ul>\n<p>We are using Java with RESTAssured. For few APIs, in the past I have developed individual tests for each field &amp; each validation (like below).\nEx: Test Employee Name is Mandatory (Submit an API request with empty Employee Name)\nTest Employee Name is String (Submit an API request with number in Employee Name)\nTest Employee name field length (Submit an API request with empty Employee Name more than allowed length)</p>\n<p>This approach works but I guess there might be effective ways. Looking for suggestions.</p>\n"},{"tags":["java","audio"],"comments":[{"owner":{"account_id":358449,"reputation":42107,"user_id":699224,"accept_rate":67,"display_name":"DNA"},"score":0,"creation_date":1328476025,"post_id":9153009,"comment_id":11509679,"body_markdown":"Does it need to be free and/or open source? What license conditions are you OK with?","body":"Does it need to be free and/or open source? What license conditions are you OK with?"},{"owner":{"account_id":1225539,"reputation":1191,"user_id":1191145,"accept_rate":87,"display_name":"Nico"},"score":0,"creation_date":1328477258,"post_id":9153009,"comment_id":11509988,"body_markdown":"Free/open source would be optimal, but I&#39;m not unwilling to look at other things.","body":"Free/open source would be optimal, but I&#39;m not unwilling to look at other things."}],"answers":[{"tags":[],"owner":{"account_id":358449,"reputation":42107,"user_id":699224,"accept_rate":67,"display_name":"DNA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1328476230,"creation_date":1328476230,"answer_id":9153076,"question_id":9153009,"body_markdown":"There&#39;s JMF - see http://en.wikipedia.org/wiki/Java_Media_Framework, which also lists some alternatives. I&#39;ve had rather mixed success with JMF; it worked well for some static MPEG files but didn&#39;t seem compatible with the streaming sources we were using at the time (a couple of years ago).","title":"What library to use for a java based media player?","body":"<p>There's JMF - see <a href=\"http://en.wikipedia.org/wiki/Java_Media_Framework\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Java_Media_Framework</a>, which also lists some alternatives. I've had rather mixed success with JMF; it worked well for some static MPEG files but didn't seem compatible with the streaming sources we were using at the time (a couple of years ago).</p>\n"},{"tags":[],"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1328477987,"creation_date":1328477469,"answer_id":9153208,"question_id":9153009,"body_markdown":"JMF is, to put it in the nicest possible way, rather out of date, unmaintained, difficult to distribute and in my experience has quite a few annoying bugs that crop up where you least expect them. And if you can get FMJ to work at all, good luck - they pride on it being an up to date, drop in replacement but my experience begs to differ on both those points.\r\n\r\nPersonally I wouldn&#39;t even consider it - just use separate libraries for each format or bunch of formats you want to support. [JLayer][1] would be a good one to start with as it can do a fair few, [JFlac][2] will do your flac files on top of that.\r\n\r\n\r\n  [1]: http://www.javazoom.net/javalayer/javalayer.html\r\n  [2]: http://jflac.sourceforge.net/","title":"What library to use for a java based media player?","body":"<p>JMF is, to put it in the nicest possible way, rather out of date, unmaintained, difficult to distribute and in my experience has quite a few annoying bugs that crop up where you least expect them. And if you can get FMJ to work at all, good luck - they pride on it being an up to date, drop in replacement but my experience begs to differ on both those points.</p>\n\n<p>Personally I wouldn't even consider it - just use separate libraries for each format or bunch of formats you want to support. <a href=\"http://www.javazoom.net/javalayer/javalayer.html\" rel=\"nofollow\">JLayer</a> would be a good one to start with as it can do a fair few, <a href=\"http://jflac.sourceforge.net/\" rel=\"nofollow\">JFlac</a> will do your flac files on top of that.</p>\n"},{"tags":[],"owner":{"account_id":219877,"reputation":2148,"user_id":477008,"accept_rate":88,"display_name":"njlarsson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632578698,"creation_date":1632578698,"answer_id":69326888,"question_id":9153009,"body_markdown":"An alternative to jFLAC for FLAC files is to use the official libFLAC, invoked via the *Java native interface*. See [this blog post][1], under the headline “FLAC decoding with Java native interface” for an explanation of how it&#39;s done, with links to working code.\r\n\r\n\r\n  [1]: https://klipspringer.avadeaux.net/decoding-the-flac-audio-format-in-java/","title":"What library to use for a java based media player?","body":"<p>An alternative to jFLAC for FLAC files is to use the official libFLAC, invoked via the <em>Java native interface</em>. See <a href=\"https://klipspringer.avadeaux.net/decoding-the-flac-audio-format-in-java/\" rel=\"nofollow noreferrer\">this blog post</a>, under the headline “FLAC decoding with Java native interface” for an explanation of how it's done, with links to working code.</p>\n"}],"owner":{"account_id":1225539,"reputation":1191,"user_id":1191145,"accept_rate":87,"display_name":"Nico"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4364,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":9153208,"answer_count":3,"score":5,"last_activity_date":1632578698,"creation_date":1328475804,"question_id":9153009,"body_markdown":"I&#39;m working on developing a media player like application in Java (it&#39;s a swing based application) and I want it to be able to run on smoothly using as many different file formats as possible. I want to be able to take in a bunch of music files, then retrieve their tag information (artist/album/songname/etc), and then later play them. I&#39;ve done a bit of poking around but it&#39;s hard to find a library which will support .m4a, .mp3. and maybe even .flac files. Does anyone know of a library which will do what I want? Thanks!","title":"What library to use for a java based media player?","body":"<p>I'm working on developing a media player like application in Java (it's a swing based application) and I want it to be able to run on smoothly using as many different file formats as possible. I want to be able to take in a bunch of music files, then retrieve their tag information (artist/album/songname/etc), and then later play them. I've done a bit of poking around but it's hard to find a library which will support .m4a, .mp3. and maybe even .flac files. Does anyone know of a library which will do what I want? Thanks!</p>\n"},{"tags":["java","spring","spring-boot","servlets"],"comments":[{"owner":{"account_id":3015716,"reputation":758,"user_id":2557955,"accept_rate":100,"display_name":"dev-cyprium"},"score":0,"creation_date":1624408093,"post_id":68089922,"comment_id":120349150,"body_markdown":"Greetings, welcome to SO! Could you please include your question in your post? Please check https://stackoverflow.com/tour on how to write a question, and try to improve it!","body":"Greetings, welcome to SO! Could you please include your question in your post? Please check <a href=\"https://stackoverflow.com/tour\">stackoverflow.com/tour</a> on how to write a question, and try to improve it!"}],"answers":[{"tags":[],"owner":{"account_id":766390,"reputation":540,"user_id":797512,"display_name":"jeremyt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1624391470,"creation_date":1624391470,"answer_id":68089981,"question_id":68089922,"body_markdown":"looks like you need to *assign* the result of the `getHeader` to your variable.\r\ne.g.\r\n\r\n    public ResponseEntity&lt;?&gt; validatePayment(@PathVariable String paymentService, @PathVariable String invoicenumber, HttpServletRequest request) {\r\n    try {           \r\n        String otp = request.getHeader(&lt;the name of your header goes here&gt;)\r\n        if (otp == null)","title":"I want to get OTP from request object header. please let me know that i am doing right or wrong","body":"<p>looks like you need to <em>assign</em> the result of the <code>getHeader</code> to your variable.\ne.g.</p>\n<pre><code>public ResponseEntity&lt;?&gt; validatePayment(@PathVariable String paymentService, @PathVariable String invoicenumber, HttpServletRequest request) {\ntry {           \n    String otp = request.getHeader(&lt;the name of your header goes here&gt;)\n    if (otp == null)\n</code></pre>\n"}],"owner":{"account_id":21906157,"reputation":7,"user_id":16191199,"display_name":"DHANANJAY RAGHAV"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":68089981,"answer_count":1,"score":-1,"last_activity_date":1632578547,"creation_date":1624391223,"question_id":68089922,"body_markdown":"    public ResponseEntity&lt;?&gt; validatePayment(@PathVariable String paymentService,@PathVariable String invoicenumber,HttpServletRequest request) {\r\n        try {           \r\n            String otp = request.getHeader(otp);\r\n            if(otp == null)\r\n            {\r\n                    return ResponseEntityMapper.toResponseEntity(&quot;Please enter OTP&quot; ,HttpStatus.FORBIDDEN);\r\n                    Payments response = paymentsServices.validatePayment(paymentService,invoicenumber,otp);\r\n                    return ResponseEntityMapper.toResponseEntity(response, HttpStatus.OK);\r\n            } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                    return ResponseEntityMapper.toResponseEntity(e.getMessage(), HttpStatus.INTERNAL_SERVER_ERROR);\r\n              }\r\n            }","title":"I want to get OTP from request object header. please let me know that i am doing right or wrong","body":"<pre><code>public ResponseEntity&lt;?&gt; validatePayment(@PathVariable String paymentService,@PathVariable String invoicenumber,HttpServletRequest request) {\n    try {           \n        String otp = request.getHeader(otp);\n        if(otp == null)\n        {\n                return ResponseEntityMapper.toResponseEntity(&quot;Please enter OTP&quot; ,HttpStatus.FORBIDDEN);\n                Payments response = paymentsServices.validatePayment(paymentService,invoicenumber,otp);\n                return ResponseEntityMapper.toResponseEntity(response, HttpStatus.OK);\n        } catch (Exception e) {\n                e.printStackTrace();\n                return ResponseEntityMapper.toResponseEntity(e.getMessage(), HttpStatus.INTERNAL_SERVER_ERROR);\n          }\n        }\n</code></pre>\n"},{"tags":["java","api","rest","controller"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1632576756,"post_id":69326489,"comment_id":122533247,"body_markdown":"That Postman response isn&#39;t valid JSON, is it from a single request or three seperate requests?","body":"That Postman response isn&#39;t valid JSON, is it from a single request or three seperate requests?"},{"owner":{"account_id":22856206,"reputation":11,"user_id":17001039,"display_name":"MartinSzaynog"},"score":0,"creation_date":1632579372,"post_id":69326489,"comment_id":122533896,"body_markdown":"Hi Davies .The answer is three separate requests","body":"Hi Davies .The answer is three separate requests"}],"answers":[{"tags":[],"owner":{"account_id":2366927,"reputation":1802,"user_id":2072444,"accept_rate":41,"display_name":"rishi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632577722,"creation_date":1632577722,"answer_id":69326765,"question_id":69326489,"body_markdown":"From your API, it looks like it only accepts a single argument. In that case, you can not call the API with multiple arguments in one go and have the response back which you are looking for. However, you can call the API in parallel with different arguments so you won&#39;t have to wait till one API call responds. Below is the code snippet which you can refer to call the API in parallel which essentially solves your problem.\r\n\r\n    @Service\r\n    public class RestService {\r\n    \r\n        private final String URI_CURRENCY_PATH_ID = &quot;http://bank.pl/api/exchangerates/rates/C/{code}&quot;;\r\n    \r\n        @Autowired\r\n        private RestTemplate restTemplate;\r\n    \r\n        Executor executor = Executors.newFixedThreadPool(5);\r\n    \r\n        public void callApi() {\r\n            Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n            CompletableFuture&lt;Currency&gt; apiCall1 = CompletableFuture.supplyAsync(() -&gt; callRestApi(map), executor).thenApply(jsonNode -&gt; callRestApi(jsonNode));\r\n            CompletableFuture&lt;Currency&gt; apiCall2 = CompletableFuture.supplyAsync(() -&gt; callRestApi(map), executor).thenApply(jsonNode -&gt; callRestApi(jsonNode));\r\n            CompletableFuture&lt;Currency&gt; apiCall3 = CompletableFuture.supplyAsync(() -&gt; callRestApi(map), executor).thenApply(jsonNode -&gt; callRestApi(jsonNode));\r\n            List&lt;Currency&gt; result = Stream.of(apiCall1, apiCall2, apiCall3)\r\n                    .map(CompletableFuture::join)\r\n                    .collect(Collectors.toList());\r\n        }\r\n    \r\n        private JsonNode callRestApi(final Map&lt;String, String&gt; params) {\r\n            return restTemplate.getForObject (URI_CURRENCY_PATH_ID, JsonNode.class, params);\r\n        }\r\n    \r\n        private Currency callRestApi(final JsonNode jsonNode) {\r\n            // deserialize it and return your Currency object\r\n            return new Currency(); // just for example\r\n        }\r\n    \r\n        // Keep it somewhere in Model package (here just for example)\r\n        private class Currency {\r\n            // define your arguments\r\n        }\r\n    }","title":"How to get objects saved in JSON format and put to a list or map in the controller","body":"<p>From your API, it looks like it only accepts a single argument. In that case, you can not call the API with multiple arguments in one go and have the response back which you are looking for. However, you can call the API in parallel with different arguments so you won't have to wait till one API call responds. Below is the code snippet which you can refer to call the API in parallel which essentially solves your problem.</p>\n<pre><code>@Service\npublic class RestService {\n\n    private final String URI_CURRENCY_PATH_ID = &quot;http://bank.pl/api/exchangerates/rates/C/{code}&quot;;\n\n    @Autowired\n    private RestTemplate restTemplate;\n\n    Executor executor = Executors.newFixedThreadPool(5);\n\n    public void callApi() {\n        Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n        CompletableFuture&lt;Currency&gt; apiCall1 = CompletableFuture.supplyAsync(() -&gt; callRestApi(map), executor).thenApply(jsonNode -&gt; callRestApi(jsonNode));\n        CompletableFuture&lt;Currency&gt; apiCall2 = CompletableFuture.supplyAsync(() -&gt; callRestApi(map), executor).thenApply(jsonNode -&gt; callRestApi(jsonNode));\n        CompletableFuture&lt;Currency&gt; apiCall3 = CompletableFuture.supplyAsync(() -&gt; callRestApi(map), executor).thenApply(jsonNode -&gt; callRestApi(jsonNode));\n        List&lt;Currency&gt; result = Stream.of(apiCall1, apiCall2, apiCall3)\n                .map(CompletableFuture::join)\n                .collect(Collectors.toList());\n    }\n\n    private JsonNode callRestApi(final Map&lt;String, String&gt; params) {\n        return restTemplate.getForObject (URI_CURRENCY_PATH_ID, JsonNode.class, params);\n    }\n\n    private Currency callRestApi(final JsonNode jsonNode) {\n        // deserialize it and return your Currency object\n        return new Currency(); // just for example\n    }\n\n    // Keep it somewhere in Model package (here just for example)\n    private class Currency {\n        // define your arguments\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22856206,"reputation":11,"user_id":17001039,"display_name":"MartinSzaynog"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1632577722,"creation_date":1632575598,"question_id":69326489,"body_markdown":"I use remote REST API:\r\nhttp://bank.pl/api/exchangerates/rates/**{table}/{code}**/\r\n\r\nI want to download 3 items simultaneously entering the `**{code}**` codes of 3 currencies: USD, EUR, GBP like String   **{code}** of **3** currencies: **USD, EUR, GBP**.\r\n\r\nThe **{table}** parameter is constant and does not change   C\r\n\r\n\r\n       private final String URI_CURRENCY_PATH_ID = &quot;http://bank.pl/api/exchangerates/rates/C/{code}&quot;;\r\n         \r\n        @Autowired\r\n        RestTemplate restTemplate;\r\n         \r\n        // Using RestTemplate\r\n         \r\n        \r\n         \r\n       //&quot;C/{code}&quot;\r\n        Map &lt;String, String&gt; params = new HashMap &lt;String, String&gt; ();\r\n        params.put (&quot;C&quot;, &quot;USD&quot;);\r\n        Currency currency = restTemplate.getForObject (URI_CURRENCY_PATH_ID, Currency.class, params);\r\n\r\nIf i use POSTMAN i get 3 objects:\r\n\r\n    {&quot;table&quot;:&quot;C&quot;,&quot;currency&quot;:&quot;dolar amerykański&quot;,&quot;code&quot;:&quot;USD&quot;,&quot;rates&quot;:[{&quot;no&quot;:&quot;186/C/NBP/2021&quot;,&quot;effectiveDate&quot;:&quot;2021-09-24&quot;,&quot;bid&quot;:3.8897,&quot;ask&quot;:3.9683}]}\r\n\r\n    {&quot;table&quot;:&quot;C&quot;,&quot;currency&quot;:&quot;euro&quot;,&quot;code&quot;:&quot;EUR&quot;,&quot;rates&quot;:[{&quot;no&quot;:&quot;186/C/NBP/2021&quot;,&quot;effectiveDate&quot;:&quot;2021-09-24&quot;,&quot;bid&quot;:4.5664,&quot;ask&quot;:4.6586}]}\r\n    \r\n    {&quot;table&quot;:&quot;C&quot;,&quot;currency&quot;:&quot;funt szterling&quot;,&quot;code&quot;:&quot;GBP&quot;,&quot;rates&quot;:[{&quot;no&quot;:&quot;186/C/NBP/2021&quot;,&quot;effectiveDate&quot;:&quot;2021-09-24&quot;,&quot;bid&quot;:5.3426,&quot;ask&quot;:5.4506}]}\r\n\r\n\r\nIs it possible to get 3 currencies at the same time using List or Map as direct save\r\n\r\nMaybe someone will help as best to solve this problem.\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to get objects saved in JSON format and put to a list or map in the controller","body":"<p>I use remote REST API:\n<a href=\"http://bank.pl/api/exchangerates/rates/**%7Btable%7D/%7Bcode%7D**/\" rel=\"nofollow noreferrer\">http://bank.pl/api/exchangerates/rates/**{table}/{code}**/</a></p>\n<p>I want to download 3 items simultaneously entering the <code>**{code}**</code> codes of 3 currencies: USD, EUR, GBP like String   <strong>{code}</strong> of <strong>3</strong> currencies: <strong>USD, EUR, GBP</strong>.</p>\n<p>The <strong>{table}</strong> parameter is constant and does not change   C</p>\n<pre><code>   private final String URI_CURRENCY_PATH_ID = &quot;http://bank.pl/api/exchangerates/rates/C/{code}&quot;;\n     \n    @Autowired\n    RestTemplate restTemplate;\n     \n    // Using RestTemplate\n     \n    \n     \n   //&quot;C/{code}&quot;\n    Map &lt;String, String&gt; params = new HashMap &lt;String, String&gt; ();\n    params.put (&quot;C&quot;, &quot;USD&quot;);\n    Currency currency = restTemplate.getForObject (URI_CURRENCY_PATH_ID, Currency.class, params);\n</code></pre>\n<p>If i use POSTMAN i get 3 objects:</p>\n<pre><code>{&quot;table&quot;:&quot;C&quot;,&quot;currency&quot;:&quot;dolar amerykański&quot;,&quot;code&quot;:&quot;USD&quot;,&quot;rates&quot;:[{&quot;no&quot;:&quot;186/C/NBP/2021&quot;,&quot;effectiveDate&quot;:&quot;2021-09-24&quot;,&quot;bid&quot;:3.8897,&quot;ask&quot;:3.9683}]}\n\n{&quot;table&quot;:&quot;C&quot;,&quot;currency&quot;:&quot;euro&quot;,&quot;code&quot;:&quot;EUR&quot;,&quot;rates&quot;:[{&quot;no&quot;:&quot;186/C/NBP/2021&quot;,&quot;effectiveDate&quot;:&quot;2021-09-24&quot;,&quot;bid&quot;:4.5664,&quot;ask&quot;:4.6586}]}\n\n{&quot;table&quot;:&quot;C&quot;,&quot;currency&quot;:&quot;funt szterling&quot;,&quot;code&quot;:&quot;GBP&quot;,&quot;rates&quot;:[{&quot;no&quot;:&quot;186/C/NBP/2021&quot;,&quot;effectiveDate&quot;:&quot;2021-09-24&quot;,&quot;bid&quot;:5.3426,&quot;ask&quot;:5.4506}]}\n</code></pre>\n<p>Is it possible to get 3 currencies at the same time using List or Map as direct save</p>\n<p>Maybe someone will help as best to solve this problem.</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":48120,"reputation":93879,"user_id":142822,"display_name":"KV Prajapati"},"score":1,"creation_date":1372056620,"post_id":17269515,"comment_id":25033542,"body_markdown":"Include the *code* what you&#39;ve tried so far.","body":"Include the <i>code</i> what you&#39;ve tried so far."},{"owner":{"account_id":788777,"reputation":28977,"user_id":857132,"accept_rate":69,"display_name":"John3136"},"score":2,"creation_date":1372056677,"post_id":17269515,"comment_id":25033565,"body_markdown":"No they cant. What do you want? The last non space separated chunk in the string? The 4th non space separated chunk? The first chunk starting with D? The first chunk that contains an underscore? or 3Ps?","body":"No they cant. What do you want? The last non space separated chunk in the string? The 4th non space separated chunk? The first chunk starting with D? The first chunk that contains an underscore? or 3Ps?"},{"owner":{"account_id":2102673,"reputation":35121,"user_id":1869846,"accept_rate":56,"display_name":"Ruchira Gayan Ranaweera"},"score":0,"creation_date":1372057317,"post_id":17269515,"comment_id":25033816,"body_markdown":"Where is your code???","body":"Where is your code???"},{"owner":{"account_id":2913356,"reputation":33,"user_id":2497119,"display_name":"Razz"},"score":0,"creation_date":1372057682,"post_id":17269515,"comment_id":25033990,"body_markdown":"Hai every one.. My requirement changed, kindly go through again.                                .............","body":"Hai every one.. My requirement changed, kindly go through again.                                ............."}],"answers":[{"tags":[],"owner":{"account_id":2779837,"reputation":3018,"user_id":2392564,"accept_rate":63,"display_name":"Ashish Aggarwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1372058058,"creation_date":1372058058,"answer_id":17269884,"question_id":17269515,"body_markdown":"If you want the path of the file then you can use java File api&#39;s\r\n\r\n    String path = &quot;D:\\SMPPPushGW_SMSCID1_Passive\\note.bat&quot;;\r\n    \r\n    File file = new File(path);\r\n    System.out.println(file.getParentFile().getAbsolutePath());","title":"Working with strings in java : extract a particular string","body":"<p>If you want the path of the file then you can use java File api's</p>\n\n<pre><code>String path = \"D:\\SMPPPushGW_SMSCID1_Passive\\note.bat\";\n\nFile file = new File(path);\nSystem.out.println(file.getParentFile().getAbsolutePath());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1612978,"reputation":384,"user_id":1491426,"display_name":"NoJoshua"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1372058779,"creation_date":1372058779,"answer_id":17270067,"question_id":17269515,"body_markdown":"----------\r\nFirst make &#39;path&#39; a StringBuffer to make it easier to work with. Then use indexes:\r\n\r\n    StringBuffer path = new StringBuffer(&quot;cmd /c start D:\\\\SMPPPushGW_SMSCID1_Passive\\\\note.bat&quot;);\r\n    String result = path.substring(path.indexOf(&quot;start&quot;)+5, path.lastIndexOf(&quot;\\\\&quot;));\r\n\r\nAs mentioned, File API may be useful, but also URI.","title":"Working with strings in java : extract a particular string","body":"<hr>\n\n<p>First make 'path' a StringBuffer to make it easier to work with. Then use indexes:</p>\n\n<pre><code>StringBuffer path = new StringBuffer(\"cmd /c start D:\\\\SMPPPushGW_SMSCID1_Passive\\\\note.bat\");\nString result = path.substring(path.indexOf(\"start\")+5, path.lastIndexOf(\"\\\\\"));\n</code></pre>\n\n<p>As mentioned, File API may be useful, but also URI.</p>\n"}],"owner":{"account_id":2913356,"reputation":33,"user_id":2497119,"display_name":"Razz"},"comment_count":4,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":6,"up_vote_count":0,"closed_date":1372152683,"accepted_answer_id":17270067,"answer_count":2,"score":-6,"last_activity_date":1632576834,"creation_date":1372056528,"question_id":17269515,"body_markdown":"How to get the a particular part of string without using any index.\r\nmy string is like :\r\n\r\n    String path = &quot;D:\\SMPPPushGW_SMSCID1_Passive\\note.bat&quot;;\r\n\r\nfrom the above string, i want to extract\r\n\r\n    D:\\SMPPPushGW_SMSCID1_Passive\\\r\n\r\nCan any one provide the code??\r\n\r\nThanks in advance.","title":"Working with strings in java : extract a particular string","body":"<p>How to get the a particular part of string without using any index.\nmy string is like :</p>\n\n<pre><code>String path = \"D:\\SMPPPushGW_SMSCID1_Passive\\note.bat\";\n</code></pre>\n\n<p>from the above string, i want to extract</p>\n\n<pre><code>D:\\SMPPPushGW_SMSCID1_Passive\\\n</code></pre>\n\n<p>Can any one provide the code??</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","jackson","json-deserialization"],"comments":[{"owner":{"account_id":4700393,"reputation":3576,"user_id":6099811,"display_name":"navnath"},"score":0,"creation_date":1632534592,"post_id":69322528,"comment_id":122526317,"body_markdown":"So you are trying to add each object&#39;s `c` value as key and `b` value as value into map?","body":"So you are trying to add each object&#39;s <code>c</code> value as key and <code>b</code> value as value into map?"},{"owner":{"account_id":22852882,"reputation":21,"user_id":16998197,"display_name":"Martin N&#246;bel"},"score":0,"creation_date":1632535207,"post_id":69322528,"comment_id":122526386,"body_markdown":"@navnath That is right.","body":"@navnath That is right."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1632535246,"post_id":69322528,"comment_id":122526392,"body_markdown":"So basically, this is not just deserializing.  It is deserializing AND transforming.  And you are trying to do the two things in one step.  My advice would be try doing it as two steps.  1) deserialize to a list of custom objects (or a list of maps).  2) transform to the hashmap that you want.","body":"So basically, this is not just deserializing.  It is deserializing AND transforming.  And you are trying to do the two things in one step.  My advice would be try doing it as two steps.  1) deserialize to a list of custom objects (or a list of maps).  2) transform to the hashmap that you want."},{"owner":{"account_id":4700393,"reputation":3576,"user_id":6099811,"display_name":"navnath"},"score":0,"creation_date":1632535384,"post_id":69322528,"comment_id":122526402,"body_markdown":"@MartinN&#246;bel Why not just deserialize as it is then loop through and create a map?","body":"@MartinN&#246;bel Why not just deserialize as it is then loop through and create a map?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1632535473,"post_id":69322528,"comment_id":122526410,"body_markdown":"You should be able to implement the (say) `List&lt;Map&lt;String, String&gt;&gt;` -&gt; `Map&lt;String, String&gt;` transformation using a `Stream`; i.e. without an explicit loop.","body":"You should be able to implement the (say) <code>List&lt;Map&lt;String, String&gt;&gt;</code> -&gt; <code>Map&lt;String, String&gt;</code> transformation using a <code>Stream</code>; i.e. without an explicit loop."},{"owner":{"account_id":22852882,"reputation":21,"user_id":16998197,"display_name":"Martin N&#246;bel"},"score":0,"creation_date":1632535726,"post_id":69322528,"comment_id":122526435,"body_markdown":"@navnath Ye I thought that there is a way doing it in one step with a custom deserialization. The normal deserialization into an array and the convertion into a map shouldn&#39;t be a problem. Thanks for your advice.","body":"@navnath Ye I thought that there is a way doing it in one step with a custom deserialization. The normal deserialization into an array and the convertion into a map shouldn&#39;t be a problem. Thanks for your advice."},{"owner":{"account_id":4700393,"reputation":3576,"user_id":6099811,"display_name":"navnath"},"score":0,"creation_date":1632537206,"post_id":69322528,"comment_id":122526580,"body_markdown":"@MartinN&#246;bel can you share your `CustomDeserializer.class`","body":"@MartinN&#246;bel can you share your <code>CustomDeserializer.class</code>"},{"owner":{"account_id":22852882,"reputation":21,"user_id":16998197,"display_name":"Martin N&#246;bel"},"score":0,"creation_date":1632575212,"post_id":69322528,"comment_id":122532866,"body_markdown":"@navnath i don&#39;t really implemented the CustomDeserializer because I can&#39;t get it registered anyway. And there are enough posts about such a deserialization, so i would look for something like this if I could get it registered in any way.","body":"@navnath i don&#39;t really implemented the CustomDeserializer because I can&#39;t get it registered anyway. And there are enough posts about such a deserialization, so i would look for something like this if I could get it registered in any way."},{"owner":{"account_id":4700393,"reputation":3576,"user_id":6099811,"display_name":"navnath"},"score":0,"creation_date":1632575357,"post_id":69322528,"comment_id":122532900,"body_markdown":"@MartinN&#246;bel Well you can check out my answer, I have tested it.","body":"@MartinN&#246;bel Well you can check out my answer, I have tested it."},{"owner":{"account_id":22852882,"reputation":21,"user_id":16998197,"display_name":"Martin N&#246;bel"},"score":0,"creation_date":1632576721,"post_id":69322528,"comment_id":122533238,"body_markdown":"@StephenC I added an answer where the convertion is done in two steps with the help of streams. Nevertheless my goal was a high performance so the answer from navnath is the accepted one.","body":"@StephenC I added an answer where the convertion is done in two steps with the help of streams. Nevertheless my goal was a high performance so the answer from navnath is the accepted one."}],"answers":[{"tags":[],"owner":{"account_id":4700393,"reputation":3576,"user_id":6099811,"display_name":"navnath"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632538904,"creation_date":1632538904,"answer_id":69322825,"question_id":69322528,"body_markdown":"Maybe you have missed with adding `module.addDeserializer`\r\n\r\nHashMapValueDeserializer.class\r\n\r\n    public class HashMapValueDeserializer extends JsonDeserializer&lt;HashMap&lt;String, String&gt;&gt; {\r\n        @Override\r\n        public HashMap&lt;String, String&gt; deserialize(JsonParser parser, DeserializationContext ctxt)\r\n                throws IOException, JsonProcessingException {\r\n            HashMap&lt;String, String&gt; ret = new HashMap&lt;String, String&gt;();\r\n    \r\n            ObjectCodec codec = parser.getCodec();\r\n            TreeNode node = codec.readTree(parser);\r\n    \r\n    \t\tfor (JsonNode n : (ArrayNode)node){\r\n    \t\t\tJsonNode c = n.get(&quot;c&quot;);\r\n    \t\t\tJsonNode b = n.get(&quot;b&quot;);\r\n    \t\t\tret.put(c.asText(), b.asText());\r\n    \t\t}\r\n            return ret;\r\n        }\r\n    }\r\n\r\nTest.class\r\n\r\n    public class Test {\r\n      public static void main(String[] args) throws FileNotFoundException, MalformedURLException, JsonProcessingException {\r\n        String jsonArray = &quot;[{ \\&quot;a\\&quot; : \\&quot;1\\&quot;, \\&quot;b\\&quot; : \\&quot;2\\&quot;, \\&quot;c\\&quot; : \\&quot;one\\&quot;, \\&quot;d\\&quot; : \\&quot;3\\&quot; }, { \\&quot;a\\&quot; : \\&quot;4\\&quot;, \\&quot;b\\&quot; : \\&quot;5\\&quot;, \\&quot;c\\&quot; : \\&quot;two\\&quot;, \\&quot;d\\&quot; : \\&quot;6\\&quot; }, { \\&quot;a\\&quot; : \\&quot;7\\&quot;, \\&quot;b\\&quot; : \\&quot;8\\&quot;, \\&quot;c\\&quot; : \\&quot;three\\&quot;, \\&quot;d\\&quot; : \\&quot;9\\&quot; }]&quot;;\r\n    \r\n        ObjectMapper mapper = new ObjectMapper();\r\n    \r\n        SimpleModule module =\r\n            new SimpleModule(&quot;HashMapValueDeserializer&quot;, new Version(1, 0, 0, null, null, null));\r\n        module.addDeserializer(HashMap.class, new HashMapValueDeserializer());\r\n        mapper.registerModule(module);\r\n    \r\n        HashMap&lt;String, Integer&gt; result = mapper.readValue(jsonArray, HashMap.class);\r\n        System.out.println(result);\r\n      }\r\n    \r\n    }\r\n\r\nOutput : \r\n\r\n    {one=2, two=5, three=8}\r\n","title":"Deserialize a JSON array partially into a HashMap with the help of jackson","body":"<p>Maybe you have missed with adding <code>module.addDeserializer</code></p>\n<p>HashMapValueDeserializer.class</p>\n<pre><code>public class HashMapValueDeserializer extends JsonDeserializer&lt;HashMap&lt;String, String&gt;&gt; {\n    @Override\n    public HashMap&lt;String, String&gt; deserialize(JsonParser parser, DeserializationContext ctxt)\n            throws IOException, JsonProcessingException {\n        HashMap&lt;String, String&gt; ret = new HashMap&lt;String, String&gt;();\n\n        ObjectCodec codec = parser.getCodec();\n        TreeNode node = codec.readTree(parser);\n\n        for (JsonNode n : (ArrayNode)node){\n            JsonNode c = n.get(&quot;c&quot;);\n            JsonNode b = n.get(&quot;b&quot;);\n            ret.put(c.asText(), b.asText());\n        }\n        return ret;\n    }\n}\n</code></pre>\n<p>Test.class</p>\n<pre><code>public class Test {\n  public static void main(String[] args) throws FileNotFoundException, MalformedURLException, JsonProcessingException {\n    String jsonArray = &quot;[{ \\&quot;a\\&quot; : \\&quot;1\\&quot;, \\&quot;b\\&quot; : \\&quot;2\\&quot;, \\&quot;c\\&quot; : \\&quot;one\\&quot;, \\&quot;d\\&quot; : \\&quot;3\\&quot; }, { \\&quot;a\\&quot; : \\&quot;4\\&quot;, \\&quot;b\\&quot; : \\&quot;5\\&quot;, \\&quot;c\\&quot; : \\&quot;two\\&quot;, \\&quot;d\\&quot; : \\&quot;6\\&quot; }, { \\&quot;a\\&quot; : \\&quot;7\\&quot;, \\&quot;b\\&quot; : \\&quot;8\\&quot;, \\&quot;c\\&quot; : \\&quot;three\\&quot;, \\&quot;d\\&quot; : \\&quot;9\\&quot; }]&quot;;\n\n    ObjectMapper mapper = new ObjectMapper();\n\n    SimpleModule module =\n        new SimpleModule(&quot;HashMapValueDeserializer&quot;, new Version(1, 0, 0, null, null, null));\n    module.addDeserializer(HashMap.class, new HashMapValueDeserializer());\n    mapper.registerModule(module);\n\n    HashMap&lt;String, Integer&gt; result = mapper.readValue(jsonArray, HashMap.class);\n    System.out.println(result);\n  }\n\n}\n</code></pre>\n<p>Output :</p>\n<pre><code>{one=2, two=5, three=8}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22852882,"reputation":21,"user_id":16998197,"display_name":"Martin N&#246;bel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632576594,"creation_date":1632576594,"answer_id":69326615,"question_id":69322528,"body_markdown":"Anyway if someone want to do it without the help of a custom deserializer, it can be done in two steps: converting the JSON array to a list of custom objects and then transforming this array to a map with the help of streams. Remember that the performance of this solution lies behind the accepted answer.\r\n```\r\nObjectMapper objectMapper = new ObjectMapper();\r\n//converting the json to a list\r\nList&lt;CustomObject&gt; list = Arrays.asList(objectMapper.readValue(json, CustomObject[].class));\r\n//converting the list to a map\r\nMap&lt;String,Integer&gt; map = list.stream().collect(Collectors.toMap(CustomObject::getString, CustomObject::getInteger));\r\n\r\n//the custom object for the list (uses lombok for getters and setters)\r\n@Getter\r\n@Setter\r\npublic class CustomObject{\r\n\r\n    @JsonProperty(value = &quot;c&quot;)\r\n    private String string;\r\n\r\n    @JsonProperty(value = &quot;b&quot;)\r\n    private Integer integer;\r\n\r\n}\r\n```\r\nHowever all of this can be done in one line:\r\n```\r\nMap&lt;String,Integer&gt; map = Arrays.stream(objectMapper.readValue(json, CustomObject[].class)).collect(Collectors.toMap(CustomObject::getString, CustomObject::getInteger));\r\n```\r\n","title":"Deserialize a JSON array partially into a HashMap with the help of jackson","body":"<p>Anyway if someone want to do it without the help of a custom deserializer, it can be done in two steps: converting the JSON array to a list of custom objects and then transforming this array to a map with the help of streams. Remember that the performance of this solution lies behind the accepted answer.</p>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\n//converting the json to a list\nList&lt;CustomObject&gt; list = Arrays.asList(objectMapper.readValue(json, CustomObject[].class));\n//converting the list to a map\nMap&lt;String,Integer&gt; map = list.stream().collect(Collectors.toMap(CustomObject::getString, CustomObject::getInteger));\n\n//the custom object for the list (uses lombok for getters and setters)\n@Getter\n@Setter\npublic class CustomObject{\n\n    @JsonProperty(value = &quot;c&quot;)\n    private String string;\n\n    @JsonProperty(value = &quot;b&quot;)\n    private Integer integer;\n\n}\n</code></pre>\n<p>However all of this can be done in one line:</p>\n<pre><code>Map&lt;String,Integer&gt; map = Arrays.stream(objectMapper.readValue(json, CustomObject[].class)).collect(Collectors.toMap(CustomObject::getString, CustomObject::getInteger));\n</code></pre>\n"}],"owner":{"account_id":22852882,"reputation":21,"user_id":16998197,"display_name":"Martin N&#246;bel"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":917,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69322825,"answer_count":2,"score":1,"last_activity_date":1632576594,"creation_date":1632534192,"question_id":69322528,"body_markdown":"I have the following JSON:\r\n```\r\n[\r\n  {\r\n    &quot;a&quot;: 1,         \r\n    &quot;b&quot;: 2,                  \r\n    &quot;c&quot;: &quot;one&quot;,\r\n    &quot;d&quot;: 3                     \r\n  },\r\n  {\r\n    &quot;a&quot;: 4,         \r\n    &quot;b&quot;: 5,                  \r\n    &quot;c&quot;: &quot;two&quot;,\r\n    &quot;d&quot;: 6                     \r\n  },\r\n  {\r\n    &quot;a&quot;: 7,         \r\n    &quot;b&quot;: 8,                  \r\n    &quot;c&quot;: &quot;three&quot;,\r\n    &quot;d&quot;: 9                     \r\n  },\r\n]\r\n```\r\nI want to cast this with the help of jackson into a `HashMap&lt;String,Integer&gt;` like this:\r\n```\r\n{\r\n  &quot;one&quot;: 2,\r\n  &quot;two&quot;: 5,\r\n  &quot;three&quot;: 8\r\n}\r\n```\r\n\r\nI have tried a custom deserializer but I can&#39;t get it registered correctly and I don&#39;t really know if this is the correct way to do it. The next problem is that i don&#39;t have any nesting object as an actual basis for my JSON, means that I get it straight as a string like mentioned above, so I can&#39;t use any annotation like this: \r\n\r\n`@JsonDeserialize(using = CustomDeserializer.class)`. \r\n\r\nSo at the end I need to register the Deserializer in the ObjectMapper itself, but this won&#39;t work either with the help of a configuration like this:\r\n```\r\nObjectMapper objectMapper = new ObjectMapper();\r\nSimpleModule simpleModule = new SimpleModule();\r\nsimpleModule.addDeserializer(new TypeReference&lt;HashMap&lt;String,Integer&gt;&gt;(){}, new CustomDeserializer());\r\n```\r\n\r\nAm I missing something here? I hope someone can help me with this problem. \r\n","title":"Deserialize a JSON array partially into a HashMap with the help of jackson","body":"<p>I have the following JSON:</p>\n<pre><code>[\n  {\n    &quot;a&quot;: 1,         \n    &quot;b&quot;: 2,                  \n    &quot;c&quot;: &quot;one&quot;,\n    &quot;d&quot;: 3                     \n  },\n  {\n    &quot;a&quot;: 4,         \n    &quot;b&quot;: 5,                  \n    &quot;c&quot;: &quot;two&quot;,\n    &quot;d&quot;: 6                     \n  },\n  {\n    &quot;a&quot;: 7,         \n    &quot;b&quot;: 8,                  \n    &quot;c&quot;: &quot;three&quot;,\n    &quot;d&quot;: 9                     \n  },\n]\n</code></pre>\n<p>I want to cast this with the help of jackson into a <code>HashMap&lt;String,Integer&gt;</code> like this:</p>\n<pre><code>{\n  &quot;one&quot;: 2,\n  &quot;two&quot;: 5,\n  &quot;three&quot;: 8\n}\n</code></pre>\n<p>I have tried a custom deserializer but I can't get it registered correctly and I don't really know if this is the correct way to do it. The next problem is that i don't have any nesting object as an actual basis for my JSON, means that I get it straight as a string like mentioned above, so I can't use any annotation like this:</p>\n<p><code>@JsonDeserialize(using = CustomDeserializer.class)</code>.</p>\n<p>So at the end I need to register the Deserializer in the ObjectMapper itself, but this won't work either with the help of a configuration like this:</p>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\nSimpleModule simpleModule = new SimpleModule();\nsimpleModule.addDeserializer(new TypeReference&lt;HashMap&lt;String,Integer&gt;&gt;(){}, new CustomDeserializer());\n</code></pre>\n<p>Am I missing something here? I hope someone can help me with this problem.</p>\n"},{"tags":["java","arrays","generics","erasure"],"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":1,"creation_date":1632567087,"post_id":69325358,"comment_id":122531054,"body_markdown":"*After erasure, the getStringArr should return Object[]* -&gt; no it doesn&#39;t, because it does **not** create a generic array. You&#39;re the one passing in a `String[]` so the `getStrArr` doesn&#39;t have to do any array creation at all","body":"<i>After erasure, the getStringArr should return Object[]</i> -&gt; no it doesn&#39;t, because it does <b>not</b> create a generic array. You&#39;re the one passing in a <code>String[]</code> so the <code>getStrArr</code> doesn&#39;t have to do any array creation at all"},{"owner":{"account_id":14105282,"reputation":657,"user_id":10189517,"display_name":"HKIT"},"score":0,"creation_date":1632567280,"post_id":69325358,"comment_id":122531099,"body_markdown":"@Lino, thanks for the reply. the return type of getStringArr is T[], according to erasure =&gt; Replace all type parameters in generic types with their bounds or Object if the type parameters are unbounded. so the return type should becomes Object[]. I am referencing https://docs.oracle.com/javase/tutorial/java/generics/erasure.html","body":"@Lino, thanks for the reply. the return type of getStringArr is T[], according to erasure =&gt; Replace all type parameters in generic types with their bounds or Object if the type parameters are unbounded. so the return type should becomes Object[]. I am referencing <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/generics/erasure.html</a>"},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1632571216,"post_id":69325358,"comment_id":122531897,"body_markdown":"When using generics the compiler &quot;cheats&quot; by adding implicit casting. Because you pass a `String[]` into the method, and then return it directly, the final cast (to `String[]`) when assigning the return value of `getStrArr()` to `strArr` will work, because the returned value **is** a `String[]`","body":"When using generics the compiler &quot;cheats&quot; by adding implicit casting. Because you pass a <code>String[]</code> into the method, and then return it directly, the final cast (to <code>String[]</code>) when assigning the return value of <code>getStrArr()</code> to <code>strArr</code> will work, because the returned value <b>is</b> a <code>String[]</code>"},{"owner":{"account_id":14105282,"reputation":657,"user_id":10189517,"display_name":"HKIT"},"score":0,"creation_date":1632574061,"post_id":69325358,"comment_id":122532541,"body_markdown":"@Lino, you are right, I missed the very basic thing. Thanks","body":"@Lino, you are right, I missed the very basic thing. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":8087134,"reputation":28351,"user_id":6094348,"accept_rate":100,"display_name":"Yousaf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632576493,"creation_date":1632569630,"answer_id":69325735,"question_id":69325358,"body_markdown":"&gt; After erasure, the getStringArr should return Object[], and it is able\r\n&gt; to cast to String[] without any problem.\r\n\r\nReturn type of the `getStrArr`, after type erasure, would be `Object[]` but, in your code, it is returning `arr` which is of type `String[]`. That is why there is not `ClassCastException` in your code.\r\n\r\n\r\nConsider the following method (suppose generic arrays were allowed):\r\n\r\n    public T[] foo() {\r\n        return new T[5];                  \r\n    } \r\n\r\nAfter type erasure, `new T[5]` will be replaced by `new Object[5]`. Now if the calling code calls this method as:\r\n\r\n    String[] strArr = obj.foo();\r\n\r\nIt will lead to `ClassCastException` because `Object[]` cannot be casted to `String[]`.","title":"Generic Array initialisation","body":"<blockquote>\n<p>After erasure, the getStringArr should return Object[], and it is able\nto cast to String[] without any problem.</p>\n</blockquote>\n<p>Return type of the <code>getStrArr</code>, after type erasure, would be <code>Object[]</code> but, in your code, it is returning <code>arr</code> which is of type <code>String[]</code>. That is why there is not <code>ClassCastException</code> in your code.</p>\n<p>Consider the following method (suppose generic arrays were allowed):</p>\n<pre><code>public T[] foo() {\n    return new T[5];                  \n} \n</code></pre>\n<p>After type erasure, <code>new T[5]</code> will be replaced by <code>new Object[5]</code>. Now if the calling code calls this method as:</p>\n<pre><code>String[] strArr = obj.foo();\n</code></pre>\n<p>It will lead to <code>ClassCastException</code> because <code>Object[]</code> cannot be casted to <code>String[]</code>.</p>\n"}],"owner":{"account_id":14105282,"reputation":657,"user_id":10189517,"display_name":"HKIT"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69325735,"answer_count":1,"score":3,"last_activity_date":1632576493,"creation_date":1632566526,"question_id":69325358,"body_markdown":"I have read through different articles which talks about why we cannot create generic array in java, but still I don&#39;t quite understand why. &lt;br&gt;\r\n\r\nFor example, it this [post](https://www.baeldung.com/java-generic-array), it assumed if generic array initialisation is possible, there will be casting issue after erasure. You can find the details in section [2. Considerations When Using Generic Arrays](https://www.baeldung.com/java-generic-array#considerations-when-using-generic-arrays). In simplest term, the generic array becomes an Object Array after erasure, and if the generic type is String, java will fail to cast Object[] to String[]. &lt;br&gt;\r\n\r\nHowever, I created a generic class with a simple function,\r\n```\r\n// Test.java\r\npublic class Test&lt;T&gt; {\r\n    public T[] getStrArr(T[] arr) {\r\n        return arr;\r\n    }\r\n}\r\n\r\n//Main.java\r\npublic static void main(String[] args) {\r\n       Test&lt;String&gt; test = new Test&lt;&gt;();\r\n        String[] strArr = test.getStrArr(new String[]{&quot;A&quot;, &quot;B&quot;, &quot;C&quot;});\r\n}\r\n```\r\n\r\nAfter erasure, the getStringArr should return Object[], and it is able to cast to String[] without any problem.\r\n\r\n\r\nAnother  stackoverflow [post](https://stackoverflow.com/questions/2927391/whats-the-reason-i-cant-create-generic-array-types-in-java) stated that: &lt;br&gt;\r\n\r\n&lt;b&gt;arrays (unlike generics) contain, at runtime, information about its component type. So you must know the component type when you create the array. Since you don&#39;t know what T is at runtime, you can&#39;t create the array.&lt;/b&gt;\r\n\r\nbut erasure will change `T` into `Object` type, so compiler can create array with Object type. &lt;br&gt;\r\n\r\nThere are other posts with similar explanation but cannot really resolve my doubt.\r\n\r\nPlease help!\r\n\r\n","title":"Generic Array initialisation","body":"<p>I have read through different articles which talks about why we cannot create generic array in java, but still I don't quite understand why. <br></p>\n<p>For example, it this <a href=\"https://www.baeldung.com/java-generic-array\" rel=\"nofollow noreferrer\">post</a>, it assumed if generic array initialisation is possible, there will be casting issue after erasure. You can find the details in section <a href=\"https://www.baeldung.com/java-generic-array#considerations-when-using-generic-arrays\" rel=\"nofollow noreferrer\">2. Considerations When Using Generic Arrays</a>. In simplest term, the generic array becomes an Object Array after erasure, and if the generic type is String, java will fail to cast Object[] to String[]. <br></p>\n<p>However, I created a generic class with a simple function,</p>\n<pre><code>// Test.java\npublic class Test&lt;T&gt; {\n    public T[] getStrArr(T[] arr) {\n        return arr;\n    }\n}\n\n//Main.java\npublic static void main(String[] args) {\n       Test&lt;String&gt; test = new Test&lt;&gt;();\n        String[] strArr = test.getStrArr(new String[]{&quot;A&quot;, &quot;B&quot;, &quot;C&quot;});\n}\n</code></pre>\n<p>After erasure, the getStringArr should return Object[], and it is able to cast to String[] without any problem.</p>\n<p>Another  stackoverflow <a href=\"https://stackoverflow.com/questions/2927391/whats-the-reason-i-cant-create-generic-array-types-in-java\">post</a> stated that: <br></p>\n<p><b>arrays (unlike generics) contain, at runtime, information about its component type. So you must know the component type when you create the array. Since you don't know what T is at runtime, you can't create the array.</b></p>\n<p>but erasure will change <code>T</code> into <code>Object</code> type, so compiler can create array with Object type. <br></p>\n<p>There are other posts with similar explanation but cannot really resolve my doubt.</p>\n<p>Please help!</p>\n"},{"tags":["java","spring","spring-boot","junit"],"comments":[{"owner":{"account_id":3592378,"reputation":466,"user_id":2998104,"display_name":"Kudin"},"score":0,"creation_date":1567675321,"post_id":57801875,"comment_id":102036486,"body_markdown":"You seem to be missing the implementation of the `BookRepository` interface in the context. Where in your project do you have the class that `implements BookRepository` and where is the current class? EDIT: Or is it supposed to be mocked?","body":"You seem to be missing the implementation of the <code>BookRepository</code> interface in the context. Where in your project do you have the class that <code>implements BookRepository</code> and where is the current class? EDIT: Or is it supposed to be mocked?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1567682965,"post_id":57801875,"comment_id":102040619,"body_markdown":"Remove the `classes` from `@SpringBootTest`.","body":"Remove the <code>classes</code> from <code>@SpringBootTest</code>."},{"owner":{"account_id":7329552,"reputation":51,"user_id":11152218,"display_name":"tunc"},"score":0,"creation_date":1567687719,"post_id":57801875,"comment_id":102043320,"body_markdown":"M.Denium if i remove that gives me error.","body":"M.Denium if i remove that gives me error."},{"owner":{"account_id":7329552,"reputation":51,"user_id":11152218,"display_name":"tunc"},"score":0,"creation_date":1567687781,"post_id":57801875,"comment_id":102043354,"body_markdown":"Kudin in spring data there is no class that implements repository interfaces.","body":"Kudin in spring data there is no class that implements repository interfaces."},{"owner":{"account_id":1667007,"reputation":2777,"user_id":1534211,"display_name":"mate00"},"score":0,"creation_date":1567689808,"post_id":57801875,"comment_id":102044631,"body_markdown":"It looks like a package scan issue. What is the structure of your project? Does your application start-up with `BookRepository` autowired in context?","body":"It looks like a package scan issue. What is the structure of your project? Does your application start-up with <code>BookRepository</code> autowired in context?"},{"owner":{"account_id":8109300,"reputation":177,"user_id":6109933,"display_name":"NKR"},"score":0,"creation_date":1567692028,"post_id":57801875,"comment_id":102046016,"body_markdown":"Are there any class that is implementing this interface?","body":"Are there any class that is implementing this interface?"},{"owner":{"account_id":7329552,"reputation":51,"user_id":11152218,"display_name":"tunc"},"score":0,"creation_date":1567693839,"post_id":57801875,"comment_id":102047068,"body_markdown":"NKR it is JpaRepository. There is no class that implement that class. Spring autowiring that interface.","body":"NKR it is JpaRepository. There is no class that implement that class. Spring autowiring that interface."},{"owner":{"account_id":5307379,"reputation":2578,"user_id":4234794,"display_name":"Jason Warner"},"score":0,"creation_date":1567694287,"post_id":57801875,"comment_id":102047325,"body_markdown":"So... you&#39;re trying to test the spring data implementation of your interface??? Why exactly?","body":"So... you&#39;re trying to test the spring data implementation of your interface??? Why exactly?"},{"owner":{"account_id":7329552,"reputation":51,"user_id":11152218,"display_name":"tunc"},"score":0,"creation_date":1567694973,"post_id":57801875,"comment_id":102047714,"body_markdown":"Jason Warner actually i am new to testing. Should not i test repositories ?","body":"Jason Warner actually i am new to testing. Should not i test repositories ?"},{"owner":{"account_id":7329552,"reputation":51,"user_id":11152218,"display_name":"tunc"},"score":0,"creation_date":1567705663,"post_id":57801875,"comment_id":102052665,"body_markdown":"mate00 program is running on normal start. Spring can find all repositories,entities,services. Structure is repository is under the app.repository package. Class that has main method and SpringBootApplication annotation is under the app package.","body":"mate00 program is running on normal start. Spring can find all repositories,entities,services. Structure is repository is under the app.repository package. Class that has main method and SpringBootApplication annotation is under the app package."},{"owner":{"account_id":1667007,"reputation":2777,"user_id":1534211,"display_name":"mate00"},"score":0,"creation_date":1567756316,"post_id":57801875,"comment_id":102066315,"body_markdown":"I would just write `@SpringBootTest` without `classes` parameter. Do you get error in this case? What is it?","body":"I would just write <code>@SpringBootTest</code> without <code>classes</code> parameter. Do you get error in this case? What is it?"},{"owner":{"account_id":7329552,"reputation":51,"user_id":11152218,"display_name":"tunc"},"score":0,"creation_date":1568051383,"post_id":57801875,"comment_id":102144001,"body_markdown":"@mate00 if i don&#39;t write classes parameter gives this error: Unable to find a SpringBootConfiguration, you need to use ContextConfiguration or SpringBootTest(classes=...) with your test","body":"@mate00 if i don&#39;t write classes parameter gives this error: Unable to find a SpringBootConfiguration, you need to use ContextConfiguration or SpringBootTest(classes=...) with your test"},{"owner":{"account_id":1667007,"reputation":2777,"user_id":1534211,"display_name":"mate00"},"score":0,"creation_date":1568087965,"post_id":57801875,"comment_id":102153303,"body_markdown":"I am preety sure you&#39;ve messed up a bit the packages structure of your project. Can you draw it or post a screenshot?","body":"I am preety sure you&#39;ve messed up a bit the packages structure of your project. Can you draw it or post a screenshot?"},{"owner":{"account_id":7329552,"reputation":51,"user_id":11152218,"display_name":"tunc"},"score":0,"creation_date":1568124829,"post_id":57801875,"comment_id":102170237,"body_markdown":"@mate00 i added project structure.","body":"@mate00 i added project structure."},{"owner":{"account_id":1667007,"reputation":2777,"user_id":1534211,"display_name":"mate00"},"score":0,"creation_date":1568124996,"post_id":57801875,"comment_id":102170335,"body_markdown":"I think my answer should help you.","body":"I think my answer should help you."}],"answers":[{"tags":[],"owner":{"account_id":1667007,"reputation":2777,"user_id":1534211,"display_name":"mate00"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1568124976,"creation_date":1568124976,"answer_id":57872747,"question_id":57801875,"body_markdown":"The thing is, that your main and test packages differ:\r\n\r\n`BookRepository` is in `app.entity.repository` and your test is in `repository`. Try by aligning it and move your test to `src/test/java/app/entity/repository`.","title":"UnsatisfiedDependencyException: Error creating bean with name &#39;repository.BookRepositoryTest&#39; in Junit Test","body":"<p>The thing is, that your main and test packages differ:</p>\n\n<p><code>BookRepository</code> is in <code>app.entity.repository</code> and your test is in <code>repository</code>. Try by aligning it and move your test to <code>src/test/java/app/entity/repository</code>.</p>\n"},{"tags":[],"owner":{"account_id":21910001,"reputation":247,"user_id":16194563,"display_name":"Ramya Musunuru"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1623762551,"creation_date":1623762551,"answer_id":67986885,"question_id":57801875,"body_markdown":"You can use the  BookRepository in following way\r\n\r\n    @EnableAutoConfiguration\r\n    @ContextConfiguration(classes = {BookRepository .class})\r\n    public class BookRepositoryTest{\r\n    }","title":"UnsatisfiedDependencyException: Error creating bean with name &#39;repository.BookRepositoryTest&#39; in Junit Test","body":"<p>You can use the  BookRepository in following way</p>\n<pre><code>@EnableAutoConfiguration\n@ContextConfiguration(classes = {BookRepository .class})\npublic class BookRepositoryTest{\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11697339,"reputation":1663,"user_id":8563654,"display_name":"Senthuran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632573956,"creation_date":1632573956,"answer_id":69326281,"question_id":57801875,"body_markdown":"I also faced a similar problem. I have injected the dependent class using @MockBean annotation.\r\n\r\n&gt;     @MockBean\r\n&gt;     private S3StorageService s3StorageService;\r\n\r\nThe above solution worked for me.","title":"UnsatisfiedDependencyException: Error creating bean with name &#39;repository.BookRepositoryTest&#39; in Junit Test","body":"<p>I also faced a similar problem. I have injected the dependent class using @MockBean annotation.</p>\n<blockquote>\n<pre><code>@MockBean\nprivate S3StorageService s3StorageService;\n</code></pre>\n</blockquote>\n<p>The above solution worked for me.</p>\n"}],"owner":{"account_id":7329552,"reputation":51,"user_id":11152218,"display_name":"tunc"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18933,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":57872747,"answer_count":3,"score":3,"last_activity_date":1632573956,"creation_date":1567673834,"question_id":57801875,"body_markdown":"I am writing a junit test for spring data repository. But i can&#39;t autowire repository interface. Program is running if i run main method and spring can detect all repositories,services,entities but if i run a test it gives this error : \r\n\r\n&gt; UnsatisfiedDependencyException: Error creating bean with name\r\n&gt; &#39;repository.BookRepositoryTest&#39;: Unsatisfied dependency expressed\r\n&gt; through field &#39;bookRepository&#39;; nested exception is\r\n&gt; org.springframework.beans.factory.NoSuchBeanDefinitionException: No\r\n&gt; qualifying bean of type &#39;app.repository.BookRepository&#39; available:\r\n&gt; expected at least 1 bean which qualifies as autowire candidate.\r\n&gt; Dependency annotations:\r\n&gt; {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n\r\n```java\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest(classes={BookRepository.class})\r\npublic class BookRepositoryTest\r\n{\r\n    @Autowired\r\n    private BookRepository bookRepository;\r\n    @Test\r\n    public void save()\r\n    {\r\n        Book book=new Book();\r\n        bookRepository.save(book);\r\n    }\r\n}\r\n```\r\n```java\r\npublic interface BookRepository extends JpaRepository&lt;Book,Integer&gt;\r\n{\r\n    Book findByName(String name);\r\n}\r\n```\r\n\r\nProject Structure:\r\n\r\n    src\r\n\t\tmain\r\n\t\t\tjava\r\n\t\t\t\tapp\r\n\t\t\t\t\tentity\r\n\t\t\t\t\t\tBook.java\r\n\t\t\t\t\trepository\r\n\t\t\t\t\t\tBookRepository.java\r\n\t\t\t\t\tservice\r\n\t\t\t\t\t\tBookService.java\r\n\t\t\t\t\tApp.java\r\n\t\t\tresources\r\n\t\t\t\tapplication.properties\r\n\t\t\twebapp\r\n\t\ttest\r\n\t\t\tjava\r\n\t\t\t\trepository\r\n\t\t\t\t\tBookRepositoryTest.java\r\n\r\n```\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;repository.BookRepositoryTest&#39;: Unsatisfied dependency expressed through field &#39;bookRepository&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;app.repository.BookRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:596)\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1411)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireBeanProperties(AbstractAutowireCapableBeanFactory.java:391)\r\n\tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:119)\r\n\tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)\r\n\tat org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)\r\n\tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n\tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\r\n\tat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\r\n\tat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\r\n\tat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\r\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;app.repository.BookRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1655)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1214)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1168)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:593)\r\n\t... 28 more\r\n```","title":"UnsatisfiedDependencyException: Error creating bean with name &#39;repository.BookRepositoryTest&#39; in Junit Test","body":"<p>I am writing a junit test for spring data repository. But i can't autowire repository interface. Program is running if i run main method and spring can detect all repositories,services,entities but if i run a test it gives this error :</p>\n<blockquote>\n<p>UnsatisfiedDependencyException: Error creating bean with name\n'repository.BookRepositoryTest': Unsatisfied dependency expressed\nthrough field 'bookRepository'; nested exception is\norg.springframework.beans.factory.NoSuchBeanDefinitionException: No\nqualifying bean of type 'app.repository.BookRepository' available:\nexpected at least 1 bean which qualifies as autowire candidate.\nDependency annotations:\n{@org.springframework.beans.factory.annotation.Autowired(required=true)}</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(SpringRunner.class)\n@SpringBootTest(classes={BookRepository.class})\npublic class BookRepositoryTest\n{\n    @Autowired\n    private BookRepository bookRepository;\n    @Test\n    public void save()\n    {\n        Book book=new Book();\n        bookRepository.save(book);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public interface BookRepository extends JpaRepository&lt;Book,Integer&gt;\n{\n    Book findByName(String name);\n}\n</code></pre>\n<p>Project Structure:</p>\n<pre><code>src\n    main\n        java\n            app\n                entity\n                    Book.java\n                repository\n                    BookRepository.java\n                service\n                    BookService.java\n                App.java\n        resources\n            application.properties\n        webapp\n    test\n        java\n            repository\n                BookRepositoryTest.java\n</code></pre>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'repository.BookRepositoryTest': Unsatisfied dependency expressed through field 'bookRepository'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'app.repository.BookRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:596)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1411)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireBeanProperties(AbstractAutowireCapableBeanFactory.java:391)\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:119)\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)\n    at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\n    at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'app.repository.BookRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1655)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1214)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1168)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:593)\n    ... 28 more\n</code></pre>\n"},{"tags":["java","javafx","netbeans","scenebuilder","netbeans-8"],"answers":[{"tags":[],"owner":{"account_id":15262259,"reputation":1,"user_id":11011941,"display_name":"Adam Tomasek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632573899,"creation_date":1632573899,"answer_id":69326273,"question_id":69326114,"body_markdown":"Well I found solution. If you copy .fxml from &quot;reality&quot; img project.. Netbeans start recognizing .fxml files... somehow. Ill leave this here for others.","title":"Netbeans 8.2, &quot;make controller&quot; button disappeared","body":"<p>Well I found solution. If you copy .fxml from &quot;reality&quot; img project.. Netbeans start recognizing .fxml files... somehow. Ill leave this here for others.</p>\n"}],"owner":{"account_id":15262259,"reputation":1,"user_id":11011941,"display_name":"Adam Tomasek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":614,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632573899,"creation_date":1632572665,"question_id":69326114,"body_markdown":"I dont understand what is wrong.. Netbeans just ignoring .fxml file and I cant make controller or open it in SceneBuilder. JavaFX works normally.\r\n\r\n[Expectation (other project groups)][2]\r\n\r\n[Reality][1]\r\n\r\n\r\n\r\nNetbeans works normally in other project groups.\r\nIt this project is same setup like in others.\r\n\r\nCan somebody tell what is wrong?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PmQXU.png\r\n  [2]: https://i.stack.imgur.com/mivqT.png","title":"Netbeans 8.2, &quot;make controller&quot; button disappeared","body":"<p>I dont understand what is wrong.. Netbeans just ignoring .fxml file and I cant make controller or open it in SceneBuilder. JavaFX works normally.</p>\n<p><a href=\"https://i.stack.imgur.com/mivqT.png\" rel=\"nofollow noreferrer\">Expectation (other project groups)</a></p>\n<p><a href=\"https://i.stack.imgur.com/PmQXU.png\" rel=\"nofollow noreferrer\">Reality</a></p>\n<p>Netbeans works normally in other project groups.\nIt this project is same setup like in others.</p>\n<p>Can somebody tell what is wrong?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7670,"reputation":34993,"user_id":13379,"accept_rate":86,"display_name":"Michael"},"score":10,"creation_date":1322233700,"post_id":8270926,"comment_id":10181622,"body_markdown":"Uh oh!! You call nextLine twice!!","body":"Uh oh!! You call nextLine twice!!"},{"owner":{"account_id":166521,"reputation":30433,"user_id":390695,"accept_rate":72,"display_name":"Damian Leszczyński - Vash"},"score":1,"creation_date":1322233743,"post_id":8270926,"comment_id":10181630,"body_markdown":"What type is the fileReader ?","body":"What type is the fileReader ?"}],"answers":[{"tags":[],"owner":{"account_id":62077,"reputation":7848,"user_id":184646,"accept_rate":89,"display_name":"gotomanners"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1513527012,"creation_date":1322233673,"answer_id":8270964,"question_id":8270926,"body_markdown":"Each call to `nextLine()` moves onto the next line, so when you are actually at the last readable line and the `while` check passes inspection, the next call to `nextLine()` will return `EOF`.\r\n\r\n---\r\n\r\nPerhaps you could do one of the following instead:\r\n\r\nIf `fileReader` is of type `Scanner`:\r\n\r\n    while ((line = fileReader.hasNextLine()) != null) {\r\n        String line = fileReader.nextLine(); \r\n        System.out.println(line);\r\n    }\r\n\r\nIf `fileReader` is of type `BufferedReader`:\r\n\r\n    String line;\r\n    while ((line = fileReader.readLine()) != null) {\r\n        System.out.println(line);\r\n    }\r\n\r\nSo you&#39;re reading the current line in the while condition and saving the line in a string for later use. \r\n","title":"while EOF in JAVA?","body":"<p>Each call to <code>nextLine()</code> moves onto the next line, so when you are actually at the last readable line and the <code>while</code> check passes inspection, the next call to <code>nextLine()</code> will return <code>EOF</code>.</p>\n\n<hr>\n\n<p>Perhaps you could do one of the following instead:</p>\n\n<p>If <code>fileReader</code> is of type <code>Scanner</code>:</p>\n\n<pre><code>while ((line = fileReader.hasNextLine()) != null) {\n    String line = fileReader.nextLine(); \n    System.out.println(line);\n}\n</code></pre>\n\n<p>If <code>fileReader</code> is of type <code>BufferedReader</code>:</p>\n\n<pre><code>String line;\nwhile ((line = fileReader.readLine()) != null) {\n    System.out.println(line);\n}\n</code></pre>\n\n<p>So you're reading the current line in the while condition and saving the line in a string for later use. </p>\n"},{"tags":[],"owner":{"account_id":237956,"reputation":2108,"user_id":506517,"accept_rate":94,"display_name":"Trevor Arjeski"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1322233709,"creation_date":1322233709,"answer_id":8270969,"question_id":8270926,"body_markdown":"you should use `while (fileReader.hasNextLine())`","title":"while EOF in JAVA?","body":"<p>you should use <code>while (fileReader.hasNextLine())</code></p>\n"},{"tags":[],"owner":{"account_id":93590,"reputation":4891,"user_id":255971,"accept_rate":100,"display_name":"Mohamad Alhamoud"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1322233776,"creation_date":1322233776,"answer_id":8270983,"question_id":8270926,"body_markdown":"nextLine() will throw an exception when there&#39;s no line and it will never return null,you can try the Scanner Class instead : http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Scanner.html","title":"while EOF in JAVA?","body":"<p>nextLine() will throw an exception when there's no line and it will never return null,you can try the Scanner Class instead : <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Scanner.html\" rel=\"nofollow\">http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Scanner.html</a></p>\n"},{"tags":[],"owner":{"account_id":424658,"reputation":4445,"user_id":804773,"accept_rate":100,"display_name":"Grambot"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1322233806,"creation_date":1322233806,"answer_id":8270990,"question_id":8270926,"body_markdown":"The problem is that you&#39;re reading `nextLine()` on the while loop and THEN reading it to a variable. Not only are you getting every 2nd line printed out you&#39;re opening yourself to the exception being thrown. An example:\r\n\r\nFile:\r\n\r\n    Hello,\r\n    Blah blah blah,\r\n    Sincerely,\r\n    CapnStank\r\n    PS. Something something\r\n\r\nOn first iteration through the loop. The check on while will consume the &quot;Hello,&quot; as not equal to null. Inside the loop body you&#39;ll see `Blah blah blah,` printed to the System.\r\n\r\nThe process will repeat with Sincerely, being consumed and Capnstank printing out.\r\n\r\nFinally the while will consume the &quot;PS&quot; line while the `String line = fileReader.nextLine()` retreives an exception from the file because there&#39;s nothing further to read.\r\n\r\nTo resolve the issue:\r\n\r\n    String line = fileReader.nextLine();\r\n    \r\n    while (line != null) {\r\n      System.out.println(line);\r\n      line = fileReader.nextLine();\r\n    }\r\n\r\n","title":"while EOF in JAVA?","body":"<p>The problem is that you're reading <code>nextLine()</code> on the while loop and THEN reading it to a variable. Not only are you getting every 2nd line printed out you're opening yourself to the exception being thrown. An example:</p>\n\n<p>File:</p>\n\n<pre><code>Hello,\nBlah blah blah,\nSincerely,\nCapnStank\nPS. Something something\n</code></pre>\n\n<p>On first iteration through the loop. The check on while will consume the \"Hello,\" as not equal to null. Inside the loop body you'll see <code>Blah blah blah,</code> printed to the System.</p>\n\n<p>The process will repeat with Sincerely, being consumed and Capnstank printing out.</p>\n\n<p>Finally the while will consume the \"PS\" line while the <code>String line = fileReader.nextLine()</code> retreives an exception from the file because there's nothing further to read.</p>\n\n<p>To resolve the issue:</p>\n\n<pre><code>String line = fileReader.nextLine();\n\nwhile (line != null) {\n  System.out.println(line);\n  line = fileReader.nextLine();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":166521,"reputation":30433,"user_id":390695,"accept_rate":72,"display_name":"Damian Leszczyński - Vash"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1322233897,"creation_date":1322233897,"answer_id":8271007,"question_id":8270926,"body_markdown":"To read a file Scanner class is recommended. \r\n\r\n        Scanner scanner = new Scanner(new FileInputStream(fFileName), fEncoding);\r\n        try {\r\n          while (scanner.hasNextLine()){\r\n             System.out.println(scanner.nextLine());\r\n          }\r\n        }\r\n        finally{\r\n          scanner.close();\r\n        }","title":"while EOF in JAVA?","body":"<p>To read a file Scanner class is recommended. </p>\n\n<pre><code>    Scanner scanner = new Scanner(new FileInputStream(fFileName), fEncoding);\n    try {\n      while (scanner.hasNextLine()){\n         System.out.println(scanner.nextLine());\n      }\n    }\n    finally{\n      scanner.close();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":284516,"reputation":14349,"user_id":582675,"accept_rate":75,"display_name":"Fabian Barney"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1322235444,"creation_date":1322235444,"answer_id":8271275,"question_id":8270926,"body_markdown":"The others told you enough about your issue with multiple calls of `readLine()`.\r\n\r\nI just wanted to leave sth about code style:\r\nWhile you see this `line = ` assignement and `!= null` check together in one while condition in most examples (like @gotomanners example here) I prefer using a `for` for it.\r\n\r\nIt is much more readable in my opinion ...\r\n\r\n    for (String line = in.readLine(); line != null; line = in.readLine()) {\r\n        ...\r\n    }\r\n\r\nAnother nice way to write it you see in @TheCapn&#39;s example. But when you write it that way you easily see that&#39;s what a for-loop is made for.\r\n\r\nI do not like assignments scrambled with conditions in one line. It is bad style in my opinion. But because it is so MUCH popular for that special case here to do it that way I would not consider it really bad style. (But cannot understand who established this bad style to become that popular.)","title":"while EOF in JAVA?","body":"<p>The others told you enough about your issue with multiple calls of <code>readLine()</code>.</p>\n\n<p>I just wanted to leave sth about code style:\nWhile you see this <code>line =</code> assignement and <code>!= null</code> check together in one while condition in most examples (like @gotomanners example here) I prefer using a <code>for</code> for it.</p>\n\n<p>It is much more readable in my opinion ...</p>\n\n<pre><code>for (String line = in.readLine(); line != null; line = in.readLine()) {\n    ...\n}\n</code></pre>\n\n<p>Another nice way to write it you see in @TheCapn's example. But when you write it that way you easily see that's what a for-loop is made for.</p>\n\n<p>I do not like assignments scrambled with conditions in one line. It is bad style in my opinion. But because it is so MUCH popular for that special case here to do it that way I would not consider it really bad style. (But cannot understand who established this bad style to become that popular.)</p>\n"},{"tags":[],"owner":{"account_id":12448059,"reputation":1,"user_id":9063647,"display_name":"Paschal"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1512618490,"creation_date":1512587227,"answer_id":47681738,"question_id":8270926,"body_markdown":"    while(inFile.hasNext())\r\n\r\nThis is correct in java programming language\r\n","title":"while EOF in JAVA?","body":"<pre><code>while(inFile.hasNext())\n</code></pre>\n\n<p>This is correct in java programming language</p>\n"},{"tags":[],"owner":{"account_id":22503787,"reputation":1,"user_id":16699714,"display_name":"Ishraga Mustafa Awad Allam"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1632573552,"creation_date":1632573552,"answer_id":69326234,"question_id":8270926,"body_markdown":"    //By: Ishraga Mustafa Awad Allam\r\n\r\n    import java.io.*; \r\n    import java.io.BufferedReader;\r\n    import java.io.FileReader;\r\n    import java.io.IOException; \r\n  \r\n    public class B_C_Data {  \r\n        public static void main(String[] args) {  \r\n            try {\r\n\t\t\t// Create a file reader\r\n\t\t\t    FileInputStream fr = new   FileInputStream(args[0]);\r\n\t\t\t// Create a file output stream\r\n\t\t\t    DataInputStream dr = new DataInputStream(fr);\r\n            // Read and display data\r\n\t\t\t    while (dr.available() &gt; 0) {\r\n\t\t\t      System.out.println(dr.readDouble());\r\n\t\t\t    }\r\n\t\t\t// Close file input stream\r\n                dr.close();\t\t\t\r\n                }\r\n            catch(Exception e) {\r\n\t\t\t  System.out.println(&quot;Exception: &quot; + e);\r\n\t\t\t    }\r\n        }  \r\n    }  ","title":"while EOF in JAVA?","body":"<pre><code>//By: Ishraga Mustafa Awad Allam\n\nimport java.io.*; \nimport java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException; \n\npublic class B_C_Data {  \n    public static void main(String[] args) {  \n        try {\n        // Create a file reader\n            FileInputStream fr = new   FileInputStream(args[0]);\n        // Create a file output stream\n            DataInputStream dr = new DataInputStream(fr);\n        // Read and display data\n            while (dr.available() &gt; 0) {\n              System.out.println(dr.readDouble());\n            }\n        // Close file input stream\n            dr.close();         \n            }\n        catch(Exception e) {\n          System.out.println(&quot;Exception: &quot; + e);\n            }\n    }  \n}  \n</code></pre>\n"}],"owner":{"account_id":890176,"reputation":12487,"user_id":928611,"accept_rate":83,"display_name":"Jacek Kwiecień"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124050,"favorite_count":0,"down_vote_count":3,"up_vote_count":5,"accepted_answer_id":8270969,"answer_count":8,"score":2,"last_activity_date":1632573552,"creation_date":1322233509,"question_id":8270926,"body_markdown":"Following to some forums answers I&#39;m using this:\r\n\r\n        while (fileReader.nextLine() != null) {\r\n            String line = fileReader.nextLine();\r\n            System.out.println(line);\r\n        }  \r\n\r\n... but it throws exception at the end anyway\r\n(Exception in thread &quot;main&quot; java.util.NoSuchElementException: No line found)","title":"while EOF in JAVA?","body":"<p>Following to some forums answers I'm using this:</p>\n\n<pre><code>    while (fileReader.nextLine() != null) {\n        String line = fileReader.nextLine();\n        System.out.println(line);\n    }  \n</code></pre>\n\n<p>... but it throws exception at the end anyway\n(Exception in thread \"main\" java.util.NoSuchElementException: No line found)</p>\n"},{"tags":["java","google-app-engine"],"answers":[{"tags":[],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632572492,"creation_date":1632572492,"answer_id":69326094,"question_id":69325932,"body_markdown":"You can use BigQuery to select different points between 2 versions\r\n\r\nhttps://console.cloud.google.com/bigquery?p=bigquery-public-data&amp;d=google_cloud_release_notes&amp;t=release_notes&amp;page=table&amp;_ga=2.107183563.811335336.1632571946-1193389554.1631929347\r\n","title":"Where can I find Google App Engine API for Java release notes","body":"<p>You can use BigQuery to select different points between 2 versions</p>\n<p><a href=\"https://console.cloud.google.com/bigquery?p=bigquery-public-data&amp;d=google_cloud_release_notes&amp;t=release_notes&amp;page=table&amp;_ga=2.107183563.811335336.1632571946-1193389554.1631929347\" rel=\"nofollow noreferrer\">https://console.cloud.google.com/bigquery?p=bigquery-public-data&amp;d=google_cloud_release_notes&amp;t=release_notes&amp;page=table&amp;_ga=2.107183563.811335336.1632571946-1193389554.1631929347</a></p>\n"}],"owner":{"account_id":6467423,"reputation":121,"user_id":5008813,"accept_rate":86,"display_name":"Tim Cobra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632572492,"creation_date":1632571149,"question_id":69325932,"body_markdown":"I&#39;m running an old version of `appengine-api-1.0-sdk` (`1.9.54`) and want to upgrade to a newer version (1.9.90), but I can&#39;t find any list of changes from one version to the next. I would have expected a release note or something in the download, but it just points me to a general Java page for Appengine: [https://cloud.google.com/appengine/docs/java/release-notes][1]. This doesn&#39;t tell me what has changed from one version of the SDK to the next.\r\nThanks\r\nTim\r\n\r\n\r\n  [1]: https://cloud.google.com/appengine/docs/java/release-notes","title":"Where can I find Google App Engine API for Java release notes","body":"<p>I'm running an old version of <code>appengine-api-1.0-sdk</code> (<code>1.9.54</code>) and want to upgrade to a newer version (1.9.90), but I can't find any list of changes from one version to the next. I would have expected a release note or something in the download, but it just points me to a general Java page for Appengine: <a href=\"https://cloud.google.com/appengine/docs/java/release-notes\" rel=\"nofollow noreferrer\">https://cloud.google.com/appengine/docs/java/release-notes</a>. This doesn't tell me what has changed from one version of the SDK to the next.\nThanks\nTim</p>\n"},{"tags":["java","jdbc","derby"],"comments":[{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1454315934,"post_id":3816015,"comment_id":57972116,"body_markdown":"Possible duplicate of [The infamous java.sql.SQLException: No suitable driver found](http://stackoverflow.com/questions/1911253/the-infamous-java-sql-sqlexception-no-suitable-driver-found)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/1911253/the-infamous-java-sql-sqlexception-no-suitable-driver-found\">The infamous java.sql.SQLException: No suitable driver found</a>"}],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1285725791,"creation_date":1285699886,"answer_id":3816050,"question_id":3816015,"body_markdown":"The JDBC `DriverManager` can&#39;t find any suitable `Driver` for the given connection URL. Either the JDBC driver isn&#39;t loaded at all before connecting the DB, or the connection URL is wrong. Since the connection URL looks fine, I bet that the driver isn&#39;t loaded at all. You need to load the driver during application&#39;s startup before connecting the DB. For Apache Derby, the driver class name is `org.apache.derby.jdbc.ClientDriver`. So:\r\n\r\n    Class.forName(&quot;org.apache.derby.jdbc.ClientDriver&quot;);\r\n","title":"SQLException: No suitable driver found for jdbc:derby://localhost:1527","body":"<p>The JDBC <code>DriverManager</code> can't find any suitable <code>Driver</code> for the given connection URL. Either the JDBC driver isn't loaded at all before connecting the DB, or the connection URL is wrong. Since the connection URL looks fine, I bet that the driver isn't loaded at all. You need to load the driver during application's startup before connecting the DB. For Apache Derby, the driver class name is <code>org.apache.derby.jdbc.ClientDriver</code>. So:</p>\n\n<pre><code>Class.forName(\"org.apache.derby.jdbc.ClientDriver\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1285779009,"creation_date":1285724396,"answer_id":3818210,"question_id":3816015,"body_markdown":"&gt; java.sql.SQLException: No suitable driver found for jdbc:derby://localhost:1527/\r\n\r\nThis exception has two causes:\r\n\r\n- The driver is not loaded.\r\n- The JDBC URL is malformed.\r\n\r\nIn your case, I&#39;d expect to see a **database name** at the end of the connection string. For example (use `create=true` if you want the database to be created if it doesn&#39;t exist):\r\n\r\n    jdbc:derby://localhost:1527/dbname;create=true\r\n\r\nDatabases are created by default in the directory where the Network Server was started up. But you can also specify an absolute path to the database location:\r\n\r\n    jdbc:derby://localhost:1527//home/pascal/derbyDBs/dbname;create=true\r\n\r\nAnd just in case, check that **derbyclient.jar** is on the class path and that you are loading the appropriate driver `org.apache.derby.jdbc.ClientDriver` when working in server mode.","title":"SQLException: No suitable driver found for jdbc:derby://localhost:1527","body":"<blockquote>\n  <p>java.sql.SQLException: No suitable driver found for jdbc:derby://localhost:1527/</p>\n</blockquote>\n\n<p>This exception has two causes:</p>\n\n<ul>\n<li>The driver is not loaded.</li>\n<li>The JDBC URL is malformed.</li>\n</ul>\n\n<p>In your case, I'd expect to see a <strong>database name</strong> at the end of the connection string. For example (use <code>create=true</code> if you want the database to be created if it doesn't exist):</p>\n\n<pre><code>jdbc:derby://localhost:1527/dbname;create=true\n</code></pre>\n\n<p>Databases are created by default in the directory where the Network Server was started up. But you can also specify an absolute path to the database location:</p>\n\n<pre><code>jdbc:derby://localhost:1527//home/pascal/derbyDBs/dbname;create=true\n</code></pre>\n\n<p>And just in case, check that <strong>derbyclient.jar</strong> is on the class path and that you are loading the appropriate driver <code>org.apache.derby.jdbc.ClientDriver</code> when working in server mode.</p>\n"},{"tags":[],"owner":{"account_id":260039,"reputation":6377,"user_id":543362,"accept_rate":82,"display_name":"chance"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1305026873,"creation_date":1305026873,"answer_id":5949317,"question_id":3816015,"body_markdown":"It&#39;s also possible that in persistence.xml, EmbeddedDriver was used while the jdbc url was pointing to Derby server. In this case just change the url to pointing a path of database.","title":"SQLException: No suitable driver found for jdbc:derby://localhost:1527","body":"<p>It's also possible that in persistence.xml, EmbeddedDriver was used while the jdbc url was pointing to Derby server. In this case just change the url to pointing a path of database.</p>\n"},{"tags":[],"owner":{"account_id":10893,"reputation":48802,"user_id":20774,"accept_rate":92,"display_name":"James McMahon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1311176120,"creation_date":1311176120,"answer_id":6764535,"question_id":3816015,"body_markdown":"If your using embedded Derby you need Derby.jar in your classpath.","title":"SQLException: No suitable driver found for jdbc:derby://localhost:1527","body":"<p>If your using embedded Derby you need Derby.jar in your classpath.</p>\n"},{"tags":[],"owner":{"account_id":1235494,"reputation":1624,"user_id":1199155,"display_name":"Bruno Eberhard"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1328776061,"creation_date":1328776061,"answer_id":9207501,"question_id":3816015,"body_markdown":"For me\r\n\r\n    DriverManager.registerDriver(new org.apache.derby.jdbc.EmbeddedDriver());\r\n\r\nhelped. In this way, the DriveManager does know the derby EmbeddedDriver. Maybe allocating a new EmbeddedDriver is to heavy but on the other side, Class.forName needs try/catch/doSomethingIntelligentWithException that I dont like very much.","title":"SQLException: No suitable driver found for jdbc:derby://localhost:1527","body":"<p>For me</p>\n\n<pre><code>DriverManager.registerDriver(new org.apache.derby.jdbc.EmbeddedDriver());\n</code></pre>\n\n<p>helped. In this way, the DriveManager does know the derby EmbeddedDriver. Maybe allocating a new EmbeddedDriver is to heavy but on the other side, Class.forName needs try/catch/doSomethingIntelligentWithException that I dont like very much.</p>\n"},{"tags":[],"owner":{"account_id":1488688,"reputation":11,"user_id":1396339,"display_name":"csejay"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1337089850,"creation_date":1337089850,"answer_id":10602203,"question_id":3816015,"body_markdown":"if the database is created and you have started the connection to the, then al you need is to add the driver jar. from the project window, right click on the libraries folder, goto c:programsfiles\\sun\\javadb\\lib\\derbyclient.jar. load the file and you should be able to run.\r\n\r\nall the best","title":"SQLException: No suitable driver found for jdbc:derby://localhost:1527","body":"<p>if the database is created and you have started the connection to the, then al you need is to add the driver jar. from the project window, right click on the libraries folder, goto c:programsfiles\\sun\\javadb\\lib\\derbyclient.jar. load the file and you should be able to run.</p>\n\n<p>all the best</p>\n"},{"tags":[],"owner":{"account_id":1491034,"reputation":123,"user_id":1398114,"display_name":"CounterSpell"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1345385426,"creation_date":1345385426,"answer_id":12027135,"question_id":3816015,"body_markdown":"I had the same problem when I was writing Java application on Netbeans.Here is the solution:\r\n\r\n1. Find your project in projects selection tab\r\n\r\n2. Right click &quot;Libraries&quot; \r\n\r\n3. Click &quot;Add JAR/Folder...&quot;\r\n\r\n4. Choose &quot;derbyclient.jar&quot;\r\n\r\n5. Click &quot;Open&quot;, then you will see &quot;derbyclient.jar&quot; under your &quot;Libraries&quot;\r\n\r\n6. Make sure your URL, user name, pass word is correct, and run your code:)","title":"SQLException: No suitable driver found for jdbc:derby://localhost:1527","body":"<p>I had the same problem when I was writing Java application on Netbeans.Here is the solution:</p>\n\n<ol>\n<li><p>Find your project in projects selection tab</p></li>\n<li><p>Right click \"Libraries\" </p></li>\n<li><p>Click \"Add JAR/Folder...\"</p></li>\n<li><p>Choose \"derbyclient.jar\"</p></li>\n<li><p>Click \"Open\", then you will see \"derbyclient.jar\" under your \"Libraries\"</p></li>\n<li><p>Make sure your URL, user name, pass word is correct, and run your code:)</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":458362,"reputation":248,"user_id":858207,"accept_rate":56,"display_name":"Devy"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1348755302,"creation_date":1348738048,"answer_id":12618195,"question_id":3816015,"body_markdown":"Notice: you can download it from [here][1].\r\n\r\nIf you can&#39;t find it, then \r\n\r\n\r\n\r\n   1. Find your project in projects selection tab\r\n\r\n   2. Right click &quot;Libraries&quot;\r\n\r\n   3. Click &quot;Add JAR/Folder...&quot;\r\n\r\n   4. Choose &quot;derbyclient.jar&quot;\r\n\r\n   5. Click &quot;Open&quot;, then you will see &quot;derbyclient.jar&quot; under your &quot;Libraries&quot;\r\n\r\nMake sure your URL, user name, password is correct, and run your code:)\r\n\r\n\r\n  [1]: http://db.apache.org/derby/derby_downloads.html","title":"SQLException: No suitable driver found for jdbc:derby://localhost:1527","body":"<p>Notice: you can download it from <a href=\"http://db.apache.org/derby/derby_downloads.html\">here</a>.</p>\n\n<p>If you can't find it, then </p>\n\n<ol>\n<li><p>Find your project in projects selection tab</p></li>\n<li><p>Right click \"Libraries\"</p></li>\n<li><p>Click \"Add JAR/Folder...\"</p></li>\n<li><p>Choose \"derbyclient.jar\"</p></li>\n<li><p>Click \"Open\", then you will see \"derbyclient.jar\" under your \"Libraries\"</p></li>\n</ol>\n\n<p>Make sure your URL, user name, password is correct, and run your code:)</p>\n"},{"tags":[],"owner":{"account_id":231122,"reputation":177,"user_id":495167,"display_name":"lemic"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1387066308,"creation_date":1387066308,"answer_id":20589785,"question_id":3816015,"body_markdown":"The question is answered but providing a command line for illustration. This worked for me when I was trying a as simple as possible test to connect to network mode derby.\r\n\r\n - Driver loaded in app with:Class.forName(&quot;org.apache.derby.jdbc.ClientDriver&quot;).newInstance();\r\n\r\n - The connection URL was: &quot;jdbc:derby://localhost:1527/myDB;create=true&quot;\t\t\t\r\n\r\n - I ran my app using:   java -classpath derbyclient.jar:. myAppClass\r\n\r\n\r\n","title":"SQLException: No suitable driver found for jdbc:derby://localhost:1527","body":"<p>The question is answered but providing a command line for illustration. This worked for me when I was trying a as simple as possible test to connect to network mode derby.</p>\n\n<ul>\n<li><p>Driver loaded in app with:Class.forName(\"org.apache.derby.jdbc.ClientDriver\").newInstance();</p></li>\n<li><p>The connection URL was: \"jdbc:derby://localhost:1527/myDB;create=true\"           </p></li>\n<li><p>I ran my app using:   java -classpath derbyclient.jar:. myAppClass</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1297943,"reputation":1074,"user_id":1641873,"display_name":"dafilipaj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1399767847,"creation_date":1399767847,"answer_id":23587693,"question_id":3816015,"body_markdown":"I tried everything mentioned in this thread and only .registerDriver() worked for me. This is how my part of code looks now:\r\n\r\n    DriverManager.registerDriver(new org.apache.derby.jdbc.ClientDriver());\r\n    connection = DriverManager.getConnection(url, user, pass);\r\n\r\nNotice that the problem wasn&#39;t in embedded Derby.\r\n","title":"SQLException: No suitable driver found for jdbc:derby://localhost:1527","body":"<p>I tried everything mentioned in this thread and only .registerDriver() worked for me. This is how my part of code looks now:</p>\n\n<pre><code>DriverManager.registerDriver(new org.apache.derby.jdbc.ClientDriver());\nconnection = DriverManager.getConnection(url, user, pass);\n</code></pre>\n\n<p>Notice that the problem wasn't in embedded Derby.</p>\n"},{"tags":[],"owner":{"account_id":4695988,"reputation":29,"user_id":3800844,"display_name":"Mohamed Bawaneen"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1404378662,"creation_date":1404376786,"answer_id":24548895,"question_id":3816015,"body_markdown":"I solved this by adding library to the library console below my project:\r\n\r\n* Right click and then add library\r\n* add JAVA DB DRIVER.\r\n\r\nMy project is working !","title":"SQLException: No suitable driver found for jdbc:derby://localhost:1527","body":"<p>I solved this by adding library to the library console below my project:</p>\n\n<ul>\n<li>Right click and then add library</li>\n<li>add JAVA DB DRIVER.</li>\n</ul>\n\n<p>My project is working !</p>\n"},{"tags":[],"owner":{"account_id":27455,"reputation":1377,"user_id":72510,"accept_rate":96,"display_name":"ntombela"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1407392726,"creation_date":1407392726,"answer_id":25175543,"question_id":3816015,"body_markdown":"You can also get the same error if the Java DB server has not been started.","title":"SQLException: No suitable driver found for jdbc:derby://localhost:1527","body":"<p>You can also get the same error if the Java DB server has not been started.</p>\n"},{"tags":[],"owner":{"account_id":6699975,"reputation":5536,"user_id":5166818,"display_name":"Amit Kaneria"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1449513866,"creation_date":1449513866,"answer_id":34140852,"question_id":3816015,"body_markdown":"I was facing the same issue. I was missing DriverManager.registerDriver() call, before getting the connection using the connection URL and user credentials.\r\n\r\nIt got fixed on Linux as below:\r\n\r\n    DriverManager.registerDriver(new org.apache.derby.jdbc.ClientDriver());\r\n    connection = DriverManager.getConnection(&quot;jdbc:derby://localhost:1527//tmp/Test/DB_Name&quot;, user, pass);\r\n\r\nFor Windows:\r\n\r\n    DriverManager.registerDriver(new org.apache.derby.jdbc.ClientDriver());\r\n    connection = DriverManager.getConnection(&quot;jdbc:derby://localhost:1527/C:/Users/Test/DB_Name&quot;, user, pass);","title":"SQLException: No suitable driver found for jdbc:derby://localhost:1527","body":"<p>I was facing the same issue. I was missing DriverManager.registerDriver() call, before getting the connection using the connection URL and user credentials.</p>\n\n<p>It got fixed on Linux as below:</p>\n\n<pre><code>DriverManager.registerDriver(new org.apache.derby.jdbc.ClientDriver());\nconnection = DriverManager.getConnection(\"jdbc:derby://localhost:1527//tmp/Test/DB_Name\", user, pass);\n</code></pre>\n\n<p>For Windows:</p>\n\n<pre><code>DriverManager.registerDriver(new org.apache.derby.jdbc.ClientDriver());\nconnection = DriverManager.getConnection(\"jdbc:derby://localhost:1527/C:/Users/Test/DB_Name\", user, pass);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6699975,"reputation":5536,"user_id":5166818,"display_name":"Amit Kaneria"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1452024845,"creation_date":1452024845,"answer_id":34620440,"question_id":3816015,"body_markdown":"You may be missing to start the Derby server.\r\nOnce a derby server starts, it starts listening to default port 1527.\r\n\r\nStart script is located as below:\r\n\r\nWindows:\r\n\r\n        &lt;DERBY_INSTALLATION_DIRECTORY&gt;/bin/startNetworkServer.bat\r\n\r\nLinux:\r\n\r\n        &lt;DERBY_INSTALLATION_DIRECTORY&gt;/bin/startNetworkServer\r\n","title":"SQLException: No suitable driver found for jdbc:derby://localhost:1527","body":"<p>You may be missing to start the Derby server.\nOnce a derby server starts, it starts listening to default port 1527.</p>\n\n<p>Start script is located as below:</p>\n\n<p>Windows:</p>\n\n<pre><code>    &lt;DERBY_INSTALLATION_DIRECTORY&gt;/bin/startNetworkServer.bat\n</code></pre>\n\n<p>Linux:</p>\n\n<pre><code>    &lt;DERBY_INSTALLATION_DIRECTORY&gt;/bin/startNetworkServer\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10592336,"reputation":31,"user_id":7802444,"display_name":"subho"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491085597,"creation_date":1491069106,"answer_id":43160160,"question_id":3816015,"body_markdown":"This error occurs when the syntax of connection string is not valid.\r\n\r\nYou can use the connection string as \r\n\r\n    &#39;jdbc:derby:MyDbTest;create=true&#39;\r\n\r\nor\r\n\r\nyou can use the following command in the command prompt, the command below creates a new database called `MyDbTest` succesfully:\r\n\r\n    connect &#39;jdbc:derby:MyDbTest;create=true&#39;;\r\n\r\n","title":"SQLException: No suitable driver found for jdbc:derby://localhost:1527","body":"<p>This error occurs when the syntax of connection string is not valid.</p>\n\n<p>You can use the connection string as </p>\n\n<pre><code>'jdbc:derby:MyDbTest;create=true'\n</code></pre>\n\n<p>or</p>\n\n<p>you can use the following command in the command prompt, the command below creates a new database called <code>MyDbTest</code> succesfully:</p>\n\n<pre><code>connect 'jdbc:derby:MyDbTest;create=true';\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2892203,"reputation":103,"user_id":2480721,"display_name":"peterong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496956379,"creation_date":1496956379,"answer_id":44445645,"question_id":3816015,"body_markdown":"I just bumped into this problem, tried all above suggestions but still failed. Without repeat what have been suggested above, here are the things I (you) may be missing:\r\nIn case you are using maven, likely you&#39;ll state the dependencies i.e:\r\n\r\n    &lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\r\n    &lt;artifactId&gt;derbyclient&lt;/artifactId&gt;\r\n    &lt;version&gt;10.10.1.1&lt;/version&gt;\r\n\r\nPlease be careful with the version. It must be compatible with the server instance you are running.\r\n\r\nI solved my case by giving up on what maven dependencies provided and manually adding external jar from &quot;%JAVA_HOME%\\db\\lib&quot;, the same source of my running server. In this case I&#39;m testing using my Local.\r\n\r\nSo if you&#39;re testing with remote server instance, look for the derbyclient.jar that come with server package.\r\n","title":"SQLException: No suitable driver found for jdbc:derby://localhost:1527","body":"<p>I just bumped into this problem, tried all above suggestions but still failed. Without repeat what have been suggested above, here are the things I (you) may be missing:\nIn case you are using maven, likely you'll state the dependencies i.e:</p>\n\n<pre><code>&lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\n&lt;artifactId&gt;derbyclient&lt;/artifactId&gt;\n&lt;version&gt;10.10.1.1&lt;/version&gt;\n</code></pre>\n\n<p>Please be careful with the version. It must be compatible with the server instance you are running.</p>\n\n<p>I solved my case by giving up on what maven dependencies provided and manually adding external jar from \"%JAVA_HOME%\\db\\lib\", the same source of my running server. In this case I'm testing using my Local.</p>\n\n<p>So if you're testing with remote server instance, look for the derbyclient.jar that come with server package.</p>\n"},{"tags":[],"owner":{"account_id":9423163,"reputation":115,"user_id":7009011,"accept_rate":0,"display_name":"Ayush Shridhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594121295,"creation_date":1594121295,"answer_id":62774260,"question_id":3816015,"body_markdown":"Encountered the same problem. I was doing something like:\r\n\r\n`connect &#39;jdbc:derby://localhost:1527/~/databases/db1&#39;`\r\n\r\nReplacing the path with the absolute path fixed this problem:\r\n\r\n`connect &#39;jdbc:derby://localhost:1527//Users/ayush99/databases/db1&#39;`.\r\n\r\nIn summary: Avoid using `~` or any such variables in the path of existing database.","title":"SQLException: No suitable driver found for jdbc:derby://localhost:1527","body":"<p>Encountered the same problem. I was doing something like:</p>\n<p><code>connect 'jdbc:derby://localhost:1527/~/databases/db1'</code></p>\n<p>Replacing the path with the absolute path fixed this problem:</p>\n<p><code>connect 'jdbc:derby://localhost:1527//Users/ayush99/databases/db1'</code>.</p>\n<p>In summary: Avoid using <code>~</code> or any such variables in the path of existing database.</p>\n"},{"tags":[],"owner":{"account_id":10370677,"reputation":326,"user_id":7648461,"display_name":"Khamaseen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602775307,"creation_date":1602773252,"answer_id":64374194,"question_id":3816015,"body_markdown":"Had the same, and it was solved by running with the classpath defining the derby.jar location. \r\n\r\n`java -cp &lt;path-to-derby.jar&gt; &lt;Program&gt;`\r\n\r\nTo be more precise:\r\n\r\n`java -cp &quot;lib/*:.&quot; Program`\r\n\r\nWhere `:.` includes the current directory. And the `lib/*` does **not** include the *jar* extension (`lib/*.jar`).  ","title":"SQLException: No suitable driver found for jdbc:derby://localhost:1527","body":"<p>Had the same, and it was solved by running with the classpath defining the derby.jar location.</p>\n<p><code>java -cp &lt;path-to-derby.jar&gt; &lt;Program&gt;</code></p>\n<p>To be more precise:</p>\n<p><code>java -cp &quot;lib/*:.&quot; Program</code></p>\n<p>Where <code>:.</code> includes the current directory. And the <code>lib/*</code> does <strong>not</strong> include the <em>jar</em> extension (<code>lib/*.jar</code>).</p>\n"},{"tags":[],"owner":{"account_id":4969236,"reputation":318,"user_id":3997609,"display_name":"Roman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632570638,"creation_date":1632570638,"answer_id":69325872,"question_id":3816015,"body_markdown":"I used the above answers and nothing worked. What worked for me was to put the dependencies into the project, like its said above. \r\n\r\nThen go in the dependencies folder, right click on the dependencies derbyshared.jar and derbyclient.jar and &quot;add local sources&quot;. Connect the two dependencies with the local jar files in your derby folder and its done. Maybe only a Netbeans problem \r\n ","title":"SQLException: No suitable driver found for jdbc:derby://localhost:1527","body":"<p>I used the above answers and nothing worked. What worked for me was to put the dependencies into the project, like its said above.</p>\n<p>Then go in the dependencies folder, right click on the dependencies derbyshared.jar and derbyclient.jar and &quot;add local sources&quot;. Connect the two dependencies with the local jar files in your derby folder and its done. Maybe only a Netbeans problem</p>\n"}],"owner":{"account_id":654548,"reputation":311,"user_id":460978,"display_name":"Ganesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155114,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"answer_count":19,"score":31,"last_activity_date":1632570638,"creation_date":1285699565,"question_id":3816015,"body_markdown":"I get this error in Netbeans:\r\n\r\n    java.sql.SQLException: No suitable driver found for jdbc:derby://localhost:1527/\r\n\r\nHow is this caused and how can I solve it?\r\n\r\n","title":"SQLException: No suitable driver found for jdbc:derby://localhost:1527","body":"<p>I get this error in Netbeans:</p>\n\n<pre><code>java.sql.SQLException: No suitable driver found for jdbc:derby://localhost:1527/\n</code></pre>\n\n<p>How is this caused and how can I solve it?</p>\n"},{"tags":["java","spring-boot","junit","mockito","mutation-testing"],"comments":[{"owner":{"account_id":321412,"reputation":5968,"user_id":640224,"accept_rate":71,"display_name":"henry"},"score":0,"creation_date":1631199222,"post_id":69103332,"comment_id":122163829,"body_markdown":"Where does `validator1` come from? If anything needs mocking here, it is this object.","body":"Where does <code>validator1</code> come from? If anything needs mocking here, it is this object."},{"owner":{"account_id":1131348,"reputation":1118,"user_id":1117347,"accept_rate":65,"display_name":"mevada.yogesh"},"score":0,"creation_date":1631200162,"post_id":69103332,"comment_id":122164300,"body_markdown":"validator1 is some another service whose method isvalidate.","body":"validator1 is some another service whose method isvalidate."}],"answers":[{"tags":[],"owner":{"account_id":321412,"reputation":5968,"user_id":640224,"accept_rate":71,"display_name":"henry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631203721,"creation_date":1631203721,"answer_id":69121525,"question_id":69103332,"body_markdown":"The flow of this method is determined by this line\r\n\r\n```\r\n String response = validator1.validate(obj, validationResponse);\r\n```\r\n\r\nIf you want to excercise both branches of the following if statment you need to control the modification that `validator1` makes to the validationResponse object.\r\n\r\nThis can be done in two ways.\r\n\r\nIf your test can inject the instance of `validator1` (eg via the code under tests constructor) then you can fake it.\r\n\r\nThis is probably easiest to do with a hand coded implementation rather than a mocking framework. \r\n\r\neg\r\n\r\n```java\r\nclass AlwaysInvalid implements WhateverTheTypeOfValidator1Is {\r\n    void validate(Object unused, ValidationResponse response) {\r\n       response.setInvalidOrWhatever();\r\n    }\r\n}\r\n```\r\n\r\nAlternatively you can use a real collaborator, in which case your tests needs to ensure that objects are passed into `someMethod` that result in both valid and invalid responses. ","title":"How to mock local object property which is been set in another method","body":"<p>The flow of this method is determined by this line</p>\n<pre><code> String response = validator1.validate(obj, validationResponse);\n</code></pre>\n<p>If you want to excercise both branches of the following if statment you need to control the modification that <code>validator1</code> makes to the validationResponse object.</p>\n<p>This can be done in two ways.</p>\n<p>If your test can inject the instance of <code>validator1</code> (eg via the code under tests constructor) then you can fake it.</p>\n<p>This is probably easiest to do with a hand coded implementation rather than a mocking framework.</p>\n<p>eg</p>\n<pre class=\"lang-java prettyprint-override\"><code>class AlwaysInvalid implements WhateverTheTypeOfValidator1Is {\n    void validate(Object unused, ValidationResponse response) {\n       response.setInvalidOrWhatever();\n    }\n}\n</code></pre>\n<p>Alternatively you can use a real collaborator, in which case your tests needs to ensure that objects are passed into <code>someMethod</code> that result in both valid and invalid responses.</p>\n"},{"tags":[],"owner":{"account_id":1131348,"reputation":1118,"user_id":1117347,"accept_rate":65,"display_name":"mevada.yogesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632569819,"creation_date":1632569819,"answer_id":69325773,"question_id":69103332,"body_markdown":"I got the solution to this problem from one of my teammate. It is as below\r\n\r\n\r\n    Mockito.doNothing(invocation -&gt;\r\n    {\r\n        ValidationResponse validationResponse = invocation.getArgument(0);\r\n        validationResponse.setValida(true);//Set value true or false based on the mock test case scenario.\r\n        return null;\r\n    })\r\n    .when(validatorService)\r\n    .validate(obj, validationResponse));\r\n\r\nThis mocks the value of the validation response property.","title":"How to mock local object property which is been set in another method","body":"<p>I got the solution to this problem from one of my teammate. It is as below</p>\n<pre><code>Mockito.doNothing(invocation -&gt;\n{\n    ValidationResponse validationResponse = invocation.getArgument(0);\n    validationResponse.setValida(true);//Set value true or false based on the mock test case scenario.\n    return null;\n})\n.when(validatorService)\n.validate(obj, validationResponse));\n</code></pre>\n<p>This mocks the value of the validation response property.</p>\n"}],"owner":{"account_id":1131348,"reputation":1118,"user_id":1117347,"accept_rate":65,"display_name":"mevada.yogesh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":881,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69325773,"answer_count":2,"score":1,"last_activity_date":1632569947,"creation_date":1631104902,"question_id":69103332,"body_markdown":"I have similar to below code in my application.\r\n\r\n    public String someMethod(final Object obj) {\r\n    \tfinal ValidationResponse validationResponse = new ValidationResponse();\r\n    \tString responseMessage = validatorService.validate(obj, validationResponse);\r\n    \tif(validationResponse.isValid()) {\r\n    \t\t//Positive flow\r\n    \t}\r\n    \telse {\r\n    \t\t//Negative flow\r\n    \t}\r\n    \treturn responseMessage;\r\n    }\r\n\r\nI am writing JUnit test cases to generate Mutation&#39;s report. As the object **validationResponse** is used which is a local object created in the flow. Mockito is unable to get &amp; return desired value for **isValid**. Due to this I am unable to cover the test cases for the **Positive flow**.\r\n\r\nHow this could be achieved? Any lead is very much appreciated.","title":"How to mock local object property which is been set in another method","body":"<p>I have similar to below code in my application.</p>\n<pre><code>public String someMethod(final Object obj) {\n    final ValidationResponse validationResponse = new ValidationResponse();\n    String responseMessage = validatorService.validate(obj, validationResponse);\n    if(validationResponse.isValid()) {\n        //Positive flow\n    }\n    else {\n        //Negative flow\n    }\n    return responseMessage;\n}\n</code></pre>\n<p>I am writing JUnit test cases to generate Mutation's report. As the object <strong>validationResponse</strong> is used which is a local object created in the flow. Mockito is unable to get &amp; return desired value for <strong>isValid</strong>. Due to this I am unable to cover the test cases for the <strong>Positive flow</strong>.</p>\n<p>How this could be achieved? Any lead is very much appreciated.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14320275,"reputation":1315,"user_id":10343888,"display_name":"fatih"},"score":0,"creation_date":1632565981,"post_id":69325208,"comment_id":122530868,"body_markdown":"Are you committing the data you write to the database?","body":"Are you committing the data you write to the database?"},{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1632569603,"post_id":69325208,"comment_id":122531566,"body_markdown":"Is there a specific reason you think the database might not have been written to after the loop finishes?","body":"Is there a specific reason you think the database might not have been written to after the loop finishes?"},{"owner":{"account_id":8707591,"reputation":2229,"user_id":6514989,"accept_rate":81,"display_name":"nail fei"},"score":0,"creation_date":1632575201,"post_id":69325208,"comment_id":122532862,"body_markdown":"I dont know whether the call API will be execute first due to  instruction re-order. In this circumstances, they for-loop maybe not executed when service B read database. @kaya3","body":"I dont know whether the call API will be execute first due to  instruction re-order. In this circumstances, they for-loop maybe not executed when service B read database. @kaya3"}],"answers":[{"tags":[],"owner":{"account_id":15664997,"reputation":340,"user_id":11302953,"display_name":"chachay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632569899,"creation_date":1632569412,"answer_id":69325715,"question_id":69325208,"body_markdown":"it is safe.\r\nfrom jsr133: http://www.cs.umd.edu/~pugh/java/memoryModel/jsr133.pdf\r\n&gt; Happens-Before Relationship Two actions can be ordered by a happens-before relationship.\r\nIf one action happens-before another, then the first is visible to and ordered before the second.\r\n\r\n&gt; Each action in a thread happens-before every subsequent action in that thread","title":"is this code safe base on happen-first principle","body":"<p>it is safe.\nfrom jsr133: <a href=\"http://www.cs.umd.edu/%7Epugh/java/memoryModel/jsr133.pdf\" rel=\"nofollow noreferrer\">http://www.cs.umd.edu/~pugh/java/memoryModel/jsr133.pdf</a></p>\n<blockquote>\n<p>Happens-Before Relationship Two actions can be ordered by a happens-before relationship.\nIf one action happens-before another, then the first is visible to and ordered before the second.</p>\n</blockquote>\n<blockquote>\n<p>Each action in a thread happens-before every subsequent action in that thread</p>\n</blockquote>\n"}],"owner":{"account_id":8707591,"reputation":2229,"user_id":6514989,"accept_rate":81,"display_name":"nail fei"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1632569899,"creation_date":1632565292,"question_id":69325208,"body_markdown":"The sample as below: I have two services called A, B. And service A will write database and after that it will call API of service B. Then service B will can consumer database that has been written by service A.\r\n\r\ncode sample as below:\r\n\r\n```json\r\n    //service A\r\n    public void writeDbAndNotifyServiceB() {\r\n        // will need much time to write database\r\n        for (int i = 0; i &lt; 100000000; i++) {\r\n            // write db A\r\n        }\r\n        // ddb write finished, call serviceB\r\n        B.readDbWhichServiceAWrite();\r\n    }\r\n```\r\n\r\n```\r\n    // API of service B\r\n    public void readDbWhichServiceAWrite() {\r\n        //read db A\r\n    }\r\n```\r\n\r\nAfter I learn something about **instruction re-order**, I have a concern that whether it is possible that \r\n```\r\n        B.readDbWhichServiceAWrite();\r\n```\r\nwas executed before write db operation and then Service B cant read anything from database. \r\n\r\nAnd if this case maybe exist, what is the correct solution?\r\n\r\nreally appreciate if you can give any advice.\r\n\r\n","title":"is this code safe base on happen-first principle","body":"<p>The sample as below: I have two services called A, B. And service A will write database and after that it will call API of service B. Then service B will can consumer database that has been written by service A.</p>\n<p>code sample as below:</p>\n<pre class=\"lang-json prettyprint-override\"><code>    //service A\n    public void writeDbAndNotifyServiceB() {\n        // will need much time to write database\n        for (int i = 0; i &lt; 100000000; i++) {\n            // write db A\n        }\n        // ddb write finished, call serviceB\n        B.readDbWhichServiceAWrite();\n    }\n</code></pre>\n<pre><code>    // API of service B\n    public void readDbWhichServiceAWrite() {\n        //read db A\n    }\n</code></pre>\n<p>After I learn something about <strong>instruction re-order</strong>, I have a concern that whether it is possible that</p>\n<pre><code>        B.readDbWhichServiceAWrite();\n</code></pre>\n<p>was executed before write db operation and then Service B cant read anything from database.</p>\n<p>And if this case maybe exist, what is the correct solution?</p>\n<p>really appreciate if you can give any advice.</p>\n"},{"tags":["java","collections"],"answers":[{"tags":[],"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1581575996,"creation_date":1581573125,"answer_id":60201254,"question_id":60201167,"body_markdown":"Don&#39;t iterate and `removeIf` using elements of your iteration. Beside the problem you&#39;re experiencing right now, those calls amount to iterating through the entire collection for each element of the collection (so you&#39;re still removing from the collection while iterating, which explains the exception!). \r\n\r\n`removeIf` iterates for you, so all you need is a predicate of `SomeObject`:\r\n\r\n    //no loop\r\n    someObjectSet.removeIf(ele -&gt; if ele satisfies some condition);\r\n\r\nWhere `ele -&gt; if ele satisfies some condition` is the condition that *each `SomeObject` element will be tested against* (the ones passing the test will be removed). `forEach` will orchestrate the test on all elements in `someObjectSet`, you don&#39;t need to do that.\r\n\r\n---\r\n\r\nIf you&#39;re having a secondary condition based on which you want to remove elements, then you can compose predicates (with `or`), something like in this example:\r\n\r\n\tSet&lt;Integer&gt; set = new HashSet&lt;&gt;(Set.of(1, 2, 3, 4, 5, 6, 7, 8, 9));\r\n\r\n\tPredicate&lt;Integer&gt; predicate = s -&gt; s % 2 == 0;\r\n\tPredicate&lt;Integer&gt; predicate2 = predicate.or(s -&gt; s % 3 == 0);\r\n\tset.removeIf(predicate2);\r\n\r\n    // Test with set.removeIf(predicate);\r\n    // then with set.removeIf(predicate2);\r\n    // and compare results","title":"Removing elements while iterating. removeIf result in ConcurrentModificationException","body":"<p>Don't iterate and <code>removeIf</code> using elements of your iteration. Beside the problem you're experiencing right now, those calls amount to iterating through the entire collection for each element of the collection (so you're still removing from the collection while iterating, which explains the exception!). </p>\n\n<p><code>removeIf</code> iterates for you, so all you need is a predicate of <code>SomeObject</code>:</p>\n\n<pre><code>//no loop\nsomeObjectSet.removeIf(ele -&gt; if ele satisfies some condition);\n</code></pre>\n\n<p>Where <code>ele -&gt; if ele satisfies some condition</code> is the condition that <em>each <code>SomeObject</code> element will be tested against</em> (the ones passing the test will be removed). <code>forEach</code> will orchestrate the test on all elements in <code>someObjectSet</code>, you don't need to do that.</p>\n\n<hr>\n\n<p>If you're having a secondary condition based on which you want to remove elements, then you can compose predicates (with <code>or</code>), something like in this example:</p>\n\n<pre><code>Set&lt;Integer&gt; set = new HashSet&lt;&gt;(Set.of(1, 2, 3, 4, 5, 6, 7, 8, 9));\n\nPredicate&lt;Integer&gt; predicate = s -&gt; s % 2 == 0;\nPredicate&lt;Integer&gt; predicate2 = predicate.or(s -&gt; s % 3 == 0);\nset.removeIf(predicate2);\n\n// Test with set.removeIf(predicate);\n// then with set.removeIf(predicate2);\n// and compare results\n</code></pre>\n"}],"owner":{"account_id":16617127,"reputation":638,"user_id":12008421,"display_name":"wayne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":791,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":60201254,"answer_count":1,"score":2,"last_activity_date":1632569873,"creation_date":1581572753,"question_id":60201167,"body_markdown":"I&#39;m trying to remove elements from a set (someObjectSet) while looping through it.\r\nAs I googled, using removeIf should avoid ConcurrentModificationException in this case.\r\nHowever this doesn&#39;t work for me.\r\n\r\nDid google lie to me (or I misundertood it), or I&#39;m not using removeIf correctly?\r\n\r\n```java\r\nSet&lt;SomeObject&gt; someObjectSet = new HashSet&lt;&gt;();\r\nsomeObjectSet.add(obj1);\r\nsomeObjectSet.add(obj2);\r\nsomeObjectSet.add(obj3);\r\n\r\nfor (SomeObject obj : someObjectSet ){\r\n    ...\r\n    someObjectSet.removeIf(ele -&gt; if ele satisfies some condition)\r\n}\r\n\r\n```\r\nThe reason I want to do removeif inside the loop is that, in each loop, it can be determined that some other elements of the set no longer need to go in the loop, therefore I’m removing it so that the for loop won’t pick them up again.\r\n\r\nFor example,   \r\nIn loop1, `obj1` gets picked.   \r\nThen in the same loop it finds out `obj2` no longer needs to be processed =&gt; remove `obj2` from the set.   \r\nIn loop2, instead of `obj2`, `obj3` is picked up\r\n\r\n\r\nThanks in advance!","title":"Removing elements while iterating. removeIf result in ConcurrentModificationException","body":"<p>I'm trying to remove elements from a set (someObjectSet) while looping through it.\nAs I googled, using removeIf should avoid ConcurrentModificationException in this case.\nHowever this doesn't work for me.</p>\n<p>Did google lie to me (or I misundertood it), or I'm not using removeIf correctly?</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set&lt;SomeObject&gt; someObjectSet = new HashSet&lt;&gt;();\nsomeObjectSet.add(obj1);\nsomeObjectSet.add(obj2);\nsomeObjectSet.add(obj3);\n\nfor (SomeObject obj : someObjectSet ){\n    ...\n    someObjectSet.removeIf(ele -&gt; if ele satisfies some condition)\n}\n\n</code></pre>\n<p>The reason I want to do removeif inside the loop is that, in each loop, it can be determined that some other elements of the set no longer need to go in the loop, therefore I’m removing it so that the for loop won’t pick them up again.</p>\n<p>For example,<br />\nIn loop1, <code>obj1</code> gets picked.<br />\nThen in the same loop it finds out <code>obj2</code> no longer needs to be processed =&gt; remove <code>obj2</code> from the set.<br />\nIn loop2, instead of <code>obj2</code>, <code>obj3</code> is picked up</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","android","xml","material-design","bottomnavigationview"],"answers":[{"tags":[],"owner":{"account_id":7072969,"reputation":639,"user_id":5413981,"display_name":"Vishal Vasani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632568984,"creation_date":1632567842,"answer_id":69325522,"question_id":69302724,"body_markdown":"In your activity layout add the following code.\r\n    \r\n      &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n                            android:id=&quot;@+id/btmMenu&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;50dp&quot;\r\n                            android:layout_alignParentBottom=&quot;true&quot;\r\n                            app:itemIconSize=&quot;@dimen/bottom_navigation_icon_size&quot;\r\n                            app:labelVisibilityMode=&quot;labeled&quot;\r\n                            android:background=&quot;@color/white_color&quot;\r\n                            app:menu=&quot;@menu/menu&quot;\r\n                            app:elevation=&quot;0dp&quot;&gt;&lt;/com.google.android.material.bottomnavigation.BottomNavigationView&gt;\r\n        \r\nCreate a menu.xml file and add the below code.\r\n        \r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n        &lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        \r\n            &lt;item\r\n                android:id=&quot;@+id/Home&quot;\r\n                android:title=&quot;Home&quot;\r\n                android:icon=&quot;@drawable/home_selector&quot;/&gt;\r\n        \r\n            &lt;item\r\n                android:id=&quot;@+id/Statistics&quot;\r\n                android:title=&quot;Statistics&quot;\r\n                android:icon=&quot;@drawable/statitics_selector&quot;/&gt;\r\n        \r\n            &lt;item\r\n                android:id=&quot;@+id/Analytics&quot;\r\n                android:title=&quot;Analytics&quot;\r\n                android:icon=&quot;@drawable/analytics_selector&quot;/&gt;\r\n        \r\n            &lt;item\r\n                android:id=&quot;@+id/Profile&quot;\r\n                android:title=&quot;Profile&quot;\r\n                android:icon=&quot;@drawable/profile_selector&quot;/&gt;\r\n        &lt;/menu&gt;\r\n\r\n\r\n\r\n\r\n","title":"Support library BottomNavigationView not showing icons","body":"<p>In your activity layout add the following code.</p>\n<pre><code>  &lt;com.google.android.material.bottomnavigation.BottomNavigationView\n                        android:id=&quot;@+id/btmMenu&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;50dp&quot;\n                        android:layout_alignParentBottom=&quot;true&quot;\n                        app:itemIconSize=&quot;@dimen/bottom_navigation_icon_size&quot;\n                        app:labelVisibilityMode=&quot;labeled&quot;\n                        android:background=&quot;@color/white_color&quot;\n                        app:menu=&quot;@menu/menu&quot;\n                        app:elevation=&quot;0dp&quot;&gt;&lt;/com.google.android.material.bottomnavigation.BottomNavigationView&gt;\n    \n</code></pre>\n<p>Create a menu.xml file and add the below code.</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n    &lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    \n        &lt;item\n            android:id=&quot;@+id/Home&quot;\n            android:title=&quot;Home&quot;\n            android:icon=&quot;@drawable/home_selector&quot;/&gt;\n    \n        &lt;item\n            android:id=&quot;@+id/Statistics&quot;\n            android:title=&quot;Statistics&quot;\n            android:icon=&quot;@drawable/statitics_selector&quot;/&gt;\n    \n        &lt;item\n            android:id=&quot;@+id/Analytics&quot;\n            android:title=&quot;Analytics&quot;\n            android:icon=&quot;@drawable/analytics_selector&quot;/&gt;\n    \n        &lt;item\n            android:id=&quot;@+id/Profile&quot;\n            android:title=&quot;Profile&quot;\n            android:icon=&quot;@drawable/profile_selector&quot;/&gt;\n    &lt;/menu&gt;\n</code></pre>\n"}],"owner":{"account_id":19895035,"reputation":21,"user_id":14576307,"display_name":"fathima shifna k"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1632568984,"creation_date":1632410209,"question_id":69302724,"body_markdown":"I&#39;m using Android support design widget BottomNavigationView for making my bottom navigation items. It doesn&#39;t show the icons, but it shows text and is working fine. I am using the support library version ```com.google.android.material:material:1.4.0```  and my XML code for bottomnavigationView is:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@color/white&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;androidx.appcompat.widget.Toolbar\r\n        android:id=&quot;@+id/toolbar&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;?attr/actionBarSize&quot;\r\n        android:background=&quot;@drawable/gradient_bg&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;@dimen/_30sdp&quot;&gt;\r\n\r\n            &lt;ImageView\r\n                android:layout_width=&quot;@dimen/_55sdp&quot;\r\n                android:layout_height=&quot;@dimen/_35sdp&quot;\r\n                android:src=&quot;@drawable/logo1&quot; /&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;@dimen/_54sdp&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:textSize=&quot;@dimen/_12sdp&quot; /&gt;\r\n    &lt;/androidx.appcompat.widget.Toolbar&gt;\r\n\r\n    &lt;FrameLayout\r\n        android:id=&quot;@+id/container&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/layout&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/toolbar&quot; /&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/layout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;@dimen/_45sdp&quot;\r\n        android:layout_weight=&quot;0.90&quot;\r\n        android:background=&quot;@color/app_col1&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n        &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n            android:id=&quot;@+id/bottom_nav_view&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:background=&quot;@color/app_col1&quot;\r\n            app:itemIconTint=&quot;@color/white&quot;\r\n            app:labelVisibilityMode=&quot;labeled&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:theme=&quot;@style/Theme.App&quot;\r\n            app:itemTextColor=&quot;@drawable/tab_color&quot;\r\n            app:menu=&quot;@menu/bottom_navigation_menu&quot;/&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\nMy menu XML code is below\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n    &lt;item\r\n        android:id=&quot;@+id/page_1&quot;\r\n        android:enabled=&quot;true&quot;\r\n        android:iconTint=&quot;@drawable/ic_baseline_home_24&quot;\r\n        app:showAsAction=&quot;ifRoom&quot;\r\n        android:title=&quot;Home&quot;/&gt;\r\n    &lt;item\r\n        android:id=&quot;@+id/page_2&quot;\r\n        android:iconTint=&quot;@drawable/ic_baseline_home_24&quot;\r\n        app:showAsAction=&quot;withText&quot;\r\n        android:title=&quot;Category&quot;/&gt;\r\n    &lt;item\r\n        android:id=&quot;@+id/page_3&quot;\r\n        app:showAsAction=&quot;ifRoom&quot;\r\n        android:iconTint=&quot;@drawable/user&quot;\r\n        android:title=&quot;Profile&quot;/&gt;\r\n&lt;/menu&gt;\r\n```\r\nHow can I solve this issue?","title":"Support library BottomNavigationView not showing icons","body":"<p>I'm using Android support design widget BottomNavigationView for making my bottom navigation items. It doesn't show the icons, but it shows text and is working fine. I am using the support library version <code>com.google.android.material:material:1.4.0</code>  and my XML code for bottomnavigationView is:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@color/white&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;androidx.appcompat.widget.Toolbar\n        android:id=&quot;@+id/toolbar&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;?attr/actionBarSize&quot;\n        android:background=&quot;@drawable/gradient_bg&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginStart=&quot;@dimen/_30sdp&quot;&gt;\n\n            &lt;ImageView\n                android:layout_width=&quot;@dimen/_55sdp&quot;\n                android:layout_height=&quot;@dimen/_35sdp&quot;\n                android:src=&quot;@drawable/logo1&quot; /&gt;\n\n        &lt;/LinearLayout&gt;\n\n        &lt;TextView\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginStart=&quot;@dimen/_54sdp&quot;\n            android:gravity=&quot;center&quot;\n            android:text=&quot;&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:textSize=&quot;@dimen/_12sdp&quot; /&gt;\n    &lt;/androidx.appcompat.widget.Toolbar&gt;\n\n    &lt;FrameLayout\n        android:id=&quot;@+id/container&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;0dp&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/layout&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/toolbar&quot; /&gt;\n\n    &lt;LinearLayout\n        android:id=&quot;@+id/layout&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;@dimen/_45sdp&quot;\n        android:layout_weight=&quot;0.90&quot;\n        android:background=&quot;@color/app_col1&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        android:gravity=&quot;center&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n\n        &lt;com.google.android.material.bottomnavigation.BottomNavigationView\n            android:id=&quot;@+id/bottom_nav_view&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:background=&quot;@color/app_col1&quot;\n            app:itemIconTint=&quot;@color/white&quot;\n            app:labelVisibilityMode=&quot;labeled&quot;\n            android:layout_gravity=&quot;center&quot;\n            android:theme=&quot;@style/Theme.App&quot;\n            app:itemTextColor=&quot;@drawable/tab_color&quot;\n            app:menu=&quot;@menu/bottom_navigation_menu&quot;/&gt;\n\n    &lt;/LinearLayout&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>My menu XML code is below</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n    &lt;item\n        android:id=&quot;@+id/page_1&quot;\n        android:enabled=&quot;true&quot;\n        android:iconTint=&quot;@drawable/ic_baseline_home_24&quot;\n        app:showAsAction=&quot;ifRoom&quot;\n        android:title=&quot;Home&quot;/&gt;\n    &lt;item\n        android:id=&quot;@+id/page_2&quot;\n        android:iconTint=&quot;@drawable/ic_baseline_home_24&quot;\n        app:showAsAction=&quot;withText&quot;\n        android:title=&quot;Category&quot;/&gt;\n    &lt;item\n        android:id=&quot;@+id/page_3&quot;\n        app:showAsAction=&quot;ifRoom&quot;\n        android:iconTint=&quot;@drawable/user&quot;\n        android:title=&quot;Profile&quot;/&gt;\n&lt;/menu&gt;\n</code></pre>\n<p>How can I solve this issue?</p>\n"},{"tags":["java","unix"],"comments":[{"owner":{"account_id":282141,"reputation":5676,"user_id":578855,"accept_rate":30,"display_name":"muasif80"},"score":0,"creation_date":1632565641,"post_id":69324869,"comment_id":122530818,"body_markdown":"I think at successful completion you can write a success code on the console from java. Read that in the unix. If it is there then you are sure the code has completed successfully and you can execute the rest of the Unix script. Otherwise don&#39;t run the next steps. Or even you can write the success status in a text file and check for that file if its present then ok if its not then your program is exited abnormally.","body":"I think at successful completion you can write a success code on the console from java. Read that in the unix. If it is there then you are sure the code has completed successfully and you can execute the rest of the Unix script. Otherwise don&#39;t run the next steps. Or even you can write the success status in a text file and check for that file if its present then ok if its not then your program is exited abnormally."}],"answers":[{"tags":[],"owner":{"account_id":68630,"reputation":2092,"user_id":200136,"display_name":"Andrew McGuinness"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632568922,"creation_date":1632568922,"answer_id":69325665,"question_id":69324869,"body_markdown":"The value of dPidLst that you set in benefitpaymentprocesswithdates.sh will not be visible in your calling script.\r\n\r\nWhen you run the benefitpaymentprocesswithdates script, it runs in its own process, and that process gets its own variables.\r\n\r\nTo pass the process id list back to your script, you need to use a mechanism other than shell variables or environment variables\r\n\r\ne.g. at the end of benefitpaymentprocesswithdates.sh, do \r\n\r\n    echo $dPidList\r\n\r\nAnd when you call it instead of\r\n\r\n    sh benefitpaymentprocesswithdates.sh\r\n\r\ndo\r\n\r\n    dPidList=$(sh benefitpaymentprocesswithdates.sh)\r\n\r\nIf all it is doing is calling `jobs -p`, there&#39;s no reason to have it in a separate script, of course.\r\n\r\n","title":"Java program exiting abnormally in Unix script","body":"<p>The value of dPidLst that you set in benefitpaymentprocesswithdates.sh will not be visible in your calling script.</p>\n<p>When you run the benefitpaymentprocesswithdates script, it runs in its own process, and that process gets its own variables.</p>\n<p>To pass the process id list back to your script, you need to use a mechanism other than shell variables or environment variables</p>\n<p>e.g. at the end of benefitpaymentprocesswithdates.sh, do</p>\n<pre><code>echo $dPidList\n</code></pre>\n<p>And when you call it instead of</p>\n<pre><code>sh benefitpaymentprocesswithdates.sh\n</code></pre>\n<p>do</p>\n<pre><code>dPidList=$(sh benefitpaymentprocesswithdates.sh)\n</code></pre>\n<p>If all it is doing is calling <code>jobs -p</code>, there's no reason to have it in a separate script, of course.</p>\n"}],"owner":{"account_id":19345682,"reputation":71,"user_id":14144308,"display_name":"Redwood Thomas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632568922,"creation_date":1632562382,"question_id":69324869,"body_markdown":"I have inherited an extract job program which is a Java program that connects to a database and produces a file from a Unix shell script. At times, I can see the Java program is terminated abnormally and starts executing the remainder of the Unix script by zipping the extract. This is causing a lot of reconciliation issues.\r\n\r\nThe code is structured as follows:\r\n\r\n    INSTANCE_NAME=1\r\n    PROCESS_NAME=benefitpayment\r\n    cd utils\r\n    FAIL=0\r\n    sh benefitpaymentprocesswithdates.sh $PROCESS_NAME $INSTANCE_NUMBER $1 $2\r\n    for job in $dPidLst\r\n    do\r\n    wait $job || let &quot;FAIL+=1&quot;\r\n    done\r\n    echo $FAIL\r\n    \r\n    if [ &quot;$FAIL&quot; == &quot;0&quot; ];\r\n    then\r\n    echo &quot;About to secure file...&quot;\r\n    zip -P &lt;password&gt; export.txt secure.zip\r\n    ...\r\n    ...\r\n    else\r\n    echo &quot;FAIL! ($FAIL)&quot;\r\n    fi\r\n\r\nThe $dPidLst is set in the inner Unix script(benefitpaymentprocesswithdates.sh) to call a Java wrapper and is set as:\r\n\r\n    java program called to generate a file\r\n    dPidLst=`jobs -p`\r\n\r\nIn either of the successful or failure cases, this &quot;dPidLst&quot; is always NULL. \r\n\r\nThe dPidLst is not exported in the inner script. The script was designed in that manner.\r\n\r\nShould dPidLst be exported back to this main program? How do I make this script fool proof in the sense, if the Java program terminates abnormally, it should not execute the remainder of the Shell script? of zipping the file.\r\n\r\n\r\n\r\n","title":"Java program exiting abnormally in Unix script","body":"<p>I have inherited an extract job program which is a Java program that connects to a database and produces a file from a Unix shell script. At times, I can see the Java program is terminated abnormally and starts executing the remainder of the Unix script by zipping the extract. This is causing a lot of reconciliation issues.</p>\n<p>The code is structured as follows:</p>\n<pre><code>INSTANCE_NAME=1\nPROCESS_NAME=benefitpayment\ncd utils\nFAIL=0\nsh benefitpaymentprocesswithdates.sh $PROCESS_NAME $INSTANCE_NUMBER $1 $2\nfor job in $dPidLst\ndo\nwait $job || let &quot;FAIL+=1&quot;\ndone\necho $FAIL\n\nif [ &quot;$FAIL&quot; == &quot;0&quot; ];\nthen\necho &quot;About to secure file...&quot;\nzip -P &lt;password&gt; export.txt secure.zip\n...\n...\nelse\necho &quot;FAIL! ($FAIL)&quot;\nfi\n</code></pre>\n<p>The $dPidLst is set in the inner Unix script(benefitpaymentprocesswithdates.sh) to call a Java wrapper and is set as:</p>\n<pre><code>java program called to generate a file\ndPidLst=`jobs -p`\n</code></pre>\n<p>In either of the successful or failure cases, this &quot;dPidLst&quot; is always NULL.</p>\n<p>The dPidLst is not exported in the inner script. The script was designed in that manner.</p>\n<p>Should dPidLst be exported back to this main program? How do I make this script fool proof in the sense, if the Java program terminates abnormally, it should not execute the remainder of the Shell script? of zipping the file.</p>\n"},{"tags":["java","android","firebase-realtime-database","firebase-storage"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1632568692,"post_id":69325549,"comment_id":122531394,"body_markdown":"That&#39;s isn&#39;t a correct URL. Most likely that&#39;s why you have that behavior. Show us your code.","body":"That&#39;s isn&#39;t a correct URL. Most likely that&#39;s why you have that behavior. Show us your code."},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1632582468,"post_id":69325549,"comment_id":122534563,"body_markdown":"It looks like you&#39;re doing `String downloadURL = storageRef.getDownloadURL()` somewhere, which won&#39;t work. Getting a storage URL is an asynchronous operation, and you need to attach a completion/success listener to get the result See the documentation [here](https://firebase.google.com/docs/storage/android/download-files#download_data_via_url) and this [answer](https://stackoverflow.com/a/51064689)","body":"It looks like you&#39;re doing <code>String downloadURL = storageRef.getDownloadURL()</code> somewhere, which won&#39;t work. Getting a storage URL is an asynchronous operation, and you need to attach a completion/success listener to get the result See the documentation <a href=\"https://firebase.google.com/docs/storage/android/download-files#download_data_via_url\" rel=\"nofollow noreferrer\">here</a> and this <a href=\"https://stackoverflow.com/a/51064689\">answer</a>"}],"owner":{"account_id":10338419,"reputation":115,"user_id":15994214,"display_name":"Shehan Silva"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1632582476,"answer_count":0,"score":0,"last_activity_date":1632568808,"creation_date":1632568029,"question_id":69325549,"body_markdown":"I have a small problem with fetching my image on the Firebase Database Storage.\r\nThe Database has the reference of that image and it is the reference which gets fetched. How can I can the image using that reference? I have tried both Picasso and Glide to display the image on on the image view , but since it is the reference that gets fetched it won&#39;t display the image.\r\n\r\n[![Reference][1]][1] \r\n\r\n\r\nAnd this is the log message displayed for this.\r\n\r\n[![Log Messages][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Htigm.png\r\n  [2]: https://i.stack.imgur.com/irSS8.png\r\n\r\nThank you!","title":"Firebase Storage fetching image by the reference","body":"<p>I have a small problem with fetching my image on the Firebase Database Storage.\nThe Database has the reference of that image and it is the reference which gets fetched. How can I can the image using that reference? I have tried both Picasso and Glide to display the image on on the image view , but since it is the reference that gets fetched it won't display the image.</p>\n<p><a href=\"https://i.stack.imgur.com/Htigm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Htigm.png\" alt=\"Reference\" /></a></p>\n<p>And this is the log message displayed for this.</p>\n<p><a href=\"https://i.stack.imgur.com/irSS8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/irSS8.png\" alt=\"Log Messages\" /></a></p>\n<p>Thank you!</p>\n"},{"tags":["java","rabbitmq","spring-rabbit","java-16"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632415112,"creation_date":1632415112,"answer_id":69303874,"question_id":69299112,"body_markdown":"You can&#39;t.\r\n\r\nThe whole reason for `ParameterizedTypeReference&lt;Foo&gt;` is to tell the converter you want a `Foo`; this has to be resolved at compile time for the method; you can&#39;t call `sendAsync()` to receive different types.\r\n\r\nProviding no generic type means it will convert to `Object` (usually a map).\r\n\r\nEven `new ParameterizedTypeReference&lt;R&gt;() { }` won&#39;t work because `R` is not resolved at compile time for the generic type (of the `sendAsync()` method).\r\n\r\nYou have to do the conversion yourself.\r\n\r\n```java\r\n@SpringBootApplication\r\npublic class So69299112Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(So69299112Application.class, args);\r\n\t}\r\n\r\n\t@Bean\r\n\tMessageConverter converter() {\r\n\t\treturn new Jackson2JsonMessageConverter();\r\n\t}\r\n\r\n\tObjectMapper mapper = new ObjectMapper();\r\n\r\n\t@Bean\r\n\tAsyncRabbitTemplate template(RabbitTemplate template) {\r\n\t\ttemplate.setMessageConverter(new SimpleMessageConverter());\r\n\t\treturn new AsyncRabbitTemplate(template);\r\n\t}\r\n\r\n\t@Bean\r\n\tApplicationRunner runner(Service service) {\r\n\t\treturn args -&gt; {\r\n\t\t\tbyte[] response = service.sendAsync(&quot;bar&quot;, &quot;foo&quot;, &quot;&quot;);\r\n\t\t\tFoo foo = this.mapper.readerFor(Foo.class).readValue(response);\r\n\t\t\tSystem.out.println(foo);\r\n\t\t};\r\n\t}\r\n\r\n\t@RabbitListener(queues = &quot;foo&quot;)\r\n\tpublic Foo listen(String in) {\r\n\t\treturn new Foo(in);\r\n\t}\r\n\r\n\tpublic static class Foo {\r\n\r\n\t\tString foo;\r\n\r\n\t\tpublic Foo() {\r\n\t\t}\r\n\r\n\t\tpublic Foo(String foo) {\r\n\t\t\tthis.foo = foo;\r\n\t\t}\r\n\r\n\t\tpublic String getFoo() {\r\n\t\t\treturn this.foo;\r\n\t\t}\r\n\r\n\t\tpublic void setFoo(String foo) {\r\n\t\t\tthis.foo = foo;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic String toString() {\r\n\t\t\treturn &quot;Foo [foo=&quot; + this.foo + &quot;]&quot;;\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\n@Component\r\nclass Service {\r\n\r\n\tprivate static final Logger LOGGER = LoggerFactory.getLogger(Service.class);\r\n\r\n\tAsyncRabbitTemplate asyncRabbitTemplate;\r\n\r\n\tpublic Service(AsyncRabbitTemplate asyncRabbitTemplate) {\r\n\t\tthis.asyncRabbitTemplate = asyncRabbitTemplate;\r\n\t}\r\n\r\n\tpublic byte[] sendAsync(Object payload, String routingKey, String exchangeName) {\r\n\r\n\t\tListenableFuture&lt;byte[]&gt; listenableFuture = asyncRabbitTemplate.convertSendAndReceive(\r\n\t\t\t\texchangeName,\r\n\t\t\t\troutingKey,\r\n\t\t\t\tpayload);\r\n\r\n\t\ttry {\r\n\r\n\t\t\treturn listenableFuture.get();\r\n\r\n\t\t}\r\n\t\tcatch (InterruptedException | ExecutionException e) {\r\n\t\t\tLOGGER.error(&quot; [x] Cannot get response.&quot;, e);\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```","title":"how can i specify the return type for asyncRabbitTemplate.convertSendAndReceiveAsType() at run time?","body":"<p>You can't.</p>\n<p>The whole reason for <code>ParameterizedTypeReference&lt;Foo&gt;</code> is to tell the converter you want a <code>Foo</code>; this has to be resolved at compile time for the method; you can't call <code>sendAsync()</code> to receive different types.</p>\n<p>Providing no generic type means it will convert to <code>Object</code> (usually a map).</p>\n<p>Even <code>new ParameterizedTypeReference&lt;R&gt;() { }</code> won't work because <code>R</code> is not resolved at compile time for the generic type (of the <code>sendAsync()</code> method).</p>\n<p>You have to do the conversion yourself.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class So69299112Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(So69299112Application.class, args);\n    }\n\n    @Bean\n    MessageConverter converter() {\n        return new Jackson2JsonMessageConverter();\n    }\n\n    ObjectMapper mapper = new ObjectMapper();\n\n    @Bean\n    AsyncRabbitTemplate template(RabbitTemplate template) {\n        template.setMessageConverter(new SimpleMessageConverter());\n        return new AsyncRabbitTemplate(template);\n    }\n\n    @Bean\n    ApplicationRunner runner(Service service) {\n        return args -&gt; {\n            byte[] response = service.sendAsync(&quot;bar&quot;, &quot;foo&quot;, &quot;&quot;);\n            Foo foo = this.mapper.readerFor(Foo.class).readValue(response);\n            System.out.println(foo);\n        };\n    }\n\n    @RabbitListener(queues = &quot;foo&quot;)\n    public Foo listen(String in) {\n        return new Foo(in);\n    }\n\n    public static class Foo {\n\n        String foo;\n\n        public Foo() {\n        }\n\n        public Foo(String foo) {\n            this.foo = foo;\n        }\n\n        public String getFoo() {\n            return this.foo;\n        }\n\n        public void setFoo(String foo) {\n            this.foo = foo;\n        }\n\n        @Override\n        public String toString() {\n            return &quot;Foo [foo=&quot; + this.foo + &quot;]&quot;;\n        }\n\n    }\n\n}\n\n@Component\nclass Service {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(Service.class);\n\n    AsyncRabbitTemplate asyncRabbitTemplate;\n\n    public Service(AsyncRabbitTemplate asyncRabbitTemplate) {\n        this.asyncRabbitTemplate = asyncRabbitTemplate;\n    }\n\n    public byte[] sendAsync(Object payload, String routingKey, String exchangeName) {\n\n        ListenableFuture&lt;byte[]&gt; listenableFuture = asyncRabbitTemplate.convertSendAndReceive(\n                exchangeName,\n                routingKey,\n                payload);\n\n        try {\n\n            return listenableFuture.get();\n\n        }\n        catch (InterruptedException | ExecutionException e) {\n            LOGGER.error(&quot; [x] Cannot get response.&quot;, e);\n            return null;\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":10595073,"reputation":1,"user_id":7804113,"display_name":"Feras alawadi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":465,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632568440,"creation_date":1632396387,"question_id":69299112,"body_markdown":"i&#39;ve been struggeling with the following code. and am not sure how to deserialize it or even pass the correct type at run time.\r\n\r\nthe code is: \r\n\r\n```code\r\n\r\n @Override\r\n    public &lt;T, R&gt; R sendAsync(T payload, String routingKey, String exchangeName) {\r\n       \r\n        ListenableFuture&lt;R&gt; listenableFuture =\r\n                asyncRabbitTemplate.convertSendAndReceiveAsType(\r\n                        exchangeName,\r\n                        routingKey,\r\n                        payload,\r\n                        new ParameterizedTypeReference&lt;&gt;() {\r\n                        }\r\n                );\r\n\r\n        try {\r\n\r\n            return listenableFuture.get();\r\n\r\n        } catch (InterruptedException | ExecutionException e) {\r\n            LOGGER.error(&quot; [x] Cannot get response.&quot;, e);\r\n            return null;\r\n        }\r\n    }\r\n\r\n```\r\nlet us say that am just calling the method like the following\r\n```code\r\nSaveImageResponse response = backendClient.sendAsync( new SaveImageRequest(createQRRequest.getOwner(), qr), RabbitConstants.CREATE_QR_IMAGE_KEY, RabbitConstants.CDN_EXCHANGE);\r\n\r\n```\r\n\r\nwhile the pojo is the following:\r\n```code\r\n\r\npublic class SaveImageResponse {\r\n    private String id;\r\n    private String message;\r\n\r\n    public SaveImageResponse() {\r\n    }\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getMessage() {\r\n        return message;\r\n    }\r\n\r\n    public void setMessage(String message) {\r\n        this.message = message;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;SaveImageResponse{&quot; +\r\n                &quot;id=&#39;&quot; + id + &#39;\\&#39;&#39; +\r\n                &quot;, message=&#39;&quot; + message + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n\r\n````\r\n\r\nthe current code is throwing the following error:\r\n\r\n```code\r\nCaused by: java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class dev.yafatek.qr.api.responses.SaveImageResponse (java.util.LinkedHashMap is in module java.base of loader &#39;bootstrap&#39;; dev.yafatek.qr.api.responses.SaveImageResponse is in unnamed module of loader &#39;app&#39;)\r\n\r\n```\r\n\r\nthanks in advance\r\n\r\n\r\nSOLUTION:\r\n\r\nso I ended up using the following:\r\n```code\r\n@Override\r\n    public &lt;T, R&gt; R sendAsync(T payload, String routingKey, String exchangeName, Class&lt;R&gt; clazz) {\r\n\r\n        ListenableFuture&lt;R&gt; listenableFuture =\r\n                asyncRabbitTemplate.convertSendAndReceiveAsType(\r\n                        exchangeName,\r\n                        routingKey,\r\n                        payload,\r\n                        new ParameterizedTypeReference&lt;&gt;() {\r\n                        }\r\n                );\r\n\r\n        try {\r\n            return objectMapper.convertValue(listenableFuture.get(), clazz);\r\n        } catch (InterruptedException | ExecutionException e) {\r\n            LOGGER.error(&quot; [x] Cannot get response.&quot;, e);\r\n            return null;\r\n        }\r\n    }\r\n```\r\n\r\nby using the object mapper and pass the actual type when call the method using \r\n```\r\nClass&lt;POJO&gt; clazz\r\n```\r\n\r\nto use the above code :\r\n```code\r\nWebsiteInfoResponse websiteInfoResponse = backendClient.sendAsync(new GetWebsiteInfoReq(createBusinessDetailsRequest.getWebsiteUrlId()), RabbitConstants.GET_WEBSITE_INFO_KEY, RabbitConstants.QR_EXCHANGE, WebsiteInfoResponse.class);\r\n```","title":"how can i specify the return type for asyncRabbitTemplate.convertSendAndReceiveAsType() at run time?","body":"<p>i've been struggeling with the following code. and am not sure how to deserialize it or even pass the correct type at run time.</p>\n<p>the code is:</p>\n<pre><code>\n @Override\n    public &lt;T, R&gt; R sendAsync(T payload, String routingKey, String exchangeName) {\n       \n        ListenableFuture&lt;R&gt; listenableFuture =\n                asyncRabbitTemplate.convertSendAndReceiveAsType(\n                        exchangeName,\n                        routingKey,\n                        payload,\n                        new ParameterizedTypeReference&lt;&gt;() {\n                        }\n                );\n\n        try {\n\n            return listenableFuture.get();\n\n        } catch (InterruptedException | ExecutionException e) {\n            LOGGER.error(&quot; [x] Cannot get response.&quot;, e);\n            return null;\n        }\n    }\n\n</code></pre>\n<p>let us say that am just calling the method like the following</p>\n<pre><code>SaveImageResponse response = backendClient.sendAsync( new SaveImageRequest(createQRRequest.getOwner(), qr), RabbitConstants.CREATE_QR_IMAGE_KEY, RabbitConstants.CDN_EXCHANGE);\n\n</code></pre>\n<p>while the pojo is the following:</p>\n<pre><code>\npublic class SaveImageResponse {\n    private String id;\n    private String message;\n\n    public SaveImageResponse() {\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getMessage() {\n        return message;\n    }\n\n    public void setMessage(String message) {\n        this.message = message;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;SaveImageResponse{&quot; +\n                &quot;id='&quot; + id + '\\'' +\n                &quot;, message='&quot; + message + '\\'' +\n                '}';\n    }\n}\n\n</code></pre>\n<p>the current code is throwing the following error:</p>\n<pre><code>Caused by: java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class dev.yafatek.qr.api.responses.SaveImageResponse (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; dev.yafatek.qr.api.responses.SaveImageResponse is in unnamed module of loader 'app')\n\n</code></pre>\n<p>thanks in advance</p>\n<p>SOLUTION:</p>\n<p>so I ended up using the following:</p>\n<pre><code>@Override\n    public &lt;T, R&gt; R sendAsync(T payload, String routingKey, String exchangeName, Class&lt;R&gt; clazz) {\n\n        ListenableFuture&lt;R&gt; listenableFuture =\n                asyncRabbitTemplate.convertSendAndReceiveAsType(\n                        exchangeName,\n                        routingKey,\n                        payload,\n                        new ParameterizedTypeReference&lt;&gt;() {\n                        }\n                );\n\n        try {\n            return objectMapper.convertValue(listenableFuture.get(), clazz);\n        } catch (InterruptedException | ExecutionException e) {\n            LOGGER.error(&quot; [x] Cannot get response.&quot;, e);\n            return null;\n        }\n    }\n</code></pre>\n<p>by using the object mapper and pass the actual type when call the method using</p>\n<pre><code>Class&lt;POJO&gt; clazz\n</code></pre>\n<p>to use the above code :</p>\n<pre><code>WebsiteInfoResponse websiteInfoResponse = backendClient.sendAsync(new GetWebsiteInfoReq(createBusinessDetailsRequest.getWebsiteUrlId()), RabbitConstants.GET_WEBSITE_INFO_KEY, RabbitConstants.QR_EXCHANGE, WebsiteInfoResponse.class);\n</code></pre>\n"},{"tags":["java","loops","while-loop"],"comments":[{"owner":{"account_id":2818342,"reputation":299876,"user_id":2422776,"display_name":"Mureinik"},"score":1,"creation_date":1632409722,"post_id":69302501,"comment_id":122489843,"body_markdown":"Can you share the problem definition?","body":"Can you share the problem definition?"},{"owner":{"account_id":22420889,"reputation":25,"user_id":16832895,"display_name":"fabinfabinfabin"},"score":0,"creation_date":1632409739,"post_id":69302501,"comment_id":122489848,"body_markdown":"Sure, sorry, I forgot.\n\nhttps://projecteuler.net/problem=1","body":"Sure, sorry, I forgot.  <a href=\"https://projecteuler.net/problem=1\" rel=\"nofollow noreferrer\">projecteuler.net/problem=1</a>"},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":4,"creation_date":1632409791,"post_id":69302501,"comment_id":122489872,"body_markdown":"No, *in the text of the question*.  We want our questions to be self-contained.","body":"No, <i>in the text of the question</i>.  We want our questions to be self-contained."},{"owner":{"account_id":22420889,"reputation":25,"user_id":16832895,"display_name":"fabinfabinfabin"},"score":0,"creation_date":1632409939,"post_id":69302501,"comment_id":122489939,"body_markdown":"There you go, sorry.","body":"There you go, sorry."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":2,"creation_date":1632410011,"post_id":69302501,"comment_id":122489971,"body_markdown":"Even without the problem statement, I&#39;m inclined to guess that you have an off-by-one error.  The difference between the expected value and the computed value is 1000, which is apparently at the endpoint of your iteration.  As the logic is structured, your code will perform an iteration with `n == 1000` before it quits, and presumably it&#39;s not supposed to do that.","body":"Even without the problem statement, I&#39;m inclined to guess that you have an off-by-one error.  The difference between the expected value and the computed value is 1000, which is apparently at the endpoint of your iteration.  As the logic is structured, your code will perform an iteration with <code>n == 1000</code> before it quits, and presumably it&#39;s not supposed to do that."}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299876,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632409993,"creation_date":1632409993,"answer_id":69302671,"question_id":69302501,"body_markdown":"Your condition is wrong. The problem statement is (bolding for emphasis):\r\n&gt; Find the sum of all the multiples of 3 or 5 **below 1000**.\r\n\r\nWhereas your program also sums `1000` itself, which is divisible by `5`. If you change the condition `n &gt; 1000` to `n &gt;= 1000`, you&#39;ll get the correct answer.\r\n\r\nSide note: You should really look into `for` loops. That would be a much better fit for this challenge.","title":"Project Euler Problem - 1 does not return the value I expected","body":"<p>Your condition is wrong. The problem statement is (bolding for emphasis):</p>\n<blockquote>\n<p>Find the sum of all the multiples of 3 or 5 <strong>below 1000</strong>.</p>\n</blockquote>\n<p>Whereas your program also sums <code>1000</code> itself, which is divisible by <code>5</code>. If you change the condition <code>n &gt; 1000</code> to <code>n &gt;= 1000</code>, you'll get the correct answer.</p>\n<p>Side note: You should really look into <code>for</code> loops. That would be a much better fit for this challenge.</p>\n"},{"tags":[],"owner":{"account_id":22815323,"reputation":518,"user_id":16966037,"display_name":"alonkh2"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632410698,"creation_date":1632410698,"answer_id":69302841,"question_id":69302501,"body_markdown":"Your condition is wrong. The while loop runs one too many times, because you are comparing ```n &gt; 1000``` instead of ```n &gt;= 1000```.\r\n\r\nWith that being said, you can also improve your loop. The boolean variable is not needed, as you can straight up check the condition in the while statement, like this - ```while (n &lt; 1000)```.\r\n\r\nIn addition, if you are going to use your boolean variable, I would probably not set it to `false` by saying `isFinished = !true`, but by doing `isFinished = false` or `isFinished = !isFinished`.","title":"Project Euler Problem - 1 does not return the value I expected","body":"<p>Your condition is wrong. The while loop runs one too many times, because you are comparing <code>n &gt; 1000</code> instead of <code>n &gt;= 1000</code>.</p>\n<p>With that being said, you can also improve your loop. The boolean variable is not needed, as you can straight up check the condition in the while statement, like this - <code>while (n &lt; 1000)</code>.</p>\n<p>In addition, if you are going to use your boolean variable, I would probably not set it to <code>false</code> by saying <code>isFinished = !true</code>, but by doing <code>isFinished = false</code> or <code>isFinished = !isFinished</code>.</p>\n"},{"tags":[],"owner":{"account_id":22514761,"reputation":1572,"user_id":16709163,"display_name":"ray"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632413626,"creation_date":1632413132,"answer_id":69303423,"question_id":69302501,"body_markdown":"Certainly your issue is with the `if` condition. It should be `n &gt;= 1000`\r\n\r\nAlso you can simplify your algo like this. An alternative solution to your question.\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        System.out.println(sum(1000, 3, 5));\r\n    }\r\n\r\n    private static int sum(int i, int a, int b) {\r\n        i = --i;\r\n        int c = a * b;\r\n        int k1 = i / a;\r\n        int k2 = i / b;\r\n        int k3 = i / c;\r\n\r\n        return (k1 * (a + (k1 * a)))/2 + (k2 * (b + (k2 * b)))/2 - (k3 * (c + (k3 * c)))/2;\r\n    }\r\n}\r\n```\r\n\r\n*Note this only works if `a` and `b` are prime numbers. If `a` and `b` are not prime, then `c` should be `LCM` of `a` and `b`* \r\n\r\n```\r\nint c = lcm(a,b)\r\n```","title":"Project Euler Problem - 1 does not return the value I expected","body":"<p>Certainly your issue is with the <code>if</code> condition. It should be <code>n &gt;= 1000</code></p>\n<p>Also you can simplify your algo like this. An alternative solution to your question.</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        System.out.println(sum(1000, 3, 5));\n    }\n\n    private static int sum(int i, int a, int b) {\n        i = --i;\n        int c = a * b;\n        int k1 = i / a;\n        int k2 = i / b;\n        int k3 = i / c;\n\n        return (k1 * (a + (k1 * a)))/2 + (k2 * (b + (k2 * b)))/2 - (k3 * (c + (k3 * c)))/2;\n    }\n}\n</code></pre>\n<p><em>Note this only works if <code>a</code> and <code>b</code> are prime numbers. If <code>a</code> and <code>b</code> are not prime, then <code>c</code> should be <code>LCM</code> of <code>a</code> and <code>b</code></em></p>\n<pre><code>int c = lcm(a,b)\n</code></pre>\n"}],"owner":{"account_id":22420889,"reputation":25,"user_id":16832895,"display_name":"fabinfabinfabin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69302671,"answer_count":3,"score":2,"last_activity_date":1632568078,"creation_date":1632409326,"question_id":69302501,"body_markdown":"I did not learn loops using `for` yet, so I solved this problem using `while` but I can&#39;t find the issue with my problem, sum should be **233168** apparently, and I am getting **234168** I simply cannot identify where I missed it.\r\n\r\n**Question**: **If we list all the natural numbers below 10 that are multiples of 3 or 5, we get 3, 5, 6 and 9. The sum of these multiples is 23.**\r\n\r\n**Find the sum of all the multiples of 3 or 5 below 1000.**\r\n\r\n\r\n```java\r\npackage net.projecteuler;\r\n\r\npublic class Problem01 {\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tint n, sum;\r\n\t\tboolean notFinished = true;\r\n\t\tn = 0;\r\n\t\tsum = 0;\r\n\t\t\r\n\t\t\r\n\t\twhile(notFinished) {\r\n\t\t\tif(n % 3 == 0 || n % 5 == 0) {\r\n\t\t\t\tsum = (sum + n);\r\n\t\t\t}\r\n\t\t\tn = (n + 1);\r\n\t\t\tif(n &gt; 1000) {\r\n\t\t\t\tnotFinished = !true;\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.print(&quot;A soma dos n&#250;meros &#233; &quot; + sum);\r\n\t}\r\n}\r\n```","title":"Project Euler Problem - 1 does not return the value I expected","body":"<p>I did not learn loops using <code>for</code> yet, so I solved this problem using <code>while</code> but I can't find the issue with my problem, sum should be <strong>233168</strong> apparently, and I am getting <strong>234168</strong> I simply cannot identify where I missed it.</p>\n<p><strong>Question</strong>: <strong>If we list all the natural numbers below 10 that are multiples of 3 or 5, we get 3, 5, 6 and 9. The sum of these multiples is 23.</strong></p>\n<p><strong>Find the sum of all the multiples of 3 or 5 below 1000.</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package net.projecteuler;\n\npublic class Problem01 {\n    public static void main(String[] args) {\n        \n        int n, sum;\n        boolean notFinished = true;\n        n = 0;\n        sum = 0;\n        \n        \n        while(notFinished) {\n            if(n % 3 == 0 || n % 5 == 0) {\n                sum = (sum + n);\n            }\n            n = (n + 1);\n            if(n &gt; 1000) {\n                notFinished = !true;\n            }\n        }\n        System.out.print(&quot;A soma dos números é &quot; + sum);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database","google-cloud-platform"],"comments":[{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1632520170,"post_id":69318260,"comment_id":122524331,"body_markdown":"Probably `firebase_DB = FirebaseDatabase.getInstance().getReference().getChild(&quot;orders&quot;);` could work","body":"Probably <code>firebase_DB = FirebaseDatabase.getInstance().getReference().getChild(&quot;orde&zwnj;&#8203;rs&quot;);</code> could work"}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632562172,"creation_date":1632557951,"answer_id":69324357,"question_id":69318260,"body_markdown":"To be able to add another object under your &quot;orders&quot; node, please use the following lines of code:\r\n\r\n    DatabaseReference rootRef = FirebaseDatabase.getInstance().getReference();\r\n    DatabaseReference ordersRef = rootRef.child(&quot;orders&quot;);\r\n    Map&lt;String, Object&gt; order = new HashMap&lt;&gt;();\r\n    order.put(&quot;info&quot;, &quot;No additional information&quot;);\r\n    order.put(&quot;name&quot;, &quot;Another Test Order&quot;);\r\n    order.put(&quot;table&quot;, &quot;15&quot;);\r\n    ordersRef.child(&quot;order_2&quot;).setValue(order).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n        @Override\r\n        public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n            if (task.isSuccessful()) {\r\n                Log.d(&quot;TAG&quot;, &quot;Data successfully written.&quot;);\r\n            } else {\r\n                Log.d(&quot;TAG&quot;, task.getException().getMessage());\r\n            }\r\n        }\r\n    });\r\n\r\nThis code will work **only** if you set the proper security rules in your Firebase console:\r\n\r\n```\r\n{\r\n  &quot;rules&quot;: {\r\n      &quot;.read&quot;: true,\r\n      &quot;.write&quot;: true\r\n  }\r\n}\r\n```\r\n\r\nRemember to keep these rules only for testing purposes. Besides that, you can also attach a complete listener to see if something goes wrong.\r\n\r\nIf you want to use [DatabaseReference#push()][1] method, then you should use the following line of code:\r\n\r\n    ordersRef.push().setValue(order);\r\n\r\n**Edit:**\r\n\r\nAccording to your last comment:\r\n\r\n&gt; Database location: Belgium (europe-west1)\r\n\r\nYou should check my answer from the following post and add the correct URL to the [getInstance()][2] method:\r\n\r\n* https://stackoverflow.com/questions/67795058/save-android-user-credentials-to-firebase-database-kotlin/\r\n\r\nIn your particular case it should be:\r\n\r\n    DatabaseReference rootRef = FirebaseDatabase.getInstance(&quot;https://drink-server-db-default-rtdb.europe-west1.firebasedatabase.app&quot;).getReference();\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/database/DatabaseReference#push()\r\n  [2]: https://firebase.google.com/docs/reference/android/com/google/firebase/database/FirebaseDatabase#getInstance(java.lang.String)","title":"Data is not written into the Firebase Database from Android","body":"<p>To be able to add another object under your &quot;orders&quot; node, please use the following lines of code:</p>\n<pre><code>DatabaseReference rootRef = FirebaseDatabase.getInstance().getReference();\nDatabaseReference ordersRef = rootRef.child(&quot;orders&quot;);\nMap&lt;String, Object&gt; order = new HashMap&lt;&gt;();\norder.put(&quot;info&quot;, &quot;No additional information&quot;);\norder.put(&quot;name&quot;, &quot;Another Test Order&quot;);\norder.put(&quot;table&quot;, &quot;15&quot;);\nordersRef.child(&quot;order_2&quot;).setValue(order).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;Void&gt; task) {\n        if (task.isSuccessful()) {\n            Log.d(&quot;TAG&quot;, &quot;Data successfully written.&quot;);\n        } else {\n            Log.d(&quot;TAG&quot;, task.getException().getMessage());\n        }\n    }\n});\n</code></pre>\n<p>This code will work <strong>only</strong> if you set the proper security rules in your Firebase console:</p>\n<pre><code>{\n  &quot;rules&quot;: {\n      &quot;.read&quot;: true,\n      &quot;.write&quot;: true\n  }\n}\n</code></pre>\n<p>Remember to keep these rules only for testing purposes. Besides that, you can also attach a complete listener to see if something goes wrong.</p>\n<p>If you want to use <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/DatabaseReference#push()\" rel=\"nofollow noreferrer\">DatabaseReference#push()</a> method, then you should use the following line of code:</p>\n<pre><code>ordersRef.push().setValue(order);\n</code></pre>\n<p><strong>Edit:</strong></p>\n<p>According to your last comment:</p>\n<blockquote>\n<p>Database location: Belgium (europe-west1)</p>\n</blockquote>\n<p>You should check my answer from the following post and add the correct URL to the <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/FirebaseDatabase#getInstance(java.lang.String)\" rel=\"nofollow noreferrer\">getInstance()</a> method:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/67795058/save-android-user-credentials-to-firebase-database-kotlin/\">getInstance() doesn&#39;t work with other location than us-central1 in Realtime Database</a></li>\n</ul>\n<p>In your particular case it should be:</p>\n<pre><code>DatabaseReference rootRef = FirebaseDatabase.getInstance(&quot;https://drink-server-db-default-rtdb.europe-west1.firebasedatabase.app&quot;).getReference();\n</code></pre>\n"}],"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":794,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69324357,"answer_count":1,"score":0,"last_activity_date":1632567453,"creation_date":1632500329,"question_id":69318260,"body_markdown":"I have set up a Firebase database that has 2 nodes. One node is called &quot;ingredients&quot; and the other is called &quot;orders&quot;. I set up the nodes manually by using a JSON file and I just entered 1 entry in the node &quot;orders&quot; manually. You can see a screenshot of the structure of the database:\r\n[![enter image description here][1]][1]\r\n\r\nNow I would like to add further entries in the table &quot;orders&quot; (so basically I would like to add a further row). \r\n\r\nIn my Android application I use the following code:\r\n\r\n    // in the class definition of the Fragment\r\n    public DatabaseReference firebase_DB; \r\n    ...\r\n     // in the oneCreate Method of the Fragment\r\n    firebase_DB = FirebaseDatabase.getInstance().getReference(&quot;orders&quot;);\r\n    ...\r\n    // when clicking on a button in the Fragment which calls the onClick method\r\n    String id =  firebase_DB.push().getKey();\r\n    DB_Object_Test currentOrder= new DB_Object_Test(&quot;testInfo_2&quot;, &quot;testName&quot;, 2);\r\n    firebase_DB.child(id).setValue(currentOrder);\r\n\r\nSo basically the code runs without an error and the `firebase_DB.child(id).setValue(currentOrder);` is called. However, nothing changes in the Firebase console. I can&#39;t see any new entry there. The firebase database is properly connected to the app (at least Android Studio says that) and I have not specified any rules that would prohibit writing something on the database. The same data is stored without any problems in an SQLite database.\r\n\r\nCan any one of you think about a possible reason for this problem? Why is the new row not written into the firebase database? I&#39;ll appreciate every comment. \r\n\r\nEDIT: Here is the adjusted code that writes to the firebase database (by using 3 different approaches) after clicking a &quot;Order&quot; Button in the Fragment.\r\n\r\n    public void onClick(View view) {\r\n    \r\n            if(view.getId() == R.id.ordering_button) {\r\n                \r\n    \r\n    /*          Firebase approach 1\r\n    \r\n    \r\n                final FirebaseDatabase database = FirebaseDatabase.getInstance();\r\n                DatabaseReference ref = database.getReference(&quot;&quot;);\r\n                DatabaseReference usersRef = ref.child(&quot;orders&quot;);\r\n                Map&lt;String, DB_Object_Test&gt; order = new HashMap&lt;&gt;();\r\n                order.put(&quot;order_2&quot;, new DB_Object_Test(&quot;1&quot;, &quot;testInfo_2&quot;, &quot;testName&quot;, &quot;2&quot;));\r\n                usersRef.setValue(order);\r\n     */\r\n\r\n    \r\n                /*\r\n                Firebase approach 3 (by Alex)\r\n                 */\r\n    \r\n            DatabaseReference rootRef = FirebaseDatabase.getInstance().getReference();\r\n            DatabaseReference ordersRef = rootRef.child(&quot;orders&quot;);\r\n            Map&lt;String, Object&gt; order = new HashMap&lt;&gt;();\r\n            order.put(&quot;info&quot;, &quot;No additional information&quot;);\r\n            order.put(&quot;name&quot;, &quot;Another Test Order&quot;);\r\n            order.put(&quot;table&quot;, &quot;15&quot;);\r\n            Log.e(&quot;LogTag&quot;, &quot;Before write firebase&quot;);\r\n            ordersRef.child(&quot;order_2&quot;).setValue(order).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n    @Override\r\n        public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n            Log.e(&quot;LogTag&quot;, &quot;During on Complete firebase&quot;);\r\n            if (task.isSuccessful()) {\r\n            Log.e(&quot;dbTAG&quot;, &quot;Data successfully written.&quot;);\r\n            } else {\r\n            Log.e(&quot;dbTAG&quot;, task.getException().getMessage());\r\n            }\r\n            }\r\n            });\r\n            Log.e(&quot;LogTag&quot;, &quot;Afer write firebase&quot;);\r\n    \r\n                \r\n                \r\n                /* Firebase approach 2\r\n                DatabaseReference firebase_DB = FirebaseDatabase.getInstance().getReference(&quot;orders&quot;);\r\n                String id =  firebase_DB.push().getKey();\r\n                DB_Object_Test currentOrder= new DB_Object_Test(id, &quot;testInfo_2&quot;, &quot;testName&quot;, &quot;2&quot;);\r\n                firebase_DB.child(id).setValue(currentOrder);\r\n                //Option 2*\r\n                //firebase_DB.setValue(currentOrder);\r\n                Log.e(&quot;LogTag&quot;, &quot;firebase_DB.child(id): &quot; + firebase_DB.child(id));\r\n                */\r\n    \r\n            Navigation.findNavController(getView()).navigate(...);\r\n    \r\n            } \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/umbCz.png","title":"Data is not written into the Firebase Database from Android","body":"<p>I have set up a Firebase database that has 2 nodes. One node is called &quot;ingredients&quot; and the other is called &quot;orders&quot;. I set up the nodes manually by using a JSON file and I just entered 1 entry in the node &quot;orders&quot; manually. You can see a screenshot of the structure of the database:\n<a href=\"https://i.stack.imgur.com/umbCz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/umbCz.png\" alt=\"enter image description here\" /></a></p>\n<p>Now I would like to add further entries in the table &quot;orders&quot; (so basically I would like to add a further row).</p>\n<p>In my Android application I use the following code:</p>\n<pre><code>// in the class definition of the Fragment\npublic DatabaseReference firebase_DB; \n...\n // in the oneCreate Method of the Fragment\nfirebase_DB = FirebaseDatabase.getInstance().getReference(&quot;orders&quot;);\n...\n// when clicking on a button in the Fragment which calls the onClick method\nString id =  firebase_DB.push().getKey();\nDB_Object_Test currentOrder= new DB_Object_Test(&quot;testInfo_2&quot;, &quot;testName&quot;, 2);\nfirebase_DB.child(id).setValue(currentOrder);\n</code></pre>\n<p>So basically the code runs without an error and the <code>firebase_DB.child(id).setValue(currentOrder);</code> is called. However, nothing changes in the Firebase console. I can't see any new entry there. The firebase database is properly connected to the app (at least Android Studio says that) and I have not specified any rules that would prohibit writing something on the database. The same data is stored without any problems in an SQLite database.</p>\n<p>Can any one of you think about a possible reason for this problem? Why is the new row not written into the firebase database? I'll appreciate every comment.</p>\n<p>EDIT: Here is the adjusted code that writes to the firebase database (by using 3 different approaches) after clicking a &quot;Order&quot; Button in the Fragment.</p>\n<pre><code>public void onClick(View view) {\n\n        if(view.getId() == R.id.ordering_button) {\n            \n\n/*          Firebase approach 1\n\n\n            final FirebaseDatabase database = FirebaseDatabase.getInstance();\n            DatabaseReference ref = database.getReference(&quot;&quot;);\n            DatabaseReference usersRef = ref.child(&quot;orders&quot;);\n            Map&lt;String, DB_Object_Test&gt; order = new HashMap&lt;&gt;();\n            order.put(&quot;order_2&quot;, new DB_Object_Test(&quot;1&quot;, &quot;testInfo_2&quot;, &quot;testName&quot;, &quot;2&quot;));\n            usersRef.setValue(order);\n */\n\n\n            /*\n            Firebase approach 3 (by Alex)\n             */\n\n        DatabaseReference rootRef = FirebaseDatabase.getInstance().getReference();\n        DatabaseReference ordersRef = rootRef.child(&quot;orders&quot;);\n        Map&lt;String, Object&gt; order = new HashMap&lt;&gt;();\n        order.put(&quot;info&quot;, &quot;No additional information&quot;);\n        order.put(&quot;name&quot;, &quot;Another Test Order&quot;);\n        order.put(&quot;table&quot;, &quot;15&quot;);\n        Log.e(&quot;LogTag&quot;, &quot;Before write firebase&quot;);\n        ordersRef.child(&quot;order_2&quot;).setValue(order).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n@Override\n    public void onComplete(@NonNull Task&lt;Void&gt; task) {\n        Log.e(&quot;LogTag&quot;, &quot;During on Complete firebase&quot;);\n        if (task.isSuccessful()) {\n        Log.e(&quot;dbTAG&quot;, &quot;Data successfully written.&quot;);\n        } else {\n        Log.e(&quot;dbTAG&quot;, task.getException().getMessage());\n        }\n        }\n        });\n        Log.e(&quot;LogTag&quot;, &quot;Afer write firebase&quot;);\n\n            \n            \n            /* Firebase approach 2\n            DatabaseReference firebase_DB = FirebaseDatabase.getInstance().getReference(&quot;orders&quot;);\n            String id =  firebase_DB.push().getKey();\n            DB_Object_Test currentOrder= new DB_Object_Test(id, &quot;testInfo_2&quot;, &quot;testName&quot;, &quot;2&quot;);\n            firebase_DB.child(id).setValue(currentOrder);\n            //Option 2*\n            //firebase_DB.setValue(currentOrder);\n            Log.e(&quot;LogTag&quot;, &quot;firebase_DB.child(id): &quot; + firebase_DB.child(id));\n            */\n\n        Navigation.findNavController(getView()).navigate(...);\n\n        } \n}\n</code></pre>\n"},{"tags":["java","arrays","multithreading","concurrency"],"comments":[{"owner":{"account_id":9664741,"reputation":13,"user_id":7171559,"display_name":"Trần Văn Dem"},"score":0,"creation_date":1632554442,"post_id":69323845,"comment_id":122528722,"body_markdown":"I will check size of sw, sr by &quot;System.out.println(sw.size())&quot;. Do you see it?","body":"I will check size of sw, sr by &quot;System.out.println(sw.size())&quot;. Do you see it?"},{"owner":{"account_id":9664741,"reputation":13,"user_id":7171559,"display_name":"Trần Văn Dem"},"score":0,"creation_date":1632554959,"post_id":69323845,"comment_id":122528794,"body_markdown":"yes I sure that the for loop is entered","body":"yes I sure that the for loop is entered"},{"owner":{"account_id":9664741,"reputation":13,"user_id":7171559,"display_name":"Trần Văn Dem"},"score":0,"creation_date":1632555802,"post_id":69323845,"comment_id":122528939,"body_markdown":"are you understand my question? I want the &quot;check&quot; in test1() is false because a race condition in my buffer is occured but the check is alway true. so I think my buffer don&#39;t have race condition but I can&#39;t explain why? if i use &quot;blockingqueue&quot; alternative the &quot;check&quot; is true.","body":"are you understand my question? I want the &quot;check&quot; in test1() is false because a race condition in my buffer is occured but the check is alway true. so I think my buffer don&#39;t have race condition but I can&#39;t explain why? if i use &quot;blockingqueue&quot; alternative the &quot;check&quot; is true."}],"answers":[{"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632554358,"creation_date":1632553709,"answer_id":69323901,"question_id":69323845,"body_markdown":"There is no happens before edge between a write to an array at some position and a read from the same position. So if you don&#39;t have any ordering guarantee in place, your code is suffering from  a data race.\r\n\r\nIf you also allow for concurrent offers and concurrent polls, then you also have race conditions on your hands.\r\n\r\nIt has been quite some time I played with ringbuffers. But normally you make use of a tail and head sequence (e.g. a long). If you make the ringbuffer a power of 2, you can do a cheap mod on the conversion of the sequences to indices. And the head and tail sequence could be relatively expensive volatiles (I really would start with that) and later on you could play with relaxed memory order modes. The head and tail will give you the appropriate happens before edges so don&#39;t need to do anything special to the array. With this approach you can also get rid of the &#39;size&#39;; you can calculate the size as the difference between tail and thehead; the problem with size is that it will cause contention between a thread read/writing to the ringbuffer. Also you need to properly pad the the head/tail fields to prevent false sharing.\r\n\r\n","title":"Is array in java is threadsafe in case : one thread change value, one thread read value?","body":"<p>There is no happens before edge between a write to an array at some position and a read from the same position. So if you don't have any ordering guarantee in place, your code is suffering from  a data race.</p>\n<p>If you also allow for concurrent offers and concurrent polls, then you also have race conditions on your hands.</p>\n<p>It has been quite some time I played with ringbuffers. But normally you make use of a tail and head sequence (e.g. a long). If you make the ringbuffer a power of 2, you can do a cheap mod on the conversion of the sequences to indices. And the head and tail sequence could be relatively expensive volatiles (I really would start with that) and later on you could play with relaxed memory order modes. The head and tail will give you the appropriate happens before edges so don't need to do anything special to the array. With this approach you can also get rid of the 'size'; you can calculate the size as the difference between tail and thehead; the problem with size is that it will cause contention between a thread read/writing to the ringbuffer. Also you need to properly pad the the head/tail fields to prevent false sharing.</p>\n"},{"tags":[],"owner":{"account_id":22855965,"reputation":26,"user_id":17000834,"display_name":"user17000834"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632566221,"creation_date":1632566221,"answer_id":69325327,"question_id":69323845,"body_markdown":"If there are one consumer and one producer, then this `RingBuffer` is thread-safe.\r\n\r\nHappens-before is provided by `AtomicInteger size`: it is read at the start and is written at the end of both `poll()` and `offer()`.\r\n\r\nFor example, let&#39;s look at `poll()`.  \r\nNotice that:\r\n1. in `poll()` we read `buffer[index]` only if we&#39;ve read `size.get()!=0`\r\n2. `size.get()!=0` can only happen after `size.getAndIncrement()` in `offer()`\r\n3. `size` is `AtomicInteger`, which means it provides _happens-before_ and makes all modifications in `offer()` visible in `poll()`\r\n\r\nIn other words:\r\n- `buffer[writeIndex]=value` in `offer()`\r\n- -(happens-before)-&gt; `size.getAndIncrement()` in `offer()`\r\n- -(happens-before)-&gt; `size.get()!=0` in `poll()`\r\n- -(happens-before)-&gt; `T x = buffer[index]` in `poll()`","title":"Is array in java is threadsafe in case : one thread change value, one thread read value?","body":"<p>If there are one consumer and one producer, then this <code>RingBuffer</code> is thread-safe.</p>\n<p>Happens-before is provided by <code>AtomicInteger size</code>: it is read at the start and is written at the end of both <code>poll()</code> and <code>offer()</code>.</p>\n<p>For example, let's look at <code>poll()</code>.<br />\nNotice that:</p>\n<ol>\n<li>in <code>poll()</code> we read <code>buffer[index]</code> only if we've read <code>size.get()!=0</code></li>\n<li><code>size.get()!=0</code> can only happen after <code>size.getAndIncrement()</code> in <code>offer()</code></li>\n<li><code>size</code> is <code>AtomicInteger</code>, which means it provides <em>happens-before</em> and makes all modifications in <code>offer()</code> visible in <code>poll()</code></li>\n</ol>\n<p>In other words:</p>\n<ul>\n<li><code>buffer[writeIndex]=value</code> in <code>offer()</code></li>\n<li>-(happens-before)-&gt; <code>size.getAndIncrement()</code> in <code>offer()</code></li>\n<li>-(happens-before)-&gt; <code>size.get()!=0</code> in <code>poll()</code></li>\n<li>-(happens-before)-&gt; <code>T x = buffer[index]</code> in <code>poll()</code></li>\n</ul>\n"}],"owner":{"account_id":9664741,"reputation":13,"user_id":7171559,"display_name":"Trần Văn Dem"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69325327,"answer_count":2,"score":0,"last_activity_date":1632566221,"creation_date":1632553132,"question_id":69323845,"body_markdown":"I write a simple ringbuffer and in method test1() I use one thread is poll() and\r\none thread is offer(). I test many time but it is always true. Can you explain for me?\r\n\r\n```\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.concurrent.*;\r\nimport java.util.concurrent.atomic.AtomicBoolean;\r\nimport java.util.concurrent.atomic.AtomicInteger;\r\n\r\n@SuppressWarnings(&quot;unchecked&quot;)\r\npublic class RingBuffer&lt;T&gt; {\r\n    private T[] buffer;\r\n//    private volatile T[] buffer;\r\n    private int readIndex;\r\n    private int writeIndex;\r\n    private final int capacity;\r\n    private AtomicInteger size;\r\n\r\n    public RingBuffer(int k) {\r\n        this.buffer = (T[]) new Object[k];\r\n        this.capacity = k;\r\n        this.readIndex = 0;\r\n        this.writeIndex = 0;\r\n        this.size = new AtomicInteger(0);\r\n    }\r\n\r\n    public boolean offer(T value) {\r\n        if (isFull()) return false;\r\n        buffer[writeIndex] = value;\r\n        writeIndex++;\r\n        if (writeIndex == capacity) writeIndex -= capacity;\r\n        size.getAndIncrement();\r\n        return true;\r\n    }\r\n\r\n    public T poll() {\r\n        if (isEmpty()) return null;\r\n        int index = readIndex;\r\n        T x = buffer[index];\r\n        readIndex++;\r\n        if (readIndex == capacity) readIndex -= capacity;\r\n        size.getAndDecrement();\r\n        return x;\r\n    }\r\n\r\n    public boolean isEmpty() {\r\n        return size.get() == 0;\r\n    }\r\n\r\n    public boolean isFull() {\r\n        return size.get() == capacity;\r\n    }\r\n    public static void main(String[] args) throws ExecutionException, InterruptedException {\r\n        test1();\r\n    }\r\n\r\n}\r\n\r\n```\r\nAs you see in the test1() method I use different Thread but the `check` is true.\r\nSorry because stackoverflow warning me this question is mostly code so I will paste test1() method in here.\r\n\r\n```\r\n  public static void test1() throws ExecutionException, InterruptedException {\r\n        RingBuffer&lt;String&gt; buffer = new RingBuffer&lt;&gt;(1000);\r\n        AtomicBoolean writeDone1 = new AtomicBoolean(false);\r\n        ExecutorService service = Executors.newFixedThreadPool(2);\r\n        ExecutorService service1 = Executors.newFixedThreadPool(2);\r\n\r\n        Callable&lt;List&lt;String&gt;&gt; cw1 = () -&gt; {\r\n            List&lt;String &gt; x = new ArrayList&lt;&gt;();\r\n            int count = 0;\r\n            for (int i = 0; i &lt; 10000000; i++) {\r\n                if (buffer.offer( i+&quot;&quot;)) {\r\n                    count++;\r\n                    x.add(i+&quot;&quot;);\r\n                }\r\n            }\r\n            writeDone1.set(true);\r\n            System.out.println(&quot;num write &quot; + count);\r\n            return x;\r\n        };\r\n\r\n        Callable&lt;List&lt;String&gt;&gt; cr = () -&gt; {\r\n            List&lt;String&gt; x = new ArrayList&lt;&gt;();\r\n            int count = 0;\r\n            while (!writeDone1.get()) {\r\n                String  data = buffer.poll();\r\n                if (data != null) {\r\n                    x.add(data);\r\n                    count++;\r\n                }\r\n            }\r\n\r\n            while (true) {\r\n                String data = buffer.poll();\r\n                if (data != null) {\r\n                    x.add(data);\r\n                    count++;\r\n                } else {\r\n                    break;\r\n                }\r\n            }\r\n            System.out.println(&quot;num read &quot; + count);\r\n            return x;\r\n        };\r\n        Future&lt;List&lt;String &gt;&gt; fw = service.submit(cw1);\r\n        Future&lt;List&lt;String&gt;&gt; fr = service1.submit(cr);\r\n\r\n        List&lt;String&gt; sw = fw.get();\r\n        List&lt;String&gt; sr = fr.get();\r\n        System.out.println(sw.size());\r\n        System.out.println(sr.size());\r\n        boolean check = true;\r\n        for (int i =0 ; i&lt; sw.size() ; i++){\r\n            if (!sw.get(i).equals( sr.get(i))){\r\n                check = false;\r\n                break;\r\n            }\r\n        }\r\n        System.out.println(check);\r\n\r\n        service.shutdown();\r\n        service1.shutdown();\r\n    }\r\n```\r\n\r\nIf I use only one consumer and producer. I can&#39;t write a test make the race conditions here. Can you help me? \r\n\r\nThankyou","title":"Is array in java is threadsafe in case : one thread change value, one thread read value?","body":"<p>I write a simple ringbuffer and in method test1() I use one thread is poll() and\none thread is offer(). I test many time but it is always true. Can you explain for me?</p>\n<pre><code>\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.*;\nimport java.util.concurrent.atomic.AtomicBoolean;\nimport java.util.concurrent.atomic.AtomicInteger;\n\n@SuppressWarnings(&quot;unchecked&quot;)\npublic class RingBuffer&lt;T&gt; {\n    private T[] buffer;\n//    private volatile T[] buffer;\n    private int readIndex;\n    private int writeIndex;\n    private final int capacity;\n    private AtomicInteger size;\n\n    public RingBuffer(int k) {\n        this.buffer = (T[]) new Object[k];\n        this.capacity = k;\n        this.readIndex = 0;\n        this.writeIndex = 0;\n        this.size = new AtomicInteger(0);\n    }\n\n    public boolean offer(T value) {\n        if (isFull()) return false;\n        buffer[writeIndex] = value;\n        writeIndex++;\n        if (writeIndex == capacity) writeIndex -= capacity;\n        size.getAndIncrement();\n        return true;\n    }\n\n    public T poll() {\n        if (isEmpty()) return null;\n        int index = readIndex;\n        T x = buffer[index];\n        readIndex++;\n        if (readIndex == capacity) readIndex -= capacity;\n        size.getAndDecrement();\n        return x;\n    }\n\n    public boolean isEmpty() {\n        return size.get() == 0;\n    }\n\n    public boolean isFull() {\n        return size.get() == capacity;\n    }\n    public static void main(String[] args) throws ExecutionException, InterruptedException {\n        test1();\n    }\n\n}\n\n</code></pre>\n<p>As you see in the test1() method I use different Thread but the <code>check</code> is true.\nSorry because stackoverflow warning me this question is mostly code so I will paste test1() method in here.</p>\n<pre><code>  public static void test1() throws ExecutionException, InterruptedException {\n        RingBuffer&lt;String&gt; buffer = new RingBuffer&lt;&gt;(1000);\n        AtomicBoolean writeDone1 = new AtomicBoolean(false);\n        ExecutorService service = Executors.newFixedThreadPool(2);\n        ExecutorService service1 = Executors.newFixedThreadPool(2);\n\n        Callable&lt;List&lt;String&gt;&gt; cw1 = () -&gt; {\n            List&lt;String &gt; x = new ArrayList&lt;&gt;();\n            int count = 0;\n            for (int i = 0; i &lt; 10000000; i++) {\n                if (buffer.offer( i+&quot;&quot;)) {\n                    count++;\n                    x.add(i+&quot;&quot;);\n                }\n            }\n            writeDone1.set(true);\n            System.out.println(&quot;num write &quot; + count);\n            return x;\n        };\n\n        Callable&lt;List&lt;String&gt;&gt; cr = () -&gt; {\n            List&lt;String&gt; x = new ArrayList&lt;&gt;();\n            int count = 0;\n            while (!writeDone1.get()) {\n                String  data = buffer.poll();\n                if (data != null) {\n                    x.add(data);\n                    count++;\n                }\n            }\n\n            while (true) {\n                String data = buffer.poll();\n                if (data != null) {\n                    x.add(data);\n                    count++;\n                } else {\n                    break;\n                }\n            }\n            System.out.println(&quot;num read &quot; + count);\n            return x;\n        };\n        Future&lt;List&lt;String &gt;&gt; fw = service.submit(cw1);\n        Future&lt;List&lt;String&gt;&gt; fr = service1.submit(cr);\n\n        List&lt;String&gt; sw = fw.get();\n        List&lt;String&gt; sr = fr.get();\n        System.out.println(sw.size());\n        System.out.println(sr.size());\n        boolean check = true;\n        for (int i =0 ; i&lt; sw.size() ; i++){\n            if (!sw.get(i).equals( sr.get(i))){\n                check = false;\n                break;\n            }\n        }\n        System.out.println(check);\n\n        service.shutdown();\n        service1.shutdown();\n    }\n</code></pre>\n<p>If I use only one consumer and producer. I can't write a test make the race conditions here. Can you help me?</p>\n<p>Thankyou</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":7996,"page":1996,"page_size":100}
