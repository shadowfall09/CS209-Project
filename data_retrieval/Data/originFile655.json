{"items":[{"tags":["java","kotlin","gradle","jvm-bytecode"],"owner":{"account_id":2358514,"reputation":9644,"user_id":2065796,"accept_rate":62,"display_name":"Sasha Shpota"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1676189162,"creation_date":1676189162,"question_id":75425643,"body_markdown":"I have [a Kotlin project][1] that I want to compile to Java 1.8 bytecode so that it could also be used on Android as well. I use the `com.vanniktech.maven.publish` Gradle plugin to publish the library to Maven Central. This plugin works [only when I set jvmToolchain to 11][2]. However I can still set `jvmTarget` to 1.8. This way, my configuration would look like this:\r\n```groovy\r\ncompileKotlin {\r\n    kotlinOptions.jvmTarget = &#39;1.8&#39;\r\n}\r\n\r\nkotlin {\r\n    jvmToolchain(11)\r\n}\r\n```\r\nThis works, but I am not sure what bytecode it would produce. It also gives compilation warning asking me to set both values to the same version.\r\n\r\n**Question:** What version of bytecode will Gradle project produce if  `jvmToolchain` is set to 11 and `jvmTarget`  to 1.8?\r\n\r\nAlliteratively, how can I make it produce Java 1.8 bytecode in a different way? (If I am doing something wrong).\r\n\r\n  [1]: https://github.com/sol4k/sol4k\r\n  [2]: https://github.com/vanniktech/gradle-maven-publish-plugin/issues/518","title":"What bytecode will Kotlin compiller produce if jvmToolchain is set to 11 and jvmTarget to 1.8?","body":"<p>I have <a href=\"https://github.com/sol4k/sol4k\" rel=\"nofollow noreferrer\">a Kotlin project</a> that I want to compile to Java 1.8 bytecode so that it could also be used on Android as well. I use the <code>com.vanniktech.maven.publish</code> Gradle plugin to publish the library to Maven Central. This plugin works <a href=\"https://github.com/vanniktech/gradle-maven-publish-plugin/issues/518\" rel=\"nofollow noreferrer\">only when I set jvmToolchain to 11</a>. However I can still set <code>jvmTarget</code> to 1.8. This way, my configuration would look like this:</p>\n<pre><code>compileKotlin {\n    kotlinOptions.jvmTarget = '1.8'\n}\n\nkotlin {\n    jvmToolchain(11)\n}\n</code></pre>\n<p>This works, but I am not sure what bytecode it would produce. It also gives compilation warning asking me to set both values to the same version.</p>\n<p><strong>Question:</strong> What version of bytecode will Gradle project produce if  <code>jvmToolchain</code> is set to 11 and <code>jvmTarget</code>  to 1.8?</p>\n<p>Alliteratively, how can I make it produce Java 1.8 bytecode in a different way? (If I am doing something wrong).</p>\n"},{"tags":["java","android","firebase","nullpointerexception"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1676042580,"post_id":75412832,"comment_id":133063717,"body_markdown":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your [Firebase Console](https://console.firebase.google.com/u/0/project/_/database/data).","body":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your <a href=\"https://console.firebase.google.com/u/0/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Console</a>."},{"owner":{"account_id":10926759,"reputation":21,"user_id":8031255,"display_name":"Jamshed Ali"},"score":0,"creation_date":1676189070,"post_id":75412832,"comment_id":133084564,"body_markdown":"I have added the json file, please check it now","body":"I have added the json file, please check it now"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1676205991,"post_id":75412832,"comment_id":133086880,"body_markdown":"Are you sure all children do contain a field `tuition`?","body":"Are you sure all children do contain a field <code>tuition</code>?"}],"answers":[{"tags":[],"owner":{"account_id":23416689,"reputation":181,"user_id":17477546,"display_name":"Ajay Makwana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676050957,"creation_date":1676050957,"answer_id":75414458,"question_id":75412832,"body_markdown":"You can just check for null value like below.\r\n\r\n    else if(transactionData.getCategory().equals(&quot;Tuition&quot;)){\r\n       if (expenseInfo.getTuition() != null)\r\n          expenseInfo.setTuition(expenseInfo.getTuition()-transactionData.getAmount());\r\n       }\r\n    }\r\n\r\nFor NullPointerExceptions you can check if that particular value is non-null.\r\n\r\nHope this helps.","title":"Facing error of Attempt to invoke virtual method on a null object reference","body":"<p>You can just check for null value like below.</p>\n<pre><code>else if(transactionData.getCategory().equals(&quot;Tuition&quot;)){\n   if (expenseInfo.getTuition() != null)\n      expenseInfo.setTuition(expenseInfo.getTuition()-transactionData.getAmount());\n   }\n}\n</code></pre>\n<p>For NullPointerExceptions you can check if that particular value is non-null.</p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":10926759,"reputation":21,"user_id":8031255,"display_name":"Jamshed Ali"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":699,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676189001,"creation_date":1676041654,"question_id":75412832,"body_markdown":"[![null object reference](https://i.stack.imgur.com/Vm5LH.png)](https://i.stack.imgur.com/Vm5LH.png)\r\n\r\nI&#39;m unable to fix this bug. This bug is showing when I want to remove an entry from firebase.\r\n\r\n java.lang.NullPointerException: Attempt to invoke virtual method &#39;double com.educationalappspk.financemgt4ortho.ExpenseInfo.getTuition()&#39; on a null object reference\r\n        at com.educationalappspk.financemgt4ortho.TransactionActivityAdapter$2.onDataChange(TransactionActivityAdapter.java:157)\r\n        at com.google.firebase.database.Query$1.onDataChange(Query.java:191)\r\n        \r\n\r\n```\r\n\r\npublic class TransactionActivityAdapter extends ArrayAdapter&lt;TransactionData&gt; {\r\n\r\n    private Activity context;\r\n    private List&lt;TransactionData&gt; transactionDataList;\r\n    private FirebaseUser user;\r\n    private String uid;\r\n\r\n    public TransactionActivityAdapter(Activity context, List&lt;TransactionData&gt; transactionDataList) {\r\n        super(context, R.layout.recent_transaction, transactionDataList);\r\n        this.context =  context;\r\n        this.transactionDataList = transactionDataList;\r\n    }\r\n    @Override\r\n    public int getCount() {\r\n        return transactionDataList.size();\r\n    }\r\n    @Nullable\r\n    @Override\r\n    public TransactionData getItem(int position) {\r\n        return transactionDataList.get(position);\r\n    }\r\n    @NonNull\r\n    @Override\r\n    public View getView(final int position, @Nullable View convertView, @NonNull ViewGroup parent) {\r\n        LayoutInflater layoutInflater = context.getLayoutInflater();\r\n        View view = layoutInflater.inflate(R.layout.expenselist_child,null,false);\r\n        TransactionData transactionData = transactionDataList.get(position);\r\n        ImageButton imageButton = view.findViewById(R.id.expenseListDeleteButton);\r\n        imageButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                //Toast.makeText(getContext(),&quot;Item selected &quot; + position,Toast.LENGTH_SHORT).show();\r\n                AlertDialog.Builder builder1 = new AlertDialog.Builder(context);\r\n                builder1.setMessage(&quot;Delete this transactions?&quot;);\r\n                builder1.setCancelable(true);\r\n                builder1.setPositiveButton(\r\n                        &quot;Yes&quot;,\r\n                        new DialogInterface.OnClickListener() {\r\n                            public void onClick(DialogInterface dialog, int id) {\r\n                                onDeleteItem(position);\r\n                            }\r\n                        });\r\n\r\n                builder1.setNegativeButton(\r\n                        &quot;No&quot;,\r\n                        new DialogInterface.OnClickListener() {\r\n                            public void onClick(DialogInterface dialog, int id) {\r\n                                dialog.cancel();\r\n                            }\r\n                        });\r\n                AlertDialog alert11 = builder1.create();\r\n                alert11.show();\r\n            }\r\n        });\r\n\r\n        TextView date,category,amount,type;\r\n        date = view.findViewById(R.id.expense_list_child_date);\r\n        category = view.findViewById(R.id.expense_list_child_category);\r\n        amount = view.findViewById(R.id.expense_list_child_amount);\r\n        type = view.findViewById(R.id.expense_list_child_type);\r\n        date.setText(transactionData.getDate());\r\n        category.setText(transactionData.getCategory());\r\n        amount.setText(String.valueOf(transactionData.getAmount()) );\r\n        type.setText(transactionData.getType());\r\n        return view;\r\n    }\r\n\r\n    public void onDeleteItem(final int position){\r\n        final TransactionData transactionData = transactionDataList.get(position);\r\n        user = FirebaseAuth.getInstance().getCurrentUser();\r\n        uid = user.getUid();\r\n        final DatabaseReference db = FirebaseDatabase.getInstance().getReference(uid).child(&quot;transactions&quot;);\r\n        SimpleDateFormat format = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n        try {\r\n            Date date = format.parse(transactionData.getDate());\r\n            DailyData dailyData = new DailyData(date);\r\n            if(Integer.parseInt(dailyData.getDay())/10==0){\r\n                String d = &quot;0&quot; + dailyData.getDay();\r\n                dailyData.setDay(d);\r\n            }\r\n            if(Integer.parseInt(dailyData.getMonth())/10==0){\r\n                String m = &quot;0&quot; + dailyData.getMonth();\r\n                dailyData.setMonth(m);\r\n            }\r\n            final DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference(uid).child(&quot;expenseInfo&quot;).child(dailyData.getYear()).child(dailyData.getMonth());\r\n            databaseReference.addListenerForSingleValueEvent(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                    ExpenseInfo expenseInfo = dataSnapshot.getValue(ExpenseInfo.class);\r\n                    Log.d(&quot;hi&quot;, &quot;onDataChange: &quot; +transactionData.getType());\r\n                    if(transactionData.getCategory().equals(&quot;Food&quot;)){\r\n                        expenseInfo.setFood(expenseInfo.getFood()-transactionData.getAmount());\r\n                    }\r\n                    else if(transactionData.getCategory().equals(&quot;Rent&quot;)){\r\n                        expenseInfo.setRent(expenseInfo.getRent()-transactionData.getAmount());\r\n                    }\r\n                    else if(transactionData.getCategory().equals(&quot;Transportation&quot;)){\r\n                        expenseInfo.setTransportation(expenseInfo.getTransportation()-transactionData.getAmount());\r\n                    }\r\n                    else if(transactionData.getCategory().equals(&quot;Clothing&quot;)){\r\n                        expenseInfo.setClothing(expenseInfo.getClothing()-transactionData.getAmount());\r\n                    }\r\n                    else if(transactionData.getCategory().equals(&quot;Communication&quot;)){\r\n                        expenseInfo.setCommunication(expenseInfo.getCommunication()-transactionData.getAmount());\r\n                    }\r\n                    else if(transactionData.getCategory().equals(&quot;Books&quot;)){\r\n                        expenseInfo.setBooks(expenseInfo.getBooks()-transactionData.getAmount());\r\n                    }\r\n                    else if(transactionData.getCategory().equals(&quot;Electronics&quot;)){\r\n                        expenseInfo.setElectronics(expenseInfo.getElectronics()-transactionData.getAmount());\r\n                    }\r\n                    else if(transactionData.getCategory().equals(&quot;Project&quot;)){\r\n                        expenseInfo.setProject(expenseInfo.getProject()-transactionData.getAmount());\r\n                    }\r\n                    else if(transactionData.getCategory().equals(&quot;Treat&quot;)){\r\n                        expenseInfo.setTreat(expenseInfo.getTreat()-transactionData.getAmount());\r\n                    }\r\n                    else if(transactionData.getCategory().equals(&quot;Tuition&quot;)){\r\n                        expenseInfo.setTuition(expenseInfo.getTuition()-transactionData.getAmount());\r\n                    }\r\n                    else if(transactionData.getCategory().equals(&quot;Education&quot;)){\r\n                        expenseInfo.setEducation(expenseInfo.getEducation()-transactionData.getAmount());\r\n                    }\r\n                    else if(transactionData.getCategory().equals(&quot;Hangout&quot;)){\r\n                        expenseInfo.setHangout(expenseInfo.getHangout()-transactionData.getAmount());\r\n                    }\r\n                    else if(transactionData.getCategory().equals(&quot;Trip&quot;)){\r\n                        expenseInfo.setTrip(expenseInfo.getTrip()-transactionData.getAmount());\r\n                    }\r\n                    else if(transactionData.getCategory().equals(&quot;Utilities&quot;)){\r\n                        expenseInfo.setUtilities(expenseInfo.getUtilities()-transactionData.getAmount());\r\n                    }\r\n                    else if(transactionData.getCategory().equals(&quot;Services&quot;)){\r\n                        expenseInfo.setServices(expenseInfo.getServices()-transactionData.getAmount());\r\n                    }\r\n                    else if(transactionData.getCategory().equals(&quot;Fees&quot;)){\r\n                        expenseInfo.setFees(expenseInfo.getFees()-transactionData.getAmount());\r\n                    }\r\n                    else if(transactionData.getCategory().equals(&quot;Tax&quot;)){\r\n                        expenseInfo.setTax(expenseInfo.getTax()-transactionData.getAmount());\r\n                    }\r\n                    else {\r\n                        if (expenseInfo != null) {\r\n                            expenseInfo.setOthers(expenseInfo.getOthers()-transactionData.getAmount());\r\n                        }\r\n                    }\r\n                    databaseReference.setValue(expenseInfo);\r\n                }\r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError databaseError) {\r\n                }\r\n            });\r\n\r\n        } catch (ParseException e) {\r\n            e.printStackTrace();\r\n        }\r\n        final String transactionId = transactionData.getTransactionId();\r\n        db.keepSynced(true);\r\n        db.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                //Toast.makeText(getContext(),&quot;on data change&quot;,Toast.LENGTH_SHORT).show();\r\n                for (DataSnapshot dataSnapshot1: dataSnapshot.getChildren()){\r\n                    TransactionData transactionData1 = dataSnapshot1.getValue(TransactionData.class);\r\n                    //Toast.makeText(getContext(),transactionId + &quot; &quot; + transactionData1.getTransactionId().toString(),Toast.LENGTH_SHORT).show();\r\n                    if(transactionData1.getTransactionId().equals(transactionId)){\r\n                        db.child(dataSnapshot1.getKey().toString()).removeValue();\r\n                        transactionDataList.remove(position);\r\n                        notifyDataSetChanged();\r\n                       Toast.makeText(getContext(),&quot;item deleted&quot;,Toast.LENGTH_SHORT).show();\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError databaseError) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n}\r\n```\r\nFirebase json file is as\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    {\r\n      &quot;F93sQbST7whWeT0ilYnahiO9wNo1&quot;: {\r\n        &quot;calender&quot;: {\r\n          &quot;2023&quot;: {\r\n            &quot;02&quot;: {\r\n              &quot;10&quot;: {\r\n                &quot;deposit&quot;: 200,\r\n                &quot;expense&quot;: 100\r\n              }\r\n            }\r\n          }\r\n        },\r\n        &quot;expenseInfo&quot;: {\r\n          &quot;2023&quot;: {\r\n            &quot;02&quot;: {\r\n              &quot;books&quot;: 0,\r\n              &quot;clothing&quot;: 0,\r\n              &quot;communication&quot;: 0,\r\n              &quot;education&quot;: 0,\r\n              &quot;electronics&quot;: 0,\r\n              &quot;fees&quot;: 0,\r\n              &quot;food&quot;: 100,\r\n              &quot;hangout&quot;: 0,\r\n              &quot;others&quot;: 0,\r\n              &quot;project&quot;: 0,\r\n              &quot;rent&quot;: 0,\r\n              &quot;services&quot;: 0,\r\n              &quot;tax&quot;: 0,\r\n              &quot;transportation&quot;: 0,\r\n              &quot;treat&quot;: 0,\r\n              &quot;trip&quot;: 0,\r\n              &quot;tuition&quot;: 0,\r\n              &quot;utilities&quot;: 0\r\n            }\r\n          }\r\n        },\r\n        &quot;transactions&quot;: {\r\n          &quot;-NNw3hVUnakSVcZBKgEO&quot;: {\r\n            &quot;amount&quot;: 200,\r\n            &quot;category&quot;: &quot;Tuition&quot;,\r\n            &quot;date&quot;: &quot;10/02/2023&quot;,\r\n            &quot;transactionId&quot;: &quot;-NNw3hVUnakSVcZBKgEO&quot;,\r\n            &quot;type&quot;: &quot;Deposit&quot;\r\n          },\r\n          &quot;-NNw3nf6RGcPEiCIGY2X&quot;: {\r\n            &quot;amount&quot;: 100,\r\n            &quot;category&quot;: &quot;Food&quot;,\r\n            &quot;date&quot;: &quot;10/02/2023&quot;,\r\n            &quot;transactionId&quot;: &quot;-NNw3nf6RGcPEiCIGY2X&quot;,\r\n            &quot;type&quot;: &quot;Expense&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n    public class ExpenseInfo {\r\n\r\n\r\n    private double food,rent,transportation,clothing,communication,books,electronics,project,treat,tuition,education,hangout,trip,utilities,services,fees,tax,others;\r\n    public ExpenseInfo() {\r\n        food=0;\r\n        rent =0;\r\n        transportation=0;\r\n        clothing=0;\r\n        communication=0;\r\n        books=0;\r\n        electronics=0;\r\n        project=0;\r\n        treat=0;\r\n        tuition=0;\r\n        education=0;\r\n        hangout=0;\r\n        trip=0;\r\n        utilities=0;\r\n        fees=0;\r\n        services=0;\r\n        tax=0;\r\n        others=0;\r\n    }\r\n\r\n    public double getFood() {\r\n        return food;\r\n    }\r\n\r\n    public void setFood(double food) {\r\n        this.food = food;\r\n    }\r\n\r\n    public double getRent() {\r\n        return rent;\r\n    }\r\n\r\n    public void setRent(double rent) {\r\n        this.rent = rent;\r\n    }\r\n\r\n    public double getTransportation() {\r\n        return transportation;\r\n    }\r\n\r\n    public void setTransportation(double transportation) {\r\n        this.transportation = transportation;\r\n    }\r\n\r\n    public double getClothing() {\r\n        return clothing;\r\n    }\r\n\r\n    public void setClothing(double clothing) {\r\n        this.clothing = clothing;\r\n    }\r\n\r\n    public double getCommunication() {\r\n        return communication;\r\n    }\r\n\r\n    public void setCommunication(double communication) {\r\n        this.communication = communication;\r\n    }\r\n\r\n    public double getBooks() {\r\n        return books;\r\n    }\r\n\r\n    public void setBooks(double books) {\r\n        this.books = books;\r\n    }\r\n\r\n    public double getElectronics() {\r\n        return electronics;\r\n    }\r\n\r\n    public void setElectronics(double electronics) {\r\n        this.electronics = electronics;\r\n    }\r\n\r\n    public double getProject() {\r\n        return project;\r\n    }\r\n\r\n    public void setProject(double project) {\r\n        this.project = project;\r\n    }\r\n\r\n    public double getTreat() {\r\n        return treat;\r\n    }\r\n\r\n    public void setTreat(double treat) {\r\n        this.treat = treat;\r\n    }\r\n\r\n    public double getTuition() {\r\n        return tuition;\r\n    }\r\n\r\n    public void setTuition(double tuition) {\r\n        this.tuition = tuition;\r\n    }\r\n\r\n    public double getEducation() {\r\n        return education;\r\n    }\r\n\r\n    public void setEducation(double education) {\r\n        this.education = education;\r\n    }\r\n\r\n    public double getHangout() {\r\n        return hangout;\r\n    }\r\n\r\n    public void setHangout(double hangout) {\r\n        this.hangout = hangout;\r\n    }\r\n\r\n    public double getTrip() {\r\n        return trip;\r\n    }\r\n\r\n    public void setTrip(double trip) {\r\n        this.trip = trip;\r\n    }\r\n\r\n    public double getUtilities() {\r\n        return utilities;\r\n    }\r\n\r\n    public void setUtilities(double utilities) {\r\n        this.utilities = utilities;\r\n    }\r\n\r\n    public double getServices() {\r\n        return services;\r\n    }\r\n\r\n    public void setServices(double services) {\r\n        this.services = services;\r\n    }\r\n    public double getFees() {\r\n        return fees;\r\n    }\r\n    public void setFees(double fees) {\r\n        this.fees = fees;\r\n    }\r\n    public double getTax() {\r\n        return tax;\r\n    }\r\n    public void setTax(double tax) {\r\n        this.tax = tax;\r\n    }\r\n    public double getOthers() {\r\n        return others;\r\n    }\r\n    public void setOthers(double others) {\r\n        this.others = others;\r\n    }\r\n\r\nHere \r\n    ExpenseInfo expenseInfo = dataSnapshot.getValue(ExpenseInfo.class);\r\n\r\nthis expenseInfo returns null value. How can it be non null?\r\nI&#39;ve tried to fix this but was unable to do so. ","title":"Facing error of Attempt to invoke virtual method on a null object reference","body":"<p><a href=\"https://i.stack.imgur.com/Vm5LH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vm5LH.png\" alt=\"null object reference\" /></a></p>\n<p>I'm unable to fix this bug. This bug is showing when I want to remove an entry from firebase.</p>\n<p>java.lang.NullPointerException: Attempt to invoke virtual method 'double com.educationalappspk.financemgt4ortho.ExpenseInfo.getTuition()' on a null object reference\nat com.educationalappspk.financemgt4ortho.TransactionActivityAdapter$2.onDataChange(TransactionActivityAdapter.java:157)\nat com.google.firebase.database.Query$1.onDataChange(Query.java:191)</p>\n<pre><code>\npublic class TransactionActivityAdapter extends ArrayAdapter&lt;TransactionData&gt; {\n\n    private Activity context;\n    private List&lt;TransactionData&gt; transactionDataList;\n    private FirebaseUser user;\n    private String uid;\n\n    public TransactionActivityAdapter(Activity context, List&lt;TransactionData&gt; transactionDataList) {\n        super(context, R.layout.recent_transaction, transactionDataList);\n        this.context =  context;\n        this.transactionDataList = transactionDataList;\n    }\n    @Override\n    public int getCount() {\n        return transactionDataList.size();\n    }\n    @Nullable\n    @Override\n    public TransactionData getItem(int position) {\n        return transactionDataList.get(position);\n    }\n    @NonNull\n    @Override\n    public View getView(final int position, @Nullable View convertView, @NonNull ViewGroup parent) {\n        LayoutInflater layoutInflater = context.getLayoutInflater();\n        View view = layoutInflater.inflate(R.layout.expenselist_child,null,false);\n        TransactionData transactionData = transactionDataList.get(position);\n        ImageButton imageButton = view.findViewById(R.id.expenseListDeleteButton);\n        imageButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                //Toast.makeText(getContext(),&quot;Item selected &quot; + position,Toast.LENGTH_SHORT).show();\n                AlertDialog.Builder builder1 = new AlertDialog.Builder(context);\n                builder1.setMessage(&quot;Delete this transactions?&quot;);\n                builder1.setCancelable(true);\n                builder1.setPositiveButton(\n                        &quot;Yes&quot;,\n                        new DialogInterface.OnClickListener() {\n                            public void onClick(DialogInterface dialog, int id) {\n                                onDeleteItem(position);\n                            }\n                        });\n\n                builder1.setNegativeButton(\n                        &quot;No&quot;,\n                        new DialogInterface.OnClickListener() {\n                            public void onClick(DialogInterface dialog, int id) {\n                                dialog.cancel();\n                            }\n                        });\n                AlertDialog alert11 = builder1.create();\n                alert11.show();\n            }\n        });\n\n        TextView date,category,amount,type;\n        date = view.findViewById(R.id.expense_list_child_date);\n        category = view.findViewById(R.id.expense_list_child_category);\n        amount = view.findViewById(R.id.expense_list_child_amount);\n        type = view.findViewById(R.id.expense_list_child_type);\n        date.setText(transactionData.getDate());\n        category.setText(transactionData.getCategory());\n        amount.setText(String.valueOf(transactionData.getAmount()) );\n        type.setText(transactionData.getType());\n        return view;\n    }\n\n    public void onDeleteItem(final int position){\n        final TransactionData transactionData = transactionDataList.get(position);\n        user = FirebaseAuth.getInstance().getCurrentUser();\n        uid = user.getUid();\n        final DatabaseReference db = FirebaseDatabase.getInstance().getReference(uid).child(&quot;transactions&quot;);\n        SimpleDateFormat format = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\n        try {\n            Date date = format.parse(transactionData.getDate());\n            DailyData dailyData = new DailyData(date);\n            if(Integer.parseInt(dailyData.getDay())/10==0){\n                String d = &quot;0&quot; + dailyData.getDay();\n                dailyData.setDay(d);\n            }\n            if(Integer.parseInt(dailyData.getMonth())/10==0){\n                String m = &quot;0&quot; + dailyData.getMonth();\n                dailyData.setMonth(m);\n            }\n            final DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference(uid).child(&quot;expenseInfo&quot;).child(dailyData.getYear()).child(dailyData.getMonth());\n            databaseReference.addListenerForSingleValueEvent(new ValueEventListener() {\n                @Override\n                public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                    ExpenseInfo expenseInfo = dataSnapshot.getValue(ExpenseInfo.class);\n                    Log.d(&quot;hi&quot;, &quot;onDataChange: &quot; +transactionData.getType());\n                    if(transactionData.getCategory().equals(&quot;Food&quot;)){\n                        expenseInfo.setFood(expenseInfo.getFood()-transactionData.getAmount());\n                    }\n                    else if(transactionData.getCategory().equals(&quot;Rent&quot;)){\n                        expenseInfo.setRent(expenseInfo.getRent()-transactionData.getAmount());\n                    }\n                    else if(transactionData.getCategory().equals(&quot;Transportation&quot;)){\n                        expenseInfo.setTransportation(expenseInfo.getTransportation()-transactionData.getAmount());\n                    }\n                    else if(transactionData.getCategory().equals(&quot;Clothing&quot;)){\n                        expenseInfo.setClothing(expenseInfo.getClothing()-transactionData.getAmount());\n                    }\n                    else if(transactionData.getCategory().equals(&quot;Communication&quot;)){\n                        expenseInfo.setCommunication(expenseInfo.getCommunication()-transactionData.getAmount());\n                    }\n                    else if(transactionData.getCategory().equals(&quot;Books&quot;)){\n                        expenseInfo.setBooks(expenseInfo.getBooks()-transactionData.getAmount());\n                    }\n                    else if(transactionData.getCategory().equals(&quot;Electronics&quot;)){\n                        expenseInfo.setElectronics(expenseInfo.getElectronics()-transactionData.getAmount());\n                    }\n                    else if(transactionData.getCategory().equals(&quot;Project&quot;)){\n                        expenseInfo.setProject(expenseInfo.getProject()-transactionData.getAmount());\n                    }\n                    else if(transactionData.getCategory().equals(&quot;Treat&quot;)){\n                        expenseInfo.setTreat(expenseInfo.getTreat()-transactionData.getAmount());\n                    }\n                    else if(transactionData.getCategory().equals(&quot;Tuition&quot;)){\n                        expenseInfo.setTuition(expenseInfo.getTuition()-transactionData.getAmount());\n                    }\n                    else if(transactionData.getCategory().equals(&quot;Education&quot;)){\n                        expenseInfo.setEducation(expenseInfo.getEducation()-transactionData.getAmount());\n                    }\n                    else if(transactionData.getCategory().equals(&quot;Hangout&quot;)){\n                        expenseInfo.setHangout(expenseInfo.getHangout()-transactionData.getAmount());\n                    }\n                    else if(transactionData.getCategory().equals(&quot;Trip&quot;)){\n                        expenseInfo.setTrip(expenseInfo.getTrip()-transactionData.getAmount());\n                    }\n                    else if(transactionData.getCategory().equals(&quot;Utilities&quot;)){\n                        expenseInfo.setUtilities(expenseInfo.getUtilities()-transactionData.getAmount());\n                    }\n                    else if(transactionData.getCategory().equals(&quot;Services&quot;)){\n                        expenseInfo.setServices(expenseInfo.getServices()-transactionData.getAmount());\n                    }\n                    else if(transactionData.getCategory().equals(&quot;Fees&quot;)){\n                        expenseInfo.setFees(expenseInfo.getFees()-transactionData.getAmount());\n                    }\n                    else if(transactionData.getCategory().equals(&quot;Tax&quot;)){\n                        expenseInfo.setTax(expenseInfo.getTax()-transactionData.getAmount());\n                    }\n                    else {\n                        if (expenseInfo != null) {\n                            expenseInfo.setOthers(expenseInfo.getOthers()-transactionData.getAmount());\n                        }\n                    }\n                    databaseReference.setValue(expenseInfo);\n                }\n                @Override\n                public void onCancelled(@NonNull DatabaseError databaseError) {\n                }\n            });\n\n        } catch (ParseException e) {\n            e.printStackTrace();\n        }\n        final String transactionId = transactionData.getTransactionId();\n        db.keepSynced(true);\n        db.addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                //Toast.makeText(getContext(),&quot;on data change&quot;,Toast.LENGTH_SHORT).show();\n                for (DataSnapshot dataSnapshot1: dataSnapshot.getChildren()){\n                    TransactionData transactionData1 = dataSnapshot1.getValue(TransactionData.class);\n                    //Toast.makeText(getContext(),transactionId + &quot; &quot; + transactionData1.getTransactionId().toString(),Toast.LENGTH_SHORT).show();\n                    if(transactionData1.getTransactionId().equals(transactionId)){\n                        db.child(dataSnapshot1.getKey().toString()).removeValue();\n                        transactionDataList.remove(position);\n                        notifyDataSetChanged();\n                       Toast.makeText(getContext(),&quot;item deleted&quot;,Toast.LENGTH_SHORT).show();\n                        break;\n                    }\n                }\n            }\n            @Override\n            public void onCancelled(@NonNull DatabaseError databaseError) {\n\n            }\n        });\n    }\n\n}\n</code></pre>\n<p>Firebase json file is as</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>{\n  \"F93sQbST7whWeT0ilYnahiO9wNo1\": {\n    \"calender\": {\n      \"2023\": {\n        \"02\": {\n          \"10\": {\n            \"deposit\": 200,\n            \"expense\": 100\n          }\n        }\n      }\n    },\n    \"expenseInfo\": {\n      \"2023\": {\n        \"02\": {\n          \"books\": 0,\n          \"clothing\": 0,\n          \"communication\": 0,\n          \"education\": 0,\n          \"electronics\": 0,\n          \"fees\": 0,\n          \"food\": 100,\n          \"hangout\": 0,\n          \"others\": 0,\n          \"project\": 0,\n          \"rent\": 0,\n          \"services\": 0,\n          \"tax\": 0,\n          \"transportation\": 0,\n          \"treat\": 0,\n          \"trip\": 0,\n          \"tuition\": 0,\n          \"utilities\": 0\n        }\n      }\n    },\n    \"transactions\": {\n      \"-NNw3hVUnakSVcZBKgEO\": {\n        \"amount\": 200,\n        \"category\": \"Tuition\",\n        \"date\": \"10/02/2023\",\n        \"transactionId\": \"-NNw3hVUnakSVcZBKgEO\",\n        \"type\": \"Deposit\"\n      },\n      \"-NNw3nf6RGcPEiCIGY2X\": {\n        \"amount\": 100,\n        \"category\": \"Food\",\n        \"date\": \"10/02/2023\",\n        \"transactionId\": \"-NNw3nf6RGcPEiCIGY2X\",\n        \"type\": \"Expense\"\n      }\n    }\n  }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<pre><code>public class ExpenseInfo {\n\n\nprivate double food,rent,transportation,clothing,communication,books,electronics,project,treat,tuition,education,hangout,trip,utilities,services,fees,tax,others;\npublic ExpenseInfo() {\n    food=0;\n    rent =0;\n    transportation=0;\n    clothing=0;\n    communication=0;\n    books=0;\n    electronics=0;\n    project=0;\n    treat=0;\n    tuition=0;\n    education=0;\n    hangout=0;\n    trip=0;\n    utilities=0;\n    fees=0;\n    services=0;\n    tax=0;\n    others=0;\n}\n\npublic double getFood() {\n    return food;\n}\n\npublic void setFood(double food) {\n    this.food = food;\n}\n\npublic double getRent() {\n    return rent;\n}\n\npublic void setRent(double rent) {\n    this.rent = rent;\n}\n\npublic double getTransportation() {\n    return transportation;\n}\n\npublic void setTransportation(double transportation) {\n    this.transportation = transportation;\n}\n\npublic double getClothing() {\n    return clothing;\n}\n\npublic void setClothing(double clothing) {\n    this.clothing = clothing;\n}\n\npublic double getCommunication() {\n    return communication;\n}\n\npublic void setCommunication(double communication) {\n    this.communication = communication;\n}\n\npublic double getBooks() {\n    return books;\n}\n\npublic void setBooks(double books) {\n    this.books = books;\n}\n\npublic double getElectronics() {\n    return electronics;\n}\n\npublic void setElectronics(double electronics) {\n    this.electronics = electronics;\n}\n\npublic double getProject() {\n    return project;\n}\n\npublic void setProject(double project) {\n    this.project = project;\n}\n\npublic double getTreat() {\n    return treat;\n}\n\npublic void setTreat(double treat) {\n    this.treat = treat;\n}\n\npublic double getTuition() {\n    return tuition;\n}\n\npublic void setTuition(double tuition) {\n    this.tuition = tuition;\n}\n\npublic double getEducation() {\n    return education;\n}\n\npublic void setEducation(double education) {\n    this.education = education;\n}\n\npublic double getHangout() {\n    return hangout;\n}\n\npublic void setHangout(double hangout) {\n    this.hangout = hangout;\n}\n\npublic double getTrip() {\n    return trip;\n}\n\npublic void setTrip(double trip) {\n    this.trip = trip;\n}\n\npublic double getUtilities() {\n    return utilities;\n}\n\npublic void setUtilities(double utilities) {\n    this.utilities = utilities;\n}\n\npublic double getServices() {\n    return services;\n}\n\npublic void setServices(double services) {\n    this.services = services;\n}\npublic double getFees() {\n    return fees;\n}\npublic void setFees(double fees) {\n    this.fees = fees;\n}\npublic double getTax() {\n    return tax;\n}\npublic void setTax(double tax) {\n    this.tax = tax;\n}\npublic double getOthers() {\n    return others;\n}\npublic void setOthers(double others) {\n    this.others = others;\n}\n</code></pre>\n<p>Here\nExpenseInfo expenseInfo = dataSnapshot.getValue(ExpenseInfo.class);</p>\n<p>this expenseInfo returns null value. How can it be non null?\nI've tried to fix this but was unable to do so.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676131590,"creation_date":1676131590,"answer_id":75421475,"question_id":75421235,"body_markdown":"Write your questions with possible answers and the correct answer in a file, for example a csv. \r\n\r\n    Question; Choise1; Choise2; Choise3; Answer\r\n    For which NBA Team did Michael Jordan play for 13 years? Chicago Bulls; Washington Wizards; Dallas Mavericks; Chicago Bulls\r\n    ...\r\n    ...\r\n\r\nExpand your question object with the fields question, choices and correct answer. \r\n\r\n    public class QuestionsLevelEasy {\r\n\r\n        String question;\r\n        List&lt;String&gt; choices;\r\n        String answer;\r\n    \r\n        public QuestionsLevelEasy(String question, List&lt;String&gt; choices, String answer) {\r\n            this.question = question;\r\n            this.choices = choices;\r\n            this.answer = answer;\r\n        }\r\n        // getter - setters\r\n    }\r\n\r\n\r\nRead the file and create `QuestionsLevelEasy` objects and show the user the question with the choices and compare the user input with the correct answer.","title":"How to design class that will provide me a bunch of questions and answer?","body":"<p>Write your questions with possible answers and the correct answer in a file, for example a csv.</p>\n<pre><code>Question; Choise1; Choise2; Choise3; Answer\nFor which NBA Team did Michael Jordan play for 13 years? Chicago Bulls; Washington Wizards; Dallas Mavericks; Chicago Bulls\n...\n...\n</code></pre>\n<p>Expand your question object with the fields question, choices and correct answer.</p>\n<pre><code>public class QuestionsLevelEasy {\n\n    String question;\n    List&lt;String&gt; choices;\n    String answer;\n\n    public QuestionsLevelEasy(String question, List&lt;String&gt; choices, String answer) {\n        this.question = question;\n        this.choices = choices;\n        this.answer = answer;\n    }\n    // getter - setters\n}\n</code></pre>\n<p>Read the file and create <code>QuestionsLevelEasy</code> objects and show the user the question with the choices and compare the user input with the correct answer.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676188927,"creation_date":1676186117,"answer_id":75425442,"question_id":75421235,"body_markdown":"The [Answer by Eritrean][1] is good in that it suggests defining a custom class to contain your question *and* answers.\r\n\r\nI would take it a step further by (a) defining your custom class as a [record][2] since you have no need for [setters][3] ([immutable object][4]), (b) representing the correct answer as the [ordinal number][5] within the list of the offered answers, and (c) using [`List.of`][6] methods for simplicity.\r\n\r\nDefine the class in one brief line.\r\n\r\n    public record Question( String ask , List &lt; String &gt; answers , int solutionOrdinal ) { }\r\n\r\nUse `List.of` to build some data.\r\n\r\n```java\r\npackage work.basil.example.quiz;\r\n\r\nimport java.util.List;\r\n\r\npublic class QuestionsRepository\r\n{\r\n    // For now we hard-code some data.\r\n    // Later we could re-implement by reading CSV text files or hitting a database.\r\n    List &lt; Question &gt; fetchQuestions ( )\r\n    {\r\n        return\r\n                List.of(\r\n                        new Question(\r\n                                &quot;Best programming language&quot; ,\r\n                                List.of(\r\n                                        &quot;C&quot; ,\r\n                                        &quot;C++&quot; ,\r\n                                        &quot;Java&quot;\r\n                                ) ,\r\n                                3\r\n                        ) ,\r\n                        new Question(\r\n                                &quot;Best beer&quot; ,\r\n                                List.of(\r\n                                        &quot;Pilsner&quot; ,\r\n                                        &quot;Porter&quot; ,\r\n                                        &quot;IPA&quot;\r\n                                ) ,\r\n                                2\r\n                        ) ,\r\n                        new Question(\r\n                                &quot;Non-existent color&quot; ,\r\n                                List.of(\r\n                                        &quot;Magenta&quot; ,\r\n                                        &quot;Red&quot; ,\r\n                                        &quot;Blue&quot;\r\n                                ) ,\r\n                                1\r\n                        ) ,\r\n                        new Question(\r\n                                &quot;Best programming font&quot; ,\r\n                                List.of(\r\n                                        &quot;Pragmata by Fabrizio Schiavi&quot; ,\r\n                                        &quot;Menlo by Jim Lyles&quot; ,\r\n                                        &quot;Comic Sans by Vincent Connare&quot;\r\n                                ) ,\r\n                                1\r\n                        )\r\n                );\r\n    }\r\n}\r\n```\r\n\r\nDeclare a `Quiz` class to present the questions and answers to the user. \r\n\r\nNotice how we pass the content, the list of questions, to the constructor. This addresses the design principle of [separation of concerns][7]. The `Quiz` class is dedicated to *presenting* a quiz, not generating its content. The `QuestionsRepository` class is dedicated to retrieving a set of questions, not presenting to the user.\r\n\r\nAlso notice how we use `Collections.shuffle` to randomize the order of elements in our list of questions. This approach is simpler than picking questions randomly while tracking remaining questions.\r\n\r\n```java\r\npackage work.basil.example.quiz;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\nimport java.util.Scanner;\r\n\r\npublic class Quiz\r\n{\r\n    private final List &lt; Question &gt; questions;\r\n\r\n    // Constructor\r\n    public Quiz ( final List &lt; Question &gt; questions )\r\n    {\r\n        List &lt; Question &gt; q = new ArrayList &lt;&gt;( questions );  // Make a modifiable list from a possibly unmodifiable list.\r\n        Collections.shuffle( q ); // Randomize the order of elements in this list.\r\n        this.questions = List.copyOf( q );  // Generate a new unmodifiable list.\r\n    }\r\n\r\n    public void present ( )\r\n    {\r\n        System.out.println( &quot;Here is your quiz, with &quot; + this.questions.size() + &quot; questions.&quot; );\r\n        Scanner scanner = new Scanner( System.in );\r\n        for ( Question question : questions )\r\n        {\r\n            System.out.println( &quot;--------|  Question  |-------------------------------------&quot; );\r\n            System.out.println( question.ask() );\r\n            System.out.println( &quot;Answers:&quot; );\r\n            int ordinal = 0;\r\n            for ( String answer : question.answers() )\r\n            {\r\n                ordinal++;\r\n                System.out.println( ordinal + &quot; | &quot; + answer );\r\n            }\r\n            int choice = scanner.nextInt();\r\n            if ( choice == question.solutionOrdinal() )\r\n            {\r\n                System.out.println( &quot;Correct.&quot; );\r\n            }\r\n            else\r\n            {\r\n                System.out.println( &quot;Incorrect. Solution is: &quot; + question.solutionOrdinal() );\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nLastly, we write a class to run our app. This class harnesses our other classes.\r\n\r\n```java\r\npackage work.basil.example.quiz;\r\n\r\nimport java.util.List;\r\n\r\npublic class App\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        App app = new App();\r\n        app.demo();\r\n    }\r\n\r\n    private void demo ( )\r\n    {\r\n        QuestionsRepository qRepo = new QuestionsRepository();\r\n        List &lt; Question &gt; questions = qRepo.fetchQuestions();\r\n        Quiz quiz = new Quiz( questions );\r\n        quiz.present();\r\n\r\n        System.out.println( &quot;Demo done. &quot; );\r\n    }\r\n}\r\n```\r\n\r\nWhen run:\r\n\r\n```none\r\nHere is your quiz, with 4 questions.\r\n--------|  Question  |-------------------------------------\r\nNon-existent color\r\nAnswers:\r\n1 | Magenta\r\n2 | Red\r\n3 | Blue\r\n1\r\nCorrect.\r\n--------|  Question  |-------------------------------------\r\nBest programming font\r\nAnswers:\r\n1 | Pragmata by Fabrizio Schiavi\r\n2 | Menlo by Jim Lyles\r\n3 | Comic Sans by Vincent Connare\r\n1\r\nCorrect.\r\n--------|  Question  |-------------------------------------\r\nBest programming language\r\nAnswers:\r\n1 | C\r\n2 | C++\r\n3 | Java\r\n3\r\nCorrect.\r\n--------|  Question  |-------------------------------------\r\nBest beer\r\nAnswers:\r\n1 | Pilsner\r\n2 | Porter\r\n3 | IPA\r\n3\r\nIncorrect. Solution is: 2\r\nDemo done. \r\n```\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/75421475/642706\r\n  [2]: https://openjdk.org/jeps/395\r\n  [3]: https://en.wikipedia.org/wiki/Mutator_method\r\n  [4]: https://en.wikipedia.org/wiki/Immutable_object\r\n  [5]: https://en.wikipedia.org/wiki/Ordinal_numeral\r\n  [6]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/List.html#of(E,E,E,E)\r\n  [7]: https://en.wikipedia.org/wiki/Separation_of_concerns","title":"How to design class that will provide me a bunch of questions and answer?","body":"<p>The <a href=\"https://stackoverflow.com/a/75421475/642706\">Answer by Eritrean</a> is good in that it suggests defining a custom class to contain your question <em>and</em> answers.</p>\n<p>I would take it a step further by (a) defining your custom class as a <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">record</a> since you have no need for <a href=\"https://en.wikipedia.org/wiki/Mutator_method\" rel=\"nofollow noreferrer\">setters</a> (<a href=\"https://en.wikipedia.org/wiki/Immutable_object\" rel=\"nofollow noreferrer\">immutable object</a>), (b) representing the correct answer as the <a href=\"https://en.wikipedia.org/wiki/Ordinal_numeral\" rel=\"nofollow noreferrer\">ordinal number</a> within the list of the offered answers, and (c) using <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/List.html#of(E,E,E,E)\" rel=\"nofollow noreferrer\"><code>List.of</code></a> methods for simplicity.</p>\n<p>Define the class in one brief line.</p>\n<pre><code>public record Question( String ask , List &lt; String &gt; answers , int solutionOrdinal ) { }\n</code></pre>\n<p>Use <code>List.of</code> to build some data.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.quiz;\n\nimport java.util.List;\n\npublic class QuestionsRepository\n{\n    // For now we hard-code some data.\n    // Later we could re-implement by reading CSV text files or hitting a database.\n    List &lt; Question &gt; fetchQuestions ( )\n    {\n        return\n                List.of(\n                        new Question(\n                                &quot;Best programming language&quot; ,\n                                List.of(\n                                        &quot;C&quot; ,\n                                        &quot;C++&quot; ,\n                                        &quot;Java&quot;\n                                ) ,\n                                3\n                        ) ,\n                        new Question(\n                                &quot;Best beer&quot; ,\n                                List.of(\n                                        &quot;Pilsner&quot; ,\n                                        &quot;Porter&quot; ,\n                                        &quot;IPA&quot;\n                                ) ,\n                                2\n                        ) ,\n                        new Question(\n                                &quot;Non-existent color&quot; ,\n                                List.of(\n                                        &quot;Magenta&quot; ,\n                                        &quot;Red&quot; ,\n                                        &quot;Blue&quot;\n                                ) ,\n                                1\n                        ) ,\n                        new Question(\n                                &quot;Best programming font&quot; ,\n                                List.of(\n                                        &quot;Pragmata by Fabrizio Schiavi&quot; ,\n                                        &quot;Menlo by Jim Lyles&quot; ,\n                                        &quot;Comic Sans by Vincent Connare&quot;\n                                ) ,\n                                1\n                        )\n                );\n    }\n}\n</code></pre>\n<p>Declare a <code>Quiz</code> class to present the questions and answers to the user.</p>\n<p>Notice how we pass the content, the list of questions, to the constructor. This addresses the design principle of <a href=\"https://en.wikipedia.org/wiki/Separation_of_concerns\" rel=\"nofollow noreferrer\">separation of concerns</a>. The <code>Quiz</code> class is dedicated to <em>presenting</em> a quiz, not generating its content. The <code>QuestionsRepository</code> class is dedicated to retrieving a set of questions, not presenting to the user.</p>\n<p>Also notice how we use <code>Collections.shuffle</code> to randomize the order of elements in our list of questions. This approach is simpler than picking questions randomly while tracking remaining questions.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.quiz;\n\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.Scanner;\n\npublic class Quiz\n{\n    private final List &lt; Question &gt; questions;\n\n    // Constructor\n    public Quiz ( final List &lt; Question &gt; questions )\n    {\n        List &lt; Question &gt; q = new ArrayList &lt;&gt;( questions );  // Make a modifiable list from a possibly unmodifiable list.\n        Collections.shuffle( q ); // Randomize the order of elements in this list.\n        this.questions = List.copyOf( q );  // Generate a new unmodifiable list.\n    }\n\n    public void present ( )\n    {\n        System.out.println( &quot;Here is your quiz, with &quot; + this.questions.size() + &quot; questions.&quot; );\n        Scanner scanner = new Scanner( System.in );\n        for ( Question question : questions )\n        {\n            System.out.println( &quot;--------|  Question  |-------------------------------------&quot; );\n            System.out.println( question.ask() );\n            System.out.println( &quot;Answers:&quot; );\n            int ordinal = 0;\n            for ( String answer : question.answers() )\n            {\n                ordinal++;\n                System.out.println( ordinal + &quot; | &quot; + answer );\n            }\n            int choice = scanner.nextInt();\n            if ( choice == question.solutionOrdinal() )\n            {\n                System.out.println( &quot;Correct.&quot; );\n            }\n            else\n            {\n                System.out.println( &quot;Incorrect. Solution is: &quot; + question.solutionOrdinal() );\n            }\n        }\n    }\n}\n</code></pre>\n<p>Lastly, we write a class to run our app. This class harnesses our other classes.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.quiz;\n\nimport java.util.List;\n\npublic class App\n{\n    public static void main ( String[] args )\n    {\n        App app = new App();\n        app.demo();\n    }\n\n    private void demo ( )\n    {\n        QuestionsRepository qRepo = new QuestionsRepository();\n        List &lt; Question &gt; questions = qRepo.fetchQuestions();\n        Quiz quiz = new Quiz( questions );\n        quiz.present();\n\n        System.out.println( &quot;Demo done. &quot; );\n    }\n}\n</code></pre>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Here is your quiz, with 4 questions.\n--------|  Question  |-------------------------------------\nNon-existent color\nAnswers:\n1 | Magenta\n2 | Red\n3 | Blue\n1\nCorrect.\n--------|  Question  |-------------------------------------\nBest programming font\nAnswers:\n1 | Pragmata by Fabrizio Schiavi\n2 | Menlo by Jim Lyles\n3 | Comic Sans by Vincent Connare\n1\nCorrect.\n--------|  Question  |-------------------------------------\nBest programming language\nAnswers:\n1 | C\n2 | C++\n3 | Java\n3\nCorrect.\n--------|  Question  |-------------------------------------\nBest beer\nAnswers:\n1 | Pilsner\n2 | Porter\n3 | IPA\n3\nIncorrect. Solution is: 2\nDemo done. \n</code></pre>\n"}],"owner":{"account_id":27558404,"reputation":23,"user_id":21032025,"display_name":"Frosty Nah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1676200069,"answer_count":2,"score":-1,"last_activity_date":1676188927,"creation_date":1676129424,"question_id":75421235,"body_markdown":"This is what I want:\r\n\r\nFor example on some way to store 30 questions, code pick random one, show it to user, give him a three option for answer that he get, if he pick right one program continue.\r\n\r\nBasically, I have in my mind how to make this, but I think so far its not on good way, because If I want to store many question there will be a lot of code that will repeat, and I&#39;m sure there is a better way to do this.\r\n\r\nI created `Class` like this:\r\n\r\n    public class QuestionsLevelEasy {\r\n\r\n    String question;\r\n    int answer;\r\n\r\n    public QuestionsLevelEasy(String question, int answer) {\r\n        this.question = question;\r\n        this.answer = answer;\r\n    }\r\n    // getter - setters\r\n\r\nMethod to return random question and let user choose answer:\r\n\r\n    public static void randomQuestionAndUserGuess() {\r\n        QuestionsLevelEasy q1 = new QuestionsLevelEasy(&quot;Who is best NBA player?&quot;, 1);\r\n        QuestionsLevelEasy q2 = new QuestionsLevelEasy(&quot;Who is best Football player?&quot;, 2);\r\n        QuestionsLevelEasy q3 = new QuestionsLevelEasy(&quot;Who is best Hokey player?&quot;, 3);\r\n        QuestionsLevelEasy q4 = new QuestionsLevelEasy(&quot;Who is best Tennis player?&quot;, 4);\r\n        List&lt;QuestionsLevelEasy&gt; givenList = List.of(q1, q2, q3, q4);\r\n        Random rand = new Random();\r\n        QuestionsLevelEasy randomElement = givenList.get(rand.nextInt(givenList.size()));\r\n        System.out.println(&quot;Here is your question, guess it right and continue: &quot;);\r\n        System.out.println(randomElement.getQuestion());\r\n\r\n        Scanner scanner = new Scanner(System.in);\r\n        int choice = scanner.nextInt();\r\n\r\n        for (QuestionsLevelEasy questionsLevelEasy : givenList) {\r\n            if (questionsLevelEasy.getAnswer() == choice) {\r\n                System.out.println(&quot;Correct!&quot;);\r\n                break;\r\n            } else {\r\n                System.out.println(&quot;Not Correct!&quot;);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\nSo, its easy to understand so far. Things that I&#39; missing right now is to provide a user option menu to choose answer. So for example user get `Who is best NBA player?` show him 3 answers related on that question.\r\n\r\nI tried to find some examples on how to achieve this but nothing useful so far, plus when I try to google `How to create a list of questions and answers in Java` google return me `PDF` of questions and answer from Java :D","title":"How to design class that will provide me a bunch of questions and answer?","body":"<p>This is what I want:</p>\n<p>For example on some way to store 30 questions, code pick random one, show it to user, give him a three option for answer that he get, if he pick right one program continue.</p>\n<p>Basically, I have in my mind how to make this, but I think so far its not on good way, because If I want to store many question there will be a lot of code that will repeat, and I'm sure there is a better way to do this.</p>\n<p>I created <code>Class</code> like this:</p>\n<pre><code>public class QuestionsLevelEasy {\n\nString question;\nint answer;\n\npublic QuestionsLevelEasy(String question, int answer) {\n    this.question = question;\n    this.answer = answer;\n}\n// getter - setters\n</code></pre>\n<p>Method to return random question and let user choose answer:</p>\n<pre><code>public static void randomQuestionAndUserGuess() {\n    QuestionsLevelEasy q1 = new QuestionsLevelEasy(&quot;Who is best NBA player?&quot;, 1);\n    QuestionsLevelEasy q2 = new QuestionsLevelEasy(&quot;Who is best Football player?&quot;, 2);\n    QuestionsLevelEasy q3 = new QuestionsLevelEasy(&quot;Who is best Hokey player?&quot;, 3);\n    QuestionsLevelEasy q4 = new QuestionsLevelEasy(&quot;Who is best Tennis player?&quot;, 4);\n    List&lt;QuestionsLevelEasy&gt; givenList = List.of(q1, q2, q3, q4);\n    Random rand = new Random();\n    QuestionsLevelEasy randomElement = givenList.get(rand.nextInt(givenList.size()));\n    System.out.println(&quot;Here is your question, guess it right and continue: &quot;);\n    System.out.println(randomElement.getQuestion());\n\n    Scanner scanner = new Scanner(System.in);\n    int choice = scanner.nextInt();\n\n    for (QuestionsLevelEasy questionsLevelEasy : givenList) {\n        if (questionsLevelEasy.getAnswer() == choice) {\n            System.out.println(&quot;Correct!&quot;);\n            break;\n        } else {\n            System.out.println(&quot;Not Correct!&quot;);\n            break;\n        }\n    }\n}\n</code></pre>\n<p>So, its easy to understand so far. Things that I' missing right now is to provide a user option menu to choose answer. So for example user get <code>Who is best NBA player?</code> show him 3 answers related on that question.</p>\n<p>I tried to find some examples on how to achieve this but nothing useful so far, plus when I try to google <code>How to create a list of questions and answers in Java</code> google return me <code>PDF</code> of questions and answer from Java :D</p>\n"},{"tags":["java","algorithm","search","set"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1674325874,"post_id":75193776,"comment_id":132692524,"body_markdown":"It&#39;s not clear what you&#39;re trying to accomplish, but this is almost surely wrong `Map&lt;HashSet&lt;String&gt;, String&gt; map = new HashMap&lt;&gt;();`  You should never use a mutable object as the _key_ in a map, you&#39;ll regret it at 4 AM troubleshooting an &quot;impossible&quot; bug.  Please provide some examples (not in code) of what you are trying to do.","body":"It&#39;s not clear what you&#39;re trying to accomplish, but this is almost surely wrong <code>Map&lt;HashSet&lt;String&gt;, String&gt; map = new HashMap&lt;&gt;();</code>  You should never use a mutable object as the <i>key</i> in a map, you&#39;ll regret it at 4 AM troubleshooting an &quot;impossible&quot; bug.  Please provide some examples (not in code) of what you are trying to do."},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1674329838,"post_id":75193776,"comment_id":132693261,"body_markdown":"Can Set.retainAll be of service? it will keep only items matching the passed collection. If you pass all your other Sets in a loop, it will only keep the items matching all the sets. Watch out that it will change the original set, so might wanna make a copy of it first.","body":"Can Set.retainAll be of service? it will keep only items matching the passed collection. If you pass all your other Sets in a loop, it will only keep the items matching all the sets. Watch out that it will change the original set, so might wanna make a copy of it first."},{"owner":{"account_id":9371025,"reputation":141,"user_id":10662977,"display_name":"Samuel Squire"},"score":0,"creation_date":1674335584,"post_id":75193776,"comment_id":132694250,"body_markdown":"The data one in the set should not change, but I want to search a set of named sets for a union with a set of any items in the map.","body":"The data one in the set should not change, but I want to search a set of named sets for a union with a set of any items in the map."},{"owner":{"account_id":9371025,"reputation":141,"user_id":10662977,"display_name":"Samuel Squire"},"score":0,"creation_date":1674416889,"post_id":75193776,"comment_id":132705116,"body_markdown":"As an example, If I have the &quot;fruits&quot; set with [&quot;orange&quot;, &quot;kiwi&quot;, &quot;apple&quot;] and &quot;vegetables&quot; set with [&quot;cabbage&quot;, &quot;carrot&quot;, &quot;broccoli&quot;]. I want a search for [&quot;orange&quot;, &quot;kiwi&quot;] to match &quot;fruits&quot;","body":"As an example, If I have the &quot;fruits&quot; set with [&quot;orange&quot;, &quot;kiwi&quot;, &quot;apple&quot;] and &quot;vegetables&quot; set with [&quot;cabbage&quot;, &quot;carrot&quot;, &quot;broccoli&quot;]. I want a search for [&quot;orange&quot;, &quot;kiwi&quot;] to match &quot;fruits&quot;"},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1675672125,"post_id":75193776,"comment_id":132971724,"body_markdown":"How many sets do you have? How many elements in them?","body":"How many sets do you have? How many elements in them?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1675683933,"post_id":75193776,"comment_id":132975243,"body_markdown":"Your set `partialSearch` is not used anywhere. Instead, you add even more elements to the already existing `search` and use that. Besides that, you should clarify whether your sets really have to be `HashSet` instances or could be replaced by better suited objects.","body":"Your set <code>partialSearch</code> is not used anywhere. Instead, you add even more elements to the already existing <code>search</code> and use that. Besides that, you should clarify whether your sets really have to be <code>HashSet</code> instances or could be replaced by better suited objects."},{"owner":{"account_id":9371025,"reputation":141,"user_id":10662977,"display_name":"Samuel Squire"},"score":0,"creation_date":1675709465,"post_id":75193776,"comment_id":132983286,"body_markdown":"I&#39;ve since fixed the code. Sorry about that. I am happy to use any data structure as long as I can do a search against many sets of many items for a set with a partial list. Assume the data fits in RAM and is typical objects used for business object processing. I don&#39;t understand what the canonical &quot;union find&quot; algorithm does and if it is relevant to what I&#39;m trying to do. I just want to replace a for loop with a hash or something to do a check if a list of items (a set) is partially inside another list of lists / sets and which one.","body":"I&#39;ve since fixed the code. Sorry about that. I am happy to use any data structure as long as I can do a search against many sets of many items for a set with a partial list. Assume the data fits in RAM and is typical objects used for business object processing. I don&#39;t understand what the canonical &quot;union find&quot; algorithm does and if it is relevant to what I&#39;m trying to do. I just want to replace a for loop with a hash or something to do a check if a list of items (a set) is partially inside another list of lists / sets and which one."}],"answers":[{"tags":[],"owner":{"account_id":6796917,"reputation":374,"user_id":5231798,"display_name":"Moemen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675710660,"creation_date":1675710660,"answer_id":75365604,"question_id":75193776,"body_markdown":" 1. You need to use `Map&lt;String, HashSet&lt;String&gt;&gt; map = new HashMap&lt;&gt;();` instead.\r\n 2. The following solution finds all set names which contain all elements in &quot;search&quot; set.\r\n\r\n        HashSet&lt;String&gt; vegetables = new HashSet&lt;&gt;();\r\n        vegetables.add(&quot;tomato&quot;);\r\n        vegetables.add(&quot;carrot&quot;);\r\n        vegetables.add(&quot;broccoli&quot;);\r\n        HashSet&lt;String&gt; fruit = new HashSet&lt;&gt;();\r\n        fruit.add(&quot;apple&quot;);\r\n        fruit.add(&quot;kiwi&quot;);\r\n        fruit.add(&quot;orange&quot;);\r\n\r\n        Map&lt;String, HashSet&lt;String&gt;&gt; map = new HashMap&lt;&gt;();\r\n        map.put(&quot;vegetables&quot;, vegetables);\r\n        map.put(&quot;fruit&quot;, fruit);\r\n\r\n        HashSet&lt;String&gt; search = new HashSet&lt;&gt;();\r\n        search.add(&quot;tomato&quot;);\r\n        search.add(&quot;carrot&quot;);\r\n        //search.add(&quot;broccoli&quot;);\r\n\r\n        Set&lt;String&gt; nameOfSets = map.entrySet().stream()\r\n                .filter(entry -&gt; entry.getValue().containsAll(search))\r\n                .map(Map.Entry::getKey).collect(Collectors.toSet());","title":"How do you efficiently search many sets for a partial union of a set?","body":"<ol>\n<li><p>You need to use <code>Map&lt;String, HashSet&lt;String&gt;&gt; map = new HashMap&lt;&gt;();</code> instead.</p>\n</li>\n<li><p>The following solution finds all set names which contain all elements in &quot;search&quot; set.</p>\n<pre><code>HashSet&lt;String&gt; vegetables = new HashSet&lt;&gt;();\nvegetables.add(&quot;tomato&quot;);\nvegetables.add(&quot;carrot&quot;);\nvegetables.add(&quot;broccoli&quot;);\nHashSet&lt;String&gt; fruit = new HashSet&lt;&gt;();\nfruit.add(&quot;apple&quot;);\nfruit.add(&quot;kiwi&quot;);\nfruit.add(&quot;orange&quot;);\n\nMap&lt;String, HashSet&lt;String&gt;&gt; map = new HashMap&lt;&gt;();\nmap.put(&quot;vegetables&quot;, vegetables);\nmap.put(&quot;fruit&quot;, fruit);\n\nHashSet&lt;String&gt; search = new HashSet&lt;&gt;();\nsearch.add(&quot;tomato&quot;);\nsearch.add(&quot;carrot&quot;);\n//search.add(&quot;broccoli&quot;);\n\nSet&lt;String&gt; nameOfSets = map.entrySet().stream()\n        .filter(entry -&gt; entry.getValue().containsAll(search))\n        .map(Map.Entry::getKey).collect(Collectors.toSet());\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":17611350,"reputation":106,"user_id":12779324,"display_name":"Darsh Gondalia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675796088,"creation_date":1675796088,"answer_id":75377774,"question_id":75193776,"body_markdown":"As far as I understand your problem, you are trying to classify different vegetables and fruits and store the names of the vegetables and fruits just once.\r\nAnd you want to retrieve the type of food item by the name of the food item. \r\n\r\nThe way you are describing your search query, \r\n\r\n&quot;If I have the &quot;fruits&quot; set with [&quot;orange&quot;, &quot;kiwi&quot;, &quot;apple&quot;] and &quot;vegetables&quot; set with [&quot;cabbage&quot;, &quot;carrot&quot;, &quot;broccoli&quot;]. I want a search for [&quot;orange&quot;, &quot;kiwi&quot;] to match &quot;fruits&quot;\r\n\r\nYou would have to iterate through the parameter array ([&quot;orange&quot;, &quot;kiwi&quot;]) and look for matches. You can keep a count for how many in the search parameter are vegetables and how many are fruits. \r\n\r\nStoring your data works in the same way as described by Moemen. It would be \r\n\r\n```Map&lt;String, HashSet&lt;String&gt;&gt; map = new HashMap&lt;&gt;();```\r\n\r\nThe type of variable (&quot;vegetables&quot;, &quot;fruits&quot;) will be key stored as a string, and your items would be in a Hashset.\r\n\r\nIn its entirety, the map would look something like:\r\n\r\nMap-&gt; &quot;Vegetables&quot;: [&quot;tomato&quot;, &quot;broccoli&quot;, &quot;carrot&quot;],\r\n\r\n      &quot;fruits&quot;: [&quot;apple&quot;, &quot;kiwi&quot;, &quot;orange&quot;]\r\n\r\n\r\nA second approach to this would be to have a map of string pointing to string. \r\n\r\nmap=&gt;{string:string}\r\n\r\nThis map you can input data and make it so:\r\n\r\nmap-&gt; &quot;orange&quot;: &quot;fruit&quot;,\r\n\r\n      &quot;apple&quot;: &quot;fruit&quot;,\r\n\r\n      &quot;carrot&quot;: &quot;vegetable&quot; and so on.\r\n\r\nThis way you would be able to run a loop through the search food items and retrieve whether they are fruits or vegetables. \r\n\r\nI am almost certain that food items combined cannot be used to query a map. Meaning, you will have to go element by element. So [&quot;orange&quot;, &quot;apple&quot;], you would have to have a loop for looking for the type of orange and then apple. \r\n\r\nHope this answers your questions and gives you an insight on planning structures for data storage.  ","title":"How do you efficiently search many sets for a partial union of a set?","body":"<p>As far as I understand your problem, you are trying to classify different vegetables and fruits and store the names of the vegetables and fruits just once.\nAnd you want to retrieve the type of food item by the name of the food item.</p>\n<p>The way you are describing your search query,</p>\n<p>&quot;If I have the &quot;fruits&quot; set with [&quot;orange&quot;, &quot;kiwi&quot;, &quot;apple&quot;] and &quot;vegetables&quot; set with [&quot;cabbage&quot;, &quot;carrot&quot;, &quot;broccoli&quot;]. I want a search for [&quot;orange&quot;, &quot;kiwi&quot;] to match &quot;fruits&quot;</p>\n<p>You would have to iterate through the parameter array ([&quot;orange&quot;, &quot;kiwi&quot;]) and look for matches. You can keep a count for how many in the search parameter are vegetables and how many are fruits.</p>\n<p>Storing your data works in the same way as described by Moemen. It would be</p>\n<p><code>Map&lt;String, HashSet&lt;String&gt;&gt; map = new HashMap&lt;&gt;();</code></p>\n<p>The type of variable (&quot;vegetables&quot;, &quot;fruits&quot;) will be key stored as a string, and your items would be in a Hashset.</p>\n<p>In its entirety, the map would look something like:</p>\n<p>Map-&gt; &quot;Vegetables&quot;: [&quot;tomato&quot;, &quot;broccoli&quot;, &quot;carrot&quot;],</p>\n<pre><code>  &quot;fruits&quot;: [&quot;apple&quot;, &quot;kiwi&quot;, &quot;orange&quot;]\n</code></pre>\n<p>A second approach to this would be to have a map of string pointing to string.</p>\n<p>map=&gt;{string:string}</p>\n<p>This map you can input data and make it so:</p>\n<p>map-&gt; &quot;orange&quot;: &quot;fruit&quot;,</p>\n<pre><code>  &quot;apple&quot;: &quot;fruit&quot;,\n\n  &quot;carrot&quot;: &quot;vegetable&quot; and so on.\n</code></pre>\n<p>This way you would be able to run a loop through the search food items and retrieve whether they are fruits or vegetables.</p>\n<p>I am almost certain that food items combined cannot be used to query a map. Meaning, you will have to go element by element. So [&quot;orange&quot;, &quot;apple&quot;], you would have to have a loop for looking for the type of orange and then apple.</p>\n<p>Hope this answers your questions and gives you an insight on planning structures for data storage.</p>\n"},{"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676068302,"creation_date":1675796364,"answer_id":75377829,"question_id":75193776,"body_markdown":"Actually your question is quite broad, this is topic is really huge, there are many details ommitted, however, I&#39;ll offer and explain different approaches. Also we&#39;ll try to review bloom filters and union operations you mentioned.\r\n\r\n# Let&#39;s consider some assumptions first\r\n\r\n - We&#39;re dealing with **unique** items within a single collection\r\n - Starting from here we will call our goal as finding the **intersections** of our collection\r\n - Namely our goal is to find all the **full intersections** with our collection. That means we want to find all the collections that contain **all values** of our collection\r\n - We&#39;re dealing with **Strings** as values\r\n - When comparing values, we are looking for **exact** match\r\n - We omit the details **HOW** we actually initialize our collections, this is out of the question scope. We consider only the way how do we search those intersections.\r\n - We&#39;re not implementing any low-level logic by our own. We&#39;re just using any existing library for these tasks, just focusing on principles.\r\n - The examples below are not &quot;best-written&quot; solutions. Those are just to demonstrate the ideas\r\n\r\nTo simplify code writing we&#39;ll use [Java Google Guava library][1]\r\n\r\nMaven `pom.xml` dependency to add to our project:\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/com.google.guava/guava --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n        &lt;version&gt;31.1-jre&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nHaving that said, let&#39;s take a look to different approaches:\r\n\r\n# Pretty straightforward way\r\n\r\nAs we&#39;re dealing with strings, in case if we have primarily quite long strings they could take too many space in RAM memory. But as long as we don&#39;t care about the actual values of these strings in our collections, we may use only hash codes of them. If our strings are primarily short, then there&#39;s no need to hash them, we can just use them as they are. \r\n\r\nLet&#39;s assume that our strings may be quite long (in real world, for example, URLs).\r\nWhat algorithm for hashing should we use? Well, it really depends, but the main goal is to achieve uniqueness to prevent collissions as much as possible. So in this example we&#39;ll use [SHA-256][2] hashing algorithm which gives 256-bit output.\r\n\r\nSo, the way we would search for intersections in this approach is the following:\r\n\r\n    public static void main(String[] args) {\r\n        // initialize the first set in which we&#39;ll perform searching\r\n        Set&lt;HashCode&gt; vegetables = Set.of(\r\n                hash256(&quot;tomato&quot;),\r\n                hash256(&quot;carrot&quot;),\r\n                hash256(&quot;broccoli&quot;)\r\n        );\r\n        // initialize the second set in which we&#39;ll perform searching\r\n        Set&lt;HashCode&gt; fruit = Set.of(\r\n                hash256(&quot;apple&quot;),\r\n                hash256(&quot;kiwi&quot;),\r\n                hash256(&quot;orange&quot;)\r\n        );\r\n        // collecting those collections to Map, where key = collection name, value = collection itself\r\n        Map&lt;String, Set&lt;HashCode&gt;&gt; targetMap = Map.of(&quot;vegetables&quot;, vegetables, &quot;fruit&quot;, fruit);\r\n\r\n        // initialize set for searching full intersections\r\n        Set&lt;HashCode&gt; search = Set.of(hash256(&quot;tomato&quot;), hash256(&quot;carrot&quot;));\r\n\r\n        // let&#39;s search\r\n        Set&lt;String&gt; intersections = targetMap.entrySet().stream()\r\n                // skip sets which size is lower than search set size\r\n                .filter(target -&gt; target.getValue().size() &gt;= search.size())\r\n                // check the rest sets with containsAll()\r\n                .filter(entry -&gt; entry.getValue().containsAll(search))\r\n                .map(Map.Entry::getKey).collect(Collectors.toSet());\r\n        // print names of sets which intersect with our search set\r\n        System.out.println(results);\r\n    }\r\n\r\n    // using Guava library to get 256-bit hash of string\r\n    public static HashCode hash256(String input) {\r\n        HashFunction hashFunction = Hashing.sha256();\r\n        return hashFunction.hashString(input, StandardCharsets.UTF_8);\r\n    }\r\n\r\nNote: while iterating through the sets we first skip all the sets which size is less than our search set, just for optimization sake. Obviously there&#39;s no sense to check those sets since it is guaranteed that they don&#39;t have enough elements for full intersection with our search set. Also, you can add `equals()` checking if you want to check whether the search set is the actual instance of the target set.\r\n\r\n# Using Bloom Filter\r\n\r\nA [Bloom filter][3] is a probabilistic data structure that is good for checking whether or not an element is definitely not in a set, but cannot tell you for sure whether something is in the set. A query returns either &quot;possibly in set&quot; or &quot;definitely not in set&quot;. A bloom filter doesn&#39;t store the elements themselves, this is the crucial point. You don&#39;t use a bloom filter to test if an element is present, you use it to test whether it&#39;s certainly not present, since it guarantees no false negatives. And it takes **significantly** less space comparing to a hash table/hash set and etc. and **speeds up** the checking.\r\n\r\nThe bloom filter works by taking the elements, running them through N different hash functions each with an accompanying bit vector, and then setting to True the position in the accompanying vector based on the hash observed. Once the position is flipped True (1), it is never set back to False (0).\r\n\r\nThe number of different hash functions N, as well as the length of the bit vectors, is usually reverse engineered in the implementation based on a configured capacity and maximum allowed error rate. Capacity is the number of distinct elements we expect to ever be seen by the bloom filter.\r\n\r\n[![enter image description here][4]][4]\r\n\r\nOf course, it has disadvantages:\r\n\r\n - Probabilistic in nature. It has false positive probability\r\n - Bloom filters add complexity. Complexity is more opportunity for things to go wrong\r\n - You should take care of cap of *expected insertions* since the overflowing a bloom filter with significantly more elements than specified, will result in its saturation, and a sharp deterioration of its false positive probability.\r\n - Cannot delete the inserted elements\r\n\r\nSo, using Guava library which has implementation of Bloom Filter we could write our code the following way:\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        // initialize the first set in which we&#39;ll perform searching\r\n        Set&lt;String&gt; vegetables = Set.of(&quot;tomato&quot;, &quot;carrot&quot;, &quot;broccoli&quot;);\r\n        // initialize the second set in which we&#39;ll perform searching\r\n        Set&lt;String&gt; fruit = Set.of(&quot;apple&quot;, &quot;kiwi&quot;, &quot;orange&quot;);\r\n\r\n        // preparing our blooms.\r\n        // assign expectedAssertions for test = 100.\r\n        // assign fpp (the desired false positive probability) to 0.01 = 1%\r\n        int expectedAssertions = 100;\r\n        BloomFilter&lt;String&gt; vegetablesBloom = BloomFilter.create(\r\n                Funnels.stringFunnel(StandardCharsets.UTF_8), expectedAssertions, 0.01);\r\n        BloomFilter&lt;String&gt; fruitBloom = BloomFilter.create(\r\n                Funnels.stringFunnel(StandardCharsets.UTF_8), expectedAssertions, 0.01);\r\n\r\n        // put all the vegetables and fruits to blooms\r\n        vegetables.forEach(vegetablesBloom::put);\r\n        fruit.forEach(fruitBloom::put);\r\n        // collecting those blooms to Map, where key = bloom name, value = bloom itself\r\n        Map&lt;String, BloomFilter&lt;String&gt;&gt; targetMap =\r\n                Map.of(&quot;vegetables&quot;, vegetablesBloom, &quot;fruit&quot;, fruitBloom);\r\n\r\n        // initialize set for searching full intersections\r\n        Set&lt;String&gt; search = Set.of(&quot;tomato&quot;, &quot;carrot&quot;);\r\n\r\n        Set&lt;String&gt; results = targetMap.entrySet().stream()\r\n                // skip blooms which size is lower than search set size\r\n                .filter(entry -&gt; entry.getValue().approximateElementCount() &gt;= search.size())\r\n                .filter(entry -&gt; intersect(search, entry.getValue()))\r\n                .map(Map.Entry::getKey).collect(Collectors.toSet());\r\n\r\n        System.out.println(results);\r\n    }\r\n\r\n    // check intersection of our search set with bloom\r\n    public static boolean intersect(Set&lt;String&gt; search, BloomFilter&lt;String&gt; bloomFilter) {\r\n        for (String value : search) {\r\n            // return false immediately if this is definitely not the case.\r\n            if (!bloomFilter.mightContain(value)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    } \r\n\r\nPay attention to `expectedAssertions` parameter. This is `fpp` - the desired false positive probability (must be positive and less than 1.0). Our bloom is more accurate the less value we provide, however, the more it accurate, the more memory our bloom takes.\r\n \r\nHere we&#39;re iterating through our **blooms** checking each element from our search collection in it with `mightContain(value)` if it says `false`, then we&#39;re sure this is not the case, this bloom is not intersected with our set.\r\n\r\n# Intersection with Union operation on Bloom Filter\r\n\r\nIn the previous approach we were checking each element of our search collection with bloom filter. One operation you can do with two bloom filters is union them, which means that if you have a bloom filter A and bloom filter B, you end up with a third bloom filter C that contains all the unique items from both A and B. How you union two bloom filters is you just do a bitwise OR on every bit in A and B to get the bits for C. Simple and fast to calculate.\r\n\r\nBut by itself this operation cannot be useful in our case. However, we can use it to perform the intersection checking. How can we achieve this?\r\n\r\nWell, there&#39;s some math included:\r\n\r\n&gt; Count(Intersection(A,B)) = (Count(A) + Count(B)) – Count(Union(A,B))\r\n\r\nHaving that said, let&#39;s try to perform this. \r\n\r\nChange the piece of code of previous approch to the following:\r\n\r\n    // prepare our search bloom\r\n    BloomFilter&lt;String&gt; searchBloom = BloomFilter.create(\r\n            Funnels.stringFunnel(StandardCharsets.UTF_8), expectedAssertions, 0.01);\r\n    search.forEach(searchBloom::put);\r\n\r\n    Set&lt;String&gt; results = targetMap.entrySet().stream()\r\n            // skip blooms which size is lower than search set size\r\n            .filter(entry -&gt; entry.getValue().approximateElementCount() &gt;= search.size())\r\n            .filter(entry -&gt; intersectWithUnion(searchBloom, entry.getValue()))\r\n            .map(Map.Entry::getKey).collect(Collectors.toSet());\r\n\r\n    System.out.println(results);\r\n\r\nAnd `intersectWithUnion()` method:\r\n\r\n    // check intersection of our search bloom with bloom\r\n    public static boolean intersectWithUnion(BloomFilter&lt;String&gt; searchBloom, BloomFilter&lt;String&gt; bloomFilter) {\r\n        long searchCount = searchBloom.approximateElementCount();\r\n        long targetCount = bloomFilter.approximateElementCount();\r\n        // making a copy of search bloom\r\n        BloomFilter&lt;String&gt; union = searchBloom.copy();\r\n        // perform union operation\r\n        union.putAll(bloomFilter);\r\n\r\n        // apply our formula\r\n        long intersectionFactor = (searchCount + targetCount) - union.approximateElementCount();\r\n        // if intersection factor is equal to initial search count, then we have full intersection\r\n        return intersectionFactor == searchCount;\r\n    }\r\n\r\nHere we creating a bloom from our search set first. Then check the intersection of each bloom with our new method. The union operation is implemented in Guava library with [putAll()][5] method. Why do we call `copy()` on our search bloom? Well, as docs of `putAll()` states:\r\n\r\n&gt; Combines this Bloom filter with another Bloom filter by performing a\r\n&gt; bitwise OR of the underlying data. The mutations happen to **this**\r\n&gt; instance. Callers must ensure the Bloom filters are appropriately\r\n&gt; sized to avoid saturating them.\r\n\r\nSo, `putAll()` mutates our bloom. This `copy()` is our overhead in this case.\r\n\r\n\r\n**Important note:**\r\nTo perform union operation the blooms must be **compatible**. Basically they must have the same *expectedAssertions* and *fpp*. To be compatible there are requirements:\r\n\r\n 1. BloomFilters must have the same number of hash functions\r\n 2. BloomFilters must have the same size underlying bit arrays\r\n 3. BloomFilters must have equal strategies\r\n 4. BloomFilters must have equal funnels\r\n\r\nOtherwise `IllegalArgumentException` will be thrown. \r\n\r\n# What approach should we use?\r\n\r\nWell, there&#39;s no direct answer to this question, as it really depends to a lot of factors in your real case. There&#39;s no &quot;always better&quot; or &quot;always performant&quot; cases. Bloom filters are very useful and very memory-cheap when dealing with **huge** amount of data, for example, millions and millions of strings. But it has it&#39;s own disadvantages. In simple cases where you have not so much data it is definitely better to use some straight approach. Hope it hepls :)\r\n\r\nAlso, an [interesting article about bloom filters][6]\r\n\r\n\r\n  [1]: https://github.com/google/guava\r\n  [2]: https://en.wikipedia.org/wiki/SHA-2\r\n  [3]: https://en.wikipedia.org/wiki/Bloom_filter\r\n  [4]: https://i.stack.imgur.com/jmtUr.jpg\r\n  [5]: https://guava.dev/releases/18.0/api/docs/com/google/common/hash/BloomFilter.html#putAll(com.google.common.hash.BloomFilter)\r\n  [6]: https://blog.demofox.org/2015/02/08/estimating-set-membership-with-a-bloom-filter/","title":"How do you efficiently search many sets for a partial union of a set?","body":"<p>Actually your question is quite broad, this is topic is really huge, there are many details ommitted, however, I'll offer and explain different approaches. Also we'll try to review bloom filters and union operations you mentioned.</p>\n<h1>Let's consider some assumptions first</h1>\n<ul>\n<li>We're dealing with <strong>unique</strong> items within a single collection</li>\n<li>Starting from here we will call our goal as finding the <strong>intersections</strong> of our collection</li>\n<li>Namely our goal is to find all the <strong>full intersections</strong> with our collection. That means we want to find all the collections that contain <strong>all values</strong> of our collection</li>\n<li>We're dealing with <strong>Strings</strong> as values</li>\n<li>When comparing values, we are looking for <strong>exact</strong> match</li>\n<li>We omit the details <strong>HOW</strong> we actually initialize our collections, this is out of the question scope. We consider only the way how do we search those intersections.</li>\n<li>We're not implementing any low-level logic by our own. We're just using any existing library for these tasks, just focusing on principles.</li>\n<li>The examples below are not &quot;best-written&quot; solutions. Those are just to demonstrate the ideas</li>\n</ul>\n<p>To simplify code writing we'll use <a href=\"https://github.com/google/guava\" rel=\"nofollow noreferrer\">Java Google Guava library</a></p>\n<p>Maven <code>pom.xml</code> dependency to add to our project:</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/com.google.guava/guava --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n    &lt;artifactId&gt;guava&lt;/artifactId&gt;\n    &lt;version&gt;31.1-jre&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Having that said, let's take a look to different approaches:</p>\n<h1>Pretty straightforward way</h1>\n<p>As we're dealing with strings, in case if we have primarily quite long strings they could take too many space in RAM memory. But as long as we don't care about the actual values of these strings in our collections, we may use only hash codes of them. If our strings are primarily short, then there's no need to hash them, we can just use them as they are.</p>\n<p>Let's assume that our strings may be quite long (in real world, for example, URLs).\nWhat algorithm for hashing should we use? Well, it really depends, but the main goal is to achieve uniqueness to prevent collissions as much as possible. So in this example we'll use <a href=\"https://en.wikipedia.org/wiki/SHA-2\" rel=\"nofollow noreferrer\">SHA-256</a> hashing algorithm which gives 256-bit output.</p>\n<p>So, the way we would search for intersections in this approach is the following:</p>\n<pre><code>public static void main(String[] args) {\n    // initialize the first set in which we'll perform searching\n    Set&lt;HashCode&gt; vegetables = Set.of(\n            hash256(&quot;tomato&quot;),\n            hash256(&quot;carrot&quot;),\n            hash256(&quot;broccoli&quot;)\n    );\n    // initialize the second set in which we'll perform searching\n    Set&lt;HashCode&gt; fruit = Set.of(\n            hash256(&quot;apple&quot;),\n            hash256(&quot;kiwi&quot;),\n            hash256(&quot;orange&quot;)\n    );\n    // collecting those collections to Map, where key = collection name, value = collection itself\n    Map&lt;String, Set&lt;HashCode&gt;&gt; targetMap = Map.of(&quot;vegetables&quot;, vegetables, &quot;fruit&quot;, fruit);\n\n    // initialize set for searching full intersections\n    Set&lt;HashCode&gt; search = Set.of(hash256(&quot;tomato&quot;), hash256(&quot;carrot&quot;));\n\n    // let's search\n    Set&lt;String&gt; intersections = targetMap.entrySet().stream()\n            // skip sets which size is lower than search set size\n            .filter(target -&gt; target.getValue().size() &gt;= search.size())\n            // check the rest sets with containsAll()\n            .filter(entry -&gt; entry.getValue().containsAll(search))\n            .map(Map.Entry::getKey).collect(Collectors.toSet());\n    // print names of sets which intersect with our search set\n    System.out.println(results);\n}\n\n// using Guava library to get 256-bit hash of string\npublic static HashCode hash256(String input) {\n    HashFunction hashFunction = Hashing.sha256();\n    return hashFunction.hashString(input, StandardCharsets.UTF_8);\n}\n</code></pre>\n<p>Note: while iterating through the sets we first skip all the sets which size is less than our search set, just for optimization sake. Obviously there's no sense to check those sets since it is guaranteed that they don't have enough elements for full intersection with our search set. Also, you can add <code>equals()</code> checking if you want to check whether the search set is the actual instance of the target set.</p>\n<h1>Using Bloom Filter</h1>\n<p>A <a href=\"https://en.wikipedia.org/wiki/Bloom_filter\" rel=\"nofollow noreferrer\">Bloom filter</a> is a probabilistic data structure that is good for checking whether or not an element is definitely not in a set, but cannot tell you for sure whether something is in the set. A query returns either &quot;possibly in set&quot; or &quot;definitely not in set&quot;. A bloom filter doesn't store the elements themselves, this is the crucial point. You don't use a bloom filter to test if an element is present, you use it to test whether it's certainly not present, since it guarantees no false negatives. And it takes <strong>significantly</strong> less space comparing to a hash table/hash set and etc. and <strong>speeds up</strong> the checking.</p>\n<p>The bloom filter works by taking the elements, running them through N different hash functions each with an accompanying bit vector, and then setting to True the position in the accompanying vector based on the hash observed. Once the position is flipped True (1), it is never set back to False (0).</p>\n<p>The number of different hash functions N, as well as the length of the bit vectors, is usually reverse engineered in the implementation based on a configured capacity and maximum allowed error rate. Capacity is the number of distinct elements we expect to ever be seen by the bloom filter.</p>\n<p><a href=\"https://i.stack.imgur.com/jmtUr.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jmtUr.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Of course, it has disadvantages:</p>\n<ul>\n<li>Probabilistic in nature. It has false positive probability</li>\n<li>Bloom filters add complexity. Complexity is more opportunity for things to go wrong</li>\n<li>You should take care of cap of <em>expected insertions</em> since the overflowing a bloom filter with significantly more elements than specified, will result in its saturation, and a sharp deterioration of its false positive probability.</li>\n<li>Cannot delete the inserted elements</li>\n</ul>\n<p>So, using Guava library which has implementation of Bloom Filter we could write our code the following way:</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    // initialize the first set in which we'll perform searching\n    Set&lt;String&gt; vegetables = Set.of(&quot;tomato&quot;, &quot;carrot&quot;, &quot;broccoli&quot;);\n    // initialize the second set in which we'll perform searching\n    Set&lt;String&gt; fruit = Set.of(&quot;apple&quot;, &quot;kiwi&quot;, &quot;orange&quot;);\n\n    // preparing our blooms.\n    // assign expectedAssertions for test = 100.\n    // assign fpp (the desired false positive probability) to 0.01 = 1%\n    int expectedAssertions = 100;\n    BloomFilter&lt;String&gt; vegetablesBloom = BloomFilter.create(\n            Funnels.stringFunnel(StandardCharsets.UTF_8), expectedAssertions, 0.01);\n    BloomFilter&lt;String&gt; fruitBloom = BloomFilter.create(\n            Funnels.stringFunnel(StandardCharsets.UTF_8), expectedAssertions, 0.01);\n\n    // put all the vegetables and fruits to blooms\n    vegetables.forEach(vegetablesBloom::put);\n    fruit.forEach(fruitBloom::put);\n    // collecting those blooms to Map, where key = bloom name, value = bloom itself\n    Map&lt;String, BloomFilter&lt;String&gt;&gt; targetMap =\n            Map.of(&quot;vegetables&quot;, vegetablesBloom, &quot;fruit&quot;, fruitBloom);\n\n    // initialize set for searching full intersections\n    Set&lt;String&gt; search = Set.of(&quot;tomato&quot;, &quot;carrot&quot;);\n\n    Set&lt;String&gt; results = targetMap.entrySet().stream()\n            // skip blooms which size is lower than search set size\n            .filter(entry -&gt; entry.getValue().approximateElementCount() &gt;= search.size())\n            .filter(entry -&gt; intersect(search, entry.getValue()))\n            .map(Map.Entry::getKey).collect(Collectors.toSet());\n\n    System.out.println(results);\n}\n\n// check intersection of our search set with bloom\npublic static boolean intersect(Set&lt;String&gt; search, BloomFilter&lt;String&gt; bloomFilter) {\n    for (String value : search) {\n        // return false immediately if this is definitely not the case.\n        if (!bloomFilter.mightContain(value)) {\n            return false;\n        }\n    }\n    return true;\n} \n</code></pre>\n<p>Pay attention to <code>expectedAssertions</code> parameter. This is <code>fpp</code> - the desired false positive probability (must be positive and less than 1.0). Our bloom is more accurate the less value we provide, however, the more it accurate, the more memory our bloom takes.</p>\n<p>Here we're iterating through our <strong>blooms</strong> checking each element from our search collection in it with <code>mightContain(value)</code> if it says <code>false</code>, then we're sure this is not the case, this bloom is not intersected with our set.</p>\n<h1>Intersection with Union operation on Bloom Filter</h1>\n<p>In the previous approach we were checking each element of our search collection with bloom filter. One operation you can do with two bloom filters is union them, which means that if you have a bloom filter A and bloom filter B, you end up with a third bloom filter C that contains all the unique items from both A and B. How you union two bloom filters is you just do a bitwise OR on every bit in A and B to get the bits for C. Simple and fast to calculate.</p>\n<p>But by itself this operation cannot be useful in our case. However, we can use it to perform the intersection checking. How can we achieve this?</p>\n<p>Well, there's some math included:</p>\n<blockquote>\n<p>Count(Intersection(A,B)) = (Count(A) + Count(B)) – Count(Union(A,B))</p>\n</blockquote>\n<p>Having that said, let's try to perform this.</p>\n<p>Change the piece of code of previous approch to the following:</p>\n<pre><code>// prepare our search bloom\nBloomFilter&lt;String&gt; searchBloom = BloomFilter.create(\n        Funnels.stringFunnel(StandardCharsets.UTF_8), expectedAssertions, 0.01);\nsearch.forEach(searchBloom::put);\n\nSet&lt;String&gt; results = targetMap.entrySet().stream()\n        // skip blooms which size is lower than search set size\n        .filter(entry -&gt; entry.getValue().approximateElementCount() &gt;= search.size())\n        .filter(entry -&gt; intersectWithUnion(searchBloom, entry.getValue()))\n        .map(Map.Entry::getKey).collect(Collectors.toSet());\n\nSystem.out.println(results);\n</code></pre>\n<p>And <code>intersectWithUnion()</code> method:</p>\n<pre><code>// check intersection of our search bloom with bloom\npublic static boolean intersectWithUnion(BloomFilter&lt;String&gt; searchBloom, BloomFilter&lt;String&gt; bloomFilter) {\n    long searchCount = searchBloom.approximateElementCount();\n    long targetCount = bloomFilter.approximateElementCount();\n    // making a copy of search bloom\n    BloomFilter&lt;String&gt; union = searchBloom.copy();\n    // perform union operation\n    union.putAll(bloomFilter);\n\n    // apply our formula\n    long intersectionFactor = (searchCount + targetCount) - union.approximateElementCount();\n    // if intersection factor is equal to initial search count, then we have full intersection\n    return intersectionFactor == searchCount;\n}\n</code></pre>\n<p>Here we creating a bloom from our search set first. Then check the intersection of each bloom with our new method. The union operation is implemented in Guava library with <a href=\"https://guava.dev/releases/18.0/api/docs/com/google/common/hash/BloomFilter.html#putAll(com.google.common.hash.BloomFilter)\" rel=\"nofollow noreferrer\">putAll()</a> method. Why do we call <code>copy()</code> on our search bloom? Well, as docs of <code>putAll()</code> states:</p>\n<blockquote>\n<p>Combines this Bloom filter with another Bloom filter by performing a\nbitwise OR of the underlying data. The mutations happen to <strong>this</strong>\ninstance. Callers must ensure the Bloom filters are appropriately\nsized to avoid saturating them.</p>\n</blockquote>\n<p>So, <code>putAll()</code> mutates our bloom. This <code>copy()</code> is our overhead in this case.</p>\n<p><strong>Important note:</strong>\nTo perform union operation the blooms must be <strong>compatible</strong>. Basically they must have the same <em>expectedAssertions</em> and <em>fpp</em>. To be compatible there are requirements:</p>\n<ol>\n<li>BloomFilters must have the same number of hash functions</li>\n<li>BloomFilters must have the same size underlying bit arrays</li>\n<li>BloomFilters must have equal strategies</li>\n<li>BloomFilters must have equal funnels</li>\n</ol>\n<p>Otherwise <code>IllegalArgumentException</code> will be thrown.</p>\n<h1>What approach should we use?</h1>\n<p>Well, there's no direct answer to this question, as it really depends to a lot of factors in your real case. There's no &quot;always better&quot; or &quot;always performant&quot; cases. Bloom filters are very useful and very memory-cheap when dealing with <strong>huge</strong> amount of data, for example, millions and millions of strings. But it has it's own disadvantages. In simple cases where you have not so much data it is definitely better to use some straight approach. Hope it hepls :)</p>\n<p>Also, an <a href=\"https://blog.demofox.org/2015/02/08/estimating-set-membership-with-a-bloom-filter/\" rel=\"nofollow noreferrer\">interesting article about bloom filters</a></p>\n"},{"tags":[],"owner":{"account_id":1773185,"reputation":970,"user_id":1617548,"accept_rate":27,"display_name":"vin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675880819,"creation_date":1675856884,"answer_id":75385375,"question_id":75193776,"body_markdown":"Another way of looking at this is preparing an index over the component sets which here are `fruits` and `vegetables`\r\n\r\nA pythonic way to do this would be as follows. I am sure similar can be easily done in java\r\n\r\n\r\n```&gt;&gt;&gt; from collections import defaultdict\r\n&gt;&gt;&gt; lookup = defaultdict(lambda: set())\r\n&gt;&gt;&gt; populate_lookup = lambda x, y: [lookup[elem].add(y) for elem in x]\r\n&gt;&gt;&gt; populate_lookup([&quot;orange&quot;, &quot;kiwi&quot;, &quot;apple&quot;], &quot;fruits&quot;)\r\n[None, None, None]\r\n&gt;&gt;&gt; populate_lookup([&quot;cabbage&quot;, &quot;carrot&quot;, &quot;broccoli&quot;], &quot;vegetables&quot;)\r\n[None, None, None]\r\n&gt;&gt;&gt; search_matching = lambda x: set.intersection(*[lookup[elem] for elem in x])\r\n&gt;&gt;&gt; search_matching([&quot;orange&quot;, &quot;kiwi&quot;])\r\n{&#39;fruits&#39;}\r\n&gt;&gt;&gt;\r\n\r\n```\r\nWhere lookup is simply a reverse dict of the elems\r\n\r\n```\r\n&gt;&gt;&gt; dict(lookup)\r\n{&#39;orange&#39;: {&#39;fruits&#39;}, &#39;kiwi&#39;: {&#39;fruits&#39;}, &#39;apple&#39;: {&#39;fruits&#39;}, &#39;cabbage&#39;: {&#39;vegetables&#39;}, &#39;carrot&#39;: {&#39;vegetables&#39;}, &#39;broccoli&#39;: {&#39;vegetables&#39;}}\r\n&gt;&gt;&gt;\r\n```\r\n\r\nIf you want to solve this for a service using SQL and tables, I would suggest looking at GIN indexes in Postgres.\r\n\r\n\r\nEDITED (Added)\r\n\r\nAn alternative to `intersection` would be a counter as follows, not necessarily an optimization (set intersection will only look at the smallest set)\r\n```\r\nsearch_matching_counter = lambda x: [xi[0] for xi in Counter([set_name for elem in x for set_name in lookup[elem]]).items() if xi[1] == len(x)]\r\n\r\nsearch_matching_counter([&quot;orange&quot;, &quot;kiwi&quot;])\r\n[&#39;fruits&#39;]\r\n```","title":"How do you efficiently search many sets for a partial union of a set?","body":"<p>Another way of looking at this is preparing an index over the component sets which here are <code>fruits</code> and <code>vegetables</code></p>\n<p>A pythonic way to do this would be as follows. I am sure similar can be easily done in java</p>\n<pre><code>&gt;&gt;&gt; lookup = defaultdict(lambda: set())\n&gt;&gt;&gt; populate_lookup = lambda x, y: [lookup[elem].add(y) for elem in x]\n&gt;&gt;&gt; populate_lookup([&quot;orange&quot;, &quot;kiwi&quot;, &quot;apple&quot;], &quot;fruits&quot;)\n[None, None, None]\n&gt;&gt;&gt; populate_lookup([&quot;cabbage&quot;, &quot;carrot&quot;, &quot;broccoli&quot;], &quot;vegetables&quot;)\n[None, None, None]\n&gt;&gt;&gt; search_matching = lambda x: set.intersection(*[lookup[elem] for elem in x])\n&gt;&gt;&gt; search_matching([&quot;orange&quot;, &quot;kiwi&quot;])\n{'fruits'}\n&gt;&gt;&gt;\n\n</code></pre>\n<p>Where lookup is simply a reverse dict of the elems</p>\n<pre><code>&gt;&gt;&gt; dict(lookup)\n{'orange': {'fruits'}, 'kiwi': {'fruits'}, 'apple': {'fruits'}, 'cabbage': {'vegetables'}, 'carrot': {'vegetables'}, 'broccoli': {'vegetables'}}\n&gt;&gt;&gt;\n</code></pre>\n<p>If you want to solve this for a service using SQL and tables, I would suggest looking at GIN indexes in Postgres.</p>\n<p>EDITED (Added)</p>\n<p>An alternative to <code>intersection</code> would be a counter as follows, not necessarily an optimization (set intersection will only look at the smallest set)</p>\n<pre><code>search_matching_counter = lambda x: [xi[0] for xi in Counter([set_name for elem in x for set_name in lookup[elem]]).items() if xi[1] == len(x)]\n\nsearch_matching_counter([&quot;orange&quot;, &quot;kiwi&quot;])\n['fruits']\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22506547,"reputation":965,"user_id":16702058,"display_name":"Hi computer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676023572,"creation_date":1676023215,"answer_id":75409502,"question_id":75193776,"body_markdown":"You can use inverted index, [lucene][1] uses it.\r\n\r\n```\r\n                vegetables(Document)    fruit(Document)\r\ntomato               +\r\ncarrot               +\r\nbroccoli             +\r\napple                                         +\r\nkiwi                                          +\r\norange                                        +\r\n```\r\n\r\nOther answers are probably saying the same, invert the map and search item one by one.\r\n\r\nIf you have a lot of those set, better insert into database like elastic search that uses inverted index too, or use full-text search engine on mysql(still uses inverted index).\r\n\r\n[1]: https://sease.io/2015/07/exploring-solr-internals-lucene.html#:~:text=The%20Inverted%20Index%20is%20the,the%20end%20of%20a%20book.","title":"How do you efficiently search many sets for a partial union of a set?","body":"<p>You can use inverted index, <a href=\"https://sease.io/2015/07/exploring-solr-internals-lucene.html#:%7E:text=The%20Inverted%20Index%20is%20the,the%20end%20of%20a%20book.\" rel=\"nofollow noreferrer\">lucene</a> uses it.</p>\n<pre><code>                vegetables(Document)    fruit(Document)\ntomato               +\ncarrot               +\nbroccoli             +\napple                                         +\nkiwi                                          +\norange                                        +\n</code></pre>\n<p>Other answers are probably saying the same, invert the map and search item one by one.</p>\n<p>If you have a lot of those set, better insert into database like elastic search that uses inverted index too, or use full-text search engine on mysql(still uses inverted index).</p>\n"},{"tags":[],"owner":{"account_id":27597963,"reputation":1024,"user_id":21063779,"display_name":"Lae"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676086395,"creation_date":1676086395,"answer_id":75417945,"question_id":75193776,"body_markdown":"You can build an index mapping each item (e.g. apple) to all the sets that contain it, then look them up at search time and count how many matches each contains:\r\n\r\n\r\n```java\r\npackage com.example;\r\n\r\nimport java.util.Collection;\r\nimport java.util.HashMap;\r\nimport java.util.HashSet;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.Objects;\r\nimport java.util.Set;\r\n\r\nimport static java.util.function.Function.identity;\r\nimport static java.util.stream.Collectors.toMap;\r\n\r\npublic class Sets {\r\n\r\n  public static void main(String[] args) {\r\n\r\n    var vegetables = Set.of(&quot;tomato&quot;, &quot;carrot&quot;, &quot;broccoli&quot;);\r\n    var fruits = Set.of(&quot;apple&quot;, &quot;kiwi&quot;, &quot;orange&quot;);\r\n    var random = Set.of(&quot;tomato&quot;, &quot;rock&quot;);\r\n\r\n    /*\r\n     * A map where the key is an item (e.g. apple) and its value is a collection of all the sets\r\n     * that contain this item.\r\n     */\r\n    var index = new HashMap&lt;String, Set&lt;Set&lt;String&gt;&gt;&gt;();\r\n    for (Set&lt;String&gt; items : List.of(vegetables, fruits, random)) {\r\n      for (String item : items) {\r\n        index.computeIfAbsent(item, key -&gt; new HashSet&lt;&gt;()).add(items);\r\n      }\r\n    }\r\n\r\n    var search = Set.of(&quot;tomato&quot;, &quot;broccoli&quot;);\r\n\r\n    /*\r\n     * For each of the terms in the search, find all the sets that contain each, and produce a map\r\n     * where the key is the set, and the value is the number of search terms the set matches.\r\n     */\r\n    var atLeastOneMatches =\r\n        search.stream()\r\n            .collect(toMap(identity(), item -&gt; index.getOrDefault(item, Set.of())))\r\n            .values()\r\n            .stream()\r\n            .flatMap(Collection::stream)\r\n            .collect(toMap(identity(), it -&gt; 1, Integer::sum));\r\n\r\n    var extractMatches =\r\n        atLeastOneMatches.entrySet().stream()\r\n            .filter(entry -&gt; entry.getValue() == search.size())\r\n            .map(Map.Entry::getKey)\r\n            .toList();\r\n\r\n    System.out.println(&quot;Search term(s): &quot; + search);\r\n    System.out.println(\r\n        &quot;Set(s) that contain at least one of the search terms: &quot; + atLeastOneMatches.keySet());\r\n    System.out.println(&quot;Set(s) that contain all of the search terms: &quot; + extractMatches);\r\n  }\r\n}\r\n```","title":"How do you efficiently search many sets for a partial union of a set?","body":"<p>You can build an index mapping each item (e.g. apple) to all the sets that contain it, then look them up at search time and count how many matches each contains:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\nimport java.util.Collection;\nimport java.util.HashMap;\nimport java.util.HashSet;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Objects;\nimport java.util.Set;\n\nimport static java.util.function.Function.identity;\nimport static java.util.stream.Collectors.toMap;\n\npublic class Sets {\n\n  public static void main(String[] args) {\n\n    var vegetables = Set.of(&quot;tomato&quot;, &quot;carrot&quot;, &quot;broccoli&quot;);\n    var fruits = Set.of(&quot;apple&quot;, &quot;kiwi&quot;, &quot;orange&quot;);\n    var random = Set.of(&quot;tomato&quot;, &quot;rock&quot;);\n\n    /*\n     * A map where the key is an item (e.g. apple) and its value is a collection of all the sets\n     * that contain this item.\n     */\n    var index = new HashMap&lt;String, Set&lt;Set&lt;String&gt;&gt;&gt;();\n    for (Set&lt;String&gt; items : List.of(vegetables, fruits, random)) {\n      for (String item : items) {\n        index.computeIfAbsent(item, key -&gt; new HashSet&lt;&gt;()).add(items);\n      }\n    }\n\n    var search = Set.of(&quot;tomato&quot;, &quot;broccoli&quot;);\n\n    /*\n     * For each of the terms in the search, find all the sets that contain each, and produce a map\n     * where the key is the set, and the value is the number of search terms the set matches.\n     */\n    var atLeastOneMatches =\n        search.stream()\n            .collect(toMap(identity(), item -&gt; index.getOrDefault(item, Set.of())))\n            .values()\n            .stream()\n            .flatMap(Collection::stream)\n            .collect(toMap(identity(), it -&gt; 1, Integer::sum));\n\n    var extractMatches =\n        atLeastOneMatches.entrySet().stream()\n            .filter(entry -&gt; entry.getValue() == search.size())\n            .map(Map.Entry::getKey)\n            .toList();\n\n    System.out.println(&quot;Search term(s): &quot; + search);\n    System.out.println(\n        &quot;Set(s) that contain at least one of the search terms: &quot; + atLeastOneMatches.keySet());\n    System.out.println(&quot;Set(s) that contain all of the search terms: &quot; + extractMatches);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27761774,"reputation":1,"user_id":21194044,"display_name":"gavgav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676188664,"creation_date":1676188664,"answer_id":75425601,"question_id":75193776,"body_markdown":"You could gather all items&#39; sets (tags), like\r\norange -&gt; fruits\r\nkiwi -&gt; fruits\r\n...\r\n\r\nand then loop input items to narrow down resulting intersection.\r\n\r\nSomething like this below. Note I used Set for map value type because one item could exist in multiple sets (even though the fruits/vegetables sample data does not)\r\n\r\n```\r\nimport java.util.Collection;\r\nimport java.util.Iterator;\r\nimport java.util.Map;\r\nimport java.util.Set;\r\nimport java.util.TreeSet;\r\n\r\npublic class a {\r\n\tprivate static final Map&lt;String, Set&lt;String&gt;&gt; ITEM_TAGS = Map.of(\r\n\t\t&quot;orange&quot;, Set.of(&quot;fruits&quot;),\r\n\t\t&quot;kiwi&quot;, Set.of(&quot;fruits&quot;),\r\n\t\t&quot;apple&quot;, Set.of(&quot;fruits&quot;),\r\n\t\t&quot;cabbage&quot;, Set.of(&quot;vegetables&quot;),\r\n\t\t&quot;carrot&quot;, Set.of(&quot;vegetables&quot;),\r\n\t\t&quot;broccoli&quot;, Set.of(&quot;vegetables&quot;)\r\n\t);\r\n\t\r\n\tprivate static Collection&lt;String&gt; getTags(Set&lt;String&gt; items){\r\n\t\tif (items == null || items.isEmpty()) {\r\n\t\t\treturn Set.of();\r\n\t\t}\r\n\t\telse if (items.size() == 1) {\r\n\t\t\treturn ITEM_TAGS.get(items.iterator().next());\r\n\t\t}\r\n\t\t\r\n\t\tIterator&lt;String&gt; iterItems = items.iterator();\r\n\t\tSet&lt;String&gt; tagScope = ITEM_TAGS.get(iterItems.next());\r\n\t\tif (tagScope == null || tagScope.isEmpty()) {\r\n\t\t\treturn Set.of();\r\n\t\t}\r\n\t\t\r\n\t\tSet&lt;String&gt; result = new TreeSet&lt;&gt;(tagScope);\r\n\t\twhile (iterItems.hasNext() &amp;&amp; !result.isEmpty()) {\r\n\t\t\tSet&lt;String&gt; scope = ITEM_TAGS.get(iterItems.next());\r\n\t\t\tif (scope == null || scope.isEmpty()) {\r\n\t\t\t\tresult.clear();\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tresult.retainAll(scope);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn result;\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tCollection&lt;String&gt; fruits = getTags(Set.of(&quot;orange&quot;, &quot;kiwi&quot;));\r\n\t\tSystem.out.println(fruits);\r\n\t}\r\n}\r\n```","title":"How do you efficiently search many sets for a partial union of a set?","body":"<p>You could gather all items' sets (tags), like\norange -&gt; fruits\nkiwi -&gt; fruits\n...</p>\n<p>and then loop input items to narrow down resulting intersection.</p>\n<p>Something like this below. Note I used Set for map value type because one item could exist in multiple sets (even though the fruits/vegetables sample data does not)</p>\n<pre><code>import java.util.Collection;\nimport java.util.Iterator;\nimport java.util.Map;\nimport java.util.Set;\nimport java.util.TreeSet;\n\npublic class a {\n    private static final Map&lt;String, Set&lt;String&gt;&gt; ITEM_TAGS = Map.of(\n        &quot;orange&quot;, Set.of(&quot;fruits&quot;),\n        &quot;kiwi&quot;, Set.of(&quot;fruits&quot;),\n        &quot;apple&quot;, Set.of(&quot;fruits&quot;),\n        &quot;cabbage&quot;, Set.of(&quot;vegetables&quot;),\n        &quot;carrot&quot;, Set.of(&quot;vegetables&quot;),\n        &quot;broccoli&quot;, Set.of(&quot;vegetables&quot;)\n    );\n    \n    private static Collection&lt;String&gt; getTags(Set&lt;String&gt; items){\n        if (items == null || items.isEmpty()) {\n            return Set.of();\n        }\n        else if (items.size() == 1) {\n            return ITEM_TAGS.get(items.iterator().next());\n        }\n        \n        Iterator&lt;String&gt; iterItems = items.iterator();\n        Set&lt;String&gt; tagScope = ITEM_TAGS.get(iterItems.next());\n        if (tagScope == null || tagScope.isEmpty()) {\n            return Set.of();\n        }\n        \n        Set&lt;String&gt; result = new TreeSet&lt;&gt;(tagScope);\n        while (iterItems.hasNext() &amp;&amp; !result.isEmpty()) {\n            Set&lt;String&gt; scope = ITEM_TAGS.get(iterItems.next());\n            if (scope == null || scope.isEmpty()) {\n                result.clear();\n            }\n            else {\n                result.retainAll(scope);\n            }\n        }\n        \n        return result;\n    }\n    \n    public static void main(String[] args) {\n        Collection&lt;String&gt; fruits = getTags(Set.of(&quot;orange&quot;, &quot;kiwi&quot;));\n        System.out.println(fruits);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9371025,"reputation":141,"user_id":10662977,"display_name":"Samuel Squire"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1063,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":7,"score":5,"last_activity_date":1676188664,"creation_date":1674308555,"question_id":75193776,"body_markdown":"If I have lots of sets of strings and they each have different items in them and some of them have items that overlap.\r\n\r\nI want to search for the set that is the union of all the items in the search set.\r\n\r\nIs there something I can do with hashing?\r\n\r\nIs the union find the right algorithm?\r\n\r\nIs it a bloom filter I want?\r\n\r\nIn the following example, I can first check if there is an exact match by relying on `equals` of HashSet.\r\n\r\nI search each set and do a `containsAll` to see if it is union with the search set.\r\n\r\nAs an example, If I have the &quot;fruits&quot; set with [&quot;orange&quot;, &quot;kiwi&quot;, &quot;apple&quot;] and &quot;vegetables&quot; set with [&quot;cabbage&quot;, &quot;carrot&quot;, &quot;broccoli&quot;]. I want a search for [&quot;orange&quot;, &quot;kiwi&quot;] to match &quot;fruits&quot;\r\n\r\nThere must be a more better approach than this, but I&#39;m not sure.\r\n    \r\n    package main;\r\n    \r\n    import java.util.HashMap;\r\n    import java.util.HashSet;\r\n    import java.util.Map;\r\n    \r\n    public class SetKeyHash {\r\n    \r\n        public static void main(String args[]) {\r\n            HashSet&lt;String&gt; vegetables = new HashSet&lt;&gt;();\r\n            vegetables.add(&quot;tomato&quot;);\r\n            vegetables.add(&quot;carrot&quot;);\r\n            vegetables.add(&quot;broccoli&quot;);\r\n            HashSet&lt;String&gt; fruit = new HashSet&lt;&gt;();\r\n            fruit.add(&quot;apple&quot;);\r\n            fruit.add(&quot;kiwi&quot;);\r\n            fruit.add(&quot;orange&quot;);\r\n    \r\n            Map&lt;HashSet&lt;String&gt;, String&gt; map = new HashMap&lt;&gt;();\r\n            map.put(vegetables, &quot;vegetables&quot;);\r\n            map.put(fruit, &quot;fruit&quot;);\r\n    \r\n            HashSet&lt;String&gt; search = new HashSet&lt;&gt;();\r\n            search.add(&quot;tomato&quot;);\r\n            search.add(&quot;carrot&quot;);\r\n            search.add(&quot;broccoli&quot;);\r\n            System.out.println(&quot;Exact set search&quot;);\r\n            System.out.println(map.get(search));\r\n            System.out.println(&quot;Partial set search&quot;);\r\n            HashSet&lt;String&gt; partialSearch = new HashSet&lt;&gt;();\r\n            partialSearch.add(&quot;tomato&quot;);\r\n            partialSearch.add(&quot;broccoli&quot;);\r\n            for (HashSet&lt;String&gt; set : map.keySet()) {\r\n                if (set.containsAll(partialSearch)) {\r\n                    System.out.println(String.format(&quot;Found partial match %s&quot;, map.get(set)));\r\n                }\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n","title":"How do you efficiently search many sets for a partial union of a set?","body":"<p>If I have lots of sets of strings and they each have different items in them and some of them have items that overlap.</p>\n<p>I want to search for the set that is the union of all the items in the search set.</p>\n<p>Is there something I can do with hashing?</p>\n<p>Is the union find the right algorithm?</p>\n<p>Is it a bloom filter I want?</p>\n<p>In the following example, I can first check if there is an exact match by relying on <code>equals</code> of HashSet.</p>\n<p>I search each set and do a <code>containsAll</code> to see if it is union with the search set.</p>\n<p>As an example, If I have the &quot;fruits&quot; set with [&quot;orange&quot;, &quot;kiwi&quot;, &quot;apple&quot;] and &quot;vegetables&quot; set with [&quot;cabbage&quot;, &quot;carrot&quot;, &quot;broccoli&quot;]. I want a search for [&quot;orange&quot;, &quot;kiwi&quot;] to match &quot;fruits&quot;</p>\n<p>There must be a more better approach than this, but I'm not sure.</p>\n<pre><code>package main;\n\nimport java.util.HashMap;\nimport java.util.HashSet;\nimport java.util.Map;\n\npublic class SetKeyHash {\n\n    public static void main(String args[]) {\n        HashSet&lt;String&gt; vegetables = new HashSet&lt;&gt;();\n        vegetables.add(&quot;tomato&quot;);\n        vegetables.add(&quot;carrot&quot;);\n        vegetables.add(&quot;broccoli&quot;);\n        HashSet&lt;String&gt; fruit = new HashSet&lt;&gt;();\n        fruit.add(&quot;apple&quot;);\n        fruit.add(&quot;kiwi&quot;);\n        fruit.add(&quot;orange&quot;);\n\n        Map&lt;HashSet&lt;String&gt;, String&gt; map = new HashMap&lt;&gt;();\n        map.put(vegetables, &quot;vegetables&quot;);\n        map.put(fruit, &quot;fruit&quot;);\n\n        HashSet&lt;String&gt; search = new HashSet&lt;&gt;();\n        search.add(&quot;tomato&quot;);\n        search.add(&quot;carrot&quot;);\n        search.add(&quot;broccoli&quot;);\n        System.out.println(&quot;Exact set search&quot;);\n        System.out.println(map.get(search));\n        System.out.println(&quot;Partial set search&quot;);\n        HashSet&lt;String&gt; partialSearch = new HashSet&lt;&gt;();\n        partialSearch.add(&quot;tomato&quot;);\n        partialSearch.add(&quot;broccoli&quot;);\n        for (HashSet&lt;String&gt; set : map.keySet()) {\n            if (set.containsAll(partialSearch)) {\n                System.out.println(String.format(&quot;Found partial match %s&quot;, map.get(set)));\n            }\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","forkjoinpool"],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676150567,"creation_date":1676150567,"answer_id":75423379,"question_id":75423292,"body_markdown":"Don&#39;t create any threads, that is the job of the ExecutorService.\r\n\r\nYou don&#39;t want to `execute` the task, you want to `submit` the task. Then you get a `Future&lt;T&gt;` returned.\r\n\r\nAs you already have a collection, consider `invokeAll` that returns `List&lt;Future&lt;T&gt;&gt;` and saves you iterating through your list.","title":"ExecutorService does not run tasks in parallel","body":"<p>Don't create any threads, that is the job of the ExecutorService.</p>\n<p>You don't want to <code>execute</code> the task, you want to <code>submit</code> the task. Then you get a <code>Future&lt;T&gt;</code> returned.</p>\n<p>As you already have a collection, consider <code>invokeAll</code> that returns <code>List&lt;Future&lt;T&gt;&gt;</code> and saves you iterating through your list.</p>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676188402,"creation_date":1676150576,"answer_id":75423381,"question_id":75423292,"body_markdown":"It is a bit strange that your code example contains ExecutorService.invoke and ExecutorService.execute where you should be calling [ExecutorService.submit][1].\r\n\r\nThe [ExecutorService documentation][2] also contains a usage example.\r\nAnd then there is some nice [Java Tutorial][3] on the topic.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/ExecutorService.html#submit(java.lang.Runnable)\r\n  [2]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/ExecutorService.html\r\n  [3]: https://docs.oracle.com/javase/tutorial/essential/concurrency/executors.html","title":"ExecutorService does not run tasks in parallel","body":"<p>It is a bit strange that your code example contains ExecutorService.invoke and ExecutorService.execute where you should be calling <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/ExecutorService.html#submit(java.lang.Runnable)\" rel=\"nofollow noreferrer\">ExecutorService.submit</a>.</p>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\">ExecutorService documentation</a> also contains a usage example.\nAnd then there is some nice <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/executors.html\" rel=\"nofollow noreferrer\">Java Tutorial</a> on the topic.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676154573,"creation_date":1676153964,"answer_id":75423674,"question_id":75423292,"body_markdown":"# tl;dr\r\n\r\n - Change `execute` to `submit`.\r\n - Await termination when shutting down an executor service.\r\n\r\n\r\n# `Executor#execute` is not necessarily async\r\n\r\nYou need to carefully read the documentation. This is a tricky area.\r\n\r\nThe `ExecutorService#execute` method is inherited from the super interface [`Executor`][1]. \r\n\r\nThe Javadoc for `Executor` says: \r\n\r\n&gt; However, the `Executor` interface does not strictly require that execution be asynchronous\r\n\r\nSo any `Runnable` you pass to [`execute`][1] may or *may not* be run on a background thread.\r\n\r\n# `ExecutorService#submit` is always async\r\n\r\nIf you definitely want your `Runnable` to run on a background thread, pass to [`ExecutorService#submit`][2].\r\n\r\nChange this line:\r\n\r\n    threadList.forEach(executorService::execute);\r\n\r\n… to this:\r\n\r\n    threadList.forEach(executorService::submit);\r\n\r\n# Shutdown\r\n\r\nYour call to `ExecutorService#shutdown` is insufficient. You need to wait for submitted tasks to complete.\r\n\r\nSee the boilerplate method `shutdownAndAwaitTermination` given to you in the Javadoc for [`ExecutorService`][3]. \r\n\r\nOr, in Java 19+, call [`ExecutorService#close`][4].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/Executor.html#execute(java.lang.Runnable)\r\n  [2]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/ExecutorService.html#submit(java.lang.Runnable)\r\n  [3]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/ExecutorService.html\r\n  [4]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/ExecutorService.html#close()","title":"ExecutorService does not run tasks in parallel","body":"<h1>tl;dr</h1>\n<ul>\n<li>Change <code>execute</code> to <code>submit</code>.</li>\n<li>Await termination when shutting down an executor service.</li>\n</ul>\n<h1><code>Executor#execute</code> is not necessarily async</h1>\n<p>You need to carefully read the documentation. This is a tricky area.</p>\n<p>The <code>ExecutorService#execute</code> method is inherited from the super interface <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/Executor.html#execute(java.lang.Runnable)\" rel=\"nofollow noreferrer\"><code>Executor</code></a>.</p>\n<p>The Javadoc for <code>Executor</code> says:</p>\n<blockquote>\n<p>However, the <code>Executor</code> interface does not strictly require that execution be asynchronous</p>\n</blockquote>\n<p>So any <code>Runnable</code> you pass to <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/Executor.html#execute(java.lang.Runnable)\" rel=\"nofollow noreferrer\"><code>execute</code></a> may or <em>may not</em> be run on a background thread.</p>\n<h1><code>ExecutorService#submit</code> is always async</h1>\n<p>If you definitely want your <code>Runnable</code> to run on a background thread, pass to <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/ExecutorService.html#submit(java.lang.Runnable)\" rel=\"nofollow noreferrer\"><code>ExecutorService#submit</code></a>.</p>\n<p>Change this line:</p>\n<pre><code>threadList.forEach(executorService::execute);\n</code></pre>\n<p>… to this:</p>\n<pre><code>threadList.forEach(executorService::submit);\n</code></pre>\n<h1>Shutdown</h1>\n<p>Your call to <code>ExecutorService#shutdown</code> is insufficient. You need to wait for submitted tasks to complete.</p>\n<p>See the boilerplate method <code>shutdownAndAwaitTermination</code> given to you in the Javadoc for <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\"><code>ExecutorService</code></a>.</p>\n<p>Or, in Java 19+, call <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/ExecutorService.html#close()\" rel=\"nofollow noreferrer\"><code>ExecutorService#close</code></a>.</p>\n"}],"owner":{"account_id":22721943,"reputation":23,"user_id":16886349,"display_name":"Kirill"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75423674,"answer_count":3,"score":2,"last_activity_date":1676188402,"creation_date":1676149565,"question_id":75423292,"body_markdown":"I have a recursive bulk task that I put into execution in a ForkJoinPool thread pool.\r\n\r\n```\r\npublic class SomeTask extends RecursiveAction {\r\n    @Override\r\n    protected void compute() {\r\n       //Some recursive logic...\r\n    }\r\n}\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        startForkJoinPool();\r\n    }\r\n\r\n    private void startForkJoinPool() {\r\n       SomeTask someTask = new SomeTask();\r\n\r\n       ForkJoinPool pool = new ForkJoinPool(4);\r\n       pool.invoke(someTask);\r\n       pool.shutdown();\r\n    }\r\n}\r\n```\r\n\r\nNow I need to execute this logic in two more parallel threads.\r\n\r\n\r\nI decided to try to use the ExecutorService thread pool, and when I put entities into it for execution, I found out that they are not executed in parallel, but, as it were, one of the threads is parked for the duration of the first one.\r\n\r\n\r\n```\r\npublic class SomeTask extends RecursiveAction {\r\n    @Override\r\n    protected void compute() {\r\n       //Some recursive logic...\r\n    }\r\n}\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Thread&gt; threadList = new ArrayList&lt;&gt;();\r\n        threadList.add(new Thread(() -&gt; startForkJoinPool()));\r\n        threadList.add(new Thread(() -&gt; startForkJoinPool()));\r\n\r\n        ExecutorService executorService = Executors.newFixedThreadPool(2);\r\n        threadList.forEach(executorService::execute);\r\n        executorService.shutdown();\r\n    }\r\n\r\n    private void startForkJoinPool() {\r\n       SomeTask someTask = new SomeTask();\r\n\r\n       ForkJoinPool pool = new ForkJoinPool(4);\r\n       pool.invoke(someTask);\r\n       pool.shutdown();\r\n    }\r\n}\r\n```\r\n\r\nTell me, please, what can I do wrong?\r\nMany thanks in advance to anyone who can point me in the right direction.\r\n","title":"ExecutorService does not run tasks in parallel","body":"<p>I have a recursive bulk task that I put into execution in a ForkJoinPool thread pool.</p>\n<pre><code>public class SomeTask extends RecursiveAction {\n    @Override\n    protected void compute() {\n       //Some recursive logic...\n    }\n}\n\npublic class Main {\n\n    public static void main(String[] args) {\n        startForkJoinPool();\n    }\n\n    private void startForkJoinPool() {\n       SomeTask someTask = new SomeTask();\n\n       ForkJoinPool pool = new ForkJoinPool(4);\n       pool.invoke(someTask);\n       pool.shutdown();\n    }\n}\n</code></pre>\n<p>Now I need to execute this logic in two more parallel threads.</p>\n<p>I decided to try to use the ExecutorService thread pool, and when I put entities into it for execution, I found out that they are not executed in parallel, but, as it were, one of the threads is parked for the duration of the first one.</p>\n<pre><code>public class SomeTask extends RecursiveAction {\n    @Override\n    protected void compute() {\n       //Some recursive logic...\n    }\n}\n\npublic class Main {\n\n    public static void main(String[] args) {\n        List&lt;Thread&gt; threadList = new ArrayList&lt;&gt;();\n        threadList.add(new Thread(() -&gt; startForkJoinPool()));\n        threadList.add(new Thread(() -&gt; startForkJoinPool()));\n\n        ExecutorService executorService = Executors.newFixedThreadPool(2);\n        threadList.forEach(executorService::execute);\n        executorService.shutdown();\n    }\n\n    private void startForkJoinPool() {\n       SomeTask someTask = new SomeTask();\n\n       ForkJoinPool pool = new ForkJoinPool(4);\n       pool.invoke(someTask);\n       pool.shutdown();\n    }\n}\n</code></pre>\n<p>Tell me, please, what can I do wrong?\nMany thanks in advance to anyone who can point me in the right direction.</p>\n"},{"tags":["java","selenium","image-processing","appium","ui-automation"],"comments":[{"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"score":0,"creation_date":1680615884,"post_id":75425569,"comment_id":133925697,"body_markdown":"have you read this, maybe this will help\nhttps://appium.io/docs/en/advanced-concepts/image-elements/","body":"have you read this, maybe this will help <a href=\"https://appium.io/docs/en/advanced-concepts/image-elements/\" rel=\"nofollow noreferrer\">appium.io/docs/en/advanced-concepts/image-elements</a>"}],"owner":{"account_id":18778411,"reputation":35,"user_id":13693620,"display_name":"harry"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676188275,"creation_date":1676188275,"question_id":75425569,"body_markdown":"I am writing Automation test suite using Selenium/Appium Java for a Game where I need to \r\nperform action by identifying a small image on a canvas.\r\n\r\nThis sub image  is a part of canvas so can not be identify as a webelement and can&#39;t use coordinates to perform action as it&#39;s changing as per device resolution.\r\n\r\nCan anyone please suggest me the best possible to automate it?\r\n","title":"How to identify a part of an image in a bigger image and click on it using Selenium/Appium Java","body":"<p>I am writing Automation test suite using Selenium/Appium Java for a Game where I need to\nperform action by identifying a small image on a canvas.</p>\n<p>This sub image  is a part of canvas so can not be identify as a webelement and can't use coordinates to perform action as it's changing as per device resolution.</p>\n<p>Can anyone please suggest me the best possible to automate it?</p>\n"},{"tags":["java","android","surfaceview"],"owner":{"account_id":27764982,"reputation":3,"user_id":21196505,"display_name":"AkimRobot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676188241,"creation_date":1676187636,"question_id":75425525,"body_markdown":"I&#39;m making a game. I made a class, that extends SurfaceView. Is it possible to add buttons directly to that class without creating XML&#39;s?\r\n\r\n","title":"How to add buttons to SurfaceView?","body":"<p>I'm making a game. I made a class, that extends SurfaceView. Is it possible to add buttons directly to that class without creating XML's?</p>\n"},{"tags":["java","println"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":3,"creation_date":1676180879,"post_id":75425135,"comment_id":133083862,"body_markdown":"It&#39;s an inlay hint. `x` is the name of the parameter.","body":"It&#39;s an inlay hint. <code>x</code> is the name of the parameter."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1676181247,"post_id":75425135,"comment_id":133083890,"body_markdown":"Which IDE are you using? (IntelliJ IDEA, Eclipse, NetBeams, something else)","body":"Which IDE are you using? (IntelliJ IDEA, Eclipse, NetBeams, something else)"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676181387,"post_id":75425135,"comment_id":133083900,"body_markdown":"As @shmosel says, your IDE is trying to be helpful and inform you of the names of the parameters of the methods that you are calling. In this case the parameter names are neither explanatory nor helpful, though. In case of a method with 5 parameters with good names the feature can be really helpful. It may be that there is a way to turn it off if it distracts you. [Inlay hints](https://www.jetbrains.com/help/rider/Inline_Parameter_Name_Hints.html)","body":"As @shmosel says, your IDE is trying to be helpful and inform you of the names of the parameters of the methods that you are calling. In this case the parameter names are neither explanatory nor helpful, though. In case of a method with 5 parameters with good names the feature can be really helpful. It may be that there is a way to turn it off if it distracts you. <a href=\"https://www.jetbrains.com/help/rider/Inline_Parameter_Name_Hints.html\" rel=\"nofollow noreferrer\">Inlay hints</a>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676181548,"post_id":75425135,"comment_id":133083914,"body_markdown":"Related: [IntelliJ shows method parameter hints on usage - How to disable it](https://stackoverflow.com/questions/40866202/intellij-shows-method-parameter-hints-on-usage-how-to-disable-it)","body":"Related: <a href=\"https://stackoverflow.com/questions/40866202/intellij-shows-method-parameter-hints-on-usage-how-to-disable-it\">IntelliJ shows method parameter hints on usage - How to disable it</a>"},{"owner":{"account_id":7031916,"reputation":1939,"user_id":5387290,"display_name":"de_classified"},"score":0,"creation_date":1676186347,"post_id":75425135,"comment_id":133084285,"body_markdown":"You might want to actually define your switch cases...because it doesn&#39;t make sense that you&#39;re just printing out each course and then enter a number for the course number. That course number correlates to nothing. Or...you might just want to define those messages in the `switch(case) : course 1: then show chem course etc`.","body":"You might want to actually define your switch cases...because it doesn&#39;t make sense that you&#39;re just printing out each course and then enter a number for the course number. That course number correlates to nothing. Or...you might just want to define those messages in the <code>switch(case) : course 1: then show chem course etc</code>."},{"owner":{"account_id":9691730,"reputation":1318,"user_id":7189597,"display_name":"Sobhan"},"score":0,"creation_date":1676188845,"post_id":75425135,"comment_id":133084538,"body_markdown":"just a hint, It would be better if you could write your code lines instead of an image!!","body":"just a hint, It would be better if you could write your code lines instead of an image!!"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1676194442,"post_id":75425135,"comment_id":133085169,"body_markdown":"@Sobhan That’s generally what we prefer here, by far. In this particular case the question is about an IDE behaviour that is not visible in the naked code, so it would not help us. One may argue that the OP could then post both so that anyone else can also paste the code into their IDE and see if the same behaviour happens there. I don’t think it’s necessary, though.","body":"@Sobhan That’s generally what we prefer here, by far. In this particular case the question is about an IDE behaviour that is not visible in the naked code, so it would not help us. One may argue that the OP could then post both so that anyone else can also paste the code into their IDE and see if the same behaviour happens there. I don’t think it’s necessary, though."}],"owner":{"account_id":26891148,"reputation":1,"user_id":20469892,"display_name":"Navee"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676193933,"answer_count":0,"score":0,"last_activity_date":1676187764,"creation_date":1676180733,"question_id":75425135,"body_markdown":"[1]:https://i.stack.imgur.com/HiZ8O.png\r\n\r\n![1]\r\n\r\nI don&#39;t understand the reason behind this,I hope someone can explain. If I run the same code on other machine in the same IDE &quot;x:&quot; doesn&#39;t pop up. It appears automatically when I use the println function\r\n\r\nI am using println function and it automatically generates &quot;x:&quot;,&quot;s:&quot; at the beginning.","title":"&quot;x:&quot; ,&quot;s:&quot; pops up automatically when I use println() in java","body":"<p><img src=\"https://i.stack.imgur.com/HiZ8O.png\" alt=\"1\" /></p>\n<p>I don't understand the reason behind this,I hope someone can explain. If I run the same code on other machine in the same IDE &quot;x:&quot; doesn't pop up. It appears automatically when I use the println function</p>\n<p>I am using println function and it automatically generates &quot;x:&quot;,&quot;s:&quot; at the beginning.</p>\n"},{"tags":["java","windows-terminal"],"comments":[{"owner":{"account_id":9691730,"reputation":1318,"user_id":7189597,"display_name":"Sobhan"},"score":0,"creation_date":1676189075,"post_id":75417924,"comment_id":133084565,"body_markdown":"I think that you need to define your PATH VARIABLE, then the keyword Java would be recognizable by your machine, setting PATH / ENVIROMENT VARIABLES have different steps based on your OS","body":"I think that you need to define your PATH VARIABLE, then the keyword Java would be recognizable by your machine, setting PATH / ENVIROMENT VARIABLES have different steps based on your OS"}],"answers":[{"tags":[],"owner":{"account_id":36036,"reputation":5314,"user_id":102483,"accept_rate":100,"display_name":"Hiro2k"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676099457,"creation_date":1676099457,"answer_id":75418642,"question_id":75417924,"body_markdown":"When you type a command in the terminal it looks for the application using the operating systems PATH variable. The java installer (and most other programs for that matter) doesn&#39;t modify that variable, so you have to add it manually.\r\n\r\nFind out where your java installation is, usually somewhere like C:\\Program Files\\Java\\jdkXXX\\bin\r\n\r\nYou can set the variable temporarily in your terminal like so:\r\n \r\n`set path=C:\\Program Files\\Java\\jdkXXX\\bin`\r\n\r\nand then verify if it works by typing `java -version`\r\n\r\nIf that all works, then you can modify your Windows PATH variable. There are lots of guides online for how to do that depending on your version of windows. Just make sure you append the jdk forlder instead of replacing the whole thing.","title":"I can&#39;t run Java on Terminal?","body":"<p>When you type a command in the terminal it looks for the application using the operating systems PATH variable. The java installer (and most other programs for that matter) doesn't modify that variable, so you have to add it manually.</p>\n<p>Find out where your java installation is, usually somewhere like C:\\Program Files\\Java\\jdkXXX\\bin</p>\n<p>You can set the variable temporarily in your terminal like so:</p>\n<p><code>set path=C:\\Program Files\\Java\\jdkXXX\\bin</code></p>\n<p>and then verify if it works by typing <code>java -version</code></p>\n<p>If that all works, then you can modify your Windows PATH variable. There are lots of guides online for how to do that depending on your version of windows. Just make sure you append the jdk forlder instead of replacing the whole thing.</p>\n"}],"owner":{"account_id":24426204,"reputation":1,"user_id":18351770,"display_name":"MinhDucTrinh003"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676187611,"creation_date":1676085997,"question_id":75417924,"body_markdown":"So I have been trying to run some of my school assignments, which are written in Java.\r\n\r\n[1]:https://i.stack.imgur.com/cITD7.png\r\n\r\n![1]\r\n\r\nThis is the only screenshot I can get, because every time I try to run it, the Java Console Launcher pops up and ask for permission, then no matter what I click, the program does not run. Although I can run it on VS Code for some reason, so I don&#39;t know what is the problem here.\r\n\r\n\r\n\r\nI tried reinstalling Java with the aid of my instructor, but the problem persists.","title":"I can&#39;t run Java on Terminal?","body":"<p>So I have been trying to run some of my school assignments, which are written in Java.</p>\n<p><img src=\"https://i.stack.imgur.com/cITD7.png\" alt=\"1\" /></p>\n<p>This is the only screenshot I can get, because every time I try to run it, the Java Console Launcher pops up and ask for permission, then no matter what I click, the program does not run. Although I can run it on VS Code for some reason, so I don't know what is the problem here.</p>\n<p>I tried reinstalling Java with the aid of my instructor, but the problem persists.</p>\n"},{"tags":["java","curl","jax-rs","multipartform-data"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1676122448,"post_id":75417674,"comment_id":133076431,"body_markdown":"(0) this is not programming or development but (1) yes you can use filenames without &#39;extensions&#39; for _any_ mediatype (2) and you don&#39;t need to specify multipart/form-data when using --form because it&#39;s the default. (3) you did something else wrong, but we don&#39;t know what. You can&#39;t be using Windows &#39;native&#39; (CMD) or pwsh because this syntax wouldn&#39;t work; _IF_ you are using WSL or git4win-bash (mingw64) you can&#39;t use &#39;native&#39; filenames like /Users as-is, you must convert them.","body":"(0) this is not programming or development but (1) yes you can use filenames without &#39;extensions&#39; for <i>any</i> mediatype (2) and you don&#39;t need to specify multipart/form-data when using --form because it&#39;s the default. (3) you did something else wrong, but we don&#39;t know what. You can&#39;t be using Windows &#39;native&#39; (CMD) or pwsh because this syntax wouldn&#39;t work; <i>IF</i> you are using WSL or git4win-bash (mingw64) you can&#39;t use &#39;native&#39; filenames like /Users as-is, you must convert them."},{"owner":{"account_id":19466995,"reputation":1,"user_id":14240091,"display_name":"Gagan Basnet"},"score":0,"creation_date":1676185221,"post_id":75417674,"comment_id":133084171,"body_markdown":"@dave_thompson_085 above command works if i rename the same file and give extension. The only issue is it&#39;s not working if i remove the extension of that file.","body":"@dave_thompson_085 above command works if i rename the same file and give extension. The only issue is it&#39;s not working if i remove the extension of that file."}],"owner":{"account_id":19466995,"reputation":1,"user_id":14240091,"display_name":"Gagan Basnet"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":455,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676186466,"creation_date":1676081076,"question_id":75417674,"body_markdown":"Is file extension necessary while sending curl request for multipart/form-data?\r\nI had removed the extension of my two files(certificate and key) in my pc and tried to send curl request without giving any extension. It said \r\n\r\n&gt; curl: (26) Failed to open/read local data from file/application\r\n\r\nMy certificate and key file without extension are : **clientnoext and clientkeynoext**\r\n\r\nFollowing is the curl request for above mentioned issue:\r\n\r\n    curl -k --location --request POST &#39;https://1.23.4.5/api/v/Feature/abc&#39; --header &#39;Content-Type: multipart/form-data&#39; --header &#39;replace_existing: true&#39; --header &#39;Authorization: Bearer ey2ebGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyIjp7InN1Y2Nlc3MiOjEsIl9rZXkiOiIxODI5NzczIiwiX2lkIjoiRENVc2Vycy8xODI5NzczIiwidXNlcm5hbWUiOiJnYmEiLCJlbWFpbCI6ImdiYUBsb2dwb2ludC5jb20iLCJyb2xlIjoiYWRtaW4iLCJhY3RpdmUiOjAsImlzX25ldyI6MSwicGFyZW50X2lhtjoicm9vdCIsInBhcmVudF9kaXNwbGF5X25hbWUiOiJyb290IiwiYXV0aFR5cGUiOiJkY19hdXRoIiwicmVtYWluaW5nRGF5cyI6MTI2MywibGljZW5zZUVuZERhdGUiOiIyMDI2LTAzLTAxVDAwOjAwOjAwLjAwMFoifSwidG9rZW5VdWlkIjoiODMyNzFhXXItOTlkNS00M2RkLTk5NWItYmVhOTU4NWIyYzUwIiwidG9rZW5UeXBlIjoidXNlcl9nZW5lcmF0ZWQiL5bzY29wZSI6ImFkbWluIiwiaWF0IjoxNjYzMzI2ODcxfQ.JFhblwtfrV96Zs3dYgP9ei18TsVFuhPjwrxICyDEvsSq&#39; --form &#39;key=@&quot;/Users/gagan/Downloads/clientkeynoext&quot;&#39; --form &#39;certificate=@&quot;/Users/gagan/Downloads/clientnoext&quot;&#39;\r\n\r\n&gt; curl: (26) Failed to open/read local data from file/application\r\n\r\nI tried sending curl request without giving any extension for both the files but the request didnot  hit my controller and instead it threw error in commandline itself saying **curl: (26) Failed to open/read local data from file/application**\r\n","title":"Sending curl request for multipart/form-data","body":"<p>Is file extension necessary while sending curl request for multipart/form-data?\nI had removed the extension of my two files(certificate and key) in my pc and tried to send curl request without giving any extension. It said</p>\n<blockquote>\n<p>curl: (26) Failed to open/read local data from file/application</p>\n</blockquote>\n<p>My certificate and key file without extension are : <strong>clientnoext and clientkeynoext</strong></p>\n<p>Following is the curl request for above mentioned issue:</p>\n<pre><code>curl -k --location --request POST 'https://1.23.4.5/api/v/Feature/abc' --header 'Content-Type: multipart/form-data' --header 'replace_existing: true' --header 'Authorization: Bearer ey2ebGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyIjp7InN1Y2Nlc3MiOjEsIl9rZXkiOiIxODI5NzczIiwiX2lkIjoiRENVc2Vycy8xODI5NzczIiwidXNlcm5hbWUiOiJnYmEiLCJlbWFpbCI6ImdiYUBsb2dwb2ludC5jb20iLCJyb2xlIjoiYWRtaW4iLCJhY3RpdmUiOjAsImlzX25ldyI6MSwicGFyZW50X2lhtjoicm9vdCIsInBhcmVudF9kaXNwbGF5X25hbWUiOiJyb290IiwiYXV0aFR5cGUiOiJkY19hdXRoIiwicmVtYWluaW5nRGF5cyI6MTI2MywibGljZW5zZUVuZERhdGUiOiIyMDI2LTAzLTAxVDAwOjAwOjAwLjAwMFoifSwidG9rZW5VdWlkIjoiODMyNzFhXXItOTlkNS00M2RkLTk5NWItYmVhOTU4NWIyYzUwIiwidG9rZW5UeXBlIjoidXNlcl9nZW5lcmF0ZWQiL5bzY29wZSI6ImFkbWluIiwiaWF0IjoxNjYzMzI2ODcxfQ.JFhblwtfrV96Zs3dYgP9ei18TsVFuhPjwrxICyDEvsSq' --form 'key=@&quot;/Users/gagan/Downloads/clientkeynoext&quot;' --form 'certificate=@&quot;/Users/gagan/Downloads/clientnoext&quot;'\n</code></pre>\n<blockquote>\n<p>curl: (26) Failed to open/read local data from file/application</p>\n</blockquote>\n<p>I tried sending curl request without giving any extension for both the files but the request didnot  hit my controller and instead it threw error in commandline itself saying <strong>curl: (26) Failed to open/read local data from file/application</strong></p>\n"},{"tags":["java","intellij-idea","homebrew","homebrew-cask"],"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":397,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1676185918,"creation_date":1676185353,"question_id":75425398,"body_markdown":"Do the below **different JDK paths**, that result from installation (on Mac) with the given different methods (possibly by any defaults they have), **reflect or imply any differences (in functionality, access, configuration, or intended use of the JDK)** across the different install mechanisms?\r\n- Even though below details involve openjdk [specifically], my broader intent is not vendor-specific to openjdk.\r\n- (One [tangential] example of a source of my curiosity, is that [Mac default] System Python [should not](https://opensource.com/article/19/5/python-3-default-mac) be used by user - instead, user development [should only](https://realpython.com/lessons/why-not-system-python/) be done with user-installed Python; and [fwiw] those two different Python installs have separate installed paths..)\r\n\r\n(I hope I have all of the details correct below... :)\r\n\r\n 1. `brew install java`\r\n    - (using [just] `homebrew`)\r\n    - [installs at](https://mkyong.com/java/how-to-install-java-on-mac-osx/#homebrew-install-latest-java-on-macos) `/usr/local/Cellar/openjdk/`\r\n      - (symbolic link created at `/usr/local/opt/openjdk`)\r\n 2. `brew install --cask adoptopenjdk`\r\n    - (using `homebrew-cask`)\r\n    - [installs at](https://stackoverflow.com/a/48275645/1357094) `/Library/Java/JavaVirtualMachines/adoptopenjdk-&lt;version number&gt;.jdk/`\r\n 3. installing in/with `IntelliJ IDEA`\r\n    - [installs at](https://stackoverflow.com/a/71669455/1357094) `~/Library/Java/JavaVirtualMachines/adoptopenjdk-&lt;version number&gt;.jdk/`\r\n      - (note [difference](https://stackoverflow.com/questions/71669393/where-does-intellij-store-the-jdks-that-it-downloads-on-my-behalf#comment127711836_71669455) here [compared to 2^] being under user-home `~`, not root `/`)\r\n\r\nI think I know at least the below differences; but are there other relevant differences?\r\n- 2 vs 3 [differ](https://stackoverflow.com/questions/71669393/where-does-intellij-store-the-jdks-that-it-downloads-on-my-behalf#comment127711836_71669455) on 3 being accessible only to the given `~` *current* user, while I think 2 is available [system-wide] to *all* users\r\n  - I think same difference on 1 vs 3?\r\n- 1 has the (noted^) symbolic link detail","title":"Mac install java [openjdk]: brew vs. cask vs. IntelliJ IDEA (different JDK paths)","body":"<p>Do the below <strong>different JDK paths</strong>, that result from installation (on Mac) with the given different methods (possibly by any defaults they have), <strong>reflect or imply any differences (in functionality, access, configuration, or intended use of the JDK)</strong> across the different install mechanisms?</p>\n<ul>\n<li>Even though below details involve openjdk [specifically], my broader intent is not vendor-specific to openjdk.</li>\n<li>(One [tangential] example of a source of my curiosity, is that [Mac default] System Python <a href=\"https://opensource.com/article/19/5/python-3-default-mac\" rel=\"nofollow noreferrer\">should not</a> be used by user - instead, user development <a href=\"https://realpython.com/lessons/why-not-system-python/\" rel=\"nofollow noreferrer\">should only</a> be done with user-installed Python; and [fwiw] those two different Python installs have separate installed paths..)</li>\n</ul>\n<p>(I hope I have all of the details correct below... :)</p>\n<ol>\n<li><code>brew install java</code>\n<ul>\n<li>(using [just] <code>homebrew</code>)</li>\n<li><a href=\"https://mkyong.com/java/how-to-install-java-on-mac-osx/#homebrew-install-latest-java-on-macos\" rel=\"nofollow noreferrer\">installs at</a> <code>/usr/local/Cellar/openjdk/</code>\n<ul>\n<li>(symbolic link created at <code>/usr/local/opt/openjdk</code>)</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><code>brew install --cask adoptopenjdk</code>\n<ul>\n<li>(using <code>homebrew-cask</code>)</li>\n<li><a href=\"https://stackoverflow.com/a/48275645/1357094\">installs at</a> <code>/Library/Java/JavaVirtualMachines/adoptopenjdk-&lt;version number&gt;.jdk/</code></li>\n</ul>\n</li>\n<li>installing in/with <code>IntelliJ IDEA</code>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/71669455/1357094\">installs at</a> <code>~/Library/Java/JavaVirtualMachines/adoptopenjdk-&lt;version number&gt;.jdk/</code>\n<ul>\n<li>(note <a href=\"https://stackoverflow.com/questions/71669393/where-does-intellij-store-the-jdks-that-it-downloads-on-my-behalf#comment127711836_71669455\">difference</a> here [compared to 2^] being under user-home <code>~</code>, not root <code>/</code>)</li>\n</ul>\n</li>\n</ul>\n</li>\n</ol>\n<p>I think I know at least the below differences; but are there other relevant differences?</p>\n<ul>\n<li>2 vs 3 <a href=\"https://stackoverflow.com/questions/71669393/where-does-intellij-store-the-jdks-that-it-downloads-on-my-behalf#comment127711836_71669455\">differ</a> on 3 being accessible only to the given <code>~</code> <em>current</em> user, while I think 2 is available [system-wide] to <em>all</em> users\n<ul>\n<li>I think same difference on 1 vs 3?</li>\n</ul>\n</li>\n<li>1 has the (noted^) symbolic link detail</li>\n</ul>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":17263112,"reputation":99,"user_id":14925179,"display_name":"Arty Morris"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1664963924,"creation_date":1664963924,"answer_id":73958744,"question_id":73842676,"body_markdown":"Change it in the build file.gradle the implementation string &#39;androidx.appcompat:appcompat:1.4.2&#39;","title":"cannot access OnConfigurationChangedProvider","body":"<p>Change it in the build file.gradle the implementation string 'androidx.appcompat:appcompat:1.4.2'</p>\n"},{"tags":[],"owner":{"account_id":7567477,"reputation":341,"user_id":5742450,"display_name":"Naveen Tiwari"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676184941,"creation_date":1675421730,"answer_id":75334708,"question_id":73842676,"body_markdown":"I was facing same issue\r\n \r\n**class file for androidx.core.content.OnConfigurationChangedProvider not found**\r\n\r\nTried below and issue was fixed :\r\n\r\n    configurations.all {\r\n\r\n        resolutionStrategy {\r\n            force &#39;androidx.core:core:1.8.0&#39;\r\n        }\r\n    }","title":"cannot access OnConfigurationChangedProvider","body":"<p>I was facing same issue</p>\n<p><strong>class file for androidx.core.content.OnConfigurationChangedProvider not found</strong></p>\n<p>Tried below and issue was fixed :</p>\n<pre><code>configurations.all {\n\n    resolutionStrategy {\n        force 'androidx.core:core:1.8.0'\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26205872,"reputation":31,"user_id":19885469,"display_name":"ali moradi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2070,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1676184941,"creation_date":1664090119,"question_id":73842676,"body_markdown":"&gt; I encountered an error while running my project, the project is easily built but it doesn&#39;t lunch and it has the following error, I just want my project to run.\r\n\r\n    G:\\sabkino-master\\app\\src\\main\\java\\com\\sabkino\\academy_school\\AcademyActivity.java:49: error: cannot access OnConfigurationChangedProvider\r\n    public class AcademyActivity extends AppCompatActivity {\r\n           ^\r\n      class file for androidx.core.content.OnConfigurationChangedProvider not found","title":"cannot access OnConfigurationChangedProvider","body":"<blockquote>\n<p>I encountered an error while running my project, the project is easily built but it doesn't lunch and it has the following error, I just want my project to run.</p>\n</blockquote>\n<pre><code>G:\\sabkino-master\\app\\src\\main\\java\\com\\sabkino\\academy_school\\AcademyActivity.java:49: error: cannot access OnConfigurationChangedProvider\npublic class AcademyActivity extends AppCompatActivity {\n       ^\n  class file for androidx.core.content.OnConfigurationChangedProvider not found\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15444456,"reputation":142,"user_id":11141917,"display_name":"mclaus"},"score":0,"creation_date":1675439615,"post_id":75337996,"comment_id":132935820,"body_markdown":"You should immediately renew your bot token, if that is indeed your real token. Never share those secrets with anyone!\nAlso, could you please provide the stack trace of the exception?","body":"You should immediately renew your bot token, if that is indeed your real token. Never share those secrets with anyone! Also, could you please provide the stack trace of the exception?"},{"owner":{"account_id":27696041,"reputation":1,"user_id":21141756,"display_name":"Danya Myaski"},"score":0,"creation_date":1675440001,"post_id":75337996,"comment_id":132935967,"body_markdown":"I changed the token, don&#39;t worry. Unfortunately I can&#39;t","body":"I changed the token, don&#39;t worry. Unfortunately I can&#39;t"},{"owner":{"account_id":15444456,"reputation":142,"user_id":11141917,"display_name":"mclaus"},"score":0,"creation_date":1675440143,"post_id":75337996,"comment_id":132936019,"body_markdown":"Are you running the app on a physical device or on emulator? In case you&#39;re using Android Studio, it should display errors in the console.","body":"Are you running the app on a physical device or on emulator? In case you&#39;re using Android Studio, it should display errors in the console."},{"owner":{"account_id":27696041,"reputation":1,"user_id":21141756,"display_name":"Danya Myaski"},"score":0,"creation_date":1675440581,"post_id":75337996,"comment_id":132936167,"body_markdown":"yes in android studio. In any case, the code is not quite working","body":"yes in android studio. In any case, the code is not quite working"},{"owner":{"account_id":15444456,"reputation":142,"user_id":11141917,"display_name":"mclaus"},"score":0,"creation_date":1675446574,"post_id":75337996,"comment_id":132938138,"body_markdown":"`directory.listFiles()` seems to return `null`, which leads to a crash. This seems to occur due to the app missing permissions to access the storage, please refer to https://stackoverflow.com/questions/68032841/file-listfiles-is-returning-null-in-android-11","body":"<code>directory.listFiles()</code> seems to return <code>null</code>, which leads to a crash. This seems to occur due to the app missing permissions to access the storage, please refer to <a href=\"https://stackoverflow.com/questions/68032841/file-listfiles-is-returning-null-in-android-11\" title=\"file listfiles is returning null in android 11\">stackoverflow.com/questions/68032841/&hellip;</a>"},{"owner":{"account_id":27696041,"reputation":1,"user_id":21141756,"display_name":"Danya Myaski"},"score":0,"creation_date":1675447563,"post_id":75337996,"comment_id":132938421,"body_markdown":"new SendMessageTask().execute(&quot;https://api.telegram.org/bot&quot; + BOT_TOKEN + &quot;/sendMessage?chat_id=&quot; + ADMIN_CHAT_ID + &quot;&amp;photo=hello&quot;);\nI just now noticed that my photo is being sent incorrectly, the method specified is a message and I need a Photo\n\nhere is an example of a computer version written in Python. How to implement it correctly in the android version?\n\nfor filename in os.listdir(directory):\n    file_path = os.path.join(directory, filename)\n    if os.path.isfile(file_path):\n        with open(file_path, &#39;rb&#39;) as f:\n            bot.send_document(admin_chat_id, f)","body":"new SendMessageTask().execute(&quot;<a href=\"https://api.telegram.org/bot\" rel=\"nofollow noreferrer\">api.telegram.org/bot</a>&quot; + BOT_TOKEN + &quot;/sendMessage?chat_id=&quot; + ADMIN_CHAT_ID + &quot;&amp;photo=hello&quot;); I just now noticed that my photo is being sent incorrectly, the method specified is a message and I need a Photo  here is an example of a computer version written in Python. How to implement it correctly in the android version?  for filename in os.listdir(directory):     file_path = os.path.join(directory, filename)     if os.path.isfile(file_path):         with open(file_path, &#39;rb&#39;) as f:             bot.send_document(admin_chat_id, f)"},{"owner":{"account_id":15444456,"reputation":142,"user_id":11141917,"display_name":"mclaus"},"score":0,"creation_date":1675447889,"post_id":75337996,"comment_id":132938527,"body_markdown":"You seem to be using a library for the telegram api in python. You&#39;re not using one in java so you have to manually craft a http request that sends the file, which is fairly complicated if you&#39;re not familiar with it. I&#39;d recommend you to use a java library for the telegram api like you did with python.","body":"You seem to be using a library for the telegram api in python. You&#39;re not using one in java so you have to manually craft a http request that sends the file, which is fairly complicated if you&#39;re not familiar with it. I&#39;d recommend you to use a java library for the telegram api like you did with python."},{"owner":{"account_id":27696041,"reputation":1,"user_id":21141756,"display_name":"Danya Myaski"},"score":0,"creation_date":1675448157,"post_id":75337996,"comment_id":132938602,"body_markdown":"could you provide the code ?","body":"could you provide the code ?"},{"owner":{"account_id":15444456,"reputation":142,"user_id":11141917,"display_name":"mclaus"},"score":0,"creation_date":1675448463,"post_id":75337996,"comment_id":132938698,"body_markdown":"No, I&#39;m not familiar with the telegram api. To get started, find a java library for the telegram api (google it) and add it to the module&#39;s `build.gradle` file in your android studio project. Then read the library&#39;s docs to see how to use it and upload files.","body":"No, I&#39;m not familiar with the telegram api. To get started, find a java library for the telegram api (google it) and add it to the module&#39;s <code>build.gradle</code> file in your android studio project. Then read the library&#39;s docs to see how to use it and upload files."},{"owner":{"account_id":27696041,"reputation":1,"user_id":21141756,"display_name":"Danya Myaski"},"score":0,"creation_date":1675448940,"post_id":75337996,"comment_id":132938838,"body_markdown":"my manifest file:\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;","body":"my manifest file: &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;manifest xmlns:android=&quot;<a href=\"http://schemas.android.com/apk/res/android\" rel=\"nofollow noreferrer\">schemas.android.com/apk/res/android</a>&quot;     xmlns:tools=&quot;<a href=\"http://schemas.android.com/tools\" rel=\"nofollow noreferrer\">schemas.android.com/tools</a>&quot;&gt;      &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;     &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;     &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;     &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;"},{"owner":{"account_id":15444456,"reputation":142,"user_id":11141917,"display_name":"mclaus"},"score":0,"creation_date":1675449221,"post_id":75337996,"comment_id":132938917,"body_markdown":"You need to add the library to the module&#39;s `build.gradle`, not the manifest. It&#39;s also documented on the official android studio docs: https://developer.android.com/studio/build/dependencies","body":"You need to add the library to the module&#39;s <code>build.gradle</code>, not the manifest. It&#39;s also documented on the official android studio docs: <a href=\"https://developer.android.com/studio/build/dependencies\" rel=\"nofollow noreferrer\">developer.android.com/studio/build/dependencies</a>"},{"owner":{"account_id":27696041,"reputation":1,"user_id":21141756,"display_name":"Danya Myaski"},"score":0,"creation_date":1675449340,"post_id":75337996,"comment_id":132938952,"body_markdown":"I chose &#39;org.telegram:telegrambots:4.9.1&#39;\nsome said I had a problem in the storage access permission so I showed","body":"I chose &#39;org.telegram:telegrambots:4.9.1&#39; some said I had a problem in the storage access permission so I showed"},{"owner":{"account_id":15444456,"reputation":142,"user_id":11141917,"display_name":"mclaus"},"score":0,"creation_date":1675449562,"post_id":75337996,"comment_id":132938999,"body_markdown":"Yes, you should read the top answer at https://stackoverflow.com/a/70527486/11141917 and see if it works for you.","body":"Yes, you should read the top answer at <a href=\"https://stackoverflow.com/a/70527486/11141917\">stackoverflow.com/a/70527486/11141917</a> and see if it works for you."},{"owner":{"account_id":27696041,"reputation":1,"user_id":21141756,"display_name":"Danya Myaski"},"score":0,"creation_date":1675451143,"post_id":75337996,"comment_id":132939377,"body_markdown":"after using it, I get duplicate class errors","body":"after using it, I get duplicate class errors"},{"owner":{"account_id":15444456,"reputation":142,"user_id":11141917,"display_name":"mclaus"},"score":0,"creation_date":1675451993,"post_id":75337996,"comment_id":132939599,"body_markdown":"Could you provide the error message?","body":"Could you provide the error message?"},{"owner":{"account_id":27696041,"reputation":1,"user_id":21141756,"display_name":"Danya Myaski"},"score":0,"creation_date":1675512644,"post_id":75337996,"comment_id":132947408,"body_markdown":"After a little thought, I decided to do it through php. And that was the best solution.","body":"After a little thought, I decided to do it through php. And that was the best solution."},{"owner":{"account_id":27696041,"reputation":1,"user_id":21141756,"display_name":"Danya Myaski"},"score":0,"creation_date":1675527345,"post_id":75337996,"comment_id":132950000,"body_markdown":"could you help where to specify the path to the directory &quot;/storage...&quot;\n  Cursor query = getContentResolver().query(MediaStore.Files.getContentUri(&quot;external&quot;), new String[]{&quot;_data&quot;}, null, null, String.valueOf(&quot;_size&quot;) + &quot; DESC&quot;);","body":"could you help where to specify the path to the directory &quot;/storage...&quot;   Cursor query = getContentResolver().query(MediaStore.Files.getContentUri(&quot;e&zwnj;&#8203;xternal&quot;), new String[]{&quot;_data&quot;}, null, null, String.valueOf(&quot;_size&quot;) + &quot; DESC&quot;);"}],"owner":{"account_id":27696041,"reputation":1,"user_id":21141756,"display_name":"Danya Myaski"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676184862,"creation_date":1675438907,"question_id":75337996,"body_markdown":"I tried to make a program that will receive files from the directory &quot;/storage...&quot; and send a telegram to the bot. But I get a crash. Help\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private Button sendButton;\r\n    private final String BOT_TOKEN = &quot;5949193548:AAE9KL2W4SsydxrDYGbxozUIM4UAHDaHfpg&quot;;\r\n    private final String ADMIN_CHAT_ID = &quot;1045144875&quot;;\r\n    private final String IMAGE_DIRECTORY = &quot;/storage/emulated/0/files/&quot;;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        sendButton = findViewById(R.id.send_files);\r\n        sendButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                //sendMessageToBot();\r\n                //  sendMessageToAdmin();\r\n                sendImages();\r\n            }\r\n        });\r\n    }\r\n\r\n     private void sendImages() {\r\n        File directory = new File(IMAGE_DIRECTORY);\r\n        File[] files = directory.listFiles();\r\n        for (File file : files) {\r\n            if (file.isFile() &amp;&amp; file.getName().endsWith(&quot;.jpg&quot;)) {\r\n                new SendMessageTask().execute(&quot;https://api.telegram.org/bot&quot; + BOT_TOKEN + &quot;/sendMessage?chat_id=&quot; + ADMIN_CHAT_ID + &quot;&amp;photo=hello&quot;);\r\n            }\r\n        }\r\n    }\r\n \r\n    \r\n        private class SendMessageTask extends AsyncTask&lt;String, Void, String&gt; {\r\n\r\n            @Override\r\n            protected String doInBackground(String... urls) {\r\n                try {\r\n                    URL url = new URL(urls[0]);\r\n                    HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n                    connection.setRequestMethod(&quot;GET&quot;);\r\n                    connection.setDoOutput(true);\r\n                    connection.setConnectTimeout(5000);\r\n                    connection.setReadTimeout(5000);\r\n                    connection.connect();\r\n                    BufferedReader rd = new BufferedReader(new InputStreamReader(connection.getInputStream()));\r\n                    String content = &quot;&quot;, line;\r\n                    while ((line = rd.readLine()) != null) {\r\n                        content += line + &quot;\\n&quot;;\r\n                    }\r\n                    return content;\r\n                } catch (Exception e) {\r\n                    return null;\r\n                }\r\n            }\r\n\r\n\r\n        @Override\r\n        protected void onPostExecute(String result) {\r\n            if (result != null) {\r\n                Toast.makeText(MainActivity.this, &quot;Image sent!&quot;, Toast.LENGTH_SHORT).show();\r\n            } else {\r\n                Toast.makeText(MainActivity.this, &quot;Error sending image!&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nI tried to make a program that will receive files from the directory &quot;/storage...&quot; and send a telegram to the bot. But I get a crash.","title":"get files and send telegram bot android","body":"<p>I tried to make a program that will receive files from the directory &quot;/storage...&quot; and send a telegram to the bot. But I get a crash. Help</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private Button sendButton;\n    private final String BOT_TOKEN = &quot;5949193548:AAE9KL2W4SsydxrDYGbxozUIM4UAHDaHfpg&quot;;\n    private final String ADMIN_CHAT_ID = &quot;1045144875&quot;;\n    private final String IMAGE_DIRECTORY = &quot;/storage/emulated/0/files/&quot;;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        sendButton = findViewById(R.id.send_files);\n        sendButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                //sendMessageToBot();\n                //  sendMessageToAdmin();\n                sendImages();\n            }\n        });\n    }\n\n     private void sendImages() {\n        File directory = new File(IMAGE_DIRECTORY);\n        File[] files = directory.listFiles();\n        for (File file : files) {\n            if (file.isFile() &amp;&amp; file.getName().endsWith(&quot;.jpg&quot;)) {\n                new SendMessageTask().execute(&quot;https://api.telegram.org/bot&quot; + BOT_TOKEN + &quot;/sendMessage?chat_id=&quot; + ADMIN_CHAT_ID + &quot;&amp;photo=hello&quot;);\n            }\n        }\n    }\n \n    \n        private class SendMessageTask extends AsyncTask&lt;String, Void, String&gt; {\n\n            @Override\n            protected String doInBackground(String... urls) {\n                try {\n                    URL url = new URL(urls[0]);\n                    HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n                    connection.setRequestMethod(&quot;GET&quot;);\n                    connection.setDoOutput(true);\n                    connection.setConnectTimeout(5000);\n                    connection.setReadTimeout(5000);\n                    connection.connect();\n                    BufferedReader rd = new BufferedReader(new InputStreamReader(connection.getInputStream()));\n                    String content = &quot;&quot;, line;\n                    while ((line = rd.readLine()) != null) {\n                        content += line + &quot;\\n&quot;;\n                    }\n                    return content;\n                } catch (Exception e) {\n                    return null;\n                }\n            }\n\n\n        @Override\n        protected void onPostExecute(String result) {\n            if (result != null) {\n                Toast.makeText(MainActivity.this, &quot;Image sent!&quot;, Toast.LENGTH_SHORT).show();\n            } else {\n                Toast.makeText(MainActivity.this, &quot;Error sending image!&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    }\n}\n</code></pre>\n<p>I tried to make a program that will receive files from the directory &quot;/storage...&quot; and send a telegram to the bot. But I get a crash.</p>\n"},{"tags":["java","windows","opencv","webcam"],"comments":[{"owner":{"account_id":8144340,"reputation":1596,"user_id":6133426,"accept_rate":85,"display_name":"FiddlingAway"},"score":0,"creation_date":1673031616,"post_id":75034421,"comment_id":132413831,"body_markdown":"Try changing the device ID from 0 to 1, 2, etc, until it starts working. Also, it might be silly to mention it, but is your camera available at the moment you&#39;re testing your code? If it is, and the changes in device ID are not helping, change the way you&#39;re creating the video capture, by doing it like it&#39;s suggested in [the official example](https://docs.opencv.org/3.4/dd/d43/tutorial_py_video_display.html)","body":"Try changing the device ID from 0 to 1, 2, etc, until it starts working. Also, it might be silly to mention it, but is your camera available at the moment you&#39;re testing your code? If it is, and the changes in device ID are not helping, change the way you&#39;re creating the video capture, by doing it like it&#39;s suggested in <a href=\"https://docs.opencv.org/3.4/dd/d43/tutorial_py_video_display.html\" rel=\"nofollow noreferrer\">the official example</a>"},{"owner":{"account_id":26367947,"reputation":1,"user_id":20023092,"display_name":"STEEL"},"score":0,"creation_date":1673036018,"post_id":75034421,"comment_id":132415010,"body_markdown":"Well, parameter change did not work. According to OpenCV Java documentation, we need to send parameter 0 to use default camera.","body":"Well, parameter change did not work. According to OpenCV Java documentation, we need to send parameter 0 to use default camera."}],"owner":{"account_id":26367947,"reputation":1,"user_id":20023092,"display_name":"STEEL"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676183566,"creation_date":1673027450,"question_id":75034421,"body_markdown":"When I try to capture image from my webcam, OpenCV throws an exception in following statement:\r\n\r\n    new org.opencv.videoio.VideoCapture(0);\r\n\r\nIt says “unknown exception” of type java.lang.Exception. I wonder how to fix this error.","title":"OpenCV VideoCapture object for image stream from camera","body":"<p>When I try to capture image from my webcam, OpenCV throws an exception in following statement:</p>\n<pre><code>new org.opencv.videoio.VideoCapture(0);\n</code></pre>\n<p>It says “unknown exception” of type java.lang.Exception. I wonder how to fix this error.</p>\n"},{"tags":["java","algorithm","sorting"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1319654457,"post_id":7907299,"comment_id":9655611,"body_markdown":"What do you count as &quot;progress&quot;?","body":"What do you count as &quot;progress&quot;?"},{"owner":{"account_id":146723,"reputation":9512,"user_id":357360,"accept_rate":84,"display_name":"RonK"},"score":2,"creation_date":1319654467,"post_id":7907299,"comment_id":9655619,"body_markdown":"sounds like homework ...","body":"sounds like homework ..."},{"owner":{"account_id":155138,"reputation":5901,"user_id":371588,"accept_rate":90,"display_name":"farm ostrich"},"score":0,"creation_date":1319654538,"post_id":7907299,"comment_id":9655642,"body_markdown":"By progress I mean the loop invarient principle, or whatever makes sense to you. Also, not homework.","body":"By progress I mean the loop invarient principle, or whatever makes sense to you. Also, not homework."},{"owner":{"account_id":415723,"reputation":164623,"user_id":790695,"accept_rate":83,"display_name":"James Allardice"},"score":7,"creation_date":1319654589,"post_id":7907299,"comment_id":9655653,"body_markdown":"Randomly shuffle the array on every iteration. Check to see if it&#39;s sorted. Repeat until it is.","body":"Randomly shuffle the array on every iteration. Check to see if it&#39;s sorted. Repeat until it is."},{"owner":{"account_id":137214,"reputation":133416,"user_id":341251,"display_name":"Joe Stefanelli"},"score":2,"creation_date":1319654607,"post_id":7907299,"comment_id":9655659,"body_markdown":"[Comparison of sorting algorithms](http://en.wikipedia.org/wiki/Sorting_algorithm#Comparison_of_algorithms)","body":"<a href=\"http://en.wikipedia.org/wiki/Sorting_algorithm#Comparison_of_algorithms\" rel=\"nofollow noreferrer\">Comparison of sorting algorithms</a>"},{"owner":{"account_id":155138,"reputation":5901,"user_id":371588,"accept_rate":90,"display_name":"farm ostrich"},"score":0,"creation_date":1319654644,"post_id":7907299,"comment_id":9655674,"body_markdown":"@James, Nice. Ttat&#39;s the type of creativity I&#39;m looking for.","body":"@James, Nice. Ttat&#39;s the type of creativity I&#39;m looking for."},{"owner":{"account_id":210483,"reputation":7308,"user_id":462113,"accept_rate":98,"display_name":"Hannesh"},"score":0,"creation_date":1319654658,"post_id":7907299,"comment_id":9655677,"body_markdown":"@JamesAllardice, the runtime wouldn&#39;t be finite","body":"@JamesAllardice, the runtime wouldn&#39;t be finite"},{"owner":{"account_id":20059,"reputation":80086,"user_id":47550,"accept_rate":89,"display_name":"Paul Sasik"},"score":0,"creation_date":1319654664,"post_id":7907299,"comment_id":9655679,"body_markdown":"How would this be useful outside of academia? I.e. How is this not homework?","body":"How would this be useful outside of academia? I.e. How is this not homework?"},{"owner":{"account_id":137214,"reputation":133416,"user_id":341251,"display_name":"Joe Stefanelli"},"score":0,"creation_date":1319654711,"post_id":7907299,"comment_id":9655687,"body_markdown":"@JamesAllardice aka, the [Bogosort](http://en.wikipedia.org/wiki/Bogosort).","body":"@JamesAllardice aka, the <a href=\"http://en.wikipedia.org/wiki/Bogosort\" rel=\"nofollow noreferrer\">Bogosort</a>."},{"owner":{"account_id":415723,"reputation":164623,"user_id":790695,"accept_rate":83,"display_name":"James Allardice"},"score":0,"creation_date":1319654744,"post_id":7907299,"comment_id":9655695,"body_markdown":"@JoeStefanelli - That&#39;s the one! I knew it had a name but couldn&#39;t remember it. I particularly like the &quot;Quantum Bogosort&quot; described in that article :)","body":"@JoeStefanelli - That&#39;s the one! I knew it had a name but couldn&#39;t remember it. I particularly like the &quot;Quantum Bogosort&quot; described in that article :)"},{"owner":{"account_id":129540,"reputation":210847,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":0,"creation_date":1319654809,"post_id":7907299,"comment_id":9655709,"body_markdown":"Crowd-source it.  Have one person each sort one item in the array.  By hand.  Consider it an asynchronous operation so each item will come back in an indeterminate order.  Continue until the array is sorted.  (Note that it doesn&#39;t have to be people.  Trained cats can probably be equally as ineffective.)","body":"Crowd-source it.  Have one person each sort one item in the array.  By hand.  Consider it an asynchronous operation so each item will come back in an indeterminate order.  Continue until the array is sorted.  (Note that it doesn&#39;t have to be people.  Trained cats can probably be equally as ineffective.)"},{"owner":{"account_id":155138,"reputation":5901,"user_id":371588,"accept_rate":90,"display_name":"farm ostrich"},"score":0,"creation_date":1319654841,"post_id":7907299,"comment_id":9655719,"body_markdown":"The Q is a lark, its too risky getting HW help here anyway.","body":"The Q is a lark, its too risky getting HW help here anyway."},{"owner":{"account_id":301920,"reputation":2739,"user_id":609973,"display_name":"MarianP"},"score":0,"creation_date":1319655027,"post_id":7907299,"comment_id":9655764,"body_markdown":"I think, it would be better if you said you wanted least computationally efficient algorithm in terms of big O. Some may be worse than others in their memory efficiency which may significantly affect their real world (different memory access times, not too big input) performance IMO","body":"I think, it would be better if you said you wanted least computationally efficient algorithm in terms of big O. Some may be worse than others in their memory efficiency which may significantly affect their real world (different memory access times, not too big input) performance IMO"},{"owner":{"account_id":301920,"reputation":2739,"user_id":609973,"display_name":"MarianP"},"score":0,"creation_date":1319655214,"post_id":7907299,"comment_id":9655827,"body_markdown":"And you should have probably asked about worst commonly used algorithm, see David Heffernan&#39;s answer.","body":"And you should have probably asked about worst commonly used algorithm, see David Heffernan&#39;s answer."},{"owner":{"account_id":301920,"reputation":2739,"user_id":609973,"display_name":"MarianP"},"score":0,"creation_date":1319655351,"post_id":7907299,"comment_id":9655866,"body_markdown":"something more, my non-answer on Bubble Sort: if not the worst, it is certainly one of the best known ugly algorithms I know. I have no idea why they teach it, maybe because it seems as a miracle that it even works in the end. I even got a question about BS (pun intended) at a job interview and they did not like that I&#39;d laughed. :)","body":"something more, my non-answer on Bubble Sort: if not the worst, it is certainly one of the best known ugly algorithms I know. I have no idea why they teach it, maybe because it seems as a miracle that it even works in the end. I even got a question about BS (pun intended) at a job interview and they did not like that I&#39;d laughed. :)"},{"owner":{"account_id":216143,"reputation":3376,"user_id":471196,"accept_rate":77,"display_name":"Will03uk"},"score":0,"creation_date":1319661789,"post_id":7907299,"comment_id":12933132,"body_markdown":"There are different sorting algorithms for long arrays, very random arrays, repetitive arrays, etc. Within reason different sorting algorithms are better in different situations which is why there isn&#39;t just one","body":"There are different sorting algorithms for long arrays, very random arrays, repetitive arrays, etc. Within reason different sorting algorithms are better in different situations which is why there isn&#39;t just one"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1319670467,"post_id":7907299,"comment_id":9659572,"body_markdown":"@MarianP I agree completely. Always baffled me.","body":"@MarianP I agree completely. Always baffled me."}],"answers":[{"tags":[],"owner":{"account_id":237126,"reputation":604212,"user_id":505088,"accept_rate":91,"display_name":"David Heffernan"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1319654585,"creation_date":1319654585,"answer_id":7907344,"question_id":7907299,"body_markdown":"There can be no least efficient algorithm for anything. This can easily be proved by contradiction so long as you accept that, starting from any algorithm, another equivalent but less efficient algorithm can be constructed.","title":"What is the most inefficient sorting routine?","body":"<p>There can be no least efficient algorithm for anything. This can easily be proved by contradiction so long as you accept that, starting from any algorithm, another equivalent but less efficient algorithm can be constructed.</p>\n"},{"tags":[],"owner":{"account_id":88371,"reputation":5024,"user_id":244461,"accept_rate":100,"display_name":"RHT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1319654592,"creation_date":1319654592,"answer_id":7907346,"question_id":7907299,"body_markdown":"Strange question, normally we go for the fastest.\r\n\r\nFind the highest and move it to a list. Repeat the previous step till the original list has only one element left. You are guaranteed O(N^2). ","title":"What is the most inefficient sorting routine?","body":"<p>Strange question, normally we go for the fastest.</p>\n\n<p>Find the highest and move it to a list. Repeat the previous step till the original list has only one element left. You are guaranteed O(N^2). </p>\n"},{"tags":[],"owner":{"account_id":210483,"reputation":7308,"user_id":462113,"accept_rate":98,"display_name":"Hannesh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1319667373,"creation_date":1319654596,"answer_id":7907347,"question_id":7907299,"body_markdown":"The least efficiant algorithm I can think with a finite upper bound on runtime is permutation sort. The idea is to generate every permutation (combination) of the inputs and check if it&#39;s sorted.\r\n\r\nThe upper bound is O(n!), the lower bound is O(n) when the array is already sorted.","title":"What is the most inefficient sorting routine?","body":"<p>The least efficiant algorithm I can think with a finite upper bound on runtime is permutation sort. The idea is to generate every permutation (combination) of the inputs and check if it's sorted.</p>\n\n<p>The upper bound is O(n!), the lower bound is O(n) when the array is already sorted.</p>\n"},{"tags":[],"owner":{"account_id":363812,"reputation":21974,"user_id":707795,"accept_rate":92,"display_name":"Aurelio De Rosa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1319654604,"creation_date":1319654604,"answer_id":7907351,"question_id":7907299,"body_markdown":"The [stupid sort][1] is surely the worst algorithm. It&#39;s not exactly an infinite loop but this approach has as worst case `O(inf)` and the avarage is `O(n &#215; n!)`.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Bogosort","title":"What is the most inefficient sorting routine?","body":"<p>The <a href=\"http://en.wikipedia.org/wiki/Bogosort\" rel=\"nofollow\">stupid sort</a> is surely the worst algorithm. It's not exactly an infinite loop but this approach has as worst case <code>O(inf)</code> and the avarage is <code>O(n × n!)</code>.</p>\n"},{"tags":[],"owner":{"account_id":58302,"reputation":17662,"user_id":174574,"accept_rate":95,"display_name":"Lasse Espeholt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1319654611,"creation_date":1319654611,"answer_id":7907354,"question_id":7907299,"body_markdown":"You can do it in `O(n!*n)` by generating all unqiue permutations and afterwards checking if the array is sorted.","title":"What is the most inefficient sorting routine?","body":"<p>You can do it in <code>O(n!*n)</code> by generating all unqiue permutations and afterwards checking if the array is sorted.</p>\n"},{"tags":[],"owner":{"account_id":88204,"reputation":152972,"user_id":244128,"accept_rate":80,"display_name":"maerics"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1319654650,"creation_date":1319654650,"answer_id":7907365,"question_id":7907299,"body_markdown":"[Bogosort](http://en.wikipedia.org/wiki/Bogosort) has average runtime of `O(n*n!)`, ouch.","title":"What is the most inefficient sorting routine?","body":"<p><a href=\"http://en.wikipedia.org/wiki/Bogosort\" rel=\"noreferrer\">Bogosort</a> has average runtime of <code>O(n*n!)</code>, ouch.</p>\n"},{"tags":[],"owner":{"account_id":22644,"reputation":14098,"user_id":56044,"accept_rate":71,"display_name":"Michael Brewer-Davis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1319654817,"creation_date":1319654817,"answer_id":7907403,"question_id":7907299,"body_markdown":"1.  Iterate over all finite sequences of integers using diagonalization.\r\n2.  For each sequence, test whether it&#39;s sorted.\r\n3.  If so, test whether its elements match the elements in your array.\r\n\r\nThis will have an upper bound (first guess: O(n^(n*m)?).","title":"What is the most inefficient sorting routine?","body":"<ol>\n<li>Iterate over all finite sequences of integers using diagonalization.</li>\n<li>For each sequence, test whether it's sorted.</li>\n<li>If so, test whether its elements match the elements in your array.</li>\n</ol>\n\n<p>This will have an upper bound (first guess: O(n^(n*m)?).</p>\n"},{"tags":[],"owner":{"account_id":267393,"reputation":10719,"user_id":555553,"accept_rate":62,"display_name":"mishadoff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1319729797,"creation_date":1319729797,"answer_id":7918452,"question_id":7907299,"body_markdown":"Bogosort is a worst sorting algorithm uses shuffle. But in another point of view it has low probability to sort array in one step :)","title":"What is the most inefficient sorting routine?","body":"<p>Bogosort is a worst sorting algorithm uses shuffle. But in another point of view it has low probability to sort array in one step :)</p>\n"},{"tags":[],"owner":{"account_id":1073071,"reputation":707,"user_id":1071884,"accept_rate":78,"display_name":"Matthew Cordaro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461265003,"creation_date":1461265003,"answer_id":36778209,"question_id":7907299,"body_markdown":"&quot;Worstsort&quot; has a complexity of [![\\Omega((n!^{(f(n))})^2)][1]][1] where [![n!^{(m)} = (...((n!)!)!...)! =][2]][2] factorial of n iterated m times. The paper by Miguel A. Lerma can be found [here][3].\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/iccKN.png\r\n  [2]: http://i.stack.imgur.com/aROy2.png\r\n  [3]: http://arxiv.org/pdf/1406.1077v1.pdf","title":"What is the most inefficient sorting routine?","body":"<p>\"Worstsort\" has a complexity of <a href=\"https://i.stack.imgur.com/iccKN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iccKN.png\" alt=\"\\Omega((n!^{(f(n))})^2)\"></a> where <a href=\"https://i.stack.imgur.com/aROy2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aROy2.png\" alt=\"n!^{(m)} = (...((n!)!)!...)! =\"></a> factorial of n iterated m times. The paper by Miguel A. Lerma can be found <a href=\"http://arxiv.org/pdf/1406.1077v1.pdf\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":26481850,"reputation":1,"user_id":20120986,"display_name":"59865"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676183528,"creation_date":1676183528,"answer_id":75425293,"question_id":7907299,"body_markdown":"Bogobogo sort.It&#39;s like bogo sort,shuffles.But it creates auxiliary arrays,the first one is the same array others are smaller by 1 element compared to previous one.They can be removed as well.\r\nIt&#39;s average complexity is O(N superfactorial*n). It&#39;s best case is O(N^2). Just like bogo sort it has worst case of O(inf).\r\n","title":"What is the most inefficient sorting routine?","body":"<p>Bogobogo sort.It's like bogo sort,shuffles.But it creates auxiliary arrays,the first one is the same array others are smaller by 1 element compared to previous one.They can be removed as well.\nIt's average complexity is O(N superfactorial*n). It's best case is O(N^2). Just like bogo sort it has worst case of O(inf).</p>\n"}],"owner":{"account_id":155138,"reputation":5901,"user_id":371588,"accept_rate":90,"display_name":"farm ostrich"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3498,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":7907351,"answer_count":10,"score":3,"last_activity_date":1676183528,"creation_date":1319654361,"question_id":7907299,"body_markdown":"For an array of integers, what is the least efficient way of sorting the array. The function should make progress in each step (eg no infinity loop). What is the runtime of that algorithm? ","title":"What is the most inefficient sorting routine?","body":"<p>For an array of integers, what is the least efficient way of sorting the array. The function should make progress in each step (eg no infinity loop). What is the runtime of that algorithm? </p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1676152446,"post_id":75423532,"comment_id":133081349,"body_markdown":"Both are fine. It depends on which format you prefer.","body":"Both are fine. It depends on which format you prefer."}],"answers":[{"tags":[],"owner":{"account_id":12473930,"reputation":338,"user_id":15491774,"display_name":"stylepatrick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676183057,"creation_date":1676183057,"answer_id":75425261,"question_id":75423532,"body_markdown":"There are some key differences between the two files:\r\n\r\n***properties***\r\n\r\n - Key and values separated by equal or color\r\n - Easy to read by humans\r\n - Supports primitive types like strings and numbers\r\n - Supports flat and non-hierarchical structure\r\n\r\n***yml/yaml***\r\n\r\n - Contains key and value pairs\r\n - Human readable format\r\n - Supports Integer, Strings, Maps, and Lists\r\n - Supports hierarchical structure\r\n\r\nYAML has more superset features when compared with properties in features like types(List and Map), type safety, and hierarchical structure.\r\n\r\nIt is always best to choose yaml with wider programming language support.","title":"What is different between applicatoin.properties and yml in spring boot application","body":"<p>There are some key differences between the two files:</p>\n<p><em><strong>properties</strong></em></p>\n<ul>\n<li>Key and values separated by equal or color</li>\n<li>Easy to read by humans</li>\n<li>Supports primitive types like strings and numbers</li>\n<li>Supports flat and non-hierarchical structure</li>\n</ul>\n<p><em><strong>yml/yaml</strong></em></p>\n<ul>\n<li>Contains key and value pairs</li>\n<li>Human readable format</li>\n<li>Supports Integer, Strings, Maps, and Lists</li>\n<li>Supports hierarchical structure</li>\n</ul>\n<p>YAML has more superset features when compared with properties in features like types(List and Map), type safety, and hierarchical structure.</p>\n<p>It is always best to choose yaml with wider programming language support.</p>\n"}],"owner":{"account_id":15464352,"reputation":11,"user_id":11156156,"display_name":"Dinesh Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676183057,"creation_date":1676152329,"question_id":75423532,"body_markdown":"I am bit confused which on should I use and When ?\r\n\r\nI tried both but getting my spring boot application is running fine with both type of configuration file.","title":"What is different between applicatoin.properties and yml in spring boot application","body":"<p>I am bit confused which on should I use and When ?</p>\n<p>I tried both but getting my spring boot application is running fine with both type of configuration file.</p>\n"},{"tags":["java","interface"],"comments":[{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":4,"creation_date":1231781154,"post_id":435890,"comment_id":258934,"body_markdown":"See also: http://stackoverflow.com/questions/251336/ http://stackoverflow.com/questions/205573/ http://stackoverflow.com/questions/347248/","body":"See also: <a href=\"http://stackoverflow.com/questions/251336/\">stackoverflow.com/questions/251336</a> <a href=\"http://stackoverflow.com/questions/205573/\">stackoverflow.com/questions/205573</a> <a href=\"http://stackoverflow.com/questions/347248/\">stackoverflow.com/questions/347248</a>"},{"owner":{"account_id":123612,"reputation":48061,"user_id":318174,"accept_rate":71,"display_name":"Adam Gent"},"score":0,"creation_date":1304079096,"post_id":435890,"comment_id":6695258,"body_markdown":"I know this is an old question but another option is to use Package Level Annotations (see my answer below).","body":"I know this is an old question but another option is to use Package Level Annotations (see my answer below)."},{"owner":{"account_id":3405073,"reputation":2770,"user_id":2856360,"accept_rate":91,"display_name":"Tomasz Waszczyk"},"score":0,"creation_date":1410552157,"post_id":435890,"comment_id":40384552,"body_markdown":"Is it possibile with help Eclipse&#39;s shortcut ?","body":"Is it possibile with help Eclipse&#39;s shortcut ?"}],"answers":[{"tags":[],"owner":{"account_id":21873,"reputation":25813,"user_id":53495,"display_name":"Brian Clapper"},"down_vote_count":1,"up_vote_count":68,"is_accepted":true,"score":67,"last_activity_date":1427798420,"creation_date":1231777013,"answer_id":435930,"question_id":435890,"body_markdown":"Awhile ago, I put together a package for doing what you want, and more. (I needed it for a utility I was writing). It uses the [ASM][1] library. You can use reflection, but ASM turned out to perform better.\r\n\r\nI put my package in an open source library I have on my web site. The library is here: &lt;http://software.clapper.org/javautil/&gt;. You want to start with the with [ClassFinder][2] class.\r\n\r\nThe utility I wrote it for is an RSS reader that I still use every day, so the code does tend to get exercised. I use ClassFinder to support a plug-in API in the RSS reader; on startup, it looks in a couple directory trees for jars and class files containing classes that implement a certain interface. It&#39;s a lot faster than you might expect.\r\n\r\nThe library is BSD-licensed, so you can safely bundle it with your code. Source is available.\r\n\r\nIf that&#39;s useful to you, help yourself.\r\n\r\n  [1]: http://asm.objectweb.org/\r\n  [2]: http://software.clapper.org/javautil/api/org/clapper/util/classutil/ClassFinder.html\r\n\r\nUpdate: If you&#39;re using Scala, you might find [this library][3] to be more Scala-friendly.\r\n\r\n  [3]: http://software.clapper.org/classutil/","title":"Find Java classes implementing an interface","body":"<p>Awhile ago, I put together a package for doing what you want, and more. (I needed it for a utility I was writing). It uses the <a href=\"http://asm.objectweb.org/\" rel=\"noreferrer\">ASM</a> library. You can use reflection, but ASM turned out to perform better.</p>\n\n<p>I put my package in an open source library I have on my web site. The library is here: <a href=\"http://software.clapper.org/javautil/\" rel=\"noreferrer\">http://software.clapper.org/javautil/</a>. You want to start with the with <a href=\"http://software.clapper.org/javautil/api/org/clapper/util/classutil/ClassFinder.html\" rel=\"noreferrer\">ClassFinder</a> class.</p>\n\n<p>The utility I wrote it for is an RSS reader that I still use every day, so the code does tend to get exercised. I use ClassFinder to support a plug-in API in the RSS reader; on startup, it looks in a couple directory trees for jars and class files containing classes that implement a certain interface. It's a lot faster than you might expect.</p>\n\n<p>The library is BSD-licensed, so you can safely bundle it with your code. Source is available.</p>\n\n<p>If that's useful to you, help yourself.</p>\n\n<p>Update: If you're using Scala, you might find <a href=\"http://software.clapper.org/classutil/\" rel=\"noreferrer\">this library</a> to be more Scala-friendly.</p>\n"},{"tags":[],"owner":{"account_id":2163,"reputation":399,"user_id":2978,"display_name":"Matt Large"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1231777385,"creation_date":1231777385,"answer_id":435958,"question_id":435890,"body_markdown":"If you were asking from the perspective of working this out with a running program then you need to look to the java.lang.* package. If you get a Class object, you can use the isAssignableFrom method to check if it is an interface of another Class.\r\n\r\nThere isn&#39;t a simple built in way of searching for these, tools like Eclipse build an index of this information.\r\n\r\nIf you don&#39;t have a specific list of Class objects to test you can look to the ClassLoader object, use the getPackages() method and build your own package hierarchy iterator.\r\n\r\nJust a warning though that these methods and classes can be quite slow. ","title":"Find Java classes implementing an interface","body":"<p>If you were asking from the perspective of working this out with a running program then you need to look to the java.lang.* package. If you get a Class object, you can use the isAssignableFrom method to check if it is an interface of another Class.</p>\n\n<p>There isn't a simple built in way of searching for these, tools like Eclipse build an index of this information.</p>\n\n<p>If you don't have a specific list of Class objects to test you can look to the ClassLoader object, use the getPackages() method and build your own package hierarchy iterator.</p>\n\n<p>Just a warning though that these methods and classes can be quite slow. </p>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":3,"up_vote_count":11,"is_accepted":false,"score":8,"last_activity_date":1672654897,"creation_date":1231777488,"answer_id":435967,"question_id":435890,"body_markdown":"In full generality, this functionality is impossible. The Java ClassLoader mechanism guarantees only the ability to ask for a class with a specific name (including package), and the ClassLoader can supply a class, or it can state that it does not know that class.\r\n\r\nClasses can be (and frequently are) loaded from remote servers, and they can even be constructed on the fly; it is not difficult at all to write a ClassLoader that returns a valid class that implements a given interface for *any* name you ask from it; a List of the classes that implement that interface would then be infinite in length.\r\n\r\nIn practice, the most common case is an `URLClassLoader` that looks for classes in a list of filesystem directories and JAR files. So what you need is to get the `URLClassLoader`, then iterate through those directories and archives, and for each class file you find in them, request the corresponding `Class` object and look through the return of its `getInterfaces()` method.\r\n","title":"Find Java classes implementing an interface","body":"<p>In full generality, this functionality is impossible. The Java ClassLoader mechanism guarantees only the ability to ask for a class with a specific name (including package), and the ClassLoader can supply a class, or it can state that it does not know that class.</p>\n<p>Classes can be (and frequently are) loaded from remote servers, and they can even be constructed on the fly; it is not difficult at all to write a ClassLoader that returns a valid class that implements a given interface for <em>any</em> name you ask from it; a List of the classes that implement that interface would then be infinite in length.</p>\n<p>In practice, the most common case is an <code>URLClassLoader</code> that looks for classes in a list of filesystem directories and JAR files. So what you need is to get the <code>URLClassLoader</code>, then iterate through those directories and archives, and for each class file you find in them, request the corresponding <code>Class</code> object and look through the return of its <code>getInterfaces()</code> method.</p>\n"},{"tags":[],"owner":{"account_id":20470,"reputation":21695,"user_id":48933,"accept_rate":90,"display_name":"Neil Coffey"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1231780671,"creation_date":1231780671,"answer_id":436178,"question_id":435890,"body_markdown":"Obviously, Class.isAssignableFrom() tells you whether an *individual* class implements the given interface. So then the problem is getting the list of classes to test.\r\n\r\nAs far as I&#39;m aware, there&#39;s no direct way from Java to ask the class loader for &quot;the list of classes that you could *potentially* load&quot;. So you&#39;ll have to do this yourself by iterating through the visible jars, calling Class.forName() to load the class, then testing it.\r\n\r\nHowever, it&#39;s a little easier if you just want to know classes implementing the given interface from those that have *actually* been loaded:\r\n\r\n- via the [Java Instrumentation][1] framework, you can call **Instrumentation.getAllLoadedClasses()**\r\n- via reflection, you can query the **ClassLoader.classes** field of a given ClassLoader.\r\n\r\nIf you use the instrumentation technique, then (as explained in the link) what happens is that your &quot;agent&quot; class is called essentially when the JVM starts up, and passed an Instrumentation object. At that point, you probably want to &quot;save it for later&quot; in a static field, and then have your main application code call it later on to get the list of loaded classes.\r\n\r\n  [1]: http://www.javamex.com/tutorials/memory/instrumentation.shtml","title":"Find Java classes implementing an interface","body":"<p>Obviously, Class.isAssignableFrom() tells you whether an <em>individual</em> class implements the given interface. So then the problem is getting the list of classes to test.</p>\n\n<p>As far as I'm aware, there's no direct way from Java to ask the class loader for \"the list of classes that you could <em>potentially</em> load\". So you'll have to do this yourself by iterating through the visible jars, calling Class.forName() to load the class, then testing it.</p>\n\n<p>However, it's a little easier if you just want to know classes implementing the given interface from those that have <em>actually</em> been loaded:</p>\n\n<ul>\n<li>via the <a href=\"http://www.javamex.com/tutorials/memory/instrumentation.shtml\" rel=\"noreferrer\">Java Instrumentation</a> framework, you can call <strong>Instrumentation.getAllLoadedClasses()</strong></li>\n<li>via reflection, you can query the <strong>ClassLoader.classes</strong> field of a given ClassLoader.</li>\n</ul>\n\n<p>If you use the instrumentation technique, then (as explained in the link) what happens is that your \"agent\" class is called essentially when the JVM starts up, and passed an Instrumentation object. At that point, you probably want to \"save it for later\" in a static field, and then have your main application code call it later on to get the list of loaded classes.</p>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":1,"up_vote_count":30,"is_accepted":false,"score":29,"last_activity_date":1472593562,"creation_date":1231780910,"answer_id":436188,"question_id":435890,"body_markdown":"The code you are talking about sounds like [`ServiceLoader`,][1] which was introduced in Java 6 to support a feature that has been defined since [Java 1.3][2] or earlier. For performance reasons, this is the recommended approach to find interface implementations at runtime; if you need support for this in an older version of Java, I hope that you&#39;ll find [my implementation][3] helpful.\r\n\r\nThere are a couple of implementations of this in earlier versions of Java, but in the Sun packages, not in the core API (I think there are some classes internal to ImageIO that do this). As the code is simple, I&#39;d recommend providing your own implementation rather than relying on non-standard Sun code which is subject to change.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/ServiceLoader.html\r\n  [2]: http://docs.oracle.com/javase/6/docs/technotes/guides/jar/jar.html#Service%20Provider\r\n  [3]: https://stackoverflow.com/questions/251336/is-something-similar-to-serviceloader-in-java-1-5#251691","title":"Find Java classes implementing an interface","body":"<p>The code you are talking about sounds like <a href=\"http://java.sun.com/javase/6/docs/api/java/util/ServiceLoader.html\" rel=\"noreferrer\"><code>ServiceLoader</code>,</a> which was introduced in Java 6 to support a feature that has been defined since <a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/jar/jar.html#Service%20Provider\" rel=\"noreferrer\">Java 1.3</a> or earlier. For performance reasons, this is the recommended approach to find interface implementations at runtime; if you need support for this in an older version of Java, I hope that you'll find <a href=\"https://stackoverflow.com/questions/251336/is-something-similar-to-serviceloader-in-java-1-5#251691\">my implementation</a> helpful.</p>\n\n<p>There are a couple of implementations of this in earlier versions of Java, but in the Sun packages, not in the core API (I think there are some classes internal to ImageIO that do this). As the code is simple, I'd recommend providing your own implementation rather than relying on non-standard Sun code which is subject to change.</p>\n"},{"tags":[],"owner":{"account_id":123612,"reputation":48061,"user_id":318174,"accept_rate":71,"display_name":"Adam Gent"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1340542946,"creation_date":1304078883,"answer_id":5831808,"question_id":435890,"body_markdown":"**Package Level Annotations**\r\n\r\nI know this question has already been answered a long time ago but another solution to this problem is to use Package Level Annotations.\r\n\r\nWhile its pretty hard to go find all the classes in the JVM its actually pretty easy to browse the package hierarchy. \r\n\r\n    Package[] ps = Package.getPackages();\r\n    for (Package p : ps) {\r\n      MyAno a = p.getAnnotation(MyAno.class)\r\n      // Recursively descend\r\n    }\r\n\r\nThen just make your annotation have an argument of an array of Class.\r\nThen in your package-info.java for a particular package put the MyAno.\r\n\r\nI&#39;ll add more details (code) if people are interested but most probably get the idea.\r\n\r\n\r\n**MetaInf Service Loader**\r\n\r\nTo add to @erickson answer you can also use the service loader approach. Kohsuke has an awesome way of generating the the required META-INF stuff you need for the service loader approach:\r\n \r\nhttp://weblogs.java.net/blog/kohsuke/archive/2009/03/my_project_of_t.html","title":"Find Java classes implementing an interface","body":"<p><strong>Package Level Annotations</strong></p>\n\n<p>I know this question has already been answered a long time ago but another solution to this problem is to use Package Level Annotations.</p>\n\n<p>While its pretty hard to go find all the classes in the JVM its actually pretty easy to browse the package hierarchy. </p>\n\n<pre><code>Package[] ps = Package.getPackages();\nfor (Package p : ps) {\n  MyAno a = p.getAnnotation(MyAno.class)\n  // Recursively descend\n}\n</code></pre>\n\n<p>Then just make your annotation have an argument of an array of Class.\nThen in your package-info.java for a particular package put the MyAno.</p>\n\n<p>I'll add more details (code) if people are interested but most probably get the idea.</p>\n\n<p><strong>MetaInf Service Loader</strong></p>\n\n<p>To add to @erickson answer you can also use the service loader approach. Kohsuke has an awesome way of generating the the required META-INF stuff you need for the service loader approach:</p>\n\n<p><a href=\"http://weblogs.java.net/blog/kohsuke/archive/2009/03/my_project_of_t.html\" rel=\"noreferrer\">http://weblogs.java.net/blog/kohsuke/archive/2009/03/my_project_of_t.html</a></p>\n"},{"tags":[],"owner":{"account_id":1046969,"reputation":671,"user_id":1051761,"display_name":"Nick Robson"},"down_vote_count":0,"up_vote_count":64,"is_accepted":false,"score":64,"last_activity_date":1321532340,"creation_date":1321532340,"answer_id":8166959,"question_id":435890,"body_markdown":"Spring can do this for you...\r\n\r\n    BeanDefinitionRegistry bdr = new SimpleBeanDefinitionRegistry();\r\n    ClassPathBeanDefinitionScanner s = new ClassPathBeanDefinitionScanner(bdr);\r\n    \t\t\r\n    TypeFilter tf = new AssignableTypeFilter(CLASS_YOU_WANT.class);\r\n    s.addIncludeFilter(tf);\r\n    s.scan(&quot;package.you.want1&quot;, &quot;package.you.want2&quot;);\t\t\r\n    String[] beans = bdr.getBeanDefinitionNames();\r\n\r\nN.B. The TypeFilter is important if you want the correct results!\r\nYou can also use exclusion filters here instead.\r\n\r\nThe Scanner can be found in the spring-context jar, the registry in spring-beans, the type filter is in spring-core.","title":"Find Java classes implementing an interface","body":"<p>Spring can do this for you...</p>\n\n<pre><code>BeanDefinitionRegistry bdr = new SimpleBeanDefinitionRegistry();\nClassPathBeanDefinitionScanner s = new ClassPathBeanDefinitionScanner(bdr);\n\nTypeFilter tf = new AssignableTypeFilter(CLASS_YOU_WANT.class);\ns.addIncludeFilter(tf);\ns.scan(\"package.you.want1\", \"package.you.want2\");       \nString[] beans = bdr.getBeanDefinitionNames();\n</code></pre>\n\n<p>N.B. The TypeFilter is important if you want the correct results!\nYou can also use exclusion filters here instead.</p>\n\n<p>The Scanner can be found in the spring-context jar, the registry in spring-beans, the type filter is in spring-core.</p>\n"},{"tags":[],"owner":{"account_id":451528,"reputation":902,"user_id":847464,"display_name":"robertvoliva"},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1676182982,"creation_date":1332857663,"answer_id":9891313,"question_id":435890,"body_markdown":"I really like the [reflections library](https://github.com/ronmamo/reflections/) for doing this.\r\n\r\nIt provides a lot of different types of scanners (`getTypesAnnotatedWith`, `getSubTypesOf`, etc), and it is dead simple to write or extend your own.","title":"Find Java classes implementing an interface","body":"<p>I really like the <a href=\"https://github.com/ronmamo/reflections/\" rel=\"nofollow noreferrer\">reflections library</a> for doing this.</p>\n<p>It provides a lot of different types of scanners (<code>getTypesAnnotatedWith</code>, <code>getSubTypesOf</code>, etc), and it is dead simple to write or extend your own.</p>\n"},{"tags":[],"owner":{"account_id":1070749,"reputation":101,"user_id":1070105,"display_name":"Matthias Rothe"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1334240010,"creation_date":1334240010,"answer_id":10125367,"question_id":435890,"body_markdown":"You could also use the Extensible Component Scanner (extcos: http://sf.net/projects/extcos) and search all classes implementing an interface like so:\r\n\r\n    Set&lt;Class&lt;? extends MyInterface&gt;&gt; classes = new HashSet&lt;Class&lt;? extends MyInterface&gt;&gt;();\r\n\r\n    ComponentScanner scanner = new ComponentScanner();\r\n    scanner.getClasses(new ComponentQuery() {\r\n        @Override\r\n        protected void query() {\r\n            select().\r\n            from(&quot;my.package1&quot;, &quot;my.package2&quot;).\r\n            andStore(thoseImplementing(MyInterface.class).into(classes)).\r\n            returning(none());\r\n        }\r\n    });\r\n\r\nThis works for classes on the file system, within jars and even for those on the JBoss virtual file system. It&#39;s further designed to work within standalone applications as well as within any web or application container.","title":"Find Java classes implementing an interface","body":"<p>You could also use the Extensible Component Scanner (extcos: <a href=\"http://sf.net/projects/extcos\" rel=\"noreferrer\">http://sf.net/projects/extcos</a>) and search all classes implementing an interface like so:</p>\n\n<pre><code>Set&lt;Class&lt;? extends MyInterface&gt;&gt; classes = new HashSet&lt;Class&lt;? extends MyInterface&gt;&gt;();\n\nComponentScanner scanner = new ComponentScanner();\nscanner.getClasses(new ComponentQuery() {\n    @Override\n    protected void query() {\n        select().\n        from(\"my.package1\", \"my.package2\").\n        andStore(thoseImplementing(MyInterface.class).into(classes)).\n        returning(none());\n    }\n});\n</code></pre>\n\n<p>This works for classes on the file system, within jars and even for those on the JBoss virtual file system. It's further designed to work within standalone applications as well as within any web or application container.</p>\n"}],"owner":{"account_id":2302,"reputation":1860,"user_id":3197,"accept_rate":17,"display_name":"Linor"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":221428,"favorite_count":0,"down_vote_count":1,"up_vote_count":142,"closed_date":1362816868,"accepted_answer_id":435930,"answer_count":9,"score":141,"last_activity_date":1676182982,"creation_date":1231776354,"question_id":435890,"body_markdown":"Some time ago, I came across a piece of code, that used some piece of standard Java functionality to locate the classes that implemented a given interface. I know the functions were hidden in some non-logical place, but they could be used for other classes as the package name implied. Back then I did not need it, so I forgot about it, but now I do, and I can&#39;t seem to find the functions again. Where can these functions be found?\r\n\r\nEdit: I&#39;m not looking for any IDE functions or anything, but rather something that can be executed within the Java application.\r\n","title":"Find Java classes implementing an interface","body":"<p>Some time ago, I came across a piece of code, that used some piece of standard Java functionality to locate the classes that implemented a given interface. I know the functions were hidden in some non-logical place, but they could be used for other classes as the package name implied. Back then I did not need it, so I forgot about it, but now I do, and I can't seem to find the functions again. Where can these functions be found?</p>\n\n<p>Edit: I'm not looking for any IDE functions or anything, but rather something that can be executed within the Java application.</p>\n"},{"tags":["java","android","mobile-development","android-biometric","biometricmanager"],"owner":{"account_id":20470485,"reputation":1,"user_id":15021037,"display_name":"Amjad Almgati"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676182732,"creation_date":1676151705,"question_id":75423475,"body_markdown":"I am trying to develop a function in my Android application that will alert me when a user changes the device fingerprint without having to call the device biometric prompt. I have attempted this using a biometric library in my code.\r\n\r\n\r\nI only generated the secret key ,when I have open the app for the first time using below code:\r\n\r\n\r\n```\r\nif ( secretKey == null || secretKey.isDestroyed()  ){\r\n            try {\r\n                Log.d(&quot;tt&quot;, &quot;900000&quot;);\r\n                generateSecretKey(new KeyGenParameterSpec.Builder(\r\n                        &quot;KEY_NAME&quot;,\r\n                        KeyProperties.PURPOSE_ENCRYPT | KeyProperties.PURPOSE_DECRYPT)\r\n                        .setBlockModes(KeyProperties.BLOCK_MODE_CBC)\r\n                        .setEncryptionPaddings(KeyProperties.ENCRYPTION_PADDING_PKCS7)\r\n                        .setUserAuthenticationRequired(true)\r\n                        // Invalidate the keys if the user has registered a new biometric\r\n                        // credential, such as a new fingerprint. Can call this method only\r\n                        // on Android 7.0 (API level 24) or higher. The variable\r\n                        // &quot;invalidatedByBiometricEnrollment&quot; is true by default.\r\n                        .setInvalidatedByBiometricEnrollment(true).setUnlockedDeviceRequired()\r\n                        .build());\r\n                secretKey = getSecretKey();\r\n            } catch (NoSuchAlgorithmException e) {\r\n                e.printStackTrace();\r\n            } catch (NoSuchProviderException e) {\r\n                e.printStackTrace();\r\n            } catch (InvalidAlgorithmParameterException e) {\r\n                e.printStackTrace();\r\n            } catch (UnrecoverableKeyException e) {\r\n                e.printStackTrace();\r\n            } catch (CertificateException e) {\r\n                e.printStackTrace();\r\n            } catch (KeyStoreException e) {\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n\r\n```\r\n\r\nHowever, when I open the settings and change only the name of the fingerprint, it alerts me that the fingerprint has changed, even though I did not add a new fingerprint. It raised an IllegalBlockSizeException error as shown in the figure \r\n\r\n[IllegalBlockSizeException error](https://i.stack.imgur.com/1pixU.png)\r\n\r\n\r\n\r\nTried this on a Galaxy S7 Android 8 , Can someone help me figure out how to detect actual changes to fingerprints?\r\n\r\n\r\n```\r\n   private Boolean initCipher (Cipher cipher ){\r\n        try {\r\n            SecretKey finalSecretKey = getSecretKey();\r\n\r\n            cipher.init(Cipher.ENCRYPT_MODE, finalSecretKey);\r\n            return true;\r\n        } catch (KeyPermanentlyInvalidatedException e) {\r\n            Log.e(&quot;invalidchanged&quot;,&quot;yesss&quot;);\r\n            Toast.makeText(getApplicationContext(),\r\n                    &quot;Biometric changed&quot;, Toast.LENGTH_SHORT).show();\r\n            return false;\r\n        } catch (InvalidKeyException e) {\r\n            return false;\r\n            //throw new RuntimeException(e);\r\n        } catch (UnrecoverableKeyException e) {\r\n            e.printStackTrace();\r\n        } catch (CertificateException e) {\r\n            e.printStackTrace();\r\n        } catch (KeyStoreException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } catch (NoSuchAlgorithmException e) {\r\n            e.printStackTrace();\r\n        }catch (Exception e){\r\n            e.printStackTrace();\r\n        }\r\n        return false;\r\n\r\n    }\r\n\r\nprivate void isBiometricChanged(){\r\n\r\n        Cipher cipher = getCipher();\r\n        SecretKey finalSecretKey = null;\r\n        try {\r\n            finalSecretKey = getSecretKey();\r\n        } catch (KeyStoreException e) {\r\n            e.printStackTrace();\r\n\r\n        } catch (CertificateException | IOException | NoSuchAlgorithmException | UnrecoverableKeyException e ) {\r\n            e.printStackTrace();\r\n        }\r\n        // BiometricPrompt.CryptoObject(cipher);\r\n        isBiometricChanged = !(initCipher(cipher));\r\n        if (finalSecretKey == null ||  finalSecretKey.isDestroyed()){\r\n            return;\r\n        }\r\n\r\n\r\n            if(finalSecretKey != null &amp;&amp; !isBiometricChanged  ){\r\n                try {\r\n                    cipher.doFinal(\r\n                            // plaintext-string text is whatever data the developer would like\r\n                            // to encrypt. It happens to be plain-text in this example, but it\r\n                            // can be anything\r\n                            &quot;plaintext-string&quot;.getBytes(Charset.defaultCharset()));\r\n                   \r\n                } catch (BadPaddingException e) {\r\n                    Log.e(&quot;87777777777777777&quot;, &quot;errr&quot;);\r\n                    e.printStackTrace();\r\n                } catch (IllegalBlockSizeException e) {\r\n                    BiometricManager biometricManager = BiometricManager.from(this);\r\n                    Log.e(&quot;999999999999999&quot;, &quot;errr&quot;);\r\n\r\n                    Log.e(&quot;ci:::&quot;, String.valueOf(cipher));\r\n                    Log.e(&quot;ci1:::&quot;, String.valueOf(initCipher(cipher)));\r\n                    Log.e(&quot;ci2:::&quot;, String.valueOf(finalSecretKey.toString()));\r\n                    Log.e(&quot;ci3:::&quot;, String.valueOf(e));\r\n                    Log.e(&quot;ci4:::&quot;, String.valueOf(isBiometricChanged));\r\n                    Log.e(&quot;ci5:::&quot;, String.valueOf(finalSecretKey));\r\n                    isBiometricChanged = true;\r\n                    Toast.makeText(getApplicationContext(),\r\n                            &quot;changed &quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                    e.printStackTrace();\r\n                    //  throw new RuntimeException(e);\r\n                } catch (InvalidKeyException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n\r\n            }\r\n    }\r\n\r\nprivate void generateSecretKey(KeyGenParameterSpec keyGenParameterSpec) throws NoSuchAlgorithmException, NoSuchProviderException, InvalidAlgorithmParameterException {\r\n        KeyGenerator keyGenerator = KeyGenerator.getInstance(\r\n                KeyProperties.KEY_ALGORITHM_AES, &quot;AndroidKeyStore&quot;);\r\n        keyGenerator.init(keyGenParameterSpec);\r\n        keyGenerator.generateKey();\r\n    }\r\n    private SecretKey getSecretKey() throws KeyStoreException, CertificateException, IOException, NoSuchAlgorithmException, UnrecoverableKeyException {\r\n        KeyStore keyStore = KeyStore.getInstance(&quot;AndroidKeyStore&quot;);\r\n\r\n        // Before the keystore can be accessed, it must be loaded.\r\n        keyStore.load(null);\r\n        return ((SecretKey)keyStore.getKey(&quot;KEY_NAME&quot;, null));\r\n    }\r\n\r\n\r\n```\r\n","title":"Detecting fingerprint changes in an Android application without calling the device biometric prompt","body":"<p>I am trying to develop a function in my Android application that will alert me when a user changes the device fingerprint without having to call the device biometric prompt. I have attempted this using a biometric library in my code.</p>\n<p>I only generated the secret key ,when I have open the app for the first time using below code:</p>\n<pre><code>if ( secretKey == null || secretKey.isDestroyed()  ){\n            try {\n                Log.d(&quot;tt&quot;, &quot;900000&quot;);\n                generateSecretKey(new KeyGenParameterSpec.Builder(\n                        &quot;KEY_NAME&quot;,\n                        KeyProperties.PURPOSE_ENCRYPT | KeyProperties.PURPOSE_DECRYPT)\n                        .setBlockModes(KeyProperties.BLOCK_MODE_CBC)\n                        .setEncryptionPaddings(KeyProperties.ENCRYPTION_PADDING_PKCS7)\n                        .setUserAuthenticationRequired(true)\n                        // Invalidate the keys if the user has registered a new biometric\n                        // credential, such as a new fingerprint. Can call this method only\n                        // on Android 7.0 (API level 24) or higher. The variable\n                        // &quot;invalidatedByBiometricEnrollment&quot; is true by default.\n                        .setInvalidatedByBiometricEnrollment(true).setUnlockedDeviceRequired()\n                        .build());\n                secretKey = getSecretKey();\n            } catch (NoSuchAlgorithmException e) {\n                e.printStackTrace();\n            } catch (NoSuchProviderException e) {\n                e.printStackTrace();\n            } catch (InvalidAlgorithmParameterException e) {\n                e.printStackTrace();\n            } catch (UnrecoverableKeyException e) {\n                e.printStackTrace();\n            } catch (CertificateException e) {\n                e.printStackTrace();\n            } catch (KeyStoreException e) {\n                e.printStackTrace();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n\n\n</code></pre>\n<p>However, when I open the settings and change only the name of the fingerprint, it alerts me that the fingerprint has changed, even though I did not add a new fingerprint. It raised an IllegalBlockSizeException error as shown in the figure</p>\n<p><a href=\"https://i.stack.imgur.com/1pixU.png\" rel=\"nofollow noreferrer\">IllegalBlockSizeException error</a></p>\n<p>Tried this on a Galaxy S7 Android 8 , Can someone help me figure out how to detect actual changes to fingerprints?</p>\n<pre><code>   private Boolean initCipher (Cipher cipher ){\n        try {\n            SecretKey finalSecretKey = getSecretKey();\n\n            cipher.init(Cipher.ENCRYPT_MODE, finalSecretKey);\n            return true;\n        } catch (KeyPermanentlyInvalidatedException e) {\n            Log.e(&quot;invalidchanged&quot;,&quot;yesss&quot;);\n            Toast.makeText(getApplicationContext(),\n                    &quot;Biometric changed&quot;, Toast.LENGTH_SHORT).show();\n            return false;\n        } catch (InvalidKeyException e) {\n            return false;\n            //throw new RuntimeException(e);\n        } catch (UnrecoverableKeyException e) {\n            e.printStackTrace();\n        } catch (CertificateException e) {\n            e.printStackTrace();\n        } catch (KeyStoreException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        } catch (NoSuchAlgorithmException e) {\n            e.printStackTrace();\n        }catch (Exception e){\n            e.printStackTrace();\n        }\n        return false;\n\n    }\n\nprivate void isBiometricChanged(){\n\n        Cipher cipher = getCipher();\n        SecretKey finalSecretKey = null;\n        try {\n            finalSecretKey = getSecretKey();\n        } catch (KeyStoreException e) {\n            e.printStackTrace();\n\n        } catch (CertificateException | IOException | NoSuchAlgorithmException | UnrecoverableKeyException e ) {\n            e.printStackTrace();\n        }\n        // BiometricPrompt.CryptoObject(cipher);\n        isBiometricChanged = !(initCipher(cipher));\n        if (finalSecretKey == null ||  finalSecretKey.isDestroyed()){\n            return;\n        }\n\n\n            if(finalSecretKey != null &amp;&amp; !isBiometricChanged  ){\n                try {\n                    cipher.doFinal(\n                            // plaintext-string text is whatever data the developer would like\n                            // to encrypt. It happens to be plain-text in this example, but it\n                            // can be anything\n                            &quot;plaintext-string&quot;.getBytes(Charset.defaultCharset()));\n                   \n                } catch (BadPaddingException e) {\n                    Log.e(&quot;87777777777777777&quot;, &quot;errr&quot;);\n                    e.printStackTrace();\n                } catch (IllegalBlockSizeException e) {\n                    BiometricManager biometricManager = BiometricManager.from(this);\n                    Log.e(&quot;999999999999999&quot;, &quot;errr&quot;);\n\n                    Log.e(&quot;ci:::&quot;, String.valueOf(cipher));\n                    Log.e(&quot;ci1:::&quot;, String.valueOf(initCipher(cipher)));\n                    Log.e(&quot;ci2:::&quot;, String.valueOf(finalSecretKey.toString()));\n                    Log.e(&quot;ci3:::&quot;, String.valueOf(e));\n                    Log.e(&quot;ci4:::&quot;, String.valueOf(isBiometricChanged));\n                    Log.e(&quot;ci5:::&quot;, String.valueOf(finalSecretKey));\n                    isBiometricChanged = true;\n                    Toast.makeText(getApplicationContext(),\n                            &quot;changed &quot;, Toast.LENGTH_SHORT).show();\n\n                    e.printStackTrace();\n                    //  throw new RuntimeException(e);\n                } catch (InvalidKeyException e) {\n                    throw new RuntimeException(e);\n                }\n\n            }\n    }\n\nprivate void generateSecretKey(KeyGenParameterSpec keyGenParameterSpec) throws NoSuchAlgorithmException, NoSuchProviderException, InvalidAlgorithmParameterException {\n        KeyGenerator keyGenerator = KeyGenerator.getInstance(\n                KeyProperties.KEY_ALGORITHM_AES, &quot;AndroidKeyStore&quot;);\n        keyGenerator.init(keyGenParameterSpec);\n        keyGenerator.generateKey();\n    }\n    private SecretKey getSecretKey() throws KeyStoreException, CertificateException, IOException, NoSuchAlgorithmException, UnrecoverableKeyException {\n        KeyStore keyStore = KeyStore.getInstance(&quot;AndroidKeyStore&quot;);\n\n        // Before the keystore can be accessed, it must be loaded.\n        keyStore.load(null);\n        return ((SecretKey)keyStore.getKey(&quot;KEY_NAME&quot;, null));\n    }\n\n\n</code></pre>\n"},{"tags":["java","go","mocking","microservices","bdd"],"comments":[{"owner":{"account_id":271078,"reputation":4678,"user_id":561422,"display_name":"marco.m"},"score":0,"creation_date":1676058619,"post_id":75409545,"comment_id":133068253,"body_markdown":"It seems you already have a test setup with the real service B. Why do you want to mock it?","body":"It seems you already have a test setup with the real service B. Why do you want to mock it?"},{"owner":{"account_id":14565347,"reputation":386,"user_id":10520275,"display_name":"LukasDeco"},"score":0,"creation_date":1676121756,"post_id":75409545,"comment_id":133076331,"body_markdown":"Are you creating an interface for Service B? You can mock the interface.","body":"Are you creating an interface for Service B? You can mock the interface."},{"owner":{"account_id":15713836,"reputation":25,"user_id":11338512,"display_name":"Ranjan"},"score":0,"creation_date":1676182845,"post_id":75409545,"comment_id":133083989,"body_markdown":"@macro.m thanks for replying, yes currently all the service are in the same VM, but running BDD the component-integration testing now we are looking at the component testing so that it wont be dependent on the service-B.","body":"@macro.m thanks for replying, yes currently all the service are in the same VM, but running BDD the component-integration testing now we are looking at the component testing so that it wont be dependent on the service-B."},{"owner":{"account_id":15713836,"reputation":25,"user_id":11338512,"display_name":"Ranjan"},"score":0,"creation_date":1676183498,"post_id":75409545,"comment_id":133084044,"body_markdown":"@LukasDeco thanks. There are no interface for service-B","body":"@LukasDeco thanks. There are no interface for service-B"},{"owner":{"account_id":14565347,"reputation":386,"user_id":10520275,"display_name":"LukasDeco"},"score":0,"creation_date":1676515883,"post_id":75409545,"comment_id":133154046,"body_markdown":"@Ranjan you could create an interface though to wrap all the external calls and then mock that.","body":"@Ranjan you could create an interface though to wrap all the external calls and then mock that."}],"answers":[{"tags":[],"owner":{"account_id":150415,"reputation":17357,"user_id":363592,"accept_rate":100,"display_name":"Lunivore"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676145913,"creation_date":1676145913,"answer_id":75422987,"question_id":75409545,"body_markdown":"If your Service A is calling Service B internally, rather than via web or RPC, then you can use dependency injection to inject a &quot;fake&quot; version of your Service B. (Note that this doesn&#39;t necessarily involve a dependency injection framework; constructor-based and property-based injection are also valid). If Service B has no interface, extract one and use a thin adapter to call the real service or fake depending on environment.\r\n\r\nYou won&#39;t need to change your scenarios as long as they are only interacting with Service A&#39;s user interface or API.\r\n\r\nYou will need to change the way the build pipeline works, so that it deploys with your fake instead of the real code.\r\n\r\nYou can even do this at runtime, switching over from the fake to the real thing by having the adapter call the relevant service. The switch or deployment can be triggered by environment variables or by build arguments.\r\n\r\nBe careful not to deploy your test service to production though!\r\n\r\nIf you&#39;re using continuous deployment, then the last step in the build pipeline should ideally deploy and test interaction with the real service. If for some reason that&#39;s the only way you can work, there are still a couple of things you can do that might help:\r\n\r\n- You can stub the data that Service B uses, so that it behaves in a predictable way\r\n\r\n- You can use a test instance. Reach out to your service provider and see if they have one for you. I recommend that you should still check that deployment of the real service succeeds, ideally with an automated test of some sort, even if that has to be run in production. It only needs to be a basic smoke test to check that the system is wired up. Note that the easier it is to deploy, the easier it will be to recover from any mistakes; if you can&#39;t deploy quickly then you will need to be more thorough in your checking.\r\n\r\nIf the RPM is created and deployed without any kind of fake or test instance, and you have no way to configure the environment to use such a fake or test instance, then you will not be able to mock it out. The build pipeline has to be a part of deploying a fake. That won&#39;t be a problem if you have control over your CI pipeline; otherwise reach out to your build team. They may have experience or be able to point you to someone else who can help you. Great BDD is driven by conversations, after all!","title":"Mocking third party service in application-go + BDD-java","body":"<p>If your Service A is calling Service B internally, rather than via web or RPC, then you can use dependency injection to inject a &quot;fake&quot; version of your Service B. (Note that this doesn't necessarily involve a dependency injection framework; constructor-based and property-based injection are also valid). If Service B has no interface, extract one and use a thin adapter to call the real service or fake depending on environment.</p>\n<p>You won't need to change your scenarios as long as they are only interacting with Service A's user interface or API.</p>\n<p>You will need to change the way the build pipeline works, so that it deploys with your fake instead of the real code.</p>\n<p>You can even do this at runtime, switching over from the fake to the real thing by having the adapter call the relevant service. The switch or deployment can be triggered by environment variables or by build arguments.</p>\n<p>Be careful not to deploy your test service to production though!</p>\n<p>If you're using continuous deployment, then the last step in the build pipeline should ideally deploy and test interaction with the real service. If for some reason that's the only way you can work, there are still a couple of things you can do that might help:</p>\n<ul>\n<li><p>You can stub the data that Service B uses, so that it behaves in a predictable way</p>\n</li>\n<li><p>You can use a test instance. Reach out to your service provider and see if they have one for you. I recommend that you should still check that deployment of the real service succeeds, ideally with an automated test of some sort, even if that has to be run in production. It only needs to be a basic smoke test to check that the system is wired up. Note that the easier it is to deploy, the easier it will be to recover from any mistakes; if you can't deploy quickly then you will need to be more thorough in your checking.</p>\n</li>\n</ul>\n<p>If the RPM is created and deployed without any kind of fake or test instance, and you have no way to configure the environment to use such a fake or test instance, then you will not be able to mock it out. The build pipeline has to be a part of deploying a fake. That won't be a problem if you have control over your CI pipeline; otherwise reach out to your build team. They may have experience or be able to point you to someone else who can help you. Great BDD is driven by conversations, after all!</p>\n"}],"owner":{"account_id":15713836,"reputation":25,"user_id":11338512,"display_name":"Ranjan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75422987,"answer_count":1,"score":2,"last_activity_date":1676182364,"creation_date":1676023442,"question_id":75409545,"body_markdown":"I recently started looking into BDD(using Gherkin + Restassured). Need to mock third party servicd, below is my use case.\r\n\r\n1. Service-A internally calls Service-B\r\n2. The application is in goLang.\r\n3. The BDD are in Java.\r\n\r\nWe have a CI pipeline running along, where it generates the rpm and deploys the rpm into VM. \r\nOn that VM we are running the BDD(Currently Service-A and Service-B are deployed on the same VM)\r\n\r\nIs ther a way i can mock the Service-B, so that i dont have to be dependent on Service-B? If yes what would be the best approach here.\r\n\r\n\r\n\r\nHave tried goLang httptest to mock the service at the unit-test level.\r\nBut how the mocking can be done after rpm gets created in pipeline with BDD in place.\r\n\r\nThanks","title":"Mocking third party service in application-go + BDD-java","body":"<p>I recently started looking into BDD(using Gherkin + Restassured). Need to mock third party servicd, below is my use case.</p>\n<ol>\n<li>Service-A internally calls Service-B</li>\n<li>The application is in goLang.</li>\n<li>The BDD are in Java.</li>\n</ol>\n<p>We have a CI pipeline running along, where it generates the rpm and deploys the rpm into VM.\nOn that VM we are running the BDD(Currently Service-A and Service-B are deployed on the same VM)</p>\n<p>Is ther a way i can mock the Service-B, so that i dont have to be dependent on Service-B? If yes what would be the best approach here.</p>\n<p>Have tried goLang httptest to mock the service at the unit-test level.\nBut how the mocking can be done after rpm gets created in pipeline with BDD in place.</p>\n<p>Thanks</p>\n"},{"tags":["java","api","okhttp"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676199013,"post_id":75424814,"comment_id":133085882,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":13272268,"reputation":315,"user_id":9582882,"display_name":"Kakarot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676178008,"creation_date":1676178008,"answer_id":75424984,"question_id":75424814,"body_markdown":"My suggestion would be to do pagination in this case.\r\nyou can read records in a sorted manner and the next time when you fetch the next 25k records pass the last sorted key you read.\r\n\r\nThis is a standard way to fetch data because you can not ask for 160k records at a time from the database. that will put a lot of load on database.\r\n\r\nalso while fetching 25k you can do that in batching to avoid memory footprint.\r\nmaybe in the batches of 1k.","title":"Getting 503 error while fetching data from Rest API","body":"<p>My suggestion would be to do pagination in this case.\nyou can read records in a sorted manner and the next time when you fetch the next 25k records pass the last sorted key you read.</p>\n<p>This is a standard way to fetch data because you can not ask for 160k records at a time from the database. that will put a lot of load on database.</p>\n<p>also while fetching 25k you can do that in batching to avoid memory footprint.\nmaybe in the batches of 1k.</p>\n"}],"owner":{"account_id":24235896,"reputation":9,"user_id":18189028,"display_name":"Sakshi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676182187,"creation_date":1676174340,"question_id":75424814,"body_markdown":"I have one POST API which fetches data with limit 25 000. There are nearly 1 600 000 records. But while fetching data in one application, it is getting stuck at 1250 000 records. What can be done?\r\n\r\nIt&#39;s working fine on postman but what I noticed is it is taking records on loop every time 25 000. Maybe that is taking time and server is not able to handle request?","title":"Getting 503 error while fetching data from Rest API","body":"<p>I have one POST API which fetches data with limit 25 000. There are nearly 1 600 000 records. But while fetching data in one application, it is getting stuck at 1250 000 records. What can be done?</p>\n<p>It's working fine on postman but what I noticed is it is taking records on loop every time 25 000. Maybe that is taking time and server is not able to handle request?</p>\n"},{"tags":["java","boolean","optional-chaining"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":5,"creation_date":1676133958,"post_id":75421716,"comment_id":133078334,"body_markdown":"&quot;My question is I see `Boolean.TRUE` will make unnecessary a `Boolean` type object.&quot; It&#39;s a static constant. It&#39;s only instantiated once anyway.","body":"&quot;My question is I see <code>Boolean.TRUE</code> will make unnecessary a <code>Boolean</code> type object.&quot; It&#39;s a static constant. It&#39;s only instantiated once anyway."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1676134251,"post_id":75421716,"comment_id":133078383,"body_markdown":"`Boolean` objects can be null. Therefore, I find best never to use them","body":"<code>Boolean</code> objects can be null. Therefore, I find best never to use them"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1676134483,"post_id":75421716,"comment_id":133078419,"body_markdown":"Regardless, you&#39;re ignoring the result of the get method here. So, is there not a method `requestParams.has`?","body":"Regardless, you&#39;re ignoring the result of the get method here. So, is there not a method <code>requestParams.has</code>?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1676135319,"post_id":75421716,"comment_id":133078558,"body_markdown":"Perhaps you should state the exact type of whatever is returned from your call `requestParams.get(IS_CALLED_FROM_ACTION)`.","body":"Perhaps you should state the exact type of whatever is returned from your call <code>requestParams.get(IS_CALLED_FROM_ACTION)</code>."},{"owner":{"account_id":25765271,"reputation":23,"user_id":19515437,"display_name":"GAURAV KABRA"},"score":0,"creation_date":1676172112,"post_id":75421716,"comment_id":133083358,"body_markdown":"@BasilBourque The type returned by `requestParams.get(IS_CALLED_FROM_ACTION)` is a string. If it is not null, I want to set `isCalledFromAction` to true.","body":"@BasilBourque The type returned by <code>requestParams.get(IS_CALLED_FROM_ACTION)</code> is a string. If it is not null, I want to set <code>isCalledFromAction</code> to true."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1676181142,"post_id":75421716,"comment_id":133083880,"body_markdown":"@GAURAVKABRA Then simplify your code to merely `Objects.nonNull ( requestParams.get( IS_CALLED_FROM_ACTION ) )`. See last section added to [my Answer](https://stackoverflow.com/a/75421786/642706).","body":"@GAURAVKABRA Then simplify your code to merely <code>Objects.nonNull ( requestParams.get( IS_CALLED_FROM_ACTION ) )</code>. See last section added to <a href=\"https://stackoverflow.com/a/75421786/642706\">my Answer</a>."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676181201,"creation_date":1676134377,"answer_id":75421786,"question_id":75421716,"body_markdown":"# Constant, just one immutable object\r\n\r\nYou asked:\r\n\r\n&gt; My question is I see `Boolean.TRUE` will make unnecessary a `Boolean` type object.\r\n\r\nNo, multiple objects are *not* created. \r\n\r\nAs [commented by Culloca][1], `Boolean.TRUE` is a constant, referring to a singe object instantiated once when the class loads. As an [immutable object][2], there is no need to have more than one. \r\n\r\nLet’s [look at the implementation][3] found in the open source code at the [OpenJDK][4] project. \r\n\r\n    public static final Boolean FALSE = new Boolean(false);\r\n\r\nThe `static` means an instance is created when the class loads. The `final` means the reference named `FALSE` will never be re-assigned to another object. So one, and only one, object. \r\n\r\n\r\n# Avoid excessive auto-boxing\r\n\r\nYou are right to be concerned about unnecessary [auto-boxing][5]. Boxing is not magic; it takes CPU cycles to execute.  \r\n\r\nGoing out of your way to use `Boolean.FALSE` where you know the primitive `false` is needed is pointless and a bit silly.  \r\n\r\nSuch a practice is often harmless. If the code is infrequently executed, then you’ll see no significant impact on performance. And in some situations I would guess that the compiler might optimize away the boxing, though that is just a guess on my part. \r\n\r\nFYI… Work is underway by the Java team to blur the sharp distinction between primitives and objects created by Java’s two parallel [type systems][6]. So the nature and impact of boxing may change in future versions of Java. \r\n\r\n\r\n# No need for `Optional`\r\n\r\nYour code is overly elaborate.\r\n\r\n[You commented][7]:\r\n\r\n&gt; The type returned by `requestParams.get(IS_CALLED_FROM_ACTION)` is a string. If it is not null, I want to set `isCalledFromAction` to true. \r\n\r\nChange this:\r\n\r\n```java\r\nboolean isCalledFromAction = Optional.ofNullable(requestParams.get(IS_CALLED_FROM_ACTION))\r\n                             .map(val -&gt; true)\r\n                             .orElse(false);\r\n```\r\n\r\n… to use [`Objects.nonNull`][8]:\r\n\r\n```java\r\nboolean isCalledFromAction = \r\n    Objects\r\n    .nonNull ( \r\n        requestParams.get( IS_CALLED_FROM_ACTION ) \r\n    ) ;\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/75421716/when-to-use-true-and-when-to-use-boolean-true#comment133078334_75421716\r\n  [2]: https://en.wikipedia.org/wiki/Immutable_object\r\n  [3]: https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/lang/Boolean.java\r\n  [4]: https://en.m.wikipedia.org/wiki/OpenJDK\r\n  [5]: https://en.m.wikipedia.org/wiki/Boxing_(computer_science)#Autoboxing\r\n  [6]: https://en.m.wikipedia.org/wiki/Type_system\r\n  [7]: https://stackoverflow.com/questions/75421716/when-to-use-true-and-when-to-use-boolean-true?noredirect=1#comment133083358_75421716\r\n  [8]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Objects.html#nonNull(java.lang.Object)","title":"When to use true and when to use Boolean.TRUE?","body":"<h1>Constant, just one immutable object</h1>\n<p>You asked:</p>\n<blockquote>\n<p>My question is I see <code>Boolean.TRUE</code> will make unnecessary a <code>Boolean</code> type object.</p>\n</blockquote>\n<p>No, multiple objects are <em>not</em> created.</p>\n<p>As <a href=\"https://stackoverflow.com/questions/75421716/when-to-use-true-and-when-to-use-boolean-true#comment133078334_75421716\">commented by Culloca</a>, <code>Boolean.TRUE</code> is a constant, referring to a singe object instantiated once when the class loads. As an <a href=\"https://en.wikipedia.org/wiki/Immutable_object\" rel=\"nofollow noreferrer\">immutable object</a>, there is no need to have more than one.</p>\n<p>Let’s <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/lang/Boolean.java\" rel=\"nofollow noreferrer\">look at the implementation</a> found in the open source code at the <a href=\"https://en.m.wikipedia.org/wiki/OpenJDK\" rel=\"nofollow noreferrer\">OpenJDK</a> project.</p>\n<pre><code>public static final Boolean FALSE = new Boolean(false);\n</code></pre>\n<p>The <code>static</code> means an instance is created when the class loads. The <code>final</code> means the reference named <code>FALSE</code> will never be re-assigned to another object. So one, and only one, object.</p>\n<h1>Avoid excessive auto-boxing</h1>\n<p>You are right to be concerned about unnecessary <a href=\"https://en.m.wikipedia.org/wiki/Boxing_(computer_science)#Autoboxing\" rel=\"nofollow noreferrer\">auto-boxing</a>. Boxing is not magic; it takes CPU cycles to execute.</p>\n<p>Going out of your way to use <code>Boolean.FALSE</code> where you know the primitive <code>false</code> is needed is pointless and a bit silly.</p>\n<p>Such a practice is often harmless. If the code is infrequently executed, then you’ll see no significant impact on performance. And in some situations I would guess that the compiler might optimize away the boxing, though that is just a guess on my part.</p>\n<p>FYI… Work is underway by the Java team to blur the sharp distinction between primitives and objects created by Java’s two parallel <a href=\"https://en.m.wikipedia.org/wiki/Type_system\" rel=\"nofollow noreferrer\">type systems</a>. So the nature and impact of boxing may change in future versions of Java.</p>\n<h1>No need for <code>Optional</code></h1>\n<p>Your code is overly elaborate.</p>\n<p><a href=\"https://stackoverflow.com/questions/75421716/when-to-use-true-and-when-to-use-boolean-true?noredirect=1#comment133083358_75421716\">You commented</a>:</p>\n<blockquote>\n<p>The type returned by <code>requestParams.get(IS_CALLED_FROM_ACTION)</code> is a string. If it is not null, I want to set <code>isCalledFromAction</code> to true.</p>\n</blockquote>\n<p>Change this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean isCalledFromAction = Optional.ofNullable(requestParams.get(IS_CALLED_FROM_ACTION))\n                             .map(val -&gt; true)\n                             .orElse(false);\n</code></pre>\n<p>… to use <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Objects.html#nonNull(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>Objects.nonNull</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean isCalledFromAction = \n    Objects\n    .nonNull ( \n        requestParams.get( IS_CALLED_FROM_ACTION ) \n    ) ;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27708010,"reputation":43,"user_id":21151246,"display_name":"Tonypsilon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676136289,"creation_date":1676136289,"answer_id":75421981,"question_id":75421716,"body_markdown":"At first something general\r\n==========================\r\n\r\nThe main difference between `boolean` and `Boolean` is that a `Boolean` can be null, while a `boolean` cannot. So when you have a check `if(a) {...}`, with a being a `Boolean`, this might lead to a nullpointer exception. In this case, you would prefer to have `if(Boolean.TRUE.equals(a)) {...}`, because the `equals` method of `Boolean` would return false in case a is null.\r\n\r\n\r\nYour specific case\r\n==================\r\nWhat you suggested there is equivalent to \r\n```\r\nisCalledFromAction = Optional.ofNullable(requestParams.get(IS_CALLED_FROM_ACTION)).isPresent();\r\n```\r\nNot that `isPresent` actually returns a boolean and not a Boolean, as do most of the JDK internal methods that I&#39;ve come across. Apart of that, I would say using `true` or `false` vs. `Boolean.TRUE` or `Boolean.FALSE` shouldn&#39;t make a real difference in most of the cases and might even be considered a matter of taste. In a large project, though, you would want to use one or the other consistently to not end up with a mess.","title":"When to use true and when to use Boolean.TRUE?","body":"<h1>At first something general</h1>\n<p>The main difference between <code>boolean</code> and <code>Boolean</code> is that a <code>Boolean</code> can be null, while a <code>boolean</code> cannot. So when you have a check <code>if(a) {...}</code>, with a being a <code>Boolean</code>, this might lead to a nullpointer exception. In this case, you would prefer to have <code>if(Boolean.TRUE.equals(a)) {...}</code>, because the <code>equals</code> method of <code>Boolean</code> would return false in case a is null.</p>\n<h1>Your specific case</h1>\n<p>What you suggested there is equivalent to</p>\n<pre><code>isCalledFromAction = Optional.ofNullable(requestParams.get(IS_CALLED_FROM_ACTION)).isPresent();\n</code></pre>\n<p>Not that <code>isPresent</code> actually returns a boolean and not a Boolean, as do most of the JDK internal methods that I've come across. Apart of that, I would say using <code>true</code> or <code>false</code> vs. <code>Boolean.TRUE</code> or <code>Boolean.FALSE</code> shouldn't make a real difference in most of the cases and might even be considered a matter of taste. In a large project, though, you would want to use one or the other consistently to not end up with a mess.</p>\n"}],"owner":{"account_id":25765271,"reputation":23,"user_id":19515437,"display_name":"GAURAV KABRA"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":349,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1676140924,"accepted_answer_id":75421786,"answer_count":2,"score":1,"last_activity_date":1676181201,"creation_date":1676133778,"question_id":75421716,"body_markdown":"I had written a code of which a rough snippet is as follows:\r\n\r\n```\r\nboolean isCalledFromAction = Optional.ofNullable(requestParams.get(IS_CALLED_FROM_ACTION))\r\n                             .map(val -&gt; true)\r\n                             .orElse(false);\r\n```\r\n\r\nMy team lead said to always use existing classes and insisted to use `Boolean` class like below:\r\n```\r\nboolean isCalledFromAction = Optional.ofNullable(requestParams.get(IS_CALLED_FROM_ACTION))\r\n                             .map(val -&gt; Boolean.TRUE)\r\n                             .orElse(Boolean.FALSE);\r\n```\r\n\r\nMy question is I see Boolean.TRUE will make unnecessary a Boolean type object. When to use true and when to use Boolean.TRUE? Why in first place, `Boolean.java` class contains a wrapper object for true and false? I mean, they have auto-boxing so they can directly do like `Boolean x = true;` instead of `Boolean x = Boolean.TRUE`.\r\n\r\nI have read answers on existing questions on SO related to performance but here I am interested in their usage scenarios.","title":"When to use true and when to use Boolean.TRUE?","body":"<p>I had written a code of which a rough snippet is as follows:</p>\n<pre><code>boolean isCalledFromAction = Optional.ofNullable(requestParams.get(IS_CALLED_FROM_ACTION))\n                             .map(val -&gt; true)\n                             .orElse(false);\n</code></pre>\n<p>My team lead said to always use existing classes and insisted to use <code>Boolean</code> class like below:</p>\n<pre><code>boolean isCalledFromAction = Optional.ofNullable(requestParams.get(IS_CALLED_FROM_ACTION))\n                             .map(val -&gt; Boolean.TRUE)\n                             .orElse(Boolean.FALSE);\n</code></pre>\n<p>My question is I see Boolean.TRUE will make unnecessary a Boolean type object. When to use true and when to use Boolean.TRUE? Why in first place, <code>Boolean.java</code> class contains a wrapper object for true and false? I mean, they have auto-boxing so they can directly do like <code>Boolean x = true;</code> instead of <code>Boolean x = Boolean.TRUE</code>.</p>\n<p>I have read answers on existing questions on SO related to performance but here I am interested in their usage scenarios.</p>\n"},{"tags":["java","spring","spring-data-jpa"],"comments":[{"owner":{"account_id":2491283,"reputation":52,"user_id":2168675,"display_name":"efire-net"},"score":0,"creation_date":1676183072,"post_id":75425159,"comment_id":133084006,"body_markdown":"What database are you using? the exception thrown is that the database does not support regex operation","body":"What database are you using? the exception thrown is that the database does not support regex operation"},{"owner":{"account_id":22558649,"reputation":43,"user_id":16746587,"display_name":"John Roice M. Aldeza"},"score":0,"creation_date":1676183194,"post_id":75425159,"comment_id":133084021,"body_markdown":"Oh I&#39;m using MySQL. I just found out that it uses REGEXP and not REGEX.","body":"Oh I&#39;m using MySQL. I just found out that it uses REGEXP and not REGEX."},{"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"score":0,"creation_date":1676227765,"post_id":75425159,"comment_id":133090812,"body_markdown":"See: https://stackoverflow.com/a/44738213/12881733","body":"See: <a href=\"https://stackoverflow.com/a/44738213/12881733\">stackoverflow.com/a/44738213/12881733</a>"}],"owner":{"account_id":22558649,"reputation":43,"user_id":16746587,"display_name":"John Roice M. Aldeza"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676295642,"answer_count":0,"score":0,"last_activity_date":1676181089,"creation_date":1676181089,"question_id":75425159,"body_markdown":"I have this method that aims to return objects using regex and pagination\r\n\r\n```java\r\nPage&lt;JokeModel&gt; searchAllByPhraseRegex(String phrase, Pageable pageable);\r\n```\r\n\r\nHowever, this would throw an exception ```Unsupported keyword REGEX (1): [MatchesRegex, Matches, Regex]```\r\n\r\nSpring Data JPA docs explicitly stated that Regex is supported: \r\n\r\nhttps://docs.spring.io/spring-data/jpa/docs/1.3.0.RELEASE/reference/html/repository-query-keywords.html\r\n\r\nMoreover, Intellij does give suggestions for completing the method:\r\n[![screenshot][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Nb60f.png","title":"Spring data JPA doesn&#39;t accept regex query","body":"<p>I have this method that aims to return objects using regex and pagination</p>\n<pre class=\"lang-java prettyprint-override\"><code>Page&lt;JokeModel&gt; searchAllByPhraseRegex(String phrase, Pageable pageable);\n</code></pre>\n<p>However, this would throw an exception <code>Unsupported keyword REGEX (1): [MatchesRegex, Matches, Regex]</code></p>\n<p>Spring Data JPA docs explicitly stated that Regex is supported:</p>\n<p><a href=\"https://docs.spring.io/spring-data/jpa/docs/1.3.0.RELEASE/reference/html/repository-query-keywords.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/1.3.0.RELEASE/reference/html/repository-query-keywords.html</a></p>\n<p>Moreover, Intellij does give suggestions for completing the method:\n<a href=\"https://i.stack.imgur.com/Nb60f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Nb60f.png\" alt=\"screenshot\" /></a></p>\n"},{"tags":["java","android","arrays","substring"],"comments":[{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1392932966,"post_id":21918553,"comment_id":33201747,"body_markdown":"@user28... : you need to split your strings using String.split(&quot;,&quot;) and use the item at position 2 (plus a trim).","body":"@user28... : you need to split your strings using String.split(&quot;,&quot;) and use the item at position 2 (plus a trim)."},{"owner":{"account_id":3399493,"reputation":371,"user_id":2852119,"accept_rate":36,"display_name":"bibi_bryan"},"score":0,"creation_date":1392964706,"post_id":21918553,"comment_id":33212915,"body_markdown":"@njzk2 thanks. That was very helpful. Now i understand BradR&#39;s answer.","body":"@njzk2 thanks. That was very helpful. Now i understand BradR&#39;s answer."},{"owner":{"account_id":415074,"reputation":14411,"user_id":789657,"accept_rate":84,"display_name":"Simon"},"score":0,"creation_date":1392976207,"post_id":21918553,"comment_id":33219239,"body_markdown":"Using any string methods on XML is doomed to failure.  Use a parser instead then do the string ops on the parsed out data.  Let&#39;s not start open the gates of hell again http://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454","body":"Using any string methods on XML is doomed to failure.  Use a parser instead then do the string ops on the parsed out data.  Let&#39;s not start open the gates of hell again <a href=\"http://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454\" title=\"regex match open tags except xhtml self contained tags\">stackoverflow.com/questions/1732348/&hellip;</a>"},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1392993268,"post_id":21918553,"comment_id":33230835,"body_markdown":"@Simon: Yes, but this is really unrelated to XML. Android does all the parsing for you (`getResources().getStringArray`), and what the SO is really working on is an array of Strings, as you can see in BradR&#39;s answer.","body":"@Simon: Yes, but this is really unrelated to XML. Android does all the parsing for you (<code>getResources().getStringArray</code>), and what the SO is really working on is an array of Strings, as you can see in BradR&#39;s answer."}],"answers":[{"tags":[],"owner":{"account_id":2548584,"reputation":16323,"user_id":2212847,"accept_rate":79,"display_name":"jimmy0251"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1392928025,"creation_date":1392928025,"answer_id":21918793,"question_id":21918553,"body_markdown":"If you want to separate country name from the given array, you can use something like this.\r\n\r\n        String[] edited = new String[countries.length];\r\n\t\tfor(int i = 0; i &lt; countries.length; i++) {\r\n\t\t\tString s = countries[i];\r\n\t\t\tedited[i] = s.substring(s.lastIndexOf(&#39;,&#39;));\r\n\t\t}\r\n","title":"Splitting a String for use in a UI selection element","body":"<p>If you want to separate country name from the given array, you can use something like this.</p>\n\n<pre><code>    String[] edited = new String[countries.length];\n    for(int i = 0; i &lt; countries.length; i++) {\n        String s = countries[i];\n        edited[i] = s.substring(s.lastIndexOf(','));\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2548972,"reputation":593,"user_id":2213167,"accept_rate":100,"display_name":"BradR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1392934042,"creation_date":1392934042,"answer_id":21920724,"question_id":21918553,"body_markdown":"this will do using split mycoutries will have just the countries and myotherstuff the rest of the data from the line\r\n\r\n    String[] mycountries= new String[countries.length];\r\n    String[] myotherstuff = new String[countries.length];\r\n     for(int i = 0; i &lt; countries.length; i++) {\r\n        String s = countries[i];\r\n        String[] parts = s.split(&quot;,&quot;); \r\n        myotherstuff[i] = parts[0]+&quot;,&quot;+parts[1];\r\n        mycountries[i] = parts[2];\r\n    }","title":"Splitting a String for use in a UI selection element","body":"<p>this will do using split mycoutries will have just the countries and myotherstuff the rest of the data from the line</p>\n\n<pre><code>String[] mycountries= new String[countries.length];\nString[] myotherstuff = new String[countries.length];\n for(int i = 0; i &lt; countries.length; i++) {\n    String s = countries[i];\n    String[] parts = s.split(\",\"); \n    myotherstuff[i] = parts[0]+\",\"+parts[1];\n    mycountries[i] = parts[2];\n}\n</code></pre>\n"}],"owner":{"account_id":3399493,"reputation":371,"user_id":2852119,"accept_rate":36,"display_name":"bibi_bryan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":328,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":21920724,"answer_count":2,"score":0,"last_activity_date":1676180836,"creation_date":1392927321,"question_id":21918553,"body_markdown":"I&#39;m using this code to read some country names from a resource bundle and add them to a spinner:\r\n```\r\nString [] countries = this.getResources().getStringArray(R.array.CountryCodes);\r\nArrayAdapter&lt;String&gt; adapter =  new ArrayAdapter&lt;String&gt;(\r\n    this, android.R.layout.simple_spinner_item, countries\r\n);\r\nadapter.setDropDownViewResource(\r\n    android.R.layout.simple_spinner_dropdown_item\r\n);\r\nmCountries.setAdapter(adapter);\r\n```\r\nThe resource data is XML that looks like:\r\n```\r\n&lt;string-array name=&quot;CountryCodes&quot; &gt;\r\n &lt;item&gt;93,AF, Afganistan&lt;/item&gt;\r\n &lt;item&gt;355,AL, Albania&lt;/item&gt;\r\n &lt;item&gt;213,DZ, Algeria&lt;/item&gt;\r\n&lt;/string-array&gt;\r\n```\r\nHow can I display only the country names in the `Spinner` and then display the corresponding digits in a separate `Edittext` widget?\r\n\r\nI know I have to use the `split()` method to remove the `&quot;,&quot;`. But once I have an individual string element, like `&quot;93,AF, Afganistan&quot;`, how do I get just the country name `&quot;Afganistan&quot;`? How do I keep that name in sync with the corresponding digits?\r\n\r\n\r\n","title":"Splitting a String for use in a UI selection element","body":"<p>I'm using this code to read some country names from a resource bundle and add them to a spinner:</p>\n<pre><code>String [] countries = this.getResources().getStringArray(R.array.CountryCodes);\nArrayAdapter&lt;String&gt; adapter =  new ArrayAdapter&lt;String&gt;(\n    this, android.R.layout.simple_spinner_item, countries\n);\nadapter.setDropDownViewResource(\n    android.R.layout.simple_spinner_dropdown_item\n);\nmCountries.setAdapter(adapter);\n</code></pre>\n<p>The resource data is XML that looks like:</p>\n<pre><code>&lt;string-array name=&quot;CountryCodes&quot; &gt;\n &lt;item&gt;93,AF, Afganistan&lt;/item&gt;\n &lt;item&gt;355,AL, Albania&lt;/item&gt;\n &lt;item&gt;213,DZ, Algeria&lt;/item&gt;\n&lt;/string-array&gt;\n</code></pre>\n<p>How can I display only the country names in the <code>Spinner</code> and then display the corresponding digits in a separate <code>Edittext</code> widget?</p>\n<p>I know I have to use the <code>split()</code> method to remove the <code>&quot;,&quot;</code>. But once I have an individual string element, like <code>&quot;93,AF, Afganistan&quot;</code>, how do I get just the country name <code>&quot;Afganistan&quot;</code>? How do I keep that name in sync with the corresponding digits?</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1530080544,"post_id":51055780,"comment_id":89102206,"body_markdown":"Apart from &quot;this is not the proper way to do it&quot;: Did you try adding a `thread.join()` at the end of `main`?","body":"Apart from &quot;this is not the proper way to do it&quot;: Did you try adding a <code>thread.join()</code> at the end of <code>main</code>?"},{"owner":{"account_id":11147483,"reputation":1772,"user_id":8181750,"display_name":"L.Spillner"},"score":0,"creation_date":1530080815,"post_id":51055780,"comment_id":89102325,"body_markdown":"Usually a thread is considered &#39;terminated&#39; when the `exit()`  method is run. Have you debugged the state of the thread after that point?","body":"Usually a thread is considered &#39;terminated&#39; when the <code>exit()</code>  method is run. Have you debugged the state of the thread after that point?"},{"owner":{"account_id":13723126,"reputation":105,"user_id":9902575,"display_name":"David Studer"},"score":0,"creation_date":1530082424,"post_id":51055780,"comment_id":89103102,"body_markdown":"@daniu I tried it with `join()` as well as with `yield()`, did not change anything. But what would be the proper way to do it then?","body":"@daniu I tried it with <code>join()</code> as well as with <code>yield()</code>, did not change anything. But what would be the proper way to do it then?"},{"owner":{"account_id":13723126,"reputation":105,"user_id":9902575,"display_name":"David Studer"},"score":0,"creation_date":1530082508,"post_id":51055780,"comment_id":89103146,"body_markdown":"@L.Spillner the state of the started thread is **terminated**, but the main thread (where the mentioned `exit()`-method is called on) is still **running**.","body":"@L.Spillner the state of the started thread is <b>terminated</b>, but the main thread (where the mentioned <code>exit()</code>-method is called on) is still <b>running</b>."},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":1,"creation_date":1530082859,"post_id":51055780,"comment_id":89103322,"body_markdown":"@DavidStuder In your example, no thread (neither the main thread nor the other started thread) is running. This program directly terminates. Maybe you simplfied your code too much. Look at my examples to get an idea. Otherwise please make a [mcve].","body":"@DavidStuder In your example, no thread (neither the main thread nor the other started thread) is running. This program directly terminates. Maybe you simplfied your code too much. Look at my examples to get an idea. Otherwise please make a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":13723126,"reputation":105,"user_id":9902575,"display_name":"David Studer"},"score":0,"creation_date":1530083051,"post_id":51055780,"comment_id":89103410,"body_markdown":"@Seelenvirtuose The thing is, I ran it exactly like described with nothing going on in the `run()`-method and nothing else in the `main`-method and the issue still exists. I will edit my post and add a screenshot of the running thread, maybe it&#39;s better understandable afterwards.","body":"@Seelenvirtuose The thing is, I ran it exactly like described with nothing going on in the <code>run()</code>-method and nothing else in the <code>main</code>-method and the issue still exists. I will edit my post and add a screenshot of the running thread, maybe it&#39;s better understandable afterwards."},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":1,"creation_date":1530083587,"post_id":51055780,"comment_id":89103682,"body_markdown":"Ok. This is weird. Obviously both threads are terminated, but the application is still running. That might be an issue of Eclipse but it might also be an issue of the Java VM. Maybe a reinstall will help here. _This is not normal behavior and has nothing to do with your Java code._","body":"Ok. This is weird. Obviously both threads are terminated, but the application is still running. That might be an issue of Eclipse but it might also be an issue of the Java VM. Maybe a reinstall will help here. <i>This is not normal behavior and has nothing to do with your Java code.</i>"},{"owner":{"account_id":13723126,"reputation":105,"user_id":9902575,"display_name":"David Studer"},"score":0,"creation_date":1530083786,"post_id":51055780,"comment_id":89103809,"body_markdown":"@Seelenvirtuose Thank you, I&#39;ve already feared that it&#39;s not normal behaviour. I will **reinstall eclipse** and see what it brings.","body":"@Seelenvirtuose Thank you, I&#39;ve already feared that it&#39;s not normal behaviour. I will <b>reinstall eclipse</b> and see what it brings."}],"answers":[{"tags":[],"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1530081892,"creation_date":1530081892,"answer_id":51056168,"question_id":51055780,"body_markdown":"&gt; But every time I start running my own thread class as a new thread, the main class thread does not terminate anymore by itself.\r\n\r\nThis is somewhat wrong. Your program does not terminate because there exists at least one non-daemon thread that still is running. The rule is: A Java program is terminated if all non-daemon threads are terminated.\r\n\r\nI modified your program to make this behavior clear:\r\n\r\n    public class OwnThread implements Runnable {\r\n        @Override\r\n        public void run() {\r\n            runForever();\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            Thread thread = new Thread(new OwnThread());\r\n            thread.start();\r\n            runForever();\r\n        }\r\n\r\n        private static void runForever() {\r\n            while (true) {}\r\n        }\r\n    }\r\n\r\nRunning that will create two threads that will run forever. One is the main thread which is started by running the program, and the other is the thread started inside the main method:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nModifying the above code by removing the call to _runForever_ in the main method ...\r\n\r\n    public static void main(String[] args) {\r\n        Thread thread = new Thread(new OwnThread());\r\n        thread.start();\r\n    }\r\n\r\n... will result in a different thread picture:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHere the main thread is gone because it is terminated. But the other started thread is still running.\r\n\r\nSide note: Suddenly another thread appears - `DestroyJavaVM`. Have a look at the post [DestroyJavaVM thread ALWAYS running][3] for more information.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kc9Qy.png\r\n  [2]: https://i.stack.imgur.com/d86FX.png\r\n  [3]: https://stackoverflow.com/questions/34433267/destroyjavavm-thread-always-running","title":"Java Main Class Thread does not terminate anymore using Java multithreading","body":"<blockquote>\n  <p>But every time I start running my own thread class as a new thread, the main class thread does not terminate anymore by itself.</p>\n</blockquote>\n\n<p>This is somewhat wrong. Your program does not terminate because there exists at least one non-daemon thread that still is running. The rule is: A Java program is terminated if all non-daemon threads are terminated.</p>\n\n<p>I modified your program to make this behavior clear:</p>\n\n<pre><code>public class OwnThread implements Runnable {\n    @Override\n    public void run() {\n        runForever();\n    }\n\n    public static void main(String[] args) {\n        Thread thread = new Thread(new OwnThread());\n        thread.start();\n        runForever();\n    }\n\n    private static void runForever() {\n        while (true) {}\n    }\n}\n</code></pre>\n\n<p>Running that will create two threads that will run forever. One is the main thread which is started by running the program, and the other is the thread started inside the main method:</p>\n\n<p><a href=\"https://i.stack.imgur.com/kc9Qy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kc9Qy.png\" alt=\"enter image description here\"></a></p>\n\n<p>Modifying the above code by removing the call to <em>runForever</em> in the main method ...</p>\n\n<pre><code>public static void main(String[] args) {\n    Thread thread = new Thread(new OwnThread());\n    thread.start();\n}\n</code></pre>\n\n<p>... will result in a different thread picture:</p>\n\n<p><a href=\"https://i.stack.imgur.com/d86FX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d86FX.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here the main thread is gone because it is terminated. But the other started thread is still running.</p>\n\n<p>Side note: Suddenly another thread appears - <code>DestroyJavaVM</code>. Have a look at the post <a href=\"https://stackoverflow.com/questions/34433267/destroyjavavm-thread-always-running\">DestroyJavaVM thread ALWAYS running</a> for more information.</p>\n"},{"tags":[],"owner":{"account_id":13723126,"reputation":105,"user_id":9902575,"display_name":"David Studer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1530190098,"creation_date":1530190098,"answer_id":51083358,"question_id":51055780,"body_markdown":"The issue is indeed not caused by the multithreading logic itself, it is caused by **Eclipse** and the respective **JVM**. Running the exact same code in **Netbeans** or on an **Tomcat 8 Server** did not lead to any problems. A reinstallation of Eclipse did not solve the malfunction within the Eclipse framework, but having the certainty that the issue does not cause any trouble on a server is sufficient for me to close the case. \r\n\r\nThanks to [Seelenvirtuose][1] for the hints and his effort.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/2563754/seelenvirtuose","title":"Java Main Class Thread does not terminate anymore using Java multithreading","body":"<p>The issue is indeed not caused by the multithreading logic itself, it is caused by <strong>Eclipse</strong> and the respective <strong>JVM</strong>. Running the exact same code in <strong>Netbeans</strong> or on an <strong>Tomcat 8 Server</strong> did not lead to any problems. A reinstallation of Eclipse did not solve the malfunction within the Eclipse framework, but having the certainty that the issue does not cause any trouble on a server is sufficient for me to close the case. </p>\n\n<p>Thanks to <a href=\"https://stackoverflow.com/users/2563754/seelenvirtuose\">Seelenvirtuose</a> for the hints and his effort.</p>\n"}],"owner":{"account_id":13723126,"reputation":105,"user_id":9902575,"display_name":"David Studer"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1803,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":51083358,"answer_count":2,"score":2,"last_activity_date":1676180084,"creation_date":1530080359,"question_id":51055780,"body_markdown":"I created my own thread class implementing the `Runnable` interface. But every time I start running my own thread class as a new thread, the main class thread does not terminate anymore by itself. Is this just an issue within Eclipse or would I also have problem running this on a Server? Do I have to change something calling the thread so that the main method can terminate properly? \r\n\r\n\r\n----------\r\nHere&#39;s my basic self-made thread:\r\n\r\n    public class OwnThread implements Runnable {\r\n       @Override\r\n       public void run() {\r\n          //do something\r\n       }\r\n    } \r\nHere&#39;s the main class that won&#39;t terminate anymore:\r\n\r\n    public static void main(String[] args) {\t\r\n       Thread thread = new Thread(new OwnThread());\r\n       thread.start();\r\n    }\r\n\r\nWhen I debug it, the last called method is the `exit()`-method of the `Thread`-class. After going through these lines of code, the process goes on forever:\r\n\r\n    /**\r\n     * This method is called by the system to give a Thread\r\n     * a chance to clean up before it actually exits.\r\n     */\r\n    private void exit() {\r\n       if (group != null) {\r\n          group.threadTerminated(this);\r\n          group = null;\r\n       }\r\n       /* Aggressively null out all reference fields: see bug 4006245 */\r\n       target = null;\r\n       /* Speed the release of some of these resources */\r\n       threadLocals = null;\r\n       inheritableThreadLocals = null;\r\n       inheritedAccessControlContext = null;\r\n       blocker = null;\r\n       uncaughtExceptionHandler = null;\r\n    }\r\n\r\n----------\r\nHere&#39;s a screenshot of the thread that is running forever. The `TestInterface` class is where the `main`-method is located:\r\n\r\n[![Thread running on forever][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XvYF1.png","title":"Java Main Class Thread does not terminate anymore using Java multithreading","body":"<p>I created my own thread class implementing the <code>Runnable</code> interface. But every time I start running my own thread class as a new thread, the main class thread does not terminate anymore by itself. Is this just an issue within Eclipse or would I also have problem running this on a Server? Do I have to change something calling the thread so that the main method can terminate properly? </p>\n\n<hr>\n\n<p>Here's my basic self-made thread:</p>\n\n<pre><code>public class OwnThread implements Runnable {\n   @Override\n   public void run() {\n      //do something\n   }\n} \n</code></pre>\n\n<p>Here's the main class that won't terminate anymore:</p>\n\n<pre><code>public static void main(String[] args) {    \n   Thread thread = new Thread(new OwnThread());\n   thread.start();\n}\n</code></pre>\n\n<p>When I debug it, the last called method is the <code>exit()</code>-method of the <code>Thread</code>-class. After going through these lines of code, the process goes on forever:</p>\n\n<pre><code>/**\n * This method is called by the system to give a Thread\n * a chance to clean up before it actually exits.\n */\nprivate void exit() {\n   if (group != null) {\n      group.threadTerminated(this);\n      group = null;\n   }\n   /* Aggressively null out all reference fields: see bug 4006245 */\n   target = null;\n   /* Speed the release of some of these resources */\n   threadLocals = null;\n   inheritableThreadLocals = null;\n   inheritedAccessControlContext = null;\n   blocker = null;\n   uncaughtExceptionHandler = null;\n}\n</code></pre>\n\n<hr>\n\n<p>Here's a screenshot of the thread that is running forever. The <code>TestInterface</code> class is where the <code>main</code>-method is located:</p>\n\n<p><a href=\"https://i.stack.imgur.com/XvYF1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XvYF1.png\" alt=\"Thread running on forever\"></a></p>\n"},{"tags":["java","android","csv","sorting","android-recyclerview"],"owner":{"account_id":26567360,"reputation":20,"user_id":20194160,"display_name":"EagleGrant"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676179866,"creation_date":1676179866,"question_id":75425093,"body_markdown":"I am trying to make an activity that is able to sort a CSV by the third item (team number), and go from high to low. I have gotten the actual adapter done, and also reading the data for each individual CSV row. However, when I go to sort, it doesn&#39;t work at all, but it doesn&#39;t crash.\r\n\r\nHere&#39;s my code in GridActivity.java\r\n\r\n```\r\n    RecyclerView recyclerView;\r\n    ArrayList&lt;recycler&gt; recyclerArrayList;\r\n    GridAdapter gridAdapter;\r\n    File csvFile;\r\n    TextView noFilesText;\r\n @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_grid);\r\n        Toolbar toolbar = (Toolbar) findViewById(R.id.main_toolbar);\r\n        setSupportActionBar(toolbar);\r\ncsvFile = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS), &quot;file.csv&quot;);\r\n        if (!csvFile.exists()) {\r\n            noFilesText.setVisibility(View.VISIBLE);\r\n        }else{\r\n            recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n            recyclerArrayList = new ArrayList&lt;recycler&gt;();\r\n            try {\r\n                recyclerView.setAdapter(new GridAdapter(this));\r\n            } catch (Exception e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n        try {\r\n            getData();\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n}\r\n @Override\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n        switch (item.getItemId()){\r\n            case R.id.menuTeam:\r\n                Collections.sort(recyclerArrayList,recycler.teamComparator); //Not doing anything?\r\n                gridAdapter.notifyDataSetChanged();\r\n                Toast.makeText(this, &quot;Sorted&quot;, Toast.LENGTH_SHORT).show(); //This pops up on screen\r\n                return true;\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\nprivate void getData() throws Exception {\r\n        List&lt;String[]&gt; TotalLines = readLineByLine(); //reads the CSV where each line is a new string[]\r\n        for (int i=1;i&lt; TotalLines.toArray().length;i++){\r\n            String data = TotalLines.get(i)[0];\r\n                recycler recyclerp = new recycler(regexFinder(data,2)); //finds the third item in the row of the CSV\r\n            Log.d(&quot;teamRecycler&quot;, &quot;getData: &quot;+recyclerp.team); //returns the correct value, aka team value (135 or 328, etc)\r\n            recyclerArrayList.add(recyclerp);\r\n        }\r\n        gridAdapter = new GridAdapter(this);\r\n        recyclerView.setAdapter(gridAdapter);\r\n    }\r\n```\r\n\r\nHere is recycler.java\r\n\r\n```\r\npublic class recycler {\r\n    String team;\r\n    public recycler(String team) {\r\n        this.team = team;\r\n    }\r\n    public static Comparator&lt;recycler&gt; teamComparator = new Comparator&lt;recycler&gt;() {\r\n        @Override\r\n        public int compare(recycler t1, recycler t2) {\r\n            Log.d(&quot;TEAM COMPARE&quot;, &quot;compare: &quot;+t2.team.compareTo(t1.team));\r\n            return t2.team.compareTo(t1.team);\r\n        }\r\n    };\r\n}\r\n```\r\n\r\nI don&#39;t believe that GridAdapter is nessescary. It works completely fine.\r\n\r\nOverall, here&#39;s what it currently looks like[![enter image description here](https://i.stack.imgur.com/GLTY0.png)](https://i.stack.imgur.com/GLTY0.png)\r\n\r\nI have tried to flip what I&#39;m comparing. (t2 and t1) Still, nothing changed, still no crash.\r\n\r\nI have tried reversing my list (just to see if it will move the recycler views around) IT DOES NOT. It doesn&#39;t move the recycler view, even when I reverse it.\r\n\r\nI have confirmed that team is actually the right number (shown by the logs in the gridactivity.java)\r\n\r\nOverall, I have found that it will not do anything to the recycler view, but the actual lines aren&#39;t wrong, as it will not crash. Somewhere, I&#39;ve assigned something incorrectly, however it isn&#39;t the recycler(regex), as this was tested and correct. My current suspicion is that recyclerArrayList.add(recyclerp); is not doing what I want it to do.","title":"Sorting a recycler view by an integer with a CSV not changing the actual sort?","body":"<p>I am trying to make an activity that is able to sort a CSV by the third item (team number), and go from high to low. I have gotten the actual adapter done, and also reading the data for each individual CSV row. However, when I go to sort, it doesn't work at all, but it doesn't crash.</p>\n<p>Here's my code in GridActivity.java</p>\n<pre><code>    RecyclerView recyclerView;\n    ArrayList&lt;recycler&gt; recyclerArrayList;\n    GridAdapter gridAdapter;\n    File csvFile;\n    TextView noFilesText;\n @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_grid);\n        Toolbar toolbar = (Toolbar) findViewById(R.id.main_toolbar);\n        setSupportActionBar(toolbar);\ncsvFile = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS), &quot;file.csv&quot;);\n        if (!csvFile.exists()) {\n            noFilesText.setVisibility(View.VISIBLE);\n        }else{\n            recyclerView.setLayoutManager(new LinearLayoutManager(this));\n            recyclerArrayList = new ArrayList&lt;recycler&gt;();\n            try {\n                recyclerView.setAdapter(new GridAdapter(this));\n            } catch (Exception e) {\n                throw new RuntimeException(e);\n            }\n        }\n        try {\n            getData();\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n}\n @Override\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\n        switch (item.getItemId()){\n            case R.id.menuTeam:\n                Collections.sort(recyclerArrayList,recycler.teamComparator); //Not doing anything?\n                gridAdapter.notifyDataSetChanged();\n                Toast.makeText(this, &quot;Sorted&quot;, Toast.LENGTH_SHORT).show(); //This pops up on screen\n                return true;\n        }\n        return super.onOptionsItemSelected(item);\n    }\nprivate void getData() throws Exception {\n        List&lt;String[]&gt; TotalLines = readLineByLine(); //reads the CSV where each line is a new string[]\n        for (int i=1;i&lt; TotalLines.toArray().length;i++){\n            String data = TotalLines.get(i)[0];\n                recycler recyclerp = new recycler(regexFinder(data,2)); //finds the third item in the row of the CSV\n            Log.d(&quot;teamRecycler&quot;, &quot;getData: &quot;+recyclerp.team); //returns the correct value, aka team value (135 or 328, etc)\n            recyclerArrayList.add(recyclerp);\n        }\n        gridAdapter = new GridAdapter(this);\n        recyclerView.setAdapter(gridAdapter);\n    }\n</code></pre>\n<p>Here is recycler.java</p>\n<pre><code>public class recycler {\n    String team;\n    public recycler(String team) {\n        this.team = team;\n    }\n    public static Comparator&lt;recycler&gt; teamComparator = new Comparator&lt;recycler&gt;() {\n        @Override\n        public int compare(recycler t1, recycler t2) {\n            Log.d(&quot;TEAM COMPARE&quot;, &quot;compare: &quot;+t2.team.compareTo(t1.team));\n            return t2.team.compareTo(t1.team);\n        }\n    };\n}\n</code></pre>\n<p>I don't believe that GridAdapter is nessescary. It works completely fine.</p>\n<p>Overall, here's what it currently looks like<a href=\"https://i.stack.imgur.com/GLTY0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GLTY0.png\" alt=\"enter image description here\" /></a></p>\n<p>I have tried to flip what I'm comparing. (t2 and t1) Still, nothing changed, still no crash.</p>\n<p>I have tried reversing my list (just to see if it will move the recycler views around) IT DOES NOT. It doesn't move the recycler view, even when I reverse it.</p>\n<p>I have confirmed that team is actually the right number (shown by the logs in the gridactivity.java)</p>\n<p>Overall, I have found that it will not do anything to the recycler view, but the actual lines aren't wrong, as it will not crash. Somewhere, I've assigned something incorrectly, however it isn't the recycler(regex), as this was tested and correct. My current suspicion is that recyclerArrayList.add(recyclerp); is not doing what I want it to do.</p>\n"},{"tags":["java","ssh","rsa","jsch"],"comments":[{"owner":{"account_id":2647801,"reputation":1383,"user_id":2290153,"display_name":"Matthias Wiedemann"},"score":1,"creation_date":1676190302,"post_id":75425088,"comment_id":133084666,"body_markdown":"Which version are using? Please try https://github.com/mwiede/jsch","body":"Which version are using? Please try <a href=\"https://github.com/mwiede/jsch\" rel=\"nofollow noreferrer\">github.com/mwiede/jsch</a>"},{"owner":{"account_id":13201810,"reputation":461,"user_id":9534835,"display_name":"Vijay Patidar"},"score":0,"creation_date":1676202917,"post_id":75425088,"comment_id":133086425,"body_markdown":"@MatthiasWiedemann I&#39;m using 0.1.55 version, I&#39;ll try your suggestion. Thanks!","body":"@MatthiasWiedemann I&#39;m using 0.1.55 version, I&#39;ll try your suggestion. Thanks!"}],"owner":{"account_id":13201810,"reputation":461,"user_id":9534835,"display_name":"Vijay Patidar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676215608,"answer_count":0,"score":0,"last_activity_date":1676179785,"creation_date":1676179785,"question_id":75425088,"body_markdown":"I&#39;m trying to connect to EC2 server using Jsch SSH client with RSA KeyPair, But it is giving me auth fail error. I have checked my configuration, even I&#39;m able to connect to EC2 using terminal with same KeyPair.\r\n\r\n\r\n```java\r\npackage org.example;\r\n\r\nimport com.jcraft.jsch.ChannelShell;\r\nimport com.jcraft.jsch.JSch;\r\nimport com.jcraft.jsch.Session;\r\nimport java.io.*;\r\nimport java.util.Scanner;\r\nimport java.util.UUID;\r\nimport java.util.regex.Pattern;\r\n\r\npublic class Ssh {\r\n    private Session session = null;\r\n    private final HostInfo host;\r\n    private BufferedReader reader;\r\n    private BufferedReader error;\r\n\r\n    private ChannelShell channel;\r\n    private BufferedWriter writer;\r\n\r\n    public Ssh(HostInfo host) {\r\n        this.host = host;\r\n    }\r\n\r\n    public void setup() throws Exception {\r\n        JSch jSch = new JSch();\r\n        jSch.addIdentity(&quot;aws-ssh.pem&quot;);\r\n        session = jSch.getSession(host.getUsername(), host.getHost(), host.getPort());\r\n        session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n        session.connect();\r\n\r\n        channel = (ChannelShell) session.openChannel(&quot;shell&quot;);\r\n        channel.connect();\r\n\r\n        InputStream in = channel.getInputStream();\r\n        InputStream err = channel.getExtInputStream();\r\n        OutputStream out = channel.getOutputStream();\r\n        reader = new BufferedReader(new InputStreamReader(in));\r\n        writer = new BufferedWriter(new OutputStreamWriter(out));\r\n        error = new BufferedReader(new InputStreamReader(err));\r\n        \r\n    }\r\n}\r\n\r\n```\r\n\r\nError:\r\n```txt\r\nException in thread &quot;main&quot; com.jcraft.jsch.JSchException: Auth fail\r\n\tat com.jcraft.jsch.Session.connect(Session.java:519)\r\n\tat com.jcraft.jsch.Session.connect(Session.java:183)\r\n\tat org.example.Ssh.setup(Ssh.java:30)\r\n\tat org.example.Main.main(Main.java:12)\r\n```\r\n\r\n\r\n\r\n\r\nI have try password authentication mode that works, but I want to authenticate via SSH key pair(.pem).","title":"Authentication fails when using Jsch SSH client","body":"<p>I'm trying to connect to EC2 server using Jsch SSH client with RSA KeyPair, But it is giving me auth fail error. I have checked my configuration, even I'm able to connect to EC2 using terminal with same KeyPair.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\nimport com.jcraft.jsch.ChannelShell;\nimport com.jcraft.jsch.JSch;\nimport com.jcraft.jsch.Session;\nimport java.io.*;\nimport java.util.Scanner;\nimport java.util.UUID;\nimport java.util.regex.Pattern;\n\npublic class Ssh {\n    private Session session = null;\n    private final HostInfo host;\n    private BufferedReader reader;\n    private BufferedReader error;\n\n    private ChannelShell channel;\n    private BufferedWriter writer;\n\n    public Ssh(HostInfo host) {\n        this.host = host;\n    }\n\n    public void setup() throws Exception {\n        JSch jSch = new JSch();\n        jSch.addIdentity(&quot;aws-ssh.pem&quot;);\n        session = jSch.getSession(host.getUsername(), host.getHost(), host.getPort());\n        session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n        session.connect();\n\n        channel = (ChannelShell) session.openChannel(&quot;shell&quot;);\n        channel.connect();\n\n        InputStream in = channel.getInputStream();\n        InputStream err = channel.getExtInputStream();\n        OutputStream out = channel.getOutputStream();\n        reader = new BufferedReader(new InputStreamReader(in));\n        writer = new BufferedWriter(new OutputStreamWriter(out));\n        error = new BufferedReader(new InputStreamReader(err));\n        \n    }\n}\n\n</code></pre>\n<p>Error:</p>\n<pre><code>Exception in thread &quot;main&quot; com.jcraft.jsch.JSchException: Auth fail\n    at com.jcraft.jsch.Session.connect(Session.java:519)\n    at com.jcraft.jsch.Session.connect(Session.java:183)\n    at org.example.Ssh.setup(Ssh.java:30)\n    at org.example.Main.main(Main.java:12)\n</code></pre>\n<p>I have try password authentication mode that works, but I want to authenticate via SSH key pair(.pem).</p>\n"},{"tags":["java","sorting"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":2,"creation_date":1676179829,"post_id":75425058,"comment_id":133083795,"body_markdown":"You were given a clue in the instructions. Shorter strings sort before longer strings. Write a [Comparator](https://stackoverflow.com/questions/2839137/how-to-use-comparator-in-java-to-sort) that takes the string length into account.","body":"You were given a clue in the instructions. Shorter strings sort before longer strings. Write a <a href=\"https://stackoverflow.com/questions/2839137/how-to-use-comparator-in-java-to-sort\">Comparator</a> that takes the string length into account."},{"owner":{"account_id":27764504,"reputation":1,"user_id":21196132,"display_name":"Ricky"},"score":0,"creation_date":1676180273,"post_id":75425058,"comment_id":133083828,"body_markdown":"Thank you. The file name could also be file01. Would the Comparator approach with size still work?","body":"Thank you. The file name could also be file01. Would the Comparator approach with size still work?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676180744,"post_id":75425058,"comment_id":133083852,"body_markdown":"In your compaator skip any common prefix (for example `File`). If at the end of both file names, they are equal (return 0). If at the end of only one of them, that one comes first. If not at the end of any, look at the current character of each file name. If *both* are numeric, read a number from each file name and compare the numbers. Else just compare the characters. Then you are done.","body":"In your compaator skip any common prefix (for example <code>File</code>). If at the end of both file names, they are equal (return 0). If at the end of only one of them, that one comes first. If not at the end of any, look at the current character of each file name. If <i>both</i> are numeric, read a number from each file name and compare the numbers. Else just compare the characters. Then you are done."}],"owner":{"account_id":27764504,"reputation":1,"user_id":21196132,"display_name":"Ricky"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676180862,"answer_count":0,"score":0,"last_activity_date":1676179420,"creation_date":1676179420,"question_id":75425058,"body_markdown":"How a list of filenames with numeric characters be sorted? Should the file part and numeric part be split. Below is the question but the filename could also be file1xx22yy.gif and so on.\r\n\r\nSort a list of file by names, that has numbers in them.\r\nSort a list of files like:\r\n&quot;file1&quot;\r\n&quot;file10&quot;\r\n&quot;file2&quot;\r\nin the correct order: String length -&gt; Number precedence\r\n\r\nSo actual list needs to be\r\n&quot;file1&quot;\r\n&quot;file2&quot;\r\n&quot;file10&quot;\r\n\r\n\r\nI tried sorting using string sort but the results did not match the output specified in the question","title":"Sort filenames containing integer values","body":"<p>How a list of filenames with numeric characters be sorted? Should the file part and numeric part be split. Below is the question but the filename could also be file1xx22yy.gif and so on.</p>\n<p>Sort a list of file by names, that has numbers in them.\nSort a list of files like:\n&quot;file1&quot;\n&quot;file10&quot;\n&quot;file2&quot;\nin the correct order: String length -&gt; Number precedence</p>\n<p>So actual list needs to be\n&quot;file1&quot;\n&quot;file2&quot;\n&quot;file10&quot;</p>\n<p>I tried sorting using string sort but the results did not match the output specified in the question</p>\n"},{"tags":["java","docker","cpu"],"owner":{"account_id":13676649,"reputation":143,"user_id":9867921,"display_name":"曹培胜"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676175401,"creation_date":1676175401,"question_id":75424863,"body_markdown":"I use com.sun.management.OperatingSystemMXBean to get cpu utilization and memory utilization in docker environment. docker run as follow\r\n\r\n    docker run --memory=&quot;8g&quot; --cpus=&quot;4&quot; xxxxx\r\nBut,The memory utilization I get is correct,but cpu utilization is incorrect.\r\nMy computer&#39;s cpu is 8 cores and 16 threads, and the memory is 32g.\r\n\r\nFollows is logs in my java application：\r\n\r\n    Osmxb:CPU = 3.39%, processors=4, Mem = 4.32%, totalMemory=8GB, freeMemory=7.65GB\r\nFollow picture shows the message I get with `docker stats` command\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bXYhr.png","title":"How to get cpu utilization in java in docker environment,I use OperatingSystemMXBean but is incorrect","body":"<p>I use com.sun.management.OperatingSystemMXBean to get cpu utilization and memory utilization in docker environment. docker run as follow</p>\n<pre><code>docker run --memory=&quot;8g&quot; --cpus=&quot;4&quot; xxxxx\n</code></pre>\n<p>But,The memory utilization I get is correct,but cpu utilization is incorrect.\nMy computer's cpu is 8 cores and 16 threads, and the memory is 32g.</p>\n<p>Follows is logs in my java application：</p>\n<pre><code>Osmxb:CPU = 3.39%, processors=4, Mem = 4.32%, totalMemory=8GB, freeMemory=7.65GB\n</code></pre>\n<p>Follow picture shows the message I get with <code>docker stats</code> command\n<a href=\"https://i.stack.imgur.com/bXYhr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bXYhr.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","swagger"],"comments":[{"owner":{"account_id":2246079,"reputation":7967,"user_id":1979380,"accept_rate":89,"display_name":"jarvo69"},"score":0,"creation_date":1676176774,"post_id":75424852,"comment_id":133083621,"body_markdown":"Please can you share your application.yml or properties file content?","body":"Please can you share your application.yml or properties file content?"}],"owner":{"account_id":27764265,"reputation":3,"user_id":21195948,"display_name":"parasuraman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676296468,"answer_count":0,"score":0,"last_activity_date":1676175071,"creation_date":1676175071,"question_id":75424852,"body_markdown":"javax.servlet.ServletException: Could not resolve view with name &#39;forward:/swagger-ui/index.html&#39; in servlet with name &#39;dispatcherServlet&#39;\r\n\tat org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1384) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n\tat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1149) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:670) ~[tomcat-embed-core-9.0.71.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:779) ~[tomcat-embed-core-9.0.71.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.25.jar:5.3.25]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat java.lang.Thread.run(Thread.java:748) [na:1.8.0_202]\r\n\r\n2023-02-12 09:14:25.243  WARN 30808 --- [nio-9092-exec-8] o.s.web.servlet.PageNotFound             : No mapping for GET /favicon.ico\r\n\r\nim try to run this code in web browser through the link http://localhost:9092/swagger-ui/\r\n\r\n\r\nafter i have error from web brower like below \r\n\r\nWhitelabel Error Page\r\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n\r\nSun Feb 12 09:14:25 IST 2023\r\nThere was an unexpected error (type=Internal Server Error, status=500).","title":"i have problem form swagger implement in spring boot app in java help me","body":"<p>javax.servlet.ServletException: Could not resolve view with name 'forward:/swagger-ui/index.html' in servlet with name 'dispatcherServlet'\nat org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1384) ~[spring-webmvc-5.3.25.jar:5.3.25]\nat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1149) ~[spring-webmvc-5.3.25.jar:5.3.25]\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088) ~[spring-webmvc-5.3.25.jar:5.3.25]\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.25.jar:5.3.25]\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.25.jar:5.3.25]\nat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.25.jar:5.3.25]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:670) ~[tomcat-embed-core-9.0.71.jar:4.0.FR]\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.25.jar:5.3.25]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:779) ~[tomcat-embed-core-9.0.71.jar:4.0.FR]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.71.jar:9.0.71]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.25.jar:5.3.25]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.71.jar:9.0.71]\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.71.jar:9.0.71]\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.71.jar:9.0.71]\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.71.jar:9.0.71]\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.71.jar:9.0.71]\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) [tomcat-embed-core-9.0.71.jar:9.0.71]\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) [tomcat-embed-core-9.0.71.jar:9.0.71]\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.71.jar:9.0.71]\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891) [tomcat-embed-core-9.0.71.jar:9.0.71]\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784) [tomcat-embed-core-9.0.71.jar:9.0.71]\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.71.jar:9.0.71]\nat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.71.jar:9.0.71]\nat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.71.jar:9.0.71]\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.71.jar:9.0.71]\nat java.lang.Thread.run(Thread.java:748) [na:1.8.0_202]</p>\n<p>2023-02-12 09:14:25.243  WARN 30808 --- [nio-9092-exec-8] o.s.web.servlet.PageNotFound             : No mapping for GET /favicon.ico</p>\n<p>im try to run this code in web browser through the link http://localhost:9092/swagger-ui/</p>\n<p>after i have error from web brower like below</p>\n<p>Whitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.</p>\n<p>Sun Feb 12 09:14:25 IST 2023\nThere was an unexpected error (type=Internal Server Error, status=500).</p>\n"},{"tags":["java","gradle","intellij-idea","javafx","intellij-plugin"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1635631286,"post_id":69781812,"comment_id":123348810,"body_markdown":"I can&#39;t reproduce your issue, it works in my environment.","body":"I can&#39;t reproduce your issue, it works in my environment."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1635631611,"post_id":69781812,"comment_id":123348854,"body_markdown":"Here is a [tutorial on locating and finding resources](https://edencoding.com/where-to-put-resource-files-in-javafx/) and some [stackoverflow references](https://stackoverflow.com/questions/19602727/how-to-reference-javafx-fxml-files-in-resource-folder).  It could be that you are just picking up the wrong version of the file somehow (to debug, before loading, get the fxml resource as text and output it to system out to see what its contents are). But you may have some other issue (I use maven for builds not gradle, so I can&#39;t really help you troubleshoot that).","body":"Here is a <a href=\"https://edencoding.com/where-to-put-resource-files-in-javafx/\" rel=\"nofollow noreferrer\">tutorial on locating and finding resources</a> and some <a href=\"https://stackoverflow.com/questions/19602727/how-to-reference-javafx-fxml-files-in-resource-folder\">stackoverflow references</a>.  It could be that you are just picking up the wrong version of the file somehow (to debug, before loading, get the fxml resource as text and output it to system out to see what its contents are). But you may have some other issue (I use maven for builds not gradle, so I can&#39;t really help you troubleshoot that)."},{"owner":{"account_id":1139294,"reputation":159,"user_id":1123641,"accept_rate":0,"display_name":"DuxClarus"},"score":0,"creation_date":1635693333,"post_id":69781812,"comment_id":123357930,"body_markdown":"Thanks for the info; I&#39;ll look into it. My team prefers Maven but Intellij recommends gradle for plugin projects so we are running with that for two reasons. One its their recommendation and two why not try and learn a new tool.","body":"Thanks for the info; I&#39;ll look into it. My team prefers Maven but Intellij recommends gradle for plugin projects so we are running with that for two reasons. One its their recommendation and two why not try and learn a new tool."}],"answers":[{"tags":[],"owner":{"account_id":17645425,"reputation":12764,"user_id":12806961,"display_name":"Code on the Rocks"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676175021,"creation_date":1676175021,"answer_id":75424847,"question_id":69781812,"body_markdown":"I had the same issue and couldn&#39;t figure it out after a few hours of searching.\r\n\r\nEventually i discovered that JavaFX is no longer supported in Intellij: https://blog.jetbrains.com/platform/2020/07/javafx-and-jcef-in-the-intellij-platform/\r\n\r\n","title":"FXMLLoader cannot find JavaFX classes but manual creation of JavaFX creations work","body":"<p>I had the same issue and couldn't figure it out after a few hours of searching.</p>\n<p>Eventually i discovered that JavaFX is no longer supported in Intellij: <a href=\"https://blog.jetbrains.com/platform/2020/07/javafx-and-jcef-in-the-intellij-platform/\" rel=\"nofollow noreferrer\">https://blog.jetbrains.com/platform/2020/07/javafx-and-jcef-in-the-intellij-platform/</a></p>\n"}],"owner":{"account_id":1139294,"reputation":159,"user_id":1123641,"accept_rate":0,"display_name":"DuxClarus"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676175021,"creation_date":1635624868,"question_id":69781812,"body_markdown":"I&#39;m working on a IntelliJ plugin project using Java, JavaFX, and Gradle.\r\n\r\nI can successfully create JavaFX elements programmatically. If I attempt to use fxml files and the FXMLLoader the plugin fails due to javafx.fxml.LoadException: *JavaFX Class* is not a valid type errors. I&#39;m suspicious this is a simple dependency issue with gradle but I&#39;m running in circles at this point. So my main question is why does programmatically building JavaFX classes work but using FXMLLoader does not.\r\n\r\nIf additional information is required I&#39;ll happily share it - just let me know. Below is what I think is relevant. Thanks for any help.\r\n\r\nException message:\r\n```\r\njavafx.fxml.LoadException: HBox is not a valid type.\r\nfile:/D:/Projects/IU-P532-Assignments/FinalProject-Team3/build/idea-sandbox/plugins/p532.fall21.finalproject.team3/lib/p532.fall21.finalproject.team3-1.0-SNAPSHOT.jar!/HeatMapScene.fxml\r\n\r\n\tat javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2621)\r\n\tat javafx.fxml.FXMLLoader.createElement(FXMLLoader.java:2789)\r\n\tat javafx.fxml.FXMLLoader.processStartElement(FXMLLoader.java:2719)\r\n\tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2552)\r\n\tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2466)\r\n\tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3237)\r\n\tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3194)\r\n\tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3163)\r\n\tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3136)\r\n\tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3113)\r\n\tat javafx.fxml.FXMLLoader.load(FXMLLoader.java:3106)\r\n\tat intellij_extension.TestToolWindowFactory.lambda$createToolWindowContent$0(TestToolWindowFactory.java:32)\r\n\tat com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:428)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:427)\r\n\tat com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n\tat com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:174)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n```\r\n\r\nHere&#39;s a snippet of the code:\r\n```\r\n        //Load in the XML of the test window\r\n        // This throws exception\r\n        Parent playRoot = FXMLLoader.load(getClass().getClassLoader().getResource(&quot;HeatMapScene.fxml&quot;));\r\n\r\n        // This will work properly\r\n        Parent playRoot = new HBox();\r\n```\r\n\r\nHere&#39;s the fxml file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n\r\n&lt;?import javafx.scene.layout.FlowPane?&gt;\r\n&lt;?import javafx.scene.layout.HBox?&gt;\r\n&lt;HBox id=&quot;hboxHeatMapSceneRoot&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot;\r\n      prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/8&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\r\n    &lt;children&gt;\r\n        &lt;FlowPane id=&quot;flowPnHeatFileContainer&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;420.0&quot;/&gt;\r\n    &lt;/children&gt;\r\n&lt;/HBox&gt;\r\n```\r\n\r\nHere&#39;s my build.gradle file:\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;org.openjfx.javafxplugin&#39; version &#39;0.0.7&#39;\r\n    id &#39;org.jetbrains.intellij&#39; version &#39;1.2.1&#39;\r\n}\r\n\r\ngroup &#39;p532.fall21.finalproject.team3&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\nsourceCompatibility = 11\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.7.0&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.7.0&#39;\r\n}\r\n\r\n// See https://github.com/JetBrains/gradle-intellij-plugin/\r\nintellij {\r\n    version = &#39;2021.2.3&#39;\r\n}\r\n\r\nrunIde {\r\n    jvmArgs = [\r\n            &#39;--add-exports&#39;,\r\n            &#39;java.base/jdk.internal.vm=ALL-UNNAMED&#39;\r\n    ]\r\n}\r\n\r\npatchPluginXml {\r\n    changeNotes = &quot;&quot;&quot;\r\n      Add change notes here.&lt;br&gt;\r\n      &lt;em&gt;most HTML tags may be used&lt;/em&gt;&quot;&quot;&quot;\r\n}\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n\r\njavafx {\r\n    modules = [&#39;javafx.controls&#39;, &#39;javafx.fxml&#39;]\r\n    version = &#39;11.0.2&#39;\r\n}\r\n\r\n\r\n```","title":"FXMLLoader cannot find JavaFX classes but manual creation of JavaFX creations work","body":"<p>I'm working on a IntelliJ plugin project using Java, JavaFX, and Gradle.</p>\n<p>I can successfully create JavaFX elements programmatically. If I attempt to use fxml files and the FXMLLoader the plugin fails due to javafx.fxml.LoadException: <em>JavaFX Class</em> is not a valid type errors. I'm suspicious this is a simple dependency issue with gradle but I'm running in circles at this point. So my main question is why does programmatically building JavaFX classes work but using FXMLLoader does not.</p>\n<p>If additional information is required I'll happily share it - just let me know. Below is what I think is relevant. Thanks for any help.</p>\n<p>Exception message:</p>\n<pre><code>javafx.fxml.LoadException: HBox is not a valid type.\nfile:/D:/Projects/IU-P532-Assignments/FinalProject-Team3/build/idea-sandbox/plugins/p532.fall21.finalproject.team3/lib/p532.fall21.finalproject.team3-1.0-SNAPSHOT.jar!/HeatMapScene.fxml\n\n    at javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2621)\n    at javafx.fxml.FXMLLoader.createElement(FXMLLoader.java:2789)\n    at javafx.fxml.FXMLLoader.processStartElement(FXMLLoader.java:2719)\n    at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2552)\n    at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2466)\n    at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3237)\n    at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3194)\n    at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3163)\n    at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3136)\n    at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3113)\n    at javafx.fxml.FXMLLoader.load(FXMLLoader.java:3106)\n    at intellij_extension.TestToolWindowFactory.lambda$createToolWindowContent$0(TestToolWindowFactory.java:32)\n    at com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:428)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:427)\n    at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n    at com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:174)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n<p>Here's a snippet of the code:</p>\n<pre><code>        //Load in the XML of the test window\n        // This throws exception\n        Parent playRoot = FXMLLoader.load(getClass().getClassLoader().getResource(&quot;HeatMapScene.fxml&quot;));\n\n        // This will work properly\n        Parent playRoot = new HBox();\n</code></pre>\n<p>Here's the fxml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n\n&lt;?import javafx.scene.layout.FlowPane?&gt;\n&lt;?import javafx.scene.layout.HBox?&gt;\n&lt;HBox id=&quot;hboxHeatMapSceneRoot&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot;\n      prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/8&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\n    &lt;children&gt;\n        &lt;FlowPane id=&quot;flowPnHeatFileContainer&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;420.0&quot;/&gt;\n    &lt;/children&gt;\n&lt;/HBox&gt;\n</code></pre>\n<p>Here's my build.gradle file:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.openjfx.javafxplugin' version '0.0.7'\n    id 'org.jetbrains.intellij' version '1.2.1'\n}\n\ngroup 'p532.fall21.finalproject.team3'\nversion '1.0-SNAPSHOT'\n\nsourceCompatibility = 11\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.7.0'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.7.0'\n}\n\n// See https://github.com/JetBrains/gradle-intellij-plugin/\nintellij {\n    version = '2021.2.3'\n}\n\nrunIde {\n    jvmArgs = [\n            '--add-exports',\n            'java.base/jdk.internal.vm=ALL-UNNAMED'\n    ]\n}\n\npatchPluginXml {\n    changeNotes = &quot;&quot;&quot;\n      Add change notes here.&lt;br&gt;\n      &lt;em&gt;most HTML tags may be used&lt;/em&gt;&quot;&quot;&quot;\n}\ntest {\n    useJUnitPlatform()\n}\n\njavafx {\n    modules = ['javafx.controls', 'javafx.fxml']\n    version = '11.0.2'\n}\n\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":4,"creation_date":1674739279,"post_id":75246699,"comment_id":132780667,"body_markdown":"You can&#39;t Autowire fields in classes that are not spring managed. The TokenUtils class isn&#39;t spring managed, yet you try to autowire configProp","body":"You can&#39;t Autowire fields in classes that are not spring managed. The TokenUtils class isn&#39;t spring managed, yet you try to autowire configProp"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1674741763,"post_id":75246699,"comment_id":132781463,"body_markdown":"no, the moment you instantiate your class as &#39;myClass = new MyClass();&#39; or similar, you are managing the instantiation. You need to let Spring do all of that. It can be done with a constructor, but not being called like that. annotate it as a Service/Component/... and Autowire it where you want to use it as well","body":"no, the moment you instantiate your class as &#39;myClass = new MyClass();&#39; or similar, you are managing the instantiation. You need to let Spring do all of that. It can be done with a constructor, but not being called like that. annotate it as a Service/Component/... and Autowire it where you want to use it as well"},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":1,"creation_date":1674741974,"post_id":75246699,"comment_id":132781541,"body_markdown":"First problem: Spring will not inject (autowire) into static fields.; that wouldn&#39;t make any sense even if it could. Spring beans are *instances* of classes, but static fields are not associated to any one instance. There are some ugly workarounds but better would be to eliminate the use of static fields.","body":"First problem: Spring will not inject (autowire) into static fields.; that wouldn&#39;t make any sense even if it could. Spring beans are <i>instances</i> of classes, but static fields are not associated to any one instance. There are some ugly workarounds but better would be to eliminate the use of static fields."},{"owner":{"account_id":25038172,"reputation":81,"user_id":18895342,"display_name":"LautaroColella"},"score":0,"creation_date":1674742515,"post_id":75246699,"comment_id":132781744,"body_markdown":"@E-Riz if I don&#39;t declare these variables as static I get this error: `Non-static field &#39;jwt_expiration&#39; cannot be referenced from a static context` and if I don&#39;t set the function createToken as static I get a related problem from another class &quot;JWTAuthenticationFitler&quot; wich doesn&#39;t has anything as static `String token = TokenUtils.createToken(userDetails.getName(), userDetails.getUsername());` and I can&#39;t solve that error because the recommendation says that I should make the method createToken static.","body":"@E-Riz if I don&#39;t declare these variables as static I get this error: <code>Non-static field &#39;jwt_expiration&#39; cannot be referenced from a static context</code> and if I don&#39;t set the function createToken as static I get a related problem from another class &quot;JWTAuthenticationFitler&quot; wich doesn&#39;t has anything as static <code>String token = TokenUtils.createToken(userDetails.getName(), userDetails.getUsername());</code> and I can&#39;t solve that error because the recommendation says that I should make the method createToken static."},{"owner":{"account_id":25038172,"reputation":81,"user_id":18895342,"display_name":"LautaroColella"},"score":0,"creation_date":1674743109,"post_id":75246699,"comment_id":132781997,"body_markdown":"@Stultuske please read the answer provided by Sivaram, I attempted to use the annotation `@Component`. If what you&#39;re saying is to use the `@Component` in TokenUtils and then autowire it where I have to use it I don&#39;t see how it would solve the problem, and also my IDE recommends to access it via class reference.","body":"@Stultuske please read the answer provided by Sivaram, I attempted to use the annotation <code>@Component</code>. If what you&#39;re saying is to use the <code>@Component</code> in TokenUtils and then autowire it where I have to use it I don&#39;t see how it would solve the problem, and also my IDE recommends to access it via class reference."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1674743778,"post_id":75246699,"comment_id":132782254,"body_markdown":"&quot;I don&#39;t see how it would solve the problem&quot; you are trying to use Spring dependency injection in a way it can&#39;t work. We suggest you use it the way it is supposed to be used, that&#39;s the difference. if your entire chain is managed by Spring, Spring can actually autowire your fields.","body":"&quot;I don&#39;t see how it would solve the problem&quot; you are trying to use Spring dependency injection in a way it can&#39;t work. We suggest you use it the way it is supposed to be used, that&#39;s the difference. if your entire chain is managed by Spring, Spring can actually autowire your fields."}],"answers":[{"tags":[],"owner":{"account_id":15591403,"reputation":5743,"user_id":12894468,"display_name":"Sivaram Rasathurai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676173543,"creation_date":1674739980,"answer_id":75246831,"question_id":75246699,"body_markdown":"Pass the variables as method params since this class is a static class. I hope you are passing these values from an non-static class. In that class, get the values from application properties as follow.\r\n\r\n```java\r\n@Component\r\npublic class CallerClass{\r\n\r\n    @Value(&quot;${custom.data.jwt.secret}&quot;)\r\n    private String jwt_secret;\r\n    @Value(&quot;${custom.data.jwt.expiration}&quot;)\r\n    private long jwt_expiration;\r\n\r\n  public void validateToken(){\r\n     TokenUtils.isValid(jwt_secret, jwt_expiration);  \r\n  }\r\n\r\n}\r\n\r\npublic static  class TokenUtils{\r\n\r\n   public static boolean isValid(String jwtSecret, long jwtExp){\r\n    //implementation\r\n\r\n   }\r\n   \r\n}\r\n```","title":"Implementing variable from application.properties returns null","body":"<p>Pass the variables as method params since this class is a static class. I hope you are passing these values from an non-static class. In that class, get the values from application properties as follow.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class CallerClass{\n\n    @Value(&quot;${custom.data.jwt.secret}&quot;)\n    private String jwt_secret;\n    @Value(&quot;${custom.data.jwt.expiration}&quot;)\n    private long jwt_expiration;\n\n  public void validateToken(){\n     TokenUtils.isValid(jwt_secret, jwt_expiration);  \n  }\n\n}\n\npublic static  class TokenUtils{\n\n   public static boolean isValid(String jwtSecret, long jwtExp){\n    //implementation\n\n   }\n   \n}\n</code></pre>\n"}],"owner":{"account_id":25038172,"reputation":81,"user_id":18895342,"display_name":"LautaroColella"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1674743031,"accepted_answer_id":75246831,"answer_count":1,"score":-1,"last_activity_date":1676173543,"creation_date":1674739190,"question_id":75246699,"body_markdown":"I need to use the value from two variables that are in *main/resources/application.properties*, both are &quot;custom.data.jwt.secret&quot; and &quot;custom.data.jwt.expiration&quot;, the first contains characters and the second numbers.\r\n\r\nI attempted all 3 of [this answer][1] and did not find other different answers, all return null:\r\n\r\nConfigProperties.java\r\n```\r\npackage com.XX.ZZ.security;\r\n\r\nimport org.springframework.boot.context.properties.ConfigurationProperties;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@ConfigurationProperties(prefix = &quot;custom.data.jwt&quot;)\r\n@Configuration(&quot;JwtData&quot;)\r\npublic class ConfigProperties {\r\n    private String jwt_secret;\r\n    private long jwt_expiration;\r\n\r\n    public String getJwt_secret() {\r\n        return jwt_secret;\r\n    }\r\n\r\n    public void setJwt_secret(String jwt_secret) {\r\n        this.jwt_secret = jwt_secret;\r\n    }\r\n\r\n    public long getJwt_expiration() {\r\n        return jwt_expiration;\r\n    }\r\n\r\n    public void setJwt_expiration(long jwt_expiration) {\r\n        this.jwt_expiration = jwt_expiration;\r\n    }\r\n}\r\n```\r\nTokenUtils.java\r\n```\r\npackage com.XX.ZZ.security;\r\n\r\nimport io.jsonwebtoken.Claims;\r\nimport io.jsonwebtoken.JwtException;\r\nimport io.jsonwebtoken.Jwts;\r\nimport io.jsonwebtoken.security.Keys;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\n\r\nimport java.util.*;\r\n\r\npublic class TokenUtils {\r\n\r\n    @Autowired\r\n    private static ConfigProperties configProp;\r\n\r\n    private static final String jwt_secret = configProp.getJwt_secret();\r\n    private static final long jwt_expiration = configProp.getJwt_expiration();\r\n\r\n    public static String createToken(String name, String email){\r\n        long expirationTime = jwt_expiration * 1000;\r\n        Date expirationDate = new Date(System.currentTimeMillis() + expirationTime);\r\n\r\n        Map&lt;String, Object&gt; extra = new HashMap&lt;&gt;();\r\n        extra.put(&quot;name&quot;, name);\r\n\r\n        return Jwts.builder()\r\n                .setSubject(email)\r\n                .setExpiration(expirationDate)\r\n                .addClaims(extra)\r\n                .signWith(Keys.hmacShaKeyFor(jwt_secret.getBytes()))\r\n                .compact();\r\n    }\r\n\r\n    public static UsernamePasswordAuthenticationToken getAuthentication(String token){\r\n        try {\r\n            Claims claims = Jwts.parserBuilder()\r\n                    .setSigningKey(jwt_secret.getBytes())\r\n                    .build()\r\n                    .parseClaimsJws(token)\r\n                    .getBody();\r\n\r\n            String email = claims.getSubject();\r\n\r\n            return new UsernamePasswordAuthenticationToken(email,null, Collections.emptyList());\r\n        } catch (JwtException e){\r\n            return null;\r\n        }\r\n    }\r\n}\r\n```\r\nError: `java.lang.NullPointerException: Cannot invoke &quot;com.XX.ZZ.security.ConfigProperties.getJwt_secret()&quot; because &quot;com.XX.ZZ.security.TokenUtils.configProp&quot; is null`\r\n\r\n---\r\nConfigProperties.java\r\n```\r\npackage com.XX.ZZ.security;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.PropertySource;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.core.env.Environment;\r\n\r\n@Component\r\n@PropertySource(&quot;classpath:application.properties&quot;)\r\npublic class ConfigProperties {\r\n\r\n    @Autowired\r\n    private Environment env;\r\n\r\n    public String getConfigValue(String configKey){\r\n        return env.getProperty(configKey);\r\n    }\r\n}\r\n```\r\nTokenUtils.java\r\n```\r\npackage com.XX.ZZ.security;\r\n\r\nimport io.jsonwebtoken.Claims;\r\nimport io.jsonwebtoken.JwtException;\r\nimport io.jsonwebtoken.Jwts;\r\nimport io.jsonwebtoken.security.Keys;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\n\r\nimport java.util.*;\r\n\r\npublic class TokenUtils {\r\n\r\n    @Autowired\r\n    private static ConfigProperties configProp;\r\n\r\n    private static final Long jwt_expiration = Long.valueOf(configProp.getConfigValue(&quot;custom.data.jwt.expiration&quot;));\r\n    private static final String jwt_secret = configProp.getConfigValue(&quot;custom.data.jwt.secret&quot;);\r\n\r\n    // same code as the first attempt\r\n}\r\n```\r\nError: `java.lang.NullPointerException: Cannot invoke &quot;com.XX.ZZ.security.ConfigProperties.getConfigValue(String)&quot; because &quot;com.XX.ZZ.security.TokenUtils.configProp&quot; is null`\r\n\r\n---\r\n\r\nTokenUtils.java\r\n```\r\npackage com.XX.ZZ.security;\r\n\r\nimport io.jsonwebtoken.Claims;\r\nimport io.jsonwebtoken.JwtException;\r\nimport io.jsonwebtoken.Jwts;\r\nimport io.jsonwebtoken.security.Keys;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\n\r\nimport java.util.*;\r\n\r\npublic class TokenUtils {\r\n\r\n    @Value(&quot;${custom.data.jwt.secret}&quot;)\r\n    private static String jwt_secret;\r\n    @Value(&quot;${custom.data.jwt.expiration}&quot;)\r\n    private static long jwt_expiration;\r\n\r\n    // same code as the first attempt\r\n}\r\n```\r\nError: `java.lang.NullPointerException: Cannot invoke &quot;String.getBytes()&quot; because &quot;com.XX.ZZ.security.TokenUtils.jwt_secret&quot; is null`\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/58097643/18895342","title":"Implementing variable from application.properties returns null","body":"<p>I need to use the value from two variables that are in <em>main/resources/application.properties</em>, both are &quot;custom.data.jwt.secret&quot; and &quot;custom.data.jwt.expiration&quot;, the first contains characters and the second numbers.</p>\n<p>I attempted all 3 of <a href=\"https://stackoverflow.com/a/58097643/18895342\">this answer</a> and did not find other different answers, all return null:</p>\n<p>ConfigProperties.java</p>\n<pre><code>package com.XX.ZZ.security;\n\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.context.annotation.Configuration;\n\n@ConfigurationProperties(prefix = &quot;custom.data.jwt&quot;)\n@Configuration(&quot;JwtData&quot;)\npublic class ConfigProperties {\n    private String jwt_secret;\n    private long jwt_expiration;\n\n    public String getJwt_secret() {\n        return jwt_secret;\n    }\n\n    public void setJwt_secret(String jwt_secret) {\n        this.jwt_secret = jwt_secret;\n    }\n\n    public long getJwt_expiration() {\n        return jwt_expiration;\n    }\n\n    public void setJwt_expiration(long jwt_expiration) {\n        this.jwt_expiration = jwt_expiration;\n    }\n}\n</code></pre>\n<p>TokenUtils.java</p>\n<pre><code>package com.XX.ZZ.security;\n\nimport io.jsonwebtoken.Claims;\nimport io.jsonwebtoken.JwtException;\nimport io.jsonwebtoken.Jwts;\nimport io.jsonwebtoken.security.Keys;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\n\nimport java.util.*;\n\npublic class TokenUtils {\n\n    @Autowired\n    private static ConfigProperties configProp;\n\n    private static final String jwt_secret = configProp.getJwt_secret();\n    private static final long jwt_expiration = configProp.getJwt_expiration();\n\n    public static String createToken(String name, String email){\n        long expirationTime = jwt_expiration * 1000;\n        Date expirationDate = new Date(System.currentTimeMillis() + expirationTime);\n\n        Map&lt;String, Object&gt; extra = new HashMap&lt;&gt;();\n        extra.put(&quot;name&quot;, name);\n\n        return Jwts.builder()\n                .setSubject(email)\n                .setExpiration(expirationDate)\n                .addClaims(extra)\n                .signWith(Keys.hmacShaKeyFor(jwt_secret.getBytes()))\n                .compact();\n    }\n\n    public static UsernamePasswordAuthenticationToken getAuthentication(String token){\n        try {\n            Claims claims = Jwts.parserBuilder()\n                    .setSigningKey(jwt_secret.getBytes())\n                    .build()\n                    .parseClaimsJws(token)\n                    .getBody();\n\n            String email = claims.getSubject();\n\n            return new UsernamePasswordAuthenticationToken(email,null, Collections.emptyList());\n        } catch (JwtException e){\n            return null;\n        }\n    }\n}\n</code></pre>\n<p>Error: <code>java.lang.NullPointerException: Cannot invoke &quot;com.XX.ZZ.security.ConfigProperties.getJwt_secret()&quot; because &quot;com.XX.ZZ.security.TokenUtils.configProp&quot; is null</code></p>\n<hr />\n<p>ConfigProperties.java</p>\n<pre><code>package com.XX.ZZ.security;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.PropertySource;\nimport org.springframework.stereotype.Component;\nimport org.springframework.core.env.Environment;\n\n@Component\n@PropertySource(&quot;classpath:application.properties&quot;)\npublic class ConfigProperties {\n\n    @Autowired\n    private Environment env;\n\n    public String getConfigValue(String configKey){\n        return env.getProperty(configKey);\n    }\n}\n</code></pre>\n<p>TokenUtils.java</p>\n<pre><code>package com.XX.ZZ.security;\n\nimport io.jsonwebtoken.Claims;\nimport io.jsonwebtoken.JwtException;\nimport io.jsonwebtoken.Jwts;\nimport io.jsonwebtoken.security.Keys;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\n\nimport java.util.*;\n\npublic class TokenUtils {\n\n    @Autowired\n    private static ConfigProperties configProp;\n\n    private static final Long jwt_expiration = Long.valueOf(configProp.getConfigValue(&quot;custom.data.jwt.expiration&quot;));\n    private static final String jwt_secret = configProp.getConfigValue(&quot;custom.data.jwt.secret&quot;);\n\n    // same code as the first attempt\n}\n</code></pre>\n<p>Error: <code>java.lang.NullPointerException: Cannot invoke &quot;com.XX.ZZ.security.ConfigProperties.getConfigValue(String)&quot; because &quot;com.XX.ZZ.security.TokenUtils.configProp&quot; is null</code></p>\n<hr />\n<p>TokenUtils.java</p>\n<pre><code>package com.XX.ZZ.security;\n\nimport io.jsonwebtoken.Claims;\nimport io.jsonwebtoken.JwtException;\nimport io.jsonwebtoken.Jwts;\nimport io.jsonwebtoken.security.Keys;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\n\nimport java.util.*;\n\npublic class TokenUtils {\n\n    @Value(&quot;${custom.data.jwt.secret}&quot;)\n    private static String jwt_secret;\n    @Value(&quot;${custom.data.jwt.expiration}&quot;)\n    private static long jwt_expiration;\n\n    // same code as the first attempt\n}\n</code></pre>\n<p>Error: <code>java.lang.NullPointerException: Cannot invoke &quot;String.getBytes()&quot; because &quot;com.XX.ZZ.security.TokenUtils.jwt_secret&quot; is null</code></p>\n"},{"tags":["javascript","java","node.js","debugging","integration"],"owner":{"account_id":13904734,"reputation":21,"user_id":11751763,"display_name":"jeferson lemos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676172213,"creation_date":1676172213,"question_id":75424721,"body_markdown":"I am writing a minimal package for doing flexible search on different kinds of documents, using flexsearch and Apache Tika, and I had choose to write it on nodejs. Apache Tika is originally written in Java, so for doing the integration I used the nodejs packages &quot;node-java-maven&quot; and &quot;java-bridge&quot;, which mostly I had not problem with.\r\n\r\nthe problem I am having is on getting the 38th line of my package&#39;s &quot;index.js&quot; file to work, which would import Apache Tika in a variable:\r\n\r\n    const parser = java.importClass(&#39;org.apache.tika.parser&#39;);\r\n\r\nright now my &quot;index.js&quot; is rewritten for debug purposes:\r\n\r\n```\r\n&quot;use strict&quot;;\r\n\r\nconst mvn = require(&quot;node-java-maven&quot;);\r\n\r\nconst java = require(&quot;java-bridge&quot;);\r\n\r\nfunction exec_debug(result) {\r\n    console.log(`classpath debug: ${result}`);\r\n}\r\n\r\nfunction error_exec_debug() {\r\n    console.log(&quot;error on classpath debug&quot;);\r\n}\r\n\r\nmvn(function(err, mvnResults) {\r\n    if (err) {\r\n        return console.error(&quot;could not resolve maven dependencies&quot;, err);\r\n    }\r\n    mvnResults.classpath.forEach(function(c) {\r\n        console.log(&quot;really adding &quot; + c + &quot; to classpath? more testing ahead&quot;);\r\n        java.classpath.append(c);\r\n    });\r\n});\r\n/*.then(function(){ // why it does not work?\r\n    console.log(&quot;waited&quot;);\r\n  });*/\r\n//var classpath_values = (java_string(classpath)).split(java_file.pathSeparator); // ignore\r\n/*for (let i in classpath_values){ // ignore\r\n    console.log(&quot;more classpath test: &quot;+i);\r\n}*/\r\n\r\nconst searchFile = (file, search) =&gt; {\r\n    const java_file = java.importClass(&quot;java.io.File&quot;);\r\n    const java_system = java.importClass(&quot;java.lang.System&quot;);\r\n    const java_string = java.importClass(&quot;java.lang.String&quot;);\r\n    var classpath = java_system.getProperty(&quot;java.class.path&quot;);\r\n    console.log(&quot;that testing ahead: &quot; + classpath.then(exec_debug, error_exec_debug));\r\n    //const parser = java.importClass(&#39;org.apache.tika.parser&#39;);\r\n    // all code bellow using Tika was considering &quot;node-tika&quot; package, that I decided to avoid\r\n    // in favour of running Tika on java directly, it is there just for future refference\r\n    //var Tika = require(&#39;node-tika&#39;);\r\n    //var conversor = new Tika();\r\n    //var Search_OP = require(&quot;flexsearch&quot;);\r\n    //var search_index = new Search_OP.Index();\r\n    //file = ( conversor.text(file,null, function(err, text) { return text; }) );\r\n    /*var parser = conversor.parse(file);\r\n        parser.on(&#39;text&#39;, function(data) {\r\n                file = data;\r\n        });*/\r\n    //search_index.add(file);\r\n    //return search_index.search(search);\r\n    return &quot;I should be the last output&quot;;\r\n};\r\n\r\nmodule.exports = {\r\n    searchFile: searchFile\r\n};\r\n\r\nvar file = process.argv[1];\r\n\r\nvar search = process.argv[2];\r\n\r\nconsole.log(searchFile(file, search));\r\n```\r\n\r\nand that is my package.json, pay attention to the last lines with the java dependencies:\r\n\r\n```\r\n{\r\n  &quot;name&quot;: &quot;doc_search&quot;,\r\n  &quot;version&quot;: &quot;0.0.1&quot;,\r\n  &quot;description&quot;: &quot;flexible search on many types of documents&quot;,\r\n  &quot;main&quot;: &quot;index.js&quot;,\r\n  &quot;scripts&quot;: {\r\n    &quot;test&quot;: &quot;test&quot;\r\n  },\r\n  &quot;keywords&quot;: [\r\n    &quot;search&quot;,\r\n    &quot;documents&quot;\r\n  ],\r\n  &quot;author&quot;: &quot;jeferson&quot;,\r\n  &quot;license&quot;: &quot;ISC&quot;,\r\n  &quot;dependencies&quot;: {\r\n    &quot;flexsearch&quot;: &quot;^0.7.31&quot;,\r\n    &quot;java-bridge&quot;: &quot;^2.2.2&quot;,\r\n    &quot;node-java-maven&quot;: &quot;^0.1.2&quot;,\r\n    &quot;node-tika&quot;: &quot;^0.0.1&quot;\r\n  },\r\n  &quot;java&quot;: {\r\n    &quot;dependencies&quot;: [\r\n      {\r\n        &quot;groupId&quot;: &quot;org.apache.tika&quot;,\r\n        &quot;artifactId&quot;: &quot;tika&quot;,\r\n        &quot;version&quot;: &quot;2.7.0&quot;\r\n      },\r\n      {\r\n        &quot;groupId&quot;: &quot;org.apache.tika&quot;,\r\n        &quot;artifactId&quot;: &quot;tika-core&quot;,\r\n        &quot;version&quot;: &quot;2.7.0&quot;\r\n      },\r\n      {\r\n        &quot;groupId&quot;: &quot;org.apache.tika&quot;,\r\n        &quot;artifactId&quot;: &quot;tika-parsers&quot;,\r\n        &quot;version&quot;: &quot;2.7.0&quot;\r\n      }\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\nbring the java dependencies with\r\n\r\n    ./node_modules/.bin/node-java-maven\r\n\r\nsome problems I found that may be causing it are the execution order or the classpath not being actually included, though I think the root of the problem really is the order of execution. Somethings I have tried are to use await at different parts of the code, though I ended not finding some async execution with it, and moving the sequence of code related to Apache Tika to different parts of the code, but the execution did still seem strange. I am suspecting of the execution order because of the outputs I am using, it seems that some non linear execution is causing the import of &quot;org.apache.tika&quot; to happen before the jar that contains it to be included on the classpath. If I am really being able to add it, then I have doubt if I am not handling &quot;object promises&quot; correctly, for my logging and debug purposes, or if my classpath is really null.","title":"how can I successfuly use &quot;org.apache.tika&quot; on this nodejs package?","body":"<p>I am writing a minimal package for doing flexible search on different kinds of documents, using flexsearch and Apache Tika, and I had choose to write it on nodejs. Apache Tika is originally written in Java, so for doing the integration I used the nodejs packages &quot;node-java-maven&quot; and &quot;java-bridge&quot;, which mostly I had not problem with.</p>\n<p>the problem I am having is on getting the 38th line of my package's &quot;index.js&quot; file to work, which would import Apache Tika in a variable:</p>\n<pre><code>const parser = java.importClass('org.apache.tika.parser');\n</code></pre>\n<p>right now my &quot;index.js&quot; is rewritten for debug purposes:</p>\n<pre><code>&quot;use strict&quot;;\n\nconst mvn = require(&quot;node-java-maven&quot;);\n\nconst java = require(&quot;java-bridge&quot;);\n\nfunction exec_debug(result) {\n    console.log(`classpath debug: ${result}`);\n}\n\nfunction error_exec_debug() {\n    console.log(&quot;error on classpath debug&quot;);\n}\n\nmvn(function(err, mvnResults) {\n    if (err) {\n        return console.error(&quot;could not resolve maven dependencies&quot;, err);\n    }\n    mvnResults.classpath.forEach(function(c) {\n        console.log(&quot;really adding &quot; + c + &quot; to classpath? more testing ahead&quot;);\n        java.classpath.append(c);\n    });\n});\n/*.then(function(){ // why it does not work?\n    console.log(&quot;waited&quot;);\n  });*/\n//var classpath_values = (java_string(classpath)).split(java_file.pathSeparator); // ignore\n/*for (let i in classpath_values){ // ignore\n    console.log(&quot;more classpath test: &quot;+i);\n}*/\n\nconst searchFile = (file, search) =&gt; {\n    const java_file = java.importClass(&quot;java.io.File&quot;);\n    const java_system = java.importClass(&quot;java.lang.System&quot;);\n    const java_string = java.importClass(&quot;java.lang.String&quot;);\n    var classpath = java_system.getProperty(&quot;java.class.path&quot;);\n    console.log(&quot;that testing ahead: &quot; + classpath.then(exec_debug, error_exec_debug));\n    //const parser = java.importClass('org.apache.tika.parser');\n    // all code bellow using Tika was considering &quot;node-tika&quot; package, that I decided to avoid\n    // in favour of running Tika on java directly, it is there just for future refference\n    //var Tika = require('node-tika');\n    //var conversor = new Tika();\n    //var Search_OP = require(&quot;flexsearch&quot;);\n    //var search_index = new Search_OP.Index();\n    //file = ( conversor.text(file,null, function(err, text) { return text; }) );\n    /*var parser = conversor.parse(file);\n        parser.on('text', function(data) {\n                file = data;\n        });*/\n    //search_index.add(file);\n    //return search_index.search(search);\n    return &quot;I should be the last output&quot;;\n};\n\nmodule.exports = {\n    searchFile: searchFile\n};\n\nvar file = process.argv[1];\n\nvar search = process.argv[2];\n\nconsole.log(searchFile(file, search));\n</code></pre>\n<p>and that is my package.json, pay attention to the last lines with the java dependencies:</p>\n<pre><code>{\n  &quot;name&quot;: &quot;doc_search&quot;,\n  &quot;version&quot;: &quot;0.0.1&quot;,\n  &quot;description&quot;: &quot;flexible search on many types of documents&quot;,\n  &quot;main&quot;: &quot;index.js&quot;,\n  &quot;scripts&quot;: {\n    &quot;test&quot;: &quot;test&quot;\n  },\n  &quot;keywords&quot;: [\n    &quot;search&quot;,\n    &quot;documents&quot;\n  ],\n  &quot;author&quot;: &quot;jeferson&quot;,\n  &quot;license&quot;: &quot;ISC&quot;,\n  &quot;dependencies&quot;: {\n    &quot;flexsearch&quot;: &quot;^0.7.31&quot;,\n    &quot;java-bridge&quot;: &quot;^2.2.2&quot;,\n    &quot;node-java-maven&quot;: &quot;^0.1.2&quot;,\n    &quot;node-tika&quot;: &quot;^0.0.1&quot;\n  },\n  &quot;java&quot;: {\n    &quot;dependencies&quot;: [\n      {\n        &quot;groupId&quot;: &quot;org.apache.tika&quot;,\n        &quot;artifactId&quot;: &quot;tika&quot;,\n        &quot;version&quot;: &quot;2.7.0&quot;\n      },\n      {\n        &quot;groupId&quot;: &quot;org.apache.tika&quot;,\n        &quot;artifactId&quot;: &quot;tika-core&quot;,\n        &quot;version&quot;: &quot;2.7.0&quot;\n      },\n      {\n        &quot;groupId&quot;: &quot;org.apache.tika&quot;,\n        &quot;artifactId&quot;: &quot;tika-parsers&quot;,\n        &quot;version&quot;: &quot;2.7.0&quot;\n      }\n    ]\n  }\n}\n</code></pre>\n<p>bring the java dependencies with</p>\n<pre><code>./node_modules/.bin/node-java-maven\n</code></pre>\n<p>some problems I found that may be causing it are the execution order or the classpath not being actually included, though I think the root of the problem really is the order of execution. Somethings I have tried are to use await at different parts of the code, though I ended not finding some async execution with it, and moving the sequence of code related to Apache Tika to different parts of the code, but the execution did still seem strange. I am suspecting of the execution order because of the outputs I am using, it seems that some non linear execution is causing the import of &quot;org.apache.tika&quot; to happen before the jar that contains it to be included on the classpath. If I am really being able to add it, then I have doubt if I am not handling &quot;object promises&quot; correctly, for my logging and debug purposes, or if my classpath is really null.</p>\n"},{"tags":["java","url","inputstream","yahoo-api","yahoo-finance"],"comments":[{"owner":{"account_id":9165235,"reputation":15414,"user_id":6815131,"display_name":"Joe C"},"score":0,"creation_date":1492668852,"post_id":43511553,"comment_id":74076946,"body_markdown":"May I suggest you use a tool such as Wireshark to see the actual communication between you and Yahoo!.","body":"May I suggest you use a tool such as Wireshark to see the actual communication between you and Yahoo!."}],"answers":[{"tags":[],"owner":{"account_id":9769139,"reputation":397,"user_id":7241652,"display_name":"Durlabh Sharma"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1492669609,"creation_date":1492669609,"answer_id":43511797,"question_id":43511553,"body_markdown":"Try executing this code from some other network. That&#39;ll give you clarity whether Yahoo has blocked automated downloading or only blacklisted the network you&#39;re using.","title":"Yahoo Finance API Java Download CSV","body":"<p>Try executing this code from some other network. That'll give you clarity whether Yahoo has blocked automated downloading or only blacklisted the network you're using.</p>\n"},{"tags":[],"owner":{"account_id":1426585,"reputation":2315,"user_id":1349927,"accept_rate":62,"display_name":"tak3shi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1492670547,"creation_date":1492670547,"answer_id":43512064,"question_id":43511553,"body_markdown":"Many Websites are checking for a User Agent String and block acess if no String has been sent to block automated access. \r\n\r\nThis is an example how you can add the user agent string:\r\n\r\n        URL url = new URL(&quot;http://ichart.yahoo.com/table.csv?s=MSFT&quot;);\r\n        URLConnection hc = url.openConnection();\r\n        hc.setRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Windows NT 4.10; rv:52.0) Gecko/20100101 Firefox/52.0&quot;);\r\n","title":"Yahoo Finance API Java Download CSV","body":"<p>Many Websites are checking for a User Agent String and block acess if no String has been sent to block automated access. </p>\n\n<p>This is an example how you can add the user agent string:</p>\n\n<pre><code>    URL url = new URL(\"http://ichart.yahoo.com/table.csv?s=MSFT\");\n    URLConnection hc = url.openConnection();\n    hc.setRequestProperty(\"User-Agent\", \"Mozilla/5.0 (Windows NT 4.10; rv:52.0) Gecko/20100101 Firefox/52.0\");\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user974465"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1493025569,"creation_date":1492993460,"answer_id":43577989,"question_id":43511553,"body_markdown":"To understand the reason the java communication doesn&#39;t work, track the html communication.  I used Chrome browser, with HTTP trace extension enabled.  The trace output shows that the link\r\nhttp://ichart.yahoo.com/table.csv?s=^GSPC\r\nredirects to \r\nhttps://ichart.yahoo.com/table.csv?s=^GSPC.  \r\n\r\nIn Java, you need to implement a URL connection to follow the redirect.  An example of following the redirect is at http://www.mkyong.com/java/java-httpurlconnection-follow-redirect-example/.  Modify the example by passing your url string, and you should get the expected output.","title":"Yahoo Finance API Java Download CSV","body":"<p>To understand the reason the java communication doesn't work, track the html communication.  I used Chrome browser, with HTTP trace extension enabled.  The trace output shows that the link\n<a href=\"http://ichart.yahoo.com/table.csv?s=\" rel=\"nofollow noreferrer\">http://ichart.yahoo.com/table.csv?s=</a>^GSPC\nredirects to \n<a href=\"https://ichart.yahoo.com/table.csv?s=\" rel=\"nofollow noreferrer\">https://ichart.yahoo.com/table.csv?s=</a>^GSPC.  </p>\n\n<p>In Java, you need to implement a URL connection to follow the redirect.  An example of following the redirect is at <a href=\"http://www.mkyong.com/java/java-httpurlconnection-follow-redirect-example/\" rel=\"nofollow noreferrer\">http://www.mkyong.com/java/java-httpurlconnection-follow-redirect-example/</a>.  Modify the example by passing your url string, and you should get the expected output.</p>\n"},{"tags":[],"owner":{"account_id":7480468,"reputation":36,"user_id":5685329,"display_name":"Nagarajan Selvaraj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1493154771,"creation_date":1493154771,"answer_id":43621060,"question_id":43511553,"body_markdown":"You can change the URL from &quot;http&quot; to &quot;https&quot; which works without any issues.","title":"Yahoo Finance API Java Download CSV","body":"<p>You can change the URL from \"http\" to \"https\" which works without any issues.</p>\n"},{"tags":[],"owner":{"account_id":16626208,"reputation":11,"user_id":12015254,"display_name":"BRAHMA TRILOK"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595613751,"creation_date":1595184603,"answer_id":62984362,"question_id":43511553,"body_markdown":"1. This is a java code to download the historical stocks data from yahoo finance.\r\n2. here I have taken the required date parameters and set them in a Calender Object, then this object is converted to period object  this object is passed to the function where it will be converted to UNIX timestamp and then that value is appended to the link \r\n3. I have created a url object and that will get the csv file of the historical data for the required ticker value which is read using the input stream reader and them it is displayed on the console.   \r\n  \r\n        public class demo {\r\n\t    public static void main(String[] args) throws IOException, ParseException {\r\n\t\t\r\n\t\tfinal String SYM = &quot;TSLA&quot;;\r\n\t\tCalendar cal = Calendar.getInstance();\r\n\t\tCalendar cal1 = Calendar.getInstance();\r\n\t\tcal.set(Calendar.YEAR, 2019);\r\n\t\tcal.set(Calendar.MONTH, Calendar.JULY);\r\n\t\tcal.set(Calendar.DAY_OF_MONTH, 16);\r\n\t\t\r\n\t\tDate period1 = datechange(cal);\r\n\t\tcal1.set(Calendar.YEAR, 2019);\r\n\t\tcal1.set(Calendar.MONTH, Calendar.JULY);\r\n\t\tcal1.set(Calendar.DAY_OF_MONTH, 23);\r\n\t\tDate period2 = datechange(cal1);\r\n\t\t\r\n\t\tString interval=&quot;1d&quot;;\r\n\t\t  \r\n\t    long strDate = (period1.getTime());\r\n\t    strDate= strDate/1000;\r\n\t    long strDate1 = (period2.getTime());\r\n\t    strDate1= strDate1/1000;\r\n\t\t//System.out.println(strDate+&quot; &quot;+strDate1+&quot;     ans&quot;);\r\n\t\tString link=&quot;https://query1.finance.yahoo.com/v7/finance/download/&quot;+SYM+&quot;?period1=&quot;+strDate+&quot;&amp;period2=&quot;+strDate1+&quot;&amp;interval=&quot;+interval+&quot;&amp;events=history&quot;;\r\n\r\n\t\tURL url = new URL(link);\r\n\t\tURLConnection urlConn = url.openConnection();\r\n\t\tInputStreamReader inStream = new InputStreamReader(urlConn.getInputStream());\r\n\t\tBufferedReader buf = new BufferedReader(inStream);\r\n\t\t\r\n\t\t\r\n\t\tString line =buf.readLine();\r\n\t\twhile(line != null) {\r\n\t\t\tSystem.out.println(line);\r\n\t\t\tline=buf.readLine();\r\n\t\t}\r\n\t    }\r\n\t\r\n\t    public static Date datechange(Calendar cal) throws ParseException {\r\n\t\tDate dateOne =cal.getTime();\r\n\t\t//boolean date1904 = true;\r\n\t\t//double ans =DateUtil.getExcelDate(cal,date1904);\r\n\t\t\r\n\t\tString a = dateOne.toString();\r\n\t\tString b[] = a.split(&quot; &quot;);\r\n\t\tString c = b[1]+&quot; &quot;+b[2]+&quot; &quot;+b[5];\r\n\t\tSimpleDateFormat sdf = new SimpleDateFormat(&quot;MMM dd yyyy&quot;, \r\n        Locale.ENGLISH);\r\n\t\tsdf.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n\t\tcal.setTime(sdf.parse(c));\r\n\t\tdateOne=cal.getTime();\r\n\t\tsdf.format(dateOne);\r\n\t\treturn dateOne;\r\n\t\t\r\n\t    }\r\n\t\r\n\t\r\n        }","title":"Yahoo Finance API Java Download CSV","body":"<ol>\n<li><p>This is a java code to download the historical stocks data from yahoo finance.</p>\n</li>\n<li><p>here I have taken the required date parameters and set them in a Calender Object, then this object is converted to period object  this object is passed to the function where it will be converted to UNIX timestamp and then that value is appended to the link</p>\n</li>\n<li><p>I have created a url object and that will get the csv file of the historical data for the required ticker value which is read using the input stream reader and them it is displayed on the console.</p>\n<pre><code> public class demo {\n public static void main(String[] args) throws IOException, ParseException {\n\n final String SYM = &quot;TSLA&quot;;\n Calendar cal = Calendar.getInstance();\n Calendar cal1 = Calendar.getInstance();\n cal.set(Calendar.YEAR, 2019);\n cal.set(Calendar.MONTH, Calendar.JULY);\n cal.set(Calendar.DAY_OF_MONTH, 16);\n\n Date period1 = datechange(cal);\n cal1.set(Calendar.YEAR, 2019);\n cal1.set(Calendar.MONTH, Calendar.JULY);\n cal1.set(Calendar.DAY_OF_MONTH, 23);\n Date period2 = datechange(cal1);\n\n String interval=&quot;1d&quot;;\n\n long strDate = (period1.getTime());\n strDate= strDate/1000;\n long strDate1 = (period2.getTime());\n strDate1= strDate1/1000;\n //System.out.println(strDate+&quot; &quot;+strDate1+&quot;     ans&quot;);\n String link=&quot;https://query1.finance.yahoo.com/v7/finance/download/&quot;+SYM+&quot;?period1=&quot;+strDate+&quot;&amp;period2=&quot;+strDate1+&quot;&amp;interval=&quot;+interval+&quot;&amp;events=history&quot;;\n\n URL url = new URL(link);\n URLConnection urlConn = url.openConnection();\n InputStreamReader inStream = new InputStreamReader(urlConn.getInputStream());\n BufferedReader buf = new BufferedReader(inStream);\n\n\n String line =buf.readLine();\n while(line != null) {\n     System.out.println(line);\n     line=buf.readLine();\n }\n }\n\n public static Date datechange(Calendar cal) throws ParseException {\n Date dateOne =cal.getTime();\n //boolean date1904 = true;\n //double ans =DateUtil.getExcelDate(cal,date1904);\n\n String a = dateOne.toString();\n String b[] = a.split(&quot; &quot;);\n String c = b[1]+&quot; &quot;+b[2]+&quot; &quot;+b[5];\n SimpleDateFormat sdf = new SimpleDateFormat(&quot;MMM dd yyyy&quot;, \n Locale.ENGLISH);\n sdf.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));\n cal.setTime(sdf.parse(c));\n dateOne=cal.getTime();\n sdf.format(dateOne);\n return dateOne;\n\n }\n\n\n }\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":15050906,"reputation":11,"user_id":10862647,"display_name":"Arsen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676171740,"creation_date":1676171565,"answer_id":75424686,"question_id":43511553,"body_markdown":"\r\nThere is yahoofinance library\r\n```\r\nimplementation group: &#39;com.yahoofinance-api&#39;, name: &#39;YahooFinanceAPI&#39;, version: &#39;3.17.0&#39;\r\n```\r\n\r\n```\r\nimport java.io.IOException;\r\nimport java.util.Calendar;\r\nimport java.util.List;\r\n\r\nimport yahoofinance.Stock;\r\nimport yahoofinance.YahooFinance;\r\nimport yahoofinance.histquotes.HistoricalQuote;\r\nimport yahoofinance.histquotes.Interval;\r\n\r\npublic class GetQuotes {\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\tCalendar from = Calendar.getInstance();\r\n\t\tCalendar to = Calendar.getInstance();\r\n\t\tfrom.add(Calendar.YEAR, -5); // from 5 years ago\r\n\t\t \r\n\t\tStock google = YahooFinance.get(&quot;ENB.TO&quot;);\r\n\t\tList&lt;HistoricalQuote&gt; data = google.getHistory(from, to, Interval.DAILY);\r\n\t\t\r\n\t\tdata.forEach(t -&gt; { \r\n\t\t\tSystem.out.println(t.getOpen() + &quot;  &quot; + t.getClose());\r\n\t\t});\r\n\t}\r\n}\r\n```","title":"Yahoo Finance API Java Download CSV","body":"<p>There is yahoofinance library</p>\n<pre><code>implementation group: 'com.yahoofinance-api', name: 'YahooFinanceAPI', version: '3.17.0'\n</code></pre>\n<pre><code>import java.io.IOException;\nimport java.util.Calendar;\nimport java.util.List;\n\nimport yahoofinance.Stock;\nimport yahoofinance.YahooFinance;\nimport yahoofinance.histquotes.HistoricalQuote;\nimport yahoofinance.histquotes.Interval;\n\npublic class GetQuotes {\n\n    public static void main(String[] args) throws IOException {\n        Calendar from = Calendar.getInstance();\n        Calendar to = Calendar.getInstance();\n        from.add(Calendar.YEAR, -5); // from 5 years ago\n         \n        Stock google = YahooFinance.get(&quot;ENB.TO&quot;);\n        List&lt;HistoricalQuote&gt; data = google.getHistory(from, to, Interval.DAILY);\n        \n        data.forEach(t -&gt; { \n            System.out.println(t.getOpen() + &quot;  &quot; + t.getClose());\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3726872,"reputation":641,"user_id":3100538,"accept_rate":59,"display_name":"PentiumPro200"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4459,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":43621060,"answer_count":6,"score":1,"last_activity_date":1676171740,"creation_date":1492668765,"question_id":43511553,"body_markdown":"I have been using the Yahoo Finance &quot;API&quot; with the code below for a few weeks.  Since about a week ago, it stopped working.  If you type in this address: http://ichart.yahoo.com/table.csv?s=MSFT, you&#39;ll get some historical data for Microsoft (my browser automatically downloads it).  However, when I try to read it through Java, the stream is apparently opened (I don&#39;t get an exception), however, the stream contains no data.  Anyone know why the buffered reader below is not able to stream the object as it had been able to do in previous weeks?  I suspect that maybe Yahoo added some java script to block automated downloading.\r\n\r\n    URL url = new URL(&quot;http://ichart.yahoo.com/table.csv?s=&quot; + symbol);\r\n\tURLConnection hc = url.openConnection();\r\n\thc.setRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Windows NT 4.10; rv:52.0) Gecko/20100101 Firefox/52.0&quot;);\r\n\tBufferedReader in = new BufferedReader(new InputStreamReader(hc.getInputStream()));\r\n\t\tbr.readLine();\r\n\t\t//Read File Line By Line\r\n\t\tString strLine;\r\n\t\twhile ((strLine = br.readLine()) != null) {\r\n\t\t\tSystem.out.println(strLine);\r\n\t\t}\r\n\t\tbr.close();","title":"Yahoo Finance API Java Download CSV","body":"<p>I have been using the Yahoo Finance \"API\" with the code below for a few weeks.  Since about a week ago, it stopped working.  If you type in this address: <a href=\"http://ichart.yahoo.com/table.csv?s=MSFT\" rel=\"nofollow noreferrer\">http://ichart.yahoo.com/table.csv?s=MSFT</a>, you'll get some historical data for Microsoft (my browser automatically downloads it).  However, when I try to read it through Java, the stream is apparently opened (I don't get an exception), however, the stream contains no data.  Anyone know why the buffered reader below is not able to stream the object as it had been able to do in previous weeks?  I suspect that maybe Yahoo added some java script to block automated downloading.</p>\n\n<pre><code>URL url = new URL(\"http://ichart.yahoo.com/table.csv?s=\" + symbol);\nURLConnection hc = url.openConnection();\nhc.setRequestProperty(\"User-Agent\", \"Mozilla/5.0 (Windows NT 4.10; rv:52.0) Gecko/20100101 Firefox/52.0\");\nBufferedReader in = new BufferedReader(new InputStreamReader(hc.getInputStream()));\n    br.readLine();\n    //Read File Line By Line\n    String strLine;\n    while ((strLine = br.readLine()) != null) {\n        System.out.println(strLine);\n    }\n    br.close();\n</code></pre>\n"},{"tags":["java","maven","heroku"],"answers":[{"tags":[],"owner":{"account_id":460193,"reputation":3319,"user_id":861127,"display_name":"abronan"},"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1384719268,"creation_date":1384719268,"answer_id":20035597,"question_id":20034974,"body_markdown":"The default version of Java on Heroku is Java 6. You need to follow the [Guidelines][1] to make your maven project run on newer versions of the JVM (1.7 or 1.8). You already added the system.properties file to your project. However you probably did not updated the PATH as specified and maven tries to build your app using OpenJDK 6 which leads to the invalid target release exception. \r\n\r\nUpdating the PATH should do the trick.\r\n\r\n  [1]: https://devcenter.heroku.com/articles/add-java-version-to-an-existing-maven-app","title":"heroku - system.properties and java version","body":"<p>The default version of Java on Heroku is Java 6. You need to follow the <a href=\"https://devcenter.heroku.com/articles/add-java-version-to-an-existing-maven-app\">Guidelines</a> to make your maven project run on newer versions of the JVM (1.7 or 1.8). You already added the system.properties file to your project. However you probably did not updated the PATH as specified and maven tries to build your app using OpenJDK 6 which leads to the invalid target release exception. </p>\n\n<p>Updating the PATH should do the trick.</p>\n"},{"tags":[],"owner":{"account_id":249150,"reputation":1145,"user_id":524999,"accept_rate":0,"display_name":"Yauhen"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1585213620,"creation_date":1585213620,"answer_id":60863902,"question_id":20034974,"body_markdown":"I used the following guide https://devcenter.heroku.com/articles/customizing-the-jdk :\r\n\r\n&gt; Specify a JDK version\r\nCreate a system.properties file if one does not already exist, specify the version, and commit it to git. Supported version are described in the Java Support article. The file’s contents should look something like this:\r\n\r\n&gt;java.runtime.version=11\r\nThen add the file to Git by running:\r\n\r\n&gt;git add system.properties\r\n&gt;git commit -m &quot;JDK 11&quot;\r\n\r\nIt works for me.","title":"heroku - system.properties and java version","body":"<p>I used the following guide <a href=\"https://devcenter.heroku.com/articles/customizing-the-jdk\" rel=\"noreferrer\">https://devcenter.heroku.com/articles/customizing-the-jdk</a> :</p>\n\n<blockquote>\n  <p>Specify a JDK version\n  Create a system.properties file if one does not already exist, specify the version, and commit it to git. Supported version are described in the Java Support article. The file’s contents should look something like this:</p>\n  \n  <p>java.runtime.version=11\n  Then add the file to Git by running:</p>\n  \n  <p>git add system.properties\n  git commit -m \"JDK 11\"</p>\n</blockquote>\n\n<p>It works for me.</p>\n"},{"tags":[],"owner":{"account_id":15518636,"reputation":11,"user_id":11195391,"display_name":"lama"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642508827,"creation_date":1642508827,"answer_id":70755582,"question_id":20034974,"body_markdown":"Most of the answers of the question will be above.but there are lots of new developers who doesn&#39;t get above problem solve.For those i am commenting here.\r\n\r\nIf anyone confusing where to put system.properties file to set java version and maven version,\r\nit&#39;s suggested to put adjacent with pom.xml file\r\n(near pom.xml file or outside src folder) ","title":"heroku - system.properties and java version","body":"<p>Most of the answers of the question will be above.but there are lots of new developers who doesn't get above problem solve.For those i am commenting here.</p>\n<p>If anyone confusing where to put system.properties file to set java version and maven version,\nit's suggested to put adjacent with pom.xml file\n(near pom.xml file or outside src folder)</p>\n"},{"tags":[],"owner":{"account_id":27763940,"reputation":11,"user_id":21195729,"display_name":"graycat27"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676169146,"creation_date":1676169146,"answer_id":75424586,"question_id":20034974,"body_markdown":"```\r\n\\Project root folder\r\n│  pom.xml\r\n│  system.properties  // here, same depth of pom.xml\r\n│          \r\n├─src\r\n│  ├─main\r\n│  │  ├─java\r\n│  │  │  │  module-info.java\r\n│  │  │  │  \r\n│  │  │  └─com\r\n│  │  │      └─github\r\n│  │  │          └─graycat27\r\n│  │  │              └─myApp\r\n│  │  │                  │  MyApp.java\r\n```\r\nThis location worked well.\r\n\r\nthen the build log on Heroku will be...\r\n```\r\n-----&gt; Building on the Heroku-20 stack\r\n-----&gt; Using buildpack: heroku/java\r\n-----&gt; Java app detected\r\n-----&gt; Installing OpenJDK 17... done  // before set sys.prop, the version may JDK8\r\n-----&gt; Installing Maven 3.6.2... done\r\n-----&gt; Executing Maven\r\n       $ mvn -DskipTests clean dependency:list install\r\n```","title":"heroku - system.properties and java version","body":"<pre><code>\\Project root folder\n│  pom.xml\n│  system.properties  // here, same depth of pom.xml\n│          \n├─src\n│  ├─main\n│  │  ├─java\n│  │  │  │  module-info.java\n│  │  │  │  \n│  │  │  └─com\n│  │  │      └─github\n│  │  │          └─graycat27\n│  │  │              └─myApp\n│  │  │                  │  MyApp.java\n</code></pre>\n<p>This location worked well.</p>\n<p>then the build log on Heroku will be...</p>\n<pre><code>-----&gt; Building on the Heroku-20 stack\n-----&gt; Using buildpack: heroku/java\n-----&gt; Java app detected\n-----&gt; Installing OpenJDK 17... done  // before set sys.prop, the version may JDK8\n-----&gt; Installing Maven 3.6.2... done\n-----&gt; Executing Maven\n       $ mvn -DskipTests clean dependency:list install\n</code></pre>\n"}],"owner":{"account_id":1037165,"reputation":6599,"user_id":1044110,"accept_rate":74,"display_name":"Andna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7758,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":20035597,"answer_count":4,"score":6,"last_activity_date":1676169146,"creation_date":1384715690,"question_id":20034974,"body_markdown":"I wanted to deploy my java 7 application to `Heroku` but I encountered some problems with java version. \r\n\r\nI added `system.properties` file in my project root directory (where `src` and `pom.xml` are) with content `java.runtime.version=1.7` but still I am getting something like this: \r\n\r\n    Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.0:compile (default-compile) on project lets-code: Fatal error compiling: invalid target release: 1.7\r\n\r\nso I am a bit confused as to what to do next.","title":"heroku - system.properties and java version","body":"<p>I wanted to deploy my java 7 application to <code>Heroku</code> but I encountered some problems with java version. </p>\n\n<p>I added <code>system.properties</code> file in my project root directory (where <code>src</code> and <code>pom.xml</code> are) with content <code>java.runtime.version=1.7</code> but still I am getting something like this: </p>\n\n<pre><code>Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.0:compile (default-compile) on project lets-code: Fatal error compiling: invalid target release: 1.7\n</code></pre>\n\n<p>so I am a bit confused as to what to do next.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":2,"creation_date":1676152011,"post_id":75422887,"comment_id":133081290,"body_markdown":"_Window &gt; Perspective &gt; Reset Perspective..._","body":"<i>Window &gt; Perspective &gt; Reset Perspective...</i>"}],"owner":{"account_id":27762668,"reputation":1,"user_id":21194765,"display_name":"Menethil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676168503,"creation_date":1676144877,"question_id":75422887,"body_markdown":"Every time I open new class(tab) in my Eclipse it opens down here (see image) and not with other tabs at the top.\r\n\r\n![enter image description here](https://i.stack.imgur.com/oug11.png)\r\n\r\nHow do I make them all open up on top with my original tabs?","title":"Eclipse java different tabs","body":"<p>Every time I open new class(tab) in my Eclipse it opens down here (see image) and not with other tabs at the top.</p>\n<p><img src=\"https://i.stack.imgur.com/oug11.png\" alt=\"enter image description here\" /></p>\n<p>How do I make them all open up on top with my original tabs?</p>\n"},{"tags":["java","macos","homebrew","homebrew-cask"],"answers":[{"tags":[],"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1510209599,"creation_date":1510209599,"answer_id":47195447,"question_id":47195158,"body_markdown":"The shell command search and the `which` command use the `PATH` environment variable, not `JAVA_HOME`. Unless there is something in your `.zshrc` that is setting the `PATH` based on `JAVA_HOME` then setting `JAVA_HOME` isn&#39;t going to have any impact on `which`.","title":"installing Java via brew and cask","body":"<p>The shell command search and the <code>which</code> command use the <code>PATH</code> environment variable, not <code>JAVA_HOME</code>. Unless there is something in your <code>.zshrc</code> that is setting the <code>PATH</code> based on <code>JAVA_HOME</code> then setting <code>JAVA_HOME</code> isn't going to have any impact on <code>which</code>.</p>\n"}],"owner":{"account_id":1751415,"reputation":5059,"user_id":1600419,"accept_rate":78,"display_name":"Richie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1474,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":47195447,"answer_count":1,"score":1,"last_activity_date":1676166909,"creation_date":1510208484,"question_id":47195158,"body_markdown":"I just installed Java via `brew cask` on my mac.\r\n\r\n    brew cask install java8\r\n\r\nIt installed into `/Library/Java/JavaVirtualMachines/jdk1.8.0_152.jdk/Contents/Home`.\r\n\r\nI then set java home in my .zshrc file.\r\n\r\n    export JAVA_HOME=$(/usr/libexec/java_home)\r\n\r\nBut when I type which java it shows.\r\n\r\n    /usr/bin/java -&gt; /System/Library/Frameworks/JavaVM.framework/Versions/Current/Commands/java\r\n\r\nDoes this correspond to the Java I just installed?","title":"installing Java via brew and cask","body":"<p>I just installed Java via <code>brew cask</code> on my mac.</p>\n<pre><code>brew cask install java8\n</code></pre>\n<p>It installed into <code>/Library/Java/JavaVirtualMachines/jdk1.8.0_152.jdk/Contents/Home</code>.</p>\n<p>I then set java home in my .zshrc file.</p>\n<pre><code>export JAVA_HOME=$(/usr/libexec/java_home)\n</code></pre>\n<p>But when I type which java it shows.</p>\n<pre><code>/usr/bin/java -&gt; /System/Library/Frameworks/JavaVM.framework/Versions/Current/Commands/java\n</code></pre>\n<p>Does this correspond to the Java I just installed?</p>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":305249,"reputation":42705,"user_id":615306,"accept_rate":51,"display_name":"Kirill Rakhman"},"score":2,"creation_date":1453632851,"post_id":34974039,"comment_id":57679231,"body_markdown":"You can take a look at https://github.com/cypressious/KotlinW. Basically you invoke the compiler with the -script parameter.","body":"You can take a look at <a href=\"https://github.com/cypressious/KotlinW\" rel=\"nofollow noreferrer\">github.com/cypressious/KotlinW</a>. Basically you invoke the compiler with the -script parameter."},{"owner":{"account_id":2192250,"reputation":9760,"user_id":1938929,"accept_rate":88,"display_name":"Jire"},"score":0,"creation_date":1453632955,"post_id":34974039,"comment_id":57679262,"body_markdown":"@KirillRakhman Thank you, but would this not have performance implications? You also wouldn&#39;t be able to reference functions, classes and more from within Kotlin/Java.","body":"@KirillRakhman Thank you, but would this not have performance implications? You also wouldn&#39;t be able to reference functions, classes and more from within Kotlin/Java."},{"owner":{"account_id":2192250,"reputation":9760,"user_id":1938929,"accept_rate":88,"display_name":"Jire"},"score":0,"creation_date":1453633290,"post_id":34974039,"comment_id":57679363,"body_markdown":"If this doesn&#39;t exist, would it be possible to implement by generating bytecode of a class with the file&#39;s name and a function like `run` that would house the content?","body":"If this doesn&#39;t exist, would it be possible to implement by generating bytecode of a class with the file&#39;s name and a function like <code>run</code> that would house the content?"},{"owner":{"account_id":145555,"reputation":21469,"user_id":355438,"display_name":"Ilya Serbis"},"score":3,"creation_date":1516831167,"post_id":34974039,"comment_id":83855861,"body_markdown":"take a look at https://stackoverflow.com/a/48281513/355438","body":"take a look at <a href=\"https://stackoverflow.com/a/48281513/355438\">stackoverflow.com/a/48281513/355438</a>"},{"owner":{"account_id":11726648,"reputation":19533,"user_id":8583692,"display_name":"Mahozad"},"score":0,"creation_date":1639216241,"post_id":34974039,"comment_id":124295423,"body_markdown":"See Kotlin scripting related [roadmap issue](https://youtrack.jetbrains.com/issue/KT-49511).","body":"See Kotlin scripting related <a href=\"https://youtrack.jetbrains.com/issue/KT-49511\" rel=\"nofollow noreferrer\">roadmap issue</a>."}],"answers":[{"tags":[],"owner":{"account_id":108728,"reputation":31809,"user_id":288456,"display_name":"Alexander Udalov"},"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1453637641,"creation_date":1453637641,"answer_id":34975642,"question_id":34974039,"body_markdown":"Note that script files support in Kotlin is still pretty much experimental. This is an undocumented feature which we&#39;re still in the process of designing. What&#39;s working today may change, break or disappear tomorrow.\r\n\r\nThat said, currently there are two ways to invoke a script. You can use the command line compiler:\r\n\r\n    kotlinc -script foo.kts &lt;args&gt;\r\n\r\nOr you can invoke the script directly from IntelliJ IDEA, by right-clicking in the editor or in the project view on a .kts file and selecting &quot;Run ...&quot;:\r\n\r\n[![Run .kts from IntelliJ IDEA][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/7NSgW.png","title":"How can I run Kotlin-Script (.kts) files from within Kotlin/Java?","body":"<p>Note that script files support in Kotlin is still pretty much experimental. This is an undocumented feature which we're still in the process of designing. What's working today may change, break or disappear tomorrow.</p>\n\n<p>That said, currently there are two ways to invoke a script. You can use the command line compiler:</p>\n\n<pre><code>kotlinc -script foo.kts &lt;args&gt;\n</code></pre>\n\n<p>Or you can invoke the script directly from IntelliJ IDEA, by right-clicking in the editor or in the project view on a .kts file and selecting \"Run ...\":</p>\n\n<p><a href=\"https://i.stack.imgur.com/7NSgW.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/7NSgW.png\" alt=\"Run .kts from IntelliJ IDEA\"></a></p>\n"},{"tags":[],"owner":{"account_id":10988981,"reputation":77763,"user_id":8073652,"accept_rate":100,"display_name":"s1m0nw1"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1539248364,"creation_date":1525804330,"answer_id":50240159,"question_id":34974039,"body_markdown":"## KtsRunner\r\nI&#39;ve published a simple library that let&#39;s you run scripts from regular Kotlin programs.\r\n\r\nhttps://github.com/s1monw1/KtsRunner\r\n\r\n##Example\r\n1. The example class\r\n\r\n        data class ClassFromScript(val x: String)\r\n\r\n2. The `.kts` file\r\n \r\n        import de.swirtz.ktsrunner.objectloader.ClassFromScript\r\n\r\n        ClassFromScript(&quot;I was created in kts&quot;)\r\n\r\n3. The code to load the class\r\n\r\n        val scriptReader =  Files.newBufferedReader(Paths.get(&quot;path/classDeclaration.kts&quot;))\r\n        val loadedObj: ClassFromScript = KtsObjectLoader().load&lt;ClassFromScript&gt;(scriptReader)\r\n        println(loadedObj.x) // &gt;&gt; I was created in kts\r\n\r\n\r\nAs shown, the `KtsObjectLoader` class can be used for executing a `.kts` script and return its result. The example shows a script that creates an instance of the `ClassFromScript` type that is loaded via ``KtsObjectLoader`` and then processed in the regular program.\r\n","title":"How can I run Kotlin-Script (.kts) files from within Kotlin/Java?","body":"<h2>KtsRunner</h2>\n\n<p>I've published a simple library that let's you run scripts from regular Kotlin programs.</p>\n\n<p><a href=\"https://github.com/s1monw1/KtsRunner\" rel=\"noreferrer\">https://github.com/s1monw1/KtsRunner</a></p>\n\n<h2>Example</h2>\n\n<ol>\n<li><p>The example class</p>\n\n<pre><code>data class ClassFromScript(val x: String)\n</code></pre></li>\n<li><p>The <code>.kts</code> file</p>\n\n<pre><code>import de.swirtz.ktsrunner.objectloader.ClassFromScript\n\nClassFromScript(\"I was created in kts\")\n</code></pre></li>\n<li><p>The code to load the class</p>\n\n<pre><code>val scriptReader =  Files.newBufferedReader(Paths.get(\"path/classDeclaration.kts\"))\nval loadedObj: ClassFromScript = KtsObjectLoader().load&lt;ClassFromScript&gt;(scriptReader)\nprintln(loadedObj.x) // &gt;&gt; I was created in kts\n</code></pre></li>\n</ol>\n\n<p>As shown, the <code>KtsObjectLoader</code> class can be used for executing a <code>.kts</code> script and return its result. The example shows a script that creates an instance of the <code>ClassFromScript</code> type that is loaded via <code>KtsObjectLoader</code> and then processed in the regular program.</p>\n"},{"tags":[],"owner":{"account_id":8375968,"reputation":1454,"user_id":6289425,"display_name":"Dirk Hoffmann"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1583709720,"creation_date":1583709720,"answer_id":60593004,"question_id":34974039,"body_markdown":"early 2020ies [kscript](https://github.com/holgerbrandl/kscript) that you find at [https://github.com/holgerbrandl/kscript](https://github.com/holgerbrandl/kscript)\r\nseems to be the most convenient and well supported way to go ...\r\n","title":"How can I run Kotlin-Script (.kts) files from within Kotlin/Java?","body":"<p>early 2020ies <a href=\"https://github.com/holgerbrandl/kscript\" rel=\"noreferrer\">kscript</a> that you find at <a href=\"https://github.com/holgerbrandl/kscript\" rel=\"noreferrer\">https://github.com/holgerbrandl/kscript</a>\nseems to be the most convenient and well supported way to go ...</p>\n"},{"tags":[],"owner":{"account_id":2402196,"reputation":13303,"user_id":2111778,"accept_rate":80,"display_name":"xjcl"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1646562707,"creation_date":1620169444,"answer_id":67393230,"question_id":34974039,"body_markdown":"As of 2020 ([Kotlin 1.3.70](https://blog.jetbrains.com/kotlin/2020/03/kotlin-1-3-70-released/)), you can just use the straightforward\r\n\r\n```shell\r\nkotlin script.main.kts\r\n```\r\n\r\nNote that using the file extension `.main.kts` instead of `.kts` [seems to be important](https://stackoverflow.com/q/67375712/2111778).\r\n\r\nNote that for me this does **not** seem to run the `main()` function if defined, I had to add a manual call to `main()` at the top level.\r\n\r\nOne of the advantages of Kotlin script is the ability to declare code and dependencies inside a single file (with `@file:DependsOn`, see for example [here](https://stackoverflow.com/a/67392820/2111778))\r\n","title":"How can I run Kotlin-Script (.kts) files from within Kotlin/Java?","body":"<p>As of 2020 (<a href=\"https://blog.jetbrains.com/kotlin/2020/03/kotlin-1-3-70-released/\" rel=\"nofollow noreferrer\">Kotlin 1.3.70</a>), you can just use the straightforward</p>\n<pre class=\"lang-sh prettyprint-override\"><code>kotlin script.main.kts\n</code></pre>\n<p>Note that using the file extension <code>.main.kts</code> instead of <code>.kts</code> <a href=\"https://stackoverflow.com/q/67375712/2111778\">seems to be important</a>.</p>\n<p>Note that for me this does <strong>not</strong> seem to run the <code>main()</code> function if defined, I had to add a manual call to <code>main()</code> at the top level.</p>\n<p>One of the advantages of Kotlin script is the ability to declare code and dependencies inside a single file (with <code>@file:DependsOn</code>, see for example <a href=\"https://stackoverflow.com/a/67392820/2111778\">here</a>)</p>\n"},{"tags":[],"owner":{"account_id":550183,"reputation":474,"user_id":5037965,"display_name":"John Vandenberg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676165757,"creation_date":1676165757,"answer_id":75424410,"question_id":34974039,"body_markdown":"[jgo](https://github.com/scijava/jgo) can fetch and run code from Maven repositories, so can be used to invoke\r\nhttps://github.com/scijava/scijava-common and https://github.com/scripting-kotlin to execute a local `Foo.kt` like so:\r\n\r\n    jgo --repository scijava.public=maven.scijava.org/content/groups/public org.scijava:scijava-common:@ScriptREPL+org.scijava:scripting-kotlin Foo.kt\r\n\r\nIf no `Foo.kt` is provided, it launches a Kotlin REPL.","title":"How can I run Kotlin-Script (.kts) files from within Kotlin/Java?","body":"<p><a href=\"https://github.com/scijava/jgo\" rel=\"nofollow noreferrer\">jgo</a> can fetch and run code from Maven repositories, so can be used to invoke\n<a href=\"https://github.com/scijava/scijava-common\" rel=\"nofollow noreferrer\">https://github.com/scijava/scijava-common</a> and <a href=\"https://github.com/scripting-kotlin\" rel=\"nofollow noreferrer\">https://github.com/scripting-kotlin</a> to execute a local <code>Foo.kt</code> like so:</p>\n<pre><code>jgo --repository scijava.public=maven.scijava.org/content/groups/public org.scijava:scijava-common:@ScriptREPL+org.scijava:scripting-kotlin Foo.kt\n</code></pre>\n<p>If no <code>Foo.kt</code> is provided, it launches a Kotlin REPL.</p>\n"}],"owner":{"account_id":2192250,"reputation":9760,"user_id":1938929,"accept_rate":88,"display_name":"Jire"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32401,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"accepted_answer_id":34975642,"answer_count":5,"score":45,"last_activity_date":1676165757,"creation_date":1453627137,"question_id":34974039,"body_markdown":"I noticed that IntelliJ can parse `.kts` files as Kotlin and the code editor picks them up as free-floating Kotlin files. You are also able to run the script in IntelliJ as you would a Kotlin file with a main method. The script executes from top to bottom.\r\n\r\nThis form is PERFECT for the project I&#39;m working on, if only I knew an easy way to use them from within Java or Kotlin.\r\n\r\nWhat&#39;s the idiomatic way to &quot;run&quot; these scripts from Java or Kotlin?","title":"How can I run Kotlin-Script (.kts) files from within Kotlin/Java?","body":"<p>I noticed that IntelliJ can parse <code>.kts</code> files as Kotlin and the code editor picks them up as free-floating Kotlin files. You are also able to run the script in IntelliJ as you would a Kotlin file with a main method. The script executes from top to bottom.</p>\n\n<p>This form is PERFECT for the project I'm working on, if only I knew an easy way to use them from within Java or Kotlin.</p>\n\n<p>What's the idiomatic way to \"run\" these scripts from Java or Kotlin?</p>\n"},{"tags":["java","reactjs","spring-boot","spring-mvc","react-router"],"owner":{"account_id":27763628,"reputation":1,"user_id":21195505,"display_name":"eureka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676164759,"creation_date":1676162716,"question_id":75424267,"body_markdown":"Seeing routing issues in my React/SpingBoot application.\r\nHomepage (localhost:7070) loads correctly, however, I see issues when trying to route to /app (localhost:7070/app)\r\n\r\nAny pointers?\r\n\r\nApp.java\r\n\r\n```\r\n@EnableAutoConfiguration(exclude = {DataSourceAutoConfiguration.class, \r\n\t\tDataSourceTransactionManagerAutoConfiguration.class, \r\n\t\tHibernateJpaAutoConfiguration.class})\r\n@SpringBootApplication\r\npublic class App extends SpringBootServletInitializer {\r\n\t\r\n\t@Override\r\n\tprotected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n\t\treturn application.sources(App.class);\r\n\t}\r\n\t\r\n\tpublic static void main(final String[] args) throws Exception {\r\n\t\tSpringApplication.run(App.class, args);\r\n\t}\r\n}\r\n```\r\n\r\nApp.js\r\n\r\n\r\n```\r\nimport React from &quot;react&quot;;\r\nimport { ReactKeycloakProvider } from &quot;@react-keycloak/web&quot;;\r\nimport keycloak from &quot;./Keycloak&quot;;\r\nimport { BrowserRouter, Route, Routes } from &quot;react-router-dom&quot;;\r\nimport Nav from &quot;./components/Nav&quot;;\r\nimport WelcomePage from &quot;./pages/Homepage&quot;;\r\nimport SecuredPage from &quot;./pages/Securedpage&quot;;\r\nimport PrivateRoutes from &quot;./helpers/PrivateRoutes&quot;;\r\n\r\nfunction App() {\r\n return (\r\n   &lt;div&gt;\r\n     &lt;ReactKeycloakProvider authClient={keycloak}&gt;\r\n       &lt;Nav /&gt;\r\n       &lt;BrowserRouter&gt;\r\n         &lt;Routes&gt;\r\n           &lt;Route path=&quot;/&quot; element={&lt;WelcomePage /&gt;}&gt;\r\n              &lt;Route path=&quot;app&quot; element={ &lt;SecuredPage /&gt;}  /&gt;\r\n          &lt;/Route&gt;\r\n        &lt;/Routes&gt;\r\n       &lt;/BrowserRouter&gt;\r\n     &lt;/ReactKeycloakProvider&gt;\r\n   &lt;/div&gt;\r\n );\r\n}\r\n\r\nexport default App;\r\n\r\n```\r\n\r\n[Project Structure](https://i.stack.imgur.com/Pyqxg.png)\r\n\r\nPart of pom.xml\r\n\r\n```\r\n&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.2.0&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;copy-resources&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;!-- here the phase you need --&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;process-resources&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;copy-resources&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;outputDirectory&gt;${basedir}/target/classes/static&lt;/outputDirectory&gt;\r\n\t\t\t\t\t\t\t&lt;resources&gt;\r\n\t\t\t\t\t\t\t\t&lt;resource&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;directory&gt;src/main/webapp/build&lt;/directory&gt;\r\n\t\t\t\t\t\t\t\t&lt;/resource&gt;\r\n\t\t\t\t\t\t\t&lt;/resources&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n```\r\n\r\nSwitched from HashRouter to BrowserRouter. Tried different nesting options for &lt;Route&gt;","title":"React + Springboot application Whitelabel Error Page","body":"<p>Seeing routing issues in my React/SpingBoot application.\nHomepage (localhost:7070) loads correctly, however, I see issues when trying to route to /app (localhost:7070/app)</p>\n<p>Any pointers?</p>\n<p>App.java</p>\n<pre><code>@EnableAutoConfiguration(exclude = {DataSourceAutoConfiguration.class, \n        DataSourceTransactionManagerAutoConfiguration.class, \n        HibernateJpaAutoConfiguration.class})\n@SpringBootApplication\npublic class App extends SpringBootServletInitializer {\n    \n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(App.class);\n    }\n    \n    public static void main(final String[] args) throws Exception {\n        SpringApplication.run(App.class, args);\n    }\n}\n</code></pre>\n<p>App.js</p>\n<pre><code>import React from &quot;react&quot;;\nimport { ReactKeycloakProvider } from &quot;@react-keycloak/web&quot;;\nimport keycloak from &quot;./Keycloak&quot;;\nimport { BrowserRouter, Route, Routes } from &quot;react-router-dom&quot;;\nimport Nav from &quot;./components/Nav&quot;;\nimport WelcomePage from &quot;./pages/Homepage&quot;;\nimport SecuredPage from &quot;./pages/Securedpage&quot;;\nimport PrivateRoutes from &quot;./helpers/PrivateRoutes&quot;;\n\nfunction App() {\n return (\n   &lt;div&gt;\n     &lt;ReactKeycloakProvider authClient={keycloak}&gt;\n       &lt;Nav /&gt;\n       &lt;BrowserRouter&gt;\n         &lt;Routes&gt;\n           &lt;Route path=&quot;/&quot; element={&lt;WelcomePage /&gt;}&gt;\n              &lt;Route path=&quot;app&quot; element={ &lt;SecuredPage /&gt;}  /&gt;\n          &lt;/Route&gt;\n        &lt;/Routes&gt;\n       &lt;/BrowserRouter&gt;\n     &lt;/ReactKeycloakProvider&gt;\n   &lt;/div&gt;\n );\n}\n\nexport default App;\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Pyqxg.png\" rel=\"nofollow noreferrer\">Project Structure</a></p>\n<p>Part of pom.xml</p>\n<pre><code>&lt;plugin&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy-resources&lt;/id&gt;\n                        &lt;!-- here the phase you need --&gt;\n                        &lt;phase&gt;process-resources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-resources&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;${basedir}/target/classes/static&lt;/outputDirectory&gt;\n                            &lt;resources&gt;\n                                &lt;resource&gt;\n                                    &lt;directory&gt;src/main/webapp/build&lt;/directory&gt;\n                                &lt;/resource&gt;\n                            &lt;/resources&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>Switched from HashRouter to BrowserRouter. Tried different nesting options for </p>\n"},{"tags":["java","android","android-uiautomator"],"comments":[{"owner":{"account_id":458518,"reputation":1653,"user_id":858448,"accept_rate":60,"display_name":"Ghedeon"},"score":0,"creation_date":1424469198,"post_id":20789124,"comment_id":45577237,"body_markdown":"Duplicate, the right answer is posted here: http://stackoverflow.com/a/26059038/858448","body":"Duplicate, the right answer is posted here: <a href=\"http://stackoverflow.com/a/26059038/858448\">stackoverflow.com/a/26059038/858448</a>"}],"answers":[{"tags":[],"owner":{"account_id":1804682,"reputation":32958,"user_id":1642079,"accept_rate":89,"display_name":"Chad Bingham"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1389146044,"creation_date":1389146044,"answer_id":20985597,"question_id":20789124,"body_markdown":"If I understand your question, you have variables that change. You want your test to get these variables *without* hardcoding it? If that is the case, I would try this. \r\n\r\nYou can send in parameters via command line:\r\n\r\n    adb shell am insrument -e &lt;NAME&gt; &lt;VALUE&gt; &lt;package/runner&gt;\r\n\r\n\r\nYou can access the value using the bundle that is available if you override the `onCreate `method of the `InstrumentationTestRunner`.\r\n\r\n\r\n    public void onCreate(Bundle savedInstanceState) {\r\n          super.onCreate(savedInstanceState);\r\n          value = (String) savedInstanceState.get(&quot;name&quot;);\r\n    }\r\n\r\n","title":"UiAutomator changing variables","body":"<p>If I understand your question, you have variables that change. You want your test to get these variables <em>without</em> hardcoding it? If that is the case, I would try this. </p>\n\n<p>You can send in parameters via command line:</p>\n\n<pre><code>adb shell am insrument -e &lt;NAME&gt; &lt;VALUE&gt; &lt;package/runner&gt;\n</code></pre>\n\n<p>You can access the value using the bundle that is available if you override the <code>onCreate</code>method of the <code>InstrumentationTestRunner</code>.</p>\n\n<pre><code>public void onCreate(Bundle savedInstanceState) {\n      super.onCreate(savedInstanceState);\n      value = (String) savedInstanceState.get(\"name\");\n}\n</code></pre>\n"}],"owner":{"account_id":3576272,"reputation":93,"user_id":2985443,"accept_rate":67,"display_name":"Ronin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1508,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":20985597,"answer_count":1,"score":0,"last_activity_date":1676164161,"creation_date":1388080979,"question_id":20789124,"body_markdown":"I&#39;ve got a test case that accesses the browser and does some stuff with it. But I need to programmatically change what the inputs are for some of the text boxes.\r\nI have 8 strings and a boolean value that the test needs the run properly.  The problem is, is that you have to run the test case through ant and the build process before you can actually run it. I&#39;d love to be able to build this, put it on the device and then somehow pass the data to the device when I call it. But I don&#39;t know if that is possible. The only option I can think of at the moment, is to write a quick java program to write this to a file, change the variables, and then build it and push is and such. However, that seems like a very unelegant solution to my problem. Here&#39;s the code:\r\n\r\n \r\n\r\n       import android.os.RemoteException;\r\n        import com.android.uiautomator.core.UiDevice;\r\n        import com.android.uiautomator.core.UiObject;\r\n        import com.android.uiautomator.core.UiObjectNotFoundException;\r\n        import com.android.uiautomator.core.UiSelector;\r\n        import com.android.uiautomator.testrunner.UiAutomatorTestCase;\r\n    \r\n        public class AndroidSetupTest extends UiAutomatorTestCase {   \r\n    \r\n        public void testBasic(String user, String password, String router, String rpassword, boolean Basic,\r\n    \t\t\t\t\t\tString ip, String netmask, String gateway, String dns) throws    UiObjectNotFoundException {   \r\n       \r\n        try{  \r\n        connectToNetwork(router);\r\n        UiDevice.getInstance().pressHome();\r\n       \r\n        UiObject chromeLauncher = new UiObject(new UiSelector().text(&quot;Chrome&quot;).className(&quot;android.widget.TextView&quot;));\r\n        chromeLauncher.clickAndWaitForNewWindow();\r\n       \r\n        UiObject enterUrl = new UiObject(new UiSelector().description(&quot;Search or type url&quot;));\r\n        enterUrl.setText(&quot;thewebsite&quot;);\r\n        UiDevice.getInstance().pressEnter();\r\n       \r\n    \tThread.sleep(5000);\r\n       \r\n        UiObject signIn = new UiObject(new UiSelector().description(&quot;SIGN IN Link&quot;));\r\n        if(signIn.exists()){\r\n        signIn.clickAndWaitForNewWindow();\r\n       \r\n        UiObject userName = new UiObject(new UiSelector().className(&quot;android.view.View&quot;).index(7).childSelector(new UiSelector().className(&quot;android.widget.EditText&quot;)));\r\n        userName.setText(user);\r\n        UiObject Password = new UiObject(new UiSelector().className(&quot;android.view.View&quot;).index(9).childSelector(new UiSelector().className(&quot;android.widget.EditText&quot;)));\r\n        Password.setText(password + &quot; &quot;);\r\n    \r\n         Thread.sleep(500);\r\n    \t\r\n         UiDevice.getInstance().pressEnter();\r\n         }\r\n       \r\n         enterUrl.setText(&quot;another website&quot;);\r\n       \r\n         UiDevice.getInstance().pressEnter();\r\n       \r\n         Thread.sleep(1000);\r\n       \r\n         connectToNetwork(&quot;specific network&quot;);\r\n    \t\t   \r\n       \r\n         UiDevice.getInstance().pressHome();\r\n       \r\n         chromeLauncher.clickAndWaitForNewWindow();\r\n       \r\n         Thread.sleep(1000);\r\n       \r\n       \r\n         UiObject setupModule = new UiObject(new UiSelector().className(&quot;android.view.View&quot;)\r\n    \t\t   .childSelector(new       UiSelector().className(&quot;android.view.View&quot;).className(&quot;android.widget.Button&quot;)));\r\n       \r\n        getUiDevice().setOrientationNatural();\r\n        Thread.sleep(300);\r\n        setupModule.clickAndWaitForNewWindow(2000);\r\n       \r\n       \r\n        Thread.sleep(2000);\r\n       \r\n    \r\n        UiObject chooseAp = new UiObject(new UiSelector().description(&quot;Choose an access point...&quot;));\r\n        chooseAp.clickAndWaitForNewWindow();\r\n        UiObject pickAp = new UiObject (new UiSelector().className(&quot;android.widget.ListView&quot;)\r\n    \t\t   .childSelector(new UiSelector().textContains(router)));\r\n        pickAp.clickAndWaitForNewWindow();\r\n       \r\n        UiObject routerPassword1 = new UiObject(new UiSelector().className(&quot;android.view.View&quot;).index(9)\r\n    \t\t   .childSelector(new UiSelector().className(&quot;android.widget.EditText&quot;)));\r\n      UiObject routerPassword2 = new UiObject(new UiSelector().className(&quot;android.view.View&quot;).index(11)\r\n    \t\t   .childSelector(new UiSelector().className(&quot;android.widget.EditText&quot;)));\r\n    \r\n        if(!Basic){\r\n    \t   int i = 0;\r\n    \t   if (!routerPassword2.exists()) i = 4;\r\n    \t   \r\n    \t   UiObject selectAdvanced = new UiObject(new UiSelector().description(&quot;Advanced&quot;));\r\n    \t   selectAdvanced.click();\r\n    \t   \r\n    \t   UiObject IP = new UiObject(new UiSelector().className(&quot;android.view.View&quot;).index(14-i)\r\n    \t\t\t   .childSelector(new UiSelector().className(&quot;android.widget.EditText&quot;)));\r\n    \t   UiObject Netmask = new UiObject(new UiSelector().className(&quot;android.view.View&quot;).index(16-i)\r\n    \t\t\t   .childSelector(new UiSelector().className(&quot;android.widget.EditText&quot;)));\r\n    \t   UiObject Gateway = new UiObject(new UiSelector().className(&quot;android.view.View&quot;).index(18-i)\r\n    \t\t\t   .childSelector(new UiSelector().className(&quot;android.widget.EditText&quot;)));\r\n    \t   UiObject DNS = new UiObject(new UiSelector().className(&quot;android.view.View&quot;).index(20-i)\r\n    \t\t\t   .childSelector(new UiSelector().className(&quot;android.widget.EditText&quot;)));\r\n    \t   IP.setText(ip);\r\n    \t   Netmask.setText(netmask);\r\n    \t   Gateway.setText(gateway);\r\n    \t   DNS.setText(dns);\r\n    \t   \r\n       }\r\n       \r\n       routerPassword1.setText(password);\r\n       routerPassword2.setText(password);\r\n       \r\n       UiObject finishSetup = new UiObject(new UiSelector().description(&quot;Submit&quot;));\r\n       finishSetup.clickAndWaitForNewWindow();\r\n       \r\n    } catch (InterruptedException e) {\r\n    \te.printStackTrace();\r\n    \t\r\n    } catch (RemoteException e) {\r\n    \t// TODO Auto-generated catch block\r\n    \te.printStackTrace();\r\n    }\r\n    }\r\n     \r\n     private void connectToNetwork(String Network)\r\n     {\r\n    \t try{\r\n    \t   UiDevice.getInstance().pressHome();\r\n    \t   \r\n    \t   UiObject settings = new UiObject(new UiSelector().className(&quot;android.widget.TextView&quot;).text(&quot;Settings&quot;));\r\n    \t   settings.clickAndWaitForNewWindow();\r\n    \t   \r\n    \t   UiObject wifiSettings = new UiObject(new UiSelector().className(&quot;android.widget.RelativeLayout&quot;).index(1));\r\n    \t   wifiSettings.clickAndWaitForNewWindow();\r\n    \t   \r\n    \t   UiObject changeWifi = new UiObject(new UiSelector().className(&quot;android.widget.TextView&quot;).text(Network));\r\n    \t\t\t   changeWifi.clickAndWaitForNewWindow();\r\n    \t\t\t   \r\n    \t   UiObject connect = new UiObject(new UiSelector().text(&quot;Connect&quot;));\r\n    \t   connect.clickAndWaitForNewWindow();\r\n    \t   \r\n    \t   Thread.sleep(5000);\r\n    \t } catch (UiObjectNotFoundException e) {\r\n    \t\te.printStackTrace();\r\n    \t} catch (InterruptedException e) {\r\n    \t\te.printStackTrace();\r\n    \t}\r\n     }\r\n     \r\n     \r\n    }\r\n\r\n","title":"UiAutomator changing variables","body":"<p>I've got a test case that accesses the browser and does some stuff with it. But I need to programmatically change what the inputs are for some of the text boxes.\nI have 8 strings and a boolean value that the test needs the run properly.  The problem is, is that you have to run the test case through ant and the build process before you can actually run it. I'd love to be able to build this, put it on the device and then somehow pass the data to the device when I call it. But I don't know if that is possible. The only option I can think of at the moment, is to write a quick java program to write this to a file, change the variables, and then build it and push is and such. However, that seems like a very unelegant solution to my problem. Here's the code:</p>\n\n<pre><code>   import android.os.RemoteException;\n    import com.android.uiautomator.core.UiDevice;\n    import com.android.uiautomator.core.UiObject;\n    import com.android.uiautomator.core.UiObjectNotFoundException;\n    import com.android.uiautomator.core.UiSelector;\n    import com.android.uiautomator.testrunner.UiAutomatorTestCase;\n\n    public class AndroidSetupTest extends UiAutomatorTestCase {   \n\n    public void testBasic(String user, String password, String router, String rpassword, boolean Basic,\n                        String ip, String netmask, String gateway, String dns) throws    UiObjectNotFoundException {   \n\n    try{  \n    connectToNetwork(router);\n    UiDevice.getInstance().pressHome();\n\n    UiObject chromeLauncher = new UiObject(new UiSelector().text(\"Chrome\").className(\"android.widget.TextView\"));\n    chromeLauncher.clickAndWaitForNewWindow();\n\n    UiObject enterUrl = new UiObject(new UiSelector().description(\"Search or type url\"));\n    enterUrl.setText(\"thewebsite\");\n    UiDevice.getInstance().pressEnter();\n\n    Thread.sleep(5000);\n\n    UiObject signIn = new UiObject(new UiSelector().description(\"SIGN IN Link\"));\n    if(signIn.exists()){\n    signIn.clickAndWaitForNewWindow();\n\n    UiObject userName = new UiObject(new UiSelector().className(\"android.view.View\").index(7).childSelector(new UiSelector().className(\"android.widget.EditText\")));\n    userName.setText(user);\n    UiObject Password = new UiObject(new UiSelector().className(\"android.view.View\").index(9).childSelector(new UiSelector().className(\"android.widget.EditText\")));\n    Password.setText(password + \" \");\n\n     Thread.sleep(500);\n\n     UiDevice.getInstance().pressEnter();\n     }\n\n     enterUrl.setText(\"another website\");\n\n     UiDevice.getInstance().pressEnter();\n\n     Thread.sleep(1000);\n\n     connectToNetwork(\"specific network\");\n\n\n     UiDevice.getInstance().pressHome();\n\n     chromeLauncher.clickAndWaitForNewWindow();\n\n     Thread.sleep(1000);\n\n\n     UiObject setupModule = new UiObject(new UiSelector().className(\"android.view.View\")\n           .childSelector(new       UiSelector().className(\"android.view.View\").className(\"android.widget.Button\")));\n\n    getUiDevice().setOrientationNatural();\n    Thread.sleep(300);\n    setupModule.clickAndWaitForNewWindow(2000);\n\n\n    Thread.sleep(2000);\n\n\n    UiObject chooseAp = new UiObject(new UiSelector().description(\"Choose an access point...\"));\n    chooseAp.clickAndWaitForNewWindow();\n    UiObject pickAp = new UiObject (new UiSelector().className(\"android.widget.ListView\")\n           .childSelector(new UiSelector().textContains(router)));\n    pickAp.clickAndWaitForNewWindow();\n\n    UiObject routerPassword1 = new UiObject(new UiSelector().className(\"android.view.View\").index(9)\n           .childSelector(new UiSelector().className(\"android.widget.EditText\")));\n  UiObject routerPassword2 = new UiObject(new UiSelector().className(\"android.view.View\").index(11)\n           .childSelector(new UiSelector().className(\"android.widget.EditText\")));\n\n    if(!Basic){\n       int i = 0;\n       if (!routerPassword2.exists()) i = 4;\n\n       UiObject selectAdvanced = new UiObject(new UiSelector().description(\"Advanced\"));\n       selectAdvanced.click();\n\n       UiObject IP = new UiObject(new UiSelector().className(\"android.view.View\").index(14-i)\n               .childSelector(new UiSelector().className(\"android.widget.EditText\")));\n       UiObject Netmask = new UiObject(new UiSelector().className(\"android.view.View\").index(16-i)\n               .childSelector(new UiSelector().className(\"android.widget.EditText\")));\n       UiObject Gateway = new UiObject(new UiSelector().className(\"android.view.View\").index(18-i)\n               .childSelector(new UiSelector().className(\"android.widget.EditText\")));\n       UiObject DNS = new UiObject(new UiSelector().className(\"android.view.View\").index(20-i)\n               .childSelector(new UiSelector().className(\"android.widget.EditText\")));\n       IP.setText(ip);\n       Netmask.setText(netmask);\n       Gateway.setText(gateway);\n       DNS.setText(dns);\n\n   }\n\n   routerPassword1.setText(password);\n   routerPassword2.setText(password);\n\n   UiObject finishSetup = new UiObject(new UiSelector().description(\"Submit\"));\n   finishSetup.clickAndWaitForNewWindow();\n\n} catch (InterruptedException e) {\n    e.printStackTrace();\n\n} catch (RemoteException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\n}\n\n private void connectToNetwork(String Network)\n {\n     try{\n       UiDevice.getInstance().pressHome();\n\n       UiObject settings = new UiObject(new UiSelector().className(\"android.widget.TextView\").text(\"Settings\"));\n       settings.clickAndWaitForNewWindow();\n\n       UiObject wifiSettings = new UiObject(new UiSelector().className(\"android.widget.RelativeLayout\").index(1));\n       wifiSettings.clickAndWaitForNewWindow();\n\n       UiObject changeWifi = new UiObject(new UiSelector().className(\"android.widget.TextView\").text(Network));\n               changeWifi.clickAndWaitForNewWindow();\n\n       UiObject connect = new UiObject(new UiSelector().text(\"Connect\"));\n       connect.clickAndWaitForNewWindow();\n\n       Thread.sleep(5000);\n     } catch (UiObjectNotFoundException e) {\n        e.printStackTrace();\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n }\n\n\n}\n</code></pre>\n"},{"tags":["java","spring","transactions"],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1561302138,"creation_date":1389969418,"answer_id":21188426,"question_id":21188239,"body_markdown":"Since you are using `@Transactional`, we can safely assume you are doing your database operations through Spring, Hibernate, or other JDBC wrappers. These JDBC wrappers don&#39;t typically throw checked exceptions, they throw runtime exceptions that wrap the JDBC `SQLException` types.\r\n\r\n`@Transactional` is setup to rollback, by default, only when an unchecked exception is thrown. \r\n\r\nConsider a use case like so\r\n\r\n    @Transactional\r\n    public void persistAndWrite(Bean someBean) throws IOException {\r\n        // DB operation\r\n        getSession().save(someBean); \r\n\r\n        // File IO operation which throws IOException\r\n        someFileService.writeToFile(someBean); \r\n    }\r\n\r\nYou wouldn&#39;t necessarily want to rollback the DB operation just because we couldn&#39;t write something to a file.\r\n\r\nSimilarly\r\n\r\n\r\n    @Transactional\r\n    public void persistAndThrowOutOfMemory(Bean someBean)  {\r\n        // DB operation\r\n        getSession().save(someBean);\r\n\r\n        // consumes all memory, throws OutOfMemoryError\r\n        someService.hugeOperationThrowsOutOfMemoryError(); \r\n    }\r\n\r\nYou wouldn&#39;t necessarily want to rollback the saved entity just because some service cause too much memory to be consumed. \r\n\r\n`@Transactional` gives you the option. Use it where appropriate.\r\n","title":"Spring transaction: rollback on Exception or Throwable","body":"<p>Since you are using <code>@Transactional</code>, we can safely assume you are doing your database operations through Spring, Hibernate, or other JDBC wrappers. These JDBC wrappers don't typically throw checked exceptions, they throw runtime exceptions that wrap the JDBC <code>SQLException</code> types.</p>\n\n<p><code>@Transactional</code> is setup to rollback, by default, only when an unchecked exception is thrown. </p>\n\n<p>Consider a use case like so</p>\n\n<pre><code>@Transactional\npublic void persistAndWrite(Bean someBean) throws IOException {\n    // DB operation\n    getSession().save(someBean); \n\n    // File IO operation which throws IOException\n    someFileService.writeToFile(someBean); \n}\n</code></pre>\n\n<p>You wouldn't necessarily want to rollback the DB operation just because we couldn't write something to a file.</p>\n\n<p>Similarly</p>\n\n<pre><code>@Transactional\npublic void persistAndThrowOutOfMemory(Bean someBean)  {\n    // DB operation\n    getSession().save(someBean);\n\n    // consumes all memory, throws OutOfMemoryError\n    someService.hugeOperationThrowsOutOfMemoryError(); \n}\n</code></pre>\n\n<p>You wouldn't necessarily want to rollback the saved entity just because some service cause too much memory to be consumed. </p>\n\n<p><code>@Transactional</code> gives you the option. Use it where appropriate.</p>\n"},{"tags":[],"owner":{"account_id":954552,"reputation":3071,"user_id":980092,"accept_rate":83,"display_name":"Arsen Alexanyan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1389969688,"creation_date":1389969688,"answer_id":21188527,"question_id":21188239,"body_markdown":"I don&#39;t know is it possible or not but handling `Throwable`s like `Error`s is a bad style of programming, it is not the developers responsibility to handle this kind of fatal errors. There always can happen bad things which You cannot handle. You should handle checked exceptions if necessary, which are known to your system like some type of logical errors.","title":"Spring transaction: rollback on Exception or Throwable","body":"<p>I don't know is it possible or not but handling <code>Throwable</code>s like <code>Error</code>s is a bad style of programming, it is not the developers responsibility to handle this kind of fatal errors. There always can happen bad things which You cannot handle. You should handle checked exceptions if necessary, which are known to your system like some type of logical errors.</p>\n"},{"tags":[],"owner":{"account_id":947184,"reputation":48994,"user_id":974186,"accept_rate":79,"display_name":"Ren&#233; Link"},"down_vote_count":0,"up_vote_count":58,"is_accepted":true,"score":58,"last_activity_date":1676162921,"creation_date":1389970487,"answer_id":21188820,"question_id":21188239,"body_markdown":"&gt; As I understand catching Error will help us behave correctly even when something really bad happen. Or maybe it wouldn&#39;t help?\r\n\r\nYou don&#39;t need to explicitly specify `rollbackFor = Throwable.class`, because spring will by default rollback the transaction if an `Error` occurs.\r\n\r\nSee [1.4.3. Rolling Back a Declarative Transaction][1]\r\n\r\n&gt; In its default configuration, the Spring Framework’s transaction infrastructure code marks a transaction for rollback only in the case of runtime, unchecked exceptions. That is, when the thrown exception is an instance or subclass of `RuntimeException`. **(Error instances also, by default, result in a rollback)**. Checked exceptions that are thrown from a transactional method do not result in rollback in the default configuration.\r\n\r\nOr take a look at the [`DefaultTransactionAttribute`][2]\r\n\r\n    public boolean rollbackOn(Throwable ex) {\r\n        return (ex instanceof RuntimeException || ex instanceof Error);\r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/data-access.html#transaction-declarative-rolling-back\r\n  [2]: https://github.com/spring-projects/spring-framework/blob/aebb2d52e0a33dbf9779ebf3054a110c280d23ff/spring-tx/src/main/java/org/springframework/transaction/interceptor/DefaultTransactionAttribute.java#L134","title":"Spring transaction: rollback on Exception or Throwable","body":"<blockquote>\n<p>As I understand catching Error will help us behave correctly even when something really bad happen. Or maybe it wouldn't help?</p>\n</blockquote>\n<p>You don't need to explicitly specify <code>rollbackFor = Throwable.class</code>, because spring will by default rollback the transaction if an <code>Error</code> occurs.</p>\n<p>See <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/data-access.html#transaction-declarative-rolling-back\" rel=\"noreferrer\">1.4.3. Rolling Back a Declarative Transaction</a></p>\n<blockquote>\n<p>In its default configuration, the Spring Framework’s transaction infrastructure code marks a transaction for rollback only in the case of runtime, unchecked exceptions. That is, when the thrown exception is an instance or subclass of <code>RuntimeException</code>. <strong>(Error instances also, by default, result in a rollback)</strong>. Checked exceptions that are thrown from a transactional method do not result in rollback in the default configuration.</p>\n</blockquote>\n<p>Or take a look at the <a href=\"https://github.com/spring-projects/spring-framework/blob/aebb2d52e0a33dbf9779ebf3054a110c280d23ff/spring-tx/src/main/java/org/springframework/transaction/interceptor/DefaultTransactionAttribute.java#L134\" rel=\"noreferrer\"><code>DefaultTransactionAttribute</code></a></p>\n<pre><code>public boolean rollbackOn(Throwable ex) {\n    return (ex instanceof RuntimeException || ex instanceof Error);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1555433,"reputation":2537,"user_id":1446707,"accept_rate":100,"display_name":"Ali.Mojtahed"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1558004980,"creation_date":1558004980,"answer_id":56167173,"question_id":21188239,"body_markdown":"Default value of rollback is register on Error Exception but when u register `try{}catch{}` manually it overriding the error, so in this case use \r\n\r\n    catch {\r\n            TransactionAspectSupport.currentTransactionStatus().setRollbackOnly();\r\n          }\r\n\r\nto do it manually or remove try catch\r\n\r\nalso you may register exception type in transactional annotation such:\r\n\r\n    @Transactional(propagation = Propagation.REQUIRED, rollbackFor = Exception.class)","title":"Spring transaction: rollback on Exception or Throwable","body":"<p>Default value of rollback is register on Error Exception but when u register <code>try{}catch{}</code> manually it overriding the error, so in this case use </p>\n\n<pre><code>catch {\n        TransactionAspectSupport.currentTransactionStatus().setRollbackOnly();\n      }\n</code></pre>\n\n<p>to do it manually or remove try catch</p>\n\n<p>also you may register exception type in transactional annotation such:</p>\n\n<pre><code>@Transactional(propagation = Propagation.REQUIRED, rollbackFor = Exception.class)\n</code></pre>\n"}],"owner":{"account_id":27171,"reputation":9206,"user_id":71420,"accept_rate":87,"display_name":"Igor Konoplyanko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105102,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"accepted_answer_id":21188820,"answer_count":4,"score":40,"last_activity_date":1676162921,"creation_date":1389968920,"question_id":21188239,"body_markdown":"I wonder whether it makes sense to use instead of \r\n\r\n    @Transactional(propagation = Propagation.REQUIRED, rollbackFor = Exception.class)\r\n\r\nto use `Throwable`\r\n\r\n    @Transactional(propagation = Propagation.REQUIRED, rollbackFor = Throwable.class)\r\n\r\nAs I understand catching `Error` will help us behave correctly even when something really bad happen. Or maybe it wouldn&#39;t help?","title":"Spring transaction: rollback on Exception or Throwable","body":"<p>I wonder whether it makes sense to use instead of </p>\n\n<pre><code>@Transactional(propagation = Propagation.REQUIRED, rollbackFor = Exception.class)\n</code></pre>\n\n<p>to use <code>Throwable</code></p>\n\n<pre><code>@Transactional(propagation = Propagation.REQUIRED, rollbackFor = Throwable.class)\n</code></pre>\n\n<p>As I understand catching <code>Error</code> will help us behave correctly even when something really bad happen. Or maybe it wouldn't help?</p>\n"},{"tags":["java","selenium","maven","testing","automation"],"comments":[{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1675969260,"post_id":75402845,"comment_id":133047422,"body_markdown":"At which line are you stuck?","body":"At which line are you stuck?"},{"owner":{"account_id":27134642,"reputation":5,"user_id":20676344,"display_name":"Muhammet AYDIN"},"score":0,"creation_date":1675970326,"post_id":75402845,"comment_id":133047759,"body_markdown":"WebElement randomFavoriteClick = driver.findElement(By.xpath(&quot;(//*[@class=&#39;m-grid-col-4 product&#39;])[&quot;+randomNum+&quot;]/a/div[1]/span&quot;)); this line.","body":"WebElement randomFavoriteClick = driver.findElement(By.xpath(&quot;(//*[@class=&#39;m-grid-col-4 product&#39;])[&quot;+randomNum+&quot;]/a/div[1]/span&quot;)); this line."}],"answers":[{"tags":[],"owner":{"account_id":27134642,"reputation":5,"user_id":20676344,"display_name":"Muhammet AYDIN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675983155,"creation_date":1675983155,"answer_id":75405278,"question_id":75402845,"body_markdown":"To confirm exactly where I want to click, I added &quot;actions&quot; to the project and moved my cursor over the element before clicking with the MoveToElement function and it works for now.\r\n\r\n    Actions actions = new Actions(driver);\r\n\r\n    for (int i = 0; i &lt; 3; i++) {\r\n            Random random = new Random();\r\n            int productOrder = driver.findElements(By.xpath(&quot;//*[contains(@class, &#39;m-grid-col-4 product&#39;)]&quot;)).size();\r\n            int randomNum = random.nextInt(productOrder)+1;\r\n            TimeUnit.SECONDS.sleep(2);\r\n            System.out.println(randomNum + &quot;th product selected&quot;);\r\n            TimeUnit.SECONDS.sleep(2);\r\n            //int newRandom = randomNum+1;\r\n            TimeUnit.SECONDS.sleep(2);\r\n            WebElement randomFavoriteClick = driver.findElement(By.xpath(&quot;(//*[@class=&#39;m-grid-col-4 product&#39;])[&quot;+randomNum+&quot;]/a/div[1]/span&quot;));\r\n            actions.moveToElement(randomFavoriteClick);\r\n            TimeUnit.SECONDS.sleep(2);\r\n            js.executeScript(&quot;arguments[0].scrollIntoView();&quot;, randomFavoriteClick);\r\n            TimeUnit.SECONDS.sleep(4);\r\n            randomFavoriteClick.click();\r\n            TimeUnit.SECONDS.sleep(4);\r\n        }","title":"Selenium Java can&#39;t always click the same place","body":"<p>To confirm exactly where I want to click, I added &quot;actions&quot; to the project and moved my cursor over the element before clicking with the MoveToElement function and it works for now.</p>\n<pre><code>Actions actions = new Actions(driver);\n\nfor (int i = 0; i &lt; 3; i++) {\n        Random random = new Random();\n        int productOrder = driver.findElements(By.xpath(&quot;//*[contains(@class, 'm-grid-col-4 product')]&quot;)).size();\n        int randomNum = random.nextInt(productOrder)+1;\n        TimeUnit.SECONDS.sleep(2);\n        System.out.println(randomNum + &quot;th product selected&quot;);\n        TimeUnit.SECONDS.sleep(2);\n        //int newRandom = randomNum+1;\n        TimeUnit.SECONDS.sleep(2);\n        WebElement randomFavoriteClick = driver.findElement(By.xpath(&quot;(//*[@class='m-grid-col-4 product'])[&quot;+randomNum+&quot;]/a/div[1]/span&quot;));\n        actions.moveToElement(randomFavoriteClick);\n        TimeUnit.SECONDS.sleep(2);\n        js.executeScript(&quot;arguments[0].scrollIntoView();&quot;, randomFavoriteClick);\n        TimeUnit.SECONDS.sleep(4);\n        randomFavoriteClick.click();\n        TimeUnit.SECONDS.sleep(4);\n    }\n</code></pre>\n"}],"owner":{"account_id":27134642,"reputation":5,"user_id":20676344,"display_name":"Muhammet AYDIN"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75405278,"answer_count":1,"score":0,"last_activity_date":1676162835,"creation_date":1675966720,"question_id":75402845,"body_markdown":"I am trying to automate with Java. What I need to do is to choose a random product from the product list and then press the &quot;add to favorite&quot; button on the top left of that product. However, whenever I try to run this test, sometimes it adds the product to the favourite, and sometimes instead of pressing the favorite button, it presses on the product and the test results in an error.\r\n\r\nThe url I&#39;m trying to pick a random product and add to favourite: https://www.turkcell.com.tr/pasaj/cep-telefonu\r\n\r\nmycode:\r\n\r\n    //Add 3 random items\r\n        for (int i = 0; i &lt; 3; i++) {\r\n            Random random = new Random();\r\n            int productOrder = driver.findElements(By.xpath(&quot;//*[contains(@class, &#39;m-grid-col-4 product&#39;)]&quot;)).size();\r\n            int randomNum = random.nextInt(productOrder)+1;\r\n            TimeUnit.SECONDS.sleep(2);\r\n            System.out.println(randomNum + &quot;th product selected&quot;);\r\n            TimeUnit.SECONDS.sleep(2);\r\n            //int newRandom = randomNum+1;\r\n            TimeUnit.SECONDS.sleep(2);\r\n            WebElement randomFavoriteClick = driver.findElement(By.xpath(&quot;(//*[@class=&#39;m-grid-col-4 product&#39;])[&quot;+randomNum+&quot;]/a/div[1]/span&quot;));\r\n            js.executeScript(&quot;arguments[0].scrollIntoView();&quot;, randomFavoriteClick);\r\n            TimeUnit.SECONDS.sleep(5);\r\n            randomFavoriteClick.click();\r\n            TimeUnit.SECONDS.sleep(3);\r\n\r\nI tried changing the Xpaths but nothing changed.","title":"Selenium Java can&#39;t always click the same place","body":"<p>I am trying to automate with Java. What I need to do is to choose a random product from the product list and then press the &quot;add to favorite&quot; button on the top left of that product. However, whenever I try to run this test, sometimes it adds the product to the favourite, and sometimes instead of pressing the favorite button, it presses on the product and the test results in an error.</p>\n<p>The url I'm trying to pick a random product and add to favourite: <a href=\"https://www.turkcell.com.tr/pasaj/cep-telefonu\" rel=\"nofollow noreferrer\">https://www.turkcell.com.tr/pasaj/cep-telefonu</a></p>\n<p>mycode:</p>\n<pre><code>//Add 3 random items\n    for (int i = 0; i &lt; 3; i++) {\n        Random random = new Random();\n        int productOrder = driver.findElements(By.xpath(&quot;//*[contains(@class, 'm-grid-col-4 product')]&quot;)).size();\n        int randomNum = random.nextInt(productOrder)+1;\n        TimeUnit.SECONDS.sleep(2);\n        System.out.println(randomNum + &quot;th product selected&quot;);\n        TimeUnit.SECONDS.sleep(2);\n        //int newRandom = randomNum+1;\n        TimeUnit.SECONDS.sleep(2);\n        WebElement randomFavoriteClick = driver.findElement(By.xpath(&quot;(//*[@class='m-grid-col-4 product'])[&quot;+randomNum+&quot;]/a/div[1]/span&quot;));\n        js.executeScript(&quot;arguments[0].scrollIntoView();&quot;, randomFavoriteClick);\n        TimeUnit.SECONDS.sleep(5);\n        randomFavoriteClick.click();\n        TimeUnit.SECONDS.sleep(3);\n</code></pre>\n<p>I tried changing the Xpaths but nothing changed.</p>\n"},{"tags":["java","spring-boot","gradle","dependencies"],"comments":[{"owner":{"account_id":12305345,"reputation":450,"user_id":8978587,"display_name":"ShaharT"},"score":0,"creation_date":1676241057,"post_id":75424270,"comment_id":133093066,"body_markdown":"As a start, I would try to add it manually, like `implementation group: &#39;com.fasterxml.jackson.core&#39;, name: &#39;jackson-databind&#39;, version: &#39;2.13.5&#39;`, same for annotations and dataformat-xml ..","body":"As a start, I would try to add it manually, like <code>implementation group: &#39;com.fasterxml.jackson.core&#39;, name: &#39;jackson-databind&#39;, version: &#39;2.13.5&#39;</code>, same for annotations and dataformat-xml .."},{"owner":{"account_id":176410,"reputation":322,"user_id":407088,"accept_rate":75,"display_name":"mcpierce"},"score":0,"creation_date":1676382274,"post_id":75424270,"comment_id":133122568,"body_markdown":"But, where do I add it? Which build file would make it available to the comixed-model project and anything that depends on it?","body":"But, where do I add it? Which build file would make it available to the comixed-model project and anything that depends on it?"}],"owner":{"account_id":176410,"reputation":322,"user_id":407088,"accept_rate":75,"display_name":"mcpierce"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676162761,"creation_date":1676162761,"question_id":75424270,"body_markdown":"I&#39;m working on moving my project&#39;s build from Maven to Gradle, and using Kotlin as the DSL within Gradle. Here is [my working branch][1]. The project currently is a multi-module project, and I&#39;m using the ```gradle-root``` subdirectory in the repo to slowly migrate each module over to using Gradle. The project is Spring Boot based.\r\n\r\nThe issue I&#39;m hitting at the moment is with the first submodule I&#39;m trying to move, which is the data model (```comixed-model```, which has no project dependencies). I can figure out how to tell Gradle how to get the dependencies it needs, such as Jackson FasterXML. \r\n\r\nI&#39;ve configured the project to use the Spring Boot plugin. But the FasterXML dependencies aren&#39;t being found. Instead, I get:\r\n\r\n    -&gt; % gradle clean build\r\n    &gt; Task :comixed-model:compileJava FAILED\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:comixed-model:compileJava&#39;.\r\n    &gt; Could not resolve all files for configuration &#39;:comixed-model:compileClasspath&#39;.\r\n       &gt; Could not find com.fasterxml.jackson.core:jackson-annotations:.\r\n         Required by:\r\n             project :comixed-model\r\n       &gt; Could not find com.fasterxml.jackson.core:jackson-databind:.\r\n         Required by:\r\n             project :comixed-model\r\n       &gt; Could not find com.fasterxml.jackson.dataformat:jackson-dataformat-xml:.\r\n         Required by:\r\n             project :comixed-model\r\n    \r\n    * Try:\r\n    &gt; Run with --stacktrace option to get the stack trace.\r\n    &gt; Run with --info or --debug option to get more log output.\r\n    &gt; Run with --scan to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    BUILD FAILED in 616ms\r\n    15 actionable tasks: 5 executed, 10 up-to-date\r\n\r\nI&#39;m not sure what I&#39;ve done wrong, and Googling doesn&#39;t seem to be showing me any solutions.\r\n\r\n  [1]: https://github.com/mcpierce/comixed/tree/feature/issue-1444","title":"Gradle not finding dependencies","body":"<p>I'm working on moving my project's build from Maven to Gradle, and using Kotlin as the DSL within Gradle. Here is <a href=\"https://github.com/mcpierce/comixed/tree/feature/issue-1444\" rel=\"nofollow noreferrer\">my working branch</a>. The project currently is a multi-module project, and I'm using the <code>gradle-root</code> subdirectory in the repo to slowly migrate each module over to using Gradle. The project is Spring Boot based.</p>\n<p>The issue I'm hitting at the moment is with the first submodule I'm trying to move, which is the data model (<code>comixed-model</code>, which has no project dependencies). I can figure out how to tell Gradle how to get the dependencies it needs, such as Jackson FasterXML.</p>\n<p>I've configured the project to use the Spring Boot plugin. But the FasterXML dependencies aren't being found. Instead, I get:</p>\n<pre><code>-&gt; % gradle clean build\n&gt; Task :comixed-model:compileJava FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':comixed-model:compileJava'.\n&gt; Could not resolve all files for configuration ':comixed-model:compileClasspath'.\n   &gt; Could not find com.fasterxml.jackson.core:jackson-annotations:.\n     Required by:\n         project :comixed-model\n   &gt; Could not find com.fasterxml.jackson.core:jackson-databind:.\n     Required by:\n         project :comixed-model\n   &gt; Could not find com.fasterxml.jackson.dataformat:jackson-dataformat-xml:.\n     Required by:\n         project :comixed-model\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 616ms\n15 actionable tasks: 5 executed, 10 up-to-date\n</code></pre>\n<p>I'm not sure what I've done wrong, and Googling doesn't seem to be showing me any solutions.</p>\n"},{"tags":["java","junit","cucumber"],"comments":[{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1658692825,"post_id":73100863,"comment_id":129108607,"body_markdown":"Have a look at https://stackoverflow.com/questions/57131198/using-multiple-classes-in-cucumber-glue-option-package/57131960#57131960 it has the same problem caused by extending a class with step definitions.","body":"Have a look at <a href=\"https://stackoverflow.com/questions/57131198/using-multiple-classes-in-cucumber-glue-option-package/57131960#57131960\" title=\"using multiple classes in cucumber glue option package\">stackoverflow.com/questions/57131198/&hellip;</a> it has the same problem caused by extending a class with step definitions."},{"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"score":0,"creation_date":1658698495,"post_id":73100863,"comment_id":129109692,"body_markdown":"@M.P.Korstanje thanks a lot, but there aren&#39;t about Before/After hooks - there are about scenario leaking. The manual even mentioned in first steps - &quot;make sure you clear your DB in Before step&quot; - I can&#39;t implement Before step","body":"@M.P.Korstanje thanks a lot, but there aren&#39;t about Before/After hooks - there are about scenario leaking. The manual even mentioned in first steps - &quot;make sure you clear your DB in Before step&quot; - I can&#39;t implement Before step"}],"answers":[{"tags":[],"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658706168,"creation_date":1658702515,"answer_id":73102587,"question_id":73100863,"body_markdown":"Your setup is wrong in a few ways and this means that your project will never work. However you are too focused on getting to your objective to see it.\r\n\r\nFollow these rules and you&#39;ll get closer to fixing it. Understanding will come later.\r\n\r\n1) Never use `extends`.\r\n2) Have a single class, and only that one class, anotated with *both* `@RunWith` and `@CucumberOptions`.\r\n3) Do not use Cucumbers `@Given/When/Then/Before/After` in the class annotated with `@RunWith`.\r\n4) Only use JUnits `@BeforeClass/AfterClass` in the class annotated with `@RunWith`.\r\n5) Do not use event listeners for anything but reporting. So in your case, do not use them.\r\n\r\n---\r\n\r\nAlternatively delete your code and start with a new project by following the [10 minute tutorial](https://docs.cucumber.io/docs/guides/10-minute-tutorial/) and then use Cucumbers `@BeforeAll/AfterAll` annotation.\r\n\r\nhttps://github.com/cucumber/cucumber-jvm/tree/main/java#beforeall--afterall\r\n```\r\npackage io.cucumber.example;\r\n\r\nimport io.cucumber.java.AfterAll;\r\nimport io.cucumber.java.BeforeAll;\r\n\r\npublic class StepDefinitions {\r\n\r\n    @BeforeAll\r\n    public static void beforeAll() {\r\n        // Runs before all scenarios\r\n    }\r\n\r\n    @AfterAll\r\n    public static void afterAll() {\r\n        // Runs after all scenarios\r\n    }\r\n}\r\n```\r\n\r\nThis also means you&#39;ll be using JUnit 5 instead of JUnit 4.\r\n\r\nhttps://github.com/cucumber/cucumber-jvm/tree/main/junit-platform-engine#cucumber-junit-platform-engine","title":"How to correctly intercept @Before and @After methods in cucumber + JUnit project?","body":"<p>Your setup is wrong in a few ways and this means that your project will never work. However you are too focused on getting to your objective to see it.</p>\n<p>Follow these rules and you'll get closer to fixing it. Understanding will come later.</p>\n<ol>\n<li>Never use <code>extends</code>.</li>\n<li>Have a single class, and only that one class, anotated with <em>both</em> <code>@RunWith</code> and <code>@CucumberOptions</code>.</li>\n<li>Do not use Cucumbers <code>@Given/When/Then/Before/After</code> in the class annotated with <code>@RunWith</code>.</li>\n<li>Only use JUnits <code>@BeforeClass/AfterClass</code> in the class annotated with <code>@RunWith</code>.</li>\n<li>Do not use event listeners for anything but reporting. So in your case, do not use them.</li>\n</ol>\n<hr />\n<p>Alternatively delete your code and start with a new project by following the <a href=\"https://docs.cucumber.io/docs/guides/10-minute-tutorial/\" rel=\"nofollow noreferrer\">10 minute tutorial</a> and then use Cucumbers <code>@BeforeAll/AfterAll</code> annotation.</p>\n<p><a href=\"https://github.com/cucumber/cucumber-jvm/tree/main/java#beforeall--afterall\" rel=\"nofollow noreferrer\">https://github.com/cucumber/cucumber-jvm/tree/main/java#beforeall--afterall</a></p>\n<pre><code>package io.cucumber.example;\n\nimport io.cucumber.java.AfterAll;\nimport io.cucumber.java.BeforeAll;\n\npublic class StepDefinitions {\n\n    @BeforeAll\n    public static void beforeAll() {\n        // Runs before all scenarios\n    }\n\n    @AfterAll\n    public static void afterAll() {\n        // Runs after all scenarios\n    }\n}\n</code></pre>\n<p>This also means you'll be using JUnit 5 instead of JUnit 4.</p>\n<p><a href=\"https://github.com/cucumber/cucumber-jvm/tree/main/junit-platform-engine#cucumber-junit-platform-engine\" rel=\"nofollow noreferrer\">https://github.com/cucumber/cucumber-jvm/tree/main/junit-platform-engine#cucumber-junit-platform-engine</a></p>\n"},{"tags":[],"owner":{"account_id":10726280,"reputation":67,"user_id":7893703,"display_name":"Anil Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676162188,"creation_date":1675765770,"answer_id":75372066,"question_id":73100863,"body_markdown":"Feature file:\r\n\r\nFeature: Login\r\n\r\n  Test Login functionality\r\n\r\n  Scenario Outline: \r\n1. Login to application with valid user name and password\r\n2. Given User is on login page\r\n3. When The user logins to app with username as `&lt;username&gt;` and password as `&lt;password&gt;`\r\n4. Then The user should login successfully and is brought to the inventory page\r\n\r\n    Examples:\r\n``` \r\n      | username      | password     |\r\n      | standard_user | secret_sauce |\r\n```\r\nStep definition:\r\n    \r\n        import io.cucumber.java.After;\r\n        import io.cucumber.java.Before;\r\n        import io.cucumber.java.en.Given;\r\n        import io.cucumber.java.en.Then;\r\n        import io.cucumber.java.en.When;\r\n        \r\n        public class SauceDemoStepDefinition {\r\n        \r\n        \t@Before\r\n        \tpublic void setup() throws Exception {\r\n        \t\tSystem.out.println(&quot;Before&quot;);\r\n        \t}\r\n        \r\n        \t@After\r\n        \tpublic void tearDown() throws Exception {\r\n        \t\tSystem.out.println(&quot;After&quot;);\r\n        \t}\r\n        \r\n        \t@Given(&quot;^User is on login page$&quot;)\r\n        \tpublic void user_is_on_login_page() throws Exception {\r\n        \t\tSystem.out.println(&quot;Launch login page&quot;);\r\n        \t}\r\n        \r\n        \t@When(&quot;The user logins to app with username as {string} and password as {string}&quot;)\r\n        \tpublic void the_user_logins_to_app_with_username_as_and_password_as(String username, String password)\r\n        \t\t\tthrows Exception {\r\n        \t\tSystem.out.println(&quot;Login to app&quot;);\r\n        \t}\r\n        \r\n        \t@Then(&quot;The user should login successfully and is brought to the inventory page&quot;)\r\n        \tpublic void the_user_should_login_successfully_and_is_brought_to_the_inventory_page() throws Exception {\r\n        \t\tSystem.out.println(&quot;Navigate to next page&quot;);\r\n        \t}\r\n        \r\n        }\r\n    \r\nTestNG Test Runner:\r\n\r\n    import org.testng.annotations.DataProvider;\r\n    \r\n    import io.cucumber.testng.AbstractTestNGCucumberTests;\r\n    import io.cucumber.testng.CucumberOptions;\r\n    \r\n    @CucumberOptions(\r\n    \t\t// Features\r\n    \t\tfeatures = &quot;&lt;feature file path&gt;&quot;,\r\n    \r\n    \t\t// Glue\r\n    \t\tglue = { &quot;&lt;step definition package name&gt;&quot; }, \r\n    \t\tplugin = { &quot;json:target/reports/cucumber8.json&quot;,\r\n    \t\t\t\t&quot;rerun:target/rerun.txt&quot; }, \r\n    \t\ttags = &quot;not @smoke&quot;, \r\n    \t\tmonochrome = true\r\n    \r\n    )\r\n    \r\n        public class SauceDemoRunner extends AbstractTestNGCucumberTests {\r\n        \r\n        \t@Override\r\n        \t@DataProvider()\r\n        \tpublic Object[][] scenarios() {\r\n        \t\treturn super.scenarios();\r\n        \t}\r\n        \r\n        }\r\n    \r\nTestNG file:\r\n    \r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\r\n        &lt;suite name=&quot;Sauce Demo Cucumber Test Automation&quot;&gt;\r\n        \t&lt;test thread-count=&quot;2&quot; name=&quot;test&quot; parallel=&quot;classes&quot;&gt;\r\n        \t\t&lt;classes&gt;\r\n        \t\t\t&lt;class name=&quot;runner file class path with package name&quot; /&gt;\r\n        \t\t&lt;/classes&gt;\r\n        \t&lt;/test&gt; &lt;!-- Test --&gt;\r\n        &lt;/suite&gt; &lt;!-- Suite --&gt;\r\n\r\n","title":"How to correctly intercept @Before and @After methods in cucumber + JUnit project?","body":"<p>Feature file:</p>\n<p>Feature: Login</p>\n<p>Test Login functionality</p>\n<p>Scenario Outline:</p>\n<ol>\n<li><p>Login to application with valid user name and password</p>\n</li>\n<li><p>Given User is on login page</p>\n</li>\n<li><p>When The user logins to app with username as <code>&lt;username&gt;</code> and password as <code>&lt;password&gt;</code></p>\n</li>\n<li><p>Then The user should login successfully and is brought to the inventory page</p>\n<p>Examples:</p>\n</li>\n</ol>\n<pre><code>      | username      | password     |\n      | standard_user | secret_sauce |\n</code></pre>\n<p>Step definition:</p>\n<pre><code>    import io.cucumber.java.After;\n    import io.cucumber.java.Before;\n    import io.cucumber.java.en.Given;\n    import io.cucumber.java.en.Then;\n    import io.cucumber.java.en.When;\n    \n    public class SauceDemoStepDefinition {\n    \n        @Before\n        public void setup() throws Exception {\n            System.out.println(&quot;Before&quot;);\n        }\n    \n        @After\n        public void tearDown() throws Exception {\n            System.out.println(&quot;After&quot;);\n        }\n    \n        @Given(&quot;^User is on login page$&quot;)\n        public void user_is_on_login_page() throws Exception {\n            System.out.println(&quot;Launch login page&quot;);\n        }\n    \n        @When(&quot;The user logins to app with username as {string} and password as {string}&quot;)\n        public void the_user_logins_to_app_with_username_as_and_password_as(String username, String password)\n                throws Exception {\n            System.out.println(&quot;Login to app&quot;);\n        }\n    \n        @Then(&quot;The user should login successfully and is brought to the inventory page&quot;)\n        public void the_user_should_login_successfully_and_is_brought_to_the_inventory_page() throws Exception {\n            System.out.println(&quot;Navigate to next page&quot;);\n        }\n    \n    }\n</code></pre>\n<p>TestNG Test Runner:</p>\n<pre><code>import org.testng.annotations.DataProvider;\n\nimport io.cucumber.testng.AbstractTestNGCucumberTests;\nimport io.cucumber.testng.CucumberOptions;\n\n@CucumberOptions(\n        // Features\n        features = &quot;&lt;feature file path&gt;&quot;,\n\n        // Glue\n        glue = { &quot;&lt;step definition package name&gt;&quot; }, \n        plugin = { &quot;json:target/reports/cucumber8.json&quot;,\n                &quot;rerun:target/rerun.txt&quot; }, \n        tags = &quot;not @smoke&quot;, \n        monochrome = true\n\n)\n\n    public class SauceDemoRunner extends AbstractTestNGCucumberTests {\n    \n        @Override\n        @DataProvider()\n        public Object[][] scenarios() {\n            return super.scenarios();\n        }\n    \n    }\n</code></pre>\n<p>TestNG file:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\n    &lt;suite name=&quot;Sauce Demo Cucumber Test Automation&quot;&gt;\n        &lt;test thread-count=&quot;2&quot; name=&quot;test&quot; parallel=&quot;classes&quot;&gt;\n            &lt;classes&gt;\n                &lt;class name=&quot;runner file class path with package name&quot; /&gt;\n            &lt;/classes&gt;\n        &lt;/test&gt; &lt;!-- Test --&gt;\n    &lt;/suite&gt; &lt;!-- Suite --&gt;\n</code></pre>\n"}],"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1024,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676162188,"creation_date":1658685800,"question_id":73100863,"body_markdown":"I try to switch from the TestNG to the Cucumber + JUnit, but can&#39;t intercept tests before/after suit.\r\nAlso, I can&#39;t add an error interception.\r\n\r\nProject structure:\r\n\r\n```\r\nmy-app/\r\n├─ src/\r\n│  ├─ test/\r\n│  │  ├─ java/\r\n│  │  │  ├─ LoginTest.java\r\n│  │  │  ├─ BaseTest.java\r\n│  │  ├─ resources/\r\n│  │  │  ├─ login.feature\r\n```\r\n\r\n- LoginTest:\r\n\r\n```java\r\n@CucumberOptions(\r\n        features = {&quot;classpath:loginform.feature&quot;}\r\n)\r\npublic class LoginTest extends BaseTest{\r\n    @Given(&quot;^The login page opened \\&quot;([^\\&quot;]*)\\&quot;$&quot;)\r\n    public void openTheHomePage(String url) {\r\n        System.out.println(&quot;Start&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\n- BaseTest:\r\n\r\n```java\r\n\r\n    @RunWith(Cucumber.class)\r\n    public class BaseTest {\r\n\r\n    @Before\r\n    public void init(){\r\n        System.out.println(&quot;Before);\r\n    }\r\n\r\n    public void quit(){\r\n        System.out.println(&quot;After&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\nWhen I use `import org.junit.Before;` nothing happened, when I use `import io.cucumber.java.Before;` I get the compile error:\r\n\r\n```\r\nSuppressed: io.cucumber.java.InvalidMethodException: You&#39;re not allowed to extend classes that define Step Definitions or hooks. class slotgentesting.steps.LoginTest extends class slotgentesting.steps.BaseTest\r\n```\r\n\r\n# Also I try to intercept TestCases with `ConcurrentEventListener`:\r\n\r\n```java\r\npublic class MyTestListener implements ConcurrentEventListener {\r\n    @Override\r\n    public void setEventPublisher(EventPublisher publisher) {\r\n        publisher.registerHandlerFor(TestCaseFinished.class, this::handleTestCaseFinished);\r\n    }\r\n\r\n    private void handleTestCaseFinished(TestCaseFinished event) {\r\n        TestCase testCase = event.getTestCase();\r\n        Result result = event.getResult();\r\n        Status status = result.getStatus();\r\n        Throwable error = result.getError();\r\n        String scenarioName = testCase.getName();\r\n        String id = &quot;&quot; + testCase.getUri() + testCase.getLine();\r\n        System.out.println(&quot;Testcase &quot; + id + &quot; - &quot; + status.name());\r\n    }\r\n}\r\n```\r\n\r\nBut the code also did not execute there.\r\nI can&#39;t understand how to use such listeners, when I even haven&#39;t `@Listeners` annotation like in `TestNG`\r\n\r\n","title":"How to correctly intercept @Before and @After methods in cucumber + JUnit project?","body":"<p>I try to switch from the TestNG to the Cucumber + JUnit, but can't intercept tests before/after suit.\nAlso, I can't add an error interception.</p>\n<p>Project structure:</p>\n<pre><code>my-app/\n├─ src/\n│  ├─ test/\n│  │  ├─ java/\n│  │  │  ├─ LoginTest.java\n│  │  │  ├─ BaseTest.java\n│  │  ├─ resources/\n│  │  │  ├─ login.feature\n</code></pre>\n<ul>\n<li>LoginTest:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@CucumberOptions(\n        features = {&quot;classpath:loginform.feature&quot;}\n)\npublic class LoginTest extends BaseTest{\n    @Given(&quot;^The login page opened \\&quot;([^\\&quot;]*)\\&quot;$&quot;)\n    public void openTheHomePage(String url) {\n        System.out.println(&quot;Start&quot;);\n    }\n}\n\n</code></pre>\n<ul>\n<li>BaseTest:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>\n    @RunWith(Cucumber.class)\n    public class BaseTest {\n\n    @Before\n    public void init(){\n        System.out.println(&quot;Before);\n    }\n\n    public void quit(){\n        System.out.println(&quot;After&quot;);\n    }\n}\n\n</code></pre>\n<p>When I use <code>import org.junit.Before;</code> nothing happened, when I use <code>import io.cucumber.java.Before;</code> I get the compile error:</p>\n<pre><code>Suppressed: io.cucumber.java.InvalidMethodException: You're not allowed to extend classes that define Step Definitions or hooks. class slotgentesting.steps.LoginTest extends class slotgentesting.steps.BaseTest\n</code></pre>\n<h1>Also I try to intercept TestCases with <code>ConcurrentEventListener</code>:</h1>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyTestListener implements ConcurrentEventListener {\n    @Override\n    public void setEventPublisher(EventPublisher publisher) {\n        publisher.registerHandlerFor(TestCaseFinished.class, this::handleTestCaseFinished);\n    }\n\n    private void handleTestCaseFinished(TestCaseFinished event) {\n        TestCase testCase = event.getTestCase();\n        Result result = event.getResult();\n        Status status = result.getStatus();\n        Throwable error = result.getError();\n        String scenarioName = testCase.getName();\n        String id = &quot;&quot; + testCase.getUri() + testCase.getLine();\n        System.out.println(&quot;Testcase &quot; + id + &quot; - &quot; + status.name());\n    }\n}\n</code></pre>\n<p>But the code also did not execute there.\nI can't understand how to use such listeners, when I even haven't <code>@Listeners</code> annotation like in <code>TestNG</code></p>\n"},{"tags":["java","intellij-idea","javafx","java-9","java-10"],"comments":[{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1535678894,"post_id":52105820,"comment_id":91165493,"body_markdown":"Well, some error message or actual code in question could have helped understand what you&#39;ve tried to explain theoretically mostly.","body":"Well, some error message or actual code in question could have helped understand what you&#39;ve tried to explain theoretically mostly."},{"owner":{"account_id":10098519,"reputation":5323,"user_id":7463126,"display_name":"Alan Bateman"},"score":1,"creation_date":1535697384,"post_id":52105820,"comment_id":91170010,"body_markdown":"The java -version output would be useful too as Oracle JDK 10 builds include the Java FX modules, the OpenJDK builds of JDK 10 do not.","body":"The java -version output would be useful too as Oracle JDK 10 builds include the Java FX modules, the OpenJDK builds of JDK 10 do not."}],"answers":[{"tags":[],"owner":{"account_id":17645425,"reputation":12764,"user_id":12806961,"display_name":"Code on the Rocks"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676162140,"creation_date":1676162140,"answer_id":75424236,"question_id":52105820,"body_markdown":"You can follow the [steps on the openjfx website to add JavaFX to IntelliJ][1] (look under the JavaFX and IntelliJ section on the left-hand menu).\r\n\r\n 1. Install JavaFX from [here][2]\r\n\r\n 2. Navigate to File -&gt; Project Settings\r\n\r\n 3. Install SDK 19\r\n\r\n 4. On the Libraries tab, add the JavaFX 19 SDK as a library to the project\r\n\r\n\r\n  [1]: https://openjfx.io/openjfx-docs/#introduction\r\n  [2]: https://gluonhq.com/products/javafx/","title":"Idea says &quot;The JavaFX runtime is not configured. Either use a JDK that has the JavaFX built in, or add a JavaFX library to the classpath&quot;","body":"<p>You can follow the <a href=\"https://openjfx.io/openjfx-docs/#introduction\" rel=\"nofollow noreferrer\">steps on the openjfx website to add JavaFX to IntelliJ</a> (look under the JavaFX and IntelliJ section on the left-hand menu).</p>\n<ol>\n<li><p>Install JavaFX from <a href=\"https://gluonhq.com/products/javafx/\" rel=\"nofollow noreferrer\">here</a></p>\n</li>\n<li><p>Navigate to File -&gt; Project Settings</p>\n</li>\n<li><p>Install SDK 19</p>\n</li>\n<li><p>On the Libraries tab, add the JavaFX 19 SDK as a library to the project</p>\n</li>\n</ol>\n"}],"owner":{"account_id":1512052,"reputation":907,"user_id":1413900,"accept_rate":61,"display_name":"Travis Well"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4398,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1676162140,"creation_date":1535665753,"question_id":52105820,"body_markdown":"I recently installed Java 10. The JavaFX project I opened runs with Java 8, and its &quot;Project SDK&quot; and &quot;Project language level&quot; in Idea are both set to use JDK 8, and Java 8 includes the jfxrt.jar file where it&#39;s supposed to be (jre/lib/ext). I can build and run the project on the command line with Gradle without issue.\r\n\r\nIf I modify how Idea starts up to use Java 8, Idea doesn&#39;t complain.\r\n\r\nSo... is this a bug? I&#39;m not up on the new dependency tree stuff, but shouldn&#39;t Idea declare JavaFX as a dependency if it needs it? Clearly the project I&#39;m working on is set up fine.","title":"Idea says &quot;The JavaFX runtime is not configured. Either use a JDK that has the JavaFX built in, or add a JavaFX library to the classpath&quot;","body":"<p>I recently installed Java 10. The JavaFX project I opened runs with Java 8, and its \"Project SDK\" and \"Project language level\" in Idea are both set to use JDK 8, and Java 8 includes the jfxrt.jar file where it's supposed to be (jre/lib/ext). I can build and run the project on the command line with Gradle without issue.</p>\n\n<p>If I modify how Idea starts up to use Java 8, Idea doesn't complain.</p>\n\n<p>So... is this a bug? I'm not up on the new dependency tree stuff, but shouldn't Idea declare JavaFX as a dependency if it needs it? Clearly the project I'm working on is set up fine.</p>\n"},{"tags":["java","spring","spring-boot","h2"],"comments":[{"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"score":1,"creation_date":1676158594,"post_id":75423773,"comment_id":133082217,"body_markdown":"I don&#180;t think there is an inbuilt function for this. You could Query your repository with a `count(*)`, then get a random number in in java and access this onbject via findById(). Since you are using a h2 it seams your application is rather small. Maybe it is a viable solution to `repository.findAll()` and the access a random element in the resultion Iterable --&gt; https://www.baeldung.com/java-random-list-element","body":"I don&#180;t think there is an inbuilt function for this. You could Query your repository with a <code>count(*)</code>, then get a random number in in java and access this onbject via findById(). Since you are using a h2 it seams your application is rather small. Maybe it is a viable solution to <code>repository.findAll()</code> and the access a random element in the resultion Iterable --&gt; <a href=\"https://www.baeldung.com/java-random-list-element\" rel=\"nofollow noreferrer\">baeldung.com/java-random-list-element</a>"}],"answers":[{"tags":[],"owner":{"account_id":3583855,"reputation":150,"user_id":2991440,"display_name":"krishnan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676160511,"creation_date":1676160511,"answer_id":75424133,"question_id":75423773,"body_markdown":"You can use the function [RAND][1] to return a random row from the table.\r\n\r\nCreate a repository method using the following query.\r\n\r\n    SELECT * FROM CARS ORDER BY RAND() LIMIT 1\r\n\r\n\r\n  [1]: http://www.h2database.com/html/functions.html#rand","title":"How to get random entity from H2 database in Java Spring?","body":"<p>You can use the function <a href=\"http://www.h2database.com/html/functions.html#rand\" rel=\"nofollow noreferrer\">RAND</a> to return a random row from the table.</p>\n<p>Create a repository method using the following query.</p>\n<pre><code>SELECT * FROM CARS ORDER BY RAND() LIMIT 1\n</code></pre>\n"}],"owner":{"account_id":24708320,"reputation":89,"user_id":18598837,"display_name":"Farkhad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676160511,"creation_date":1676155205,"question_id":75423773,"body_markdown":"In my project I create two entities of Car class. These entities are loaded inside h2 database with their unique id. What I want to do is to return randomly chosen entity, like this: \r\n\r\n    @GetMapping(&quot;/cars/random&quot;}\r\n    Iterable&lt;Cars&gt; getRandomCar(){\r\n    return carsRepository.random;\r\n    }\r\nI know that method body here is incorrect, but I&#39;m just trying to clearly explain what I want to achieve. I don&#39;t know how to implement it, and I couldn&#39;t find anything online. Maybe someone knows how can I do it? ","title":"How to get random entity from H2 database in Java Spring?","body":"<p>In my project I create two entities of Car class. These entities are loaded inside h2 database with their unique id. What I want to do is to return randomly chosen entity, like this:</p>\n<pre><code>@GetMapping(&quot;/cars/random&quot;}\nIterable&lt;Cars&gt; getRandomCar(){\nreturn carsRepository.random;\n}\n</code></pre>\n<p>I know that method body here is incorrect, but I'm just trying to clearly explain what I want to achieve. I don't know how to implement it, and I couldn't find anything online. Maybe someone knows how can I do it?</p>\n"},{"tags":["java","graphics"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":3,"creation_date":1676160564,"post_id":75424114,"comment_id":133082412,"body_markdown":"The `JPanel` has to be in focus for the `KeyListener` to work.  Use [Key Bindings](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html) instead.","body":"The <code>JPanel</code> has to be in focus for the <code>KeyListener</code> to work.  Use <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">Key Bindings</a> instead."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1676169080,"post_id":75424114,"comment_id":133083150,"body_markdown":"A quick search of &quot;my `KeyListener` doesn&#39;t work&quot; would quickly lead you to the conclusion that `KeyListener`s are an inappropriate solution for what you&#39;re trying to achieve and instead, you should be using [Key Bindings](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html), which will solve the short comings of `KeyListener`s in this use case.  Any other solution is a hack around an otherwise solvable problem and should be avoid","body":"A quick search of &quot;my <code>KeyListener</code> doesn&#39;t work&quot; would quickly lead you to the conclusion that <code>KeyListener</code>s are an inappropriate solution for what you&#39;re trying to achieve and instead, you should be using <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">Key Bindings</a>, which will solve the short comings of <code>KeyListener</code>s in this use case.  Any other solution is a hack around an otherwise solvable problem and should be avoid"},{"owner":{"account_id":3477991,"reputation":3445,"user_id":2910751,"accept_rate":90,"display_name":"Martin Frank"},"score":0,"creation_date":1677665089,"post_id":75424114,"comment_id":133380996,"body_markdown":"i strongly advise to take that approach from @MadProgrammer serious, that would be the proper way to handle Keyboard Input!","body":"i strongly advise to take that approach from @MadProgrammer serious, that would be the proper way to handle Keyboard Input!"}],"owner":{"account_id":27128994,"reputation":11,"user_id":20671480,"display_name":"Yes 59"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676160202,"creation_date":1676160202,"question_id":75424114,"body_markdown":"My KeyListener doesn&#39;t do anything when I press a key heres the KeyListener\r\n\r\n```\r\nprivate class KeyListen implements KeyListener\r\n\t{\r\n\r\n\t\tpublic void keyTyped(KeyEvent e)\r\n\t\t{\r\n\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\tpublic void keyPressed(KeyEvent e)\r\n\t\t{\r\n\t\t\tswitch(e.getKeyCode())\r\n\t\t\t{\r\n\t\t\t\tcase KeyEvent.VK_LEFT:\r\n\t\t\t\t\tcurrent.movePiece(-1*BLOCK_SIZE, 0);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase KeyEvent.VK_RIGHT:\r\n\t\t\t\t\tcurrent.movePiece(BLOCK_SIZE, 0);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\trepaint();\r\n\t\t\tSystem.out.println(&quot;Pressed&quot;);\r\n\t\t}\r\n\r\n\t\tpublic void keyReleased(KeyEvent e)\r\n\t\t{\r\n\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n```\r\n\r\nheres the line that adds it in my JPanel\r\n\r\n\r\n```\r\nthis.addKeyListener(new KeyListen());\r\n```\r\n\r\n\r\nI pressed all the keys on my keyboard and was expecting the words &quot;pressed&quot; to be printed to the terminal or for my block to update but that implementation isn&#39;t shown","title":"KeyListener wont work in my JFrame on java while trying to run graphics","body":"<p>My KeyListener doesn't do anything when I press a key heres the KeyListener</p>\n<pre><code>private class KeyListen implements KeyListener\n    {\n\n        public void keyTyped(KeyEvent e)\n        {\n            // TODO Auto-generated method stub\n            \n        }\n\n        public void keyPressed(KeyEvent e)\n        {\n            switch(e.getKeyCode())\n            {\n                case KeyEvent.VK_LEFT:\n                    current.movePiece(-1*BLOCK_SIZE, 0);\n                    break;\n                case KeyEvent.VK_RIGHT:\n                    current.movePiece(BLOCK_SIZE, 0);\n                    break;\n            }\n            repaint();\n            System.out.println(&quot;Pressed&quot;);\n        }\n\n        public void keyReleased(KeyEvent e)\n        {\n            // TODO Auto-generated method stub\n            \n        }\n    }\n</code></pre>\n<p>heres the line that adds it in my JPanel</p>\n<pre><code>this.addKeyListener(new KeyListen());\n</code></pre>\n<p>I pressed all the keys on my keyboard and was expecting the words &quot;pressed&quot; to be printed to the terminal or for my block to update but that implementation isn't shown</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"score":1,"creation_date":1676145026,"post_id":75422881,"comment_id":133080238,"body_markdown":"Welcome to StackOverflow! Please add a https://stackoverflow.com/help/minimal-reproducible-example. (It&#39;s not clear how you are creating that array, but probably you need to call `.toArray(String[]::new)` instead of `.toArray()`).","body":"Welcome to StackOverflow! Please add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>. (It&#39;s not clear how you are creating that array, but probably you need to call <code>.toArray(String[]::new)</code> instead of <code>.toArray()</code>)."}],"answers":[{"tags":[],"owner":{"account_id":15263230,"reputation":133,"user_id":11012656,"display_name":"Johann Kexel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676146032,"creation_date":1676146032,"answer_id":75422997,"question_id":75422881,"body_markdown":"Not quite sure, if I got you right. \r\n`input.split(&quot; &quot;)` already returns an array of strings. To create a List out of this array, you just have to use \r\n\r\n    Arrays.asList(input.split(&quot; &quot;))","title":"Why the Java lib stream() creates an array of objects when the element streamed is a splited string?","body":"<p>Not quite sure, if I got you right.\n<code>input.split(&quot; &quot;)</code> already returns an array of strings. To create a List out of this array, you just have to use</p>\n<pre><code>Arrays.asList(input.split(&quot; &quot;))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27484746,"reputation":1,"user_id":20971185,"display_name":"Kirill"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676147354,"creation_date":1676146107,"answer_id":75423003,"question_id":75422881,"body_markdown":"An array in Java is internally also an [object][1]. \r\n\r\nThe reason for this output is that the  `toString()` (which is used for output to `println`) method is implemented in the `String` class, but not in the `Array` object. Therefore, the standard `toString()` from the parent `Object` class is used. For similar output, you can use `Arrays.toString()`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-10.html","title":"Why the Java lib stream() creates an array of objects when the element streamed is a splited string?","body":"<p>An array in Java is internally also an <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-10.html\" rel=\"nofollow noreferrer\">object</a>.</p>\n<p>The reason for this output is that the  <code>toString()</code> (which is used for output to <code>println</code>) method is implemented in the <code>String</code> class, but not in the <code>Array</code> object. Therefore, the standard <code>toString()</code> from the parent <code>Object</code> class is used. For similar output, you can use <code>Arrays.toString()</code>.</p>\n"},{"tags":[],"owner":{"account_id":27762746,"reputation":1,"user_id":21194824,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676159490,"creation_date":1676158180,"answer_id":75423980,"question_id":75422881,"body_markdown":"If you have a String containing words separated by whitespaces like `String str = &quot;Aaaa Bbbb Cccc&quot;;`, you can get a String array by using just the split method: `String[] arr = str.split(&quot; &quot;);`. Then you can get a List by using `List&lt;String&gt; list = Arrays.asList(arr);`.\r\n\r\nHowever, if I understand your question correctly, you&#39;re asking why you&#39;re getting an Object array instead of a String array when using `Arrays.stream(str.split(&quot; &quot;)).toArray()`. Here, the reason is that the `Arrays.stream()` method has the following implementations: you can pass an `int[]`, `long[]`, or `double[]` array when the array contains primitive data types. You cannot pass any array of other primitive data types like `char[]` as an argument to `Arrays.stream()`. In your case, your array contains objects of the `String` type; however, the implementation of `Array.stream()` uses a generic data type `T[]` for any non-primitive types. An unbound generic array resolves to the type `Object[]` at runtime and cannot easily be converted to any other type like `String[]`. Hence, you get the output that your array is of type `Object[]` rather than type `String[]`.\r\n\r\nSo, if you have your variable `str` containing the words and you call `System.out.println(str.split(&quot; &quot;));`, you will get: `[Ljava.lang.String`. But if you call `System.out.println(Arrays.stream(str.split(&quot; &quot;)).toArray());`, you will get: `[Ljava.lang.Object`. \r\n\r\nIf you want to print the elements of the array in a readable form, you can use the `Arrays.toString()` method: `System.out.println(Arrays.toString(str.split(&quot; &quot;)));`. This will print `[Aaaa, Bbbb, Cccc]` to the console.\r\n\r\nFor the different variants of the `Arrays.stream()` method, see the documentation: [Arrays (Java Platform SE 8)][1]\r\n\r\nIf you want to better understand arrays of a generic type, see this resource on baeldung.com: [Creating a Generic Array in Java][2]\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html\r\n  [2]: https://www.baeldung.com/java-generic-array","title":"Why the Java lib stream() creates an array of objects when the element streamed is a splited string?","body":"<p>If you have a String containing words separated by whitespaces like <code>String str = &quot;Aaaa Bbbb Cccc&quot;;</code>, you can get a String array by using just the split method: <code>String[] arr = str.split(&quot; &quot;);</code>. Then you can get a List by using <code>List&lt;String&gt; list = Arrays.asList(arr);</code>.</p>\n<p>However, if I understand your question correctly, you're asking why you're getting an Object array instead of a String array when using <code>Arrays.stream(str.split(&quot; &quot;)).toArray()</code>. Here, the reason is that the <code>Arrays.stream()</code> method has the following implementations: you can pass an <code>int[]</code>, <code>long[]</code>, or <code>double[]</code> array when the array contains primitive data types. You cannot pass any array of other primitive data types like <code>char[]</code> as an argument to <code>Arrays.stream()</code>. In your case, your array contains objects of the <code>String</code> type; however, the implementation of <code>Array.stream()</code> uses a generic data type <code>T[]</code> for any non-primitive types. An unbound generic array resolves to the type <code>Object[]</code> at runtime and cannot easily be converted to any other type like <code>String[]</code>. Hence, you get the output that your array is of type <code>Object[]</code> rather than type <code>String[]</code>.</p>\n<p>So, if you have your variable <code>str</code> containing the words and you call <code>System.out.println(str.split(&quot; &quot;));</code>, you will get: <code>[Ljava.lang.String</code>. But if you call <code>System.out.println(Arrays.stream(str.split(&quot; &quot;)).toArray());</code>, you will get: <code>[Ljava.lang.Object</code>.</p>\n<p>If you want to print the elements of the array in a readable form, you can use the <code>Arrays.toString()</code> method: <code>System.out.println(Arrays.toString(str.split(&quot; &quot;)));</code>. This will print <code>[Aaaa, Bbbb, Cccc]</code> to the console.</p>\n<p>For the different variants of the <code>Arrays.stream()</code> method, see the documentation: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html\" rel=\"nofollow noreferrer\">Arrays (Java Platform SE 8)</a></p>\n<p>If you want to better understand arrays of a generic type, see this resource on baeldung.com: <a href=\"https://www.baeldung.com/java-generic-array\" rel=\"nofollow noreferrer\">Creating a Generic Array in Java</a></p>\n"}],"owner":{"account_id":20912821,"reputation":49,"user_id":21076969,"display_name":"L&#225;zaro Damasceno"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1676159490,"creation_date":1676144776,"question_id":75422881,"body_markdown":"I have a string as follow &quot;Aaaa Bbbb Cccc&quot;.\r\n\r\nI want to turn this string into a list of strings and an array of string.\r\n\r\n\r\n\r\nTo make this possible, in first place I do the following action:\r\n\r\n`\r\n    var list1 = Arrays.stream(input.split(&quot; &quot;)).toList();\r\n    System.out.println(list1);`\r\n\r\nThen, what appears is `[Aaaa, Bbbb, Cccc]`.\r\n\r\nNow it&#39;s the turn of the array.\r\n\r\nWhen I print the class of the array, Java says it&#39;s has Object as its class (`class [Ljava.lang.Object`).\r\n\r\nWhat can I do get a array of strings instead of Objects?","title":"Why the Java lib stream() creates an array of objects when the element streamed is a splited string?","body":"<p>I have a string as follow &quot;Aaaa Bbbb Cccc&quot;.</p>\n<p>I want to turn this string into a list of strings and an array of string.</p>\n<p>To make this possible, in first place I do the following action:</p>\n<p><code> var list1 = Arrays.stream(input.split(&quot; &quot;)).toList(); System.out.println(list1);</code></p>\n<p>Then, what appears is <code>[Aaaa, Bbbb, Cccc]</code>.</p>\n<p>Now it's the turn of the array.</p>\n<p>When I print the class of the array, Java says it's has Object as its class (<code>class [Ljava.lang.Object</code>).</p>\n<p>What can I do get a array of strings instead of Objects?</p>\n"},{"tags":["java","gradle","java-module"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1676165131,"post_id":75424049,"comment_id":133082805,"body_markdown":"Yes.  A lot of larger applications are built this way.","body":"Yes.  A lot of larger applications are built this way."},{"owner":{"account_id":27529235,"reputation":437,"user_id":21008053,"display_name":"subasri_"},"score":0,"creation_date":1676193277,"post_id":75424049,"comment_id":133085001,"body_markdown":"Yes, you can compartmentalize some of the modules and use them as dependency in your main project. This would make the code more cleaner and easy to maintain.","body":"Yes, you can compartmentalize some of the modules and use them as dependency in your main project. This would make the code more cleaner and easy to maintain."}],"owner":{"account_id":19401148,"reputation":33,"user_id":14187683,"display_name":"Palm"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1676263889,"answer_count":0,"score":1,"last_activity_date":1676159167,"creation_date":1676159167,"question_id":75424049,"body_markdown":"I am a beginner and stumbled upon the Java Module System. Just out of curiosity: Would it be possible to (instead of creating an uber jar with all dependencies) separating my source code and it&#180;s dependencies into seperate modules?\r\n\r\nBack-story to my question: \r\nMy project needs to run on a slow embedded device and cannot be &quot;tested&quot; on my development computer. Therefore, I have to &quot;compile, copy to remote, run, search for bugs&quot; a lot. \r\nTo speed this up, I created a gradle script that does the compile to uber jar, copy to remote and run with a single click. To speed up this process (takes about 15s with Maven and I am impatient), I switched to gradle and avoided building an uber jar (instead the dependencies live on the embedded device and are referenced via classpath in the manifest). If the dependencies could be bundled in some type of module, this approach would be cleaner\r\n\r\nWhat do you think?","title":"Can code and its dependencies be splitted into seperate modules (instead of creating an uber jar containing all of it)?","body":"<p>I am a beginner and stumbled upon the Java Module System. Just out of curiosity: Would it be possible to (instead of creating an uber jar with all dependencies) separating my source code and it´s dependencies into seperate modules?</p>\n<p>Back-story to my question:\nMy project needs to run on a slow embedded device and cannot be &quot;tested&quot; on my development computer. Therefore, I have to &quot;compile, copy to remote, run, search for bugs&quot; a lot.\nTo speed this up, I created a gradle script that does the compile to uber jar, copy to remote and run with a single click. To speed up this process (takes about 15s with Maven and I am impatient), I switched to gradle and avoided building an uber jar (instead the dependencies live on the embedded device and are referenced via classpath in the manifest). If the dependencies could be bundled in some type of module, this approach would be cleaner</p>\n<p>What do you think?</p>\n"},{"tags":["java","android","kotlin","picasso","google-books-api"],"owner":{"account_id":26210426,"reputation":51,"user_id":19889390,"display_name":"Ali El-Sayed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676157848,"creation_date":1676157848,"question_id":75423957,"body_markdown":"**Problem with getting the thumbnails**\r\n\r\nRecently I was working on a project where I was supposed to getting the Book thumbnail from ***Google Books API***\r\n\r\nThe JSON was as the following :\r\n\r\n`&quot;imageLinks&quot;:&#160;`**`{`**`&quot;smallThumbnail&quot;:&#160;&quot;`[`http://books.google.com/books/content?id=2wqEtgAACAAJ&amp;printsec=frontcover&amp;img=1&amp;zoom=5&amp;source=gbs_api`](http://books.google.com/books/content?id=2wqEtgAACAAJ&amp;printsec=frontcover&amp;img=1&amp;zoom=5&amp;source=gbs_api)`&quot;`\r\n\r\n`,&quot;thumbnail&quot;:&#160;&quot;`[`http://books.google.com/books/content?id=2wqEtgAACAAJ&amp;printsec=frontcover&amp;img=1&amp;zoom=1&amp;source=gbs_api`](http://books.google.com/books/content?id=2wqEtgAACAAJ&amp;printsec=frontcover&amp;img=1&amp;zoom=1&amp;source=gbs_api)`&quot;`**`}`**`,`\r\n\r\nI tried ***Picasso*** Lib.\r\n\r\nThe Problem is when I was getting the thumbnail with these links the ***ImageView wasn&#39;t updated***\r\n\r\n***Solution***\r\n\r\nIt&#39;s very simple,  Just replace ***http** with **https***\r\n\r\n**\\*\\*Notice that in both cases the image is already loaded.**","title":"Google Books API with Picasso","body":"<p><strong>Problem with getting the thumbnails</strong></p>\n<p>Recently I was working on a project where I was supposed to getting the Book thumbnail from <em><strong>Google Books API</strong></em></p>\n<p>The JSON was as the following :</p>\n<p><code>&quot;imageLinks&quot;: </code><strong><code>{</code></strong><code>&quot;smallThumbnail&quot;: &quot;</code><a href=\"http://books.google.com/books/content?id=2wqEtgAACAAJ&amp;printsec=frontcover&amp;img=1&amp;zoom=5&amp;source=gbs_api\" rel=\"nofollow noreferrer\"><code>http://books.google.com/books/content?id=2wqEtgAACAAJ&amp;printsec=frontcover&amp;img=1&amp;zoom=5&amp;source=gbs_api</code></a><code>&quot;</code></p>\n<p><code>,&quot;thumbnail&quot;: &quot;</code><a href=\"http://books.google.com/books/content?id=2wqEtgAACAAJ&amp;printsec=frontcover&amp;img=1&amp;zoom=1&amp;source=gbs_api\" rel=\"nofollow noreferrer\"><code>http://books.google.com/books/content?id=2wqEtgAACAAJ&amp;printsec=frontcover&amp;img=1&amp;zoom=1&amp;source=gbs_api</code></a><code>&quot;</code><strong><code>}</code></strong><code>,</code></p>\n<p>I tried <em><strong>Picasso</strong></em> Lib.</p>\n<p>The Problem is when I was getting the thumbnail with these links the <em><strong>ImageView wasn't updated</strong></em></p>\n<p><em><strong>Solution</strong></em></p>\n<p>It's very simple,  Just replace <em><strong>http</strong> with <strong>https</strong></em></p>\n<p><strong>**Notice that in both cases the image is already loaded.</strong></p>\n"},{"tags":["java","html","spring","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676032074,"creation_date":1676032074,"answer_id":75411119,"question_id":75410576,"body_markdown":"I suspect that `bookService.getById(id)` delegates to `JpaRepository.getById()` which in fact returns a proxy with id, not a real entity. When you pass it to `System.out.println()` then `toString()` method is called forcing Hibernate to fetch the data from the database and store it in its 1st level cache, so subsequent calls to `getById()` deal with already loaded entity.\r\n\r\nI think you need to use `JpaRepository.findById()` eagerly getting the entity, not its proxy.","title":"Spring data cannot select book entity without me printing it in console","body":"<p>I suspect that <code>bookService.getById(id)</code> delegates to <code>JpaRepository.getById()</code> which in fact returns a proxy with id, not a real entity. When you pass it to <code>System.out.println()</code> then <code>toString()</code> method is called forcing Hibernate to fetch the data from the database and store it in its 1st level cache, so subsequent calls to <code>getById()</code> deal with already loaded entity.</p>\n<p>I think you need to use <code>JpaRepository.findById()</code> eagerly getting the entity, not its proxy.</p>\n"},{"tags":[],"owner":{"account_id":18419629,"reputation":51,"user_id":13417603,"display_name":"Ohonovskiy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676157581,"creation_date":1676157581,"answer_id":75423932,"question_id":75410576,"body_markdown":"I&#39;m not sure if it&#39;s the best practice but I&#39;ve resolved my problem by creating my own method in interface BookRepo and setting `@Fetch(FetchMode.JOIN);` on it.\r\n\r\n    @Fetch(FetchMode.JOIN)\r\n    Book findBookById(int id);","title":"Spring data cannot select book entity without me printing it in console","body":"<p>I'm not sure if it's the best practice but I've resolved my problem by creating my own method in interface BookRepo and setting <code>@Fetch(FetchMode.JOIN);</code> on it.</p>\n<pre><code>@Fetch(FetchMode.JOIN)\nBook findBookById(int id);\n</code></pre>\n"}],"owner":{"account_id":18419629,"reputation":51,"user_id":13417603,"display_name":"Ohonovskiy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1676157581,"creation_date":1676028898,"question_id":75410576,"body_markdown":"I have controller for selection book entity: \r\n\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    public String bookPage(@PathVariable int id, Model model){\r\n        if(bookService.isExist(id)) {\r\n            //System.out.println(bookService.getById(id));\r\n            model.addAttribute(&quot;book&quot;, bookService.getById(id));\r\n\r\n            return &quot;books/book&quot;;\r\n        }\r\n        return &quot;books/noSuchBook&quot;;\r\n    }\r\nIf I add attribute &quot;book&quot; without printing it first in console then I get blank webpage.\r\nHere is my html file: \r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;en&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n        &lt;title th:text=&quot;${book.getName() + &#39;: &#39; + book.getAuthor()}&quot;&gt;&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    \r\n    &lt;p th:text=&quot;${book.getId() + &#39;, &#39; + book.getName()}&quot;&gt;&lt;/p&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nIf I call `System.out.println(bookService.getById(id));` before adding it, it works. Do I need set Eager type somewhere or what?","title":"Spring data cannot select book entity without me printing it in console","body":"<p>I have controller for selection book entity:</p>\n<pre><code>@GetMapping(&quot;/{id}&quot;)\npublic String bookPage(@PathVariable int id, Model model){\n    if(bookService.isExist(id)) {\n        //System.out.println(bookService.getById(id));\n        model.addAttribute(&quot;book&quot;, bookService.getById(id));\n\n        return &quot;books/book&quot;;\n    }\n    return &quot;books/noSuchBook&quot;;\n}\n</code></pre>\n<p>If I add attribute &quot;book&quot; without printing it first in console then I get blank webpage.\nHere is my html file:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title th:text=&quot;${book.getName() + ': ' + book.getAuthor()}&quot;&gt;&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;p th:text=&quot;${book.getId() + ', ' + book.getName()}&quot;&gt;&lt;/p&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>If I call <code>System.out.println(bookService.getById(id));</code> before adding it, it works. Do I need set Eager type somewhere or what?</p>\n"},{"tags":["java","visual-studio-code","path","classpath"],"comments":[{"owner":{"account_id":17983057,"reputation":1072,"user_id":13068918,"display_name":"Sheng Chen"},"score":0,"creation_date":1676247321,"post_id":75423496,"comment_id":133093747,"body_markdown":"Are you running your project via `Code Runner`? If so, please disable the Code Runner extension and run your project with `Extension Pack for Java`.","body":"Are you running your project via <code>Code Runner</code>? If so, please disable the Code Runner extension and run your project with <code>Extension Pack for Java</code>."},{"owner":{"account_id":24444401,"reputation":1,"user_id":20269580,"display_name":"Arnold"},"score":0,"creation_date":1676254622,"post_id":75423496,"comment_id":133094468,"body_markdown":"I ran the project with the `Extension Pack for Java` and it works, but why am I unable to compile java files into classes using `javac` in the terminal?  Whenever I try that I still get the same `cannot find symbol` error.","body":"I ran the project with the <code>Extension Pack for Java</code> and it works, but why am I unable to compile java files into classes using <code>javac</code> in the terminal?  Whenever I try that I still get the same <code>cannot find symbol</code> error."},{"owner":{"account_id":17983057,"reputation":1072,"user_id":13068918,"display_name":"Sheng Chen"},"score":0,"creation_date":1676254943,"post_id":75423496,"comment_id":133094494,"body_markdown":"If your source file referenced the jar file as a dependency, you need to include that jar file when you invoke javac for compilation. For example: javac -cp &lt;path to jar&gt; xxx.java","body":"If your source file referenced the jar file as a dependency, you need to include that jar file when you invoke javac for compilation. For example: javac -cp &lt;path to jar&gt; xxx.java"},{"owner":{"account_id":24444401,"reputation":1,"user_id":20269580,"display_name":"Arnold"},"score":0,"creation_date":1676259029,"post_id":75423496,"comment_id":133094881,"body_markdown":"like so `javac -cp &#39;c:\\Users\\Downloads\\stdlib.jar&#39; TrinomialBrute.java`?","body":"like so <code>javac -cp &#39;c:\\Users\\Downloads\\stdlib.jar&#39; TrinomialBrute.java</code>?"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1676613171,"post_id":75423496,"comment_id":133176212,"body_markdown":"@Arnold Have you tried this command? Is the problem solved?","body":"@Arnold Have you tried this command? Is the problem solved?"}],"owner":{"account_id":24444401,"reputation":1,"user_id":20269580,"display_name":"Arnold"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":629,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676157175,"creation_date":1676151905,"question_id":75423496,"body_markdown":"I have been having some trouble setting up vscode for Java.  I am currently taking a java course on Coursera that provided a jar file.  I added the jar file to the reference libraries but whenever I try to compile the code I get the &quot;cannot find symbol&quot; error.  I have also provided a screenshot of proof and the organization of my file system.  Is the file system optimal?  How should I fix this error?\r\n\r\nScreenshot of Visual Studio Code Workspace\r\n\r\n[![Screenshot of Visual Studio Code Workspace][1]][1]\r\n\r\nI have tried restarting vscode and that didn&#39;t work and have tried setting the path to the src file and that didn&#39;t work either.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8A2K1.png","title":"Cannot Find Symbol on Visual Studio Code","body":"<p>I have been having some trouble setting up vscode for Java.  I am currently taking a java course on Coursera that provided a jar file.  I added the jar file to the reference libraries but whenever I try to compile the code I get the &quot;cannot find symbol&quot; error.  I have also provided a screenshot of proof and the organization of my file system.  Is the file system optimal?  How should I fix this error?</p>\n<p>Screenshot of Visual Studio Code Workspace</p>\n<p><a href=\"https://i.stack.imgur.com/8A2K1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8A2K1.png\" alt=\"Screenshot of Visual Studio Code Workspace\" /></a></p>\n<p>I have tried restarting vscode and that didn't work and have tried setting the path to the src file and that didn't work either.</p>\n"},{"tags":["java","iso8583","jpos"],"comments":[{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":0,"creation_date":1675943459,"post_id":75395848,"comment_id":133038455,"body_markdown":"What exactly do you mean with ASCII encoding and hexa? The best way to describe what you are trying to do is adding to the question an hexdump of the expected bytes to be transferred over the connection. It would also help to know the content of the packager XML file.","body":"What exactly do you mean with ASCII encoding and hexa? The best way to describe what you are trying to do is adding to the question an hexdump of the expected bytes to be transferred over the connection. It would also help to know the content of the packager XML file."},{"owner":{"account_id":14812191,"reputation":311,"user_id":10697466,"display_name":"Ramses Kouam"},"score":0,"creation_date":1675956033,"post_id":75395848,"comment_id":133042796,"body_markdown":"what i mean is, bitmap and header are in hexadecimal and other fields in ASCII and i would like to know what can.i do to send isoMsg ? \nknowing that i use so far ASCIIChannel","body":"what i mean is, bitmap and header are in hexadecimal and other fields in ASCII and i would like to know what can.i do to send isoMsg ?  knowing that i use so far ASCIIChannel"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1675956717,"post_id":75395848,"comment_id":133043039,"body_markdown":"&quot;what i mean is, bitmap and header are in hexadecimal&quot; - do you mean they&#39;re just binary data? Hexadecimal is a *textual* representation of binary data, using two characters per byte. Is that actually what you mean?","body":"&quot;what i mean is, bitmap and header are in hexadecimal&quot; - do you mean they&#39;re just binary data? Hexadecimal is a <i>textual</i> representation of binary data, using two characters per byte. Is that actually what you mean?"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1675958966,"post_id":75395848,"comment_id":133043913,"body_markdown":"So actually the *whole* of your data is ASCII, but some parts of that are hex-encoded binary data?","body":"So actually the <i>whole</i> of your data is ASCII, but some parts of that are hex-encoded binary data?"},{"owner":{"account_id":14812191,"reputation":311,"user_id":10697466,"display_name":"Ramses Kouam"},"score":0,"creation_date":1675959102,"post_id":75395848,"comment_id":133043966,"body_markdown":"yes, the fact i use the ASCIIChannel encode my message in ascii despite i would like to set header and bitmap in hex","body":"yes, the fact i use the ASCIIChannel encode my message in ascii despite i would like to set header and bitmap in hex"},{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":0,"creation_date":1675959307,"post_id":75395848,"comment_id":133044043,"body_markdown":"As I said, the best way to understand exactlu what you need, is for you to share how the message with the header and the length looks like in an hexdump.","body":"As I said, the best way to understand exactlu what you need, is for you to share how the message with the header and the length looks like in an hexdump."},{"owner":{"account_id":14812191,"reputation":311,"user_id":10697466,"display_name":"Ramses Kouam"},"score":0,"creation_date":1675959732,"post_id":75395848,"comment_id":133044207,"body_markdown":"@Andr&#233;sAlcarraz, i edited my question to show the message (gotten through tcpdump) that i should send","body":"@Andr&#233;sAlcarraz, i edited my question to show the message (gotten through tcpdump) that i should send"},{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":0,"creation_date":1675959963,"post_id":75395848,"comment_id":133044305,"body_markdown":"the hex dump you pasted starts with the MTI, there is no info about what is needed to determine the channel and header, just the packager","body":"the hex dump you pasted starts with the MTI, there is no info about what is needed to determine the channel and header, just the packager"},{"owner":{"account_id":14812191,"reputation":311,"user_id":10697466,"display_name":"Ramses Kouam"},"score":0,"creation_date":1675965286,"post_id":75395848,"comment_id":133046192,"body_markdown":"@Andr&#233;sAlcarraz the channel(ASCII) and the header should be the length of the entire iso message spread on 2 bytes, i set them in my code example","body":"@Andr&#233;sAlcarraz the channel(ASCII) and the header should be the length of the entire iso message spread on 2 bytes, i set them in my code example"},{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":1,"creation_date":1675973229,"post_id":75395848,"comment_id":133048488,"body_markdown":"Also, the bitmap in the hex dump doesn&#39;t look like ASCII, you probably need  `IFB_BITMAP` instead.","body":"Also, the bitmap in the hex dump doesn&#39;t look like ASCII, you probably need  <code>IFB_BITMAP</code> instead."}],"answers":[{"tags":[],"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676155913,"creation_date":1675972621,"answer_id":75403800,"question_id":75395848,"body_markdown":"As detailed in the comments the OP wants the message length to be sent as two bytes in network byte order. For that, [`PostChannel`][1] does the job.\r\n\r\nThis modified code should work as a proof of concept, although I would suggest using Q2 to start and configure the channel following the first two [jPOS tutorials][2] and the [jPOS programmers guide][3] section 5: Channels.\r\n\r\nAlso, you don&#39;t need to set the bitmap field, it is generated by the packager based on the present fields.\r\n```java\r\n    ISOPackager packager = new GenericPackager(ISOUtils.getAbsolutePathOfAFile(&quot;./packager/iso8583packager.xml&quot;));\r\n    ISOMsg isoMsg = new ISOMsg();\r\n    isoMsg.setPackager(packager);\r\n    isoMsg.set(&quot;0&quot;,&quot;1804&quot;);\r\n    isoMsg.set(&quot;11&quot;,&quot;678897&quot;);\r\n    isoMsg.set(&quot;12&quot;,&quot;230107100923&quot;);\r\n    isoMsg.set(&quot;24&quot;,&quot;831&quot;);\r\n\r\n    ISOChannel channel = new PostChannel(&quot;127.0.0.1&quot;, 5000, packager);\r\n    channel.connect();\r\n    channel.send(isoMsg);\r\n```\r\n\r\nYou&#39;ll also need to configure the bitmap as binary in the packager:\r\n```xml\r\n  &lt;isofield\r\n          id=&quot;1&quot;\r\n          length=&quot;16&quot;\r\n          name=&quot;Bitmap&quot;\r\n          class=&quot;org.jpos.iso.IFB_BITMAP&quot;/&gt;\r\n\r\n```\r\n\r\n  [1]: http://jpos.org/doc/javadoc/org/jpos/iso/channel/PostChannel.html\r\n  [2]: http://www.jpos.org/tutorials\r\n  [3]: http://jpos.org/doc/proguide-draft.pdf","title":"how to encode and send ISO 8583 message with ASCII and Hexa?","body":"<p>As detailed in the comments the OP wants the message length to be sent as two bytes in network byte order. For that, <a href=\"http://jpos.org/doc/javadoc/org/jpos/iso/channel/PostChannel.html\" rel=\"nofollow noreferrer\"><code>PostChannel</code></a> does the job.</p>\n<p>This modified code should work as a proof of concept, although I would suggest using Q2 to start and configure the channel following the first two <a href=\"http://www.jpos.org/tutorials\" rel=\"nofollow noreferrer\">jPOS tutorials</a> and the <a href=\"http://jpos.org/doc/proguide-draft.pdf\" rel=\"nofollow noreferrer\">jPOS programmers guide</a> section 5: Channels.</p>\n<p>Also, you don't need to set the bitmap field, it is generated by the packager based on the present fields.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    ISOPackager packager = new GenericPackager(ISOUtils.getAbsolutePathOfAFile(&quot;./packager/iso8583packager.xml&quot;));\n    ISOMsg isoMsg = new ISOMsg();\n    isoMsg.setPackager(packager);\n    isoMsg.set(&quot;0&quot;,&quot;1804&quot;);\n    isoMsg.set(&quot;11&quot;,&quot;678897&quot;);\n    isoMsg.set(&quot;12&quot;,&quot;230107100923&quot;);\n    isoMsg.set(&quot;24&quot;,&quot;831&quot;);\n\n    ISOChannel channel = new PostChannel(&quot;127.0.0.1&quot;, 5000, packager);\n    channel.connect();\n    channel.send(isoMsg);\n</code></pre>\n<p>You'll also need to configure the bitmap as binary in the packager:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;isofield\n          id=&quot;1&quot;\n          length=&quot;16&quot;\n          name=&quot;Bitmap&quot;\n          class=&quot;org.jpos.iso.IFB_BITMAP&quot;/&gt;\n\n</code></pre>\n"}],"owner":{"account_id":14812191,"reputation":311,"user_id":10697466,"display_name":"Ramses Kouam"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":922,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75403800,"answer_count":1,"score":1,"last_activity_date":1676155913,"creation_date":1675930497,"question_id":75395848,"body_markdown":"i have to send a message like this : \r\n\r\n    Entete(hexadecimal)+ MTI(Ascii)+bitmap (hexadecimal)+DE11(Ascii)+DE12(Ascii)+DE24(Ascii)\r\n\r\nso far i was using `ASCIIChannel` to send my ISO messages with **jpos** library. \r\n\r\nhere is an example of the message i would like to send (echo test).\r\n\r\n    ISOPackager packager = new GenericPackager(ISOUtils.getAbsolutePathOfAFile(&quot;./packager/iso8583packager.xml&quot;));\r\n        ISOMsg isoMsg = new ISOMsg();\r\n        ISOMsg subIsoMsg = new ISOMsg();\r\n        isoMsg.setPackager(packager);\r\n        isoMsg.setHeader(&quot;00100101&quot;.getBytes());\r\n        isoMsg.set(&quot;0&quot;,&quot;1804&quot;);\r\n        isoMsg.set(&quot;1&quot;,&quot;100000000000000000000001&quot;);\r\n        isoMsg.set(&quot;11&quot;,&quot;678897&quot;);\r\n        isoMsg.set(&quot;12&quot;,&quot;230107100923&quot;);\r\n        isoMsg.set(&quot;24&quot;,&quot;831&quot;);\r\n\r\n    ASCIIChannel channel = new ASCIIChannel(&quot;127.0.0.1&quot;, 5000, packager);\r\n        //RawChannel channel = new RawChannel(&quot;192.168.1.101&quot;, 5000, packager);\r\n        channel.connect();\r\n        channel.send(isoMsg);\r\n\r\nhow can i do to send message with ASCII encoding and hexa ?\r\n\r\nEDIT : here is the package used :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n    &lt;!DOCTYPE isopackager PUBLIC\r\n            &quot;-//jPOS/jPOS Generic Packager DTD 1.0//EN&quot;\r\n            &quot;http://jpos.org/dtd/generic-packager-1.0.dtd&quot;&gt;\r\n    \r\n    &lt;!-- ISO 8583:1993 (ASCII) field descriptions for GenericPackager --&gt;\r\n    \r\n    &lt;isopackager&gt;\r\n      &lt;isofield\r\n              id=&quot;0&quot;\r\n              length=&quot;4&quot;\r\n              name=&quot;Message Type Indicator&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;1&quot;\r\n              length=&quot;16&quot;\r\n              name=&quot;Bitmap&quot;\r\n              class=&quot;org.jpos.iso.IFA_BITMAP&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;2&quot;\r\n              length=&quot;19&quot;\r\n              name=&quot;Primary Account number&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLNUM&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;3&quot;\r\n              length=&quot;6&quot;\r\n              name=&quot;Processing Code&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;4&quot;\r\n              length=&quot;12&quot;\r\n              name=&quot;Amount, Transaction&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;5&quot;\r\n              length=&quot;12&quot;\r\n              name=&quot;Amount, Reconciliation&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;6&quot;\r\n              length=&quot;12&quot;\r\n              name=&quot;Amount, Cardholder billing&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;7&quot;\r\n              length=&quot;10&quot;\r\n              name=&quot;Date and time, transmission&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;8&quot;\r\n              length=&quot;8&quot;\r\n              name=&quot;Amount, Cardholder billing fee&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;9&quot;\r\n              length=&quot;8&quot;\r\n              name=&quot;Conversion rate, Reconciliation&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;10&quot;\r\n              length=&quot;8&quot;\r\n              name=&quot;Conversion rate, Cardholder billing&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;11&quot;\r\n              length=&quot;6&quot;\r\n              name=&quot;Systems trace audit number&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;12&quot;\r\n              length=&quot;12&quot;\r\n              name=&quot;Date and time, Local transaction&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;13&quot;\r\n              length=&quot;4&quot;\r\n              name=&quot;Date, Effective&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;14&quot;\r\n              length=&quot;4&quot;\r\n              name=&quot;Date, Expiration&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;15&quot;\r\n              length=&quot;6&quot;\r\n              name=&quot;Date, Settlement&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;16&quot;\r\n              length=&quot;4&quot;\r\n              name=&quot;Date, Conversion&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;17&quot;\r\n              length=&quot;4&quot;\r\n              name=&quot;Date, Capture&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;18&quot;\r\n              length=&quot;4&quot;\r\n              name=&quot;Merchant type&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;19&quot;\r\n              length=&quot;3&quot;\r\n              name=&quot;Country code, Acquiring institution&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;20&quot;\r\n              length=&quot;3&quot;\r\n              name=&quot;Country code, Primary account number&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;21&quot;\r\n              length=&quot;3&quot;\r\n              name=&quot;Country code, Forwarding institution&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;22&quot;\r\n              length=&quot;12&quot;\r\n              name=&quot;Point of service data code&quot;\r\n              class=&quot;org.jpos.iso.IF_CHAR&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;23&quot;\r\n              length=&quot;3&quot;\r\n              name=&quot;Card sequence number&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;24&quot;\r\n              length=&quot;3&quot;\r\n              name=&quot;Function code&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;25&quot;\r\n              length=&quot;4&quot;\r\n              name=&quot;Message reason code&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;26&quot;\r\n              length=&quot;4&quot;\r\n              name=&quot;Card acceptor business code&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;27&quot;\r\n              length=&quot;1&quot;\r\n              name=&quot;Approval code length&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;28&quot;\r\n              length=&quot;6&quot;\r\n              name=&quot;Date, Reconciliation&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;29&quot;\r\n              length=&quot;3&quot;\r\n              name=&quot;Reconciliation indicator&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;30&quot;\r\n              length=&quot;24&quot;\r\n              name=&quot;Amounts, original&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;31&quot;\r\n              length=&quot;99&quot;\r\n              name=&quot;Acquirer reference data&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLCHAR&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;32&quot;\r\n              length=&quot;11&quot;\r\n              name=&quot;Acquirer institution identification code&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLNUM&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;33&quot;\r\n              length=&quot;11&quot;\r\n              name=&quot;Forwarding institution identification code&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLNUM&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;34&quot;\r\n              length=&quot;28&quot;\r\n              name=&quot;Primary account number, extended&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLCHAR&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;35&quot;\r\n              length=&quot;37&quot;\r\n              name=&quot;Track 2 data&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLCHAR&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;36&quot;\r\n              length=&quot;104&quot;\r\n              name=&quot;Track 3 data&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;37&quot;\r\n              length=&quot;12&quot;\r\n              name=&quot;Retrieval reference number&quot;\r\n              class=&quot;org.jpos.iso.IF_CHAR&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;38&quot;\r\n              length=&quot;6&quot;\r\n              name=&quot;Approval code&quot;\r\n              class=&quot;org.jpos.iso.IF_CHAR&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;39&quot;\r\n              length=&quot;3&quot;\r\n              name=&quot;Action code&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;40&quot;\r\n              length=&quot;3&quot;\r\n              name=&quot;Service code&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;41&quot;\r\n              length=&quot;8&quot;\r\n              name=&quot;Card acceptor terminal identification&quot;\r\n              class=&quot;org.jpos.iso.IF_CHAR&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;42&quot;\r\n              length=&quot;15&quot;\r\n              name=&quot;Card acceptor identification code&quot;\r\n              class=&quot;org.jpos.iso.IF_CHAR&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;43&quot;\r\n              length=&quot;99&quot;\r\n              name=&quot;Card acceptor name/location&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLCHAR&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;44&quot;\r\n              length=&quot;99&quot;\r\n              name=&quot;Additional response data&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLCHAR&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;45&quot;\r\n              length=&quot;76&quot;\r\n              name=&quot;Track 1 data&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLCHAR&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;46&quot;\r\n              length=&quot;204&quot;\r\n              name=&quot;Amounts, Fees&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;47&quot;\r\n              length=&quot;999&quot;\r\n              name=&quot;Additional data - national&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n      &lt;isofieldpackager\r\n              id=&quot;48&quot;\r\n              length=&quot;255&quot;\r\n              name=&quot;Additional Data&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;\r\n              emitBitmap=&quot;false&quot;\r\n              firstField=&quot;2&quot;\r\n              packager=&quot;org.jpos.iso.packager.GenericSubFieldPackager&quot;&gt;\r\n        &lt;isofield\r\n                id=&quot;2&quot;\r\n                length=&quot;8&quot;\r\n                name=&quot;first field&quot;\r\n                class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n        &lt;isofield\r\n                id=&quot;3&quot;\r\n                length=&quot;8&quot;\r\n                name=&quot;first field&quot;\r\n                class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n        &lt;isofield\r\n                id=&quot;4&quot;\r\n                length=&quot;8&quot;\r\n                name=&quot;first field&quot;\r\n                class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n        &lt;isofield\r\n                id=&quot;5&quot;\r\n                length=&quot;8&quot;\r\n                name=&quot;first field&quot;\r\n                class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n        &lt;isofield\r\n                id=&quot;6&quot;\r\n                length=&quot;8&quot;\r\n                name=&quot;first field&quot;\r\n                class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n        &lt;isofield\r\n                id=&quot;7&quot;\r\n                length=&quot;8&quot;\r\n                name=&quot;first field&quot;\r\n                class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n        &lt;isofield\r\n                id=&quot;8&quot;\r\n                length=&quot;8&quot;\r\n                name=&quot;first field&quot;\r\n                class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n        &lt;isofield\r\n                id=&quot;9&quot;\r\n                length=&quot;8&quot;\r\n                name=&quot;first field&quot;\r\n                class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n        &lt;isofield\r\n                id=&quot;10&quot;\r\n                length=&quot;8&quot;\r\n                name=&quot;first field&quot;\r\n                class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n        &lt;isofield\r\n                id=&quot;11&quot;\r\n                length=&quot;8&quot;\r\n                name=&quot;first field&quot;\r\n                class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n        &lt;isofield\r\n                id=&quot;12&quot;\r\n                length=&quot;8&quot;\r\n                name=&quot;first field&quot;\r\n                class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n      &lt;/isofieldpackager&gt;\r\n      &lt;isofield\r\n              id=&quot;49&quot;\r\n              length=&quot;3&quot;\r\n              name=&quot;Currency code, Transaction&quot;\r\n              class=&quot;org.jpos.iso.IF_CHAR&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;50&quot;\r\n              length=&quot;3&quot;\r\n              name=&quot;Currency code, Reconciliation&quot;\r\n              class=&quot;org.jpos.iso.IF_CHAR&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;51&quot;\r\n              length=&quot;3&quot;\r\n              name=&quot;Currency code, Cardholder billing&quot;\r\n              class=&quot;org.jpos.iso.IF_CHAR&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;52&quot;\r\n              length=&quot;8&quot;\r\n              name=&quot;Personal identification number [PIN] data&quot;\r\n              class=&quot;org.jpos.iso.IFA_BINARY&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;53&quot;\r\n              length=&quot;48&quot;\r\n              name=&quot;Security related control information&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLBINARY&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;54&quot;\r\n              length=&quot;120&quot;\r\n              name=&quot;Amounts, additional&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;55&quot;\r\n              length=&quot;255&quot;\r\n              name=&quot;IC card system related data&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLLBINARY&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;56&quot;\r\n              length=&quot;35&quot;\r\n              name=&quot;Original data elements&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLNUM&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;57&quot;\r\n              length=&quot;3&quot;\r\n              name=&quot;Authorization life cycle code&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;58&quot;\r\n              length=&quot;11&quot;\r\n              name=&quot;Authorizing agent institution Id Code&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLNUM&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;59&quot;\r\n              length=&quot;999&quot;\r\n              name=&quot;Transport data&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;60&quot;\r\n              length=&quot;999&quot;\r\n              name=&quot;Reserved for national use&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;61&quot;\r\n              length=&quot;999&quot;\r\n              name=&quot;Reserved for national use&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;62&quot;\r\n              length=&quot;999&quot;\r\n              name=&quot;Reserved for private use&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;63&quot;\r\n              length=&quot;999&quot;\r\n              name=&quot;Reserved for private use&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;64&quot;\r\n              length=&quot;8&quot;\r\n              name=&quot;Message authentication code field&quot;\r\n              class=&quot;org.jpos.iso.IFA_BINARY&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;65&quot;\r\n              length=&quot;8&quot;\r\n              name=&quot;Reserved for ISO use&quot;\r\n              class=&quot;org.jpos.iso.IFA_BINARY&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;66&quot;\r\n              length=&quot;204&quot;\r\n              name=&quot;Amounts, original fees&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;67&quot;\r\n              length=&quot;2&quot;\r\n              name=&quot;Extended payment data&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;68&quot;\r\n              length=&quot;3&quot;\r\n              name=&quot;Country code, receiving institution&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;69&quot;\r\n              length=&quot;3&quot;\r\n              name=&quot;Country code, settlement institution&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;70&quot;\r\n              length=&quot;3&quot;\r\n              name=&quot;Country code, authorizing agent Inst.&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;71&quot;\r\n              length=&quot;8&quot;\r\n              name=&quot;Message number&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;72&quot;\r\n              length=&quot;999&quot;\r\n              name=&quot;Data record&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;73&quot;\r\n              length=&quot;6&quot;\r\n              name=&quot;Date, action&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;74&quot;\r\n              length=&quot;10&quot;\r\n              name=&quot;Credits, number&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;75&quot;\r\n              length=&quot;10&quot;\r\n              name=&quot;Credits, reversal number&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;76&quot;\r\n              length=&quot;10&quot;\r\n              name=&quot;Debits, number&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;77&quot;\r\n              length=&quot;10&quot;\r\n              name=&quot;Debits, reversal number&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;78&quot;\r\n              length=&quot;10&quot;\r\n              name=&quot;Transfer, number&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;79&quot;\r\n              length=&quot;10&quot;\r\n              name=&quot;Transfer, reversal number&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;80&quot;\r\n              length=&quot;10&quot;\r\n              name=&quot;Inquiries, number&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;81&quot;\r\n              length=&quot;10&quot;\r\n              name=&quot;Authorizations, number&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;82&quot;\r\n              length=&quot;10&quot;\r\n              name=&quot;Inquiries, reversal number&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;83&quot;\r\n              length=&quot;10&quot;\r\n              name=&quot;Payments, number&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;84&quot;\r\n              length=&quot;10&quot;\r\n              name=&quot;Payments, reversal number&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;85&quot;\r\n              length=&quot;10&quot;\r\n              name=&quot;Fee collections, number&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;86&quot;\r\n              length=&quot;16&quot;\r\n              name=&quot;Credits, amount&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;87&quot;\r\n              length=&quot;16&quot;\r\n              name=&quot;Credits, reversal amount&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;88&quot;\r\n              length=&quot;16&quot;\r\n              name=&quot;Debits, amount&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;89&quot;\r\n              length=&quot;16&quot;\r\n              name=&quot;Debits, reversal amount&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;90&quot;\r\n              length=&quot;10&quot;\r\n              name=&quot;Authorizations, reversal number&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;91&quot;\r\n              length=&quot;3&quot;\r\n              name=&quot;Country code, transaction Dest. Inst.&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;92&quot;\r\n              length=&quot;3&quot;\r\n              name=&quot;Country code, transaction Orig. Inst.&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;93&quot;\r\n              length=&quot;11&quot;\r\n              name=&quot;Transaction Dest. Inst. Id code&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLNUM&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;94&quot;\r\n              length=&quot;11&quot;\r\n              name=&quot;Transaction Orig. Inst. Id code&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLNUM&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;95&quot;\r\n              length=&quot;99&quot;\r\n              name=&quot;Card issuer reference data&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLCHAR&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;96&quot;\r\n              length=&quot;999&quot;\r\n              name=&quot;Key management data&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLLBINARY&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;97&quot;\r\n              length=&quot;17&quot;\r\n              name=&quot;Amount, Net reconciliation&quot;\r\n              class=&quot;org.jpos.iso.IFA_AMOUNT&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;98&quot;\r\n              length=&quot;25&quot;\r\n              name=&quot;Payee&quot;\r\n              class=&quot;org.jpos.iso.IF_CHAR&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;99&quot;\r\n              length=&quot;11&quot;\r\n              name=&quot;Settlement institution Id code&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLCHAR&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;100&quot;\r\n              length=&quot;11&quot;\r\n              name=&quot;Receiving institution Id code&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLNUM&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;101&quot;\r\n              length=&quot;17&quot;\r\n              name=&quot;File name&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLCHAR&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;102&quot;\r\n              length=&quot;28&quot;\r\n              name=&quot;Account identification 1&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLCHAR&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;103&quot;\r\n              length=&quot;28&quot;\r\n              name=&quot;Account identification 2&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLCHAR&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;104&quot;\r\n              length=&quot;100&quot;\r\n              name=&quot;Transaction description&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;105&quot;\r\n              length=&quot;16&quot;\r\n              name=&quot;Credits, Chargeback amount&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;106&quot;\r\n              length=&quot;16&quot;\r\n              name=&quot;Debits, Chargeback amount&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;107&quot;\r\n              length=&quot;10&quot;\r\n              name=&quot;Credits, Chargeback number&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;108&quot;\r\n              length=&quot;10&quot;\r\n              name=&quot;Debits, Chargeback number&quot;\r\n              class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;109&quot;\r\n              length=&quot;84&quot;\r\n              name=&quot;Credits, Fee amounts&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLCHAR&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;110&quot;\r\n              length=&quot;84&quot;\r\n              name=&quot;Debits, Fee amounts&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLCHAR&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;111&quot;\r\n              length=&quot;999&quot;\r\n              name=&quot;Reserved for ISO use&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;112&quot;\r\n              length=&quot;999&quot;\r\n              name=&quot;Reserved for ISO use&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;113&quot;\r\n              length=&quot;999&quot;\r\n              name=&quot;Reserved for ISO use&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;114&quot;\r\n              length=&quot;999&quot;\r\n              name=&quot;Reserved for ISO use&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;115&quot;\r\n              length=&quot;999&quot;\r\n              name=&quot;Reserved for ISO use&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;116&quot;\r\n              length=&quot;999&quot;\r\n              name=&quot;Reserved for national use&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;117&quot;\r\n              length=&quot;999&quot;\r\n              name=&quot;Reserved for national use&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;118&quot;\r\n              length=&quot;999&quot;\r\n              name=&quot;Reserved for national use&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;119&quot;\r\n              length=&quot;999&quot;\r\n              name=&quot;Reserved for national use&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;120&quot;\r\n              length=&quot;999&quot;\r\n              name=&quot;Reserved for national use&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;121&quot;\r\n              length=&quot;999&quot;\r\n              name=&quot;Reserved for national use&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;122&quot;\r\n              length=&quot;999&quot;\r\n              name=&quot;Reserved for national use&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;123&quot;\r\n              length=&quot;999&quot;\r\n              name=&quot;Reserved for private use&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;124&quot;\r\n              length=&quot;999&quot;\r\n              name=&quot;Reserved for private use&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;125&quot;\r\n              length=&quot;999&quot;\r\n              name=&quot;Reserved for private use&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;126&quot;\r\n              length=&quot;999&quot;\r\n              name=&quot;Reserved for private use&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;127&quot;\r\n              length=&quot;999&quot;\r\n              name=&quot;Reserved for private use&quot;\r\n              class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\r\n      &lt;isofield\r\n              id=&quot;128&quot;\r\n              length=&quot;8&quot;\r\n              name=&quot;Message authentication code field&quot;\r\n              class=&quot;org.jpos.iso.IFA_BINARY&quot;/&gt;\r\n    &lt;/isopackager&gt;\r\n\r\nhere is the template of the message i have to constitute (from a tcpdump): \r\n\r\n    09:34:50.321783 -| \r\n    31.38.30.34.00.30.01.00.00.00.00.00.30.39.30.37       1804.0......0907\r\n    09:34:50.321794 -| 34.38.32.33.30.32.30.38.30.39.30.37.34.38.38.33       4823020809074883\r\n    09:34:50.321803 -| 31                                                    1\r\n    09:34:50.321813 D|\r\n\r\n\r\nupdate :\r\nthe server side code (with the same packager):\r\n\r\n    @Component\r\n    public class Server implements ISORequestListener{\r\n\t\r\n\t@Bean\r\n\tpublic void iniTServer() throws ISOException {\r\n\t\tString hotname = &quot;127.0.0.1&quot;;\r\n\t        int portNumber = 5000;\r\n\t        ISOPackager packager = new GenericPackager(Server.getAbsolutePathOfAFile(&quot;./packager6/iso8583packager.xml&quot;));\r\n\t\t\tPostChannel channel = new PostChannel(hotname, portNumber, packager);\r\n\t        ISOServer server = new ISOServer(portNumber, channel, null);\r\n\t        server.addISORequestListener(new Server());\r\n\t        System.out.println(&quot;ISO8583 server started...&quot;);\r\n\t        new Thread(server).start();\r\n\t}\r\n\r\n\t @Override\r\n\t    public boolean process(ISOSource isoSource, ISOMsg isoMsg) {\r\n\t        try {\r\n\t            System.out.println(&quot;ISO8583 incoming message on host [&quot; + ((BaseChannel) isoSource).getSocket().getInetAddress().getHostAddress() + &quot;]&quot;);\r\n\t\t\t\treceiveMessage(isoSource, isoMsg);\r\n\t            printISOMessage(isoMsg);\r\n\t            System.out.println(&quot;ISO Message: &quot; + isoMsg);\r\n\t        } catch (Exception ex) {\r\n\t            ex.printStackTrace();\r\n\t        }\r\n\t        return true;\r\n\t    }\r\n\r\n\t    private void receiveMessage(ISOSource isoSource, ISOMsg isoMsg) throws ISOException, IOException, ISOException, CsvException, URISyntaxException {\r\n\t        System.out.println(&quot;ISO8583 Message received...&quot;);\r\n\t        InputStreamReader reader = FileUtils.loadFile(&quot;/BDD.csv&quot;, getClass());\r\n\t        URL url = getClass().getResource(&quot;/BDD.csv&quot;);\r\n\t\t\tFile file = new File(url.toURI());\r\n\t\t\tfile.setWritable(true);\r\n\t        CSVReader csvReader = new CSVReader(reader);\r\n\t        //reader.close();\r\n\t       List&lt;String[]&gt; records=csvReader.readAll();\r\n\t       // Object obj=jo.parse(reader2); \r\n\t       FileUtils.csvUpdaterAtAnIndex(getClass(),csvReader, &quot;99&quot;, &quot;/BDD.csv&quot;, 1, 2);\r\n\t        //String jsonString=gson.toJson(obj);\r\n\t        //JSONObject jsonObj=new JSONObject(jsonString);\r\n\t        Response resp=new Response();\r\n\t        \r\n\t        resp.setDataFields(IsoUtils2.buildResponseFromISOMessage(isoMsg));\r\n\t        ISOMsg isoResponse=new ISOMsg();\r\n\t        String response=&quot;&quot;;\r\n\t        String soldeClient=records.get(1)[2];\r\n\t        isoResponse=IsoUtils2.buildResponseToSend(isoMsg, soldeClient, resp);\r\n\t        //System.out.println(&quot;isoResponse &quot;+isoResponse);\r\n\t        isoSource.send(isoResponse);\r\n\t    }\r\n\r\n\t    private static void printISOMessage(ISOMsg isoMsg) throws ISOException {\r\n\t        System.out.printf(&quot;MTI = %s%n&quot;, isoMsg.getMTI());\r\n\t\tfor (int i = 1; i &lt;= isoMsg.getMaxField(); i++) {\r\n\t\t    if (isoMsg.hasField(i)) {\r\n\t\t        System.out.printf(&quot;Field (%s) = %s%n&quot;, i, isoMsg.getString(i));\r\n\t\t   \t }\r\n\t\t\t}\r\n\t    }\r\n\r\n\tpublic static String getAbsolutePathOfAFile(String relativePath){\r\n\t\treturn Paths.get(relativePath).toAbsolutePath().normalize().toAbsolutePath().toString();\r\n\t}\r\n\r\n}\r\n","title":"how to encode and send ISO 8583 message with ASCII and Hexa?","body":"<p>i have to send a message like this :</p>\n<pre><code>Entete(hexadecimal)+ MTI(Ascii)+bitmap (hexadecimal)+DE11(Ascii)+DE12(Ascii)+DE24(Ascii)\n</code></pre>\n<p>so far i was using <code>ASCIIChannel</code> to send my ISO messages with <strong>jpos</strong> library.</p>\n<p>here is an example of the message i would like to send (echo test).</p>\n<pre><code>ISOPackager packager = new GenericPackager(ISOUtils.getAbsolutePathOfAFile(&quot;./packager/iso8583packager.xml&quot;));\n    ISOMsg isoMsg = new ISOMsg();\n    ISOMsg subIsoMsg = new ISOMsg();\n    isoMsg.setPackager(packager);\n    isoMsg.setHeader(&quot;00100101&quot;.getBytes());\n    isoMsg.set(&quot;0&quot;,&quot;1804&quot;);\n    isoMsg.set(&quot;1&quot;,&quot;100000000000000000000001&quot;);\n    isoMsg.set(&quot;11&quot;,&quot;678897&quot;);\n    isoMsg.set(&quot;12&quot;,&quot;230107100923&quot;);\n    isoMsg.set(&quot;24&quot;,&quot;831&quot;);\n\nASCIIChannel channel = new ASCIIChannel(&quot;127.0.0.1&quot;, 5000, packager);\n    //RawChannel channel = new RawChannel(&quot;192.168.1.101&quot;, 5000, packager);\n    channel.connect();\n    channel.send(isoMsg);\n</code></pre>\n<p>how can i do to send message with ASCII encoding and hexa ?</p>\n<p>EDIT : here is the package used :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;!DOCTYPE isopackager PUBLIC\n        &quot;-//jPOS/jPOS Generic Packager DTD 1.0//EN&quot;\n        &quot;http://jpos.org/dtd/generic-packager-1.0.dtd&quot;&gt;\n\n&lt;!-- ISO 8583:1993 (ASCII) field descriptions for GenericPackager --&gt;\n\n&lt;isopackager&gt;\n  &lt;isofield\n          id=&quot;0&quot;\n          length=&quot;4&quot;\n          name=&quot;Message Type Indicator&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;1&quot;\n          length=&quot;16&quot;\n          name=&quot;Bitmap&quot;\n          class=&quot;org.jpos.iso.IFA_BITMAP&quot;/&gt;\n  &lt;isofield\n          id=&quot;2&quot;\n          length=&quot;19&quot;\n          name=&quot;Primary Account number&quot;\n          class=&quot;org.jpos.iso.IFA_LLNUM&quot;/&gt;\n  &lt;isofield\n          id=&quot;3&quot;\n          length=&quot;6&quot;\n          name=&quot;Processing Code&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;4&quot;\n          length=&quot;12&quot;\n          name=&quot;Amount, Transaction&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;5&quot;\n          length=&quot;12&quot;\n          name=&quot;Amount, Reconciliation&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;6&quot;\n          length=&quot;12&quot;\n          name=&quot;Amount, Cardholder billing&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;7&quot;\n          length=&quot;10&quot;\n          name=&quot;Date and time, transmission&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;8&quot;\n          length=&quot;8&quot;\n          name=&quot;Amount, Cardholder billing fee&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;9&quot;\n          length=&quot;8&quot;\n          name=&quot;Conversion rate, Reconciliation&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;10&quot;\n          length=&quot;8&quot;\n          name=&quot;Conversion rate, Cardholder billing&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;11&quot;\n          length=&quot;6&quot;\n          name=&quot;Systems trace audit number&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;12&quot;\n          length=&quot;12&quot;\n          name=&quot;Date and time, Local transaction&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;13&quot;\n          length=&quot;4&quot;\n          name=&quot;Date, Effective&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;14&quot;\n          length=&quot;4&quot;\n          name=&quot;Date, Expiration&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;15&quot;\n          length=&quot;6&quot;\n          name=&quot;Date, Settlement&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;16&quot;\n          length=&quot;4&quot;\n          name=&quot;Date, Conversion&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;17&quot;\n          length=&quot;4&quot;\n          name=&quot;Date, Capture&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;18&quot;\n          length=&quot;4&quot;\n          name=&quot;Merchant type&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;19&quot;\n          length=&quot;3&quot;\n          name=&quot;Country code, Acquiring institution&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;20&quot;\n          length=&quot;3&quot;\n          name=&quot;Country code, Primary account number&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;21&quot;\n          length=&quot;3&quot;\n          name=&quot;Country code, Forwarding institution&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;22&quot;\n          length=&quot;12&quot;\n          name=&quot;Point of service data code&quot;\n          class=&quot;org.jpos.iso.IF_CHAR&quot;/&gt;\n  &lt;isofield\n          id=&quot;23&quot;\n          length=&quot;3&quot;\n          name=&quot;Card sequence number&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;24&quot;\n          length=&quot;3&quot;\n          name=&quot;Function code&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;25&quot;\n          length=&quot;4&quot;\n          name=&quot;Message reason code&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;26&quot;\n          length=&quot;4&quot;\n          name=&quot;Card acceptor business code&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;27&quot;\n          length=&quot;1&quot;\n          name=&quot;Approval code length&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;28&quot;\n          length=&quot;6&quot;\n          name=&quot;Date, Reconciliation&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;29&quot;\n          length=&quot;3&quot;\n          name=&quot;Reconciliation indicator&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;30&quot;\n          length=&quot;24&quot;\n          name=&quot;Amounts, original&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;31&quot;\n          length=&quot;99&quot;\n          name=&quot;Acquirer reference data&quot;\n          class=&quot;org.jpos.iso.IFA_LLCHAR&quot;/&gt;\n  &lt;isofield\n          id=&quot;32&quot;\n          length=&quot;11&quot;\n          name=&quot;Acquirer institution identification code&quot;\n          class=&quot;org.jpos.iso.IFA_LLNUM&quot;/&gt;\n  &lt;isofield\n          id=&quot;33&quot;\n          length=&quot;11&quot;\n          name=&quot;Forwarding institution identification code&quot;\n          class=&quot;org.jpos.iso.IFA_LLNUM&quot;/&gt;\n  &lt;isofield\n          id=&quot;34&quot;\n          length=&quot;28&quot;\n          name=&quot;Primary account number, extended&quot;\n          class=&quot;org.jpos.iso.IFA_LLCHAR&quot;/&gt;\n  &lt;isofield\n          id=&quot;35&quot;\n          length=&quot;37&quot;\n          name=&quot;Track 2 data&quot;\n          class=&quot;org.jpos.iso.IFA_LLCHAR&quot;/&gt;\n  &lt;isofield\n          id=&quot;36&quot;\n          length=&quot;104&quot;\n          name=&quot;Track 3 data&quot;\n          class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n          id=&quot;37&quot;\n          length=&quot;12&quot;\n          name=&quot;Retrieval reference number&quot;\n          class=&quot;org.jpos.iso.IF_CHAR&quot;/&gt;\n  &lt;isofield\n          id=&quot;38&quot;\n          length=&quot;6&quot;\n          name=&quot;Approval code&quot;\n          class=&quot;org.jpos.iso.IF_CHAR&quot;/&gt;\n  &lt;isofield\n          id=&quot;39&quot;\n          length=&quot;3&quot;\n          name=&quot;Action code&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;40&quot;\n          length=&quot;3&quot;\n          name=&quot;Service code&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;41&quot;\n          length=&quot;8&quot;\n          name=&quot;Card acceptor terminal identification&quot;\n          class=&quot;org.jpos.iso.IF_CHAR&quot;/&gt;\n  &lt;isofield\n          id=&quot;42&quot;\n          length=&quot;15&quot;\n          name=&quot;Card acceptor identification code&quot;\n          class=&quot;org.jpos.iso.IF_CHAR&quot;/&gt;\n  &lt;isofield\n          id=&quot;43&quot;\n          length=&quot;99&quot;\n          name=&quot;Card acceptor name/location&quot;\n          class=&quot;org.jpos.iso.IFA_LLCHAR&quot;/&gt;\n  &lt;isofield\n          id=&quot;44&quot;\n          length=&quot;99&quot;\n          name=&quot;Additional response data&quot;\n          class=&quot;org.jpos.iso.IFA_LLCHAR&quot;/&gt;\n  &lt;isofield\n          id=&quot;45&quot;\n          length=&quot;76&quot;\n          name=&quot;Track 1 data&quot;\n          class=&quot;org.jpos.iso.IFA_LLCHAR&quot;/&gt;\n  &lt;isofield\n          id=&quot;46&quot;\n          length=&quot;204&quot;\n          name=&quot;Amounts, Fees&quot;\n          class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n          id=&quot;47&quot;\n          length=&quot;999&quot;\n          name=&quot;Additional data - national&quot;\n          class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofieldpackager\n          id=&quot;48&quot;\n          length=&quot;255&quot;\n          name=&quot;Additional Data&quot;\n          class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;\n          emitBitmap=&quot;false&quot;\n          firstField=&quot;2&quot;\n          packager=&quot;org.jpos.iso.packager.GenericSubFieldPackager&quot;&gt;\n    &lt;isofield\n            id=&quot;2&quot;\n            length=&quot;8&quot;\n            name=&quot;first field&quot;\n            class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n    &lt;isofield\n            id=&quot;3&quot;\n            length=&quot;8&quot;\n            name=&quot;first field&quot;\n            class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n    &lt;isofield\n            id=&quot;4&quot;\n            length=&quot;8&quot;\n            name=&quot;first field&quot;\n            class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n    &lt;isofield\n            id=&quot;5&quot;\n            length=&quot;8&quot;\n            name=&quot;first field&quot;\n            class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n    &lt;isofield\n            id=&quot;6&quot;\n            length=&quot;8&quot;\n            name=&quot;first field&quot;\n            class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n    &lt;isofield\n            id=&quot;7&quot;\n            length=&quot;8&quot;\n            name=&quot;first field&quot;\n            class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n    &lt;isofield\n            id=&quot;8&quot;\n            length=&quot;8&quot;\n            name=&quot;first field&quot;\n            class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n    &lt;isofield\n            id=&quot;9&quot;\n            length=&quot;8&quot;\n            name=&quot;first field&quot;\n            class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n    &lt;isofield\n            id=&quot;10&quot;\n            length=&quot;8&quot;\n            name=&quot;first field&quot;\n            class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n    &lt;isofield\n            id=&quot;11&quot;\n            length=&quot;8&quot;\n            name=&quot;first field&quot;\n            class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n    &lt;isofield\n            id=&quot;12&quot;\n            length=&quot;8&quot;\n            name=&quot;first field&quot;\n            class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;/isofieldpackager&gt;\n  &lt;isofield\n          id=&quot;49&quot;\n          length=&quot;3&quot;\n          name=&quot;Currency code, Transaction&quot;\n          class=&quot;org.jpos.iso.IF_CHAR&quot;/&gt;\n  &lt;isofield\n          id=&quot;50&quot;\n          length=&quot;3&quot;\n          name=&quot;Currency code, Reconciliation&quot;\n          class=&quot;org.jpos.iso.IF_CHAR&quot;/&gt;\n  &lt;isofield\n          id=&quot;51&quot;\n          length=&quot;3&quot;\n          name=&quot;Currency code, Cardholder billing&quot;\n          class=&quot;org.jpos.iso.IF_CHAR&quot;/&gt;\n  &lt;isofield\n          id=&quot;52&quot;\n          length=&quot;8&quot;\n          name=&quot;Personal identification number [PIN] data&quot;\n          class=&quot;org.jpos.iso.IFA_BINARY&quot;/&gt;\n  &lt;isofield\n          id=&quot;53&quot;\n          length=&quot;48&quot;\n          name=&quot;Security related control information&quot;\n          class=&quot;org.jpos.iso.IFA_LLBINARY&quot;/&gt;\n  &lt;isofield\n          id=&quot;54&quot;\n          length=&quot;120&quot;\n          name=&quot;Amounts, additional&quot;\n          class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n          id=&quot;55&quot;\n          length=&quot;255&quot;\n          name=&quot;IC card system related data&quot;\n          class=&quot;org.jpos.iso.IFA_LLLBINARY&quot;/&gt;\n  &lt;isofield\n          id=&quot;56&quot;\n          length=&quot;35&quot;\n          name=&quot;Original data elements&quot;\n          class=&quot;org.jpos.iso.IFA_LLNUM&quot;/&gt;\n  &lt;isofield\n          id=&quot;57&quot;\n          length=&quot;3&quot;\n          name=&quot;Authorization life cycle code&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;58&quot;\n          length=&quot;11&quot;\n          name=&quot;Authorizing agent institution Id Code&quot;\n          class=&quot;org.jpos.iso.IFA_LLNUM&quot;/&gt;\n  &lt;isofield\n          id=&quot;59&quot;\n          length=&quot;999&quot;\n          name=&quot;Transport data&quot;\n          class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n          id=&quot;60&quot;\n          length=&quot;999&quot;\n          name=&quot;Reserved for national use&quot;\n          class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n          id=&quot;61&quot;\n          length=&quot;999&quot;\n          name=&quot;Reserved for national use&quot;\n          class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n          id=&quot;62&quot;\n          length=&quot;999&quot;\n          name=&quot;Reserved for private use&quot;\n          class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n          id=&quot;63&quot;\n          length=&quot;999&quot;\n          name=&quot;Reserved for private use&quot;\n          class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n          id=&quot;64&quot;\n          length=&quot;8&quot;\n          name=&quot;Message authentication code field&quot;\n          class=&quot;org.jpos.iso.IFA_BINARY&quot;/&gt;\n  &lt;isofield\n          id=&quot;65&quot;\n          length=&quot;8&quot;\n          name=&quot;Reserved for ISO use&quot;\n          class=&quot;org.jpos.iso.IFA_BINARY&quot;/&gt;\n  &lt;isofield\n          id=&quot;66&quot;\n          length=&quot;204&quot;\n          name=&quot;Amounts, original fees&quot;\n          class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n          id=&quot;67&quot;\n          length=&quot;2&quot;\n          name=&quot;Extended payment data&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;68&quot;\n          length=&quot;3&quot;\n          name=&quot;Country code, receiving institution&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;69&quot;\n          length=&quot;3&quot;\n          name=&quot;Country code, settlement institution&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;70&quot;\n          length=&quot;3&quot;\n          name=&quot;Country code, authorizing agent Inst.&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;71&quot;\n          length=&quot;8&quot;\n          name=&quot;Message number&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;72&quot;\n          length=&quot;999&quot;\n          name=&quot;Data record&quot;\n          class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n          id=&quot;73&quot;\n          length=&quot;6&quot;\n          name=&quot;Date, action&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;74&quot;\n          length=&quot;10&quot;\n          name=&quot;Credits, number&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;75&quot;\n          length=&quot;10&quot;\n          name=&quot;Credits, reversal number&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;76&quot;\n          length=&quot;10&quot;\n          name=&quot;Debits, number&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;77&quot;\n          length=&quot;10&quot;\n          name=&quot;Debits, reversal number&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;78&quot;\n          length=&quot;10&quot;\n          name=&quot;Transfer, number&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;79&quot;\n          length=&quot;10&quot;\n          name=&quot;Transfer, reversal number&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;80&quot;\n          length=&quot;10&quot;\n          name=&quot;Inquiries, number&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;81&quot;\n          length=&quot;10&quot;\n          name=&quot;Authorizations, number&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;82&quot;\n          length=&quot;10&quot;\n          name=&quot;Inquiries, reversal number&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;83&quot;\n          length=&quot;10&quot;\n          name=&quot;Payments, number&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;84&quot;\n          length=&quot;10&quot;\n          name=&quot;Payments, reversal number&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;85&quot;\n          length=&quot;10&quot;\n          name=&quot;Fee collections, number&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;86&quot;\n          length=&quot;16&quot;\n          name=&quot;Credits, amount&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;87&quot;\n          length=&quot;16&quot;\n          name=&quot;Credits, reversal amount&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;88&quot;\n          length=&quot;16&quot;\n          name=&quot;Debits, amount&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;89&quot;\n          length=&quot;16&quot;\n          name=&quot;Debits, reversal amount&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;90&quot;\n          length=&quot;10&quot;\n          name=&quot;Authorizations, reversal number&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;91&quot;\n          length=&quot;3&quot;\n          name=&quot;Country code, transaction Dest. Inst.&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;92&quot;\n          length=&quot;3&quot;\n          name=&quot;Country code, transaction Orig. Inst.&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;93&quot;\n          length=&quot;11&quot;\n          name=&quot;Transaction Dest. Inst. Id code&quot;\n          class=&quot;org.jpos.iso.IFA_LLNUM&quot;/&gt;\n  &lt;isofield\n          id=&quot;94&quot;\n          length=&quot;11&quot;\n          name=&quot;Transaction Orig. Inst. Id code&quot;\n          class=&quot;org.jpos.iso.IFA_LLNUM&quot;/&gt;\n  &lt;isofield\n          id=&quot;95&quot;\n          length=&quot;99&quot;\n          name=&quot;Card issuer reference data&quot;\n          class=&quot;org.jpos.iso.IFA_LLCHAR&quot;/&gt;\n  &lt;isofield\n          id=&quot;96&quot;\n          length=&quot;999&quot;\n          name=&quot;Key management data&quot;\n          class=&quot;org.jpos.iso.IFA_LLLBINARY&quot;/&gt;\n  &lt;isofield\n          id=&quot;97&quot;\n          length=&quot;17&quot;\n          name=&quot;Amount, Net reconciliation&quot;\n          class=&quot;org.jpos.iso.IFA_AMOUNT&quot;/&gt;\n  &lt;isofield\n          id=&quot;98&quot;\n          length=&quot;25&quot;\n          name=&quot;Payee&quot;\n          class=&quot;org.jpos.iso.IF_CHAR&quot;/&gt;\n  &lt;isofield\n          id=&quot;99&quot;\n          length=&quot;11&quot;\n          name=&quot;Settlement institution Id code&quot;\n          class=&quot;org.jpos.iso.IFA_LLCHAR&quot;/&gt;\n  &lt;isofield\n          id=&quot;100&quot;\n          length=&quot;11&quot;\n          name=&quot;Receiving institution Id code&quot;\n          class=&quot;org.jpos.iso.IFA_LLNUM&quot;/&gt;\n  &lt;isofield\n          id=&quot;101&quot;\n          length=&quot;17&quot;\n          name=&quot;File name&quot;\n          class=&quot;org.jpos.iso.IFA_LLCHAR&quot;/&gt;\n  &lt;isofield\n          id=&quot;102&quot;\n          length=&quot;28&quot;\n          name=&quot;Account identification 1&quot;\n          class=&quot;org.jpos.iso.IFA_LLCHAR&quot;/&gt;\n  &lt;isofield\n          id=&quot;103&quot;\n          length=&quot;28&quot;\n          name=&quot;Account identification 2&quot;\n          class=&quot;org.jpos.iso.IFA_LLCHAR&quot;/&gt;\n  &lt;isofield\n          id=&quot;104&quot;\n          length=&quot;100&quot;\n          name=&quot;Transaction description&quot;\n          class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n          id=&quot;105&quot;\n          length=&quot;16&quot;\n          name=&quot;Credits, Chargeback amount&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;106&quot;\n          length=&quot;16&quot;\n          name=&quot;Debits, Chargeback amount&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;107&quot;\n          length=&quot;10&quot;\n          name=&quot;Credits, Chargeback number&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;108&quot;\n          length=&quot;10&quot;\n          name=&quot;Debits, Chargeback number&quot;\n          class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n          id=&quot;109&quot;\n          length=&quot;84&quot;\n          name=&quot;Credits, Fee amounts&quot;\n          class=&quot;org.jpos.iso.IFA_LLCHAR&quot;/&gt;\n  &lt;isofield\n          id=&quot;110&quot;\n          length=&quot;84&quot;\n          name=&quot;Debits, Fee amounts&quot;\n          class=&quot;org.jpos.iso.IFA_LLCHAR&quot;/&gt;\n  &lt;isofield\n          id=&quot;111&quot;\n          length=&quot;999&quot;\n          name=&quot;Reserved for ISO use&quot;\n          class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n          id=&quot;112&quot;\n          length=&quot;999&quot;\n          name=&quot;Reserved for ISO use&quot;\n          class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n          id=&quot;113&quot;\n          length=&quot;999&quot;\n          name=&quot;Reserved for ISO use&quot;\n          class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n          id=&quot;114&quot;\n          length=&quot;999&quot;\n          name=&quot;Reserved for ISO use&quot;\n          class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n          id=&quot;115&quot;\n          length=&quot;999&quot;\n          name=&quot;Reserved for ISO use&quot;\n          class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n          id=&quot;116&quot;\n          length=&quot;999&quot;\n          name=&quot;Reserved for national use&quot;\n          class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n          id=&quot;117&quot;\n          length=&quot;999&quot;\n          name=&quot;Reserved for national use&quot;\n          class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n          id=&quot;118&quot;\n          length=&quot;999&quot;\n          name=&quot;Reserved for national use&quot;\n          class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n          id=&quot;119&quot;\n          length=&quot;999&quot;\n          name=&quot;Reserved for national use&quot;\n          class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n          id=&quot;120&quot;\n          length=&quot;999&quot;\n          name=&quot;Reserved for national use&quot;\n          class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n          id=&quot;121&quot;\n          length=&quot;999&quot;\n          name=&quot;Reserved for national use&quot;\n          class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n          id=&quot;122&quot;\n          length=&quot;999&quot;\n          name=&quot;Reserved for national use&quot;\n          class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n          id=&quot;123&quot;\n          length=&quot;999&quot;\n          name=&quot;Reserved for private use&quot;\n          class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n          id=&quot;124&quot;\n          length=&quot;999&quot;\n          name=&quot;Reserved for private use&quot;\n          class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n          id=&quot;125&quot;\n          length=&quot;999&quot;\n          name=&quot;Reserved for private use&quot;\n          class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n          id=&quot;126&quot;\n          length=&quot;999&quot;\n          name=&quot;Reserved for private use&quot;\n          class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n          id=&quot;127&quot;\n          length=&quot;999&quot;\n          name=&quot;Reserved for private use&quot;\n          class=&quot;org.jpos.iso.IFA_LLLCHAR&quot;/&gt;\n  &lt;isofield\n          id=&quot;128&quot;\n          length=&quot;8&quot;\n          name=&quot;Message authentication code field&quot;\n          class=&quot;org.jpos.iso.IFA_BINARY&quot;/&gt;\n&lt;/isopackager&gt;\n</code></pre>\n<p>here is the template of the message i have to constitute (from a tcpdump):</p>\n<pre><code>09:34:50.321783 -| \n31.38.30.34.00.30.01.00.00.00.00.00.30.39.30.37       1804.0......0907\n09:34:50.321794 -| 34.38.32.33.30.32.30.38.30.39.30.37.34.38.38.33       4823020809074883\n09:34:50.321803 -| 31                                                    1\n09:34:50.321813 D|\n</code></pre>\n<p>update :\nthe server side code (with the same packager):</p>\n<pre><code>@Component\npublic class Server implements ISORequestListener{\n\n@Bean\npublic void iniTServer() throws ISOException {\n    String hotname = &quot;127.0.0.1&quot;;\n        int portNumber = 5000;\n        ISOPackager packager = new GenericPackager(Server.getAbsolutePathOfAFile(&quot;./packager6/iso8583packager.xml&quot;));\n        PostChannel channel = new PostChannel(hotname, portNumber, packager);\n        ISOServer server = new ISOServer(portNumber, channel, null);\n        server.addISORequestListener(new Server());\n        System.out.println(&quot;ISO8583 server started...&quot;);\n        new Thread(server).start();\n}\n\n @Override\n    public boolean process(ISOSource isoSource, ISOMsg isoMsg) {\n        try {\n            System.out.println(&quot;ISO8583 incoming message on host [&quot; + ((BaseChannel) isoSource).getSocket().getInetAddress().getHostAddress() + &quot;]&quot;);\n            receiveMessage(isoSource, isoMsg);\n            printISOMessage(isoMsg);\n            System.out.println(&quot;ISO Message: &quot; + isoMsg);\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n        return true;\n    }\n\n    private void receiveMessage(ISOSource isoSource, ISOMsg isoMsg) throws ISOException, IOException, ISOException, CsvException, URISyntaxException {\n        System.out.println(&quot;ISO8583 Message received...&quot;);\n        InputStreamReader reader = FileUtils.loadFile(&quot;/BDD.csv&quot;, getClass());\n        URL url = getClass().getResource(&quot;/BDD.csv&quot;);\n        File file = new File(url.toURI());\n        file.setWritable(true);\n        CSVReader csvReader = new CSVReader(reader);\n        //reader.close();\n       List&lt;String[]&gt; records=csvReader.readAll();\n       // Object obj=jo.parse(reader2); \n       FileUtils.csvUpdaterAtAnIndex(getClass(),csvReader, &quot;99&quot;, &quot;/BDD.csv&quot;, 1, 2);\n        //String jsonString=gson.toJson(obj);\n        //JSONObject jsonObj=new JSONObject(jsonString);\n        Response resp=new Response();\n        \n        resp.setDataFields(IsoUtils2.buildResponseFromISOMessage(isoMsg));\n        ISOMsg isoResponse=new ISOMsg();\n        String response=&quot;&quot;;\n        String soldeClient=records.get(1)[2];\n        isoResponse=IsoUtils2.buildResponseToSend(isoMsg, soldeClient, resp);\n        //System.out.println(&quot;isoResponse &quot;+isoResponse);\n        isoSource.send(isoResponse);\n    }\n\n    private static void printISOMessage(ISOMsg isoMsg) throws ISOException {\n        System.out.printf(&quot;MTI = %s%n&quot;, isoMsg.getMTI());\n    for (int i = 1; i &lt;= isoMsg.getMaxField(); i++) {\n        if (isoMsg.hasField(i)) {\n            System.out.printf(&quot;Field (%s) = %s%n&quot;, i, isoMsg.getString(i));\n         }\n        }\n    }\n\npublic static String getAbsolutePathOfAFile(String relativePath){\n    return Paths.get(relativePath).toAbsolutePath().normalize().toAbsolutePath().toString();\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring","spring-boot","integration-testing","thymeleaf"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1451981494,"post_id":34606760,"comment_id":56959035,"body_markdown":"You shouldn&#39;t be using `@ContextConfiguration` but `@ SpringApplicationConfiguration` instead and point it to your application class instead of the configuration class.","body":"You shouldn&#39;t be using <code>@ContextConfiguration</code> but <code>@ SpringApplicationConfiguration</code> instead and point it to your application class instead of the configuration class."},{"owner":{"account_id":26704,"reputation":22468,"user_id":69746,"accept_rate":79,"display_name":"Xolve"},"score":0,"creation_date":1469418546,"post_id":34606760,"comment_id":64509734,"body_markdown":"@M.Deinum I use @ SpringApplicationConfiguration. How can I use a different @ Configuration class for tests?","body":"@M.Deinum I use @ SpringApplicationConfiguration. How can I use a different @ Configuration class for tests?"}],"answers":[{"tags":[],"owner":{"account_id":1319010,"reputation":736,"user_id":1265245,"display_name":"Tommy Stanton"},"down_vote_count":1,"up_vote_count":15,"is_accepted":true,"score":14,"last_activity_date":1452020175,"creation_date":1452019543,"answer_id":34619077,"question_id":34606760,"body_markdown":"Thanks to @M.Deinum for helping me to realize that:\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @WebAppConfiguration\r\n    @ContextConfiguration(classes = Config.class)\r\n    public class ControllerTest {\r\n\r\n...should be:\r\n\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @WebAppConfiguration\r\n    @SpringApplicationConfiguration(classes = Application.class)\r\n    public class ControllerTest {\r\n\r\n----\r\n\r\nI suppose that `@ContextConfiguration` is meant for integration tests in __Spring__, whereas `@SpringApplicationConfiguration` is meant for integration tests in __Spring Boot__.\r\n\r\nAccording to the [Javadoc for the latter](http://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/SpringApplicationConfiguration.html):\r\n\r\n&gt; Class-level annotation that is used to determine how to load and configure an ApplicationContext for integration tests.\r\n&gt; \r\n&gt; Similar to the standard @ContextConfiguration but uses Spring Boot&#39;s SpringApplicationContextLoader.","title":"@WebAppConfiguration and @ContextConfiguration for Spring Boot + Thymeleaf","body":"<p>Thanks to @M.Deinum for helping me to realize that:</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@WebAppConfiguration\n@ContextConfiguration(classes = Config.class)\npublic class ControllerTest {\n</code></pre>\n\n<p>...should be:</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@WebAppConfiguration\n@SpringApplicationConfiguration(classes = Application.class)\npublic class ControllerTest {\n</code></pre>\n\n<hr>\n\n<p>I suppose that <code>@ContextConfiguration</code> is meant for integration tests in <strong>Spring</strong>, whereas <code>@SpringApplicationConfiguration</code> is meant for integration tests in <strong>Spring Boot</strong>.</p>\n\n<p>According to the <a href=\"http://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/SpringApplicationConfiguration.html\">Javadoc for the latter</a>:</p>\n\n<blockquote>\n  <p>Class-level annotation that is used to determine how to load and configure an ApplicationContext for integration tests.</p>\n  \n  <p>Similar to the standard @ContextConfiguration but uses Spring Boot's SpringApplicationContextLoader.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3276577,"reputation":536,"user_id":2758406,"accept_rate":0,"display_name":"user2758406"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1506021890,"creation_date":1506021890,"answer_id":46351750,"question_id":34606760,"body_markdown":"        package com.test;\r\n    \r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.springframework.boot.test.SpringApplicationConfiguration;\r\n    import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\r\n    \r\n    import netgloo.Application;\r\n    \r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @SpringApplicationConfiguration(classes = Application.class)\r\n    public class SmokeTest {\r\n    \r\n       \r\n        @Test\r\n        public void contexLoads() throws Exception {\r\n         System.out.println(&quot;Test&quot;);\r\n        }\r\n    }","title":"@WebAppConfiguration and @ContextConfiguration for Spring Boot + Thymeleaf","body":"<pre><code>    package com.test;\n\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.boot.test.SpringApplicationConfiguration;\nimport org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\n\nimport netgloo.Application;\n\n@RunWith(SpringJUnit4ClassRunner.class)\n@SpringApplicationConfiguration(classes = Application.class)\npublic class SmokeTest {\n\n\n    @Test\n    public void contexLoads() throws Exception {\n     System.out.println(\"Test\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24662336,"reputation":504,"user_id":18558424,"display_name":"Abe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676155718,"creation_date":1676155718,"answer_id":75423809,"question_id":34606760,"body_markdown":"If you use boot, you an use @SpringBootTest  or one of Test Slices (@WebMvcTest in your case) https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#appendix.test-auto-configuration.slices \r\n\r\nIf you use spring core, you can use @WebappConfiguration + @ContextConfiguration","title":"@WebAppConfiguration and @ContextConfiguration for Spring Boot + Thymeleaf","body":"<p>If you use boot, you an use @SpringBootTest  or one of Test Slices (@WebMvcTest in your case) <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#appendix.test-auto-configuration.slices\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#appendix.test-auto-configuration.slices</a></p>\n<p>If you use spring core, you can use @WebappConfiguration + @ContextConfiguration</p>\n"}],"owner":{"account_id":1319010,"reputation":736,"user_id":1265245,"display_name":"Tommy Stanton"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24503,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":34619077,"answer_count":3,"score":11,"last_activity_date":1676155718,"creation_date":1451980864,"question_id":34606760,"body_markdown":"Given a Spring Boot + Thymeleaf web application (this is nearly identical to the Spring project&#39;s [gs-consuming-rest &quot;initial&quot; code tree](https://github.com/spring-guides/gs-securing-web/tree/master/initial)):\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    ├── pom.xml\r\n    └── src\r\n        ├── main\r\n        │&#160;&#160; ├── java\r\n        │&#160;&#160; │&#160;&#160; └── hello\r\n        │&#160;&#160; │&#160;&#160;     ├── Application.java\r\n        │&#160;&#160; │&#160;&#160;     ├── Config.java\r\n        │&#160;&#160; │&#160;&#160;     └── Controller.java\r\n        │&#160;&#160; └── resources\r\n        │&#160;&#160;     └── templates\r\n        │&#160;&#160;         └── index.html\r\n        └── test\r\n            └── java\r\n                └── hello\r\n                    └── ControllerTest.java\r\n\r\n\r\n...the user is greeted just fine with &quot;Hello World!&quot; at `http://localhost:8080/`, but the wiring of Spring&#39;s &quot;context&quot; does not seem to apply within the integration test (`ControllerTest.java`):\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    java.lang.AssertionError: Status \r\n    Expected :200\r\n    Actual   :404\r\n\r\nWhat is wrong with the __project layout__, and/or the __configuration annotations__ in the test?\r\n\r\n*`src/main/webapp/` is intentionally missing, along with things like `web.xml` and `WEB-INF/`.  The goal here is to use minimal configuration, with an integration test to test-drive the development of the view and controller of the application.*\r\n\r\nGory details below.  Sorry in advance for the &quot;wall of text.&quot;\r\n\r\n----\r\n\r\n### pom.xml\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3.1.RELEASE&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n### Application.java\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    package hello;\r\n    \r\n    // ...\r\n    \r\n    @SpringBootApplication\r\n    public class Application {\r\n    \r\n      public static void main(String[] args) throws Throwable {\r\n        SpringApplication.run(Application.class, args);\r\n      }\r\n    }\r\n\r\n### Controller.java\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    package hello;\r\n    \r\n    @org.springframework.stereotype.Controller\r\n    public class Controller {\r\n    }\r\n\r\n### Config.java\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    package hello;\r\n    \r\n    // ...\r\n    \r\n    @Configuration\r\n    public class Config extends WebMvcConfigurerAdapter {\r\n    \r\n      @Override\r\n      public void addViewControllers(ViewControllerRegistry registry) {\r\n        registry.addViewController(&quot;/&quot;).setViewName(&quot;index&quot;);\r\n      }\r\n    }\r\n\r\n### ControllerTest.java\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    package hello;\r\n    \r\n    // ...\r\n    \r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @WebAppConfiguration\r\n    @ContextConfiguration(classes = Config.class)\r\n    public class ControllerTest {\r\n    \r\n      @Autowired\r\n      private WebApplicationContext wac;\r\n    \r\n      private MockMvc mockMvc;\r\n    \r\n      @Before\r\n      public void setup() {\r\n        mockMvc = MockMvcBuilders.webAppContextSetup(wac).build();\r\n      }\r\n    \r\n      @Test\r\n      public void test() throws Exception {\r\n        this.mockMvc\r\n            .perform(get(&quot;/&quot;))\r\n            .andExpect(status().isOk());\r\n      }\r\n    }\r\n\r\n### index.html\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n      &lt;head&gt;\r\n        &lt;title&gt;Hello World!&lt;/title&gt;\r\n      &lt;/head&gt;\r\n      &lt;body&gt;\r\n        &lt;p&gt;Hello world!&lt;/p&gt;\r\n      &lt;/body&gt;\r\n    &lt;/html&gt;\r\n","title":"@WebAppConfiguration and @ContextConfiguration for Spring Boot + Thymeleaf","body":"<p>Given a Spring Boot + Thymeleaf web application (this is nearly identical to the Spring project's <a href=\"https://github.com/spring-guides/gs-securing-web/tree/master/initial\" rel=\"noreferrer\">gs-consuming-rest \"initial\" code tree</a>):</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>├── pom.xml\n└── src\n    ├── main\n    │   ├── java\n    │   │   └── hello\n    │   │       ├── Application.java\n    │   │       ├── Config.java\n    │   │       └── Controller.java\n    │   └── resources\n    │       └── templates\n    │           └── index.html\n    └── test\n        └── java\n            └── hello\n                └── ControllerTest.java\n</code></pre>\n\n<p>...the user is greeted just fine with \"Hello World!\" at <code>http://localhost:8080/</code>, but the wiring of Spring's \"context\" does not seem to apply within the integration test (<code>ControllerTest.java</code>):</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.AssertionError: Status \nExpected :200\nActual   :404\n</code></pre>\n\n<p>What is wrong with the <strong>project layout</strong>, and/or the <strong>configuration annotations</strong> in the test?</p>\n\n<p><em><code>src/main/webapp/</code> is intentionally missing, along with things like <code>web.xml</code> and <code>WEB-INF/</code>.  The goal here is to use minimal configuration, with an integration test to test-drive the development of the view and controller of the application.</em></p>\n\n<p>Gory details below.  Sorry in advance for the \"wall of text.\"</p>\n\n<hr>\n\n<h3>pom.xml</h3>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.3.1.RELEASE&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<h3>Application.java</h3>\n\n<pre class=\"lang-java prettyprint-override\"><code>package hello;\n\n// ...\n\n@SpringBootApplication\npublic class Application {\n\n  public static void main(String[] args) throws Throwable {\n    SpringApplication.run(Application.class, args);\n  }\n}\n</code></pre>\n\n<h3>Controller.java</h3>\n\n<pre class=\"lang-java prettyprint-override\"><code>package hello;\n\n@org.springframework.stereotype.Controller\npublic class Controller {\n}\n</code></pre>\n\n<h3>Config.java</h3>\n\n<pre class=\"lang-java prettyprint-override\"><code>package hello;\n\n// ...\n\n@Configuration\npublic class Config extends WebMvcConfigurerAdapter {\n\n  @Override\n  public void addViewControllers(ViewControllerRegistry registry) {\n    registry.addViewController(\"/\").setViewName(\"index\");\n  }\n}\n</code></pre>\n\n<h3>ControllerTest.java</h3>\n\n<pre class=\"lang-java prettyprint-override\"><code>package hello;\n\n// ...\n\n@RunWith(SpringJUnit4ClassRunner.class)\n@WebAppConfiguration\n@ContextConfiguration(classes = Config.class)\npublic class ControllerTest {\n\n  @Autowired\n  private WebApplicationContext wac;\n\n  private MockMvc mockMvc;\n\n  @Before\n  public void setup() {\n    mockMvc = MockMvcBuilders.webAppContextSetup(wac).build();\n  }\n\n  @Test\n  public void test() throws Exception {\n    this.mockMvc\n        .perform(get(\"/\"))\n        .andExpect(status().isOk());\n  }\n}\n</code></pre>\n\n<h3>index.html</h3>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;title&gt;Hello World!&lt;/title&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;p&gt;Hello world!&lt;/p&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":1,"creation_date":1439517323,"post_id":32001087,"comment_id":51905548,"body_markdown":"http://stackoverflow.com/a/415635/460557","body":"<a href=\"http://stackoverflow.com/a/415635/460557\">stackoverflow.com/a/415635/460557</a>"},{"owner":{"account_id":6501961,"reputation":215,"user_id":5032404,"accept_rate":50,"display_name":"Cookie Cat"},"score":0,"creation_date":1439518672,"post_id":32001087,"comment_id":51905838,"body_markdown":"It doesn&#39;t answer my question in a slightest. It says that naming groups and using `\\k` is supported, but `\\g`, which is what I need, is still unsupported.","body":"It doesn&#39;t answer my question in a slightest. It says that naming groups and using <code>\\k</code> is supported, but <code>\\g</code>, which is what I need, is still unsupported."},{"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"score":0,"creation_date":1439533303,"post_id":32001087,"comment_id":51909835,"body_markdown":"@RobbyCornelissen: Please retract your close vote. This question has nothing to do with named group. In fact Java has no support for subroutine call.","body":"@RobbyCornelissen: Please retract your close vote. This question has nothing to do with named group. In fact Java has no support for subroutine call."},{"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"score":1,"creation_date":1439533418,"post_id":32001087,"comment_id":51909890,"body_markdown":"@CookieCat: What you want to do can be achieved by string concatenation in Java. An example: http://stackoverflow.com/questions/26507391/java-regular-expression-for-detecting-class-interface-etc-declaration/26513446#26513446 (scroll down to bottom)","body":"@CookieCat: What you want to do can be achieved by string concatenation in Java. An example: <a href=\"http://stackoverflow.com/questions/26507391/java-regular-expression-for-detecting-class-interface-etc-declaration/26513446#26513446\" title=\"java regular expression for detecting class interface etc declaration\">stackoverflow.com/questions/26507391/&hellip;</a> (scroll down to bottom)"},{"owner":{"account_id":6501961,"reputation":215,"user_id":5032404,"accept_rate":50,"display_name":"Cookie Cat"},"score":1,"creation_date":1439538448,"post_id":32001087,"comment_id":51912329,"body_markdown":"@nhahtdh that is correct, except that I mentioned in the very beginning of the question that I&#39;m a user of commercial closed-source Java application and restated it in the very end of my question saying that I don&#39;t have access to the source code of it. I need everything to be done entirely in Java&#39;s Regex. Other flavors of regex, such as Perl&#39;s, Python&#39;s, JavaScript&#39;s, PHP&#39;s and many other support the `\\g` escape sequence for referencing named groups, which is what would solve my issue, but Java doesn&#39;t support it. And my question was whether what I want is possible to do in Java&#39;s Regex.","body":"@nhahtdh that is correct, except that I mentioned in the very beginning of the question that I&#39;m a user of commercial closed-source Java application and restated it in the very end of my question saying that I don&#39;t have access to the source code of it. I need everything to be done entirely in Java&#39;s Regex. Other flavors of regex, such as Perl&#39;s, Python&#39;s, JavaScript&#39;s, PHP&#39;s and many other support the <code>\\g</code> escape sequence for referencing named groups, which is what would solve my issue, but Java doesn&#39;t support it. And my question was whether what I want is possible to do in Java&#39;s Regex."},{"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"score":0,"creation_date":1439538551,"post_id":32001087,"comment_id":51912388,"body_markdown":"@CookieCat: Then it&#39;s impossible to do what you want, since Java doesn&#39;t support such feature in the pattern itself.","body":"@CookieCat: Then it&#39;s impossible to do what you want, since Java doesn&#39;t support such feature in the pattern itself."},{"owner":{"account_id":5847794,"reputation":5365,"user_id":4607417,"accept_rate":67,"display_name":"m.cekiera"},"score":0,"creation_date":1439538783,"post_id":32001087,"comment_id":51912497,"body_markdown":"@CookieCat you are totally right, sorry, no excuses","body":"@CookieCat you are totally right, sorry, no excuses"},{"owner":{"account_id":6501961,"reputation":215,"user_id":5032404,"accept_rate":50,"display_name":"Cookie Cat"},"score":1,"creation_date":1439539067,"post_id":32001087,"comment_id":51912637,"body_markdown":"@nhahtdh I see. I hoped there might be some clever workaround. It was a lot more desirable to keep it regex-only as much as possible, but since there is no way around it, I will have to resort to writing a program that will print to stdout the regex I want, using variables for that substitution I want.","body":"@nhahtdh I see. I hoped there might be some clever workaround. It was a lot more desirable to keep it regex-only as much as possible, but since there is no way around it, I will have to resort to writing a program that will print to stdout the regex I want, using variables for that substitution I want."},{"owner":{"account_id":268704,"reputation":2391,"user_id":15577665,"display_name":"sln"},"score":0,"creation_date":1617831462,"post_id":32001087,"comment_id":118421044,"body_markdown":"`^(?:foo_${name}|${name}_bar_${os}_foo)_${os}$` where `${name}=&quot;[^_]+&quot;, ${os}=&quot;(?:windows|(?:linu|os)x)&quot;`","body":"<code>^(?:foo_${name}|${name}_bar_${os}_foo)_${os}$</code> where <code>${name}=&quot;[^_]+&quot;, ${os}=&quot;(?:windows|(?:linu|os)x)&quot;</code>"}],"answers":[{"tags":[],"owner":{"account_id":150404,"reputation":42109,"user_id":363573,"accept_rate":97,"display_name":"Stephan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1440497141,"creation_date":1440497141,"answer_id":32201103,"question_id":32001087,"body_markdown":"As of Java 8 a pure regular expression solution doesn&#39;t exist. The `\\g` may be supported in newer versions in the future.\r\n\r\nAs already mentionned, the only solution is the string concatenation technique. However it is not an option in your case.\r\n\r\nIf you tell us the name of the commercial closed-source Java application, maybe we can help you more.","title":"Java Regex: &quot;factor out&quot; repeated subpatterns","body":"<p>As of Java 8 a pure regular expression solution doesn't exist. The <code>\\g</code> may be supported in newer versions in the future.</p>\n\n<p>As already mentionned, the only solution is the string concatenation technique. However it is not an option in your case.</p>\n\n<p>If you tell us the name of the commercial closed-source Java application, maybe we can help you more.</p>\n"},{"tags":[],"owner":{"account_id":1133874,"reputation":4257,"user_id":1119345,"accept_rate":75,"display_name":"Eero Aaltonen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1440498010,"creation_date":1440498010,"answer_id":32201401,"question_id":32001087,"body_markdown":"If you can run some of your java code before submitting the pattern, you could use  StrSubstitutor from apache.commons:\r\n\r\n    Map&lt;String, String&gt; valuesMap = new HashMap&lt;&gt;();\r\n    valuesMap.put(&quot;os&quot;, &quot;(windows|linux|osx)&quot;);\r\n    valuesMap.put(&quot;name&quot;, &quot;(?[^_]+)&quot;);\r\n    StrSubstitutor sub = new StrSubstitutor(valuesMap);\r\n    \r\n    String template =&quot;^(\\n&quot;+\r\n    \t    &quot;    ( # pattern foo\\n&quot;+\r\n    \t    &quot;        foo_${name}_${os}\\n&quot;+\r\n    \t    &quot;    )\\n&quot;+\r\n    \t    &quot;    |\\n&quot;+\r\n    \t    &quot;    ( # pattern bar\\n&quot;+\r\n    \t    &quot;        ${name}_bar_${os}_foo_${os}\\n&quot;+\r\n    \t    &quot;    )\\n&quot;+\r\n    \t    &quot;)$&quot;;\r\n    String regex = sub.replace(template);\r\n    System.out.println(regex);","title":"Java Regex: &quot;factor out&quot; repeated subpatterns","body":"<p>If you can run some of your java code before submitting the pattern, you could use  StrSubstitutor from apache.commons:</p>\n\n<pre><code>Map&lt;String, String&gt; valuesMap = new HashMap&lt;&gt;();\nvaluesMap.put(\"os\", \"(windows|linux|osx)\");\nvaluesMap.put(\"name\", \"(?[^_]+)\");\nStrSubstitutor sub = new StrSubstitutor(valuesMap);\n\nString template =\"^(\\n\"+\n        \"    ( # pattern foo\\n\"+\n        \"        foo_${name}_${os}\\n\"+\n        \"    )\\n\"+\n        \"    |\\n\"+\n        \"    ( # pattern bar\\n\"+\n        \"        ${name}_bar_${os}_foo_${os}\\n\"+\n        \"    )\\n\"+\n        \")$\";\nString regex = sub.replace(template);\nSystem.out.println(regex);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":268704,"reputation":2391,"user_id":15577665,"display_name":"sln"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676154947,"creation_date":1676154947,"answer_id":75423748,"question_id":32001087,"body_markdown":"Your regex reduces to `^(?:foo_[^_]+|[^_]+_bar_(?:windows|(?:linu|os)x)_foo)_(?:windows|(?:linu|os)x)$`\r\n\r\n    ^ \r\n    (?:\r\n      foo_ [^_]+ \r\n    | [^_]+ _bar_\r\n      (?:\r\n        windows\r\n      | (?: linu | os )\r\n        x\r\n      )\r\n      _foo\r\n    )\r\n    _\r\n    (?:\r\n      windows\r\n    | (?: linu | os )\r\n      x\r\n    )\r\n    $","title":"Java Regex: &quot;factor out&quot; repeated subpatterns","body":"<p>Your regex reduces to <code>^(?:foo_[^_]+|[^_]+_bar_(?:windows|(?:linu|os)x)_foo)_(?:windows|(?:linu|os)x)$</code></p>\n<pre><code>^ \n(?:\n  foo_ [^_]+ \n| [^_]+ _bar_\n  (?:\n    windows\n  | (?: linu | os )\n    x\n  )\n  _foo\n)\n_\n(?:\n  windows\n| (?: linu | os )\n  x\n)\n$\n</code></pre>\n"}],"owner":{"account_id":6501961,"reputation":215,"user_id":5032404,"accept_rate":50,"display_name":"Cookie Cat"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":386,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1676154947,"creation_date":1439516542,"question_id":32001087,"body_markdown":"I&#39;m using a commercial closed-source Java application that, besides everything it does, allows to filter text fields by providing a regex pattern string. I&#39;m using that filter functionality quite extensively.\r\n\r\nThe issue I&#39;m having is that I often find myself repeating the same exact subpatterns in the regex. For example, here\r\n\r\n\r\n    ^(\r\n        ( # pattern foo\r\n            foo_([^_]+)_(windows|linux|osx)\r\n        )\r\n        |\r\n        ( # pattern bar\r\n            ([^_]+)_bar_(windows|linux|osx)_foo_(windows|linux|osx)\r\n        )\r\n    )$\r\n\r\nThe `([^_]+)` and `(windows|linux|osx)` parts repeat quite often.\r\n\r\nThat&#39;s just a made up example. The original regex is more complex, about 20 times larger and has a lot of different repeats. It becomes a bit harder to read since the repeated subpatterns only keep growing in size as well as in number, and it&#39;s troublesome that when you try to modify a repeated subpattern, you have to modify all its repeats too.\r\n\r\nSo, I played with regex101 and came up with this\r\n\r\n\r\n    ^(\r\n        ( # a dummy option, defines some frequently used capture groups\r\n            (?!x)x # always false, so nothing matches this and the following groups ever\r\n            (?&#39;name&#39;[^_]+) # group &quot;name&quot;\r\n            (?&#39;os&#39;windows|linux|osx) # group &quot;os&quot;\r\n        )\r\n        |\r\n        ( # pattern foo\r\n            foo_\\g&#39;name&#39;_\\g&#39;os&#39;\r\n        )\r\n        |\r\n        ( # pattern bar\r\n            \\g&#39;name&#39;_bar_\\g&#39;os&#39;_foo_\\g&#39;os&#39;\r\n        )\r\n    )$\r\n\r\n\r\n[regex101 save](https://regex101.com/r/fY1hM7/2)\r\n\r\nNow all of the subpatterns are named and whenever I reference the name, they are replaced with the subpattern string (i.e. `\\g&#39;os&#39;` gets replaced by `(windows|linux|osx)`). The names are a lot shorter than the corresponding subpattern, they also are clear and you have to modify a subpattern once for the modification to apply everywhere in the regex.\r\n\r\nThe issue with this improved version is that while it&#39;s a valid PHP pcre regex, it&#39;s invalid Java regex. Comments and broken lines in the regex aside, Java doesn&#39;t support `\\g`, as stated in [Comparison to Perl 5](https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html).\r\n\r\nIs there any way I can &quot;factor out&quot; the repeated regex patterns like that in Java Regex? Don&#39;t forget that all I can do is provide a pattern string, I have no access to the code.","title":"Java Regex: &quot;factor out&quot; repeated subpatterns","body":"<p>I'm using a commercial closed-source Java application that, besides everything it does, allows to filter text fields by providing a regex pattern string. I'm using that filter functionality quite extensively.</p>\n\n<p>The issue I'm having is that I often find myself repeating the same exact subpatterns in the regex. For example, here</p>\n\n<pre><code>^(\n    ( # pattern foo\n        foo_([^_]+)_(windows|linux|osx)\n    )\n    |\n    ( # pattern bar\n        ([^_]+)_bar_(windows|linux|osx)_foo_(windows|linux|osx)\n    )\n)$\n</code></pre>\n\n<p>The <code>([^_]+)</code> and <code>(windows|linux|osx)</code> parts repeat quite often.</p>\n\n<p>That's just a made up example. The original regex is more complex, about 20 times larger and has a lot of different repeats. It becomes a bit harder to read since the repeated subpatterns only keep growing in size as well as in number, and it's troublesome that when you try to modify a repeated subpattern, you have to modify all its repeats too.</p>\n\n<p>So, I played with regex101 and came up with this</p>\n\n<pre><code>^(\n    ( # a dummy option, defines some frequently used capture groups\n        (?!x)x # always false, so nothing matches this and the following groups ever\n        (?'name'[^_]+) # group \"name\"\n        (?'os'windows|linux|osx) # group \"os\"\n    )\n    |\n    ( # pattern foo\n        foo_\\g'name'_\\g'os'\n    )\n    |\n    ( # pattern bar\n        \\g'name'_bar_\\g'os'_foo_\\g'os'\n    )\n)$\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/fY1hM7/2\" rel=\"nofollow\">regex101 save</a></p>\n\n<p>Now all of the subpatterns are named and whenever I reference the name, they are replaced with the subpattern string (i.e. <code>\\g'os'</code> gets replaced by <code>(windows|linux|osx)</code>). The names are a lot shorter than the corresponding subpattern, they also are clear and you have to modify a subpattern once for the modification to apply everywhere in the regex.</p>\n\n<p>The issue with this improved version is that while it's a valid PHP pcre regex, it's invalid Java regex. Comments and broken lines in the regex aside, Java doesn't support <code>\\g</code>, as stated in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow\">Comparison to Perl 5</a>.</p>\n\n<p>Is there any way I can \"factor out\" the repeated regex patterns like that in Java Regex? Don't forget that all I can do is provide a pattern string, I have no access to the code.</p>\n"},{"tags":["python","java","android-studio","kotlin","ide"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676143574,"post_id":75418559,"comment_id":133079970,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":27758719,"reputation":1,"user_id":21191585,"display_name":"user21191585"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676154085,"creation_date":1676098037,"question_id":75418559,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\nAndroid resource linking failed\r\n\r\n```\r\nD:\\Vadawala\\app\\build\\intermediates\\packaged_manifests\\debug\\AndroidManifest.xml:17: error: &#39;@nip map/ic_launcher&#39; is incompatible with attribute roundIcon (attr) reference.\r\nD:\\Vadawala\\app\\build\\intermediates\\packaged_manifests\\debug\\AndroidManifest.xml:17: error: resource style/AppTheme (aka com.example.vadawala:style/AppTheme) not found.\r\nerror: failed processing manifest.\r\n```\r\n\r\nPlease solve this. Thanks\r\n\r\n[1]: https://i.stack.imgur.com/NNdlT.png","title":"Android resource linking failed D:\\Vadawala\\app\\build\\intermediates\\packaged_manifests\\debug\\AndroidManifest.xml:17: error: &#39;@nip map/r","body":"<p><a href=\"https://i.stack.imgur.com/NNdlT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NNdlT.png\" alt=\"enter image description here\" /></a></p>\n<p>Android resource linking failed</p>\n<pre><code>D:\\Vadawala\\app\\build\\intermediates\\packaged_manifests\\debug\\AndroidManifest.xml:17: error: '@nip map/ic_launcher' is incompatible with attribute roundIcon (attr) reference.\nD:\\Vadawala\\app\\build\\intermediates\\packaged_manifests\\debug\\AndroidManifest.xml:17: error: resource style/AppTheme (aka com.example.vadawala:style/AppTheme) not found.\nerror: failed processing manifest.\n</code></pre>\n<p>Please solve this. Thanks</p>\n"},{"tags":["java","google-cloud-dataflow","apache-beam"],"comments":[{"owner":{"account_id":12799902,"reputation":5994,"user_id":9261558,"display_name":"Mazlum Tosun"},"score":0,"creation_date":1674947668,"post_id":75270928,"comment_id":132823607,"body_markdown":"Do you see more log with the severity `debug` instead of `info` ? Do you see something in the Diagnostics tab ?","body":"Do you see more log with the severity <code>debug</code> instead of <code>info</code> ? Do you see something in the Diagnostics tab ?"},{"owner":{"account_id":12799902,"reputation":5994,"user_id":9261558,"display_name":"Mazlum Tosun"},"score":0,"creation_date":1674947812,"post_id":75270928,"comment_id":132823618,"body_markdown":"You can also try to check logs in Cloud Logging.","body":"You can also try to check logs in Cloud Logging."},{"owner":{"account_id":13002594,"reputation":166,"user_id":9916399,"display_name":"Hossmeister"},"score":0,"creation_date":1674951512,"post_id":75270928,"comment_id":132824040,"body_markdown":"@MazlumTosun I see a few more logs with visibility `debug` but nothing that would indicate anything wrong.","body":"@MazlumTosun I see a few more logs with visibility <code>debug</code> but nothing that would indicate anything wrong."},{"owner":{"account_id":12799902,"reputation":5994,"user_id":9261558,"display_name":"Mazlum Tosun"},"score":0,"creation_date":1674953370,"post_id":75270928,"comment_id":132824270,"body_markdown":"Have you also checked in `Cloud Logging` ?","body":"Have you also checked in <code>Cloud Logging</code> ?"},{"owner":{"account_id":13002594,"reputation":166,"user_id":9916399,"display_name":"Hossmeister"},"score":0,"creation_date":1674953703,"post_id":75270928,"comment_id":132824308,"body_markdown":"@MazlumTosun Yes.","body":"@MazlumTosun Yes."},{"owner":{"account_id":1874246,"reputation":1390,"user_id":1695821,"display_name":"Bruno Volpato"},"score":0,"creation_date":1675010279,"post_id":75270928,"comment_id":132831686,"body_markdown":"Do you have any processing at all? Or no work is started? Might have to do with permissions/networking depending on your project https://cloud.google.com/dataflow/docs/concepts/security-and-permissions","body":"Do you have any processing at all? Or no work is started? Might have to do with permissions/networking depending on your project <a href=\"https://cloud.google.com/dataflow/docs/concepts/security-and-permissions\" rel=\"nofollow noreferrer\">cloud.google.com/dataflow/docs/concepts/&hellip;</a>"},{"owner":{"account_id":13002594,"reputation":166,"user_id":9916399,"display_name":"Hossmeister"},"score":0,"creation_date":1675022998,"post_id":75270928,"comment_id":132834244,"body_markdown":"@BrunoVolpato No work is started at all. I checked and the service account I&#39;m using has Dataflow Admin, Dataflow Developer, and Dataflow Worker privileges. I have been able to run other jobs successfully with the same account. I don&#39;t think it&#39;s a permissions issue.","body":"@BrunoVolpato No work is started at all. I checked and the service account I&#39;m using has Dataflow Admin, Dataflow Developer, and Dataflow Worker privileges. I have been able to run other jobs successfully with the same account. I don&#39;t think it&#39;s a permissions issue."},{"owner":{"account_id":1874246,"reputation":1390,"user_id":1695821,"display_name":"Bruno Volpato"},"score":0,"creation_date":1675047182,"post_id":75270928,"comment_id":132837541,"body_markdown":"Got it. I would suggest opening a ticket with Google Support and provide a job id so this can be looked further. There might be some log indications but may be subtle.","body":"Got it. I would suggest opening a ticket with Google Support and provide a job id so this can be looked further. There might be some log indications but may be subtle."}],"answers":[{"tags":[],"owner":{"account_id":13002594,"reputation":166,"user_id":9916399,"display_name":"Hossmeister"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676153749,"creation_date":1676153749,"answer_id":75423656,"question_id":75270928,"body_markdown":"Turns out I forgot to include the `--enableStreamingEngine` flag. This solved my problem.","title":"Apache Beam Dataflow job fails with &quot;GetWork timed out, retrying&quot;","body":"<p>Turns out I forgot to include the <code>--enableStreamingEngine</code> flag. This solved my problem.</p>\n"}],"owner":{"account_id":13002594,"reputation":166,"user_id":9916399,"display_name":"Hossmeister"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75423656,"answer_count":1,"score":0,"last_activity_date":1676153749,"creation_date":1674940341,"question_id":75270928,"body_markdown":"I am able to run an Acache Beam job successfully using the `DirectRunner`, with the following arguments:\r\n\r\n```\r\njava -jar my-jar.jar --commonConfigFile=comJobConfig.yml   \r\n--configFile=relJobConfig.yml \r\n--jobName=my-job   \r\n--stagingLocation=gs://my-bucket/staging/   \r\n--gcpTempLocation=gs://my-bucket/tmp/   \r\n--tempLocation=gs://my-bucket/tmp/  \r\n --runner=DirectRunner \r\n--bucket=my-bucket   \r\n--project=my-project \r\n--region=us-west1   \r\n--subnetwork=my-subnetwork\r\n--serviceAccount=my-svc-account@my-project.iam.gserviceaccount.com   \r\n--usePublicIps=false   \r\n--workerMachineType=e2-standard-2 \r\n--maxNumWorkers=20 --numWorkers=2 \r\n--autoscalingAlgorithm=THROUGHPUT_BASED\r\n```\r\nHowever, while trying to run on Google Dataflow (simply changing `--runner=DataflowRunner`) I receive the following message (`GetWork timed out, retrying`) in the workers.[![enter image description here][1]][1]\r\n\r\nI have checked the logs generated by the Dataflow process and found\r\n```\r\n[2023-01-28 20:49:41,600] [main] INFO  org.apache.beam.runners.dataflow.util.MonitoringUtil$LoggingHandler:91 2023-01-28T20:49:39.386Z: Autoscaling: Raised the number of workers to 2 so that the pipeline can catch up with its backlog and keep up with its input rate. \r\n[2023-01-28 20:50:26,911] [main] INFO  org.apache.beam.runners.dataflow.util.MonitoringUtil$LoggingHandler:91 2023-01-28T20:50:26.779Z: Workers have started successfully. \r\n```\r\nand I see no indication that the workers have failed. Moreover I do not see any relevant logs which indicate that the process is working (in my case, reading from the appropriate Pub/Sub topic for notifications). Let me know if there is any further documentation on this log, as I have not been able to find any.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/E2DmM.png","title":"Apache Beam Dataflow job fails with &quot;GetWork timed out, retrying&quot;","body":"<p>I am able to run an Acache Beam job successfully using the <code>DirectRunner</code>, with the following arguments:</p>\n<pre><code>java -jar my-jar.jar --commonConfigFile=comJobConfig.yml   \n--configFile=relJobConfig.yml \n--jobName=my-job   \n--stagingLocation=gs://my-bucket/staging/   \n--gcpTempLocation=gs://my-bucket/tmp/   \n--tempLocation=gs://my-bucket/tmp/  \n --runner=DirectRunner \n--bucket=my-bucket   \n--project=my-project \n--region=us-west1   \n--subnetwork=my-subnetwork\n--serviceAccount=my-svc-account@my-project.iam.gserviceaccount.com   \n--usePublicIps=false   \n--workerMachineType=e2-standard-2 \n--maxNumWorkers=20 --numWorkers=2 \n--autoscalingAlgorithm=THROUGHPUT_BASED\n</code></pre>\n<p>However, while trying to run on Google Dataflow (simply changing <code>--runner=DataflowRunner</code>) I receive the following message (<code>GetWork timed out, retrying</code>) in the workers.<a href=\"https://i.stack.imgur.com/E2DmM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/E2DmM.png\" alt=\"enter image description here\" /></a></p>\n<p>I have checked the logs generated by the Dataflow process and found</p>\n<pre><code>[2023-01-28 20:49:41,600] [main] INFO  org.apache.beam.runners.dataflow.util.MonitoringUtil$LoggingHandler:91 2023-01-28T20:49:39.386Z: Autoscaling: Raised the number of workers to 2 so that the pipeline can catch up with its backlog and keep up with its input rate. \n[2023-01-28 20:50:26,911] [main] INFO  org.apache.beam.runners.dataflow.util.MonitoringUtil$LoggingHandler:91 2023-01-28T20:50:26.779Z: Workers have started successfully. \n</code></pre>\n<p>and I see no indication that the workers have failed. Moreover I do not see any relevant logs which indicate that the process is working (in my case, reading from the appropriate Pub/Sub topic for notifications). Let me know if there is any further documentation on this log, as I have not been able to find any.</p>\n"},{"tags":["java","spring-boot","asynchronous","delay"],"comments":[{"owner":{"account_id":30898,"reputation":8917,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"score":0,"creation_date":1676147746,"post_id":75423024,"comment_id":133080659,"body_markdown":"Why is a delay required?","body":"Why is a delay required?"},{"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"score":0,"creation_date":1676148777,"post_id":75423024,"comment_id":133080821,"body_markdown":"I agree with @jon-hanson, why the need for a delay? Regardless, it looks like you are looking for a way of processing massive amounts of data in an efficient way. I would recommend you search for &quot;Java Batch Processing&quot;, because your splitting up a large list into smaller units of work is exactly that batch processing is.","body":"I agree with @jon-hanson, why the need for a delay? Regardless, it looks like you are looking for a way of processing massive amounts of data in an efficient way. I would recommend you search for &quot;Java Batch Processing&quot;, because your splitting up a large list into smaller units of work is exactly that batch processing is."}],"answers":[{"tags":[],"owner":{"account_id":30898,"reputation":8917,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676151808,"creation_date":1676151808,"answer_id":75423483,"question_id":75423024,"body_markdown":"If you&#39;re looking to process the list of lists concurrently then just use an `ExecutorService`, e.g.:\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    final List&lt;List&lt;String&gt;&gt; testData = new ArrayList&lt;&gt;();\r\n    {\r\n        List&lt;String&gt; l = new ArrayList&lt;&gt;();\r\n        l.add(&quot;A&quot;); l.add(&quot;AA&quot;); l.add(&quot;AAA&quot;);\r\n        testData.add(l);\r\n        l = new ArrayList&lt;&gt;();\r\n        l.add(&quot;BB&quot;); l.add(&quot;BBB&quot;); l.add(&quot;BBBB&quot;); l.add(&quot;BBBBB&quot;);\r\n        testData.add(l);\r\n        l = new ArrayList&lt;&gt;();\r\n        l.add(&quot;CCC&quot;); l.add(&quot;CCCC&quot;); l.add(&quot;CCCCC&quot;); l.add(&quot;CCCCCC&quot;); l.add(&quot;CCCCCCC&quot;);\r\n        testData.add(l);\r\n    }\r\n\r\n    final List&lt;Integer&gt; li = parallelProcess(\r\n            testData,\r\n            ls -&gt; ls.stream().map(String::length).reduce(0, Integer::sum)\r\n    );\r\n\r\n    li.forEach(System.out::println);\r\n\r\n    execSvc.shutdownNow();\r\n}\r\n\r\nprivate static final ExecutorService execSvc = Executors.newFixedThreadPool(2);\r\n\r\nprivate static &lt;T, R&gt; List&lt;R&gt; parallelProcess(List&lt;List&lt;T&gt;&gt; llt, Function&lt;List&lt;T&gt;, R&gt; processor) {\r\n\r\n    final List&lt;Future&lt;R&gt;&gt; lfr =\r\n            llt.stream()\r\n                    .map(ll -&gt; execSvc.submit(() -&gt; processor.apply(ll)))\r\n                    .collect(Collectors.toList());\r\n\r\n    return lfr.stream()\r\n            .map(f -&gt; {\r\n                try {\r\n                    return f.get();\r\n                } catch (ExecutionException|InterruptedException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }).collect(Collectors.toList());\r\n}\r\n```\r\n","title":"Process a large list with delay","body":"<p>If you're looking to process the list of lists concurrently then just use an <code>ExecutorService</code>, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    final List&lt;List&lt;String&gt;&gt; testData = new ArrayList&lt;&gt;();\n    {\n        List&lt;String&gt; l = new ArrayList&lt;&gt;();\n        l.add(&quot;A&quot;); l.add(&quot;AA&quot;); l.add(&quot;AAA&quot;);\n        testData.add(l);\n        l = new ArrayList&lt;&gt;();\n        l.add(&quot;BB&quot;); l.add(&quot;BBB&quot;); l.add(&quot;BBBB&quot;); l.add(&quot;BBBBB&quot;);\n        testData.add(l);\n        l = new ArrayList&lt;&gt;();\n        l.add(&quot;CCC&quot;); l.add(&quot;CCCC&quot;); l.add(&quot;CCCCC&quot;); l.add(&quot;CCCCCC&quot;); l.add(&quot;CCCCCCC&quot;);\n        testData.add(l);\n    }\n\n    final List&lt;Integer&gt; li = parallelProcess(\n            testData,\n            ls -&gt; ls.stream().map(String::length).reduce(0, Integer::sum)\n    );\n\n    li.forEach(System.out::println);\n\n    execSvc.shutdownNow();\n}\n\nprivate static final ExecutorService execSvc = Executors.newFixedThreadPool(2);\n\nprivate static &lt;T, R&gt; List&lt;R&gt; parallelProcess(List&lt;List&lt;T&gt;&gt; llt, Function&lt;List&lt;T&gt;, R&gt; processor) {\n\n    final List&lt;Future&lt;R&gt;&gt; lfr =\n            llt.stream()\n                    .map(ll -&gt; execSvc.submit(() -&gt; processor.apply(ll)))\n                    .collect(Collectors.toList());\n\n    return lfr.stream()\n            .map(f -&gt; {\n                try {\n                    return f.get();\n                } catch (ExecutionException|InterruptedException e) {\n                    throw new RuntimeException(e);\n                }\n            }).collect(Collectors.toList());\n}\n</code></pre>\n"}],"owner":{"account_id":1628819,"reputation":483,"user_id":1503786,"accept_rate":40,"display_name":"Muhammad Umer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1676151808,"creation_date":1676146325,"question_id":75423024,"body_markdown":"One of the APIs expects a huge list as an input and I would like to partition into batches of, let&#39;s say 10, and I need to add delays in each batch processing. \r\n\r\nFor example:\r\n\r\n    List&lt;SomeClass&gt; hugeList = listFromRequest;\r\n    List&lt;List&lt;SomeClass&gt;&gt; listAfterPartition = new LinkedList&lt;&gt;(); // assuming that the partition is successful and each partition is size 10;\r\n    for (List&lt;SomeClass&gt; partition: listAfterPartition) {\r\n        someService.callMethod(partition);\r\n        Thread.sleep(60000);\r\n    }\r\n    \r\nI need to perform the same thing but without `Thread.sleep()`. I was looking at `ScheduledExecutorService` but couldn&#39;t figure out how to go about it. Also if its a new task using any other `ScheduledExecutorService`, how do I stop once all partitions are processed. Let me know please. (Can&#39;t use RxJava)\r\nThanks in advance.\r\n\r\n","title":"Process a large list with delay","body":"<p>One of the APIs expects a huge list as an input and I would like to partition into batches of, let's say 10, and I need to add delays in each batch processing.</p>\n<p>For example:</p>\n<pre><code>List&lt;SomeClass&gt; hugeList = listFromRequest;\nList&lt;List&lt;SomeClass&gt;&gt; listAfterPartition = new LinkedList&lt;&gt;(); // assuming that the partition is successful and each partition is size 10;\nfor (List&lt;SomeClass&gt; partition: listAfterPartition) {\n    someService.callMethod(partition);\n    Thread.sleep(60000);\n}\n</code></pre>\n<p>I need to perform the same thing but without <code>Thread.sleep()</code>. I was looking at <code>ScheduledExecutorService</code> but couldn't figure out how to go about it. Also if its a new task using any other <code>ScheduledExecutorService</code>, how do I stop once all partitions are processed. Let me know please. (Can't use RxJava)\nThanks in advance.</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663663943,"creation_date":1663663943,"answer_id":73784004,"question_id":73779396,"body_markdown":"Since you&#39;re using a Firestore Timestamp, then it&#39;s best to get the time out of those objects and make the difference, and then simply calculate the total number of days.\r\n\r\nSince the birthday it&#39;s always a date in the past, then a relatively simple option that we have is to set the year to be the current year (2022), and then check if the date is before or after.\r\n\r\nTo achieve that, I will show you an example. Let&#39;s assume I am born on 1 June 2000. Besides that, let&#39;s assume you have a Firestore structure that looks like this:\r\n\r\n    Firestore-root\r\n      |\r\n      --- users (collection)\r\n           |\r\n           --- $uid\r\n                |\r\n                --- birthday: June 1, 2000 at 9:00:00 AM UTC+2\r\n    //                         &#128070;\r\n\r\nFor calculating the number of days between today, and my birthday, please use the following lines of code:\r\n\r\n    String uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n    FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n    db.collection(&quot;users&quot;).document(uid).get().addOnCompleteListener(new OnCompleteListener&lt;DocumentSnapshot&gt;() {\r\n        @Override\r\n        public void onComplete(@NonNull Task&lt;DocumentSnapshot&gt; task) {\r\n            if (task.isSuccessful()) {\r\n                Date birthday = task.getResult().getDate(&quot;birthday&quot;);\r\n                Date now = new Date();\r\n                birthday.setYear(now.getYear());\r\n                long difference;\r\n                int daysBetween;\r\n                if (birthday.after(now)) {\r\n                    difference = birthday.getTime() - now.getTime();\r\n                    daysBetween = (int) (difference / (1000 * 60 * 60 * 24));\r\n                } else {\r\n                    difference = now.getTime() - birthday.getTime();\r\n                    daysBetween = 365 - (int) (difference / (1000 * 60 * 60 * 24));\r\n                }\r\n                Log.d(TAG, &quot;difference: &quot; + daysBetween);\r\n            }\r\n        }\r\n    });\r\n\r\nThe result in the logcat will be:\r\n\r\n    254\r\n\r\nIf I set my birthday like this:\r\n\r\n    Firestore-root\r\n      |\r\n      --- users (collection)\r\n           |\r\n           --- $uid\r\n                |\r\n                --- birthday: December 1, 2000 at 9:00:00 AM UTC+2\r\n    //                         &#128070;\r\n\r\nThe result in the logcat will be:\r\n\r\n    71\r\n\r\nThis is an example of reading a single document, but the exact same solution will work in the case of a query. Besides that, you can also use the exact same logic in your adapter class.","title":"Difference between 2 dates ( timestamps ) Android Studio and Cloud Firestore","body":"<p>Since you're using a Firestore Timestamp, then it's best to get the time out of those objects and make the difference, and then simply calculate the total number of days.</p>\n<p>Since the birthday it's always a date in the past, then a relatively simple option that we have is to set the year to be the current year (2022), and then check if the date is before or after.</p>\n<p>To achieve that, I will show you an example. Let's assume I am born on 1 June 2000. Besides that, let's assume you have a Firestore structure that looks like this:</p>\n<pre><code>Firestore-root\n  |\n  --- users (collection)\n       |\n       --- $uid\n            |\n            --- birthday: June 1, 2000 at 9:00:00 AM UTC+2\n//                         👆\n</code></pre>\n<p>For calculating the number of days between today, and my birthday, please use the following lines of code:</p>\n<pre><code>String uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\nFirebaseFirestore db = FirebaseFirestore.getInstance();\ndb.collection(&quot;users&quot;).document(uid).get().addOnCompleteListener(new OnCompleteListener&lt;DocumentSnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;DocumentSnapshot&gt; task) {\n        if (task.isSuccessful()) {\n            Date birthday = task.getResult().getDate(&quot;birthday&quot;);\n            Date now = new Date();\n            birthday.setYear(now.getYear());\n            long difference;\n            int daysBetween;\n            if (birthday.after(now)) {\n                difference = birthday.getTime() - now.getTime();\n                daysBetween = (int) (difference / (1000 * 60 * 60 * 24));\n            } else {\n                difference = now.getTime() - birthday.getTime();\n                daysBetween = 365 - (int) (difference / (1000 * 60 * 60 * 24));\n            }\n            Log.d(TAG, &quot;difference: &quot; + daysBetween);\n        }\n    }\n});\n</code></pre>\n<p>The result in the logcat will be:</p>\n<pre><code>254\n</code></pre>\n<p>If I set my birthday like this:</p>\n<pre><code>Firestore-root\n  |\n  --- users (collection)\n       |\n       --- $uid\n            |\n            --- birthday: December 1, 2000 at 9:00:00 AM UTC+2\n//                         👆\n</code></pre>\n<p>The result in the logcat will be:</p>\n<pre><code>71\n</code></pre>\n<p>This is an example of reading a single document, but the exact same solution will work in the case of a query. Besides that, you can also use the exact same logic in your adapter class.</p>\n"}],"owner":{"account_id":23626869,"reputation":19,"user_id":17659262,"display_name":"Daiana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73784004,"answer_count":1,"score":0,"last_activity_date":1676151561,"creation_date":1663622364,"question_id":73779396,"body_markdown":"I want to make the difference between the current date and the users&#39; birth date in order to display how many days remained until their birthday. I have a recyclerView in which I put the users and an Adapter for this recyclerView but for some reason, the days aren&#39;t computed as I want. \r\n\r\nThe birth date is stored in Firestore as a timestamp.\r\n\r\n\r\nIn **DaysAdapter.java** : \r\n```\r\n    public CalendarAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.itemcalendar, parent, false);\r\n        CalendarAdapter.ViewHolder myViewHolder = new CalendarAdapter.ViewHolder(v);\r\n\r\n        return myViewHolder;\r\n    }\r\n    private String getStringFromDate(Timestamp time) {\r\n        java.util.Date dateFromServer = time.toDate();\r\n        String formatter = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;).format(dateFromServer);\r\n        return formatter;\r\n    }\r\n\r\n    private String calculateDays(Timestamp startdate, Timestamp enddate){\r\n        SimpleDateFormat dates = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n        Date date1 = startdate.toDate(); // current date\r\n        Date date2 = enddate.toDate(); // friend&#39;s birthdate\r\n\r\n        long difference = Math.abs(date2.getTime() - date1.getTime());\r\n        long differenceDates = difference / 24;\r\n\r\n        String dayDifference = Long.toString(differenceDates);\r\n\r\n        return dayDifference;\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull CalendarAdapter.ViewHolder holder, int position) {\r\n        Friends friend = listofbirtdays.get(position);\r\n        long currentdate = System.currentTimeMillis()/1000;\r\n       // java.util.Date dateFromServer = currentdate.toDate();\r\n        Date c = Calendar.getInstance().getTime();\r\n\r\n        Log.d(TAG, &quot;Current Date&quot; + c);\r\n        Timestamp ts = new Timestamp(c);\r\n        SimpleDateFormat dates = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n        \r\n        \r\n        holder.birthdayperson.setText(friend.friendname);\r\n        holder.datebirth.setText(getStringFromDate(friend.friendBD));\r\n        holder.noofdays.setText(calculateDays(ts, friend.friendBD));\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return listofbirtdays.size();\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        View rootview;\r\n        TextView birthdayperson, datebirth, noofdays;\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            rootview = itemView;\r\n\r\n            birthdayperson = itemView.findViewById(R.id.birthdayperson);\r\n            datebirth = itemView.findViewById(R.id.datebirth);\r\n            noofdays = itemView.findViewById(R.id.noofdays);\r\n        }\r\n    }\r\n```\r\n\r\nSo I repeat, I want to compute only the days until the next birthday, how can I do that? What am I doing wrong? \r\nMy result is this meaning that there are 17 days left until May 9 which is wrong.","title":"Difference between 2 dates ( timestamps ) Android Studio and Cloud Firestore","body":"<p>I want to make the difference between the current date and the users' birth date in order to display how many days remained until their birthday. I have a recyclerView in which I put the users and an Adapter for this recyclerView but for some reason, the days aren't computed as I want.</p>\n<p>The birth date is stored in Firestore as a timestamp.</p>\n<p>In <strong>DaysAdapter.java</strong> :</p>\n<pre><code>    public CalendarAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.itemcalendar, parent, false);\n        CalendarAdapter.ViewHolder myViewHolder = new CalendarAdapter.ViewHolder(v);\n\n        return myViewHolder;\n    }\n    private String getStringFromDate(Timestamp time) {\n        java.util.Date dateFromServer = time.toDate();\n        String formatter = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;).format(dateFromServer);\n        return formatter;\n    }\n\n    private String calculateDays(Timestamp startdate, Timestamp enddate){\n        SimpleDateFormat dates = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\n        Date date1 = startdate.toDate(); // current date\n        Date date2 = enddate.toDate(); // friend's birthdate\n\n        long difference = Math.abs(date2.getTime() - date1.getTime());\n        long differenceDates = difference / 24;\n\n        String dayDifference = Long.toString(differenceDates);\n\n        return dayDifference;\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull CalendarAdapter.ViewHolder holder, int position) {\n        Friends friend = listofbirtdays.get(position);\n        long currentdate = System.currentTimeMillis()/1000;\n       // java.util.Date dateFromServer = currentdate.toDate();\n        Date c = Calendar.getInstance().getTime();\n\n        Log.d(TAG, &quot;Current Date&quot; + c);\n        Timestamp ts = new Timestamp(c);\n        SimpleDateFormat dates = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\n        \n        \n        holder.birthdayperson.setText(friend.friendname);\n        holder.datebirth.setText(getStringFromDate(friend.friendBD));\n        holder.noofdays.setText(calculateDays(ts, friend.friendBD));\n    }\n\n    @Override\n    public int getItemCount() {\n        return listofbirtdays.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n\n        View rootview;\n        TextView birthdayperson, datebirth, noofdays;\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n            rootview = itemView;\n\n            birthdayperson = itemView.findViewById(R.id.birthdayperson);\n            datebirth = itemView.findViewById(R.id.datebirth);\n            noofdays = itemView.findViewById(R.id.noofdays);\n        }\n    }\n</code></pre>\n<p>So I repeat, I want to compute only the days until the next birthday, how can I do that? What am I doing wrong?\nMy result is this meaning that there are 17 days left until May 9 which is wrong.</p>\n"},{"tags":["java","android","android-studio","android-activity","android-homebutton"],"comments":[{"owner":{"account_id":6082188,"reputation":17560,"user_id":4747587,"accept_rate":64,"display_name":"Henry"},"score":1,"creation_date":1510190737,"post_id":47192074,"comment_id":81334126,"body_markdown":"Check if `onHomePressed()` is invoked. If not, then add a debug point in `HomeWatcher` and check it that&#39;s working. Btw, I guess you are just experimenting with this idea. Please do not push this idea in your production app. It&#39;s bad design.","body":"Check if <code>onHomePressed()</code> is invoked. If not, then add a debug point in <code>HomeWatcher</code> and check it that&#39;s working. Btw, I guess you are just experimenting with this idea. Please do not push this idea in your production app. It&#39;s bad design."},{"owner":{"account_id":7165321,"reputation":6023,"user_id":8244632,"accept_rate":100,"display_name":"Lalit Fauzdar"},"score":0,"creation_date":1510201415,"post_id":47192074,"comment_id":81336768,"body_markdown":"Don&#39;t you think you have an extra closing curly bracket `}` at the end of Toast which in this case possible reason for the error?","body":"Don&#39;t you think you have an extra closing curly bracket <code>}</code> at the end of Toast which in this case possible reason for the error?"}],"owner":{"account_id":4337932,"reputation":21,"user_id":3541974,"display_name":"user3541974"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1676149995,"creation_date":1510187858,"question_id":47192074,"body_markdown":"Android app development: Trying to launch another activity when the home button is clicked 3 times in the main activity, but the code is not working. Can someone help with my code?\r\n \r\n\r\n        HomeWatcher mHomeWatcher = new HomeWatcher(this);\r\n        mHomeWatcher.setOnHomePressedListener(new OnHomePressedListener() {\r\n            @Override\r\n            public void onHomePressed() {\r\n                T++; // to track the clicks\r\n                if (T==3){\r\n                Toast.makeText(getBaseContext(), &quot;Home button pressed&quot;, Toast.LENGTH_LONG).show(); }\r\n                    startActivity( new Intent (getBaseContext(),Main2Activity.class));}\r\n\r\n                // do something here...\r\n            }\r\n            \r\n        });\r\n        mHomeWatcher.startWatch();\r\n         }\r\n\r\n    @Override\r\n    public void onStop() {\r\n\r\n\r\n            //Toast.makeText(this, &quot;onstop&quot;,Toast.LENGTH_LONG).show();\r\n        if ( T==3 ){\r\n            startActivity( new Intent (getBaseContext(),Main2Activity.class));}\r\n        super.onStop();\r\n\r\n    }","title":"Starting an activity when the user leaves the current activity using the home button in Android app development","body":"<p>Android app development: Trying to launch another activity when the home button is clicked 3 times in the main activity, but the code is not working. Can someone help with my code?</p>\n<pre><code>    HomeWatcher mHomeWatcher = new HomeWatcher(this);\n    mHomeWatcher.setOnHomePressedListener(new OnHomePressedListener() {\n        @Override\n        public void onHomePressed() {\n            T++; // to track the clicks\n            if (T==3){\n            Toast.makeText(getBaseContext(), &quot;Home button pressed&quot;, Toast.LENGTH_LONG).show(); }\n                startActivity( new Intent (getBaseContext(),Main2Activity.class));}\n\n            // do something here...\n        }\n        \n    });\n    mHomeWatcher.startWatch();\n     }\n\n@Override\npublic void onStop() {\n\n\n        //Toast.makeText(this, &quot;onstop&quot;,Toast.LENGTH_LONG).show();\n    if ( T==3 ){\n        startActivity( new Intent (getBaseContext(),Main2Activity.class));}\n    super.onStop();\n\n}\n</code></pre>\n"},{"tags":["java","kotlin","reflection","functional-programming"],"answers":[{"tags":[],"owner":{"account_id":5714046,"reputation":36,"user_id":8751137,"display_name":"genisof"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676149949,"creation_date":1676149949,"answer_id":75423326,"question_id":75423190,"body_markdown":"Yes, you can write the same code using functional programming in Kotlin by using a sequence of classes generated by iteratively taking the superclass of the current class. Here&#39;s an example:\r\n\r\n    val fields = generateSequence(someClass) { it.superclass }\r\n    .flatMap { it.declaredFields.asSequence() }\r\n    .toList()\r\n   \r\n\r\nIn this code, the generateSequence function generates a sequence of classes, starting with someClass and then iteratively taking its superclass. The flatMap function is used to flatten the sequence of arrays of fields into a single sequence of fields. Finally, the toList function collects the elements of the sequence into a list.","title":"Iterate over Java class hierarchy using functional programming","body":"<p>Yes, you can write the same code using functional programming in Kotlin by using a sequence of classes generated by iteratively taking the superclass of the current class. Here's an example:</p>\n<pre><code>val fields = generateSequence(someClass) { it.superclass }\n.flatMap { it.declaredFields.asSequence() }\n.toList()\n</code></pre>\n<p>In this code, the generateSequence function generates a sequence of classes, starting with someClass and then iteratively taking its superclass. The flatMap function is used to flatten the sequence of arrays of fields into a single sequence of fields. Finally, the toList function collects the elements of the sequence into a list.</p>\n"}],"owner":{"account_id":21554207,"reputation":93,"user_id":15889782,"display_name":"underflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75423326,"answer_count":1,"score":0,"last_activity_date":1676149949,"creation_date":1676148373,"question_id":75423190,"body_markdown":"Considering this piece of Kotlin code, that collects all declared fields in superclass hierarchy, is there way to write it using functional programming?\r\n\r\n```kotlin\r\nvar scanClass: Class&lt;*&gt;? = someClass\r\n\r\nval fields = mutableListOf&lt;Field&gt;()\r\nwhile (scanClass != null) {\r\n    fields += scanClass.declaredFields\r\n    scanClass = scanClass.superclass\r\n}\r\n```","title":"Iterate over Java class hierarchy using functional programming","body":"<p>Considering this piece of Kotlin code, that collects all declared fields in superclass hierarchy, is there way to write it using functional programming?</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>var scanClass: Class&lt;*&gt;? = someClass\n\nval fields = mutableListOf&lt;Field&gt;()\nwhile (scanClass != null) {\n    fields += scanClass.declaredFields\n    scanClass = scanClass.superclass\n}\n</code></pre>\n"},{"tags":["java","math","matrix","covariance","coordinate-transformation"],"comments":[{"owner":{"account_id":26879596,"reputation":1092,"user_id":20460267,"display_name":"Simon Goater"},"score":0,"creation_date":1674517454,"post_id":75175039,"comment_id":132727187,"body_markdown":"I&#39;m not sure I&#39;m understanding what you are trying to do here. Do you have the 6 ENU values EP, NP, UP, EV, NV, UV? In your covariance matrix, is each element a product of two of these? Are you trying to create a similar covariance matrix but in ECEF coordinates?","body":"I&#39;m not sure I&#39;m understanding what you are trying to do here. Do you have the 6 ENU values EP, NP, UP, EV, NV, UV? In your covariance matrix, is each element a product of two of these? Are you trying to create a similar covariance matrix but in ECEF coordinates?"},{"owner":{"account_id":8329740,"reputation":44,"user_id":6258585,"accept_rate":75,"display_name":"Travis Whitten"},"score":0,"creation_date":1674525284,"post_id":75175039,"comment_id":132728173,"body_markdown":"I am getting the 6x6 variance-covariance ENU matrix from the RADAR and I am trying to transform it into a 6x6 variance-covariance in ECEF. With that said, I have all of the variances and covariances for all elements of the ENU matrix. I am just not sure what the Rotational Matrix should look like. Does that make sense?","body":"I am getting the 6x6 variance-covariance ENU matrix from the RADAR and I am trying to transform it into a 6x6 variance-covariance in ECEF. With that said, I have all of the variances and covariances for all elements of the ENU matrix. I am just not sure what the Rotational Matrix should look like. Does that make sense?"},{"owner":{"account_id":8329740,"reputation":44,"user_id":6258585,"accept_rate":75,"display_name":"Travis Whitten"},"score":0,"creation_date":1674559695,"post_id":75175039,"comment_id":132735077,"body_markdown":"@SimonGoater Also, each element is not the product of the two. The diagonals are the variances and all other elements are the covariances. [EP][EP]=Cov(EP,EP)=Variance(EP)=&lt;some floating point value&gt;m^2, [EP][NP]=Cov(EP,NP)=&lt;some floating point value&gt;m^2, and so on. I am actually receiving floating point values for each element in the ENU matrix where the matrix is symmetric(i.e (col,row)=(row,col)).","body":"@SimonGoater Also, each element is not the product of the two. The diagonals are the variances and all other elements are the covariances. [EP][EP]=Cov(EP,EP)=Variance(EP)=&lt;some floating point value&gt;m^2, [EP][NP]=Cov(EP,NP)=&lt;some floating point value&gt;m^2, and so on. I am actually receiving floating point values for each element in the ENU matrix where the matrix is symmetric(i.e (col,row)=(row,col))."},{"owner":{"account_id":20651467,"reputation":4391,"user_id":15161640,"display_name":"Mark H"},"score":0,"creation_date":1674794663,"post_id":75175039,"comment_id":132793628,"body_markdown":"Try to zero out the upper right and lower left blocks (the off-diagonal blocks) in your rotation matrix.","body":"Try to zero out the upper right and lower left blocks (the off-diagonal blocks) in your rotation matrix."}],"answers":[{"tags":[],"owner":{"account_id":20651467,"reputation":4391,"user_id":15161640,"display_name":"Mark H"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674940573,"creation_date":1674939471,"answer_id":75270855,"question_id":75175039,"body_markdown":"There are two fixes to make:\r\n\r\n 1. Update your rotation matrix to have zeros in the off-diagonal blocks.\r\n 2. Calculate C&#39; = RCR&lt;sup&gt;T&lt;/sup&gt;, where C&#39; is the ECEF covariance matrix and C is ENU covariance matrix, and R is the rotation matrix from ENU to ECEF for your position-velocity combination.\r\n\r\n**Reasoning for Fix #1**\r\n\r\nThe position and velocity are like two different data points to be rotated and the rotation matrix should reflect their independence.  To do that, take your original 3x3 rotation matrix for ENU -&gt; ECEF:\r\n\r\n&lt;pre&gt;\r\nR = | -sin(λ), -cos(λ)*sin(φ), cos(λ)*cos(φ) | \r\n    |  cos(λ), -sin(λ)*sin(φ), sin(λ)*cos(φ) |\r\n    |       0,         cos(φ),        sin(φ) |\r\n&lt;/pre&gt;\r\nAnd use it to build a 6x6 rotation matrix (let &#39;0&#39; = 3x3 matrix of 0s)\r\n&lt;pre&gt;\r\nR = |R 0|\r\n    |0 R|\r\n&lt;/pre&gt;\r\n\r\nSymbolic calculation of a rotation:\r\n&lt;pre&gt;\r\nR = | R11 R12 R13   0   0   0 |\r\n    | R21 R22 R23   0   0   0 |\r\n    | R31 R32 R33   0   0   0 | \r\n    |   0   0   0 R11 R12 R13 |\r\n    |   0   0   0 R21 R22 R23 |\r\n    |   0   0   0 R31 R32 R33 |\r\n\r\nx = | e1 |\r\n    | n1 |\r\n    | u1 |\r\n    | e2 |\r\n    | n2 |\r\n    | u2 |\r\n\r\nx&#39; = Rx = | R11*e1 + R12*n1 + R13*u1 +   0*e2 +   0*n2 +   0*u2 |\r\n          | R21*e1 + R22*n1 + R23*u1 +   0*e2 +   0*n2 +   0*u2 |\r\n          | R31*e1 + R32*n1 + R33*u1 +   0*e2 +   0*n2 +   0*u2 |\r\n          |   0*e1 +   0*n1 +   0*u1 + R11*e2 + R12*n2 + R13*u2 |\r\n          |   0*e1 +   0*n1 +   0*u1 + R21*e2 + R22*n2 + R23*u2 |\r\n          |   0*e1 +   0*n1 +   0*u1 + R31*e2 + R32*n2 + R33*u2 |\r\n&lt;/pre&gt;\r\n\r\nThe result is a 6x1 vector that is basically the stacking of one independently rotated (e,n,u) on top of another.\r\n\r\n**Reasoning for Fix #2**\r\n\r\n&lt;pre&gt;\r\nlet X = | EP_1  EP_2 .. EP_n|  (i.e. a set of measurements)\r\n        | NP_1  NP_2 .. NP_n|\r\n        | UP_1  UP_2 .. UP_n|\r\n        | EV_1  EV_2 .. EV_n|\r\n        | NV_1  NV_2 .. NV_n|\r\n        | UV_1  UV_2 .. UV_n|\r\n\r\nlet Xt = tranpose(X)\r\nlet C = variance-covariance matrix\r\n\r\nC = E(XXt) - E(X)E(Xt)\r\n\r\nlet X&#39; = RX = rotated measurements\r\nlet C&#39; = variance-covariance matrix of rotated measurements\r\n\r\nC&#39; = E(X&#39;X&#39;t) - E(X&#39;)E(X&#39;t)\r\n   = E(RXXtRt) - E(RX)E(XtRt)     remember (AB)t = BtAt\r\n   = RE(XXt)Rt - RE(X)E(Xt)Rt\r\n   = R(E(XXt) - E(X)E(Xt))Rt\r\nC&#39; = RCRt\r\n&lt;/pre&gt;\r\n\r\nThat shows that when a set of measurements is rotated, its original variance-covariance matrix can be transformed into the new coordinate system as a function of the rotation matrix.","title":"6x6 Covariance Matrix Conversion from ENU to ECEF","body":"<p>There are two fixes to make:</p>\n<ol>\n<li>Update your rotation matrix to have zeros in the off-diagonal blocks.</li>\n<li>Calculate C' = RCR<sup>T</sup>, where C' is the ECEF covariance matrix and C is ENU covariance matrix, and R is the rotation matrix from ENU to ECEF for your position-velocity combination.</li>\n</ol>\n<p><strong>Reasoning for Fix #1</strong></p>\n<p>The position and velocity are like two different data points to be rotated and the rotation matrix should reflect their independence.  To do that, take your original 3x3 rotation matrix for ENU -&gt; ECEF:</p>\n<pre>\nR = | -sin(λ), -cos(λ)*sin(φ), cos(λ)*cos(φ) | \n    |  cos(λ), -sin(λ)*sin(φ), sin(λ)*cos(φ) |\n    |       0,         cos(φ),        sin(φ) |\n</pre>\n<p>And use it to build a 6x6 rotation matrix (let '0' = 3x3 matrix of 0s)</p>\n<pre>\nR = |R 0|\n    |0 R|\n</pre>\n<p>Symbolic calculation of a rotation:</p>\n<pre>\nR = | R11 R12 R13   0   0   0 |\n    | R21 R22 R23   0   0   0 |\n    | R31 R32 R33   0   0   0 | \n    |   0   0   0 R11 R12 R13 |\n    |   0   0   0 R21 R22 R23 |\n    |   0   0   0 R31 R32 R33 |\n\nx = | e1 |\n    | n1 |\n    | u1 |\n    | e2 |\n    | n2 |\n    | u2 |\n\nx' = Rx = | R11*e1 + R12*n1 + R13*u1 +   0*e2 +   0*n2 +   0*u2 |\n          | R21*e1 + R22*n1 + R23*u1 +   0*e2 +   0*n2 +   0*u2 |\n          | R31*e1 + R32*n1 + R33*u1 +   0*e2 +   0*n2 +   0*u2 |\n          |   0*e1 +   0*n1 +   0*u1 + R11*e2 + R12*n2 + R13*u2 |\n          |   0*e1 +   0*n1 +   0*u1 + R21*e2 + R22*n2 + R23*u2 |\n          |   0*e1 +   0*n1 +   0*u1 + R31*e2 + R32*n2 + R33*u2 |\n</pre>\n<p>The result is a 6x1 vector that is basically the stacking of one independently rotated (e,n,u) on top of another.</p>\n<p><strong>Reasoning for Fix #2</strong></p>\n<pre>\nlet X = | EP_1  EP_2 .. EP_n|  (i.e. a set of measurements)\n        | NP_1  NP_2 .. NP_n|\n        | UP_1  UP_2 .. UP_n|\n        | EV_1  EV_2 .. EV_n|\n        | NV_1  NV_2 .. NV_n|\n        | UV_1  UV_2 .. UV_n|\n\nlet Xt = tranpose(X)\nlet C = variance-covariance matrix\n\nC = E(XXt) - E(X)E(Xt)\n\nlet X' = RX = rotated measurements\nlet C' = variance-covariance matrix of rotated measurements\n\nC' = E(X'X't) - E(X')E(X't)\n   = E(RXXtRt) - E(RX)E(XtRt)     remember (AB)t = BtAt\n   = RE(XXt)Rt - RE(X)E(Xt)Rt\n   = R(E(XXt) - E(X)E(Xt))Rt\nC' = RCRt\n</pre>\n<p>That shows that when a set of measurements is rotated, its original variance-covariance matrix can be transformed into the new coordinate system as a function of the rotation matrix.</p>\n"},{"tags":[],"owner":{"account_id":12834895,"reputation":70,"user_id":9284870,"display_name":"Austin Leath"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676149618,"creation_date":1674943339,"answer_id":75271216,"question_id":75175039,"body_markdown":"I *think* I have done what you are looking for.. So basically it seems that there may be an issue with the implementation of the `createRotationMatrixV3` function or with the input ENU covariance matrix. I took a little bit of time to mess around with the sin and cos Math functions to try and do it manually.\r\n\r\nHere is the code that I ended up with: [https://codecatch.net/post/008da886-fa1a-4995-a024-f58d883e0504][1]\r\n\r\n[1]: https://codecatch.net/post/008da886-fa1a-4995-a024-f58d883e0504\r\n","title":"6x6 Covariance Matrix Conversion from ENU to ECEF","body":"<p>I <em>think</em> I have done what you are looking for.. So basically it seems that there may be an issue with the implementation of the <code>createRotationMatrixV3</code> function or with the input ENU covariance matrix. I took a little bit of time to mess around with the sin and cos Math functions to try and do it manually.</p>\n<p>Here is the code that I ended up with: <a href=\"https://codecatch.net/post/008da886-fa1a-4995-a024-f58d883e0504\" rel=\"nofollow noreferrer\">https://codecatch.net/post/008da886-fa1a-4995-a024-f58d883e0504</a></p>\n"}],"owner":{"account_id":8329740,"reputation":44,"user_id":6258585,"accept_rate":75,"display_name":"Travis Whitten"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":892,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":75270855,"answer_count":2,"score":3,"last_activity_date":1676149618,"creation_date":1674144129,"question_id":75175039,"body_markdown":"I am currently working with a RADAR that outputs a 6x6 covariance matrix with every track in the following format:\r\n\r\n| Col1    |   Col2  | Col3    | Col4    | Col5    | Col6    |\r\n|:-------:|:-------:|:-------:|:-------:|:-------:|:-------:|\r\n|(EP)(EP) |(EP)(NP) |(EP)(UP) |(EP)(EV) |(EP)(NV) |(EP)(UV) |\r\n|(NP)(EP) |(NP)(NP)\t|(NP)(UP) |(NP)(EV)\t|(NP)(NV) |(NP)(UV) |\r\n|(UP)(EP) |(UP)(NP) |(UP)(UP) |(UP)(EV) |(UP)(NV) |(UP)(UV) |\r\n|(EV)(EP) |(EV)(NP) |(EV)(UP) |(EV)(EV) |(EV)(NV) |(EV)(UV) |\r\n|(NV)(EP) |(NV)(NP) |(NV)(UP) |(NV)(EV) |(NV)(NV) |(NV)(UV) |\r\n|(UV)(EP) |(UV)(NP) |(UV)(UP) |(UV)(EV) |(UV)(NV) |(UV)(UV) |\r\n\r\nWhere, **EP = East Postion, NP = North Postion,UP = Up Position, EV = East Velocity, NV = North Velocity, and UV = UP Velocity. Let [EP][EP]=Cov(EP,EP)=Var(EP) and so on**\r\n\r\nIn my research I have found this: https://gssc.esa.int/navipedia/index.php/Transformations_between_ECEF_and_ENU_coordinates\r\n\r\nThis gives exactly what I need for a 3x3 ENU to ECEF **position only** covariance transformation. My first assumption is that I would simply duplicate the Rotational Matrix **(R)** like so:\r\n[![6x6 Rotational Matrix][1]][1]\r\n\r\n\r\nWhere **lambda = longitude of the radar and phi = latitude of radar**.\r\n\r\nThen from this paper: https://www.ngs.noaa.gov/CORS/Articles/SolerChin1985.pdf\r\n[![enter image description here][2]][2]\r\n\r\nWhere Summation WGS72 is actually just the ENU 6x6 covariance matrix I am receiving.\r\n\r\nImplementing in Java I am getting the following:\r\n\r\n```\r\n    public static void enu2ecefCov(GMatrix ecefCov, GMatrix enuCov, LLA refLLA) {\r\n        GMatrix R = new GMatrix(6, 6);\r\n        GMatrix Rt = new GMatrix(6, 6);\r\n        GMatrix tmp = new GMatrix(6, 6);\r\n\r\n        createRotationMatrixV3(R, refLLA);\r\n\r\n        Rt.transpose(R);\r\n        tmp.mul(enuCov, R);\r\n        ecefCov.mul(Rt, tmp);\r\n\r\n    }\r\n```\r\n\r\nHowever, the matrix I am outputting doesn&#39;t look correct as I am seeing the same values multiple times whereas the original doesn&#39;t have the same values at all besides symmetric corresponding blocks. Am I doing this correctly? \r\n    \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/J6yHy.png\r\n  [2]: https://i.stack.imgur.com/Uu1LQ.png\r\n\r\n","title":"6x6 Covariance Matrix Conversion from ENU to ECEF","body":"<p>I am currently working with a RADAR that outputs a 6x6 covariance matrix with every track in the following format:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: center;\">Col1</th>\n<th style=\"text-align: center;\">Col2</th>\n<th style=\"text-align: center;\">Col3</th>\n<th style=\"text-align: center;\">Col4</th>\n<th style=\"text-align: center;\">Col5</th>\n<th style=\"text-align: center;\">Col6</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: center;\">(EP)(EP)</td>\n<td style=\"text-align: center;\">(EP)(NP)</td>\n<td style=\"text-align: center;\">(EP)(UP)</td>\n<td style=\"text-align: center;\">(EP)(EV)</td>\n<td style=\"text-align: center;\">(EP)(NV)</td>\n<td style=\"text-align: center;\">(EP)(UV)</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">(NP)(EP)</td>\n<td style=\"text-align: center;\">(NP)(NP)</td>\n<td style=\"text-align: center;\">(NP)(UP)</td>\n<td style=\"text-align: center;\">(NP)(EV)</td>\n<td style=\"text-align: center;\">(NP)(NV)</td>\n<td style=\"text-align: center;\">(NP)(UV)</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">(UP)(EP)</td>\n<td style=\"text-align: center;\">(UP)(NP)</td>\n<td style=\"text-align: center;\">(UP)(UP)</td>\n<td style=\"text-align: center;\">(UP)(EV)</td>\n<td style=\"text-align: center;\">(UP)(NV)</td>\n<td style=\"text-align: center;\">(UP)(UV)</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">(EV)(EP)</td>\n<td style=\"text-align: center;\">(EV)(NP)</td>\n<td style=\"text-align: center;\">(EV)(UP)</td>\n<td style=\"text-align: center;\">(EV)(EV)</td>\n<td style=\"text-align: center;\">(EV)(NV)</td>\n<td style=\"text-align: center;\">(EV)(UV)</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">(NV)(EP)</td>\n<td style=\"text-align: center;\">(NV)(NP)</td>\n<td style=\"text-align: center;\">(NV)(UP)</td>\n<td style=\"text-align: center;\">(NV)(EV)</td>\n<td style=\"text-align: center;\">(NV)(NV)</td>\n<td style=\"text-align: center;\">(NV)(UV)</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">(UV)(EP)</td>\n<td style=\"text-align: center;\">(UV)(NP)</td>\n<td style=\"text-align: center;\">(UV)(UP)</td>\n<td style=\"text-align: center;\">(UV)(EV)</td>\n<td style=\"text-align: center;\">(UV)(NV)</td>\n<td style=\"text-align: center;\">(UV)(UV)</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Where, <strong>EP = East Postion, NP = North Postion,UP = Up Position, EV = East Velocity, NV = North Velocity, and UV = UP Velocity. Let [EP][EP]=Cov(EP,EP)=Var(EP) and so on</strong></p>\n<p>In my research I have found this: <a href=\"https://gssc.esa.int/navipedia/index.php/Transformations_between_ECEF_and_ENU_coordinates\" rel=\"nofollow noreferrer\">https://gssc.esa.int/navipedia/index.php/Transformations_between_ECEF_and_ENU_coordinates</a></p>\n<p>This gives exactly what I need for a 3x3 ENU to ECEF <strong>position only</strong> covariance transformation. My first assumption is that I would simply duplicate the Rotational Matrix <strong>(R)</strong> like so:\n<a href=\"https://i.stack.imgur.com/J6yHy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J6yHy.png\" alt=\"6x6 Rotational Matrix\" /></a></p>\n<p>Where <strong>lambda = longitude of the radar and phi = latitude of radar</strong>.</p>\n<p>Then from this paper: <a href=\"https://www.ngs.noaa.gov/CORS/Articles/SolerChin1985.pdf\" rel=\"nofollow noreferrer\">https://www.ngs.noaa.gov/CORS/Articles/SolerChin1985.pdf</a>\n<a href=\"https://i.stack.imgur.com/Uu1LQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Uu1LQ.png\" alt=\"enter image description here\" /></a></p>\n<p>Where Summation WGS72 is actually just the ENU 6x6 covariance matrix I am receiving.</p>\n<p>Implementing in Java I am getting the following:</p>\n<pre><code>    public static void enu2ecefCov(GMatrix ecefCov, GMatrix enuCov, LLA refLLA) {\n        GMatrix R = new GMatrix(6, 6);\n        GMatrix Rt = new GMatrix(6, 6);\n        GMatrix tmp = new GMatrix(6, 6);\n\n        createRotationMatrixV3(R, refLLA);\n\n        Rt.transpose(R);\n        tmp.mul(enuCov, R);\n        ecefCov.mul(Rt, tmp);\n\n    }\n</code></pre>\n<p>However, the matrix I am outputting doesn't look correct as I am seeing the same values multiple times whereas the original doesn't have the same values at all besides symmetric corresponding blocks. Am I doing this correctly?</p>\n"},{"tags":["java","log4j2"],"comments":[{"owner":{"account_id":1806558,"reputation":4512,"user_id":1643558,"accept_rate":73,"display_name":"tgkprog"},"score":2,"creation_date":1399053871,"post_id":23434252,"comment_id":35916198,"body_markdown":"If you dont get an answer here try the mail list, its generally looked in to once in 2 days by the main authors. Then come back and answer your own question :-)","body":"If you dont get an answer here try the mail list, its generally looked in to once in 2 days by the main authors. Then come back and answer your own question :-)"}],"answers":[{"tags":[],"owner":{"account_id":3839832,"reputation":4671,"user_id":3183264,"accept_rate":91,"display_name":"slaadvak"},"down_vote_count":0,"up_vote_count":224,"is_accepted":true,"score":224,"last_activity_date":1605278805,"creation_date":1399055093,"answer_id":23434603,"question_id":23434252,"body_markdown":"**The Easy Way :**\r\n\r\n*EDITED according to log4j2 version 2.4 FAQ*\r\n\r\nYou can set a logger’s level with the class Configurator from Log4j Core. **BUT** be aware that the Configurator class is not part of the public API.\r\n\r\n    // org.apache.logging.log4j.core.config.Configurator;\r\n    Configurator.setLevel(&quot;com.example.Foo&quot;, Level.DEBUG);\r\n \r\n    // You can also set the root logger:\r\n    Configurator.setRootLevel(Level.DEBUG);\r\n\r\n[Source][2]\r\n\r\n\r\n**The Preferable Way :**\r\n\r\n*EDITED to reflect changes in the API introduced in Log4j2 version 2.0.2*\r\n\r\nIf you wish to change the root logger level, do something like this :\r\n\r\n    LoggerContext ctx = (LoggerContext) LogManager.getContext(false);\r\n    Configuration config = ctx.getConfiguration();\r\n    LoggerConfig loggerConfig = config.getLoggerConfig(LogManager.ROOT_LOGGER_NAME); \r\n    loggerConfig.setLevel(level);\r\n    ctx.updateLoggers();  // This causes all Loggers to refetch information from their LoggerConfig.\r\n\r\n[Here][1] is the javadoc for LoggerConfig.\r\n\r\n\r\n  [1]: http://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/config/LoggerConfig.html\r\n\r\n  [2]: https://logging.apache.org/log4j/2.x/faq.html#reconfig_level_from_code","title":"Programmatically change log level in Log4j2","body":"<p><strong>The Easy Way :</strong></p>\n<p><em>EDITED according to log4j2 version 2.4 FAQ</em></p>\n<p>You can set a logger’s level with the class Configurator from Log4j Core. <strong>BUT</strong> be aware that the Configurator class is not part of the public API.</p>\n<pre><code>// org.apache.logging.log4j.core.config.Configurator;\nConfigurator.setLevel(&quot;com.example.Foo&quot;, Level.DEBUG);\n\n// You can also set the root logger:\nConfigurator.setRootLevel(Level.DEBUG);\n</code></pre>\n<p><a href=\"https://logging.apache.org/log4j/2.x/faq.html#reconfig_level_from_code\" rel=\"noreferrer\">Source</a></p>\n<p><strong>The Preferable Way :</strong></p>\n<p><em>EDITED to reflect changes in the API introduced in Log4j2 version 2.0.2</em></p>\n<p>If you wish to change the root logger level, do something like this :</p>\n<pre><code>LoggerContext ctx = (LoggerContext) LogManager.getContext(false);\nConfiguration config = ctx.getConfiguration();\nLoggerConfig loggerConfig = config.getLoggerConfig(LogManager.ROOT_LOGGER_NAME); \nloggerConfig.setLevel(level);\nctx.updateLoggers();  // This causes all Loggers to refetch information from their LoggerConfig.\n</code></pre>\n<p><a href=\"http://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/config/LoggerConfig.html\" rel=\"noreferrer\">Here</a> is the javadoc for LoggerConfig.</p>\n"},{"tags":[],"owner":{"account_id":3655763,"reputation":2470,"user_id":3046834,"accept_rate":80,"display_name":"Victor"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1400942958,"creation_date":1400942958,"answer_id":23846361,"question_id":23434252,"body_markdown":"The programmatic approach is rather intrusive. Perhaps you should check JMX support given by Log4J2:\r\n\r\n 1. Enable the JMX port in your application start up:\r\n\r\n    -Dcom.sun.management.jmxremote.port=[port_num]\r\n\r\n 2. Use any of the available JMX clients (the JVM provides one in JAVA_HOME/bin/jconsole.exe) while executing your application.\r\n\r\n 3. In JConsole look for the &quot;org.apache.logging.log4j2.Loggers&quot; bean\r\n\r\n 4. Finally change the level of your logger\r\n\r\nThe thing that I like most of this is that you don&#180;t have to modify your code or configuration for managing this. It&#180;s all external and transparent.\r\n\r\nMore info: http://logging.apache.org/log4j/2.x/manual/jmx.html","title":"Programmatically change log level in Log4j2","body":"<p>The programmatic approach is rather intrusive. Perhaps you should check JMX support given by Log4J2:</p>\n\n<ol>\n<li><p>Enable the JMX port in your application start up:</p>\n\n<p>-Dcom.sun.management.jmxremote.port=[port_num]</p></li>\n<li><p>Use any of the available JMX clients (the JVM provides one in JAVA_HOME/bin/jconsole.exe) while executing your application.</p></li>\n<li><p>In JConsole look for the \"org.apache.logging.log4j2.Loggers\" bean</p></li>\n<li><p>Finally change the level of your logger</p></li>\n</ol>\n\n<p>The thing that I like most of this is that you don´t have to modify your code or configuration for managing this. It´s all external and transparent.</p>\n\n<p>More info: <a href=\"http://logging.apache.org/log4j/2.x/manual/jmx.html\" rel=\"nofollow noreferrer\">http://logging.apache.org/log4j/2.x/manual/jmx.html</a></p>\n"},{"tags":[],"owner":{"account_id":6792175,"reputation":181,"user_id":5228913,"display_name":"J&#246;rg Friedrich"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1473196584,"creation_date":1439589510,"answer_id":32019244,"question_id":23434252,"body_markdown":"If you want to change a single specific logger level (not the root logger or loggers configured in the configuration file) you can do this:\r\n\r\n\r\n\tpublic static void setLevel(Logger logger, Level level) {\r\n\t\tfinal LoggerContext ctx = (LoggerContext) LogManager.getContext(false);\r\n        final Configuration config = ctx.getConfiguration();\r\n\r\n        LoggerConfig loggerConfig = config.getLoggerConfig(logger.getName());\r\n        LoggerConfig specificConfig = loggerConfig;\r\n\r\n        // We need a specific configuration for this logger,\r\n        // otherwise we would change the level of all other loggers\r\n        // having the original configuration as parent as well\r\n\r\n        if (!loggerConfig.getName().equals(logger.getName())) {\r\n        \tspecificConfig = new LoggerConfig(logger.getName(), level, true);\r\n        \tspecificConfig.setParent(loggerConfig);\r\n        \tconfig.addLogger(logger.getName(), specificConfig);\r\n        }\r\n        specificConfig.setLevel(level);\r\n        ctx.updateLoggers();\r\n\t}\r\n\r\n","title":"Programmatically change log level in Log4j2","body":"<p>If you want to change a single specific logger level (not the root logger or loggers configured in the configuration file) you can do this:</p>\n\n<pre><code>public static void setLevel(Logger logger, Level level) {\n    final LoggerContext ctx = (LoggerContext) LogManager.getContext(false);\n    final Configuration config = ctx.getConfiguration();\n\n    LoggerConfig loggerConfig = config.getLoggerConfig(logger.getName());\n    LoggerConfig specificConfig = loggerConfig;\n\n    // We need a specific configuration for this logger,\n    // otherwise we would change the level of all other loggers\n    // having the original configuration as parent as well\n\n    if (!loggerConfig.getName().equals(logger.getName())) {\n        specificConfig = new LoggerConfig(logger.getName(), level, true);\n        specificConfig.setParent(loggerConfig);\n        config.addLogger(logger.getName(), specificConfig);\n    }\n    specificConfig.setLevel(level);\n    ctx.updateLoggers();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3714377,"reputation":221,"user_id":3090942,"display_name":"alfred.schalk"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1484736095,"creation_date":1484736095,"answer_id":41717213,"question_id":23434252,"body_markdown":"I found a good answer here: https://garygregory.wordpress.com/2016/01/11/changing-log-levels-in-log4j2/\r\n\r\nYou can use org.apache.logging.log4j.core.config.Configurator to set the level for a specific logger.\r\n\r\n    Logger logger = LogManager.getLogger(Test.class);\r\n    Configurator.setLevel(logger.getName(), Level.DEBUG);","title":"Programmatically change log level in Log4j2","body":"<p>I found a good answer here: <a href=\"https://garygregory.wordpress.com/2016/01/11/changing-log-levels-in-log4j2/\" rel=\"noreferrer\">https://garygregory.wordpress.com/2016/01/11/changing-log-levels-in-log4j2/</a></p>\n\n<p>You can use org.apache.logging.log4j.core.config.Configurator to set the level for a specific logger.</p>\n\n<pre><code>Logger logger = LogManager.getLogger(Test.class);\nConfigurator.setLevel(logger.getName(), Level.DEBUG);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":189981,"reputation":1342,"user_id":429647,"accept_rate":93,"display_name":"a113nw"},"down_vote_count":0,"up_vote_count":73,"is_accepted":false,"score":73,"last_activity_date":1498054795,"creation_date":1498054795,"answer_id":44678752,"question_id":23434252,"body_markdown":"The accepted answer by @slaadvak did not work for me for [Log4j2 2.8.2][1]. The following did.\r\n\r\nTo change the log `Level` **universally** use:\r\n\r\n    Configurator.setAllLevels(LogManager.getRootLogger().getName(), level);\r\n\r\nTo change the log `Level` for only the current class, use:\r\n\r\n    Configurator.setLevel(LogManager.getLogger(CallingClass.class).getName(), level);\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/log4j-api/apidocs/index.html","title":"Programmatically change log level in Log4j2","body":"<p>The accepted answer by @slaadvak did not work for me for <a href=\"https://logging.apache.org/log4j/2.x/log4j-api/apidocs/index.html\" rel=\"noreferrer\">Log4j2 2.8.2</a>. The following did.</p>\n\n<p>To change the log <code>Level</code> <strong>universally</strong> use:</p>\n\n<pre><code>Configurator.setAllLevels(LogManager.getRootLogger().getName(), level);\n</code></pre>\n\n<p>To change the log <code>Level</code> for only the current class, use:</p>\n\n<pre><code>Configurator.setLevel(LogManager.getLogger(CallingClass.class).getName(), level);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4335139,"reputation":131,"user_id":3539784,"display_name":"dpp.2325"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1510746498,"creation_date":1510746498,"answer_id":47306625,"question_id":23434252,"body_markdown":"One un-usual way i found to do is to create two separate file with different logging level.\r\n&lt;br&gt;For example. log4j2.xml and log4j-debug.xml\r\nNow change the configuration from this files.\r\n&lt;br&gt;**Sample Code:**\r\n\r\n    ConfigurationFactory configFactory = XmlConfigurationFactory.getInstance();\r\n    \t\t\tConfigurationFactory.setConfigurationFactory(configFactory);\r\n    \t\t\tLoggerContext ctx = (LoggerContext) LogManager.getContext(false);\r\n    \t\t\tClassLoader classloader = Thread.currentThread().getContextClassLoader();\r\n    \t\t\tInputStream inputStream = classloader.getResourceAsStream(logFileName);\r\n    \t\t\tConfigurationSource configurationSource = new ConfigurationSource(inputStream);\r\n    \r\n    \t\t\tctx.start(configFactory.getConfiguration(ctx, configurationSource));\r\n\r\n","title":"Programmatically change log level in Log4j2","body":"<p>One un-usual way i found to do is to create two separate file with different logging level.\n<br>For example. log4j2.xml and log4j-debug.xml\nNow change the configuration from this files.\n<br><strong>Sample Code:</strong></p>\n\n<pre><code>ConfigurationFactory configFactory = XmlConfigurationFactory.getInstance();\n            ConfigurationFactory.setConfigurationFactory(configFactory);\n            LoggerContext ctx = (LoggerContext) LogManager.getContext(false);\n            ClassLoader classloader = Thread.currentThread().getContextClassLoader();\n            InputStream inputStream = classloader.getResourceAsStream(logFileName);\n            ConfigurationSource configurationSource = new ConfigurationSource(inputStream);\n\n            ctx.start(configFactory.getConfiguration(ctx, configurationSource));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1400136,"reputation":895,"user_id":1329070,"accept_rate":17,"display_name":"hobgoblin"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1522241995,"creation_date":1522241995,"answer_id":49535283,"question_id":23434252,"body_markdown":"Most of the answers by default assume that logging has to be additive. But say that some package is generating lot of logs and you want to turn off logging for that particular logger only. Here is the code that I used to get it working \r\n\r\n        public class LogConfigManager {\r\n    \r\n        public void setLogLevel(String loggerName, String level) {\r\n            Level newLevel = Level.valueOf(level);\r\n            LoggerContext logContext = (LoggerContext) LogManager.getContext(false);\r\n            Configuration configuration = logContext.getConfiguration();\r\n            LoggerConfig loggerConfig = configuration.getLoggerConfig(loggerName);\r\n            // getLoggerConfig(&quot;a.b.c&quot;) could return logger for &quot;a.b&quot; if there is no logger for &quot;a.b.c&quot;\r\n            if (loggerConfig.getName().equalsIgnoreCase(loggerName)) {\r\n                loggerConfig.setLevel(newLevel);\r\n                log.info(&quot;Changed logger level for {} to {} &quot;, loggerName, newLevel);\r\n            } else {\r\n                // create a new config.\r\n                loggerConfig = new LoggerConfig(loggerName, newLevel, false);\r\n                log.info(&quot;Adding config for: {} with level: {}&quot;, loggerConfig, newLevel);\r\n                configuration.addLogger(loggerName, loggerConfig);\r\n    \r\n    \r\n                LoggerConfig parentConfig = loggerConfig.getParent();\r\n                do {\r\n                    for (Map.Entry&lt;String, Appender&gt; entry : parentConfig.getAppenders().entrySet()) {\r\n                        loggerConfig.addAppender(entry.getValue(), null, null);\r\n                    }\r\n                    parentConfig = parentConfig.getParent();\r\n                } while (null != parentConfig &amp;&amp; parentConfig.isAdditive());\r\n            }\r\n            logContext.updateLoggers();\r\n        }\r\n    }\r\n\r\nA test case for the same\r\n\r\n    public class LogConfigManagerTest {\r\n        @Test\r\n        public void testLogChange() throws IOException {\r\n            LogConfigManager logConfigManager = new LogConfigManager();\r\n            File file = new File(&quot;logs/server.log&quot;);\r\n            Files.write(file.toPath(), new byte[0], StandardOpenOption.TRUNCATE_EXISTING);\r\n            Logger logger = LoggerFactory.getLogger(&quot;a.b.c&quot;);\r\n            logger.debug(&quot;Marvel-1&quot;);\r\n            logConfigManager.setLogLevel(&quot;a.b.c&quot;, &quot;debug&quot;);\r\n            logger.debug(&quot;DC-1&quot;);\r\n            // Parent logger level should remain same\r\n            LoggerFactory.getLogger(&quot;a.b&quot;).debug(&quot;Marvel-2&quot;);\r\n            logConfigManager.setLogLevel(&quot;a.b.c&quot;, &quot;info&quot;);\r\n            logger.debug(&quot;Marvel-3&quot;);\r\n            // Flush everything\r\n            LogManager.shutdown();\r\n    \r\n            String content = Files.readAllLines(file.toPath()).stream().reduce((s1, s2) -&gt; s1 + &quot;\\t&quot; + s2).orElse(null);\r\n            Assert.assertEquals(content, &quot;DC-1&quot;);\r\n        }\r\n    }\r\n\r\nAssuming following log4j2.xml is in classpath\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Configuration xmlns=&quot;http://logging.apache.org/log4j/2.0/config&quot;&gt;\r\n    \r\n        &lt;Appenders&gt;\r\n            &lt;File name=&quot;FILE&quot; fileName=&quot;logs/server.log&quot; append=&quot;true&quot;&gt;\r\n                &lt;PatternLayout pattern=&quot;%m%n&quot;/&gt;\r\n            &lt;/File&gt;\r\n            &lt;Console name=&quot;STDOUT&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n                &lt;PatternLayout pattern=&quot;%m%n&quot;/&gt;\r\n            &lt;/Console&gt;\r\n        &lt;/Appenders&gt;\r\n    \r\n        &lt;Loggers&gt;\r\n            &lt;AsyncLogger name=&quot;a.b&quot; level=&quot;info&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;STDOUT&quot;/&gt;\r\n                &lt;AppenderRef ref=&quot;FILE&quot;/&gt;\r\n            &lt;/AsyncLogger&gt;\r\n    \r\n            &lt;AsyncRoot level=&quot;info&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;STDOUT&quot;/&gt;\r\n            &lt;/AsyncRoot&gt;\r\n        &lt;/Loggers&gt;\r\n    \r\n    &lt;/Configuration&gt;\r\n\r\n","title":"Programmatically change log level in Log4j2","body":"<p>Most of the answers by default assume that logging has to be additive. But say that some package is generating lot of logs and you want to turn off logging for that particular logger only. Here is the code that I used to get it working </p>\n\n<pre><code>    public class LogConfigManager {\n\n    public void setLogLevel(String loggerName, String level) {\n        Level newLevel = Level.valueOf(level);\n        LoggerContext logContext = (LoggerContext) LogManager.getContext(false);\n        Configuration configuration = logContext.getConfiguration();\n        LoggerConfig loggerConfig = configuration.getLoggerConfig(loggerName);\n        // getLoggerConfig(\"a.b.c\") could return logger for \"a.b\" if there is no logger for \"a.b.c\"\n        if (loggerConfig.getName().equalsIgnoreCase(loggerName)) {\n            loggerConfig.setLevel(newLevel);\n            log.info(\"Changed logger level for {} to {} \", loggerName, newLevel);\n        } else {\n            // create a new config.\n            loggerConfig = new LoggerConfig(loggerName, newLevel, false);\n            log.info(\"Adding config for: {} with level: {}\", loggerConfig, newLevel);\n            configuration.addLogger(loggerName, loggerConfig);\n\n\n            LoggerConfig parentConfig = loggerConfig.getParent();\n            do {\n                for (Map.Entry&lt;String, Appender&gt; entry : parentConfig.getAppenders().entrySet()) {\n                    loggerConfig.addAppender(entry.getValue(), null, null);\n                }\n                parentConfig = parentConfig.getParent();\n            } while (null != parentConfig &amp;&amp; parentConfig.isAdditive());\n        }\n        logContext.updateLoggers();\n    }\n}\n</code></pre>\n\n<p>A test case for the same</p>\n\n<pre><code>public class LogConfigManagerTest {\n    @Test\n    public void testLogChange() throws IOException {\n        LogConfigManager logConfigManager = new LogConfigManager();\n        File file = new File(\"logs/server.log\");\n        Files.write(file.toPath(), new byte[0], StandardOpenOption.TRUNCATE_EXISTING);\n        Logger logger = LoggerFactory.getLogger(\"a.b.c\");\n        logger.debug(\"Marvel-1\");\n        logConfigManager.setLogLevel(\"a.b.c\", \"debug\");\n        logger.debug(\"DC-1\");\n        // Parent logger level should remain same\n        LoggerFactory.getLogger(\"a.b\").debug(\"Marvel-2\");\n        logConfigManager.setLogLevel(\"a.b.c\", \"info\");\n        logger.debug(\"Marvel-3\");\n        // Flush everything\n        LogManager.shutdown();\n\n        String content = Files.readAllLines(file.toPath()).stream().reduce((s1, s2) -&gt; s1 + \"\\t\" + s2).orElse(null);\n        Assert.assertEquals(content, \"DC-1\");\n    }\n}\n</code></pre>\n\n<p>Assuming following log4j2.xml is in classpath</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;Configuration xmlns=\"http://logging.apache.org/log4j/2.0/config\"&gt;\n\n    &lt;Appenders&gt;\n        &lt;File name=\"FILE\" fileName=\"logs/server.log\" append=\"true\"&gt;\n            &lt;PatternLayout pattern=\"%m%n\"/&gt;\n        &lt;/File&gt;\n        &lt;Console name=\"STDOUT\" target=\"SYSTEM_OUT\"&gt;\n            &lt;PatternLayout pattern=\"%m%n\"/&gt;\n        &lt;/Console&gt;\n    &lt;/Appenders&gt;\n\n    &lt;Loggers&gt;\n        &lt;AsyncLogger name=\"a.b\" level=\"info\"&gt;\n            &lt;AppenderRef ref=\"STDOUT\"/&gt;\n            &lt;AppenderRef ref=\"FILE\"/&gt;\n        &lt;/AsyncLogger&gt;\n\n        &lt;AsyncRoot level=\"info\"&gt;\n            &lt;AppenderRef ref=\"STDOUT\"/&gt;\n        &lt;/AsyncRoot&gt;\n    &lt;/Loggers&gt;\n\n&lt;/Configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":36915,"reputation":3723,"user_id":105408,"accept_rate":75,"display_name":"markthegrea"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1607118730,"creation_date":1607118730,"answer_id":65151249,"question_id":23434252,"body_markdown":"For those of you still struggeling with this, I had to add the classloader to the &quot;getContext()&quot; call:\r\n\r\n      log.info(&quot;Modifying Log level! (maybe)&quot;);\r\n      LoggerContext ctx = (LoggerContext) LogManager.getContext(this.getClass().getClassLoader(), false);\r\n      Configuration config = ctx.getConfiguration();\r\n      LoggerConfig loggerConfig = config.getLoggerConfig(&quot;com.cat.barrel&quot;);\r\n      loggerConfig.setLevel(org.apache.logging.log4j.Level.TRACE);\r\n      ctx.updateLoggers();\r\n\r\nI added a jvm argument: **-Dlog4j.debug** to my test. This does some verbose logging for log4j.  I noticed that the final LogManager was not the one that I was using.  Bam, add the class loader and you are off to the races.","title":"Programmatically change log level in Log4j2","body":"<p>For those of you still struggeling with this, I had to add the classloader to the &quot;getContext()&quot; call:</p>\n<pre><code>  log.info(&quot;Modifying Log level! (maybe)&quot;);\n  LoggerContext ctx = (LoggerContext) LogManager.getContext(this.getClass().getClassLoader(), false);\n  Configuration config = ctx.getConfiguration();\n  LoggerConfig loggerConfig = config.getLoggerConfig(&quot;com.cat.barrel&quot;);\n  loggerConfig.setLevel(org.apache.logging.log4j.Level.TRACE);\n  ctx.updateLoggers();\n</code></pre>\n<p>I added a jvm argument: <strong>-Dlog4j.debug</strong> to my test. This does some verbose logging for log4j.  I noticed that the final LogManager was not the one that I was using.  Bam, add the class loader and you are off to the races.</p>\n"},{"tags":[],"owner":{"account_id":6442492,"reputation":335,"user_id":4992072,"display_name":"Rhineb"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1676149088,"creation_date":1676149088,"answer_id":75423256,"question_id":23434252,"body_markdown":"As of 2023 the above do not seem to work (or I will say at least did not seem to work for me), what did work was the following\r\n\r\n```\r\nimport org.slf4j.LoggerFactory;\r\nimport ch.qos.logback.classic.Level;\r\nimport ch.qos.logback.classic.Logger;\r\nimport ch.qos.logback.classic.LoggerContext;\r\n\r\nfinal LoggerContext loggerContext = (LoggerContext) LoggerFactory.getILoggerFactory();\r\nfinal Logger logger = loggerContext.exists(org.slf4j.Logger.ROOT_LOGGER_NAME); // give it your logger name\r\nfinal Level newLevel = Level.toLevel(&quot;ERROR&quot;, null); // give it your log level\r\nlogger.setLevel(newLevel);\r\n```\r\n\r\nIf you want to see how to do this on a per request basis see my comment on post https://stackoverflow.com/questions/24158273/change-priority-level-in-log4j-per-request/75423208#75423208","title":"Programmatically change log level in Log4j2","body":"<p>As of 2023 the above do not seem to work (or I will say at least did not seem to work for me), what did work was the following</p>\n<pre><code>import org.slf4j.LoggerFactory;\nimport ch.qos.logback.classic.Level;\nimport ch.qos.logback.classic.Logger;\nimport ch.qos.logback.classic.LoggerContext;\n\nfinal LoggerContext loggerContext = (LoggerContext) LoggerFactory.getILoggerFactory();\nfinal Logger logger = loggerContext.exists(org.slf4j.Logger.ROOT_LOGGER_NAME); // give it your logger name\nfinal Level newLevel = Level.toLevel(&quot;ERROR&quot;, null); // give it your log level\nlogger.setLevel(newLevel);\n</code></pre>\n<p>If you want to see how to do this on a per request basis see my comment on post <a href=\"https://stackoverflow.com/questions/24158273/change-priority-level-in-log4j-per-request/75423208#75423208\">Change priority level in log4j per request</a></p>\n"}],"owner":{"account_id":1380055,"reputation":17338,"user_id":1313268,"accept_rate":88,"display_name":"CorayThan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134622,"favorite_count":0,"down_vote_count":0,"up_vote_count":151,"accepted_answer_id":23434603,"answer_count":9,"score":151,"last_activity_date":1676149088,"creation_date":1399053686,"question_id":23434252,"body_markdown":"I&#39;m interested in programmatically changing the log level in Log4j2. I tried looking at their [configuration documentation](http://logging.apache.org/log4j/2.x/manual/configuration.html) but that didn&#39;t seem to have anything. I also tried looking in the package: `org.apache.logging.log4j.core.config`, but nothing in there looked helpful either.","title":"Programmatically change log level in Log4j2","body":"<p>I'm interested in programmatically changing the log level in Log4j2. I tried looking at their <a href=\"http://logging.apache.org/log4j/2.x/manual/configuration.html\" rel=\"noreferrer\">configuration documentation</a> but that didn't seem to have anything. I also tried looking in the package: <code>org.apache.logging.log4j.core.config</code>, but nothing in there looked helpful either.</p>\n"},{"tags":["java","android","kotlin","annotations"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676148423,"creation_date":1676148423,"answer_id":75423198,"question_id":75423147,"body_markdown":"&gt; Is there some general rules or any plugin that by following them one could remove annotations?\r\n\r\nNo.\r\n\r\n&gt; I want to recreate some apps from GitHub using MVVM architecture\r\n\r\nThen rewrite them from scratch, using techniques and technologies that do not require annotations. For example, `@Inject` is often used with dependency inversion frameworks like Dagger/Hilt &amp;mdash; you would need to use something else (e.g., Koin) or avoid dependency inversion.\r\n\r\n&gt; to keep codes simple as possible as understandable for me and beginners\r\n\r\nAnnotations are not especially complicated, and they are reasonably important for many things in modern Android app development.\r\n\r\n&gt; P.s. It seems that some programmers don&#39;t like to use annotations.\r\n\r\nNo, some programmers do not like to use the old Android Annotations library. That is what that question and its answers are referring to, not annotations in general.\r\n","title":"How to convert kotlin or java codes with annotations to simple without annotations codes?","body":"<blockquote>\n<p>Is there some general rules or any plugin that by following them one could remove annotations?</p>\n</blockquote>\n<p>No.</p>\n<blockquote>\n<p>I want to recreate some apps from GitHub using MVVM architecture</p>\n</blockquote>\n<p>Then rewrite them from scratch, using techniques and technologies that do not require annotations. For example, <code>@Inject</code> is often used with dependency inversion frameworks like Dagger/Hilt — you would need to use something else (e.g., Koin) or avoid dependency inversion.</p>\n<blockquote>\n<p>to keep codes simple as possible as understandable for me and beginners</p>\n</blockquote>\n<p>Annotations are not especially complicated, and they are reasonably important for many things in modern Android app development.</p>\n<blockquote>\n<p>P.s. It seems that some programmers don't like to use annotations.</p>\n</blockquote>\n<p>No, some programmers do not like to use the old Android Annotations library. That is what that question and its answers are referring to, not annotations in general.</p>\n"}],"owner":{"account_id":27761018,"reputation":71,"user_id":21193451,"display_name":"user21193451"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75423198,"answer_count":1,"score":0,"last_activity_date":1676148423,"creation_date":1676147832,"question_id":75423147,"body_markdown":"I want to recreate some apps from GitHub using MVVM architecture. But I don&#39;t want codes to contain annotations like `@inject`, `@JvmField`,`@JvmStatic`, `@Field` etc. to keep codes simple as possible as understandable for me and beginners.\r\n\r\nIs there some general rules or any plugin that by following them one could remove annotations?\r\n\r\n**P.s.** [It seems that](https://stackoverflow.com/q/32482215/21193451) some programmers don&#39;t like to use annotations.","title":"How to convert kotlin or java codes with annotations to simple without annotations codes?","body":"<p>I want to recreate some apps from GitHub using MVVM architecture. But I don't want codes to contain annotations like <code>@inject</code>, <code>@JvmField</code>,<code>@JvmStatic</code>, <code>@Field</code> etc. to keep codes simple as possible as understandable for me and beginners.</p>\n<p>Is there some general rules or any plugin that by following them one could remove annotations?</p>\n<p><strong>P.s.</strong> <a href=\"https://stackoverflow.com/q/32482215/21193451\">It seems that</a> some programmers don't like to use annotations.</p>\n"},{"tags":["java","smtp","gmail","tomcat7","jakarta-mail"],"owner":{"account_id":1039237,"reputation":817,"user_id":1045680,"accept_rate":43,"display_name":"user1045680"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676148309,"creation_date":1676148309,"question_id":75423181,"body_markdown":"I have two servers, each running the same jsp/servlet code under `tomcat7`. I am merely moving the code from one server to the other, and trying to keep everything the same. They are both running `Java 11.0.17`. Yes, I know `tomact7` is out-dated. We just need to move the site from failing hardware for a few weeks/month until the new site is ready to launch.\r\n\r\nThere is a `contact.jsp` page that gathers name, email address, message, etc. from the user and then email it using smtp through a Gmail account. It all works on the old server, but not on the new server.\r\n\r\nThe mail debug transcript on the not-working server (aka `trout`):\r\n\r\n    DEBUG: JavaMail version 1.4ea\r\n    DEBUG: java.io.FileNotFoundException: /usr/lib/jvm/java-11-openjdk-amd64/lib/javamail.providers (No such file or directory)\r\n    DEBUG: !anyLoaded\r\n    DEBUG: not loading resource: /META-INF/javamail.providers\r\n    DEBUG: successfully loaded resource: /META-INF/javamail.default.providers\r\n    DEBUG: Tables of loaded providers\r\n    DEBUG: Providers Listed By Class Name: {com.sun.mail.smtp.SMTPSSLTransport=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Sun Microsystems, Inc], com.sun.mail.smtp.SMTPTransport=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Sun Microsystems, Inc], com.sun.mail.imap.IMAPSSLStore=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Sun Microsystems, Inc], com.sun.mail.pop3.POP3SSLStore=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Sun Microsystems, Inc], com.sun.mail.imap.IMAPStore=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Sun Microsystems, Inc], com.sun.mail.pop3.POP3Store=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Sun Microsystems, Inc]}\r\n    DEBUG: Providers Listed By Protocol: {imaps=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Sun Microsystems, Inc], imap=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Sun Microsystems, Inc], smtps=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Sun Microsystems, Inc], pop3=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Sun Microsystems, Inc], pop3s=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Sun Microsystems, Inc], smtp=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Sun Microsystems, Inc]}\r\n    DEBUG: successfully loaded resource: /META-INF/javamail.default.address.map\r\n    DEBUG: !anyLoaded\r\n    DEBUG: not loading resource: /META-INF/javamail.address.map\r\n    DEBUG: java.io.FileNotFoundException: /usr/lib/jvm/java-11-openjdk-amd64/lib/javamail.address.map (No such file or directory)\r\n    DEBUG: getProvider() returning javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Sun Microsystems, Inc]\r\n    DEBUG SMTP: useEhlo true, useAuth true\r\n    DEBUG SMTP: useEhlo true, useAuth true\r\n    DEBUG SMTP: trying to connect to host &quot;smtp.gmail.com&quot;, port 587, isSSL false\r\n    220 smtp.gmail.com ESMTP x14-20020aa784ce000000b00593ce42db6bsm5252080pfn.59 - gsmtp\r\n    DEBUG SMTP: connected to host &quot;smtp.gmail.com&quot;, port: 587\r\n    \r\n    EHLO trout\r\n    250-smtp.gmail.com at your service, [45.33.45.98]\r\n    250-SIZE 35882577\r\n    250-8BITMIME\r\n    250-STARTTLS\r\n    250-ENHANCEDSTATUSCODES\r\n    250-PIPELINING\r\n    250-CHUNKING\r\n    250 SMTPUTF8\r\n    DEBUG SMTP: Found extension &quot;SIZE&quot;, arg &quot;35882577&quot;\r\n    DEBUG SMTP: Found extension &quot;8BITMIME&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: Found extension &quot;STARTTLS&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: Found extension &quot;ENHANCEDSTATUSCODES&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: Found extension &quot;PIPELINING&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: Found extension &quot;CHUNKING&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: Found extension &quot;SMTPUTF8&quot;, arg &quot;&quot;\r\n    STARTTLS\r\n    220 2.0.0 Ready to start TLS\r\n    EHLO trout\r\n\r\nThe mail debug transcript on the working server (aka `swordfish`):\r\n\r\n    DEBUG: JavaMail version 1.4ea\r\n    Store,Sun Microsystems, Inc], com.sun.mail.pop3.POP3SSLStore=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Sun Microsystems, Inc], com.sun.mail.imap.IMAPStore=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Sun Microsystems, Inc], com.sun.mail.pop3.POP3Store=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Sun Microsystems, Inc]}\r\n    ,smtps,com.sun.mail.smtp.SMTPSSLTransport,Sun Microsystems, Inc], pop3=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Sun Microsystems, Inc], pop3s=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Sun Microsystems, Inc], smtp=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Sun Microsystems, Inc]}\r\n    DEBUG: successfully loaded resource: /META-INF/javamail.default.address.map\r\n    DEBUG: !anyLoaded\r\n    DEBUG SMTP: connected to host &quot;smtp.gmail.com&quot;, port: 587\r\n    \r\n    EHLO swordfish\r\n    250-smtp.gmail.com at your service, [96.126.102.203]\r\n    250-SIZE 35882577\r\n    250-8BITMIME\r\n    250-STARTTLS\r\n    250-ENHANCEDSTATUSCODES\r\n    250-PIPELINING\r\n    250-CHUNKING\r\n    250 SMTPUTF8\r\n    DEBUG SMTP: Found extension &quot;SIZE&quot;, arg &quot;35882577&quot;\r\n    DEBUG SMTP: Found extension &quot;8BITMIME&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: Found extension &quot;STARTTLS&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: Found extension &quot;ENHANCEDSTATUSCODES&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: Found extension &quot;PIPELINING&quot;, arg &quot;&quot;\r\n    250-SIZE 35882577\r\n    334 VXNlcm5hbWU6\r\n    aG9waXJvY2tldHNAZ21haWwuY29t\r\n    334 UGFzc3dvcmQ6\r\n    334 VXNlcm5hbWU6\r\n    aG9waXJvY2tldHNAZ21haWwuY29t\r\n    334 UGFzc3dvcmQ6\r\n    dG55d3ZzYW9zYmpsaXB4ZA==\r\n    235 2.7.0 Accepted\r\n    DEBUG SMTP: use8bit false\r\n    MAIL FROM:&lt;adsfasdf&gt;\r\n    250 2.1.0 OK k3-20020aa78203000000b0059261bd5bacsm5176497pfi.202 - gsmtp\r\n    RCPT TO:&lt;xxxxxxxxxxx&gt;\r\n    235 2.7.0 Accepted\r\n    DEBUG SMTP: use8bit false\r\n    MAIL FROM:&lt;adsfasdf&gt;\r\n    250 2.1.0 OK k3-20020aa78203000000b0059261bd5bacsm5176497pfi.202 - gsmtp\r\n    RCPT TO:&lt;xxxxxxxxxxx&gt;\r\n    250 2.1.5 OK k3-20020aa78203000000b0059261bd5bacsm5176497pfi.202 - gsmtp\r\n    DEBUG SMTP: Verified Addresses\r\n    DEBUG SMTP: Verified Addresses\r\n    DEBUG SMTP:   xxxxxxxxxx\r\n    DATA\r\n    To: xxxxxxxxxxx\r\n    Message-ID: &lt;77534317.11676145791205.JavaMail.tomcat7@swordfish&gt;                                                              \r\n    Subject: yyyyyyyyy Email -  asdfasdf\r\n    354  Go ahead k3-20020aa78203000000b0059261bd5bacsm5176497pfi.202 - gsmtp\r\n    From: asdfasdf &lt;adsfasdf&gt;\r\n    To: xxxxxxxxxx\r\n    Message-ID: &lt;77534317.11676145791205.JavaMail.tomcat7@swordfish&gt;\r\n    Subject: yyyyyyyyyy Email -  asdfasdf\r\n    MIME-Version: 1.0\r\n    354  Go ahead k3-20020aa78203000000b0059261bd5bacsm5176497pfi.202 - gsmtp\r\n    From: asdfasdf &lt;adsfasdf&gt;\r\n    To: xxxxxxxxxxxx\r\n    Message-ID: &lt;77534317.11676145791205.JavaMail.tomcat7@swordfish&gt;\r\n    Subject: xxxxxxxxxx Email -  asdfasdf\r\n    MIME-Version: 1.0\r\n    354  Go ahead k3-20020aa78203000000b0059261bd5bacsm5176497pfi.202 - gsmtp\r\n    From: asdfasdf &lt;adsfasdf&gt;\r\n    To: xxxxxxxxxxx\r\n    Message-ID: &lt;77534317.11676145791205.JavaMail.tomcat7@swordfish&gt;\r\n    Subject: yyyyyyyyy Email -  asdfasdf\r\n    MIME-Version: 1.0\r\n    354  Go ahead k3-20020aa78203000000b0059261bd5bacsm5176497pfi.202 - gsmtp\r\n    From: asdfasdf &lt;adsfasdf&gt;\r\n    To: xxxxxxxxxx\r\n    Message-ID: &lt;77534317.11676145791205.JavaMail.tomcat7@swordfish&gt;\r\n    Subject: yyyyyyyy Email -  asdfasdf\r\n    MIME-Version: 1.0\r\n    Content-Type: text/plain; charset=us-ascii\r\n    Content-Type: text/plain; charset=us-ascii\r\n    From: asdfasdf\r\n    Email: adsfasdf\r\n    \r\n    asdf asfd asdf asdf\r\n    .\r\n    250 2.0.0 OK  1676145792 k3-20020aa78203000000b0059261bd5bacsm5176497pfi.202 - gsmtp                                          \r\n    QUIT\r\n    221 2.0.0 closing connection k3-20020aa78203000000b0059261bd5bacsm5176497pfi.202 - gsmtp     \r\n\r\nThe contact.jsp:\r\n\r\n    &lt;%@ page contentType=&quot;text/html&quot;%&gt;\r\n    &lt;%@ page pageEncoding=&quot;UTF-8&quot;%&gt;\r\n    &lt;%@ page import=&quot;java.util.*&quot; %&gt;\r\n    &lt;%@ page import=&quot;java.sql.*&quot; %&gt;\r\n    &lt;%@ page import=&quot;java.text.*&quot; %&gt;\r\n    &lt;%@ page import=&quot;biz.phillipsmarketing.hopirockets.*&quot; %&gt;\r\n    &lt;%@ page import=&quot;biz.phillipsmarketing.utils.*&quot; %&gt;\r\n    &lt;%@ page import=&quot;javax.mail.*&quot; %&gt;\r\n    &lt;%@ page import=&quot;javax.mail.internet.*&quot; %&gt;\r\n    \r\n    &lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;\r\n       &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\r\n    \r\n    &lt;%\r\n    String errors = &quot;&quot;;\r\n    MimeMessage message = null;\r\n    Session mailSession = null;\r\n    String name = request.getParameter(&quot;require-name&quot;);\r\n    String from = request.getParameter(&quot;require-email&quot;);\r\n    String subject = request.getParameter(&quot;require-subject&quot;);\r\n    String text = request.getParameter(&quot;require-message&quot;);\r\n    String action = request.getParameter(&quot;action&quot;);\r\n    String gRecaptchaResponse = request.getParameter(&quot;g-recaptcha-response&quot;);\r\n    \r\n    if (action != null &amp;&amp; action.equals(&quot;Send Message&quot;)) {\r\n        // Verify the recaptcha was successful\r\n        String valid_string = VerifyRecaptcha.verify(gRecaptchaResponse);\r\n    \r\n        if (Boolean.parseBoolean(valid_string)) {\r\n    \r\n            StringBuffer messageToSend = new StringBuffer();\r\n            messageToSend.append(&quot;From: &quot;).append(name).append(&quot;\\r\\n&quot;);\r\n            messageToSend.append(&quot;Email: &quot;).append(from).append(&quot;\\r\\n&quot;);\r\n            messageToSend.append(&quot;\\r\\n&quot;).append(text);\r\n    \r\n        // Get system properties\r\n            Properties props = System.getProperties();\r\n    \r\n        // Setup mail server\r\n            props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n            props.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\r\n            props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\r\n            props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n    \r\n            props.put(&quot;mail.debug&quot;, &quot;true&quot;);\r\n    \r\n            final String to = &quot;xxxxxxxxxxx&quot;;\r\n            final String username = &quot;yyyyyyyyyyy&quot;;\r\n            final String password = &quot;my secret app password from gmail, different on each server&quot;;\r\n    \r\n            try {\r\n        // Get session\r\n                mailSession = Session.getInstance(props,\r\n                  new javax.mail.Authenticator() {\r\n                    protected PasswordAuthentication getPasswordAuthentication() {\r\n                        return new PasswordAuthentication(username, password);\r\n                  }\r\n                });\r\n    \r\n        // Define message\r\n                message = new MimeMessage(mailSession);\r\n                message.setFrom(new InternetAddress(from, name));\r\n                message.addRecipient(Message.RecipientType.TO, new InternetAddress(to));\r\n                message.setSubject(subject);\r\n                message.setText(messageToSend.toString());\r\n    \r\n        // Send message\r\n                Transport.send(message);\r\n    \r\n            } catch (Exception e) {\r\n                errors = e.getMessage();\r\n            } finally {\r\n                message = null;\r\n                mailSession = null;\r\n            }\r\n        }\r\n        else {\r\n            errors = valid_string;\r\n        }\r\n    }\r\n    %&gt;\r\n    &lt;html&gt;\r\n        &lt;head&gt;\r\n            &lt;link rel=&quot;stylesheet&quot; href=&quot;css/hopi.css&quot; type=&quot;text/css&quot;&gt;\r\n            &lt;meta http-equiv=&quot;Content-type&quot; content=&quot;text/html;charset=UTF-8&quot;&gt;\r\n            &lt;script src=&#39;https://www.google.com/recaptcha/api.js?hl=en&#39;&gt;&lt;/script&gt;\r\n            &lt;title&gt;Contact Hopi Hawks NAR Section 636&lt;/title&gt;\r\n        &lt;/head&gt;\r\n        &lt;body&gt;\r\n            &lt;div id=&quot;header&quot;&gt;\r\n                &lt;%@ include file=&quot;header.jsp&quot; %&gt;\r\n            &lt;/div&gt;\r\n    \r\n            &lt;div id=&quot;contentarea&quot; class=&quot;clearfix&quot;&gt;            &lt;div class=&quot;text&quot;&gt;\r\n                    &lt;h1&gt;Contact Hopi Hawks NAR Section 636&lt;/h1&gt;\r\n                    &lt;%\r\n                    if (action == null || errors.length() &gt; 0) {\r\n        if (errors.length() &gt; 0) {\r\n                    %&gt;\r\n                    &lt;p&gt;&lt;font color=&quot;red&quot;&gt;&lt;%= errors %&gt;&lt;/font&gt;&lt;/p&gt;\r\n    \r\n                    &lt;%  }  else {\r\n                    %&gt;\r\n                    &lt;p&gt;While we do our best to answer all messages immediately, there are\r\n                    occasions when it may take some time to respond, so please be patient.&lt;/p&gt;\r\n                    &lt;% }  %&gt;\r\n                    &lt;form action=&quot;contact.jsp&quot; method=&quot;post&quot;&gt;\r\n                        &lt;table cellpadding=&quot;2&quot; cellspacing=&quot;2&quot; border=&quot;0&quot; style=&quot;text-align: left; height: 516px; width: 600px;&quot; class=&quot;text&quot;&gt;\r\n                            &lt;tbody&gt;\r\n                                &lt;tr&gt;\r\n                                    &lt;td style=&quot;width: 15%; vertical-align: middle;&quot;&gt;Your name:&lt;br&gt;\r\n                                    &lt;/td&gt;\r\n                                    &lt;td style=&quot;vertical-align: top;&quot;&gt;&lt;input size=&quot;30&quot; maxlength=&quot;40&quot; name=&quot;require-name&quot; tabindex=&quot;1&quot; value=&quot;&lt;%= (name == null ? &gt;\r\n                                &lt;/tr&gt;\r\n                                &lt;tr&gt;\r\n                                    &lt;td style=&quot;vertical-align: middle; width: 30%;&quot;&gt;Your email address:&lt;br&gt;\r\n                                    &lt;/td&gt;\r\n                                    &lt;td style=&quot;vertical-align: top;&quot;&gt;&lt;input size=&quot;30&quot; maxlength=&quot;40&quot; name=&quot;require-email&quot; tabindex=&quot;2&quot; value=&quot;&lt;%= (from == null ?&gt;\r\n                                &lt;/tr&gt;\r\n                                &lt;tr&gt;\r\n                                    &lt;td style=&quot;vertical-align: middle;&quot;&gt;Subject:&lt;br&gt;\r\n                                    &lt;/td&gt;\r\n                                    &lt;td style=&quot;vertical-align: top;&quot;&gt;&lt;input size=&quot;40&quot; maxlength=&quot;100&quot; name=&quot;require-subject&quot; tabindex=&quot;3&quot; value=&quot;&lt;%= (subject == &gt;\r\n                                    &lt;/td&gt;\r\n                                &lt;/tr&gt;                            &lt;tr&gt;\r\n                                    &lt;td rowspan=&quot;1&quot; colspan=&quot;2&quot;&gt;\r\n                                        &lt;!-- reCAPTCHA --&gt;\r\n                                        &lt;div class=&quot;g-recaptcha&quot; data-sitekey=&quot;6LdAVsAUAAAAAM6pjWmhL60YEiZMI1loMz-oF1s-&quot;&gt;&lt;/div&gt;\r\n                                    &lt;/td&gt;\r\n                                &lt;/tr&gt;\r\n    \r\n                                &lt;tr&gt;\r\n                                    &lt;td rowspan=&quot;1&quot; colspan=&quot;2&quot;&gt;\r\n                                        &lt;center&gt;&lt;input type=&quot;submit&quot; name=&quot;action&quot; value=&quot;Send Message&quot; tabindex=&quot;5&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;n&gt;\r\n                                        &lt;input type=&quot;reset&quot; value=&quot;Reset&quot; tabindex=&quot;6&quot;&gt; &lt;/center&gt;\r\n                                    &lt;/td&gt;\r\n                                &lt;/tr&gt;\r\n                                &lt;tr&gt;\r\n                                    &lt;td style=&quot;text-align: center; vertical-align: top;&quot; rowspan=&quot;1&quot; colspan=&quot;2&quot;&gt;\r\n                                        &lt;span style=&quot;font-weight: bold;&quot;&gt;\r\n                                            Please wait for the confirmation screen after clicking &quot;Send Message&quot;.\r\n                                        &lt;/span&gt;&lt;br&gt;\r\n                                        &lt;span style=&quot;font-style: italic;&quot;&gt;\r\n                                            The server is a little slow, so it might take a few seconds.\r\n                                        &lt;/span&gt;&lt;br&gt;\r\n                                    &lt;/td&gt;\r\n                                &lt;/tr&gt;\r\n                            &lt;/tbody&gt;\r\n                        &lt;/table&gt;\r\n                    &lt;/form&gt;\r\n                &lt;% }  else {\r\n                    %&gt;\r\n                    Your message has been sent. Thank-you for contacting us.\r\n                    &lt;p&gt;While we do our best to answer all messages immediately, there are\r\n                    occasions when it may take some time to respond, so please be patient.&lt;/p&gt;\r\n                    &lt;%\r\n                    }\r\n                    %&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n    \r\n            &lt;div id=&quot;footer&quot;&gt;\r\n                &lt;%@ include file=&quot;footer.jspf&quot; %&gt;\r\n            &lt;/div&gt;\r\n        &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nFor some reason on the working server, `swordfish` does not send a `STARTTLS`, but the email goes through. And `trout` sends the `STARTTLS` and the email fails. The error message is `Can&#39;t send command to SMTP host`\r\n\r\nThanks for any suggestions (other than upgrade tomcat, upgrade javamail) are greatly appreciated!\r\n\r\n\r\n\r\n","title":"JavaMail will send message from one server, but not from another with same environment","body":"<p>I have two servers, each running the same jsp/servlet code under <code>tomcat7</code>. I am merely moving the code from one server to the other, and trying to keep everything the same. They are both running <code>Java 11.0.17</code>. Yes, I know <code>tomact7</code> is out-dated. We just need to move the site from failing hardware for a few weeks/month until the new site is ready to launch.</p>\n<p>There is a <code>contact.jsp</code> page that gathers name, email address, message, etc. from the user and then email it using smtp through a Gmail account. It all works on the old server, but not on the new server.</p>\n<p>The mail debug transcript on the not-working server (aka <code>trout</code>):</p>\n<pre><code>DEBUG: JavaMail version 1.4ea\nDEBUG: java.io.FileNotFoundException: /usr/lib/jvm/java-11-openjdk-amd64/lib/javamail.providers (No such file or directory)\nDEBUG: !anyLoaded\nDEBUG: not loading resource: /META-INF/javamail.providers\nDEBUG: successfully loaded resource: /META-INF/javamail.default.providers\nDEBUG: Tables of loaded providers\nDEBUG: Providers Listed By Class Name: {com.sun.mail.smtp.SMTPSSLTransport=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Sun Microsystems, Inc], com.sun.mail.smtp.SMTPTransport=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Sun Microsystems, Inc], com.sun.mail.imap.IMAPSSLStore=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Sun Microsystems, Inc], com.sun.mail.pop3.POP3SSLStore=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Sun Microsystems, Inc], com.sun.mail.imap.IMAPStore=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Sun Microsystems, Inc], com.sun.mail.pop3.POP3Store=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Sun Microsystems, Inc]}\nDEBUG: Providers Listed By Protocol: {imaps=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Sun Microsystems, Inc], imap=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Sun Microsystems, Inc], smtps=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Sun Microsystems, Inc], pop3=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Sun Microsystems, Inc], pop3s=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Sun Microsystems, Inc], smtp=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Sun Microsystems, Inc]}\nDEBUG: successfully loaded resource: /META-INF/javamail.default.address.map\nDEBUG: !anyLoaded\nDEBUG: not loading resource: /META-INF/javamail.address.map\nDEBUG: java.io.FileNotFoundException: /usr/lib/jvm/java-11-openjdk-amd64/lib/javamail.address.map (No such file or directory)\nDEBUG: getProvider() returning javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Sun Microsystems, Inc]\nDEBUG SMTP: useEhlo true, useAuth true\nDEBUG SMTP: useEhlo true, useAuth true\nDEBUG SMTP: trying to connect to host &quot;smtp.gmail.com&quot;, port 587, isSSL false\n220 smtp.gmail.com ESMTP x14-20020aa784ce000000b00593ce42db6bsm5252080pfn.59 - gsmtp\nDEBUG SMTP: connected to host &quot;smtp.gmail.com&quot;, port: 587\n\nEHLO trout\n250-smtp.gmail.com at your service, [45.33.45.98]\n250-SIZE 35882577\n250-8BITMIME\n250-STARTTLS\n250-ENHANCEDSTATUSCODES\n250-PIPELINING\n250-CHUNKING\n250 SMTPUTF8\nDEBUG SMTP: Found extension &quot;SIZE&quot;, arg &quot;35882577&quot;\nDEBUG SMTP: Found extension &quot;8BITMIME&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;STARTTLS&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;ENHANCEDSTATUSCODES&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;PIPELINING&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;CHUNKING&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;SMTPUTF8&quot;, arg &quot;&quot;\nSTARTTLS\n220 2.0.0 Ready to start TLS\nEHLO trout\n</code></pre>\n<p>The mail debug transcript on the working server (aka <code>swordfish</code>):</p>\n<pre><code>DEBUG: JavaMail version 1.4ea\nStore,Sun Microsystems, Inc], com.sun.mail.pop3.POP3SSLStore=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Sun Microsystems, Inc], com.sun.mail.imap.IMAPStore=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Sun Microsystems, Inc], com.sun.mail.pop3.POP3Store=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Sun Microsystems, Inc]}\n,smtps,com.sun.mail.smtp.SMTPSSLTransport,Sun Microsystems, Inc], pop3=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Sun Microsystems, Inc], pop3s=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Sun Microsystems, Inc], smtp=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Sun Microsystems, Inc]}\nDEBUG: successfully loaded resource: /META-INF/javamail.default.address.map\nDEBUG: !anyLoaded\nDEBUG SMTP: connected to host &quot;smtp.gmail.com&quot;, port: 587\n\nEHLO swordfish\n250-smtp.gmail.com at your service, [96.126.102.203]\n250-SIZE 35882577\n250-8BITMIME\n250-STARTTLS\n250-ENHANCEDSTATUSCODES\n250-PIPELINING\n250-CHUNKING\n250 SMTPUTF8\nDEBUG SMTP: Found extension &quot;SIZE&quot;, arg &quot;35882577&quot;\nDEBUG SMTP: Found extension &quot;8BITMIME&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;STARTTLS&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;ENHANCEDSTATUSCODES&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;PIPELINING&quot;, arg &quot;&quot;\n250-SIZE 35882577\n334 VXNlcm5hbWU6\naG9waXJvY2tldHNAZ21haWwuY29t\n334 UGFzc3dvcmQ6\n334 VXNlcm5hbWU6\naG9waXJvY2tldHNAZ21haWwuY29t\n334 UGFzc3dvcmQ6\ndG55d3ZzYW9zYmpsaXB4ZA==\n235 2.7.0 Accepted\nDEBUG SMTP: use8bit false\nMAIL FROM:&lt;adsfasdf&gt;\n250 2.1.0 OK k3-20020aa78203000000b0059261bd5bacsm5176497pfi.202 - gsmtp\nRCPT TO:&lt;xxxxxxxxxxx&gt;\n235 2.7.0 Accepted\nDEBUG SMTP: use8bit false\nMAIL FROM:&lt;adsfasdf&gt;\n250 2.1.0 OK k3-20020aa78203000000b0059261bd5bacsm5176497pfi.202 - gsmtp\nRCPT TO:&lt;xxxxxxxxxxx&gt;\n250 2.1.5 OK k3-20020aa78203000000b0059261bd5bacsm5176497pfi.202 - gsmtp\nDEBUG SMTP: Verified Addresses\nDEBUG SMTP: Verified Addresses\nDEBUG SMTP:   xxxxxxxxxx\nDATA\nTo: xxxxxxxxxxx\nMessage-ID: &lt;77534317.11676145791205.JavaMail.tomcat7@swordfish&gt;                                                              \nSubject: yyyyyyyyy Email -  asdfasdf\n354  Go ahead k3-20020aa78203000000b0059261bd5bacsm5176497pfi.202 - gsmtp\nFrom: asdfasdf &lt;adsfasdf&gt;\nTo: xxxxxxxxxx\nMessage-ID: &lt;77534317.11676145791205.JavaMail.tomcat7@swordfish&gt;\nSubject: yyyyyyyyyy Email -  asdfasdf\nMIME-Version: 1.0\n354  Go ahead k3-20020aa78203000000b0059261bd5bacsm5176497pfi.202 - gsmtp\nFrom: asdfasdf &lt;adsfasdf&gt;\nTo: xxxxxxxxxxxx\nMessage-ID: &lt;77534317.11676145791205.JavaMail.tomcat7@swordfish&gt;\nSubject: xxxxxxxxxx Email -  asdfasdf\nMIME-Version: 1.0\n354  Go ahead k3-20020aa78203000000b0059261bd5bacsm5176497pfi.202 - gsmtp\nFrom: asdfasdf &lt;adsfasdf&gt;\nTo: xxxxxxxxxxx\nMessage-ID: &lt;77534317.11676145791205.JavaMail.tomcat7@swordfish&gt;\nSubject: yyyyyyyyy Email -  asdfasdf\nMIME-Version: 1.0\n354  Go ahead k3-20020aa78203000000b0059261bd5bacsm5176497pfi.202 - gsmtp\nFrom: asdfasdf &lt;adsfasdf&gt;\nTo: xxxxxxxxxx\nMessage-ID: &lt;77534317.11676145791205.JavaMail.tomcat7@swordfish&gt;\nSubject: yyyyyyyy Email -  asdfasdf\nMIME-Version: 1.0\nContent-Type: text/plain; charset=us-ascii\nContent-Type: text/plain; charset=us-ascii\nFrom: asdfasdf\nEmail: adsfasdf\n\nasdf asfd asdf asdf\n.\n250 2.0.0 OK  1676145792 k3-20020aa78203000000b0059261bd5bacsm5176497pfi.202 - gsmtp                                          \nQUIT\n221 2.0.0 closing connection k3-20020aa78203000000b0059261bd5bacsm5176497pfi.202 - gsmtp     \n</code></pre>\n<p>The contact.jsp:</p>\n<pre><code>&lt;%@ page contentType=&quot;text/html&quot;%&gt;\n&lt;%@ page pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;%@ page import=&quot;java.util.*&quot; %&gt;\n&lt;%@ page import=&quot;java.sql.*&quot; %&gt;\n&lt;%@ page import=&quot;java.text.*&quot; %&gt;\n&lt;%@ page import=&quot;biz.phillipsmarketing.hopirockets.*&quot; %&gt;\n&lt;%@ page import=&quot;biz.phillipsmarketing.utils.*&quot; %&gt;\n&lt;%@ page import=&quot;javax.mail.*&quot; %&gt;\n&lt;%@ page import=&quot;javax.mail.internet.*&quot; %&gt;\n\n&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;\n   &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\n\n&lt;%\nString errors = &quot;&quot;;\nMimeMessage message = null;\nSession mailSession = null;\nString name = request.getParameter(&quot;require-name&quot;);\nString from = request.getParameter(&quot;require-email&quot;);\nString subject = request.getParameter(&quot;require-subject&quot;);\nString text = request.getParameter(&quot;require-message&quot;);\nString action = request.getParameter(&quot;action&quot;);\nString gRecaptchaResponse = request.getParameter(&quot;g-recaptcha-response&quot;);\n\nif (action != null &amp;&amp; action.equals(&quot;Send Message&quot;)) {\n    // Verify the recaptcha was successful\n    String valid_string = VerifyRecaptcha.verify(gRecaptchaResponse);\n\n    if (Boolean.parseBoolean(valid_string)) {\n\n        StringBuffer messageToSend = new StringBuffer();\n        messageToSend.append(&quot;From: &quot;).append(name).append(&quot;\\r\\n&quot;);\n        messageToSend.append(&quot;Email: &quot;).append(from).append(&quot;\\r\\n&quot;);\n        messageToSend.append(&quot;\\r\\n&quot;).append(text);\n\n    // Get system properties\n        Properties props = System.getProperties();\n\n    // Setup mail server\n        props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n        props.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\n        props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\n        props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n\n        props.put(&quot;mail.debug&quot;, &quot;true&quot;);\n\n        final String to = &quot;xxxxxxxxxxx&quot;;\n        final String username = &quot;yyyyyyyyyyy&quot;;\n        final String password = &quot;my secret app password from gmail, different on each server&quot;;\n\n        try {\n    // Get session\n            mailSession = Session.getInstance(props,\n              new javax.mail.Authenticator() {\n                protected PasswordAuthentication getPasswordAuthentication() {\n                    return new PasswordAuthentication(username, password);\n              }\n            });\n\n    // Define message\n            message = new MimeMessage(mailSession);\n            message.setFrom(new InternetAddress(from, name));\n            message.addRecipient(Message.RecipientType.TO, new InternetAddress(to));\n            message.setSubject(subject);\n            message.setText(messageToSend.toString());\n\n    // Send message\n            Transport.send(message);\n\n        } catch (Exception e) {\n            errors = e.getMessage();\n        } finally {\n            message = null;\n            mailSession = null;\n        }\n    }\n    else {\n        errors = valid_string;\n    }\n}\n%&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;link rel=&quot;stylesheet&quot; href=&quot;css/hopi.css&quot; type=&quot;text/css&quot;&gt;\n        &lt;meta http-equiv=&quot;Content-type&quot; content=&quot;text/html;charset=UTF-8&quot;&gt;\n        &lt;script src='https://www.google.com/recaptcha/api.js?hl=en'&gt;&lt;/script&gt;\n        &lt;title&gt;Contact Hopi Hawks NAR Section 636&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div id=&quot;header&quot;&gt;\n            &lt;%@ include file=&quot;header.jsp&quot; %&gt;\n        &lt;/div&gt;\n\n        &lt;div id=&quot;contentarea&quot; class=&quot;clearfix&quot;&gt;            &lt;div class=&quot;text&quot;&gt;\n                &lt;h1&gt;Contact Hopi Hawks NAR Section 636&lt;/h1&gt;\n                &lt;%\n                if (action == null || errors.length() &gt; 0) {\n    if (errors.length() &gt; 0) {\n                %&gt;\n                &lt;p&gt;&lt;font color=&quot;red&quot;&gt;&lt;%= errors %&gt;&lt;/font&gt;&lt;/p&gt;\n\n                &lt;%  }  else {\n                %&gt;\n                &lt;p&gt;While we do our best to answer all messages immediately, there are\n                occasions when it may take some time to respond, so please be patient.&lt;/p&gt;\n                &lt;% }  %&gt;\n                &lt;form action=&quot;contact.jsp&quot; method=&quot;post&quot;&gt;\n                    &lt;table cellpadding=&quot;2&quot; cellspacing=&quot;2&quot; border=&quot;0&quot; style=&quot;text-align: left; height: 516px; width: 600px;&quot; class=&quot;text&quot;&gt;\n                        &lt;tbody&gt;\n                            &lt;tr&gt;\n                                &lt;td style=&quot;width: 15%; vertical-align: middle;&quot;&gt;Your name:&lt;br&gt;\n                                &lt;/td&gt;\n                                &lt;td style=&quot;vertical-align: top;&quot;&gt;&lt;input size=&quot;30&quot; maxlength=&quot;40&quot; name=&quot;require-name&quot; tabindex=&quot;1&quot; value=&quot;&lt;%= (name == null ? &gt;\n                            &lt;/tr&gt;\n                            &lt;tr&gt;\n                                &lt;td style=&quot;vertical-align: middle; width: 30%;&quot;&gt;Your email address:&lt;br&gt;\n                                &lt;/td&gt;\n                                &lt;td style=&quot;vertical-align: top;&quot;&gt;&lt;input size=&quot;30&quot; maxlength=&quot;40&quot; name=&quot;require-email&quot; tabindex=&quot;2&quot; value=&quot;&lt;%= (from == null ?&gt;\n                            &lt;/tr&gt;\n                            &lt;tr&gt;\n                                &lt;td style=&quot;vertical-align: middle;&quot;&gt;Subject:&lt;br&gt;\n                                &lt;/td&gt;\n                                &lt;td style=&quot;vertical-align: top;&quot;&gt;&lt;input size=&quot;40&quot; maxlength=&quot;100&quot; name=&quot;require-subject&quot; tabindex=&quot;3&quot; value=&quot;&lt;%= (subject == &gt;\n                                &lt;/td&gt;\n                            &lt;/tr&gt;                            &lt;tr&gt;\n                                &lt;td rowspan=&quot;1&quot; colspan=&quot;2&quot;&gt;\n                                    &lt;!-- reCAPTCHA --&gt;\n                                    &lt;div class=&quot;g-recaptcha&quot; data-sitekey=&quot;6LdAVsAUAAAAAM6pjWmhL60YEiZMI1loMz-oF1s-&quot;&gt;&lt;/div&gt;\n                                &lt;/td&gt;\n                            &lt;/tr&gt;\n\n                            &lt;tr&gt;\n                                &lt;td rowspan=&quot;1&quot; colspan=&quot;2&quot;&gt;\n                                    &lt;center&gt;&lt;input type=&quot;submit&quot; name=&quot;action&quot; value=&quot;Send Message&quot; tabindex=&quot;5&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;n&gt;\n                                    &lt;input type=&quot;reset&quot; value=&quot;Reset&quot; tabindex=&quot;6&quot;&gt; &lt;/center&gt;\n                                &lt;/td&gt;\n                            &lt;/tr&gt;\n                            &lt;tr&gt;\n                                &lt;td style=&quot;text-align: center; vertical-align: top;&quot; rowspan=&quot;1&quot; colspan=&quot;2&quot;&gt;\n                                    &lt;span style=&quot;font-weight: bold;&quot;&gt;\n                                        Please wait for the confirmation screen after clicking &quot;Send Message&quot;.\n                                    &lt;/span&gt;&lt;br&gt;\n                                    &lt;span style=&quot;font-style: italic;&quot;&gt;\n                                        The server is a little slow, so it might take a few seconds.\n                                    &lt;/span&gt;&lt;br&gt;\n                                &lt;/td&gt;\n                            &lt;/tr&gt;\n                        &lt;/tbody&gt;\n                    &lt;/table&gt;\n                &lt;/form&gt;\n            &lt;% }  else {\n                %&gt;\n                Your message has been sent. Thank-you for contacting us.\n                &lt;p&gt;While we do our best to answer all messages immediately, there are\n                occasions when it may take some time to respond, so please be patient.&lt;/p&gt;\n                &lt;%\n                }\n                %&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div id=&quot;footer&quot;&gt;\n            &lt;%@ include file=&quot;footer.jspf&quot; %&gt;\n        &lt;/div&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>For some reason on the working server, <code>swordfish</code> does not send a <code>STARTTLS</code>, but the email goes through. And <code>trout</code> sends the <code>STARTTLS</code> and the email fails. The error message is <code>Can't send command to SMTP host</code></p>\n<p>Thanks for any suggestions (other than upgrade tomcat, upgrade javamail) are greatly appreciated!</p>\n"},{"tags":["java","mapping","mapstruct"],"comments":[{"owner":{"account_id":6412021,"reputation":1101,"user_id":4971476,"display_name":"Dave Ankin"},"score":0,"creation_date":1676256264,"post_id":75423029,"comment_id":133094607,"body_markdown":"seems like this was mentioned here without an explanation - https://github.com/mapstruct/mapstruct/issues/1893","body":"seems like this was mentioned here without an explanation - <a href=\"https://github.com/mapstruct/mapstruct/issues/1893\" rel=\"nofollow noreferrer\">github.com/mapstruct/mapstruct/issues/1893</a>"}],"owner":{"account_id":6412021,"reputation":1101,"user_id":4971476,"display_name":"Dave Ankin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676146387,"creation_date":1676146387,"question_id":75423029,"body_markdown":"I have a class which has a field of type java.util.Map - when I write an @Mapper for it, then it generates code like &quot;new LinkedHashMap&lt;&gt; () &quot; in the generated mapper. I am trying to make it use regular HashMap as order doesn&#39;t matter in this case.\r\n\r\ne.g. how do i make it use a hash map here:\r\n\r\n```java\r\n@lombok.Data class Entity { String name; java.util.Map&lt;String, String&gt; props; }\r\n@lombok.Data class Dto    { String name; java.util.Map&lt;String, String&gt; props; }\r\n\r\n@org.mapstruct.Mapper\r\npublic interface MyMapper { Entity toEntity(Dto dto); }\r\n\r\npublic class MyMapperImpl implements MyMapper {\r\n  public Entity toEntity(Dto dto) {\r\n    if ( dto == null ) {\r\n      return null;\r\n    }\r\n\r\n    Entity entity = new Entity();\r\n\r\n    Map&lt;String, String&gt; map = dto.getProps();\r\n    if ( map != null ) {\r\n      entity.setProps( new java.util.LinkedHashMap&lt;String, String&gt;( map ) );\r\n    }\r\n    entity.setName( props.getName() );\r\n\r\n    return entity;\r\n  }\r\n}\r\n```\r\n\r\nI tried to use [ObjectFactory](https://mapstruct.org/documentation/stable/api/org/mapstruct/ObjectFactory.html) like so:\r\n\r\n```\r\n@org.mapstruct.Mapper\r\npublic interface MyMapper {\r\n  Entity toEntity(Dto dto);\r\n\r\n  @org.mapstruct.ObjectFactory\r\n  default Map&lt;String, String&gt; map() { return new java.util.HashMap&lt;String, String&gt;(); }\r\n}\r\n```\r\n\r\nand i expected that my method would be called in the generated code, but it didn&#39;t happen.","title":"How can I specify the type of collection for Mapstruct to use when copying collection fields?","body":"<p>I have a class which has a field of type java.util.Map - when I write an @Mapper for it, then it generates code like &quot;new LinkedHashMap&lt;&gt; () &quot; in the generated mapper. I am trying to make it use regular HashMap as order doesn't matter in this case.</p>\n<p>e.g. how do i make it use a hash map here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@lombok.Data class Entity { String name; java.util.Map&lt;String, String&gt; props; }\n@lombok.Data class Dto    { String name; java.util.Map&lt;String, String&gt; props; }\n\n@org.mapstruct.Mapper\npublic interface MyMapper { Entity toEntity(Dto dto); }\n\npublic class MyMapperImpl implements MyMapper {\n  public Entity toEntity(Dto dto) {\n    if ( dto == null ) {\n      return null;\n    }\n\n    Entity entity = new Entity();\n\n    Map&lt;String, String&gt; map = dto.getProps();\n    if ( map != null ) {\n      entity.setProps( new java.util.LinkedHashMap&lt;String, String&gt;( map ) );\n    }\n    entity.setName( props.getName() );\n\n    return entity;\n  }\n}\n</code></pre>\n<p>I tried to use <a href=\"https://mapstruct.org/documentation/stable/api/org/mapstruct/ObjectFactory.html\" rel=\"nofollow noreferrer\">ObjectFactory</a> like so:</p>\n<pre><code>@org.mapstruct.Mapper\npublic interface MyMapper {\n  Entity toEntity(Dto dto);\n\n  @org.mapstruct.ObjectFactory\n  default Map&lt;String, String&gt; map() { return new java.util.HashMap&lt;String, String&gt;(); }\n}\n</code></pre>\n<p>and i expected that my method would be called in the generated code, but it didn't happen.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"score":0,"creation_date":1676197212,"post_id":75423028,"comment_id":133085605,"body_markdown":"what is your gradle versions..??","body":"what is your gradle versions..??"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676198940,"post_id":75423028,"comment_id":133085862,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":27762803,"reputation":1,"user_id":21194873,"display_name":"zero"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676146350,"creation_date":1676146350,"question_id":75423028,"body_markdown":"Could not find com.android.tools.build:gradle:43.1.2.\r\nSearched in the following locations:\r\n  - https://dl.google.com/dl/android/maven2/com/android/tools/build/gradle/43.1.2/gradle-43.1.2.pom\r\n  - https://jcenter.bintray.com/com/android/tools/build/gradle/43.1.2/gradle-43.1.2.pom\r\n  - https://repo.maven.apache.org/maven2/com/android/tools/build/gradle/43.1.2/gradle-43.1.2.pom\r\n  - https://jitpack.io/com/android/tools/build/gradle/43.1.2/gradle-43.1.2.pom\r\nRequired by:\r\n    project :\r\nAdd google Maven repository and sync project\r\nOpen File\r\n\r\n\r\n\r\n\r\nUnknown host &#39;No such host is known (jitpack.i3o)&#39;. You may need to adjust the proxy settings in Gradle.\r\nEnable Gradle &#39;offline mode&#39; and sync project\r\nLearn about configuring HTTP proxies in Gradle\r\n\r\n\r\n\r\n I can&#39;t run my app.\r\n\r\n[enter image description here](https://i.stack.imgur.com/cLNjR.png)\r\n\r\n","title":"android studio Gradle issues sync","body":"<p>Could not find com.android.tools.build:gradle:43.1.2.\nSearched in the following locations:</p>\n<ul>\n<li><a href=\"https://dl.google.com/dl/android/maven2/com/android/tools/build/gradle/43.1.2/gradle-43.1.2.pom\" rel=\"nofollow noreferrer\">https://dl.google.com/dl/android/maven2/com/android/tools/build/gradle/43.1.2/gradle-43.1.2.pom</a></li>\n<li><a href=\"https://jcenter.bintray.com/com/android/tools/build/gradle/43.1.2/gradle-43.1.2.pom\" rel=\"nofollow noreferrer\">https://jcenter.bintray.com/com/android/tools/build/gradle/43.1.2/gradle-43.1.2.pom</a></li>\n<li><a href=\"https://repo.maven.apache.org/maven2/com/android/tools/build/gradle/43.1.2/gradle-43.1.2.pom\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2/com/android/tools/build/gradle/43.1.2/gradle-43.1.2.pom</a></li>\n<li><a href=\"https://jitpack.io/com/android/tools/build/gradle/43.1.2/gradle-43.1.2.pom\" rel=\"nofollow noreferrer\">https://jitpack.io/com/android/tools/build/gradle/43.1.2/gradle-43.1.2.pom</a>\nRequired by:\nproject :\nAdd google Maven repository and sync project\nOpen File</li>\n</ul>\n<p>Unknown host 'No such host is known (jitpack.i3o)'. You may need to adjust the proxy settings in Gradle.\nEnable Gradle 'offline mode' and sync project\nLearn about configuring HTTP proxies in Gradle</p>\n<p>I can't run my app.</p>\n<p><a href=\"https://i.stack.imgur.com/cLNjR.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","design-patterns"],"answers":[{"tags":[],"owner":{"account_id":7440141,"reputation":886,"user_id":5658152,"display_name":"Krzysztof Kaszkowiak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1524404584,"creation_date":1524404584,"answer_id":49966587,"question_id":49966414,"body_markdown":"Create a `UserFactory` class, then add a method to it, like `User getUser(String name)`. \r\n\r\nAlso, make `User`&#39;s contructor package-private to make sure that only `UserFactory` (belonging to the same package) will be able to instantiate new `User` objects.\r\n\r\nFor further info on factory pattern, please refer to https://en.wikipedia.org/wiki/Factory_method_pattern.\r\n","title":"Singleton with multi instance management","body":"<p>Create a <code>UserFactory</code> class, then add a method to it, like <code>User getUser(String name)</code>. </p>\n\n<p>Also, make <code>User</code>'s contructor package-private to make sure that only <code>UserFactory</code> (belonging to the same package) will be able to instantiate new <code>User</code> objects.</p>\n\n<p>For further info on factory pattern, please refer to <a href=\"https://en.wikipedia.org/wiki/Factory_method_pattern\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Factory_method_pattern</a>.</p>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1524404807,"creation_date":1524404807,"answer_id":49966616,"question_id":49966414,"body_markdown":"What you are looking for is the factory pattern.   \r\nLet the factory cache the created instances and return them as they exist.  \r\n\r\n\r\nYou could implement it in multiple ways : static method, singleton pattern : enum class or classical singleton or still dependency injection.     \r\nNote that the implementation should also consider to synchronize  the access to the object that caches the users if the factory is accessed concurrently.  \r\n \r\nHere is an example with the enum way and thread safe.   \r\n\r\n**Interface implemented by the enum (not mandatory but clearer and more extensible) :**\r\n\r\n    public interface IUserFactory {\r\n    \r\n        User getUser(String user);\r\n    \r\n    }\r\n\r\n**Enum factory :**\r\n\r\n    public enum UserFactory implements IUserFactory {\r\n        INSTANCE;\r\n    \r\n        private Map&lt;String, User&gt; map = new ConcurrentHashMap&lt;&gt;();\r\n    \r\n        @Override\r\n        public User getUser(String username) {\r\n    \r\n            User user = map.get(username);\r\n            if (user != null) {\r\n                return user;\r\n            }\r\n            synchronized (INSTANCE) {\r\n                final User user = new User(username);\r\n                map.put(username, user);\r\n                return user;\r\n            }\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n","title":"Singleton with multi instance management","body":"<p>What you are looking for is the factory pattern.<br>\nLet the factory cache the created instances and return them as they exist.  </p>\n\n<p>You could implement it in multiple ways : static method, singleton pattern : enum class or classical singleton or still dependency injection.<br>\nNote that the implementation should also consider to synchronize  the access to the object that caches the users if the factory is accessed concurrently.  </p>\n\n<p>Here is an example with the enum way and thread safe.   </p>\n\n<p><strong>Interface implemented by the enum (not mandatory but clearer and more extensible) :</strong></p>\n\n<pre><code>public interface IUserFactory {\n\n    User getUser(String user);\n\n}\n</code></pre>\n\n<p><strong>Enum factory :</strong></p>\n\n<pre><code>public enum UserFactory implements IUserFactory {\n    INSTANCE;\n\n    private Map&lt;String, User&gt; map = new ConcurrentHashMap&lt;&gt;();\n\n    @Override\n    public User getUser(String username) {\n\n        User user = map.get(username);\n        if (user != null) {\n            return user;\n        }\n        synchronized (INSTANCE) {\n            final User user = new User(username);\n            map.put(username, user);\n            return user;\n        }\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":10590276,"reputation":29,"user_id":7801108,"display_name":"JoeJoe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":49966616,"answer_count":2,"score":1,"last_activity_date":1676144726,"creation_date":1524403632,"question_id":49966414,"body_markdown":"I&#39;m trying to develop something with let&#39;s say:  \r\n\r\nA class : User  \r\n\r\nSeveral instances of User : &quot;john&quot;, &quot;joe&quot;, ...  \r\n\r\nI would like that each name is instanced only one time, so if the user tries to create an User which name already exists, it returns the existing user instance.   \r\n\r\nWith the singleton, I can only make one instance.  \r\nHow can I do that?","title":"Singleton with multi instance management","body":"<p>I'm trying to develop something with let's say:</p>\n<p>A class : User</p>\n<p>Several instances of User : &quot;john&quot;, &quot;joe&quot;, ...</p>\n<p>I would like that each name is instanced only one time, so if the user tries to create an User which name already exists, it returns the existing user instance.</p>\n<p>With the singleton, I can only make one instance.<br />\nHow can I do that?</p>\n"},{"tags":["java","c","primitive-types"],"comments":[{"owner":{"account_id":4865492,"reputation":45981,"user_id":3923896,"accept_rate":69,"display_name":"Steve Summit"},"score":3,"creation_date":1675445384,"post_id":75339138,"comment_id":132937789,"body_markdown":"I was about to say, &quot;C has a nice, small list of basic types just like Java&quot;, but on reflection, [that Wikipedia article](https://en.wikipedia.org/wiki/C_data_types#Main_types), with all its complexity, looks pretty accurate.  Note that, in practice, many of the types are basically synonyms for each other.  For example, on the vast majority of conventional machines, it will be found that type `int` is identical to either type `int16_t` or `int32_t`, and type `unsigned int` is identical to `uint16_t` or `uint32_t`.","body":"I was about to say, &quot;C has a nice, small list of basic types just like Java&quot;, but on reflection, <a href=\"https://en.wikipedia.org/wiki/C_data_types#Main_types\" rel=\"nofollow noreferrer\">that Wikipedia article</a>, with all its complexity, looks pretty accurate.  Note that, in practice, many of the types are basically synonyms for each other.  For example, on the vast majority of conventional machines, it will be found that type <code>int</code> is identical to either type <code>int16_t</code> or <code>int32_t</code>, and type <code>unsigned int</code> is identical to <code>uint16_t</code> or <code>uint32_t</code>."},{"owner":{"display_name":"user18924622"},"score":0,"creation_date":1675445466,"post_id":75339138,"comment_id":132937807,"body_markdown":"What if we remove the unsigned and signed parts of that list ... what are we left with?","body":"What if we remove the unsigned and signed parts of that list ... what are we left with?"},{"owner":{"account_id":4127333,"reputation":34381,"user_id":3386109,"display_name":"user3386109"},"score":2,"creation_date":1675445506,"post_id":75339138,"comment_id":132937816,"body_markdown":"You&#39;re left with an incomplete list of types.","body":"You&#39;re left with an incomplete list of types."},{"owner":{"account_id":4865492,"reputation":45981,"user_id":3923896,"accept_rate":69,"display_name":"Steve Summit"},"score":0,"creation_date":1675445580,"post_id":75339138,"comment_id":132937839,"body_markdown":"`int` and `unsigned int` are definitely different types.  There are simplifications you might want to make, but removing the signedness distinction certainly isn&#39;t one of them!","body":"<code>int</code> and <code>unsigned int</code> are definitely different types.  There are simplifications you might want to make, but removing the signedness distinction certainly isn&#39;t one of them!"},{"owner":{"display_name":"user18924622"},"score":3,"creation_date":1675445618,"post_id":75339138,"comment_id":132937857,"body_markdown":"If we remove, we have - `char, short, int, long, float, double` - as the main types which can be further broken down into more types.  Interestingly Java&#39;s 8 types contain all 6 of these but adds ... `boolean and byte`.","body":"If we remove, we have - <code>char, short, int, long, float, double</code> - as the main types which can be further broken down into more types.  Interestingly Java&#39;s 8 types contain all 6 of these but adds ... <code>boolean and byte</code>."},{"owner":{"account_id":5321025,"reputation":17886,"user_id":4253229,"accept_rate":83,"display_name":"Eugene Sh."},"score":1,"creation_date":1675445651,"post_id":75339138,"comment_id":132937867,"body_markdown":"I am curious, what difference would the name mean? Why does it matter, &quot;main&quot;, &quot;basic&quot; or &quot;primitive&quot; word is used?","body":"I am curious, what difference would the name mean? Why does it matter, &quot;main&quot;, &quot;basic&quot; or &quot;primitive&quot; word is used?"},{"owner":{"account_id":4865492,"reputation":45981,"user_id":3923896,"accept_rate":69,"display_name":"Steve Summit"},"score":0,"creation_date":1675445656,"post_id":75339138,"comment_id":132937870,"body_markdown":"Do note that, as the table in the Wikipedia article, saying `long` or `long int` is just two ways of writing the same type.  Same with `unsigned` and `unsigned int`, and `unsigned long` and `unsigned long int`.","body":"Do note that, as the table in the Wikipedia article, saying <code>long</code> or <code>long int</code> is just two ways of writing the same type.  Same with <code>unsigned</code> and <code>unsigned int</code>, and <code>unsigned long</code> and <code>unsigned long int</code>."},{"owner":{"account_id":4865492,"reputation":45981,"user_id":3923896,"accept_rate":69,"display_name":"Steve Summit"},"score":0,"creation_date":1675445761,"post_id":75339138,"comment_id":132937893,"body_markdown":"There are at least 5 sizes of integers: `char`, `short`, `int`, `long`, and `long long`.  (They won&#39;t typically all have different sizes, and some implementations may have even more).  There are at least three sizes of floating-point types: `float`, `double`, and `long double`, although again, there may be some overlap, i.e. `long double` may be the same as `double` on a given platform.","body":"There are at least 5 sizes of integers: <code>char</code>, <code>short</code>, <code>int</code>, <code>long</code>, and <code>long long</code>.  (They won&#39;t typically all have different sizes, and some implementations may have even more).  There are at least three sizes of floating-point types: <code>float</code>, <code>double</code>, and <code>long double</code>, although again, there may be some overlap, i.e. <code>long double</code> may be the same as <code>double</code> on a given platform."},{"owner":{"account_id":4865492,"reputation":45981,"user_id":3923896,"accept_rate":69,"display_name":"Steve Summit"},"score":0,"creation_date":1675445939,"post_id":75339138,"comment_id":132937947,"body_markdown":"But then there start being wrinkles: `char` is weird because it might be signed or unsigned, so some say that there are *three* fundamental character types: `char`, `signed char`, and `unsigned char` (with one pair or the other being identical on any given platform).  And then there&#39;s `bool`.  And then there&#39;s `intmax_t` and `intptr_t`.  And then there&#39;s `size_t` and `ptrdiff_t`.  And the list goes on...  (Addendum: And then there&#39;s `wchar_t`...)","body":"But then there start being wrinkles: <code>char</code> is weird because it might be signed or unsigned, so some say that there are <i>three</i> fundamental character types: <code>char</code>, <code>signed char</code>, and <code>unsigned char</code> (with one pair or the other being identical on any given platform).  And then there&#39;s <code>bool</code>.  And then there&#39;s <code>intmax_t</code> and <code>intptr_t</code>.  And then there&#39;s <code>size_t</code> and <code>ptrdiff_t</code>.  And the list goes on...  (Addendum: And then there&#39;s <code>wchar_t</code>...)"},{"owner":{"account_id":4127333,"reputation":34381,"user_id":3386109,"display_name":"user3386109"},"score":1,"creation_date":1675446040,"post_id":75339138,"comment_id":132937982,"body_markdown":"[C added a boolean type in C99.](https://en.wikipedia.org/wiki/C_data_types#Boolean_type). And [Java&#39;s byte type](https://stackoverflow.com/questions/11239241/byte-type-is-weird) is equivalent to a `signed char` in C.","body":"<a href=\"https://en.wikipedia.org/wiki/C_data_types#Boolean_type\" rel=\"nofollow noreferrer\">C added a boolean type in C99.</a>. And <a href=\"https://stackoverflow.com/questions/11239241/byte-type-is-weird\">Java&#39;s byte type</a> is equivalent to a <code>signed char</code> in C."},{"owner":{"account_id":315531,"reputation":2078,"user_id":631266,"display_name":"Avi Berger"},"score":1,"creation_date":1675447250,"post_id":75339138,"comment_id":132938330,"body_markdown":"&quot;primitive types&quot; isn&#39;t C terminology. In Java, it provides a distinction to reference types. Flipping the question over is probably more meaningful/useful - C does not have Java like reference types. [Looking at this list of Java reference type characteristics](https://www.w3schools.com/java/java_data_types_non-prim.asp) _from a C perspective,_ I&#39;d tend to respond with things like: this doesn&#39;t exist in the language, that&#39;s not quite the way things work, and that doesn&#39;t really matter. Whatever the terminology, there are drastic differences due to not having Java-esque reference types.","body":"&quot;primitive types&quot; isn&#39;t C terminology. In Java, it provides a distinction to reference types. Flipping the question over is probably more meaningful/useful - C does not have Java like reference types. <a href=\"https://www.w3schools.com/java/java_data_types_non-prim.asp\" rel=\"nofollow noreferrer\">Looking at this list of Java reference type characteristics</a> <i>from a C perspective,</i> I&#39;d tend to respond with things like: this doesn&#39;t exist in the language, that&#39;s not quite the way things work, and that doesn&#39;t really matter. Whatever the terminology, there are drastic differences due to not having Java-esque reference types."},{"owner":{"account_id":4865492,"reputation":45981,"user_id":3923896,"accept_rate":69,"display_name":"Steve Summit"},"score":0,"creation_date":1675447645,"post_id":75339138,"comment_id":132938450,"body_markdown":"I suspect that, if you looked &quot;under the hood&quot; at the source code of any C translator (compiler or interpreter), you would find the list of &quot;basic types&quot; you&#39;re looking for.  In the part of the parser responsible for parsing type names like &quot;`long int`&quot; and &quot;`unsigned char`&quot;, you&#39;d find all sorts of rather intricate mappings, but with a decently-small set of &quot;basic types&quot; falling out at the end.","body":"I suspect that, if you looked &quot;under the hood&quot; at the source code of any C translator (compiler or interpreter), you would find the list of &quot;basic types&quot; you&#39;re looking for.  In the part of the parser responsible for parsing type names like &quot;<code>long int</code>&quot; and &quot;<code>unsigned char</code>&quot;, you&#39;d find all sorts of rather intricate mappings, but with a decently-small set of &quot;basic types&quot; falling out at the end."},{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":0,"creation_date":1675453646,"post_id":75339138,"comment_id":132939975,"body_markdown":"@SteveSummit *some say that there are three fundamental character types*  And that &quot;some&quot; are correct, because that &quot;some&quot; includes [the C standard](https://port70.net/~nsz/c/c11/n1570.html#6.2.5p15):  &quot;The three types char, signed char, and unsigned char are collectively called the character types.&quot;","body":"@SteveSummit <i>some say that there are three fundamental character types</i>  And that &quot;some&quot; are correct, because that &quot;some&quot; includes <a href=\"https://port70.net/~nsz/c/c11/n1570.html#6.2.5p15\" rel=\"nofollow noreferrer\">the C standard</a>:  &quot;The three types char, signed char, and unsigned char are collectively called the character types.&quot;"}],"answers":[{"tags":[],"owner":{"account_id":4342327,"reputation":145474,"user_id":3545273,"accept_rate":100,"display_name":"Serge Ballesta"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1675445959,"creation_date":1675445959,"answer_id":75339250,"question_id":75339138,"body_markdown":"The answer is no, and for 2 reasons.\r\n\r\n1. The notion of primitive types in Java exists by opposition to object types. This has no sense in C which is not an object language.\r\n1. C intends to be as efficient as possible on any architecture, from 16 or even 8 bits microcontrollers to 64 bits platforms. For that reason the `int` type is generally chosen as the *natural* type for the architecture provided it contains at least 16 bits. On the other hand, Jave targets maximum portability and fixes the size of all its types.\r\n\r\nSo even if the list on Wikipedia looks large, it is (unfortunately...) accurate.","title":"Does C have a concept of primitive types and if so what are they?","body":"<p>The answer is no, and for 2 reasons.</p>\n<ol>\n<li>The notion of primitive types in Java exists by opposition to object types. This has no sense in C which is not an object language.</li>\n<li>C intends to be as efficient as possible on any architecture, from 16 or even 8 bits microcontrollers to 64 bits platforms. For that reason the <code>int</code> type is generally chosen as the <em>natural</em> type for the architecture provided it contains at least 16 bits. On the other hand, Jave targets maximum portability and fixes the size of all its types.</li>\n</ol>\n<p>So even if the list on Wikipedia looks large, it is (unfortunately...) accurate.</p>\n"},{"tags":[],"owner":{"account_id":4865492,"reputation":45981,"user_id":3923896,"accept_rate":69,"display_name":"Steve Summit"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675447179,"creation_date":1675446417,"answer_id":75339331,"question_id":75339138,"body_markdown":"I would say that C *does* have the concept of a &quot;primitive&quot; or &quot;basic&quot; type, but as we&#39;ve seen (in the question, the comments, and the [linked Wikipedia article](https://en.wikipedia.org/wiki/C_data_types#Main_types)) the list of these types is rather long, not nearly as succinct as you might think, or as it was back in K&amp;R days.\r\n\r\nMy own definition of a primitive type in C is, probably unsatisfyingly, &quot;anything you can build derived types like array-of, pointer-to, function-returning, and struct-containing out of&quot;.\r\n\r\nI&#39;m pretty sure the grammar in the C Standard has productions for basic types and derived types, but I don&#39;t have my copy handy to check.\r\n\r\nThe current list of C types looks so long and complicated because it contains, for software engineering and portability reasons, a large number of &quot;aliases&quot;, each of which end up mapping to some other type in an implementation-dependent way.  For example, `int32_t` is typically the same as either `int` or `long int`, and `size_t` is typically the same as either `unsigned int` or `unsigned long int`.\r\n\r\nIf you want to build a concise list, I think you start with:\r\n* `void`\r\n* `bool`\r\n* `int` of quite a few sizes (including `char` and `wchar_t`)\r\n* `unsigned int` of quite a few sizes\r\n* floating-point of several sizes\r\n\r\nAnd then you&#39;ve got a set of &quot;symbolic&quot; types like `size_t` and `ptrdiff_t` and `intptr_t`, which typically map to various of the `int` or `unsigned int` types in an implementation-defined way.\r\n\r\nAnd then you&#39;ve got a set of exact-size types like `int8_t` and `int16_t` and `uint32_t`, and they&#39;re all mapped in with the other integer types in an implementation-defined way.\r\n\r\nYou also have to be careful when thinking about the character types.  Plain `char` might be either signed or unsigned, so you can think of there actually being *three* fundamental character types: `char`, `signed char`, and `unsigned char` (with either `char` and `signed char`, or `char` and `unsigned char`, being identical on any given platform).  There&#39;s also a type `wchar_t` with its own implementation-defined mapping.\r\n","title":"Does C have a concept of primitive types and if so what are they?","body":"<p>I would say that C <em>does</em> have the concept of a &quot;primitive&quot; or &quot;basic&quot; type, but as we've seen (in the question, the comments, and the <a href=\"https://en.wikipedia.org/wiki/C_data_types#Main_types\" rel=\"nofollow noreferrer\">linked Wikipedia article</a>) the list of these types is rather long, not nearly as succinct as you might think, or as it was back in K&amp;R days.</p>\n<p>My own definition of a primitive type in C is, probably unsatisfyingly, &quot;anything you can build derived types like array-of, pointer-to, function-returning, and struct-containing out of&quot;.</p>\n<p>I'm pretty sure the grammar in the C Standard has productions for basic types and derived types, but I don't have my copy handy to check.</p>\n<p>The current list of C types looks so long and complicated because it contains, for software engineering and portability reasons, a large number of &quot;aliases&quot;, each of which end up mapping to some other type in an implementation-dependent way.  For example, <code>int32_t</code> is typically the same as either <code>int</code> or <code>long int</code>, and <code>size_t</code> is typically the same as either <code>unsigned int</code> or <code>unsigned long int</code>.</p>\n<p>If you want to build a concise list, I think you start with:</p>\n<ul>\n<li><code>void</code></li>\n<li><code>bool</code></li>\n<li><code>int</code> of quite a few sizes (including <code>char</code> and <code>wchar_t</code>)</li>\n<li><code>unsigned int</code> of quite a few sizes</li>\n<li>floating-point of several sizes</li>\n</ul>\n<p>And then you've got a set of &quot;symbolic&quot; types like <code>size_t</code> and <code>ptrdiff_t</code> and <code>intptr_t</code>, which typically map to various of the <code>int</code> or <code>unsigned int</code> types in an implementation-defined way.</p>\n<p>And then you've got a set of exact-size types like <code>int8_t</code> and <code>int16_t</code> and <code>uint32_t</code>, and they're all mapped in with the other integer types in an implementation-defined way.</p>\n<p>You also have to be careful when thinking about the character types.  Plain <code>char</code> might be either signed or unsigned, so you can think of there actually being <em>three</em> fundamental character types: <code>char</code>, <code>signed char</code>, and <code>unsigned char</code> (with either <code>char</code> and <code>signed char</code>, or <code>char</code> and <code>unsigned char</code>, being identical on any given platform).  There's also a type <code>wchar_t</code> with its own implementation-defined mapping.</p>\n"},{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1675457320,"creation_date":1675455688,"answer_id":75340681,"question_id":75339138,"body_markdown":"&gt; C appears to have many, many types, but what if any are considered primitive types.\r\n\r\nThe Java term &quot;primitive type&quot; distinguishes from reference types.  C has no direct analog of Java&#39;s reference types, so no need to draw such a distinction.\r\n\r\nC does, however, define several categories of types, and among those, the *basic types* are a reasonably good analogue of Java&#39;s primitive types.  This category comprises `char`, the signed and unsigned integer types, and the floating[-point] types.  It is ultimately from these, the enumerated types, and type `void` that all other types are *derived*, including array types, structure and union types, pointer types, atomic types, and function types.\r\n\r\nThe basic types can include implementation-defined types, and therefore cannot be exhaustively listed, but those defined by the language spec are:\r\n\r\n`char`\r\n\r\nThe *standard signed integer types*&lt;br/&gt;\r\n`signed char`, `short int`, `int`, `long int`, `long long int`\r\n\r\nThe *standard unsigned integer types*&lt;br/&gt;\r\n`_Bool`, `unsigned char`, `unsigned short int`, `unsigned int`, `unsigned long int`, `unsigned long long int`\r\n\r\nThe *real floating types*&lt;br/&gt;\r\n`float`, `double`, `long double`\r\n\r\nThe *complex types*&lt;br/&gt;\r\n`float _Complex`, `double _Complex`, `long double _Complex`\r\n\r\nThis is covered in section 6.2.5 of the language spec.\r\n\r\nIt should be noted that whereas Java specifies the the size and representation of its primitive types, C leaves some of those details of its basic types to implementations, placing constraints on their ranges of representable values and other properties without specifying exact details.\r\n\r\n&gt; C appears to have many, many types\r\n\r\nC has an unbounded number of types, as it provides for types to be derived from other types.  The same applies to Java.  Ignoring implementation-defined extension types, C has more than twice as many basic types as Java has primitive types, but that&#39;s still manageable, especially given the way they are organized.\r\n\r\nHowever, C also has a mechanism for defining type *aliases*, and a whole family of standard type aliases, and these can make it appear that there are more types than really there are.","title":"Does C have a concept of primitive types and if so what are they?","body":"<blockquote>\n<p>C appears to have many, many types, but what if any are considered primitive types.</p>\n</blockquote>\n<p>The Java term &quot;primitive type&quot; distinguishes from reference types.  C has no direct analog of Java's reference types, so no need to draw such a distinction.</p>\n<p>C does, however, define several categories of types, and among those, the <em>basic types</em> are a reasonably good analogue of Java's primitive types.  This category comprises <code>char</code>, the signed and unsigned integer types, and the floating[-point] types.  It is ultimately from these, the enumerated types, and type <code>void</code> that all other types are <em>derived</em>, including array types, structure and union types, pointer types, atomic types, and function types.</p>\n<p>The basic types can include implementation-defined types, and therefore cannot be exhaustively listed, but those defined by the language spec are:</p>\n<p><code>char</code></p>\n<p>The <em>standard signed integer types</em><br/>\n<code>signed char</code>, <code>short int</code>, <code>int</code>, <code>long int</code>, <code>long long int</code></p>\n<p>The <em>standard unsigned integer types</em><br/>\n<code>_Bool</code>, <code>unsigned char</code>, <code>unsigned short int</code>, <code>unsigned int</code>, <code>unsigned long int</code>, <code>unsigned long long int</code></p>\n<p>The <em>real floating types</em><br/>\n<code>float</code>, <code>double</code>, <code>long double</code></p>\n<p>The <em>complex types</em><br/>\n<code>float _Complex</code>, <code>double _Complex</code>, <code>long double _Complex</code></p>\n<p>This is covered in section 6.2.5 of the language spec.</p>\n<p>It should be noted that whereas Java specifies the the size and representation of its primitive types, C leaves some of those details of its basic types to implementations, placing constraints on their ranges of representable values and other properties without specifying exact details.</p>\n<blockquote>\n<p>C appears to have many, many types</p>\n</blockquote>\n<p>C has an unbounded number of types, as it provides for types to be derived from other types.  The same applies to Java.  Ignoring implementation-defined extension types, C has more than twice as many basic types as Java has primitive types, but that's still manageable, especially given the way they are organized.</p>\n<p>However, C also has a mechanism for defining type <em>aliases</em>, and a whole family of standard type aliases, and these can make it appear that there are more types than really there are.</p>\n"},{"tags":[],"owner":{"account_id":27300715,"reputation":34,"user_id":20817550,"display_name":"chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676144609,"creation_date":1676144609,"answer_id":75422865,"question_id":75339138,"body_markdown":"Unfortunately, there is not a cohesive set of vocabulary to extend across multiple languages.\r\n\r\nJava&#39;s primitive types distinguish them from object types or reference types.\r\n\r\nWhile C has many many types, the closest, to Java&#39;s primitive types are the [main types][1].\r\n\r\nThe languages do different things and hence have different groupings for their types and the types are different themselves.\r\n\r\nAn int in C might be 2 bytes for an embedded system, but in Java it is always 4 bytes.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/C_data_types#Main_types","title":"Does C have a concept of primitive types and if so what are they?","body":"<p>Unfortunately, there is not a cohesive set of vocabulary to extend across multiple languages.</p>\n<p>Java's primitive types distinguish them from object types or reference types.</p>\n<p>While C has many many types, the closest, to Java's primitive types are the <a href=\"https://en.wikipedia.org/wiki/C_data_types#Main_types\" rel=\"nofollow noreferrer\">main types</a>.</p>\n<p>The languages do different things and hence have different groupings for their types and the types are different themselves.</p>\n<p>An int in C might be 2 bytes for an embedded system, but in Java it is always 4 bytes.</p>\n"}],"owner":{"display_name":"user18924622"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":354,"favorite_count":0,"down_vote_count":3,"up_vote_count":4,"accepted_answer_id":75422865,"answer_count":4,"score":1,"last_activity_date":1676144609,"creation_date":1675445271,"question_id":75339138,"body_markdown":"For example java has 8 primitive types as documented by [Oracle][1].\r\n\r\n&gt; boolean, byte, short, char, int, long, float, double\r\n\r\nC appears to have many, many types, but what if any are considered primitive types.  Please list them for the answer.\r\n\r\nI tried to find a solid reference similar to Oracle but for C, but could not.\r\n\r\n[Wikipedia][2] maintains an obtuse list of &quot;main types&quot;, but I&#39;m not sure if they are relevant.\r\n\r\n[W3Schools][3] simplifies this and lists &quot;basic types&quot;, but I&#39;m also not sure if this is relevant.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\r\n  [2]: https://en.wikipedia.org/wiki/C_data_types#Main_types\r\n  [3]: https://www.w3schools.com/c/c_data_types.php","title":"Does C have a concept of primitive types and if so what are they?","body":"<p>For example java has 8 primitive types as documented by <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">Oracle</a>.</p>\n<blockquote>\n<p>boolean, byte, short, char, int, long, float, double</p>\n</blockquote>\n<p>C appears to have many, many types, but what if any are considered primitive types.  Please list them for the answer.</p>\n<p>I tried to find a solid reference similar to Oracle but for C, but could not.</p>\n<p><a href=\"https://en.wikipedia.org/wiki/C_data_types#Main_types\" rel=\"nofollow noreferrer\">Wikipedia</a> maintains an obtuse list of &quot;main types&quot;, but I'm not sure if they are relevant.</p>\n<p><a href=\"https://www.w3schools.com/c/c_data_types.php\" rel=\"nofollow noreferrer\">W3Schools</a> simplifies this and lists &quot;basic types&quot;, but I'm also not sure if this is relevant.</p>\n"},{"tags":["java","spring-boot","google-cloud-platform","spring-cloud","google-cloud-pubsub"],"comments":[{"owner":{"account_id":7248598,"reputation":11598,"user_id":5529712,"display_name":"Gari Singh"},"score":0,"creation_date":1676104481,"post_id":75418311,"comment_id":133073800,"body_markdown":"Are you setting ExactlyOnceDelivery on the subscription itself?","body":"Are you setting ExactlyOnceDelivery on the subscription itself?"},{"owner":{"account_id":16137874,"reputation":11,"user_id":11649863,"display_name":"Gustavo Steinmetz"},"score":0,"creation_date":1676138247,"post_id":75418311,"comment_id":133079083,"body_markdown":"Yes, the screenshot in the post is from the subscription","body":"Yes, the screenshot in the post is from the subscription"}],"answers":[{"tags":[],"owner":{"account_id":16137874,"reputation":11,"user_id":11649863,"display_name":"Gustavo Steinmetz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676144567,"creation_date":1676140422,"answer_id":75422437,"question_id":75418311,"body_markdown":"After consulting with some peers who were not experiencing the issue on their machines, I realized the problem was in the IntelliJ debug configuration.\r\n\r\nThe reason why the same message is being duplicated multiple times with the same ID is because the PubSubInboundChannelAdapter is a Stream, and in order to make the Reactive Stream Debugger work properly without bugs, you need to enable Hooks.onOperatorDebug() in IntelliJ:\r\n\r\n[Image showing the Reactive Stream configuration in IntelliJ][1]\r\n\r\nAfter some extra search, I found that the PubSubInboundChannelAdapter uses Reactive Stream in the background, and to debug reactive streams, you need a tool that can visualize and inspect the events flowing through it.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sk8I3.png","title":"Message duplication with PubSubInboundChannelAdapter in Spring Boot with Google PubSub","body":"<p>After consulting with some peers who were not experiencing the issue on their machines, I realized the problem was in the IntelliJ debug configuration.</p>\n<p>The reason why the same message is being duplicated multiple times with the same ID is because the PubSubInboundChannelAdapter is a Stream, and in order to make the Reactive Stream Debugger work properly without bugs, you need to enable Hooks.onOperatorDebug() in IntelliJ:</p>\n<p><a href=\"https://i.stack.imgur.com/sk8I3.png\" rel=\"nofollow noreferrer\">Image showing the Reactive Stream configuration in IntelliJ</a></p>\n<p>After some extra search, I found that the PubSubInboundChannelAdapter uses Reactive Stream in the background, and to debug reactive streams, you need a tool that can visualize and inspect the events flowing through it.</p>\n"}],"owner":{"account_id":16137874,"reputation":11,"user_id":11649863,"display_name":"Gustavo Steinmetz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":474,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676144567,"creation_date":1676094093,"question_id":75418311,"body_markdown":"## What I&#39;m trying to do:\r\n\r\nI am developing a Spring Boot application that should act as a subscriber for Google PubSub with &quot;Exactly-once delivery&quot; requirement. I have followed all the guidelines mentioned in the Google Cloud documentation for this:\r\n\r\nhttps://cloud.google.com/pubsub/docs/exactly-once-delivery?_ga=2.207375771.-964146300.1676062320#pubsub_subscriber_exactly_once-java\r\n\r\nHowever, instead of using the PubSub client library directly, I am using Spring Integration.\r\n\r\n## Problem:\r\n\r\nThe problem is that when I use the PubSubInboundChannelAdapter in my application, it is duplicating the same message multiple times with the same Id. My configuration class for PubSubInboundChannelAdapter is shown below:\r\n\r\n```java\r\n@Slf4j\r\n@Configuration\r\npublic class PubSubConfig {\r\n\r\n\r\n    @Value(&quot;${values.gcp.pubsub.subscription.name}&quot;)\r\n    private String subscriptionName;\r\n\r\n    /**\r\n     * This bean enables serialization/deserialization of Java objects to JSON allowing you\r\n     * utilize JSON message payloads in Cloud Pub/Sub.\r\n     *\r\n     * @param objectMapper the object mapper to use\r\n     * @return a Jackson message converter\r\n     */\r\n    @Bean\r\n    public JacksonPubSubMessageConverter jacksonPubSubMessageConverter(ObjectMapper objectMapper) {\r\n        return new JacksonPubSubMessageConverter(objectMapper);\r\n    }\r\n\r\n    @Bean\r\n    public MessageChannel pubsubInputChannel() {\r\n        return new DirectChannel();\r\n    }\r\n\r\n    @Bean\r\n    public PubSubInboundChannelAdapter messageChannelAdapter(\r\n            @Qualifier(&quot;pubsubInputChannel&quot;) MessageChannel inputChannel,\r\n            PubSubTemplate pubSubTemplate) {\r\n        PubSubInboundChannelAdapter adapter =\r\n                new PubSubInboundChannelAdapter(pubSubTemplate, subscriptionName);\r\n        adapter.setOutputChannel(inputChannel);\r\n        adapter.setPayloadType(MyObjectThatNeedBeUnique.class);\r\n        adapter.setAckMode(AckMode.AUTO_ACK);\r\n\r\n        return adapter;\r\n    }\r\n}\r\n\r\n```\r\n \r\nAnd, the listener for this is:\r\n\r\n```java\r\n@Slf4j\r\n@RequiredArgsConstructor(onConstructor = @__(@Autowired))\r\n@Component\r\npublic class CreateVMListener {\r\n\r\n    @ServiceActivator(inputChannel = &quot;pubsubInputChannel&quot;)\r\n    public void createVMListener(@Payload MyObjectThatNeedBeUnique payload,\r\n                                 @Header(GcpPubSubHeaders.ORIGINAL_MESSAGE) BasicAcknowledgeablePubsubMessage message)\r\n            throws IOException, ExecutionException, InterruptedException, TimeoutException { \r\n        log.info(&quot;Message arrived! Payload: &quot; + payload.toString() + &quot; | MessageId: &quot; + message.getPubsubMessage().getMessageId() );\r\n        // Do some processing that takes 5 min to proccess\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nIn the application.yml, I have configured the max-ack-extension-period to be 600 seconds and did the same in the Google Cloud PubSub dashboard:\r\n\r\n[Screenshot of the google cloud pubsub dashboard showing the Exactly once delivery configuration and the Acknowledgement deadline in 600 seconds](https://i.stack.imgur.com/i1eCR.png)\r\n\r\n### Log showing the duplication issue:\r\n\r\n```\r\n 2023-02-05 23:22:20.055 [thread1] INFO - Message arrived! Payload: MyObjectThatNeedBeUnique (userId=432) | MessageID: 6846773022764035\r\n 2023-02-05 23:22:31.969 [thread2] INFO - Message arrived! Payload: MyObjectThatNeedBeUnique (userId=432) | MessageID: 6846773022764035\r\n 2023-02-05 23:23:33.028 [thread3] INFO - Message arrived! Payload: MyObjectThatNeedBeUnique (userId=432) | MessageID: 6846773022764035\r\n 2023-02-05 23:24:34.055 [thread4] INFO - Message arrived! Payload: MyObjectThatNeedBeUnique (userId=432) | MessageID: 6846773022764035\r\n```\r\n\r\nFor example, in this log, the same message was repeated 4 times in a short period of time, indicating that 4 threads were simultaneously processing the same information.\r\n\r\n### Questions:\r\n\r\n1. Why is this duplication happening?\r\n2. What can I do to prevent duplications while retaining the use of the PubSubInboundChannelAdapter (which offers more efficient streaming pull)?\r\n\r\n\r\n### Additional Information: Identifying the Issue\r\n\r\nTo find the source of the problem, I tried multiple approaches and eventually discovered that the issue was with the PubSubInboundChannelAdapter. I switched to a synchronous option, the PubSubMessageSource (as the code below), which fixed the duplication of messages. However, this solution has a disadvantage as it is synchronous and not as performant as the PubSubInboundChannelAdapter. Because of this I want to know if there is a way to use PubSubInboundChannelAdapter without any duplication problem.\r\n\r\n```java\r\n @Bean\r\n    @InboundChannelAdapter(channel = &quot;pubsubInputChannel&quot;)\r\n    public MessageSource&lt;Object&gt; pubsubAdapter(PubSubTemplate pubSubTemplate) {\r\n        PubSubMessageSource messageSource = new PubSubMessageSource(pubSubTemplate,  createVMSubscriptionName);\r\n        messageSource.setAckMode(AckMode.AUTO_ACK);\r\n        messageSource.setPayloadType(CreateOrStartVM.class);\r\n        messageSource.setBlockOnPull(true);\r\n        return messageSource;\r\n    }\r\n```\r\n\r\n","title":"Message duplication with PubSubInboundChannelAdapter in Spring Boot with Google PubSub","body":"<h2>What I'm trying to do:</h2>\n<p>I am developing a Spring Boot application that should act as a subscriber for Google PubSub with &quot;Exactly-once delivery&quot; requirement. I have followed all the guidelines mentioned in the Google Cloud documentation for this:</p>\n<p><a href=\"https://cloud.google.com/pubsub/docs/exactly-once-delivery?_ga=2.207375771.-964146300.1676062320#pubsub_subscriber_exactly_once-java\" rel=\"nofollow noreferrer\">https://cloud.google.com/pubsub/docs/exactly-once-delivery?_ga=2.207375771.-964146300.1676062320#pubsub_subscriber_exactly_once-java</a></p>\n<p>However, instead of using the PubSub client library directly, I am using Spring Integration.</p>\n<h2>Problem:</h2>\n<p>The problem is that when I use the PubSubInboundChannelAdapter in my application, it is duplicating the same message multiple times with the same Id. My configuration class for PubSubInboundChannelAdapter is shown below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@Configuration\npublic class PubSubConfig {\n\n\n    @Value(&quot;${values.gcp.pubsub.subscription.name}&quot;)\n    private String subscriptionName;\n\n    /**\n     * This bean enables serialization/deserialization of Java objects to JSON allowing you\n     * utilize JSON message payloads in Cloud Pub/Sub.\n     *\n     * @param objectMapper the object mapper to use\n     * @return a Jackson message converter\n     */\n    @Bean\n    public JacksonPubSubMessageConverter jacksonPubSubMessageConverter(ObjectMapper objectMapper) {\n        return new JacksonPubSubMessageConverter(objectMapper);\n    }\n\n    @Bean\n    public MessageChannel pubsubInputChannel() {\n        return new DirectChannel();\n    }\n\n    @Bean\n    public PubSubInboundChannelAdapter messageChannelAdapter(\n            @Qualifier(&quot;pubsubInputChannel&quot;) MessageChannel inputChannel,\n            PubSubTemplate pubSubTemplate) {\n        PubSubInboundChannelAdapter adapter =\n                new PubSubInboundChannelAdapter(pubSubTemplate, subscriptionName);\n        adapter.setOutputChannel(inputChannel);\n        adapter.setPayloadType(MyObjectThatNeedBeUnique.class);\n        adapter.setAckMode(AckMode.AUTO_ACK);\n\n        return adapter;\n    }\n}\n\n</code></pre>\n<p>And, the listener for this is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@RequiredArgsConstructor(onConstructor = @__(@Autowired))\n@Component\npublic class CreateVMListener {\n\n    @ServiceActivator(inputChannel = &quot;pubsubInputChannel&quot;)\n    public void createVMListener(@Payload MyObjectThatNeedBeUnique payload,\n                                 @Header(GcpPubSubHeaders.ORIGINAL_MESSAGE) BasicAcknowledgeablePubsubMessage message)\n            throws IOException, ExecutionException, InterruptedException, TimeoutException { \n        log.info(&quot;Message arrived! Payload: &quot; + payload.toString() + &quot; | MessageId: &quot; + message.getPubsubMessage().getMessageId() );\n        // Do some processing that takes 5 min to proccess\n\n    }\n\n}\n</code></pre>\n<p>In the application.yml, I have configured the max-ack-extension-period to be 600 seconds and did the same in the Google Cloud PubSub dashboard:</p>\n<p><a href=\"https://i.stack.imgur.com/i1eCR.png\" rel=\"nofollow noreferrer\">Screenshot of the google cloud pubsub dashboard showing the Exactly once delivery configuration and the Acknowledgement deadline in 600 seconds</a></p>\n<h3>Log showing the duplication issue:</h3>\n<pre><code> 2023-02-05 23:22:20.055 [thread1] INFO - Message arrived! Payload: MyObjectThatNeedBeUnique (userId=432) | MessageID: 6846773022764035\n 2023-02-05 23:22:31.969 [thread2] INFO - Message arrived! Payload: MyObjectThatNeedBeUnique (userId=432) | MessageID: 6846773022764035\n 2023-02-05 23:23:33.028 [thread3] INFO - Message arrived! Payload: MyObjectThatNeedBeUnique (userId=432) | MessageID: 6846773022764035\n 2023-02-05 23:24:34.055 [thread4] INFO - Message arrived! Payload: MyObjectThatNeedBeUnique (userId=432) | MessageID: 6846773022764035\n</code></pre>\n<p>For example, in this log, the same message was repeated 4 times in a short period of time, indicating that 4 threads were simultaneously processing the same information.</p>\n<h3>Questions:</h3>\n<ol>\n<li>Why is this duplication happening?</li>\n<li>What can I do to prevent duplications while retaining the use of the PubSubInboundChannelAdapter (which offers more efficient streaming pull)?</li>\n</ol>\n<h3>Additional Information: Identifying the Issue</h3>\n<p>To find the source of the problem, I tried multiple approaches and eventually discovered that the issue was with the PubSubInboundChannelAdapter. I switched to a synchronous option, the PubSubMessageSource (as the code below), which fixed the duplication of messages. However, this solution has a disadvantage as it is synchronous and not as performant as the PubSubInboundChannelAdapter. Because of this I want to know if there is a way to use PubSubInboundChannelAdapter without any duplication problem.</p>\n<pre class=\"lang-java prettyprint-override\"><code> @Bean\n    @InboundChannelAdapter(channel = &quot;pubsubInputChannel&quot;)\n    public MessageSource&lt;Object&gt; pubsubAdapter(PubSubTemplate pubSubTemplate) {\n        PubSubMessageSource messageSource = new PubSubMessageSource(pubSubTemplate,  createVMSubscriptionName);\n        messageSource.setAckMode(AckMode.AUTO_ACK);\n        messageSource.setPayloadType(CreateOrStartVM.class);\n        messageSource.setBlockOnPull(true);\n        return messageSource;\n    }\n</code></pre>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":0,"creation_date":1676138377,"post_id":75421982,"comment_id":133079107,"body_markdown":"what is `com.seleniumpractice.utilities.XLUtils`?","body":"what is <code>com.seleniumpractice.utilities.XLUtils</code>?"},{"owner":{"account_id":448713,"reputation":304,"user_id":843075,"accept_rate":17,"display_name":"fdama"},"score":0,"creation_date":1676139532,"post_id":75421982,"comment_id":133079325,"body_markdown":"@Youans It contains the code for writing to excel. I&#39;ve added this to the post now.","body":"@Youans It contains the code for writing to excel. I&#39;ve added this to the post now."}],"answers":[{"tags":[],"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676144478,"creation_date":1676144478,"answer_id":75422851,"question_id":75421982,"body_markdown":"Ok getting to understand the code will give you a hint of what you should do, the code is iterating 231 read data from the table and write it to an excel file (daaa!) Ok but when writing into the excel file you write row by row (so!) You then iterate cell by cell on each row on each cell you call `setCellData(...)` in that `XLUtils` and here is when it starts to slow down!\r\n\r\n\r\nIn that `setCellData` each time you call it, it read a file from the disk, opens it, appends data then close the file and since you call it by cell, you end up calling it ~231 (rows) x 15 (col) = 3465\r\n\r\nImagine the time consumed (opening file/writing data/ closing file) 3465 times\r\n\r\nSo what to do,\r\nYou need to create a `list` of `list`\r\n`List&lt;ArrayList&gt; rows = new ArrayList()`\r\n\r\nThis is a list of list ^ where each record in the list is another list\r\n\r\nand on each row you read from the table (even headers), you create a list of cells and then you add this list to the `rows` list!\r\n\r\n\r\nand eventually, you add some utility function in that `XLUtils` that accept `List&lt;ArrayList&gt;` that will\r\nOpen the file once, Iterate on that `rows` list write their values, and close the file.\r\n\r\n\r\nImagine it as if you are trying to move from house to house, and you were using your personal small pickup truck car to move stuff. It won&#39;t take all the house stuff so you would go back and forth for a while. On the other hand, you could have used a furniture truck that picks up all furniture and loads it at once.\r\n\r\n\r\n","title":"Spraping data from a table is slow but uncertain why","body":"<p>Ok getting to understand the code will give you a hint of what you should do, the code is iterating 231 read data from the table and write it to an excel file (daaa!) Ok but when writing into the excel file you write row by row (so!) You then iterate cell by cell on each row on each cell you call <code>setCellData(...)</code> in that <code>XLUtils</code> and here is when it starts to slow down!</p>\n<p>In that <code>setCellData</code> each time you call it, it read a file from the disk, opens it, appends data then close the file and since you call it by cell, you end up calling it ~231 (rows) x 15 (col) = 3465</p>\n<p>Imagine the time consumed (opening file/writing data/ closing file) 3465 times</p>\n<p>So what to do,\nYou need to create a <code>list</code> of <code>list</code>\n<code>List&lt;ArrayList&gt; rows = new ArrayList()</code></p>\n<p>This is a list of list ^ where each record in the list is another list</p>\n<p>and on each row you read from the table (even headers), you create a list of cells and then you add this list to the <code>rows</code> list!</p>\n<p>and eventually, you add some utility function in that <code>XLUtils</code> that accept <code>List&lt;ArrayList&gt;</code> that will\nOpen the file once, Iterate on that <code>rows</code> list write their values, and close the file.</p>\n<p>Imagine it as if you are trying to move from house to house, and you were using your personal small pickup truck car to move stuff. It won't take all the house stuff so you would go back and forth for a while. On the other hand, you could have used a furniture truck that picks up all furniture and loads it at once.</p>\n"}],"owner":{"account_id":448713,"reputation":304,"user_id":843075,"accept_rate":17,"display_name":"fdama"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676144478,"creation_date":1676136299,"question_id":75421982,"body_markdown":"I am scraping data from a table using selenium with Java but is slow and I am not sure why. Is there a reason why and how can I speed it up? The other thing I noticed is that it seems to slow down more as it progresses. I noticed this by observing the print statements to the console.  \r\n\r\nHere is my code:\r\n\r\n   \r\n\r\n     package mypackage;\r\n    \r\n    import java.io.IOException;\r\n    import java.time.Duration;\r\n    import java.util.List;\r\n    \r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    \r\n    import com.seleniumpractice.utilities.XLUtils;\r\n    \r\n    import io.github.bonigarcia.wdm.WebDriverManager;\r\n    \r\n    public class CovidWebTable {\r\n    \tstatic WebDriver driver;\r\n    \tstatic XLUtils xl;\r\n    \tstatic List&lt;WebElement&gt; header;\r\n    \tstatic List&lt;WebElement&gt; rows;\r\n    \r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\tWebDriverManager.chromedriver().setup();\r\n    \t\tdriver = new ChromeDriver();\r\n    \t\tdriver.get(&quot;https://www.worldometers.info/coronavirus&quot;);\r\n    \t\tdriver.manage().window().maximize();\r\n    \t\tdriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\r\n    \t\t\r\n    \t\tWebElement table = driver.findElement(By.xpath(&quot;//table[@id=&#39;main_table_countries_today&#39;]&quot;));\r\n    \t\trows = table.findElements(By.xpath(&quot;.//tr[@role=&#39;row&#39;]&quot;));\r\n    \t\tSystem.out.println(&quot;Total rows: &quot;+rows.size());\r\n    \t\t\r\n    \t\txl = new XLUtils(&quot;.\\\\datafiles\\\\covid.xls&quot;);\r\n    \t\t//xl.setCellData(null, rows, rows, null);\r\n    \t\t\r\n    \t\t//Add header\r\n    \t\theader = table.findElements(By.xpath(&quot;.//thead//th&quot;));\r\n    \t\tSystem.out.println(&quot;Header cols: &quot;+ header.size());\r\n    \t\t\r\n    \t\tfor(int col=1; col&lt;header.size()-1; col++) {\r\n    \t\t\txl.setCellData(&quot;Covid Data&quot;, 0, col-1, header.get(col).getText());\r\n    \t\t}\r\n    \t\t\r\n    \t\tint xlRow = 1;\r\n    \t\t\t\t\r\n    \t\tfor(int r=1; r&lt;rows.size(); r++) {\r\n    \t\t\t\r\n    \t\t\tString a = rows.get(r).getText();\r\n    \t\t\t\r\n    \t\t\tif(rows.get(r).getText().equals(&quot;&quot;)) {\r\n    \t\t\t\tSystem.out.println(&quot;Skipped row: &quot;+r);\r\n    \t\t\t\tcontinue;\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println(&quot;Writing row &quot;+r);\t\r\n    \t\t\t\r\n    \t\t\tfor(int c=1; c&lt;header.size(); c++) {\r\n    \t\t\t\t//String data = rows.get(r).findElement(By.xpath(&quot;.//td[&quot;+(c+1)+&quot;]&quot;)).getText();\r\n    \t\t\t\txl.setCellData(&quot;Covid Data&quot;, xlRow, c-1, rows.get(r).findElement(By.xpath(&quot;.//td[&quot;+(c+1)+&quot;]&quot;)).getText());\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t\txlRow++;\r\n    \t\t\t\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;Complete.&quot;);\r\n    \t\t\r\n    \t\tdriver.close();\r\n    \t\r\n    \t\t}\r\n    \r\n    }\r\n\r\nThe code that contains the code for writing to excel:\r\n\r\n    package com.internetBanking.utilities;\r\n    \r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    \r\n    import org.apache.poi.hssf.usermodel.HSSFCell;\r\n    import org.apache.poi.hssf.usermodel.HSSFRow;\r\n    import org.apache.poi.hssf.usermodel.HSSFSheet;\r\n    import org.apache.poi.hssf.usermodel.HSSFWorkbook;\r\n    import org.apache.poi.ss.usermodel.Cell;\r\n    import org.apache.poi.ss.usermodel.DataFormatter;\r\n    \r\n    public class XLUtils {\r\n    \tpublic static FileInputStream fi;\r\n    \tpublic static FileOutputStream fo;\r\n    \tpublic static HSSFWorkbook wb;\r\n    \tpublic static HSSFSheet ws;\r\n    \tpublic static HSSFRow row;\r\n    \tpublic static HSSFCell cell;\r\n    \t\r\n    \tpublic static int getRowCount(String xlfile, String xlsheet) throws IOException {\r\n    \t\tfi = new FileInputStream(xlfile);\r\n    \t\twb = new HSSFWorkbook(fi);\r\n    \t\tws = wb.getSheet(xlsheet);\r\n    \t\tint rowcount = ws.getLastRowNum();\r\n    \t\twb.close();\r\n    \t\tfi.close();\r\n    \t\treturn rowcount;\r\n    \t}\r\n    \t\r\n    \tpublic static int getCellCount(String xlFile, String xlSheet, int rowNum) throws IOException {\r\n    \t\tfi = new FileInputStream(xlFile);\r\n    \t\twb = new HSSFWorkbook(fi);\r\n    \t\tws = wb.getSheet(xlSheet);\r\n    \t\trow = ws.getRow(rowNum);\r\n    \t\tint cellCount = row.getLastCellNum();\r\n    \t\twb.close();\r\n    \t\tfi.close();\r\n    \t\treturn cellCount;\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic static String getCellData(String xlFile, String xlSheet, int rowNum, int colNum) throws IOException {\r\n    \t\tfi = new FileInputStream(xlFile);\r\n    \t\twb = new HSSFWorkbook(fi);\r\n    \t\tws = wb.getSheet(xlSheet);\r\n    \t\trow = ws.getRow(rowNum);\r\n    \t\tcell = row.getCell(colNum);\r\n    \t\tString data;\r\n    \t\ttry {\r\n    \t\t\tString cellData = new DataFormatter().formatCellValue(cell);\r\n    \t\t\treturn cellData;\r\n    \t\t}\r\n    \t\tcatch(Exception e) {\r\n    \t\t\tdata = &quot;&quot;;\r\n    \t\t}\r\n    \t\twb.close();\r\n    \t\tfi.close();\r\n    \t\treturn data;\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic static void setCellData(String xlFile, String xlSheet, int rowNum, int colNum, String data) throws IOException{\r\n    \t\tfi = new FileInputStream(xlFile);\r\n    \t\twb = new HSSFWorkbook(fi);\r\n    \t\tws = wb.getSheet(xlSheet);\r\n    \t\trow = ws.getRow(rowNum);\r\n    \t\tCell cell = row.createCell(colNum);\r\n    \t\tcell.setCellValue(data);\r\n    \t\t//cell = row.getCell(colNum);\r\n    \t\t//cell.setCellValue(data);\r\n    \t\tfo = new FileOutputStream(xlFile);\r\n     \t\twb.write(fo);\r\n    \t\twb.close();\r\n    \t\tfi.close();\r\n    \t\tfo.close();\r\n    \t}\r\n    \t\r\n    \t\r\n\t\r\n\t\r\n\r\n\t\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Spraping data from a table is slow but uncertain why","body":"<p>I am scraping data from a table using selenium with Java but is slow and I am not sure why. Is there a reason why and how can I speed it up? The other thing I noticed is that it seems to slow down more as it progresses. I noticed this by observing the print statements to the console.</p>\n<p>Here is my code:</p>\n<pre><code> package mypackage;\n\nimport java.io.IOException;\nimport java.time.Duration;\nimport java.util.List;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\nimport com.seleniumpractice.utilities.XLUtils;\n\nimport io.github.bonigarcia.wdm.WebDriverManager;\n\npublic class CovidWebTable {\n    static WebDriver driver;\n    static XLUtils xl;\n    static List&lt;WebElement&gt; header;\n    static List&lt;WebElement&gt; rows;\n\n    public static void main(String[] args) throws IOException {\n        WebDriverManager.chromedriver().setup();\n        driver = new ChromeDriver();\n        driver.get(&quot;https://www.worldometers.info/coronavirus&quot;);\n        driver.manage().window().maximize();\n        driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\n        \n        WebElement table = driver.findElement(By.xpath(&quot;//table[@id='main_table_countries_today']&quot;));\n        rows = table.findElements(By.xpath(&quot;.//tr[@role='row']&quot;));\n        System.out.println(&quot;Total rows: &quot;+rows.size());\n        \n        xl = new XLUtils(&quot;.\\\\datafiles\\\\covid.xls&quot;);\n        //xl.setCellData(null, rows, rows, null);\n        \n        //Add header\n        header = table.findElements(By.xpath(&quot;.//thead//th&quot;));\n        System.out.println(&quot;Header cols: &quot;+ header.size());\n        \n        for(int col=1; col&lt;header.size()-1; col++) {\n            xl.setCellData(&quot;Covid Data&quot;, 0, col-1, header.get(col).getText());\n        }\n        \n        int xlRow = 1;\n                \n        for(int r=1; r&lt;rows.size(); r++) {\n            \n            String a = rows.get(r).getText();\n            \n            if(rows.get(r).getText().equals(&quot;&quot;)) {\n                System.out.println(&quot;Skipped row: &quot;+r);\n                continue;\n            }\n            System.out.println(&quot;Writing row &quot;+r);   \n            \n            for(int c=1; c&lt;header.size(); c++) {\n                //String data = rows.get(r).findElement(By.xpath(&quot;.//td[&quot;+(c+1)+&quot;]&quot;)).getText();\n                xl.setCellData(&quot;Covid Data&quot;, xlRow, c-1, rows.get(r).findElement(By.xpath(&quot;.//td[&quot;+(c+1)+&quot;]&quot;)).getText());\n                \n            }\n            xlRow++;\n            \n        }\n        System.out.println(&quot;Complete.&quot;);\n        \n        driver.close();\n    \n        }\n\n}\n</code></pre>\n<p>The code that contains the code for writing to excel:</p>\n<pre><code>package com.internetBanking.utilities;\n\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\n\nimport org.apache.poi.hssf.usermodel.HSSFCell;\nimport org.apache.poi.hssf.usermodel.HSSFRow;\nimport org.apache.poi.hssf.usermodel.HSSFSheet;\nimport org.apache.poi.hssf.usermodel.HSSFWorkbook;\nimport org.apache.poi.ss.usermodel.Cell;\nimport org.apache.poi.ss.usermodel.DataFormatter;\n\npublic class XLUtils {\n    public static FileInputStream fi;\n    public static FileOutputStream fo;\n    public static HSSFWorkbook wb;\n    public static HSSFSheet ws;\n    public static HSSFRow row;\n    public static HSSFCell cell;\n    \n    public static int getRowCount(String xlfile, String xlsheet) throws IOException {\n        fi = new FileInputStream(xlfile);\n        wb = new HSSFWorkbook(fi);\n        ws = wb.getSheet(xlsheet);\n        int rowcount = ws.getLastRowNum();\n        wb.close();\n        fi.close();\n        return rowcount;\n    }\n    \n    public static int getCellCount(String xlFile, String xlSheet, int rowNum) throws IOException {\n        fi = new FileInputStream(xlFile);\n        wb = new HSSFWorkbook(fi);\n        ws = wb.getSheet(xlSheet);\n        row = ws.getRow(rowNum);\n        int cellCount = row.getLastCellNum();\n        wb.close();\n        fi.close();\n        return cellCount;\n        \n    }\n    \n    public static String getCellData(String xlFile, String xlSheet, int rowNum, int colNum) throws IOException {\n        fi = new FileInputStream(xlFile);\n        wb = new HSSFWorkbook(fi);\n        ws = wb.getSheet(xlSheet);\n        row = ws.getRow(rowNum);\n        cell = row.getCell(colNum);\n        String data;\n        try {\n            String cellData = new DataFormatter().formatCellValue(cell);\n            return cellData;\n        }\n        catch(Exception e) {\n            data = &quot;&quot;;\n        }\n        wb.close();\n        fi.close();\n        return data;\n        \n    }\n    \n    public static void setCellData(String xlFile, String xlSheet, int rowNum, int colNum, String data) throws IOException{\n        fi = new FileInputStream(xlFile);\n        wb = new HSSFWorkbook(fi);\n        ws = wb.getSheet(xlSheet);\n        row = ws.getRow(rowNum);\n        Cell cell = row.createCell(colNum);\n        cell.setCellValue(data);\n        //cell = row.getCell(colNum);\n        //cell.setCellValue(data);\n        fo = new FileOutputStream(xlFile);\n        wb.write(fo);\n        wb.close();\n        fi.close();\n        fo.close();\n    }\n    \n    \n</code></pre>\n<p>}</p>\n"},{"tags":["java","android","tcp","streaming"],"owner":{"account_id":27761963,"reputation":1,"user_id":21194199,"display_name":"malik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676143905,"creation_date":1676137959,"question_id":75422152,"body_markdown":"I&#39;m new in Android and i try build push-to-talk application. So I have strange noise after receive AuidioRecorder bytes from TCP server, but when I try to listen without server (Offline) my voice is loud and clear.\r\nI appreciate for any advice.\r\n\r\nAudioRecorder is like this:\r\n\r\n&gt; int bufferSize = 2048;\r\n&gt; byte buffer[] = new byte[bufferSize];\r\n&gt; \r\n&gt; int m_bufferSize = AudioTrack.getMinBufferSize(8000,\r\n&gt; AudioFormat.CHANNEL_OUT_MONO,\r\n&gt; AudioFormat.ENCODING_PCM_16BIT);\r\n&gt; \r\n&gt; OutputStream out = socket.getOutputStream();\r\n&gt; \r\n&gt; recorder = new AudioRecord(MediaRecorder.AudioSource.MIC, 8000,\r\n&gt; AudioFormat.CHANNEL_IN_DEFAULT,\r\n&gt; AudioFormat.ENCODING_PCM_16BIT, m_bufferSize);\r\n&gt; \r\n&gt; recorder.startRecording();\r\n&gt; \r\n&gt; while (isRecording)\r\n&gt; {\r\n&gt; recorder.read(buffer, 0, bufferSize);\r\n&gt; out.write(buffer);\r\n&gt; out.flush();\r\n&gt; }\r\n\r\n\r\n\r\nand AudioTrack:\r\n\r\n&gt; int m_bufferSize = AudioTrack.getMinBufferSize(8000,\r\n&gt; AudioFormat.CHANNEL_OUT_MONO,\r\n&gt; AudioFormat.ENCODING_PCM_16BIT);\r\n&gt; \r\n&gt; int bufferSize = 2048;\r\n&gt; byte buffer[] = new byte[bufferSize];\r\n&gt; \r\n&gt; track = new AudioTrack(AudioManager.STREAM_MUSIC, 8000,\r\n&gt; AudioFormat.CHANNEL_OUT_DEFAULT,\r\n&gt; AudioFormat.ENCODING_PCM_16BIT, m_bufferSize,\r\n&gt; AudioTrack.MODE_STREAM);\r\n&gt; track.play();\r\n&gt; \r\n&gt; DataInputStream in = new DataInputStream(socket.getInputStream()); //in try catch block\r\n&gt; \r\n&gt; while (isReceiving)\r\n&gt; {\r\n&gt; ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n&gt; baos.write(buffer, 0 , in.read(buffer));\r\n&gt; byte result[] = baos.toByteArray();\r\n&gt; track.write(result, 0, 2048);\r\n&gt; ","title":"AudioTrack Playing sound with noise","body":"<p>I'm new in Android and i try build push-to-talk application. So I have strange noise after receive AuidioRecorder bytes from TCP server, but when I try to listen without server (Offline) my voice is loud and clear.\nI appreciate for any advice.</p>\n<p>AudioRecorder is like this:</p>\n<blockquote>\n<p>int bufferSize = 2048;\nbyte buffer[] = new byte[bufferSize];</p>\n<p>int m_bufferSize = AudioTrack.getMinBufferSize(8000,\nAudioFormat.CHANNEL_OUT_MONO,\nAudioFormat.ENCODING_PCM_16BIT);</p>\n<p>OutputStream out = socket.getOutputStream();</p>\n<p>recorder = new AudioRecord(MediaRecorder.AudioSource.MIC, 8000,\nAudioFormat.CHANNEL_IN_DEFAULT,\nAudioFormat.ENCODING_PCM_16BIT, m_bufferSize);</p>\n<p>recorder.startRecording();</p>\n<p>while (isRecording)\n{\nrecorder.read(buffer, 0, bufferSize);\nout.write(buffer);\nout.flush();\n}</p>\n</blockquote>\n<p>and AudioTrack:</p>\n<blockquote>\n<p>int m_bufferSize = AudioTrack.getMinBufferSize(8000,\nAudioFormat.CHANNEL_OUT_MONO,\nAudioFormat.ENCODING_PCM_16BIT);</p>\n<p>int bufferSize = 2048;\nbyte buffer[] = new byte[bufferSize];</p>\n<p>track = new AudioTrack(AudioManager.STREAM_MUSIC, 8000,\nAudioFormat.CHANNEL_OUT_DEFAULT,\nAudioFormat.ENCODING_PCM_16BIT, m_bufferSize,\nAudioTrack.MODE_STREAM);\ntrack.play();</p>\n<p>DataInputStream in = new DataInputStream(socket.getInputStream()); //in try catch block</p>\n<p>while (isReceiving)\n{\nByteArrayOutputStream baos = new ByteArrayOutputStream();\nbaos.write(buffer, 0 , in.read(buffer));\nbyte result[] = baos.toByteArray();\ntrack.write(result, 0, 2048);</p>\n</blockquote>\n"},{"tags":["java","android"],"owner":{"account_id":21009739,"reputation":1,"user_id":15438627,"display_name":"dedman2000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676143790,"creation_date":1676138737,"question_id":75422229,"body_markdown":"I have no idea how to make my added view permanent with its own class saved for futeer access. \r\n\r\n\r\nRight now when I run the code there will be an empty view since there are no values coming from the intents, once I click on the button and fill out the information, the empty box gets replaced with a view that has the title I had giving, but when I click to add again it just replaces the old one, how to ensure that it doesn&#39;t replace but gets added on?\r\n\r\n\r\n\r\n    //main_activiy\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.sports_screen);\r\n\r\n            // Creating the list that is on screen\r\n            FloatingActionButton addClass = findViewById(R.id.Add_class_button);\r\n    \r\n            //sending out variable\r\n            Intent intent = new Intent (this, Creating_Class_main.class);\r\n            Activity ma = this;\r\n\r\n            //names\r\n\r\n            Intent MB = getIntent();\r\n            String Classinp = MB.getStringExtra(&quot;strC&quot;);\r\n            String tchinp = MB.getStringExtra(&quot;strT&quot;);\r\n        \r\n            //adding team\r\n            team sportsteam = new team(ma, Classinp,tchinp);\r\n            sportsteam.addtext();\r\n\r\n        \r\n            // Input\r\n            addClass.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n\r\n                    startActivity(intent);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    //Second activity\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.create_class);\r\n    \r\n            EditText ClassName = findViewById(R.id.CLinput);\r\n            EditText teacher = findViewById(R.id.tchinput);\r\n\r\n            Button end = findViewById(R.id.end);\r\n            Intent intent = new Intent (this, MainActivity.class);\r\n\r\n            end.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    intent.putExtra(&quot;strC&quot;, ClassName.getText().toString());\r\n                    intent.putExtra(&quot;strT&quot;, teacher.getText().toString());\r\n\r\n                    startActivity(intent);\r\n                }\r\n            });\r\n\r\n        }\r\n    }\r\n\r\n\r\n    //my class\r\n    public class team {\r\n        // Defining Activity class to use\r\n        private Activity activity;\r\n    \r\n        // Defining text box\r\n        LinearLayout lay;\r\n        View Tbox;\r\n\r\n\r\n\r\n        // Members Defining\r\n        String teamname;\r\n        String teacher;\r\n        ArrayList&lt;Players&gt; members = new ArrayList&lt;Players&gt;();\r\n\r\n        public team(Activity activity, String teamname, String teacher) {\r\n            // To be able to use activity\r\n            this.activity = activity;\r\n    \r\n            // Normal things to define\r\n            this.teamname = teamname;\r\n            this.teacher = teacher;\r\n\r\n            // initialize the lay and Tbox variables\r\n            lay = activity.findViewById(R.id.Scontainer);\r\n            Tbox = activity.getLayoutInflater().inflate(R.layout.text_box_output, null);\r\n        }\r\n\r\n        public void addtext() {\r\n            // add text to the layout and view\r\n            TextView title = Tbox.findViewById(R.id.daTeam);\r\n            title.setText(teamname);\r\n            lay.addView(Tbox);\r\n        }\r\n    }\r\n\r\n","title":"How to make addedview permanent","body":"<p>I have no idea how to make my added view permanent with its own class saved for futeer access.</p>\n<p>Right now when I run the code there will be an empty view since there are no values coming from the intents, once I click on the button and fill out the information, the empty box gets replaced with a view that has the title I had giving, but when I click to add again it just replaces the old one, how to ensure that it doesn't replace but gets added on?</p>\n<pre><code>//main_activiy\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.sports_screen);\n\n        // Creating the list that is on screen\n        FloatingActionButton addClass = findViewById(R.id.Add_class_button);\n\n        //sending out variable\n        Intent intent = new Intent (this, Creating_Class_main.class);\n        Activity ma = this;\n\n        //names\n\n        Intent MB = getIntent();\n        String Classinp = MB.getStringExtra(&quot;strC&quot;);\n        String tchinp = MB.getStringExtra(&quot;strT&quot;);\n    \n        //adding team\n        team sportsteam = new team(ma, Classinp,tchinp);\n        sportsteam.addtext();\n\n    \n        // Input\n        addClass.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                startActivity(intent);\n            }\n        });\n    }\n}\n\n//Second activity\nprotected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.create_class);\n\n        EditText ClassName = findViewById(R.id.CLinput);\n        EditText teacher = findViewById(R.id.tchinput);\n\n        Button end = findViewById(R.id.end);\n        Intent intent = new Intent (this, MainActivity.class);\n\n        end.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                intent.putExtra(&quot;strC&quot;, ClassName.getText().toString());\n                intent.putExtra(&quot;strT&quot;, teacher.getText().toString());\n\n                startActivity(intent);\n            }\n        });\n\n    }\n}\n\n\n//my class\npublic class team {\n    // Defining Activity class to use\n    private Activity activity;\n\n    // Defining text box\n    LinearLayout lay;\n    View Tbox;\n\n\n\n    // Members Defining\n    String teamname;\n    String teacher;\n    ArrayList&lt;Players&gt; members = new ArrayList&lt;Players&gt;();\n\n    public team(Activity activity, String teamname, String teacher) {\n        // To be able to use activity\n        this.activity = activity;\n\n        // Normal things to define\n        this.teamname = teamname;\n        this.teacher = teacher;\n\n        // initialize the lay and Tbox variables\n        lay = activity.findViewById(R.id.Scontainer);\n        Tbox = activity.getLayoutInflater().inflate(R.layout.text_box_output, null);\n    }\n\n    public void addtext() {\n        // add text to the layout and view\n        TextView title = Tbox.findViewById(R.id.daTeam);\n        title.setText(teamname);\n        lay.addView(Tbox);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1676129913,"post_id":75412309,"comment_id":133077632,"body_markdown":"the thymeleaf part is incorrect. see my update","body":"the thymeleaf part is incorrect. see my update"},{"owner":{"account_id":27558404,"reputation":23,"user_id":21032025,"display_name":"Frosty Nah"},"score":0,"creation_date":1676130203,"post_id":75412309,"comment_id":133077689,"body_markdown":"Hi, thanks, I replaced my code with updated one, now I can see data, but its not the way how I want, I already had something similar like this, please see `Example` image from my question, I have two transactions on same date like in `Example` I posted in question, but this template thymeleaf again show it in separated dates","body":"Hi, thanks, I replaced my code with updated one, now I can see data, but its not the way how I want, I already had something similar like this, please see <code>Example</code> image from my question, I have two transactions on same date like in <code>Example</code> I posted in question, but this template thymeleaf again show it in separated dates"},{"owner":{"account_id":27558404,"reputation":23,"user_id":21032025,"display_name":"Frosty Nah"},"score":0,"creation_date":1676130373,"post_id":75412309,"comment_id":133077725,"body_markdown":"Hi, I managed to get it on the right way, see updated question","body":"Hi, I managed to get it on the right way, see updated question"},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1676142324,"post_id":75412309,"comment_id":133079747,"body_markdown":"so does it work the way you want it now? Note that you can also use something like `&lt;div th:each=&quot;singleGroup, stats : ${transactionGroup}&quot;&gt;&lt;div th:if=${stats.index &gt; 0}&gt;&lt;/div&gt;` to do some action depending on the current record.","body":"so does it work the way you want it now? Note that you can also use something like <code>&lt;div th:each=&quot;singleGroup, stats : ${transactionGroup}&quot;&gt;&lt;div th:if=${stats.index &gt; 0}&gt;&lt;&#47;div&gt;</code> to do some action depending on the current record."},{"owner":{"account_id":27558404,"reputation":23,"user_id":21032025,"display_name":"Frosty Nah"},"score":0,"creation_date":1676196085,"post_id":75412309,"comment_id":133085449,"body_markdown":"Yeah, it works fine now, thank you so much, I will try also with that","body":"Yeah, it works fine now, thank you so much, I will try also with that"},{"owner":{"account_id":27558404,"reputation":23,"user_id":21032025,"display_name":"Frosty Nah"},"score":0,"creation_date":1676745847,"post_id":75412309,"comment_id":133200880,"body_markdown":"Hi, I have on question if you dont mind","body":"Hi, I have on question if you dont mind"},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1676751402,"post_id":75412309,"comment_id":133201816,"body_markdown":"what is your question?","body":"what is your question?"},{"owner":{"account_id":27558404,"reputation":23,"user_id":21032025,"display_name":"Frosty Nah"},"score":0,"creation_date":1676751719,"post_id":75412309,"comment_id":133201871,"body_markdown":"You can join if you want https://stackoverflow.com/questions/75496021/how-to-show-appropriate-message-on-page-with-thymeleaf-if-list-is-empty?noredirect=1#comment133201793_75496021","body":"You can join if you want <a href=\"https://stackoverflow.com/questions/75496021/how-to-show-appropriate-message-on-page-with-thymeleaf-if-list-is-empty?noredirect=1#comment133201793_75496021\" title=\"how to show appropriate message on page with thymeleaf if list is empty\">stackoverflow.com/questions/75496021/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":13867576,"reputation":120,"user_id":10011738,"display_name":"amir rad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676041829,"creation_date":1676041829,"answer_id":75412867,"question_id":75412309,"body_markdown":"I think you don&#39;t need TransactionGroup as a intermediate class, just store transaction by Transaction entity, and you can get query by userId and return list of transactions, and from this list you can get all distinct dates,\r\nIf the specific user want to see all transactions in specific date you can define a query by two parameters with userId and Date from transaction repository.\r\n\r\nSo it can be better define a method with userId and Date(can be nullable) and return list of transactions.","title":"How to show each data from table separated by date","body":"<p>I think you don't need TransactionGroup as a intermediate class, just store transaction by Transaction entity, and you can get query by userId and return list of transactions, and from this list you can get all distinct dates,\nIf the specific user want to see all transactions in specific date you can define a query by two parameters with userId and Date from transaction repository.</p>\n<p>So it can be better define a method with userId and Date(can be nullable) and return list of transactions.</p>\n"},{"tags":[],"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676143471,"creation_date":1676064020,"answer_id":75416215,"question_id":75412309,"body_markdown":"This can be done in many ways. For instance, you can define a wrapper list ( `List&lt;List&lt;Transaction&gt;&gt;` or `List&lt;TransactionGroup&gt;`) where the contained list(s) will contain all the transactions on a given day. It would also make sense to create a native query to retrieve the transactions for a particular user sorted by date.\r\n\r\n//your Transaction repository\r\n\r\n    @Query( value=&quot;select * from transaction where user_id = ?1 order by date desc&quot;, nativeQuery=true)\r\n    List&lt;Transaction&gt; getTransactionsByUserId(Integer userId);\r\n\r\nThe logic in your controller could then look something like\r\n  \r\n\r\n        ....\r\n        //this list holds all the transactions for a particular user\r\n        List&lt;Transaction&gt; transactions = transRepository.getTransactionsByUserId(userId);\r\n\r\n       //create the wrapper list\r\n       List&lt;List&lt;Transaction&gt;&gt; transactionByDate = new ArrayList&lt;&gt;();\r\n\r\n       //initialize currDate with the first transaction date\r\n       LocalDate currDate = transactions.get(0).getDate();\r\n\r\n       //create a list that will hold transactions for a single date\r\n       List&lt;Transaction&gt; transOnSingleDate = new ArrayList&lt;&gt;();\r\n\r\n        //loop through your transactions and populate the wrapper list\r\n        for(Transaction t : transactions){\r\n            //create a new list of transactions if the date has changed \r\n            if(!currDate.isEqual(t.getDate()){\r\n                //fill the wrapper list before creating a new list\r\n                transactionByDate.add(transOnSingleDate);\r\n                transOnSingleDate = new ArrayList&lt;&gt;();\r\n             }\r\n            transOnSingleDate.add( t );\r\n            currDate = t.getDate();       \r\n         }\r\n         //add the final list\r\n         \r\n         transactionByDate.add(transOnSingleDate);\r\n         model.addAtrribute(&quot;transByDate&quot;, transactionByDate);\r\n\r\nor using `List&lt;TransactionGroup&gt;`\r\n\r\n       ....\r\n        //this list holds all the transactions for a particular user\r\n        List&lt;Transaction&gt; transactions = transRepository.getTransactionsByUserId(userId);\r\n       //create a TransactionGroup list\r\n       List&lt;TransactionGroup&gt; transactionByDate = new ArrayList&lt;&gt;();\r\n       //create a list that will hold all transactions for a day\r\n        List&lt;Transaction&gt; transOnSingleDate = new ArrayList&lt;&gt;();\r\n       //initialize currDate with the first transaction date\r\n       LocalDate currDate = transactions.get(0).getDate();\r\n\r\n       //create a TransactionGroup\r\n       TransactionGroup transGroup = new TransactionGroup();\r\n\r\n        //loop through your transactions and populate the wrapper list\r\n        for(Transaction t : transactions){\r\n            //create a new transaction group if the date has changed \r\n            if(!currDate.isEqual(t.getDate()){\r\n                //fill the wrapper list before creating a new list\r\n                transGroup.setDate(currDate);\r\n                transGroup.setTransactions(transOnSingleDate);\r\n                transactionByDate.add(transGroup);\r\n                //create new TransactionGroup and List&lt;Transaction&gt; for a new date\r\n                transGroup = new TransactionGroup();\r\n                transOnSingleDate = new ArrayList&lt;&gt;();\r\n             }\r\n            \r\n            transOnSingleDay.add( t );\r\n            currDate = t.getDate();       \r\n         }\r\n         //add the final list\r\n         transGroup.setDate(currDate);\r\n         transGroup.setTransactions(transOnSingleDate);\r\n         transactionByDate.add(transGroup);\r\n         model.addAtrribute(&quot;transactionGroup&quot;, transactionByDate);\r\n\r\n\r\nHope this helps.\r\n\r\nUPDATE:\r\n\r\nThe controller part is now ok. The `List&lt;TransactionGroup&gt;` object contains 3 transaction groups, one for each date. The thymeleaf template is wrong. It should be something like\r\n\r\n    &lt;div th:each=&quot;singleGroup : ${transactionGroup}&quot;&gt;  \r\n    &lt;div th:each=&quot;singleTrans : ${singleGroup.transactions}&quot;&gt; \r\n    &lt;h2&gt;Amount: &lt;span th:text=&quot;${singleTrans.amount}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;br&gt;\r\n    &lt;h2&gt;Note: &lt;span th:text=&quot;${singleTrans.note}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;br&gt;\r\n    &lt;h2&gt;Wallet name: &lt;span th:text=&quot;${singleTrans.walletName}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;br&gt;\r\n    &lt;h2&gt;Expense Category: &lt;span th:text=&quot;${singleTrans.expenseCategories}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;br&gt;\r\n    &lt;h2&gt;IncomeCategory: &lt;span th:text=&quot;${singleTrans.incomeCategories}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;\r\n    &lt;h2&gt;IncomeCategory: &lt;span th:text=&quot;${singleTrans.date}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;\r\n    &lt;div&gt;\r\n    &lt;/div&gt;\r\n\r\n","title":"How to show each data from table separated by date","body":"<p>This can be done in many ways. For instance, you can define a wrapper list ( <code>List&lt;List&lt;Transaction&gt;&gt;</code> or <code>List&lt;TransactionGroup&gt;</code>) where the contained list(s) will contain all the transactions on a given day. It would also make sense to create a native query to retrieve the transactions for a particular user sorted by date.</p>\n<p>//your Transaction repository</p>\n<pre><code>@Query( value=&quot;select * from transaction where user_id = ?1 order by date desc&quot;, nativeQuery=true)\nList&lt;Transaction&gt; getTransactionsByUserId(Integer userId);\n</code></pre>\n<p>The logic in your controller could then look something like</p>\n<pre><code>    ....\n    //this list holds all the transactions for a particular user\n    List&lt;Transaction&gt; transactions = transRepository.getTransactionsByUserId(userId);\n\n   //create the wrapper list\n   List&lt;List&lt;Transaction&gt;&gt; transactionByDate = new ArrayList&lt;&gt;();\n\n   //initialize currDate with the first transaction date\n   LocalDate currDate = transactions.get(0).getDate();\n\n   //create a list that will hold transactions for a single date\n   List&lt;Transaction&gt; transOnSingleDate = new ArrayList&lt;&gt;();\n\n    //loop through your transactions and populate the wrapper list\n    for(Transaction t : transactions){\n        //create a new list of transactions if the date has changed \n        if(!currDate.isEqual(t.getDate()){\n            //fill the wrapper list before creating a new list\n            transactionByDate.add(transOnSingleDate);\n            transOnSingleDate = new ArrayList&lt;&gt;();\n         }\n        transOnSingleDate.add( t );\n        currDate = t.getDate();       \n     }\n     //add the final list\n     \n     transactionByDate.add(transOnSingleDate);\n     model.addAtrribute(&quot;transByDate&quot;, transactionByDate);\n</code></pre>\n<p>or using <code>List&lt;TransactionGroup&gt;</code></p>\n<pre><code>   ....\n    //this list holds all the transactions for a particular user\n    List&lt;Transaction&gt; transactions = transRepository.getTransactionsByUserId(userId);\n   //create a TransactionGroup list\n   List&lt;TransactionGroup&gt; transactionByDate = new ArrayList&lt;&gt;();\n   //create a list that will hold all transactions for a day\n    List&lt;Transaction&gt; transOnSingleDate = new ArrayList&lt;&gt;();\n   //initialize currDate with the first transaction date\n   LocalDate currDate = transactions.get(0).getDate();\n\n   //create a TransactionGroup\n   TransactionGroup transGroup = new TransactionGroup();\n\n    //loop through your transactions and populate the wrapper list\n    for(Transaction t : transactions){\n        //create a new transaction group if the date has changed \n        if(!currDate.isEqual(t.getDate()){\n            //fill the wrapper list before creating a new list\n            transGroup.setDate(currDate);\n            transGroup.setTransactions(transOnSingleDate);\n            transactionByDate.add(transGroup);\n            //create new TransactionGroup and List&lt;Transaction&gt; for a new date\n            transGroup = new TransactionGroup();\n            transOnSingleDate = new ArrayList&lt;&gt;();\n         }\n        \n        transOnSingleDay.add( t );\n        currDate = t.getDate();       \n     }\n     //add the final list\n     transGroup.setDate(currDate);\n     transGroup.setTransactions(transOnSingleDate);\n     transactionByDate.add(transGroup);\n     model.addAtrribute(&quot;transactionGroup&quot;, transactionByDate);\n</code></pre>\n<p>Hope this helps.</p>\n<p>UPDATE:</p>\n<p>The controller part is now ok. The <code>List&lt;TransactionGroup&gt;</code> object contains 3 transaction groups, one for each date. The thymeleaf template is wrong. It should be something like</p>\n<pre><code>&lt;div th:each=&quot;singleGroup : ${transactionGroup}&quot;&gt;  \n&lt;div th:each=&quot;singleTrans : ${singleGroup.transactions}&quot;&gt; \n&lt;h2&gt;Amount: &lt;span th:text=&quot;${singleTrans.amount}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;br&gt;\n&lt;h2&gt;Note: &lt;span th:text=&quot;${singleTrans.note}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;br&gt;\n&lt;h2&gt;Wallet name: &lt;span th:text=&quot;${singleTrans.walletName}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;br&gt;\n&lt;h2&gt;Expense Category: &lt;span th:text=&quot;${singleTrans.expenseCategories}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;br&gt;\n&lt;h2&gt;IncomeCategory: &lt;span th:text=&quot;${singleTrans.incomeCategories}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;\n&lt;h2&gt;IncomeCategory: &lt;span th:text=&quot;${singleTrans.date}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;\n&lt;div&gt;\n&lt;/div&gt;\n</code></pre>\n"}],"owner":{"account_id":27558404,"reputation":23,"user_id":21032025,"display_name":"Frosty Nah"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75416215,"answer_count":2,"score":0,"last_activity_date":1676143471,"creation_date":1676038422,"question_id":75412309,"body_markdown":"I&#39;m curious to find a solution for this but couldn&#39;t find anything relatable and useful so far.\r\n\r\nLets say user have two transactions for `18/01/2023`\r\n\r\nI want to have a heading for example like separate `&lt;div&gt;` and to pass today date and each transaction from today, and below down for example `15/01/2023` because user also have a transactions on that date.\r\n\r\nThis is an example, as you can see I have today section because user made a transaction on today date, also for yesterday and then back on January 14, so I want to separate transactions for each that like that. [Example][1]\r\n\r\nThis is `Transaction` class:\r\n\r\n    @Entity\r\n    @Table(name = &quot;transaction&quot;)\r\n    public class Transaction {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;transaction_id&quot;)\r\n        private Long id;\r\n    \r\n        @Column(name = &quot;user_id&quot;, nullable = false)\r\n        private Long userId;\r\n    \r\n        @Column(name = &quot;wallet_name&quot;, nullable = false)\r\n        private String walletName;\r\n    \r\n        @NotNull(message = &quot;Please, insert a amount&quot;)\r\n        @Min(value = 0, message = &quot;Please, insert a positive amount&quot;)\r\n        private Double amount;\r\n    \r\n        private String note;\r\n    \r\n        @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n        @Column(name = &quot;date&quot;)\r\n        private LocalDate date;\r\n    \r\n        @ManyToOne(cascade = CascadeType.ALL)\r\n        @JoinColumn(name = &quot;wallet_id&quot;, nullable = false)\r\n        private Wallet wallet;\r\n    \r\n        @Enumerated(EnumType.STRING)\r\n        @Column(name = &quot;transaction_type&quot;, columnDefinition = &quot;ENUM(&#39;EXPENSE&#39;, &#39;INCOME&#39;)&quot;)\r\n        private TransactionType transactionType;\r\n    \r\n        @Nullable\r\n        @Enumerated(EnumType.STRING)\r\n        @Column(name = &quot;expense_categories&quot;, columnDefinition = &quot;ENUM(&#39;FOOD_AND_DRINK&#39;, &#39;SHOPPING&#39;, &#39;TRANSPORT&#39;, &#39;HOME&#39;,&quot; +\r\n                &quot; &#39;BILLS_AND_FEES&#39;, &#39;ENTERTAINMENT&#39;, &#39;CAR&#39;, &#39;TRAVEL&#39;, &#39;FAMILY_AND_PERSONAL&#39;, &#39;HEALTHCARE&#39;,&quot; +\r\n                &quot; &#39;EDUCATION&#39;, &#39;GROCERIES&#39;, &#39;GIFTS&#39;, &#39;BEAUTY&#39;, &#39;WORK&#39;, &#39;SPORTS_AND_HOBBIES&#39;, &#39;OTHER&#39;)&quot;)\r\n        private ExpenseCategories expenseCategories;\r\n    \r\n        @Nullable\r\n        @Enumerated(EnumType.STRING)\r\n        @Column(name = &quot;income_categories&quot;, columnDefinition = &quot;ENUM(&#39;SALARY&#39;, &#39;BUSINESS&#39;, &#39;GIFTS&#39;, &#39;EXTRA_INCOME&#39;, &#39;LOAN&#39;, &#39;PARENTAL_LEAVE&#39;, &#39;INSURANCE_PAYOUT&#39;, &#39;OTHER&#39;)&quot;)\r\n        private IncomeCategories incomeCategories;\r\n\r\nI created a new class that will act as group and that is like this:\r\n\r\n     class TransactionGroup {\r\n     private LocalDate date;\r\n     private List&lt;Transaction&gt; transactions;\r\n     /* Getters and setters */\r\n     }\r\n\r\nAnd Thymeleaf:\r\n\r\n        &lt;div th:each=&quot;singleGroup  : ${transactionGroup}&quot;&gt;\r\n        &lt;h1 th:text=&quot;${singleGroup .date}&quot;&gt;&lt;/h1&gt;\r\n    \r\n        &lt;div th:each=&quot;singleTrans  : ${singleGroup.transactions}&quot;&gt;\r\n            &lt;h2&gt;Amount: &lt;span th:text=&quot;${singleTrans .amount}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;br&gt;\r\n            &lt;h2&gt;Note: &lt;span th:text=&quot;${singleTrans .note}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;br&gt;\r\n            &lt;h2&gt;Wallet name: &lt;span th:text=&quot;${singleTrans .walletName}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;br&gt;\r\n            &lt;h2&gt;Expense Category: &lt;span th:text=&quot;${singleTrans .expenseCategories}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;br&gt;\r\n            &lt;h2&gt;IncomeCategory: &lt;span th:text=&quot;${singleTrans .incomeCategories}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;\r\n            &lt;div&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\nAnd this is controller:\r\n\r\n       @GetMapping(&quot;/userTransactions/{user_id}&quot;)\r\n    public String getUserTransactions(@PathVariable(&quot;user_id&quot;) long user_id, TransactionGroup transactionGroup, Model model) {\r\n        List&lt;Transaction&gt; transactions = transactionRepository.getTransactionsByUserId(user_id);\r\n        //create a TransactionGroup list\r\n        List&lt;TransactionGroup&gt; transactionByDate = new ArrayList&lt;&gt;();\r\n        //create a list that will hold all transactions for a day\r\n        List&lt;Transaction&gt; transOnSingleDate = new ArrayList&lt;&gt;();\r\n        //initialize currDate with the first transaction date\r\n        LocalDate currDate = transactions.get(0).getDate();\r\n\r\n        //create a TransactionGroup\r\n        TransactionGroup transGroup = new TransactionGroup();\r\n\r\n        //loop through your transactions and populate the wrapper list\r\n        for(Transaction t : transactions){\r\n            //create a new transaction group if the date has changed\r\n            if(!currDate.isEqual(t.getDate())){\r\n                //fill the wrapper list before creating a new list\r\n                transGroup.setDate(currDate);\r\n                transGroup.setTransactions(transOnSingleDate);\r\n                transactionByDate.add(transGroup);\r\n                //create new TransactionGroup and List&lt;Transaction&gt; for a new date\r\n                transGroup = new TransactionGroup();\r\n                transOnSingleDate = new ArrayList&lt;&gt;();\r\n            }\r\n\r\n            transOnSingleDate.add( t );\r\n            currDate = t.getDate();\r\n        }\r\n        //add the final list\r\n        transGroup.setDate(currDate);\r\n        transGroup.setTransactions(transOnSingleDate);\r\n        transactionByDate.add(transGroup);\r\n        model.addAttribute(&quot;transactionGroup&quot;, transactionByDate);\r\n        return &quot;transactions&quot;;\r\n}\r\n\r\nYou can see that I populate here transaction list in `TransactionGroup` by `transactions` from entity `Transaction:`\r\n\r\n`transactionGroup.setTransactions(transactionService.findDistinctIdByUserId(userId));`\r\n\r\nAnd on page I can see transactions, but I cant see a date how I want, I cant even see date, date is not displayed, because I didn&#39;t populate a date field on class `TransactionGroup` with date from `Transaction` class. How I can get a transaction date from each transaction that is created?\r\n\r\nI guess I need to populate it somehow like `transactionGroup.setTransactions...` but now like `transactionGroup.setDate...` but Date is not a list type, so there is a problem.\r\n\r\nIts obivous that if I try with `transactionGroup.setDate(transaction.getDate);` returning `null` \r\n\r\n`SOUT LOGS`:\r\n\r\n   \r\n\r\n \r\n\r\n        transGroup TransactionGroup{date=2023-01-01, transactions=null}\r\n    transactionByDate [TransactionGroup{date=2023-03-01, transactions=[Transaction{id=18, userId=1, walletName=&#39;Dailyk&#39;, amount=4.0, note=&#39;Cetvrta transakcija&#39;, date=2023-03-01, wallet=com.budgettracker.demo.userProfile.models.Wallet@68e4f813, transactionType=INCOME, expenseCategories=null, incomeCategories=BUSINESS}]}, TransactionGroup{date=2023-02-01, transactions=[Transaction{id=17, userId=1, walletName=&#39;Dailyk&#39;, amount=3.0, note=&#39;Treca transakcija&#39;, date=2023-02-01, wallet=com.budgettracker.demo.userProfile.models.Wallet@68e4f813, transactionType=INCOME, expenseCategories=null, incomeCategories=EXTRA_INCOME}]}, TransactionGroup{date=2023-01-01, transactions=[Transaction{id=15, userId=1, walletName=&#39;Dailyk&#39;, amount=1.0, note=&#39;Prva transkacija&#39;, date=2023-01-01, wallet=com.budgettracker.demo.userProfile.models.Wallet@68e4f813, transactionType=INCOME, expenseCategories=null, incomeCategories=SALARY}, Transaction{id=16, userId=1, walletName=&#39;Dailyk&#39;, amount=2.0, note=&#39;Druga transkacija&#39;, date=2023-01-01, wallet=com.budgettracker.demo.userProfile.models.Wallet@68e4f813, transactionType=INCOME, expenseCategories=null, incomeCategories=GIFTS}]}]\r\n\r\n  [1]: https://i.stack.imgur.com/3ecf9.png","title":"How to show each data from table separated by date","body":"<p>I'm curious to find a solution for this but couldn't find anything relatable and useful so far.</p>\n<p>Lets say user have two transactions for <code>18/01/2023</code></p>\n<p>I want to have a heading for example like separate <code>&lt;div&gt;</code> and to pass today date and each transaction from today, and below down for example <code>15/01/2023</code> because user also have a transactions on that date.</p>\n<p>This is an example, as you can see I have today section because user made a transaction on today date, also for yesterday and then back on January 14, so I want to separate transactions for each that like that. <a href=\"https://i.stack.imgur.com/3ecf9.png\" rel=\"nofollow noreferrer\">Example</a></p>\n<p>This is <code>Transaction</code> class:</p>\n<pre><code>@Entity\n@Table(name = &quot;transaction&quot;)\npublic class Transaction {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;transaction_id&quot;)\n    private Long id;\n\n    @Column(name = &quot;user_id&quot;, nullable = false)\n    private Long userId;\n\n    @Column(name = &quot;wallet_name&quot;, nullable = false)\n    private String walletName;\n\n    @NotNull(message = &quot;Please, insert a amount&quot;)\n    @Min(value = 0, message = &quot;Please, insert a positive amount&quot;)\n    private Double amount;\n\n    private String note;\n\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\n    @Column(name = &quot;date&quot;)\n    private LocalDate date;\n\n    @ManyToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;wallet_id&quot;, nullable = false)\n    private Wallet wallet;\n\n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;transaction_type&quot;, columnDefinition = &quot;ENUM('EXPENSE', 'INCOME')&quot;)\n    private TransactionType transactionType;\n\n    @Nullable\n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;expense_categories&quot;, columnDefinition = &quot;ENUM('FOOD_AND_DRINK', 'SHOPPING', 'TRANSPORT', 'HOME',&quot; +\n            &quot; 'BILLS_AND_FEES', 'ENTERTAINMENT', 'CAR', 'TRAVEL', 'FAMILY_AND_PERSONAL', 'HEALTHCARE',&quot; +\n            &quot; 'EDUCATION', 'GROCERIES', 'GIFTS', 'BEAUTY', 'WORK', 'SPORTS_AND_HOBBIES', 'OTHER')&quot;)\n    private ExpenseCategories expenseCategories;\n\n    @Nullable\n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;income_categories&quot;, columnDefinition = &quot;ENUM('SALARY', 'BUSINESS', 'GIFTS', 'EXTRA_INCOME', 'LOAN', 'PARENTAL_LEAVE', 'INSURANCE_PAYOUT', 'OTHER')&quot;)\n    private IncomeCategories incomeCategories;\n</code></pre>\n<p>I created a new class that will act as group and that is like this:</p>\n<pre><code> class TransactionGroup {\n private LocalDate date;\n private List&lt;Transaction&gt; transactions;\n /* Getters and setters */\n }\n</code></pre>\n<p>And Thymeleaf:</p>\n<pre><code>    &lt;div th:each=&quot;singleGroup  : ${transactionGroup}&quot;&gt;\n    &lt;h1 th:text=&quot;${singleGroup .date}&quot;&gt;&lt;/h1&gt;\n\n    &lt;div th:each=&quot;singleTrans  : ${singleGroup.transactions}&quot;&gt;\n        &lt;h2&gt;Amount: &lt;span th:text=&quot;${singleTrans .amount}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;br&gt;\n        &lt;h2&gt;Note: &lt;span th:text=&quot;${singleTrans .note}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;br&gt;\n        &lt;h2&gt;Wallet name: &lt;span th:text=&quot;${singleTrans .walletName}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;br&gt;\n        &lt;h2&gt;Expense Category: &lt;span th:text=&quot;${singleTrans .expenseCategories}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;br&gt;\n        &lt;h2&gt;IncomeCategory: &lt;span th:text=&quot;${singleTrans .incomeCategories}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;\n        &lt;div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p>And this is controller:</p>\n<pre><code>   @GetMapping(&quot;/userTransactions/{user_id}&quot;)\npublic String getUserTransactions(@PathVariable(&quot;user_id&quot;) long user_id, TransactionGroup transactionGroup, Model model) {\n    List&lt;Transaction&gt; transactions = transactionRepository.getTransactionsByUserId(user_id);\n    //create a TransactionGroup list\n    List&lt;TransactionGroup&gt; transactionByDate = new ArrayList&lt;&gt;();\n    //create a list that will hold all transactions for a day\n    List&lt;Transaction&gt; transOnSingleDate = new ArrayList&lt;&gt;();\n    //initialize currDate with the first transaction date\n    LocalDate currDate = transactions.get(0).getDate();\n\n    //create a TransactionGroup\n    TransactionGroup transGroup = new TransactionGroup();\n\n    //loop through your transactions and populate the wrapper list\n    for(Transaction t : transactions){\n        //create a new transaction group if the date has changed\n        if(!currDate.isEqual(t.getDate())){\n            //fill the wrapper list before creating a new list\n            transGroup.setDate(currDate);\n            transGroup.setTransactions(transOnSingleDate);\n            transactionByDate.add(transGroup);\n            //create new TransactionGroup and List&lt;Transaction&gt; for a new date\n            transGroup = new TransactionGroup();\n            transOnSingleDate = new ArrayList&lt;&gt;();\n        }\n\n        transOnSingleDate.add( t );\n        currDate = t.getDate();\n    }\n    //add the final list\n    transGroup.setDate(currDate);\n    transGroup.setTransactions(transOnSingleDate);\n    transactionByDate.add(transGroup);\n    model.addAttribute(&quot;transactionGroup&quot;, transactionByDate);\n    return &quot;transactions&quot;;\n</code></pre>\n<p>}</p>\n<p>You can see that I populate here transaction list in <code>TransactionGroup</code> by <code>transactions</code> from entity <code>Transaction:</code></p>\n<p><code>transactionGroup.setTransactions(transactionService.findDistinctIdByUserId(userId));</code></p>\n<p>And on page I can see transactions, but I cant see a date how I want, I cant even see date, date is not displayed, because I didn't populate a date field on class <code>TransactionGroup</code> with date from <code>Transaction</code> class. How I can get a transaction date from each transaction that is created?</p>\n<p>I guess I need to populate it somehow like <code>transactionGroup.setTransactions...</code> but now like <code>transactionGroup.setDate...</code> but Date is not a list type, so there is a problem.</p>\n<p>Its obivous that if I try with <code>transactionGroup.setDate(transaction.getDate);</code> returning <code>null</code></p>\n<p><code>SOUT LOGS</code>:</p>\n<pre><code>    transGroup TransactionGroup{date=2023-01-01, transactions=null}\ntransactionByDate [TransactionGroup{date=2023-03-01, transactions=[Transaction{id=18, userId=1, walletName='Dailyk', amount=4.0, note='Cetvrta transakcija', date=2023-03-01, wallet=com.budgettracker.demo.userProfile.models.Wallet@68e4f813, transactionType=INCOME, expenseCategories=null, incomeCategories=BUSINESS}]}, TransactionGroup{date=2023-02-01, transactions=[Transaction{id=17, userId=1, walletName='Dailyk', amount=3.0, note='Treca transakcija', date=2023-02-01, wallet=com.budgettracker.demo.userProfile.models.Wallet@68e4f813, transactionType=INCOME, expenseCategories=null, incomeCategories=EXTRA_INCOME}]}, TransactionGroup{date=2023-01-01, transactions=[Transaction{id=15, userId=1, walletName='Dailyk', amount=1.0, note='Prva transkacija', date=2023-01-01, wallet=com.budgettracker.demo.userProfile.models.Wallet@68e4f813, transactionType=INCOME, expenseCategories=null, incomeCategories=SALARY}, Transaction{id=16, userId=1, walletName='Dailyk', amount=2.0, note='Druga transkacija', date=2023-01-01, wallet=com.budgettracker.demo.userProfile.models.Wallet@68e4f813, transactionType=INCOME, expenseCategories=null, incomeCategories=GIFTS}]}]\n</code></pre>\n"},{"tags":["java","android","android-activity","android-transitions"],"answers":[{"tags":[],"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676143284,"creation_date":1676138837,"answer_id":75422242,"question_id":75422135,"body_markdown":"Sure you can but since that transition class is not an `Activity` instance (which has the `startActivity()` method), you need to pass the `Activity` instance as well, e.g.:\r\n\r\n    public static void navigateTo(Activity source, Activity destination) {\r\n        Intent intent = new Intent(activity, destination.class);\r\n        source.startActivity(intent);\r\n        source.overridePendingTransition(R.anim.fade_in,R.anim.fade_out); \r\n    }\r\n\r\n \r\nAnother common option is to use an abstract  `BaseActivity` that has this method `onTransition()` and extend your activities from this one (you can also use composition instead of inheritance for a better practice).","title":"Is there a way to create a class to share a transition intent? [building my first android app]","body":"<p>Sure you can but since that transition class is not an <code>Activity</code> instance (which has the <code>startActivity()</code> method), you need to pass the <code>Activity</code> instance as well, e.g.:</p>\n<pre><code>public static void navigateTo(Activity source, Activity destination) {\n    Intent intent = new Intent(activity, destination.class);\n    source.startActivity(intent);\n    source.overridePendingTransition(R.anim.fade_in,R.anim.fade_out); \n}\n</code></pre>\n<p>Another common option is to use an abstract  <code>BaseActivity</code> that has this method <code>onTransition()</code> and extend your activities from this one (you can also use composition instead of inheritance for a better practice).</p>\n"}],"owner":{"account_id":27762027,"reputation":5,"user_id":21194247,"display_name":"JMStacky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75422242,"answer_count":1,"score":0,"last_activity_date":1676143455,"creation_date":1676137786,"question_id":75422135,"body_markdown":"What I am trying to achieve here is create a java class that will allow me to call the method inside the class for an activity transitioning.\r\n\r\nFor instance, I have 3 activities: Main.xml, A activity.xml, B activity.xml. I want to create a class that I can call from main&#39;s java class to transition to A and then from A to B.\r\n\r\nI thought maybe it would be somewhere along that lines of:\r\n\r\n[Transitioning activity class]\r\n//Behind the scenes for activity transitioning, I don&#39;t know how to write this part or if calling it is correct\r\n\r\n`Intent intent = new Intent(?, ?);\r\nstartActivity(intent);\r\noverridePendingTransition(R.anim.fade_in, R.anim.fade_out);`\r\n\r\n[Main]\r\n//calling intent from activity transitioning class\r\n`intent(this, A_activity.class);`\r\n\r\n[A Activity]\r\n//calling intent from activity transitioning class\r\n`intent(this, B_activity.class);`\r\n\r\nAlso I want to apologize, this is indeed my first rodeo, I am self-taught and have no professional experience in programming or developing. Thank you in advance!\r\n\r\nSo far what I am currently doing is creating the transitions in each class:\r\n\r\n[A activity]\r\n\r\n    public void onClick(View v){\r\n        switch(v.getId()){\r\n            case R.id.commBtn:\r\n                inqList.clear();\r\n                inqAdd.addItem(&quot;Commercial&quot;);\r\n                System.out.println(inqList);\r\n                onTransition();\r\n                break;\r\n            case R.id.resBtn:\r\n                inqList.clear();\r\n                inqAdd.addItem(&quot;Residential&quot;);\r\n                System.out.println(inqList);\r\n                onTransition();\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    //Method for transition after clicked\r\n    public void onTransition(){\r\n        Intent intent = new Intent(this, b_scene.class);\r\n        startActivity(intent);\r\n        overridePendingTransition(R.anim.fade_in,R.anim.fade_out);\r\n    }\r\n```\r\n**[Edit]**\r\n///I did this and it works? not sure if its best practice but it worked.\r\n\r\n[Transition Class]\r\n\r\n    public class Transition {\r\n        public static void onTrans(Activity activity, Class name) {\r\n            Intent intent = new Intent(activity, name);\r\n            activity.startActivity(intent);\r\n            activity.overridePendingTransition(R.anim.fade_in,R.anim.fade_out);\r\n        }\r\n    }\r\n```\r\n    [A Activity]\r\n    ///Just put this in A activity\r\n    \r\n    public void onClick(View v){\r\n    ...\r\n    onTrans(this, B_Activity.class)\r\n    }\r\n```","title":"Is there a way to create a class to share a transition intent? [building my first android app]","body":"<p>What I am trying to achieve here is create a java class that will allow me to call the method inside the class for an activity transitioning.</p>\n<p>For instance, I have 3 activities: Main.xml, A activity.xml, B activity.xml. I want to create a class that I can call from main's java class to transition to A and then from A to B.</p>\n<p>I thought maybe it would be somewhere along that lines of:</p>\n<p>[Transitioning activity class]\n//Behind the scenes for activity transitioning, I don't know how to write this part or if calling it is correct</p>\n<p><code>Intent intent = new Intent(?, ?); startActivity(intent); overridePendingTransition(R.anim.fade_in, R.anim.fade_out);</code></p>\n<p>[Main]\n//calling intent from activity transitioning class\n<code>intent(this, A_activity.class);</code></p>\n<p>[A Activity]\n//calling intent from activity transitioning class\n<code>intent(this, B_activity.class);</code></p>\n<p>Also I want to apologize, this is indeed my first rodeo, I am self-taught and have no professional experience in programming or developing. Thank you in advance!</p>\n<p>So far what I am currently doing is creating the transitions in each class:</p>\n<p>[A activity]</p>\n<pre><code>public void onClick(View v){\n    switch(v.getId()){\n        case R.id.commBtn:\n            inqList.clear();\n            inqAdd.addItem(&quot;Commercial&quot;);\n            System.out.println(inqList);\n            onTransition();\n            break;\n        case R.id.resBtn:\n            inqList.clear();\n            inqAdd.addItem(&quot;Residential&quot;);\n            System.out.println(inqList);\n            onTransition();\n            break;\n        default:\n            break;\n    }\n}\n\n//Method for transition after clicked\npublic void onTransition(){\n    Intent intent = new Intent(this, b_scene.class);\n    startActivity(intent);\n    overridePendingTransition(R.anim.fade_in,R.anim.fade_out);\n}\n</code></pre>\n<pre><code>**[Edit]**\n///I did this and it works? not sure if its best practice but it worked.\n\n[Transition Class]\n\n    public class Transition {\n        public static void onTrans(Activity activity, Class name) {\n            Intent intent = new Intent(activity, name);\n            activity.startActivity(intent);\n            activity.overridePendingTransition(R.anim.fade_in,R.anim.fade_out);\n        }\n    }\n</code></pre>\n<pre><code>[A Activity]\n///Just put this in A activity\n\npublic void onClick(View v){\n...\nonTrans(this, B_Activity.class)\n}\n</code></pre>\n<pre><code></code></pre>\n"},{"tags":["java","database","junit","mockito","namedparameterjdbctemplate"],"comments":[{"owner":{"account_id":17094621,"reputation":114,"user_id":12369894,"display_name":"Lucas Favaro Borsatto"},"score":0,"creation_date":1676145772,"post_id":75422504,"comment_id":133080354,"body_markdown":"Try to use @SpringBootTest above the &quot;public class RaRepositoyTest {&quot;. Are you sure the Spring is reading application.properties correct? Try either: @ActiveProfiles(&quot;test&quot;) // using for example src/test/resources/application-test.properties","body":"Try to use @SpringBootTest above the &quot;public class RaRepositoyTest {&quot;. Are you sure the Spring is reading application.properties correct? Try either: @ActiveProfiles(&quot;test&quot;) // using for example src/test/resources/application-test.properties"},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1676296202,"post_id":75422504,"comment_id":133102863,"body_markdown":"What effect do you observe when executing your test when using these annotations? `@DataJdbcTest` and `@RunWith(SpringRunner.class)` seem like good choice of annotations if using jUnit4. (you need both)","body":"What effect do you observe when executing your test when using these annotations? <code>@DataJdbcTest</code> and <code>@RunWith(SpringRunner.class)</code> seem like good choice of annotations if using jUnit4. (you need both)"},{"owner":{"account_id":25272564,"reputation":9,"user_id":19101688,"display_name":"Sumit Kumar"},"score":0,"creation_date":1676368688,"post_id":75422504,"comment_id":133118462,"body_markdown":"It worked with @RunWith(SpringRunner.class). however I had to create separate class which initialized data Source  with @Bean annotation for the SpringRunner before running test case.","body":"It worked with @RunWith(SpringRunner.class). however I had to create separate class which initialized data Source  with @Bean annotation for the SpringRunner before running test case."},{"owner":{"account_id":25272564,"reputation":9,"user_id":19101688,"display_name":"Sumit Kumar"},"score":0,"creation_date":1676391332,"post_id":75422504,"comment_id":133125695,"body_markdown":"@Lucas,Lesiak- Can you check for this once? https://stackoverflow.com/questions/75446117/mock-namedparameterjdbctemplate-with-callback-function?noredirect=1#comment133118441_75446117","body":"@Lucas,Lesiak- Can you check for this once? <a href=\"https://stackoverflow.com/questions/75446117/mock-namedparameterjdbctemplate-with-callback-function?noredirect=1#comment133118441_75446117\" title=\"mock namedparameterjdbctemplate with callback function\">stackoverflow.com/questions/75446117/&hellip;</a>"}],"owner":{"account_id":25272564,"reputation":9,"user_id":19101688,"display_name":"Sumit Kumar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676143084,"creation_date":1676140976,"question_id":75422504,"body_markdown":"I have a Repository class RaRepository as below\r\n\r\n```\r\n@Repository\r\npublic class RaRepository{\r\n@Autowired\r\nprivate NamedParameterJdbcTemplate jdbcTemplate;\r\n\r\npublic List&lt;raAttribute&gt; findFieldsByItemId(list&lt;string&gt; itemsId){\r\nString sql = &quot;select * from abc where id in (:itemsId)&quot;;\r\nSqlParameterSource param = new MapSqlParameterSource(&quot;itemsId&quot;,itemsId);\r\nList&lt;raAtrribute&gt; raAttList = jdbcTemplate.query(sql, param, \r\n(rs, rowNum) -&gt; new raAtrribute(rs.getString(ps_name)));\r\n\r\nreturn raAttList;\r\n}\r\n\r\n}\r\n```\r\n\r\nI have written a Junit Test class as below\r\n```\r\npublic class RaRepositoryTest {\r\n@Autowired \r\nPrivate RaRepository raRepository;\r\n\r\n@Test\r\npublic void findFieldsByItemId(){\r\nList&lt;String&gt; itemsId = new ArrayList&lt;&gt;();\r\nitemsId.add(&quot;VZ203&quot;)\r\nList&lt;raAttribute&gt; raAttlist = raRepository.findFieldsByItemId(itemsId);\r\nAssert.assertEquals(2, raAttlist.size);\r\n}\r\n```\r\nThe datasource written in application.properties file. I need to connect to actual db and run tests. I have tried with annotations like @RunWith(SpringRunner.class), @DataJdbcTest etc. I am new to jdbctemplate and not sure how to write test case for above scenario to achieve db connectivity. \r\n\r\nNote: Iam using JUnit4 andService class which actually calls findFieldsByItemId method have separate mocking unit test.\r\n\r\n","title":"JUnit Integration Testing NamedJdbcTemplate","body":"<p>I have a Repository class RaRepository as below</p>\n<pre><code>@Repository\npublic class RaRepository{\n@Autowired\nprivate NamedParameterJdbcTemplate jdbcTemplate;\n\npublic List&lt;raAttribute&gt; findFieldsByItemId(list&lt;string&gt; itemsId){\nString sql = &quot;select * from abc where id in (:itemsId)&quot;;\nSqlParameterSource param = new MapSqlParameterSource(&quot;itemsId&quot;,itemsId);\nList&lt;raAtrribute&gt; raAttList = jdbcTemplate.query(sql, param, \n(rs, rowNum) -&gt; new raAtrribute(rs.getString(ps_name)));\n\nreturn raAttList;\n}\n\n}\n</code></pre>\n<p>I have written a Junit Test class as below</p>\n<pre><code>public class RaRepositoryTest {\n@Autowired \nPrivate RaRepository raRepository;\n\n@Test\npublic void findFieldsByItemId(){\nList&lt;String&gt; itemsId = new ArrayList&lt;&gt;();\nitemsId.add(&quot;VZ203&quot;)\nList&lt;raAttribute&gt; raAttlist = raRepository.findFieldsByItemId(itemsId);\nAssert.assertEquals(2, raAttlist.size);\n}\n</code></pre>\n<p>The datasource written in application.properties file. I need to connect to actual db and run tests. I have tried with annotations like @RunWith(SpringRunner.class), @DataJdbcTest etc. I am new to jdbctemplate and not sure how to write test case for above scenario to achieve db connectivity.</p>\n<p>Note: Iam using JUnit4 andService class which actually calls findFieldsByItemId method have separate mocking unit test.</p>\n"},{"tags":["java","excel","memory","file-io"],"comments":[{"owner":{"account_id":109059,"reputation":20712,"user_id":289171,"accept_rate":100,"display_name":"CoolBeans"},"score":0,"creation_date":1295557065,"post_id":4752456,"comment_id":5255929,"body_markdown":"only other one I know of is http://jexcelapi.sourceforge.net/ . I have never used it myself so can&#39;t really comment on the memory usage.","body":"only other one I know of is <a href=\"http://jexcelapi.sourceforge.net/\" rel=\"nofollow noreferrer\">jexcelapi.sourceforge.net</a> . I have never used it myself so can&#39;t really comment on the memory usage."},{"owner":{"account_id":36759,"reputation":38034,"user_id":104950,"accept_rate":93,"display_name":"Amir Afghani"},"score":0,"creation_date":1295557979,"post_id":4752456,"comment_id":5256168,"body_markdown":"How much memory is too much for you?","body":"How much memory is too much for you?"},{"owner":{"account_id":164832,"reputation":6558,"user_id":387852,"accept_rate":71,"display_name":"Michael McGowan"},"score":0,"creation_date":1295565386,"post_id":4752456,"comment_id":5257704,"body_markdown":"How much is too much depends.  Ideally though if the file is such that it could be processed if first saved as a .csv, I would like it if it could be processed as an Excel file.  The ideal might not be possible, but I would like to be closer.","body":"How much is too much depends.  Ideally though if the file is such that it could be processed if first saved as a .csv, I would like it if it could be processed as an Excel file.  The ideal might not be possible, but I would like to be closer."}],"answers":[{"tags":[],"owner":{"account_id":96837,"reputation":94466,"user_id":263004,"accept_rate":96,"display_name":"Vivin Paliath"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1295558653,"creation_date":1295558653,"answer_id":4752762,"question_id":4752456,"body_markdown":"Apache&#39;s POI library has an [event-based API][1] that has a smaller memory-footprint. Unfortunately, it only works with HSSF (Horrible Spreadsheet Format) and not XSSF (XML Spreadsheet Format - for OOXML files).\r\n\r\n\r\n  [1]: http://poi.apache.org/spreadsheet/how-to.html#event_api","title":"Memory-efficient Java library to read Excel files?","body":"<p>Apache's POI library has an <a href=\"http://poi.apache.org/spreadsheet/how-to.html#event_api\">event-based API</a> that has a smaller memory-footprint. Unfortunately, it only works with HSSF (Horrible Spreadsheet Format) and not XSSF (XML Spreadsheet Format - for OOXML files).</p>\n"},{"tags":[],"owner":{"account_id":10258,"reputation":26460,"user_id":19276,"accept_rate":81,"display_name":"DJClayworth"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1295558787,"creation_date":1295558787,"answer_id":4752789,"question_id":4752456,"body_markdown":"The Excel file formats are (both) huge and extremely complicated, and anything that reads all of their possible contents is going to be equally huge and complicated. Remember they can contain ranges, macros, links, embedded stuff etc.\r\n\r\nHowever if you are reading something simple like a grid of numbers, I recommend first converting the spreadsheet to something simpler like CSV and then reading that format.","title":"Memory-efficient Java library to read Excel files?","body":"<p>The Excel file formats are (both) huge and extremely complicated, and anything that reads all of their possible contents is going to be equally huge and complicated. Remember they can contain ranges, macros, links, embedded stuff etc.</p>\n\n<p>However if you are reading something simple like a grid of numbers, I recommend first converting the spreadsheet to something simpler like CSV and then reading that format.</p>\n"},{"tags":[],"owner":{"account_id":30387,"reputation":62460,"user_id":82865,"accept_rate":71,"display_name":"Jonathan Holloway"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1295559020,"creation_date":1295559020,"answer_id":4752825,"question_id":4752456,"body_markdown":"Take a look at JExcel:\r\n\r\n[http://jexcelapi.sourceforge.net/][1]\r\n\r\nI can&#39;t account for the memory footprint, but obviously with large spreadsheets your going to consume lots of memory for processing.  \r\n\r\nYou should be able to use it for xls and xlsx:\r\n\r\n[https://stackoverflow.com/questions/267025/read-xlsx-file-in-java][2]\r\n\r\n\r\n  [1]: http://jexcelapi.sourceforge.net/\r\n  [2]: https://stackoverflow.com/questions/267025/read-xlsx-file-in-java","title":"Memory-efficient Java library to read Excel files?","body":"<p>Take a look at JExcel:</p>\n\n<p><a href=\"http://jexcelapi.sourceforge.net/\" rel=\"nofollow noreferrer\">http://jexcelapi.sourceforge.net/</a></p>\n\n<p>I can't account for the memory footprint, but obviously with large spreadsheets your going to consume lots of memory for processing.  </p>\n\n<p>You should be able to use it for xls and xlsx:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/267025/read-xlsx-file-in-java\">Read XLSX file in Java</a></p>\n"},{"tags":[],"owner":{"account_id":2712019,"reputation":161,"user_id":2340261,"display_name":"dami"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676142928,"creation_date":1676142928,"answer_id":75422719,"question_id":4752456,"body_markdown":"I cannot answer your question directly, as I&#39;m not using Java; however I can share a similar experience in Perl that may be partially relevant.\r\n\r\nThe OOXML format is indeed very large and complex, so any software that aims at covering the full specification is likely to be quite costly in terms of resources. In Perl, the most well-known module for reading `.xlsx` files is https://metacpan.org/pod/Spreadsheet::ParseXLSX, which does the job well for small and medium files; however it is far too slow on large amounts of data. So I ended up writing another module https://metacpan.org/pod/Excel::ValueReader::XLSX, with far less features, but optimized for fast parsing of large files. \r\n\r\nThe moral is : there is no one-size-fits-all solution. If you are willing to sacrifice some features for better speed or less memory consumption, you might find other libraries. In Java, https://github.com/dhatim/fastexcel could perhaps be a good candidate (just from reading the documentation).\r\n","title":"Memory-efficient Java library to read Excel files?","body":"<p>I cannot answer your question directly, as I'm not using Java; however I can share a similar experience in Perl that may be partially relevant.</p>\n<p>The OOXML format is indeed very large and complex, so any software that aims at covering the full specification is likely to be quite costly in terms of resources. In Perl, the most well-known module for reading <code>.xlsx</code> files is <a href=\"https://metacpan.org/pod/Spreadsheet::ParseXLSX\" rel=\"nofollow noreferrer\">https://metacpan.org/pod/Spreadsheet::ParseXLSX</a>, which does the job well for small and medium files; however it is far too slow on large amounts of data. So I ended up writing another module <a href=\"https://metacpan.org/pod/Excel::ValueReader::XLSX\" rel=\"nofollow noreferrer\">https://metacpan.org/pod/Excel::ValueReader::XLSX</a>, with far less features, but optimized for fast parsing of large files.</p>\n<p>The moral is : there is no one-size-fits-all solution. If you are willing to sacrifice some features for better speed or less memory consumption, you might find other libraries. In Java, <a href=\"https://github.com/dhatim/fastexcel\" rel=\"nofollow noreferrer\">https://github.com/dhatim/fastexcel</a> could perhaps be a good candidate (just from reading the documentation).</p>\n"}],"owner":{"account_id":164832,"reputation":6558,"user_id":387852,"accept_rate":71,"display_name":"Michael McGowan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10234,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"closed_date":1676208898,"accepted_answer_id":4752762,"answer_count":4,"score":5,"last_activity_date":1676142928,"creation_date":1295556768,"question_id":4752456,"body_markdown":"Is there a memory-efficient Java library to read large Microsoft Excel files (both .xls and .xlsx)?  I have very limited experience with Apache POI, and it seemed to be a huge memory hog from what I recall (though perhaps this was just for writing and not for reading).  Is there something better?  Or am I misremembering and/or misusing POI?\r\n\r\nIt would be important for it to have a &quot;friendly&quot; open-source license as well.","title":"Memory-efficient Java library to read Excel files?","body":"<p>Is there a memory-efficient Java library to read large Microsoft Excel files (both .xls and .xlsx)?  I have very limited experience with Apache POI, and it seemed to be a huge memory hog from what I recall (though perhaps this was just for writing and not for reading).  Is there something better?  Or am I misremembering and/or misusing POI?</p>\n\n<p>It would be important for it to have a \"friendly\" open-source license as well.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1676137369,"post_id":75421961,"comment_id":133078945,"body_markdown":"Please show your full pom file...","body":"Please show your full pom file..."}],"owner":{"account_id":4205131,"reputation":9,"user_id":3444273,"display_name":"Amir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676141950,"creation_date":1676136058,"question_id":75421961,"body_markdown":"I am using maven assembly to build my java application and package it as a JAR file. The resources are located in src/main/resources and they are not copied to the created JAR file.\r\n\r\nThe POM.XML is like this:\r\n\r\n       &lt;build&gt;\r\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n      &lt;plugins&gt;\r\n        &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.22.1&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.5.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.8.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.7.1&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n          &lt;configuration&gt;\r\n            &lt;descriptorRefs&gt;\r\n              &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n            &lt;/descriptorRefs&gt;\r\n            &lt;archive&gt;\r\n              &lt;manifest&gt;\r\n                &lt;mainClass&gt;com.test.Application&lt;/mainClass&gt;\r\n              &lt;/manifest&gt;\r\n            &lt;/archive&gt;\r\n          &lt;/configuration&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;id&gt;make-assembly&lt;/id&gt;\r\n              &lt;phase&gt;package&lt;/phase&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;single&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n\r\n\r\nPlease let me know how can I fix this! I tried to use Resource tag, but it did not work.\r\n","title":"Maven Assembly Plugin : Resources are not copied as expected","body":"<p>I am using maven assembly to build my java application and package it as a JAR file. The resources are located in src/main/resources and they are not copied to the created JAR file.</p>\n<p>The POM.XML is like this:</p>\n<pre><code>   &lt;build&gt;\n&lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n  &lt;plugins&gt;\n    &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n    &lt;plugin&gt;\n      &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;/plugin&gt;\n    &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\n    &lt;plugin&gt;\n      &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.0.2&lt;/version&gt;\n    &lt;/plugin&gt;\n    &lt;plugin&gt;\n      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.8.0&lt;/version&gt;\n    &lt;/plugin&gt;\n    &lt;plugin&gt;\n      &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n      &lt;version&gt;2.22.1&lt;/version&gt;\n    &lt;/plugin&gt;\n    &lt;plugin&gt;\n      &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.0.2&lt;/version&gt;\n    &lt;/plugin&gt;\n    &lt;plugin&gt;\n      &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n      &lt;version&gt;2.5.2&lt;/version&gt;\n    &lt;/plugin&gt;\n    &lt;plugin&gt;\n      &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n      &lt;version&gt;2.8.2&lt;/version&gt;\n    &lt;/plugin&gt;\n    &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\n    &lt;plugin&gt;\n      &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.7.1&lt;/version&gt;\n    &lt;/plugin&gt;\n    &lt;plugin&gt;\n      &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/pluginManagement&gt;\n&lt;plugins&gt;\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n      &lt;configuration&gt;\n        &lt;descriptorRefs&gt;\n          &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n        &lt;/descriptorRefs&gt;\n        &lt;archive&gt;\n          &lt;manifest&gt;\n            &lt;mainClass&gt;com.test.Application&lt;/mainClass&gt;\n          &lt;/manifest&gt;\n        &lt;/archive&gt;\n      &lt;/configuration&gt;\n      &lt;executions&gt;\n        &lt;execution&gt;\n          &lt;id&gt;make-assembly&lt;/id&gt;\n          &lt;phase&gt;package&lt;/phase&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;single&lt;/goal&gt;\n          &lt;/goals&gt;\n        &lt;/execution&gt;\n      &lt;/executions&gt;\n  &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n  \n<p>Please let me know how can I fix this! I tried to use Resource tag, but it did not work.</p>\n"},{"tags":["java","websocket","quarkus","quarkus-reactive"],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676141780,"creation_date":1676141055,"answer_id":75422513,"question_id":75413248,"body_markdown":"The MDC is, if I remember correctly, ThreadLocal, and only filled/relevant during the initial `@OnOpen` call.\r\n\r\nStore MDC context map somewhere, maybe using the connection&#39;s `Session` as a key?\r\n\r\n    class UserWebSocketController {\r\n        class AsyncMessage implements Serializable {\r\n            AsyncMessage(String sessionId, String message) {\r\n                ...\r\n            }\r\n        }\r\n\r\n        private static final Map&lt;String,Map&lt;String,String&gt;&gt; ACTIVE_MDCS = new ...\r\n        . . .\r\n        void onOpen(. . .) {\r\n            MDC.put(&quot;websocket.sessionId&quot;, session.getId());\r\n            MDC.put(&quot;user.id&quot;, userId);\r\n            storeSessionMDC(session.getId());\r\n            . . .\r\n        }\r\n\r\n        void onMessage(. . .) {\r\n            restoreSessionMDC(session.getId());\r\n            . . .\r\n            vertx.eventBus().send(&quot;websocket.message.new&quot;,\r\n                 new AsyncMessage(session.getId(),message));\r\n        }\r\n\r\n        void onClose(. . .) {\r\n            restoreSessionMDC(session.getId());\r\n            . . .\r\n            removeSessionMDC(session.getId());\r\n            . . .\r\n        }\r\n        // etc.\r\n\r\n        private static void storeSessionMDC(String sessionId) {\r\n            ACTIVE_MDCS.put(sessionId, MDC.getCopyOfContextMap());\r\n        }\r\n        public static void restoreSessionMDC(String sessionId) {\r\n            MDC.setContextMap(ACTIVE_MDCS.get(sessionId));\r\n        }\r\n        private static void removeSessionMDC(String sessionId) {\r\n            ACTIVE_MDCS.remove(sessionId);\r\n        }\r\n    }\r\n\r\nand\r\n\r\n    class UserService {\r\n        Uni&lt;Void&gt; handleWebSocketMessages(AsyncMessage asyncMessage) {\r\n            UserWebSocketController\r\n                .restoreSessionMDC(asyncMessage.getSessionId());\r\n            . . .\r\n        }\r\n    }","title":"Quarkus WebSocket server async MDC Context propagation","body":"<p>The MDC is, if I remember correctly, ThreadLocal, and only filled/relevant during the initial <code>@OnOpen</code> call.</p>\n<p>Store MDC context map somewhere, maybe using the connection's <code>Session</code> as a key?</p>\n<pre><code>class UserWebSocketController {\n    class AsyncMessage implements Serializable {\n        AsyncMessage(String sessionId, String message) {\n            ...\n        }\n    }\n\n    private static final Map&lt;String,Map&lt;String,String&gt;&gt; ACTIVE_MDCS = new ...\n    . . .\n    void onOpen(. . .) {\n        MDC.put(&quot;websocket.sessionId&quot;, session.getId());\n        MDC.put(&quot;user.id&quot;, userId);\n        storeSessionMDC(session.getId());\n        . . .\n    }\n\n    void onMessage(. . .) {\n        restoreSessionMDC(session.getId());\n        . . .\n        vertx.eventBus().send(&quot;websocket.message.new&quot;,\n             new AsyncMessage(session.getId(),message));\n    }\n\n    void onClose(. . .) {\n        restoreSessionMDC(session.getId());\n        . . .\n        removeSessionMDC(session.getId());\n        . . .\n    }\n    // etc.\n\n    private static void storeSessionMDC(String sessionId) {\n        ACTIVE_MDCS.put(sessionId, MDC.getCopyOfContextMap());\n    }\n    public static void restoreSessionMDC(String sessionId) {\n        MDC.setContextMap(ACTIVE_MDCS.get(sessionId));\n    }\n    private static void removeSessionMDC(String sessionId) {\n        ACTIVE_MDCS.remove(sessionId);\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>class UserService {\n    Uni&lt;Void&gt; handleWebSocketMessages(AsyncMessage asyncMessage) {\n        UserWebSocketController\n            .restoreSessionMDC(asyncMessage.getSessionId());\n        . . .\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10361781,"reputation":321,"user_id":7642031,"display_name":"Jorge F. Sanchez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":302,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676141780,"creation_date":1676043834,"question_id":75413248,"body_markdown":"I&#39;m trying to create a Quarkus WebSocket server with some async workaround.\r\nI want to process the incoming messages asynchronously by publishing an event in the Vertx EventBus and then process them in a different &#39;service&#39; class. At the same time, I want to be able to propagate the MDC context.\r\nHere is an example of what I&#39;m trying to do, but so far the MDC context propagation is not working.\r\n\r\n```java\r\n// WebSocket endpoint controller\r\n@Slf4j\r\n@ApplicationScoped\r\n@ServerEndpoint(value = &quot;/users/{userId}&quot;)\r\nclass UserWebSocketController {\r\n  private final WebsocketConnectionService websocketConnectionService;\r\n  private final Vertx vertx;\r\n\r\n  UserWebSocketController(WebsocketConnectionService websocketConnectionService, Vertx vertx) {\r\n    this.websocketConnectionService = websocketConnectionService;\r\n    this.vertx = vertx;\r\n  }\r\n\r\n  @OnOpen\r\n  void onOpen(Session session, @PathParam(&quot;userId&quot;) String userId) {\r\n    MDC.put(&quot;websocket.sessionId&quot;, session.getId());\r\n    MDC.put(&quot;user.id&quot;, userId);\r\n    log.info(&quot;New WebSocket Session opened.&quot;);\r\n    websocketConnectionService.addConnection(userId, session);\r\n  }\r\n\r\n  @OnMessage\r\n  void onMessage(Session session, String message, @PathParam(&quot;userId&quot;) String userId) {\r\n    // How do I get the same MDC context here?\r\n    //MDC.get(&quot;user.id&quot;) is null here\r\n    log.info(&quot;New message received.&quot;);\r\n    vertx.eventBus().send(&quot;websocket.message.new&quot;, message);\r\n  }\r\n\r\n  @OnClose\r\n  void onClose(Session session, @PathParam(&quot;userId&quot;) String userId) {\r\n    log.info(&quot;WebSocket Session closed.&quot;);\r\n    websocketConnectionService.removeSession(userId);\r\n  }\r\n\r\n  @OnError\r\n  void onError(Session session, @PathParam(&quot;userId&quot;) String userId, Throwable throwable) {\r\n    log.error(&quot;There was an error in the WebSocket Session.&quot;);\r\n    websocketConnectionService.removeSession(userId);\r\n  }\r\n}\r\n```\r\n\r\n```java\r\n// Service class\r\n@Slf4j\r\n@ApplicationScoped\r\nclass UserService {\r\n  private final WebsocketConnectionService websocketConnectionService;\r\n  private final Vertx vertx;\r\n\r\n  UserService(WebsocketConnectionService websocketConnectionService, Vertx vertx) {\r\n    this.websocketConnectionService = websocketConnectionService;\r\n    this.vertx = vertx;\r\n  }\r\n\r\n  @ConsumeEvent(&quot;websocket.message.new&quot;)\r\n  Uni&lt;Void&gt; handleWebSocketMessages(String message) {\r\n    // How do I get the same MDC context here?\r\n    final var userId = MDC.get(&quot;user.id&quot;); // this is null\r\n    log.info(&quot;&#39;userId&#39; exists in the MDC Context (userId=%s)&quot;.formatted(userId));\r\n\r\n    // do some business with the userId\r\n\r\n    return Uni.createFrom().voidItem();\r\n  }\r\n}\r\n```\r\n\r\nDo you have any idea how can I make this context propagation work?\r\n","title":"Quarkus WebSocket server async MDC Context propagation","body":"<p>I'm trying to create a Quarkus WebSocket server with some async workaround.\nI want to process the incoming messages asynchronously by publishing an event in the Vertx EventBus and then process them in a different 'service' class. At the same time, I want to be able to propagate the MDC context.\nHere is an example of what I'm trying to do, but so far the MDC context propagation is not working.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// WebSocket endpoint controller\n@Slf4j\n@ApplicationScoped\n@ServerEndpoint(value = &quot;/users/{userId}&quot;)\nclass UserWebSocketController {\n  private final WebsocketConnectionService websocketConnectionService;\n  private final Vertx vertx;\n\n  UserWebSocketController(WebsocketConnectionService websocketConnectionService, Vertx vertx) {\n    this.websocketConnectionService = websocketConnectionService;\n    this.vertx = vertx;\n  }\n\n  @OnOpen\n  void onOpen(Session session, @PathParam(&quot;userId&quot;) String userId) {\n    MDC.put(&quot;websocket.sessionId&quot;, session.getId());\n    MDC.put(&quot;user.id&quot;, userId);\n    log.info(&quot;New WebSocket Session opened.&quot;);\n    websocketConnectionService.addConnection(userId, session);\n  }\n\n  @OnMessage\n  void onMessage(Session session, String message, @PathParam(&quot;userId&quot;) String userId) {\n    // How do I get the same MDC context here?\n    //MDC.get(&quot;user.id&quot;) is null here\n    log.info(&quot;New message received.&quot;);\n    vertx.eventBus().send(&quot;websocket.message.new&quot;, message);\n  }\n\n  @OnClose\n  void onClose(Session session, @PathParam(&quot;userId&quot;) String userId) {\n    log.info(&quot;WebSocket Session closed.&quot;);\n    websocketConnectionService.removeSession(userId);\n  }\n\n  @OnError\n  void onError(Session session, @PathParam(&quot;userId&quot;) String userId, Throwable throwable) {\n    log.error(&quot;There was an error in the WebSocket Session.&quot;);\n    websocketConnectionService.removeSession(userId);\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// Service class\n@Slf4j\n@ApplicationScoped\nclass UserService {\n  private final WebsocketConnectionService websocketConnectionService;\n  private final Vertx vertx;\n\n  UserService(WebsocketConnectionService websocketConnectionService, Vertx vertx) {\n    this.websocketConnectionService = websocketConnectionService;\n    this.vertx = vertx;\n  }\n\n  @ConsumeEvent(&quot;websocket.message.new&quot;)\n  Uni&lt;Void&gt; handleWebSocketMessages(String message) {\n    // How do I get the same MDC context here?\n    final var userId = MDC.get(&quot;user.id&quot;); // this is null\n    log.info(&quot;'userId' exists in the MDC Context (userId=%s)&quot;.formatted(userId));\n\n    // do some business with the userId\n\n    return Uni.createFrom().voidItem();\n  }\n}\n</code></pre>\n<p>Do you have any idea how can I make this context propagation work?</p>\n"},{"tags":["java","android","barcode-scanner","google-mlkit"],"comments":[{"owner":{"account_id":18397088,"reputation":226,"user_id":13401226,"display_name":"zhouyi"},"score":0,"creation_date":1682532510,"post_id":75420254,"comment_id":134232756,"body_markdown":"ML Kit demo has sample of using CameraX to scan barcode.\nhttps://github.com/googlesamples/mlkit/blob/master/android/vision-quickstart/app/src/main/java/com/google/mlkit/vision/demo/kotlin/CameraXLivePreviewActivity.kt#L307","body":"ML Kit demo has sample of using CameraX to scan barcode. <a href=\"https://github.com/googlesamples/mlkit/blob/master/android/vision-quickstart/app/src/main/java/com/google/mlkit/vision/demo/kotlin/CameraXLivePreviewActivity.kt#L307\" rel=\"nofollow noreferrer\">github.com/googlesamples/mlkit/blob/master/android/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":26709621,"reputation":376,"user_id":20315230,"display_name":"SudoKoach"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676141447,"creation_date":1676141447,"answer_id":75422554,"question_id":75420254,"body_markdown":"&gt; Check out this site for the java coding of camerax:\r\n&gt; https://learntodroid.com/how-to-create-a-qr-code-scanner-app-in-android/.\r\n&gt; I use ML-Kit instead of zxing and it works well.","title":"CameraX and barcodes scanning in java","body":"<blockquote>\n<p>Check out this site for the java coding of camerax:\n<a href=\"https://learntodroid.com/how-to-create-a-qr-code-scanner-app-in-android/\" rel=\"nofollow noreferrer\">https://learntodroid.com/how-to-create-a-qr-code-scanner-app-in-android/</a>.\nI use ML-Kit instead of zxing and it works well.</p>\n</blockquote>\n"}],"owner":{"account_id":1361461,"reputation":1592,"user_id":1298744,"accept_rate":71,"display_name":"Zelig63"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676141447,"creation_date":1676118874,"question_id":75420254,"body_markdown":"I&#39;m trying to use `CameraX` and `MlKit` to read barcodes but I get the following error when I try to build my app : \r\n\r\nDuplicate class kotlin.collections.jdk8.CollectionsJDK8Kt found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk8-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.0)\r\n\r\nDoes anyone know where this problem could come from and how to solve it?\r\n\r\nAnd could anyone tell me where I could find a comprehensive `CameraX` doc using Java and not Kotlin?","title":"CameraX and barcodes scanning in java","body":"<p>I'm trying to use <code>CameraX</code> and <code>MlKit</code> to read barcodes but I get the following error when I try to build my app :</p>\n<p>Duplicate class kotlin.collections.jdk8.CollectionsJDK8Kt found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk8-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.0)</p>\n<p>Does anyone know where this problem could come from and how to solve it?</p>\n<p>And could anyone tell me where I could find a comprehensive <code>CameraX</code> doc using Java and not Kotlin?</p>\n"},{"tags":["java","spring-boot","jwt","aes","jjwt"],"owner":{"account_id":27761074,"reputation":1,"user_id":21193495,"display_name":"HenryVB"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676141185,"creation_date":1676141185,"question_id":75422522,"body_markdown":"I hope you can help me\r\n\r\n**The Problem**\r\nI got this exception mentioned in the title with some cases. My application generates JWT tokens every month with a scheduled process. The problem is that this cases were working fine the corresponding last month but the next one is invalid. For example, i generated tokens last month and were working fine but in some part of the time it started to throw the exception when trying to parse.\r\n\r\nAs an additional information i have some tokens from 2 months ago that works correctly despite it can be expired.\r\n\r\nI haven&#39;t made any recent changes to the code and the secret value remains the same. Also i don&#39;t think is problem of the exp or expiration value (if this was true i think it will throw ExpiredException)\r\n\r\nActually i&#39;m using in maven the 0.11.1 version in maven for jjwt-api, jjwt-impl and jjwt-jackson dependencies. My application in production stage is deployed in Azure Kubernetes Services with Java 11. The algorithm im using is HS512.\r\n\r\n\r\n**Wrong Token example**\r\neyJhbGciOiJIUzUxMiJ9.eyJkb2N1bWVudFR5cGUiOiJETkkiLCJwcm9jZXNzSWQiOjQ4LCJkb2N1bWVudE51bWJlciI6IjA0OTM4NjIwIiwiZXhwaXJhdGlvbiI6IjIwMjMtMDYtMDEiLCJhZmZpbGlhdGVJZCI6Ijk3NTM3N0pYWVpMNyIsImV4cCI6MTY4NTU5NTYwMH0.NpN5as_YczjzmrBVHrEt9d0ba962PYZZolzgEx3EFQtqyumORqs6vNDLRFowFkKh8sCbqUyQxv57L6FhqhPhRw\r\n\r\n**Correct Token example**\r\neyJhbGciOiJIUzUxMiJ9.eyJkb2N1bWVudFR5cGUiOiJETkkiLCJwcm9jZXNzSWQiOjM4LCJkb2N1bWVudE51bWJlciI6Ijg1MjAyMTM0IiwiZXhwaXJhdGlvbiI6IjIwMjMtMDMtMDEiLCJhZmZpbGlhdGVJZCI6IjE4NzM1N1pCUkNOMyIsImV4cCI6MTY3NzY0NjgwMH0.CBqKDJcWIs0hq7jy9LTyb1INVTqkWKi0KQgYLCEDR7TUG5lNQBKriO_fvcFhZOZfs6E0DqtDmdtcj1oI2XWbvg\r\n\r\n\r\n\r\nIf you guys need more information i can help giving some examples with correct and incorrect tokens.\r\nRegards\r\nHenry.\r\n\r\n\r\nI share with you some information in order you guys can help me to resolve or get the problem\r\n\r\n`@Value(&quot;${token.exchange.jwt.secret}&quot;)\r\nprivate String secret;\r\n`\r\n`@Value(&quot;${token.exchange.jwt.expiration}&quot;)\r\nprivate Integer expirationMonth;`\r\n\r\n\r\n**1.- Generate method**\r\n\r\nprivate String doGenerateToken(Map&lt;String, Object&gt; claims) throws NotFoundException {\r\n\r\n        ZoneId defaultZone = ZoneId.systemDefault();\r\n        String fecExpirationClaim = (String) (claims.get(EXPIRATION));\r\n        LocalDate localDate = LocalDate.parse(fecExpirationClaim);\r\n        if (localDate == null) {\r\n            throw new NotFoundException(&quot;El Token no tiene fecha de expiraci&#243;n&quot;);\r\n        }\r\n        Date expirationDate = Date.from(localDate.atStartOfDay(defaultZone).toInstant());\r\n        SecretKey key = Keys.hmacShaKeyFor(this.secret.getBytes());\r\n        return Jwts.builder().setClaims(claims).setExpiration(expirationDate).signWith(key).compact();\r\n    }\r\n\r\n**2.- Decode Method**\r\n\r\n    public Claims getAllClaimsFromToken(String token) {\r\n        \r\n        return Jwts.parserBuilder()\r\n                .setSigningKey(Base64.getEncoder().encodeToString(this.secret.getBytes()))\r\n                .build()\r\n                .parseClaimsJws(token)\r\n                .getBody();\r\n    }\r\n\r\n\r\nI tried to run my application in a simple local environment and got the same error.\r\n\r\nAlso change my code in the getAllClaimsFromToken method in the setSigningKey using the same key like the generate method like this:\r\n\r\n    public Claims getAllClaimsFromToken(String token) {\r\n\r\n        SecretKey key = Keys.hmacShaKeyFor(this.secret.getBytes());  \r\n        return Jwts.parserBuilder()\r\n                .setSigningKey(key)\r\n                .build()\r\n                .parseClaimsJws(token)\r\n                .getBody();\r\n    }\r\n\r\nbut got the same result\r\n\r\nI expect all my tokens got parsed correctly again because as i said before it were working correctly time ago.\r\n\r\nRegards\r\nHenry.","title":"Weird Error SignatureException: JWT signature does not match locally computed signature. JWT validity cannot be asserted and should not be trusted","body":"<p>I hope you can help me</p>\n<p><strong>The Problem</strong>\nI got this exception mentioned in the title with some cases. My application generates JWT tokens every month with a scheduled process. The problem is that this cases were working fine the corresponding last month but the next one is invalid. For example, i generated tokens last month and were working fine but in some part of the time it started to throw the exception when trying to parse.</p>\n<p>As an additional information i have some tokens from 2 months ago that works correctly despite it can be expired.</p>\n<p>I haven't made any recent changes to the code and the secret value remains the same. Also i don't think is problem of the exp or expiration value (if this was true i think it will throw ExpiredException)</p>\n<p>Actually i'm using in maven the 0.11.1 version in maven for jjwt-api, jjwt-impl and jjwt-jackson dependencies. My application in production stage is deployed in Azure Kubernetes Services with Java 11. The algorithm im using is HS512.</p>\n<p><strong>Wrong Token example</strong>\neyJhbGciOiJIUzUxMiJ9.eyJkb2N1bWVudFR5cGUiOiJETkkiLCJwcm9jZXNzSWQiOjQ4LCJkb2N1bWVudE51bWJlciI6IjA0OTM4NjIwIiwiZXhwaXJhdGlvbiI6IjIwMjMtMDYtMDEiLCJhZmZpbGlhdGVJZCI6Ijk3NTM3N0pYWVpMNyIsImV4cCI6MTY4NTU5NTYwMH0.NpN5as_YczjzmrBVHrEt9d0ba962PYZZolzgEx3EFQtqyumORqs6vNDLRFowFkKh8sCbqUyQxv57L6FhqhPhRw</p>\n<p><strong>Correct Token example</strong>\neyJhbGciOiJIUzUxMiJ9.eyJkb2N1bWVudFR5cGUiOiJETkkiLCJwcm9jZXNzSWQiOjM4LCJkb2N1bWVudE51bWJlciI6Ijg1MjAyMTM0IiwiZXhwaXJhdGlvbiI6IjIwMjMtMDMtMDEiLCJhZmZpbGlhdGVJZCI6IjE4NzM1N1pCUkNOMyIsImV4cCI6MTY3NzY0NjgwMH0.CBqKDJcWIs0hq7jy9LTyb1INVTqkWKi0KQgYLCEDR7TUG5lNQBKriO_fvcFhZOZfs6E0DqtDmdtcj1oI2XWbvg</p>\n<p>If you guys need more information i can help giving some examples with correct and incorrect tokens.\nRegards\nHenry.</p>\n<p>I share with you some information in order you guys can help me to resolve or get the problem</p>\n<p><code>@Value(&quot;${token.exchange.jwt.secret}&quot;) private String secret; </code>\n<code>@Value(&quot;${token.exchange.jwt.expiration}&quot;) private Integer expirationMonth;</code></p>\n<p><strong>1.- Generate method</strong></p>\n<p>private String doGenerateToken(Map&lt;String, Object&gt; claims) throws NotFoundException {</p>\n<pre><code>    ZoneId defaultZone = ZoneId.systemDefault();\n    String fecExpirationClaim = (String) (claims.get(EXPIRATION));\n    LocalDate localDate = LocalDate.parse(fecExpirationClaim);\n    if (localDate == null) {\n        throw new NotFoundException(&quot;El Token no tiene fecha de expiración&quot;);\n    }\n    Date expirationDate = Date.from(localDate.atStartOfDay(defaultZone).toInstant());\n    SecretKey key = Keys.hmacShaKeyFor(this.secret.getBytes());\n    return Jwts.builder().setClaims(claims).setExpiration(expirationDate).signWith(key).compact();\n}\n</code></pre>\n<p><strong>2.- Decode Method</strong></p>\n<pre><code>public Claims getAllClaimsFromToken(String token) {\n    \n    return Jwts.parserBuilder()\n            .setSigningKey(Base64.getEncoder().encodeToString(this.secret.getBytes()))\n            .build()\n            .parseClaimsJws(token)\n            .getBody();\n}\n</code></pre>\n<p>I tried to run my application in a simple local environment and got the same error.</p>\n<p>Also change my code in the getAllClaimsFromToken method in the setSigningKey using the same key like the generate method like this:</p>\n<pre><code>public Claims getAllClaimsFromToken(String token) {\n\n    SecretKey key = Keys.hmacShaKeyFor(this.secret.getBytes());  \n    return Jwts.parserBuilder()\n            .setSigningKey(key)\n            .build()\n            .parseClaimsJws(token)\n            .getBody();\n}\n</code></pre>\n<p>but got the same result</p>\n<p>I expect all my tokens got parsed correctly again because as i said before it were working correctly time ago.</p>\n<p>Regards\nHenry.</p>\n"},{"tags":["java","list","comparison","hashmap"],"comments":[{"owner":{"account_id":85528,"reputation":2396,"user_id":238384,"accept_rate":50,"display_name":"user238384"},"score":1,"creation_date":1272933570,"post_id":2762093,"comment_id":2794234,"body_markdown":"Please suggest any data structure the list is not java list or hashmap or any data structure","body":"Please suggest any data structure the list is not java list or hashmap or any data structure"},{"owner":{"account_id":5688,"reputation":4427,"user_id":9304,"accept_rate":82,"display_name":"JavadocMD"},"score":2,"creation_date":1272933698,"post_id":2762093,"comment_id":2794243,"body_markdown":"Be sure to think about what you should do in exceptional cases. Can lists contain the same value twice? If so, if &quot;dingo&quot; is in both lists twice, does that count as two elements in common or only one?","body":"Be sure to think about what you should do in exceptional cases. Can lists contain the same value twice? If so, if &quot;dingo&quot; is in both lists twice, does that count as two elements in common or only one?"},{"owner":{"account_id":55654,"reputation":90563,"user_id":166712,"accept_rate":100,"display_name":"Anthony Forloney"},"score":0,"creation_date":1272934045,"post_id":2762093,"comment_id":2794273,"body_markdown":"Can you modify one of the List?","body":"Can you modify one of the List?"},{"owner":{"account_id":85528,"reputation":2396,"user_id":238384,"accept_rate":50,"display_name":"user238384"},"score":0,"creation_date":1272934250,"post_id":2762093,"comment_id":2794290,"body_markdown":"how to edit?? Yes each list can contain similar values multiple time","body":"how to edit?? Yes each list can contain similar values multiple time"},{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1272935975,"post_id":2762093,"comment_id":2794405,"body_markdown":"There should be a **edit** small link right after the question, below the tags.","body":"There should be a <b>edit</b> small link right after the question, below the tags."},{"owner":{"account_id":73097,"reputation":19700,"user_id":210709,"accept_rate":91,"display_name":"IAbstract"},"score":0,"creation_date":1679486277,"post_id":2762093,"comment_id":133729744,"body_markdown":"&lt;sniff&gt;Smells like a homework assignment.&lt;/sniff&gt;","body":"&lt;sniff&gt;Smells like a homework assignment.&lt;/sniff&gt;"}],"answers":[{"tags":[],"owner":{"account_id":29046,"reputation":66704,"user_id":78182,"accept_rate":94,"display_name":"Stefan Kendall"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1272933525,"creation_date":1272933525,"answer_id":2762108,"question_id":2762093,"body_markdown":"Assuming `hash1` and `hash2`\r\n\r\n    List&lt; String &gt; sames = whatever\r\n    List&lt; String &gt; diffs = whatever\r\n\r\n    int count = 0;\r\n    for( String key : hash1.keySet() )\r\n    {\r\n       if( hash2.containsKey( key ) ) \r\n       {\r\n          sames.add( key );\r\n       }\r\n       else\r\n       {\r\n          diffs.add( key );\r\n       }\r\n    }\r\n    \r\n    //sames.size() contains the number of similar elements.","title":"Java Compare Two Lists","body":"<p>Assuming <code>hash1</code> and <code>hash2</code></p>\n\n<pre><code>List&lt; String &gt; sames = whatever\nList&lt; String &gt; diffs = whatever\n\nint count = 0;\nfor( String key : hash1.keySet() )\n{\n   if( hash2.containsKey( key ) ) \n   {\n      sames.add( key );\n   }\n   else\n   {\n      diffs.add( key );\n   }\n}\n\n//sames.size() contains the number of similar elements.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1272936198,"creation_date":1272934182,"answer_id":2762134,"question_id":2762093,"body_markdown":"Are these really [lists](http://java.sun.com/javase/6/docs/api/java/util/List.html) (ordered, with duplicates), or are they [sets](http://java.sun.com/javase/6/docs/api/java/util/Set.html) (unordered, no duplicates)?\r\n\r\nBecause if it&#39;s the latter, then you can use, say, a [`java.util.HashSet&lt;E&gt;`](http://java.sun.com/javase/6/docs/api/java/util/HashSet.html) and do this in expected linear time using the convenient [`retainAll`](http://java.sun.com/javase/6/docs/api/java/util/Set.html#retainAll(java.util.Collection)).\r\n\r\n\t\tList&lt;String&gt; list1 = Arrays.asList(\r\n\t\t\t&quot;milan&quot;, &quot;milan&quot;, &quot;iga&quot;, &quot;dingo&quot;, &quot;milan&quot;\r\n\t\t);\r\n\t\tList&lt;String&gt; list2 = Arrays.asList(\r\n\t\t\t&quot;hafil&quot;, &quot;milan&quot;, &quot;dingo&quot;, &quot;meat&quot;\r\n\t\t);\r\n\r\n\t\t// intersection as set\r\n\t\tSet&lt;String&gt; intersect = new HashSet&lt;String&gt;(list1);\r\n\t\tintersect.retainAll(list2);\r\n\t\tSystem.out.println(intersect.size()); // prints &quot;2&quot;\r\n\t\tSystem.out.println(intersect); // prints &quot;[milan, dingo]&quot;\r\n\t\t\r\n\t\t// intersection/union as list\r\n\t\tList&lt;String&gt; intersectList = new ArrayList&lt;String&gt;();\r\n\t\tintersectList.addAll(list1);\r\n\t\tintersectList.addAll(list2);\r\n\t\tintersectList.retainAll(intersect);\r\n\t\tSystem.out.println(intersectList);\r\n\t\t// prints &quot;[milan, milan, dingo, milan, milan, dingo]&quot;\r\n\r\n\t\t// original lists are structurally unmodified\r\n\t\tSystem.out.println(list1); // prints &quot;[milan, milan, iga, dingo, milan]&quot;\r\n\t\tSystem.out.println(list2); // prints &quot;[hafil, milan, dingo, meat]&quot;\r\n","title":"Java Compare Two Lists","body":"<p>Are these really <a href=\"http://java.sun.com/javase/6/docs/api/java/util/List.html\" rel=\"noreferrer\">lists</a> (ordered, with duplicates), or are they <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Set.html\" rel=\"noreferrer\">sets</a> (unordered, no duplicates)?</p>\n\n<p>Because if it's the latter, then you can use, say, a <a href=\"http://java.sun.com/javase/6/docs/api/java/util/HashSet.html\" rel=\"noreferrer\"><code>java.util.HashSet&lt;E&gt;</code></a> and do this in expected linear time using the convenient <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Set.html#retainAll(java.util.Collection)\" rel=\"noreferrer\"><code>retainAll</code></a>.</p>\n\n<pre><code>    List&lt;String&gt; list1 = Arrays.asList(\n        \"milan\", \"milan\", \"iga\", \"dingo\", \"milan\"\n    );\n    List&lt;String&gt; list2 = Arrays.asList(\n        \"hafil\", \"milan\", \"dingo\", \"meat\"\n    );\n\n    // intersection as set\n    Set&lt;String&gt; intersect = new HashSet&lt;String&gt;(list1);\n    intersect.retainAll(list2);\n    System.out.println(intersect.size()); // prints \"2\"\n    System.out.println(intersect); // prints \"[milan, dingo]\"\n\n    // intersection/union as list\n    List&lt;String&gt; intersectList = new ArrayList&lt;String&gt;();\n    intersectList.addAll(list1);\n    intersectList.addAll(list2);\n    intersectList.retainAll(intersect);\n    System.out.println(intersectList);\n    // prints \"[milan, milan, dingo, milan, milan, dingo]\"\n\n    // original lists are structurally unmodified\n    System.out.println(list1); // prints \"[milan, milan, iga, dingo, milan]\"\n    System.out.println(list2); // prints \"[hafil, milan, dingo, meat]\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":0,"up_vote_count":180,"is_accepted":true,"score":180,"last_activity_date":1272936676,"creation_date":1272934235,"answer_id":2762137,"question_id":2762093,"body_markdown":"**EDIT**\r\n\r\nHere are two versions. One using `ArrayList` and other using `HashSet` \r\n\r\nCompare them and create your **own** version from this, until you get what you need. \r\n\r\nThis should be enough to cover the:\r\n\r\n&gt;*P.S: It is not a school assignment :) So if you just guide me it will be enough*\r\n\r\npart of your question.\r\n\r\n**continuing with the original answer:** \r\n\r\nYou may use a `java.util.Collection`  and/or  `java.util.ArrayList` for that. \r\n\r\n\r\nThe [retainAll][1] method does the following:\r\n\r\n&gt;*Retains only the elements in this collection that are contained in the specified collection*\r\n\r\nsee this sample:\r\n\r\n    import java.util.Collection;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n\r\n    public class Repeated {\r\n        public static void main( String  [] args ) {\r\n            Collection listOne = new ArrayList(Arrays.asList(&quot;milan&quot;,&quot;dingo&quot;, &quot;elpha&quot;, &quot;hafil&quot;, &quot;meat&quot;, &quot;iga&quot;, &quot;neeta.peeta&quot;));\r\n            Collection listTwo = new ArrayList(Arrays.asList(&quot;hafil&quot;, &quot;iga&quot;, &quot;binga&quot;, &quot;mike&quot;, &quot;dingo&quot;));\r\n\r\n            listOne.retainAll( listTwo );\r\n            System.out.println( listOne );\r\n        }\r\n    }\r\n\r\n**EDIT**\r\n\r\nFor the second part ( similar values ) you may use the [removeAll][2] method:\r\n\r\n&gt;*Removes all of this collection&#39;s elements that are also contained in the specified collection.*\r\n\r\nThis second version gives you also the similar values and handles repeated ( by discarding them).\r\n\r\nThis time the `Collection` could be a `Set` instead of a `List` ( the difference is, the Set doesn&#39;t allow repeated values ) \r\n\r\n    import java.util.Collection;\r\n    import java.util.HashSet;\r\n    import java.util.Arrays;\r\n\r\n    class Repeated {\r\n          public static void main( String  [] args ) {\r\n      \r\n              Collection&lt;String&gt; listOne = Arrays.asList(&quot;milan&quot;,&quot;iga&quot;,\r\n                                                        &quot;dingo&quot;,&quot;iga&quot;,\r\n                                                        &quot;elpha&quot;,&quot;iga&quot;,\r\n                                                        &quot;hafil&quot;,&quot;iga&quot;,\r\n                                                        &quot;meat&quot;,&quot;iga&quot;, \r\n                                                        &quot;neeta.peeta&quot;,&quot;iga&quot;);\r\n                                                    \r\n              Collection&lt;String&gt; listTwo = Arrays.asList(&quot;hafil&quot;,\r\n                                                         &quot;iga&quot;,\r\n                                                         &quot;binga&quot;, \r\n                                                         &quot;mike&quot;, \r\n                                                         &quot;dingo&quot;,&quot;dingo&quot;,&quot;dingo&quot;);\r\n      \r\n              Collection&lt;String&gt; similar = new HashSet&lt;String&gt;( listOne );\r\n              Collection&lt;String&gt; different = new HashSet&lt;String&gt;();\r\n              different.addAll( listOne );\r\n              different.addAll( listTwo );\r\n\r\n              similar.retainAll( listTwo );\r\n              different.removeAll( similar );\r\n      \r\n              System.out.printf(&quot;One:%s%nTwo:%s%nSimilar:%s%nDifferent:%s%n&quot;, listOne, listTwo, similar, different);\r\n          }\r\n    }\r\n    \r\nOutput:\r\n\r\n    \r\n    $ java Repeated\r\n    One:[milan, iga, dingo, iga, elpha, iga, hafil, iga, meat, iga, neeta.peeta, iga]\r\n\r\n    Two:[hafil, iga, binga, mike, dingo, dingo, dingo]\r\n\r\n    Similar:[dingo, iga, hafil]\r\n\r\n    Different:[mike, binga, milan, meat, elpha, neeta.peeta]\r\n\r\n  \r\n  \r\n\r\n\r\nIf it doesn&#39;t do exactly what you need, it gives you a good start so you can handle  from here. \r\n\r\nQuestion for the reader: How would you include all the repeated values?\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Collection.html#retainAll%28java.util.Collection%29\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/util/Collection.html#removeAll%28java.util.Collection%29","title":"Java Compare Two Lists","body":"<p><strong>EDIT</strong></p>\n\n<p>Here are two versions. One using <code>ArrayList</code> and other using <code>HashSet</code> </p>\n\n<p>Compare them and create your <strong>own</strong> version from this, until you get what you need. </p>\n\n<p>This should be enough to cover the:</p>\n\n<blockquote>\n  <p><em>P.S: It is not a school assignment :) So if you just guide me it will be enough</em></p>\n</blockquote>\n\n<p>part of your question.</p>\n\n<p><strong>continuing with the original answer:</strong> </p>\n\n<p>You may use a <code>java.util.Collection</code>  and/or  <code>java.util.ArrayList</code> for that. </p>\n\n<p>The <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Collection.html#retainAll%28java.util.Collection%29\" rel=\"noreferrer\">retainAll</a> method does the following:</p>\n\n<blockquote>\n  <p><em>Retains only the elements in this collection that are contained in the specified collection</em></p>\n</blockquote>\n\n<p>see this sample:</p>\n\n<pre><code>import java.util.Collection;\nimport java.util.ArrayList;\nimport java.util.Arrays;\n\npublic class Repeated {\n    public static void main( String  [] args ) {\n        Collection listOne = new ArrayList(Arrays.asList(\"milan\",\"dingo\", \"elpha\", \"hafil\", \"meat\", \"iga\", \"neeta.peeta\"));\n        Collection listTwo = new ArrayList(Arrays.asList(\"hafil\", \"iga\", \"binga\", \"mike\", \"dingo\"));\n\n        listOne.retainAll( listTwo );\n        System.out.println( listOne );\n    }\n}\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>For the second part ( similar values ) you may use the <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Collection.html#removeAll%28java.util.Collection%29\" rel=\"noreferrer\">removeAll</a> method:</p>\n\n<blockquote>\n  <p><em>Removes all of this collection's elements that are also contained in the specified collection.</em></p>\n</blockquote>\n\n<p>This second version gives you also the similar values and handles repeated ( by discarding them).</p>\n\n<p>This time the <code>Collection</code> could be a <code>Set</code> instead of a <code>List</code> ( the difference is, the Set doesn't allow repeated values ) </p>\n\n<pre><code>import java.util.Collection;\nimport java.util.HashSet;\nimport java.util.Arrays;\n\nclass Repeated {\n      public static void main( String  [] args ) {\n\n          Collection&lt;String&gt; listOne = Arrays.asList(\"milan\",\"iga\",\n                                                    \"dingo\",\"iga\",\n                                                    \"elpha\",\"iga\",\n                                                    \"hafil\",\"iga\",\n                                                    \"meat\",\"iga\", \n                                                    \"neeta.peeta\",\"iga\");\n\n          Collection&lt;String&gt; listTwo = Arrays.asList(\"hafil\",\n                                                     \"iga\",\n                                                     \"binga\", \n                                                     \"mike\", \n                                                     \"dingo\",\"dingo\",\"dingo\");\n\n          Collection&lt;String&gt; similar = new HashSet&lt;String&gt;( listOne );\n          Collection&lt;String&gt; different = new HashSet&lt;String&gt;();\n          different.addAll( listOne );\n          different.addAll( listTwo );\n\n          similar.retainAll( listTwo );\n          different.removeAll( similar );\n\n          System.out.printf(\"One:%s%nTwo:%s%nSimilar:%s%nDifferent:%s%n\", listOne, listTwo, similar, different);\n      }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$ java Repeated\nOne:[milan, iga, dingo, iga, elpha, iga, hafil, iga, meat, iga, neeta.peeta, iga]\n\nTwo:[hafil, iga, binga, mike, dingo, dingo, dingo]\n\nSimilar:[dingo, iga, hafil]\n\nDifferent:[mike, binga, milan, meat, elpha, neeta.peeta]\n</code></pre>\n\n<p>If it doesn't do exactly what you need, it gives you a good start so you can handle  from here. </p>\n\n<p>Question for the reader: How would you include all the repeated values?</p>\n"},{"tags":[],"owner":{"account_id":79031,"reputation":6489,"user_id":224440,"display_name":"Mihir Mathuria"},"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1447767641,"creation_date":1272935008,"answer_id":2762173,"question_id":2762093,"body_markdown":"You can try [`intersection()`][1] and [`subtract()`][2] methods from [`CollectionUtils`][3].\r\n\r\n`intersection()` method gives you a collection containing common elements and the `subtract()` method gives you all the uncommon ones.\r\n\r\nThey should also take care of similar elements \r\n\r\n  [1]: http://commons.apache.org/proper/commons-collections/javadocs/api-3.2.2/org/apache/commons/collections/CollectionUtils.html#intersection%28java.util.Collection,%20java.util.Collection%29\r\n  [2]: http://commons.apache.org/proper/commons-collections/javadocs/api-3.2.2/org/apache/commons/collections/CollectionUtils.html#subtract%28java.util.Collection,%20java.util.Collection%29\r\n  [3]: http://commons.apache.org/proper/commons-collections/javadocs/api-3.2.2/?org/apache/commons/collections/CollectionUtils.html","title":"Java Compare Two Lists","body":"<p>You can try <a href=\"http://commons.apache.org/proper/commons-collections/javadocs/api-3.2.2/org/apache/commons/collections/CollectionUtils.html#intersection%28java.util.Collection,%20java.util.Collection%29\" rel=\"noreferrer\"><code>intersection()</code></a> and <a href=\"http://commons.apache.org/proper/commons-collections/javadocs/api-3.2.2/org/apache/commons/collections/CollectionUtils.html#subtract%28java.util.Collection,%20java.util.Collection%29\" rel=\"noreferrer\"><code>subtract()</code></a> methods from <a href=\"http://commons.apache.org/proper/commons-collections/javadocs/api-3.2.2/?org/apache/commons/collections/CollectionUtils.html\" rel=\"noreferrer\"><code>CollectionUtils</code></a>.</p>\n\n<p><code>intersection()</code> method gives you a collection containing common elements and the <code>subtract()</code> method gives you all the uncommon ones.</p>\n\n<p>They should also take care of similar elements </p>\n"},{"tags":[],"owner":{"account_id":2638017,"reputation":111,"user_id":2282246,"display_name":"Manoj Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1417937437,"creation_date":1417937437,"answer_id":27340658,"question_id":2762093,"body_markdown":"I found a very basic example of List comparison at [List Compare][1]\r\nThis example verifies the size first and then checks the availability of the particular element of one list in another.\r\n\r\n  [1]: http://www.gitarani.com/classified.htm?classifiedId=3012","title":"Java Compare Two Lists","body":"<p>I found a very basic example of List comparison at <a href=\"http://www.gitarani.com/classified.htm?classifiedId=3012\" rel=\"nofollow\">List Compare</a>\nThis example verifies the size first and then checks the availability of the particular element of one list in another.</p>\n"},{"tags":[],"owner":{"account_id":4502479,"reputation":891,"user_id":3660710,"display_name":"Asanka Siriwardena"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1490768443,"creation_date":1490768443,"answer_id":43085802,"question_id":2762093,"body_markdown":"Using java 8 removeIf\r\n\r\n    public int getSimilarItems(){\r\n        List&lt;String&gt; one = Arrays.asList(&quot;milan&quot;, &quot;dingo&quot;, &quot;elpha&quot;, &quot;hafil&quot;, &quot;meat&quot;, &quot;iga&quot;, &quot;neeta.peeta&quot;);\r\n        List&lt;String&gt; two = new ArrayList&lt;&gt;(Arrays.asList(&quot;hafil&quot;, &quot;iga&quot;, &quot;binga&quot;, &quot;mike&quot;, &quot;dingo&quot;)); //Cannot remove directly from array backed collection\r\n        int initial = two.size();\r\n\r\n        two.removeIf(one::contains);\r\n        return initial - two.size();\r\n    }","title":"Java Compare Two Lists","body":"<p>Using java 8 removeIf</p>\n\n<pre><code>public int getSimilarItems(){\n    List&lt;String&gt; one = Arrays.asList(\"milan\", \"dingo\", \"elpha\", \"hafil\", \"meat\", \"iga\", \"neeta.peeta\");\n    List&lt;String&gt; two = new ArrayList&lt;&gt;(Arrays.asList(\"hafil\", \"iga\", \"binga\", \"mike\", \"dingo\")); //Cannot remove directly from array backed collection\n    int initial = two.size();\n\n    two.removeIf(one::contains);\n    return initial - two.size();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8928344,"reputation":11,"user_id":6661780,"display_name":"Pavan Rangani"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1498017300,"creation_date":1498017300,"answer_id":44666622,"question_id":2762093,"body_markdown":"    public static boolean compareList(List ls1, List ls2){\r\n        return ls1.containsAll(ls2) &amp;&amp; ls1.size() == ls2.size() ? true :false;\r\n         }\r\n    \r\n    public static void main(String[] args) {\r\n    \r\n        ArrayList&lt;String&gt; one = new ArrayList&lt;String&gt;();\r\n        one.add(&quot;one&quot;);\r\n        one.add(&quot;two&quot;);\r\n        one.add(&quot;six&quot;);\r\n    \r\n        ArrayList&lt;String&gt; two = new ArrayList&lt;String&gt;();\r\n        two.add(&quot;one&quot;);\r\n        two.add(&quot;six&quot;);\r\n        two.add(&quot;two&quot;);\r\n    \r\n        System.out.println(&quot;Output1 :: &quot; + compareList(one, two));\r\n    \r\n        two.add(&quot;ten&quot;);\r\n    \r\n        System.out.println(&quot;Output2 :: &quot; + compareList(one, two));\r\n      }","title":"Java Compare Two Lists","body":"<pre><code>public static boolean compareList(List ls1, List ls2){\n    return ls1.containsAll(ls2) &amp;&amp; ls1.size() == ls2.size() ? true :false;\n     }\n\npublic static void main(String[] args) {\n\n    ArrayList&lt;String&gt; one = new ArrayList&lt;String&gt;();\n    one.add(\"one\");\n    one.add(\"two\");\n    one.add(\"six\");\n\n    ArrayList&lt;String&gt; two = new ArrayList&lt;String&gt;();\n    two.add(\"one\");\n    two.add(\"six\");\n    two.add(\"two\");\n\n    System.out.println(\"Output1 :: \" + compareList(one, two));\n\n    two.add(\"ten\");\n\n    System.out.println(\"Output2 :: \" + compareList(one, two));\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1093223,"reputation":1998,"user_id":1087373,"accept_rate":0,"display_name":"snowfox"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1521512824,"creation_date":1521512824,"answer_id":49375414,"question_id":2762093,"body_markdown":"If you are looking for a handy way to test the equality of two collections, you can use `org.apache.commons.collections.CollectionUtils.isEqualCollection`, which compares two collections regardless of the ordering. ","title":"Java Compare Two Lists","body":"<p>If you are looking for a handy way to test the equality of two collections, you can use <code>org.apache.commons.collections.CollectionUtils.isEqualCollection</code>, which compares two collections regardless of the ordering. </p>\n"},{"tags":[],"owner":{"account_id":2735009,"reputation":4764,"user_id":2357869,"accept_rate":33,"display_name":"Vijay"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1533202540,"creation_date":1533202540,"answer_id":51650261,"question_id":2762093,"body_markdown":"Simple solution :-\r\n\r\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;d&quot;, &quot;c&quot;));\r\n        List&lt;String&gt; list2 = new ArrayList&lt;String&gt;(Arrays.asList(&quot;b&quot;, &quot;f&quot;, &quot;c&quot;));\r\n\r\n        list.retainAll(list2);\r\n        list2.removeAll(list);\r\n        System.out.println(&quot;similiar &quot; + list);\r\n        System.out.println(&quot;different &quot; + list2);\r\n\r\nOutput :-\r\n\r\n    similiar [b, c]\r\n    different [f]\r\n\r\n","title":"Java Compare Two Lists","body":"<p>Simple solution :-</p>\n\n<pre><code>    List&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(\"a\", \"b\", \"d\", \"c\"));\n    List&lt;String&gt; list2 = new ArrayList&lt;String&gt;(Arrays.asList(\"b\", \"f\", \"c\"));\n\n    list.retainAll(list2);\n    list2.removeAll(list);\n    System.out.println(\"similiar \" + list);\n    System.out.println(\"different \" + list2);\n</code></pre>\n\n<p>Output :-</p>\n\n<pre><code>similiar [b, c]\ndifferent [f]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3633202,"reputation":2629,"user_id":3029017,"accept_rate":57,"display_name":"shakhawat"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1563556663,"creation_date":1563534960,"answer_id":57111345,"question_id":2762093,"body_markdown":"Of all the approaches, I find using `org.apache.commons.collections.CollectionUtils#isEqualCollection` is the best approach. Here are the reasons - \r\n\r\n - I don&#39;t have to declare any additional list/set myself \r\n - I am not mutating the input lists\r\n - It&#39;s very efficient. It checks the equality in O(N) complexity.\r\n\r\n\r\nIf it&#39;s not possible to have `apache.commons.collections` as a dependency, I would recommend to implement the algorithm it follows to check equality of the list because of it&#39;s efficiency.\r\n","title":"Java Compare Two Lists","body":"<p>Of all the approaches, I find using <code>org.apache.commons.collections.CollectionUtils#isEqualCollection</code> is the best approach. Here are the reasons - </p>\n\n<ul>\n<li>I don't have to declare any additional list/set myself </li>\n<li>I am not mutating the input lists</li>\n<li>It's very efficient. It checks the equality in O(N) complexity.</li>\n</ul>\n\n<p>If it's not possible to have <code>apache.commons.collections</code> as a dependency, I would recommend to implement the algorithm it follows to check equality of the list because of it's efficiency.</p>\n"},{"tags":[],"owner":{"account_id":13298693,"reputation":1,"user_id":9600812,"display_name":"Jože Rihtaršič"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676140801,"creation_date":1676138908,"answer_id":75422251,"question_id":2762093,"body_markdown":"```\r\nprotected &lt;T&gt; boolean equals(List&lt;T&gt; list1, List&lt;T&gt; list2) {\r\n  \r\n        if (list1 == list2) {\r\n            return true;\r\n        }\r\n \r\n        if (list1 == null || list2 == null || list1.size() != list2.size()) {\r\n            return false;\r\n        }\r\n       // to prevent wrong results on {a,a,a} and {a,b,c} \r\n       // iterate over list1 and then list2\r\n        return list1.stream()\r\n                .filter(val -&gt; !list2.contains(val))\r\n                .collect(Collectors.toList())\r\n                .isEmpty()  &amp;&amp;\r\n               list2.stream()\r\n                .filter(val -&gt; !list1.contains(val))\r\n                .collect(Collectors.toList())\r\n                .isEmpty();\r\n    }\r\n```","title":"Java Compare Two Lists","body":"<pre><code>protected &lt;T&gt; boolean equals(List&lt;T&gt; list1, List&lt;T&gt; list2) {\n  \n        if (list1 == list2) {\n            return true;\n        }\n \n        if (list1 == null || list2 == null || list1.size() != list2.size()) {\n            return false;\n        }\n       // to prevent wrong results on {a,a,a} and {a,b,c} \n       // iterate over list1 and then list2\n        return list1.stream()\n                .filter(val -&gt; !list2.contains(val))\n                .collect(Collectors.toList())\n                .isEmpty()  &amp;&amp;\n               list2.stream()\n                .filter(val -&gt; !list1.contains(val))\n                .collect(Collectors.toList())\n                .isEmpty();\n    }\n</code></pre>\n"}],"owner":{"account_id":85528,"reputation":2396,"user_id":238384,"accept_rate":50,"display_name":"user238384"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":481127,"favorite_count":0,"down_vote_count":1,"up_vote_count":118,"accepted_answer_id":2762137,"answer_count":11,"score":117,"last_activity_date":1676140801,"creation_date":1272933287,"question_id":2762093,"body_markdown":"I have two lists ( not java lists, you can say two columns)\r\n\r\nFor example\r\n\r\n    **List 1**            **Lists 2**\r\n      milan                 hafil\r\n      dingo                 iga\r\n      iga                   dingo\r\n      elpha                 binga\r\n      hafil                 mike\r\n      meat                  dingo\r\n      milan\r\n      elpha\r\n      meat\r\n      iga                   \r\n      neeta.peeta    \r\n       \r\n\r\nI&#39;d like a method that returns how many elements are same. For this example it should be\r\n3 and it should return me similar values of both list and different values too.\r\n\r\nShould I use hashmap if yes then what method to get my result? \r\n\r\nPlease help\r\n\r\nP.S: It is not a school assignment :) So if you just guide me it will be enough","title":"Java Compare Two Lists","body":"<p>I have two lists ( not java lists, you can say two columns)</p>\n\n<p>For example</p>\n\n<pre><code>**List 1**            **Lists 2**\n  milan                 hafil\n  dingo                 iga\n  iga                   dingo\n  elpha                 binga\n  hafil                 mike\n  meat                  dingo\n  milan\n  elpha\n  meat\n  iga                   \n  neeta.peeta    \n</code></pre>\n\n<p>I'd like a method that returns how many elements are same. For this example it should be\n3 and it should return me similar values of both list and different values too.</p>\n\n<p>Should I use hashmap if yes then what method to get my result? </p>\n\n<p>Please help</p>\n\n<p>P.S: It is not a school assignment :) So if you just guide me it will be enough</p>\n"},{"tags":["java","generics"],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676116413,"creation_date":1676110586,"answer_id":75419470,"question_id":75419347,"body_markdown":"It is not really clear to me what you&#39;re trying to achieve, but obviously, `List&lt;GetValueToStringObject&gt;` is not a `List&lt;ColValueObject&gt;` nor vice versa, and given there is no implements (or extends) relationship between `GetValueToStringObject` and `ColValueObject`, as it stands your method cannot work. \r\n\r\nMaking some reasonable assumption, I think you&#39;ll need `ColValueObject` to implement `GetValueToStringObject`. You can then use generics with `&lt;T extends GetValueToStringObject&gt;` to do what you want:\r\n\r\n```java\r\nclass ColValueObject implements GetValueToStringObject {\r\n  private String base;\r\n  private String value;\r\n\r\n  @Override\r\n  public String getValue() {\r\n    return value;\r\n  }\r\n  // boilerplate omitted\r\n}\r\n```\r\n\r\nThen implement your method as:\r\n\r\n```java\r\nprivate static &lt;T extends GetValueToStringObject&gt; void findUniqueEntriesInListUsingGenerics(\r\n    List&lt;T&gt; list1, List&lt;T&gt; list2, List&lt;T&gt; result) {\r\n  for (T l1 : list1) {\r\n    boolean found = false;\r\n    for (T l2 : list2) {\r\n      if (l1.getValue().equals(l2.getValue())) {\r\n        found = true;\r\n        break;\r\n      }\r\n    }\r\n    if (!found) {\r\n      result.add(l1);\r\n    }\r\n  }\r\n} \r\n```\r\n\r\nWith this, all lists must have the same generic type, see the end of the answer for a more flexible solution.\r\n\r\nAs an aside, I think the `result` parameter doesn&#39;t belong in your method, and that it should return a `List&lt;T&gt;` created in the method. For example:\r\n\r\n```java\r\nprivate static &lt;T extends GetValueToStringObject&gt; List&lt;T&gt; findUniqueEntriesInListUsingGenerics(\r\n    List&lt;T&gt; list1, List&lt;T&gt; list2) {\r\n  List&lt;T&gt; result = new ArrayList&lt;&gt;();\r\n  // ... code above\r\n  return result;\r\n}\r\n```\r\n\r\nAlternatively, if you want to allow `list1`, `list2` and `result` to have different types, you can use:\r\n\r\n```java\r\nprivate static &lt;T extends GetValueToStringObject&gt; void findUniqueEntriesInListUsingGenerics(\r\n        List&lt;T&gt; list1, \r\n        List&lt;? extends GetValueToStringObject&gt; list2, \r\n        List&lt;? super T&gt; result) {\r\n    for (T l1 : list1) {\r\n        boolean found = false;\r\n        for (GetValueToStringObject l2 : list2) {\r\n            if (l1.getValue().equals(l2.getValue())) {\r\n                found = true;\r\n                break;\r\n            }\r\n        }\r\n        if (!found) {\r\n            result.add(l1);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHere `list1` is defined as the actual type, `list2` can be any list of types extending (implementing) `GetValueToStringObject`, and `result` can be a list of any superclass/superinterface of `T`.\r\n\r\nFor example, if `list1` is `List&lt;ColValueObject&gt;`, then `result` can be `List&lt;ColValueObject&gt;`, `List&lt;GetValueToStringObject&gt;` or `List&lt;Object&gt;`, and `list2` can be `List&lt;GetValueToStringObject&gt;`, `List&lt;ColValueObject&gt;`, or `List&lt;SomeOtherTypeImplementingGetValueToStringObject&gt;`.\r\n\r\nAnother option is below, but this restricts the type of `result` to only `List&lt;GetValueToStringObject` and `List&lt;Object&gt;`, which I think is less useful than the previous solution:\r\n\r\n```java\r\nprivate static  void findUniqueEntriesInListUsingGenerics(\r\n        List&lt;? extends GetValueToStringObject&gt; list1, \r\n        List&lt;? extends GetValueToStringObject&gt; list2, \r\n        List&lt;? super GetValueToStringObject&gt; result) {\r\n    for (GetValueToStringObject l1 : list1) {\r\n        boolean found = false;\r\n        for (GetValueToStringObject l2 : list2) {\r\n            if (l1.getValue().equals(l2.getValue())) {\r\n                found = true;\r\n                break;\r\n            }\r\n        }\r\n        if (!found) {\r\n            result.add(l1);\r\n        }\r\n    }\r\n}\r\n```","title":"How to make a method suitable for classes implementing an interface?","body":"<p>It is not really clear to me what you're trying to achieve, but obviously, <code>List&lt;GetValueToStringObject&gt;</code> is not a <code>List&lt;ColValueObject&gt;</code> nor vice versa, and given there is no implements (or extends) relationship between <code>GetValueToStringObject</code> and <code>ColValueObject</code>, as it stands your method cannot work.</p>\n<p>Making some reasonable assumption, I think you'll need <code>ColValueObject</code> to implement <code>GetValueToStringObject</code>. You can then use generics with <code>&lt;T extends GetValueToStringObject&gt;</code> to do what you want:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ColValueObject implements GetValueToStringObject {\n  private String base;\n  private String value;\n\n  @Override\n  public String getValue() {\n    return value;\n  }\n  // boilerplate omitted\n}\n</code></pre>\n<p>Then implement your method as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static &lt;T extends GetValueToStringObject&gt; void findUniqueEntriesInListUsingGenerics(\n    List&lt;T&gt; list1, List&lt;T&gt; list2, List&lt;T&gt; result) {\n  for (T l1 : list1) {\n    boolean found = false;\n    for (T l2 : list2) {\n      if (l1.getValue().equals(l2.getValue())) {\n        found = true;\n        break;\n      }\n    }\n    if (!found) {\n      result.add(l1);\n    }\n  }\n} \n</code></pre>\n<p>With this, all lists must have the same generic type, see the end of the answer for a more flexible solution.</p>\n<p>As an aside, I think the <code>result</code> parameter doesn't belong in your method, and that it should return a <code>List&lt;T&gt;</code> created in the method. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static &lt;T extends GetValueToStringObject&gt; List&lt;T&gt; findUniqueEntriesInListUsingGenerics(\n    List&lt;T&gt; list1, List&lt;T&gt; list2) {\n  List&lt;T&gt; result = new ArrayList&lt;&gt;();\n  // ... code above\n  return result;\n}\n</code></pre>\n<p>Alternatively, if you want to allow <code>list1</code>, <code>list2</code> and <code>result</code> to have different types, you can use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static &lt;T extends GetValueToStringObject&gt; void findUniqueEntriesInListUsingGenerics(\n        List&lt;T&gt; list1, \n        List&lt;? extends GetValueToStringObject&gt; list2, \n        List&lt;? super T&gt; result) {\n    for (T l1 : list1) {\n        boolean found = false;\n        for (GetValueToStringObject l2 : list2) {\n            if (l1.getValue().equals(l2.getValue())) {\n                found = true;\n                break;\n            }\n        }\n        if (!found) {\n            result.add(l1);\n        }\n    }\n}\n</code></pre>\n<p>Here <code>list1</code> is defined as the actual type, <code>list2</code> can be any list of types extending (implementing) <code>GetValueToStringObject</code>, and <code>result</code> can be a list of any superclass/superinterface of <code>T</code>.</p>\n<p>For example, if <code>list1</code> is <code>List&lt;ColValueObject&gt;</code>, then <code>result</code> can be <code>List&lt;ColValueObject&gt;</code>, <code>List&lt;GetValueToStringObject&gt;</code> or <code>List&lt;Object&gt;</code>, and <code>list2</code> can be <code>List&lt;GetValueToStringObject&gt;</code>, <code>List&lt;ColValueObject&gt;</code>, or <code>List&lt;SomeOtherTypeImplementingGetValueToStringObject&gt;</code>.</p>\n<p>Another option is below, but this restricts the type of <code>result</code> to only <code>List&lt;GetValueToStringObject</code> and <code>List&lt;Object&gt;</code>, which I think is less useful than the previous solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static  void findUniqueEntriesInListUsingGenerics(\n        List&lt;? extends GetValueToStringObject&gt; list1, \n        List&lt;? extends GetValueToStringObject&gt; list2, \n        List&lt;? super GetValueToStringObject&gt; result) {\n    for (GetValueToStringObject l1 : list1) {\n        boolean found = false;\n        for (GetValueToStringObject l2 : list2) {\n            if (l1.getValue().equals(l2.getValue())) {\n                found = true;\n                break;\n            }\n        }\n        if (!found) {\n            result.add(l1);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3785835,"reputation":7291,"user_id":3143823,"accept_rate":98,"display_name":"tm1701"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75419470,"answer_count":1,"score":0,"last_activity_date":1676140269,"creation_date":1676109094,"question_id":75419347,"body_markdown":"How can I make the following method suitable for any class implementing the `String getValue()` interface? Is this possible with Generics? \r\n\r\n    private static void findUniqueEntriesInList(List&lt;ColValueObject&gt; list1, \r\n                                                List&lt;ColValueObject&gt; list2, \r\n                                                List&lt;ColValueObject&gt; result) {\r\n        for (ColValueObject l1 : list1) {\r\n          boolean found = false;\r\n          for (ColValueObject l2 : list2) {\r\n            if (l1.getValue().equals(l2.getValue())) {\r\n              found = true;\r\n              break;\r\n            }\r\n          }\r\n          if (!found) {\r\n            result.add(l1);\r\n          }\r\n        }\r\n      }\r\n\r\nwith: \r\n\r\n    class ColValueObject implements GetValueToStringObject {\r\n      private String base;\r\n      private String value;\r\n      // boilerplate omitted\r\n    }\r\n\r\nI could create this interface and method: \r\n\r\n    public interface GetValueToStringObject {\r\n      String getValue();\r\n    }\r\n\r\nand: \r\n\r\n    private static void findUniqueEntriesInListUsingGenerics(List&lt;GetValueToStringObject&gt; list1,\r\n                                                               List&lt;GetValueToStringObject&gt; list2,\r\n                                                               List&lt;GetValueToStringObject&gt; result) {\r\n        for (GetValueToStringObject l1 : list1) {\r\n          boolean found = false;\r\n          for (GetValueToStringObject l2 : list2) {\r\n            if (l1.getValue().equals(l2.getValue())) {\r\n              found = true;\r\n              break;\r\n            }\r\n          }\r\n          if (!found) {\r\n            result.add(l1);\r\n          }\r\n        }\r\n      } \r\n\r\nThe problem is that I cannot directly call the method like this: \r\n\r\n    findUniqueEntriesInListUsingGenerics(list1, list2, result);\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iEOfb.png\r\n","title":"How to make a method suitable for classes implementing an interface?","body":"<p>How can I make the following method suitable for any class implementing the <code>String getValue()</code> interface? Is this possible with Generics?</p>\n<pre><code>private static void findUniqueEntriesInList(List&lt;ColValueObject&gt; list1, \n                                            List&lt;ColValueObject&gt; list2, \n                                            List&lt;ColValueObject&gt; result) {\n    for (ColValueObject l1 : list1) {\n      boolean found = false;\n      for (ColValueObject l2 : list2) {\n        if (l1.getValue().equals(l2.getValue())) {\n          found = true;\n          break;\n        }\n      }\n      if (!found) {\n        result.add(l1);\n      }\n    }\n  }\n</code></pre>\n<p>with:</p>\n<pre><code>class ColValueObject implements GetValueToStringObject {\n  private String base;\n  private String value;\n  // boilerplate omitted\n}\n</code></pre>\n<p>I could create this interface and method:</p>\n<pre><code>public interface GetValueToStringObject {\n  String getValue();\n}\n</code></pre>\n<p>and:</p>\n<pre><code>private static void findUniqueEntriesInListUsingGenerics(List&lt;GetValueToStringObject&gt; list1,\n                                                           List&lt;GetValueToStringObject&gt; list2,\n                                                           List&lt;GetValueToStringObject&gt; result) {\n    for (GetValueToStringObject l1 : list1) {\n      boolean found = false;\n      for (GetValueToStringObject l2 : list2) {\n        if (l1.getValue().equals(l2.getValue())) {\n          found = true;\n          break;\n        }\n      }\n      if (!found) {\n        result.add(l1);\n      }\n    }\n  } \n</code></pre>\n<p>The problem is that I cannot directly call the method like this:</p>\n<pre><code>findUniqueEntriesInListUsingGenerics(list1, list2, result);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/iEOfb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iEOfb.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","bufferunderflowexception"],"answers":[{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1354220013,"creation_date":1354219430,"answer_id":13633775,"question_id":13633522,"body_markdown":"Maybe this test will help:\r\n\r\n\t\tByteBuffer b = ByteBuffer.allocate(1);\r\n\t\tb.get();\r\n\t\tb.get();\r\n\r\nAfter allocation there is 1 byte in the buffer, the first get() reads this byte and buffer reaches its limit, second get() is illegal, there is nothing to read, so you get BufferUnderflowException. \r\n\r\nThis code does not fail:\r\n\r\n\t\tByteBuffer b = ByteBuffer.allocate(1);\r\n\t\tb.get();\r\n                   b.rewind();\r\n\t\tb.get();\r\n\r\nYour read the byte, but it is still in the buffer, so you can rewind it and read the byte again","title":"Buffer Underflow?","body":"<p>Maybe this test will help:</p>\n\n<pre><code>    ByteBuffer b = ByteBuffer.allocate(1);\n    b.get();\n    b.get();\n</code></pre>\n\n<p>After allocation there is 1 byte in the buffer, the first get() reads this byte and buffer reaches its limit, second get() is illegal, there is nothing to read, so you get BufferUnderflowException. </p>\n\n<p>This code does not fail:</p>\n\n<pre><code>    ByteBuffer b = ByteBuffer.allocate(1);\n    b.get();\n               b.rewind();\n    b.get();\n</code></pre>\n\n<p>Your read the byte, but it is still in the buffer, so you can rewind it and read the byte again</p>\n"},{"tags":[],"owner":{"account_id":123583,"reputation":2268,"user_id":318125,"display_name":"Kazetsukai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1354585836,"creation_date":1354219469,"answer_id":13633787,"question_id":13633522,"body_markdown":"Since it is happening on certain devices, it could be possible that you are not getting the pixel format you are expecting.\r\n\r\nAlso if `buffBlend` is for any reason shorter than `buffOut` (which could potentially be caused by the bitmaps being different formats), you will get this exception when you try and `get()` past the end of it.\r\n\r\n**EDIT:**\r\n\r\nYou could change `int filterInt = buffBlend.get();` to \r\n\r\n    int filterInt = 0;\r\n    if (buffBlend.position() &lt; buffBlend.limit())\r\n        filterInt = buffBlend.get();\r\n\r\nIf you do that for both of your buffers, that should protect you against the exception, and blend with black when one image is bigger than the other.","title":"Buffer Underflow?","body":"<p>Since it is happening on certain devices, it could be possible that you are not getting the pixel format you are expecting.</p>\n\n<p>Also if <code>buffBlend</code> is for any reason shorter than <code>buffOut</code> (which could potentially be caused by the bitmaps being different formats), you will get this exception when you try and <code>get()</code> past the end of it.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>You could change <code>int filterInt = buffBlend.get();</code> to </p>\n\n<pre><code>int filterInt = 0;\nif (buffBlend.position() &lt; buffBlend.limit())\n    filterInt = buffBlend.get();\n</code></pre>\n\n<p>If you do that for both of your buffers, that should protect you against the exception, and blend with black when one image is bigger than the other.</p>\n"},{"tags":[],"owner":{"account_id":27750699,"reputation":1,"user_id":21185176,"display_name":"leodrostes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676140243,"creation_date":1676140243,"answer_id":75422418,"question_id":13633522,"body_markdown":"If someone is still interested:\r\n\r\nShort solution: call `buffBlend.position(0);` before executing the while loop. Do the same for all your IntBuffer objects.\r\n\r\nBackground:\r\n\r\nWhen you put an element into a IntBuffer the index/position of the IntBuffer is incremented. And when you call `.get()` method the incrimination continues. That&#39;s the problem. Let&#39;s say you put 3 int values into an IntBuffer. After that you call the `.get()` and you get the `BufferUnderflowException`. This happens because when you call the get() method the position/index increments to the 4, but your IntBuffer has the capacity of 3.\r\n\r\nSolution: before calling the first `get()`, execute `intBufferObject.position(0);` that is how you get your index position back to the 0.\r\n\r\nSee more here get() and put() methods documentation.\r\n[https://docs.oracle.com/javase/7/docs/api/java/nio/IntBuffer.html#get()][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/nio/IntBuffer.html#get()","title":"Buffer Underflow?","body":"<p>If someone is still interested:</p>\n<p>Short solution: call <code>buffBlend.position(0);</code> before executing the while loop. Do the same for all your IntBuffer objects.</p>\n<p>Background:</p>\n<p>When you put an element into a IntBuffer the index/position of the IntBuffer is incremented. And when you call <code>.get()</code> method the incrimination continues. That's the problem. Let's say you put 3 int values into an IntBuffer. After that you call the <code>.get()</code> and you get the <code>BufferUnderflowException</code>. This happens because when you call the get() method the position/index increments to the 4, but your IntBuffer has the capacity of 3.</p>\n<p>Solution: before calling the first <code>get()</code>, execute <code>intBufferObject.position(0);</code> that is how you get your index position back to the 0.</p>\n<p>See more here get() and put() methods documentation.\n<a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/IntBuffer.html#get()\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/nio/IntBuffer.html#get()</a></p>\n"}],"owner":{"account_id":1164918,"reputation":3515,"user_id":1143639,"accept_rate":89,"display_name":"KDEx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10513,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":13633787,"answer_count":3,"score":1,"last_activity_date":1676140243,"creation_date":1354218485,"question_id":13633522,"body_markdown":"I have the following snippet of code. The marked line is causing a BufferUnderflowException. I read the documentation on the exception but still do not understand what *exactly* it menas. I use the `.rewind()` method which I was under the impression mitigates the issue. \r\n\r\nCan anyone please enlighten me on the topic or cause of my error?\r\n\r\n                Bitmap cameraBaseSized = BitmapFactory.decodeFile(cameraPath, opts);\r\n                Bitmap canvasBlendSized = BitmapFactory.decodeFile(canvasPath, options);\r\n                Bitmap result = cameraBaseSized.copy(Config.ARGB_8888, true);\r\n                IntBuffer buffBase = IntBuffer.allocate(cameraBaseSized.getWidth()\r\n                        * cameraBaseSized.getHeight());\r\n                cameraBaseSized.copyPixelsToBuffer(buffBase);\r\n                buffBase.rewind();\r\n                IntBuffer buffBlend = IntBuffer.allocate(canvasBlendSized.getWidth()\r\n                        * canvasBlendSized.getHeight());\r\n                canvasBlendSized.copyPixelsToBuffer(buffBlend);\r\n                buffBlend.rewind();\r\n                IntBuffer buffOut = IntBuffer.allocate(cameraBaseSized.getWidth()\r\n                        * cameraBaseSized.getHeight());\r\n                buffOut.rewind();\r\n                while (buffOut.position() &lt; buffOut.limit()) {\r\n                    int filterInt = buffBlend.get(); //BUFFERUNDERFLOW EXCEPTION\r\n                    int srcInt = buffBase.get();\r\n                    int redValueFilter = Color.red(filterInt);\r\n                    int greenValueFilter = Color.green(filterInt);\r\n                    int blueValueFilter = Color.blue(filterInt);\r\n                    int redValueSrc = Color.red(srcInt);\r\n                    int greenValueSrc = Color.green(srcInt);\r\n                    int blueValueSrc = Color.blue(srcInt);\r\n                    int redValueFinal = multiply(redValueFilter, redValueSrc);\r\n                    int greenValueFinal = multiply(greenValueFilter, greenValueSrc);\r\n                    int blueValueFinal = multiply(blueValueFilter, blueValueSrc);\r\n                    int pixel = Color.argb(255, redValueFinal, greenValueFinal, blueValueFinal);\r\n                    buffOut.put(pixel);\r\n                }\r\n                buffOut.rewind();\r\n                result.copyPixelsFromBuffer(buffOut);\r\n\r\n\r\nAnd the exception snippet\r\n\r\n    11-29 14:41:57.347: E/AndroidRuntime(2166): Caused by: java.nio.BufferUnderflowException\r\n    11-29 14:41:57.347: E/AndroidRuntime(2166): \tat java.nio.IntArrayBuffer.get(IntArrayBuffer.java:55)\r\n\r\n\r\nI also would like to add this is happening only on specific devices, particularly samsung flavors. \r\n","title":"Buffer Underflow?","body":"<p>I have the following snippet of code. The marked line is causing a BufferUnderflowException. I read the documentation on the exception but still do not understand what <em>exactly</em> it menas. I use the <code>.rewind()</code> method which I was under the impression mitigates the issue. </p>\n\n<p>Can anyone please enlighten me on the topic or cause of my error?</p>\n\n<pre><code>            Bitmap cameraBaseSized = BitmapFactory.decodeFile(cameraPath, opts);\n            Bitmap canvasBlendSized = BitmapFactory.decodeFile(canvasPath, options);\n            Bitmap result = cameraBaseSized.copy(Config.ARGB_8888, true);\n            IntBuffer buffBase = IntBuffer.allocate(cameraBaseSized.getWidth()\n                    * cameraBaseSized.getHeight());\n            cameraBaseSized.copyPixelsToBuffer(buffBase);\n            buffBase.rewind();\n            IntBuffer buffBlend = IntBuffer.allocate(canvasBlendSized.getWidth()\n                    * canvasBlendSized.getHeight());\n            canvasBlendSized.copyPixelsToBuffer(buffBlend);\n            buffBlend.rewind();\n            IntBuffer buffOut = IntBuffer.allocate(cameraBaseSized.getWidth()\n                    * cameraBaseSized.getHeight());\n            buffOut.rewind();\n            while (buffOut.position() &lt; buffOut.limit()) {\n                int filterInt = buffBlend.get(); //BUFFERUNDERFLOW EXCEPTION\n                int srcInt = buffBase.get();\n                int redValueFilter = Color.red(filterInt);\n                int greenValueFilter = Color.green(filterInt);\n                int blueValueFilter = Color.blue(filterInt);\n                int redValueSrc = Color.red(srcInt);\n                int greenValueSrc = Color.green(srcInt);\n                int blueValueSrc = Color.blue(srcInt);\n                int redValueFinal = multiply(redValueFilter, redValueSrc);\n                int greenValueFinal = multiply(greenValueFilter, greenValueSrc);\n                int blueValueFinal = multiply(blueValueFilter, blueValueSrc);\n                int pixel = Color.argb(255, redValueFinal, greenValueFinal, blueValueFinal);\n                buffOut.put(pixel);\n            }\n            buffOut.rewind();\n            result.copyPixelsFromBuffer(buffOut);\n</code></pre>\n\n<p>And the exception snippet</p>\n\n<pre><code>11-29 14:41:57.347: E/AndroidRuntime(2166): Caused by: java.nio.BufferUnderflowException\n11-29 14:41:57.347: E/AndroidRuntime(2166):     at java.nio.IntArrayBuffer.get(IntArrayBuffer.java:55)\n</code></pre>\n\n<p>I also would like to add this is happening only on specific devices, particularly samsung flavors. </p>\n"},{"tags":["java","json","deserialization","jackson"],"comments":[{"owner":{"display_name":"user647772"},"score":0,"creation_date":1328020577,"post_id":9080904,"comment_id":11401514,"body_markdown":"Why do you want to ignore this error? I&#39;d return a HTTP code of `400` to every client who tries to `PUT` me a resource representation like this :)","body":"Why do you want to ignore this error? I&#39;d return a HTTP code of <code>400</code> to every client who tries to <code>PUT</code> me a resource representation like this :)"},{"owner":{"account_id":219437,"reputation":1321,"user_id":476345,"accept_rate":78,"display_name":"Fr&#233;d&#233;ric Camblor"},"score":2,"creation_date":1328021190,"post_id":9080904,"comment_id":11401717,"body_markdown":"I&#39;m using Jackson with Spring MVC and bean validation.\nProblem is Jackson is complaining about deserialization problems, before I reach the spring mvc layer .. so I cannot send to my client the errors in a consistent way.","body":"I&#39;m using Jackson with Spring MVC and bean validation. Problem is Jackson is complaining about deserialization problems, before I reach the spring mvc layer .. so I cannot send to my client the errors in a consistent way."},{"owner":{"account_id":112089,"reputation":22076,"user_id":295797,"accept_rate":73,"display_name":"Roy Truelove"},"score":0,"creation_date":1486146161,"post_id":9080904,"comment_id":71235772,"body_markdown":"Also I (for one) use Jackson quite often to do a readable dump of an object to a log.  Being able to note serialization issues and move on is very helpful","body":"Also I (for one) use Jackson quite often to do a readable dump of an object to a log.  Being able to note serialization issues and move on is very helpful"}],"answers":[{"tags":[],"owner":{"account_id":219437,"reputation":1321,"user_id":476345,"accept_rate":78,"display_name":"Fr&#233;d&#233;ric Camblor"},"down_vote_count":1,"up_vote_count":22,"is_accepted":true,"score":21,"last_activity_date":1328107674,"creation_date":1328107674,"answer_id":9097834,"question_id":9080904,"body_markdown":"I succeeded to solve my problem, thanks to [Tatu from Jackson ML][1].\r\n\r\nI had to use custom non blocking deserializers for every primitive types handled in Jackson.\r\nSomething like this factory :\r\n\r\n    public class JacksonNonBlockingObjectMapperFactory {\r\n    \r\n        /**\r\n         * Deserializer that won&#39;t block if value parsing doesn&#39;t match with target type\r\n         * @param &lt;T&gt; Handled type\r\n         */\r\n        private static class NonBlockingDeserializer&lt;T&gt; extends JsonDeserializer&lt;T&gt; {\r\n            private StdDeserializer&lt;T&gt; delegate;\r\n    \r\n            public NonBlockingDeserializer(StdDeserializer&lt;T&gt; _delegate){\r\n                this.delegate = _delegate;\r\n            }\r\n    \r\n            @Override\r\n            public T deserialize(JsonParser jp, DeserializationContext ctxt) throws IOException, JsonProcessingException {\r\n                try {\r\n                    return delegate.deserialize(jp, ctxt);\r\n                }catch (JsonMappingException e){\r\n                    // If a JSON Mapping occurs, simply returning null instead of blocking things\r\n                    return null;\r\n                }\r\n            }\r\n        }\r\n    \r\n        private List&lt;StdDeserializer&gt; jsonDeserializers = new ArrayList&lt;StdDeserializer&gt;();\r\n    \r\n        public ObjectMapper createObjectMapper(){\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n    \r\n            SimpleModule customJacksonModule = new SimpleModule(&quot;customJacksonModule&quot;, new Version(1, 0, 0, null));\r\n            for(StdDeserializer jsonDeserializer : jsonDeserializers){\r\n                // Wrapping given deserializers with NonBlockingDeserializer\r\n                customJacksonModule.addDeserializer(jsonDeserializer.getValueClass(), new NonBlockingDeserializer(jsonDeserializer));\r\n            }\r\n    \r\n            objectMapper.registerModule(customJacksonModule);\r\n            return objectMapper;\r\n        }\r\n    \r\n        public JacksonNonBlockingObjectMapperFactory setJsonDeserializers(List&lt;StdDeserializer&gt; _jsonDeserializers){\r\n            this.jsonDeserializers = _jsonDeserializers;\r\n            return this;\r\n        }\r\n    }\r\n\r\nThen calling it like this way (pass as deserializers only those you want to be non blocking) :\r\n\r\n    JacksonNonBlockingObjectMapperFactory factory = new JacksonNonBlockingObjectMapperFactory();\r\n    factory.setJsonDeserializers(Arrays.asList(new StdDeserializer[]{\r\n        // StdDeserializer, here, comes from Jackson (org.codehaus.jackson.map.deser.StdDeserializer)\r\n        new StdDeserializer.ShortDeserializer(Short.class, null),\r\n        new StdDeserializer.IntegerDeserializer(Integer.class, null),\r\n        new StdDeserializer.CharacterDeserializer(Character.class, null),\r\n        new StdDeserializer.LongDeserializer(Long.class, null),\r\n        new StdDeserializer.FloatDeserializer(Float.class, null),\r\n        new StdDeserializer.DoubleDeserializer(Double.class, null),\r\n        new StdDeserializer.NumberDeserializer(),\r\n        new StdDeserializer.BigDecimalDeserializer(),\r\n        new StdDeserializer.BigIntegerDeserializer(),\r\n        new StdDeserializer.CalendarDeserializer()\r\n    }));\r\n    ObjectMapper om = factory.createObjectMapper();\r\n\r\n\r\n  [1]: http://markmail.org/search/list:org.codehaus.jackson#query:%20list:org.codehaus.jackson.user+page:1+mid:toy6mh4wpezo3mnq+state:results","title":"Jackson deserialization error handling","body":"<p>I succeeded to solve my problem, thanks to <a href=\"http://markmail.org/search/list:org.codehaus.jackson#query:%20list:org.codehaus.jackson.user+page:1+mid:toy6mh4wpezo3mnq+state:results\" rel=\"noreferrer\">Tatu from Jackson ML</a>.</p>\n\n<p>I had to use custom non blocking deserializers for every primitive types handled in Jackson.\nSomething like this factory :</p>\n\n<pre><code>public class JacksonNonBlockingObjectMapperFactory {\n\n    /**\n     * Deserializer that won't block if value parsing doesn't match with target type\n     * @param &lt;T&gt; Handled type\n     */\n    private static class NonBlockingDeserializer&lt;T&gt; extends JsonDeserializer&lt;T&gt; {\n        private StdDeserializer&lt;T&gt; delegate;\n\n        public NonBlockingDeserializer(StdDeserializer&lt;T&gt; _delegate){\n            this.delegate = _delegate;\n        }\n\n        @Override\n        public T deserialize(JsonParser jp, DeserializationContext ctxt) throws IOException, JsonProcessingException {\n            try {\n                return delegate.deserialize(jp, ctxt);\n            }catch (JsonMappingException e){\n                // If a JSON Mapping occurs, simply returning null instead of blocking things\n                return null;\n            }\n        }\n    }\n\n    private List&lt;StdDeserializer&gt; jsonDeserializers = new ArrayList&lt;StdDeserializer&gt;();\n\n    public ObjectMapper createObjectMapper(){\n        ObjectMapper objectMapper = new ObjectMapper();\n\n        SimpleModule customJacksonModule = new SimpleModule(\"customJacksonModule\", new Version(1, 0, 0, null));\n        for(StdDeserializer jsonDeserializer : jsonDeserializers){\n            // Wrapping given deserializers with NonBlockingDeserializer\n            customJacksonModule.addDeserializer(jsonDeserializer.getValueClass(), new NonBlockingDeserializer(jsonDeserializer));\n        }\n\n        objectMapper.registerModule(customJacksonModule);\n        return objectMapper;\n    }\n\n    public JacksonNonBlockingObjectMapperFactory setJsonDeserializers(List&lt;StdDeserializer&gt; _jsonDeserializers){\n        this.jsonDeserializers = _jsonDeserializers;\n        return this;\n    }\n}\n</code></pre>\n\n<p>Then calling it like this way (pass as deserializers only those you want to be non blocking) :</p>\n\n<pre><code>JacksonNonBlockingObjectMapperFactory factory = new JacksonNonBlockingObjectMapperFactory();\nfactory.setJsonDeserializers(Arrays.asList(new StdDeserializer[]{\n    // StdDeserializer, here, comes from Jackson (org.codehaus.jackson.map.deser.StdDeserializer)\n    new StdDeserializer.ShortDeserializer(Short.class, null),\n    new StdDeserializer.IntegerDeserializer(Integer.class, null),\n    new StdDeserializer.CharacterDeserializer(Character.class, null),\n    new StdDeserializer.LongDeserializer(Long.class, null),\n    new StdDeserializer.FloatDeserializer(Float.class, null),\n    new StdDeserializer.DoubleDeserializer(Double.class, null),\n    new StdDeserializer.NumberDeserializer(),\n    new StdDeserializer.BigDecimalDeserializer(),\n    new StdDeserializer.BigIntegerDeserializer(),\n    new StdDeserializer.CalendarDeserializer()\n}));\nObjectMapper om = factory.createObjectMapper();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2893987,"reputation":257,"user_id":2482163,"display_name":"E L"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1404896677,"creation_date":1404896677,"answer_id":24649474,"question_id":9080904,"body_markdown":"You might want to let your controller handle the problem by adding a method that handles this specific exception\r\n\r\n    @ExceptionHandler(HttpMessageNotReadableException.class)\r\n    @ResponseBody\r\n    public String handleHttpMessageNotReadableException(HttpMessageNotReadableException ex)\r\n    {\r\n        JsonMappingException jme = (JsonMappingException) ex.getCause();\r\n        return jme.getPath().get(0).getFieldName() + &quot; invalid&quot;;\r\n    }\r\n\r\nOf course, the line\r\n\r\n        JsonMappingException jme = (JsonMappingException) ex.getCause();\r\n\r\nmight throw a class cast exception for some cases but i haven&#39;t encountered them yet.","title":"Jackson deserialization error handling","body":"<p>You might want to let your controller handle the problem by adding a method that handles this specific exception</p>\n\n<pre><code>@ExceptionHandler(HttpMessageNotReadableException.class)\n@ResponseBody\npublic String handleHttpMessageNotReadableException(HttpMessageNotReadableException ex)\n{\n    JsonMappingException jme = (JsonMappingException) ex.getCause();\n    return jme.getPath().get(0).getFieldName() + \" invalid\";\n}\n</code></pre>\n\n<p>Of course, the line</p>\n\n<pre><code>    JsonMappingException jme = (JsonMappingException) ex.getCause();\n</code></pre>\n\n<p>might throw a class cast exception for some cases but i haven't encountered them yet.</p>\n"},{"tags":[],"owner":{"account_id":3124720,"reputation":19,"user_id":2643811,"display_name":"Symon Moura Lopes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1512077454,"creation_date":1512077454,"answer_id":47582923,"question_id":9080904,"body_markdown":"Create a simple Mapper:\r\n\r\n    @Provider\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public class JSONProcessingErroMapper implements ExceptionMapper&lt;InvalidFormatException&gt; {\r\n\r\n\t@Override\r\n\tpublic Response toResponse(InvalidFormatException ex) {\t\r\n\t\treturn Response.status(400)\r\n                 .entity(new ClientError(&quot;[User friendly message]&quot;))\r\n                 .type(MediaType.APPLICATION_JSON)\r\n                 .build();\r\n\t}\r\n\r\n}","title":"Jackson deserialization error handling","body":"<p>Create a simple Mapper:</p>\n\n<pre><code>@Provider\n@Produces(MediaType.APPLICATION_JSON)\npublic class JSONProcessingErroMapper implements ExceptionMapper&lt;InvalidFormatException&gt; {\n\n@Override\npublic Response toResponse(InvalidFormatException ex) { \n    return Response.status(400)\n             .entity(new ClientError(\"[User friendly message]\"))\n             .type(MediaType.APPLICATION_JSON)\n             .build();\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":14230288,"reputation":241,"user_id":10279724,"display_name":"pjsagar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1596194565,"creation_date":1596194565,"answer_id":63190939,"question_id":9080904,"body_markdown":"I have written a simple error handler which will give you some kind of error which you can return to user with bad request as status code. Use @JsonProperty required = true to get error related to missing properties. Jackson version 2.9.8.\r\n```\r\npublic class JacksonExceptionHandler {\r\n\r\n    public String getErrorMessage(HttpMessageNotReadableException e) {\r\n        String message = null;\r\n        boolean handled = false;\r\n        Throwable cause = e.getRootCause();\r\n\r\n        if (cause instanceof UnrecognizedPropertyException) {\r\n            UnrecognizedPropertyException exception = (UnrecognizedPropertyException) cause;\r\n            message = handleUnrecognizedPropertyException(exception);\r\n            handled = true;\r\n        }\r\n        if (cause instanceof InvalidFormatException) {\r\n            InvalidFormatException exception = (InvalidFormatException) cause;\r\n            message = handleInvalidFormatException(exception);\r\n            handled = true;\r\n        }\r\n        if (cause instanceof MismatchedInputException) {\r\n            if (!handled) {\r\n                MismatchedInputException exception = (MismatchedInputException) cause;\r\n                message = handleMisMatchInputException(exception);\r\n            }\r\n        }\r\n        if (cause instanceof JsonParseException) {\r\n            message = &quot;Malformed json&quot;;\r\n        }\r\n        return message;\r\n    }\r\n\r\n    private String handleInvalidFormatException(InvalidFormatException exception) {\r\n        String reference = null;\r\n        if (!exception.getPath().isEmpty()) {\r\n            String path = extractPropertyReference(exception.getPath());\r\n            reference = removeLastCharacter(path);\r\n        }\r\n        Object value = exception.getValue();\r\n        return &quot;Invalid value &#39;&quot; + value + &quot;&#39; for property : &quot; + reference;\r\n    }\r\n\r\n    private String handleUnrecognizedPropertyException(UnrecognizedPropertyException exception) {\r\n        String reference = null;\r\n        if (!exception.getPath().isEmpty()) {\r\n            String path = extractPropertyReference(exception.getPath());\r\n            reference = removeLastCharacter(path);\r\n        }\r\n        return &quot;Unknown property : &#39;&quot; + reference + &quot;&#39;&quot;;\r\n    }\r\n\r\n    private String handleMisMatchInputException(MismatchedInputException exception) {\r\n        String reference = null;\r\n        if (!exception.getPath().isEmpty()) {\r\n            reference = extractPropertyReference(exception.getPath());\r\n        }\r\n        String property = StringUtils.substringBetween(exception.getLocalizedMessage(), &quot;&#39;&quot;, &quot;&#39;&quot;);\r\n        // if property missing inside nested object\r\n        if (reference != null &amp;&amp; property!=null) {\r\n            return &quot;Missing property : &#39;&quot; + reference + property + &quot;&#39;&quot;;\r\n        }\r\n        // if invalid value given to array\r\n        if(property==null){\r\n            return &quot;Invalid values at : &#39;&quot;+ reference +&quot;&#39;&quot;;\r\n        }\r\n        // if property missing at root level\r\n        else return &quot;Missing property : &#39;&quot; + property + &quot;&#39;&quot;;\r\n    }\r\n\r\n    // extract nested object name for which property is missing\r\n    private String extractPropertyReference(List&lt;JsonMappingException.Reference&gt; path) {\r\n        StringBuilder stringBuilder = new StringBuilder();\r\n        path.forEach(reference -&gt; {\r\n                    if(reference.getFieldName() != null) {\r\n                        stringBuilder.append(reference.getFieldName()).append(&quot;.&quot;);\r\n                        // if field is null means it is array\r\n                    } else stringBuilder.append(&quot;[].&quot;);\r\n                }\r\n                );\r\n        return stringBuilder.toString();\r\n    }\r\n\r\n    // remove &#39;.&#39; at the end of property path reference\r\n    private String removeLastCharacter(String string) {\r\n        return string.substring(0, string.length() - 1);\r\n    }\r\n}\r\n```\r\nand call this class object in global advice like this\r\n\r\n```\r\n@Override\r\n    protected ResponseEntity&lt;Object&gt; handleHttpMessageNotReadable(HttpMessageNotReadableException ex, HttpHeaders headers, HttpStatus status, WebRequest request) {\r\n        String message = new JacksonExceptionHandler().generator.getErrorMessage(ex);\r\n        if(message == null){\r\n            return ResponseEntity.badRequest().body(&quot;Malformed json&quot;);\r\n        }\r\n        return ResponseEntity.badRequest().body(message);\r\n    }\r\n```","title":"Jackson deserialization error handling","body":"<p>I have written a simple error handler which will give you some kind of error which you can return to user with bad request as status code. Use @JsonProperty required = true to get error related to missing properties. Jackson version 2.9.8.</p>\n<pre><code>public class JacksonExceptionHandler {\n\n    public String getErrorMessage(HttpMessageNotReadableException e) {\n        String message = null;\n        boolean handled = false;\n        Throwable cause = e.getRootCause();\n\n        if (cause instanceof UnrecognizedPropertyException) {\n            UnrecognizedPropertyException exception = (UnrecognizedPropertyException) cause;\n            message = handleUnrecognizedPropertyException(exception);\n            handled = true;\n        }\n        if (cause instanceof InvalidFormatException) {\n            InvalidFormatException exception = (InvalidFormatException) cause;\n            message = handleInvalidFormatException(exception);\n            handled = true;\n        }\n        if (cause instanceof MismatchedInputException) {\n            if (!handled) {\n                MismatchedInputException exception = (MismatchedInputException) cause;\n                message = handleMisMatchInputException(exception);\n            }\n        }\n        if (cause instanceof JsonParseException) {\n            message = &quot;Malformed json&quot;;\n        }\n        return message;\n    }\n\n    private String handleInvalidFormatException(InvalidFormatException exception) {\n        String reference = null;\n        if (!exception.getPath().isEmpty()) {\n            String path = extractPropertyReference(exception.getPath());\n            reference = removeLastCharacter(path);\n        }\n        Object value = exception.getValue();\n        return &quot;Invalid value '&quot; + value + &quot;' for property : &quot; + reference;\n    }\n\n    private String handleUnrecognizedPropertyException(UnrecognizedPropertyException exception) {\n        String reference = null;\n        if (!exception.getPath().isEmpty()) {\n            String path = extractPropertyReference(exception.getPath());\n            reference = removeLastCharacter(path);\n        }\n        return &quot;Unknown property : '&quot; + reference + &quot;'&quot;;\n    }\n\n    private String handleMisMatchInputException(MismatchedInputException exception) {\n        String reference = null;\n        if (!exception.getPath().isEmpty()) {\n            reference = extractPropertyReference(exception.getPath());\n        }\n        String property = StringUtils.substringBetween(exception.getLocalizedMessage(), &quot;'&quot;, &quot;'&quot;);\n        // if property missing inside nested object\n        if (reference != null &amp;&amp; property!=null) {\n            return &quot;Missing property : '&quot; + reference + property + &quot;'&quot;;\n        }\n        // if invalid value given to array\n        if(property==null){\n            return &quot;Invalid values at : '&quot;+ reference +&quot;'&quot;;\n        }\n        // if property missing at root level\n        else return &quot;Missing property : '&quot; + property + &quot;'&quot;;\n    }\n\n    // extract nested object name for which property is missing\n    private String extractPropertyReference(List&lt;JsonMappingException.Reference&gt; path) {\n        StringBuilder stringBuilder = new StringBuilder();\n        path.forEach(reference -&gt; {\n                    if(reference.getFieldName() != null) {\n                        stringBuilder.append(reference.getFieldName()).append(&quot;.&quot;);\n                        // if field is null means it is array\n                    } else stringBuilder.append(&quot;[].&quot;);\n                }\n                );\n        return stringBuilder.toString();\n    }\n\n    // remove '.' at the end of property path reference\n    private String removeLastCharacter(String string) {\n        return string.substring(0, string.length() - 1);\n    }\n}\n</code></pre>\n<p>and call this class object in global advice like this</p>\n<pre><code>@Override\n    protected ResponseEntity&lt;Object&gt; handleHttpMessageNotReadable(HttpMessageNotReadableException ex, HttpHeaders headers, HttpStatus status, WebRequest request) {\n        String message = new JacksonExceptionHandler().generator.getErrorMessage(ex);\n        if(message == null){\n            return ResponseEntity.badRequest().body(&quot;Malformed json&quot;);\n        }\n        return ResponseEntity.badRequest().body(message);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8975010,"reputation":505,"user_id":6692196,"display_name":"Gene S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676139958,"creation_date":1676139958,"answer_id":75422381,"question_id":9080904,"body_markdown":"[DeserializationProblemHandler](https://www.javadoc.io/static/com.fasterxml.jackson.core/jackson-databind/2.14.2/com/fasterxml/jackson/databind/deser/DeserializationProblemHandler.html) now has a lot more methods, such as `handleUnexpectedToken` and \t`handleWeird*Value`. It should be able to handle anything one needs.\r\n\r\nSubclass it, override methods you need, then add it to your `ObjectMapper` with `addHandler(DeserializationProblemHandler h)`.","title":"Jackson deserialization error handling","body":"<p><a href=\"https://www.javadoc.io/static/com.fasterxml.jackson.core/jackson-databind/2.14.2/com/fasterxml/jackson/databind/deser/DeserializationProblemHandler.html\" rel=\"nofollow noreferrer\">DeserializationProblemHandler</a> now has a lot more methods, such as <code>handleUnexpectedToken</code> and   <code>handleWeird*Value</code>. It should be able to handle anything one needs.</p>\n<p>Subclass it, override methods you need, then add it to your <code>ObjectMapper</code> with <code>addHandler(DeserializationProblemHandler h)</code>.</p>\n"}],"owner":{"account_id":219437,"reputation":1321,"user_id":476345,"accept_rate":78,"display_name":"Fr&#233;d&#233;ric Camblor"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51722,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":9097834,"answer_count":5,"score":23,"last_activity_date":1676139958,"creation_date":1328018912,"question_id":9080904,"body_markdown":"My problem is fairly simple : I have the following simple class:\r\n\r\n    public class Foo {\r\n       private int id = -1;\r\n       public void setId(int _id){ this.id = _id; }\r\n       public int getId(){ return this.id; }\r\n    }\r\n\r\nAnd I am trying to process following JSON:\r\n\r\n    {\r\n      &quot;id&quot;: &quot;blah&quot;\r\n    }\r\n\r\nObviously, there is a problem here (&quot;blah&quot; cannot be parsed to an int)\r\n\r\nFormerly, Jackson throws something like org.codehaus.jackson.map.JsonMappingException: Can not construct instance of java.lang.Integer from String value &#39;blah&#39;: not a valid Integer value\r\n\r\nI agree with this, but I&#39;d like to register something somewhere allowing to ignore this type of mapping errors.\r\nI tried with a DeserializationProblemHandler registered (see [here][1]) but it seems to only work on unknown properties and not deserialization problems.\r\n\r\nHave you any clue on this issue?\r\n\r\n\r\n  [1]: http://wiki.fasterxml.com/JacksonHowToIgnoreUnknown","title":"Jackson deserialization error handling","body":"<p>My problem is fairly simple : I have the following simple class:</p>\n\n<pre><code>public class Foo {\n   private int id = -1;\n   public void setId(int _id){ this.id = _id; }\n   public int getId(){ return this.id; }\n}\n</code></pre>\n\n<p>And I am trying to process following JSON:</p>\n\n<pre><code>{\n  \"id\": \"blah\"\n}\n</code></pre>\n\n<p>Obviously, there is a problem here (\"blah\" cannot be parsed to an int)</p>\n\n<p>Formerly, Jackson throws something like org.codehaus.jackson.map.JsonMappingException: Can not construct instance of java.lang.Integer from String value 'blah': not a valid Integer value</p>\n\n<p>I agree with this, but I'd like to register something somewhere allowing to ignore this type of mapping errors.\nI tried with a DeserializationProblemHandler registered (see <a href=\"http://wiki.fasterxml.com/JacksonHowToIgnoreUnknown\" rel=\"noreferrer\">here</a>) but it seems to only work on unknown properties and not deserialization problems.</p>\n\n<p>Have you any clue on this issue?</p>\n"},{"tags":["java","mysql","netbeans-8"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1676139246,"post_id":75422262,"comment_id":133079265,"body_markdown":"Java cannot expand variables in Strings (like Python). First would be to concatenate the actual variable value with the SELECT String. But, **do not do this**, read about PreparedStatement https://www.baeldung.com/java-statement-preparedstatement","body":"Java cannot expand variables in Strings (like Python). First would be to concatenate the actual variable value with the SELECT String. But, <b>do not do this</b>, read about PreparedStatement <a href=\"https://www.baeldung.com/java-statement-preparedstatement\" rel=\"nofollow noreferrer\">baeldung.com/java-statement-preparedstatement</a>"}],"owner":{"account_id":13584166,"reputation":81,"user_id":9799333,"display_name":"Noor "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676139731,"creation_date":1676138995,"question_id":75422262,"body_markdown":"How should I run a query, to access one specific column vales which is equal to java String variable?\r\n\r\nThis is what I tried,\r\n\r\n```String acc_value = txt_username.getText().toString();```\r\n\r\n```String ACsql = &quot;SELECT access_lev FROM userlog_copy WHERE User_Name=&#39;&quot;acc_value&quot;&#39;&quot;;```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zXVcb.jpg\r\n\r\ncan someone help me with this?","title":"how to select specific column value using java variable and MySQL?","body":"<p>How should I run a query, to access one specific column vales which is equal to java String variable?</p>\n<p>This is what I tried,</p>\n<p><code>String acc_value = txt_username.getText().toString();</code></p>\n<p><code>String ACsql = &quot;SELECT access_lev FROM userlog_copy WHERE User_Name='&quot;acc_value&quot;'&quot;;</code></p>\n<p><a href=\"https://i.stack.imgur.com/zXVcb.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zXVcb.jpg\" alt=\"enter image description here\" /></a></p>\n<p>can someone help me with this?</p>\n"},{"tags":["java","spring-boot","spring-mvc","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676139694,"creation_date":1676139694,"answer_id":75422348,"question_id":75422245,"body_markdown":"Probably `OrderItem.placeOrder` points again to the same order the OrderItem belongs to. So you get a refence loop. \r\n\r\nYou may add annotation \r\n\r\n        @JsonIgnore\r\n        Order placeOrder;\r\n\r\nAnyway, it is not a good idea to return entities in the controller.\r\n","title":"I want to show the nested json on browser but something is wrong where I&#39;m getting infinite nested and repeated output","body":"<p>Probably <code>OrderItem.placeOrder</code> points again to the same order the OrderItem belongs to. So you get a refence loop.</p>\n<p>You may add annotation</p>\n<pre><code>    @JsonIgnore\n    Order placeOrder;\n</code></pre>\n<p>Anyway, it is not a good idea to return entities in the controller.</p>\n"}],"owner":{"display_name":"user17282548"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676139694,"creation_date":1676138874,"question_id":75422245,"body_markdown":"```\r\nthis is Normal Pojo classes of Order and OrderItem\r\n```\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;Orders&quot;)\r\n\r\npublic class Order  {\r\n\t\r\n\t//@EmbeddedId\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tint Oid;\r\n\tString name;\r\n\tdouble price;\r\n\t\r\n\tOrder(){\r\n\t\t\r\n\t}\r\n\t\r\n\t@OneToMany(mappedBy = &quot;placeOrder&quot;,cascade = CascadeType.ALL )\r\n\tList&lt;OrderItem&gt; items;\r\n\t\r\n\tpublic void setItems(List&lt;OrderItem&gt; items) {\r\n\t\tthis.items = items;\r\n\t}\r\n\tpublic List&lt;OrderItem&gt; getItems() {\r\n\t\treturn items;\r\n\t}\r\n\t\r\n\t\r\n\tOrder(String name,Double price){\r\n\t\tthis.name=name;\r\n\t\tthis.price=price;\r\n\t}\r\n\t\r\n\tpublic int getOid() {\r\n\t\treturn Oid;\r\n\t}\r\n\tpublic void setOid(int oid) {\r\n\t\tOid = oid;\r\n\t}\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\tpublic double getPrice() {\r\n\t\treturn price;\r\n\t}\r\n\tpublic void setPrice(double price) {\r\n\t\tthis.price = price;\r\n\t}\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;OrderItems&quot;)@Data\r\n@NoArgsConstructorpublic class OrderItem {\r\n@Id@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tint itemId;\r\n\tString itemName;\r\n\tString amt;\r\n\t\r\n\t@ManyToOne(fetch = FetchType.EAGER)\r\n\t//Since many records from here are attacted to some other table&#39;s one record\r\n\t@JoinColumn(name=&quot;Oid&quot;)\r\n\t//used to create the Foreign key relation with column name Oid\r\n\tOrder placeOrder;\r\n\t//Oid \r\n\t\r\n\tOrderItem(String itemName,String amt,Order order){\r\n\t\tthis.itemName=itemName;\r\n\t\tthis.amt=amt;\r\n\t\tthis.placeOrder=order;\r\n\t}\r\n\t\r\n\tpublic int getItemId() {\r\n\t\treturn itemId;\r\n\t}\r\n\tpublic void setItemId(int itemId) {\r\n\t\tthis.itemId = itemId;\r\n\t}\r\n\tpublic String getItemName() {\r\n\t\treturn itemName;\r\n\t}\r\n\tpublic void setItemName(String itemName) {\r\n\t\tthis.itemName = itemName;\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nHere this is my Controller and currently I&#39;m not using the Services just the normal Repository(jpaRepository)\r\n\r\n```\r\n@GetMapping(&quot;/shoData/{Oid}&quot;)\r\nOptional&lt;Order&gt; showOrderDetails(@PathVariable int Oid) {\r\n\t\t//Oid=2;\r\n\t\tSystem.out.println(Oid);\r\n\t\tOptional&lt;Order&gt; opOrder;\r\n\t\t\r\n\t\topOrder=orepo.findById(Oid);\r\n\t\tSystem.out.print(&quot;demo&quot;);\r\n\t\t\r\n\t\t\treturn opOrder;\r\n\t\t\t\r\n\t}\r\n```\r\n\r\nI&#39;m getting output but the  Output is kinda messy actually its too much but I cut it down previously it was working totally fine but now dont know what happened suddenly\r\n\r\n```\r\n{&quot;name&quot;:&quot;patel&quot;,&quot;price&quot;:7899.0,&quot;items&quot;:[{&quot;itemId&quot;:4,&quot;itemName&quot;:&quot;cat&quot;,&quot;amt&quot;:&quot;73&quot;,&quot;placeOrder&quot;:{&quot;name&quot;:&quot;patel&quot;,&quot;price&quot;:7899.0,&quot;items&quot;:[{&quot;itemId&quot;:4,&quot;itemName&quot;:&quot;cat&quot;,&quot;amt&quot;:&quot;73&quot;,&quot;placeOrder&quot;:{&quot;name&quot;:&quot;patel&quot;,&quot;price&quot;:7899.0,&quot;items&quot;:[{&quot;itemId&quot;:4,&quot;itemName&quot;:&quot;cat&quot;,&quot;amt&quot;:&quot;73&quot;,&quot;placeOrder&quot;:{&quot;name&quot;:&quot;patel&quot;,&quot;price&quot;:7899.0,&quot;items&quot;:[{&quot;itemId&quot;:4,&quot;itemName&quot;:&quot;cat&quot;,&quot;amt&quot;:&quot;73&quot;,&quot;placeOrder&quot;:{&quot;name&quot;:&quot;patel&quot;,&quot;price&quot;:7899.0,&quot;items&quot;:[{&quot;itemId&quot;:4,&quot;itemName&quot;:&quot;cat&quot;,&quot;amt&quot;:&quot;73&quot;,&quot;placeOrder&quot;:{&quot;name&quot;:&quot;patel&quot;,&quot;price&quot;:7899.0,&quot;items&quot;:[{&quot;itemId&quot;:4,&quot;itemName&quot;:&quot;cat&quot;,&quot;amt&quot;:&quot;73&quot;,&quot;placeOrder&quot;:{&quot;name&quot;:&quot;patel&quot;,&quot;price&quot;:7899.0,&quot;items&quot;:[{&quot;itemId&quot;:4,&quot;itemName&quot;:&quot;cat&quot;,&quot;amt&quot;:&quot;73&quot;,&quot;placeOrder&quot;:{&quot;name&quot;:&quot;patel&quot;,&quot;price&quot;:7899.0,&quot;items&quot;:[{&quot;itemId&quot;:4,&quot;itemName&quot;:&quot;cat&quot;,&quot;amt&quot;:&quot;73&quot;,&quot;placeOrder&quot;:{&quot;name&quot;:&quot;patel&quot;,&quot;price&quot;:7899.0,&quot;items&quot;:[{&quot;itemId&quot;:4,&quot;itemName&quot;:&quot;cat&quot;,&quot;amt&quot;:&quot;73&quot;,&quot;placeOrder&quot;:{&quot;name&quot;:&quot;patel&quot;,&quot;price&quot;:7899.0,&quot;items&quot;:[{&quot;itemId&quot;:4,&quot;itemName&quot;:&quot;cat&quot;,&quot;amt&quot;:&quot;73&quot;,&quot;placeOrder&quot;:{&quot;name&quot;:&quot;patel&quot;,&quot;price&quot;:7899.0,&quot;items&quot;:[{&quot;itemId&quot;:4,&quot;itemName&quot;:&quot;cat&quot;,&quot;amt&quot;:&quot;73&quot;,&quot;placeOrder&quot;:{&quot;name&quot;:&quot;patel&quot;,&quot;price&quot;:7899.0,&quot;items&quot;:[{&quot;itemId&quot;:4,&quot;itemName&quot;:&quot;cat&quot;,&quot;amt&quot;:&quot;73&quot;,&quot;placeOrder&quot;:{&quot;name&quot;:&quot;patel&quot;,&quot;price&quot;:7899.0,&quot;items&quot;:[{&quot;itemId&quot;:4,&quot;itemName&quot;:&quot;cat&quot;,&quot;amt&quot;:&quot;73&quot;,&quot;placeOrder&quot;:{&quot;name&quot;:&quot;patel&quot;,&quot;price&quot;:7899.0,&quot;items&quot;:[{&quot;itemId&quot;:4,&quot;itemName&quot;:&quot;cat&quot;,&quot;amt&quot;:&quot;73&quot;,&quot;placeOrder&quot;:{&quot;name&quot;:&quot;patel&quot;,&quot;price&quot;:7899.0,&quot;items&quot;:[{&quot;itemId&quot;:4,&quot;itemName&quot;:&quot;cat&quot;,&quot;amt&quot;:&quot;73&quot;,&quot;placeOrder&quot;:{&quot;name&quot;:&quot;patel&quot;,&quot;price&quot;:7899.0,&quot;items&quot;:[{&quot;itemId&quot;:4,&quot;itemName&quot;:&quot;cat&quot;,&quot;amt&quot;:&quot;73&quot;,&quot;placeOrder&quot;:{&quot;name&quot;:&quot;patel&quot;,&quot;price&quot;:7899.0,&quot;items&quot;:[{&quot;itemId&quot;:4,&quot;itemName&quot;:&quot;cat&quot;,&quot;amt&quot;:&quot;73&quot;,&quot;placeOrder&quot;:{&quot;name&quot;:&quot;patel&quot;,&quot;price&quot;:7899.0,&quot;items&quot;:[{&quot;itemId&quot;:4,&quot;itemName&quot;:&quot;cat&quot;,&quot;amt&quot;:&quot;73&quot;,&quot;placeOrder&quot;:{&quot;name&quot;:&quot;patel&quot;,&quot;price&quot;:7899.0,&quot;items&quot;:[{&quot;itemId&quot;:4,&quot;itemName&quot;:&quot;cat&quot;,&quot;amt&quot;:&quot;73&quot;,&quot;placeOrder&quot;:{&quot;name&quot;:&quot;patel&quot;,&quot;price&quot;:7899.0,&quot;items&quot;:[{&quot;itemId&quot;:4,&quot;itemName&quot;:&quot;cat&quot;,&quot;amt&quot;:&quot;73&quot;,&quot;placeOrder&quot;:}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}\r\n\r\n```\r\n\r\nhere I removed many lines but its too much and with this output my console is even cant load it\r\nmy Order table one row is Linked to the OrderItem table multiple rows","title":"I want to show the nested json on browser but something is wrong where I&#39;m getting infinite nested and repeated output","body":"<pre><code>this is Normal Pojo classes of Order and OrderItem\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;Orders&quot;)\n\npublic class Order  {\n    \n    //@EmbeddedId\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    int Oid;\n    String name;\n    double price;\n    \n    Order(){\n        \n    }\n    \n    @OneToMany(mappedBy = &quot;placeOrder&quot;,cascade = CascadeType.ALL )\n    List&lt;OrderItem&gt; items;\n    \n    public void setItems(List&lt;OrderItem&gt; items) {\n        this.items = items;\n    }\n    public List&lt;OrderItem&gt; getItems() {\n        return items;\n    }\n    \n    \n    Order(String name,Double price){\n        this.name=name;\n        this.price=price;\n    }\n    \n    public int getOid() {\n        return Oid;\n    }\n    public void setOid(int oid) {\n        Oid = oid;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public double getPrice() {\n        return price;\n    }\n    public void setPrice(double price) {\n        this.price = price;\n    }\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;OrderItems&quot;)@Data\n@NoArgsConstructorpublic class OrderItem {\n@Id@GeneratedValue(strategy = GenerationType.IDENTITY)\n    int itemId;\n    String itemName;\n    String amt;\n    \n    @ManyToOne(fetch = FetchType.EAGER)\n    //Since many records from here are attacted to some other table's one record\n    @JoinColumn(name=&quot;Oid&quot;)\n    //used to create the Foreign key relation with column name Oid\n    Order placeOrder;\n    //Oid \n    \n    OrderItem(String itemName,String amt,Order order){\n        this.itemName=itemName;\n        this.amt=amt;\n        this.placeOrder=order;\n    }\n    \n    public int getItemId() {\n        return itemId;\n    }\n    public void setItemId(int itemId) {\n        this.itemId = itemId;\n    }\n    public String getItemName() {\n        return itemName;\n    }\n    public void setItemName(String itemName) {\n        this.itemName = itemName;\n    }\n    \n}\n</code></pre>\n<p>Here this is my Controller and currently I'm not using the Services just the normal Repository(jpaRepository)</p>\n<pre><code>@GetMapping(&quot;/shoData/{Oid}&quot;)\nOptional&lt;Order&gt; showOrderDetails(@PathVariable int Oid) {\n        //Oid=2;\n        System.out.println(Oid);\n        Optional&lt;Order&gt; opOrder;\n        \n        opOrder=orepo.findById(Oid);\n        System.out.print(&quot;demo&quot;);\n        \n            return opOrder;\n            \n    }\n</code></pre>\n<p>I'm getting output but the  Output is kinda messy actually its too much but I cut it down previously it was working totally fine but now dont know what happened suddenly</p>\n<pre><code>{&quot;name&quot;:&quot;patel&quot;,&quot;price&quot;:7899.0,&quot;items&quot;:[{&quot;itemId&quot;:4,&quot;itemName&quot;:&quot;cat&quot;,&quot;amt&quot;:&quot;73&quot;,&quot;placeOrder&quot;:{&quot;name&quot;:&quot;patel&quot;,&quot;price&quot;:7899.0,&quot;items&quot;:[{&quot;itemId&quot;:4,&quot;itemName&quot;:&quot;cat&quot;,&quot;amt&quot;:&quot;73&quot;,&quot;placeOrder&quot;:{&quot;name&quot;:&quot;patel&quot;,&quot;price&quot;:7899.0,&quot;items&quot;:[{&quot;itemId&quot;:4,&quot;itemName&quot;:&quot;cat&quot;,&quot;amt&quot;:&quot;73&quot;,&quot;placeOrder&quot;:{&quot;name&quot;:&quot;patel&quot;,&quot;price&quot;:7899.0,&quot;items&quot;:[{&quot;itemId&quot;:4,&quot;itemName&quot;:&quot;cat&quot;,&quot;amt&quot;:&quot;73&quot;,&quot;placeOrder&quot;:{&quot;name&quot;:&quot;patel&quot;,&quot;price&quot;:7899.0,&quot;items&quot;:[{&quot;itemId&quot;:4,&quot;itemName&quot;:&quot;cat&quot;,&quot;amt&quot;:&quot;73&quot;,&quot;placeOrder&quot;:{&quot;name&quot;:&quot;patel&quot;,&quot;price&quot;:7899.0,&quot;items&quot;:[{&quot;itemId&quot;:4,&quot;itemName&quot;:&quot;cat&quot;,&quot;amt&quot;:&quot;73&quot;,&quot;placeOrder&quot;:{&quot;name&quot;:&quot;patel&quot;,&quot;price&quot;:7899.0,&quot;items&quot;:[{&quot;itemId&quot;:4,&quot;itemName&quot;:&quot;cat&quot;,&quot;amt&quot;:&quot;73&quot;,&quot;placeOrder&quot;:{&quot;name&quot;:&quot;patel&quot;,&quot;price&quot;:7899.0,&quot;items&quot;:[{&quot;itemId&quot;:4,&quot;itemName&quot;:&quot;cat&quot;,&quot;amt&quot;:&quot;73&quot;,&quot;placeOrder&quot;:{&quot;name&quot;:&quot;patel&quot;,&quot;price&quot;:7899.0,&quot;items&quot;:[{&quot;itemId&quot;:4,&quot;itemName&quot;:&quot;cat&quot;,&quot;amt&quot;:&quot;73&quot;,&quot;placeOrder&quot;:{&quot;name&quot;:&quot;patel&quot;,&quot;price&quot;:7899.0,&quot;items&quot;:[{&quot;itemId&quot;:4,&quot;itemName&quot;:&quot;cat&quot;,&quot;amt&quot;:&quot;73&quot;,&quot;placeOrder&quot;:{&quot;name&quot;:&quot;patel&quot;,&quot;price&quot;:7899.0,&quot;items&quot;:[{&quot;itemId&quot;:4,&quot;itemName&quot;:&quot;cat&quot;,&quot;amt&quot;:&quot;73&quot;,&quot;placeOrder&quot;:{&quot;name&quot;:&quot;patel&quot;,&quot;price&quot;:7899.0,&quot;items&quot;:[{&quot;itemId&quot;:4,&quot;itemName&quot;:&quot;cat&quot;,&quot;amt&quot;:&quot;73&quot;,&quot;placeOrder&quot;:{&quot;name&quot;:&quot;patel&quot;,&quot;price&quot;:7899.0,&quot;items&quot;:[{&quot;itemId&quot;:4,&quot;itemName&quot;:&quot;cat&quot;,&quot;amt&quot;:&quot;73&quot;,&quot;placeOrder&quot;:{&quot;name&quot;:&quot;patel&quot;,&quot;price&quot;:7899.0,&quot;items&quot;:[{&quot;itemId&quot;:4,&quot;itemName&quot;:&quot;cat&quot;,&quot;amt&quot;:&quot;73&quot;,&quot;placeOrder&quot;:{&quot;name&quot;:&quot;patel&quot;,&quot;price&quot;:7899.0,&quot;items&quot;:[{&quot;itemId&quot;:4,&quot;itemName&quot;:&quot;cat&quot;,&quot;amt&quot;:&quot;73&quot;,&quot;placeOrder&quot;:{&quot;name&quot;:&quot;patel&quot;,&quot;price&quot;:7899.0,&quot;items&quot;:[{&quot;itemId&quot;:4,&quot;itemName&quot;:&quot;cat&quot;,&quot;amt&quot;:&quot;73&quot;,&quot;placeOrder&quot;:{&quot;name&quot;:&quot;patel&quot;,&quot;price&quot;:7899.0,&quot;items&quot;:[{&quot;itemId&quot;:4,&quot;itemName&quot;:&quot;cat&quot;,&quot;amt&quot;:&quot;73&quot;,&quot;placeOrder&quot;:{&quot;name&quot;:&quot;patel&quot;,&quot;price&quot;:7899.0,&quot;items&quot;:[{&quot;itemId&quot;:4,&quot;itemName&quot;:&quot;cat&quot;,&quot;amt&quot;:&quot;73&quot;,&quot;placeOrder&quot;:{&quot;name&quot;:&quot;patel&quot;,&quot;price&quot;:7899.0,&quot;items&quot;:[{&quot;itemId&quot;:4,&quot;itemName&quot;:&quot;cat&quot;,&quot;amt&quot;:&quot;73&quot;,&quot;placeOrder&quot;:{&quot;name&quot;:&quot;patel&quot;,&quot;price&quot;:7899.0,&quot;items&quot;:[{&quot;itemId&quot;:4,&quot;itemName&quot;:&quot;cat&quot;,&quot;amt&quot;:&quot;73&quot;,&quot;placeOrder&quot;:}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}\n\n</code></pre>\n<p>here I removed many lines but its too much and with this output my console is even cant load it\nmy Order table one row is Linked to the OrderItem table multiple rows</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1676139417,"creation_date":1676139417,"answer_id":75422320,"question_id":75422267,"body_markdown":"To identify the number of &quot;groups of 3&quot; of something bought, you need to divide the number bought by 3. Specifically, you want to use [integer division](https://en.wikipedia.org/wiki/Division_(mathematics)#Of_integers), which basically means &quot;divide by 3, then ignore the decimal part&quot;. So\r\n\r\n```\r\n1 / 3 = 0\r\n2 / 3 = 0\r\n3 / 3 = 1\r\n4 / 3 = 1\r\n5 / 3 = 1\r\n6 / 3 = 2\r\n...\r\n```\r\n\r\nIn Java, division between two integers performs integer division by default, so you can calculate the number of &quot;groups of 3&quot; like so.\r\n\r\n    int discountQuantity = quantity / quantityItem;\r\n\r\nThen you apply the discount that many times.\r\n\r\n    double totalPrice = priceItem * quantityItem - discountQuantity * discount;","title":"Java formula to compute discount dynamically","body":"<p>To identify the number of &quot;groups of 3&quot; of something bought, you need to divide the number bought by 3. Specifically, you want to use <a href=\"https://en.wikipedia.org/wiki/Division_(mathematics)#Of_integers\" rel=\"nofollow noreferrer\">integer division</a>, which basically means &quot;divide by 3, then ignore the decimal part&quot;. So</p>\n<pre><code>1 / 3 = 0\n2 / 3 = 0\n3 / 3 = 1\n4 / 3 = 1\n5 / 3 = 1\n6 / 3 = 2\n...\n</code></pre>\n<p>In Java, division between two integers performs integer division by default, so you can calculate the number of &quot;groups of 3&quot; like so.</p>\n<pre><code>int discountQuantity = quantity / quantityItem;\n</code></pre>\n<p>Then you apply the discount that many times.</p>\n<pre><code>double totalPrice = priceItem * quantityItem - discountQuantity * discount;\n</code></pre>\n"}],"owner":{"account_id":2796529,"reputation":2231,"user_id":2405663,"accept_rate":48,"display_name":"bircastri"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1676139890,"accepted_answer_id":75422320,"answer_count":1,"score":-3,"last_activity_date":1676139469,"creation_date":1676139055,"question_id":75422267,"body_markdown":"I need to implement an operation in my java program.\r\n\r\nSo I have the item, the price of it is 6,00€, but if the user get three of these items I can get a discount of 3,00€. So\r\n\r\n    int quantity = 3;\r\n    double discount = 3.0;\r\n    int quantityItem = 3;\r\n    double priceItem = 6.0;\r\n    \r\n    double totalPrice = priceItem * quantityItem;\r\n    if(quantityItem == quantity){\r\n       totalePrice = totalePrice - discount;\r\n    }\r\n\r\nThe previous code is ok. But if I get 5 items the correct totalePrice should be:\r\n\r\npriceItem (6€) * quantity (5) = 30€ - 3.0€ (discount) = 27€.\r\n\r\n\r\n\r\nIf I get 6 items the correct totalPrice should be:\r\n\r\npriceItem (6€) * quantity (6) = 36€ - 6.0€ (discount) = 30€.\r\n\r\nHow can I write the code to make this dynamically ?","title":"Java formula to compute discount dynamically","body":"<p>I need to implement an operation in my java program.</p>\n<p>So I have the item, the price of it is 6,00€, but if the user get three of these items I can get a discount of 3,00€. So</p>\n<pre><code>int quantity = 3;\ndouble discount = 3.0;\nint quantityItem = 3;\ndouble priceItem = 6.0;\n\ndouble totalPrice = priceItem * quantityItem;\nif(quantityItem == quantity){\n   totalePrice = totalePrice - discount;\n}\n</code></pre>\n<p>The previous code is ok. But if I get 5 items the correct totalePrice should be:</p>\n<p>priceItem (6€) * quantity (5) = 30€ - 3.0€ (discount) = 27€.</p>\n<p>If I get 6 items the correct totalPrice should be:</p>\n<p>priceItem (6€) * quantity (6) = 36€ - 6.0€ (discount) = 30€.</p>\n<p>How can I write the code to make this dynamically ?</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676105449,"creation_date":1676105449,"answer_id":75419045,"question_id":75418832,"body_markdown":"When you&#39;re calling get() on the following collection reference:\r\n\r\n    CollectionReference usersRef = firestore.collection(&quot;Users&quot;);\r\n\r\nIt means that you&#39;re trying to get all user documents that exist in the `Users` collection. As soon as you get all users, you then check the `phoneNumber` against the one that you find in the database, which is bad since you&#39;ll need to pay for a document read even for the users that do not have that particular phone number. What you have to do instead is to create a query that should only return the documents that you are interested in.\r\n\r\nOn the other hand, your actual database schema isn&#39;t quite helping you to achieve that. In the NoSQL world, we are usually structuring a database according to the queries that we want to perform. So if you need to get all users from Brooklyn / New York that have a particular phone number, I would recommend you have a schema that looks like this:\r\n\r\n    db\r\n    |\r\n    --- users (collection)\r\n         |\r\n         --- $uid (document)\r\n              |\r\n              --- city: &quot;New York&quot;\r\n              |\r\n              --- borough: &quot;Brooklyn&quot;\r\n              |\r\n              --- mobNumber: 720555\r\n\r\nAnd in code, it should look like this:\r\n\r\n    FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n    CollectionReference usersRef = db.collection(&quot;users&quot;);\r\n    Query queryByMobNumber = usersRef.whereEqualTo(&quot;city&quot;, &quot;New York&quot;)\r\n                                     .whereEqualTo(&quot;borough&quot;, &quot;Brooklyn&quot;)\r\n                                     .whereEqualTo(&quot;mobNumber&quot;, 720555);\r\n    queryByMobNumber.get().addOnCompleteListener(/* ... /*);\r\n\r\nSo in Firestore, chaining multiple whereEqualTo calls will work perfectly fine.\r\n\r\nBesides that, I see that you are changing a boolean value inside the callback, which will not be seen outside the callback because Firebase API is asynchronous. If you want to learn more about that, I recommend you check this [resource][1]. Here is the corresponding [repo](https://github.com/alexmamo/CloudFirestore/).\r\n\r\n\r\n  [1]: https://medium.com/firebase-tips-tricks/how-to-read-data-from-cloud-firestore-using-get-bf03b6ee4953","title":"How to check a phonenumber that already added to the firestore database?","body":"<p>When you're calling get() on the following collection reference:</p>\n<pre><code>CollectionReference usersRef = firestore.collection(&quot;Users&quot;);\n</code></pre>\n<p>It means that you're trying to get all user documents that exist in the <code>Users</code> collection. As soon as you get all users, you then check the <code>phoneNumber</code> against the one that you find in the database, which is bad since you'll need to pay for a document read even for the users that do not have that particular phone number. What you have to do instead is to create a query that should only return the documents that you are interested in.</p>\n<p>On the other hand, your actual database schema isn't quite helping you to achieve that. In the NoSQL world, we are usually structuring a database according to the queries that we want to perform. So if you need to get all users from Brooklyn / New York that have a particular phone number, I would recommend you have a schema that looks like this:</p>\n<pre><code>db\n|\n--- users (collection)\n     |\n     --- $uid (document)\n          |\n          --- city: &quot;New York&quot;\n          |\n          --- borough: &quot;Brooklyn&quot;\n          |\n          --- mobNumber: 720555\n</code></pre>\n<p>And in code, it should look like this:</p>\n<pre><code>FirebaseFirestore db = FirebaseFirestore.getInstance();\nCollectionReference usersRef = db.collection(&quot;users&quot;);\nQuery queryByMobNumber = usersRef.whereEqualTo(&quot;city&quot;, &quot;New York&quot;)\n                                 .whereEqualTo(&quot;borough&quot;, &quot;Brooklyn&quot;)\n                                 .whereEqualTo(&quot;mobNumber&quot;, 720555);\nqueryByMobNumber.get().addOnCompleteListener(/* ... /*);\n</code></pre>\n<p>So in Firestore, chaining multiple whereEqualTo calls will work perfectly fine.</p>\n<p>Besides that, I see that you are changing a boolean value inside the callback, which will not be seen outside the callback because Firebase API is asynchronous. If you want to learn more about that, I recommend you check this <a href=\"https://medium.com/firebase-tips-tricks/how-to-read-data-from-cloud-firestore-using-get-bf03b6ee4953\" rel=\"nofollow noreferrer\">resource</a>. Here is the corresponding <a href=\"https://github.com/alexmamo/CloudFirestore/\" rel=\"nofollow noreferrer\">repo</a>.</p>\n"}],"owner":{"account_id":21834024,"reputation":115,"user_id":16128598,"display_name":"Angel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676138961,"creation_date":1676102496,"question_id":75418832,"body_markdown":"Here in the Firestore databases is a collection called &quot;Users&quot;, In that collection, there are 29 documents(States) and in each of that documents there are many collections(Districts). This collection includes many documents these documents include the user&#39;s data along with numbers).\r\n\r\nso how do we check the phone number that has already been added to the database?  \r\n  \r\n[![enter image description here](https://i.stack.imgur.com/JynS8.png)](https://i.stack.imgur.com/JynS8.png)\r\n\r\n  \r\n  \r\n  \r\n  \r\nI write something like this\r\n\r\n```\r\n FirebaseFirestore firestore = FirebaseFirestore.getInstance();\r\n\r\n        CollectionReference usersRef = firestore.collection(&quot;Users&quot;);\r\n\r\n        String phoneNumber = &quot;1234567890&quot;;\r\n        \r\n\r\n        usersRef.get()\r\n                .addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n                        if (task.isSuccessful()) {\r\n                            for (QueryDocumentSnapshot document : task.getResult()) {\r\n                                Map&lt;String, Object&gt; data = document.getData();\r\n                                for (String key : data.keySet()) {\r\n                                    Object value = data.get(key);\r\n                                    if (value instanceof String &amp;&amp; ((String) value).equals(phoneNumber)) {\r\n\r\n                                        isRealAvailable = true;\r\n\r\n\r\n                                        Toast.makeText(OtpActivity.this, &quot;Number found&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                                        // Phone number found\r\n                                        break;\r\n                                    }\r\n                                }\r\n                            }\r\n                        } else {\r\n                            isRealAvailable = false;\r\n                            Toast.makeText(OtpActivity.this, &quot;No number found, create an account!&quot;, Toast.LENGTH_LONG).show();\r\n                        }\r\n\r\n                            // Handle error\r\n\r\n                    }\r\n                });\r\n\r\n\r\n```\r\n\r\n(the number is not a String value)  \r\nI don&#39;t know how to retrieve these details from different document names.\r\n\r\nHow do we get the Phone Number from the document? if it exists.\r\n\r\nWhat I wanted is, I&#39;m building a blood donors app, where people can register using their phone numbers. From different countries. So when a user sign-up with proper details, he can go to the main screen. Whenever he logout and login, he doesn&#39;t need to update the details again. As we know phone number login and signup are the same. Also, I want to separate the states and places in different documents and collections. I added the location permission and perspective codes so the country and states are chosen automatically. (will get the users location)","title":"How to check a phonenumber that already added to the firestore database?","body":"<p>Here in the Firestore databases is a collection called &quot;Users&quot;, In that collection, there are 29 documents(States) and in each of that documents there are many collections(Districts). This collection includes many documents these documents include the user's data along with numbers).</p>\n<p>so how do we check the phone number that has already been added to the database?</p>\n<p><a href=\"https://i.stack.imgur.com/JynS8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JynS8.png\" alt=\"enter image description here\" /></a></p>\n<p>I write something like this</p>\n<pre><code> FirebaseFirestore firestore = FirebaseFirestore.getInstance();\n\n        CollectionReference usersRef = firestore.collection(&quot;Users&quot;);\n\n        String phoneNumber = &quot;1234567890&quot;;\n        \n\n        usersRef.get()\n                .addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n                        if (task.isSuccessful()) {\n                            for (QueryDocumentSnapshot document : task.getResult()) {\n                                Map&lt;String, Object&gt; data = document.getData();\n                                for (String key : data.keySet()) {\n                                    Object value = data.get(key);\n                                    if (value instanceof String &amp;&amp; ((String) value).equals(phoneNumber)) {\n\n                                        isRealAvailable = true;\n\n\n                                        Toast.makeText(OtpActivity.this, &quot;Number found&quot;, Toast.LENGTH_SHORT).show();\n\n                                        // Phone number found\n                                        break;\n                                    }\n                                }\n                            }\n                        } else {\n                            isRealAvailable = false;\n                            Toast.makeText(OtpActivity.this, &quot;No number found, create an account!&quot;, Toast.LENGTH_LONG).show();\n                        }\n\n                            // Handle error\n\n                    }\n                });\n\n\n</code></pre>\n<p>(the number is not a String value)<br />\nI don't know how to retrieve these details from different document names.</p>\n<p>How do we get the Phone Number from the document? if it exists.</p>\n<p>What I wanted is, I'm building a blood donors app, where people can register using their phone numbers. From different countries. So when a user sign-up with proper details, he can go to the main screen. Whenever he logout and login, he doesn't need to update the details again. As we know phone number login and signup are the same. Also, I want to separate the states and places in different documents and collections. I added the location permission and perspective codes so the country and states are chosen automatically. (will get the users location)</p>\n"},{"tags":["java","spring","session"],"owner":{"account_id":20498063,"reputation":15,"user_id":15042526,"display_name":"Tusker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676138081,"creation_date":1676138081,"question_id":75422162,"body_markdown":"I am getting an error\r\n [AsyncSessionPersisterRunnable] Async session persister encountered an exception while trying to persist sessions asynchronously!\r\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.571 | org.apache.commons.lang3.SerializationException: java.io.NotSerializableException: org.springframework.security.web.servletapi.HttpServlet3RequestFactory$Servlet3SecurityContextHolderAwareRequestWrapper\r\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.571 | \tat org.apache.commons.lang3.SerializationUtils.serialize(SerializationUtils.java:140) ~[commons-lang3-3.9.jar:3.9]\r\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.571 | \tat org.apache.commons.lang3.SerializationUtils.serialize(SerializationUtils.java:154) ~[commons-lang3-3.9.jar:3.9]\r\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.571 | \tat de.hybris.platform.servicelayer.web.session.persister.AbstractSessionPersister.updateModelIfNecessary(AbstractSessionPersister.java:31) ~[coreserver.jar:?]\r\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.571 | \tat de.hybris.platform.servicelayer.web.session.persister.AsyncSessionPersisterRunnable.persistSessions(AsyncSessionPersisterRunnable.java:213) ~[coreserver.jar:?]\r\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.571 | \tat de.hybris.platform.servicelayer.web.session.persister.AsyncSessionPersisterRunnable.persistsSessionsFromQueue(AsyncSessionPersisterRunnable.java:130) ~[coreserver.jar:?]\r\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.571 | \tat de.hybris.platform.servicelayer.web.session.persister.AsyncSessionPersisterRunnable.run(AsyncSessionPersisterRunnable.java:80) ~[coreserver.jar:?]\r\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.571 | \tat de.hybris.platform.core.AbstractTenant$5.run(AbstractTenant.java:2549) ~[coreserver.jar:?]\r\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.571 | \tat de.hybris.platform.core.TenantAwareThreadFactory$1.internalRun(TenantAwareThreadFactory.java:163) ~[coreserver.jar:?]\r\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.571 | \tat de.hybris.platform.core.threadregistry.RegistrableThread.run(RegistrableThread.java:124) ~[coreserver.jar:?]\r\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.571 | Caused by: java.io.NotSerializableException: org.springframework.security.web.servletapi.HttpServlet3RequestFactory$Servlet3SecurityContextHolderAwareRequestWrapper\r\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.571 | \tat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1187) ~[?:?]\r\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.571 | \tat java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1572) ~[?:?]\r\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.571 | \tat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1529) ~[?:?]\r\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.571 | \tat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1438) ~[?:?]\r\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.571 | \tat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1181) ~[?:?]\r\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.571 | \tat java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:350) ~[?:?]\r\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.571 | \tat java.util.concurrent.ConcurrentHashMap.writeObject(ConcurrentHashMap.java:1424) ~[?:?]\r\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.571 | \tat jdk.internal.reflect.GeneratedMethodAccessor1034.invoke(Unknown Source) ~[?:?]\r\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.571 | \tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.571 | \tat java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\r\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.571 | \tat java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:1070) ~[?:?]\r\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.571 | \tat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1516) ~[?:?]\r\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.571 | \tat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1438) ~[?:?]\r\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.571 | \tat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1181) ~[?:?]\r\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.572 | \tat java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1572) ~[?:?]\r\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.572 | \tat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1529) ~[?:?]\r\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.572 | \tat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1438) ~[?:?]\r\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.572 | \tat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1181) ~[?:?]\r\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.572 | \tat java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:350) ~[?:?]\r\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.572 | \tat org.apache.commons.lang3.SerializationUtils.serialize(SerializationUtils.java:138) ~[commons-lang3-3.9.jar:3.9]","title":"How do I find out which is the non serializable object present in spring session","body":"<p>I am getting an error\n[AsyncSessionPersisterRunnable] Async session persister encountered an exception while trying to persist sessions asynchronously!\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.571 | org.apache.commons.lang3.SerializationException: java.io.NotSerializableException: org.springframework.security.web.servletapi.HttpServlet3RequestFactory$Servlet3SecurityContextHolderAwareRequestWrapper\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.571 |     at org.apache.commons.lang3.SerializationUtils.serialize(SerializationUtils.java:140) ~[commons-lang3-3.9.jar:3.9]\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.571 |     at org.apache.commons.lang3.SerializationUtils.serialize(SerializationUtils.java:154) ~[commons-lang3-3.9.jar:3.9]\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.571 |     at de.hybris.platform.servicelayer.web.session.persister.AbstractSessionPersister.updateModelIfNecessary(AbstractSessionPersister.java:31) ~[coreserver.jar:?]\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.571 |     at de.hybris.platform.servicelayer.web.session.persister.AsyncSessionPersisterRunnable.persistSessions(AsyncSessionPersisterRunnable.java:213) ~[coreserver.jar:?]\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.571 |     at de.hybris.platform.servicelayer.web.session.persister.AsyncSessionPersisterRunnable.persistsSessionsFromQueue(AsyncSessionPersisterRunnable.java:130) ~[coreserver.jar:?]\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.571 |     at de.hybris.platform.servicelayer.web.session.persister.AsyncSessionPersisterRunnable.run(AsyncSessionPersisterRunnable.java:80) ~[coreserver.jar:?]\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.571 |     at de.hybris.platform.core.AbstractTenant$5.run(AbstractTenant.java:2549) ~[coreserver.jar:?]\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.571 |     at de.hybris.platform.core.TenantAwareThreadFactory$1.internalRun(TenantAwareThreadFactory.java:163) ~[coreserver.jar:?]\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.571 |     at de.hybris.platform.core.threadregistry.RegistrableThread.run(RegistrableThread.java:124) ~[coreserver.jar:?]\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.571 | Caused by: java.io.NotSerializableException: org.springframework.security.web.servletapi.HttpServlet3RequestFactory$Servlet3SecurityContextHolderAwareRequestWrapper\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.571 |     at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1187) ~[?:?]\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.571 |     at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1572) ~[?:?]\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.571 |     at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1529) ~[?:?]\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.571 |     at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1438) ~[?:?]\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.571 |     at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1181) ~[?:?]\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.571 |     at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:350) ~[?:?]\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.571 |     at java.util.concurrent.ConcurrentHashMap.writeObject(ConcurrentHashMap.java:1424) ~[?:?]\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.571 |     at jdk.internal.reflect.GeneratedMethodAccessor1034.invoke(Unknown Source) ~[?:?]\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.571 |     at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.571 |     at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.571 |     at java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:1070) ~[?:?]\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.571 |     at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1516) ~[?:?]\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.571 |     at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1438) ~[?:?]\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.571 |     at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1181) ~[?:?]\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.572 |     at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1572) ~[?:?]\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.572 |     at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1529) ~[?:?]\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.572 |     at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1438) ~[?:?]\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.572 |     at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1181) ~[?:?]\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.572 |     at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:350) ~[?:?]\nINFO   | jvm 1    | main    | 2022/11/02 03:53:56.572 |     at org.apache.commons.lang3.SerializationUtils.serialize(SerializationUtils.java:138) ~[commons-lang3-3.9.jar:3.9]</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":27220420,"reputation":1,"user_id":20749793,"display_name":"Michele Dalmonte"},"score":0,"creation_date":1676128776,"post_id":75421123,"comment_id":133077458,"body_markdown":"i know this is inefficient approach to add the last edges ,but i can not have another approach about this","body":"i know this is inefficient approach to add the last edges ,but i can not have another approach about this"}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676138067,"creation_date":1676138067,"answer_id":75422159,"question_id":75421123,"body_markdown":"Don&#39;t loop until you get a random number that&#39;s suitable.\r\n\r\nInstead, produce a list of all possible numbers in the range, remove those that are not allowed, then shuffle the list and use the first element.","title":"time complexity analysis with pseudorandomic function","body":"<p>Don't loop until you get a random number that's suitable.</p>\n<p>Instead, produce a list of all possible numbers in the range, remove those that are not allowed, then shuffle the list and use the first element.</p>\n"}],"owner":{"account_id":27220420,"reputation":1,"user_id":20749793,"display_name":"Michele Dalmonte"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676138067,"creation_date":1676128425,"question_id":75421123,"body_markdown":"i just struggle because i can not do a time complexity analysis for the last cycle where i add casually the edges with pseudorandomic function,here is the code:\r\n\r\n    SplittableRandom rnd = new SplittableRandom();\r\n\r\n    ArrayList&lt;ArrayList&lt;Integer&gt;&gt; adjlist =  new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();\r\n\r\n    for (int j=0;j&lt;n;j++){\r\n        adjlist.add(new ArrayList&lt;Integer&gt;());\r\n    }\r\n        \r\n    Nodo[]nodi=new Nodo[n];\r\n        \r\n    for(int i = 0;i&lt;n;i++){\r\n        nodi[i]=new Nodo(i);\r\n    }\r\n        \r\n    for (int i = 0;i&lt;n-2;i++){//O(n)//\r\n        int j = rnd.nextInt(i,nodi.length);\r\n        Nodo tmp = nodi[j];\r\n        nodi[j]=nodi[i];\r\n        nodi[i]=tmp;\r\n    }\r\n        \r\n    for (int k =0 ;k&lt;n-1;k++){//O(n)//\r\n        int i = nodi[k].info;\r\n        int j = nodi[k+1].info;\r\n        adjlist.get(i).add(j);\r\n        adjlist.get(j).add(i);\r\n    }\r\n        \r\n    int mrim = m-n+1;\r\n        \r\n    for (int k=0;k&lt;mrim;k++){\r\n        int i = rnd.nextInt(0,n);\r\n        ArrayList&lt;Integer&gt; a = adjlist.get(i);\r\n            \r\n        while(a.size()==n-1){\r\n            i = rnd.nextInt(0,n);\r\n            a = adjlist.get(i);\r\n        }\r\n\r\n        int j = rnd.nextInt(0,n);\r\n            \r\n        while (i==j || a.contains(j)){\r\n            j = rnd.nextInt(0,n);\r\n        }\r\n        adjlist.get(i).add(j);\r\n        adjlist.get(j).add(i);\r\n    }\r\n\r\ncould please anyone help me to do this analysis ? this code  add casually edges after the creation of a random path between nodes in a graph reprsented in adjacency list.\r\n\r\ni think that i have suppose something about the structure of the graph (if is dense or sparse) but i am in impasse","title":"time complexity analysis with pseudorandomic function","body":"<p>i just struggle because i can not do a time complexity analysis for the last cycle where i add casually the edges with pseudorandomic function,here is the code:</p>\n<pre><code>SplittableRandom rnd = new SplittableRandom();\n\nArrayList&lt;ArrayList&lt;Integer&gt;&gt; adjlist =  new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();\n\nfor (int j=0;j&lt;n;j++){\n    adjlist.add(new ArrayList&lt;Integer&gt;());\n}\n    \nNodo[]nodi=new Nodo[n];\n    \nfor(int i = 0;i&lt;n;i++){\n    nodi[i]=new Nodo(i);\n}\n    \nfor (int i = 0;i&lt;n-2;i++){//O(n)//\n    int j = rnd.nextInt(i,nodi.length);\n    Nodo tmp = nodi[j];\n    nodi[j]=nodi[i];\n    nodi[i]=tmp;\n}\n    \nfor (int k =0 ;k&lt;n-1;k++){//O(n)//\n    int i = nodi[k].info;\n    int j = nodi[k+1].info;\n    adjlist.get(i).add(j);\n    adjlist.get(j).add(i);\n}\n    \nint mrim = m-n+1;\n    \nfor (int k=0;k&lt;mrim;k++){\n    int i = rnd.nextInt(0,n);\n    ArrayList&lt;Integer&gt; a = adjlist.get(i);\n        \n    while(a.size()==n-1){\n        i = rnd.nextInt(0,n);\n        a = adjlist.get(i);\n    }\n\n    int j = rnd.nextInt(0,n);\n        \n    while (i==j || a.contains(j)){\n        j = rnd.nextInt(0,n);\n    }\n    adjlist.get(i).add(j);\n    adjlist.get(j).add(i);\n}\n</code></pre>\n<p>could please anyone help me to do this analysis ? this code  add casually edges after the creation of a random path between nodes in a graph reprsented in adjacency list.</p>\n<p>i think that i have suppose something about the structure of the graph (if is dense or sparse) but i am in impasse</p>\n"},{"tags":["java","android","xml","android-studio","navigation-drawer"],"owner":{"account_id":27471919,"reputation":47,"user_id":20960654,"display_name":"Marfog509"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676137567,"creation_date":1676137567,"question_id":75422109,"body_markdown":"I am trying to create two separate xml pages for, one for my home page and one for my navigation drawer menu which has only has options to external links, nothing within the app. Do I need to create a fragment for this to work or can I do it without creating a fragment and being able to keep the xml pages separately?  ","title":"Do I have to create a fragment for my navigation drawer to work separately from my activity_main.xml in android studio?","body":"<p>I am trying to create two separate xml pages for, one for my home page and one for my navigation drawer menu which has only has options to external links, nothing within the app. Do I need to create a fragment for this to work or can I do it without creating a fragment and being able to keep the xml pages separately?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1676136524,"post_id":75421954,"comment_id":133078771,"body_markdown":"Class names should begin in uppercase, so they don&#39;t get confused with variable names, which start in lowercase.","body":"Class names should begin in uppercase, so they don&#39;t get confused with variable names, which start in lowercase."},{"owner":{"account_id":26712937,"reputation":45,"user_id":20317966,"display_name":"jxon"},"score":0,"creation_date":1676136596,"post_id":75421954,"comment_id":133078788,"body_markdown":"i dont understand why but ok","body":"i dont understand why but ok"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1676136649,"post_id":75421954,"comment_id":133078797,"body_markdown":"Check the java naming conventions on https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html","body":"Check the java naming conventions on <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">oracle.com/java/technologies/javase/&hellip;</a>"},{"owner":{"account_id":26712937,"reputation":45,"user_id":20317966,"display_name":"jxon"},"score":0,"creation_date":1676136967,"post_id":75421954,"comment_id":133078866,"body_markdown":"`String s1[] = {&quot;Alpha_V1&quot;}` is added to `option=new JComboBox(s1)`","body":"<code>String s1[] = {&quot;Alpha_V1&quot;}</code> is added to <code>option=new JComboBox(s1)</code>"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":2,"creation_date":1676137279,"post_id":75421954,"comment_id":133078930,"body_markdown":"Using the `null`-layout in Swing is not advisable. Check https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html for the different layout managers you can use and combine to get the GUI layout you want.","body":"Using the <code>null</code>-layout in Swing is not advisable. Check <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/layout/visual.html</a> for the different layout managers you can use and combine to get the GUI layout you want."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1676137319,"post_id":75421954,"comment_id":133078935,"body_markdown":"Check https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java on how to compare strings, do not use `==`.","body":"Check <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\" title=\"how do i compare strings in java\">stackoverflow.com/questions/513832/&hellip;</a> on how to compare strings, do not use <code>==</code>."}],"answers":[{"tags":[],"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676137207,"creation_date":1676137207,"answer_id":75422069,"question_id":75421954,"body_markdown":"Your application isn&#39;t &quot;crashed&quot; or &quot;freezes&quot;, it just haven&#39;t update the drawing. When you add or remove components to your `JFrame` (or other components), you have to call [`repaint()`](https://docs.oracle.com/javase/7/docs/api/java/awt/Component.html#repaint()) to inform the component that the content has been changed drastically and should be redrawn (now, or as soon as possible). Otherwise it would only redraw the GUI on other occasions like changing the size or when displayed initially. In fact, if you press the button and then change the size of the frame you will see that the GUI gets updated (with an empty space).\r\n\r\nYou can call the `repaint()` method like this:\r\n\r\n     if (option.getSelectedItem().toString() == &quot;V1&quot;) {\r\n            \r\n         // close p1 and open p2\r\n         f.remove(p1);\r\n         f.add(p2);\r\n         f.repaint();\r\n     }","title":"why does my java program freezes when i click a button?","body":"<p>Your application isn't &quot;crashed&quot; or &quot;freezes&quot;, it just haven't update the drawing. When you add or remove components to your <code>JFrame</code> (or other components), you have to call <a href=\"https://docs.oracle.com/javase/7/docs/api/java/awt/Component.html#repaint()\" rel=\"nofollow noreferrer\"><code>repaint()</code></a> to inform the component that the content has been changed drastically and should be redrawn (now, or as soon as possible). Otherwise it would only redraw the GUI on other occasions like changing the size or when displayed initially. In fact, if you press the button and then change the size of the frame you will see that the GUI gets updated (with an empty space).</p>\n<p>You can call the <code>repaint()</code> method like this:</p>\n<pre><code> if (option.getSelectedItem().toString() == &quot;V1&quot;) {\n        \n     // close p1 and open p2\n     f.remove(p1);\n     f.add(p2);\n     f.repaint();\n }\n</code></pre>\n"}],"owner":{"account_id":26712937,"reputation":45,"user_id":20317966,"display_name":"jxon"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75422069,"answer_count":1,"score":1,"last_activity_date":1676137207,"creation_date":1676136023,"question_id":75421954,"body_markdown":"so I&#39;m trying to create a java program that you chose a version and clicks a button.\r\n\r\nin my java program, I&#39;m trying to use JPanels to make a type of &quot;next page button&quot; for my program. but whenever I run the program, and I click the button, it instantly crashes/freezes.\r\n\r\nbutton code:\r\n```\r\npackage main;\r\n\r\nimport java.awt.event.ActionEvent; \r\nimport java.awt.event.ActionListener;\r\nimport javax.swing.*;\r\n\r\n@SuppressWarnings({ &quot;rawtypes&quot;, &quot;unused&quot; })\r\npublic class Mainframe implements ActionListener {\r\n\t\r\n\tprivate static JFrame f;\r\n\tprivate static JPanel p1;\r\n\tprivate static JComboBox option;\r\n\tprivate static JButton launch;\r\n\tprivate static JPanel p2;\r\n\t\r\n\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tf=new JFrame(&quot;game&quot;);\r\n\t\t\r\n\t\tp1=new JPanel();\r\n\t\tf.add(p1);\r\n\t\t\r\n\t\tString s1[]={&quot;Alpha_V1&quot;};\r\n\t\t\r\n\t\toption=new JComboBox(s1);\r\n\t\toption.setBounds(10, 10, 100, 35);\r\n\t\tp1.add(option);\r\n\t\t\r\n\t\tlaunch=new JButton(&quot;Launch&quot;);\r\n\t\tlaunch.setBounds(10, 50, 100, 35);\r\n\t\tlaunch.addActionListener(new mainframe());\r\n\t\tp1.add(launch);\r\n\t\t\r\n\t\tp1.setLayout(null);\r\n\t\tf.setVisible(true);\r\n\t\tf.setSize(700,400);\r\n\t\tf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\r\n\t\tp2=new JPanel();\r\n\t\tp2.setLayout(null);\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\r\n\t\tif (option.getSelectedItem().toString() == &quot;V1&quot;) {\r\n\t\t\t\r\n\t\t\t// close p1 and open p2\r\n\t\t\tf.remove(p1);\r\n\t\t\tf.add(p2);\r\n\t\t\t\r\n\t\t} else if (option.getSelectedItem().toString() == &quot;&quot;) {\r\n\t\t\t\r\n\t\t\t// do nothing lol\r\n\t\t\t\r\n\t\t} else {\r\n\t\t\t\r\n\t\t\t// do nothing \r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n}\r\n```","title":"why does my java program freezes when i click a button?","body":"<p>so I'm trying to create a java program that you chose a version and clicks a button.</p>\n<p>in my java program, I'm trying to use JPanels to make a type of &quot;next page button&quot; for my program. but whenever I run the program, and I click the button, it instantly crashes/freezes.</p>\n<p>button code:</p>\n<pre><code>package main;\n\nimport java.awt.event.ActionEvent; \nimport java.awt.event.ActionListener;\nimport javax.swing.*;\n\n@SuppressWarnings({ &quot;rawtypes&quot;, &quot;unused&quot; })\npublic class Mainframe implements ActionListener {\n    \n    private static JFrame f;\n    private static JPanel p1;\n    private static JComboBox option;\n    private static JButton launch;\n    private static JPanel p2;\n    \n    @SuppressWarnings(&quot;unchecked&quot;)\n    public static void main(String[] args) {\n        \n        f=new JFrame(&quot;game&quot;);\n        \n        p1=new JPanel();\n        f.add(p1);\n        \n        String s1[]={&quot;Alpha_V1&quot;};\n        \n        option=new JComboBox(s1);\n        option.setBounds(10, 10, 100, 35);\n        p1.add(option);\n        \n        launch=new JButton(&quot;Launch&quot;);\n        launch.setBounds(10, 50, 100, 35);\n        launch.addActionListener(new mainframe());\n        p1.add(launch);\n        \n        p1.setLayout(null);\n        f.setVisible(true);\n        f.setSize(700,400);\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        \n        p2=new JPanel();\n        p2.setLayout(null);\n        \n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        \n        if (option.getSelectedItem().toString() == &quot;V1&quot;) {\n            \n            // close p1 and open p2\n            f.remove(p1);\n            f.add(p2);\n            \n        } else if (option.getSelectedItem().toString() == &quot;&quot;) {\n            \n            // do nothing lol\n            \n        } else {\n            \n            // do nothing \n            \n        }\n        \n    }\n\n}\n</code></pre>\n"},{"tags":["java","kubernetes","grpc","micronaut","envoyproxy"],"owner":{"account_id":15099535,"reputation":33,"user_id":10951372,"display_name":"Thai Nguyen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676136707,"creation_date":1676136707,"question_id":75422015,"body_markdown":"So in my local, everything is worked well. But when I tried to deploy my gRPC server to kubernetes and publish envoy proxy dev url. In my mobile app, I call gRPC via envoy proxy. It can reach to gRPC server but show Error: `HTTP/2 client preface string missing or corrupt. Hex dump for received bytes: fff4fffd06`\r\n\r\nDoes anyone know how to fix it?","title":"gRPC Web use envoy proxy to gRPC server but show Error: HTTP/2 client preface string missing or corrupt. Hex dump for received bytes: fff4fffd06","body":"<p>So in my local, everything is worked well. But when I tried to deploy my gRPC server to kubernetes and publish envoy proxy dev url. In my mobile app, I call gRPC via envoy proxy. It can reach to gRPC server but show Error: <code>HTTP/2 client preface string missing or corrupt. Hex dump for received bytes: fff4fffd06</code></p>\n<p>Does anyone know how to fix it?</p>\n"},{"tags":["java","database","security","static-analysis","semgrep"],"answers":[{"tags":[],"owner":{"account_id":1145152,"reputation":678,"user_id":1128105,"display_name":"Yaron Avital"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676136506,"creation_date":1676136506,"answer_id":75421999,"question_id":71881898,"body_markdown":"If I understand you correctly this should work for you:\r\n\r\n```\r\nrules:\r\n  - id: detect-connection-rollback\r\n    patterns:\r\n    - pattern:\r\n        try{$V = getConnection(...);...}  \r\n        catch(Exception e){... $V.rollback(...);...}\r\n    message: Match found\r\n    languages:\r\n      - java\r\n    severity: WARNING\r\n\r\n","title":"Semgrep rule for a try/catch block","body":"<p>If I understand you correctly this should work for you:</p>\n<pre><code>rules:\n  - id: detect-connection-rollback\n    patterns:\n    - pattern:\n        try{$V = getConnection(...);...}  \n        catch(Exception e){... $V.rollback(...);...}\n    message: Match found\n    languages:\n      - java\n    severity: WARNING\n\n</code></pre>\n"}],"owner":{"account_id":1031173,"reputation":1655,"user_id":1039462,"accept_rate":75,"display_name":"mat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1676136506,"creation_date":1650012335,"question_id":71881898,"body_markdown":"I recently tried to create a Semgrep rule for Java code which detects if for a database connection happening in a try/catch block a proper rollback is done.\r\n\r\nSo what it needs to do is:\r\n\r\n* A `Connection` object is created using `getConnection(...)` either before the try or in the `try(...)` initializer statement\r\n* A catch block contains a call to `connection.rollback()`\r\n\r\nHow would I write such a rule in semgrep which matches a pattern before the try and in the catch block?","title":"Semgrep rule for a try/catch block","body":"<p>I recently tried to create a Semgrep rule for Java code which detects if for a database connection happening in a try/catch block a proper rollback is done.</p>\n<p>So what it needs to do is:</p>\n<ul>\n<li>A <code>Connection</code> object is created using <code>getConnection(...)</code> either before the try or in the <code>try(...)</code> initializer statement</li>\n<li>A catch block contains a call to <code>connection.rollback()</code></li>\n</ul>\n<p>How would I write such a rule in semgrep which matches a pattern before the try and in the catch block?</p>\n"},{"tags":["java","node.js","maven","appium"],"comments":[{"owner":{"account_id":38977,"reputation":2225,"user_id":112233,"display_name":"jmp"},"score":0,"creation_date":1525399132,"post_id":50163248,"comment_id":87350064,"body_markdown":"Hi there, would you be able to post the code from AppiumDriverLocalService.buildDefaultService() ? We know Appium works from running the command manually so it might be something in the code.","body":"Hi there, would you be able to post the code from AppiumDriverLocalService.buildDefaultService() ? We know Appium works from running the command manually so it might be something in the code."},{"owner":{"account_id":7577029,"reputation":2788,"user_id":5749062,"display_name":"Bill Hileman"},"score":0,"creation_date":1525401314,"post_id":50163248,"comment_id":87350501,"body_markdown":"I appreciate the reply, but there&#39;s no code to post.  It&#39;s from an imported library: `io.appium.java_client.service.local.AppiumDriverLocalService`","body":"I appreciate the reply, but there&#39;s no code to post.  It&#39;s from an imported library: <code>io.appium.java_client.service.local.AppiumDriverLocalService</code>"},{"owner":{"account_id":38977,"reputation":2225,"user_id":112233,"display_name":"jmp"},"score":0,"creation_date":1525402200,"post_id":50163248,"comment_id":87350686,"body_markdown":"Hmm, which java client version for appium are we using? I see that they did a few patches a while back in version 3.3.0. Also, I found this from  the java client&#39;s docs\n\nhttps://github.com/appium/java-client/blob/000964148ddf5cd55f28a13497ab92d6264a2489/docs/The-starting-of-an-app-using-Appium-node-server-started-programmatically.md#fyi\n\nit sounds like what might be happening is the command in the java program is using a different node.js executable","body":"Hmm, which java client version for appium are we using? I see that they did a few patches a while back in version 3.3.0. Also, I found this from  the java client&#39;s docs  <a href=\"https://github.com/appium/java-client/blob/000964148ddf5cd55f28a13497ab92d6264a2489/docs/The-starting-of-an-app-using-Appium-node-server-started-programmatically.md#fyi\" rel=\"nofollow noreferrer\">github.com/appium/java-client/blob/&hellip;</a>  it sounds like what might be happening is the command in the java program is using a different node.js executable"},{"owner":{"account_id":7577029,"reputation":2788,"user_id":5749062,"display_name":"Bill Hileman"},"score":0,"creation_date":1525439439,"post_id":50163248,"comment_id":87368550,"body_markdown":"I thought I had the most-recent stable version, but it was at 5.0.0.  I updated the pom.xml with 5.0.4 and tried again with the same results.  I might try the beta 6 version if all else fails.  I also came across the page to which you linked, but I&#39;m not sure where another node.exe would be located.  Going to look into that next.","body":"I thought I had the most-recent stable version, but it was at 5.0.0.  I updated the pom.xml with 5.0.4 and tried again with the same results.  I might try the beta 6 version if all else fails.  I also came across the page to which you linked, but I&#39;m not sure where another node.exe would be located.  Going to look into that next."}],"answers":[{"tags":[],"owner":{"account_id":7577029,"reputation":2788,"user_id":5749062,"display_name":"Bill Hileman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1525788275,"creation_date":1525788275,"answer_id":50235576,"question_id":50163248,"body_markdown":"After extensive research and trial-and-error, I looked deeper into the stack trace and noticed that it referred to:\r\n\r\n&gt; com.google.common.util.concurrent.SimpleTimeLimiter.create(Ljava/util/concurrent/ExecutorService;)Lcom/google/common/util/concurrent/SimpleTimeLimiter\r\n\r\nAs &quot;not existing&quot;  Further research showed others with the same problem with other services, not necessarily the Appium Server, and it was tied to my guava being at version 21.0 instead of 23.0.\r\n\r\nOnce I updated that setting in my pom.xml, the project ran error-free once again.\r\n\r\nThis is on me for not posting the -entire- stack trace in my question.  Lesson learned.","title":"Launching Appium Service programmatically failing","body":"<p>After extensive research and trial-and-error, I looked deeper into the stack trace and noticed that it referred to:</p>\n\n<blockquote>\n  <p>com.google.common.util.concurrent.SimpleTimeLimiter.create(Ljava/util/concurrent/ExecutorService;)Lcom/google/common/util/concurrent/SimpleTimeLimiter</p>\n</blockquote>\n\n<p>As \"not existing\"  Further research showed others with the same problem with other services, not necessarily the Appium Server, and it was tied to my guava being at version 21.0 instead of 23.0.</p>\n\n<p>Once I updated that setting in my pom.xml, the project ran error-free once again.</p>\n\n<p>This is on me for not posting the -entire- stack trace in my question.  Lesson learned.</p>\n"},{"tags":[],"owner":{"display_name":"user8009185"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539969778,"creation_date":1539969778,"answer_id":52897204,"question_id":50163248,"body_markdown":"In case still you have the problem, please try the below snippet, it will perfectly work.\r\n\r\nstatic AppiumDriverLocalService appium;\r\n\r\n    public static void start() throws IOException {\r\n        AppiumServiceBuilder builder = new AppiumServiceBuilder()\r\n                .withAppiumJS(new File(&quot;/usr/local/lib/node_modules/appium/build/lib/main.js&quot;))\r\n                .withArgument(GeneralServerFlag.SESSION_OVERRIDE)\r\n                .withLogFile(new File(System.getProperty(&quot;user.dir&quot;) + &quot;/appiumServerLog.txt&quot;));\r\n        appium = builder.build();\r\n        System.out.println(&quot;Starting the Appium Server on 127.0.0.1:4723&quot;);\r\n        appium.start();\r\n    }","title":"Launching Appium Service programmatically failing","body":"<p>In case still you have the problem, please try the below snippet, it will perfectly work.</p>\n\n<p>static AppiumDriverLocalService appium;</p>\n\n<pre><code>public static void start() throws IOException {\n    AppiumServiceBuilder builder = new AppiumServiceBuilder()\n            .withAppiumJS(new File(\"/usr/local/lib/node_modules/appium/build/lib/main.js\"))\n            .withArgument(GeneralServerFlag.SESSION_OVERRIDE)\n            .withLogFile(new File(System.getProperty(\"user.dir\") + \"/appiumServerLog.txt\"));\n    appium = builder.build();\n    System.out.println(\"Starting the Appium Server on 127.0.0.1:4723\");\n    appium.start();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2500437,"reputation":1762,"user_id":2175704,"display_name":"Sameera De Silva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577030931,"creation_date":1577030931,"answer_id":59445862,"question_id":50163248,"body_markdown":"To begin with Appium must be installed via npm .\r\nPlease check that is there any exisiitinh node.exe to avoid potwntial start errors  by \r\nkilling the node.exe to avoid errors because we start appium via node js like killing chrome driver exe\r\n\r\nHere is the code to start the appium\r\n\r\n    @BeforeClass\r\n    \tpublic void appiumServerStart() {\r\n    \t\t  \r\n    \t\t//Build the Appium service\r\n    \t\t\t\tbuilder = new AppiumServiceBuilder();\r\n    \t\t\t\tbuilder.withIPAddress(&quot;127.0.0.1&quot;); \r\n    \t\t\t\t//127.0.0.1 is the  localhost normally resolves to the IPv4  127.0.0.1\r\n    \t\t\t\tbuilder.usingPort(4723); //Appium default port\r\n    \t\t\t\tbuilder.withCapabilities(cap);\r\n    \t\t\t\tbuilder.withArgument(GeneralServerFlag.SESSION_OVERRIDE);\r\n    \t\t\t\tbuilder.withArgument(GeneralServerFlag.LOG_LEVEL,&quot;error&quot;);\r\n    \t\t\t\t\r\n    \t\t\t\t//Start the server with the builder\r\n    \t\t\t\tservice = AppiumDriverLocalService.buildService(builder);\r\n    \t\t\t\tservice.start();\r\n    \t\t\t\tSystem.out.println(&quot;Appium Server Started via Java&quot;);\r\n    \t}\r\n\t\r\n\r\n\r\n","title":"Launching Appium Service programmatically failing","body":"<p>To begin with Appium must be installed via npm .\nPlease check that is there any exisiitinh node.exe to avoid potwntial start errors  by \nkilling the node.exe to avoid errors because we start appium via node js like killing chrome driver exe</p>\n\n<p>Here is the code to start the appium</p>\n\n<pre><code>@BeforeClass\n    public void appiumServerStart() {\n\n        //Build the Appium service\n                builder = new AppiumServiceBuilder();\n                builder.withIPAddress(\"127.0.0.1\"); \n                //127.0.0.1 is the  localhost normally resolves to the IPv4  127.0.0.1\n                builder.usingPort(4723); //Appium default port\n                builder.withCapabilities(cap);\n                builder.withArgument(GeneralServerFlag.SESSION_OVERRIDE);\n                builder.withArgument(GeneralServerFlag.LOG_LEVEL,\"error\");\n\n                //Start the server with the builder\n                service = AppiumDriverLocalService.buildService(builder);\n                service.start();\n                System.out.println(\"Appium Server Started via Java\");\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5454772,"reputation":514,"user_id":4338553,"accept_rate":57,"display_name":"Suhail Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676136219,"creation_date":1676136219,"answer_id":75421972,"question_id":50163248,"body_markdown":"Try this, it should work. This is with java-client version 8.3.0, we are capturing the appium logs also. The server will start and run on the given server and portNumber.\r\n\r\n    public void startAppiumServer(String server, int port){\r\n     AppiumDriverLocalService service = new AppiumServiceBuilder().withIPAddress(server)\r\n\t\t\t\t.withArgument(GeneralServerFlag.BASEPATH, &quot;/wd/hub&quot;).usingPort(port).withLogFile(new File(&quot;logFile.txt&quot;))\r\n\t\t\t\t.build();\r\n\t\tservice.start();\r\n    }\r\n\r\nSince this is new version, Capabilities needs to be set in below format, below is the example for Andriod capabilities\r\n\r\n    public void setAppiumDriver(String server, int portNumber, String udid, String deviceName){\r\n    String appiumServer = &quot;http://&quot; + server + &quot;:&quot; + portNumber + &quot;/wd/hub&quot;;\r\n\t\tURL url = null;\r\n\t\ttry {\r\n\t\t\turl = new URL(appiumServer);\r\n\t\t} catch (MalformedURLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tUiAutomator2Options androidOptions = new UiAutomator2Options().setPlatformName(&quot;Android&quot;)\r\n\t\t\t\t.setDeviceName(deviceName).setUdid(udid).setApp(&quot;testApp.apk&quot;);\r\n\t\tappiumDriver = new AndroidDriver(url, androidOptions);\r\n\t\treturn appiumDriver;\r\n    }","title":"Launching Appium Service programmatically failing","body":"<p>Try this, it should work. This is with java-client version 8.3.0, we are capturing the appium logs also. The server will start and run on the given server and portNumber.</p>\n<pre><code>public void startAppiumServer(String server, int port){\n AppiumDriverLocalService service = new AppiumServiceBuilder().withIPAddress(server)\n            .withArgument(GeneralServerFlag.BASEPATH, &quot;/wd/hub&quot;).usingPort(port).withLogFile(new File(&quot;logFile.txt&quot;))\n            .build();\n    service.start();\n}\n</code></pre>\n<p>Since this is new version, Capabilities needs to be set in below format, below is the example for Andriod capabilities</p>\n<pre><code>public void setAppiumDriver(String server, int portNumber, String udid, String deviceName){\nString appiumServer = &quot;http://&quot; + server + &quot;:&quot; + portNumber + &quot;/wd/hub&quot;;\n    URL url = null;\n    try {\n        url = new URL(appiumServer);\n    } catch (MalformedURLException e) {\n        e.printStackTrace();\n    }\n    UiAutomator2Options androidOptions = new UiAutomator2Options().setPlatformName(&quot;Android&quot;)\n            .setDeviceName(deviceName).setUdid(udid).setApp(&quot;testApp.apk&quot;);\n    appiumDriver = new AndroidDriver(url, androidOptions);\n    return appiumDriver;\n}\n</code></pre>\n"}],"owner":{"account_id":7577029,"reputation":2788,"user_id":5749062,"display_name":"Bill Hileman"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":50235576,"answer_count":4,"score":1,"last_activity_date":1676136219,"creation_date":1525378785,"question_id":50163248,"body_markdown":"I have an Appium test project that was created about nine months ago, and was working fine.  I&#39;d since that time attempted to work on that project again, and the project works, but only if I start Appium manually (with the desktop app).  The project checks for the server to see if it&#39;s already running, and if not, launches it using the service logic below:\r\n\r\n    public class AppiumServer {\r\n    \r\n    \tAppiumDriverLocalService service = null;\r\n    \t\r\n    \tpublic void InitAppiumServer() {\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Creating Appium Service . . .&quot;);\r\n    \t\tservice = AppiumDriverLocalService.buildDefaultService();\r\n    \t\tSystem.out.println(&quot;Appium Service created.  URL: &#39;&quot; + service.getUrl().toString() + &quot;&#39;&quot;);\r\n    \t\t\r\n    \t}\r\n    \r\n    \tpublic void startServer() {\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Starting Appium Service . . .&quot;);\r\n    \t\tservice.start();\r\n    \t\tSystem.out.println(&quot;Appium Service started.&quot;);\r\n    \t\t\r\n    \t}\r\n\r\nThe resulting output, when Appium is not started manually, is below:\r\n\r\n&gt; Creating Appium Service . . . Appium Service created.  URL:\r\n&gt; &#39;http://0.0.0.0:4723/wd/hub&#39; Checking for Appium Service on port 4723\r\n&gt; . . . No prior Appium Service detected. Starting Appium Service . . .\r\n&gt; io.appium.java_client.service.local.AppiumServerHasNotBeenStartedLocallyException:\r\n&gt; The local appium server has not been started. The given Node.js\r\n&gt; executable: C:\\Program Files\\nodejs\\node.exe Arguments:\r\n&gt; [C:\\Users\\m1033792\\AppData\\Roaming\\npm\\node_modules\\appium\\build\\lib\\main.js,\r\n&gt; --port, 4723, --address, 0.0.0.0]\r\n\r\nIf I open a command prompt and run that command line manually, it also works, just not using the standard method that I&#39;ve been using and it would see, from research, most others are using.  I also seem to not be the only person with this particular problem as I&#39;m seeing it posted many places on the web, but with no responses.\r\n\r\nMy nodejs is version 5.6.0\r\nAppium (via nvm install) is 1.8\r\nJava is 1.8.0_144\r\nMaven is 3.5.4\r\n","title":"Launching Appium Service programmatically failing","body":"<p>I have an Appium test project that was created about nine months ago, and was working fine.  I'd since that time attempted to work on that project again, and the project works, but only if I start Appium manually (with the desktop app).  The project checks for the server to see if it's already running, and if not, launches it using the service logic below:</p>\n\n<pre><code>public class AppiumServer {\n\n    AppiumDriverLocalService service = null;\n\n    public void InitAppiumServer() {\n\n        System.out.println(\"Creating Appium Service . . .\");\n        service = AppiumDriverLocalService.buildDefaultService();\n        System.out.println(\"Appium Service created.  URL: '\" + service.getUrl().toString() + \"'\");\n\n    }\n\n    public void startServer() {\n\n        System.out.println(\"Starting Appium Service . . .\");\n        service.start();\n        System.out.println(\"Appium Service started.\");\n\n    }\n</code></pre>\n\n<p>The resulting output, when Appium is not started manually, is below:</p>\n\n<blockquote>\n  <p>Creating Appium Service . . . Appium Service created.  URL:\n  '<a href=\"http://0.0.0.0:4723/wd/hub\" rel=\"nofollow noreferrer\">http://0.0.0.0:4723/wd/hub</a>' Checking for Appium Service on port 4723\n  . . . No prior Appium Service detected. Starting Appium Service . . .\n  io.appium.java_client.service.local.AppiumServerHasNotBeenStartedLocallyException:\n  The local appium server has not been started. The given Node.js\n  executable: C:\\Program Files\\nodejs\\node.exe Arguments:\n  [C:\\Users\\m1033792\\AppData\\Roaming\\npm\\node_modules\\appium\\build\\lib\\main.js,\n  --port, 4723, --address, 0.0.0.0]</p>\n</blockquote>\n\n<p>If I open a command prompt and run that command line manually, it also works, just not using the standard method that I've been using and it would see, from research, most others are using.  I also seem to not be the only person with this particular problem as I'm seeing it posted many places on the web, but with no responses.</p>\n\n<p>My nodejs is version 5.6.0\nAppium (via nvm install) is 1.8\nJava is 1.8.0_144\nMaven is 3.5.4</p>\n"},{"tags":["java","android","android-studio","kotlin","material-components-android"],"owner":{"display_name":"user9493328"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676136102,"creation_date":1676136102,"question_id":75421964,"body_markdown":"[![enter image description here][1]][1]I am facing this issue several times while using material design and I could not find any solution for this issue. Whenever I visited Activity A which is the main screen I moved or opened Activity B then I went back to Activity A after that I opened Activity C. When I landed on Activity C it shows blue color to the whole activity as like some overlay of blue color. IDK is there some rendering color?\r\n\r\nI have all the possible solutions. But I am sure it is an issue regarding the material theme. The expected screen will be like the original white background color.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jSGjN.png","title":"Activity Showing Blue Color To Whole Screen","body":"<p><a href=\"https://i.stack.imgur.com/jSGjN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jSGjN.png\" alt=\"enter image description here\" /></a>I am facing this issue several times while using material design and I could not find any solution for this issue. Whenever I visited Activity A which is the main screen I moved or opened Activity B then I went back to Activity A after that I opened Activity C. When I landed on Activity C it shows blue color to the whole activity as like some overlay of blue color. IDK is there some rendering color?</p>\n<p>I have all the possible solutions. But I am sure it is an issue regarding the material theme. The expected screen will be like the original white background color.</p>\n"},{"tags":["java","spring","multithreading","spring-batch"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1552987572,"post_id":55227133,"comment_id":97208015,"body_markdown":"I was able to reproduce the case (see [this repo](https://github.com/benas/sandbox/blob/master/so55227133/output.txt)). However, I can&#39;t see why the second thread is not respecting the `maxItemCount`. I need to dig deeper to investigate what&#39;s happening behind the scene. In the meantime, if you didn&#39;t find an answer and believe it is a bug, please open a ticket in JIRA and we will plan if for a future release.","body":"I was able to reproduce the case (see <a href=\"https://github.com/benas/sandbox/blob/master/so55227133/output.txt\" rel=\"nofollow noreferrer\">this repo</a>). However, I can&#39;t see why the second thread is not respecting the <code>maxItemCount</code>. I need to dig deeper to investigate what&#39;s happening behind the scene. In the meantime, if you didn&#39;t find an answer and believe it is a bug, please open a ticket in JIRA and we will plan if for a future release."},{"owner":{"account_id":13566844,"reputation":180,"user_id":9786749,"display_name":"un0tec"},"score":0,"creation_date":1553002918,"post_id":55227133,"comment_id":97217839,"body_markdown":"@MahmoudBenHassine Thanks for answering. I have tried to find the reason why isnt respecting the maxitemcounter, but I cannot find it. In the meanwhile, I will try to use other ways to get partitioned, for example, sharing the large file into smaller ones and using multiresource. Could you tell me how I can open a Jira ticket to expose the problem? Thanks in advance.","body":"@MahmoudBenHassine Thanks for answering. I have tried to find the reason why isnt respecting the maxitemcounter, but I cannot find it. In the meanwhile, I will try to use other ways to get partitioned, for example, sharing the large file into smaller ones and using multiresource. Could you tell me how I can open a Jira ticket to expose the problem? Thanks in advance."},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1553004274,"post_id":55227133,"comment_id":97218718,"body_markdown":"Here is the JIRA instance for the project: https://jira.spring.io/projects/BATCH. You need to create an account then open a new issue. Please do open an issue only if you are sure it is actually a bug, in which case please provide a failing test. FYI, we are planning to migrate issues from JIRA to github later this year (but that&#39;s a plan, not a commitment), so you will be able at some point to open issues directly on github.","body":"Here is the JIRA instance for the project: <a href=\"https://jira.spring.io/projects/BATCH\" rel=\"nofollow noreferrer\">jira.spring.io/projects/BATCH</a>. You need to create an account then open a new issue. Please do open an issue only if you are sure it is actually a bug, in which case please provide a failing test. FYI, we are planning to migrate issues from JIRA to github later this year (but that&#39;s a plan, not a commitment), so you will be able at some point to open issues directly on github."},{"owner":{"account_id":13566844,"reputation":180,"user_id":9786749,"display_name":"un0tec"},"score":0,"creation_date":1553004976,"post_id":55227133,"comment_id":97219205,"body_markdown":"@MahmoudBenHassine \nIt is very difficult to me to know if the problem is a Spring Batch bug or a problem that is causing the concurrency of threads. I dont have much experience debugging multi-thread. I think the multi-thread is well designed but I&#39;m not 100% sure. Could you give me your personal opinion about it?My apologies, but I need much more practice to be able to assess whether it is a Spring Batch bug or not. Thanks.","body":"@MahmoudBenHassine  It is very difficult to me to know if the problem is a Spring Batch bug or a problem that is causing the concurrency of threads. I dont have much experience debugging multi-thread. I think the multi-thread is well designed but I&#39;m not 100% sure. Could you give me your personal opinion about it?My apologies, but I need much more practice to be able to assess whether it is a Spring Batch bug or not. Thanks."},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1553005917,"post_id":55227133,"comment_id":97219862,"body_markdown":"As mentioned, I&#39;m not sure neither. I tried to reproduce the case before answering but I don&#39;t know yet if this is s bug in spring batch or an issue with your configuration. I will try my best to dig deeper asap. In all cases, you can open an issue in JIRA so that we don&#39;t forget to tackle it :-)","body":"As mentioned, I&#39;m not sure neither. I tried to reproduce the case before answering but I don&#39;t know yet if this is s bug in spring batch or an issue with your configuration. I will try my best to dig deeper asap. In all cases, you can open an issue in JIRA so that we don&#39;t forget to tackle it :-)"},{"owner":{"account_id":13566844,"reputation":180,"user_id":9786749,"display_name":"un0tec"},"score":0,"creation_date":1553510233,"post_id":55227133,"comment_id":97396818,"body_markdown":"@MahmoudBenHassine I&#180;ve opened the next ticket: https://jira.spring.io/browse/BATCH-2801","body":"@MahmoudBenHassine I&#180;ve opened the next ticket: <a href=\"https://jira.spring.io/browse/BATCH-2801\" rel=\"nofollow noreferrer\">jira.spring.io/browse/BATCH-2801</a>"},{"owner":{"account_id":21083132,"reputation":3230,"user_id":15496965,"display_name":"Henning"},"score":0,"creation_date":1676136795,"post_id":55227133,"comment_id":133078828,"body_markdown":"I don&#39;t think the issue is related to multi-threading. I think the problem is that `maxItemCount` should be set to a different value. See my answer below for details.","body":"I don&#39;t think the issue is related to multi-threading. I think the problem is that <code>maxItemCount</code> should be set to a different value. See my answer below for details."}],"answers":[{"tags":[],"owner":{"account_id":21083132,"reputation":3230,"user_id":15496965,"display_name":"Henning"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676135847,"creation_date":1675979780,"answer_id":75404837,"question_id":55227133,"body_markdown":"Skipped lines are not counted when considering whether `maxItemCount` lines have been read.\r\n\r\nInstead of calculating the variable `toId` and passing it to `maxItemCount`, you need to pass the fixed value `range` to `maxItemCount`.\r\n\r\nedit: As the answer has been down-voted, I&#39;ve pushed the `RangePartitioner` from the question and a `FixedRangePartitioner` to github. The latter sets `maxItemCount` to `range` and works as expected: https://github.com/hpoettker/so-partitioning\r\n","title":"Why do these threads read the entire file instead of maxitemcounter?","body":"<p>Skipped lines are not counted when considering whether <code>maxItemCount</code> lines have been read.</p>\n<p>Instead of calculating the variable <code>toId</code> and passing it to <code>maxItemCount</code>, you need to pass the fixed value <code>range</code> to <code>maxItemCount</code>.</p>\n<p>edit: As the answer has been down-voted, I've pushed the <code>RangePartitioner</code> from the question and a <code>FixedRangePartitioner</code> to github. The latter sets <code>maxItemCount</code> to <code>range</code> and works as expected: <a href=\"https://github.com/hpoettker/so-partitioning\" rel=\"nofollow noreferrer\">https://github.com/hpoettker/so-partitioning</a></p>\n"}],"owner":{"account_id":13566844,"reputation":180,"user_id":9786749,"display_name":"un0tec"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676135847,"creation_date":1552930808,"question_id":55227133,"body_markdown":"I&#39;m doing a process with Spring Batch multi-thread. My process receives a large txt file (&gt; 100k lines). I want each thread to process X lines of the file and do X process with the information to gain time.\r\n\r\nI am using the FlatFileItemRead class passing the initial and final line to each thread. I&#39;m doing tests with 19k lines, 3 and 4 threads and I cannot see why the first thread if it starts and stops in the correct line, but the rest of threads start in the correct line but not end in the correct one, read the file until the end.\r\n\r\nI have read many questions about this topic and about the FlatFileItemReader class, it is not thread-safe. I think my problem is here, but I pass saveState to false and I indicate the lines to each thread. (See [this][1]).\r\n\r\nThese are the XML configuration files and the RangePartition file (Steps setTiempoInicial and stTiempoFinal only print the initial and total time):\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:batch=&quot;http://www.springframework.org/schema/batch&quot;\r\n    \txmlns:p=&quot;http://www.springframework.org/schema/p&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    \txmlns:util=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n    \t\thttp://www.springframework.org/schema/batch http://www.springframework.org/schema/batch/spring-batch-2.1.xsd\r\n    \t\thttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.1.xsd\r\n    \t\thttp://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd&quot;&gt;\r\n    \r\n    \t&lt;batch:job id=&quot;superTxtTest&quot;&gt;\r\n    \r\n    \t\t&lt;batch:step id=&quot;setTiempoInicial&quot; next=&quot;validacionDePers&quot;&gt;\r\n    \t\t\t&lt;batch:tasklet transaction-manager=&quot;transactionManager&quot;\r\n    \t\t\t\tstart-limit=&quot;1&quot;&gt;\r\n    \t\t\t\t&lt;batch:chunk reader=&quot;tiempoInicialReader&quot; writer=&quot;tiempoInicialWriter&quot;\r\n    \t\t\t\t\tcommit-interval=&quot;1&quot; skip-limit=&quot;1&quot;&gt;\r\n    \t\t\t\t\t&lt;batch:skippable-exception-classes&gt;\r\n    \t\t\t\t\t\t&lt;batch:include\r\n    \t\t\t\t\t\t\tclass=&quot;com.testpartitionfile.batch.PersException&quot; /&gt;\r\n    \t\t\t\t\t&lt;/batch:skippable-exception-classes&gt;\r\n    \t\t\t\t&lt;/batch:chunk&gt;\r\n    \t\t\t&lt;/batch:tasklet&gt;\r\n    \t\t\t&lt;batch:listeners&gt;\r\n    \t\t\t\t&lt;batch:listener ref=&quot;promotionListener&quot; /&gt;\r\n    \t\t\t&lt;/batch:listeners&gt;\r\n    \t\t&lt;/batch:step&gt;\r\n    \r\n    \t\t&lt;batch:step id=&quot;validacionDePers&quot; next=&quot;setTiempoFinal&quot;&gt;\r\n    \t\t\t&lt;partition step=&quot;validacionDePersSlave&quot; partitioner=&quot;rangePartitioner&quot;&gt;\r\n    \t\t\t\t&lt;handler grid-size=&quot;3&quot; task-executor=&quot;taskExecutor&quot; /&gt;\r\n    \t\t\t&lt;/partition&gt;\r\n    \t\t&lt;/batch:step&gt;\r\n    \r\n    \t\t&lt;batch:step id=&quot;setTiempoFinal&quot;&gt;\r\n    \t\t\t&lt;batch:tasklet transaction-manager=&quot;transactionManager&quot;\r\n    \t\t\t\tstart-limit=&quot;1&quot;&gt;\r\n    \t\t\t\t&lt;batch:chunk reader=&quot;tiempoFinalReader&quot; writer=&quot;tiempoFinalWriter&quot;\r\n    \t\t\t\t\tcommit-interval=&quot;1&quot; skip-limit=&quot;1&quot;&gt;\r\n    \t\t\t\t\t&lt;batch:skippable-exception-classes&gt;\r\n    \t\t\t\t\t\t&lt;batch:include\r\n    \t\t\t\t\t\t\tclass=&quot;com.testpartitionfile.batch.PersException&quot; /&gt;\r\n    \t\t\t\t\t&lt;/batch:skippable-exception-classes&gt;\r\n    \t\t\t\t&lt;/batch:chunk&gt;\r\n    \t\t\t&lt;/batch:tasklet&gt;\r\n    \t\t&lt;/batch:step&gt;\r\n    \r\n    \t&lt;/batch:job&gt;\r\n    \r\n    \t&lt;batch:step id=&quot;validacionDePersSlave&quot;&gt;\r\n    \t\t&lt;batch:tasklet transaction-manager=&quot;transactionManager&quot;\r\n    \t\t\tstart-limit=&quot;1&quot;&gt;\r\n    \t\t\t&lt;batch:chunk reader=&quot;tratamientoPersReader&quot; writer=&quot;validacionPersWriter&quot;\r\n    \t\t\t\tcommit-interval=&quot;1&quot; skip-limit=&quot;1&quot;&gt;\r\n    \t\t\t\t&lt;batch:skippable-exception-classes&gt;\r\n    \t\t\t\t\t&lt;batch:include\r\n    \t\t\t\t\t\tclass=&quot;com.testpartitionfile.batch.PersException&quot; /&gt;\r\n    \t\t\t\t&lt;/batch:skippable-exception-classes&gt;\r\n    \t\t\t&lt;/batch:chunk&gt;\r\n    \t\t&lt;/batch:tasklet&gt;\r\n    \t&lt;/batch:step&gt;\r\n    \r\n    \t&lt;bean id=&quot;promotionListener&quot;\r\n    \t\tclass=&quot;org.springframework.batch.core.listener.ExecutionContextPromotionListener&quot;&gt;\r\n    \t\t&lt;property name=&quot;keys&quot; value=&quot;tiempoInicial&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;bean id=&quot;validacionPersWriter&quot;\r\n    \t\tclass=&quot;com.testpartitionfile.batch.writer.ValidacionPersWriter&quot;\r\n    \t\tscope=&quot;step&quot;&gt;\r\n    \t\t&lt;property name=&quot;threadName&quot; value=&quot;#{stepExecutionContext[name]}&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;bean id=&quot;taskExecutor&quot; class=&quot;org.springframework.core.task.SimpleAsyncTaskExecutor&quot; /&gt;\r\n    \t&lt;bean id=&quot;rangePartitioner&quot;\r\n    \t\tclass=&quot;com.testpartitionfile.batch.partitioner.RangePartitioner&quot; /&gt;\r\n    \r\n    \t&lt;bean id=&quot;tratamientoPersReader&quot; class=&quot;org.springframework.batch.item.file.FlatFileItemReader&quot;\r\n    \t\tscope=&quot;step&quot;&gt;\r\n    \t\t&lt;property name=&quot;resource&quot;\r\n    \t\t\tvalue=&quot;file:C:\\Users\\user\\Desktop\\testFile.txt&quot; /&gt;\r\n    \t\t&lt;property name=&quot;encoding&quot; value=&quot;utf8&quot; /&gt;\r\n    \t\t&lt;property name=&quot;lineMapper&quot; ref=&quot;ficheroPersMapper&quot; /&gt;\r\n    \t\t&lt;property name=&quot;linesToSkip&quot; value=&quot;#{stepExecutionContext[fromId]}&quot; /&gt;\r\n    \t\t&lt;property name=&quot;maxItemCount&quot; value=&quot;#{stepExecutionContext[toId]}&quot; /&gt;\r\n    \t\t&lt;property name=&quot;saveState&quot; value=&quot;false&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;bean id=&quot;ficheroPersMapper&quot;\r\n    \t\tclass=&quot;org.springframework.batch.item.file.mapping.DefaultLineMapper&quot;&gt;\r\n    \t\t&lt;property name=&quot;fieldSetMapper&quot; ref=&quot;ficheroPersSetMapper&quot; /&gt;\r\n    \t\t&lt;property name=&quot;lineTokenizer&quot;&gt;\r\n    \t\t\t&lt;bean\r\n    \t\t\t\tclass=&quot;org.springframework.batch.item.file.transform.DelimitedLineTokenizer&quot;&gt;\r\n    \t\t\t\t&lt;property name=&quot;delimiter&quot; value=&quot;;&quot; /&gt;\r\n    \t\t\t\t&lt;property name=&quot;names&quot;\r\n    \t\t\t\t\tvalue=&quot;a,b,c,d,e,f,g,h,i,j&quot; /&gt;\r\n    \t\t\t&lt;/bean&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;bean id=&quot;ficheroPersSetMapper&quot;\r\n    \t\tclass=&quot;org.springframework.batch.item.file.mapping.BeanWrapperFieldSetMapper&quot;&gt;\r\n    \t\t&lt;property name=&quot;prototypeBeanName&quot; value=&quot;fichero&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;bean id=&quot;fichero&quot; class=&quot;com.testpartitionfile.batch.dto.Fichero&quot;\r\n    \t\tscope=&quot;prototype&quot; /&gt;\r\n    \r\n    &lt;/beans&gt;\r\n\r\nRangePartitioner:\r\n\r\n    public class RangePartitioner implements Partitioner {\r\n    \r\n    \t@Override\r\n    \tpublic Map&lt;String, ExecutionContext&gt; partition(int gridSize) {\r\n    \r\n    \t\tMap&lt;String, ExecutionContext&gt; result = new HashMap&lt;String, ExecutionContext&gt;();\r\n    \r\n    \t\tint range = 1;\r\n    \t\t\r\n    \t\tInputStream is = null;\r\n    \t    try {\r\n    \t    \tis = new BufferedInputStream(new FileInputStream(&quot;C:\\\\Users\\\\user\\\\Desktop\\\\testFile.txt&quot;));\r\n    \t        byte[] c = new byte[1024];\r\n    \t        int count = 0;\r\n    \t        int readChars = 0;\r\n    \t        while ((readChars = is.read(c)) != -1) {\r\n    \t            for (int i = 0; i &lt; readChars; ++i) {\r\n    \t                if (c[i] == &#39;\\n&#39;) {\r\n    \t                    ++count;\r\n    \t                }\r\n    \t            }\r\n    \t        }\r\n    \t        if (count != 0) {\r\n    \t        \trange = (count/gridSize);\r\n    \t        }\r\n    \t    } catch (Exception e){\r\n    \t    \ttry {\r\n    \t\t\t\tis.close();\r\n    \t\t\t} catch (Exception e1) {\r\n    \t\t\t}\r\n    \t    } \r\n    \t\t\r\n    \t\tint fromId = 1;\r\n    \t\tint toId = range;\r\n    \r\n    \t\tfor (int i = 1; i &lt;= gridSize; i++) {\r\n    \t\t\tExecutionContext value = new ExecutionContext();\r\n    \r\n    \t\t\tSystem.out.println(&quot;\\nHilo : &quot; + i);\r\n    \t\t\tSystem.out.println(&quot;Index Inicial : &quot; + fromId);\r\n    \t\t\tSystem.out.println(&quot;Index Final : &quot; + toId + &quot;\\n&quot;);\r\n    \r\n    \t\t\tvalue.putInt(&quot;fromId&quot;, fromId - 1);\r\n    \t\t\tvalue.putInt(&quot;toId&quot;, toId);\r\n    \r\n    \t\t\t// give each thread a name, thread 1,2,3\r\n    \t\t\tvalue.putString(&quot;name&quot;, &quot;Hilo &quot; + i);\r\n    \r\n    \t\t\tresult.put(&quot;partition&quot; + i, value);\r\n    \r\n    \t\t\tfromId = toId + 1;\r\n    \t\t\ttoId += range;\r\n    \t\t\tif (i == gridSize - 1) toId = toId + 1;\r\n    \r\n    \t\t}\r\n    \r\n    \t\treturn result;\r\n    \t}\r\n    \r\n    }\r\n\r\nInitial Log with 3 threads:\r\n\r\n    Thread: 1\r\n    Initial Index: 1\r\n    Final Index: 6333\r\n    \r\n    \r\n    Thread: 2\r\n    Index Initial: 6334\r\n    Final Index: 12666\r\n    \r\n    \r\n    Thread: 3\r\n    Index Initial: 12667\r\n    Final Index: 19000 \r\n\r\n \r\n**Case 1:**\r\n\r\nThread 1 reads up to 6333. Thread 2 reads up to 19000 instead of reading up to 12666 and thread 3 reads up to 19000.\r\n\r\n**Case 2:**\r\n\r\nWith 4 threads the threads 2 and 3 read up to 19000.\r\n\r\nWhy thread 2 in case 1 and threads 2 and 3 in case 2 read from initial line (correct) to the end (incorrect)?\r\n\r\n**Update 25/07/2021**\r\n\r\nIssue is open in: https://github.com/spring-projects/spring-batch/issues/805 \r\n\r\n[1]: https://stackoverflow.com/questions/42270806/using-flatfileitemreader-with-a-taskexecutor-thread-safety","title":"Why do these threads read the entire file instead of maxitemcounter?","body":"<p>I'm doing a process with Spring Batch multi-thread. My process receives a large txt file (&gt; 100k lines). I want each thread to process X lines of the file and do X process with the information to gain time.</p>\n<p>I am using the FlatFileItemRead class passing the initial and final line to each thread. I'm doing tests with 19k lines, 3 and 4 threads and I cannot see why the first thread if it starts and stops in the correct line, but the rest of threads start in the correct line but not end in the correct one, read the file until the end.</p>\n<p>I have read many questions about this topic and about the FlatFileItemReader class, it is not thread-safe. I think my problem is here, but I pass saveState to false and I indicate the lines to each thread. (See <a href=\"https://stackoverflow.com/questions/42270806/using-flatfileitemreader-with-a-taskexecutor-thread-safety\">this</a>).</p>\n<p>These are the XML configuration files and the RangePartition file (Steps setTiempoInicial and stTiempoFinal only print the initial and total time):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:batch=&quot;http://www.springframework.org/schema/batch&quot;\n    xmlns:p=&quot;http://www.springframework.org/schema/p&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n    xmlns:util=&quot;http://www.springframework.org/schema/beans&quot;\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/batch http://www.springframework.org/schema/batch/spring-batch-2.1.xsd\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.1.xsd\n        http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd&quot;&gt;\n\n    &lt;batch:job id=&quot;superTxtTest&quot;&gt;\n\n        &lt;batch:step id=&quot;setTiempoInicial&quot; next=&quot;validacionDePers&quot;&gt;\n            &lt;batch:tasklet transaction-manager=&quot;transactionManager&quot;\n                start-limit=&quot;1&quot;&gt;\n                &lt;batch:chunk reader=&quot;tiempoInicialReader&quot; writer=&quot;tiempoInicialWriter&quot;\n                    commit-interval=&quot;1&quot; skip-limit=&quot;1&quot;&gt;\n                    &lt;batch:skippable-exception-classes&gt;\n                        &lt;batch:include\n                            class=&quot;com.testpartitionfile.batch.PersException&quot; /&gt;\n                    &lt;/batch:skippable-exception-classes&gt;\n                &lt;/batch:chunk&gt;\n            &lt;/batch:tasklet&gt;\n            &lt;batch:listeners&gt;\n                &lt;batch:listener ref=&quot;promotionListener&quot; /&gt;\n            &lt;/batch:listeners&gt;\n        &lt;/batch:step&gt;\n\n        &lt;batch:step id=&quot;validacionDePers&quot; next=&quot;setTiempoFinal&quot;&gt;\n            &lt;partition step=&quot;validacionDePersSlave&quot; partitioner=&quot;rangePartitioner&quot;&gt;\n                &lt;handler grid-size=&quot;3&quot; task-executor=&quot;taskExecutor&quot; /&gt;\n            &lt;/partition&gt;\n        &lt;/batch:step&gt;\n\n        &lt;batch:step id=&quot;setTiempoFinal&quot;&gt;\n            &lt;batch:tasklet transaction-manager=&quot;transactionManager&quot;\n                start-limit=&quot;1&quot;&gt;\n                &lt;batch:chunk reader=&quot;tiempoFinalReader&quot; writer=&quot;tiempoFinalWriter&quot;\n                    commit-interval=&quot;1&quot; skip-limit=&quot;1&quot;&gt;\n                    &lt;batch:skippable-exception-classes&gt;\n                        &lt;batch:include\n                            class=&quot;com.testpartitionfile.batch.PersException&quot; /&gt;\n                    &lt;/batch:skippable-exception-classes&gt;\n                &lt;/batch:chunk&gt;\n            &lt;/batch:tasklet&gt;\n        &lt;/batch:step&gt;\n\n    &lt;/batch:job&gt;\n\n    &lt;batch:step id=&quot;validacionDePersSlave&quot;&gt;\n        &lt;batch:tasklet transaction-manager=&quot;transactionManager&quot;\n            start-limit=&quot;1&quot;&gt;\n            &lt;batch:chunk reader=&quot;tratamientoPersReader&quot; writer=&quot;validacionPersWriter&quot;\n                commit-interval=&quot;1&quot; skip-limit=&quot;1&quot;&gt;\n                &lt;batch:skippable-exception-classes&gt;\n                    &lt;batch:include\n                        class=&quot;com.testpartitionfile.batch.PersException&quot; /&gt;\n                &lt;/batch:skippable-exception-classes&gt;\n            &lt;/batch:chunk&gt;\n        &lt;/batch:tasklet&gt;\n    &lt;/batch:step&gt;\n\n    &lt;bean id=&quot;promotionListener&quot;\n        class=&quot;org.springframework.batch.core.listener.ExecutionContextPromotionListener&quot;&gt;\n        &lt;property name=&quot;keys&quot; value=&quot;tiempoInicial&quot; /&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=&quot;validacionPersWriter&quot;\n        class=&quot;com.testpartitionfile.batch.writer.ValidacionPersWriter&quot;\n        scope=&quot;step&quot;&gt;\n        &lt;property name=&quot;threadName&quot; value=&quot;#{stepExecutionContext[name]}&quot; /&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=&quot;taskExecutor&quot; class=&quot;org.springframework.core.task.SimpleAsyncTaskExecutor&quot; /&gt;\n    &lt;bean id=&quot;rangePartitioner&quot;\n        class=&quot;com.testpartitionfile.batch.partitioner.RangePartitioner&quot; /&gt;\n\n    &lt;bean id=&quot;tratamientoPersReader&quot; class=&quot;org.springframework.batch.item.file.FlatFileItemReader&quot;\n        scope=&quot;step&quot;&gt;\n        &lt;property name=&quot;resource&quot;\n            value=&quot;file:C:\\Users\\user\\Desktop\\testFile.txt&quot; /&gt;\n        &lt;property name=&quot;encoding&quot; value=&quot;utf8&quot; /&gt;\n        &lt;property name=&quot;lineMapper&quot; ref=&quot;ficheroPersMapper&quot; /&gt;\n        &lt;property name=&quot;linesToSkip&quot; value=&quot;#{stepExecutionContext[fromId]}&quot; /&gt;\n        &lt;property name=&quot;maxItemCount&quot; value=&quot;#{stepExecutionContext[toId]}&quot; /&gt;\n        &lt;property name=&quot;saveState&quot; value=&quot;false&quot; /&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=&quot;ficheroPersMapper&quot;\n        class=&quot;org.springframework.batch.item.file.mapping.DefaultLineMapper&quot;&gt;\n        &lt;property name=&quot;fieldSetMapper&quot; ref=&quot;ficheroPersSetMapper&quot; /&gt;\n        &lt;property name=&quot;lineTokenizer&quot;&gt;\n            &lt;bean\n                class=&quot;org.springframework.batch.item.file.transform.DelimitedLineTokenizer&quot;&gt;\n                &lt;property name=&quot;delimiter&quot; value=&quot;;&quot; /&gt;\n                &lt;property name=&quot;names&quot;\n                    value=&quot;a,b,c,d,e,f,g,h,i,j&quot; /&gt;\n            &lt;/bean&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=&quot;ficheroPersSetMapper&quot;\n        class=&quot;org.springframework.batch.item.file.mapping.BeanWrapperFieldSetMapper&quot;&gt;\n        &lt;property name=&quot;prototypeBeanName&quot; value=&quot;fichero&quot; /&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=&quot;fichero&quot; class=&quot;com.testpartitionfile.batch.dto.Fichero&quot;\n        scope=&quot;prototype&quot; /&gt;\n\n&lt;/beans&gt;\n</code></pre>\n<p>RangePartitioner:</p>\n<pre><code>public class RangePartitioner implements Partitioner {\n\n    @Override\n    public Map&lt;String, ExecutionContext&gt; partition(int gridSize) {\n\n        Map&lt;String, ExecutionContext&gt; result = new HashMap&lt;String, ExecutionContext&gt;();\n\n        int range = 1;\n        \n        InputStream is = null;\n        try {\n            is = new BufferedInputStream(new FileInputStream(&quot;C:\\\\Users\\\\user\\\\Desktop\\\\testFile.txt&quot;));\n            byte[] c = new byte[1024];\n            int count = 0;\n            int readChars = 0;\n            while ((readChars = is.read(c)) != -1) {\n                for (int i = 0; i &lt; readChars; ++i) {\n                    if (c[i] == '\\n') {\n                        ++count;\n                    }\n                }\n            }\n            if (count != 0) {\n                range = (count/gridSize);\n            }\n        } catch (Exception e){\n            try {\n                is.close();\n            } catch (Exception e1) {\n            }\n        } \n        \n        int fromId = 1;\n        int toId = range;\n\n        for (int i = 1; i &lt;= gridSize; i++) {\n            ExecutionContext value = new ExecutionContext();\n\n            System.out.println(&quot;\\nHilo : &quot; + i);\n            System.out.println(&quot;Index Inicial : &quot; + fromId);\n            System.out.println(&quot;Index Final : &quot; + toId + &quot;\\n&quot;);\n\n            value.putInt(&quot;fromId&quot;, fromId - 1);\n            value.putInt(&quot;toId&quot;, toId);\n\n            // give each thread a name, thread 1,2,3\n            value.putString(&quot;name&quot;, &quot;Hilo &quot; + i);\n\n            result.put(&quot;partition&quot; + i, value);\n\n            fromId = toId + 1;\n            toId += range;\n            if (i == gridSize - 1) toId = toId + 1;\n\n        }\n\n        return result;\n    }\n\n}\n</code></pre>\n<p>Initial Log with 3 threads:</p>\n<pre><code>Thread: 1\nInitial Index: 1\nFinal Index: 6333\n\n\nThread: 2\nIndex Initial: 6334\nFinal Index: 12666\n\n\nThread: 3\nIndex Initial: 12667\nFinal Index: 19000 \n</code></pre>\n<p><strong>Case 1:</strong></p>\n<p>Thread 1 reads up to 6333. Thread 2 reads up to 19000 instead of reading up to 12666 and thread 3 reads up to 19000.</p>\n<p><strong>Case 2:</strong></p>\n<p>With 4 threads the threads 2 and 3 read up to 19000.</p>\n<p>Why thread 2 in case 1 and threads 2 and 3 in case 2 read from initial line (correct) to the end (incorrect)?</p>\n<p><strong>Update 25/07/2021</strong></p>\n<p>Issue is open in: <a href=\"https://github.com/spring-projects/spring-batch/issues/805\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-batch/issues/805</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1074771,"reputation":1325,"user_id":1073157,"accept_rate":50,"display_name":"Dan Rayson"},"score":1,"creation_date":1675988393,"post_id":75405749,"comment_id":133051739,"body_markdown":"https://stackoverflow.com/questions/1480398/java-reading-a-file-from-current-directory","body":"<a href=\"https://stackoverflow.com/questions/1480398/java-reading-a-file-from-current-directory\" title=\"java reading a file from current directory\">stackoverflow.com/questions/1480398/&hellip;</a>"},{"owner":{"account_id":9930295,"reputation":11613,"user_id":11082165,"display_name":"Brian61354270"},"score":2,"creation_date":1675989477,"post_id":75405749,"comment_id":133051903,"body_markdown":"Paths are relative to the current working directory, not the source file that happen to be processed in.","body":"Paths are relative to the current working directory, not the source file that happen to be processed in."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1675994876,"post_id":75405749,"comment_id":133052658,"body_markdown":"Write a  simple Code: `        File f1=new File(&quot;.&quot;);\n        System.out.println(f1.getAbsolutePath());` , then goto Your Project Directory **out/production/YOUR_PROJECT** , Run `java Main` (if your class is Main.class), you can test it yourself. And next, your can package your class to a executeable jar, test again.","body":"Write a  simple Code: `        File f1=new File(&quot;.&quot;);         System.out.println(f1.getAbsolutePath());` , then goto Your Project Directory <b>out/production/YOUR_PROJECT</b> , Run <code>java Main</code> (if your class is Main.class), you can test it yourself. And next, your can package your class to a executeable jar, test again."}],"answers":[{"tags":[],"owner":{"account_id":20261253,"reputation":373,"user_id":14859549,"display_name":"Frank Yang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675998607,"creation_date":1675998017,"answer_id":75406525,"question_id":75405749,"body_markdown":"That&#39;s because in IDEA, the working directory of your program is the root directory of your project, not `src` by default. Therefore, you can access the file by `./src/input.txt` or `src/input.txt`, not `input.txt`. By the way, it&#39;s bad practice to put your resources in `src`, because it gets mixed with your source code, and it won&#39;t be included in the JAR file, which means you cannot access it when your project is packaged as a JAR file. If you are using maven, you can put `input.txt` inside the resources folder(`src/main/resources`), and access it by `Main.class.getResource(&quot;/input.txt&quot;)`(gives you a `URL`) or `Main.class.getResourceAsStream(&quot;/input.txt&quot;)`(gives you a `InputStream`) depending on your needs. So that the resources will always be available, no matter you are running the program in IDEA or from a JAR.","title":"FileNotFoundException in the same directory","body":"<p>That's because in IDEA, the working directory of your program is the root directory of your project, not <code>src</code> by default. Therefore, you can access the file by <code>./src/input.txt</code> or <code>src/input.txt</code>, not <code>input.txt</code>. By the way, it's bad practice to put your resources in <code>src</code>, because it gets mixed with your source code, and it won't be included in the JAR file, which means you cannot access it when your project is packaged as a JAR file. If you are using maven, you can put <code>input.txt</code> inside the resources folder(<code>src/main/resources</code>), and access it by <code>Main.class.getResource(&quot;/input.txt&quot;)</code>(gives you a <code>URL</code>) or <code>Main.class.getResourceAsStream(&quot;/input.txt&quot;)</code>(gives you a <code>InputStream</code>) depending on your needs. So that the resources will always be available, no matter you are running the program in IDEA or from a JAR.</p>\n"},{"tags":[],"owner":{"account_id":7359100,"reputation":19,"user_id":5602884,"display_name":"Naveen Reddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676008702,"creation_date":1676008702,"answer_id":75407434,"question_id":75405749,"body_markdown":"FileNotFoundException occurs when the file doesn&#39;t exist at the specified location.\r\n\r\nFile file = new File(&quot;./input.txt&quot;), the current working directory (.) is being used as the file location.\r\nIf you are running the code from an IDE, the current working directory is usually the project root directory, not the directory where the code file is located.\r\nSo, if the input.txt file is located in the same directory as your code file, then you should use the relative path to it.\r\n\r\nFile file = new File(&quot;src/input.txt&quot;), you are specifying the absolute path to the input.txt file, which is inside the src directory.\r\nThis is why it works, as the file is guaranteed to exist at that location.\r\n\r\nIf the file is located in the same directory as your code file, you can use a relative path, and if it&#39;s in a different directory, you should use an absolute path to it.","title":"FileNotFoundException in the same directory","body":"<p>FileNotFoundException occurs when the file doesn't exist at the specified location.</p>\n<p>File file = new File(&quot;./input.txt&quot;), the current working directory (.) is being used as the file location.\nIf you are running the code from an IDE, the current working directory is usually the project root directory, not the directory where the code file is located.\nSo, if the input.txt file is located in the same directory as your code file, then you should use the relative path to it.</p>\n<p>File file = new File(&quot;src/input.txt&quot;), you are specifying the absolute path to the input.txt file, which is inside the src directory.\nThis is why it works, as the file is guaranteed to exist at that location.</p>\n<p>If the file is located in the same directory as your code file, you can use a relative path, and if it's in a different directory, you should use an absolute path to it.</p>\n"}],"owner":{"account_id":26392464,"reputation":59,"user_id":20044158,"display_name":"nalabof679"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1676135648,"answer_count":2,"score":0,"last_activity_date":1676135709,"creation_date":1675988029,"question_id":75405749,"body_markdown":"I&#39;m not entirely sure if this is a Java issue or an IntelliJ issue, but I had a quick question about my File not being found via a path. My `Main` class is in the same directory as my `input.txt` file.\r\n\r\nI though I should be able to do ` File file = new File(&quot;./input.txt&quot;)`, except I get `FileNotFoundException`. When I do something like ` File file = new File(&quot;src/input.txt&quot;)`, it does work.\r\n\r\nI get that this may be a solution, but if I try to run this code outside of IntelliJ without a `src` directory, this will lead to an error where the File can&#39;t be found.\r\n\r\nIs there any reason why I can&#39;t just do `./input.txt` to specify that the File is in the same directory as the Main file?","title":"FileNotFoundException in the same directory","body":"<p>I'm not entirely sure if this is a Java issue or an IntelliJ issue, but I had a quick question about my File not being found via a path. My <code>Main</code> class is in the same directory as my <code>input.txt</code> file.</p>\n<p>I though I should be able to do <code> File file = new File(&quot;./input.txt&quot;)</code>, except I get <code>FileNotFoundException</code>. When I do something like <code> File file = new File(&quot;src/input.txt&quot;)</code>, it does work.</p>\n<p>I get that this may be a solution, but if I try to run this code outside of IntelliJ without a <code>src</code> directory, this will lead to an error where the File can't be found.</p>\n<p>Is there any reason why I can't just do <code>./input.txt</code> to specify that the File is in the same directory as the Main file?</p>\n"},{"tags":["java","spring","state-machine","spring-statemachine"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1675845778,"post_id":75382236,"comment_id":133013534,"body_markdown":"Java tends to be backwards compatible. A library built for Java N will also run on Java N+1. The only real major caveats in recent years were the module system (introduced in Java 9) and the related restriction of reflection access to system classes. But those only hit some kinds of libraries (the ones that did some shady stuff internally, mostly). For the majority of libraries those are non-issues. So if it seems to work, it&#39;ll probably work just fine.","body":"Java tends to be backwards compatible. A library built for Java N will also run on Java N+1. The only real major caveats in recent years were the module system (introduced in Java 9) and the related restriction of reflection access to system classes. But those only hit some kinds of libraries (the ones that did some shady stuff internally, mostly). For the majority of libraries those are non-issues. So if it seems to work, it&#39;ll probably work just fine."},{"owner":{"account_id":8341608,"reputation":1,"user_id":6266763,"display_name":"roshini"},"score":0,"creation_date":1675846888,"post_id":75382236,"comment_id":133013901,"body_markdown":"Thanks @Joachim. I have recently written a library using JDK8. I wasn&#39;t able use the same library in JDK17 workspace due to compilation errors. It wasn&#39;t specific to a feature that was deprecated in JDK17. Just the compatibility issue at byte code level. It would be nice to hear from the users of Spring State machine about their experiences in upgrading their JDK version whilst using this library. My concerns are around whether this library is actively maintained and has good community support. What I want to avoid is to use a library which is not actively maintained.","body":"Thanks @Joachim. I have recently written a library using JDK8. I wasn&#39;t able use the same library in JDK17 workspace due to compilation errors. It wasn&#39;t specific to a feature that was deprecated in JDK17. Just the compatibility issue at byte code level. It would be nice to hear from the users of Spring State machine about their experiences in upgrading their JDK version whilst using this library. My concerns are around whether this library is actively maintained and has good community support. What I want to avoid is to use a library which is not actively maintained."}],"answers":[{"tags":[],"owner":{"account_id":3481319,"reputation":876,"user_id":2913290,"accept_rate":50,"display_name":"Daniel Vilas-Boas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676135677,"creation_date":1676135677,"answer_id":75421917,"question_id":75382236,"body_markdown":"In my company, we are using java 17 with SSM 3.x. In other words, yes","title":"Does Spring Statemachine support Java 17 or above?","body":"<p>In my company, we are using java 17 with SSM 3.x. In other words, yes</p>\n"}],"owner":{"account_id":8341608,"reputation":1,"user_id":6266763,"display_name":"roshini"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":242,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1676135677,"creation_date":1675839017,"question_id":75382236,"body_markdown":"Does Spring Statemachine support Java 17 or above? \r\n\r\nTheir documentation says that the supported version is Java 8. However, the library dependency does seem to compile in a Java 17 environment. \r\n\r\nI am new to this library and haven&#39;t used a lot of its features. \r\n\r\nTherefore I may be wrong. Would you mind sharing your experience here?\r\n\r\n","title":"Does Spring Statemachine support Java 17 or above?","body":"<p>Does Spring Statemachine support Java 17 or above?</p>\n<p>Their documentation says that the supported version is Java 8. However, the library dependency does seem to compile in a Java 17 environment.</p>\n<p>I am new to this library and haven't used a lot of its features.</p>\n<p>Therefore I may be wrong. Would you mind sharing your experience here?</p>\n"},{"tags":["java","angular","spring","spring-boot","rest"],"comments":[{"owner":{"account_id":9120249,"reputation":15521,"user_id":6785908,"accept_rate":70,"display_name":"so-random-dude"},"score":0,"creation_date":1676136018,"post_id":75421827,"comment_id":133078693,"body_markdown":"http is one response per one request. That said, you can probably choose to not close/commit the stream until you get the complete list and keep writing to the response body stream and close it once its done. I am not sure, with spring you will get such fine level controls","body":"http is one response per one request. That said, you can probably choose to not close/commit the stream until you get the complete list and keep writing to the response body stream and close it once its done. I am not sure, with spring you will get such fine level controls"}],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676135432,"creation_date":1676135432,"answer_id":75421889,"question_id":75421827,"body_markdown":"To stream a list you should use WebFlux and return something like `Flux&lt;List&lt;ExecutionDTO&gt;&gt;`.\r\n\r\nYou&#39;ll need a reactive data store though to realistically stream results as the database returns them (e.g. MongoDB).","title":"How to send what ever list of DTOs are ready from(spring-boot) as a backend to the front(angular-12)?","body":"<p>To stream a list you should use WebFlux and return something like <code>Flux&lt;List&lt;ExecutionDTO&gt;&gt;</code>.</p>\n<p>You'll need a reactive data store though to realistically stream results as the database returns them (e.g. MongoDB).</p>\n"}],"owner":{"account_id":13867576,"reputation":120,"user_id":10011738,"display_name":"amir rad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676135432,"creation_date":1676134790,"question_id":75421827,"body_markdown":"I have long list from Execution entity and after some process fill related ExecutionDto, the DTO is like this,\r\n```\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class ExecutionDto {\r\n\r\n    private long OrgUnitId;\r\n    private long countsDone;\r\n    private long countsShouldBe;\r\n    private float progressPercentage;\r\n    private double countsIndicator;\r\n    private String OrgUnitDisplayName;\r\n\r\n}\r\n```\r\n\r\nthe method that processes Execution return list of ExecutionDto is like this,\r\n\r\n```\r\npublic List&lt;ExecutionDTO&gt; processExecutions(){\r\n// some proccess and return list of ExecutionDto\r\nreturn listOfExecutions;\r\n\r\n}\r\n```\r\nI don&#39;t want to use pagination and send what ever data is ready to the front and not wait the completed list, How can I do this?\r\nand my web rest method is like this,\r\n\r\n```\r\n  @GetMapping(&quot;/executions/procces&quot;)\r\n    public ResponseEntity&lt;List&lt;ExecutionDTO&gt;&gt; proccesedExecutions(){\r\n    // get list of ExecutionDtos from related service \r\n        return ResponseEntity.ok().body(executionDTOs);\r\n    }\r\n  \r\n```\r\n\r\nI expect gradually list to complete but front wait until back-end completed list, it takes a lot of time to complete the list of ExecutionDtos,","title":"How to send what ever list of DTOs are ready from(spring-boot) as a backend to the front(angular-12)?","body":"<p>I have long list from Execution entity and after some process fill related ExecutionDto, the DTO is like this,</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class ExecutionDto {\n\n    private long OrgUnitId;\n    private long countsDone;\n    private long countsShouldBe;\n    private float progressPercentage;\n    private double countsIndicator;\n    private String OrgUnitDisplayName;\n\n}\n</code></pre>\n<p>the method that processes Execution return list of ExecutionDto is like this,</p>\n<pre><code>public List&lt;ExecutionDTO&gt; processExecutions(){\n// some proccess and return list of ExecutionDto\nreturn listOfExecutions;\n\n}\n</code></pre>\n<p>I don't want to use pagination and send what ever data is ready to the front and not wait the completed list, How can I do this?\nand my web rest method is like this,</p>\n<pre><code>  @GetMapping(&quot;/executions/procces&quot;)\n    public ResponseEntity&lt;List&lt;ExecutionDTO&gt;&gt; proccesedExecutions(){\n    // get list of ExecutionDtos from related service \n        return ResponseEntity.ok().body(executionDTOs);\n    }\n  \n</code></pre>\n<p>I expect gradually list to complete but front wait until back-end completed list, it takes a lot of time to complete the list of ExecutionDtos,</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9337,"page":655,"page_size":100}
