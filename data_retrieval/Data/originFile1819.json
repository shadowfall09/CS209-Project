{"items":[{"tags":["java","apache","authentication","httpclient","ntlm"],"answers":[{"tags":[],"owner":{"account_id":3500616,"reputation":1957,"user_id":2927457,"display_name":"gustf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459888117,"creation_date":1459887550,"answer_id":36436251,"question_id":36430738,"body_markdown":"You can check if it is available with. \r\n\r\n        if (!WinHttpClients.isWinAuthAvailable()) {\r\n            System.out.println(&quot;Integrated Win auth is not supported!!!&quot;);\r\n        }\r\n\r\nIf not, it could be that you do not have [jna.jar][1] in your classpath. It depends on jna and will silently return `false` on the above if it [not there, see source code][2]. \r\n\r\n\r\n  [1]: https://github.com/java-native-access/jna\r\n  [2]: https://github.com/apache/httpclient/blob/52c68d6a4f1a14e88f9817270580bb384138040d/httpclient5-win/src/main/java/org/apache/hc/client5/http/impl/win/WinHttpClients.java","title":"Using WinHttpClients from Apache Http Components","body":"<p>You can check if it is available with. </p>\n\n<pre><code>    if (!WinHttpClients.isWinAuthAvailable()) {\n        System.out.println(\"Integrated Win auth is not supported!!!\");\n    }\n</code></pre>\n\n<p>If not, it could be that you do not have <a href=\"https://github.com/java-native-access/jna\" rel=\"nofollow\">jna.jar</a> in your classpath. It depends on jna and will silently return <code>false</code> on the above if it <a href=\"https://github.com/apache/httpclient/blob/52c68d6a4f1a14e88f9817270580bb384138040d/httpclient5-win/src/main/java/org/apache/hc/client5/http/impl/win/WinHttpClients.java\" rel=\"nofollow\">not there, see source code</a>. </p>\n"},{"tags":[],"owner":{"account_id":2759482,"reputation":91,"user_id":2376661,"display_name":"Martin Stenderup"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637848580,"creation_date":1637848580,"answer_id":70112351,"question_id":36430738,"body_markdown":"Try with get (or options) before post. Some webservers requires that because of CORS.\r\nhttps://stackoverflow.com/a/38410411/2376661\r\n\r\n","title":"Using WinHttpClients from Apache Http Components","body":"<p>Try with get (or options) before post. Some webservers requires that because of CORS.\n<a href=\"https://stackoverflow.com/a/38410411/2376661\">https://stackoverflow.com/a/38410411/2376661</a></p>\n"}],"owner":{"account_id":1517380,"reputation":335,"user_id":1418072,"accept_rate":67,"display_name":"Radford7821"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1444,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1637848580,"creation_date":1459870131,"question_id":36430738,"body_markdown":"I have been able to successfully authentication to a service that requires ntlm authentication when using the WinHttpClients and a GET request. However when I try to do a POST I always get a 401 return code. Has anyone done this sucessfully before?\r\n\r\n    import java.io.IOException;\r\n    import java.io.UnsupportedEncodingException;\r\n\r\n    import org.apache.http.HttpEntity;\r\n    import org.apache.http.HttpHost;\r\n    import org.apache.http.auth.AuthScope;\r\n    import org.apache.http.auth.NTCredentials;\r\n    import org.apache.http.client.ClientProtocolException;\r\n    import org.apache.http.client.CredentialsProvider;\r\n    import org.apache.http.client.methods.CloseableHttpResponse;\r\n    import org.apache.http.client.methods.HttpGet;\r\n    import org.apache.http.client.methods.HttpPost;\r\n    import org.apache.http.client.protocol.HttpClientContext;\r\n    import org.apache.http.entity.StringEntity;\r\n    import org.apache.http.impl.client.BasicCredentialsProvider;\r\n    import org.apache.http.impl.client.CloseableHttpClient;\r\n    import org.apache.http.impl.client.WinHttpClients;\r\n\r\n\r\n    public class WindowsAuthPOst {\r\n\t\r\n\tpublic static void main (String []args) throws Exception, IOException\r\n\t{\r\n\t\torg.apache.log4j.BasicConfigurator.configure();\r\n\t\tCloseableHttpClient httpclient = WinHttpClients.createDefault();\r\n\t\t\r\n\t\tHttpHost target = new HttpHost(&quot;SomeHost.domain&quot;, 443, &quot;https&quot;);\r\n\r\n\t\tHttpClientContext context = HttpClientContext.create();\r\n\t\tHttpGet httpget = new HttpGet(&quot;/some/Service.svc&quot;);\r\n\t\tCloseableHttpResponse response1 = httpclient.execute(target, httpget, context);\r\n\t\ttry {\r\n\t\t    HttpEntity entity1 = response1.getEntity();\r\n\t\t} finally {\r\n\t\t    response1.close();\r\n\t\t}\r\n\r\n\t\t// Execute an expensive method next reusing the same context (and connection)\r\n\t\tHttpPost httppost = new HttpPost(&quot;/some/Service.svc&quot;);\r\n\t\thttppost.setHeader(&quot;SOAPAction&quot;, &quot;Some Soap Action&quot;);\r\n  \t\thttppost.setEntity(new StringEntity(&quot;Soap Payload&quot;));\r\n\t\tCloseableHttpResponse response2 = httpclient.execute(target, httppost, context);\r\n\t\ttry {\r\n\t\t    HttpEntity entity2 = response2.getEntity();\r\n\t\t} finally {\r\n\t\t    response2.close();\r\n\t\t}\r\n\t}\r\n\r\n}\r\n","title":"Using WinHttpClients from Apache Http Components","body":"<p>I have been able to successfully authentication to a service that requires ntlm authentication when using the WinHttpClients and a GET request. However when I try to do a POST I always get a 401 return code. Has anyone done this sucessfully before?</p>\n\n<pre><code>import java.io.IOException;\nimport java.io.UnsupportedEncodingException;\n\nimport org.apache.http.HttpEntity;\nimport org.apache.http.HttpHost;\nimport org.apache.http.auth.AuthScope;\nimport org.apache.http.auth.NTCredentials;\nimport org.apache.http.client.ClientProtocolException;\nimport org.apache.http.client.CredentialsProvider;\nimport org.apache.http.client.methods.CloseableHttpResponse;\nimport org.apache.http.client.methods.HttpGet;\nimport org.apache.http.client.methods.HttpPost;\nimport org.apache.http.client.protocol.HttpClientContext;\nimport org.apache.http.entity.StringEntity;\nimport org.apache.http.impl.client.BasicCredentialsProvider;\nimport org.apache.http.impl.client.CloseableHttpClient;\nimport org.apache.http.impl.client.WinHttpClients;\n\n\npublic class WindowsAuthPOst {\n\npublic static void main (String []args) throws Exception, IOException\n{\n    org.apache.log4j.BasicConfigurator.configure();\n    CloseableHttpClient httpclient = WinHttpClients.createDefault();\n\n    HttpHost target = new HttpHost(\"SomeHost.domain\", 443, \"https\");\n\n    HttpClientContext context = HttpClientContext.create();\n    HttpGet httpget = new HttpGet(\"/some/Service.svc\");\n    CloseableHttpResponse response1 = httpclient.execute(target, httpget, context);\n    try {\n        HttpEntity entity1 = response1.getEntity();\n    } finally {\n        response1.close();\n    }\n\n    // Execute an expensive method next reusing the same context (and connection)\n    HttpPost httppost = new HttpPost(\"/some/Service.svc\");\n    httppost.setHeader(\"SOAPAction\", \"Some Soap Action\");\n    httppost.setEntity(new StringEntity(\"Soap Payload\"));\n    CloseableHttpResponse response2 = httpclient.execute(target, httppost, context);\n    try {\n        HttpEntity entity2 = response2.getEntity();\n    } finally {\n        response2.close();\n    }\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","spring","spring-boot","option-type","dto"],"comments":[{"owner":{"account_id":7753338,"reputation":1218,"user_id":5985343,"display_name":"jmizv"},"score":0,"creation_date":1637838406,"post_id":70109940,"comment_id":123935143,"body_markdown":"What keeps you from changing your method to return `Optional`? Like `public Optional&lt;DemoDTO&gt; findShallowByUuid(UUID uuid) { return demoRepository.findShallowByUuid(uuid); }`","body":"What keeps you from changing your method to return <code>Optional</code>? Like <code>public Optional&lt;DemoDTO&gt; findShallowByUuid(UUID uuid) { return demoRepository.findShallowByUuid(uuid); }</code>"},{"owner":{"display_name":"user17186249"},"score":0,"creation_date":1637838606,"post_id":70109940,"comment_id":123935227,"body_markdown":"I tried, then I had to make lots of changes due to the necessary changes (converting to Optional in the DTO). Any suggestion?","body":"I tried, then I had to make lots of changes due to the necessary changes (converting to Optional in the DTO). Any suggestion?"},{"owner":{"account_id":7753338,"reputation":1218,"user_id":5985343,"display_name":"jmizv"},"score":0,"creation_date":1637839014,"post_id":70109940,"comment_id":123935374,"body_markdown":"Basically changing the return type to `Optional` is a good idea because that way you can let the calling code decide what to do with a &quot;no result&quot;. The calling does not need to do a try-catch in order to find out whether there is a value for the given UUID. Sure, you need to change probably a lot of code. Another possibility: `ublic Optional&lt;DemoDTO&gt; findShallowByUuid(UUID uuid) { return demoRepository.findShallowByUuid(uuid).orElse(null);`. That way you avoid throwing the exception but you will return `null` and the calling code needs to check for null in order not to throw an `NullPointerExc","body":"Basically changing the return type to <code>Optional</code> is a good idea because that way you can let the calling code decide what to do with a &quot;no result&quot;. The calling does not need to do a try-catch in order to find out whether there is a value for the given UUID. Sure, you need to change probably a lot of code. Another possibility: <code>ublic Optional&lt;DemoDTO&gt; findShallowByUuid(UUID uuid) { return demoRepository.findShallowByUuid(uuid).orElse(null);</code>. That way you avoid throwing the exception but you will return <code>null</code> and the calling code needs to check for null in order not to throw an `NullPointerExc"},{"owner":{"display_name":"user17186249"},"score":0,"creation_date":1637839915,"post_id":70109940,"comment_id":123935713,"body_markdown":"@jmizv Exactly!.. Thanks a lot, very elegant solution ;)","body":"@jmizv Exactly!.. Thanks a lot, very elegant solution ;)"}],"answers":[{"tags":[],"owner":{"account_id":7753338,"reputation":1218,"user_id":5985343,"display_name":"jmizv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637848307,"creation_date":1637840079,"answer_id":70110393,"question_id":70109940,"body_markdown":"To put my comment into an answer, this would be the most elegant way based on your requirements:\r\n\r\n\r\n```\r\npublic DemoDTO findShallowByUuid(UUID uuid) {\r\n    return demoRepository.findShallowByUuid(uuid).orElse(null);\r\n}\r\n```\r\n\r\nBut be sure that the calling code correctly handles `null` to avoid `NullPointerException`s.","title":"How to make return type nullable using Optional&lt;T&gt; etc?","body":"<p>To put my comment into an answer, this would be the most elegant way based on your requirements:</p>\n<pre><code>public DemoDTO findShallowByUuid(UUID uuid) {\n    return demoRepository.findShallowByUuid(uuid).orElse(null);\n}\n</code></pre>\n<p>But be sure that the calling code correctly handles <code>null</code> to avoid <code>NullPointerException</code>s.</p>\n"}],"owner":{"display_name":"user17186249"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70110393,"answer_count":1,"score":1,"last_activity_date":1637848307,"creation_date":1637837983,"question_id":70109940,"body_markdown":"I have the following method that returns `DemoDTO` and if it is not found, return exception. \r\n\r\n\r\n```\r\npublic DemoDTO findShallowByUuid(UUID uuid) {\r\n    return demoRepository.findShallowByUuid(uuid)\r\n            .orElseThrow(() -&gt; new EntityNotFoundException(&quot;Not found&quot;));\r\n}\r\n```\r\n\r\nHowever, I want to let the method to return a nullable `DemoDTO` instead of throwing error. For this purpose, I converted its type and the related return types to `Optional&lt;DemoDTO&gt;` or `Optional&lt;T&gt;`, but it caused some problems regarding to the related DTO. After I updated the constructor parameters to `Optional&lt;T&gt;`, the other part of the app that using this DTO complained. \r\n\r\nI am not sure converting to `Optional&lt;T&gt;` is a good idea or not. If it is a good idea, should I add another constructor to the `DemoDTO`? I am not sure if it is a good solution as it will also require some changes for the property types. Any idea?","title":"How to make return type nullable using Optional&lt;T&gt; etc?","body":"<p>I have the following method that returns <code>DemoDTO</code> and if it is not found, return exception.</p>\n<pre><code>public DemoDTO findShallowByUuid(UUID uuid) {\n    return demoRepository.findShallowByUuid(uuid)\n            .orElseThrow(() -&gt; new EntityNotFoundException(&quot;Not found&quot;));\n}\n</code></pre>\n<p>However, I want to let the method to return a nullable <code>DemoDTO</code> instead of throwing error. For this purpose, I converted its type and the related return types to <code>Optional&lt;DemoDTO&gt;</code> or <code>Optional&lt;T&gt;</code>, but it caused some problems regarding to the related DTO. After I updated the constructor parameters to <code>Optional&lt;T&gt;</code>, the other part of the app that using this DTO complained.</p>\n<p>I am not sure converting to <code>Optional&lt;T&gt;</code> is a good idea or not. If it is a good idea, should I add another constructor to the <code>DemoDTO</code>? I am not sure if it is a good solution as it will also require some changes for the property types. Any idea?</p>\n"},{"tags":["java","c++","c","recursion","factorial"],"comments":[{"owner":{"account_id":4962911,"reputation":1972,"user_id":3993371,"accept_rate":81,"display_name":"Anindya Dutta"},"score":0,"creation_date":1432313675,"post_id":30402046,"comment_id":48891780,"body_markdown":"Do one of the options using a loop?","body":"Do one of the options using a loop?"},{"owner":{"account_id":1700744,"reputation":1190,"user_id":1560890,"display_name":"kaz"},"score":0,"creation_date":1432313717,"post_id":30402046,"comment_id":48891800,"body_markdown":"You should add a tag with the language you are using.","body":"You should add a tag with the language you are using."},{"owner":{"account_id":3243453,"reputation":348,"user_id":2735801,"display_name":"prashant"},"score":0,"creation_date":1432314308,"post_id":30402046,"comment_id":48892084,"body_markdown":"@anindya dutta -- no iteration, only recursion","body":"@anindya dutta -- no iteration, only recursion"}],"answers":[{"tags":[],"owner":{"account_id":4962911,"reputation":1972,"user_id":3993371,"accept_rate":81,"display_name":"Anindya Dutta"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1432315132,"creation_date":1432314389,"answer_id":30402278,"question_id":30402046,"body_markdown":"\r\n    int main() {\r\n       sum(1,terms,1,0);\r\n    }\r\n\r\n    int sum (int cur, int terms, int fac, int sumcur) {\r\n        \r\n        return terms == n? sumcur: sum(cur+1, terms, (cur==1)?1:cur*fac, sumcur+cur*fac);\r\n    }","title":"Sum of factorials of 1 to n using only one recursive function","body":"<pre><code>int main() {\n   sum(1,terms,1,0);\n}\n\nint sum (int cur, int terms, int fac, int sumcur) {\n\n    return terms == n? sumcur: sum(cur+1, terms, (cur==1)?1:cur*fac, sumcur+cur*fac);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1626472,"reputation":565,"user_id":1501928,"display_name":"mgarant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432314628,"creation_date":1432314628,"answer_id":30402348,"question_id":30402046,"body_markdown":"You could have Something like this :\r\n\r\n    int sumOfFac(int currentNumber, int lastSum, int lastFac, int maxNumber)\r\n    {\r\n        int currentFac = currentNmber*lastFac;\r\n        int currentSum = lastSum+currentFac;\r\n\r\n        if(currentNumber &lt; maxNumber)\r\n        {\r\n            return sumOfFac(currentNumber+1, currentSum, currentFac, maxNumber);\r\n        }\r\n        return currentSum;\r\n    }\r\n\r\nThen you call that function the first time with :\r\n\r\n    currentNumber = 1\r\n    lastSum = 0\r\n    lastFac = 1\r\n    maxNumber = your n","title":"Sum of factorials of 1 to n using only one recursive function","body":"<p>You could have Something like this :</p>\n\n<pre><code>int sumOfFac(int currentNumber, int lastSum, int lastFac, int maxNumber)\n{\n    int currentFac = currentNmber*lastFac;\n    int currentSum = lastSum+currentFac;\n\n    if(currentNumber &lt; maxNumber)\n    {\n        return sumOfFac(currentNumber+1, currentSum, currentFac, maxNumber);\n    }\n    return currentSum;\n}\n</code></pre>\n\n<p>Then you call that function the first time with :</p>\n\n<pre><code>currentNumber = 1\nlastSum = 0\nlastFac = 1\nmaxNumber = your n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5321025,"reputation":17886,"user_id":4253229,"accept_rate":83,"display_name":"Eugene Sh."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432316517,"creation_date":1432315467,"answer_id":30402547,"question_id":30402046,"body_markdown":"    a_1 = 1!\r\n    a_2 = 1!+2!\r\n    ...\r\n    a_n = a_(n-1) + f_(n-1)*n\r\n\r\nwhere `f_i = i!`. So basically we need two outputs from the dunction - `a` and `f`. Let&#39;s translate it to the code:\r\n\r\n    int series(int n, int *f)\r\n    {\r\n    \tint a, f1;\r\n    \tif (n &lt; 2)\r\n    \t{\r\n    \t\t*f = 1;\r\n    \t\treturn 1;\r\n    \t}\r\n    \telse\r\n    \t{\r\n    \t\ta = series(n-1, &amp;f1);\r\n    \t\t*f = f1 * n;\r\n    \t\treturn a + (*f);\r\n    \t}\r\n    }\r\n\r\nAnd then\r\n\r\n    int main(void) {\r\n    \tint dummy;\r\n        printf(&quot;%d\\n&quot;, series(1, &amp;dummy));\r\n        printf(&quot;%d\\n&quot;, series(2, &amp;dummy));\r\n        printf(&quot;%d\\n&quot;, series(3, &amp;dummy));\r\n        printf(&quot;%d\\n&quot;, series(4, &amp;dummy));\r\n    \treturn 0;\r\n    }\r\n\r\nprints this:\r\n\r\n    1\r\n    3\r\n    9\r\n    33\r\n&lt;br&gt;\r\n**Update:** &lt;br&gt;\r\n To refactor further, we can say that `f_n = a_n - a_(n-1)`, so  `f_(n-1) = a_(n-1) - a_(n-2)`. Then the recursive case will be:\r\n\r\n    a_n = a_(n-1) + (a_(n-1) - a_(n-2))*n\r\nThis wont require the calculation of `f`, but need some extra bse cases and extra recursive call:\r\n\r\n        int series(int n)\r\n        {\r\n        \tint a1, a2;\r\n        \tif (n &lt;= 1)\r\n        \t{\r\n        \t\treturn 1;\r\n        \t}\r\n        \telse if (n==2)\r\n        \t{\r\n        \t\treturn 3;\r\n        \t}\r\n        \telse\r\n        \t{\r\n        \t\t\r\n        \t\ta1 = series(n-1);\r\n        \t\ta2 = series(n-2);\r\n        \t\t\r\n        \t\treturn a1 + (a1 - a2)*n;\r\n        \t}\r\n        }","title":"Sum of factorials of 1 to n using only one recursive function","body":"<pre><code>a_1 = 1!\na_2 = 1!+2!\n...\na_n = a_(n-1) + f_(n-1)*n\n</code></pre>\n\n<p>where <code>f_i = i!</code>. So basically we need two outputs from the dunction - <code>a</code> and <code>f</code>. Let's translate it to the code:</p>\n\n<pre><code>int series(int n, int *f)\n{\n    int a, f1;\n    if (n &lt; 2)\n    {\n        *f = 1;\n        return 1;\n    }\n    else\n    {\n        a = series(n-1, &amp;f1);\n        *f = f1 * n;\n        return a + (*f);\n    }\n}\n</code></pre>\n\n<p>And then</p>\n\n<pre><code>int main(void) {\n    int dummy;\n    printf(\"%d\\n\", series(1, &amp;dummy));\n    printf(\"%d\\n\", series(2, &amp;dummy));\n    printf(\"%d\\n\", series(3, &amp;dummy));\n    printf(\"%d\\n\", series(4, &amp;dummy));\n    return 0;\n}\n</code></pre>\n\n<p>prints this:</p>\n\n<pre><code>1\n3\n9\n33\n</code></pre>\n\n<p><br>\n<strong>Update:</strong> <br>\n To refactor further, we can say that <code>f_n = a_n - a_(n-1)</code>, so  <code>f_(n-1) = a_(n-1) - a_(n-2)</code>. Then the recursive case will be:</p>\n\n<pre><code>a_n = a_(n-1) + (a_(n-1) - a_(n-2))*n\n</code></pre>\n\n<p>This wont require the calculation of <code>f</code>, but need some extra bse cases and extra recursive call:</p>\n\n<pre><code>    int series(int n)\n    {\n        int a1, a2;\n        if (n &lt;= 1)\n        {\n            return 1;\n        }\n        else if (n==2)\n        {\n            return 3;\n        }\n        else\n        {\n\n            a1 = series(n-1);\n            a2 = series(n-2);\n\n            return a1 + (a1 - a2)*n;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3973497,"reputation":6743,"user_id":3277393,"accept_rate":72,"display_name":"user12341234"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1432315970,"creation_date":1432315970,"answer_id":30402681,"question_id":30402046,"body_markdown":"This is the simplest I could get it:\r\n\r\n    int sum_fac(int target, int counter) {\r\n        return (target == counter) ? target : counter * (1 + sum_fac(target, counter + 1));\r\n    }\r\n\r\nWhich when called like this:\r\n\r\n    int main() {\r\n      for (int i = 1; i &lt; 10; i++) {\r\n        printf(&quot;%d: %d\\n&quot;, i, sum_fac(i, 1));\r\n      }\r\n    }\r\n\r\nOutputs this:\r\n\r\n    1: 1\r\n    2: 3\r\n    3: 9\r\n    4: 33\r\n    5: 153\r\n    6: 873\r\n    7: 5913\r\n    8: 46233\r\n    9: 409113","title":"Sum of factorials of 1 to n using only one recursive function","body":"<p>This is the simplest I could get it:</p>\n\n<pre><code>int sum_fac(int target, int counter) {\n    return (target == counter) ? target : counter * (1 + sum_fac(target, counter + 1));\n}\n</code></pre>\n\n<p>Which when called like this:</p>\n\n<pre><code>int main() {\n  for (int i = 1; i &lt; 10; i++) {\n    printf(\"%d: %d\\n\", i, sum_fac(i, 1));\n  }\n}\n</code></pre>\n\n<p>Outputs this:</p>\n\n<pre><code>1: 1\n2: 3\n3: 9\n4: 33\n5: 153\n6: 873\n7: 5913\n8: 46233\n9: 409113\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23451925,"reputation":1,"user_id":17507978,"display_name":"Siddhant Bhagat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637847875,"creation_date":1637847668,"answer_id":70112133,"question_id":30402046,"body_markdown":"The code using c language\r\n\r\n    #include&lt;stdio.h&gt;\r\n    \r\n    int main(){\r\n      int n;\r\n      printf(&quot;Until how many terms?\\n&quot;);\r\n      scanf(&quot;%d&quot;,&amp;n);\r\n      printf(&quot;The sum of factorials is %d&quot;,srs(n));    \r\n      return 0;\r\n    }\r\n\r\n    int factorial(int n){\r\n      return n&lt;2?1:n*factorial(n-1); //(if)?(true):(false)\r\n    }\r\n\r\n    int srs(int n){\r\n      return n&gt;0?( (factorial(n)) + srs(n-1)):0; //(if)?(true):(false)\r\n    }","title":"Sum of factorials of 1 to n using only one recursive function","body":"<p>The code using c language</p>\n<pre><code>#include&lt;stdio.h&gt;\n\nint main(){\n  int n;\n  printf(&quot;Until how many terms?\\n&quot;);\n  scanf(&quot;%d&quot;,&amp;n);\n  printf(&quot;The sum of factorials is %d&quot;,srs(n));    \n  return 0;\n}\n\nint factorial(int n){\n  return n&lt;2?1:n*factorial(n-1); //(if)?(true):(false)\n}\n\nint srs(int n){\n  return n&gt;0?( (factorial(n)) + srs(n-1)):0; //(if)?(true):(false)\n}\n</code></pre>\n"}],"owner":{"account_id":3243453,"reputation":348,"user_id":2735801,"display_name":"prashant"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3445,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":30402681,"answer_count":5,"score":0,"last_activity_date":1637847875,"creation_date":1432313551,"question_id":30402046,"body_markdown":"I need a single recursive function to compute the series `S=1! + 2! + 3! + ...+n!`.\r\n\r\nI&#39;ve done it using 2 functions.\r\n\r\n    void main()\r\n    { \r\n      int terms=4;\r\n      printf(sum(terms));  //outputs 33\r\n     /* \r\n        terms is the number of terms in the series\r\n        e.g. terms=3 outputs 9, 4 outputs 33\r\n     */\r\n    }\r\n\r\n    int fac(int n)   \r\n    {            \r\n         return n&lt;2 ? 1 : n * fac(n-1) ;\r\n    }   \r\n    int sum(int terms)   \r\n    {     \r\n         return terms&gt;0 ? (fac(terms) + sum(terms-1)):0 ;\r\n    }","title":"Sum of factorials of 1 to n using only one recursive function","body":"<p>I need a single recursive function to compute the series <code>S=1! + 2! + 3! + ...+n!</code>.</p>\n\n<p>I've done it using 2 functions.</p>\n\n<pre><code>void main()\n{ \n  int terms=4;\n  printf(sum(terms));  //outputs 33\n /* \n    terms is the number of terms in the series\n    e.g. terms=3 outputs 9, 4 outputs 33\n */\n}\n\nint fac(int n)   \n{            \n     return n&lt;2 ? 1 : n * fac(n-1) ;\n}   \nint sum(int terms)   \n{     \n     return terms&gt;0 ? (fac(terms) + sum(terms-1)):0 ;\n}\n</code></pre>\n"},{"tags":["java","oop","functional-programming","java-8"],"answers":[{"tags":[],"owner":{"account_id":10904,"reputation":2639,"user_id":1729005,"display_name":"axblount"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1426608106,"creation_date":1426558909,"answer_id":29090270,"question_id":29090179,"body_markdown":"What you&#39;re trying to accomplish, while admirable, isn&#39;t a good fit for Java in most cases. But before I get into that...\r\n\r\nJava 8 adds default methods to interfaces! You can define default methods based on other methods in the interface. This was already available to abstract classes.\r\n\r\n    public interface Animal {\r\n        public void speak();\r\n        public default void jump() {\r\n            speak();\r\n            System.out.println(&quot;...but higher!&quot;);\r\n        }\r\n    }\r\n\r\nBut in the end, you&#39;re going to have to provide functionality for each type. I don&#39;t see a huge difference between adding a new method and creating a visitor class or partial functions. It&#39;s just a question of location. Do you want to organize your code by action or object? (functional or object oriented, verb or noun, etc.)\r\n\r\n*I suppose the point I&#39;m trying to make is that Java code is organized by &#39;noun&#39; for reasons that aren&#39;t changing any time soon.*\r\n\r\nThe visitor pattern along with static methods are probably your best bet for organizing things by action. However, I think visitors make the most sense when they don&#39;t really depend on the exact type of the object they&#39;re visiting. For instance, an Animal visitor might be used to make the animal speak and then jump, because both of those things are supported by all animals. A jump visitor doesn&#39;t make as much sense to me because that behavior is inherently specific to each animal.\r\n\r\nJava makes a true &quot;verb&quot; approach a little difficult because it chooses which overloaded method to run based on the compile time type of the arguments (see below and https://stackoverflow.com/questions/1572322/overloaded-method-selection-based-on-the-parameters-real-type). Methods are only dynamically dispatched based on the type of `this`. That&#39;s one of the reasons inheritance is the preferred method of handling these types of situations.\r\n\r\n    public class AnimalActions {\r\n        public static void jump(Animal a) {\r\n            a.speak();\r\n            System.out.println(&quot;...but higher!&quot;);\r\n        }\r\n        public static void jump(Bird b) { ... }\r\n        public static void jump(Cat c) { ... }\r\n        // ...\r\n    }\r\n    // ...\r\n    Animal a = new Cat();\r\n    AnimalActions.jump(a); // this will call AnimalActions.jump(Animal)\r\n                           // because the type of `a` is just Animal at\r\n                           // compile time.\r\n\r\nYou can get around this by using `instanceof` and other forms of reflection.\r\n\r\n    public class AnimalActions {\r\n        public static void jump(Animal a) {\r\n            if (a instanceof Bird) {\r\n                Bird b = (Bird)a;\r\n                // ...\r\n            } else if (a instanceof Cat) {\r\n                Cat c = (Cat)a;\r\n                // ...\r\n            }\r\n            // ...\r\n        }\r\n    }\r\n\r\nBut now you&#39;re just doing work the JVM was designed to do for you.\r\n\r\n    Animal a = new Cat();\r\n    a.jump(); // jumps as a cat should\r\n\r\nJava has a few tools that make adding methods to a broad set of classes easier. Namely abstract classes and default interface methods. Java is focused on dispatching methods based on the object invoking the method. If you want to write flexible and performant Java, I think this is one idiom you have to adopt.\r\n\r\n**P.S.** Because I&#39;m *That Guy*™ I&#39;m going to bring up Lisp, specifically the Common Lisp Object System (CLOS). It provides multimethods that dispatch based on all arguments. The book *Practical Common Lisp* even provides [an example of how this differs from Java][1].\r\n\r\n[1]:http://www.gigamonkeys.com/book/object-reorientation-generic-functions.html#multimethods\r\n    ","title":"Does Java 8 provide an alternative to the visitor pattern?","body":"<p>What you're trying to accomplish, while admirable, isn't a good fit for Java in most cases. But before I get into that...</p>\n\n<p>Java 8 adds default methods to interfaces! You can define default methods based on other methods in the interface. This was already available to abstract classes.</p>\n\n<pre><code>public interface Animal {\n    public void speak();\n    public default void jump() {\n        speak();\n        System.out.println(\"...but higher!\");\n    }\n}\n</code></pre>\n\n<p>But in the end, you're going to have to provide functionality for each type. I don't see a huge difference between adding a new method and creating a visitor class or partial functions. It's just a question of location. Do you want to organize your code by action or object? (functional or object oriented, verb or noun, etc.)</p>\n\n<p><em>I suppose the point I'm trying to make is that Java code is organized by 'noun' for reasons that aren't changing any time soon.</em></p>\n\n<p>The visitor pattern along with static methods are probably your best bet for organizing things by action. However, I think visitors make the most sense when they don't really depend on the exact type of the object they're visiting. For instance, an Animal visitor might be used to make the animal speak and then jump, because both of those things are supported by all animals. A jump visitor doesn't make as much sense to me because that behavior is inherently specific to each animal.</p>\n\n<p>Java makes a true \"verb\" approach a little difficult because it chooses which overloaded method to run based on the compile time type of the arguments (see below and <a href=\"https://stackoverflow.com/questions/1572322/overloaded-method-selection-based-on-the-parameters-real-type\">Overloaded method selection based on the parameter&#39;s real type</a>). Methods are only dynamically dispatched based on the type of <code>this</code>. That's one of the reasons inheritance is the preferred method of handling these types of situations.</p>\n\n<pre><code>public class AnimalActions {\n    public static void jump(Animal a) {\n        a.speak();\n        System.out.println(\"...but higher!\");\n    }\n    public static void jump(Bird b) { ... }\n    public static void jump(Cat c) { ... }\n    // ...\n}\n// ...\nAnimal a = new Cat();\nAnimalActions.jump(a); // this will call AnimalActions.jump(Animal)\n                       // because the type of `a` is just Animal at\n                       // compile time.\n</code></pre>\n\n<p>You can get around this by using <code>instanceof</code> and other forms of reflection.</p>\n\n<pre><code>public class AnimalActions {\n    public static void jump(Animal a) {\n        if (a instanceof Bird) {\n            Bird b = (Bird)a;\n            // ...\n        } else if (a instanceof Cat) {\n            Cat c = (Cat)a;\n            // ...\n        }\n        // ...\n    }\n}\n</code></pre>\n\n<p>But now you're just doing work the JVM was designed to do for you.</p>\n\n<pre><code>Animal a = new Cat();\na.jump(); // jumps as a cat should\n</code></pre>\n\n<p>Java has a few tools that make adding methods to a broad set of classes easier. Namely abstract classes and default interface methods. Java is focused on dispatching methods based on the object invoking the method. If you want to write flexible and performant Java, I think this is one idiom you have to adopt.</p>\n\n<p><strong>P.S.</strong> Because I'm <em>That Guy</em>™ I'm going to bring up Lisp, specifically the Common Lisp Object System (CLOS). It provides multimethods that dispatch based on all arguments. The book <em>Practical Common Lisp</em> even provides <a href=\"http://www.gigamonkeys.com/book/object-reorientation-generic-functions.html#multimethods\" rel=\"noreferrer\">an example of how this differs from Java</a>.</p>\n"},{"tags":[],"owner":{"account_id":4860165,"reputation":27613,"user_id":3920048,"display_name":"Misha"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1426560127,"creation_date":1426560127,"answer_id":29090455,"question_id":29090179,"body_markdown":"Lambda expressions can make it easier to set up (very) poor man&#39;s pattern matching.  Same technique can be used to make a Visitor easier to build.\r\n\r\n\tstatic interface Animal {\r\n        // can also make it a default method \r\n        // to avoid having to pass animal as an explicit parameter\r\n\t\tstatic void match(\r\n\t\t\t\tAnimal animal,\r\n\t\t\t\tConsumer&lt;Dog&gt; dogAction,\r\n\t\t\t\tConsumer&lt;Cat&gt; catAction,\r\n\t\t\t\tConsumer&lt;Fish&gt; fishAction,\r\n\t\t\t\tConsumer&lt;Bird&gt; birdAction\r\n\t\t) {\r\n\t\t\tif (animal instanceof Cat) {\r\n\t\t\t\tcatAction.accept((Cat) animal);\r\n\t\t\t} else if (animal instanceof Dog) {\r\n\t\t\t\tdogAction.accept((Dog) animal);\r\n\t\t\t} else if (animal instanceof Fish) {\r\n\t\t\t\tfishAction.accept((Fish) animal);\r\n\t\t\t} else if (animal instanceof Bird) {\r\n\t\t\t\tbirdAction.accept((Bird) animal);\r\n\t\t\t} else {\r\n\t\t\t\tthrow new AssertionError(animal.getClass());\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tstatic void jump(Animal animal) {\r\n\t\tAnimal.match(animal,\r\n\t\t\t\tDog::hop,\r\n\t\t\t\tCat::leap,\r\n\t\t\t\tfish -&gt; {\r\n\t\t\t\t\tif (fish.canJump()) {\r\n\t\t\t\t\t\tfish.jump();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tfish.swim();\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tBird::soar\r\n\t\t);\r\n\t}\r\n","title":"Does Java 8 provide an alternative to the visitor pattern?","body":"<p>Lambda expressions can make it easier to set up (very) poor man's pattern matching.  Same technique can be used to make a Visitor easier to build.</p>\n\n<pre><code>static interface Animal {\n    // can also make it a default method \n    // to avoid having to pass animal as an explicit parameter\n    static void match(\n            Animal animal,\n            Consumer&lt;Dog&gt; dogAction,\n            Consumer&lt;Cat&gt; catAction,\n            Consumer&lt;Fish&gt; fishAction,\n            Consumer&lt;Bird&gt; birdAction\n    ) {\n        if (animal instanceof Cat) {\n            catAction.accept((Cat) animal);\n        } else if (animal instanceof Dog) {\n            dogAction.accept((Dog) animal);\n        } else if (animal instanceof Fish) {\n            fishAction.accept((Fish) animal);\n        } else if (animal instanceof Bird) {\n            birdAction.accept((Bird) animal);\n        } else {\n            throw new AssertionError(animal.getClass());\n        }\n    }\n}\n\nstatic void jump(Animal animal) {\n    Animal.match(animal,\n            Dog::hop,\n            Cat::leap,\n            fish -&gt; {\n                if (fish.canJump()) {\n                    fish.jump();\n                } else {\n                    fish.swim();\n                }\n            },\n            Bird::soar\n    );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1426626085,"creation_date":1426626085,"answer_id":29109591,"question_id":29090179,"body_markdown":"The additions made to the Java language do not render every old concept outdated. In fact, the Visitor pattern is very good at supporting adding of new operations.\r\n\r\nWhen comparing this pattern with the new Java&#160;8 possibilities, the following becomes apparent:\r\n\r\n - Java&#160;8 allows to easily define operations comprising a single function. This comes handy when processing flat homogeneous collections like with [`Iterable.forEach`](http://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html#forEach-java.util.function.Consumer-), [`Stream.forEach`](http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#forEach-java.util.function.Consumer-) but also [`Stream.reduce`](http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#reduce-java.util.function.BinaryOperator-)\r\n - A visitor allows to define a *multiple functions* which are selected by element type and/or topology of a data structure which becomes interesting right where the single function feature stops working, when processing heterogeneous collections and non-flat structures, e.g. trees of items\r\n\r\nSo the new Java&#160;8 features can never act as a drop-in replacement for the Visitor pattern, however, searching for possible synergies is reasonable. [This answer](https://stackoverflow.com/a/24384759/2711488) discusses possibilities to retrofit an existing API (`FileVisitor`) to enable the use of lambda expressions. The solution is a specialized concrete visitor implementation which delegates to corresponding functions which can be specified for each `visit` method. If each function is optional (i.e. there is a reasonable default for each `visit` method), it will come handy if the application is interested in a small subset of the possible actions only or if it wants to treat most of them uniformly.\r\n\r\nIf some of these use cases are regarded “typical”, there might be an `accept` method taking one or more functions creating the appropriate delegating visitor behind the scene (when designing new APIs or improving API under your control). I wouldn’t drop the ordinary `accept(XyzVisitor)`, however, as the option to use an existing implementation of a visitor should not be underestimated.\r\n\r\nThere’s a similar choice of overloads in the `Stream` API, if we consider a [`Collector`](http://docs.oracle.com/javase/8/docs/api/java/util/stream/Collector.html) as a kind of visitor for a `Stream`. It consists of up to four functions, which is the maximum imaginable for visiting a flat, homogeneous sequence of items. Instead of having to implement that interface, you can initiate a [reduction specifying a single function](http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#reduce-java.util.function.BinaryOperator-) or a [mutable reduction using three functions](http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#collect-java.util.function.Supplier-java.util.function.BiConsumer-java.util.function.BiConsumer-) but there are common situations where [specifying an existing implementation](http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#collect-java.util.stream.Collector-) is more concise, like with `collect(Collectors.toList())` or `collect(Collectors.joining(&quot;,&quot;))`, than specifying all necessary functions via lambda expressions/ method references.\r\n\r\nWhen adding such support to a particular application of the Visitor pattern, it will make the calling site more shiny while the implementation site of the particular `accept` methods always has been simple. So the only part which remains bulky is the visitor type itself; it may even become a bit more complicated when it is augmented with support for functional interface based operations. It is unlikely that there will be a language-based solution for either, simpler creation of such visitors or replacing this concept, in the near future.\r\n","title":"Does Java 8 provide an alternative to the visitor pattern?","body":"<p>The additions made to the Java language do not render every old concept outdated. In fact, the Visitor pattern is very good at supporting adding of new operations.</p>\n\n<p>When comparing this pattern with the new Java 8 possibilities, the following becomes apparent:</p>\n\n<ul>\n<li>Java 8 allows to easily define operations comprising a single function. This comes handy when processing flat homogeneous collections like with <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html#forEach-java.util.function.Consumer-\" rel=\"nofollow noreferrer\"><code>Iterable.forEach</code></a>, <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#forEach-java.util.function.Consumer-\" rel=\"nofollow noreferrer\"><code>Stream.forEach</code></a> but also <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#reduce-java.util.function.BinaryOperator-\" rel=\"nofollow noreferrer\"><code>Stream.reduce</code></a></li>\n<li>A visitor allows to define a <em>multiple functions</em> which are selected by element type and/or topology of a data structure which becomes interesting right where the single function feature stops working, when processing heterogeneous collections and non-flat structures, e.g. trees of items</li>\n</ul>\n\n<p>So the new Java 8 features can never act as a drop-in replacement for the Visitor pattern, however, searching for possible synergies is reasonable. <a href=\"https://stackoverflow.com/a/24384759/2711488\">This answer</a> discusses possibilities to retrofit an existing API (<code>FileVisitor</code>) to enable the use of lambda expressions. The solution is a specialized concrete visitor implementation which delegates to corresponding functions which can be specified for each <code>visit</code> method. If each function is optional (i.e. there is a reasonable default for each <code>visit</code> method), it will come handy if the application is interested in a small subset of the possible actions only or if it wants to treat most of them uniformly.</p>\n\n<p>If some of these use cases are regarded “typical”, there might be an <code>accept</code> method taking one or more functions creating the appropriate delegating visitor behind the scene (when designing new APIs or improving API under your control). I wouldn’t drop the ordinary <code>accept(XyzVisitor)</code>, however, as the option to use an existing implementation of a visitor should not be underestimated.</p>\n\n<p>There’s a similar choice of overloads in the <code>Stream</code> API, if we consider a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Collector.html\" rel=\"nofollow noreferrer\"><code>Collector</code></a> as a kind of visitor for a <code>Stream</code>. It consists of up to four functions, which is the maximum imaginable for visiting a flat, homogeneous sequence of items. Instead of having to implement that interface, you can initiate a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#reduce-java.util.function.BinaryOperator-\" rel=\"nofollow noreferrer\">reduction specifying a single function</a> or a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#collect-java.util.function.Supplier-java.util.function.BiConsumer-java.util.function.BiConsumer-\" rel=\"nofollow noreferrer\">mutable reduction using three functions</a> but there are common situations where <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#collect-java.util.stream.Collector-\" rel=\"nofollow noreferrer\">specifying an existing implementation</a> is more concise, like with <code>collect(Collectors.toList())</code> or <code>collect(Collectors.joining(\",\"))</code>, than specifying all necessary functions via lambda expressions/ method references.</p>\n\n<p>When adding such support to a particular application of the Visitor pattern, it will make the calling site more shiny while the implementation site of the particular <code>accept</code> methods always has been simple. So the only part which remains bulky is the visitor type itself; it may even become a bit more complicated when it is augmented with support for functional interface based operations. It is unlikely that there will be a language-based solution for either, simpler creation of such visitors or replacing this concept, in the near future.</p>\n"},{"tags":[],"owner":{"account_id":17107228,"reputation":36,"user_id":12378986,"display_name":"Flo Sailer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637847794,"creation_date":1637847794,"answer_id":70112160,"question_id":29090179,"body_markdown":"i would design it as following:\r\n\r\nEvery animals returns a Set&lt;AnimalAction&gt; because some animals may jump, swim and soar, others only jump, some others may jump and hop, and so on.\r\n\r\nAfter that you may stream over AnimalAction with a Visitor without knowing which AnimalAction it is.\r\n\r\nIf you also have an AnimalVisitor you may dependently switch AnimalActionVisitor then.","title":"Does Java 8 provide an alternative to the visitor pattern?","body":"<p>i would design it as following:</p>\n<p>Every animals returns a Set because some animals may jump, swim and soar, others only jump, some others may jump and hop, and so on.</p>\n<p>After that you may stream over AnimalAction with a Visitor without knowing which AnimalAction it is.</p>\n<p>If you also have an AnimalVisitor you may dependently switch AnimalActionVisitor then.</p>\n"}],"owner":{"account_id":200610,"reputation":52306,"user_id":446554,"accept_rate":73,"display_name":"Cory Klein"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10312,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":4,"score":15,"last_activity_date":1637847794,"creation_date":1426558157,"question_id":29090179,"body_markdown":"[This][1] popular answer on Stack Overflow has this to say about the difference between functional programming and object-oriented programming:\r\n\r\n&gt; Object-oriented languages are good when you have a fixed set of\r\n&gt; *operations* on *things*, and as your code evolves, you primarily add new\r\n&gt; things. This can be accomplished by adding new classes which implement\r\n&gt; existing methods, and the existing classes are left alone.\r\n&gt; \r\n&gt; Functional languages are good when you have a fixed set of *things*, and\r\n&gt; as your code evolves, you primarily add new *operations* on existing\r\n&gt; things. This can be accomplished by adding new functions which compute\r\n&gt; with existing data types, and the existing functions are left alone.\r\n\r\nSay I have an `Animal` interface:\r\n\r\n    public interface Animal {\r\n        public void speak();\r\n    }\r\n\r\nAnd I have a `Dog`, `Cat`, `Fish`, and `Bird` that all implement the interface. If I want to add a new method to `Animal` named `jump()`, I would have to go through all of my subclasses and implement `jump()`.\r\n\r\nThe visitor pattern can alleviate this problem, but it seems that with the new functional features introduced in Java 8 we should be able to solve this problem in a different manner. In `scala` I could easily just use pattern matching, but Java doesn&#39;t really have that yet.\r\n\r\nDoes Java 8 actually make it any easier to add new *operations* on existing things?\r\n\r\n  [1]: https://stackoverflow.com/questions/2078978/functional-programming-vs-object-oriented-programming/2079678#2079678","title":"Does Java 8 provide an alternative to the visitor pattern?","body":"<p><a href=\"https://stackoverflow.com/questions/2078978/functional-programming-vs-object-oriented-programming/2079678#2079678\">This</a> popular answer on Stack Overflow has this to say about the difference between functional programming and object-oriented programming:</p>\n\n<blockquote>\n  <p>Object-oriented languages are good when you have a fixed set of\n  <em>operations</em> on <em>things</em>, and as your code evolves, you primarily add new\n  things. This can be accomplished by adding new classes which implement\n  existing methods, and the existing classes are left alone.</p>\n  \n  <p>Functional languages are good when you have a fixed set of <em>things</em>, and\n  as your code evolves, you primarily add new <em>operations</em> on existing\n  things. This can be accomplished by adding new functions which compute\n  with existing data types, and the existing functions are left alone.</p>\n</blockquote>\n\n<p>Say I have an <code>Animal</code> interface:</p>\n\n<pre><code>public interface Animal {\n    public void speak();\n}\n</code></pre>\n\n<p>And I have a <code>Dog</code>, <code>Cat</code>, <code>Fish</code>, and <code>Bird</code> that all implement the interface. If I want to add a new method to <code>Animal</code> named <code>jump()</code>, I would have to go through all of my subclasses and implement <code>jump()</code>.</p>\n\n<p>The visitor pattern can alleviate this problem, but it seems that with the new functional features introduced in Java 8 we should be able to solve this problem in a different manner. In <code>scala</code> I could easily just use pattern matching, but Java doesn't really have that yet.</p>\n\n<p>Does Java 8 actually make it any easier to add new <em>operations</em> on existing things?</p>\n"},{"tags":["java","sql","sql-server","hibernate","azure-sql-database"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1636965521,"post_id":69971447,"comment_id":123689046,"body_markdown":"Mojibake - save as utf8?","body":"Mojibake - save as utf8?"},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":1,"creation_date":1636967386,"post_id":69971447,"comment_id":123689672,"body_markdown":"It sounds like you&#39;re trying to store it in a `varchar` column type that doesn&#39;t support the required collation. Please [Edit](https://stackoverflow.com/posts/69971447/edit) your question to include the table schema, including the column collation(s) - as text. If the column doesn&#39;t specify a particular collation, please also include the database&#39;s default collation.","body":"It sounds like you&#39;re trying to store it in a <code>varchar</code> column type that doesn&#39;t support the required collation. Please <a href=\"https://stackoverflow.com/posts/69971447/edit\">Edit</a> your question to include the table schema, including the column collation(s) - as text. If the column doesn&#39;t specify a particular collation, please also include the database&#39;s default collation."},{"owner":{"account_id":20264817,"reputation":56082,"user_id":14868997,"display_name":"Charlieface"},"score":0,"creation_date":1636985167,"post_id":69971447,"comment_id":123696387,"body_markdown":"How are you passing the value into SQL? Are you using parameters? If so are you passing those as `nvarchar`?","body":"How are you passing the value into SQL? Are you using parameters? If so are you passing those as <code>nvarchar</code>?"}],"owner":{"account_id":4932009,"reputation":33,"user_id":3971474,"display_name":"soubhagya senapati"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637847676,"creation_date":1636965335,"question_id":69971447,"body_markdown":"I am using Azure SQL (as database) with hibernate (as ORM) and Java as programming language, we have a address column which stores the address as a JSON, we are facing problem with storing special characters which are converted to  &quot; ??? &quot; (question mark)\r\n\r\nExample: &quot;Ω&quot; is being stored as &quot;?&quot;\r\n\r\nTha table :\r\n```tsql\r\nCREATE TABLE test.[order](.....\r\n.......\r\n[shipping_address] [nvarchar](max) NOT NULL\r\n  .......\r\n  .......\r\n  )\r\n```\r\nThanks in advance.\r\n---------------------------------------------------------------------\r\nThis was first issue which we could solve with Column type (Nvarchar) and data-type in hibernate as String. It works fine with SQL-Server in local but in UAT which is azure-sql , it doesn&#39;t work.Both have same collation : SQL_Latin1_General_CP1_CI_AS","title":"Azure SQL handling special characters","body":"<p>I am using Azure SQL (as database) with hibernate (as ORM) and Java as programming language, we have a address column which stores the address as a JSON, we are facing problem with storing special characters which are converted to  &quot; ??? &quot; (question mark)</p>\n<p>Example: &quot;Ω&quot; is being stored as &quot;?&quot;</p>\n<p>Tha table :</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE test.[order](.....\n.......\n[shipping_address] [nvarchar](max) NOT NULL\n  .......\n  .......\n  )\n</code></pre>\n<h2>Thanks in advance.</h2>\n<p>This was first issue which we could solve with Column type (Nvarchar) and data-type in hibernate as String. It works fine with SQL-Server in local but in UAT which is azure-sql , it doesn't work.Both have same collation : SQL_Latin1_General_CP1_CI_AS</p>\n"},{"tags":["java","android","switch-statement"],"comments":[{"owner":{"account_id":7931621,"reputation":1434,"user_id":5989261,"accept_rate":31,"display_name":"hasan_shaikh"},"score":1,"creation_date":1531747946,"post_id":51363008,"comment_id":89698238,"body_markdown":"You cannot use switch case for this. Better use if else","body":"You cannot use switch case for this. Better use if else"},{"owner":{"account_id":6913680,"reputation":418,"user_id":5308697,"display_name":"faran.javed"},"score":0,"creation_date":1531748020,"post_id":51363008,"comment_id":89698279,"body_markdown":"https://stackoverflow.com/questions/29541914/using-string-from-resource-xml-in-switch","body":"<a href=\"https://stackoverflow.com/questions/29541914/using-string-from-resource-xml-in-switch\" title=\"using string from resource xml in switch\">stackoverflow.com/questions/29541914/&hellip;</a>"},{"owner":{"account_id":5149168,"reputation":2290,"user_id":4124227,"accept_rate":60,"display_name":"Luca De Nardi"},"score":0,"creation_date":1531748102,"post_id":51363008,"comment_id":89698320,"body_markdown":"Wow, I was wondering if I was missing something, but it&#39;s indeed not possible then. Also thanks @faran.javed for the link, I searched with many search terms but still couldn&#39;t find that question.","body":"Wow, I was wondering if I was missing something, but it&#39;s indeed not possible then. Also thanks @faran.javed for the link, I searched with many search terms but still couldn&#39;t find that question."},{"owner":{"account_id":11715705,"reputation":1082,"user_id":8576293,"display_name":"salmanseifian"},"score":0,"creation_date":1531748733,"post_id":51363008,"comment_id":89698750,"body_markdown":"You can&#39;t do that, because `getString()` needs context and it finds its value after creating the activity or current context while `case` needs constant.","body":"You can&#39;t do that, because <code>getString()</code> needs context and it finds its value after creating the activity or current context while <code>case</code> needs constant."}],"answers":[{"tags":[],"owner":{"account_id":9280154,"reputation":57862,"user_id":6891563,"accept_rate":75,"display_name":"Khemraj Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531757646,"creation_date":1531748979,"answer_id":51363440,"question_id":51363008,"body_markdown":"It simply mean `switch` case allow only constant values.\r\n\r\n[Here is a good example][1] to show why switch only allow constants only.\r\n\r\nYou can use `if-else` statement for this purpose.\r\n\r\n\r\n  [1]: https://blogs.msdn.microsoft.com/abhinaba/2006/12/13/why-can-we-only-use-constants-in-a-switch-case-statement/","title":"switch case from string resource","body":"<p>It simply mean <code>switch</code> case allow only constant values.</p>\n\n<p><a href=\"https://blogs.msdn.microsoft.com/abhinaba/2006/12/13/why-can-we-only-use-constants-in-a-switch-case-statement/\" rel=\"nofollow noreferrer\">Here is a good example</a> to show why switch only allow constants only.</p>\n\n<p>You can use <code>if-else</code> statement for this purpose.</p>\n"},{"tags":[],"owner":{"account_id":10041506,"reputation":9,"user_id":7424149,"display_name":"Sugandh Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637847232,"creation_date":1637846915,"answer_id":70111962,"question_id":51363008,"body_markdown":"Instead of getting String from resource (string.xml) file.\r\nDefine that String in Constant.java class as below:- \r\n\r\n    public static final String DOWNLOAD_DOCUMENTS = &quot;com.android.providers.downloads.documents&quot;;\r\n\r\nand use that Constant field in switch block :- \r\n\r\n    switch(input) {\r\n       case DOWNLOAD_DOCUMENTS :\r\n        // your logic \r\n       break;\r\n    }\r\n\r\n","title":"switch case from string resource","body":"<p>Instead of getting String from resource (string.xml) file.\nDefine that String in Constant.java class as below:-</p>\n<pre><code>public static final String DOWNLOAD_DOCUMENTS = &quot;com.android.providers.downloads.documents&quot;;\n</code></pre>\n<p>and use that Constant field in switch block :-</p>\n<pre><code>switch(input) {\n   case DOWNLOAD_DOCUMENTS :\n    // your logic \n   break;\n}\n</code></pre>\n"}],"owner":{"account_id":5149168,"reputation":2290,"user_id":4124227,"accept_rate":60,"display_name":"Luca De Nardi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1016,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1637847232,"creation_date":1531747714,"question_id":51363008,"body_markdown":"I&#39;m getting started with an Android project and I encountered this issue.\r\n\r\nI&#39;m trying to create a switch where the cases are string got with\r\n    \r\n    case getString(R.string.myString): ...\r\n\r\nbut I&#39;m getting a\r\n\r\n    Constant expression required\r\n\r\nerror.\r\n\r\nI didn&#39;t want to create a cascade of if statements (this wouldn&#39;t require constant values, but it&#39;s less readable) so, is there a way to have a switch with strings taken from the strings.xml file?\r\n\r\n\r\nThank you for your help!\r\n","title":"switch case from string resource","body":"<p>I'm getting started with an Android project and I encountered this issue.</p>\n\n<p>I'm trying to create a switch where the cases are string got with</p>\n\n<pre><code>case getString(R.string.myString): ...\n</code></pre>\n\n<p>but I'm getting a</p>\n\n<pre><code>Constant expression required\n</code></pre>\n\n<p>error.</p>\n\n<p>I didn't want to create a cascade of if statements (this wouldn't require constant values, but it's less readable) so, is there a way to have a switch with strings taken from the strings.xml file?</p>\n\n<p>Thank you for your help!</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","many-to-many"],"comments":[{"owner":{"account_id":6349534,"reputation":2813,"user_id":4929038,"display_name":"kidney"},"score":0,"creation_date":1637766128,"post_id":70097123,"comment_id":123914381,"body_markdown":"I don&#39;t think what you want is possible. `@Transient` attributes are ignored by JPA, that&#39;s the purpose of the annotation. You would need to introduce a new entity representing the join table (which is a common practice as join tables often get more attributes over time). If that&#39;s not possible, you might use a custom DAO query to retrieve the corresponding `assumption_id` explicitly.","body":"I don&#39;t think what you want is possible. <code>@Transient</code> attributes are ignored by JPA, that&#39;s the purpose of the annotation. You would need to introduce a new entity representing the join table (which is a common practice as join tables often get more attributes over time). If that&#39;s not possible, you might use a custom DAO query to retrieve the corresponding <code>assumption_id</code> explicitly."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1637860888,"post_id":70097123,"comment_id":123944069,"body_markdown":"You can look at map keys: https://wiki.eclipse.org/EclipseLink/Examples/JPA/2.0/MapKeyColumns which allow the relational table to store more data than just the relationship, but otherwise, you might want to make the relation table an entity in its own right for an SectorAssumptionLinks entity, with ManyToOne relationships to SectorBean. This would allow you to map and use the assumptionIdStoredAtRuntime where and when you might need it.","body":"You can look at map keys: <a href=\"https://wiki.eclipse.org/EclipseLink/Examples/JPA/2.0/MapKeyColumns\" rel=\"nofollow noreferrer\">wiki.eclipse.org/EclipseLink/Examples/JPA/2.0/MapKeyColumns</a> which allow the relational table to store more data than just the relationship, but otherwise, you might want to make the relation table an entity in its own right for an SectorAssumptionLinks entity, with ManyToOne relationships to SectorBean. This would allow you to map and use the assumptionIdStoredAtRuntime where and when you might need it."}],"owner":{"account_id":23440461,"reputation":1,"user_id":17498028,"display_name":"user17498028"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637847050,"creation_date":1637761124,"question_id":70097123,"body_markdown":"I&#39;m reasonably new to JPA mappings. I feel like this should be possible but I&#39;m not sure how to do it.\r\n\r\nI&#39;m creating a ManyToMany mapping through a link table. This creates a list of SectorBean within a parent set. The link table contains a third unused column in the join. My question is if it&#39;s possible to store that column value as a transient variable in the SectorBean. \r\n\r\n**SectorSetBean:**\r\n```\r\n@ManyToMany\r\n@JoinTable(\r\n\t\tname = &quot;sectorassumptionlinks&quot;, \r\n\t\tjoinColumns = @JoinColumn(name = &quot;set_id&quot;),\r\n\t\tinverseJoinColumns = @JoinColumn(name = &quot;sectorid&quot;)\r\n\t\t)\r\n@OrderBy(value=&quot;sector&quot;)\r\nprotected List&lt;SectorBean&gt; sectors = new ArrayList&lt;&gt;(0);\r\n```\r\n\r\n**Join Table:**\r\n| set_id | assumptions_id | sectorid |\r\n|:------|:----:| --------:|\r\n| 567| 1891 | 333|\r\n\r\nSo in this instance the SectorSetBean uses the set_id and sectorid to create a List&lt;SectorBean&gt;\r\nAnd what I would like to have is something like:\r\n\r\n**SectorBean:**\r\n```\r\n@Entity \r\n@Table(name=&quot;sectors&quot;)\r\npublic class SectorBean implements java.io.Serializable {\r\n\r\n\t//In current example this would hold value 1891\r\n\t@Transient \r\n\tInteger assumptionIdStoredAtRuntime;\r\n}\r\n```\r\n\r\nI can&#39;t put the mapping I want (I don&#39;t think) into SectorBean because that doesn&#39;t have access to setId which is used to derive assumptions_id.\r\n\r\nThe setup of the beans and tables are legacy and I can&#39;t change the structure.\r\n\r\nDoes anyone know if this is possible or am I completely doing this wrong?","title":"Assigning value from link table in a JPA ManyToMany Mapping","body":"<p>I'm reasonably new to JPA mappings. I feel like this should be possible but I'm not sure how to do it.</p>\n<p>I'm creating a ManyToMany mapping through a link table. This creates a list of SectorBean within a parent set. The link table contains a third unused column in the join. My question is if it's possible to store that column value as a transient variable in the SectorBean.</p>\n<p><strong>SectorSetBean:</strong></p>\n<pre><code>@ManyToMany\n@JoinTable(\n        name = &quot;sectorassumptionlinks&quot;, \n        joinColumns = @JoinColumn(name = &quot;set_id&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;sectorid&quot;)\n        )\n@OrderBy(value=&quot;sector&quot;)\nprotected List&lt;SectorBean&gt; sectors = new ArrayList&lt;&gt;(0);\n</code></pre>\n<p><strong>Join Table:</strong>\n| set_id | assumptions_id | sectorid |\n|:------|:----:| --------:|\n| 567| 1891 | 333|</p>\n<p>So in this instance the SectorSetBean uses the set_id and sectorid to create a List\nAnd what I would like to have is something like:</p>\n<p><strong>SectorBean:</strong></p>\n<pre><code>@Entity \n@Table(name=&quot;sectors&quot;)\npublic class SectorBean implements java.io.Serializable {\n\n    //In current example this would hold value 1891\n    @Transient \n    Integer assumptionIdStoredAtRuntime;\n}\n</code></pre>\n<p>I can't put the mapping I want (I don't think) into SectorBean because that doesn't have access to setId which is used to derive assumptions_id.</p>\n<p>The setup of the beans and tables are legacy and I can't change the structure.</p>\n<p>Does anyone know if this is possible or am I completely doing this wrong?</p>\n"},{"tags":["java","mybatis","spring-mybatis"],"comments":[{"owner":{"account_id":3418957,"reputation":1176,"user_id":4029174,"accept_rate":100,"display_name":"bananas"},"score":1,"creation_date":1637827513,"post_id":70107620,"comment_id":123930859,"body_markdown":"isEmpty() should be gaurded by null check","body":"isEmpty() should be gaurded by null check"},{"owner":{"account_id":16149079,"reputation":493,"user_id":12898912,"display_name":"Maksym Rybalkin"},"score":0,"creation_date":1637827734,"post_id":70107620,"comment_id":123930928,"body_markdown":"@bananas I see, but my question is about producing a result of the request. I&#39;m trying to understand the framework&#39;s working","body":"@bananas I see, but my question is about producing a result of the request. I&#39;m trying to understand the framework&#39;s working"},{"owner":{"account_id":3418957,"reputation":1176,"user_id":4029174,"accept_rate":100,"display_name":"bananas"},"score":1,"creation_date":1637827853,"post_id":70107620,"comment_id":123930975,"body_markdown":"`I&#39;m trying to understand the framework&#39;s working` is another concern. Use docs","body":"<code>I&#39;m trying to understand the framework&#39;s working</code> is another concern. Use docs"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":1,"creation_date":1637827894,"post_id":70107620,"comment_id":123930987,"body_markdown":"I would recommend looking at `findByClientAndPartnerWithAutoRenewal` implementation","body":"I would recommend looking at <code>findByClientAndPartnerWithAutoRenewal</code> implementation"},{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":2,"creation_date":1637836257,"post_id":70107620,"comment_id":123934266,"body_markdown":"@МаксимРыбалкин MyBatis does not return `null` with that mapper. There must be something else (a plugin, for example) changing the result. Try setting a breakpoint on `org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(String, Object, RowBounds, ResultHandler)` and see what is going on.","body":"@МаксимРыбалкин MyBatis does not return <code>null</code> with that mapper. There must be something else (a plugin, for example) changing the result. Try setting a breakpoint on <code>org.apache.ibatis.session.defaults.DefaultSqlSession.selectL&zwnj;&#8203;ist(String, Object, RowBounds, ResultHandler)</code> and see what is going on."}],"answers":[{"tags":[],"owner":{"account_id":21132732,"reputation":46,"user_id":15536736,"display_name":"daihang"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637846888,"creation_date":1637827944,"answer_id":70107730,"question_id":70107620,"body_markdown":"Possible null pointer.\r\nRecommended use: \r\n```\r\nCollectionUtils.isEmpty(priceList)\r\n```","title":"MyBatis return both emptyList() and null","body":"<p>Possible null pointer.\nRecommended use:</p>\n<pre><code>CollectionUtils.isEmpty(priceList)\n</code></pre>\n"}],"owner":{"account_id":16149079,"reputation":493,"user_id":12898912,"display_name":"Maksym Rybalkin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1731,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70107730,"answer_count":1,"score":0,"last_activity_date":1637846888,"creation_date":1637827373,"question_id":70107620,"body_markdown":"Here is my myBatis request which should return a List:\r\n\r\n    @Mapper\r\n    public interface ClientAccessMapper {\r\n        List&lt;ClientAccess&gt; findByClientAndPartnerWithAutoRenewal(@Param(&quot;clientId&quot;) Long clientId,\r\n                                                                 @Param(&quot;partner&quot;) String partner,\r\n                                                                 @Param(&quot;autoRenewal&quot;) Boolean autoRenewal);\r\n    }\r\n\r\n    &lt;select id=&quot;findByClientAndPartnerWithAutoRenewal&quot; resultMap=&quot;ClientAccessResult&quot;&gt;\r\n            select * from client_access\r\n            where client_id = #{clientId}\r\n                and partner = #{partner}\r\n            &lt;if test=&quot;autoRenewal != null&quot;&gt;\r\n                and auto_renewal = #{autoRenewal}\r\n            &lt;/if&gt;\r\n            order by id\r\n        &lt;/select&gt;\r\nSometimes the request returns &quot;null&quot; instead of an empty List.\r\nAfter getting I have a checking block:\r\n\r\n    final List&lt;ClientAccess&gt; clientAccesses = clientAccessMapper.findByClientAndPartnerWithAutoRenewal(client, partner, true);\r\n            if (clientAccesses.isEmpty()) {/**/}\r\n\r\nand my `clientAccesses.isEmpty()` SOMETIMES produces NPE because of null instead of a List with size = 0.\r\nWhat can be a problem?","title":"MyBatis return both emptyList() and null","body":"<p>Here is my myBatis request which should return a List:</p>\n<pre><code>@Mapper\npublic interface ClientAccessMapper {\n    List&lt;ClientAccess&gt; findByClientAndPartnerWithAutoRenewal(@Param(&quot;clientId&quot;) Long clientId,\n                                                             @Param(&quot;partner&quot;) String partner,\n                                                             @Param(&quot;autoRenewal&quot;) Boolean autoRenewal);\n}\n\n&lt;select id=&quot;findByClientAndPartnerWithAutoRenewal&quot; resultMap=&quot;ClientAccessResult&quot;&gt;\n        select * from client_access\n        where client_id = #{clientId}\n            and partner = #{partner}\n        &lt;if test=&quot;autoRenewal != null&quot;&gt;\n            and auto_renewal = #{autoRenewal}\n        &lt;/if&gt;\n        order by id\n    &lt;/select&gt;\n</code></pre>\n<p>Sometimes the request returns &quot;null&quot; instead of an empty List.\nAfter getting I have a checking block:</p>\n<pre><code>final List&lt;ClientAccess&gt; clientAccesses = clientAccessMapper.findByClientAndPartnerWithAutoRenewal(client, partner, true);\n        if (clientAccesses.isEmpty()) {/**/}\n</code></pre>\n<p>and my <code>clientAccesses.isEmpty()</code> SOMETIMES produces NPE because of null instead of a List with size = 0.\nWhat can be a problem?</p>\n"},{"tags":["java","authentication"],"comments":[{"owner":{"account_id":15259,"reputation":23545,"user_id":32043,"accept_rate":98,"display_name":"guerda"},"score":4,"creation_date":1240921602,"post_id":797549,"comment_id":607770,"body_markdown":"I&#39;m afraid to misunderstand you, but I don&#39;t understand your question. Which login username? Windows/GNU Linux login? Basic authentication on a webserver?","body":"I&#39;m afraid to misunderstand you, but I don&#39;t understand your question. Which login username? Windows/GNU Linux login? Basic authentication on a webserver?"},{"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"score":0,"creation_date":1240922153,"post_id":797549,"comment_id":607801,"body_markdown":"It&#39;s impossible to understand anything when no details are posted","body":"It&#39;s impossible to understand anything when no details are posted"}],"answers":[{"tags":[],"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"down_vote_count":1,"up_vote_count":260,"is_accepted":true,"score":259,"last_activity_date":1637846785,"creation_date":1240920705,"answer_id":797569,"question_id":797549,"body_markdown":"    System.getProperty(&quot;user.name&quot;);","title":"Get login username in java","body":"<pre><code>System.getProperty(&quot;user.name&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":31622,"reputation":120341,"user_id":86989,"display_name":"newacct"},"down_vote_count":12,"up_vote_count":41,"is_accepted":false,"score":29,"last_activity_date":1240961705,"creation_date":1240961705,"answer_id":800283,"question_id":797549,"body_markdown":"in Unix:\r\n\r\n    new com.sun.security.auth.module.UnixSystem().getUsername()\r\n\r\nin Windows:\r\n\r\n    new com.sun.security.auth.module.NTSystem().getName()\r\n\r\nin Solaris:\r\n\r\n    new com.sun.security.auth.module.SolarisSystem().getUsername()\r\n","title":"Get login username in java","body":"<p>in Unix:</p>\n\n<pre><code>new com.sun.security.auth.module.UnixSystem().getUsername()\n</code></pre>\n\n<p>in Windows:</p>\n\n<pre><code>new com.sun.security.auth.module.NTSystem().getName()\n</code></pre>\n\n<p>in Solaris:</p>\n\n<pre><code>new com.sun.security.auth.module.SolarisSystem().getUsername()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":70403,"reputation":3173,"user_id":204195,"accept_rate":80,"display_name":"pdjota"},"down_vote_count":2,"up_vote_count":18,"is_accepted":false,"score":16,"last_activity_date":1266511696,"creation_date":1266511696,"answer_id":2290392,"question_id":797549,"body_markdown":"System.getProperty(&quot;user.name&quot;) is not a good security option since that environment variable could be faked:\r\nC:\\ set USERNAME=&quot;Joe Doe&quot;\r\njava ...\r\n// will give you System.getProperty(&quot;user.name&quot;) \r\nYou ought to do:\r\n\r\n    com.sun.security.auth.module.NTSystem NTSystem = new com.sun.security.auth.module.NTSystem();\r\n    System.out.println(NTSystem.getName());\r\n\r\nJDK 1.5 and greater.\r\n\r\nI use it within an applet, and it has to be signed.\r\n[info source][1]\r\n\r\n\r\n  [1]: http://www.rgagnon.com/javadetails/java-0048.html","title":"Get login username in java","body":"<p>System.getProperty(\"user.name\") is not a good security option since that environment variable could be faked:\nC:\\ set USERNAME=\"Joe Doe\"\njava ...\n// will give you System.getProperty(\"user.name\") \nYou ought to do:</p>\n\n<pre><code>com.sun.security.auth.module.NTSystem NTSystem = new com.sun.security.auth.module.NTSystem();\nSystem.out.println(NTSystem.getName());\n</code></pre>\n\n<p>JDK 1.5 and greater.</p>\n\n<p>I use it within an applet, and it has to be signed.\n<a href=\"http://www.rgagnon.com/javadetails/java-0048.html\" rel=\"noreferrer\">info source</a></p>\n"},{"tags":[],"owner":{"account_id":107102,"reputation":558,"user_id":284932,"accept_rate":69,"display_name":"celsowm"},"down_vote_count":2,"up_vote_count":19,"is_accepted":false,"score":17,"last_activity_date":1490382156,"creation_date":1401982658,"answer_id":24064448,"question_id":797549,"body_markdown":"inspired by **@newacct**&#39;s answer, a code that can be compiled in any platform:\r\n\r\n    String osName = System.getProperty( &quot;os.name&quot; ).toLowerCase();\r\n    String className = null;\r\n    String methodName = &quot;getUsername&quot;;\r\n    \r\n    if( osName.contains( &quot;windows&quot; ) ){\r\n        className = &quot;com.sun.security.auth.module.NTSystem&quot;;\r\n        methodName = &quot;getName&quot;;\r\n    }\r\n    else if( osName.contains( &quot;linux&quot; ) ){\r\n        className = &quot;com.sun.security.auth.module.UnixSystem&quot;;\r\n    }\r\n    else if( osName.contains( &quot;solaris&quot; ) || osName.contains( &quot;sunos&quot; ) ){\r\n        className = &quot;com.sun.security.auth.module.SolarisSystem&quot;;\r\n    }\r\n    \r\n    if( className != null ){\r\n        Class&lt;?&gt; c = Class.forName( className );\r\n        Method method = c.getDeclaredMethod( methodName );\r\n        Object o = c.newInstance();\r\n        System.out.println( method.invoke( o ) );\r\n    }","title":"Get login username in java","body":"<p>inspired by <strong>@newacct</strong>'s answer, a code that can be compiled in any platform:</p>\n\n<pre><code>String osName = System.getProperty( \"os.name\" ).toLowerCase();\nString className = null;\nString methodName = \"getUsername\";\n\nif( osName.contains( \"windows\" ) ){\n    className = \"com.sun.security.auth.module.NTSystem\";\n    methodName = \"getName\";\n}\nelse if( osName.contains( \"linux\" ) ){\n    className = \"com.sun.security.auth.module.UnixSystem\";\n}\nelse if( osName.contains( \"solaris\" ) || osName.contains( \"sunos\" ) ){\n    className = \"com.sun.security.auth.module.SolarisSystem\";\n}\n\nif( className != null ){\n    Class&lt;?&gt; c = Class.forName( className );\n    Method method = c.getDeclaredMethod( methodName );\n    Object o = c.newInstance();\n    System.out.println( method.invoke( o ) );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6390089,"reputation":186,"user_id":4956573,"display_name":"Newtoxton"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1433165406,"creation_date":1433165406,"answer_id":30574875,"question_id":797549,"body_markdown":"The *&#39;set Username=&quot;Username&quot; &#39;* is a temporary override that only exists as long as the cmd windows is still up, once it is killed off, the variable loses value. So i think the \r\n\r\n&gt; System.getProperty(&quot;user.name&quot;);\r\n\r\n is still a short and precise code to use.","title":"Get login username in java","body":"<p>The <em>'set Username=\"Username\" '</em> is a temporary override that only exists as long as the cmd windows is still up, once it is killed off, the variable loses value. So i think the </p>\n\n<blockquote>\n  <p>System.getProperty(\"user.name\");</p>\n</blockquote>\n\n<p>is still a short and precise code to use.</p>\n"},{"tags":[],"owner":{"account_id":6765853,"reputation":529,"user_id":5210884,"accept_rate":25,"display_name":"Dragos Roban"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1439302288,"creation_date":1439302288,"answer_id":31944162,"question_id":797549,"body_markdown":"`System.getenv().get(&quot;USERNAME&quot;);`\r\n - works on windows !\r\n\r\nIn environment properties you have the information you need about computer and host! I am saying again! Works on WINDOWS !","title":"Get login username in java","body":"<p><code>System.getenv().get(\"USERNAME\");</code>\n - works on windows !</p>\n\n<p>In environment properties you have the information you need about computer and host! I am saying again! Works on WINDOWS !</p>\n"},{"tags":[],"owner":{"account_id":1968948,"reputation":810,"user_id":1768467,"accept_rate":75,"display_name":"ANTARA"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1447862031,"creation_date":1447862031,"answer_id":33784572,"question_id":797549,"body_markdown":"Using JNA its simple:\r\n\r\n    String username = Advapi32Util.getUserName();\r\n    System.out.println(username);\r\n\r\n    Advapi32Util.Account account = Advapi32Util.getAccountByName(username);\r\n    System.out.println(account.accountType);\r\n    System.out.println(account.domain);\r\n    System.out.println(account.fqn);\r\n    System.out.println(account.name);\r\n    System.out.println(account.sidString);\r\n\r\nhttps://github.com/java-native-access/jna","title":"Get login username in java","body":"<p>Using JNA its simple:</p>\n\n<pre><code>String username = Advapi32Util.getUserName();\nSystem.out.println(username);\n\nAdvapi32Util.Account account = Advapi32Util.getAccountByName(username);\nSystem.out.println(account.accountType);\nSystem.out.println(account.domain);\nSystem.out.println(account.fqn);\nSystem.out.println(account.name);\nSystem.out.println(account.sidString);\n</code></pre>\n\n<p><a href=\"https://github.com/java-native-access/jna\" rel=\"noreferrer\">https://github.com/java-native-access/jna</a></p>\n"},{"tags":[],"owner":{"account_id":4398263,"reputation":3728,"user_id":3584693,"display_name":"Deepak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571057202,"creation_date":1571057202,"answer_id":58377173,"question_id":797549,"body_markdown":"Below is a solution for WINDOWS ONLY\r\n\r\nIn cases where the application (like Tomcat) is started as a windows service, the System.getProperty(&quot;user.name&quot;) or System.getenv().get(&quot;USERNAME&quot;) return the user who started the service and not the current logged in user name.\r\n\r\nAlso in Java 9 the NTSystem etc classes will not be accessible\r\n\r\nSo workaround for windows: You can use *wmic*, so you have to run the below command\r\n\r\n    wmic ComputerSystem get UserName\r\n\r\nIf available, this will return output of the form: \r\n\r\n    UserName\r\n    {domain}\\{logged-in-user-name}\r\n\r\nNote: For windows you need to use cmd /c as a prefix, so below is a crude program as an example:\r\n\r\n        Process exec = Runtime.getRuntime().exec(&quot;cmd /c wmic ComputerSystem get UserName&quot;.split(&quot; &quot;));\r\n        System.out.println(exec.waitFor());\r\n        try (BufferedReader bw = new BufferedReader(new InputStreamReader(exec.getInputStream()))) {\r\n            System.out.println(bw.readLine() + &quot;\\n&quot; + bw.readLine()+ &quot;\\n&quot; + bw.readLine());\r\n        }\r\n","title":"Get login username in java","body":"<p>Below is a solution for WINDOWS ONLY</p>\n\n<p>In cases where the application (like Tomcat) is started as a windows service, the System.getProperty(\"user.name\") or System.getenv().get(\"USERNAME\") return the user who started the service and not the current logged in user name.</p>\n\n<p>Also in Java 9 the NTSystem etc classes will not be accessible</p>\n\n<p>So workaround for windows: You can use <em>wmic</em>, so you have to run the below command</p>\n\n<pre><code>wmic ComputerSystem get UserName\n</code></pre>\n\n<p>If available, this will return output of the form: </p>\n\n<pre><code>UserName\n{domain}\\{logged-in-user-name}\n</code></pre>\n\n<p>Note: For windows you need to use cmd /c as a prefix, so below is a crude program as an example:</p>\n\n<pre><code>    Process exec = Runtime.getRuntime().exec(\"cmd /c wmic ComputerSystem get UserName\".split(\" \"));\n    System.out.println(exec.waitFor());\n    try (BufferedReader bw = new BufferedReader(new InputStreamReader(exec.getInputStream()))) {\n        System.out.println(bw.readLine() + \"\\n\" + bw.readLine()+ \"\\n\" + bw.readLine());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8588043,"reputation":419,"user_id":6433450,"display_name":"dheeraj kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609516664,"creation_date":1609516664,"answer_id":65531242,"question_id":797549,"body_markdown":"I tested in linux centos\r\n\r\n    Map&lt;String, String&gt; env = System.getenv();   \r\n    for (String envName : env.keySet()) { \r\n     System.out.format(&quot;%s=%s%n&quot;, envName, env.get(envName)); \r\n    }\r\n    \r\n    System.out.println(env.get(&quot;USERNAME&quot;)); \r\n\r\n","title":"Get login username in java","body":"<p>I tested in linux centos</p>\n<pre><code>Map&lt;String, String&gt; env = System.getenv();   \nfor (String envName : env.keySet()) { \n System.out.format(&quot;%s=%s%n&quot;, envName, env.get(envName)); \n}\n\nSystem.out.println(env.get(&quot;USERNAME&quot;)); \n</code></pre>\n"}],"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200753,"favorite_count":0,"down_vote_count":0,"up_vote_count":107,"accepted_answer_id":797569,"answer_count":9,"score":107,"last_activity_date":1637846785,"creation_date":1240920484,"question_id":797549,"body_markdown":"How can I get the username/login name in Java?\r\n\r\nThis is the code I have tried...\r\n\r\n    try{\r\n        LoginContext lc = new LoginContext(appName,new TextCallbackHandler());\r\n        lc.login();\r\n        Subject subject = lc.getSubject();\r\n        Principal principals[] = (Principal[])subject.getPrincipals().toArray(new Principal[0]);\r\n\r\n        for (int i=0; i&lt;principals.length; i++) {\r\n            if (principals[i] instanceof NTUserPrincipal || principals[i] instanceof UnixPrincipal) {\r\n                String loggedInUserName = principals[i].getName();\r\n            }\r\n        }\r\n    \t\t\t\r\n    }\r\n    catch(SecurityException se){\r\n        System.out.println(&quot;SecurityException: &quot; + se.getMessage());\r\n    }\r\n\r\nI get a `SecurityException` when I try to run this code. Could someone please tell me whether I&#39;m heading in the right direction, and help me to understand the problem.","title":"Get login username in java","body":"<p>How can I get the username/login name in Java?</p>\n\n<p>This is the code I have tried...</p>\n\n<pre><code>try{\n    LoginContext lc = new LoginContext(appName,new TextCallbackHandler());\n    lc.login();\n    Subject subject = lc.getSubject();\n    Principal principals[] = (Principal[])subject.getPrincipals().toArray(new Principal[0]);\n\n    for (int i=0; i&lt;principals.length; i++) {\n        if (principals[i] instanceof NTUserPrincipal || principals[i] instanceof UnixPrincipal) {\n            String loggedInUserName = principals[i].getName();\n        }\n    }\n\n}\ncatch(SecurityException se){\n    System.out.println(\"SecurityException: \" + se.getMessage());\n}\n</code></pre>\n\n<p>I get a <code>SecurityException</code> when I try to run this code. Could someone please tell me whether I'm heading in the right direction, and help me to understand the problem.</p>\n"},{"tags":["java","spring-mvc","jpa","spring-data","spring-data-jpa"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1404282067,"post_id":24520602,"comment_id":37972315,"body_markdown":"Can you post the code for `RoleRepository`?","body":"Can you post the code for <code>RoleRepository</code>?"},{"owner":{"account_id":3368179,"reputation":3257,"user_id":2828176,"accept_rate":83,"display_name":"Ferdous Wahid"},"score":2,"creation_date":1404304339,"post_id":24520602,"comment_id":37985225,"body_markdown":"RoleRepository posted...","body":"RoleRepository posted..."},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1404304617,"post_id":24520602,"comment_id":37985391,"body_markdown":"Thanks for that! I see you are using Spring Data JPA, but I don&#39;t see where you have configured it. Is there any Spring configuration that you haven&#39;t posted?","body":"Thanks for that! I see you are using Spring Data JPA, but I don&#39;t see where you have configured it. Is there any Spring configuration that you haven&#39;t posted?"},{"owner":{"account_id":6488768,"reputation":11,"user_id":5023484,"display_name":"Pranav Dixit"},"score":0,"creation_date":1523436245,"post_id":24520602,"comment_id":87863403,"body_markdown":"Changing bean id from &quot;emf&quot; to &quot;entityManagerFactory&quot; will solve the issue because Spring Data JPA looks for Bean named &#39;entityManagerFactory&#39; by default. But if you really want to bind any NON-DEFAULT named bean as the entity manager factor, answer given by &#39;geoand&#39; is the exact way with which you should change the things. Hope it help to clear the understanding as you have already resolved the issue :-)","body":"Changing bean id from &quot;emf&quot; to &quot;entityManagerFactory&quot; will solve the issue because Spring Data JPA looks for Bean named &#39;entityManagerFactory&#39; by default. But if you really want to bind any NON-DEFAULT named bean as the entity manager factor, answer given by &#39;geoand&#39; is the exact way with which you should change the things. Hope it help to clear the understanding as you have already resolved the issue :-)"},{"owner":{"account_id":2256125,"reputation":1387,"user_id":2172566,"display_name":"forresthopkinsa"},"score":3,"creation_date":1525131942,"post_id":24520602,"comment_id":87236526,"body_markdown":"I was able to solve this problem in my Mvc test classes by replacing `@WebMvcTest` with `@SpringBootTest` and `@AutoConfigureMockMvc`","body":"I was able to solve this problem in my Mvc test classes by replacing <code>@WebMvcTest</code> with <code>@SpringBootTest</code> and <code>@AutoConfigureMockMvc</code>"},{"owner":{"account_id":2075628,"reputation":621,"user_id":1849060,"accept_rate":48,"display_name":"user1849060"},"score":0,"creation_date":1674659000,"post_id":24520602,"comment_id":132761983,"body_markdown":"@forresthopkinsa I had the same error and your solution worked for me.","body":"@forresthopkinsa I had the same error and your solution worked for me."}],"answers":[{"tags":[],"owner":{"account_id":50535,"reputation":35297,"user_id":150771,"accept_rate":83,"display_name":"Chris Thompson"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1579294133,"creation_date":1404257847,"answer_id":24520760,"question_id":24520602,"body_markdown":"In your application context, change the bean with id from `emf` to `entityManagerFactory`:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;bean id=&quot;emf&quot;\r\n        class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;packagesToScan&quot; value=&quot;org.wahid.cse.entity&quot; /&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n    \r\n        &lt;property name=&quot;jpaProperties&quot;&gt;\r\n            &lt;props&gt;\r\n                &lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;create&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/prop&gt;\r\n            &lt;/props&gt;\r\n        &lt;/property&gt;\r\n    \r\n        &lt;property name=&quot;persistenceProvider&quot;&gt;\r\n            &lt;bean class=&quot;org.hibernate.jpa.HibernatePersistenceProvider&quot;&gt;&lt;/bean&gt;\r\n        &lt;/property&gt;\r\n    \r\n    &lt;/bean&gt;\r\n\r\nTo\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;bean id=&quot;entityManagerFactory&quot;\r\n        class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;packagesToScan&quot; value=&quot;org.wahid.cse.entity&quot; /&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n    \r\n        &lt;property name=&quot;jpaProperties&quot;&gt;\r\n            &lt;props&gt;\r\n                &lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;create&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/prop&gt;\r\n            &lt;/props&gt;\r\n        &lt;/property&gt;\r\n    \r\n        &lt;property name=&quot;persistenceProvider&quot;&gt;\r\n            &lt;bean class=&quot;org.hibernate.jpa.HibernatePersistenceProvider&quot;&gt;&lt;/bean&gt;\r\n        &lt;/property&gt;\r\n    \r\n    &lt;/bean&gt;","title":"Spring data jpa- No bean named &#39;entityManagerFactory&#39; is defined; Injection of autowired dependencies failed","body":"<p>In your application context, change the bean with id from <code>emf</code> to <code>entityManagerFactory</code>:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;bean id=\"emf\"\n    class=\"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean\"&gt;\n    &lt;property name=\"packagesToScan\" value=\"org.wahid.cse.entity\" /&gt;\n    &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n\n    &lt;property name=\"jpaProperties\"&gt;\n        &lt;props&gt;\n            &lt;prop key=\"hibernate.show_sql\"&gt;true&lt;/prop&gt;\n            &lt;prop key=\"hibernate.hbm2ddl.auto\"&gt;create&lt;/prop&gt;\n            &lt;prop key=\"hibernate.dialect\"&gt;org.hibernate.dialect.MySQLDialect&lt;/prop&gt;\n        &lt;/props&gt;\n    &lt;/property&gt;\n\n    &lt;property name=\"persistenceProvider\"&gt;\n        &lt;bean class=\"org.hibernate.jpa.HibernatePersistenceProvider\"&gt;&lt;/bean&gt;\n    &lt;/property&gt;\n\n&lt;/bean&gt;\n</code></pre>\n\n<p>To</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;bean id=\"entityManagerFactory\"\n    class=\"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean\"&gt;\n    &lt;property name=\"packagesToScan\" value=\"org.wahid.cse.entity\" /&gt;\n    &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n\n    &lt;property name=\"jpaProperties\"&gt;\n        &lt;props&gt;\n            &lt;prop key=\"hibernate.show_sql\"&gt;true&lt;/prop&gt;\n            &lt;prop key=\"hibernate.hbm2ddl.auto\"&gt;create&lt;/prop&gt;\n            &lt;prop key=\"hibernate.dialect\"&gt;org.hibernate.dialect.MySQLDialect&lt;/prop&gt;\n        &lt;/props&gt;\n    &lt;/property&gt;\n\n    &lt;property name=\"persistenceProvider\"&gt;\n        &lt;bean class=\"org.hibernate.jpa.HibernatePersistenceProvider\"&gt;&lt;/bean&gt;\n    &lt;/property&gt;\n\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"down_vote_count":0,"up_vote_count":105,"is_accepted":true,"score":105,"last_activity_date":1410236826,"creation_date":1404305099,"answer_id":24531432,"question_id":24520602,"body_markdown":"Spring Data JPA by default looks for an EntityManagerFactory named `entityManagerFactory`. Check out [this][1] part of the Javadoc of `EnableJpaRepositories` or `Table 2.1` of the Spring Data JPA [documentation][2].\r\n\r\nThat means that you either have to rename your `emf` bean to `entityManagerFactory` or change your Spring configuration to:\r\n\r\n\r\n    &lt;jpa:repositories base-package=&quot;your.package&quot; entity-manager-factory-ref=&quot;emf&quot; /&gt; \r\n\r\n(if you are using XML)\r\n\r\nor \r\n\r\n`@EnableJpaRepositories(basePackages=&quot;your.package&quot;, entityManagerFactoryRef=&quot;emf&quot;)` \r\n\r\n(if you are using Java Config)\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-data/jpa/docs/1.6.x/api/org/springframework/data/jpa/repository/config/EnableJpaRepositories.html#entityManagerFactoryRef%28%29\r\n  [2]: http://docs.spring.io/spring-data/jpa/docs/1.6.0.RELEASE/reference/html/jpa.repositories.html","title":"Spring data jpa- No bean named &#39;entityManagerFactory&#39; is defined; Injection of autowired dependencies failed","body":"<p>Spring Data JPA by default looks for an EntityManagerFactory named <code>entityManagerFactory</code>. Check out <a href=\"http://docs.spring.io/spring-data/jpa/docs/1.6.x/api/org/springframework/data/jpa/repository/config/EnableJpaRepositories.html#entityManagerFactoryRef%28%29\" rel=\"noreferrer\">this</a> part of the Javadoc of <code>EnableJpaRepositories</code> or <code>Table 2.1</code> of the Spring Data JPA <a href=\"http://docs.spring.io/spring-data/jpa/docs/1.6.0.RELEASE/reference/html/jpa.repositories.html\" rel=\"noreferrer\">documentation</a>.</p>\n\n<p>That means that you either have to rename your <code>emf</code> bean to <code>entityManagerFactory</code> or change your Spring configuration to:</p>\n\n<pre><code>&lt;jpa:repositories base-package=\"your.package\" entity-manager-factory-ref=\"emf\" /&gt; \n</code></pre>\n\n<p>(if you are using XML)</p>\n\n<p>or </p>\n\n<p><code>@EnableJpaRepositories(basePackages=\"your.package\", entityManagerFactoryRef=\"emf\")</code> </p>\n\n<p>(if you are using Java Config)</p>\n"},{"tags":[],"owner":{"account_id":10843746,"reputation":6105,"user_id":7974082,"display_name":"Michał Stochmal"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1528879873,"creation_date":1528879481,"answer_id":50832816,"question_id":24520602,"body_markdown":"I had this issue after migrating from `spring-boot-starter-data-jpa` ver. 1.5.7 to 2.0.2 (from old hibernate to hibernate 5.2). In my `@Configuration` class I injected `entityManagerFactory` and `transactionManager`.\r\n\r\n    //I&#39;ve got my data source defined in application.yml config file, \r\n    //so there is no need to configure it from java.\r\n    @Autowired\r\n\tDataSource dataSource;\r\n\r\n\t@Bean\r\n\tpublic LocalContainerEntityManagerFactoryBean entityManagerFactory() {\r\n        //JpaVendorAdapteradapter can be autowired as well if it&#39;s configured in application properties.\r\n\t\tHibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\r\n\t\tvendorAdapter.setGenerateDdl(false);\r\n\r\n\t\tLocalContainerEntityManagerFactoryBean factory = new LocalContainerEntityManagerFactoryBean();\r\n\t\tfactory.setJpaVendorAdapter(vendorAdapter);\r\n        //Add package to scan for entities.\r\n\t\tfactory.setPackagesToScan(&quot;com.company.domain&quot;);\r\n\t\tfactory.setDataSource(dataSource);\r\n\t\treturn factory;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic PlatformTransactionManager transactionManager(EntityManagerFactory entityManagerFactory) {\r\n\t\tJpaTransactionManager txManager = new JpaTransactionManager();\r\n\t\ttxManager.setEntityManagerFactory(entityManagerFactory);\r\n\t\treturn txManager;\r\n\t}\r\n\r\nAlso remember to add hibernate-entitymanager dependency to pom.xml otherwise EntityManagerFactory won&#39;t be found on classpath:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.0.12.Final&lt;/version&gt;\r\n\t&lt;/dependency&gt;","title":"Spring data jpa- No bean named &#39;entityManagerFactory&#39; is defined; Injection of autowired dependencies failed","body":"<p>I had this issue after migrating from <code>spring-boot-starter-data-jpa</code> ver. 1.5.7 to 2.0.2 (from old hibernate to hibernate 5.2). In my <code>@Configuration</code> class I injected <code>entityManagerFactory</code> and <code>transactionManager</code>.</p>\n\n<pre><code>//I've got my data source defined in application.yml config file, \n//so there is no need to configure it from java.\n@Autowired\nDataSource dataSource;\n\n@Bean\npublic LocalContainerEntityManagerFactoryBean entityManagerFactory() {\n    //JpaVendorAdapteradapter can be autowired as well if it's configured in application properties.\n    HibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\n    vendorAdapter.setGenerateDdl(false);\n\n    LocalContainerEntityManagerFactoryBean factory = new LocalContainerEntityManagerFactoryBean();\n    factory.setJpaVendorAdapter(vendorAdapter);\n    //Add package to scan for entities.\n    factory.setPackagesToScan(\"com.company.domain\");\n    factory.setDataSource(dataSource);\n    return factory;\n}\n\n@Bean\npublic PlatformTransactionManager transactionManager(EntityManagerFactory entityManagerFactory) {\n    JpaTransactionManager txManager = new JpaTransactionManager();\n    txManager.setEntityManagerFactory(entityManagerFactory);\n    return txManager;\n}\n</code></pre>\n\n<p>Also remember to add hibernate-entitymanager dependency to pom.xml otherwise EntityManagerFactory won't be found on classpath:</p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n        &lt;version&gt;5.0.12.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8920847,"reputation":490,"user_id":6657484,"display_name":"ayman.mostafa"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1637846701,"creation_date":1530451952,"answer_id":51123749,"question_id":24520602,"body_markdown":"I think this is related to the newer version of spring boot plus using spring data JPA.\r\nJust replace the `@Bean` annotation for `public LocalContainerEntityManagerFactoryBean entityManagerFactory()`\r\nto\r\n`@Bean(name=&quot;entityManagerFactory&quot;)`\r\n\r\nDetermining the name of bean should solve the issue.","title":"Spring data jpa- No bean named &#39;entityManagerFactory&#39; is defined; Injection of autowired dependencies failed","body":"<p>I think this is related to the newer version of spring boot plus using spring data JPA.\nJust replace the <code>@Bean</code> annotation for <code>public LocalContainerEntityManagerFactoryBean entityManagerFactory()</code>\nto\n<code>@Bean(name=&quot;entityManagerFactory&quot;)</code></p>\n<p>Determining the name of bean should solve the issue.</p>\n"},{"tags":[],"owner":{"account_id":6010979,"reputation":1,"user_id":4721457,"display_name":"Brownie Molina"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1537496650,"creation_date":1537496650,"answer_id":52435768,"question_id":24520602,"body_markdown":"I had the same problem and got it resolved by deleting .m2 maven repo (C:\\Users\\user\\ .m2)","title":"Spring data jpa- No bean named &#39;entityManagerFactory&#39; is defined; Injection of autowired dependencies failed","body":"<p>I had the same problem and got it resolved by deleting .m2 maven repo (C:\\Users\\user\\ .m2)</p>\n"},{"tags":[],"owner":{"account_id":7020571,"reputation":947,"user_id":5380105,"accept_rate":60,"display_name":"Fima Taf"},"down_vote_count":2,"up_vote_count":19,"is_accepted":false,"score":17,"last_activity_date":1538832616,"creation_date":1538832616,"answer_id":52679560,"question_id":24520602,"body_markdown":"Had this issue when migrated spring boot 1.5.2 to 2.0.4.\r\nInstead of creating bean I&#39;ve used `@EnableAutoConfiguration` in the main class and it solved my problem.","title":"Spring data jpa- No bean named &#39;entityManagerFactory&#39; is defined; Injection of autowired dependencies failed","body":"<p>Had this issue when migrated spring boot 1.5.2 to 2.0.4.\nInstead of creating bean I've used <code>@EnableAutoConfiguration</code> in the main class and it solved my problem.</p>\n"},{"tags":[],"owner":{"account_id":13595500,"reputation":51,"user_id":9876978,"display_name":"Zain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543931775,"creation_date":1543931775,"answer_id":53614557,"question_id":24520602,"body_markdown":"In my specific case I seemed to have been missing the dependency  \r\n\r\n     &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-jdbc --&gt;\r\n     &lt;dependency&gt;\r\n       &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n       &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n       &lt;version&gt;5.1.3.RELEASE&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n","title":"Spring data jpa- No bean named &#39;entityManagerFactory&#39; is defined; Injection of autowired dependencies failed","body":"<p>In my specific case I seemed to have been missing the dependency  </p>\n\n<pre><code> &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-jdbc --&gt;\n &lt;dependency&gt;\n   &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n   &lt;version&gt;5.1.3.RELEASE&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10680554,"reputation":798,"user_id":7862778,"display_name":"Srikanth Josyula"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566710053,"creation_date":1566710053,"answer_id":57643432,"question_id":24520602,"body_markdown":"just updated the springboot version to 2.1.3 and it worked of me ","title":"Spring data jpa- No bean named &#39;entityManagerFactory&#39; is defined; Injection of autowired dependencies failed","body":"<p>just updated the springboot version to 2.1.3 and it worked of me </p>\n"},{"tags":[],"owner":{"account_id":16267044,"reputation":715,"user_id":11746772,"display_name":"LaCodeM"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1621929173,"creation_date":1621929173,"answer_id":67683824,"question_id":24520602,"body_markdown":"It might help somebody.\r\nFor me none of the above solutions worked so I went into the folder where my project is situated deleted .idea folder, imported my project again and run - `mvn clean install.`\r\nAfter this everything worked fine.\r\nI am using IntellJ.","title":"Spring data jpa- No bean named &#39;entityManagerFactory&#39; is defined; Injection of autowired dependencies failed","body":"<p>It might help somebody.\nFor me none of the above solutions worked so I went into the folder where my project is situated deleted .idea folder, imported my project again and run - <code>mvn clean install.</code>\nAfter this everything worked fine.\nI am using IntellJ.</p>\n"}],"owner":{"account_id":3368179,"reputation":3257,"user_id":2828176,"accept_rate":83,"display_name":"Ferdous Wahid"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205397,"favorite_count":0,"down_vote_count":0,"up_vote_count":83,"accepted_answer_id":24531432,"answer_count":9,"score":83,"last_activity_date":1637846701,"creation_date":1404256601,"question_id":24520602,"body_markdown":"I&#39;m developing application using spring data jpa,hibernate,mysql,tomcat7,maven and it&#39;s create error.I&#39;m  trying to figure it out but i failed. \r\n\r\nerror are  Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument; No bean named &#39;entityManagerFactory&#39; is defined; Injection of autowired dependencies failed \r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;initDbService&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.wahid.cse.repository.RoleRepository org.wahid.cse.service.InitDbService.roleRepository; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;roleRepository&#39;: Cannot create inner bean &#39;(inner bean)#c08f81&#39; of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property &#39;entityManager&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#c08f81&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;entityManagerFactory&#39; is defined\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:292)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1185)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:537)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:475)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:304)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:195)\r\n\t\r\n\r\n     Caused by: org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.wahid.cse.repository.RoleRepository org.wahid.cse.service.InitDbService.roleRepository; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;roleRepository&#39;: Cannot create inner bean &#39;(inner bean)#c08f81&#39; of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property &#39;entityManager&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#c08f81&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;entityManagerFactory&#39; is defined\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:508)\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:87)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:289)\r\n\t... 22 more\r\n\r\n     Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;roleRepository&#39;: Cannot create inner bean &#39;(inner bean)#c08f81&#39; of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property &#39;entityManager&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#c08f81&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;entityManagerFactory&#39; is defined\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:290)\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:129)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1456)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1197)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:480)\r\n\t... 24 more\r\n\r\n    \r\n\r\n\r\nhere is my ApplicationContext.xml file\r\n--------------------------------------\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n\txmlns:jdbc=&quot;http://www.springframework.org/schema/jdbc&quot;\r\n\txmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n\txmlns:jpa=&quot;http://www.springframework.org/schema/data/jpa&quot;\r\n\txsi:schemaLocation=&quot;http://www.springframework.org/schema/jdbc http://www.springframework.org/schema/jdbc/spring-jdbc-4.0.xsd\r\n\t\thttp://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n\t\thttp://www.springframework.org/schema/data/jpa http://www.springframework.org/schema/data/jpa/spring-jpa-1.3.xsd\r\n\t\thttp://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.0.xsd\r\n\t\thttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.0.xsd&quot;&gt;\r\n\r\n\t&lt;context:component-scan base-package=&quot;org.wahid.cse&quot;&gt;\r\n\t\t&lt;context:exclude-filter type=&quot;annotation&quot;\r\n\t\t\texpression=&quot;org.springframework.stereotype.Controller&quot; /&gt;\r\n\t&lt;/context:component-scan&gt;\r\n\r\n\t&lt;bean id=&quot;dataSource&quot; class=&quot;org.apache.commons.dbcp2.BasicDataSource&quot;\r\n\t\tdestroy-method=&quot;close&quot;&gt;\r\n\t\t&lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot; /&gt;\r\n\t\t&lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/jba&quot; /&gt;\r\n\t\t&lt;property name=&quot;username&quot; value=&quot;root&quot; /&gt;\r\n\t\t&lt;property name=&quot;password&quot; value=&quot;&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\t&lt;bean id=&quot;emf&quot;\r\n\t\tclass=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\r\n\t\t&lt;property name=&quot;packagesToScan&quot; value=&quot;org.wahid.cse.entity&quot; /&gt;\r\n\t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n\t\t\r\n\t\t&lt;property name=&quot;jpaProperties&quot;&gt;\r\n\t\t\t&lt;props&gt;\r\n\t\t\t\t&lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt;\r\n\t\t\t\t&lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;create&lt;/prop&gt;\r\n\t\t\t\t&lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/prop&gt;\r\n\t\t\t&lt;/props&gt;\r\n\t\t&lt;/property&gt;\r\n\t\t\r\n\t\t&lt;property name=&quot;persistenceProvider&quot;&gt;\r\n\t\t\t&lt;bean class=&quot;org.hibernate.jpa.HibernatePersistenceProvider&quot;&gt;&lt;/bean&gt;\r\n\t\t&lt;/property&gt;\r\n\t\t\r\n\t&lt;/bean&gt;\r\n\t&lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot; /&gt;\r\n\r\n\t&lt;bean class=&quot;org.springframework.orm.jpa.JpaTransactionManager&quot;\r\n\t\tid=&quot;transactionManager&quot;&gt;\r\n\t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n&lt;jpa:repositories base-package=&quot;org.wahid.cse.repository&quot;&gt;&lt;/jpa:repositories&gt;\r\n\r\n&lt;/beans&gt;\r\n\r\nHere is pom.xml\r\n---------------\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;org.ferdous.wahid&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;java-blog-aggregator&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n\r\n\t&lt;!-- Shared version number properties --&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;org.springframework.version&gt;4.0.5.RELEASE&lt;/org.springframework.version&gt;\r\n\t\t&lt;apache.tiles&gt;3.0.4&lt;/apache.tiles&gt;\r\n\t\t&lt;servlet-api-version&gt;3.1.0&lt;/servlet-api-version&gt;\r\n\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-dbcp2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.1.31&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.1.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.3.5.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${servlet-api-version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;!-- &lt;dependency&gt; &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt; &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt; \r\n\t\t\t&lt;version&gt;2.2.1&lt;/version&gt; &lt;/dependency&gt; --&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jstl&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tiles-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${apache.tiles}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tiles-jsp&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${apache.tiles}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;!-- Core utilities used by other modules. Define this if you use Spring \r\n\t\t\tUtility APIs (org.springframework.core.*/org.springframework.util.*) --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Expression Language (depends on spring-core) Define this if you use \r\n\t\t\tSpring Expression APIs (org.springframework.expression.*) --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-expression&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Bean Factory and JavaBeans utilities (depends on spring-core) Define \r\n\t\t\tthis if you use Spring Bean APIs (org.springframework.beans.*) --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Aspect Oriented Programming (AOP) Framework (depends on spring-core, \r\n\t\t\tspring-beans) Define this if you use Spring AOP APIs (org.springframework.aop.*) --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Application Context (depends on spring-core, spring-expression, spring-aop, \r\n\t\t\tspring-beans) This is the central artifact for Spring&#39;s Dependency Injection \r\n\t\t\tContainer and is generally always defined --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Various Application Context utilities, including EhCache, JavaMail, \r\n\t\t\tQuartz, and Freemarker integration Define this if you need any of these integrations --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Transaction Management Abstraction (depends on spring-core, spring-beans, \r\n\t\t\tspring-aop, spring-context) Define this if you use Spring Transactions or \r\n\t\t\tDAO Exception Hierarchy (org.springframework.transaction.*/org.springframework.dao.*) --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- JDBC Data Access Library (depends on spring-core, spring-beans, spring-context, \r\n\t\t\tspring-tx) Define this if you use Spring&#39;s JdbcTemplate API (org.springframework.jdbc.*) --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Object-to-Relation-Mapping (ORM) integration with Hibernate, JPA, \r\n\t\t\tand iBatis. (depends on spring-core, spring-beans, spring-context, spring-tx) \r\n\t\t\tDefine this if you need ORM (org.springframework.orm.*) --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Object-to-XML Mapping (OXM) abstraction and integration with JAXB, \r\n\t\t\tJiBX, Castor, XStream, and XML Beans. (depends on spring-core, spring-beans, \r\n\t\t\tspring-context) Define this if you need OXM (org.springframework.oxm.*) --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-oxm&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Web application development utilities applicable to both Servlet and \r\n\t\t\tPortlet Environments (depends on spring-core, spring-beans, spring-context) \r\n\t\t\tDefine this if you use Spring MVC, or wish to use Struts, JSF, or another \r\n\t\t\tweb framework with Spring (org.springframework.web.*) --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Spring MVC for Servlet Environments (depends on spring-core, spring-beans, \r\n\t\t\tspring-context, spring-web) Define this if you use Spring MVC with a Servlet \r\n\t\t\tContainer such as Apache Tomcat (org.springframework.web.servlet.*) --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Spring MVC for Portlet Environments (depends on spring-core, spring-beans, \r\n\t\t\tspring-context, spring-web) Define this if you use Spring MVC with a Portlet \r\n\t\t\tContainer (org.springframework.web.portlet.*) --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-webmvc-portlet&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Support for testing Spring applications with tools such as JUnit and \r\n\t\t\tTestNG This artifact is generally always defined with a &#39;test&#39; scope for \r\n\t\t\tthe integration testing framework and unit testing stubs --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.2&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.7&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.7&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n\r\n\r\nRoleRepository is\r\n\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.wahid.cse.entity.Role;\r\n\r\n     public interface RoleRepository extends JpaRepository&lt;Role, Integer&gt;{\r\n\r\n     }","title":"Spring data jpa- No bean named &#39;entityManagerFactory&#39; is defined; Injection of autowired dependencies failed","body":"<p>I'm developing application using spring data jpa,hibernate,mysql,tomcat7,maven and it's create error.I'm  trying to figure it out but i failed. </p>\n\n<p>error are  Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; No bean named 'entityManagerFactory' is defined; Injection of autowired dependencies failed </p>\n\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'initDbService': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.wahid.cse.repository.RoleRepository org.wahid.cse.service.InitDbService.roleRepository; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'roleRepository': Cannot create inner bean '(inner bean)#c08f81' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#c08f81': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'entityManagerFactory' is defined\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:292)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1185)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:537)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:475)\nat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:304)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:195)\n\n\n Caused by: org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.wahid.cse.repository.RoleRepository org.wahid.cse.service.InitDbService.roleRepository; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'roleRepository': Cannot create inner bean '(inner bean)#c08f81' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#c08f81': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'entityManagerFactory' is defined\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:508)\nat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:87)\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:289)\n... 22 more\n\n Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'roleRepository': Cannot create inner bean '(inner bean)#c08f81' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#c08f81': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'entityManagerFactory' is defined\nat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:290)\nat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:129)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1456)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1197)\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:480)\n... 24 more\n</code></pre>\n\n<h2>here is my ApplicationContext.xml file</h2>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxmlns:context=\"http://www.springframework.org/schema/context\"\nxmlns:jdbc=\"http://www.springframework.org/schema/jdbc\"\nxmlns:tx=\"http://www.springframework.org/schema/tx\"\nxmlns:jpa=\"http://www.springframework.org/schema/data/jpa\"\nxsi:schemaLocation=\"http://www.springframework.org/schema/jdbc http://www.springframework.org/schema/jdbc/spring-jdbc-4.0.xsd\n    http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n    http://www.springframework.org/schema/data/jpa http://www.springframework.org/schema/data/jpa/spring-jpa-1.3.xsd\n    http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.0.xsd\n    http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.0.xsd\"&gt;\n\n&lt;context:component-scan base-package=\"org.wahid.cse\"&gt;\n    &lt;context:exclude-filter type=\"annotation\"\n        expression=\"org.springframework.stereotype.Controller\" /&gt;\n&lt;/context:component-scan&gt;\n\n&lt;bean id=\"dataSource\" class=\"org.apache.commons.dbcp2.BasicDataSource\"\n    destroy-method=\"close\"&gt;\n    &lt;property name=\"driverClassName\" value=\"com.mysql.jdbc.Driver\" /&gt;\n    &lt;property name=\"url\" value=\"jdbc:mysql://localhost:3306/jba\" /&gt;\n    &lt;property name=\"username\" value=\"root\" /&gt;\n    &lt;property name=\"password\" value=\"\" /&gt;\n&lt;/bean&gt;\n&lt;bean id=\"emf\"\n    class=\"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean\"&gt;\n    &lt;property name=\"packagesToScan\" value=\"org.wahid.cse.entity\" /&gt;\n    &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n\n    &lt;property name=\"jpaProperties\"&gt;\n        &lt;props&gt;\n            &lt;prop key=\"hibernate.show_sql\"&gt;true&lt;/prop&gt;\n            &lt;prop key=\"hibernate.hbm2ddl.auto\"&gt;create&lt;/prop&gt;\n            &lt;prop key=\"hibernate.dialect\"&gt;org.hibernate.dialect.MySQLDialect&lt;/prop&gt;\n        &lt;/props&gt;\n    &lt;/property&gt;\n\n    &lt;property name=\"persistenceProvider\"&gt;\n        &lt;bean class=\"org.hibernate.jpa.HibernatePersistenceProvider\"&gt;&lt;/bean&gt;\n    &lt;/property&gt;\n\n&lt;/bean&gt;\n&lt;tx:annotation-driven transaction-manager=\"transactionManager\" /&gt;\n\n&lt;bean class=\"org.springframework.orm.jpa.JpaTransactionManager\"\n    id=\"transactionManager\"&gt;\n    &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p></p>\n\n<p></p>\n\n<h2>Here is pom.xml</h2>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;org.ferdous.wahid&lt;/groupId&gt;\n&lt;artifactId&gt;java-blog-aggregator&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n\n\n&lt;!-- Shared version number properties --&gt;\n&lt;properties&gt;\n    &lt;org.springframework.version&gt;4.0.5.RELEASE&lt;/org.springframework.version&gt;\n    &lt;apache.tiles&gt;3.0.4&lt;/apache.tiles&gt;\n    &lt;servlet-api-version&gt;3.1.0&lt;/servlet-api-version&gt;\n\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-dbcp2&lt;/artifactId&gt;\n        &lt;version&gt;2.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;5.1.31&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n        &lt;version&gt;1.6.1.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n        &lt;version&gt;4.3.5.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;${servlet-api-version}&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;!-- &lt;dependency&gt; &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt; &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt; \n        &lt;version&gt;2.2.1&lt;/version&gt; &lt;/dependency&gt; --&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;jstl&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\n        &lt;artifactId&gt;tiles-core&lt;/artifactId&gt;\n        &lt;version&gt;${apache.tiles}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\n        &lt;artifactId&gt;tiles-jsp&lt;/artifactId&gt;\n        &lt;version&gt;${apache.tiles}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n        &lt;version&gt;1.7.7&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;!-- Core utilities used by other modules. Define this if you use Spring \n        Utility APIs (org.springframework.core.*/org.springframework.util.*) --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Expression Language (depends on spring-core) Define this if you use \n        Spring Expression APIs (org.springframework.expression.*) --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-expression&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Bean Factory and JavaBeans utilities (depends on spring-core) Define \n        this if you use Spring Bean APIs (org.springframework.beans.*) --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Aspect Oriented Programming (AOP) Framework (depends on spring-core, \n        spring-beans) Define this if you use Spring AOP APIs (org.springframework.aop.*) --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Application Context (depends on spring-core, spring-expression, spring-aop, \n        spring-beans) This is the central artifact for Spring's Dependency Injection \n        Container and is generally always defined --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Various Application Context utilities, including EhCache, JavaMail, \n        Quartz, and Freemarker integration Define this if you need any of these integrations --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Transaction Management Abstraction (depends on spring-core, spring-beans, \n        spring-aop, spring-context) Define this if you use Spring Transactions or \n        DAO Exception Hierarchy (org.springframework.transaction.*/org.springframework.dao.*) --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- JDBC Data Access Library (depends on spring-core, spring-beans, spring-context, \n        spring-tx) Define this if you use Spring's JdbcTemplate API (org.springframework.jdbc.*) --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Object-to-Relation-Mapping (ORM) integration with Hibernate, JPA, \n        and iBatis. (depends on spring-core, spring-beans, spring-context, spring-tx) \n        Define this if you need ORM (org.springframework.orm.*) --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Object-to-XML Mapping (OXM) abstraction and integration with JAXB, \n        JiBX, Castor, XStream, and XML Beans. (depends on spring-core, spring-beans, \n        spring-context) Define this if you need OXM (org.springframework.oxm.*) --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-oxm&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Web application development utilities applicable to both Servlet and \n        Portlet Environments (depends on spring-core, spring-beans, spring-context) \n        Define this if you use Spring MVC, or wish to use Struts, JSF, or another \n        web framework with Spring (org.springframework.web.*) --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Spring MVC for Servlet Environments (depends on spring-core, spring-beans, \n        spring-context, spring-web) Define this if you use Spring MVC with a Servlet \n        Container such as Apache Tomcat (org.springframework.web.servlet.*) --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Spring MVC for Portlet Environments (depends on spring-core, spring-beans, \n        spring-context, spring-web) Define this if you use Spring MVC with a Portlet \n        Container (org.springframework.web.portlet.*) --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webmvc-portlet&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Support for testing Spring applications with tools such as JUnit and \n        TestNG This artifact is generally always defined with a 'test' scope for \n        the integration testing framework and unit testing stubs --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.7&lt;/source&gt;\n                &lt;target&gt;1.7&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p></p>\n\n<p>RoleRepository is</p>\n\n<pre><code>import org.springframework.data.jpa.repository.JpaRepository;\nimport org.wahid.cse.entity.Role;\n\n public interface RoleRepository extends JpaRepository&lt;Role, Integer&gt;{\n\n }\n</code></pre>\n"},{"tags":["java","android","android-studio","android-activity","dagger-hilt"],"comments":[{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":0,"creation_date":1622567815,"post_id":67792967,"comment_id":119827334,"body_markdown":"You are returning `MyFirstHelperClass` instead of `MySecondHelperClass`","body":"You are returning <code>MyFirstHelperClass</code> instead of <code>MySecondHelperClass</code>"},{"owner":{"account_id":4898014,"reputation":7936,"user_id":3946958,"accept_rate":72,"display_name":"Ravindra Kushwaha"},"score":0,"creation_date":1622569383,"post_id":67792967,"comment_id":119827911,"body_markdown":"Actually from my SecondClassHelper I want my dependency injection of FirtClassHelper and want to access the dtaa of it","body":"Actually from my SecondClassHelper I want my dependency injection of FirtClassHelper and want to access the dtaa of it"},{"owner":{"account_id":9908139,"reputation":312,"user_id":7335974,"display_name":"SerialSensor"},"score":0,"creation_date":1622571245,"post_id":67792967,"comment_id":119828612,"body_markdown":"Is `MyFirstHelperClass ` not owned by you, so do you really need that Module-class?","body":"Is <code>MyFirstHelperClass </code> not owned by you, so do you really need that Module-class?"}],"answers":[{"tags":[],"owner":{"account_id":9908139,"reputation":312,"user_id":7335974,"display_name":"SerialSensor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637846683,"creation_date":1622571657,"answer_id":67794142,"question_id":67792967,"body_markdown":"You missed the @Named anntotion in your second Helper:\r\n\r\n    public class MySecondHelperClass {\r\n\r\n       @EntryPoint\r\n       @InstallIn(SingletonComponent.class)\r\n       interface DeviceDiagnosticHelperEntryPoint {\r\n           @Named(&quot;MyHelperClass&quot;)\r\n           MyFirstHelperClass provideMyFirstHelperClass();\r\n       }\r\n\r\n       public void getSecondaryDataFromHelper(Context mContext) {\r\n\r\n           Context appContext = mContext.getApplicationContext();\r\n           DeviceDiagnosticHelperEntryPoint hiltEntryPoint =\r\n                   EntryPointAccessors.fromApplication(appContext,\r\n                           DeviceDiagnosticHelperEntryPoint.class);\r\n           MyFirstHelperClass myFirstHelperClass =\r\n                   hiltEntryPoint.provideMyFirstHelperClass();\r\n\r\n           System.out.println(&quot;HERE WE CAN USE==&gt;&gt;&gt;&gt; &quot; + \r\n           myFirstHelperClass.getStringData());\r\n       }\r\n    }\r\n\r\nSecond option is to annotate the `MyFirstHelperClass`&#39;s constructor with inject and remove the Module class completely (if `MyFirstHelperClass` is yours)","title":"Android || Inject dependencies in classes not supported by Hilt like Helper class","body":"<p>You missed the @Named anntotion in your second Helper:</p>\n<pre><code>public class MySecondHelperClass {\n\n   @EntryPoint\n   @InstallIn(SingletonComponent.class)\n   interface DeviceDiagnosticHelperEntryPoint {\n       @Named(&quot;MyHelperClass&quot;)\n       MyFirstHelperClass provideMyFirstHelperClass();\n   }\n\n   public void getSecondaryDataFromHelper(Context mContext) {\n\n       Context appContext = mContext.getApplicationContext();\n       DeviceDiagnosticHelperEntryPoint hiltEntryPoint =\n               EntryPointAccessors.fromApplication(appContext,\n                       DeviceDiagnosticHelperEntryPoint.class);\n       MyFirstHelperClass myFirstHelperClass =\n               hiltEntryPoint.provideMyFirstHelperClass();\n\n       System.out.println(&quot;HERE WE CAN USE==&gt;&gt;&gt;&gt; &quot; + \n       myFirstHelperClass.getStringData());\n   }\n}\n</code></pre>\n<p>Second option is to annotate the <code>MyFirstHelperClass</code>'s constructor with inject and remove the Module class completely (if <code>MyFirstHelperClass</code> is yours)</p>\n"}],"owner":{"account_id":4898014,"reputation":7936,"user_id":3946958,"accept_rate":72,"display_name":"Ravindra Kushwaha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2180,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":67794142,"answer_count":1,"score":1,"last_activity_date":1637846683,"creation_date":1622566325,"question_id":67792967,"body_markdown":"I am using the Hilt in my application, I am successfully injecting the dependency in the Activity class and getting the desired result, But not able to injecting the dependency in other classes like the helper class.\r\n\r\nPlease check the below code which I have tried like below the **MainActivity** class\r\n  \r\n\r\n     \r\n    package com.inn.hiltdemo;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.os.Bundle;\r\n    \r\n    import com.inn.hiltdemo.hilt.MyFirstHelperClass;\r\n    \r\n    import javax.inject.Inject;\r\n    import javax.inject.Named;\r\n    \r\n    import dagger.hilt.android.AndroidEntryPoint;\r\n    \r\n    @AndroidEntryPoint\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n    \r\n        @Inject\r\n        @Named(&quot;MyHelperClass&quot;)\r\n        MyFirstHelperClass myFirstHelperClass;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            ////IT IS RUNNING SUCCESSFULLY\r\n            System.out.println(&quot;HERE IS THE HELPER CLASS DATA==&gt;&gt;&gt;&gt; &quot;+ myFirstHelperClass.getStringData());\r\n    \r\n    \r\n            MySecondHelperClass mySecondHelperClass = new MySecondHelperClass();\r\n            mySecondHelperClass.getSecondaryDataFromHelper(this);\r\n    \r\n        }\r\n    }\r\nMy **MyModule** class\r\n\r\n    package com.inn.hiltdemo.hilt\r\n    \r\n    import dagger.Module\r\n    import dagger.Provides\r\n    import dagger.hilt.InstallIn\r\n    import dagger.hilt.components.SingletonComponent\r\n    import javax.inject.Named\r\n    import javax.inject.Singleton\r\n    \r\n    @Module\r\n    @InstallIn(SingletonComponent::class)\r\n    class MyModule {\r\n    \r\n        @Singleton\r\n        @Provides\r\n        @Named(&quot;MyHelperClass&quot;)\r\n        fun provideMyHelperClass(): MyFirstHelperClass {\r\n            return MyFirstHelperClass()\r\n        }\r\n    }\r\n\r\nPlease check the **MyFirstHelperClass** class\r\n\r\n   \r\n\r\n     package com.inn.hiltdemo.hilt;\r\n    \r\n    public class MyFirstHelperClass {\r\n    \r\n        public String getStringData() {\r\n            return &quot;My Data&quot;;\r\n        }\r\n    }\r\n\r\n\r\n  This is my **MySecondHelperClass.java** in which I am trying to get the **Hilt** dependency injection in it, please check the below code.  \r\n\r\n     package com.inn.hiltdemo;\r\n        \r\n        import android.content.Context;\r\n        \r\n        import com.inn.hiltdemo.hilt.MyFirstHelperClass;\r\n        \r\n        import javax.inject.Singleton;\r\n        \r\n        import dagger.hilt.EntryPoint;\r\n        import dagger.hilt.InstallIn;\r\n        import dagger.hilt.android.EntryPointAccessors;\r\n        import dagger.hilt.components.SingletonComponent;\r\n        \r\n        @Singleton\r\n        public class MySecondHelperClass {\r\n        \r\n        \r\n            @EntryPoint\r\n            @InstallIn(SingletonComponent.class)\r\n            interface DeviceDiagnosticHelperEntryPoint {\r\n                public MyFirstHelperClass provideMyFirstHelperClass();\r\n            }\r\n        \r\n            public void getSecondaryDataFromHelper(Context mContext) {\r\n        \r\n                Context appContext = mContext.getApplicationContext();\r\n                DeviceDiagnosticHelperEntryPoint hiltEntryPoint =\r\n                        EntryPointAccessors.fromApplication(appContext,\r\n                                DeviceDiagnosticHelperEntryPoint.class);\r\n                MyFirstHelperClass myFirstHelperClass =\r\n                        hiltEntryPoint.provideMyFirstHelperClass();\r\n        \r\n                System.out.println(&quot;HERE WE CAN USE==&gt;&gt;&gt;&gt; &quot; + myFirstHelperClass.getStringData());\r\n        \r\n        \r\n            }\r\n        \r\n        \r\n        }\r\nFrom the **MySecondHelperClass.java** , I want the dependency injection in my above class  But getting the following exception like below\r\n\r\n\r\n&gt;[Dagger/MissingBinding] com.inn.hiltdemo.hilt.MyFirstHelperClass cannot be provided without an @Inject constructor or an @Provides-annotated method.\r\ncom.inn.hiltdemo.hilt.MyFirstHelperClass is requested at\r\ncom.inn.hiltdemo.MySecondHelperClass.DeviceDiagnosticHelperEntryPoint.provideMyFirstHelperClass()\r\n\r\n\r\n\r\n\r\n\r\n","title":"Android || Inject dependencies in classes not supported by Hilt like Helper class","body":"<p>I am using the Hilt in my application, I am successfully injecting the dependency in the Activity class and getting the desired result, But not able to injecting the dependency in other classes like the helper class.</p>\n<p>Please check the below code which I have tried like below the <strong>MainActivity</strong> class</p>\n<pre><code>package com.inn.hiltdemo;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\n\nimport com.inn.hiltdemo.hilt.MyFirstHelperClass;\n\nimport javax.inject.Inject;\nimport javax.inject.Named;\n\nimport dagger.hilt.android.AndroidEntryPoint;\n\n@AndroidEntryPoint\npublic class MainActivity extends AppCompatActivity {\n\n\n    @Inject\n    @Named(&quot;MyHelperClass&quot;)\n    MyFirstHelperClass myFirstHelperClass;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        ////IT IS RUNNING SUCCESSFULLY\n        System.out.println(&quot;HERE IS THE HELPER CLASS DATA==&gt;&gt;&gt;&gt; &quot;+ myFirstHelperClass.getStringData());\n\n\n        MySecondHelperClass mySecondHelperClass = new MySecondHelperClass();\n        mySecondHelperClass.getSecondaryDataFromHelper(this);\n\n    }\n}\n</code></pre>\n<p>My <strong>MyModule</strong> class</p>\n<pre><code>package com.inn.hiltdemo.hilt\n\nimport dagger.Module\nimport dagger.Provides\nimport dagger.hilt.InstallIn\nimport dagger.hilt.components.SingletonComponent\nimport javax.inject.Named\nimport javax.inject.Singleton\n\n@Module\n@InstallIn(SingletonComponent::class)\nclass MyModule {\n\n    @Singleton\n    @Provides\n    @Named(&quot;MyHelperClass&quot;)\n    fun provideMyHelperClass(): MyFirstHelperClass {\n        return MyFirstHelperClass()\n    }\n}\n</code></pre>\n<p>Please check the <strong>MyFirstHelperClass</strong> class</p>\n<pre><code> package com.inn.hiltdemo.hilt;\n\npublic class MyFirstHelperClass {\n\n    public String getStringData() {\n        return &quot;My Data&quot;;\n    }\n}\n</code></pre>\n<p>This is my <strong>MySecondHelperClass.java</strong> in which I am trying to get the <strong>Hilt</strong> dependency injection in it, please check the below code.</p>\n<pre><code> package com.inn.hiltdemo;\n    \n    import android.content.Context;\n    \n    import com.inn.hiltdemo.hilt.MyFirstHelperClass;\n    \n    import javax.inject.Singleton;\n    \n    import dagger.hilt.EntryPoint;\n    import dagger.hilt.InstallIn;\n    import dagger.hilt.android.EntryPointAccessors;\n    import dagger.hilt.components.SingletonComponent;\n    \n    @Singleton\n    public class MySecondHelperClass {\n    \n    \n        @EntryPoint\n        @InstallIn(SingletonComponent.class)\n        interface DeviceDiagnosticHelperEntryPoint {\n            public MyFirstHelperClass provideMyFirstHelperClass();\n        }\n    \n        public void getSecondaryDataFromHelper(Context mContext) {\n    \n            Context appContext = mContext.getApplicationContext();\n            DeviceDiagnosticHelperEntryPoint hiltEntryPoint =\n                    EntryPointAccessors.fromApplication(appContext,\n                            DeviceDiagnosticHelperEntryPoint.class);\n            MyFirstHelperClass myFirstHelperClass =\n                    hiltEntryPoint.provideMyFirstHelperClass();\n    \n            System.out.println(&quot;HERE WE CAN USE==&gt;&gt;&gt;&gt; &quot; + myFirstHelperClass.getStringData());\n    \n    \n        }\n    \n    \n    }\n</code></pre>\n<p>From the <strong>MySecondHelperClass.java</strong> , I want the dependency injection in my above class  But getting the following exception like below</p>\n<blockquote>\n<p>[Dagger/MissingBinding] com.inn.hiltdemo.hilt.MyFirstHelperClass cannot be provided without an @Inject constructor or an @Provides-annotated method.\ncom.inn.hiltdemo.hilt.MyFirstHelperClass is requested at\ncom.inn.hiltdemo.MySecondHelperClass.DeviceDiagnosticHelperEntryPoint.provideMyFirstHelperClass()</p>\n</blockquote>\n"},{"tags":["java","spring","rest","validation","domain-driven-design"],"answers":[{"tags":[],"owner":{"account_id":3512135,"reputation":8125,"user_id":2936204,"accept_rate":83,"display_name":"Neil W"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1637689111,"creation_date":1637689111,"answer_id":70085401,"question_id":70084680,"body_markdown":"Definitely the domain model, probably both.\r\n\r\nFirstly, in the Domain Model.  The quantity check is a business rule so this invariant should be guarded by the domain entity.  This means that your domain entities are ensuring that all invariants are enforced.  Your domain entities should never let themselves be created (or updated) in an invalid state.\r\n\r\nSecondly, if you want optimal experience for the user you could implement additional validations (using annotations or otherwise) on the DTO models themselves.","title":"Validation in DDD with Spring","body":"<p>Definitely the domain model, probably both.</p>\n<p>Firstly, in the Domain Model.  The quantity check is a business rule so this invariant should be guarded by the domain entity.  This means that your domain entities are ensuring that all invariants are enforced.  Your domain entities should never let themselves be created (or updated) in an invalid state.</p>\n<p>Secondly, if you want optimal experience for the user you could implement additional validations (using annotations or otherwise) on the DTO models themselves.</p>\n"}],"owner":{"account_id":21760641,"reputation":21,"user_id":16065257,"display_name":"Samson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":736,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1637846550,"creation_date":1637686050,"question_id":70084680,"body_markdown":"I will build a new application with DDD in Spring. I will have a REST adapter, a JPA adapter and my domain model.\r\n\r\nMy question is where to do the field validation? Let&#39;s say I have a REST method to place an order, where should I validate that the order quantity in the request is greater than 0?\r\nIn the DTO of the REST adapter? Or in my domain entity, because the validation should be part of the business logic?\r\n\r\nIf I do the validation in the DTO of the REST request I just can add the validation checks to the fields of the DTO and validate it with the @Valid annotation in my REST controller. And in this case the controller will return the validation errors directly to the client.\r\n\r\nBut is this the right way to do it in DDD?\r\n\r\nWhen I do the validation in my domain, I am still a little bit confused. I need the validation errors in my REST response.\r\n\r\nIf I have this RestController:\r\n\r\n      @RequestMapping(\r\n          method = RequestMethod.POST,\r\n          path = &quot;/orders&quot;,\r\n          consumes = MediaType.APPLICATION_JSON_VALUE)\r\n      public ResponseEntity&lt;String&gt; addOrder(@RequestBody orderDTO orderDTO) {\r\n        Order order = ... // map to domain opject\r\n        Set&lt;ConstraintViolation&lt;Order&gt;&gt; violations = orderService.validate(order);\r\n        if(violations.isEmpty()) {\r\n          orderService.save(order);\r\n          return ResponseEntity.ok().build();\r\n        } else {\r\n          return ResponseEntity.badRequest().build();\r\n        }\r\n      }\r\n\r\nAnd a domain service like this:\r\n\r\n    public class OrderServiceImpl implements OrderService {\r\n    \r\n      public Set&lt;ConstraintViolation&lt;Order&gt;&gt; validate(Order order) {\r\n        ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\r\n        Validator validator = factory.getValidator();\r\n        Set&lt;ConstraintViolation&lt;Order&gt;&gt; violations = validator.validate(order);\r\n        return violations;\r\n      }\r\n    \r\n      public void save(Order order) {\r\n        orderRepository.save(order);\r\n      }\r\n    }\r\n\r\nWhat is the best way to get the validation errors as a JSON payload in the response?\r\nIs this the right way? I could not find any good example for the validation in the domain service and send the validation errors back to the client in the response.","title":"Validation in DDD with Spring","body":"<p>I will build a new application with DDD in Spring. I will have a REST adapter, a JPA adapter and my domain model.</p>\n<p>My question is where to do the field validation? Let's say I have a REST method to place an order, where should I validate that the order quantity in the request is greater than 0?\nIn the DTO of the REST adapter? Or in my domain entity, because the validation should be part of the business logic?</p>\n<p>If I do the validation in the DTO of the REST request I just can add the validation checks to the fields of the DTO and validate it with the @Valid annotation in my REST controller. And in this case the controller will return the validation errors directly to the client.</p>\n<p>But is this the right way to do it in DDD?</p>\n<p>When I do the validation in my domain, I am still a little bit confused. I need the validation errors in my REST response.</p>\n<p>If I have this RestController:</p>\n<pre><code>  @RequestMapping(\n      method = RequestMethod.POST,\n      path = &quot;/orders&quot;,\n      consumes = MediaType.APPLICATION_JSON_VALUE)\n  public ResponseEntity&lt;String&gt; addOrder(@RequestBody orderDTO orderDTO) {\n    Order order = ... // map to domain opject\n    Set&lt;ConstraintViolation&lt;Order&gt;&gt; violations = orderService.validate(order);\n    if(violations.isEmpty()) {\n      orderService.save(order);\n      return ResponseEntity.ok().build();\n    } else {\n      return ResponseEntity.badRequest().build();\n    }\n  }\n</code></pre>\n<p>And a domain service like this:</p>\n<pre><code>public class OrderServiceImpl implements OrderService {\n\n  public Set&lt;ConstraintViolation&lt;Order&gt;&gt; validate(Order order) {\n    ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\n    Validator validator = factory.getValidator();\n    Set&lt;ConstraintViolation&lt;Order&gt;&gt; violations = validator.validate(order);\n    return violations;\n  }\n\n  public void save(Order order) {\n    orderRepository.save(order);\n  }\n}\n</code></pre>\n<p>What is the best way to get the validation errors as a JSON payload in the response?\nIs this the right way? I could not find any good example for the validation in the domain service and send the validation errors back to the client in the response.</p>\n"},{"tags":["java","string"],"answers":[{"tags":[],"owner":{"account_id":3284,"reputation":42459,"user_id":4728,"accept_rate":86,"display_name":"Simon Nickerson"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1268733241,"creation_date":1268732373,"answer_id":2453238,"question_id":2453231,"body_markdown":"My naive state machine implementation looks like this:\r\n\r\n\tpublic String javaStringLiteral(String str)\r\n\t{\r\n\t\tStringBuilder sb = new StringBuilder(&quot;\\&quot;&quot;);\r\n\t\tfor (int i=0; i&lt;str.length(); i++)\r\n\t\t{\r\n\t\t\tchar c = str.charAt(i);\r\n\t\t\tif (c == &#39;\\n&#39;)\r\n\t\t\t{\r\n\t\t\t\tsb.append(&quot;\\\\n&quot;);\r\n\t\t\t}\r\n\t\t\telse if (c == &#39;\\r&#39;)\r\n\t\t\t{\r\n\t\t\t\tsb.append(&quot;\\\\r&quot;);\r\n\t\t\t}\r\n\t\t\telse if (c == &#39;&quot;&#39;)\r\n\t\t\t{\r\n\t\t\t\tsb.append(&quot;\\\\\\&quot;&quot;);\r\n\t\t\t}\r\n\t\t\telse if (c == &#39;\\\\&#39;)\r\n\t\t\t{\r\n\t\t\t\tsb.append(&quot;\\\\\\\\&quot;);\r\n\t\t\t}\r\n\t\t\telse if (c &lt; 0x20)\r\n\t\t\t{\r\n\t\t\t\tsb.append(String.format(&quot;\\\\%03o&quot;, (int)c));\r\n\t\t\t}\r\n\t\t\telse if (c &gt;= 0x80)\r\n\t\t\t{\r\n\t\t\t\tsb.append(String.format(&quot;\\\\u%04x&quot;, (int)c));\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\t\t\t\t\r\n\t\t\t\tsb.append(c);\r\n\t\t\t}\r\n\t\t}\r\n\t\tsb.append(&quot;\\&quot;&quot;);\r\n\t\treturn sb.toString();\r\n\t}","title":"How would you convert a String to a Java string literal?","body":"<p>My naive state machine implementation looks like this:</p>\n\n<pre><code>public String javaStringLiteral(String str)\n{\n    StringBuilder sb = new StringBuilder(\"\\\"\");\n    for (int i=0; i&lt;str.length(); i++)\n    {\n        char c = str.charAt(i);\n        if (c == '\\n')\n        {\n            sb.append(\"\\\\n\");\n        }\n        else if (c == '\\r')\n        {\n            sb.append(\"\\\\r\");\n        }\n        else if (c == '\"')\n        {\n            sb.append(\"\\\\\\\"\");\n        }\n        else if (c == '\\\\')\n        {\n            sb.append(\"\\\\\\\\\");\n        }\n        else if (c &lt; 0x20)\n        {\n            sb.append(String.format(\"\\\\%03o\", (int)c));\n        }\n        else if (c &gt;= 0x80)\n        {\n            sb.append(String.format(\"\\\\u%04x\", (int)c));\n        }\n        else\n        {               \n            sb.append(c);\n        }\n    }\n    sb.append(\"\\\"\");\n    return sb.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13903,"reputation":393613,"user_id":28169,"accept_rate":88,"display_name":"unwind"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1637846474,"creation_date":1268732962,"answer_id":2453296,"question_id":2453231,"body_markdown":"If you can add external code, Apache&#39;s Commons Text has &lt;code&gt;[StringEscapeUtils.escapeJava()][1]&lt;/code&gt; which I think does exactly what you want.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringEscapeUtils.html#escapeJava(java.lang.String)","title":"How would you convert a String to a Java string literal?","body":"<p>If you can add external code, Apache's Commons Text has <code><a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringEscapeUtils.html#escapeJava(java.lang.String)\" rel=\"nofollow noreferrer\">StringEscapeUtils.escapeJava()</a></code> which I think does exactly what you want.</p>\n"}],"owner":{"account_id":3284,"reputation":42459,"user_id":4728,"accept_rate":86,"display_name":"Simon Nickerson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5900,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":2453296,"answer_count":2,"score":12,"last_activity_date":1637846474,"creation_date":1268732204,"question_id":2453231,"body_markdown":"This is sort of the Java analogue of &lt;a href=&quot;https://stackoverflow.com/questions/323640/can-i-convert-a-c-string-value-to-an-escaped-string-literal&quot;&gt;this question about C#&lt;/a&gt;.\r\n\r\nSuppose I have a `String` object which I want to represent in code and I want to produce a string literal that maps to the same thing.\r\n\r\nExample\r\n\r\n    hello, &quot;world&quot;\r\n    goodbye\r\n\r\nbecomes\r\n\r\n    hello, \\&quot;world\\&quot;\\ngoodbye\r\n\r\nI was just about to write a state machine that ingests the string character by character and escapes appropriately, but then I wondered if there was a better way, or a library that provides a function to do this.\r\n","title":"How would you convert a String to a Java string literal?","body":"<p>This is sort of the Java analogue of <a href=\"https://stackoverflow.com/questions/323640/can-i-convert-a-c-string-value-to-an-escaped-string-literal\">this question about C#</a>.</p>\n\n<p>Suppose I have a <code>String</code> object which I want to represent in code and I want to produce a string literal that maps to the same thing.</p>\n\n<p>Example</p>\n\n<pre><code>hello, \"world\"\ngoodbye\n</code></pre>\n\n<p>becomes</p>\n\n<pre><code>hello, \\\"world\\\"\\ngoodbye\n</code></pre>\n\n<p>I was just about to write a state machine that ingests the string character by character and escapes appropriately, but then I wondered if there was a better way, or a library that provides a function to do this.</p>\n"},{"tags":["java","multithreading","concurrency"],"answers":[{"tags":[],"owner":{"account_id":15857379,"reputation":129,"user_id":11441432,"display_name":"Marvin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637845448,"creation_date":1637844959,"answer_id":70111512,"question_id":70111276,"body_markdown":"First of all, Concurrency is achieved by implementing it into the send method. So in your example there is nothing to achive, because there is already a concurrent setup. It would not be concurrent if the send commands go into a pipeline and being processed one after one.\r\n\r\nThe problem you experience is a dirty write/dirty read to/from the database Therefore a [transaction isolation](https://en.wikipedia.org/wiki/Isolation_%28database_systems%29) is needed. Usually a database checks this circumstance and locks the row that is written to. Theoretically you could trust the database, when it offers transactions. It would be a bad practice and unnecessary to double check this. When not you should implement locks (which could get a performance problem, because of intensive locking) and synchronize the access to customer accounts.\r\n\r\nTo syncronize you could take the addBalance method:\r\n```java\r\nsynchronized void addBalance(int amount, CustomerAccountEntity customer) {\r\n    //getCustomerBalance\r\n    balance = balance+amount;\r\n}\r\n```","title":"How to achieve concurrency in java?","body":"<p>First of all, Concurrency is achieved by implementing it into the send method. So in your example there is nothing to achive, because there is already a concurrent setup. It would not be concurrent if the send commands go into a pipeline and being processed one after one.</p>\n<p>The problem you experience is a dirty write/dirty read to/from the database Therefore a <a href=\"https://en.wikipedia.org/wiki/Isolation_%28database_systems%29\" rel=\"nofollow noreferrer\">transaction isolation</a> is needed. Usually a database checks this circumstance and locks the row that is written to. Theoretically you could trust the database, when it offers transactions. It would be a bad practice and unnecessary to double check this. When not you should implement locks (which could get a performance problem, because of intensive locking) and synchronize the access to customer accounts.</p>\n<p>To syncronize you could take the addBalance method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>synchronized void addBalance(int amount, CustomerAccountEntity customer) {\n    //getCustomerBalance\n    balance = balance+amount;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637846425,"creation_date":1637846425,"answer_id":70111860,"question_id":70111276,"body_markdown":"A simple `UPDATE account SET balance=balance+100 WHERE userId = ?` would make sure that the balance is increased properly even in concurrent scenarios.\r\n\r\nOnly if you retrieve the balance to increase it in Java code you need to make special precautions, but that would be the more complex solution.","title":"How to achieve concurrency in java?","body":"<p>A simple <code>UPDATE account SET balance=balance+100 WHERE userId = ?</code> would make sure that the balance is increased properly even in concurrent scenarios.</p>\n<p>Only if you retrieve the balance to increase it in Java code you need to make special precautions, but that would be the more complex solution.</p>\n"}],"owner":{"account_id":17012558,"reputation":43,"user_id":12307247,"display_name":"Vaishnavi Sabnawis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1637846425,"creation_date":1637843922,"question_id":70111276,"body_markdown":"Suppose I am working in a banking domain and I have three customers say A,B,C.\r\n`Balance of A= Rs.100\r\nBalance of B= Rs.0\r\nBalance of C=Rs.100`\r\n\r\nNow both A and C are sending money to B at same time. The code for increasing the balance runs concurrently.\r\nWhen A sends money to B, a call is made to DB which gets its current balance i.e Rs.0\r\nAt the same time C sends money to B and call is made to DB which also returns current balance as Rs.0.\r\n\r\nSo when control is back from DB for &quot;A&quot; and money is added in B&#39;s account, \r\nit will be\r\n`Balance=Current Balance+ Money Received`\r\nso balance= 100.\r\nAgain when control is back from DB for &quot;C&quot;,\r\nbalance = Rs.100 since current balance fetched by this request was also Rs.0\r\n\r\nHow to handle such scenarios?","title":"How to achieve concurrency in java?","body":"<p>Suppose I am working in a banking domain and I have three customers say A,B,C.\n<code>Balance of A= Rs.100 Balance of B= Rs.0 Balance of C=Rs.100</code></p>\n<p>Now both A and C are sending money to B at same time. The code for increasing the balance runs concurrently.\nWhen A sends money to B, a call is made to DB which gets its current balance i.e Rs.0\nAt the same time C sends money to B and call is made to DB which also returns current balance as Rs.0.</p>\n<p>So when control is back from DB for &quot;A&quot; and money is added in B's account,\nit will be\n<code>Balance=Current Balance+ Money Received</code>\nso balance= 100.\nAgain when control is back from DB for &quot;C&quot;,\nbalance = Rs.100 since current balance fetched by this request was also Rs.0</p>\n<p>How to handle such scenarios?</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":14879298,"reputation":1234,"user_id":10744483,"display_name":"Olga Klisho"},"score":0,"creation_date":1637843674,"post_id":70094415,"comment_id":123937196,"body_markdown":"Hello, can you please clarify your question in more details, what behaviour do you expect from annotation? Thanks","body":"Hello, can you please clarify your question in more details, what behaviour do you expect from annotation? Thanks"},{"owner":{"account_id":6502221,"reputation":1372,"user_id":5032541,"display_name":"Erwan Daniel"},"score":0,"creation_date":1637846228,"post_id":70094415,"comment_id":123938213,"body_markdown":"@OlgaKlisho I edited. I hope it clear now","body":"@OlgaKlisho I edited. I hope it clear now"},{"owner":{"account_id":14879298,"reputation":1234,"user_id":10744483,"display_name":"Olga Klisho"},"score":0,"creation_date":1638196891,"post_id":70094415,"comment_id":124017005,"body_markdown":"There is no ready tool for this, please feel free to file an issue for this in the IntelliJ IDEA issue tracker (https://youtrack.jetbrains.com/issues/IDEA)","body":"There is no ready tool for this, please feel free to file an issue for this in the IntelliJ IDEA issue tracker (<a href=\"https://youtrack.jetbrains.com/issues/IDEA\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issues/IDEA</a>)"},{"owner":{"account_id":6502221,"reputation":1372,"user_id":5032541,"display_name":"Erwan Daniel"},"score":0,"creation_date":1638261802,"post_id":70094415,"comment_id":124035081,"body_markdown":"For people who are interested : https://youtrack.jetbrains.com/issue/IDEA-283556","body":"For people who are interested : <a href=\"https://youtrack.jetbrains.com/issue/IDEA-283556\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-283556</a>"}],"owner":{"account_id":6502221,"reputation":1372,"user_id":5032541,"display_name":"Erwan Daniel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637846189,"creation_date":1637749523,"question_id":70094415,"body_markdown":"I have a method that wrap String.format for convenience. I found in the settings a way to highlight the format string exactly as how it looks like with &quot;classic&quot; formatter method.\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI was wondering if there is a way to do this from the code itself, with an annotation ? I know that jetbrains has multiple annotation to create a custom behavior in the IDE (like debugger renderer for custom classes)\r\nBut I didn&#39;t find any that match my need.\r\n\r\nThe goal is to make this setting ready to go for the new employee.\r\n\r\nEdit:\r\nI expect the annotation to do the same as the settings in the screenshot above. I want to say to the IDE that my method &quot;execute&quot; is a String.format like function.\r\n\r\n  [1]: https://i.stack.imgur.com/2OQDJ.png\r\n  [2]: https://i.stack.imgur.com/pSRMi.png","title":"Intellij annotation for formatter classes","body":"<p>I have a method that wrap String.format for convenience. I found in the settings a way to highlight the format string exactly as how it looks like with &quot;classic&quot; formatter method.\n<a href=\"https://i.stack.imgur.com/2OQDJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2OQDJ.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/pSRMi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pSRMi.png\" alt=\"enter image description here\" /></a></p>\n<p>I was wondering if there is a way to do this from the code itself, with an annotation ? I know that jetbrains has multiple annotation to create a custom behavior in the IDE (like debugger renderer for custom classes)\nBut I didn't find any that match my need.</p>\n<p>The goal is to make this setting ready to go for the new employee.</p>\n<p>Edit:\nI expect the annotation to do the same as the settings in the screenshot above. I want to say to the IDE that my method &quot;execute&quot; is a String.format like function.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":9667071,"reputation":415,"user_id":8408851,"display_name":"Suyog n"},"score":0,"creation_date":1637846463,"post_id":70111756,"comment_id":123938318,"body_markdown":"Are you always getting x = true or false?","body":"Are you always getting x = true or false?"},{"owner":{"account_id":18574305,"reputation":11,"user_id":13535407,"display_name":"עמית אזרזר"},"score":0,"creation_date":1637846578,"post_id":70111756,"comment_id":123938361,"body_markdown":"I am always getting x=false(the x is just for debug purposes)","body":"I am always getting x=false(the x is just for debug purposes)"},{"owner":{"account_id":9667071,"reputation":415,"user_id":8408851,"display_name":"Suyog n"},"score":0,"creation_date":1637847181,"post_id":70111756,"comment_id":123938597,"body_markdown":"Can we see your more code related to Firebase (Auth)?","body":"Can we see your more code related to Firebase (Auth)?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1638258712,"post_id":70111756,"comment_id":124034044,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":18574305,"reputation":11,"user_id":13535407,"display_name":"עמית אזרזר"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637846000,"creation_date":1637846000,"question_id":70111756,"body_markdown":"this is the code it all works until the if(task.isSuccessfull()) and them it does not enter the if How to fix it?thanks\r\n\r\n    private void Login()\r\n    {\r\n        String email = etEmail_login.getText().toString().trim();\r\n        String password = etPass_login.getText().toString().trim();\r\n        final ProgressDialog pd = ProgressDialog.show(this, &quot;connecting&quot; ,&quot;please wait...&quot;,true);\r\n        pd.show();\r\n        DBref.Auth.signInWithEmailAndPassword(email,password).addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                Boolean x = task.isSuccessful();\r\n                if(task.isSuccessful()) {\r\n                    Intent intent = new Intent();\r\n                    intent.setClass(getBaseContext(), Wellcome.class);\r\n                    startActivity(intent);\r\n                }\r\n            }\r\n        });\r\n\r\n","title":"task.isSuccessfull() always false","body":"<p>this is the code it all works until the if(task.isSuccessfull()) and them it does not enter the if How to fix it?thanks</p>\n<pre><code>private void Login()\n{\n    String email = etEmail_login.getText().toString().trim();\n    String password = etPass_login.getText().toString().trim();\n    final ProgressDialog pd = ProgressDialog.show(this, &quot;connecting&quot; ,&quot;please wait...&quot;,true);\n    pd.show();\n    DBref.Auth.signInWithEmailAndPassword(email,password).addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n            Boolean x = task.isSuccessful();\n            if(task.isSuccessful()) {\n                Intent intent = new Intent();\n                intent.setClass(getBaseContext(), Wellcome.class);\n                startActivity(intent);\n            }\n        }\n    });\n</code></pre>\n"},{"tags":["java","rest","spring-mvc","error-handling"],"comments":[{"owner":{"account_id":1434762,"reputation":22772,"user_id":1356423,"accept_rate":65,"display_name":"Alan Hay"},"score":0,"creation_date":1564387644,"post_id":57240925,"comment_id":100999269,"body_markdown":"It is not at all clear exactly what your question is.","body":"It is not at all clear exactly what your question is."},{"owner":{"account_id":2338960,"reputation":11,"user_id":2050685,"display_name":"kaveh jozani"},"score":0,"creation_date":1564423564,"post_id":57240925,"comment_id":101017720,"body_markdown":"argument of service is different from rest request , in such situation HttpMessageNotReadableException is expected. but no exception occures.","body":"argument of service is different from rest request , in such situation HttpMessageNotReadableException is expected. but no exception occures."}],"answers":[{"tags":[],"owner":{"account_id":2338960,"reputation":11,"user_id":2050685,"display_name":"kaveh jozani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637845991,"creation_date":1637752277,"answer_id":70095035,"question_id":57240925,"body_markdown":"Using validation-api, annotate proper validation for fields and `@validated` before controller method and using `@valid` before `RequestBody` object would throw proper validation exception.","title":"passing another object into current rest service does not throw an exception","body":"<p>Using validation-api, annotate proper validation for fields and <code>@validated</code> before controller method and using <code>@valid</code> before <code>RequestBody</code> object would throw proper validation exception.</p>\n"}],"owner":{"account_id":2338960,"reputation":11,"user_id":2050685,"display_name":"kaveh jozani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70095035,"answer_count":1,"score":0,"last_activity_date":1637845991,"creation_date":1564317113,"question_id":57240925,"body_markdown":"this my is rest request that is compatible for another service :\r\n\r\n    {\r\n      &quot;fromDate&quot;: 1562773101000,\r\n      &quot;toDate&quot;: 1563118701000,\r\n      &quot;turnOverType&quot;: 4,\r\n      &quot;fromAmount&quot;: 1,\r\n      &quot;toAmount&quot;: 10000000,\r\n      &quot;voucherDescription&quot;: null,\r\n      &quot;articleDescription&quot;: null,\r\n      &quot;referenceNumbers&quot;: [],\r\n      &quot;offset&quot;: 3,\r\n      &quot;pageSize&quot;: 20,\r\n      &quot;iban&quot;: &quot;BLAHBLAHBLAHBLAH&quot;\r\n    }\r\n\r\nand this is corresponding model that not match request :\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlRootElement(name = &quot;TransferRequestInquiryFilter&quot;)\r\n    public class TransferRequestInquiryFilter implements Serializable {\r\n        @XmlElement(name = &quot;sourceIbans&quot;)\r\n        private List&lt;String&gt; sourceIbans;\r\n        @XmlElement(name = &quot;transferType&quot;)\r\n        private TransferType transferType;\r\n        @XmlElement(name = &quot;fromTransferDate&quot;)\r\n        private Timestamp fromTransferDate;\r\n        @XmlElement(name = &quot;toTransferDate&quot;)\r\n        private Timestamp toTransferDate;\r\n        @XmlElement(name = &quot;fromRegistrationDate&quot;)\r\n        private Timestamp fromRegistrationDate;\r\n        @XmlElement(name = &quot;toRegistrationDate&quot;)\r\n        private Timestamp toRegistrationDate;\r\n        @XmlElement(name = &quot;trackingNumbers&quot;)\r\n        private List&lt;String&gt; trackingNumbers;\r\n        @XmlElement(name = &quot;referenceNumbers&quot;)\r\n        private List&lt;String&gt; referenceNumbers;\r\n        @XmlElement(name = &quot;transactionIds&quot;)\r\n        private List&lt;String&gt; transactionIds;\r\n        @XmlElement(name = &quot;status&quot;)\r\n        private TransactionStatus status;\r\n        @XmlElement(name = &quot;fromAmount&quot;)\r\n        private Long fromAmount;\r\n        @XmlElement(name = &quot;toAmount&quot;)\r\n        private Long toAmount;\r\n        @XmlElement(name = &quot;destinationIbans&quot;)\r\n        private List&lt;String&gt; destinationIbans;\r\n\r\nand this is my controller ..\r\n\r\n    @RequestMapping(value = &quot;/inquiry&quot;, method = RequestMethod.POST)\r\n    public @ResponseBody\r\n    ResponseEntity&lt;List&lt;ExtendedTransferRequest&gt;&gt; transferInquiry(@RequestBody @Valid TransferRequestInquiryFilter transferRequestInquiryFilter\r\n            , BindingResult bindingResult) {\r\n    \r\n        // when validation not works return bad request\r\n        List&lt;ErrorObject&gt; errorObjects = requestInquiryValidator.validate(transferRequestInquiryFilter);\r\n        if (errorObjects.size() &gt; 0) {\r\n            // just throw bad request and not detail of them\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.BAD_REQUEST);\r\n        }\r\n    \r\n        List&lt;ExtendedTransferRequest&gt; extendedTransferRequestList = new ArrayList&lt;&gt;();\r\n        ExtendedTransferRequest extendedTransferRequest = new ExtendedTransferRequest();\r\n        List&lt;SettlementTransaction&gt; settlementTransactionList = settlementSearch.findSettlement(transferRequestInquiryFilter);\r\n        extendedTransferRequestList = TransferInquiryResponseMapper.INSTANCE.SettlementTransactionInquiryResponse(setlementTransactionList);\r\n        return new ResponseEntity&lt;&gt;(extendedTransferRequestList, HttpStatus.OK);\r\n    \r\n    }\r\n\r\njust fromAmount and toAmount fills. but i want to get an exception for this situation and throw a bad request for client. how can i do that? If I get name conflict or type conflict between rest request and model , I need to handle it and riase a bad request for client. i am using spring mvc 5 and jackson-core and jackson-databind 2.9.4\r\n\r\n\r\n\r\n\r\n\r\n","title":"passing another object into current rest service does not throw an exception","body":"<p>this my is rest request that is compatible for another service :</p>\n\n<pre><code>{\n  \"fromDate\": 1562773101000,\n  \"toDate\": 1563118701000,\n  \"turnOverType\": 4,\n  \"fromAmount\": 1,\n  \"toAmount\": 10000000,\n  \"voucherDescription\": null,\n  \"articleDescription\": null,\n  \"referenceNumbers\": [],\n  \"offset\": 3,\n  \"pageSize\": 20,\n  \"iban\": \"BLAHBLAHBLAHBLAH\"\n}\n</code></pre>\n\n<p>and this is corresponding model that not match request :</p>\n\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlRootElement(name = \"TransferRequestInquiryFilter\")\npublic class TransferRequestInquiryFilter implements Serializable {\n    @XmlElement(name = \"sourceIbans\")\n    private List&lt;String&gt; sourceIbans;\n    @XmlElement(name = \"transferType\")\n    private TransferType transferType;\n    @XmlElement(name = \"fromTransferDate\")\n    private Timestamp fromTransferDate;\n    @XmlElement(name = \"toTransferDate\")\n    private Timestamp toTransferDate;\n    @XmlElement(name = \"fromRegistrationDate\")\n    private Timestamp fromRegistrationDate;\n    @XmlElement(name = \"toRegistrationDate\")\n    private Timestamp toRegistrationDate;\n    @XmlElement(name = \"trackingNumbers\")\n    private List&lt;String&gt; trackingNumbers;\n    @XmlElement(name = \"referenceNumbers\")\n    private List&lt;String&gt; referenceNumbers;\n    @XmlElement(name = \"transactionIds\")\n    private List&lt;String&gt; transactionIds;\n    @XmlElement(name = \"status\")\n    private TransactionStatus status;\n    @XmlElement(name = \"fromAmount\")\n    private Long fromAmount;\n    @XmlElement(name = \"toAmount\")\n    private Long toAmount;\n    @XmlElement(name = \"destinationIbans\")\n    private List&lt;String&gt; destinationIbans;\n</code></pre>\n\n<p>and this is my controller ..</p>\n\n<pre><code>@RequestMapping(value = \"/inquiry\", method = RequestMethod.POST)\npublic @ResponseBody\nResponseEntity&lt;List&lt;ExtendedTransferRequest&gt;&gt; transferInquiry(@RequestBody @Valid TransferRequestInquiryFilter transferRequestInquiryFilter\n        , BindingResult bindingResult) {\n\n    // when validation not works return bad request\n    List&lt;ErrorObject&gt; errorObjects = requestInquiryValidator.validate(transferRequestInquiryFilter);\n    if (errorObjects.size() &gt; 0) {\n        // just throw bad request and not detail of them\n        return new ResponseEntity&lt;&gt;(HttpStatus.BAD_REQUEST);\n    }\n\n    List&lt;ExtendedTransferRequest&gt; extendedTransferRequestList = new ArrayList&lt;&gt;();\n    ExtendedTransferRequest extendedTransferRequest = new ExtendedTransferRequest();\n    List&lt;SettlementTransaction&gt; settlementTransactionList = settlementSearch.findSettlement(transferRequestInquiryFilter);\n    extendedTransferRequestList = TransferInquiryResponseMapper.INSTANCE.SettlementTransactionInquiryResponse(setlementTransactionList);\n    return new ResponseEntity&lt;&gt;(extendedTransferRequestList, HttpStatus.OK);\n\n}\n</code></pre>\n\n<p>just fromAmount and toAmount fills. but i want to get an exception for this situation and throw a bad request for client. how can i do that? If I get name conflict or type conflict between rest request and model , I need to handle it and riase a bad request for client. i am using spring mvc 5 and jackson-core and jackson-databind 2.9.4</p>\n"},{"tags":["java","spring","eclipse","jpa"],"answers":[{"tags":[],"owner":{"account_id":9500797,"reputation":1,"user_id":7061984,"display_name":"Lucas Spiller"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637845765,"creation_date":1637753717,"answer_id":70095369,"question_id":70019465,"body_markdown":"It seems like the current Spring Version (5.3.X) - more specifically org.springframework.orm.jpa - does not yet support the jakarta.persistence package as it only depends on javax.persistence.","title":"java and spring and eclipse jpa persistence provider","body":"<p>It seems like the current Spring Version (5.3.X) - more specifically org.springframework.orm.jpa - does not yet support the jakarta.persistence package as it only depends on javax.persistence.</p>\n"}],"owner":{"account_id":23379767,"reputation":1,"user_id":17447150,"display_name":"hossam hassan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637845765,"creation_date":1637236904,"question_id":70019465,"body_markdown":"In jpa configuration for LocalContainerEntityManagerFactoryBean i used `org.eclipse.persistence.jpa.PersistenceProvider` as my PersistenceProvider but now after upgrading java and spring it seems that eclipse uses a `jakarta.persistence.spi.PersistenceProvider` and spring expects a `javax.persistence.spi.PersistenceProvider` and while the two classes are the same it appears to be a compilation error \r\nany suggestions on what to do ? \r\nthanks in advance","title":"java and spring and eclipse jpa persistence provider","body":"<p>In jpa configuration for LocalContainerEntityManagerFactoryBean i used <code>org.eclipse.persistence.jpa.PersistenceProvider</code> as my PersistenceProvider but now after upgrading java and spring it seems that eclipse uses a <code>jakarta.persistence.spi.PersistenceProvider</code> and spring expects a <code>javax.persistence.spi.PersistenceProvider</code> and while the two classes are the same it appears to be a compilation error\nany suggestions on what to do ?\nthanks in advance</p>\n"},{"tags":["java","rmi"],"comments":[{"owner":{"account_id":23448231,"reputation":3,"user_id":17504740,"display_name":"Clean Code"},"score":0,"creation_date":1637830845,"post_id":70107612,"comment_id":123932095,"body_markdown":"I fixed that sir. I had done small mistake. Unfortunately, I didn&#39;t notice that. Is there any way to update the jtable column title automatically from the database?","body":"I fixed that sir. I had done small mistake. Unfortunately, I didn&#39;t notice that. Is there any way to update the jtable column title automatically from the database?"},{"owner":{"account_id":23448231,"reputation":3,"user_id":17504740,"display_name":"Clean Code"},"score":0,"creation_date":1637834529,"post_id":70107612,"comment_id":123933578,"body_markdown":"Sir, I didn&#39;t get it properly. Can you be able to upload the code?  Then, I can be able to understand. Else, it&#39;s okay sir. I will manage with manual naming. I feel it is not a big issue. But, It will be nice if I get how to do automatically.","body":"Sir, I didn&#39;t get it properly. Can you be able to upload the code?  Then, I can be able to understand. Else, it&#39;s okay sir. I will manage with manual naming. I feel it is not a big issue. But, It will be nice if I get how to do automatically."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1642986111,"post_id":70107612,"comment_id":125212697,"body_markdown":"Because there is no code here that updates it.","body":"Because there is no code here that updates it."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637845189,"creation_date":1637837622,"answer_id":70109853,"question_id":70107612,"body_markdown":"`CachedRowSet` inherits method `getMetaData` which returns [ResultSetMetaData][1] which can be used to get the names of the columns as well as the column count. (See below code. More explanation after the code.)\r\n```java\r\n/* Required imports.\r\n\r\nimport java.rmi.Naming;\r\nimport java.sql.ResultSetMetaData;\r\nimport java.util.Vector;\r\n\r\nimport javax.sql.rowset.CachedRowSet;\r\nimport javax.swing.JOptionPane;\r\nimport javax.swing.JTable;\r\nimport javax.swing.table.DefaultTableModel;\r\n*/\r\npublic studentdetails() {\r\n    initComponents();\r\n    try {\r\n        Interface b = (Interface) Naming.lookup(&quot;rmi://localhost:1099/Server&quot;);\r\n        CachedRowSet details = b.getArray();\r\n        ResultSetMetaData rsmd = details.getMetaData();\r\n        int columnCount = rsmd.getColumnCount();\r\n        Vector&lt;Object&gt; columnNames = new Vector&lt;&gt;(columnCount);\r\n        for (int i = 0; i &lt; columnCount; i++) {\r\n            columnNames.add(rsmd.getColumnLabel(i + 1));\r\n        }\r\n        Vector&lt;Object&gt; rows = new Vector&lt;&gt;();\r\n        while (details.next()) {\r\n            Vector&lt;Object&gt; row = new Vector&lt;&gt;(columnCount);\r\n            for (int i = 0; i &lt; columnCount; i++) {\r\n                row.add(details.getObject(i + 1));\r\n            }\r\n            rows.add(row);\r\n        }\r\n        DefaultTableModel tblModel = new DefaultTableModel(rows, columnNames);\r\n        studentdetailstable.setModel(tblModel);\r\n    }\r\n    catch (Exception e) {\r\n        JOptionPane.showMessageDialog(null, e);\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```\r\n`DefaultTableModel` contains a `Vector` whose elements are `Vector`s. Each element is a row in the `JTable`. Hence, in the above code, I create and populate a `Vector` that can serve as one of the parameters to the `DefaultTableModel` constructor. The other parameter to the `DefaultTableModel` constructor is a `Vector` containing the names of the columns in the `JTable`. As I already said, the column names can be obtained from the `ResultsetMetaData`.\r\n\r\nAfter creating a new `DefaultTableModel`, I simply assign it to the `JTable` via method `setModel`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.sql/java/sql/ResultSetMetaData.html","title":"When I populate a jTable from a CachedRowSet using the DefaultTableModel, why is the JTable&#39;s column title not updated?","body":"<p><code>CachedRowSet</code> inherits method <code>getMetaData</code> which returns <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.sql/java/sql/ResultSetMetaData.html\" rel=\"nofollow noreferrer\">ResultSetMetaData</a> which can be used to get the names of the columns as well as the column count. (See below code. More explanation after the code.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>/* Required imports.\n\nimport java.rmi.Naming;\nimport java.sql.ResultSetMetaData;\nimport java.util.Vector;\n\nimport javax.sql.rowset.CachedRowSet;\nimport javax.swing.JOptionPane;\nimport javax.swing.JTable;\nimport javax.swing.table.DefaultTableModel;\n*/\npublic studentdetails() {\n    initComponents();\n    try {\n        Interface b = (Interface) Naming.lookup(&quot;rmi://localhost:1099/Server&quot;);\n        CachedRowSet details = b.getArray();\n        ResultSetMetaData rsmd = details.getMetaData();\n        int columnCount = rsmd.getColumnCount();\n        Vector&lt;Object&gt; columnNames = new Vector&lt;&gt;(columnCount);\n        for (int i = 0; i &lt; columnCount; i++) {\n            columnNames.add(rsmd.getColumnLabel(i + 1));\n        }\n        Vector&lt;Object&gt; rows = new Vector&lt;&gt;();\n        while (details.next()) {\n            Vector&lt;Object&gt; row = new Vector&lt;&gt;(columnCount);\n            for (int i = 0; i &lt; columnCount; i++) {\n                row.add(details.getObject(i + 1));\n            }\n            rows.add(row);\n        }\n        DefaultTableModel tblModel = new DefaultTableModel(rows, columnNames);\n        studentdetailstable.setModel(tblModel);\n    }\n    catch (Exception e) {\n        JOptionPane.showMessageDialog(null, e);\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p><code>DefaultTableModel</code> contains a <code>Vector</code> whose elements are <code>Vector</code>s. Each element is a row in the <code>JTable</code>. Hence, in the above code, I create and populate a <code>Vector</code> that can serve as one of the parameters to the <code>DefaultTableModel</code> constructor. The other parameter to the <code>DefaultTableModel</code> constructor is a <code>Vector</code> containing the names of the columns in the <code>JTable</code>. As I already said, the column names can be obtained from the <code>ResultsetMetaData</code>.</p>\n<p>After creating a new <code>DefaultTableModel</code>, I simply assign it to the <code>JTable</code> via method <code>setModel</code>.</p>\n"}],"owner":{"account_id":23448231,"reputation":3,"user_id":17504740,"display_name":"Clean Code"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70109853,"answer_count":1,"score":0,"last_activity_date":1637845189,"creation_date":1637827337,"question_id":70107612,"body_markdown":"When I populate a jTable from a CachedRowSet using the DefaultTableModel, the jtable column&#39;s title wasn&#39;t updated. So I did it manually using the jtable property. Is there any alternative way to get the title name automatically from the database?\r\n\r\n  \r\n   **This the client** \r\n\r\n \r\n\r\n  \r\n\r\n   \r\n\r\n     public studentdetails() \r\n     {\r\n            initComponents();\r\n        \r\n        try {           \r\n                           \r\n             Interface b = (Interface) Naming.lookup(&quot;rmi://localhost:1099/Server&quot;);\r\n                  DefaultTableModel tblModel = \r\n                  (DefaultTableModel)studentdetailstable.getModel();\r\n                  tblModel.setRowCount(0);\r\n                  CachedRowSet studentdetails=b.getArray();\r\n                         \r\n                  while(studentdetails.next())\r\n                  {   \r\n                       Vector t = new Vector();\r\n                               \r\n                       for(int i = 0; i &lt;= studentdetails.getMaxRows(); i++) \r\n                       {\r\n                         t.add(studentdetails.getInt(&quot;id&quot;));\r\n                         t.add(studentdetails.getString(&quot;names&quot;));\r\n                       }       \r\n                         tblModel.addRow(t);\r\n            }\r\n        \r\n        \t} catch (Exception e) {\r\n        \t\t JOptionPane.showMessageDialog(null, e);\r\n        \t} \r\n        }\r\n\r\n**Implementation**\r\n \r\n\r\n    public CachedRowSet getArray() throws RemoteException {\r\n            try (Connection con = ConnectionProvider.getConnection();\r\n                 Statement st = con.createStatement();\r\n                 //  ResultSet rs = st.executeQuery(&quot;select * from studentnames&quot;)) \r\n                 ResultSet rs = st.executeQuery(&quot;select id, names from students&quot;))                               {\r\n                 RowSetFactory factory = RowSetProvider.newFactory();\r\n                 CachedRowSet details= factory.createCachedRowSet();\r\n                 fruitDetails.populate(rs);\r\n                 return details;\r\n            }\r\n            catch (SQLException e) {\r\n                throw new RemoteException(&quot;Method &#39;getArray()&#39; failed.&quot;, e);\r\n            }\r\n\r\n\r\n","title":"When I populate a jTable from a CachedRowSet using the DefaultTableModel, why is the JTable&#39;s column title not updated?","body":"<p>When I populate a jTable from a CachedRowSet using the DefaultTableModel, the jtable column's title wasn't updated. So I did it manually using the jtable property. Is there any alternative way to get the title name automatically from the database?</p>\n<p><strong>This the client</strong></p>\n<pre><code> public studentdetails() \n {\n        initComponents();\n    \n    try {           \n                       \n         Interface b = (Interface) Naming.lookup(&quot;rmi://localhost:1099/Server&quot;);\n              DefaultTableModel tblModel = \n              (DefaultTableModel)studentdetailstable.getModel();\n              tblModel.setRowCount(0);\n              CachedRowSet studentdetails=b.getArray();\n                     \n              while(studentdetails.next())\n              {   \n                   Vector t = new Vector();\n                           \n                   for(int i = 0; i &lt;= studentdetails.getMaxRows(); i++) \n                   {\n                     t.add(studentdetails.getInt(&quot;id&quot;));\n                     t.add(studentdetails.getString(&quot;names&quot;));\n                   }       \n                     tblModel.addRow(t);\n        }\n    \n        } catch (Exception e) {\n             JOptionPane.showMessageDialog(null, e);\n        } \n    }\n</code></pre>\n<p><strong>Implementation</strong></p>\n<pre><code>public CachedRowSet getArray() throws RemoteException {\n        try (Connection con = ConnectionProvider.getConnection();\n             Statement st = con.createStatement();\n             //  ResultSet rs = st.executeQuery(&quot;select * from studentnames&quot;)) \n             ResultSet rs = st.executeQuery(&quot;select id, names from students&quot;))                               {\n             RowSetFactory factory = RowSetProvider.newFactory();\n             CachedRowSet details= factory.createCachedRowSet();\n             fruitDetails.populate(rs);\n             return details;\n        }\n        catch (SQLException e) {\n            throw new RemoteException(&quot;Method 'getArray()' failed.&quot;, e);\n        }\n</code></pre>\n"},{"tags":["java","output"],"comments":[{"owner":{"account_id":1084469,"reputation":7470,"user_id":1080523,"display_name":"rethab"},"score":0,"creation_date":1637844500,"post_id":70111359,"comment_id":123937539,"body_markdown":"Could you please remove the parts that you understand and only show the operations that you think should be working differently?","body":"Could you please remove the parts that you understand and only show the operations that you think should be working differently?"},{"owner":{"account_id":20355678,"reputation":11,"user_id":14931255,"display_name":"Anmol Rajput"},"score":0,"creation_date":1637844560,"post_id":70111359,"comment_id":123937557,"body_markdown":"I think it should solve the bracket first","body":"I think it should solve the bracket first"},{"owner":{"account_id":20355678,"reputation":11,"user_id":14931255,"display_name":"Anmol Rajput"},"score":0,"creation_date":1637844666,"post_id":70111359,"comment_id":123937594,"body_markdown":"Inside the bracket it will be16%11=5","body":"Inside the bracket it will be16%11=5"},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1637844688,"post_id":70111359,"comment_id":123937603,"body_markdown":"Does this answer your question? [What are the rules for evaluation order in Java?](https://stackoverflow.com/questions/6800590/what-are-the-rules-for-evaluation-order-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/6800590/what-are-the-rules-for-evaluation-order-in-java\">What are the rules for evaluation order in Java?</a>"},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":4,"creation_date":1637844763,"post_id":70111359,"comment_id":123937629,"body_markdown":"It is essential to understand that order of evaluation is distinct from operator precedence. Order of evaluation is left to right.","body":"It is essential to understand that order of evaluation is distinct from operator precedence. Order of evaluation is left to right."},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1637844848,"post_id":70111359,"comment_id":123937660,"body_markdown":"Also see https://stackoverflow.com/questions/29162301/why-is-the-operator-precedence-not-followed-here?noredirect=1&amp;lq=1","body":"Also see <a href=\"https://stackoverflow.com/questions/29162301/why-is-the-operator-precedence-not-followed-here?noredirect=1&amp;lq=1\" title=\"why is the operator precedence not followed here\">stackoverflow.com/questions/29162301/&hellip;</a>"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1637845160,"post_id":70111359,"comment_id":123937773,"body_markdown":"Assuming OP knows the effects of `++` and `--`.","body":"Assuming OP knows the effects of <code>++</code> and <code>--</code>."}],"answers":[{"tags":[],"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637845162,"creation_date":1637844819,"answer_id":70111467,"question_id":70111359,"body_markdown":"## Precedence ##\r\n\r\n```java\r\np/q*++p%(++p%--q)\r\n```\r\nis computed as\r\n```java\r\n((p / q) * (++p)) % ((++p) % (--q))\r\n```\r\nusing the [operator precendece rules][1].\r\n\r\nNote that `++x`/`--x` increment/decrement the variable by one and then return the result after the operation. Since they change the variable itself, the effect obviously carries over to other usages of the variable.\r\n\r\n## Evaluation ##\r\n\r\nIt is then evaluated **left to right**, the math is\r\n```java\r\n((15 / 12) * (16)) % ((17) % (11))\r\n```\r\nwhich results in `4`:\r\n```java\r\n  ((15 / 12) * (16)) % ((17) % (11))\r\n= (1 * 16) % 6\r\n= 16 % 6\r\n= 4\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/operators.html","title":"Can anyone explain the output process in java","body":"<h2>Precedence</h2>\n<pre class=\"lang-java prettyprint-override\"><code>p/q*++p%(++p%--q)\n</code></pre>\n<p>is computed as</p>\n<pre class=\"lang-java prettyprint-override\"><code>((p / q) * (++p)) % ((++p) % (--q))\n</code></pre>\n<p>using the <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/operators.html\" rel=\"nofollow noreferrer\">operator precendece rules</a>.</p>\n<p>Note that <code>++x</code>/<code>--x</code> increment/decrement the variable by one and then return the result after the operation. Since they change the variable itself, the effect obviously carries over to other usages of the variable.</p>\n<h2>Evaluation</h2>\n<p>It is then evaluated <strong>left to right</strong>, the math is</p>\n<pre class=\"lang-java prettyprint-override\"><code>((15 / 12) * (16)) % ((17) % (11))\n</code></pre>\n<p>which results in <code>4</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  ((15 / 12) * (16)) % ((17) % (11))\n= (1 * 16) % 6\n= 16 % 6\n= 4\n</code></pre>\n"}],"owner":{"account_id":20355678,"reputation":11,"user_id":14931255,"display_name":"Anmol Rajput"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1637845162,"creation_date":1637844306,"question_id":70111359,"body_markdown":"```java\r\nint p=15, q=12, s;  \r\ns=p/q*++p%(++p%--q);\r\nSystem.out.print(s);\r\n```\r\nI am trying it according to the precedence of operators and associativity but I think it should give me the output `2` but it is giving me `4` as output.\r\n","title":"Can anyone explain the output process in java","body":"<pre class=\"lang-java prettyprint-override\"><code>int p=15, q=12, s;  \ns=p/q*++p%(++p%--q);\nSystem.out.print(s);\n</code></pre>\n<p>I am trying it according to the precedence of operators and associativity but I think it should give me the output <code>2</code> but it is giving me <code>4</code> as output.</p>\n"},{"tags":["java","timezone","quartz-scheduler","crontrigger"],"answers":[{"tags":[],"owner":{"account_id":22795094,"reputation":25,"user_id":16948779,"display_name":"Leah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637845045,"creation_date":1637840379,"answer_id":70110459,"question_id":70109801,"body_markdown":"Well, i think i found the answer. It works but i&#39;m not sure this is the best way.\r\nThe idea is to edit the timezone using CronTriggerImpl and than reschedule the job with updated trigger.\r\n\r\n    CronTrigger trigger = (CronTrigger) scheduler.getTrigger(key);\r\n    ((CronTriggerImpl) trigger).setTimeZone(TimeZone.getTimeZone(timeZone));\r\n    scheduler.rescheduleJob(trigger.getKey(), trigger);","title":"Java Quartz Scheduler - update trigger timezone","body":"<p>Well, i think i found the answer. It works but i'm not sure this is the best way.\nThe idea is to edit the timezone using CronTriggerImpl and than reschedule the job with updated trigger.</p>\n<pre><code>CronTrigger trigger = (CronTrigger) scheduler.getTrigger(key);\n((CronTriggerImpl) trigger).setTimeZone(TimeZone.getTimeZone(timeZone));\nscheduler.rescheduleJob(trigger.getKey(), trigger);\n</code></pre>\n"}],"owner":{"account_id":22795094,"reputation":25,"user_id":16948779,"display_name":"Leah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70110459,"answer_count":1,"score":0,"last_activity_date":1637845045,"creation_date":1637837417,"question_id":70109801,"body_markdown":"I have existing CronTrigger and i want to update only the timeZone.\r\nHow can i do it?   \r\n\r\n     CronTrigger trigger = (CronTrigger) scheduler.getTrigger(key);\r\n     // trigger.setTimeZone(&quot;..&quot;);-- not available","title":"Java Quartz Scheduler - update trigger timezone","body":"<p>I have existing CronTrigger and i want to update only the timeZone.\nHow can i do it?</p>\n<pre><code> CronTrigger trigger = (CronTrigger) scheduler.getTrigger(key);\n // trigger.setTimeZone(&quot;..&quot;);-- not available\n</code></pre>\n"},{"tags":["java","spring","spring-security"],"answers":[{"tags":[],"owner":{"account_id":7134819,"reputation":5058,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637844892,"creation_date":1637844892,"answer_id":70111492,"question_id":70096839,"body_markdown":"I&#39;m afraid that that is the cleanest solution.\r\nTo check roles for some routes, you can configure your `HttpSecurity` to check roles before even getting to the controller, like so:\r\n\r\n```java\r\n@Bean\r\nSecurityFilterChain app(HttpSecurity http) throws Exception {\r\n    http.authorizeHttpRequests((requests) -&gt; requests\r\n        .antMatchers(&quot;/route1&quot;).hasAnyRole(&quot;ADMIN&quot;, &quot;USER&quot;)\r\n    )\r\n    return http.build();\r\n}\r\n```\r\n\r\nSo, with this configuration, you are making sure that only `ROLE_USER` or `ROLE_ADMIN` are allowed to request `/route1`.\r\n\r\nBut now, the `ROLE_USER` is allowed only if they are the resource owners. For this, you must have to resolve the method parameters to know which resource you are requesting. And then, in the `@PreAuthorize`, you can do something like this:\r\n\r\n```java\r\n@PreAuthorize(&quot;@myBean.isResourceOwner(resourceId, authentication)&quot;)\r\n@PutMapping(&quot;/{resourceId}&quot;)\r\npublic void update(@PathVariable Long resourceId) {\r\n    ...\r\n}\r\n```","title":"How to check security access before validation (@Valid) in Controller?","body":"<p>I'm afraid that that is the cleanest solution.\nTo check roles for some routes, you can configure your <code>HttpSecurity</code> to check roles before even getting to the controller, like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nSecurityFilterChain app(HttpSecurity http) throws Exception {\n    http.authorizeHttpRequests((requests) -&gt; requests\n        .antMatchers(&quot;/route1&quot;).hasAnyRole(&quot;ADMIN&quot;, &quot;USER&quot;)\n    )\n    return http.build();\n}\n</code></pre>\n<p>So, with this configuration, you are making sure that only <code>ROLE_USER</code> or <code>ROLE_ADMIN</code> are allowed to request <code>/route1</code>.</p>\n<p>But now, the <code>ROLE_USER</code> is allowed only if they are the resource owners. For this, you must have to resolve the method parameters to know which resource you are requesting. And then, in the <code>@PreAuthorize</code>, you can do something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PreAuthorize(&quot;@myBean.isResourceOwner(resourceId, authentication)&quot;)\n@PutMapping(&quot;/{resourceId}&quot;)\npublic void update(@PathVariable Long resourceId) {\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":6872186,"reputation":402,"user_id":5282089,"display_name":"Jedupont"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":986,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70111492,"answer_count":1,"score":0,"last_activity_date":1637844892,"creation_date":1637760027,"question_id":70096839,"body_markdown":"I am creating a Restful API with Spring Boot 2.5 and would like to know the right way to implement validation while checking roles for some routes. Also, for some routes I need to make sure that only admins can modify the resource or its owner.\r\n\r\n`@PreAuthorize` seems to be the solution, but `@Valid` seems to be processed before an actual method call, otherwise known as executed before `@PreAuthorize`.\r\n\r\nSee : https://stackoverflow.com/questions/22780668/how-to-check-security-acess-secured-or-preauthorize-before-validation-vali\r\n\r\nIs this really the only available and **clean** solution to make a Restful API with both validation and roles with Spring Boot &amp; Spring Security?","title":"How to check security access before validation (@Valid) in Controller?","body":"<p>I am creating a Restful API with Spring Boot 2.5 and would like to know the right way to implement validation while checking roles for some routes. Also, for some routes I need to make sure that only admins can modify the resource or its owner.</p>\n<p><code>@PreAuthorize</code> seems to be the solution, but <code>@Valid</code> seems to be processed before an actual method call, otherwise known as executed before <code>@PreAuthorize</code>.</p>\n<p>See : <a href=\"https://stackoverflow.com/questions/22780668/how-to-check-security-acess-secured-or-preauthorize-before-validation-vali\">How to check security acess (@Secured or @PreAuthorize) before validation (@Valid) in my Controller?</a></p>\n<p>Is this really the only available and <strong>clean</strong> solution to make a Restful API with both validation and roles with Spring Boot &amp; Spring Security?</p>\n"},{"tags":["java","pattern-matching"],"comments":[{"owner":{"account_id":4850479,"reputation":63,"user_id":3912886,"accept_rate":88,"display_name":"user3912886"},"score":0,"creation_date":1412074165,"post_id":26117230,"comment_id":40934176,"body_markdown":"Please run the above code.What it shows. sample.txt file contains the text.I initialize that text in String variable text for understand what is in file.Please check it my task.Thank you all.","body":"Please run the above code.What it shows. sample.txt file contains the text.I initialize that text in String variable text for understand what is in file.Please check it my task.Thank you all."}],"answers":[{"tags":[],"owner":{"account_id":4686595,"reputation":5802,"user_id":3793867,"accept_rate":29,"display_name":"Darshan Lila"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1412069572,"creation_date":1412069241,"answer_id":26117285,"question_id":26117230,"body_markdown":"You can try it following way:\r\n\r\n    String test=&quot;demo string&quot;;\r\n    System.out.println(test.indexOf(&quot;demo&quot;));\r\n\r\n**Output :**\r\n\r\n    0\r\n\r\nNote: `indexOf()` will return the position of first character if it finds a string, else `-1` is returned. Alternatively you can use `Regular Expressions` to search complex strings as well.\r\n\r\n`Using Regular Expressions :`\r\n\r\n        Pattern p = Pattern.compile(&quot;[0-9]&quot;);\r\n\t    Matcher m = p.matcher(&quot;23asd56&quot;);\r\n\t    while(m.find()){\r\n\t    \tSystem.out.println(m.group());\r\n\t    }\r\n\r\n**Output :**\r\n\r\n    2\r\n    3\r\n    5\r\n    6\r\n\r\n","title":"How to find out a given string in a line using java","body":"<p>You can try it following way:</p>\n\n<pre><code>String test=\"demo string\";\nSystem.out.println(test.indexOf(\"demo\"));\n</code></pre>\n\n<p><strong>Output :</strong></p>\n\n<pre><code>0\n</code></pre>\n\n<p>Note: <code>indexOf()</code> will return the position of first character if it finds a string, else <code>-1</code> is returned. Alternatively you can use <code>Regular Expressions</code> to search complex strings as well.</p>\n\n<p><code>Using Regular Expressions :</code></p>\n\n<pre><code>    Pattern p = Pattern.compile(\"[0-9]\");\n    Matcher m = p.matcher(\"23asd56\");\n    while(m.find()){\n        System.out.println(m.group());\n    }\n</code></pre>\n\n<p><strong>Output :</strong></p>\n\n<pre><code>2\n3\n5\n6\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1412069322,"creation_date":1412069322,"answer_id":26117312,"question_id":26117230,"body_markdown":"You will have to use `Pattern` and `Matcher` classes like this:\r\n\r\n    Pattern p = Pattern.compile(myRegex);\r\n    Matcher m = p.matcher(myString);\r\n    while(m.find()){\r\n    //print m.group();\r\n    }\r\n\r\n","title":"How to find out a given string in a line using java","body":"<p>You will have to use <code>Pattern</code> and <code>Matcher</code> classes like this:</p>\n\n<pre><code>Pattern p = Pattern.compile(myRegex);\nMatcher m = p.matcher(myString);\nwhile(m.find()){\n//print m.group();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":450898,"reputation":15332,"user_id":846476,"accept_rate":86,"display_name":"RNJ"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1412072663,"creation_date":1412069579,"answer_id":26117398,"question_id":26117230,"body_markdown":"or you should use [String Contains][1]\r\n\r\n    String test=&quot;demo string&quot;;\r\n    System.out.println(test.contains(&quot;demo&quot;));\r\n\r\nThis will then return true or false\r\n\r\nIf you dont care about case you will have to do\r\n\r\n    System.out.println(test.toLowerCase().contains(new String(&quot;demo&quot;).toLowerCase()));\r\n\r\ncontains is case sensitive\r\n\r\nIt wont do any fancy regex though just a simple check for comparison\r\n\r\nEdit\r\n   \r\n    String str = new String(&quot;demo&quot;);\r\n    if (test.toLowerCase().contains(str.toLowerCase())) {\r\n        System.out.println(str);\r\n    }\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#contains(java.lang.CharSequence)","title":"How to find out a given string in a line using java","body":"<p>or you should use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#contains(java.lang.CharSequence)\" rel=\"nofollow\">String Contains</a></p>\n\n<pre><code>String test=\"demo string\";\nSystem.out.println(test.contains(\"demo\"));\n</code></pre>\n\n<p>This will then return true or false</p>\n\n<p>If you dont care about case you will have to do</p>\n\n<pre><code>System.out.println(test.toLowerCase().contains(new String(\"demo\").toLowerCase()));\n</code></pre>\n\n<p>contains is case sensitive</p>\n\n<p>It wont do any fancy regex though just a simple check for comparison</p>\n\n<p>Edit</p>\n\n<pre><code>String str = new String(\"demo\");\nif (test.toLowerCase().contains(str.toLowerCase())) {\n    System.out.println(str);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1412070265,"creation_date":1412069651,"answer_id":26117425,"question_id":26117230,"body_markdown":"The issue here is that (unlike most other languages) in java, `matches()` must match the *whole* string to be true, so add `&quot;.*&quot;` to each end of the pattern.\r\n\r\nBecause you have newline chars in your input, you also need to add `(?s)` to turn on the DOTALL flag, which causes the dot to match newlines too:\r\n\r\n    boolean b = Pattern.matches(&quot;(?s).*\\\\b&quot;+searchStr+&quot;\\\\b.*&quot;, line);","title":"How to find out a given string in a line using java","body":"<p>The issue here is that (unlike most other languages) in java, <code>matches()</code> must match the <em>whole</em> string to be true, so add <code>\".*\"</code> to each end of the pattern.</p>\n\n<p>Because you have newline chars in your input, you also need to add <code>(?s)</code> to turn on the DOTALL flag, which causes the dot to match newlines too:</p>\n\n<pre><code>boolean b = Pattern.matches(\"(?s).*\\\\b\"+searchStr+\"\\\\b.*\", line);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5038137,"reputation":484,"user_id":4046372,"display_name":"santhosh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1412069721,"creation_date":1412069721,"answer_id":26117451,"question_id":26117230,"body_markdown":"Just use this pattern as below  simple!!!!!:\r\n\r\n \r\n\r\n   \r\n\r\n    String pattern = &quot;.*?\\\\the\\\\b.*?&quot;;\r\n    \r\n          // Create a Pattern object\r\n          Pattern r = Pattern.compile(pattern);\r\n    \r\n          // Now create matcher object.\r\n          Matcher m = r.matcher(line);\r\n          if (m.find( )) {\r\n             System.out.println(&quot;Found value: &quot; + m.group(0) );\r\n             System.out.println(&quot;Found value: &quot; + m.group(1) );\r\n             System.out.println(&quot;Found value: &quot; + m.group(2) );\r\n          } else {\r\n             System.out.println(&quot;NO MATCH&quot;);\r\n          }\r\n\r\nI Hope this will help you","title":"How to find out a given string in a line using java","body":"<p>Just use this pattern as below  simple!!!!!:</p>\n\n<pre><code>String pattern = \".*?\\\\the\\\\b.*?\";\n\n      // Create a Pattern object\n      Pattern r = Pattern.compile(pattern);\n\n      // Now create matcher object.\n      Matcher m = r.matcher(line);\n      if (m.find( )) {\n         System.out.println(\"Found value: \" + m.group(0) );\n         System.out.println(\"Found value: \" + m.group(1) );\n         System.out.println(\"Found value: \" + m.group(2) );\n      } else {\n         System.out.println(\"NO MATCH\");\n      }\n</code></pre>\n\n<p>I Hope this will help you</p>\n"},{"tags":[],"owner":{"account_id":5057945,"reputation":316,"user_id":4060559,"display_name":"HaRLoFei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1412162300,"creation_date":1412074083,"answer_id":26118871,"question_id":26117230,"body_markdown":"Does my answer below works for you?\r\n\r\n\tpublic static void main (String [] args){\r\n\t\tString given = &quot;dsfhgs the dgfre fh \\n&quot; +\r\n\t\t\t\t&quot;hjfgeh fhg hghjr \\n&quot; +\r\n\t\t\t\t&quot;fhvhjf the vgh fhjghf \\n&quot; +\r\n\t\t\t\t&quot;fbvhjfd  fhvfg fjvhf \\n&quot; +\r\n\t\t\t\t&quot;the hfdvhjf vhf  fhdvjfd \\n&quot; +\r\n\t\t\t\t&quot;hfvbhd thehjdvhj hdfvhdf.&quot; ;\r\n        String[] lines = given.split(&quot;\\n&quot;);\r\n\t\tString searchStr = &quot;the&quot;;\t\t\r\n\t\t for(String line : lines)\r\n\t\t {\r\n\r\n\t\t\t String[] wordOfLine = line.split(&quot; &quot;);\r\n\t\t\t boolean match = false;\r\n\t\t\t for(String word : wordOfLine)\r\n\t\t\t {\r\n\t\t\t        if (searchStr.equals(word)) \r\n\t\t\t        {\r\n\t\t\t        \tmatch = true;\r\n\t\t\t        } \r\n\t\t\t }\r\n\t\t\t \r\n\t\t\t if(match)\r\n\t\t\t {\r\n\t\t\t\t System.out.println(&quot;Found value: &quot; + searchStr);\r\n\t\t\t }\r\n\t\t\t else \r\n\t\t\t {\r\n\t\t         System.out.println(&quot;NO MATCH&quot;);\r\n\t\t     }\r\n\t\t\t \r\n\t\t}\r\n\r\n\r\n\t}","title":"How to find out a given string in a line using java","body":"<p>Does my answer below works for you?</p>\n\n<pre><code>public static void main (String [] args){\n    String given = \"dsfhgs the dgfre fh \\n\" +\n            \"hjfgeh fhg hghjr \\n\" +\n            \"fhvhjf the vgh fhjghf \\n\" +\n            \"fbvhjfd  fhvfg fjvhf \\n\" +\n            \"the hfdvhjf vhf  fhdvjfd \\n\" +\n            \"hfvbhd thehjdvhj hdfvhdf.\" ;\n    String[] lines = given.split(\"\\n\");\n    String searchStr = \"the\";       \n     for(String line : lines)\n     {\n\n         String[] wordOfLine = line.split(\" \");\n         boolean match = false;\n         for(String word : wordOfLine)\n         {\n                if (searchStr.equals(word)) \n                {\n                    match = true;\n                } \n         }\n\n         if(match)\n         {\n             System.out.println(\"Found value: \" + searchStr);\n         }\n         else \n         {\n             System.out.println(\"NO MATCH\");\n         }\n\n    }\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12951917,"reputation":1,"user_id":11499246,"display_name":"V&#237;tek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637844810,"creation_date":1637844810,"answer_id":70111464,"question_id":26117230,"body_markdown":"    text.split(&quot;\\n&quot;)).filter(line -&gt; line.contains(&quot;the&quot;)).forEach(value -&gt; System.out.println(&quot;Found value: &quot; + value));","title":"How to find out a given string in a line using java","body":"<pre><code>text.split(&quot;\\n&quot;)).filter(line -&gt; line.contains(&quot;the&quot;)).forEach(value -&gt; System.out.println(&quot;Found value: &quot; + value));\n</code></pre>\n"}],"owner":{"account_id":4850479,"reputation":63,"user_id":3912886,"accept_rate":88,"display_name":"user3912886"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8088,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":26118871,"answer_count":7,"score":1,"last_activity_date":1637844810,"creation_date":1412069085,"question_id":26117230,"body_markdown":"I want find a Given sting in a line.For this I have wrote the code.I use the Pattern class to find the whether the give string is available in a line or not.It is gives the lines,those are not have given string.I want the lines those have the given string.Please check it my code.\r\n\r\nCode:\r\n\r\n     public class StringMatch {\r\n      public static void main(String args[]) throws FileNotFoundException, IOException{\r\n        String text=&quot;dsfhgs the dgfre fh&quot; +\r\n                    &quot;hjfgeh fhg hghjr&quot; +\r\n                    &quot;fhvhjf the vgh fhjghf&quot; +\r\n                    &quot;fbvhjfd  fhvfg fjvhf&quot; +\r\n                    &quot;the hfdvhjf vhf  fhdvjfd&quot; +\r\n                    &quot;hfvbhd thehjdvhj hdfvhdf&quot;;\r\n        String pattern = &quot;.*?\\\\the\\\\b.*?&quot;;\r\n        String f=&quot;C:\\\\TextFiles\\\\sample.txt&quot;;\r\n        String line;\r\n        BufferedReader br = new BufferedReader(new FileReader(f));\r\n        while(br.readLine()!=null) {\r\n            line=br.readLine();\r\n            Pattern r = Pattern.compile(pattern);\r\n            Matcher m = r.matcher(line);\r\n            if (m.find( )) {\r\n                System.out.println(&quot;Found value: &quot; + m.group(0) );\r\n                System.out.println(&quot;Found value: &quot; + m.group(1) );\r\n                System.out.println(&quot;Found value: &quot; + m.group(2) );\r\n            } else {\r\n                System.out.println(&quot;NO MATCH&quot;);\r\n        }\r\n        }\r\n     }\r\n    }","title":"How to find out a given string in a line using java","body":"<p>I want find a Given sting in a line.For this I have wrote the code.I use the Pattern class to find the whether the give string is available in a line or not.It is gives the lines,those are not have given string.I want the lines those have the given string.Please check it my code.</p>\n\n<p>Code:</p>\n\n<pre><code> public class StringMatch {\n  public static void main(String args[]) throws FileNotFoundException, IOException{\n    String text=\"dsfhgs the dgfre fh\" +\n                \"hjfgeh fhg hghjr\" +\n                \"fhvhjf the vgh fhjghf\" +\n                \"fbvhjfd  fhvfg fjvhf\" +\n                \"the hfdvhjf vhf  fhdvjfd\" +\n                \"hfvbhd thehjdvhj hdfvhdf\";\n    String pattern = \".*?\\\\the\\\\b.*?\";\n    String f=\"C:\\\\TextFiles\\\\sample.txt\";\n    String line;\n    BufferedReader br = new BufferedReader(new FileReader(f));\n    while(br.readLine()!=null) {\n        line=br.readLine();\n        Pattern r = Pattern.compile(pattern);\n        Matcher m = r.matcher(line);\n        if (m.find( )) {\n            System.out.println(\"Found value: \" + m.group(0) );\n            System.out.println(\"Found value: \" + m.group(1) );\n            System.out.println(\"Found value: \" + m.group(2) );\n        } else {\n            System.out.println(\"NO MATCH\");\n    }\n    }\n }\n}\n</code></pre>\n"},{"tags":["java","spring","junit","spring-security","mockmvc"],"comments":[{"owner":{"account_id":3558841,"reputation":2777,"user_id":2971820,"display_name":"jpmottin"},"score":0,"creation_date":1618836387,"post_id":42466954,"comment_id":118715410,"body_markdown":"This StackOverflow answer is pretty much instructive : [Spring Test &amp; Security: How to mock authentication?](https://stackoverflow.com/a/43920932/2971820)","body":"This StackOverflow answer is pretty much instructive : <a href=\"https://stackoverflow.com/a/43920932/2971820\">Spring Test &amp; Security: How to mock authentication?</a>"}],"answers":[{"tags":[],"owner":{"account_id":2030745,"reputation":1718,"user_id":1814524,"accept_rate":83,"display_name":"hya"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1541366130,"creation_date":1488120799,"answer_id":42469962,"question_id":42466954,"body_markdown":"Unfortunately, you can&#39;t do easily `@WithUserDetails` with `@Before`, because Spring `@WithUserDetails` annotation will invoke Spring security context test listener before running `setUp` method with `@Before`.\r\n\r\nHere is https://stackoverflow.com/a/38282258/1814524 a little trick and answer to your question.","title":"Spring Security, JUnit: @WithUserDetails for user created in @Before","body":"<p>Unfortunately, you can't do easily <code>@WithUserDetails</code> with <code>@Before</code>, because Spring <code>@WithUserDetails</code> annotation will invoke Spring security context test listener before running <code>setUp</code> method with <code>@Before</code>.</p>\n\n<p>Here is <a href=\"https://stackoverflow.com/a/38282258/1814524\">https://stackoverflow.com/a/38282258/1814524</a> a little trick and answer to your question.</p>\n"},{"tags":[],"owner":{"account_id":5847688,"reputation":11485,"user_id":4607349,"accept_rate":74,"display_name":"Michal Foksa"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1490423801,"creation_date":1490423801,"answer_id":43013359,"question_id":42466954,"body_markdown":"\r\n\r\n    @Inject\r\n    private EntityManager em;\r\n\r\n    @Inject\r\n    PlatformTransactionManager txManager;\r\n\r\n    @BeforeTransaction\r\n    public void setup() {\r\n        new TransactionTemplate(txManager).execute(status -&gt; {\r\n\r\n            User u = new User();\r\n            u.setEMail(&quot;test@test.de&quot;);\r\n            em.save(u);\r\n\r\n            return null;\r\n        });\r\n    }\r\n\r\n    @AfterTransaction\r\n    public void cleanup() {\r\n        new TransactionTemplate(txManager).execute(status -&gt; {\r\n            // Check if the entity is managed by EntityManager.\r\n            // If not, make it managed with merge() and remove it.\r\n            em.remove(em.contains(u) ? user1 : em.merge(u));\r\n            return null;\r\n        });\r\n    }\r\n\r\n\t\r\n    @Test\r\n    @Transactional\r\n    @WithUserDetails(value = &quot;test@test.de&quot;, userDetailsServiceBeanName = &quot;loadUserByUsername&quot;)\r\n    public void test() {\r\n\r\n    }\r\n","title":"Spring Security, JUnit: @WithUserDetails for user created in @Before","body":"<pre><code>@Inject\nprivate EntityManager em;\n\n@Inject\nPlatformTransactionManager txManager;\n\n@BeforeTransaction\npublic void setup() {\n    new TransactionTemplate(txManager).execute(status -&gt; {\n\n        User u = new User();\n        u.setEMail(\"test@test.de\");\n        em.save(u);\n\n        return null;\n    });\n}\n\n@AfterTransaction\npublic void cleanup() {\n    new TransactionTemplate(txManager).execute(status -&gt; {\n        // Check if the entity is managed by EntityManager.\n        // If not, make it managed with merge() and remove it.\n        em.remove(em.contains(u) ? user1 : em.merge(u));\n        return null;\n    });\n}\n\n\n@Test\n@Transactional\n@WithUserDetails(value = \"test@test.de\", userDetailsServiceBeanName = \"loadUserByUsername\")\npublic void test() {\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3056767,"reputation":263,"user_id":2590198,"display_name":"gofabian"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1561712358,"creation_date":1561712358,"answer_id":56803892,"question_id":42466954,"body_markdown":"You can use `@PostConstruct` instead of `@Before`. That did the trick for me. Can anybody confirm that?","title":"Spring Security, JUnit: @WithUserDetails for user created in @Before","body":"<p>You can use <code>@PostConstruct</code> instead of <code>@Before</code>. That did the trick for me. Can anybody confirm that?</p>\n"},{"tags":[],"owner":{"account_id":7088320,"reputation":4520,"user_id":5424426,"display_name":"Newbie"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1637844248,"creation_date":1637844248,"answer_id":70111345,"question_id":42466954,"body_markdown":"## Use `setupBefore = TEST_EXECUTION`\r\nThis will effectively cause `@WithUserDetails` to execute after `@Before` and `@BeforeEach`\r\n\r\n```\r\n@BeforeEach\r\npublic void createUser() {\r\n   ...\r\n}\r\n\r\n@Test\r\n@WithUserDetails(value = &quot;username&quot;, setupBefore = TestExecutionEvent.TEST_EXECUTION)\r\npublic void expectToWork() {\r\n   ...\r\n}\r\n```","title":"Spring Security, JUnit: @WithUserDetails for user created in @Before","body":"<h2>Use <code>setupBefore = TEST_EXECUTION</code></h2>\n<p>This will effectively cause <code>@WithUserDetails</code> to execute after <code>@Before</code> and <code>@BeforeEach</code></p>\n<pre><code>@BeforeEach\npublic void createUser() {\n   ...\n}\n\n@Test\n@WithUserDetails(value = &quot;username&quot;, setupBefore = TestExecutionEvent.TEST_EXECUTION)\npublic void expectToWork() {\n   ...\n}\n</code></pre>\n"}],"owner":{"account_id":2054216,"reputation":672,"user_id":1832445,"accept_rate":100,"display_name":"elaforma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15325,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":42469962,"answer_count":4,"score":27,"last_activity_date":1637844248,"creation_date":1488102463,"question_id":42466954,"body_markdown":"In JUnit tests with Spring MockMVC, there are two methods for authenticating as a Spring Security user: `@WithMockUser` creates a dummy user with the provided credentials, `@WithUserDetails` takes a user&#39;s name and resolves it to the correct custom `UserDetails` implementation with a custom `UserDetailsService` (the `UserDetailsServiceImpl`).\r\n\r\nIn my case, the `UserDetailsService` loads an user from the database. The user I want to use was inserted in the `@Before` method of the test suite.\r\n\r\nHowever, my `UserDetailsServiceImpl` does not find the user.\r\n\r\nIn my `@Before`, I insert the user like this:\r\n\r\n    User u = new User();\r\n    u.setEMail(&quot;test@test.de&quot;);\r\n    u = userRepository.save(u);\r\n\r\nAnd in the `UserDetailsServiceImpl`:\r\n\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n        User user = this.userRepository.findOneByEMail(username);\r\n\r\n        if (user == null)\r\n            throw new UsernameNotFoundException(String.format(&quot;No user found with username &#39;%s&#39;.&quot;, username));\r\n        return user;\r\n    }\r\n\r\nHow can I use an account created in `@Before` with `@WithUserDetails`?","title":"Spring Security, JUnit: @WithUserDetails for user created in @Before","body":"<p>In JUnit tests with Spring MockMVC, there are two methods for authenticating as a Spring Security user: <code>@WithMockUser</code> creates a dummy user with the provided credentials, <code>@WithUserDetails</code> takes a user's name and resolves it to the correct custom <code>UserDetails</code> implementation with a custom <code>UserDetailsService</code> (the <code>UserDetailsServiceImpl</code>).</p>\n\n<p>In my case, the <code>UserDetailsService</code> loads an user from the database. The user I want to use was inserted in the <code>@Before</code> method of the test suite.</p>\n\n<p>However, my <code>UserDetailsServiceImpl</code> does not find the user.</p>\n\n<p>In my <code>@Before</code>, I insert the user like this:</p>\n\n<pre><code>User u = new User();\nu.setEMail(\"test@test.de\");\nu = userRepository.save(u);\n</code></pre>\n\n<p>And in the <code>UserDetailsServiceImpl</code>:</p>\n\n<pre><code>public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n    User user = this.userRepository.findOneByEMail(username);\n\n    if (user == null)\n        throw new UsernameNotFoundException(String.format(\"No user found with username '%s'.\", username));\n    return user;\n}\n</code></pre>\n\n<p>How can I use an account created in <code>@Before</code> with <code>@WithUserDetails</code>?</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1637780281,"post_id":70101522,"comment_id":123920052,"body_markdown":"It validates those with the ones in the database, what else would it do?","body":"It validates those with the ones in the database, what else would it do?"},{"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"score":0,"creation_date":1637780965,"post_id":70101522,"comment_id":123920303,"body_markdown":"@M.Deinum yes it works perfectly: it validates with the expected username and password that I have in my DB. My doubt is not if it works (it works) but how it works? because I can&#39;t find configuration that say something like: &quot;the username and password are in this fields of this table&quot;","body":"@M.Deinum yes it works perfectly: it validates with the expected username and password that I have in my DB. My doubt is not if it works (it works) but how it works? because I can&#39;t find configuration that say something like: &quot;the username and password are in this fields of this table&quot;"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1637781149,"post_id":70101522,"comment_id":123920363,"body_markdown":"Well you configured something **or** your database happens to fullfil the default JDBC schema used by Spring Security. Without seeing how you configured security this is basically impossible to tell.","body":"Well you configured something <b>or</b> your database happens to fullfil the default JDBC schema used by Spring Security. Without seeing how you configured security this is basically impossible to tell."}],"answers":[{"tags":[],"owner":{"account_id":7134819,"reputation":5058,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1637844125,"creation_date":1637844125,"answer_id":70111324,"question_id":70101522,"body_markdown":"Usually, the implementation of `AuthenticationManager` is a `ProviderManager`, which will loop through all the configured `AuthenticationProvider`s and try to authenticate using the credentials provided.\r\n\r\nOne of the `AuthenticationProvider`s, is `DaoAuthenticationProvider`, which supports a `UsernamePasswordAuthenticationToken` and uses the `UserDetailsService` (you have a `customUserDetailsService`) to retrieve the user and compare the `password` using the configured `PasswordEncoder`.\r\n\r\n[![DaoAuthenticationProvider diagram][1]][1]\r\n\r\n\r\nThere is a more detailed explanation in the reference docs about the [Authentication Architecture][2].\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tn5yc.png\r\n  [2]: https://docs.spring.io/spring-security/reference/servlet/authentication/architecture.html","title":"How the Spring Security AuthenticationManager authenticate() method is able to check if the username and password sent are correct?","body":"<p>Usually, the implementation of <code>AuthenticationManager</code> is a <code>ProviderManager</code>, which will loop through all the configured <code>AuthenticationProvider</code>s and try to authenticate using the credentials provided.</p>\n<p>One of the <code>AuthenticationProvider</code>s, is <code>DaoAuthenticationProvider</code>, which supports a <code>UsernamePasswordAuthenticationToken</code> and uses the <code>UserDetailsService</code> (you have a <code>customUserDetailsService</code>) to retrieve the user and compare the <code>password</code> using the configured <code>PasswordEncoder</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/tn5yc.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/tn5yc.png\" alt=\"DaoAuthenticationProvider diagram\" /></a></p>\n<p>There is a more detailed explanation in the reference docs about the <a href=\"https://docs.spring.io/spring-security/reference/servlet/authentication/architecture.html\" rel=\"noreferrer\">Authentication Architecture</a>.</p>\n"}],"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7741,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70111324,"answer_count":1,"score":3,"last_activity_date":1637844125,"creation_date":1637780072,"question_id":70101522,"body_markdown":"I am working on a Spring Boot application that take the username and password of an existing user on the system and then generates a JWT token. I copied it from a tutorial and I changed it in order to work with my specific use cases. The logic is pretty clear to me but I have a big doubt about how the user is authenticated on the system. Following I will try to explain you as this is structured and what is my doubt.\r\n\r\nThe JWT generation token system is composed by two different micro services, that are:\r\n \r\n\r\nThe **GET-USER-WS:** this microservice simmply use Hibernate\\JPA to retrieve the information of a specific user in the system. Basically it contains a controller class calling a service class that itself calla JPA repository in order to retrieve a specific user information:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;api/users&quot;)\r\n    @Log\r\n    public class UserController {\r\n    \t\r\n    \t@Autowired\r\n    \tUserService userService;\r\n    \t\r\n    \t@GetMapping(value = &quot;/{email}&quot;, produces = &quot;application/json&quot;)\r\n    \tpublic ResponseEntity&lt;User&gt; getUserByEmail(@PathVariable(&quot;email&quot;) String eMail) throws NotFoundException  {\r\n    \t\t\r\n    \t\tlog.info(String.format(&quot;****** Get the user with eMail %s *******&quot;, eMail) );\r\n    \t\t\r\n    \t\tUser user = userService.getUserByEmail(eMail);\r\n    \t\t\r\n    \t\tif (user == null)\r\n    \t\t{\r\n    \t\t\tString ErrMsg = String.format(&quot;The user with eMail %s was not found&quot;, eMail);\r\n    \t\t\t\r\n    \t\t\tlog.warning(ErrMsg);\r\n    \t\t\t\r\n    \t\t\tthrow new NotFoundException(ErrMsg);\r\n    \t\t}\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\treturn new ResponseEntity&lt;User&gt;(user, HttpStatus.OK);\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\nAs you can see this controller contains an API that use the e-mail parameter (that is the username on the system) and return a JSON containing the information of this user.\r\n\r\nThen I have a second microservice (named **AUTH-SERVER-JWT**) that is the one that call the previous API in order to obtain the user information that will be used to generate the JWT token. To keep the description as simple as possible it contains this controller class:\r\n\r\n\t@RestController\r\n\t//@CrossOrigin(origins = &quot;http://localhost:4200&quot;)\r\n\tpublic class JwtAuthenticationRestController  {\r\n\r\n\t\t@Value(&quot;${sicurezza.header}&quot;)\r\n\t\tprivate String tokenHeader;\r\n\r\n\t\t@Autowired\r\n\t\tprivate AuthenticationManager authenticationManager;\r\n\r\n\t\t@Autowired\r\n\t\tprivate JwtTokenUtil jwtTokenUtil;\r\n\r\n\t\t@Autowired\r\n\t\t@Qualifier(&quot;customUserDetailsService&quot;)\r\n\t\t//private UserDetailsService userDetailsService;\r\n\t\tprivate CustomUserDetailsService userDetailsService;\r\n\t\t\r\n\t\tprivate static final Logger logger = LoggerFactory.getLogger(JwtAuthenticationRestController.class);\r\n\r\n\t\t@PostMapping(value = &quot;${sicurezza.uri}&quot;)\r\n\t\tpublic ResponseEntity&lt;?&gt; createAuthenticationToken(@RequestBody JwtTokenRequest authenticationRequest)\r\n\t\t\t\tthrows AuthenticationException {\r\n\t\t\tlogger.info(&quot;Autenticazione e Generazione Token&quot;);\r\n\r\n\t\t\tauthenticate(authenticationRequest.getUsername(), authenticationRequest.getPassword());\r\n\r\n\t\t\t//final UserDetails userDetails = userDetailsService.loadUserByUsername(authenticationRequest.getUsername());\r\n\t\t\tfinal UserDetailsWrapper userDetailsWrapper = userDetailsService.loadCompleteUserByUsername(authenticationRequest.getUsername());\r\n\r\n\t\t\tfinal String token = jwtTokenUtil.generateToken(userDetailsWrapper);\r\n\t\t\t\r\n\t\t\tlogger.warn(String.format(&quot;Token %s&quot;, token));\r\n\r\n\t\t\treturn ResponseEntity.ok(new JwtTokenResponse(token));\r\n\t\t}\r\n\r\n\t\t@RequestMapping(value = &quot;${sicurezza.uri}&quot;, method = RequestMethod.GET)\r\n\t\tpublic ResponseEntity&lt;?&gt; refreshAndGetAuthenticationToken(HttpServletRequest request) \r\n\t\t\t\tthrows Exception \r\n\t\t{\r\n\t\t\tString authToken = request.getHeader(tokenHeader);\r\n\t\t\t\r\n\t\t\tif (authToken == null || authToken.length() &lt; 7)\r\n\t\t\t{\r\n\t\t\t\tthrow new Exception(&quot;Token assente o non valido!&quot;);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfinal String token = authToken.substring(7);\r\n\t\t\t\r\n\t\t\tif (jwtTokenUtil.canTokenBeRefreshed(token)) \r\n\t\t\t{\r\n\t\t\t\tString refreshedToken = jwtTokenUtil.refreshToken(token);\r\n\t\t\t\t\r\n\t\t\t\treturn ResponseEntity.ok(new JwtTokenResponse(refreshedToken));\r\n\t\t\t} \r\n\t\t\telse \r\n\t\t\t{\r\n\t\t\t\treturn ResponseEntity.badRequest().body(null);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t@ExceptionHandler({ AuthenticationException.class })\r\n\t\tpublic ResponseEntity&lt;String&gt; handleAuthenticationException(AuthenticationException e) \r\n\t\t{\r\n\t\t\treturn ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(e.getMessage());\r\n\t\t}\r\n\r\n\t\tprivate void authenticate(String username, String password) \r\n\t\t{\r\n\t\t\tObjects.requireNonNull(username);\r\n\t\t\tObjects.requireNonNull(password);\r\n\r\n\t\t\ttry {\t\r\n\t\t\t\t/// ???\r\n\t\t\t\tauthenticationManager.authenticate(new UsernamePasswordAuthenticationToken(username, password));\r\n\t\t\t} \r\n\t\t\tcatch (DisabledException e) \r\n\t\t\t{\r\n\t\t\t\tlogger.warn(&quot;UTENTE DISABILITATO&quot;);\r\n\t\t\t\tthrow new AuthenticationException(&quot;UTENTE DISABILITATO&quot;, e);\r\n\t\t\t} \r\n\t\t\tcatch (BadCredentialsException e) \r\n\t\t\t{\r\n\t\t\t\tlogger.warn(&quot;CREDENZIALI NON VALIDE&quot;);\r\n\t\t\t\tthrow new AuthenticationException(&quot;CREDENZIALI NON VALIDE&quot;, e);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nThis class contains two method, the first one is used to generate a brand new JWT token and the second one it is used to refresh an existing JWT token. Consider now the first use case (generate a brand new JWT token) related to the **createAuthenticationToken()** method. This method take as input parmether the information related to the JWT token request: **@RequestBody JwtTokenRequest authenticationRequest**. Bascailly the **JwtTokenRequest** is a simple DTO object like this:\r\n\r\n    @Data\r\n    public class JwtTokenRequest implements Serializable \r\n    {\r\n    \tprivate static final long serialVersionUID = -3558537416135446309L;\r\n    \tprivate String username;\r\n    \tprivate String password;\r\n    }\r\n\r\nSo the payload in the body request will be something like this:\r\n\r\n    {\r\n        &quot;username&quot;: &quot;xxx@gmail.com&quot;,\r\n        &quot;password&quot;: &quot;password&quot; \r\n    }\r\n\r\n**NOTE:** in my DB I have a user having this username and password so the user will be retrieved and authenticated on the system.\r\n\r\nAs you can see the first effective operation that the **createAuthenticationToken()** method do is:\r\n\r\n    authenticate(authenticationRequest.getUsername(), authenticationRequest.getPassword());\r\n\r\nBasically it is calling the **authenticate()** method defined in the same class passing to it the previous credential (**&quot;username&quot;: &quot;xxx@gmail.com&quot;** and **&quot;password&quot;: &quot;password&quot;**).\r\n\r\nAs you can see this is my **authenticate()** method\r\n\r\n\tprivate void authenticate(String username, String password) \r\n\t{\r\n\t\tObjects.requireNonNull(username);\r\n\t\tObjects.requireNonNull(password);\r\n\r\n\t\ttry {\t\r\n\t\t\t/// ???\r\n\t\t\tauthenticationManager.authenticate(new UsernamePasswordAuthenticationToken(username, password));\r\n\t\t} \r\n\t\tcatch (DisabledException e) \r\n\t\t{\r\n\t\t\tlogger.warn(&quot;UTENTE DISABILITATO&quot;);\r\n\t\t\tthrow new AuthenticationException(&quot;UTENTE DISABILITATO&quot;, e);\r\n\t\t} \r\n\t\tcatch (BadCredentialsException e) \r\n\t\t{\r\n\t\t\tlogger.warn(&quot;CREDENTIAL ERROR&quot;);\r\n\t\t\tthrow new AuthenticationException(&quot;&quot;CREDENTIAL ERROR&quot;, e);\r\n\t\t}\r\n\t}\r\n\r\nBasically it is passing these credential to the **authenticate()** method defined into the injected Spring Security **AuthenticationManager** instance, by this line:\r\n\r\n    authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(username, password));\r\n\r\nThis method seems to be able to authenticate or not these credentials. And it seems to works fine because if I put a wrong username or password it goes into the **CREDENTIAL ERROR** case and it throw the **AuthenticationException** exception.\r\n\r\nAnd here my huge doubt: why it works?!?! How is it possible? If you come back to the **createAuthenticationToken()** controller method you can see that it does these two operation in the following order:\r\n\r\n    authenticate(authenticationRequest.getUsername(), authenticationRequest.getPassword());\r\n    \r\n    final UserDetailsWrapper userDetailsWrapper = userDetailsService.loadCompleteUserByUsername(authenticationRequest.getUsername());\r\n\r\nIt first perform the **authenticate()** method (that should check if theusername and password that was sent are correct), then call the service method that retrieve the user information. \r\n\r\nSho how the **authenticate()** method is able to check if the credential sent in the original payload are correct?\r\n\r\n\r\n","title":"How the Spring Security AuthenticationManager authenticate() method is able to check if the username and password sent are correct?","body":"<p>I am working on a Spring Boot application that take the username and password of an existing user on the system and then generates a JWT token. I copied it from a tutorial and I changed it in order to work with my specific use cases. The logic is pretty clear to me but I have a big doubt about how the user is authenticated on the system. Following I will try to explain you as this is structured and what is my doubt.</p>\n<p>The JWT generation token system is composed by two different micro services, that are:</p>\n<p>The <strong>GET-USER-WS:</strong> this microservice simmply use Hibernate\\JPA to retrieve the information of a specific user in the system. Basically it contains a controller class calling a service class that itself calla JPA repository in order to retrieve a specific user information:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;api/users&quot;)\n@Log\npublic class UserController {\n    \n    @Autowired\n    UserService userService;\n    \n    @GetMapping(value = &quot;/{email}&quot;, produces = &quot;application/json&quot;)\n    public ResponseEntity&lt;User&gt; getUserByEmail(@PathVariable(&quot;email&quot;) String eMail) throws NotFoundException  {\n        \n        log.info(String.format(&quot;****** Get the user with eMail %s *******&quot;, eMail) );\n        \n        User user = userService.getUserByEmail(eMail);\n        \n        if (user == null)\n        {\n            String ErrMsg = String.format(&quot;The user with eMail %s was not found&quot;, eMail);\n            \n            log.warning(ErrMsg);\n            \n            throw new NotFoundException(ErrMsg);\n        }\n            \n            \n        return new ResponseEntity&lt;User&gt;(user, HttpStatus.OK);\n        \n    }\n\n}\n</code></pre>\n<p>As you can see this controller contains an API that use the e-mail parameter (that is the username on the system) and return a JSON containing the information of this user.</p>\n<p>Then I have a second microservice (named <strong>AUTH-SERVER-JWT</strong>) that is the one that call the previous API in order to obtain the user information that will be used to generate the JWT token. To keep the description as simple as possible it contains this controller class:</p>\n<pre><code>@RestController\n//@CrossOrigin(origins = &quot;http://localhost:4200&quot;)\npublic class JwtAuthenticationRestController  {\n\n    @Value(&quot;${sicurezza.header}&quot;)\n    private String tokenHeader;\n\n    @Autowired\n    private AuthenticationManager authenticationManager;\n\n    @Autowired\n    private JwtTokenUtil jwtTokenUtil;\n\n    @Autowired\n    @Qualifier(&quot;customUserDetailsService&quot;)\n    //private UserDetailsService userDetailsService;\n    private CustomUserDetailsService userDetailsService;\n    \n    private static final Logger logger = LoggerFactory.getLogger(JwtAuthenticationRestController.class);\n\n    @PostMapping(value = &quot;${sicurezza.uri}&quot;)\n    public ResponseEntity&lt;?&gt; createAuthenticationToken(@RequestBody JwtTokenRequest authenticationRequest)\n            throws AuthenticationException {\n        logger.info(&quot;Autenticazione e Generazione Token&quot;);\n\n        authenticate(authenticationRequest.getUsername(), authenticationRequest.getPassword());\n\n        //final UserDetails userDetails = userDetailsService.loadUserByUsername(authenticationRequest.getUsername());\n        final UserDetailsWrapper userDetailsWrapper = userDetailsService.loadCompleteUserByUsername(authenticationRequest.getUsername());\n\n        final String token = jwtTokenUtil.generateToken(userDetailsWrapper);\n        \n        logger.warn(String.format(&quot;Token %s&quot;, token));\n\n        return ResponseEntity.ok(new JwtTokenResponse(token));\n    }\n\n    @RequestMapping(value = &quot;${sicurezza.uri}&quot;, method = RequestMethod.GET)\n    public ResponseEntity&lt;?&gt; refreshAndGetAuthenticationToken(HttpServletRequest request) \n            throws Exception \n    {\n        String authToken = request.getHeader(tokenHeader);\n        \n        if (authToken == null || authToken.length() &lt; 7)\n        {\n            throw new Exception(&quot;Token assente o non valido!&quot;);\n        }\n        \n        final String token = authToken.substring(7);\n        \n        if (jwtTokenUtil.canTokenBeRefreshed(token)) \n        {\n            String refreshedToken = jwtTokenUtil.refreshToken(token);\n            \n            return ResponseEntity.ok(new JwtTokenResponse(refreshedToken));\n        } \n        else \n        {\n            return ResponseEntity.badRequest().body(null);\n        }\n    }\n\n    @ExceptionHandler({ AuthenticationException.class })\n    public ResponseEntity&lt;String&gt; handleAuthenticationException(AuthenticationException e) \n    {\n        return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(e.getMessage());\n    }\n\n    private void authenticate(String username, String password) \n    {\n        Objects.requireNonNull(username);\n        Objects.requireNonNull(password);\n\n        try {   \n            /// ???\n            authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(username, password));\n        } \n        catch (DisabledException e) \n        {\n            logger.warn(&quot;UTENTE DISABILITATO&quot;);\n            throw new AuthenticationException(&quot;UTENTE DISABILITATO&quot;, e);\n        } \n        catch (BadCredentialsException e) \n        {\n            logger.warn(&quot;CREDENZIALI NON VALIDE&quot;);\n            throw new AuthenticationException(&quot;CREDENZIALI NON VALIDE&quot;, e);\n        }\n    }\n}\n</code></pre>\n<p>This class contains two method, the first one is used to generate a brand new JWT token and the second one it is used to refresh an existing JWT token. Consider now the first use case (generate a brand new JWT token) related to the <strong>createAuthenticationToken()</strong> method. This method take as input parmether the information related to the JWT token request: <strong>@RequestBody JwtTokenRequest authenticationRequest</strong>. Bascailly the <strong>JwtTokenRequest</strong> is a simple DTO object like this:</p>\n<pre><code>@Data\npublic class JwtTokenRequest implements Serializable \n{\n    private static final long serialVersionUID = -3558537416135446309L;\n    private String username;\n    private String password;\n}\n</code></pre>\n<p>So the payload in the body request will be something like this:</p>\n<pre><code>{\n    &quot;username&quot;: &quot;xxx@gmail.com&quot;,\n    &quot;password&quot;: &quot;password&quot; \n}\n</code></pre>\n<p><strong>NOTE:</strong> in my DB I have a user having this username and password so the user will be retrieved and authenticated on the system.</p>\n<p>As you can see the first effective operation that the <strong>createAuthenticationToken()</strong> method do is:</p>\n<pre><code>authenticate(authenticationRequest.getUsername(), authenticationRequest.getPassword());\n</code></pre>\n<p>Basically it is calling the <strong>authenticate()</strong> method defined in the same class passing to it the previous credential (<strong>&quot;username&quot;: &quot;xxx@gmail.com&quot;</strong> and <strong>&quot;password&quot;: &quot;password&quot;</strong>).</p>\n<p>As you can see this is my <strong>authenticate()</strong> method</p>\n<pre><code>private void authenticate(String username, String password) \n{\n    Objects.requireNonNull(username);\n    Objects.requireNonNull(password);\n\n    try {   \n        /// ???\n        authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(username, password));\n    } \n    catch (DisabledException e) \n    {\n        logger.warn(&quot;UTENTE DISABILITATO&quot;);\n        throw new AuthenticationException(&quot;UTENTE DISABILITATO&quot;, e);\n    } \n    catch (BadCredentialsException e) \n    {\n        logger.warn(&quot;CREDENTIAL ERROR&quot;);\n        throw new AuthenticationException(&quot;&quot;CREDENTIAL ERROR&quot;, e);\n    }\n}\n</code></pre>\n<p>Basically it is passing these credential to the <strong>authenticate()</strong> method defined into the injected Spring Security <strong>AuthenticationManager</strong> instance, by this line:</p>\n<pre><code>authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(username, password));\n</code></pre>\n<p>This method seems to be able to authenticate or not these credentials. And it seems to works fine because if I put a wrong username or password it goes into the <strong>CREDENTIAL ERROR</strong> case and it throw the <strong>AuthenticationException</strong> exception.</p>\n<p>And here my huge doubt: why it works?!?! How is it possible? If you come back to the <strong>createAuthenticationToken()</strong> controller method you can see that it does these two operation in the following order:</p>\n<pre><code>authenticate(authenticationRequest.getUsername(), authenticationRequest.getPassword());\n\nfinal UserDetailsWrapper userDetailsWrapper = userDetailsService.loadCompleteUserByUsername(authenticationRequest.getUsername());\n</code></pre>\n<p>It first perform the <strong>authenticate()</strong> method (that should check if theusername and password that was sent are correct), then call the service method that retrieve the user information.</p>\n<p>Sho how the <strong>authenticate()</strong> method is able to check if the credential sent in the original payload are correct?</p>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1637844288,"post_id":70111026,"comment_id":123937437,"body_markdown":"What exactly don’t you understand? `getConstructor(new Class[]{Object.class,Object.class})` asks for a constructor with two parameters of type `Object`, but there is no such constructor. `Login(RemoteWebDriver driver,Reports report)` obviously has one parameter of type `RemoteWebDriver` and one of type `Reports`, so why should Reflection find this constructor when you ask for a constructor with two `Object` parameters?","body":"What exactly don’t you understand? <code>getConstructor(new Class[]{Object.class,Object.class})</code> asks for a constructor with two parameters of type <code>Object</code>, but there is no such constructor. <code>Login(RemoteWebDriver driver,Reports report)</code> obviously has one parameter of type <code>RemoteWebDriver</code> and one of type <code>Reports</code>, so why should Reflection find this constructor when you ask for a constructor with two <code>Object</code> parameters?"},{"owner":{"account_id":20407842,"reputation":3,"user_id":14971996,"display_name":"Satish"},"score":0,"creation_date":1637844520,"post_id":70111026,"comment_id":123937544,"body_markdown":"@Holger, `getConstructor(new Class[]{Object.class}&#39;, so writing like this works for me?","body":"@Holger, `getConstructor(new Class[]{Object.class}&#39;, so writing like this works for me?"},{"owner":{"account_id":20407842,"reputation":3,"user_id":14971996,"display_name":"Satish"},"score":0,"creation_date":1637844641,"post_id":70111026,"comment_id":123937583,"body_markdown":"`getConstructor(new Class[]{Object.class,Object.class})`, I have added this becuase Login constructor expecting `RemoteWebDriver` is a class and `Reports` is a class. As it is expecting 2 class type parameters, I written it as `new Class[]{Object.class,Object.class}`","body":"<code>getConstructor(new Class[]{Object.class,Object.class})</code>, I have added this becuase Login constructor expecting <code>RemoteWebDriver</code> is a class and <code>Reports</code> is a class. As it is expecting 2 class type parameters, I written it as <code>new Class[]{Object.class,Object.class}</code>"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1637845131,"post_id":70111026,"comment_id":123937762,"body_markdown":"`RemoteWebDriver` is a different class than `Object` and likewise, `Reports` is a different class. So why do you expect this to work when you specify `Object`? To find a constructor with a `RemoteWebDriver` parameter and a `Reports` parameter, you have to specify exactly that, `getConstructor(RemoteWebDriver.class, Reports.class)`, nothing else.","body":"<code>RemoteWebDriver</code> is a different class than <code>Object</code> and likewise, <code>Reports</code> is a different class. So why do you expect this to work when you specify <code>Object</code>? To find a constructor with a <code>RemoteWebDriver</code> parameter and a <code>Reports</code> parameter, you have to specify exactly that, <code>getConstructor(RemoteWebDriver.class, Reports.class)</code>, nothing else."},{"owner":{"account_id":20407842,"reputation":3,"user_id":14971996,"display_name":"Satish"},"score":0,"creation_date":1637845376,"post_id":70111026,"comment_id":123937842,"body_markdown":"I understand your point, but can you clarify my doubt please. like when we saying as Object, Object should be anything either a class or array or anything which is acceptable as Object in java. then why these 2 not considering as Object. Previously I tried with one parameter in another program, there it worked with `getConstructor(new Class[]{Object.class}`","body":"I understand your point, but can you clarify my doubt please. like when we saying as Object, Object should be anything either a class or array or anything which is acceptable as Object in java. then why these 2 not considering as Object. Previously I tried with one parameter in another program, there it worked with <code>getConstructor(new Class[]{Object.class}</code>"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1637846040,"post_id":70111026,"comment_id":123938139,"body_markdown":"`Object` means “`Object`”, not “anything”. `getConstructor(Object.class)` will find a constructor with exactly one parameter, of type `Object`, exactly. Nothing else. Site note, there is no need to wrap the arguments with `new Class[] { … }`, the compiler does that already for you.","body":"<code>Object</code> means “<code>Object</code>”, not “anything”. <code>getConstructor(Object.class)</code> will find a constructor with exactly one parameter, of type <code>Object</code>, exactly. Nothing else. Site note, there is no need to wrap the arguments with <code>new Class[] { … }</code>, the compiler does that already for you."}],"owner":{"account_id":20407842,"reputation":3,"user_id":14971996,"display_name":"Satish"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637843756,"creation_date":1637842851,"question_id":70111026,"body_markdown":"I tried to call the method from excel sheet and it is getting failed with NoSuchmethodException eventhough I&#39;m using correct set of constructor parameters and everything\r\n\r\n\r\n**Base Class code**\r\n```\r\n\tClass&lt;?&gt; classname=Class.forName(&quot;cicd.testSet.&quot;+excelRead.sheet.getRow(flag).getCell(0).getStringCellValue().trim());\r\n\t              String MethodName=excelRead.sheet.getRow(flag).getCell(2).getStringCellValue().trim(); //Method Name from Excel\r\n\t              try{\t\r\n\t            \t  Object parameter=null;\r\n\t            \t   try{\r\n\t            \t\t   parameter=excelRead.sheet.getRow(flag).getCell(3).getStringCellValue();\r\n\t            \t   }catch(Exception e){\r\n\t            \t\t   parameter=excelRead.sheet.getRow(flag).getCell(3).getRawValue();\r\n\t            \t   }\r\n\t            \t   int parameterCount=0;\r\n\t            \t   if(parameter instanceof String)\r\n\t            \t\t   parameterCount=Integer.valueOf((String)parameter);\r\n\t            \t   else if(parameter instanceof Double || parameter instanceof Integer)\r\n\t            \t\t   parameterCount=(int)parameter;\r\n\t            \t   for(Method m: classname.getMethods())    //reading Method names from Functional library\r\n\t\t\t\t\t\t{  \r\n\t\t\t\t\t\t\tif(m.getName().equals(MethodName))  //Compapring Method Name with Excel method name\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tif(m.getParameterCount()==parameterCount)   //Comparing paraameter Count from both FL and Excel\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tClass&lt;?&gt; param[]={};\r\n\t\t\t\t\t\t\t\t\tif(parameterCount!=0){\r\n\t\t\t\t\t\t\t\t\tparam=new Class[parameterCount]; //Creating an array with class\r\n\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tfor(int i=0;i&lt;m.getParameterCount();i++) \r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tparam[i]=m.getParameterTypes()[i];  //assigning values in to array with parameter type\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tMethod method=classname.getMethod(MethodName,param);\r\n&lt;--Getting error at this Line--&gt; Constructor&lt;?&gt; con=classname.getConstructor(new Class[]{Object.class,Object.class});\r\n\t\t\t\t\t\t\t\t\tmethod.invoke(con.newInstance(new Object[]{driver,reports}),ParameterData(parameterCount, flag));\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n```\r\n\r\n**Class which I&#39;m calling to invoke the method**\r\n```\r\n\\\\Constructor\r\npublic Login(RemoteWebDriver driver,Reports report){\r\n\t\tthis.driver=driver;\r\n\t\tthis.report=report;\r\n\t\tlogger=BrowserBase.logManager(BrowserBase.testCaseDesc);\r\n\t    commonFunctions=new CommonFunctions(driver, report);\r\n\t    excelRead=new ExcelRead();\r\n\t}\r\n\t\r\n\tpublic void login_field_verification(){\r\n\t\tdriver.get(&quot;https://google.com&quot;);\r\n\t\tlogger.info(&quot;URL Loaded in browser https://google.com&quot;);\r\n\t\tif(driver.getTitle().contains(&quot;Google&quot;))\r\n\t\t\treport.reportStepStatus(&quot;pass&quot;, &quot;URL loaded successfully&quot;);\r\n\t\telse\r\n\t\t\treport.reportStepStatus(&quot;Fail&quot;, &quot;URL not loaded successfully&quot;);\r\n\t}\r\n```\r\n\r\n**Error Log**\r\n```\r\njava.lang.NoSuchMethodException: cicd.testSet.Login.&lt;init&gt;(java.lang.Object, java.lang.Object)\r\n\tat java.lang.Class.getConstructor0(Class.java:3082)\r\n\tat java.lang.Class.getConstructor(Class.java:1825)\r\n\tat cicd.base.BrowserBase.TestCaseExecutor(BrowserBase.java:85)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:124)\r\n\tat org.testng.internal.Invoker.invokeMethod(Invoker.java:583)\r\n\tat org.testng.internal.Invoker.invokeTestMethod(Invoker.java:719)\r\n\tat org.testng.internal.Invoker.invokeTestMethods(Invoker.java:989)\r\n\tat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:125)\r\n\tat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:109)\r\n\tat org.testng.TestRunner.privateRun(TestRunner.java:648)\r\n\tat org.testng.TestRunner.run(TestRunner.java:505)\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:455)\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:450)\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:415)\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:364)\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n\tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:84)\r\n\tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1208)\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1137)\r\n\tat org.testng.TestNG.runSuites(TestNG.java:1049)\r\n\tat org.testng.TestNG.run(TestNG.java:1017)\r\n\tat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:114)\r\n\tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\r\n\tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\r\n```\r\n\r\nI tried to find the root cause and upto my research they way I written is correct, but don&#39;t know why it is not creating constructor and saying NoSuchMethodException","title":"Getting &quot;java.lang.NoSuchMethodException: cicd.testSet.Login.&lt;init&gt;(java.lang.Object, java.lang.Object)&quot; in java reflection","body":"<p>I tried to call the method from excel sheet and it is getting failed with NoSuchmethodException eventhough I'm using correct set of constructor parameters and everything</p>\n<p><strong>Base Class code</strong></p>\n<pre><code>    Class&lt;?&gt; classname=Class.forName(&quot;cicd.testSet.&quot;+excelRead.sheet.getRow(flag).getCell(0).getStringCellValue().trim());\n                  String MethodName=excelRead.sheet.getRow(flag).getCell(2).getStringCellValue().trim(); //Method Name from Excel\n                  try{  \n                      Object parameter=null;\n                       try{\n                           parameter=excelRead.sheet.getRow(flag).getCell(3).getStringCellValue();\n                       }catch(Exception e){\n                           parameter=excelRead.sheet.getRow(flag).getCell(3).getRawValue();\n                       }\n                       int parameterCount=0;\n                       if(parameter instanceof String)\n                           parameterCount=Integer.valueOf((String)parameter);\n                       else if(parameter instanceof Double || parameter instanceof Integer)\n                           parameterCount=(int)parameter;\n                       for(Method m: classname.getMethods())    //reading Method names from Functional library\n                        {  \n                            if(m.getName().equals(MethodName))  //Compapring Method Name with Excel method name\n                            {\n                                if(m.getParameterCount()==parameterCount)   //Comparing paraameter Count from both FL and Excel\n                                {\n                                    Class&lt;?&gt; param[]={};\n                                    if(parameterCount!=0){\n                                    param=new Class[parameterCount]; //Creating an array with class\n                \n                                    for(int i=0;i&lt;m.getParameterCount();i++) \n                                    {\n                                        param[i]=m.getParameterTypes()[i];  //assigning values in to array with parameter type\n                                    }\n                                    }\n                                    Method method=classname.getMethod(MethodName,param);\n&lt;--Getting error at this Line--&gt; Constructor&lt;?&gt; con=classname.getConstructor(new Class[]{Object.class,Object.class});\n                                    method.invoke(con.newInstance(new Object[]{driver,reports}),ParameterData(parameterCount, flag));\n                                }\n                        }\n                    }\n</code></pre>\n<p><strong>Class which I'm calling to invoke the method</strong></p>\n<pre><code>\\\\Constructor\npublic Login(RemoteWebDriver driver,Reports report){\n        this.driver=driver;\n        this.report=report;\n        logger=BrowserBase.logManager(BrowserBase.testCaseDesc);\n        commonFunctions=new CommonFunctions(driver, report);\n        excelRead=new ExcelRead();\n    }\n    \n    public void login_field_verification(){\n        driver.get(&quot;https://google.com&quot;);\n        logger.info(&quot;URL Loaded in browser https://google.com&quot;);\n        if(driver.getTitle().contains(&quot;Google&quot;))\n            report.reportStepStatus(&quot;pass&quot;, &quot;URL loaded successfully&quot;);\n        else\n            report.reportStepStatus(&quot;Fail&quot;, &quot;URL not loaded successfully&quot;);\n    }\n</code></pre>\n<p><strong>Error Log</strong></p>\n<pre><code>java.lang.NoSuchMethodException: cicd.testSet.Login.&lt;init&gt;(java.lang.Object, java.lang.Object)\n    at java.lang.Class.getConstructor0(Class.java:3082)\n    at java.lang.Class.getConstructor(Class.java:1825)\n    at cicd.base.BrowserBase.TestCaseExecutor(BrowserBase.java:85)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:124)\n    at org.testng.internal.Invoker.invokeMethod(Invoker.java:583)\n    at org.testng.internal.Invoker.invokeTestMethod(Invoker.java:719)\n    at org.testng.internal.Invoker.invokeTestMethods(Invoker.java:989)\n    at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:125)\n    at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:109)\n    at org.testng.TestRunner.privateRun(TestRunner.java:648)\n    at org.testng.TestRunner.run(TestRunner.java:505)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:455)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:450)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:415)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:364)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:84)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1208)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1137)\n    at org.testng.TestNG.runSuites(TestNG.java:1049)\n    at org.testng.TestNG.run(TestNG.java:1017)\n    at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:114)\n    at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\n    at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\n</code></pre>\n<p>I tried to find the root cause and upto my research they way I written is correct, but don't know why it is not creating constructor and saying NoSuchMethodException</p>\n"},{"tags":["java","mysql","remote-access"],"comments":[{"owner":{"account_id":8616197,"reputation":808,"user_id":6452937,"display_name":"Malavan"},"score":0,"creation_date":1637843986,"post_id":70111239,"comment_id":123937322,"body_markdown":"Did your firewall allows port 3306 ?","body":"Did your firewall allows port 3306 ?"},{"owner":{"account_id":15342779,"reputation":916,"user_id":13723248,"display_name":"Bib"},"score":0,"creation_date":1637844038,"post_id":70111239,"comment_id":123937342,"body_markdown":"And have you checked the firewall? Install and run tcptraceroute with `tcptraceroute &lt;IP address&gt; 3306`. Tell us how it is connected together.","body":"And have you checked the firewall? Install and run tcptraceroute with <code>tcptraceroute &lt;IP address&gt; 3306</code>. Tell us how it is connected together."},{"owner":{"account_id":21441604,"reputation":11,"user_id":15796051,"display_name":"Furqan Ahmed Khan"},"score":0,"creation_date":1637848710,"post_id":70111239,"comment_id":123939220,"body_markdown":"firewall allow port 3306","body":"firewall allow port 3306"},{"owner":{"account_id":21441604,"reputation":11,"user_id":15796051,"display_name":"Furqan Ahmed Khan"},"score":0,"creation_date":1637860128,"post_id":70111239,"comment_id":123943827,"body_markdown":"I have traces the router from a website it says &quot;No reply for 5 hops. Assuming we reached firewall.&quot;","body":"I have traces the router from a website it says &quot;No reply for 5 hops. Assuming we reached firewall.&quot;"},{"owner":{"account_id":21441604,"reputation":11,"user_id":15796051,"display_name":"Furqan Ahmed Khan"},"score":0,"creation_date":1637860198,"post_id":70111239,"comment_id":123943847,"body_markdown":"I am also unable to ping my both servers using their ip addresses(windows 2019  &amp; Ubuntu 20.04)","body":"I am also unable to ping my both servers using their ip addresses(windows 2019  &amp; Ubuntu 20.04)"}],"owner":{"account_id":21441604,"reputation":11,"user_id":15796051,"display_name":"Furqan Ahmed Khan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":913,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637843737,"creation_date":1637843737,"question_id":70111239,"body_markdown":"I am trying to access remote mysql database from apache netbeans ide, Using services net beans got this error message every time:\r\nTimeout&#160;expired.&#160;IDE&#160;unable&#160;to&#160;establish&#160;connection.&#160;Check&#160;your&#160;proxy&#160;settings&#160;or&#160;try&#160;again&#160;later.&#160;The&#160;server&#160;may&#160;be&#160;unavailable&#160;at&#160;the&#160;moment.&#160;&#160;&#160;You&#160;may&#160;also&#160;want&#160;to&#160;make&#160;sure&#160;that&#160;your&#160;firewall&#160;is&#160;not&#160;blocking&#160;network&#160;traffic.\r\nI have done the following things \r\n\r\n1. Installed mysql 8.0.27 on remote server ubuntu 20.04\r\n2  Created a User having access with % \r\n3. changed bind-address = 127.0.0.1 to bind-address 0.0.0.0 in mysqld.cnf file\r\n4. mysql server is running. \r\n5. mysql port 3306\r\n\r\nStill I am unable to connect to database from netbeans ide.\r\n\r\n\r\nfurthermore, I also have another server (vm) running windows server 2019 but on this server i can not connect to the database. \r\n \r\n ","title":"Unable to connect remote mysql","body":"<p>I am trying to access remote mysql database from apache netbeans ide, Using services net beans got this error message every time:\nTimeout expired. IDE unable to establish connection. Check your proxy settings or try again later. The server may be unavailable at the moment.   You may also want to make sure that your firewall is not blocking network traffic.\nI have done the following things</p>\n<ol>\n<li>Installed mysql 8.0.27 on remote server ubuntu 20.04\n2  Created a User having access with %</li>\n<li>changed bind-address = 127.0.0.1 to bind-address 0.0.0.0 in mysqld.cnf file</li>\n<li>mysql server is running.</li>\n<li>mysql port 3306</li>\n</ol>\n<p>Still I am unable to connect to database from netbeans ide.</p>\n<p>furthermore, I also have another server (vm) running windows server 2019 but on this server i can not connect to the database.</p>\n"},{"tags":["java","rest","tomcat"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1635968434,"post_id":69827540,"comment_id":123436366,"body_markdown":"Does this answer your question? [I&#39;m using JakartaEE and making a &quot;hello world&quot; kind of restfulAPI, can&#39;t get a return string by visiting URL](https://stackoverflow.com/questions/69000553/im-using-jakartaee-and-making-a-hello-world-kind-of-restfulapi-cant-get-a-r)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/69000553/im-using-jakartaee-and-making-a-hello-world-kind-of-restfulapi-cant-get-a-r\">I&#39;m using JakartaEE and making a &quot;hello world&quot; kind of restfulAPI, can&#39;t get a return string by visiting URL</a>"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1635968589,"post_id":69827540,"comment_id":123436415,"body_markdown":"If you are using Tomcat 9 instead of Tomcat 10 you need to downgrade each artifact in the above answer by one major release (e.g. use 2.35 for Jersey). Tomcat&#39;s list of supported APIs can be found in [this answer](https://stackoverflow.com/a/67915320/11748454).","body":"If you are using Tomcat 9 instead of Tomcat 10 you need to downgrade each artifact in the above answer by one major release (e.g. use 2.35 for Jersey). Tomcat&#39;s list of supported APIs can be found in <a href=\"https://stackoverflow.com/a/67915320/11748454\">this answer</a>."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1636201231,"post_id":69827540,"comment_id":123496055,"body_markdown":"What Tomcat version are you using?","body":"What Tomcat version are you using?"},{"owner":{"account_id":8290021,"reputation":11,"user_id":6232002,"display_name":"MoabR"},"score":0,"creation_date":1636379446,"post_id":69827540,"comment_id":123533417,"body_markdown":"@MarkRotteveel I&#39;m using Tomcat 10","body":"@MarkRotteveel I&#39;m using Tomcat 10"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1636399141,"post_id":69827540,"comment_id":123541476,"body_markdown":"@MoabRodrigues If you&#39;re using Tomcat 10, then you need to load Jakarta EE 9.x libraries (`jakarta.*` packages), currently your loading Jakarta EE 8.x or lower libraries (`javax.*` packages). Alternatively, you need to downgrade to Tomcat 9.","body":"@MoabRodrigues If you&#39;re using Tomcat 10, then you need to load Jakarta EE 9.x libraries (<code>jakarta.*</code> packages), currently your loading Jakarta EE 8.x or lower libraries (<code>javax.*</code> packages). Alternatively, you need to downgrade to Tomcat 9."},{"owner":{"account_id":8290021,"reputation":11,"user_id":6232002,"display_name":"MoabR"},"score":0,"creation_date":1637867790,"post_id":69827540,"comment_id":123946168,"body_markdown":"@MarkRotteveel I not tested you proposal of solution, but when I change the implementation of JAX to Jersey it works fine.","body":"@MarkRotteveel I not tested you proposal of solution, but when I change the implementation of JAX to Jersey it works fine."}],"answers":[{"tags":[],"owner":{"account_id":2544073,"reputation":359,"user_id":2209264,"accept_rate":85,"display_name":"Antonio E."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635956860,"creation_date":1635956860,"answer_id":69828429,"question_id":69827540,"body_markdown":"Probably you need to improve your @Path definition?:\r\nas far as I know you should put:\r\n\r\n    @Path(&quot;/rest&quot;)\r\n    @Path(&quot;/venderdor&quot;)\r\n    @Path(&quot;/get&quot;)\r\n\r\n\r\n","title":"Simple web rest api in Java with eclipse and tomcat","body":"<p>Probably you need to improve your @Path definition?:\nas far as I know you should put:</p>\n<pre><code>@Path(&quot;/rest&quot;)\n@Path(&quot;/venderdor&quot;)\n@Path(&quot;/get&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8290021,"reputation":11,"user_id":6232002,"display_name":"MoabR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637843714,"creation_date":1637843714,"answer_id":70111228,"question_id":69827540,"body_markdown":"So guys,\r\nThe problems was a conflit genereted by the maven imports. As far a change the libraries looking for compability I got the results. The main change was to change the Jakarta implementation of JAX for Jersey implementation.\r\nIf anyone wants to know how I did it, just check the complete code in github ([Rest code][1]).\r\nUnfortunately I did not have time to discover what is the correct versions of jakarta implementation, which of them to match.\r\nI will share here the dependencies of pom.xml:\r\n\r\n```\r\n&lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.glassfish.jersey&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jersey-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;${jersey.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-container-servlet-core&lt;/artifactId&gt;\r\n            &lt;!-- use the following artifactId if you don&#39;t need servlet 2.x compatibility --&gt;\r\n            &lt;!-- artifactId&gt;jersey-container-servlet&lt;/artifactId --&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;8.0.27&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\n\r\n  [1]: https://github.com/moabrj/rest","title":"Simple web rest api in Java with eclipse and tomcat","body":"<p>So guys,\nThe problems was a conflit genereted by the maven imports. As far a change the libraries looking for compability I got the results. The main change was to change the Jakarta implementation of JAX for Jersey implementation.\nIf anyone wants to know how I did it, just check the complete code in github (<a href=\"https://github.com/moabrj/rest\" rel=\"nofollow noreferrer\">Rest code</a>).\nUnfortunately I did not have time to discover what is the correct versions of jakarta implementation, which of them to match.\nI will share here the dependencies of pom.xml:</p>\n<pre><code>&lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.glassfish.jersey&lt;/groupId&gt;\n                &lt;artifactId&gt;jersey-bom&lt;/artifactId&gt;\n                &lt;version&gt;${jersey.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-container-servlet-core&lt;/artifactId&gt;\n            &lt;!-- use the following artifactId if you don't need servlet 2.x compatibility --&gt;\n            &lt;!-- artifactId&gt;jersey-container-servlet&lt;/artifactId --&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.27&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n"}],"owner":{"account_id":8290021,"reputation":11,"user_id":6232002,"display_name":"MoabR"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":749,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1637843714,"creation_date":1635953390,"question_id":69827540,"body_markdown":"I followed a tutorial and the project don&#39;t work.\r\nWhen I deploy the war in tomcat and access the address http://localhost:8080/queroquero/rest/vendedor/get I have 404 status, but if I access http://localhost:8080/queroquero/ I get a &quot;Hello world&quot;.\r\n```\r\n@ApplicationPath(&quot;rest&quot;)\r\npublic class Main extends Application{ }\r\n---------------------------------------------\r\n@Path(&quot;vendedor&quot;)\r\npublic class VendedorResource {\r\n\r\n\t@GET\r\n\t@Path(&quot;get&quot;)\r\n\t@Produces(MediaType.APPLICATION_JSON)\r\n\tpublic Response get() {\r\n\t\tString texto = new String(&quot;It&#39;s working!!!&quot;);\r\n\t\treturn Response.ok(texto).build();\r\n\t}\r\n\t\r\n}\r\n```\r\nMy POM.xml dependencies:\r\n```\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\r\n        &lt;version&gt;8.0.0&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n\t    &lt;version&gt;2.7&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n```\r\nMy web.xml:\r\n\r\n    &lt;web-app&gt;\r\n      &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;\r\n      &lt;!-- Auto scan REST service --&gt;\r\n    &lt;/web-app&gt;\r\n\r\nI&#39;m already spent hours and cannot find what is wrong or missing.","title":"Simple web rest api in Java with eclipse and tomcat","body":"<p>I followed a tutorial and the project don't work.\nWhen I deploy the war in tomcat and access the address http://localhost:8080/queroquero/rest/vendedor/get I have 404 status, but if I access http://localhost:8080/queroquero/ I get a &quot;Hello world&quot;.</p>\n<pre><code>@ApplicationPath(&quot;rest&quot;)\npublic class Main extends Application{ }\n---------------------------------------------\n@Path(&quot;vendedor&quot;)\npublic class VendedorResource {\n\n    @GET\n    @Path(&quot;get&quot;)\n    @Produces(MediaType.APPLICATION_JSON)\n    public Response get() {\n        String texto = new String(&quot;It's working!!!&quot;);\n        return Response.ok(texto).build();\n    }\n    \n}\n</code></pre>\n<p>My POM.xml dependencies:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\n        &lt;version&gt;8.0.0&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n        &lt;artifactId&gt;gson&lt;/artifactId&gt;\n        &lt;version&gt;2.7&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n</code></pre>\n<p>My web.xml:</p>\n<pre><code>&lt;web-app&gt;\n  &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;\n  &lt;!-- Auto scan REST service --&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>I'm already spent hours and cannot find what is wrong or missing.</p>\n"},{"tags":["java","junit4","mockito"],"answers":[{"tags":[],"owner":{"account_id":294550,"reputation":11391,"user_id":598508,"display_name":"proactif"},"down_vote_count":1,"up_vote_count":60,"is_accepted":false,"score":59,"last_activity_date":1530002149,"creation_date":1307462140,"answer_id":6268066,"question_id":6267389,"body_markdown":"You should also mock the `next()` method to have it return true the first time it&#39;s called, as mockito will return `false` by default.\r\n\r\n    Mockito.when(resultSetMock.next()).thenReturn(true).thenReturn(false);","title":"how to mock resultset and populate it using Mockito in Java","body":"<p>You should also mock the <code>next()</code> method to have it return true the first time it's called, as mockito will return <code>false</code> by default.</p>\n\n<pre><code>Mockito.when(resultSetMock.next()).thenReturn(true).thenReturn(false);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1226175,"reputation":717,"user_id":1191664,"display_name":"karthik m"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1479764895,"creation_date":1359072097,"answer_id":14513109,"question_id":6267389,"body_markdown":"I have written something for this same case. You can mock the resultset using Mockito. You can as well loop over the mock rows of resultset by mocking the resultset.next() with this piece of code.\r\n\r\n\r\n\r\n\t// two dimensional array mocking the rows of database.\r\n\tString[][] result = { { &quot;column1&quot;, &quot;column2&quot; }, { &quot;column1&quot;, &quot;column2&quot; } };\r\n\r\n\t@InjectMocks\r\n\t@Spy\r\n\tprivate TestableClass testableClass;\r\n\r\n\t@Mock\r\n\tprivate Connection connection;\r\n\r\n\t@Mock\r\n\tprivate Statement statement;\r\n\r\n\t@Mock\r\n\tprivate ResultSet resultSet;\r\n\r\n\t@BeforeTest\r\n\tpublic void beforeTest() {\r\n\t\tMockitoAnnotations.initMocks(this);\r\n\t}\r\n\r\n\t@BeforeMethod\r\n\tpublic void beforeMethod() throws SQLException {\r\n\t\tdoAnswer(new Answer&lt;Connection&gt;() {\r\n\t\t\tpublic Connection answer(InvocationOnMock invocation)\r\n\t\t\t\t\tthrows Throwable {\r\n\t\t\t\treturn connection;\r\n\r\n\t\t\t}\r\n\t\t}).when(testableClass).getConnection();\r\n\r\n\t\twhen(connection.createStatement()).thenReturn(statement);\r\n\t\twhen(statement.executeQuery(anyString())).thenReturn(resultSet);\r\n\t\tfinal AtomicInteger idx = new AtomicInteger(0);\r\n\t\tfinal MockRow row = new MockRow();\r\n\r\n\t\tdoAnswer(new Answer&lt;Boolean&gt;() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic Boolean answer(InvocationOnMock invocation) throws Throwable {\r\n\t\t\t\tint index = idx.getAndIncrement();\r\n\t\t\t\tif (result.length &lt;= index) {\r\n    \t\t\t\treturn false;\r\n\t\t\t\t} \r\n\t\t\t\tString[] current = result[index];\r\n\t\t\t\trow.setCurrentRowData(current);\r\n\t\t\t\treturn true;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t;\r\n\t\t}).when(resultSet).next();\r\n\r\n\t\tdoAnswer(new Answer&lt;String&gt;() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic String answer(InvocationOnMock invocation) throws Throwable {\r\n\t\t\t\tObject[] args = invocation.getArguments();\r\n\t\t\t\tint idx = ((Integer) args[0]).intValue();\r\n\t\t\t\treturn row.getColumn(idx);\r\n\t\t\t}\r\n\r\n\t\t\t;\r\n\t\t}).when(resultSet).getString(anyInt());\r\n\t}\r\n\r\n\tstatic class MockRow {\r\n\t\tString[] rowData;\r\n\r\n\t\tpublic void setCurrentRowData(String[] rowData) {\r\n\t\t\tthis.rowData = rowData;\r\n\t\t}\r\n\r\n\t\tpublic String getColumn(int idx) {\r\n\t\t\treturn rowData[idx - 1];\r\n\t\t}\r\n\t}\r\n","title":"how to mock resultset and populate it using Mockito in Java","body":"<p>I have written something for this same case. You can mock the resultset using Mockito. You can as well loop over the mock rows of resultset by mocking the resultset.next() with this piece of code.</p>\n\n<pre><code>// two dimensional array mocking the rows of database.\nString[][] result = { { \"column1\", \"column2\" }, { \"column1\", \"column2\" } };\n\n@InjectMocks\n@Spy\nprivate TestableClass testableClass;\n\n@Mock\nprivate Connection connection;\n\n@Mock\nprivate Statement statement;\n\n@Mock\nprivate ResultSet resultSet;\n\n@BeforeTest\npublic void beforeTest() {\n    MockitoAnnotations.initMocks(this);\n}\n\n@BeforeMethod\npublic void beforeMethod() throws SQLException {\n    doAnswer(new Answer&lt;Connection&gt;() {\n        public Connection answer(InvocationOnMock invocation)\n                throws Throwable {\n            return connection;\n\n        }\n    }).when(testableClass).getConnection();\n\n    when(connection.createStatement()).thenReturn(statement);\n    when(statement.executeQuery(anyString())).thenReturn(resultSet);\n    final AtomicInteger idx = new AtomicInteger(0);\n    final MockRow row = new MockRow();\n\n    doAnswer(new Answer&lt;Boolean&gt;() {\n\n        @Override\n        public Boolean answer(InvocationOnMock invocation) throws Throwable {\n            int index = idx.getAndIncrement();\n            if (result.length &lt;= index) {\n                return false;\n            } \n            String[] current = result[index];\n            row.setCurrentRowData(current);\n            return true;\n\n        }\n\n        ;\n    }).when(resultSet).next();\n\n    doAnswer(new Answer&lt;String&gt;() {\n\n        @Override\n        public String answer(InvocationOnMock invocation) throws Throwable {\n            Object[] args = invocation.getArguments();\n            int idx = ((Integer) args[0]).intValue();\n            return row.getColumn(idx);\n        }\n\n        ;\n    }).when(resultSet).getString(anyInt());\n}\n\nstatic class MockRow {\n    String[] rowData;\n\n    public void setCurrentRowData(String[] rowData) {\n        this.rowData = rowData;\n    }\n\n    public String getColumn(int idx) {\n        return rowData[idx - 1];\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":44802,"reputation":4276,"user_id":131697,"accept_rate":71,"display_name":"Alexander Kj&#228;ll"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1412844531,"creation_date":1412844531,"answer_id":26274125,"question_id":6267389,"body_markdown":"I rewrote @karthik m&#39;s answer a bit to make the ResultSet mocker standalone:\r\n\r\nBy using the below class I can easily export the result from a query as csv and write a test around that.\r\n\r\nNot all methods from the ResultSet are mocked, as I didn&#39;t need them, but those should be fairly trivial to use.\r\n\r\n    import no.di.common.util.StringUtil;\r\n    import org.apache.commons.io.FileUtils;\r\n    import org.apache.commons.io.LineIterator;\r\n    import org.mockito.invocation.InvocationOnMock;\r\n    import org.mockito.stubbing.Answer;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.concurrent.atomic.AtomicInteger;\r\n    \r\n    import static org.mockito.Matchers.anyInt;\r\n    import static org.mockito.Matchers.anyString;\r\n    import static org.mockito.Mockito.doAnswer;\r\n    import static org.mockito.Mockito.mock;\r\n    \r\n    /**\r\n     * Creates a Mock of a ResultSet\r\n     */\r\n    public class ResultSetMocker {\r\n    \r\n        private Map&lt;String, Integer&gt; columnNames = new HashMap&lt;&gt;();\r\n    \r\n        private Object[][] result;\r\n    \r\n        public ResultSetMocker(String filename) throws IOException {\r\n            loadData(filename);\r\n        }\r\n    \r\n        private void loadData(String filename) throws IOException {\r\n            List&lt;Object[]&gt; toRet = new ArrayList&lt;&gt;();\r\n    \r\n            int numberOfParts = 0;\r\n            LineIterator it = FileUtils.lineIterator(new File(filename), &quot;ISO8859-1&quot;);\r\n            try {\r\n                String names = it.nextLine();\r\n                String[] name = names.split(&quot;;&quot;);\r\n                for(int i = 0; i &lt; name.length; i++) {\r\n                    columnNames.put(name[i], i + 1);\r\n                }\r\n    \r\n                while (it.hasNext()) {\r\n                    String line = it.nextLine();\r\n    \r\n                    String[] parts = line.split(&quot;;&quot;);\r\n                    numberOfParts = parts.length;\r\n                    Object[] result = new Object[parts.length];\r\n                    for(int i = 0; i &lt; parts.length; i++) {\r\n                        if(parts[i].equals(&quot;(null)&quot;))\r\n                            result[i] = null;\r\n                        else if(StringUtil.isAllNumeric(parts[i]))\r\n                            result[i] = Integer.parseInt(parts[i]);\r\n                        else\r\n                            result[i] = parts[i];\r\n                    }\r\n    \r\n                    toRet.add(result);\r\n                }\r\n            } finally {\r\n                it.close();\r\n            }\r\n    \r\n            result = toRet.toArray(new Object[toRet.size()][numberOfParts]);\r\n        }\r\n    \r\n        public ResultSet getResultSet() throws SQLException, IOException {\r\n            ResultSet resultSet = mock(ResultSet.class);\r\n    \r\n            final AtomicInteger idx = new AtomicInteger(0);\r\n            final MockRow row = new MockRow(columnNames);\r\n    \r\n            doAnswer(new Answer&lt;Boolean&gt;() {\r\n                @Override\r\n                public Boolean answer(InvocationOnMock invocation) throws Throwable {\r\n                    int index = idx.getAndIncrement();\r\n                    if (result.length &gt; index) {\r\n                        row.setCurrentRowData(result[index]);\r\n                        return true;\r\n                    } else\r\n                        return false;\r\n                }\r\n            }).when(resultSet).next();\r\n    \r\n            doAnswer(new Answer&lt;String&gt;() {\r\n                @Override\r\n                public String answer(InvocationOnMock invocation) throws Throwable {\r\n                    Object[] args = invocation.getArguments();\r\n                    int idx = (Integer) args[0];\r\n                    return row.getString(idx);\r\n                }\r\n            }).when(resultSet).getString(anyInt());\r\n    \r\n            doAnswer(new Answer&lt;String&gt;() {\r\n                @Override\r\n                public String answer(InvocationOnMock invocation) throws Throwable {\r\n                    Object[] args = invocation.getArguments();\r\n                    String name = (String) args[0];\r\n                    return row.getString(name);\r\n                }\r\n            }).when(resultSet).getString(anyString());\r\n    \r\n            doAnswer(new Answer&lt;Object&gt;() {\r\n                @Override\r\n                public Object answer(InvocationOnMock invocation) throws Throwable {\r\n                    Object[] args = invocation.getArguments();\r\n                    String name = (String) args[0];\r\n                    return row.getObject(name);\r\n                }\r\n            }).when(resultSet).getObject(anyString());\r\n    \r\n            doAnswer(new Answer&lt;Integer&gt;() {\r\n                @Override\r\n                public Integer answer(InvocationOnMock invocation) throws Throwable {\r\n                    Object[] args = invocation.getArguments();\r\n                    String name = (String) args[0];\r\n                    return row.getInt(name);\r\n                }\r\n            }).when(resultSet).getInt(anyString());\r\n    \r\n            return resultSet;\r\n        }\r\n    \r\n        static class MockRow {\r\n            Object[] rowData;\r\n            private Map&lt;String, Integer&gt; columnNames;\r\n    \r\n            public MockRow(Map&lt;String, Integer&gt; columnNames) {\r\n    \r\n                this.columnNames = columnNames;\r\n            }\r\n    \r\n            public void setCurrentRowData(Object[] rowData) {\r\n                this.rowData = rowData;\r\n            }\r\n    \r\n            public String getString(int idx) {\r\n                return (String)rowData[idx - 1];\r\n            }\r\n    \r\n            public String getString(String name) {\r\n                return (String)rowData[columnNames.get(name) - 1];\r\n            }\r\n    \r\n            public Object getObject(String name) {\r\n                return rowData[columnNames.get(name) - 1];\r\n            }\r\n    \r\n            public Integer getInt(String name) {\r\n                return (Integer)rowData[columnNames.get(name) - 1];\r\n            }\r\n        }\r\n    }\r\n","title":"how to mock resultset and populate it using Mockito in Java","body":"<p>I rewrote @karthik m's answer a bit to make the ResultSet mocker standalone:</p>\n\n<p>By using the below class I can easily export the result from a query as csv and write a test around that.</p>\n\n<p>Not all methods from the ResultSet are mocked, as I didn't need them, but those should be fairly trivial to use.</p>\n\n<pre><code>import no.di.common.util.StringUtil;\nimport org.apache.commons.io.FileUtils;\nimport org.apache.commons.io.LineIterator;\nimport org.mockito.invocation.InvocationOnMock;\nimport org.mockito.stubbing.Answer;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.concurrent.atomic.AtomicInteger;\n\nimport static org.mockito.Matchers.anyInt;\nimport static org.mockito.Matchers.anyString;\nimport static org.mockito.Mockito.doAnswer;\nimport static org.mockito.Mockito.mock;\n\n/**\n * Creates a Mock of a ResultSet\n */\npublic class ResultSetMocker {\n\n    private Map&lt;String, Integer&gt; columnNames = new HashMap&lt;&gt;();\n\n    private Object[][] result;\n\n    public ResultSetMocker(String filename) throws IOException {\n        loadData(filename);\n    }\n\n    private void loadData(String filename) throws IOException {\n        List&lt;Object[]&gt; toRet = new ArrayList&lt;&gt;();\n\n        int numberOfParts = 0;\n        LineIterator it = FileUtils.lineIterator(new File(filename), \"ISO8859-1\");\n        try {\n            String names = it.nextLine();\n            String[] name = names.split(\";\");\n            for(int i = 0; i &lt; name.length; i++) {\n                columnNames.put(name[i], i + 1);\n            }\n\n            while (it.hasNext()) {\n                String line = it.nextLine();\n\n                String[] parts = line.split(\";\");\n                numberOfParts = parts.length;\n                Object[] result = new Object[parts.length];\n                for(int i = 0; i &lt; parts.length; i++) {\n                    if(parts[i].equals(\"(null)\"))\n                        result[i] = null;\n                    else if(StringUtil.isAllNumeric(parts[i]))\n                        result[i] = Integer.parseInt(parts[i]);\n                    else\n                        result[i] = parts[i];\n                }\n\n                toRet.add(result);\n            }\n        } finally {\n            it.close();\n        }\n\n        result = toRet.toArray(new Object[toRet.size()][numberOfParts]);\n    }\n\n    public ResultSet getResultSet() throws SQLException, IOException {\n        ResultSet resultSet = mock(ResultSet.class);\n\n        final AtomicInteger idx = new AtomicInteger(0);\n        final MockRow row = new MockRow(columnNames);\n\n        doAnswer(new Answer&lt;Boolean&gt;() {\n            @Override\n            public Boolean answer(InvocationOnMock invocation) throws Throwable {\n                int index = idx.getAndIncrement();\n                if (result.length &gt; index) {\n                    row.setCurrentRowData(result[index]);\n                    return true;\n                } else\n                    return false;\n            }\n        }).when(resultSet).next();\n\n        doAnswer(new Answer&lt;String&gt;() {\n            @Override\n            public String answer(InvocationOnMock invocation) throws Throwable {\n                Object[] args = invocation.getArguments();\n                int idx = (Integer) args[0];\n                return row.getString(idx);\n            }\n        }).when(resultSet).getString(anyInt());\n\n        doAnswer(new Answer&lt;String&gt;() {\n            @Override\n            public String answer(InvocationOnMock invocation) throws Throwable {\n                Object[] args = invocation.getArguments();\n                String name = (String) args[0];\n                return row.getString(name);\n            }\n        }).when(resultSet).getString(anyString());\n\n        doAnswer(new Answer&lt;Object&gt;() {\n            @Override\n            public Object answer(InvocationOnMock invocation) throws Throwable {\n                Object[] args = invocation.getArguments();\n                String name = (String) args[0];\n                return row.getObject(name);\n            }\n        }).when(resultSet).getObject(anyString());\n\n        doAnswer(new Answer&lt;Integer&gt;() {\n            @Override\n            public Integer answer(InvocationOnMock invocation) throws Throwable {\n                Object[] args = invocation.getArguments();\n                String name = (String) args[0];\n                return row.getInt(name);\n            }\n        }).when(resultSet).getInt(anyString());\n\n        return resultSet;\n    }\n\n    static class MockRow {\n        Object[] rowData;\n        private Map&lt;String, Integer&gt; columnNames;\n\n        public MockRow(Map&lt;String, Integer&gt; columnNames) {\n\n            this.columnNames = columnNames;\n        }\n\n        public void setCurrentRowData(Object[] rowData) {\n            this.rowData = rowData;\n        }\n\n        public String getString(int idx) {\n            return (String)rowData[idx - 1];\n        }\n\n        public String getString(String name) {\n            return (String)rowData[columnNames.get(name) - 1];\n        }\n\n        public Object getObject(String name) {\n            return rowData[columnNames.get(name) - 1];\n        }\n\n        public Integer getInt(String name) {\n            return (Integer)rowData[columnNames.get(name) - 1];\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9481967,"reputation":1,"user_id":7049589,"display_name":"Dave"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1530002132,"creation_date":1525444759,"answer_id":50177495,"question_id":6267389,"body_markdown":"A little late to the game here, but it looks like all you needed on your original Mock was this...\r\n\r\n    Mockito.when(resultSetMock.next()).thenReturn(true);\r\n\r\nThis is necessary so that the mapper - whatever you are using to map the resultset will know that there is data in the result set.","title":"how to mock resultset and populate it using Mockito in Java","body":"<p>A little late to the game here, but it looks like all you needed on your original Mock was this...</p>\n\n<pre><code>Mockito.when(resultSetMock.next()).thenReturn(true);\n</code></pre>\n\n<p>This is necessary so that the mapper - whatever you are using to map the resultset will know that there is data in the result set.</p>\n"},{"tags":[],"owner":{"account_id":1961640,"reputation":12136,"user_id":1763035,"accept_rate":56,"display_name":"Andy Brown"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1637843652,"creation_date":1637843652,"answer_id":70111211,"question_id":6267389,"body_markdown":"10 years on from when this question was asked there&#39;s a good chance you would be using Spring Boot 2+ with h2 as an in-memory DB for testing. If that&#39;s the case then you can make use of the `org.h2.tools.Csv` class to create a `ResultSet` implementation from CSV data:\r\n\r\n```java\r\nimport org.h2.tools.Csv;\r\n```\r\n\r\n```java\r\n// mock resultset\r\n\r\nString csvResults =\r\n    &quot;0001, John Doe\\n&quot; +\r\n    &quot;0002, Bob Smith\\n&quot; +\r\n    &quot;0003, Alice Doe\\n&quot;;\r\n\r\nResultSet rs = new Csv().read(new StringReader(csvResults), new String[] {&quot;id&quot;, &quot;name&quot;});\r\n```\r\n\r\nThen use that `ResultSet` any way that you want. Here&#39;s a Mockito example that supplies it as a `RowCallbackHandler` to a `JdbcTemplate` `query()` call.\r\n\r\n```java\r\nJdbcTemplate mockTemplate = mock(JdbcTemplate.class);\r\n\r\ndoAnswer(ia -&gt; {\r\n  while (rs.next()) {\r\n    ia.getArgument(2, RowCallbackHandler.class).processRow(rs);\r\n  }\r\n  return null;\r\n}).when(mockTemplate).query(any(String.class), any(SqlParameterSource.class), any(RowCallbackHandler.class));\r\n\r\n// change the above when() args to match how you are using JdbcTemplate\r\n```\r\n","title":"how to mock resultset and populate it using Mockito in Java","body":"<p>10 years on from when this question was asked there's a good chance you would be using Spring Boot 2+ with h2 as an in-memory DB for testing. If that's the case then you can make use of the <code>org.h2.tools.Csv</code> class to create a <code>ResultSet</code> implementation from CSV data:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.h2.tools.Csv;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// mock resultset\n\nString csvResults =\n    &quot;0001, John Doe\\n&quot; +\n    &quot;0002, Bob Smith\\n&quot; +\n    &quot;0003, Alice Doe\\n&quot;;\n\nResultSet rs = new Csv().read(new StringReader(csvResults), new String[] {&quot;id&quot;, &quot;name&quot;});\n</code></pre>\n<p>Then use that <code>ResultSet</code> any way that you want. Here's a Mockito example that supplies it as a <code>RowCallbackHandler</code> to a <code>JdbcTemplate</code> <code>query()</code> call.</p>\n<pre class=\"lang-java prettyprint-override\"><code>JdbcTemplate mockTemplate = mock(JdbcTemplate.class);\n\ndoAnswer(ia -&gt; {\n  while (rs.next()) {\n    ia.getArgument(2, RowCallbackHandler.class).processRow(rs);\n  }\n  return null;\n}).when(mockTemplate).query(any(String.class), any(SqlParameterSource.class), any(RowCallbackHandler.class));\n\n// change the above when() args to match how you are using JdbcTemplate\n</code></pre>\n"}],"owner":{"account_id":745161,"reputation":561,"user_id":733482,"accept_rate":0,"display_name":"Tejas Shah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93683,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"answer_count":5,"score":50,"last_activity_date":1637843652,"creation_date":1307459531,"question_id":6267389,"body_markdown":"I have code where I populate `Resultset` with `CallableStatement.executeQuery()`. I have mocked `ResultSet` and `CallableStatement` but in order to test the method i have to populate `ResultSet`. \r\n\r\nHere is the code from the method I am testing \r\n\r\n    ResultSet rset = cs.executeQuery();\r\n    while (rset.next()) {\r\n\tIndexVolatilityImpl tsImpl = new IndexVolatilityImpl();\r\n\ttsImpl.setTradeDate(rset.getString(&quot;trade_date&quot;));\r\n\ttsImpl.setTradeTime(rset.getString(&quot;trade_time&quot;));\r\n\ttsImpl.setExprDate(rset.getString(&quot;expr_date&quot;));\r\n\ttsImpl.setSymbol(rset.getString(&quot;symbol&quot;));\r\n\ttsImpl.setTradePrice(rset.getDouble(&quot;trade_price&quot;));\r\n\ttsImpl.setContractMonth(rset.getString(&quot;contract_month&quot;));\r\n\ttsImpl.setMilliSecs(rset.getString(&quot;trade_time_thou&quot;));\r\n\tcolIndexVolatilityImpl.add(tsImpl);\r\n\r\nI have mocked the CallableStatement and ResultSet now since they are mocked my rset comes up empty. I would like to populate Resultset and doing it as below\r\n\r\n    resultSetMock = Mockito.mock(ResultSet.class);\r\n    Mockito.when(resultSetMock.getString(&quot;trade_date&quot;)).thenReturn(&quot;03/10/2011&quot;);\r\n    Mockito.when(resultSetMock.getString(&quot;trade_time&quot;)).thenReturn(&quot;12:24:56&quot;);\r\n    Mockito.when(resultSetMock.getString(&quot;expr_date&quot;)).thenReturn(&quot;03/19/2011&quot;);\r\n    Mockito.when(resultSetMock.getString(&quot;symbol&quot;)).thenReturn(&quot;VIX1&quot;);\r\n    Mockito.when(resultSetMock.getDouble(&quot;trade_price&quot;)).thenReturn(Double.valueOf(&quot;20.96&quot;));\r\n    Mockito.when(resultSetMock.getString(&quot;contract_month&quot;)).thenReturn(&quot;1&quot;);\r\n    Mockito.when(resultSetMock.getString(&quot;trade_time_thou&quot;)).thenReturn(&quot;165&quot;);\r\n    \r\n    Mockito.doReturn(resultSetMock).when(callableStatementMock).executeQuery();\r\n\r\nBut `rset` is `null`.\r\n","title":"how to mock resultset and populate it using Mockito in Java","body":"<p>I have code where I populate <code>Resultset</code> with <code>CallableStatement.executeQuery()</code>. I have mocked <code>ResultSet</code> and <code>CallableStatement</code> but in order to test the method i have to populate <code>ResultSet</code>. </p>\n\n<p>Here is the code from the method I am testing </p>\n\n<pre><code>ResultSet rset = cs.executeQuery();\nwhile (rset.next()) {\nIndexVolatilityImpl tsImpl = new IndexVolatilityImpl();\ntsImpl.setTradeDate(rset.getString(\"trade_date\"));\ntsImpl.setTradeTime(rset.getString(\"trade_time\"));\ntsImpl.setExprDate(rset.getString(\"expr_date\"));\ntsImpl.setSymbol(rset.getString(\"symbol\"));\ntsImpl.setTradePrice(rset.getDouble(\"trade_price\"));\ntsImpl.setContractMonth(rset.getString(\"contract_month\"));\ntsImpl.setMilliSecs(rset.getString(\"trade_time_thou\"));\ncolIndexVolatilityImpl.add(tsImpl);\n</code></pre>\n\n<p>I have mocked the CallableStatement and ResultSet now since they are mocked my rset comes up empty. I would like to populate Resultset and doing it as below</p>\n\n<pre><code>resultSetMock = Mockito.mock(ResultSet.class);\nMockito.when(resultSetMock.getString(\"trade_date\")).thenReturn(\"03/10/2011\");\nMockito.when(resultSetMock.getString(\"trade_time\")).thenReturn(\"12:24:56\");\nMockito.when(resultSetMock.getString(\"expr_date\")).thenReturn(\"03/19/2011\");\nMockito.when(resultSetMock.getString(\"symbol\")).thenReturn(\"VIX1\");\nMockito.when(resultSetMock.getDouble(\"trade_price\")).thenReturn(Double.valueOf(\"20.96\"));\nMockito.when(resultSetMock.getString(\"contract_month\")).thenReturn(\"1\");\nMockito.when(resultSetMock.getString(\"trade_time_thou\")).thenReturn(\"165\");\n\nMockito.doReturn(resultSetMock).when(callableStatementMock).executeQuery();\n</code></pre>\n\n<p>But <code>rset</code> is <code>null</code>.</p>\n"},{"tags":["java","macos","rocksdb","jpackage","javalin"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1631227528,"post_id":69125163,"comment_id":122173189,"body_markdown":"Which JRE does the packaged version include?","body":"Which JRE does the packaged version include?"},{"owner":{"account_id":2183703,"reputation":101,"user_id":1932613,"display_name":"AndyW"},"score":0,"creation_date":1631229563,"post_id":69125163,"comment_id":122173509,"body_markdown":"It&#39;s built from the same openjdk-16.0.1.jdk as the local compile, but with a subset of modules (&#39;java.se&#39;, &#39;jdk.crypto.ec&#39;, &#39;jdk.compiler&#39;, &#39;java.compiler&#39;, &#39;jdk.zipfs&#39;)","body":"It&#39;s built from the same openjdk-16.0.1.jdk as the local compile, but with a subset of modules (&#39;java.se&#39;, &#39;jdk.crypto.ec&#39;, &#39;jdk.compiler&#39;, &#39;java.compiler&#39;, &#39;jdk.zipfs&#39;)"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1631229795,"post_id":69125163,"comment_id":122173545,"body_markdown":"sounds like one includes the run-time and the other doesn&#39;t.  That would account for difference in launch-time.  (It has to create the Java run-time...) Maybe I&#39;m misunderstanding though.  Is it just the time to start the app, or throughout?","body":"sounds like one includes the run-time and the other doesn&#39;t.  That would account for difference in launch-time.  (It has to create the Java run-time...) Maybe I&#39;m misunderstanding though.  Is it just the time to start the app, or throughout?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1631230015,"post_id":69125163,"comment_id":122173569,"body_markdown":"@pcalkins The jpackage tool embeds a JRE","body":"@pcalkins The jpackage tool embeds a JRE"},{"owner":{"account_id":2183703,"reputation":101,"user_id":1932613,"display_name":"AndyW"},"score":0,"creation_date":1631230698,"post_id":69125163,"comment_id":122173657,"body_markdown":"Yes that&#39;s right - the jpackage tool embeds the cut-down (by module) version of the JRE. No issue with the launch time, it&#39;s the run time event processing that&#39;s the problem. Everything works as it does outside of the app, just much slower.","body":"Yes that&#39;s right - the jpackage tool embeds the cut-down (by module) version of the JRE. No issue with the launch time, it&#39;s the run time event processing that&#39;s the problem. Everything works as it does outside of the app, just much slower."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1631231487,"post_id":69125163,"comment_id":122173766,"body_markdown":"Are you using exactly the same JVM parameters?","body":"Are you using exactly the same JVM parameters?"},{"owner":{"account_id":2183703,"reputation":101,"user_id":1932613,"display_name":"AndyW"},"score":0,"creation_date":1631231808,"post_id":69125163,"comment_id":122173816,"body_markdown":"Yes, same parameters. Confirmed they&#39;re the same in VisualVM as well at runtime.","body":"Yes, same parameters. Confirmed they&#39;re the same in VisualVM as well at runtime."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1631244729,"post_id":69125163,"comment_id":122175517,"body_markdown":"What kind of operations do you suspect are slowed? Can you post some example code for us to try?","body":"What kind of operations do you suspect are slowed? Can you post some example code for us to try?"},{"owner":{"account_id":2183703,"reputation":101,"user_id":1932613,"display_name":"AndyW"},"score":0,"creation_date":1631261231,"post_id":69125163,"comment_id":122179435,"body_markdown":"It&#39;s a fairly large app and I haven&#39;t been able to identify any specific code that sticks out as running slowly, so no useful example to give. It does use RocksDB heavily though, so I&#39;ve suspected that as an issue. Also Javalin, but I&#39;m less inclined to think that&#39;s the problem - but I don&#39;t know, it might be. I&#39;ve updated my question with a little more info around these.","body":"It&#39;s a fairly large app and I haven&#39;t been able to identify any specific code that sticks out as running slowly, so no useful example to give. It does use RocksDB heavily though, so I&#39;ve suspected that as an issue. Also Javalin, but I&#39;m less inclined to think that&#39;s the problem - but I don&#39;t know, it might be. I&#39;ve updated my question with a little more info around these."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1631305493,"post_id":69125163,"comment_id":122195579,"body_markdown":"VisualVM should help you determine where the bottlenecks are","body":"VisualVM should help you determine where the bottlenecks are"},{"owner":{"account_id":2183703,"reputation":101,"user_id":1932613,"display_name":"AndyW"},"score":0,"creation_date":1631370160,"post_id":69125163,"comment_id":122206282,"body_markdown":"Yes, I&#39;ve spent quite a lot of time looking at this with VisualVM. The problem isn&#39;t bottlenecks in the code, it&#39;s that literally everything runs much slower when packaged as a MacOS app. For example, one of my more demanding calls takes about 6s - with VisualVM profiling the CPU against the compiled classes it takes 31s, but against the app it&#39;s 684s. Drilling in shows the same methods called, same invocations, but major difference in time. Even the simplest call (RocksDB.releaseSnapshot) goes from 0.001ms to 0.007ms; the largest goes from 8.5s to 95.7s. Same across the board.","body":"Yes, I&#39;ve spent quite a lot of time looking at this with VisualVM. The problem isn&#39;t bottlenecks in the code, it&#39;s that literally everything runs much slower when packaged as a MacOS app. For example, one of my more demanding calls takes about 6s - with VisualVM profiling the CPU against the compiled classes it takes 31s, but against the app it&#39;s 684s. Drilling in shows the same methods called, same invocations, but major difference in time. Even the simplest call (RocksDB.releaseSnapshot) goes from 0.001ms to 0.007ms; the largest goes from 8.5s to 95.7s. Same across the board."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1631466695,"post_id":69125163,"comment_id":122223918,"body_markdown":"Are the configurations (e.g. heap space, GC, etc.) the same after packaging?","body":"Are the configurations (e.g. heap space, GC, etc.) the same after packaging?"},{"owner":{"account_id":2183703,"reputation":101,"user_id":1932613,"display_name":"AndyW"},"score":0,"creation_date":1631480442,"post_id":69125163,"comment_id":122226992,"body_markdown":"Yes, VisualVM shows both with:\n-XX:+UseZGC\n-Xms256m\n-Xmx2048m\n-Dfile.encoding=UTF-8\n\nThe packaged app also has 2 -Djpackage.app args for metadata. The system.properties are the same except for the class path and java home differences you&#39;d expect, plus the user.dir for the packaged app is /, but for the unpackaged classes it points to the directory that I run the launch script from.","body":"Yes, VisualVM shows both with: -XX:+UseZGC -Xms256m -Xmx2048m -Dfile.encoding=UTF-8  The packaged app also has 2 -Djpackage.app args for metadata. The system.properties are the same except for the class path and java home differences you&#39;d expect, plus the user.dir for the packaged app is /, but for the unpackaged classes it points to the directory that I run the launch script from."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1631581921,"post_id":69125163,"comment_id":122255126,"body_markdown":"Then I&#39;m out of ideas. I suppose something could possibly be interfering with the packaged version (e.g. security systems), but that&#39;s just a wild guess that I have no basis for.","body":"Then I&#39;m out of ideas. I suppose something could possibly be interfering with the packaged version (e.g. security systems), but that&#39;s just a wild guess that I have no basis for."},{"owner":{"account_id":2183703,"reputation":101,"user_id":1932613,"display_name":"AndyW"},"score":0,"creation_date":1631607024,"post_id":69125163,"comment_id":122261085,"body_markdown":"Np, it&#39;s quite a head scratcher. Thanks for your time and efforts looking into this.","body":"Np, it&#39;s quite a head scratcher. Thanks for your time and efforts looking into this."},{"owner":{"account_id":1221570,"reputation":3905,"user_id":1188121,"accept_rate":72,"display_name":"adamretter"},"score":0,"creation_date":1631642793,"post_id":69125163,"comment_id":122276561,"body_markdown":"Is the difference in performance only there for the RocksJava calls that call RocksDB native code, or do you see it for every Java method call? I want to try and rule in/out if this is RocksDB specific or just Java specific for your packaged application.","body":"Is the difference in performance only there for the RocksJava calls that call RocksDB native code, or do you see it for every Java method call? I want to try and rule in/out if this is RocksDB specific or just Java specific for your packaged application."},{"owner":{"account_id":2183703,"reputation":101,"user_id":1932613,"display_name":"AndyW"},"score":0,"creation_date":1631654373,"post_id":69125163,"comment_id":122280174,"body_markdown":"It seems to be affecting every method call, not just those to RocksDb.","body":"It seems to be affecting every method call, not just those to RocksDb."},{"owner":{"account_id":1221570,"reputation":3905,"user_id":1188121,"accept_rate":72,"display_name":"adamretter"},"score":0,"creation_date":1631654651,"post_id":69125163,"comment_id":122280249,"body_markdown":"This is very strange, can you compare the packaged and non-packaged apps with a profiler to find out where the underlying difference is?","body":"This is very strange, can you compare the packaged and non-packaged apps with a profiler to find out where the underlying difference is?"},{"owner":{"account_id":2183703,"reputation":101,"user_id":1932613,"display_name":"AndyW"},"score":0,"creation_date":1631693710,"post_id":69125163,"comment_id":122288444,"body_markdown":"Yes, very strange indeed. I&#39;ve been using VisualVM profiler to compare the 2, as per my comment a bit further up this thread.","body":"Yes, very strange indeed. I&#39;ve been using VisualVM profiler to compare the 2, as per my comment a bit further up this thread."},{"owner":{"account_id":1221570,"reputation":3905,"user_id":1188121,"accept_rate":72,"display_name":"adamretter"},"score":0,"creation_date":1631721290,"post_id":69125163,"comment_id":122300765,"body_markdown":"You might want something that can profile from a lower-level, i.e. to see if one application is making syscalls/messages that the other is not (perhaps due to its packaging)","body":"You might want something that can profile from a lower-level, i.e. to see if one application is making syscalls/messages that the other is not (perhaps due to its packaging)"}],"answers":[{"tags":[],"owner":{"account_id":1831371,"reputation":99,"user_id":1662702,"display_name":"Florian Stoica"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637843627,"creation_date":1637843627,"answer_id":70111209,"question_id":69125163,"body_markdown":"I did have the same issue somehow the binary made by jpackage is waaay too slow, did not find any solutions in tweaking the creation of the binary, so I ended up replacing it with a sh that starts the jar and this made the app work normal.\r\n\r\nSo after creating the app-image in the /Contents/app replaced the binary with \r\n\r\n   \r\n```\r\n#!/bin/bash\r\n$DIR/../runtime/Contents/Home/bin/java -Xdock:icon=$DIR/../Resources/icon.icns -Djava.library.path=$DIR:$DIR/../MacOS -Djava.launcher.path=$DIR/../MacOS -Dapp.preferences.id=org/springframework/boot/loader -Dstorage.diskCache.bufferSize=200 -Xmx4g -cp $DIR/../app/server.jar org.springframework.boot.loader.JarLauncher\r\n```","title":"Java application runs much slower when packaged as a MacOs app","body":"<p>I did have the same issue somehow the binary made by jpackage is waaay too slow, did not find any solutions in tweaking the creation of the binary, so I ended up replacing it with a sh that starts the jar and this made the app work normal.</p>\n<p>So after creating the app-image in the /Contents/app replaced the binary with</p>\n<pre><code>#!/bin/bash\n$DIR/../runtime/Contents/Home/bin/java -Xdock:icon=$DIR/../Resources/icon.icns -Djava.library.path=$DIR:$DIR/../MacOS -Djava.launcher.path=$DIR/../MacOS -Dapp.preferences.id=org/springframework/boot/loader -Dstorage.diskCache.bufferSize=200 -Xmx4g -cp $DIR/../app/server.jar org.springframework.boot.loader.JarLauncher\n</code></pre>\n"}],"owner":{"account_id":2183703,"reputation":101,"user_id":1932613,"display_name":"AndyW"},"comment_count":20,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":360,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1637843627,"creation_date":1631225055,"question_id":69125163,"body_markdown":"I&#39;ve written a Java application that I want to package for the main OSes so that I can provide it as a self-contained installable image. To do this, I use jpackage, with help from the best-named plugin I&#39;ve come across, The Badass  Runtime Plugin (https://badass-runtime-plugin.beryx.org)\r\n\r\nMy problem is that although the packaging works the performance of the packaged application is dreadful when compared to the compiled Java.\r\n\r\nWhen I build my application (I use gradle for this) on MacOS, the build output includes an install directory containing the compiled classes and a launch script, and an installer directory containing a dmg with the app file.\r\n\r\nRunning the application from the compiled classes via the launch script works great. Running the application from the app (after installing from the dmg) is very much slower - frequently 10x and worse.\r\n\r\nThe launch script for the compiled classes points at my local JDK instance (openjdk 16), whereas the app file contains the jdk modules needed for the app to run. This is by design of course, but the only difference I can think of between the two.\r\n\r\nThanks for reading this far - I realise this is a fairly niche problem. If anyone has any experience or thoughts that might help I&#39;d love to hear it.\r\n\r\nThanks,\r\nAndy\r\n\r\nEdit 10th Sept - thanks for all the interest and comments so far. A couple more notes about my app that might be relevant:\r\n\r\nIt&#39;s a heavy user of RocksDB for off-heap, file-backed data storage. Both the compiled Java and the packaged app use the same \r\nsst files, so the data is identical. The app and data are running/present on the same machine, a MacBook Pro with SSD drive and plenty of capacity.\r\n\r\nIt launches Javalin instances to fire up https connections for a browser based UI and accepting data requests.\r\n","title":"Java application runs much slower when packaged as a MacOs app","body":"<p>I've written a Java application that I want to package for the main OSes so that I can provide it as a self-contained installable image. To do this, I use jpackage, with help from the best-named plugin I've come across, The Badass  Runtime Plugin (<a href=\"https://badass-runtime-plugin.beryx.org\" rel=\"nofollow noreferrer\">https://badass-runtime-plugin.beryx.org</a>)</p>\n<p>My problem is that although the packaging works the performance of the packaged application is dreadful when compared to the compiled Java.</p>\n<p>When I build my application (I use gradle for this) on MacOS, the build output includes an install directory containing the compiled classes and a launch script, and an installer directory containing a dmg with the app file.</p>\n<p>Running the application from the compiled classes via the launch script works great. Running the application from the app (after installing from the dmg) is very much slower - frequently 10x and worse.</p>\n<p>The launch script for the compiled classes points at my local JDK instance (openjdk 16), whereas the app file contains the jdk modules needed for the app to run. This is by design of course, but the only difference I can think of between the two.</p>\n<p>Thanks for reading this far - I realise this is a fairly niche problem. If anyone has any experience or thoughts that might help I'd love to hear it.</p>\n<p>Thanks,\nAndy</p>\n<p>Edit 10th Sept - thanks for all the interest and comments so far. A couple more notes about my app that might be relevant:</p>\n<p>It's a heavy user of RocksDB for off-heap, file-backed data storage. Both the compiled Java and the packaged app use the same\nsst files, so the data is identical. The app and data are running/present on the same machine, a MacBook Pro with SSD drive and plenty of capacity.</p>\n<p>It launches Javalin instances to fire up https connections for a browser based UI and accepting data requests.</p>\n"},{"tags":["java","java-8","java-9"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":15,"creation_date":1627658005,"post_id":68593264,"comment_id":121223040,"body_markdown":"Note: You are modifying an object&#39;s hash key once it&#39;s already been added to a collection. This is almost guaranteed to cause malfunctions of some sort. Something as trivial as adjusting the default number of hash buckets in `HashMap` could cause this.","body":"Note: You are modifying an object&#39;s hash key once it&#39;s already been added to a collection. This is almost guaranteed to cause malfunctions of some sort. Something as trivial as adjusting the default number of hash buckets in <code>HashMap</code> could cause this."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":6,"creation_date":1627658350,"post_id":68593264,"comment_id":121223193,"body_markdown":"They probably did change something.  But the change is guaranteed to ensure consistent results when used correctly, not to ensure consistent behavior when used incorrectly.","body":"They probably did change something.  But the change is guaranteed to ensure consistent results when used correctly, not to ensure consistent behavior when used incorrectly."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1627658351,"post_id":68593264,"comment_id":121223194,"body_markdown":"Compare the source of the class in both Java 8 and Java 9 and find out! As Chrylis indicates, changes to the hashcode could cause issues, and it looks like Java 9 handles things differently compared to Java 8, which could mean that removal through an iterator is no longer sensitive to the hash code change, or something else changed. However, you are basically relying on undefined behaviour.","body":"Compare the source of the class in both Java 8 and Java 9 and find out! As Chrylis indicates, changes to the hashcode could cause issues, and it looks like Java 9 handles things differently compared to Java 8, which could mean that removal through an iterator is no longer sensitive to the hash code change, or something else changed. However, you are basically relying on undefined behaviour."},{"owner":{"account_id":15797126,"reputation":159,"user_id":11398645,"display_name":"Ashutosh"},"score":3,"creation_date":1627658741,"post_id":68593264,"comment_id":121223340,"body_markdown":"From javadoc of set: Note: Great care must be exercised if mutable objects are used as set elements. The behavior of a set is not specified if the value of an object is changed in a manner that affects equals comparisons while the object is an element in the set. \nHere this principle violated.","body":"From javadoc of set: Note: Great care must be exercised if mutable objects are used as set elements. The behavior of a set is not specified if the value of an object is changed in a manner that affects equals comparisons while the object is an element in the set.  Here this principle violated."},{"owner":{"account_id":15797126,"reputation":159,"user_id":11398645,"display_name":"Ashutosh"},"score":0,"creation_date":1627659552,"post_id":68593264,"comment_id":121223653,"body_markdown":"BTW, which java flavor you are using: oracle or openjdk? A bug was raised for OpenJdk remove method for set which talks about similar issue but was closed as not an issue: https://bugs.openjdk.java.net/browse/JDK-8154740","body":"BTW, which java flavor you are using: oracle or openjdk? A bug was raised for OpenJdk remove method for set which talks about similar issue but was closed as not an issue: <a href=\"https://bugs.openjdk.java.net/browse/JDK-8154740\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-8154740</a>"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1627659628,"post_id":68593264,"comment_id":121223681,"body_markdown":"@Ashutosh: I&#39;m almost 100% that this is one area where the Oracle JDK will absolutely do what the OpenJDK does. There&#39;s no reason for them to divert in this area and doing so would actually be counter-productive for them. Edit: see the bottom of my answer for links to a bug with discussions on this.","body":"@Ashutosh: I&#39;m almost 100% that this is one area where the Oracle JDK will absolutely do what the OpenJDK does. There&#39;s no reason for them to divert in this area and doing so would actually be counter-productive for them. Edit: see the bottom of my answer for links to a bug with discussions on this."}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1627659864,"creation_date":1627658973,"answer_id":68593520,"question_id":68593264,"body_markdown":"*Something* changed about `HashSet` between Java 8 and Java 9, but the specifics are not actually that interesting, because the way you are using the `Set` is already [specified to be wrong][1] (emphasis mine):\r\n\r\n&gt; Note: Great care must be exercised if mutable objects are used as set elements. **The behavior of a set is not specified if the value of an object is changed in a manner that affects equals comparisons while the object is an element in the set**.\r\n\r\nSince [`Date.equals()`][2] depends on the time the `Date` represents, you do exactly that.\r\n\r\nAnd since you do that the behavior of the set is no longer specified.\r\n\r\nWhich means it can misbehave in any way/shape/form and still be a conforming implementation.\r\n\r\nYou could try to find out *why* Java 9 specifically behaves differently now (I don&#39;t know myself), but it doesn&#39;t change the fundamental issue that *any* JVM could at any point in time behave differently yet again if you use the set the wrong way.\r\n\r\n*Edit*: out of curiosity I *did* investigate what exactly was different and found a relevant change: In both OpenJDK 8 and 9 `HashSet` is implemented based on a `HashMap`, so this all focuses on `HashMap`.\r\n\r\nIn Java 8 [the `remove()` method of the relevant `Iterator` implementation][3] contains this line:\r\n\r\n\r\n    K key = p.key;\r\n    removeNode(hash(key), key, null, false, false);\r\n\r\nThis re-hashes (i.e. gets the current hash) of the `key` (i.e. your `Date`) and tries to remove that from the `Map`. Since that new hash was never added in the first place (back when that key was added it had a different hash), this will not find a node and thus not remove anything.\r\n\r\nIn Java 9 [that code][4] looks like this instead:\r\n\r\n    removeNode(p.hash, p.key, null, false, false);\r\n\r\nThis will simply pass the previously calculated-and-remembered hash `p.hash` to the `removeNode` method which will thus be able to find and remove the node in question.\r\n\r\nThe [changeset that introduced that change][5] mentions [this OpenJDK bug][6].\r\n\r\nThe comments in there (notably also by Doug Lea) seem to agree that &quot;fixing&quot; the behavior in the face of misused sets is not a goal, but that it could be faster to not re-compute the hash. In other words: that change was done for performance reasons and not for correctness reasons.\r\n\r\n**So to summarize and re-iterate**: **both** of those behaviors are acceptable implementations, because by changing the `equals()` behavior of your set entries, you&#39;ve broken the contract already.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Set.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Date.html#equals-java.lang.Object-\r\n  [3]: https://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/HashMap.java#l1438\r\n  [4]: https://hg.openjdk.java.net/jdk9/jdk9/jdk/file/65464a307408/src/java.base/share/classes/java/util/HashMap.java#l1498\r\n  [5]: https://hg.openjdk.java.net/jdk9/jdk9/jdk/rev/4d74b5d2086c\r\n  [6]: https://bugs.openjdk.java.net/browse/JDK-8170733","title":"Why do HashSets behave differently in Java 8 and Java 9+?","body":"<p><em>Something</em> changed about <code>HashSet</code> between Java 8 and Java 9, but the specifics are not actually that interesting, because the way you are using the <code>Set</code> is already <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Set.html\" rel=\"noreferrer\">specified to be wrong</a> (emphasis mine):</p>\n<blockquote>\n<p>Note: Great care must be exercised if mutable objects are used as set elements. <strong>The behavior of a set is not specified if the value of an object is changed in a manner that affects equals comparisons while the object is an element in the set</strong>.</p>\n</blockquote>\n<p>Since <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html#equals-java.lang.Object-\" rel=\"noreferrer\"><code>Date.equals()</code></a> depends on the time the <code>Date</code> represents, you do exactly that.</p>\n<p>And since you do that the behavior of the set is no longer specified.</p>\n<p>Which means it can misbehave in any way/shape/form and still be a conforming implementation.</p>\n<p>You could try to find out <em>why</em> Java 9 specifically behaves differently now (I don't know myself), but it doesn't change the fundamental issue that <em>any</em> JVM could at any point in time behave differently yet again if you use the set the wrong way.</p>\n<p><em>Edit</em>: out of curiosity I <em>did</em> investigate what exactly was different and found a relevant change: In both OpenJDK 8 and 9 <code>HashSet</code> is implemented based on a <code>HashMap</code>, so this all focuses on <code>HashMap</code>.</p>\n<p>In Java 8 <a href=\"https://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/HashMap.java#l1438\" rel=\"noreferrer\">the <code>remove()</code> method of the relevant <code>Iterator</code> implementation</a> contains this line:</p>\n<pre><code>K key = p.key;\nremoveNode(hash(key), key, null, false, false);\n</code></pre>\n<p>This re-hashes (i.e. gets the current hash) of the <code>key</code> (i.e. your <code>Date</code>) and tries to remove that from the <code>Map</code>. Since that new hash was never added in the first place (back when that key was added it had a different hash), this will not find a node and thus not remove anything.</p>\n<p>In Java 9 <a href=\"https://hg.openjdk.java.net/jdk9/jdk9/jdk/file/65464a307408/src/java.base/share/classes/java/util/HashMap.java#l1498\" rel=\"noreferrer\">that code</a> looks like this instead:</p>\n<pre><code>removeNode(p.hash, p.key, null, false, false);\n</code></pre>\n<p>This will simply pass the previously calculated-and-remembered hash <code>p.hash</code> to the <code>removeNode</code> method which will thus be able to find and remove the node in question.</p>\n<p>The <a href=\"https://hg.openjdk.java.net/jdk9/jdk9/jdk/rev/4d74b5d2086c\" rel=\"noreferrer\">changeset that introduced that change</a> mentions <a href=\"https://bugs.openjdk.java.net/browse/JDK-8170733\" rel=\"noreferrer\">this OpenJDK bug</a>.</p>\n<p>The comments in there (notably also by Doug Lea) seem to agree that &quot;fixing&quot; the behavior in the face of misused sets is not a goal, but that it could be faster to not re-compute the hash. In other words: that change was done for performance reasons and not for correctness reasons.</p>\n<p><strong>So to summarize and re-iterate</strong>: <strong>both</strong> of those behaviors are acceptable implementations, because by changing the <code>equals()</code> behavior of your set entries, you've broken the contract already.</p>\n"}],"owner":{"account_id":7811572,"reputation":63,"user_id":5907615,"display_name":"Viktor Taranenko"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":441,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":68593520,"answer_count":1,"score":5,"last_activity_date":1637843491,"creation_date":1627657756,"question_id":68593264,"body_markdown":"When trying to remove objects wrapped in iterator Java 8 and Java 9+ behave differently. Consider the following example:\r\n```\r\nimport java.util.Date;\r\nimport java.util.HashSet;\r\nimport java.util.Iterator;\r\nimport java.util.Set;\r\n\r\nclass Scratch {\r\n  public static void main(String[] args) {\r\n    Set&lt;Date&gt; dates = new HashSet&lt;&gt;();\r\n    dates.add(new Date(100));\r\n    dates.add(new Date(200));\r\n\r\n    for (Date date : dates) {\r\n        System.out.println(&quot;Initial &quot;+date.getTime()+&quot;:&quot;+date.hashCode());\r\n        date.setTime(date.getTime()+42);\r\n        System.out.println(&quot;Mutated &quot;+date.getTime()+&quot;:&quot;+date.hashCode()+&quot;\\n&quot;);\r\n    }\r\n\r\n    System.out.println(&quot;Size before remove iteration: &quot;+dates.size());\r\n    Iterator&lt;Date&gt; iterator = dates.iterator();\r\n    while (iterator.hasNext()) {\r\n        Date date = iterator.next();\r\n        System.out.println(&quot;In loop: &quot;+date.getTime()+&quot;:&quot;+date.hashCode());\r\n        iterator.remove();\r\n    }\r\n    System.out.println(&quot;Size after remove iteration: &quot;+dates.size());\r\n  }\r\n}\r\n```\r\n\r\nAfter mutating objects inside the HashSet Java 8 refuses to remove them using iterator, check the size after removal loop.\r\nJava 8 output:\r\n```\r\nInitial 100:100\r\nMutated 142:142\r\n\r\nInitial 200:200\r\nMutated 242:242\r\n\r\nSize before remove iteration: 2\r\nIn loop: 142:142\r\nIn loop: 242:242\r\nSize after remove iteration: 2\r\n```\r\n\r\nJava 9+ output is same as above but:\r\n```\r\nSize after remove iteration: 0\r\n```\r\nWhy does this happen?","title":"Why do HashSets behave differently in Java 8 and Java 9+?","body":"<p>When trying to remove objects wrapped in iterator Java 8 and Java 9+ behave differently. Consider the following example:</p>\n<pre><code>import java.util.Date;\nimport java.util.HashSet;\nimport java.util.Iterator;\nimport java.util.Set;\n\nclass Scratch {\n  public static void main(String[] args) {\n    Set&lt;Date&gt; dates = new HashSet&lt;&gt;();\n    dates.add(new Date(100));\n    dates.add(new Date(200));\n\n    for (Date date : dates) {\n        System.out.println(&quot;Initial &quot;+date.getTime()+&quot;:&quot;+date.hashCode());\n        date.setTime(date.getTime()+42);\n        System.out.println(&quot;Mutated &quot;+date.getTime()+&quot;:&quot;+date.hashCode()+&quot;\\n&quot;);\n    }\n\n    System.out.println(&quot;Size before remove iteration: &quot;+dates.size());\n    Iterator&lt;Date&gt; iterator = dates.iterator();\n    while (iterator.hasNext()) {\n        Date date = iterator.next();\n        System.out.println(&quot;In loop: &quot;+date.getTime()+&quot;:&quot;+date.hashCode());\n        iterator.remove();\n    }\n    System.out.println(&quot;Size after remove iteration: &quot;+dates.size());\n  }\n}\n</code></pre>\n<p>After mutating objects inside the HashSet Java 8 refuses to remove them using iterator, check the size after removal loop.\nJava 8 output:</p>\n<pre><code>Initial 100:100\nMutated 142:142\n\nInitial 200:200\nMutated 242:242\n\nSize before remove iteration: 2\nIn loop: 142:142\nIn loop: 242:242\nSize after remove iteration: 2\n</code></pre>\n<p>Java 9+ output is same as above but:</p>\n<pre><code>Size after remove iteration: 0\n</code></pre>\n<p>Why does this happen?</p>\n"},{"tags":["java","hibernate","jakarta-ee","struts2","crud"],"comments":[{"owner":{"account_id":1522669,"reputation":11674,"user_id":1421925,"accept_rate":90,"display_name":"Magnilex"},"score":0,"creation_date":1363810662,"post_id":15533753,"comment_id":22006110,"body_markdown":"That is not all the code right? How does it look if you include `transaction`?","body":"That is not all the code right? How does it look if you include <code>transaction</code>?"},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1363818209,"post_id":15533753,"comment_id":22010006,"body_markdown":"See `get` javadoc: http://docs.jboss.org/hibernate/orm/4.1/javadocs/org/hibernate/Session.html#get(java.lang.Class,%20java.io.Serializable).","body":"See <code>get</code> javadoc: <a href=\"http://docs.jboss.org/hibernate/orm/4.1/javadocs/org/hibernate/Session.html#get(java.lang.Class,%20java.io.Serializable)\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/orm/4.1/javadocs/org/hibernate/&hellip;</a>."}],"answers":[{"tags":[],"owner":{"account_id":383107,"reputation":50638,"user_id":738746,"accept_rate":97,"display_name":"Bhesh Gurung"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1363812079,"creation_date":1363811288,"answer_id":15534030,"question_id":15533753,"body_markdown":"You have to write a query to get the user by `userName`.\r\n\r\ne.g.\r\n\r\n&lt;!-- language: lang-sql --&gt;\r\n\r\n    String qStr = &quot;from User user where user.userName = :userName&quot;;\r\n    //then run the query to get the user\r\n    Query q = session.createQuery(qStr);\r\n    q.setParameter(&quot;userName&quot;, userName);\r\n    List&lt;User&gt; users = (List&lt;User&gt;) q.list();\r\n    //if the list is not empty, then users.get(0) will give you the object","title":"How to delete a record by any column value using Hibernate with Struts 2","body":"<p>You have to write a query to get the user by <code>userName</code>.</p>\n\n<p>e.g.</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>String qStr = \"from User user where user.userName = :userName\";\n//then run the query to get the user\nQuery q = session.createQuery(qStr);\nq.setParameter(\"userName\", userName);\nList&lt;User&gt; users = (List&lt;User&gt;) q.list();\n//if the list is not empty, then users.get(0) will give you the object\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1765802,"reputation":557,"user_id":1611711,"display_name":"Marek Piechut"},"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1363813581,"creation_date":1363813581,"answer_id":15534711,"question_id":15533753,"body_markdown":"Why not simply use JPQL delete query? This will not require hibernate to restore any object from DB to simple delete it. Here&#39;s how you can delete user by name without loading it from DB first:\r\n\r\n        Query query = em.createQuery(&quot;delete from User where name=:name&quot;);\r\n        query.setParameter(&quot;name&quot;, &quot;Zigi&quot;);\r\n        int deleted = query.executeUpdate();\r\n        System.out.println(&quot;Deleted: &quot; + deleted + &quot; user(s)&quot;);\r\n\r\n\r\n ","title":"How to delete a record by any column value using Hibernate with Struts 2","body":"<p>Why not simply use JPQL delete query? This will not require hibernate to restore any object from DB to simple delete it. Here's how you can delete user by name without loading it from DB first:</p>\n\n<pre><code>    Query query = em.createQuery(\"delete from User where name=:name\");\n    query.setParameter(\"name\", \"Zigi\");\n    int deleted = query.executeUpdate();\n    System.out.println(\"Deleted: \" + deleted + \" user(s)\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1363861586,"creation_date":1363861586,"answer_id":15544888,"question_id":15533753,"body_markdown":"The problem you have with Hibernate you can&#39;t get the persistence instance by some property value, only can do it by `id`. If you want to find an instance by `userName` try this\r\n\r\n    public static final String USER_NAME = &quot;userName&quot;;\r\n\r\n\tprivate List&lt;User&gt; findByProperty(String propertyName, Object value) {\r\n\t\tlog.debug(&quot;finding User instance with property: &quot; + propertyName\t+ &quot;, value: &quot; + value);\r\n\t\ttry {\r\n\t\t\tString queryString = &quot;from User as model where model.&quot; + propertyName\t+ &quot;= ?&quot;;\r\n\t\t\tQuery queryObject = getSession().createQuery(queryString);\r\n\t\t\tqueryObject.setParameter(0, value);\r\n\t\t\treturn queryObject.list();\r\n\t\t} catch (RuntimeException re) {\r\n\t\t\tlog.error(&quot;find by property name failed&quot;, re);\r\n\t\t\tthrow re;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic List&lt;User&gt; findByUserName(Object userName) {\r\n\t\treturn findByProperty(USER_NAME, userName);\r\n\t}\r\n\r\n    @Override\r\n    public void deleteUsers(String userName) {\r\n      try {\r\n        List&lt;User&gt; list = findByUserName(userName);\r\n        for (User user: list)\r\n          getSession().delete(user);\r\n        log.debug(&quot;delete successful&quot;);\r\n\t  } catch (RuntimeException re) {\r\n\t    log.error(&quot;delete failed&quot;, re);\r\n\t    throw re;\r\n\t  }\r\n    }  \r\n\r\nthat will delete all users with the given name, to delete the unique user make sure the `user_name` field has unique constraint. It could be done via annotation on the table\r\n\r\n    @Table(name = &quot;user&quot;, uniqueConstraints = {\r\n    \t\t@UniqueConstraint(columnNames = &quot;user_name&quot;)\r\n    })\r\n\r\n  \r\n","title":"How to delete a record by any column value using Hibernate with Struts 2","body":"<p>The problem you have with Hibernate you can't get the persistence instance by some property value, only can do it by <code>id</code>. If you want to find an instance by <code>userName</code> try this</p>\n\n<pre><code>public static final String USER_NAME = \"userName\";\n\nprivate List&lt;User&gt; findByProperty(String propertyName, Object value) {\n    log.debug(\"finding User instance with property: \" + propertyName    + \", value: \" + value);\n    try {\n        String queryString = \"from User as model where model.\" + propertyName   + \"= ?\";\n        Query queryObject = getSession().createQuery(queryString);\n        queryObject.setParameter(0, value);\n        return queryObject.list();\n    } catch (RuntimeException re) {\n        log.error(\"find by property name failed\", re);\n        throw re;\n    }\n}\n\npublic List&lt;User&gt; findByUserName(Object userName) {\n    return findByProperty(USER_NAME, userName);\n}\n\n@Override\npublic void deleteUsers(String userName) {\n  try {\n    List&lt;User&gt; list = findByUserName(userName);\n    for (User user: list)\n      getSession().delete(user);\n    log.debug(\"delete successful\");\n  } catch (RuntimeException re) {\n    log.error(\"delete failed\", re);\n    throw re;\n  }\n}  \n</code></pre>\n\n<p>that will delete all users with the given name, to delete the unique user make sure the <code>user_name</code> field has unique constraint. It could be done via annotation on the table</p>\n\n<pre><code>@Table(name = \"user\", uniqueConstraints = {\n        @UniqueConstraint(columnNames = \"user_name\")\n})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13523635,"reputation":1,"user_id":9756079,"display_name":"Gol.D"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540797975,"creation_date":1540796819,"answer_id":53040377,"question_id":15533753,"body_markdown":"    public void deleteUser(Integer id)\r\n\t{\r\n\t\tsession = sessionfactory.openSession();\r\n\t\ttx = session.beginTransaction();\r\n\t\ttry\r\n\t\t{\t\t    \r\n\t\t    Query q=session.createQuery(&quot;delete from UserValidateLogin where userId=:userId&quot;);  \r\n\t\t\tq.setParameter(&quot;userId&quot;,id);  \r\n\t\t\t  \r\n\t\t\tq.executeUpdate();    \r\n\t\t\ttx.commit();\r\n\t\t}\r\n\t\tcatch(Exception e)\r\n\t\t{\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tfinally\r\n\t\t{\r\n\t\t\tsession.close();\r\n\t\t}\r\n\t\t\r\n\t} ","title":"How to delete a record by any column value using Hibernate with Struts 2","body":"<pre><code>public void deleteUser(Integer id)\n{\n    session = sessionfactory.openSession();\n    tx = session.beginTransaction();\n    try\n    {           \n        Query q=session.createQuery(\"delete from UserValidateLogin where userId=:userId\");  \n        q.setParameter(\"userId\",id);  \n\n        q.executeUpdate();    \n        tx.commit();\n    }\n    catch(Exception e)\n    {\n        e.printStackTrace();\n    }\n    finally\n    {\n        session.close();\n    }\n\n} \n</code></pre>\n"}],"owner":{"account_id":2278011,"reputation":1541,"user_id":2003821,"accept_rate":56,"display_name":"Aadam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30775,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":15534711,"answer_count":4,"score":4,"last_activity_date":1637843480,"creation_date":1363810425,"question_id":15533753,"body_markdown":"I am using Struts2+Hibernate and have been understanding by example on net. In one of the examples here [struts2+hibernate example][1]\r\n\r\n\r\n  [1]: http://www.dzone.com/tutorials/java/struts-2/struts-2-example/struts-2-crud-example-1.html\r\n\r\n\r\nWhat I can see and do is, to delete an user by their `id`, as we can see there, a delete link is provided to each user in the list, and the `session.delete()` deletes the record by `id`. Now I want the user to enter the name in text field given there and that should be able to delete by the name. So far I have tried like this\r\n\r\n**ActionMethod:**\r\n\r\n    public String delete()\r\n\t{\r\n\t\t//HttpServletRequest request = (HttpServletRequest) ActionContext.getContext().get( ServletActionContext.HTTP_REQUEST);\r\n\t\t//userDAO.delUser(Long.parseLong( request.getParameter(&quot;id&quot;)));\r\n                userDAO.delUser(user.getName());\r\n\t\treturn SUCCESS;\r\n\t}\r\n\r\n**DAOImpl:**\r\n\r\n    @Override\r\n\tpublic void delUser(String userName) {\r\n\t\ttry {\r\n\t\t\tUser user = (User) session.get(User.class, userName);\r\n\t\t\tsession.delete(user);\r\n\t\t} catch (Exception e) {\r\n\t\t\ttransaction.rollback();\r\n\t\t\te.printStackTrace();\r\n\t\t} \r\n\t}\r\n\r\nI hope there is a way that Hibernate can delete a row by any field value provided. The above does nothing.\r\n\r\n\r\n","title":"How to delete a record by any column value using Hibernate with Struts 2","body":"<p>I am using Struts2+Hibernate and have been understanding by example on net. In one of the examples here <a href=\"http://www.dzone.com/tutorials/java/struts-2/struts-2-example/struts-2-crud-example-1.html\" rel=\"nofollow noreferrer\">struts2+hibernate example</a></p>\n<p>What I can see and do is, to delete an user by their <code>id</code>, as we can see there, a delete link is provided to each user in the list, and the <code>session.delete()</code> deletes the record by <code>id</code>. Now I want the user to enter the name in text field given there and that should be able to delete by the name. So far I have tried like this</p>\n<p><strong>ActionMethod:</strong></p>\n<pre><code>public String delete()\n{\n    //HttpServletRequest request = (HttpServletRequest) ActionContext.getContext().get( ServletActionContext.HTTP_REQUEST);\n    //userDAO.delUser(Long.parseLong( request.getParameter(&quot;id&quot;)));\n            userDAO.delUser(user.getName());\n    return SUCCESS;\n}\n</code></pre>\n<p><strong>DAOImpl:</strong></p>\n<pre><code>@Override\npublic void delUser(String userName) {\n    try {\n        User user = (User) session.get(User.class, userName);\n        session.delete(user);\n    } catch (Exception e) {\n        transaction.rollback();\n        e.printStackTrace();\n    } \n}\n</code></pre>\n<p>I hope there is a way that Hibernate can delete a row by any field value provided. The above does nothing.</p>\n"},{"tags":["java","selenium","selenium-webdriver","testing","automation"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1636380522,"post_id":69884442,"comment_id":123533893,"body_markdown":"If you don&#39;t have any class or id to identify which span you want to interact with the only way I&#39;d see would be its position within the document (e.g. the 1st span after the img with class &quot;class2&quot;, the nth span in the document etc.). Structural changes to the document could break the test though.","body":"If you don&#39;t have any class or id to identify which span you want to interact with the only way I&#39;d see would be its position within the document (e.g. the 1st span after the img with class &quot;class2&quot;, the nth span in the document etc.). Structural changes to the document could break the test though."},{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1636382579,"post_id":69884442,"comment_id":123534795,"body_markdown":"Can you remove the 2 instances of the phrase _how to interact with span_ if they are originally not a part of the HTML?","body":"Can you remove the 2 instances of the phrase <i>how to interact with span</i> if they are originally not a part of the HTML?"}],"answers":[{"tags":[],"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637843036,"creation_date":1636380641,"answer_id":69884860,"question_id":69884442,"body_markdown":"The element you are trying to find is within a `&lt;svg&gt;` tag so regular locators won&#39;t work. You need to try like below,\r\n\r\n    //*[name()=&#39;svg&#39; and @stroke=&#39;currentColor&#39;]\r\n\r\nor\r\n\r\n    //span//*[name()=&#39;svg&#39; and @stroke=&#39;currentColor&#39;]\r\n\r\nor\r\n\r\n    //*[name()=&#39;svg&#39; and @stroke=&#39;currentColor&#39;]//*[name()=&#39;path&#39;]\r\n","title":"how to interact with span in selenium java without class or id?","body":"<p>The element you are trying to find is within a <code>&lt;svg&gt;</code> tag so regular locators won't work. You need to try like below,</p>\n<pre><code>//*[name()='svg' and @stroke='currentColor']\n</code></pre>\n<p>or</p>\n<pre><code>//span//*[name()='svg' and @stroke='currentColor']\n</code></pre>\n<p>or</p>\n<pre><code>//*[name()='svg' and @stroke='currentColor']//*[name()='path']\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17626787,"reputation":222,"user_id":12791698,"display_name":"Taco Verhagen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636380837,"creation_date":1636380837,"answer_id":69884897,"question_id":69884442,"body_markdown":"If the span contains something unique, select the span that contains that. For example the svg:\r\n\r\n    &quot;//span[./svg[@viewBox=&#39;0 0 512 512&#39;]]&quot;\r\n\r\nOr, if the your entire code is surrounded by a div, as shown below. Get the div which has the right image and then grab the span INSIDE the div:\r\n\r\n    &lt;div&gt;\r\n        &lt;img src=&quot;img.jpg&quot; class=&quot;class2&quot;&gt;\r\n        &lt;span&gt;\r\n             ....\r\n        &lt;/span&gt;\r\n    &lt;/div&gt;\r\n\r\n    &quot;//div[./img[src=&#39;img.jpg&#39;]]/span&quot;\r\n\r\nSee also [finding child elements][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/10881179/xpath-find-all-elements-with-specific-child-node","title":"how to interact with span in selenium java without class or id?","body":"<p>If the span contains something unique, select the span that contains that. For example the svg:</p>\n<pre><code>&quot;//span[./svg[@viewBox='0 0 512 512']]&quot;\n</code></pre>\n<p>Or, if the your entire code is surrounded by a div, as shown below. Get the div which has the right image and then grab the span INSIDE the div:</p>\n<pre><code>&lt;div&gt;\n    &lt;img src=&quot;img.jpg&quot; class=&quot;class2&quot;&gt;\n    &lt;span&gt;\n         ....\n    &lt;/span&gt;\n&lt;/div&gt;\n\n&quot;//div[./img[src='img.jpg']]/span&quot;\n</code></pre>\n<p>See also <a href=\"https://stackoverflow.com/questions/10881179/xpath-find-all-elements-with-specific-child-node\">finding child elements</a></p>\n"}],"owner":{"account_id":23178601,"reputation":3,"user_id":17276742,"display_name":"Saikumar Reddy Yelampalli"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1637843036,"creation_date":1636378854,"question_id":69884442,"body_markdown":"Html code Span is a button X which is present top right side of the image \r\n&lt;div&gt;\r\n\t&lt;section class=&quot;class1&quot;&gt;1st Page&lt;/section&gt;\r\n\r\n\t&lt;img src=&quot;img.jpg&quot; class=&quot;class2&quot;&gt;\r\n\r\n\t&lt;span&gt;                                                  how to interact with span\r\n       &lt;svg stroke=&quot;currentColor&quot; fill=&quot;currentColor&quot; stroke-width=&quot;0&quot; viewBox=&quot;0 0 512 512&quot; height=&quot;1em&quot; width=&quot;1em&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;\r\n       &lt;path d=&quot;M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 &quot;&gt;&lt;/path&gt;&lt;/svg&gt;\r\n    &lt;/span&gt;                                                   how to interact with span\r\n\r\n&lt;/div&gt;","title":"how to interact with span in selenium java without class or id?","body":"<p>Html code Span is a button X which is present top right side of the image</p>\n\n    1st Page\n<pre><code>&lt;img src=&quot;img.jpg&quot; class=&quot;class2&quot;&gt;\n\n&lt;span&gt;                                                  how to interact with span\n   &lt;svg stroke=&quot;currentColor&quot; fill=&quot;currentColor&quot; stroke-width=&quot;0&quot; viewBox=&quot;0 0 512 512&quot; height=&quot;1em&quot; width=&quot;1em&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;\n   &lt;path d=&quot;M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 &quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n&lt;/span&gt;                                                   how to interact with span\n</code></pre>\n\n"},{"tags":["java","websocket","apache-nifi"],"answers":[{"tags":[],"owner":{"account_id":14711979,"reputation":1,"user_id":10625102,"display_name":"PPcraft"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637842863,"creation_date":1637842531,"answer_id":70110949,"question_id":69717979,"body_markdown":"&lt;p&gt;I had the same bug (&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-8347&quot;&gt;Apache jira&lt;/a&gt;).&lt;/p&gt;\r\n&lt;p&gt;Try using a different version. In 1.15.0 it works.&lt;/p&gt;","title":"apache NiFi 1.13.2 ListenWebsocket not working","body":"<p>I had the same bug (<a href=\"https://issues.apache.org/jira/browse/NIFI-8347\" rel=\"nofollow noreferrer\">Apache jira</a>).</p>\n<p>Try using a different version. In 1.15.0 it works.</p>\n"}],"owner":{"account_id":23144836,"reputation":1,"user_id":17247733,"display_name":"yamazaki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":261,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637842863,"creation_date":1635227022,"question_id":69717979,"body_markdown":"I download NiFi 1.13.2 and make simple processes,\r\nbut ListenWebsocket process was not working.\r\n\r\n \r\n\r\nProcesses and settings is below.\r\n&lt;/pre[enter image [description][1] here][2]&gt;\r\n\r\n\r\n\r\nHttp response is below.\r\n&lt;pre&gt;\r\n\r\n    HTTP/1.1 500 Server Error\r\n    Cache-Control: must-revalidate,no-cache,no-store \r\n    Content-Type: text/html;charset=iso-8859-1 \r\n    Content-Length: 4385 \r\n    Connection: close \r\n    Server: Jetty(9.4.38.v20210224) \r\n    Handshake status 500 Server Error \r\n\r\n&lt;/pre&gt;\r\n\r\nnifi-app.log error is below. \r\n\r\n&lt;pre&gt;\r\n\r\n    2021-10-26 14:11:22,845 INFO [pool-20-thread-1] o.a.n.c.r.WriteAheadFlowFileRepository Initiating checkpoint of FlowFile Repository\r\n    2021-10-26 14:11:22,861 INFO [pool-20-thread-1] o.a.n.c.r.WriteAheadFlowFileRepository Successfully checkpointed FlowFile Repository with 0 records in 0 milliseconds\r\n    2021-10-26 14:11:30,477 WARN [qtp1691911352-55] o.e.j.server.handler.ContextHandler.ROOT unavailable\r\n    java.lang.RuntimeException: Unable to load org.eclipse.jetty.websocket.server.WebSocketServerFactory\r\n        \tat org.eclipse.jetty.websocket.servlet.WebSocketServletFactory$Loader.load(WebSocketServletFactory.java:54)\r\n        \tat org.eclipse.jetty.websocket.servlet.WebSocketServlet.init(WebSocketServlet.java:140)\r\n        \tat javax.servlet.GenericServlet.init(GenericServlet.java:244)\r\n        \tat org.eclipse.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:624)\r\n        \tat org.eclipse.jetty.servlet.ServletHolder.getServlet(ServletHolder.java:478)\r\n        \tat org.eclipse.jetty.servlet.ServletHolder.prepare(ServletHolder.java:751)\r\n        \tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:545)\r\n        \tat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)\r\n        \tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1435)\r\n        \tat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)\r\n        \tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:501)\r\n        \tat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)\r\n        \tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1350)\r\n        \tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\r\n        \tat org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:191)\r\n        \tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\r\n        \tat org.eclipse.jetty.server.Server.handle(Server.java:516)\r\n        \tat org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:388)\r\n        \tat org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:633)\r\n        \tat org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:380)\r\n        \tat org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:279)\r\n        \tat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\r\n        \tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\r\n        \tat org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\r\n        \tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:882)\r\n        \tat org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1036)\r\n        \tat java.lang.Thread.run(Unknown Source)\r\n    Caused by: java.lang.ClassNotFoundException: org.eclipse.jetty.websocket.server.WebSocketServerFactory\r\n        \tat java.net.URLClassLoader.findClass(Unknown Source)\r\n        \tat java.lang.ClassLoader.loadClass(Unknown Source)\r\n        \tat java.lang.ClassLoader.loadClass(Unknown Source)\r\n        \tat java.lang.Class.forName0(Native Method)\r\n        \tat java.lang.Class.forName(Unknown Source)\r\n        \tat org.eclipse.jetty.websocket.servlet.WebSocketServletFactory$Loader.load(WebSocketServletFactory.java:48)\r\n        \t... 26 common frames omitted\r\n        2021-10-26 14:11:30,481 WARN [qtp1691911352-55] org.eclipse.jetty.server.HttpChannel /test\r\n        javax.servlet.ServletException: java.lang.RuntimeException: Unable to load org.eclipse.jetty.websocket.server.WebSocketServerFactory\r\n        \tat org.eclipse.jetty.websocket.servlet.WebSocketServlet.init(WebSocketServlet.java:147)\r\n        \tat javax.servlet.GenericServlet.init(GenericServlet.java:244)\r\n        \tat org.eclipse.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:624)\r\n        \tat org.eclipse.jetty.servlet.ServletHolder.getServlet(ServletHolder.java:478)\r\n        \tat org.eclipse.jetty.servlet.ServletHolder.prepare(ServletHolder.java:751)\r\n        \tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:545)\r\n        \tat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)\r\n        \tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1435)\r\n        \tat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)\r\n        \tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:501)\r\n        \tat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)\r\n        \tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1350)\r\n        \tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\r\n        \tat org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:191)\r\n        \tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\r\n        \tat org.eclipse.jetty.server.Server.handle(Server.java:516)\r\n        \tat org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:388)\r\n        \tat org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:633)\r\n        \tat org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:380)\r\n        \tat org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:279)\r\n        \tat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\r\n        \tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\r\n        \tat org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\r\n        \tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:882)\r\n        \tat org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1036)\r\n        \tat java.lang.Thread.run(Unknown Source)\r\n        Caused by: java.lang.RuntimeException: Unable to load org.eclipse.jetty.websocket.server.WebSocketServerFactory\r\n        \tat org.eclipse.jetty.websocket.servlet.WebSocketServletFactory$Loader.load(WebSocketServletFactory.java:54)\r\n        \tat org.eclipse.jetty.websocket.servlet.WebSocketServlet.init(WebSocketServlet.java:140)\r\n        \t... 25 common frames omitted\r\n    Caused by: java.lang.ClassNotFoundException: org.eclipse.jetty.websocket.server.WebSocketServerFactory\r\n        \tat java.net.URLClassLoader.findClass(Unknown Source)\r\n        \tat java.lang.ClassLoader.loadClass(Unknown Source)\r\n        \tat java.lang.ClassLoader.loadClass(Unknown Source)\r\n        \tat java.lang.Class.forName0(Native Method)\r\n        \tat java.lang.Class.forName(Unknown Source)\r\n        \tat org.eclipse.jetty.websocket.servlet.WebSocketServletFactory$Loader.load(WebSocketServletFactory.java:48)\r\n        \t... 26 common frames omitted\r\n        2021-10-26 14:11:42,864 INFO [pool-20-thread-1] o.a.n.c.r.WriteAheadFlowFileRepository Initiating checkpoint of FlowFile Repository\r\n\r\n&lt;/pre&gt;\r\n\r\nTell me how to correct settings or correct usage\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tPE0R.png\r\n  [2]: https://i.stack.imgur.com/6WfmO.png","title":"apache NiFi 1.13.2 ListenWebsocket not working","body":"<p>I download NiFi 1.13.2 and make simple processes,\nbut ListenWebsocket process was not working.</p>\n<p>Processes and settings is below.\n&lt;/pre[enter image <a href=\"https://i.stack.imgur.com/tPE0R.png\" rel=\"nofollow noreferrer\">description</a> here]<a href=\"https://i.stack.imgur.com/6WfmO.png\" rel=\"nofollow noreferrer\">2</a>&gt;</p>\n<p>Http response is below.</p>\n<pre>\n\n    HTTP/1.1 500 Server Error\n    Cache-Control: must-revalidate,no-cache,no-store \n    Content-Type: text/html;charset=iso-8859-1 \n    Content-Length: 4385 \n    Connection: close \n    Server: Jetty(9.4.38.v20210224) \n    Handshake status 500 Server Error \n\n</pre>\n<p>nifi-app.log error is below.</p>\n<pre>\n\n    2021-10-26 14:11:22,845 INFO [pool-20-thread-1] o.a.n.c.r.WriteAheadFlowFileRepository Initiating checkpoint of FlowFile Repository\n    2021-10-26 14:11:22,861 INFO [pool-20-thread-1] o.a.n.c.r.WriteAheadFlowFileRepository Successfully checkpointed FlowFile Repository with 0 records in 0 milliseconds\n    2021-10-26 14:11:30,477 WARN [qtp1691911352-55] o.e.j.server.handler.ContextHandler.ROOT unavailable\n    java.lang.RuntimeException: Unable to load org.eclipse.jetty.websocket.server.WebSocketServerFactory\n            at org.eclipse.jetty.websocket.servlet.WebSocketServletFactory$Loader.load(WebSocketServletFactory.java:54)\n            at org.eclipse.jetty.websocket.servlet.WebSocketServlet.init(WebSocketServlet.java:140)\n            at javax.servlet.GenericServlet.init(GenericServlet.java:244)\n            at org.eclipse.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:624)\n            at org.eclipse.jetty.servlet.ServletHolder.getServlet(ServletHolder.java:478)\n            at org.eclipse.jetty.servlet.ServletHolder.prepare(ServletHolder.java:751)\n            at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:545)\n            at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)\n            at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1435)\n            at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)\n            at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:501)\n            at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)\n            at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1350)\n            at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\n            at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:191)\n            at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\n            at org.eclipse.jetty.server.Server.handle(Server.java:516)\n            at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:388)\n            at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:633)\n            at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:380)\n            at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:279)\n            at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\n            at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\n            at org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\n            at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:882)\n            at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1036)\n            at java.lang.Thread.run(Unknown Source)\n    Caused by: java.lang.ClassNotFoundException: org.eclipse.jetty.websocket.server.WebSocketServerFactory\n            at java.net.URLClassLoader.findClass(Unknown Source)\n            at java.lang.ClassLoader.loadClass(Unknown Source)\n            at java.lang.ClassLoader.loadClass(Unknown Source)\n            at java.lang.Class.forName0(Native Method)\n            at java.lang.Class.forName(Unknown Source)\n            at org.eclipse.jetty.websocket.servlet.WebSocketServletFactory$Loader.load(WebSocketServletFactory.java:48)\n            ... 26 common frames omitted\n        2021-10-26 14:11:30,481 WARN [qtp1691911352-55] org.eclipse.jetty.server.HttpChannel /test\n        javax.servlet.ServletException: java.lang.RuntimeException: Unable to load org.eclipse.jetty.websocket.server.WebSocketServerFactory\n            at org.eclipse.jetty.websocket.servlet.WebSocketServlet.init(WebSocketServlet.java:147)\n            at javax.servlet.GenericServlet.init(GenericServlet.java:244)\n            at org.eclipse.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:624)\n            at org.eclipse.jetty.servlet.ServletHolder.getServlet(ServletHolder.java:478)\n            at org.eclipse.jetty.servlet.ServletHolder.prepare(ServletHolder.java:751)\n            at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:545)\n            at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)\n            at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1435)\n            at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)\n            at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:501)\n            at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)\n            at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1350)\n            at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\n            at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:191)\n            at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\n            at org.eclipse.jetty.server.Server.handle(Server.java:516)\n            at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:388)\n            at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:633)\n            at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:380)\n            at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:279)\n            at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\n            at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\n            at org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\n            at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:882)\n            at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1036)\n            at java.lang.Thread.run(Unknown Source)\n        Caused by: java.lang.RuntimeException: Unable to load org.eclipse.jetty.websocket.server.WebSocketServerFactory\n            at org.eclipse.jetty.websocket.servlet.WebSocketServletFactory$Loader.load(WebSocketServletFactory.java:54)\n            at org.eclipse.jetty.websocket.servlet.WebSocketServlet.init(WebSocketServlet.java:140)\n            ... 25 common frames omitted\n    Caused by: java.lang.ClassNotFoundException: org.eclipse.jetty.websocket.server.WebSocketServerFactory\n            at java.net.URLClassLoader.findClass(Unknown Source)\n            at java.lang.ClassLoader.loadClass(Unknown Source)\n            at java.lang.ClassLoader.loadClass(Unknown Source)\n            at java.lang.Class.forName0(Native Method)\n            at java.lang.Class.forName(Unknown Source)\n            at org.eclipse.jetty.websocket.servlet.WebSocketServletFactory$Loader.load(WebSocketServletFactory.java:48)\n            ... 26 common frames omitted\n        2021-10-26 14:11:42,864 INFO [pool-20-thread-1] o.a.n.c.r.WriteAheadFlowFileRepository Initiating checkpoint of FlowFile Repository\n\n</pre>\n<p>Tell me how to correct settings or correct usage</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637842553,"creation_date":1637841926,"answer_id":70110816,"question_id":70110700,"body_markdown":"Yes, it&#39;s possible\r\n\r\n    return reader.lines()\r\n        .filter(line -&gt; StringUtils.substring(line, 0, 4).equals(period.getCode()))\r\n        .collect(Collectors.toList());\r\n\r\nIt&#39;s worth noting that [the JavaDoc for `BufferedReader.lines`](https://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html#lines--) says\r\n\r\n&gt; If an IOException is thrown when accessing the underlying\r\n&gt; BufferedReader, **it is wrapped in an UncheckedIOException** which will be\r\n&gt; thrown from the Stream method that caused the read to take place\r\n\r\nSo if you want your method to continue to throw a checked exception (IOException or otherwise), then you&#39;d have to wrap the above in a try-catch block for `UncheckedIOException` and wrap it and rethrow as a checked exception.","title":"Use lambda to filter Reader","body":"<p>Yes, it's possible</p>\n<pre><code>return reader.lines()\n    .filter(line -&gt; StringUtils.substring(line, 0, 4).equals(period.getCode()))\n    .collect(Collectors.toList());\n</code></pre>\n<p>It's worth noting that <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html#lines--\" rel=\"nofollow noreferrer\">the JavaDoc for <code>BufferedReader.lines</code></a> says</p>\n<blockquote>\n<p>If an IOException is thrown when accessing the underlying\nBufferedReader, <strong>it is wrapped in an UncheckedIOException</strong> which will be\nthrown from the Stream method that caused the read to take place</p>\n</blockquote>\n<p>So if you want your method to continue to throw a checked exception (IOException or otherwise), then you'd have to wrap the above in a try-catch block for <code>UncheckedIOException</code> and wrap it and rethrow as a checked exception.</p>\n"}],"owner":{"account_id":34247,"reputation":1973,"user_id":96617,"accept_rate":78,"display_name":"Lluis Martinez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637842553,"creation_date":1637841358,"question_id":70110700,"body_markdown":"I&#39;m reading lines from a zipped input stream, and I need to filter it by the first 4 positions (a period). Is is possible to use a lambda (like the filter in streams) to avoid the condition?\r\n\r\n```\r\nprivate List&lt;String&gt; readlinesByPeriod(DPeriod period, ZipInputStream zis) throws IOException {\r\n\tList&lt;String&gt; lines = new ArrayList();\r\n\r\n\tbyte[] data = SCIOUtils.readData(zis);\r\n\tInputStream is = new ByteArrayInputStream(data);\r\n\tBufferedReader reader = new BufferedReader(new InputStreamReader(is, CharEncoding.ISO_8859_1));\r\n\tString line;\r\n\twhile ((line = reader.readLine()) != null) {\r\n\t\tString periodCode = StringUtils.substring(line, 0, 4);\r\n\t\tif (periodCode.equals(period.getCode())) {\r\n\t\t\tlines.add(line);\r\n\t\t}\r\n\t}\r\n\r\n\treturn lines;\r\n}\r\n```","title":"Use lambda to filter Reader","body":"<p>I'm reading lines from a zipped input stream, and I need to filter it by the first 4 positions (a period). Is is possible to use a lambda (like the filter in streams) to avoid the condition?</p>\n<pre><code>private List&lt;String&gt; readlinesByPeriod(DPeriod period, ZipInputStream zis) throws IOException {\n    List&lt;String&gt; lines = new ArrayList();\n\n    byte[] data = SCIOUtils.readData(zis);\n    InputStream is = new ByteArrayInputStream(data);\n    BufferedReader reader = new BufferedReader(new InputStreamReader(is, CharEncoding.ISO_8859_1));\n    String line;\n    while ((line = reader.readLine()) != null) {\n        String periodCode = StringUtils.substring(line, 0, 4);\n        if (periodCode.equals(period.getCode())) {\n            lines.add(line);\n        }\n    }\n\n    return lines;\n}\n</code></pre>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":5144062,"reputation":1973,"user_id":4120518,"display_name":"vizsatiz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552219156,"creation_date":1552217596,"answer_id":55087224,"question_id":55086995,"body_markdown":"You should `JsonFormat` over the variable `values`. Also since you are having the variable as of type `List`, you need not add `JsonFormat`.\r\n  \r\n\r\n    public class Response\r\n        {\r\n            @JsonProperty(&quot;values&quot;)\r\n            @JsonFormat(shape=JsonFormat.Shape.ARRAY)\r\n            private List&lt;Value&gt; values;\r\n        \r\n            public static class Value {\r\n                private long timestamp;\r\n                private float val;\r\n        \r\n                // Getters and Setters\r\n        \r\n                public Value(long timestamp, float val)\r\n                {\r\n                    this.timestamp = timestamp;\r\n                    this.val = val;\r\n                }\r\n            }\r\n        }\r\n\r\nYour JSON input format would be:\r\n\r\n    {\r\n      values: [\r\n         {\r\n           &quot;timestamp&quot;: 589988,\r\n           &quot;val&quot;: 56.0,\r\n          }\r\n       ]\r\n    }\r\n\r\nHope this helps !! I haven&#39;t tested the code, so please ignore syntax issues if any.","title":"Deserializing a json which contains @JsonFormat(shape=JsonFormat.Shape.ARRAY) and custom object using jackson","body":"<p>You should <code>JsonFormat</code> over the variable <code>values</code>. Also since you are having the variable as of type <code>List</code>, you need not add <code>JsonFormat</code>.</p>\n\n<pre><code>public class Response\n    {\n        @JsonProperty(\"values\")\n        @JsonFormat(shape=JsonFormat.Shape.ARRAY)\n        private List&lt;Value&gt; values;\n\n        public static class Value {\n            private long timestamp;\n            private float val;\n\n            // Getters and Setters\n\n            public Value(long timestamp, float val)\n            {\n                this.timestamp = timestamp;\n                this.val = val;\n            }\n        }\n    }\n</code></pre>\n\n<p>Your JSON input format would be:</p>\n\n<pre><code>{\n  values: [\n     {\n       \"timestamp\": 589988,\n       \"val\": 56.0,\n      }\n   ]\n}\n</code></pre>\n\n<p>Hope this helps !! I haven't tested the code, so please ignore syntax issues if any.</p>\n"},{"tags":[],"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1552221134,"creation_date":1552221134,"answer_id":55087707,"question_id":55086995,"body_markdown":"`JsonFormat` does the trick but you also need to declare constructor with `JsonCreator` annotation. Take a look on below example:\r\n\r\n    import com.fasterxml.jackson.annotation.JsonCreator;\r\n    import com.fasterxml.jackson.annotation.JsonFormat;\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    \r\n    import java.io.File;\r\n    import java.util.List;\r\n    \r\n    public class JsonApp {\r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tFile jsonFile = new File(&quot;./resource/test.json&quot;).getAbsoluteFile();\r\n    \r\n    \t\tObjectMapper mapper = new ObjectMapper();\r\n    \t\tResponse myPojo = mapper.readValue(jsonFile, Response.class);\r\n    \t\tSystem.out.println(myPojo);\r\n    \t}\r\n    }\r\n    \r\n    class Response {\r\n    \r\n    \tprivate List&lt;Value&gt; values;\r\n    \r\n    \tpublic List&lt;Value&gt; getValues() {\r\n    \t\treturn values;\r\n    \t}\r\n    \r\n    \tpublic void setValues(List&lt;Value&gt; values) {\r\n    \t\tthis.values = values;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Response{&quot; +\r\n    \t\t\t\t&quot;values=&quot; + values +\r\n    \t\t\t\t&#39;}&#39;;\r\n    \t}\r\n    }\r\n    \r\n    @JsonFormat(shape = JsonFormat.Shape.ARRAY)\r\n    class Value {\r\n    \r\n    \tprivate long timestamp;\r\n    \tprivate float val;\r\n    \r\n    \t@JsonCreator\r\n    \tpublic Value(@JsonProperty(&quot;timestamp&quot;) long timestamp, @JsonProperty(&quot;val&quot;) float val) {\r\n    \t\tthis.timestamp = timestamp;\r\n    \t\tthis.val = val;\r\n    \t}\r\n    \r\n    \tpublic long getTimestamp() {\r\n    \t\treturn timestamp;\r\n    \t}\r\n    \r\n    \tpublic void setTimestamp(long timestamp) {\r\n    \t\tthis.timestamp = timestamp;\r\n    \t}\r\n    \r\n    \tpublic float getVal() {\r\n    \t\treturn val;\r\n    \t}\r\n    \r\n    \tpublic void setVal(float val) {\r\n    \t\tthis.val = val;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Value{&quot; +\r\n    \t\t\t\t&quot;timestamp=&quot; + timestamp +\r\n    \t\t\t\t&quot;, val=&quot; + val +\r\n    \t\t\t\t&#39;}&#39;;\r\n    \t}\r\n    }\r\n\r\nAbove code for below `JSON` payload:\r\n\r\n    {\r\n      &quot;values&quot;: [\r\n        [\r\n          1552215648,\r\n          18\r\n        ],\r\n        [\r\n          123,\r\n          12.24\r\n        ]\r\n      ]\r\n    }\r\n\r\nPrints:\r\n\r\n    Response{values=[Value{timestamp=1552215648, val=18.0}, Value{timestamp=123, val=12.24}]}","title":"Deserializing a json which contains @JsonFormat(shape=JsonFormat.Shape.ARRAY) and custom object using jackson","body":"<p><code>JsonFormat</code> does the trick but you also need to declare constructor with <code>JsonCreator</code> annotation. Take a look on below example:</p>\n\n<pre><code>import com.fasterxml.jackson.annotation.JsonCreator;\nimport com.fasterxml.jackson.annotation.JsonFormat;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\nimport java.io.File;\nimport java.util.List;\n\npublic class JsonApp {\n\n    public static void main(String[] args) throws Exception {\n        File jsonFile = new File(\"./resource/test.json\").getAbsoluteFile();\n\n        ObjectMapper mapper = new ObjectMapper();\n        Response myPojo = mapper.readValue(jsonFile, Response.class);\n        System.out.println(myPojo);\n    }\n}\n\nclass Response {\n\n    private List&lt;Value&gt; values;\n\n    public List&lt;Value&gt; getValues() {\n        return values;\n    }\n\n    public void setValues(List&lt;Value&gt; values) {\n        this.values = values;\n    }\n\n    @Override\n    public String toString() {\n        return \"Response{\" +\n                \"values=\" + values +\n                '}';\n    }\n}\n\n@JsonFormat(shape = JsonFormat.Shape.ARRAY)\nclass Value {\n\n    private long timestamp;\n    private float val;\n\n    @JsonCreator\n    public Value(@JsonProperty(\"timestamp\") long timestamp, @JsonProperty(\"val\") float val) {\n        this.timestamp = timestamp;\n        this.val = val;\n    }\n\n    public long getTimestamp() {\n        return timestamp;\n    }\n\n    public void setTimestamp(long timestamp) {\n        this.timestamp = timestamp;\n    }\n\n    public float getVal() {\n        return val;\n    }\n\n    public void setVal(float val) {\n        this.val = val;\n    }\n\n    @Override\n    public String toString() {\n        return \"Value{\" +\n                \"timestamp=\" + timestamp +\n                \", val=\" + val +\n                '}';\n    }\n}\n</code></pre>\n\n<p>Above code for below <code>JSON</code> payload:</p>\n\n<pre><code>{\n  \"values\": [\n    [\n      1552215648,\n      18\n    ],\n    [\n      123,\n      12.24\n    ]\n  ]\n}\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>Response{values=[Value{timestamp=1552215648, val=18.0}, Value{timestamp=123, val=12.24}]}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8670220,"reputation":11,"user_id":6489400,"display_name":"malk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637842336,"creation_date":1637841934,"answer_id":70110817,"question_id":55086995,"body_markdown":"I know it&#39;s been a while, but since I dealt with the same problem (deserializing part of Prometheus REST API response?), and provided answers weren&#39;t helping, I would like to share my solution which should work for every similar case.\r\n\r\nApart from `@JsonFormat(shape=JsonFormat.Shape.ARRAY)` it was necessary for me to add also `@JsonPropertyOrder` annotation to reflect the order in which values appear in the array. I also needed `@JsonCreator` annotation on constructor and `@JsonProperty` before every constructor&#39;s argument. Using your class as an example it should look like this:\r\n```\r\npublic class Response\r\n    {\r\n        private List&lt;Value&gt; values;\r\n\r\n        @JsonFormat(shape=JsonFormat.Shape.ARRAY)\r\n        @JsonPropertyOrder({&quot;timestamp&quot;, &quot;val&quot;})\r\n        public static class Value {\r\n            private long timestamp;\r\n            private float val;\r\n\r\n            @JsonCreator\r\n            public Value(@JsonProperty(&quot;timestamp&quot;) long timestamp,\r\n                         @JsonProperty(&quot;val&quot;) float val)\r\n            {\r\n                this.timestamp = timestamp;\r\n                this.val = val;\r\n            }\r\n\r\n            // Getters and Setters\r\n\r\n        }\r\n    }\r\n```\r\nOnly after I used this particular set of annotations my response was deserialised without any errors.\r\n\r\nHope this is gonna help someone! ;)\r\n\r\nEDIT: One note: in Prometheus response I got, an array of values of different types was called `value` and not `values`, hence it might be necessary to add a `@JsonProperty(&quot;value&quot;)` on `private List&lt;Value&gt; values;` field or change it&#39;s name to `value` if that is the case for anyone ;)\r\n```\r\n@JsonProperty(&quot;value&quot;)\r\nprivate List&lt;Value&gt; values;\r\n\r\n```","title":"Deserializing a json which contains @JsonFormat(shape=JsonFormat.Shape.ARRAY) and custom object using jackson","body":"<p>I know it's been a while, but since I dealt with the same problem (deserializing part of Prometheus REST API response?), and provided answers weren't helping, I would like to share my solution which should work for every similar case.</p>\n<p>Apart from <code>@JsonFormat(shape=JsonFormat.Shape.ARRAY)</code> it was necessary for me to add also <code>@JsonPropertyOrder</code> annotation to reflect the order in which values appear in the array. I also needed <code>@JsonCreator</code> annotation on constructor and <code>@JsonProperty</code> before every constructor's argument. Using your class as an example it should look like this:</p>\n<pre><code>public class Response\n    {\n        private List&lt;Value&gt; values;\n\n        @JsonFormat(shape=JsonFormat.Shape.ARRAY)\n        @JsonPropertyOrder({&quot;timestamp&quot;, &quot;val&quot;})\n        public static class Value {\n            private long timestamp;\n            private float val;\n\n            @JsonCreator\n            public Value(@JsonProperty(&quot;timestamp&quot;) long timestamp,\n                         @JsonProperty(&quot;val&quot;) float val)\n            {\n                this.timestamp = timestamp;\n                this.val = val;\n            }\n\n            // Getters and Setters\n\n        }\n    }\n</code></pre>\n<p>Only after I used this particular set of annotations my response was deserialised without any errors.</p>\n<p>Hope this is gonna help someone! ;)</p>\n<p>EDIT: One note: in Prometheus response I got, an array of values of different types was called <code>value</code> and not <code>values</code>, hence it might be necessary to add a <code>@JsonProperty(&quot;value&quot;)</code> on <code>private List&lt;Value&gt; values;</code> field or change it's name to <code>value</code> if that is the case for anyone ;)</p>\n<pre><code>@JsonProperty(&quot;value&quot;)\nprivate List&lt;Value&gt; values;\n\n</code></pre>\n"}],"owner":{"account_id":14615493,"reputation":58,"user_id":10680370,"display_name":"scarvish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6764,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":55087707,"answer_count":3,"score":1,"last_activity_date":1637842336,"creation_date":1552215748,"question_id":55086995,"body_markdown":"I have a custom object : \r\n\r\n```\r\npublic class Response\r\n{\r\n    @JsonProperty(&quot;values&quot;)\r\n    private List&lt;Value&gt; values;\r\n\r\n    @JsonFormat(shape=JsonFormat.Shape.ARRAY)\r\n    public static class Value {\r\n\t\t\r\n\t    public Value(long timestamp, float val)\r\n\t    {\r\n\t\t    this.timestamp = timestamp;\r\n\t\t    this.val = val;\r\n\t    }\r\n    }\r\n}\r\n```\r\n\r\nBut when this is being parsed, I get &quot;Can not deserialize instance of Response$Value out of START_ARRAY token&quot;.\r\nThe json is :\r\n```\r\n{\r\n&quot;values&quot;:[[1552215648,18]]\r\n}\r\n```\r\nAny idea if I&#39;m missing something here? Or should I have a custom deserializer to perform this?","title":"Deserializing a json which contains @JsonFormat(shape=JsonFormat.Shape.ARRAY) and custom object using jackson","body":"<p>I have a custom object : </p>\n\n<pre><code>public class Response\n{\n    @JsonProperty(\"values\")\n    private List&lt;Value&gt; values;\n\n    @JsonFormat(shape=JsonFormat.Shape.ARRAY)\n    public static class Value {\n\n        public Value(long timestamp, float val)\n        {\n            this.timestamp = timestamp;\n            this.val = val;\n        }\n    }\n}\n</code></pre>\n\n<p>But when this is being parsed, I get \"Can not deserialize instance of Response$Value out of START_ARRAY token\".\nThe json is :</p>\n\n<pre><code>{\n\"values\":[[1552215648,18]]\n}\n</code></pre>\n\n<p>Any idea if I'm missing something here? Or should I have a custom deserializer to perform this?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1633150036,"post_id":69413912,"comment_id":122689349,"body_markdown":"Looks like you&#39;re viewing a partially &quot;decompiled&quot; class file, not the original source file. My guess is that there&#39;s no attempt to decompile the code within the methods and so the exceptions are just a placeholder.","body":"Looks like you&#39;re viewing a partially &quot;decompiled&quot; class file, not the original source file. My guess is that there&#39;s no attempt to decompile the code within the methods and so the exceptions are just a placeholder."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1633150389,"post_id":69413912,"comment_id":122689395,"body_markdown":"I don&#39;t really understand how Android&#39;s source code is organized, but I believe this is the `View.java` file you were trying to look at: https://cs.android.com/android/platform/superproject/+/master:frameworks/base/core/java/android/view/View.java;drc=95709ba69f9285cceb4515d86eff55793bc96eec;l=14956","body":"I don&#39;t really understand how Android&#39;s source code is organized, but I believe this is the <code>View.java</code> file you were trying to look at: <a href=\"https://cs.android.com/android/platform/superproject/+/master:frameworks/base/core/java/android/view/View.java;drc=95709ba69f9285cceb4515d86eff55793bc96eec;l=14956\" rel=\"nofollow noreferrer\">cs.android.com/android/platform/superproject/+/&hellip;</a>"},{"owner":{"account_id":17405548,"reputation":101,"user_id":15302054,"display_name":"Tu Le Anh"},"score":0,"creation_date":1633150705,"post_id":69413912,"comment_id":122689444,"body_markdown":"Thank you @Slaw, I got the answer right now","body":"Thank you @Slaw, I got the answer right now"},{"owner":{"account_id":17405548,"reputation":101,"user_id":15302054,"display_name":"Tu Le Anh"},"score":0,"creation_date":1633150764,"post_id":69413912,"comment_id":122689452,"body_markdown":"Oh, can I download this into my Android studio @slaw","body":"Oh, can I download this into my Android studio @slaw"},{"owner":{"account_id":21142840,"reputation":437,"user_id":15544809,"display_name":"HFZ"},"score":3,"creation_date":1633156284,"post_id":69413912,"comment_id":122690185,"body_markdown":"tools &gt; SDK Manager &gt; Android SDK &gt; SDK Platforms . On the bottom of the windows, check &quot;show package details&quot; then check find your Build Version (i.e. 30 ) and check &quot;Source for Android 30&quot; and Ok.","body":"tools &gt; SDK Manager &gt; Android SDK &gt; SDK Platforms . On the bottom of the windows, check &quot;show package details&quot; then check find your Build Version (i.e. 30 ) and check &quot;Source for Android 30&quot; and Ok."}],"answers":[{"tags":[],"owner":{"account_id":17405548,"reputation":101,"user_id":15302054,"display_name":"Tu Le Anh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637842334,"creation_date":1637842334,"answer_id":70110908,"question_id":69413912,"body_markdown":"The answer was that file is not a sources file. The file with .class is a &quot;decompiled&quot;. If you want to see source code, download it from Android studio setting &gt; SDK Manager &gt; Android SDK &gt; SDK Platforms","title":"Why all methods of View.class in Android always throw a exception","body":"<p>The answer was that file is not a sources file. The file with .class is a &quot;decompiled&quot;. If you want to see source code, download it from Android studio setting &gt; SDK Manager &gt; Android SDK &gt; SDK Platforms</p>\n"}],"owner":{"account_id":17405548,"reputation":101,"user_id":15302054,"display_name":"Tu Le Anh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":70110908,"answer_count":1,"score":3,"last_activity_date":1637842334,"creation_date":1633148017,"question_id":69413912,"body_markdown":"**I&#39;m doing a class exercise then I found a thing make me confuse:**\r\n\r\n- I&#39;m using Android Studio\r\n- After using Ctrl + click on getContext()\r\n- Android Studio direct me into View.class\r\n- In here, I saw every methods always throw an exception as figure below\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Question:**\r\n\r\n- When I call getContext(), it return a instance of Context. Why in method&#39;s body it just throw an exception?  \r\n- I thought .class is an execute file for JVM that store bytecode (and look machine friendly) so why View.class is same with normal class in java?\r\n\r\n  [1]: https://i.stack.imgur.com/ebvTw.png","title":"Why all methods of View.class in Android always throw a exception","body":"<p><strong>I'm doing a class exercise then I found a thing make me confuse:</strong></p>\n<ul>\n<li>I'm using Android Studio</li>\n<li>After using Ctrl + click on getContext()</li>\n<li>Android Studio direct me into View.class</li>\n<li>In here, I saw every methods always throw an exception as figure below</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/ebvTw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ebvTw.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Question:</strong></p>\n<ul>\n<li>When I call getContext(), it return a instance of Context. Why in method's body it just throw an exception?</li>\n<li>I thought .class is an execute file for JVM that store bytecode (and look machine friendly) so why View.class is same with normal class in java?</li>\n</ul>\n"},{"tags":["java","generics","lambda","java-8"],"comments":[{"owner":{"account_id":56549,"reputation":8582,"user_id":169397,"accept_rate":84,"display_name":"Luciano"},"score":2,"creation_date":1416454880,"post_id":27031244,"comment_id":42584668,"body_markdown":"When you write entity::filename, I think you are referring to the filename method of the instance whose variable name is entity, but surely you are meaning to access the filename method of the instances provided by the stream?","body":"When you write entity::filename, I think you are referring to the filename method of the instance whose variable name is entity, but surely you are meaning to access the filename method of the instances provided by the stream?"},{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":1,"creation_date":1416455205,"post_id":27031244,"comment_id":42584753,"body_markdown":"@Luciano I think `filename` accepts whatever is in `getImages()` and returns a `String` e.g. `img -&gt; entity.filename(img)`. OP could clarify.","body":"@Luciano I think <code>filename</code> accepts whatever is in <code>getImages()</code> and returns a <code>String</code> e.g. <code>img -&gt; entity.filename(img)</code>. OP could clarify."},{"owner":{"account_id":56549,"reputation":8582,"user_id":169397,"accept_rate":84,"display_name":"Luciano"},"score":1,"creation_date":1416455311,"post_id":27031244,"comment_id":42584782,"body_markdown":"@Radiodef it says &quot;filename() is declared on HasImagesEntity&quot; (seems to not take any parameters)","body":"@Radiodef it says &quot;filename() is declared on HasImagesEntity&quot; (seems to not take any parameters)"},{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":0,"creation_date":1416455477,"post_id":27031244,"comment_id":42584821,"body_markdown":"@Luciano The declaration I suggested is the only way it would be a compilable substitution for a `Function` argument to `map`. But the OP should clarify. It would be nice to know what their lambda equivalent is.","body":"@Luciano The declaration I suggested is the only way it would be a compilable substitution for a <code>Function</code> argument to <code>map</code>. But the OP should clarify. It would be nice to know what their lambda equivalent is."},{"owner":{"account_id":30800,"reputation":2173,"user_id":84203,"display_name":"Steve McKay"},"score":0,"creation_date":1416462370,"post_id":27031244,"comment_id":42586726,"body_markdown":"The signature is &quot;String filename(String)&quot;, so the lambda is &quot;tag -&gt; entity.filename(tag)&quot;.","body":"The signature is &quot;String filename(String)&quot;, so the lambda is &quot;tag -&gt; entity.filename(tag)&quot;."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1416479727,"creation_date":1416479727,"answer_id":27037406,"question_id":27031244,"body_markdown":"Here is a simplified example which reproduces the problem and uses only core Java classes:\r\n\r\n    public static void main(String[] argv) {\r\n        System.out.println(dummy(&quot;foo&quot;));\r\n    }\r\n    static &lt;T extends Serializable&amp;CharSequence&gt; int dummy(T value) {\r\n        return Optional.ofNullable(value).map(CharSequence::length).orElse(0);\r\n    }\r\n\r\nYour assumption is correct, the JRE-specific implementation receives the target method as a [`MethodHandle`](https://docs.oracle.com/javase/8/docs/api/java/lang/invoke/MethodHandle.html) which has no information about generic types. Therefore the only thing it sees is that the raw types mismatch.\r\n\r\nLike with a lot of generic constructs, there is a type cast required on the byte code level which doesn’t appear in the source code. Since [`LambdaMetafactory`](https://docs.oracle.com/javase/8/docs/api/java/lang/invoke/LambdaMetafactory.html) explicitly requires a *direct* method handle, a method reference which encapsulates such a type cast cannot be passed as a `MethodHandle` to the factory.\r\n\r\nThere are two possible ways to deal with it.\r\n\r\nFirst solution would be to change the `LambdaMetafactory` to trust the `MethodHandle` if the receiver type is an `interface` and insert the required type cast by itself in the generated lambda class instead of rejecting it. After all, it does similar for parameter and return types already.\r\n\r\nAlternatively, the compiler would be in charge to create a synthetic helper method encapsulating the type cast and method call, just like if you had written a lambda expression. This is not a unique situation. If you use a method reference to a *varargs* method or an array creation like, e.g. `String[]::new`, they can’t be expressed as *direct* method handles and end up in synthetic helper methods.\r\n\r\nIn either case, we can consider the current behavior a bug. But obviously, compiler and JRE developers must agree on which way it should be handled before we can say on which side the bug resides.\r\n","title":"LambdaConversionException with generics: JVM bug?","body":"<p>Here is a simplified example which reproduces the problem and uses only core Java classes:</p>\n\n<pre><code>public static void main(String[] argv) {\n    System.out.println(dummy(\"foo\"));\n}\nstatic &lt;T extends Serializable&amp;CharSequence&gt; int dummy(T value) {\n    return Optional.ofNullable(value).map(CharSequence::length).orElse(0);\n}\n</code></pre>\n\n<p>Your assumption is correct, the JRE-specific implementation receives the target method as a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/invoke/MethodHandle.html\"><code>MethodHandle</code></a> which has no information about generic types. Therefore the only thing it sees is that the raw types mismatch.</p>\n\n<p>Like with a lot of generic constructs, there is a type cast required on the byte code level which doesn’t appear in the source code. Since <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/invoke/LambdaMetafactory.html\"><code>LambdaMetafactory</code></a> explicitly requires a <em>direct</em> method handle, a method reference which encapsulates such a type cast cannot be passed as a <code>MethodHandle</code> to the factory.</p>\n\n<p>There are two possible ways to deal with it.</p>\n\n<p>First solution would be to change the <code>LambdaMetafactory</code> to trust the <code>MethodHandle</code> if the receiver type is an <code>interface</code> and insert the required type cast by itself in the generated lambda class instead of rejecting it. After all, it does similar for parameter and return types already.</p>\n\n<p>Alternatively, the compiler would be in charge to create a synthetic helper method encapsulating the type cast and method call, just like if you had written a lambda expression. This is not a unique situation. If you use a method reference to a <em>varargs</em> method or an array creation like, e.g. <code>String[]::new</code>, they can’t be expressed as <em>direct</em> method handles and end up in synthetic helper methods.</p>\n\n<p>In either case, we can consider the current behavior a bug. But obviously, compiler and JRE developers must agree on which way it should be handled before we can say on which side the bug resides.</p>\n"},{"tags":[],"owner":{"account_id":4257519,"reputation":479,"user_id":3482794,"display_name":"Robert Field"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1615488814,"creation_date":1416957779,"answer_id":27138640,"question_id":27031244,"body_markdown":"I&#39;ve just fixed this issue in JDK9 and JDK8u45. See [this bug][1]. The change will take a little while to percolate into promoted builds.\r\nDan just pointed me at this Stack Overflow question, so I&#39;m adding this note  When you find bugs, please do submit them.\r\n\r\nI addressed this by having the compiler create a bridge, as is the approach for many cases of complex method references. We are also examining spec implications.\r\n\r\n\r\n  [1]: https://bugs.openjdk.java.net/browse/JDK-8058112\r\n","title":"LambdaConversionException with generics: JVM bug?","body":"<p>I've just fixed this issue in JDK9 and JDK8u45. See <a href=\"https://bugs.openjdk.java.net/browse/JDK-8058112\" rel=\"nofollow noreferrer\">this bug</a>. The change will take a little while to percolate into promoted builds.\nDan just pointed me at this Stack Overflow question, so I'm adding this note  When you find bugs, please do submit them.</p>\n<p>I addressed this by having the compiler create a bridge, as is the approach for many cases of complex method references. We are also examining spec implications.</p>\n"},{"tags":[],"owner":{"account_id":51323,"reputation":637,"user_id":153339,"display_name":"Matt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1454025145,"creation_date":1454025145,"answer_id":35074414,"question_id":27031244,"body_markdown":"I found a workaround for this was swapping the order of the generics. For instance, use `class A&lt;T extends B &amp; C&gt;` where you need to access a `B` method, or use `class A&lt;T extends C &amp; B&gt;` if you need to access a `C` method. Of course, if you need access to methods from both classes, this won&#39;t work. I found this useful when one of the interfaces was a marker interface like `Serializable`.\r\n\r\nAs for fixing this in the JDK, the only info I could find were some bugs on openjdk&#39;s bug tracker that are marked resolved in version 9 which is rather unhelpful.","title":"LambdaConversionException with generics: JVM bug?","body":"<p>I found a workaround for this was swapping the order of the generics. For instance, use <code>class A&lt;T extends B &amp; C&gt;</code> where you need to access a <code>B</code> method, or use <code>class A&lt;T extends C &amp; B&gt;</code> if you need to access a <code>C</code> method. Of course, if you need access to methods from both classes, this won't work. I found this useful when one of the interfaces was a marker interface like <code>Serializable</code>.</p>\n\n<p>As for fixing this in the JDK, the only info I could find were some bugs on openjdk's bug tracker that are marked resolved in version 9 which is rather unhelpful.</p>\n"},{"tags":[],"owner":{"account_id":406441,"reputation":32619,"user_id":775954,"accept_rate":85,"display_name":"Matthias Braun"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1489658645,"creation_date":1456250134,"answer_id":35584758,"question_id":27031244,"body_markdown":"This bug is not entirely fixed. I just ran into a `LambdaConversionException` in 1.8.0_72 and saw that there are open bug reports in Oracle&#39;s bug tracking system:  [link1][1], [link2][2].\r\n\r\n(Edit: The linked bugs are reported to be closed in JDK 9 b93)\r\n\r\nAs a simple workaround I avoid method handles. So instead of \r\n\r\n    .map(entity::filename)\r\n\r\nI do\r\n\r\n    .map(entity -&gt; entity.filename())\r\n\r\n----\r\nHere is the code for reproducing the problem on Debian 3.11.8-1 x86_64.\r\n\r\n    import java.awt.Component;\r\n    import java.util.Collection;\r\n    import java.util.Collections;\r\n    \r\n    public class MethodHandleTest {\r\n        public static void main(String... args) {\r\n            new MethodHandleTest().run();\r\n        }\r\n    \r\n        private void run() {\r\n            ComponentWithSomeMethod myComp = new ComponentWithSomeMethod();\r\n            new Caller&lt;ComponentWithSomeMethod&gt;().callSomeMethod(Collections.singletonList(myComp));\r\n        }\r\n    \r\n        private interface HasSomeMethod {\r\n            void someMethod();\r\n        }\r\n    \r\n        static class ComponentWithSomeMethod extends Component implements HasSomeMethod {\r\n            @Override\r\n            public void someMethod() {\r\n                System.out.println(&quot;Some method&quot;);\r\n            }\r\n        }\r\n    \r\n        class Caller&lt;T extends Component &amp; HasSomeMethod&gt; {\r\n            public void callSomeMethod(Collection&lt;T&gt; components) {\r\n                components.forEach(HasSomeMethod::someMethod); //  &lt;-- crashes\r\n    //          components.forEach(comp -&gt; comp.someMethod());     &lt;-- works fine\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n  [1]: http://bugs.java.com/bugdatabase/view_bug.do?bug_id=8141508\r\n  [2]: http://bugs.java.com/bugdatabase/view_bug.do?bug_id=8142476\r\n","title":"LambdaConversionException with generics: JVM bug?","body":"<p>This bug is not entirely fixed. I just ran into a <code>LambdaConversionException</code> in 1.8.0_72 and saw that there are open bug reports in Oracle's bug tracking system:  <a href=\"http://bugs.java.com/bugdatabase/view_bug.do?bug_id=8141508\" rel=\"noreferrer\">link1</a>, <a href=\"http://bugs.java.com/bugdatabase/view_bug.do?bug_id=8142476\" rel=\"noreferrer\">link2</a>.</p>\n\n<p>(Edit: The linked bugs are reported to be closed in JDK 9 b93)</p>\n\n<p>As a simple workaround I avoid method handles. So instead of </p>\n\n<pre><code>.map(entity::filename)\n</code></pre>\n\n<p>I do</p>\n\n<pre><code>.map(entity -&gt; entity.filename())\n</code></pre>\n\n<hr>\n\n<p>Here is the code for reproducing the problem on Debian 3.11.8-1 x86_64.</p>\n\n<pre><code>import java.awt.Component;\nimport java.util.Collection;\nimport java.util.Collections;\n\npublic class MethodHandleTest {\n    public static void main(String... args) {\n        new MethodHandleTest().run();\n    }\n\n    private void run() {\n        ComponentWithSomeMethod myComp = new ComponentWithSomeMethod();\n        new Caller&lt;ComponentWithSomeMethod&gt;().callSomeMethod(Collections.singletonList(myComp));\n    }\n\n    private interface HasSomeMethod {\n        void someMethod();\n    }\n\n    static class ComponentWithSomeMethod extends Component implements HasSomeMethod {\n        @Override\n        public void someMethod() {\n            System.out.println(\"Some method\");\n        }\n    }\n\n    class Caller&lt;T extends Component &amp; HasSomeMethod&gt; {\n        public void callSomeMethod(Collection&lt;T&gt; components) {\n            components.forEach(HasSomeMethod::someMethod); //  &lt;-- crashes\n//          components.forEach(comp -&gt; comp.someMethod());     &lt;-- works fine\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637841939,"creation_date":1637841939,"answer_id":70110818,"question_id":27031244,"body_markdown":"For the record, the Eclipse compiler of Eclipse 2021-09 (4.21.0) still seems to have this (or a very similar) bug, which I&#39;ve reported here: https://bugs.eclipse.org/bugs/show_bug.cgi?id=577466\r\n\r\nSo, if you&#39;re developing with Eclipse, it might be this error still persists when developing (using the Eclipse compiler), even when at build time, it is absent (using javac via Maven or Gradle, etc.).","title":"LambdaConversionException with generics: JVM bug?","body":"<p>For the record, the Eclipse compiler of Eclipse 2021-09 (4.21.0) still seems to have this (or a very similar) bug, which I've reported here: <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=577466\" rel=\"nofollow noreferrer\">https://bugs.eclipse.org/bugs/show_bug.cgi?id=577466</a></p>\n<p>So, if you're developing with Eclipse, it might be this error still persists when developing (using the Eclipse compiler), even when at build time, it is absent (using javac via Maven or Gradle, etc.).</p>\n"}],"owner":{"account_id":30800,"reputation":2173,"user_id":84203,"display_name":"Steve McKay"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5308,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":27037406,"answer_count":5,"score":26,"last_activity_date":1637841939,"creation_date":1416454205,"question_id":27031244,"body_markdown":"I have some code with a method reference that compiles fine and fails at runtime.\r\n\r\nThe exception is this:\r\n\r\n    Caused by: java.lang.invoke.LambdaConversionException: Invalid receiver type class redacted.BasicEntity; not a subtype of implementation type interface redacted.HasImagesEntity\r\n\t    at java.lang.invoke.AbstractValidatingLambdaMetafactory.validateMetafactoryArgs(AbstractValidatingLambdaMetafactory.java:233)\r\n    \tat java.lang.invoke.LambdaMetafactory.metafactory(LambdaMetafactory.java:303)\r\n\t    at java.lang.invoke.CallSite.makeSite(CallSite.java:289)\r\n\r\nThe class triggering the exception:\r\n\r\n    class ImageController&lt;E extends BasicEntity &amp; HasImagesEntity&gt; {\r\n        void doTheThing(E entity) {\r\n            Set&lt;String&gt; filenames = entity.getImages().keySet().stream()\r\n                .map(entity::filename)\r\n                .collect(Collectors.toSet());\r\n        }\r\n    }\r\n\r\nThe exception is thrown trying to resolve `entity::filename`. `filename()` is declared in `HasImagesEntity`. As far as I can tell, I get the exception because the erasure of E is `BasicEntity` and the JVM doesn&#39;t (can&#39;t?) consider other bounds on E.\r\n\r\nWhen I rewrite the method reference as a trivial lambda, everything is fine. It seems really fishy to me that one construct works as expected and its semantic equivalent blows up.\r\n\r\nCould this possibly be in the spec? I&#39;m trying very hard to find a way for this not to be a problem in the compiler or runtime, and haven&#39;t come up with anything.\r\n","title":"LambdaConversionException with generics: JVM bug?","body":"<p>I have some code with a method reference that compiles fine and fails at runtime.</p>\n\n<p>The exception is this:</p>\n\n<pre><code>Caused by: java.lang.invoke.LambdaConversionException: Invalid receiver type class redacted.BasicEntity; not a subtype of implementation type interface redacted.HasImagesEntity\n    at java.lang.invoke.AbstractValidatingLambdaMetafactory.validateMetafactoryArgs(AbstractValidatingLambdaMetafactory.java:233)\n    at java.lang.invoke.LambdaMetafactory.metafactory(LambdaMetafactory.java:303)\n    at java.lang.invoke.CallSite.makeSite(CallSite.java:289)\n</code></pre>\n\n<p>The class triggering the exception:</p>\n\n<pre><code>class ImageController&lt;E extends BasicEntity &amp; HasImagesEntity&gt; {\n    void doTheThing(E entity) {\n        Set&lt;String&gt; filenames = entity.getImages().keySet().stream()\n            .map(entity::filename)\n            .collect(Collectors.toSet());\n    }\n}\n</code></pre>\n\n<p>The exception is thrown trying to resolve <code>entity::filename</code>. <code>filename()</code> is declared in <code>HasImagesEntity</code>. As far as I can tell, I get the exception because the erasure of E is <code>BasicEntity</code> and the JVM doesn't (can't?) consider other bounds on E.</p>\n\n<p>When I rewrite the method reference as a trivial lambda, everything is fine. It seems really fishy to me that one construct works as expected and its semantic equivalent blows up.</p>\n\n<p>Could this possibly be in the spec? I'm trying very hard to find a way for this not to be a problem in the compiler or runtime, and haven't come up with anything.</p>\n"},{"tags":["java","android","appium"],"comments":[{"owner":{"account_id":218057,"reputation":67728,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"score":0,"creation_date":1398171749,"post_id":23220067,"comment_id":35522650,"body_markdown":"You seem to have forgotten your question text.","body":"You seem to have forgotten your question text."}],"answers":[{"tags":[],"owner":{"account_id":2559428,"reputation":565,"user_id":2220762,"accept_rate":0,"display_name":"user2220762"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1407239455,"creation_date":1399467668,"answer_id":23518579,"question_id":23220067,"body_markdown":"Best way is to use the back button.\r\n\r\n    driver.navigate().back(); // For older version of appium","title":"How to dismiss the keyboard in appium using Java?","body":"<p>Best way is to use the back button.</p>\n\n<pre><code>driver.navigate().back(); // For older version of appium\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3422947,"reputation":1054,"user_id":2869834,"accept_rate":15,"display_name":"Abhishek Swain"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1414252867,"creation_date":1400159694,"answer_id":23679377,"question_id":23220067,"body_markdown":"Please use Appium 1.0\r\n\r\nAdd libraries or add maven dependency of Appium Java client:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.appium&lt;/groupId&gt;\r\n      &lt;artifactId&gt;java-client&lt;/artifactId&gt;\r\n      &lt;version&gt;1.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nCreate driver instance in the following way:\r\n\r\n    AppiumDriver driver=null;\r\n    driver= new AppiumDriver(new URL(&quot;http://127.0.0.1:4723/wd/hub&quot;),capabilities);\r\n\r\nAnd use the following function to hide the keyboard:\r\n\r\n    driver.hideKeyboard();","title":"How to dismiss the keyboard in appium using Java?","body":"<p>Please use Appium 1.0</p>\n\n<p>Add libraries or add maven dependency of Appium Java client:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;io.appium&lt;/groupId&gt;\n  &lt;artifactId&gt;java-client&lt;/artifactId&gt;\n  &lt;version&gt;1.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Create driver instance in the following way:</p>\n\n<pre><code>AppiumDriver driver=null;\ndriver= new AppiumDriver(new URL(\"http://127.0.0.1:4723/wd/hub\"),capabilities);\n</code></pre>\n\n<p>And use the following function to hide the keyboard:</p>\n\n<pre><code>driver.hideKeyboard();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2616296,"reputation":1932,"user_id":2265283,"accept_rate":7,"display_name":"Eyal Sooliman"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1428400544,"creation_date":1428397357,"answer_id":29487717,"question_id":23220067,"body_markdown":"`driver.hideKeyboard()` will only work with `AppiumDriver`. \r\nI am using java-client-2.2.0.jar that contains this capability. \r\n","title":"How to dismiss the keyboard in appium using Java?","body":"<p><code>driver.hideKeyboard()</code> will only work with <code>AppiumDriver</code>. \nI am using java-client-2.2.0.jar that contains this capability. </p>\n"},{"tags":[],"owner":{"account_id":5575319,"reputation":8267,"user_id":4418897,"display_name":"Santosh Pillai"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1508865908,"creation_date":1468660135,"answer_id":38409530,"question_id":23220067,"body_markdown":"I use `driver.hideKeyboard();` every time I&#39;m using `sendKeys()` to type something. Works perfectly for me.","title":"How to dismiss the keyboard in appium using Java?","body":"<p>I use <code>driver.hideKeyboard();</code> every time I'm using <code>sendKeys()</code> to type something. Works perfectly for me.</p>\n"},{"tags":[],"owner":{"account_id":9619259,"reputation":96,"user_id":7441583,"accept_rate":0,"display_name":"Prasetyo Budi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637840838,"creation_date":1501650005,"answer_id":45451811,"question_id":23220067,"body_markdown":"    public static AndroidDriver driver= null;\r\n    ......\r\n    \r\n    driver.hideKeyboard();\r\n\r\nwill work perfectly based on my experience.","title":"How to dismiss the keyboard in appium using Java?","body":"<pre><code>public static AndroidDriver driver= null;\n......\n\ndriver.hideKeyboard();\n</code></pre>\n<p>will work perfectly based on my experience.</p>\n"},{"tags":[],"owner":{"account_id":6155030,"reputation":407,"user_id":4798311,"accept_rate":38,"display_name":"SOAlgorithm"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1515016656,"creation_date":1515016656,"answer_id":48085736,"question_id":23220067,"body_markdown":" Add these desired capabilities values if you want to disable the keyboard on your android selenium tests.  \r\n\r\n    capabilities.setCapability(&quot;unicodeKeyboard&quot;, true);\r\n    capabilities.setCapability(&quot;resetKeyboard&quot;, true);","title":"How to dismiss the keyboard in appium using Java?","body":"<p>Add these desired capabilities values if you want to disable the keyboard on your android selenium tests.  </p>\n\n<pre><code>capabilities.setCapability(\"unicodeKeyboard\", true);\ncapabilities.setCapability(\"resetKeyboard\", true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8440463,"reputation":882,"user_id":6333173,"accept_rate":33,"display_name":"Al Imran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1556243802,"creation_date":1556243802,"answer_id":55859809,"question_id":23220067,"body_markdown":"Solution for those who are not using `AppiumDriver`:\r\n\r\n    ((AppiumDriver)driver).hideKeyboard(); \r\n\r\n","title":"How to dismiss the keyboard in appium using Java?","body":"<p>Solution for those who are not using <code>AppiumDriver</code>:</p>\n\n<pre><code>((AppiumDriver)driver).hideKeyboard(); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":16888432,"reputation":1,"user_id":12212642,"display_name":"Dhinesh M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637841574,"creation_date":1637840428,"answer_id":70110474,"question_id":23220067,"body_markdown":"`driver.hideKeyboard();` some times does not work.\r\nBecause while running testcase keyboard not appear fast, So testcase fail.\r\nIf I use `Thread.sleep(5000);` before `hideKeyboard` method, it&#39;s working very fine for me every time.\r\n\r\n    try {\r\n        Thread.sleep(5000);\r\n    } catch (Exception e) {\r\n        e.getMessage();\r\n    }\r\n    driver.hideKeyboard();","title":"How to dismiss the keyboard in appium using Java?","body":"<p><code>driver.hideKeyboard();</code> some times does not work.\nBecause while running testcase keyboard not appear fast, So testcase fail.\nIf I use <code>Thread.sleep(5000);</code> before <code>hideKeyboard</code> method, it's working very fine for me every time.</p>\n<pre><code>try {\n    Thread.sleep(5000);\n} catch (Exception e) {\n    e.getMessage();\n}\ndriver.hideKeyboard();\n</code></pre>\n"}],"owner":{"account_id":4364208,"reputation":530,"user_id":3560472,"display_name":"shiva1791"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35196,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":29487717,"answer_count":8,"score":11,"last_activity_date":1637841574,"creation_date":1398170848,"question_id":23220067,"body_markdown":"This code just aims to find the textbox and send some text to it.\r\nWhen it does that the keyboard appears on the android device.How to dismiss it after the sendKeys.\r\n        \r\n    @Test\r\n        public static void test_demo() throws Exception {\r\n        \tWebElement element = driver.findElement(By.id(&quot;mytextfield&quot;));\r\n        \telement.sendKeys(&quot;test&quot;);\r\n        \t//how do I dismiss keyboard which appears on my android device after sendKeys?\t\r\n        }","title":"How to dismiss the keyboard in appium using Java?","body":"<p>This code just aims to find the textbox and send some text to it.\nWhen it does that the keyboard appears on the android device.How to dismiss it after the sendKeys.</p>\n\n<pre><code>@Test\n    public static void test_demo() throws Exception {\n        WebElement element = driver.findElement(By.id(\"mytextfield\"));\n        element.sendKeys(\"test\");\n        //how do I dismiss keyboard which appears on my android device after sendKeys?  \n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":13290045,"reputation":164,"user_id":9594794,"display_name":"prof_FL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637841148,"creation_date":1637841148,"answer_id":70110632,"question_id":70110545,"body_markdown":"First you need to list all sounds files:\r\n```\r\n\r\nSet&lt;String&gt; sounds = Stream.of(new File(dir).listFiles())\r\n      .filter(file -&gt; !file.isDirectory())\r\n      .map(File::getName)\r\n      .collect(Collectors.toSet());\r\n```\r\nand in one of your controller, return sounds object:\r\n```\r\n    @GetMapping(&quot;/GetAllSounds&quot;)\r\n    String home() {\r\n        Set&lt;String&gt; sounds = Stream.of(new File(dir).listFiles())\r\n      .filter(file -&gt; !file.isDirectory())\r\n      .map(File::getName)\r\n      .collect(Collectors.toSet());\r\n        return sounds \r\n    }\r\n```\r\nfor best practice, you should encapsulation sounds to a service class","title":"List static ressources in Spring","body":"<p>First you need to list all sounds files:</p>\n<pre><code>\nSet&lt;String&gt; sounds = Stream.of(new File(dir).listFiles())\n      .filter(file -&gt; !file.isDirectory())\n      .map(File::getName)\n      .collect(Collectors.toSet());\n</code></pre>\n<p>and in one of your controller, return sounds object:</p>\n<pre><code>    @GetMapping(&quot;/GetAllSounds&quot;)\n    String home() {\n        Set&lt;String&gt; sounds = Stream.of(new File(dir).listFiles())\n      .filter(file -&gt; !file.isDirectory())\n      .map(File::getName)\n      .collect(Collectors.toSet());\n        return sounds \n    }\n</code></pre>\n<p>for best practice, you should encapsulation sounds to a service class</p>\n"}],"owner":{"account_id":1321584,"reputation":2570,"user_id":1267295,"accept_rate":77,"display_name":"Rapti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1637841148,"creation_date":1637840740,"question_id":70110545,"body_markdown":"I&#39;m developing a Spring project that serves a rather large number of audio files from the static resource folder (`src/main/resources/static/sound/`). I&#39;ve got that working just fine – the files are accessible over HTTP. However, I&#39;d also like to send a directory listing to the client so it knows which files are available, preferably as JSON. Typing that list by hand would be tedious, especially since new files are likely to be added in the future. Google results only tell me how to serve the files in the first place, but I&#39;ve got that already.\r\n\r\ntl;dr: Is there a way to list all static resources in a Spring project?","title":"List static ressources in Spring","body":"<p>I'm developing a Spring project that serves a rather large number of audio files from the static resource folder (<code>src/main/resources/static/sound/</code>). I've got that working just fine – the files are accessible over HTTP. However, I'd also like to send a directory listing to the client so it knows which files are available, preferably as JSON. Typing that list by hand would be tedious, especially since new files are likely to be added in the future. Google results only tell me how to serve the files in the first place, but I've got that already.</p>\n<p>tl;dr: Is there a way to list all static resources in a Spring project?</p>\n"},{"tags":["java","swagger","jsonschema2pojo"],"comments":[{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":1,"creation_date":1637780222,"post_id":70101047,"comment_id":123920025,"body_markdown":"Can you please add the code for `JobConfig`? Thanks!","body":"Can you please add the code for <code>JobConfig</code>? Thanks!"},{"owner":{"account_id":18867887,"reputation":105,"user_id":13763219,"display_name":"Shiv"},"score":0,"creation_date":1637781013,"post_id":70101047,"comment_id":123920317,"body_markdown":"Added the code for the same.","body":"Added the code for the same."}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637841093,"creation_date":1637793588,"answer_id":70103772,"question_id":70101047,"body_markdown":"If you don&#39;t want to include `profile`, `validate` and `action` at all in your JSONs you can simply use `@JsonIgnore` as follows:\r\n```java\r\n@Data\r\npublic class JobConfig {\r\n    @NonNull private String name;\r\n    @NonNull private BatchSpec batch;\r\n\r\n    @JsonIgnore\r\n    private ProfileConfig profile;\r\n\r\n    @JsonIgnore\r\n    private ValidateConfig validate;\r\n\r\n    @JsonIgnore\r\n    private ActionConfig action;\r\n}\r\n```\r\n\r\nIf you simply don&#39;t want to list them in Swagger documentation, you can use `@ApiModelProperty` as follows:\r\n```java\r\n@Data\r\npublic class JobConfig {\r\n    @NonNull private String name;\r\n    @NonNull private BatchSpec batch;\r\n\r\n    @ApiModelProperty(hidden = true)\r\n    private ProfileConfig profile;\r\n\r\n    @ApiModelProperty(hidden = true)\r\n    private ValidateConfig validate;\r\n\r\n    @ApiModelProperty(hidden = true)\r\n    private ActionConfig action;\r\n}\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nGiven that you don&#39;t want to hide properties but instead show a more realistic example, try the following:\r\n```java\r\n@Data\r\npublic class JobConfig {\r\n    @NonNull \r\n    @ApiModelProperty(example = &quot;hotel&quot;)\r\n    private String name;\r\n\r\n    @NonNull \r\n    private BatchSpec batch;\r\n\r\n    private ProfileConfig profile;\r\n\r\n    private ValidateConfig validate;\r\n\r\n    private ActionConfig action;\r\n}\r\n```\r\n\r\n```java\r\n@Data\r\npublic class BatchSpec {\r\n    @ApiModelProperty(example = &quot;FullScan&quot;)\r\n    private String type;\r\n}\r\n```","title":"How to set POJO Data on swagger for ApiModelProperty","body":"<p>If you don't want to include <code>profile</code>, <code>validate</code> and <code>action</code> at all in your JSONs you can simply use <code>@JsonIgnore</code> as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class JobConfig {\n    @NonNull private String name;\n    @NonNull private BatchSpec batch;\n\n    @JsonIgnore\n    private ProfileConfig profile;\n\n    @JsonIgnore\n    private ValidateConfig validate;\n\n    @JsonIgnore\n    private ActionConfig action;\n}\n</code></pre>\n<p>If you simply don't want to list them in Swagger documentation, you can use <code>@ApiModelProperty</code> as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class JobConfig {\n    @NonNull private String name;\n    @NonNull private BatchSpec batch;\n\n    @ApiModelProperty(hidden = true)\n    private ProfileConfig profile;\n\n    @ApiModelProperty(hidden = true)\n    private ValidateConfig validate;\n\n    @ApiModelProperty(hidden = true)\n    private ActionConfig action;\n}\n</code></pre>\n<hr />\n<p>Given that you don't want to hide properties but instead show a more realistic example, try the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class JobConfig {\n    @NonNull \n    @ApiModelProperty(example = &quot;hotel&quot;)\n    private String name;\n\n    @NonNull \n    private BatchSpec batch;\n\n    private ProfileConfig profile;\n\n    private ValidateConfig validate;\n\n    private ActionConfig action;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class BatchSpec {\n    @ApiModelProperty(example = &quot;FullScan&quot;)\n    private String type;\n}\n</code></pre>\n"}],"owner":{"account_id":18867887,"reputation":105,"user_id":13763219,"display_name":"Shiv"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70103772,"answer_count":1,"score":0,"last_activity_date":1637841093,"creation_date":1637777568,"question_id":70101047,"body_markdown":"I have the following ApiModel for my endpoint - \r\n\r\n    public class CreateConfigRequest {\r\n        @ApiModelProperty(example = &quot;hive&quot;)\r\n        String entityType;\r\n        @ApiModelProperty(example = &quot;imports&quot;)\r\n        String entityNamespace;\r\n        @ApiModelProperty(example = &quot;hotel&quot;)\r\n        String entityName;\r\n        @ApiModelProperty(example = &quot;{\\&quot;name\\&quot;: \\&quot;hotel\\&quot;, \\&quot;batch\\&quot;: {\\&quot;type\\&quot;: \\&quot;FullScan\\&quot;}}&quot;)\r\n        JobConfig content;\r\n    }\r\n\r\nWhere JobConfig is another pojo class. Code below :\r\n\r\n    @Data\r\n    public class JobConfig {\r\n        @NonNull private String name;\r\n        @NonNull private BatchSpec batch;\r\n        private ProfileConfig profile;\r\n        private ValidateConfig validate;\r\n        private ActionConfig action;\r\n    }\r\n\r\n**My swagger looks like -** \r\n[![enter image description here][1]][1]\r\n\r\n\r\nWhich is basically the structure of the POJO.\r\n\r\n**How it should look like -**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/T7Fpi.png\r\n  [2]: https://i.stack.imgur.com/NrGHK.png\r\n\r\n\r\nBasically i am looking to understand how i can set it to a default JSON structure. ","title":"How to set POJO Data on swagger for ApiModelProperty","body":"<p>I have the following ApiModel for my endpoint -</p>\n<pre><code>public class CreateConfigRequest {\n    @ApiModelProperty(example = &quot;hive&quot;)\n    String entityType;\n    @ApiModelProperty(example = &quot;imports&quot;)\n    String entityNamespace;\n    @ApiModelProperty(example = &quot;hotel&quot;)\n    String entityName;\n    @ApiModelProperty(example = &quot;{\\&quot;name\\&quot;: \\&quot;hotel\\&quot;, \\&quot;batch\\&quot;: {\\&quot;type\\&quot;: \\&quot;FullScan\\&quot;}}&quot;)\n    JobConfig content;\n}\n</code></pre>\n<p>Where JobConfig is another pojo class. Code below :</p>\n<pre><code>@Data\npublic class JobConfig {\n    @NonNull private String name;\n    @NonNull private BatchSpec batch;\n    private ProfileConfig profile;\n    private ValidateConfig validate;\n    private ActionConfig action;\n}\n</code></pre>\n<p><strong>My swagger looks like -</strong>\n<a href=\"https://i.stack.imgur.com/T7Fpi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T7Fpi.png\" alt=\"enter image description here\" /></a></p>\n<p>Which is basically the structure of the POJO.</p>\n<p><strong>How it should look like -</strong></p>\n<p><a href=\"https://i.stack.imgur.com/NrGHK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NrGHK.png\" alt=\"enter image description here\" /></a></p>\n<p>Basically i am looking to understand how i can set it to a default JSON structure.</p>\n"},{"tags":["java","byteman"],"comments":[{"owner":{"account_id":5050325,"reputation":305,"user_id":4055108,"display_name":"Jeremy Whiting"},"score":0,"creation_date":1637840344,"post_id":70104360,"comment_id":123935861,"body_markdown":"Answering myself here after some investigation.\nTry checking the default 9090 port the Byteman agent attempts binds too. Also were there any messages in the stderr log file ?","body":"Answering myself here after some investigation. Try checking the default 9090 port the Byteman agent attempts binds too. Also were there any messages in the stderr log file ?"}],"answers":[{"tags":[],"owner":{"account_id":5050325,"reputation":305,"user_id":4055108,"display_name":"Jeremy Whiting"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637840568,"creation_date":1637840568,"answer_id":70110509,"question_id":70104360,"body_markdown":" The solution to the issue is to define an unused port when using the bminstall command. With the -p flag.","title":"bmsubmit is not working due to Bad Request 400. Why?","body":"<p>The solution to the issue is to define an unused port when using the bminstall command. With the -p flag.</p>\n"}],"owner":{"account_id":5050325,"reputation":305,"user_id":4055108,"display_name":"Jeremy Whiting"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637840568,"creation_date":1637798533,"question_id":70104360,"body_markdown":"I am using byteman 4.0.17. Installing byteman succeeded. Using bmsubmit.sh tool is throwing an error.\r\n\r\n    $ byteman-download-4.0.17/bin/bmsubmit.sh -y\r\n    Failed to process request: java.lang.Exception: Invalid name/value pair in line [HTTP/1.1 400 Bad Request]. Full response below:\r\n    HTTP/1.1 400 Bad Request\r\n    Content-Type: text/plain; charset=utf-8\r\n    Connection: close\r\n    \r\n    400 Bad Request\r\n    \r\n    java.lang.Exception: Invalid name/value pair in line [HTTP/1.1 400 Bad Request]. Full response below:\r\n    HTTP/1.1 400 Bad Request\r\n    Content-Type: text/plain; charset=utf-8\r\n    Connection: close\r\n    \r\n    400 Bad Request\r\n    \r\n    \tat [org.jboss.byteman.agent.submit.Submit.listSystemProperties][1](Submit.java:767)\r\n    \tat org.jboss.byteman.agent.submit.Submit.main(Submit.java:1113)\r\n    $\r\n\r\n\r\n Also when I try to submit a rule I get an error.\r\n\r\n    $ byteman-download-4.0.17/bin/bmsubmit.sh -l /mnt/jenkins/FileDescriptorLeak.btm\r\n    HTTP/1.1 400 Bad Request\r\n    Content-Type: text/plain; charset=utf-8\r\n    Connection: close\r\n    \r\n    400 Bad Request\r\n    \r\n    $\r\n\r\n Am I doing something wrong here ?\r\n\r\n\r\n    ########################################################################\r\n    #\r\n    # Rule to trace opening files\r\n    #\r\n    \r\n    RULE FileOutputStream open trace\r\n    CLASS java.io.FileOutputStream\r\n    METHOD &lt;init&gt;\r\n    AT EXIT\r\n    IF TRUE\r\n    DO traceStack(&quot;*** Called init in thread &quot; + Thread.currentThread().getName() + &quot;\\n&quot;, 30)\r\n    ENDRULE\r\n\r\n\r\n  [1]: https://github.com/bytemanproject/byteman/blob/main/submit/src/main/java/org/jboss/byteman/agent/submit/Submit.java#L767","title":"bmsubmit is not working due to Bad Request 400. Why?","body":"<p>I am using byteman 4.0.17. Installing byteman succeeded. Using bmsubmit.sh tool is throwing an error.</p>\n<pre><code>$ byteman-download-4.0.17/bin/bmsubmit.sh -y\nFailed to process request: java.lang.Exception: Invalid name/value pair in line [HTTP/1.1 400 Bad Request]. Full response below:\nHTTP/1.1 400 Bad Request\nContent-Type: text/plain; charset=utf-8\nConnection: close\n\n400 Bad Request\n\njava.lang.Exception: Invalid name/value pair in line [HTTP/1.1 400 Bad Request]. Full response below:\nHTTP/1.1 400 Bad Request\nContent-Type: text/plain; charset=utf-8\nConnection: close\n\n400 Bad Request\n\n    at [org.jboss.byteman.agent.submit.Submit.listSystemProperties][1](Submit.java:767)\n    at org.jboss.byteman.agent.submit.Submit.main(Submit.java:1113)\n$\n</code></pre>\n<p>Also when I try to submit a rule I get an error.</p>\n<pre><code>$ byteman-download-4.0.17/bin/bmsubmit.sh -l /mnt/jenkins/FileDescriptorLeak.btm\nHTTP/1.1 400 Bad Request\nContent-Type: text/plain; charset=utf-8\nConnection: close\n\n400 Bad Request\n\n$\n</code></pre>\n<p>Am I doing something wrong here ?</p>\n<pre><code>########################################################################\n#\n# Rule to trace opening files\n#\n\nRULE FileOutputStream open trace\nCLASS java.io.FileOutputStream\nMETHOD &lt;init&gt;\nAT EXIT\nIF TRUE\nDO traceStack(&quot;*** Called init in thread &quot; + Thread.currentThread().getName() + &quot;\\n&quot;, 30)\nENDRULE\n</code></pre>\n"},{"tags":["java","loops","for-loop"],"comments":[{"owner":{"account_id":95417,"reputation":4933,"user_id":259889,"accept_rate":76,"display_name":"Sid"},"score":0,"creation_date":1525500453,"post_id":50186270,"comment_id":87389324,"body_markdown":"We can help you getting started, but giving away answer won&#39;t help you learn.","body":"We can help you getting started, but giving away answer won&#39;t help you learn."},{"owner":{"account_id":95417,"reputation":4933,"user_id":259889,"accept_rate":76,"display_name":"Sid"},"score":2,"creation_date":1525500525,"post_id":50186270,"comment_id":87389348,"body_markdown":"@PronoyMukherjee No need to be rude to the OP.  He/she may be a high schooler looking for help.  StackOverflow Community is working hard to keep experienced programmers from demeaning newcomers.","body":"@PronoyMukherjee No need to be rude to the OP.  He/she may be a high schooler looking for help.  StackOverflow Community is working hard to keep experienced programmers from demeaning newcomers."},{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":0,"creation_date":1525505970,"post_id":50186270,"comment_id":87390618,"body_markdown":"It looks like you want us to write some code for you. While many users are willing to produce code for a coder in distress, they usually only help when the poster has already tried to solve the problem on their own. A good way to demonstrate this effort is to include the code you&#39;ve written so far, example input (if there is any), the expected output, and the output you actually get (console output, tracebacks, etc.). The more detail you provide, the more answers you are likely to receive. Check the [FAQ] and [ask].","body":"It looks like you want us to write some code for you. While many users are willing to produce code for a coder in distress, they usually only help when the poster has already tried to solve the problem on their own. A good way to demonstrate this effort is to include the code you&#39;ve written so far, example input (if there is any), the expected output, and the output you actually get (console output, tracebacks, etc.). The more detail you provide, the more answers you are likely to receive. Check the <a href=\"https://stackoverflow.com/tour\">FAQ</a> and <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"answers":[{"tags":[],"owner":{"account_id":8972075,"reputation":27597,"user_id":6690200,"accept_rate":100,"display_name":"xingbin"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1525500982,"creation_date":1525500659,"answer_id":50186321,"question_id":50186270,"body_markdown":"From [this][1] site.\r\n\r\nWe learned numbers are prime if the only divisors they have are 1 and itself. Trivially, we can check every integer from 1 to itself (exclusive) and test whether it divides evenly.\r\n\r\nFor example, one might be tempted to run this algorithm:\r\n\r\n    //checks whether an int is prime or not.\r\n    boolean isPrime(int n) {\r\n        for (int i = 2; i &lt; n; i++) {\r\n            if (n % i == 0)\r\n                return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n\r\n----------\r\n\r\n\r\nThis doesn&#39;t seem bad at first, but we can make it faster - much faster. Consider that if 2 divides some integer n, then (n/2) divides n as well. This tells us we don&#39;t have to try out all integers from 2 to n. Now we can modify our algorithm:\r\n\r\n    //checks whether an int is prime or not.\r\n    boolean isPrime(int n) {\r\n        for (int i = 2; 2 * i &lt; n; i++) {\r\n            if (n % i == 0)\r\n                return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n\r\n----------\r\n\r\n\r\nWith some more efficient coding, we notice that you really only have to go up to the square root of n, because if you list out all of the factors of a number, the square root will always be in the middle (if it happens to not be an integer, we&#39;re still ok, we just might over-approximate, but our code will still work).\r\n\r\nFinally, we know 2 is the &quot;oddest&quot; prime - it happens to be the only even prime number. Because of this, we need only check 2 separately, then traverse odd numbers up to the square root of n. In the end, our code will resemble this:\r\n\r\n    //checks whether an int is prime or not.\r\n    boolean isPrime(int n) {\r\n        //check if n is a multiple of 2\r\n        if (n % 2 == 0) return false;\r\n        //if not, then just check the odds\r\n        for (int i = 3; i * i &lt;= n; i += 2) {\r\n            if (n % i == 0)\r\n                return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\nAs you can see, we&#39;ve gone from checking every integer (up to n to find out that a number is prime) to just checking half of the integers up to the square root (the odd ones, really). This is a huge improvement, especially considering when numbers are large.\r\n\r\n\r\n  [1]: https://www.mkyong.com/java/how-to-determine-a-prime-number-in-java/","title":"Prime number check in Java","body":"<p>From <a href=\"https://www.mkyong.com/java/how-to-determine-a-prime-number-in-java/\" rel=\"nofollow noreferrer\">this</a> site.</p>\n\n<p>We learned numbers are prime if the only divisors they have are 1 and itself. Trivially, we can check every integer from 1 to itself (exclusive) and test whether it divides evenly.</p>\n\n<p>For example, one might be tempted to run this algorithm:</p>\n\n<pre><code>//checks whether an int is prime or not.\nboolean isPrime(int n) {\n    for (int i = 2; i &lt; n; i++) {\n        if (n % i == 0)\n            return false;\n    }\n    return true;\n}\n</code></pre>\n\n<hr>\n\n<p>This doesn't seem bad at first, but we can make it faster - much faster. Consider that if 2 divides some integer n, then (n/2) divides n as well. This tells us we don't have to try out all integers from 2 to n. Now we can modify our algorithm:</p>\n\n<pre><code>//checks whether an int is prime or not.\nboolean isPrime(int n) {\n    for (int i = 2; 2 * i &lt; n; i++) {\n        if (n % i == 0)\n            return false;\n    }\n    return true;\n}\n</code></pre>\n\n<hr>\n\n<p>With some more efficient coding, we notice that you really only have to go up to the square root of n, because if you list out all of the factors of a number, the square root will always be in the middle (if it happens to not be an integer, we're still ok, we just might over-approximate, but our code will still work).</p>\n\n<p>Finally, we know 2 is the \"oddest\" prime - it happens to be the only even prime number. Because of this, we need only check 2 separately, then traverse odd numbers up to the square root of n. In the end, our code will resemble this:</p>\n\n<pre><code>//checks whether an int is prime or not.\nboolean isPrime(int n) {\n    //check if n is a multiple of 2\n    if (n % 2 == 0) return false;\n    //if not, then just check the odds\n    for (int i = 3; i * i &lt;= n; i += 2) {\n        if (n % i == 0)\n            return false;\n    }\n    return true;\n}\n</code></pre>\n\n<p>As you can see, we've gone from checking every integer (up to n to find out that a number is prime) to just checking half of the integers up to the square root (the odd ones, really). This is a huge improvement, especially considering when numbers are large.</p>\n"},{"tags":[],"owner":{"account_id":10431478,"reputation":27,"user_id":7691188,"display_name":"Noman Prodhan "},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1525503528,"creation_date":1525503528,"answer_id":50186678,"question_id":50186270,"body_markdown":"I will suggest you to read @Neng Liu&#39;s answer from up to bottom and try to understand all the algorithms.\r\nHowever, You can check this code for second algorithm from @Neng Liu&#39;s answer.\r\n\r\n    import java.util.Scanner;\r\n    \r\n    \r\n    public class PrimeNumber{\r\n        public static void main(String [] args){\r\n           int number,i,rem;\r\n           boolean flag = true;\r\n           Scanner input = new Scanner(System.in);\r\n           System.out.print(&quot;Enter an integer to check if its PRIME number : &quot;);\r\n           number = input.nextInt();\r\n           if(number &gt;= 2){\r\n               for(i = 2; 2 * i &lt; number; i++){\r\n                   rem = number % i;\r\n                   if(rem == 0){\r\n                       flag = false;\r\n                       break;\r\n                   }\r\n               }\r\n               if(flag){\r\n                   System.out.println(number+&quot; is a Prime number&quot;);\r\n               }else{\r\n                   System.out.println(number+&quot; is not Prime number&quot;);\r\n               }\r\n           }else{\r\n               System.out.println(&quot;1 &amp; Negative numbers can&#39;t be prime ! &quot;);\r\n           }\r\n    \r\n        }\r\n    }\r\n\r\n","title":"Prime number check in Java","body":"<p>I will suggest you to read @Neng Liu's answer from up to bottom and try to understand all the algorithms.\nHowever, You can check this code for second algorithm from @Neng Liu's answer.</p>\n\n<pre><code>import java.util.Scanner;\n\n\npublic class PrimeNumber{\n    public static void main(String [] args){\n       int number,i,rem;\n       boolean flag = true;\n       Scanner input = new Scanner(System.in);\n       System.out.print(\"Enter an integer to check if its PRIME number : \");\n       number = input.nextInt();\n       if(number &gt;= 2){\n           for(i = 2; 2 * i &lt; number; i++){\n               rem = number % i;\n               if(rem == 0){\n                   flag = false;\n                   break;\n               }\n           }\n           if(flag){\n               System.out.println(number+\" is a Prime number\");\n           }else{\n               System.out.println(number+\" is not Prime number\");\n           }\n       }else{\n           System.out.println(\"1 &amp; Negative numbers can't be prime ! \");\n       }\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13054824,"reputation":25,"user_id":9434012,"display_name":"Thushara"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1525859839,"creation_date":1525859839,"answer_id":50250506,"question_id":50186270,"body_markdown":" Here is a Simple Programme to Check Whether a Number is Prime or Not ;\r\n\r\n\r\n    import java.util.*;\r\n    class Example{\r\n\tpublic static void main(String args[]){\r\n\t\tScanner input=new Scanner(System.in);\r\n\t\tint count=0;\r\n\t\tSystem.out.print(&quot;Input a Number : &quot;);\r\n\t\tint num=input.nextInt();\r\n\t\tfor(int i=2;i&lt;num;i++){\r\n\t\t\tif(num%i==0){count++;}\r\n\t\t}\r\n\t\tif(num&gt;1&amp;count==0){\r\n\t\t\tSystem.out.print(&quot;\\nIt Is a Prime Number.&quot;);\r\n\t\t}\r\n\t\telse{\r\n\t\t\tSystem.out.print(&quot;\\nIt Is a Not Prime Number.&quot;);\r\n\t\t}\r\n\t}\r\n}\r\n\t\t\t\t\r\n\r\n  ","title":"Prime number check in Java","body":"<p>Here is a Simple Programme to Check Whether a Number is Prime or Not ;</p>\n\n<pre><code>import java.util.*;\nclass Example{\npublic static void main(String args[]){\n    Scanner input=new Scanner(System.in);\n    int count=0;\n    System.out.print(\"Input a Number : \");\n    int num=input.nextInt();\n    for(int i=2;i&lt;num;i++){\n        if(num%i==0){count++;}\n    }\n    if(num&gt;1&amp;count==0){\n        System.out.print(\"\\nIt Is a Prime Number.\");\n    }\n    else{\n        System.out.print(\"\\nIt Is a Not Prime Number.\");\n    }\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":13448197,"reputation":499,"user_id":9703621,"display_name":"Laurent"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608646081,"creation_date":1608646081,"answer_id":65410122,"question_id":50186270,"body_markdown":"    \r\n\tpublic static boolean isPrime(int n) {\r\n\t\tif (n &lt; 2) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t    for (int i = 2; i &lt; n; i++) {\r\n\t        if (n % i == 0) {\r\n\t        \treturn false;\r\n\t        }\r\n\t    }\r\n\t    return true;\r\n\t}","title":"Prime number check in Java","body":"<pre><code>public static boolean isPrime(int n) {\n    if (n &lt; 2) {\n        return false;\n    }\n    for (int i = 2; i &lt; n; i++) {\n        if (n % i == 0) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n"}],"owner":{"account_id":10434536,"reputation":15,"user_id":7693317,"display_name":"Bikash Adhikari"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3888,"favorite_count":0,"down_vote_count":9,"up_vote_count":2,"closed_date":1637914739,"answer_count":4,"score":-7,"last_activity_date":1637840555,"creation_date":1525500232,"question_id":50186270,"body_markdown":"Could anyone help me on how to check whether a number is prime using `for` loop?","title":"Prime number check in Java","body":"<p>Could anyone help me on how to check whether a number is prime using <code>for</code> loop?</p>\n"},{"tags":["java","sql-server","azure","playframework"],"comments":[{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1637790786,"post_id":70101629,"comment_id":123923450,"body_markdown":"Sounds like there are still firewall issues - if not at Azure then perhaps on your local network. Try `Test-NetConnection -ComputerName server-name.database.windows.net -Port 1433` in PowerShell. If it can&#39;t get a connection then your Java process isn&#39;t going to be able to connect to it either.","body":"Sounds like there are still firewall issues - if not at Azure then perhaps on your local network. Try <code>Test-NetConnection -ComputerName server-name.database.windows.net -Port 1433</code> in PowerShell. If it can&#39;t get a connection then your Java process isn&#39;t going to be able to connect to it either."}],"answers":[{"tags":[],"owner":{"account_id":22358744,"reputation":1237,"user_id":16575556,"display_name":"SaiKarri-MT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637840504,"creation_date":1637840504,"answer_id":70110494,"question_id":70101629,"body_markdown":"Usually this error occurs when the database is not getting the connection within the default connectionTimeout property.\r\n\r\nYou can try to increase the value of connectionTimeout in Java config as below:\r\n\r\n```java\r\nconfig.setConnectionTimeout(300000);\r\n```\r\n\r\nbelow is one of the sample config:\r\n\r\n```java\r\nHikariConfig config = new HikariConfig();\r\n        config.setMaximumPoolSize(20);\r\n        config.setConnectionTimeout(300000);\r\n        config.setConnectionTimeout(120000);\r\n        config.setLeakDetectionThreshold(300000);\r\n```\r\n\r\nIf possible let me know the steps to reproduce this issue so that I can fix it accordingly, also based on the information you&#39;ve provided these blogs ([Blog1](https://azurelessons.com/how-to-connect-to-azure-sql-database/), [Blog2](https://dzone.com/articles/java-access-sql-azure-jdbc)) will help you in establishing the connection\r\n\r\n","title":"Play framework java connection is not available to sql server database","body":"<p>Usually this error occurs when the database is not getting the connection within the default connectionTimeout property.</p>\n<p>You can try to increase the value of connectionTimeout in Java config as below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>config.setConnectionTimeout(300000);\n</code></pre>\n<p>below is one of the sample config:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HikariConfig config = new HikariConfig();\n        config.setMaximumPoolSize(20);\n        config.setConnectionTimeout(300000);\n        config.setConnectionTimeout(120000);\n        config.setLeakDetectionThreshold(300000);\n</code></pre>\n<p>If possible let me know the steps to reproduce this issue so that I can fix it accordingly, also based on the information you've provided these blogs (<a href=\"https://azurelessons.com/how-to-connect-to-azure-sql-database/\" rel=\"nofollow noreferrer\">Blog1</a>, <a href=\"https://dzone.com/articles/java-access-sql-azure-jdbc\" rel=\"nofollow noreferrer\">Blog2</a>) will help you in establishing the connection</p>\n"}],"owner":{"account_id":9371512,"reputation":1243,"user_id":8958651,"accept_rate":10,"display_name":"Jonio"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70110494,"answer_count":1,"score":0,"last_activity_date":1637840504,"creation_date":1637780687,"question_id":70101629,"body_markdown":"I&#39;m stucked in a problem during connection from my java project (play framework ) to a sql server database in Azure.\r\n\r\nIn local enviroment the connection works fine.\r\n\r\nBelow parameter in my application.conf :\r\n\r\n    db.default {\r\n         url=&quot;jdbc:sqlserver://server-name.database.windows.net:1433;database=database-name&quot;\r\n         encrypt=true\r\n         trustServerCertificate=false\r\n         hostNameInCertificate=&quot;*.database.windows.net&quot;\r\n         loginTimeout=30\r\n         driver=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\n         username=&quot;root&quot;\r\n         password=&quot;RootPwd&quot;\r\n    }\r\n\r\nThis is the error received:\r\n\r\n&gt;  ERROR o.h.e.jdbc.spi.SqlExceptionHelper  HikariPool-1 - Connection is\r\n&gt; not available, request timed out after 30006ms.  ERROR\r\n&gt; o.h.e.jdbc.spi.SqlExceptionHelper  The TCP/IP connection to the host\r\n&gt; par-sql-server.database.windows.net, port 1433 has failed. Error:\r\n&gt; &quot;par-sql-server.database.windows.net. Verify the connection\r\n&gt; properties. Make sure that an instance of SQL Server is running on the\r\n&gt; host and accepting TCP/IP connections at the port. Make sure that TCP\r\n&gt; connections to the port are not blocked by a firewall.&quot;. ERROR\r\n&gt; p.api.http.DefaultHttpErrorHandler\r\n&gt; \r\n&gt; \r\n&gt; play.api.PlayException: Execution exception[[CompletionException:\r\n&gt; org.hibernate.exception.JDBCConnectionException: Unable to acquire\r\n&gt; JDBC Connection]]\r\n&gt;         at play.api.http.HttpErrorHandlerExceptions$.$anonfun$convertToPlayException$3(HttpErrorHandler.scala:388)\r\n&gt;         at scala.Option.getOrElse(Option.scala:201)\r\n&gt;         at play.api.http.HttpErrorHandlerExceptions$.convertToPlayException(HttpErrorHandler.scala:388)\r\n&gt;         at play.api.http.HttpErrorHandlerExceptions$.throwableToUsefulException(HttpErrorHandler.scala:373)\r\n&gt;         at play.api.http.DefaultHttpErrorHandler.onServerError(HttpErrorHandler.scala:264)\r\n&gt;         at play.core.server.AkkaHttp\r\n\r\nI have already checked that tcp/ip port 1433 is correctly available for database, and my ip is correctly setted to avoid firewall.\r\n\r\nAny suggestions?\r\nthanks","title":"Play framework java connection is not available to sql server database","body":"<p>I'm stucked in a problem during connection from my java project (play framework ) to a sql server database in Azure.</p>\n<p>In local enviroment the connection works fine.</p>\n<p>Below parameter in my application.conf :</p>\n<pre><code>db.default {\n     url=&quot;jdbc:sqlserver://server-name.database.windows.net:1433;database=database-name&quot;\n     encrypt=true\n     trustServerCertificate=false\n     hostNameInCertificate=&quot;*.database.windows.net&quot;\n     loginTimeout=30\n     driver=com.microsoft.sqlserver.jdbc.SQLServerDriver\n     username=&quot;root&quot;\n     password=&quot;RootPwd&quot;\n}\n</code></pre>\n<p>This is the error received:</p>\n<blockquote>\n<p>ERROR o.h.e.jdbc.spi.SqlExceptionHelper  HikariPool-1 - Connection is\nnot available, request timed out after 30006ms.  ERROR\no.h.e.jdbc.spi.SqlExceptionHelper  The TCP/IP connection to the host\npar-sql-server.database.windows.net, port 1433 has failed. Error:\n&quot;par-sql-server.database.windows.net. Verify the connection\nproperties. Make sure that an instance of SQL Server is running on the\nhost and accepting TCP/IP connections at the port. Make sure that TCP\nconnections to the port are not blocked by a firewall.&quot;. ERROR\np.api.http.DefaultHttpErrorHandler</p>\n<p>play.api.PlayException: Execution exception[[CompletionException:\norg.hibernate.exception.JDBCConnectionException: Unable to acquire\nJDBC Connection]]\nat play.api.http.HttpErrorHandlerExceptions$.$anonfun$convertToPlayException$3(HttpErrorHandler.scala:388)\nat scala.Option.getOrElse(Option.scala:201)\nat play.api.http.HttpErrorHandlerExceptions$.convertToPlayException(HttpErrorHandler.scala:388)\nat play.api.http.HttpErrorHandlerExceptions$.throwableToUsefulException(HttpErrorHandler.scala:373)\nat play.api.http.DefaultHttpErrorHandler.onServerError(HttpErrorHandler.scala:264)\nat play.core.server.AkkaHttp</p>\n</blockquote>\n<p>I have already checked that tcp/ip port 1433 is correctly available for database, and my ip is correctly setted to avoid firewall.</p>\n<p>Any suggestions?\nthanks</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"score":2,"creation_date":1637840247,"post_id":70110145,"comment_id":123935832,"body_markdown":"```((Integer) Integer.MIN_VALUE).compareTo(5)``` is ```-1```, but ```Integer.MIN_VALUE - 5``` is ```2147483643```.","body":"<code>((Integer) Integer.MIN_VALUE).compareTo(5)</code> is <code>-1</code>, but <code>Integer.MIN_VALUE - 5</code> is <code>2147483643</code>."},{"owner":{"account_id":13988494,"reputation":61,"user_id":11286731,"display_name":"Gloria1009"},"score":1,"creation_date":1637840424,"post_id":70110145,"comment_id":123935890,"body_markdown":"@zysaaa greate example - thank you!","body":"@zysaaa greate example - thank you!"},{"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"score":0,"creation_date":1637845723,"post_id":70110145,"comment_id":123937999,"body_markdown":"Then consider accept the current answer! I gave this example from his answer!","body":"Then consider accept the current answer! I gave this example from his answer!"}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1637839172,"creation_date":1637839172,"answer_id":70110184,"question_id":70110145,"body_markdown":"`b - a` can over- and underflow (imagine if `b` is already `Integer.MIN_VALUE`). Use [`Integer.compare(b, a)`][1] instead.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html#compare(int,int)","title":"Create maxHeap, difference between Collections.reverseOrder() and ((a, b) -&gt; b - a);","body":"<p><code>b - a</code> can over- and underflow (imagine if <code>b</code> is already <code>Integer.MIN_VALUE</code>). Use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html#compare(int,int)\" rel=\"noreferrer\"><code>Integer.compare(b, a)</code></a> instead.</p>\n"}],"owner":{"account_id":13988494,"reputation":61,"user_id":11286731,"display_name":"Gloria1009"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1637840322,"creation_date":1637838989,"question_id":70110145,"body_markdown":"I encountered an edge case in a leetcode problem, where when I use  `new PriorityQueue&lt;&gt;(Collections.reverseOrder()); ` it passes, but when I use `new PriorityQueue&lt;&gt;((a, b) -&gt; b - a);` the solution wasn&#39;t accepted.\r\n\r\nThe leetcode problem is 480. Sliding Window Median https://leetcode.com/problems/sliding-window-median/\r\n\r\nHere&#39;s the code:\r\n```java\r\nclass Solution {\r\n    public double[] medianSlidingWindow(int[] nums, int k) {\r\n        double[] res = new double[nums.length - k + 1];\r\n        PriorityQueue&lt;Integer&gt; left = new PriorityQueue&lt;&gt;(Collections.reverseOrder());\r\n      \t// This doesn&#39;t work:\r\n        //PriorityQueue&lt;Integer&gt; left = new PriorityQueue&lt;&gt;((a, b) -&gt; b - a);\r\n        PriorityQueue&lt;Integer&gt; right = new PriorityQueue&lt;&gt;();\r\n\r\n        for (int i = 0; i &lt; nums.length; i++) {\r\n            if (left.size() &lt;= right.size()) {\r\n                right.add(nums[i]);\r\n                left.add(right.remove());\r\n            } else {\r\n                left.add(nums[i]);\r\n                right.add(left.remove());\r\n            }\r\n            if (left.size() + right.size() == k) {\r\n                double median;\r\n                if (left.size() == right.size()) {\r\n                    median = (double)((long)left.peek() + (long)right.peek()) / 2;\r\n                } else {\r\n                    median = (double)left.peek();\r\n                }\r\n                int start = i - k + 1;\r\n                res[start] = median;\r\n                if (!left.remove(nums[start])) {\r\n                    right.remove(nums[start]);\r\n                }\r\n            }\r\n        }\r\n        return res;\r\n\r\n    }\r\n}\r\n```\r\n\r\nI thought the different approaches to create maxHeap are the same, I have no idea why it leads to different result since the edge case is tricky.\r\n\r\n","title":"Create maxHeap, difference between Collections.reverseOrder() and ((a, b) -&gt; b - a);","body":"<p>I encountered an edge case in a leetcode problem, where when I use  <code>new PriorityQueue&lt;&gt;(Collections.reverseOrder()); </code> it passes, but when I use <code>new PriorityQueue&lt;&gt;((a, b) -&gt; b - a);</code> the solution wasn't accepted.</p>\n<p>The leetcode problem is 480. Sliding Window Median <a href=\"https://leetcode.com/problems/sliding-window-median/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/sliding-window-median/</a></p>\n<p>Here's the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Solution {\n    public double[] medianSlidingWindow(int[] nums, int k) {\n        double[] res = new double[nums.length - k + 1];\n        PriorityQueue&lt;Integer&gt; left = new PriorityQueue&lt;&gt;(Collections.reverseOrder());\n        // This doesn't work:\n        //PriorityQueue&lt;Integer&gt; left = new PriorityQueue&lt;&gt;((a, b) -&gt; b - a);\n        PriorityQueue&lt;Integer&gt; right = new PriorityQueue&lt;&gt;();\n\n        for (int i = 0; i &lt; nums.length; i++) {\n            if (left.size() &lt;= right.size()) {\n                right.add(nums[i]);\n                left.add(right.remove());\n            } else {\n                left.add(nums[i]);\n                right.add(left.remove());\n            }\n            if (left.size() + right.size() == k) {\n                double median;\n                if (left.size() == right.size()) {\n                    median = (double)((long)left.peek() + (long)right.peek()) / 2;\n                } else {\n                    median = (double)left.peek();\n                }\n                int start = i - k + 1;\n                res[start] = median;\n                if (!left.remove(nums[start])) {\n                    right.remove(nums[start]);\n                }\n            }\n        }\n        return res;\n\n    }\n}\n</code></pre>\n<p>I thought the different approaches to create maxHeap are the same, I have no idea why it leads to different result since the edge case is tricky.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1637840253,"post_id":70110248,"comment_id":123935833,"body_markdown":"Note that the code you posted isn&#39;t actually valid Java code, which is weird, since you said it works. You&#39;re missing a return type for the `processDirectionArrow` method.","body":"Note that the code you posted isn&#39;t actually valid Java code, which is weird, since you said it works. You&#39;re missing a return type for the <code>processDirectionArrow</code> method."},{"owner":{"account_id":19516732,"reputation":49,"user_id":14279423,"display_name":"Weightlifting Without Limits"},"score":0,"creation_date":1637840367,"post_id":70110248,"comment_id":123935870,"body_markdown":"o yes, that is void. I forgot to add that","body":"o yes, that is void. I forgot to add that"}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637840294,"creation_date":1637840015,"answer_id":70110372,"question_id":70110248,"body_markdown":"`directionArrow.data.equals(&quot;U&quot;) &amp;&amp; !(directionMoved.equals(&quot;D&quot;))` can be translated roughly to\r\n\r\n&gt; &#39;if the user pressed &quot;U&quot; and the snake is not currently moving &quot;D&quot;&#39;.\r\n\r\nIn other words: the &quot;U&quot; button press will cause the snake to move up (which is the code *inside* the if-block, which I left out), but **only if** the snake isn&#39;t currently moving downwards.\r\n\r\nSo `directionMoved` is used to remember which direction the snake is currently moving in, so that we can consider that when the user next issues a direction-change command.\r\n\r\nOn a related note: since the *body* of each of those `if` statements is the same, you can combine them to a single `if` with a longer condition:\r\n\r\n```\r\nString userInput = directionArrow.data;\r\nif ((userInput.equals(&quot;U&quot;) &amp;&amp; !directionMoved.equals(&quot;D&quot;)) ||\r\n    (userInput.equals(&quot;R&quot;) &amp;&amp; !directionMoved.equals(&quot;L&quot;)) || \r\n    (userInput.equals(&quot;L&quot;) &amp;&amp; !directionMoved.equals(&quot;R&quot;)) || \r\n    (userInput.equals(&quot;D&quot;) &amp;&amp; !directionMoved.equals(&quot;U&quot;))) {\r\n    directionMoved = directionArrow.data;\r\n    processHeadDirectionCoordinate(directionMoved);\r\n}\r\n```","title":"Having some problems with reverse movement of my Snake","body":"<p><code>directionArrow.data.equals(&quot;U&quot;) &amp;&amp; !(directionMoved.equals(&quot;D&quot;))</code> can be translated roughly to</p>\n<blockquote>\n<p>'if the user pressed &quot;U&quot; and the snake is not currently moving &quot;D&quot;'.</p>\n</blockquote>\n<p>In other words: the &quot;U&quot; button press will cause the snake to move up (which is the code <em>inside</em> the if-block, which I left out), but <strong>only if</strong> the snake isn't currently moving downwards.</p>\n<p>So <code>directionMoved</code> is used to remember which direction the snake is currently moving in, so that we can consider that when the user next issues a direction-change command.</p>\n<p>On a related note: since the <em>body</em> of each of those <code>if</code> statements is the same, you can combine them to a single <code>if</code> with a longer condition:</p>\n<pre><code>String userInput = directionArrow.data;\nif ((userInput.equals(&quot;U&quot;) &amp;&amp; !directionMoved.equals(&quot;D&quot;)) ||\n    (userInput.equals(&quot;R&quot;) &amp;&amp; !directionMoved.equals(&quot;L&quot;)) || \n    (userInput.equals(&quot;L&quot;) &amp;&amp; !directionMoved.equals(&quot;R&quot;)) || \n    (userInput.equals(&quot;D&quot;) &amp;&amp; !directionMoved.equals(&quot;U&quot;))) {\n    directionMoved = directionArrow.data;\n    processHeadDirectionCoordinate(directionMoved);\n}\n</code></pre>\n"}],"owner":{"account_id":19516732,"reputation":49,"user_id":14279423,"display_name":"Weightlifting Without Limits"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1637840294,"creation_date":1637839490,"question_id":70110248,"body_markdown":"Over the summer I wrote some code for a snake game (which works), but I am going back through it to see if I can tweak the code slightly.\r\n\r\nThe piece of code is pasted below:\r\n\r\n\r\n\r\n  \r\n\r\n    public class Snake {\r\n            String directionMoved;\r\n        \r\n        \tSnake() {\r\n               directionMoved = &quot;R&quot;\r\n            }\r\n        \r\n            processDirectionArrow (Event directionArrow) {\r\n            \t\tif(directionArrow.data.equals(&quot;U&quot;) &amp;&amp; !(directionMoved.equals(&quot;D&quot;))) {\r\n            \t\t\tdirectionMoved = directionArrow.data;\r\n            \t\t\tprocessHeadDirectionCoordinate(directionMoved);\r\n            \t\t} else if(directionArrow.data.equals(&quot;R&quot;) &amp;&amp; !(directionMoved.equals(&quot;L&quot;))) {\r\n            \t\t\tdirectionMoved = directionArrow.data;\r\n            \t\t\tprocessHeadDirectionCoordinate(directionMoved);\r\n            \t\t} else if(directionArrow.data.equals(&quot;L&quot;) &amp;&amp; !(directionMoved.equals(&quot;R&quot;))) {\r\n            \t\t\tdirectionMoved = directionArrow.data;\r\n            \t\t\tprocessHeadDirectionCoordinate(directionMoved);\r\n            \t\t} else if(directionArrow.data.equals(&quot;D&quot;) &amp;&amp; !(directionMoved.equals(&quot;U&quot;))) {\r\n            \t\t\tdirectionMoved = directionArrow.data;\r\n            \t\t\tprocessHeadDirectionCoordinate(directionMoved);\r\n            \t\t}\r\n            \t}\r\n\r\nEssentially this piece of code shows that when e.g. I press the DOWN arrow on the keyboard, my snake moves down. But, also, if I accidentally press the UP arrow on my keyboard then the snake will not move back on itself and eat itself. \r\n\r\nThis piece of code works, but for some reason I cant really understand again the logic of why it works. I was wondering if you could guys could help here. \r\n\r\nWhen I remove directionMoved from my code (which is just a string), the code no longer works and the snake moves back on itself. But I am not sure again why this is so. Why in this case does directionMoved influence whether my snake moves back on itself or not? It is only directionArrow.data that actually gets the data from my keyboard.\r\n\r\nWas wondering if you guys could help me see the logic why this piece of code works when I include directionMoved as opposed to taking it away?","title":"Having some problems with reverse movement of my Snake","body":"<p>Over the summer I wrote some code for a snake game (which works), but I am going back through it to see if I can tweak the code slightly.</p>\n<p>The piece of code is pasted below:</p>\n<pre><code>public class Snake {\n        String directionMoved;\n    \n        Snake() {\n           directionMoved = &quot;R&quot;\n        }\n    \n        processDirectionArrow (Event directionArrow) {\n                if(directionArrow.data.equals(&quot;U&quot;) &amp;&amp; !(directionMoved.equals(&quot;D&quot;))) {\n                    directionMoved = directionArrow.data;\n                    processHeadDirectionCoordinate(directionMoved);\n                } else if(directionArrow.data.equals(&quot;R&quot;) &amp;&amp; !(directionMoved.equals(&quot;L&quot;))) {\n                    directionMoved = directionArrow.data;\n                    processHeadDirectionCoordinate(directionMoved);\n                } else if(directionArrow.data.equals(&quot;L&quot;) &amp;&amp; !(directionMoved.equals(&quot;R&quot;))) {\n                    directionMoved = directionArrow.data;\n                    processHeadDirectionCoordinate(directionMoved);\n                } else if(directionArrow.data.equals(&quot;D&quot;) &amp;&amp; !(directionMoved.equals(&quot;U&quot;))) {\n                    directionMoved = directionArrow.data;\n                    processHeadDirectionCoordinate(directionMoved);\n                }\n            }\n</code></pre>\n<p>Essentially this piece of code shows that when e.g. I press the DOWN arrow on the keyboard, my snake moves down. But, also, if I accidentally press the UP arrow on my keyboard then the snake will not move back on itself and eat itself.</p>\n<p>This piece of code works, but for some reason I cant really understand again the logic of why it works. I was wondering if you could guys could help here.</p>\n<p>When I remove directionMoved from my code (which is just a string), the code no longer works and the snake moves back on itself. But I am not sure again why this is so. Why in this case does directionMoved influence whether my snake moves back on itself or not? It is only directionArrow.data that actually gets the data from my keyboard.</p>\n<p>Was wondering if you guys could help me see the logic why this piece of code works when I include directionMoved as opposed to taking it away?</p>\n"},{"tags":["java","selenium","selenium-webdriver","webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1637839004,"post_id":70110085,"comment_id":123935370,"body_markdown":"Update the question with the exception you are seeing","body":"Update the question with the exception you are seeing"},{"owner":{"account_id":22204873,"reputation":25,"user_id":16444934,"display_name":"Giulia Fois"},"score":0,"creation_date":1637839517,"post_id":70110085,"comment_id":123935564,"body_markdown":"@DebanjanB I added it, thank you.","body":"@DebanjanB I added it, thank you."}],"owner":{"account_id":22204873,"reputation":25,"user_id":16444934,"display_name":"Giulia Fois"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1637839647,"answer_count":0,"score":1,"last_activity_date":1637840034,"creation_date":1637838710,"question_id":70110085,"body_markdown":"My code is the following:\r\n\r\n```\r\n    ChromeOptions options = new ChromeOptions();\r\n    options.addArguments(&quot;--headless&quot;);\r\n    WebDriver driver\r\n\r\n    try {\r\n       driver = new ChromeDriver(options); //THE EXCEPTION GETS THROWN HERE\r\n\r\n      // ...other code that doesn&#39;t get reached...\r\n    }\r\n    finally {\r\n      if(driver != null) {\r\n        logger.info(&quot;Quitting the driver...&quot;);\r\n        driver.quit();\r\n      }\r\n      else {\r\n        logger.info(&quot;Driver is null&quot;); //THIS GETS LOGGED\r\n      }\r\n    }\r\n```    \r\n\r\nAn exception gets launched because of some problems with google-chrome. The exception that gets launched is the following (I add it just for completeness, but my question isn&#39;t related to this exception in particular but to the behaviour of ChromeDriver):\r\n\r\n```    \r\norg.openqa.selenium.WebDriverException: unknown error: Chrome failed to start: crashed.\r\n  (unknown error: DevToolsActivePort file doesn&#39;t exist)\r\n  (The process started from chrome location /usr/bin/google-chrome is no longer running, so ChromeDriver is assuming that Chrome has crashed.)\r\nBuild info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11-14T08:17:03&#39;\r\nSystem info: host: &#39;localhost.localdomain&#39;, ip: &#39;127.0.0.1&#39;, os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;3.10.0-1160.45.1.el7.x86_64&#39;, java.version: &#39;11.0.12&#39;\r\nDriver info: driver.version: ChromeDriver\r\nremote stacktrace: #0 0x563587e52ee3 &lt;unknown&gt;\r\n#1 0x563587920608 &lt;unknown&gt;\r\n#2 0x5635879438ef &lt;unknown&gt;\r\n#3 0x56358793f46f &lt;unknown&gt;\r\n#4 0x563587979f45 &lt;unknown&gt;\r\n#5 0x563587974163 &lt;unknown&gt;\r\n#6 0x563587949bfc &lt;unknown&gt;\r\n#7 0x56358794ac05 &lt;unknown&gt;\r\n#8 0x563587e84baa &lt;unknown&gt;\r\n#9 0x563587e9a651 &lt;unknown&gt;\r\n#10 0x563587e85b05 &lt;unknown&gt;\r\n#11 0x563587e9ba68 &lt;unknown&gt;\r\n#12 0x563587e7a05f &lt;unknown&gt;\r\n#13 0x563587eb6818 &lt;unknown&gt;\r\n#14 0x563587eb6998 &lt;unknown&gt;\r\n#15 0x563587ed1eed &lt;unknown&gt;\r\n#16 0x7f7b4b962ea5 &lt;unknown&gt;\r\n\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n\tat org.openqa.selenium.remote.W3CHandshakeResponse.lambda$errorHandler$0(W3CHandshakeResponse.java:62)\r\n\tat org.openqa.selenium.remote.HandshakeResponse.lambda$getResponseFunction$0(HandshakeResponse.java:30)\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.lambda$createSession$0(ProtocolHandshake.java:126)\r\n```    \r\n\r\nThe problem is that when the code reaches the finally block the driver.quit() doesn&#39;t get executed, because the driver object is null. Against my expectations, the chromedriver process runs (I checked with ps -aux | grep chromedriver). I wouldn&#39;t expect it honestly, because the driver being null suggests me that the process failed to be created.\r\nHow do I handle this situation? Do I have to make my application kill the chromedriver process?\r\n\r\n","title":"chromedriver process runs but ChromeDriver object is null","body":"<p>My code is the following:</p>\n<pre><code>    ChromeOptions options = new ChromeOptions();\n    options.addArguments(&quot;--headless&quot;);\n    WebDriver driver\n\n    try {\n       driver = new ChromeDriver(options); //THE EXCEPTION GETS THROWN HERE\n\n      // ...other code that doesn't get reached...\n    }\n    finally {\n      if(driver != null) {\n        logger.info(&quot;Quitting the driver...&quot;);\n        driver.quit();\n      }\n      else {\n        logger.info(&quot;Driver is null&quot;); //THIS GETS LOGGED\n      }\n    }\n</code></pre>\n<p>An exception gets launched because of some problems with google-chrome. The exception that gets launched is the following (I add it just for completeness, but my question isn't related to this exception in particular but to the behaviour of ChromeDriver):</p>\n<pre><code>org.openqa.selenium.WebDriverException: unknown error: Chrome failed to start: crashed.\n  (unknown error: DevToolsActivePort file doesn't exist)\n  (The process started from chrome location /usr/bin/google-chrome is no longer running, so ChromeDriver is assuming that Chrome has crashed.)\nBuild info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:17:03'\nSystem info: host: 'localhost.localdomain', ip: '127.0.0.1', os.name: 'Linux', os.arch: 'amd64', os.version: '3.10.0-1160.45.1.el7.x86_64', java.version: '11.0.12'\nDriver info: driver.version: ChromeDriver\nremote stacktrace: #0 0x563587e52ee3 &lt;unknown&gt;\n#1 0x563587920608 &lt;unknown&gt;\n#2 0x5635879438ef &lt;unknown&gt;\n#3 0x56358793f46f &lt;unknown&gt;\n#4 0x563587979f45 &lt;unknown&gt;\n#5 0x563587974163 &lt;unknown&gt;\n#6 0x563587949bfc &lt;unknown&gt;\n#7 0x56358794ac05 &lt;unknown&gt;\n#8 0x563587e84baa &lt;unknown&gt;\n#9 0x563587e9a651 &lt;unknown&gt;\n#10 0x563587e85b05 &lt;unknown&gt;\n#11 0x563587e9ba68 &lt;unknown&gt;\n#12 0x563587e7a05f &lt;unknown&gt;\n#13 0x563587eb6818 &lt;unknown&gt;\n#14 0x563587eb6998 &lt;unknown&gt;\n#15 0x563587ed1eed &lt;unknown&gt;\n#16 0x7f7b4b962ea5 &lt;unknown&gt;\n\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n    at org.openqa.selenium.remote.W3CHandshakeResponse.lambda$errorHandler$0(W3CHandshakeResponse.java:62)\n    at org.openqa.selenium.remote.HandshakeResponse.lambda$getResponseFunction$0(HandshakeResponse.java:30)\n    at org.openqa.selenium.remote.ProtocolHandshake.lambda$createSession$0(ProtocolHandshake.java:126)\n</code></pre>\n<p>The problem is that when the code reaches the finally block the driver.quit() doesn't get executed, because the driver object is null. Against my expectations, the chromedriver process runs (I checked with ps -aux | grep chromedriver). I wouldn't expect it honestly, because the driver being null suggests me that the process failed to be created.\nHow do I handle this situation? Do I have to make my application kill the chromedriver process?</p>\n"},{"tags":["java","amazon-web-services","spring-boot"],"comments":[{"owner":{"account_id":1912742,"reputation":15070,"user_id":1726083,"display_name":"erik258"},"score":1,"creation_date":1637776925,"post_id":70100862,"comment_id":123918795,"body_markdown":"Switching between multiple sets of AWS credentials is exactly what the `AWS_PROFILE` environment variable does.  https://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/credentials.html  This will work with the default credential provider chain.","body":"Switching between multiple sets of AWS credentials is exactly what the <code>AWS_PROFILE</code> environment variable does.  <a href=\"https://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/credentials.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/sdk-for-java/v1/developer-guide/&hellip;</a>  This will work with the default credential provider chain."},{"owner":{"account_id":5940172,"reputation":3457,"user_id":4671717,"accept_rate":25,"display_name":"Chris Maggiulli"},"score":0,"creation_date":1637777066,"post_id":70100862,"comment_id":123918848,"body_markdown":"I second @DanielFarrell suggestion but also this is also a use case for Spring Boot profiles.  If you don&#39;t want to use AWS_PROFILES you can create a variety of `application-${profile}.properties` files with differing AWS keys then use -Dspring.profiles.active=${profile} when running your jar.  They should not be in the same properties files","body":"I second @DanielFarrell suggestion but also this is also a use case for Spring Boot profiles.  If you don&#39;t want to use AWS_PROFILES you can create a variety of <code>application-${profile}.properties</code> files with differing AWS keys then use -Dspring.profiles.active=${profile} when running your jar.  They should not be in the same properties files"},{"owner":{"account_id":8411933,"reputation":2532,"user_id":6313539,"display_name":"Sweta Sharma"},"score":0,"creation_date":1637777326,"post_id":70100862,"comment_id":123918967,"body_markdown":"@ChrisMaggiulli Agreed. However, the requirement is they have to be in the same properties file.","body":"@ChrisMaggiulli Agreed. However, the requirement is they have to be in the same properties file."},{"owner":{"account_id":5940172,"reputation":3457,"user_id":4671717,"accept_rate":25,"display_name":"Chris Maggiulli"},"score":0,"creation_date":1637777644,"post_id":70100862,"comment_id":123919086,"body_markdown":"Thats a non-requirement ( IE its not telling you what needs to be, but how ).  If you turn it into a yaml file I think it can technically be &quot;one&quot; file - but again that&#39;s not how you would accomplish this in spring boot with a properties files.  Spring&#39;s solution to this is the use of Spring Profile and that requires multiple properties files ( or can be a single yaml file I believe )","body":"Thats a non-requirement ( IE its not telling you what needs to be, but how ).  If you turn it into a yaml file I think it can technically be &quot;one&quot; file - but again that&#39;s not how you would accomplish this in spring boot with a properties files.  Spring&#39;s solution to this is the use of Spring Profile and that requires multiple properties files ( or can be a single yaml file I believe )"},{"owner":{"account_id":8411933,"reputation":2532,"user_id":6313539,"display_name":"Sweta Sharma"},"score":0,"creation_date":1637777853,"post_id":70100862,"comment_id":123919156,"body_markdown":"Is there any way I can override @bean values depending on some condition? ex. If x picks dev credentials if y picks test credentials in spring boot","body":"Is there any way I can override @bean values depending on some condition? ex. If x picks dev credentials if y picks test credentials in spring boot"},{"owner":{"account_id":5940172,"reputation":3457,"user_id":4671717,"accept_rate":25,"display_name":"Chris Maggiulli"},"score":0,"creation_date":1637777909,"post_id":70100862,"comment_id":123919174,"body_markdown":"@SwetaSharma how do you want x to pick the different values?  Via a command line argument or sometime after the application is bootstrapped?","body":"@SwetaSharma how do you want x to pick the different values?  Via a command line argument or sometime after the application is bootstrapped?"},{"owner":{"account_id":8411933,"reputation":2532,"user_id":6313539,"display_name":"Sweta Sharma"},"score":0,"creation_date":1637777950,"post_id":70100862,"comment_id":123919186,"body_markdown":"sometime after the application is bootstrapped.","body":"sometime after the application is bootstrapped."},{"owner":{"account_id":8411933,"reputation":2532,"user_id":6313539,"display_name":"Sweta Sharma"},"score":0,"creation_date":1637810066,"post_id":70100862,"comment_id":123927236,"body_markdown":"@DanielFarrell How can I switch profile after the application is bootstrapped?","body":"@DanielFarrell How can I switch profile after the application is bootstrapped?"}],"owner":{"account_id":8411933,"reputation":2532,"user_id":6313539,"display_name":"Sweta Sharma"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":619,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637839748,"creation_date":1637776628,"question_id":70100862,"body_markdown":"I already have a config file which is as below:\r\n\r\n```\r\n@Configuration\r\npublic class CloudConfig {\r\n\r\n\t@Value(&quot;${aws.region}&quot;)\r\n\tprivate String awsRegion;\r\n\t\r\n\t@Value(&quot;${aws.accessKeyId}&quot;)\r\n\tprivate String awsAccessKeyId;\r\n\t\r\n\t@Value(&quot;${aws.awsSecretKeyId}&quot;)\r\n\tprivate String awsSecretKeyId;\r\n\r\n\t@Bean\r\n\tpublic AmazonSNS amazonSnsClient() {\r\n\t\treturn AmazonSNSClientBuilder.standard().withRegion(awsRegion).withCredentials(AWSCredentials()).build();\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic AWSCredentialsProvider aWSCredentials() {\t\t\r\n\t\treturn new AWSStaticCredentialsProvider(new BasicAWSCredentials(awsAccessKeyId, awsSecretKeyId));\r\n\t}\r\n}\r\n```\r\n\r\nI have an application properties file that has AWS properties of multiple environments in one file\r\n```\r\n#DEV\r\nabc.env[0].aws.accessKeyId=xaw\r\nabc.env[0].aws.awsSecretKeyId=yrt\r\n\r\n#TEST\r\nabc.env[1].aws.accessKeyId=abc\r\nabc.env[1].aws.awsSecretKeyId=def\r\n\r\n```\r\n\r\nBased on some parameters I need to pick the AWS Credentials from a properties file\r\n\r\nIs there any way I can override @bean values depending on some condition? ex. If x picks dev credentials if y picks test credentials in spring boot \r\n\r\nSince I already have a config file, I&#39;m not sure How can I override the @Bean in config so it can pick up the correct AWS credentials from the property file based on parameters.\r\n\r\n**Note:** The requirement is that the properties of Dev and Test has to be in one file\r\n\r\nCan someone please help?\r\n\r\nThank you for your time.","title":"Java - Override @bean function to pick AWS Credentials from properties file","body":"<p>I already have a config file which is as below:</p>\n<pre><code>@Configuration\npublic class CloudConfig {\n\n    @Value(&quot;${aws.region}&quot;)\n    private String awsRegion;\n    \n    @Value(&quot;${aws.accessKeyId}&quot;)\n    private String awsAccessKeyId;\n    \n    @Value(&quot;${aws.awsSecretKeyId}&quot;)\n    private String awsSecretKeyId;\n\n    @Bean\n    public AmazonSNS amazonSnsClient() {\n        return AmazonSNSClientBuilder.standard().withRegion(awsRegion).withCredentials(AWSCredentials()).build();\n    }\n    \n    @Bean\n    public AWSCredentialsProvider aWSCredentials() {        \n        return new AWSStaticCredentialsProvider(new BasicAWSCredentials(awsAccessKeyId, awsSecretKeyId));\n    }\n}\n</code></pre>\n<p>I have an application properties file that has AWS properties of multiple environments in one file</p>\n<pre><code>#DEV\nabc.env[0].aws.accessKeyId=xaw\nabc.env[0].aws.awsSecretKeyId=yrt\n\n#TEST\nabc.env[1].aws.accessKeyId=abc\nabc.env[1].aws.awsSecretKeyId=def\n\n</code></pre>\n<p>Based on some parameters I need to pick the AWS Credentials from a properties file</p>\n<p>Is there any way I can override @bean values depending on some condition? ex. If x picks dev credentials if y picks test credentials in spring boot</p>\n<p>Since I already have a config file, I'm not sure How can I override the @Bean in config so it can pick up the correct AWS credentials from the property file based on parameters.</p>\n<p><strong>Note:</strong> The requirement is that the properties of Dev and Test has to be in one file</p>\n<p>Can someone please help?</p>\n<p>Thank you for your time.</p>\n"},{"tags":["java","arrays","for-loop","while-loop"],"comments":[{"owner":{"account_id":5321025,"reputation":17886,"user_id":4253229,"accept_rate":83,"display_name":"Eugene Sh."},"score":4,"creation_date":1637790855,"post_id":70103379,"comment_id":123923476,"body_markdown":"In the sorted array you only need to compare the adjacent elements. Only one loop is needed.","body":"In the sorted array you only need to compare the adjacent elements. Only one loop is needed."},{"owner":{"display_name":"user2711811"},"score":2,"creation_date":1637791031,"post_id":70103379,"comment_id":123923523,"body_markdown":"Please clarify the title: duplicates and &quot;pairs&quot; are not the same thing.  Also how many pairs does: `1 2 2 2 3&#39; have?","body":"Please clarify the title: duplicates and &quot;pairs&quot; are not the same thing.  Also how many pairs does: `1 2 2 2 3&#39; have?"},{"owner":{"account_id":18375813,"reputation":15,"user_id":13384934,"display_name":"Sahand"},"score":0,"creation_date":1637791373,"post_id":70103379,"comment_id":123923628,"body_markdown":"@Andy in your example it have 3 pairs index [1] [2] , [1] [3], [2][3]","body":"@Andy in your example it have 3 pairs index [1] [2] , [1] [3], [2][3]"}],"answers":[{"tags":[],"owner":{"account_id":10757620,"reputation":1,"user_id":9343973,"display_name":"Marc Renken"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637792083,"creation_date":1637792083,"answer_id":70103574,"question_id":70103379,"body_markdown":"Well, you don&#39;t have to compare every element with every other (what 2 nested for-loops do), but only the neighbouring ones...\r\n\r\n    int paires = 0;\r\n    for(int i = 0; i &lt; arr.lenght - 1; i++) {\r\n       if(arr[i] == arr[i + 1]) paires++; // Test if the i-th element is equal to the i+1-th element and increasing counter if so.\r\n    }\r\n\r\nNote that for-loop only runs up to the n - 1 element, otherwise there will be a null-pointer exeption ","title":"Finding Duplicate numbers in a sorted Array","body":"<p>Well, you don't have to compare every element with every other (what 2 nested for-loops do), but only the neighbouring ones...</p>\n<pre><code>int paires = 0;\nfor(int i = 0; i &lt; arr.lenght - 1; i++) {\n   if(arr[i] == arr[i + 1]) paires++; // Test if the i-th element is equal to the i+1-th element and increasing counter if so.\n}\n</code></pre>\n<p>Note that for-loop only runs up to the n - 1 element, otherwise there will be a null-pointer exeption</p>\n"},{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637797056,"creation_date":1637796714,"answer_id":70104165,"question_id":70103379,"body_markdown":"Try this.\r\n\r\n    static int combination(int start, int end) {\r\n        int size = end - start;\r\n        return size * (size - 1) / 2;\r\n    }\r\n\r\n    static int countDuplicatedNumberPairs(int[] arr) {\r\n        int length = arr.length, count = 0;\r\n        if (length &lt;= 0) return count;\r\n        int start = 0, previous = arr[0];\r\n        for (int i = 1; i &lt; length; ++i)\r\n            if (arr[i] != previous) {\r\n                count += combination(start, i);\r\n                start = i;\r\n                previous = arr[i];\r\n            }\r\n        count += combination(start, length);\r\n        return count;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        int[] arr =  {1, 1, 1, 2, 3, 3} ;\r\n        System.out.println(countDuplicatedNumberPairs(arr));\r\n    }\r\n\r\noutput:\r\n\r\n    4","title":"Finding Duplicate numbers in a sorted Array","body":"<p>Try this.</p>\n<pre><code>static int combination(int start, int end) {\n    int size = end - start;\n    return size * (size - 1) / 2;\n}\n\nstatic int countDuplicatedNumberPairs(int[] arr) {\n    int length = arr.length, count = 0;\n    if (length &lt;= 0) return count;\n    int start = 0, previous = arr[0];\n    for (int i = 1; i &lt; length; ++i)\n        if (arr[i] != previous) {\n            count += combination(start, i);\n            start = i;\n            previous = arr[i];\n        }\n    count += combination(start, length);\n    return count;\n}\n\npublic static void main(String[] args) {\n    int[] arr =  {1, 1, 1, 2, 3, 3} ;\n    System.out.println(countDuplicatedNumberPairs(arr));\n}\n</code></pre>\n<p>output:</p>\n<pre><code>4\n</code></pre>\n"},{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637839110,"creation_date":1637837802,"answer_id":70109904,"question_id":70103379,"body_markdown":"Well, you need to walk over the array and count the consecutive identical numbers. If you encounter a different number, then you need to calculate the number of pairs for the last seen number. For each different number, you need to do this.\r\n\r\nIn the image below, you see that there are three *subsequences* of identical numbers.\r\n\r\n```none\r\n     a      b    c\r\n  ┌──┴──┐  ┌┴─┐  │\r\n  │     │  │  │  │\r\n[ 1, 1, 1, 2, 2, 3 ]\r\n```\r\n\r\nLet&#39;s first define a method to calculate the number of pairs for a specific count. Its formula is always  \r\n\r\n⠀⠀⠀⠀⠀⠀&#119909;&#178; − &#119909;  \r\n&#119891;(&#119909;)⠀=⠀─────  \r\n⠀⠀⠀⠀⠀⠀⠀⠀2\r\n\r\n```java\r\nint countPairs(int number) {\r\n    return number * (number - 1) / 2;\r\n}\r\n```\r\n\r\nThen let&#39;s write the method to walk over the array. I have added comments within the code to explain what happens:\r\n\r\n```java\r\nint countPairs(int[] array) {\r\n    // If our array is empty or contains a single element, then there are no\r\n    // pairs, obviously\r\n    if (array.length &lt; 2) {\r\n        return 0;\r\n    }\r\n\r\n    // We keep track of the total number of pairs here\r\n    int totalPairs = 0;\r\n\r\n    // We also keep track of the number of consecutive identical numbers.\r\n    int consecutive = 1;\r\n\r\n    // We begin our index with 1, since we need to compare it to the previous one\r\n    // (and we don&#39;t want an ArrayIndexOutOfBoundsException to be thrown)\r\n    for (int i = 1; i &lt; array.length; i++) {\r\n        if (array[i] == array[i - 1]) {\r\n            // If the encountered number is the same as the previous one,\r\n            // then increment the subsequence counter\r\n            consecutive++;\r\n        }\r\n        else {\r\n            // If the number is different than the previous one, then a new subsequence\r\n            // has started. We need to process the previous subsequence. Calculate the\r\n            // number of pairs, add it to the result, and then reset `consecutive`\r\n            totalPairs += countPairs(consecutive);\r\n            consecutive = 1;\r\n        }\r\n    }\r\n    // At last, process the last sequence\r\n    totalPairs += countPairs(consecutive);\r\n    return totalPairs;\r\n```","title":"Finding Duplicate numbers in a sorted Array","body":"<p>Well, you need to walk over the array and count the consecutive identical numbers. If you encounter a different number, then you need to calculate the number of pairs for the last seen number. For each different number, you need to do this.</p>\n<p>In the image below, you see that there are three <em>subsequences</em> of identical numbers.</p>\n<pre class=\"lang-none prettyprint-override\"><code>     a      b    c\n  ┌──┴──┐  ┌┴─┐  │\n  │     │  │  │  │\n[ 1, 1, 1, 2, 2, 3 ]\n</code></pre>\n<p>Let's first define a method to calculate the number of pairs for a specific count. Its formula is always</p>\n<p>⠀⠀⠀⠀⠀⠀𝑥² − 𝑥<br />\n𝑓(𝑥)⠀=⠀─────<br />\n⠀⠀⠀⠀⠀⠀⠀⠀2</p>\n<pre class=\"lang-java prettyprint-override\"><code>int countPairs(int number) {\n    return number * (number - 1) / 2;\n}\n</code></pre>\n<p>Then let's write the method to walk over the array. I have added comments within the code to explain what happens:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int countPairs(int[] array) {\n    // If our array is empty or contains a single element, then there are no\n    // pairs, obviously\n    if (array.length &lt; 2) {\n        return 0;\n    }\n\n    // We keep track of the total number of pairs here\n    int totalPairs = 0;\n\n    // We also keep track of the number of consecutive identical numbers.\n    int consecutive = 1;\n\n    // We begin our index with 1, since we need to compare it to the previous one\n    // (and we don't want an ArrayIndexOutOfBoundsException to be thrown)\n    for (int i = 1; i &lt; array.length; i++) {\n        if (array[i] == array[i - 1]) {\n            // If the encountered number is the same as the previous one,\n            // then increment the subsequence counter\n            consecutive++;\n        }\n        else {\n            // If the number is different than the previous one, then a new subsequence\n            // has started. We need to process the previous subsequence. Calculate the\n            // number of pairs, add it to the result, and then reset `consecutive`\n            totalPairs += countPairs(consecutive);\n            consecutive = 1;\n        }\n    }\n    // At last, process the last sequence\n    totalPairs += countPairs(consecutive);\n    return totalPairs;\n</code></pre>\n"}],"owner":{"account_id":18375813,"reputation":15,"user_id":13384934,"display_name":"Sahand"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":278,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70109904,"answer_count":3,"score":0,"last_activity_date":1637839110,"creation_date":1637790717,"question_id":70103379,"body_markdown":"I want to know if there is a any way to find out how many pairs is in a sorted array \r\nThe easiest way is using two for loop \r\n\r\n     for (int i = 0; i &lt; arr.length; i++) {\r\n            for (int j = i + 1; j &lt; arr.length; j++) {\r\n                if (arr[i] == arr[j])\r\n\r\nBut the point is this two for loops works even in unsorted array\r\nif our array is sorted is there any way to find the pairs with only one for or while loop?\r\nexample can be {1, 1, 1, 2, 3, 3} it have 4 pairs [0][1], [0][2], [1][2], [4][5]","title":"Finding Duplicate numbers in a sorted Array","body":"<p>I want to know if there is a any way to find out how many pairs is in a sorted array\nThe easiest way is using two for loop</p>\n<pre><code> for (int i = 0; i &lt; arr.length; i++) {\n        for (int j = i + 1; j &lt; arr.length; j++) {\n            if (arr[i] == arr[j])\n</code></pre>\n<p>But the point is this two for loops works even in unsorted array\nif our array is sorted is there any way to find the pairs with only one for or while loop?\nexample can be {1, 1, 1, 2, 3, 3} it have 4 pairs [0][1], [0][2], [1][2], [4][5]</p>\n"},{"tags":["java","spring","spring-boot","gradle","gradlew"],"comments":[{"owner":{"account_id":1884162,"reputation":7056,"user_id":1703730,"display_name":"Bj&#248;rn Vester"},"score":3,"creation_date":1618383336,"post_id":67082576,"comment_id":118581525,"body_markdown":"Are you using the third-party [apt plugin](https://github.com/tbroyer/gradle-apt-plugin)? If so, you probably shouldn&#39;t - it&#39;s obsolete.","body":"Are you using the third-party <a href=\"https://github.com/tbroyer/gradle-apt-plugin\" rel=\"nofollow noreferrer\">apt plugin</a>? If so, you probably shouldn&#39;t - it&#39;s obsolete."},{"owner":{"account_id":2885294,"reputation":587,"user_id":2475359,"accept_rate":57,"display_name":"Clawdidr"},"score":1,"creation_date":1618427528,"post_id":67082576,"comment_id":118601186,"body_markdown":"@Bj&#248;rnVester, you were right. That was the issue. I was using an old/deprecated plugin (which I removed). If you want you can put it as answer and I will put it as solution.","body":"@Bj&#248;rnVester, you were right. That was the issue. I was using an old/deprecated plugin (which I removed). If you want you can put it as answer and I will put it as solution."}],"answers":[{"tags":[],"owner":{"account_id":2561,"reputation":1046,"user_id":3574,"accept_rate":100,"display_name":"Karsten Silz"},"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1618509119,"creation_date":1618509119,"answer_id":67113596,"question_id":67082576,"body_markdown":"For anybody with the same issue: As noted by [Bj&#248;rn][1], the apt plugin was the culprit in my Gradle build file. I removed the generic one (`id &quot;net.ltgt.apt&quot;`) and the IntelliJ one (`id &quot;net.ltgt.apt-idea&quot;`), and my build file worked again.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/1703730/bj%C3%B8rn-vester","title":"Type &#39;JavaCompile&#39; property &#39;options.compilerArgumentProviders.apt$0.name&#39; is missing an input or output annotation. error after upgrading to Gradle 7","body":"<p>For anybody with the same issue: As noted by <a href=\"https://stackoverflow.com/users/1703730/bj%C3%B8rn-vester\">Bjørn</a>, the apt plugin was the culprit in my Gradle build file. I removed the generic one (<code>id &quot;net.ltgt.apt&quot;</code>) and the IntelliJ one (<code>id &quot;net.ltgt.apt-idea&quot;</code>), and my build file worked again.</p>\n"},{"tags":[],"owner":{"account_id":5935285,"reputation":1331,"user_id":4668505,"accept_rate":100,"display_name":"Tim Malich"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1629121682,"creation_date":1629121682,"answer_id":68803931,"question_id":67082576,"body_markdown":"Just drop all of the net.ltgt.apt dependencies. You will not need it anymore because, it&#39;s features are now available natively in Gradle.\r\n\r\nMore details:\r\nFrom the plugin README.md (https://github.com/tbroyer/gradle-apt-plugin#readme)\r\n\r\n\r\n    The goal of this plugin was to eventually no longer be needed, being superseded by built-in features. This has become a reality with Gradle 5.2 and IntelliJ IDEA 2019.1. tl;dr: this plugin is obsolete, don&#39;t use it. If you&#39;re using Eclipse though, continue reading.\r\n    \r\n    It originally did a few things to make it easier/safer to use Java annotation processors in a Gradle build. Those things are now available natively in Gradle, so what&#39;s this plugin about?\r\n    \r\n    If you use older versions of Gradle (pre-4.6), you can still benefit from those features:\r\n    \r\n        it ensures the presence of configurations for your compile-time only dependencies (annotations, generally) and annotation processors, consistently across all supported Gradle versions;\r\n        automatically configures the corresponding JavaCompile and GroovyCompile tasks to make use of these configurations, when the java or groovy plugin is applied.\r\n    \r\n    With recent versions of Gradle (between 4.6 and 5.1), this plugin will actually only:\r\n    \r\n        add some DSL to configure annotation processors; it is however recommended to directly configure the tasks&#39; options.compilerArgs;\r\n        backport the sourceSet.output.generatedSourcesDirs Gradle 5.2 API;\r\n        configure JavaCompile and GroovyCompile tasks&#39; options.annotationProcessorGeneratedSourcesDirectory with a sane default value so you can see the generated sources in your IDE and for debugging, and avoid shipping them in your JARs.\r\n\r\n","title":"Type &#39;JavaCompile&#39; property &#39;options.compilerArgumentProviders.apt$0.name&#39; is missing an input or output annotation. error after upgrading to Gradle 7","body":"<p>Just drop all of the net.ltgt.apt dependencies. You will not need it anymore because, it's features are now available natively in Gradle.</p>\n<p>More details:\nFrom the plugin README.md (<a href=\"https://github.com/tbroyer/gradle-apt-plugin#readme\" rel=\"noreferrer\">https://github.com/tbroyer/gradle-apt-plugin#readme</a>)</p>\n<pre><code>The goal of this plugin was to eventually no longer be needed, being superseded by built-in features. This has become a reality with Gradle 5.2 and IntelliJ IDEA 2019.1. tl;dr: this plugin is obsolete, don't use it. If you're using Eclipse though, continue reading.\n\nIt originally did a few things to make it easier/safer to use Java annotation processors in a Gradle build. Those things are now available natively in Gradle, so what's this plugin about?\n\nIf you use older versions of Gradle (pre-4.6), you can still benefit from those features:\n\n    it ensures the presence of configurations for your compile-time only dependencies (annotations, generally) and annotation processors, consistently across all supported Gradle versions;\n    automatically configures the corresponding JavaCompile and GroovyCompile tasks to make use of these configurations, when the java or groovy plugin is applied.\n\nWith recent versions of Gradle (between 4.6 and 5.1), this plugin will actually only:\n\n    add some DSL to configure annotation processors; it is however recommended to directly configure the tasks' options.compilerArgs;\n    backport the sourceSet.output.generatedSourcesDirs Gradle 5.2 API;\n    configure JavaCompile and GroovyCompile tasks' options.annotationProcessorGeneratedSourcesDirectory with a sane default value so you can see the generated sources in your IDE and for debugging, and avoid shipping them in your JARs.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10463908,"reputation":1211,"user_id":7785738,"display_name":"Artem Ptushkin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1637838769,"creation_date":1637838769,"answer_id":70110098,"question_id":67082576,"body_markdown":"For Gradle `7.2.*` and Intellij Idea just get rid from `net.ltgt.apt` or `net.ltgt.apt-idea`, see for more https://github.com/tbroyer/gradle-apt-plugin\r\n\r\nI had `apply plugin: &#39;net.ltgt.apt-idea&#39;` and got this error","title":"Type &#39;JavaCompile&#39; property &#39;options.compilerArgumentProviders.apt$0.name&#39; is missing an input or output annotation. error after upgrading to Gradle 7","body":"<p>For Gradle <code>7.2.*</code> and Intellij Idea just get rid from <code>net.ltgt.apt</code> or <code>net.ltgt.apt-idea</code>, see for more <a href=\"https://github.com/tbroyer/gradle-apt-plugin\" rel=\"nofollow noreferrer\">https://github.com/tbroyer/gradle-apt-plugin</a></p>\n<p>I had <code>apply plugin: 'net.ltgt.apt-idea'</code> and got this error</p>\n"}],"owner":{"account_id":2885294,"reputation":587,"user_id":2475359,"accept_rate":57,"display_name":"Clawdidr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12075,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":67113596,"answer_count":3,"score":24,"last_activity_date":1637838769,"creation_date":1618348987,"question_id":67082576,"body_markdown":"After upgrading to Gradle 7.0 and making a build, I&#39;m getting following failure:\r\n\r\n\r\n    &gt; Task :compileJava FAILED\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Some problems were found with the configuration of task &#39;:compileJava&#39; (type &#39;JavaCompile&#39;).\r\n      - Type &#39;JavaCompile&#39; property &#39;options.compilerArgumentProviders.apt$0.name&#39; is missing an input or output annotation.\r\n        \r\n        Reason: A property without annotation isn&#39;t considered during up-to-date checking.\r\n        \r\n        Possible solutions:\r\n          1. Add an input or output annotation.\r\n          2. Mark it as @Internal.\r\n        \r\n        Please refer to https://docs.gradle.org/7.0/userguide/validation_problems.html#missing_annotation for more details about this problem.\r\n      - Type &#39;JavaCompile&#39; property &#39;options.compilerArgumentProviders.apt$0.publicType&#39; is missing an input or output annotation.\r\n        \r\n        Reason: A property without annotation isn&#39;t considered during up-to-date checking.\r\n        \r\n        Possible solutions:\r\n          1. Add an input or output annotation.\r\n          2. Mark it as @Internal.\r\n        \r\n        Please refer to https://docs.gradle.org/7.0/userguide/validation_problems.html#missing_annotation for more details about this problem.\r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\nI tried with `--stacktrace` but got no help from it.\r\nThing here is that I&#39;m not sure where to look in order to solve this as it doesn&#39;t mention any line in `build.gradle` file or some other hint as to where to look.","title":"Type &#39;JavaCompile&#39; property &#39;options.compilerArgumentProviders.apt$0.name&#39; is missing an input or output annotation. error after upgrading to Gradle 7","body":"<p>After upgrading to Gradle 7.0 and making a build, I'm getting following failure:</p>\n<pre><code>&gt; Task :compileJava FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nSome problems were found with the configuration of task ':compileJava' (type 'JavaCompile').\n  - Type 'JavaCompile' property 'options.compilerArgumentProviders.apt$0.name' is missing an input or output annotation.\n    \n    Reason: A property without annotation isn't considered during up-to-date checking.\n    \n    Possible solutions:\n      1. Add an input or output annotation.\n      2. Mark it as @Internal.\n    \n    Please refer to https://docs.gradle.org/7.0/userguide/validation_problems.html#missing_annotation for more details about this problem.\n  - Type 'JavaCompile' property 'options.compilerArgumentProviders.apt$0.publicType' is missing an input or output annotation.\n    \n    Reason: A property without annotation isn't considered during up-to-date checking.\n    \n    Possible solutions:\n      1. Add an input or output annotation.\n      2. Mark it as @Internal.\n    \n    Please refer to https://docs.gradle.org/7.0/userguide/validation_problems.html#missing_annotation for more details about this problem.\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n</code></pre>\n<p>I tried with <code>--stacktrace</code> but got no help from it.\nThing here is that I'm not sure where to look in order to solve this as it doesn't mention any line in <code>build.gradle</code> file or some other hint as to where to look.</p>\n"},{"tags":["java","arrays","foreach","equals","arrayindexoutofboundsexception"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1637834052,"post_id":70108920,"comment_id":123933365,"body_markdown":"You could of course use `Arrays.equals`.","body":"You could of course use <code>Arrays.equals</code>."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1637834110,"post_id":70108920,"comment_id":123933401,"body_markdown":"[What is a debugger and how can it help me diagnose problems?](https://stackoverflow.com/q/25385173)","body":"<a href=\"https://stackoverflow.com/q/25385173\">What is a debugger and how can it help me diagnose problems?</a>"},{"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"score":2,"creation_date":1637834167,"post_id":70108920,"comment_id":123933430,"body_markdown":"You have a wrong understanding of the usage of ```for (int i:a)```.","body":"You have a wrong understanding of the usage of <code>for (int i:a)</code>."}],"answers":[{"tags":[],"owner":{"account_id":7753338,"reputation":1218,"user_id":5985343,"display_name":"jmizv"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637834741,"creation_date":1637833823,"answer_id":70108957,"question_id":70108920,"body_markdown":"That is because you are accessing the elements of array `a`.\r\n\r\nThe loop\r\n```\r\nfor (int i : a) {\r\n  System.out.println(i);\r\n}\r\n```\r\n\r\nwill print out the values: 1, 2, 3, 4.\r\n\r\nYou probably expected to get 0, 1, 2, 3 but that is not how the enhanced loop work.\r\n\r\n## Improvement\r\n\r\nInstead of comparing the two array by hand, you can use the convenience method `Arrays.equals()`:\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    int a[] = {1,2,3,4};\r\n    int b[] = {1,2,3,4};\r\n    boolean status = java.util.Arrays.equals(a, b);\r\n\r\n    if (status){\r\n        System.out.println(&quot;arrays are equal...&quot;);\r\n    } else {\r\n        System.out.println(&quot;arrays not equal...&quot;);\r\n    }\r\n}\r\n```","title":"ArrayIndexOutOfBound error when i used enhanced for loop","body":"<p>That is because you are accessing the elements of array <code>a</code>.</p>\n<p>The loop</p>\n<pre><code>for (int i : a) {\n  System.out.println(i);\n}\n</code></pre>\n<p>will print out the values: 1, 2, 3, 4.</p>\n<p>You probably expected to get 0, 1, 2, 3 but that is not how the enhanced loop work.</p>\n<h2>Improvement</h2>\n<p>Instead of comparing the two array by hand, you can use the convenience method <code>Arrays.equals()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    int a[] = {1,2,3,4};\n    int b[] = {1,2,3,4};\n    boolean status = java.util.Arrays.equals(a, b);\n\n    if (status){\n        System.out.println(&quot;arrays are equal...&quot;);\n    } else {\n        System.out.println(&quot;arrays not equal...&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10669891,"reputation":549,"user_id":10767161,"display_name":"Metin Bulak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637834034,"creation_date":1637834034,"answer_id":70109008,"question_id":70108920,"body_markdown":"\r\n\r\nfor (int i:a) // you mistake here, i equal to 1,2,3,4\r\narray index must start 0 \r\n```\r\n public static void main(String[] args) {\r\n        int a[] = {1,2,3,4};\r\n        int b[] = {1,2,3,4};\r\n boolean status = true;\r\n        if (a.length == b.length){\r\n            for (int i=0; i&lt;a.length; i++){  // look at here \r\n                if (a[i] != b[i]){\r\n                    status =false;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            status = false;\r\n        }\r\n\r\n        if (status == true){\r\n            System.out.println(&quot;arrays are equal...&quot;);\r\n        }\r\n        else {\r\n            System.out.println(&quot;arrays not equal...&quot;);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n```","title":"ArrayIndexOutOfBound error when i used enhanced for loop","body":"<p>for (int i:a) // you mistake here, i equal to 1,2,3,4\narray index must start 0</p>\n<pre><code> public static void main(String[] args) {\n        int a[] = {1,2,3,4};\n        int b[] = {1,2,3,4};\n boolean status = true;\n        if (a.length == b.length){\n            for (int i=0; i&lt;a.length; i++){  // look at here \n                if (a[i] != b[i]){\n                    status =false;\n                }\n            }\n        }\n        else {\n            status = false;\n        }\n\n        if (status == true){\n            System.out.println(&quot;arrays are equal...&quot;);\n        }\n        else {\n            System.out.println(&quot;arrays not equal...&quot;);\n        }\n    }\n}\n\n\n\n</code></pre>\n"}],"owner":{"account_id":14350975,"reputation":3,"user_id":17506252,"display_name":"Prajakta Yadav"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1637834875,"accepted_answer_id":70108957,"answer_count":2,"score":-3,"last_activity_date":1637838433,"creation_date":1637833628,"question_id":70108920,"body_markdown":"Can we use enhanced for loop without getting ArrayIndexOutOfBound error. \r\nbecause after using normal for loop it is working.\r\n\r\n```public class ArrayEqual {\r\n    public static void main(String[] args) {\r\n        int a[] = {1,2,3,4};\r\n        int b[] = {1,2,3,4};\r\n boolean status = true;\r\n        if (a.length == b.length){\r\n            for (int i:a){\r\n                if (a[i] != b[i]){\r\n                    status =false;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            status = false;\r\n        }\r\n\r\n        if (status == true){\r\n            System.out.println(&quot;arrays are equal...&quot;);\r\n        }\r\n        else {\r\n            System.out.println(&quot;arrays not equal...&quot;);\r\n        }\r\n    }\r\n}\r\n\r\n","title":"ArrayIndexOutOfBound error when i used enhanced for loop","body":"<p>Can we use enhanced for loop without getting ArrayIndexOutOfBound error.\nbecause after using normal for loop it is working.</p>\n<pre><code>    public static void main(String[] args) {\n        int a[] = {1,2,3,4};\n        int b[] = {1,2,3,4};\n boolean status = true;\n        if (a.length == b.length){\n            for (int i:a){\n                if (a[i] != b[i]){\n                    status =false;\n                }\n            }\n        }\n        else {\n            status = false;\n        }\n\n        if (status == true){\n            System.out.println(&quot;arrays are equal...&quot;);\n        }\n        else {\n            System.out.println(&quot;arrays not equal...&quot;);\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring","maven"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1637839172,"post_id":70109988,"comment_id":123935427,"body_markdown":"[Please do not upload images of code/errors when asking a question.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/errors when asking a question.</a>"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1637842535,"post_id":70109988,"comment_id":123936721,"body_markdown":"Remove that test class.","body":"Remove that test class."},{"owner":{"account_id":23135493,"reputation":277,"user_id":17239785,"display_name":"Mani"},"score":0,"creation_date":1637855914,"post_id":70109988,"comment_id":123942247,"body_markdown":"Yeah, I did it @M.Deinum thank you","body":"Yeah, I did it @M.Deinum thank you"}],"owner":{"account_id":23135493,"reputation":277,"user_id":17239785,"display_name":"Mani"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":318,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637838194,"creation_date":1637838194,"question_id":70109988,"body_markdown":"I created a library using spring boot. Now when I run the ```mvn clean package``` command to convert it into jar it showing below error\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHere is my ```pom.xml``` file\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.5.6&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.slice&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;slice-log4j&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n\t&lt;name&gt;slice-log4j&lt;/name&gt;\r\n\t&lt;description&gt;slice-log4j library&lt;/description&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t\t&lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\nWhat is the way to create the jar file from spring boot library project without main class?\r\nThank you.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/G4Cln.png","title":"spring boot library project without main class","body":"<p>I created a library using spring boot. Now when I run the <code>mvn clean package</code> command to convert it into jar it showing below error</p>\n<p><a href=\"https://i.stack.imgur.com/G4Cln.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G4Cln.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is my <code>pom.xml</code> file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.6&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.slice&lt;/groupId&gt;\n    &lt;artifactId&gt;slice-log4j&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;name&gt;slice-log4j&lt;/name&gt;\n    &lt;description&gt;slice-log4j library&lt;/description&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>What is the way to create the jar file from spring boot library project without main class?\nThank you.</p>\n"},{"tags":["java","google-bigquery"],"comments":[{"owner":{"account_id":21489672,"reputation":1464,"user_id":15835642,"display_name":"Sandeep Mohanty"},"score":0,"creation_date":1637254823,"post_id":70013949,"comment_id":123783251,"body_markdown":"Could you share the code so that it will be helpful to reproduce the error?","body":"Could you share the code so that it will be helpful to reproduce the error?"},{"owner":{"account_id":1428805,"reputation":1705,"user_id":1351687,"display_name":"davey"},"score":0,"creation_date":1637283868,"post_id":70013949,"comment_id":123791788,"body_markdown":"@SandeepMohanty thx, added link to reproducable example","body":"@SandeepMohanty thx, added link to reproducable example"}],"answers":[{"tags":[],"owner":{"account_id":19297135,"reputation":1378,"user_id":15747106,"display_name":"Vishal K"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1637837596,"creation_date":1637745496,"answer_id":70093453,"question_id":70013949,"body_markdown":"If a table is truncated while the streaming pipeline is still going on or performing a streaming insertion on a recently truncated table, you could receive some errors like mentioned in the question (Table is truncated), that&#39;s expected behavior. The metadata consistency mode for the InsertAll (very high QPS API) is eventually consistent, this means that when using the InsertAll API, it may get delayed table metadata and returns the failure like table truncated. The typical way to resolve this issue is to back-off and retry. \r\n\r\nCurrently, there is no option in the BigQuery API to check if the table is in truncated state or not.\r\n","title":"BigQuery: 404 &quot;Table is truncated.&quot; when insert right after truncate","body":"<p>If a table is truncated while the streaming pipeline is still going on or performing a streaming insertion on a recently truncated table, you could receive some errors like mentioned in the question (Table is truncated), that's expected behavior. The metadata consistency mode for the InsertAll (very high QPS API) is eventually consistent, this means that when using the InsertAll API, it may get delayed table metadata and returns the failure like table truncated. The typical way to resolve this issue is to back-off and retry.</p>\n<p>Currently, there is no option in the BigQuery API to check if the table is in truncated state or not.</p>\n"},{"tags":[],"owner":{"account_id":1428805,"reputation":1705,"user_id":1351687,"display_name":"davey"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637810150,"creation_date":1637810150,"answer_id":70105399,"question_id":70013949,"body_markdown":"Unfortunately the api does not (yet?) provide an endpoint to check the truncated state of the table.\r\n\r\nIn order to avoid this issue, one can use a load job via gc storage.\r\n\r\nIt looks like the load job respects this state, as i have no issues with truncate/load multiple times in a row.\r\n\r\n    public void load(String datasetName, String tableName, String sourceUri) throws InterruptedException {\r\n        Table table = getTable(datasetName, tableName);\r\n\r\n        Job job = table.load(FormatOptions.json(), sourceUri);\r\n        // Wait for the job to complete\r\n\r\n        Job completedJob = job.waitFor(RetryOption.initialRetryDelay(Duration.ofSeconds(1)),\r\n                RetryOption.totalTimeout(Duration.ofMinutes(3)));\r\n        if (completedJob != null &amp;&amp; completedJob.getStatus().getError() == null) {\r\n            // Job completed successfully\r\n        } else {\r\n            // Handle error case\r\n        }\r\n    }","title":"BigQuery: 404 &quot;Table is truncated.&quot; when insert right after truncate","body":"<p>Unfortunately the api does not (yet?) provide an endpoint to check the truncated state of the table.</p>\n<p>In order to avoid this issue, one can use a load job via gc storage.</p>\n<p>It looks like the load job respects this state, as i have no issues with truncate/load multiple times in a row.</p>\n<pre><code>public void load(String datasetName, String tableName, String sourceUri) throws InterruptedException {\n    Table table = getTable(datasetName, tableName);\n\n    Job job = table.load(FormatOptions.json(), sourceUri);\n    // Wait for the job to complete\n\n    Job completedJob = job.waitFor(RetryOption.initialRetryDelay(Duration.ofSeconds(1)),\n            RetryOption.totalTimeout(Duration.ofMinutes(3)));\n    if (completedJob != null &amp;&amp; completedJob.getStatus().getError() == null) {\n        // Job completed successfully\n    } else {\n        // Handle error case\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1428805,"reputation":1705,"user_id":1351687,"display_name":"davey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7671,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":70105399,"answer_count":2,"score":13,"last_activity_date":1637837596,"creation_date":1637203304,"question_id":70013949,"body_markdown":"I truncate my table by executing a queryJob described here: https://cloud.google.com/bigquery/docs/quickstarts/quickstart-client-libraries\r\n\r\n    &quot;truncate table &quot; + PROJECT_ID + &quot;.&quot; + datasetName + &quot;.&quot; + tableName;\r\ni wait until the job finishes via\r\n\r\n    queryJob = queryJob.waitFor();\r\n\r\nTruncate works fine.\r\n\r\nAnyway, if i do an insert right after the truncate operation via\r\n\r\n    InsertAllResponse response = table.insert(rows);\r\nit results in a \r\n\r\n    com.google.cloud.bigquery.BigQueryException: Table is truncated.\r\nwith following log:\r\n\r\n    Caused by: com.google.api.client.googleapis.json.GoogleJsonResponseException: 404 Not Found\r\n        POST https://www.googleapis.com/bigquery/v2/projects/[MYPROJECTID]/datasets/[MYDATASET]/tables/[MYTABLE]/insertAll?prettyPrint=false\r\n        {\r\n          &quot;code&quot; : 404,\r\n          &quot;errors&quot; : [ {\r\n            &quot;domain&quot; : &quot;global&quot;,\r\n            &quot;message&quot; : &quot;Table is truncated.&quot;,\r\n            &quot;reason&quot; : &quot;notFound&quot;\r\n          } ],\r\n          &quot;message&quot; : &quot;Table is truncated.&quot;,\r\n          &quot;status&quot; : &quot;NOT_FOUND&quot;\r\n        }\r\n\r\nSometimes i have even to wait more than 5 Minutes between truncate and insert.\r\n\r\nI would like to check if my table is still in the state &quot;Table is truncated.&quot; periodically until this state is gone.\r\n\r\nHow can i request bigquery api in order to check if the table is ready for inserts?\r\n\r\nHow can i request bigquery api for get the status of the table?\r\n\r\n**Edit**\r\n\r\nexample for reproduce can be found [here][1]\r\n\r\n\r\n  [1]: https://github.com/daveyx/bigquery-truncate-404","title":"BigQuery: 404 &quot;Table is truncated.&quot; when insert right after truncate","body":"<p>I truncate my table by executing a queryJob described here: <a href=\"https://cloud.google.com/bigquery/docs/quickstarts/quickstart-client-libraries\" rel=\"noreferrer\">https://cloud.google.com/bigquery/docs/quickstarts/quickstart-client-libraries</a></p>\n<pre><code>&quot;truncate table &quot; + PROJECT_ID + &quot;.&quot; + datasetName + &quot;.&quot; + tableName;\n</code></pre>\n<p>i wait until the job finishes via</p>\n<pre><code>queryJob = queryJob.waitFor();\n</code></pre>\n<p>Truncate works fine.</p>\n<p>Anyway, if i do an insert right after the truncate operation via</p>\n<pre><code>InsertAllResponse response = table.insert(rows);\n</code></pre>\n<p>it results in a</p>\n<pre><code>com.google.cloud.bigquery.BigQueryException: Table is truncated.\n</code></pre>\n<p>with following log:</p>\n<pre><code>Caused by: com.google.api.client.googleapis.json.GoogleJsonResponseException: 404 Not Found\n    POST https://www.googleapis.com/bigquery/v2/projects/[MYPROJECTID]/datasets/[MYDATASET]/tables/[MYTABLE]/insertAll?prettyPrint=false\n    {\n      &quot;code&quot; : 404,\n      &quot;errors&quot; : [ {\n        &quot;domain&quot; : &quot;global&quot;,\n        &quot;message&quot; : &quot;Table is truncated.&quot;,\n        &quot;reason&quot; : &quot;notFound&quot;\n      } ],\n      &quot;message&quot; : &quot;Table is truncated.&quot;,\n      &quot;status&quot; : &quot;NOT_FOUND&quot;\n    }\n</code></pre>\n<p>Sometimes i have even to wait more than 5 Minutes between truncate and insert.</p>\n<p>I would like to check if my table is still in the state &quot;Table is truncated.&quot; periodically until this state is gone.</p>\n<p>How can i request bigquery api in order to check if the table is ready for inserts?</p>\n<p>How can i request bigquery api for get the status of the table?</p>\n<p><strong>Edit</strong></p>\n<p>example for reproduce can be found <a href=\"https://github.com/daveyx/bigquery-truncate-404\" rel=\"noreferrer\">here</a></p>\n"},{"tags":["java","arrays","fibonacci"],"comments":[{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":1,"creation_date":1637831908,"post_id":70108496,"comment_id":123932484,"body_markdown":"Please mark line 15 with a comment. Also what is the input which causes the error ? What is the desired output ? This one only prints series of 001","body":"Please mark line 15 with a comment. Also what is the input which causes the error ? What is the desired output ? This one only prints series of 001"},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":1,"creation_date":1637832333,"post_id":70108496,"comment_id":123932641,"body_markdown":"you don&#39;t handle the special cases of an empty array, or the one of size 1","body":"you don&#39;t handle the special cases of an empty array, or the one of size 1"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1637832461,"post_id":70108496,"comment_id":123932681,"body_markdown":"Indeed - if `sequenceLength` is 0, you&#39;ll create a single-element array, then try to populate two elements in it...","body":"Indeed - if <code>sequenceLength</code> is 0, you&#39;ll create a single-element array, then try to populate two elements in it..."},{"owner":{"account_id":14954000,"reputation":1,"user_id":10796011,"display_name":"Justlearning"},"score":0,"creation_date":1637833056,"post_id":70108496,"comment_id":123932939,"body_markdown":"I have marked it with *","body":"I have marked it with *"},{"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"score":0,"creation_date":1637835211,"post_id":70108496,"comment_id":123933824,"body_markdown":"Line15: ```fibSequence[1] = &quot;01&quot;;``` caused an ```ArrayIndexOutOfBoundsException``` **=&gt;** This means that the length of the array is 1 **=&gt;** When will the length of the array be 1? **=&gt;** ```sec=1``` **=&gt;** ```sequenceLength=0```=&gt; Add a check:```if (sequenceLength == 0) return &quot;xxxx&quot;;```","body":"Line15: <code>fibSequence[1] = &quot;01&quot;;</code> caused an <code>ArrayIndexOutOfBoundsException</code> <b>=&gt;</b> This means that the length of the array is 1 <b>=&gt;</b> When will the length of the array be 1? <b>=&gt;</b> <code>sec=1</code> <b>=&gt;</b> <code>sequenceLength=0</code>=&gt; Add a check:<code>if (sequenceLength == 0) return &quot;xxxx&quot;;</code>"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1637836333,"post_id":70108496,"comment_id":123934303,"body_markdown":"Hint: nothing in your code example relies on data passed into it. Just run your code locally, and ask yourself: what expectations do I have about my variables, and what is ACTUALLY there?!","body":"Hint: nothing in your code example relies on data passed into it. Just run your code locally, and ask yourself: what expectations do I have about my variables, and what is ACTUALLY there?!"}],"answers":[{"tags":[],"owner":{"account_id":23441639,"reputation":23,"user_id":17499053,"display_name":"Zaid Fanek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637833063,"creation_date":1637833063,"answer_id":70108782,"question_id":70108496,"body_markdown":"Why is your FibSequence array of type string. I&#39;m assuming you would want to calculate the sum of the values. Make it of type int because Strings are immutable. Also handle cases where the input is null or a negative number. ","title":"Codewars index out of bounds error although it works, Java Fibonacci","body":"<p>Why is your FibSequence array of type string. I'm assuming you would want to calculate the sum of the values. Make it of type int because Strings are immutable. Also handle cases where the input is null or a negative number.</p>\n"}],"owner":{"account_id":14954000,"reputation":1,"user_id":10796011,"display_name":"Justlearning"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1637836228,"answer_count":1,"score":0,"last_activity_date":1637837576,"creation_date":1637831789,"question_id":70108496,"body_markdown":"   \r\n          import java.util.*;\r\n          public class Solution {\r\n          \r\n            public static void main(String[] args) {\r\n              int secLen = 2;\r\n              solve(secLen);\r\n            }\r\n            public static String solve(int sequenceLength) {\r\n              int sec = sequenceLength+1;\r\n              String[] fibSequence = new String[sec];\r\n              fibSequence[0] = &quot;0&quot;;\r\n              *fibSequence[1] = &quot;01&quot;;*\r\n              \r\n          \r\n              for(int i = 2; i &lt;= sequenceLength;i++){\r\n                fibSequence[i] = fibSequence[i-1] + fibSequence[i-2];\r\n              }\r\n               \r\n              \r\n              \r\n              System.out.println(fibSequence[sequenceLength]);\r\n              //return fibArray;\r\n              return fibSequence[sequenceLength];\r\n            }\r\n            \r\n          } \r\n\r\nCodeWars is telling me there is an index out of bound error in line 15.\r\nIt makes no sense though because when I test it in my IDE everything perfectly works.","title":"Codewars index out of bounds error although it works, Java Fibonacci","body":"<pre><code>      import java.util.*;\n      public class Solution {\n      \n        public static void main(String[] args) {\n          int secLen = 2;\n          solve(secLen);\n        }\n        public static String solve(int sequenceLength) {\n          int sec = sequenceLength+1;\n          String[] fibSequence = new String[sec];\n          fibSequence[0] = &quot;0&quot;;\n          *fibSequence[1] = &quot;01&quot;;*\n          \n      \n          for(int i = 2; i &lt;= sequenceLength;i++){\n            fibSequence[i] = fibSequence[i-1] + fibSequence[i-2];\n          }\n           \n          \n          \n          System.out.println(fibSequence[sequenceLength]);\n          //return fibArray;\n          return fibSequence[sequenceLength];\n        }\n        \n      } \n</code></pre>\n<p>CodeWars is telling me there is an index out of bound error in line 15.\nIt makes no sense though because when I test it in my IDE everything perfectly works.</p>\n"},{"tags":["java","android","android-studio"],"owner":{"account_id":19588163,"reputation":33,"user_id":14844543,"display_name":"gibsonff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637837502,"creation_date":1637837502,"question_id":70109821,"body_markdown":"I am using Android Studio 4.1.1. windows 7. I write in Java. I noticed this feature of the program. Changing something in code, layout or resources. I run the program and see that my changes have not appeared! First comes the thought that I was wrong somewhere. I start looking for an error. I don’t find it. I run the program again and it already works as it should. Now I&#39;m used to it. The larger the program, the more often this happens. To be sure of the result, you have to run the program twice each time, because I&#39;m not sure if this time all the changes took effect. It is very uncomfortable. Tell me why this is happening and how to solve this problem.","title":"Why doesn&#39;t Android Studio see updates right away?","body":"<p>I am using Android Studio 4.1.1. windows 7. I write in Java. I noticed this feature of the program. Changing something in code, layout or resources. I run the program and see that my changes have not appeared! First comes the thought that I was wrong somewhere. I start looking for an error. I don’t find it. I run the program again and it already works as it should. Now I'm used to it. The larger the program, the more often this happens. To be sure of the result, you have to run the program twice each time, because I'm not sure if this time all the changes took effect. It is very uncomfortable. Tell me why this is happening and how to solve this problem.</p>\n"},{"tags":["java","intellij-idea","refactoring","keyboard-shortcuts"],"answers":[{"tags":[],"owner":{"account_id":98471,"reputation":15227,"user_id":266531,"accept_rate":100,"display_name":"Kirby"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1338836149,"creation_date":1338836149,"answer_id":10886661,"question_id":10886642,"body_markdown":"ah, never mind, I see. You have to press command-alt-C again to get the old dialog. Grrr. The short cut is getting longer....","title":"intellij have introduce constant be private not public","body":"<p>ah, never mind, I see. You have to press command-alt-C again to get the old dialog. Grrr. The short cut is getting longer....</p>\n"},{"tags":[],"owner":{"account_id":426742,"reputation":1779,"user_id":808125,"accept_rate":85,"display_name":"Gregory Kalabin"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1511181027,"creation_date":1377361628,"answer_id":18420650,"question_id":10886642,"body_markdown":"I had the same problem and solved it (idea 12).\r\n\r\nTo introduce private constants by default do the following:\r\n\r\n* Disable [in-place mode][1]  (File -&gt; Settings -&gt; Editor -&gt; General -&gt; uncheck &quot;Enable in-place mode&quot;)\r\n* Try to introduce something (You will see a refactor dialog). Select &quot;private&quot; in that dialog\r\n* Enable in-place mode\r\n* Enjoy private constants\r\n\r\n\r\n  [1]: https://www.jetbrains.com/idea/help/general.html#in_place_refactorings","title":"intellij have introduce constant be private not public","body":"<p>I had the same problem and solved it (idea 12).</p>\n\n<p>To introduce private constants by default do the following:</p>\n\n<ul>\n<li>Disable <a href=\"https://www.jetbrains.com/idea/help/general.html#in_place_refactorings\" rel=\"noreferrer\">in-place mode</a>  (File -> Settings -> Editor -> General -> uncheck \"Enable in-place mode\")</li>\n<li>Try to introduce something (You will see a refactor dialog). Select \"private\" in that dialog</li>\n<li>Enable in-place mode</li>\n<li>Enjoy private constants</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":20549333,"reputation":1,"user_id":15082377,"display_name":"user15082377"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637837395,"creation_date":1637837395,"answer_id":70109796,"question_id":10886642,"body_markdown":"I know this thread is quite old, but as of now there is an easier way to get the desired result than the accepted Answer:\r\n\r\nYou can simply press the shortcut to introduce a constant twice to get refactoring dialog and select private there once.\r\n\r\nFrom now on pressing the shortcut will always introduce a private constant.\r\n\r\nThe same procedure can then be used to switch back to public. No need to click through the setting each time.","title":"intellij have introduce constant be private not public","body":"<p>I know this thread is quite old, but as of now there is an easier way to get the desired result than the accepted Answer:</p>\n<p>You can simply press the shortcut to introduce a constant twice to get refactoring dialog and select private there once.</p>\n<p>From now on pressing the shortcut will always introduce a private constant.</p>\n<p>The same procedure can then be used to switch back to public. No need to click through the setting each time.</p>\n"}],"owner":{"account_id":98471,"reputation":15227,"user_id":266531,"accept_rate":100,"display_name":"Kirby"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2429,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":18420650,"answer_count":3,"score":14,"last_activity_date":1637837395,"creation_date":1338836046,"question_id":10886642,"body_markdown":"In Intellij IDEA 11.1.2, when using the refactor shortcut to Introduce a Constant, it always makes **public static final** constant, whereas I generally prefer to default to **private**. \r\nIn older versions of Intellij, I&#39;m pretty sure that I had the option of setting **private** as the default. \r\nDoes anyone know if there still exists an option to default to **private** for the Introduce Constant refactor option rather than having to afterwards go to the declaration and edit the **public** to **private**?\r\nThanks","title":"intellij have introduce constant be private not public","body":"<p>In Intellij IDEA 11.1.2, when using the refactor shortcut to Introduce a Constant, it always makes <strong>public static final</strong> constant, whereas I generally prefer to default to <strong>private</strong>. \nIn older versions of Intellij, I'm pretty sure that I had the option of setting <strong>private</strong> as the default. \nDoes anyone know if there still exists an option to default to <strong>private</strong> for the Introduce Constant refactor option rather than having to afterwards go to the declaration and edit the <strong>public</strong> to <strong>private</strong>?\nThanks</p>\n"},{"tags":["java","audio","duration"],"answers":[{"tags":[],"owner":{"account_id":9835759,"reputation":471,"user_id":7286223,"display_name":"Raihanul Alam Hridoy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637836639,"creation_date":1637836639,"answer_id":70109607,"question_id":70109606,"body_markdown":"After searching for long, I have found two ways to calculate duration of mp3 and wav files.\r\n**For wav file:**\r\n\r\n    public static double getDurationOfWavFile(String filename){\r\n        logger.debug(&quot;getDuration (wav) -- filename: &quot; + filename);\r\n        File file = null;\r\n        double durationInSeconds=0;\r\n        try {\r\n            file = new File(filename);\r\n            AudioInputStream audioInputStream = AudioSystem.getAudioInputStream(file);\r\n            AudioFormat format = audioInputStream.getFormat();\r\n            long frames = audioInputStream.getFrameLength();\r\n            durationInSeconds = (frames+0.0) / format.getFrameRate();\r\n\r\n        } catch (Exception ex) {\r\n            logger.error(ex.getMessage());\r\n        }\r\n        return durationInSeconds;\r\n    }\r\n\r\nUnfortunately, this method doesn&#39;t work for mp3 files. [MPEG Audio Frame Header][1] information can be seen from that URL. By performing the calculation specified in this [answer][2], mp3 media duration can be calculated. But there is an easier way by using a java library. The library link is [jlayer-1.0.1.4.jar][3]. This library can calculate duration from a mp3 file but cannot calculate from wav file. I also tried to convert the wav file to mp3 using python script and library gtts. But it the converted mp3 fails to give correct duration. So, for wav file the above mentioned code performs best. For mp3 file the below code can be useful:\r\n\r\n\r\n    public static float getDuration(String filename){\r\n        logger.debug(&quot;getDuration (mp3) -- filename: &quot; + filename);\r\n        Bitstream bitstream;\r\n        Header h = null;\r\n        FileInputStream file = null;\r\n        try {\r\n            file = new FileInputStream(filename);\r\n        } catch (FileNotFoundException ex) {}\r\n        bitstream = new Bitstream(file);\r\n        try {\r\n            h = bitstream.readFrame();\r\n        } catch (BitstreamException ex) {}\r\n        int size = h.calculate_framesize();\r\n        float ms_per_frame = h.ms_per_frame();\r\n        int maxSize = h.max_number_of_frames(10000);\r\n        float t = h.total_ms(size);\r\n        long tn = 0;\r\n        try {\r\n            tn = file.getChannel().size();\r\n        } catch (IOException ex) {}\r\n        int min = h.min_number_of_frames(500);\r\n        return h.total_ms((int) tn)/1000;\r\n    }\r\n\r\nI haven&#39;t tried any other formats. I hope this answer solves your problems.\r\n\r\n  [1]: https://www.datavoyage.com/mpgscript/mpeghdr.htm\r\n  [2]: https://stackoverflow.com/a/1065186/7286223\r\n  [3]: https://jar-download.com/artifacts/com.googlecode.soundlibs/jlayer/1.0.1.4/source-code","title":"Calculate duration of media files such as mp3/wav programmatically using java","body":"<p>After searching for long, I have found two ways to calculate duration of mp3 and wav files.\n<strong>For wav file:</strong></p>\n<pre><code>public static double getDurationOfWavFile(String filename){\n    logger.debug(&quot;getDuration (wav) -- filename: &quot; + filename);\n    File file = null;\n    double durationInSeconds=0;\n    try {\n        file = new File(filename);\n        AudioInputStream audioInputStream = AudioSystem.getAudioInputStream(file);\n        AudioFormat format = audioInputStream.getFormat();\n        long frames = audioInputStream.getFrameLength();\n        durationInSeconds = (frames+0.0) / format.getFrameRate();\n\n    } catch (Exception ex) {\n        logger.error(ex.getMessage());\n    }\n    return durationInSeconds;\n}\n</code></pre>\n<p>Unfortunately, this method doesn't work for mp3 files. <a href=\"https://www.datavoyage.com/mpgscript/mpeghdr.htm\" rel=\"nofollow noreferrer\">MPEG Audio Frame Header</a> information can be seen from that URL. By performing the calculation specified in this <a href=\"https://stackoverflow.com/a/1065186/7286223\">answer</a>, mp3 media duration can be calculated. But there is an easier way by using a java library. The library link is <a href=\"https://jar-download.com/artifacts/com.googlecode.soundlibs/jlayer/1.0.1.4/source-code\" rel=\"nofollow noreferrer\">jlayer-1.0.1.4.jar</a>. This library can calculate duration from a mp3 file but cannot calculate from wav file. I also tried to convert the wav file to mp3 using python script and library gtts. But it the converted mp3 fails to give correct duration. So, for wav file the above mentioned code performs best. For mp3 file the below code can be useful:</p>\n<pre><code>public static float getDuration(String filename){\n    logger.debug(&quot;getDuration (mp3) -- filename: &quot; + filename);\n    Bitstream bitstream;\n    Header h = null;\n    FileInputStream file = null;\n    try {\n        file = new FileInputStream(filename);\n    } catch (FileNotFoundException ex) {}\n    bitstream = new Bitstream(file);\n    try {\n        h = bitstream.readFrame();\n    } catch (BitstreamException ex) {}\n    int size = h.calculate_framesize();\n    float ms_per_frame = h.ms_per_frame();\n    int maxSize = h.max_number_of_frames(10000);\n    float t = h.total_ms(size);\n    long tn = 0;\n    try {\n        tn = file.getChannel().size();\n    } catch (IOException ex) {}\n    int min = h.min_number_of_frames(500);\n    return h.total_ms((int) tn)/1000;\n}\n</code></pre>\n<p>I haven't tried any other formats. I hope this answer solves your problems.</p>\n"}],"owner":{"account_id":9835759,"reputation":471,"user_id":7286223,"display_name":"Raihanul Alam Hridoy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":483,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70109607,"answer_count":1,"score":0,"last_activity_date":1637837224,"creation_date":1637836639,"question_id":70109606,"body_markdown":"Programmatically get the duration of a media file using java. The file formats are limited to **mp3** and **wav**.","title":"Calculate duration of media files such as mp3/wav programmatically using java","body":"<p>Programmatically get the duration of a media file using java. The file formats are limited to <strong>mp3</strong> and <strong>wav</strong>.</p>\n"},{"tags":["java","reactor"],"answers":[{"tags":[],"owner":{"account_id":7023642,"reputation":131,"user_id":5381942,"display_name":"Andrey Novikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637837206,"creation_date":1637837206,"answer_id":70109748,"question_id":67340131,"body_markdown":"Tried to look through the documentation, but found nothing obviously appropriate. Can only suggest such wrapping as a workaround:\r\n\r\n```\r\n.map(agc -&gt; new cTaskServiceCommand(or, agc, request))\r\n.flatMap(command -&gt; cTaskService.cTask(command)\r\n    .flatMapMany(event -&gt; Mono.just(event).concatWith(Mono.justOrEmpty(event.getThrowable()).flatMap(Mono::error)))\r\n    .cast(orEvent.class)\r\n    .onErrorResume(throwable -&gt; myFactory.createorEvent(or, throwable, command.getName()))\r\n)\r\n```","title":"How to pass parameter in onErrorResume from previous flatMap in Java reactor","body":"<p>Tried to look through the documentation, but found nothing obviously appropriate. Can only suggest such wrapping as a workaround:</p>\n<pre><code>.map(agc -&gt; new cTaskServiceCommand(or, agc, request))\n.flatMap(command -&gt; cTaskService.cTask(command)\n    .flatMapMany(event -&gt; Mono.just(event).concatWith(Mono.justOrEmpty(event.getThrowable()).flatMap(Mono::error)))\n    .cast(orEvent.class)\n    .onErrorResume(throwable -&gt; myFactory.createorEvent(or, throwable, command.getName()))\n)\n</code></pre>\n"}],"owner":{"account_id":17922035,"reputation":13,"user_id":13021592,"display_name":"Shreya Srivastava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":525,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637837206,"creation_date":1619814835,"question_id":67340131,"body_markdown":"I have below code \r\n\r\n    .map(agc -&gt; new cTaskServiceCommand(or, agc, request))\r\n    .flatMap(command -&gt; cTaskService.cTask(command))\r\n    .flatMapMany(event -&gt; Mono.just(event).concatWith(Mono.justOrEmpty(event.getThrowable()).flatMap(Mono::error)))\r\n    .cast(orEvent.class)\r\n    .onErrorResume(throwable -&gt; myFactory.createorEvent(or, throwable))\r\n\r\nBut I want to pass a parameter from command to onErrorResume like below\r\n\r\n    .onErrorResume(throwable -&gt; myFactory.createorEvent(or, throwable, command.getName()))\r\n\r\nHow can I achieve this. Need to pass parameter from previous flatMap object to onErrorResume.\r\n\r\n\r\n\r\n","title":"How to pass parameter in onErrorResume from previous flatMap in Java reactor","body":"<p>I have below code</p>\n<pre><code>.map(agc -&gt; new cTaskServiceCommand(or, agc, request))\n.flatMap(command -&gt; cTaskService.cTask(command))\n.flatMapMany(event -&gt; Mono.just(event).concatWith(Mono.justOrEmpty(event.getThrowable()).flatMap(Mono::error)))\n.cast(orEvent.class)\n.onErrorResume(throwable -&gt; myFactory.createorEvent(or, throwable))\n</code></pre>\n<p>But I want to pass a parameter from command to onErrorResume like below</p>\n<pre><code>.onErrorResume(throwable -&gt; myFactory.createorEvent(or, throwable, command.getName()))\n</code></pre>\n<p>How can I achieve this. Need to pass parameter from previous flatMap object to onErrorResume.</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":2884836,"reputation":742,"user_id":2474985,"display_name":"chesh"},"score":0,"creation_date":1429015997,"post_id":29627656,"comment_id":47398610,"body_markdown":"You probably tried to import the packages themselves instead of the classes under those packages. For example, try adding `import static com.google.com.base.Preconditions.*` for the 1st error.","body":"You probably tried to import the packages themselves instead of the classes under those packages. For example, try adding <code>import static com.google.com.base.Preconditions.*</code> for the 1st error."},{"owner":{"account_id":2169234,"reputation":2083,"user_id":1921669,"accept_rate":40,"display_name":"Kestas.daugylis"},"score":0,"creation_date":1435328437,"post_id":29627656,"comment_id":50169645,"body_markdown":"ad dependency to maven or gradle, then `gradlew idea` or `maven clean build` and in Intellij click File -&gt; Invalidate cahces/ Restart","body":"ad dependency to maven or gradle, then <code>gradlew idea</code> or <code>maven clean build</code> and in Intellij click File -&gt; Invalidate cahces/ Restart"}],"answers":[{"tags":[],"owner":{"account_id":3255523,"reputation":4267,"user_id":2744726,"accept_rate":79,"display_name":"Carlos Bribiescas"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1429016514,"creation_date":1429016514,"answer_id":29628059,"question_id":29627656,"body_markdown":"Are you using anything as a dependency manager?  If you use something like maven, it will take care of getting the actual jars and putting them in your classpath.  \r\n\r\nThere are many ways to add stuff to you classpath, but basically in one way or another something has to get the jars that contain the classes you want to import and reference them while compiling.  Or else your local environment has no way to know what you&#39;re importing.\r\n\r\nThis is different from stuff you can import without any foreign jars.  Packages such as `java.util.*;` come with the jdk you use which is why you can import them and compile without any further work.\r\n\r\n","title":"error: package com.google.common.base does not exist","body":"<p>Are you using anything as a dependency manager?  If you use something like maven, it will take care of getting the actual jars and putting them in your classpath.  </p>\n\n<p>There are many ways to add stuff to you classpath, but basically in one way or another something has to get the jars that contain the classes you want to import and reference them while compiling.  Or else your local environment has no way to know what you're importing.</p>\n\n<p>This is different from stuff you can import without any foreign jars.  Packages such as <code>java.util.*;</code> come with the jdk you use which is why you can import them and compile without any further work.</p>\n"},{"tags":[],"owner":{"account_id":6698829,"reputation":306,"user_id":5166045,"display_name":"pinkulani"},"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1438102745,"creation_date":1438102745,"answer_id":31682717,"question_id":29627656,"body_markdown":"    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n      &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n      &lt;version&gt;11.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nby adding dependency in pom.xml I was able to solve the problem\r\n","title":"error: package com.google.common.base does not exist","body":"<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n  &lt;artifactId&gt;guava&lt;/artifactId&gt;\n  &lt;version&gt;11.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>by adding dependency in pom.xml I was able to solve the problem</p>\n"},{"tags":[],"owner":{"account_id":5437590,"reputation":524,"user_id":4326590,"display_name":"Metin Dagcilar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1459610411,"creation_date":1459605689,"answer_id":36374228,"question_id":29627656,"body_markdown":"Anybody having similar issues, this is a dependency issue.\r\n\r\nIn IntelliJ:\r\n\r\n 1. Open the `pom.xml` file.\r\n 2. With the editor tab having the focus, choose `Code | Generate on the main menu`, or press `Alt+Insert`, and choose Dependency from the Generate pop-up window.\r\n\r\nThat should fix this problem.","title":"error: package com.google.common.base does not exist","body":"<p>Anybody having similar issues, this is a dependency issue.</p>\n\n<p>In IntelliJ:</p>\n\n<ol>\n<li>Open the <code>pom.xml</code> file.</li>\n<li>With the editor tab having the focus, choose <code>Code | Generate on the main menu</code>, or press <code>Alt+Insert</code>, and choose Dependency from the Generate pop-up window.</li>\n</ol>\n\n<p>That should fix this problem.</p>\n"},{"tags":[],"owner":{"account_id":9089962,"reputation":3525,"user_id":6766264,"accept_rate":0,"display_name":"Makvin"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1605391360,"creation_date":1506055147,"answer_id":46356974,"question_id":29627656,"body_markdown":"Add this dependency to your Gradle file\r\n\r\n    compile &quot;com.google.guava:guava:16+&quot;","title":"error: package com.google.common.base does not exist","body":"<p>Add this dependency to your Gradle file</p>\n<pre><code>compile &quot;com.google.guava:guava:16+&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2152669,"reputation":1652,"user_id":1945316,"accept_rate":18,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637836889,"creation_date":1637836889,"answer_id":70109672,"question_id":29627656,"body_markdown":"Had this problem with a module which was once created as a native Intellij module instead of a Maven module.\r\n\r\nI removed the module from the project and reimported as Maven module, so it resolved all libraries internally according to the pom.xml.","title":"error: package com.google.common.base does not exist","body":"<p>Had this problem with a module which was once created as a native Intellij module instead of a Maven module.</p>\n<p>I removed the module from the project and reimported as Maven module, so it resolved all libraries internally according to the pom.xml.</p>\n"}],"owner":{"account_id":3610948,"reputation":429,"user_id":3011916,"accept_rate":80,"display_name":"greenity"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96462,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":31682717,"answer_count":5,"score":27,"last_activity_date":1637836889,"creation_date":1429015432,"question_id":29627656,"body_markdown":"given the following code in java, when compiling it u have a lot of errors :\r\n****************************************************************************\r\n&gt;Main.java:1: error: package com.google.common.base does not exist\r\nimport com.google.common.base.Preconditions;\r\n                             ^\r\n\r\n\r\n&gt;Main.java:2: error: package com.google.common.collect does not exist\r\nimport com.google.common.collect.Lists;\r\n                                ^\r\n\r\n&gt;Main.java:3: error: package org.ros.exception does not exist\r\nimport org.ros.exception.RosRuntimeException;\r\n                        ^\r\n\r\n&gt;Main.java:4: error: package org.ros.internal.loader does not exist\r\nimport org.ros.internal.loader.CommandLineLoader;\r\n                              ^\r\n\r\n&gt;Main.java:5: error: package org.ros.node does not exist\r\nimport org.ros.node.DefaultNodeMainExecutor;\r\n                   ^\r\n\r\n&gt;Main.java:6: error: package org.ros.node does not exist\r\nimport org.ros.node.NodeConfiguration;\r\n                   ^\r\n\r\n&gt;Main.java:7: error: package org.ros.node does not exist\r\nimport org.ros.node.NodeMainExecutor;\r\n\r\nI run it via IntelliJ. Does anyone know why it does not work?\r\n\r\n    \r\n    import com.google.common.base.Preconditions;\r\n    import com.google.common.collect.Lists;\r\n    import org.ros.exception.RosRuntimeException;\r\n    import org.ros.internal.loader.CommandLineLoader;\r\n    import org.ros.node.DefaultNodeMainExecutor;\r\n    import org.ros.node.NodeConfiguration;\r\n    import org.ros.node.NodeMainExecutor;\r\n\r\n    // This class will run a publisher and subscriber, and relay data between them.\r\n\r\n    public class Main {\r\n\r\n    static private Talker pubNodeMain;\r\n\r\n    static private Listener subNodeMain;\r\n\r\n    public static void main(String[] argv) throws Exception {\r\n        // Set up the executor for both of the nodes\r\n        NodeMainExecutor nodeMainExecutor = DefaultNodeMainExecutor.newDefault();\r\n\r\n        // Load the publisher\r\n        String[] pubArgv = {&quot;Talker&quot;};\r\n        CommandLineLoader pubLoader = new CommandLineLoader(Lists.newArrayList(pubArgv));\r\n        String nodeClassName = pubLoader.getNodeClassName();\r\n        System.out.println(&quot;Loading node class: &quot; + pubLoader.getNodeClassName());\r\n        NodeConfiguration pubNodeConfiguration = pubLoader.build();\r\n\r\n        try {\r\n            pubNodeMain = (Talker) pubLoader.loadClass(nodeClassName);\r\n        } catch (ClassNotFoundException e) {\r\n            throw new RosRuntimeException(&quot;Unable to locate node: &quot; + nodeClassName, e);\r\n        } catch (InstantiationException e) {\r\n            throw new RosRuntimeException(&quot;Unable to instantiate node: &quot; + nodeClassName, e);\r\n        } catch (IllegalAccessException e) {\r\n            throw new RosRuntimeException(&quot;Unable to instantiate node: &quot; + nodeClassName, e);\r\n        }\r\n\r\n        Preconditions.checkState(pubNodeMain != null);\r\n        nodeMainExecutor.execute(pubNodeMain, pubNodeConfiguration);\r\n\r\n        // Load the subscriber\r\n        String[] subArgv = {&quot;Listener&quot;};\r\n        CommandLineLoader subLoader = new CommandLineLoader(Lists.newArrayList(subArgv));\r\n        nodeClassName = subLoader.getNodeClassName();\r\n        System.out.println(&quot;Loading node class: &quot; + subLoader.getNodeClassName());\r\n        NodeConfiguration subNodeConfiguration = subLoader.build();\r\n\r\n        try {\r\n            subNodeMain = (Listener) subLoader.loadClass(nodeClassName);\r\n        } catch (ClassNotFoundException e) {\r\n            throw new RosRuntimeException(&quot;Unable to locate node: &quot; + nodeClassName, e);\r\n        } catch (InstantiationException e) {\r\n            throw new RosRuntimeException(&quot;Unable to instantiate node: &quot; + nodeClassName, e);\r\n        } catch (IllegalAccessException e) {\r\n            throw new RosRuntimeException(&quot;Unable to instantiate node: &quot; + nodeClassName, e);\r\n        }\r\n\r\n        Preconditions.checkState(subNodeMain != null);\r\n        nodeMainExecutor.execute(subNodeMain, subNodeConfiguration);\r\n      }\r\n\r\n    }\r\n\r\n\r\n","title":"error: package com.google.common.base does not exist","body":"<p>given the following code in java, when compiling it u have a lot of errors :</p>\n\n<hr>\n\n<blockquote>\n  <p>Main.java:1: error: package com.google.common.base does not exist\n  import com.google.common.base.Preconditions;\n                               ^</p>\n  \n  <p>Main.java:2: error: package com.google.common.collect does not exist\n  import com.google.common.collect.Lists;\n                                  ^</p>\n  \n  <p>Main.java:3: error: package org.ros.exception does not exist\n  import org.ros.exception.RosRuntimeException;\n                          ^</p>\n  \n  <p>Main.java:4: error: package org.ros.internal.loader does not exist\n  import org.ros.internal.loader.CommandLineLoader;\n                                ^</p>\n  \n  <p>Main.java:5: error: package org.ros.node does not exist\n  import org.ros.node.DefaultNodeMainExecutor;\n                     ^</p>\n  \n  <p>Main.java:6: error: package org.ros.node does not exist\n  import org.ros.node.NodeConfiguration;\n                     ^</p>\n  \n  <p>Main.java:7: error: package org.ros.node does not exist\n  import org.ros.node.NodeMainExecutor;</p>\n</blockquote>\n\n<p>I run it via IntelliJ. Does anyone know why it does not work?</p>\n\n<pre><code>import com.google.common.base.Preconditions;\nimport com.google.common.collect.Lists;\nimport org.ros.exception.RosRuntimeException;\nimport org.ros.internal.loader.CommandLineLoader;\nimport org.ros.node.DefaultNodeMainExecutor;\nimport org.ros.node.NodeConfiguration;\nimport org.ros.node.NodeMainExecutor;\n\n// This class will run a publisher and subscriber, and relay data between them.\n\npublic class Main {\n\nstatic private Talker pubNodeMain;\n\nstatic private Listener subNodeMain;\n\npublic static void main(String[] argv) throws Exception {\n    // Set up the executor for both of the nodes\n    NodeMainExecutor nodeMainExecutor = DefaultNodeMainExecutor.newDefault();\n\n    // Load the publisher\n    String[] pubArgv = {\"Talker\"};\n    CommandLineLoader pubLoader = new CommandLineLoader(Lists.newArrayList(pubArgv));\n    String nodeClassName = pubLoader.getNodeClassName();\n    System.out.println(\"Loading node class: \" + pubLoader.getNodeClassName());\n    NodeConfiguration pubNodeConfiguration = pubLoader.build();\n\n    try {\n        pubNodeMain = (Talker) pubLoader.loadClass(nodeClassName);\n    } catch (ClassNotFoundException e) {\n        throw new RosRuntimeException(\"Unable to locate node: \" + nodeClassName, e);\n    } catch (InstantiationException e) {\n        throw new RosRuntimeException(\"Unable to instantiate node: \" + nodeClassName, e);\n    } catch (IllegalAccessException e) {\n        throw new RosRuntimeException(\"Unable to instantiate node: \" + nodeClassName, e);\n    }\n\n    Preconditions.checkState(pubNodeMain != null);\n    nodeMainExecutor.execute(pubNodeMain, pubNodeConfiguration);\n\n    // Load the subscriber\n    String[] subArgv = {\"Listener\"};\n    CommandLineLoader subLoader = new CommandLineLoader(Lists.newArrayList(subArgv));\n    nodeClassName = subLoader.getNodeClassName();\n    System.out.println(\"Loading node class: \" + subLoader.getNodeClassName());\n    NodeConfiguration subNodeConfiguration = subLoader.build();\n\n    try {\n        subNodeMain = (Listener) subLoader.loadClass(nodeClassName);\n    } catch (ClassNotFoundException e) {\n        throw new RosRuntimeException(\"Unable to locate node: \" + nodeClassName, e);\n    } catch (InstantiationException e) {\n        throw new RosRuntimeException(\"Unable to instantiate node: \" + nodeClassName, e);\n    } catch (IllegalAccessException e) {\n        throw new RosRuntimeException(\"Unable to instantiate node: \" + nodeClassName, e);\n    }\n\n    Preconditions.checkState(subNodeMain != null);\n    nodeMainExecutor.execute(subNodeMain, subNodeConfiguration);\n  }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","caching"],"answers":[{"tags":[],"owner":{"account_id":16397765,"reputation":1329,"user_id":11844734,"display_name":"Petr Jel&#237;nek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1611393098,"creation_date":1611393098,"answer_id":65857484,"question_id":65848654,"body_markdown":"I used multiple cache managers combined with cache resolver. I followed these tutorials.\r\n\r\nhttps://www.baeldung.com/spring-multiple-cache-managers\r\n\r\nhttps://www.baeldung.com/spring-boot-caffeine-cache","title":"Set TTL fot caching different data with one CacheManager in Spring Boot","body":"<p>I used multiple cache managers combined with cache resolver. I followed these tutorials.</p>\n<p><a href=\"https://www.baeldung.com/spring-multiple-cache-managers\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-multiple-cache-managers</a></p>\n<p><a href=\"https://www.baeldung.com/spring-boot-caffeine-cache\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-caffeine-cache</a></p>\n"},{"tags":[],"owner":{"account_id":7000766,"reputation":330,"user_id":5366876,"display_name":"Aleksandar Radulović"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637836622,"creation_date":1637836622,"answer_id":70109603,"question_id":65848654,"body_markdown":"In order to use cache-specific TTL, you don&#39;t have to use different cache managers. While EhCache and some other cache providers give you the possibility to configure that using dedicated XML, for in-memory providers you may need to configure each cache along with the CacheManager. \r\n\r\nPlease see http://dolszewski.com/spring/multiple-ttl-caches-in-spring-boot/ for more details. ","title":"Set TTL fot caching different data with one CacheManager in Spring Boot","body":"<p>In order to use cache-specific TTL, you don't have to use different cache managers. While EhCache and some other cache providers give you the possibility to configure that using dedicated XML, for in-memory providers you may need to configure each cache along with the CacheManager.</p>\n<p>Please see <a href=\"http://dolszewski.com/spring/multiple-ttl-caches-in-spring-boot/\" rel=\"nofollow noreferrer\">http://dolszewski.com/spring/multiple-ttl-caches-in-spring-boot/</a> for more details.</p>\n"}],"owner":{"account_id":16397765,"reputation":1329,"user_id":11844734,"display_name":"Petr Jel&#237;nek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6475,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":65857484,"answer_count":2,"score":2,"last_activity_date":1637836622,"creation_date":1611331627,"question_id":65848654,"body_markdown":"I am caching responses from three different external sources and I am using same CacheManager. I would like to set different TTL for each method, that is cached, is it possible? \r\n\r\nI also tried to set up multiple cache managers, but I got and exception - **2 implementations of CachingConfigurer were found when only 1 was expected**\r\n\r\nHere is my CacheConfig class with my CacheManager - this is where I have my config for my manager\r\n\r\n```\r\n@Configuration\r\n@EnableCaching\r\npublic class CacheConfig extends CachingConfigurerSupport {\r\n\r\n    private static final String CACHE_NAME = &quot;transportLocations&quot;;\r\n\r\n    // Here is &quot;global&quot; TTL for every result from the method\r\n    private static final int TTL_SECONDS = 15;\r\n    private static final int ENTRIES_LOCAL_HEAP = 1000;\r\n    private static final String LRU = &quot;LRU&quot;;\r\n\r\n    @Bean\r\n    public net.sf.ehcache.CacheManager ehCacheManager() {\r\n        final var transportLocationCache = new CacheConfiguration();\r\n        final var config = new net.sf.ehcache.config.Configuration();\r\n\r\n        transportLocationCache.setName(CACHE_NAME);\r\n        transportLocationCache.setMaxEntriesLocalHeap(ENTRIES_LOCAL_HEAP);\r\n        transportLocationCache.setMemoryStoreEvictionPolicy(LRU);\r\n        transportLocationCache.setTimeToLiveSeconds(TTL_SECONDS);\r\n        config.addCache(transportLocationCache);\r\n\r\n        return net.sf.ehcache.CacheManager.newInstance(config);\r\n    }\r\n\r\n    @Bean\r\n    @Override\r\n    public CacheManager cacheManager() {\r\n        return new EhCacheCacheManager(ehCacheManager());\r\n    }\r\n}\r\n```\r\n\r\n\r\nThis is my service, where I am using Cacheable annotation. I have three methods where I am using this annotation and this is where I need to set different TTL for every method.\r\n\r\n```\r\n@Cacheable(value = TRANSPORT_LOCATIONS, cacheManager = CACHE_MANAGER, key = ROOT_METHOD_NAME, sync = true)\r\n```\r\n\r\nDo you have any suggestions, how to do that?\r\n\r\nThank you very much.","title":"Set TTL fot caching different data with one CacheManager in Spring Boot","body":"<p>I am caching responses from three different external sources and I am using same CacheManager. I would like to set different TTL for each method, that is cached, is it possible?</p>\n<p>I also tried to set up multiple cache managers, but I got and exception - <strong>2 implementations of CachingConfigurer were found when only 1 was expected</strong></p>\n<p>Here is my CacheConfig class with my CacheManager - this is where I have my config for my manager</p>\n<pre><code>@Configuration\n@EnableCaching\npublic class CacheConfig extends CachingConfigurerSupport {\n\n    private static final String CACHE_NAME = &quot;transportLocations&quot;;\n\n    // Here is &quot;global&quot; TTL for every result from the method\n    private static final int TTL_SECONDS = 15;\n    private static final int ENTRIES_LOCAL_HEAP = 1000;\n    private static final String LRU = &quot;LRU&quot;;\n\n    @Bean\n    public net.sf.ehcache.CacheManager ehCacheManager() {\n        final var transportLocationCache = new CacheConfiguration();\n        final var config = new net.sf.ehcache.config.Configuration();\n\n        transportLocationCache.setName(CACHE_NAME);\n        transportLocationCache.setMaxEntriesLocalHeap(ENTRIES_LOCAL_HEAP);\n        transportLocationCache.setMemoryStoreEvictionPolicy(LRU);\n        transportLocationCache.setTimeToLiveSeconds(TTL_SECONDS);\n        config.addCache(transportLocationCache);\n\n        return net.sf.ehcache.CacheManager.newInstance(config);\n    }\n\n    @Bean\n    @Override\n    public CacheManager cacheManager() {\n        return new EhCacheCacheManager(ehCacheManager());\n    }\n}\n</code></pre>\n<p>This is my service, where I am using Cacheable annotation. I have three methods where I am using this annotation and this is where I need to set different TTL for every method.</p>\n<pre><code>@Cacheable(value = TRANSPORT_LOCATIONS, cacheManager = CACHE_MANAGER, key = ROOT_METHOD_NAME, sync = true)\n</code></pre>\n<p>Do you have any suggestions, how to do that?</p>\n<p>Thank you very much.</p>\n"},{"tags":["java","visual-studio","visual-studio-2017","visual-studio-extensions"],"comments":[{"owner":{"account_id":15988,"reputation":872878,"user_id":34397,"accept_rate":87,"display_name":"SLaks"},"score":4,"creation_date":1509035074,"post_id":46959271,"comment_id":80865982,"body_markdown":"That&#39;s a VS Code extension, not VS.","body":"That&#39;s a VS Code extension, not VS."},{"owner":{"account_id":11514158,"reputation":3581,"user_id":8437974,"accept_rate":60,"display_name":"Germa Vinsmoke"},"score":0,"creation_date":1509035156,"post_id":46959271,"comment_id":80866030,"body_markdown":"@SLaks I checked many videos of how to use java in Visual studio, everyone said to use this extension but it&#39;s showing me an error","body":"@SLaks I checked many videos of how to use java in Visual studio, everyone said to use this extension but it&#39;s showing me an error"},{"owner":{"account_id":15988,"reputation":872878,"user_id":34397,"accept_rate":87,"display_name":"SLaks"},"score":0,"creation_date":1509035365,"post_id":46959271,"comment_id":80866160,"body_markdown":"That isn&#39;t a Visual Studio extension, and it cannot be used with Visual Studio.  You need https://code.visualstudio.com/.","body":"That isn&#39;t a Visual Studio extension, and it cannot be used with Visual Studio.  You need <a href=\"https://code.visualstudio.com/\" rel=\"nofollow noreferrer\">code.visualstudio.com</a>."},{"owner":{"account_id":11514158,"reputation":3581,"user_id":8437974,"accept_rate":60,"display_name":"Germa Vinsmoke"},"score":0,"creation_date":1509035819,"post_id":46959271,"comment_id":80866407,"body_markdown":"Thanks @SLaks you solved all my problems","body":"Thanks @SLaks you solved all my problems"},{"owner":{"account_id":5524451,"reputation":183,"user_id":4386387,"display_name":"trisaratops"},"score":1,"creation_date":1541982546,"post_id":46959271,"comment_id":93393810,"body_markdown":"Are there still no VS 2017 options?","body":"Are there still no VS 2017 options?"},{"owner":{"account_id":9133385,"reputation":1544,"user_id":6794075,"accept_rate":57,"display_name":"Andrew"},"score":0,"creation_date":1578433150,"post_id":46959271,"comment_id":105435179,"body_markdown":"I&#39;m also looking for a solution, not a work around of using another IDE (VScode instead of VS2017)","body":"I&#39;m also looking for a solution, not a work around of using another IDE (VScode instead of VS2017)"}],"answers":[{"tags":[],"owner":{"account_id":15988,"reputation":872878,"user_id":34397,"accept_rate":87,"display_name":"SLaks"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1509036918,"creation_date":1509036918,"answer_id":46959827,"question_id":46959271,"body_markdown":"That&#39;s a VS Code extension.\r\n\r\nYou can only use it with VS Code, not Visual Studio.\r\n\r\nhttps://code.visualstudio.com/","title":"How to use Java in Visual Studio 2017","body":"<p>That's a VS Code extension.</p>\n\n<p>You can only use it with VS Code, not Visual Studio.</p>\n\n<p><a href=\"https://code.visualstudio.com/\" rel=\"noreferrer\">https://code.visualstudio.com/</a></p>\n"}],"owner":{"account_id":11514158,"reputation":3581,"user_id":8437974,"accept_rate":60,"display_name":"Germa Vinsmoke"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26505,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":46959827,"answer_count":1,"score":4,"last_activity_date":1637836537,"creation_date":1509034894,"question_id":46959271,"body_markdown":"I tried installing Java Language Support plugin but it was showing me an error.\r\n&gt;This extension is not installable on any current installed products.\r\n\r\nAn install log was also given with it.\r\nhttps://drive.google.com/file/d/0By65eR3APuDSaXdacVBwVlJ4bTg/view?usp=sharing","title":"How to use Java in Visual Studio 2017","body":"<p>I tried installing Java Language Support plugin but it was showing me an error.</p>\n\n<blockquote>\n  <p>This extension is not installable on any current installed products.</p>\n</blockquote>\n\n<p>An install log was also given with it.\n<a href=\"https://drive.google.com/file/d/0By65eR3APuDSaXdacVBwVlJ4bTg/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/0By65eR3APuDSaXdacVBwVlJ4bTg/view?usp=sharing</a></p>\n"},{"tags":["java","spring","swagger","openapi","swagger-codegen"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1637836931,"post_id":70109444,"comment_id":123934524,"body_markdown":"if it is `in: query` (GET), it will be a `@RequestParam` ..if it is `in: body` (POST/PUT), then a `@RequestBody` ...?","body":"if it is <code>in: query</code> (GET), it will be a <code>@RequestParam</code> ..if it is <code>in: body</code> (POST/PUT), then a <code>@RequestBody</code> ...?"},{"owner":{"account_id":11791627,"reputation":1124,"user_id":8627570,"accept_rate":46,"display_name":"Maciaz"},"score":0,"creation_date":1637837027,"post_id":70109444,"comment_id":123934570,"body_markdown":"Meaning there&#39;s no way to make generator NOT add the annotation?","body":"Meaning there&#39;s no way to make generator NOT add the annotation?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1637837370,"post_id":70109444,"comment_id":123934712,"body_markdown":"It does exactly what you configured your API to be, if it isn&#39;t a parameter then don&#39;t write your API in that way.","body":"It does exactly what you configured your API to be, if it isn&#39;t a parameter then don&#39;t write your API in that way."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1637837441,"post_id":70109444,"comment_id":123934743,"body_markdown":"is it a GET or a POST ??? If you do `in: body`, then it will be `@RequestBody` (and the list of alternatives is finite (only @PathVariable (in: path) or @RequestParam (in: query) or ..body)","body":"is it a GET or a POST ??? If you do <code>in: body</code>, then it will be <code>@RequestBody</code> (and the list of alternatives is finite (only @PathVariable (in: path) or @RequestParam (in: query) or ..body)"},{"owner":{"account_id":11791627,"reputation":1124,"user_id":8627570,"accept_rate":46,"display_name":"Maciaz"},"score":0,"creation_date":1637837537,"post_id":70109444,"comment_id":123934788,"body_markdown":"@M.Deinum - It is a parameter. Every single value of an object could be a separate parameter. Spring just can&#39;t bind the parameter values to that grouping object.","body":"@M.Deinum - It is a parameter. Every single value of an object could be a separate parameter. Spring just can&#39;t bind the parameter values to that grouping object."},{"owner":{"account_id":39252,"reputation":89812,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1637840673,"post_id":70109444,"comment_id":123935979,"body_markdown":"Query parameters in OpenAPI can only be simple objects with primitive properties, they [cannot be nested objects](https://stackoverflow.com/a/67780788/113116) like in your example. Nested objects should be either passed in the request body (as other commenters suggested), or split into separate query parameters.","body":"Query parameters in OpenAPI can only be simple objects with primitive properties, they <a href=\"https://stackoverflow.com/a/67780788/113116\">cannot be nested objects</a> like in your example. Nested objects should be either passed in the request body (as other commenters suggested), or split into separate query parameters."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1637841576,"post_id":70109444,"comment_id":123936341,"body_markdown":"As stated OpenAPI generates what you told it to do. Which is that you are sending a parameter, spring has no problem in binding that however the value of the parameter should be then send as a JSON value of that parameter.","body":"As stated OpenAPI generates what you told it to do. Which is that you are sending a parameter, spring has no problem in binding that however the value of the parameter should be then send as a JSON value of that parameter."}],"owner":{"account_id":11791627,"reputation":1124,"user_id":8627570,"accept_rate":46,"display_name":"Maciaz"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":801,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637835976,"creation_date":1637835976,"question_id":70109444,"body_markdown":"Instead of having multiple separate parameters attached to an endpoint I have grouped them into an object that looks like:\r\n\r\n```\r\nsaleParameters:\r\n  in: query\r\n  name: saleParameters\r\n  schema:\r\n\ttype: object\r\n\tproperties:\r\n\t  userIds:\r\n\t\ttype: array\r\n\t\titems:\r\n\t\t  type: integer\r\n\t\t  format: int64\r\n\t  notification:\r\n\t\ttype: boolean\r\n\t  type:\r\n\t\t$ref: &#39;#/components/schemas/SaleType&#39;\r\n\t  categories:\r\n\t\ttype: array\r\n\t\titems:\r\n\t\t  type: string\r\n\t  purpose:\r\n\t\ttype: string\r\n  style: form\r\n  explode: true\r\n```\r\n\r\nThen I&#39;m generating API with swagger generator, but the query parameter values won&#39;t bind to an object, because swagger adds `@RequestParam` like here:\r\n```\r\ndefault ResponseEntity&lt;byte[]&gt; getSaleLogs(\r\n@ApiParam(value = &quot;&quot;) @Valid @RequestParam(value = &quot;saleParameters&quot;, required = false) SaleParametersDTO saleParameters\r\n```\r\n\r\nWithout the annotation everything works fine. Is there a way to make swagger not generate `@RequestParam` annotation?","title":"Swagger - skip @RequestParam on query parameter grouping object","body":"<p>Instead of having multiple separate parameters attached to an endpoint I have grouped them into an object that looks like:</p>\n<pre><code>saleParameters:\n  in: query\n  name: saleParameters\n  schema:\n    type: object\n    properties:\n      userIds:\n        type: array\n        items:\n          type: integer\n          format: int64\n      notification:\n        type: boolean\n      type:\n        $ref: '#/components/schemas/SaleType'\n      categories:\n        type: array\n        items:\n          type: string\n      purpose:\n        type: string\n  style: form\n  explode: true\n</code></pre>\n<p>Then I'm generating API with swagger generator, but the query parameter values won't bind to an object, because swagger adds <code>@RequestParam</code> like here:</p>\n<pre><code>default ResponseEntity&lt;byte[]&gt; getSaleLogs(\n@ApiParam(value = &quot;&quot;) @Valid @RequestParam(value = &quot;saleParameters&quot;, required = false) SaleParametersDTO saleParameters\n</code></pre>\n<p>Without the annotation everything works fine. Is there a way to make swagger not generate <code>@RequestParam</code> annotation?</p>\n"},{"tags":["java","android","xml","android-layout","user-interface"],"comments":[{"owner":{"account_id":13698816,"reputation":1476,"user_id":9884628,"display_name":"Karan Mehta"},"score":0,"creation_date":1637839455,"post_id":70109213,"comment_id":123935541,"body_markdown":"You just need to use simple MaterialCardView and give more margin to them and give higher amount of cardElevation.","body":"You just need to use simple MaterialCardView and give more margin to them and give higher amount of cardElevation."}],"owner":{"account_id":11289841,"reputation":392,"user_id":8279321,"display_name":"Taha alam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":335,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637835695,"creation_date":1637834946,"question_id":70109213,"body_markdown":"Trying to make the button as shown  in android\r\n\r\n[![Neumorphic buttons][1]][1]\r\n\r\n\r\ntried libraries like   [https://github.com/fornewid/neumorphism][2]\r\n\r\n\r\nwhich make it as \r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kcu6c.png\r\n  [2]: https://github.com/fornewid/neumorphism\r\n  [3]: https://i.stack.imgur.com/kfwwn.png\r\n\r\n    \r\n    &lt;soup.neumorphism.NeumorphCardView\r\n\r\n        android:id=&quot;@+id/card_tranfer&quot;\r\n        android:layout_width=&quot;@dimen/_90sdp&quot;\r\n        android:layout_height=&quot;@dimen/_85sdp&quot;\r\n        android:padding=&quot;0dp&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:neumorph_shadowColorLight=&quot;#F4F7F4&quot;\r\n        app:neumorph_shapeType=&quot;flat&quot;\r\n        android:layout_marginStart=&quot;@dimen/_11sdp&quot;\r\n        app:neumorph_backgroundColor=&quot;#EFF0EF&quot;\r\n        app:neumorph_cornerFamily=&quot;rounded&quot;\r\n        app:neumorph_cornerSize =&quot;18dp&quot;\r\n        app:neumorph_inset=&quot;5dp&quot;\r\n        &gt;\r\n\r\nunable to achieve the shadow of the button as per the first image ","title":"Neumorphic Design","body":"<p>Trying to make the button as shown  in android</p>\n<p><a href=\"https://i.stack.imgur.com/kcu6c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kcu6c.png\" alt=\"Neumorphic buttons\" /></a></p>\n<p>tried libraries like   <a href=\"https://github.com/fornewid/neumorphism\" rel=\"nofollow noreferrer\">https://github.com/fornewid/neumorphism</a></p>\n<p>which make it as</p>\n<p><a href=\"https://i.stack.imgur.com/kfwwn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kfwwn.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>&lt;soup.neumorphism.NeumorphCardView\n\n    android:id=&quot;@+id/card_tranfer&quot;\n    android:layout_width=&quot;@dimen/_90sdp&quot;\n    android:layout_height=&quot;@dimen/_85sdp&quot;\n    android:padding=&quot;0dp&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    app:neumorph_shadowColorLight=&quot;#F4F7F4&quot;\n    app:neumorph_shapeType=&quot;flat&quot;\n    android:layout_marginStart=&quot;@dimen/_11sdp&quot;\n    app:neumorph_backgroundColor=&quot;#EFF0EF&quot;\n    app:neumorph_cornerFamily=&quot;rounded&quot;\n    app:neumorph_cornerSize =&quot;18dp&quot;\n    app:neumorph_inset=&quot;5dp&quot;\n    &gt;\n</code></pre>\n<p>unable to achieve the shadow of the button as per the first image</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1628620365,"post_id":68731424,"comment_id":121468570,"body_markdown":"Your question does not make sense. An old-fashioned `Date` hasn’t got, as in cannot have a format. Nor a time zone nor a UTC offset. So no, no one can help you give you one that has.","body":"Your question does not make sense. An old-fashioned <code>Date</code> hasn’t got, as in cannot have a format. Nor a time zone nor a UTC offset. So no, no one can help you give you one that has."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1628620830,"post_id":68731424,"comment_id":121468741,"body_markdown":"A [mre], please? Also asking because from `toDate(LocalDateTime.of(2021, Month.AUGUST, 10, 0, 0), &quot;America/New_York&quot;)` I get `Tue Aug 10 06:00:00 CEST 2021`. It looks nothing like the `2021-08-10T00:00:00.000+02:00     \n` that you reported getting.","body":"A <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, please? Also asking because from <code>toDate(LocalDateTime.of(2021, Month.AUGUST, 10, 0, 0), &quot;America&#47;New_York&quot;)</code> I get <code>Tue Aug 10 06:00:00 CEST 2021</code>. It looks nothing like the <code>2021-08-10T00:00:00.000+02:00      </code> that you reported getting."}],"answers":[{"tags":[],"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628618715,"creation_date":1628618715,"answer_id":68731640,"question_id":68731424,"body_markdown":"It looks like you need to use a [DateTimeFormatter][1].  \r\nIf that is not sufficient,\r\ntry [DateTimeFormatterBuilder][2].\r\n\r\nTake a look at https://stackoverflow.com/questions/29710898/datetimeformatterbuilder-usages-in-java-8-specifically-optionals for examples of using a `DateTimeFormatterBuilder`.\r\n\r\n\r\n[1]:https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\r\n[2]:https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatterBuilder.html","title":"Convert Date ( Google Calendar api ) to Date with timezone","body":"<p>It looks like you need to use a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">DateTimeFormatter</a>.<br />\nIf that is not sufficient,\ntry <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatterBuilder.html\" rel=\"nofollow noreferrer\">DateTimeFormatterBuilder</a>.</p>\n<p>Take a look at <a href=\"https://stackoverflow.com/questions/29710898/datetimeformatterbuilder-usages-in-java-8-specifically-optionals\">DateTimeFormatterBuilder usages in Java 8, specifically optionals</a> for examples of using a <code>DateTimeFormatterBuilder</code>.</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1628619452,"creation_date":1628618858,"answer_id":68731660,"question_id":68731424,"body_markdown":"# *java.time* \r\n\r\nThe `java.util` Date-Time API and their formatting API, `SimpleDateFormat` are outdated and error-prone. It is recommended to stop using them completely and switch to the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html)&lt;sup&gt;*&lt;/sup&gt;.\r\n\r\n**A sample solution using `java.time`, the modern Date-Time API:** You can use [`ZonedDateTime#withZoneSameInstant`](https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#withZoneSameInstant-java.time.ZoneId-) for this purpose.\r\n\r\n    import java.time.ZoneId;\r\n    import java.time.ZonedDateTime;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tZoneId sourceZone = ZoneId.of(&quot;Europe/Berlin&quot;);\r\n    \t\tZonedDateTime zdtSource = ZonedDateTime.now(sourceZone);\r\n    \t\tSystem.out.println(zdtSource);\r\n    \r\n    \t\tZoneId targetZone = ZoneId.of(&quot;America/New_York&quot;);\r\n    \t\tZonedDateTime zdtTarget = zdtSource.withZoneSameInstant(targetZone);\r\n    \t\tSystem.out.println(zdtTarget);\r\n    \t}\r\n    }\r\n    \r\n**Output from a sample run:**\r\n\r\n    2021-08-10T20:06:24.023038+02:00[Europe/Berlin]\r\n    2021-08-10T14:06:24.023038-04:00[America/New_York]\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;][1]\r\n\r\n### What if I need `OffsetDateTime`?\r\n\r\nYou can use [`ZonedDateTime#toOffsetDateTime`](https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#toOffsetDateTime--) to get `OffsetDateTime` out of a `ZonedDateTime` object e.g.\r\n\r\n    OffsetDateTime odtTarget = zdtTarget.toOffsetDateTime();\r\n\r\n**Note:** For any reason, if you need to convert this object of `ZonedDateTime` to an object of `java.util.Date`, you can do so as follows:\r\n\r\n    Date date = Date.from(zdtTarget.toInstant());\r\n\r\nLearn more about the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html)&lt;sup&gt;*&lt;/sup&gt; from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n***\r\n&lt;sup&gt;* For any reason, if you have to stick to Java 6 or Java 7, you can use [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) which backports most of the *java.time* functionality to Java 6 &amp; 7. If you are working for an Android project and your Android API level is still not compliant with Java-8, check [Java 8+ APIs available through desugaring](https://developer.android.com/studio/write/java8-support-table) and [How to use ThreeTenABP in Android Project](https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project).\r\n&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://ideone.com/WGivEr","title":"Convert Date ( Google Calendar api ) to Date with timezone","body":"<h1><em>java.time</em></h1>\n<p>The <code>java.util</code> Date-Time API and their formatting API, <code>SimpleDateFormat</code> are outdated and error-prone. It is recommended to stop using them completely and switch to the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a><sup>*</sup>.</p>\n<p><strong>A sample solution using <code>java.time</code>, the modern Date-Time API:</strong> You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#withZoneSameInstant-java.time.ZoneId-\" rel=\"nofollow noreferrer\"><code>ZonedDateTime#withZoneSameInstant</code></a> for this purpose.</p>\n<pre><code>import java.time.ZoneId;\nimport java.time.ZonedDateTime;\n\npublic class Main {\n    public static void main(String[] args) {\n        ZoneId sourceZone = ZoneId.of(&quot;Europe/Berlin&quot;);\n        ZonedDateTime zdtSource = ZonedDateTime.now(sourceZone);\n        System.out.println(zdtSource);\n\n        ZoneId targetZone = ZoneId.of(&quot;America/New_York&quot;);\n        ZonedDateTime zdtTarget = zdtSource.withZoneSameInstant(targetZone);\n        System.out.println(zdtTarget);\n    }\n}\n</code></pre>\n<p><strong>Output from a sample run:</strong></p>\n<pre><code>2021-08-10T20:06:24.023038+02:00[Europe/Berlin]\n2021-08-10T14:06:24.023038-04:00[America/New_York]\n</code></pre>\n<p><a href=\"https://ideone.com/WGivEr\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<h3>What if I need <code>OffsetDateTime</code>?</h3>\n<p>You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#toOffsetDateTime--\" rel=\"nofollow noreferrer\"><code>ZonedDateTime#toOffsetDateTime</code></a> to get <code>OffsetDateTime</code> out of a <code>ZonedDateTime</code> object e.g.</p>\n<pre><code>OffsetDateTime odtTarget = zdtTarget.toOffsetDateTime();\n</code></pre>\n<p><strong>Note:</strong> For any reason, if you need to convert this object of <code>ZonedDateTime</code> to an object of <code>java.util.Date</code>, you can do so as follows:</p>\n<pre><code>Date date = Date.from(zdtTarget.toInstant());\n</code></pre>\n<p>Learn more about the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a><sup>*</sup> from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n<hr />\n<p><sup>* For any reason, if you have to stick to Java 6 or Java 7, you can use <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> which backports most of the <em>java.time</em> functionality to Java 6 &amp; 7. If you are working for an Android project and your Android API level is still not compliant with Java-8, check <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">Java 8+ APIs available through desugaring</a> and <a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">How to use ThreeTenABP in Android Project</a>.\n</sup></p>\n"},{"tags":[],"owner":{"account_id":22122534,"reputation":2776,"user_id":16375479,"display_name":"devReddit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628619920,"creation_date":1628619920,"answer_id":68731865,"question_id":68731424,"body_markdown":"To get `java.util.Date` from with proper Zone conversion, first use `ZonedDateTime` and `DateTimeFormatter` from `java.time` and finally use `SimpleDateFormat` to get `java.util.Date`.\r\n\r\n    public static Date toDate(LocalDateTime startTime, String zoneId) throws ParseException {\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;hh:mm:ss.SSSZ&quot;);\r\n        ZonedDateTime source = startTime.atZone(ZoneId.of(&quot;Asia/Dhaka&quot;));\r\n        ZonedDateTime result = source.withZoneSameInstant(ZoneId.of(zoneId));\r\n        String date = result.format(formatter);\r\n        SimpleDateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;hh:mm:ss.SSSZ&quot;);\r\n        return format.parse(date);\r\n    }","title":"Convert Date ( Google Calendar api ) to Date with timezone","body":"<p>To get <code>java.util.Date</code> from with proper Zone conversion, first use <code>ZonedDateTime</code> and <code>DateTimeFormatter</code> from <code>java.time</code> and finally use <code>SimpleDateFormat</code> to get <code>java.util.Date</code>.</p>\n<pre><code>public static Date toDate(LocalDateTime startTime, String zoneId) throws ParseException {\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'hh:mm:ss.SSSZ&quot;);\n    ZonedDateTime source = startTime.atZone(ZoneId.of(&quot;Asia/Dhaka&quot;));\n    ZonedDateTime result = source.withZoneSameInstant(ZoneId.of(zoneId));\n    String date = result.format(formatter);\n    SimpleDateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd'T'hh:mm:ss.SSSZ&quot;);\n    return format.parse(date);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19299905,"reputation":49,"user_id":14108070,"display_name":"ali"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1628713966,"creation_date":1628713966,"answer_id":68748625,"question_id":68731424,"body_markdown":"Thank you for everyone , I read the comments and got the idea how to solve it from the comments then I ended up with the following code  \r\n\r\n    import com.google.api.client.util.DateTime;\r\n\r\n       public static DateTime toGoogleDateTime(LocalDateTime startTime, String zoneId) {\r\n        ZonedDateTime zdtSource = startTime.atZone(ZoneId.of(zoneId));\r\n        Date date = Date.from(zdtSource.toInstant());\r\n        return new DateTime(date, TimeZone.getTimeZone(ZoneId.of(zoneId)));\r\n    }\r\n\r\n\r\n\r\nthe zoneId gets from \r\n\r\nhttps://gist.github.com/adamgen/3f2c30361296bbb45ada43d83c1ac4e5\r\n","title":"Convert Date ( Google Calendar api ) to Date with timezone","body":"<p>Thank you for everyone , I read the comments and got the idea how to solve it from the comments then I ended up with the following code</p>\n<pre><code>import com.google.api.client.util.DateTime;\n\n   public static DateTime toGoogleDateTime(LocalDateTime startTime, String zoneId) {\n    ZonedDateTime zdtSource = startTime.atZone(ZoneId.of(zoneId));\n    Date date = Date.from(zdtSource.toInstant());\n    return new DateTime(date, TimeZone.getTimeZone(ZoneId.of(zoneId)));\n}\n</code></pre>\n<p>the zoneId gets from</p>\n<p><a href=\"https://gist.github.com/adamgen/3f2c30361296bbb45ada43d83c1ac4e5\" rel=\"nofollow noreferrer\">https://gist.github.com/adamgen/3f2c30361296bbb45ada43d83c1ac4e5</a></p>\n"},{"tags":[],"owner":{"account_id":19825775,"reputation":11,"user_id":14521375,"display_name":"Marisabel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637835477,"creation_date":1637834369,"answer_id":70109082,"question_id":68731424,"body_markdown":"I was looking for this and found an easy solution, so I thought I should share it.\r\n\r\nI just used a `toString` method:\r\n\r\n`date.toString()` and then modify the String.\r\n\r\n     private static String getFormattedDate(DateTime date) {\r\n            String string = date.toString();\r\n            String result = StringUtils.substring(string, 0, string.length() - 5);\r\n            return result;\r\n        }","title":"Convert Date ( Google Calendar api ) to Date with timezone","body":"<p>I was looking for this and found an easy solution, so I thought I should share it.</p>\n<p>I just used a <code>toString</code> method:</p>\n<p><code>date.toString()</code> and then modify the String.</p>\n<pre><code> private static String getFormattedDate(DateTime date) {\n        String string = date.toString();\n        String result = StringUtils.substring(string, 0, string.length() - 5);\n        return result;\n    }\n</code></pre>\n"}],"owner":{"account_id":19299905,"reputation":49,"user_id":14108070,"display_name":"ali"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":549,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":5,"score":0,"last_activity_date":1637835477,"creation_date":1628617645,"question_id":68731424,"body_markdown":"I am trying to convert a `localdatetime` to Date (which I use in Google Calendar api method) \r\n\r\n    Zone Id = &quot;America/New_York&quot;\r\n\r\nI always, get this result : \r\n\r\n    2021-08-10T00:00:00.000+02:00     \r\n\r\n+02:00 is my local time zone \r\n\r\nI want to get `-04:00 America/New_York` in same format as above\r\n\r\nHere is the method\r\n\r\n    public static Date toDate(LocalDateTime startTime, String zoneId) {\r\n        ZoneId zonedId = ZoneId.of(zoneId);\r\n        return Date.from(Instant.from(startTime.atZone(zonedId)));\r\n    }\r\n\r\nPlease anyone can help? ","title":"Convert Date ( Google Calendar api ) to Date with timezone","body":"<p>I am trying to convert a <code>localdatetime</code> to Date (which I use in Google Calendar api method)</p>\n<pre><code>Zone Id = &quot;America/New_York&quot;\n</code></pre>\n<p>I always, get this result :</p>\n<pre><code>2021-08-10T00:00:00.000+02:00     \n</code></pre>\n<p>+02:00 is my local time zone</p>\n<p>I want to get <code>-04:00 America/New_York</code> in same format as above</p>\n<p>Here is the method</p>\n<pre><code>public static Date toDate(LocalDateTime startTime, String zoneId) {\n    ZoneId zonedId = ZoneId.of(zoneId);\n    return Date.from(Instant.from(startTime.atZone(zonedId)));\n}\n</code></pre>\n<p>Please anyone can help?</p>\n"},{"tags":["java","pdf","genexus"],"comments":[{"owner":{"account_id":226783,"reputation":4353,"user_id":488012,"accept_rate":67,"display_name":"pmoleri"},"score":0,"creation_date":1370539521,"post_id":16966845,"comment_id":24507319,"body_markdown":"Which platform (linux/windows) is your server in?","body":"Which platform (linux/windows) is your server in?"}],"answers":[{"tags":[],"owner":{"account_id":226783,"reputation":4353,"user_id":488012,"accept_rate":67,"display_name":"pmoleri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634972674,"creation_date":1370539421,"answer_id":16968366,"question_id":16966845,"body_markdown":"First thing first, `rt.jar` shouldn&#39;t be in `WEB-INF\\lib`, perhaps you have in your classpath for compilation purposes but you shouldn&#39;t have it in runtime.\r\n\r\nMake sure your `itext.jar` and `gxclassr.jar` correspond to the generator version, i.e.: they are the same you have in your model web directory (JavaModel or DataXXX directory).\r\n\r\n\r\nLast, check the fonts that you are using in the report layout, some fonts might not be available in your server, which can cause error.","title":"java.lang.UnsatisfiedLinkError error when opening a PDF report","body":"<p>First thing first, <code>rt.jar</code> shouldn't be in <code>WEB-INF\\lib</code>, perhaps you have in your classpath for compilation purposes but you shouldn't have it in runtime.</p>\n<p>Make sure your <code>itext.jar</code> and <code>gxclassr.jar</code> correspond to the generator version, i.e.: they are the same you have in your model web directory (JavaModel or DataXXX directory).</p>\n<p>Last, check the fonts that you are using in the report layout, some fonts might not be available in your server, which can cause error.</p>\n"},{"tags":[],"owner":{"account_id":111208,"reputation":1645,"user_id":293918,"accept_rate":100,"display_name":"Alberto M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637835257,"creation_date":1637835257,"answer_id":70109282,"question_id":16966845,"body_markdown":"In Android usually UnsatisfiedLinkError means that the library doesn&#39;t have the method for that specific architecture or android version. \r\n\r\nI had this problem:\r\n-  when I was compiling the library with a newer ndk-build version:\r\n\r\n&gt; Android NDK: android-14 is unsupported. Using minimum supported\r\n&gt; version android-16.\r\n\r\n(I had to downgrade ndk-tools)\r\n\r\n- when I excluded the architecture from build.gradle with abiFilters\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"java.lang.UnsatisfiedLinkError error when opening a PDF report","body":"<p>In Android usually UnsatisfiedLinkError means that the library doesn't have the method for that specific architecture or android version.</p>\n<p>I had this problem:</p>\n<ul>\n<li>when I was compiling the library with a newer ndk-build version:</li>\n</ul>\n<blockquote>\n<p>Android NDK: android-14 is unsupported. Using minimum supported\nversion android-16.</p>\n</blockquote>\n<p>(I had to downgrade ndk-tools)</p>\n<ul>\n<li>when I excluded the architecture from build.gradle with abiFilters</li>\n</ul>\n"}],"owner":{"account_id":2752672,"reputation":1,"user_id":2371693,"display_name":"user2371693"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1637835257,"creation_date":1370534496,"question_id":16966845,"body_markdown":"I got the following error when I try to open a PDF file in my aplication:\r\n\r\n````\r\njavax.servlet.ServletException: java.lang.UnsatisfiedLinkError: sun.awt.font.NativeFontWrapper.getPlatformFontVar()Z\r\n\tat sun.awt.font.NativeFontWrapper.getPlatformFontVar(Native Method)\r\n\tat sun.awt.font.NativeFontWrapper.&lt;clinit&gt;(NativeFontWrapper.java:54)\r\n\tat uk.org.retep.pdf.SunPDFFontDescriptor.getTrueTypeFontLocation(Unknown Source)\r\n\tat com.genexus.reports.PDFReportItext.GxAttris(Unknown Source)\r\n\tat orcnescta01_impl.webExecute(orcnescta01_impl.java)\r\n\tat com.genexus.webpanels.GXWebObjectBase.doExecute(Unknown Source)\r\n\tat orcnescta01.doExecute(orcnescta01.java)\r\n\tat com.genexus.webpanels.GXWebObjectStub.callExecute(Unknown Source)\r\n\tat com.genexus.webpanels.GXWebObjectStub.doGet(Unknown Source)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:617)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:293)\r\n\tat org.apache.coyote.http11.Http11AprProcessor.process(Http11AprProcessor.java:879)\r\n\tat org.apache.coyote.http11.Http11AprProtocol$Http11ConnectionHandler.process(Http11AprProtocol.java:600)\r\n\tat org.apache.tomcat.util.net.AprEndpoint$Worker.run(AprEndpoint.java:1703)\r\n\tat java.lang.Thread.run(Thread.java:722)\r\n\r\n\tcom.genexus.webpanels.GXWebObjectStub.callExecute(Unknown Source)\r\n\tcom.genexus.webpanels.GXWebObjectStub.doGet(Unknown Source)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:617)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n````\r\n\r\nThe `rt.jar` and `iText.jar` are in the folder `WPAGE\\WEB-INF\\lib`. \r\n\r\nAny ideas why I got this problem?\r\n","title":"java.lang.UnsatisfiedLinkError error when opening a PDF report","body":"<p>I got the following error when I try to open a PDF file in my aplication:</p>\n<pre><code>javax.servlet.ServletException: java.lang.UnsatisfiedLinkError: sun.awt.font.NativeFontWrapper.getPlatformFontVar()Z\n    at sun.awt.font.NativeFontWrapper.getPlatformFontVar(Native Method)\n    at sun.awt.font.NativeFontWrapper.&lt;clinit&gt;(NativeFontWrapper.java:54)\n    at uk.org.retep.pdf.SunPDFFontDescriptor.getTrueTypeFontLocation(Unknown Source)\n    at com.genexus.reports.PDFReportItext.GxAttris(Unknown Source)\n    at orcnescta01_impl.webExecute(orcnescta01_impl.java)\n    at com.genexus.webpanels.GXWebObjectBase.doExecute(Unknown Source)\n    at orcnescta01.doExecute(orcnescta01.java)\n    at com.genexus.webpanels.GXWebObjectStub.callExecute(Unknown Source)\n    at com.genexus.webpanels.GXWebObjectStub.doGet(Unknown Source)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:617)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:293)\n    at org.apache.coyote.http11.Http11AprProcessor.process(Http11AprProcessor.java:879)\n    at org.apache.coyote.http11.Http11AprProtocol$Http11ConnectionHandler.process(Http11AprProtocol.java:600)\n    at org.apache.tomcat.util.net.AprEndpoint$Worker.run(AprEndpoint.java:1703)\n    at java.lang.Thread.run(Thread.java:722)\n\n    com.genexus.webpanels.GXWebObjectStub.callExecute(Unknown Source)\n    com.genexus.webpanels.GXWebObjectStub.doGet(Unknown Source)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:617)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n</code></pre>\n<p>The <code>rt.jar</code> and <code>iText.jar</code> are in the folder <code>WPAGE\\WEB-INF\\lib</code>.</p>\n<p>Any ideas why I got this problem?</p>\n"},{"tags":["java","mockito","powermockito"],"comments":[{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":1,"creation_date":1637858078,"post_id":70109279,"comment_id":123943062,"body_markdown":"I am not trying to be rude, but have you tried googling this? There&#39;s a ton of answers, e.g.\nhttps://stackoverflow.com/questions/34323909/verify-static-method-call-using-powermockito-1-6","body":"I am not trying to be rude, but have you tried googling this? There&#39;s a ton of answers, e.g. <a href=\"https://stackoverflow.com/questions/34323909/verify-static-method-call-using-powermockito-1-6\" title=\"verify static method call using powermockito 1 6\">stackoverflow.com/questions/34323909/&hellip;</a>"},{"owner":{"account_id":1682782,"reputation":7143,"user_id":2096986,"accept_rate":37,"display_name":"Felipe"},"score":0,"creation_date":1638006879,"post_id":70109279,"comment_id":123976254,"body_markdown":"`mockito-inline` with `Junit5` dismiss the use of `powermock*`. Try this -&gt; https://stackoverflow.com/a/70108375/2096986","body":"<code>mockito-inline</code> with <code>Junit5</code> dismiss the use of <code>powermock*</code>. Try this -&gt; <a href=\"https://stackoverflow.com/a/70108375/2096986\">stackoverflow.com/a/70108375/2096986</a>"},{"owner":{"account_id":19499426,"reputation":45,"user_id":14265892,"display_name":"Anurag"},"score":0,"creation_date":1638022255,"post_id":70109279,"comment_id":123979253,"body_markdown":"@Felipe , actually I am forced to use Junit 4.","body":"@Felipe , actually I am forced to use Junit 4."}],"owner":{"account_id":19499426,"reputation":45,"user_id":14265892,"display_name":"Anurag"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637835250,"creation_date":1637835250,"question_id":70109279,"body_markdown":"Code under test:\r\n\r\n```\r\npublic class MyClass {\r\n  public static void methodA() {\r\n    methodB(x, y);  //x and y are some variables\r\n  }\r\n\r\n  public static void methodB(int x, ArrayList&lt;String&gt; y) {\r\n    //do something\r\n  }\r\n}\r\n```\r\n\r\nTest Case:\r\n```\r\n    @Test\r\n    public void testMethodA() {\r\n\r\n        PowerMockito.stub(PowerMockito.method(MyClass.class, &quot;methodB&quot;, Integer.class, ArrayList.class)).toReturn(null);\r\n\r\n        MyClass.methodA();\r\n\r\n        //TODO: verification\r\n    }\r\n```\r\n\r\nHow can I verify that methodB was called atleast once?","title":"How to assert an internally called and stubbed static method?","body":"<p>Code under test:</p>\n<pre><code>public class MyClass {\n  public static void methodA() {\n    methodB(x, y);  //x and y are some variables\n  }\n\n  public static void methodB(int x, ArrayList&lt;String&gt; y) {\n    //do something\n  }\n}\n</code></pre>\n<p>Test Case:</p>\n<pre><code>    @Test\n    public void testMethodA() {\n\n        PowerMockito.stub(PowerMockito.method(MyClass.class, &quot;methodB&quot;, Integer.class, ArrayList.class)).toReturn(null);\n\n        MyClass.methodA();\n\n        //TODO: verification\n    }\n</code></pre>\n<p>How can I verify that methodB was called atleast once?</p>\n"},{"tags":["java","scala","listview","javafx","scalafx"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1637841618,"post_id":70108149,"comment_id":123936361,"body_markdown":"hmm .. (don&#39;t know the scala version but) for plain fx it would be something like listUser.getSelectionModel:  the method returns a MultipleSelectionModel.","body":"hmm .. (don&#39;t know the scala version but) for plain fx it would be something like listUser.getSelectionModel:  the method returns a MultipleSelectionModel."},{"owner":{"account_id":20062369,"reputation":1,"user_id":14708831,"display_name":"Bryan Liew"},"score":0,"creation_date":1637860708,"post_id":70108149,"comment_id":123944019,"body_markdown":"@kleopatra thanks for the help. I will give it a try later. I think I might just run a forloop on the selectionModel() for the listview to send the message to everyone","body":"@kleopatra thanks for the help. I will give it a try later. I think I might just run a forloop on the selectionModel() for the listview to send the message to everyone"}],"owner":{"account_id":20062369,"reputation":1,"user_id":14708831,"display_name":"Bryan Liew"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637833886,"creation_date":1637830025,"question_id":70108149,"body_markdown":"I want to come up with a messaging app. Right now, it works for 1 to 1 conversation. However, I am trying to come up with a button that broadcasts the message to everyone.\r\n\r\nI am thinking to use MultipleSelectionModel() to select all items in listView. However, MultipleSelectionModel() is not a member of listview. (selectionModel is though)\r\n\r\nHere is what I have come up with so far\r\n\r\n    package com.hep88.view\r\n    import akka.actor.typed.ActorRef\r\n    import scalafxml.core.macros.sfxml\r\n    import scalafx.event.ActionEvent\r\n    import scalafx.scene.control.{Label, ListView, TextField}\r\n    import com.hep88.ChatClient\r\n    import com.hep88.User\r\n    import com.hep88.Group\r\n    import com.hep88.Client\r\n    import scalafx.collections.ObservableBuffer\r\n    import scalafx.Includes._\r\n    @sfxml\r\n    class MainWindowController(private val txtName: TextField,\r\n    private val lblStatus: Label, private val listUser: ListView[User],\r\n    private val lblGStatus: Label, private val listGroup: ListView[Group],\r\n    private val listMessage: ListView[String],\r\n    private val txtMessage: TextField) {\r\n    \r\n        def handleSend(actionEvent: ActionEvent): Unit ={\r\n\r\n    if (listUser.selectionModel().selectedIndex.value &gt;= 0){\r\n      Client.greeterMain ! ChatClient.SendMessageL(listUser.selectionModel().selectedItem.value.ref,\r\n        txtMessage.text())\r\n    }\r\n\r\n  }\r\n    \r\n  \r\n\r\nI am trying to do something like \r\n\r\n    Client.greeterMain ! ChatClient.SendMessageL(listUser.multipleSelectionModel().selectall.value.ref,\r\n         txtMessage.text())\r\n\r\n\r\nObviously, it didn&#39;t work. Any suggestions on how can I get this to work? ","title":"ScalaFX | ListView | How do I select all item in listview using selectionModel()?","body":"<p>I want to come up with a messaging app. Right now, it works for 1 to 1 conversation. However, I am trying to come up with a button that broadcasts the message to everyone.</p>\n<p>I am thinking to use MultipleSelectionModel() to select all items in listView. However, MultipleSelectionModel() is not a member of listview. (selectionModel is though)</p>\n<p>Here is what I have come up with so far</p>\n<pre><code>package com.hep88.view\nimport akka.actor.typed.ActorRef\nimport scalafxml.core.macros.sfxml\nimport scalafx.event.ActionEvent\nimport scalafx.scene.control.{Label, ListView, TextField}\nimport com.hep88.ChatClient\nimport com.hep88.User\nimport com.hep88.Group\nimport com.hep88.Client\nimport scalafx.collections.ObservableBuffer\nimport scalafx.Includes._\n@sfxml\nclass MainWindowController(private val txtName: TextField,\nprivate val lblStatus: Label, private val listUser: ListView[User],\nprivate val lblGStatus: Label, private val listGroup: ListView[Group],\nprivate val listMessage: ListView[String],\nprivate val txtMessage: TextField) {\n\n    def handleSend(actionEvent: ActionEvent): Unit ={\n\nif (listUser.selectionModel().selectedIndex.value &gt;= 0){\n  Client.greeterMain ! ChatClient.SendMessageL(listUser.selectionModel().selectedItem.value.ref,\n    txtMessage.text())\n}\n</code></pre>\n<p>}</p>\n<p>I am trying to do something like</p>\n<pre><code>Client.greeterMain ! ChatClient.SendMessageL(listUser.multipleSelectionModel().selectall.value.ref,\n     txtMessage.text())\n</code></pre>\n<p>Obviously, it didn't work. Any suggestions on how can I get this to work?</p>\n"},{"tags":["java","loops"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1637829639,"post_id":70108043,"comment_id":123931634,"body_markdown":"what datatype is your sourceID?","body":"what datatype is your sourceID?"},{"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"score":2,"creation_date":1637829642,"post_id":70108043,"comment_id":123931638,"body_markdown":"Is the ID an `int` or `String`? If it is `String`, use `equals`, not `==`. About your error: Use `comps.get(i)`.","body":"Is the ID an <code>int</code> or <code>String</code>? If it is <code>String</code>, use <code>equals</code>, not <code>==</code>. About your error: Use <code>comps.get(i)</code>."},{"owner":{"account_id":21231428,"reputation":1,"user_id":15616041,"display_name":"El-Gohary"},"score":0,"creation_date":1637829723,"post_id":70108043,"comment_id":123931669,"body_markdown":"source ID is integer","body":"source ID is integer"},{"owner":{"account_id":10787773,"reputation":362,"user_id":7936276,"display_name":"kry"},"score":0,"creation_date":1637829763,"post_id":70108043,"comment_id":123931686,"body_markdown":"If comps is the arraylist, you can turn it to array with comps.toArray(); method, it will not turn comps into one, but will return it, so you might need an another variable to hold it.","body":"If comps is the arraylist, you can turn it to array with comps.toArray(); method, it will not turn comps into one, but will return it, so you might need an another variable to hold it."}],"answers":[{"tags":[],"owner":{"account_id":4695770,"reputation":510,"user_id":3800679,"accept_rate":62,"display_name":"BrokenFrog"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1637829708,"creation_date":1637829708,"answer_id":70108093,"question_id":70108043,"body_markdown":"You are using ArrayList which means that you can&#39;t use brackets for indexing, what you should do is:\r\n\r\n    for(int i=0; i&lt;comps.size(); i++){\r\n        if(a==comps.get(i).sourceID){\r\n             comps.get(i).flip();\r\n        }\r\n    }\r\n\r\nAlso I suggest you to look into streams, which makes it easier","title":"looking for object with certain local variable in an array list","body":"<p>You are using ArrayList which means that you can't use brackets for indexing, what you should do is:</p>\n<pre><code>for(int i=0; i&lt;comps.size(); i++){\n    if(a==comps.get(i).sourceID){\n         comps.get(i).flip();\n    }\n}\n</code></pre>\n<p>Also I suggest you to look into streams, which makes it easier</p>\n"},{"tags":[],"owner":{"account_id":13487072,"reputation":1,"user_id":9730560,"display_name":"furkansdayioglu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637829781,"creation_date":1637829781,"answer_id":70108109,"question_id":70108043,"body_markdown":"You are trying to access array member by []. you should try comps.get(i)","title":"looking for object with certain local variable in an array list","body":"<p>You are trying to access array member by []. you should try comps.get(i)</p>\n"},{"tags":[],"owner":{"account_id":23441639,"reputation":23,"user_id":17499053,"display_name":"Zaid Fanek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637833530,"creation_date":1637833530,"answer_id":70108895,"question_id":70108043,"body_markdown":" A list does not have indexing like Arrays, use comps.get(i) for lists. For more options write down comps. and look what the IDE suggests you. There are neat things a list can do.\r\nShould look something like this:\r\n\r\n    for(int i=0; i&lt;comps.size(); i++) {\r\n    if( a==comps.get(i).sourceID ) {\r\n         comps.get(i).flip(); }\r\n    }\r\n\r\n   ","title":"looking for object with certain local variable in an array list","body":"<p>A list does not have indexing like Arrays, use comps.get(i) for lists. For more options write down comps. and look what the IDE suggests you. There are neat things a list can do.\nShould look something like this:</p>\n<pre><code>for(int i=0; i&lt;comps.size(); i++) {\nif( a==comps.get(i).sourceID ) {\n     comps.get(i).flip(); }\n}\n</code></pre>\n"}],"owner":{"account_id":21231428,"reputation":1,"user_id":15616041,"display_name":"El-Gohary"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1637833530,"creation_date":1637829479,"question_id":70108043,"body_markdown":"I have an array list &quot;comps&quot; of an object components each component has a specific ID.\r\nI want to search the array for a components with a certain ID use it in a method flip.\r\n\r\n    for(int i=0; i&lt;comps.size(); i++){\r\n                        if(a==comps[i].sourceID){\r\n                            comps[i].flip();\r\n                        }\r\n                    }\r\nI did this but it is not working as I expect it to do. I get an error saying &quot;Array required, but ArrayList&lt;components&gt; found&quot;","title":"looking for object with certain local variable in an array list","body":"<p>I have an array list &quot;comps&quot; of an object components each component has a specific ID.\nI want to search the array for a components with a certain ID use it in a method flip.</p>\n<pre><code>for(int i=0; i&lt;comps.size(); i++){\n                    if(a==comps[i].sourceID){\n                        comps[i].flip();\n                    }\n                }\n</code></pre>\n<p>I did this but it is not working as I expect it to do. I get an error saying &quot;Array required, but ArrayList found&quot;</p>\n"},{"tags":["java","curl","http-headers","http-token-authentication"],"comments":[{"owner":{"account_id":2339515,"reputation":3576,"user_id":2051126,"accept_rate":71,"display_name":"Somnath Musib"},"score":0,"creation_date":1508892627,"post_id":46922151,"comment_id":80791676,"body_markdown":"You need to authenticate yourself.","body":"You need to authenticate yourself."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1508892792,"post_id":46922151,"comment_id":80791716,"body_markdown":"see https://stackoverflow.com/questions/12732422/adding-header-for-httpurlconnection","body":"see <a href=\"https://stackoverflow.com/questions/12732422/adding-header-for-httpurlconnection\" title=\"adding header for httpurlconnection\">stackoverflow.com/questions/12732422/&hellip;</a>"},{"owner":{"account_id":317159,"reputation":8327,"user_id":633684,"display_name":"xiaofeng.li"},"score":1,"creation_date":1508894136,"post_id":46922151,"comment_id":80791987,"body_markdown":"Drop the `:` in `&quot;Authorization:&quot;`.","body":"Drop the <code>:</code> in <code>&quot;Authorization:&quot;</code>."},{"owner":{"account_id":1136217,"reputation":14336,"user_id":1121249,"accept_rate":86,"display_name":"rkosegi"},"score":0,"creation_date":1508913973,"post_id":46922151,"comment_id":80798043,"body_markdown":"As @xiaofeng.li correctly pointed out, you have unnecessary `:` in header name, should be like this : `con.setRequestProperty(&quot;Authorization&quot;, &quot;Token &quot; + token);`","body":"As @xiaofeng.li correctly pointed out, you have unnecessary <code>:</code> in header name, should be like this : <code>con.setRequestProperty(&quot;Authorization&quot;, &quot;Token &quot; + token);</code>"},{"owner":{"account_id":9353267,"reputation":136,"user_id":6942218,"accept_rate":100,"display_name":"Ron95"},"score":0,"creation_date":1508947369,"post_id":46922151,"comment_id":80821396,"body_markdown":"@rkosegi Thanks for the advice, when I include the colon I get a &quot;Unauthorized&quot; response, and without it I get an &quot;Internal Server Error&quot; response.","body":"@rkosegi Thanks for the advice, when I include the colon I get a &quot;Unauthorized&quot; response, and without it I get an &quot;Internal Server Error&quot; response."},{"owner":{"account_id":317159,"reputation":8327,"user_id":633684,"display_name":"xiaofeng.li"},"score":0,"creation_date":1508970835,"post_id":46922151,"comment_id":80833546,"body_markdown":"@ConorNaylor `Internal Server Error` means there&#39;s something wrong with the server. It also means you passed authentication.","body":"@ConorNaylor <code>Internal Server Error</code> means there&#39;s something wrong with the server. It also means you passed authentication."},{"owner":{"account_id":9353267,"reputation":136,"user_id":6942218,"accept_rate":100,"display_name":"Ron95"},"score":0,"creation_date":1508972358,"post_id":46922151,"comment_id":80834039,"body_markdown":"@xiaofeng.li Again, I appreciate the help, I actually managed to find the answer in this post:\nhttps://stackoverflow.com/questions/8760052/httpurlconnection-sends-a-post-request-even-though-httpcon-setrequestmethodget","body":"@xiaofeng.li Again, I appreciate the help, I actually managed to find the answer in this post: <a href=\"https://stackoverflow.com/questions/8760052/httpurlconnection-sends-a-post-request-even-though-httpcon-setrequestmethodget\" title=\"httpurlconnection sends a post request even though httpcon setrequestmethodget\">stackoverflow.com/questions/8760052/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":9353267,"reputation":136,"user_id":6942218,"accept_rate":100,"display_name":"Ron95"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1516472227,"creation_date":1516472227,"answer_id":48359573,"question_id":46922151,"body_markdown":"It turns out this issue was caused by including the `con.setDoOutput(true);` as get requests do not include a body.","title":"Java HTTP Request with Token Authentication","body":"<p>It turns out this issue was caused by including the <code>con.setDoOutput(true);</code> as get requests do not include a body.</p>\n"},{"tags":[],"owner":{"account_id":13270410,"reputation":31,"user_id":9581672,"display_name":"Ahmed Elkhodary"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1558272202,"creation_date":1558272202,"answer_id":56208237,"question_id":46922151,"body_markdown":"try this \r\ncon.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer &quot; + token);\r\n","title":"Java HTTP Request with Token Authentication","body":"<p>try this \ncon.setRequestProperty(\"Authorization\", \"Bearer \" + token);</p>\n"}],"owner":{"account_id":9353267,"reputation":136,"user_id":6942218,"accept_rate":100,"display_name":"Ron95"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13269,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":48359573,"answer_count":2,"score":3,"last_activity_date":1637833171,"creation_date":1508892302,"question_id":46922151,"body_markdown":"I am trying to make a GET request to a local server I have running. I am having trouble returning the correct data, I am seeing an &#39;Unauthorized&#39; response. Can anyone spot any glaring issues with this given that the String &#39;token&#39; is correct.\r\n\r\n        protected Object doInBackground(Void... params) {\r\n            try {\r\n                String url = &quot;http://192.168.0.59:8000/events/&quot;;\r\n                URL object = new URL(url);\r\n                HttpURLConnection con = (HttpURLConnection) object.openConnection();\r\n                con.setDoOutput(true);\r\n                con.setDoInput(true);\r\n                con.setRequestMethod(&quot;GET&quot;);\r\n                con.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; charset=UTF-8&quot;);\r\n                con.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n                con.setRequestProperty(&quot;Authorization:&quot;, &quot;Token &quot; + token);\r\n               \r\n                //Display what the GET request returns\r\n                StringBuilder sb = new StringBuilder();\r\n                int HttpResult = con.getResponseCode();\r\n                if (HttpResult == HttpURLConnection.HTTP_OK) {\r\n                    BufferedReader br = new BufferedReader(\r\n                            new InputStreamReader(con.getInputStream(), &quot;utf-8&quot;));\r\n                    String line = null;\r\n                    while ((line = br.readLine()) != null) {\r\n                        sb.append(line + &quot;\\n&quot;);\r\n                    }\r\n                    br.close();\r\n                } else {\r\n                    System.out.println(con.getResponseMessage());\r\n                }\r\n            } catch (Exception e) {\r\n                Log.d(&quot;Uh Oh&quot;,&quot;Check your network.&quot;);\r\n                return false;\r\n            }\r\n            return false;\r\n}*\r\n\r\nI was able to get a curl request working from the command line:\r\n\r\n    curl -H &quot;Authorization: Token token&quot; http://0.0.0.0:8000/events/","title":"Java HTTP Request with Token Authentication","body":"<p>I am trying to make a GET request to a local server I have running. I am having trouble returning the correct data, I am seeing an 'Unauthorized' response. Can anyone spot any glaring issues with this given that the String 'token' is correct.</p>\n\n<pre><code>    protected Object doInBackground(Void... params) {\n        try {\n            String url = \"http://192.168.0.59:8000/events/\";\n            URL object = new URL(url);\n            HttpURLConnection con = (HttpURLConnection) object.openConnection();\n            con.setDoOutput(true);\n            con.setDoInput(true);\n            con.setRequestMethod(\"GET\");\n            con.setRequestProperty(\"Content-Type\", \"application/json; charset=UTF-8\");\n            con.setRequestProperty(\"Accept\", \"application/json\");\n            con.setRequestProperty(\"Authorization:\", \"Token \" + token);\n\n            //Display what the GET request returns\n            StringBuilder sb = new StringBuilder();\n            int HttpResult = con.getResponseCode();\n            if (HttpResult == HttpURLConnection.HTTP_OK) {\n                BufferedReader br = new BufferedReader(\n                        new InputStreamReader(con.getInputStream(), \"utf-8\"));\n                String line = null;\n                while ((line = br.readLine()) != null) {\n                    sb.append(line + \"\\n\");\n                }\n                br.close();\n            } else {\n                System.out.println(con.getResponseMessage());\n            }\n        } catch (Exception e) {\n            Log.d(\"Uh Oh\",\"Check your network.\");\n            return false;\n        }\n        return false;\n</code></pre>\n\n<p>}*</p>\n\n<p>I was able to get a curl request working from the command line:</p>\n\n<pre><code>curl -H \"Authorization: Token token\" http://0.0.0.0:8000/events/\n</code></pre>\n"},{"tags":["java","android","android-studio","user-interface","datepicker"],"comments":[{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":1,"creation_date":1637829577,"post_id":70108012,"comment_id":123931614,"body_markdown":"Have you looked at https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/SimpleDateFormat.html ?","body":"Have you looked at <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/java.base/java/te&zwnj;&#8203;xt/&hellip;</a> ?"},{"owner":{"account_id":19487128,"reputation":7,"user_id":14256234,"display_name":"billy"},"score":0,"creation_date":1637829829,"post_id":70108012,"comment_id":123931709,"body_markdown":"well i saw some of tutorial on some place and search in the other website, but i don&#39;t know how to implement that  @AdriaanKoster","body":"well i saw some of tutorial on some place and search in the other website, but i don&#39;t know how to implement that  @AdriaanKoster"}],"answers":[{"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637831769,"creation_date":1637831769,"answer_id":70108491,"question_id":70108012,"body_markdown":"Where you do:\r\n\r\n    String currentDateString = SimpleDateFormat.getDateInstance(DateFormat.SHORT).format(c.getTime());\r\n\r\nyou need to use a different part of the [SimpleDateFormat API][1]. \r\n\r\n    String currentDateString = new SimpleDateFormat(&quot;yyyyMMdd&quot;).format(c.getTime());\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/SimpleDateFormat.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/DateFormat.html","title":"How can i use datepicker format look like yyMMdd","body":"<p>Where you do:</p>\n<pre><code>String currentDateString = SimpleDateFormat.getDateInstance(DateFormat.SHORT).format(c.getTime());\n</code></pre>\n<p>you need to use a different part of the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">SimpleDateFormat API</a>.</p>\n<pre><code>String currentDateString = new SimpleDateFormat(&quot;yyyyMMdd&quot;).format(c.getTime());\n</code></pre>\n"}],"owner":{"account_id":19487128,"reputation":7,"user_id":14256234,"display_name":"billy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1637833116,"creation_date":1637829337,"question_id":70108012,"body_markdown":"i&#39;m using this datepicker below(edited) since its work alrd\r\n```\r\n @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_search);\r\n\r\n        buttontanggalawal = findViewById (R.id.button_tanggal_awal);\r\n        buttontanggalakhir = findViewById (R.id.button_tanggal_akhir);\r\n        textView = findViewById (R.id.textView);\r\n\r\n        buttontanggalawal.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                DialogFragment datePicker = new DatePickerFragment();\r\n                datePicker.show(getSupportFragmentManager(), &quot;date picker&quot;);\r\n            }\r\n        });\r\n\r\n        buttontanggalakhir.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                DialogFragment datePicker = new DatePickerFragment();\r\n                datePicker.show(getSupportFragmentManager(), &quot;date picker&quot;);\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onDateSet(DatePicker view, int year, int month, int dayOfMonth) {\r\n        Calendar c = Calendar.getInstance();\r\n        c.set(Calendar.YEAR, year);\r\n        c.set(Calendar.MONTH, month);\r\n        c.set(Calendar.DAY_OF_MONTH, dayOfMonth);\r\n\r\n        String tanggalawalpublic = SimpleDateFormat.getDateInstance(DateFormat.MEDIUM).format(c.getTime());\r\n\r\n        buttontanggalawal.setText(currentDateString);\r\n    }\r\n\r\n```\r\n\r\nand this is my design \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.Search&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_above=&quot;@id/button&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginBottom=&quot;28dp&quot;\r\n        android:text=&quot;date&quot;\r\n        android:textSize=&quot;30sp&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_centerVertical=&quot;true&quot;\r\n        android:textColor=&quot;@color/black&quot;\r\n        android:text=&quot;open date picker&quot; /&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n```\r\nand this is my datepicker code\r\n\r\n```\r\npublic class DatePickerFragment extends DialogFragment {\r\n\r\n    @NonNull\r\n    @Override\r\n    public Dialog onCreateDialog(Bundle savedInstanceState) {\r\n        Calendar c = Calendar.getInstance();\r\n        int year = c.get(Calendar.YEAR);\r\n        int month = c.get(Calendar.MONTH);\r\n        int day = c.get(Calendar.DAY_OF_MONTH);\r\n\r\n        return new DatePickerDialog(getActivity(), (DatePickerDialog.OnDateSetListener) getActivity(), year, month, day);\r\n    }\r\n}\r\n```\r\n\r\nand if i choose on the date in datepicker i got an result as 25/11/21\r\n\r\nhow can change the format and turn the datepicker result into 211125 ??? \r\nthe yyMMdd thing\r\n\r\nand i need two time picker on 1 same activity and gonna need them for searching using startAt()","title":"How can i use datepicker format look like yyMMdd","body":"<p>i'm using this datepicker below(edited) since its work alrd</p>\n<pre><code> @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_search);\n\n        buttontanggalawal = findViewById (R.id.button_tanggal_awal);\n        buttontanggalakhir = findViewById (R.id.button_tanggal_akhir);\n        textView = findViewById (R.id.textView);\n\n        buttontanggalawal.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                DialogFragment datePicker = new DatePickerFragment();\n                datePicker.show(getSupportFragmentManager(), &quot;date picker&quot;);\n            }\n        });\n\n        buttontanggalakhir.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                DialogFragment datePicker = new DatePickerFragment();\n                datePicker.show(getSupportFragmentManager(), &quot;date picker&quot;);\n            }\n        });\n    }\n\n    @Override\n    public void onDateSet(DatePicker view, int year, int month, int dayOfMonth) {\n        Calendar c = Calendar.getInstance();\n        c.set(Calendar.YEAR, year);\n        c.set(Calendar.MONTH, month);\n        c.set(Calendar.DAY_OF_MONTH, dayOfMonth);\n\n        String tanggalawalpublic = SimpleDateFormat.getDateInstance(DateFormat.MEDIUM).format(c.getTime());\n\n        buttontanggalawal.setText(currentDateString);\n    }\n\n</code></pre>\n<p>and this is my design</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.Search&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_above=&quot;@id/button&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginBottom=&quot;28dp&quot;\n        android:text=&quot;date&quot;\n        android:textSize=&quot;30sp&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_centerVertical=&quot;true&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:text=&quot;open date picker&quot; /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>and this is my datepicker code</p>\n<pre><code>public class DatePickerFragment extends DialogFragment {\n\n    @NonNull\n    @Override\n    public Dialog onCreateDialog(Bundle savedInstanceState) {\n        Calendar c = Calendar.getInstance();\n        int year = c.get(Calendar.YEAR);\n        int month = c.get(Calendar.MONTH);\n        int day = c.get(Calendar.DAY_OF_MONTH);\n\n        return new DatePickerDialog(getActivity(), (DatePickerDialog.OnDateSetListener) getActivity(), year, month, day);\n    }\n}\n</code></pre>\n<p>and if i choose on the date in datepicker i got an result as 25/11/21</p>\n<p>how can change the format and turn the datepicker result into 211125 ???\nthe yyMMdd thing</p>\n<p>and i need two time picker on 1 same activity and gonna need them for searching using startAt()</p>\n"},{"tags":["java","android","kotlin","sensors","compass"],"comments":[{"owner":{"account_id":21156492,"reputation":353,"user_id":15555644,"display_name":"Enigma"},"score":0,"creation_date":1632302352,"post_id":69272505,"comment_id":122452923,"body_markdown":"still looking for an answer ..","body":"still looking for an answer .."}],"answers":[{"tags":[],"owner":{"account_id":12664676,"reputation":132,"user_id":9204412,"display_name":"lprend"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637833053,"creation_date":1637832703,"answer_id":70108691,"question_id":69272505,"body_markdown":"I just stumbled over the same problem.\r\n\r\nThis is the solution I found and works for me:\r\n\r\n```kotlin\r\nval pm: PackageManager = context.packageManager\r\nif (!pm.hasSystemFeature(PackageManager.FEATURE_SENSOR_COMPASS)) {\r\n  // This device does not have a compass, turn off the compass feature\r\n}\r\n```\r\n","title":"How to detect if the device has sensor to use compass in Kotlin?","body":"<p>I just stumbled over the same problem.</p>\n<p>This is the solution I found and works for me:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val pm: PackageManager = context.packageManager\nif (!pm.hasSystemFeature(PackageManager.FEATURE_SENSOR_COMPASS)) {\n  // This device does not have a compass, turn off the compass feature\n}\n</code></pre>\n"}],"owner":{"account_id":21156492,"reputation":353,"user_id":15555644,"display_name":"Enigma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1637833053,"creation_date":1632242215,"question_id":69272505,"body_markdown":"There are some devices that doesn&#39;t have built-in sensor to use compass \r\n\r\nwhat i am trying to do here is to navigate or show message to the user if the phone doesn&#39;t support this feature \r\n\r\n\r\ni am trying this:\r\n\r\n    sensorManager = getSystemService(Context.SENSOR_SERVICE) as SensorManager\r\n        sensor = sensorManager.getDefaultSensor(Sensor.TYPE_ORIENTATION)\r\n        if (sensor !== null) {\r\n            val intent = Intent(this, MainActivity::class.java)\r\n            startActivity(intent)\r\n        }else{\r\n            val intent = Intent(this, SetProfileActivity::class.java)\r\n            startActivity(intent)\r\n        }\r\n\r\nbut get this error every time:\r\n\r\n    sensorManager.getDefault…(Sensor.TYPE_ORIENTATION) must not be null\r\n\r\nwhat am i doing wrong?","title":"How to detect if the device has sensor to use compass in Kotlin?","body":"<p>There are some devices that doesn't have built-in sensor to use compass</p>\n<p>what i am trying to do here is to navigate or show message to the user if the phone doesn't support this feature</p>\n<p>i am trying this:</p>\n<pre><code>sensorManager = getSystemService(Context.SENSOR_SERVICE) as SensorManager\n    sensor = sensorManager.getDefaultSensor(Sensor.TYPE_ORIENTATION)\n    if (sensor !== null) {\n        val intent = Intent(this, MainActivity::class.java)\n        startActivity(intent)\n    }else{\n        val intent = Intent(this, SetProfileActivity::class.java)\n        startActivity(intent)\n    }\n</code></pre>\n<p>but get this error every time:</p>\n<pre><code>sensorManager.getDefault…(Sensor.TYPE_ORIENTATION) must not be null\n</code></pre>\n<p>what am i doing wrong?</p>\n"},{"tags":["java","etl","talend","java-11","java-16"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1619117577,"post_id":67219157,"comment_id":118815008,"body_markdown":"Looks like a mismatch between the build environment and the deployment environment. Make sure you&#39;re using the same Java version for both.","body":"Looks like a mismatch between the build environment and the deployment environment. Make sure you&#39;re using the same Java version for both."},{"owner":{"account_id":21372839,"reputation":51,"user_id":15740227,"display_name":"Aleksandr"},"score":0,"creation_date":1619175675,"post_id":67219157,"comment_id":118831677,"body_markdown":"Thank you. Could you tell where can i define the build environment and the deployment environment?","body":"Thank you. Could you tell where can i define the build environment and the deployment environment?"},{"owner":{"account_id":21372839,"reputation":51,"user_id":15740227,"display_name":"Aleksandr"},"score":2,"creation_date":1619183510,"post_id":67219157,"comment_id":118835008,"body_markdown":"I found. Conclusion: 1) install JRE, 2) in TOS: change path Preference-Talend and 3) Preference-Java-Installed JRES . Thank you.","body":"I found. Conclusion: 1) install JRE, 2) in TOS: change path Preference-Talend and 3) Preference-Java-Installed JRES . Thank you."},{"owner":{"account_id":2167,"reputation":2589,"user_id":2983,"accept_rate":58,"display_name":"paulmorriss"},"score":0,"creation_date":1624619348,"post_id":67219157,"comment_id":120414313,"body_markdown":"@aleksandr I had the same problem when I installed a new Java, so I think that&#39;s the answer in general - do you want to turn your comment into an answer?","body":"@aleksandr I had the same problem when I installed a new Java, so I think that&#39;s the answer in general - do you want to turn your comment into an answer?"},{"owner":{"account_id":21262430,"reputation":300,"user_id":15643075,"display_name":"Sarindra Th&#233;r&#232;se"},"score":1,"creation_date":1632288536,"post_id":67219157,"comment_id":122448011,"body_markdown":"how did you do what is it?\nI cannot remove the error for me\nI have java 17 and java 8 update 301\nwhat are TOS? thanks","body":"how did you do what is it? I cannot remove the error for me I have java 17 and java 8 update 301 what are TOS? thanks"}],"answers":[{"tags":[],"owner":{"account_id":21113333,"reputation":1,"user_id":15520881,"display_name":"Shufaid T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637832960,"creation_date":1637832960,"answer_id":70108754,"question_id":67219157,"body_markdown":"I had the same issue. When i changed the hibernate version from 5.3.1.final to 5.4.1 final in pom.xml it resolved","title":"Talend Open Studio - an error (sun.misc.Unsafe.defineClass(java.lang.String,[B,int,int,java.lang.ClassLoader,java.security.ProtectionDomain))","body":"<p>I had the same issue. When i changed the hibernate version from 5.3.1.final to 5.4.1 final in pom.xml it resolved</p>\n"}],"owner":{"account_id":21372839,"reputation":51,"user_id":15740227,"display_name":"Aleksandr"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7943,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1637832960,"creation_date":1619117406,"question_id":67219157,"body_markdown":"For first launch Talend Open Studio have an error\r\n\r\n    java.lang.NoSuchMethodException: sun.misc.Unsafe.defineClass(java.lang.String,[B,int,int,java.lang.ClassLoader,java.security.ProtectionDomain)\r\n    \tat java.base/java.lang.Class.getDeclaredMethod(Class.java:2613)\r\n    \tat org.apache.webbeans.proxy.Unsafe.lambda$unsafeDefineClass$2(Unsafe.java:163)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:312)\r\n    \tat org.apache.webbeans.proxy.Unsafe.unsafeDefineClass(Unsafe.java:160)\r\n    \tat org.apache.webbeans.proxy.Unsafe.defineAndLoadClass(Unsafe.java:126)\r\n    \tat org.apache.webbeans.proxy.AbstractProxyFactory.createProxyClass(AbstractProxyFactory.java:280)\r\n    \tat org.apache.webbeans.proxy.AbstractProxyFactory.createProxyClass(AbstractProxyFactory.java:250)\r\n    \tat org.apache.webbeans.proxy.InterceptorDecoratorProxyFactory.createProxyClass(InterceptorDecoratorProxyFactory.java:216)\r\n    \tat org.apache.webbeans.proxy.InterceptorDecoratorProxyFactory.createProxyClass(InterceptorDecoratorProxyFactory.java:188)\r\n    \tat org.apache.webbeans.portable.AbstractProducer.defineInterceptorStack(AbstractProducer.java:105)\r\n    \tat org.apache.webbeans.config.BeansDeployer.validate(BeansDeployer.java:1183)\r\n    \tat org.apache.webbeans.config.BeansDeployer.validateInjectionPoints(BeansDeployer.java:1104)\r\n    \tat org.apache.webbeans.config.BeansDeployer.deploy(BeansDeployer.java:330)\r\n    \tat org.apache.webbeans.lifecycle.AbstractLifeCycle.bootstrapApplication(AbstractLifeCycle.java:137)\r\n    \tat org.apache.webbeans.lifecycle.AbstractLifeCycle.startApplication(AbstractLifeCycle.java:103)\r\n    \tat org.apache.webbeans.web.lifecycle.WebContainerLifecycle.startApplication(WebContainerLifecycle.java:98)\r\n    \tat org.apache.webbeans.servlet.WebBeansConfigurationListener.doStart(WebBeansConfigurationListener.java:207)\r\n    \tat org.apache.webbeans.servlet.WebBeansConfigurationListener.contextInitialized(WebBeansConfigurationListener.java:85)\r\n    \tat org.apache.meecrowave.openwebbeans.OWBAutoSetup$EagerBootListener.doContextInitialized(OWBAutoSetup.java:84)\r\n    \tat org.apache.meecrowave.openwebbeans.OWBAutoSetup$EagerBootListener.access$100(OWBAutoSetup.java:65)\r\n    \tat org.apache.meecrowave.openwebbeans.OWBAutoSetup.onStartup(OWBAutoSetup.java:61)\r\n    \tat org.apache.meecrowave.Meecrowave.lambda$deployWebapp$9(Meecrowave.java:280)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5135)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:717)\r\n    \tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:690)\r\n    \tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:705)\r\n    \tat org.apache.meecrowave.Meecrowave.deployWebapp(Meecrowave.java:420)\r\n    \tat org.apache.meecrowave.Meecrowave.deployClasspath(Meecrowave.java:190)\r\n    \tat org.talend.sdk.component.server.cli.EnhancedCli.run(EnhancedCli.java:52)\r\n    \tat org.talend.sdk.component.studio.ProcessManager$2.run(ProcessManager.java:288)\r\n\r\nLaunch as admin and user.\r\n\r\nTry with Java 16, Java 11 and &#39;OpenJDK (recommended distribution: [Zulu][1])&#39;\r\n\r\nHow can i fix this problem?\r\n\r\n\r\n  [1]: https://help.talend.com/r/Msze~3~S7zxO1qT6vAXVyQ/ZOFaiTXFhb5J8VcMyXoY~g","title":"Talend Open Studio - an error (sun.misc.Unsafe.defineClass(java.lang.String,[B,int,int,java.lang.ClassLoader,java.security.ProtectionDomain))","body":"<p>For first launch Talend Open Studio have an error</p>\n<pre><code>java.lang.NoSuchMethodException: sun.misc.Unsafe.defineClass(java.lang.String,[B,int,int,java.lang.ClassLoader,java.security.ProtectionDomain)\n    at java.base/java.lang.Class.getDeclaredMethod(Class.java:2613)\n    at org.apache.webbeans.proxy.Unsafe.lambda$unsafeDefineClass$2(Unsafe.java:163)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:312)\n    at org.apache.webbeans.proxy.Unsafe.unsafeDefineClass(Unsafe.java:160)\n    at org.apache.webbeans.proxy.Unsafe.defineAndLoadClass(Unsafe.java:126)\n    at org.apache.webbeans.proxy.AbstractProxyFactory.createProxyClass(AbstractProxyFactory.java:280)\n    at org.apache.webbeans.proxy.AbstractProxyFactory.createProxyClass(AbstractProxyFactory.java:250)\n    at org.apache.webbeans.proxy.InterceptorDecoratorProxyFactory.createProxyClass(InterceptorDecoratorProxyFactory.java:216)\n    at org.apache.webbeans.proxy.InterceptorDecoratorProxyFactory.createProxyClass(InterceptorDecoratorProxyFactory.java:188)\n    at org.apache.webbeans.portable.AbstractProducer.defineInterceptorStack(AbstractProducer.java:105)\n    at org.apache.webbeans.config.BeansDeployer.validate(BeansDeployer.java:1183)\n    at org.apache.webbeans.config.BeansDeployer.validateInjectionPoints(BeansDeployer.java:1104)\n    at org.apache.webbeans.config.BeansDeployer.deploy(BeansDeployer.java:330)\n    at org.apache.webbeans.lifecycle.AbstractLifeCycle.bootstrapApplication(AbstractLifeCycle.java:137)\n    at org.apache.webbeans.lifecycle.AbstractLifeCycle.startApplication(AbstractLifeCycle.java:103)\n    at org.apache.webbeans.web.lifecycle.WebContainerLifecycle.startApplication(WebContainerLifecycle.java:98)\n    at org.apache.webbeans.servlet.WebBeansConfigurationListener.doStart(WebBeansConfigurationListener.java:207)\n    at org.apache.webbeans.servlet.WebBeansConfigurationListener.contextInitialized(WebBeansConfigurationListener.java:85)\n    at org.apache.meecrowave.openwebbeans.OWBAutoSetup$EagerBootListener.doContextInitialized(OWBAutoSetup.java:84)\n    at org.apache.meecrowave.openwebbeans.OWBAutoSetup$EagerBootListener.access$100(OWBAutoSetup.java:65)\n    at org.apache.meecrowave.openwebbeans.OWBAutoSetup.onStartup(OWBAutoSetup.java:61)\n    at org.apache.meecrowave.Meecrowave.lambda$deployWebapp$9(Meecrowave.java:280)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5135)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:717)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:690)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:705)\n    at org.apache.meecrowave.Meecrowave.deployWebapp(Meecrowave.java:420)\n    at org.apache.meecrowave.Meecrowave.deployClasspath(Meecrowave.java:190)\n    at org.talend.sdk.component.server.cli.EnhancedCli.run(EnhancedCli.java:52)\n    at org.talend.sdk.component.studio.ProcessManager$2.run(ProcessManager.java:288)\n</code></pre>\n<p>Launch as admin and user.</p>\n<p>Try with Java 16, Java 11 and 'OpenJDK (recommended distribution: <a href=\"https://help.talend.com/r/Msze%7E3%7ES7zxO1qT6vAXVyQ/ZOFaiTXFhb5J8VcMyXoY%7Eg\" rel=\"noreferrer\">Zulu</a>)'</p>\n<p>How can i fix this problem?</p>\n"},{"tags":["java","spring-boot","keycloak","keycloak-authorization-services"],"owner":{"account_id":23448888,"reputation":41,"user_id":17505321,"display_name":"kbodurri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1637832565,"creation_date":1637832565,"question_id":70108663,"body_markdown":"I am trying to get familiar with the [Authorization Services](https://www.keycloak.org/docs/latest/authorization_services/#_overview) concepts from Keycloak by playing around with the [app-authz-rest-springboot](https://github.com/keycloak/keycloak-quickstarts/tree/latest/app-authz-rest-springboot) from [Keycloak-Quickstarts](https://github.com/keycloak/keycloak-quickstarts).\r\n\r\nI run a *keycloak-server* and the *app-authz-rest-springboot* locally, following the guidelines and they work as expected. However, I face an issue when I try to add a new endpoint to the app and secure it as the other endpoints that are provided in the app-authz-rest-springboot.\r\n\r\nWhat I try to do is to forward the request body of an HTTP request to the policy-enforcer of keycloak&#39;s client and decide if the request should be granted based on the request body.\r\n\r\n**On the application side I have the following:**\r\n\r\n1. The new endpoint:\r\n```\r\n  @PostMapping(&quot;/api/example&quot;)\r\n  public String exampleEndpoint(@RequestBody RequestDto requestDto) {\r\n    System.out.println(requestDto.getUserId());\r\n    return createResponse();\r\n  }\r\n```\r\n2. The request body for the endpoint:\r\n```\r\npublic class RequestDto {\r\n\r\n  public String userId;\r\n\r\n  public RequestDto() {}\r\n\r\n  public RequestDto(String userId) {\r\n    this.userId = userId;\r\n  }\r\n\r\n  public String getUserId() {\r\n    return userId;\r\n  }\r\n\r\n  public void setUserId(String userId) {\r\n    this.userId = userId;\r\n  }\r\n\r\n  @Override\r\n  public String toString() {\r\n    return &quot;RequestDto{&quot; + &quot;userId=&quot; + userId + &#39;}&#39;;\r\n  }\r\n}\r\n```\r\n3. The *policy-enforcer-config* to push the request body to the keycloak-policy-enforcer for the permission evaluation of the endpoint\r\n```\r\nkeycloak.policy-enforcer-config.paths[3].path=/api/example\r\nkeycloak.policy-enforcer-config.paths[3].claimInformationPointConfig.claims[user.id]={request.body[&#39;/userId&#39;]}\r\n```\r\n\r\n**On the keycloak-server side:**\r\n1. A Resource called Example Resource binding `/api/example` (the aforementioned endpoint)\r\n2. A custom js policy, which prints the request-body of the endpoint to stdout and always grants the request.\r\n```\r\nvar context = $evaluation.context;\r\nvar attributes = context.attributes;\r\nprint(attributes.getValue(&#39;user.id&#39;).asString(0));\r\n$evaluation.grant();\r\n```\r\n3. A Permission that binds the Example Resource(1) with the custom js policy(2)\r\n\r\nI make a request to the application using Postman with a request-body:\r\n```\r\n{\r\n    &quot;userId&quot;: &quot;blablabla&quot;\r\n}\r\n```\r\n\r\nThe custom js policy script prints the request body\r\n`10:37:46,387 INFO  [stdout] (default task-6) blablabla`\r\n**Which means that the application pushes correctly the request body to the policy-enforcer**. Additionally, keycloak grants the request successfully.\r\n\r\nAlthough, on the application side, after the keycloak&#39;s policy enforcer interception, the request fails with a `400 Bad Request` HTTP status and a response:\r\n```\r\n{\r\n    &quot;timestamp&quot;: &quot;2021-11-25T08:37:46.454+0000&quot;,\r\n    &quot;status&quot;: 400,\r\n    &quot;error&quot;: &quot;Bad Request&quot;,\r\n    &quot;message&quot;: &quot;Required request body is missing: public java.lang.String org.keycloak.quickstart.springboot.web.ApplicationController.exampleEndpoint(org.keycloak.quickstart.springboot.web.RequestDto)&quot;,\r\n    &quot;path&quot;: &quot;/api/example&quot;\r\n}\r\n```\r\n\r\n**It seems like the policy enforcer from keycloak somehow &quot;removed&quot; the request body from the request after the permission evaluation.** It is weird because as I mentioned, the claims have been successfully pushed to the keycloak and the request has been successfully granted.\r\n\r\nDoes anyone have faced a similar issue? Or is there any post or example online which I can follow? I googled it a lot but unfortunately, I haven&#39;t found anything yet. And, the keycloak-quickstarts do not provide any similar example pushing the request body to the policy-enforcer. The examples are limited in showing how to forward request parameters to keycloak.","title":"Request Body removed after Keycloak&#39;s Policy Enforcer Evaluation","body":"<p>I am trying to get familiar with the <a href=\"https://www.keycloak.org/docs/latest/authorization_services/#_overview\" rel=\"nofollow noreferrer\">Authorization Services</a> concepts from Keycloak by playing around with the <a href=\"https://github.com/keycloak/keycloak-quickstarts/tree/latest/app-authz-rest-springboot\" rel=\"nofollow noreferrer\">app-authz-rest-springboot</a> from <a href=\"https://github.com/keycloak/keycloak-quickstarts\" rel=\"nofollow noreferrer\">Keycloak-Quickstarts</a>.</p>\n<p>I run a <em>keycloak-server</em> and the <em>app-authz-rest-springboot</em> locally, following the guidelines and they work as expected. However, I face an issue when I try to add a new endpoint to the app and secure it as the other endpoints that are provided in the app-authz-rest-springboot.</p>\n<p>What I try to do is to forward the request body of an HTTP request to the policy-enforcer of keycloak's client and decide if the request should be granted based on the request body.</p>\n<p><strong>On the application side I have the following:</strong></p>\n<ol>\n<li>The new endpoint:</li>\n</ol>\n<pre><code>  @PostMapping(&quot;/api/example&quot;)\n  public String exampleEndpoint(@RequestBody RequestDto requestDto) {\n    System.out.println(requestDto.getUserId());\n    return createResponse();\n  }\n</code></pre>\n<ol start=\"2\">\n<li>The request body for the endpoint:</li>\n</ol>\n<pre><code>public class RequestDto {\n\n  public String userId;\n\n  public RequestDto() {}\n\n  public RequestDto(String userId) {\n    this.userId = userId;\n  }\n\n  public String getUserId() {\n    return userId;\n  }\n\n  public void setUserId(String userId) {\n    this.userId = userId;\n  }\n\n  @Override\n  public String toString() {\n    return &quot;RequestDto{&quot; + &quot;userId=&quot; + userId + '}';\n  }\n}\n</code></pre>\n<ol start=\"3\">\n<li>The <em>policy-enforcer-config</em> to push the request body to the keycloak-policy-enforcer for the permission evaluation of the endpoint</li>\n</ol>\n<pre><code>keycloak.policy-enforcer-config.paths[3].path=/api/example\nkeycloak.policy-enforcer-config.paths[3].claimInformationPointConfig.claims[user.id]={request.body['/userId']}\n</code></pre>\n<p><strong>On the keycloak-server side:</strong></p>\n<ol>\n<li>A Resource called Example Resource binding <code>/api/example</code> (the aforementioned endpoint)</li>\n<li>A custom js policy, which prints the request-body of the endpoint to stdout and always grants the request.</li>\n</ol>\n<pre><code>var context = $evaluation.context;\nvar attributes = context.attributes;\nprint(attributes.getValue('user.id').asString(0));\n$evaluation.grant();\n</code></pre>\n<ol start=\"3\">\n<li>A Permission that binds the Example Resource(1) with the custom js policy(2)</li>\n</ol>\n<p>I make a request to the application using Postman with a request-body:</p>\n<pre><code>{\n    &quot;userId&quot;: &quot;blablabla&quot;\n}\n</code></pre>\n<p>The custom js policy script prints the request body\n<code>10:37:46,387 INFO  [stdout] (default task-6) blablabla</code>\n<strong>Which means that the application pushes correctly the request body to the policy-enforcer</strong>. Additionally, keycloak grants the request successfully.</p>\n<p>Although, on the application side, after the keycloak's policy enforcer interception, the request fails with a <code>400 Bad Request</code> HTTP status and a response:</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2021-11-25T08:37:46.454+0000&quot;,\n    &quot;status&quot;: 400,\n    &quot;error&quot;: &quot;Bad Request&quot;,\n    &quot;message&quot;: &quot;Required request body is missing: public java.lang.String org.keycloak.quickstart.springboot.web.ApplicationController.exampleEndpoint(org.keycloak.quickstart.springboot.web.RequestDto)&quot;,\n    &quot;path&quot;: &quot;/api/example&quot;\n}\n</code></pre>\n<p><strong>It seems like the policy enforcer from keycloak somehow &quot;removed&quot; the request body from the request after the permission evaluation.</strong> It is weird because as I mentioned, the claims have been successfully pushed to the keycloak and the request has been successfully granted.</p>\n<p>Does anyone have faced a similar issue? Or is there any post or example online which I can follow? I googled it a lot but unfortunately, I haven't found anything yet. And, the keycloak-quickstarts do not provide any similar example pushing the request body to the policy-enforcer. The examples are limited in showing how to forward request parameters to keycloak.</p>\n"},{"tags":["java","deserialization","jackson-databind"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1637831511,"post_id":70108390,"comment_id":123932349,"body_markdown":"What is line 73 of `Helpers`?","body":"What is line 73 of <code>Helpers</code>?"},{"owner":{"account_id":22968286,"reputation":82,"user_id":17097058,"display_name":"Curious"},"score":0,"creation_date":1637832186,"post_id":70108390,"comment_id":123932591,"body_markdown":"@dan1st else cell.setCellValue((String) value);","body":"@dan1st else cell.setCellValue((String) value);"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1637832267,"post_id":70108390,"comment_id":123932621,"body_markdown":"I think you want `cell.setCellValue(String.valueOf(value));` or put it inside an `else if (value instanceof String)` as casting only works if `value` is a `String`.","body":"I think you want <code>cell.setCellValue(String.valueOf(value));</code> or put it inside an <code>else if (value instanceof String)</code> as casting only works if <code>value</code> is a <code>String</code>."},{"owner":{"account_id":22968286,"reputation":82,"user_id":17097058,"display_name":"Curious"},"score":0,"creation_date":1637833169,"post_id":70108390,"comment_id":123932990,"body_markdown":"@dan1st thanks. It solved my problem.","body":"@dan1st thanks. It solved my problem."}],"answers":[{"tags":[],"owner":{"account_id":15291490,"reputation":447,"user_id":11032869,"display_name":"Razvan Fulea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637832490,"creation_date":1637832490,"answer_id":70108640,"question_id":70108390,"body_markdown":"You&#39;re making an assumption that for the `else` branch, the `value` can only be a `String`, but from the error it looks like it is in fact a `LinkedHashMap`.\r\n\r\nMake sure that whatever data you work with, you also treat the case where the `value` is a `Map` and write that accordingly.","title":"how to fix class java.util.LinkedHashMap cannot be cast to class java.lang.String error","body":"<p>You're making an assumption that for the <code>else</code> branch, the <code>value</code> can only be a <code>String</code>, but from the error it looks like it is in fact a <code>LinkedHashMap</code>.</p>\n<p>Make sure that whatever data you work with, you also treat the case where the <code>value</code> is a <code>Map</code> and write that accordingly.</p>\n"}],"owner":{"account_id":22968286,"reputation":82,"user_id":17097058,"display_name":"Curious"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2494,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637832490,"creation_date":1637831266,"question_id":70108390,"body_markdown":"So, I am trying to build a report. The details of some certain type of users need to be written in an excel file. On hitting the endpoint it returns 500 with the following stacktrace.\r\n\r\n    java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class java.lang.String (java.util.LinkedHashMap and java.lang.String are in module java.base of loader &#39;bootstrap&#39;)\r\n            at com.clever.bas.util.Helpers.lambda$writeToExcel$0(Helpers.java:73)\r\n            at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)\r\n            at com.clever.bas.util.Helpers.lambda$writeToExcel$1(Helpers.java:64)\r\n         \r\nHere is the helper class that is throwing the error \r\n\r\n    public static InputStream writeToExcel(Stream&lt;UserProfile&gt; data) throws Exception {\r\n    \r\n    //        final Map&lt;String, Transaction&gt; transaction = data.collect(Collectors.toMap(Transaction::getId, Function.identity()));\r\n    \r\n    //        System.out.println(transaction + &quot; +++++&gt;&gt;&gt;&gt;&gt;&gt;&quot;);\r\n    \r\n    \r\n            //Blank workbook\r\n            try (XSSFWorkbook workbook = new XSSFWorkbook()) {\r\n    \r\n                //Create a blank sheet\r\n                XSSFSheet sheet = workbook.createSheet(&quot;transaction report&quot;);\r\n    \r\n\r\n                AtomicInteger rowNum = new AtomicInteger(1);\r\n   \r\n                AtomicBoolean isHeaderSet = new AtomicBoolean(false);\r\n                data.forEach(userProfile -&gt; {\r\n                    if (!isHeaderSet.get()){\r\n                        createHeader(userProfile, sheet);\r\n                        isHeaderSet.set(true);\r\n                    }\r\n                    XSSFRow row = sheet.createRow(rowNum.getAndIncrement());\r\n \r\n                    ObjectMapper mapObject = new ObjectMapper();\r\n                    Map&lt;String, Object&gt; mapObj = mapObject.convertValue(userProfile, Map.class);\r\n    \r\n    \r\n                    AtomicInteger cellNum = new AtomicInteger();\r\n                    mapObj.forEach((key, value) -&gt; {\r\n                        XSSFCell cell = row.createCell(cellNum.getAndIncrement());\r\n                        cell.setCellValue(key);\r\n                        if (value instanceof Integer)\r\n                            cell.setCellValue((Integer) value);\r\n                        else if (value instanceof BigDecimal)\r\n                            cell.setCellValue(((BigDecimal) value).doubleValue());\r\n                        else if (value instanceof Long)\r\n                            cell.setCellValue((Long) value);\r\n                        else cell.setCellValue((String) value);\r\n    \r\n                    });\r\n                });\r\n\r\n\r\nI have checked the internet and none of what I have seem so far seems to be solving my problems. There is a List in the models as seen below\r\n\r\n    public class UserProfile {\r\n    \r\n    \r\n        @Id\r\n        @ObjectId\r\n        private String id;\r\n    \r\n        @JsonFormat(pattern=&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssZ&quot;)\r\n        private final Date createdAt = new Date(System.currentTimeMillis());\r\n    \r\n        @JsonFormat(pattern=&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssZ&quot;)\r\n        private final Date updatedAt = new Date(System.currentTimeMillis());\r\n    \r\n    \r\n        private String agentId;\r\n    \r\n        @NotBlank\r\n        private String firstName;\r\n    \r\n        @NotBlank\r\n        private String lastName;\r\n    \r\n        @NotBlank\r\n        @Email(message=&quot;Invalid email Address&quot;)\r\n        private String email;\r\n    \r\n        @NotBlank\r\n        @Size(min=11, max=14)\r\n        private String phoneNumber;\r\n    \r\n        private String businessName;\r\n    \r\n        @Size(min=11, max=11)\r\n        private String bvn;\r\n    \r\n        @Size(min=11, max=11)\r\n        private String nin;\r\n    \r\n        @URL\r\n        private String profilePicture;\r\n    \r\n        @URL\r\n        private String utilityBill;\r\n    \r\n        @URL\r\n        private String identityCard;\r\n    \r\n        private RoleGroup roleGroup;\r\n    \r\n        @Embedded\r\n        private List&lt;Role&gt; roles;\r\n    \r\n        @ObjectId\r\n        @JsonIgnore\r\n        private List&lt;String&gt; roleIds;\r\n    \r\n        private String userType; // STAFF, AGENT, AGGREGATOR, PROSPECT\r\n    \r\n        public Types.Gender gender;\r\n    \r\n        private String referralCode;\r\n    \r\n        private String referral;\r\n    \r\n        @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd&quot;)\r\n        private Date dateOfBirth;\r\n    \r\n        private Types.VerificationStatus verificationStatus;\r\n    \r\n        private Types.ApprovalStatus approvalStatus;\r\n    \r\n        private boolean enabled;\r\n    \r\n        private boolean verified = false;\r\n    \r\n        private String address;\r\n        private String city;\r\n        private String lga;\r\n        private String state;\r\n        private String terminalId;\r\n        private String accountNumber;\r\n        private Double msc;\r\n    \r\n        @JsonProperty(access = JsonProperty.Access.WRITE_ONLY)\r\n        private String transactionPin;\r\n    \r\n        @Transient\r\n        private boolean hasPin;\r\n    \r\n    \r\n        public ClPrincipal toPrincipal() {\r\n            ClPrincipal principal = new ClPrincipal();\r\n            principal.setProfileId(this.id);\r\n            principal.setUsername(this.email);\r\n            principal.setFirstname(this.firstName);\r\n            principal.setLastname(this.lastName);\r\n            principal.setRoleGroup(this.roleGroup.getName());\r\n            principal.setRoles(new ArrayList&lt;&gt;());\r\n            return principal;\r\n        }\r\n    \r\n        public UserByTerminalDTO toUserTerminalDto(){\r\n            UserByTerminalDTO user = new UserByTerminalDTO();\r\n            user.setUserID(this.id);\r\n            user.setFirstName(this.firstName);\r\n            user.setLastName(this.lastName);\r\n            user.setMsc(this.msc);\r\n            return user;\r\n        }\r\n    \r\n        public String fullName(){\r\n            return this.firstName + &quot; &quot; + this.lastName;\r\n        }\r\n    \r\n        public boolean isHasPin() {\r\n            return Objects.nonNull(this.transactionPin) &amp;&amp; !this.transactionPin.trim().isEmpty();\r\n        }\r\n    \r\n    }\r\n\r\nIt is some of the details of this model UserProfile that I want to write into an excel sheet and make it available for download. How do you think i solve the problem. The major error is coming from  these lines particularly the one in bold\r\n\r\n    AtomicInteger cellNum = new AtomicInteger();\r\n                        mapObj.forEach((key, value) -&gt; {\r\n                            XSSFCell cell = row.createCell(cellNum.getAndIncrement());\r\n                            cell.setCellValue(key);\r\n                            if (value instanceof Integer)\r\n                                cell.setCellValue((Integer) value);\r\n                            else if (value instanceof BigDecimal)\r\n                                cell.setCellValue(((BigDecimal) value).doubleValue());\r\n                            else if (value instanceof Long)\r\n                                cell.setCellValue((Long) value);\r\n                            **else cell.setCellValue((String) value);**\r\n        \r\n                        });\r\n                    });\r\n\r\n","title":"how to fix class java.util.LinkedHashMap cannot be cast to class java.lang.String error","body":"<p>So, I am trying to build a report. The details of some certain type of users need to be written in an excel file. On hitting the endpoint it returns 500 with the following stacktrace.</p>\n<pre><code>java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class java.lang.String (java.util.LinkedHashMap and java.lang.String are in module java.base of loader 'bootstrap')\n        at com.clever.bas.util.Helpers.lambda$writeToExcel$0(Helpers.java:73)\n        at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)\n        at com.clever.bas.util.Helpers.lambda$writeToExcel$1(Helpers.java:64)\n     \n</code></pre>\n<p>Here is the helper class that is throwing the error</p>\n<pre><code>public static InputStream writeToExcel(Stream&lt;UserProfile&gt; data) throws Exception {\n\n//        final Map&lt;String, Transaction&gt; transaction = data.collect(Collectors.toMap(Transaction::getId, Function.identity()));\n\n//        System.out.println(transaction + &quot; +++++&gt;&gt;&gt;&gt;&gt;&gt;&quot;);\n\n\n        //Blank workbook\n        try (XSSFWorkbook workbook = new XSSFWorkbook()) {\n\n            //Create a blank sheet\n            XSSFSheet sheet = workbook.createSheet(&quot;transaction report&quot;);\n\n\n            AtomicInteger rowNum = new AtomicInteger(1);\n\n            AtomicBoolean isHeaderSet = new AtomicBoolean(false);\n            data.forEach(userProfile -&gt; {\n                if (!isHeaderSet.get()){\n                    createHeader(userProfile, sheet);\n                    isHeaderSet.set(true);\n                }\n                XSSFRow row = sheet.createRow(rowNum.getAndIncrement());\n\n                ObjectMapper mapObject = new ObjectMapper();\n                Map&lt;String, Object&gt; mapObj = mapObject.convertValue(userProfile, Map.class);\n\n\n                AtomicInteger cellNum = new AtomicInteger();\n                mapObj.forEach((key, value) -&gt; {\n                    XSSFCell cell = row.createCell(cellNum.getAndIncrement());\n                    cell.setCellValue(key);\n                    if (value instanceof Integer)\n                        cell.setCellValue((Integer) value);\n                    else if (value instanceof BigDecimal)\n                        cell.setCellValue(((BigDecimal) value).doubleValue());\n                    else if (value instanceof Long)\n                        cell.setCellValue((Long) value);\n                    else cell.setCellValue((String) value);\n\n                });\n            });\n</code></pre>\n<p>I have checked the internet and none of what I have seem so far seems to be solving my problems. There is a List in the models as seen below</p>\n<pre><code>public class UserProfile {\n\n\n    @Id\n    @ObjectId\n    private String id;\n\n    @JsonFormat(pattern=&quot;yyyy-MM-dd'T'HH:mm:ssZ&quot;)\n    private final Date createdAt = new Date(System.currentTimeMillis());\n\n    @JsonFormat(pattern=&quot;yyyy-MM-dd'T'HH:mm:ssZ&quot;)\n    private final Date updatedAt = new Date(System.currentTimeMillis());\n\n\n    private String agentId;\n\n    @NotBlank\n    private String firstName;\n\n    @NotBlank\n    private String lastName;\n\n    @NotBlank\n    @Email(message=&quot;Invalid email Address&quot;)\n    private String email;\n\n    @NotBlank\n    @Size(min=11, max=14)\n    private String phoneNumber;\n\n    private String businessName;\n\n    @Size(min=11, max=11)\n    private String bvn;\n\n    @Size(min=11, max=11)\n    private String nin;\n\n    @URL\n    private String profilePicture;\n\n    @URL\n    private String utilityBill;\n\n    @URL\n    private String identityCard;\n\n    private RoleGroup roleGroup;\n\n    @Embedded\n    private List&lt;Role&gt; roles;\n\n    @ObjectId\n    @JsonIgnore\n    private List&lt;String&gt; roleIds;\n\n    private String userType; // STAFF, AGENT, AGGREGATOR, PROSPECT\n\n    public Types.Gender gender;\n\n    private String referralCode;\n\n    private String referral;\n\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd&quot;)\n    private Date dateOfBirth;\n\n    private Types.VerificationStatus verificationStatus;\n\n    private Types.ApprovalStatus approvalStatus;\n\n    private boolean enabled;\n\n    private boolean verified = false;\n\n    private String address;\n    private String city;\n    private String lga;\n    private String state;\n    private String terminalId;\n    private String accountNumber;\n    private Double msc;\n\n    @JsonProperty(access = JsonProperty.Access.WRITE_ONLY)\n    private String transactionPin;\n\n    @Transient\n    private boolean hasPin;\n\n\n    public ClPrincipal toPrincipal() {\n        ClPrincipal principal = new ClPrincipal();\n        principal.setProfileId(this.id);\n        principal.setUsername(this.email);\n        principal.setFirstname(this.firstName);\n        principal.setLastname(this.lastName);\n        principal.setRoleGroup(this.roleGroup.getName());\n        principal.setRoles(new ArrayList&lt;&gt;());\n        return principal;\n    }\n\n    public UserByTerminalDTO toUserTerminalDto(){\n        UserByTerminalDTO user = new UserByTerminalDTO();\n        user.setUserID(this.id);\n        user.setFirstName(this.firstName);\n        user.setLastName(this.lastName);\n        user.setMsc(this.msc);\n        return user;\n    }\n\n    public String fullName(){\n        return this.firstName + &quot; &quot; + this.lastName;\n    }\n\n    public boolean isHasPin() {\n        return Objects.nonNull(this.transactionPin) &amp;&amp; !this.transactionPin.trim().isEmpty();\n    }\n\n}\n</code></pre>\n<p>It is some of the details of this model UserProfile that I want to write into an excel sheet and make it available for download. How do you think i solve the problem. The major error is coming from  these lines particularly the one in bold</p>\n<pre><code>AtomicInteger cellNum = new AtomicInteger();\n                    mapObj.forEach((key, value) -&gt; {\n                        XSSFCell cell = row.createCell(cellNum.getAndIncrement());\n                        cell.setCellValue(key);\n                        if (value instanceof Integer)\n                            cell.setCellValue((Integer) value);\n                        else if (value instanceof BigDecimal)\n                            cell.setCellValue(((BigDecimal) value).doubleValue());\n                        else if (value instanceof Long)\n                            cell.setCellValue((Long) value);\n                        **else cell.setCellValue((String) value);**\n    \n                    });\n                });\n</code></pre>\n"},{"tags":["java","annotations"],"comments":[{"owner":{"account_id":4904867,"reputation":628,"user_id":3951861,"display_name":"Ashraf.Shk786"},"score":0,"creation_date":1526678701,"post_id":50419330,"comment_id":87854333,"body_markdown":"@Resource means get me a known resource by name. The name is extracted from the name of the annotated field or it&#39;s taken from the name parameter. Refer this link : https://stackoverflow.com/questions/4093504/resource-vs-autowired","body":"@Resource means get me a known resource by name. The name is extracted from the name of the annotated field or it&#39;s taken from the name parameter. Refer this link : <a href=\"https://stackoverflow.com/questions/4093504/resource-vs-autowired\" title=\"resource vs autowired\">stackoverflow.com/questions/4093504/resource-vs-autowired</a>"},{"owner":{"account_id":4904867,"reputation":628,"user_id":3951861,"display_name":"Ashraf.Shk786"},"score":0,"creation_date":1526678713,"post_id":50419330,"comment_id":87854340,"body_markdown":"Possible duplicate of [@Resource vs @Autowired](https://stackoverflow.com/questions/4093504/resource-vs-autowired)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/4093504/resource-vs-autowired\">@Resource vs @Autowired</a>"}],"answers":[{"tags":[],"owner":{"account_id":13574864,"reputation":105,"user_id":9792487,"display_name":"ThisIsntSparta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526681177,"creation_date":1526681177,"answer_id":50419801,"question_id":50419330,"body_markdown":"The @Resource annotation is used to identify a class, field, or method that upon initialization, the resource will be injected. For a class-based @Resource, the &quot;resource is looked up by the application at runtime&quot;.\r\n\r\nFurther information can be found here: https://docs.oracle.com/javaee/6/tutorial/doc/bncjk.html","title":"Meaning of @Resource annotation","body":"<p>The @Resource annotation is used to identify a class, field, or method that upon initialization, the resource will be injected. For a class-based @Resource, the \"resource is looked up by the application at runtime\".</p>\n\n<p>Further information can be found here: <a href=\"https://docs.oracle.com/javaee/6/tutorial/doc/bncjk.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javaee/6/tutorial/doc/bncjk.html</a></p>\n"},{"tags":[],"owner":{"account_id":7798354,"reputation":6929,"user_id":5898696,"accept_rate":89,"display_name":"J-Alex"},"down_vote_count":0,"up_vote_count":53,"is_accepted":true,"score":53,"last_activity_date":1637832042,"creation_date":1526683150,"answer_id":50420088,"question_id":50419330,"body_markdown":"First of all, to understand the point of `@Resource` you need to understand the **Inversion of Control (IoC)**.\r\n\r\n**Inversion of Control** is a principle in software development which goes that the control of objects should be transferred to a container or a framework. \r\n\r\n**Dependency Injection (DI)** is a pattern of IoC implementation, where the control being inverted is the setting of object’s dependencies.\r\nThe act of composing objects with other objects (injecting) is done by a container rather than by the objects themselves.\r\n\r\nUsing a DI framework (like `Spring IoC` or `EJB`) you&#39;re creating your POJOs and configuring the framework (a POJO configured such way called a `Bean`). A `Bean` may have different scopes, like singleton (1 object instance per container), prototype (creates a new instance of an object per injection or explicit call) and etc.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSo far, so good. What&#39;s next? It&#39;s time to use our **beans**.\r\n\r\n`@Resource` is the annotation that will help to extract **beans** from the container.\r\n\r\nThere are several lookup options to extract beans:\r\n\r\n- Match by Name\r\n- Match by Type\r\n- Match by Qualifier\r\n\r\nUsing `@Resource` without any parameters will trigger **Match by Type** lookup type.\r\n\r\nThere is an example of usage or `@Resource` with field injection and Spring framework with Java-based configuration and **Match by Name**:\r\n\r\n    @Configuration\r\n    public class ApplicationContext {\r\n     \r\n        // Put the bean into the spring container\r\n        @Bean(name = &quot;userFile&quot;)\r\n        public File userFile() {\r\n            File file = new File(&quot;user.txt&quot;);\r\n            return file;\r\n        }\r\n    }\r\n\r\n    @Service\r\n    class UserService {\r\n    \r\n        // Ask the container to get the bean and &#39;put&#39; it here (inject)\r\n        @Resource(name = &quot;userFile&quot;)\r\n        private File userFile;\r\n    \r\n    }\r\n\r\n`@Resource` is usually used to inject data sources, singleton services, context configurations and etc.\r\n\r\n  [1]: https://i.stack.imgur.com/12zpT.png","title":"Meaning of @Resource annotation","body":"<p>First of all, to understand the point of <code>@Resource</code> you need to understand the <strong>Inversion of Control (IoC)</strong>.</p>\n<p><strong>Inversion of Control</strong> is a principle in software development which goes that the control of objects should be transferred to a container or a framework.</p>\n<p><strong>Dependency Injection (DI)</strong> is a pattern of IoC implementation, where the control being inverted is the setting of object’s dependencies.\nThe act of composing objects with other objects (injecting) is done by a container rather than by the objects themselves.</p>\n<p>Using a DI framework (like <code>Spring IoC</code> or <code>EJB</code>) you're creating your POJOs and configuring the framework (a POJO configured such way called a <code>Bean</code>). A <code>Bean</code> may have different scopes, like singleton (1 object instance per container), prototype (creates a new instance of an object per injection or explicit call) and etc.</p>\n<p><a href=\"https://i.stack.imgur.com/12zpT.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/12zpT.png\" alt=\"enter image description here\" /></a></p>\n<p>So far, so good. What's next? It's time to use our <strong>beans</strong>.</p>\n<p><code>@Resource</code> is the annotation that will help to extract <strong>beans</strong> from the container.</p>\n<p>There are several lookup options to extract beans:</p>\n<ul>\n<li>Match by Name</li>\n<li>Match by Type</li>\n<li>Match by Qualifier</li>\n</ul>\n<p>Using <code>@Resource</code> without any parameters will trigger <strong>Match by Type</strong> lookup type.</p>\n<p>There is an example of usage or <code>@Resource</code> with field injection and Spring framework with Java-based configuration and <strong>Match by Name</strong>:</p>\n<pre><code>@Configuration\npublic class ApplicationContext {\n \n    // Put the bean into the spring container\n    @Bean(name = &quot;userFile&quot;)\n    public File userFile() {\n        File file = new File(&quot;user.txt&quot;);\n        return file;\n    }\n}\n\n@Service\nclass UserService {\n\n    // Ask the container to get the bean and 'put' it here (inject)\n    @Resource(name = &quot;userFile&quot;)\n    private File userFile;\n\n}\n</code></pre>\n<p><code>@Resource</code> is usually used to inject data sources, singleton services, context configurations and etc.</p>\n"}],"owner":{"account_id":12879017,"reputation":1099,"user_id":9314645,"display_name":"LM10"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47806,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":50420088,"answer_count":2,"score":24,"last_activity_date":1637832042,"creation_date":1526677890,"question_id":50419330,"body_markdown":"I&#39;m unable to understand the meaning of the `@Resource` annotation. I&#39;ve looked at online resources, but they seem to explain the same in a way which is difficult to comprehend. Can someone please explain the meaning of `@Resource` in a simplistic manner, if possible?\r\n\r\nThanks ! ","title":"Meaning of @Resource annotation","body":"<p>I'm unable to understand the meaning of the <code>@Resource</code> annotation. I've looked at online resources, but they seem to explain the same in a way which is difficult to comprehend. Can someone please explain the meaning of <code>@Resource</code> in a simplistic manner, if possible?</p>\n\n<p>Thanks ! </p>\n"},{"tags":["java","spring-data-jpa"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1637829381,"post_id":70107397,"comment_id":123931524,"body_markdown":"maybe also show how you are binding Teacher to Vacation in your DTO.","body":"maybe also show how you are binding Teacher to Vacation in your DTO."},{"owner":{"account_id":21022519,"reputation":85,"user_id":15448513,"display_name":"Ilyas Saitov"},"score":0,"creation_date":1637832222,"post_id":70107397,"comment_id":123932602,"body_markdown":"Edited my question, added info.","body":"Edited my question, added info."},{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":1,"creation_date":1637858386,"post_id":70107397,"comment_id":123943187,"body_markdown":"The simplest way would be to bind to `Set&lt;Vacation&gt;`  instead of `List&lt;Vacation&gt;`, no duplicates in sets.\n\nOFC that won&#39;t resolve the underlying issue. Also won&#39;t work it unique instances are created by JPA.","body":"The simplest way would be to bind to <code>Set&lt;Vacation&gt;</code>  instead of <code>List&lt;Vacation&gt;</code>, no duplicates in sets.  OFC that won&#39;t resolve the underlying issue. Also won&#39;t work it unique instances are created by JPA."}],"owner":{"account_id":21022519,"reputation":85,"user_id":15448513,"display_name":"Ilyas Saitov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637832015,"creation_date":1637826264,"question_id":70107397,"body_markdown":"A Teacher entity has List of vacations. I am using JPA repository (TeacherRepository extends JpaRepository&lt;Teacher, Integer&gt;).\r\n\r\nWhen I retrieve vacations for teacher with id=1, I get his two vacations twice:\r\n```java\r\nSystem.out.println(teacherRepository.findById(1).get().getVacations());\r\n```\r\nOutput:\r\n```\r\n[start: 2000-01-01, end: 2000-02-01, start: 2000-05-01, end: 2000-06-01, start: 2000-01-01, end: 2000-02-01, start: 2000-05-01, end: 2000-06-01] // wrong output: each vacation twice\r\n```\r\nBut if I first trigger findAll() method, everything is fine:\r\n```java\r\nteacherRepository.findAll();\r\nSystem.out.println(teacherRepository.findById(1).get().getVacations());\r\n```\r\nOutput:\r\n```\r\n[start: 2000-01-01, end: 2000-02-01, start: 2000-05-01, end: 2000-06-01]\r\n```\r\nWhy?\r\n\r\nUPD. Teacher entity implementation:\r\n```java\r\npublic class Teacher {\r\n\r\n    @Id\r\n    @Column\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n    // name, mail, phone skipped\r\n    @OneToMany(mappedBy = &quot;teacher&quot;, fetch=FetchType.EAGER)\r\n    private List&lt;Vacation&gt; vacations;\r\n}\r\n```","title":"JPA repository method returns doubled results","body":"<p>A Teacher entity has List of vacations. I am using JPA repository (TeacherRepository extends JpaRepository&lt;Teacher, Integer&gt;).</p>\n<p>When I retrieve vacations for teacher with id=1, I get his two vacations twice:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(teacherRepository.findById(1).get().getVacations());\n</code></pre>\n<p>Output:</p>\n<pre><code>[start: 2000-01-01, end: 2000-02-01, start: 2000-05-01, end: 2000-06-01, start: 2000-01-01, end: 2000-02-01, start: 2000-05-01, end: 2000-06-01] // wrong output: each vacation twice\n</code></pre>\n<p>But if I first trigger findAll() method, everything is fine:</p>\n<pre class=\"lang-java prettyprint-override\"><code>teacherRepository.findAll();\nSystem.out.println(teacherRepository.findById(1).get().getVacations());\n</code></pre>\n<p>Output:</p>\n<pre><code>[start: 2000-01-01, end: 2000-02-01, start: 2000-05-01, end: 2000-06-01]\n</code></pre>\n<p>Why?</p>\n<p>UPD. Teacher entity implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Teacher {\n\n    @Id\n    @Column\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    // name, mail, phone skipped\n    @OneToMany(mappedBy = &quot;teacher&quot;, fetch=FetchType.EAGER)\n    private List&lt;Vacation&gt; vacations;\n}\n</code></pre>\n"},{"tags":["java","angular","typescript","quarkus"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1637800613,"post_id":70104543,"comment_id":123925726,"body_markdown":"*When I update something, it does work and save the changed data in the database.* - keep doing this thing and it should be fine no?","body":"<i>When I update something, it does work and save the changed data in the database.</i> - keep doing this thing and it should be fine no?"},{"owner":{"account_id":23434738,"reputation":3,"user_id":17492996,"display_name":"brainfock"},"score":0,"creation_date":1637801897,"post_id":70104543,"comment_id":123925979,"body_markdown":"@ScaryWombat No it doesn&#39;t work, because when I update something, the object already exists, if I insert something I need to create a new one.","body":"@ScaryWombat No it doesn&#39;t work, because when I update something, the object already exists, if I insert something I need to create a new one."},{"owner":{"account_id":13163665,"reputation":5127,"user_id":9508635,"display_name":"tromgy"},"score":0,"creation_date":1637802063,"post_id":70104543,"comment_id":123926013,"body_markdown":"The error seems to be related to SSL certificates, and this [discussion on github](https://github.com/angular/angular-cli/issues/4839) might help.","body":"The error seems to be related to SSL certificates, and this <a href=\"https://github.com/angular/angular-cli/issues/4839\" rel=\"nofollow noreferrer\">discussion on github</a> might help."},{"owner":{"account_id":23434738,"reputation":3,"user_id":17492996,"display_name":"brainfock"},"score":0,"creation_date":1637803163,"post_id":70104543,"comment_id":123926215,"body_markdown":"@tromgy This error shows up often, but other things work anyway","body":"@tromgy This error shows up often, but other things work anyway"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1638190279,"post_id":70104543,"comment_id":124013992,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":23434738,"reputation":3,"user_id":17492996,"display_name":"brainfock"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637831956,"creation_date":1637800376,"question_id":70104543,"body_markdown":"I have a Quarkus server and I want to add a school to my table that shows database data, but I get HttpErrorResponse status 0. I also have a CORS filter. When I update something, it does work and save the changed data in the database. I get the following error:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSchoolResource\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    package rest;\r\n\r\n    import dao.SchoolDao;\r\n    import model.School;\r\n\r\n    import javax.inject.Inject;\r\n    import javax.transaction.Transactional;\r\n    import javax.ws.rs.*;\r\n    import javax.ws.rs.core.MediaType;\r\n    import java.util.List;\r\n\r\n    @Path(&quot;school&quot;)\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    @Consumes(MediaType.APPLICATION_JSON)\r\n    @Transactional\r\n    public class SchoolResource {\r\n\r\n        @Inject\r\n        SchoolDao dao;\r\n\r\n        @GET\r\n        public List&lt;School&gt; getAll() {\r\n            return dao.getAll();\r\n        }\r\n\r\n        @GET\r\n        @Path(&quot;/{id}&quot;)\r\n        public School getById(@PathParam(&quot;id&quot;) int id) {\r\n            return dao.getById(id);\r\n        }\r\n\r\n        @PUT\r\n        public void save(School school) {\r\n            dao.save(school);\r\n        }\r\n\r\n        @DELETE\r\n        @Produces(MediaType.APPLICATION_JSON)\r\n        @Consumes(MediaType.APPLICATION_JSON)\r\n        public void delete(School school) {\r\n            dao.delete(school);\r\n        }\r\n\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\nSchoolDao\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    package dao;\r\n\r\n    import model.School;\r\n\r\n    import javax.enterprise.context.Dependent;\r\n    import javax.inject.Inject;\r\n    import javax.persistence.EntityManager;\r\n    import java.util.List;\r\n\r\n    @Dependent\r\n    public class SchoolDao {\r\n\r\n        @Inject\r\n        EntityManager em;\r\n\r\n        public List&lt;School&gt; getAll() {\r\n            return em.createQuery(&quot;select s from School s&quot;, School.class).getResultList();\r\n        }\r\n\r\n        public School getById(int id) {\r\n            return em.find(School.class, id);\r\n        }\r\n\r\n        public void save(School school) {\r\n            em.merge(school);\r\n        }\r\n\r\n        public void insert(School school) {\r\n            em.persist(school);\r\n            em.flush();\r\n        }\r\n\r\n        public void delete(School school) {\r\n            em.remove(school);\r\n        }\r\n\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\ninsert-component.ts\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    import { Component, OnInit } from &#39;@angular/core&#39;;\r\n    import { Router } from &#39;@angular/router&#39;;\r\n    import { School } from &#39;../model/school&#39;;\r\n    import { SchoolService } from &#39;../school.service&#39;;\r\n\r\n    @Component({\r\n      selector: &#39;app-insert&#39;,\r\n      templateUrl: &#39;./insert.component.html&#39;,\r\n      styleUrls: [&#39;./insert.component.css&#39;]\r\n    })\r\n    export class InsertComponent implements OnInit {\r\n\r\n      name = &quot;&quot;;\r\n      street = &quot;&quot;;\r\n      \r\n      school: School = {id: -1, name: &quot;&quot;, street: &quot;&quot;};\r\n\r\n      constructor(private schoolService: SchoolService, private router: Router) { }\r\n\r\n      ngOnInit(): void {\r\n      }\r\n\r\n      save(): void {\r\n        this.school = {id: -1, name: this.name, street: this.street};\r\n        this.schoolService.save(this.school).subscribe(e =&gt; {\r\n          this.router.navigateByUrl(&quot;/dashboard&quot;);\r\n        });\r\n      }\r\n\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nservice.ts\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    import { HttpClient } from &#39;@angular/common/http&#39;;\r\n    import { Injectable } from &#39;@angular/core&#39;;\r\n    import { Observable } from &#39;rxjs&#39;;\r\n    import { School } from &#39;./model/school&#39;;\r\n\r\n    @Injectable({\r\n      providedIn: &#39;root&#39;\r\n    })\r\n    export class SchoolService {\r\n\r\n      url = &quot;http://localhost:8080/school&quot;\r\n\r\n      constructor(public http: HttpClient) { }\r\n\r\n      getAll(): Observable&lt;School[]&gt; {\r\n        return this.http.get&lt;School[]&gt;(this.url);\r\n      }\r\n\r\n      getById(id: number): Observable&lt;School&gt; {\r\n        const url = `${this.url}/${id}`;\r\n        return this.http.get&lt;School&gt;(url);\r\n      }\r\n\r\n      save(school: School): Observable&lt;School&gt; {\r\n        return this.http.put&lt;School&gt;(this.url, school);\r\n      }\r\n\r\n      delete(id: number): Observable&lt;School&gt; {\r\n        const url = `${this.url}/${id}`;\r\n        return this.http.delete&lt;School&gt;(this.url);\r\n      }\r\n      \r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nrFsP.png","title":"Angular HttpErrorResponse Put Operation","body":"<p>I have a Quarkus server and I want to add a school to my table that shows database data, but I get HttpErrorResponse status 0. I also have a CORS filter. When I update something, it does work and save the changed data in the database. I get the following error:</p>\n<p><a href=\"https://i.stack.imgur.com/nrFsP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nrFsP.png\" alt=\"enter image description here\" /></a></p>\n<p>SchoolResource</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>package rest;\n\nimport dao.SchoolDao;\nimport model.School;\n\nimport javax.inject.Inject;\nimport javax.transaction.Transactional;\nimport javax.ws.rs.*;\nimport javax.ws.rs.core.MediaType;\nimport java.util.List;\n\n@Path(\"school\")\n@Produces(MediaType.APPLICATION_JSON)\n@Consumes(MediaType.APPLICATION_JSON)\n@Transactional\npublic class SchoolResource {\n\n    @Inject\n    SchoolDao dao;\n\n    @GET\n    public List&lt;School&gt; getAll() {\n        return dao.getAll();\n    }\n\n    @GET\n    @Path(\"/{id}\")\n    public School getById(@PathParam(\"id\") int id) {\n        return dao.getById(id);\n    }\n\n    @PUT\n    public void save(School school) {\n        dao.save(school);\n    }\n\n    @DELETE\n    @Produces(MediaType.APPLICATION_JSON)\n    @Consumes(MediaType.APPLICATION_JSON)\n    public void delete(School school) {\n        dao.delete(school);\n    }\n\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>SchoolDao</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>package dao;\n\nimport model.School;\n\nimport javax.enterprise.context.Dependent;\nimport javax.inject.Inject;\nimport javax.persistence.EntityManager;\nimport java.util.List;\n\n@Dependent\npublic class SchoolDao {\n\n    @Inject\n    EntityManager em;\n\n    public List&lt;School&gt; getAll() {\n        return em.createQuery(\"select s from School s\", School.class).getResultList();\n    }\n\n    public School getById(int id) {\n        return em.find(School.class, id);\n    }\n\n    public void save(School school) {\n        em.merge(school);\n    }\n\n    public void insert(School school) {\n        em.persist(school);\n        em.flush();\n    }\n\n    public void delete(School school) {\n        em.remove(school);\n    }\n\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>insert-component.ts</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { School } from '../model/school';\nimport { SchoolService } from '../school.service';\n\n@Component({\n  selector: 'app-insert',\n  templateUrl: './insert.component.html',\n  styleUrls: ['./insert.component.css']\n})\nexport class InsertComponent implements OnInit {\n\n  name = \"\";\n  street = \"\";\n  \n  school: School = {id: -1, name: \"\", street: \"\"};\n\n  constructor(private schoolService: SchoolService, private router: Router) { }\n\n  ngOnInit(): void {\n  }\n\n  save(): void {\n    this.school = {id: -1, name: this.name, street: this.street};\n    this.schoolService.save(this.school).subscribe(e =&gt; {\n      this.router.navigateByUrl(\"/dashboard\");\n    });\n  }\n\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>service.ts</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { School } from './model/school';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SchoolService {\n\n  url = \"http://localhost:8080/school\"\n\n  constructor(public http: HttpClient) { }\n\n  getAll(): Observable&lt;School[]&gt; {\n    return this.http.get&lt;School[]&gt;(this.url);\n  }\n\n  getById(id: number): Observable&lt;School&gt; {\n    const url = `${this.url}/${id}`;\n    return this.http.get&lt;School&gt;(url);\n  }\n\n  save(school: School): Observable&lt;School&gt; {\n    return this.http.put&lt;School&gt;(this.url, school);\n  }\n\n  delete(id: number): Observable&lt;School&gt; {\n    const url = `${this.url}/${id}`;\n    return this.http.delete&lt;School&gt;(this.url);\n  }\n  \n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","loops","recursion"],"answers":[{"tags":[],"owner":{"account_id":12394921,"reputation":4981,"user_id":9035237,"display_name":"Geno Chen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637828538,"creation_date":1637828538,"answer_id":70107847,"question_id":70107644,"body_markdown":"I am not sure what your question is asking.\r\n\r\nBut I guess that, you are asking about, while `str_text` is changing in the `for` loop, then `str_text.length()` is also chaning, then what it will happen (infect) for `str_text.substring(i, str_text.length())`?\r\n\r\n`str_text.length()` gets the string length (not-so-seriously speaking, the &quot;character count&quot;) of `str_text`. Yes, it is changing during the `for` loop.\r\n\r\nAccording to the doc of [`String.substring(int, int)`](https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#substring(int,%20int)), `str_text.substring(i, str_text.length())` will return a new string that its content is from `i` to `str_text.length()` (that is, the end of `str_text`) of `str_text`.\r\n\r\n&gt; So to say, the gradual &#39;unfold&#39; for this code is like this ? \r\n\r\nNearly yes, but a little typo. The correct &#39;unfold&#39; is:\r\n```\r\nVJKU KUUQOGTGCNNAITGCVVGZVx\r\nVJKU KUUQ OGTGCNNAITGCVVGZVx\r\nVJKU KUUQ OGTG CNNAITGCVVGZVx\r\nVJKU KUUQ OGTG CNNA ITGCVVGZVx\r\nVJKU KUUQ OGTG CNNA ITGC VVGZVx\r\nVJKU KUUQ OGTG CNNA ITGC VVGZ Vx\r\nVJKU KUUQ OGTG CNNA ITGC VVGZ Vx\r\n```\r\n(Note that &#39;x&#39; is added before the `for` loop.)\r\nYou can test the &#39;unfold&#39; step by adding a `System.out.println(str_text)` inside the `for` loop.","title":"Regarding recursion, for loop in Java. Do my understand correct in this context?","body":"<p>I am not sure what your question is asking.</p>\n<p>But I guess that, you are asking about, while <code>str_text</code> is changing in the <code>for</code> loop, then <code>str_text.length()</code> is also chaning, then what it will happen (infect) for <code>str_text.substring(i, str_text.length())</code>?</p>\n<p><code>str_text.length()</code> gets the string length (not-so-seriously speaking, the &quot;character count&quot;) of <code>str_text</code>. Yes, it is changing during the <code>for</code> loop.</p>\n<p>According to the doc of <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#substring(int,%20int)\" rel=\"nofollow noreferrer\"><code>String.substring(int, int)</code></a>, <code>str_text.substring(i, str_text.length())</code> will return a new string that its content is from <code>i</code> to <code>str_text.length()</code> (that is, the end of <code>str_text</code>) of <code>str_text</code>.</p>\n<blockquote>\n<p>So to say, the gradual 'unfold' for this code is like this ?</p>\n</blockquote>\n<p>Nearly yes, but a little typo. The correct 'unfold' is:</p>\n<pre><code>VJKU KUUQOGTGCNNAITGCVVGZVx\nVJKU KUUQ OGTGCNNAITGCVVGZVx\nVJKU KUUQ OGTG CNNAITGCVVGZVx\nVJKU KUUQ OGTG CNNA ITGCVVGZVx\nVJKU KUUQ OGTG CNNA ITGC VVGZVx\nVJKU KUUQ OGTG CNNA ITGC VVGZ Vx\nVJKU KUUQ OGTG CNNA ITGC VVGZ Vx\n</code></pre>\n<p>(Note that 'x' is added before the <code>for</code> loop.)\nYou can test the 'unfold' step by adding a <code>System.out.println(str_text)</code> inside the <code>for</code> loop.</p>\n"}],"owner":{"account_id":23449018,"reputation":47,"user_id":17505429,"display_name":"Jabri Juhinin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637831337,"creation_date":1637827535,"question_id":70107644,"body_markdown":"The code written below is about a question that is to &#39;group a group of words&#39;:\r\n\r\n\r\n    public class module3_crypto {\r\n\r\n        //part 1 - normalizing text\r\n        public static void main(String[] args) {\r\n            System.out.println(groupify(&quot;VJKUKUUQOGTGCNNAITGCVVGZV&quot;, 4 ));\r\n        }\r\n\r\n        public static String groupify(String str_text, int nmbr_of_letters) {\r\n            int pad = str_text.length()%nmbr_of_letters;\r\n    \r\n            //padding x&#39;s to string\r\n            while(pad&gt;0){\r\n                str_text = str_text + &#39;x&#39;;\r\n                pad--;\r\n            }\r\n            //adding space\r\n            for(int i=nmbr_of_letters;i&lt;str_text.length();i=i+nmbr_of_letters){\r\n                str_text = str_text.substring(0,i)+&quot; &quot;+str_text.substring(i,str_text.length());\r\n                i++;\r\n            }\r\n            return str_text;\r\n        }\r\n    }\r\n\r\nI don&#39;t really understand this part: `str_text = str_text.substring(0,i)+&quot; &quot;+str_text.substring(i,str_text.length());`. Particularly the part `str_text.length()`. Calling the method with the value of `4`, I know that the `i = 4`. However, what would be the value of `str_text.length()`? Does it take the whole length of  the String ? And thus it keeps on repeating until `i = 16`, and finally only printed the final output that is `VJKU KUUQ OGTG CNNA ITGC VVGZ Vx` ? So to say, the gradual &#39;unfold&#39; for this code is like this ?\r\n\r\n\r\n    VJKU KUUQOGTGCNNAITGCVVGZV\r\n    VJKU KUUQ OGTGCNNAITGCVVGZV\r\n    VJKU KUUQ OGTG CNNAITGCVVGZV\r\n    VJKU KUUQ OGTG CNNA ITGC VVGZV\r\n    VJKU KUUQ OGTG CNNA ITGC VVGZ Vx\r\n","title":"Regarding recursion, for loop in Java. Do my understand correct in this context?","body":"<p>The code written below is about a question that is to 'group a group of words':</p>\n<pre><code>public class module3_crypto {\n\n    //part 1 - normalizing text\n    public static void main(String[] args) {\n        System.out.println(groupify(&quot;VJKUKUUQOGTGCNNAITGCVVGZV&quot;, 4 ));\n    }\n\n    public static String groupify(String str_text, int nmbr_of_letters) {\n        int pad = str_text.length()%nmbr_of_letters;\n\n        //padding x's to string\n        while(pad&gt;0){\n            str_text = str_text + 'x';\n            pad--;\n        }\n        //adding space\n        for(int i=nmbr_of_letters;i&lt;str_text.length();i=i+nmbr_of_letters){\n            str_text = str_text.substring(0,i)+&quot; &quot;+str_text.substring(i,str_text.length());\n            i++;\n        }\n        return str_text;\n    }\n}\n</code></pre>\n<p>I don't really understand this part: <code>str_text = str_text.substring(0,i)+&quot; &quot;+str_text.substring(i,str_text.length());</code>. Particularly the part <code>str_text.length()</code>. Calling the method with the value of <code>4</code>, I know that the <code>i = 4</code>. However, what would be the value of <code>str_text.length()</code>? Does it take the whole length of  the String ? And thus it keeps on repeating until <code>i = 16</code>, and finally only printed the final output that is <code>VJKU KUUQ OGTG CNNA ITGC VVGZ Vx</code> ? So to say, the gradual 'unfold' for this code is like this ?</p>\n<pre><code>VJKU KUUQOGTGCNNAITGCVVGZV\nVJKU KUUQ OGTGCNNAITGCVVGZV\nVJKU KUUQ OGTG CNNAITGCVVGZV\nVJKU KUUQ OGTG CNNA ITGC VVGZV\nVJKU KUUQ OGTG CNNA ITGC VVGZ Vx\n</code></pre>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1637745418,"post_id":70092081,"comment_id":123905792,"body_markdown":"Can you share URL?","body":"Can you share URL?"},{"owner":{"account_id":23433564,"reputation":11,"user_id":17492029,"display_name":"S K"},"score":0,"creation_date":1637746486,"post_id":70092081,"comment_id":123906227,"body_markdown":"https://demo.litecart.net/admin/\nside menu","body":"<a href=\"https://demo.litecart.net/admin/\" rel=\"nofollow noreferrer\">demo.litecart.net/admin</a> side menu"}],"answers":[{"tags":[],"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637831297,"creation_date":1637830870,"answer_id":70108318,"question_id":70092081,"body_markdown":"I had to get menu items after every DOM change and collect already clicked links. There it is:\r\n\r\n    package selenium;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    \r\n    public class Sasha extends WebDriverSetup {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tWebDriver driver = startChromeDriver(); // wrapped driver initialization\r\n    \t\tdriver.get(&quot;https://demo.litecart.net/admin/&quot;);\r\n    \t\tdriver.findElement(By.xpath(&quot;//*[@id=\\&quot;box-login\\&quot;]/form/div[2]/button&quot;)).click();\r\n    \t\tList&lt;String&gt; clickedLinks = new ArrayList&lt;String&gt;();\r\n    \t\tList&lt;WebElement&gt; links = getLinks();\r\n    \t\tfor (int i = 0; i &lt; links.size(); i++) {\r\n    \t\t\tList&lt;WebElement&gt; links2 = getLinks();\r\n    \t\t\tWebElement link = links2.get(i);\r\n    \t\t\tString href = link.getAttribute(&quot;href&quot;);\r\n    \t\t\tif (!clickedLinks.contains(href)) {\r\n    \t\t\t\tlink.click();\r\n    \t\t\t\tprintHeader();\r\n    \t\t\t\tclickedLinks.add(href);\r\n    \t\t\t\tList&lt;WebElement&gt; links3 = getLinks();\r\n    \t\t\t\tfor (int j = 0; j &lt; links3.size(); j++) {\r\n    \t\t\t\t\tList&lt;WebElement&gt; links4 = getLinks();\r\n    \t\t\t\t\tWebElement link2 = links4.get(j);\r\n    \t\t\t\t\tString href2 = link2.getAttribute(&quot;href&quot;);\r\n    \t\t\t\t\tif (!clickedLinks.contains(href2)) {\r\n    \t\t\t\t\t\tlink2.click();\r\n    \t\t\t\t\t\tprintHeader();\r\n    \t\t\t\t\t\tclickedLinks.add(href2);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tdriver.quit();\r\n    \t}\r\n    \t\r\n    \tpublic static List&lt;WebElement&gt; getLinks() {\r\n    \t\tWebElement box = driver.findElement(By.id(&quot;box-apps-menu&quot;));\r\n    \t\treturn box.findElements(By.tagName(&quot;a&quot;));\r\n    \t}\r\n    \t\r\n    \tpublic static void printHeader() {\r\n    \t\tif (driver.findElements(By.className(&quot;panel-heading&quot;)).size() &gt; 0) {\r\n    \t\t\tSystem.out.println(driver.findElement(By.className(&quot;panel-heading&quot;)).getText());\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tSystem.out.println(driver.findElement(By.id(&quot;content&quot;)).getText());\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\nOutput:\r\n\r\n    Starting ChromeDriver 96.0.4664.45 (76e4c1bb2ab4671b8beba3444e61c0f17584b2fc-refs/branch-heads/4664@{#947}) on port 44763\r\n    Only local connections are allowed.\r\n    Please see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\n    ChromeDriver was started successfully.\r\n    Lis 25, 2021 9:58:04 DOP. org.openqa.selenium.remote.ProtocolHandshake createSession\r\n    INFO: Detected dialect: W3C\r\n    Template\r\n    Logotype\r\n    Edit Styling\r\n    Catalog\r\n    Suppliers\r\n    Delivery Statuses\r\n    Sold-Out Statuses\r\n    Quantity Units\r\n    CSV Import/Export\r\n    Countries\r\n    Settings – Store Info\r\n    Settings – Defaults\r\n    Settings – Email\r\n    Settings – Listings\r\n    Settings – Customer Details\r\n    Settings – Legal\r\n    Settings – Images\r\n    Settings – Checkout\r\n    Currencies\r\n    Customers\r\n    CSV Import/Export\r\n    Newsletter Recipients\r\n    Geo Zones\r\n    Pages\r\n    CSV Import/Export\r\n    Monthly Sales\r\n    Most Shopping Customers\r\n    Slides\r\n    Not available in demo\r\n    Languages\r\n    Storage Encoding\r\n    Customer Modules\r\n    Payment Modules\r\n    Order Modules\r\n    Order Total Modules\r\n    Job Modules\r\n    Orders\r\n    Tax Rates\r\n    Search Translations\r\n    CSV Import/Export\r\n    Users\r\n\r\n","title":"Menu items testing selenium java","body":"<p>I had to get menu items after every DOM change and collect already clicked links. There it is:</p>\n<pre><code>package selenium;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\n\npublic class Sasha extends WebDriverSetup {\n\n    public static void main(String[] args) {\n\n        WebDriver driver = startChromeDriver(); // wrapped driver initialization\n        driver.get(&quot;https://demo.litecart.net/admin/&quot;);\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;box-login\\&quot;]/form/div[2]/button&quot;)).click();\n        List&lt;String&gt; clickedLinks = new ArrayList&lt;String&gt;();\n        List&lt;WebElement&gt; links = getLinks();\n        for (int i = 0; i &lt; links.size(); i++) {\n            List&lt;WebElement&gt; links2 = getLinks();\n            WebElement link = links2.get(i);\n            String href = link.getAttribute(&quot;href&quot;);\n            if (!clickedLinks.contains(href)) {\n                link.click();\n                printHeader();\n                clickedLinks.add(href);\n                List&lt;WebElement&gt; links3 = getLinks();\n                for (int j = 0; j &lt; links3.size(); j++) {\n                    List&lt;WebElement&gt; links4 = getLinks();\n                    WebElement link2 = links4.get(j);\n                    String href2 = link2.getAttribute(&quot;href&quot;);\n                    if (!clickedLinks.contains(href2)) {\n                        link2.click();\n                        printHeader();\n                        clickedLinks.add(href2);\n                    }\n                }\n            }\n        }\n        driver.quit();\n    }\n    \n    public static List&lt;WebElement&gt; getLinks() {\n        WebElement box = driver.findElement(By.id(&quot;box-apps-menu&quot;));\n        return box.findElements(By.tagName(&quot;a&quot;));\n    }\n    \n    public static void printHeader() {\n        if (driver.findElements(By.className(&quot;panel-heading&quot;)).size() &gt; 0) {\n            System.out.println(driver.findElement(By.className(&quot;panel-heading&quot;)).getText());\n        }\n        else {\n            System.out.println(driver.findElement(By.id(&quot;content&quot;)).getText());\n        }\n    }\n\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Starting ChromeDriver 96.0.4664.45 (76e4c1bb2ab4671b8beba3444e61c0f17584b2fc-refs/branch-heads/4664@{#947}) on port 44763\nOnly local connections are allowed.\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\nChromeDriver was started successfully.\nLis 25, 2021 9:58:04 DOP. org.openqa.selenium.remote.ProtocolHandshake createSession\nINFO: Detected dialect: W3C\nTemplate\nLogotype\nEdit Styling\nCatalog\nSuppliers\nDelivery Statuses\nSold-Out Statuses\nQuantity Units\nCSV Import/Export\nCountries\nSettings – Store Info\nSettings – Defaults\nSettings – Email\nSettings – Listings\nSettings – Customer Details\nSettings – Legal\nSettings – Images\nSettings – Checkout\nCurrencies\nCustomers\nCSV Import/Export\nNewsletter Recipients\nGeo Zones\nPages\nCSV Import/Export\nMonthly Sales\nMost Shopping Customers\nSlides\nNot available in demo\nLanguages\nStorage Encoding\nCustomer Modules\nPayment Modules\nOrder Modules\nOrder Total Modules\nJob Modules\nOrders\nTax Rates\nSearch Translations\nCSV Import/Export\nUsers\n</code></pre>\n"}],"owner":{"account_id":23433564,"reputation":11,"user_id":17492029,"display_name":"S K"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":374,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1637831297,"creation_date":1637738621,"question_id":70092081,"body_markdown":"I am making a test script, during which all menu items must be clicked. If items have nested submenus, they also must be clicked. I understand that I need to do something through the &quot;if&quot;. If there is a submenu, then run a function that will go through them, if there are none, then repeat the current one, but I don’t know java very well and don’t understand how to implement it. Now my functions are simply driven in a circle through one menu item and its submenus. Thanks for the help!\r\n\r\nCode:\r\n```\r\nList&lt;WebElement&gt; elementList = driver.findElements(By.cssSelector(&quot;#box-apps-menu li a&quot;));\r\n       int numberOfMenuElements = elementList.size();\r\n       for (int i = 0; i &lt; numberOfMenuElements; i++) {\r\n           elementList = driver.findElements(By.cssSelector(&quot;#box-apps-menu li a&quot;));\r\n           elementList.get(i).click();\r\n           wait.until(ExpectedConditions.visibilityOfElementLocated(By.tagName(&quot;h1&quot;)));\r\n\r\n           List&lt;WebElement&gt; subMenuElementsList = driver.findElements(By.cssSelector(&quot;.docs&gt;li&quot;));\r\n           int numberOfsubMenuElements = subMenuElementsList.size();\r\n           for (int j = 0; j &lt; numberOfsubMenuElements; j++) {\r\n               subMenuElementsList = driver.findElements(By.cssSelector(&quot;.docs&gt;li&quot;));\r\n               subMenuElementsList.get(j).click();\r\n               wait.until(ExpectedConditions.visibilityOfElementLocated(By.tagName(&quot;h1&quot;)));\r\n           }\r\n\r\n       }\r\n```","title":"Menu items testing selenium java","body":"<p>I am making a test script, during which all menu items must be clicked. If items have nested submenus, they also must be clicked. I understand that I need to do something through the &quot;if&quot;. If there is a submenu, then run a function that will go through them, if there are none, then repeat the current one, but I don’t know java very well and don’t understand how to implement it. Now my functions are simply driven in a circle through one menu item and its submenus. Thanks for the help!</p>\n<p>Code:</p>\n<pre><code>List&lt;WebElement&gt; elementList = driver.findElements(By.cssSelector(&quot;#box-apps-menu li a&quot;));\n       int numberOfMenuElements = elementList.size();\n       for (int i = 0; i &lt; numberOfMenuElements; i++) {\n           elementList = driver.findElements(By.cssSelector(&quot;#box-apps-menu li a&quot;));\n           elementList.get(i).click();\n           wait.until(ExpectedConditions.visibilityOfElementLocated(By.tagName(&quot;h1&quot;)));\n\n           List&lt;WebElement&gt; subMenuElementsList = driver.findElements(By.cssSelector(&quot;.docs&gt;li&quot;));\n           int numberOfsubMenuElements = subMenuElementsList.size();\n           for (int j = 0; j &lt; numberOfsubMenuElements; j++) {\n               subMenuElementsList = driver.findElements(By.cssSelector(&quot;.docs&gt;li&quot;));\n               subMenuElementsList.get(j).click();\n               wait.until(ExpectedConditions.visibilityOfElementLocated(By.tagName(&quot;h1&quot;)));\n           }\n\n       }\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":8664592,"reputation":9965,"user_id":6485651,"accept_rate":65,"display_name":"Zephyr"},"score":5,"creation_date":1637789056,"post_id":70102621,"comment_id":123922880,"body_markdown":"You&#39;re creating a `new TableView` in your controller. This is replacing the one you&#39;ve defined in your FXML, so when you add items to the `TableView`, it&#39;s being added to this new one and not the one shown in the stage. Remove the `= new TableView&lt;&gt;()` from your controller.","body":"You&#39;re creating a <code>new TableView</code> in your controller. This is replacing the one you&#39;ve defined in your FXML, so when you add items to the <code>TableView</code>, it&#39;s being added to this new one and not the one shown in the stage. Remove the <code>= new TableView&lt;&gt;()</code> from your controller."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":5,"creation_date":1637790951,"post_id":70102621,"comment_id":123923498,"body_markdown":"@Zephyr Field initialization happens at instantiation time, which occurs before the FXML fields are injected. But you&#39;re correct that `= new TableView&lt;&gt;()` should be removed.","body":"@Zephyr Field initialization happens at instantiation time, which occurs before the FXML fields are injected. But you&#39;re correct that <code>= new TableView&lt;&gt;()</code> should be removed."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":4,"creation_date":1637791155,"post_id":70102621,"comment_id":123923558,"body_markdown":"You&#39;re using `PropertyValueFactory` and pass it `&quot;Id&quot;`. Based on JavaBean naming conventions, that causes it to look for a method named `getId()`. Your `PersonalInfo` class does not have such a method. Most likely you meant to pass `&quot;pId&quot;` instead of `&quot;Id&quot;`.","body":"You&#39;re using <code>PropertyValueFactory</code> and pass it <code>&quot;Id&quot;</code>. Based on JavaBean naming conventions, that causes it to look for a method named <code>getId()</code>. Your <code>PersonalInfo</code> class does not have such a method. Most likely you meant to pass <code>&quot;pId&quot;</code> instead of <code>&quot;Id&quot;</code>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1637797465,"post_id":70102621,"comment_id":123925056,"body_markdown":"Lambda&#39;s are, in most cases, [superior to using a PropertyValueFactory](https://stackoverflow.com/questions/38049734/java-setcellvaluefactory-lambda-vs-propertyvaluefactory-advantages-disadvant) because they allow you to catch issues at compile time rather than runtime failures like this.","body":"Lambda&#39;s are, in most cases, <a href=\"https://stackoverflow.com/questions/38049734/java-setcellvaluefactory-lambda-vs-propertyvaluefactory-advantages-disadvant\">superior to using a PropertyValueFactory</a> because they allow you to catch issues at compile time rather than runtime failures like this."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1637798477,"post_id":70102621,"comment_id":123925261,"body_markdown":"In addition to what Slaw said, your accessor method names are not correct.  See https://stackoverflow.com/questions/65785787/javafx-tableview-not-showing-data-something-wrong-with-getter-setters.","body":"In addition to what Slaw said, your accessor method names are not correct.  See <a href=\"https://stackoverflow.com/questions/65785787/javafx-tableview-not-showing-data-something-wrong-with-getter-setters\" title=\"javafx tableview not showing data something wrong with getter setters\">stackoverflow.com/questions/65785787/&hellip;</a>."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1637843696,"post_id":70102621,"comment_id":123937206,"body_markdown":"Note that you __do not__ have a pair of getter/setter for either `pId` or `id` (at least not in the code you are showing): a real setter by convention must have a return type of void. Also note that given a getter of name `getId`,  the property name is `id` (not `Id`) - case matters (though you do get away with the upper case first because PropertyValueFactory is lenient at that location :)","body":"Note that you <b>do not</b> have a pair of getter/setter for either <code>pId</code> or <code>id</code> (at least not in the code you are showing): a real setter by convention must have a return type of void. Also note that given a getter of name <code>getId</code>,  the property name is <code>id</code> (not <code>Id</code>) - case matters (though you do get away with the upper case first because PropertyValueFactory is lenient at that location :)"}],"owner":{"account_id":4139573,"reputation":1,"user_id":3395300,"display_name":"VahidKhanzadeh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1637796403,"answer_count":0,"score":0,"last_activity_date":1637830930,"creation_date":1637786291,"question_id":70102621,"body_markdown":"I have a weird problem in using TableView \r\n\r\nmy TableView Is showing blank line, what am I missing?\r\n\r\n\r\nController.java\r\n\r\n    public class Controller {\r\n\r\n\r\n    @FXML private TableView&lt;PersonalInfo&gt; personalInfo = new TableView&lt;&gt;();\r\n    @FXML private TableColumn&lt;PersonalInfo,String&gt; tvId;\r\n\r\n\r\n    @FXML\r\n    public void initialize() {\r\n\r\n        tvId.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;Id&quot;));\r\n\r\n    }\r\n\r\n    public void btnShow(ActionEvent actionEvent) {\r\n        List&lt;PersonalInfo&gt; participantList = new ArrayList&lt;&gt;();\r\n\r\n        participantList.add(new PersonalInfo(&quot;10&quot;) );\r\n\r\n        personalInfo.getItems().clear();\r\n        personalInfo.getItems().addAll(participantList);\r\n    }}\r\nPersonalInfo:\r\n\r\n    public class PersonalInfo {\r\n    private String pId;\r\n\r\n    public PersonalInfo(String pId) {\r\n        this.pId = pId;\r\n    }\r\n    public PersonalInfo() {\r\n    }\r\n\r\n    public PersonalInfo setpId(String pId) {\r\n        this.pId = pId;\r\n        return this;\r\n    }\r\n\r\n    public String getpId() {\r\n        return pId;\r\n    }}\r\nsample.fxml :\r\n\r\n       &lt;children&gt;\r\n      &lt;TableView fx:id=&quot;personalInfo&quot;&gt;\r\n        &lt;columns&gt;\r\n          &lt;TableColumn fx:id=&quot;tvId&quot; prefWidth=&quot;75.0&quot; text=&quot;Id&quot; /&gt;\r\n        &lt;/columns&gt;\r\n      &lt;/TableView&gt;\r\n      &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#btnShow&quot; text=&quot;Show&quot; GridPane.halignment=&quot;CENTER&quot; GridPane.rowIndex=&quot;1&quot; GridPane.valignment=&quot;CENTER&quot; /&gt;&lt;/children&gt;\r\n\r\nabove code only show a blank row\r\nwhat I can&#39;t see the content?\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Gn3Hv.jpg\r\n\r\n**Edit:**\r\nThanks, guys I found where I made a mistake as Slaw said the problem is I pass &quot;Id&quot; to PropertyValueFactory and in PersonalInfo.java file my getter and setter function is getpId and setpId so we have two option to fix it.\r\n\r\nFirst:\r\n\r\nwe could change &quot;Id&quot; to &quot;pId&quot; and our setter and getter to getPId and setPId(because of java name convention)\r\n\r\nSecond : \r\n\r\nwe could change setter and getter function to getId and setId  \r\n\r\nthen everything is fine and works perfectly.","title":"TableView (javaFX) is showing only blank line","body":"<p>I have a weird problem in using TableView</p>\n<p>my TableView Is showing blank line, what am I missing?</p>\n<p>Controller.java</p>\n<pre><code>public class Controller {\n\n\n@FXML private TableView&lt;PersonalInfo&gt; personalInfo = new TableView&lt;&gt;();\n@FXML private TableColumn&lt;PersonalInfo,String&gt; tvId;\n\n\n@FXML\npublic void initialize() {\n\n    tvId.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;Id&quot;));\n\n}\n\npublic void btnShow(ActionEvent actionEvent) {\n    List&lt;PersonalInfo&gt; participantList = new ArrayList&lt;&gt;();\n\n    participantList.add(new PersonalInfo(&quot;10&quot;) );\n\n    personalInfo.getItems().clear();\n    personalInfo.getItems().addAll(participantList);\n}}\n</code></pre>\n<p>PersonalInfo:</p>\n<pre><code>public class PersonalInfo {\nprivate String pId;\n\npublic PersonalInfo(String pId) {\n    this.pId = pId;\n}\npublic PersonalInfo() {\n}\n\npublic PersonalInfo setpId(String pId) {\n    this.pId = pId;\n    return this;\n}\n\npublic String getpId() {\n    return pId;\n}}\n</code></pre>\n<p>sample.fxml :</p>\n<pre><code>   &lt;children&gt;\n  &lt;TableView fx:id=&quot;personalInfo&quot;&gt;\n    &lt;columns&gt;\n      &lt;TableColumn fx:id=&quot;tvId&quot; prefWidth=&quot;75.0&quot; text=&quot;Id&quot; /&gt;\n    &lt;/columns&gt;\n  &lt;/TableView&gt;\n  &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#btnShow&quot; text=&quot;Show&quot; GridPane.halignment=&quot;CENTER&quot; GridPane.rowIndex=&quot;1&quot; GridPane.valignment=&quot;CENTER&quot; /&gt;&lt;/children&gt;\n</code></pre>\n<p>above code only show a blank row\nwhat I can't see the content?\n<a href=\"https://i.stack.imgur.com/Gn3Hv.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><strong>Edit:</strong>\nThanks, guys I found where I made a mistake as Slaw said the problem is I pass &quot;Id&quot; to PropertyValueFactory and in PersonalInfo.java file my getter and setter function is getpId and setpId so we have two option to fix it.</p>\n<p>First:</p>\n<p>we could change &quot;Id&quot; to &quot;pId&quot; and our setter and getter to getPId and setPId(because of java name convention)</p>\n<p>Second :</p>\n<p>we could change setter and getter function to getId and setId</p>\n<p>then everything is fine and works perfectly.</p>\n"},{"tags":["java","android","zooming","scale"],"comments":[{"owner":{"account_id":8737291,"reputation":1,"user_id":6535489,"display_name":"Akkuu"},"score":0,"creation_date":1637827338,"post_id":70106734,"comment_id":123930803,"body_markdown":"Or is there any way by which I can make sure the scale factor is between 0 &amp; 1?","body":"Or is there any way by which I can make sure the scale factor is between 0 &amp; 1?"},{"owner":{"account_id":12331589,"reputation":380,"user_id":8997375,"display_name":"Jimmy Fraiture"},"score":0,"creation_date":1637829180,"post_id":70106734,"comment_id":123931453,"body_markdown":"If I remember well, the default bounds are [0.6, 8] but it can be overrided by the application","body":"If I remember well, the default bounds are [0.6, 8] but it can be overrided by the application"},{"owner":{"account_id":9262491,"reputation":532,"user_id":6879058,"display_name":"Poran"},"score":0,"creation_date":1637830946,"post_id":70106734,"comment_id":123932135,"body_markdown":"Zoom range between 0 to 1 valuers","body":"Zoom range between 0 to 1 valuers"}],"owner":{"account_id":8737291,"reputation":1,"user_id":6535489,"display_name":"Akkuu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637830444,"creation_date":1637822041,"question_id":70106734,"body_markdown":"I am using the below function to get the scale factor.\r\n\r\nI see values are &gt; 1 when Zooming in\r\nand &lt; 1 when Zooming out.\r\n\r\nWhat is the exact meaning of these? And majorly,\r\nwhat is the minimum and maximum value taken by scale Factor while Zooming in &amp; Zooming out?\r\n\r\n    public class MyScaleGestureListener implements ScaleGestureDetector.OnScaleGestureListener {\r\n        @Override\r\n        public boolean onScale(ScaleGestureDetector scaleGestureDetector) {\r\n                Log.i(TAG,&quot;zoom value : &quot; + scaleGestureDetector.getScaleFactor());\r\n            }\r\n            return true;\r\n        }\r\n    }","title":"What is the minimum and maximum value taken by scale Factor while Zooming in android?","body":"<p>I am using the below function to get the scale factor.</p>\n<p>I see values are &gt; 1 when Zooming in\nand &lt; 1 when Zooming out.</p>\n<p>What is the exact meaning of these? And majorly,\nwhat is the minimum and maximum value taken by scale Factor while Zooming in &amp; Zooming out?</p>\n<pre><code>public class MyScaleGestureListener implements ScaleGestureDetector.OnScaleGestureListener {\n    @Override\n    public boolean onScale(ScaleGestureDetector scaleGestureDetector) {\n            Log.i(TAG,&quot;zoom value : &quot; + scaleGestureDetector.getScaleFactor());\n        }\n        return true;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","resources","external"],"answers":[{"tags":[],"owner":{"account_id":104911,"reputation":119202,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1480081054,"creation_date":1449091211,"answer_id":34053211,"question_id":34052259,"body_markdown":"Use the spring [mvc support for static resources][1], its `location` attribute is an Spring `Resource`, so you could use `file:` prefix\r\n\r\n    &lt;resources mapping=&quot;/resources/**&quot; location=&quot;file:/my/external/directory/&quot; /&gt;\r\n\r\nor\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class WebConfig extends WebMvcConfigurerAdapter {\r\n\r\n        @Override\r\n        public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n            registry.addResourceHandler(&quot;/resources/**&quot;)\r\n                    .addResourceLocations(&quot;file:/my/external/directory/&quot;);\r\n        }\r\n    }\r\n\r\n@See [Spring Reference Chapter 6.4 The ResourceLoader][2] for a table that list all prefixed for resources\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/mvc.html#mvc-config-static-resources\r\n  [2]: http://docs.spring.io/autorepo/docs/spring/4.1.x/spring-framework-reference/html/resources.html#resources-resourceloader","title":"Spring get files and images from external folder on disk, outside webapps?","body":"<p>Use the spring <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/mvc.html#mvc-config-static-resources\" rel=\"noreferrer\">mvc support for static resources</a>, its <code>location</code> attribute is an Spring <code>Resource</code>, so you could use <code>file:</code> prefix</p>\n\n<pre><code>&lt;resources mapping=\"/resources/**\" location=\"file:/my/external/directory/\" /&gt;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>@Configuration\n@EnableWebMvc\npublic class WebConfig extends WebMvcConfigurerAdapter {\n\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(\"/resources/**\")\n                .addResourceLocations(\"file:/my/external/directory/\");\n    }\n}\n</code></pre>\n\n<p>@See <a href=\"http://docs.spring.io/autorepo/docs/spring/4.1.x/spring-framework-reference/html/resources.html#resources-resourceloader\" rel=\"noreferrer\">Spring Reference Chapter 6.4 The ResourceLoader</a> for a table that list all prefixed for resources</p>\n"},{"tags":[],"owner":{"account_id":7060641,"reputation":857,"user_id":5406023,"accept_rate":39,"display_name":"Mr. Mak"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1524393664,"creation_date":1477937323,"answer_id":40347981,"question_id":34052259,"body_markdown":"In my case I placed js and css resources in webapp and images in `e://images/`.\r\nFor this case I use two `mvc:resources` mapping\r\n\r\n    &lt;mvc:resources mapping=&quot;/resources/**&quot; location=&quot;/resources/&quot;/&gt;\r\n    &lt;mvc:resources mapping=&quot;/images/**&quot; location=&quot;file:e://images/&quot;/&gt;\r\n\r\nAnd locate the image of **e: &gt; images &gt; abc.jpg** using ....\r\n\r\n    &lt;img src=&quot;../images/abc.jpg&quot;/&gt;\r\nYou could try also `&lt;img src=&quot;/images/abc.jpg&quot;/&gt; or &lt;img src=&quot;images/abc.jpg&quot;&gt;` (If not work)\r\n\r\nThe css/js linked under **webapp &gt; resources &gt; js &gt; xyz.js** like below.\r\n\r\n    &lt;script type=&#39;text/javascript&#39; src=&#39;../resources/js/xyz.js&#39;&gt;&lt;/script&gt;","title":"Spring get files and images from external folder on disk, outside webapps?","body":"<p>In my case I placed js and css resources in webapp and images in <code>e://images/</code>.\nFor this case I use two <code>mvc:resources</code> mapping</p>\n\n<pre><code>&lt;mvc:resources mapping=\"/resources/**\" location=\"/resources/\"/&gt;\n&lt;mvc:resources mapping=\"/images/**\" location=\"file:e://images/\"/&gt;\n</code></pre>\n\n<p>And locate the image of <strong>e: > images > abc.jpg</strong> using ....</p>\n\n<pre><code>&lt;img src=\"../images/abc.jpg\"/&gt;\n</code></pre>\n\n<p>You could try also <code>&lt;img src=\"/images/abc.jpg\"/&gt; or &lt;img src=\"images/abc.jpg\"&gt;</code> (If not work)</p>\n\n<p>The css/js linked under <strong>webapp > resources > js > xyz.js</strong> like below.</p>\n\n<pre><code>&lt;script type='text/javascript' src='../resources/js/xyz.js'&gt;&lt;/script&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23067152,"reputation":11,"user_id":17181437,"display_name":"Sazib"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637830268,"creation_date":1637826239,"answer_id":70107386,"question_id":34052259,"body_markdown":"You can`implement WebMvcConfigurer` in your main Application or Main class.\r\n\r\n    @SpringBootApplication\r\n    @ComponentScan(&quot;com.your.package.controller&quot;)\r\n    @Configuration\r\n    public class ServicesApplication implements WebMvcConfigurer {   // ServicesApplication is my main class\r\n    \r\n    \tString your_drive_location = &quot;file:///D:/upload_dir/upload/&quot;; // my file path  \r\n    \r\n    \t@Override\r\n    \tpublic void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n    \t\tregistry.addResourceHandler(&quot;/images/**&quot;).addResourceLocations(your_drive_location );\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(ServicesApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\nI am using JSTL for showing:\r\n\r\n    &lt;c:forEach items=&quot;${ListOfBrand}&quot; var=&quot;brand&quot;&gt;  // ListOfBrand is a Map\r\n        &lt;img src=&quot; &lt;c:out value=&quot;/images/&quot;/&gt;${brand.brand_image}&quot; /&gt;  // Showing all image from brand table\r\n    &lt;/c:forEach&gt;\r\n\r\n","title":"Spring get files and images from external folder on disk, outside webapps?","body":"<p>You can<code>implement WebMvcConfigurer</code> in your main Application or Main class.</p>\n<pre><code>@SpringBootApplication\n@ComponentScan(&quot;com.your.package.controller&quot;)\n@Configuration\npublic class ServicesApplication implements WebMvcConfigurer {   // ServicesApplication is my main class\n\n    String your_drive_location = &quot;file:///D:/upload_dir/upload/&quot;; // my file path  \n\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(&quot;/images/**&quot;).addResourceLocations(your_drive_location );\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(ServicesApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>I am using JSTL for showing:</p>\n<pre><code>&lt;c:forEach items=&quot;${ListOfBrand}&quot; var=&quot;brand&quot;&gt;  // ListOfBrand is a Map\n    &lt;img src=&quot; &lt;c:out value=&quot;/images/&quot;/&gt;${brand.brand_image}&quot; /&gt;  // Showing all image from brand table\n&lt;/c:forEach&gt;\n</code></pre>\n"}],"owner":{"account_id":1597866,"reputation":1120,"user_id":1479536,"accept_rate":53,"display_name":"Edgar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15557,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":34053211,"answer_count":3,"score":6,"last_activity_date":1637830268,"creation_date":1449087571,"question_id":34052259,"body_markdown":"I have webproject which has images inside src/main/webapp folder. I would like to place images in different folder on the disk. But I have no idea how to manage requests to reach this images. \r\nShould I create some kind of `httpServlet` like shown here: http://balusc.omnifaces.org/2007/07/fileservlet.html\r\n\r\nOr as I use Spring MVC with java configuration, there is more suitable and simpler way.\r\n\r\nLooking forward for your suggestions.\r\n","title":"Spring get files and images from external folder on disk, outside webapps?","body":"<p>I have webproject which has images inside src/main/webapp folder. I would like to place images in different folder on the disk. But I have no idea how to manage requests to reach this images. \nShould I create some kind of <code>httpServlet</code> like shown here: <a href=\"http://balusc.omnifaces.org/2007/07/fileservlet.html\" rel=\"noreferrer\">http://balusc.omnifaces.org/2007/07/fileservlet.html</a></p>\n\n<p>Or as I use Spring MVC with java configuration, there is more suitable and simpler way.</p>\n\n<p>Looking forward for your suggestions.</p>\n"},{"tags":["java","azure","migration","mainframe","latency"],"answers":[{"tags":[],"owner":{"account_id":1377161,"reputation":713,"user_id":1310944,"display_name":"Martin Packer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637830133,"creation_date":1637830133,"answer_id":70108172,"question_id":70031239,"body_markdown":"Mainframe Performance expert here. (Look me up if you doubt that.)\r\n\r\nFor Db2 on z/OS there is excellent instrumentation. In particular there is Db2 Accounting Trace - for individual connections to Db2. But...\r\n\r\n... To use it you really are going to need to talk to your Db2-on-z/OS administrators. I would hope they would help you in your quest.\r\n\r\nAssuming this is strategic to your / their organisation, they can always come and talk to me - martin_packer@uk.ibm.com - and I have some Open Source tooling that would probably be useful to them (but probably not to you).","title":"Network Latency from Azure cloud to Mainframe","body":"<p>Mainframe Performance expert here. (Look me up if you doubt that.)</p>\n<p>For Db2 on z/OS there is excellent instrumentation. In particular there is Db2 Accounting Trace - for individual connections to Db2. But...</p>\n<p>... To use it you really are going to need to talk to your Db2-on-z/OS administrators. I would hope they would help you in your quest.</p>\n<p>Assuming this is strategic to your / their organisation, they can always come and talk to me - martin_packer@uk.ibm.com - and I have some Open Source tooling that would probably be useful to them (but probably not to you).</p>\n"}],"owner":{"account_id":23389480,"reputation":1,"user_id":17454313,"display_name":"user_mf_cloud"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637830133,"creation_date":1637306862,"question_id":70031239,"body_markdown":"I am working on a mainframe migration project where code is migrated to Java and on Azure cloud but DB2 database is still in mainframe. I am completely new to cloud world so don&#39;t know about the services and tools. \r\nIs there a way to measure network latency from cloud to mainframe during DB2 calls? We need how much time it actually takes going from cloud to mainframe, executing the statement (anything to find this specifically?) and then return to cloud. Time spent on cloud and on mainframe, to be specific. Could you please suggest any tool, pre-installed services or method to do that?\r\nThank you.","title":"Network Latency from Azure cloud to Mainframe","body":"<p>I am working on a mainframe migration project where code is migrated to Java and on Azure cloud but DB2 database is still in mainframe. I am completely new to cloud world so don't know about the services and tools.\nIs there a way to measure network latency from cloud to mainframe during DB2 calls? We need how much time it actually takes going from cloud to mainframe, executing the statement (anything to find this specifically?) and then return to cloud. Time spent on cloud and on mainframe, to be specific. Could you please suggest any tool, pre-installed services or method to do that?\nThank you.</p>\n"},{"tags":["java","swing","jframe","titlebar"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":2,"creation_date":1269088037,"post_id":2482971,"comment_id":2475143,"body_markdown":"Looks like two guys working on the same homework problem to me.  Coincidence?","body":"Looks like two guys working on the same homework problem to me.  Coincidence?"},{"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"score":0,"creation_date":1269088827,"post_id":2482971,"comment_id":2475190,"body_markdown":"Perhaps not homework, but certainly the same problem!","body":"Perhaps not homework, but certainly the same problem!"},{"owner":{"account_id":585815,"reputation":17118,"user_id":261142,"accept_rate":82,"display_name":"Thomas"},"score":0,"creation_date":1269090093,"post_id":2482971,"comment_id":2475261,"body_markdown":"Wait a minute - one guy wants to change the color of the title bar, but Venkats is talking about the toolbar which is commonly understood as the area below the menus that contains the main buttons (&quot;open&quot;, &quot;save&quot;, &quot;copy&quot;, &quot;paste&quot;, etc...)","body":"Wait a minute - one guy wants to change the color of the title bar, but Venkats is talking about the toolbar which is commonly understood as the area below the menus that contains the main buttons (&quot;open&quot;, &quot;save&quot;, &quot;copy&quot;, &quot;paste&quot;, etc...)"},{"owner":{"account_id":43899,"reputation":659,"user_id":128517,"accept_rate":71,"display_name":"hecvd"},"score":0,"creation_date":1269117717,"post_id":2482971,"comment_id":2476951,"body_markdown":"you can&#39;t change the &quot;toolbar of a JFrame&quot; color or the &quot;window title bar&quot; color?","body":"you can&#39;t change the &quot;toolbar of a JFrame&quot; color or the &quot;window title bar&quot; color?"},{"owner":{"account_id":22880973,"reputation":698,"user_id":17022570,"display_name":"Arsh Coder"},"score":0,"creation_date":1637817728,"post_id":2482971,"comment_id":123928372,"body_markdown":"I have found the solution. See my answer","body":"I have found the solution. See my answer"}],"answers":[{"tags":[],"owner":{"account_id":31377,"reputation":2278,"user_id":86107,"display_name":"Andrew Dyster"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1269486493,"creation_date":1269486493,"answer_id":2512838,"question_id":2482971,"body_markdown":"Its not possible. The top level JFrame is controlled by the look &amp; feel of the underlying OS.\r\n\r\nYou CAN change the color of an `InternalFrame`.","title":"How to change the color of titlebar in JFrame?","body":"<p>Its not possible. The top level JFrame is controlled by the look &amp; feel of the underlying OS.</p>\n\n<p>You CAN change the color of an <code>InternalFrame</code>.</p>\n"},{"tags":[],"owner":{"account_id":679131,"reputation":15,"user_id":773115,"display_name":"yassine"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1322039750,"creation_date":1306500889,"answer_id":6152515,"question_id":2482971,"body_markdown":"    UIManager.put(&quot;InternalFrame.activeTitleBackground&quot;, new ColorUIResource(Color.black ));\r\n    UIManager.put(&quot;InternalFrame.activeTitleForeground&quot;, new ColorUIResource(Color.WHITE));\r\n    UIManager.put(&quot;InternalFrame.titleFont&quot;, new Font(&quot;Dialog&quot;, Font.PLAIN, 11));","title":"How to change the color of titlebar in JFrame?","body":"<pre><code>UIManager.put(\"InternalFrame.activeTitleBackground\", new ColorUIResource(Color.black ));\nUIManager.put(\"InternalFrame.activeTitleForeground\", new ColorUIResource(Color.WHITE));\nUIManager.put(\"InternalFrame.titleFont\", new Font(\"Dialog\", Font.PLAIN, 11));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1986323,"reputation":71,"user_id":1781452,"display_name":"guest123"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1357335510,"creation_date":1357335510,"answer_id":14165418,"question_id":2482971,"body_markdown":"    //source : javax/swing/plaf/metal/MetalTitlePane.java\r\n        import javax.swing.*;\r\n        import javax.swing.plaf.*;\r\n        import javax.swing.plaf.metal.*;\r\n        public class TitleColor\r\n        {\r\n        \tpublic static void main_helper (String args[])\r\n        \t{\r\n        \t\tJFrame f = new JFrame ();\r\n        \t\tf.setDefaultCloseOperation \r\n        \t\t(\r\n        \t\t\tJFrame.DISPOSE_ON_CLOSE\r\n        \t\t);\r\n        \t\tf.setSize (300, 300);\r\n        \t\tf.setLocationRelativeTo (null);\r\n        \t\t\r\n        \t\tf.setUndecorated ( true );\r\n        \t\tf.getRootPane ().setWindowDecorationStyle\r\n        \t\t(\r\n        \t\t\tJRootPane.FRAME\r\n        \t\t);\r\n        \t\t\r\n        \t\tJPanel panel = new JPanel ();\r\n        \t\tpanel.setBackground ( java.awt.Color.white );\r\n        \t\tf.setContentPane ( panel );\r\n        \t\t\r\n        \t\tDefaultMetalTheme z =\r\n        \t\tnew DefaultMetalTheme ()\r\n        \t\t{\r\n        \t\t\t//inactive title color\r\n        \t\t\tpublic ColorUIResource\r\n        \t\t\tgetWindowTitleInactiveBackground() \r\n        \t\t\t{ \r\n        \t\t\t\treturn new ColorUIResource \r\n        \t\t\t\t\t(java.awt.Color.orange); \r\n        \t\t\t}\r\n        \t\t\t\r\n        \t\t\t//active title color\r\n        \t\t\tpublic ColorUIResource\r\n        \t\t\tgetWindowTitleBackground() \r\n        \t\t\t{ \r\n        \t\t\t\treturn new ColorUIResource \r\n        \t\t\t\t\t(java.awt.Color.orange); \r\n        \t\t\t}\r\n        \t\t\t//start ActiveBumps\r\n        \t\t\tpublic ColorUIResource \r\n        \t\t\tgetPrimaryControlHighlight() \r\n        \t\t\t{ \r\n        \t\t\t\treturn new ColorUIResource \r\n        \t\t\t\t\t(java.awt.Color.orange); \r\n        \t\t\t}\r\n        \t\t\tpublic ColorUIResource \r\n        \t\t\tgetPrimaryControlDarkShadow() \r\n        \t\t\t{ \r\n        \t\t\t\treturn new ColorUIResource \r\n        \t\t\t\t\t(java.awt.Color.orange); \r\n        \t\t\t}\r\n        \t\t\t\r\n        \t\t\tpublic ColorUIResource \r\n        \t\t\tgetPrimaryControl() \r\n        \t\t\t{ \r\n        \t\t\t\treturn new ColorUIResource \r\n        \t\t\t\t\t(java.awt.Color.orange); \r\n        \t\t\t}\r\n        \t\t\t//end ActiveBumps\r\n        \t\t\t\r\n        \t\t\t//start inActiveBumps\r\n        \t\t\tpublic ColorUIResource \r\n        \t\t\tgetControlHighlight ()\r\n        \t\t\t{\r\n        \t\t\t\treturn new ColorUIResource \r\n        \t\t\t\t\t(java.awt.Color.orange); \r\n        \t\t\t}\r\n        \t\t\t\r\n        \t\t\tpublic ColorUIResource \r\n        \t\t\tgetControlDarkShadow ()\r\n        \t\t\t{\r\n        \t\t\t\treturn new ColorUIResource \r\n        \t\t\t\t\t(java.awt.Color.orange); \r\n        \t\t\t}\r\n        \t\t\t\r\n        \t\t\tpublic ColorUIResource \r\n        \t\t\tgetControl ()\r\n        \t\t\t{\r\n        \t\t\t\treturn new ColorUIResource \r\n        \t\t\t\t\t(java.awt.Color.orange); \r\n        \t\t\t}\r\n        \t\t\t//end inActiveBumps\r\n        \t\t\t\r\n        \t\t\t\r\n        \r\n        \t\t};\r\n        \t\t\r\n        \t\t\r\n        \t\t\r\n        \t\tMetalLookAndFeel.setCurrentTheme\r\n        \t\t(\r\n        \t\t\tz\r\n        \t\t);\r\n        \t\t\r\n        \t\ttry\r\n        \t\t{\r\n        \t\t\tUIManager.setLookAndFeel\r\n        \t\t\t(\r\n        \t\t\t\tnew MetalLookAndFeel ()\r\n        \t\t\t);\r\n        \t\t}\r\n        \t\tcatch (Exception e)\r\n        \t\t{\r\n        \t\t\te.printStackTrace ();\r\n        \t\t}\t\r\n        \t\t\r\n        \t\tSwingUtilities.updateComponentTreeUI (f);\r\n        \t\t\r\n        \t\t\r\n        \t\tf.setVisible (true);\r\n        \t\t\r\n        \t\t\r\n        \t}\r\n        \tpublic static void main (final String args[])\r\n        \t{\r\n        \t\tSwingUtilities.invokeLater\r\n        \t\t(\r\n        \t\t\tnew Runnable ()\r\n        \t\t\t{\r\n        \t\t\t\tpublic void run ()\r\n        \t\t\t\t{\r\n        \t\t\t\t\tmain_helper ( args );\r\n        \t\t\t\t}\r\n        \t\t\t}\r\n        \t\t);\r\n        \t}\r\n        }\r\n\r\n","title":"How to change the color of titlebar in JFrame?","body":"<pre><code>//source : javax/swing/plaf/metal/MetalTitlePane.java\n    import javax.swing.*;\n    import javax.swing.plaf.*;\n    import javax.swing.plaf.metal.*;\n    public class TitleColor\n    {\n        public static void main_helper (String args[])\n        {\n            JFrame f = new JFrame ();\n            f.setDefaultCloseOperation \n            (\n                JFrame.DISPOSE_ON_CLOSE\n            );\n            f.setSize (300, 300);\n            f.setLocationRelativeTo (null);\n\n            f.setUndecorated ( true );\n            f.getRootPane ().setWindowDecorationStyle\n            (\n                JRootPane.FRAME\n            );\n\n            JPanel panel = new JPanel ();\n            panel.setBackground ( java.awt.Color.white );\n            f.setContentPane ( panel );\n\n            DefaultMetalTheme z =\n            new DefaultMetalTheme ()\n            {\n                //inactive title color\n                public ColorUIResource\n                getWindowTitleInactiveBackground() \n                { \n                    return new ColorUIResource \n                        (java.awt.Color.orange); \n                }\n\n                //active title color\n                public ColorUIResource\n                getWindowTitleBackground() \n                { \n                    return new ColorUIResource \n                        (java.awt.Color.orange); \n                }\n                //start ActiveBumps\n                public ColorUIResource \n                getPrimaryControlHighlight() \n                { \n                    return new ColorUIResource \n                        (java.awt.Color.orange); \n                }\n                public ColorUIResource \n                getPrimaryControlDarkShadow() \n                { \n                    return new ColorUIResource \n                        (java.awt.Color.orange); \n                }\n\n                public ColorUIResource \n                getPrimaryControl() \n                { \n                    return new ColorUIResource \n                        (java.awt.Color.orange); \n                }\n                //end ActiveBumps\n\n                //start inActiveBumps\n                public ColorUIResource \n                getControlHighlight ()\n                {\n                    return new ColorUIResource \n                        (java.awt.Color.orange); \n                }\n\n                public ColorUIResource \n                getControlDarkShadow ()\n                {\n                    return new ColorUIResource \n                        (java.awt.Color.orange); \n                }\n\n                public ColorUIResource \n                getControl ()\n                {\n                    return new ColorUIResource \n                        (java.awt.Color.orange); \n                }\n                //end inActiveBumps\n\n\n\n            };\n\n\n\n            MetalLookAndFeel.setCurrentTheme\n            (\n                z\n            );\n\n            try\n            {\n                UIManager.setLookAndFeel\n                (\n                    new MetalLookAndFeel ()\n                );\n            }\n            catch (Exception e)\n            {\n                e.printStackTrace ();\n            }   \n\n            SwingUtilities.updateComponentTreeUI (f);\n\n\n            f.setVisible (true);\n\n\n        }\n        public static void main (final String args[])\n        {\n            SwingUtilities.invokeLater\n            (\n                new Runnable ()\n                {\n                    public void run ()\n                    {\n                        main_helper ( args );\n                    }\n                }\n            );\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user4785649"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1520646438,"creation_date":1519774628,"answer_id":49019710,"question_id":2482971,"body_markdown":"For Windows10, in your main method, you can use:\r\n\r\n    UIDefaults uiDefaults = UIManager.getDefaults();\r\n    uiDefaults.put(&quot;activeCaption&quot;, new javax.swing.plaf.ColorUIResource(Color.gray));\r\n    uiDefaults.put(&quot;activeCaptionText&quot;, new javax.swing.plaf.ColorUIResource(Color.white));\r\n    JFrame.setDefaultLookAndFeelDecorated(true);","title":"How to change the color of titlebar in JFrame?","body":"<p>For Windows10, in your main method, you can use:</p>\n\n<pre><code>UIDefaults uiDefaults = UIManager.getDefaults();\nuiDefaults.put(\"activeCaption\", new javax.swing.plaf.ColorUIResource(Color.gray));\nuiDefaults.put(\"activeCaptionText\", new javax.swing.plaf.ColorUIResource(Color.white));\nJFrame.setDefaultLookAndFeelDecorated(true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7805313,"reputation":1804,"user_id":5903395,"display_name":"Gee Bee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520461273,"creation_date":1520461273,"answer_id":49162168,"question_id":2482971,"body_markdown":"I think the goal is to achive a real application look on Win10. As it is not possible to change the window title color for real, the only way is to customize the window.\r\n\r\nAlthough examples installing a variant of the Metal LAF gives a good example, I found that this problem is more complicated. A real Win10 window has to have win10 border, transparent border (shadow) where the user can drag for resize. The title has to use Win10 icons, and hovers for the window buttons. \r\n\r\nI&#39;d f.setUndecorated(true); and draw it on my own, and set the insets of the window so that the content will work as normal. \r\n\r\n(Small print: although we all &quot;know&quot; that one can customize Swing with LAFs, in the real life writing a LAF is always a lot more complicated than just subclassing and drawing your own decoration. As an extra hassle, the LAF architecture does not express all the component properties, and the &quot;native&quot; LAF is quite far from the native look (e.g. check the win7 dropdown) or the feel (dropdowns don&#39;t slide out, win7 dropdowns have no hover, but buttons do). Oh, not to mention the lack of Windows-like components, such as a decent Office 2016 ribbon, or even a simple &quot;toggle&quot; of Win10. Really, you cannot do too much without brewing your own components.)","title":"How to change the color of titlebar in JFrame?","body":"<p>I think the goal is to achive a real application look on Win10. As it is not possible to change the window title color for real, the only way is to customize the window.</p>\n\n<p>Although examples installing a variant of the Metal LAF gives a good example, I found that this problem is more complicated. A real Win10 window has to have win10 border, transparent border (shadow) where the user can drag for resize. The title has to use Win10 icons, and hovers for the window buttons. </p>\n\n<p>I'd f.setUndecorated(true); and draw it on my own, and set the insets of the window so that the content will work as normal. </p>\n\n<p>(Small print: although we all \"know\" that one can customize Swing with LAFs, in the real life writing a LAF is always a lot more complicated than just subclassing and drawing your own decoration. As an extra hassle, the LAF architecture does not express all the component properties, and the \"native\" LAF is quite far from the native look (e.g. check the win7 dropdown) or the feel (dropdowns don't slide out, win7 dropdowns have no hover, but buttons do). Oh, not to mention the lack of Windows-like components, such as a decent Office 2016 ribbon, or even a simple \"toggle\" of Win10. Really, you cannot do too much without brewing your own components.)</p>\n"},{"tags":[],"owner":{"account_id":21809731,"reputation":31,"user_id":16107449,"display_name":"Ali Fanni"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1622647244,"creation_date":1622647244,"answer_id":67808020,"question_id":2482971,"body_markdown":"I know I&#39;m a bit late, but this may help others:\r\n\r\nI searched the whole internet to find the way to change the entire theme of my swing-based app. then I found an article about doing so:\r\n\r\nSomebody may say:\r\n&gt; Its not possible and controlled by OS.\r\n\r\nIf you want to access the title bar, first, you should have the access to the native java engine libraries. Fortunately, there is a way to it:\r\n\r\n**First Step:** JNA provides Java programs easy access to native shared libraries without writing anything but Java code.\r\nSo you can use this repository to access to them: [JNA](https://github.com/java-native-access/jna).\r\n\r\n    Scroll down to readme and find the downloadable library.\r\n\r\nSome elements may defer based on your platform you are using. So make sure you use `jna-platform-5.8.0.jar` to make your app compatible to any platforms.\r\n\r\n**Second Step:** If you don&#39;t know how to use JNA libraries, then you could use this as an example: [example](https://github.com/kalbetredev/CustomDecoratedJFrame)\r\n\r\nanyway, this could solve your problem about title bar color ;)\r\n\r\nMain Article: [External Link](https://medium.com/swlh/customizing-the-title-bar-of-an-application-window-50a4ac3ed27e)\r\n\r\n`Help me improve my writing in English by telling me my mistakes :D`","title":"How to change the color of titlebar in JFrame?","body":"<p>I know I'm a bit late, but this may help others:</p>\n<p>I searched the whole internet to find the way to change the entire theme of my swing-based app. then I found an article about doing so:</p>\n<p>Somebody may say:</p>\n<blockquote>\n<p>Its not possible and controlled by OS.</p>\n</blockquote>\n<p>If you want to access the title bar, first, you should have the access to the native java engine libraries. Fortunately, there is a way to it:</p>\n<p><strong>First Step:</strong> JNA provides Java programs easy access to native shared libraries without writing anything but Java code.\nSo you can use this repository to access to them: <a href=\"https://github.com/java-native-access/jna\" rel=\"nofollow noreferrer\">JNA</a>.</p>\n<pre><code>Scroll down to readme and find the downloadable library.\n</code></pre>\n<p>Some elements may defer based on your platform you are using. So make sure you use <code>jna-platform-5.8.0.jar</code> to make your app compatible to any platforms.</p>\n<p><strong>Second Step:</strong> If you don't know how to use JNA libraries, then you could use this as an example: <a href=\"https://github.com/kalbetredev/CustomDecoratedJFrame\" rel=\"nofollow noreferrer\">example</a></p>\n<p>anyway, this could solve your problem about title bar color ;)</p>\n<p>Main Article: <a href=\"https://medium.com/swlh/customizing-the-title-bar-of-an-application-window-50a4ac3ed27e\" rel=\"nofollow noreferrer\">External Link</a></p>\n<p><code>Help me improve my writing in English by telling me my mistakes :D</code></p>\n"},{"tags":[],"owner":{"account_id":22880973,"reputation":698,"user_id":17022570,"display_name":"Arsh Coder"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1637764387,"creation_date":1637764387,"answer_id":70097948,"question_id":2482971,"body_markdown":"Yes I found the solution. I think it may be helpful for people who are seeing this now.\r\n\r\nUse [`FlatLaf`][1] \r\n\r\nIn that there are many look and feels. You can see them [here][2].\r\n\r\nTo change the title bar background color and foreground color use this:-\r\n\r\n    FlatLightLaf.setup(); //setting the look and feel\r\n    JFrame.setDefaultLookAndFeelDecorated(true);\r\n    frame.getRootPane().putClientProperty(&quot;JRootPane.titleBarBackground&quot;, new Color(23,180,252));\r\n           frame.getRootPane().putClientProperty(&quot;JRootPane.titleBarForeground&quot;, Color.white);\r\n\r\n\r\nNow I can achieve this:-\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://www.formdev.com/flatlaf/\r\n  [2]: https://www.formdev.com/flatlaf/screenshots/\r\n  [3]: https://i.stack.imgur.com/Y9UHf.png","title":"How to change the color of titlebar in JFrame?","body":"<p>Yes I found the solution. I think it may be helpful for people who are seeing this now.</p>\n<p>Use <a href=\"https://www.formdev.com/flatlaf/\" rel=\"nofollow noreferrer\"><code>FlatLaf</code></a></p>\n<p>In that there are many look and feels. You can see them <a href=\"https://www.formdev.com/flatlaf/screenshots/\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>To change the title bar background color and foreground color use this:-</p>\n<pre><code>FlatLightLaf.setup(); //setting the look and feel\nJFrame.setDefaultLookAndFeelDecorated(true);\nframe.getRootPane().putClientProperty(&quot;JRootPane.titleBarBackground&quot;, new Color(23,180,252));\n       frame.getRootPane().putClientProperty(&quot;JRootPane.titleBarForeground&quot;, Color.white);\n</code></pre>\n<p>Now I can achieve this:-</p>\n<p><a href=\"https://i.stack.imgur.com/Y9UHf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y9UHf.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":103658,"reputation":20982,"user_id":277516,"accept_rate":77,"display_name":"Venkat"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58737,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":2512838,"answer_count":7,"score":13,"last_activity_date":1637829973,"creation_date":1269087765,"question_id":2482971,"body_markdown":"I am using the following code,\r\n\r\n    UIManager.put(&quot;JFrame.activeTitleBackground&quot;, Color.red);\r\n\r\nfor change the toolbar color in JFrame. But it didn&#39;t work.\r\n\r\nIs it possible to  change the color of titlebar in JFrame?","title":"How to change the color of titlebar in JFrame?","body":"<p>I am using the following code,</p>\n\n<pre><code>UIManager.put(\"JFrame.activeTitleBackground\", Color.red);\n</code></pre>\n\n<p>for change the toolbar color in JFrame. But it didn't work.</p>\n\n<p>Is it possible to  change the color of titlebar in JFrame?</p>\n"},{"tags":["java","drools"],"answers":[{"tags":[],"owner":{"account_id":10778144,"reputation":712,"user_id":7929423,"display_name":"cluis92"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637596580,"creation_date":1637596580,"answer_id":70068661,"question_id":70060458,"body_markdown":"I was able to solve it using the &#39;from&#39; keyword\r\n```\r\nrule &quot;Problems related to social environment&quot;\r\n    when\r\n        $eligibilityDomainObject:EligibilityDomainObject($listOfString : listOfString)\r\n            value: String(value memberOf &quot;F77 EOO F99&quot; ) from $listOfString\r\n    then\r\n        $eligibilityDomainObject.setIsComplexPhysicalHealth(true);\r\nend\r\n```","title":"How to loop through a list to check if an item is a memberOf another list","body":"<p>I was able to solve it using the 'from' keyword</p>\n<pre><code>rule &quot;Problems related to social environment&quot;\n    when\n        $eligibilityDomainObject:EligibilityDomainObject($listOfString : listOfString)\n            value: String(value memberOf &quot;F77 EOO F99&quot; ) from $listOfString\n    then\n        $eligibilityDomainObject.setIsComplexPhysicalHealth(true);\nend\n</code></pre>\n"},{"tags":[],"owner":{"account_id":201558,"reputation":20189,"user_id":448078,"accept_rate":61,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637829316,"creation_date":1637625171,"answer_id":70073767,"question_id":70060458,"body_markdown":"Your rule will misbehave against &#39;F&#39;, &#39;F7&#39;, &#39;F9&#39;...\r\n\r\nConsider few other approaches:\r\n\r\n\trule &quot;Problems related to social environment&quot;\r\n\t    when\r\n\t        $eligibilityDomainObject:EligibilityDomainObject($listOfString : listOfString)\r\n\t            value: String(value in (&quot;F77&quot;, &quot;EOO&quot;, &quot;F99&quot;) ) from $listOfString\r\n\t    then\r\n\t        $eligibilityDomainObject.setIsComplexPhysicalHealth(true);\r\n\tend\r\n\r\nAccording to [documentation](https://docs.jboss.org/drools/release/latest/drools-docs/html_single/index.html#drl-rules-WHEN-elements-ref_drl-rules), one need to \r\n&gt;Avoid using the from element when you can insert all facts into the working memory of the Drools engine or use nested object references in your constraint expressions.&quot;\r\n\r\nFollowing will cause the rule to be triggered only once per EligibilityDomainObject, not per each matching value:\r\n\r\n\timport static org.apache.commons.collections4.CollectionUtils.containsAny;\r\n\t\r\n\trule &quot;Problems related to social environment&quot;\r\n\t    when\r\n\t        $eligibilityDomainObject:EligibilityDomainObject(containsAny(listOfString, &quot;F77&quot;, &quot;EOO&quot;, &quot;F99&quot;))\r\n\t    then\r\n\t        $eligibilityDomainObject.setIsComplexPhysicalHealth(true);\r\n\tend\r\n\r\ngather matching values in one go\r\n\r\n\timport static org.apache.commons.collections4.CollectionUtils.intersection;\r\n\timport static com.google.common.collect.Sets.newHashSet;\r\n\t\r\n\trule &quot;Problems related to social environment&quot;\r\n\t    when\r\n\t        $eligibilityDomainObject:EligibilityDomainObject(\r\n\t        \t$values : intersection(listOfString, newHashSet(&quot;F77&quot;, &quot;EOO&quot;, &quot;F99&quot;)), \r\n\t        \t!$values.isEmpty())\r\n\t    then\r\n\t        $eligibilityDomainObject.setIsComplexPhysicalHealth(true);\r\n\t        System.out.println($values);\r\n\tend","title":"How to loop through a list to check if an item is a memberOf another list","body":"<p>Your rule will misbehave against 'F', 'F7', 'F9'...</p>\n<p>Consider few other approaches:</p>\n<pre><code>rule &quot;Problems related to social environment&quot;\n    when\n        $eligibilityDomainObject:EligibilityDomainObject($listOfString : listOfString)\n            value: String(value in (&quot;F77&quot;, &quot;EOO&quot;, &quot;F99&quot;) ) from $listOfString\n    then\n        $eligibilityDomainObject.setIsComplexPhysicalHealth(true);\nend\n</code></pre>\n<p>According to <a href=\"https://docs.jboss.org/drools/release/latest/drools-docs/html_single/index.html#drl-rules-WHEN-elements-ref_drl-rules\" rel=\"nofollow noreferrer\">documentation</a>, one need to</p>\n<blockquote>\n<p>Avoid using the from element when you can insert all facts into the working memory of the Drools engine or use nested object references in your constraint expressions.&quot;</p>\n</blockquote>\n<p>Following will cause the rule to be triggered only once per EligibilityDomainObject, not per each matching value:</p>\n<pre><code>import static org.apache.commons.collections4.CollectionUtils.containsAny;\n\nrule &quot;Problems related to social environment&quot;\n    when\n        $eligibilityDomainObject:EligibilityDomainObject(containsAny(listOfString, &quot;F77&quot;, &quot;EOO&quot;, &quot;F99&quot;))\n    then\n        $eligibilityDomainObject.setIsComplexPhysicalHealth(true);\nend\n</code></pre>\n<p>gather matching values in one go</p>\n<pre><code>import static org.apache.commons.collections4.CollectionUtils.intersection;\nimport static com.google.common.collect.Sets.newHashSet;\n\nrule &quot;Problems related to social environment&quot;\n    when\n        $eligibilityDomainObject:EligibilityDomainObject(\n            $values : intersection(listOfString, newHashSet(&quot;F77&quot;, &quot;EOO&quot;, &quot;F99&quot;)), \n            !$values.isEmpty())\n    then\n        $eligibilityDomainObject.setIsComplexPhysicalHealth(true);\n        System.out.println($values);\nend\n</code></pre>\n"}],"owner":{"account_id":10778144,"reputation":712,"user_id":7929423,"display_name":"cluis92"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70073767,"answer_count":2,"score":1,"last_activity_date":1637829963,"creation_date":1637550139,"question_id":70060458,"body_markdown":"I want to check if any item from a list of diagnosis codes exists in another list. \r\n\r\nI am new to Drools and I&#39;m still trying to decide on the best approach as the current one isn&#39;t working (the output says null when it should be returning &#39;true&#39;).\r\n\r\nJava POJO\r\n```\r\npublic class EligibilityDomainObject {\r\n    \r\n    private List&lt;String&gt; listOfString;  \r\n    public List&lt;String&gt; getListOfString() {  \r\n         return listOfString;  \r\n    }  \r\n    public void setListOfString(List&lt;String&gt; listOfString) {  \r\n         this.listOfString = listOfString;  \r\n    }  \r\n    public void addString(String value) {  \r\n         if (listOfString == null) {  \r\n              listOfString = new ArrayList&lt;String&gt;();  \r\n         }  \r\n         listOfString.add(value);  \r\n    }  \r\n    private Boolean isComplexPhysicalHealth;\r\n    public Boolean getIsComplexPhysicalHealth() {\r\n        return this.isComplexPhysicalHealth;\r\n    }\r\n\r\n    public void setIsComplexPhysicalHealth(Boolean isComplexPhysicalHealth) {\r\n        this.isComplexPhysicalHealth = isComplexPhysicalHealth;\r\n    }\r\n```\r\nDrools\r\n```\r\nrule &quot;Problems related to social environment&quot;\r\n\twhen\r\n\t\t$eligibilityDomainObject:EligibilityDomainObject($listOfString : listOfString,\r\n\t\t\t$listOfString memberOf &quot;F77 EOO F99&quot; )\r\n\tthen\r\n\t\t$eligibilityDomainObject.setIsComplexPhysicalHealth(true);\r\nend\r\n```\r\nMain\r\n```\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(RulesEngineApplication.class, args);\r\n\t\t\r\n\r\n\t\ttry {\r\n\t\t\tKieServices kieServices = KieServices.Factory.get();\r\n\t\t\tKieContainer kContainer = kieServices.getKieClasspathContainer();\r\n\r\n\t\t\tKieSession kSession = kContainer.newKieSession(&quot;ksession-rules&quot;);\r\n\t\t\t\r\n\t\t\tEligibilityDomainObject eligibilityDomainObject = new EligibilityDomainObject(null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null);\r\n\r\n\t\t\teligibilityDomainObject.addString(&quot;F77&quot;);\r\n\t\t\teligibilityDomainObject.addString(&quot;F99&quot;);\r\n\t\t\tSystem.out.println(&quot;List of diagnosis codes: &quot;+ eligibilityDomainObject.getListOfString().toString());\r\n\t\t\tkSession.insert(eligibilityDomainObject);\r\n            kSession.fireAllRules();\r\n            System.out.println(&quot;complex phys health flag: &quot;+ eligibilityDomainObject.getIsComplexPhysicalHealth());\r\n\t\t\t\r\n\t\t\tkSession.dispose();\t\r\n\t\t} catch (Throwable t) {\r\n\t\t\tt.printStackTrace();\r\n\t\t}\r\n\t}\r\n```\r\n\r\noutput\r\n\r\n&gt;List of diagnosis codes: [Z590, E0800]\r\n\r\n&gt;complex phys health flag: null\r\n\r\nexpected output\r\n\r\n&gt;List of diagnosis codes: [Z590, E0800]\r\n\r\n&gt;complex phys health flag: true","title":"How to loop through a list to check if an item is a memberOf another list","body":"<p>I want to check if any item from a list of diagnosis codes exists in another list.</p>\n<p>I am new to Drools and I'm still trying to decide on the best approach as the current one isn't working (the output says null when it should be returning 'true').</p>\n<p>Java POJO</p>\n<pre><code>public class EligibilityDomainObject {\n    \n    private List&lt;String&gt; listOfString;  \n    public List&lt;String&gt; getListOfString() {  \n         return listOfString;  \n    }  \n    public void setListOfString(List&lt;String&gt; listOfString) {  \n         this.listOfString = listOfString;  \n    }  \n    public void addString(String value) {  \n         if (listOfString == null) {  \n              listOfString = new ArrayList&lt;String&gt;();  \n         }  \n         listOfString.add(value);  \n    }  \n    private Boolean isComplexPhysicalHealth;\n    public Boolean getIsComplexPhysicalHealth() {\n        return this.isComplexPhysicalHealth;\n    }\n\n    public void setIsComplexPhysicalHealth(Boolean isComplexPhysicalHealth) {\n        this.isComplexPhysicalHealth = isComplexPhysicalHealth;\n    }\n</code></pre>\n<p>Drools</p>\n<pre><code>rule &quot;Problems related to social environment&quot;\n    when\n        $eligibilityDomainObject:EligibilityDomainObject($listOfString : listOfString,\n            $listOfString memberOf &quot;F77 EOO F99&quot; )\n    then\n        $eligibilityDomainObject.setIsComplexPhysicalHealth(true);\nend\n</code></pre>\n<p>Main</p>\n<pre><code>    public static void main(String[] args) {\n        SpringApplication.run(RulesEngineApplication.class, args);\n        \n\n        try {\n            KieServices kieServices = KieServices.Factory.get();\n            KieContainer kContainer = kieServices.getKieClasspathContainer();\n\n            KieSession kSession = kContainer.newKieSession(&quot;ksession-rules&quot;);\n            \n            EligibilityDomainObject eligibilityDomainObject = new EligibilityDomainObject(null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null);\n\n            eligibilityDomainObject.addString(&quot;F77&quot;);\n            eligibilityDomainObject.addString(&quot;F99&quot;);\n            System.out.println(&quot;List of diagnosis codes: &quot;+ eligibilityDomainObject.getListOfString().toString());\n            kSession.insert(eligibilityDomainObject);\n            kSession.fireAllRules();\n            System.out.println(&quot;complex phys health flag: &quot;+ eligibilityDomainObject.getIsComplexPhysicalHealth());\n            \n            kSession.dispose(); \n        } catch (Throwable t) {\n            t.printStackTrace();\n        }\n    }\n</code></pre>\n<p>output</p>\n<blockquote>\n<p>List of diagnosis codes: [Z590, E0800]</p>\n</blockquote>\n<blockquote>\n<p>complex phys health flag: null</p>\n</blockquote>\n<p>expected output</p>\n<blockquote>\n<p>List of diagnosis codes: [Z590, E0800]</p>\n</blockquote>\n<blockquote>\n<p>complex phys health flag: true</p>\n</blockquote>\n"},{"tags":["javascript","java","android","reactjs","react-native"],"answers":[{"tags":[],"owner":{"account_id":19463355,"reputation":55,"user_id":14237154,"display_name":"dumbape"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599504325,"creation_date":1599504325,"answer_id":63782765,"question_id":63762675,"body_markdown":"Add a custom background to the entire container you have at the root and you should be good.\r\n\r\n    styles = StyleSheet.create({\r\n      container: {\r\n        flex: 1,\r\n        backgroundColor: &#39;#fff&#39;,\r\n      }\r\n    })","title":"React native android dark mode issue","body":"<p>Add a custom background to the entire container you have at the root and you should be good.</p>\n<pre><code>styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n  }\n})\n</code></pre>\n"}],"owner":{"account_id":17982220,"reputation":73,"user_id":13068251,"display_name":"Abhishek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3736,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1682004721,"answer_count":1,"score":1,"last_activity_date":1637829287,"creation_date":1599384800,"question_id":63762675,"body_markdown":"When i change my mobile theme from light to dark it is affecting the background color of my react native app. I just want it to always remain white but it changes white to black when i change my mobile theme from light to dark.\r\nAndroid version 10 \r\nReact native version 0.61.5 \r\nReact version 16.9.0\r\n\r\n","title":"React native android dark mode issue","body":"<p>When i change my mobile theme from light to dark it is affecting the background color of my react native app. I just want it to always remain white but it changes white to black when i change my mobile theme from light to dark.\nAndroid version 10\nReact native version 0.61.5\nReact version 16.9.0</p>\n"},{"tags":["java","spring","hibernate","spring-mvc"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1637826494,"post_id":70107426,"comment_id":123930533,"body_markdown":"primary=&quot;true&quot; it seems you&#39;re not allowed to put that","body":"primary=&quot;true&quot; it seems you&#39;re not allowed to put that"},{"owner":{"display_name":"user10636910"},"score":0,"creation_date":1637826557,"post_id":70107426,"comment_id":123930551,"body_markdown":"but it works on my another project and does not give this message. And now it is working on my new project but shows a red flag. Can&#39;t seem to find the reason why! @Stultuske","body":"but it works on my another project and does not give this message. And now it is working on my new project but shows a red flag. Can&#39;t seem to find the reason why! @Stultuske"}],"owner":{"display_name":"user10636910"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637829229,"creation_date":1637826420,"question_id":70107426,"body_markdown":"I have tried to set the default validation message file to messages.properties file. It worked. However, for some reason the primary attribute inside validator bean is marked red in the applicationContext.xml file.\r\n\r\nThe error message, &quot;Attribute primary is not allowed here&quot;. \r\n\r\nI have tried to find the reason of this in many resources and cross-checked many possibilities, but everything seems fine with my configuration. \r\n\r\nI use Intellij Idea, Spring version - 3.2.17 RELEASE, Hibernate version - 3.6.10.Final.\r\n\r\nCan anyone explain the reason ?\r\n\r\napplicationContext.xml - \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n           xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n           xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n           xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n            https://www.springframework.org/schema/beans/spring-beans.xsd\r\n            http://www.springframework.org/schema/tx\r\n            http://www.springframework.org/schema/tx/spring-tx.xsd\r\n            http://www.springframework.org/schema/mvc\r\n            https://www.springframework.org/schema/mvc/spring-mvc.xsd\r\n            http://www.springframework.org/schema/context\r\n            https://www.springframework.org/schema/context/spring-context.xsd&quot;\r\n           default-autowire=&quot;byName&quot;&gt;\r\n\r\n&lt;context:component-scan base-package=&quot;com.test.leavemanagement&quot;/&gt;\r\n\r\n    &lt;bean id=&quot;messageSource&quot; class=&quot;org.springframework.context.support.ReloadableResourceBundleMessageSource&quot;&gt;\r\n        &lt;property name=&quot;basename&quot; value=&quot;classpath:messages&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;mvc:annotation-driven validator=&quot;validator&quot;/&gt;\r\n\r\n    &lt;bean id=&quot;validator&quot; class=&quot;org.springframework.validation.beanvalidation.LocalValidatorFactoryBean&quot; primary=&quot;true&quot;&gt;\r\n        &lt;property name=&quot;validationMessageSource&quot; ref=&quot;messageSource&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n&lt;/beans&gt;\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n","title":"primary attribute not allowed inside bean tag","body":"<p>I have tried to set the default validation message file to messages.properties file. It worked. However, for some reason the primary attribute inside validator bean is marked red in the applicationContext.xml file.</p>\n<p>The error message, &quot;Attribute primary is not allowed here&quot;.</p>\n<p>I have tried to find the reason of this in many resources and cross-checked many possibilities, but everything seems fine with my configuration.</p>\n<p>I use Intellij Idea, Spring version - 3.2.17 RELEASE, Hibernate version - 3.6.10.Final.</p>\n<p>Can anyone explain the reason ?</p>\n<p>applicationContext.xml -</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:tx=\"http://www.springframework.org/schema/tx\"\n       xmlns:mvc=\"http://www.springframework.org/schema/mvc\"\n       xmlns:context=\"http://www.springframework.org/schema/context\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n        https://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/tx\n        http://www.springframework.org/schema/tx/spring-tx.xsd\n        http://www.springframework.org/schema/mvc\n        https://www.springframework.org/schema/mvc/spring-mvc.xsd\n        http://www.springframework.org/schema/context\n        https://www.springframework.org/schema/context/spring-context.xsd\"\n       default-autowire=\"byName\"&gt;\n\n&lt;context:component-scan base-package=\"com.test.leavemanagement\"/&gt;\n\n&lt;bean id=\"messageSource\" class=\"org.springframework.context.support.ReloadableResourceBundleMessageSource\"&gt;\n    &lt;property name=\"basename\" value=\"classpath:messages\"/&gt;\n&lt;/bean&gt;\n\n&lt;mvc:annotation-driven validator=\"validator\"/&gt;\n\n&lt;bean id=\"validator\" class=\"org.springframework.validation.beanvalidation.LocalValidatorFactoryBean\" primary=\"true\"&gt;\n    &lt;property name=\"validationMessageSource\" ref=\"messageSource\"/&gt;\n&lt;/bean&gt;\n\n&lt;/beans&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","spring-boot","components","integration-testing","applicationcontext"],"answers":[{"tags":[],"owner":{"account_id":23416733,"reputation":31,"user_id":17477580,"display_name":"EverGrowing"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637829165,"creation_date":1637829165,"answer_id":70107964,"question_id":70064557,"body_markdown":"After yet more experimentation, I&#39;ve found an answer. I can&#39;t say whether it&#39;s the best answer, but it&#39;s concise and certainly does the trick...\r\n```\r\nimport org.springframework.boot.autoconfigure.ImportAutoConfiguration;\r\nimport org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.boot.test.context.SpringBootTest.WebEnvironment;\r\n\r\n// automatically configures validation (implementation of Java Validation API)\r\n@ImportAutoConfiguration(ValidationAutoConfiguration.class)\r\n\r\n// obscures/disables any otherwise-automatic web-environment;\r\n// automatically configures logging, loading of external properties, and @Value-plugging;\r\n// and, beyond that, adds to application-context only _cited_ classes/configuration-classes\r\n@SpringBootTest(classes={SomeServiceImpl.class},webEnvironment=WebEnvironment.NONE)// full context loaded, if unqualified\r\n\r\npublic class SomeServiceTests {\r\n...\r\n}\r\n```","title":"How to Load, in Spring Boot Test, Basic Spring Application-Context Adding Only Named Components?","body":"<p>After yet more experimentation, I've found an answer. I can't say whether it's the best answer, but it's concise and certainly does the trick...</p>\n<pre><code>import org.springframework.boot.autoconfigure.ImportAutoConfiguration;\nimport org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.boot.test.context.SpringBootTest.WebEnvironment;\n\n// automatically configures validation (implementation of Java Validation API)\n@ImportAutoConfiguration(ValidationAutoConfiguration.class)\n\n// obscures/disables any otherwise-automatic web-environment;\n// automatically configures logging, loading of external properties, and @Value-plugging;\n// and, beyond that, adds to application-context only _cited_ classes/configuration-classes\n@SpringBootTest(classes={SomeServiceImpl.class},webEnvironment=WebEnvironment.NONE)// full context loaded, if unqualified\n\npublic class SomeServiceTests {\n...\n}\n</code></pre>\n"}],"owner":{"account_id":23416733,"reputation":31,"user_id":17477580,"display_name":"EverGrowing"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2504,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1637829165,"creation_date":1637578065,"question_id":70064557,"body_markdown":"Original\r\n========\r\nI am trying to load, in a test of a Spring Boot (v2.3.8) application, _only named_ components in a _basic_ Spring application-context. More specifically, I want to load, in a test, a Spring application-context that configures at least logging, loading of external properties, validation (through Java Validation API), and `@Value`-plugging but without MVC, Data JPA, etc. In essence, I want to test, through a constraint-annotated interface (e.g. `@NotBlank`), a `@Service` that exercises only the local file-system (no MVC, Data JPA, or any other Spring Boot Test &quot;slice&quot;) and has one data-member populated through `@Value`.\r\n\r\nI have tried, to no avail, many annotations (and some of their inherent attributes), in different combination-subsets: e.g. `@SpringBootTest`, `@Configuration`, `@ContextConfiguration`, `@TestConfiguration`, `@TypeExcludeFilters`, etc. For example:\r\n```\r\n@Validated\r\npublic interface SomeService {\r\n    String someMethod (@NotBlank String someParam);\r\n}\r\n...\r\n@Service\r\npublic class SomeServiceImpl implements SomeService {\r\n\r\n    @Value(&quot;${some.value}&quot;)\r\n    private String someValue;\r\n\r\n    @Override\r\n    public String someMethod(String someParam) {\r\n        // do something with local file-system,\r\n        // with someValue in hand, and\r\n        // knowing someParam not blank\r\n    }\r\n}\r\n...\r\n@SpringBootTest(classes={SomeServiceImpl.class},webEnvironment=WebEnvironment.NONE)\r\nclass SomeServiceTests {\r\n\r\n    @Autowired\r\n    private SomeService someService;\r\n\r\n    @Test\r\n    void throwConstraintViolationException_whenSomeParamNil() {\r\n        assertThrows(\r\n            ConstraintViolationException.class,\r\n            ()-&gt;someService.someMethod(new String()));\r\n    }\r\n    ...\r\n}\r\n```\r\n\r\nIn this example, attribute `classes` of `@SpringBootTest` loads the cited class but obscures all of the _basics_ (logging, validation, etc.) that I&#39;m also seeking.\r\n\r\nThe following excerpt, from Craig Walls&#39; &quot;Spring Boot in Action,&quot; seems to be _exactly_ what I&#39;m seeking, but its main tool (`@SpringApplicationConfiguration`) is now deprecated (and its officially-recommended replacement - `@SpringBootTest` - does NOT behave equally, at least regarding attribute `classes`):\r\n&gt;Although @ContextConfiguration does a great job of loading the Spring application\r\ncontext, it doesn’t load it with the full Spring Boot treatment...SpringApplication\r\nnot only loads the application context, but also enables logging, the loading of external\r\nproperties (application.properties or application.yml), and other features of Spring\r\nBoot. If you’re using @ContextConfiguration, you won’t get those features. To get those features back in your integration tests, you can swap out @ContextConfiguration for Spring Boot’s @SpringApplicationConfiguration:\r\n```\r\n@RunWith(SpringJUnit4ClassRunner.class)\r\n@SpringApplicationConfiguration(classes=AddressBookConfiguration.class)\r\npublic class AddressServiceTests {\r\n...\r\n}\r\n```\r\nThere, he gets the &quot;full Spring Boot treatment&quot; but adding _only_ the class (`@Service`) he cites (not every `@Component`, `@Controller`, and `@Repository` of his domain).\r\n\r\nHow to do this today, without deprecated `@SpringApplicationConfiguration`?\r\n\r\nUpdate\r\n------\r\nI originally stated that my (not Craig Walls&#39;) example (namely `@SpringBootTest(classes={SomeServiceImpl.class},webEnvironment=WebEnvironment.NONE)`, although it loaded the cited class, obscured all of the _basics_ of an application-context that Spring Boot would normally load. Through further experimentation, I have found that that statement was inaccurate, in that not _all_ but, only, _some_ of the basics are obscured, namely validation (implementation of Java Validation API). In other words, logging, loading of external properties, and @Value-plugging are, indeed, loaded/configured. I think that I must&#39;ve gotten confused, in all of my many permutations/attempts.","title":"How to Load, in Spring Boot Test, Basic Spring Application-Context Adding Only Named Components?","body":"<h1>Original</h1>\n<p>I am trying to load, in a test of a Spring Boot (v2.3.8) application, <em>only named</em> components in a <em>basic</em> Spring application-context. More specifically, I want to load, in a test, a Spring application-context that configures at least logging, loading of external properties, validation (through Java Validation API), and <code>@Value</code>-plugging but without MVC, Data JPA, etc. In essence, I want to test, through a constraint-annotated interface (e.g. <code>@NotBlank</code>), a <code>@Service</code> that exercises only the local file-system (no MVC, Data JPA, or any other Spring Boot Test &quot;slice&quot;) and has one data-member populated through <code>@Value</code>.</p>\n<p>I have tried, to no avail, many annotations (and some of their inherent attributes), in different combination-subsets: e.g. <code>@SpringBootTest</code>, <code>@Configuration</code>, <code>@ContextConfiguration</code>, <code>@TestConfiguration</code>, <code>@TypeExcludeFilters</code>, etc. For example:</p>\n<pre><code>@Validated\npublic interface SomeService {\n    String someMethod (@NotBlank String someParam);\n}\n...\n@Service\npublic class SomeServiceImpl implements SomeService {\n\n    @Value(&quot;${some.value}&quot;)\n    private String someValue;\n\n    @Override\n    public String someMethod(String someParam) {\n        // do something with local file-system,\n        // with someValue in hand, and\n        // knowing someParam not blank\n    }\n}\n...\n@SpringBootTest(classes={SomeServiceImpl.class},webEnvironment=WebEnvironment.NONE)\nclass SomeServiceTests {\n\n    @Autowired\n    private SomeService someService;\n\n    @Test\n    void throwConstraintViolationException_whenSomeParamNil() {\n        assertThrows(\n            ConstraintViolationException.class,\n            ()-&gt;someService.someMethod(new String()));\n    }\n    ...\n}\n</code></pre>\n<p>In this example, attribute <code>classes</code> of <code>@SpringBootTest</code> loads the cited class but obscures all of the <em>basics</em> (logging, validation, etc.) that I'm also seeking.</p>\n<p>The following excerpt, from Craig Walls' &quot;Spring Boot in Action,&quot; seems to be <em>exactly</em> what I'm seeking, but its main tool (<code>@SpringApplicationConfiguration</code>) is now deprecated (and its officially-recommended replacement - <code>@SpringBootTest</code> - does NOT behave equally, at least regarding attribute <code>classes</code>):</p>\n<blockquote>\n<p>Although @ContextConfiguration does a great job of loading the Spring application\ncontext, it doesn’t load it with the full Spring Boot treatment...SpringApplication\nnot only loads the application context, but also enables logging, the loading of external\nproperties (application.properties or application.yml), and other features of Spring\nBoot. If you’re using @ContextConfiguration, you won’t get those features. To get those features back in your integration tests, you can swap out @ContextConfiguration for Spring Boot’s @SpringApplicationConfiguration:</p>\n</blockquote>\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@SpringApplicationConfiguration(classes=AddressBookConfiguration.class)\npublic class AddressServiceTests {\n...\n}\n</code></pre>\n<p>There, he gets the &quot;full Spring Boot treatment&quot; but adding <em>only</em> the class (<code>@Service</code>) he cites (not every <code>@Component</code>, <code>@Controller</code>, and <code>@Repository</code> of his domain).</p>\n<p>How to do this today, without deprecated <code>@SpringApplicationConfiguration</code>?</p>\n<h2>Update</h2>\n<p>I originally stated that my (not Craig Walls') example (namely <code>@SpringBootTest(classes={SomeServiceImpl.class},webEnvironment=WebEnvironment.NONE)</code>, although it loaded the cited class, obscured all of the <em>basics</em> of an application-context that Spring Boot would normally load. Through further experimentation, I have found that that statement was inaccurate, in that not <em>all</em> but, only, <em>some</em> of the basics are obscured, namely validation (implementation of Java Validation API). In other words, logging, loading of external properties, and @Value-plugging are, indeed, loaded/configured. I think that I must've gotten confused, in all of my many permutations/attempts.</p>\n"},{"tags":["java","selenium"],"answers":[{"tags":[],"owner":{"account_id":10116325,"reputation":418,"user_id":7474878,"display_name":"Isvoran Andrei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637829078,"creation_date":1637829078,"answer_id":70107945,"question_id":70098690,"body_markdown":"Apparently changing this:\r\n\r\n    desiredCapabilites.setCapability(CapabilityType.LOGGING_PREFS, logPrefs);\r\n\r\nTo this:\r\n\r\n    desiredCapabilites.setCapability(&quot;goog:loggingPrefs&quot;, logPrefs);\r\n\r\nFixed it","title":"Can&#39;t enable performance level for RemoteWebDriver","body":"<p>Apparently changing this:</p>\n<pre><code>desiredCapabilites.setCapability(CapabilityType.LOGGING_PREFS, logPrefs);\n</code></pre>\n<p>To this:</p>\n<pre><code>desiredCapabilites.setCapability(&quot;goog:loggingPrefs&quot;, logPrefs);\n</code></pre>\n<p>Fixed it</p>\n"}],"owner":{"account_id":10116325,"reputation":418,"user_id":7474878,"display_name":"Isvoran Andrei"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70107945,"answer_count":1,"score":0,"last_activity_date":1637829078,"creation_date":1637767438,"question_id":70098690,"body_markdown":"I am trying to enable perfromance logging for a `RemoteWebDriver` in Java Selenium. I have this code:\r\n\r\n    public WebDriver getDriver() {\r\n      ChromeOptions chromeOptions = new ChromeOptions();\r\n      chromeOptions.addArguments(arguments);\r\n      chromeOptions.setAcceptInsecureCerts(acceptInsecureCerts);\r\n\r\n      DesiredCapabilities desiredCapabilites = DesiredCapabilities.chrome();\r\n      LoggingPreferences logPrefs = new LoggingPreferences();\r\n      logPrefs.enable(LogType.PERFORMANCE, Level.ALL);\r\n      desiredCapabilites.setCapability(CapabilityType.LOGGING_PREFS, logPrefs);\r\n      desiredCapabilites.setCapability(ChromeOptions.CAPABILITY, chromeOptions);\r\n\r\n      return new RemoteWebDriver(new URL(url), desiredCapabilites);\r\n    }\r\n\r\nWhen trying later on to access the performance logs like this:\r\n\r\n    driver.manage().logs().get(&quot;performance&quot;)\r\n\r\nI get the following error:\r\n\r\n    org.openqa.selenium.InvalidArgumentException: invalid argument: log type &#39;performance&#39; not found\r\n      (Session info: headless chrome=95.0.4638.69)\r\n    Build info: version: &#39;unknown&#39;, revision: &#39;unknown&#39;, time: &#39;unknown&#39;\r\n    System info: host: &#39;tr-glass-gather-crawler-workerjrsgs-pod-mfk8b&#39;, ip: &#39;172.21.62.217&#39;, os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;5.4.120+&#39;, java.version: &#39;11.0.8&#39;\r\n    Driver info: org.openqa.selenium.remote.RemoteWebDriver\r\n    Capabilities {acceptInsecureCerts: true, browserName: chrome, browserVersion: 95.0.4638.69, chrome: {chromedriverVersion: 95.0.4638.54 (d31a821ec901f..., userDataDir: /tmp/.com.google.Chrome.vRBs3j}, goog:chromeOptions: {debuggerAddress: localhost:36139}, javascriptEnabled: true, networkConnectionEnabled: false, pageLoadStrategy: normal, platform: LINUX, platformName: LINUX, proxy: Proxy(), se:cdp: ws://172.21.62.217:4444/ses..., se:cdpVersion: 95.0.4638.69, se:vnc: ws://172.21.62.217:4444/ses..., se:vncEnabled: true, se:vncLocalAddress: ws://172.21.62.217:7900, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:virtualAuthenticators: true}\r\n    Session ID: d595d868024953284123f1c300378445\r\n            at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\r\n            at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\r\n            at java.base/java.lang.reflect.Constructor.newInstance(Unknown Source)\r\n            at org.openqa.selenium.remote.http.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:187)\r\n            at org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:122)\r\n            at org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:49)\r\n            at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:158)\r\n            at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\r\n            at org.openqa.selenium.remote.RemoteExecuteMethod.execute(RemoteExecuteMethod.java:35)\r\n            at org.openqa.selenium.remote.RemoteLogs.getRemoteEntries(RemoteLogs.java:81)\r\n            at org.openqa.selenium.remote.RemoteLogs.get(RemoteLogs.java:77)\r\n            at com.wayfair.glass.gather.worker.crawler.WFPartnerCrawlerFacadeImpl.navigate(WFPartnerCrawlerFacadeImpl.java:110)\r\n            at com.wayfair.glass.gather.worker.plugin.impl.CrawlerGatherPlugin.internalRun(CrawlerGatherPlugin.java:93)\r\n            at com.wayfair.glass.gather.worker.plugin.impl.CrawlerGatherPlugin.run(CrawlerGatherPlugin.java:69)\r\n            at com.wayfair.glass.gather.worker.plugin.PluginRunner.run(PluginRunner.java:45)\r\n            at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:819)\r\n            at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:803)\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:346)\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1340)\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1329)\r\n            at com.wayfair.glass.gather.worker.GlassGatherWorkerApplication.main(GlassGatherWorkerApplication.java:12)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n            at java.base/java.lang.reflect.Method.invoke(Unknown Source)\r\n            at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n            at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\r\n            at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n            at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88)\r\n\r\n\r\nThis seems to work if I use `ChromeDriver` instead of `RemoteWebDriver`.\r\n\r\nAny ideas?","title":"Can&#39;t enable performance level for RemoteWebDriver","body":"<p>I am trying to enable perfromance logging for a <code>RemoteWebDriver</code> in Java Selenium. I have this code:</p>\n<pre><code>public WebDriver getDriver() {\n  ChromeOptions chromeOptions = new ChromeOptions();\n  chromeOptions.addArguments(arguments);\n  chromeOptions.setAcceptInsecureCerts(acceptInsecureCerts);\n\n  DesiredCapabilities desiredCapabilites = DesiredCapabilities.chrome();\n  LoggingPreferences logPrefs = new LoggingPreferences();\n  logPrefs.enable(LogType.PERFORMANCE, Level.ALL);\n  desiredCapabilites.setCapability(CapabilityType.LOGGING_PREFS, logPrefs);\n  desiredCapabilites.setCapability(ChromeOptions.CAPABILITY, chromeOptions);\n\n  return new RemoteWebDriver(new URL(url), desiredCapabilites);\n}\n</code></pre>\n<p>When trying later on to access the performance logs like this:</p>\n<pre><code>driver.manage().logs().get(&quot;performance&quot;)\n</code></pre>\n<p>I get the following error:</p>\n<pre><code>org.openqa.selenium.InvalidArgumentException: invalid argument: log type 'performance' not found\n  (Session info: headless chrome=95.0.4638.69)\nBuild info: version: 'unknown', revision: 'unknown', time: 'unknown'\nSystem info: host: 'tr-glass-gather-crawler-workerjrsgs-pod-mfk8b', ip: '172.21.62.217', os.name: 'Linux', os.arch: 'amd64', os.version: '5.4.120+', java.version: '11.0.8'\nDriver info: org.openqa.selenium.remote.RemoteWebDriver\nCapabilities {acceptInsecureCerts: true, browserName: chrome, browserVersion: 95.0.4638.69, chrome: {chromedriverVersion: 95.0.4638.54 (d31a821ec901f..., userDataDir: /tmp/.com.google.Chrome.vRBs3j}, goog:chromeOptions: {debuggerAddress: localhost:36139}, javascriptEnabled: true, networkConnectionEnabled: false, pageLoadStrategy: normal, platform: LINUX, platformName: LINUX, proxy: Proxy(), se:cdp: ws://172.21.62.217:4444/ses..., se:cdpVersion: 95.0.4638.69, se:vnc: ws://172.21.62.217:4444/ses..., se:vncEnabled: true, se:vncLocalAddress: ws://172.21.62.217:7900, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:virtualAuthenticators: true}\nSession ID: d595d868024953284123f1c300378445\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n        at java.base/java.lang.reflect.Constructor.newInstance(Unknown Source)\n        at org.openqa.selenium.remote.http.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:187)\n        at org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:122)\n        at org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:49)\n        at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:158)\n        at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\n        at org.openqa.selenium.remote.RemoteExecuteMethod.execute(RemoteExecuteMethod.java:35)\n        at org.openqa.selenium.remote.RemoteLogs.getRemoteEntries(RemoteLogs.java:81)\n        at org.openqa.selenium.remote.RemoteLogs.get(RemoteLogs.java:77)\n        at com.wayfair.glass.gather.worker.crawler.WFPartnerCrawlerFacadeImpl.navigate(WFPartnerCrawlerFacadeImpl.java:110)\n        at com.wayfair.glass.gather.worker.plugin.impl.CrawlerGatherPlugin.internalRun(CrawlerGatherPlugin.java:93)\n        at com.wayfair.glass.gather.worker.plugin.impl.CrawlerGatherPlugin.run(CrawlerGatherPlugin.java:69)\n        at com.wayfair.glass.gather.worker.plugin.PluginRunner.run(PluginRunner.java:45)\n        at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:819)\n        at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:803)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:346)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1340)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1329)\n        at com.wayfair.glass.gather.worker.GlassGatherWorkerApplication.main(GlassGatherWorkerApplication.java:12)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n        at java.base/java.lang.reflect.Method.invoke(Unknown Source)\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88)\n</code></pre>\n<p>This seems to work if I use <code>ChromeDriver</code> instead of <code>RemoteWebDriver</code>.</p>\n<p>Any ideas?</p>\n"},{"tags":["java","spring-boot","junit4"],"answers":[{"tags":[],"owner":{"account_id":22806068,"reputation":400,"user_id":16958095,"display_name":"Ahmed Hosny"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637828858,"creation_date":1637822906,"answer_id":70106873,"question_id":70106761,"body_markdown":"testing springboot with jUnit you can use @RunWith(SpringRunner.class) or @SpringbootTest which loads the entire context \r\n\r\nif you want to test your config specifically use @TestConfiguration annotation. There are two ways of using the annotation Either on a static inner class in the same test class where we want to @Autowire the bean or create a separate test configuration class:\r\n\r\ni will pick the first option inside static class \r\n\r\nsee example below ,\r\n\r\n    @ConfigurationProperties\r\n     public class ConfigClass{\r\n       public String property;\r\n    }\r\n    --Now under Test--\r\n    \r\n    @RunWith(MockitoJunitRuner.class)\r\n     class MyTests{\r\n    \r\n    \r\n     @Autowired\r\n     private ConfigClass configClass;\r\n    \r\n    **// here use the @TestConfiguration annotation not @Test**\r\n    \r\n     @TestConfiguration\r\n     public myTest1(){\r\n       String prop = configClass.getProperty();\r\n       //Some assert\r\n     }\r\n\r\n//Ok this works, now there is another class like below which is part of the test, and the configClass is not getting autowired there, any ideas \r\n\r\nNB: i suggest to use the second option which is having  **separate test configuration class** to autowire all configurations across the classs like below\r\n\r\n    @TestConfiguration\r\n    public YourTestConfigurationClass ()\r\n    {\r\n    // plus all the other code which worked \r\n    \r\n        @Component\r\n        public class OtherClass{\r\n     \r\n          @Autowired\r\n          private ConfigClass configClass;\r\n       }\r\n    }","title":"Get @ConfigurationProperties bean autowired in Junit","body":"<p>testing springboot with jUnit you can use @RunWith(SpringRunner.class) or @SpringbootTest which loads the entire context</p>\n<p>if you want to test your config specifically use @TestConfiguration annotation. There are two ways of using the annotation Either on a static inner class in the same test class where we want to @Autowire the bean or create a separate test configuration class:</p>\n<p>i will pick the first option inside static class</p>\n<p>see example below ,</p>\n<pre><code>@ConfigurationProperties\n public class ConfigClass{\n   public String property;\n}\n--Now under Test--\n\n@RunWith(MockitoJunitRuner.class)\n class MyTests{\n\n\n @Autowired\n private ConfigClass configClass;\n\n**// here use the @TestConfiguration annotation not @Test**\n\n @TestConfiguration\n public myTest1(){\n   String prop = configClass.getProperty();\n   //Some assert\n }\n</code></pre>\n<p>//Ok this works, now there is another class like below which is part of the test, and the configClass is not getting autowired there, any ideas</p>\n<p>NB: i suggest to use the second option which is having  <strong>separate test configuration class</strong> to autowire all configurations across the classs like below</p>\n<pre><code>@TestConfiguration\npublic YourTestConfigurationClass ()\n{\n// plus all the other code which worked \n\n    @Component\n    public class OtherClass{\n \n      @Autowired\n      private ConfigClass configClass;\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":10245488,"reputation":9,"user_id":7561408,"display_name":"Kiran Channayanamath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":355,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70106873,"answer_count":1,"score":0,"last_activity_date":1637828858,"creation_date":1637822203,"question_id":70106761,"body_markdown":"enter code hereI have a class annotated with @ConfigurationProperties in spring boot, how can I get this bean  autowired in  Junit tests\r\n\r\n    @ConfigurationProperties\r\n     public class ConfigClass{\r\n       public String property;\r\n    }\r\n\r\n--Now under Test--\r\n\r\n    @RunWith(MockitoJunitRuner.class)\r\n     class MyTests{\r\n\r\n     @Autowired\r\n     private ConfigClass configClass;\r\n\r\n     @Test\r\n     public myTest1(){\r\n       String prop = configClass.getProperty();\r\n       //Some assert\r\n     }\r\n-- configClass is coming out as null when I run this test --","title":"Get @ConfigurationProperties bean autowired in Junit","body":"<p>enter code hereI have a class annotated with @ConfigurationProperties in spring boot, how can I get this bean  autowired in  Junit tests</p>\n<pre><code>@ConfigurationProperties\n public class ConfigClass{\n   public String property;\n}\n</code></pre>\n<p>--Now under Test--</p>\n<pre><code>@RunWith(MockitoJunitRuner.class)\n class MyTests{\n\n @Autowired\n private ConfigClass configClass;\n\n @Test\n public myTest1(){\n   String prop = configClass.getProperty();\n   //Some assert\n }\n</code></pre>\n<p>-- configClass is coming out as null when I run this test --</p>\n"},{"tags":["java","html","jsoup"],"answers":[{"tags":[],"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637813363,"creation_date":1637812690,"answer_id":70105640,"question_id":70105515,"body_markdown":"Jsoup is for statics or very simple html sites.\r\n\r\nComplex sites in the first http request download a basic or empty index.html and then using ajax, get the information from remote services like rest apis or microservices that returns json.\r\n\r\nThat&#39;s why, soups returns you that empty html.\r\n\r\n## solution 1\r\n\r\nUse another framework which uses a kind of browser in-memory. That kind of frameworks are capable of *wait* until the ajax gets the information and then your &lt;h1&gt; will have the expected value:\r\n\r\n- puppeteer.js\r\n- casper.js\r\n- sinon.js\r\n\r\n## solution 2\r\n\r\nIf your only goal is to obtain the data, you could use the developer console of your favorite browser and identify the http service that returns your game data in json format.  After that, with a very simple http connection you will have the game data\r\n\r\n## solution 3\r\n\r\nUse selenium and a headless browser to get your data, waiting to the ajax response.","title":"Extracting information using jsoup","body":"<p>Jsoup is for statics or very simple html sites.</p>\n<p>Complex sites in the first http request download a basic or empty index.html and then using ajax, get the information from remote services like rest apis or microservices that returns json.</p>\n<p>That's why, soups returns you that empty html.</p>\n<h2>solution 1</h2>\n<p>Use another framework which uses a kind of browser in-memory. That kind of frameworks are capable of <em>wait</em> until the ajax gets the information and then your  will have the expected value:</p>\n<ul>\n<li>puppeteer.js</li>\n<li>casper.js</li>\n<li>sinon.js</li>\n</ul>\n<h2>solution 2</h2>\n<p>If your only goal is to obtain the data, you could use the developer console of your favorite browser and identify the http service that returns your game data in json format.  After that, with a very simple http connection you will have the game data</p>\n<h2>solution 3</h2>\n<p>Use selenium and a headless browser to get your data, waiting to the ajax response.</p>\n"},{"tags":[],"owner":{"account_id":9748857,"reputation":4106,"user_id":7227834,"display_name":"AmrDeveloper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637828566,"creation_date":1637828566,"answer_id":70107856,"question_id":70105515,"body_markdown":"This code will work using JSoup and Regex named group to get the three types of battle Stats `allBattles`, `normalBattles`, `rankedBattles` with all attributes\r\n\r\n```java\r\nDocument document = Jsoup.connect(&quot;https://na.wildstats.gg/en/profile/60ae4f204a9aa2000f3d5f33&quot;).get();\r\nElements elements = document.select(&quot;script&quot;);\r\nPattern parserPattern = Pattern.compile(&quot;&#39;(?&lt;BATTLE&gt;[a-zA-Z]+)&#39;: [{](?&lt;ATTRIBUTES&gt;[\\n &#39;a-zA-Z0-9+:\\&quot;0-9a-zA-Z,.]+)[};]&quot;);\r\nMatcher matcher = parserPattern.matcher(elements.toString());\r\nwhile (matcher.find()) {\r\n    String battleType = matcher.group(&quot;BATTLE&quot;);\r\n    System.out.println(&quot;Battle Type: &quot; + battleType);\r\n    String[] attributesLines = matcher.group(&quot;ATTRIBUTES&quot;)\r\n                    .replaceAll(&quot;,\\n&quot;, &quot;\\n&quot;)\r\n                    .split(&quot;\\n&quot;);\r\n    for (String line : attributesLines) {\r\n        String[] keyValue = line.trim().split(&quot;:&quot;);\r\n        if (keyValue.length != 2) continue;\r\n        String key = keyValue[0];\r\n        String value = keyValue[1];\r\n        System.out.println(&quot;\\t&quot; + key + &quot; : &quot; + value);\r\n    }\r\n}\r\n```\r\n\r\nThe output will be\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[1]: https://i.stack.imgur.com/avpCo.png\r\n\r\nYou can then create a class for each battle with a name and map for attributes to represent the result and use them in UI\r\n\r\n```java\r\npublic class Battle {\r\n\r\n    private String name;\r\n    private Map&lt;String, String&gt; attributes;\r\n\r\n    ...\r\n}\r\n```\r\n","title":"Extracting information using jsoup","body":"<p>This code will work using JSoup and Regex named group to get the three types of battle Stats <code>allBattles</code>, <code>normalBattles</code>, <code>rankedBattles</code> with all attributes</p>\n<pre class=\"lang-java prettyprint-override\"><code>Document document = Jsoup.connect(&quot;https://na.wildstats.gg/en/profile/60ae4f204a9aa2000f3d5f33&quot;).get();\nElements elements = document.select(&quot;script&quot;);\nPattern parserPattern = Pattern.compile(&quot;'(?&lt;BATTLE&gt;[a-zA-Z]+)': [{](?&lt;ATTRIBUTES&gt;[\\n 'a-zA-Z0-9+:\\&quot;0-9a-zA-Z,.]+)[};]&quot;);\nMatcher matcher = parserPattern.matcher(elements.toString());\nwhile (matcher.find()) {\n    String battleType = matcher.group(&quot;BATTLE&quot;);\n    System.out.println(&quot;Battle Type: &quot; + battleType);\n    String[] attributesLines = matcher.group(&quot;ATTRIBUTES&quot;)\n                    .replaceAll(&quot;,\\n&quot;, &quot;\\n&quot;)\n                    .split(&quot;\\n&quot;);\n    for (String line : attributesLines) {\n        String[] keyValue = line.trim().split(&quot;:&quot;);\n        if (keyValue.length != 2) continue;\n        String key = keyValue[0];\n        String value = keyValue[1];\n        System.out.println(&quot;\\t&quot; + key + &quot; : &quot; + value);\n    }\n}\n</code></pre>\n<p>The output will be</p>\n<p><a href=\"https://i.stack.imgur.com/avpCo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/avpCo.png\" alt=\"enter image description here\" /></a></p>\n<p>You can then create a class for each battle with a name and map for attributes to represent the result and use them in UI</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Battle {\n\n    private String name;\n    private Map&lt;String, String&gt; attributes;\n\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":23447093,"reputation":1,"user_id":17503754,"display_name":"ciddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1637828566,"creation_date":1637811423,"question_id":70105515,"body_markdown":"Hi I am new to using JSoap and html. I am currently trying to get information from a game stat website and having issues getting information between ```&lt;h1&gt;&lt;/h1&gt;```.\r\n\r\n    Document document = Jsoup.connect(&quot;https://na.wildstats.gg/en/profile/60ae4f204a9aa2000f3d5f33&quot;).get();\r\n    Elements winRates = document.getElementsByClass(&quot;text-center m-0&quot;);\r\n    String html = winRates.text();\r\n\r\n\r\n    System.out.println(winRates);\r\n    System.out.println(html);\r\n    System.out.println(&quot;test&quot;);\r\n\r\n\r\noutput:\r\n\r\n``` none\r\n&lt;h1 class=&quot;text-center m-0&quot; id=&quot;battleStats_WinRate&quot;&gt;&lt;/h1&gt;\r\n&lt;h1 class=&quot;text-center m-0&quot; id=&quot;battleStats_MVP&quot;&gt;&lt;/h1&gt;\r\n&lt;h1 class=&quot;text-center m-0&quot; id=&quot;battleStats_Played&quot;&gt;&lt;/h1&gt;\r\ntest\r\n```\r\n\r\nOn the website when I inspect it there is a percentage, number of MVPS and games played between the ```&lt;h1&gt;&lt;/h1&gt;```, yet that is not showing up for me. I was wondering how I would get those numbers. I have been able to get the players ign and rank and level. ","title":"Extracting information using jsoup","body":"<p>Hi I am new to using JSoap and html. I am currently trying to get information from a game stat website and having issues getting information between <code>&lt;h1&gt;&lt;/h1&gt;</code>.</p>\n<pre><code>Document document = Jsoup.connect(&quot;https://na.wildstats.gg/en/profile/60ae4f204a9aa2000f3d5f33&quot;).get();\nElements winRates = document.getElementsByClass(&quot;text-center m-0&quot;);\nString html = winRates.text();\n\n\nSystem.out.println(winRates);\nSystem.out.println(html);\nSystem.out.println(&quot;test&quot;);\n</code></pre>\n<p>output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>&lt;h1 class=&quot;text-center m-0&quot; id=&quot;battleStats_WinRate&quot;&gt;&lt;/h1&gt;\n&lt;h1 class=&quot;text-center m-0&quot; id=&quot;battleStats_MVP&quot;&gt;&lt;/h1&gt;\n&lt;h1 class=&quot;text-center m-0&quot; id=&quot;battleStats_Played&quot;&gt;&lt;/h1&gt;\ntest\n</code></pre>\n<p>On the website when I inspect it there is a percentage, number of MVPS and games played between the <code>&lt;h1&gt;&lt;/h1&gt;</code>, yet that is not showing up for me. I was wondering how I would get those numbers. I have been able to get the players ign and rank and level.</p>\n"},{"tags":["java","mysql","sql","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":22308769,"reputation":69,"user_id":16533050,"display_name":"BASSAM ALHARBI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637614739,"creation_date":1637614739,"answer_id":70072280,"question_id":70071836,"body_markdown":"I can&#39;t make a comment, so i would ask to also give us the customer.class .","title":"SQL Query returns Null Values","body":"<p>I can't make a comment, so i would ask to also give us the customer.class .</p>\n"},{"tags":[],"owner":{"account_id":16609602,"reputation":115,"user_id":12003033,"display_name":"wizdemonizer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637828546,"creation_date":1637828546,"answer_id":70107849,"question_id":70071836,"body_markdown":"Got it resolved . I changed the User object to branch object.\r\n\r\n```\r\n@Query(&quot;SELECT customer from Customer customer join &quot;\r\n\t  \t\t+ &quot;customer.marketer marketer &quot;\r\n\t      + &quot;where marketer.branch = :branch&quot;) \r\n\t  List&lt;Customer&gt; findByUserBranch(Branch branch);\r\n\r\n```\r\n\r\nThen refactored the controller class\r\n\r\n\r\n```\r\n@GetMapping(value=&quot;branch/customers&quot;) \r\n\t  public List&lt;Customer&gt; getListByBranch(Principal principal)\r\n\t  { \r\n\t  User loggedInUser = userRepo.findByUserName(principal.getName());\r\n\t  Branch branchId = loggedInUser.getBranch();\r\n\t  return customerRepo.findByBranch(branchId); \r\n\t  }\r\n\r\n```","title":"SQL Query returns Null Values","body":"<p>Got it resolved . I changed the User object to branch object.</p>\n<pre><code>@Query(&quot;SELECT customer from Customer customer join &quot;\n            + &quot;customer.marketer marketer &quot;\n          + &quot;where marketer.branch = :branch&quot;) \n      List&lt;Customer&gt; findByUserBranch(Branch branch);\n\n</code></pre>\n<p>Then refactored the controller class</p>\n<pre><code>@GetMapping(value=&quot;branch/customers&quot;) \n      public List&lt;Customer&gt; getListByBranch(Principal principal)\n      { \n      User loggedInUser = userRepo.findByUserName(principal.getName());\n      Branch branchId = loggedInUser.getBranch();\n      return customerRepo.findByBranch(branchId); \n      }\n\n</code></pre>\n"}],"owner":{"account_id":16609602,"reputation":115,"user_id":12003033,"display_name":"wizdemonizer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":684,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1637828546,"creation_date":1637611919,"question_id":70071836,"body_markdown":"I have a User entity with role types Marketer, Managing Director and General Manager . **When the UserRole Managing Director logs In**, I want the userrole Managing Director to only see customers assigned **to Usertype Marketers with the same Branch ID as the Managing Director**.\r\n\r\nI have a custom Query in the **customer repository** that returns a null result.\r\n\r\n```\r\n@Query(&quot;SELECT customer from Customer customer join customer.marketer marketer &quot;\r\n + &quot;where marketer.branch = :director&quot;) \r\nList&lt;Customer&gt; findByUserBranch(User director);\r\n\r\n```\r\n\r\nThis is the User entity\r\n\r\n```\r\n@Entity\r\n@JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;,&quot;handler&quot;})\r\npublic class User {\r\n\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\t\r\n\tprivate String firstName ;\r\n\tprivate String lastName;\r\n\t\r\n\t@Column(name=&quot;user_name&quot;, unique=true)\r\n\tprivate String userName;\r\n\t\r\n\tprivate String password;\r\n\tprivate String Gender; \r\n    private String phoneNumber;\r\n\tprivate String email;\r\n\t\r\n\t@JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\r\n    @ManyToOne(targetEntity = Branch.class, \r\n\t fetch = FetchType.LAZY )\r\n\t@JoinColumn(name=&quot;branch_id&quot;) \r\n    private Branch branch;\r\n    \r\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n    private Date createdDate;\r\n    \r\n    @ManyToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n    @JoinTable(\r\n    name = &quot;users_roles&quot;, \r\n    joinColumns = @JoinColumn(name = &quot;user_id&quot;),\r\n    inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;)\r\n    )\r\n    private Set&lt;UserRole&gt; userRole = new HashSet&lt;&gt;();\r\n    \r\n    @Enumerated(EnumType.STRING)\r\n    private UserStatus status;\r\n    \r\n    @JsonBackReference\r\n\t@OneToMany(mappedBy=&quot;marketer&quot;,cascade = CascadeType.ALL, targetEntity=Customer.class)\r\n    private List &lt;Customer&gt; customer;\r\n\r\n```\r\n\r\nThis is the controller class\r\n\r\n```\r\n@GetMapping(value=&quot;branch/customers&quot;) \r\npublic List&lt;Customer&gt; getListByBranch()\r\n{ Authentication authentication =\r\nSecurityContextHolder.getContext().getAuthentication(); \r\nUser loggedInUser = userRepo.findByUserName(authentication.getName()); return customerRepo.findByBranch(loggedInUser); \r\n}\r\n\r\n```\r\nUPDATED :\r\n\r\nThis is the **Customer** class \r\n\r\n```\r\n@Entity\r\n@JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;,&quot;handler&quot;})\r\npublic class Customer implements Serializable {\r\n\r\n\t/**\r\n\t * \r\n\t */\r\n\tprivate static final long serialVersionUID = 8348682056500740593L;\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\tprivate String userName;\r\n\tprivate String password;\r\n\tprivate String firstName ;\r\n\tprivate String lastName;\r\n\tprivate String gender;\r\n\tprivate String Address; \r\n\tprivate String maritalStatus;\r\n\tprivate String category;\r\n\tprivate String motherMaidenName;\r\n\tprivate String idType;\r\n\tprivate String  idNumber;\r\n\tprivate String phoneNumber;\r\n\tprivate String email;\r\n\t\r\n    @Column(nullable = true, length = 64)\r\n\tprivate String photos;\r\n\t\r\n\t@DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n\tprivate Date dateOfBirth;\r\n\t\r\n\t@DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n\tprivate Date registrationDate;\r\n\t\r\n\t@JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\r\n    @ManyToOne(targetEntity = User.class, \r\n\t fetch = FetchType.LAZY )\r\n\t@JoinColumn(name=&quot;marketer_id&quot;) \r\n\tprivate User marketer ;\r\n\t\r\n\t@JsonBackReference\r\n\t@OneToMany(mappedBy=&quot;customer_id&quot;,cascade = CascadeType.ALL, targetEntity=Investment.class)\r\n\tprivate List&lt;Investment&gt; investment;\r\n\r\n```\r\n\r\n","title":"SQL Query returns Null Values","body":"<p>I have a User entity with role types Marketer, Managing Director and General Manager . <strong>When the UserRole Managing Director logs In</strong>, I want the userrole Managing Director to only see customers assigned <strong>to Usertype Marketers with the same Branch ID as the Managing Director</strong>.</p>\n<p>I have a custom Query in the <strong>customer repository</strong> that returns a null result.</p>\n<pre><code>@Query(&quot;SELECT customer from Customer customer join customer.marketer marketer &quot;\n + &quot;where marketer.branch = :director&quot;) \nList&lt;Customer&gt; findByUserBranch(User director);\n\n</code></pre>\n<p>This is the User entity</p>\n<pre><code>@Entity\n@JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;,&quot;handler&quot;})\npublic class User {\n\n    \n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private Long id;\n    \n    private String firstName ;\n    private String lastName;\n    \n    @Column(name=&quot;user_name&quot;, unique=true)\n    private String userName;\n    \n    private String password;\n    private String Gender; \n    private String phoneNumber;\n    private String email;\n    \n    @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\n    @ManyToOne(targetEntity = Branch.class, \n     fetch = FetchType.LAZY )\n    @JoinColumn(name=&quot;branch_id&quot;) \n    private Branch branch;\n    \n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\n    private Date createdDate;\n    \n    @ManyToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    @JoinTable(\n    name = &quot;users_roles&quot;, \n    joinColumns = @JoinColumn(name = &quot;user_id&quot;),\n    inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;)\n    )\n    private Set&lt;UserRole&gt; userRole = new HashSet&lt;&gt;();\n    \n    @Enumerated(EnumType.STRING)\n    private UserStatus status;\n    \n    @JsonBackReference\n    @OneToMany(mappedBy=&quot;marketer&quot;,cascade = CascadeType.ALL, targetEntity=Customer.class)\n    private List &lt;Customer&gt; customer;\n\n</code></pre>\n<p>This is the controller class</p>\n<pre><code>@GetMapping(value=&quot;branch/customers&quot;) \npublic List&lt;Customer&gt; getListByBranch()\n{ Authentication authentication =\nSecurityContextHolder.getContext().getAuthentication(); \nUser loggedInUser = userRepo.findByUserName(authentication.getName()); return customerRepo.findByBranch(loggedInUser); \n}\n\n</code></pre>\n<p>UPDATED :</p>\n<p>This is the <strong>Customer</strong> class</p>\n<pre><code>@Entity\n@JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;,&quot;handler&quot;})\npublic class Customer implements Serializable {\n\n    /**\n     * \n     */\n    private static final long serialVersionUID = 8348682056500740593L;\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private Long id;\n    private String userName;\n    private String password;\n    private String firstName ;\n    private String lastName;\n    private String gender;\n    private String Address; \n    private String maritalStatus;\n    private String category;\n    private String motherMaidenName;\n    private String idType;\n    private String  idNumber;\n    private String phoneNumber;\n    private String email;\n    \n    @Column(nullable = true, length = 64)\n    private String photos;\n    \n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\n    private Date dateOfBirth;\n    \n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\n    private Date registrationDate;\n    \n    @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\n    @ManyToOne(targetEntity = User.class, \n     fetch = FetchType.LAZY )\n    @JoinColumn(name=&quot;marketer_id&quot;) \n    private User marketer ;\n    \n    @JsonBackReference\n    @OneToMany(mappedBy=&quot;customer_id&quot;,cascade = CascadeType.ALL, targetEntity=Investment.class)\n    private List&lt;Investment&gt; investment;\n\n</code></pre>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":16192048,"reputation":2376,"user_id":11690526,"display_name":"Tippu Fisal Sheriff"},"score":0,"creation_date":1637827339,"post_id":70107562,"comment_id":123930804,"body_markdown":"Use card view and set corner radius for that card view.","body":"Use card view and set corner radius for that card view."}],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637827467,"creation_date":1637827467,"answer_id":70107635,"question_id":70107562,"body_markdown":"You can&#39;t set a shape for a view.  A view is always a rectangle.  What you can do is make a view with a custom background with a non-rectangular shape and transparency in the area outside the shape, and use that as the background, which will make it appear as if it has a shape.","title":"Create a Custom Shape Background that looks like a Coupon Item","body":"<p>You can't set a shape for a view.  A view is always a rectangle.  What you can do is make a view with a custom background with a non-rectangular shape and transparency in the area outside the shape, and use that as the background, which will make it appear as if it has a shape.</p>\n"}],"owner":{"account_id":14643201,"reputation":11,"user_id":10575313,"display_name":"Husen Memon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1637827709,"answer_count":1,"score":-2,"last_activity_date":1637828528,"creation_date":1637827061,"question_id":70107562,"body_markdown":"Want to create a layout for Redeem Items. Kindly suggest or help how can I accomplish this easily?\r\n\r\n[Check this image for the idea][1]\r\n\r\n\r\n[Dark Version of the item][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2yfv7.jpg\r\n  [2]: https://i.stack.imgur.com/rxfbN.jpg","title":"Create a Custom Shape Background that looks like a Coupon Item","body":"<p>Want to create a layout for Redeem Items. Kindly suggest or help how can I accomplish this easily?</p>\n<p><a href=\"https://i.stack.imgur.com/2yfv7.jpg\" rel=\"nofollow noreferrer\">Check this image for the idea</a></p>\n<p><a href=\"https://i.stack.imgur.com/rxfbN.jpg\" rel=\"nofollow noreferrer\">Dark Version of the item</a></p>\n"},{"tags":["java","spring-boot","unit-testing","junit"],"answers":[{"tags":[],"owner":{"account_id":22993668,"reputation":24,"user_id":17118780,"display_name":"Grzegorz Kossakowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637828337,"creation_date":1637828337,"answer_id":70107808,"question_id":70105145,"body_markdown":"You need to create a constructor and set @PersistenceContest annotations next to it.\r\n\r\n    @PersistenceContext\r\n    public A(EntityManager entityManager) {\r\n         this.entityManager = entityManager\r\n    }\r\nCreate an object in the test\r\n\r\n    A a = new A(mockEntityManager)","title":"Implemented unit test for EntityManager spring boot?","body":"<p>You need to create a constructor and set @PersistenceContest annotations next to it.</p>\n<pre><code>@PersistenceContext\npublic A(EntityManager entityManager) {\n     this.entityManager = entityManager\n}\n</code></pre>\n<p>Create an object in the test</p>\n<pre><code>A a = new A(mockEntityManager)\n</code></pre>\n"}],"owner":{"account_id":11361944,"reputation":1147,"user_id":8329850,"display_name":"kalipts"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":422,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1637828337,"creation_date":1637807452,"question_id":70105145,"body_markdown":"I am trying to implement unit test for a class using ```EntityManager```\r\n```\r\npublic class A {\r\n    @PersistenceContext\r\n\tprivate EntityManager entityManager;\r\n    \r\n\tpublic &lt;T&gt; TypedQuery&lt;T&gt; createTypedQuery(String queryString, Class&lt;T&gt; type) {\r\n\t\treturn entityManager.createQuery(queryString, type);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nHow do I implement unit test for method createTypedQuery","title":"Implemented unit test for EntityManager spring boot?","body":"<p>I am trying to implement unit test for a class using <code>EntityManager</code></p>\n<pre><code>public class A {\n    @PersistenceContext\n    private EntityManager entityManager;\n    \n    public &lt;T&gt; TypedQuery&lt;T&gt; createTypedQuery(String queryString, Class&lt;T&gt; type) {\n        return entityManager.createQuery(queryString, type);\n    }\n\n}\n</code></pre>\n<p>How do I implement unit test for method createTypedQuery</p>\n"},{"tags":["java","android","tensorflow","gradle","tensorflow-lite"],"answers":[{"tags":[],"owner":{"account_id":20365714,"reputation":159,"user_id":14939114,"display_name":"JIN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637817397,"creation_date":1637817397,"answer_id":70106113,"question_id":70096358,"body_markdown":"# Solution #\r\n\r\nI have resolved this problem. \r\n## 1. Commenting a line\r\nFirst of all, you should comment the following line `implementation &#39;org.tensorflow:tensorflow-lite-local:0.0.0&#39;` in the **build.gradle (app)**\r\n\r\n### Before\r\n```groovy\r\ndependencies {\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.2&#39;\r\n    implementation &#39;com.google.android.material:material:1.4.0&#39;\r\n    implementation &#39;androidx.annotation:annotation:1.3.0&#39;\r\n    implementation &#39;androidx.legacy:legacy-support-v13:1.0.0&#39;\r\n\r\n    // Build off of nightly TensorFlow Lite\r\n    implementation &#39;org.tensorflow:tensorflow-lite:0.0.0-nightly-SNAPSHOT&#39;\r\n    implementation &#39;org.tensorflow:tensorflow-lite-gpu:0.0.0-nightly-SNAPSHOT&#39;\r\n    // Use local TensorFlow library\r\n    implementation &#39;org.tensorflow:tensorflow-lite-local:0.0.0&#39;\r\n}\r\n```\r\n\r\n### After\r\n```groovy\r\ndependencies {\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.2&#39;\r\n    implementation &#39;com.google.android.material:material:1.4.0&#39;\r\n    implementation &#39;androidx.annotation:annotation:1.3.0&#39;\r\n    implementation &#39;androidx.legacy:legacy-support-v13:1.0.0&#39;\r\n\r\n    // Build off of nightly TensorFlow Lite\r\n    implementation &#39;org.tensorflow:tensorflow-lite:0.0.0-nightly-SNAPSHOT&#39;\r\n    implementation &#39;org.tensorflow:tensorflow-lite-gpu:0.0.0-nightly-SNAPSHOT&#39;\r\n    // Use local TensorFlow library\r\n    // implementation &#39;org.tensorflow:tensorflow-lite-local:0.0.0&#39;\r\n}\r\n```\r\n\r\n## 2. Adding a line in AndroidManifest.xml\r\nIf your **AndroidManifest.xml** code has a `&lt;activity&gt; &lt;/activity&gt;` pair and it includes a `&lt;intent-filter&gt; &lt;/intent-filter&gt;` pair, then you should add a line of `android:exported = true`.\r\n\r\n### Before\r\n```xml\r\n&lt;activity android:name=&quot;com.example.android.tflitecamerademo.CameraActivity&quot;\r\n          android:screenOrientation=&quot;portrait&quot;\r\n          android:label=&quot;@string/app_name&quot;&gt;\r\n    &lt;intent-filter&gt;\r\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n    &lt;/intent-filter&gt;\r\n&lt;/activity&gt;\r\n```\r\n\r\n### After\r\n\r\n```xml\r\n&lt;activity android:name=&quot;com.example.android.tflitecamerademo.CameraActivity&quot;\r\n          android:screenOrientation=&quot;portrait&quot;\r\n          android:label=&quot;@string/app_name&quot;\r\n          android:exported=&quot;true&quot;&gt;\r\n    &lt;intent-filter&gt;\r\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n    &lt;/intent-filter&gt;\r\n&lt;/activity&gt;\r\n```","title":"Could not resolve all files for configuration &#39;:app:debugRuntimeClasspath&#39; because could not find TensorFlow Lite files","body":"<h1>Solution</h1>\n<p>I have resolved this problem.</p>\n<h2>1. Commenting a line</h2>\n<p>First of all, you should comment the following line <code>implementation 'org.tensorflow:tensorflow-lite-local:0.0.0'</code> in the <strong>build.gradle (app)</strong></p>\n<h3>Before</h3>\n<pre><code>dependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'androidx.appcompat:appcompat:1.4.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.2'\n    implementation 'com.google.android.material:material:1.4.0'\n    implementation 'androidx.annotation:annotation:1.3.0'\n    implementation 'androidx.legacy:legacy-support-v13:1.0.0'\n\n    // Build off of nightly TensorFlow Lite\n    implementation 'org.tensorflow:tensorflow-lite:0.0.0-nightly-SNAPSHOT'\n    implementation 'org.tensorflow:tensorflow-lite-gpu:0.0.0-nightly-SNAPSHOT'\n    // Use local TensorFlow library\n    implementation 'org.tensorflow:tensorflow-lite-local:0.0.0'\n}\n</code></pre>\n<h3>After</h3>\n<pre><code>dependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'androidx.appcompat:appcompat:1.4.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.2'\n    implementation 'com.google.android.material:material:1.4.0'\n    implementation 'androidx.annotation:annotation:1.3.0'\n    implementation 'androidx.legacy:legacy-support-v13:1.0.0'\n\n    // Build off of nightly TensorFlow Lite\n    implementation 'org.tensorflow:tensorflow-lite:0.0.0-nightly-SNAPSHOT'\n    implementation 'org.tensorflow:tensorflow-lite-gpu:0.0.0-nightly-SNAPSHOT'\n    // Use local TensorFlow library\n    // implementation 'org.tensorflow:tensorflow-lite-local:0.0.0'\n}\n</code></pre>\n<h2>2. Adding a line in AndroidManifest.xml</h2>\n<p>If your <strong>AndroidManifest.xml</strong> code has a <code>&lt;activity&gt; &lt;/activity&gt;</code> pair and it includes a <code>&lt;intent-filter&gt; &lt;/intent-filter&gt;</code> pair, then you should add a line of <code>android:exported = true</code>.</p>\n<h3>Before</h3>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;activity android:name=&quot;com.example.android.tflitecamerademo.CameraActivity&quot;\n          android:screenOrientation=&quot;portrait&quot;\n          android:label=&quot;@string/app_name&quot;&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n    &lt;/intent-filter&gt;\n&lt;/activity&gt;\n</code></pre>\n<h3>After</h3>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;activity android:name=&quot;com.example.android.tflitecamerademo.CameraActivity&quot;\n          android:screenOrientation=&quot;portrait&quot;\n          android:label=&quot;@string/app_name&quot;\n          android:exported=&quot;true&quot;&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n    &lt;/intent-filter&gt;\n&lt;/activity&gt;\n</code></pre>\n"}],"owner":{"account_id":20365714,"reputation":159,"user_id":14939114,"display_name":"JIN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3295,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637827958,"creation_date":1637758093,"question_id":70096358,"body_markdown":"I tried to build a TensorFlow lite application with **`nightly tensorflow lite`**.\r\n\r\nHowever, it occurred eight identical errors like the following error.\r\nI wanted to search for a solution about this problem, but I couldn&#39;t find out it from anywhere (Of course, it can be just that I couldn&#39;t find out it).\r\n```groovy\r\nFAILURE: Build completed with 8 failures.\r\n\r\n1: Task failed with an exception.\r\n-----------\r\n* What went wrong:\r\nExecution failed for task &#39;:app:checkDebugAarMetadata&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:app:debugRuntimeClasspath&#39;.\r\n   &gt; Could not find org.tensorflow:tensorflow-lite-local:0.0.0.\r\n     Searched in the following locations:\r\n       - file:/Users/JJ/.m2/repository/org/tensorflow/tensorflow-lite-local/0.0.0/tensorflow-lite-local-0.0.0.pom\r\n       - https://repo.maven.apache.org/maven2/org/tensorflow/tensorflow-lite-local/0.0.0/tensorflow-lite-local-0.0.0.pom\r\n       - https://dl.google.com/dl/android/maven2/org/tensorflow/tensorflow-lite-local/0.0.0/tensorflow-lite-local-0.0.0.pom\r\n       - http://oss.sonatype.org/content/repositories/snapshots/org/tensorflow/tensorflow-lite-local/0.0.0/tensorflow-lite-local-0.0.0.pom\r\n     Required by:\r\n         project :app\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n```\r\n\r\nAnd, this is my **`build.gradle (Project)`**.\r\n```groovy\r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n\r\nbuildscript {\r\n    repositories {\r\n        mavenCentral()\r\n        google()\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:7.0.3&#39;\r\n\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        mavenLocal()\r\n        mavenCentral()\r\n        google()\r\n        maven {  // Only for snapshot artifacts\r\n            name &#39;ossrh-snapshot&#39;\r\n            url &#39;http://oss.sonatype.org/content/repositories/snapshots&#39;\r\n            allowInsecureProtocol = true\r\n        }\r\n    }\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n```\r\n\r\nPlus, this is my **`build.gradle (App)`**.\r\n```groovy\r\napply plugin: &#39;com.android.application&#39;\r\n\r\nandroid {\r\n    compileSdkVersion 31\r\n    buildToolsVersion &quot;30.0.3&quot;\r\n    defaultConfig {\r\n        applicationId &quot;android.example.com.tflitecamerademo&quot;\r\n        // Required by Camera2 API.\r\n        minSdkVersion 21\r\n        targetSdkVersion 31\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n    }\r\n    lintOptions {\r\n        abortOnError false\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    aaptOptions {\r\n        noCompress &quot;tflite&quot;\r\n    }\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n    maven {  // Only for snapshot artifacts\r\n        name &#39;ossrh-snapshot&#39;\r\n        url &#39;http://oss.sonatype.org/content/repositories/snapshots&#39;\r\n        allowInsecureProtocol = true\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        // Uncomment if you want to use a local repo.\r\n        // mavenLocal()\r\n        mavenCentral()\r\n        maven {  // Only for snapshot artifacts\r\n            name &#39;ossrh-snapshot&#39;\r\n            url &#39;http://oss.sonatype.org/content/repositories/snapshots&#39;\r\n            allowInsecureProtocol = true\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.2&#39;\r\n    implementation &#39;com.google.android.material:material:1.4.0&#39;\r\n    implementation &#39;androidx.annotation:annotation:1.3.0&#39;\r\n    implementation &#39;androidx.legacy:legacy-support-v13:1.0.0&#39;\r\n\r\n    // Build off of nightly TensorFlow Lite\r\n    implementation &#39;org.tensorflow:tensorflow-lite:0.0.0-nightly-SNAPSHOT&#39;\r\n    implementation &#39;org.tensorflow:tensorflow-lite-gpu:0.0.0-nightly-SNAPSHOT&#39;\r\n    // Use local TensorFlow library\r\n    implementation &#39;org.tensorflow:tensorflow-lite-local:0.0.0&#39;\r\n}\r\n\r\ndef targetFolder = &quot;src/main/assets&quot;\r\ndef modelFloatDownloadUrl = &quot;https://storage.googleapis.com/download.tensorflow.org/models/mobilenet_v1_2018_02_22/mobilenet_v1_1.0_224.tgz&quot;\r\ndef modelQuantDownloadUrl = &quot;https://storage.googleapis.com/download.tensorflow.org/models/mobilenet_v1_2018_08_02/mobilenet_v1_1.0_224_quant.tgz&quot;\r\ndef localCacheFloat = &quot;build/intermediates/mobilenet_v1_1.0_224.tgz&quot;\r\ndef localCacheQuant = &quot;build/intermediates/mmobilenet_v1_1.0_224_quant.tgz&quot;\r\n\r\n\r\ntask downloadModelFloat(type: DownloadUrlTask) {\r\n    doFirst {\r\n        println &quot;Downloading ${modelFloatDownloadUrl}&quot;\r\n    }\r\n    sourceUrl = &quot;${modelFloatDownloadUrl}&quot;\r\n    target = file(&quot;${localCacheFloat}&quot;)\r\n}\r\n\r\ntask downloadModelQuant(type: DownloadUrlTask) {\r\n    doFirst {\r\n        println &quot;Downloading ${modelQuantDownloadUrl}&quot;\r\n    }\r\n    sourceUrl = &quot;${modelQuantDownloadUrl}&quot;\r\n    target = file(&quot;${localCacheQuant}&quot;)\r\n}\r\n\r\ntask unzipModelFloat(type: Copy, dependsOn: &#39;downloadModelFloat&#39;) {\r\n    doFirst {\r\n        println &quot;Unzipping ${localCacheFloat}&quot;\r\n    }\r\n    from tarTree(&quot;${localCacheFloat}&quot;)\r\n    into &quot;${targetFolder}&quot;\r\n}\r\n\r\ntask unzipModelQuant(type: Copy, dependsOn: &#39;downloadModelQuant&#39;) {\r\n    doFirst {\r\n        println &quot;Unzipping ${localCacheQuant}&quot;\r\n    }\r\n    from tarTree(&quot;${localCacheQuant}&quot;)\r\n    into &quot;${targetFolder}&quot;\r\n}\r\n\r\ntask cleanUnusedFiles(type: Delete, dependsOn: [&#39;unzipModelFloat&#39;, &#39;unzipModelQuant&#39;]) {\r\n    delete fileTree(&quot;${targetFolder}&quot;).matching {\r\n        include &quot;*.pb&quot;\r\n        include &quot;*.ckpt.*&quot;\r\n        include &quot;*.pbtxt.*&quot;\r\n        include &quot;*.quant_info.*&quot;\r\n        include &quot;*.meta&quot;\r\n    }\r\n}\r\n\r\n\r\n// Ensure the model file is downloaded and extracted before every build\r\npreBuild.dependsOn unzipModelFloat\r\npreBuild.dependsOn unzipModelQuant\r\npreBuild.dependsOn cleanUnusedFiles\r\n\r\n\r\nclass DownloadUrlTask extends DefaultTask {\r\n    @Input\r\n    String sourceUrl\r\n\r\n    @OutputFile\r\n    File target\r\n\r\n    @TaskAction\r\n    void download() {\r\n        ant.get(src: sourceUrl, dest: target)\r\n    }\r\n}\r\n```","title":"Could not resolve all files for configuration &#39;:app:debugRuntimeClasspath&#39; because could not find TensorFlow Lite files","body":"<p>I tried to build a TensorFlow lite application with <strong><code>nightly tensorflow lite</code></strong>.</p>\n<p>However, it occurred eight identical errors like the following error.\nI wanted to search for a solution about this problem, but I couldn't find out it from anywhere (Of course, it can be just that I couldn't find out it).</p>\n<pre><code>FAILURE: Build completed with 8 failures.\n\n1: Task failed with an exception.\n-----------\n* What went wrong:\nExecution failed for task ':app:checkDebugAarMetadata'.\n&gt; Could not resolve all files for configuration ':app:debugRuntimeClasspath'.\n   &gt; Could not find org.tensorflow:tensorflow-lite-local:0.0.0.\n     Searched in the following locations:\n       - file:/Users/JJ/.m2/repository/org/tensorflow/tensorflow-lite-local/0.0.0/tensorflow-lite-local-0.0.0.pom\n       - https://repo.maven.apache.org/maven2/org/tensorflow/tensorflow-lite-local/0.0.0/tensorflow-lite-local-0.0.0.pom\n       - https://dl.google.com/dl/android/maven2/org/tensorflow/tensorflow-lite-local/0.0.0/tensorflow-lite-local-0.0.0.pom\n       - http://oss.sonatype.org/content/repositories/snapshots/org/tensorflow/tensorflow-lite-local/0.0.0/tensorflow-lite-local-0.0.0.pom\n     Required by:\n         project :app\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n</code></pre>\n<p>And, this is my <strong><code>build.gradle (Project)</code></strong>.</p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    repositories {\n        mavenCentral()\n        google()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.0.3'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        mavenLocal()\n        mavenCentral()\n        google()\n        maven {  // Only for snapshot artifacts\n            name 'ossrh-snapshot'\n            url 'http://oss.sonatype.org/content/repositories/snapshots'\n            allowInsecureProtocol = true\n        }\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>Plus, this is my <strong><code>build.gradle (App)</code></strong>.</p>\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 31\n    buildToolsVersion &quot;30.0.3&quot;\n    defaultConfig {\n        applicationId &quot;android.example.com.tflitecamerademo&quot;\n        // Required by Camera2 API.\n        minSdkVersion 21\n        targetSdkVersion 31\n        versionCode 1\n        versionName &quot;1.0&quot;\n    }\n    lintOptions {\n        abortOnError false\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    aaptOptions {\n        noCompress &quot;tflite&quot;\n    }\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\nrepositories {\n    mavenCentral()\n    maven {  // Only for snapshot artifacts\n        name 'ossrh-snapshot'\n        url 'http://oss.sonatype.org/content/repositories/snapshots'\n        allowInsecureProtocol = true\n    }\n}\n\nallprojects {\n    repositories {\n        // Uncomment if you want to use a local repo.\n        // mavenLocal()\n        mavenCentral()\n        maven {  // Only for snapshot artifacts\n            name 'ossrh-snapshot'\n            url 'http://oss.sonatype.org/content/repositories/snapshots'\n            allowInsecureProtocol = true\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'androidx.appcompat:appcompat:1.4.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.2'\n    implementation 'com.google.android.material:material:1.4.0'\n    implementation 'androidx.annotation:annotation:1.3.0'\n    implementation 'androidx.legacy:legacy-support-v13:1.0.0'\n\n    // Build off of nightly TensorFlow Lite\n    implementation 'org.tensorflow:tensorflow-lite:0.0.0-nightly-SNAPSHOT'\n    implementation 'org.tensorflow:tensorflow-lite-gpu:0.0.0-nightly-SNAPSHOT'\n    // Use local TensorFlow library\n    implementation 'org.tensorflow:tensorflow-lite-local:0.0.0'\n}\n\ndef targetFolder = &quot;src/main/assets&quot;\ndef modelFloatDownloadUrl = &quot;https://storage.googleapis.com/download.tensorflow.org/models/mobilenet_v1_2018_02_22/mobilenet_v1_1.0_224.tgz&quot;\ndef modelQuantDownloadUrl = &quot;https://storage.googleapis.com/download.tensorflow.org/models/mobilenet_v1_2018_08_02/mobilenet_v1_1.0_224_quant.tgz&quot;\ndef localCacheFloat = &quot;build/intermediates/mobilenet_v1_1.0_224.tgz&quot;\ndef localCacheQuant = &quot;build/intermediates/mmobilenet_v1_1.0_224_quant.tgz&quot;\n\n\ntask downloadModelFloat(type: DownloadUrlTask) {\n    doFirst {\n        println &quot;Downloading ${modelFloatDownloadUrl}&quot;\n    }\n    sourceUrl = &quot;${modelFloatDownloadUrl}&quot;\n    target = file(&quot;${localCacheFloat}&quot;)\n}\n\ntask downloadModelQuant(type: DownloadUrlTask) {\n    doFirst {\n        println &quot;Downloading ${modelQuantDownloadUrl}&quot;\n    }\n    sourceUrl = &quot;${modelQuantDownloadUrl}&quot;\n    target = file(&quot;${localCacheQuant}&quot;)\n}\n\ntask unzipModelFloat(type: Copy, dependsOn: 'downloadModelFloat') {\n    doFirst {\n        println &quot;Unzipping ${localCacheFloat}&quot;\n    }\n    from tarTree(&quot;${localCacheFloat}&quot;)\n    into &quot;${targetFolder}&quot;\n}\n\ntask unzipModelQuant(type: Copy, dependsOn: 'downloadModelQuant') {\n    doFirst {\n        println &quot;Unzipping ${localCacheQuant}&quot;\n    }\n    from tarTree(&quot;${localCacheQuant}&quot;)\n    into &quot;${targetFolder}&quot;\n}\n\ntask cleanUnusedFiles(type: Delete, dependsOn: ['unzipModelFloat', 'unzipModelQuant']) {\n    delete fileTree(&quot;${targetFolder}&quot;).matching {\n        include &quot;*.pb&quot;\n        include &quot;*.ckpt.*&quot;\n        include &quot;*.pbtxt.*&quot;\n        include &quot;*.quant_info.*&quot;\n        include &quot;*.meta&quot;\n    }\n}\n\n\n// Ensure the model file is downloaded and extracted before every build\npreBuild.dependsOn unzipModelFloat\npreBuild.dependsOn unzipModelQuant\npreBuild.dependsOn cleanUnusedFiles\n\n\nclass DownloadUrlTask extends DefaultTask {\n    @Input\n    String sourceUrl\n\n    @OutputFile\n    File target\n\n    @TaskAction\n    void download() {\n        ant.get(src: sourceUrl, dest: target)\n    }\n}\n</code></pre>\n"},{"tags":["java","java-stream","collectors"],"comments":[{"owner":{"account_id":16069797,"reputation":107,"user_id":11598505,"display_name":"Matt Pilaudeau"},"score":1,"creation_date":1637750623,"post_id":70094351,"comment_id":123907972,"body_markdown":"I understand you&#39;re checking if the list is not null, but you don&#39;t check if each Object in the list is not null. Add a filter(Objects::nonNull) before your collect to ensure that each Object is not null","body":"I understand you&#39;re checking if the list is not null, but you don&#39;t check if each Object in the list is not null. Add a filter(Objects::nonNull) before your collect to ensure that each Object is not null"},{"owner":{"account_id":13666900,"reputation":35,"user_id":9860584,"display_name":"zihao Q"},"score":0,"creation_date":1637804759,"post_id":70094351,"comment_id":123926468,"body_markdown":"thanks for your reply, it helps me to learn the use of filter.\n i&#39;ve done your way to ensure that each Object in list is not null, but the sonarLint still keeps telling me that the way i use to get hashmap might be null. maybe i did not make it very clear: the sonarLint is not saying the method i use might caught NPE, it tells me the method i use might return null.","body":"thanks for your reply, it helps me to learn the use of filter.  i&#39;ve done your way to ensure that each Object in list is not null, but the sonarLint still keeps telling me that the way i use to get hashmap might be null. maybe i did not make it very clear: the sonarLint is not saying the method i use might caught NPE, it tells me the method i use might return null."}],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637827621,"creation_date":1637827621,"answer_id":70107663,"question_id":70094351,"body_markdown":"No, it won&#39;t. The whole collection framework is build in ways to ensure that you don&#39;t end up with null where some empty collection could be provided instead. \r\n\r\nSo: the **collector** will not return null.\r\n\r\nBut: depending on your context, `obj.getField()` might return null. And there are conditions where collection methods throw NPEs for null **keys**.\r\n","title":"will objectList.stream().collect(Collectors.toMap(Object::getField, Function.identity)) return null?","body":"<p>No, it won't. The whole collection framework is build in ways to ensure that you don't end up with null where some empty collection could be provided instead.</p>\n<p>So: the <strong>collector</strong> will not return null.</p>\n<p>But: depending on your context, <code>obj.getField()</code> might return null. And there are conditions where collection methods throw NPEs for null <strong>keys</strong>.</p>\n"},{"tags":[],"owner":{"account_id":277326,"reputation":919,"user_id":2182920,"display_name":"prost&#253; člověk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637827895,"creation_date":1637827895,"answer_id":70107723,"question_id":70094351,"body_markdown":"your code is good to handle not null, might be worth to visit the sonar rule, and also refer the [https://stackoverflow.com/questions/63259739/check-condition-inside-lambda-expression-using-stream-api-has-sonarqube-issues][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/63259739/check-condition-inside-lambda-expression-using-stream-api-has-sonarqube-issues","title":"will objectList.stream().collect(Collectors.toMap(Object::getField, Function.identity)) return null?","body":"<p>your code is good to handle not null, might be worth to visit the sonar rule, and also refer the <a href=\"https://stackoverflow.com/questions/63259739/check-condition-inside-lambda-expression-using-stream-api-has-sonarqube-issues\">Check condition inside lambda expression using Stream API has SonarQube issues</a></p>\n"}],"owner":{"account_id":13666900,"reputation":35,"user_id":9860584,"display_name":"zihao Q"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70107663,"answer_count":2,"score":2,"last_activity_date":1637827895,"creation_date":1637749264,"question_id":70094351,"body_markdown":"i&#39;ve got a list form DB, then i use the function above to translate it to a hashMap(already check out this list is not null or emptiy). but the sonarLint keeps telling me that the function above might return null, and it might caught NPE. And when i use enhanced for loop, the warning will disappear.\r\n\r\ni can&#39;t find out why eventualy, hope you help me out of here.\r\nThanks a lot.\r\n\r\nthe code below that sonarLint says might return null:\r\n\r\n&gt;```java\r\n&gt;return objectList.stream().filter(Objects::nonNull).collect(Collectors.toMap(Object::getField, Function.identity()));\r\n\r\nthe code below that sonarLint says it&#39;s ok:\r\n&gt;```java\r\n&gt;    Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n&gt;    for(Object obj : ObjectList) {\r\n&gt;        map.put(obj.getField(), obj);\r\n&gt;    }\r\n&gt;    return map;","title":"will objectList.stream().collect(Collectors.toMap(Object::getField, Function.identity)) return null?","body":"<p>i've got a list form DB, then i use the function above to translate it to a hashMap(already check out this list is not null or emptiy). but the sonarLint keeps telling me that the function above might return null, and it might caught NPE. And when i use enhanced for loop, the warning will disappear.</p>\n<p>i can't find out why eventualy, hope you help me out of here.\nThanks a lot.</p>\n<p>the code below that sonarLint says might return null:</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>return objectList.stream().filter(Objects::nonNull).collect(Collectors.toMap(Object::getField, Function.identity()));\n</code></pre>\n</blockquote>\n<p>the code below that sonarLint says it's ok:</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>   Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n   for(Object obj : ObjectList) {\n       map.put(obj.getField(), obj);\n   }\n   return map;\n</code></pre>\n</blockquote>\n"},{"tags":["java","scala","jdbc"],"owner":{"account_id":5709218,"reputation":11,"user_id":4511795,"display_name":"apoorva kulkarni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637827413,"creation_date":1637827413,"question_id":70107627,"body_markdown":"I am new to Scala and my scala code is using &#39;`import acolyte.jdbc.RowLists`&#39; structure as below with total 52 values.\r\n\r\n    val ROWLIST = RowLists.rowList52(\r\n        classOf[String] -&gt; &quot;ABC&quot;,\r\n        classOf[String] -&gt; &quot;BCD&quot;,\r\n        classOf[String] -&gt; &quot;PQR&quot;,\r\n        classOf[String] -&gt; &quot;STU&quot;,\r\n        classOf[String] -&gt; &quot;LMS&quot;,....)\r\n\r\nIf I add more values now, it gives me error as below,\r\n\r\n        [error] overloaded method value rowList52 with alternatives:\r\n    [error]   [A, B, C, D, E, F, G, H, I, J, K, L, M, N, O, P, Q, R, S, T, U, V, W, X, Y, Z, AA, AB, AC, AD, AE, AF, AG, AH, AI, AJ, AK, AL, AM, AN, AO, AP, AQ, AR, AS, AT, AU, AV, AW, AX, AY, AZ](x$1: acolyte.jdbc.Column[A], x$2: acolyte.jdbc.Column[B], x$3: acolyte.jdbc.Column[C], x$4: acolyte.jdbc.Column[D], x$5: acolyte.jdbc.Column[E], x$6: acolyte.jdbc.Column[F], x$7: acolyte.jdbc.Column[G], x$8: acolyte.jdbc.Column[H], x$9: acolyte.jdbc.Column[I], x$10: acolyte.jdbc.Column[J], x$11: acolyte.jdbc.Column[K], x$12: acolyte.jdbc.Column[L], x$13: acolyte.jdbc.Column[M], x$14: acolyte.jdbc.Column[N], x$15: acolyte.jdbc.Column[O], x$16: acolyte.jdbc.Column[P], x$17: acolyte.jdbc.Column[Q], x$18: acolyte.jdbc.Column[R], x$19: acolyte.jdbc.Column[S], x$20: acolyte.jdbc.Column[T], x$21: acolyte.jdbc.Column[U], x$22: acolyte.jdbc.Column[V], x$23: acolyte.jdbc.Column[W], x$24: acolyte.jdbc.Column[X], x$25: acolyte.jdbc.Column[Y], x$26: acolyte.jdbc.Column[Z], x$27: acolyte.jdbc.Column[AA], x$28: acolyte.jdbc.Column[AB], x$29: acolyte.jdbc.Column[AC], x$30: acolyte.jdbc.Column[AD], x$31: acolyte.jdbc.Column[AE], x$32: acolyte.jdbc.Column[AF], x$33: acolyte.jdbc.Column[AG], x$34: acolyte.jdbc.Column[AH], x$35: acolyte.jdbc.Column[AI], x$36: acolyte.jdbc.Column[AJ], x$37: acolyte.jdbc.Column[AK], x$38: acolyte.jdbc.Column[AL], x$39: acolyte.jdbc.Column[AM], x$40: acolyte.jdbc.Column[AN], x$41: acolyte.jdbc.Column[AO], x$42: acolyte.jdbc.Column[AP], x$43: acolyte.jdbc.Column[AQ], x$44: acolyte.jdbc.Column[AR], x$45: acolyte.jdbc.Column[AS], x$46: acolyte.jdbc.Column[AT], x$47: acolyte.jdbc.Column[AU], x$48: acolyte.jdbc.Column[AV], x$49: acolyte.jdbc.Column[AW], x$50: acolyte.jdbc.Column[AX], x$51: acolyte.jdbc.Column[AY], x$52: acolyte.jdbc.Column[AZ])acolyte.jdbc.RowList52.Impl[A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,AA,AB,AC,AD,AE,AF,AG,AH,AI,AJ,AK,AL,AM,AN,AO,AP,AQ,AR,AS,AT,AU,AV,AW,AX,AY,AZ] &lt;and&gt;\r\n    [error]   [A, B, C, D, E, F, G, H, I, J, K, L, M, N, O, P, Q, R, S, T, U, V, W, X, Y, Z, AA, AB, AC, AD, AE, AF, AG, AH, AI, AJ, AK, AL, AM, AN, AO, AP, AQ, AR, AS, AT, AU, AV, AW, AX, AY, AZ](x$1: Class[A], x$2: Class[B], x$3: Class[C], x$4: Class[D], x$5: Class[E], x$6: Class[F], x$7: Class[G], x$8: Class[H], x$9: Class[I], x$10: Class[J], x$11: Class[K], x$12: Class[L], x$13: Class[M], x$14: Class[N], x$15: Class[O], x$16: Class[P], x$17: Class[Q], x$18: Class[R], x$19: Class[S], x$20: Class[T], x$21: Class[U], x$22: Class[V], x$23: Class[W], x$24: Class[X], x$25: Class[Y], x$26: Class[Z], x$27: Class[AA], x$28: Class[AB], x$29: Class[AC], x$30: Class[AD], x$31: Class[AE], x$32: Class[AF], x$33: Class[AG], x$34: Class[AH], x$35: Class[AI], x$36: Class[AJ], x$37: Class[AK], x$38: Class[AL], x$39: Class[AM], x$40: Class[AN], x$41: Class[AO], x$42: Class[AP], x$43: Class[AQ], x$44: Class[AR], x$45: Class[AS], x$46: Class[AT], x$47: Class[AU], x$48: Class[AV], x$49: Class[AW], x$50: Class[AX], x$51: Class[AY], x$52: Class[AZ])acolyte.jdbc.RowList52.Impl[A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,AA,AB,AC,AD,AE,AF,AG,AH,AI,AJ,AK,AL,AM,AN,AO,AP,AQ,AR,AS,AT,AU,AV,AW,AX,AY,AZ]\r\n    [error]  cannot be applied to ((Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[Integer], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String))\r\n    [error]   val ROWLIST = RowLists.rowList52(\r\n    [error] \r\n\r\n**Question** - I wish to add more values to it. Is there a way to accomplish it?","title":"Overloaded method value rowList52 error in scala","body":"<p>I am new to Scala and my scala code is using '<code>import acolyte.jdbc.RowLists</code>' structure as below with total 52 values.</p>\n<pre><code>val ROWLIST = RowLists.rowList52(\n    classOf[String] -&gt; &quot;ABC&quot;,\n    classOf[String] -&gt; &quot;BCD&quot;,\n    classOf[String] -&gt; &quot;PQR&quot;,\n    classOf[String] -&gt; &quot;STU&quot;,\n    classOf[String] -&gt; &quot;LMS&quot;,....)\n</code></pre>\n<p>If I add more values now, it gives me error as below,</p>\n<pre><code>    [error] overloaded method value rowList52 with alternatives:\n[error]   [A, B, C, D, E, F, G, H, I, J, K, L, M, N, O, P, Q, R, S, T, U, V, W, X, Y, Z, AA, AB, AC, AD, AE, AF, AG, AH, AI, AJ, AK, AL, AM, AN, AO, AP, AQ, AR, AS, AT, AU, AV, AW, AX, AY, AZ](x$1: acolyte.jdbc.Column[A], x$2: acolyte.jdbc.Column[B], x$3: acolyte.jdbc.Column[C], x$4: acolyte.jdbc.Column[D], x$5: acolyte.jdbc.Column[E], x$6: acolyte.jdbc.Column[F], x$7: acolyte.jdbc.Column[G], x$8: acolyte.jdbc.Column[H], x$9: acolyte.jdbc.Column[I], x$10: acolyte.jdbc.Column[J], x$11: acolyte.jdbc.Column[K], x$12: acolyte.jdbc.Column[L], x$13: acolyte.jdbc.Column[M], x$14: acolyte.jdbc.Column[N], x$15: acolyte.jdbc.Column[O], x$16: acolyte.jdbc.Column[P], x$17: acolyte.jdbc.Column[Q], x$18: acolyte.jdbc.Column[R], x$19: acolyte.jdbc.Column[S], x$20: acolyte.jdbc.Column[T], x$21: acolyte.jdbc.Column[U], x$22: acolyte.jdbc.Column[V], x$23: acolyte.jdbc.Column[W], x$24: acolyte.jdbc.Column[X], x$25: acolyte.jdbc.Column[Y], x$26: acolyte.jdbc.Column[Z], x$27: acolyte.jdbc.Column[AA], x$28: acolyte.jdbc.Column[AB], x$29: acolyte.jdbc.Column[AC], x$30: acolyte.jdbc.Column[AD], x$31: acolyte.jdbc.Column[AE], x$32: acolyte.jdbc.Column[AF], x$33: acolyte.jdbc.Column[AG], x$34: acolyte.jdbc.Column[AH], x$35: acolyte.jdbc.Column[AI], x$36: acolyte.jdbc.Column[AJ], x$37: acolyte.jdbc.Column[AK], x$38: acolyte.jdbc.Column[AL], x$39: acolyte.jdbc.Column[AM], x$40: acolyte.jdbc.Column[AN], x$41: acolyte.jdbc.Column[AO], x$42: acolyte.jdbc.Column[AP], x$43: acolyte.jdbc.Column[AQ], x$44: acolyte.jdbc.Column[AR], x$45: acolyte.jdbc.Column[AS], x$46: acolyte.jdbc.Column[AT], x$47: acolyte.jdbc.Column[AU], x$48: acolyte.jdbc.Column[AV], x$49: acolyte.jdbc.Column[AW], x$50: acolyte.jdbc.Column[AX], x$51: acolyte.jdbc.Column[AY], x$52: acolyte.jdbc.Column[AZ])acolyte.jdbc.RowList52.Impl[A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,AA,AB,AC,AD,AE,AF,AG,AH,AI,AJ,AK,AL,AM,AN,AO,AP,AQ,AR,AS,AT,AU,AV,AW,AX,AY,AZ] &lt;and&gt;\n[error]   [A, B, C, D, E, F, G, H, I, J, K, L, M, N, O, P, Q, R, S, T, U, V, W, X, Y, Z, AA, AB, AC, AD, AE, AF, AG, AH, AI, AJ, AK, AL, AM, AN, AO, AP, AQ, AR, AS, AT, AU, AV, AW, AX, AY, AZ](x$1: Class[A], x$2: Class[B], x$3: Class[C], x$4: Class[D], x$5: Class[E], x$6: Class[F], x$7: Class[G], x$8: Class[H], x$9: Class[I], x$10: Class[J], x$11: Class[K], x$12: Class[L], x$13: Class[M], x$14: Class[N], x$15: Class[O], x$16: Class[P], x$17: Class[Q], x$18: Class[R], x$19: Class[S], x$20: Class[T], x$21: Class[U], x$22: Class[V], x$23: Class[W], x$24: Class[X], x$25: Class[Y], x$26: Class[Z], x$27: Class[AA], x$28: Class[AB], x$29: Class[AC], x$30: Class[AD], x$31: Class[AE], x$32: Class[AF], x$33: Class[AG], x$34: Class[AH], x$35: Class[AI], x$36: Class[AJ], x$37: Class[AK], x$38: Class[AL], x$39: Class[AM], x$40: Class[AN], x$41: Class[AO], x$42: Class[AP], x$43: Class[AQ], x$44: Class[AR], x$45: Class[AS], x$46: Class[AT], x$47: Class[AU], x$48: Class[AV], x$49: Class[AW], x$50: Class[AX], x$51: Class[AY], x$52: Class[AZ])acolyte.jdbc.RowList52.Impl[A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,AA,AB,AC,AD,AE,AF,AG,AH,AI,AJ,AK,AL,AM,AN,AO,AP,AQ,AR,AS,AT,AU,AV,AW,AX,AY,AZ]\n[error]  cannot be applied to ((Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[Integer], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String), (Class[String], String))\n[error]   val ROWLIST = RowLists.rowList52(\n[error] \n</code></pre>\n<p><strong>Question</strong> - I wish to add more values to it. Is there a way to accomplish it?</p>\n"},{"tags":["java","algorithm","string","search","stream"],"answers":[{"tags":[],"owner":{"account_id":9534,"reputation":4856,"user_id":17663,"accept_rate":83,"display_name":"Tetha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1241992043,"creation_date":1241992043,"answer_id":846181,"question_id":846175,"body_markdown":"Implement a sliding window. Have your buffer around, move all elements in the buffer one forward and enter a single new character in the buffer at the end. If the buffer is equal to your searched word, it is contained. \r\n\r\nOf course, if you want to make this more efficient, you can look at a way to prevent moving all elements in the buffer around, for example by having a cyclic buffer and a representation of the strings which &#39;cycles&#39; the same way the buffer does, so you only need to check for content-equality. This saves moving all elements in the buffer. ","title":"Efficient way to search a stream for a string","body":"<p>Implement a sliding window. Have your buffer around, move all elements in the buffer one forward and enter a single new character in the buffer at the end. If the buffer is equal to your searched word, it is contained. </p>\n\n<p>Of course, if you want to make this more efficient, you can look at a way to prevent moving all elements in the buffer around, for example by having a cyclic buffer and a representation of the strings which 'cycles' the same way the buffer does, so you only need to check for content-equality. This saves moving all elements in the buffer. </p>\n"},{"tags":[],"owner":{"account_id":20772,"reputation":55133,"user_id":49942,"accept_rate":80,"display_name":"ChrisW"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1241992114,"creation_date":1241992114,"answer_id":846184,"question_id":846175,"body_markdown":"I think you need to buffer a small amount at the boundary between buffers.\r\n\r\nFor example if your buffer size is 1024 and the length of the SearchString is 10, then as well as searching each 1024-byte buffer you also need to search each 18-byte transition between two buffers (9 bytes from the end of the previous buffer concatenated with 9 bytes from the start of the next buffer).","title":"Efficient way to search a stream for a string","body":"<p>I think you need to buffer a small amount at the boundary between buffers.</p>\n\n<p>For example if your buffer size is 1024 and the length of the SearchString is 10, then as well as searching each 1024-byte buffer you also need to search each 18-byte transition between two buffers (9 bytes from the end of the previous buffer concatenated with 9 bytes from the start of the next buffer).</p>\n"},{"tags":[],"owner":{"account_id":32032,"reputation":11479,"user_id":88383,"accept_rate":61,"display_name":"AlbertoPL"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1241992385,"creation_date":1241992385,"answer_id":846192,"question_id":846175,"body_markdown":"I&#39;d say switch to a character by character solution, in which case you&#39;d scan for the first character in your target text, then when you find that character increment a counter and look for the next character. Every time you don&#39;t find the next consecutive character restart the counter. It would work like this:\r\n\r\n    public boolean streamContainsString(Reader reader, String searchString) throws IOException {\r\n    char[] buffer = new char[1024];\r\n    int numCharsRead;\r\n    int count = 0;\r\n    while((numCharsRead = reader.read(buffer)) &gt; 0) {\r\n        if (buffer[numCharsRead -1] == searchString.charAt(count))\r\n            count++;\r\n        else\r\n            count = 0;\r\n        \r\n        if (count == searchString.size())    \r\n         return true;\r\n    }\r\n    return false; \r\n    }\r\n\r\nThe only problem is when you&#39;re in the middle of looking through characters... in which case there needs to be a way of remembering your count variable. I don&#39;t see an easy way of doing so except as a private variable for the whole class. In which case you would not instantiate count inside this method.","title":"Efficient way to search a stream for a string","body":"<p>I'd say switch to a character by character solution, in which case you'd scan for the first character in your target text, then when you find that character increment a counter and look for the next character. Every time you don't find the next consecutive character restart the counter. It would work like this:</p>\n\n<pre><code>public boolean streamContainsString(Reader reader, String searchString) throws IOException {\nchar[] buffer = new char[1024];\nint numCharsRead;\nint count = 0;\nwhile((numCharsRead = reader.read(buffer)) &gt; 0) {\n    if (buffer[numCharsRead -1] == searchString.charAt(count))\n        count++;\n    else\n        count = 0;\n\n    if (count == searchString.size())    \n     return true;\n}\nreturn false; \n}\n</code></pre>\n\n<p>The only problem is when you're in the middle of looking through characters... in which case there needs to be a way of remembering your count variable. I don't see an easy way of doing so except as a private variable for the whole class. In which case you would not instantiate count inside this method.</p>\n"},{"tags":[],"owner":{"account_id":1742,"reputation":42756,"user_id":2362,"accept_rate":79,"display_name":"brabster"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1242128433,"creation_date":1241992403,"answer_id":846193,"question_id":846175,"body_markdown":"This answer applied to the initial version of the question where the key was to read the stream only as far as necessary to match on a String, if that String was present. This solution would not meet the requirement to guarantee fixed memory utilisation, but may be worth considering if you have found this question and are not bound by that constraint.\r\n\r\nIf you are bound by the constant memory usage constraint, Java stores arrays of any type on the heap, and as such nulling the reference does not deallocate memory in any way; I think any solution involving arrays in a loop will consume memory on the heap and require GC. \r\n\r\n----\r\n\r\nFor simple implementation, maybe Java 5&#39;s [Scanner][1] which can accept an InputStream and use a [java.util.regex.Pattern][2] to search the input for might save you worrying about the implementation details.\r\n\r\nHere&#39;s an example of a potential implementation:\r\n\r\n    public boolean streamContainsString(Reader reader, String searchString)\r\n                throws IOException {\r\n\t      Scanner streamScanner = new Scanner(reader);\r\n\t      if (streamScanner.findWithinHorizon(searchString, 0) != null) {\r\n\t\t\treturn true;\r\n\t      } else {\r\n\t\t\treturn false;\r\n\t      }\r\n\t}\r\n\r\nI&#39;m thinking regex because it sounds like a job for a Finite State Automaton, something that starts in an initial state, changing state character by character until it either rejects the string (no match) or gets to an accept state.\r\n\r\nI think this is probably the most efficient matching logic you could use, and how you organize the reading of the information can be divorced from the matching logic for performance tuning.\r\n\r\nIt&#39;s also how regexes work.\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/Scanner.html\r\n  [2]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/regex/Pattern.html","title":"Efficient way to search a stream for a string","body":"<p>This answer applied to the initial version of the question where the key was to read the stream only as far as necessary to match on a String, if that String was present. This solution would not meet the requirement to guarantee fixed memory utilisation, but may be worth considering if you have found this question and are not bound by that constraint.</p>\n\n<p>If you are bound by the constant memory usage constraint, Java stores arrays of any type on the heap, and as such nulling the reference does not deallocate memory in any way; I think any solution involving arrays in a loop will consume memory on the heap and require GC. </p>\n\n<hr>\n\n<p>For simple implementation, maybe Java 5's <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/Scanner.html\" rel=\"nofollow noreferrer\">Scanner</a> which can accept an InputStream and use a <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">java.util.regex.Pattern</a> to search the input for might save you worrying about the implementation details.</p>\n\n<p>Here's an example of a potential implementation:</p>\n\n<pre><code>public boolean streamContainsString(Reader reader, String searchString)\n            throws IOException {\n      Scanner streamScanner = new Scanner(reader);\n      if (streamScanner.findWithinHorizon(searchString, 0) != null) {\n        return true;\n      } else {\n        return false;\n      }\n}\n</code></pre>\n\n<p>I'm thinking regex because it sounds like a job for a Finite State Automaton, something that starts in an initial state, changing state character by character until it either rejects the string (no match) or gets to an accept state.</p>\n\n<p>I think this is probably the most efficient matching logic you could use, and how you organize the reading of the information can be divorced from the matching logic for performance tuning.</p>\n\n<p>It's also how regexes work.</p>\n"},{"tags":[],"owner":{"account_id":26351,"reputation":2448,"user_id":68495,"accept_rate":80,"display_name":"Alex"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1241992545,"creation_date":1241992545,"answer_id":846196,"question_id":846175,"body_markdown":"You can increase the speed of search for very large strings by using some [string search algorithm][1]\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/String_searching_algorithm","title":"Efficient way to search a stream for a string","body":"<p>You can increase the speed of search for very large strings by using some <a href=\"http://en.wikipedia.org/wiki/String_searching_algorithm\" rel=\"nofollow noreferrer\">string search algorithm</a></p>\n"},{"tags":[],"owner":{"account_id":30558,"reputation":401,"user_id":83365,"display_name":"deverton"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1241994600,"creation_date":1241994600,"answer_id":846242,"question_id":846175,"body_markdown":"If you&#39;re not tied to using a Reader, then you can use Java&#39;s NIO API to efficiently load the file. For example (untested, but should be close to working):\r\n\r\n    public boolean streamContainsString(File input, String searchString) throws IOException {\r\n        Pattern pattern = Pattern.compile(Pattern.quote(searchString));\r\n        \r\n        FileInputStream fis = new FileInputStream(input);\r\n        FileChannel fc = fis.getChannel();\r\n\r\n        int sz = (int) fc.size();\r\n        MappedByteBuffer bb = fc.map(FileChannel.MapMode.READ_ONLY, 0, sz);\r\n\r\n        CharsetDecoder decoder = Charset.forName(&quot;UTF-8&quot;).newDecoder();\r\n        CharBuffer cb = decoder.decode(bb);\r\n\r\n        Matcher matcher = pattern.matcher(cb);\r\n        \r\n        return matcher.matches();\r\n    }\r\n\r\nThis basically mmap()&#39;s the file to search and relies on the operating system to do the right thing regarding cache and memory usage. Note however that map() is more expensive the just reading the file in to a large buffer for files less than around 10 KiB.","title":"Efficient way to search a stream for a string","body":"<p>If you're not tied to using a Reader, then you can use Java's NIO API to efficiently load the file. For example (untested, but should be close to working):</p>\n\n<pre><code>public boolean streamContainsString(File input, String searchString) throws IOException {\n    Pattern pattern = Pattern.compile(Pattern.quote(searchString));\n\n    FileInputStream fis = new FileInputStream(input);\n    FileChannel fc = fis.getChannel();\n\n    int sz = (int) fc.size();\n    MappedByteBuffer bb = fc.map(FileChannel.MapMode.READ_ONLY, 0, sz);\n\n    CharsetDecoder decoder = Charset.forName(\"UTF-8\").newDecoder();\n    CharBuffer cb = decoder.decode(bb);\n\n    Matcher matcher = pattern.matcher(cb);\n\n    return matcher.matches();\n}\n</code></pre>\n\n<p>This basically mmap()'s the file to search and relies on the operating system to do the right thing regarding cache and memory usage. Note however that map() is more expensive the just reading the file in to a large buffer for files less than around 10 KiB.</p>\n"},{"tags":[],"owner":{"display_name":"Mike"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1242014451,"creation_date":1242014451,"answer_id":846681,"question_id":846175,"body_markdown":"If you&#39;re looking for a constant substring rather than a regex, I&#39;d recommend Boyer-Moore.  There&#39;s plenty of source code on the internet.\r\n\r\nAlso, use a circular buffer, to avoid think too hard about buffer boundaries.\r\n\r\nMike.\r\n\r\n","title":"Efficient way to search a stream for a string","body":"<p>If you're looking for a constant substring rather than a regex, I'd recommend Boyer-Moore.  There's plenty of source code on the internet.</p>\n\n<p>Also, use a circular buffer, to avoid think too hard about buffer boundaries.</p>\n\n<p>Mike.</p>\n"},{"tags":[],"owner":{"account_id":18251,"reputation":199514,"user_id":41661,"accept_rate":65,"display_name":"Norman Ramsey"},"down_vote_count":2,"up_vote_count":16,"is_accepted":false,"score":14,"last_activity_date":1242016993,"creation_date":1242016993,"answer_id":846728,"question_id":846175,"body_markdown":"There are three good solutions here:\r\n\r\n  1. If you want something that is easy and reasonably fast, go with no buffer, and instead implement a simple nondeterminstic finite-state machine.  Your state will be a list of indices into the string you are searching, and your logic looks something like this (pseudocode):\r\n\r\n        String needle;\r\n        n = needle.length();\r\n\r\n        for every input character c do\r\n          add index 0 to the list\r\n          for every index i in the list do\r\n            if c == needle[i] then\r\n              if i + 1 == n then\r\n                return true\r\n              else\r\n                replace i in the list with i + 1\r\n              end\r\n            else\r\n              remove i from the list\r\n            end\r\n          end\r\n        end\r\n\r\n    This will find the string if it exists and you will never need a\r\n    buffer.\r\n\r\n  1. Slightly more work but also faster: do an NFA-to-DFA conversion that figures out in advance what lists of indices are possible, and assign each one to a small integer.  (If you read about string search on Wikipedia, this is called the *powerset construction*.)  Then you have a single state and you make a state-to-state transition on each incoming character.  The NFA you want is just the DFA for the string preceded with a state that nondeterministically either drops a character or tries to consume the current character.  You&#39;ll want an explicit error state as well.\r\n\r\n  1. If you want something faster, create a buffer whose size is at least twice `n`, and user Boyer-Moore to compile a state machine from `needle`.  You&#39;ll have a lot of extra hassle because Boyer-Moore is not trivial to implement (although you&#39;ll find code online) and because you&#39;ll have to arrange to slide the string through the buffer. You&#39;ll have to build or find a *circular* buffer that can &#39;slide&#39; without copying; otherwise you&#39;re likely to give back any performance gains you might get from Boyer-Moore.\r\n","title":"Efficient way to search a stream for a string","body":"<p>There are three good solutions here:</p>\n\n<ol>\n<li><p>If you want something that is easy and reasonably fast, go with no buffer, and instead implement a simple nondeterminstic finite-state machine.  Your state will be a list of indices into the string you are searching, and your logic looks something like this (pseudocode):</p>\n\n<pre><code>String needle;\nn = needle.length();\n\nfor every input character c do\n  add index 0 to the list\n  for every index i in the list do\n    if c == needle[i] then\n      if i + 1 == n then\n        return true\n      else\n        replace i in the list with i + 1\n      end\n    else\n      remove i from the list\n    end\n  end\nend\n</code></pre>\n\n<p>This will find the string if it exists and you will never need a\nbuffer.</p></li>\n<li><p>Slightly more work but also faster: do an NFA-to-DFA conversion that figures out in advance what lists of indices are possible, and assign each one to a small integer.  (If you read about string search on Wikipedia, this is called the <em>powerset construction</em>.)  Then you have a single state and you make a state-to-state transition on each incoming character.  The NFA you want is just the DFA for the string preceded with a state that nondeterministically either drops a character or tries to consume the current character.  You'll want an explicit error state as well.</p></li>\n<li><p>If you want something faster, create a buffer whose size is at least twice <code>n</code>, and user Boyer-Moore to compile a state machine from <code>needle</code>.  You'll have a lot of extra hassle because Boyer-Moore is not trivial to implement (although you'll find code online) and because you'll have to arrange to slide the string through the buffer. You'll have to build or find a <em>circular</em> buffer that can 'slide' without copying; otherwise you're likely to give back any performance gains you might get from Boyer-Moore.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":18251,"reputation":199514,"user_id":41661,"accept_rate":65,"display_name":"Norman Ramsey"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1242017353,"creation_date":1242017353,"answer_id":846737,"question_id":846175,"body_markdown":"Instead of having your buffer be an array, use an abstraction that implements a **circular buffer**.  Your index calculation will be `buf[(next+i) % sizeof(buf)]`, and you&#39;ll have to be careful to full the buffer one-half at a time.  But as long as the search string fits in half the buffer, you&#39;ll find it. ","title":"Efficient way to search a stream for a string","body":"<p>Instead of having your buffer be an array, use an abstraction that implements a <strong>circular buffer</strong>.  Your index calculation will be <code>buf[(next+i) % sizeof(buf)]</code>, and you'll have to be careful to full the buffer one-half at a time.  But as long as the search string fits in half the buffer, you'll find it. </p>\n"},{"tags":[],"owner":{"account_id":13447,"reputation":14956,"user_id":27024,"display_name":"Darius Bacon"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1242018927,"creation_date":1242018085,"answer_id":846759,"question_id":846175,"body_markdown":"The [Knuth-Morris-Pratt search algorithm][1] never backs up; this is just the property you want for your stream search. I&#39;ve used it before for this problem, though there may be easier ways using available Java libraries. (When this came up for me I was working in C in the 90s.)\r\n\r\nKMP in essence is a fast way to build a string-matching DFA, like Norman Ramsey&#39;s suggestion #2.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/KMP_algorithm","title":"Efficient way to search a stream for a string","body":"<p>The <a href=\"http://en.wikipedia.org/wiki/KMP_algorithm\" rel=\"noreferrer\">Knuth-Morris-Pratt search algorithm</a> never backs up; this is just the property you want for your stream search. I've used it before for this problem, though there may be easier ways using available Java libraries. (When this came up for me I was working in C in the 90s.)</p>\n\n<p>KMP in essence is a fast way to build a string-matching DFA, like Norman Ramsey's suggestion #2.</p>\n"},{"tags":[],"owner":{"account_id":7090,"reputation":54514,"user_id":12149,"accept_rate":66,"display_name":"Alex Spurling"},"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1358278429,"creation_date":1242077314,"answer_id":850173,"question_id":846175,"body_markdown":"I believe the best solution to this problem is to try to keep it simple. Remember, beacause I&#39;m reading from a stream, I want to keep the number of reads from the stream to a minimum (as network or disk latency may be an issue) while keeping the amount of memory used constant (as the stream may be very large in size). Actual efficiency of the string matching is not the number one goal (as that has been [studied to death][1] already).\r\n\r\nBased on AlbertoPL&#39;s suggestion, here&#39;s a simple solution that compares the buffer against the search string character by character. The key is that because the search is only done one character at a time, no back tracking is needed and therefore no circular buffers, or buffers of a particular size are needed.\r\n\r\nNow, if someone can come up with a similar implementation based on [Knuth-Morris-Pratt search algorithm][2] then we&#39;d have a nice efficient solution ;)\r\n\r\n    public boolean streamContainsString(Reader reader, String searchString) throws IOException {\r\n        char[] buffer = new char[1024];\r\n        int numCharsRead;\r\n        int count = 0;\r\n        while((numCharsRead = reader.read(buffer)) &gt; 0) {\r\n            for (int c = 0; c &lt; numCharsRead; c++) {\r\n                if (buffer[c] == searchString.charAt(count))\r\n    \t            count++;\r\n                else\r\n                    count = 0;\r\n                if (count == searchString.length()) return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/String_searching_algorithm\r\n  [2]: http://en.wikipedia.org/wiki/KMP%5Falgorithm","title":"Efficient way to search a stream for a string","body":"<p>I believe the best solution to this problem is to try to keep it simple. Remember, beacause I'm reading from a stream, I want to keep the number of reads from the stream to a minimum (as network or disk latency may be an issue) while keeping the amount of memory used constant (as the stream may be very large in size). Actual efficiency of the string matching is not the number one goal (as that has been <a href=\"http://en.wikipedia.org/wiki/String_searching_algorithm\" rel=\"nofollow noreferrer\">studied to death</a> already).</p>\n\n<p>Based on AlbertoPL's suggestion, here's a simple solution that compares the buffer against the search string character by character. The key is that because the search is only done one character at a time, no back tracking is needed and therefore no circular buffers, or buffers of a particular size are needed.</p>\n\n<p>Now, if someone can come up with a similar implementation based on <a href=\"http://en.wikipedia.org/wiki/KMP%5Falgorithm\" rel=\"nofollow noreferrer\">Knuth-Morris-Pratt search algorithm</a> then we'd have a nice efficient solution ;)</p>\n\n<pre><code>public boolean streamContainsString(Reader reader, String searchString) throws IOException {\n    char[] buffer = new char[1024];\n    int numCharsRead;\n    int count = 0;\n    while((numCharsRead = reader.read(buffer)) &gt; 0) {\n        for (int c = 0; c &lt; numCharsRead; c++) {\n            if (buffer[c] == searchString.charAt(count))\n                count++;\n            else\n                count = 0;\n            if (count == searchString.length()) return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":252397,"reputation":534,"user_id":530414,"display_name":"dmitriykovalev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1342808448,"creation_date":1342808448,"answer_id":11584889,"question_id":846175,"body_markdown":"I also had a similar problem: skip bytes from the InputStream until specified string (or byte array). This is the simple code based on circular buffer. It is not very efficient but works for my needs:\r\n\r\n      private static boolean matches(int[] buffer, int offset, byte[] search) {\r\n        final int len = buffer.length;\r\n        for (int i = 0; i &lt; len; ++i) {\r\n          if (search[i] != buffer[(offset + i) % len]) {\r\n            return false;\r\n          }\r\n        }\r\n        return true;\r\n      }\r\n    \r\n      public static void skipBytes(InputStream stream, byte[] search) throws IOException {\r\n        final int[] buffer = new int[search.length];\r\n        for (int i = 0; i &lt; search.length; ++i) {\r\n          buffer[i] = stream.read();\r\n        }\r\n    \r\n        int offset = 0;\r\n        while (true) {\r\n          if (matches(buffer, offset, search)) {\r\n            break;\r\n          }\r\n          buffer[offset] = stream.read();\r\n          offset = (offset + 1) % buffer.length;\r\n        }\r\n      }","title":"Efficient way to search a stream for a string","body":"<p>I also had a similar problem: skip bytes from the InputStream until specified string (or byte array). This is the simple code based on circular buffer. It is not very efficient but works for my needs:</p>\n\n<pre><code>  private static boolean matches(int[] buffer, int offset, byte[] search) {\n    final int len = buffer.length;\n    for (int i = 0; i &lt; len; ++i) {\n      if (search[i] != buffer[(offset + i) % len]) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  public static void skipBytes(InputStream stream, byte[] search) throws IOException {\n    final int[] buffer = new int[search.length];\n    for (int i = 0; i &lt; search.length; ++i) {\n      buffer[i] = stream.read();\n    }\n\n    int offset = 0;\n    while (true) {\n      if (matches(buffer, offset, search)) {\n        break;\n      }\n      buffer[offset] = stream.read();\n      offset = (offset + 1) % buffer.length;\n    }\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2266682,"reputation":35,"user_id":1995159,"display_name":"pop"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1358707369,"creation_date":1358707369,"answer_id":14427909,"question_id":846175,"body_markdown":"A very fast searching of a stream is implemented in the RingBuffer class from the Ujorm framework. See the sample:\r\n\r\n     Reader reader = RingBuffer.createReader(&quot;xxx ${abc} ${def} zzz&quot;);\r\n\r\n     String word1 = RingBuffer.findWord(reader, &quot;${&quot;, &quot;}&quot;);\r\n     assertEquals(&quot;abc&quot;, word1);\r\n\r\n     String word2 = RingBuffer.findWord(reader, &quot;${&quot;, &quot;}&quot;);\r\n     assertEquals(&quot;def&quot;, word2);\r\n\r\n     String word3 = RingBuffer.findWord(reader, &quot;${&quot;, &quot;}&quot;);\r\n     assertEquals(&quot;&quot;, word3);\r\n\r\nThe single class implementation is available on the [SourceForge][2]:\r\nFor more information see the [link][3].\r\n\r\n\r\n  [2]: http://ujoframework.svn.sourceforge.net/viewvc/ujoframework/trunk/project-m2/ujo-core/src/main/java/org/ujorm/core/RingBuffer.java?view=markup\r\n  [3]: http://ujorm.org/javadoc/org/ujorm/package-summary.html#RingBuffer","title":"Efficient way to search a stream for a string","body":"<p>A very fast searching of a stream is implemented in the RingBuffer class from the Ujorm framework. See the sample:</p>\n\n<pre><code> Reader reader = RingBuffer.createReader(\"xxx ${abc} ${def} zzz\");\n\n String word1 = RingBuffer.findWord(reader, \"${\", \"}\");\n assertEquals(\"abc\", word1);\n\n String word2 = RingBuffer.findWord(reader, \"${\", \"}\");\n assertEquals(\"def\", word2);\n\n String word3 = RingBuffer.findWord(reader, \"${\", \"}\");\n assertEquals(\"\", word3);\n</code></pre>\n\n<p>The single class implementation is available on the <a href=\"http://ujoframework.svn.sourceforge.net/viewvc/ujoframework/trunk/project-m2/ujo-core/src/main/java/org/ujorm/core/RingBuffer.java?view=markup\" rel=\"nofollow\">SourceForge</a>:\nFor more information see the <a href=\"http://ujorm.org/javadoc/org/ujorm/package-summary.html#RingBuffer\" rel=\"nofollow\">link</a>.</p>\n"},{"tags":[],"owner":{"account_id":31996,"reputation":3250,"user_id":88231,"accept_rate":60,"display_name":"sw."},"down_vote_count":1,"up_vote_count":12,"is_accepted":true,"score":11,"last_activity_date":1394722634,"creation_date":1358805333,"answer_id":14447941,"question_id":846175,"body_markdown":"I did a few changes to the Knuth Morris Pratt algorithm for partial searches. Since the actual comparison position is always less or equal than the next one there is no need for extra memory. The code with a Makefile is also available on [github][1] and it is written in Haxe to target multiple programming languages at once, including Java.\r\n\r\nI also wrote a related article: [searching for substrings in streams: a slight modification of the Knuth-Morris-Pratt algorithm in Haxe][2]. The article mentions the [Jakarta RegExp][3], now retired and resting in the Apache Attic. The Jakarta Regexp library “[match][4]” method in the RE class uses a CharacterIterator as a parameter.\r\n\r\n\r\n    class StreamOrientedKnuthMorrisPratt {\r\n    \tvar m: Int;\r\n    \tvar i: Int;\r\n    \tvar ss:\r\n    \tvar table: Array&lt;Int&gt;;\r\n    \r\n    \tpublic function new(ss: String) {\r\n    \t\tthis.ss = ss;\r\n    \t\tthis.buildTable(this.ss);\r\n    \t}\r\n    \r\n    \tpublic function begin() : Void {\r\n    \t\tthis.m = 0;\r\n    \t\tthis.i = 0;\r\n    \t}\r\n    \r\n    \tpublic function partialSearch(s: String) : Int {\r\n    \t\tvar offset = this.m + this.i;\r\n    \r\n    \t\twhile(this.m + this.i - offset &lt; s.length) {\r\n    \t\t\tif(this.ss.substr(this.i, 1) == s.substr(this.m + this.i - offset,1)) {\r\n    \t\t\t\tif(this.i == this.ss.length - 1) {\r\n    \t\t\t\t\treturn this.m;\r\n    \t\t\t\t}\r\n    \t\t\t\tthis.i += 1;\r\n    \t\t\t} else {\r\n    \t\t\t\tthis.m += this.i - this.table[this.i];\r\n    \t\t\t\tif(this.table[this.i] &gt; -1)\r\n    \t\t\t\t\tthis.i = this.table[this.i];\r\n    \t\t\t\telse\r\n    \t\t\t\t\tthis.i = 0;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\treturn -1;\r\n    \t}\r\n    \r\n    \tprivate function buildTable(ss: String) : Void {\r\n    \t\tvar pos = 2;\r\n    \t\tvar cnd = 0;\r\n    \r\n    \t\tthis.table = new Array&lt;Int&gt;();\r\n    \t\tif(ss.length &gt; 2)\r\n    \t\t\tthis.table.insert(ss.length, 0);\r\n    \t\telse\r\n    \t\t\tthis.table.insert(2, 0);\r\n    \r\n    \t\tthis.table[0] = -1;\r\n    \t\tthis.table[1] = 0;\r\n    \r\n    \t\twhile(pos &lt; ss.length) {\r\n    \t\t\tif(ss.substr(pos-1,1) == ss.substr(cnd, 1))\r\n    \t\t\t{\r\n    \t\t\t\tcnd += 1;\r\n    \t\t\t\tthis.table[pos] = cnd;\r\n    \t\t\t\tpos += 1;\r\n    \t\t\t} else if(cnd &gt; 0) {\r\n    \t\t\t\tcnd = this.table[cnd];\r\n    \t\t\t} else {\r\n    \t\t\t\tthis.table[pos] = 0;\r\n    \t\t\t\tpos += 1;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static function main() {\r\n    \t\tvar KMP = new StreamOrientedKnuthMorrisPratt(&quot;aa&quot;);\r\n    \t\tKMP.begin();\r\n    \t\ttrace(KMP.partialSearch(&quot;ccaabb&quot;));\r\n    \r\n    \t\tKMP.begin();\r\n    \t\ttrace(KMP.partialSearch(&quot;ccarbb&quot;));\r\n    \t\ttrace(KMP.partialSearch(&quot;fgaabb&quot;));\r\n    \r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: https://github.com/databigbang/stream-oriented-knuth-morris-pratt\r\n  [2]: http://blog.databigbang.com/searching-for-substrings-in-streams-a-slight-modification-of-the-knuth-morris-pratt-algorithm-in-haxe/\r\n  [3]: http://jakarta.apache.org/regexp/\r\n  [4]: http://jakarta.apache.org/regexp/apidocs/org/apache/regexp/RE.html#match%28org.apache.regexp.CharacterIterator,%20int%29","title":"Efficient way to search a stream for a string","body":"<p>I did a few changes to the Knuth Morris Pratt algorithm for partial searches. Since the actual comparison position is always less or equal than the next one there is no need for extra memory. The code with a Makefile is also available on <a href=\"https://github.com/databigbang/stream-oriented-knuth-morris-pratt\" rel=\"noreferrer\">github</a> and it is written in Haxe to target multiple programming languages at once, including Java.</p>\n\n<p>I also wrote a related article: <a href=\"http://blog.databigbang.com/searching-for-substrings-in-streams-a-slight-modification-of-the-knuth-morris-pratt-algorithm-in-haxe/\" rel=\"noreferrer\">searching for substrings in streams: a slight modification of the Knuth-Morris-Pratt algorithm in Haxe</a>. The article mentions the <a href=\"http://jakarta.apache.org/regexp/\" rel=\"noreferrer\">Jakarta RegExp</a>, now retired and resting in the Apache Attic. The Jakarta Regexp library “<a href=\"http://jakarta.apache.org/regexp/apidocs/org/apache/regexp/RE.html#match%28org.apache.regexp.CharacterIterator,%20int%29\" rel=\"noreferrer\">match</a>” method in the RE class uses a CharacterIterator as a parameter.</p>\n\n<pre><code>class StreamOrientedKnuthMorrisPratt {\n    var m: Int;\n    var i: Int;\n    var ss:\n    var table: Array&lt;Int&gt;;\n\n    public function new(ss: String) {\n        this.ss = ss;\n        this.buildTable(this.ss);\n    }\n\n    public function begin() : Void {\n        this.m = 0;\n        this.i = 0;\n    }\n\n    public function partialSearch(s: String) : Int {\n        var offset = this.m + this.i;\n\n        while(this.m + this.i - offset &lt; s.length) {\n            if(this.ss.substr(this.i, 1) == s.substr(this.m + this.i - offset,1)) {\n                if(this.i == this.ss.length - 1) {\n                    return this.m;\n                }\n                this.i += 1;\n            } else {\n                this.m += this.i - this.table[this.i];\n                if(this.table[this.i] &gt; -1)\n                    this.i = this.table[this.i];\n                else\n                    this.i = 0;\n            }\n        }\n\n        return -1;\n    }\n\n    private function buildTable(ss: String) : Void {\n        var pos = 2;\n        var cnd = 0;\n\n        this.table = new Array&lt;Int&gt;();\n        if(ss.length &gt; 2)\n            this.table.insert(ss.length, 0);\n        else\n            this.table.insert(2, 0);\n\n        this.table[0] = -1;\n        this.table[1] = 0;\n\n        while(pos &lt; ss.length) {\n            if(ss.substr(pos-1,1) == ss.substr(cnd, 1))\n            {\n                cnd += 1;\n                this.table[pos] = cnd;\n                pos += 1;\n            } else if(cnd &gt; 0) {\n                cnd = this.table[cnd];\n            } else {\n                this.table[pos] = 0;\n                pos += 1;\n            }\n        }\n    }\n\n    public static function main() {\n        var KMP = new StreamOrientedKnuthMorrisPratt(\"aa\");\n        KMP.begin();\n        trace(KMP.partialSearch(\"ccaabb\"));\n\n        KMP.begin();\n        trace(KMP.partialSearch(\"ccarbb\"));\n        trace(KMP.partialSearch(\"fgaabb\"));\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2928393,"reputation":717,"user_id":2509279,"display_name":"rboling"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1394819301,"creation_date":1394819301,"answer_id":22412261,"question_id":846175,"body_markdown":"You might be able to implement a very fast solution using Fast Fourier Transforms, which, if implemented properly, allow you to do string matching in times O(nlog(m)), where n is the length of the longer string to be matched, and m is the length of the shorter string.  You could, for example, perform FFT as soon as you receive an stream input of length m, and if it matches, you can return, and if it doesn&#39;t match, you can throw away the first character in the stream input, wait for a new character to appear through the stream, and then perform FFT again.  ","title":"Efficient way to search a stream for a string","body":"<p>You might be able to implement a very fast solution using Fast Fourier Transforms, which, if implemented properly, allow you to do string matching in times O(nlog(m)), where n is the length of the longer string to be matched, and m is the length of the shorter string.  You could, for example, perform FFT as soon as you receive an stream input of length m, and if it matches, you can return, and if it doesn't match, you can throw away the first character in the stream input, wait for a new character to appear through the stream, and then perform FFT again.  </p>\n"},{"tags":[],"owner":{"account_id":8578289,"reputation":608,"user_id":6426900,"display_name":"Igor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637827249,"creation_date":1637747952,"answer_id":70094037,"question_id":846175,"body_markdown":"Here is my implementation:\r\n\r\n    static boolean containsKeywordInStream( Reader ir, String keyword, int bufferSize ) throws IOException{\r\n        SlidingContainsBuffer sb = new SlidingContainsBuffer( keyword );\r\n        char[] buffer = new char[ bufferSize ];\r\n        int read;\r\n        while( ( read = ir.read( buffer ) ) != -1 ){\r\n            if( sb.checkIfContains( buffer, read ) ){\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\nSlidingContainsBuffer class:\r\n\r\n    class SlidingContainsBuffer{\r\n    \r\n        private final char[] keyword;\r\n        private int keywordIndexToCheck = 0;\r\n        private boolean keywordFound = false;\r\n    \r\n        SlidingContainsBuffer( String keyword ){\r\n            this.keyword = keyword.toCharArray();\r\n        }\r\n    \r\n        boolean checkIfContains( char[] buffer, int read ){\r\n            for( int i = 0; i &lt; read; i++ ){\r\n                if( keywordFound == false ){\r\n                    if( keyword[ keywordIndexToCheck ] == buffer[ i ] ){\r\n                        keywordIndexToCheck++;\r\n                        if( keywordIndexToCheck == keyword.length ){\r\n                            keywordFound = true;\r\n                        }\r\n                    } else {\r\n                        keywordIndexToCheck = 0;\r\n                    }\r\n                } else {\r\n                    break;\r\n                }\r\n            }\r\n            return keywordFound;\r\n        }\r\n    }\r\n\r\nThis answer fully qualifies the task:\r\n1. The implementation is able to find the searched keyword even if it was split between buffers\r\n2. Minimum memory usage defined by the buffer size\r\n3. Number of reads will be minimized by using bigger buffer","title":"Efficient way to search a stream for a string","body":"<p>Here is my implementation:</p>\n<pre><code>static boolean containsKeywordInStream( Reader ir, String keyword, int bufferSize ) throws IOException{\n    SlidingContainsBuffer sb = new SlidingContainsBuffer( keyword );\n    char[] buffer = new char[ bufferSize ];\n    int read;\n    while( ( read = ir.read( buffer ) ) != -1 ){\n        if( sb.checkIfContains( buffer, read ) ){\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n<p>SlidingContainsBuffer class:</p>\n<pre><code>class SlidingContainsBuffer{\n\n    private final char[] keyword;\n    private int keywordIndexToCheck = 0;\n    private boolean keywordFound = false;\n\n    SlidingContainsBuffer( String keyword ){\n        this.keyword = keyword.toCharArray();\n    }\n\n    boolean checkIfContains( char[] buffer, int read ){\n        for( int i = 0; i &lt; read; i++ ){\n            if( keywordFound == false ){\n                if( keyword[ keywordIndexToCheck ] == buffer[ i ] ){\n                    keywordIndexToCheck++;\n                    if( keywordIndexToCheck == keyword.length ){\n                        keywordFound = true;\n                    }\n                } else {\n                    keywordIndexToCheck = 0;\n                }\n            } else {\n                break;\n            }\n        }\n        return keywordFound;\n    }\n}\n</code></pre>\n<p>This answer fully qualifies the task:</p>\n<ol>\n<li>The implementation is able to find the searched keyword even if it was split between buffers</li>\n<li>Minimum memory usage defined by the buffer size</li>\n<li>Number of reads will be minimized by using bigger buffer</li>\n</ol>\n"}],"owner":{"account_id":7090,"reputation":54514,"user_id":12149,"accept_rate":66,"display_name":"Alex Spurling"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38393,"favorite_count":0,"down_vote_count":0,"up_vote_count":53,"accepted_answer_id":14447941,"answer_count":16,"score":53,"last_activity_date":1637827249,"creation_date":1241991806,"question_id":846175,"body_markdown":"Let&#39;s suppose that have a stream of text (or Reader in Java) that I&#39;d like to check for a particular string. The stream of text might be very large so as soon as the search string is found I&#39;d like to return true and also try to avoid storing the entire input in memory.\r\n\r\nNaively, I might try to do something like this (in Java):\r\n\r\n    public boolean streamContainsString(Reader reader, String searchString) throws IOException {\r\n        char[] buffer = new char[1024];\r\n        int numCharsRead;\r\n        while((numCharsRead = reader.read(buffer)) &gt; 0) {\r\n            if ((new String(buffer, 0, numCharsRead)).indexOf(searchString) &gt;= 0)\r\n                return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\nOf course this fails to detect the given search string if it occurs on the boundary of the 1k buffer:\r\n\r\nSearch text: &quot;stackoverflow&quot;&lt;br&gt;\r\nStream buffer 1: &quot;abc.........stack&quot;&lt;br&gt;\r\nStream buffer 2: &quot;overflow.......xyz&quot;&lt;br&gt;\r\n\r\nHow can I modify this code so that it correctly finds the given search string across the boundary of the buffer but without loading the entire stream into memory?\r\n\r\n**Edit:** Note when searching a stream for a string, we&#39;re trying to **minimise the number of reads from the stream** (to avoid latency in a network/disk) and to **keep memory usage constant** regardless of the amount of data in the stream. Actual efficiency of the [string matching algorithm][1] is secondary but obviously, it would be nice to find a solution that used one of the more efficient of those algorithms.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/String_searching_algorithm","title":"Efficient way to search a stream for a string","body":"<p>Let's suppose that have a stream of text (or Reader in Java) that I'd like to check for a particular string. The stream of text might be very large so as soon as the search string is found I'd like to return true and also try to avoid storing the entire input in memory.</p>\n\n<p>Naively, I might try to do something like this (in Java):</p>\n\n<pre><code>public boolean streamContainsString(Reader reader, String searchString) throws IOException {\n    char[] buffer = new char[1024];\n    int numCharsRead;\n    while((numCharsRead = reader.read(buffer)) &gt; 0) {\n        if ((new String(buffer, 0, numCharsRead)).indexOf(searchString) &gt;= 0)\n            return true;\n    }\n    return false;\n}\n</code></pre>\n\n<p>Of course this fails to detect the given search string if it occurs on the boundary of the 1k buffer:</p>\n\n<p>Search text: \"stackoverflow\"<br>\nStream buffer 1: \"abc.........stack\"<br>\nStream buffer 2: \"overflow.......xyz\"<br></p>\n\n<p>How can I modify this code so that it correctly finds the given search string across the boundary of the buffer but without loading the entire stream into memory?</p>\n\n<p><strong>Edit:</strong> Note when searching a stream for a string, we're trying to <strong>minimise the number of reads from the stream</strong> (to avoid latency in a network/disk) and to <strong>keep memory usage constant</strong> regardless of the amount of data in the stream. Actual efficiency of the <a href=\"http://en.wikipedia.org/wiki/String_searching_algorithm\" rel=\"noreferrer\">string matching algorithm</a> is secondary but obviously, it would be nice to find a solution that used one of the more efficient of those algorithms.</p>\n"},{"tags":["java","vert.x"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":2,"creation_date":1540987249,"post_id":53079230,"comment_id":93062457,"body_markdown":"Again, how is this related to RxJava? Also calling `response.complete` a second time will have no effect. Plus, what you wanted requires blocking as Java doesn&#39;t support suspension or continuations yet.","body":"Again, how is this related to RxJava? Also calling <code>response.complete</code> a second time will have no effect. Plus, what you wanted requires blocking as Java doesn&#39;t support suspension or continuations yet."},{"owner":{"account_id":1048016,"reputation":4521,"user_id":1052610,"accept_rate":15,"display_name":"user1052610"},"score":0,"creation_date":1540995865,"post_id":53079230,"comment_id":93068085,"body_markdown":"Thanks Alfe. Is the right approach to use Vertx-Sync and wrap the call to kafkaProducer.write() in Sync.awaitResult(), or is there a better way?","body":"Thanks Alfe. Is the right approach to use Vertx-Sync and wrap the call to kafkaProducer.write() in Sync.awaitResult(), or is there a better way?"},{"owner":{"account_id":1048016,"reputation":4521,"user_id":1052610,"accept_rate":15,"display_name":"user1052610"},"score":0,"creation_date":1541004382,"post_id":53079230,"comment_id":93073657,"body_markdown":"I have tried using Single.create and have edited the question to show that, but that appears to just block indefinitely.","body":"I have tried using Single.create and have edited the question to show that, but that appears to just block indefinitely."}],"answers":[{"tags":[],"owner":{"account_id":3728723,"reputation":534,"user_id":3101811,"accept_rate":90,"display_name":"Will_Panda"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1637826797,"creation_date":1541594539,"answer_id":53189689,"question_id":53079230,"body_markdown":"You can use Vert.x [Handler][1] to handle the result of your async call. \r\nOnce the async call gets completed you can call the handler which got passed with the result.\r\n\r\nA small snippet relating to address your problem is below.\r\n\r\n    public class Test {\r\n    \r\n        public void call() {\r\n            MyClass myClass = new MyClass();\r\n    \r\n            myClass.methodTwo(f-&gt; {\r\n    \t\t\tif (f.succeeded()) {\r\n    \t\t\t\t//do something with f.result()\r\n    \t\t\t}\r\n    \t\t\telse {\r\n    \t\t\t\t//handle;\r\n    \t\t\t}\r\n    \t\t});\r\n        }\r\n    }\r\n    \r\n    public class MyClass {\r\n    \r\n        public void methodTwo(Handler&lt;AsyncResult&lt;String&gt;&gt; handler) {\r\n            KafkaProducerRecord&lt;String, String&gt; record = KafkaProducerRecord.create(...);\r\n    \r\n            //response.complete(&quot;initial value&quot;);\r\n    \r\n            kafkaProducer.write(record, done -&gt; {\r\n                if(done.succeeded()) {\r\n                    handler.handle(&quot;done&quot;);\r\n                }\r\n                else {\r\n                    handler.handle(&quot;not done&quot;);\r\n                };\r\n            );\r\n    \r\n            //return response;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://vertx.io/docs/apidocs/io/vertx/core/Handler.html","title":"Returning value from asynchronous handler to containing method","body":"<p>You can use Vert.x <a href=\"https://vertx.io/docs/apidocs/io/vertx/core/Handler.html\" rel=\"nofollow noreferrer\">Handler</a> to handle the result of your async call.\nOnce the async call gets completed you can call the handler which got passed with the result.</p>\n<p>A small snippet relating to address your problem is below.</p>\n<pre><code>public class Test {\n\n    public void call() {\n        MyClass myClass = new MyClass();\n\n        myClass.methodTwo(f-&gt; {\n            if (f.succeeded()) {\n                //do something with f.result()\n            }\n            else {\n                //handle;\n            }\n        });\n    }\n}\n\npublic class MyClass {\n\n    public void methodTwo(Handler&lt;AsyncResult&lt;String&gt;&gt; handler) {\n        KafkaProducerRecord&lt;String, String&gt; record = KafkaProducerRecord.create(...);\n\n        //response.complete(&quot;initial value&quot;);\n\n        kafkaProducer.write(record, done -&gt; {\n            if(done.succeeded()) {\n                handler.handle(&quot;done&quot;);\n            }\n            else {\n                handler.handle(&quot;not done&quot;);\n            };\n        );\n\n        //return response;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1048016,"reputation":4521,"user_id":1052610,"accept_rate":15,"display_name":"user1052610"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1846,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":53189689,"answer_count":1,"score":1,"last_activity_date":1637826797,"creation_date":1540974840,"question_id":53079230,"body_markdown":"Given the following two classes:\r\n\r\n    public class Test {\r\n\r\n    \tpublic void call() {\r\n        \tMyClass myClass = new MyClass();\r\n\r\n    \t\tmyClass.methodOne().subscribe(v -&gt; {...});\r\n    \t}\r\n    }\r\n\t\r\n    public class MyClass {\r\n    \r\n    \tpublic Observable&lt;String&gt; methodOne() {\r\n    \t\tObservable&lt;String&gt; response =  Observable.fromFuture(this.methodTwo());\r\n    \t\treturn response;\r\n    \t}\r\n    \r\n        public CompletableFuture&lt;String&gt; methodTwo() {\r\n        \tCompletableFuture&lt;String&gt; response = new CompletableFuture&lt;&gt;();\r\n           \tKafkaProducerRecord&lt;String, String&gt; record = KafkaProducerRecord.create(...);\r\n        \r\n    \t   \tresponse.complete(&quot;initial value&quot;);\r\n    \t   \r\n           \tkafkaProducer.write(record, done -&gt; {\r\n            \tif(done.succeeded()) {\r\n                \tresponse.complete(&quot;done&quot;);\r\n              \t}\r\n              \telse {\r\n                \tresponse.complete(&quot;not done&quot;);\r\n              \t};\r\n            );\r\n        \r\n            return response;\r\n        }\r\n    }\r\n\r\nWhere `kafkaProducer` is an instance of `io.vertx.kafka.client.producer.impl.KafkaProducerImpl`.\r\n\r\nThe expected behavior is that when `response.complete()` has been called in `MyClass.methodTwo()`, the `response` value will be returned from `methodTwo()` to `methodOne()`. That value will then get wrapped in a future and will be available within the handler of `subscribe` in `Test.call()`.\r\n\r\nHowever, because of the asynchronous processing `methodTwo()` will always return &quot;initial value&quot; which was set before the write method of the `vertx. kafkaProducer`.\r\n\r\nEven though at some later point `response` will be set within the handler to either &quot;done&quot; or &quot;not done&quot; that value is never returned.\r\n\r\nI have tried changing the code in `methodTwo` to the following:\r\n\r\n    AsyncResult&lt;RecordMetadata&gt; res = \r\n    Single.create((SingleEmitter&lt;AsyncResult&lt;RecordMetadata&gt;&gt; emitter) -&gt;\r\n       producer.write(record,   result -&gt; emitter.onSuccess(result)))\r\n       .blockingGet();\r\n\r\nwith the idea of then returning the value in `AsyncResult`, but this blocks indefinitely.\r\n\r\nWhat is the correct way to approach this?\r\n\r\nThanks\r\n","title":"Returning value from asynchronous handler to containing method","body":"<p>Given the following two classes:</p>\n\n<pre><code>public class Test {\n\n    public void call() {\n        MyClass myClass = new MyClass();\n\n        myClass.methodOne().subscribe(v -&gt; {...});\n    }\n}\n\npublic class MyClass {\n\n    public Observable&lt;String&gt; methodOne() {\n        Observable&lt;String&gt; response =  Observable.fromFuture(this.methodTwo());\n        return response;\n    }\n\n    public CompletableFuture&lt;String&gt; methodTwo() {\n        CompletableFuture&lt;String&gt; response = new CompletableFuture&lt;&gt;();\n        KafkaProducerRecord&lt;String, String&gt; record = KafkaProducerRecord.create(...);\n\n        response.complete(\"initial value\");\n\n        kafkaProducer.write(record, done -&gt; {\n            if(done.succeeded()) {\n                response.complete(\"done\");\n            }\n            else {\n                response.complete(\"not done\");\n            };\n        );\n\n        return response;\n    }\n}\n</code></pre>\n\n<p>Where <code>kafkaProducer</code> is an instance of <code>io.vertx.kafka.client.producer.impl.KafkaProducerImpl</code>.</p>\n\n<p>The expected behavior is that when <code>response.complete()</code> has been called in <code>MyClass.methodTwo()</code>, the <code>response</code> value will be returned from <code>methodTwo()</code> to <code>methodOne()</code>. That value will then get wrapped in a future and will be available within the handler of <code>subscribe</code> in <code>Test.call()</code>.</p>\n\n<p>However, because of the asynchronous processing <code>methodTwo()</code> will always return \"initial value\" which was set before the write method of the <code>vertx. kafkaProducer</code>.</p>\n\n<p>Even though at some later point <code>response</code> will be set within the handler to either \"done\" or \"not done\" that value is never returned.</p>\n\n<p>I have tried changing the code in <code>methodTwo</code> to the following:</p>\n\n<pre><code>AsyncResult&lt;RecordMetadata&gt; res = \nSingle.create((SingleEmitter&lt;AsyncResult&lt;RecordMetadata&gt;&gt; emitter) -&gt;\n   producer.write(record,   result -&gt; emitter.onSuccess(result)))\n   .blockingGet();\n</code></pre>\n\n<p>with the idea of then returning the value in <code>AsyncResult</code>, but this blocks indefinitely.</p>\n\n<p>What is the correct way to approach this?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","sockets","networking","inputstream","objectinputstream"],"comments":[{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1637823297,"post_id":70106908,"comment_id":123929574,"body_markdown":"I don&#39;t understand the `try(` syntax, never seen it. Which Java version are you using?","body":"I don&#39;t understand the <code>try(</code> syntax, never seen it. Which Java version are you using?"},{"owner":{"account_id":14626759,"reputation":191,"user_id":10563898,"display_name":"Arturo"},"score":1,"creation_date":1637823413,"post_id":70106908,"comment_id":123929609,"body_markdown":"@kiner_shah It&#39;s the normal try with resources syntax. It should be equivalent to closing them with a finally statement.","body":"@kiner_shah It&#39;s the normal try with resources syntax. It should be equivalent to closing them with a finally statement."}],"answers":[{"tags":[],"owner":{"account_id":23430602,"reputation":16,"user_id":17489512,"display_name":"yuehu_so"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637826792,"creation_date":1637826792,"answer_id":70107512,"question_id":70106908,"body_markdown":"Maybe it&#39;s because `fileOut.write(arr, 0, len);` use `arr` and `len = in.read(bytes,0, chunkSize);` use `bytes`? They are not the same array.","title":"Java socket getting only NUL characters after writing byte array","body":"<p>Maybe it's because <code>fileOut.write(arr, 0, len);</code> use <code>arr</code> and <code>len = in.read(bytes,0, chunkSize);</code> use <code>bytes</code>? They are not the same array.</p>\n"}],"owner":{"account_id":14626759,"reputation":191,"user_id":10563898,"display_name":"Arturo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70107512,"answer_count":1,"score":0,"last_activity_date":1637826792,"creation_date":1637823165,"question_id":70106908,"body_markdown":"I&#39;m trying to send files in chunks from a **client** to **server** via `byte` arrays. I&#39;m using `ObjectInputStream`. The write works and the filesize matches but when I open the file, I only get a blank textfile(which when opened in a IDE, shows `NUL,NUL,NUL...`).\r\n\r\nServer code:\r\n\r\n    try(\r\n        FileOutputStream fileOut = new FileOutputStream(file);\r\n        ObjectOutputStream out = new ObjectOutputStream(socket.getOutputStream());\r\n        ObjectInputStream in = new ObjectInputStream(socket.getInputStream());\r\n    ){\r\n    byte[] arr = new byte[chunkSize];\r\n    try {\r\n        int len = 0;\r\n        long bytesRead = 0;\r\n\r\n        byte[] bytes = new byte[chunkSize];\r\n        int chunkNo = 1;\r\n\r\n\r\n        while(true)\r\n        {\r\n            len = in.read(bytes,0, chunkSize);\r\n            System.out.println();\r\n            if(len &lt; 0)\r\n                break;\r\n\r\n            fileOut.write(arr, 0, len);\r\n\r\n            bytesRead += len;\r\n\r\n            out.writeObject(Server.CHUNK_ACKNOWLEDGE_MSG);\r\n            String ackReply = (String) in.readObject();\r\n\r\n            if(ackReply.equalsIgnoreCase((Server.UPLOAD_ACKNOWLEDGE_RECEIVE_TIMEOUT_MSG))){\r\n                if(Server.DEBUG)\r\n                    System.out.println(fileName + &quot; send timeout.&quot;);\r\n\r\n                deleteFile();\r\n                break;\r\n            }else if (ackReply.equalsIgnoreCase(Server.UPLOAD_COMPLETE_MSG)){\r\n                if(bytesRead != fileSize){\r\n\r\n                    System.out.println(fileName + &quot; File size mismatch&quot;);\r\n                    deleteFile();\r\n                    break;\r\n                }else{\r\n                    System.out.println( fileName + &quot; File written&quot;);\r\n                    break;\r\n                }\r\n            }\r\n        \r\n        }\r\n    }catch (IOException ioe){\r\n        if(Server.DEBUG)\r\n            ioe.printStackTrace();\r\n    }\r\n\r\nClient code:\r\n\r\n     try(\r\n            FileInputStream fileInput = new FileInputStream(file);\r\n            ObjectOutputStream out = new ObjectOutputStream(socket.getOutputStream());\r\n            ObjectInputStream in = new ObjectInputStream(socket.getInputStream());\r\n        ){\r\n            byte[] arr = new byte[chunkSize];\r\n            try {\r\n                int len = 0;\r\n                int bytesRead = 0;\r\n                int chunkCount = 1;\r\n                while((len = fileInput.read(arr, 0, chunkSize)) != -1)\r\n                {\r\n                    out.write(arr, 0, len);\r\n                    out.flush();\r\n    \r\n                    bytesRead += len;\r\n    \r\n                    }\r\n                        try {\r\n                            System.out.println(&quot;wait ack&quot;);\r\n    \r\n                            socket.setSoTimeout(timeout);\r\n                            String ack = (String) in.readObject();\r\n                            System.out.println(ack);\r\n    \r\n                            if(bytesRead &gt;= fileSize){\r\n                                out.writeObject(Server.UPLOAD_COMPLETE_MSG);\r\n                                System.out.println(Server.UPLOAD_COMPLETE_MSG);\r\n                                break;\r\n                            }else{\r\n                                out.writeObject(Server.CHUNK_ACKNOWLEDGE_MSG);\r\n                            }\r\n                        }catch (SocketTimeoutException e){\r\n                            out.writeObject(Server.UPLOAD_ACKNOWLEDGE_RECEIVE_TIMEOUT_MSG);\r\n                            System.out.println(Server.UPLOAD_ACKNOWLEDGE_RECEIVE_TIMEOUT_MSG);\r\n    \r\n                            break;\r\n                        }finally {\r\n                            socket.setSoTimeout(0);\r\n                        }\r\n                    }\r\n                }\r\n    \r\n            }catch (IOException ioe){\r\n                ioe.printStackTrace();\r\n            }\r\n        }catch (FileNotFoundException fnfe){\r\n            System.out.println(&quot;No such file: &quot; + fileName);\r\n        }catch (Exception e){\r\n            e.printStackTrace();\r\n        }\r\n        finally {\r\n            try {\r\n                socket.close();\r\n            }catch (Exception ex){\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n\r\nI tried writing the `byte` array to another file on the client side  and the copy was identical. So the problem must be during sending data over socket.\r\n\r\nThe Server.X_MSG is just a constant string. I don&#39;t know if mixing `readobject()` and `read(bytearray)` on the same `ObjectInputStream` causes any issues though.\r\n","title":"Java socket getting only NUL characters after writing byte array","body":"<p>I'm trying to send files in chunks from a <strong>client</strong> to <strong>server</strong> via <code>byte</code> arrays. I'm using <code>ObjectInputStream</code>. The write works and the filesize matches but when I open the file, I only get a blank textfile(which when opened in a IDE, shows <code>NUL,NUL,NUL...</code>).</p>\n<p>Server code:</p>\n<pre><code>try(\n    FileOutputStream fileOut = new FileOutputStream(file);\n    ObjectOutputStream out = new ObjectOutputStream(socket.getOutputStream());\n    ObjectInputStream in = new ObjectInputStream(socket.getInputStream());\n){\nbyte[] arr = new byte[chunkSize];\ntry {\n    int len = 0;\n    long bytesRead = 0;\n\n    byte[] bytes = new byte[chunkSize];\n    int chunkNo = 1;\n\n\n    while(true)\n    {\n        len = in.read(bytes,0, chunkSize);\n        System.out.println();\n        if(len &lt; 0)\n            break;\n\n        fileOut.write(arr, 0, len);\n\n        bytesRead += len;\n\n        out.writeObject(Server.CHUNK_ACKNOWLEDGE_MSG);\n        String ackReply = (String) in.readObject();\n\n        if(ackReply.equalsIgnoreCase((Server.UPLOAD_ACKNOWLEDGE_RECEIVE_TIMEOUT_MSG))){\n            if(Server.DEBUG)\n                System.out.println(fileName + &quot; send timeout.&quot;);\n\n            deleteFile();\n            break;\n        }else if (ackReply.equalsIgnoreCase(Server.UPLOAD_COMPLETE_MSG)){\n            if(bytesRead != fileSize){\n\n                System.out.println(fileName + &quot; File size mismatch&quot;);\n                deleteFile();\n                break;\n            }else{\n                System.out.println( fileName + &quot; File written&quot;);\n                break;\n            }\n        }\n    \n    }\n}catch (IOException ioe){\n    if(Server.DEBUG)\n        ioe.printStackTrace();\n}\n</code></pre>\n<p>Client code:</p>\n<pre><code> try(\n        FileInputStream fileInput = new FileInputStream(file);\n        ObjectOutputStream out = new ObjectOutputStream(socket.getOutputStream());\n        ObjectInputStream in = new ObjectInputStream(socket.getInputStream());\n    ){\n        byte[] arr = new byte[chunkSize];\n        try {\n            int len = 0;\n            int bytesRead = 0;\n            int chunkCount = 1;\n            while((len = fileInput.read(arr, 0, chunkSize)) != -1)\n            {\n                out.write(arr, 0, len);\n                out.flush();\n\n                bytesRead += len;\n\n                }\n                    try {\n                        System.out.println(&quot;wait ack&quot;);\n\n                        socket.setSoTimeout(timeout);\n                        String ack = (String) in.readObject();\n                        System.out.println(ack);\n\n                        if(bytesRead &gt;= fileSize){\n                            out.writeObject(Server.UPLOAD_COMPLETE_MSG);\n                            System.out.println(Server.UPLOAD_COMPLETE_MSG);\n                            break;\n                        }else{\n                            out.writeObject(Server.CHUNK_ACKNOWLEDGE_MSG);\n                        }\n                    }catch (SocketTimeoutException e){\n                        out.writeObject(Server.UPLOAD_ACKNOWLEDGE_RECEIVE_TIMEOUT_MSG);\n                        System.out.println(Server.UPLOAD_ACKNOWLEDGE_RECEIVE_TIMEOUT_MSG);\n\n                        break;\n                    }finally {\n                        socket.setSoTimeout(0);\n                    }\n                }\n            }\n\n        }catch (IOException ioe){\n            ioe.printStackTrace();\n        }\n    }catch (FileNotFoundException fnfe){\n        System.out.println(&quot;No such file: &quot; + fileName);\n    }catch (Exception e){\n        e.printStackTrace();\n    }\n    finally {\n        try {\n            socket.close();\n        }catch (Exception ex){\n            ex.printStackTrace();\n        }\n    }\n</code></pre>\n<p>I tried writing the <code>byte</code> array to another file on the client side  and the copy was identical. So the problem must be during sending data over socket.</p>\n<p>The Server.X_MSG is just a constant string. I don't know if mixing <code>readobject()</code> and <code>read(bytearray)</code> on the same <code>ObjectInputStream</code> causes any issues though.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8173,"page":1819,"page_size":100}
