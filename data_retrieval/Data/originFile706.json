{"items":[{"tags":["java","sql","hibernate","duplicates"],"comments":[{"owner":{"account_id":8826274,"reputation":2403,"user_id":6709604,"display_name":"SS_DBA"},"score":0,"creation_date":1494602914,"post_id":43941363,"comment_id":74915129,"body_markdown":"Possible duplicate... http://stackoverflow.com/questions/6277287/hibernate-onetomany-criteria-returns-duplicates?rq=1","body":"Possible duplicate... <a href=\"http://stackoverflow.com/questions/6277287/hibernate-onetomany-criteria-returns-duplicates?rq=1\" title=\"hibernate onetomany criteria returns duplicates\">stackoverflow.com/questions/6277287/&hellip;</a>"},{"owner":{"account_id":4514344,"reputation":31626,"user_id":3669624,"accept_rate":100,"display_name":"cнŝdk"},"score":0,"creation_date":1494603269,"post_id":43941363,"comment_id":74915370,"body_markdown":"Possible duplicate of [hibernate OneToMany criteria returns duplicates](http://stackoverflow.com/questions/6277287/hibernate-onetomany-criteria-returns-duplicates)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/6277287/hibernate-onetomany-criteria-returns-duplicates\">hibernate OneToMany criteria returns duplicates</a>"},{"owner":{"account_id":7190742,"reputation":23,"user_id":5491174,"display_name":"ssoomm07"},"score":0,"creation_date":1494604732,"post_id":43941363,"comment_id":74916307,"body_markdown":"I need to pass a JUnit test that gets the games with Programmer.getGames(), how can I do it without Criteria?","body":"I need to pass a JUnit test that gets the games with Programmer.getGames(), how can I do it without Criteria?"},{"owner":{"account_id":1617870,"reputation":1130,"user_id":1495050,"display_name":"Daniel Bickler"},"score":0,"creation_date":1494608161,"post_id":43941363,"comment_id":74918195,"body_markdown":"@WEI_DBA don&#39;t think it&#39;s duplicate - based on his question, OP is looking for answer without using criteria.","body":"@WEI_DBA don&#39;t think it&#39;s duplicate - based on his question, OP is looking for answer without using criteria."},{"owner":{"account_id":1617870,"reputation":1130,"user_id":1495050,"display_name":"Daniel Bickler"},"score":0,"creation_date":1494608267,"post_id":43941363,"comment_id":74918263,"body_markdown":"I am not real familiar with Hibernate/JPA when it comes to matters like this, but why can&#39;t you use a Set? That would be my naive solution not knowing the &quot;ideal&quot; way to do it within Hibernate.","body":"I am not real familiar with Hibernate/JPA when it comes to matters like this, but why can&#39;t you use a Set? That would be my naive solution not knowing the &quot;ideal&quot; way to do it within Hibernate."},{"owner":{"account_id":1617870,"reputation":1130,"user_id":1495050,"display_name":"Daniel Bickler"},"score":0,"creation_date":1494608694,"post_id":43941363,"comment_id":74918500,"body_markdown":"Possible duplicate of [One-To-Many relationship gets duplicate objects whithout using &quot;distinct&quot;.Why?](http://stackoverflow.com/questions/18753245/one-to-many-relationship-gets-duplicate-objects-whithout-using-distinct-why)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/18753245/one-to-many-relationship-gets-duplicate-objects-whithout-using-distinct-why\">One-To-Many relationship gets duplicate objects whithout using &quot;distinct&quot;.Why?</a>"},{"owner":{"account_id":1617870,"reputation":1130,"user_id":1495050,"display_name":"Daniel Bickler"},"score":0,"creation_date":1494608788,"post_id":43941363,"comment_id":74918548,"body_markdown":"That duplicate is better for this question. While the question seems different, the answer in that question will supply the answer for this question, that a Set (or LinkedHashSet as given by the Hibernate FAQ to preserve order) is the correct solution without using Criteria","body":"That duplicate is better for this question. While the question seems different, the answer in that question will supply the answer for this question, that a Set (or LinkedHashSet as given by the Hibernate FAQ to preserve order) is the correct solution without using Criteria"}],"answers":[{"tags":[],"owner":{"account_id":1714975,"reputation":20238,"user_id":1572269,"accept_rate":43,"display_name":"Naros"},"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1494642176,"creation_date":1494642176,"answer_id":43948615,"question_id":43941363,"body_markdown":"While the use of `Set&lt;&gt;` fundamentally resolves your issue, I&#39;d argue that is simply a bandaid to get the expected results you&#39;re after but it doesn&#39;t technically address the underlying problem.\r\n\r\nYou should ultimately be using the default lazy fetch strategy because I&#39;m of the opinion that eagerly loading any associations, particularly collection-based ones, are specific to a query and therefore should be toggled when you construct specific queries and not influenced as a part of your entity mapping model as you&#39;re doing.\r\n\r\nConsider the future where you add a new query but you&#39;re only interestesd in attributes from the aggregate root entity.  Your mapping model will still impose eagerly fetching those associations, you&#39;ll consume additional resources to by having a larger persistence context which means more memory consumption and impose unnecessary database joins for something which you aren&#39;t going to use.\r\n\r\nIf there are multiple collections that you need to hydrate, I would instead recommend you consider using `FetchMode.SUBSELECT` instead.  \r\n\r\nIf we assume your query has 10 entities being returned, the default lazy strategy with 2 collections would issue 21 queries (1 for the base result set and 2 for each loaded entity). \r\n\r\nThe benefit of `SUBSELECT` is that Hibernate will actually only issue 3 queries (1 for the base result set and 1 for each collection to load all collection elements for all entities).  And obviously, depending on certain queries, breaking one query with left-joins into 3 queries could actually perform better at the database level too.","title":"Duplicated results in Hibernate OneToMany List","body":"<p>While the use of <code>Set&lt;&gt;</code> fundamentally resolves your issue, I'd argue that is simply a bandaid to get the expected results you're after but it doesn't technically address the underlying problem.</p>\n\n<p>You should ultimately be using the default lazy fetch strategy because I'm of the opinion that eagerly loading any associations, particularly collection-based ones, are specific to a query and therefore should be toggled when you construct specific queries and not influenced as a part of your entity mapping model as you're doing.</p>\n\n<p>Consider the future where you add a new query but you're only interestesd in attributes from the aggregate root entity.  Your mapping model will still impose eagerly fetching those associations, you'll consume additional resources to by having a larger persistence context which means more memory consumption and impose unnecessary database joins for something which you aren't going to use.</p>\n\n<p>If there are multiple collections that you need to hydrate, I would instead recommend you consider using <code>FetchMode.SUBSELECT</code> instead.  </p>\n\n<p>If we assume your query has 10 entities being returned, the default lazy strategy with 2 collections would issue 21 queries (1 for the base result set and 2 for each loaded entity). </p>\n\n<p>The benefit of <code>SUBSELECT</code> is that Hibernate will actually only issue 3 queries (1 for the base result set and 1 for each collection to load all collection elements for all entities).  And obviously, depending on certain queries, breaking one query with left-joins into 3 queries could actually perform better at the database level too.</p>\n"},{"tags":[],"owner":{"account_id":10821531,"reputation":65,"user_id":7958846,"display_name":"Dmitriy Goy"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1557813698,"creation_date":1557813698,"answer_id":56123902,"question_id":43941363,"body_markdown":"Ive resolved this problem with `    @Fetch(FetchMode.SUBSELECT)\r\n`","title":"Duplicated results in Hibernate OneToMany List","body":"<p>Ive resolved this problem with <code>@Fetch(FetchMode.SUBSELECT)\n</code></p>\n"},{"tags":[],"owner":{"account_id":2439686,"reputation":81,"user_id":2128570,"display_name":"Saeed Farahi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674522456,"creation_date":1673020367,"answer_id":75033166,"question_id":43941363,"body_markdown":"    @OneToMany(mappedBy = &quot;user&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n    @Fetch(FetchMode.SUBSELECT)\r\n    private List&lt;CompanyUserEntity&gt; companyUserRelations;\r\n\r\nI had the same problem. `companyUserRelations` had duplicate objects (I mean the same pointers to the same object, not duplicated data)\r\n\r\nSo after reading @dimitry response, I added `@Fetch(FetchMode.SUBSELECT)` and it worked","title":"Duplicated results in Hibernate OneToMany List","body":"<pre><code>@OneToMany(mappedBy = &quot;user&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n@Fetch(FetchMode.SUBSELECT)\nprivate List&lt;CompanyUserEntity&gt; companyUserRelations;\n</code></pre>\n<p>I had the same problem. <code>companyUserRelations</code> had duplicate objects (I mean the same pointers to the same object, not duplicated data)</p>\n<p>So after reading @dimitry response, I added <code>@Fetch(FetchMode.SUBSELECT)</code> and it worked</p>\n"}],"owner":{"account_id":7190742,"reputation":23,"user_id":5491174,"display_name":"ssoomm07"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5387,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":43948615,"answer_count":3,"score":2,"last_activity_date":1674522456,"creation_date":1494602744,"question_id":43941363,"body_markdown":"I have mapped an 1:N relation with a @OneToMany List, but when I access the list, the results are duplicated due to an OUTER JOIN.\r\nThis is how the mapping looks like:\r\n\r\n    @Entity\r\n    public class Programmer\r\n\r\n        @ElementCollection(fetch=FetchType.EAGER)\r\n\t    @CollectionTable(name=&quot;emails&quot;, joinColumns=@JoinColumn(name=&quot;id&quot;, nullable=false))\r\n\t    @Column(name=&quot;email&quot;, nullable=false)\r\n\t    protected Set&lt;String&gt; emails = new HashSet&lt;String&gt;();\r\n\r\n        @OneToMany(mappedBy=&quot;programmer&quot;, fetch=FetchType.EAGER)\r\n\t    private List &lt;Game&gt; games = new ArrayList&lt;Game&gt;();\r\n\r\nWhen I get the attribute with prog.getGames(), the results comes duplicated  because the Hibernate SQL makes an OUTER JOIN:\r\n\r\n    from programmer \r\n    left outer join emails on programmer.id=emails.id \r\n    left outer join game on programmer.id=game.id\r\n    where programmer.id=?\r\n\r\nIs there any solution without transforming the List into a Set? I need to get the games with prog.getGames(), can not use a custom HQL or Criteria.","title":"Duplicated results in Hibernate OneToMany List","body":"<p>I have mapped an 1:N relation with a @OneToMany List, but when I access the list, the results are duplicated due to an OUTER JOIN.\nThis is how the mapping looks like:</p>\n\n<pre><code>@Entity\npublic class Programmer\n\n    @ElementCollection(fetch=FetchType.EAGER)\n    @CollectionTable(name=\"emails\", joinColumns=@JoinColumn(name=\"id\", nullable=false))\n    @Column(name=\"email\", nullable=false)\n    protected Set&lt;String&gt; emails = new HashSet&lt;String&gt;();\n\n    @OneToMany(mappedBy=\"programmer\", fetch=FetchType.EAGER)\n    private List &lt;Game&gt; games = new ArrayList&lt;Game&gt;();\n</code></pre>\n\n<p>When I get the attribute with prog.getGames(), the results comes duplicated  because the Hibernate SQL makes an OUTER JOIN:</p>\n\n<pre><code>from programmer \nleft outer join emails on programmer.id=emails.id \nleft outer join game on programmer.id=game.id\nwhere programmer.id=?\n</code></pre>\n\n<p>Is there any solution without transforming the List into a Set? I need to get the games with prog.getGames(), can not use a custom HQL or Criteria.</p>\n"},{"tags":["java","bouncycastle","classcastexception","openjdk-11","sslexception"],"comments":[{"owner":{"account_id":97438,"reputation":3932,"user_id":264294,"display_name":"Peter Dettman"},"score":1,"creation_date":1614689188,"post_id":66424749,"comment_id":117456520,"body_markdown":"Please give the exact BouncyCastle jar name and version that you are using.","body":"Please give the exact BouncyCastle jar name and version that you are using."},{"owner":{"account_id":97438,"reputation":3932,"user_id":264294,"display_name":"Peter Dettman"},"score":2,"creation_date":1614689529,"post_id":66424749,"comment_id":117456685,"body_markdown":"See also https://github.com/bcgit/bc-java/issues/589 and https://github.com/bcgit/bc-java/issues/881, particularly comments relating to use of a &quot;fat jar&quot;.","body":"See also <a href=\"https://github.com/bcgit/bc-java/issues/589\" rel=\"nofollow noreferrer\">github.com/bcgit/bc-java/issues/589</a> and <a href=\"https://github.com/bcgit/bc-java/issues/881\" rel=\"nofollow noreferrer\">github.com/bcgit/bc-java/issues/881</a>, particularly comments relating to use of a &quot;fat jar&quot;."}],"answers":[{"tags":[],"owner":{"account_id":16506849,"reputation":153,"user_id":11926676,"display_name":"DILIP DHANKECHA"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1614924863,"creation_date":1614924863,"answer_id":66487696,"question_id":66424749,"body_markdown":"For this type of bouncycastle class not found exception.\r\nneed to add bouncy castle dependency to your `pom.xml` or `build.gradle` file.\r\n\r\nadd below dependency for maven and gradle.\r\n\r\nFor Gradle ::\r\n`implementation group: &#39;org.bouncycastle&#39;, name: &#39;bcprov-jdk15on&#39;, version: &#39;1.68&#39;`\r\n\r\nFor Maven ::\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n        &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\r\n        &lt;version&gt;1.68&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Class cast exception occur while updating OpenJDK version from 11.0.2 to 11.0.10","body":"<p>For this type of bouncycastle class not found exception.\nneed to add bouncy castle dependency to your <code>pom.xml</code> or <code>build.gradle</code> file.</p>\n<p>add below dependency for maven and gradle.</p>\n<p>For Gradle ::\n<code>implementation group: 'org.bouncycastle', name: 'bcprov-jdk15on', version: '1.68'</code></p>\n<p>For Maven ::</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n    &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\n    &lt;version&gt;1.68&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":92548,"reputation":2305,"user_id":253594,"accept_rate":50,"display_name":"Vetsin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674522136,"creation_date":1674522136,"answer_id":75216557,"question_id":66424749,"body_markdown":"The answer, for google completeness, is that the underlying API changed when the JDK added support for the X25519 and X448 ECDH protocols. Bouncycastle [had to use multi-release classes][1] to fix the issue. So you update your dependency.\r\n\r\nIf it&#39;s not your software the work around, as in [this issue][2], normally is to remove support of these protocols, like such:\r\n\r\n    java -Djdk.tls.namedGroups=&quot;secp256r1, secp384r1, ffdhe2048, ffdhe3072&quot; ...\r\n\r\nor\r\n\r\n    export JAVA_TOOL_OPTIONS=&quot;-Djdk.tls.namedGroups=\\&quot;secp256r1, secp384r1, ffdhe2048, ffdhe3072\\&quot;&quot;\r\n\r\n\r\n  [1]: https://github.com/ok3141/bc-java/commit/18c3bb7cb6f17b14402501623239433f3f06ae56\r\n  [2]: https://github.com/bcgit/bc-java/issues/589","title":"Class cast exception occur while updating OpenJDK version from 11.0.2 to 11.0.10","body":"<p>The answer, for google completeness, is that the underlying API changed when the JDK added support for the X25519 and X448 ECDH protocols. Bouncycastle <a href=\"https://github.com/ok3141/bc-java/commit/18c3bb7cb6f17b14402501623239433f3f06ae56\" rel=\"nofollow noreferrer\">had to use multi-release classes</a> to fix the issue. So you update your dependency.</p>\n<p>If it's not your software the work around, as in <a href=\"https://github.com/bcgit/bc-java/issues/589\" rel=\"nofollow noreferrer\">this issue</a>, normally is to remove support of these protocols, like such:</p>\n<pre><code>java -Djdk.tls.namedGroups=&quot;secp256r1, secp384r1, ffdhe2048, ffdhe3072&quot; ...\n</code></pre>\n<p>or</p>\n<pre><code>export JAVA_TOOL_OPTIONS=&quot;-Djdk.tls.namedGroups=\\&quot;secp256r1, secp384r1, ffdhe2048, ffdhe3072\\&quot;&quot;\n</code></pre>\n"}],"owner":{"account_id":16506849,"reputation":153,"user_id":11926676,"display_name":"DILIP DHANKECHA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3219,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":66487696,"answer_count":2,"score":0,"last_activity_date":1674522136,"creation_date":1614611893,"question_id":66424749,"body_markdown":"After updating the minor version of OpenJDK , I am getting an error in any API call with HTTPS protocol\r\n\r\nThe same code was working fine with the older version.\r\n\r\nOlder version(Working fine):\r\n\r\n    \r\n    java version &quot;11.0.2&quot; 2019-01-15 LTS\r\n    Java(TM) SE Runtime Environment 18.9 (build 11.0.2+9-LTS)\r\n    Java HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.2+9-LTS, mixed mode)\r\n\r\nNew Version(Not working):\r\n\r\n\r\n    openjdk version &quot;11.0.10&quot; 2021-01-19\r\n    OpenJDK Runtime Environment (build 11.0.10+9-Ubuntu-0ubuntu1.18.04)\r\n    OpenJDK 64-Bit Server VM (build 11.0.10+9-Ubuntu-0ubuntu1.18.04, mixed mode, sharing)\r\n\r\nError:\r\n\r\n\r\n    javax.net.ssl.SSLException: class org.bouncycastle.jcajce.provider.asymmetric.edec.BCXDHPublicKey cannot be cast to class java.security.interfaces.XECPublicKey (org.bouncycastle.jcajce.provider.asymmetric.edec.BCXDHPublicKey is in unnamed module of loader org.springframework.boot.loader.LaunchedURLClassLoader @2e0fa5d3; java.security.interfaces.XECPublicKey is in module java.base of loader &#39;bootstrap&#39;)\r\n\r\n    Caused by: java.lang.ClassCastException: class org.bouncycastle.jcajce.provider.asymmetric.edec.BCXDHPublicKey cannot be cast to class java.security.interfaces.XECPublicKey (org.bouncycastle.jcajce.provider.asymmetric.edec.BCXDHPublicKey is in unnamed module of loader org.springframework.boot.loader.LaunchedURLClassLoader @2e0fa5d3; java.security.interfaces.XECPublicKey is in module java.base of loader &#39;bootstrap&#39;)\r\n\tat java.base/sun.security.ssl.XDHKeyExchange$XDHEPossession.&lt;init&gt;(XDHKeyExchange.java:108)\r\n\tat java.base/sun.security.ssl.NamedGroup$XDHFunctions.createPossession(NamedGroup.java:754)\r\n\tat java.base/sun.security.ssl.NamedGroup.createPossession(NamedGroup.java:394)\r\n\tat java.base/sun.security.ssl.SSLKeyExchange$T13KeyAgreement.createPossession(SSLKeyExchange.java:568)\r\n\tat java.base/sun.security.ssl.SSLKeyExchange.createPossessions(SSLKeyExchange.java:84)\r\n\tat java.base/sun.security.ssl.KeyShareExtension$CHKeyShareProducer.produce(KeyShareExtension.java:257)\r\n\tat java.base/sun.security.ssl.SSLExtension.produce(SSLExtension.java:563)\r\n\tat java.base/sun.security.ssl.SSLExtensions.produce(SSLExtensions.java:253)\r\n\tat java.base/sun.security.ssl.ClientHello$ClientHelloKickstartProducer.produce(ClientHello.java:650)\r\n\tat java.base/sun.security.ssl.SSLHandshake.kickstart(SSLHandshake.java:525)\r\n\tat java.base/sun.security.ssl.ClientHandshakeContext.kickstart(ClientHandshakeContext.java:107)\r\n\tat java.base/sun.security.ssl.TransportContext.kickstart(TransportContext.java:232)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:433)\r\n\t... 11 common frames omitted\r\n\r\n\r\nI am using `URLConnection` to establish the new connection with any URL but at the time of connection `URL connection.connect()`.\r\n\r\nAny solutions or workaround for this?\r\nHow can I downgrade the minor version?\r\n\r\n","title":"Class cast exception occur while updating OpenJDK version from 11.0.2 to 11.0.10","body":"<p>After updating the minor version of OpenJDK , I am getting an error in any API call with HTTPS protocol</p>\n<p>The same code was working fine with the older version.</p>\n<p>Older version(Working fine):</p>\n<pre><code>java version &quot;11.0.2&quot; 2019-01-15 LTS\nJava(TM) SE Runtime Environment 18.9 (build 11.0.2+9-LTS)\nJava HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.2+9-LTS, mixed mode)\n</code></pre>\n<p>New Version(Not working):</p>\n<pre><code>openjdk version &quot;11.0.10&quot; 2021-01-19\nOpenJDK Runtime Environment (build 11.0.10+9-Ubuntu-0ubuntu1.18.04)\nOpenJDK 64-Bit Server VM (build 11.0.10+9-Ubuntu-0ubuntu1.18.04, mixed mode, sharing)\n</code></pre>\n<p>Error:</p>\n<pre><code>javax.net.ssl.SSLException: class org.bouncycastle.jcajce.provider.asymmetric.edec.BCXDHPublicKey cannot be cast to class java.security.interfaces.XECPublicKey (org.bouncycastle.jcajce.provider.asymmetric.edec.BCXDHPublicKey is in unnamed module of loader org.springframework.boot.loader.LaunchedURLClassLoader @2e0fa5d3; java.security.interfaces.XECPublicKey is in module java.base of loader 'bootstrap')\n\nCaused by: java.lang.ClassCastException: class org.bouncycastle.jcajce.provider.asymmetric.edec.BCXDHPublicKey cannot be cast to class java.security.interfaces.XECPublicKey (org.bouncycastle.jcajce.provider.asymmetric.edec.BCXDHPublicKey is in unnamed module of loader org.springframework.boot.loader.LaunchedURLClassLoader @2e0fa5d3; java.security.interfaces.XECPublicKey is in module java.base of loader 'bootstrap')\nat java.base/sun.security.ssl.XDHKeyExchange$XDHEPossession.&lt;init&gt;(XDHKeyExchange.java:108)\nat java.base/sun.security.ssl.NamedGroup$XDHFunctions.createPossession(NamedGroup.java:754)\nat java.base/sun.security.ssl.NamedGroup.createPossession(NamedGroup.java:394)\nat java.base/sun.security.ssl.SSLKeyExchange$T13KeyAgreement.createPossession(SSLKeyExchange.java:568)\nat java.base/sun.security.ssl.SSLKeyExchange.createPossessions(SSLKeyExchange.java:84)\nat java.base/sun.security.ssl.KeyShareExtension$CHKeyShareProducer.produce(KeyShareExtension.java:257)\nat java.base/sun.security.ssl.SSLExtension.produce(SSLExtension.java:563)\nat java.base/sun.security.ssl.SSLExtensions.produce(SSLExtensions.java:253)\nat java.base/sun.security.ssl.ClientHello$ClientHelloKickstartProducer.produce(ClientHello.java:650)\nat java.base/sun.security.ssl.SSLHandshake.kickstart(SSLHandshake.java:525)\nat java.base/sun.security.ssl.ClientHandshakeContext.kickstart(ClientHandshakeContext.java:107)\nat java.base/sun.security.ssl.TransportContext.kickstart(TransportContext.java:232)\nat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:433)\n... 11 common frames omitted\n</code></pre>\n<p>I am using <code>URLConnection</code> to establish the new connection with any URL but at the time of connection <code>URL connection.connect()</code>.</p>\n<p>Any solutions or workaround for this?\nHow can I downgrade the minor version?</p>\n"},{"tags":["java","graph","concurrency"],"comments":[{"owner":{"account_id":5674322,"reputation":4285,"user_id":4488077,"display_name":"f-CJ"},"score":1,"creation_date":1539396887,"post_id":52788799,"comment_id":92499127,"body_markdown":"Do people need to own the book edition you are talking about to answer your question?","body":"Do people need to own the book edition you are talking about to answer your question?"},{"owner":{"account_id":8789206,"reputation":35,"user_id":6569806,"display_name":"isaialvarado"},"score":0,"creation_date":1676580777,"post_id":52788799,"comment_id":133171201,"body_markdown":"I couldn&#39;t find the edition in the book, but I added the year to the title. I think it was the latest edition at the time when I asked this question.","body":"I couldn&#39;t find the edition in the book, but I added the year to the title. I think it was the latest edition at the time when I asked this question."}],"answers":[{"tags":[],"owner":{"account_id":919674,"reputation":14586,"user_id":951609,"accept_rate":60,"display_name":"František Hartman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1539970865,"creation_date":1539970865,"answer_id":52897478,"question_id":52788799,"body_markdown":"The label *Number of threads* on Figure 12.1 is misleading.\r\n\r\nIt is in fact number of thread pairs:\r\n\r\n    ...\r\n    for (int pairs = 1; pairs &lt;= 128; pairs *= 2) {\r\n    ...\r\n\r\n\r\nEach TimedPutTakeTest uses 2 threads (single Producer and single Consumer) even for value 1.\r\n\r\n    for (int i = 0; i &lt; nPairs; i++) {\r\n        pool.execute(new PutTakeTest.Producer());\r\n        pool.execute(new PutTakeTest.Consumer());\r\n    }\r\n\r\n**Note:** The code in question is [available online][1].\r\n\r\n  [1]: http://jcip.net/listings/TimedPutTakeTest.java","title":"Java Concurrency In Practice (2006) Figure 12.1 TimedPutTakeTest","body":"<p>The label <em>Number of threads</em> on Figure 12.1 is misleading.</p>\n\n<p>It is in fact number of thread pairs:</p>\n\n<pre><code>...\nfor (int pairs = 1; pairs &lt;= 128; pairs *= 2) {\n...\n</code></pre>\n\n<p>Each TimedPutTakeTest uses 2 threads (single Producer and single Consumer) even for value 1.</p>\n\n<pre><code>for (int i = 0; i &lt; nPairs; i++) {\n    pool.execute(new PutTakeTest.Producer());\n    pool.execute(new PutTakeTest.Consumer());\n}\n</code></pre>\n\n<p><strong>Note:</strong> The code in question is <a href=\"http://jcip.net/listings/TimedPutTakeTest.java\" rel=\"nofollow noreferrer\">available online</a>.</p>\n"}],"owner":{"account_id":8789206,"reputation":35,"user_id":6569806,"display_name":"isaialvarado"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":52897478,"answer_count":1,"score":0,"last_activity_date":1674521802,"creation_date":1539395170,"question_id":52788799,"body_markdown":"In Figure 12.1 on page 263, I noticed the graph starts with 1.\r\n\r\nThen I read the following on page 268:\r\n\r\n&quot;Therefore, tests of multithreaded performance should normally be mixed with tests of single-threaded performance, even if you want to measure only single-threaded performance. **(This issue does not arise in TimedPutTakeTest because even the smallest test case uses two threads.)**&quot;\r\n\r\nIf the smallest test case uses 2 threads, where does the data for 1 thread in Figure 12.1 come from?\r\n\r\nThanks for your help.","title":"Java Concurrency In Practice (2006) Figure 12.1 TimedPutTakeTest","body":"<p>In Figure 12.1 on page 263, I noticed the graph starts with 1.</p>\n\n<p>Then I read the following on page 268:</p>\n\n<p>\"Therefore, tests of multithreaded performance should normally be mixed with tests of single-threaded performance, even if you want to measure only single-threaded performance. <strong>(This issue does not arise in TimedPutTakeTest because even the smallest test case uses two threads.)</strong>\"</p>\n\n<p>If the smallest test case uses 2 threads, where does the data for 1 thread in Figure 12.1 come from?</p>\n\n<p>Thanks for your help.</p>\n"},{"tags":["java","json","api","response","inputstream"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1674535664,"post_id":75216468,"comment_id":132729375,"body_markdown":"Have you checked that the input stream is returning the contents you expect? Why not read it into a string first, log that, and then pass the string to parseTree?","body":"Have you checked that the input stream is returning the contents you expect? Why not read it into a string first, log that, and then pass the string to parseTree?"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1674574078,"post_id":75216468,"comment_id":132740260,"body_markdown":"Further to @tgdavies. Drop inputstream and use String responseString = EntityUtils.toString(response.getEntity(), &quot;UTF-8&quot;);","body":"Further to @tgdavies. Drop inputstream and use String responseString = EntityUtils.toString(response.getEntity(), &quot;UTF-8&quot;);"}],"owner":{"account_id":27605138,"reputation":1,"user_id":21069429,"display_name":"ThePianistish"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674521095,"creation_date":1674521010,"question_id":75216468,"body_markdown":"I am trying to read a response from an API endpoint. It works in Postman and appears to work when debugging my java code. \r\n\r\nHowever it will not read any objects that are in the nested array.\r\n\r\nI&#39;ve followed [this](https://stackoverflow.com/questions/6349421/how-to-use-jackson-to-deserialise-an-array-of-objects)  solution (in the comments someone lays out their solution to accessing objects in a nested array) yet that does not seem to have solved anything as the mapper consistently shows nothing inside the json list. \r\n\r\nHere&#39;s my code:\r\n\r\n\r\n```\r\ntry  {\r\n    response = httpClient.execute(httpPost);\r\n    InputStream inputStream = response.getEntity().getContent();\r\n    final ObjectMapper mapper = new ObjectMapper();\r\n    final JsonNode node = mapper.readTree(inputStream);\r\n    final JsonNode value = node.get(&quot;value&quot;);\r\n    final JsonNode index = value.get(1);\r\n    final String status = index.get(&quot;status&quot;).asText();\r\n    return status;`\r\n}\r\n```\r\n\r\n\r\nHere&#39;s the response that I&#39;m trying to unpack. I&#39;m trying to get the value of &quot;status&quot;\r\n\r\n  \r\n```\r\n{\r\n    &quot;value&quot;: [\r\n        {\r\n            &quot;activityRunEnd&quot;: &quot;2023-01-23T23:22:01.4234985Z&quot;,\r\n        },\r\n        {\r\n            &quot;status&quot;: &quot;Succeeded&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\n\r\nThis is the response that I&#39;m currently getting when I readTree(inputStream)\r\n\r\n\r\n\r\n```\r\n{&quot;value&quot;:[]}\r\n```\r\n\r\n\r\nInputStream does not seem to read any values inside the list","title":"InputStream does not seem to read response objects in list","body":"<p>I am trying to read a response from an API endpoint. It works in Postman and appears to work when debugging my java code.</p>\n<p>However it will not read any objects that are in the nested array.</p>\n<p>I've followed <a href=\"https://stackoverflow.com/questions/6349421/how-to-use-jackson-to-deserialise-an-array-of-objects\">this</a>  solution (in the comments someone lays out their solution to accessing objects in a nested array) yet that does not seem to have solved anything as the mapper consistently shows nothing inside the json list.</p>\n<p>Here's my code:</p>\n<pre><code>try  {\n    response = httpClient.execute(httpPost);\n    InputStream inputStream = response.getEntity().getContent();\n    final ObjectMapper mapper = new ObjectMapper();\n    final JsonNode node = mapper.readTree(inputStream);\n    final JsonNode value = node.get(&quot;value&quot;);\n    final JsonNode index = value.get(1);\n    final String status = index.get(&quot;status&quot;).asText();\n    return status;`\n}\n</code></pre>\n<p>Here's the response that I'm trying to unpack. I'm trying to get the value of &quot;status&quot;</p>\n<pre><code>{\n    &quot;value&quot;: [\n        {\n            &quot;activityRunEnd&quot;: &quot;2023-01-23T23:22:01.4234985Z&quot;,\n        },\n        {\n            &quot;status&quot;: &quot;Succeeded&quot;\n        }\n    ]\n}\n</code></pre>\n<p>This is the response that I'm currently getting when I readTree(inputStream)</p>\n<pre><code>{&quot;value&quot;:[]}\n</code></pre>\n<p>InputStream does not seem to read any values inside the list</p>\n"},{"tags":["java","netbeans","ant","glassfish"],"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1674801020,"post_id":75216465,"comment_id":132794454,"body_markdown":"I just used the Ant wizard to create a simple web application using NetBeans 16, JDK 18, Glassfish 6.2.5 and Jakarta 9.1. It worked fine, so consider focusing on individual changes to your environment to see if the problem just goes away. Upgrading  to Glassfish 6.2.5 is an obvious and easy thing to try first, and it should run fine with JDK 11. If that doesn&#39;t work then update your question to show the full stack trace, and also review the Glassfish log for any errors apart from the `MissingResourceException`.","body":"I just used the Ant wizard to create a simple web application using NetBeans 16, JDK 18, Glassfish 6.2.5 and Jakarta 9.1. It worked fine, so consider focusing on individual changes to your environment to see if the problem just goes away. Upgrading  to Glassfish 6.2.5 is an obvious and easy thing to try first, and it should run fine with JDK 11. If that doesn&#39;t work then update your question to show the full stack trace, and also review the Glassfish log for any errors apart from the <code>MissingResourceException</code>."}],"owner":{"account_id":11326347,"reputation":6623,"user_id":8305127,"accept_rate":67,"display_name":"Viet"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674520970,"creation_date":1674520970,"question_id":75216465,"body_markdown":"I&#39;m trying to deploy my web NetBeans 15 + Ant application using GlassFish 6 and get this error:\r\n```\r\norg.apache.catalina.LifecycleException: java.util.MissingResourceException: Can&#39;t find javax.faces.LogStrings\r\n```\r\nI&#39;ve tried adding different libraries and jar files to my project&#39;s Libraries but it&#39;s still not deployed.\r\n\r\nI&#39;m using: NetBeans 15, JDK 11, JSF 3.0, derby 10.14, GlassFish 6, Java EE: Jakarta 9.1 Web","title":"GlassFish org.apache.catalina.LifecycleException java.util.MissingResourceException Can&#39;t find javax.faces.LogStrings","body":"<p>I'm trying to deploy my web NetBeans 15 + Ant application using GlassFish 6 and get this error:</p>\n<pre><code>org.apache.catalina.LifecycleException: java.util.MissingResourceException: Can't find javax.faces.LogStrings\n</code></pre>\n<p>I've tried adding different libraries and jar files to my project's Libraries but it's still not deployed.</p>\n<p>I'm using: NetBeans 15, JDK 11, JSF 3.0, derby 10.14, GlassFish 6, Java EE: Jakarta 9.1 Web</p>\n"},{"tags":["java","netbeans","ant","glassfish","persistence"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1674507930,"post_id":75214689,"comment_id":132725131,"body_markdown":"Add those JARs to your project.  Just like solving any other CLASSPATH issue.  Just curious: Why EJB?  It&#39;s a failed 90s era technology.  Most people have moved on to POJOs using Spring Boot.  https://trends.google.com/trends/explore?date=today%205-y&amp;geo=US&amp;q=ejb,spring%20boot","body":"Add those JARs to your project.  Just like solving any other CLASSPATH issue.  Just curious: Why EJB?  It&#39;s a failed 90s era technology.  Most people have moved on to POJOs using Spring Boot.  <a href=\"https://trends.google.com/trends/explore?date=today%205-y&amp;geo=US&amp;q=ejb,spring%20boot\" rel=\"nofollow noreferrer\">trends.google.com/trends/&hellip;</a>"},{"owner":{"account_id":11326347,"reputation":6623,"user_id":8305127,"accept_rate":67,"display_name":"Viet"},"score":0,"creation_date":1674508079,"post_id":75214689,"comment_id":132725167,"body_markdown":"Thanks. I tried adding the jar but it did not work. It&#39;s not my choice. I have no idea why it&#39;s an error. I have to use NetBeans + Ant to create a web project.","body":"Thanks. I tried adding the jar but it did not work. It&#39;s not my choice. I have no idea why it&#39;s an error. I have to use NetBeans + Ant to create a web project."},{"owner":{"account_id":11326347,"reputation":6623,"user_id":8305127,"accept_rate":67,"display_name":"Viet"},"score":1,"creation_date":1674508100,"post_id":75214689,"comment_id":132725174,"body_markdown":"I only know how to use Maven but it&#39;s not an option in this case.","body":"I only know how to use Maven but it&#39;s not an option in this case."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1674508108,"post_id":75214689,"comment_id":132725176,"body_markdown":"Both NetBeans and Ant are old and out of date.  Who gave you this project?","body":"Both NetBeans and Ant are old and out of date.  Who gave you this project?"},{"owner":{"account_id":11326347,"reputation":6623,"user_id":8305127,"accept_rate":67,"display_name":"Viet"},"score":0,"creation_date":1674508180,"post_id":75214689,"comment_id":132725197,"body_markdown":"my professor &#129401; please don&#39;t ask, it&#39;ll just inflict more pain...","body":"my professor 🥹 please don&#39;t ask, it&#39;ll just inflict more pain..."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1674508269,"post_id":75214689,"comment_id":132725220,"body_markdown":"Professors are always teaching what they learned; generals are always fighting the last war.  https://netbeans.apache.org/kb/docs/javaee/entappclient.html","body":"Professors are always teaching what they learned; generals are always fighting the last war.  <a href=\"https://netbeans.apache.org/kb/docs/javaee/entappclient.html\" rel=\"nofollow noreferrer\">netbeans.apache.org/kb/docs/javaee/entappclient.html</a>"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1674508430,"post_id":75214689,"comment_id":132725258,"body_markdown":"I&#39;m guessing that you didn&#39;t give NetBeans the heads up that this is a Glassfish EJB project.","body":"I&#39;m guessing that you didn&#39;t give NetBeans the heads up that this is a Glassfish EJB project."},{"owner":{"account_id":11326347,"reputation":6623,"user_id":8305127,"accept_rate":67,"display_name":"Viet"},"score":0,"creation_date":1674508872,"post_id":75214689,"comment_id":132725377,"body_markdown":"It&#39;s not EJB project. It&#39;s just the error. When I used NetBeans 14, I followed the same steps and got to the failed deploy without EJB.","body":"It&#39;s not EJB project. It&#39;s just the error. When I used NetBeans 14, I followed the same steps and got to the failed deploy without EJB."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1674512286,"post_id":75214689,"comment_id":132726210,"body_markdown":"&quot;Cannot be generated because EJB Lite classes are not available on project classpath&quot; - believe NetBeans.  It can&#39;t find EJB classes.  Do you know how to add JARs to the CLASSPATH in NetBeans?","body":"&quot;Cannot be generated because EJB Lite classes are not available on project classpath&quot; - believe NetBeans.  It can&#39;t find EJB classes.  Do you know how to add JARs to the CLASSPATH in NetBeans?"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1674512690,"post_id":75214689,"comment_id":132726304,"body_markdown":"Ask your professor.  Show him/her the error and ask for help.","body":"Ask your professor.  Show him/her the error and ask for help."},{"owner":{"account_id":1413157,"reputation":97,"user_id":1339367,"display_name":"Luis Daniel Mesa Velasquez"},"score":0,"creation_date":1694882612,"post_id":75214689,"comment_id":135951155,"body_markdown":"@duffymo people who know more than you and I about Java would disagree about EJB and Netbeans being outdated... Adam Bien has no issue using both.","body":"@duffymo people who know more than you and I about Java would disagree about EJB and Netbeans being outdated... Adam Bien has no issue using both."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1694885227,"post_id":75214689,"comment_id":135951421,"body_markdown":"I think the marketplace has spoken.  JEE and EJB are done.","body":"I think the marketplace has spoken.  JEE and EJB are done."}],"answers":[{"tags":[],"owner":{"account_id":11326347,"reputation":6623,"user_id":8305127,"accept_rate":67,"display_name":"Viet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674520757,"creation_date":1674513324,"answer_id":75215751,"question_id":75214689,"body_markdown":"I don&#39;t really know why, but adding these to the project&#39;s `Libraries` solved it for me: **Jakarta EE 9 API Library** and **Java EE 7 API Library**.\r\n\r\nThis help me move past the error but my application is not working due to other errors.","title":"NetBeans 15 Cannot&#160;be&#160;generated&#160;because&#160;EJB&#160;Lite&#160;classes&#160;are&#160;not&#160;available&#160;on&#160;project&#160;classpath","body":"<p>I don't really know why, but adding these to the project's <code>Libraries</code> solved it for me: <strong>Jakarta EE 9 API Library</strong> and <strong>Java EE 7 API Library</strong>.</p>\n<p>This help me move past the error but my application is not working due to other errors.</p>\n"}],"owner":{"account_id":11326347,"reputation":6623,"user_id":8305127,"accept_rate":67,"display_name":"Viet"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":641,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674520757,"creation_date":1674505496,"question_id":75214689,"body_markdown":"I&#39;m trying to create Persistence `New JSF Pages from Entity Classes` using NetBeans 15, Java Web Project with Ant.\r\n\r\nI get this error: \r\n```\r\nCannot&#160;be&#160;generated&#160;because&#160;EJB&#160;Lite&#160;classes&#160;are&#160;not&#160;available&#160;on&#160;project&#160;classpath\r\n```\r\n[![enter image description here][1]][1]\r\n\r\nI was able to create Persistence `Entity Classes from Database`. My glassfish database is running and I can view data in my tables.\r\n\r\nMy project properties:\r\n- Server: GlassFish Server\r\n- Java EE Version: Jakarta EE 9.1 Web - I cannot select another version when I create a new project.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7lwHB.png","title":"NetBeans 15 Cannot&#160;be&#160;generated&#160;because&#160;EJB&#160;Lite&#160;classes&#160;are&#160;not&#160;available&#160;on&#160;project&#160;classpath","body":"<p>I'm trying to create Persistence <code>New JSF Pages from Entity Classes</code> using NetBeans 15, Java Web Project with Ant.</p>\n<p>I get this error:</p>\n<pre><code>Cannot be generated because EJB Lite classes are not available on project classpath\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/7lwHB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7lwHB.png\" alt=\"enter image description here\" /></a></p>\n<p>I was able to create Persistence <code>Entity Classes from Database</code>. My glassfish database is running and I can view data in my tables.</p>\n<p>My project properties:</p>\n<ul>\n<li>Server: GlassFish Server</li>\n<li>Java EE Version: Jakarta EE 9.1 Web - I cannot select another version when I create a new project.</li>\n</ul>\n"},{"tags":["java","android","kotlin","android-mediaplayer"],"owner":{"account_id":17373761,"reputation":19,"user_id":12587266,"display_name":"Anas mugally"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674519712,"creation_date":1674516254,"question_id":75216077,"body_markdown":"I am currently developing an application to play music\r\nI have now added the feature of adjusting the speed and pitch for music in the my app\r\n\r\n    fun MediaPlayer.setPlaybackSpeedPitch(speed: Float, pitch: Float) {\r\n       try {\r\n          if (hasMarshmallow()) {\r\n              val wasPlaying = isPlaying;\r\n              playbackParams = PlaybackParams().setSpeed(speed).setPitch(pitch)\r\n              if (!wasPlaying) pause()\r\n          }\r\n       } catch (e: Exception) {\r\n       } \r\n    }\r\n\r\nBut currently I want to extract music from MediaPlayer\r\nHow do I save music from MediaPlayer to the external storage of the phone\r\nplease any help\r\nI tried to search a lot but didn&#39;t find any solution\r\n\r\nany help will be deeply appreciated?\r\n\r\nP.S. My main motive is to let user change speed or pitch to the original song and then save it.","title":"How to extract or save current song from MediaPlayer after changing speed or pitch in android","body":"<p>I am currently developing an application to play music\nI have now added the feature of adjusting the speed and pitch for music in the my app</p>\n<pre><code>fun MediaPlayer.setPlaybackSpeedPitch(speed: Float, pitch: Float) {\n   try {\n      if (hasMarshmallow()) {\n          val wasPlaying = isPlaying;\n          playbackParams = PlaybackParams().setSpeed(speed).setPitch(pitch)\n          if (!wasPlaying) pause()\n      }\n   } catch (e: Exception) {\n   } \n}\n</code></pre>\n<p>But currently I want to extract music from MediaPlayer\nHow do I save music from MediaPlayer to the external storage of the phone\nplease any help\nI tried to search a lot but didn't find any solution</p>\n<p>any help will be deeply appreciated?</p>\n<p>P.S. My main motive is to let user change speed or pitch to the original song and then save it.</p>\n"},{"tags":["java","image","swing","path","jpanel"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1674504378,"post_id":75214358,"comment_id":132724162,"body_markdown":"*I save the image in the folder /cache,* That means a directory off the root of your filesystem. I doubt that&#39;s where it is. I would try `./cache` but you might need to try a different mechanism","body":"<i>I save the image in the folder /cache,</i> That means a directory off the root of your filesystem. I doubt that&#39;s where it is. I would try <code>.&#47;cache</code> but you might need to try a different mechanism"},{"owner":{"account_id":25766673,"reputation":91,"user_id":19516471,"display_name":"Giovanni Grana"},"score":0,"creation_date":1674508853,"post_id":75214358,"comment_id":132725371,"body_markdown":"The/cache folder is in the project","body":"The/cache folder is in the project"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1674519419,"post_id":75214358,"comment_id":132727481,"body_markdown":"I&#39;m aware it&#39;s in the project. Running software doesn&#39;t care about your project. In fact you shouldn&#39;t either, because the project is an IDE thing and nothing to do with proper running software, which must be cut loose and be able to fend for itself outside your IDE. If you use that html markup, it necessarily is using the filesystem rather than the classloading mechanism, which is a great weakness. If you want a simple, but ultimately weak, way to get that working, in place of &#39;cache&#39; you must place the full and absolute path to that directory after the protocol `file:`","body":"I&#39;m aware it&#39;s in the project. Running software doesn&#39;t care about your project. In fact you shouldn&#39;t either, because the project is an IDE thing and nothing to do with proper running software, which must be cut loose and be able to fend for itself outside your IDE. If you use that html markup, it necessarily is using the filesystem rather than the classloading mechanism, which is a great weakness. If you want a simple, but ultimately weak, way to get that working, in place of &#39;cache&#39; you must place the full and absolute path to that directory after the protocol <code>file:</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1674519921,"post_id":75214358,"comment_id":132727553,"body_markdown":"The [classloader approach](https://stackoverflow.com/questions/15311188/inserting-images-in-jeditorpane-using-pane-getdocument-insert)","body":"The <a href=\"https://stackoverflow.com/questions/15311188/inserting-images-in-jeditorpane-using-pane-getdocument-insert\">classloader approach</a>"}],"answers":[{"tags":[],"owner":{"account_id":9970255,"reputation":197,"user_id":7376577,"display_name":"Peter F"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674519599,"creation_date":1674519502,"answer_id":75216342,"question_id":75214358,"body_markdown":"Remove the three forward slashes between &quot;file:&quot; and the path. Change\r\n```html\r\n&lt;img src=&quot;file:///cache/test.jpg&quot;&gt;\r\n```\r\nto\r\n``` html\r\n&lt;img src=&quot;file:cache/test.jpg&quot;&gt;\r\n```\r\n\r\nFound it from this answer: https://stackoverflow.com/a/10084395/7376577\r\n\r\nThe file structure:\r\n```\r\nroot\r\n├───cache\r\n│       test.jpg\r\n│\r\n└──src\r\n        MyJFrame.java\r\n```","title":"Loading an image in a JEditorPane using html markup","body":"<p>Remove the three forward slashes between &quot;file:&quot; and the path. Change</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;img src=&quot;file:///cache/test.jpg&quot;&gt;\n</code></pre>\n<p>to</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;img src=&quot;file:cache/test.jpg&quot;&gt;\n</code></pre>\n<p>Found it from this answer: <a href=\"https://stackoverflow.com/a/10084395/7376577\">https://stackoverflow.com/a/10084395/7376577</a></p>\n<p>The file structure:</p>\n<pre><code>root\n├───cache\n│       test.jpg\n│\n└──src\n        MyJFrame.java\n</code></pre>\n"}],"owner":{"account_id":25766673,"reputation":91,"user_id":19516471,"display_name":"Giovanni Grana"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75216342,"answer_count":1,"score":0,"last_activity_date":1674519599,"creation_date":1674503413,"question_id":75214358,"body_markdown":"I&#39;m having some problems with loading an image in a JEditorPane by using the &lt;img&gt; tag.\r\nI get the body of the mail from Gmail, which looks like this:\r\n\r\n    &lt;div dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;img src=&quot;cid:ii_lagwgzau0&quot; alt=&quot;test.jpg&quot; width=&quot;451&quot; height=&quot;338&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;\r\n\r\nI edit the line via code to look like this:\r\n\r\n    &lt;div dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;img src=&quot;file:///cache/test.jpg&quot; width=&quot;451&quot; height=&quot;338&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;\r\n\r\nI save the image in the folder /cache, at the same level of /src, but the image just won&#39;t load no matter what I try. I also can&#39;t figure out if its a path problem or my approach just doesn&#39;t work, and I can&#39;t find anything that helps online. Anyone knows what I&#39;m doing wrong here?\r\n\r\nThis is what it looks like graphically:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oyl97.png","title":"Loading an image in a JEditorPane using html markup","body":"<p>I'm having some problems with loading an image in a JEditorPane by using the  tag.\nI get the body of the mail from Gmail, which looks like this:</p>\n<pre><code>&lt;div dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;img src=&quot;cid:ii_lagwgzau0&quot; alt=&quot;test.jpg&quot; width=&quot;451&quot; height=&quot;338&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;\n</code></pre>\n<p>I edit the line via code to look like this:</p>\n<pre><code>&lt;div dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;img src=&quot;file:///cache/test.jpg&quot; width=&quot;451&quot; height=&quot;338&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;\n</code></pre>\n<p>I save the image in the folder /cache, at the same level of /src, but the image just won't load no matter what I try. I also can't figure out if its a path problem or my approach just doesn't work, and I can't find anything that helps online. Anyone knows what I'm doing wrong here?</p>\n<p>This is what it looks like graphically:</p>\n<p><a href=\"https://i.stack.imgur.com/oyl97.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oyl97.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1674517439,"post_id":75215942,"comment_id":132727181,"body_markdown":"Do you mean to fill the entire image with a single, translucent, color?  Does the original image support a alpha based color model?","body":"Do you mean to fill the entire image with a single, translucent, color?  Does the original image support a alpha based color model?"}],"answers":[{"tags":[],"owner":{"account_id":14889478,"reputation":124,"user_id":10751633,"display_name":"bosowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674517879,"creation_date":1674517502,"answer_id":75216191,"question_id":75215942,"body_markdown":"Check the type of the original image that you are loading. The image you&#39;ve linked is of type 5 (TYPE_3BYTE_BGR).\r\n\r\nThe definition of TYPE_3BYTE_BGR from Javadocs is as follows: \r\n\r\n&gt; Represents an image with 8-bit RGB color components, corresponding to\r\n&gt; a Windows-style BGR color model) with the colors Blue, Green, and Red\r\n&gt; stored in 3 bytes. **There is no alpha**. The image has a\r\n&gt; ComponentColorModel. When data with non-opaque alpha is stored in an\r\n&gt; image of this type, the color data must be adjusted to a\r\n&gt; non-premultiplied form and the alpha discarded, as described in the\r\n&gt; java.awt.AlphaComposite documentation.\r\n\r\nMake sure that you are either loading in an image that has a type that supports the alpha channel, or [convert your image to one of such a type][2].\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xrYVM.png\r\n  [2]: https://stackoverflow.com/questions/8194080/converting-a-bufferedimage-to-another-type\r\n\r\nOtherwise, what you are doing is correct.","title":"Changing alpha value of an image","body":"<p>Check the type of the original image that you are loading. The image you've linked is of type 5 (TYPE_3BYTE_BGR).</p>\n<p>The definition of TYPE_3BYTE_BGR from Javadocs is as follows:</p>\n<blockquote>\n<p>Represents an image with 8-bit RGB color components, corresponding to\na Windows-style BGR color model) with the colors Blue, Green, and Red\nstored in 3 bytes. <strong>There is no alpha</strong>. The image has a\nComponentColorModel. When data with non-opaque alpha is stored in an\nimage of this type, the color data must be adjusted to a\nnon-premultiplied form and the alpha discarded, as described in the\njava.awt.AlphaComposite documentation.</p>\n</blockquote>\n<p>Make sure that you are either loading in an image that has a type that supports the alpha channel, or <a href=\"https://stackoverflow.com/questions/8194080/converting-a-bufferedimage-to-another-type\">convert your image to one of such a type</a>.</p>\n<p>Otherwise, what you are doing is correct.</p>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674518838,"creation_date":1674518266,"answer_id":75216245,"question_id":75215942,"body_markdown":"    public void changeImage (File currentImage) throws IOException {\r\n        BufferedImage img = ImageIO.read(currentImage);\r\n        for (int y = 0; y &lt; img.getHeight(); y++) {\r\n            for (int x = 0; x &lt; img.getWidth(); x++) {\r\n                int pixel = img.getRGB(x,y);\r\n                Color color = new Color(pixel);\r\n                int red = 10;\r\n                int green = 20;\r\n                int blue = 30;\r\n                int alpha = 40;\r\n                color = new Color(red, green, blue, alpha);\r\n                img.setRGB(x, y, color.getRGB());\r\n            }\r\n        }\r\n        File outputImage = new File(currentImage.getAbsolutePath().substring(0, currentImage.getAbsolutePath().length() - 4) + &quot;_encrypted.png&quot;);\r\n        ImageIO.write(img, &quot;png&quot;, outputImage);\r\n    }\r\n\r\nSo, my immediate thoughts are: \r\n\r\n* Why?!\r\n* Did you really want to fill the entire image with a single color?\r\n* Does the original image support a alpha based color model?\r\n\r\nSo, if you really just wanted to fill the image with a single translucent color, you could have simply just done...\r\n\r\n    BufferedImage translucent = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\r\n    Graphics2D g2d = translucent.createGraphics();\r\n    g2d.setColor(new Color(10, 20, 30, 40));\r\n    g2d.fillRect(0, 0, master.getWidth(), master.getHeight());\r\n    g2d.dispose();\r\n\r\nwhich would be faster.\r\n\r\nIf, instead, you &quot;really&quot; wanted to make the image appear transparent, then you should probably have started with something like...\r\n\r\n    public static BufferedImage changeImage(BufferedImage master) {\r\n        BufferedImage img = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\r\n        for (int y = 0; y &lt; img.getHeight(); y++) {\r\n            for (int x = 0; x &lt; img.getWidth(); x++) {\r\n                int pixel = master.getRGB(x, y);\r\n                Color color = new Color(pixel);\r\n                int red = color.getRed();\r\n                int green = color.getGreen();\r\n                int blue = color.getBlue();\r\n                int alpha = 40;\r\n                color = new Color(red, green, blue, alpha);\r\n                img.setRGB(x, y, color.getRGB());\r\n            }\r\n        }\r\n        return img;\r\n    }\r\n\r\nThis creates a new `BufferedImage` with a color model which supports transparency.  It then converts each pixel of the master image to have a alpha color and updates the new image with it.\r\n\r\nBut again, you could just do something like...\r\n\r\n    BufferedImage img = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\r\n    Graphics2D g2d = alphaed.createGraphics();\r\n    g2d.setComposite(AlphaComposite.SrcOver.derive(0.156862745098039f));\r\n    g2d.drawImage(master, 0, 0, this);\r\n    g2d.dispose();\r\n\r\nwhich would be faster.\r\n\r\n# Runnable example\r\n\r\nSo, left, original image, middle, your &quot;modified&quot; code, right, `AlphaComposite` based result\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.AlphaComposite;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.IOException;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        JFrame frame = new JFrame();\r\n                        frame.add(new TestPane());\r\n                        frame.pack();\r\n                        frame.setLocationRelativeTo(null);\r\n                        frame.setVisible(true);\r\n                    } catch (IOException ex) {\r\n                        Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public static BufferedImage changeImage(BufferedImage master) {\r\n            BufferedImage img = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\r\n            for (int y = 0; y &lt; img.getHeight(); y++) {\r\n                for (int x = 0; x &lt; img.getWidth(); x++) {\r\n                    int pixel = master.getRGB(x, y);\r\n                    Color color = new Color(pixel);\r\n                    int red = color.getRed();\r\n                    int green = color.getGreen();\r\n                    int blue = color.getBlue();\r\n                    int alpha = 40;\r\n                    color = new Color(red, green, blue, alpha);\r\n                    img.setRGB(x, y, color.getRGB());\r\n                }\r\n            }\r\n            return img;\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            private BufferedImage master;\r\n            private BufferedImage modified;\r\n            private BufferedImage alphaed;\r\n\r\n            public TestPane() throws IOException {\r\n                master = ImageIO.read(getClass().getResource(&quot;/images/MegaTokyo.png&quot;));\r\n                modified = changeImage(master);\r\n\r\n                alphaed = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\r\n                Graphics2D g2d = alphaed.createGraphics();\r\n                g2d.setComposite(AlphaComposite.SrcOver.derive(0.156862745098039f));\r\n                g2d.drawImage(master, 0, 0, this);\r\n                g2d.dispose();\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(master.getWidth() * 3, master.getHeight());\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                g2d.drawImage(master, 0, 0, this);\r\n                g2d.drawImage(modified, master.getWidth(), 0, this);\r\n                g2d.drawImage(alphaed, master.getWidth() * 2, 0, this);\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n----------\r\n\r\nNow, it occurs to me that you might be trying to put a color &quot;overlay&quot; on top of the image\r\n\r\nIn which case you try doing something like...\r\n\r\n\tBufferedImage colorOverlay = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\r\n\tGraphics2D g2d = colorOverlay.createGraphics();\r\n\tg2d.setColor(new Color(10, 20, 30, 192));\r\n\tg2d.fillRect(0, 0, colorOverlay.getWidth(), colorOverlay.getHeight());\r\n\tg2d.dispose();\r\n\r\n\r\n\talphaed = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\r\n\tg2d = alphaed.createGraphics();\r\n\tg2d.drawImage(master, 0, 0, this);\r\n\tg2d.drawImage(colorOverlay, 0, 0, this);\r\n\tg2d.dispose();\r\n\r\nwhich could be simplifed to something like...\r\n\r\n    alphaed = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\r\n    g2d = alphaed.createGraphics();\r\n    g2d.drawImage(master, 0, 0, this);\r\n    g2d.setComposite(AlphaComposite.SrcOver.derive(0.75f));\r\n    g2d.setColor(new Color(10, 20, 30, 192));\r\n    g2d.fillRect(0, 0, alphaed.getWidth(), alphaed.getHeight());\r\n    g2d.dispose();\r\n\r\n*(nb: I tried using `40` as the alpha component, but it made such little difference, I changed it to `192` for demonstration purposes)*\r\n\r\n# Runnable example\r\n\r\n[![enter image description here][2]][2]\r\n\r\n    import java.awt.AlphaComposite;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.IOException;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        JFrame frame = new JFrame();\r\n                        frame.add(new TestPane());\r\n                        frame.pack();\r\n                        frame.setLocationRelativeTo(null);\r\n                        frame.setVisible(true);\r\n                    } catch (IOException ex) {\r\n                        Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public static BufferedImage changeImage(BufferedImage master) {\r\n            BufferedImage img = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\r\n            for (int y = 0; y &lt; img.getHeight(); y++) {\r\n                for (int x = 0; x &lt; img.getWidth(); x++) {\r\n                    int pixel = master.getRGB(x, y);\r\n                    Color color = new Color(pixel);\r\n                    int red = color.getRed();\r\n                    int green = color.getGreen();\r\n                    int blue = color.getBlue();\r\n                    int alpha = 40;\r\n                    color = new Color(red, green, blue, alpha);\r\n                    img.setRGB(x, y, color.getRGB());\r\n                }\r\n            }\r\n            return img;\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            private BufferedImage master;\r\n            private BufferedImage alphaed;\r\n\r\n            public TestPane() throws IOException {\r\n                master = ImageIO.read(getClass().getResource(&quot;/images/MegaTokyo.png&quot;));\r\n\r\n                //--- This -----\r\n                BufferedImage colorOverlay = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\r\n                Graphics2D g2d = colorOverlay.createGraphics();\r\n                g2d.setColor(new Color(10, 20, 30, 192));\r\n                g2d.fillRect(0, 0, colorOverlay.getWidth(), colorOverlay.getHeight());\r\n                g2d.dispose();\r\n\r\n                alphaed = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\r\n                g2d = alphaed.createGraphics();\r\n                g2d.drawImage(master, 0, 0, this);\r\n                g2d.drawImage(colorOverlay, 0, 0, this);\r\n                g2d.dispose();\r\n                //--------------\r\n\r\n                //--- Or This -----\r\n    //            alphaed = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\r\n    //            g2d = alphaed.createGraphics();\r\n    //            g2d.drawImage(master, 0, 0, this);\r\n    //            g2d.setComposite(AlphaComposite.SrcOver.derive(0.75f));\r\n    //            g2d.setColor(new Color(10, 20, 30, 192));\r\n    //            g2d.fillRect(0, 0, alphaed.getWidth(), alphaed.getHeight());\r\n    //            g2d.dispose();\r\n                //-----------------\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(master.getWidth() * 2, master.getHeight());\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                g2d.drawImage(master, 0, 0, this);\r\n                g2d.drawImage(alphaed, master.getWidth(), 0, this);\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QYAFx.png\r\n  [2]: https://i.stack.imgur.com/BDLkE.png","title":"Changing alpha value of an image","body":"<pre><code>public void changeImage (File currentImage) throws IOException {\n    BufferedImage img = ImageIO.read(currentImage);\n    for (int y = 0; y &lt; img.getHeight(); y++) {\n        for (int x = 0; x &lt; img.getWidth(); x++) {\n            int pixel = img.getRGB(x,y);\n            Color color = new Color(pixel);\n            int red = 10;\n            int green = 20;\n            int blue = 30;\n            int alpha = 40;\n            color = new Color(red, green, blue, alpha);\n            img.setRGB(x, y, color.getRGB());\n        }\n    }\n    File outputImage = new File(currentImage.getAbsolutePath().substring(0, currentImage.getAbsolutePath().length() - 4) + &quot;_encrypted.png&quot;);\n    ImageIO.write(img, &quot;png&quot;, outputImage);\n}\n</code></pre>\n<p>So, my immediate thoughts are:</p>\n<ul>\n<li>Why?!</li>\n<li>Did you really want to fill the entire image with a single color?</li>\n<li>Does the original image support a alpha based color model?</li>\n</ul>\n<p>So, if you really just wanted to fill the image with a single translucent color, you could have simply just done...</p>\n<pre><code>BufferedImage translucent = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\nGraphics2D g2d = translucent.createGraphics();\ng2d.setColor(new Color(10, 20, 30, 40));\ng2d.fillRect(0, 0, master.getWidth(), master.getHeight());\ng2d.dispose();\n</code></pre>\n<p>which would be faster.</p>\n<p>If, instead, you &quot;really&quot; wanted to make the image appear transparent, then you should probably have started with something like...</p>\n<pre><code>public static BufferedImage changeImage(BufferedImage master) {\n    BufferedImage img = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\n    for (int y = 0; y &lt; img.getHeight(); y++) {\n        for (int x = 0; x &lt; img.getWidth(); x++) {\n            int pixel = master.getRGB(x, y);\n            Color color = new Color(pixel);\n            int red = color.getRed();\n            int green = color.getGreen();\n            int blue = color.getBlue();\n            int alpha = 40;\n            color = new Color(red, green, blue, alpha);\n            img.setRGB(x, y, color.getRGB());\n        }\n    }\n    return img;\n}\n</code></pre>\n<p>This creates a new <code>BufferedImage</code> with a color model which supports transparency.  It then converts each pixel of the master image to have a alpha color and updates the new image with it.</p>\n<p>But again, you could just do something like...</p>\n<pre><code>BufferedImage img = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\nGraphics2D g2d = alphaed.createGraphics();\ng2d.setComposite(AlphaComposite.SrcOver.derive(0.156862745098039f));\ng2d.drawImage(master, 0, 0, this);\ng2d.dispose();\n</code></pre>\n<p>which would be faster.</p>\n<h1>Runnable example</h1>\n<p>So, left, original image, middle, your &quot;modified&quot; code, right, <code>AlphaComposite</code> based result</p>\n<p><a href=\"https://i.stack.imgur.com/QYAFx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QYAFx.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.AlphaComposite;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.imageio.ImageIO;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    JFrame frame = new JFrame();\n                    frame.add(new TestPane());\n                    frame.pack();\n                    frame.setLocationRelativeTo(null);\n                    frame.setVisible(true);\n                } catch (IOException ex) {\n                    Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n        });\n    }\n\n    public static BufferedImage changeImage(BufferedImage master) {\n        BufferedImage img = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\n        for (int y = 0; y &lt; img.getHeight(); y++) {\n            for (int x = 0; x &lt; img.getWidth(); x++) {\n                int pixel = master.getRGB(x, y);\n                Color color = new Color(pixel);\n                int red = color.getRed();\n                int green = color.getGreen();\n                int blue = color.getBlue();\n                int alpha = 40;\n                color = new Color(red, green, blue, alpha);\n                img.setRGB(x, y, color.getRGB());\n            }\n        }\n        return img;\n    }\n\n    public class TestPane extends JPanel {\n\n        private BufferedImage master;\n        private BufferedImage modified;\n        private BufferedImage alphaed;\n\n        public TestPane() throws IOException {\n            master = ImageIO.read(getClass().getResource(&quot;/images/MegaTokyo.png&quot;));\n            modified = changeImage(master);\n\n            alphaed = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\n            Graphics2D g2d = alphaed.createGraphics();\n            g2d.setComposite(AlphaComposite.SrcOver.derive(0.156862745098039f));\n            g2d.drawImage(master, 0, 0, this);\n            g2d.dispose();\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(master.getWidth() * 3, master.getHeight());\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            g2d.drawImage(master, 0, 0, this);\n            g2d.drawImage(modified, master.getWidth(), 0, this);\n            g2d.drawImage(alphaed, master.getWidth() * 2, 0, this);\n            g2d.dispose();\n        }\n\n    }\n}\n</code></pre>\n<hr />\n<p>Now, it occurs to me that you might be trying to put a color &quot;overlay&quot; on top of the image</p>\n<p>In which case you try doing something like...</p>\n<pre><code>BufferedImage colorOverlay = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\nGraphics2D g2d = colorOverlay.createGraphics();\ng2d.setColor(new Color(10, 20, 30, 192));\ng2d.fillRect(0, 0, colorOverlay.getWidth(), colorOverlay.getHeight());\ng2d.dispose();\n\n\nalphaed = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\ng2d = alphaed.createGraphics();\ng2d.drawImage(master, 0, 0, this);\ng2d.drawImage(colorOverlay, 0, 0, this);\ng2d.dispose();\n</code></pre>\n<p>which could be simplifed to something like...</p>\n<pre><code>alphaed = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\ng2d = alphaed.createGraphics();\ng2d.drawImage(master, 0, 0, this);\ng2d.setComposite(AlphaComposite.SrcOver.derive(0.75f));\ng2d.setColor(new Color(10, 20, 30, 192));\ng2d.fillRect(0, 0, alphaed.getWidth(), alphaed.getHeight());\ng2d.dispose();\n</code></pre>\n<p><em>(nb: I tried using <code>40</code> as the alpha component, but it made such little difference, I changed it to <code>192</code> for demonstration purposes)</em></p>\n<h1>Runnable example</h1>\n<p><a href=\"https://i.stack.imgur.com/BDLkE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BDLkE.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.AlphaComposite;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.imageio.ImageIO;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    JFrame frame = new JFrame();\n                    frame.add(new TestPane());\n                    frame.pack();\n                    frame.setLocationRelativeTo(null);\n                    frame.setVisible(true);\n                } catch (IOException ex) {\n                    Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n        });\n    }\n\n    public static BufferedImage changeImage(BufferedImage master) {\n        BufferedImage img = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\n        for (int y = 0; y &lt; img.getHeight(); y++) {\n            for (int x = 0; x &lt; img.getWidth(); x++) {\n                int pixel = master.getRGB(x, y);\n                Color color = new Color(pixel);\n                int red = color.getRed();\n                int green = color.getGreen();\n                int blue = color.getBlue();\n                int alpha = 40;\n                color = new Color(red, green, blue, alpha);\n                img.setRGB(x, y, color.getRGB());\n            }\n        }\n        return img;\n    }\n\n    public class TestPane extends JPanel {\n\n        private BufferedImage master;\n        private BufferedImage alphaed;\n\n        public TestPane() throws IOException {\n            master = ImageIO.read(getClass().getResource(&quot;/images/MegaTokyo.png&quot;));\n\n            //--- This -----\n            BufferedImage colorOverlay = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\n            Graphics2D g2d = colorOverlay.createGraphics();\n            g2d.setColor(new Color(10, 20, 30, 192));\n            g2d.fillRect(0, 0, colorOverlay.getWidth(), colorOverlay.getHeight());\n            g2d.dispose();\n\n            alphaed = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\n            g2d = alphaed.createGraphics();\n            g2d.drawImage(master, 0, 0, this);\n            g2d.drawImage(colorOverlay, 0, 0, this);\n            g2d.dispose();\n            //--------------\n\n            //--- Or This -----\n//            alphaed = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\n//            g2d = alphaed.createGraphics();\n//            g2d.drawImage(master, 0, 0, this);\n//            g2d.setComposite(AlphaComposite.SrcOver.derive(0.75f));\n//            g2d.setColor(new Color(10, 20, 30, 192));\n//            g2d.fillRect(0, 0, alphaed.getWidth(), alphaed.getHeight());\n//            g2d.dispose();\n            //-----------------\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(master.getWidth() * 2, master.getHeight());\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            g2d.drawImage(master, 0, 0, this);\n            g2d.drawImage(alphaed, master.getWidth(), 0, this);\n            g2d.dispose();\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27604731,"reputation":1,"user_id":21069125,"display_name":"BubbyWubby"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674518838,"creation_date":1674514957,"question_id":75215942,"body_markdown":"I am trying to change the alpha value of an image, I have the code\r\n\r\n```\r\n    public void changeImage (File currentImage) throws IOException {\r\n        BufferedImage img = ImageIO.read(currentImage);\r\n        for (int y = 0; y &lt; img.getHeight(); y++) {\r\n            for (int x = 0; x &lt; img.getWidth(); x++) {\r\n                int pixel = img.getRGB(x,y);\r\n                Color color = new Color(pixel);\r\n                int red = 10;\r\n                int green = 20;\r\n                int blue = 30;\r\n                int alpha = 40;\r\n                color = new Color(red, green, blue, alpha);\r\n                img.setRGB(x, y, color.getRGB());\r\n            }\r\n        }\r\n        File outputImage = new File(currentImage.getAbsolutePath().substring(0, currentImage.getAbsolutePath().length() - 4) + &quot;_encrypted.png&quot;);\r\n        ImageIO.write(img, &quot;png&quot;, outputImage);\r\n    }\r\n```\r\n\r\nThe colors change just fine and when I get Java to print the new photo&#39;s alpha value, it says it&#39;s 40 but it doesn&#39;t look less transparent at all. Like the colors obviously change but the transparency does not. [Example](https://i.stack.imgur.com/zi1eL.png) Like see, it&#39;s not less transparent at all, this is my first time with colors.\r\n\r\nI have tried to do `Color color = new Color(pixel, true);` instead but it didn&#39;t really change anything.","title":"Changing alpha value of an image","body":"<p>I am trying to change the alpha value of an image, I have the code</p>\n<pre><code>    public void changeImage (File currentImage) throws IOException {\n        BufferedImage img = ImageIO.read(currentImage);\n        for (int y = 0; y &lt; img.getHeight(); y++) {\n            for (int x = 0; x &lt; img.getWidth(); x++) {\n                int pixel = img.getRGB(x,y);\n                Color color = new Color(pixel);\n                int red = 10;\n                int green = 20;\n                int blue = 30;\n                int alpha = 40;\n                color = new Color(red, green, blue, alpha);\n                img.setRGB(x, y, color.getRGB());\n            }\n        }\n        File outputImage = new File(currentImage.getAbsolutePath().substring(0, currentImage.getAbsolutePath().length() - 4) + &quot;_encrypted.png&quot;);\n        ImageIO.write(img, &quot;png&quot;, outputImage);\n    }\n</code></pre>\n<p>The colors change just fine and when I get Java to print the new photo's alpha value, it says it's 40 but it doesn't look less transparent at all. Like the colors obviously change but the transparency does not. <a href=\"https://i.stack.imgur.com/zi1eL.png\" rel=\"nofollow noreferrer\">Example</a> Like see, it's not less transparent at all, this is my first time with colors.</p>\n<p>I have tried to do <code>Color color = new Color(pixel, true);</code> instead but it didn't really change anything.</p>\n"},{"tags":["java","selenium","cucumber"],"answers":[{"tags":[],"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674518784,"creation_date":1674518784,"answer_id":75216288,"question_id":75209443,"body_markdown":"The [Tag Expression](https://github.com/cucumber/tag-expressions) `@test1 and @test2` selects all scenarios that are tagged with both `@test1` and `@test2`. If you want all scenarios with atleast one of those two tags you should use `@test1 or @test2`.","title":"Process finished with exit code 0 error while using multiple tags in Cucumber version 7.2.3","body":"<p>The <a href=\"https://github.com/cucumber/tag-expressions\" rel=\"nofollow noreferrer\">Tag Expression</a> <code>@test1 and @test2</code> selects all scenarios that are tagged with both <code>@test1</code> and <code>@test2</code>. If you want all scenarios with atleast one of those two tags you should use <code>@test1 or @test2</code>.</p>\n"}],"owner":{"account_id":27600127,"reputation":1,"user_id":21065530,"display_name":"Taza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674518784,"creation_date":1674476534,"question_id":75209443,"body_markdown":"Below is my Runner file:\r\n```\r\n@CucumberOptions(\r\n\r\n    plugin = {&quot;json:target/cucumber.json&quot;},\r\n\r\n    features = &quot;src/test/resources/features&quot;,\r\n\r\n    glue = &quot;com/company/definitions&quot;,\r\n\r\n    dryRun = false,\r\n\r\n    tags = &quot;@test1 and @test2&quot; \r\n)\r\n```\r\nIf there is only 1 tag, then it is running correctly; but if I add another tag (i.e.@test1 and @test2), then it is giving &quot;Process finished with exit code 0&quot; error in the console.\r\n\r\n\r\n\r\nI have tried all the possible options even the old versions without any success. Is there an update in Cucumber related to tags? Anyone faced the same issue?","title":"Process finished with exit code 0 error while using multiple tags in Cucumber version 7.2.3","body":"<p>Below is my Runner file:</p>\n<pre><code>@CucumberOptions(\n\n    plugin = {&quot;json:target/cucumber.json&quot;},\n\n    features = &quot;src/test/resources/features&quot;,\n\n    glue = &quot;com/company/definitions&quot;,\n\n    dryRun = false,\n\n    tags = &quot;@test1 and @test2&quot; \n)\n</code></pre>\n<p>If there is only 1 tag, then it is running correctly; but if I add another tag (i.e.@test1 and @test2), then it is giving &quot;Process finished with exit code 0&quot; error in the console.</p>\n<p>I have tried all the possible options even the old versions without any success. Is there an update in Cucumber related to tags? Anyone faced the same issue?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":123802,"reputation":37785,"user_id":318493,"accept_rate":67,"display_name":"RoToRa"},"score":0,"creation_date":1674482434,"post_id":75209893,"comment_id":132716979,"body_markdown":"3.0.2 is the newest version that just came out. It&#39;s very unlikely for the newest version to have any known vulnerabilities or there would be a newer version.","body":"3.0.2 is the newest version that just came out. It&#39;s very unlikely for the newest version to have any known vulnerabilities or there would be a newer version."},{"owner":{"account_id":1822566,"reputation":199,"user_id":1656253,"display_name":"Rahul J"},"score":0,"creation_date":1674518786,"post_id":75209893,"comment_id":132727384,"body_markdown":"While spring might have fixed direct vulnerabilities, there can be few vulnerabilities which are coming from transitive dependency. \nIs there a way to find all vulnerabilities coming from direct and transitive dependencies ?","body":"While spring might have fixed direct vulnerabilities, there can be few vulnerabilities which are coming from transitive dependency.  Is there a way to find all vulnerabilities coming from direct and transitive dependencies ?"}],"answers":[{"tags":[],"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674482383,"creation_date":1674482383,"answer_id":75210555,"question_id":75209893,"body_markdown":"The answer is not easy, because we don&#39;t know all your used (sub-)dependencies. And an answer can be outdate in a couple of hours/days/weeeks ...\r\n\r\nBut you can lookup the dependencies manually with the new MavenCentral-website.  \r\nAn example: When you search for &quot;Spring JPA&quot;, then you will find this site: https://search.maven.org/artifact/org.springframework.boot/spring-boot-starter-data-jpa/3.0.2/jar\r\n\r\nAnd there is button to view the OSS-index which is pointing to this site:  \r\n[![Image of OSS-index at MavenCentral][1]][1]\r\nhttps://ossindex.sonatype.org/component/pkg:maven/org.springframework.boot/spring-boot-starter-data-jpa@3.0.2\r\n\r\nOr, just make the upgrade and let your IDE resolve all the vulnerabilities automatically.  \r\nIntelliJ does it very well:  \r\n[![Image of pom.xml in IntelliJ with warning][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/blqsT.png\r\n  [2]: https://i.stack.imgur.com/WJCsx.png","title":"Vulnerabilities list in Spring boot 3.0.2","body":"<p>The answer is not easy, because we don't know all your used (sub-)dependencies. And an answer can be outdate in a couple of hours/days/weeeks ...</p>\n<p>But you can lookup the dependencies manually with the new MavenCentral-website.<br />\nAn example: When you search for &quot;Spring JPA&quot;, then you will find this site: <a href=\"https://search.maven.org/artifact/org.springframework.boot/spring-boot-starter-data-jpa/3.0.2/jar\" rel=\"nofollow noreferrer\">https://search.maven.org/artifact/org.springframework.boot/spring-boot-starter-data-jpa/3.0.2/jar</a></p>\n<p>And there is button to view the OSS-index which is pointing to this site:<br />\n<a href=\"https://i.stack.imgur.com/blqsT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/blqsT.png\" alt=\"Image of OSS-index at MavenCentral\" /></a>\n<a href=\"https://ossindex.sonatype.org/component/pkg:maven/org.springframework.boot/spring-boot-starter-data-jpa@3.0.2\" rel=\"nofollow noreferrer\">https://ossindex.sonatype.org/component/pkg:maven/org.springframework.boot/spring-boot-starter-data-jpa@3.0.2</a></p>\n<p>Or, just make the upgrade and let your IDE resolve all the vulnerabilities automatically.<br />\nIntelliJ does it very well:<br />\n<a href=\"https://i.stack.imgur.com/WJCsx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WJCsx.png\" alt=\"Image of pom.xml in IntelliJ with warning\" /></a></p>\n"}],"owner":{"account_id":1822566,"reputation":199,"user_id":1656253,"display_name":"Rahul J"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":947,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"accepted_answer_id":75210555,"answer_count":1,"score":-3,"last_activity_date":1674518777,"creation_date":1674478786,"question_id":75209893,"body_markdown":"I am planning to upgrade services from spring boot 2.2.6 to 3.0.2. I want to know if latest spring boot version has any new vulnerabilities and if all old vulnerabilities have been fixed in the spring boot latest version? Where can I get this information?  \r\nNote : I can see list of 57 vulnerabilities from maven repository in 2.2.6 version, but it did not list any vulnerabilities for 3.0.2 version.  While spring might have fixed direct vulnerabilities, there can be few vulnerabilities which are coming from transitive dependency. \r\nIs there a way to find all vulnerabilities coming from direct and transitive dependencies ?   ","title":"Vulnerabilities list in Spring boot 3.0.2","body":"<p>I am planning to upgrade services from spring boot 2.2.6 to 3.0.2. I want to know if latest spring boot version has any new vulnerabilities and if all old vulnerabilities have been fixed in the spring boot latest version? Where can I get this information?<br />\nNote : I can see list of 57 vulnerabilities from maven repository in 2.2.6 version, but it did not list any vulnerabilities for 3.0.2 version.  While spring might have fixed direct vulnerabilities, there can be few vulnerabilities which are coming from transitive dependency.\nIs there a way to find all vulnerabilities coming from direct and transitive dependencies ?</p>\n"},{"tags":["java","android","android-activity","android-actionbar","navigation-drawer"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1674516488,"post_id":75216076,"comment_id":132727029,"body_markdown":"It might be in your layout, actually. The drawer in a `&lt;DrawerLayout&gt;` should be listed last. That is, the `&lt;NavigationView&gt;` should be that last thing inside the `&lt;DrawerLayout&gt;` tags. Have a look here: https://stackoverflow.com/q/31397792.","body":"It might be in your layout, actually. The drawer in a <code>&lt;DrawerLayout&gt;</code> should be listed last. That is, the <code>&lt;NavigationView&gt;</code> should be that last thing inside the <code>&lt;DrawerLayout&gt;</code> tags. Have a look here: <a href=\"https://stackoverflow.com/q/31397792\">stackoverflow.com/q/31397792</a>."},{"owner":{"account_id":26567360,"reputation":20,"user_id":20194160,"display_name":"EagleGrant"},"score":1,"creation_date":1674518602,"post_id":75216076,"comment_id":132727344,"body_markdown":"Ah, yup. That fixed it. I had no idea. Thank you so much!!!","body":"Ah, yup. That fixed it. I had no idea. Thank you so much!!!"}],"owner":{"account_id":26567360,"reputation":20,"user_id":20194160,"display_name":"EagleGrant"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674518719,"creation_date":1674516237,"question_id":75216076,"body_markdown":"I need a side drawer layout, with a navigation view that contains a few buttons, doing different things. The issue I am having is that when I go to add ANYTHING within my &quot;onNavigationItemSelected&quot; listener, it never does anything. Basically, I assign the drawer+nav view, then do the ActionBarDrawerToggle with the proper items, and add the DrawerListener, then sync, then add the NavItemSelectedListener. This doesn&#39;t work. (Won&#39;t respond to clicks)  \r\nHere&#39;s the code:\r\n\r\n```\r\n    private Toolbar toolbar;\r\n    private DrawerLayout drawerLayout;\r\n    private NavigationView navigationView;\r\n@Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\ntoolbar = findViewById(R.id.main_toolbar);\r\n        setSupportActionBar(toolbar);\r\n        drawerLayout = findViewById(R.id.drawerlayout);\r\n        navigationView = findViewById(R.id.nav_view);\r\n        ActionBarDrawerToggle actionBarDrawerToggle = new ActionBarDrawerToggle(this,drawerLayout,toolbar,R.string.open,R.string.close);\r\n        drawerLayout.addDrawerListener(actionBarDrawerToggle);\r\n        actionBarDrawerToggle.syncState();\r\n        navigationView.setNavigationItemSelectedListener(this);\r\n}\r\n    private void replaceFragment(Fragment fragment,String title) {\r\n    FragmentManager fragmentManager = getSupportFragmentManager();\r\n    FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction()\r\n            .setCustomAnimations(R.anim.slide_in,\r\n                            R.anim.fade_out,\r\n                            R.anim.fade_in,\r\n                            R.anim.slide_out)\r\n            .setReorderingAllowed(true)\r\n            .replace(R.id.frameLayout, fragment,title)\r\n            .addToBackStack(null);\r\n    fragmentTransaction.commit();\r\n    }\r\n  @Override\r\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n        replaceFragment(new Auto(),&quot;auto&quot;);\r\n        return false;\r\n    }\r\n```\r\n\r\nIf this doesn&#39;t give a clear answer, here is ALL of the code for this task.\r\n\r\n```\r\npackage com.gtappdevelopers.firebasestorageimage;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.ActionBarDrawerToggle;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.Toolbar;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.core.view.GravityCompat;\r\nimport androidx.drawerlayout.widget.DrawerLayout;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentManager;\r\nimport androidx.fragment.app.FragmentTransaction;\r\nimport androidx.navigation.NavController;\r\nimport androidx.navigation.Navigation;\r\nimport androidx.navigation.ui.AppBarConfiguration;\r\nimport androidx.navigation.ui.NavigationUI;\r\n\r\nimport android.Manifest;\r\nimport android.content.ClipData;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.graphics.Point;\r\nimport android.os.Bundle;\r\nimport android.view.Display;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.view.WindowManager;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\r\nimport com.google.android.material.navigation.NavigationView;\r\nimport com.gtappdevelopers.firebasestorageimage.databinding.ActivityMainBinding;\r\n\r\nimport java.util.ArrayList;\r\npublic class MainActivity extends AppCompatActivity implements View.OnClickListener, NavigationView.OnNavigationItemSelectedListener {\r\n    ActivityMainBinding binding;\r\n    FloatingActionButton fab;\r\n    static String balance = &quot;NA&quot;;\r\n    static int match = -1;\r\n    static int team = -1;\r\n    static String autoC = &quot;NA&quot;;\r\n    static String teleC = &quot;NA&quot;;\r\n    public static int dimen;\r\n    static ArrayList&lt;Integer&gt; grid;\r\n    static ArrayList&lt;Integer&gt; teleGrid;\r\n    private Toolbar toolbar;\r\n    private DrawerLayout drawerLayout;\r\n    private NavigationView navigationView;\r\n    private AppBarConfiguration mAppBarConfiguration;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n        replaceFragment(new BeforeMatchFragment(),&quot;before&quot;);\r\n        fab = findViewById(R.id.fab);\r\n\r\n\r\n        toolbar = (Toolbar) findViewById(R.id.main_toolbar);\r\n        setSupportActionBar(toolbar);\r\n        drawerLayout = (DrawerLayout) findViewById(R.id.drawerlayout);\r\n        navigationView = (NavigationView) findViewById(R.id.nav_view);\r\n        navigationView.setNavigationItemSelectedListener(this);\r\n        ActionBarDrawerToggle actionBarDrawerToggle = new ActionBarDrawerToggle(this,drawerLayout,toolbar,R.string.open,R.string.close);\r\n        drawerLayout.setDrawerListener(actionBarDrawerToggle);\r\n        actionBarDrawerToggle.syncState();\r\n         WindowManager manager = (WindowManager) this.getSystemService(WINDOW_SERVICE);\r\n        //initializing a variable for default display.\r\n        Display display = manager.getDefaultDisplay();\r\n        //creating a variable for point which is to be displayed in QR Code.\r\n        Point point = new Point();\r\n        display.getSize(point);\r\n        //getting width and height of a point\r\n        int width = point.x;\r\n        int height = point.y;\r\n        //generating dimension from width and height.\r\n        dimen = Math.min(width, height);\r\n        dimen = dimen * 3 / 4;\r\n\r\n        fab.setOnClickListener(this);\r\n        while (!checkPermission()) {\r\n            requestPermission();\r\n        }\r\n        binding.bottomNavigationView.setOnItemSelectedListener(item -&gt; {\r\n            switch (item.getItemId()) {\r\n                case R.id.before:\r\n                    replaceFragment(new BeforeMatchFragment(),&quot;before&quot;);\r\n                    break;\r\n                case R.id.auto:\r\n                    replaceFragment(new Auto(),&quot;auto&quot;);\r\n                    break;\r\n                case R.id.tele:\r\n                    replaceFragment(new TeleOp(),&quot;tele&quot;);\r\n                    break;\r\n                case R.id.end:\r\n                    replaceFragment(new EndGame(),&quot;end&quot;);\r\n                    break;\r\n                case R.id.dock:\r\n                    replaceFragment(new Docking(),&quot;docking&quot;);\r\n                    break;\r\n            }\r\n            return true;\r\n        });\r\n    }\r\n    @Override\r\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n        int id = item.getItemId();\r\n        switch (id){\r\n            case R.id.newTeam:\r\n                Intent intent = new Intent(MainActivity.this,MainActivity.class);\r\n                startActivity(intent);\r\n                break;\r\n            case R.id.FileViewer:\r\n                Intent intent1= new Intent(MainActivity.this,FileListActivity.class);\r\n                startActivity(intent1);\r\n                break;\r\n            case R.id.NightMode:\r\n                SplashActivity.setNight();\r\n        }\r\n        drawerLayout.closeDrawer(GravityCompat.START);\r\n        return true;\r\n    }\r\n    @Override\r\n    public void onBackPressed(){\r\n        super.onBackPressed();\r\n    }\r\n    @Override\r\n    public void onClick(View view) {\r\n\r\n        switch (view.getId()) {\r\n            case R.id.fab:\r\n\r\n                BeforeMatchFragment beforeFrag = (BeforeMatchFragment)getSupportFragmentManager().findFragmentByTag(&quot;before&quot;);\r\n                EndGame endFrag = (EndGame)getSupportFragmentManager().findFragmentByTag(&quot;end&quot;);\r\n                Auto autoFrag = (Auto)getSupportFragmentManager().findFragmentByTag(&quot;auto&quot;);\r\n                TeleOp teleFrag = (TeleOp)getSupportFragmentManager().findFragmentByTag(&quot;tele&quot;);\r\n                Docking dockFrag = (Docking)getSupportFragmentManager().findFragmentByTag(&quot;docking&quot;);\r\n\r\n                if (beforeFrag != null &amp;&amp; beforeFrag.isVisible()) {\r\n                    Intent intent = new Intent(MainActivity.this,SplashActivity.class);\r\n                    startActivity(intent);\r\n                }else if (autoFrag != null &amp;&amp; autoFrag.isVisible()) {\r\n                    binding.bottomNavigationView.setSelectedItemId(R.id.before);\r\n                    replaceFragment(new BeforeMatchFragment(), &quot;before&quot;);\r\n                }else if (teleFrag != null &amp;&amp; teleFrag.isVisible()) {\r\n                    binding.bottomNavigationView.setSelectedItemId(R.id.auto);\r\n\r\n                    replaceFragment(new Auto(), &quot;auto&quot;);\r\n                }else if (endFrag != null &amp;&amp; endFrag.isVisible()) {\r\n                    binding.bottomNavigationView.setSelectedItemId(R.id.dock);\r\n                    replaceFragment(new Docking(), &quot;docking&quot;);\r\n                }else if (dockFrag != null &amp;&amp; dockFrag.isVisible()) {\r\n                    binding.bottomNavigationView.setSelectedItemId(R.id.tele);\r\n                    replaceFragment(new TeleOp(), &quot;tele&quot;);\r\n                }\r\n                break;\r\n        }\r\n    }\r\n\r\n    private void replaceFragment(Fragment fragment,String title) {\r\n    FragmentManager fragmentManager = getSupportFragmentManager();\r\n    FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction()\r\n            .setCustomAnimations(R.anim.slide_in,\r\n                            R.anim.fade_out,\r\n                            R.anim.fade_in,\r\n                            R.anim.slide_out)\r\n            .setReorderingAllowed(true)\r\n            .replace(R.id.frameLayout, fragment,title)\r\n            .addToBackStack(null);\r\n    fragmentTransaction.commit();\r\n    }\r\n    public boolean checkPermission(){\r\n        int result = ContextCompat.checkSelfPermission(MainActivity.this, android.Manifest.permission.WRITE_EXTERNAL_STORAGE);\r\n        if(result == PackageManager.PERMISSION_GRANTED) {\r\n            return true;\r\n        }else{\r\n            return false;\r\n\r\n        }\r\n    }\r\n    private void requestPermission(){\r\n        if (ActivityCompat.shouldShowRequestPermissionRationale(MainActivity.this, android.Manifest.permission.WRITE_EXTERNAL_STORAGE)) {\r\n            Toast.makeText(MainActivity.this,&quot;Storage permission is required, please allow it from settings.&quot;,Toast.LENGTH_SHORT).show();\r\n        }else{\r\n            ActivityCompat.requestPermissions(MainActivity.this,new String[] {Manifest.permission.WRITE_EXTERNAL_STORAGE},111);\r\n        }\r\n    }\r\n    public static void setBalance(String balance) {\r\n        MainActivity.balance = balance;\r\n    }\r\n    public static void setMatch(int match) {\r\n        MainActivity.match = match;\r\n    }\r\n    public static void setTeam(int team) {\r\n        MainActivity.team = team;\r\n    }\r\n    public static void setAutoC(String autoC) {\r\n        MainActivity.autoC = autoC;\r\n    }\r\n    public static void setTeleC(String teleC) {\r\n        MainActivity.teleC = teleC;\r\n    }\r\n    public static void setGrid( ArrayList&lt;Integer&gt; grid) {\r\n        MainActivity.grid = grid;\r\n    }\r\n    public static void setTeleGrid( ArrayList&lt;Integer&gt; teleGrid) {\r\n        MainActivity.teleGrid = teleGrid;\r\n    }\r\n    public static int getDimen() {\r\n        return dimen;\r\n    }\r\n    public static int getMatch() {\r\n        return match;\r\n    }\r\n    public static int getTeam() {\r\n        return team;\r\n    }\r\n    public static String getAutoC() {\r\n        return autoC;\r\n    }\r\n    public static String getTeleC() {\r\n        return teleC;\r\n    }\r\n\r\n    public static String getBalance() {\r\n        return balance;\r\n    }\r\n    public static ArrayList&lt;Integer&gt; getGrid() {\r\n        return grid;\r\n    }\r\n    public static ArrayList&lt;Integer&gt; getTeleGrid() {\r\n        return teleGrid;\r\n    }\r\n    public static String getAllData(){\r\n        return String.valueOf(match) + &quot;\\n&quot; + String.valueOf(team) + &quot;\\n&quot; + autoC + &quot;\\n&quot; + grid.toString() + &quot;\\n&quot; + teleC + &quot;\\n&quot; + teleGrid.toString() + &quot;\\n&quot; + balance;\r\n    }\r\n    public static void clearData(){\r\n        match = -1;\r\n        team = -1;\r\n        autoC = &quot;NA&quot;;\r\n        grid = new ArrayList&lt;Integer&gt;();\r\n        for (int i = 0; i &lt; 27; i++) {\r\n            grid.add(i,0);\r\n        }\r\n        teleC = &quot;NA&quot;;\r\n        teleGrid = new ArrayList&lt;Integer&gt;();\r\n        for (int i = 0; i &lt; 27; i++) {\r\n            teleGrid.add(i,0);\r\n        }\r\n        balance = &quot;NA&quot;;\r\n    }\r\n\r\n\r\n\r\n}\r\n```\r\n\r\nI have tried using a switch statement to detect which ID clicked the Item, but none worked. Then I tried making it so that ANY item that clicked the navigationView made the entire screen swap fragments. This did not work. Then, I tried getting a Toast.makeText() to show up when I clicked ANY Item, this did not work. I&#39;m expecting the bug to be somewhere within my NavView set up/on create code.\r\nEDIT: The answer was that within my  XML, my NavigationView was before my actual content within the screen. You must put the nav View AFTER the layout, be it relative, constraint, etc. It should be the last thing in the drawer layout, basically. This answer was given to me by Mike M. Thanks Mike!","title":"My Navigation View Item Listener Does Not Respond?","body":"<p>I need a side drawer layout, with a navigation view that contains a few buttons, doing different things. The issue I am having is that when I go to add ANYTHING within my &quot;onNavigationItemSelected&quot; listener, it never does anything. Basically, I assign the drawer+nav view, then do the ActionBarDrawerToggle with the proper items, and add the DrawerListener, then sync, then add the NavItemSelectedListener. This doesn't work. (Won't respond to clicks)<br />\nHere's the code:</p>\n<pre><code>    private Toolbar toolbar;\n    private DrawerLayout drawerLayout;\n    private NavigationView navigationView;\n@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\ntoolbar = findViewById(R.id.main_toolbar);\n        setSupportActionBar(toolbar);\n        drawerLayout = findViewById(R.id.drawerlayout);\n        navigationView = findViewById(R.id.nav_view);\n        ActionBarDrawerToggle actionBarDrawerToggle = new ActionBarDrawerToggle(this,drawerLayout,toolbar,R.string.open,R.string.close);\n        drawerLayout.addDrawerListener(actionBarDrawerToggle);\n        actionBarDrawerToggle.syncState();\n        navigationView.setNavigationItemSelectedListener(this);\n}\n    private void replaceFragment(Fragment fragment,String title) {\n    FragmentManager fragmentManager = getSupportFragmentManager();\n    FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction()\n            .setCustomAnimations(R.anim.slide_in,\n                            R.anim.fade_out,\n                            R.anim.fade_in,\n                            R.anim.slide_out)\n            .setReorderingAllowed(true)\n            .replace(R.id.frameLayout, fragment,title)\n            .addToBackStack(null);\n    fragmentTransaction.commit();\n    }\n  @Override\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n        replaceFragment(new Auto(),&quot;auto&quot;);\n        return false;\n    }\n</code></pre>\n<p>If this doesn't give a clear answer, here is ALL of the code for this task.</p>\n<pre><code>package com.gtappdevelopers.firebasestorageimage;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.ActionBarDrawerToggle;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.appcompat.widget.Toolbar;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\nimport androidx.core.view.GravityCompat;\nimport androidx.drawerlayout.widget.DrawerLayout;\nimport androidx.fragment.app.Fragment;\nimport androidx.fragment.app.FragmentManager;\nimport androidx.fragment.app.FragmentTransaction;\nimport androidx.navigation.NavController;\nimport androidx.navigation.Navigation;\nimport androidx.navigation.ui.AppBarConfiguration;\nimport androidx.navigation.ui.NavigationUI;\n\nimport android.Manifest;\nimport android.content.ClipData;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.graphics.Point;\nimport android.os.Bundle;\nimport android.view.Display;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.view.WindowManager;\nimport android.widget.Toast;\n\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\nimport com.google.android.material.navigation.NavigationView;\nimport com.gtappdevelopers.firebasestorageimage.databinding.ActivityMainBinding;\n\nimport java.util.ArrayList;\npublic class MainActivity extends AppCompatActivity implements View.OnClickListener, NavigationView.OnNavigationItemSelectedListener {\n    ActivityMainBinding binding;\n    FloatingActionButton fab;\n    static String balance = &quot;NA&quot;;\n    static int match = -1;\n    static int team = -1;\n    static String autoC = &quot;NA&quot;;\n    static String teleC = &quot;NA&quot;;\n    public static int dimen;\n    static ArrayList&lt;Integer&gt; grid;\n    static ArrayList&lt;Integer&gt; teleGrid;\n    private Toolbar toolbar;\n    private DrawerLayout drawerLayout;\n    private NavigationView navigationView;\n    private AppBarConfiguration mAppBarConfiguration;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n        replaceFragment(new BeforeMatchFragment(),&quot;before&quot;);\n        fab = findViewById(R.id.fab);\n\n\n        toolbar = (Toolbar) findViewById(R.id.main_toolbar);\n        setSupportActionBar(toolbar);\n        drawerLayout = (DrawerLayout) findViewById(R.id.drawerlayout);\n        navigationView = (NavigationView) findViewById(R.id.nav_view);\n        navigationView.setNavigationItemSelectedListener(this);\n        ActionBarDrawerToggle actionBarDrawerToggle = new ActionBarDrawerToggle(this,drawerLayout,toolbar,R.string.open,R.string.close);\n        drawerLayout.setDrawerListener(actionBarDrawerToggle);\n        actionBarDrawerToggle.syncState();\n         WindowManager manager = (WindowManager) this.getSystemService(WINDOW_SERVICE);\n        //initializing a variable for default display.\n        Display display = manager.getDefaultDisplay();\n        //creating a variable for point which is to be displayed in QR Code.\n        Point point = new Point();\n        display.getSize(point);\n        //getting width and height of a point\n        int width = point.x;\n        int height = point.y;\n        //generating dimension from width and height.\n        dimen = Math.min(width, height);\n        dimen = dimen * 3 / 4;\n\n        fab.setOnClickListener(this);\n        while (!checkPermission()) {\n            requestPermission();\n        }\n        binding.bottomNavigationView.setOnItemSelectedListener(item -&gt; {\n            switch (item.getItemId()) {\n                case R.id.before:\n                    replaceFragment(new BeforeMatchFragment(),&quot;before&quot;);\n                    break;\n                case R.id.auto:\n                    replaceFragment(new Auto(),&quot;auto&quot;);\n                    break;\n                case R.id.tele:\n                    replaceFragment(new TeleOp(),&quot;tele&quot;);\n                    break;\n                case R.id.end:\n                    replaceFragment(new EndGame(),&quot;end&quot;);\n                    break;\n                case R.id.dock:\n                    replaceFragment(new Docking(),&quot;docking&quot;);\n                    break;\n            }\n            return true;\n        });\n    }\n    @Override\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n        int id = item.getItemId();\n        switch (id){\n            case R.id.newTeam:\n                Intent intent = new Intent(MainActivity.this,MainActivity.class);\n                startActivity(intent);\n                break;\n            case R.id.FileViewer:\n                Intent intent1= new Intent(MainActivity.this,FileListActivity.class);\n                startActivity(intent1);\n                break;\n            case R.id.NightMode:\n                SplashActivity.setNight();\n        }\n        drawerLayout.closeDrawer(GravityCompat.START);\n        return true;\n    }\n    @Override\n    public void onBackPressed(){\n        super.onBackPressed();\n    }\n    @Override\n    public void onClick(View view) {\n\n        switch (view.getId()) {\n            case R.id.fab:\n\n                BeforeMatchFragment beforeFrag = (BeforeMatchFragment)getSupportFragmentManager().findFragmentByTag(&quot;before&quot;);\n                EndGame endFrag = (EndGame)getSupportFragmentManager().findFragmentByTag(&quot;end&quot;);\n                Auto autoFrag = (Auto)getSupportFragmentManager().findFragmentByTag(&quot;auto&quot;);\n                TeleOp teleFrag = (TeleOp)getSupportFragmentManager().findFragmentByTag(&quot;tele&quot;);\n                Docking dockFrag = (Docking)getSupportFragmentManager().findFragmentByTag(&quot;docking&quot;);\n\n                if (beforeFrag != null &amp;&amp; beforeFrag.isVisible()) {\n                    Intent intent = new Intent(MainActivity.this,SplashActivity.class);\n                    startActivity(intent);\n                }else if (autoFrag != null &amp;&amp; autoFrag.isVisible()) {\n                    binding.bottomNavigationView.setSelectedItemId(R.id.before);\n                    replaceFragment(new BeforeMatchFragment(), &quot;before&quot;);\n                }else if (teleFrag != null &amp;&amp; teleFrag.isVisible()) {\n                    binding.bottomNavigationView.setSelectedItemId(R.id.auto);\n\n                    replaceFragment(new Auto(), &quot;auto&quot;);\n                }else if (endFrag != null &amp;&amp; endFrag.isVisible()) {\n                    binding.bottomNavigationView.setSelectedItemId(R.id.dock);\n                    replaceFragment(new Docking(), &quot;docking&quot;);\n                }else if (dockFrag != null &amp;&amp; dockFrag.isVisible()) {\n                    binding.bottomNavigationView.setSelectedItemId(R.id.tele);\n                    replaceFragment(new TeleOp(), &quot;tele&quot;);\n                }\n                break;\n        }\n    }\n\n    private void replaceFragment(Fragment fragment,String title) {\n    FragmentManager fragmentManager = getSupportFragmentManager();\n    FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction()\n            .setCustomAnimations(R.anim.slide_in,\n                            R.anim.fade_out,\n                            R.anim.fade_in,\n                            R.anim.slide_out)\n            .setReorderingAllowed(true)\n            .replace(R.id.frameLayout, fragment,title)\n            .addToBackStack(null);\n    fragmentTransaction.commit();\n    }\n    public boolean checkPermission(){\n        int result = ContextCompat.checkSelfPermission(MainActivity.this, android.Manifest.permission.WRITE_EXTERNAL_STORAGE);\n        if(result == PackageManager.PERMISSION_GRANTED) {\n            return true;\n        }else{\n            return false;\n\n        }\n    }\n    private void requestPermission(){\n        if (ActivityCompat.shouldShowRequestPermissionRationale(MainActivity.this, android.Manifest.permission.WRITE_EXTERNAL_STORAGE)) {\n            Toast.makeText(MainActivity.this,&quot;Storage permission is required, please allow it from settings.&quot;,Toast.LENGTH_SHORT).show();\n        }else{\n            ActivityCompat.requestPermissions(MainActivity.this,new String[] {Manifest.permission.WRITE_EXTERNAL_STORAGE},111);\n        }\n    }\n    public static void setBalance(String balance) {\n        MainActivity.balance = balance;\n    }\n    public static void setMatch(int match) {\n        MainActivity.match = match;\n    }\n    public static void setTeam(int team) {\n        MainActivity.team = team;\n    }\n    public static void setAutoC(String autoC) {\n        MainActivity.autoC = autoC;\n    }\n    public static void setTeleC(String teleC) {\n        MainActivity.teleC = teleC;\n    }\n    public static void setGrid( ArrayList&lt;Integer&gt; grid) {\n        MainActivity.grid = grid;\n    }\n    public static void setTeleGrid( ArrayList&lt;Integer&gt; teleGrid) {\n        MainActivity.teleGrid = teleGrid;\n    }\n    public static int getDimen() {\n        return dimen;\n    }\n    public static int getMatch() {\n        return match;\n    }\n    public static int getTeam() {\n        return team;\n    }\n    public static String getAutoC() {\n        return autoC;\n    }\n    public static String getTeleC() {\n        return teleC;\n    }\n\n    public static String getBalance() {\n        return balance;\n    }\n    public static ArrayList&lt;Integer&gt; getGrid() {\n        return grid;\n    }\n    public static ArrayList&lt;Integer&gt; getTeleGrid() {\n        return teleGrid;\n    }\n    public static String getAllData(){\n        return String.valueOf(match) + &quot;\\n&quot; + String.valueOf(team) + &quot;\\n&quot; + autoC + &quot;\\n&quot; + grid.toString() + &quot;\\n&quot; + teleC + &quot;\\n&quot; + teleGrid.toString() + &quot;\\n&quot; + balance;\n    }\n    public static void clearData(){\n        match = -1;\n        team = -1;\n        autoC = &quot;NA&quot;;\n        grid = new ArrayList&lt;Integer&gt;();\n        for (int i = 0; i &lt; 27; i++) {\n            grid.add(i,0);\n        }\n        teleC = &quot;NA&quot;;\n        teleGrid = new ArrayList&lt;Integer&gt;();\n        for (int i = 0; i &lt; 27; i++) {\n            teleGrid.add(i,0);\n        }\n        balance = &quot;NA&quot;;\n    }\n\n\n\n}\n</code></pre>\n<p>I have tried using a switch statement to detect which ID clicked the Item, but none worked. Then I tried making it so that ANY item that clicked the navigationView made the entire screen swap fragments. This did not work. Then, I tried getting a Toast.makeText() to show up when I clicked ANY Item, this did not work. I'm expecting the bug to be somewhere within my NavView set up/on create code.\nEDIT: The answer was that within my  XML, my NavigationView was before my actual content within the screen. You must put the nav View AFTER the layout, be it relative, constraint, etc. It should be the last thing in the drawer layout, basically. This answer was given to me by Mike M. Thanks Mike!</p>\n"},{"tags":["java","private","encapsulation"],"owner":{"account_id":27605026,"reputation":1,"user_id":21069343,"display_name":"Charlemagne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674518927,"answer_count":0,"score":0,"last_activity_date":1674518672,"creation_date":1674518577,"question_id":75216274,"body_markdown":"I&#39;m trying to use encapsulation to assign values to variables via user entry, but my set methods aren&#39;t recognizing my variables. My code is as follows:\r\n\t\r\n\tstatic class Sneakers{\r\n\t\t//Declare variables\r\n\t\tprivate String brand;\t//can be changed by the user\r\n\t\tprivate double size;\t//can be changed by the user\r\n\t\t\r\n\t\t//Constructor\r\n\t\tpublic Sneakers() {\r\n\t\t\t//set values\r\n\t\t\tbrand = null;\r\n\t\t\tsize = 0;\r\n\t\t}//end sneaker constructor\r\n\t\t\r\n\t\t//get methods\r\n\t\tpublic String getBrand() {\r\n\t\t\treturn brand;\r\n\t\t}\r\n\t\t\r\n\t\tpublic double getSize() {\r\n\t\t\treturn size;\r\n\t\t}\r\n\t\t\r\n\t\t//set methods\r\n\t\tpublic void setBrand(String brand) {\r\n\t\t\tthis.brand = brand;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setSize(double size) {\r\n\t\t\tthis.size = size;\r\n\t\t}\r\n\t\t\r\n\t\t//user input method\r\n\t\tpublic void Input() {\r\n\t\t\tSystem.out.println(&quot;Please enter the brand of your shoes. Ex: Nike &quot;);\r\n\t\t\tScanner sc = new Scanner(System.in);\r\n\t\t\tbrand = sc.nextLine();\r\n\t\t\tSystem.out.println(&quot;Please enter the size of your shoes. Ex: 10.5 &quot;);\r\n\t\t\tsize = Double.valueOf(sc.nextLine());\r\n\t\t\tsc.close();\r\n\t\t}\r\n\t}\r\n\t\r\n\t//main method\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(&quot;Thank you for donating your shoes to charity! Can you provide us with some extra information?&quot;);\r\n\t\t\r\n\t\t//declare an instance of the sneaker class\r\n\t\tSneakers bBall = new Sneakers();\r\n\t\tbBall.Input();\r\n\t\tbBall.setBrand(brand);\r\n\t\tbBall.setSize(size);\r\n\t\tSystem.out.println(&quot;You are about to donate size &quot; + bBall.getSize() + &quot; &quot; + bBall.getBrand() + &quot; shoes.&quot;);\r\n\t\tSystem.out.println(&quot;We appreciate your donation! Come again soon!&quot;);\r\n\t}\r\n\r\nWhen I try to run this code it gives me an error at these two lines in my main method\r\n\r\nbBall.setBrand(brand);\r\n\r\nbBall.setSize(size);\r\n\r\nI&#39;m completely lost here. How can I fix this?","title":"Trouble with encapsulation - &quot;Cannot be resolved to a variable&quot; error","body":"<p>I'm trying to use encapsulation to assign values to variables via user entry, but my set methods aren't recognizing my variables. My code is as follows:</p>\n<pre><code>static class Sneakers{\n    //Declare variables\n    private String brand;   //can be changed by the user\n    private double size;    //can be changed by the user\n    \n    //Constructor\n    public Sneakers() {\n        //set values\n        brand = null;\n        size = 0;\n    }//end sneaker constructor\n    \n    //get methods\n    public String getBrand() {\n        return brand;\n    }\n    \n    public double getSize() {\n        return size;\n    }\n    \n    //set methods\n    public void setBrand(String brand) {\n        this.brand = brand;\n    }\n    \n    public void setSize(double size) {\n        this.size = size;\n    }\n    \n    //user input method\n    public void Input() {\n        System.out.println(&quot;Please enter the brand of your shoes. Ex: Nike &quot;);\n        Scanner sc = new Scanner(System.in);\n        brand = sc.nextLine();\n        System.out.println(&quot;Please enter the size of your shoes. Ex: 10.5 &quot;);\n        size = Double.valueOf(sc.nextLine());\n        sc.close();\n    }\n}\n\n//main method\npublic static void main(String[] args) {\n    System.out.println(&quot;Thank you for donating your shoes to charity! Can you provide us with some extra information?&quot;);\n    \n    //declare an instance of the sneaker class\n    Sneakers bBall = new Sneakers();\n    bBall.Input();\n    bBall.setBrand(brand);\n    bBall.setSize(size);\n    System.out.println(&quot;You are about to donate size &quot; + bBall.getSize() + &quot; &quot; + bBall.getBrand() + &quot; shoes.&quot;);\n    System.out.println(&quot;We appreciate your donation! Come again soon!&quot;);\n}\n</code></pre>\n<p>When I try to run this code it gives me an error at these two lines in my main method</p>\n<p>bBall.setBrand(brand);</p>\n<p>bBall.setSize(size);</p>\n<p>I'm completely lost here. How can I fix this?</p>\n"},{"tags":["java","angular","spring-boot","oauth-2.0","oauth"],"comments":[{"owner":{"account_id":4974738,"reputation":284,"user_id":9407966,"display_name":"Gopal Zadafiya"},"score":0,"creation_date":1674595594,"post_id":75216023,"comment_id":132747182,"body_markdown":"loadDiscoveryDocumentAndLogin() method checks if your auth server is reachable or not. So there can be 2 possibilities 1) check if auth server is up &amp; running 2) double check the values provided in auth.config.","body":"loadDiscoveryDocumentAndLogin() method checks if your auth server is reachable or not. So there can be 2 possibilities 1) check if auth server is up &amp; running 2) double check the values provided in auth.config."}],"owner":{"account_id":19730530,"reputation":325,"user_id":19876130,"display_name":"jorge jesus achulla palacios"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":302,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674515776,"creation_date":1674515776,"question_id":75216023,"body_markdown":"I am implementing auth0 to my angular project,\r\nand I get the, error loading discovery document in my auth.config service &quot;this.oauthService.loadDiscoveryDocumentAndLogin()&quot;,\r\nas the auth0 page was not found.\r\nPlease, any help is welcome. Thank you.\r\n\r\n**This is my component, here I declare variables that call my auth0 data that I have in the env**\r\n**I have some doubts about the logout route,**\r\n**reviewing forums I have seen that others do not put /v2**\r\n```\r\nexport const authConfig: AuthConfig = {\r\n  issuer: environment.keycloak.issuer,\r\n  redirectUri: environment.keycloak.redirectUri,\r\n  clientId: environment.keycloak.clientId,\r\n\r\n  responseType: environment.keycloak.responseType,\r\n  scope: environment.keycloak.scope,\r\n\r\n  requireHttps: environment.keycloak.requireHttps,\r\n  showDebugInformation: environment.keycloak.showDebugInformation,\r\n  disableAtHashCheck: environment.keycloak.disableAtHashCheck,\r\n\r\n  customQueryParams: {\r\n    audience:  environment.audience\r\n  },\r\n\r\n  logoutUrl : `${environment.keycloak.issuer}v2/logout?client_id=${environment.keycloak.clientId}&amp;returnTo=${encodeURIComponent(environment.keycloak.redirectUri)}`\r\n}\r\n\r\nexport class OAuthModuleConfig {\r\n  resourceServer: OAuthResourceServerConfig = {sendAccessToken: false};\r\n}\r\n\r\nexport class OAuthResourceServerConfig {\r\n  allowedUrls?: Array&lt;string&gt;;\r\n  sendAccessToken = true;\r\n  customUrlValidation?: (url: string) =&gt; boolean;\r\n}\r\n```\r\n\r\n**this is my service, I get the error in this.oauthService.loadDiscoveryDocumentAndLogin()**\r\n\r\n```\r\n@Injectable()\r\nexport class AuthConfigService {\r\n\r\n  private _decodedAccessToken: any;\r\n  private _decodedIDToken: any;\r\n  get decodedAccessToken() { return this._decodedAccessToken; }\r\n  get decodedIDToken() { return this._decodedIDToken; }\r\n\r\n  constructor(\r\n    private readonly oauthService: OAuthService,\r\n    private readonly authConfig: AuthConfig) { }\r\n\r\n\r\n  async initAuth(): Promise&lt;any&gt; {\r\n    return new Promise((resolveFn, rejectFn) =&gt; {\r\n\r\n      // setup oauthService\r\n      this.oauthService.configure(this.authConfig);\r\n      this.oauthService.tokenValidationHandler = new NullValidationHandler();\r\n      // subscribe to token events\r\n      this.oauthService.events.pipe(filter((e: any) =&gt; {\r\n        if(e.params &amp;&amp; e.params.error_description == &#39;user is blocked&#39;) {\r\n          console.log(&#39;Usuario bloqueado&#39;);\r\n          //Pagina de usuario bloqueado.\r\n        }\r\n        return e.type === &#39;token_received&#39;;\r\n      })).subscribe(() =&gt; this.handleNewToken());\r\n      // disabling keycloak for now\r\n      // resolveFn();\r\n      // continue initializing app or redirect to login-page\r\n      console.log(this.oauthService.loadDiscoveryDocumentAndLogin())\r\n      this.oauthService.loadDiscoveryDocumentAndLogin().then(isLoggedIn =&gt; {\r\n        console.log(&quot;isloggi&quot;,isLoggedIn)\r\n        if (isLoggedIn) {\r\n          this.oauthService.setupAutomaticSilentRefresh();\r\n          // @ts-ignore\r\n          resolveFn();\r\n        } else {\r\n          this.oauthService.initImplicitFlow();\r\n          rejectFn();\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  private handleNewToken() {\r\n    this._decodedAccessToken = this.oauthService.getAccessToken();\r\n    this._decodedIDToken = this.oauthService.getIdToken();\r\n  }\r\n\r\n```\r\n","title":"error loading discovery document in my auth.config service","body":"<p>I am implementing auth0 to my angular project,\nand I get the, error loading discovery document in my auth.config service &quot;this.oauthService.loadDiscoveryDocumentAndLogin()&quot;,\nas the auth0 page was not found.\nPlease, any help is welcome. Thank you.</p>\n<p><strong>This is my component, here I declare variables that call my auth0 data that I have in the env</strong>\n<strong>I have some doubts about the logout route,</strong>\n<strong>reviewing forums I have seen that others do not put /v2</strong></p>\n<pre><code>export const authConfig: AuthConfig = {\n  issuer: environment.keycloak.issuer,\n  redirectUri: environment.keycloak.redirectUri,\n  clientId: environment.keycloak.clientId,\n\n  responseType: environment.keycloak.responseType,\n  scope: environment.keycloak.scope,\n\n  requireHttps: environment.keycloak.requireHttps,\n  showDebugInformation: environment.keycloak.showDebugInformation,\n  disableAtHashCheck: environment.keycloak.disableAtHashCheck,\n\n  customQueryParams: {\n    audience:  environment.audience\n  },\n\n  logoutUrl : `${environment.keycloak.issuer}v2/logout?client_id=${environment.keycloak.clientId}&amp;returnTo=${encodeURIComponent(environment.keycloak.redirectUri)}`\n}\n\nexport class OAuthModuleConfig {\n  resourceServer: OAuthResourceServerConfig = {sendAccessToken: false};\n}\n\nexport class OAuthResourceServerConfig {\n  allowedUrls?: Array&lt;string&gt;;\n  sendAccessToken = true;\n  customUrlValidation?: (url: string) =&gt; boolean;\n}\n</code></pre>\n<p><strong>this is my service, I get the error in this.oauthService.loadDiscoveryDocumentAndLogin()</strong></p>\n<pre><code>@Injectable()\nexport class AuthConfigService {\n\n  private _decodedAccessToken: any;\n  private _decodedIDToken: any;\n  get decodedAccessToken() { return this._decodedAccessToken; }\n  get decodedIDToken() { return this._decodedIDToken; }\n\n  constructor(\n    private readonly oauthService: OAuthService,\n    private readonly authConfig: AuthConfig) { }\n\n\n  async initAuth(): Promise&lt;any&gt; {\n    return new Promise((resolveFn, rejectFn) =&gt; {\n\n      // setup oauthService\n      this.oauthService.configure(this.authConfig);\n      this.oauthService.tokenValidationHandler = new NullValidationHandler();\n      // subscribe to token events\n      this.oauthService.events.pipe(filter((e: any) =&gt; {\n        if(e.params &amp;&amp; e.params.error_description == 'user is blocked') {\n          console.log('Usuario bloqueado');\n          //Pagina de usuario bloqueado.\n        }\n        return e.type === 'token_received';\n      })).subscribe(() =&gt; this.handleNewToken());\n      // disabling keycloak for now\n      // resolveFn();\n      // continue initializing app or redirect to login-page\n      console.log(this.oauthService.loadDiscoveryDocumentAndLogin())\n      this.oauthService.loadDiscoveryDocumentAndLogin().then(isLoggedIn =&gt; {\n        console.log(&quot;isloggi&quot;,isLoggedIn)\n        if (isLoggedIn) {\n          this.oauthService.setupAutomaticSilentRefresh();\n          // @ts-ignore\n          resolveFn();\n        } else {\n          this.oauthService.initImplicitFlow();\n          rejectFn();\n        }\n      });\n    });\n  }\n\n  private handleNewToken() {\n    this._decodedAccessToken = this.oauthService.getAccessToken();\n    this._decodedIDToken = this.oauthService.getIdToken();\n  }\n\n</code></pre>\n"},{"tags":["java","android","android-asynctask"],"comments":[{"owner":{"account_id":8835635,"reputation":1014,"user_id":6600056,"display_name":"Rob "},"score":0,"creation_date":1674507961,"post_id":75214494,"comment_id":132725137,"body_markdown":"I think you are just setting value to your text view &quot;not in the right place&quot;\nyour fetching_data = result is running only when your request response is received\nyou just need to move &quot;TW_Rueckgabe[0].setText(test.fetching_data);&quot; this code into the onPostExecute method of your AsyncTask class implementation, it will be better if you would create some callback and when onPostExecute is executes call callback method wich will handle your MainActivity and inside that callback implementation set your data to text view","body":"I think you are just setting value to your text view &quot;not in the right place&quot; your fetching_data = result is running only when your request response is received you just need to move &quot;TW_Rueckgabe[0].setText(test.fetching_data);&quot; this code into the onPostExecute method of your AsyncTask class implementation, it will be better if you would create some callback and when onPostExecute is executes call callback method wich will handle your MainActivity and inside that callback implementation set your data to text view"}],"answers":[{"tags":[],"owner":{"account_id":8835635,"reputation":1014,"user_id":6600056,"display_name":"Rob "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674508691,"creation_date":1674508691,"answer_id":75215149,"question_id":75214494,"body_markdown":"    interface Callback {\r\n       void onResponse(String response);\r\n    }\r\n    \r\n    MainActivity {\r\n    \r\n       private Callback callback = new Callback() {\r\n           @Override\r\n           void onResponse(String response) {\r\n                TW_Rueckgabe[0].setText(test.fetching_data);\r\n           }\r\n       }\r\n    \r\n        sendBtn.setOnClickListener(v -&gt; {\r\n                String POST_url = &quot;http://dphost.ddns.net:1573/cool/post.php&quot;;\r\n                String requestData = &quot;data=&quot; + TW_Benutzername.getText().toString();\r\n                POSTRequestTask test = new POSTRequestTask(callback).execute(POST_url, requestData);\r\n            });\r\n    }\r\n    \r\n    \r\n    class POSTRequestTask(Callback callback) extends AsyncTask&lt;String, Void, String&gt; {\r\n    \r\n    @Override\r\n        protected String doInBackground(String... params) {\r\n           // do your request as you&#39;re doing now and return the result\r\n        }\r\n    \r\n        @Override\r\n        protected void onPostExecute(String result) {\r\n            // callback interface method call here\r\n            callback.onResponse(result)\r\n        }\r\n    }\r\n\r\n","title":"How do I get the Value out of my Class into my TextViewField","body":"<pre><code>interface Callback {\n   void onResponse(String response);\n}\n\nMainActivity {\n\n   private Callback callback = new Callback() {\n       @Override\n       void onResponse(String response) {\n            TW_Rueckgabe[0].setText(test.fetching_data);\n       }\n   }\n\n    sendBtn.setOnClickListener(v -&gt; {\n            String POST_url = &quot;http://dphost.ddns.net:1573/cool/post.php&quot;;\n            String requestData = &quot;data=&quot; + TW_Benutzername.getText().toString();\n            POSTRequestTask test = new POSTRequestTask(callback).execute(POST_url, requestData);\n        });\n}\n\n\nclass POSTRequestTask(Callback callback) extends AsyncTask&lt;String, Void, String&gt; {\n\n@Override\n    protected String doInBackground(String... params) {\n       // do your request as you're doing now and return the result\n    }\n\n    @Override\n    protected void onPostExecute(String result) {\n        // callback interface method call here\n        callback.onResponse(result)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26268245,"reputation":1,"user_id":19938488,"display_name":"Justin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674515432,"creation_date":1674504207,"question_id":75214494,"body_markdown":"At the moment I am trying to make an Android App with Android Studio with GET and POST data into/from an API.\r\n\r\nMy problem at the moment is that I want to have the response of the POST request displayed in my app. For this I made the TextView TW_Rueckgabe. I also made another Method just for this so it can Display the Request which is \r\n\r\n```\r\npublic String returnString() {\r\n        return fetching_data;\r\n    }\r\n```\r\n\r\nbut the response is not saved in TW_Rueckgabe.\r\n\r\nMainActivity.java\r\n\r\n```\r\nfinal TextView[] TW_Rueckgabe = {findViewById(R.id.textViewRueckgabe)};\r\n\r\nButton sendBtn = findViewById(R.id.sendBtn);\r\n\r\n        sendBtn.setOnClickListener(v -&gt; {\r\n            String POST_url = &quot;http://dphost.ddns.net:1573/cool/post.php&quot;;\r\n            String requestData = &quot;data=&quot; + TW_Benutzername.getText().toString();\r\n            POSTRequestTask test = (POSTRequestTask) new POSTRequestTask().execute(POST_url, requestData);\r\n\r\n            \r\n\r\n            TW_Rueckgabe[0].setText(test.fetching_data);\r\n\r\n        });\r\n```\r\n\r\nPOSTRequestTask Class:\r\n\r\n```\r\nclass POSTRequestTask extends AsyncTask&lt;String, Void, String&gt; {\r\n    @Override\r\n    protected String doInBackground(String... params) {\r\n        String url = params[0];\r\n        String requestData = params[1];\r\n        String response = &quot;&quot;;\r\n\r\n        try {\r\n            URL obj = new URL(url);\r\n            HttpURLConnection con = (HttpURLConnection) obj.openConnection();\r\n\r\n            // add request header\r\n            con.setRequestMethod(&quot;POST&quot;);\r\n            con.setDoOutput(true);\r\n\r\n            // add request data\r\n            DataOutputStream wr = new DataOutputStream(con.getOutputStream());\r\n            wr.writeBytes(requestData);\r\n            wr.flush();\r\n            wr.close();\r\n\r\n            int responseCode = con.getResponseCode();\r\n            System.out.println(&quot;\\nSending &#39;POST&#39; request to URL : &quot; + url);\r\n            System.out.println(&quot;Response Code : &quot; + responseCode);\r\n\r\n            BufferedReader in = new BufferedReader(\r\n                    new InputStreamReader(con.getInputStream()));\r\n            String inputLine;\r\n            StringBuffer responseBuffer = new StringBuffer();\r\n\r\n            while ((inputLine = in.readLine()) != null) {\r\n                responseBuffer.append(inputLine);\r\n            }\r\n            in.close();\r\n\r\n            response = responseBuffer.toString();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return response;\r\n    }\r\n\r\n    @Override\r\n    protected void onPostExecute(String result) {\r\n        // print result\r\n        System.out.println(&quot;\\n\\n\\n&quot; + result + &quot;\\n\\n\\n&quot;);\r\n        fetching_data = result;\r\n        \r\n    }\r\n\r\npublic String returnString() {\r\n        return fetching_data;\r\n    }\r\n}\r\n```\r\n\r\nI tried to make a new Object and then save the Variable from the Object, didn&#39;t work.","title":"How do I get the Value out of my Class into my TextViewField","body":"<p>At the moment I am trying to make an Android App with Android Studio with GET and POST data into/from an API.</p>\n<p>My problem at the moment is that I want to have the response of the POST request displayed in my app. For this I made the TextView TW_Rueckgabe. I also made another Method just for this so it can Display the Request which is</p>\n<pre><code>public String returnString() {\n        return fetching_data;\n    }\n</code></pre>\n<p>but the response is not saved in TW_Rueckgabe.</p>\n<p>MainActivity.java</p>\n<pre><code>final TextView[] TW_Rueckgabe = {findViewById(R.id.textViewRueckgabe)};\n\nButton sendBtn = findViewById(R.id.sendBtn);\n\n        sendBtn.setOnClickListener(v -&gt; {\n            String POST_url = &quot;http://dphost.ddns.net:1573/cool/post.php&quot;;\n            String requestData = &quot;data=&quot; + TW_Benutzername.getText().toString();\n            POSTRequestTask test = (POSTRequestTask) new POSTRequestTask().execute(POST_url, requestData);\n\n            \n\n            TW_Rueckgabe[0].setText(test.fetching_data);\n\n        });\n</code></pre>\n<p>POSTRequestTask Class:</p>\n<pre><code>class POSTRequestTask extends AsyncTask&lt;String, Void, String&gt; {\n    @Override\n    protected String doInBackground(String... params) {\n        String url = params[0];\n        String requestData = params[1];\n        String response = &quot;&quot;;\n\n        try {\n            URL obj = new URL(url);\n            HttpURLConnection con = (HttpURLConnection) obj.openConnection();\n\n            // add request header\n            con.setRequestMethod(&quot;POST&quot;);\n            con.setDoOutput(true);\n\n            // add request data\n            DataOutputStream wr = new DataOutputStream(con.getOutputStream());\n            wr.writeBytes(requestData);\n            wr.flush();\n            wr.close();\n\n            int responseCode = con.getResponseCode();\n            System.out.println(&quot;\\nSending 'POST' request to URL : &quot; + url);\n            System.out.println(&quot;Response Code : &quot; + responseCode);\n\n            BufferedReader in = new BufferedReader(\n                    new InputStreamReader(con.getInputStream()));\n            String inputLine;\n            StringBuffer responseBuffer = new StringBuffer();\n\n            while ((inputLine = in.readLine()) != null) {\n                responseBuffer.append(inputLine);\n            }\n            in.close();\n\n            response = responseBuffer.toString();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        return response;\n    }\n\n    @Override\n    protected void onPostExecute(String result) {\n        // print result\n        System.out.println(&quot;\\n\\n\\n&quot; + result + &quot;\\n\\n\\n&quot;);\n        fetching_data = result;\n        \n    }\n\npublic String returnString() {\n        return fetching_data;\n    }\n}\n</code></pre>\n<p>I tried to make a new Object and then save the Variable from the Object, didn't work.</p>\n"},{"tags":["java","ip","type-conversion","ipv6","long-integer"],"answers":[{"tags":[],"owner":{"account_id":668476,"reputation":18892,"user_id":504956,"accept_rate":69,"display_name":"V G"},"down_vote_count":2,"up_vote_count":13,"is_accepted":true,"score":11,"last_activity_date":1613238065,"creation_date":1374826825,"answer_id":17876390,"question_id":17875728,"body_markdown":"An IPv6 address is a 128-bit number as described [here][1]. A long in Java is represented on 64 bits, so you need another structure, like a BigDecimal or two longs (a container with an array of two longs or simply an array of two longs) in order to store an IPv6 address.\r\n\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc4291\r\n\r\nBelow is an example (just to provide you an idea):\r\n\r\n\r\n    public class Asd {\r\n    \r\n        public static long[] IPToLong(String addr) {\r\n            String[] addrArray = addr.split(&quot;:&quot;);//a IPv6 adress is of form 2607:f0d0:1002:0051:0000:0000:0000:0004\r\n            long[] num = new long[addrArray.length];\r\n            \r\n            for (int i=0; i&lt;addrArray.length; i++) {\r\n            \tnum[i] = Long.parseLong(addrArray[i], 16);\r\n            }\r\n            long long1 = num[0];\r\n            for (int i=1;i&lt;4;i++) {\r\n            \tlong1 = (long1&lt;&lt;16) + num[i];\r\n            }\r\n            long long2 = num[4];\r\n            for (int i=5;i&lt;8;i++) {\r\n            \tlong2 = (long2&lt;&lt;16) + num[i];\r\n            }\r\n            \r\n            long[] longs = {long2, long1};\r\n            return longs;\r\n    \t}\r\n        \r\n    \t\r\n    \tpublic static String longToIP(long[] ip) {\r\n    \t\tString ipString = &quot;&quot;;\r\n    \t\tfor (long crtLong : ip) {//for every long: it should be two of them\r\n    \r\n    \t\t\tfor (int i=0; i&lt;4; i++) {//we display in total 4 parts for every long\r\n    \t\t\t\tipString = Long.toHexString(crtLong &amp; 0xFFFF) + &quot;:&quot; + ipString;\r\n    \t\t\t\tcrtLong = crtLong &gt;&gt; 16;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn ipString;\r\n    \t\r\n    \t}\r\n    \t\r\n    \tstatic public void main(String[] args) {\r\n    \t\tString ipString = &quot;2607:f0d0:1002:0051:0000:0000:0000:0004&quot;;\r\n    \t\tlong[] asd = IPToLong(ipString);\r\n    \t\t\r\n    \t\tSystem.out.println(longToIP(asd));\r\n    \t}\r\n    }\r\n\r\n","title":"Conversion IPv6 to long and long to IPv6","body":"<p>An IPv6 address is a 128-bit number as described <a href=\"https://www.rfc-editor.org/rfc/rfc4291\" rel=\"nofollow noreferrer\">here</a>. A long in Java is represented on 64 bits, so you need another structure, like a BigDecimal or two longs (a container with an array of two longs or simply an array of two longs) in order to store an IPv6 address.</p>\n<p>Below is an example (just to provide you an idea):</p>\n<pre><code>public class Asd {\n\n    public static long[] IPToLong(String addr) {\n        String[] addrArray = addr.split(&quot;:&quot;);//a IPv6 adress is of form 2607:f0d0:1002:0051:0000:0000:0000:0004\n        long[] num = new long[addrArray.length];\n        \n        for (int i=0; i&lt;addrArray.length; i++) {\n            num[i] = Long.parseLong(addrArray[i], 16);\n        }\n        long long1 = num[0];\n        for (int i=1;i&lt;4;i++) {\n            long1 = (long1&lt;&lt;16) + num[i];\n        }\n        long long2 = num[4];\n        for (int i=5;i&lt;8;i++) {\n            long2 = (long2&lt;&lt;16) + num[i];\n        }\n        \n        long[] longs = {long2, long1};\n        return longs;\n    }\n    \n    \n    public static String longToIP(long[] ip) {\n        String ipString = &quot;&quot;;\n        for (long crtLong : ip) {//for every long: it should be two of them\n\n            for (int i=0; i&lt;4; i++) {//we display in total 4 parts for every long\n                ipString = Long.toHexString(crtLong &amp; 0xFFFF) + &quot;:&quot; + ipString;\n                crtLong = crtLong &gt;&gt; 16;\n            }\n        }\n        return ipString;\n    \n    }\n    \n    static public void main(String[] args) {\n        String ipString = &quot;2607:f0d0:1002:0051:0000:0000:0000:0004&quot;;\n        long[] asd = IPToLong(ipString);\n        \n        System.out.println(longToIP(asd));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1475790,"reputation":1086,"user_id":1386191,"accept_rate":85,"display_name":"Vinod"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1381205741,"creation_date":1381205741,"answer_id":19238983,"question_id":17875728,"body_markdown":"An IPv6 address can not be stored in long. You can use BigInteger instead of long.\r\n\r\n    public static BigInteger ipv6ToNumber(String addr) {\r\n\t\tint startIndex=addr.indexOf(&quot;::&quot;);\r\n\t\t\r\n\t\tif(startIndex!=-1){\r\n\t\t\t\r\n\t\t\r\n\t\t\tString firstStr=addr.substring(0,startIndex);\r\n\t\t\tString secondStr=addr.substring(startIndex+2, addr.length());\r\n\t\t\r\n\t\t\t\r\n\t\t\tBigInteger first=ipv6ToNumber(firstStr);\r\n\t\t\r\n\t\t\tint x=countChar(addr, &#39;:&#39;);\r\n\t\t\t\r\n\t\t\tfirst=first.shiftLeft(16*(7-x)).add(ipv6ToNumber(secondStr));\r\n\t\t\t\r\n\t\t\treturn first;\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t    String[] strArr = addr.split(&quot;:&quot;);\r\n\t    \r\n\t    BigInteger retValue = BigInteger.valueOf(0);\r\n\t    for (int i=0;i&lt;strArr.length;i++) {\r\n\t    \tBigInteger bi=new BigInteger(strArr[i], 16);\r\n\t    \tretValue = retValue.shiftLeft(16).add(bi);\r\n\t    }\r\n\t    return retValue;\r\n\t}\r\n\r\n\t\r\n\tpublic static String numberToIPv6(BigInteger ipNumber) {\r\n\t    String ipString =&quot;&quot;;\r\n\t    BigInteger a=new BigInteger(&quot;FFFF&quot;, 16);\r\n\t  \r\n\t        for (int i=0; i&lt;8; i++) {\r\n\t        \tipString=ipNumber.and(a).toString(16)+&quot;:&quot;+ipString;\r\n\t        \t\r\n\t            ipNumber = ipNumber.shiftRight(16);\r\n\t        }\r\n\t   \r\n\t    return ipString.substring(0, ipString.length()-1);\r\n\r\n\t}\r\n\t\r\n\tpublic static int countChar(String str, char reg){\r\n\t\tchar[] ch=str.toCharArray();\r\n\t\tint count=0;\r\n\t\tfor(int i=0; i&lt;ch.length; ++i){\r\n\t\t\tif(ch[i]==reg){\r\n\t\t\t\tif(ch[i+1]==reg){\r\n\t\t\t\t\t++i;\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t++count;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn count;\r\n\t}\r\n","title":"Conversion IPv6 to long and long to IPv6","body":"<p>An IPv6 address can not be stored in long. You can use BigInteger instead of long.</p>\n\n<pre><code>public static BigInteger ipv6ToNumber(String addr) {\n    int startIndex=addr.indexOf(\"::\");\n\n    if(startIndex!=-1){\n\n\n        String firstStr=addr.substring(0,startIndex);\n        String secondStr=addr.substring(startIndex+2, addr.length());\n\n\n        BigInteger first=ipv6ToNumber(firstStr);\n\n        int x=countChar(addr, ':');\n\n        first=first.shiftLeft(16*(7-x)).add(ipv6ToNumber(secondStr));\n\n        return first;\n    }\n\n\n    String[] strArr = addr.split(\":\");\n\n    BigInteger retValue = BigInteger.valueOf(0);\n    for (int i=0;i&lt;strArr.length;i++) {\n        BigInteger bi=new BigInteger(strArr[i], 16);\n        retValue = retValue.shiftLeft(16).add(bi);\n    }\n    return retValue;\n}\n\n\npublic static String numberToIPv6(BigInteger ipNumber) {\n    String ipString =\"\";\n    BigInteger a=new BigInteger(\"FFFF\", 16);\n\n        for (int i=0; i&lt;8; i++) {\n            ipString=ipNumber.and(a).toString(16)+\":\"+ipString;\n\n            ipNumber = ipNumber.shiftRight(16);\n        }\n\n    return ipString.substring(0, ipString.length()-1);\n\n}\n\npublic static int countChar(String str, char reg){\n    char[] ch=str.toCharArray();\n    int count=0;\n    for(int i=0; i&lt;ch.length; ++i){\n        if(ch[i]==reg){\n            if(ch[i+1]==reg){\n                ++i;\n                continue;\n            }\n            ++count;\n        }\n    }\n    return count;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1915971,"reputation":699,"user_id":1728560,"display_name":"Guigoz"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1674515001,"creation_date":1453219073,"answer_id":34881294,"question_id":17875728,"body_markdown":"You can also use `java.net.InetAddress`.  It works with both ipv4 and ipv6 (all formats).\r\n\r\nThe original answer has been updated to use unsigned ints per [OTrains&#39;s comment][1].\r\n\r\n    public static BigInteger ipToBigInteger(String addr) throws UnknownHostException {\r\n\t\tInetAddress a = InetAddress.getByName(addr);\r\n\t\tbyte[] bytes = a.getAddress();\r\n\t\treturn new BigInteger(1, bytes);\r\n\t}\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/17875728/conversion-ipv6-to-long-and-long-to-ipv6#comment67596383_34881294","title":"Conversion IPv6 to long and long to IPv6","body":"<p>You can also use <code>java.net.InetAddress</code>.  It works with both ipv4 and ipv6 (all formats).</p>\n<p>The original answer has been updated to use unsigned ints per <a href=\"https://stackoverflow.com/questions/17875728/conversion-ipv6-to-long-and-long-to-ipv6#comment67596383_34881294\">OTrains's comment</a>.</p>\n<pre><code>public static BigInteger ipToBigInteger(String addr) throws UnknownHostException {\n    InetAddress a = InetAddress.getByName(addr);\n    byte[] bytes = a.getAddress();\n    return new BigInteger(1, bytes);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14836951,"reputation":11,"user_id":10714738,"display_name":"gaofc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584658910,"creation_date":1543374650,"answer_id":53511537,"question_id":17875728,"body_markdown":"Vinod&#39;s answer is right. But there are still some things that can be improved.\r\n\r\nFirst, in method &#39;countChar&#39;, &#39;continue&#39; should be replaced by &#39;break&#39;.\r\n\r\nAnd second, Some boundary conditions must be considered.\r\n\r\n\r\n\r\n    public static BigInteger ipv6ToNumber(String addr) {\r\n        int startIndex = addr.indexOf(&quot;::&quot;);\r\n        if (startIndex != -1) {\r\n            String firstStr = addr.substring(0, startIndex);\r\n            String secondStr = addr.substring(startIndex + 2, addr.length());\r\n            BigInteger first = new BigInteger(&quot;0&quot;);\r\n            BigInteger second = new BigInteger(&quot;0&quot;);\r\n            if (!firstStr.equals(&quot;&quot;)) {\r\n                int x = countChar(addr, &#39;:&#39;);\r\n                first = ipv6ToNumber(firstStr).shiftLeft(16 * (7 - x));\r\n            }\r\n            if (!secondStr.equals(&quot;&quot;)) {\r\n                second = ipv6ToNumber(secondStr);\r\n            }\r\n            first = first.add(second);\r\n            return first;\r\n        }\r\n\r\n        String[] strArr = addr.split(&quot;:&quot;);\r\n        BigInteger retValue = BigInteger.valueOf(0);\r\n        for (int i = 0; i &lt; strArr.length; i++) {\r\n            BigInteger bi = new BigInteger(strArr[i], 16);\r\n            retValue = retValue.shiftLeft(16).add(bi);\r\n        }\r\n        return retValue;\r\n    }\r\n\r\n\tpublic static int countChar(String str, char reg){\r\n\t\tchar[] ch=str.toCharArray();\r\n\t\tint count=0;\r\n\t\tfor(int i=0; i&lt;ch.length; ++i){\r\n\t\t\tif(ch[i]==reg){\r\n\t\t\t\tif(ch[i+1]==reg){\r\n\t\t\t\t\t++i;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\t++count;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn count;\r\n\t}","title":"Conversion IPv6 to long and long to IPv6","body":"<p>Vinod's answer is right. But there are still some things that can be improved.</p>\n\n<p>First, in method 'countChar', 'continue' should be replaced by 'break'.</p>\n\n<p>And second, Some boundary conditions must be considered.</p>\n\n<pre><code>public static BigInteger ipv6ToNumber(String addr) {\n    int startIndex = addr.indexOf(\"::\");\n    if (startIndex != -1) {\n        String firstStr = addr.substring(0, startIndex);\n        String secondStr = addr.substring(startIndex + 2, addr.length());\n        BigInteger first = new BigInteger(\"0\");\n        BigInteger second = new BigInteger(\"0\");\n        if (!firstStr.equals(\"\")) {\n            int x = countChar(addr, ':');\n            first = ipv6ToNumber(firstStr).shiftLeft(16 * (7 - x));\n        }\n        if (!secondStr.equals(\"\")) {\n            second = ipv6ToNumber(secondStr);\n        }\n        first = first.add(second);\n        return first;\n    }\n\n    String[] strArr = addr.split(\":\");\n    BigInteger retValue = BigInteger.valueOf(0);\n    for (int i = 0; i &lt; strArr.length; i++) {\n        BigInteger bi = new BigInteger(strArr[i], 16);\n        retValue = retValue.shiftLeft(16).add(bi);\n    }\n    return retValue;\n}\n\npublic static int countChar(String str, char reg){\n    char[] ch=str.toCharArray();\n    int count=0;\n    for(int i=0; i&lt;ch.length; ++i){\n        if(ch[i]==reg){\n            if(ch[i+1]==reg){\n                ++i;\n                break;\n            }\n            ++count;\n        }\n    }\n    return count;\n}\n</code></pre>\n"}],"owner":{"account_id":3018748,"reputation":255,"user_id":2560260,"display_name":"Testeross"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30053,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":17876390,"answer_count":4,"score":18,"last_activity_date":1674515001,"creation_date":1374824734,"question_id":17875728,"body_markdown":"How should I perform conversion from IPv6 to long and vice versa?\r\n\r\nSo far I have:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n        public static long IPToLong(String addr) {\r\n                String[] addrArray = addr.split(&quot;\\\\.&quot;);\r\n                long num = 0;\r\n                for (int i = 0; i &lt; addrArray.length; i++) {\r\n                        int power = 3 - i;\r\n\r\n                        num += ((Integer.parseInt(addrArray[i], 16) % 256 * Math.pow(256, power)));\r\n                }\r\n                return num;\r\n        }\r\n\r\n        public static String longToIP(long ip) {\r\n                return ((ip &gt;&gt; 24) &amp; 0xFF) + &quot;.&quot;\r\n                        + ((ip &gt;&gt; 16) &amp; 0xFF) + &quot;.&quot;\r\n                        + ((ip &gt;&gt; 8) &amp; 0xFF) + &quot;.&quot;\r\n                        + (ip &amp; 0xFF);\r\n\r\n        }\r\n\r\nIs it correct solution or I missed something?\r\n\r\n(It would be perfect if the solution worked for both ipv4 and ipv6)","title":"Conversion IPv6 to long and long to IPv6","body":"<p>How should I perform conversion from IPv6 to long and vice versa?</p>\n\n<p>So far I have:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    public static long IPToLong(String addr) {\n            String[] addrArray = addr.split(\"\\\\.\");\n            long num = 0;\n            for (int i = 0; i &lt; addrArray.length; i++) {\n                    int power = 3 - i;\n\n                    num += ((Integer.parseInt(addrArray[i], 16) % 256 * Math.pow(256, power)));\n            }\n            return num;\n    }\n\n    public static String longToIP(long ip) {\n            return ((ip &gt;&gt; 24) &amp; 0xFF) + \".\"\n                    + ((ip &gt;&gt; 16) &amp; 0xFF) + \".\"\n                    + ((ip &gt;&gt; 8) &amp; 0xFF) + \".\"\n                    + (ip &amp; 0xFF);\n\n    }\n</code></pre>\n\n<p>Is it correct solution or I missed something?</p>\n\n<p>(It would be perfect if the solution worked for both ipv4 and ipv6)</p>\n"},{"tags":["java","encryption","bouncycastle"],"owner":{"account_id":27586358,"reputation":11,"user_id":21054462,"display_name":"Lalitha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1674514183,"creation_date":1674300146,"question_id":75192941,"body_markdown":"I am using the below jars for email encryption\r\n\r\n```none\r\nbcpkix-jdk15on-1.64.jar\r\nbcprov-jdk15on-1.64.jar\r\nbcmail-jdk15on-1.64.jar\r\n```\r\n\r\nI am getting the error\r\n\r\n```\r\nMethod addRecipientInfoGenerator(org.bouncycastle.cms.jcajce.JceKeyTransRecipientInfoGenerator)\\\r\n not found in class&#39;org.bouncycastle.mail.smime.SMIMEEnvelopedGenerator&#39;\r\n```\r\n\r\n\r\nHere is the code implemented:\r\n\r\n```\r\nX509Certificate recipientCert = userCertList.get(0);\r\nRecipientInfoGenerator rec = (RecipientInfoGenerator) new JceKeyTransRecipientInfoGenerator(recipientCert).setProvider(&quot;BC&quot;);\r\n\r\nSMIMEEnvelopedGenerator gen = new SMIMEEnvelopedGenerator();\r\ngen.addRecipientInfoGenerator(rec);\r\n```\r\n\r\nIs it because of any jar conflict? How to resolve this issue?","title":"Method addRecipientInfoGenerator(org.bouncycastle.cms.jcajce.JceKeyTransRecipientInfoGenerator)","body":"<p>I am using the below jars for email encryption</p>\n<pre class=\"lang-none prettyprint-override\"><code>bcpkix-jdk15on-1.64.jar\nbcprov-jdk15on-1.64.jar\nbcmail-jdk15on-1.64.jar\n</code></pre>\n<p>I am getting the error</p>\n<pre><code>Method addRecipientInfoGenerator(org.bouncycastle.cms.jcajce.JceKeyTransRecipientInfoGenerator)\\\n not found in class'org.bouncycastle.mail.smime.SMIMEEnvelopedGenerator'\n</code></pre>\n<p>Here is the code implemented:</p>\n<pre><code>X509Certificate recipientCert = userCertList.get(0);\nRecipientInfoGenerator rec = (RecipientInfoGenerator) new JceKeyTransRecipientInfoGenerator(recipientCert).setProvider(&quot;BC&quot;);\n\nSMIMEEnvelopedGenerator gen = new SMIMEEnvelopedGenerator();\ngen.addRecipientInfoGenerator(rec);\n</code></pre>\n<p>Is it because of any jar conflict? How to resolve this issue?</p>\n"},{"tags":["java","speech-recognition"],"comments":[{"owner":{"account_id":482071,"reputation":5624,"user_id":896249,"accept_rate":79,"display_name":"GameDroids"},"score":0,"creation_date":1417280265,"post_id":27204577,"comment_id":42891841,"body_markdown":"I am not sure this is the right place to start. SO is more for discussing issues that come while programming. Anyway – I think what you first need is a complete list of things you want to monitor (e.g disk space, up-time, calendar etc...) once you have that list you can check if each specific &quot;problem&quot; can be accessed from a Java-Program or if you need an external tool for that (you can execute windows-terminal commands from java). Once you have all your tools you can start thinking about a Java-program, that runs in the background and executes every now and then some check.","body":"I am not sure this is the right place to start. SO is more for discussing issues that come while programming. Anyway – I think what you first need is a complete list of things you want to monitor (e.g disk space, up-time, calendar etc...) once you have that list you can check if each specific &quot;problem&quot; can be accessed from a Java-Program or if you need an external tool for that (you can execute windows-terminal commands from java). Once you have all your tools you can start thinking about a Java-program, that runs in the background and executes every now and then some check."},{"owner":{"account_id":2417047,"reputation":1299,"user_id":2110873,"accept_rate":33,"display_name":"kajarigd"},"score":0,"creation_date":1417280606,"post_id":27204577,"comment_id":42891931,"body_markdown":"I have al my Java programs ready. They are monitoring the system in t he background and sending me alerts. But I want a virtual assistant to tell me all these alerts, instead of me printing them in the console, or writing to a file, or flashing a popup.","body":"I have al my Java programs ready. They are monitoring the system in t he background and sending me alerts. But I want a virtual assistant to tell me all these alerts, instead of me printing them in the console, or writing to a file, or flashing a popup."},{"owner":{"account_id":2417047,"reputation":1299,"user_id":2110873,"accept_rate":33,"display_name":"kajarigd"},"score":0,"creation_date":1417280746,"post_id":27204577,"comment_id":42891968,"body_markdown":"My question is regarding programming. I don&#39;t know how to program a virtual assistant. I want to know where to start. I searched a lot and found many apps, but no API or code, which I can use to feed in my Java program outputs.","body":"My question is regarding programming. I don&#39;t know how to program a virtual assistant. I want to know where to start. I searched a lot and found many apps, but no API or code, which I can use to feed in my Java program outputs."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1417282374,"post_id":27204577,"comment_id":42892477,"body_markdown":"@kajarigd: What you&#39;re actually looking for is a [voice response](http://en.wikipedia.org/wiki/Interactive_voice_response) application.  A virtual assistant would respond to voice commands as well as reply with a voice response.","body":"@kajarigd: What you&#39;re actually looking for is a <a href=\"http://en.wikipedia.org/wiki/Interactive_voice_response\" rel=\"nofollow noreferrer\">voice response</a> application.  A virtual assistant would respond to voice commands as well as reply with a voice response."},{"owner":{"account_id":2417047,"reputation":1299,"user_id":2110873,"accept_rate":33,"display_name":"kajarigd"},"score":0,"creation_date":1417282560,"post_id":27204577,"comment_id":42892541,"body_markdown":"Hi, I don&#39;t want voice interactions. I just want the assistant to read out the alert. That&#39;s all. There should be lip syncing, and body movement of the assistant to get the feeling that a real human is speaking.","body":"Hi, I don&#39;t want voice interactions. I just want the assistant to read out the alert. That&#39;s all. There should be lip syncing, and body movement of the assistant to get the feeling that a real human is speaking."},{"owner":{"account_id":2417047,"reputation":1299,"user_id":2110873,"accept_rate":33,"display_name":"kajarigd"},"score":0,"creation_date":1417282621,"post_id":27204577,"comment_id":42892565,"body_markdown":"May be I shouldn&#39;t have used the phrase, &quot;virtual assistant&quot;? Should I say, &quot;alert reader bot&quot; or something like that?","body":"May be I shouldn&#39;t have used the phrase, &quot;virtual assistant&quot;? Should I say, &quot;alert reader bot&quot; or something like that?"}],"answers":[{"tags":[],"owner":{"account_id":1738594,"reputation":149,"user_id":1590603,"display_name":"user1590603"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1425681558,"creation_date":1425681558,"answer_id":28908900,"question_id":27204577,"body_markdown":"It sounds like you may want to look into Visemes.  Visemes represent the facial expressions related to the pronunciation of phonemes.  There are several companies that provide this functionality with their TTS products and will even provide the animated avatars that you refer to.  You can find these implementations with a simple search.\r\n\r\nIf you are looking into creating this yourself, you can start with a pronunciation dictionary such as one provided by CMU Sphinx.  \r\n\r\nhttp://cmusphinx.sourceforge.net\r\n\r\n\r\n\r\n\r\n","title":"How to create an event based virtual assistant?","body":"<p>It sounds like you may want to look into Visemes.  Visemes represent the facial expressions related to the pronunciation of phonemes.  There are several companies that provide this functionality with their TTS products and will even provide the animated avatars that you refer to.  You can find these implementations with a simple search.</p>\n\n<p>If you are looking into creating this yourself, you can start with a pronunciation dictionary such as one provided by CMU Sphinx.  </p>\n\n<p><a href=\"http://cmusphinx.sourceforge.net\" rel=\"nofollow\">http://cmusphinx.sourceforge.net</a></p>\n"},{"tags":[],"owner":{"account_id":8586000,"reputation":1,"user_id":6432120,"display_name":"Vasanth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465243502,"creation_date":1465243502,"answer_id":37665955,"question_id":27204577,"body_markdown":"Its An Wonderful idea first of all! Where u can actually make ur own Ironman&#39;s Jarvis!. Its pretty easy in .Net to work with these kind of application! All you need is\n* Visual Studio 2008 or later (I use VB.Net)\n* AIMLBot (A chatbot library to make natural conversations) \n* Haptek Character (To display a 3D Virtual Human Character That Can Talk With Animations)\n\nNow you can use this all and can make a talking conversational virtual assistant!! You can make it respond technical details of your computer like Alerting on low disk space, Inform you on new mail and also can open &amp; read mail for you using VB.Net programming to open the mail and pass the content text to your virtual assistant and vice versa!! \n\nIts actually simpler than it sounds!!\n\nWatch this video to build your first Talking 3D avatar using VB.Net \n\nhttps://www.youtube.com/watch?v=Gh-DPpCqxXY","title":"How to create an event based virtual assistant?","body":"<p>Its An Wonderful idea first of all! Where u can actually make ur own Ironman's Jarvis!. Its pretty easy in .Net to work with these kind of application! All you need is\n* Visual Studio 2008 or later (I use VB.Net)\n* AIMLBot (A chatbot library to make natural conversations) \n* Haptek Character (To display a 3D Virtual Human Character That Can Talk With Animations)</p>\n\n<p>Now you can use this all and can make a talking conversational virtual assistant!! You can make it respond technical details of your computer like Alerting on low disk space, Inform you on new mail and also can open &amp; read mail for you using VB.Net programming to open the mail and pass the content text to your virtual assistant and vice versa!! </p>\n\n<p>Its actually simpler than it sounds!!</p>\n\n<p>Watch this video to build your first Talking 3D avatar using VB.Net </p>\n\n<p><a href=\"https://www.youtube.com/watch?v=Gh-DPpCqxXY\" rel=\"nofollow\">https://www.youtube.com/watch?v=Gh-DPpCqxXY</a></p>\n"}],"owner":{"account_id":2417047,"reputation":1299,"user_id":2110873,"accept_rate":33,"display_name":"kajarigd"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3029,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1674513364,"creation_date":1417279671,"question_id":27204577,"body_markdown":"There are many virtual assistants available in the market, like Siri (Apple), Braina (Windows), various for Android phones. These assistants reply to you based on the questions you ask, or they remind you of a task put in the calendar, or red out an sms, etc. \r\n\r\nIs there any API available for Windows/Mac, which I can download and use to create my own virtual assistant? By my own I mean, I will write a program to do some work, and depending on the output the program produces, my virtual assistant will talk to me.\r\n\r\nThere is AIML, Alicebot, etc. But, I don&#39;t want an intelligent assistant to chat with me. I just want a Virtual Assistant UI to read out outputs from a program running in the background. \r\n\r\nFor example, suppose I am checking how much space is left in my C:/ drive. If space is less that 500MB, my virtual assistant will say, &quot;it is time to clean up your disk&quot;. This way, I want to write many such small utility programs to give different kinds of information, and I want my virtual assistant tell me all these.\r\n\r\nAt present the virtual assistants I found to download in my phone or laptop (as listed above), I cannot feed in my own program. \r\n\r\nAny way I can do it? I would like to code this in Java on Windows. If not possible, any other language or OS is fine with me.\r\n\r\nThanks!","title":"How to create an event based virtual assistant?","body":"<p>There are many virtual assistants available in the market, like Siri (Apple), Braina (Windows), various for Android phones. These assistants reply to you based on the questions you ask, or they remind you of a task put in the calendar, or red out an sms, etc. </p>\n\n<p>Is there any API available for Windows/Mac, which I can download and use to create my own virtual assistant? By my own I mean, I will write a program to do some work, and depending on the output the program produces, my virtual assistant will talk to me.</p>\n\n<p>There is AIML, Alicebot, etc. But, I don't want an intelligent assistant to chat with me. I just want a Virtual Assistant UI to read out outputs from a program running in the background. </p>\n\n<p>For example, suppose I am checking how much space is left in my C:/ drive. If space is less that 500MB, my virtual assistant will say, \"it is time to clean up your disk\". This way, I want to write many such small utility programs to give different kinds of information, and I want my virtual assistant tell me all these.</p>\n\n<p>At present the virtual assistants I found to download in my phone or laptop (as listed above), I cannot feed in my own program. </p>\n\n<p>Any way I can do it? I would like to code this in Java on Windows. If not possible, any other language or OS is fine with me.</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","spring-boot","junit5"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1674925519,"post_id":75215571,"comment_id":132819737,"body_markdown":"The error output does not reference anything related to junit5 you have some issues in your code ... also have you checked the release notes for upgrade to spring boot 2.7.0 (https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.7-Release-Notes) furthermore I would check the build if there are some deprecations (hopefully you have turned on deprecations) https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.6-Release-Notes ??","body":"The error output does not reference anything related to junit5 you have some issues in your code ... also have you checked the release notes for upgrade to spring boot 2.7.0 (<a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.7-Release-Notes\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/wiki/&hellip;</a>) furthermore I would check the build if there are some deprecations (hopefully you have turned on deprecations) <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.6-Release-Notes\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/wiki/&hellip;</a> ??"}],"owner":{"account_id":27604489,"reputation":1,"user_id":21068934,"display_name":"Pra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674513143,"creation_date":1674511840,"question_id":75215571,"body_markdown":"Few Error Examples : \r\n\r\n    Failed to introspect annotated methods on class \r\n    java.lang.IllegalStateException: Failed to load ApplicationContext\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;welcomePageHandlerMapping&#39; defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Unsatisfied dependency expressed through method &#39;welcomePageHandlerMapping&#39; parameter 2; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;mvcResourceUrlProvider&#39; defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.resource.ResourceUrlProvider]: Factory method &#39;mvcResourceUrlProvider&#39; threw exception; nested exception is java.lang.NullPointerException\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;mvcResourceUrlProvider&#39; defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate \r\n\r\nI only changed the version and nothing else in the code, inside parent tag.\r\n\r\n    &lt;version&gt;2.7.7&lt;/version&gt;","title":"junit test cases creating errors for when spring boot application migrated from 2.6.6 to 2.7.7. junit5 is used","body":"<p>Few Error Examples :</p>\n<pre><code>Failed to introspect annotated methods on class \njava.lang.IllegalStateException: Failed to load ApplicationContext\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'welcomePageHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Unsatisfied dependency expressed through method 'welcomePageHandlerMapping' parameter 2; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcResourceUrlProvider' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.resource.ResourceUrlProvider]: Factory method 'mvcResourceUrlProvider' threw exception; nested exception is java.lang.NullPointerException\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcResourceUrlProvider' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate \n</code></pre>\n<p>I only changed the version and nothing else in the code, inside parent tag.</p>\n<pre><code>&lt;version&gt;2.7.7&lt;/version&gt;\n</code></pre>\n"},{"tags":["java","google-calendar-api"],"comments":[{"owner":{"account_id":271693,"reputation":7924,"user_id":562363,"accept_rate":59,"display_name":"Absurd-Mind"},"score":1,"creation_date":1395396782,"post_id":22555795,"comment_id":34329390,"body_markdown":"The google API are actually very well documented: https://developers.google.com/google-apps/calendar/ What is your problem exactly?","body":"The google API are actually very well documented: <a href=\"https://developers.google.com/google-apps/calendar/\" rel=\"nofollow noreferrer\">developers.google.com/google-apps/calendar</a> What is your problem exactly?"},{"owner":{"account_id":4207235,"reputation":29,"user_id":3445864,"display_name":"user3445864"},"score":0,"creation_date":1395397857,"post_id":22555795,"comment_id":34330057,"body_markdown":"THx yeah ,i&#39;ve just seen it,","body":"THx yeah ,i&#39;ve just seen it,"},{"owner":{"account_id":4207235,"reputation":29,"user_id":3445864,"display_name":"user3445864"},"score":0,"creation_date":1395398207,"post_id":22555795,"comment_id":34330279,"body_markdown":"THx yeah ,i&#39;ve just seen it,but my poroblem is how to create a new calendar personnalised by extracting my own data automatically from my google calendat and put it in it (after that i will add things) bit ill now i don&#39;t know how","body":"THx yeah ,i&#39;ve just seen it,but my poroblem is how to create a new calendar personnalised by extracting my own data automatically from my google calendat and put it in it (after that i will add things) bit ill now i don&#39;t know how"},{"owner":{"account_id":976984,"reputation":757,"user_id":997820,"accept_rate":56,"display_name":"AlwaysConfused"},"score":0,"creation_date":1479088945,"post_id":22555795,"comment_id":68397553,"body_markdown":"@Absurd-Mind I found it to be very confusing, gives me loads of errors, very bad jar organisation, just terrible examples and they give java projects as it was android app..","body":"@Absurd-Mind I found it to be very confusing, gives me loads of errors, very bad jar organisation, just terrible examples and they give java projects as it was android app.."},{"owner":{"account_id":271693,"reputation":7924,"user_id":562363,"accept_rate":59,"display_name":"Absurd-Mind"},"score":0,"creation_date":1479115437,"post_id":22555795,"comment_id":68405882,"body_markdown":"@StuckBetweenTrees The examples are all split for &gt;8 languages, Android and Java are two seperate ones. Using gradle (as described in the quickstart) should not bring you to a bad jar organisation. Here you can see how to setup the API for java: https://developers.google.com/google-apps/calendar/quickstart/java and here is an example to create an event: https://developers.google.com/google-apps/calendar/create-events So what is missing?","body":"@StuckBetweenTrees The examples are all split for &gt;8 languages, Android and Java are two seperate ones. Using gradle (as described in the quickstart) should not bring you to a bad jar organisation. Here you can see how to setup the API for java: <a href=\"https://developers.google.com/google-apps/calendar/quickstart/java\" rel=\"nofollow noreferrer\">developers.google.com/google-apps/calendar/quickstart/java</a> and here is an example to create an event: <a href=\"https://developers.google.com/google-apps/calendar/create-events\" rel=\"nofollow noreferrer\">developers.google.com/google-apps/calendar/create-events</a> So what is missing?"},{"owner":{"account_id":976984,"reputation":757,"user_id":997820,"accept_rate":56,"display_name":"AlwaysConfused"},"score":0,"creation_date":1479127508,"post_id":22555795,"comment_id":68413363,"body_markdown":"@Absurd-Mind their samples are just hideous.. I am trying just now to set up 1 sample code from their github and it produced like 50 errors.. I mean how is it even possible? Most of the jars are missing even I included every single of them.. I did exactly what they stated in the instructions..You probably have to be google debeloper to understand their way of coding. I dont get it why they can simply make url requests with 3 secret keys for example to get your data with json..","body":"@Absurd-Mind their samples are just hideous.. I am trying just now to set up 1 sample code from their github and it produced like 50 errors.. I mean how is it even possible? Most of the jars are missing even I included every single of them.. I did exactly what they stated in the instructions..You probably have to be google debeloper to understand their way of coding. I dont get it why they can simply make url requests with 3 secret keys for example to get your data with json.."}],"owner":{"account_id":4207235,"reputation":29,"user_id":3445864,"display_name":"user3445864"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":490,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1674513120,"creation_date":1395396678,"question_id":22555795,"body_markdown":"i would like to extract data from google calendar to put it in another special calendar(that i will create) automaticaly.\r\nSo that when i have this calendar in an app it automatically extract data from user existing google calendar.\r\n\r\nI&#39;ve been searching for a while but didn&#39;t found nothing","title":"How to extract data from google calendar","body":"<p>i would like to extract data from google calendar to put it in another special calendar(that i will create) automaticaly.\nSo that when i have this calendar in an app it automatically extract data from user existing google calendar.</p>\n\n<p>I've been searching for a while but didn't found nothing</p>\n"},{"tags":["javascript","java","selenium","selenium-webdriver","scroll"],"comments":[{"owner":{"account_id":937336,"reputation":54163,"user_id":966023,"accept_rate":65,"display_name":"pguardiario"},"score":0,"creation_date":1674519369,"post_id":75212879,"comment_id":132727474,"body_markdown":"I&#39;m sure that method is supposed to return null","body":"I&#39;m sure that method is supposed to return null"}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674503412,"creation_date":1674503412,"answer_id":75214357,"question_id":75212879,"body_markdown":"Instead of _`scrollLeft`_ you can always [**Element.scrollIntoView()**](https://stackoverflow.com/a/54689339/7429447) as follows:\r\n\r\n\tWebElement element=driver.findElement(By.xpath(&quot;//div[@class=&#39;table-wrapper&#39;]&quot;));\r\n\t((JavascriptExecutor) driver).executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, element);\r\n\t\r\n&gt;You can find a relevant detailed discussion in [scrollIntoView() not working for horizontal scroll (Selenium)](https://stackoverflow.com/a/58537189/7429447)","title":"executeScript() method returns me null instead of scrolling horizontally towards right","body":"<p>Instead of <em><code>scrollLeft</code></em> you can always <a href=\"https://stackoverflow.com/a/54689339/7429447\"><strong>Element.scrollIntoView()</strong></a> as follows:</p>\n<pre><code>WebElement element=driver.findElement(By.xpath(&quot;//div[@class='table-wrapper']&quot;));\n((JavascriptExecutor) driver).executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, element);\n</code></pre>\n<blockquote>\n<p>You can find a relevant detailed discussion in <a href=\"https://stackoverflow.com/a/58537189/7429447\">scrollIntoView() not working for horizontal scroll (Selenium)</a></p>\n</blockquote>\n"}],"owner":{"account_id":26403014,"reputation":29,"user_id":21042124,"display_name":"Max Brian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75214357,"answer_count":1,"score":1,"last_activity_date":1674512755,"creation_date":1674494151,"question_id":75212879,"body_markdown":"The code is:\r\n\r\n    WebElement element=driver.findElement(By.xpath(&quot;//div[@class=&#39;table-wrapper&#39;]&quot;));\r\n    JavascriptExecutor js=(JavascriptExecutor)driver;\r\n    js.executeScript(&quot;arguments[0].scrollLeft=arguments[0].scrollWidth&quot;, element);\r\n\r\nWhile debugging at third step, `executeScript` returned me &quot;null&quot;.  \r\n\r\nXpath is correct and locating well. I can&#39;t able to find locator of scroll so I am using whole locator of that particular div.  i.e `//div[@class=&#39;table-wrapper&#39;]`.","title":"executeScript() method returns me null instead of scrolling horizontally towards right","body":"<p>The code is:</p>\n<pre><code>WebElement element=driver.findElement(By.xpath(&quot;//div[@class='table-wrapper']&quot;));\nJavascriptExecutor js=(JavascriptExecutor)driver;\njs.executeScript(&quot;arguments[0].scrollLeft=arguments[0].scrollWidth&quot;, element);\n</code></pre>\n<p>While debugging at third step, <code>executeScript</code> returned me &quot;null&quot;.</p>\n<p>Xpath is correct and locating well. I can't able to find locator of scroll so I am using whole locator of that particular div.  i.e <code>//div[@class='table-wrapper']</code>.</p>\n"},{"tags":["java","performance","openrefine"],"answers":[{"tags":[],"owner":{"account_id":960659,"reputation":2398,"user_id":985087,"accept_rate":100,"display_name":"pintoch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674512615,"creation_date":1674512615,"answer_id":75215662,"question_id":75214840,"body_markdown":"Have you tried running `refine.bat build`? I suspect Eclipse will not build the frontend on its own, and that is needed to fetch the dependencies of libraries.","title":"Open refine bat file not loading the full page","body":"<p>Have you tried running <code>refine.bat build</code>? I suspect Eclipse will not build the frontend on its own, and that is needed to fetch the dependencies of libraries.</p>\n"}],"owner":{"account_id":27603958,"reputation":1,"user_id":21068556,"display_name":"Arena"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674512615,"creation_date":1674506590,"question_id":75214840,"body_markdown":"I am trying to run open refine bat file but it is not loading full page only open refine logo is showing. I took the source code from git hub and imported it in eclipse. But after running code, it is not loading full page. Please suggest anything \r\n\r\nI tried all the possible steps which are given in open refine tutorial link. But not able to get solution.","title":"Open refine bat file not loading the full page","body":"<p>I am trying to run open refine bat file but it is not loading full page only open refine logo is showing. I took the source code from git hub and imported it in eclipse. But after running code, it is not loading full page. Please suggest anything</p>\n<p>I tried all the possible steps which are given in open refine tutorial link. But not able to get solution.</p>\n"},{"tags":["java","zip","extract","unzip"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1674446655,"post_id":75205507,"comment_id":132708695,"body_markdown":"`FilenameUtils.indexOfLastSeparator(ze.getName())` most likely returns a number, you presumably want to pass that number as argument to `ze.getName().substring()` or some such. You didn&#39;t include this method, you didn&#39;t include how you call this, hence, not really possible to help you any further.","body":"<code>FilenameUtils.indexOfLastSeparator(ze.getName())</code> most likely returns a number, you presumably want to pass that number as argument to <code>ze.getName().substring()</code> or some such. You didn&#39;t include this method, you didn&#39;t include how you call this, hence, not really possible to help you any further."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674511804,"creation_date":1674446829,"answer_id":75205595,"question_id":75205507,"body_markdown":"I&#39;d love to be able to tell you exactly what&#39;s wrong with your code, but `FileOutputStream fos = new FileOutputStream(folder);` throws an exception because, well, `folder` is, a directory, so you can&#39;t write to it.\r\n\r\nI&#39;m also scratching my head over what your expecting `new File(folder.getParent()).mkdirs();` to do.\r\n\r\nI basically threw out your code and started again with...\r\n\r\n    public void unZipFolder(File zipFile, File outputFolder) throws IOException {\r\n        byte[] buffer = new byte[1024];\r\n\r\n        System.out.println(&quot;ZipFileLocation: &quot; + zipFile);\r\n        System.out.println(&quot;outputFolder = &quot; + outputFolder);\r\n\r\n        if (!outputFolder.exists() &amp;&amp; !outputFolder.mkdirs()) {\r\n            throw new IOException(&quot;Unable to create output folder: &quot; + outputFolder);\r\n        } else if (outputFolder.exists() &amp;&amp; !outputFolder.isDirectory()) {\r\n            throw new IOException(&quot;Output is not a directory: &quot; + outputFolder);\r\n        }\r\n\r\n        try (ZipFile zipper = new ZipFile(zipFile)) {\r\n            Enumeration&lt;? extends ZipEntry&gt; entries = zipper.entries();\r\n            while (entries.hasMoreElements()) {\r\n                ZipEntry ze = entries.nextElement();\r\n                File destination = new File(outputFolder, ze.getName());\r\n                if (ze.isDirectory()) {\r\n                    if (!destination.exists() &amp;&amp; !destination.mkdirs()) {\r\n                        throw new IOException(&quot;Could not create directory: &quot; + destination);\r\n                    }\r\n                } else {\r\n                    System.out.println(&quot;Writing &quot; + destination);\r\n                    try (InputStream is = zipper.getInputStream(ze); FileOutputStream fos = new FileOutputStream(destination)) {\r\n                        // You could use is.transferTo(fos) here but I&#39;m a grump old coder\r\n                        byte[] bytes = new byte[1024 * 4];\r\n                        int bytesRead = -1;\r\n                        while ((bytesRead = is.read(bytes)) != -1) {\r\n                            fos.write(bytes, 0, bytesRead);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nNow, what&#39;s important to know about this is, it expects the directory contents of the zip files to be relative (ie no root directory information).  If your zip file does contain root directory information (ie `C:/...` or `/...`), then you&#39;re going to need to clean that up yourself.\r\n\r\nNow, if you have trouble with this, I would suggest commenting out the &quot;extraction&quot; portion of the code and placing in more `System.out.println` statements\r\n\r\n# `transferTo`\r\n\r\nAfter reading through the code for `transferTo`, it&#39;s basically doing the same thing that the code example above is doing - so, if you wanted to reduce the code complexity (and reduce the risk of possible bugs), you could use it - been some what old school, I&#39;d probably still do it the &quot;old way&quot; in order to provide support for progress monitoring of some kind - but that&#39;s beyond the scope of the question.\r\n\r\n# &quot;Security issues&quot;\r\n\r\nThis ones a little harder to tie down, as no solution is 100% safe.\r\n\r\nI modified the above code to use something like...\r\n\r\n    Path parent = outputFolder.toPath().toAbsolutePath();\r\n    String name = &quot;../&quot; + ze.getName();\r\n    Path child = parent.resolveSibling(new File(outputFolder, name).toPath());\r\n\r\nAnd this ended up throwing a `NoSuchFileException`, so, at least you could &quot;fail fast&quot;, assuming that&#39;s what you want.\r\n\r\nYou might also consider removing `..`, leading `/` or leading path specifications in an attempt to make the path &quot;relative&quot;, but that could become complicated as something like `somePath/../file` could still be valid within your use case.","title":"Extracted ZIP file failed - No files inside, and having .zip25 extension after extract","body":"<p>I'd love to be able to tell you exactly what's wrong with your code, but <code>FileOutputStream fos = new FileOutputStream(folder);</code> throws an exception because, well, <code>folder</code> is, a directory, so you can't write to it.</p>\n<p>I'm also scratching my head over what your expecting <code>new File(folder.getParent()).mkdirs();</code> to do.</p>\n<p>I basically threw out your code and started again with...</p>\n<pre><code>public void unZipFolder(File zipFile, File outputFolder) throws IOException {\n    byte[] buffer = new byte[1024];\n\n    System.out.println(&quot;ZipFileLocation: &quot; + zipFile);\n    System.out.println(&quot;outputFolder = &quot; + outputFolder);\n\n    if (!outputFolder.exists() &amp;&amp; !outputFolder.mkdirs()) {\n        throw new IOException(&quot;Unable to create output folder: &quot; + outputFolder);\n    } else if (outputFolder.exists() &amp;&amp; !outputFolder.isDirectory()) {\n        throw new IOException(&quot;Output is not a directory: &quot; + outputFolder);\n    }\n\n    try (ZipFile zipper = new ZipFile(zipFile)) {\n        Enumeration&lt;? extends ZipEntry&gt; entries = zipper.entries();\n        while (entries.hasMoreElements()) {\n            ZipEntry ze = entries.nextElement();\n            File destination = new File(outputFolder, ze.getName());\n            if (ze.isDirectory()) {\n                if (!destination.exists() &amp;&amp; !destination.mkdirs()) {\n                    throw new IOException(&quot;Could not create directory: &quot; + destination);\n                }\n            } else {\n                System.out.println(&quot;Writing &quot; + destination);\n                try (InputStream is = zipper.getInputStream(ze); FileOutputStream fos = new FileOutputStream(destination)) {\n                    // You could use is.transferTo(fos) here but I'm a grump old coder\n                    byte[] bytes = new byte[1024 * 4];\n                    int bytesRead = -1;\n                    while ((bytesRead = is.read(bytes)) != -1) {\n                        fos.write(bytes, 0, bytesRead);\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>Now, what's important to know about this is, it expects the directory contents of the zip files to be relative (ie no root directory information).  If your zip file does contain root directory information (ie <code>C:/...</code> or <code>/...</code>), then you're going to need to clean that up yourself.</p>\n<p>Now, if you have trouble with this, I would suggest commenting out the &quot;extraction&quot; portion of the code and placing in more <code>System.out.println</code> statements</p>\n<h1><code>transferTo</code></h1>\n<p>After reading through the code for <code>transferTo</code>, it's basically doing the same thing that the code example above is doing - so, if you wanted to reduce the code complexity (and reduce the risk of possible bugs), you could use it - been some what old school, I'd probably still do it the &quot;old way&quot; in order to provide support for progress monitoring of some kind - but that's beyond the scope of the question.</p>\n<h1>&quot;Security issues&quot;</h1>\n<p>This ones a little harder to tie down, as no solution is 100% safe.</p>\n<p>I modified the above code to use something like...</p>\n<pre><code>Path parent = outputFolder.toPath().toAbsolutePath();\nString name = &quot;../&quot; + ze.getName();\nPath child = parent.resolveSibling(new File(outputFolder, name).toPath());\n</code></pre>\n<p>And this ended up throwing a <code>NoSuchFileException</code>, so, at least you could &quot;fail fast&quot;, assuming that's what you want.</p>\n<p>You might also consider removing <code>..</code>, leading <code>/</code> or leading path specifications in an attempt to make the path &quot;relative&quot;, but that could become complicated as something like <code>somePath/../file</code> could still be valid within your use case.</p>\n"}],"owner":{"account_id":20769469,"reputation":3,"user_id":15252530,"display_name":"Euphoria"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75205595,"answer_count":1,"score":0,"last_activity_date":1674511804,"creation_date":1674445311,"question_id":75205507,"body_markdown":"I was trying to extract the ZIP file from my Linux, I&#39;m able to extract it, but the expected output is failing/wrong. The extract file suddenly has no files inside and the folder extracted has .zip25 extension. I searched on this, and there is saying that it is corrupted. However, I don&#39;t think it is corrupted because I am able to open and extract the zip files perfectly in local (Windows directory).\r\n\r\nExample:\r\n\r\nZip file: FolderZip.zip\r\n\r\nAfter extract: FolderZip.zip25 (Note: This is already extracted but still has .zip25 extension, also the files inside are missing).\r\n\r\nBelow is my code, I&#39;ve worked on this for almost a month, but still can&#39;t figure it out. Can someone help me to figure out what did I do wrong?\r\n\r\n```java\r\npublic void unZipFolder(String zipFile, String outputFolder){\r\n        byte[] buffer = new byte[1024];\r\n\r\n        System.out.println(&quot;ZipFileLocation: &quot; + zipFile);\r\n        LOG.info(&quot; ZipFileLocation: &quot; + zipFile);\r\n\r\n        File folder = new File(outputFolder);\r\n        if(!folder.exists())folder.mkdirs();\r\n\r\n        try{\r\n            FileInputStream fis = new FileInputStream(zipFile);\r\n            ZipInputStream zis = new ZipInputStream(fis);\r\n            ZipEntry ze = zis.getNextEntry();\r\n            \r\n            while(ze != null) {\r\n                new File(folder.getParent()).mkdirs();\r\n                FileOutputStream fos = new FileOutputStream(folder);\r\n                File newFile = new File(outputFolder + FilenameUtils.indexOfLastSeparator(ze.getName()));\r\n                                \r\n                if (ze.isDirectory()) {\r\n                    if (!newFile.isDirectory() &amp;&amp; !newFile.mkdirs()) {\r\n                        throw new IOException(&quot;Failed to create directory &quot; + newFile);\r\n                    }else if(ze.isDirectory()){\r\n                    \tnewFile.mkdirs();\r\n                        continue;\r\n                    }else{\r\n                    \tint len;\r\n                    \twhile ((len = zis.read(buffer)) &gt;= 0) {\r\n                            fos.write(buffer, 0, len);\r\n                        }\r\n                    \t\r\n                    \tSystem.out.println(&quot;File Unzip: &quot; + newFile);\r\n                        LOG.info(&quot; File Unzip: &quot; + newFile);\r\n                        newFile.mkdirs();\r\n                        fos.close();\r\n                        zis.closeEntry();\r\n                        ze = zis.getNextEntry();\r\n                    }\r\n                }    \r\n                \r\n                boolean result = Files.deleteIfExists(Paths.get(zipFile));\r\n                if (result) {\r\n                    System.out.println(&quot;ZipFile is deleted....&quot;);\r\n                } else {\r\n                    System.out.println(&quot;Unable to delete the file.....&quot;);\r\n              }\r\n            }\r\n            zis.closeEntry();\r\n            zis.close();\r\n            fis.close();\r\n         }catch(IOException ex){\r\n            ex.printStackTrace();\r\n     }\r\n}\r\n```","title":"Extracted ZIP file failed - No files inside, and having .zip25 extension after extract","body":"<p>I was trying to extract the ZIP file from my Linux, I'm able to extract it, but the expected output is failing/wrong. The extract file suddenly has no files inside and the folder extracted has .zip25 extension. I searched on this, and there is saying that it is corrupted. However, I don't think it is corrupted because I am able to open and extract the zip files perfectly in local (Windows directory).</p>\n<p>Example:</p>\n<p>Zip file: FolderZip.zip</p>\n<p>After extract: FolderZip.zip25 (Note: This is already extracted but still has .zip25 extension, also the files inside are missing).</p>\n<p>Below is my code, I've worked on this for almost a month, but still can't figure it out. Can someone help me to figure out what did I do wrong?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void unZipFolder(String zipFile, String outputFolder){\n        byte[] buffer = new byte[1024];\n\n        System.out.println(&quot;ZipFileLocation: &quot; + zipFile);\n        LOG.info(&quot; ZipFileLocation: &quot; + zipFile);\n\n        File folder = new File(outputFolder);\n        if(!folder.exists())folder.mkdirs();\n\n        try{\n            FileInputStream fis = new FileInputStream(zipFile);\n            ZipInputStream zis = new ZipInputStream(fis);\n            ZipEntry ze = zis.getNextEntry();\n            \n            while(ze != null) {\n                new File(folder.getParent()).mkdirs();\n                FileOutputStream fos = new FileOutputStream(folder);\n                File newFile = new File(outputFolder + FilenameUtils.indexOfLastSeparator(ze.getName()));\n                                \n                if (ze.isDirectory()) {\n                    if (!newFile.isDirectory() &amp;&amp; !newFile.mkdirs()) {\n                        throw new IOException(&quot;Failed to create directory &quot; + newFile);\n                    }else if(ze.isDirectory()){\n                        newFile.mkdirs();\n                        continue;\n                    }else{\n                        int len;\n                        while ((len = zis.read(buffer)) &gt;= 0) {\n                            fos.write(buffer, 0, len);\n                        }\n                        \n                        System.out.println(&quot;File Unzip: &quot; + newFile);\n                        LOG.info(&quot; File Unzip: &quot; + newFile);\n                        newFile.mkdirs();\n                        fos.close();\n                        zis.closeEntry();\n                        ze = zis.getNextEntry();\n                    }\n                }    \n                \n                boolean result = Files.deleteIfExists(Paths.get(zipFile));\n                if (result) {\n                    System.out.println(&quot;ZipFile is deleted....&quot;);\n                } else {\n                    System.out.println(&quot;Unable to delete the file.....&quot;);\n              }\n            }\n            zis.closeEntry();\n            zis.close();\n            fis.close();\n         }catch(IOException ex){\n            ex.printStackTrace();\n     }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1674506064,"post_id":75214725,"comment_id":132724615,"body_markdown":"What are you trying to accomplish here?  Your goal is *very* unclear.","body":"What are you trying to accomplish here?  Your goal is <i>very</i> unclear."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1674506099,"post_id":75214725,"comment_id":132724626,"body_markdown":"Particularly what you mean by &quot;name this path&quot;","body":"Particularly what you mean by &quot;name this path&quot;"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":1,"creation_date":1674506275,"post_id":75214725,"comment_id":132724674,"body_markdown":"Why can&#39;t you create a Path or File object from directory c, list files to find the unknown directory name, and then proceed on down","body":"Why can&#39;t you create a Path or File object from directory c, list files to find the unknown directory name, and then proceed on down"}],"answers":[{"tags":[],"owner":{"account_id":8335840,"reputation":334,"user_id":6262815,"display_name":"tonder"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1674506497,"creation_date":1674506497,"answer_id":75214821,"question_id":75214725,"body_markdown":"Lets say you have a dockerized app based on a linux distribution.\r\n\r\nYou can run this unix command: ```find . -name d/e/f/yourFilename``` using [Process Builder][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/6/docs/api/java/lang/ProcessBuilder.html\r\n\r\n\r\nThis will return the complete filepath to your file which will include the unknown portion. And then you can assign it to a String and use in your Java app.","title":"Java: Possible to name a path with exactly 1 unknown directory?","body":"<p>Lets say you have a dockerized app based on a linux distribution.</p>\n<p>You can run this unix command: <code>find . -name d/e/f/yourFilename</code> using <a href=\"https://docs.oracle.com/javase/6/docs/api/java/lang/ProcessBuilder.html\" rel=\"nofollow noreferrer\">Process Builder</a></p>\n<p>This will return the complete filepath to your file which will include the unknown portion. And then you can assign it to a String and use in your Java app.</p>\n"},{"tags":[],"owner":{"account_id":6358642,"reputation":6528,"user_id":4934937,"display_name":"maio290"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674506790,"creation_date":1674506790,"answer_id":75214869,"question_id":75214725,"body_markdown":"Yes, it is possible but probably not as straightforward as you think, you&#39;d use the [`Files.walk`][1] method like follows:\r\n\r\n\t\tPath root = Paths.get(&quot;S:\\\\Coding\\\\&quot;);\r\n\r\n\t\tString prefix = &quot;A\\\\AB&quot;;\r\n\t\tString suffix = &quot;B\\\\C&quot;;\r\n\t\t\r\n\t\tPath searchRoot = root.resolve(prefix);\r\n\t\t\r\n\t\tSystem.err.println(searchRoot);\r\n\t\t\r\n\t\tList&lt;Path&gt; paths = Files.walk(searchRoot).filter(f -&gt; f.endsWith(suffix)).collect(Collectors.toList());\r\n\t\t\r\n\t\tpaths.forEach(System.out::println);\r\n\r\nOutputs:\r\n\r\n    stderr: S:\\Coding\\A\\AB\r\n    stdout: S:\\Coding\\A\\AB\\ZZZ\\B\\C\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#walk-java.nio.file.Path-java.nio.file.FileVisitOption...-","title":"Java: Possible to name a path with exactly 1 unknown directory?","body":"<p>Yes, it is possible but probably not as straightforward as you think, you'd use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#walk-java.nio.file.Path-java.nio.file.FileVisitOption...-\" rel=\"nofollow noreferrer\"><code>Files.walk</code></a> method like follows:</p>\n<pre><code>    Path root = Paths.get(&quot;S:\\\\Coding\\\\&quot;);\n\n    String prefix = &quot;A\\\\AB&quot;;\n    String suffix = &quot;B\\\\C&quot;;\n    \n    Path searchRoot = root.resolve(prefix);\n    \n    System.err.println(searchRoot);\n    \n    List&lt;Path&gt; paths = Files.walk(searchRoot).filter(f -&gt; f.endsWith(suffix)).collect(Collectors.toList());\n    \n    paths.forEach(System.out::println);\n</code></pre>\n<p>Outputs:</p>\n<pre><code>stderr: S:\\Coding\\A\\AB\nstdout: S:\\Coding\\A\\AB\\ZZZ\\B\\C\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674511435,"creation_date":1674509797,"answer_id":75215296,"question_id":75214725,"body_markdown":"You can hardcode your search method as indicated in other answers. Or, to stay flexible match against patterns. You would need some pattern language to specify your path:\r\n\r\n- Shells typically use [globbing][1].\r\n- Alternatively you could use regexp to distinguish wanted from unwanted files. \r\n\r\nOnce you have such a pattern matcher, use a tree walking algorithm (traverse the directory structure recursively), match each absolute path name with your pattern. If it matches, perform some action.\r\n\r\nBe aware some globbing seems to exist in Java - see https://stackoverflow.com/questions/24677662/match-path-string-using-glob-in-java#24677807\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Glob_(programming)","title":"Java: Possible to name a path with exactly 1 unknown directory?","body":"<p>You can hardcode your search method as indicated in other answers. Or, to stay flexible match against patterns. You would need some pattern language to specify your path:</p>\n<ul>\n<li>Shells typically use <a href=\"https://en.wikipedia.org/wiki/Glob_(programming)\" rel=\"nofollow noreferrer\">globbing</a>.</li>\n<li>Alternatively you could use regexp to distinguish wanted from unwanted files.</li>\n</ul>\n<p>Once you have such a pattern matcher, use a tree walking algorithm (traverse the directory structure recursively), match each absolute path name with your pattern. If it matches, perform some action.</p>\n<p>Be aware some globbing seems to exist in Java - see <a href=\"https://stackoverflow.com/questions/24677662/match-path-string-using-glob-in-java#24677807\">Match path string using glob in Java</a></p>\n"}],"owner":{"account_id":117317,"reputation":11245,"user_id":307297,"accept_rate":62,"display_name":"chris01"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1674511435,"creation_date":1674505770,"question_id":75214725,"body_markdown":"Lets say I have a directory-structure.\r\n\r\n    /a/b/c/&lt;unknown name&gt;/d/e/f/&lt;files&gt;\r\n\r\nfor Windows: \r\n\r\n    C:\\a\\b\\c\\&lt;unknown name&gt;\\d\\e\\f&lt;files&gt;\r\n\r\nI know a/b/c is always there and also d/e/f/&lt;some files&gt;.\r\n\r\nI do not know the directory (&lt;unknown name&gt;) between them but I know there is only 1.\r\n\r\nIs there a way in Java I can name this path without finding out the name of the 1 unknown directory to access &lt;some files&gt;??\r\n\r\nLike so?  \r\n\r\n    /a/b/c/*/d/e/f","title":"Java: Possible to name a path with exactly 1 unknown directory?","body":"<p>Lets say I have a directory-structure.</p>\n<pre><code>/a/b/c/&lt;unknown name&gt;/d/e/f/&lt;files&gt;\n</code></pre>\n<p>for Windows:</p>\n<pre><code>C:\\a\\b\\c\\&lt;unknown name&gt;\\d\\e\\f&lt;files&gt;\n</code></pre>\n<p>I know a/b/c is always there and also d/e/f/.</p>\n<p>I do not know the directory () between them but I know there is only 1.</p>\n<p>Is there a way in Java I can name this path without finding out the name of the 1 unknown directory to access ??</p>\n<p>Like so?</p>\n<pre><code>/a/b/c/*/d/e/f\n</code></pre>\n"},{"tags":["java","process","io","stream","java-io"],"answers":[{"tags":[],"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1350369632,"creation_date":1350369274,"answer_id":12908802,"question_id":12908732,"body_markdown":"`readline()` is a blocking call. It will block until there&#39;s a line to be read (terminated by an end of line character) or the underlying stream is closed (returning EOF). \r\n\r\nYou need to have logic that is checking `BufferedReader.ready()` or just using `BufferedReader.read()` and bailing out if you decide you&#39;re waiting long enough (or want to do something else then check again). \r\n\r\n**Edit to add**: That being said, it shouldn&#39;t hang &quot;indefinitely&quot; as-is; it should return once the invoked process terminates. By any chance is your invoked process also outputting something to `stdout`? If that&#39;s the case ... you need to be reading from that as well or the buffer will fill and will block the external process which will prevent it from exiting which ... leads to your problem. ","title":"Reading error stream from a process","body":"<p><code>readline()</code> is a blocking call. It will block until there's a line to be read (terminated by an end of line character) or the underlying stream is closed (returning EOF). </p>\n\n<p>You need to have logic that is checking <code>BufferedReader.ready()</code> or just using <code>BufferedReader.read()</code> and bailing out if you decide you're waiting long enough (or want to do something else then check again). </p>\n\n<p><strong>Edit to add</strong>: That being said, it shouldn't hang \"indefinitely\" as-is; it should return once the invoked process terminates. By any chance is your invoked process also outputting something to <code>stdout</code>? If that's the case ... you need to be reading from that as well or the buffer will fill and will block the external process which will prevent it from exiting which ... leads to your problem. </p>\n"},{"tags":[],"owner":{"account_id":2319930,"reputation":96,"user_id":5419143,"display_name":"sarysa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1444230687,"creation_date":1444230687,"answer_id":32995975,"question_id":12908732,"body_markdown":"This is a late reply, but the issue hasn&#39;t really solved and it&#39;s on the first page for some searches. I had the same issue, and `BufferedReader.ready()` would still set up a situation where it would lock.\r\n\r\n**The following workaround will not work if you need to get a persistent stream. However, if you&#39;re just running a program and waiting for it to close, this should be fine.**\r\n\r\nThe workaround I&#39;m using is to call `ProcessBuilder.redirectError(File)`. Then I&#39;d read the file and use that to present the error stream to the user. It worked fine, didn&#39;t lock. I did call `Process.destroyForcibly()` after Process.waitFor() but this is likely unnecessary.\r\n\r\nSome pseudocode below:\r\n&lt;pre&gt;\r\n\r\n    File thisFile = new File(&quot;somefile.ext&quot;);\r\n    ProcessBuilder pb = new ProcessBuilder(yourStringList);\r\n    pb.redirectError(thisFile);\r\n    Process p = pb.start();\r\n    p.waitFor();\r\n    p.destroyForcibly();\r\n    ArrayList&lt;String&gt; fileContents = getFileContents(thisFile);\r\n\r\n&lt;/pre&gt;\r\n\r\nI hope this helps with at least some of your use cases.","title":"Reading error stream from a process","body":"<p>This is a late reply, but the issue hasn't really solved and it's on the first page for some searches. I had the same issue, and <code>BufferedReader.ready()</code> would still set up a situation where it would lock.</p>\n\n<p><strong>The following workaround will not work if you need to get a persistent stream. However, if you're just running a program and waiting for it to close, this should be fine.</strong></p>\n\n<p>The workaround I'm using is to call <code>ProcessBuilder.redirectError(File)</code>. Then I'd read the file and use that to present the error stream to the user. It worked fine, didn't lock. I did call <code>Process.destroyForcibly()</code> after Process.waitFor() but this is likely unnecessary.</p>\n\n<p>Some pseudocode below:</p>\n\n<pre>\n\n    File thisFile = new File(\"somefile.ext\");\n    ProcessBuilder pb = new ProcessBuilder(yourStringList);\n    pb.redirectError(thisFile);\n    Process p = pb.start();\n    p.waitFor();\n    p.destroyForcibly();\n    ArrayList fileContents = getFileContents(thisFile);\n\n</pre>\n\n<p>I hope this helps with at least some of your use cases.</p>\n"},{"tags":[],"owner":{"account_id":3351358,"reputation":531,"user_id":2815365,"accept_rate":100,"display_name":"finrod"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662969339,"creation_date":1662969339,"answer_id":73686115,"question_id":12908732,"body_markdown":"Something like this might also work and avoid the blocking behaviour (without requiring to create a File)\r\n\r\n    InputStream error = process.getErrorStream();\r\n    \r\n    // Read from InputStream\r\n    for (int k = 0; k &lt; error.available(); ++k)\r\n        System.out.println(&quot;Error stream = &quot; + error.read());\r\n\r\nFrom the Javadoc of InputStream.available\r\n\r\n&gt; Returns an estimate of the number of bytes that can be read (orskipped over) from this input stream without blocking by the nextinvocation of a method for this input stream. The next invocationmight be the same thread or another thread. A single read or skip of thismany bytes will not block, but may read or skip fewer bytes. ","title":"Reading error stream from a process","body":"<p>Something like this might also work and avoid the blocking behaviour (without requiring to create a File)</p>\n<pre><code>InputStream error = process.getErrorStream();\n\n// Read from InputStream\nfor (int k = 0; k &lt; error.available(); ++k)\n    System.out.println(&quot;Error stream = &quot; + error.read());\n</code></pre>\n<p>From the Javadoc of InputStream.available</p>\n<blockquote>\n<p>Returns an estimate of the number of bytes that can be read (orskipped over) from this input stream without blocking by the nextinvocation of a method for this input stream. The next invocationmight be the same thread or another thread. A single read or skip of thismany bytes will not block, but may read or skip fewer bytes.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":17576013,"reputation":84,"user_id":13746318,"display_name":"CasseroleBoi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674511417,"creation_date":1674511417,"answer_id":75215517,"question_id":12908732,"body_markdown":"The simplest answer would be to simply redirect the error stream to `stdout`:\r\n```java\r\nprocess.getErrorStream().transferTo(System.out);\r\n```","title":"Reading error stream from a process","body":"<p>The simplest answer would be to simply redirect the error stream to <code>stdout</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>process.getErrorStream().transferTo(System.out);\n</code></pre>\n"}],"owner":{"account_id":232234,"reputation":3842,"user_id":496934,"accept_rate":80,"display_name":"user496934"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18650,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":32995975,"answer_count":4,"score":7,"last_activity_date":1674511417,"creation_date":1350368892,"question_id":12908732,"body_markdown":"I am writing a java program to read the error stream from a process . Below is the structure of my code --\r\n\r\n    ProcessBuilder probuilder = new ProcessBuilder( command );              \r\n    Process process = probuilder.start(); \r\n    InputStream error = process.getErrorStream();\r\n    InputStreamReader isrerror = new InputStreamReader(error);\r\n    BufferedReader bre = new BufferedReader(isrerror);\r\n    while ((linee = bre.readLine()) != null) {\r\n            System.out.println(linee);\r\n        }\r\n\r\nThe above code works fine if anything is actually written to the error stream of the invoked process. However, if anything is not written to the error stream, then the call to readLine actually hangs indefinitely. However, I want to make my code generic so that it works for all scenarios. How can I modify my code to achieve the same.\r\n\r\n   Regards,\r\n     Dev","title":"Reading error stream from a process","body":"<p>I am writing a java program to read the error stream from a process . Below is the structure of my code --</p>\n\n<pre><code>ProcessBuilder probuilder = new ProcessBuilder( command );              \nProcess process = probuilder.start(); \nInputStream error = process.getErrorStream();\nInputStreamReader isrerror = new InputStreamReader(error);\nBufferedReader bre = new BufferedReader(isrerror);\nwhile ((linee = bre.readLine()) != null) {\n        System.out.println(linee);\n    }\n</code></pre>\n\n<p>The above code works fine if anything is actually written to the error stream of the invoked process. However, if anything is not written to the error stream, then the call to readLine actually hangs indefinitely. However, I want to make my code generic so that it works for all scenarios. How can I modify my code to achieve the same.</p>\n\n<p>Regards,\n     Dev</p>\n"},{"tags":["java","machine-learning","artificial-intelligence","j#"],"answers":[{"tags":[],"owner":{"account_id":24653804,"reputation":1,"user_id":18550654,"display_name":"Kyotiq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674510961,"creation_date":1674510961,"answer_id":75215451,"question_id":75215028,"body_markdown":"Through testing, here is what I have found.  Basically, we need to use mse and train over 2000 epochs.  This was found through testing different scaling of the data.  The data doesn&#39;t need to be scaled. \r\n\r\n","title":"Is there a way to reverse the MNIST?","body":"<p>Through testing, here is what I have found.  Basically, we need to use mse and train over 2000 epochs.  This was found through testing different scaling of the data.  The data doesn't need to be scaled.</p>\n"}],"owner":{"account_id":24653804,"reputation":1,"user_id":18550654,"display_name":"Kyotiq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1674510961,"creation_date":1674507796,"question_id":75215028,"body_markdown":"I have recently been looking into AI and the MNIST detest.  I have decided to create 18 different images in microsoft paint.  These images are 28x28, and are named accordingly into the code below.  I wanted to see if I could get my network to overfit on a certain set of images in hopes that I can prompt it with the label and have it return the image.  \r\n\r\nI would give it [[7]], and have it return a 28x28 array of numbers from 1 - 255 denoting the color of the pixel.  The only problem is that the network basically doesn&#39;t learn.  I have also tried putting it in the normal way.  I have given it the picture, just like the mnist, and had it return the data of the label.  It couldn&#39;t even to this.  I have the data scaled from 0 - 1 in this network.  If anyone can give any imput, that would be great. \r\n\r\n\r\n```\r\nimport tensorflow as tf\r\nimport numpy as np\r\nimport cv2\r\nimport matplotlib as plt\r\nimport os\r\nfrom PIL import Image \r\n\r\nX = np.array([[0.01],[0.02],[0.03],[0.04],[0.05],[0.06],[0.07],[0.08],[0.9],[0.10],[0.11],[0.12],[0.13],[0.14],[0.23],[0.57],[0.64],[0.01]])\r\n#X = np.reshape(X, (-1, 1+18 - 1))\r\nprint(np.shape(X))\r\nY = np.array([[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/one.png&quot;)[:,:,0]], [cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Two.png&quot;)[:,:,0]],\r\n[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Three.png&quot;)[:,:,0]],[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Four.png&quot;)[:,:,0]],\r\n[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Five.png&quot;)[:,:,0]],[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Six.png&quot;)[:,:,0]],\r\n[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Seven.png&quot;)[:,:,0]],[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Eight.png&quot;)[:,:,0]],\r\n[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Nine.png&quot;)[:,:,0]],[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Ten.png&quot;)[:,:,0]],\r\n[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Eleven.png&quot;)[:,:,0]],[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Twelve.png&quot;)[:,:,0]],\r\n[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Thirteen.png&quot;)[:,:,0]],[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Fourteen.png&quot;)[:,:,0]],\r\n[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/23.png&quot;)[:,:,0]],[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/57.png&quot;)[:,:,0]],\r\n[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/64.png&quot;)[:,:,0]],\r\n[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/one.png&quot;)[:,:,0]]])\r\nY = np.reshape(Y, (18, 28, 28))\r\nY = np.reshape(Y, (18, 784))\r\nprint(Y)\r\nprint(np.shape(Y))\r\n#Y = np.invert(np.array([Y]))\r\n# = np.reshape(Y, (18, 784))\r\nprint(Y[1])\r\nImage.fromarray(np.reshape(Y[1], (28, 28))).show()\r\nmodel = tf.keras.Sequential()\r\n#model.add(tf.keras.layers.Flatten(units = (28, 28)))\r\nmodel.add(tf.keras.layers.Dense(units = 1))\r\nmodel.add(tf.keras.layers.Dense(units = 1280, activation = &#39;sigmoid&#39;))\r\nmodel.add(tf.keras.layers.Dense(units = 2560, activation = &#39;relu&#39;))\r\nmodel.add(tf.keras.layers.Dense(units = 2560, activation = &#39;relu&#39;))\r\nmodel.add(tf.keras.layers.Dense(units = 2560, activation = &#39;relu&#39;))\r\nmodel.add(tf.keras.layers.Dense(units = 2560, activation = &#39;relu&#39;))\r\nmodel.add(tf.keras.layers.Dense(units = 7840, activation = &#39;relu&#39;))\r\nmodel.add(tf.keras.layers.Dense(units = 784, activation = &#39;relu&#39;))\r\nmodel.compile(optimizer = &#39;adam&#39;, loss = &#39;categorical_crossentropy&#39;, metrics = [&#39;accuracy&#39;])\r\nmodel.fit(X, Y, epochs = 1000)\r\nimg = [[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Three.png&quot;)[:,:,0]]]  \r\nprint(np.shape(img))\r\nimg = np.reshape(img, (1, 784))\r\n#img = np.reshape(img, (18, 28, 28))\r\n#img = np.reshape(img, (18, 784))\r\n#im = np.reshape(im, (28, 28))\r\n#img.save(&#39;my.png&#39;)\r\n#print(model.predict([[img]]))\r\nprint(model.predict([[0.09]]))\r\n\r\n#img.show()\r\n#model.predict(cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Eight.png&quot;))\r\n```\r\nHere is what the output looks like.  \r\n      \r\n```\r\nEpoch 999/1000\r\n1/1 [==============================] - 0s 262ms/step - loss: 1399771.7500 - accuracy: 0.0000e+00\r\nEpoch 1000/1000\r\n1/1 [==============================] - 0s 256ms/step - loss: 1399771.7500 - accuracy: 0.0000e+00\r\n(1, 1, 28, 28)\r\n1/1 [==============================] - 0s 326ms/step\r\n[[199282.06  199288.88  199315.81  199300.83       0.    199299.22\r\n  199265.17  199350.97  199292.02  199304.56  199288.55  199294.83\r\n  199289.64  199299.23  199297.22       0.    199309.2   199306.39\r\n  199298.88  199364.98  199311.77  199319.39  199301.73  199300.73\r\n       0.    199309.02       0.         0.    199326.27  199319.03\r\n  199299.25  199312.         0.    199290.66  199312.22       0.\r\n       0.    199294.34  199302.16  199316.95  199396.31  199282.86\r\n       0.    199297.58  199278.92  199348.81  199289.9   199282.81\r\n       0.    199356.6        0.    199288.1   199292.84  199300.83\r\n  199301.39  199299.83       0.    199278.77  199318.38  199301.17\r\n  199326.14  199281.9        0.    199307.53       0.         0.\r\n  199331.94  199295.22  199295.66  199253.81       0.    199306.03\r\n  199320.08  199302.05  199301.53  199274.25       0.    199289.84\r\n  199304.66  199311.42  199294.4   199280.39       0.    199295.4\r\n  199288.52  199286.2        0.         0.    190980.31  195136.56\r\n  199328.12  199294.19  196189.23  189574.28  185125.86  178575.97\r\n  177170.53  177145.08       0.    177149.14  179951.61  190983.16\r\n       0.    199294.06  199298.94  199303.94  199271.25  199295.3\r\n  199308.17  199301.11  199301.34  199317.2   199316.45  199291.19\r\n  199312.8   189280.36       0.    152979.77  153675.66  159425.44\r\n  147432.53  143942.23       0.         0.    127356.23  125194.97\r\n  128731.125 143976.19  164658.25       0.    185449.77       0.\r\n  191019.52  195172.84  199345.67  199319.1   199328.34  199310.11\r\n  199326.72  199298.78  199268.34  199284.75  199248.98  188257.53\r\n  154988.52  110339.97  108355.984 110099.92  132865.7   123508.63\r\n       0.     87205.01   96845.234  91384.75  107316.375      0.\r\n       0.    154964.05  130471.39  134176.8   161948.17  166444.45\r\n  174034.58  170300.36  181345.98  195137.61  199316.45  199283.16\r\n  199313.52  199293.86  199283.97  188174.39       0.     87873.31\r\n   89591.49   95854.234 119326.17  101727.664 101038.61   93777.21\r\n       0.         0.    110745.26  119310.08  105236.75       0.\r\n  102418.36       0.    151198.75       0.    167122.44  166133.92\r\n  166776.1   184403.25       0.         0.    199305.39  199359.05\r\n       0.    178494.16       0.         0.     75068.34       0.\r\n       0.    110044.23       0.    106530.07   89276.71       0.\r\n  107541.33  127003.96  107611.13   77874.125  80225.92   80943.51\r\n  138736.69       0.    166142.69  166099.33  166120.39  177534.36\r\n  199300.33  199299.16  199271.84  199319.77  189268.98  177449.89\r\n       0.    111370.75   58839.445  83024.27  104164.52  129708.21\r\n       0.         0.    101348.93       0.    107920.38       0.\r\n       0.         0.     77496.53       0.    136696.2   184012.34\r\n       0.    166099.38       0.         0.    199322.16  199275.78\r\n  199289.88       0.         0.         0.         0.    121811.7\r\n   72026.87       0.         0.         0.    135331.5        0.\r\n       0.    118669.38  121786.58       0.         0.     85833.74\r\n   75445.95   99653.39       0.    166042.48       0.         0.\r\n       0.    177132.1   199294.84  199243.56       0.    189256.23\r\n  188233.28  188241.77  132855.89       0.     95098.125 101292.125\r\n  121157.65       0.         0.    113823.55  111694.23  111779.91\r\n       0.    141794.56       0.    122496.66   93049.22   99661.66\r\n  123181.44  145282.7   158796.56  155006.27       0.    177518.39\r\n  199331.9   199326.8   196170.06       0.         0.    188281.98\r\n  137700.4   132845.42  111051.555 130080.83  128365.89  143903.88\r\n  123481.02  101396.83  117664.79  112747.21  128726.805 118659.72\r\n       0.         0.     94017.59       0.    111106.71  128703.734\r\n       0.         0.    159493.67  177484.92  199297.69  199319.84\r\n  189261.69  188233.02  188230.73  188207.28  146640.47       0.\r\n  102352.13       0.         0.         0.         0.         0.\r\n  122128.44       0.         0.    126608.17  134312.72       0.\r\n   88990.49       0.         0.    115554.06  143876.56  157792.31\r\n  166095.27       0.    199305.6   199321.42  188231.62  188229.97\r\n  185115.3   179594.12  133575.97  116597.43   91000.64  117601.586\r\n       0.    120066.92  102458.055 111036.39  118728.99  124910.44\r\n  122199.02  107257.555 117640.99   96140.84       0.     88560.375\r\n       0.    121800.93  154977.12  166406.3   172991.95  188579.89\r\n  195167.72  199291.38       0.    185075.92       0.    174015.48\r\n       0.    112057.375      0.         0.         0.         0.\r\n       0.     92730.22  106510.62       0.    119710.516      0.\r\n  122145.17  121087.07       0.    106523.766      0.    116679.51\r\n  155370.14  166059.9        0.    184054.98       0.         0.\r\n  194086.02  178170.9   177151.56  163949.38       0.         0.\r\n   79940.23  106829.766      0.    108942.445      0.     94069.695\r\n   97273.63       0.    110720.35  110074.805      0.         0.\r\n  101049.61       0.         0.    136707.17  155359.36       0.\r\n  177152.95  177485.73  192764.16  199298.95  199330.53  177155.78\r\n       0.    156036.77  134560.81       0.     83391.04       0.\r\n       0.    101715.32       0.         0.     89650.375 111056.54\r\n  114484.59  119046.85  121110.24  131135.8   102719.766 106893.805\r\n  130792.61       0.         0.    161915.95  188256.89  188248.83\r\n  199295.78  199316.97  199290.12  177846.8        0.    155011.12\r\n  133207.88  132873.95  106923.89  121442.3        0.         0.\r\n  127696.24       0.     98617.73  107628.79       0.    111076.36\r\n  122151.36  118343.68       0.         0.    119007.69       0.\r\n  151541.23  159865.77  188194.73  188205.42       0.    199295.36\r\n  199276.1   188914.53  177163.3   155026.53  132892.56       0.\r\n       0.    110665.51       0.         0.    121798.516 115246.49\r\n       0.    110733.61  116568.36       0.    119391.94  111033.2\r\n   95464.4    94086.45  116641.3   143891.66  144282.92  170555.77\r\n  188201.12  192743.14  199276.38  199279.12  199274.8   199303.8\r\n  188551.16  166768.1   143942.05  126618.04   86489.24       0.\r\n       0.    106557.4   115288.    116584.61       0.         0.\r\n  139817.75  144969.05       0.    121783.12   99998.91  103836.14\r\n  127651.69       0.    157489.31  181687.67  192741.05  199293.9\r\n  199278.8   199320.23  199324.1   199279.97       0.         0.\r\n  122143.69   98675.27   86790.7   102431.4   100333.49   93424.05\r\n       0.    114570.055 143202.4        0.    138754.5   144661.77\r\n       0.    134228.92       0.         0.    143910.22       0.\r\n  177145.28  192744.34  199300.58       0.    199296.11  199309.8\r\n  199280.16  199333.6        0.         0.         0.    122487.71\r\n  104800.29  105194.4        0.         0.    132829.69  144980.12\r\n  172970.45       0.    177155.58  174024.9   155692.92  143930.77\r\n  143223.83  147744.58       0.    181694.44  192733.56       0.\r\n       0.    199292.4        0.    199284.64       0.    199308.11\r\n  188904.86  177151.52       0.    155311.94  149808.52  139069.5\r\n       0.    143996.98       0.         0.    155029.1   149805.77\r\n       0.    157768.78       0.    170618.42  166424.67  177121.16\r\n  177169.7   192691.36  199284.88  199332.94  199325.03  199283.77\r\n  199290.02       0.    199297.08  199276.08  199280.7   199260.83\r\n  183638.55       0.    159523.86  165439.27  160878.25  159532.8\r\n       0.    166127.88  166065.23  166092.         0.    155047.64\r\n  155034.47  157821.42       0.    181733.8   192740.12  199314.39\r\n  199290.89  199343.94  199293.12       0.    199230.34  199275.95\r\n  199292.58  199295.38  199331.81  199263.84  199310.98  199292.9\r\n  199314.97  199310.86  188835.44  177176.9   171974.3   166116.88\r\n       0.    166077.66       0.         0.    166060.02  170609.36\r\n  177801.81  199309.22  199271.34  199296.33  199299.78       0.\r\n  199285.78  199280.83  199302.1        0.    199310.25  199299.77\r\n  199330.94  199344.62       0.    199295.17  199275.64  199313.84\r\n  199253.67  199300.25  199304.55  199288.64  199301.17  188884.1\r\n  177121.34  177153.11       0.    177132.86       0.    199283.19\r\n  199256.03       0.    199317.48  199289.95  199270.36  199283.28\r\n  199297.53       0.         0.    199296.03  199302.28  199358.78\r\n  199319.67  199310.56  199309.67  199271.89  199297.53  199305.5\r\n  199301.12       0.    199309.16  199363.48  199308.92  199300.34\r\n  199272.8        0.    199269.58  199265.88  199278.77  199324.14\r\n       0.    199297.64  199331.98  199325.75       0.    199324.12\r\n  199294.81  199289.08  199270.95  199322.05  199295.14       0.\r\n  199300.19  199258.08  199314.14  199310.08  199315.92       0.\r\n  199299.31  199298.56  199375.52  199290.88  199288.38  199311.53\r\n  199289.39  199322.83  199302.05  199373.31  199284.28  199314.86\r\n  199288.2   199317.53  199305.3   199313.55 ]]\r\n```\r\nNotice how the accuracy is really low.  The network is also outputting numbers waaaaaay above 255. Even when I switch the labels and use a sigmoid, it deosnt&#39; work.   \r\n\r\n\r\n\r\n\r\nPlease note that I have tried playing around with the loss and optimizer.  These combinations were the ones that I could get the most out of, not that they actually produced something worthwhile.  ","title":"Is there a way to reverse the MNIST?","body":"<p>I have recently been looking into AI and the MNIST detest.  I have decided to create 18 different images in microsoft paint.  These images are 28x28, and are named accordingly into the code below.  I wanted to see if I could get my network to overfit on a certain set of images in hopes that I can prompt it with the label and have it return the image.</p>\n<p>I would give it [[7]], and have it return a 28x28 array of numbers from 1 - 255 denoting the color of the pixel.  The only problem is that the network basically doesn't learn.  I have also tried putting it in the normal way.  I have given it the picture, just like the mnist, and had it return the data of the label.  It couldn't even to this.  I have the data scaled from 0 - 1 in this network.  If anyone can give any imput, that would be great.</p>\n<pre><code>import tensorflow as tf\nimport numpy as np\nimport cv2\nimport matplotlib as plt\nimport os\nfrom PIL import Image \n\nX = np.array([[0.01],[0.02],[0.03],[0.04],[0.05],[0.06],[0.07],[0.08],[0.9],[0.10],[0.11],[0.12],[0.13],[0.14],[0.23],[0.57],[0.64],[0.01]])\n#X = np.reshape(X, (-1, 1+18 - 1))\nprint(np.shape(X))\nY = np.array([[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/one.png&quot;)[:,:,0]], [cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Two.png&quot;)[:,:,0]],\n[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Three.png&quot;)[:,:,0]],[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Four.png&quot;)[:,:,0]],\n[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Five.png&quot;)[:,:,0]],[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Six.png&quot;)[:,:,0]],\n[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Seven.png&quot;)[:,:,0]],[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Eight.png&quot;)[:,:,0]],\n[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Nine.png&quot;)[:,:,0]],[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Ten.png&quot;)[:,:,0]],\n[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Eleven.png&quot;)[:,:,0]],[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Twelve.png&quot;)[:,:,0]],\n[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Thirteen.png&quot;)[:,:,0]],[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Fourteen.png&quot;)[:,:,0]],\n[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/23.png&quot;)[:,:,0]],[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/57.png&quot;)[:,:,0]],\n[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/64.png&quot;)[:,:,0]],\n[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/one.png&quot;)[:,:,0]]])\nY = np.reshape(Y, (18, 28, 28))\nY = np.reshape(Y, (18, 784))\nprint(Y)\nprint(np.shape(Y))\n#Y = np.invert(np.array([Y]))\n# = np.reshape(Y, (18, 784))\nprint(Y[1])\nImage.fromarray(np.reshape(Y[1], (28, 28))).show()\nmodel = tf.keras.Sequential()\n#model.add(tf.keras.layers.Flatten(units = (28, 28)))\nmodel.add(tf.keras.layers.Dense(units = 1))\nmodel.add(tf.keras.layers.Dense(units = 1280, activation = 'sigmoid'))\nmodel.add(tf.keras.layers.Dense(units = 2560, activation = 'relu'))\nmodel.add(tf.keras.layers.Dense(units = 2560, activation = 'relu'))\nmodel.add(tf.keras.layers.Dense(units = 2560, activation = 'relu'))\nmodel.add(tf.keras.layers.Dense(units = 2560, activation = 'relu'))\nmodel.add(tf.keras.layers.Dense(units = 7840, activation = 'relu'))\nmodel.add(tf.keras.layers.Dense(units = 784, activation = 'relu'))\nmodel.compile(optimizer = 'adam', loss = 'categorical_crossentropy', metrics = ['accuracy'])\nmodel.fit(X, Y, epochs = 1000)\nimg = [[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Three.png&quot;)[:,:,0]]]  \nprint(np.shape(img))\nimg = np.reshape(img, (1, 784))\n#img = np.reshape(img, (18, 28, 28))\n#img = np.reshape(img, (18, 784))\n#im = np.reshape(im, (28, 28))\n#img.save('my.png')\n#print(model.predict([[img]]))\nprint(model.predict([[0.09]]))\n\n#img.show()\n#model.predict(cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Eight.png&quot;))\n</code></pre>\n<p>Here is what the output looks like.</p>\n<pre><code>Epoch 999/1000\n1/1 [==============================] - 0s 262ms/step - loss: 1399771.7500 - accuracy: 0.0000e+00\nEpoch 1000/1000\n1/1 [==============================] - 0s 256ms/step - loss: 1399771.7500 - accuracy: 0.0000e+00\n(1, 1, 28, 28)\n1/1 [==============================] - 0s 326ms/step\n[[199282.06  199288.88  199315.81  199300.83       0.    199299.22\n  199265.17  199350.97  199292.02  199304.56  199288.55  199294.83\n  199289.64  199299.23  199297.22       0.    199309.2   199306.39\n  199298.88  199364.98  199311.77  199319.39  199301.73  199300.73\n       0.    199309.02       0.         0.    199326.27  199319.03\n  199299.25  199312.         0.    199290.66  199312.22       0.\n       0.    199294.34  199302.16  199316.95  199396.31  199282.86\n       0.    199297.58  199278.92  199348.81  199289.9   199282.81\n       0.    199356.6        0.    199288.1   199292.84  199300.83\n  199301.39  199299.83       0.    199278.77  199318.38  199301.17\n  199326.14  199281.9        0.    199307.53       0.         0.\n  199331.94  199295.22  199295.66  199253.81       0.    199306.03\n  199320.08  199302.05  199301.53  199274.25       0.    199289.84\n  199304.66  199311.42  199294.4   199280.39       0.    199295.4\n  199288.52  199286.2        0.         0.    190980.31  195136.56\n  199328.12  199294.19  196189.23  189574.28  185125.86  178575.97\n  177170.53  177145.08       0.    177149.14  179951.61  190983.16\n       0.    199294.06  199298.94  199303.94  199271.25  199295.3\n  199308.17  199301.11  199301.34  199317.2   199316.45  199291.19\n  199312.8   189280.36       0.    152979.77  153675.66  159425.44\n  147432.53  143942.23       0.         0.    127356.23  125194.97\n  128731.125 143976.19  164658.25       0.    185449.77       0.\n  191019.52  195172.84  199345.67  199319.1   199328.34  199310.11\n  199326.72  199298.78  199268.34  199284.75  199248.98  188257.53\n  154988.52  110339.97  108355.984 110099.92  132865.7   123508.63\n       0.     87205.01   96845.234  91384.75  107316.375      0.\n       0.    154964.05  130471.39  134176.8   161948.17  166444.45\n  174034.58  170300.36  181345.98  195137.61  199316.45  199283.16\n  199313.52  199293.86  199283.97  188174.39       0.     87873.31\n   89591.49   95854.234 119326.17  101727.664 101038.61   93777.21\n       0.         0.    110745.26  119310.08  105236.75       0.\n  102418.36       0.    151198.75       0.    167122.44  166133.92\n  166776.1   184403.25       0.         0.    199305.39  199359.05\n       0.    178494.16       0.         0.     75068.34       0.\n       0.    110044.23       0.    106530.07   89276.71       0.\n  107541.33  127003.96  107611.13   77874.125  80225.92   80943.51\n  138736.69       0.    166142.69  166099.33  166120.39  177534.36\n  199300.33  199299.16  199271.84  199319.77  189268.98  177449.89\n       0.    111370.75   58839.445  83024.27  104164.52  129708.21\n       0.         0.    101348.93       0.    107920.38       0.\n       0.         0.     77496.53       0.    136696.2   184012.34\n       0.    166099.38       0.         0.    199322.16  199275.78\n  199289.88       0.         0.         0.         0.    121811.7\n   72026.87       0.         0.         0.    135331.5        0.\n       0.    118669.38  121786.58       0.         0.     85833.74\n   75445.95   99653.39       0.    166042.48       0.         0.\n       0.    177132.1   199294.84  199243.56       0.    189256.23\n  188233.28  188241.77  132855.89       0.     95098.125 101292.125\n  121157.65       0.         0.    113823.55  111694.23  111779.91\n       0.    141794.56       0.    122496.66   93049.22   99661.66\n  123181.44  145282.7   158796.56  155006.27       0.    177518.39\n  199331.9   199326.8   196170.06       0.         0.    188281.98\n  137700.4   132845.42  111051.555 130080.83  128365.89  143903.88\n  123481.02  101396.83  117664.79  112747.21  128726.805 118659.72\n       0.         0.     94017.59       0.    111106.71  128703.734\n       0.         0.    159493.67  177484.92  199297.69  199319.84\n  189261.69  188233.02  188230.73  188207.28  146640.47       0.\n  102352.13       0.         0.         0.         0.         0.\n  122128.44       0.         0.    126608.17  134312.72       0.\n   88990.49       0.         0.    115554.06  143876.56  157792.31\n  166095.27       0.    199305.6   199321.42  188231.62  188229.97\n  185115.3   179594.12  133575.97  116597.43   91000.64  117601.586\n       0.    120066.92  102458.055 111036.39  118728.99  124910.44\n  122199.02  107257.555 117640.99   96140.84       0.     88560.375\n       0.    121800.93  154977.12  166406.3   172991.95  188579.89\n  195167.72  199291.38       0.    185075.92       0.    174015.48\n       0.    112057.375      0.         0.         0.         0.\n       0.     92730.22  106510.62       0.    119710.516      0.\n  122145.17  121087.07       0.    106523.766      0.    116679.51\n  155370.14  166059.9        0.    184054.98       0.         0.\n  194086.02  178170.9   177151.56  163949.38       0.         0.\n   79940.23  106829.766      0.    108942.445      0.     94069.695\n   97273.63       0.    110720.35  110074.805      0.         0.\n  101049.61       0.         0.    136707.17  155359.36       0.\n  177152.95  177485.73  192764.16  199298.95  199330.53  177155.78\n       0.    156036.77  134560.81       0.     83391.04       0.\n       0.    101715.32       0.         0.     89650.375 111056.54\n  114484.59  119046.85  121110.24  131135.8   102719.766 106893.805\n  130792.61       0.         0.    161915.95  188256.89  188248.83\n  199295.78  199316.97  199290.12  177846.8        0.    155011.12\n  133207.88  132873.95  106923.89  121442.3        0.         0.\n  127696.24       0.     98617.73  107628.79       0.    111076.36\n  122151.36  118343.68       0.         0.    119007.69       0.\n  151541.23  159865.77  188194.73  188205.42       0.    199295.36\n  199276.1   188914.53  177163.3   155026.53  132892.56       0.\n       0.    110665.51       0.         0.    121798.516 115246.49\n       0.    110733.61  116568.36       0.    119391.94  111033.2\n   95464.4    94086.45  116641.3   143891.66  144282.92  170555.77\n  188201.12  192743.14  199276.38  199279.12  199274.8   199303.8\n  188551.16  166768.1   143942.05  126618.04   86489.24       0.\n       0.    106557.4   115288.    116584.61       0.         0.\n  139817.75  144969.05       0.    121783.12   99998.91  103836.14\n  127651.69       0.    157489.31  181687.67  192741.05  199293.9\n  199278.8   199320.23  199324.1   199279.97       0.         0.\n  122143.69   98675.27   86790.7   102431.4   100333.49   93424.05\n       0.    114570.055 143202.4        0.    138754.5   144661.77\n       0.    134228.92       0.         0.    143910.22       0.\n  177145.28  192744.34  199300.58       0.    199296.11  199309.8\n  199280.16  199333.6        0.         0.         0.    122487.71\n  104800.29  105194.4        0.         0.    132829.69  144980.12\n  172970.45       0.    177155.58  174024.9   155692.92  143930.77\n  143223.83  147744.58       0.    181694.44  192733.56       0.\n       0.    199292.4        0.    199284.64       0.    199308.11\n  188904.86  177151.52       0.    155311.94  149808.52  139069.5\n       0.    143996.98       0.         0.    155029.1   149805.77\n       0.    157768.78       0.    170618.42  166424.67  177121.16\n  177169.7   192691.36  199284.88  199332.94  199325.03  199283.77\n  199290.02       0.    199297.08  199276.08  199280.7   199260.83\n  183638.55       0.    159523.86  165439.27  160878.25  159532.8\n       0.    166127.88  166065.23  166092.         0.    155047.64\n  155034.47  157821.42       0.    181733.8   192740.12  199314.39\n  199290.89  199343.94  199293.12       0.    199230.34  199275.95\n  199292.58  199295.38  199331.81  199263.84  199310.98  199292.9\n  199314.97  199310.86  188835.44  177176.9   171974.3   166116.88\n       0.    166077.66       0.         0.    166060.02  170609.36\n  177801.81  199309.22  199271.34  199296.33  199299.78       0.\n  199285.78  199280.83  199302.1        0.    199310.25  199299.77\n  199330.94  199344.62       0.    199295.17  199275.64  199313.84\n  199253.67  199300.25  199304.55  199288.64  199301.17  188884.1\n  177121.34  177153.11       0.    177132.86       0.    199283.19\n  199256.03       0.    199317.48  199289.95  199270.36  199283.28\n  199297.53       0.         0.    199296.03  199302.28  199358.78\n  199319.67  199310.56  199309.67  199271.89  199297.53  199305.5\n  199301.12       0.    199309.16  199363.48  199308.92  199300.34\n  199272.8        0.    199269.58  199265.88  199278.77  199324.14\n       0.    199297.64  199331.98  199325.75       0.    199324.12\n  199294.81  199289.08  199270.95  199322.05  199295.14       0.\n  199300.19  199258.08  199314.14  199310.08  199315.92       0.\n  199299.31  199298.56  199375.52  199290.88  199288.38  199311.53\n  199289.39  199322.83  199302.05  199373.31  199284.28  199314.86\n  199288.2   199317.53  199305.3   199313.55 ]]\n</code></pre>\n<p>Notice how the accuracy is really low.  The network is also outputting numbers waaaaaay above 255. Even when I switch the labels and use a sigmoid, it deosnt' work.</p>\n<p>Please note that I have tried playing around with the loss and optimizer.  These combinations were the ones that I could get the most out of, not that they actually produced something worthwhile.</p>\n"},{"tags":["java","maven","java-module","jlink"],"comments":[{"owner":{"account_id":6401714,"reputation":5744,"user_id":4964136,"accept_rate":100,"display_name":"Vishwa Ratna"},"score":0,"creation_date":1571132118,"post_id":58391061,"comment_id":103129518,"body_markdown":"try this `getClass().getPackage().getImplementationVersion()`","body":"try this <code>getClass().getPackage().getImplementationVersion()</code>"},{"owner":{"account_id":6401714,"reputation":5744,"user_id":4964136,"accept_rate":100,"display_name":"Vishwa Ratna"},"score":0,"creation_date":1571132250,"post_id":58391061,"comment_id":103129577,"body_markdown":"have you looked into this thread: https://stackoverflow.com/questions/3697449/retrieve-version-from-maven-pom-xml-in-code/41791885","body":"have you looked into this thread: <a href=\"https://stackoverflow.com/questions/3697449/retrieve-version-from-maven-pom-xml-in-code/41791885\" title=\"retrieve version from maven pom xml in code\">stackoverflow.com/questions/3697449/&hellip;</a>"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1674513853,"post_id":58391061,"comment_id":132726540,"body_markdown":"You could add the version when packaging the artifact with `jar --module-version=VERSION`. Not sure how to specify that with maven through.","body":"You could add the version when packaging the artifact with <code>jar --module-version=VERSION</code>. Not sure how to specify that with maven through."}],"answers":[{"tags":[],"owner":{"account_id":2190659,"reputation":2306,"user_id":1937795,"accept_rate":75,"display_name":"Itchy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597261299,"creation_date":1597261299,"answer_id":63383671,"question_id":58391061,"body_markdown":"In the end I did this using the filtering function of the [Maven Resources Plugin][1].\r\n\r\nFirst, enable filtering in the pom.xml:\r\n\r\n    &lt;build&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                &lt;filtering&gt;true&lt;/filtering&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n    &lt;/build&gt;\r\n\r\nThen add a `src/main/resources/my-version.properties` file containig:\r\n\r\n    my.version=${project.version}\r\n\r\nSo you can use the following code in Java:\r\n\r\n    Properties myProperties = new Properties();\r\n    try {\r\n        myProperties.load(getClass().getResourceAsStream(&quot;/my-version.properties&quot;));\r\n    } catch (IOException e) {\r\n        throw new IllegalStateException(e);\r\n    }\r\n    String theVersion = Objects.requireNonNull((String) myProperties.get(&quot;my.version&quot;));\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-resources-plugin/examples/filter.html","title":"Get (maven) artifact version at runtime of Java 9+ modular application","body":"<p>In the end I did this using the filtering function of the <a href=\"https://maven.apache.org/plugins/maven-resources-plugin/examples/filter.html\" rel=\"nofollow noreferrer\">Maven Resources Plugin</a>.</p>\n<p>First, enable filtering in the pom.xml:</p>\n<pre><code>&lt;build&gt;\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src/main/resources&lt;/directory&gt;\n            &lt;filtering&gt;true&lt;/filtering&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Then add a <code>src/main/resources/my-version.properties</code> file containig:</p>\n<pre><code>my.version=${project.version}\n</code></pre>\n<p>So you can use the following code in Java:</p>\n<pre><code>Properties myProperties = new Properties();\ntry {\n    myProperties.load(getClass().getResourceAsStream(&quot;/my-version.properties&quot;));\n} catch (IOException e) {\n    throw new IllegalStateException(e);\n}\nString theVersion = Objects.requireNonNull((String) myProperties.get(&quot;my.version&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18165126,"reputation":278,"user_id":13215866,"display_name":"Sebastian Westemeyer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674510900,"creation_date":1674510900,"answer_id":75215443,"question_id":58391061,"body_markdown":"I had a similar problem in my last job. I needed to get the version for modules/jars that are not a direct dependency of the application, as well as the module&#39;s version itself. The classpath is assembled from multiple modules when the application starts, the main application module has no knowledge of how many jars are added later.\r\n\r\nThat&#39;s why I came up with a different solution, which may be a little more elegant than having to read XML or properties from jar files.\r\n\r\n# The idea\r\n\r\n1. use a Java service loader approach to be able to add as many components/artifacts later, which can contribute their own versions at runtime. Create a very lightweight library with just a few lines of code to read, find, filter and sort all of the artifact versions on the classpath.\r\n2. Create a maven source code generator plugin that generates the service implementation for each of the modules at compile time, package a very simple service in each of the jars.\r\n\r\n# The solution\r\nPart one of the solution is the `artifact-version-service` library, which can be found on [github](https://github.com/swesteme/artifact-version-service) and [MavenCentral](https://search.maven.org/artifact/de.westemeyer/artifact-version-service) now. It covers the service definition and a few ways to get the artifact versions at runtime.\r\n\r\nPart two is the `artifact-version-maven-plugin`, which can also be found on [github](https://github.com/swesteme/artifact-version-maven-plugin) and [MavenCentral](https://search.maven.org/artifact/de.westemeyer/artifact-version-maven-plugin). It is used to have a hassle-free generator implementing the service definition for each of the artifacts.\r\n\r\n# Examples\r\n### Fetching all modules with coordinates\r\nNo more reading jar manifests or property files, just a simple method call:\r\n\r\n```java\r\n// iterate list of artifact dependencies\r\nfor (Artifact artifact : ArtifactVersionCollector.collectArtifacts()) {\r\n    // print simple artifact string example\r\n    System.out.println(&quot;artifact = &quot; + artifact);\r\n}\r\n```\r\nA sorted set of artifacts is returned. To modify the sorting order, provide a custom comparator:\r\n```java\r\nnew ArtifactVersionCollector(Comparator.comparing(Artifact::getVersion)).collect();\r\n```\r\nThis way the list of artifacts is returned sorted by version numbers.\r\n\r\n### Find a specific artifact\r\n```java\r\nArtifactVersionCollector.findArtifact(&quot;de.westemeyer&quot;, &quot;artifact-version-service&quot;);\r\n```\r\nFetches the version details for a specific artifact.\r\n\r\n### Find artifacts with matching groupId(s)\r\nFind all artifacts with groupId `de.westemeyer` (exact match):\r\n```java\r\nArtifactVersionCollector.findArtifactsByGroupId(&quot;de.westemeyer&quot;, true);\r\n```\r\n\r\nFind all artifacts where groupId *starts with* `de.westemeyer`:\r\n```java\r\nArtifactVersionCollector.findArtifactsByGroupId(&quot;de.westemeyer&quot;, false);\r\n```\r\n\r\nSort result by version number:\r\n```java\r\nnew ArtifactVersionCollector(Comparator.comparing(Artifact::getVersion)).artifactsByGroupId(&quot;de.&quot;, false);\r\n```\r\n\r\n### Implement custom actions on list of artifacts\r\nBy supplying a lambda, the very first example could be implemented like this:\r\n```java\r\nArtifactVersionCollector.iterateArtifacts(a -&gt; {\r\n    System.out.println(a);\r\n    return false;\r\n});\r\n```\r\n\r\n# Installation\r\nAdd these two tags to all `pom.xml` files, or maybe to a company master pom somewhere:\r\n```xml\r\n&lt;build&gt;\r\n  &lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;de.westemeyer&lt;/groupId&gt;\r\n      &lt;artifactId&gt;artifact-version-maven-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;1.1.1&lt;/version&gt;\r\n      &lt;executions&gt;\r\n        &lt;execution&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;generate-service&lt;/goal&gt;\r\n          &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n  &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n\r\n&lt;dependencies&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;de.westemeyer&lt;/groupId&gt;\r\n    &lt;artifactId&gt;artifact-version-service&lt;/artifactId&gt;\r\n    &lt;version&gt;1.1.1&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\n# Feedback\r\nIt would be great if you could give the solution a try. Getting feedback about whether you think the solution fits your needs would be even better. So please don&#39;t hesitate to add a new issue on any of the github projects if you have any suggestions, feature requests, problems, whatsoever.\r\n\r\n# Licence\r\nAll of the source code is open source, free to use even for commercial products (MIT licence).","title":"Get (maven) artifact version at runtime of Java 9+ modular application","body":"<p>I had a similar problem in my last job. I needed to get the version for modules/jars that are not a direct dependency of the application, as well as the module's version itself. The classpath is assembled from multiple modules when the application starts, the main application module has no knowledge of how many jars are added later.</p>\n<p>That's why I came up with a different solution, which may be a little more elegant than having to read XML or properties from jar files.</p>\n<h1>The idea</h1>\n<ol>\n<li>use a Java service loader approach to be able to add as many components/artifacts later, which can contribute their own versions at runtime. Create a very lightweight library with just a few lines of code to read, find, filter and sort all of the artifact versions on the classpath.</li>\n<li>Create a maven source code generator plugin that generates the service implementation for each of the modules at compile time, package a very simple service in each of the jars.</li>\n</ol>\n<h1>The solution</h1>\n<p>Part one of the solution is the <code>artifact-version-service</code> library, which can be found on <a href=\"https://github.com/swesteme/artifact-version-service\" rel=\"nofollow noreferrer\">github</a> and <a href=\"https://search.maven.org/artifact/de.westemeyer/artifact-version-service\" rel=\"nofollow noreferrer\">MavenCentral</a> now. It covers the service definition and a few ways to get the artifact versions at runtime.</p>\n<p>Part two is the <code>artifact-version-maven-plugin</code>, which can also be found on <a href=\"https://github.com/swesteme/artifact-version-maven-plugin\" rel=\"nofollow noreferrer\">github</a> and <a href=\"https://search.maven.org/artifact/de.westemeyer/artifact-version-maven-plugin\" rel=\"nofollow noreferrer\">MavenCentral</a>. It is used to have a hassle-free generator implementing the service definition for each of the artifacts.</p>\n<h1>Examples</h1>\n<h3>Fetching all modules with coordinates</h3>\n<p>No more reading jar manifests or property files, just a simple method call:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// iterate list of artifact dependencies\nfor (Artifact artifact : ArtifactVersionCollector.collectArtifacts()) {\n    // print simple artifact string example\n    System.out.println(&quot;artifact = &quot; + artifact);\n}\n</code></pre>\n<p>A sorted set of artifacts is returned. To modify the sorting order, provide a custom comparator:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new ArtifactVersionCollector(Comparator.comparing(Artifact::getVersion)).collect();\n</code></pre>\n<p>This way the list of artifacts is returned sorted by version numbers.</p>\n<h3>Find a specific artifact</h3>\n<pre class=\"lang-java prettyprint-override\"><code>ArtifactVersionCollector.findArtifact(&quot;de.westemeyer&quot;, &quot;artifact-version-service&quot;);\n</code></pre>\n<p>Fetches the version details for a specific artifact.</p>\n<h3>Find artifacts with matching groupId(s)</h3>\n<p>Find all artifacts with groupId <code>de.westemeyer</code> (exact match):</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArtifactVersionCollector.findArtifactsByGroupId(&quot;de.westemeyer&quot;, true);\n</code></pre>\n<p>Find all artifacts where groupId <em>starts with</em> <code>de.westemeyer</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArtifactVersionCollector.findArtifactsByGroupId(&quot;de.westemeyer&quot;, false);\n</code></pre>\n<p>Sort result by version number:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new ArtifactVersionCollector(Comparator.comparing(Artifact::getVersion)).artifactsByGroupId(&quot;de.&quot;, false);\n</code></pre>\n<h3>Implement custom actions on list of artifacts</h3>\n<p>By supplying a lambda, the very first example could be implemented like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArtifactVersionCollector.iterateArtifacts(a -&gt; {\n    System.out.println(a);\n    return false;\n});\n</code></pre>\n<h1>Installation</h1>\n<p>Add these two tags to all <code>pom.xml</code> files, or maybe to a company master pom somewhere:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;de.westemeyer&lt;/groupId&gt;\n      &lt;artifactId&gt;artifact-version-maven-plugin&lt;/artifactId&gt;\n      &lt;version&gt;1.1.1&lt;/version&gt;\n      &lt;executions&gt;\n        &lt;execution&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;generate-service&lt;/goal&gt;\n          &lt;/goals&gt;\n        &lt;/execution&gt;\n      &lt;/executions&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;de.westemeyer&lt;/groupId&gt;\n    &lt;artifactId&gt;artifact-version-service&lt;/artifactId&gt;\n    &lt;version&gt;1.1.1&lt;/version&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<h1>Feedback</h1>\n<p>It would be great if you could give the solution a try. Getting feedback about whether you think the solution fits your needs would be even better. So please don't hesitate to add a new issue on any of the github projects if you have any suggestions, feature requests, problems, whatsoever.</p>\n<h1>Licence</h1>\n<p>All of the source code is open source, free to use even for commercial products (MIT licence).</p>\n"}],"owner":{"account_id":2190659,"reputation":2306,"user_id":1937795,"accept_rate":75,"display_name":"Itchy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":737,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1674510900,"creation_date":1571130501,"question_id":58391061,"body_markdown":"I have a Java 11 application which I develop using Maven and in the pom.xml I have a version declared.\r\n```xml\r\n&lt;groupId&gt;my.group.id&lt;/groupId&gt;\r\n&lt;artifactId&gt;artifact&lt;/artifactId&gt;\r\n&lt;version&gt;0.1.2.3&lt;/version&gt;\r\n```\r\nI want to get this version at runtime e.g. using `getClass().getPackage().getImplementationVersion()` as it&#39;s described in [this question][1]. This works as long as I don&#39;t package my application as a modular runtime image using Jlink. Then I only get `null` returned from above call.\r\n\r\nI package my application using:\r\n```shell\r\njlink --output target/artifact-image --module-path target/dependencies --launcher MyApp=my.module.name/my.main.Class --add-modules my.module.name\r\n```\r\nJlink has actually a parameter `--version` but this returns the Jlink version instead setting it for the generated artifact.\r\n\r\n**So, how can I get the version (of my Maven project) at runtime?**\r\n\r\n - How to define it in the modular application?\r\n - How to get it into the modular application?\r\n - How to read it in the modular application?\r\n\r\nI know I could define it in a resource file and simply read it from there, however I prefer to have it only in the `pom.xml` (= to have a single source of truth).\r\n\r\n  [1]: https://stackoverflow.com/questions/2712970/get-maven-artifact-version-at-runtime","title":"Get (maven) artifact version at runtime of Java 9+ modular application","body":"<p>I have a Java 11 application which I develop using Maven and in the pom.xml I have a version declared.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;groupId&gt;my.group.id&lt;/groupId&gt;\n&lt;artifactId&gt;artifact&lt;/artifactId&gt;\n&lt;version&gt;0.1.2.3&lt;/version&gt;\n</code></pre>\n\n<p>I want to get this version at runtime e.g. using <code>getClass().getPackage().getImplementationVersion()</code> as it's described in <a href=\"https://stackoverflow.com/questions/2712970/get-maven-artifact-version-at-runtime\">this question</a>. This works as long as I don't package my application as a modular runtime image using Jlink. Then I only get <code>null</code> returned from above call.</p>\n\n<p>I package my application using:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>jlink --output target/artifact-image --module-path target/dependencies --launcher MyApp=my.module.name/my.main.Class --add-modules my.module.name\n</code></pre>\n\n<p>Jlink has actually a parameter <code>--version</code> but this returns the Jlink version instead setting it for the generated artifact.</p>\n\n<p><strong>So, how can I get the version (of my Maven project) at runtime?</strong></p>\n\n<ul>\n<li>How to define it in the modular application?</li>\n<li>How to get it into the modular application?</li>\n<li>How to read it in the modular application?</li>\n</ul>\n\n<p>I know I could define it in a resource file and simply read it from there, however I prefer to have it only in the <code>pom.xml</code> (= to have a single source of truth).</p>\n"},{"tags":["java","boolean","boolean-logic","boolean-expression"],"comments":[{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":0,"creation_date":1674508336,"post_id":75215014,"comment_id":132725237,"body_markdown":"&quot;We initialize it with true and set the value to false if a tire is outside the valid range.&quot; this literally tells you what to do just create a boolean variable and set it to true and on each if you have if the tyrepressure is critical just change the variable to false and its done","body":"&quot;We initialize it with true and set the value to false if a tire is outside the valid range.&quot; this literally tells you what to do just create a boolean variable and set it to true and on each if you have if the tyrepressure is critical just change the variable to false and its done"},{"owner":{"account_id":27603978,"reputation":1,"user_id":21068573,"display_name":"Tomas Bernatonis"},"score":0,"creation_date":1674508611,"post_id":75215014,"comment_id":132725308,"body_markdown":"@Anon could you show me that in a code sample because I have done that and it still don&#39;t work, maybe the order where I placed my code is wrong.","body":"@Anon could you show me that in a code sample because I have done that and it still don&#39;t work, maybe the order where I placed my code is wrong."}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674509096,"creation_date":1674509096,"answer_id":75215208,"question_id":75215014,"body_markdown":"You can assign the expression inside the condition in the `if` statement - and then reuse that in the if, like so:\r\n\r\n``` lang-java\r\nboolean pressureOkRightFront = (rightFrontTyre &gt;= 35 &amp;&amp; rightFrontTyre &lt;= 45);\r\n\r\nif (pressureOkRightFront) {\r\n    System.out.println(&quot;right-front-tyre = &quot; + rightFrontTyre + &quot; psi, your tyrepressure is okay!&quot;);\r\n} else {\r\n    System.out.println(&quot;right-front-tyre = &quot; + rightFrontTyre\r\n            + &quot; psi, your tyrepressure is critical, it is out of the allowed range!&quot;);\r\n}\r\n\r\nboolean pressureOkLeftFront = (leftFrontTyre &gt;= 35 &amp;&amp; leftFrontTyre &lt;= 45);\r\n\r\n// continue with the code for the other three tyres - remember to use a new boolean variable for each.\r\n\r\n// then do this for the final check:\r\n\r\nif (!(pressureOkRightFront &amp;&amp; pressureOkLeftFront &amp;&amp; \r\n        pressureOkRightBack &amp;&amp; pressureOkLeftBack)) {\r\n    System.out.println(&quot;You have to check your tyrepressure!&quot;);\r\n}\r\n```\r\n\r\nPlease note that in your original code you checked the opposite conditions for the last output - if any of the pressures is out of range. I used boolean logic to get the same final result from the single prechecked results for the individual tyres:\r\n\r\nIf NOT all of the four pressures are OK, I print the warning. The NOT is the exclamation mark `!` in that condition, and the parentheses are important because otherwise the `!` would be evaluated only for the `pressureOkRightFront`.","title":"I have trouble with changing the process of that code in Java","body":"<p>You can assign the expression inside the condition in the <code>if</code> statement - and then reuse that in the if, like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean pressureOkRightFront = (rightFrontTyre &gt;= 35 &amp;&amp; rightFrontTyre &lt;= 45);\n\nif (pressureOkRightFront) {\n    System.out.println(&quot;right-front-tyre = &quot; + rightFrontTyre + &quot; psi, your tyrepressure is okay!&quot;);\n} else {\n    System.out.println(&quot;right-front-tyre = &quot; + rightFrontTyre\n            + &quot; psi, your tyrepressure is critical, it is out of the allowed range!&quot;);\n}\n\nboolean pressureOkLeftFront = (leftFrontTyre &gt;= 35 &amp;&amp; leftFrontTyre &lt;= 45);\n\n// continue with the code for the other three tyres - remember to use a new boolean variable for each.\n\n// then do this for the final check:\n\nif (!(pressureOkRightFront &amp;&amp; pressureOkLeftFront &amp;&amp; \n        pressureOkRightBack &amp;&amp; pressureOkLeftBack)) {\n    System.out.println(&quot;You have to check your tyrepressure!&quot;);\n}\n</code></pre>\n<p>Please note that in your original code you checked the opposite conditions for the last output - if any of the pressures is out of range. I used boolean logic to get the same final result from the single prechecked results for the individual tyres:</p>\n<p>If NOT all of the four pressures are OK, I print the warning. The NOT is the exclamation mark <code>!</code> in that condition, and the parentheses are important because otherwise the <code>!</code> would be evaluated only for the <code>pressureOkRightFront</code>.</p>\n"}],"owner":{"account_id":27603978,"reputation":1,"user_id":21068573,"display_name":"Tomas Bernatonis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1674511509,"accepted_answer_id":75215208,"answer_count":1,"score":-2,"last_activity_date":1674510667,"creation_date":1674507663,"question_id":75215014,"body_markdown":"I have trouble with changing my code. I want to do that with a boolean and I have no clue how to do that. It is just confusing me.\r\n\r\n**This is my task:**\r\n\r\nTyrepressure-test\r\n\r\nIt is to check whether the pressure of all tires is between 35 and 45. If a tire is outside this range, a warning message is issued immediately. After that, the program continues reading and processing the values.\r\n\r\nIf a warning message occurs, the program issues a final warning message at the end. We declare a Boolean variable pressureOK for this purpose.\r\n\r\nboolean pressureOK\r\n\r\nWe initialize it with true and set the value to false if a tire is outside the valid range.\r\n\r\nThey&#39;re even helping me in the task with the boolean thing but I&#39;m so clueless and confused so that I just don&#39;t know how to do that. To be honest I have tried literally everything. Before I ask for a solution I always try everything that is possible because if I would just ask for a solution without trying it, it would be useless.\r\n\r\n**my code:**\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Tyrepressure {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Scanner scanner1 = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;Enter your tyrepressure of your right-front-tyre in pounds per square inch: &quot;);\r\n        double rightFrontTyre = scanner1.nextDouble();\r\n\r\n        System.out.println(&quot; &quot;); // For space in between the user input\r\n\r\n        System.out.println(&quot;Enter your tyrepressure of your left-front-tyre in pounds per square inch: &quot;);\r\n        double leftFrontTyre = scanner1.nextDouble();\r\n\r\n        System.out.println(&quot; &quot;); // For space in between the user input\r\n\r\n        System.out.println(&quot;Enter your tyrepressure of your left-back-tyre in pounds per square inch: &quot;);\r\n        double rightBackTyre = scanner1.nextDouble();\r\n\r\n        System.out.println(&quot; &quot;); // For space in between the user input\r\n\r\n        System.out.println(&quot;Enter your tyrepressure of your right-back-tyre in pounds per square inch: &quot;);\r\n        double leftBackTyre = scanner1.nextDouble();\r\n\r\n        System.out.println(&quot; &quot;); // For space in between the user input\r\n\r\n        if (rightFrontTyre &gt;= 35 &amp;&amp; rightFrontTyre &lt;= 45) {\r\n            System.out.println(&quot;right-front-tyre = &quot; + rightFrontTyre + &quot; psi, your tyrepressure is okay!&quot;);\r\n        } else {\r\n            System.out.println(&quot;right-front-tyre = &quot; + rightFrontTyre\r\n                    + &quot; psi, your tyrepressure is critical, it is out of the allowed range!&quot;);\r\n        }\r\n\r\n        System.out.println(&quot; &quot;); // For space in between the user input\r\n\r\n        if (leftFrontTyre &gt;= 35 &amp;&amp; leftFrontTyre &lt;= 45) {\r\n            System.out.println(&quot;left-front-tyre = &quot; + leftFrontTyre + &quot; psi, your tyrepressure is okay!&quot;);\r\n        } else {\r\n            System.out.println(&quot;left-front-tyre = &quot; + leftFrontTyre\r\n                    + &quot; psi, your tyrepressure is critical, it is out of the allowed range!&quot;);\r\n        }\r\n\r\n        System.out.println(&quot; &quot;); // For space in between the user input\r\n\r\n        if (rightBackTyre &gt;= 35 &amp;&amp; rightBackTyre &lt;= 45) {\r\n            System.out.println(&quot;right-back-tyre = &quot; + rightBackTyre + &quot; psi, your tyrepressure is okay!&quot;);\r\n        } else {\r\n            System.out.println(&quot;right-back-tyre = &quot; + rightBackTyre\r\n                    + &quot; psi, your tyrepressure is critical, it is out of the allowed range!&quot;);\r\n        }\r\n\r\n        System.out.println(&quot; &quot;); // For space in between the user input\r\n\r\n        if (leftBackTyre &gt;= 35 &amp;&amp; leftBackTyre &lt;= 45) {\r\n            System.out.println(&quot;left-back-tyre = &quot; + leftBackTyre + &quot; psi, your tyrepressure is okay!&quot;);\r\n        } else {\r\n            System.out.println(&quot;left-back-tyre = &quot; + leftBackTyre\r\n                    + &quot; psi, your tyrepressure is critical, it is out of the allowed range!&quot;);\r\n        }\r\n\r\n        System.out.println(&quot; &quot;); // For space in between the user input\r\n\r\n        if (rightFrontTyre &lt; 35 || rightFrontTyre &gt; 45 || leftFrontTyre &lt; 35 || leftFrontTyre &gt; 45\r\n                || rightBackTyre &lt; 35 || rightBackTyre &gt; 45 || leftBackTyre &lt; 35 || leftBackTyre &gt; 45) {\r\n            System.out.println(&quot;You have to check your tyrepressure!&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n**output:**\r\n\r\n```\r\nEnter your tyrepressure of your right-front-tyre in pounds per square inch: \r\n40\r\n \r\nEnter your tyrepressure of your left-front-tyre in pounds per square inch: \r\n32\r\n \r\nEnter your tyrepressure of your left-back-tyre in pounds per square inch: \r\n11\r\n \r\nEnter your tyrepressure of your right-back-tyre in pounds per square inch: \r\n40\r\n \r\nright-front-tyre = 40.0 psi, your tyrepressure is okay!\r\n \r\nleft-front-tyre = 32.0 psi, your tyrepressure is critical, it is out of the allowed range!\r\n \r\nright-back-tyre = 11.0 psi, your tyrepressure is critical, it is out of the allowed range!\r\n \r\nleft-back-tyre = 40.0 psi, your tyrepressure is okay!\r\n \r\nYou have to check your tyrepressure!\r\n```\r\n\r\nIt works fine but I have to do the last part with a boolean datatype and as I already said I just don&#39;t know how.....","title":"I have trouble with changing the process of that code in Java","body":"<p>I have trouble with changing my code. I want to do that with a boolean and I have no clue how to do that. It is just confusing me.</p>\n<p><strong>This is my task:</strong></p>\n<p>Tyrepressure-test</p>\n<p>It is to check whether the pressure of all tires is between 35 and 45. If a tire is outside this range, a warning message is issued immediately. After that, the program continues reading and processing the values.</p>\n<p>If a warning message occurs, the program issues a final warning message at the end. We declare a Boolean variable pressureOK for this purpose.</p>\n<p>boolean pressureOK</p>\n<p>We initialize it with true and set the value to false if a tire is outside the valid range.</p>\n<p>They're even helping me in the task with the boolean thing but I'm so clueless and confused so that I just don't know how to do that. To be honest I have tried literally everything. Before I ask for a solution I always try everything that is possible because if I would just ask for a solution without trying it, it would be useless.</p>\n<p><strong>my code:</strong></p>\n<pre><code>import java.util.Scanner;\n\npublic class Tyrepressure {\n\n    public static void main(String[] args) {\n\n        Scanner scanner1 = new Scanner(System.in);\n\n        System.out.println(&quot;Enter your tyrepressure of your right-front-tyre in pounds per square inch: &quot;);\n        double rightFrontTyre = scanner1.nextDouble();\n\n        System.out.println(&quot; &quot;); // For space in between the user input\n\n        System.out.println(&quot;Enter your tyrepressure of your left-front-tyre in pounds per square inch: &quot;);\n        double leftFrontTyre = scanner1.nextDouble();\n\n        System.out.println(&quot; &quot;); // For space in between the user input\n\n        System.out.println(&quot;Enter your tyrepressure of your left-back-tyre in pounds per square inch: &quot;);\n        double rightBackTyre = scanner1.nextDouble();\n\n        System.out.println(&quot; &quot;); // For space in between the user input\n\n        System.out.println(&quot;Enter your tyrepressure of your right-back-tyre in pounds per square inch: &quot;);\n        double leftBackTyre = scanner1.nextDouble();\n\n        System.out.println(&quot; &quot;); // For space in between the user input\n\n        if (rightFrontTyre &gt;= 35 &amp;&amp; rightFrontTyre &lt;= 45) {\n            System.out.println(&quot;right-front-tyre = &quot; + rightFrontTyre + &quot; psi, your tyrepressure is okay!&quot;);\n        } else {\n            System.out.println(&quot;right-front-tyre = &quot; + rightFrontTyre\n                    + &quot; psi, your tyrepressure is critical, it is out of the allowed range!&quot;);\n        }\n\n        System.out.println(&quot; &quot;); // For space in between the user input\n\n        if (leftFrontTyre &gt;= 35 &amp;&amp; leftFrontTyre &lt;= 45) {\n            System.out.println(&quot;left-front-tyre = &quot; + leftFrontTyre + &quot; psi, your tyrepressure is okay!&quot;);\n        } else {\n            System.out.println(&quot;left-front-tyre = &quot; + leftFrontTyre\n                    + &quot; psi, your tyrepressure is critical, it is out of the allowed range!&quot;);\n        }\n\n        System.out.println(&quot; &quot;); // For space in between the user input\n\n        if (rightBackTyre &gt;= 35 &amp;&amp; rightBackTyre &lt;= 45) {\n            System.out.println(&quot;right-back-tyre = &quot; + rightBackTyre + &quot; psi, your tyrepressure is okay!&quot;);\n        } else {\n            System.out.println(&quot;right-back-tyre = &quot; + rightBackTyre\n                    + &quot; psi, your tyrepressure is critical, it is out of the allowed range!&quot;);\n        }\n\n        System.out.println(&quot; &quot;); // For space in between the user input\n\n        if (leftBackTyre &gt;= 35 &amp;&amp; leftBackTyre &lt;= 45) {\n            System.out.println(&quot;left-back-tyre = &quot; + leftBackTyre + &quot; psi, your tyrepressure is okay!&quot;);\n        } else {\n            System.out.println(&quot;left-back-tyre = &quot; + leftBackTyre\n                    + &quot; psi, your tyrepressure is critical, it is out of the allowed range!&quot;);\n        }\n\n        System.out.println(&quot; &quot;); // For space in between the user input\n\n        if (rightFrontTyre &lt; 35 || rightFrontTyre &gt; 45 || leftFrontTyre &lt; 35 || leftFrontTyre &gt; 45\n                || rightBackTyre &lt; 35 || rightBackTyre &gt; 45 || leftBackTyre &lt; 35 || leftBackTyre &gt; 45) {\n            System.out.println(&quot;You have to check your tyrepressure!&quot;);\n        }\n    }\n}\n</code></pre>\n<p><strong>output:</strong></p>\n<pre><code>Enter your tyrepressure of your right-front-tyre in pounds per square inch: \n40\n \nEnter your tyrepressure of your left-front-tyre in pounds per square inch: \n32\n \nEnter your tyrepressure of your left-back-tyre in pounds per square inch: \n11\n \nEnter your tyrepressure of your right-back-tyre in pounds per square inch: \n40\n \nright-front-tyre = 40.0 psi, your tyrepressure is okay!\n \nleft-front-tyre = 32.0 psi, your tyrepressure is critical, it is out of the allowed range!\n \nright-back-tyre = 11.0 psi, your tyrepressure is critical, it is out of the allowed range!\n \nleft-back-tyre = 40.0 psi, your tyrepressure is okay!\n \nYou have to check your tyrepressure!\n</code></pre>\n<p>It works fine but I have to do the last part with a boolean datatype and as I already said I just don't know how.....</p>\n"},{"tags":["java","json","docker","gradle","cloudant"],"comments":[{"owner":{"account_id":25389,"reputation":14608,"user_id":65230,"accept_rate":84,"display_name":"Ascalonian"},"score":1,"creation_date":1527162137,"post_id":50508450,"comment_id":88028835,"body_markdown":"Please share what you have tried so far","body":"Please share what you have tried so far"}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1527165145,"creation_date":1527163355,"answer_id":50508917,"question_id":50508450,"body_markdown":"The API does not have an alternative to File, which is an operating system File.\r\nSo use a temporary file.\r\n\r\n    InputStream in = getClass().getResourceAsStream(\r\n            &quot;/design-documents/documents.json&quot;);\r\n    Path tempPath = Files.createTempFile(&quot;desdoc-&quot;, &quot;.json&quot;);\r\n    Files.copy(in, tempPath);\r\n    DesignDocument design = DesignDocumentManager.fromFile(tempPath.toFile());\r\n    Files.delete(tempPath);\r\n\r\nNote the leading `/` for Class.getResource(AsStream).","title":"How to access app resource files stored in &#39;src/main/resources/someFolder&#39; within a Docker container?","body":"<p>The API does not have an alternative to File, which is an operating system File.\nSo use a temporary file.</p>\n\n<pre><code>InputStream in = getClass().getResourceAsStream(\n        \"/design-documents/documents.json\");\nPath tempPath = Files.createTempFile(\"desdoc-\", \".json\");\nFiles.copy(in, tempPath);\nDesignDocument design = DesignDocumentManager.fromFile(tempPath.toFile());\nFiles.delete(tempPath);\n</code></pre>\n\n<p>Note the leading <code>/</code> for Class.getResource(AsStream).</p>\n"},{"tags":[],"owner":{"account_id":11510618,"reputation":31,"user_id":8435572,"display_name":"datruq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674510107,"creation_date":1674510107,"answer_id":75215338,"question_id":50508450,"body_markdown":"As @taz_ said, another way is to COPY the file from the resource in the Dockerfile\r\n\r\n    COPY src/main/resources/design-documents/documents.json /root/design-documents/documents.json\r\n\r\nand then get it directly from there\r\n\r\n    DesignDocument design = DesignDocumentManager.fromFile(&quot;root/design-documents/documents.json&quot;);\r\n\r\nIn my case, I needed it as a String so this is what I did\r\n\r\n    public String readJsonAsString(String filePath) throws Exception {\r\n        return new String(Files.readAllBytes(Paths.get(filePath)));\r\n    }\r\n\r\nThe filePath was this\r\n\r\n    private static final String DOCUMENTS_JSON = &quot;/root/design-documents/documents.json&quot;;","title":"How to access app resource files stored in &#39;src/main/resources/someFolder&#39; within a Docker container?","body":"<p>As @taz_ said, another way is to COPY the file from the resource in the Dockerfile</p>\n<pre><code>COPY src/main/resources/design-documents/documents.json /root/design-documents/documents.json\n</code></pre>\n<p>and then get it directly from there</p>\n<pre><code>DesignDocument design = DesignDocumentManager.fromFile(&quot;root/design-documents/documents.json&quot;);\n</code></pre>\n<p>In my case, I needed it as a String so this is what I did</p>\n<pre><code>public String readJsonAsString(String filePath) throws Exception {\n    return new String(Files.readAllBytes(Paths.get(filePath)));\n}\n</code></pre>\n<p>The filePath was this</p>\n<pre><code>private static final String DOCUMENTS_JSON = &quot;/root/design-documents/documents.json&quot;;\n</code></pre>\n"}],"owner":{"account_id":7103283,"reputation":137,"user_id":5433921,"accept_rate":40,"display_name":"taz_"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4884,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":50508917,"answer_count":2,"score":3,"last_activity_date":1674510107,"creation_date":1527161951,"question_id":50508450,"body_markdown":"I am working on a gradle based service that should run in a docker container in a kubernetes cluster. Locally, I can access the resources, some json files used for CouchDb initialisation. Once I build and deploy the service in Docker, the files are no longer accessible and I get file not found exception and can&#39;t start the service. I can see that my folder is in the generated jar but I can&#39;t access the files. \r\nI am using it like follows:\r\n\r\n`DesignDocument design = DesignDocumentManager.fromFile(&quot;design-documents/documents.json&quot;);`\r\n\r\n which comes from the [IBM Cloudant Java Client API][1]. I have tried different versions from the path, i.e. with a leading slash or the absolute path from the project.\r\n\r\n\r\n  [1]: http://www.javadoc.io/doc/com.cloudant/cloudant-client/2.12.0","title":"How to access app resource files stored in &#39;src/main/resources/someFolder&#39; within a Docker container?","body":"<p>I am working on a gradle based service that should run in a docker container in a kubernetes cluster. Locally, I can access the resources, some json files used for CouchDb initialisation. Once I build and deploy the service in Docker, the files are no longer accessible and I get file not found exception and can't start the service. I can see that my folder is in the generated jar but I can't access the files. \nI am using it like follows:</p>\n\n<p><code>DesignDocument design = DesignDocumentManager.fromFile(\"design-documents/documents.json\");</code></p>\n\n<p>which comes from the <a href=\"http://www.javadoc.io/doc/com.cloudant/cloudant-client/2.12.0\" rel=\"nofollow noreferrer\">IBM Cloudant Java Client API</a>. I have tried different versions from the path, i.e. with a leading slash or the absolute path from the project.</p>\n"},{"tags":["java","generics","design-patterns"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1674515139,"post_id":75215315,"comment_id":132726792,"body_markdown":"Perhaps each element of the matrix is an `Element`, which wraps a `Number`.  At the time of an `Element` construction, the concrete `Number` type is known, so some implementation of a `MatrixOp` interface is injected, where the implementation knows how to do add/multiply on that `Number` type.","body":"Perhaps each element of the matrix is an <code>Element</code>, which wraps a <code>Number</code>.  At the time of an <code>Element</code> construction, the concrete <code>Number</code> type is known, so some implementation of a <code>MatrixOp</code> interface is injected, where the implementation knows how to do add/multiply on that <code>Number</code> type."}],"owner":{"account_id":27006383,"reputation":11,"user_id":20566780,"display_name":"Duo Zhang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1674529397,"answer_count":0,"score":1,"last_activity_date":1674510076,"creation_date":1674509952,"question_id":75215315,"body_markdown":"I am implementing a Matrix class from scratch with Java language and I am quite new to java. Right now I have an interface of Matrix like this:\r\n\r\n```\r\npublic interface Matrix &lt;T extends Number &amp; Comparable&lt;? super T&gt;,L extends List&lt;T&gt;,M extends Matrix&gt;{\r\n    // ... a bunch of methods ...\r\n    public M add(M matrix) throws MatrixException;\r\n    public M mul(M matrix) throws MatrixException;\r\n}\r\n```\r\nThe `MatrixException` here is an Exception defined by me and `List` here is also an List class implemented by myself. I also have a `DenseMatrix` class which extends interface `Matrix`:\r\n\r\n```\r\npublic class DenseMatrix&lt;T extends Number &amp; Comparable&lt;? super T&gt;, L extends List&lt;T&gt;&gt; implements Matrix&lt;T, L, DenseMatrix&lt;T, L&gt;&gt; {\r\n    // ... a bunch of methods ...\r\n    public DenseMatrix&lt;T, L&gt; add(DenseMatrix&lt;T, L&gt; matrix) throws DataStructureException {\r\n    // add two matrix element-wisely\r\n    }\r\n}\r\n```\r\nBut the fact I found is I can&#39;t just add two Number together and there&#39;s no overload of operator `+`.\r\n\r\nSo I have seen solutions like check if the class type of an element in `matrix` is an instanceof Integer or Double or Long or Float and I have also seen solutions like giving up on using generics but implement methods with respect to all types of Number. But from my perspective neither of these solutions are decent enough like what I can do in C++. \r\n\r\nThus my question is how can I resolve this issue decently? or maybe my design paradigm is completely wrong? If there&#39;s a better design, please tell me! Many thanks in advance!","title":"Java: How to add two generics of java.lang.Number in a function and design pattern of Matrix in Java?","body":"<p>I am implementing a Matrix class from scratch with Java language and I am quite new to java. Right now I have an interface of Matrix like this:</p>\n<pre><code>public interface Matrix &lt;T extends Number &amp; Comparable&lt;? super T&gt;,L extends List&lt;T&gt;,M extends Matrix&gt;{\n    // ... a bunch of methods ...\n    public M add(M matrix) throws MatrixException;\n    public M mul(M matrix) throws MatrixException;\n}\n</code></pre>\n<p>The <code>MatrixException</code> here is an Exception defined by me and <code>List</code> here is also an List class implemented by myself. I also have a <code>DenseMatrix</code> class which extends interface <code>Matrix</code>:</p>\n<pre><code>public class DenseMatrix&lt;T extends Number &amp; Comparable&lt;? super T&gt;, L extends List&lt;T&gt;&gt; implements Matrix&lt;T, L, DenseMatrix&lt;T, L&gt;&gt; {\n    // ... a bunch of methods ...\n    public DenseMatrix&lt;T, L&gt; add(DenseMatrix&lt;T, L&gt; matrix) throws DataStructureException {\n    // add two matrix element-wisely\n    }\n}\n</code></pre>\n<p>But the fact I found is I can't just add two Number together and there's no overload of operator <code>+</code>.</p>\n<p>So I have seen solutions like check if the class type of an element in <code>matrix</code> is an instanceof Integer or Double or Long or Float and I have also seen solutions like giving up on using generics but implement methods with respect to all types of Number. But from my perspective neither of these solutions are decent enough like what I can do in C++.</p>\n<p>Thus my question is how can I resolve this issue decently? or maybe my design paradigm is completely wrong? If there's a better design, please tell me! Many thanks in advance!</p>\n"},{"tags":["java","amazon-web-services","maven","aws-sdk-java-2.0","aws-ssm"],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674508856,"creation_date":1674508856,"answer_id":75215174,"question_id":75214979,"body_markdown":"I just tested the code here in AWS Github. \r\n\r\nhttps://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code/ssm\r\n\r\nIt works perfectly as shown here: \r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nTry using the POM/code example located in this Git repo. Did you take your POM dependencies from this github repo? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jj31p.png","title":"Getting exception while trying to build SsmClient from aws-sdk-java version 2","body":"<p>I just tested the code here in AWS Github.</p>\n<p><a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code/ssm\" rel=\"nofollow noreferrer\">https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code/ssm</a></p>\n<p>It works perfectly as shown here:</p>\n<p><a href=\"https://i.stack.imgur.com/jj31p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jj31p.png\" alt=\"enter image description here\" /></a></p>\n<p>Try using the POM/code example located in this Git repo. Did you take your POM dependencies from this github repo?</p>\n"},{"tags":[],"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674508884,"creation_date":1674508884,"answer_id":75215177,"question_id":75214979,"body_markdown":"This is a change from V1 of the SDK.  Add something like:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;url-connection-client&lt;/artifactId&gt;\r\n            &lt;version&gt;2.19.15&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nto your `pom.xml`.","title":"Getting exception while trying to build SsmClient from aws-sdk-java version 2","body":"<p>This is a change from V1 of the SDK.  Add something like:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n        &lt;artifactId&gt;url-connection-client&lt;/artifactId&gt;\n        &lt;version&gt;2.19.15&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>to your <code>pom.xml</code>.</p>\n"}],"owner":{"account_id":27565580,"reputation":3,"user_id":21037820,"display_name":"Sayan Halder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":562,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674508884,"creation_date":1674507487,"question_id":75214979,"body_markdown":"The exception I am getting --\r\n\r\n```\r\njava.lang.NoClassDefFoundError: org/apache/http/impl/client/DefaultClientConnectionReuseStrategy\r\nat org.jboss.resteasy.core.ExceptionHandler.handleApplicationException(ExceptionHandler.java:76)\r\n  at org.jboss.resteasy.core.ExceptionHandler.handleException(ExceptionHandler.java:212)\r\n  at org.jboss.resteasy.core.SynchronousDispatcher.writeException(SynchronousDispatcher.java:166)\r\n  at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:393)\r\n  at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:200)\r\n  at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:220)\r\n  at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)\r\n  at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:51)\r\n  at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n```\r\nThe code block where exception is occurring --\r\n\r\n```\r\n//The region value being passed is &quot;us-east-1&quot; and paramKeyPath is the key present in aws systems //manager.\r\npublic String getParameterUsingAwsSSM(String paramKeyPath, String region) throws Exception {\r\n\t\tString paramKeyValue = null;\r\n\t\tSystem.out.println(&quot;Key path in AWS systems manager :: &quot; + paramKeyPath);\r\n\t\ttry {\r\n\t\t\tRegion newRegion = Region.of(region);\r\n                        //The below line gets printed---\r\n\t\t\tSystem.out.println(&quot;Region:: &quot; + newRegion);\r\n                        //Exception occurs in below line most probably---\r\n\t\t\tSsmClient ssmClient = SsmClient.builder().region(newRegion).build();\r\n                        //The below line doesn&#39;t get printed---\r\n\t\t\tSystem.out.println(&quot;successfully got ssmclient&quot;);\r\n\t\t\tGetParameterRequest parameterRequest = GetParameterRequest.builder().name(paramKeyPath)\r\n\t\t\t\t\t.withDecryption(Boolean.TRUE).build();\r\n\t\t\tSystem.out.println(&quot;successfully parameterRequest fetched&quot;);\r\n\t\t\tGetParameterResponse parameterResponse = ssmClient.getParameter(parameterRequest);\r\n\t\t\tSystem.out.println(&quot;successfully parameterResponse fetched&quot;);\r\n\t\t\tparamKeyValue = parameterResponse.parameter().value();\r\n\t\t\tSystem.out.println(&quot;The value of param is ::: &quot;+\r\n\t\t\t\t\tparameterResponse.parameter().value());\r\n\t\t} catch (Exception exception) {\r\n\t\t\tSystem.out.println(&quot;Exception from getParameterUsingAwsSSM() : &quot;+ exception);\r\n\t\t\tthrow exception;\r\n\t\t}\r\n\t\treturn paramKeyValue;\r\n\t}\r\n```\r\nThe dependencies I have added in my pom.xml --\r\n\r\n```\r\n&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;!-- this is an upgrade from 3.0-rc4 --&gt;\r\n\t\t\t&lt;groupId&gt;commons-httpclient&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-httpclient&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.30&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cloudfront&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.19.15&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;bcprov-jdk18on&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.72&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;bcpkix-jdk18on&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.72&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;regions&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.19.15&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ssm&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.19.15&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n```\r\nCan someone please help me with this? I have been stuck in this since 3 days.\r\n \r\n\r\n\r\nI was expecting to get the parameter value from aws parameter store but I am getting the above mentioned exception, I tried adding org.apache.httpcomponents.httpclient dependency also to my project but still not working. ","title":"Getting exception while trying to build SsmClient from aws-sdk-java version 2","body":"<p>The exception I am getting --</p>\n<pre><code>java.lang.NoClassDefFoundError: org/apache/http/impl/client/DefaultClientConnectionReuseStrategy\nat org.jboss.resteasy.core.ExceptionHandler.handleApplicationException(ExceptionHandler.java:76)\n  at org.jboss.resteasy.core.ExceptionHandler.handleException(ExceptionHandler.java:212)\n  at org.jboss.resteasy.core.SynchronousDispatcher.writeException(SynchronousDispatcher.java:166)\n  at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:393)\n  at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:200)\n  at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:220)\n  at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)\n  at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:51)\n  at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n</code></pre>\n<p>The code block where exception is occurring --</p>\n<pre><code>//The region value being passed is &quot;us-east-1&quot; and paramKeyPath is the key present in aws systems //manager.\npublic String getParameterUsingAwsSSM(String paramKeyPath, String region) throws Exception {\n        String paramKeyValue = null;\n        System.out.println(&quot;Key path in AWS systems manager :: &quot; + paramKeyPath);\n        try {\n            Region newRegion = Region.of(region);\n                        //The below line gets printed---\n            System.out.println(&quot;Region:: &quot; + newRegion);\n                        //Exception occurs in below line most probably---\n            SsmClient ssmClient = SsmClient.builder().region(newRegion).build();\n                        //The below line doesn't get printed---\n            System.out.println(&quot;successfully got ssmclient&quot;);\n            GetParameterRequest parameterRequest = GetParameterRequest.builder().name(paramKeyPath)\n                    .withDecryption(Boolean.TRUE).build();\n            System.out.println(&quot;successfully parameterRequest fetched&quot;);\n            GetParameterResponse parameterResponse = ssmClient.getParameter(parameterRequest);\n            System.out.println(&quot;successfully parameterResponse fetched&quot;);\n            paramKeyValue = parameterResponse.parameter().value();\n            System.out.println(&quot;The value of param is ::: &quot;+\n                    parameterResponse.parameter().value());\n        } catch (Exception exception) {\n            System.out.println(&quot;Exception from getParameterUsingAwsSSM() : &quot;+ exception);\n            throw exception;\n        }\n        return paramKeyValue;\n    }\n</code></pre>\n<p>The dependencies I have added in my pom.xml --</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;!-- this is an upgrade from 3.0-rc4 --&gt;\n            &lt;groupId&gt;commons-httpclient&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-httpclient&lt;/artifactId&gt;\n            &lt;version&gt;3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;1.7.30&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;cloudfront&lt;/artifactId&gt;\n            &lt;version&gt;2.19.15&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n            &lt;artifactId&gt;bcprov-jdk18on&lt;/artifactId&gt;\n            &lt;version&gt;1.72&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n            &lt;artifactId&gt;bcpkix-jdk18on&lt;/artifactId&gt;\n            &lt;version&gt;1.72&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;regions&lt;/artifactId&gt;\n            &lt;version&gt;2.19.15&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;ssm&lt;/artifactId&gt;\n            &lt;version&gt;2.19.15&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>Can someone please help me with this? I have been stuck in this since 3 days.</p>\n<p>I was expecting to get the parameter value from aws parameter store but I am getting the above mentioned exception, I tried adding org.apache.httpcomponents.httpclient dependency also to my project but still not working.</p>\n"},{"tags":["java","aop","aspectj","spring-aop","aspectj-maven-plugin"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1674510761,"post_id":75215144,"comment_id":132725856,"body_markdown":"The answer is yes, it is possible. You are describing one of the most basic use cases. Question back: Did you bother to read any AspectJ documentation before coming here? And can you please document how you built and tested the sample code, what result you expected and what happened instead? &quot;It is not working&quot; does not qualify as a comprehensive error description.","body":"The answer is yes, it is possible. You are describing one of the most basic use cases. Question back: Did you bother to read any AspectJ documentation before coming here? And can you please document how you built and tested the sample code, what result you expected and what happened instead? &quot;It is not working&quot; does not qualify as a comprehensive error description."},{"owner":{"account_id":10126809,"reputation":15,"user_id":7481823,"display_name":"gamelover"},"score":0,"creation_date":1674511320,"post_id":75215144,"comment_id":132725966,"body_markdown":"I was able to execute on a method level and constructor level.  I tried following it from https://www.baeldung.com/aspectj-advise-methods but still it didn&#39;t work on class level.  It doesn&#39;t throw any error. Just the aspects aren&#39;t running. Any help would be appreciated","body":"I was able to execute on a method level and constructor level.  I tried following it from <a href=\"https://www.baeldung.com/aspectj-advise-methods\" rel=\"nofollow noreferrer\">baeldung.com/aspectj-advise-methods</a> but still it didn&#39;t work on class level.  It doesn&#39;t throw any error. Just the aspects aren&#39;t running. Any help would be appreciated"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1674663520,"post_id":75215144,"comment_id":132763707,"body_markdown":"You cannot intercept class-level annotations with `@annotation(MyAnnotation)`, for that you need `@within(MyAnnotation)` or, somewhat suboptimally, `@within(@MyAnnotation)`, as suggested in your Baeldung tutorial. Same tutorial does not refer to `@annotation` at all, though. So please do not claim that you are following it, because actually you are not. You are doing something else.","body":"You cannot intercept class-level annotations with <code>@annotation(MyAnnotation)</code>, for that you need <code>@within(MyAnnotation)</code> or, somewhat suboptimally, <code>@within(@MyAnnotation)</code>, as suggested in your Baeldung tutorial. Same tutorial does not refer to <code>@annotation</code> at all, though. So please do not claim that you are following it, because actually you are not. You are doing something else."}],"owner":{"account_id":10126809,"reputation":15,"user_id":7481823,"display_name":"gamelover"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674663632,"answer_count":0,"score":0,"last_activity_date":1674508675,"creation_date":1674508675,"question_id":75215144,"body_markdown":"I have a class annotated with a custom annotation. I want to run an aspect that should trigger before all the method calls and constructor call whenever an object or static method of that class is called. Can we do this in AspectJ?\r\n\r\nAnnotation Class\r\n\r\n    import com.stackoverflow\r\n\r\n    @Target({ElementType.TYPE, ElementType.METHOD, ElementType.CONSTRUCTOR})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Documented\r\n    public @interface RunAdivceBeforeCall {\r\n    // Advice logic\r\n    }\r\n\r\nAspect Class\r\n\r\n    import com.stackoverflow\r\n    @Aspect\r\n    Class HandleAspect{\r\n    \r\n    @Before(&quot;@annotation(RunAdivceBeforeCall) &amp;&amp; execution(@RunAdivceBeforeCall * *.*(..))&quot;)\r\n        public void runAnAdviceBeforeCall(JoinPoint joinpoint) {\r\n         //Advice logic\r\n     }\r\n    \r\n    }\r\n\r\n\r\nClass to run the Aspects\r\n\r\nimport com.stackoverflow\r\n\r\n    @RunAdivceBeforeCall\r\n    public Class NavigationBar {\r\n    \r\n        NavigationBar(){\r\n        }\r\n\r\n     public void navigateToHomePage(){\r\n     }\r\n     \r\n     public void navigateToUserAccount(){\r\n     }\r\n\r\n     public void navigateToHelp(){\r\n     }\r\n   }\r\n\r\nThe above logic i added doesn&#39;t work. Is there any other way to trigger before all the method and constructor call whenever an NavigationBar object methods, constructor call and static method of that class is called. I need this only in AspectJ as my project is not spring?\r\n\r\n","title":"Running aspect on an Annotated Class using AspectJ","body":"<p>I have a class annotated with a custom annotation. I want to run an aspect that should trigger before all the method calls and constructor call whenever an object or static method of that class is called. Can we do this in AspectJ?</p>\n<p>Annotation Class</p>\n<pre><code>import com.stackoverflow\n\n@Target({ElementType.TYPE, ElementType.METHOD, ElementType.CONSTRUCTOR})\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\npublic @interface RunAdivceBeforeCall {\n// Advice logic\n}\n</code></pre>\n<p>Aspect Class</p>\n<pre><code>import com.stackoverflow\n@Aspect\nClass HandleAspect{\n\n@Before(&quot;@annotation(RunAdivceBeforeCall) &amp;&amp; execution(@RunAdivceBeforeCall * *.*(..))&quot;)\n    public void runAnAdviceBeforeCall(JoinPoint joinpoint) {\n     //Advice logic\n }\n\n}\n</code></pre>\n<p>Class to run the Aspects</p>\n<p>import com.stackoverflow</p>\n<pre><code>@RunAdivceBeforeCall\npublic Class NavigationBar {\n\n    NavigationBar(){\n    }\n\n public void navigateToHomePage(){\n }\n \n public void navigateToUserAccount(){\n }\n\n public void navigateToHelp(){\n }\n</code></pre>\n<p>}</p>\n<p>The above logic i added doesn't work. Is there any other way to trigger before all the method and constructor call whenever an NavigationBar object methods, constructor call and static method of that class is called. I need this only in AspectJ as my project is not spring?</p>\n"},{"tags":["java","rdf","jena"],"comments":[{"owner":{"account_id":6077505,"reputation":8407,"user_id":4744359,"display_name":"UninformedUser"},"score":0,"creation_date":1674550567,"post_id":75215110,"comment_id":132732367,"body_markdown":"just load your data into an RDF visualization tool of your choice - I mean, there are plenty out there nowadays. And indeed, you should host your own service as usually public services have limits in terms of file size for upload.","body":"just load your data into an RDF visualization tool of your choice - I mean, there are plenty out there nowadays. And indeed, you should host your own service as usually public services have limits in terms of file size for upload."}],"owner":{"account_id":20879453,"reputation":115,"user_id":15337550,"display_name":"FarshiD Naqizadeh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674508458,"creation_date":1674508458,"question_id":75215110,"body_markdown":"Hello Stackoverflow users , my Questiuon is How I can make Visual graph from any Rdf format(xml ,etc...) just like [RDf Grapher Online][1] , I&#39;m using jena apache Library for work with RDF and my Example for Rdf is like this :\r\n\r\n```\r\n&lt;rdf:RDF\r\n    xmlns:Hedc=&quot;https://workflow.hedc.co.ir/&quot;\r\n    xmlns:rdf=&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot;\r\n    xmlns:WorkFlow=&quot;https://workflow.hedc.co.ir/workflow#&quot;\r\n    xmlns:j.0=&quot;https://workflow.hedc.co.ir/workflow/&quot;&gt;\r\n  &lt;rdf:Description rdf:about=&quot;https://workflow.hedc.co.ir/workflow#Installations&quot;&gt;\r\n    &lt;j.0:Read xml:lang=&quot;fa&quot;&gt;شماره درخواست&lt;/j.0:Read&gt;\r\n    &lt;j.0:Read xml:lang=&quot;en&quot;&gt;mobile&lt;/j.0:Read&gt;\r\n    &lt;j.0:Read xml:lang=&quot;en&quot;&gt;branch number&lt;/j.0:Read&gt;\r\n    &lt;j.0:Read xml:lang=&quot;en&quot;&gt;phone&lt;/j.0:Read&gt;\r\n    &lt;j.0:Insert xml:lang=&quot;en&quot;&gt;meter&lt;/j.0:Insert&gt;\r\n    &lt;j.0:Insert&gt;Insert&lt;/j.0:Insert&gt;\r\n    &lt;j.0:Read&gt;Read&lt;/j.0:Read&gt;\r\n    &lt;WorkFlow:Installations xml:lang=&quot;en&quot;&gt;Setup installations&lt;/WorkFlow:Installations&gt;\r\n    &lt;j.0:Read xml:lang=&quot;fa&quot;&gt;موبایل&lt;/j.0:Read&gt;\r\n    &lt;j.0:Insert xml:lang=&quot;fa&quot;&gt;کنتور&lt;/j.0:Insert&gt;\r\n    &lt;WorkFlow:Installations xml:lang=&quot;fa&quot;&gt;نصب انشعاب&lt;/WorkFlow:Installations&gt;\r\n    &lt;j.0:Read xml:lang=&quot;fa&quot;&gt;تلفن&lt;/j.0:Read&gt;\r\n  &lt;/rdf:Description&gt;\r\n  &lt;rdf:Description rdf:about=&quot;https://workflow.hedc.co.ir/workflow#Branch&quot;&gt;\r\n    &lt;j.0:Insert xml:lang=&quot;fa&quot;&gt;موبایل&lt;/j.0:Insert&gt;\r\n    &lt;j.0:Insert xml:lang=&quot;fa&quot;&gt;کد ملی&lt;/j.0:Insert&gt;\r\n    &lt;j.0:Insert xml:lang=&quot;en&quot;&gt;Phone&lt;/j.0:Insert&gt;\r\n    &lt;j.0:Insert xml:lang=&quot;fa&quot;&gt;نام&lt;/j.0:Insert&gt;\r\n    &lt;j.0:Insert xml:lang=&quot;fa&quot;&gt;نام خانوادگی&lt;/j.0:Insert&gt;\r\n    &lt;j.0:Insert xml:lang=&quot;en&quot;&gt;Mobile&lt;/j.0:Insert&gt;\r\n    &lt;WorkFlow:Branch xml:lang=&quot;fa&quot;&gt;فروش انشعاب&lt;/WorkFlow:Branch&gt;\r\n    &lt;j.0:Insert xml:lang=&quot;fa&quot;&gt;تلفن&lt;/j.0:Insert&gt;\r\n    &lt;j.0:Insert xml:lang=&quot;fa&quot;&gt;شماره درخواست&lt;/j.0:Insert&gt;\r\n    &lt;j.0:Insert&gt;Insert&lt;/j.0:Insert&gt;\r\n    &lt;j.0:Insert xml:lang=&quot;en&quot;&gt;Address&lt;/j.0:Insert&gt;\r\n    &lt;j.0:Insert xml:lang=&quot;en&quot;&gt;Family Name&lt;/j.0:Insert&gt;\r\n    &lt;WorkFlow:Branch xml:lang=&quot;en&quot;&gt;Sale of electricity branch&lt;/WorkFlow:Branch&gt;\r\n    &lt;j.0:Insert xml:lang=&quot;en&quot;&gt;branch number&lt;/j.0:Insert&gt;\r\n    &lt;j.0:Insert xml:lang=&quot;en&quot;&gt;Name&lt;/j.0:Insert&gt;\r\n    &lt;j.0:Insert xml:lang=&quot;en&quot;&gt;national id&lt;/j.0:Insert&gt;\r\n    &lt;j.0:Insert xml:lang=&quot;fa&quot;&gt;آدرس&lt;/j.0:Insert&gt;\r\n  &lt;/rdf:Description&gt;\r\n  &lt;rdf:Description rdf:about=&quot;https://workflow.hedc.co.ir/workflow#Buy_Meter&quot;&gt;\r\n    &lt;j.0:Read xml:lang=&quot;fa&quot;&gt;شماره درخواست&lt;/j.0:Read&gt;\r\n    &lt;WorkFlow:Buy_Meter xml:lang=&quot;fa&quot;&gt;خرید مستقیم کنتور&lt;/WorkFlow:Buy_Meter&gt;\r\n    &lt;j.0:Read xml:lang=&quot;en&quot;&gt;national id&lt;/j.0:Read&gt;\r\n    &lt;j.0:Read xml:lang=&quot;fa&quot;&gt;موبایل&lt;/j.0:Read&gt;\r\n    &lt;j.0:Read xml:lang=&quot;en&quot;&gt;branch number&lt;/j.0:Read&gt;\r\n    &lt;j.0:Read&gt;Read&lt;/j.0:Read&gt;\r\n    &lt;WorkFlow:Buy_Meter xml:lang=&quot;en&quot;&gt;buy meter direct&lt;/WorkFlow:Buy_Meter&gt;\r\n    &lt;j.0:Read xml:lang=&quot;en&quot;&gt;phone&lt;/j.0:Read&gt;\r\n    &lt;j.0:Read xml:lang=&quot;fa&quot;&gt;کد ملی&lt;/j.0:Read&gt;\r\n    &lt;j.0:Read xml:lang=&quot;fa&quot;&gt;تلفن&lt;/j.0:Read&gt;\r\n    &lt;j.0:Read xml:lang=&quot;en&quot;&gt;mobile&lt;/j.0:Read&gt;\r\n  &lt;/rdf:Description&gt;\r\n&lt;/rdf:RDF&gt;\r\n\r\n\r\n```\r\nI google about it and nothing find that can use WebService or any library.\r\n\r\nNote : I know that site I mention about it have post and Get for doing some that but I have Large repository that can&#39;t handled with this site.\r\n\r\nNote : I use Java for doing that.\r\n\r\n  [1]: https://www.ldf.fi/service/rdf-grapher","title":"Rdf into Visual graph","body":"<p>Hello Stackoverflow users , my Questiuon is How I can make Visual graph from any Rdf format(xml ,etc...) just like <a href=\"https://www.ldf.fi/service/rdf-grapher\" rel=\"nofollow noreferrer\">RDf Grapher Online</a> , I'm using jena apache Library for work with RDF and my Example for Rdf is like this :</p>\n<pre><code>&lt;rdf:RDF\n    xmlns:Hedc=&quot;https://workflow.hedc.co.ir/&quot;\n    xmlns:rdf=&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot;\n    xmlns:WorkFlow=&quot;https://workflow.hedc.co.ir/workflow#&quot;\n    xmlns:j.0=&quot;https://workflow.hedc.co.ir/workflow/&quot;&gt;\n  &lt;rdf:Description rdf:about=&quot;https://workflow.hedc.co.ir/workflow#Installations&quot;&gt;\n    &lt;j.0:Read xml:lang=&quot;fa&quot;&gt;شماره درخواست&lt;/j.0:Read&gt;\n    &lt;j.0:Read xml:lang=&quot;en&quot;&gt;mobile&lt;/j.0:Read&gt;\n    &lt;j.0:Read xml:lang=&quot;en&quot;&gt;branch number&lt;/j.0:Read&gt;\n    &lt;j.0:Read xml:lang=&quot;en&quot;&gt;phone&lt;/j.0:Read&gt;\n    &lt;j.0:Insert xml:lang=&quot;en&quot;&gt;meter&lt;/j.0:Insert&gt;\n    &lt;j.0:Insert&gt;Insert&lt;/j.0:Insert&gt;\n    &lt;j.0:Read&gt;Read&lt;/j.0:Read&gt;\n    &lt;WorkFlow:Installations xml:lang=&quot;en&quot;&gt;Setup installations&lt;/WorkFlow:Installations&gt;\n    &lt;j.0:Read xml:lang=&quot;fa&quot;&gt;موبایل&lt;/j.0:Read&gt;\n    &lt;j.0:Insert xml:lang=&quot;fa&quot;&gt;کنتور&lt;/j.0:Insert&gt;\n    &lt;WorkFlow:Installations xml:lang=&quot;fa&quot;&gt;نصب انشعاب&lt;/WorkFlow:Installations&gt;\n    &lt;j.0:Read xml:lang=&quot;fa&quot;&gt;تلفن&lt;/j.0:Read&gt;\n  &lt;/rdf:Description&gt;\n  &lt;rdf:Description rdf:about=&quot;https://workflow.hedc.co.ir/workflow#Branch&quot;&gt;\n    &lt;j.0:Insert xml:lang=&quot;fa&quot;&gt;موبایل&lt;/j.0:Insert&gt;\n    &lt;j.0:Insert xml:lang=&quot;fa&quot;&gt;کد ملی&lt;/j.0:Insert&gt;\n    &lt;j.0:Insert xml:lang=&quot;en&quot;&gt;Phone&lt;/j.0:Insert&gt;\n    &lt;j.0:Insert xml:lang=&quot;fa&quot;&gt;نام&lt;/j.0:Insert&gt;\n    &lt;j.0:Insert xml:lang=&quot;fa&quot;&gt;نام خانوادگی&lt;/j.0:Insert&gt;\n    &lt;j.0:Insert xml:lang=&quot;en&quot;&gt;Mobile&lt;/j.0:Insert&gt;\n    &lt;WorkFlow:Branch xml:lang=&quot;fa&quot;&gt;فروش انشعاب&lt;/WorkFlow:Branch&gt;\n    &lt;j.0:Insert xml:lang=&quot;fa&quot;&gt;تلفن&lt;/j.0:Insert&gt;\n    &lt;j.0:Insert xml:lang=&quot;fa&quot;&gt;شماره درخواست&lt;/j.0:Insert&gt;\n    &lt;j.0:Insert&gt;Insert&lt;/j.0:Insert&gt;\n    &lt;j.0:Insert xml:lang=&quot;en&quot;&gt;Address&lt;/j.0:Insert&gt;\n    &lt;j.0:Insert xml:lang=&quot;en&quot;&gt;Family Name&lt;/j.0:Insert&gt;\n    &lt;WorkFlow:Branch xml:lang=&quot;en&quot;&gt;Sale of electricity branch&lt;/WorkFlow:Branch&gt;\n    &lt;j.0:Insert xml:lang=&quot;en&quot;&gt;branch number&lt;/j.0:Insert&gt;\n    &lt;j.0:Insert xml:lang=&quot;en&quot;&gt;Name&lt;/j.0:Insert&gt;\n    &lt;j.0:Insert xml:lang=&quot;en&quot;&gt;national id&lt;/j.0:Insert&gt;\n    &lt;j.0:Insert xml:lang=&quot;fa&quot;&gt;آدرس&lt;/j.0:Insert&gt;\n  &lt;/rdf:Description&gt;\n  &lt;rdf:Description rdf:about=&quot;https://workflow.hedc.co.ir/workflow#Buy_Meter&quot;&gt;\n    &lt;j.0:Read xml:lang=&quot;fa&quot;&gt;شماره درخواست&lt;/j.0:Read&gt;\n    &lt;WorkFlow:Buy_Meter xml:lang=&quot;fa&quot;&gt;خرید مستقیم کنتور&lt;/WorkFlow:Buy_Meter&gt;\n    &lt;j.0:Read xml:lang=&quot;en&quot;&gt;national id&lt;/j.0:Read&gt;\n    &lt;j.0:Read xml:lang=&quot;fa&quot;&gt;موبایل&lt;/j.0:Read&gt;\n    &lt;j.0:Read xml:lang=&quot;en&quot;&gt;branch number&lt;/j.0:Read&gt;\n    &lt;j.0:Read&gt;Read&lt;/j.0:Read&gt;\n    &lt;WorkFlow:Buy_Meter xml:lang=&quot;en&quot;&gt;buy meter direct&lt;/WorkFlow:Buy_Meter&gt;\n    &lt;j.0:Read xml:lang=&quot;en&quot;&gt;phone&lt;/j.0:Read&gt;\n    &lt;j.0:Read xml:lang=&quot;fa&quot;&gt;کد ملی&lt;/j.0:Read&gt;\n    &lt;j.0:Read xml:lang=&quot;fa&quot;&gt;تلفن&lt;/j.0:Read&gt;\n    &lt;j.0:Read xml:lang=&quot;en&quot;&gt;mobile&lt;/j.0:Read&gt;\n  &lt;/rdf:Description&gt;\n&lt;/rdf:RDF&gt;\n\n\n</code></pre>\n<p>I google about it and nothing find that can use WebService or any library.</p>\n<p>Note : I know that site I mention about it have post and Get for doing some that but I have Large repository that can't handled with this site.</p>\n<p>Note : I use Java for doing that.</p>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":1074107,"reputation":238,"user_id":1072625,"display_name":"Neeraj"},"score":0,"creation_date":1674411312,"post_id":75202731,"comment_id":132704112,"body_markdown":"any reason you are adding your filter after the UsernamePasswordAuthenticationFilter and not before? Also the default auth is basic and you haven&#39;t set up form auth explicitly (I don&#39;t think that might matter for your case though)","body":"any reason you are adding your filter after the UsernamePasswordAuthenticationFilter and not before? Also the default auth is basic and you haven&#39;t set up form auth explicitly (I don&#39;t think that might matter for your case though)"},{"owner":{"account_id":14082624,"reputation":650,"user_id":11656070,"display_name":"Alisher"},"score":0,"creation_date":1674421200,"post_id":75202731,"comment_id":132705907,"body_markdown":"No particular reason, I was experimenting a lot; trying to figure out why this configuration not working. It was actually set before UsernameAuthenticationFilter. I will update sample","body":"No particular reason, I was experimenting a lot; trying to figure out why this configuration not working. It was actually set before UsernameAuthenticationFilter. I will update sample"},{"owner":{"account_id":1074107,"reputation":238,"user_id":1072625,"display_name":"Neeraj"},"score":1,"creation_date":1674501999,"post_id":75202731,"comment_id":132723435,"body_markdown":"Can you try to remove your @Order(Ordered.HIGHEST_PRECEDENCE) from the filter. Without that annotation everything works as expected. I don&#39;t have the reasoning though why it is messing up the filter chain and i guess triggering a different flow..","body":"Can you try to remove your @Order(Ordered.HIGHEST_PRECEDENCE) from the filter. Without that annotation everything works as expected. I don&#39;t have the reasoning though why it is messing up the filter chain and i guess triggering a different flow.."},{"owner":{"account_id":14082624,"reputation":650,"user_id":11656070,"display_name":"Alisher"},"score":0,"creation_date":1674504081,"post_id":75202731,"comment_id":132724081,"body_markdown":"That&#39;s very strange but it did resolve the issue. Without the order annotation, it does indeed work. But I wonder if there is a reasonable explanation for this.","body":"That&#39;s very strange but it did resolve the issue. Without the order annotation, it does indeed work. But I wonder if there is a reasonable explanation for this."}],"answers":[{"tags":[],"owner":{"account_id":1074107,"reputation":238,"user_id":1072625,"display_name":"Neeraj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674507532,"creation_date":1674507532,"answer_id":75214987,"question_id":75202731,"body_markdown":"If you debug the order in which spring security filter chain is invoked in your case it seems adding `@Order` annotation causes it to run before FilterChainProxy starts its processing logic and then it sets the SecurityContext to empty inside SecurityContextPersistenceFilter which overwrites what you set in your filter causing the behavior you see. Since you are trying to add a custom auth mechanism it would be recommended to add the filter before UsernamePasswordAuthenticationFilter which your `SecurityFilterChain` does but seems to be overridden by `@Order` annotation. I guess the Order annotation is redundant in this case anyway and should be removed.. See this post on more details on how the chain is invoked - [link][1]\r\n\r\nYou can play around by setting the debug level logging of spring security to see how these filters are invoked.\r\n\r\n    logging.level.org.springframework.security=DEBUG\r\n\r\n  [1]: https://stackoverflow.com/questions/41480102/how-spring-security-filter-chain-works","title":"Spring Security 6: All request result in 403 with custom filter","body":"<p>If you debug the order in which spring security filter chain is invoked in your case it seems adding <code>@Order</code> annotation causes it to run before FilterChainProxy starts its processing logic and then it sets the SecurityContext to empty inside SecurityContextPersistenceFilter which overwrites what you set in your filter causing the behavior you see. Since you are trying to add a custom auth mechanism it would be recommended to add the filter before UsernamePasswordAuthenticationFilter which your <code>SecurityFilterChain</code> does but seems to be overridden by <code>@Order</code> annotation. I guess the Order annotation is redundant in this case anyway and should be removed.. See this post on more details on how the chain is invoked - <a href=\"https://stackoverflow.com/questions/41480102/how-spring-security-filter-chain-works\">link</a></p>\n<p>You can play around by setting the debug level logging of spring security to see how these filters are invoked.</p>\n<pre><code>logging.level.org.springframework.security=DEBUG\n</code></pre>\n"}],"owner":{"account_id":14082624,"reputation":650,"user_id":11656070,"display_name":"Alisher"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1133,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75214987,"answer_count":1,"score":1,"last_activity_date":1674507532,"creation_date":1674410678,"question_id":75202731,"body_markdown":"Given following filter chain:\r\n```java\r\n@Bean\r\n@Order(0)\r\npublic SecurityFilterChain securityFilterChain(\r\n      HttpSecurity http,\r\n      @Qualifier(OpaqueTokenAuthorizationFilter.OPAQUE_TOKEN_AUTHORIZATION_FILTER)\r\n          OncePerRequestFilter authorizationFilter\r\n  )\r\n http\r\n            .authorizeHttpRequests()\r\n            .anyRequest()\r\n            .authenticated()\r\n            .and()\r\n            .sessionManagement()\r\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n            .and()\r\n            .addFilterBefore(authorizationFilter, UsernamePasswordAuthenticationFilter.class);\r\nreturn http.build();\r\n```\r\nAnd a OncePerRequestFilter like this:\r\n```java\r\n\r\n@Component(OpaqueTokenAuthorizationFilter.OPAQUE_TOKEN_AUTHORIZATION_FILTER)\r\n@Order(Ordered.HIGHEST_PRECEDENCE)\r\n@RequiredArgsConstructor\r\npublic class OpaqueTokenAuthorizationFilter extends OncePerRequestFilter {\r\n\r\n  public static final String OPAQUE_TOKEN_AUTHORIZATION_FILTER =\r\n      &quot;OPAQUE_TOKEN_AUTHORIZATION_FILTER&quot;;\r\n\r\n  @Override\r\n  protected void doFilterInternal(\r\n      HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\r\n      throws IOException, ServletException {\r\n    // Note it always registers autnetication in context\r\n    var auth =\r\n        UsernamePasswordAuthenticationToken.authenticated(\r\n            &quot;test&quot;, null, List.of(new SimpleGrantedAuthority(&quot;TEST&quot;)));\r\n    auth.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n    SecurityContextHolder.getContext().setAuthentication(auth);\r\n    filterChain.doFilter(request, response);\r\n  }\r\n}\r\n\r\n```\r\nAll of the requests fail in Authorization filter because `SecurityContextHolder` returns anonymous authentication when a generic endpoint is being hit. It is being thrown by `ObservationDecisionManager` during the decision check (because the authentication object is anonymous).\r\n\r\nThe custom filter executes and sets authentication.\r\n\r\nIs there anything else needed for the new Spring Security configuration?\r\n","title":"Spring Security 6: All request result in 403 with custom filter","body":"<p>Given following filter chain:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n@Order(0)\npublic SecurityFilterChain securityFilterChain(\n      HttpSecurity http,\n      @Qualifier(OpaqueTokenAuthorizationFilter.OPAQUE_TOKEN_AUTHORIZATION_FILTER)\n          OncePerRequestFilter authorizationFilter\n  )\n http\n            .authorizeHttpRequests()\n            .anyRequest()\n            .authenticated()\n            .and()\n            .sessionManagement()\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n            .and()\n            .addFilterBefore(authorizationFilter, UsernamePasswordAuthenticationFilter.class);\nreturn http.build();\n</code></pre>\n<p>And a OncePerRequestFilter like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Component(OpaqueTokenAuthorizationFilter.OPAQUE_TOKEN_AUTHORIZATION_FILTER)\n@Order(Ordered.HIGHEST_PRECEDENCE)\n@RequiredArgsConstructor\npublic class OpaqueTokenAuthorizationFilter extends OncePerRequestFilter {\n\n  public static final String OPAQUE_TOKEN_AUTHORIZATION_FILTER =\n      &quot;OPAQUE_TOKEN_AUTHORIZATION_FILTER&quot;;\n\n  @Override\n  protected void doFilterInternal(\n      HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n      throws IOException, ServletException {\n    // Note it always registers autnetication in context\n    var auth =\n        UsernamePasswordAuthenticationToken.authenticated(\n            &quot;test&quot;, null, List.of(new SimpleGrantedAuthority(&quot;TEST&quot;)));\n    auth.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n    SecurityContextHolder.getContext().setAuthentication(auth);\n    filterChain.doFilter(request, response);\n  }\n}\n\n</code></pre>\n<p>All of the requests fail in Authorization filter because <code>SecurityContextHolder</code> returns anonymous authentication when a generic endpoint is being hit. It is being thrown by <code>ObservationDecisionManager</code> during the decision check (because the authentication object is anonymous).</p>\n<p>The custom filter executes and sets authentication.</p>\n<p>Is there anything else needed for the new Spring Security configuration?</p>\n"},{"tags":["java","jakarta-ee","spring-data-jpa","wildfly","cdi"],"answers":[{"tags":[],"owner":{"account_id":4095402,"reputation":2030,"user_id":3362334,"accept_rate":28,"display_name":"user3362334"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674507346,"creation_date":1674507346,"answer_id":75214959,"question_id":75214770,"body_markdown":"After changing spring data jpa version to 3.0.1 everything seems to work","title":"Unsatisfied dependencies for type X at injection point besides bean-discovery-mode set to &quot;all&quot;","body":"<p>After changing spring data jpa version to 3.0.1 everything seems to work</p>\n"}],"owner":{"account_id":4095402,"reputation":2030,"user_id":3362334,"accept_rate":28,"display_name":"user3362334"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674507346,"creation_date":1674506137,"question_id":75214770,"body_markdown":"I am running Jakarta EE 9 (Java JDK 17) project on Wildfly 27.0.1 Final that alsp uses Spring-data. I had a similar setup running on Java EE 8 (Java SDK 8) on Wildfly 20.0.1 Final running without issues. \r\n\r\nThis is my pom.xml:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;ProjectName&lt;/groupId&gt;\r\n        &lt;artifactId&gt;ProjectName&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0&lt;/version&gt;\r\n        &lt;packaging&gt;war&lt;/packaging&gt;\r\n    \r\n        &lt;name&gt;ProjectName&lt;/name&gt;\r\n        &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;17&lt;/source&gt;\r\n                        &lt;target&gt;17&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n    \r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.2.2&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;version&gt;1.18.22&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;commons-lang&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jakarta.jakartaee-web-api&lt;/artifactId&gt;\r\n                &lt;version&gt;9.0.0&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/jakarta.ejb/jakarta.ejb-api --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;jakarta.ejb&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jakarta.ejb-api&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n                &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n                &lt;version&gt;20160810&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/com.google.guava/guava --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n                &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n                &lt;version&gt;28.1-jre&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-api --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6.4&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.auth0&lt;/groupId&gt;\r\n                &lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    &lt;!--        &lt;dependency&gt;--&gt;\r\n    &lt;!--            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;--&gt;\r\n    &lt;!--            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;--&gt;\r\n    &lt;!--            &lt;version&gt;1.11.23.RELEASE&lt;/version&gt;--&gt;\r\n    &lt;!--        &lt;/dependency&gt;--&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/org.springframework.data/spring-data-jpa --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-annotations&lt;/artifactId&gt;\r\n                &lt;version&gt;3.5.6-Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n                &lt;version&gt;2.9.8&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n                &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n                &lt;version&gt;2.9.4&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/commons-io/commons-io --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-api --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.17.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n                &lt;version&gt;1.11.23.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n                &lt;version&gt;42.5.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nTo make it work I added a class called CdiConfig to make EntityManager available where it&#39;s needed:\r\n\r\n    public class CdiConfig {\r\n    \r\n    \t@Produces\r\n        @Dependent\r\n        @PersistenceContext\r\n        public EntityManager entityManager;\r\n    \t\r\n    }\r\n\r\nAnd, also I made sure that my repository initiates eagerly:\r\n\r\n    @Eager\r\n    public interface GameRepository extends CrudRepository&lt;Game, Long&gt; {\r\n    \tGame findByUniqueId(String uniqueId);\r\n    }\r\n\r\nAnd, then finally from the facade I try to inject the repository:\r\n\r\n    @Stateless\r\n    public class GameFacade {\r\n    \r\n    \t@Inject\r\n    \tGameRepository repository;\r\n    ...\r\n\r\n\r\nI also added beans.xml to &lt;root&gt;/webapp/WEB-INF/ to make the repository discoverable:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;beans xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \t   xsi:schemaLocation=&quot;\r\n    \t\thttps://jakarta.ee/xml/ns/jakartaee\r\n    \t\thttps://jakarta.ee/xml/ns/jakartaee/beans_3_0.xsd&quot;\r\n    \t   bean-discovery-mode=&quot;all&quot;&gt;\r\n    &lt;/beans&gt;\r\n\r\nHowever,\r\n\r\nI still get \r\n\r\n    Caused by: org.jboss.weld.exceptions.DeploymentException: WELD-001408: Unsatisfied dependencies for type GameRepository with qualifiers @Default\r\n      at injection point [BackedAnnotatedField] @Inject com.example.project.facade.GameFacade.repository\r\n      at com.example.project.facade.GameFacade.repository(GameFacade.java:0)","title":"Unsatisfied dependencies for type X at injection point besides bean-discovery-mode set to &quot;all&quot;","body":"<p>I am running Jakarta EE 9 (Java JDK 17) project on Wildfly 27.0.1 Final that alsp uses Spring-data. I had a similar setup running on Java EE 8 (Java SDK 8) on Wildfly 20.0.1 Final running without issues.</p>\n<p>This is my pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;ProjectName&lt;/groupId&gt;\n    &lt;artifactId&gt;ProjectName&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;name&gt;ProjectName&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;target&gt;17&lt;/target&gt;\n                &lt;/configuration&gt;\n\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.2&lt;/version&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.22&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-lang&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\n            &lt;version&gt;2.6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.jakartaee-web-api&lt;/artifactId&gt;\n            &lt;version&gt;9.0.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/jakarta.ejb/jakarta.ejb-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.ejb&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.ejb-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20160810&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/com.google.guava/guava --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;28.1-jre&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n            &lt;version&gt;2.6.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.auth0&lt;/groupId&gt;\n            &lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\n            &lt;version&gt;3.8.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;1.11.23.RELEASE&lt;/version&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.data/spring-data-jpa --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-annotations&lt;/artifactId&gt;\n            &lt;version&gt;3.5.6-Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.9.8&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n            &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.9.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/commons-io/commons-io --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.17.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;1.11.23.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;42.5.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>To make it work I added a class called CdiConfig to make EntityManager available where it's needed:</p>\n<pre><code>public class CdiConfig {\n\n    @Produces\n    @Dependent\n    @PersistenceContext\n    public EntityManager entityManager;\n    \n}\n</code></pre>\n<p>And, also I made sure that my repository initiates eagerly:</p>\n<pre><code>@Eager\npublic interface GameRepository extends CrudRepository&lt;Game, Long&gt; {\n    Game findByUniqueId(String uniqueId);\n}\n</code></pre>\n<p>And, then finally from the facade I try to inject the repository:</p>\n<pre><code>@Stateless\npublic class GameFacade {\n\n    @Inject\n    GameRepository repository;\n...\n</code></pre>\n<p>I also added beans.xml to /webapp/WEB-INF/ to make the repository discoverable:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;beans xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xsi:schemaLocation=&quot;\n        https://jakarta.ee/xml/ns/jakartaee\n        https://jakarta.ee/xml/ns/jakartaee/beans_3_0.xsd&quot;\n       bean-discovery-mode=&quot;all&quot;&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>However,</p>\n<p>I still get</p>\n<pre><code>Caused by: org.jboss.weld.exceptions.DeploymentException: WELD-001408: Unsatisfied dependencies for type GameRepository with qualifiers @Default\n  at injection point [BackedAnnotatedField] @Inject com.example.project.facade.GameFacade.repository\n  at com.example.project.facade.GameFacade.repository(GameFacade.java:0)\n</code></pre>\n"},{"tags":["java","generics","arraylist"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":3,"creation_date":1674441040,"post_id":75205260,"comment_id":132708224,"body_markdown":"If some code running in the same JVM as yours is intentionally malicious or utterly idiotic, then they will respectively succeed in hacking the system / causing loads of bugs. There is nothing you&#39;re going to do about it. No matter how hard you try. Thus, the answer is a very simple and nice: Don&#39;t worry about it.","body":"If some code running in the same JVM as yours is intentionally malicious or utterly idiotic, then they will respectively succeed in hacking the system / causing loads of bugs. There is nothing you&#39;re going to do about it. No matter how hard you try. Thus, the answer is a very simple and nice: Don&#39;t worry about it."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1674454820,"post_id":75205260,"comment_id":132709579,"body_markdown":"And typically, you would do defensive copying when setting and returning an immutable view in the getter - but note that one could also just pass a `List` not adhering to the `List` specification if they really wanted to.","body":"And typically, you would do defensive copying when setting and returning an immutable view in the getter - but note that one could also just pass a <code>List</code> not adhering to the <code>List</code> specification if they really wanted to."},{"owner":{"account_id":250529,"reputation":11921,"user_id":527312,"accept_rate":73,"display_name":"ktm5124"},"score":0,"creation_date":1674508626,"post_id":75205260,"comment_id":132725313,"body_markdown":"The compiler generates an error (&quot;incompatible types&quot;) if you pass a method expecting List&lt;String&gt; an argument of List&lt;Integer&gt;. But it does not generate an error if you pass the same method a List. Why is this? This is a good question.","body":"The compiler generates an error (&quot;incompatible types&quot;) if you pass a method expecting List&lt;String&gt; an argument of List&lt;Integer&gt;. But it does not generate an error if you pass the same method a List. Why is this? This is a good question."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674507225,"creation_date":1674507225,"answer_id":75214938,"question_id":75205260,"body_markdown":"Due to type erasure, you can&#39;t prevent someone from circumventing type checking by using a raw list, but you can force the caller to use a *particular* implementation whose type cannot be circumvented:\r\n\r\n```java\r\npublic class StringList extends ArrayList&lt;String&gt; {\r\n    public StringList(int initialCapacity) {\r\n        super(initialCapacity);\r\n    }\r\n\r\n    public StringList() {\r\n        super();\r\n    }\r\n\r\n    public StringList(@NotNull Collection&lt;? extends String&gt; c) {\r\n        super(c);\r\n    }\r\n\r\n    @Override\r\n    public String set(int index, String element) {\r\n        return super.set(index, element);\r\n    }\r\n\r\n    @Override\r\n    public boolean add(String s) {\r\n        return super.add(s);\r\n    }\r\n\r\n    @Override\r\n    public void add(int index, String element) {\r\n        super.add(index, element);\r\n    }\r\n\r\n    @Override\r\n    public boolean addAll(Collection&lt;? extends String&gt; c) {\r\n        return super.addAll(c);\r\n    }\r\n\r\n    @Override\r\n    public boolean addAll(int index, Collection&lt;? extends String&gt; c) {\r\n        return super.addAll(index, c);\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd use that instead of `List&lt;String&gt;`:\r\n\r\n```java\r\npublic static class TestClass {\r\n    private StringList list;\r\n \r\n    public void setList(StringList list) {\r\n        this.list = list;\r\n    }\r\n \r\n    public StringList getList() {\r\n        return list;\r\n    }\r\n}\r\n```","title":"Best practice to protect class from ArrayList method parameter setter at runtime?","body":"<p>Due to type erasure, you can't prevent someone from circumventing type checking by using a raw list, but you can force the caller to use a <em>particular</em> implementation whose type cannot be circumvented:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class StringList extends ArrayList&lt;String&gt; {\n    public StringList(int initialCapacity) {\n        super(initialCapacity);\n    }\n\n    public StringList() {\n        super();\n    }\n\n    public StringList(@NotNull Collection&lt;? extends String&gt; c) {\n        super(c);\n    }\n\n    @Override\n    public String set(int index, String element) {\n        return super.set(index, element);\n    }\n\n    @Override\n    public boolean add(String s) {\n        return super.add(s);\n    }\n\n    @Override\n    public void add(int index, String element) {\n        super.add(index, element);\n    }\n\n    @Override\n    public boolean addAll(Collection&lt;? extends String&gt; c) {\n        return super.addAll(c);\n    }\n\n    @Override\n    public boolean addAll(int index, Collection&lt;? extends String&gt; c) {\n        return super.addAll(index, c);\n    }\n\n}\n</code></pre>\n<p>And use that instead of <code>List&lt;String&gt;</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static class TestClass {\n    private StringList list;\n \n    public void setList(StringList list) {\n        this.list = list;\n    }\n \n    public StringList getList() {\n        return list;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3645499,"reputation":33,"user_id":4092464,"accept_rate":25,"display_name":"user219694"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674507225,"creation_date":1674440679,"question_id":75205260,"body_markdown":"I&#39;m developing a new method for TestClass called setList. The method takes a List of String parameter and sets a member variable of TestClass. Assume the list is large, so it&#39;s impractical to copy it.\r\n\r\nNow a user of my class decides to cast an ArrayList of Integer as an untyped List and passes it to my method. Compiler doesn&#39;t complain. At runtime, there isn&#39;t any error until the client attempts to retrieve an element from the list.\r\n\r\nWhat&#39;s the best practice for my method to protect the class from being corrupted by this user input? I thought of checking if list is empty and then checking type of all elements in list, but that seems hacky. Even more so if the elements are Generics themselves, etc.\r\n\r\n    @Test\r\n    public void test() {\r\n    &#160; &#160; Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n    &#160; &#160; List input =&#160; new ArrayList&lt;&gt;(Arrays.asList(1, 2, 3));\r\n    &#160; &#160; input.add(&quot;12345&quot;);\r\n    &#160; &#160; map.put(&quot;key&quot;, input);\r\n    &#160; &#160; TestClass testClass = new TestClass();\r\n    &#160; &#160; testClass.setList((List) map.get(&quot;key&quot;));\r\n    &#160; &#160; List&lt;String&gt; list = testClass.getList();\r\n    &#160; &#160; String element = list.get(0);\r\n    }\r\n    &#160;\r\n    public static class TestClass {\r\n    &#160; &#160; private List&lt;String&gt; list;\r\n    &#160;\r\n    &#160; &#160; public void setList(List&lt;String&gt; list) {\r\n    &#160; &#160; &#160; &#160; this.list = list;\r\n    &#160; &#160; }\r\n    &#160;\r\n    &#160; &#160; public List&lt;String&gt; getList() {\r\n    &#160; &#160; &#160; &#160; return list;\r\n    &#160; &#160; }\r\n    }","title":"Best practice to protect class from ArrayList method parameter setter at runtime?","body":"<p>I'm developing a new method for TestClass called setList. The method takes a List of String parameter and sets a member variable of TestClass. Assume the list is large, so it's impractical to copy it.</p>\n<p>Now a user of my class decides to cast an ArrayList of Integer as an untyped List and passes it to my method. Compiler doesn't complain. At runtime, there isn't any error until the client attempts to retrieve an element from the list.</p>\n<p>What's the best practice for my method to protect the class from being corrupted by this user input? I thought of checking if list is empty and then checking type of all elements in list, but that seems hacky. Even more so if the elements are Generics themselves, etc.</p>\n<pre><code>@Test\npublic void test() {\n    Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n    List input =  new ArrayList&lt;&gt;(Arrays.asList(1, 2, 3));\n    input.add(&quot;12345&quot;);\n    map.put(&quot;key&quot;, input);\n    TestClass testClass = new TestClass();\n    testClass.setList((List) map.get(&quot;key&quot;));\n    List&lt;String&gt; list = testClass.getList();\n    String element = list.get(0);\n}\n \npublic static class TestClass {\n    private List&lt;String&gt; list;\n \n    public void setList(List&lt;String&gt; list) {\n        this.list = list;\n    }\n \n    public List&lt;String&gt; getList() {\n        return list;\n    }\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":17560311,"reputation":266,"user_id":12738660,"display_name":"mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674506944,"creation_date":1674506629,"answer_id":75214846,"question_id":75214808,"body_markdown":"The problem is that when you press `enter` (when you digit the number) you are inserting a `\\n` character inside the buffer, so when you will call `nextLine()` you will read the `\\n` (because nextLine reads the input until the `\\n`) and you will not be able to write anything because the function returns when found the `\\n`.\r\nYou can clean it calling `scanner.nextLine()` one more time\r\n\r\n    int i = scan.nextInt();\r\n    double d = scan.nextDouble();\r\n    // Remove \\n from buffer\r\n    scan.nextLine();\r\n    String s = scan.nextLine();","title":"Failure trying to read String using Scanner.nextLine()","body":"<p>The problem is that when you press <code>enter</code> (when you digit the number) you are inserting a <code>\\n</code> character inside the buffer, so when you will call <code>nextLine()</code> you will read the <code>\\n</code> (because nextLine reads the input until the <code>\\n</code>) and you will not be able to write anything because the function returns when found the <code>\\n</code>.\nYou can clean it calling <code>scanner.nextLine()</code> one more time</p>\n<pre><code>int i = scan.nextInt();\ndouble d = scan.nextDouble();\n// Remove \\n from buffer\nscan.nextLine();\nString s = scan.nextLine();\n</code></pre>\n"}],"owner":{"account_id":26941144,"reputation":1,"user_id":20511936,"display_name":"therockhidesamongtherocks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674506958,"answer_count":1,"score":0,"last_activity_date":1674506944,"creation_date":1674506410,"question_id":75214808,"body_markdown":"I am trying to read a String and output it to the terminal, as well as a few primitives, but it does not seem to work. The code is below:\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scan = new Scanner(System.in);\r\n        \r\n        int i = scan.nextInt();\r\n        double d = scan.nextDouble();\r\n        String s = scan.nextLine();\r\n\r\n        scan.close();\r\n        \r\n        System.out.println(&quot;String: &quot; + s + &quot;\\n&quot;);\r\n        System.out.println(&quot;Double: &quot; + d);\r\n        System.out.println(&quot;Int: &quot; + i);\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\nI have tried to find other ways to parse the string in the Scanner class, but none of them seemed to work. What I except is for the String to be properly read and outputed to the terminal, along with the few other values.\r\n\r\nThanks in advance.","title":"Failure trying to read String using Scanner.nextLine()","body":"<p>I am trying to read a String and output it to the terminal, as well as a few primitives, but it does not seem to work. The code is below:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        \n        int i = scan.nextInt();\n        double d = scan.nextDouble();\n        String s = scan.nextLine();\n\n        scan.close();\n        \n        System.out.println(&quot;String: &quot; + s + &quot;\\n&quot;);\n        System.out.println(&quot;Double: &quot; + d);\n        System.out.println(&quot;Int: &quot; + i);\n\n    }\n}\n\n</code></pre>\n<p>I have tried to find other ways to parse the string in the Scanner class, but none of them seemed to work. What I except is for the String to be properly read and outputed to the terminal, along with the few other values.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","scala","inetaddress"],"owner":{"account_id":3730364,"reputation":14331,"user_id":3102968,"accept_rate":83,"display_name":"joesan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1674506939,"creation_date":1674506436,"question_id":75214812,"body_markdown":"I have the following snippet which attempts to print all available devices in the given IP range and I want it to also print the hostname:\r\n\r\n    import java.net.{InetAddress, NetworkInterface}\r\n    import scala.collection.JavaConverters._\r\n    \r\n    object GetIpMac {\r\n      def main(args: Array[String]): Unit = {\r\n        try {\r\n          val network = &quot;192.168.0&quot;\r\n          val range = (1 to 255)\r\n          for (i &lt;- range) {\r\n            val ip = network + &quot;.&quot; + i.toString\r\n            val inet = InetAddress.getByName(ip)\r\n            if (!inet.isLinkLocalAddress) {\r\n              val ni = NetworkInterface.getByInetAddress(inet)\r\n              if (ni != null) {\r\n                val mac = ni.getHardwareAddress\r\n                if (mac != null) {\r\n                  println(s&quot;printing hostname ${inet.getHostName()}&quot;)\r\n                  println(ip + &quot; &quot; + mac.map(&quot;%02x&quot;.format(_)).mkString(&quot;:&quot;))\r\n                }\r\n              }\r\n            }\r\n          }\r\n        } catch {\r\n          case ex: Exception =&gt; ex.printStackTrace()\r\n        }\r\n      }\r\n    }\r\n\r\nWhen I ran that on my local machine, I get to see the following:\r\n\r\n    me@my-mac:~/Desktop$ sh scan.sh \r\n    printing hostname 192.168.0.101\r\n    192.168.0.101 40:d2:53:99:78:67\r\n\r\nAs you can see, it is not printing the expected hostname which is \r\n\r\n&gt; my-mac\r\n\r\nAny ideas as to why is this? How can I have the hostname printed?","title":"Scan and Get Hostname for all devices using Scala","body":"<p>I have the following snippet which attempts to print all available devices in the given IP range and I want it to also print the hostname:</p>\n<pre><code>import java.net.{InetAddress, NetworkInterface}\nimport scala.collection.JavaConverters._\n\nobject GetIpMac {\n  def main(args: Array[String]): Unit = {\n    try {\n      val network = &quot;192.168.0&quot;\n      val range = (1 to 255)\n      for (i &lt;- range) {\n        val ip = network + &quot;.&quot; + i.toString\n        val inet = InetAddress.getByName(ip)\n        if (!inet.isLinkLocalAddress) {\n          val ni = NetworkInterface.getByInetAddress(inet)\n          if (ni != null) {\n            val mac = ni.getHardwareAddress\n            if (mac != null) {\n              println(s&quot;printing hostname ${inet.getHostName()}&quot;)\n              println(ip + &quot; &quot; + mac.map(&quot;%02x&quot;.format(_)).mkString(&quot;:&quot;))\n            }\n          }\n        }\n      }\n    } catch {\n      case ex: Exception =&gt; ex.printStackTrace()\n    }\n  }\n}\n</code></pre>\n<p>When I ran that on my local machine, I get to see the following:</p>\n<pre><code>me@my-mac:~/Desktop$ sh scan.sh \nprinting hostname 192.168.0.101\n192.168.0.101 40:d2:53:99:78:67\n</code></pre>\n<p>As you can see, it is not printing the expected hostname which is</p>\n<blockquote>\n<p>my-mac</p>\n</blockquote>\n<p>Any ideas as to why is this? How can I have the hostname printed?</p>\n"},{"tags":["java","mysql","spring","spring-transactions"],"answers":[{"tags":[],"owner":{"account_id":215223,"reputation":2949,"user_id":469718,"accept_rate":12,"display_name":"kisna"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1459305106,"creation_date":1459305106,"answer_id":36298610,"question_id":26458525,"body_markdown":"When the server times out, MySql itself has its own timeouts too. Benchmark few different long running queries in debug mode, if you see same times taken for the exception then that is from the server timeout.","title":"When do spring transaction timeout for default value of -1?","body":"<p>When the server times out, MySql itself has its own timeouts too. Benchmark few different long running queries in debug mode, if you see same times taken for the exception then that is from the server timeout.</p>\n"},{"tags":[],"owner":{"account_id":9507708,"reputation":2869,"user_id":7066647,"display_name":"dbaltor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674506363,"creation_date":1674506363,"answer_id":75214802,"question_id":26458525,"body_markdown":"`-1` is a placeholder for NONE. All classes in the [org.springframework.transaction][1] package use it to signal the NO TIMEOUT has been set, therefore Spring is going to use the default timeout of the underlying transaction system, or none if timeouts are not supported.\r\n\r\nYou can read this definition in the [TransactionDefinition][2] class.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/package-summary.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/TransactionDefinition.html#TIMEOUT_DEFAULT","title":"When do spring transaction timeout for default value of -1?","body":"<p><code>-1</code> is a placeholder for NONE. All classes in the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/package-summary.html\" rel=\"nofollow noreferrer\">org.springframework.transaction</a> package use it to signal the NO TIMEOUT has been set, therefore Spring is going to use the default timeout of the underlying transaction system, or none if timeouts are not supported.</p>\n<p>You can read this definition in the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/TransactionDefinition.html#TIMEOUT_DEFAULT\" rel=\"nofollow noreferrer\">TransactionDefinition</a> class.</p>\n"}],"owner":{"account_id":1705684,"reputation":7431,"user_id":1564766,"accept_rate":15,"display_name":"abishkar bhattarai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7906,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1674506363,"creation_date":1413778813,"question_id":26458525,"body_markdown":"This is my bean \r\n\r\n    &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.jpa.JpaTransactionManager&quot;&gt;\r\n    \t\t&lt;property name=&quot;entityManagerFactory&quot; ref=&quot;entityManagerFactory&quot; /&gt;\r\n    \t\t  &lt;property name=&quot;defaultTimeout&quot; value=&quot;400&quot; /&gt;            \r\n    \t&lt;/bean&gt;\r\nSpring JpaTransactionManager default time out is -1.In my case I have overridden  defaultTimeout with 400 sec.So,if I have overridden it then it will time out  after specified defaultTimeout time.\r\n\r\nLooking at the code on **DataSourceTransactionManager** class\r\n\r\n\t\t\t\r\n\r\n    int timeout = determineTimeout(definition);\r\n    \t\t\tif (timeout != -1) {\r\n    \t\t\t\ttxObject.getConnectionHolder().setTimeoutInSeconds(timeout);\r\n    \t\t\t}\r\n\t\t\t\r\n\r\n    public void setTimeoutInSeconds(int seconds) {\r\n    \t\tsetTimeoutInMillis(seconds * 1000);\r\n    \t\tpublic void setTimeoutInMillis(long millis) {\r\n    \t\tthis.deadline = new Date(System.currentTimeMillis() + millis);\r\n    \t}\r\n\t}\r\n\t\t\t\r\n So if timeout value is not equal to -1 then timeout i have specified is multiple by 1000 and that is used for timeout.But,in case i have not overridden timeout value then it will be -1.\r\n\r\n**So,when will be timeout occur for default value of -1 .**\r\n\r\n**Does it time out when MySql.Data.MySqlClient.MySqlException: Timeout expired exception is thrown?**\r\nAny suggestions?\r\n ","title":"When do spring transaction timeout for default value of -1?","body":"<p>This is my bean </p>\n\n<pre><code>&lt;bean id=\"transactionManager\" class=\"org.springframework.orm.jpa.JpaTransactionManager\"&gt;\n        &lt;property name=\"entityManagerFactory\" ref=\"entityManagerFactory\" /&gt;\n          &lt;property name=\"defaultTimeout\" value=\"400\" /&gt;            \n    &lt;/bean&gt;\n</code></pre>\n\n<p>Spring JpaTransactionManager default time out is -1.In my case I have overridden  defaultTimeout with 400 sec.So,if I have overridden it then it will time out  after specified defaultTimeout time.</p>\n\n<p>Looking at the code on <strong>DataSourceTransactionManager</strong> class</p>\n\n<pre><code>int timeout = determineTimeout(definition);\n            if (timeout != -1) {\n                txObject.getConnectionHolder().setTimeoutInSeconds(timeout);\n            }\n\n\npublic void setTimeoutInSeconds(int seconds) {\n        setTimeoutInMillis(seconds * 1000);\n        public void setTimeoutInMillis(long millis) {\n        this.deadline = new Date(System.currentTimeMillis() + millis);\n    }\n}\n</code></pre>\n\n<p>So if timeout value is not equal to -1 then timeout i have specified is multiple by 1000 and that is used for timeout.But,in case i have not overridden timeout value then it will be -1.</p>\n\n<p><strong>So,when will be timeout occur for default value of -1 .</strong></p>\n\n<p><strong>Does it time out when MySql.Data.MySqlClient.MySqlException: Timeout expired exception is thrown?</strong>\nAny suggestions?</p>\n"},{"tags":["java","sql","postgresql","for-loop","refactoring"],"owner":{"account_id":19772987,"reputation":53,"user_id":14479613,"display_name":"Code Junkie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674506098,"answer_count":0,"score":0,"last_activity_date":1674505954,"creation_date":1674505580,"question_id":75214698,"body_markdown":"In our service, we are currently using a native PostgreSQL query to UPSERT data into our table. We are trying to get rid of a for loop used in our service in order to improve performance, but are having trouble passing a list to our native query. \r\n\r\n\r\nHere is our service layer code:\r\n\r\n            for (UserData userData: userDataList) {\r\n                userDataRepository.saveUserData(userData);\r\n            }\r\n\r\n\r\nThis is how our native query handles the data:\r\n\r\n    @Transactional\r\n    @Modifying\r\n    @Query(value = &quot;INSERT INTO user_table (user_id, user_name, user_data) &quot; +\r\n            &quot;VALUES(:#{#userData.user_id}, :#{#userData.user_name}, cast(:#{#userData.user_data} as jsonb) &quot; +\r\n            &quot;ON CONFLICT(user_id) DO UPDATE SET user_name= :#{#userData.user_name}, user_data= cast(:#{#userData.user_data} as jsonb)&quot;,\r\n            nativeQuery = true)\r\n    public void saveUserData(@Param(&quot;userData&quot;) UserData userData);\r\n\r\n\r\n\r\nWe would like for our service layer to work like:\r\n\r\n    userDataRepository.saveUserData(userDataList);\r\n\r\n\r\nand for our native query method definition to look like:\r\n\r\n    public void saveUserData(@Param(&quot;userData&quot;) List&lt;UserData&gt; userDataList);\r\n\r\nBut we are unsure how to refactor the query to work with this, or if it is even possible.","title":"How to replace for-loop and pass list of object to PostgreSQL native query?","body":"<p>In our service, we are currently using a native PostgreSQL query to UPSERT data into our table. We are trying to get rid of a for loop used in our service in order to improve performance, but are having trouble passing a list to our native query.</p>\n<p>Here is our service layer code:</p>\n<pre><code>        for (UserData userData: userDataList) {\n            userDataRepository.saveUserData(userData);\n        }\n</code></pre>\n<p>This is how our native query handles the data:</p>\n<pre><code>@Transactional\n@Modifying\n@Query(value = &quot;INSERT INTO user_table (user_id, user_name, user_data) &quot; +\n        &quot;VALUES(:#{#userData.user_id}, :#{#userData.user_name}, cast(:#{#userData.user_data} as jsonb) &quot; +\n        &quot;ON CONFLICT(user_id) DO UPDATE SET user_name= :#{#userData.user_name}, user_data= cast(:#{#userData.user_data} as jsonb)&quot;,\n        nativeQuery = true)\npublic void saveUserData(@Param(&quot;userData&quot;) UserData userData);\n</code></pre>\n<p>We would like for our service layer to work like:</p>\n<pre><code>userDataRepository.saveUserData(userDataList);\n</code></pre>\n<p>and for our native query method definition to look like:</p>\n<pre><code>public void saveUserData(@Param(&quot;userData&quot;) List&lt;UserData&gt; userDataList);\n</code></pre>\n<p>But we are unsure how to refactor the query to work with this, or if it is even possible.</p>\n"},{"tags":["java","unit-testing","groovy","spock"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1674479739,"post_id":75210035,"comment_id":132716019,"body_markdown":"If you mock the Utility function you do not test anything, so the test makes no sence","body":"If you mock the Utility function you do not test anything, so the test makes no sence"},{"owner":{"account_id":1463180,"reputation":571,"user_id":1376887,"accept_rate":29,"display_name":"Paris Karagiannopoulos"},"score":0,"creation_date":1674479888,"post_id":75210035,"comment_id":132716078,"body_markdown":"I have a simplified version of the code here, it makes sense for my case, I just need answer for the specific question: how to get the input as output on a mocked static method call","body":"I have a simplified version of the code here, it makes sense for my case, I just need answer for the specific question: how to get the input as output on a mocked static method call"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1674480013,"post_id":75210035,"comment_id":132716125,"body_markdown":"Maybe [this](https://stackoverflow.com/questions/15824315/mock-static-method-with-groovymock-or-similar-in-spock) helps","body":"Maybe <a href=\"https://stackoverflow.com/questions/15824315/mock-static-method-with-groovymock-or-similar-in-spock\">this</a> helps"},{"owner":{"account_id":1463180,"reputation":571,"user_id":1376887,"accept_rate":29,"display_name":"Paris Karagiannopoulos"},"score":0,"creation_date":1674483741,"post_id":75210035,"comment_id":132717440,"body_markdown":"Doesn&#39;t explain how the static method returns its own input as response","body":"Doesn&#39;t explain how the static method returns its own input as response"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1674560018,"post_id":75210035,"comment_id":132735188,"body_markdown":"You cannot mock static Java (or any non-Groovy) methods with Spock out of the box. So either refactor your code to no longer use static utility classes - you already noticed how difficult it is to test them - or you wrap them in non-static facade classes. The least attractive option is to add Mockito, Sarek or another mocking tool of your choice, which is capable of mocking static methods.","body":"You cannot mock static Java (or any non-Groovy) methods with Spock out of the box. So either refactor your code to no longer use static utility classes - you already noticed how difficult it is to test them - or you wrap them in non-static facade classes. The least attractive option is to add Mockito, Sarek or another mocking tool of your choice, which is capable of mocking static methods."}],"answers":[{"tags":[],"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674505636,"creation_date":1674505636,"answer_id":75214707,"question_id":75210035,"body_markdown":"Unless your code is in Groovy, which it apparently isn&#39;t, there is not way to do this with Spock&#39;s built-in mocking.\r\n\r\nHowever, you could use [Mockito to do the static mocking][1]. \r\n\r\nIn general, I advise against doing anything of the sort, as it normally points to issues with the implementation. Consider refactoring your code, so that `Utils.fixMap` actually gets injected, which in turn can then be mocked easily.\r\n\r\n\r\n  [1]: https://www.baeldung.com/mockito-mock-static-methods","title":"How to test method that uses Utility calls and need to return its input?","body":"<p>Unless your code is in Groovy, which it apparently isn't, there is not way to do this with Spock's built-in mocking.</p>\n<p>However, you could use <a href=\"https://www.baeldung.com/mockito-mock-static-methods\" rel=\"nofollow noreferrer\">Mockito to do the static mocking</a>.</p>\n<p>In general, I advise against doing anything of the sort, as it normally points to issues with the implementation. Consider refactoring your code, so that <code>Utils.fixMap</code> actually gets injected, which in turn can then be mocked easily.</p>\n"}],"owner":{"account_id":1463180,"reputation":571,"user_id":1376887,"accept_rate":29,"display_name":"Paris Karagiannopoulos"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674505636,"creation_date":1674479602,"question_id":75210035,"body_markdown":"I have a Java method that looks something like this:\r\n\r\n    public Map&lt;String &lt;Set&lt;Something&gt;&gt; mathod() {\r\n      Map&lt;String, Set&lt;Something&gt;&gt; originalMap = createMap();\r\n        \r\n      return Utils.fixMap(originalMap);\r\n    }\r\n\r\nI have a groovy/spock test and I need to test the method and I need to mock the Utils and make fixMap() return its input.\r\n\r\nOriginally, the Utils method was a service and it was mocked like this:\r\n\r\n    UtilService mock = Mock(UtilService) {\r\n      fixMap(_ as Map) &gt;&gt; { Map input -&gt; return input }\r\n    }\r\n\r\nI can&#39;t figure out how to do it. Please help, thanks in advance.","title":"How to test method that uses Utility calls and need to return its input?","body":"<p>I have a Java method that looks something like this:</p>\n<pre><code>public Map&lt;String &lt;Set&lt;Something&gt;&gt; mathod() {\n  Map&lt;String, Set&lt;Something&gt;&gt; originalMap = createMap();\n    \n  return Utils.fixMap(originalMap);\n}\n</code></pre>\n<p>I have a groovy/spock test and I need to test the method and I need to mock the Utils and make fixMap() return its input.</p>\n<p>Originally, the Utils method was a service and it was mocked like this:</p>\n<pre><code>UtilService mock = Mock(UtilService) {\n  fixMap(_ as Map) &gt;&gt; { Map input -&gt; return input }\n}\n</code></pre>\n<p>I can't figure out how to do it. Please help, thanks in advance.</p>\n"},{"tags":["java","ubuntu","installation","jshell"],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674505362,"creation_date":1674505362,"answer_id":75214667,"question_id":75077275,"body_markdown":"Here are a few things to check with your path dealings Windows -&gt; WSL Ubuntu. On Windows you can confirm where java is found by:\r\n\r\n    echo %Path%\r\n    =&gt; should print list of colon separated folders on your path example:\r\n\r\n    C:\\java\\jdk-20\\bin;etc\r\n\r\n    which java.exe\r\n    =&gt; should print name of java.exe found inside %Path% example:\r\n    C:\\java\\jdk-20\\bin\\java.exe\r\n\r\nWhen you run `wsl.exe` to load WSL Linux distribution the Windows Path is translated to Linux semi-colon separated PATH without drive letters:\r\n\r\n    C:\\java\\jdk-20\\bin;etc =&gt; /mnt/c/linux/jdk-20/bin:etc\r\n\r\nOn WSL Linux check where it looks up PATH:\r\n\r\n    echo $PATH\r\n    =&gt; should print list of colon separated folders on your path:\r\n    /mnt/c/linux/jdk-20/bin:etc\r\n    =&gt; its likely you have 2 JDK in Linux PATH\r\n\r\n    which java.exe\r\n    =&gt; finds &quot;java.exe&quot; of the first JDK in the Linux PATH\r\n\r\nHave a look at any WSL Ubuntu bash profiles which may also override PATH in WSL to see what causes the 2nd JDK in path - typically `~/.bashrc` or `~/.profile` and fix so the later JDK19 is first or only JDK one resolved. \r\n\r\nNote that fixing WSL Linux to access Windows JDK introduces a new issue if you actually need Linux JDK, but you could always use &quot;java&quot; vs &quot;java.exe&quot; from WSL if you need to work in both JDK platforms from Linux.\r\n\r\n","title":"Windows WSL Ubuntu 22 doesn&#39;t recognise the upgraded Java version I installed on Windows","body":"<p>Here are a few things to check with your path dealings Windows -&gt; WSL Ubuntu. On Windows you can confirm where java is found by:</p>\n<pre><code>echo %Path%\n=&gt; should print list of colon separated folders on your path example:\n\nC:\\java\\jdk-20\\bin;etc\n\nwhich java.exe\n=&gt; should print name of java.exe found inside %Path% example:\nC:\\java\\jdk-20\\bin\\java.exe\n</code></pre>\n<p>When you run <code>wsl.exe</code> to load WSL Linux distribution the Windows Path is translated to Linux semi-colon separated PATH without drive letters:</p>\n<pre><code>C:\\java\\jdk-20\\bin;etc =&gt; /mnt/c/linux/jdk-20/bin:etc\n</code></pre>\n<p>On WSL Linux check where it looks up PATH:</p>\n<pre><code>echo $PATH\n=&gt; should print list of colon separated folders on your path:\n/mnt/c/linux/jdk-20/bin:etc\n=&gt; its likely you have 2 JDK in Linux PATH\n\nwhich java.exe\n=&gt; finds &quot;java.exe&quot; of the first JDK in the Linux PATH\n</code></pre>\n<p>Have a look at any WSL Ubuntu bash profiles which may also override PATH in WSL to see what causes the 2nd JDK in path - typically <code>~/.bashrc</code> or <code>~/.profile</code> and fix so the later JDK19 is first or only JDK one resolved.</p>\n<p>Note that fixing WSL Linux to access Windows JDK introduces a new issue if you actually need Linux JDK, but you could always use &quot;java&quot; vs &quot;java.exe&quot; from WSL if you need to work in both JDK platforms from Linux.</p>\n"}],"owner":{"account_id":27488027,"reputation":21,"user_id":20973940,"display_name":"HJ Wang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674505362,"creation_date":1673397503,"question_id":75077275,"body_markdown":"I&#39;m a newbie and am confused over the setup for one of my cs courses. \r\nI originally have Java 8 in both Windows and Ubuntu, but then I realised that I need to use jshell for testing in Ubuntu as well, which is only available for Java 9 and higher.\r\n\r\nHence I downloaded the newest Java 19 on my windows but Ubuntu doesn&#39;t recognise it and still use Java 8.\r\nHow can I go around to update the Java in Ubuntu as well without having to redownload it again?\r\n\r\n\r\n\r\nBelow is on my Ubuntu terminal:\r\n```java\r\nhejin@LAPTOP-8I6A5M2K:~/cs2030s$ java.exe -version\r\njava version &quot;1.8.0_351&quot;\r\nJava(TM) SE Runtime Environment (build 1.8.0_351-b10)\r\nJava HotSpot(TM) 64-Bit Server VM (build 25.351-b10, mixed mode)\r\nhejin@LAPTOP-8I6A5M2K:~/cs2030s$ javac.exe -version\r\njavac 1.8.0_351\r\nhejin@LAPTOP-8I6A5M2K:~/cs2030s$ jshell.exe\r\njshell.exe: command not found\r\nhejin@LAPTOP-8I6A5M2K:~/cs2030s$ jshell\r\nCommand &#39;jshell&#39; not found, but can be installed with:\r\nsudo apt install openjdk-11-jdk-headless  # version 11.0.17+8-1ubuntu2~22.04, or\r\nsudo apt install openjdk-17-jdk-headless  # version 17.0.5+8-2ubuntu1~22.04\r\nsudo apt install openjdk-18-jdk-headless  # version 18.0.2+9-2~22.04\r\nsudo apt install openjdk-19-jdk-headless  # version 19.0.1+10-1ubuntu1~22.04\r\n```\r\n(to be honest I don&#39;t know why it seems others can do fine with just `java Hello.txt` and `javac Hello.txt` but I have to add `.exe` at the back.\r\n\r\nAnd below is my command prompt terminal:\r\n```\r\nC:\\Users\\User&gt;java -version\r\njava version &quot;19.0.1&quot; 2022-10-18\r\nJava(TM) SE Runtime Environment (build 19.0.1+10-21)\r\nJava HotSpot(TM) 64-Bit Server VM (build 19.0.1+10-21, mixed mode, sharing)\r\n\r\nC:\\Users\\User&gt;javac -version\r\njavac 19.0.1\r\n\r\nC:\\Users\\User&gt;jshell -version\r\njshell 19.0.1\r\n\r\nC:\\Users\\User&gt;jshell\r\n|  Welcome to JShell -- Version 19.0.1\r\n|  For an introduction type: /help intro\r\n\r\njshell&gt; 1 + 1\r\n$1 ==&gt; 2\r\n\r\njshell&gt;\r\n```\r\n\r\nI am confused over what some answers I searched online talked about changing the environment variable path as well... When I checked the advanced system settings the jdk19 path seems already there.\r\n[screenshot of my system settings environment variables][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/phyvU.png","title":"Windows WSL Ubuntu 22 doesn&#39;t recognise the upgraded Java version I installed on Windows","body":"<p>I'm a newbie and am confused over the setup for one of my cs courses.\nI originally have Java 8 in both Windows and Ubuntu, but then I realised that I need to use jshell for testing in Ubuntu as well, which is only available for Java 9 and higher.</p>\n<p>Hence I downloaded the newest Java 19 on my windows but Ubuntu doesn't recognise it and still use Java 8.\nHow can I go around to update the Java in Ubuntu as well without having to redownload it again?</p>\n<p>Below is on my Ubuntu terminal:</p>\n<pre class=\"lang-java prettyprint-override\"><code>hejin@LAPTOP-8I6A5M2K:~/cs2030s$ java.exe -version\njava version &quot;1.8.0_351&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_351-b10)\nJava HotSpot(TM) 64-Bit Server VM (build 25.351-b10, mixed mode)\nhejin@LAPTOP-8I6A5M2K:~/cs2030s$ javac.exe -version\njavac 1.8.0_351\nhejin@LAPTOP-8I6A5M2K:~/cs2030s$ jshell.exe\njshell.exe: command not found\nhejin@LAPTOP-8I6A5M2K:~/cs2030s$ jshell\nCommand 'jshell' not found, but can be installed with:\nsudo apt install openjdk-11-jdk-headless  # version 11.0.17+8-1ubuntu2~22.04, or\nsudo apt install openjdk-17-jdk-headless  # version 17.0.5+8-2ubuntu1~22.04\nsudo apt install openjdk-18-jdk-headless  # version 18.0.2+9-2~22.04\nsudo apt install openjdk-19-jdk-headless  # version 19.0.1+10-1ubuntu1~22.04\n</code></pre>\n<p>(to be honest I don't know why it seems others can do fine with just <code>java Hello.txt</code> and <code>javac Hello.txt</code> but I have to add <code>.exe</code> at the back.</p>\n<p>And below is my command prompt terminal:</p>\n<pre><code>C:\\Users\\User&gt;java -version\njava version &quot;19.0.1&quot; 2022-10-18\nJava(TM) SE Runtime Environment (build 19.0.1+10-21)\nJava HotSpot(TM) 64-Bit Server VM (build 19.0.1+10-21, mixed mode, sharing)\n\nC:\\Users\\User&gt;javac -version\njavac 19.0.1\n\nC:\\Users\\User&gt;jshell -version\njshell 19.0.1\n\nC:\\Users\\User&gt;jshell\n|  Welcome to JShell -- Version 19.0.1\n|  For an introduction type: /help intro\n\njshell&gt; 1 + 1\n$1 ==&gt; 2\n\njshell&gt;\n</code></pre>\n<p>I am confused over what some answers I searched online talked about changing the environment variable path as well... When I checked the advanced system settings the jdk19 path seems already there.\n<a href=\"https://i.stack.imgur.com/phyvU.png\" rel=\"nofollow noreferrer\">screenshot of my system settings environment variables</a></p>\n"},{"tags":["java","spring","log4j2","spring-boot-admin"],"answers":[{"tags":[],"owner":{"account_id":7702421,"reputation":2638,"user_id":5834477,"display_name":"joshiste"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1500151511,"creation_date":1500151511,"answer_id":45122583,"question_id":45006722,"body_markdown":"you need to make sure the `/logfile`-endpoint from spring boot actguator is active. For example by setting the `logging.file` property. You can also configure a non-boot managed logfile by using `endpoints.logfile.external-file`.","title":"How to show logfile in spring-boot-admin?","body":"<p>you need to make sure the <code>/logfile</code>-endpoint from spring boot actguator is active. For example by setting the <code>logging.file</code> property. You can also configure a non-boot managed logfile by using <code>endpoints.logfile.external-file</code>.</p>\n"},{"tags":[],"owner":{"account_id":10712392,"reputation":11,"user_id":7888917,"display_name":"Simon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642579599,"creation_date":1642288092,"answer_id":70726150,"question_id":45006722,"body_markdown":"It is enough just to add a property file to the `application.properties` \r\n\r\n    &quot;logging.file.name=logging.txt&quot;.\r\n\r\nP.S. The name of the file and its extension to test.","title":"How to show logfile in spring-boot-admin?","body":"<p>It is enough just to add a property file to the <code>application.properties</code></p>\n<pre><code>&quot;logging.file.name=logging.txt&quot;.\n</code></pre>\n<p>P.S. The name of the file and its extension to test.</p>\n"},{"tags":[],"owner":{"account_id":3329148,"reputation":162,"user_id":2798461,"display_name":"bvn13"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674504433,"creation_date":1674504433,"answer_id":75214534,"question_id":45006722,"body_markdown":"Both options mentioned in other answers need:\r\n\r\n1) &#39;logfile&#39; actuator endpoint exposing\r\n\r\n```\r\nmanagement:\r\n  endpoints:\r\n    web:\r\n      exposure:\r\n         include: logfile\r\n  endpoint:\r\n    logfile: \r\n      enabled: true\r\n```\r\n\r\n2) adding log file in section &#39;logging&#39;:\r\n\r\n```\r\nlogging:\r\n  file:\r\n    name: logging.txt # ant name\r\n```\r\n\r\n","title":"How to show logfile in spring-boot-admin?","body":"<p>Both options mentioned in other answers need:</p>\n<ol>\n<li>'logfile' actuator endpoint exposing</li>\n</ol>\n<pre><code>management:\n  endpoints:\n    web:\n      exposure:\n         include: logfile\n  endpoint:\n    logfile: \n      enabled: true\n</code></pre>\n<ol start=\"2\">\n<li>adding log file in section 'logging':</li>\n</ol>\n<pre><code>logging:\n  file:\n    name: logging.txt # ant name\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11088,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1674504433,"creation_date":1499673792,"question_id":45006722,"body_markdown":"I&#39;m using `spring-boot-admin-ui` to monitor my web applications.\r\nLogging is configured with `log4j2`, in `log4j2-spring.xml`.\r\n\r\nQuestion: how can I show those logfiles in admin-ui? As far as I read it could display `logback` out of the box. But how can I enable `log4j2` support, if possible at all?\r\n\r\nThe logfile is like:\r\n\r\n&lt;Configuration&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;RollingRandomAccessFile name=&quot;APP&quot; ...&gt;\r\n            &lt;Filters ...&gt;\r\n            &lt;Policies ...&gt;\r\n        &lt;/RollingRandomAccessFile&gt;\r\n        &lt;RollingRandomAccessFile name=&quot;XML&quot; ...&gt;\r\n    &lt;/Appenders&gt;\r\n\r\n    &lt;Loggers&gt;\r\n       &lt;Root level=&quot;DEBUG&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;APP&quot; /&gt;\r\n            &lt;AppenderRef ref=&quot;XML&quot; /&gt;\r\n            &lt;AppenderRef ... /&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n\r\nI&#39;d like to see the last X lines of the logfiles in admin-ui, or being able to directly download them via ui.","title":"How to show logfile in spring-boot-admin?","body":"<p>I'm using <code>spring-boot-admin-ui</code> to monitor my web applications.\nLogging is configured with <code>log4j2</code>, in <code>log4j2-spring.xml</code>.</p>\n\n<p>Question: how can I show those logfiles in admin-ui? As far as I read it could display <code>logback</code> out of the box. But how can I enable <code>log4j2</code> support, if possible at all?</p>\n\n<p>The logfile is like:</p>\n\n<p>\n    \n        \n            \n            \n        \n        \n    </p>\n\n<pre><code>&lt;Loggers&gt;\n   &lt;Root level=\"DEBUG\"&gt;\n        &lt;AppenderRef ref=\"APP\" /&gt;\n        &lt;AppenderRef ref=\"XML\" /&gt;\n        &lt;AppenderRef ... /&gt;\n    &lt;/Root&gt;\n&lt;/Loggers&gt;\n</code></pre>\n\n<p></p>\n\n<p>I'd like to see the last X lines of the logfiles in admin-ui, or being able to directly download them via ui.</p>\n"},{"tags":["java","android","arraylist"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":3,"creation_date":1457800550,"post_id":35960300,"comment_id":59575836,"body_markdown":"Since I don&#39;t see overriding of `equals` method in `Member` class I suspect that your lists doesn&#39;t contain same objects but only similar ones (with similar states).","body":"Since I don&#39;t see overriding of <code>equals</code> method in <code>Member</code> class I suspect that your lists doesn&#39;t contain same objects but only similar ones (with similar states)."},{"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":1,"creation_date":1457800658,"post_id":35960300,"comment_id":59575875,"body_markdown":"You haven&#39;t included enough information in your question, but at a guess, you have different (but equivalent) `Member` objects in the lists. As Pshemo said, since you haven&#39;t defined `equals` for `Member`, it will use `Object`&#39;s `equals`, which won&#39;t be true for equivalent `Member` objects. You need to override `equals` (and thus also `hashCode`).","body":"You haven&#39;t included enough information in your question, but at a guess, you have different (but equivalent) <code>Member</code> objects in the lists. As Pshemo said, since you haven&#39;t defined <code>equals</code> for <code>Member</code>, it will use <code>Object</code>&#39;s <code>equals</code>, which won&#39;t be true for equivalent <code>Member</code> objects. You need to override <code>equals</code> (and thus also <code>hashCode</code>)."}],"answers":[{"tags":[],"owner":{"account_id":1383921,"reputation":25814,"user_id":1316346,"accept_rate":99,"display_name":"Kevin DiTraglia"},"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1457802880,"creation_date":1457800706,"answer_id":35960359,"question_id":35960300,"body_markdown":"How are 2 members determined to be equal?  I&#39;m guessing if they have the same ID, you deem them equal, however java wants them to be the exact same reference in memory which may not be the case.  To correct for this you can override the `equals` function to have it return if the ids are equal:\r\n\r\n    public class Member {\r\n        //..\r\n\r\n        @Override\r\n        public boolean equals(Object anObject) {\r\n            if (!(anObject instanceof Member)) {\r\n                return false;\r\n            }\r\n            Member otherMember = (Member)anObject;\r\n            return otherMember.getUserUID().equals(getUserUID());\r\n        }\r\n    }\r\n\r\nAlso when you override `.equals` it is recommended to also override `hashCode` so that the objects also work correctly in hashing functions like `Set` or `Map`.","title":"ArrayList removeAll() not removing objects","body":"<p>How are 2 members determined to be equal?  I'm guessing if they have the same ID, you deem them equal, however java wants them to be the exact same reference in memory which may not be the case.  To correct for this you can override the <code>equals</code> function to have it return if the ids are equal:</p>\n\n<pre><code>public class Member {\n    //..\n\n    @Override\n    public boolean equals(Object anObject) {\n        if (!(anObject instanceof Member)) {\n            return false;\n        }\n        Member otherMember = (Member)anObject;\n        return otherMember.getUserUID().equals(getUserUID());\n    }\n}\n</code></pre>\n\n<p>Also when you override <code>.equals</code> it is recommended to also override <code>hashCode</code> so that the objects also work correctly in hashing functions like <code>Set</code> or <code>Map</code>.</p>\n"},{"tags":[],"owner":{"account_id":1960617,"reputation":1091,"user_id":1762325,"accept_rate":100,"display_name":"M.S."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1546318229,"creation_date":1457800832,"answer_id":35960383,"question_id":35960300,"body_markdown":"As mentioned in the comments, elements from the `ArrayList` will only be removed if their `equals()` method returns true. The non-overridden method checks for equality based on reference (i.e. they must be the same object in memory).\r\n\r\nWhat you probably want is to override `equals` to be based on the properties of `Member`, such as in the example below:\r\n\r\n    @Override\r\n    public void equals(Object o) {\r\n        if(o == null) {\r\n            return false;\r\n        } else if (!(o instanceof Member)) {\r\n            return false;\r\n        } else {\r\n            return ((Member) o).getUserUID().equals(this.userUID) &amp;&amp; ((Member) o).getUserName().equals(this.userName);\r\n        }\r\n    }\r\n\r\nIn addition, you should override `hashCode()` when overriding `equals()` so that when two objects are equal, they have the same hash code. The non-overriden implementation of hashCode is also based on equality by reference.","title":"ArrayList removeAll() not removing objects","body":"<p>As mentioned in the comments, elements from the <code>ArrayList</code> will only be removed if their <code>equals()</code> method returns true. The non-overridden method checks for equality based on reference (i.e. they must be the same object in memory).</p>\n\n<p>What you probably want is to override <code>equals</code> to be based on the properties of <code>Member</code>, such as in the example below:</p>\n\n<pre><code>@Override\npublic void equals(Object o) {\n    if(o == null) {\n        return false;\n    } else if (!(o instanceof Member)) {\n        return false;\n    } else {\n        return ((Member) o).getUserUID().equals(this.userUID) &amp;&amp; ((Member) o).getUserName().equals(this.userName);\n    }\n}\n</code></pre>\n\n<p>In addition, you should override <code>hashCode()</code> when overriding <code>equals()</code> so that when two objects are equal, they have the same hash code. The non-overriden implementation of hashCode is also based on equality by reference.</p>\n"},{"tags":[],"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1674503703,"creation_date":1457800867,"answer_id":35960394,"question_id":35960300,"body_markdown":"You have to understand the sequence of invocation underneath it\r\n\r\n```\r\n -&gt; ArrayList#removeAll(Collection)\r\n |\r\n | calls\r\n |  \r\n |--&gt; ArrayList#contains(Object)\r\n   |\r\n   | calls\r\n   |\r\n   |--&gt; ArrayList#indexOf(Object)\r\n     |\r\n     | calls\r\n     |\r\n     |--&gt; Object#equals\r\n```\r\n\r\n--------\r\n\r\nSo if `equals` is not correctly overridden ([following the `equals` contract rules][1]), you&#39;re not getting the correct behaviour.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html","title":"ArrayList removeAll() not removing objects","body":"<p>You have to understand the sequence of invocation underneath it</p>\n<pre><code> -&gt; ArrayList#removeAll(Collection)\n |\n | calls\n |  \n |--&gt; ArrayList#contains(Object)\n   |\n   | calls\n   |\n   |--&gt; ArrayList#indexOf(Object)\n     |\n     | calls\n     |\n     |--&gt; Object#equals\n</code></pre>\n<hr />\n<p>So if <code>equals</code> is not correctly overridden (<a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html\" rel=\"nofollow noreferrer\">following the <code>equals</code> contract rules</a>), you're not getting the correct behaviour.</p>\n"}],"owner":{"account_id":3476694,"reputation":6469,"user_id":2909692,"accept_rate":55,"display_name":"Sauron"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25962,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":35960359,"answer_count":3,"score":14,"last_activity_date":1674504302,"creation_date":1457800391,"question_id":35960300,"body_markdown":"I have the simple ArrayLists of the member class:\r\n\r\n    ArrayList&lt;Member&gt; mGroupMembers = new ArrayList&lt;&gt;();\r\n    ArrayList&lt;Member&gt; mFriends = new ArrayList&lt;&gt;();\r\n\r\nMember class:\r\n\r\n    public class Member {\r\n        private String userUID;\r\n        private String userName;\r\n    \r\n        public String getUserUID() {\r\n            return userUID;\r\n        }\r\n    \r\n        public String getUserName() {\r\n            return userName;\r\n        }\r\n    \r\n        public void setUserName(String userName) {\r\n            this.userName = userName;\r\n        }\r\n    \r\n        public void setUserUID(String userUID) {\r\n            this.userUID = userUID;\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nThe ArrayList for friends contains all the users friends. What I simply wish to do is remove from the friends list, group members if present with:\r\n\r\n    mFriends.removeAll(mGroupMembers);\r\n\r\n\r\nYet it does nothing to the `mFriends` list...\r\n\r\nLooking at the log statements, the friend does in fact appear within the `mGroupMember` list.\r\n\r\nWhy doesn&#39;t this work?\r\n\r\n","title":"ArrayList removeAll() not removing objects","body":"<p>I have the simple ArrayLists of the member class:</p>\n\n<pre><code>ArrayList&lt;Member&gt; mGroupMembers = new ArrayList&lt;&gt;();\nArrayList&lt;Member&gt; mFriends = new ArrayList&lt;&gt;();\n</code></pre>\n\n<p>Member class:</p>\n\n<pre><code>public class Member {\n    private String userUID;\n    private String userName;\n\n    public String getUserUID() {\n        return userUID;\n    }\n\n    public String getUserName() {\n        return userName;\n    }\n\n    public void setUserName(String userName) {\n        this.userName = userName;\n    }\n\n    public void setUserUID(String userUID) {\n        this.userUID = userUID;\n    }\n\n\n}\n</code></pre>\n\n<p>The ArrayList for friends contains all the users friends. What I simply wish to do is remove from the friends list, group members if present with:</p>\n\n<pre><code>mFriends.removeAll(mGroupMembers);\n</code></pre>\n\n<p>Yet it does nothing to the <code>mFriends</code> list...</p>\n\n<p>Looking at the log statements, the friend does in fact appear within the <code>mGroupMember</code> list.</p>\n\n<p>Why doesn't this work?</p>\n"},{"tags":["java","spring-boot","scala","gradle","sbt"],"comments":[{"owner":{"account_id":14596839,"reputation":47,"user_id":10542273,"display_name":"LearningCoding"},"score":0,"creation_date":1674504507,"post_id":75214351,"comment_id":132724189,"body_markdown":"The URL is correct for the variable $repositoryUrl. And also other internal libraries are downloaded.","body":"The URL is correct for the variable $repositoryUrl. And also other internal libraries are downloaded."}],"answers":[{"tags":[],"owner":{"account_id":14889478,"reputation":124,"user_id":10751633,"display_name":"bosowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674504219,"creation_date":1674504219,"answer_id":75214498,"question_id":75214351,"body_markdown":"You are using a `repositoryUrl` variable for defining the URL of the maven repository from where the library would be downloaded. Where are you defining that variable? My guess is that the variable is not assigned and hence the repo URL is invalid.\r\n\r\nYou can try putting a breakpoint on the `url &quot;$repositoryUrl&quot;;` line, run the gradle build in debug mode and inspect the value of the variable to make sure that it is indeed assigned.","title":"Unable to download specific scala library in the SpringBoot project","body":"<p>You are using a <code>repositoryUrl</code> variable for defining the URL of the maven repository from where the library would be downloaded. Where are you defining that variable? My guess is that the variable is not assigned and hence the repo URL is invalid.</p>\n<p>You can try putting a breakpoint on the <code>url &quot;$repositoryUrl&quot;;</code> line, run the gradle build in debug mode and inspect the value of the variable to make sure that it is indeed assigned.</p>\n"}],"owner":{"account_id":14596839,"reputation":47,"user_id":10542273,"display_name":"LearningCoding"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674504219,"creation_date":1674503348,"question_id":75214351,"body_markdown":"I am using springBoot:3.0.1 project with Java 17. Only one specific scala library is not downloading from the internal repo. But other libraries including Java and scala are downloaded. \r\n\r\nHere is the gradle.build file\r\n\r\n    buildscript {\r\n    \trepositories {\r\n    \t\tmaven {\r\n    \t\t\turl &quot;$repositoryUrl&quot;;\r\n    \t\t\tallowInsecureProtocol = true\r\n    \t\t}\r\n    \t}\r\n    \tdependencies {\r\n    \t\tclasspath &quot;org.scala-tools:maven-scala-plugin:2.15.2&quot;\r\n    \t}\r\n    }\r\n    plugins {\r\n    \tid &#39;java&#39;\r\n    \tid &#39;org.springframework.boot&#39; version &#39;3.0.1&#39;\r\n    \tid &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n        id &#39;scala&#39;\r\n    }\r\n    apply plugin: &#39;io.spring.dependency-management&#39;\r\n    apply plugin: &quot;scala&quot;\r\n    \r\n    scala {\r\n    \tversion = &quot;2.11.8&quot;\r\n    }\r\n    \r\n    repositories {\r\n    \tmaven {\r\n    \t\turl &quot;$repositoryUrl&quot;;\r\n    \t\tallowInsecureProtocol = true\r\n    \t}\r\n    \tmavenCentral()\r\n    }\r\n    \r\n    \r\n    sourceCompatibility = &#39;17&#39;\r\n    \r\n    dependencies {\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    \t\r\n\r\n        implementation &quot;org.scala-lang:scala-library:2.11.8&quot;\r\n    \t// this is the scala lib which is available in the repo.\r\n        implementation &#39;com.myScalaLibrary.libok:my-lib-utils:1.0.1&#39;\r\n\r\n    \ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    }\r\n      \r\n\r\nNow the scala library build in scala version 2.11.8 and java version 1.8\r\n\r\nThe error:\r\n\r\n    Caused by: org.gradle.internal.resolve.ModuleVersionNotFoundException: Could not find com.myScalaLibrary.libok:my-lib-utils:1.0.1.\r\n    Required by:\r\n        project :\r\n\r\n","title":"Unable to download specific scala library in the SpringBoot project","body":"<p>I am using springBoot:3.0.1 project with Java 17. Only one specific scala library is not downloading from the internal repo. But other libraries including Java and scala are downloaded.</p>\n<p>Here is the gradle.build file</p>\n<pre><code>buildscript {\n    repositories {\n        maven {\n            url &quot;$repositoryUrl&quot;;\n            allowInsecureProtocol = true\n        }\n    }\n    dependencies {\n        classpath &quot;org.scala-tools:maven-scala-plugin:2.15.2&quot;\n    }\n}\nplugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.0.1'\n    id 'io.spring.dependency-management' version '1.1.0'\n    id 'scala'\n}\napply plugin: 'io.spring.dependency-management'\napply plugin: &quot;scala&quot;\n\nscala {\n    version = &quot;2.11.8&quot;\n}\n\nrepositories {\n    maven {\n        url &quot;$repositoryUrl&quot;;\n        allowInsecureProtocol = true\n    }\n    mavenCentral()\n}\n\n\nsourceCompatibility = '17'\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    \n\n    implementation &quot;org.scala-lang:scala-library:2.11.8&quot;\n    // this is the scala lib which is available in the repo.\n    implementation 'com.myScalaLibrary.libok:my-lib-utils:1.0.1'\n\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n  \n</code></pre>\n<p>Now the scala library build in scala version 2.11.8 and java version 1.8</p>\n<p>The error:</p>\n<pre><code>Caused by: org.gradle.internal.resolve.ModuleVersionNotFoundException: Could not find com.myScalaLibrary.libok:my-lib-utils:1.0.1.\nRequired by:\n    project :\n</code></pre>\n"},{"tags":["java","websocket","performance-testing","load-testing","gatling"],"answers":[{"tags":[],"owner":{"account_id":6852429,"reputation":6319,"user_id":5269205,"display_name":"St&#233;phane LANDELLE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674503864,"creation_date":1674503864,"answer_id":75214430,"question_id":75200555,"body_markdown":"`forever` is not possible.\r\nGatling&#39;s WebSocket DSL expects you to define the number of expected messages, see https://gatling.io/docs/gatling/reference/current/http/websocket/#set-a-check.\r\n\r\n```\r\nexec(ws(&quot;Send&quot;).sendText(&quot;hello&quot;)\r\n  .await(15).on(wsCheck1)\r\n  .await(15).on(wsCheck2)\r\n  ...\r\n  .await(15).on(wsCheck10000)\r\n);\r\n```\r\n\r\nYou can create that many checks with a method and a loop, but it has to be a finite loop with a fixed number of iterations.","title":"Gatling receive from websocket forever","body":"<p><code>forever</code> is not possible.\nGatling's WebSocket DSL expects you to define the number of expected messages, see <a href=\"https://gatling.io/docs/gatling/reference/current/http/websocket/#set-a-check\" rel=\"nofollow noreferrer\">https://gatling.io/docs/gatling/reference/current/http/websocket/#set-a-check</a>.</p>\n<pre><code>exec(ws(&quot;Send&quot;).sendText(&quot;hello&quot;)\n  .await(15).on(wsCheck1)\n  .await(15).on(wsCheck2)\n  ...\n  .await(15).on(wsCheck10000)\n);\n</code></pre>\n<p>You can create that many checks with a method and a loop, but it has to be a finite loop with a fixed number of iterations.</p>\n"}],"owner":{"account_id":4324621,"reputation":853,"user_id":3531777,"accept_rate":60,"display_name":"vahidreza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674503864,"creation_date":1674391728,"question_id":75200555,"body_markdown":"I have a web application that allows clients to establish websocket connection on it and subscribe to different topics.\r\nWhenever an event happens on a topic, the server pushes a notification message of the event to all subscribed clients.\r\n\r\nFrom the client perspective, each client connects to the websocket, sends some messages to subscribe to the desired topics and then listen to the websocket forever whether the server pushes any message or not. \r\n\r\n \r\nThe rate of events on the server side is on my control, then I want to measure the rate of messages received by the clients.\r\n\r\nIs it possible to define this scenario with Gatling?\r\nAny help would be appreciated.\r\n","title":"Gatling receive from websocket forever","body":"<p>I have a web application that allows clients to establish websocket connection on it and subscribe to different topics.\nWhenever an event happens on a topic, the server pushes a notification message of the event to all subscribed clients.</p>\n<p>From the client perspective, each client connects to the websocket, sends some messages to subscribe to the desired topics and then listen to the websocket forever whether the server pushes any message or not.</p>\n<p>The rate of events on the server side is on my control, then I want to measure the rate of messages received by the clients.</p>\n<p>Is it possible to define this scenario with Gatling?\nAny help would be appreciated.</p>\n"},{"tags":["java","xml","spring","spring-el"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1505481507,"creation_date":1505480869,"answer_id":46240360,"question_id":46235311,"body_markdown":"Try\r\n\r\n    class=&quot;#{&#39;${my.config}&#39;.equals(&#39;true&#39;) ? &#39;path.to.MyBeanImplOne&#39; : &#39;path.to.MyBeanImplTwo&#39;}&quot;\r\n\r\n\r\n__EDIT__\r\n\r\nThis works for me...\r\n\r\n\t&lt;bean id=&quot;foo&quot; class=&quot;#{&#39;${my.config}&#39;.equals(&#39;true&#39;) ? &#39;java.lang.Integer&#39; : &#39;java.lang.String&#39;}&quot;&gt;\r\n\t\t&lt;constructor-arg value=&quot;1&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n","title":"Access application properties within SpEL in Spring xml configuration","body":"<p>Try</p>\n\n<pre><code>class=\"#{'${my.config}'.equals('true') ? 'path.to.MyBeanImplOne' : 'path.to.MyBeanImplTwo'}\"\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>This works for me...</p>\n\n<pre><code>&lt;bean id=\"foo\" class=\"#{'${my.config}'.equals('true') ? 'java.lang.Integer' : 'java.lang.String'}\"&gt;\n    &lt;constructor-arg value=\"1\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1519696,"reputation":7,"user_id":1419728,"display_name":"Raytray"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674502545,"creation_date":1674502545,"answer_id":75214241,"question_id":46235311,"body_markdown":"You cannot use SpEL in application.properties file unfortunately.\r\n\r\n[Documentation][1]\r\n\r\n&gt; SpEL expressions from application property files are not processed at time of parsing these files and populating the environment. However, it is possible to write a SpEL expression in @Value. If the value of a property from an application property file is a SpEL expression, it will be evaluated when consumed through @Value.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/2.7.3/reference/htmlsingle/#features.external-config.typesafe-configuration-properties.vs-value-annotation.\r\n\r\n","title":"Access application properties within SpEL in Spring xml configuration","body":"<p>You cannot use SpEL in application.properties file unfortunately.</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/2.7.3/reference/htmlsingle/#features.external-config.typesafe-configuration-properties.vs-value-annotation.\" rel=\"nofollow noreferrer\">Documentation</a></p>\n<blockquote>\n<p>SpEL expressions from application property files are not processed at time of parsing these files and populating the environment. However, it is possible to write a SpEL expression in @Value. If the value of a property from an application property file is a SpEL expression, it will be evaluated when consumed through @Value.</p>\n</blockquote>\n"}],"owner":{"account_id":5050019,"reputation":1602,"user_id":4054878,"display_name":"Ntokozo Zwane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7238,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":46240360,"answer_count":2,"score":4,"last_activity_date":1674502545,"creation_date":1505464909,"question_id":46235311,"body_markdown":"I&#39;m trying to configure a spring bean based on an application property, my end goal is described in the following pseudo code:\r\n\r\n    if ${my.config}\r\n        &lt;bean id=&quot;myBean&quot; class=&quot;path.to.MyBeanImplOne&quot; /&gt;\r\n    else\r\n        &lt;bean id=&quot;myBean&quot; class=&quot;path.to.MyBeanImplTwo&quot; /&gt;\r\n    end\r\nwhere `my.config` is a boolean property.\r\nAccording to [this][4] SpEL guide, `#{${my.config} ? &#39;path.to.MyBeanImplOne&#39; : &#39;path.to.MyBeanImplTwo&#39;}` is a valid expression, so I tried the following configuration:\r\n\r\n    &lt;bean id=&quot;myBean&quot; class=&quot;#{${my.config} ? &#39;path.to.MyBeanImplOne&#39; : &#39;path.to.MyBeanImplTwo&#39;}&quot; /&gt;\r\n\r\nbut got the following exception:\r\n\r\n    Expression parsing failed; nested exception is org.springframework.expression.spel.SpelParseException: EL1041E: After parsing a valid expression, there is still more data in the expression: &#39;lcurly({)&#39;\r\n\r\nI can&#39;t find documentation for accessing properties in SpEL expressions for xml configuration. Is this supported only in Java configuration?\r\n\r\nI&#39;ve seen a number of proposed solutions to my problem (some of which are in this [question][1]). I&#39;d like to not use [systemProperties][2] since I feel this sort of configuration should not be specified a run arguments, and I feel the use of [profiles][3] is overkill for this particular use case.\r\n\r\nHas someone been able to do what I&#39;ve attempted successfully? Or can someone confirm whether or not the syntax I&#39;ve tried to use is indeed not supported in xml configuration.\r\n\r\n  [1]: https://stackoverflow.com/questions/23872644/conditional-spring-configuration\r\n  [2]: https://docs.spring.io/spring/docs/current/spring-framework-reference/html/expressions.html#expressions-beandef-xml-based\r\n  [3]: http://spring.io/blog/2011/02/11/spring-framework-3-1-m1-released#enter-bean-definition-profiles\r\n  [4]: http://www.baeldung.com/spring-expression-language","title":"Access application properties within SpEL in Spring xml configuration","body":"<p>I'm trying to configure a spring bean based on an application property, my end goal is described in the following pseudo code:</p>\n\n<pre><code>if ${my.config}\n    &lt;bean id=\"myBean\" class=\"path.to.MyBeanImplOne\" /&gt;\nelse\n    &lt;bean id=\"myBean\" class=\"path.to.MyBeanImplTwo\" /&gt;\nend\n</code></pre>\n\n<p>where <code>my.config</code> is a boolean property.\nAccording to <a href=\"http://www.baeldung.com/spring-expression-language\" rel=\"nofollow noreferrer\">this</a> SpEL guide, <code>#{${my.config} ? 'path.to.MyBeanImplOne' : 'path.to.MyBeanImplTwo'}</code> is a valid expression, so I tried the following configuration:</p>\n\n<pre><code>&lt;bean id=\"myBean\" class=\"#{${my.config} ? 'path.to.MyBeanImplOne' : 'path.to.MyBeanImplTwo'}\" /&gt;\n</code></pre>\n\n<p>but got the following exception:</p>\n\n<pre><code>Expression parsing failed; nested exception is org.springframework.expression.spel.SpelParseException: EL1041E: After parsing a valid expression, there is still more data in the expression: 'lcurly({)'\n</code></pre>\n\n<p>I can't find documentation for accessing properties in SpEL expressions for xml configuration. Is this supported only in Java configuration?</p>\n\n<p>I've seen a number of proposed solutions to my problem (some of which are in this <a href=\"https://stackoverflow.com/questions/23872644/conditional-spring-configuration\">question</a>). I'd like to not use <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/html/expressions.html#expressions-beandef-xml-based\" rel=\"nofollow noreferrer\">systemProperties</a> since I feel this sort of configuration should not be specified a run arguments, and I feel the use of <a href=\"http://spring.io/blog/2011/02/11/spring-framework-3-1-m1-released#enter-bean-definition-profiles\" rel=\"nofollow noreferrer\">profiles</a> is overkill for this particular use case.</p>\n\n<p>Has someone been able to do what I've attempted successfully? Or can someone confirm whether or not the syntax I've tried to use is indeed not supported in xml configuration.</p>\n"},{"tags":["java","mockito","junit-jupiter"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":1,"creation_date":1674502722,"post_id":75214239,"comment_id":132723673,"body_markdown":"Why would the code go into the service method? You&#39;re mocking the service. that will result in `null` results from all method calls on it if you don&#39;t mock them as well.","body":"Why would the code go into the service method? You&#39;re mocking the service. that will result in <code>null</code> results from all method calls on it if you don&#39;t mock them as well."},{"owner":{"account_id":1511851,"reputation":999,"user_id":1413756,"accept_rate":37,"display_name":"Dan"},"score":0,"creation_date":1674502854,"post_id":75214239,"comment_id":132723711,"body_markdown":"I&#39;ve previously been able to get into a `Service`s methods from a `Controller`, however for some reason I cannot with this test.  I&#39;m missing something... but I cannot figure it out.  My end goal is to write conditions for the `Cache` and let the `service` and `controller` execute as normal.","body":"I&#39;ve previously been able to get into a <code>Service</code>s methods from a <code>Controller</code>, however for some reason I cannot with this test.  I&#39;m missing something... but I cannot figure it out.  My end goal is to write conditions for the <code>Cache</code> and let the <code>service</code> and <code>controller</code> execute as normal."},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1674503448,"post_id":75214239,"comment_id":132723883,"body_markdown":"If you want them autowired, you need to run a Spring test (or whatever your DI framework is); but then you can&#39;t (or don&#39;t need to) mock them.","body":"If you want them autowired, you need to run a Spring test (or whatever your DI framework is); but then you can&#39;t (or don&#39;t need to) mock them."},{"owner":{"account_id":1511851,"reputation":999,"user_id":1413756,"accept_rate":37,"display_name":"Dan"},"score":0,"creation_date":1674503555,"post_id":75214239,"comment_id":132723921,"body_markdown":"I dont want them autowired, I want them mocked so I can set up conditions for them.\n\nMy end goal is to set conditions for the cache and then allow the execution to run as it normally would hitting the `controller` which would call the `service` method `getUserProps`.  My condition (when(service.getUserProps()).thenReturn(...)) would then return the values I&#39;d like to test","body":"I dont want them autowired, I want them mocked so I can set up conditions for them.  My end goal is to set conditions for the cache and then allow the execution to run as it normally would hitting the <code>controller</code> which would call the <code>service</code> method <code>getUserProps</code>.  My condition (when(service.getUserProps()).thenReturn(...)) would then return the values I&#39;d like to test"},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1674503724,"post_id":75214239,"comment_id":132723979,"body_markdown":"Then you need to mock the method calls as well, and you will not enter the actual `UserServiceImpl` method implementation. To do that, you need to set up a test for that class, not the controller.","body":"Then you need to mock the method calls as well, and you will not enter the actual <code>UserServiceImpl</code> method implementation. To do that, you need to set up a test for that class, not the controller."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1674543902,"post_id":75214239,"comment_id":132730643,"body_markdown":"&quot;I want the service mocked&quot; and &quot;I want to have the real service called&quot; is a contradiction. When you have `@Mock UserService service`, then `UserServiceImpl` is never loaded nor executed by your test -&gt; there cannot be any call to the cache.","body":"&quot;I want the service mocked&quot; and &quot;I want to have the real service called&quot; is a contradiction. When you have <code>@Mock UserService service</code>, then <code>UserServiceImpl</code> is never loaded nor executed by your test -&gt; there cannot be any call to the cache."},{"owner":{"account_id":1511851,"reputation":999,"user_id":1413756,"accept_rate":37,"display_name":"Dan"},"score":0,"creation_date":1674561687,"post_id":75214239,"comment_id":132735734,"body_markdown":"It can be Spied","body":"It can be Spied"}],"owner":{"account_id":1511851,"reputation":999,"user_id":1413756,"accept_rate":37,"display_name":"Dan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":383,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674502523,"creation_date":1674502523,"question_id":75214239,"body_markdown":"I have a `Controller` that calls a `Service` which reads from a global Cache and returns some values.  I&#39;m trying to create a unit test around it, but my service calls keeps returning null.  What am I doing wrong with my mocks???\r\n\r\n\r\nController class\r\n\r\n    public UserController {\r\n      ...\r\n      @Autowired\r\n      private UserService service;\r\n    \r\n      // GetMapping, etc\r\n      public ResponseEntity&lt;Object&gt; getAllUserProps(){\r\n          // Some setup\r\n          // calling service to get user props\r\n          Map props = service.getUserProps();\r\n          // return it in a ResponseEntity\r\n       }\r\n    }\r\n\r\n\r\n\r\nService class\r\n\r\n    public UserServiceImpl implements UserService {\r\n       @Autowired\r\n       private UserCache userCache;\r\n    \r\n       ...\r\n       @Override\r\n       public Map getUserProps(){\r\n           Map&lt;String, CacheResult&gt; result = userCache.asMap();\r\n           // loop over map and pull out CacheResult by users unique Id\r\n           // Transfer CacheResult to Map&lt;String, Object&gt; and return\r\n       }\r\n    \r\n    }\r\n\r\nJunit Test\r\n\r\n    public ControllerTest {\r\n    \r\n       @InjectMocks \r\n       UserController userController;\r\n       \r\n       @Mock\r\n       UserService userService;\r\n       \r\n       @Mock\r\n       UserCache userCache\r\n\r\n       @Mock ...\r\n       @Mock ...\r\n    \r\n       @Test\r\n       void testGettingUserProps {\r\n          // setup conditions\r\n          ResponseEntity&lt;Object&gt; result = userController.getAllUserProps();\r\n          // results is always null and it&#39;s never getting into the service&#39;s \r\n          // method even after I&#39;ve set mock conditions for the &quot;userCache&quot;\r\n       }\r\n}\r\n\r\n\r\nI&#39;ve been at this for hours and I cannot seem to get the code to go into `UserServices`&#39;s `getUserProps` method.  What am I doing wrong?`","title":"Test service method from mocked controller returning null","body":"<p>I have a <code>Controller</code> that calls a <code>Service</code> which reads from a global Cache and returns some values.  I'm trying to create a unit test around it, but my service calls keeps returning null.  What am I doing wrong with my mocks???</p>\n<p>Controller class</p>\n<pre><code>public UserController {\n  ...\n  @Autowired\n  private UserService service;\n\n  // GetMapping, etc\n  public ResponseEntity&lt;Object&gt; getAllUserProps(){\n      // Some setup\n      // calling service to get user props\n      Map props = service.getUserProps();\n      // return it in a ResponseEntity\n   }\n}\n</code></pre>\n<p>Service class</p>\n<pre><code>public UserServiceImpl implements UserService {\n   @Autowired\n   private UserCache userCache;\n\n   ...\n   @Override\n   public Map getUserProps(){\n       Map&lt;String, CacheResult&gt; result = userCache.asMap();\n       // loop over map and pull out CacheResult by users unique Id\n       // Transfer CacheResult to Map&lt;String, Object&gt; and return\n   }\n\n}\n</code></pre>\n<p>Junit Test</p>\n<pre><code>public ControllerTest {\n\n   @InjectMocks \n   UserController userController;\n   \n   @Mock\n   UserService userService;\n   \n   @Mock\n   UserCache userCache\n\n   @Mock ...\n   @Mock ...\n\n   @Test\n   void testGettingUserProps {\n      // setup conditions\n      ResponseEntity&lt;Object&gt; result = userController.getAllUserProps();\n      // results is always null and it's never getting into the service's \n      // method even after I've set mock conditions for the &quot;userCache&quot;\n   }\n</code></pre>\n<p>}</p>\n<p>I've been at this for hours and I cannot seem to get the code to go into <code>UserServices</code>'s <code>getUserProps</code> method.  What am I doing wrong?`</p>\n"},{"tags":["java","spring-boot","slack-api"],"owner":{"account_id":27603290,"reputation":11,"user_id":21068065,"display_name":"Zander"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674502502,"creation_date":1674502502,"question_id":75214235,"body_markdown":"I used the example code from Slack API to construct an app. It has the following configuration:\r\n\r\nSlackApp.java\r\n\r\n```\r\n@Configuration\r\npublic class SlackApp {\r\n\r\n    @Bean\r\n    public AppConfig loadSingleWorkspaceAppConfig() {\r\n        return AppConfig.builder()\r\n                .singleTeamBotToken(System.getenv(&quot;SLACK_BOT_TOKEN&quot;))\r\n                .signingSecret(System.getenv(&quot;SLACK_SIGNING_SECRET&quot;))\r\n                .build();\r\n    }\r\n    @Bean\r\n    public App initSlackApp(AppConfig config) {\r\n        App app = new App(config);\r\n        if (config.getClientId() != null) {\r\n            app.asOAuthApp(true);\r\n        }\r\n        app.command(&quot;/hello&quot;, (req, ctx) -&gt; {\r\n            return ctx.ack(r -&gt; r.text(&quot;Hi!&quot;));\r\n        });\r\n\r\n        return app;\r\n    }\r\n}\r\n```\r\n\r\nInside the database package:\r\n\r\n1\\.StaffRepository.java\r\n\r\n```\r\n@Repository\r\npublic interface StaffRepository extends CrudRepository&lt;Staff, Integer&gt;{\r\n\r\n}\r\n```\r\n\r\n2. StaffController.java\r\n\r\n```\r\n@RestController\r\npublic class StaffController {\r\n    @Autowired\r\n    private StaffService staffService;\r\n\r\n    @RequestMapping(&quot;/staffs&quot;)\r\n    public List&lt;Staff&gt; getAllStaffs(){\r\n        return staffService.getAllStaffs();\r\n    }\r\n\r\n    @RequestMapping(&quot;/staffs/{id}&quot;)\r\n    public Optional&lt;Staff&gt; getStaff(@PathVariable Integer id){\r\n        return staffService.getStaff(id);\r\n    }\r\n\r\n    @RequestMapping(method = RequestMethod.POST, value = &quot;/staffs&quot;)\r\n    public void createStaff(@RequestBody Staff staff){\r\n        staffService.createStaff(staff);\r\n    }\r\n}\r\n```\r\n\r\n3. StaffService.java\r\n\r\n```\r\n@Service\r\npublic class StaffService {\r\n    @Autowired\r\n    private StaffRepository staffRepository;\r\n\r\n    public List&lt;Staff&gt; getAllStaffs(){\r\n        List&lt;Staff&gt; staffs = new ArrayList&lt;&gt;();\r\n        staffRepository.findAll().forEach(staffs::add);\r\n        return staffs;\r\n    }\r\n    public Optional&lt;Staff&gt; getStaff(Integer id){\r\n        return staffRepository.findById(id);\r\n    }\r\n    public void createStaff(Staff staff){\r\n        staffRepository.save(staff);\r\n    }\r\n    public void updateStaff(Integer id, Staff staff){\r\n        staffRepository.save(staff);\r\n    }\r\n    public void deleteStaff(Integer id){\r\n        staffRepository.deleteById(id);\r\n    }\r\n}\r\n```\r\n\r\n4. Staff.java\r\n\r\n```\r\n@Entity\r\n@Table(name=&quot;staff&quot;)\r\npublic class Staff {\r\n    @Id\r\n    Integer id;\r\n    String date;\r\n    String time;\r\n    String name;\r\n    String InOrOut;\r\n    String whatFor;\r\n    String summary;\r\n    String company;\r\n    Integer hours;\r\n\r\n    public Staff(){}\r\n\r\n    public Staff(Integer id, String date, String time, String name, String InOrOut, String whatFor, String summary, String company, int hours){\r\n        super();\r\n        this.id = id;\r\n        this.date = date;\r\n        this.time = time;\r\n        this.name = name;\r\n        this.InOrOut = InOrOut;\r\n        this.whatFor = whatFor;\r\n        this.summary = summary;\r\n        this.company = company;\r\n        this.hours = hours;\r\n    }\r\n    public Integer getId() {\r\n        return id;\r\n    }\r\n    public void setId(Integer id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getDate() {\r\n        return date;\r\n    }\r\n    public void setDate(String date) {\r\n        this.date = date;\r\n    }\r\n\r\n    public String getTime() {\r\n        return time;\r\n    }\r\n    public void setTime(String timeStamp) {\r\n        this.time = timeStamp;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getInOrOut() {\r\n        return InOrOut;\r\n    }\r\n    public void setInOrOut(String inOrOut) {\r\n        InOrOut = inOrOut;\r\n    }\r\n\r\n    public String getWhatFor() {\r\n        return whatFor;\r\n    }\r\n    public void setWhatFor(String whatFor) {\r\n        this.whatFor = whatFor;\r\n    }\r\n\r\n    public String getSummary() {\r\n        return summary;\r\n    }\r\n    public void setSummary(String summary) {\r\n        this.summary = summary;\r\n    }\r\n\r\n    public String getCompany() {\r\n        return company;\r\n    }\r\n    public void setCompany(String company) {\r\n        this.company = company;\r\n    }\r\n\r\n    public int getHours() {return hours;}\r\n    public void setHours(int hours) {this.hours = hours;}\r\n\r\n}\r\n```\r\n\r\nApplication.java\r\n\r\n```\r\n@SpringBootApplication\r\n@ServletComponentScan\r\n@EntityScan(&quot;example.database&quot;)\r\n@ComponentScan({&quot;example.database&quot;})\r\n\r\npublic class Application {\r\n\r\n    public static void main(String[] args) {\r\n        ApplicationContext myapp = new AnnotationConfigApplicationContext(SlackApp.class);\r\n        SpringApplication.run(Application.class, args);\r\n    }\r\n}\r\n```\r\n\r\nThis is my file structrue:\r\n\r\n```\r\nmain\r\n +- java\r\n     +- example\r\n         +- Application.java\r\n         +- SlackApp.java\r\n         +- ......\r\n         |\r\n         +- database\r\n         |   +- Staff.java\r\n         |   +- StaffController.java\r\n         |   +- StaffRepository.java\r\n         |   +- StaffService.java       \r\n```\r\n\r\nHere comes the problem:\r\n\r\nIf I add @ComponentScan({&quot;example.database&quot;}), it will show this error:\r\n\r\n```\r\nDescription:\r\nParameter 0 of constructor in example.SlackAppController required a bean of type &#39;com.slack.api.bolt.App&#39; that could not be found.\r\nAction:\r\nConsider defining a bean of type &#39;com.slack.api.bolt.App&#39; in your configuration.\r\n```\r\n\r\nIf I remove @ComponentScan({&quot;example.database&quot;}), it will show this:\r\n\r\n```\r\nDescription:\r\nField staffRepository in example.database.StaffService required a bean of type &#39;example.database.StaffRepository&#39; that could not be found.\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\nAction:\r\nConsider defining a bean of type &#39;example.database.StaffRepository&#39; in your configuration.\r\n```\r\n\r\nI also tried to move SlackApp.java into the database package, but it didn&#39;t work. Can someone help me, please?","title":"Spring boot using @ComponentScan causes conflict between CrudRepository and Slack @Configuration and @Bean","body":"<p>I used the example code from Slack API to construct an app. It has the following configuration:</p>\n<p>SlackApp.java</p>\n<pre><code>@Configuration\npublic class SlackApp {\n\n    @Bean\n    public AppConfig loadSingleWorkspaceAppConfig() {\n        return AppConfig.builder()\n                .singleTeamBotToken(System.getenv(&quot;SLACK_BOT_TOKEN&quot;))\n                .signingSecret(System.getenv(&quot;SLACK_SIGNING_SECRET&quot;))\n                .build();\n    }\n    @Bean\n    public App initSlackApp(AppConfig config) {\n        App app = new App(config);\n        if (config.getClientId() != null) {\n            app.asOAuthApp(true);\n        }\n        app.command(&quot;/hello&quot;, (req, ctx) -&gt; {\n            return ctx.ack(r -&gt; r.text(&quot;Hi!&quot;));\n        });\n\n        return app;\n    }\n}\n</code></pre>\n<p>Inside the database package:</p>\n<p>1.StaffRepository.java</p>\n<pre><code>@Repository\npublic interface StaffRepository extends CrudRepository&lt;Staff, Integer&gt;{\n\n}\n</code></pre>\n<ol start=\"2\">\n<li>StaffController.java</li>\n</ol>\n<pre><code>@RestController\npublic class StaffController {\n    @Autowired\n    private StaffService staffService;\n\n    @RequestMapping(&quot;/staffs&quot;)\n    public List&lt;Staff&gt; getAllStaffs(){\n        return staffService.getAllStaffs();\n    }\n\n    @RequestMapping(&quot;/staffs/{id}&quot;)\n    public Optional&lt;Staff&gt; getStaff(@PathVariable Integer id){\n        return staffService.getStaff(id);\n    }\n\n    @RequestMapping(method = RequestMethod.POST, value = &quot;/staffs&quot;)\n    public void createStaff(@RequestBody Staff staff){\n        staffService.createStaff(staff);\n    }\n}\n</code></pre>\n<ol start=\"3\">\n<li>StaffService.java</li>\n</ol>\n<pre><code>@Service\npublic class StaffService {\n    @Autowired\n    private StaffRepository staffRepository;\n\n    public List&lt;Staff&gt; getAllStaffs(){\n        List&lt;Staff&gt; staffs = new ArrayList&lt;&gt;();\n        staffRepository.findAll().forEach(staffs::add);\n        return staffs;\n    }\n    public Optional&lt;Staff&gt; getStaff(Integer id){\n        return staffRepository.findById(id);\n    }\n    public void createStaff(Staff staff){\n        staffRepository.save(staff);\n    }\n    public void updateStaff(Integer id, Staff staff){\n        staffRepository.save(staff);\n    }\n    public void deleteStaff(Integer id){\n        staffRepository.deleteById(id);\n    }\n}\n</code></pre>\n<ol start=\"4\">\n<li>Staff.java</li>\n</ol>\n<pre><code>@Entity\n@Table(name=&quot;staff&quot;)\npublic class Staff {\n    @Id\n    Integer id;\n    String date;\n    String time;\n    String name;\n    String InOrOut;\n    String whatFor;\n    String summary;\n    String company;\n    Integer hours;\n\n    public Staff(){}\n\n    public Staff(Integer id, String date, String time, String name, String InOrOut, String whatFor, String summary, String company, int hours){\n        super();\n        this.id = id;\n        this.date = date;\n        this.time = time;\n        this.name = name;\n        this.InOrOut = InOrOut;\n        this.whatFor = whatFor;\n        this.summary = summary;\n        this.company = company;\n        this.hours = hours;\n    }\n    public Integer getId() {\n        return id;\n    }\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getDate() {\n        return date;\n    }\n    public void setDate(String date) {\n        this.date = date;\n    }\n\n    public String getTime() {\n        return time;\n    }\n    public void setTime(String timeStamp) {\n        this.time = timeStamp;\n    }\n\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getInOrOut() {\n        return InOrOut;\n    }\n    public void setInOrOut(String inOrOut) {\n        InOrOut = inOrOut;\n    }\n\n    public String getWhatFor() {\n        return whatFor;\n    }\n    public void setWhatFor(String whatFor) {\n        this.whatFor = whatFor;\n    }\n\n    public String getSummary() {\n        return summary;\n    }\n    public void setSummary(String summary) {\n        this.summary = summary;\n    }\n\n    public String getCompany() {\n        return company;\n    }\n    public void setCompany(String company) {\n        this.company = company;\n    }\n\n    public int getHours() {return hours;}\n    public void setHours(int hours) {this.hours = hours;}\n\n}\n</code></pre>\n<p>Application.java</p>\n<pre><code>@SpringBootApplication\n@ServletComponentScan\n@EntityScan(&quot;example.database&quot;)\n@ComponentScan({&quot;example.database&quot;})\n\npublic class Application {\n\n    public static void main(String[] args) {\n        ApplicationContext myapp = new AnnotationConfigApplicationContext(SlackApp.class);\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n<p>This is my file structrue:</p>\n<pre><code>main\n +- java\n     +- example\n         +- Application.java\n         +- SlackApp.java\n         +- ......\n         |\n         +- database\n         |   +- Staff.java\n         |   +- StaffController.java\n         |   +- StaffRepository.java\n         |   +- StaffService.java       \n</code></pre>\n<p>Here comes the problem:</p>\n<p>If I add @ComponentScan({&quot;example.database&quot;}), it will show this error:</p>\n<pre><code>Description:\nParameter 0 of constructor in example.SlackAppController required a bean of type 'com.slack.api.bolt.App' that could not be found.\nAction:\nConsider defining a bean of type 'com.slack.api.bolt.App' in your configuration.\n</code></pre>\n<p>If I remove @ComponentScan({&quot;example.database&quot;}), it will show this:</p>\n<pre><code>Description:\nField staffRepository in example.database.StaffService required a bean of type 'example.database.StaffRepository' that could not be found.\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\nAction:\nConsider defining a bean of type 'example.database.StaffRepository' in your configuration.\n</code></pre>\n<p>I also tried to move SlackApp.java into the database package, but it didn't work. Can someone help me, please?</p>\n"},{"tags":["java","posix"],"comments":[{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":1,"creation_date":1674495105,"post_id":75212768,"comment_id":132721382,"body_markdown":"In other words, what is an &quot;invalid&quot; file? How can I create one to reproduce? I&#39;m afraid if the standard ways do not work out of the box, you will eventually need to do one of the other solutions you want to avoid, like parsing `ls`.","body":"In other words, what is an &quot;invalid&quot; file? How can I create one to reproduce? I&#39;m afraid if the standard ways do not work out of the box, you will eventually need to do one of the other solutions you want to avoid, like parsing <code>ls</code>."},{"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1674497290,"post_id":75212768,"comment_id":132722025,"body_markdown":"For dealing with symlinks, see: [Resolving Directory Symlink in Java](https://stackoverflow.com/questions/28371993), [How to read a symlink file in Java?](https://stackoverflow.com/questions/75086985).","body":"For dealing with symlinks, see: <a href=\"https://stackoverflow.com/questions/28371993\">Resolving Directory Symlink in Java</a>, <a href=\"https://stackoverflow.com/questions/75086985\">How to read a symlink file in Java?</a>."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":2,"creation_date":1674502305,"post_id":75212768,"comment_id":132723548,"body_markdown":"The issue cannot be reproduced on linux 5.10.74-gentoo with openjdk version &quot;1.8.0_332&quot;, see https://pastebin.com/xDmkDczH. Please [edit] your question to include the version numbers you have on your system.","body":"The issue cannot be reproduced on linux 5.10.74-gentoo with openjdk version &quot;1.8.0_332&quot;, see <a href=\"https://pastebin.com/xDmkDczH\" rel=\"nofollow noreferrer\">pastebin.com/xDmkDczH</a>. Please <a href=\"https://stackoverflow.com/posts/75212768/edit\">edit</a> your question to include the version numbers you have on your system."},{"owner":{"account_id":195169,"reputation":2946,"user_id":1128593,"display_name":"David Jones"},"score":0,"creation_date":1674502504,"post_id":75212768,"comment_id":132723610,"body_markdown":"What does `File.list()` give you?","body":"What does <code>File.list()</code> give you?"},{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":3,"creation_date":1674509926,"post_id":75212768,"comment_id":132725641,"body_markdown":"Cannot reproduce with openjdk 17.0.5 on Ubuntu 22.04.1 LTS. Both `new File(&quot;.&quot;).listFiles()` and `Files.list()` show all three files (broken, working and empty).","body":"Cannot reproduce with openjdk 17.0.5 on Ubuntu 22.04.1 LTS. Both <code>new File(&quot;.&quot;).listFiles()</code> and <code>Files.list()</code> show all three files (broken, working and empty)."}],"owner":{"account_id":2696937,"reputation":578,"user_id":2328721,"accept_rate":44,"display_name":"Jake S."},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":0,"score":2,"last_activity_date":1674501791,"creation_date":1674493533,"question_id":75212768,"body_markdown":"I need to get a list of all files that exist in a directory including broken symlinks and other entries that would be considered invalid by `File.listFiles()`.\r\n\r\nI tried multiple different ways of listing files in Java and all of them seem to discard &quot;invalid&quot; files.\r\n\r\nTo reproduce this issue:\r\n\r\n```bash\r\n# Create a symlink to a nonexistent path\r\nln -s /nonexistent/path $PWD/broken_link\r\n\r\n# Create a valid symlink\r\nln -s /path/to/existing/file $PWD/working_link\r\n\r\n# Create a normal file\r\ntouch empty_file\r\n```\r\n\r\n```java\r\nvar files = new File(&quot;.&quot;).listFiles();\r\n\r\nArrays.stream(files).forEach(file -&gt; {\r\n  System.out.println(file.getName();\r\n});\r\n```\r\n\r\nExpected output (in no particular order):\r\n```\r\nbroken_link\r\nworking_link\r\nempty_file\r\n```\r\n\r\nActual output:\r\n```\r\nworking_link\r\nempty_file\r\n```\r\n\r\nConsidering the nature of Java, a multiplatform solution would be ideal but reallistically I only need this to work on POSIX systems (namely macOS and Linux) but I would like to avoid any kind of external dependencies (such as parsing th eoutput of `ls`, using JNI, etc).","title":"List *all* files in a directory with Java (even invalid ones)","body":"<p>I need to get a list of all files that exist in a directory including broken symlinks and other entries that would be considered invalid by <code>File.listFiles()</code>.</p>\n<p>I tried multiple different ways of listing files in Java and all of them seem to discard &quot;invalid&quot; files.</p>\n<p>To reproduce this issue:</p>\n<pre class=\"lang-bash prettyprint-override\"><code># Create a symlink to a nonexistent path\nln -s /nonexistent/path $PWD/broken_link\n\n# Create a valid symlink\nln -s /path/to/existing/file $PWD/working_link\n\n# Create a normal file\ntouch empty_file\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>var files = new File(&quot;.&quot;).listFiles();\n\nArrays.stream(files).forEach(file -&gt; {\n  System.out.println(file.getName();\n});\n</code></pre>\n<p>Expected output (in no particular order):</p>\n<pre><code>broken_link\nworking_link\nempty_file\n</code></pre>\n<p>Actual output:</p>\n<pre><code>working_link\nempty_file\n</code></pre>\n<p>Considering the nature of Java, a multiplatform solution would be ideal but reallistically I only need this to work on POSIX systems (namely macOS and Linux) but I would like to avoid any kind of external dependencies (such as parsing th eoutput of <code>ls</code>, using JNI, etc).</p>\n"},{"tags":["java","c","bit-manipulation"],"answers":[{"tags":[],"owner":{"account_id":83845,"reputation":33704,"user_id":234815,"display_name":"John Knoeller"},"down_vote_count":2,"up_vote_count":24,"is_accepted":true,"score":22,"last_activity_date":1268351085,"creation_date":1268351085,"answer_id":2429490,"question_id":2429479,"body_markdown":"  `&gt;&gt;&gt;` is unsigned right shift, so I would think that in C this would be the same as\r\n\r\n    unsigned int foo;\r\n    unsigned int bar = foo &gt;&gt; whatever;\r\n","title":"How do I perform an unsigned right shift (&gt;&gt;&gt; in Java) in C/C++?","body":"<p><code>&gt;&gt;&gt;</code> is unsigned right shift, so I would think that in C this would be the same as</p>\n\n<pre><code>unsigned int foo;\nunsigned int bar = foo &gt;&gt; whatever;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":48015,"reputation":104353,"user_id":142434,"display_name":"Stephen Canon"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1268351182,"creation_date":1268351182,"answer_id":2429496,"question_id":2429479,"body_markdown":"In C, to get an unsigned shift, you just do a shift on an unsigned type.\r\n\r\n    unsigned int result = (unsigned int)valueToBeShifted &gt;&gt; shiftAmount;\r\n\r\nNote that there is no guarantee that `&gt;&gt;` on a signed type gives you a signed shift in C -- this is implementation defined behavior.  Most common implementations produce a signed shift if the type is signed, however.","title":"How do I perform an unsigned right shift (&gt;&gt;&gt; in Java) in C/C++?","body":"<p>In C, to get an unsigned shift, you just do a shift on an unsigned type.</p>\n\n<pre><code>unsigned int result = (unsigned int)valueToBeShifted &gt;&gt; shiftAmount;\n</code></pre>\n\n<p>Note that there is no guarantee that <code>&gt;&gt;</code> on a signed type gives you a signed shift in C -- this is implementation defined behavior.  Most common implementations produce a signed shift if the type is signed, however.</p>\n"},{"tags":[],"owner":{"account_id":8288706,"reputation":11,"user_id":6231091,"display_name":"Mez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674501382,"creation_date":1674501382,"answer_id":75214027,"question_id":2429479,"body_markdown":"In C++ doing a right shift on an unsigned value has identical behavior to doing a right shift on a signed value. If the MSB is set, then &gt;&gt; will shift in a 1.\r\n\r\n    unsigned int myInt = 0x80000000;\r\n    myInt &gt;&gt;= 1;\r\n\r\nThe result stored in myInt will be 0xC0000000\r\n\r\nHowever, if the MSB is not set, a right shift on an unsigned value will work as it should.\r\n\r\n    unsigned int myInt = 0x40000000;\r\n    myInt &gt;&gt;= 1;\r\n\r\nThe result will be 0x20000000\r\n\r\nSo in order to get the desired behavior in C++, you could:\r\n1. Do a single shift, zero out the MSB, then do the remainder of the shifts.\r\n2. Right shift N bits, and zero out the top N bits. ","title":"How do I perform an unsigned right shift (&gt;&gt;&gt; in Java) in C/C++?","body":"<p>In C++ doing a right shift on an unsigned value has identical behavior to doing a right shift on a signed value. If the MSB is set, then &gt;&gt; will shift in a 1.</p>\n<pre><code>unsigned int myInt = 0x80000000;\nmyInt &gt;&gt;= 1;\n</code></pre>\n<p>The result stored in myInt will be 0xC0000000</p>\n<p>However, if the MSB is not set, a right shift on an unsigned value will work as it should.</p>\n<pre><code>unsigned int myInt = 0x40000000;\nmyInt &gt;&gt;= 1;\n</code></pre>\n<p>The result will be 0x20000000</p>\n<p>So in order to get the desired behavior in C++, you could:</p>\n<ol>\n<li>Do a single shift, zero out the MSB, then do the remainder of the shifts.</li>\n<li>Right shift N bits, and zero out the top N bits.</li>\n</ol>\n"}],"owner":{"account_id":61301,"reputation":2123,"user_id":182766,"accept_rate":72,"display_name":"changed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23014,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":2429490,"answer_count":3,"score":31,"last_activity_date":1674501382,"creation_date":1268350842,"question_id":2429479,"body_markdown":"How do I perform an unsigned right shift (&gt;&gt;&gt; in Java) in C/C++?","title":"How do I perform an unsigned right shift (&gt;&gt;&gt; in Java) in C/C++?","body":"<p>How do I perform an unsigned right shift (>>> in Java) in C/C++?</p>\n"},{"tags":["java","spring","spring-boot","maven","paketo"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1674548469,"post_id":75213968,"comment_id":132731711,"body_markdown":"Did you upgrade to Spring Boot 3 and upgraded all dependencies? The error seems to indicate you haven&#39;t (or are mixing things from different versions). So please add the pom you are actually using (and that isn&#39;t the pom from the guide you are referencing).","body":"Did you upgrade to Spring Boot 3 and upgraded all dependencies? The error seems to indicate you haven&#39;t (or are mixing things from different versions). So please add the pom you are actually using (and that isn&#39;t the pom from the guide you are referencing)."},{"owner":{"account_id":19185085,"reputation":43,"user_id":14016031,"display_name":"codesling"},"score":0,"creation_date":1674575356,"post_id":75213968,"comment_id":132740736,"body_markdown":"@M.Deinum I never got the bottom of this issue but discovered my builder shouldn&#39;t have been using Graal to begin with. I had this line `&lt;BP_NATIVE_IMAGE&gt;true&lt;/BP_NATIVE_IMAGE&gt;` under a plugin in the project&#39;s pom which was causing the use of paketo/Graal. Removing it let me build an image just fine.","body":"@M.Deinum I never got the bottom of this issue but discovered my builder shouldn&#39;t have been using Graal to begin with. I had this line <code>&lt;BP_NATIVE_IMAGE&gt;true&lt;&#47;BP_NATIVE_IMAGE&gt;</code> under a plugin in the project&#39;s pom which was causing the use of paketo/Graal. Removing it let me build an image just fine."}],"owner":{"account_id":19185085,"reputation":43,"user_id":14016031,"display_name":"codesling"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":434,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674500989,"creation_date":1674500989,"question_id":75213968,"body_markdown":"I am trying to use the Spring Boot plugin for Maven to build docker images. The project I&#39;m working with is the [Spring Boot REST service demo](https://spring.io/guides/tutorials/rest/), so I&#39;m using the provided `mvnw` script. The output I&#39;m getting is this:\r\n\r\n```\r\n./mvnw spring-boot:build-image\r\n...\r\n...\r\n...\r\n[INFO]     [creator]     ================================================================================\r\n[INFO]     [creator]     GraalVM Native Image: Generating &#39;/layers/paketo-buildpacks_native-image/native-image/com.example.restservice.RestserviceApplication&#39; (executable)...\r\n[INFO]     [creator]     ================================================================================\r\n[INFO]     [creator]     [1/7] Initializing...                                           (13.9s @ 0.19GB)\r\n[INFO]     [creator]      Version info: &#39;GraalVM 22.3.0 Java 17 CE&#39;\r\n[INFO]     [creator]      Java version info: &#39;17.0.5+8-LTS&#39;\r\n[INFO]     [creator]      C compiler: gcc (linux, x86_64, 7.5.0)\r\n[INFO]     [creator]      Garbage collector: Serial GC\r\n[INFO]     [creator]      1 user-specific feature(s)\r\n[INFO]     [creator]      - org.springframework.aot.nativex.feature.PreComputeFieldFeature\r\n[INFO]     [creator]     Field org.springframework.core.NativeDetector#imageCode set to true at build time\r\n[INFO]     [creator]     Field org.apache.commons.logging.LogAdapter#log4jSpiPresent set to true at build time\r\n[INFO]     [creator]     Field org.apache.commons.logging.LogAdapter#log4jSlf4jProviderPresent set to true at build time\r\n[INFO]     [creator]     Field org.apache.commons.logging.LogAdapter#slf4jSpiPresent set to true at build time\r\n[INFO]     [creator]     Field org.apache.commons.logging.LogAdapter#slf4jApiPresent set to true at build time\r\n[INFO]     [creator]     Field org.springframework.core.KotlinDetector#kotlinPresent set to false at build time\r\n[INFO]     [creator]     Field org.springframework.core.KotlinDetector#kotlinReflectPresent set to false at build time\r\n[INFO]     [creator]     Field org.springframework.format.support.DefaultFormattingConversionService#jsr354Present set to false at build time\r\n[INFO]     [creator]     Field org.springframework.cglib.core.AbstractClassGenerator#imageCode set to true at build time\r\n[INFO]     [creator]     [2/7] Performing analysis...  [**********]                      (76.1s @ 1.20GB)\r\n[INFO]     [creator]       10,216 (89.57%) of 11,406 classes reachable\r\n[INFO]     [creator]       16,618 (63.42%) of 26,202 fields reachable\r\n[INFO]     [creator]       48,432 (58.35%) of 83,000 methods reachable\r\n[INFO]     [creator]          468 classes,   138 fields, and 2,281 methods registered for reflection\r\n[INFO]     [creator]           63 classes,    68 fields, and    55 methods registered for JNI access\r\n[INFO]     [creator]            4 native libraries: dl, pthread, rt, z\r\n[INFO]     [creator]     [3/7] Building universe...                                       (8.0s @ 1.49GB)\r\n[INFO]     [creator]     \r\n[INFO]     [creator]     Warning: Dynamic proxy method java.lang.reflect.Proxy.newProxyInstance invoked at org.springframework.core.io.support.VfsPatternUtils.visit(VfsPatternUtils.java:51)\r\n[INFO]     [creator]     Warning: Dynamic proxy method java.lang.reflect.Proxy.newProxyInstance invoked at org.springframework.beans.factory.support.AutowireUtils.resolveAutowiringValue(AutowireUtils.java:134)\r\n[INFO]     [creator]     Warning: Dynamic proxy method java.lang.reflect.Proxy.newProxyInstance invoked at org.springframework.core.annotation.SynthesizedMergedAnnotationInvocationHandler.createProxy(SynthesizedMergedAnnotationInvocationHandler.java:304)\r\n[INFO]     [creator]     Warning: Aborting stand-alone image build due to dynamic proxy use without configuration.\r\n[INFO]     [creator]     Warning: Use -H:+ReportExceptionStackTraces to print stacktrace of underlying exception\r\n[INFO]     [creator]     --------------------------------------------------------------------------------\r\n[INFO]     [creator]         5.0s (5.0% of total time) in 27 GCs | Peak RSS: 3.45GB | CPU load: 4.45\r\n[INFO]     [creator]     ================================================================================\r\n[INFO]     [creator]     Failed generating &#39;/layers/paketo-buildpacks_native-image/native-image/com.example.restservice.RestserviceApplication&#39; after 1m 38s.\r\n[INFO]     [creator]     Generating fallback image...\r\n[INFO]     [creator]     Warning: Image &#39;/layers/paketo-buildpacks_native-image/native-image/com.example.restservice.RestserviceApplication&#39; is a fallback image that requires a JDK for execution (use --no-fallback to suppress fallback image generation and to print more detailed information why a fallback image was necessary).\r\n...\r\n...\r\n...\r\n```\r\n\r\nWe can see step 3/7 failed, and the builder went on to create a fallback image, which I haven&#39;t tested. My questions are as follows:\r\n\r\nA) The output recommends trying `-no-fallback` to see the full error, but when I try `mvnw spring-boot:build-image -no-fallback`, the argument doesn&#39;t get passed along to spring/paketo. mvn fails because it doesn&#39;t have that option. How can I pass the argument to the spring plugin and/or the build pack?\r\n\r\nB) Same question for the other recommendation to print the stack trace, `-H:+ReportExceptionStackTraces`\r\n\r\nC) How can I troubleshoot/fix this issue?","title":"How to fix mvnw spring-boot:build-image failure due to &quot;Warning: Aborting stand-alone image build due to dynamic proxy use without configuration&quot;?","body":"<p>I am trying to use the Spring Boot plugin for Maven to build docker images. The project I'm working with is the <a href=\"https://spring.io/guides/tutorials/rest/\" rel=\"nofollow noreferrer\">Spring Boot REST service demo</a>, so I'm using the provided <code>mvnw</code> script. The output I'm getting is this:</p>\n<pre><code>./mvnw spring-boot:build-image\n...\n...\n...\n[INFO]     [creator]     ================================================================================\n[INFO]     [creator]     GraalVM Native Image: Generating '/layers/paketo-buildpacks_native-image/native-image/com.example.restservice.RestserviceApplication' (executable)...\n[INFO]     [creator]     ================================================================================\n[INFO]     [creator]     [1/7] Initializing...                                           (13.9s @ 0.19GB)\n[INFO]     [creator]      Version info: 'GraalVM 22.3.0 Java 17 CE'\n[INFO]     [creator]      Java version info: '17.0.5+8-LTS'\n[INFO]     [creator]      C compiler: gcc (linux, x86_64, 7.5.0)\n[INFO]     [creator]      Garbage collector: Serial GC\n[INFO]     [creator]      1 user-specific feature(s)\n[INFO]     [creator]      - org.springframework.aot.nativex.feature.PreComputeFieldFeature\n[INFO]     [creator]     Field org.springframework.core.NativeDetector#imageCode set to true at build time\n[INFO]     [creator]     Field org.apache.commons.logging.LogAdapter#log4jSpiPresent set to true at build time\n[INFO]     [creator]     Field org.apache.commons.logging.LogAdapter#log4jSlf4jProviderPresent set to true at build time\n[INFO]     [creator]     Field org.apache.commons.logging.LogAdapter#slf4jSpiPresent set to true at build time\n[INFO]     [creator]     Field org.apache.commons.logging.LogAdapter#slf4jApiPresent set to true at build time\n[INFO]     [creator]     Field org.springframework.core.KotlinDetector#kotlinPresent set to false at build time\n[INFO]     [creator]     Field org.springframework.core.KotlinDetector#kotlinReflectPresent set to false at build time\n[INFO]     [creator]     Field org.springframework.format.support.DefaultFormattingConversionService#jsr354Present set to false at build time\n[INFO]     [creator]     Field org.springframework.cglib.core.AbstractClassGenerator#imageCode set to true at build time\n[INFO]     [creator]     [2/7] Performing analysis...  [**********]                      (76.1s @ 1.20GB)\n[INFO]     [creator]       10,216 (89.57%) of 11,406 classes reachable\n[INFO]     [creator]       16,618 (63.42%) of 26,202 fields reachable\n[INFO]     [creator]       48,432 (58.35%) of 83,000 methods reachable\n[INFO]     [creator]          468 classes,   138 fields, and 2,281 methods registered for reflection\n[INFO]     [creator]           63 classes,    68 fields, and    55 methods registered for JNI access\n[INFO]     [creator]            4 native libraries: dl, pthread, rt, z\n[INFO]     [creator]     [3/7] Building universe...                                       (8.0s @ 1.49GB)\n[INFO]     [creator]     \n[INFO]     [creator]     Warning: Dynamic proxy method java.lang.reflect.Proxy.newProxyInstance invoked at org.springframework.core.io.support.VfsPatternUtils.visit(VfsPatternUtils.java:51)\n[INFO]     [creator]     Warning: Dynamic proxy method java.lang.reflect.Proxy.newProxyInstance invoked at org.springframework.beans.factory.support.AutowireUtils.resolveAutowiringValue(AutowireUtils.java:134)\n[INFO]     [creator]     Warning: Dynamic proxy method java.lang.reflect.Proxy.newProxyInstance invoked at org.springframework.core.annotation.SynthesizedMergedAnnotationInvocationHandler.createProxy(SynthesizedMergedAnnotationInvocationHandler.java:304)\n[INFO]     [creator]     Warning: Aborting stand-alone image build due to dynamic proxy use without configuration.\n[INFO]     [creator]     Warning: Use -H:+ReportExceptionStackTraces to print stacktrace of underlying exception\n[INFO]     [creator]     --------------------------------------------------------------------------------\n[INFO]     [creator]         5.0s (5.0% of total time) in 27 GCs | Peak RSS: 3.45GB | CPU load: 4.45\n[INFO]     [creator]     ================================================================================\n[INFO]     [creator]     Failed generating '/layers/paketo-buildpacks_native-image/native-image/com.example.restservice.RestserviceApplication' after 1m 38s.\n[INFO]     [creator]     Generating fallback image...\n[INFO]     [creator]     Warning: Image '/layers/paketo-buildpacks_native-image/native-image/com.example.restservice.RestserviceApplication' is a fallback image that requires a JDK for execution (use --no-fallback to suppress fallback image generation and to print more detailed information why a fallback image was necessary).\n...\n...\n...\n</code></pre>\n<p>We can see step 3/7 failed, and the builder went on to create a fallback image, which I haven't tested. My questions are as follows:</p>\n<p>A) The output recommends trying <code>-no-fallback</code> to see the full error, but when I try <code>mvnw spring-boot:build-image -no-fallback</code>, the argument doesn't get passed along to spring/paketo. mvn fails because it doesn't have that option. How can I pass the argument to the spring plugin and/or the build pack?</p>\n<p>B) Same question for the other recommendation to print the stack trace, <code>-H:+ReportExceptionStackTraces</code></p>\n<p>C) How can I troubleshoot/fix this issue?</p>\n"},{"tags":["java","spring","spring-boot","graphql"],"comments":[{"owner":{"account_id":3101358,"reputation":962,"user_id":2625393,"display_name":"Numichi"},"score":0,"creation_date":1650985414,"post_id":72015145,"comment_id":127250908,"body_markdown":"I think running time changes at the endpoint is not good. Source of unexpected errors. It makes some problems in future. What if multiple clients use the same dynamic endpoint and one removes one &quot;endpoint&quot; that another would like to use? How would sync them?","body":"I think running time changes at the endpoint is not good. Source of unexpected errors. It makes some problems in future. What if multiple clients use the same dynamic endpoint and one removes one &quot;endpoint&quot; that another would like to use? How would sync them?"},{"owner":{"account_id":18744398,"reputation":11,"user_id":13666961,"display_name":"Oguz Tozkoparan"},"score":0,"creation_date":1651043444,"post_id":72015145,"comment_id":127265048,"body_markdown":"If you are asking about the client side to sync them, I solve that problem by getting schema types from /graphql. You are right about the changes at the endpoint in runtime but I need to register users&#39; new tables as types and columns as fields in order to access these data via using graphql. Main idea is making graphql schema a dynamic one for accessing the new data.","body":"If you are asking about the client side to sync them, I solve that problem by getting schema types from /graphql. You are right about the changes at the endpoint in runtime but I need to register users&#39; new tables as types and columns as fields in order to access these data via using graphql. Main idea is making graphql schema a dynamic one for accessing the new data."}],"owner":{"account_id":18744398,"reputation":11,"user_id":13666961,"display_name":"Oguz Tozkoparan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1055,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674500534,"creation_date":1650981011,"question_id":72015145,"body_markdown":"There is Spring Boot backend with GraphQL implemented already and I have a dynamic database that users can use to create new tables and columns. According to this information, I need to implement a dynamic schema that can be changed in runtime to my backend. I found that GraphQL Schema is immutable once it is built, so I cannot perform any change. But in [documentation][1] it says we can achieve this with a schema transformer. So, I tried the documentation method and used **SchemaTranformer** with \r\n**GraphQLTypeVisitorStub**.\r\n\r\n```java\r\n@PostConstruct\r\npublic void init() throws SQLException, IOException, URISyntaxException {\r\n    Path graphQLSchemaFilePath = Paths.get(\r\n            Objects.requireNonNull(this.getClass().getResource(GRAPHQL_SCHEMA_FILE)).toURI());\r\n    GraphQLSchema localSchema = buildSchema(graphQLSchemaFilePath);\r\n    graphQLSchema = localSchema;\r\n    this.graphQL = GraphQL.newGraphQL(graphQLSchema).build();\r\n\r\n    // below code is to test if in runtime does it add the new types\r\n    // normally these methods are not going to be used \r\n    // these methods will get triggered from other services\r\n    databaseMetaData = getDBMetaData();\r\n    schemaTranformation();\r\n}\r\n```\r\n\r\nFirstly, I have a *schema.graphql* file with base queries and types, that backend needs for running. It imports and runs without any errors. Then, it gets meta data for only demo purposes to try adding new type from database.\r\n\r\n```java\r\npublic List&lt;GraphQLObjectType&gt; createSchema(String tableName) throws SQLException {\r\n    List&lt;GraphQLObjectType&gt; objectTypes = new ArrayList&lt;&gt;();\r\n\r\n    resultSet = databaseMetaData.getColumns(null, null, (String) tableName, null);\r\n    GraphQLObjectType.Builder builder = GraphQLObjectType.newObject();\r\n\r\n    while (resultSet.next()) {\r\n        builder\r\n                .name(tableName.toLowerCase())\r\n                .field(GraphQLFieldDefinition.newFieldDefinition()\r\n                        .name(resultSet.getString(&quot;COLUMN_NAME&quot;))\r\n                        .type(GraphQLNonNull.nonNull(returnType(resultSet.getString(&quot;TYPE_NAME&quot;)))))\r\n                .build();\r\n    }\r\n\r\n    objectTypes.add(builder.build());\r\n    return objectTypes;\r\n}\r\n```\r\n\r\nWith the above method, I tried to return new object types as a list. After that, I created the *schemaTransformation* method which you&#39;ll see below, gets new types with fields from *createSchema* method and tries to transform the schema.\r\n\r\n```java\r\npublic void schemaTransformation() throws SQLException {\r\n    resultSet = databaseMetaData.getTables(null, null, null, new String[]{&quot;TABLE&quot;});\r\n    tables = new ArrayList&lt;&gt;();\r\n\r\n    while (resultSet.next()) {\r\n        tables.add(resultSet.getString(&quot;TABLE_NAME&quot;));\r\n    }\r\n\r\n    List&lt;List&lt;GraphQLObjectType&gt;&gt; createdSchemas = new ArrayList&lt;&gt;();\r\n    for (String table : tables) {\r\n        createdSchemas.add(createSchema(table));\r\n    }\r\n    for (List&lt;GraphQLObjectType&gt; graphQLObjectTypeList : createdSchemas) {\r\n        for (GraphQLObjectType graphQLObjectType : graphQLObjectTypeList) {\r\n            GraphQLTypeVisitorStub visitorSub = getVisitorSub(graphQLObjectType);\r\n            this.graphQLSchema = SchemaTransformer.transformSchema(this.graphQLSchema, visitorSub);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nBut at *SchemaTransformer.transformSchema()*, it gives null pointer exception. Also, I did not add ``this.graphQL = GraphQL.newGraphQL(this.graphQLSchema).build();`` this code because I do not know if it is needed.\r\n\r\n```java\r\nprivate GraphQLTypeVisitorStub getVisitorSub(GraphQLObjectType graphQLObjectType) {\r\n    return new GraphQLTypeVisitorStub() {\r\n        @Override\r\n        public TraversalControl visitGraphQLObjectType(GraphQLObjectType objectType,\r\n                                                        TraverserContext&lt;GraphQLSchemaElement&gt; context) {\r\n            GraphQLCodeRegistry.Builder codeRegistryBuilder = context.getVarFromParents(\r\n                    GraphQLCodeRegistry.Builder.class);\r\n            List&lt;GraphQLFieldDefinition&gt; graphQLFieldDefinitions = new ArrayList&lt;&gt;(graphQLObjectType.getFields());\r\n            DataFetcher newDataFetcher = dataFetchingEnvironment -&gt; {\r\n                return userService.healthCheck();\r\n            };\r\n\r\n            FieldCoordinates fieldCoordinates = null;\r\n            for (GraphQLFieldDefinition fieldDefinition : graphQLFieldDefinitions) {\r\n                fieldCoordinates = FieldCoordinates.coordinates(\r\n                        objectType.getName(), fieldDefinition.getName());\r\n                codeRegistryBuilder.dataFetcher(fieldCoordinates, newDataFetcher);\r\n            }\r\n            \r\n            return insertAfter(context, graphQLObjectType);\r\n        }\r\n    };\r\n}\r\n```\r\nThis method returns the visitor that I need to use in *transformSchema* method.\r\n\r\nSo, am I doing the wrong way of changing schema in runtime or is the dependency has a bug? Maybe it is impossible to change graphql schema in runtime. I do not know\r\n\r\n\r\n\r\n\r\n  [1]: https://www.graphql-java.com/documentation/schema","title":"How to change GraphQL Schema at runtime in Spring Boot?","body":"<p>There is Spring Boot backend with GraphQL implemented already and I have a dynamic database that users can use to create new tables and columns. According to this information, I need to implement a dynamic schema that can be changed in runtime to my backend. I found that GraphQL Schema is immutable once it is built, so I cannot perform any change. But in <a href=\"https://www.graphql-java.com/documentation/schema\" rel=\"nofollow noreferrer\">documentation</a> it says we can achieve this with a schema transformer. So, I tried the documentation method and used <strong>SchemaTranformer</strong> with\n<strong>GraphQLTypeVisitorStub</strong>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostConstruct\npublic void init() throws SQLException, IOException, URISyntaxException {\n    Path graphQLSchemaFilePath = Paths.get(\n            Objects.requireNonNull(this.getClass().getResource(GRAPHQL_SCHEMA_FILE)).toURI());\n    GraphQLSchema localSchema = buildSchema(graphQLSchemaFilePath);\n    graphQLSchema = localSchema;\n    this.graphQL = GraphQL.newGraphQL(graphQLSchema).build();\n\n    // below code is to test if in runtime does it add the new types\n    // normally these methods are not going to be used \n    // these methods will get triggered from other services\n    databaseMetaData = getDBMetaData();\n    schemaTranformation();\n}\n</code></pre>\n<p>Firstly, I have a <em>schema.graphql</em> file with base queries and types, that backend needs for running. It imports and runs without any errors. Then, it gets meta data for only demo purposes to try adding new type from database.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;GraphQLObjectType&gt; createSchema(String tableName) throws SQLException {\n    List&lt;GraphQLObjectType&gt; objectTypes = new ArrayList&lt;&gt;();\n\n    resultSet = databaseMetaData.getColumns(null, null, (String) tableName, null);\n    GraphQLObjectType.Builder builder = GraphQLObjectType.newObject();\n\n    while (resultSet.next()) {\n        builder\n                .name(tableName.toLowerCase())\n                .field(GraphQLFieldDefinition.newFieldDefinition()\n                        .name(resultSet.getString(&quot;COLUMN_NAME&quot;))\n                        .type(GraphQLNonNull.nonNull(returnType(resultSet.getString(&quot;TYPE_NAME&quot;)))))\n                .build();\n    }\n\n    objectTypes.add(builder.build());\n    return objectTypes;\n}\n</code></pre>\n<p>With the above method, I tried to return new object types as a list. After that, I created the <em>schemaTransformation</em> method which you'll see below, gets new types with fields from <em>createSchema</em> method and tries to transform the schema.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void schemaTransformation() throws SQLException {\n    resultSet = databaseMetaData.getTables(null, null, null, new String[]{&quot;TABLE&quot;});\n    tables = new ArrayList&lt;&gt;();\n\n    while (resultSet.next()) {\n        tables.add(resultSet.getString(&quot;TABLE_NAME&quot;));\n    }\n\n    List&lt;List&lt;GraphQLObjectType&gt;&gt; createdSchemas = new ArrayList&lt;&gt;();\n    for (String table : tables) {\n        createdSchemas.add(createSchema(table));\n    }\n    for (List&lt;GraphQLObjectType&gt; graphQLObjectTypeList : createdSchemas) {\n        for (GraphQLObjectType graphQLObjectType : graphQLObjectTypeList) {\n            GraphQLTypeVisitorStub visitorSub = getVisitorSub(graphQLObjectType);\n            this.graphQLSchema = SchemaTransformer.transformSchema(this.graphQLSchema, visitorSub);\n        }\n    }\n}\n</code></pre>\n<p>But at <em>SchemaTransformer.transformSchema()</em>, it gives null pointer exception. Also, I did not add <code>this.graphQL = GraphQL.newGraphQL(this.graphQLSchema).build();</code> this code because I do not know if it is needed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private GraphQLTypeVisitorStub getVisitorSub(GraphQLObjectType graphQLObjectType) {\n    return new GraphQLTypeVisitorStub() {\n        @Override\n        public TraversalControl visitGraphQLObjectType(GraphQLObjectType objectType,\n                                                        TraverserContext&lt;GraphQLSchemaElement&gt; context) {\n            GraphQLCodeRegistry.Builder codeRegistryBuilder = context.getVarFromParents(\n                    GraphQLCodeRegistry.Builder.class);\n            List&lt;GraphQLFieldDefinition&gt; graphQLFieldDefinitions = new ArrayList&lt;&gt;(graphQLObjectType.getFields());\n            DataFetcher newDataFetcher = dataFetchingEnvironment -&gt; {\n                return userService.healthCheck();\n            };\n\n            FieldCoordinates fieldCoordinates = null;\n            for (GraphQLFieldDefinition fieldDefinition : graphQLFieldDefinitions) {\n                fieldCoordinates = FieldCoordinates.coordinates(\n                        objectType.getName(), fieldDefinition.getName());\n                codeRegistryBuilder.dataFetcher(fieldCoordinates, newDataFetcher);\n            }\n            \n            return insertAfter(context, graphQLObjectType);\n        }\n    };\n}\n</code></pre>\n<p>This method returns the visitor that I need to use in <em>transformSchema</em> method.</p>\n<p>So, am I doing the wrong way of changing schema in runtime or is the dependency has a bug? Maybe it is impossible to change graphql schema in runtime. I do not know</p>\n"},{"tags":["java","servlets","active-directory","single-sign-on","kerberos"],"comments":[{"owner":{"account_id":3059285,"reputation":4045,"user_id":2592309,"display_name":"raspy"},"score":0,"creation_date":1674656046,"post_id":75213884,"comment_id":132760954,"body_markdown":"The browser will not send credentials unless explicitly asked to do so by the web server. You need to configure your web server to request SPNEGO authentication, check i.e. [Waffle project](https://waffle.github.io/waffle/README.html) for Java Kerberos authentication and hints for required setup.","body":"The browser will not send credentials unless explicitly asked to do so by the web server. You need to configure your web server to request SPNEGO authentication, check i.e. <a href=\"https://waffle.github.io/waffle/README.html\" rel=\"nofollow noreferrer\">Waffle project</a> for Java Kerberos authentication and hints for required setup."}],"owner":{"account_id":2007211,"reputation":581,"user_id":1796748,"accept_rate":40,"display_name":"yonikawa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674500411,"creation_date":1674500411,"question_id":75213884,"body_markdown":"I am trying to implement `SSO` using `AD/Kerberos`. I have configured Edge/Chrome for `Integrated Windows Authentication` (IWA).But there is no Active Directory/Kerberos installed  yet on my local machine. For test purpose, on running the java webapp code, I get null for `HttpServletRequest.getRemoteUser()`call.\r\nI was under the impression the client browser(Edge/Chrome) will send the logged in user credentials to the backend server once IWA is enabled even without an AD/Kerberos set up. Is this statement true? After doing some research,now I think the getRemoteUser() will return the logged in user object only after successfull authentication against the AD. Is that the case? Sorry I am an SSO newbie.\r\n\r\n\r\n","title":"HttpServletRequest.getRemoteUser() returns null","body":"<p>I am trying to implement <code>SSO</code> using <code>AD/Kerberos</code>. I have configured Edge/Chrome for <code>Integrated Windows Authentication</code> (IWA).But there is no Active Directory/Kerberos installed  yet on my local machine. For test purpose, on running the java webapp code, I get null for <code>HttpServletRequest.getRemoteUser()</code>call.\nI was under the impression the client browser(Edge/Chrome) will send the logged in user credentials to the backend server once IWA is enabled even without an AD/Kerberos set up. Is this statement true? After doing some research,now I think the getRemoteUser() will return the logged in user object only after successfull authentication against the AD. Is that the case? Sorry I am an SSO newbie.</p>\n"},{"tags":["java","sql","mongodb","spring-boot","mongodb-query"],"comments":[{"owner":{"account_id":18482495,"reputation":14167,"user_id":13464279,"display_name":"J.F."},"score":0,"creation_date":1674499917,"post_id":75213638,"comment_id":132722786,"body_markdown":"Have you tried something like `@Query(&quot;{&#39;requestId&#39;: ?0}&quot;) String findPartnerNameByRequestId(Long requestId);`. Or even in your method add `findOne(query, Customer.class).getPartnerName()`","body":"Have you tried something like <code>@Query(&quot;{&#39;requestId&#39;: ?0}&quot;) String findPartnerNameByRequestId(Long requestId);</code>. Or even in your method add <code>findOne(query, Customer.class).getPartnerName()</code>"},{"owner":{"account_id":26332949,"reputation":3,"user_id":19993205,"display_name":"sticky fingers"},"score":0,"creation_date":1674501304,"post_id":75213638,"comment_id":132723217,"body_markdown":"I tried to do it this way, but I couldn&#39;t, so I tried to write it in query format. How do we assign the value from the input to the requestId value?","body":"I tried to do it this way, but I couldn&#39;t, so I tried to write it in query format. How do we assign the value from the input to the requestId value?"},{"owner":{"account_id":18482495,"reputation":14167,"user_id":13464279,"display_name":"J.F."},"score":0,"creation_date":1674501424,"post_id":75213638,"comment_id":132723252,"body_markdown":"Do you mean to call the repository like `repository.findPartnerNameByRequestId(customerRequest.getId())`? I&#39;ve not tested but I think it should works.","body":"Do you mean to call the repository like <code>repository.findPartnerNameByRequestId(customerRequest.getId(&zwnj;&#8203;))</code>? I&#39;ve not tested but I think it should works."}],"owner":{"account_id":26332949,"reputation":3,"user_id":19993205,"display_name":"sticky fingers"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674500041,"creation_date":1674498997,"question_id":75213638,"body_markdown":"How can I write a query with the following sql statement as a method in mongo with springboot?\r\n\r\nSELECT partnerName\r\nFROM xTable\r\nWHERE requestId = &quot;123&quot;\r\n\r\n    @Override\r\n    public String findPartnerName(Customer customerRequest) {\r\n    \tQuery query = new Query();\r\n    \tquery.addCriteria(Criteria.where(&quot;requestId&quot;).is(customerRequest.getId()));\r\n    \treturn mongoTemplate.find(query,Customer.class).toString();\r\n    }\r\n\r\nThe requestId value should come in a way like request.getId() that will come in the input.\r\nHow can I write this method, with a query or in this way, can you please help? I&#39;m about to eat my head.\r\n","title":"How can I write a query in the criteria I want with springboot in mongo, with custom query or query anatation?","body":"<p>How can I write a query with the following sql statement as a method in mongo with springboot?</p>\n<p>SELECT partnerName\nFROM xTable\nWHERE requestId = &quot;123&quot;</p>\n<pre><code>@Override\npublic String findPartnerName(Customer customerRequest) {\n    Query query = new Query();\n    query.addCriteria(Criteria.where(&quot;requestId&quot;).is(customerRequest.getId()));\n    return mongoTemplate.find(query,Customer.class).toString();\n}\n</code></pre>\n<p>The requestId value should come in a way like request.getId() that will come in the input.\nHow can I write this method, with a query or in this way, can you please help? I'm about to eat my head.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1674500054,"post_id":75213771,"comment_id":132722836,"body_markdown":"Not sure of the details of the problem (looks like you need to find 2 numbers in an array that sum to a 3rd) but if the indexes have to be unique, change to `for (j = i + 1; j &lt; k; j++)`","body":"Not sure of the details of the problem (looks like you need to find 2 numbers in an array that sum to a 3rd) but if the indexes have to be unique, change to <code>for (j = i + 1; j &lt; k; j++)</code>"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1674500194,"post_id":75213771,"comment_id":132722885,"body_markdown":"*even in the first 2 testcases,* What is the input of this testcases?","body":"<i>even in the first 2 testcases,</i> What is the input of this testcases?"},{"owner":{"account_id":27603177,"reputation":11,"user_id":21067974,"display_name":"Dhyeya Vyas"},"score":0,"creation_date":1674500703,"post_id":75213771,"comment_id":132723042,"body_markdown":"the test cases are [2,7,11,15] target 9, [3,2,4] target 6, [3,3] target 6. I am getting the reversed answer in first 2, meaning instead if [0,1] in first, i am getting [1,0]. but for the last i am getting straight up wrong one, [1,1]","body":"the test cases are [2,7,11,15] target 9, [3,2,4] target 6, [3,3] target 6. I am getting the reversed answer in first 2, meaning instead if [0,1] in first, i am getting [1,0]. but for the last i am getting straight up wrong one, [1,1]"},{"owner":{"account_id":27603177,"reputation":11,"user_id":21067974,"display_name":"Dhyeya Vyas"},"score":0,"creation_date":1674500960,"post_id":75213771,"comment_id":132723122,"body_markdown":"ohk, got it, Johnny wrote the mistake i had made","body":"ohk, got it, Johnny wrote the mistake i had made"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674510321,"post_id":75213771,"comment_id":132725745,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":27603177,"reputation":11,"user_id":21067974,"display_name":"Dhyeya Vyas"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1674499823,"creation_date":1674499823,"question_id":75213771,"body_markdown":"    class Solution {\r\n        public int[] twoSum(int[] nums, int target) {\r\n            int i;\r\n            int j;\r\n            int k=nums.length;\r\n            int[] w =new int[2];\r\n            for(i=0; i&lt;k; i++)\r\n            {\r\n                int s=nums[i];\r\n                for(j=0; j&lt;k; j++)\r\n                {\r\n                    int temp=0;\r\n                    int q=nums[j];\r\n                    temp=s+q;\r\n                    if(temp==target){\r\n                        w[0]=i;\r\n                        w[1]=j;\r\n                    }\r\n                    else{\r\n                        temp=0;\r\n                    }\r\n                }\r\n            }\r\n            return w ;\r\n        }\r\n    }\r\nThis is my code, even in the first 2 testcases, i got the answer reversed, meaning instead of [0,1] i got [1,0]","title":"In 2 array sum question on leetcode and i keep getting inccorect answer in my last testcase of [3,3]. Instead of getting [0,1], i am getting [1,1]]","body":"<pre><code>class Solution {\n    public int[] twoSum(int[] nums, int target) {\n        int i;\n        int j;\n        int k=nums.length;\n        int[] w =new int[2];\n        for(i=0; i&lt;k; i++)\n        {\n            int s=nums[i];\n            for(j=0; j&lt;k; j++)\n            {\n                int temp=0;\n                int q=nums[j];\n                temp=s+q;\n                if(temp==target){\n                    w[0]=i;\n                    w[1]=j;\n                }\n                else{\n                    temp=0;\n                }\n            }\n        }\n        return w ;\n    }\n}\n</code></pre>\n<p>This is my code, even in the first 2 testcases, i got the answer reversed, meaning instead of [0,1] i got [1,0]</p>\n"},{"tags":["java","text","javafx","colors","opacity"],"answers":[{"tags":[],"owner":{"account_id":3621325,"reputation":1184,"user_id":3019990,"accept_rate":83,"display_name":"CAD97"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1586481505,"creation_date":1456812520,"answer_id":35715848,"question_id":35715283,"body_markdown":"You can use `Math.random()` to generate a `Double` in the range `[0,1)`, so you need to do:\r\n\r\n`text.`[`setOpacity`](https://docs.oracle.com/javase/8/javafx/api/javafx/scene/Node.html#setOpacity-double-)`(Math.random());`\r\n\r\nColor took a little more digging through the docs, but can be accomplished with:\r\n\r\n`text.`[`setFill`](https://docs.oracle.com/javase/8/javafx/api/javafx/scene/shape/Shape.html#setFill-javafx.scene.paint.Paint-)`(`[`Color.color`](https://docs.oracle.com/javase/8/javafx/api/javafx/scene/paint/Color.html)`(Math.random(), Math.random(), Math.random());`\r\n\r\n`setFill` comes from `Shape`, which `Text` inherits from. `setFill` takes a `Paint`, which `Color` is the simplest implementation of. `Color.color(double, double, double)` takes the rgb value with doubles in the range [0,1].\r\n\r\nLearn how to navigate through the docs and you&#39;ll be able to find these sorts of things on your own quickly in the future!\r\n\r\nNote: opacity/rgb color all take doubles of the range [0,1] where `Math.random()` produces in the range [0,1). If you&#39;re unfamiliar with this notation, this means `Math.random()` will NEVER produce 1, only a number smaller than 1 by possible accuracy. This means that you will never have a 100% fully opaque/r/g/b with this method but in reality you probably can&#39;t tell the difference, so it&#39;s better to use the less complicated method.\r\n\r\nNote 2: `javafx.scene.paint.Color#color` actually provides a four-argument constructor that includes opacity, but I would recommend setting the opacity of the Text node itself as above rather than the opacity of the Paint.","title":"Set text to random color &amp; opacity javaFX","body":"<p>You can use <code>Math.random()</code> to generate a <code>Double</code> in the range <code>[0,1)</code>, so you need to do:</p>\n\n<p><code>text.</code><a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/Node.html#setOpacity-double-\" rel=\"nofollow noreferrer\"><code>setOpacity</code></a><code>(Math.random());</code></p>\n\n<p>Color took a little more digging through the docs, but can be accomplished with:</p>\n\n<p><code>text.</code><a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/shape/Shape.html#setFill-javafx.scene.paint.Paint-\" rel=\"nofollow noreferrer\"><code>setFill</code></a><code>(</code><a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/paint/Color.html\" rel=\"nofollow noreferrer\"><code>Color.color</code></a><code>(Math.random(), Math.random(), Math.random());</code></p>\n\n<p><code>setFill</code> comes from <code>Shape</code>, which <code>Text</code> inherits from. <code>setFill</code> takes a <code>Paint</code>, which <code>Color</code> is the simplest implementation of. <code>Color.color(double, double, double)</code> takes the rgb value with doubles in the range [0,1].</p>\n\n<p>Learn how to navigate through the docs and you'll be able to find these sorts of things on your own quickly in the future!</p>\n\n<p>Note: opacity/rgb color all take doubles of the range [0,1] where <code>Math.random()</code> produces in the range [0,1). If you're unfamiliar with this notation, this means <code>Math.random()</code> will NEVER produce 1, only a number smaller than 1 by possible accuracy. This means that you will never have a 100% fully opaque/r/g/b with this method but in reality you probably can't tell the difference, so it's better to use the less complicated method.</p>\n\n<p>Note 2: <code>javafx.scene.paint.Color#color</code> actually provides a four-argument constructor that includes opacity, but I would recommend setting the opacity of the Text node itself as above rather than the opacity of the Paint.</p>\n"},{"tags":[],"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609561862,"creation_date":1609561862,"answer_id":65536031,"question_id":35715283,"body_markdown":"Like this:\r\n\r\n    Text randomColorText(String txt) {\r\n        Text t = new Text(txt);\r\n        Random rng = new Random();\r\n        int c = rng.nextInt();\r\n        int r = c &amp; 255;\r\n        int g = (c &gt;&gt;&gt; 8) &amp; 255;\r\n        int b = (c &gt;&gt;&gt; 16) &amp; 255;\r\n        double op = (c &gt;&gt;&gt; 24) / 255.0;\r\n        t.setFill(Color.rgb(r, g, b, op));\r\n        // or use only r,g,b above and set opacity of the Text shape: t.setOpacity(op);\r\n        return t;\r\n    }\r\n\r\nNote that the other answer that mentions how Random will never return a double == 1.0, says you won&#39;t get the full range of colours is wrong.  Color RGB values do not have the same range as double - typically they end up as 8-bit values in the range 0-255 at some point, on some high end applications you might use 16-bits per channel.  You will get the full range of colours using the doubles from Random.\r\n\r\nYou will note that I avoided calling into the random number generator multiple times for what is usually represented by a 32-bit value.  (Micro-optimization: Calling nextInt does half the work of nextDouble, and we only need to call it once.  I would typically save the instance of Random as a static variable rather than create one every time that method is called. java.util.Random is threeadsafe.)","title":"Set text to random color &amp; opacity javaFX","body":"<p>Like this:</p>\n<pre><code>Text randomColorText(String txt) {\n    Text t = new Text(txt);\n    Random rng = new Random();\n    int c = rng.nextInt();\n    int r = c &amp; 255;\n    int g = (c &gt;&gt;&gt; 8) &amp; 255;\n    int b = (c &gt;&gt;&gt; 16) &amp; 255;\n    double op = (c &gt;&gt;&gt; 24) / 255.0;\n    t.setFill(Color.rgb(r, g, b, op));\n    // or use only r,g,b above and set opacity of the Text shape: t.setOpacity(op);\n    return t;\n}\n</code></pre>\n<p>Note that the other answer that mentions how Random will never return a double == 1.0, says you won't get the full range of colours is wrong.  Color RGB values do not have the same range as double - typically they end up as 8-bit values in the range 0-255 at some point, on some high end applications you might use 16-bits per channel.  You will get the full range of colours using the doubles from Random.</p>\n<p>You will note that I avoided calling into the random number generator multiple times for what is usually represented by a 32-bit value.  (Micro-optimization: Calling nextInt does half the work of nextDouble, and we only need to call it once.  I would typically save the instance of Random as a static variable rather than create one every time that method is called. java.util.Random is threeadsafe.)</p>\n"}],"owner":{"account_id":5744060,"reputation":81,"user_id":4535766,"accept_rate":40,"display_name":"Sunny Dhillon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16826,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":35715848,"answer_count":2,"score":6,"last_activity_date":1674499227,"creation_date":1456809923,"question_id":35715283,"body_markdown":"I need a JavaFX program to set text to a random color and opacity I&#39;m not sure on how to do it. \r\n\r\nHere is a sample of my code:\r\n\r\n    Text text1 = new Text();\r\n    text1.setText(&quot;Java&quot;);\r\n    text1.setFont(Font.font(&quot;Times New Roman&quot;, FontWeight.BOLD, FontPosture.ITALIC, 22));\r\n    text1.setRotate(90);\r\n    gridpane.add(text1, 3, 1);","title":"Set text to random color &amp; opacity javaFX","body":"<p>I need a JavaFX program to set text to a random color and opacity I'm not sure on how to do it.</p>\n<p>Here is a sample of my code:</p>\n<pre><code>Text text1 = new Text();\ntext1.setText(&quot;Java&quot;);\ntext1.setFont(Font.font(&quot;Times New Roman&quot;, FontWeight.BOLD, FontPosture.ITALIC, 22));\ntext1.setRotate(90);\ngridpane.add(text1, 3, 1);\n</code></pre>\n"},{"tags":["java","kubernetes"],"comments":[{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":0,"creation_date":1674499444,"post_id":75213653,"comment_id":132722628,"body_markdown":"How would this help?  If any sacrificial process actually uses physical, non-virtual RAM, it&#39;s deliberately wasting scarce resources.  And if it doesn&#39;t actually use physical non-virtual RAM, getting killed by [the out-of-fuel killer](https://lwn.net/Articles/104185/) won&#39;t change things and the next target will be killed.  If you need reliability, disable memory overcommit, disable the OOM killer, and don&#39;t run stupidly-designed applications that blindly assume they can ask for all kinds of memory they never use.","body":"How would this help?  If any sacrificial process actually uses physical, non-virtual RAM, it&#39;s deliberately wasting scarce resources.  And if it doesn&#39;t actually use physical non-virtual RAM, getting killed by <a href=\"https://lwn.net/Articles/104185/\" rel=\"nofollow noreferrer\">the out-of-fuel killer</a> won&#39;t change things and the next target will be killed.  If you need reliability, disable memory overcommit, disable the OOM killer, and don&#39;t run stupidly-designed applications that blindly assume they can ask for all kinds of memory they never use."},{"owner":{"account_id":5784681,"reputation":59,"user_id":4564301,"display_name":"Elominp"},"score":0,"creation_date":1674500109,"post_id":75213653,"comment_id":132722853,"body_markdown":"Yes I know it&#39;s basically wasting a bit memory but in this case that&#39;s pretty much the idea so it&#39;s used a buffer freeing a bit memory when it occurs. I don&#39;t expect this to totally protect against the OoM killer, just increase the probability of being able to stop correctly above 0 compared to right now. Let&#39;s say I don&#39;t have the ability to administrate the cluster itself, not able to choose the language and frameworks of the apps and just deploy pods and their configuration (so for example setting the memory limit) while still trying to not just setting the limit sky high.","body":"Yes I know it&#39;s basically wasting a bit memory but in this case that&#39;s pretty much the idea so it&#39;s used a buffer freeing a bit memory when it occurs. I don&#39;t expect this to totally protect against the OoM killer, just increase the probability of being able to stop correctly above 0 compared to right now. Let&#39;s say I don&#39;t have the ability to administrate the cluster itself, not able to choose the language and frameworks of the apps and just deploy pods and their configuration (so for example setting the memory limit) while still trying to not just setting the limit sky high."},{"owner":{"account_id":87202,"reputation":17573,"user_id":241986,"accept_rate":80,"display_name":"Boris Treukhov"},"score":1,"creation_date":1674500204,"post_id":75213653,"comment_id":132722890,"body_markdown":"If you have a java process you&#39;d better detect sudden spikes and run memory/commitment profiling, as for OOMs you should first limit the maximum memory of jvm(https://www.youtube.com/watch?v=c755fFv1Rnk) then enable shutdown on OOM from inside the java -XX:+ExitOnOutOfMemoryError and dont forget to enable -XX:+HeapDumpOnOutOfMemoryError (and ensure that  heap dump is collected to some shared volume and persisted between containers and removed periodically because only first one wins over the latter ones)","body":"If you have a java process you&#39;d better detect sudden spikes and run memory/commitment profiling, as for OOMs you should first limit the maximum memory of jvm(<a href=\"https://www.youtube.com/watch?v=c755fFv1Rnk\" rel=\"nofollow noreferrer\">youtube.com/watch?v=c755fFv1Rnk</a>) then enable shutdown on OOM from inside the java -XX:+ExitOnOutOfMemoryError and dont forget to enable -XX:+HeapDumpOnOutOfMemoryError (and ensure that  heap dump is collected to some shared volume and persisted between containers and removed periodically because only first one wins over the latter ones)"},{"owner":{"account_id":5784681,"reputation":59,"user_id":4564301,"display_name":"Elominp"},"score":0,"creation_date":1674500239,"post_id":75213653,"comment_id":132722904,"body_markdown":"And to be fair, even if Java is indeed a memory hog, calls to memory allocation always succeed even beyond the limit (so it doesn&#39;t help the app) and the memory used can increase inside a pod without allocating memory but by just touching new pages of code and it will then stay here as there&#39;s no swap","body":"And to be fair, even if Java is indeed a memory hog, calls to memory allocation always succeed even beyond the limit (so it doesn&#39;t help the app) and the memory used can increase inside a pod without allocating memory but by just touching new pages of code and it will then stay here as there&#39;s no swap"},{"owner":{"account_id":87202,"reputation":17573,"user_id":241986,"accept_rate":80,"display_name":"Boris Treukhov"},"score":0,"creation_date":1674500736,"post_id":75213653,"comment_id":132723060,"body_markdown":"You can enable -XX:+AlwaysPreTouch in java for testing. P.S. and don&#39;t forget to enable JFR recording and record to the shared or per container folder, JFR is supposed to work in production","body":"You can enable -XX:+AlwaysPreTouch in java for testing. P.S. and don&#39;t forget to enable JFR recording and record to the shared or per container folder, JFR is supposed to work in production"},{"owner":{"account_id":5784681,"reputation":59,"user_id":4564301,"display_name":"Elominp"},"score":0,"creation_date":1674500837,"post_id":75213653,"comment_id":132723084,"body_markdown":"Hmm thanks for the ExitOnOutOfMemoryError I didn&#39;t know about it, I&#39;ll try if it works but I fear even for the JVM it shouldn&#39;t be able to survive long enough after the Linux OoM killer triggers as it sends SIGKILL to processes no? The main issue is the OoM caused by the non-heap memory touched and triggering the OoM killer immediately once the pod uses more memory than the limit (as there&#39;s no swap nor any memory overcommit system enabled). Simplest solution by far is of course to just increase the memory limit of the deployment","body":"Hmm thanks for the ExitOnOutOfMemoryError I didn&#39;t know about it, I&#39;ll try if it works but I fear even for the JVM it shouldn&#39;t be able to survive long enough after the Linux OoM killer triggers as it sends SIGKILL to processes no? The main issue is the OoM caused by the non-heap memory touched and triggering the OoM killer immediately once the pod uses more memory than the limit (as there&#39;s no swap nor any memory overcommit system enabled). Simplest solution by far is of course to just increase the memory limit of the deployment"},{"owner":{"account_id":87202,"reputation":17573,"user_id":241986,"accept_rate":80,"display_name":"Boris Treukhov"},"score":1,"creation_date":1674501015,"post_id":75213653,"comment_id":132723137,"body_markdown":"You can monitor out of the heap allocations (with XX:NativeMemoryTracking=summary), and once again I suggest you to start async profiler after the spikes(i personaly use a bash script than runs in background and starts profiling if sh happens) , so that you would be able to track down the leak if there is one","body":"You can monitor out of the heap allocations (with XX:NativeMemoryTracking=summary), and once again I suggest you to start async profiler after the spikes(i personaly use a bash script than runs in background and starts profiling if sh happens) , so that you would be able to track down the leak if there is one"},{"owner":{"account_id":5784681,"reputation":59,"user_id":4564301,"display_name":"Elominp"},"score":1,"creation_date":1674501253,"post_id":75213653,"comment_id":132723197,"body_markdown":"Yes I&#39;m already setting heap size, enabling the AlwaysPreTouch option and have JFR recordings. I also set the MALLOC_ARENA_MAX environment variable and have regular calls to System.trim_native_heap diagnostic command to reduce native memory fragmentation but the real issue is trying to cleanly handle random surges of non-heap memory usages from the JVM without requesting too much memory for pods that normally don&#39;t need it and on the other end being able to cleanly stop them instead of them being immediately killed","body":"Yes I&#39;m already setting heap size, enabling the AlwaysPreTouch option and have JFR recordings. I also set the MALLOC_ARENA_MAX environment variable and have regular calls to System.trim_native_heap diagnostic command to reduce native memory fragmentation but the real issue is trying to cleanly handle random surges of non-heap memory usages from the JVM without requesting too much memory for pods that normally don&#39;t need it and on the other end being able to cleanly stop them instead of them being immediately killed"},{"owner":{"account_id":87202,"reputation":17573,"user_id":241986,"accept_rate":80,"display_name":"Boris Treukhov"},"score":0,"creation_date":1674501620,"post_id":75213653,"comment_id":132723312,"body_markdown":"My current solution is watch for the sudden spikes and quickly run some quick profiling and collecting reports like top, pmap, state of native memory etc.","body":"My current solution is watch for the sudden spikes and quickly run some quick profiling and collecting reports like top, pmap, state of native memory etc."},{"owner":{"account_id":5784681,"reputation":59,"user_id":4564301,"display_name":"Elominp"},"score":0,"creation_date":1674502867,"post_id":75213653,"comment_id":132723717,"body_markdown":"I&#39;m already past this and I&#39;m talking about processes not with a leaky straight increasing curve of memory usage, just crashs occurring when the pod is heavily stressed and running very close to the limit so that just few MBs of memory suddenly used by the JVM for whatever it needs at that time is enough to get it killed, mainly just recompiling bytecode... But I&#39;ll stop here anyway, I can perfectly understand why anyone would find this situation absurd and not understand the reason outside of context as this is mainly a money-related issue. Thanks for your help and time :)","body":"I&#39;m already past this and I&#39;m talking about processes not with a leaky straight increasing curve of memory usage, just crashs occurring when the pod is heavily stressed and running very close to the limit so that just few MBs of memory suddenly used by the JVM for whatever it needs at that time is enough to get it killed, mainly just recompiling bytecode... But I&#39;ll stop here anyway, I can perfectly understand why anyone would find this situation absurd and not understand the reason outside of context as this is mainly a money-related issue. Thanks for your help and time :)"}],"owner":{"account_id":5784681,"reputation":59,"user_id":4564301,"display_name":"Elominp"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674499118,"creation_date":1674499118,"question_id":75213653,"body_markdown":"For containers with low memory limits (few hundred of MBs) for applications that allocate sections of their memory in percentage like Java applications (so not easy to just increase limit of a few MB for example), would it be considered a bad practice to include a sacrificial process to enable the application to terminates gracefully instead of being killed in case of the OoM killer being triggered?\r\n\r\nJust a simple concept like that:\r\n\r\n- Spawn small process locking a defined amount of memory (for example 16 or 32MB) in resident memory (so count as used memory in the cgroups limit)\r\n- Set the `oom_score_adj` of this sacrificial process to `1000` so that its total `oom_score` is always &gt;= 0\r\n- Set the `oom_score_adj` of the application process to `0` so that its total `oom_score` is always &lt;= 0\r\n- Have a background daemon or thread monitoring the sacrificial process, if it gets killed then send `SIGTERM` (or whatever else to notify the app to stop) so it can try to gracefully finish current treatments and stop instead of being immediately killed if the memory freed by the killed sacrificial process enabled the pod to remain behind the memory limit until it completely stopped\r\n\r\nOne drawback of doing this I see is that it would be dependent of the OoM implementation and is not portable, if it changes or the container is based on Windows instead of Linux for example then it wouldn&#39;t work.\r\n\r\nBeside this, do you have any idea of why it would be bad practice or idea to handle OoM issues like this?","title":"Would it be bad practice to have a sacrificial process for the OoM killer in Kubernetes?","body":"<p>For containers with low memory limits (few hundred of MBs) for applications that allocate sections of their memory in percentage like Java applications (so not easy to just increase limit of a few MB for example), would it be considered a bad practice to include a sacrificial process to enable the application to terminates gracefully instead of being killed in case of the OoM killer being triggered?</p>\n<p>Just a simple concept like that:</p>\n<ul>\n<li>Spawn small process locking a defined amount of memory (for example 16 or 32MB) in resident memory (so count as used memory in the cgroups limit)</li>\n<li>Set the <code>oom_score_adj</code> of this sacrificial process to <code>1000</code> so that its total <code>oom_score</code> is always &gt;= 0</li>\n<li>Set the <code>oom_score_adj</code> of the application process to <code>0</code> so that its total <code>oom_score</code> is always &lt;= 0</li>\n<li>Have a background daemon or thread monitoring the sacrificial process, if it gets killed then send <code>SIGTERM</code> (or whatever else to notify the app to stop) so it can try to gracefully finish current treatments and stop instead of being immediately killed if the memory freed by the killed sacrificial process enabled the pod to remain behind the memory limit until it completely stopped</li>\n</ul>\n<p>One drawback of doing this I see is that it would be dependent of the OoM implementation and is not portable, if it changes or the container is based on Windows instead of Linux for example then it wouldn't work.</p>\n<p>Beside this, do you have any idea of why it would be bad practice or idea to handle OoM issues like this?</p>\n"},{"tags":["java","math","3d","procedural"],"answers":[{"tags":[],"owner":{"account_id":17253374,"reputation":63,"user_id":12493042,"display_name":"BigTing"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674498987,"creation_date":1674498987,"answer_id":75213635,"question_id":69556348,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1NPbk.png\r\n\r\nI managed to index all of my vertices using the algorithm above. If anyone needs any further explanation please feel free to ask.","title":"Sorting 3D Grid Points into 3D Grid Cells","body":"<p><a href=\"https://i.stack.imgur.com/1NPbk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1NPbk.png\" alt=\"enter image description here\" /></a></p>\n<p>I managed to index all of my vertices using the algorithm above. If anyone needs any further explanation please feel free to ask.</p>\n"}],"owner":{"account_id":17253374,"reputation":63,"user_id":12493042,"display_name":"BigTing"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75213635,"answer_count":1,"score":2,"last_activity_date":1674498987,"creation_date":1634131313,"question_id":69556348,"body_markdown":"I&#39;m kind of at a roadblock while trying to assign 3D grid points as vertices to Cells.\r\nThe Cells should just contain 8 points as corner vertices.\r\n\r\nI have created the grid without any issues, but cant seem to figure out how to sort the points to their according cells.\r\n\r\nThis sketch illustrates how the points are indexed:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nOne cube with 8 corner points would correspond to a Cell (ex. Cell0 would include points 0,1,3,4,6,7,9,10 as corner points).\r\n\r\nThe code should be something like this:\r\n\r\n    public class Cell\r\n        {\r\n    \t\tpublic int[] Index =new int[8];\r\n        }\r\n\r\n    public void makeCells()\r\n        {\r\n    \t\tnumCells = (xSize - 1) * (zSize - 1) * (ySize - 1);\r\n    \t\tCells = new Cell[numCells];\r\n    \r\n    \t\tfor ( int i = 0, j = 0; i &lt; numCells; i++)\r\n            {\r\n    \t\t\tCells[i] = new Cell();\r\n    \t\t\tfor ( int k = 0; k &lt;8; k++, j ++)\r\n                {\r\n    \t\t\t\tCells[i].Index[k] = j;\r\n    \t\t\t}\r\n            }\r\n        }\r\n\r\nI can&#39;t seem to get how to increment the indices properly so that they coordinate with the correct points.\r\nAny form of help would be appreciated!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pekJ6.jpg","title":"Sorting 3D Grid Points into 3D Grid Cells","body":"<p>I'm kind of at a roadblock while trying to assign 3D grid points as vertices to Cells.\nThe Cells should just contain 8 points as corner vertices.</p>\n<p>I have created the grid without any issues, but cant seem to figure out how to sort the points to their according cells.</p>\n<p>This sketch illustrates how the points are indexed:</p>\n<p><a href=\"https://i.stack.imgur.com/pekJ6.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pekJ6.jpg\" alt=\"enter image description here\" /></a></p>\n<p>One cube with 8 corner points would correspond to a Cell (ex. Cell0 would include points 0,1,3,4,6,7,9,10 as corner points).</p>\n<p>The code should be something like this:</p>\n<pre><code>public class Cell\n    {\n        public int[] Index =new int[8];\n    }\n\npublic void makeCells()\n    {\n        numCells = (xSize - 1) * (zSize - 1) * (ySize - 1);\n        Cells = new Cell[numCells];\n\n        for ( int i = 0, j = 0; i &lt; numCells; i++)\n        {\n            Cells[i] = new Cell();\n            for ( int k = 0; k &lt;8; k++, j ++)\n            {\n                Cells[i].Index[k] = j;\n            }\n        }\n    }\n</code></pre>\n<p>I can't seem to get how to increment the indices properly so that they coordinate with the correct points.\nAny form of help would be appreciated!</p>\n"},{"tags":["java","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1674492558,"post_id":75212488,"comment_id":132720629,"body_markdown":"Not a direct answer to your question, but an ID should not be used to determine business logic, such as using the ID value to determine the record order.  There should be a separate property to explicitly sort.","body":"Not a direct answer to your question, but an ID should not be used to determine business logic, such as using the ID value to determine the record order.  There should be a separate property to explicitly sort."},{"owner":{"account_id":4725913,"reputation":37,"user_id":3822558,"display_name":"user3822558"},"score":0,"creation_date":1674492667,"post_id":75212488,"comment_id":132720665,"body_markdown":"no its not to determine record order -it is for the &quot;Drink table&quot; where i have unique records of drinks. They are null prior to input and when saved in the table they have a unique id.   I don&#39;t use the id for ordering - it is just the input order is not the same:\n\nI did do a logger output and it seems when the data that I sent to backend is in the order of creation (e.g. firstDrink,secondDrink,thirdDrink etc.), i found out the order of the list changed randomly (secondDrink,thirdDrink,firstDrink) prior to save. To fix it would i have to artificially create an id to sort it before save?","body":"no its not to determine record order -it is for the &quot;Drink table&quot; where i have unique records of drinks. They are null prior to input and when saved in the table they have a unique id.   I don&#39;t use the id for ordering - it is just the input order is not the same:  I did do a logger output and it seems when the data that I sent to backend is in the order of creation (e.g. firstDrink,secondDrink,thirdDrink etc.), i found out the order of the list changed randomly (secondDrink,thirdDrink,firstDrink) prior to save. To fix it would i have to artificially create an id to sort it before save?"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1674493030,"post_id":75212488,"comment_id":132720767,"body_markdown":"You would need to dig into the generated SQL to determine why the inserts are in a different order than what you&#39;re expecting.  But again, the value of the ID should be irrelevant.","body":"You would need to dig into the generated SQL to determine why the inserts are in a different order than what you&#39;re expecting.  But again, the value of the ID should be irrelevant."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1674493155,"post_id":75212488,"comment_id":132720798,"body_markdown":"@user3822558 if you want to preserve order of list elements you need to use [`@OrderColumn`](https://docs.jboss.org/hibernate/jpa/2.1/api/javax/persistence/OrderColumn.html)","body":"@user3822558 if you want to preserve order of list elements you need to use <a href=\"https://docs.jboss.org/hibernate/jpa/2.1/api/javax/persistence/OrderColumn.html\" rel=\"nofollow noreferrer\"><code>@OrderColumn</code></a>"},{"owner":{"account_id":4725913,"reputation":37,"user_id":3822558,"display_name":"user3822558"},"score":0,"creation_date":1674496292,"post_id":75212488,"comment_id":132721748,"body_markdown":"but what is it ordering by though? The initial list of data its literally:\n\nDrink : name: firstDrink\nDrink : name :secondDrink\nDrink: name: thirdDrink\nI can&#39;t order by the name since they can differ and at that time theres no id to order?\nI mean by the time I am in the service to &quot;save&quot;, the list is already in a random order...","body":"but what is it ordering by though? The initial list of data its literally:  Drink : name: firstDrink Drink : name :secondDrink Drink: name: thirdDrink I can&#39;t order by the name since they can differ and at that time theres no id to order? I mean by the time I am in the service to &quot;save&quot;, the list is already in a random order..."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1674510568,"post_id":75212488,"comment_id":132725797,"body_markdown":"There needs to be a column in the database that represents the position of each drink in the order list.","body":"There needs to be a column in the database that represents the position of each drink in the order list."}],"owner":{"account_id":4725913,"reputation":37,"user_id":3822558,"display_name":"user3822558"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674498483,"creation_date":1674491995,"question_id":75212488,"body_markdown":"I have a class called Drink with  id, name, expirationDate. It is treated as a List under Order class.\r\nI have an API call that saves an Order which has List&lt;Drink&gt;.\r\n\r\nEx:\r\nDrink : first drink, Drink: second drink, etc... the ids are null at this point. \r\n\r\n\r\nwhen I call OrderRepository.save(incomingOrder), the drink order comes out different like :\r\nDrink1: id :1 name: second drink, id:2 name first drink etc...\r\n\r\nI did check the Rest call and the order of the Drinks is sequential to user&#39;s input (e.g. first,second, third etc.) but the saved list is in random order...\r\n\r\n I did do a logger output and it seems when the data that I sent to backend is in the order of creation (e.g. firstDrink,secondDrink,thirdDrink etc.), i found out the order of the list changed randomly (secondDrink,thirdDrink,firstDrink) prior to save (at the restController entry point). To fix it would i have to artificially create an id to sort it before save? \r\n\r\nDoes anyone know why?","title":"JPA Repository save not saving the list data in input sequence","body":"<p>I have a class called Drink with  id, name, expirationDate. It is treated as a List under Order class.\nI have an API call that saves an Order which has List.</p>\n<p>Ex:\nDrink : first drink, Drink: second drink, etc... the ids are null at this point.</p>\n<p>when I call OrderRepository.save(incomingOrder), the drink order comes out different like :\nDrink1: id :1 name: second drink, id:2 name first drink etc...</p>\n<p>I did check the Rest call and the order of the Drinks is sequential to user's input (e.g. first,second, third etc.) but the saved list is in random order...</p>\n<p>I did do a logger output and it seems when the data that I sent to backend is in the order of creation (e.g. firstDrink,secondDrink,thirdDrink etc.), i found out the order of the list changed randomly (secondDrink,thirdDrink,firstDrink) prior to save (at the restController entry point). To fix it would i have to artificially create an id to sort it before save?</p>\n<p>Does anyone know why?</p>\n"},{"tags":["java","hibernate","hibernate-mapping","hbm2java"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1674488183,"post_id":75211479,"comment_id":132719138,"body_markdown":"The default value is only used when hibernate generates the tables. Thus making it irrelevant if you reverse engineer it, as the default value already exists","body":"The default value is only used when hibernate generates the tables. Thus making it irrelevant if you reverse engineer it, as the default value already exists"}],"answers":[{"tags":[],"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674490463,"creation_date":1674490463,"answer_id":75212188,"question_id":75211479,"body_markdown":"I *believe* that the following mapping should work in all recent-ish versions of Hibernate:\r\n\r\n```java\r\n@Generated(INSERT)\r\n@ColumnDefault(&quot;CURRENT_TIMESTAMP&quot;)\r\n@Column(nullable = false)\r\npublic Timestamp getCreated() {\r\n    return this.created;\r\n}\r\n```\r\n\r\nIf that doesn&#39;t work, let me know.\r\n\r\n(It&#39;s certainly true that the reverse engineering tool doesn&#39;t know anything about default values.)\r\n","title":"Hibernate Tools (hbm2java): Column Default Value is Missing","body":"<p>I <em>believe</em> that the following mapping should work in all recent-ish versions of Hibernate:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Generated(INSERT)\n@ColumnDefault(&quot;CURRENT_TIMESTAMP&quot;)\n@Column(nullable = false)\npublic Timestamp getCreated() {\n    return this.created;\n}\n</code></pre>\n<p>If that doesn't work, let me know.</p>\n<p>(It's certainly true that the reverse engineering tool doesn't know anything about default values.)</p>\n"},{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674497930,"creation_date":1674497560,"answer_id":75213399,"question_id":75211479,"body_markdown":"At first, you need to find someone who will able to clarify how that database works. The problem is SQL column definition like `TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL` means following:\r\n- you never select null\r\n- you may not insert/set null\r\n- you may insert/set not null\r\n- you may either omit column in DML statement or specify `DEFAULT`, in that case DB generates value according to default expression (`CURRENT_TIMESTAMP` in your case)\r\n\r\nThe simplest option to get **exactly the same** functionality/capabilities in `Hibernate`, is to use [JPA Callbacks](https://docs.jboss.org/hibernate/stable/entitymanager/reference/en/html/listeners.html), smth. like:\r\n\r\n```java\r\n@Temporal(TemporalType.TIMESTAMP)\r\n@Column(name = &quot;CREATED&quot;, nullable = false, /* updatable = false, */ length = 29)\r\npublic Timestamp getCreated() {\r\n    return this.created;\r\n}\r\n\r\n@PrePersist\r\nprotected void onPrePersist() {\r\n     if (this.created == null) {\r\n         this.created = Timestamp.from(Instant.now());\r\n     }\r\n}\r\n```\r\n\r\nthat allows you to specify arbitrary created timestamp, and only if it is `null` `Hibernate` will use current time - that is exactly what DB allows you to do.\r\n\r\n\r\nOther options do something similar, but **not the same**, however some of them may suit you.\r\n\r\n1. `@CreationTimestamp`:\r\n\r\n```java\r\n@CreationTimestamp\r\n@Temporal(TemporalType.TIMESTAMP)\r\n@Column(name = &quot;CREATED&quot;, nullable = false, length = 29)\r\npublic Timestamp getCreated() {\r\n    return this.created;\r\n}\r\n```\r\n\r\nit ignores value of `this.created` and inserts current time, calculated on Java side, into DB.\r\n\r\n2. `@Generated(GenerationTime.INSERT)`\r\n\r\n```java\r\n@Generated(GenerationTime.INSERT)\r\n@Temporal(TemporalType.TIMESTAMP)\r\n@Column(name = &quot;CREATED&quot;, nullable = false, length = 29)\r\npublic Timestamp getCreated() {\r\n    return this.created;\r\n}\r\n```\r\n\r\nit ignores value of `this.created` and delegates generation of value to DB, basically it omits corresponding column in INSERT statement (well... &quot;generate&quot; is not correct definition here).\r\n\r\nif you choose to use either `@CreationTimestamp` or `@Generated(GenerationTime.INSERT)` remove corresponding setter `void setCreated(Timestamp created)` in order to avoid any confusion about mutability of `created` field.","title":"Hibernate Tools (hbm2java): Column Default Value is Missing","body":"<p>At first, you need to find someone who will able to clarify how that database works. The problem is SQL column definition like <code>TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL</code> means following:</p>\n<ul>\n<li>you never select null</li>\n<li>you may not insert/set null</li>\n<li>you may insert/set not null</li>\n<li>you may either omit column in DML statement or specify <code>DEFAULT</code>, in that case DB generates value according to default expression (<code>CURRENT_TIMESTAMP</code> in your case)</li>\n</ul>\n<p>The simplest option to get <strong>exactly the same</strong> functionality/capabilities in <code>Hibernate</code>, is to use <a href=\"https://docs.jboss.org/hibernate/stable/entitymanager/reference/en/html/listeners.html\" rel=\"nofollow noreferrer\">JPA Callbacks</a>, smth. like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Temporal(TemporalType.TIMESTAMP)\n@Column(name = &quot;CREATED&quot;, nullable = false, /* updatable = false, */ length = 29)\npublic Timestamp getCreated() {\n    return this.created;\n}\n\n@PrePersist\nprotected void onPrePersist() {\n     if (this.created == null) {\n         this.created = Timestamp.from(Instant.now());\n     }\n}\n</code></pre>\n<p>that allows you to specify arbitrary created timestamp, and only if it is <code>null</code> <code>Hibernate</code> will use current time - that is exactly what DB allows you to do.</p>\n<p>Other options do something similar, but <strong>not the same</strong>, however some of them may suit you.</p>\n<ol>\n<li><code>@CreationTimestamp</code>:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@CreationTimestamp\n@Temporal(TemporalType.TIMESTAMP)\n@Column(name = &quot;CREATED&quot;, nullable = false, length = 29)\npublic Timestamp getCreated() {\n    return this.created;\n}\n</code></pre>\n<p>it ignores value of <code>this.created</code> and inserts current time, calculated on Java side, into DB.</p>\n<ol start=\"2\">\n<li><code>@Generated(GenerationTime.INSERT)</code></li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Generated(GenerationTime.INSERT)\n@Temporal(TemporalType.TIMESTAMP)\n@Column(name = &quot;CREATED&quot;, nullable = false, length = 29)\npublic Timestamp getCreated() {\n    return this.created;\n}\n</code></pre>\n<p>it ignores value of <code>this.created</code> and delegates generation of value to DB, basically it omits corresponding column in INSERT statement (well... &quot;generate&quot; is not correct definition here).</p>\n<p>if you choose to use either <code>@CreationTimestamp</code> or <code>@Generated(GenerationTime.INSERT)</code> remove corresponding setter <code>void setCreated(Timestamp created)</code> in order to avoid any confusion about mutability of <code>created</code> field.</p>\n"}],"owner":{"account_id":2569165,"reputation":1400,"user_id":2228353,"accept_rate":60,"display_name":"fire_water"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674674962,"answer_count":2,"score":0,"last_activity_date":1674497930,"creation_date":1674487091,"question_id":75211479,"body_markdown":"I am using [hbm2java][1], which is part of [Hibernate Tools][2], to reverse engineer a database into JPA entity classes.\r\n\r\nI run the tool via `./mvnw clean generate-sources` and the entity classes are generated and saved to `target/generated-sources`.\r\n\r\nIn the `UserAccount` database table, the `Created` column is defined like this. Note the default value:\r\n\r\n    Created TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\r\n\r\nWhen hbm2java reverse engineers that column, the default value is not included:\r\n\r\n    ...\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    @Column(name = &quot;CREATED&quot;, nullable = false, length = 29)\r\n    public Timestamp getCreated() {\r\n    \treturn this.created;\r\n    }\r\n    \r\n    public void setCreated(Timestamp created) {\r\n    \tthis.created = created;\r\n    }\r\n    ...\r\n\r\nAs a result, a `DataIntegrityViolationException` is thrown when trying to save a `UserAccount` entity to the database:\r\n\r\n&gt; org.springframework.dao.DataIntegrityViolationException: not-null\r\n&gt; property references a null or transient value :\r\n&gt; com.example.UserAccount.created\r\n\r\nReally hoping there is a way around this as I have quite a few database columns with default values, the most complex being:\r\n\r\n    DEFAULT &#39;User&#39; + CAST(NEXT VALUE FOR SeqUserAccountUsername as VARCHAR(19))\r\n\r\n...that just generates a string such as User13.\r\n\r\nI&#39;m still learning Spring Boot and Hibernate and could use some advice on the best approach to solving this problem.\r\n\r\nMy current research:\r\n\r\n - The [same question][3] was asked back in 2007 in the Hibernate Forums but a solution was not provided.\r\n - [This documentation][4] talks about using the &quot;default-value&quot; attribute to set the &quot;Default initialization value for a field&quot;. Is that the correct approach?\r\n\r\n\r\n\r\n  [1]: https://github.com/hibernate/hibernate-tools/blob/main/maven/docs/5-minute-tutorial.md\r\n  [2]: https://hibernate.org/tools/\r\n  [3]: https://forum.hibernate.org/viewtopic.php?p=2348736\r\n  [4]: https://docs.jboss.org/tools/4.1.0.Final/en/hibernatetools/html/codegen.html","title":"Hibernate Tools (hbm2java): Column Default Value is Missing","body":"<p>I am using <a href=\"https://github.com/hibernate/hibernate-tools/blob/main/maven/docs/5-minute-tutorial.md\" rel=\"nofollow noreferrer\">hbm2java</a>, which is part of <a href=\"https://hibernate.org/tools/\" rel=\"nofollow noreferrer\">Hibernate Tools</a>, to reverse engineer a database into JPA entity classes.</p>\n<p>I run the tool via <code>./mvnw clean generate-sources</code> and the entity classes are generated and saved to <code>target/generated-sources</code>.</p>\n<p>In the <code>UserAccount</code> database table, the <code>Created</code> column is defined like this. Note the default value:</p>\n<pre><code>Created TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n</code></pre>\n<p>When hbm2java reverse engineers that column, the default value is not included:</p>\n<pre><code>...\n@Temporal(TemporalType.TIMESTAMP)\n@Column(name = &quot;CREATED&quot;, nullable = false, length = 29)\npublic Timestamp getCreated() {\n    return this.created;\n}\n\npublic void setCreated(Timestamp created) {\n    this.created = created;\n}\n...\n</code></pre>\n<p>As a result, a <code>DataIntegrityViolationException</code> is thrown when trying to save a <code>UserAccount</code> entity to the database:</p>\n<blockquote>\n<p>org.springframework.dao.DataIntegrityViolationException: not-null\nproperty references a null or transient value :\ncom.example.UserAccount.created</p>\n</blockquote>\n<p>Really hoping there is a way around this as I have quite a few database columns with default values, the most complex being:</p>\n<pre><code>DEFAULT 'User' + CAST(NEXT VALUE FOR SeqUserAccountUsername as VARCHAR(19))\n</code></pre>\n<p>...that just generates a string such as User13.</p>\n<p>I'm still learning Spring Boot and Hibernate and could use some advice on the best approach to solving this problem.</p>\n<p>My current research:</p>\n<ul>\n<li>The <a href=\"https://forum.hibernate.org/viewtopic.php?p=2348736\" rel=\"nofollow noreferrer\">same question</a> was asked back in 2007 in the Hibernate Forums but a solution was not provided.</li>\n<li><a href=\"https://docs.jboss.org/tools/4.1.0.Final/en/hibernatetools/html/codegen.html\" rel=\"nofollow noreferrer\">This documentation</a> talks about using the &quot;default-value&quot; attribute to set the &quot;Default initialization value for a field&quot;. Is that the correct approach?</li>\n</ul>\n"},{"tags":["java","release","java-platform-module-system"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1674485768,"post_id":75211213,"comment_id":132718259,"body_markdown":"It really depends on your target audience, but IMO the most comfortable approach is to install/bundle a JDK (or subset of one) with your application. That&#39;s what IntelliJ IDEA/Android Studio do, for example. Licensing-wise that&#39;s less cumbersome with non-Oracle distributions, usually. [This answer](https://stackoverflow.com/questions/58250782/which-free-version-of-java-can-i-use-for-production-environments-and-or-commerci) might help with picking the appropriate one.","body":"It really depends on your target audience, but IMO the most comfortable approach is to install/bundle a JDK (or subset of one) with your application. That&#39;s what IntelliJ IDEA/Android Studio do, for example. Licensing-wise that&#39;s less cumbersome with non-Oracle distributions, usually. <a href=\"https://stackoverflow.com/questions/58250782/which-free-version-of-java-can-i-use-for-production-environments-and-or-commerci\">This answer</a> might help with picking the appropriate one."},{"owner":{"account_id":2914715,"reputation":5751,"user_id":2498188,"accept_rate":85,"display_name":"Emily L."},"score":0,"creation_date":1674485820,"post_id":75211213,"comment_id":132718273,"body_markdown":"The target audience is joe-and-jane-gamer.","body":"The target audience is joe-and-jane-gamer."},{"owner":{"account_id":2914715,"reputation":5751,"user_id":2498188,"accept_rate":85,"display_name":"Emily L."},"score":0,"creation_date":1674485865,"post_id":75211213,"comment_id":132718293,"body_markdown":"@JoachimSauer do you have any reference to where I could look at common ways of doing that?","body":"@JoachimSauer do you have any reference to where I could look at common ways of doing that?"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1674497406,"creation_date":1674486786,"answer_id":75211416,"question_id":75211213,"body_markdown":"Oracle&#39;s point of view:\r\n\r\n* There is no longer a JRE (SOURCE: Try to find a JRE that oracle offers you above version 8 - it doesn&#39;t exist).\r\n* Instead, you write your app _with_ modules, and use the [*jlink*][1] tool to make a &#39;tree shaken&#39; JVM, this is a [JVM][2] with all the stuff that the modules you are using as basis don&#39;t even need. You produce one JVM for each and every platform you are interested in exporting as stand-alone installer thing.\r\n* You then write an installer that installs the tree-shaken JVM, _and_ your app, somewhere. The tree shaken JVM is __not__ registered as &#39;system JVM&#39;, in fact that notion that there is a JVM installed on a PC and you can find it using e.g. registry keys or by looking in known places such as `C:\\Program Files\\JavaSoft` is obsolete. You don&#39;t do that, that JVM is only for that app, that app knows where to find it and nothing else on the system does. Each and every java-based app has its own copy of its own (tree shaken or not) JVM that only it uses.\r\n* You, as the &#39;vendor&#39;, are on the hook for maintenance. If the JVM you shipped has a gaping security hole in it and that gets abused, it&#39;s your fault for not updating it, not oracle&#39;s. Oracle does not run `jusched.exe` or any other tooling to ensure it is kept up to date.\r\n\r\nAn easy alternative to this is that you simply move the responsibility of having a java runtime that can run your app to the shoulders of your user. Tell THEM to go download a [JDK][3] (because a JDK can run java apps just as well, actually better, than a JRE can), tell THEM to ensure it&#39;s on the `$PATH` or in a known location / tells you where to find it / set `JAVA_HOME`, and _they_ are responsible for keeping it up to date.\r\n\r\nOther vendors&#39; point of view:\r\n\r\n* Various other vendors do make a JRE for more modern versions. I have no idea if these JREs ship with `jusched.exe` or other update mechanisms, and how (or even _if_) these JREs register their existence in a way that your app / your installer can figure out where they are. You&#39;d have to investigate.\r\n\r\nThere is no need to actually treeshake a JVM, you can also just ship a full blown JDK with your app. For example, if your installer ends up doing this:\r\n\r\n* Sets &#39;program install root&#39; (&#39;root&#39;) to `C:\\Program Files\\EmilysAwesomeGame`\r\n* Unpacks JDK17 for windows x64 into `ROOT\\jdk`.\r\n* Unpacks all your dependency jars into `ROOT\\lib`.\r\n* Unpacks your main app into `ROOT\\emilygame.jar`\r\n* Makes a `.BAT` file that runs `%~dp0\\jdk\\home\\bin\\java -jar %~dp0\\emilygame.jar` and that jar has a MANIFEST with a `Class-Path` entry containing e.g. `lib\\javafx.jar lib\\someotherdep.jar`, then.. that&#39;ll work fine, and replacing that bat file with an exe that does the same thing also works fine (and &#39;ship your own JVM in a subdir&#39; is a model that tools like launch4j and similar have supported for a long time already).\r\n\r\nThe downside of not treeshaking is that the JDK is pretty large, and includes all sorts of stuff you wouldn&#39;t be using. But, it&#39;s just a matter of saving on disk space, a non-treeshaken JDK isn&#39;t going to run any slower, those unused parts would simply end up never being loaded.\r\n\r\nA very common &#39;deployment model&#39; is that you offer an msi with an exe for windows-x86 and tell everybody else to go install a JDK on their own responsibility and ship plain jars for everybody else (linux users, mac users, windows-aarch64, etc).\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/282\r\n  [2]: https://en.wikipedia.org/wiki/Java_virtual_machine\r\n  [3]: https://en.m.wikipedia.org/wiki/Java_Development_Kit","title":"What is the standard way to package/release a Java 17 application?","body":"<p>Oracle's point of view:</p>\n<ul>\n<li>There is no longer a JRE (SOURCE: Try to find a JRE that oracle offers you above version 8 - it doesn't exist).</li>\n<li>Instead, you write your app <em>with</em> modules, and use the <a href=\"https://openjdk.org/jeps/282\" rel=\"noreferrer\"><em>jlink</em></a> tool to make a 'tree shaken' JVM, this is a <a href=\"https://en.wikipedia.org/wiki/Java_virtual_machine\" rel=\"noreferrer\">JVM</a> with all the stuff that the modules you are using as basis don't even need. You produce one JVM for each and every platform you are interested in exporting as stand-alone installer thing.</li>\n<li>You then write an installer that installs the tree-shaken JVM, <em>and</em> your app, somewhere. The tree shaken JVM is <strong>not</strong> registered as 'system JVM', in fact that notion that there is a JVM installed on a PC and you can find it using e.g. registry keys or by looking in known places such as <code>C:\\Program Files\\JavaSoft</code> is obsolete. You don't do that, that JVM is only for that app, that app knows where to find it and nothing else on the system does. Each and every java-based app has its own copy of its own (tree shaken or not) JVM that only it uses.</li>\n<li>You, as the 'vendor', are on the hook for maintenance. If the JVM you shipped has a gaping security hole in it and that gets abused, it's your fault for not updating it, not oracle's. Oracle does not run <code>jusched.exe</code> or any other tooling to ensure it is kept up to date.</li>\n</ul>\n<p>An easy alternative to this is that you simply move the responsibility of having a java runtime that can run your app to the shoulders of your user. Tell THEM to go download a <a href=\"https://en.m.wikipedia.org/wiki/Java_Development_Kit\" rel=\"noreferrer\">JDK</a> (because a JDK can run java apps just as well, actually better, than a JRE can), tell THEM to ensure it's on the <code>$PATH</code> or in a known location / tells you where to find it / set <code>JAVA_HOME</code>, and <em>they</em> are responsible for keeping it up to date.</p>\n<p>Other vendors' point of view:</p>\n<ul>\n<li>Various other vendors do make a JRE for more modern versions. I have no idea if these JREs ship with <code>jusched.exe</code> or other update mechanisms, and how (or even <em>if</em>) these JREs register their existence in a way that your app / your installer can figure out where they are. You'd have to investigate.</li>\n</ul>\n<p>There is no need to actually treeshake a JVM, you can also just ship a full blown JDK with your app. For example, if your installer ends up doing this:</p>\n<ul>\n<li>Sets 'program install root' ('root') to <code>C:\\Program Files\\EmilysAwesomeGame</code></li>\n<li>Unpacks JDK17 for windows x64 into <code>ROOT\\jdk</code>.</li>\n<li>Unpacks all your dependency jars into <code>ROOT\\lib</code>.</li>\n<li>Unpacks your main app into <code>ROOT\\emilygame.jar</code></li>\n<li>Makes a <code>.BAT</code> file that runs <code>%~dp0\\jdk\\home\\bin\\java -jar %~dp0\\emilygame.jar</code> and that jar has a MANIFEST with a <code>Class-Path</code> entry containing e.g. <code>lib\\javafx.jar lib\\someotherdep.jar</code>, then.. that'll work fine, and replacing that bat file with an exe that does the same thing also works fine (and 'ship your own JVM in a subdir' is a model that tools like launch4j and similar have supported for a long time already).</li>\n</ul>\n<p>The downside of not treeshaking is that the JDK is pretty large, and includes all sorts of stuff you wouldn't be using. But, it's just a matter of saving on disk space, a non-treeshaken JDK isn't going to run any slower, those unused parts would simply end up never being loaded.</p>\n<p>A very common 'deployment model' is that you offer an msi with an exe for windows-x86 and tell everybody else to go install a JDK on their own responsibility and ship plain jars for everybody else (linux users, mac users, windows-aarch64, etc).</p>\n"},{"tags":[],"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1674488441,"creation_date":1674488441,"answer_id":75211751,"question_id":75211213,"body_markdown":"This question gets asked over and over again. Therefore there is an extensive diskussion of this topic here on SO. See: https://stackoverflow.com/tags/javafx/info The most relevant part for you is the section about &quot;Packaging&quot;.","title":"What is the standard way to package/release a Java 17 application?","body":"<p>This question gets asked over and over again. Therefore there is an extensive diskussion of this topic here on SO. See: <a href=\"https://stackoverflow.com/tags/javafx/info\">https://stackoverflow.com/tags/javafx/info</a> The most relevant part for you is the section about &quot;Packaging&quot;.</p>\n"}],"owner":{"account_id":2914715,"reputation":5751,"user_id":2498188,"accept_rate":85,"display_name":"Emily L."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":799,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":75211416,"answer_count":2,"score":8,"last_activity_date":1674497406,"creation_date":1674485668,"question_id":75211213,"body_markdown":"I have a publicly available Java 8 desktop application complete with MSI installer that I&#39;d like to update to Java 17.\r\n\r\nThe current user experience goes like this:\r\n\r\n1. User downloads MSI installer and runs it\r\n2. MSI installer checks for compatible Java 8 VM, if not present prompts the user to install one from http://java.com.\r\n3. User launches `application.exe` which is a shim that basically runs `java jar application.jar`.\r\n\r\nWhat I&#39;m struggling to understand is what the user is expected to install in a Java 9+ world. If I send the user to for example: https://www.oracle.com/java/technologies/downloads/ they are greeted with downloading the Java Development Kit which is a confusing thing to install for a user (&quot;Is this right? I don&#39;t want to develop stuff??&quot;).\r\n\r\nIn addition when you land on http://java.com it says &quot;if you were asked to download java, it&#39;s most likely this&quot;, which implies that if you release applications you should either use Java 8 (and forget the JavaFX disaster that is OpenJDK pre version 11, and just use Orcale Java)...\r\n\r\nI was under the impression that after Java 9, the promise of Jigsaw was to build a package that contains a native runtime and jar, all neatly bundled together so that the days of the end user having to install a JVM were over. However searching online, I see no support for this is Gradle or IntelliJ (or Eclipse for the matter) so this seems kind of like a dead pipedream?\r\n\r\nIf I want to ship a Java 17 application, is the user expected to install the JDK? If not, how am I supposed to package and ship my application?","title":"What is the standard way to package/release a Java 17 application?","body":"<p>I have a publicly available Java 8 desktop application complete with MSI installer that I'd like to update to Java 17.</p>\n<p>The current user experience goes like this:</p>\n<ol>\n<li>User downloads MSI installer and runs it</li>\n<li>MSI installer checks for compatible Java 8 VM, if not present prompts the user to install one from <a href=\"http://java.com\" rel=\"noreferrer\">http://java.com</a>.</li>\n<li>User launches <code>application.exe</code> which is a shim that basically runs <code>java jar application.jar</code>.</li>\n</ol>\n<p>What I'm struggling to understand is what the user is expected to install in a Java 9+ world. If I send the user to for example: <a href=\"https://www.oracle.com/java/technologies/downloads/\" rel=\"noreferrer\">https://www.oracle.com/java/technologies/downloads/</a> they are greeted with downloading the Java Development Kit which is a confusing thing to install for a user (&quot;Is this right? I don't want to develop stuff??&quot;).</p>\n<p>In addition when you land on <a href=\"http://java.com\" rel=\"noreferrer\">http://java.com</a> it says &quot;if you were asked to download java, it's most likely this&quot;, which implies that if you release applications you should either use Java 8 (and forget the JavaFX disaster that is OpenJDK pre version 11, and just use Orcale Java)...</p>\n<p>I was under the impression that after Java 9, the promise of Jigsaw was to build a package that contains a native runtime and jar, all neatly bundled together so that the days of the end user having to install a JVM were over. However searching online, I see no support for this is Gradle or IntelliJ (or Eclipse for the matter) so this seems kind of like a dead pipedream?</p>\n<p>If I want to ship a Java 17 application, is the user expected to install the JDK? If not, how am I supposed to package and ship my application?</p>\n"},{"tags":["java","kotlin","reactive-programming","rx-java2"],"answers":[{"tags":[],"owner":{"account_id":1288640,"reputation":8167,"user_id":1241193,"display_name":"Bob Dalgleish"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1513012370,"creation_date":1513012370,"answer_id":47757957,"question_id":47756750,"body_markdown":"When you need to perform RxJava operations using metadata (absence of cached result), you may have to transform your observer chain into a metadata stream, using `materialize()`.\r\n\r\n(Apologies for my lack of fluency in Kotlin)\r\n\r\n    fun getSomething(): Single&lt;Something&gt; {\r\n      return cache.getSomething()\r\n        .toObservable()\r\n        .materialize()\r\n        .take(1)\r\n        .flatMap( it.hasValue() ? Single.just( it.getValue() )\r\n                  : Single.fromCallable( apiCall() )\r\n          );\r\n    }\r\n\r\nThe `materialize()` operator turns the observer stream into a stream of `Notification`s. You can then inspect the first notification, and if it has a value, use that. Otherwise, make your network call.","title":"Convert Maybe to Single from another source if Maybe completes","body":"<p>When you need to perform RxJava operations using metadata (absence of cached result), you may have to transform your observer chain into a metadata stream, using <code>materialize()</code>.</p>\n\n<p>(Apologies for my lack of fluency in Kotlin)</p>\n\n<pre><code>fun getSomething(): Single&lt;Something&gt; {\n  return cache.getSomething()\n    .toObservable()\n    .materialize()\n    .take(1)\n    .flatMap( it.hasValue() ? Single.just( it.getValue() )\n              : Single.fromCallable( apiCall() )\n      );\n}\n</code></pre>\n\n<p>The <code>materialize()</code> operator turns the observer stream into a stream of <code>Notification</code>s. You can then inspect the first notification, and if it has a value, use that. Otherwise, make your network call.</p>\n"},{"tags":[],"owner":{"account_id":3111746,"reputation":2022,"user_id":2633359,"accept_rate":75,"display_name":"enyciaa"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1513077379,"creation_date":1513077379,"answer_id":47771304,"question_id":47756750,"body_markdown":"Here are two fairly simple options you could use. The first I find more explicit. The second has the benefit that you will call the network on any error in the cache.\r\n\r\nThese assume a Maybe is returned from the cache. For example if no value is found in the cache, return Maybe.empty()\r\n\r\n1) If there is an empty in the stream, switchIfEmpty() will use the alternate observable which calls the network. If no empty is in the stream, the network will never be called.\r\n\r\n\r\n    override fun getSomething(): Single&lt;Something&gt; {\r\n          return cache.getSomething()\r\n            .switchIfEmpty(\r\n              Maybe.defer {\r\n                feed.getSomething().toMaybe()\r\n              }\r\n            )\r\n            .toSingle()\r\n      }\r\n\r\n2) An empty maybe will return an error when cast toSingle(), triggering the network call.\r\n\r\n    override fun getSomething(): Single&lt;Something&gt; {\r\n          return cache.getSomething()\r\n            .toSingle()\r\n            .onErrorResumeNext {\r\n               feed.getSomething()\r\n            }\r\n      }","title":"Convert Maybe to Single from another source if Maybe completes","body":"<p>Here are two fairly simple options you could use. The first I find more explicit. The second has the benefit that you will call the network on any error in the cache.</p>\n\n<p>These assume a Maybe is returned from the cache. For example if no value is found in the cache, return Maybe.empty()</p>\n\n<p>1) If there is an empty in the stream, switchIfEmpty() will use the alternate observable which calls the network. If no empty is in the stream, the network will never be called.</p>\n\n<pre><code>override fun getSomething(): Single&lt;Something&gt; {\n      return cache.getSomething()\n        .switchIfEmpty(\n          Maybe.defer {\n            feed.getSomething().toMaybe()\n          }\n        )\n        .toSingle()\n  }\n</code></pre>\n\n<p>2) An empty maybe will return an error when cast toSingle(), triggering the network call.</p>\n\n<pre><code>override fun getSomething(): Single&lt;Something&gt; {\n      return cache.getSomething()\n        .toSingle()\n        .onErrorResumeNext {\n           feed.getSomething()\n        }\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3839750,"reputation":442,"user_id":3183202,"display_name":"guest"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615760913,"creation_date":1615760913,"answer_id":66630189,"question_id":47756750,"body_markdown":"Use the following flatMap call with 3 params for Maybe\r\n\r\n    public final &lt;R&gt; Maybe&lt;R&gt; flatMap(\r\n            Function&lt;? super T, ? extends MaybeSource&lt;? extends R&gt;&gt; onSuccessMapper,\r\n            Function&lt;? super Throwable, ? extends MaybeSource&lt;? extends R&gt;&gt; onErrorMapper,\r\n            Callable&lt;? extends MaybeSource&lt;? extends R&gt;&gt; onCompleteSupplier)\r\n\r\nExample\r\n\r\n    class Repository (\r\n        private val cache: Cache,\r\n        private val service: Service\r\n    ) {\r\n    \r\n        fun getSomething(): Single&lt;Something&gt; {\r\n          return cache.getSomething()\r\n                    .flatMap(\r\n                        Function {\r\n                            Single.just(it) // onSuccess\r\n                        },\r\n                        Function {\r\n                            Single.error(it) // onError\r\n                        },\r\n                        Callable {\r\n                            feed.getSomething() // onComplete\r\n                        }\r\n                    \r\n        }\r\n\r\nOr \r\n\r\n    class Repository (\r\n        private val cache: Cache,\r\n        private val service: Service\r\n    ) {\r\n    \r\n        fun getSomething(): Single&lt;Something&gt; {\r\n          return cache.getSomething()\r\n                    .flatMap(\r\n                        {\r\n                            Single.just&lt;Something&gt;(it) // onSuccess\r\n                        },\r\n                        {\r\n                            Single.error(it) // onError\r\n                        },\r\n                        {\r\n                            feed.getSomething() // onComplete\r\n                        }\r\n                    \r\n        }\r\n    }    \r\n\r\n\r\n","title":"Convert Maybe to Single from another source if Maybe completes","body":"<p>Use the following flatMap call with 3 params for Maybe</p>\n<pre><code>public final &lt;R&gt; Maybe&lt;R&gt; flatMap(\n        Function&lt;? super T, ? extends MaybeSource&lt;? extends R&gt;&gt; onSuccessMapper,\n        Function&lt;? super Throwable, ? extends MaybeSource&lt;? extends R&gt;&gt; onErrorMapper,\n        Callable&lt;? extends MaybeSource&lt;? extends R&gt;&gt; onCompleteSupplier)\n</code></pre>\n<p>Example</p>\n<pre><code>class Repository (\n    private val cache: Cache,\n    private val service: Service\n) {\n\n    fun getSomething(): Single&lt;Something&gt; {\n      return cache.getSomething()\n                .flatMap(\n                    Function {\n                        Single.just(it) // onSuccess\n                    },\n                    Function {\n                        Single.error(it) // onError\n                    },\n                    Callable {\n                        feed.getSomething() // onComplete\n                    }\n                \n    }\n</code></pre>\n<p>Or</p>\n<pre><code>class Repository (\n    private val cache: Cache,\n    private val service: Service\n) {\n\n    fun getSomething(): Single&lt;Something&gt; {\n      return cache.getSomething()\n                .flatMap(\n                    {\n                        Single.just&lt;Something&gt;(it) // onSuccess\n                    },\n                    {\n                        Single.error(it) // onError\n                    },\n                    {\n                        feed.getSomething() // onComplete\n                    }\n                \n    }\n}    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":403980,"reputation":81,"user_id":6179018,"display_name":"ersegun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674496909,"creation_date":1674496909,"answer_id":75213313,"question_id":47756750,"body_markdown":"**defaultIfEmpty** can be used to handle empty Maybe result when converting it to a Single.\r\n\r\nHere is an example of how it can be done:\r\n\r\n        override fun getSomething(): Single&lt;Something&gt; {\r\n          return cache.getSomething()\r\n            .defaultIfEmpty(feed.getSomething())\r\n      }","title":"Convert Maybe to Single from another source if Maybe completes","body":"<p><strong>defaultIfEmpty</strong> can be used to handle empty Maybe result when converting it to a Single.</p>\n<p>Here is an example of how it can be done:</p>\n<pre><code>    override fun getSomething(): Single&lt;Something&gt; {\n      return cache.getSomething()\n        .defaultIfEmpty(feed.getSomething())\n  }\n</code></pre>\n"}],"owner":{"account_id":3986034,"reputation":4137,"user_id":3286569,"accept_rate":94,"display_name":"JDurstberger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11704,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":47771304,"answer_count":4,"score":12,"last_activity_date":1674496909,"creation_date":1513008144,"question_id":47756750,"body_markdown":"I would like to build a `Repository` class that returns a `Single&lt;Something&gt;`.\r\n\r\nThe class should first look in a `Cache` which returns `Maybe&lt;Something&gt;` and if the `Maybe` completes go off to my `Service` that returns `Single&lt;Something&gt;` \r\n\r\n    interface Cache {\r\n        fun getSomething(): Maybe&lt;Something&gt;   \r\n    }\r\n\r\n    interface Service {\r\n        fun getSomething(): Single&lt;Something&gt;   \r\n    }\r\n\r\n    class Repository (\r\n        private val cache: Cache,\r\n        private val service: Service\r\n    ) {\r\n    \r\n        fun getSomething(): Single&lt;Something&gt; {\r\n          return cache.getSomething()\r\n                   .????(feed.getSomething()) //onCompleteTransformToSingle() or similar\r\n        }\r\n    }    \r\n\r\nI have searched through the JavaDoc but it does not seem that a transformer for this scenario exists.  \r\n\r\nIs there a nice way of handling this?  ","title":"Convert Maybe to Single from another source if Maybe completes","body":"<p>I would like to build a <code>Repository</code> class that returns a <code>Single&lt;Something&gt;</code>.</p>\n\n<p>The class should first look in a <code>Cache</code> which returns <code>Maybe&lt;Something&gt;</code> and if the <code>Maybe</code> completes go off to my <code>Service</code> that returns <code>Single&lt;Something&gt;</code> </p>\n\n<pre><code>interface Cache {\n    fun getSomething(): Maybe&lt;Something&gt;   \n}\n\ninterface Service {\n    fun getSomething(): Single&lt;Something&gt;   \n}\n\nclass Repository (\n    private val cache: Cache,\n    private val service: Service\n) {\n\n    fun getSomething(): Single&lt;Something&gt; {\n      return cache.getSomething()\n               .????(feed.getSomething()) //onCompleteTransformToSingle() or similar\n    }\n}    \n</code></pre>\n\n<p>I have searched through the JavaDoc but it does not seem that a transformer for this scenario exists.  </p>\n\n<p>Is there a nice way of handling this?  </p>\n"},{"tags":["java","android",".so","libs"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1674496749,"post_id":75213277,"comment_id":132721867,"body_markdown":"`x2.X` is a class named `X` in the **package** `x2`. What you showed in new code is a class `X` inside *another class named `x2`* **inside the unnamed package** (that name would usually encode as `x2$X`). If you want a drop-in replacement for the old class the .java file should start with `package x2; public class X { ... }`.","body":"<code>x2.X</code> is a class named <code>X</code> in the <b>package</b> <code>x2</code>. What you showed in new code is a class <code>X</code> inside <i>another class named <code>x2</code></i> <b>inside the unnamed package</b> (that name would usually encode as <code>x2$X</code>). If you want a drop-in replacement for the old class the .java file should start with <code>package x2; public class X { ... }</code>."},{"owner":{"account_id":25988637,"reputation":13,"user_id":19701224,"display_name":"Master"},"score":0,"creation_date":1674497020,"post_id":75213277,"comment_id":132721961,"body_markdown":"Huge huge thanks! How can I donate to you? You saved my app!","body":"Huge huge thanks! How can I donate to you? You saved my app!"}],"owner":{"account_id":25988637,"reputation":13,"user_id":19701224,"display_name":"Master"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674496590,"creation_date":1674496590,"question_id":75213277,"body_markdown":"I&#39;m using scripts from an old project, but the sources are already lost\r\n[![I addded libraries files to project](https://i.stack.imgur.com/l53Zy.png)](https://i.stack.imgur.com/l53Zy.png)\r\n\r\nIn an old application, I used the library like this:\r\n\r\n```\r\npublic class x2.X {\r\nstatic {\r\nSystem.loadLibrary(&quot;x2&quot;);\r\n}\r\n\r\npublic static String m0do(String str) {\r\nreturn Base64.getEncoder().encodeToString(x01(str).getBytes());\r\n}\r\n\r\npublic static native String x01(String str);\r\n\r\n}\r\n```\r\n\r\nAnd in the new one like this:\r\n\r\n```\r\npublic class x2 {\r\npublic static class X {\r\nstatic {\r\nSystem.loadLibrary(&quot;x2&quot;);\r\n}\r\n\r\n    public static String m0do(String str) {\r\n        if (Build.VERSION.SDK_INT \\&gt;= Build.VERSION_CODES.O) {\r\n            return Base64.getEncoder().encodeToString(x01(str).getBytes());\r\n        }\r\n        return &quot;&quot;;\r\n    }\r\n\r\n    public static native String x01(String str);\r\n}\r\n\r\n}\r\n```\r\n\r\nbut i get error:\r\n\r\nfull error: https://pastebin.com/696XMPHe\r\n\r\nshort: ```Pending exception java.lang.ClassNotFoundException: Didn&#39;t find class &quot;x2.X&quot; on path: DexPathList[[dex file &quot;/data/data/com.alex.materialdiary/code_cache/.overlay/base.apk/classes3.dex&quot;, dex file &quot;/data/data/com.alex.materialdiary/code_cache/.overlay/base.apk/classes9.dex&quot;, zip file &quot;/data/app/~~udenJ-l_lr574UqmKQionQ==/com.alex.materialdiary-8pbNPHfMtMQMEkE0VpgYkw==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~udenJ-l_lr574UqmKQionQ==/com.alex.materialdiary-8pbNPHfMtMQMEkE0VpgYkw==/lib/arm64, /data/app/~~udenJ-l_lr574UqmKQionQ==/com.alex.materialdiary-8pbNPHfMtMQMEkE0VpgYkw==/base.apk!/lib/arm64-v8a, /system/lib64, /system_ext/lib64]]```\r\n\r\nI tried rename classes, disassemble .so files","title":".so libraries in Android Studio","body":"<p>I'm using scripts from an old project, but the sources are already lost\n<a href=\"https://i.stack.imgur.com/l53Zy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l53Zy.png\" alt=\"I addded libraries files to project\" /></a></p>\n<p>In an old application, I used the library like this:</p>\n<pre><code>public class x2.X {\nstatic {\nSystem.loadLibrary(&quot;x2&quot;);\n}\n\npublic static String m0do(String str) {\nreturn Base64.getEncoder().encodeToString(x01(str).getBytes());\n}\n\npublic static native String x01(String str);\n\n}\n</code></pre>\n<p>And in the new one like this:</p>\n<pre><code>public class x2 {\npublic static class X {\nstatic {\nSystem.loadLibrary(&quot;x2&quot;);\n}\n\n    public static String m0do(String str) {\n        if (Build.VERSION.SDK_INT \\&gt;= Build.VERSION_CODES.O) {\n            return Base64.getEncoder().encodeToString(x01(str).getBytes());\n        }\n        return &quot;&quot;;\n    }\n\n    public static native String x01(String str);\n}\n\n}\n</code></pre>\n<p>but i get error:</p>\n<p>full error: <a href=\"https://pastebin.com/696XMPHe\" rel=\"nofollow noreferrer\">https://pastebin.com/696XMPHe</a></p>\n<p>short: <code>Pending exception java.lang.ClassNotFoundException: Didn't find class &quot;x2.X&quot; on path: DexPathList[[dex file &quot;/data/data/com.alex.materialdiary/code_cache/.overlay/base.apk/classes3.dex&quot;, dex file &quot;/data/data/com.alex.materialdiary/code_cache/.overlay/base.apk/classes9.dex&quot;, zip file &quot;/data/app/~~udenJ-l_lr574UqmKQionQ==/com.alex.materialdiary-8pbNPHfMtMQMEkE0VpgYkw==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~udenJ-l_lr574UqmKQionQ==/com.alex.materialdiary-8pbNPHfMtMQMEkE0VpgYkw==/lib/arm64, /data/app/~~udenJ-l_lr574UqmKQionQ==/com.alex.materialdiary-8pbNPHfMtMQMEkE0VpgYkw==/base.apk!/lib/arm64-v8a, /system/lib64, /system_ext/lib64]]</code></p>\n<p>I tried rename classes, disassemble .so files</p>\n"},{"tags":["java","spring-boot","spring-security","microservices","spring-cloud-gateway"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":2,"creation_date":1674503921,"post_id":75213230,"comment_id":132724036,"body_markdown":"Configure your firewall or your routing tables.","body":"Configure your firewall or your routing tables."}],"owner":{"account_id":18076677,"reputation":61,"user_id":13139745,"display_name":"Vicardo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":232,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1674496244,"creation_date":1674496244,"question_id":75213230,"body_markdown":"I&#39;m working on the application written in Spring Boot with microservice architecture. I have a gateway, where the whole authentication is done using *Keycloak*. How can I allow only requests from gateway in my microservices?\r\n\r\nIs it a good approach to prevent request from different IP Address?\r\n\r\nIt&#39;s a personal project, so all the services will be ran locally.","title":"Microservices - allow request only from API Gateway","body":"<p>I'm working on the application written in Spring Boot with microservice architecture. I have a gateway, where the whole authentication is done using <em>Keycloak</em>. How can I allow only requests from gateway in my microservices?</p>\n<p>Is it a good approach to prevent request from different IP Address?</p>\n<p>It's a personal project, so all the services will be ran locally.</p>\n"},{"tags":["java","swing","jtable"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1674412094,"post_id":75202581,"comment_id":132704268,"body_markdown":"not near my IDE currently but: never-ever change the table state from inside a renderer/editor, that&#39;s the task of the table itself","body":"not near my IDE currently but: never-ever change the table state from inside a renderer/editor, that&#39;s the task of the table itself"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1674437377,"post_id":75202581,"comment_id":132707916,"body_markdown":"Maybe you can use a popup dialog to edit the data in the cell. See: https://stackoverflow.com/a/20590066/131872 for a basic example.","body":"Maybe you can use a popup dialog to edit the data in the cell. See: <a href=\"https://stackoverflow.com/a/20590066/131872\">stackoverflow.com/a/20590066/131872</a> for a basic example."},{"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"score":0,"creation_date":1674463573,"post_id":75202581,"comment_id":132711253,"body_markdown":"@camickr I&#39;ve came across this one, but design should be like what the other part of the product is, and rows can be expanded.","body":"@camickr I&#39;ve came across this one, but design should be like what the other part of the product is, and rows can be expanded."},{"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"score":0,"creation_date":1674463940,"post_id":75202581,"comment_id":132711352,"body_markdown":"@kleopatra yeah that&#39;s not great indeed! But I don&#39;t know how else I can do that. Would it be preferable to set the row hieght in `prepareRenderer` / `prepareEditor`, but then the row height might not be updated when the component expands ?","body":"@kleopatra yeah that&#39;s not great indeed! But I don&#39;t know how else I can do that. Would it be preferable to set the row hieght in <code>prepareRenderer</code> / <code>prepareEditor</code>, but then the row height might not be updated when the component expands ?"},{"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"score":0,"creation_date":1674479863,"post_id":75202581,"comment_id":132716069,"body_markdown":"@kleopatra Or should I perform the `setRowSize(row, height)` in the `doLayout` (iterating on rows) ? Although there are several considerations to handle such as the visible cells or scroll position.","body":"@kleopatra Or should I perform the <code>setRowSize(row, height)</code> in the <code>doLayout</code> (iterating on rows) ? Although there are several considerations to handle such as the visible cells or scroll position."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1674490213,"post_id":75202581,"comment_id":132719837,"body_markdown":"hmm .. a bit tricky (read: I couldn&#39;t make it work reliably - my Swing skills seem to be more rusty than I thought ;). Could you clarify a bit when exactly you want to expand/collapse? Only in the editor (also while editing or only at its start/end?) or also in the renderer? If the latter: how do you control the expanded state?","body":"hmm .. a bit tricky (read: I couldn&#39;t make it work reliably - my Swing skills seem to be more rusty than I thought ;). Could you clarify a bit when exactly you want to expand/collapse? Only in the editor (also while editing or only at its start/end?) or also in the renderer? If the latter: how do you control the expanded state?"},{"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"score":0,"creation_date":1674495957,"post_id":75202581,"comment_id":132721643,"body_markdown":"@kleopatra Actually your first comment helped me [answer the question](https://stackoverflow.com/a/75213166/48136), thanks a lot.","body":"@kleopatra Actually your first comment helped me <a href=\"https://stackoverflow.com/a/75213166/48136\">answer the question</a>, thanks a lot."},{"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"score":1,"creation_date":1674510940,"post_id":75202581,"comment_id":132725886,"body_markdown":"@kleopatra about expansion: currently it&#39;s the editor only, but the question remains open (whether the component should stay expanded when rendered). Currently I chose to collapse when editing stops. But for sure if component details have to be maintained when switching from editor to renderer I&#39;ll probably need to capture the state in the model.","body":"@kleopatra about expansion: currently it&#39;s the editor only, but the question remains open (whether the component should stay expanded when rendered). Currently I chose to collapse when editing stops. But for sure if component details have to be maintained when switching from editor to renderer I&#39;ll probably need to capture the state in the model."}],"answers":[{"tags":[],"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674495902,"creation_date":1674495902,"answer_id":75213166,"question_id":75202581,"body_markdown":"@kleopatra Thank you! Your tip got me on the right track. I made the following code to precompute the row height during the layout operation.\r\n\r\nAnd when a cell gets edited, the editor is added to the table, when then do a revalidation, and computes the height accordingly.\r\n\r\nI had a problem before because setting the height in the renderer actually prevented the correct display of the cell component.\r\n\r\nIn the following code, notice how `doLayout` is adjusting the row height, according to cell component preferred size (wether the cell is rendered or edited).\r\n\r\n\r\n_Note I choose to collapse the component once editing is stopped, hence the listener in the `DynamicExpndablePanelCellEditor`._\r\n\r\n\r\n```\r\nimport org.jetbrains.annotations.NotNull;\r\n\r\nimport javax.swing.*;\r\nimport javax.swing.border.TitledBorder;\r\nimport javax.swing.event.CellEditorListener;\r\nimport javax.swing.event.ChangeEvent;\r\nimport javax.swing.table.TableCellEditor;\r\nimport javax.swing.table.TableCellRenderer;\r\nimport java.awt.*;\r\n\r\npublic class DynamicCellRow {\r\n    public static void main(String[] args) {\r\n\r\n        var contentPane = new JPanel(new BorderLayout());\r\n        contentPane.add(new JScrollPane(makeTable()));\r\n\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            JFrame frame = new JFrame(&quot;DynamicCellRow&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.add(contentPane);\r\n            frame.pack();\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n        });\r\n    }\r\n\r\n    @NotNull\r\n    private static JTable makeTable() {\r\n        var jTable = new JTable(\r\n                new Object[][]{\r\n                        {&quot;a&quot;, &quot;charly&quot;},\r\n                        {&quot;b&quot;, &quot;tango&quot;}\r\n                },\r\n                new Object[]{&quot;id&quot;, &quot;control&quot;}\r\n        ) {\r\n            @Override\r\n            public void doLayout() {\r\n                super.doLayout();\r\n                adjustRowHeights();\r\n            }\r\n\r\n            private void adjustRowHeights() {\r\n                for (int row = 0; row &lt; getRowCount(); row++) {\r\n                    int rowHeight = getRowHeight();\r\n\r\n                    for (int column = 0; column &lt; getColumnCount(); column++) {\r\n                        var editorComponent = getEditorComponent();\r\n                        if (getEditingRow() == row &amp;&amp; getEditingColumn() == column &amp;&amp; editorComponent != null) {\r\n                            editorComponent.setSize(getColumnModel().getColumn(column).getWidth(), 0);\r\n                            rowHeight = Math.max(rowHeight, editorComponent.getPreferredSize().height);\r\n                        } else {\r\n                            var comp = prepareRenderer(getCellRenderer(row, column), row, column);\r\n                            rowHeight = Math.max(rowHeight, comp.getPreferredSize().height);\r\n                        }\r\n                    }\r\n\r\n                    setRowHeight(row, rowHeight);\r\n                }\r\n            }\r\n        };\r\n        {\r\n            var richColumn = jTable.getColumnModel().getColumn(1);\r\n            richColumn.setCellRenderer(new ExpandablePanelCellRenderer());\r\n            richColumn.setCellEditor(new DynamicExpndablePanelCellEditor());\r\n        }\r\n        return jTable;\r\n    }\r\n\r\n\r\n    static class ExpandablePanel extends JPanel {\r\n\r\n        private final JLabel comp;\r\n        private final JPanel advanced;\r\n\r\n        ExpandablePanel() {\r\n            setBorder(BorderFactory.createLineBorder(Color.black));\r\n            setLayout(new GridBagLayout());\r\n\r\n            GridBagConstraints gbc = new GridBagConstraints();\r\n            // horizontal left-to-right layout\r\n            gbc.gridx = 0;\r\n            gbc.gridy = 0;\r\n\r\n            // resizing behavior\r\n            gbc.weightx = 1;\r\n            gbc.weighty = 1;\r\n\r\n            gbc.insets = new Insets(2, 2, 2, 2);\r\n            gbc.fill = GridBagConstraints.BOTH;\r\n\r\n            advanced = new JPanel();\r\n            {\r\n                advanced.setLayout(new BoxLayout(advanced, BoxLayout.Y_AXIS));\r\n                advanced.setBorder(new TitledBorder(&quot;Advance Settings&quot;));\r\n                advanced.add(new JCheckBox(&quot;Live&quot;));\r\n                advanced.add(new JCheckBox(&quot;Condition&quot;));\r\n                advanced.add(new JCheckBox(&quot;Disable&quot;));\r\n            }\r\n            advanced.setVisible(false);\r\n\r\n            var standard = new JPanel();\r\n            {\r\n                standard.setLayout(new BoxLayout(standard, BoxLayout.X_AXIS));\r\n                comp = new JLabel(&quot;Label 1&quot;);\r\n                standard.add(comp);\r\n                standard.add(new JButton(&quot;Button 1&quot;));\r\n                var expandButton = new JButton(&quot;+&quot;);\r\n                expandButton.addActionListener(e -&gt; {\r\n                    if (advanced.isVisible()) {\r\n                        advanced.setVisible(false);\r\n                        expandButton.setText(&quot;+&quot;);\r\n                    } else {\r\n                        advanced.setVisible(true);\r\n                        expandButton.setText(&quot;-&quot;);\r\n                    }\r\n                });\r\n                standard.add(expandButton);\r\n            }\r\n            add(standard, gbc);\r\n\r\n\r\n            gbc.gridy++;\r\n            gbc.weighty = 0;\r\n            add(advanced, gbc);\r\n        }\r\n\r\n        public void setValue(Object value) {\r\n            comp.setText(value.toString());\r\n        }\r\n\r\n        public void setAdvancedVisibility(boolean visible) {\r\n            advanced.setVisible(visible);\r\n        }\r\n    }\r\n\r\n    private static class DynamicExpndablePanelCellEditor extends AbstractCellEditor implements TableCellEditor {\r\n        Object value;\r\n        @Override\r\n        public Object getCellEditorValue() {\r\n            return value; // not changing\r\n        }\r\n\r\n        private final ExpandablePanel expandablePanel = new ExpandablePanel();\r\n        {\r\n            addCellEditorListener(new CellEditorListener() {\r\n                @Override\r\n                public void editingStopped(ChangeEvent e) {\r\n                    expandablePanel.setAdvancedVisibility(false);\r\n                }\r\n\r\n                @Override\r\n                public void editingCanceled(ChangeEvent e) {\r\n                    expandablePanel.setAdvancedVisibility(false);\r\n                }\r\n            });\r\n        }\r\n\r\n        @Override\r\n        public Component getTableCellEditorComponent(JTable table, Object value, boolean isSelected, int row, int column) {\r\n            this.value = value;\r\n            expandablePanel.setValue(value);\r\n\r\n            return expandablePanel;\r\n        }\r\n    }\r\n\r\n    private static class ExpandablePanelCellRenderer implements TableCellRenderer {\r\n        private final ExpandablePanel expandablePanelRenderComponent = new ExpandablePanel();\r\n\r\n        @Override\r\n        public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\r\n            expandablePanelRenderComponent.setValue(value);\r\n            return expandablePanelRenderComponent;\r\n        }\r\n    }\r\n}\r\n```","title":"Expandable JTable Cell Editor","body":"<p>@kleopatra Thank you! Your tip got me on the right track. I made the following code to precompute the row height during the layout operation.</p>\n<p>And when a cell gets edited, the editor is added to the table, when then do a revalidation, and computes the height accordingly.</p>\n<p>I had a problem before because setting the height in the renderer actually prevented the correct display of the cell component.</p>\n<p>In the following code, notice how <code>doLayout</code> is adjusting the row height, according to cell component preferred size (wether the cell is rendered or edited).</p>\n<p><em>Note I choose to collapse the component once editing is stopped, hence the listener in the <code>DynamicExpndablePanelCellEditor</code>.</em></p>\n<pre><code>import org.jetbrains.annotations.NotNull;\n\nimport javax.swing.*;\nimport javax.swing.border.TitledBorder;\nimport javax.swing.event.CellEditorListener;\nimport javax.swing.event.ChangeEvent;\nimport javax.swing.table.TableCellEditor;\nimport javax.swing.table.TableCellRenderer;\nimport java.awt.*;\n\npublic class DynamicCellRow {\n    public static void main(String[] args) {\n\n        var contentPane = new JPanel(new BorderLayout());\n        contentPane.add(new JScrollPane(makeTable()));\n\n        SwingUtilities.invokeLater(() -&gt; {\n            JFrame frame = new JFrame(&quot;DynamicCellRow&quot;);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.add(contentPane);\n            frame.pack();\n            frame.setLocationRelativeTo(null);\n            frame.setVisible(true);\n        });\n    }\n\n    @NotNull\n    private static JTable makeTable() {\n        var jTable = new JTable(\n                new Object[][]{\n                        {&quot;a&quot;, &quot;charly&quot;},\n                        {&quot;b&quot;, &quot;tango&quot;}\n                },\n                new Object[]{&quot;id&quot;, &quot;control&quot;}\n        ) {\n            @Override\n            public void doLayout() {\n                super.doLayout();\n                adjustRowHeights();\n            }\n\n            private void adjustRowHeights() {\n                for (int row = 0; row &lt; getRowCount(); row++) {\n                    int rowHeight = getRowHeight();\n\n                    for (int column = 0; column &lt; getColumnCount(); column++) {\n                        var editorComponent = getEditorComponent();\n                        if (getEditingRow() == row &amp;&amp; getEditingColumn() == column &amp;&amp; editorComponent != null) {\n                            editorComponent.setSize(getColumnModel().getColumn(column).getWidth(), 0);\n                            rowHeight = Math.max(rowHeight, editorComponent.getPreferredSize().height);\n                        } else {\n                            var comp = prepareRenderer(getCellRenderer(row, column), row, column);\n                            rowHeight = Math.max(rowHeight, comp.getPreferredSize().height);\n                        }\n                    }\n\n                    setRowHeight(row, rowHeight);\n                }\n            }\n        };\n        {\n            var richColumn = jTable.getColumnModel().getColumn(1);\n            richColumn.setCellRenderer(new ExpandablePanelCellRenderer());\n            richColumn.setCellEditor(new DynamicExpndablePanelCellEditor());\n        }\n        return jTable;\n    }\n\n\n    static class ExpandablePanel extends JPanel {\n\n        private final JLabel comp;\n        private final JPanel advanced;\n\n        ExpandablePanel() {\n            setBorder(BorderFactory.createLineBorder(Color.black));\n            setLayout(new GridBagLayout());\n\n            GridBagConstraints gbc = new GridBagConstraints();\n            // horizontal left-to-right layout\n            gbc.gridx = 0;\n            gbc.gridy = 0;\n\n            // resizing behavior\n            gbc.weightx = 1;\n            gbc.weighty = 1;\n\n            gbc.insets = new Insets(2, 2, 2, 2);\n            gbc.fill = GridBagConstraints.BOTH;\n\n            advanced = new JPanel();\n            {\n                advanced.setLayout(new BoxLayout(advanced, BoxLayout.Y_AXIS));\n                advanced.setBorder(new TitledBorder(&quot;Advance Settings&quot;));\n                advanced.add(new JCheckBox(&quot;Live&quot;));\n                advanced.add(new JCheckBox(&quot;Condition&quot;));\n                advanced.add(new JCheckBox(&quot;Disable&quot;));\n            }\n            advanced.setVisible(false);\n\n            var standard = new JPanel();\n            {\n                standard.setLayout(new BoxLayout(standard, BoxLayout.X_AXIS));\n                comp = new JLabel(&quot;Label 1&quot;);\n                standard.add(comp);\n                standard.add(new JButton(&quot;Button 1&quot;));\n                var expandButton = new JButton(&quot;+&quot;);\n                expandButton.addActionListener(e -&gt; {\n                    if (advanced.isVisible()) {\n                        advanced.setVisible(false);\n                        expandButton.setText(&quot;+&quot;);\n                    } else {\n                        advanced.setVisible(true);\n                        expandButton.setText(&quot;-&quot;);\n                    }\n                });\n                standard.add(expandButton);\n            }\n            add(standard, gbc);\n\n\n            gbc.gridy++;\n            gbc.weighty = 0;\n            add(advanced, gbc);\n        }\n\n        public void setValue(Object value) {\n            comp.setText(value.toString());\n        }\n\n        public void setAdvancedVisibility(boolean visible) {\n            advanced.setVisible(visible);\n        }\n    }\n\n    private static class DynamicExpndablePanelCellEditor extends AbstractCellEditor implements TableCellEditor {\n        Object value;\n        @Override\n        public Object getCellEditorValue() {\n            return value; // not changing\n        }\n\n        private final ExpandablePanel expandablePanel = new ExpandablePanel();\n        {\n            addCellEditorListener(new CellEditorListener() {\n                @Override\n                public void editingStopped(ChangeEvent e) {\n                    expandablePanel.setAdvancedVisibility(false);\n                }\n\n                @Override\n                public void editingCanceled(ChangeEvent e) {\n                    expandablePanel.setAdvancedVisibility(false);\n                }\n            });\n        }\n\n        @Override\n        public Component getTableCellEditorComponent(JTable table, Object value, boolean isSelected, int row, int column) {\n            this.value = value;\n            expandablePanel.setValue(value);\n\n            return expandablePanel;\n        }\n    }\n\n    private static class ExpandablePanelCellRenderer implements TableCellRenderer {\n        private final ExpandablePanel expandablePanelRenderComponent = new ExpandablePanel();\n\n        @Override\n        public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\n            expandablePanelRenderComponent.setValue(value);\n            return expandablePanelRenderComponent;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75213166,"answer_count":1,"score":1,"last_activity_date":1674495902,"creation_date":1674409423,"question_id":75202581,"body_markdown":"I have a rows of data, where I can make actions on a remote server.\r\n\r\nI&#39;m displaying these data in a `JTable` as it avoids the cost of creating a component for each row, and there&#39;s a lot.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI have managed to show the component and be able to interact with the cell, (however I still a first click).\r\n\r\n[![enter image description here][2]][2]\r\n\r\nBut what I&#39;m struggling with is that I want my editor component to be expandable, and of course update the current row height. And of course to revert to regular row height when collapsed. I think I need to register some listeners to the cell editor, but I&#39;m currently not able to correctly do that.\r\n\r\n* `ComponentListner::componentResized` make the whole table being constantly repainted.\r\n* `editorComponent.addPropertyChangeListener(&quot;preferredSize&quot;, propertyChangeListener)`, doesn&#39;t always repaint the table\r\n* `editorComponent.addPropertyChangeListener(&quot;preferredSize&quot;, propertyChangeListener)`, doesn&#39;t always repaint the table\r\n\r\nHence this question.\r\n\r\n[![enter image description here][3]][3]\r\n[![enter image description here][4]][4]\r\n\r\nSomewhat out of scope, I&#39;m currently debating if the component should stay expanded when going to another cell (but this can be an `expanded` property that is part of the model).\r\n\r\nHere&#39;s a minimal example without my attempts to register listeners on the editor component (in `getTableCellEditorComponent`).\r\n\r\nThanks in advance for ay pointers.\r\n\r\n\r\n```java\r\npackage io.github.bric3.fireplace.ui;\r\n\r\nimport org.jetbrains.annotations.NotNull;\r\n\r\nimport javax.swing.*;\r\nimport javax.swing.border.TitledBorder;\r\nimport javax.swing.table.TableCellEditor;\r\nimport javax.swing.table.TableCellRenderer;\r\nimport java.awt.*;\r\n\r\npublic class DynamicCellRow {\r\n    @NotNull\r\n    private static JTable makeTable() {\r\n        var jTable = new JTable(\r\n                new Object[][]{\r\n                        {&quot;a&quot;, &quot;charly&quot;},\r\n                        {&quot;b&quot;, &quot;tango&quot;}\r\n                },\r\n                new Object[]{&quot;id&quot;, &quot;control&quot;}\r\n        );\r\n        {\r\n            var richColumn = jTable.getColumnModel().getColumn(1);\r\n            richColumn.setCellRenderer(new TableCellRenderer() {\r\n                private final ExpandablePanel expandablePanelRenderComponent = new ExpandablePanel();\r\n                @Override\r\n                public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\r\n                    expandablePanelRenderComponent.setValue(value);\r\n                    return updatePreferredRowHeight(table, expandablePanelRenderComponent, row, column);\r\n                }\r\n            });\r\n\r\n            richColumn.setCellEditor(new DynamicCellEditor());\r\n        }\r\n        return jTable;\r\n    }\r\n\r\n    public static &lt;T extends JComponent&gt; T updatePreferredRowHeight(JTable table, T cellComponent, int row, int column) {\r\n        // Adjust cell height per component\r\n        int originalPreferredHeight = cellComponent.getPreferredSize().height;\r\n        cellComponent.setSize(\r\n                table.getColumnModel().getColumn(column).getWidth(),\r\n                originalPreferredHeight\r\n        );\r\n        int newPreferredHeight = cellComponent.getPreferredSize().height;\r\n        if (table.getRowHeight(row) &lt; newPreferredHeight) {\r\n            table.setRowHeight(row, newPreferredHeight);\r\n        }\r\n        return cellComponent;\r\n    }\r\n\r\n    static class ExpandablePanel extends JPanel {\r\n\r\n        private final JLabel comp;\r\n\r\n        ExpandablePanel() {\r\n            setBorder(BorderFactory.createLineBorder(Color.black));\r\n            setLayout(new GridBagLayout());\r\n\r\n            GridBagConstraints gbc = new GridBagConstraints();\r\n            // horizontal left-to-right layout\r\n            gbc.gridx = 0;\r\n            gbc.gridy = 0;\r\n\r\n            // resizing behavior\r\n            gbc.weightx = 1;\r\n            gbc.weighty = 1;\r\n\r\n            gbc.insets = new Insets(2, 2, 2, 2);\r\n            gbc.fill = GridBagConstraints.BOTH;\r\n\r\n            JPanel advanced = new JPanel();\r\n            {\r\n                advanced.setLayout(new BoxLayout(advanced, BoxLayout.Y_AXIS));\r\n                advanced.setBorder(new TitledBorder(&quot;Advance Settings&quot;));\r\n                advanced.add(new JCheckBox(&quot;Live&quot;));\r\n                advanced.add(new JCheckBox(&quot;Condition&quot;));\r\n                advanced.add(new JCheckBox(&quot;Disable&quot;));\r\n            }\r\n            advanced.setVisible(false);\r\n\r\n            var standard = new JPanel();\r\n            {\r\n                standard.setLayout(new BoxLayout(standard, BoxLayout.X_AXIS));\r\n                comp = new JLabel(&quot;Label 1&quot;);\r\n                standard.add(comp);\r\n                standard.add(new JButton(&quot;Button 1&quot;));\r\n                var expandButton = new JButton(&quot;+&quot;);\r\n                expandButton.addActionListener(e -&gt; {\r\n                    if (advanced.isVisible()) {\r\n                        advanced.setVisible(false);\r\n                        expandButton.setText(&quot;+&quot;);\r\n                    } else {\r\n                        advanced.setVisible(true);\r\n                        expandButton.setText(&quot;-&quot;);\r\n                    }\r\n                });\r\n                standard.add(expandButton);\r\n            }\r\n            add(standard, gbc);\r\n\r\n\r\n            gbc.gridy++;\r\n            gbc.weighty = 0;\r\n            add(advanced, gbc);\r\n        }\r\n\r\n        public void setValue(Object value) {\r\n            comp.setText(value.toString());\r\n        }\r\n    }\r\n\r\n    private static class DynamicCellEditor extends AbstractCellEditor implements TableCellEditor {\r\n        Object value;\r\n        @Override\r\n        public Object getCellEditorValue() {\r\n            return value; // not changing\r\n        }\r\n\r\n        private final ExpandablePanel expandablePanel = new ExpandablePanel();\r\n\r\n        @Override\r\n        public Component getTableCellEditorComponent(JTable table, Object value, boolean isSelected, int row, int column) {\r\n            this.value = value;\r\n            expandablePanel.setValue(value);\r\n            return updatePreferredRowHeight(table, expandablePanel, row, column);\r\n        }\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n\r\n        var contentPane = new JPanel(new BorderLayout());\r\n        contentPane.add(new JScrollPane(makeTable()));\r\n\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            JFrame frame = new JFrame(&quot;DynamicCellRow&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.add(contentPane);\r\n            frame.pack();\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n        });\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0ax5F.png\r\n  [2]: https://i.stack.imgur.com/psnGz.png\r\n  [3]: https://i.stack.imgur.com/uPTPY.png\r\n  [4]: https://i.stack.imgur.com/1DZ4z.png","title":"Expandable JTable Cell Editor","body":"<p>I have a rows of data, where I can make actions on a remote server.</p>\n<p>I'm displaying these data in a <code>JTable</code> as it avoids the cost of creating a component for each row, and there's a lot.</p>\n<p><a href=\"https://i.stack.imgur.com/0ax5F.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0ax5F.png\" alt=\"enter image description here\" /></a></p>\n<p>I have managed to show the component and be able to interact with the cell, (however I still a first click).</p>\n<p><a href=\"https://i.stack.imgur.com/psnGz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/psnGz.png\" alt=\"enter image description here\" /></a></p>\n<p>But what I'm struggling with is that I want my editor component to be expandable, and of course update the current row height. And of course to revert to regular row height when collapsed. I think I need to register some listeners to the cell editor, but I'm currently not able to correctly do that.</p>\n<ul>\n<li><code>ComponentListner::componentResized</code> make the whole table being constantly repainted.</li>\n<li><code>editorComponent.addPropertyChangeListener(&quot;preferredSize&quot;, propertyChangeListener)</code>, doesn't always repaint the table</li>\n<li><code>editorComponent.addPropertyChangeListener(&quot;preferredSize&quot;, propertyChangeListener)</code>, doesn't always repaint the table</li>\n</ul>\n<p>Hence this question.</p>\n<p><a href=\"https://i.stack.imgur.com/uPTPY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uPTPY.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/1DZ4z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1DZ4z.png\" alt=\"enter image description here\" /></a></p>\n<p>Somewhat out of scope, I'm currently debating if the component should stay expanded when going to another cell (but this can be an <code>expanded</code> property that is part of the model).</p>\n<p>Here's a minimal example without my attempts to register listeners on the editor component (in <code>getTableCellEditorComponent</code>).</p>\n<p>Thanks in advance for ay pointers.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package io.github.bric3.fireplace.ui;\n\nimport org.jetbrains.annotations.NotNull;\n\nimport javax.swing.*;\nimport javax.swing.border.TitledBorder;\nimport javax.swing.table.TableCellEditor;\nimport javax.swing.table.TableCellRenderer;\nimport java.awt.*;\n\npublic class DynamicCellRow {\n    @NotNull\n    private static JTable makeTable() {\n        var jTable = new JTable(\n                new Object[][]{\n                        {&quot;a&quot;, &quot;charly&quot;},\n                        {&quot;b&quot;, &quot;tango&quot;}\n                },\n                new Object[]{&quot;id&quot;, &quot;control&quot;}\n        );\n        {\n            var richColumn = jTable.getColumnModel().getColumn(1);\n            richColumn.setCellRenderer(new TableCellRenderer() {\n                private final ExpandablePanel expandablePanelRenderComponent = new ExpandablePanel();\n                @Override\n                public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\n                    expandablePanelRenderComponent.setValue(value);\n                    return updatePreferredRowHeight(table, expandablePanelRenderComponent, row, column);\n                }\n            });\n\n            richColumn.setCellEditor(new DynamicCellEditor());\n        }\n        return jTable;\n    }\n\n    public static &lt;T extends JComponent&gt; T updatePreferredRowHeight(JTable table, T cellComponent, int row, int column) {\n        // Adjust cell height per component\n        int originalPreferredHeight = cellComponent.getPreferredSize().height;\n        cellComponent.setSize(\n                table.getColumnModel().getColumn(column).getWidth(),\n                originalPreferredHeight\n        );\n        int newPreferredHeight = cellComponent.getPreferredSize().height;\n        if (table.getRowHeight(row) &lt; newPreferredHeight) {\n            table.setRowHeight(row, newPreferredHeight);\n        }\n        return cellComponent;\n    }\n\n    static class ExpandablePanel extends JPanel {\n\n        private final JLabel comp;\n\n        ExpandablePanel() {\n            setBorder(BorderFactory.createLineBorder(Color.black));\n            setLayout(new GridBagLayout());\n\n            GridBagConstraints gbc = new GridBagConstraints();\n            // horizontal left-to-right layout\n            gbc.gridx = 0;\n            gbc.gridy = 0;\n\n            // resizing behavior\n            gbc.weightx = 1;\n            gbc.weighty = 1;\n\n            gbc.insets = new Insets(2, 2, 2, 2);\n            gbc.fill = GridBagConstraints.BOTH;\n\n            JPanel advanced = new JPanel();\n            {\n                advanced.setLayout(new BoxLayout(advanced, BoxLayout.Y_AXIS));\n                advanced.setBorder(new TitledBorder(&quot;Advance Settings&quot;));\n                advanced.add(new JCheckBox(&quot;Live&quot;));\n                advanced.add(new JCheckBox(&quot;Condition&quot;));\n                advanced.add(new JCheckBox(&quot;Disable&quot;));\n            }\n            advanced.setVisible(false);\n\n            var standard = new JPanel();\n            {\n                standard.setLayout(new BoxLayout(standard, BoxLayout.X_AXIS));\n                comp = new JLabel(&quot;Label 1&quot;);\n                standard.add(comp);\n                standard.add(new JButton(&quot;Button 1&quot;));\n                var expandButton = new JButton(&quot;+&quot;);\n                expandButton.addActionListener(e -&gt; {\n                    if (advanced.isVisible()) {\n                        advanced.setVisible(false);\n                        expandButton.setText(&quot;+&quot;);\n                    } else {\n                        advanced.setVisible(true);\n                        expandButton.setText(&quot;-&quot;);\n                    }\n                });\n                standard.add(expandButton);\n            }\n            add(standard, gbc);\n\n\n            gbc.gridy++;\n            gbc.weighty = 0;\n            add(advanced, gbc);\n        }\n\n        public void setValue(Object value) {\n            comp.setText(value.toString());\n        }\n    }\n\n    private static class DynamicCellEditor extends AbstractCellEditor implements TableCellEditor {\n        Object value;\n        @Override\n        public Object getCellEditorValue() {\n            return value; // not changing\n        }\n\n        private final ExpandablePanel expandablePanel = new ExpandablePanel();\n\n        @Override\n        public Component getTableCellEditorComponent(JTable table, Object value, boolean isSelected, int row, int column) {\n            this.value = value;\n            expandablePanel.setValue(value);\n            return updatePreferredRowHeight(table, expandablePanel, row, column);\n        }\n    }\n\n\n    public static void main(String[] args) {\n\n        var contentPane = new JPanel(new BorderLayout());\n        contentPane.add(new JScrollPane(makeTable()));\n\n        SwingUtilities.invokeLater(() -&gt; {\n            JFrame frame = new JFrame(&quot;DynamicCellRow&quot;);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.add(contentPane);\n            frame.pack();\n            frame.setLocationRelativeTo(null);\n            frame.setVisible(true);\n        });\n    }\n}\n\n</code></pre>\n"},{"tags":["java","blackjack"],"comments":[{"owner":{"account_id":24142081,"reputation":78,"user_id":18108156,"display_name":"Daniel Scerpa"},"score":0,"creation_date":1674139372,"post_id":75173560,"comment_id":132654634,"body_markdown":"see also [Print in bold on a terminal](https://stackoverflow.com/questions/29109678/print-in-bold-on-a-terminal#:~:text=(Try%20%22%5Cu001B%5B1m,%22I%20am%20bold%22%20.))","body":"see also <a href=\"https://stackoverflow.com/questions/29109678/print-in-bold-on-a-terminal#:~:text=(Try%20%22%5Cu001B%5B1m,%22I%20am%20bold%22%20.)\">Print in bold on a terminal</a>"}],"answers":[{"tags":[],"owner":{"account_id":22228567,"reputation":177,"user_id":16465140,"display_name":"Amr Mashrah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674137811,"creation_date":1674137811,"answer_id":75173648,"question_id":75173560,"body_markdown":"\r\nHere is one way to write texts bold on console for IDEs like NetBeans and Eclipse\r\n\r\n    String boldText= &quot;Java_Bold_Text&quot;;\r\n    System.out.print(&quot;\\033[0;1m&quot; + boldText);","title":"How can I write bold text in the console for Java?","body":"<p>Here is one way to write texts bold on console for IDEs like NetBeans and Eclipse</p>\n<pre><code>String boldText= &quot;Java_Bold_Text&quot;;\nSystem.out.print(&quot;\\033[0;1m&quot; + boldText);\n</code></pre>\n"}],"owner":{"display_name":"user20523676"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674495694,"accepted_answer_id":75173648,"answer_count":1,"score":0,"last_activity_date":1674495680,"creation_date":1674137452,"question_id":75173560,"body_markdown":"I am making a Blackjack program using Java, and I want to add bold text to it; however, I am having trouble knowing how to do that. Can anyone help?\r\n\r\nI have tried to look up escape codes for it (I know they exist, I just don&#39;t remember them) on here and on the web, but couldn&#39;t find anything useful.","title":"How can I write bold text in the console for Java?","body":"<p>I am making a Blackjack program using Java, and I want to add bold text to it; however, I am having trouble knowing how to do that. Can anyone help?</p>\n<p>I have tried to look up escape codes for it (I know they exist, I just don't remember them) on here and on the web, but couldn't find anything useful.</p>\n"},{"tags":["java","tfs","shelve","tfvc","shelveset"],"comments":[{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1503039531,"post_id":45749658,"comment_id":78457929,"body_markdown":"Possible duplicate of [how to update existing shelve set in tfs](https://stackoverflow.com/questions/33883628/how-to-update-existing-shelve-set-in-tfs)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/33883628/how-to-update-existing-shelve-set-in-tfs\">how to update existing shelve set in tfs</a>"},{"owner":{"account_id":5537973,"reputation":73,"user_id":4395614,"accept_rate":75,"display_name":"sebastian89n"},"score":0,"creation_date":1503040463,"post_id":45749658,"comment_id":78458502,"body_markdown":"Unfortunately, it&#39;s not. All I know is that our client has a gated-build for .resx files. We couldn&#39;t upload them directly into the repository, so we had to create a shelvesets. We had this working, but once they&#39;ve checked in translations, we can no longer replace existing shelveset or even create a new one. I try to reproduce this problem on my local instance of TFS, but it seems to be working here. Is it possible that their configuration is somehow blocking it?","body":"Unfortunately, it&#39;s not. All I know is that our client has a gated-build for .resx files. We couldn&#39;t upload them directly into the repository, so we had to create a shelvesets. We had this working, but once they&#39;ve checked in translations, we can no longer replace existing shelveset or even create a new one. I try to reproduce this problem on my local instance of TFS, but it seems to be working here. Is it possible that their configuration is somehow blocking it?"},{"owner":{"account_id":7037568,"reputation":49946,"user_id":5391065,"display_name":"PatrickLu-MSFT"},"score":0,"creation_date":1503334881,"post_id":45749658,"comment_id":78562577,"body_markdown":"Sorry, didn&#39;t get your point. Did you just want to bypass the gated check in? How would you use shelveset to do this ? And why you need to replace the existing shelveset?","body":"Sorry, didn&#39;t get your point. Did you just want to bypass the gated check in? How would you use shelveset to do this ? And why you need to replace the existing shelveset?"},{"owner":{"account_id":5537973,"reputation":73,"user_id":4395614,"accept_rate":75,"display_name":"sebastian89n"},"score":0,"creation_date":1503495401,"post_id":45749658,"comment_id":78640051,"body_markdown":"It&#39;s not like I want to by pass gated check-in. What I really want is to discover why new shelvesets are not being created on the client TFS repository after the file has been unshelved and checked-in. What we are doing is that we automate the translation process of the files from repository and we upload the translated version back to repo. We have agreed to do that as shelvesets, so we create a shelveset of each file and if the newer version is uploaded, we replace the shelveset with the updated content. Client has unshelved changes and checked them in, the shelvesets are no longer created.","body":"It&#39;s not like I want to by pass gated check-in. What I really want is to discover why new shelvesets are not being created on the client TFS repository after the file has been unshelved and checked-in. What we are doing is that we automate the translation process of the files from repository and we upload the translated version back to repo. We have agreed to do that as shelvesets, so we create a shelveset of each file and if the newer version is uploaded, we replace the shelveset with the updated content. Client has unshelved changes and checked them in, the shelvesets are no longer created."}],"owner":{"account_id":5537973,"reputation":73,"user_id":4395614,"accept_rate":75,"display_name":"sebastian89n"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674495442,"creation_date":1503036776,"question_id":45749658,"body_markdown":"I have an application that is uploading a translation to the TFVC repository. We have added two modes of update, check in and shelve. Shelving was supposed to create a file on a shelveset, but we have discovered, that once the same file exists on the repository (it was checked in before), shelvesets are not being created. \r\n\r\nIt is most likely caused by &quot;gated-build&quot;, which is blocking check-in of any *resx files that already exists. It looks like shelvesets are also blocked, if the file already exists in the repsitory. \r\nCould this be a potential reason? Is there a way to avoid this problem using Java SDK or perhaps by changing the configuration on the repository?\r\n\r\nOn my local-testing TFS repository it works well. We want to create shelvesets everytime on the client server as well.\r\n\r\n","title":"TFS Java SDK - shelving file that already exists on the repository","body":"<p>I have an application that is uploading a translation to the TFVC repository. We have added two modes of update, check in and shelve. Shelving was supposed to create a file on a shelveset, but we have discovered, that once the same file exists on the repository (it was checked in before), shelvesets are not being created.</p>\n<p>It is most likely caused by &quot;gated-build&quot;, which is blocking check-in of any *resx files that already exists. It looks like shelvesets are also blocked, if the file already exists in the repsitory.\nCould this be a potential reason? Is there a way to avoid this problem using Java SDK or perhaps by changing the configuration on the repository?</p>\n<p>On my local-testing TFS repository it works well. We want to create shelvesets everytime on the client server as well.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":1,"creation_date":1674491262,"post_id":75212286,"comment_id":132720195,"body_markdown":"What if you were to uninstall the Java binaries from your system and then reinstall only the one you cared about?  It&#39;s been pretty much 10 years since I tried to do Java on Windows but I think the sentiment is, if you have two conflicting binaries on your system, removing them both and then replacing only the one you want would usually do the trick.","body":"What if you were to uninstall the Java binaries from your system and then reinstall only the one you cared about?  It&#39;s been pretty much 10 years since I tried to do Java on Windows but I think the sentiment is, if you have two conflicting binaries on your system, removing them both and then replacing only the one you want would usually do the trick."},{"owner":{"account_id":2435943,"reputation":1275,"user_id":2125853,"accept_rate":77,"display_name":"user2125853"},"score":0,"creation_date":1674492075,"post_id":75212286,"comment_id":132720486,"body_markdown":"Actually, I need both systems to be used with different applications. I can uninstall one and that would work.  But I would like to keep both systems.","body":"Actually, I need both systems to be used with different applications. I can uninstall one and that would work.  But I would like to keep both systems."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1674492267,"post_id":75212286,"comment_id":132720535,"body_markdown":"1.8.0_361 and 1.8.0_202 are both the same version 1.8, just different security patch levels. You don&#39;t need both. Actually, what you have is 1.8.0_361 JRE only and 1.8.0_202 JDK and JRE. Things that need the JDK are using patch 202 because you haven&#39;t updated the JDK, you&#39;ve only updated the JRE.","body":"1.8.0_361 and 1.8.0_202 are both the same version 1.8, just different security patch levels. You don&#39;t need both. Actually, what you have is 1.8.0_361 JRE only and 1.8.0_202 JDK and JRE. Things that need the JDK are using patch 202 because you haven&#39;t updated the JDK, you&#39;ve only updated the JRE."},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1674492280,"post_id":75212286,"comment_id":132720540,"body_markdown":"Java 1.8 is backwards-compatible with those point changes, so there&#39;s no real value in keeping the slightly older _202 version over the _361 version.  Otherwise...your environment is &quot;ideal&quot; in that it has all of the Java versions it needs...","body":"Java 1.8 is backwards-compatible with those point changes, so there&#39;s no real value in keeping the slightly older _202 version over the _361 version.  Otherwise...your environment is &quot;ideal&quot; in that it has all of the Java versions it needs..."},{"owner":{"account_id":1345845,"reputation":3244,"user_id":1286621,"accept_rate":80,"display_name":"Mike"},"score":0,"creation_date":1674493017,"post_id":75212286,"comment_id":132720762,"body_markdown":"You can open a dos or ps window and type in java -version and that will tell you which one your using.  Typically the first one to show up in your path variable is the one it will use, unless it is installed as part of the application.","body":"You can open a dos or ps window and type in java -version and that will tell you which one your using.  Typically the first one to show up in your path variable is the one it will use, unless it is installed as part of the application."}],"answers":[{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674495172,"creation_date":1674495172,"answer_id":75213046,"question_id":75212286,"body_markdown":"When you type `java` at the command prompt, Windows will look for `java.exe` in the directories specified by the `PATH` environment variable, starting with the first one. In your case, that&#39;s `C:\\Program Files(x86)\\Common Files\\Oracle\\Java\\javapath`. That folder contains a few files which are nothing more than symbolic links to executables found in the latest installed JRE. In your case, that will be `C:\\Program Files\\Java\\jre1.8.0_361\\bin`.\r\n\r\nWhat seems to be happening is that the JRE gets automatically updated, and you&#39;ve got the latest JRE installed. But the JDK is _not_ automatically updated: you have to do that manually. You still have version 1.8.0_202 of the JDK. So when you type `javac` (to compile a Java source file), you are using the JDK, and that&#39;s found in `C:\\Program Files\\Java\\jdk1.8.0_202\\bin` which is the last directory specified in your `PATH` environment variable.\r\n\r\nYou can clean up by removing the current versions of JRE and JDK and install the latest JDK.","title":"Which Java am I using on my Windows 10 system?","body":"<p>When you type <code>java</code> at the command prompt, Windows will look for <code>java.exe</code> in the directories specified by the <code>PATH</code> environment variable, starting with the first one. In your case, that's <code>C:\\Program Files(x86)\\Common Files\\Oracle\\Java\\javapath</code>. That folder contains a few files which are nothing more than symbolic links to executables found in the latest installed JRE. In your case, that will be <code>C:\\Program Files\\Java\\jre1.8.0_361\\bin</code>.</p>\n<p>What seems to be happening is that the JRE gets automatically updated, and you've got the latest JRE installed. But the JDK is <em>not</em> automatically updated: you have to do that manually. You still have version 1.8.0_202 of the JDK. So when you type <code>javac</code> (to compile a Java source file), you are using the JDK, and that's found in <code>C:\\Program Files\\Java\\jdk1.8.0_202\\bin</code> which is the last directory specified in your <code>PATH</code> environment variable.</p>\n<p>You can clean up by removing the current versions of JRE and JDK and install the latest JDK.</p>\n"},{"tags":[],"owner":{"account_id":27540191,"reputation":1,"user_id":21017076,"display_name":"Mayur Khare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674495411,"creation_date":1674495411,"answer_id":75213080,"question_id":75212286,"body_markdown":"Do you use any IDE?\r\nIf you are using eclipse then right-click on the project select build path then configure the build path there is an option JRE system library edit it and choose the latest java version. ","title":"Which Java am I using on my Windows 10 system?","body":"<p>Do you use any IDE?\nIf you are using eclipse then right-click on the project select build path then configure the build path there is an option JRE system library edit it and choose the latest java version.</p>\n"}],"owner":{"account_id":2435943,"reputation":1275,"user_id":2125853,"accept_rate":77,"display_name":"user2125853"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":414,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674556839,"accepted_answer_id":75213046,"answer_count":2,"score":0,"last_activity_date":1674495411,"creation_date":1674490943,"question_id":75212286,"body_markdown":"I have installed multiple versions of Java on my Windows 10 system. \r\n[![enter image description here][1]][1]\r\n\r\nI am not sure how Java is set up.  I see the following entry under environment variables\r\n[![enter image description here][2]][2]\r\n\r\nI see the following files in the directory above\r\n\r\n[![enter image description here][3]][3]\r\n\r\nThen there are the installations in the &#39;Program Files&#39; directory\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\nI had 1.8.0_202 on my system.  Then I installed update 1.8.0_361.  The system continues to be using update 202.  What I need to do to make the system use update 361.  Disabling update 202 does not to the job. Also, if you can explain how all these different entries (the environment variables, the files in the C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath)  are used.\r\n\r\n  [1]: https://i.stack.imgur.com/QFN9Q.png\r\n  [2]: https://i.stack.imgur.com/7QDFL.png\r\n  [3]: https://i.stack.imgur.com/DYmiw.png\r\n  [4]: https://i.stack.imgur.com/XaMbt.png","title":"Which Java am I using on my Windows 10 system?","body":"<p>I have installed multiple versions of Java on my Windows 10 system.\n<a href=\"https://i.stack.imgur.com/QFN9Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QFN9Q.png\" alt=\"enter image description here\" /></a></p>\n<p>I am not sure how Java is set up.  I see the following entry under environment variables\n<a href=\"https://i.stack.imgur.com/7QDFL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7QDFL.png\" alt=\"enter image description here\" /></a></p>\n<p>I see the following files in the directory above</p>\n<p><a href=\"https://i.stack.imgur.com/DYmiw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DYmiw.png\" alt=\"enter image description here\" /></a></p>\n<p>Then there are the installations in the 'Program Files' directory</p>\n<p><a href=\"https://i.stack.imgur.com/XaMbt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XaMbt.png\" alt=\"enter image description here\" /></a></p>\n<p>I had 1.8.0_202 on my system.  Then I installed update 1.8.0_361.  The system continues to be using update 202.  What I need to do to make the system use update 361.  Disabling update 202 does not to the job. Also, if you can explain how all these different entries (the environment variables, the files in the C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath)  are used.</p>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa","hibernate-mapping"],"comments":[{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1620988627,"post_id":67518426,"comment_id":119366058,"body_markdown":"Please add the full stack trace. Also, why can&#39;t you update?","body":"Please add the full stack trace. Also, why can&#39;t you update?"},{"owner":{"account_id":1848026,"reputation":899,"user_id":1675260,"display_name":"n0noob"},"score":0,"creation_date":1621000357,"post_id":67518426,"comment_id":119370700,"body_markdown":"This is a WARN level output that is getting printed in the console before the application kills itself. I tried to change log level to TRACE/DEBUG for root/hibernate/spring boot but still had no success with the stack trace. Can you help me with a way to print that ?","body":"This is a WARN level output that is getting printed in the console before the application kills itself. I tried to change log level to TRACE/DEBUG for root/hibernate/spring boot but still had no success with the stack trace. Can you help me with a way to print that ?"},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1621063743,"post_id":67518426,"comment_id":119386354,"body_markdown":"How can this be a warning? In your question you were writing that the app fails to boot. Not sure which warning you mean.","body":"How can this be a warning? In your question you were writing that the app fails to boot. Not sure which warning you mean."},{"owner":{"account_id":1848026,"reputation":899,"user_id":1675260,"display_name":"n0noob"},"score":0,"creation_date":1621068964,"post_id":67518426,"comment_id":119387561,"body_markdown":"Added raw console log output in the end for more info. Added few lines above and below it, if those could relate.","body":"Added raw console log output in the end for more info. Added few lines above and below it, if those could relate."},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1621114946,"post_id":67518426,"comment_id":119399359,"body_markdown":"Why can&#39;t you just use the latest Hibernate version?","body":"Why can&#39;t you just use the latest Hibernate version?"},{"owner":{"account_id":1848026,"reputation":899,"user_id":1675260,"display_name":"n0noob"},"score":0,"creation_date":1621144864,"post_id":67518426,"comment_id":119403031,"body_markdown":"If by latest, you mean latest `5.x`, since I am planning to switch to `hibernate-core` that comes along with `spring-boot-starter-data-jpa`, I tried to upgrade spring jpa to latest stable. It still failed with same error.","body":"If by latest, you mean latest <code>5.x</code>, since I am planning to switch to <code>hibernate-core</code> that comes along with <code>spring-boot-starter-data-jpa</code>, I tried to upgrade spring jpa to latest stable. It still failed with same error."},{"owner":{"account_id":1848026,"reputation":899,"user_id":1675260,"display_name":"n0noob"},"score":0,"creation_date":1621145193,"post_id":67518426,"comment_id":119403095,"body_markdown":"Also, found out changing this part of query : `or x.messageEntity.applicationParameter.parameterName like ?1` to something like `or x.messageEntity.field2 like ?1` solves the problem too. Is there any limit on the mapping from hibernate ? Or could this imply possible errors in the DB schema?","body":"Also, found out changing this part of query : <code>or x.messageEntity.applicationParameter.parameterName like ?1</code> to something like <code>or x.messageEntity.field2 like ?1</code> solves the problem too. Is there any limit on the mapping from hibernate ? Or could this imply possible errors in the DB schema?"},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1621152128,"post_id":67518426,"comment_id":119404375,"body_markdown":"The query should be fine, but there must be some stack trace for the error you are seeing. Without this, it&#39;s impossible to figure out what is wrong.","body":"The query should be fine, but there must be some stack trace for the error you are seeing. Without this, it&#39;s impossible to figure out what is wrong."},{"owner":{"account_id":1848026,"reputation":899,"user_id":1675260,"display_name":"n0noob"},"score":0,"creation_date":1621235742,"post_id":67518426,"comment_id":119424004,"body_markdown":"This application is using Postgres DB for persistence. Will that be okay to try to reproduce the issue with H2? That shouldn&#39;t be a problem, right ?","body":"This application is using Postgres DB for persistence. Will that be okay to try to reproduce the issue with H2? That shouldn&#39;t be a problem, right ?"},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1621236585,"post_id":67518426,"comment_id":119424256,"body_markdown":"Sure, that&#39;s fine.","body":"Sure, that&#39;s fine."},{"owner":{"account_id":17705436,"reputation":731,"user_id":12854146,"display_name":"tremendous7"},"score":0,"creation_date":1621383551,"post_id":67518426,"comment_id":119477881,"body_markdown":"can you share your MessageKey class? could you use a Long field instead of an ApplicationParameterEntity? so in MessageEntity i would remove @Id from the field ApplicationParameterEntity and i would add the new field `private Long applicationParameterId;` annotated `@Id` and `@Column(name = &quot;MSG_P_I&quot;, nullable = false, updatable = false, insertable = false)`","body":"can you share your MessageKey class? could you use a Long field instead of an ApplicationParameterEntity? so in MessageEntity i would remove @Id from the field ApplicationParameterEntity and i would add the new field <code>private Long applicationParameterId;</code> annotated <code>@Id</code> and <code>@Column(name = &quot;MSG_P_I&quot;, nullable = false, updatable = false, insertable = false)</code>"},{"owner":{"account_id":1848026,"reputation":899,"user_id":1675260,"display_name":"n0noob"},"score":0,"creation_date":1622007763,"post_id":67518426,"comment_id":119662204,"body_markdown":"@tremendous7 I have added `MessageKey` to the question body. Changing schema is a bit costly here. Since this is an RDBMS. I can&#39;t really do it unless I can prove that it is absolutely needed.","body":"@tremendous7 I have added <code>MessageKey</code> to the question body. Changing schema is a bit costly here. Since this is an RDBMS. I can&#39;t really do it unless I can prove that it is absolutely needed."},{"owner":{"account_id":1848026,"reputation":899,"user_id":1675260,"display_name":"n0noob"},"score":0,"creation_date":1622007864,"post_id":67518426,"comment_id":119662230,"body_markdown":"@ChristianBeikov As you had suggested, I isolated the relevant code and tried to reproduce the issue with H2 and latest Spring boot. Finally was able to see stack trace here for some reason, which wasn&#39;t the case earlier. I have added the complete stack trace in question body.","body":"@ChristianBeikov As you had suggested, I isolated the relevant code and tried to reproduce the issue with H2 and latest Spring boot. Finally was able to see stack trace here for some reason, which wasn&#39;t the case earlier. I have added the complete stack trace in question body."},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1622447592,"post_id":67518426,"comment_id":119786292,"body_markdown":"Please create an issue in the issue tracker(https://hibernate.atlassian.net) with a test case(https://github.com/hibernate/hibernate-test-case-templates/blob/master/orm/hibernate-orm-5/src/test/java/org/hibernate/bugs/JPAUnitTestCase.java) that reproduces the issue.","body":"Please create an issue in the issue tracker(<a href=\"https://hibernate.atlassian.net\" rel=\"nofollow noreferrer\">hibernate.atlassian.net</a>) with a test case(<a href=\"https://github.com/hibernate/hibernate-test-case-templates/blob/master/orm/hibernate-orm-5/src/test/java/org/hibernate/bugs/JPAUnitTestCase.java\" rel=\"nofollow noreferrer\">github.com/hibernate/hibernate-test-case-templates/blob&zwnj;&#8203;/master/&hellip;</a>) that reproduces the issue."}],"answers":[{"tags":[],"owner":{"account_id":17705436,"reputation":731,"user_id":12854146,"display_name":"tremendous7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621179609,"creation_date":1621179609,"answer_id":67558591,"question_id":67518426,"body_markdown":"try the following query\r\n\r\n    @Override\r\n    @Query(&quot;select x from MessageBZCEntity x join x.messageEntity as me join fetch me.applicationParamter as ap &quot; +\r\n            &quot;where me.comments like ?1 or ap.parameterName like ?1 or x.zipCode like ?1 or x.userUpdated like ?1&quot;)\r\n    Page&lt;MessageBZCEntity&gt; searchByText(String searchText, Pageable pageable);","title":"Spring JPA : Validation failed for query for method public abstract method","body":"<p>try the following query</p>\n<pre><code>@Override\n@Query(&quot;select x from MessageBZCEntity x join x.messageEntity as me join fetch me.applicationParamter as ap &quot; +\n        &quot;where me.comments like ?1 or ap.parameterName like ?1 or x.zipCode like ?1 or x.userUpdated like ?1&quot;)\nPage&lt;MessageBZCEntity&gt; searchByText(String searchText, Pageable pageable);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16608611,"reputation":123,"user_id":12002311,"display_name":"Prince"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674495281,"creation_date":1674495281,"answer_id":75213062,"question_id":67518426,"body_markdown":"I was getting the same error with the below query. \r\n\r\n```\r\n\t@Query(&quot;SELECT * FROM Feedback f&quot;)\r\n```\r\nI changed the * with an alias and it worked\r\n```\r\n\t@Query(&quot;SELECT f FROM Feedback f&quot;)\r\n```","title":"Spring JPA : Validation failed for query for method public abstract method","body":"<p>I was getting the same error with the below query.</p>\n<pre><code>    @Query(&quot;SELECT * FROM Feedback f&quot;)\n</code></pre>\n<p>I changed the * with an alias and it worked</p>\n<pre><code>    @Query(&quot;SELECT f FROM Feedback f&quot;)\n</code></pre>\n"}],"owner":{"account_id":1848026,"reputation":899,"user_id":1675260,"display_name":"n0noob"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6457,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674495281,"creation_date":1620905116,"question_id":67518426,"body_markdown":"\r\nApplication is working fine when it has external `hibernate-core : 5.3.14.Final` added to it, along with `spring-boot-starter-data-jpa : 2.4.3`.\r\nWhen I try to remove the externally added `hibernate-core` it fails with following error while booting up:\r\n```\r\n...\r\nInvocation of init method failed; nested exception is java.lang.IllegalArgumentException:\r\nValidation failed for query for method public abstract org.springframework.data.domain.Page\r\ncom.my_app.repository.MessageBZCRepository.searchByText(java.lang.String,org.springframework.data.domain.Pageable)!\r\n```\r\n\r\n*NOTE*: Internally `spring-boot-starter-data-jpa : 2.4.3` has `Hibernate ORM core version 5.4.28.Final` added as a dependency. It shows so in logs and dependency tree.\r\n\r\n\r\n\r\n### JPA Repository:\r\n```\r\n@Repository\r\npublic interface MessageBZCRepository extends JpaRepository&lt;MessageBZCEntity, MessageBZCKey&gt;, Searchable&lt;MessageBZCEntity&gt; {\r\n\r\n    ...\r\n\r\n    @Override\r\n    @EntityGraph(attributePaths = &quot;messageEntity.applicationParameter&quot;)\r\n    @Query(&quot;select x from MessageBZCEntity x where x.messageEntity.comments like ?1 or x.messageEntity.applicationParameter.parameterName like ?1 or x.zipCode like ?1 or x.userUpdated like ?1&quot;)\r\n    Page&lt;MessageBZCEntity&gt; searchByText(String searchText, Pageable pageable);\r\n\r\n    ...\r\n\r\n}\r\n```\r\n\r\nI found out that removing `or x.messageEntity.applicationParameter.parameterName like ?1` from the above mentioned query eleminates the `IllegalArgumentException` from application boot log and application boots up properly.\r\n\r\n\r\n\r\n### Entities:\r\n```\r\n@Entity\r\n@Table(name = &quot;MSG_Z&quot;)\r\n@IdClass(MessageBZCKey.class)\r\npublic class MessageBZCEntity implements Serializable {\r\n\r\n    @Id\r\n    @OneToOne(fetch = FetchType.LAZY)\r\n    @JoinColumns({\r\n            @JoinColumn(name = &quot;APPL_C&quot;, referencedColumnName = &quot;APPL_C&quot;\r\n                    , nullable = false),\r\n            @JoinColumn(name = &quot;MSG_P_I&quot;, referencedColumnName = &quot;MSG_P_I&quot;\r\n                    , nullable = false)\r\n\r\n    })\r\n    private MessageEntity messageEntity;\r\n\r\n    ...\r\n}\r\n```\r\n\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;MSG&quot;)\r\n@IdClass(MessageKey.class)\r\npublic class MessageEntity {\r\n\r\n    @Id\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;APPL_C&quot;, nullable = false)\r\n    private ApplicationCode applicationCode;\r\n\r\n    @Id\r\n    @OneToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;MSG_P_I&quot;, nullable = false)\r\n    private ApplicationParameterEntity applicationParameter;\r\n\r\n    ...\r\n\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;APPL_PARM&quot;)\r\npublic class ApplicationParameterEntity implements Serializable {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;APPL_PARM_I&quot;, nullable = false)\r\n    private Long id;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;PARM_TYPE_C&quot;, nullable = false)\r\n    private ApplicationParameterType parameterType;\r\n\r\n    @Column(name = &quot;PARM_N&quot;, nullable = false)\r\n    private String parameterName;\r\n\r\n    ...\r\n}\r\n```\r\n\r\n```\r\npublic class MessageKey implements Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    private ApplicationCode applicationCode;\r\n    private Long applicationParameter;\r\n\r\n}\r\n```\r\n\r\n\r\nI went through `hibernate-core` release notes, migration guides for hibernate-core:5.4.x but couldn&#39;t understand the root cause.\r\n\r\nNeed help in getting rid of this error. If anyone can route me towards the right direction, that would be certainly be helpful.\r\n\r\n### Update 1:\r\nAdding raw console log output:\r\n```\r\n[TRACE] 2021-05-15 14:13:17,669 main org.hibernate.type.descriptor.sql.BasicBinder - {} - binding parameter [1] as [VARCHAR] - [ABC]\r\n[TRACE] 2021-05-15 14:13:17,669 main org.hibernate.type.descriptor.sql.BasicBinder - {} - binding parameter [2] as [VARCHAR] - [XYZ]\r\n[WARN] 2021-05-15 14:13:18,926 main org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - {} - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;messageBZCServiceImpl&#39;: Unsatisfied dependency expressed through field &#39;messageBZCRepository&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;messageBZCRepository&#39; defined in com.my_app.repository.MessageBZCRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract org.springframework.data.domain.Page com.my_app.repository.MessageBZCRepository.searchByText(java.lang.String,org.springframework.data.domain.Pageable)!\r\n[INFO] 2021-05-15 14:13:18,931 main org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - {} - Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n[INFO] 2021-05-15 14:13:18,932 main com.zaxxer.hikari.HikariDataSource - {} - HikariPool-1 - Shutdown initiated...\r\n[INFO] 2021-05-15 14:13:19,268 main com.zaxxer.hikari.HikariDataSource - {} - HikariPool-1 - Shutdown completed.\r\nMay 15, 2021 2:13:19 PM org.apache.catalina.core.StandardService stopInternal\r\nINFO: Stopping service [Tomcat]\r\n```\r\n\r\n### Update 2:\r\n### Update 2:\r\n* Added MessageKey class\r\n* I was able to isolate the relevant code in a new application with H2 database and found the complete stacktrace (`hibernate-core-5.4.30.Final` is being used with latest spring):\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;messageBZCRepository&#39; defined in com.example.JPAIssueDemo.repository.MessageBZCRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract org.springframework.data.domain.Page com.example.JPAIssueDemo.repository.MessageBZCRepository.searchByText(java.lang.String,org.springframework.data.domain.Pageable)!\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786) ~[spring-beans-5.3.6.jar:5.3.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602) ~[spring-beans-5.3.6.jar:5.3.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.6.jar:5.3.6]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.6.jar:5.3.6]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.6.jar:5.3.6]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.6.jar:5.3.6]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.6.jar:5.3.6]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:925) ~[spring-beans-5.3.6.jar:5.3.6]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.6.jar:5.3.6]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.6.jar:5.3.6]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144) ~[spring-boot-2.4.5.jar:2.4.5]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:782) ~[spring-boot-2.4.5.jar:2.4.5]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:774) ~[spring-boot-2.4.5.jar:2.4.5]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-2.4.5.jar:2.4.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:339) ~[spring-boot-2.4.5.jar:2.4.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1340) ~[spring-boot-2.4.5.jar:2.4.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1329) ~[spring-boot-2.4.5.jar:2.4.5]\r\n\tat com.example.JPAIssueDemo.JpaIssueDemoApplication.main(JpaIssueDemoApplication.java:10) ~[main/:na]\r\nCaused by: java.lang.IllegalArgumentException: Validation failed for query for method public abstract org.springframework.data.domain.Page com.example.JPAIssueDemo.repository.MessageBZCRepository.searchByText(java.lang.String,org.springframework.data.domain.Pageable)!\r\n\tat org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:93) ~[spring-data-jpa-2.4.8.jar:2.4.8]\r\n\tat org.springframework.data.jpa.repository.query.SimpleJpaQuery.&lt;init&gt;(SimpleJpaQuery.java:63) ~[spring-data-jpa-2.4.8.jar:2.4.8]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:76) ~[spring-data-jpa-2.4.8.jar:2.4.8]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryFactory.fromQueryAnnotation(JpaQueryFactory.java:56) ~[spring-data-jpa-2.4.8.jar:2.4.8]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:146) ~[spring-data-jpa-2.4.8.jar:2.4.8]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:216) ~[spring-data-jpa-2.4.8.jar:2.4.8]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:81) ~[spring-data-jpa-2.4.8.jar:2.4.8]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:100) ~[spring-data-commons-2.4.8.jar:2.4.8]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(QueryExecutorMethodInterceptor.java:93) ~[spring-data-commons-2.4.8.jar:2.4.8]\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[na:na]\r\n\tat java.base/java.util.Iterator.forEachRemaining(Iterator.java:133) ~[na:na]\r\n\tat java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1054) ~[na:na]\r\n\tat java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[na:na]\r\n\tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\r\n\tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578) ~[na:na]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:95) ~[spring-data-commons-2.4.8.jar:2.4.8]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:85) ~[spring-data-commons-2.4.8.jar:2.4.8]\r\n\tat java.base/java.util.Optional.map(Optional.java:265) ~[na:na]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.&lt;init&gt;(QueryExecutorMethodInterceptor.java:85) ~[spring-data-commons-2.4.8.jar:2.4.8]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:303) ~[spring-data-commons-2.4.8.jar:2.4.8]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:323) ~[spring-data-commons-2.4.8.jar:2.4.8]\r\n\tat org.springframework.data.util.Lazy.getNullable(Lazy.java:230) ~[spring-data-commons-2.4.8.jar:2.4.8]\r\n\tat org.springframework.data.util.Lazy.get(Lazy.java:114) ~[spring-data-commons-2.4.8.jar:2.4.8]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:329) ~[spring-data-commons-2.4.8.jar:2.4.8]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:144) ~[spring-data-jpa-2.4.8.jar:2.4.8]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1845) ~[spring-beans-5.3.6.jar:5.3.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782) ~[spring-beans-5.3.6.jar:5.3.6]\r\n\t... 17 common frames omitted\r\nCaused by: java.lang.IllegalArgumentException: org.hibernate.QueryException: could not resolve property: parameterName of: com.example.JPAIssueDemo.entity.sl.MessageBZCEntity [select x from com.example.JPAIssueDemo.entity.sl.MessageBZCEntity x where x.messageEntity.comments like ?1 or x.messageEntity.applicationParameter.parameterName like ?1 or x.zipCode like ?1 or x.userUpdated like ?1]\r\n\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:138) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:734) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:114) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.6.jar:5.3.6]\r\n\tat com.sun.proxy.$Proxy89.createQuery(Unknown Source) ~[na:na]\r\n\tat org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:87) ~[spring-data-jpa-2.4.8.jar:2.4.8]\r\n\t... 46 common frames omitted\r\nCaused by: org.hibernate.QueryException: could not resolve property: parameterName of: com.example.JPAIssueDemo.entity.sl.MessageBZCEntity [select x from com.example.JPAIssueDemo.entity.sl.MessageBZCEntity x where x.messageEntity.comments like ?1 or x.messageEntity.applicationParameter.parameterName like ?1 or x.zipCode like ?1 or x.userUpdated like ?1]\r\n\tat org.hibernate.QueryException.generateQueryException(QueryException.java:120) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.QueryException.wrapWithQueryString(QueryException.java:103) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:220) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:113) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:73) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:613) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:725) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\t... 54 common frames omitted\r\nCaused by: org.hibernate.QueryException: could not resolve property: parameterName of: com.example.JPAIssueDemo.entity.sl.MessageBZCEntity\r\n\tat org.hibernate.persister.entity.AbstractPropertyMapping.propertyException(AbstractPropertyMapping.java:77) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.persister.entity.AbstractPropertyMapping.toType(AbstractPropertyMapping.java:71) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.toType(AbstractEntityPersister.java:2038) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.hql.internal.ast.tree.FromElementType.getPropertyType(FromElementType.java:412) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.hql.internal.ast.tree.FromElement.getPropertyType(FromElement.java:520) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.hql.internal.ast.tree.DotNode.getDataType(DotNode.java:695) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.hql.internal.ast.tree.DotNode.prepareLhs(DotNode.java:269) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.hql.internal.ast.tree.DotNode.resolve(DotNode.java:209) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.hql.internal.ast.HqlSqlWalker.resolve(HqlSqlWalker.java:1055) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.expr(HqlSqlBaseWalker.java:1308) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.exprOrSubquery(HqlSqlBaseWalker.java:4778) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.comparisonExpr(HqlSqlBaseWalker.java:4388) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2166) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2119) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2116) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2116) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.whereClause(HqlSqlBaseWalker.java:832) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:626) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:330) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:278) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:276) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:192) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\t... 60 common frames omitted\r\n```","title":"Spring JPA : Validation failed for query for method public abstract method","body":"<p>Application is working fine when it has external <code>hibernate-core : 5.3.14.Final</code> added to it, along with <code>spring-boot-starter-data-jpa : 2.4.3</code>.\nWhen I try to remove the externally added <code>hibernate-core</code> it fails with following error while booting up:</p>\n<pre><code>...\nInvocation of init method failed; nested exception is java.lang.IllegalArgumentException:\nValidation failed for query for method public abstract org.springframework.data.domain.Page\ncom.my_app.repository.MessageBZCRepository.searchByText(java.lang.String,org.springframework.data.domain.Pageable)!\n</code></pre>\n<p><em>NOTE</em>: Internally <code>spring-boot-starter-data-jpa : 2.4.3</code> has <code>Hibernate ORM core version 5.4.28.Final</code> added as a dependency. It shows so in logs and dependency tree.</p>\n<h3>JPA Repository:</h3>\n<pre><code>@Repository\npublic interface MessageBZCRepository extends JpaRepository&lt;MessageBZCEntity, MessageBZCKey&gt;, Searchable&lt;MessageBZCEntity&gt; {\n\n    ...\n\n    @Override\n    @EntityGraph(attributePaths = &quot;messageEntity.applicationParameter&quot;)\n    @Query(&quot;select x from MessageBZCEntity x where x.messageEntity.comments like ?1 or x.messageEntity.applicationParameter.parameterName like ?1 or x.zipCode like ?1 or x.userUpdated like ?1&quot;)\n    Page&lt;MessageBZCEntity&gt; searchByText(String searchText, Pageable pageable);\n\n    ...\n\n}\n</code></pre>\n<p>I found out that removing <code>or x.messageEntity.applicationParameter.parameterName like ?1</code> from the above mentioned query eleminates the <code>IllegalArgumentException</code> from application boot log and application boots up properly.</p>\n<h3>Entities:</h3>\n<pre><code>@Entity\n@Table(name = &quot;MSG_Z&quot;)\n@IdClass(MessageBZCKey.class)\npublic class MessageBZCEntity implements Serializable {\n\n    @Id\n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumns({\n            @JoinColumn(name = &quot;APPL_C&quot;, referencedColumnName = &quot;APPL_C&quot;\n                    , nullable = false),\n            @JoinColumn(name = &quot;MSG_P_I&quot;, referencedColumnName = &quot;MSG_P_I&quot;\n                    , nullable = false)\n\n    })\n    private MessageEntity messageEntity;\n\n    ...\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;MSG&quot;)\n@IdClass(MessageKey.class)\npublic class MessageEntity {\n\n    @Id\n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;APPL_C&quot;, nullable = false)\n    private ApplicationCode applicationCode;\n\n    @Id\n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;MSG_P_I&quot;, nullable = false)\n    private ApplicationParameterEntity applicationParameter;\n\n    ...\n\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;APPL_PARM&quot;)\npublic class ApplicationParameterEntity implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;APPL_PARM_I&quot;, nullable = false)\n    private Long id;\n\n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;PARM_TYPE_C&quot;, nullable = false)\n    private ApplicationParameterType parameterType;\n\n    @Column(name = &quot;PARM_N&quot;, nullable = false)\n    private String parameterName;\n\n    ...\n}\n</code></pre>\n<pre><code>public class MessageKey implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    private ApplicationCode applicationCode;\n    private Long applicationParameter;\n\n}\n</code></pre>\n<p>I went through <code>hibernate-core</code> release notes, migration guides for hibernate-core:5.4.x but couldn't understand the root cause.</p>\n<p>Need help in getting rid of this error. If anyone can route me towards the right direction, that would be certainly be helpful.</p>\n<h3>Update 1:</h3>\n<p>Adding raw console log output:</p>\n<pre><code>[TRACE] 2021-05-15 14:13:17,669 main org.hibernate.type.descriptor.sql.BasicBinder - {} - binding parameter [1] as [VARCHAR] - [ABC]\n[TRACE] 2021-05-15 14:13:17,669 main org.hibernate.type.descriptor.sql.BasicBinder - {} - binding parameter [2] as [VARCHAR] - [XYZ]\n[WARN] 2021-05-15 14:13:18,926 main org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - {} - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'messageBZCServiceImpl': Unsatisfied dependency expressed through field 'messageBZCRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'messageBZCRepository' defined in com.my_app.repository.MessageBZCRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract org.springframework.data.domain.Page com.my_app.repository.MessageBZCRepository.searchByText(java.lang.String,org.springframework.data.domain.Pageable)!\n[INFO] 2021-05-15 14:13:18,931 main org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - {} - Closing JPA EntityManagerFactory for persistence unit 'default'\n[INFO] 2021-05-15 14:13:18,932 main com.zaxxer.hikari.HikariDataSource - {} - HikariPool-1 - Shutdown initiated...\n[INFO] 2021-05-15 14:13:19,268 main com.zaxxer.hikari.HikariDataSource - {} - HikariPool-1 - Shutdown completed.\nMay 15, 2021 2:13:19 PM org.apache.catalina.core.StandardService stopInternal\nINFO: Stopping service [Tomcat]\n</code></pre>\n<h3>Update 2:</h3>\n<h3>Update 2:</h3>\n<ul>\n<li>Added MessageKey class</li>\n<li>I was able to isolate the relevant code in a new application with H2 database and found the complete stacktrace (<code>hibernate-core-5.4.30.Final</code> is being used with latest spring):</li>\n</ul>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'messageBZCRepository' defined in com.example.JPAIssueDemo.repository.MessageBZCRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract org.springframework.data.domain.Page com.example.JPAIssueDemo.repository.MessageBZCRepository.searchByText(java.lang.String,org.springframework.data.domain.Pageable)!\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786) ~[spring-beans-5.3.6.jar:5.3.6]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602) ~[spring-beans-5.3.6.jar:5.3.6]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.6.jar:5.3.6]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.6.jar:5.3.6]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.6.jar:5.3.6]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.6.jar:5.3.6]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.6.jar:5.3.6]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:925) ~[spring-beans-5.3.6.jar:5.3.6]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.6.jar:5.3.6]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.6.jar:5.3.6]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144) ~[spring-boot-2.4.5.jar:2.4.5]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:782) ~[spring-boot-2.4.5.jar:2.4.5]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:774) ~[spring-boot-2.4.5.jar:2.4.5]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-2.4.5.jar:2.4.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:339) ~[spring-boot-2.4.5.jar:2.4.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1340) ~[spring-boot-2.4.5.jar:2.4.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1329) ~[spring-boot-2.4.5.jar:2.4.5]\n    at com.example.JPAIssueDemo.JpaIssueDemoApplication.main(JpaIssueDemoApplication.java:10) ~[main/:na]\nCaused by: java.lang.IllegalArgumentException: Validation failed for query for method public abstract org.springframework.data.domain.Page com.example.JPAIssueDemo.repository.MessageBZCRepository.searchByText(java.lang.String,org.springframework.data.domain.Pageable)!\n    at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:93) ~[spring-data-jpa-2.4.8.jar:2.4.8]\n    at org.springframework.data.jpa.repository.query.SimpleJpaQuery.&lt;init&gt;(SimpleJpaQuery.java:63) ~[spring-data-jpa-2.4.8.jar:2.4.8]\n    at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:76) ~[spring-data-jpa-2.4.8.jar:2.4.8]\n    at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromQueryAnnotation(JpaQueryFactory.java:56) ~[spring-data-jpa-2.4.8.jar:2.4.8]\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:146) ~[spring-data-jpa-2.4.8.jar:2.4.8]\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:216) ~[spring-data-jpa-2.4.8.jar:2.4.8]\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:81) ~[spring-data-jpa-2.4.8.jar:2.4.8]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:100) ~[spring-data-commons-2.4.8.jar:2.4.8]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(QueryExecutorMethodInterceptor.java:93) ~[spring-data-commons-2.4.8.jar:2.4.8]\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[na:na]\n    at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133) ~[na:na]\n    at java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1054) ~[na:na]\n    at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[na:na]\n    at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578) ~[na:na]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:95) ~[spring-data-commons-2.4.8.jar:2.4.8]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:85) ~[spring-data-commons-2.4.8.jar:2.4.8]\n    at java.base/java.util.Optional.map(Optional.java:265) ~[na:na]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.&lt;init&gt;(QueryExecutorMethodInterceptor.java:85) ~[spring-data-commons-2.4.8.jar:2.4.8]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:303) ~[spring-data-commons-2.4.8.jar:2.4.8]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:323) ~[spring-data-commons-2.4.8.jar:2.4.8]\n    at org.springframework.data.util.Lazy.getNullable(Lazy.java:230) ~[spring-data-commons-2.4.8.jar:2.4.8]\n    at org.springframework.data.util.Lazy.get(Lazy.java:114) ~[spring-data-commons-2.4.8.jar:2.4.8]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:329) ~[spring-data-commons-2.4.8.jar:2.4.8]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:144) ~[spring-data-jpa-2.4.8.jar:2.4.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1845) ~[spring-beans-5.3.6.jar:5.3.6]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782) ~[spring-beans-5.3.6.jar:5.3.6]\n    ... 17 common frames omitted\nCaused by: java.lang.IllegalArgumentException: org.hibernate.QueryException: could not resolve property: parameterName of: com.example.JPAIssueDemo.entity.sl.MessageBZCEntity [select x from com.example.JPAIssueDemo.entity.sl.MessageBZCEntity x where x.messageEntity.comments like ?1 or x.messageEntity.applicationParameter.parameterName like ?1 or x.zipCode like ?1 or x.userUpdated like ?1]\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:138) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:734) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:114) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.6.jar:5.3.6]\n    at com.sun.proxy.$Proxy89.createQuery(Unknown Source) ~[na:na]\n    at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:87) ~[spring-data-jpa-2.4.8.jar:2.4.8]\n    ... 46 common frames omitted\nCaused by: org.hibernate.QueryException: could not resolve property: parameterName of: com.example.JPAIssueDemo.entity.sl.MessageBZCEntity [select x from com.example.JPAIssueDemo.entity.sl.MessageBZCEntity x where x.messageEntity.comments like ?1 or x.messageEntity.applicationParameter.parameterName like ?1 or x.zipCode like ?1 or x.userUpdated like ?1]\n    at org.hibernate.QueryException.generateQueryException(QueryException.java:120) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.QueryException.wrapWithQueryString(QueryException.java:103) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:220) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:113) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:73) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:613) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:725) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    ... 54 common frames omitted\nCaused by: org.hibernate.QueryException: could not resolve property: parameterName of: com.example.JPAIssueDemo.entity.sl.MessageBZCEntity\n    at org.hibernate.persister.entity.AbstractPropertyMapping.propertyException(AbstractPropertyMapping.java:77) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.persister.entity.AbstractPropertyMapping.toType(AbstractPropertyMapping.java:71) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.toType(AbstractEntityPersister.java:2038) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.hql.internal.ast.tree.FromElementType.getPropertyType(FromElementType.java:412) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.hql.internal.ast.tree.FromElement.getPropertyType(FromElement.java:520) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.hql.internal.ast.tree.DotNode.getDataType(DotNode.java:695) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.hql.internal.ast.tree.DotNode.prepareLhs(DotNode.java:269) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.hql.internal.ast.tree.DotNode.resolve(DotNode.java:209) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.hql.internal.ast.HqlSqlWalker.resolve(HqlSqlWalker.java:1055) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.expr(HqlSqlBaseWalker.java:1308) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.exprOrSubquery(HqlSqlBaseWalker.java:4778) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.comparisonExpr(HqlSqlBaseWalker.java:4388) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2166) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2119) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2116) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2116) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.whereClause(HqlSqlBaseWalker.java:832) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:626) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:330) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:278) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:276) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:192) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    ... 60 common frames omitted\n</code></pre>\n"},{"tags":["java","stringtokenizer"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":2,"creation_date":1674470895,"post_id":75208237,"comment_id":132713320,"body_markdown":"You&#39;d be better off using an off-the-shelf CSV reader, such as OpenCSV (or any of the many available Open Source CSV readers).","body":"You&#39;d be better off using an off-the-shelf CSV reader, such as OpenCSV (or any of the many available Open Source CSV readers)."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1674471713,"post_id":75208237,"comment_id":132713544,"body_markdown":"*You&#39;d be better off using an off-the-shelf CSV reader* that&#39;s quite true, but in any case, if it&#39;s an otherwise simple csv, `String.split` would in any case detect the empty field, so there&#39;s no problem","body":"<i>You&#39;d be better off using an off-the-shelf CSV reader</i> that&#39;s quite true, but in any case, if it&#39;s an otherwise simple csv, <code>String.split</code> would in any case detect the empty field, so there&#39;s no problem"}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674472555,"creation_date":1674472555,"answer_id":75208720,"question_id":75208237,"body_markdown":"StringTokenizer is not great with blanks, use String.split() instead. Try this:\r\n\r\n    String[] strings = line.split(&quot;\\t&quot;);\r\n    ArrayList&lt;String&gt; al = new ArrayList&lt;&gt;();\r\n    for (String string : strings) {\r\n        al.add(string );\r\n    }\r\n    System.out.println(al.size() + &quot; &gt;&gt; &quot; + al);\r\n\r\nAs per k314159 - using [opencsv][1] is much smarter.\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.opencsv/opencsv/5.7.1","title":"How to detect two consecutive delimiters in a line with StringTokenizer and fill blank value","body":"<p>StringTokenizer is not great with blanks, use String.split() instead. Try this:</p>\n<pre><code>String[] strings = line.split(&quot;\\t&quot;);\nArrayList&lt;String&gt; al = new ArrayList&lt;&gt;();\nfor (String string : strings) {\n    al.add(string );\n}\nSystem.out.println(al.size() + &quot; &gt;&gt; &quot; + al);\n</code></pre>\n<p>As per k314159 - using <a href=\"https://mvnrepository.com/artifact/com.opencsv/opencsv/5.7.1\" rel=\"nofollow noreferrer\">opencsv</a> is much smarter.</p>\n"}],"owner":{"account_id":15892628,"reputation":89,"user_id":11467296,"display_name":"Vasilis Iak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674495278,"accepted_answer_id":75208720,"answer_count":1,"score":0,"last_activity_date":1674495236,"creation_date":1674469958,"question_id":75208237,"body_markdown":"I am reading a .dat file line by line and I want to separate fields using the delimiter (&quot;\\t&quot;), because every field is separated by tab.\r\n\r\nHowever, there are some non-required fields and they can be blank, so if there are two consecutive tabs (&quot;\\t&quot;), I want to detect the second one and store a blank String.\r\n\r\n```java\r\nStringTokenizer stringTokenizer = new StringTokenizer(line, &quot;\\t&quot;);\r\nArrayList&lt;String&gt; al = new ArrayList&lt;&gt;();\r\nwhile (stringTokenizer.hasMoreTokens()) {\r\n\tal.add(stringTokenizer.nextToken());\r\n}\r\nSystem.out.println(al.size() + &quot; &gt;&gt; &quot; + al);\r\n```\r\n\r\nWhen I try the above and I have the following input lines:\r\n```none\r\nR\t900081458\t22222-22-2\t\t\t1\t-1\t1\t0\t0\t1\r\nR\t245047685\t7250-46-6\t\t\t0\t-1\t0\t0\t0\t0\r\nR\t245048731\t13755-29-8\t\t237-340-6\t0\t-1\t0\t0\t0\t0\r\nR\t245047201\t1080-12-2\t\t214-096-9\t0\t-1\t0\t0\t0\t0\r\nR\t1\t118725-24-9\t612-118-00-5\t405-080-4\t0\t0\t0\t0\t0\t0\r\n```\r\n\r\nI can&#39;t handle the two consecutive tabs, so I have the following output:\r\n```none\r\n9 &gt;&gt; [R, 900081458, 22222-22-2, 1, -1, 1, 0, 0, 1]\r\n9 &gt;&gt; [R, 245047685, 7250-46-6, 0, -1, 0, 0, 0, 0]\r\n10 &gt;&gt; [R, 245048731, 13755-29-8, 237-340-6, 0, -1, 0, 0, 0, 0]\r\n10 &gt;&gt; [R, 245047201, 1080-12-2, 214-096-9, 0, -1, 0, 0, 0, 0]\r\n11 &gt;&gt; [R, 1, 118725-24-9, 612-118-00-5, 405-080-4, 0, 0, 0, 0, 0, 0]\r\n```\r\nWhile the desired output would be something like this (in case I fill the two consecutive blanks with &quot;BLANK&quot;):\r\n\r\n```none\r\n11 &gt;&gt; [R, 900081458, 22222-22-2, &quot;BLANK&quot;, &quot;BLANK&quot;, 1, -1, 1, 0, 0, 1]\r\n11 &gt;&gt; [R, 245047685, 7250-46-6, &quot;BLANK&quot;, &quot;BLANK&quot;, 0, -1, 0, 0, 0, 0]\r\n11 &gt;&gt; [R, 245048731, 13755-29-8, 237-340-6, &quot;BLANK&quot;, 0, -1, 0, 0, 0, 0]\r\n11 &gt;&gt; [R, 245047201, 1080-12-2, 214-096-9, &quot;BLANK&quot;, 0, -1, 0, 0, 0, 0]\r\n11 &gt;&gt; [R, 1, 118725-24-9, 612-118-00-5, 405-080-4, 0, 0, 0, 0, 0, 0]\r\n```\r\n","title":"How to detect two consecutive delimiters in a line with StringTokenizer and fill blank value","body":"<p>I am reading a .dat file line by line and I want to separate fields using the delimiter (&quot;\\t&quot;), because every field is separated by tab.</p>\n<p>However, there are some non-required fields and they can be blank, so if there are two consecutive tabs (&quot;\\t&quot;), I want to detect the second one and store a blank String.</p>\n<pre class=\"lang-java prettyprint-override\"><code>StringTokenizer stringTokenizer = new StringTokenizer(line, &quot;\\t&quot;);\nArrayList&lt;String&gt; al = new ArrayList&lt;&gt;();\nwhile (stringTokenizer.hasMoreTokens()) {\n    al.add(stringTokenizer.nextToken());\n}\nSystem.out.println(al.size() + &quot; &gt;&gt; &quot; + al);\n</code></pre>\n<p>When I try the above and I have the following input lines:</p>\n<pre class=\"lang-none prettyprint-override\"><code>R   900081458   22222-22-2          1   -1  1   0   0   1\nR   245047685   7250-46-6           0   -1  0   0   0   0\nR   245048731   13755-29-8      237-340-6   0   -1  0   0   0   0\nR   245047201   1080-12-2       214-096-9   0   -1  0   0   0   0\nR   1   118725-24-9 612-118-00-5    405-080-4   0   0   0   0   0   0\n</code></pre>\n<p>I can't handle the two consecutive tabs, so I have the following output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>9 &gt;&gt; [R, 900081458, 22222-22-2, 1, -1, 1, 0, 0, 1]\n9 &gt;&gt; [R, 245047685, 7250-46-6, 0, -1, 0, 0, 0, 0]\n10 &gt;&gt; [R, 245048731, 13755-29-8, 237-340-6, 0, -1, 0, 0, 0, 0]\n10 &gt;&gt; [R, 245047201, 1080-12-2, 214-096-9, 0, -1, 0, 0, 0, 0]\n11 &gt;&gt; [R, 1, 118725-24-9, 612-118-00-5, 405-080-4, 0, 0, 0, 0, 0, 0]\n</code></pre>\n<p>While the desired output would be something like this (in case I fill the two consecutive blanks with &quot;BLANK&quot;):</p>\n<pre class=\"lang-none prettyprint-override\"><code>11 &gt;&gt; [R, 900081458, 22222-22-2, &quot;BLANK&quot;, &quot;BLANK&quot;, 1, -1, 1, 0, 0, 1]\n11 &gt;&gt; [R, 245047685, 7250-46-6, &quot;BLANK&quot;, &quot;BLANK&quot;, 0, -1, 0, 0, 0, 0]\n11 &gt;&gt; [R, 245048731, 13755-29-8, 237-340-6, &quot;BLANK&quot;, 0, -1, 0, 0, 0, 0]\n11 &gt;&gt; [R, 245047201, 1080-12-2, 214-096-9, &quot;BLANK&quot;, 0, -1, 0, 0, 0, 0]\n11 &gt;&gt; [R, 1, 118725-24-9, 612-118-00-5, 405-080-4, 0, 0, 0, 0, 0, 0]\n</code></pre>\n"},{"tags":["java","gson"],"comments":[{"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"score":1,"creation_date":1674420427,"post_id":75203562,"comment_id":132705769,"body_markdown":"You&#39;re on the right track. Use `TypeAdaptorFactory` to pass the `Gson` instance to your `TypeAdaptor`.","body":"You&#39;re on the right track. Use <code>TypeAdaptorFactory</code> to pass the <code>Gson</code> instance to your <code>TypeAdaptor</code>."},{"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"score":0,"creation_date":1674420502,"post_id":75203562,"comment_id":132705782,"body_markdown":"Here, I found an example: https://stackoverflow.com/a/58043010/15224052. Probably a duplicate.","body":"Here, I found an example: <a href=\"https://stackoverflow.com/a/58043010/15224052\">stackoverflow.com/a/58043010/15224052</a>. Probably a duplicate."},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":1,"creation_date":1674428897,"post_id":75203562,"comment_id":132706957,"body_markdown":"Adding to what @Oliver wrote, your `TypeAdapterFactory` would look up the adapter for `B`, then create and return an adapter for `A` which delegates handling for `&quot;b_json_value&quot;` to the methods `TypeAdapter.toJson` and `TypeAdapter.fromJson` of `B`&#39;s adapter. (assuming that I understood you correctly and you actually want a nested JSON document string)","body":"Adding to what @Oliver wrote, your <code>TypeAdapterFactory</code> would look up the adapter for <code>B</code>, then create and return an adapter for <code>A</code> which delegates handling for <code>&quot;b_json_value&quot;</code> to the methods <code>TypeAdapter.toJson</code> and <code>TypeAdapter.fromJson</code> of <code>B</code>&#39;s adapter. (assuming that I understood you correctly and you actually want a nested JSON document string)"}],"owner":{"account_id":25636459,"reputation":1,"user_id":19405975,"display_name":"Tartur"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674495129,"answer_count":0,"score":0,"last_activity_date":1674495106,"creation_date":1674418234,"question_id":75203562,"body_markdown":"I have a `TypeAdapter&lt;A&gt;` for a class A, and another one for a class B. The A class contains a field of type B. Now, here is the problem: when I write the serialization of my `TypeAdapter&lt;A&gt;`, I would like to get the serialization result of my B class as String to put it as a value for the field of my A class.\r\n\r\nExample:\r\n\r\n```java\r\npublic class A {\r\n    private final B b;\r\n    // ...\r\n}\r\n\r\npublic class B {\r\n    // ...\r\n}\r\n\r\npublic class ATypeAdapter extends TypeAdapter&lt;A&gt; {\r\n    public void write(JsonWriter out, EconomyContainer container) throws IOException {\r\n        out.beginObject();\r\n\r\n        out.name(&quot;b_json_value&quot;).value(/* Here, I want to set the JSON serialization of my B class as String*/);\r\n\r\n        out.endObject();\r\n    }\r\n\r\n    @Override\r\n    public EconomyContainer read(JsonReader in) throws IOException {\r\n        out.beginObject();\r\n\r\n        while (in.hasNext()) {\r\n            if (in.nextName().equals(&quot;b_json_value&quot;)) {\r\n                // Here, I want to use the read the String and deserialize it with the JSON value\r\n            }\r\n        }\r\n\r\n        out.name(&quot;b_json_value&quot;).value(/* Here, I want to set the JSON serialization of my B class as String*/);\r\n\r\n        out.endObject();\r\n    }\r\n}\r\n```\r\n\r\nHow can I fix this problem?\r\n\r\nI tried passing an instance of Gson into my class constructor to use the required TypeAdapter, but this couldn&#39;t work as when I create a new GsonBuilder, that&#39;s when I have to fill in my TypeAdapters, so I can&#39;t pass a Gson instance onto the classes that would need it as the variable containing it is not yet initialised.","title":"Gson TypeAdapters cross-reference problem","body":"<p>I have a <code>TypeAdapter&lt;A&gt;</code> for a class A, and another one for a class B. The A class contains a field of type B. Now, here is the problem: when I write the serialization of my <code>TypeAdapter&lt;A&gt;</code>, I would like to get the serialization result of my B class as String to put it as a value for the field of my A class.</p>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class A {\n    private final B b;\n    // ...\n}\n\npublic class B {\n    // ...\n}\n\npublic class ATypeAdapter extends TypeAdapter&lt;A&gt; {\n    public void write(JsonWriter out, EconomyContainer container) throws IOException {\n        out.beginObject();\n\n        out.name(&quot;b_json_value&quot;).value(/* Here, I want to set the JSON serialization of my B class as String*/);\n\n        out.endObject();\n    }\n\n    @Override\n    public EconomyContainer read(JsonReader in) throws IOException {\n        out.beginObject();\n\n        while (in.hasNext()) {\n            if (in.nextName().equals(&quot;b_json_value&quot;)) {\n                // Here, I want to use the read the String and deserialize it with the JSON value\n            }\n        }\n\n        out.name(&quot;b_json_value&quot;).value(/* Here, I want to set the JSON serialization of my B class as String*/);\n\n        out.endObject();\n    }\n}\n</code></pre>\n<p>How can I fix this problem?</p>\n<p>I tried passing an instance of Gson into my class constructor to use the required TypeAdapter, but this couldn't work as when I create a new GsonBuilder, that's when I have to fill in my TypeAdapters, so I can't pass a Gson instance onto the classes that would need it as the variable containing it is not yet initialised.</p>\n"},{"tags":["java","android"],"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674495054,"creation_date":1674495054,"question_id":75213031,"body_markdown":"I have a recording call app in which i would like to track the call duration in realtime , i have looked up some codes online but none of them does what i want , i&#39;m here seeking help from those who are expert in this , any way to do that please , Thank you .\r\n\r\nBasically when the call is answered , track call timing 0 1 2 3 and so on .\r\n\r\n * Tried this code but only gets the final duration \r\n\r\n```\r\n private void getCallDetails() {\r\n        StringBuffer sb = new StringBuffer();\r\n        Uri contacts = CallLog.Calls.CONTENT_URI;\r\n        Cursor managedCursor = this.getContentResolver().query(contacts, null, null, null, null);\r\n        int number = managedCursor.getColumnIndex(CallLog.Calls.NUMBER);\r\n        int type = managedCursor.getColumnIndex(CallLog.Calls.TYPE);\r\n        int date = managedCursor.getColumnIndex(CallLog.Calls.DATE);\r\n        int duration = managedCursor.getColumnIndex(CallLog.Calls.DURATION);\r\n        sb.append(&quot;Call Details :&quot;);\r\n        while (managedCursor.moveToNext()) {\r\n\r\n            HashMap rowDataCall = new HashMap&lt;String, String&gt;();\r\n\r\n            String phNumber = managedCursor.getString(number);\r\n            String callType = managedCursor.getString(type);\r\n            String callDate = managedCursor.getString(date);\r\n            String callDayTime = new Date(Long.valueOf(callDate)).toString();\r\n            // long timestamp = convertDateToTimestamp(callDayTime);\r\n            String callDuration = managedCursor.getString(duration);\r\n            String dir = null;\r\n            int dircode = Integer.parseInt(callType);\r\n            switch (dircode) {\r\n                case CallLog.Calls.OUTGOING_TYPE:\r\n                    dir = &quot;OUTGOING&quot;;\r\n                    break;\r\n\r\n                case CallLog.Calls.INCOMING_TYPE:\r\n                    dir = &quot;INCOMING&quot;;\r\n                    break;\r\n\r\n                case CallLog.Calls.MISSED_TYPE:\r\n                    dir = &quot;MISSED&quot;;\r\n                    break;\r\n            }\r\n\r\n            Log.d(&quot;TAG&quot;,&quot;Call Duration&quot; + callDuration);\r\n\r\n\r\n        }\r\n        managedCursor.close();\r\n        System.out.println(sb);\r\n    }\r\n```","title":"Tracking phone call time in real time","body":"<p>I have a recording call app in which i would like to track the call duration in realtime , i have looked up some codes online but none of them does what i want , i'm here seeking help from those who are expert in this , any way to do that please , Thank you .</p>\n<p>Basically when the call is answered , track call timing 0 1 2 3 and so on .</p>\n<ul>\n<li>Tried this code but only gets the final duration</li>\n</ul>\n<pre><code> private void getCallDetails() {\n        StringBuffer sb = new StringBuffer();\n        Uri contacts = CallLog.Calls.CONTENT_URI;\n        Cursor managedCursor = this.getContentResolver().query(contacts, null, null, null, null);\n        int number = managedCursor.getColumnIndex(CallLog.Calls.NUMBER);\n        int type = managedCursor.getColumnIndex(CallLog.Calls.TYPE);\n        int date = managedCursor.getColumnIndex(CallLog.Calls.DATE);\n        int duration = managedCursor.getColumnIndex(CallLog.Calls.DURATION);\n        sb.append(&quot;Call Details :&quot;);\n        while (managedCursor.moveToNext()) {\n\n            HashMap rowDataCall = new HashMap&lt;String, String&gt;();\n\n            String phNumber = managedCursor.getString(number);\n            String callType = managedCursor.getString(type);\n            String callDate = managedCursor.getString(date);\n            String callDayTime = new Date(Long.valueOf(callDate)).toString();\n            // long timestamp = convertDateToTimestamp(callDayTime);\n            String callDuration = managedCursor.getString(duration);\n            String dir = null;\n            int dircode = Integer.parseInt(callType);\n            switch (dircode) {\n                case CallLog.Calls.OUTGOING_TYPE:\n                    dir = &quot;OUTGOING&quot;;\n                    break;\n\n                case CallLog.Calls.INCOMING_TYPE:\n                    dir = &quot;INCOMING&quot;;\n                    break;\n\n                case CallLog.Calls.MISSED_TYPE:\n                    dir = &quot;MISSED&quot;;\n                    break;\n            }\n\n            Log.d(&quot;TAG&quot;,&quot;Call Duration&quot; + callDuration);\n\n\n        }\n        managedCursor.close();\n        System.out.println(sb);\n    }\n</code></pre>\n"},{"tags":["java","redis","quarkus"],"comments":[{"owner":{"account_id":3568344,"reputation":645,"user_id":2979325,"display_name":"Serkan"},"score":0,"creation_date":1675757286,"post_id":75212797,"comment_id":132992021,"body_markdown":"I think it’s a default behavior of SSE. As soon as the server doesn’t send anything anymore the connection is closed.","body":"I think it’s a default behavior of SSE. As soon as the server doesn’t send anything anymore the connection is closed."}],"owner":{"account_id":27602413,"reputation":1,"user_id":21067365,"display_name":"jujobridge"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674494215,"creation_date":1674493689,"question_id":75212797,"body_markdown":"I have a redis cache that gets populated by items asynchronously. I&#39;m trying to get this endpoint to return a stream to that redis cache once an item has appeared. \r\n\r\n\r\n\r\n```java\r\n  @GET\r\n  @Path(&quot;/myRedis/{id}&quot;)\r\n  @Produces(MediaType.SERVER_SENT_EVENTS)\r\n  public Multi&lt;String&gt; stream(@PathParam String id) {\r\n    return redisCache.get(id); // this returns a string\r\n  }\r\n```\r\n\r\nSo say we have two users A and B\r\n\r\nA requests item a by calling localhost:8080/myRedis/1 the item does not exist yet but a connection has been created to the streaming endpoint and after say 2 seconds the item appears and A gets it\r\n\r\nMeanwhile B also requests an item b by calling localhost:8080/myRedis/2 the item exist directly and B gets it\r\n\r\nHow can I modifiy the code above to achieve this?","title":"Java Quarkus streaming endpoint how to handle parameters?","body":"<p>I have a redis cache that gets populated by items asynchronously. I'm trying to get this endpoint to return a stream to that redis cache once an item has appeared.</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @GET\n  @Path(&quot;/myRedis/{id}&quot;)\n  @Produces(MediaType.SERVER_SENT_EVENTS)\n  public Multi&lt;String&gt; stream(@PathParam String id) {\n    return redisCache.get(id); // this returns a string\n  }\n</code></pre>\n<p>So say we have two users A and B</p>\n<p>A requests item a by calling localhost:8080/myRedis/1 the item does not exist yet but a connection has been created to the streaming endpoint and after say 2 seconds the item appears and A gets it</p>\n<p>Meanwhile B also requests an item b by calling localhost:8080/myRedis/2 the item exist directly and B gets it</p>\n<p>How can I modifiy the code above to achieve this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user20716279"},"score":0,"creation_date":1674494327,"post_id":75212882,"comment_id":132721149,"body_markdown":"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Date.html#%3Cinit%3E(long) cause this constructor return date after 1/1/1970 by those long value as seconds","body":"<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Date.html#%3Cinit%3E(long)\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/java.base/java/ut&zwnj;&#8203;il/&hellip;</a> cause this constructor return date after 1/1/1970 by those long value as seconds"},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1674494528,"post_id":75212882,"comment_id":132721206,"body_markdown":"`new Date(timeStamp*1000)` might work. But you would be even better of not using the deprecated `java.util.Date` class.","body":"<code>new Date(timeStamp*1000)</code> might work. But you would be even better of not using the deprecated <code>java.util.Date</code> class."},{"owner":{"display_name":"user20716279"},"score":0,"creation_date":1674494842,"post_id":75212882,"comment_id":132721282,"body_markdown":"sorry ops i mean milliseconds","body":"sorry ops i mean milliseconds"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1674496077,"post_id":75212882,"comment_id":132721685,"body_markdown":"*but its giving wrong date &quot;Tue Jan 20 13:23:33 IST 1970&quot;* Because that&#39;s your time zone. You should be using `ZonedDateTime` though","body":"<i>but its giving wrong date &quot;Tue Jan 20 13:23:33 IST 1970&quot;</i> Because that&#39;s your time zone. You should be using <code>ZonedDateTime</code> though"}],"owner":{"account_id":9528766,"reputation":59,"user_id":7081190,"display_name":"Mohammed Imran"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1674494737,"answer_count":0,"score":0,"last_activity_date":1674494154,"creation_date":1674494154,"question_id":75212882,"body_markdown":"I have Hex &quot;63 8a 60 f7&quot; I need to convert it into Date. &lt;Friday, December 2, 2022 20:33:02 UTC&gt;\r\n\r\n     long timeStamp = Long.parseLong(&quot;638a60f7&quot;, 16);\r\n    new Date(timeStamp);\r\nbut its giving wrong date &quot;Tue Jan 20 13:23:33 IST 1970&quot;\r\n\r\n","title":"How to convert Hex String into Date","body":"<p>I have Hex &quot;63 8a 60 f7&quot; I need to convert it into Date. &lt;Friday, December 2, 2022 20:33:02 UTC&gt;</p>\n<pre><code> long timeStamp = Long.parseLong(&quot;638a60f7&quot;, 16);\nnew Date(timeStamp);\n</code></pre>\n<p>but its giving wrong date &quot;Tue Jan 20 13:23:33 IST 1970&quot;</p>\n"},{"tags":["java","android","speech-recognition","okhttp"],"comments":[{"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"score":0,"creation_date":1674494289,"post_id":75212874,"comment_id":132721136,"body_markdown":"Is your TextView a single-line textview, and your response has more than one line so the `{` would be the opening brace of a json object with the rest truncated?","body":"Is your TextView a single-line textview, and your response has more than one line so the <code>{</code> would be the opening brace of a json object with the rest truncated?"},{"owner":{"account_id":16955543,"reputation":165,"user_id":12264042,"display_name":"Rikudou"},"score":0,"creation_date":1674495208,"post_id":75212874,"comment_id":132721421,"body_markdown":"@laalto That helped. I am getting results now. However, there is still the issue that my first set of words don&#39;t seem to make the request or return any results.","body":"@laalto That helped. I am getting results now. However, there is still the issue that my first set of words don&#39;t seem to make the request or return any results."},{"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"score":0,"creation_date":1674497887,"post_id":75212874,"comment_id":132722178,"body_markdown":"That problem is likely somewhere else in your code","body":"That problem is likely somewhere else in your code"}],"owner":{"account_id":16955543,"reputation":165,"user_id":12264042,"display_name":"Rikudou"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674494107,"creation_date":1674494107,"question_id":75212874,"body_markdown":"I am developing an app in Android Studio (Java) that uses the Google speech recognition API and a certain other API that I am trying to make a POST request to. Here is an excerpt of my code.\r\n\r\n```\r\nString url = MY_URL;\r\nString jsonSpeechResults = &quot;{\\&quot;prompt\\&quot;: \\&quot;&quot; + speechResults + &quot;\\&quot;}&quot;;\r\n\r\nOkHttpClient client = new OkHttpClient();\r\nRequestBody body = RequestBody.create(jsonSpeechResults, MediaType.parse(&quot;application/json&quot;));\r\nRequest request = new Request.Builder().url(url).addHeader(&quot;Authorization&quot;, API_KEY).post(body).build();\r\n\r\ntry  {\r\n    client.newCall(request).enqueue(new Callback() {\r\n        @Override\r\n        public void onFailure(@NonNull Call call, @NonNull IOException e) {\r\n                      \r\n       }\r\n\r\n       @Override\r\n       public void onResponse(@NonNull Call call, @NonNull Response response) throws IOException {\r\n           try {\r\n               String theResponse = response.body().string();\r\n               errorView.setText(theResponse);\r\n           } catch(Exception f) {\r\n               errorView.setText(f.getMessage());\r\n           }\r\n\r\n       }\r\n   });\r\n} catch (Exception g) {\r\n   errorView.setText(g.getMessage());\r\n}\r\n\r\n```\r\nHere is how this part of the app is supposed to work. When I speak some words, the speech recognition API picks up my words, and when the speech recognition results are returned, those results get sent to my other API (the one that corresponds to MY_URL) in a POST request, and then that API should return some JSON, which is then supposed to print out in string format in the errorView TextView field. If it is not apparent by this explanation, this excerpt of code is inside of the onResults method of a RecognitionListener object that is defined in the onCreate method.\r\n\r\n\r\nWhenever I run this on my Android phone, I am expecting the response results to appear in my errorView TextView field, but instead all that appears is a single &quot;{&quot;. Furthermore, the request doesn&#39;t even seem to get made at all the first time I speak into the phone. I have to speak again for the request to even get made (even though I know for certain that the speech recognition does work the first time; it is just the other API that doesn&#39;t seem to receive my request the first time I speak).\r\n\r\nI don&#39;t understand why, and this is annoying me. Furthermore, I can&#39;t use\r\n```\r\nclient.newCall(request).execute()\r\n```  \r\nbecause this just returns an exception. Even the message from a try catch does not tell me what the problem is.\r\n\r\nCan someone please help me?","title":"Okhttp3 (Android Java) is not reliably returning responses","body":"<p>I am developing an app in Android Studio (Java) that uses the Google speech recognition API and a certain other API that I am trying to make a POST request to. Here is an excerpt of my code.</p>\n<pre><code>String url = MY_URL;\nString jsonSpeechResults = &quot;{\\&quot;prompt\\&quot;: \\&quot;&quot; + speechResults + &quot;\\&quot;}&quot;;\n\nOkHttpClient client = new OkHttpClient();\nRequestBody body = RequestBody.create(jsonSpeechResults, MediaType.parse(&quot;application/json&quot;));\nRequest request = new Request.Builder().url(url).addHeader(&quot;Authorization&quot;, API_KEY).post(body).build();\n\ntry  {\n    client.newCall(request).enqueue(new Callback() {\n        @Override\n        public void onFailure(@NonNull Call call, @NonNull IOException e) {\n                      \n       }\n\n       @Override\n       public void onResponse(@NonNull Call call, @NonNull Response response) throws IOException {\n           try {\n               String theResponse = response.body().string();\n               errorView.setText(theResponse);\n           } catch(Exception f) {\n               errorView.setText(f.getMessage());\n           }\n\n       }\n   });\n} catch (Exception g) {\n   errorView.setText(g.getMessage());\n}\n\n</code></pre>\n<p>Here is how this part of the app is supposed to work. When I speak some words, the speech recognition API picks up my words, and when the speech recognition results are returned, those results get sent to my other API (the one that corresponds to MY_URL) in a POST request, and then that API should return some JSON, which is then supposed to print out in string format in the errorView TextView field. If it is not apparent by this explanation, this excerpt of code is inside of the onResults method of a RecognitionListener object that is defined in the onCreate method.</p>\n<p>Whenever I run this on my Android phone, I am expecting the response results to appear in my errorView TextView field, but instead all that appears is a single &quot;{&quot;. Furthermore, the request doesn't even seem to get made at all the first time I speak into the phone. I have to speak again for the request to even get made (even though I know for certain that the speech recognition does work the first time; it is just the other API that doesn't seem to receive my request the first time I speak).</p>\n<p>I don't understand why, and this is annoying me. Furthermore, I can't use</p>\n<pre><code>client.newCall(request).execute()\n</code></pre>\n<p>because this just returns an exception. Even the message from a try catch does not tell me what the problem is.</p>\n<p>Can someone please help me?</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":24435058,"reputation":6292,"user_id":18359438,"display_name":"MingJie-MSFT"},"score":0,"creation_date":1674437952,"post_id":75187461,"comment_id":132707961,"body_markdown":"What can you get if you run `System.out.println(System.getProperty(&quot;java.class.path&quot;));`","body":"What can you get if you run <code>System.out.println(System.getProperty(&quot;java.class.path&quot;));</code>"}],"answers":[{"tags":[],"owner":{"account_id":21596317,"reputation":61,"user_id":15925222,"display_name":"Luke Autry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674493761,"creation_date":1674493761,"answer_id":75212812,"question_id":75187461,"body_markdown":"I fixed the problem. I deleted everything within windows and recreated the following directory structure:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NzHLS.jpg\r\n\r\nMy settings.json file:\r\n\r\n```\r\n{\r\n    &quot;java.project.referencedLibraries&quot;: [\r\n        &quot;lib/**/*.jar&quot;,\r\n        &quot;src/jar/jackson_annotations.jar&quot;,\r\n        &quot;src/jar/jackson_databind.jar&quot;,\r\n        &quot;src/jar/jackson-core-2.14.1.jar&quot;,\r\n    ],\r\n    &quot;java.project.sourcePaths&quot;: [\r\n        &quot;src\\\\jar&quot;,\r\n        &quot;.&quot;\r\n    ],\r\n    &quot;java.project.outputPath&quot;: &quot;bin&quot;\r\n}\r\n```\r\nI can build and run this code. The Powershell run command that VSCode implements is:\r\n```\r\n&amp; &#39;C:\\Program Files\\Java\\jdk-19\\bin\\java.exe&#39; &#39;@C:\\Users\\LUKESL~1\\AppData\\Local\\Temp\\cp_1u6y7pr0vey3xwzkph587nlcw.argfile&#39; &#39;src.JacksonTester&#39;\r\n```\r\nHowever, the issue comes when I delete the bin directory and click run (without pre-compiling). I get the following:\r\n```\r\nError: Could not find or load main class src.JacksonTester\r\nCaused by: java.lang.ClassNotFoundException: src.JacksonTester\r\n```\r\nThis is so weird. Does anybody know what&#39;s going on? I can still operate, but this behavior makes using VSCode awkward. \r\n\r\nThanks\r\n\r\n\r\n\r\n","title":"Java/VSCode. Error Package Does Not Exist","body":"<p>I fixed the problem. I deleted everything within windows and recreated the following directory structure:</p>\n<p><a href=\"https://i.stack.imgur.com/NzHLS.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NzHLS.jpg\" alt=\"enter image description here\" /></a></p>\n<p>My settings.json file:</p>\n<pre><code>{\n    &quot;java.project.referencedLibraries&quot;: [\n        &quot;lib/**/*.jar&quot;,\n        &quot;src/jar/jackson_annotations.jar&quot;,\n        &quot;src/jar/jackson_databind.jar&quot;,\n        &quot;src/jar/jackson-core-2.14.1.jar&quot;,\n    ],\n    &quot;java.project.sourcePaths&quot;: [\n        &quot;src\\\\jar&quot;,\n        &quot;.&quot;\n    ],\n    &quot;java.project.outputPath&quot;: &quot;bin&quot;\n}\n</code></pre>\n<p>I can build and run this code. The Powershell run command that VSCode implements is:</p>\n<pre><code>&amp; 'C:\\Program Files\\Java\\jdk-19\\bin\\java.exe' '@C:\\Users\\LUKESL~1\\AppData\\Local\\Temp\\cp_1u6y7pr0vey3xwzkph587nlcw.argfile' 'src.JacksonTester'\n</code></pre>\n<p>However, the issue comes when I delete the bin directory and click run (without pre-compiling). I get the following:</p>\n<pre><code>Error: Could not find or load main class src.JacksonTester\nCaused by: java.lang.ClassNotFoundException: src.JacksonTester\n</code></pre>\n<p>This is so weird. Does anybody know what's going on? I can still operate, but this behavior makes using VSCode awkward.</p>\n<p>Thanks</p>\n"}],"owner":{"account_id":21596317,"reputation":61,"user_id":15925222,"display_name":"Luke Autry"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674493761,"creation_date":1674235830,"question_id":75187461,"body_markdown":"I have the following directory structure. I&#39;m trying to import .jar files downloaded from the Maven repository. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HCshA.jpg\r\n\r\nUnfortunately, I&#39;m getting a &quot;Package Does Not Exist Error&quot; for databind and annotation. I want to compile the following code in the file Test.java:\r\n\r\n```\r\nimport java.io.IOException;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\n\r\npublic class Test {\r\n   public static void main(String args[]) throws IOException {\r\n      ObjectMapper mapper = new ObjectMapper();\r\n      String json = &quot;{\\&quot;id\\&quot; : 1}&quot;;\r\n      Student student = mapper.readerFor(Student.class).readValue(json);\r\n      System.out.println(student.getTheId());\r\n   }\r\n}\r\nclass Student {\r\n   private int id;\r\n   Student(){}\r\n   Student(int id){\r\n      this.id = id;\r\n   }\r\n   @JsonProperty(&quot;id&quot;)\r\n   public int getTheId() {\r\n      return id;\r\n   }\r\n   @JsonProperty(&quot;id&quot;)\r\n   public void setTheId(int id) {\r\n      this.id = id;\r\n   }   \r\n}\r\n```\r\n\r\nWhat&#39;s weird is that IntelliSense detects the package; however, when I compile Test.java the java compiler cannot find the packages within the .jar files. \r\n\r\nHere is a copy of my settings.json:\r\n\r\n```\r\n{\r\n    &quot;java.project.sourcePaths&quot;: [\r\n        &quot;.&quot;,\r\n        &quot;lib\\\\jar&quot;\r\n    ],\r\n    &quot;java.project.referencedLibraries&quot;: {\r\n        &quot;include&quot;: [\r\n            &quot;lib/**/*.jar&quot;\r\n        ],\r\n    }\r\n}\r\n```\r\nThe .jar files are in my Project library, and the ClassPath targets the folder containing the .jar files. Any idea what could be going on? Why would there be a disconnect between IntelliSense and the Java compiler?\r\n\r\nThanks!\r\n","title":"Java/VSCode. Error Package Does Not Exist","body":"<p>I have the following directory structure. I'm trying to import .jar files downloaded from the Maven repository.</p>\n<p><a href=\"https://i.stack.imgur.com/HCshA.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HCshA.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Unfortunately, I'm getting a &quot;Package Does Not Exist Error&quot; for databind and annotation. I want to compile the following code in the file Test.java:</p>\n<pre><code>import java.io.IOException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.annotation.JsonProperty;\n\npublic class Test {\n   public static void main(String args[]) throws IOException {\n      ObjectMapper mapper = new ObjectMapper();\n      String json = &quot;{\\&quot;id\\&quot; : 1}&quot;;\n      Student student = mapper.readerFor(Student.class).readValue(json);\n      System.out.println(student.getTheId());\n   }\n}\nclass Student {\n   private int id;\n   Student(){}\n   Student(int id){\n      this.id = id;\n   }\n   @JsonProperty(&quot;id&quot;)\n   public int getTheId() {\n      return id;\n   }\n   @JsonProperty(&quot;id&quot;)\n   public void setTheId(int id) {\n      this.id = id;\n   }   \n}\n</code></pre>\n<p>What's weird is that IntelliSense detects the package; however, when I compile Test.java the java compiler cannot find the packages within the .jar files.</p>\n<p>Here is a copy of my settings.json:</p>\n<pre><code>{\n    &quot;java.project.sourcePaths&quot;: [\n        &quot;.&quot;,\n        &quot;lib\\\\jar&quot;\n    ],\n    &quot;java.project.referencedLibraries&quot;: {\n        &quot;include&quot;: [\n            &quot;lib/**/*.jar&quot;\n        ],\n    }\n}\n</code></pre>\n<p>The .jar files are in my Project library, and the ClassPath targets the folder containing the .jar files. Any idea what could be going on? Why would there be a disconnect between IntelliSense and the Java compiler?</p>\n<p>Thanks!</p>\n"},{"tags":["java","swing","awt","number-formatting","jformattedtextfield"],"answers":[{"tags":[],"owner":{"account_id":3149253,"reputation":1255,"user_id":2663029,"accept_rate":29,"display_name":"bitdancer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674199989,"creation_date":1674176066,"answer_id":75179683,"question_id":75179518,"body_markdown":"Please use `setText` instead of `setValue`. You should put a number inside `setValue` method like `setValue(99)`.\r\n\r\n```java\r\nftf.setText(&quot;I want this as my ftfs value before it gets changed&quot;);\r\n```\r\n\r\nAnd don&#39;t forget `nfr.setCommitsOnValidEdit(true)` if you want your default text to be formatted as a number at beginning. Otherwise you will get `null` value before you typing something.","title":"How can I set the value of a JFormatedTextField to an invalid String before it gets changed by the user?","body":"<p>Please use <code>setText</code> instead of <code>setValue</code>. You should put a number inside <code>setValue</code> method like <code>setValue(99)</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ftf.setText(&quot;I want this as my ftfs value before it gets changed&quot;);\n</code></pre>\n<p>And don't forget <code>nfr.setCommitsOnValidEdit(true)</code> if you want your default text to be formatted as a number at beginning. Otherwise you will get <code>null</code> value before you typing something.</p>\n"}],"owner":{"account_id":27576757,"reputation":1,"user_id":21046775,"display_name":"codenoob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674493222,"creation_date":1674173526,"question_id":75179518,"body_markdown":"Because of a project, I want to know how to set the value of a JFormatedTextField, in a Java Swing GUI, to an invalid String, before the user changes the value by himself/herself.\r\n\r\nConsidering the fact that all the iddentifer names in the original code, which contains additional code, which is not useful for this question, I decided to write a new short code, which contains the important part, for my question.  \r\n\r\nThis is a shortened version of my code:\r\n\r\n```\r\nimport javax.swing.*;\r\nimport javax.swing.text.*;\r\nimport java.text.*;\r\nimport java.awt.*;\r\npublic class myGUI{\r\n    private JFrame f;\r\n    private JPanel p;\r\n    private JFormattedTextField ftf;\r\n    private NumberFormat nf;\r\n    private NumberFormatter nfter;\r\n    public myGUI(){\r\n        f = new JFrame(&quot;My Window&quot;);\r\n        f.setSize(960,450);\r\n        f.setDefaultCloseOperation(f.EXIT_ON_CLOSE);\r\n        f.setLocationRelativeTo(null);\r\n        f.setVisible(true);\r\n        p = new JPanel();\r\n        f.add(p);\r\n        p.setLayout(new FlowLayout());\r\n        nf = NumberFormat.getInstance();\r\n        nfter = new NumberFormatter(nf);\r\n        nfter.setAllowsInvalid(false);\r\n        ftf = new JFormattedTextField(nfter);\r\n        p.add(ftf);\r\n        ftf.setValue(&quot;I want this as my ftfs value before it gets changed&quot;);\r\n    }\r\n}\r\n```\r\n\r\nWhen I execute this code, I get this error message:\r\n\r\n&gt; java.lang.IllegalArgumentException: Cannot format given Object as a Number (in java.text.DecimalFormat)\r\n\r\nI tried to solve this problem by myself by changing &quot;nfter.setAllowsInvalid(false);&quot; to &quot;nfter.setAllowsInvalid(true);&quot;, but I received the same result.\r\n\r\nSince I am not really familiar to Swing and only familiar to the most basic things about Java, I hope you can help me, with your experance and knowledge.\r\n\r\n","title":"How can I set the value of a JFormatedTextField to an invalid String before it gets changed by the user?","body":"<p>Because of a project, I want to know how to set the value of a JFormatedTextField, in a Java Swing GUI, to an invalid String, before the user changes the value by himself/herself.</p>\n<p>Considering the fact that all the iddentifer names in the original code, which contains additional code, which is not useful for this question, I decided to write a new short code, which contains the important part, for my question.</p>\n<p>This is a shortened version of my code:</p>\n<pre><code>import javax.swing.*;\nimport javax.swing.text.*;\nimport java.text.*;\nimport java.awt.*;\npublic class myGUI{\n    private JFrame f;\n    private JPanel p;\n    private JFormattedTextField ftf;\n    private NumberFormat nf;\n    private NumberFormatter nfter;\n    public myGUI(){\n        f = new JFrame(&quot;My Window&quot;);\n        f.setSize(960,450);\n        f.setDefaultCloseOperation(f.EXIT_ON_CLOSE);\n        f.setLocationRelativeTo(null);\n        f.setVisible(true);\n        p = new JPanel();\n        f.add(p);\n        p.setLayout(new FlowLayout());\n        nf = NumberFormat.getInstance();\n        nfter = new NumberFormatter(nf);\n        nfter.setAllowsInvalid(false);\n        ftf = new JFormattedTextField(nfter);\n        p.add(ftf);\n        ftf.setValue(&quot;I want this as my ftfs value before it gets changed&quot;);\n    }\n}\n</code></pre>\n<p>When I execute this code, I get this error message:</p>\n<blockquote>\n<p>java.lang.IllegalArgumentException: Cannot format given Object as a Number (in java.text.DecimalFormat)</p>\n</blockquote>\n<p>I tried to solve this problem by myself by changing &quot;nfter.setAllowsInvalid(false);&quot; to &quot;nfter.setAllowsInvalid(true);&quot;, but I received the same result.</p>\n<p>Since I am not really familiar to Swing and only familiar to the most basic things about Java, I hope you can help me, with your experance and knowledge.</p>\n"},{"tags":["java","android-studio","kotlin"],"comments":[{"owner":{"account_id":17894172,"reputation":1,"user_id":12999996,"display_name":"Armand Baglin"},"score":0,"creation_date":1674472000,"post_id":75208181,"comment_id":132713609,"body_markdown":"1.4.0 is the latest version of the library","body":"1.4.0 is the latest version of the library"}],"owner":{"account_id":17894172,"reputation":1,"user_id":12999996,"display_name":"Armand Baglin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674493110,"creation_date":1674469687,"question_id":75208181,"body_markdown":"I&#39;m having an issue with this library : https://github.com/wg/scrypt\r\nI&#39;m currently trying to implemente the library to my kotlin app\r\n\r\n\r\n\r\nIn my gradle script i added this line :\r\nimplementation &#39;com.lambdaworks:scrypt:1.4.0&#39;\r\n\r\nand the issue occured. I searched and found that adding those lines in the android part of the gradle should resolve the issue :\r\n\r\n    splits {\r\n        abi {\r\n            enable true\r\n            reset()\r\n            include &#39;x86&#39;, &#39;x86_64&#39;, &#39;armeabi&#39;, &#39;armeabi-v7a&#39;, &#39;mips&#39;, &#39;mips64&#39;, &#39;arm64-v8a&#39;\r\n            universalApk true\r\n        }\r\n    }\r\n\r\nBut in my case it doesn&#39;t resolve the issue, it&#39;s still crashing when installing the app on my device...\r\n\r\nAnyone have a clue?\r\n\r\nAny help will be appreciated :)","title":"Error INSTALL_FAILED_NO_MATCHING_ABIS: INSTALL_FAILED_NO_MATCHING_ABIS: Failed to extract native libraries, res=-113 on mobile","body":"<p>I'm having an issue with this library : <a href=\"https://github.com/wg/scrypt\" rel=\"nofollow noreferrer\">https://github.com/wg/scrypt</a>\nI'm currently trying to implemente the library to my kotlin app</p>\n<p>In my gradle script i added this line :\nimplementation 'com.lambdaworks:scrypt:1.4.0'</p>\n<p>and the issue occured. I searched and found that adding those lines in the android part of the gradle should resolve the issue :</p>\n<pre><code>splits {\n    abi {\n        enable true\n        reset()\n        include 'x86', 'x86_64', 'armeabi', 'armeabi-v7a', 'mips', 'mips64', 'arm64-v8a'\n        universalApk true\n    }\n}\n</code></pre>\n<p>But in my case it doesn't resolve the issue, it's still crashing when installing the app on my device...</p>\n<p>Anyone have a clue?</p>\n<p>Any help will be appreciated :)</p>\n"},{"tags":["java","spring-boot","jpa"],"owner":{"account_id":23445068,"reputation":1,"user_id":17502348,"display_name":"Bernardo Morais"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674492971,"creation_date":1674492865,"question_id":75212640,"body_markdown":"Why is this giving me this error ? I think I have the right relationship here.\r\n\r\n```\r\n2023-01-23T16:52:13.910Z ERROR 13892 --- [nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessApiUsageException: detached entity passed to persist: com.proj.my.model.CloudProduct] with root cause\r\n\r\norg.hibernate.PersistentObjectException: detached entity passed to persist: com.proj.my.model.CloudProduct\r\n        at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:121) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:118) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:777) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:725) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at org.hibernate.engine.spi.CascadingActions$7.cascade(CascadingActions.java:299) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at org.hibernate.engine.spi.CascadingActions$7.cascade(CascadingActions.java:289) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:511) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:432) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:218) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at org.hibernate.engine.internal.Cascade.cascadeCollectionElements(Cascade.java:545) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at org.hibernate.engine.internal.Cascade.cascadeCollection(Cascade.java:475) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:435) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:218) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:151) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at org.hibernate.event.internal.AbstractSaveEventListener.cascadeAfterSave(AbstractSaveEventListener.java:474) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:298) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:192) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:122) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:184) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:129) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:53) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:735) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:719) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n        at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:360) ~[spring-orm-6.0.2.jar:6.0.2]\r\n        at jdk.proxy2/jdk.proxy2.$Proxy125.persist(Unknown Source) ~[na:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n        at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:307) ~[spring-orm-6.0.2.jar:6.0.2]\r\n        at jdk.proxy2/jdk.proxy2.$Proxy125.persist(Unknown Source) ~[na:na]\r\n        at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:610) ~[spring-data-jpa-3.0.0.jar:3.0.0]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n        at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n        at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.2.jar:6.0.2]\r\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.2.jar:6.0.2]\r\n        at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.2.jar:6.0.2]\r\n        at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.2.jar:6.0.2]\r\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-6.0.2.jar:6.0.2]\r\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.2.jar:6.0.2]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.2.jar:6.0.2]\r\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.2.jar:6.0.2]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.2.jar:6.0.2]\r\n        at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:163) ~[spring-data-jpa-3.0.0.jar:3.0.0]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.2.jar:6.0.2]\r\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.2.jar:6.0.2]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.2.jar:6.0.2]\r\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218) ~[spring-aop-6.0.2.jar:6.0.2]\r\n        at jdk.proxy2/jdk.proxy2.$Proxy133.save(Unknown Source) ~[na:na]\r\n        at com.proj.my.service.OrderService.saveOrder(OrderService.java:57) ~[classes/:na]\r\n        at com.proj.my.controller.OrderController.placeOrder(OrderController.java:86) ~[classes/:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.2.jar:6.0.2]\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.2.jar:6.0.2]\r\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-6.0.2.jar:6.0.2]\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.2.jar:6.0.2]\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.2.jar:6.0.2]\r\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.2.jar:6.0.2]\r\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080) ~[spring-webmvc-6.0.2.jar:6.0.2]\r\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973) ~[spring-webmvc-6.0.2.jar:6.0.2]\r\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003) ~[spring-webmvc-6.0.2.jar:6.0.2]\r\n        at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:906) ~[spring-webmvc-6.0.2.jar:6.0.2]\r\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:731) ~[tomcat-embed-core-10.1.1.jar:6.0]\r\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:880) ~[spring-webmvc-6.0.2.jar:6.0.2]\r\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814) ~[tomcat-embed-core-10.1.1.jar:6.0]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-10.1.1.jar:10.1.1]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.2.jar:6.0.2]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.2.jar:6.0.2]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.2.jar:6.0.2]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.2.jar:6.0.2]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.2.jar:6.0.2]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.2.jar:6.0.2]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n        at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n```\r\n\r\n\r\nMy CloudProduct.java\r\n```\r\npackage com.proj.my.model;\r\n\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.EntityListeners;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\n\r\nimport java.sql.Date;\r\n\r\nimport org.hibernate.annotations.CreationTimestamp;\r\nimport org.hibernate.annotations.SQLDelete;\r\nimport org.hibernate.annotations.Where;\r\nimport org.springframework.data.jpa.domain.support.AuditingEntityListener;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n\r\nimport jakarta.persistence.Table;\r\nimport jakarta.validation.constraints.Pattern;\r\n\r\n@Entity\r\n@Table(name=&quot;cloud_product_info&quot;)\r\n@SQLDelete(sql = &quot;UPDATE cloud_product_info SET deleted = true WHERE product_id=?&quot;)\r\n@Where(clause = &quot;deleted=false&quot;)\r\n//@FilterDef(name=&quot;&quot;, parameters = @ParamDef(name=&quot;isDeleted&quot;, type = &quot;boolean&quot;))\r\n//@Filter(name=&quot;deletedBookFilter&quot;, condition = &quot;deleted = :isDeleted&quot;)\r\n@EntityListeners(AuditingEntityListener.class)\r\n@JsonIgnoreProperties(value = {&quot;createdAt&quot;, &quot;updatedAt&quot;}, \r\n        allowGetters = true)\r\n\r\n\r\n\r\npublic class CloudProduct {\r\n\r\n    public static Integer id;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer productId;\r\n    @Column(unique=true)\r\n    private String productName;\r\n    private Float priceInEuros;\r\n    @CreationTimestamp\r\n    @Column(updatable = false, name = &quot;created_at&quot;)\r\n    private Date createdAt;\r\n    private Boolean deleted = Boolean.FALSE;\r\n    private int quantity;\r\n    private float amount;\r\n\r\n    @JsonIgnore\r\n    public int getQuantity() {\r\n        return quantity;\r\n    }\r\n    @JsonIgnore\r\n    public void setQuantity(int quantity) {\r\n        this.quantity = quantity;\r\n    }\r\n    @JsonIgnore\r\n    public float getAmount() {\r\n        return amount;\r\n    }\r\n    @JsonIgnore\r\n    public void setAmount(float amount) {\r\n        this.amount = amount;\r\n    }\r\n    @JsonIgnore\r\n    public Boolean getdeleted() {\r\n        return deleted;\r\n    }\r\n    @JsonIgnore\r\n    public void setdeleted(Boolean deleted) {\r\n        this.deleted = deleted;\r\n    }\r\n\r\n    public CloudProduct(Integer productId, String productName, Float priceInEuros) {\r\n        this.productId = productId;\r\n        this.productName = productName;\r\n        this.priceInEuros = priceInEuros;\r\n    }\r\n\r\n    public CloudProduct() {\r\n\r\n    } \r\n    \r\n    public Integer getProductId() {\r\n        return productId;\r\n    }\r\n    public void setProductId(Integer productId) {\r\n        this.productId = productId;\r\n    }\r\n    public String getProductName() {\r\n        return productName;\r\n    }\r\n    public void setProductName(String productName) {\r\n        this.productName = productName;\r\n    }\r\n    public Float getpriceInEuros() {\r\n        return priceInEuros;\r\n    }\r\n    public void setProductPrice(Float priceInEuros) {\r\n        this.priceInEuros = priceInEuros;\r\n    }\r\n\r\n    public Date getCreatedAt() {\r\n        return createdAt;\r\n    }\r\n\r\n    public void setCreatedAt(Date createdAt) {\r\n        this.createdAt = createdAt;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Product{&quot; +\r\n                &quot;id=&quot; + productId +\r\n                &quot;, name=&#39;&quot; + productName + &#39;\\&#39;&#39; +\r\n                &quot;, price=&quot; + priceInEuros +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nMy order.java\r\n```\r\npackage com.proj.my.model;\r\nimport java.time.LocalDate;\r\nimport java.util.List;\r\n\r\nimport org.hibernate.annotations.CreationTimestamp;\r\nimport org.springframework.data.jpa.domain.support.AuditingEntityListener;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n\r\nimport jakarta.persistence.CascadeType;\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.EntityListeners;\r\nimport jakarta.persistence.FetchType;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.JoinColumn;\r\nimport jakarta.persistence.ManyToMany;\r\nimport jakarta.persistence.OneToMany;\r\nimport jakarta.persistence.OneToOne;\r\nimport jakarta.persistence.Table;\r\nimport jakarta.validation.constraints.NotEmpty;\r\nimport jakarta.validation.constraints.NotNull;\r\nimport lombok.ToString;\r\n\r\n@ToString\r\n@Entity\r\n@Table(name = &quot;myorder&quot;)\r\n@EntityListeners(AuditingEntityListener.class)\r\n@JsonIgnoreProperties(value = {&quot;createdAt&quot;}, \r\n    allowGetters = true)  \r\npublic class Order {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n    \r\n    @OneToOne(cascade = CascadeType.MERGE)\r\n    @JoinColumn(name = &quot;userId&quot;)\r\n    private User user;\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL, targetEntity = CloudProduct.class)\r\n    @JoinColumn(name = &quot;order_id&quot;)\r\n    private List&lt;CloudProduct&gt; cartItems;\r\n    @CreationTimestamp\r\n    @Column(updatable = false, name = &quot;createdAt&quot;)\r\n    private LocalDate createdAt;\r\n\r\n    public LocalDate getCreatedAt() {\r\n        return createdAt;\r\n    }\r\n\r\n    public void setCreatedAt(LocalDate createdAt) {\r\n        this.createdAt = createdAt;\r\n    }\r\n\r\n    public Order() {\r\n    }\r\n\r\n    public Order(User user, LocalDate createdAt, List&lt;CloudProduct&gt; cartItems) {\r\n        this.user = user;\r\n        this.cartItems = cartItems;\r\n        this.createdAt = createdAt;\r\n    }\r\n\r\n    public Order(int Id, LocalDate createdAt, List&lt;CloudProduct&gt; cartItems) {\r\n        this.cartItems = cartItems;\r\n        this.createdAt =  createdAt;\r\n        this.id = Id;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public User getUser() {\r\n        return user;\r\n    }\r\n\r\n    public void setCustomer(User user) {\r\n        this.user = user;\r\n    }\r\n\r\n    public List&lt;CloudProduct&gt; getCartItems() {\r\n        return cartItems;\r\n    }\r\n\r\n    public void setCartItems(List&lt;CloudProduct&gt; cartItems) {\r\n        this.cartItems = cartItems;\r\n    }\r\n}\r\n\r\n\r\n```\r\nMy OrderService.java\r\n```\r\npackage com.proj.my.service;\r\n\r\nimport com.proj.my.model.Order;\r\nimport com.proj.my.model.CloudProduct;\r\nimport com.proj.my.repository.OrderRepository;\r\nimport com.proj.my.repository.CloudProductRepository;\r\n\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.time.LocalDate;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\n@Service\r\npublic class OrderService {\r\n\r\n    private OrderRepository orderRepository;\r\n    private CloudProductRepository cloudProductRepository;\r\n\r\n    public OrderService(OrderRepository orderRepository, CloudProductRepository cloudProductRepository) {\r\n        this.orderRepository = orderRepository;\r\n        this.cloudProductRepository = cloudProductRepository;\r\n    }\r\n\r\n    public Order getOrderDetail(int orderId) {\r\n        Optional&lt;Order&gt; order = this.orderRepository.findById(orderId);\r\n        return order.isPresent() ? order.get() : null;\r\n    }\r\n    \r\n   public List&lt;Order&gt; getAllOrderDetail(LocalDate dataaa) {\r\n        return orderRepository.findAllByCreatedAt(dataaa);\r\n    }\r\n\r\n    public float getCartAmount(List&lt;CloudProduct&gt; shoppingCartList) {\r\n\r\n        float totalCartAmount = 0f;\r\n        float singleCartAmount = 0f;\r\n\r\n        for (CloudProduct cart : shoppingCartList) {\r\n\r\n            String cloudProductName = cart.getProductName();\r\n            Optional&lt;CloudProduct&gt; product = cloudProductRepository.findByProductName(cloudProductName);\r\n            if (product.isPresent()) {\r\n                CloudProduct cloudproduct = product.get();\r\n                singleCartAmount = cart.getQuantity() * cloudproduct.getpriceInEuros();\r\n                \r\n                totalCartAmount = totalCartAmount + singleCartAmount;\r\n                cart.setProductId(cloudproduct.getProductId());\r\n                cart.setAmount(singleCartAmount);\r\n                cloudProductRepository.save(cloudproduct);\r\n            }\r\n        }\r\n        return totalCartAmount;\r\n    }\r\n\r\n    public Order saveOrder(Order order) {\r\n        return orderRepository.save(order);\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\n\r\nMy OrderController.java\r\n\r\n```\r\n\r\n`package com.proj.my.controller;\r\n\r\nimport java.time.LocalDate;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.validation.BindingResult;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.proj.my.dto.OrderDTO;\r\nimport com.proj.my.dto.ResponseOrderDTO;\r\nimport com.proj.my.model.CloudProduct;\r\nimport com.proj.my.model.Order;\r\nimport com.proj.my.model.User;\r\nimport com.proj.my.repository.CloudProductRepository;\r\nimport com.proj.my.service.CloudProductService;\r\nimport com.proj.my.service.OrderService;\r\nimport com.proj.my.service.UserService;\r\n\r\nimport jakarta.validation.Valid;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class OrderController {\r\n\r\n    private OrderService orderService;\r\n    private CloudProductService cloudProductService;\r\n    private UserService userService;\r\n    @Autowired\r\n    private CloudProductRepository cloudProductRepository;\r\n\r\n\r\n    public OrderController(OrderService orderService, CloudProductService cloudProductService, UserService userService) {\r\n        this.orderService = orderService;\r\n        this.cloudProductService = cloudProductService;\r\n        this.userService = userService;\r\n    }\r\n\r\n    @GetMapping(value = &quot;/getOrder/{orderId}&quot;)\r\n    public ResponseEntity&lt;Order&gt; getOrderDetails(@PathVariable int orderId) {\r\n        Order order = orderService.getOrderDetail(orderId);\r\n        return ResponseEntity.ok(order);\r\n    }\r\n\r\n    @GetMapping(value = &quot;/getOrders/{dataaa}&quot;)\r\n    public List&lt;Order&gt; getAllOrderDetails(@PathVariable LocalDate dataaa) {\r\n        return orderService.getAllOrderDetail(dataaa);\r\n    }\r\n\r\n    @PostMapping(&quot;/placeOrder&quot;)\r\n    public ResponseEntity&lt;?&gt; placeOrder(@RequestBody @Valid OrderDTO orderDTO) {\r\n\r\n        ResponseOrderDTO responseOrderDTO = new ResponseOrderDTO();\r\n        List&lt;CloudProduct&gt; cloudProductList = orderDTO.getCartItems();\r\n        if(cloudProductList.isEmpty()){\r\n            return new ResponseEntity&lt;&gt;(&quot;Can&#39;t create an order without products.&quot;, HttpStatus.OK);\r\n        }\r\n        else{\r\n            for (CloudProduct cart : cloudProductList) {\r\n                String cloudProductName = cart.getProductName();\r\n                Optional&lt;CloudProduct&gt; product = cloudProductRepository.findByProductName(cloudProductName);\r\n                if (product.isPresent()){\r\n                    float amount = orderService.getCartAmount(orderDTO.getCartItems());\r\n                        User user = new User(orderDTO.getuserEmail());\r\n                        \r\n                        Integer userIdFromDb = userService.isUserPresent(user);\r\n\r\n                        if (userIdFromDb != null) {\r\n                            user.setUserId(userIdFromDb);\r\n                        }else{\r\n                            user = userService.createUser(user);\r\n                        }\r\n                        LocalDate createdAt = LocalDate.now(); \r\n                        \r\n\r\n                        Order order = new Order(user, createdAt, orderDTO.getCartItems());\r\n\r\n                        order = orderService.saveOrder(order);\r\n\r\n                        responseOrderDTO.setAmount(amount);\r\n\r\n                        responseOrderDTO.setDate(com.proj.my.util.DateUtil.getCurrentDateTime());\r\n                        \r\n                        responseOrderDTO.setOrderId(order.getId());\r\n\r\n\r\n                        return ResponseEntity.ok(responseOrderDTO);\r\n                }\r\n                else{\r\n                    return new ResponseEntity&lt;&gt;(&quot;No Product with such name found.&quot;, HttpStatus.OK);\r\n                }\r\n            }\r\n        }\r\n            return null;\r\n    }}`\r\n\r\n```\r\n\r\nHow can I solve this?\r\nThanks.\r\n\r\nThis is happening because before, everytime I used to make an order, a cartItem would be created out of each product chosen, but I was told to delete that, and use the products themselves instead of creating cartItems.","title":"org.springframework.dao.InvalidDataAccessApiUsageException: detached entity passed to persist: com.proj.my.model.CloudProduct] with root cause","body":"<p>Why is this giving me this error ? I think I have the right relationship here.</p>\n<pre><code>2023-01-23T16:52:13.910Z ERROR 13892 --- [nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessApiUsageException: detached entity passed to persist: com.proj.my.model.CloudProduct] with root cause\n\norg.hibernate.PersistentObjectException: detached entity passed to persist: com.proj.my.model.CloudProduct\n        at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:121) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n        at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:118) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n        at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:777) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n        at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:725) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n        at org.hibernate.engine.spi.CascadingActions$7.cascade(CascadingActions.java:299) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n        at org.hibernate.engine.spi.CascadingActions$7.cascade(CascadingActions.java:289) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n        at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:511) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n        at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:432) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n        at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:218) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n        at org.hibernate.engine.internal.Cascade.cascadeCollectionElements(Cascade.java:545) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n        at org.hibernate.engine.internal.Cascade.cascadeCollection(Cascade.java:475) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n        at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:435) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n        at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:218) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n        at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:151) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n        at org.hibernate.event.internal.AbstractSaveEventListener.cascadeAfterSave(AbstractSaveEventListener.java:474) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n        at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:298) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n        at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:192) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n        at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:122) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n        at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:184) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n        at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:129) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n        at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:53) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n        at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n        at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:735) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n        at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:719) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n        at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:360) ~[spring-orm-6.0.2.jar:6.0.2]\n        at jdk.proxy2/jdk.proxy2.$Proxy125.persist(Unknown Source) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n        at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:307) ~[spring-orm-6.0.2.jar:6.0.2]\n        at jdk.proxy2/jdk.proxy2.$Proxy125.persist(Unknown Source) ~[na:na]\n        at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:610) ~[spring-data-jpa-3.0.0.jar:3.0.0]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288) ~[spring-data-commons-3.0.0.jar:3.0.0]\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.0.0.jar:3.0.0]\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.0.0.jar:3.0.0]\n        at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516) ~[spring-data-commons-3.0.0.jar:3.0.0]\n        at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-3.0.0.jar:3.0.0]\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.0.0.jar:3.0.0]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.2.jar:6.0.2]\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168) ~[spring-data-commons-3.0.0.jar:3.0.0]\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.0.0.jar:3.0.0]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.2.jar:6.0.2]\n        at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77) ~[spring-data-commons-3.0.0.jar:3.0.0]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.2.jar:6.0.2]\n        at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.2.jar:6.0.2]\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-6.0.2.jar:6.0.2]\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.2.jar:6.0.2]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.2.jar:6.0.2]\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.2.jar:6.0.2]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.2.jar:6.0.2]\n        at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:163) ~[spring-data-jpa-3.0.0.jar:3.0.0]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.2.jar:6.0.2]\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.2.jar:6.0.2]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.2.jar:6.0.2]\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218) ~[spring-aop-6.0.2.jar:6.0.2]\n        at jdk.proxy2/jdk.proxy2.$Proxy133.save(Unknown Source) ~[na:na]\n        at com.proj.my.service.OrderService.saveOrder(OrderService.java:57) ~[classes/:na]\n        at com.proj.my.controller.OrderController.placeOrder(OrderController.java:86) ~[classes/:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.2.jar:6.0.2]\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.2.jar:6.0.2]\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-6.0.2.jar:6.0.2]\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.2.jar:6.0.2]\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.2.jar:6.0.2]\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.2.jar:6.0.2]\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080) ~[spring-webmvc-6.0.2.jar:6.0.2]\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973) ~[spring-webmvc-6.0.2.jar:6.0.2]\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003) ~[spring-webmvc-6.0.2.jar:6.0.2]\n        at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:906) ~[spring-webmvc-6.0.2.jar:6.0.2]\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:731) ~[tomcat-embed-core-10.1.1.jar:6.0]\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:880) ~[spring-webmvc-6.0.2.jar:6.0.2]\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814) ~[tomcat-embed-core-10.1.1.jar:6.0]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-10.1.1.jar:10.1.1]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.2.jar:6.0.2]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.2.jar:6.0.2]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.2.jar:6.0.2]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.2.jar:6.0.2]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.2.jar:6.0.2]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.2.jar:6.0.2]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n        at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>My CloudProduct.java</p>\n<pre><code>package com.proj.my.model;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.EntityListeners;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\n\nimport java.sql.Date;\n\nimport org.hibernate.annotations.CreationTimestamp;\nimport org.hibernate.annotations.SQLDelete;\nimport org.hibernate.annotations.Where;\nimport org.springframework.data.jpa.domain.support.AuditingEntityListener;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n\nimport jakarta.persistence.Table;\nimport jakarta.validation.constraints.Pattern;\n\n@Entity\n@Table(name=&quot;cloud_product_info&quot;)\n@SQLDelete(sql = &quot;UPDATE cloud_product_info SET deleted = true WHERE product_id=?&quot;)\n@Where(clause = &quot;deleted=false&quot;)\n//@FilterDef(name=&quot;&quot;, parameters = @ParamDef(name=&quot;isDeleted&quot;, type = &quot;boolean&quot;))\n//@Filter(name=&quot;deletedBookFilter&quot;, condition = &quot;deleted = :isDeleted&quot;)\n@EntityListeners(AuditingEntityListener.class)\n@JsonIgnoreProperties(value = {&quot;createdAt&quot;, &quot;updatedAt&quot;}, \n        allowGetters = true)\n\n\n\npublic class CloudProduct {\n\n    public static Integer id;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer productId;\n    @Column(unique=true)\n    private String productName;\n    private Float priceInEuros;\n    @CreationTimestamp\n    @Column(updatable = false, name = &quot;created_at&quot;)\n    private Date createdAt;\n    private Boolean deleted = Boolean.FALSE;\n    private int quantity;\n    private float amount;\n\n    @JsonIgnore\n    public int getQuantity() {\n        return quantity;\n    }\n    @JsonIgnore\n    public void setQuantity(int quantity) {\n        this.quantity = quantity;\n    }\n    @JsonIgnore\n    public float getAmount() {\n        return amount;\n    }\n    @JsonIgnore\n    public void setAmount(float amount) {\n        this.amount = amount;\n    }\n    @JsonIgnore\n    public Boolean getdeleted() {\n        return deleted;\n    }\n    @JsonIgnore\n    public void setdeleted(Boolean deleted) {\n        this.deleted = deleted;\n    }\n\n    public CloudProduct(Integer productId, String productName, Float priceInEuros) {\n        this.productId = productId;\n        this.productName = productName;\n        this.priceInEuros = priceInEuros;\n    }\n\n    public CloudProduct() {\n\n    } \n    \n    public Integer getProductId() {\n        return productId;\n    }\n    public void setProductId(Integer productId) {\n        this.productId = productId;\n    }\n    public String getProductName() {\n        return productName;\n    }\n    public void setProductName(String productName) {\n        this.productName = productName;\n    }\n    public Float getpriceInEuros() {\n        return priceInEuros;\n    }\n    public void setProductPrice(Float priceInEuros) {\n        this.priceInEuros = priceInEuros;\n    }\n\n    public Date getCreatedAt() {\n        return createdAt;\n    }\n\n    public void setCreatedAt(Date createdAt) {\n        this.createdAt = createdAt;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Product{&quot; +\n                &quot;id=&quot; + productId +\n                &quot;, name='&quot; + productName + '\\'' +\n                &quot;, price=&quot; + priceInEuros +\n                '}';\n    }\n}\n</code></pre>\n<p>My order.java</p>\n<pre><code>package com.proj.my.model;\nimport java.time.LocalDate;\nimport java.util.List;\n\nimport org.hibernate.annotations.CreationTimestamp;\nimport org.springframework.data.jpa.domain.support.AuditingEntityListener;\n\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n\nimport jakarta.persistence.CascadeType;\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.EntityListeners;\nimport jakarta.persistence.FetchType;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.JoinColumn;\nimport jakarta.persistence.ManyToMany;\nimport jakarta.persistence.OneToMany;\nimport jakarta.persistence.OneToOne;\nimport jakarta.persistence.Table;\nimport jakarta.validation.constraints.NotEmpty;\nimport jakarta.validation.constraints.NotNull;\nimport lombok.ToString;\n\n@ToString\n@Entity\n@Table(name = &quot;myorder&quot;)\n@EntityListeners(AuditingEntityListener.class)\n@JsonIgnoreProperties(value = {&quot;createdAt&quot;}, \n    allowGetters = true)  \npublic class Order {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    \n    @OneToOne(cascade = CascadeType.MERGE)\n    @JoinColumn(name = &quot;userId&quot;)\n    private User user;\n\n    @ManyToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL, targetEntity = CloudProduct.class)\n    @JoinColumn(name = &quot;order_id&quot;)\n    private List&lt;CloudProduct&gt; cartItems;\n    @CreationTimestamp\n    @Column(updatable = false, name = &quot;createdAt&quot;)\n    private LocalDate createdAt;\n\n    public LocalDate getCreatedAt() {\n        return createdAt;\n    }\n\n    public void setCreatedAt(LocalDate createdAt) {\n        this.createdAt = createdAt;\n    }\n\n    public Order() {\n    }\n\n    public Order(User user, LocalDate createdAt, List&lt;CloudProduct&gt; cartItems) {\n        this.user = user;\n        this.cartItems = cartItems;\n        this.createdAt = createdAt;\n    }\n\n    public Order(int Id, LocalDate createdAt, List&lt;CloudProduct&gt; cartItems) {\n        this.cartItems = cartItems;\n        this.createdAt =  createdAt;\n        this.id = Id;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public User getUser() {\n        return user;\n    }\n\n    public void setCustomer(User user) {\n        this.user = user;\n    }\n\n    public List&lt;CloudProduct&gt; getCartItems() {\n        return cartItems;\n    }\n\n    public void setCartItems(List&lt;CloudProduct&gt; cartItems) {\n        this.cartItems = cartItems;\n    }\n}\n\n\n</code></pre>\n<p>My OrderService.java</p>\n<pre><code>package com.proj.my.service;\n\nimport com.proj.my.model.Order;\nimport com.proj.my.model.CloudProduct;\nimport com.proj.my.repository.OrderRepository;\nimport com.proj.my.repository.CloudProductRepository;\n\nimport org.springframework.stereotype.Service;\n\nimport java.time.LocalDate;\nimport java.util.List;\nimport java.util.Optional;\n\n@Service\npublic class OrderService {\n\n    private OrderRepository orderRepository;\n    private CloudProductRepository cloudProductRepository;\n\n    public OrderService(OrderRepository orderRepository, CloudProductRepository cloudProductRepository) {\n        this.orderRepository = orderRepository;\n        this.cloudProductRepository = cloudProductRepository;\n    }\n\n    public Order getOrderDetail(int orderId) {\n        Optional&lt;Order&gt; order = this.orderRepository.findById(orderId);\n        return order.isPresent() ? order.get() : null;\n    }\n    \n   public List&lt;Order&gt; getAllOrderDetail(LocalDate dataaa) {\n        return orderRepository.findAllByCreatedAt(dataaa);\n    }\n\n    public float getCartAmount(List&lt;CloudProduct&gt; shoppingCartList) {\n\n        float totalCartAmount = 0f;\n        float singleCartAmount = 0f;\n\n        for (CloudProduct cart : shoppingCartList) {\n\n            String cloudProductName = cart.getProductName();\n            Optional&lt;CloudProduct&gt; product = cloudProductRepository.findByProductName(cloudProductName);\n            if (product.isPresent()) {\n                CloudProduct cloudproduct = product.get();\n                singleCartAmount = cart.getQuantity() * cloudproduct.getpriceInEuros();\n                \n                totalCartAmount = totalCartAmount + singleCartAmount;\n                cart.setProductId(cloudproduct.getProductId());\n                cart.setAmount(singleCartAmount);\n                cloudProductRepository.save(cloudproduct);\n            }\n        }\n        return totalCartAmount;\n    }\n\n    public Order saveOrder(Order order) {\n        return orderRepository.save(order);\n    }\n}\n\n\n</code></pre>\n<p>My OrderController.java</p>\n<pre><code>\n`package com.proj.my.controller;\n\nimport java.time.LocalDate;\nimport java.util.List;\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.validation.BindingResult;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.proj.my.dto.OrderDTO;\nimport com.proj.my.dto.ResponseOrderDTO;\nimport com.proj.my.model.CloudProduct;\nimport com.proj.my.model.Order;\nimport com.proj.my.model.User;\nimport com.proj.my.repository.CloudProductRepository;\nimport com.proj.my.service.CloudProductService;\nimport com.proj.my.service.OrderService;\nimport com.proj.my.service.UserService;\n\nimport jakarta.validation.Valid;\n\n@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class OrderController {\n\n    private OrderService orderService;\n    private CloudProductService cloudProductService;\n    private UserService userService;\n    @Autowired\n    private CloudProductRepository cloudProductRepository;\n\n\n    public OrderController(OrderService orderService, CloudProductService cloudProductService, UserService userService) {\n        this.orderService = orderService;\n        this.cloudProductService = cloudProductService;\n        this.userService = userService;\n    }\n\n    @GetMapping(value = &quot;/getOrder/{orderId}&quot;)\n    public ResponseEntity&lt;Order&gt; getOrderDetails(@PathVariable int orderId) {\n        Order order = orderService.getOrderDetail(orderId);\n        return ResponseEntity.ok(order);\n    }\n\n    @GetMapping(value = &quot;/getOrders/{dataaa}&quot;)\n    public List&lt;Order&gt; getAllOrderDetails(@PathVariable LocalDate dataaa) {\n        return orderService.getAllOrderDetail(dataaa);\n    }\n\n    @PostMapping(&quot;/placeOrder&quot;)\n    public ResponseEntity&lt;?&gt; placeOrder(@RequestBody @Valid OrderDTO orderDTO) {\n\n        ResponseOrderDTO responseOrderDTO = new ResponseOrderDTO();\n        List&lt;CloudProduct&gt; cloudProductList = orderDTO.getCartItems();\n        if(cloudProductList.isEmpty()){\n            return new ResponseEntity&lt;&gt;(&quot;Can't create an order without products.&quot;, HttpStatus.OK);\n        }\n        else{\n            for (CloudProduct cart : cloudProductList) {\n                String cloudProductName = cart.getProductName();\n                Optional&lt;CloudProduct&gt; product = cloudProductRepository.findByProductName(cloudProductName);\n                if (product.isPresent()){\n                    float amount = orderService.getCartAmount(orderDTO.getCartItems());\n                        User user = new User(orderDTO.getuserEmail());\n                        \n                        Integer userIdFromDb = userService.isUserPresent(user);\n\n                        if (userIdFromDb != null) {\n                            user.setUserId(userIdFromDb);\n                        }else{\n                            user = userService.createUser(user);\n                        }\n                        LocalDate createdAt = LocalDate.now(); \n                        \n\n                        Order order = new Order(user, createdAt, orderDTO.getCartItems());\n\n                        order = orderService.saveOrder(order);\n\n                        responseOrderDTO.setAmount(amount);\n\n                        responseOrderDTO.setDate(com.proj.my.util.DateUtil.getCurrentDateTime());\n                        \n                        responseOrderDTO.setOrderId(order.getId());\n\n\n                        return ResponseEntity.ok(responseOrderDTO);\n                }\n                else{\n                    return new ResponseEntity&lt;&gt;(&quot;No Product with such name found.&quot;, HttpStatus.OK);\n                }\n            }\n        }\n            return null;\n    }}`\n\n</code></pre>\n<p>How can I solve this?\nThanks.</p>\n<p>This is happening because before, everytime I used to make an order, a cartItem would be created out of each product chosen, but I was told to delete that, and use the products themselves instead of creating cartItems.</p>\n"},{"tags":["java","android","sqlite","android-sqlite","android-api-levels"],"answers":[{"tags":[],"owner":{"account_id":25909949,"reputation":1,"user_id":19634391,"display_name":"Jo&#227;o Afonso"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674236564,"creation_date":1674236455,"answer_id":75187566,"question_id":75187355,"body_markdown":"Maybe the problem be in your manifest you have read and write permissions?\r\n\r\nSee if the database is created in this version.\r\n\r\nGL","title":"Android Api 28 - crash_report=Exception is: android.database.sqlite.SQLiteException","body":"<p>Maybe the problem be in your manifest you have read and write permissions?</p>\n<p>See if the database is created in this version.</p>\n<p>GL</p>\n"},{"tags":[],"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674236621,"creation_date":1674236621,"answer_id":75187604,"question_id":75187355,"body_markdown":"The version of SQLite used in API 28 is 3.22.0 (check [this thread][1]), but the constants `true` and `false` were introduced as aliases of `1` and `0` respectively in SQLite in [version 3.23.0][2].&lt;br/&gt;\r\n\r\nIn your statement you must change `isFiled` which returns `true` or `false` to an integer `1` or `0`:\r\n\r\n    query = &quot;update &quot; + TABLE_DOCTOR + &quot; set &quot; +\r\n            Queryclass.DOCTOR_ROGSP_STATUS + &quot; = &quot; + (isFiled ? 1 : 0) + \r\n            &quot; where &quot; + Queryclass.DOCTOR_CONTACTID + &quot; = &quot; + gspid;\r\n\r\nBut, concatenating parameters to SQL statement is always a bad idea.&lt;br/&gt;\r\nYou should use the method [`update()`][3] where you use `?` placeholders to pass the parameters.\r\n\r\n \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/4377116/10498828\r\n  [2]: https://sqlite.org/changes.html\r\n  [3]: https://developer.android.com/reference/android/database/sqlite/SQLiteDatabase#update(java.lang.String,%20android.content.ContentValues,%20java.lang.String,%20java.lang.String[])","title":"Android Api 28 - crash_report=Exception is: android.database.sqlite.SQLiteException","body":"<p>The version of SQLite used in API 28 is 3.22.0 (check <a href=\"https://stackoverflow.com/a/4377116/10498828\">this thread</a>), but the constants <code>true</code> and <code>false</code> were introduced as aliases of <code>1</code> and <code>0</code> respectively in SQLite in <a href=\"https://sqlite.org/changes.html\" rel=\"nofollow noreferrer\">version 3.23.0</a>.<br/></p>\n<p>In your statement you must change <code>isFiled</code> which returns <code>true</code> or <code>false</code> to an integer <code>1</code> or <code>0</code>:</p>\n<pre><code>query = &quot;update &quot; + TABLE_DOCTOR + &quot; set &quot; +\n        Queryclass.DOCTOR_ROGSP_STATUS + &quot; = &quot; + (isFiled ? 1 : 0) + \n        &quot; where &quot; + Queryclass.DOCTOR_CONTACTID + &quot; = &quot; + gspid;\n</code></pre>\n<p>But, concatenating parameters to SQL statement is always a bad idea.<br/>\nYou should use the method <a href=\"https://developer.android.com/reference/android/database/sqlite/SQLiteDatabase#update(java.lang.String,%20android.content.ContentValues,%20java.lang.String,%20java.lang.String%5B%5D)\" rel=\"nofollow noreferrer\"><code>update()</code></a> where you use <code>?</code> placeholders to pass the parameters.</p>\n"}],"owner":{"account_id":8247829,"reputation":291,"user_id":6203399,"accept_rate":20,"display_name":"Abm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75187604,"answer_count":2,"score":1,"last_activity_date":1674492885,"creation_date":1674235267,"question_id":75187355,"body_markdown":"I have written the below query which is working fine on Api 29 and 30 but app is crashing on Api 28 only with the following log System.out: crash_report=Exception is: android.database.sqlite.SQLiteException: no such column: true (code 1 SQLITE_ERROR): , while compiling: update doctor set is_rogspFiled = true where doctor_contactid = 784829\r\nHere is my query. What do I need to change?\r\n\r\n     query = &quot; update &quot; + TABLE_DOCTOR + &quot; set &quot; + Queryclass.DOCTOR_ROGSP_STATUS + &quot; = &quot; + isFiled + &quot; where &quot; + Queryclass.DOCTOR_CONTACTID + &quot; = &quot; + gspid ;\r\n        cursor = sd.getData(query);\r\n\r\n        if (cursor.moveToNext()) {\r\n            isFiled = true;\r\n            ContentValues contentValues = new ContentValues();\r\n            contentValues.put(Queryclass.DOCTOR_ROGSP_STATUS, isFiled);\r\n            sd.update(Queryclass.TABLE_DOCTOR, contentValues, query);\r\n        }\r\n\r\n        cursor.close();\r\n        sd.close();","title":"Android Api 28 - crash_report=Exception is: android.database.sqlite.SQLiteException","body":"<p>I have written the below query which is working fine on Api 29 and 30 but app is crashing on Api 28 only with the following log System.out: crash_report=Exception is: android.database.sqlite.SQLiteException: no such column: true (code 1 SQLITE_ERROR): , while compiling: update doctor set is_rogspFiled = true where doctor_contactid = 784829\nHere is my query. What do I need to change?</p>\n<pre><code> query = &quot; update &quot; + TABLE_DOCTOR + &quot; set &quot; + Queryclass.DOCTOR_ROGSP_STATUS + &quot; = &quot; + isFiled + &quot; where &quot; + Queryclass.DOCTOR_CONTACTID + &quot; = &quot; + gspid ;\n    cursor = sd.getData(query);\n\n    if (cursor.moveToNext()) {\n        isFiled = true;\n        ContentValues contentValues = new ContentValues();\n        contentValues.put(Queryclass.DOCTOR_ROGSP_STATUS, isFiled);\n        sd.update(Queryclass.TABLE_DOCTOR, contentValues, query);\n    }\n\n    cursor.close();\n    sd.close();\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-kafka"],"comments":[{"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1674493461,"post_id":75212534,"comment_id":132720893,"body_markdown":"We are not aware of any changes that might cause this (although it does come with a newer Kafka version - 3.3.x); does this happen with the latest Boot version (3.0.2, released last week), which comes with the latest Kafka version (3.3.2)?","body":"We are not aware of any changes that might cause this (although it does come with a newer Kafka version - 3.3.x); does this happen with the latest Boot version (3.0.2, released last week), which comes with the latest Kafka version (3.3.2)?"},{"owner":{"account_id":2647828,"reputation":99,"user_id":2290175,"display_name":"Wash"},"score":0,"creation_date":1674494178,"post_id":75212534,"comment_id":132721099,"body_markdown":"I&#39;ve just checked. The version we&#39;re using is 3.0.0 for spring-kafka and boot. Do you recommend upgrading to 3.0.2? We have the issue since moving from 2.7.7 to 3.0.0.","body":"I&#39;ve just checked. The version we&#39;re using is 3.0.0 for spring-kafka and boot. Do you recommend upgrading to 3.0.2? We have the issue since moving from 2.7.7 to 3.0.0."},{"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"score":1,"creation_date":1674494416,"post_id":75212534,"comment_id":132721173,"body_markdown":"Yes; it&#39;s always best practice to use the latest patch version within a major/minor version, but I don&#39;t know if it will solve your problem.","body":"Yes; it&#39;s always best practice to use the latest patch version within a major/minor version, but I don&#39;t know if it will solve your problem."},{"owner":{"account_id":1076689,"reputation":948,"user_id":1074677,"display_name":"Stuart McIntyre"},"score":0,"creation_date":1700438690,"post_id":75212534,"comment_id":136651153,"body_markdown":"Did you find a solution to this? We are upgrading to springboot 3 and have just hit the same socket timeout problem.","body":"Did you find a solution to this? We are upgrading to springboot 3 and have just hit the same socket timeout problem."}],"owner":{"account_id":2647828,"reputation":99,"user_id":2290175,"display_name":"Wash"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":394,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674492197,"creation_date":1674492197,"question_id":75212534,"body_markdown":"After the Migration to Spring Boot 3 we&#39;re getting a Timeout Exception when starting certain Integration Tests. The Broker seems to work as usual though. \r\n\r\nI&#39;am curious what was changed in the current spring kafka version, that results in this behaviour and how i can clean my logs again?\r\n\r\n        2023-01-23 17:02:54,106 [main] ERROR  o.s.kafka.core.KafkaAdmin -  -  - Could not configure topics\r\n    java.util.concurrent.TimeoutException: null\r\n    \tat java.base/java.util.concurrent.CompletableFuture.timedGet(CompletableFuture.java:1960)\r\n    \tat java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2095)\r\n    \tat org.apache.kafka.common.internals.KafkaFutureImpl.get(KafkaFutureImpl.java:180)\r\n    \tat org.springframework.kafka.core.KafkaAdmin.initialize(KafkaAdmin.java:205)\r\n    \tat org.springframework.kafka.core.KafkaAdmin.afterSingletonsInstantiated(KafkaAdmin.java:174)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:972)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)\r\n    \tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:59)\r\n    \tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:47)\r\n    \tat org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1386)\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:543)\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:183)\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)\r\n    \tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)\r\n    \tat org.springframework.cloud.contract.wiremock.WireMockTestExecutionListener.applicationContextBroken(WireMockTestExecutionListener.java:120)\r\n    \tat org.springframework.cloud.contract.wiremock.WireMockTestExecutionListener.beforeTestClass(WireMockTestExecutionListener.java:43)\r\n    \tat org.springframework.test.context.TestContextManager.beforeTestClass(TestContextManager.java:214)\r\n    \tat org.springframework.test.context.junit.jupiter.SpringExtension.beforeAll(SpringExtension.java:113)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeBeforeAllCallbacks$12(ClassBasedTestDescriptor.java:395)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeBeforeAllCallbacks(ClassBasedTestDescriptor.java:395)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:211)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:84)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:148)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n    \tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n    \tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n    \tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n    \tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n    \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)","title":"After migration to spring boot 3 we&#39;re getting could not configure Topics Error","body":"<p>After the Migration to Spring Boot 3 we're getting a Timeout Exception when starting certain Integration Tests. The Broker seems to work as usual though.</p>\n<p>I'am curious what was changed in the current spring kafka version, that results in this behaviour and how i can clean my logs again?</p>\n<pre><code>    2023-01-23 17:02:54,106 [main] ERROR  o.s.kafka.core.KafkaAdmin -  -  - Could not configure topics\njava.util.concurrent.TimeoutException: null\n    at java.base/java.util.concurrent.CompletableFuture.timedGet(CompletableFuture.java:1960)\n    at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2095)\n    at org.apache.kafka.common.internals.KafkaFutureImpl.get(KafkaFutureImpl.java:180)\n    at org.springframework.kafka.core.KafkaAdmin.initialize(KafkaAdmin.java:205)\n    at org.springframework.kafka.core.KafkaAdmin.afterSingletonsInstantiated(KafkaAdmin.java:174)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:972)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n    at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)\n    at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:59)\n    at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:47)\n    at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1386)\n    at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:543)\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:183)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)\n    at org.springframework.cloud.contract.wiremock.WireMockTestExecutionListener.applicationContextBroken(WireMockTestExecutionListener.java:120)\n    at org.springframework.cloud.contract.wiremock.WireMockTestExecutionListener.beforeTestClass(WireMockTestExecutionListener.java:43)\n    at org.springframework.test.context.TestContextManager.beforeTestClass(TestContextManager.java:214)\n    at org.springframework.test.context.junit.jupiter.SpringExtension.beforeAll(SpringExtension.java:113)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeBeforeAllCallbacks$12(ClassBasedTestDescriptor.java:395)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeBeforeAllCallbacks(ClassBasedTestDescriptor.java:395)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:211)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:84)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:148)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n</code></pre>\n"},{"tags":["java","javafx","eventhandler"],"comments":[{"owner":{"account_id":1394697,"reputation":14498,"user_id":1324709,"accept_rate":94,"display_name":"Branislav Lazic"},"score":0,"creation_date":1438607387,"post_id":31788180,"comment_id":51504627,"body_markdown":"You define your `Circle` instance OUTSIDE of `handle` method and `EventHandler` scope.","body":"You define your <code>Circle</code> instance OUTSIDE of <code>handle</code> method and <code>EventHandler</code> scope."},{"owner":{"account_id":4790832,"reputation":141,"user_id":3870075,"accept_rate":29,"display_name":"user3870075"},"score":0,"creation_date":1438608375,"post_id":31788180,"comment_id":51505330,"body_markdown":"@BranislavLazic  My Circle instance is defined OUTSIDE of handle method if you meant the second handle method , and i can&#39;t declare outside the first handle method because the circle must be created after clicking the button.","body":"@BranislavLazic  My Circle instance is defined OUTSIDE of handle method if you meant the second handle method , and i can&#39;t declare outside the first handle method because the circle must be created after clicking the button."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1438608706,"post_id":31788180,"comment_id":51505571,"body_markdown":"Can&#39;t you just declare it to be `final`? I.e. `final Circle circle1 = new Circle();`?","body":"Can&#39;t you just declare it to be <code>final</code>? I.e. <code>final Circle circle1 = new Circle();</code>?"},{"owner":{"account_id":4992892,"reputation":4470,"user_id":4014509,"accept_rate":77,"display_name":"Sebastian S"},"score":1,"creation_date":1438609098,"post_id":31788180,"comment_id":51505860,"body_markdown":"&quot;i can&#39;t declare &quot;circle1&quot; final because i will need to change it.&quot; **final does not mean immutable**. it just means you can not re-assign it.","body":"&quot;i can&#39;t declare &quot;circle1&quot; final because i will need to change it.&quot; <b>final does not mean immutable</b>. it just means you can not re-assign it."},{"owner":{"account_id":4790832,"reputation":141,"user_id":3870075,"accept_rate":29,"display_name":"user3870075"},"score":0,"creation_date":1438611342,"post_id":31788180,"comment_id":51507459,"body_markdown":"ok , thank you very much.","body":"ok , thank you very much."}],"answers":[{"tags":[],"owner":{"account_id":348041,"reputation":48805,"user_id":682495,"accept_rate":77,"display_name":"Uluk Biy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674492172,"creation_date":1438608767,"answer_id":31788732,"question_id":31788180,"body_markdown":"Use [event.getSource()][1], by this can write a common event handler for multiple cicrles without worrying which exact one was clicked:\r\n\r\n    EventHandler&lt;MouseEvent&gt; handler = new EventHandler&lt;&gt;()\r\n    {\r\n        @Override\r\n        public void handle( MouseEvent event )\r\n        {\r\n            if (event.getSource() instanceof Circle) { // to be on safe side, you may \r\n                                                       // remove this if-statement \r\n                                                       // if you are sure\r\n                Circle c = (Circle) event.getSource();\r\n                c.setCenterX( event.getX() );\r\n            }\r\n        }\r\n    };\r\n\r\n    // use it on multiple circles\r\n    circle1.setOnMouseDragged(handler);\r\n    circle2.setOnMouseDragged(handler);\r\n    ...\r\n    circleN.setOnMouseDragged(handler);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/EventObject.html?is-external=true#getSource--","title":"JavaFx: Access an object from Event handler","body":"<p>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/EventObject.html?is-external=true#getSource--\" rel=\"nofollow noreferrer\">event.getSource()</a>, by this can write a common event handler for multiple cicrles without worrying which exact one was clicked:</p>\n<pre><code>EventHandler&lt;MouseEvent&gt; handler = new EventHandler&lt;&gt;()\n{\n    @Override\n    public void handle( MouseEvent event )\n    {\n        if (event.getSource() instanceof Circle) { // to be on safe side, you may \n                                                   // remove this if-statement \n                                                   // if you are sure\n            Circle c = (Circle) event.getSource();\n            c.setCenterX( event.getX() );\n        }\n    }\n};\n\n// use it on multiple circles\ncircle1.setOnMouseDragged(handler);\ncircle2.setOnMouseDragged(handler);\n...\ncircleN.setOnMouseDragged(handler);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1438609121,"creation_date":1438608775,"answer_id":31788736,"question_id":31788180,"body_markdown":"Nowhere in the code you show do you reassign `circle1`, so you can just declare it as `final`:\r\n\r\n    createCircleBtn.setOnMouseClicked(new EventHandler&lt;MouseEvent&gt;() {\r\n        @Override\r\n            public void handle(MouseEvent event) {\r\n                final Circle circle1 = new Circle();\r\n                shapes.add(circle1);\r\n                circle1.setCenterX(event.getX());\r\n                circle1.setCenterY(event.getY());\r\n                circle1.setOnMouseDragged(new EventHandler&lt;MouseEvent&gt;() {\r\n                    @Override\r\n                    public void handle(MouseEvent event) {\r\n                        circle1.setCenterX(event.getX());\r\n                    }\r\n                });\r\n                mainPane.getChildren().add(circle1);\r\n            }\r\n        });\r\n\r\nNote that in Java 8 your code would compile just as you have it, because `circle1` is *effectively final* (meaning that it is only assigned once and is never reassigned).\r\n","title":"JavaFx: Access an object from Event handler","body":"<p>Nowhere in the code you show do you reassign <code>circle1</code>, so you can just declare it as <code>final</code>:</p>\n\n<pre><code>createCircleBtn.setOnMouseClicked(new EventHandler&lt;MouseEvent&gt;() {\n    @Override\n        public void handle(MouseEvent event) {\n            final Circle circle1 = new Circle();\n            shapes.add(circle1);\n            circle1.setCenterX(event.getX());\n            circle1.setCenterY(event.getY());\n            circle1.setOnMouseDragged(new EventHandler&lt;MouseEvent&gt;() {\n                @Override\n                public void handle(MouseEvent event) {\n                    circle1.setCenterX(event.getX());\n                }\n            });\n            mainPane.getChildren().add(circle1);\n        }\n    });\n</code></pre>\n\n<p>Note that in Java 8 your code would compile just as you have it, because <code>circle1</code> is <em>effectively final</em> (meaning that it is only assigned once and is never reassigned).</p>\n"}],"owner":{"account_id":4790832,"reputation":141,"user_id":3870075,"accept_rate":29,"display_name":"user3870075"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3872,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1674492172,"creation_date":1438607328,"question_id":31788180,"body_markdown":"I want to make a program in JavaFX that contains a button which, when clicked, a circle gets created and added to an ArrayList of shapes. The following is my code:\r\n\r\n    \r\n    createCircleBtn.setOnMouseClicked(new EventHandler&lt;MouseEvent&gt;() {\r\n        @Override\r\n            public void handle(MouseEvent event) {\r\n                Circle circle1 = new Circle();\r\n                shapes.add(circle1);\r\n                circle1.setCenterX(event.getX());\r\n                circle1.setCenterY(event.getY());\r\n                circle1.setOnMouseDragged(new EventHandler&lt;MouseEvent&gt;() {\r\n                    @Override\r\n                    public void handle(MouseEvent event) {\r\n             // doesn&#39;t work because &quot;circle1&quot; must be declared final (constant) \r\n                        circle1.setCenterX(event.getX());\r\n                        // &quot;this&quot; doesn&#39;t refer to &quot;circle1&quot;\r\n                        this.setCenterY(event.getY());\r\n                    }\r\n                });\r\n                mainPane.getChildren().add(circle1);\r\n            }\r\n        });\r\n\r\nMy question is - How can I access &quot;circle1&quot; from inside handle method?\r\nIn JavaScript we use `e.currentTarget`.\r\n\r\nI&#39;m unable to declare &quot;circle1&quot; final because I will need to change it afterwards.","title":"JavaFx: Access an object from Event handler","body":"<p>I want to make a program in JavaFX that contains a button which, when clicked, a circle gets created and added to an ArrayList of shapes. The following is my code:</p>\n\n<pre><code>createCircleBtn.setOnMouseClicked(new EventHandler&lt;MouseEvent&gt;() {\n    @Override\n        public void handle(MouseEvent event) {\n            Circle circle1 = new Circle();\n            shapes.add(circle1);\n            circle1.setCenterX(event.getX());\n            circle1.setCenterY(event.getY());\n            circle1.setOnMouseDragged(new EventHandler&lt;MouseEvent&gt;() {\n                @Override\n                public void handle(MouseEvent event) {\n         // doesn't work because \"circle1\" must be declared final (constant) \n                    circle1.setCenterX(event.getX());\n                    // \"this\" doesn't refer to \"circle1\"\n                    this.setCenterY(event.getY());\n                }\n            });\n            mainPane.getChildren().add(circle1);\n        }\n    });\n</code></pre>\n\n<p>My question is - How can I access \"circle1\" from inside handle method?\nIn JavaScript we use <code>e.currentTarget</code>.</p>\n\n<p>I'm unable to declare \"circle1\" final because I will need to change it afterwards.</p>\n"},{"tags":["java","winapi","com","jna"],"comments":[{"owner":{"account_id":174359,"reputation":133385,"user_id":403671,"display_name":"Simon Mourier"},"score":0,"creation_date":1674316483,"post_id":75194481,"comment_id":132690724,"body_markdown":"Have you tried CoInitialize(Pointer.NULL) instead (STA)?","body":"Have you tried CoInitialize(Pointer.NULL) instead (STA)?"},{"owner":{"account_id":8893758,"reputation":129,"user_id":6639500,"accept_rate":75,"display_name":"SerVB"},"score":0,"creation_date":1674395567,"post_id":75194481,"comment_id":132701189,"body_markdown":"@SimonMourier, just tried, but changing `Ole32.INSTANCE.CoInitializeEx(Pointer.NULL, Ole32.COINIT_MULTITHREADED)` to `Ole32.INSTANCE.CoInitialize(null)` and `Ole32.INSTANCE.CoInitialize(new WinDef.LPVOID(Pointer.NULL))` doesn&#39;t change anything visibly: there is the same crash.","body":"@SimonMourier, just tried, but changing <code>Ole32.INSTANCE.CoInitializeEx(Pointer.NULL, Ole32.COINIT_MULTITHREADED)</code> to <code>Ole32.INSTANCE.CoInitialize(null)</code> and <code>Ole32.INSTANCE.CoInitialize(new WinDef.LPVOID(Pointer.NULL))</code> doesn&#39;t change anything visibly: there is the same crash."}],"answers":[{"tags":[],"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674492056,"creation_date":1674335825,"answer_id":75196620,"question_id":75194481,"body_markdown":"The [docs you linked][1] show how to create using `CoCreateInstance`:\r\n```c++\r\nconst CLSID CLSID_MMDeviceEnumerator = __uuidof(MMDeviceEnumerator);\r\nconst IID IID_IMMDeviceEnumerator = __uuidof(IMMDeviceEnumerator);\r\nhr = CoCreateInstance(\r\n       CLSID_MMDeviceEnumerator, NULL,\r\n       CLSCTX_ALL, IID_IMMDeviceEnumerator,\r\n       (void**)&amp;pEnumerator);\r\n```\r\n\r\nThis should get you somewhere close with JNA.  \r\n```java\r\nclass MMDeviceEnumerator extends Unknown {\r\n    public static final CLSID CLSID_MMDeviceEnumerator = new CLSID(&quot;bcde0395-e52f-467c-8e3d-c4579291692e&quot;);\r\n    public static final GUID IID_IMMDeviceEnumerator = new GUID(&quot;a95664d2-9614-4f35-a746-de8db63617e6&quot;);\r\n\r\n    public MMDeviceEnumerator(Pointer p) {\r\n        super(p);\r\n    }\r\n\r\n    public static MMDeviceEnumerator create() {\r\n        PointerByReference pEnumerator = new PointerByReference();\r\n\r\n        HRESULT hres = Ole32.INSTANCE.CoCreateInstance(\r\n            CLSID_MMDeviceEnumerator, null,\r\n            WTypes.CLSCTX_ALL, IID_IMMDeviceEnumerator,\r\n            pEnumerator);\r\n        if (COMUtils.FAILED(hres)) {\r\n            return null;\r\n        }\r\n\r\n        return new MMDeviceEnumerator(pEnumerator.getValue());\r\n    }\r\n\r\n    // map functions as needed\r\n}\r\n```\r\nI used the implementation of [`IWbemContext`][2] in JNA as a template above. You can consult that class for example COM function mappings.\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/windows/win32/coreaudio/mmdevice-api\r\n  [2]: https://github.com/java-native-access/jna/blob/8f9886fb766b43700941c878a264a9d0302f7517/contrib/platform/src/com/sun/jna/platform/win32/COM/Wbemcli.java#L399","title":"A way of accessing Windows MMDevice API from Java?","body":"<p>The <a href=\"https://learn.microsoft.com/en-us/windows/win32/coreaudio/mmdevice-api\" rel=\"nofollow noreferrer\">docs you linked</a> show how to create using <code>CoCreateInstance</code>:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>const CLSID CLSID_MMDeviceEnumerator = __uuidof(MMDeviceEnumerator);\nconst IID IID_IMMDeviceEnumerator = __uuidof(IMMDeviceEnumerator);\nhr = CoCreateInstance(\n       CLSID_MMDeviceEnumerator, NULL,\n       CLSCTX_ALL, IID_IMMDeviceEnumerator,\n       (void**)&amp;pEnumerator);\n</code></pre>\n<p>This should get you somewhere close with JNA.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MMDeviceEnumerator extends Unknown {\n    public static final CLSID CLSID_MMDeviceEnumerator = new CLSID(&quot;bcde0395-e52f-467c-8e3d-c4579291692e&quot;);\n    public static final GUID IID_IMMDeviceEnumerator = new GUID(&quot;a95664d2-9614-4f35-a746-de8db63617e6&quot;);\n\n    public MMDeviceEnumerator(Pointer p) {\n        super(p);\n    }\n\n    public static MMDeviceEnumerator create() {\n        PointerByReference pEnumerator = new PointerByReference();\n\n        HRESULT hres = Ole32.INSTANCE.CoCreateInstance(\n            CLSID_MMDeviceEnumerator, null,\n            WTypes.CLSCTX_ALL, IID_IMMDeviceEnumerator,\n            pEnumerator);\n        if (COMUtils.FAILED(hres)) {\n            return null;\n        }\n\n        return new MMDeviceEnumerator(pEnumerator.getValue());\n    }\n\n    // map functions as needed\n}\n</code></pre>\n<p>I used the implementation of <a href=\"https://github.com/java-native-access/jna/blob/8f9886fb766b43700941c878a264a9d0302f7517/contrib/platform/src/com/sun/jna/platform/win32/COM/Wbemcli.java#L399\" rel=\"nofollow noreferrer\"><code>IWbemContext</code></a> in JNA as a template above. You can consult that class for example COM function mappings.</p>\n"},{"tags":[],"owner":{"account_id":8893758,"reputation":129,"user_id":6639500,"accept_rate":75,"display_name":"SerVB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674398897,"creation_date":1674398897,"answer_id":75201347,"question_id":75194481,"body_markdown":"For some reason I can&#39;t suggest edits to the answer of **Daniel Widdis**. The answer worked for me, many thanks! Just wanted to show how to map one method as an example:\r\n```java\r\nclass MMDeviceEnumerator extends Unknown {\r\n    public static final CLSID CLSID_MMDeviceEnumerator = new CLSID(&quot;bcde0395-e52f-467c-8e3d-c4579291692e&quot;);\r\n    public static final GUID IID_IMMDeviceEnumerator = new GUID(&quot;a95664d2-9614-4f35-a746-de8db63617e6&quot;);\r\n\r\n    public MMDeviceEnumerator(Pointer p) {\r\n        super(p);\r\n    }\r\n\r\n    public static MMDeviceEnumerator create() {\r\n        PointerByReference pEnumerator = new PointerByReference();\r\n\r\n        HRESULT hres = Ole32.INSTANCE.CoCreateInstance(\r\n            CLSID_MMDeviceEnumerator, null,\r\n            WTypes.CLSCTX_ALL, IID_IMMDeviceEnumerator, pEnumerator);\r\n        if (COMUtils.FAILED(hres)) {\r\n            return null;\r\n        }\r\n\r\n        return new MMDeviceEnumerator(pEnumerator.getValue());\r\n    }\r\n\r\n    public static final int EDataFlow_eRender = 0;\r\n    public static final int EDataFlow_eCapture = 1;\r\n    public static final int EDataFlow_eAll = 2;\r\n    public static final int EDataFlow_enum_count = 3;\r\n\r\n    public static final int DEVICE_STATE_ACTIVE = 0x1;\r\n    public static final int DEVICE_STATE_DISABLED = 0x2;\r\n    public static final int DEVICE_STATE_NOTPRESENT = 0x4;\r\n    public static final int DEVICE_STATE_UNPLUGGED = 0x8;\r\n    public static final int DEVICE_STATEMASK_ALL = 0xF;\r\n\r\n    public void EnumAudioEndpoints(int dataFlow, int dwStateMask, PointerByReference ppDevices) {\r\n        WinNT.HRESULT res = (WinNT.HRESULT) _invokeNativeObject(\r\n            3,  // `EnumAudioEndpoints` is the 3rd method of `IMMDeviceEnumeratorVtbl` in `mmdeviceapi.h`\r\n            new Object[] { getPointer(), dataFlow, new WinDef.DWORD(dwStateMask), ppDevices},\r\n            WinNT.HRESULT.class\r\n        );\r\n        COMUtils.checkRC(res);\r\n    }\r\n\r\n    // map other functions as needed\r\n}\r\n```","title":"A way of accessing Windows MMDevice API from Java?","body":"<p>For some reason I can't suggest edits to the answer of <strong>Daniel Widdis</strong>. The answer worked for me, many thanks! Just wanted to show how to map one method as an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MMDeviceEnumerator extends Unknown {\n    public static final CLSID CLSID_MMDeviceEnumerator = new CLSID(&quot;bcde0395-e52f-467c-8e3d-c4579291692e&quot;);\n    public static final GUID IID_IMMDeviceEnumerator = new GUID(&quot;a95664d2-9614-4f35-a746-de8db63617e6&quot;);\n\n    public MMDeviceEnumerator(Pointer p) {\n        super(p);\n    }\n\n    public static MMDeviceEnumerator create() {\n        PointerByReference pEnumerator = new PointerByReference();\n\n        HRESULT hres = Ole32.INSTANCE.CoCreateInstance(\n            CLSID_MMDeviceEnumerator, null,\n            WTypes.CLSCTX_ALL, IID_IMMDeviceEnumerator, pEnumerator);\n        if (COMUtils.FAILED(hres)) {\n            return null;\n        }\n\n        return new MMDeviceEnumerator(pEnumerator.getValue());\n    }\n\n    public static final int EDataFlow_eRender = 0;\n    public static final int EDataFlow_eCapture = 1;\n    public static final int EDataFlow_eAll = 2;\n    public static final int EDataFlow_enum_count = 3;\n\n    public static final int DEVICE_STATE_ACTIVE = 0x1;\n    public static final int DEVICE_STATE_DISABLED = 0x2;\n    public static final int DEVICE_STATE_NOTPRESENT = 0x4;\n    public static final int DEVICE_STATE_UNPLUGGED = 0x8;\n    public static final int DEVICE_STATEMASK_ALL = 0xF;\n\n    public void EnumAudioEndpoints(int dataFlow, int dwStateMask, PointerByReference ppDevices) {\n        WinNT.HRESULT res = (WinNT.HRESULT) _invokeNativeObject(\n            3,  // `EnumAudioEndpoints` is the 3rd method of `IMMDeviceEnumeratorVtbl` in `mmdeviceapi.h`\n            new Object[] { getPointer(), dataFlow, new WinDef.DWORD(dwStateMask), ppDevices},\n            WinNT.HRESULT.class\n        );\n        COMUtils.checkRC(res);\n    }\n\n    // map other functions as needed\n}\n</code></pre>\n"}],"owner":{"account_id":8893758,"reputation":129,"user_id":6639500,"accept_rate":75,"display_name":"SerVB"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75196620,"answer_count":2,"score":1,"last_activity_date":1674492056,"creation_date":1674315243,"question_id":75194481,"body_markdown":"I would like to use the [MMDevice API][1] from my Java app. What are my options?\r\n\r\nI tried to use JNA. Looks like I can&#39;t use [JNA Typelib parsing][2] because there no types for this API (&lt;https://stackoverflow.com/questions/20516835/is-there-a-com-type-library-for-windows-core-audio&gt;). As suggested, I need to provide my own declarations of the API.\r\n\r\nSo I also tried both JNA examples with manual declarations but they give &quot;Interface not supported HRESULT=80004002&quot; error:\r\n\r\n```java\r\npublic class MMDeviceAPITest {\r\n    public static void test1() {\r\n        try {\r\n            Ole32.INSTANCE.CoInitializeEx(Pointer.NULL, Ole32.COINIT_MULTITHREADED);\r\n            var obj = new Test1.MMDeviceEnumerator();  // exception E_NOINTERFACE (HRESULT: 80004002)\r\n            // ...\r\n        } finally {\r\n            Ole32.INSTANCE.CoUninitialize();\r\n        }\r\n    }\r\n    public static void test2() {\r\n        try {\r\n            Ole32.INSTANCE.CoInitializeEx(Pointer.NULL, Ole32.COINIT_MULTITHREADED);\r\n            var factory = new Factory();\r\n            var obj = factory.createObject(Test2.MMDeviceEnumerator.class);  // exception E_NOINTERFACE (HRESULT: 80004002)\r\n            var in = obj.queryInterface(Test2.IMMDeviceEnumerator.class);\r\n            // ...\r\n        } finally {\r\n            Ole32.INSTANCE.CoUninitialize();\r\n        }\r\n    }\r\n}\r\n\r\ninterface Test1 {\r\n    class MMDeviceEnumerator extends COMLateBindingObject {\r\n        public MMDeviceEnumerator() {\r\n            super(new Guid.CLSID(&quot;bcde0395-e52f-467c-8e3d-c4579291692e&quot;), true);\r\n        }\r\n    }\r\n}\r\n\r\ninterface Test2 {\r\n    @ComObject(clsId = &quot;bcde0395-e52f-467c-8e3d-c4579291692e&quot;)\r\n    interface MMDeviceEnumerator extends IUnknown {}  // doesn&#39;t extend IUnknown in C sources, probably it&#39;s the problem...\r\n    @ComInterface(iid = &quot;a95664d2-9614-4f35-a746-de8db63617e6&quot;)\r\n    interface IMMDeviceEnumerator extends IUnknown {}\r\n}\r\n```\r\n\r\nAny ideas how I could access this API from Java? Can I somehow create working declarations for JNA? Or use another framework maybe?\r\n\r\nMy last idea is to create/find a micro native app/library that wraps the needed COM calls, so I could call this app/library easily (via subprocesses or simple JNA declarations). I&#39;m new to COM world, but it sounds working for me...\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/windows/win32/coreaudio/mmdevice-api\r\n  [2]: https://github.com/java-native-access/jna/blob/e64b429/www/PlatformLibrary.md#typelib-parsing","title":"A way of accessing Windows MMDevice API from Java?","body":"<p>I would like to use the <a href=\"https://learn.microsoft.com/en-us/windows/win32/coreaudio/mmdevice-api\" rel=\"nofollow noreferrer\">MMDevice API</a> from my Java app. What are my options?</p>\n<p>I tried to use JNA. Looks like I can't use <a href=\"https://github.com/java-native-access/jna/blob/e64b429/www/PlatformLibrary.md#typelib-parsing\" rel=\"nofollow noreferrer\">JNA Typelib parsing</a> because there no types for this API (<a href=\"https://stackoverflow.com/questions/20516835/is-there-a-com-type-library-for-windows-core-audio\">Is there a COM type library for Windows Core Audio</a>). As suggested, I need to provide my own declarations of the API.</p>\n<p>So I also tried both JNA examples with manual declarations but they give &quot;Interface not supported HRESULT=80004002&quot; error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MMDeviceAPITest {\n    public static void test1() {\n        try {\n            Ole32.INSTANCE.CoInitializeEx(Pointer.NULL, Ole32.COINIT_MULTITHREADED);\n            var obj = new Test1.MMDeviceEnumerator();  // exception E_NOINTERFACE (HRESULT: 80004002)\n            // ...\n        } finally {\n            Ole32.INSTANCE.CoUninitialize();\n        }\n    }\n    public static void test2() {\n        try {\n            Ole32.INSTANCE.CoInitializeEx(Pointer.NULL, Ole32.COINIT_MULTITHREADED);\n            var factory = new Factory();\n            var obj = factory.createObject(Test2.MMDeviceEnumerator.class);  // exception E_NOINTERFACE (HRESULT: 80004002)\n            var in = obj.queryInterface(Test2.IMMDeviceEnumerator.class);\n            // ...\n        } finally {\n            Ole32.INSTANCE.CoUninitialize();\n        }\n    }\n}\n\ninterface Test1 {\n    class MMDeviceEnumerator extends COMLateBindingObject {\n        public MMDeviceEnumerator() {\n            super(new Guid.CLSID(&quot;bcde0395-e52f-467c-8e3d-c4579291692e&quot;), true);\n        }\n    }\n}\n\ninterface Test2 {\n    @ComObject(clsId = &quot;bcde0395-e52f-467c-8e3d-c4579291692e&quot;)\n    interface MMDeviceEnumerator extends IUnknown {}  // doesn't extend IUnknown in C sources, probably it's the problem...\n    @ComInterface(iid = &quot;a95664d2-9614-4f35-a746-de8db63617e6&quot;)\n    interface IMMDeviceEnumerator extends IUnknown {}\n}\n</code></pre>\n<p>Any ideas how I could access this API from Java? Can I somehow create working declarations for JNA? Or use another framework maybe?</p>\n<p>My last idea is to create/find a micro native app/library that wraps the needed COM calls, so I could call this app/library easily (via subprocesses or simple JNA declarations). I'm new to COM world, but it sounds working for me...</p>\n"},{"tags":["java","spring-boot","jackson","apache-camel","objectmapper"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1633693026,"post_id":69495043,"comment_id":122833897,"body_markdown":"Probably library problem, please include your gradle / maven setting.","body":"Probably library problem, please include your gradle / maven setting."},{"owner":{"account_id":11026225,"reputation":41,"user_id":8099064,"display_name":"ironside"},"score":0,"creation_date":1633693597,"post_id":69495043,"comment_id":122834107,"body_markdown":"I upgraded to SpringBoot 2.5.5 and it works now.","body":"I upgraded to SpringBoot 2.5.5 and it works now."}],"answers":[{"tags":[],"owner":{"account_id":11026225,"reputation":41,"user_id":8099064,"display_name":"ironside"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633693667,"creation_date":1633693667,"answer_id":69495357,"question_id":69495043,"body_markdown":"Camel 3.11.2 and SpringBoot 2.2.7 are not compatible, needed to upgrade SpringBoot to 2.5.5.","title":"Jackson ObjectMapper NoSuchMethodError problem wiht SpringBoot 2.2.7 and Camel 3.11.2","body":"<p>Camel 3.11.2 and SpringBoot 2.2.7 are not compatible, needed to upgrade SpringBoot to 2.5.5.</p>\n"},{"tags":[],"owner":{"account_id":1896439,"reputation":663,"user_id":1713298,"display_name":"ankitkpd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674492007,"creation_date":1674492007,"answer_id":75212490,"question_id":69495043,"body_markdown":"Upgrading version for `jackson-core` &amp; `jackson-databind` fixed the issue for me. Upgrade for me was 2.9.10 to 2.13.4.","title":"Jackson ObjectMapper NoSuchMethodError problem wiht SpringBoot 2.2.7 and Camel 3.11.2","body":"<p>Upgrading version for <code>jackson-core</code> &amp; <code>jackson-databind</code> fixed the issue for me. Upgrade for me was 2.9.10 to 2.13.4.</p>\n"}],"owner":{"account_id":11026225,"reputation":41,"user_id":8099064,"display_name":"ironside"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":343,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69495357,"answer_count":2,"score":0,"last_activity_date":1674492007,"creation_date":1633692118,"question_id":69495043,"body_markdown":"I am trying to setup project with simple post route:\r\n\r\n            rest(&quot;/as2/&quot;)\r\n                .post(&quot;invoice&quot;)\r\n                .description(&quot;Receive invoice for sending to AS2&quot;)\r\n                .param().name(&quot;body&quot;).type(RestParamType.body).description(&quot;Post message&quot;).endParam()\r\n                .route().id(&quot;as2-post-route&quot;).log(&quot;${body}&quot;);\r\n\r\nThe application should accept invoices in XML format, convert them and send them to an external system. First I just want to accept the input string and print it.\r\n\r\nError I am getting:\r\n\r\n    org.apache.camel.CamelExecutionException: Exception occurred during execution on the exchange: Exchange[]\r\n        at org.apache.camel.CamelExecutionException.wrapCamelExecutionException(CamelExecutionException.java:45) ~[camel-api-3.11.2.jar:3.11.2]\r\n        at org.apache.camel.support.AbstractExchange.setException(AbstractExchange.java:589) ~[camel-support-3.11.2.jar:3.11.2]\r\n        at org.apache.camel.support.DefaultExchange.setException(DefaultExchange.java:27) ~[camel-support-3.11.2.jar:3.11.2]\r\n        at org.apache.camel.support.processor.UnmarshalProcessor.process(UnmarshalProcessor.java:81) ~[camel-support-3.11.2.jar:3.11.2]\r\n        at org.apache.camel.impl.engine.DefaultAsyncProcessorAwaitManager.process(DefaultAsyncProcessorAwaitManager.java:83) ~[camel-base-engine-3.11.2.jar:3.11.2]\r\n        at org.apache.camel.support.AsyncProcessorSupport.process(AsyncProcessorSupport.java:41) ~[camel-support-3.11.2.jar:3.11.2]\r\n        at org.apache.camel.processor.RestBindingAdvice.unmarshal(RestBindingAdvice.java:307) ~[camel-core-processor-3.11.2.jar:3.11.2]\r\n        at org.apache.camel.processor.RestBindingAdvice.before(RestBindingAdvice.java:142) ~[camel-core-processor-3.11.2.jar:3.11.2]\r\n        at org.apache.camel.processor.RestBindingAdvice.before(RestBindingAdvice.java:51) ~[camel-core-processor-3.11.2.jar:3.11.2]\r\n        at org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:340) ~[camel-base-engine-3.11.2.jar:3.11.2]\r\n        at org.apache.camel.impl.engine.DefaultAsyncProcessorAwaitManager.process(DefaultAsyncProcessorAwaitManager.java:83) ~[camel-base-engine-3.11.2.jar:3.11.2]\r\n        at org.apache.camel.support.AsyncProcessorSupport.process(AsyncProcessorSupport.java:41) ~[camel-support-3.11.2.jar:3.11.2]\r\n        at org.apache.camel.http.common.CamelServlet.doExecute(CamelServlet.java:319) ~[camel-http-common-3.11.2.jar:3.11.2]\r\n        at org.apache.camel.http.common.CamelServlet.doService(CamelServlet.java:214) ~[camel-http-common-3.11.2.jar:3.11.2]\r\n        at org.apache.camel.http.common.CamelServlet.service(CamelServlet.java:130) ~[camel-http-common-3.11.2.jar:3.11.2]\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\r\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.34.jar:9.0.34]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\r\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\r\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\r\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\r\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\r\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\r\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\r\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\r\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\r\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\r\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\r\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\r\n        at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n\r\n    Caused by: java.lang.NoSuchMethodError: &#39;java.lang.Object com.fasterxml.jackson.databind.ObjectReader.readValue(java.io.InputStream, java.lang.Class)&#39;\r\n        at org.apache.camel.component.jackson.AbstractJacksonDataFormat.unmarshal(AbstractJacksonDataFormat.java:185) ~[camel-jackson-3.11.2.jar:3.11.2]\r\n        at org.apache.camel.support.processor.UnmarshalProcessor.process(UnmarshalProcessor.java:64) ~[camel-support-3.11.2.jar:3.11.2]\r\n        ... 45 common frames omitted\r\n\r\nI am using Java 11. Any suggestions? It seams like a libraries clash.","title":"Jackson ObjectMapper NoSuchMethodError problem wiht SpringBoot 2.2.7 and Camel 3.11.2","body":"<p>I am trying to setup project with simple post route:</p>\n<pre><code>        rest(&quot;/as2/&quot;)\n            .post(&quot;invoice&quot;)\n            .description(&quot;Receive invoice for sending to AS2&quot;)\n            .param().name(&quot;body&quot;).type(RestParamType.body).description(&quot;Post message&quot;).endParam()\n            .route().id(&quot;as2-post-route&quot;).log(&quot;${body}&quot;);\n</code></pre>\n<p>The application should accept invoices in XML format, convert them and send them to an external system. First I just want to accept the input string and print it.</p>\n<p>Error I am getting:</p>\n<pre><code>org.apache.camel.CamelExecutionException: Exception occurred during execution on the exchange: Exchange[]\n    at org.apache.camel.CamelExecutionException.wrapCamelExecutionException(CamelExecutionException.java:45) ~[camel-api-3.11.2.jar:3.11.2]\n    at org.apache.camel.support.AbstractExchange.setException(AbstractExchange.java:589) ~[camel-support-3.11.2.jar:3.11.2]\n    at org.apache.camel.support.DefaultExchange.setException(DefaultExchange.java:27) ~[camel-support-3.11.2.jar:3.11.2]\n    at org.apache.camel.support.processor.UnmarshalProcessor.process(UnmarshalProcessor.java:81) ~[camel-support-3.11.2.jar:3.11.2]\n    at org.apache.camel.impl.engine.DefaultAsyncProcessorAwaitManager.process(DefaultAsyncProcessorAwaitManager.java:83) ~[camel-base-engine-3.11.2.jar:3.11.2]\n    at org.apache.camel.support.AsyncProcessorSupport.process(AsyncProcessorSupport.java:41) ~[camel-support-3.11.2.jar:3.11.2]\n    at org.apache.camel.processor.RestBindingAdvice.unmarshal(RestBindingAdvice.java:307) ~[camel-core-processor-3.11.2.jar:3.11.2]\n    at org.apache.camel.processor.RestBindingAdvice.before(RestBindingAdvice.java:142) ~[camel-core-processor-3.11.2.jar:3.11.2]\n    at org.apache.camel.processor.RestBindingAdvice.before(RestBindingAdvice.java:51) ~[camel-core-processor-3.11.2.jar:3.11.2]\n    at org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:340) ~[camel-base-engine-3.11.2.jar:3.11.2]\n    at org.apache.camel.impl.engine.DefaultAsyncProcessorAwaitManager.process(DefaultAsyncProcessorAwaitManager.java:83) ~[camel-base-engine-3.11.2.jar:3.11.2]\n    at org.apache.camel.support.AsyncProcessorSupport.process(AsyncProcessorSupport.java:41) ~[camel-support-3.11.2.jar:3.11.2]\n    at org.apache.camel.http.common.CamelServlet.doExecute(CamelServlet.java:319) ~[camel-http-common-3.11.2.jar:3.11.2]\n    at org.apache.camel.http.common.CamelServlet.doService(CamelServlet.java:214) ~[camel-http-common-3.11.2.jar:3.11.2]\n    at org.apache.camel.http.common.CamelServlet.service(CamelServlet.java:130) ~[camel-http-common-3.11.2.jar:3.11.2]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.34.jar:9.0.34]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\n    at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\n\nCaused by: java.lang.NoSuchMethodError: 'java.lang.Object com.fasterxml.jackson.databind.ObjectReader.readValue(java.io.InputStream, java.lang.Class)'\n    at org.apache.camel.component.jackson.AbstractJacksonDataFormat.unmarshal(AbstractJacksonDataFormat.java:185) ~[camel-jackson-3.11.2.jar:3.11.2]\n    at org.apache.camel.support.processor.UnmarshalProcessor.process(UnmarshalProcessor.java:64) ~[camel-support-3.11.2.jar:3.11.2]\n    ... 45 common frames omitted\n</code></pre>\n<p>I am using Java 11. Any suggestions? It seams like a libraries clash.</p>\n"},{"tags":["java","sql","json","postgresql"],"comments":[{"owner":{"account_id":9513375,"reputation":16512,"user_id":7070613,"display_name":"Adrian Klaver"},"score":1,"creation_date":1674492802,"post_id":75212398,"comment_id":132720702,"body_markdown":"1)  What is the data type for `USER_DATA` in the Postgres table? 2) What is the value of `UserData userData`?","body":"1)  What is the data type for <code>USER_DATA</code> in the Postgres table? 2) What is the value of <code>UserData userData</code>?"},{"owner":{"account_id":9513375,"reputation":16512,"user_id":7070613,"display_name":"Adrian Klaver"},"score":0,"creation_date":1674494192,"post_id":75212398,"comment_id":132721103,"body_markdown":"Yes, but what is the actual value for `userData.userData`?","body":"Yes, but what is the actual value for <code>userData.userData</code>?"},{"owner":{"account_id":19772987,"reputation":53,"user_id":14479613,"display_name":"Code Junkie"},"score":0,"creation_date":1674494913,"post_id":75212398,"comment_id":132721304,"body_markdown":"The data type for USER_DATA column is JSON and the userData.userData is:\n\n&quot;{&quot;user_id&quot;: &quot;12345&quot;, &quot;user_name&quot;: &quot;test_name&quot;, &quot;email&quot;: &quot;test@test.com&quot;}&quot;","body":"The data type for USER_DATA column is JSON and the userData.userData is:  &quot;{&quot;user_id&quot;: &quot;12345&quot;, &quot;user_name&quot;: &quot;test_name&quot;, &quot;email&quot;: &quot;test@test.com&quot;}&quot;"},{"owner":{"display_name":"user330315"},"score":1,"creation_date":1674498616,"post_id":75212398,"comment_id":132722395,"body_markdown":"The query is invalid to begin with. After the values keyword you need parentheses: `values (...)`. If you pass a String, try `values (cast(:userData as jsonb))`  if the column is defined as `jsonb` (which it should be) or `cast(... as json)` if the column is defined as `json`","body":"The query is invalid to begin with. After the values keyword you need parentheses: <code>values (...)</code>. If you pass a String, try <code>values (cast(:userData as jsonb))</code>  if the column is defined as <code>jsonb</code> (which it should be) or <code>cast(... as json)</code> if the column is defined as <code>json</code>"},{"owner":{"account_id":19772987,"reputation":53,"user_id":14479613,"display_name":"Code Junkie"},"score":0,"creation_date":1674501786,"post_id":75212398,"comment_id":132723371,"body_markdown":"This solution worked, thank you for your help! It was casting incorrectly. cast(:#{#userData.userData} as json) worked!","body":"This solution worked, thank you for your help! It was casting incorrectly. cast(:#{#userData.userData} as json) worked!"}],"owner":{"account_id":19772987,"reputation":53,"user_id":14479613,"display_name":"Code Junkie"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674491470,"creation_date":1674491470,"question_id":75212398,"body_markdown":"I have a service that processes user data. We are batch testing against PostgreSQL native query for performance, but are having trouble storing JSON values the way we anticipate. The JSON value is being passed to the native query, but the query is processing and storing the JSON data improperly. \r\n\r\nThe query is currently storing the JSON data into our PostgreSQL table as such:\r\n\r\n    &quot;{\\&quot;user_id\\&quot;:\\&quot;12345\\&quot;,\\&quot;user_name\\&quot;:\\&quot;test_name\\&quot;,\\&quot;email\\&quot;:\\&quot;test@test.com\\&quot;}&quot;\r\n\r\n\r\n\r\nThis is our native query:\r\n\r\n    @Transactional\r\n    @Modifying\r\n    @Query(value = &quot;INSERT INTO USER_DATA_TEST (USER_DATA) VALUES to_json(:#{#userData.userData})&quot;,\r\n            nativeQuery = true)\r\n    public void saveUserData(@Param(&quot;userData&quot;) UserData userData);\r\n\r\n\r\n\r\n\r\nWe would like our data to be stored properly in JSON format, such as:\r\n\r\n    {&quot;user_id&quot;: &quot;12345&quot;, &quot;user_name&quot;: &quot;test_name&quot;, &quot;email&quot;: &quot;test@test.com&quot;}\r\n\r\n","title":"PostgreSQL Native Query: JSON value not storing properly","body":"<p>I have a service that processes user data. We are batch testing against PostgreSQL native query for performance, but are having trouble storing JSON values the way we anticipate. The JSON value is being passed to the native query, but the query is processing and storing the JSON data improperly.</p>\n<p>The query is currently storing the JSON data into our PostgreSQL table as such:</p>\n<pre><code>&quot;{\\&quot;user_id\\&quot;:\\&quot;12345\\&quot;,\\&quot;user_name\\&quot;:\\&quot;test_name\\&quot;,\\&quot;email\\&quot;:\\&quot;test@test.com\\&quot;}&quot;\n</code></pre>\n<p>This is our native query:</p>\n<pre><code>@Transactional\n@Modifying\n@Query(value = &quot;INSERT INTO USER_DATA_TEST (USER_DATA) VALUES to_json(:#{#userData.userData})&quot;,\n        nativeQuery = true)\npublic void saveUserData(@Param(&quot;userData&quot;) UserData userData);\n</code></pre>\n<p>We would like our data to be stored properly in JSON format, such as:</p>\n<pre><code>{&quot;user_id&quot;: &quot;12345&quot;, &quot;user_name&quot;: &quot;test_name&quot;, &quot;email&quot;: &quot;test@test.com&quot;}\n</code></pre>\n"},{"tags":["java","sockets","objectinputstream"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1674499184,"post_id":75212391,"comment_id":132722549,"body_markdown":"Java serialization is bad. Even the Oracle architects hate it. It&#39;s unsafe, and as you&#39;ve noticed not very good when it comes to adding fields. It&#39;s better to use a completely different format, like JSON, XML or protobuf. You&#39;ll have to put in some more effort to get your polymorphism to work though.","body":"Java serialization is bad. Even the Oracle architects hate it. It&#39;s unsafe, and as you&#39;ve noticed not very good when it comes to adding fields. It&#39;s better to use a completely different format, like JSON, XML or protobuf. You&#39;ll have to put in some more effort to get your polymorphism to work though."}],"owner":{"account_id":17166208,"reputation":75,"user_id":12479599,"display_name":"Bocho"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674491427,"creation_date":1674491427,"question_id":75212391,"body_markdown":"I have a socket communication between clients and a server. I design the server side in order to create a new thread every time a client connects to the server. The problem is that, sometimes, ObjectInputStream throws StreamCorruptedException when I try to read and object.\r\n\r\nThe involved classes implement serializable, and have correct serialVersionUIDs. Also, I used synchronized to avoid problems of synchronization. I tried to flush the objectOutputStream every time I write and object. The problem persist, so it is possible to send objects via a socket communication without use ObjectOutputStream? Send a byte array directly or something like this?\r\n\r\nI let some code in case someone sees something I&#39;m doing wrong.\r\n\r\nserver side\r\n\r\n    public class ClientHandler implements Runnable {\r\n\r\n\tpublic static ArrayList&lt;ClientHandler&gt; clientsHandlers = new ArrayList&lt;&gt;();\r\n\tprivate Socket socket;\r\n\tprivate Server server;\r\n\tprivate Usuario usuario;\r\n\tprivate ObjectInputStream objectInputStream;\r\n\tprivate ObjectOutputStream objectOutputStream;\r\n\r\n\tpublic ClientHandler(Socket socket, Server server) {\r\n\r\n\t\ttry {\r\n\t\t\tthis.socket = socket;\r\n\t\t\tthis.server = server;\r\n\t\t\tobjectInputStream = new ObjectInputStream(socket.getInputStream());\r\n\t\t\tobjectOutputStream = new ObjectOutputStream(socket.getOutputStream());\r\n\t\t\tclientsHandlers.add(this);\r\n\t\t} catch (Exception e) {\r\n\t\t\t// TODO: handle exception\r\n\t\t\tdisconnect();\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\twhile (!socket.isClosed() &amp;&amp; socket.isConnected()) {\r\n\t\t\ttry {\r\n\t\t\t\tsynchronized (objectInputStream) {\r\n\t\t\t\t\tObject object = objectInputStream.readObject();  // &lt;---PROBLEM\r\n\t\t\t\t\tif (object instanceof AccionOnline) {\r\n\t\t\t\t\t\tswitch (((AccionOnline) object).getTipoAccionOnline()) {\r\n\t\t\t\t\t\tcase DESCONECTAR:\r\n\t\t\t\t\t\t\tdisconnect();\r\n\t\t\t\t\t\t\tif (server.numConnection == 0) {\r\n\t\t\t\t\t\t\t\tserver.closeServerSocket();\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tsendObject(object);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase INICIARPARTIDA:\r\n\t\t\t\t\t\tcase DODECAEDRO:\r\n\t\t\t\t\t\tcase SIGUIENTE:\r\n\t\t\t\t\t\tcase DADO:\r\n\t\t\t\t\t\tcase ITEMDADO:\r\n\t\t\t\t\t\tcase RULETA:\r\n\t\t\t\t\t\tcase TEST:\r\n\t\t\t\t\t\tcase DRAWSTART:\r\n\t\t\t\t\t\tcase DRAW:\r\n\t\t\t\t\t\tcase DRAWUP:\r\n\t\t\t\t\t\t\tsendObject(object);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (object instanceof Usuario) {\r\n\t\t\t\t\t\tthis.usuario = (Usuario) object;\r\n\t\t\t\t\t\tfor (ClientHandler clientHandler : clientsHandlers) {\r\n\t\t\t\t\t\t\tif (!clientHandler.equals(this)) {\r\n\t\t\t\t\t\t\t\tthis.objectOutputStream.writeObject(clientHandler.usuario);\r\n\t\t\t\t\t\t\t\tthis.objectOutputStream.flush();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsendObject(object);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} catch (Exception e) { // TODO: handle exception closeAll(socket, bufferedReader,\r\n\t\t\t\tdisconnect();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tpublic &lt;T&gt; void sendObject(T object) {\r\n\t\tfor (ClientHandler clientHandler : clientsHandlers) {\r\n\t\t\ttry {\r\n\t\t\t\tclientHandler.objectOutputStream.writeObject(object);\r\n\t\t\t\tclientHandler.objectOutputStream.flush();\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\t// TODO: handle exception\r\n\t\t\t\tdisconnect();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void disconnect() {\r\n\t\tSystem.out.println(&quot;cerrar conexion&quot;);\r\n\t\tclientsHandlers.remove(this);\r\n\t\ttry {\r\n\t\t\tif (objectInputStream != null) {\r\n\t\t\t\tobjectInputStream.close();\r\n\t\t\t}\r\n\t\t\tif (objectOutputStream != null) {\r\n\t\t\t\tobjectOutputStream.close();\r\n\t\t\t}\r\n\t\t\tif (socket != null) {\r\n\t\t\t\tsocket.close();\r\n\t\t\t}\r\n\t\t\tserver.numConnection--;\r\n\t\t} catch (Exception e) {\r\n\t\t\t// TODO: handle exception\r\n\t\t}\r\n\t}\r\n}\r\n\r\nclient side\r\n\r\n    public class Client {\r\n\r\n    private Socket socket;\r\n    private ObjectOutputStream objectOutputStream;\r\n    private ObjectInputStream objectInputStream;\r\n    private ArrayList&lt;GetObject&gt; listeners = new ArrayList&lt;&gt;();\r\n\r\n    public Client(Socket socket, GetObject listener) {\r\n        listeners.add(listener);\r\n        try {\r\n            this.socket = socket;\r\n            this.objectOutputStream = new ObjectOutputStream(socket.getOutputStream());\r\n            this.objectInputStream = new ObjectInputStream(socket.getInputStream());\r\n\r\n        } catch (Exception e) {\r\n            // TODO: handle exception\r\n            closeAll();\r\n        }\r\n    }\r\n\r\n    public void addListener(GetObject listener) {\r\n        listeners.add(listener);\r\n    }\r\n\r\n    public void removeListener(GetObject listener) {\r\n        listeners.remove(listener);\r\n    }\r\n\r\n    public &lt;T&gt; void sendObject(T object) {\r\n        Thread thread = new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    objectOutputStream.writeObject(object);\r\n                } catch (Exception e) {\r\n                    closeAll();\r\n                }\r\n            }\r\n        });\r\n        thread.start();\r\n    }\r\n\r\n    public void listenServer() {\r\n        new Thread(new Runnable() {\r\n\r\n            @Override\r\n            public void run() {\r\n                // TODO Auto-generated method stub\r\n                while (socket.isConnected()) {\r\n                    try {\r\n                        Object o = objectInputStream.readObject();\r\n                        for (GetObject listener : listeners) {\r\n                            listener.getObject(o);\r\n                        }\r\n                    } catch (Exception e) {\r\n                        // TODO: handle exception\r\n                        closeAll();\r\n                    }\r\n                }\r\n\r\n            }\r\n        }).start();\r\n    }\r\n\r\n    public void closeAll() {\r\n        try {\r\n            if (objectInputStream != null) {\r\n                objectInputStream.close();\r\n            }\r\n            if (objectOutputStream != null) {\r\n                objectOutputStream.close();\r\n            }\r\n            if (socket != null) {\r\n                socket.close();\r\n            }\r\n        } catch (Exception e) {\r\n            // TODO: handle exception\r\n        }\r\n    }\r\n}","title":"Send objects via java sockets without ObjectOutputStream","body":"<p>I have a socket communication between clients and a server. I design the server side in order to create a new thread every time a client connects to the server. The problem is that, sometimes, ObjectInputStream throws StreamCorruptedException when I try to read and object.</p>\n<p>The involved classes implement serializable, and have correct serialVersionUIDs. Also, I used synchronized to avoid problems of synchronization. I tried to flush the objectOutputStream every time I write and object. The problem persist, so it is possible to send objects via a socket communication without use ObjectOutputStream? Send a byte array directly or something like this?</p>\n<p>I let some code in case someone sees something I'm doing wrong.</p>\n<p>server side</p>\n<pre><code>public class ClientHandler implements Runnable {\n\npublic static ArrayList&lt;ClientHandler&gt; clientsHandlers = new ArrayList&lt;&gt;();\nprivate Socket socket;\nprivate Server server;\nprivate Usuario usuario;\nprivate ObjectInputStream objectInputStream;\nprivate ObjectOutputStream objectOutputStream;\n\npublic ClientHandler(Socket socket, Server server) {\n\n    try {\n        this.socket = socket;\n        this.server = server;\n        objectInputStream = new ObjectInputStream(socket.getInputStream());\n        objectOutputStream = new ObjectOutputStream(socket.getOutputStream());\n        clientsHandlers.add(this);\n    } catch (Exception e) {\n        // TODO: handle exception\n        disconnect();\n    }\n\n}\n\n@Override\npublic void run() {\n    // TODO Auto-generated method stub\n    while (!socket.isClosed() &amp;&amp; socket.isConnected()) {\n        try {\n            synchronized (objectInputStream) {\n                Object object = objectInputStream.readObject();  // &lt;---PROBLEM\n                if (object instanceof AccionOnline) {\n                    switch (((AccionOnline) object).getTipoAccionOnline()) {\n                    case DESCONECTAR:\n                        disconnect();\n                        if (server.numConnection == 0) {\n                            server.closeServerSocket();\n                        } else {\n                            sendObject(object);\n                        }\n                        break;\n                    case INICIARPARTIDA:\n                    case DODECAEDRO:\n                    case SIGUIENTE:\n                    case DADO:\n                    case ITEMDADO:\n                    case RULETA:\n                    case TEST:\n                    case DRAWSTART:\n                    case DRAW:\n                    case DRAWUP:\n                        sendObject(object);\n                        break;\n                    }\n                }\n                if (object instanceof Usuario) {\n                    this.usuario = (Usuario) object;\n                    for (ClientHandler clientHandler : clientsHandlers) {\n                        if (!clientHandler.equals(this)) {\n                            this.objectOutputStream.writeObject(clientHandler.usuario);\n                            this.objectOutputStream.flush();\n                        }\n                    }\n                    sendObject(object);\n                }\n            }\n        } catch (Exception e) { // TODO: handle exception closeAll(socket, bufferedReader,\n            disconnect();\n        }\n    }\n\n}\n\npublic &lt;T&gt; void sendObject(T object) {\n    for (ClientHandler clientHandler : clientsHandlers) {\n        try {\n            clientHandler.objectOutputStream.writeObject(object);\n            clientHandler.objectOutputStream.flush();\n        } catch (Exception e) {\n            // TODO: handle exception\n            disconnect();\n        }\n    }\n}\n\npublic void disconnect() {\n    System.out.println(&quot;cerrar conexion&quot;);\n    clientsHandlers.remove(this);\n    try {\n        if (objectInputStream != null) {\n            objectInputStream.close();\n        }\n        if (objectOutputStream != null) {\n            objectOutputStream.close();\n        }\n        if (socket != null) {\n            socket.close();\n        }\n        server.numConnection--;\n    } catch (Exception e) {\n        // TODO: handle exception\n    }\n}\n</code></pre>\n<p>}</p>\n<p>client side</p>\n<pre><code>public class Client {\n\nprivate Socket socket;\nprivate ObjectOutputStream objectOutputStream;\nprivate ObjectInputStream objectInputStream;\nprivate ArrayList&lt;GetObject&gt; listeners = new ArrayList&lt;&gt;();\n\npublic Client(Socket socket, GetObject listener) {\n    listeners.add(listener);\n    try {\n        this.socket = socket;\n        this.objectOutputStream = new ObjectOutputStream(socket.getOutputStream());\n        this.objectInputStream = new ObjectInputStream(socket.getInputStream());\n\n    } catch (Exception e) {\n        // TODO: handle exception\n        closeAll();\n    }\n}\n\npublic void addListener(GetObject listener) {\n    listeners.add(listener);\n}\n\npublic void removeListener(GetObject listener) {\n    listeners.remove(listener);\n}\n\npublic &lt;T&gt; void sendObject(T object) {\n    Thread thread = new Thread(new Runnable() {\n        @Override\n        public void run() {\n            try {\n                objectOutputStream.writeObject(object);\n            } catch (Exception e) {\n                closeAll();\n            }\n        }\n    });\n    thread.start();\n}\n\npublic void listenServer() {\n    new Thread(new Runnable() {\n\n        @Override\n        public void run() {\n            // TODO Auto-generated method stub\n            while (socket.isConnected()) {\n                try {\n                    Object o = objectInputStream.readObject();\n                    for (GetObject listener : listeners) {\n                        listener.getObject(o);\n                    }\n                } catch (Exception e) {\n                    // TODO: handle exception\n                    closeAll();\n                }\n            }\n\n        }\n    }).start();\n}\n\npublic void closeAll() {\n    try {\n        if (objectInputStream != null) {\n            objectInputStream.close();\n        }\n        if (objectOutputStream != null) {\n            objectOutputStream.close();\n        }\n        if (socket != null) {\n            socket.close();\n        }\n    } catch (Exception e) {\n        // TODO: handle exception\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","jakarta-mail","imap","gmail-imap"],"comments":[{"owner":{"account_id":1041234,"reputation":1441,"user_id":1047226,"accept_rate":70,"display_name":"hell_storm2004"},"score":0,"creation_date":1674488442,"post_id":75211412,"comment_id":132719236,"body_markdown":"These errors are mostly related to jar versions being old or mismatched. Try with newer version of `mail` and `jsoup` and see what you get.","body":"These errors are mostly related to jar versions being old or mismatched. Try with newer version of <code>mail</code> and <code>jsoup</code> and see what you get."},{"owner":{"account_id":19200660,"reputation":19,"user_id":14028685,"display_name":"bitwiseBro"},"score":0,"creation_date":1674814531,"post_id":75211412,"comment_id":132797798,"body_markdown":"@hell_storm2004 thanks for reply. I&#39;ve tried with latest dependencies, but no luck","body":"@hell_storm2004 thanks for reply. I&#39;ve tried with latest dependencies, but no luck"}],"owner":{"account_id":19200660,"reputation":19,"user_id":14028685,"display_name":"bitwiseBro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674491134,"creation_date":1674486758,"question_id":75211412,"body_markdown":"So I&#39;m automating gmail using JavaMail for Office Framework. When I tried it in my personal project it worked. But it doesn&#39;t work when used in Framework.\r\n\r\nMy noob code looks like this:\r\n\r\n```\r\n     public class EmailUtils {\r\n\t    Properties props = new Properties();\r\n\t    Session session;\r\n\t    Folder inbox;\r\n\t    Store store;\r\n\t    private String imapProtocol = &quot;imap&quot;;\r\n\t    private String imapHost = &quot;imap.gmail.com&quot;;\r\n\r\n\t    private void connect(String email, String appPassword) throws MessagingException {\r\n\t\t    try {\r\n\t\t\t setProperties_IMAP();\r\n\t\t\t session = Session.getDefaultInstance(props, null);\r\n\t                 store = session.getStore(imapProtocol);\r\n\t\t\t store.connect(imapHost, email, appPassword);\r\n\t\t\t session.setDebug(true);\r\n\t\t\t inbox = store.getFolder(&quot;INBOX&quot;);\r\n\t\t\t inbox.open(Folder.READ_ONLY);\r\n\t\t    } catch (Exception e) {\r\n\t\t\t e.printStackTrace();\r\n\t\t\t Reporter.fail(&quot;Email Utility Initilisation Failed&quot;);\r\n\t\t\t GenericMethods.printStacktrace(e);\r\n\t\t    }\r\n\t    }\r\n\r\n\t    private void setProperties_IMAP() {\r\n\t\t    props.setProperty(&quot;mail.imap.ssl.enable&quot;, &quot;true&quot;);\r\n\t\t    props.put(&quot;mail.store.protocol&quot;,&quot;imap&quot;);\r\n\t\t    props.put(&quot;mail.imaps.ssl.protocols&quot;, &quot;TLSv1.1&quot;);\r\n\t    }\r\n\r\n\t    public void search(String email, String appPassword) {\r\n\t\t    try {\r\n\t\t\t connect(email, appPassword);\r\n\t\t\t SearchTerm sender = newFromTerm(new InternetAddress(&quot;example@gmail.com&quot;));\r\n\r\n\t\t\t Message[] messages = inbox.search(sender);\r\n\t\t\t for (int i = 0; i &lt; messages.length; i++) {\r\n\t\t\t\t  Message message = messages[i];\r\n\t\t\t\t  System.out.println(&quot;-----------------------&quot;);\r\n\t\t\t\t  getTextFromMessage(message);\r\n\t\t\t\t  some_code();\r\n\t\t\t\t  System.out.println(&quot;-----------------------&quot;);\r\n\t\t\t  }\r\n\t\t\t  System.out.println(&quot;no more messages&quot;);\r\n\t\t\t  store.close();\r\n\t\t  } catch (Exception e) {\r\n\t\t\t  GenericMethods.printStacktrace(e);\r\n\t\t  }\r\n\t  }\r\n```\r\n\r\n\r\nError I get is:\r\n\r\n&gt; java.lang.NoSuchMethodError: com.sun.mail.util.TraceInputStream.\\&lt;init\\&gt;(Ljava/io/InputStream;Lcom/sun/mail/util/MailLogger;)V\r\n&gt; at com.sun.mail.iap.Protocol.initStreams(Protocol.java:148)\r\n&gt; at com.sun.mail.iap.Protocol.\\&lt;init\\&gt;(Protocol.java:127)\r\n&gt; at com.sun.mail.imap.protocol.IMAPProtocol.\\&lt;init\\&gt;(IMAPProtocol.java:126)\r\n&gt; at com.sun.mail.imap.IMAPStore.newIMAPProtocol(IMAPStore.java:756)\r\n&gt; at com.sun.mail.imap.IMAPStore.protocolConnect(IMAPStore.java:691)\r\n&gt; at javax.mail.Service.connect(Service.java:291)\r\n&gt; at javax.mail.Service.connect(Service.java:172)\r\n&gt; at utils.EmailUtils.connect(EmailUtils.java:45)\r\n&gt; at utils.EmailUtils.search(EmailUtils.java:78)\r\n&gt; at pageObjects.pages.EmailContentVerificationPage.verifyEmailContent(EmailContentVerificationPage.java:129)\r\n&gt; at shoppe.tests.EmailContentVerification.emailVerification(EmailContentVerification.java:18)\r\n&gt; at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n&gt; at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n&gt; at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n&gt; at java.lang.reflect.Method.invoke(Unknown Source)\r\n&gt; at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\r\n&gt; at org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:598)\r\n&gt; at org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:173)\r\n&gt; at org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)\r\n&gt; at org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:824)\r\n&gt; at org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:146)\r\n&gt; at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\r\n&gt; at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\r\n&gt; at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n&gt; at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n&gt; at java.lang.Thread.run(Unknown Source)\r\n\r\nWhen I used the code in Framework I got: javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate\r\n\r\nI was able to resolve it By modifying java.security file, thanks to stack overflow. but immediately after that I got above said error.\r\n\r\nMy environment is:\r\n\r\nJDK 1.8, Windows 10 pro\r\n\r\nMaven dependencies:\r\n\r\n```\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.4.7&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.jsoup&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jsoup&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.13.1&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n```\r\n\r\nPls Help. Also Code critics are most welcome","title":"Issues with Javamail with Gmail: java.lang.NoSuchMethodError: com.sun.mail.util.TraceInputStream","body":"<p>So I'm automating gmail using JavaMail for Office Framework. When I tried it in my personal project it worked. But it doesn't work when used in Framework.</p>\n<p>My noob code looks like this:</p>\n<pre><code>     public class EmailUtils {\n        Properties props = new Properties();\n        Session session;\n        Folder inbox;\n        Store store;\n        private String imapProtocol = &quot;imap&quot;;\n        private String imapHost = &quot;imap.gmail.com&quot;;\n\n        private void connect(String email, String appPassword) throws MessagingException {\n            try {\n             setProperties_IMAP();\n             session = Session.getDefaultInstance(props, null);\n                     store = session.getStore(imapProtocol);\n             store.connect(imapHost, email, appPassword);\n             session.setDebug(true);\n             inbox = store.getFolder(&quot;INBOX&quot;);\n             inbox.open(Folder.READ_ONLY);\n            } catch (Exception e) {\n             e.printStackTrace();\n             Reporter.fail(&quot;Email Utility Initilisation Failed&quot;);\n             GenericMethods.printStacktrace(e);\n            }\n        }\n\n        private void setProperties_IMAP() {\n            props.setProperty(&quot;mail.imap.ssl.enable&quot;, &quot;true&quot;);\n            props.put(&quot;mail.store.protocol&quot;,&quot;imap&quot;);\n            props.put(&quot;mail.imaps.ssl.protocols&quot;, &quot;TLSv1.1&quot;);\n        }\n\n        public void search(String email, String appPassword) {\n            try {\n             connect(email, appPassword);\n             SearchTerm sender = newFromTerm(new InternetAddress(&quot;example@gmail.com&quot;));\n\n             Message[] messages = inbox.search(sender);\n             for (int i = 0; i &lt; messages.length; i++) {\n                  Message message = messages[i];\n                  System.out.println(&quot;-----------------------&quot;);\n                  getTextFromMessage(message);\n                  some_code();\n                  System.out.println(&quot;-----------------------&quot;);\n              }\n              System.out.println(&quot;no more messages&quot;);\n              store.close();\n          } catch (Exception e) {\n              GenericMethods.printStacktrace(e);\n          }\n      }\n</code></pre>\n<p>Error I get is:</p>\n<blockquote>\n<p>java.lang.NoSuchMethodError: com.sun.mail.util.TraceInputStream.&lt;init&gt;(Ljava/io/InputStream;Lcom/sun/mail/util/MailLogger;)V\nat com.sun.mail.iap.Protocol.initStreams(Protocol.java:148)\nat com.sun.mail.iap.Protocol.&lt;init&gt;(Protocol.java:127)\nat com.sun.mail.imap.protocol.IMAPProtocol.&lt;init&gt;(IMAPProtocol.java:126)\nat com.sun.mail.imap.IMAPStore.newIMAPProtocol(IMAPStore.java:756)\nat com.sun.mail.imap.IMAPStore.protocolConnect(IMAPStore.java:691)\nat javax.mail.Service.connect(Service.java:291)\nat javax.mail.Service.connect(Service.java:172)\nat utils.EmailUtils.connect(EmailUtils.java:45)\nat utils.EmailUtils.search(EmailUtils.java:78)\nat pageObjects.pages.EmailContentVerificationPage.verifyEmailContent(EmailContentVerificationPage.java:129)\nat shoppe.tests.EmailContentVerification.emailVerification(EmailContentVerification.java:18)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\nat java.lang.reflect.Method.invoke(Unknown Source)\nat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\nat org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:598)\nat org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:173)\nat org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)\nat org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:824)\nat org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:146)\nat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\nat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\nat java.lang.Thread.run(Unknown Source)</p>\n</blockquote>\n<p>When I used the code in Framework I got: javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate</p>\n<p>I was able to resolve it By modifying java.security file, thanks to stack overflow. but immediately after that I got above said error.</p>\n<p>My environment is:</p>\n<p>JDK 1.8, Windows 10 pro</p>\n<p>Maven dependencies:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;mail&lt;/artifactId&gt;\n            &lt;version&gt;1.4.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\n            &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\n            &lt;version&gt;1.13.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Pls Help. Also Code critics are most welcome</p>\n"},{"tags":["java","json","apache-commons-configuration"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1674496532,"post_id":75212311,"comment_id":132721807,"body_markdown":"If you want to have a single `CombinedConfiguration` using a standard properties file and also a JSON file, then I don&#39;t think that is supported. You _can_ do this with an XML file, using `&lt;xml fileName=&quot;whatever.xml&quot;/&gt;` - see the examples [here](https://commons.apache.org/proper/commons-configuration/userguide/howto_combinedbuilder.html). But there is nothing like `&lt;json fileName=.../&gt;`. Maybe there is another way - if so that would get my vote.","body":"If you want to have a single <code>CombinedConfiguration</code> using a standard properties file and also a JSON file, then I don&#39;t think that is supported. You <i>can</i> do this with an XML file, using <code>&lt;xml fileName=&quot;whatever.xml&quot;&#47;&gt;</code> - see the examples <a href=\"https://commons.apache.org/proper/commons-configuration/userguide/howto_combinedbuilder.html\" rel=\"nofollow noreferrer\">here</a>. But there is nothing like <code>&lt;json fileName=...&#47;&gt;</code>. Maybe there is another way - if so that would get my vote."},{"owner":{"account_id":318541,"reputation":758,"user_id":635831,"accept_rate":47,"display_name":"Adrian Herscu"},"score":0,"creation_date":1674539139,"post_id":75212311,"comment_id":132729852,"body_markdown":"Yes, I want to have a single CombinedConfiguration referencing multiple property files with different formats.","body":"Yes, I want to have a single CombinedConfiguration referencing multiple property files with different formats."}],"owner":{"account_id":318541,"reputation":758,"user_id":635831,"accept_rate":47,"display_name":"Adrian Herscu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1674491072,"creation_date":1674491072,"question_id":75212311,"body_markdown":"I am trying to enable usage of JSON for configuration properties.\r\nUpgraded to Commons Configuration2 (2.8) hoping that this will work out-of-the box.\r\nI am initializing like this:\r\n\r\n```java\r\nnew CombinedConfigurationBuilder()\r\n            .configure(new Parameters()\r\n                .fileBased()\r\n                .setFileName(CONFIGURATION_SOURCES)\r\n                .setEncoding(UTF_8.toString()))\r\n            .getConfiguration();\r\n```\r\n\r\nThis is my `CONFIGURATION_SOURCES` file:\r\n```xml\r\n&lt;configuration&gt;\r\n  &lt;properties fileName=&quot;this-works.properties&quot; /&gt;\r\n  &lt;properties fileName=&quot;this-does-not-work.json&quot; /&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nMy JSON properties file (which does not get loaded):\r\n```json\r\n{\r\n  &quot;foo&quot;: &quot;bar&quot;\r\n}\r\n```\r\n\r\nWhen testing it with\r\n```java\r\n    @Test\r\n    public void shouldLoadPropertiesFromJson() {\r\n        assertThat(configuration.getString(&quot;foo&quot;), is(&quot;bar&quot;));\r\n    }\r\n```\r\nfails because `foo` is `null` instead of `bar` :(\r\n\r\nAny suggestion(s)?\r\n\r\n","title":"using json files for properties with apache commons configuration2","body":"<p>I am trying to enable usage of JSON for configuration properties.\nUpgraded to Commons Configuration2 (2.8) hoping that this will work out-of-the box.\nI am initializing like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new CombinedConfigurationBuilder()\n            .configure(new Parameters()\n                .fileBased()\n                .setFileName(CONFIGURATION_SOURCES)\n                .setEncoding(UTF_8.toString()))\n            .getConfiguration();\n</code></pre>\n<p>This is my <code>CONFIGURATION_SOURCES</code> file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n  &lt;properties fileName=&quot;this-works.properties&quot; /&gt;\n  &lt;properties fileName=&quot;this-does-not-work.json&quot; /&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>My JSON properties file (which does not get loaded):</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;foo&quot;: &quot;bar&quot;\n}\n</code></pre>\n<p>When testing it with</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    public void shouldLoadPropertiesFromJson() {\n        assertThat(configuration.getString(&quot;foo&quot;), is(&quot;bar&quot;));\n    }\n</code></pre>\n<p>fails because <code>foo</code> is <code>null</code> instead of <code>bar</code> :(</p>\n<p>Any suggestion(s)?</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1674378261,"post_id":75199159,"comment_id":132698428,"body_markdown":"Create a class to encapsulate that data. Create an empty list before the while loop. Inside the while loop, create a new instance of your data class with the data taken from the result set; add that object to your list. After the loop, you now have a list of objects.","body":"Create a class to encapsulate that data. Create an empty list before the while loop. Inside the while loop, create a new instance of your data class with the data taken from the result set; add that object to your list. After the loop, you now have a list of objects."}],"answers":[{"tags":[],"owner":{"account_id":5441459,"reputation":127,"user_id":4329439,"display_name":"Timor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674490971,"creation_date":1674421716,"answer_id":75203932,"question_id":75199159,"body_markdown":"As [Slaw](https://stackoverflow.com/users/6395627/slaw) already pointed out, create a class that is able to store one row from the database, iterate over the result set and add a new instance to a list for each row read. Close the connection, iterate over your list and dump the objects to standard output. \r\n\r\nAssuming you are using Java 14 or higher, it would be even easier to create a `record` for that (basically a class with only final fields and getters and an all arguments constructor, that the compiler generates for you). The following code is based on yours with minimal changes to adopt the idea outlined in the first paragraph.\r\n\r\n```java\r\nimport java.sql.*;\r\nimport java.util.LinkedList;\r\nimport java.util.List;\r\n\r\npublic class JDCB {\r\n  record Student(String name, int contact, int age) {\r\n    // might want to override toString() to make it prettier on console\r\n  }\r\n\r\n  public static void main(String[] args) throws Exception {\r\n    Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\r\n    Connection con= DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/mydatabase&quot;,&quot;root&quot;,&quot;root&quot;);\r\n    Statement st = con.createStatement();\r\n    ResultSet rs = st.executeQuery(&quot;select * from student&quot;);\r\n\r\n    final List&lt;Student&gt; students = new LinkedList&lt;&gt;(); // better suited for adding elements one by one than ArrayList&lt;&gt;\r\n\r\n    while(rs.next()) {\r\n      students.add(new Student(\r\n          rs.getString(&quot;name&quot;),\r\n          rs.getInt(&quot;contact&quot;),\r\n          rs.getInt(&quot;age&quot;)\r\n      ));\r\n    }\r\n\r\n    st.close();\r\n    con.close();\r\n\r\n    students.forEach(System.out::println);\r\n  }\r\n}\r\n```","title":"How to get all users from a table into an array or list and print it","body":"<p>As <a href=\"https://stackoverflow.com/users/6395627/slaw\">Slaw</a> already pointed out, create a class that is able to store one row from the database, iterate over the result set and add a new instance to a list for each row read. Close the connection, iterate over your list and dump the objects to standard output.</p>\n<p>Assuming you are using Java 14 or higher, it would be even easier to create a <code>record</code> for that (basically a class with only final fields and getters and an all arguments constructor, that the compiler generates for you). The following code is based on yours with minimal changes to adopt the idea outlined in the first paragraph.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.sql.*;\nimport java.util.LinkedList;\nimport java.util.List;\n\npublic class JDCB {\n  record Student(String name, int contact, int age) {\n    // might want to override toString() to make it prettier on console\n  }\n\n  public static void main(String[] args) throws Exception {\n    Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n\n    Connection con= DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/mydatabase&quot;,&quot;root&quot;,&quot;root&quot;);\n    Statement st = con.createStatement();\n    ResultSet rs = st.executeQuery(&quot;select * from student&quot;);\n\n    final List&lt;Student&gt; students = new LinkedList&lt;&gt;(); // better suited for adding elements one by one than ArrayList&lt;&gt;\n\n    while(rs.next()) {\n      students.add(new Student(\n          rs.getString(&quot;name&quot;),\n          rs.getInt(&quot;contact&quot;),\n          rs.getInt(&quot;age&quot;)\n      ));\n    }\n\n    st.close();\n    con.close();\n\n    students.forEach(System.out::println);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":23855851,"reputation":1,"user_id":17859343,"display_name":"Ahmed Yusuf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674490971,"creation_date":1674377288,"question_id":75199159,"body_markdown":"I have to create an application using Java and JDBC in Eclipse IDE which stores user details in a MySQL database and is able to perform operations like insert, delete, display, etc.\r\n\r\nI know how to display all user details without putting it in an ArrayList like below: \r\n\r\n```lang-java\r\nimport java.sql.*;\r\n\r\npublic class JDBC {\r\n\t\r\n\tpublic static void main(String[] args) throws Exception {\r\n    \tClass.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n    \tConnection con= DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/mydatabase&quot;,&quot;root&quot;,&quot;root&quot;);\r\n    \tStatement st = con.createStatement();\r\n    \tResultSet rs = st.executeQuery(&quot;select * from student&quot;);\r\n    \t\r\n    \twhile(rs.next())\r\n    \t{\r\n        \tString name1 = rs.getString(&quot;name&quot;);\r\n        \tint contact1 = rs.getInt(&quot;contact&quot;);\r\n        \tint age1 = rs.getInt(&quot;age&quot;);\r\n        \t\r\n        \tSystem.out.println(name1 + &quot; &quot; + contact1 + &quot; &quot; + age1);\r\n    \t}\r\n    \t\r\n    \tst.close();\r\n    \tcon.close();\r\n\t}\r\n}\r\n```\r\n\r\nHowever, I am required to display user details after putting it in an array or ArrayList. I don&#39;t know how to put it in an array or ArrayList and then print it.\r\n\r\n\r\n\r\n","title":"How to get all users from a table into an array or list and print it","body":"<p>I have to create an application using Java and JDBC in Eclipse IDE which stores user details in a MySQL database and is able to perform operations like insert, delete, display, etc.</p>\n<p>I know how to display all user details without putting it in an ArrayList like below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.sql.*;\n\npublic class JDBC {\n    \n    public static void main(String[] args) throws Exception {\n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n        Connection con= DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/mydatabase&quot;,&quot;root&quot;,&quot;root&quot;);\n        Statement st = con.createStatement();\n        ResultSet rs = st.executeQuery(&quot;select * from student&quot;);\n        \n        while(rs.next())\n        {\n            String name1 = rs.getString(&quot;name&quot;);\n            int contact1 = rs.getInt(&quot;contact&quot;);\n            int age1 = rs.getInt(&quot;age&quot;);\n            \n            System.out.println(name1 + &quot; &quot; + contact1 + &quot; &quot; + age1);\n        }\n        \n        st.close();\n        con.close();\n    }\n}\n</code></pre>\n<p>However, I am required to display user details after putting it in an array or ArrayList. I don't know how to put it in an array or ArrayList and then print it.</p>\n"},{"tags":["java","spring","hibernate","jpa","spring-roo"],"comments":[{"owner":{"account_id":160350,"reputation":11421,"user_id":380338,"display_name":"Neil Stockton"},"score":0,"creation_date":1500109140,"post_id":14699087,"comment_id":77203896,"body_markdown":"You mean with HIBERNATE. Other JPA providers do NOT add in all unchanged fields into the UPDATE clause","body":"You mean with HIBERNATE. Other JPA providers do NOT add in all unchanged fields into the UPDATE clause"}],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1360044149,"creation_date":1360044149,"answer_id":14701129,"question_id":14699087,"body_markdown":"If your persistence provider is Hibernate, use the hibernate-specific annotation: [`@DynamicUpdate`][1] on the entity:\r\n\r\n&gt; For updating, should this entity use dynamic sql generation where only changed columns get referenced in the prepared sql statement?\r\n&gt; \r\n&gt; Note, for re-attachment of detached entities this is not possible without select-before-update being enabled.\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/orm/4.1/javadocs/org/hibernate/annotations/DynamicUpdate.html","title":"Is it possible to update only a subset of attributes on an entity using Spring MVC with JPA?","body":"<p>If your persistence provider is Hibernate, use the hibernate-specific annotation: <a href=\"http://docs.jboss.org/hibernate/orm/4.1/javadocs/org/hibernate/annotations/DynamicUpdate.html\" rel=\"nofollow\"><code>@DynamicUpdate</code></a> on the entity:</p>\n\n<blockquote>\n  <p>For updating, should this entity use dynamic sql generation where only changed columns get referenced in the prepared sql statement?</p>\n  \n  <p>Note, for re-attachment of detached entities this is not possible without select-before-update being enabled.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":101108,"reputation":13957,"user_id":272180,"accept_rate":62,"display_name":"yglodt"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1494488712,"creation_date":1360052571,"answer_id":14702971,"question_id":14699087,"body_markdown":"I usually solve this in the service layer.\r\n\r\nYou can read the entity you want to update from the DB, and overwrite the attributes which you are getting from your form.\r\n\r\nThis way you change only the attributes you want.\r\n\r\nCode example:\r\n\r\n\r\n    @Service\r\n    @Transactional\r\n    public class UserService {\r\n    \r\n    \t@Resource(name = &quot;sessionFactory&quot;)\r\n    \tprivate SessionFactory\tsessionFactory;\r\n    \r\n    \tpublic void mergeWithExistingAndUpdate(final Person personFromPost) {\r\n    \r\n    \t\tSession session = sessionFactory.getCurrentSession();\r\n    \r\n    \t\tPerson existingPerson = (Person) session.get(Person.class, personFromPost.getId());\r\n    \r\n    \t\t// set here explicitly what must/can be overwritten by the html form POST\r\n    \t\texistingPerson.setName(personFromPost.getName());\r\n    \t\texistingPerson.setEmail(personFromPost.getEmail());\r\n    \t\texistingPerson.setDateModified(new Date());\r\n    \t\texistingPerson.setUserModified(Utils.getCurrentUser());\r\n    \r\n    \t\tsession.update(existingPerson);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n**EDIT 1**\r\n\r\nThere is in fact a Spring-way to solve this issue, using `@SessionAttributes`, see this anwer:\r\n\r\nhttps://stackoverflow.com/a/3675919/272180\r\n\r\nI did not yet test it, but it looks promising.\r\n\r\n**EDIT 2**\r\n\r\nEventually I tested it and it works as expected.\r\n\r\nThere is one thing however which can make you shoot in your foot:\r\n\r\nIf you open several tabs with the same form, the opening of the last tab overwrites the `sessionAttribute` of the others, and, on submit, can potentially corrupt your data. There is a solution in this blog post: http://marty-java-dev.blogspot.com/2010/09/spring-3-session-level-model-attributes.html\r\n\r\nBut at the end, if you never open multiple tabs for editing, you will not have a problem anyway.\r\n","title":"Is it possible to update only a subset of attributes on an entity using Spring MVC with JPA?","body":"<p>I usually solve this in the service layer.</p>\n\n<p>You can read the entity you want to update from the DB, and overwrite the attributes which you are getting from your form.</p>\n\n<p>This way you change only the attributes you want.</p>\n\n<p>Code example:</p>\n\n<pre><code>@Service\n@Transactional\npublic class UserService {\n\n    @Resource(name = \"sessionFactory\")\n    private SessionFactory  sessionFactory;\n\n    public void mergeWithExistingAndUpdate(final Person personFromPost) {\n\n        Session session = sessionFactory.getCurrentSession();\n\n        Person existingPerson = (Person) session.get(Person.class, personFromPost.getId());\n\n        // set here explicitly what must/can be overwritten by the html form POST\n        existingPerson.setName(personFromPost.getName());\n        existingPerson.setEmail(personFromPost.getEmail());\n        existingPerson.setDateModified(new Date());\n        existingPerson.setUserModified(Utils.getCurrentUser());\n\n        session.update(existingPerson);\n    }\n\n}\n</code></pre>\n\n<p><strong>EDIT 1</strong></p>\n\n<p>There is in fact a Spring-way to solve this issue, using <code>@SessionAttributes</code>, see this anwer:</p>\n\n<p><a href=\"https://stackoverflow.com/a/3675919/272180\">https://stackoverflow.com/a/3675919/272180</a></p>\n\n<p>I did not yet test it, but it looks promising.</p>\n\n<p><strong>EDIT 2</strong></p>\n\n<p>Eventually I tested it and it works as expected.</p>\n\n<p>There is one thing however which can make you shoot in your foot:</p>\n\n<p>If you open several tabs with the same form, the opening of the last tab overwrites the <code>sessionAttribute</code> of the others, and, on submit, can potentially corrupt your data. There is a solution in this blog post: <a href=\"http://marty-java-dev.blogspot.com/2010/09/spring-3-session-level-model-attributes.html\" rel=\"noreferrer\">http://marty-java-dev.blogspot.com/2010/09/spring-3-session-level-model-attributes.html</a></p>\n\n<p>But at the end, if you never open multiple tabs for editing, you will not have a problem anyway.</p>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1610232514,"creation_date":1476170083,"answer_id":39972124,"question_id":14699087,"body_markdown":"If you never want to update a particular attribute, you can mark it with [`updatable=false`](https://vladmihalcea.com/how-to-update-only-a-subset-of-entity-attributes-using-jpa-and-hibernate/):\r\n\r\n    @Column(name=&quot;CREATED_ON&quot;, updatable=false)\r\n    private Date createdOn;\r\n\r\nOnce you load an entity and you modify it, as long as the current `Session` or `EntityManager` is open, Hibernate can track changes through the dirty checking mechanism. Then, during `flush`, an SQL UPDATE will be executed.\r\n\r\nIf you don&#39;t like that all columns are included in the `UPDATE` statement, you can use dynamic update:\r\n\r\n    @Entity\r\n    @DynamicUpdate\r\n    public class Product {\r\n       //code omitted for brevity\r\n    }\r\n\r\nThen, only the modified columns will be included in the `UPDATE` statement.","title":"Is it possible to update only a subset of attributes on an entity using Spring MVC with JPA?","body":"<p>If you never want to update a particular attribute, you can mark it with <a href=\"https://vladmihalcea.com/how-to-update-only-a-subset-of-entity-attributes-using-jpa-and-hibernate/\" rel=\"noreferrer\"><code>updatable=false</code></a>:</p>\n<pre><code>@Column(name=&quot;CREATED_ON&quot;, updatable=false)\nprivate Date createdOn;\n</code></pre>\n<p>Once you load an entity and you modify it, as long as the current <code>Session</code> or <code>EntityManager</code> is open, Hibernate can track changes through the dirty checking mechanism. Then, during <code>flush</code>, an SQL UPDATE will be executed.</p>\n<p>If you don't like that all columns are included in the <code>UPDATE</code> statement, you can use dynamic update:</p>\n<pre><code>@Entity\n@DynamicUpdate\npublic class Product {\n   //code omitted for brevity\n}\n</code></pre>\n<p>Then, only the modified columns will be included in the <code>UPDATE</code> statement.</p>\n"}],"owner":{"account_id":51768,"reputation":1485,"user_id":154703,"accept_rate":90,"display_name":"Eric Freese"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30870,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":14702971,"answer_count":3,"score":17,"last_activity_date":1674490930,"creation_date":1360030561,"question_id":14699087,"body_markdown":"I&#39;m working with Spring Roo, using Spring MVC and JPA for persistence with a MySQL database. I&#39;m very new to Spring MVC and Java in general but have worked with CakePHP and Rails.\r\n\r\nI have a `User` entity that contains personal details in addition to a password. Something like this (excluding a lot of Roo-generated functionality in additional .aj files):\r\n\r\n    public class User {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        @Column(name = &quot;ID&quot;)\r\n        private Long id;\r\n\r\n        @Column(name = &quot;PASSWORD&quot;, length = 32)\r\n        private String password;\r\n        \r\n        @Column(name = &quot;FIRST_NAME&quot;, length = 25)\r\n        private String firstName;\r\n            \r\n        @Column(name = &quot;LAST_NAME&quot;, length = 25)\r\n        private String lastName;\r\n        \r\n        @Column(name = &quot;ADDRESS&quot;, length = 255)\r\n        private String address;\r\n        \r\n        // The appropriate getters and setters\r\n        ...\r\n    }\r\n\r\nThen I have an edit action in my `User` controller that I created following conventions from Roo&#39;s auto-generated scaffolding:\r\n\r\n    @RequestMapping(value=&quot;/edit&quot;, method = RequestMethod.GET)\r\n    public String editForm(Model uiModel) {\r\n    \tString username = (String) SecurityContextHolder.getContext().getAuthentication().getPrincipal();\r\n    \tuiModel.addAttribute(&quot;user&quot;, User.findUserByUsername(username).getSingleResult());\r\n        return &quot;account/edit&quot;;\r\n    }\r\n\r\nAnd a JSPX view to render the form, again following Roo&#39;s conventions:\r\n\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n\t&lt;div xmlns:field=&quot;urn:jsptagdir:/WEB-INF/tags/form/fields&quot; xmlns:form=&quot;urn:jsptagdir:/WEB-INF/tags/form&quot; xmlns:jsp=&quot;http://java.sun.com/JSP/Page&quot; version=&quot;2.0&quot;&gt;\r\n\t    &lt;jsp:directive.page contentType=&quot;text/html;charset=UTF-8&quot;/&gt;\r\n\t    &lt;jsp:output omit-xml-declaration=&quot;yes&quot;/&gt;\r\n\t    &lt;form:update id=&quot;&quot; label=&quot;Personal Details&quot; modelAttribute=&quot;user&quot; path=&quot;/account&quot; versionField=&quot;none&quot;&gt;\r\n\t        &lt;field:input id=&quot;&quot; field=&quot;firstName&quot; label=&quot;First Name&quot; /&gt;\r\n\t        &lt;field:input id=&quot;&quot; field=&quot;lastName&quot; label=&quot;Last Name&quot; /&gt;\r\n\t        &lt;field:textarea id=&quot;&quot; field=&quot;address&quot; label=&quot;Street Address&quot; /&gt;\r\n\t    &lt;/form:update&gt;\r\n\t&lt;/div&gt;\r\n\r\nI do *not* want the form to update the password, just the provided fields (first name, last name, and address).\r\n\r\nThe update action, again following Roo convention:\r\n\r\n    @RequestMapping(method = RequestMethod.PUT, produces = &quot;text/html&quot;)\r\n    public String edit(@Valid User user, BindingResult bindingResult, Model uiModel, HttpServletRequest httpServletRequest) {\r\n    \tif (bindingResult.hasErrors()) {\r\n    \t\tuiModel.addAttribute(&quot;user&quot;, user);\r\n    \t\treturn &quot;account/edit&quot;;\r\n    \t}\r\n        uiModel.asMap().clear();\r\n    \tuser.merge();\r\n        return &quot;redirect:/account&quot;;\r\n    }\r\n\r\nThe user object is updated perfectly, but the problem is that it overwrites the password field with null because it&#39;s not provided as an input in the form, and thus set to null in the User object passed to the form submit request handler. The problem doesn&#39;t show up with the Roo generated scaffolding because they provide form inputs for all of the columns. So I could add it as a hidden field but that doesn&#39;t sound like a good idea. And I get the feeling there&#39;s a much better way to do it...\r\n\r\n\r\n----------\r\n\r\n\r\n**TL;DR How can I update only the entity attributes provided in a form without overwriting the other attributes?**\r\n------------------------------------------------------------------------\r\n\r\nIn other words, how can I make Spring/JPA generate the SQL\r\n\r\n    UPDATE user SET firstname=?, lastname=?, address=?\r\n\r\ninstead of\r\n\r\n    UPDATE user SET firstname=?, lastname=?, address=?, password=?\r\n\r\nCode samples would be fantastic since I&#39;m new to all of this :)\r\n\r\n\r\n----------\r\n\r\n\r\nThank you!\r\n\r\n----------\r\n\r\n**UPDATE:** I was able to make it work using yglodt&#39;s suggestion, adding the following method to my User model:\r\n\r\n    @Transactional\r\n    public void mergeWithExistingAndUpdate() {\r\n        final User existingUser = User.findUser(this.getId());\r\n\r\n        existingUser.setFirstName(this.getFirstName());\r\n        existingUser.setLastName(this.getLastName());\r\n        existingUser.setAddress(this.getAddress());\r\n\r\n        existingUser.flush();\r\n    }\r\n\r\nand calling that from my controller action instead of user.merge():\r\n\r\n    user.mergeWithExistingAndUpdate();","title":"Is it possible to update only a subset of attributes on an entity using Spring MVC with JPA?","body":"<p>I'm working with Spring Roo, using Spring MVC and JPA for persistence with a MySQL database. I'm very new to Spring MVC and Java in general but have worked with CakePHP and Rails.</p>\n\n<p>I have a <code>User</code> entity that contains personal details in addition to a password. Something like this (excluding a lot of Roo-generated functionality in additional .aj files):</p>\n\n<pre><code>public class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = \"ID\")\n    private Long id;\n\n    @Column(name = \"PASSWORD\", length = 32)\n    private String password;\n\n    @Column(name = \"FIRST_NAME\", length = 25)\n    private String firstName;\n\n    @Column(name = \"LAST_NAME\", length = 25)\n    private String lastName;\n\n    @Column(name = \"ADDRESS\", length = 255)\n    private String address;\n\n    // The appropriate getters and setters\n    ...\n}\n</code></pre>\n\n<p>Then I have an edit action in my <code>User</code> controller that I created following conventions from Roo's auto-generated scaffolding:</p>\n\n<pre><code>@RequestMapping(value=\"/edit\", method = RequestMethod.GET)\npublic String editForm(Model uiModel) {\n    String username = (String) SecurityContextHolder.getContext().getAuthentication().getPrincipal();\n    uiModel.addAttribute(\"user\", User.findUserByUsername(username).getSingleResult());\n    return \"account/edit\";\n}\n</code></pre>\n\n<p>And a JSPX view to render the form, again following Roo's conventions:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?&gt;\n&lt;div xmlns:field=\"urn:jsptagdir:/WEB-INF/tags/form/fields\" xmlns:form=\"urn:jsptagdir:/WEB-INF/tags/form\" xmlns:jsp=\"http://java.sun.com/JSP/Page\" version=\"2.0\"&gt;\n    &lt;jsp:directive.page contentType=\"text/html;charset=UTF-8\"/&gt;\n    &lt;jsp:output omit-xml-declaration=\"yes\"/&gt;\n    &lt;form:update id=\"\" label=\"Personal Details\" modelAttribute=\"user\" path=\"/account\" versionField=\"none\"&gt;\n        &lt;field:input id=\"\" field=\"firstName\" label=\"First Name\" /&gt;\n        &lt;field:input id=\"\" field=\"lastName\" label=\"Last Name\" /&gt;\n        &lt;field:textarea id=\"\" field=\"address\" label=\"Street Address\" /&gt;\n    &lt;/form:update&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I do <em>not</em> want the form to update the password, just the provided fields (first name, last name, and address).</p>\n\n<p>The update action, again following Roo convention:</p>\n\n<pre><code>@RequestMapping(method = RequestMethod.PUT, produces = \"text/html\")\npublic String edit(@Valid User user, BindingResult bindingResult, Model uiModel, HttpServletRequest httpServletRequest) {\n    if (bindingResult.hasErrors()) {\n        uiModel.addAttribute(\"user\", user);\n        return \"account/edit\";\n    }\n    uiModel.asMap().clear();\n    user.merge();\n    return \"redirect:/account\";\n}\n</code></pre>\n\n<p>The user object is updated perfectly, but the problem is that it overwrites the password field with null because it's not provided as an input in the form, and thus set to null in the User object passed to the form submit request handler. The problem doesn't show up with the Roo generated scaffolding because they provide form inputs for all of the columns. So I could add it as a hidden field but that doesn't sound like a good idea. And I get the feeling there's a much better way to do it...</p>\n\n<hr>\n\n<h2><strong>TL;DR How can I update only the entity attributes provided in a form without overwriting the other attributes?</strong></h2>\n\n<p>In other words, how can I make Spring/JPA generate the SQL</p>\n\n<pre><code>UPDATE user SET firstname=?, lastname=?, address=?\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>UPDATE user SET firstname=?, lastname=?, address=?, password=?\n</code></pre>\n\n<p>Code samples would be fantastic since I'm new to all of this :)</p>\n\n<hr>\n\n<p>Thank you!</p>\n\n<hr>\n\n<p><strong>UPDATE:</strong> I was able to make it work using yglodt's suggestion, adding the following method to my User model:</p>\n\n<pre><code>@Transactional\npublic void mergeWithExistingAndUpdate() {\n    final User existingUser = User.findUser(this.getId());\n\n    existingUser.setFirstName(this.getFirstName());\n    existingUser.setLastName(this.getLastName());\n    existingUser.setAddress(this.getAddress());\n\n    existingUser.flush();\n}\n</code></pre>\n\n<p>and calling that from my controller action instead of user.merge():</p>\n\n<pre><code>user.mergeWithExistingAndUpdate();\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1674483525,"post_id":75210680,"comment_id":132717342,"body_markdown":"What is the rest of your loop? I think you are hiding the crucial parts – do you somewhere call `shiftDatesMap.get(accounts)`?","body":"What is the rest of your loop? I think you are hiding the crucial parts – do you somewhere call <code>shiftDatesMap.get(accounts)</code>?"},{"owner":{"account_id":26555431,"reputation":558,"user_id":20184128,"display_name":"berse2212"},"score":1,"creation_date":1674483630,"post_id":75210680,"comment_id":132717387,"body_markdown":"shiftList hast no been declared in this part of the code - I feel like that might also be important","body":"shiftList hast no been declared in this part of the code - I feel like that might also be important"},{"owner":{"account_id":27600859,"reputation":3,"user_id":21066109,"display_name":"user21066109"},"score":0,"creation_date":1674483818,"post_id":75210680,"comment_id":132717474,"body_markdown":"Yes, I do call that","body":"Yes, I do call that"},{"owner":{"account_id":1642943,"reputation":19407,"user_id":1515052,"accept_rate":90,"display_name":"Simulant"},"score":0,"creation_date":1674483858,"post_id":75210680,"comment_id":132717494,"body_markdown":"On which map/line of code does it notify you? Could you indicate this with a comment in your code please.\nAlso do you understand the described code smell in general already? Sonarqube should be able to show you a description with good and bad example.","body":"On which map/line of code does it notify you? Could you indicate this with a comment in your code please. Also do you understand the described code smell in general already? Sonarqube should be able to show you a description with good and bad example."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":2,"creation_date":1674484000,"post_id":75210680,"comment_id":132717553,"body_markdown":"Is there something in SonarQube&#39;s description of the rule, https://rules.sonarsource.com/java/RSPEC-2864, that you don&#39;t understand?","body":"Is there something in SonarQube&#39;s description of the rule, <a href=\"https://rules.sonarsource.com/java/RSPEC-2864\" rel=\"nofollow noreferrer\">rules.sonarsource.com/java/RSPEC-2864</a>, that you don&#39;t understand?"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1674485343,"post_id":75210680,"comment_id":132718099,"body_markdown":"This question is incomplete. It does not include a [mre]. Please [edit] it to include the complete code required to reproduce the &quot;problem&quot;. (The SonarQube rule should be pretty clear about it and even contain one compliant example and one non-compliant example)","body":"This question is incomplete. It does not include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Please <a href=\"https://stackoverflow.com/posts/75210680/edit\">edit</a> it to include the complete code required to reproduce the &quot;problem&quot;. (The SonarQube rule should be pretty clear about it and even contain one compliant example and one non-compliant example)"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":1,"creation_date":1674488925,"post_id":75210680,"comment_id":132719409,"body_markdown":"https://stackoverflow.com/questions/27785958/iterating-over-key-set-vs-iterating-over-entry-set","body":"<a href=\"https://stackoverflow.com/questions/27785958/iterating-over-key-set-vs-iterating-over-entry-set\" title=\"iterating over key set vs iterating over entry set\">stackoverflow.com/questions/27785958/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1642943,"reputation":19407,"user_id":1515052,"accept_rate":90,"display_name":"Simulant"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1674484483,"creation_date":1674484123,"answer_id":75210904,"question_id":75210680,"body_markdown":"If you iterate over `shiftDatesMap.keySet()` and later on call in your loop `shiftDatesMap.get(accounts)` you execute an unnecessary `get` operation for each entry.  \r\nTry to read an understand [the description of the metioned code smell][1] from SonarQube.\r\n\r\nInstead you should use [`shiftDatesMap.entrySet()`][2] which gives you an Entry, i.e. as pair of the key and the value. So if you later on in your loop want to access the value for your given `accounts` key, you must only access the value from your entry, which is cheaper than calling a `get` operation on the map for each value.\r\n\r\nBefore:\r\n\r\n    for (String accounts : shiftDatesMap.keySet()) {\r\n        Set&lt;String&gt; shiftDates = shiftDatesMap.get(accounts); // unnecessary operation\r\n    }\r\n\r\nAfter:\r\n\r\n    for (Map.Entry&lt;String, Set&lt;String&gt;&gt; entry: shiftDatesMap.entrySet()) {\r\n        String accounts = entry.getKey();\r\n        Set&lt;String&gt; shiftDates = entry.getValue(); // access value for free without &#39;get&#39; on map\r\n   \r\n    }\r\n\r\n\r\n  [1]: https://rules.sonarsource.com/java/RSPEC-2864\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#entrySet()","title":"Iterate over the &quot;entrySet&quot; instead of &quot;keySet&quot;","body":"<p>If you iterate over <code>shiftDatesMap.keySet()</code> and later on call in your loop <code>shiftDatesMap.get(accounts)</code> you execute an unnecessary <code>get</code> operation for each entry.<br />\nTry to read an understand <a href=\"https://rules.sonarsource.com/java/RSPEC-2864\" rel=\"nofollow noreferrer\">the description of the metioned code smell</a> from SonarQube.</p>\n<p>Instead you should use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#entrySet()\" rel=\"nofollow noreferrer\"><code>shiftDatesMap.entrySet()</code></a> which gives you an Entry, i.e. as pair of the key and the value. So if you later on in your loop want to access the value for your given <code>accounts</code> key, you must only access the value from your entry, which is cheaper than calling a <code>get</code> operation on the map for each value.</p>\n<p>Before:</p>\n<pre><code>for (String accounts : shiftDatesMap.keySet()) {\n    Set&lt;String&gt; shiftDates = shiftDatesMap.get(accounts); // unnecessary operation\n}\n</code></pre>\n<p>After:</p>\n<pre><code>for (Map.Entry&lt;String, Set&lt;String&gt;&gt; entry: shiftDatesMap.entrySet()) {\n    String accounts = entry.getKey();\n    Set&lt;String&gt; shiftDates = entry.getValue(); // access value for free without 'get' on map\n\n}\n</code></pre>\n"}],"owner":{"account_id":27600859,"reputation":3,"user_id":21066109,"display_name":"user21066109"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":314,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1674490665,"accepted_answer_id":75210904,"answer_count":1,"score":-1,"last_activity_date":1674490709,"creation_date":1674483006,"question_id":75210680,"body_markdown":"I&#39;m scanning my code through SonarQube and it shows this code smell _&quot;Iterate over the &quot;entrySet&quot; instead of &quot;keySet&quot;&quot;_. I tried, but I can&#39;t figure it out.\r\n\r\nSample code:\r\n```java\r\npublic Set&lt;Date&gt; getAccountShiftDate(Map&lt;String, Set&lt;String&gt;&gt; shiftDatesMap, List&lt;Groups&gt; shiftSchedule) {\r\n\r\n    // set that has the account shift dates \r\n    Set&lt;Date&gt; accountShiftDatesTemplate = new Hashset&lt;&gt;();\r\n\r\n    // iterate on accounts\r\n    for (String accounts : shiftDatesMap.keySet()) {\r\n        //get group of an account\r\n        Optional &lt;Groups&gt; shiftOptional = shiftList\r\n                                             .stream()\r\n                                             .filter(g -&gt; StringUtils.equalsIgnoreCase(accounts,g.getLongName()))\r\n                                             .findFirst();\r\n        // ...\r\n```\r\n\r\nCan someone give me a reference to understand this.","title":"Iterate over the &quot;entrySet&quot; instead of &quot;keySet&quot;","body":"<p>I'm scanning my code through SonarQube and it shows this code smell <em>&quot;Iterate over the &quot;entrySet&quot; instead of &quot;keySet&quot;&quot;</em>. I tried, but I can't figure it out.</p>\n<p>Sample code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Set&lt;Date&gt; getAccountShiftDate(Map&lt;String, Set&lt;String&gt;&gt; shiftDatesMap, List&lt;Groups&gt; shiftSchedule) {\n\n    // set that has the account shift dates \n    Set&lt;Date&gt; accountShiftDatesTemplate = new Hashset&lt;&gt;();\n\n    // iterate on accounts\n    for (String accounts : shiftDatesMap.keySet()) {\n        //get group of an account\n        Optional &lt;Groups&gt; shiftOptional = shiftList\n                                             .stream()\n                                             .filter(g -&gt; StringUtils.equalsIgnoreCase(accounts,g.getLongName()))\n                                             .findFirst();\n        // ...\n</code></pre>\n<p>Can someone give me a reference to understand this.</p>\n"},{"tags":["java","jakarta-ee","jpa"],"comments":[{"owner":{"account_id":136194,"reputation":2562,"user_id":339545,"display_name":"LINEMAN78"},"score":6,"creation_date":1392153942,"post_id":21657978,"comment_id":32833368,"body_markdown":"Ensure that you are modifying something that is persisted to EntityA and therefore invalidates the state. If you change a transient it will not call preUpdate.","body":"Ensure that you are modifying something that is persisted to EntityA and therefore invalidates the state. If you change a transient it will not call preUpdate."}],"answers":[{"tags":[],"owner":{"account_id":3090566,"reputation":11682,"user_id":2616755,"accept_rate":50,"display_name":"cmd"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1392092883,"creation_date":1391988376,"answer_id":21666525,"question_id":21657978,"body_markdown":"In the new transaction, `@PrePersist` would be called if you performed a `merge` to update `EntityA`&#39;s state. Simply modifying `EntityA`&#39;s persistent fields without a merge will not result in a call to `@PrePersist`\r\n\r\nIt is similar for `@PreUpdate`, however is not guaranteed that the `PreUpdate` callback is invoked when an entity is persisted and then modified in a single transaction (which is not the case in your example).\r\n\r\nIf you are using a *transaction-scoped container-managed entity manager*, then when a transaction ends, those entities become detached. This is likely what is happening when your first transaction completes. These detached entities  will continue to live outside of the persistence context in which they were persisted, however the state of those entities are **no longer** guaranteed to be synchronized with the database. To ensure their state is synchronized, you should perform a `merge` in your second transaction. This will cause the resulting entity to be managed by the persistence context and thus able to be synchronized with the database.\r\n\r\nIf you don&#39;t like this behavior you can choose to use an *extended persistence context*.","title":"JPA @PreUpdate is not called","body":"<p>In the new transaction, <code>@PrePersist</code> would be called if you performed a <code>merge</code> to update <code>EntityA</code>'s state. Simply modifying <code>EntityA</code>'s persistent fields without a merge will not result in a call to <code>@PrePersist</code></p>\n\n<p>It is similar for <code>@PreUpdate</code>, however is not guaranteed that the <code>PreUpdate</code> callback is invoked when an entity is persisted and then modified in a single transaction (which is not the case in your example).</p>\n\n<p>If you are using a <em>transaction-scoped container-managed entity manager</em>, then when a transaction ends, those entities become detached. This is likely what is happening when your first transaction completes. These detached entities  will continue to live outside of the persistence context in which they were persisted, however the state of those entities are <strong>no longer</strong> guaranteed to be synchronized with the database. To ensure their state is synchronized, you should perform a <code>merge</code> in your second transaction. This will cause the resulting entity to be managed by the persistence context and thus able to be synchronized with the database.</p>\n\n<p>If you don't like this behavior you can choose to use an <em>extended persistence context</em>.</p>\n"},{"tags":[],"owner":{"account_id":83518,"reputation":6215,"user_id":234110,"accept_rate":67,"display_name":"Anand Rockzz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674490457,"creation_date":1674490457,"answer_id":75212186,"question_id":21657978,"body_markdown":"In my case `@Transactional` &amp; `@Modifying` were missing in Service layer update method.","title":"JPA @PreUpdate is not called","body":"<p>In my case <code>@Transactional</code> &amp; <code>@Modifying</code> were missing in Service layer update method.</p>\n"}],"owner":{"account_id":1148819,"reputation":2299,"user_id":1130975,"accept_rate":32,"display_name":"kboom"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16275,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1674490457,"creation_date":1391942020,"question_id":21657978,"body_markdown":"Could someone explain to me the reason of the following behavior?\r\n\r\n`EntityA` is being first created and then persisted using `em.persist(..)` method. `@PrePersist` callback is executed before the transaction ends. It works fine.\r\n\r\nIn the new transaction `EntityA` is obtained using em query. Then, some operations modifying its persistable fields are executed and this transaction ends. But on `em.flush()`, the `@PreUpdate` method is never called nor is `@PrePersist` (the latter I anticipated). Why? \r\n\r\n**// EDIT**\r\n\r\nThat&#39;s the trace just before failure. &quot;Done materializing entity&quot; is the effect of the first operation in the transaction that fails.\r\n\r\n    DEBUG: org.hibernate.engine.internal.TwoPhaseLoad - Done materializing entity [com.example.entity#1]\r\n    DEBUG: org.hibernate.event.internal.AbstractFlushingEventListener - Processing flush-time cascades\r\n    DEBUG: org.hibernate.ejb.AbstractEntityManagerImpl - Mark transaction for rollback\r\n    DEBUG: org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback\r\n    DEBUG: org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [org.hibernate.ejb.EntityManagerImpl@341a736]\r\n    DEBUG: org.hibernate.engine.transaction.spi.AbstractTransactionImpl - rolling back\r\n    DEBUG: org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction - rolled JDBC Connection\r\n\r\nThanks!","title":"JPA @PreUpdate is not called","body":"<p>Could someone explain to me the reason of the following behavior?</p>\n\n<p><code>EntityA</code> is being first created and then persisted using <code>em.persist(..)</code> method. <code>@PrePersist</code> callback is executed before the transaction ends. It works fine.</p>\n\n<p>In the new transaction <code>EntityA</code> is obtained using em query. Then, some operations modifying its persistable fields are executed and this transaction ends. But on <code>em.flush()</code>, the <code>@PreUpdate</code> method is never called nor is <code>@PrePersist</code> (the latter I anticipated). Why? </p>\n\n<p><strong>// EDIT</strong></p>\n\n<p>That's the trace just before failure. \"Done materializing entity\" is the effect of the first operation in the transaction that fails.</p>\n\n<pre><code>DEBUG: org.hibernate.engine.internal.TwoPhaseLoad - Done materializing entity [com.example.entity#1]\nDEBUG: org.hibernate.event.internal.AbstractFlushingEventListener - Processing flush-time cascades\nDEBUG: org.hibernate.ejb.AbstractEntityManagerImpl - Mark transaction for rollback\nDEBUG: org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback\nDEBUG: org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [org.hibernate.ejb.EntityManagerImpl@341a736]\nDEBUG: org.hibernate.engine.transaction.spi.AbstractTransactionImpl - rolling back\nDEBUG: org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction - rolled JDBC Connection\n</code></pre>\n\n<p>Thanks!</p>\n"},{"tags":["java","amazon-dynamodb","dynamodb-queries"],"comments":[{"owner":{"account_id":10749774,"reputation":14475,"user_id":7909676,"display_name":"Leeroy Hannigan"},"score":0,"creation_date":1674488582,"post_id":75211535,"comment_id":132719279,"body_markdown":"Can you first state what is your tables partition and sort key. Also share the values you have to make the request. I know what you need to do but I need more info to explain it more clearly to you.","body":"Can you first state what is your tables partition and sort key. Also share the values you have to make the request. I know what you need to do but I need more info to explain it more clearly to you."},{"owner":{"account_id":21085935,"reputation":63,"user_id":15499060,"display_name":"Shivam"},"score":0,"creation_date":1674490437,"post_id":75211535,"comment_id":132719910,"body_markdown":"I edited the question and provided the table details. Can you please help now?","body":"I edited the question and provided the table details. Can you please help now?"},{"owner":{"account_id":10749774,"reputation":14475,"user_id":7909676,"display_name":"Leeroy Hannigan"},"score":0,"creation_date":1674492552,"post_id":75211535,"comment_id":132720627,"body_markdown":"my answer below should work for you","body":"my answer below should work for you"}],"answers":[{"tags":[],"owner":{"account_id":9225176,"reputation":1092,"user_id":6853216,"display_name":"Brian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674488668,"creation_date":1674488668,"answer_id":75211781,"question_id":75211535,"body_markdown":"If you only know the beginning of the sort key, you can use `BEGINS_WITH` query.\r\n\r\n```\r\naws dynamodb query \\\r\n    --table-name TABLE \\\r\n    --key-condition-expression &quot;Id = :id and begins_with(Key, :key)&quot; \\\r\n    --expression-attribute-values &#39;{&quot;:id&quot;:{&quot;S&quot;:&quot;1&quot;}, &quot;:key&quot;:{&quot;S&quot;:&quot;KEY-BEGINNING&quot;}}&#39;\r\n```\r\n\r\nYou need to provide the primary key and the beginning of the sort key for this query.\r\n\r\nSee [Key condition expressions for query](https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Query.html#Query.KeyConditionExpressions)","title":"Retrieve Data from DynamoDB if complete sort key not known","body":"<p>If you only know the beginning of the sort key, you can use <code>BEGINS_WITH</code> query.</p>\n<pre><code>aws dynamodb query \\\n    --table-name TABLE \\\n    --key-condition-expression &quot;Id = :id and begins_with(Key, :key)&quot; \\\n    --expression-attribute-values '{&quot;:id&quot;:{&quot;S&quot;:&quot;1&quot;}, &quot;:key&quot;:{&quot;S&quot;:&quot;KEY-BEGINNING&quot;}}'\n</code></pre>\n<p>You need to provide the primary key and the beginning of the sort key for this query.</p>\n<p>See <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Query.html#Query.KeyConditionExpressions\" rel=\"nofollow noreferrer\">Key condition expressions for query</a></p>\n"},{"tags":[],"owner":{"account_id":10749774,"reputation":14475,"user_id":7909676,"display_name":"Leeroy Hannigan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674489717,"creation_date":1674489717,"answer_id":75212007,"question_id":75211535,"body_markdown":"You need to use [`QueryConditional`](https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/enhanced/dynamodb/model/QueryConditional.html) with [`sortBeginsWith()`](https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/enhanced/dynamodb/model/QueryConditional.html#sortBeginsWith(software.amazon.awssdk.enhanced.dynamodb.Key)):\r\n\r\nFor example, imagine you have the following information\r\n\r\npartition key `pk` = `&quot;key#23456&quot;`\r\n\r\nsort key `sk` begins with `&quot;abcd&quot;`\r\n\r\nyou are unsure of the remainder of the sort key:\r\n\r\n```\r\n        QueryConditional condition = QueryConditional.sortBeginsWith(\r\n                Key.builder()\r\n                        .partitionValue(&quot;key#23456&quot;)\r\n                        .sortValue(&quot;abcd&quot;)\r\n                        .build()\r\n        );\r\n\r\n        QueryEnhancedRequest request = QueryEnhancedRequest.builder()\r\n                .queryConditional(condition)\r\n                .build();\r\n\r\n\r\n        table.query(request);\r\n\r\n```","title":"Retrieve Data from DynamoDB if complete sort key not known","body":"<p>You need to use <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/enhanced/dynamodb/model/QueryConditional.html\" rel=\"nofollow noreferrer\"><code>QueryConditional</code></a> with <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/enhanced/dynamodb/model/QueryConditional.html#sortBeginsWith(software.amazon.awssdk.enhanced.dynamodb.Key)\" rel=\"nofollow noreferrer\"><code>sortBeginsWith()</code></a>:</p>\n<p>For example, imagine you have the following information</p>\n<p>partition key <code>pk</code> = <code>&quot;key#23456&quot;</code></p>\n<p>sort key <code>sk</code> begins with <code>&quot;abcd&quot;</code></p>\n<p>you are unsure of the remainder of the sort key:</p>\n<pre><code>        QueryConditional condition = QueryConditional.sortBeginsWith(\n                Key.builder()\n                        .partitionValue(&quot;key#23456&quot;)\n                        .sortValue(&quot;abcd&quot;)\n                        .build()\n        );\n\n        QueryEnhancedRequest request = QueryEnhancedRequest.builder()\n                .queryConditional(condition)\n                .build();\n\n\n        table.query(request);\n\n</code></pre>\n"}],"owner":{"account_id":21085935,"reputation":63,"user_id":15499060,"display_name":"Shivam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":505,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75212007,"answer_count":2,"score":1,"last_activity_date":1674490406,"creation_date":1674487266,"question_id":75211535,"body_markdown":"I am new to DyanmoDB. I am creating partition key and sort key when pushing data into DynamoDb but when i want to retrieve the data i have the partition key but not the complete sort key. I know the beginning of the sort key but not the complete key.&lt;br /&gt;\r\n\r\n    table.query(QueryEnhancedRequest.builder().queryConditional(QueryConditional.keyEqualTo(Key.builder().partitionValue(&quot;KEY#&quot; + id).build())).build())  \r\nBelow are the tables partition and sort key:\r\n\r\n    private static final String TEMPLATE = &quot;%s#%s&quot;;    \r\n    @DynamoDbPartitionKey\r\n          @Override\r\n          public String getPk() {\r\n            return String.format(TEMPLATE, &quot;KEY&quot;, getId());\r\n          }\r\n        \r\n          @DynamoDbSortKey\r\n          @Override\r\n          public String getSk() {\r\n            return String.format(TEMPLATE, &quot;KEY_SORT&quot;, getName());\r\n          }\r\n\r\n I used what i provided above but its showing this error:\r\nThe provided key element does not match the schema (Service: DynamoDb, Status Code: 400, Request ID: response id)&lt;br/&gt;\r\nAfter looking into the issue i found out that key should be the combination of partition and sort key. But the issue is i don&#39;t know the complete sort key for the second request.","title":"Retrieve Data from DynamoDB if complete sort key not known","body":"<p>I am new to DyanmoDB. I am creating partition key and sort key when pushing data into DynamoDb but when i want to retrieve the data i have the partition key but not the complete sort key. I know the beginning of the sort key but not the complete key.<br /></p>\n<pre><code>table.query(QueryEnhancedRequest.builder().queryConditional(QueryConditional.keyEqualTo(Key.builder().partitionValue(&quot;KEY#&quot; + id).build())).build())  \n</code></pre>\n<p>Below are the tables partition and sort key:</p>\n<pre><code>private static final String TEMPLATE = &quot;%s#%s&quot;;    \n@DynamoDbPartitionKey\n      @Override\n      public String getPk() {\n        return String.format(TEMPLATE, &quot;KEY&quot;, getId());\n      }\n    \n      @DynamoDbSortKey\n      @Override\n      public String getSk() {\n        return String.format(TEMPLATE, &quot;KEY_SORT&quot;, getName());\n      }\n</code></pre>\n<p>I used what i provided above but its showing this error:\nThe provided key element does not match the schema (Service: DynamoDb, Status Code: 400, Request ID: response id)<br/>\nAfter looking into the issue i found out that key should be the combination of partition and sort key. But the issue is i don't know the complete sort key for the second request.</p>\n"},{"tags":["java","jpa"],"answers":[{"tags":[],"owner":{"account_id":271663,"reputation":749,"user_id":562319,"display_name":"Twister"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1301899697,"creation_date":1301899697,"answer_id":5535372,"question_id":5535084,"body_markdown":"My guess : you are trying to put a String in integerId which is a Integer.\r\n\r\nMoreover, a like on an integer value is not possible.\r\n\r\nChange your String.class to Integer.class. and &quot;2%&quot; by an integer value","title":"JPA Like Operator with Integer","body":"<p>My guess : you are trying to put a String in integerId which is a Integer.</p>\n\n<p>Moreover, a like on an integer value is not possible.</p>\n\n<p>Change your String.class to Integer.class. and \"2%\" by an integer value</p>\n"},{"tags":[],"owner":{"account_id":181890,"reputation":17919,"user_id":416206,"accept_rate":40,"display_name":"James"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1301923172,"creation_date":1301923172,"answer_id":5539059,"question_id":5535084,"body_markdown":"JPA does not support like() with Integers, only Strings.  Some databases do support like with integer and others do not.\r\n\r\nEclipseLink should allow usage of like() with Integer (provided your database supports it).  What version are you using?  May need to use &gt;= 2.1.  If it fails on the latest version, then please log a bug.\r\n\r\nYou can also convert the integer to a string using a &quot;CHAR, &quot;TO_CHAR&quot; or &quot;CONVERT&quot; function depending on your database.  The criteria API supports a function() API to call a native function.\r\n\r\nNote that the as() API is not intended for converting from Integer to String, it is for casting to a subclass entity.\r\n","title":"JPA Like Operator with Integer","body":"<p>JPA does not support like() with Integers, only Strings.  Some databases do support like with integer and others do not.</p>\n\n<p>EclipseLink should allow usage of like() with Integer (provided your database supports it).  What version are you using?  May need to use >= 2.1.  If it fails on the latest version, then please log a bug.</p>\n\n<p>You can also convert the integer to a string using a \"CHAR, \"TO_CHAR\" or \"CONVERT\" function depending on your database.  The criteria API supports a function() API to call a native function.</p>\n\n<p>Note that the as() API is not intended for converting from Integer to String, it is for casting to a subclass entity.</p>\n"},{"tags":[],"owner":{"account_id":1297296,"reputation":1073,"user_id":1248025,"display_name":"Kaalras"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1337170598,"creation_date":1337170598,"answer_id":10618327,"question_id":5535084,"body_markdown":"I have faced the same issue. I use JPA2.0 and EclipseLink 2.3 as implementation.\r\n\r\nThe column *codeClient* is actually an Integer in my DataBase.\r\n\r\nThe annotation @Convert simply convert my Integer column to a String column.\r\n\r\nIn that way i can use a like predicate over numbers.\r\n\r\n\r\n    @Entity\r\n    @Table(name=&quot;COLIS_SO_VM&quot;)\r\n    public class Colis implements Serializable {\r\n       \r\n        ...\r\n    \r\n  \t    @Convert\r\n    \tprivate String codeClient;\r\n\r\n        ...\r\n    }\r\n\r\nI know this is an old post but if it can help someone else !","title":"JPA Like Operator with Integer","body":"<p>I have faced the same issue. I use JPA2.0 and EclipseLink 2.3 as implementation.</p>\n\n<p>The column <em>codeClient</em> is actually an Integer in my DataBase.</p>\n\n<p>The annotation @Convert simply convert my Integer column to a String column.</p>\n\n<p>In that way i can use a like predicate over numbers.</p>\n\n<pre><code>@Entity\n@Table(name=\"COLIS_SO_VM\")\npublic class Colis implements Serializable {\n\n    ...\n\n    @Convert\n    private String codeClient;\n\n    ...\n}\n</code></pre>\n\n<p>I know this is an old post but if it can help someone else !</p>\n"},{"tags":[],"owner":{"account_id":7640648,"reputation":1958,"user_id":5792859,"accept_rate":50,"display_name":"mibrahim.iti"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1488957426,"creation_date":1488957426,"answer_id":42665206,"question_id":5535084,"body_markdown":"Here are example of how it work with JPA, so u can use LIKE with integer inside your JPQL.\r\n\r\n    public List&lt;MyEntity&gt; getMyEntities(String idStr) {\r\n       return entityManager.createQuery(&quot;SELECT m FROM MyEntity m WHERE CAST( m.id AS string ) LIKE :idStr&quot;)\r\n             .setParameter(&quot;idStr&quot;, &quot;%&quot; + idStr+ &quot;%&quot;).getResultList();\r\n    }\r\n\r\n&gt; Note: i tested it and worked fine with me, i am using JPA 2.1 with\r\n&gt; Hibernate provider.","title":"JPA Like Operator with Integer","body":"<p>Here are example of how it work with JPA, so u can use LIKE with integer inside your JPQL.</p>\n\n<pre><code>public List&lt;MyEntity&gt; getMyEntities(String idStr) {\n   return entityManager.createQuery(\"SELECT m FROM MyEntity m WHERE CAST( m.id AS string ) LIKE :idStr\")\n         .setParameter(\"idStr\", \"%\" + idStr+ \"%\").getResultList();\n}\n</code></pre>\n\n<blockquote>\n  <p>Note: i tested it and worked fine with me, i am using JPA 2.1 with\n  Hibernate provider.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1986826,"reputation":2226,"user_id":4175822,"display_name":"spacether"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674490313,"creation_date":1674158500,"answer_id":75177664,"question_id":5535084,"body_markdown":"One can do this by converting the integer to a string using `cast` and then using `like` matching.\r\n\r\nThe below query counts records where an integer receiverUserId matches a numeric substring:\r\n\r\n`\r\n@Query(&quot;select count(s.id) from SupportCouponInfo s where cast(s.receiverUserId as string) like concat(&#39;%&#39;,:numericSubstring,&#39;%&#39;)&quot;)\r\nfun countByReceiverUserIdContaining(numericSubstring: String): Long\r\n`","title":"JPA Like Operator with Integer","body":"<p>One can do this by converting the integer to a string using <code>cast</code> and then using <code>like</code> matching.</p>\n<p>The below query counts records where an integer receiverUserId matches a numeric substring:</p>\n<p><code>@Query(&quot;select count(s.id) from SupportCouponInfo s where cast(s.receiverUserId as string) like concat('%',:numericSubstring,'%')&quot;) fun countByReceiverUserIdContaining(numericSubstring: String): Long</code></p>\n"}],"owner":{"account_id":273777,"reputation":2483,"user_id":565605,"accept_rate":88,"display_name":"reen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14998,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":5539059,"answer_count":5,"score":6,"last_activity_date":1674490313,"creation_date":1301897136,"question_id":5535084,"body_markdown":"Can someone tell me, why this is not working:\r\n\r\n    criteria.add(cb.like((myentity.&lt;Integer&gt;get(&quot;integerid&quot;)).as(String.class), &quot;2%&quot;))\r\n\r\nI get the following error:\r\n\r\n    The object [2%], of class [class java.lang.String], from mapping [org.eclipse.persistence.mappings.DirectToFieldMapping[integerid--&gt;MYENTITY.INTEGERID]] with descriptor [RelationalDescriptor(org.example.model.MyEntity --&gt; [DatabaseTable(MYENTITY)])], could not be converted to [class java.lang.Integer]\r\n\r\nIs the only solution to change the `myinteger` property to a string in the model, in order that I can use the `like` operator?\r\n\r\nBR","title":"JPA Like Operator with Integer","body":"<p>Can someone tell me, why this is not working:</p>\n\n<pre><code>criteria.add(cb.like((myentity.&lt;Integer&gt;get(\"integerid\")).as(String.class), \"2%\"))\n</code></pre>\n\n<p>I get the following error:</p>\n\n<pre><code>The object [2%], of class [class java.lang.String], from mapping [org.eclipse.persistence.mappings.DirectToFieldMapping[integerid--&gt;MYENTITY.INTEGERID]] with descriptor [RelationalDescriptor(org.example.model.MyEntity --&gt; [DatabaseTable(MYENTITY)])], could not be converted to [class java.lang.Integer]\n</code></pre>\n\n<p>Is the only solution to change the <code>myinteger</code> property to a string in the model, in order that I can use the <code>like</code> operator?</p>\n\n<p>BR</p>\n"},{"tags":["java","spring","kubernetes","memory-leaks","out-of-memory"],"comments":[{"owner":{"account_id":9225619,"reputation":1240,"user_id":9107502,"display_name":"0x1C1B"},"score":0,"creation_date":1674053904,"post_id":75160702,"comment_id":132633287,"body_markdown":"Beside it&#39;s a common error, it&#39;s impossible to answer this question without more detailled metrics/source code and/or infrastructure details... A minimal runnable example to reproduce the error is required.","body":"Beside it&#39;s a common error, it&#39;s impossible to answer this question without more detailled metrics/source code and/or infrastructure details... A minimal runnable example to reproduce the error is required."},{"owner":{"account_id":17332701,"reputation":86,"user_id":12555370,"display_name":"Artique"},"score":0,"creation_date":1674134885,"post_id":75160702,"comment_id":132652942,"body_markdown":"@1C1B That&#39;s the thing I&#39;m struggling over right now - trying to reproduce it and understand what happens there. Without any result so far, I&#39;ll post updates if there will be something. Do you know by any chance some tools that can help me out with that? We have Instana setup but it&#39;s not much helpful in that specific case...","body":"@1C1B That&#39;s the thing I&#39;m struggling over right now - trying to reproduce it and understand what happens there. Without any result so far, I&#39;ll post updates if there will be something. Do you know by any chance some tools that can help me out with that? We have Instana setup but it&#39;s not much helpful in that specific case..."}],"answers":[{"tags":[],"owner":{"account_id":17332701,"reputation":86,"user_id":12555370,"display_name":"Artique"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674490186,"creation_date":1674490186,"answer_id":75212130,"question_id":75160702,"body_markdown":"We were able to catch metrics at the time when it&#39;s happening. Turned out, that memory limits were misconfigured in helm charts and default values were taken by JVM. This leaded to situtation when JVM had a lot (around 3GB) memory allocated but only used some (150MB). So our K8s node was experiencing some memory starvation at the time when it was running lots of in the mode like that mode.\r\n\r\nAnd yes, Instana turned out to be quite helpful tool to debug that. See metrics listed below:\r\n[![Memory consumption][1]][1]\r\n[![JVM memory metrics][2]][2]\r\n[![JVM memory configs][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/T4PgY.png\r\n  [2]: https://i.stack.imgur.com/OEDMr.png\r\n  [3]: https://i.stack.imgur.com/F2xb3.png","title":"Why does containerized Spring Application allocates too much memory in Kubernetes Cluster?","body":"<p>We were able to catch metrics at the time when it's happening. Turned out, that memory limits were misconfigured in helm charts and default values were taken by JVM. This leaded to situtation when JVM had a lot (around 3GB) memory allocated but only used some (150MB). So our K8s node was experiencing some memory starvation at the time when it was running lots of in the mode like that mode.</p>\n<p>And yes, Instana turned out to be quite helpful tool to debug that. See metrics listed below:\n<a href=\"https://i.stack.imgur.com/T4PgY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T4PgY.png\" alt=\"Memory consumption\" /></a>\n<a href=\"https://i.stack.imgur.com/OEDMr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OEDMr.png\" alt=\"JVM memory metrics\" /></a>\n<a href=\"https://i.stack.imgur.com/F2xb3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F2xb3.png\" alt=\"JVM memory configs\" /></a></p>\n"}],"owner":{"account_id":17332701,"reputation":86,"user_id":12555370,"display_name":"Artique"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":453,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75212130,"answer_count":1,"score":1,"last_activity_date":1674490255,"creation_date":1674051788,"question_id":75160702,"body_markdown":"I have an issue that some of our microservices have a memory allocation spike that triggers an OOMKiller Kubernetes event.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n[![Instana incident page](https://i.stack.imgur.com/8bBNc.png)](https://i.stack.imgur.com/8bBNc.png)\r\n\r\nThe issue doesn&#39;t happen that often but enought to be noticed.\r\nThe service is not doing anything crazy at the moment when it&#39;s happening, just normal load.\r\nAlso, interesting fact that memory doesn&#39;t gradually increase, on the contrary - it&#39;s like a sudden explosion.\r\n\r\nI also did some deep analysis on what apps are doing at the time of mem explosion - all seem normal to be normal which is why I don&#39;t think it&#39;s some problem or memory leak in the code. Plus same behaviour happens across different services that are not connected with each other in almost any way. Also, i most of the cases after restarting service proceeding with the work where it was left off. Which is why I&#39;m leaning towards the idea that it&#39;s some kind of Framework or Software problem.\r\n\r\n**More on the setup**:\r\n- Spring Boot (2.4.x - 2.5.x). Different stacks(Web and WebFlux) and dependencies (Spring Cloud, Spring Kafka, ElasticSearch, Postgres, etc) are used accross microservices. \r\n- Java 11 (latest OpenJDK image)\r\n- The apps are running on one of the newest versions of Kubernetes cluster(AKS).\r\n- Before we had no resource limits implemented for microservices. So in case of an incident, we had an infinite memory allocation until it eats all of the memory of K8S node which forces everything to get down &amp; restart.\r\nCurrently we have resource limits for pods implemented to avoid that behaviour.\r\n\r\n\r\n**Questions**:\r\n1) I&#39;m wondering if it&#39;s a JVM/Spring issue / memory leak. Maybe someone had a similar experience?\r\n2) Are there any tools / approaches you can recommend to take a snapshot of the pod before it&#39;s getting killed to have an ability to analyze that later?\r\n\r\n","title":"Why does containerized Spring Application allocates too much memory in Kubernetes Cluster?","body":"<p>I have an issue that some of our microservices have a memory allocation spike that triggers an OOMKiller Kubernetes event.</p>\n<p><a href=\"https://i.stack.imgur.com/8bBNc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8bBNc.png\" alt=\"Instana incident page\" /></a></p>\n<p>The issue doesn't happen that often but enought to be noticed.\nThe service is not doing anything crazy at the moment when it's happening, just normal load.\nAlso, interesting fact that memory doesn't gradually increase, on the contrary - it's like a sudden explosion.</p>\n<p>I also did some deep analysis on what apps are doing at the time of mem explosion - all seem normal to be normal which is why I don't think it's some problem or memory leak in the code. Plus same behaviour happens across different services that are not connected with each other in almost any way. Also, i most of the cases after restarting service proceeding with the work where it was left off. Which is why I'm leaning towards the idea that it's some kind of Framework or Software problem.</p>\n<p><strong>More on the setup</strong>:</p>\n<ul>\n<li>Spring Boot (2.4.x - 2.5.x). Different stacks(Web and WebFlux) and dependencies (Spring Cloud, Spring Kafka, ElasticSearch, Postgres, etc) are used accross microservices.</li>\n<li>Java 11 (latest OpenJDK image)</li>\n<li>The apps are running on one of the newest versions of Kubernetes cluster(AKS).</li>\n<li>Before we had no resource limits implemented for microservices. So in case of an incident, we had an infinite memory allocation until it eats all of the memory of K8S node which forces everything to get down &amp; restart.\nCurrently we have resource limits for pods implemented to avoid that behaviour.</li>\n</ul>\n<p><strong>Questions</strong>:</p>\n<ol>\n<li>I'm wondering if it's a JVM/Spring issue / memory leak. Maybe someone had a similar experience?</li>\n<li>Are there any tools / approaches you can recommend to take a snapshot of the pod before it's getting killed to have an ability to analyze that later?</li>\n</ol>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1674489858,"post_id":75212046,"comment_id":132719729,"body_markdown":"It means you have to assign the result of that call to a variable, otherwise you&#39;re doing nothing with what is returned by the method you&#39;re calling.","body":"It means you have to assign the result of that call to a variable, otherwise you&#39;re doing nothing with what is returned by the method you&#39;re calling."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1674489873,"post_id":75212046,"comment_id":132719736,"body_markdown":"What is unclear about sonar&#39;s message?","body":"What is unclear about sonar&#39;s message?"},{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1674490143,"post_id":75212046,"comment_id":132719814,"body_markdown":"sonarqube also provides example of what to do to fix the issue","body":"sonarqube also provides example of what to do to fix the issue"}],"answers":[{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674489987,"creation_date":1674489987,"answer_id":75212087,"question_id":75212046,"body_markdown":"`format` is not mutating the Date, but rater returns a new String with the provided pattern. Sonarqube is telling you, that you do nothing with the return value. So either assign it to a variable, which you will use or remove the invocations altogether.","title":"Why does SonarQube report: The return value of &quot;format&quot; must be used","body":"<p><code>format</code> is not mutating the Date, but rater returns a new String with the provided pattern. Sonarqube is telling you, that you do nothing with the return value. So either assign it to a variable, which you will use or remove the invocations altogether.</p>\n"}],"owner":{"account_id":27600859,"reputation":3,"user_id":21066109,"display_name":"user21066109"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"closed_date":1674510201,"accepted_answer_id":75212087,"answer_count":1,"score":-5,"last_activity_date":1674490133,"creation_date":1674489807,"question_id":75212046,"body_markdown":"I&#39;m getting this code smell in SonarQube _&quot;the return value of &quot;format&quot; must be used&quot;_.\r\n\r\nSample code: \r\n\r\n    ShiftStartDate.format(DateTimeFormatter.ofPattern(&quot;MMddyyy&quot;)\r\n    ShiftEndDate.format(DateTimeFormatter.ofPattern(&quot;MMddyyyy&quot;)):\r\n\r\nI tried, but I&#39;m not sure what to return.","title":"Why does SonarQube report: The return value of &quot;format&quot; must be used","body":"<p>I'm getting this code smell in SonarQube <em>&quot;the return value of &quot;format&quot; must be used&quot;</em>.</p>\n<p>Sample code:</p>\n<pre><code>ShiftStartDate.format(DateTimeFormatter.ofPattern(&quot;MMddyyy&quot;)\nShiftEndDate.format(DateTimeFormatter.ofPattern(&quot;MMddyyyy&quot;)):\n</code></pre>\n<p>I tried, but I'm not sure what to return.</p>\n"},{"tags":["java","multithreading","java.util.concurrent","completable-future"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":3,"creation_date":1609983660,"post_id":65605550,"comment_id":115993310,"body_markdown":"Why wouldn&#39;t you expect it to get run?","body":"Why wouldn&#39;t you expect it to get run?"},{"owner":{"account_id":15969521,"reputation":243,"user_id":11524087,"display_name":"SangHoon Lee"},"score":2,"creation_date":1609984006,"post_id":65605550,"comment_id":115993371,"body_markdown":"@LouisWasserman There was nothing in the material I learned that I didn&#39;t write them down. So I expected that it would not work. Like the Terminal Operations of Stream Api.","body":"@LouisWasserman There was nothing in the material I learned that I didn&#39;t write them down. So I expected that it would not work. Like the Terminal Operations of Stream Api."},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":5,"creation_date":1609984902,"post_id":65605550,"comment_id":115993517,"body_markdown":"@LouisWasserman With designs like Reactive Streams being commonplace, it&#39;s not always obvious to beginners the difference between &quot;push&quot; and &quot;pull&quot; approaches.","body":"@LouisWasserman With designs like Reactive Streams being commonplace, it&#39;s not always obvious to beginners the difference between &quot;push&quot; and &quot;pull&quot; approaches."},{"owner":{"account_id":26377,"reputation":352187,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"score":1,"creation_date":1609984949,"post_id":65605550,"comment_id":115993524,"body_markdown":"Great question. Other examples of &quot;pull&quot; behavior: In Python, a generator doesn&#39;t actually do anything until it is executed. If you create a generator but don&#39;t run it, nothing happens. The same goes for futures in Rust. They only run when you `.await` them.","body":"Great question. Other examples of &quot;pull&quot; behavior: In Python, a generator doesn&#39;t actually do anything until it is executed. If you create a generator but don&#39;t run it, nothing happens. The same goes for futures in Rust. They only run when you <code>.await</code> them."},{"owner":{"account_id":15969521,"reputation":243,"user_id":11524087,"display_name":"SangHoon Lee"},"score":0,"creation_date":1609985807,"post_id":65605550,"comment_id":115993689,"body_markdown":"@chrylis-cautiouslyoptimistic- That&#39;s right. I didn&#39;t understand the &quot;pull&quot; and &quot;push&quot; method. Let&#39;s learn about these two concepts. Thank you.","body":"@chrylis-cautiouslyoptimistic- That&#39;s right. I didn&#39;t understand the &quot;pull&quot; and &quot;push&quot; method. Let&#39;s learn about these two concepts. Thank you."},{"owner":{"account_id":15969521,"reputation":243,"user_id":11524087,"display_name":"SangHoon Lee"},"score":0,"creation_date":1609985940,"post_id":65605550,"comment_id":115993714,"body_markdown":"@JohnKugelman I thought it was done when I called get or join. Thank you for your good answer.","body":"@JohnKugelman I thought it was done when I called get or join. Thank you for your good answer."}],"answers":[{"tags":[],"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1610019943,"creation_date":1609984261,"answer_id":65605629,"question_id":65605550,"body_markdown":"The second case is &quot;*working*&quot; because you sleep the main thread long enough (5 seconds). Working is between quotes because it *isn&#39;t really working*, just finishing. I&#39;m assuming here the code should output `Hello World!` in order to be considered &quot;*working properly*&quot;.\r\n\r\n-------\r\nTry the same code with this sleep time at the end of the main thread in both cases:\r\n\r\n`Thread.sleep(100);` \r\n\r\n\r\n **1**. The first one would behave in the same way, as the get operation blocks the main thread. In fact, for the first case, you don&#39;t even need the last sleep time. \r\n\r\n**Output: `Hello World!`**\r\n\r\n---\r\n\r\n **2**. The second case won&#39;t output `Hello`, as no one told the main thread: &quot;*hey, wait for this to finish*&quot;. That&#39;s what `get()` does: block the caller in order to wait for the task to finish. Without it, and setting a low sleep time at the end, the runnable is called, but couldn&#39;t finish its job before the main thread stops.\r\n\r\n**Output: `World!`**\r\n\r\n----\r\n\r\n\r\nThat&#39;s also the reason why in the first case `Hello World!` (*first the runnable&#39;s output, and then main&#39;s one- meaning the main thread was blocked until `get()` returned*) is written, while the second one shows subtle signs of dyslexia: `World Hello!` \r\n\r\nBut it&#39;s not dyslexic, it just executes what it is told to. In the second case, this happens:\r\n\r\n **1.** The runnable is **called**.\r\n\r\n **2.** Main thread continues its process, **printing (&quot;World!)**\r\n\r\n **3.** `Sleep` times are set: 1 second on the runnable / 5 seconds on main. (*runnable&#39;s sleep could also be executed during the 2nd step, but I put it here in order to clarify the behaviour*)\r\n\r\n **4.** The runnable task **prints (&quot;Hello&quot;)** after 1 second and the CompletableFuture is finished.\r\n\r\n **5.** 5 Seconds passed, main thread stops.\r\n\r\nSo your runnable could print `Hello` because it was able to execute the command in between those 5 seconds timeout.\r\n\r\n    World! . . . . . .(1)Hello. . . . . . . . . . .(5)[END]\r\n\r\nIf you decrease the last 5 seconds timeout, for example, to 0.5 seconds, you get\r\n\r\n    World!. . (0.5)[END]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html\r\n","title":"Why does this CompletableFuture work even when I don&#39;t call get() or join()?","body":"<p>The second case is &quot;<em>working</em>&quot; because you sleep the main thread long enough (5 seconds). Working is between quotes because it <em>isn't really working</em>, just finishing. I'm assuming here the code should output <code>Hello World!</code> in order to be considered &quot;<em>working properly</em>&quot;.</p>\n<hr />\n<p>Try the same code with this sleep time at the end of the main thread in both cases:</p>\n<p><code>Thread.sleep(100);</code></p>\n<p><strong>1</strong>. The first one would behave in the same way, as the get operation blocks the main thread. In fact, for the first case, you don't even need the last sleep time.</p>\n<p><strong>Output: <code>Hello World!</code></strong></p>\n<hr />\n<p><strong>2</strong>. The second case won't output <code>Hello</code>, as no one told the main thread: &quot;<em>hey, wait for this to finish</em>&quot;. That's what <code>get()</code> does: block the caller in order to wait for the task to finish. Without it, and setting a low sleep time at the end, the runnable is called, but couldn't finish its job before the main thread stops.</p>\n<p><strong>Output: <code>World!</code></strong></p>\n<hr />\n<p>That's also the reason why in the first case <code>Hello World!</code> (<em>first the runnable's output, and then main's one- meaning the main thread was blocked until <code>get()</code> returned</em>) is written, while the second one shows subtle signs of dyslexia: <code>World Hello!</code></p>\n<p>But it's not dyslexic, it just executes what it is told to. In the second case, this happens:</p>\n<p><strong>1.</strong> The runnable is <strong>called</strong>.</p>\n<p><strong>2.</strong> Main thread continues its process, <strong>printing (&quot;World!)</strong></p>\n<p><strong>3.</strong> <code>Sleep</code> times are set: 1 second on the runnable / 5 seconds on main. (<em>runnable's sleep could also be executed during the 2nd step, but I put it here in order to clarify the behaviour</em>)</p>\n<p><strong>4.</strong> The runnable task <strong>prints (&quot;Hello&quot;)</strong> after 1 second and the CompletableFuture is finished.</p>\n<p><strong>5.</strong> 5 Seconds passed, main thread stops.</p>\n<p>So your runnable could print <code>Hello</code> because it was able to execute the command in between those 5 seconds timeout.</p>\n<pre><code>World! . . . . . .(1)Hello. . . . . . . . . . .(5)[END]\n</code></pre>\n<p>If you decrease the last 5 seconds timeout, for example, to 0.5 seconds, you get</p>\n<pre><code>World!. . (0.5)[END]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1609985750,"creation_date":1609984621,"answer_id":65605671,"question_id":65605550,"body_markdown":"&gt; I don&#39;t know why the `Runnable` block of case2 is working.\r\n\r\nThere is no reason why it would NOT work.\r\n\r\nThe `runAsync(...)` method says to do a task asynchronously.  Assuming that the application doesn&#39;t end prematurely the task will be done eventually, *whether you wait for it to be done or not*.\r\n\r\nThe `CompletableFuture` provides various ways of waiting for the task to complete.  But in your example, you are not using it for that purpose.  Instead, the `Thread.sleep(...)` call in your main method is *having the same effect*; i.e. it is waiting long enough that the task has (probably) finished.  So `&quot;Hello&quot;` is output before `&quot;World&quot;`.\r\n\r\nJust to reiterate, the `get()` call doesn&#39;t *cause* the task to happen.  Rather it *waits* for it to *have happened*.\r\n\r\n-----------\r\n\r\nUsing `sleep` to wait for an event (e.g. completion of a task) to happen is a bad idea:\r\n\r\n  1.  Sleep doesn&#39;t tell if the event has happened!\r\n  2.  You typically don&#39;t know exactly how long it will take for the event to happen, you don&#39;t know how long to sleep.\r\n  3.  If you sleep too long you have &quot;dead time&quot; (see below).\r\n  4.  If you don&#39;t sleep long enough, the event may not have happened yet.  So you need to test and sleep again, and again, and ...\r\n\r\nEven in this example, it is theoretically possible&lt;sup&gt;1&lt;/sup&gt; for the `sleep` in main to finish before the `sleep` in the task.\r\n\r\nBasically, the purpose of the `CompletableFuture` is to provide an efficient way to wait for a task to finish and deliver a result.  You should use it ...\r\n\r\nTo illustrate.  Your application is waiting (and wasting) ~4 seconds between outputting `&quot;Hello&quot;` and `&quot;World!&quot;`.  If you used the `CompletableFuture` as it is intended to be used, you wouldn&#39;t have those 4 seconds of &quot;dead time&quot;.\r\n\r\n---------------\r\n\r\n&lt;sup&gt;1 - For example, some external agent might be able to selectively  &quot;pause&quot; the thread that is running the task.  It might be done by setting a breakpoint ... &lt;/sup&gt;\r\n","title":"Why does this CompletableFuture work even when I don&#39;t call get() or join()?","body":"<blockquote>\n<p>I don't know why the <code>Runnable</code> block of case2 is working.</p>\n</blockquote>\n<p>There is no reason why it would NOT work.</p>\n<p>The <code>runAsync(...)</code> method says to do a task asynchronously.  Assuming that the application doesn't end prematurely the task will be done eventually, <em>whether you wait for it to be done or not</em>.</p>\n<p>The <code>CompletableFuture</code> provides various ways of waiting for the task to complete.  But in your example, you are not using it for that purpose.  Instead, the <code>Thread.sleep(...)</code> call in your main method is <em>having the same effect</em>; i.e. it is waiting long enough that the task has (probably) finished.  So <code>&quot;Hello&quot;</code> is output before <code>&quot;World&quot;</code>.</p>\n<p>Just to reiterate, the <code>get()</code> call doesn't <em>cause</em> the task to happen.  Rather it <em>waits</em> for it to <em>have happened</em>.</p>\n<hr />\n<p>Using <code>sleep</code> to wait for an event (e.g. completion of a task) to happen is a bad idea:</p>\n<ol>\n<li>Sleep doesn't tell if the event has happened!</li>\n<li>You typically don't know exactly how long it will take for the event to happen, you don't know how long to sleep.</li>\n<li>If you sleep too long you have &quot;dead time&quot; (see below).</li>\n<li>If you don't sleep long enough, the event may not have happened yet.  So you need to test and sleep again, and again, and ...</li>\n</ol>\n<p>Even in this example, it is theoretically possible<sup>1</sup> for the <code>sleep</code> in main to finish before the <code>sleep</code> in the task.</p>\n<p>Basically, the purpose of the <code>CompletableFuture</code> is to provide an efficient way to wait for a task to finish and deliver a result.  You should use it ...</p>\n<p>To illustrate.  Your application is waiting (and wasting) ~4 seconds between outputting <code>&quot;Hello&quot;</code> and <code>&quot;World!&quot;</code>.  If you used the <code>CompletableFuture</code> as it is intended to be used, you wouldn't have those 4 seconds of &quot;dead time&quot;.</p>\n<hr />\n<p><sup>1 - For example, some external agent might be able to selectively  &quot;pause&quot; the thread that is running the task.  It might be done by setting a breakpoint ... </sup></p>\n"},{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1610456897,"creation_date":1609989542,"answer_id":65606195,"question_id":65605550,"body_markdown":"The entire idea of `CompletableFuture` is that they are immediately scheduled to be started (though you can&#39;t reliably tell in which thread they will execute), and by the time you reach `get` or `join`, the result might already be ready, i.e.: the `CompletableFuture` might already be _completed_. Internally, as soon as a certain stage in the pipeline is ready, that particular `CompletableFuture` will be set to completed. For example:\r\n\r\n\r\n    String result = \r\n       CompletableFuture.supplyAsync(() -&gt; &quot;ab&quot;)\r\n                        .thenApply(String::toUpperCase)\r\n                        .thenApply(x -&gt; x.substring(1))\r\n                        .join();\r\n\r\nis the same thing as:\r\n\r\n    CompletableFuture&lt;String&gt; cf1 = CompletableFuture.supplyAsync(() -&gt; &quot;ab&quot;);\r\n    CompletableFuture&lt;String&gt; cf2 = cf1.thenApply(String::toUpperCase);\r\n    CompletableFuture&lt;String&gt; cf3 = cf2.thenApply(x -&gt; x.substring(1));\r\n    String result = cf3.join();\r\n\r\nBy the time you reach to actually invoke `join`, `cf3` might already finish. `get` and `join` just _block_ until all the stages are done, it does not trigger the computation; the computation is scheduled immediately. \r\n\r\n---\r\n                     \r\n\r\nA minor addition is that you can complete a `CompletableFuture` without waiting for the execution of the pipelines to finish: like `complete`, `completeExceptionally`, `obtrudeValue` (this one sets it even if it was already completed), `obtrudeException` or `cancel`. Here is an interesting example:\r\n\r\n     public static void main(String[] args) {\r\n        CompletableFuture&lt;String&gt; cf = CompletableFuture.supplyAsync(() -&gt; {\r\n            System.out.println(&quot;started work&quot;);\r\n            LockSupport.parkNanos(TimeUnit.SECONDS.toNanos(5));\r\n            System.out.println(&quot;done work&quot;);\r\n            return &quot;a&quot;;\r\n        });\r\n\r\n        LockSupport.parkNanos(TimeUnit.SECONDS.toNanos(1));\r\n        cf.complete(&quot;b&quot;);\r\n        System.out.println(cf.join());\r\n    }\r\n\r\nThis will output:\r\n\r\n    started work\r\n    b\r\n\r\nSo even if the work started, the final value is `b`, not `a`.","title":"Why does this CompletableFuture work even when I don&#39;t call get() or join()?","body":"<p>The entire idea of <code>CompletableFuture</code> is that they are immediately scheduled to be started (though you can't reliably tell in which thread they will execute), and by the time you reach <code>get</code> or <code>join</code>, the result might already be ready, i.e.: the <code>CompletableFuture</code> might already be <em>completed</em>. Internally, as soon as a certain stage in the pipeline is ready, that particular <code>CompletableFuture</code> will be set to completed. For example:</p>\n<pre><code>String result = \n   CompletableFuture.supplyAsync(() -&gt; &quot;ab&quot;)\n                    .thenApply(String::toUpperCase)\n                    .thenApply(x -&gt; x.substring(1))\n                    .join();\n</code></pre>\n<p>is the same thing as:</p>\n<pre><code>CompletableFuture&lt;String&gt; cf1 = CompletableFuture.supplyAsync(() -&gt; &quot;ab&quot;);\nCompletableFuture&lt;String&gt; cf2 = cf1.thenApply(String::toUpperCase);\nCompletableFuture&lt;String&gt; cf3 = cf2.thenApply(x -&gt; x.substring(1));\nString result = cf3.join();\n</code></pre>\n<p>By the time you reach to actually invoke <code>join</code>, <code>cf3</code> might already finish. <code>get</code> and <code>join</code> just <em>block</em> until all the stages are done, it does not trigger the computation; the computation is scheduled immediately.</p>\n<hr />\n<p>A minor addition is that you can complete a <code>CompletableFuture</code> without waiting for the execution of the pipelines to finish: like <code>complete</code>, <code>completeExceptionally</code>, <code>obtrudeValue</code> (this one sets it even if it was already completed), <code>obtrudeException</code> or <code>cancel</code>. Here is an interesting example:</p>\n<pre><code> public static void main(String[] args) {\n    CompletableFuture&lt;String&gt; cf = CompletableFuture.supplyAsync(() -&gt; {\n        System.out.println(&quot;started work&quot;);\n        LockSupport.parkNanos(TimeUnit.SECONDS.toNanos(5));\n        System.out.println(&quot;done work&quot;);\n        return &quot;a&quot;;\n    });\n\n    LockSupport.parkNanos(TimeUnit.SECONDS.toNanos(1));\n    cf.complete(&quot;b&quot;);\n    System.out.println(cf.join());\n}\n</code></pre>\n<p>This will output:</p>\n<pre><code>started work\nb\n</code></pre>\n<p>So even if the work started, the final value is <code>b</code>, not <code>a</code>.</p>\n"}],"owner":{"account_id":15969521,"reputation":243,"user_id":11524087,"display_name":"SangHoon Lee"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10198,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":65606195,"answer_count":3,"score":24,"last_activity_date":1674490068,"creation_date":1609983609,"question_id":65605550,"body_markdown":"I had a question while studying `CompletableFuture`. The `get()`/`join()` methods are blocking calls. What if I don&#39;t call either of them?\r\n\r\nThis code calls `get()`:\r\n\r\n    // Case 1 - Use get()\r\n    CompletableFuture.runAsync(() -&gt; {\r\n        try {\r\n            Thread.sleep(1_000L);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n        System.out.println(&quot;Hello&quot;);\r\n    }).get();\r\n    System.out.println(&quot;World!&quot;);\r\n\r\n    Thread.sleep(5_000L); // Don&#39;t finish the main thread\r\n\r\nOutput:\r\n\r\n    Hello\r\n    World!\r\n\r\nThis code calls neither `get()` nor `join()`:\r\n\r\n    // Case 2 - Don&#39;t use get()\r\n    CompletableFuture.runAsync(() -&gt; {\r\n        try {\r\n            Thread.sleep(1_000L);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n        System.out.println(&quot;Hello&quot;);\r\n    });\r\n    System.out.println(&quot;World!&quot;);\r\n\r\n    Thread.sleep(5_000L); // For don&#39;t finish main thread\r\n\r\nOutput:\r\n\r\n    World!\r\n    Hello\r\n\r\nI don&#39;t know why the runnable block of case 2 is working. ","title":"Why does this CompletableFuture work even when I don&#39;t call get() or join()?","body":"<p>I had a question while studying <code>CompletableFuture</code>. The <code>get()</code>/<code>join()</code> methods are blocking calls. What if I don't call either of them?</p>\n<p>This code calls <code>get()</code>:</p>\n<pre><code>// Case 1 - Use get()\nCompletableFuture.runAsync(() -&gt; {\n    try {\n        Thread.sleep(1_000L);\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n    System.out.println(&quot;Hello&quot;);\n}).get();\nSystem.out.println(&quot;World!&quot;);\n\nThread.sleep(5_000L); // Don't finish the main thread\n</code></pre>\n<p>Output:</p>\n<pre><code>Hello\nWorld!\n</code></pre>\n<p>This code calls neither <code>get()</code> nor <code>join()</code>:</p>\n<pre><code>// Case 2 - Don't use get()\nCompletableFuture.runAsync(() -&gt; {\n    try {\n        Thread.sleep(1_000L);\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n    System.out.println(&quot;Hello&quot;);\n});\nSystem.out.println(&quot;World!&quot;);\n\nThread.sleep(5_000L); // For don't finish main thread\n</code></pre>\n<p>Output:</p>\n<pre><code>World!\nHello\n</code></pre>\n<p>I don't know why the runnable block of case 2 is working.</p>\n"},{"tags":["java","caching","ehcache","ehcache-3"],"answers":[{"tags":[],"owner":{"account_id":1267127,"reputation":1663,"user_id":1224205,"accept_rate":20,"display_name":"Marceau"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674489899,"creation_date":1674488827,"answer_id":75211812,"question_id":57922960,"body_markdown":"The following manages to capture the internal epoch timestamp of creation of the Ehcache cache entry:\r\n\r\n```java\r\nvar method = Ehcache.class.getDeclaredMethod(&quot;doGet&quot;, Object.class);\r\nmethod.setAccessible(true);\r\nvar valueHolder = (Store.ValueHolder&lt;?&gt;) method.invoke(ehcache, key);\r\nreturn valueHolder.creationTime();\r\n```\r\n\r\nThe use of reflection is unfortunate but this was sufficient for my debugging purposes.\r\n\r\nThe `org.ehcache.core.Ehcache` instance in my specific scenario was retrieved inside a custom `org.ehcache.event.CacheEventListener`:\r\n\r\n```java\r\n@Override\r\npublic void onEvent(CacheEvent&lt;? extends String, ? extends Object&gt; cacheEvent) {\r\n\tvar ehcache = (Ehcache&lt;?, ?&gt;) cacheEvent.getSource();\r\n\t...\r\n}\r\n```","title":"Get age of cache entry in Ehcache 3.x","body":"<p>The following manages to capture the internal epoch timestamp of creation of the Ehcache cache entry:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var method = Ehcache.class.getDeclaredMethod(&quot;doGet&quot;, Object.class);\nmethod.setAccessible(true);\nvar valueHolder = (Store.ValueHolder&lt;?&gt;) method.invoke(ehcache, key);\nreturn valueHolder.creationTime();\n</code></pre>\n<p>The use of reflection is unfortunate but this was sufficient for my debugging purposes.</p>\n<p>The <code>org.ehcache.core.Ehcache</code> instance in my specific scenario was retrieved inside a custom <code>org.ehcache.event.CacheEventListener</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void onEvent(CacheEvent&lt;? extends String, ? extends Object&gt; cacheEvent) {\n    var ehcache = (Ehcache&lt;?, ?&gt;) cacheEvent.getSource();\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":2579094,"reputation":3415,"user_id":2236166,"display_name":"morten.c"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":514,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1674489899,"creation_date":1568374688,"question_id":57922960,"body_markdown":"I&#39;m using Ehcache 3.8.0 with my Spring 5.x application for caching long running data aggregation. The aggregated data is displayed in a web frontend. \r\n\r\nI&#39;m now looking for a way to get the age of an cached element to display it alongside with the data. \r\n\r\nEhcache 2.x stored cache entries as `Element` ([see javadoc][1]) which had the public method [getLatestOfCreationAndUpdateTime()][2] to retrieve the timestamp, at which the cache entry was created or last updated (= the age/freshness of the cached data).\r\n\r\nBut in Ehcache 3.x cache entries are stored as `Cache.Entry&lt;V,K&gt;` ([see javadoc][3]) which is nothing more than a key/value tuple which doesn&#39;t provide something like the `getLatestOfCreationAndUpdateTime()` method.\r\n\r\nI know that I could use something like cache eventlisteners to store the timestamp seperatly whenever a cache entry is created or updated, but I like to know if there&#39;s a more direct way to get the timestamp formerly provided with `getLatestOfCreationAndUpdateTime()`.\r\n\r\n\r\n  [1]: https://www.ehcache.org/apidocs/2.9/net/sf/ehcache/Element.html\r\n  [2]: https://www.ehcache.org/apidocs/2.9/net/sf/ehcache/Element.html#getLatestOfCreationAndUpdateTime()\r\n  [3]: https://www.ehcache.org/apidocs/3.8.0/org/ehcache/Cache.Entry.html","title":"Get age of cache entry in Ehcache 3.x","body":"<p>I'm using Ehcache 3.8.0 with my Spring 5.x application for caching long running data aggregation. The aggregated data is displayed in a web frontend. </p>\n\n<p>I'm now looking for a way to get the age of an cached element to display it alongside with the data. </p>\n\n<p>Ehcache 2.x stored cache entries as <code>Element</code> (<a href=\"https://www.ehcache.org/apidocs/2.9/net/sf/ehcache/Element.html\" rel=\"nofollow noreferrer\">see javadoc</a>) which had the public method <a href=\"https://www.ehcache.org/apidocs/2.9/net/sf/ehcache/Element.html#getLatestOfCreationAndUpdateTime()\" rel=\"nofollow noreferrer\">getLatestOfCreationAndUpdateTime()</a> to retrieve the timestamp, at which the cache entry was created or last updated (= the age/freshness of the cached data).</p>\n\n<p>But in Ehcache 3.x cache entries are stored as <code>Cache.Entry&lt;V,K&gt;</code> (<a href=\"https://www.ehcache.org/apidocs/3.8.0/org/ehcache/Cache.Entry.html\" rel=\"nofollow noreferrer\">see javadoc</a>) which is nothing more than a key/value tuple which doesn't provide something like the <code>getLatestOfCreationAndUpdateTime()</code> method.</p>\n\n<p>I know that I could use something like cache eventlisteners to store the timestamp seperatly whenever a cache entry is created or updated, but I like to know if there's a more direct way to get the timestamp formerly provided with <code>getLatestOfCreationAndUpdateTime()</code>.</p>\n"},{"tags":["java","opengl-es","vao","vertex-array","vertex-array-object"],"comments":[{"owner":{"account_id":7322082,"reputation":205320,"user_id":5577765,"display_name":"Rabbid76"},"score":0,"creation_date":1674400099,"post_id":75201395,"comment_id":132701944,"body_markdown":"You have repeated your question: [Would it be possible to change Vertex array structure into a Vertex Array Object structure and how](https://stackoverflow.com/questions/75102674/would-it-be-possible-to-change-vertex-array-structure-into-a-vertex-array-object). If you want to improve a question, you must edit the original question. Repeating questions to attract attention is not welcome. So this is a duplicate question, because you have already asked it before.","body":"You have repeated your question: <a href=\"https://stackoverflow.com/questions/75102674/would-it-be-possible-to-change-vertex-array-structure-into-a-vertex-array-object\">Would it be possible to change Vertex array structure into a Vertex Array Object structure and how</a>. If you want to improve a question, you must edit the original question. Repeating questions to attract attention is not welcome. So this is a duplicate question, because you have already asked it before."},{"owner":{"account_id":7322082,"reputation":205320,"user_id":5577765,"display_name":"Rabbid76"},"score":0,"creation_date":1674400273,"post_id":75201395,"comment_id":132701978,"body_markdown":"*&quot;Problem is I have no idea how Vertex Array Object works ...&quot;* - So you are actually looking for a tutorial. Such questions are off-topic. See [What topics can I ask about here?](https://stackoverflow.com/help/on-topic) and also consider [How much research effort is expected of Stack Overflow users?](https://meta.stackoverflow.com/questions/261592/how-much-research-effort-is-expected-of-stack-overflow-users).","body":"<i>&quot;Problem is I have no idea how Vertex Array Object works ...&quot;</i> - So you are actually looking for a tutorial. Such questions are off-topic. See <a href=\"https://stackoverflow.com/help/on-topic\">What topics can I ask about here?</a> and also consider <a href=\"https://meta.stackoverflow.com/questions/261592/how-much-research-effort-is-expected-of-stack-overflow-users\">How much research effort is expected of Stack Overflow users?</a>."},{"owner":{"account_id":27319974,"reputation":43,"user_id":20833857,"display_name":"apo"},"score":0,"creation_date":1674400687,"post_id":75201395,"comment_id":132702046,"body_markdown":"@Rabbid76 what could I do to improve this question? Or are these questions just totally off topic?","body":"@Rabbid76 what could I do to improve this question? Or are these questions just totally off topic?"},{"owner":{"account_id":7322082,"reputation":205320,"user_id":5577765,"display_name":"Rabbid76"},"score":0,"creation_date":1674400777,"post_id":75201395,"comment_id":132702063,"body_markdown":"I recommend reading a good tutorial. Bevor using a [VAO](https://www.khronos.org/opengl/wiki/Vertex_Specification#Vertex_Array_Object) I suggest using [Vertex Buffer Objects](https://www.khronos.org/opengl/wiki/Vertex_Specification#Vertex_Buffer_Object).","body":"I recommend reading a good tutorial. Bevor using a <a href=\"https://www.khronos.org/opengl/wiki/Vertex_Specification#Vertex_Array_Object\" rel=\"nofollow noreferrer\">VAO</a> I suggest using <a href=\"https://www.khronos.org/opengl/wiki/Vertex_Specification#Vertex_Buffer_Object\" rel=\"nofollow noreferrer\">Vertex Buffer Objects</a>."}],"answers":[{"tags":[],"owner":{"account_id":7322082,"reputation":205320,"user_id":5577765,"display_name":"Rabbid76"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674401792,"creation_date":1674401792,"answer_id":75201674,"question_id":75201395,"body_markdown":"When you want to use a [Vertex Array Object](https://www.khronos.org/opengl/wiki/Vertex_Specification#Vertex_Array_Object), you must create and bind the VAO. The vertex specification is stored in the state vector of the currently bound VAO. Therefore, you must do the vertex specification when the VAO is bound. I also suggest to put the attributes in [Vertex Buffer Objects](https://www.khronos.org/opengl/wiki/Vertex_Specification#Vertex_Buffer_Object):\r\n\r\n```java\r\nint vao;\r\nint vboVertices;\r\nint vboNormals;\r\n```\r\n\r\n```java\r\nvao = GLES30.glGenVertexArray();\r\nGLES30.glBindVertexArray(vao);\r\n\r\nvboVertices = GLES30.glGenBuffer();\r\nGLES30.glBindBuffer(GLES30.GL_ARRAY_BUFFER, vboVertices);\r\nGLES30.glBufferData(GLES30.GL_ARRAY_BUFFER, mVertices.remaining() * 4, mVertices, GLES30.GL_STATIC_DRAW);\r\nGLES30.glVertexAttribPointer(0, 4, GLES30.GL_FLOAT, false, 0, 0);\r\nGLES30.glEnableVertexAttribArray(0);\r\n\r\nvboNormals = GLES30.glGenBuffer();\r\nGLES30.glBindBuffer(GLES30.GL_ARRAY_BUFFER, vboNormals);\r\nGLES30.glBufferData(GLES30.GL_ARRAY_BUFFER, mNormals.remaining() * 4, mNormals, GLES30.GL_STATIC_DRAW);\r\nGLES30.glVertexAttribPointer(1, 4, GLES30.GL_FLOAT, false, 0, 0);\r\nGLES30.glEnableVertexAttribArray(1);\r\n```\r\n\r\nLater you can use the VAO to draw the geometry. For this it is enough to bind the VAO:\r\n\r\n```java\r\nGLES30.glBindVertexArray(vao);\r\nGLES30.glDrawArrays (GLES30.GL_TRIANGLES, 0, nbrOfVertices);\r\n```\r\n","title":"How to refactor code from Vertex Array to Vertex Array Object methods","body":"<p>When you want to use a <a href=\"https://www.khronos.org/opengl/wiki/Vertex_Specification#Vertex_Array_Object\" rel=\"nofollow noreferrer\">Vertex Array Object</a>, you must create and bind the VAO. The vertex specification is stored in the state vector of the currently bound VAO. Therefore, you must do the vertex specification when the VAO is bound. I also suggest to put the attributes in <a href=\"https://www.khronos.org/opengl/wiki/Vertex_Specification#Vertex_Buffer_Object\" rel=\"nofollow noreferrer\">Vertex Buffer Objects</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int vao;\nint vboVertices;\nint vboNormals;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>vao = GLES30.glGenVertexArray();\nGLES30.glBindVertexArray(vao);\n\nvboVertices = GLES30.glGenBuffer();\nGLES30.glBindBuffer(GLES30.GL_ARRAY_BUFFER, vboVertices);\nGLES30.glBufferData(GLES30.GL_ARRAY_BUFFER, mVertices.remaining() * 4, mVertices, GLES30.GL_STATIC_DRAW);\nGLES30.glVertexAttribPointer(0, 4, GLES30.GL_FLOAT, false, 0, 0);\nGLES30.glEnableVertexAttribArray(0);\n\nvboNormals = GLES30.glGenBuffer();\nGLES30.glBindBuffer(GLES30.GL_ARRAY_BUFFER, vboNormals);\nGLES30.glBufferData(GLES30.GL_ARRAY_BUFFER, mNormals.remaining() * 4, mNormals, GLES30.GL_STATIC_DRAW);\nGLES30.glVertexAttribPointer(1, 4, GLES30.GL_FLOAT, false, 0, 0);\nGLES30.glEnableVertexAttribArray(1);\n</code></pre>\n<p>Later you can use the VAO to draw the geometry. For this it is enough to bind the VAO:</p>\n<pre class=\"lang-java prettyprint-override\"><code>GLES30.glBindVertexArray(vao);\nGLES30.glDrawArrays (GLES30.GL_TRIANGLES, 0, nbrOfVertices);\n</code></pre>\n"}],"owner":{"account_id":27319974,"reputation":43,"user_id":20833857,"display_name":"apo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674489721,"creation_date":1674399356,"question_id":75201395,"body_markdown":"I&#39;m studying Opengl and the book i&#39;ve been using is OpenGL(R) ES 3.0 Programming Guide, 2nd Edition. And at chapter 6 they talk about Vertex arrays and they have a example code that uses Vertex Array methods, which is the code below. Later down that chapter they are talking about Vertex Array Object and what I wanted to try is to take this example code and refactor the code into something that uses the Vertex Array Object methods.\r\nProblem is I have no idea how Vertex Array Object works and would be gratful if anyone could push me in the right direction.\r\n\r\nThe example code is here: \r\n\r\n```java\r\nimport java.io.IOException;\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.ByteOrder;\r\nimport java.nio.FloatBuffer;\r\n\r\nimport javax.microedition.khronos.egl.EGLConfig;\r\nimport javax.microedition.khronos.opengles.GL10;\r\n\r\nimport android.content.Context;\r\nimport android.opengl.GLES30;\r\nimport android.opengl.GLSurfaceView;\r\nimport android.opengl.Matrix;\r\nimport android.util.Log;\r\n\r\nimport se.hig.dvg306.modul3app.R;\r\nimport se.hig.dvg306.modul3app.tools.ResourceHandler;\r\n\r\npublic class Modul3Renderer implements GLSurfaceView.Renderer\r\n{\r\n    //\r\n    // Constructor - loads model data from a res file and creates byte buffers for\r\n    // vertex data and for normal data\r\n    //\r\n    public Modul3Renderer (Context context)\r\n    {\r\n        appContext = context;\r\n\r\n        Log.e(TAG, &quot;---&gt;&gt;&gt;      Creating ModelLoader...&quot;);\r\n        ModelLoader modelLoader = new ModelLoaderImpl ();\r\n        Log.e(TAG, &quot;---&gt;&gt;&gt;      ...finished.&quot;);\r\n\r\n        Log.e(TAG, &quot;---&gt;&gt;&gt;      Loading model...&quot;);\r\n        Log.e(TAG, &quot;---&gt;&gt;&gt;      Starting with vertices...&quot;);\r\n        float[] mVerticesData; //= new float[0];\r\n\r\n        try {\r\n            mVerticesData = modelLoader.loadModel (context, R.raw.torus2, 0, 4, 6);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException (e);\r\n        }\r\n        Log.e(TAG, &quot;---&gt;&gt;&gt;      ...finished.&quot;);\r\n\r\n        // Process vertex data\r\n        // 4: because of 4 elements per vertex position\r\n        nbrOfVertices = mVerticesData.length / 4;\r\n\r\n        mVertices = ByteBuffer.allocateDirect(mVerticesData.length * 4)\r\n                .order(ByteOrder.nativeOrder()).asFloatBuffer();\r\n        mVertices.put(mVerticesData).position(0);\r\n\r\n        Log.e(TAG, &quot;---&gt;&gt;&gt;      Starting with normals...&quot;);\r\n        float[] mNormalData; //= new float[0];\r\n\r\n        try {\r\n            mNormalData = modelLoader.loadModel (context, R.raw.torus2, 4, 4, 6);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException (e);\r\n        }\r\n        Log.e(TAG, &quot;---&gt;&gt;&gt;      ...finished.&quot;);\r\n\r\n        // Process normal data\r\n        // 4: because of 4 elements per vertex position\r\n        nbrOfNormals = mNormalData.length / 4;\r\n\r\n        mNormals = ByteBuffer.allocateDirect(mNormalData.length * 4)\r\n                .order(ByteOrder.nativeOrder()).asFloatBuffer();\r\n        mNormals.put(mNormalData).position(0);\r\n    }\r\n\r\n    ///\r\n    // Create a shader object, load the shader source, and\r\n    // compile the shader.\r\n    //\r\n    private int createShader(int type, String shaderSrc )\r\n    {\r\n        int shader;\r\n        int[] compiled = new int[1];\r\n\r\n        // Create the shader object\r\n        shader = GLES30.glCreateShader ( type );\r\n\r\n        if ( shader == 0 )\r\n        {\r\n            return 0;\r\n        }\r\n\r\n        // Load the shader source\r\n        GLES30.glShaderSource ( shader, shaderSrc );\r\n\r\n        // Compile the shader\r\n        GLES30.glCompileShader ( shader );\r\n\r\n        // Check the compile status\r\n        GLES30.glGetShaderiv ( shader, GLES30.GL_COMPILE_STATUS, compiled, 0 );\r\n\r\n        if ( compiled[0] == 0 )\r\n        {\r\n            Log.e ( TAG, GLES30.glGetShaderInfoLog ( shader ) );\r\n            GLES30.glDeleteShader ( shader );\r\n            return 0;\r\n        }\r\n\r\n        return shader;\r\n    }\r\n\r\n    ///\r\n    // Initialize the shader and program object\r\n    //\r\n    public void onSurfaceCreated ( GL10 glUnused, EGLConfig config )\r\n    {\r\n\r\n        int vertexShader;\r\n        int fragmentShader;\r\n        int programObject;\r\n        int[] linked = new int[1];\r\n\r\n\r\n        // Load the source code for the vertex shader program from a res file:\r\n        try {\r\n            vShaderStr = ResourceHandler.readTextData(appContext, R.raw.vertex_shader);\r\n        } catch (IOException e) {\r\n            Log.e ( TAG, &quot;---&gt;&gt;&gt;      Could not load source code for vertex shader.&quot;);\r\n            throw new RuntimeException (e);\r\n        }\r\n        Log.e ( TAG, &quot;---&gt;&gt;&gt;      Loaded vertex shader: &quot; + vShaderStr);\r\n\r\n        // Load the source code for the fragment shader program from a res file:\r\n        try {\r\n            fShaderStr = ResourceHandler.readTextData(appContext, R.raw.fragment_shader);\r\n        } catch (IOException e) {\r\n            Log.e ( TAG, &quot;---&gt;&gt;&gt;      Could not load source code for fragment shader.&quot;);\r\n            throw new RuntimeException (e);\r\n        }\r\n        Log.e ( TAG, &quot;---&gt;&gt;&gt;      Loaded fragment shader: &quot; + fShaderStr);\r\n\r\n        // Create the vertex/fragment shaders\r\n        vertexShader = createShader( GLES30.GL_VERTEX_SHADER, vShaderStr );\r\n        fragmentShader = createShader( GLES30.GL_FRAGMENT_SHADER, fShaderStr );\r\n\r\n        // Create the program object\r\n        programObject = GLES30.glCreateProgram();\r\n\r\n        if ( programObject == 0 )\r\n        {\r\n            return;\r\n        }\r\n\r\n        GLES30.glAttachShader ( programObject, vertexShader );\r\n        GLES30.glAttachShader ( programObject, fragmentShader );\r\n\r\n        // Bind vPosition to attribute 0\r\n        GLES30.glBindAttribLocation ( programObject, 0, &quot;vPosition&quot; );\r\n\r\n        // Bind vNormal to attribute 1\r\n        GLES30.glBindAttribLocation ( programObject, 1, &quot;vNormal&quot; );\r\n\r\n        // Link the program\r\n        GLES30.glLinkProgram ( programObject );\r\n\r\n        // Check the link status\r\n        GLES30.glGetProgramiv ( programObject, GLES30.GL_LINK_STATUS, linked, 0 );\r\n\r\n        if ( linked[0] == 0 )\r\n        {\r\n            Log.e ( TAG, &quot;Error linking program:&quot; );\r\n            Log.e ( TAG, GLES30.glGetProgramInfoLog ( programObject ) );\r\n            GLES30.glDeleteProgram ( programObject );\r\n            return;\r\n        }\r\n\r\n        // Store the program object\r\n        mProgramObject = programObject;\r\n\r\n        GLES30.glClearColor ( 0.15f, 0.15f, 0.15f, 1.0f );\r\n        GLES30.glEnable(GLES30.GL_DEPTH_TEST);\r\n    }\r\n\r\n    //\r\n    // Draw a torus using the shader pair created in onSurfaceCreated()\r\n    //\r\n    public void onDrawFrame ( GL10 glUnused )\r\n    {\r\n        // Initiate the model-view matrix as identity matrix\r\n        Matrix.setIdentityM(mViewMatrix, 0);\r\n\r\n        // Define a translation transformation\r\n        Matrix.translateM(mViewMatrix, 0, 0.0f, 0.0f, -60.0f);\r\n        // Define a rotation transformation\r\n        Matrix.rotateM(mViewMatrix, 0, 90.0f, 1.0f, 0.0f, 0.0f);\r\n\r\n        // Calculate the model-view and projection transformation as composite transformation\r\n        Matrix.multiplyMM (mMVPMatrix, 0, mProjectionMatrix, 0, mViewMatrix, 0);\r\n\r\n        // Clear the color buffer\r\n        GLES30.glClear ( GLES30.GL_COLOR_BUFFER_BIT | GLES30.GL_DEPTH_BUFFER_BIT );\r\n\r\n        // Use the program object\r\n        GLES30.glUseProgram ( mProgramObject );\r\n\r\n        // Make MVP matrix accessible in the vertex shader\r\n        mMVPMatrixHandle = GLES30.glGetUniformLocation(mProgramObject, &quot;uMVPMatrix&quot;);\r\n        GLES30.glUniformMatrix4fv(mMVPMatrixHandle, 1, false, mMVPMatrix, 0);\r\n\r\n        // Light position:\r\n        vLightPositionHandle = GLES30.glGetUniformLocation(mProgramObject, &quot;vLightPosition&quot;);\r\n        GLES30.glUniform4fv(vLightPositionHandle, 1, lightPosition, 0);\r\n\r\n        // Light color:\r\n        vLightColorDfHandle = GLES30.glGetUniformLocation(mProgramObject, &quot;vLightColorDf&quot;);\r\n        GLES30.glUniform4fv(vLightColorDfHandle, 1, lightColorDf, 0);\r\n\r\n        // Material color:\r\n        vMaterialColorDfHandle = GLES30.glGetUniformLocation(mProgramObject, &quot;vMaterialColorDf&quot;);\r\n        GLES30.glUniform4fv(vMaterialColorDfHandle, 1, materialColorDf, 0);\r\n\r\n        // Load the vertex data from mVertices\r\n        GLES30.glVertexAttribPointer ( 0, 4, GLES30.GL_FLOAT, false, 0, mVertices );\r\n\r\n\r\n\r\n        // Assign vertex data to &#39;in&#39; variable bound to attribute with index 0:\r\n        GLES30.glEnableVertexAttribArray ( 0 );\r\n\r\n        // Load the normal data from mNormals\r\n        GLES30.glVertexAttribPointer ( 1, 4, GLES30.GL_FLOAT, false, 0, mNormals );\r\n        // Assign normal data to &#39;in&#39; variable bound to attribute with index 1:\r\n        GLES30.glEnableVertexAttribArray ( 1 );\r\n\r\n        GLES30.glDrawArrays (GLES30.GL_TRIANGLES, 0, nbrOfVertices);\r\n\r\n        GLES30.glDisableVertexAttribArray ( 1 );\r\n        GLES30.glDisableVertexAttribArray ( 0 );\r\n    }\r\n\r\n    //\r\n    // Handle surface changes\r\n    //\r\n    public void onSurfaceChanged ( GL10 glUnused, int width, int height )\r\n    {\r\n        mWidth = width;\r\n        mHeight = height;\r\n\r\n        GLES30.glViewport(0, 0, width, height);\r\n\r\n        float ratio = (float) width / height;\r\n\r\n        // this projection matrix is applied to object coordinates\r\n        Matrix.frustumM(mProjectionMatrix, 0, -ratio, ratio, -1.0f, 1.0f, 0.5f, 1000.0f);\r\n    }\r\n\r\n    // Member variables\r\n\r\n    private Context appContext;\r\n\r\n    private int mWidth;\r\n    private int mHeight;\r\n\r\n    private int nbrOfVertices;\r\n    private FloatBuffer mVertices;\r\n\r\n    private int nbrOfNormals;\r\n    private FloatBuffer mNormals;\r\n\r\n    private int mProgramObject;\r\n    private int mMVPMatrixHandle;\r\n\r\n    // Transformation data:\r\n    private final float[] mMVPMatrix = new float[16];\r\n    private final float[] mProjectionMatrix = new float[16];\r\n    private final float[] mViewMatrix = new float[16];\r\n\r\n    // Light position and color (only diffuse term now):\r\n    private int vLightPositionHandle;\r\n    private final float lightPosition [] = {175.0f, 75.0f, 125.0f, 0.0f};\r\n    // Light color (only diffuse term now):\r\n    private int vLightColorDfHandle;\r\n    private final float lightColorDf [] = {0.98f, 0.98f, 0.98f, 1.0f};\r\n    // Material color (only diffuse term now):\r\n    private int vMaterialColorDfHandle;\r\n    private final float materialColorDf [] = {0.62f, 0.773f, 0.843f, 1.0f};\r\n\r\n    // To be read when creating the instance:\r\n    private String vShaderStr;\r\n    private String fShaderStr;\r\n\r\n    private static String TAG = &quot;Modul3Renderer&quot;;\r\n}\r\n```\r\nI&#39;ve tried for the past days now to understand how to write a code that uses the Object methods but I cant wrap my head around it and decided to ask. So I hope by asking I can get some understanding how to begin.","title":"How to refactor code from Vertex Array to Vertex Array Object methods","body":"<p>I'm studying Opengl and the book i've been using is OpenGL(R) ES 3.0 Programming Guide, 2nd Edition. And at chapter 6 they talk about Vertex arrays and they have a example code that uses Vertex Array methods, which is the code below. Later down that chapter they are talking about Vertex Array Object and what I wanted to try is to take this example code and refactor the code into something that uses the Vertex Array Object methods.\nProblem is I have no idea how Vertex Array Object works and would be gratful if anyone could push me in the right direction.</p>\n<p>The example code is here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.nio.ByteBuffer;\nimport java.nio.ByteOrder;\nimport java.nio.FloatBuffer;\n\nimport javax.microedition.khronos.egl.EGLConfig;\nimport javax.microedition.khronos.opengles.GL10;\n\nimport android.content.Context;\nimport android.opengl.GLES30;\nimport android.opengl.GLSurfaceView;\nimport android.opengl.Matrix;\nimport android.util.Log;\n\nimport se.hig.dvg306.modul3app.R;\nimport se.hig.dvg306.modul3app.tools.ResourceHandler;\n\npublic class Modul3Renderer implements GLSurfaceView.Renderer\n{\n    //\n    // Constructor - loads model data from a res file and creates byte buffers for\n    // vertex data and for normal data\n    //\n    public Modul3Renderer (Context context)\n    {\n        appContext = context;\n\n        Log.e(TAG, &quot;---&gt;&gt;&gt;      Creating ModelLoader...&quot;);\n        ModelLoader modelLoader = new ModelLoaderImpl ();\n        Log.e(TAG, &quot;---&gt;&gt;&gt;      ...finished.&quot;);\n\n        Log.e(TAG, &quot;---&gt;&gt;&gt;      Loading model...&quot;);\n        Log.e(TAG, &quot;---&gt;&gt;&gt;      Starting with vertices...&quot;);\n        float[] mVerticesData; //= new float[0];\n\n        try {\n            mVerticesData = modelLoader.loadModel (context, R.raw.torus2, 0, 4, 6);\n        } catch (IOException e) {\n            throw new RuntimeException (e);\n        }\n        Log.e(TAG, &quot;---&gt;&gt;&gt;      ...finished.&quot;);\n\n        // Process vertex data\n        // 4: because of 4 elements per vertex position\n        nbrOfVertices = mVerticesData.length / 4;\n\n        mVertices = ByteBuffer.allocateDirect(mVerticesData.length * 4)\n                .order(ByteOrder.nativeOrder()).asFloatBuffer();\n        mVertices.put(mVerticesData).position(0);\n\n        Log.e(TAG, &quot;---&gt;&gt;&gt;      Starting with normals...&quot;);\n        float[] mNormalData; //= new float[0];\n\n        try {\n            mNormalData = modelLoader.loadModel (context, R.raw.torus2, 4, 4, 6);\n        } catch (IOException e) {\n            throw new RuntimeException (e);\n        }\n        Log.e(TAG, &quot;---&gt;&gt;&gt;      ...finished.&quot;);\n\n        // Process normal data\n        // 4: because of 4 elements per vertex position\n        nbrOfNormals = mNormalData.length / 4;\n\n        mNormals = ByteBuffer.allocateDirect(mNormalData.length * 4)\n                .order(ByteOrder.nativeOrder()).asFloatBuffer();\n        mNormals.put(mNormalData).position(0);\n    }\n\n    ///\n    // Create a shader object, load the shader source, and\n    // compile the shader.\n    //\n    private int createShader(int type, String shaderSrc )\n    {\n        int shader;\n        int[] compiled = new int[1];\n\n        // Create the shader object\n        shader = GLES30.glCreateShader ( type );\n\n        if ( shader == 0 )\n        {\n            return 0;\n        }\n\n        // Load the shader source\n        GLES30.glShaderSource ( shader, shaderSrc );\n\n        // Compile the shader\n        GLES30.glCompileShader ( shader );\n\n        // Check the compile status\n        GLES30.glGetShaderiv ( shader, GLES30.GL_COMPILE_STATUS, compiled, 0 );\n\n        if ( compiled[0] == 0 )\n        {\n            Log.e ( TAG, GLES30.glGetShaderInfoLog ( shader ) );\n            GLES30.glDeleteShader ( shader );\n            return 0;\n        }\n\n        return shader;\n    }\n\n    ///\n    // Initialize the shader and program object\n    //\n    public void onSurfaceCreated ( GL10 glUnused, EGLConfig config )\n    {\n\n        int vertexShader;\n        int fragmentShader;\n        int programObject;\n        int[] linked = new int[1];\n\n\n        // Load the source code for the vertex shader program from a res file:\n        try {\n            vShaderStr = ResourceHandler.readTextData(appContext, R.raw.vertex_shader);\n        } catch (IOException e) {\n            Log.e ( TAG, &quot;---&gt;&gt;&gt;      Could not load source code for vertex shader.&quot;);\n            throw new RuntimeException (e);\n        }\n        Log.e ( TAG, &quot;---&gt;&gt;&gt;      Loaded vertex shader: &quot; + vShaderStr);\n\n        // Load the source code for the fragment shader program from a res file:\n        try {\n            fShaderStr = ResourceHandler.readTextData(appContext, R.raw.fragment_shader);\n        } catch (IOException e) {\n            Log.e ( TAG, &quot;---&gt;&gt;&gt;      Could not load source code for fragment shader.&quot;);\n            throw new RuntimeException (e);\n        }\n        Log.e ( TAG, &quot;---&gt;&gt;&gt;      Loaded fragment shader: &quot; + fShaderStr);\n\n        // Create the vertex/fragment shaders\n        vertexShader = createShader( GLES30.GL_VERTEX_SHADER, vShaderStr );\n        fragmentShader = createShader( GLES30.GL_FRAGMENT_SHADER, fShaderStr );\n\n        // Create the program object\n        programObject = GLES30.glCreateProgram();\n\n        if ( programObject == 0 )\n        {\n            return;\n        }\n\n        GLES30.glAttachShader ( programObject, vertexShader );\n        GLES30.glAttachShader ( programObject, fragmentShader );\n\n        // Bind vPosition to attribute 0\n        GLES30.glBindAttribLocation ( programObject, 0, &quot;vPosition&quot; );\n\n        // Bind vNormal to attribute 1\n        GLES30.glBindAttribLocation ( programObject, 1, &quot;vNormal&quot; );\n\n        // Link the program\n        GLES30.glLinkProgram ( programObject );\n\n        // Check the link status\n        GLES30.glGetProgramiv ( programObject, GLES30.GL_LINK_STATUS, linked, 0 );\n\n        if ( linked[0] == 0 )\n        {\n            Log.e ( TAG, &quot;Error linking program:&quot; );\n            Log.e ( TAG, GLES30.glGetProgramInfoLog ( programObject ) );\n            GLES30.glDeleteProgram ( programObject );\n            return;\n        }\n\n        // Store the program object\n        mProgramObject = programObject;\n\n        GLES30.glClearColor ( 0.15f, 0.15f, 0.15f, 1.0f );\n        GLES30.glEnable(GLES30.GL_DEPTH_TEST);\n    }\n\n    //\n    // Draw a torus using the shader pair created in onSurfaceCreated()\n    //\n    public void onDrawFrame ( GL10 glUnused )\n    {\n        // Initiate the model-view matrix as identity matrix\n        Matrix.setIdentityM(mViewMatrix, 0);\n\n        // Define a translation transformation\n        Matrix.translateM(mViewMatrix, 0, 0.0f, 0.0f, -60.0f);\n        // Define a rotation transformation\n        Matrix.rotateM(mViewMatrix, 0, 90.0f, 1.0f, 0.0f, 0.0f);\n\n        // Calculate the model-view and projection transformation as composite transformation\n        Matrix.multiplyMM (mMVPMatrix, 0, mProjectionMatrix, 0, mViewMatrix, 0);\n\n        // Clear the color buffer\n        GLES30.glClear ( GLES30.GL_COLOR_BUFFER_BIT | GLES30.GL_DEPTH_BUFFER_BIT );\n\n        // Use the program object\n        GLES30.glUseProgram ( mProgramObject );\n\n        // Make MVP matrix accessible in the vertex shader\n        mMVPMatrixHandle = GLES30.glGetUniformLocation(mProgramObject, &quot;uMVPMatrix&quot;);\n        GLES30.glUniformMatrix4fv(mMVPMatrixHandle, 1, false, mMVPMatrix, 0);\n\n        // Light position:\n        vLightPositionHandle = GLES30.glGetUniformLocation(mProgramObject, &quot;vLightPosition&quot;);\n        GLES30.glUniform4fv(vLightPositionHandle, 1, lightPosition, 0);\n\n        // Light color:\n        vLightColorDfHandle = GLES30.glGetUniformLocation(mProgramObject, &quot;vLightColorDf&quot;);\n        GLES30.glUniform4fv(vLightColorDfHandle, 1, lightColorDf, 0);\n\n        // Material color:\n        vMaterialColorDfHandle = GLES30.glGetUniformLocation(mProgramObject, &quot;vMaterialColorDf&quot;);\n        GLES30.glUniform4fv(vMaterialColorDfHandle, 1, materialColorDf, 0);\n\n        // Load the vertex data from mVertices\n        GLES30.glVertexAttribPointer ( 0, 4, GLES30.GL_FLOAT, false, 0, mVertices );\n\n\n\n        // Assign vertex data to 'in' variable bound to attribute with index 0:\n        GLES30.glEnableVertexAttribArray ( 0 );\n\n        // Load the normal data from mNormals\n        GLES30.glVertexAttribPointer ( 1, 4, GLES30.GL_FLOAT, false, 0, mNormals );\n        // Assign normal data to 'in' variable bound to attribute with index 1:\n        GLES30.glEnableVertexAttribArray ( 1 );\n\n        GLES30.glDrawArrays (GLES30.GL_TRIANGLES, 0, nbrOfVertices);\n\n        GLES30.glDisableVertexAttribArray ( 1 );\n        GLES30.glDisableVertexAttribArray ( 0 );\n    }\n\n    //\n    // Handle surface changes\n    //\n    public void onSurfaceChanged ( GL10 glUnused, int width, int height )\n    {\n        mWidth = width;\n        mHeight = height;\n\n        GLES30.glViewport(0, 0, width, height);\n\n        float ratio = (float) width / height;\n\n        // this projection matrix is applied to object coordinates\n        Matrix.frustumM(mProjectionMatrix, 0, -ratio, ratio, -1.0f, 1.0f, 0.5f, 1000.0f);\n    }\n\n    // Member variables\n\n    private Context appContext;\n\n    private int mWidth;\n    private int mHeight;\n\n    private int nbrOfVertices;\n    private FloatBuffer mVertices;\n\n    private int nbrOfNormals;\n    private FloatBuffer mNormals;\n\n    private int mProgramObject;\n    private int mMVPMatrixHandle;\n\n    // Transformation data:\n    private final float[] mMVPMatrix = new float[16];\n    private final float[] mProjectionMatrix = new float[16];\n    private final float[] mViewMatrix = new float[16];\n\n    // Light position and color (only diffuse term now):\n    private int vLightPositionHandle;\n    private final float lightPosition [] = {175.0f, 75.0f, 125.0f, 0.0f};\n    // Light color (only diffuse term now):\n    private int vLightColorDfHandle;\n    private final float lightColorDf [] = {0.98f, 0.98f, 0.98f, 1.0f};\n    // Material color (only diffuse term now):\n    private int vMaterialColorDfHandle;\n    private final float materialColorDf [] = {0.62f, 0.773f, 0.843f, 1.0f};\n\n    // To be read when creating the instance:\n    private String vShaderStr;\n    private String fShaderStr;\n\n    private static String TAG = &quot;Modul3Renderer&quot;;\n}\n</code></pre>\n<p>I've tried for the past days now to understand how to write a code that uses the Object methods but I cant wrap my head around it and decided to ask. So I hope by asking I can get some understanding how to begin.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9286,"page":706,"page_size":100}
