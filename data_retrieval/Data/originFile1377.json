{"items":[{"tags":["java","php","com","apache-poi"],"comments":[{"owner":{"account_id":1319573,"reputation":21851,"user_id":1265660,"accept_rate":75,"display_name":"Masudul"},"score":0,"creation_date":1397138721,"post_id":22990348,"comment_id":35110477,"body_markdown":"Try to use `Apache poi`, a java library.","body":"Try to use <code>Apache poi</code>, a java library."},{"owner":{"account_id":2085852,"reputation":2746,"user_id":1858727,"accept_rate":51,"display_name":"opensource-developer"},"score":0,"creation_date":1397138749,"post_id":22990348,"comment_id":35110496,"body_markdown":"Would that work for ppt, pptx, doc and docx?","body":"Would that work for ppt, pptx, doc and docx?"},{"owner":{"account_id":1997699,"reputation":1780,"user_id":1789515,"display_name":"Mattt"},"score":0,"creation_date":1397138986,"post_id":22990348,"comment_id":35110692,"body_markdown":"@opensource-ios why not try it?","body":"@opensource-ios why not try it?"},{"owner":{"account_id":2085852,"reputation":2746,"user_id":1858727,"accept_rate":51,"display_name":"opensource-developer"},"score":0,"creation_date":1397139187,"post_id":22990348,"comment_id":35110840,"body_markdown":"Hi matt, i am not very aware of Java, I know PHP, for me to try it would take a lot of time, i would love to try myslef, but if i could be sure it works, it would be great.","body":"Hi matt, i am not very aware of Java, I know PHP, for me to try it would take a lot of time, i would love to try myslef, but if i could be sure it works, it would be great."},{"owner":{"account_id":279462,"reputation":20753,"user_id":574632,"accept_rate":95,"display_name":"Steve"},"score":0,"creation_date":1397139347,"post_id":22990348,"comment_id":35110953,"body_markdown":"I believe ms openxml library is broadly mono compliant, and works well with these document formats. Would involve installing mono, writing some c# and calling the resulting executable from php. There is probably a simpler solution","body":"I believe ms openxml library is broadly mono compliant, and works well with these document formats. Would involve installing mono, writing some c# and calling the resulting executable from php. There is probably a simpler solution"},{"owner":{"account_id":2085852,"reputation":2746,"user_id":1858727,"accept_rate":51,"display_name":"opensource-developer"},"score":0,"creation_date":1397139469,"post_id":22990348,"comment_id":35111049,"body_markdown":"user574632,but my environment is LINUX server","body":"user574632,but my environment is LINUX server"},{"owner":{"account_id":279462,"reputation":20753,"user_id":574632,"accept_rate":95,"display_name":"Steve"},"score":0,"creation_date":1397139861,"post_id":22990348,"comment_id":35111360,"body_markdown":"@opensource-ios yes, hence why MONO compliance is key. MONO lets you run .net on linux and other platforms http://www.mono-project.com/Main_Page","body":"@opensource-ios yes, hence why MONO compliance is key. MONO lets you run .net on linux and other platforms <a href=\"http://www.mono-project.com/Main_Page\" rel=\"nofollow noreferrer\">mono-project.com/Main_Page</a>"},{"owner":{"account_id":127435,"reputation":210335,"user_id":324584,"accept_rate":91,"display_name":"Mark Baker"},"score":0,"creation_date":1397139979,"post_id":22990348,"comment_id":35111432,"body_markdown":"So how is this any different to your [previous](http://stackoverflow.com/questions/22984443/access-word-document-properties-and-power-point-document-properties-using-php-co) [questions](http://stackoverflow.com/questions/22834697/how-can-i-find-the-number-of-pages-in-word-document-and-number-of-slides-in-ppt) on the same subject?","body":"So how is this any different to your <a href=\"http://stackoverflow.com/questions/22984443/access-word-document-properties-and-power-point-document-properties-using-php-co\">previous</a> <a href=\"http://stackoverflow.com/questions/22834697/how-can-i-find-the-number-of-pages-in-word-document-and-number-of-slides-in-ppt\">questions</a> on the same subject?"},{"owner":{"account_id":2085852,"reputation":2746,"user_id":1858727,"accept_rate":51,"display_name":"opensource-developer"},"score":0,"creation_date":1397140076,"post_id":22990348,"comment_id":35111503,"body_markdown":"@ Mark Baker, previously It was restricted to PHP, now i am looking for any kind of solution which i can integrate.","body":"@ Mark Baker, previously It was restricted to PHP, now i am looking for any kind of solution which i can integrate."},{"owner":{"account_id":2085852,"reputation":2746,"user_id":1858727,"accept_rate":51,"display_name":"opensource-developer"},"score":0,"creation_date":1397140091,"post_id":22990348,"comment_id":35111522,"body_markdown":"Thanks user574632, i will check that","body":"Thanks user574632, i will check that"}],"answers":[{"tags":[],"owner":{"account_id":2085852,"reputation":2746,"user_id":1858727,"accept_rate":51,"display_name":"opensource-developer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651676246,"creation_date":1397218564,"answer_id":23012294,"question_id":22990348,"body_markdown":"To get meta data properties of `doc`, `docx`, `ppt` and `pptx` like number of pages, number of slides I followed the following process and it worked liked a charm. Hope it helps someone:\r\n\r\n\r\n1. Download and configure [`Apache Tika`](https://tika.apache.org/)\r\n\r\n2. Once its done you could try executing the following commands, to get all the meta data about your file:\r\n\r\n```\r\njava -jar tika-app-1.5.jar -m test.docx\r\njava -jar tika-app-1.5.jar -m test.doc\r\njava -jar tika-app-1.5.jar -m test.pptx\r\njava -jar tika-app-1.5.jar -m test.ppt\r\n```\r\nOnce tested you can execute these commands in a PHP script. Thanks.\r\n","title":"get word document count and number of slides count in PPT","body":"<p>To get meta data properties of <code>doc</code>, <code>docx</code>, <code>ppt</code> and <code>pptx</code> like number of pages, number of slides I followed the following process and it worked liked a charm. Hope it helps someone:</p>\n<ol>\n<li><p>Download and configure <a href=\"https://tika.apache.org/\" rel=\"nofollow noreferrer\"><code>Apache Tika</code></a></p>\n</li>\n<li><p>Once its done you could try executing the following commands, to get all the meta data about your file:</p>\n</li>\n</ol>\n<pre><code>java -jar tika-app-1.5.jar -m test.docx\njava -jar tika-app-1.5.jar -m test.doc\njava -jar tika-app-1.5.jar -m test.pptx\njava -jar tika-app-1.5.jar -m test.ppt\n</code></pre>\n<p>Once tested you can execute these commands in a PHP script. Thanks.</p>\n"}],"owner":{"account_id":2085852,"reputation":2746,"user_id":1858727,"accept_rate":51,"display_name":"opensource-developer"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":994,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":23012294,"answer_count":1,"score":1,"last_activity_date":1651676317,"creation_date":1397138645,"question_id":22990348,"body_markdown":"Is it possible to get the number of pages in word document or number of slides in a ppt?\r\n\r\nI have done a lot of research on it and I am desperately looking for  solution.  I saw that it is very difficult to get it done in PHP on linux server.\r\n\r\nI would be ok with Java also, but is it possible. I checked the apache POI library, but would it work for both `ppt`, `pptx`, `doc` and `docx`?\r\n\r\nI am rigorously searching for some solution but I am unable to get one. Any help would be really really appreciated.","title":"get word document count and number of slides count in PPT","body":"<p>Is it possible to get the number of pages in word document or number of slides in a ppt?</p>\n<p>I have done a lot of research on it and I am desperately looking for  solution.  I saw that it is very difficult to get it done in PHP on linux server.</p>\n<p>I would be ok with Java also, but is it possible. I checked the apache POI library, but would it work for both <code>ppt</code>, <code>pptx</code>, <code>doc</code> and <code>docx</code>?</p>\n<p>I am rigorously searching for some solution but I am unable to get one. Any help would be really really appreciated.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1651676107,"post_id":72114949,"comment_id":127420432,"body_markdown":"Are you asking how to modify the `BufferedImage` that method `createScreenCapture` (in class `java.awt.Robot`) returns?","body":"Are you asking how to modify the <code>BufferedImage</code> that method <code>createScreenCapture</code> (in class <code>java.awt.Robot</code>) returns?"}],"answers":[{"tags":[],"owner":{"account_id":19185912,"reputation":40,"user_id":14016710,"display_name":"Mohamed Essam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651676226,"creation_date":1651675664,"answer_id":72115010,"question_id":72114949,"body_markdown":"You can click on a specific Pixel with the mouse using **Robot** class in java\r\nand move it using `move` method.\r\n\r\n    import java.awt.Robot;\r\n    import java.awt.AWTException;\r\n    import java.awt.event.InputEvent;\r\n    \r\n    public class MouseClicker {\r\n    \r\n        static Robot rb;\r\n    \r\n        public static void main(String[] args) {\r\n            try {\r\n                rb = new Robot();\r\n            } catch (AWTException e) {\r\n                System.out.println(&quot;Error while creating object&quot; + e);\r\n            }\r\n            rb.mouseMove(1360, 768); //this method takes two parameters (Height, Width)\r\n            rb.mousePress(InputEvent.BUTTON1_DOWN_MASK);//this method takes one parameter (BUTTON) to press it\r\n            rb.delay(10); //this is the delay between every press\r\n            rb.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);//this method takes one parameter (BUTTON) to release it\r\n        }\r\n    }\r\n\r\n\r\nFor more reference you can see the [Oracle Docs][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/awt/Robot.html","title":"How to move cursor and click on a specific pixel in java screen","body":"<p>You can click on a specific Pixel with the mouse using <strong>Robot</strong> class in java\nand move it using <code>move</code> method.</p>\n<pre><code>import java.awt.Robot;\nimport java.awt.AWTException;\nimport java.awt.event.InputEvent;\n\npublic class MouseClicker {\n\n    static Robot rb;\n\n    public static void main(String[] args) {\n        try {\n            rb = new Robot();\n        } catch (AWTException e) {\n            System.out.println(&quot;Error while creating object&quot; + e);\n        }\n        rb.mouseMove(1360, 768); //this method takes two parameters (Height, Width)\n        rb.mousePress(InputEvent.BUTTON1_DOWN_MASK);//this method takes one parameter (BUTTON) to press it\n        rb.delay(10); //this is the delay between every press\n        rb.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);//this method takes one parameter (BUTTON) to release it\n    }\n}\n</code></pre>\n<p>For more reference you can see the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/awt/Robot.html\" rel=\"nofollow noreferrer\">Oracle Docs</a>.</p>\n"}],"owner":{"account_id":25194552,"reputation":13,"user_id":19034288,"display_name":"Hima"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":382,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72115010,"answer_count":1,"score":1,"last_activity_date":1651676226,"creation_date":1651675396,"question_id":72114949,"body_markdown":"I am trying to move cursor to a specific pixel in the screen and click on it using a java program.\r\n\r\nI tried to capture a screenshot then work on it but I am stuck.\r\n\r\n    Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\r\n    Rectangle screenRectangle = new Rectangle(screenSize);\r\n    Robot robot = new Robot();\r\n    BufferedImage image = robot.createScreenCapture(screenRectangle)\r\n","title":"How to move cursor and click on a specific pixel in java screen","body":"<p>I am trying to move cursor to a specific pixel in the screen and click on it using a java program.</p>\n<p>I tried to capture a screenshot then work on it but I am stuck.</p>\n<pre><code>Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\nRectangle screenRectangle = new Rectangle(screenSize);\nRobot robot = new Robot();\nBufferedImage image = robot.createScreenCapture(screenRectangle)\n</code></pre>\n"},{"tags":["java","sorting","optimization","java-stream","collectors"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1651665930,"post_id":72112541,"comment_id":127416118,"body_markdown":"Is the current implementation problematic? The problem with trying to do this &quot;better&quot; is that you would need a stateful filter (keeping track of the number of reds observed in the stream); but the documentation of `Stream.filter` says that filters should be stateless https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Stream.html#filter(java.util.function.Predicate).","body":"Is the current implementation problematic? The problem with trying to do this &quot;better&quot; is that you would need a stateful filter (keeping track of the number of reds observed in the stream); but the documentation of <code>Stream.filter</code> says that filters should be stateless <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Stream.html#filter(java.util.function.Predicate)\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/11/docs/api/java.base/java/ut&zwnj;&#8203;il/&hellip;</a>."},{"owner":{"account_id":17832421,"reputation":4234,"user_id":12952113,"display_name":"Alex Sveshnikov"},"score":1,"creation_date":1651666083,"post_id":72112541,"comment_id":127416180,"body_markdown":"In addition to what @AndyTurner said I would suggest using `.sorted(Comparator.comparingInt(ElementsVO::getAge))` instead of explicit lambda","body":"In addition to what @AndyTurner said I would suggest using <code>.sorted(Comparator.comparingInt(ElementsVO::getAge))</code> instead of explicit lambda"},{"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"score":0,"creation_date":1651667186,"post_id":72112541,"comment_id":127416596,"body_markdown":"You could write a List-collector that only collects the first 2 RED items","body":"You could write a List-collector that only collects the first 2 RED items"},{"owner":{"account_id":5494181,"reputation":71,"user_id":4365886,"display_name":"Alejandro Armenteros"},"score":0,"creation_date":1651733657,"post_id":72112541,"comment_id":127434158,"body_markdown":"Sure it was working, but i just discovered the stream API and wanted to know if there were any ways of improvement that did not require, double streams like in my example.","body":"Sure it was working, but i just discovered the stream API and wanted to know if there were any ways of improvement that did not require, double streams like in my example."}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651666206,"creation_date":1651666206,"answer_id":72112730,"question_id":72112541,"body_markdown":"You can technically do this with a stateful predicate:\r\n\r\n```\r\nPredicate&lt;ElementsV0&gt; statefulPredicate = new Predicate&lt;ElementsV0&gt;() {\r\n  private int reds = 0;\r\n\r\n  @Override public boolean test(ElementsV0 e) {\r\n    if (elem.getColor() == RED) {\r\n      reds++;\r\n      return reds &lt; 2;\r\n    }\r\n    return true;\r\n  }\r\n};\r\n```\r\n\r\nThen:\r\n\r\n```\r\nList&lt;ElementsVO&gt; resultList =\r\n    allElements.stream()\r\n        .sorted(comparingInt(ElementsV0::getAge))\r\n        .filter(statefulPredicate)\r\n        .collect(toList());\r\n```\r\n\r\nThis _might_ work, but it is a violation of the Stream API: the documentation for [`Stream.filter`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Stream.html#filter(java.util.function.Predicate)) says that the predicate should be stateless, which in general allows the stream implementation to apply the filter in any order. For small input lists, streamed sequentially, this will almost certainly be the appearance order in the list, but it&#39;s not guaranteed.\r\n\r\nCaveat emptor. Your current way works, although you could do the partitioning of the list more efficiently using `Collectors.partitioningBy` to avoid iterating it twice.","title":"How to remove all elements that match a certain condition except for N greatest of them with Stream API","body":"<p>You can technically do this with a stateful predicate:</p>\n<pre><code>Predicate&lt;ElementsV0&gt; statefulPredicate = new Predicate&lt;ElementsV0&gt;() {\n  private int reds = 0;\n\n  @Override public boolean test(ElementsV0 e) {\n    if (elem.getColor() == RED) {\n      reds++;\n      return reds &lt; 2;\n    }\n    return true;\n  }\n};\n</code></pre>\n<p>Then:</p>\n<pre><code>List&lt;ElementsVO&gt; resultList =\n    allElements.stream()\n        .sorted(comparingInt(ElementsV0::getAge))\n        .filter(statefulPredicate)\n        .collect(toList());\n</code></pre>\n<p>This <em>might</em> work, but it is a violation of the Stream API: the documentation for <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Stream.html#filter(java.util.function.Predicate)\" rel=\"nofollow noreferrer\"><code>Stream.filter</code></a> says that the predicate should be stateless, which in general allows the stream implementation to apply the filter in any order. For small input lists, streamed sequentially, this will almost certainly be the appearance order in the list, but it's not guaranteed.</p>\n<p>Caveat emptor. Your current way works, although you could do the partitioning of the list more efficiently using <code>Collectors.partitioningBy</code> to avoid iterating it twice.</p>\n"},{"tags":[],"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651671606,"creation_date":1651670877,"answer_id":72113766,"question_id":72112541,"body_markdown":"I wrote a generic Collector with a predicate and a limit of elements to add which match the predicate:\r\n\r\n    public class LimitedMatchCollector&lt;T&gt; implements Collector&lt;T, List&lt;T&gt;, List&lt;T&gt;&gt; {\r\n\r\n        private Predicate&lt;T&gt; filter;\r\n\r\n        private int limit;\r\n\r\n        public LimitedMatchCollector(Predicate&lt;T&gt; filter, int limit)\r\n        {\r\n            super();\r\n            this.filter = filter;\r\n            this.limit = limit;\r\n        }\r\n\r\n        private int count = 0;\r\n\r\n        @Override\r\n        public Supplier&lt;List&lt;T&gt;&gt; supplier() {\r\n            return () -&gt; new ArrayList&lt;T&gt;();\r\n        }\r\n\r\n        @Override\r\n        public BiConsumer&lt;List&lt;T&gt;, T&gt; accumulator() {\r\n            return this::accumulator;\r\n        }\r\n\r\n        @Override\r\n        public BinaryOperator&lt;List&lt;T&gt;&gt; combiner() {\r\n            return this::combiner;\r\n        }\r\n\r\n        @Override\r\n        public Set&lt;Characteristics&gt; characteristics() {\r\n            return Stream.of(Characteristics.IDENTITY_FINISH)\r\n                    .collect(Collectors.toCollection(HashSet::new));\r\n        }\r\n\r\n        public List&lt;T&gt; accumulator(List&lt;T&gt; list , T e) {\r\n            if (filter.test(e)) {\r\n\r\n               if (count &gt;= limit) {\r\n                   return list;\r\n               }\r\n               count++;\r\n            }\r\n            list.add(e);\r\n            return list;\r\n        }\r\n\r\n        public List&lt;T&gt; combiner(List&lt;T&gt; left , List&lt;T&gt; right) {\r\n            right.forEach( e -&gt; {\r\n                if (filter.test(e)) {\r\n\r\n                    if (count &lt; limit) {\r\n                        left.add(e);\r\n                        count++;\r\n                    }\r\n                 }\r\n            });\r\n\r\n            return left;\r\n        }\r\n\r\n        @Override\r\n        public Function&lt;List&lt;T&gt;, List&lt;T&gt;&gt; finisher()\r\n        {\r\n            return Function.identity();\r\n        }\r\n\r\n    }\r\n\r\n\r\n**Usage:**\r\n\r\n        List&lt;ElementsVO&gt; list = Arrays.asList(new ElementsVO(&quot;BLUE&quot;, 1)\r\n               ,new ElementsVO(&quot;BLUE&quot;, 2) // made color a String\r\n               ,new ElementsVO(&quot;RED&quot;, 3)\r\n               ,new ElementsVO(&quot;RED&quot;, 4)\r\n               ,new ElementsVO(&quot;GREEN&quot;, 5)\r\n               ,new ElementsVO(&quot;RED&quot;, 6)\r\n               ,new ElementsVO(&quot;YELLOW&quot;, 7)\r\n               );\r\n        System.out.println(list.stream().collect(new LimitedMatchCollector&lt;ElementsVO&gt;( (e) -&gt; &quot;RED&quot;.equals(e.getColor()),2)));\r\n","title":"How to remove all elements that match a certain condition except for N greatest of them with Stream API","body":"<p>I wrote a generic Collector with a predicate and a limit of elements to add which match the predicate:</p>\n<pre><code>public class LimitedMatchCollector&lt;T&gt; implements Collector&lt;T, List&lt;T&gt;, List&lt;T&gt;&gt; {\n\n    private Predicate&lt;T&gt; filter;\n\n    private int limit;\n\n    public LimitedMatchCollector(Predicate&lt;T&gt; filter, int limit)\n    {\n        super();\n        this.filter = filter;\n        this.limit = limit;\n    }\n\n    private int count = 0;\n\n    @Override\n    public Supplier&lt;List&lt;T&gt;&gt; supplier() {\n        return () -&gt; new ArrayList&lt;T&gt;();\n    }\n\n    @Override\n    public BiConsumer&lt;List&lt;T&gt;, T&gt; accumulator() {\n        return this::accumulator;\n    }\n\n    @Override\n    public BinaryOperator&lt;List&lt;T&gt;&gt; combiner() {\n        return this::combiner;\n    }\n\n    @Override\n    public Set&lt;Characteristics&gt; characteristics() {\n        return Stream.of(Characteristics.IDENTITY_FINISH)\n                .collect(Collectors.toCollection(HashSet::new));\n    }\n\n    public List&lt;T&gt; accumulator(List&lt;T&gt; list , T e) {\n        if (filter.test(e)) {\n\n           if (count &gt;= limit) {\n               return list;\n           }\n           count++;\n        }\n        list.add(e);\n        return list;\n    }\n\n    public List&lt;T&gt; combiner(List&lt;T&gt; left , List&lt;T&gt; right) {\n        right.forEach( e -&gt; {\n            if (filter.test(e)) {\n\n                if (count &lt; limit) {\n                    left.add(e);\n                    count++;\n                }\n             }\n        });\n\n        return left;\n    }\n\n    @Override\n    public Function&lt;List&lt;T&gt;, List&lt;T&gt;&gt; finisher()\n    {\n        return Function.identity();\n    }\n\n}\n</code></pre>\n<p><strong>Usage:</strong></p>\n<pre><code>    List&lt;ElementsVO&gt; list = Arrays.asList(new ElementsVO(&quot;BLUE&quot;, 1)\n           ,new ElementsVO(&quot;BLUE&quot;, 2) // made color a String\n           ,new ElementsVO(&quot;RED&quot;, 3)\n           ,new ElementsVO(&quot;RED&quot;, 4)\n           ,new ElementsVO(&quot;GREEN&quot;, 5)\n           ,new ElementsVO(&quot;RED&quot;, 6)\n           ,new ElementsVO(&quot;YELLOW&quot;, 7)\n           );\n    System.out.println(list.stream().collect(new LimitedMatchCollector&lt;ElementsVO&gt;( (e) -&gt; &quot;RED&quot;.equals(e.getColor()),2)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651675800,"creation_date":1651671765,"answer_id":72113998,"question_id":72112541,"body_markdown":"You can implement a **custom collector** that will maintain two separate collections of *RED* and *non-RED* element. \r\n\r\nAnd since you need only two red elements having the greatest age to improve performance, you can introduce a **partial sorting**. I.e. collection of non-red element needs to maintain an order and always must be of size `2` at most, with that overhead of sorting will be far less significant in comparison to sorting of elements having the property of `RED` in order to pick only two of them.\r\n\r\nIn order to create a *custom collector*, you might make use of the static method [`Collector.of()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html#of(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BinaryOperator,java.util.function.Function,java.util.stream.Collector.Characteristics...)) which expects the following arguments:\r\n\r\n* **Supplier** `Supplier&lt;A&gt;` is meant to provide a *mutable container* which store elements of the stream. Because we need to separate elements by color into two groups as a container, we can use a map that will contain only `2` *keys* (`true` and `false`), denoting whether elements mapped to this *key* are *red*. In order to store *red-elements* and perform a *partial sorting*, we need a collection that is capable of maintaining the order. `PriorityQueue` is a good choice for that purpose. To store all other elements, I&#39;ve used `ArrayDeque`, which doesn&#39;t maintain the order and as fast as `ArrayList`.\r\n* **Accumulator** BiConsumer&lt;A,T&gt; defines how to add elements into the *mutable container* provided by the *supplier*. For this task, the *accumulator* needs to guarantee that the queue, containing *red-elements* will not exceed the given size by rejecting values that are smaller than the lowest value previously added to the queue and by removing the lowest value if the size has reached the limit and a new value needs to be added. This functionality extracted into a separate method `tryAdd()`\r\n* **Combiner** `BinaryOperator&lt;A&gt; combiner()` establishes a rule on how to merge two *containers* obtained while executing stream in parallel. Here, combiner rely on the same logic that was described for accumulator.\r\n* **Finisher** `Function&lt;A,R&gt;` is meant to produce the *final result* by transforming the *mutable container*. In the code below, finisher dumps the contents of both queues into a stream, sorts them and collects into an immutable list.\r\n* **Characteristics** allow fine-tuning the collector by providing additional information on how it should function. Here a characteristic `Collector.Characteristics.UNORDERED` is being applied. Which indicates that the order in which partial results of the reduction produced in parallel is not significant, that can improve performance of this collector with parallel streams.\r\n\r\nThe code might look like this:\r\n\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;ElementsVO&gt; allElements =\r\n            List.of(new ElementsVO(Color.RED, 25), new ElementsVO(Color.RED, 23), new ElementsVO(Color.RED, 27),\r\n                    new ElementsVO(Color.BLACK, 19), new ElementsVO(Color.GREEN, 23), new ElementsVO(Color.GREEN, 29));\r\n        \r\n        Comparator&lt;ElementsVO&gt; byAge = Comparator.comparing(ElementsVO::getAge);\r\n        \r\n        List&lt;ElementsVO&gt; resultList = allElements.stream()\r\n            .collect(getNFiltered(byAge, element -&gt; element.getColor() != Color.RED, 2));\r\n    \r\n        resultList.forEach(System.out::println);\r\n    }\r\n\r\nThe method below is responsible for creating of a collector that partition the elements based on the given *predicate* and will sort them in accordance with the provided *comparator*.\r\n\r\n    public static &lt;T&gt; Collector&lt;T, ?, List&lt;T&gt;&gt; getNFiltered(Comparator&lt;T&gt; comparator,\r\n                                                            Predicate&lt;T&gt; condition,\r\n                                                            int limit) {\r\n        return Collector.of(\r\n            () -&gt; Map.of(true, new PriorityQueue&lt;&gt;(comparator),\r\n                false, new ArrayDeque&lt;&gt;()),\r\n            (Map&lt;Boolean, Queue&lt;T&gt;&gt; isRed, T next) -&gt; {\r\n                if (condition.test(next)) isRed.get(false).add(next);\r\n                else tryAdd(isRed.get(true), next, comparator, limit);\r\n            },\r\n            (Map&lt;Boolean, Queue&lt;T&gt;&gt; left, Map&lt;Boolean, Queue&lt;T&gt;&gt; right) -&gt; {\r\n                left.get(false).addAll(right.get(false));\r\n                left.get(true).forEach(next -&gt; tryAdd(left.get(true), next, comparator, limit));\r\n                return left;\r\n            },\r\n            (Map&lt;Boolean, Queue&lt;T&gt;&gt; isRed) -&gt; isRed.values().stream()\r\n                .flatMap(Queue::stream).sorted(comparator).toList(),\r\n            Collector.Characteristics.UNORDERED\r\n        );\r\n    }\r\n\r\nThis method is responsible for adding the next *red-element* into the priority queue. It expects a *comparator* in order to be able to determine whether the next element should be added or discarded, and a value of the maximum size of the queue (`2`), to check if it was exceeded.\r\n\r\n    public static &lt;T&gt; void tryAdd(Queue&lt;T&gt; queue, T next, Comparator&lt;T&gt; comparator, int size) {\r\n        if (queue.size() == size &amp;&amp; comparator.compare(queue.element(), next) &lt; 0)\r\n            queue.remove(); // if the next element is greater than the smallest element in the queue and max size has been exceeded, the smallest element needs to be removed from the queue\r\n        if (queue.size() &lt; size) queue.add(next);\r\n    }\r\n\r\n**Output**\r\n```\r\nlementsVO{color=BLACK, age=19}\r\nElementsVO{color=GREEN, age=23}\r\nElementsVO{color=RED, age=25}\r\nElementsVO{color=RED, age=27}\r\nElementsVO{color=GREEN, age=29}\r\n```  ","title":"How to remove all elements that match a certain condition except for N greatest of them with Stream API","body":"<p>You can implement a <strong>custom collector</strong> that will maintain two separate collections of <em>RED</em> and <em>non-RED</em> element.</p>\n<p>And since you need only two red elements having the greatest age to improve performance, you can introduce a <strong>partial sorting</strong>. I.e. collection of non-red element needs to maintain an order and always must be of size <code>2</code> at most, with that overhead of sorting will be far less significant in comparison to sorting of elements having the property of <code>RED</code> in order to pick only two of them.</p>\n<p>In order to create a <em>custom collector</em>, you might make use of the static method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html#of(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BinaryOperator,java.util.function.Function,java.util.stream.Collector.Characteristics...)\" rel=\"nofollow noreferrer\"><code>Collector.of()</code></a> which expects the following arguments:</p>\n<ul>\n<li><strong>Supplier</strong> <code>Supplier&lt;A&gt;</code> is meant to provide a <em>mutable container</em> which store elements of the stream. Because we need to separate elements by color into two groups as a container, we can use a map that will contain only <code>2</code> <em>keys</em> (<code>true</code> and <code>false</code>), denoting whether elements mapped to this <em>key</em> are <em>red</em>. In order to store <em>red-elements</em> and perform a <em>partial sorting</em>, we need a collection that is capable of maintaining the order. <code>PriorityQueue</code> is a good choice for that purpose. To store all other elements, I've used <code>ArrayDeque</code>, which doesn't maintain the order and as fast as <code>ArrayList</code>.</li>\n<li><strong>Accumulator</strong> BiConsumer&lt;A,T&gt; defines how to add elements into the <em>mutable container</em> provided by the <em>supplier</em>. For this task, the <em>accumulator</em> needs to guarantee that the queue, containing <em>red-elements</em> will not exceed the given size by rejecting values that are smaller than the lowest value previously added to the queue and by removing the lowest value if the size has reached the limit and a new value needs to be added. This functionality extracted into a separate method <code>tryAdd()</code></li>\n<li><strong>Combiner</strong> <code>BinaryOperator&lt;A&gt; combiner()</code> establishes a rule on how to merge two <em>containers</em> obtained while executing stream in parallel. Here, combiner rely on the same logic that was described for accumulator.</li>\n<li><strong>Finisher</strong> <code>Function&lt;A,R&gt;</code> is meant to produce the <em>final result</em> by transforming the <em>mutable container</em>. In the code below, finisher dumps the contents of both queues into a stream, sorts them and collects into an immutable list.</li>\n<li><strong>Characteristics</strong> allow fine-tuning the collector by providing additional information on how it should function. Here a characteristic <code>Collector.Characteristics.UNORDERED</code> is being applied. Which indicates that the order in which partial results of the reduction produced in parallel is not significant, that can improve performance of this collector with parallel streams.</li>\n</ul>\n<p>The code might look like this:</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;ElementsVO&gt; allElements =\n        List.of(new ElementsVO(Color.RED, 25), new ElementsVO(Color.RED, 23), new ElementsVO(Color.RED, 27),\n                new ElementsVO(Color.BLACK, 19), new ElementsVO(Color.GREEN, 23), new ElementsVO(Color.GREEN, 29));\n    \n    Comparator&lt;ElementsVO&gt; byAge = Comparator.comparing(ElementsVO::getAge);\n    \n    List&lt;ElementsVO&gt; resultList = allElements.stream()\n        .collect(getNFiltered(byAge, element -&gt; element.getColor() != Color.RED, 2));\n\n    resultList.forEach(System.out::println);\n}\n</code></pre>\n<p>The method below is responsible for creating of a collector that partition the elements based on the given <em>predicate</em> and will sort them in accordance with the provided <em>comparator</em>.</p>\n<pre><code>public static &lt;T&gt; Collector&lt;T, ?, List&lt;T&gt;&gt; getNFiltered(Comparator&lt;T&gt; comparator,\n                                                        Predicate&lt;T&gt; condition,\n                                                        int limit) {\n    return Collector.of(\n        () -&gt; Map.of(true, new PriorityQueue&lt;&gt;(comparator),\n            false, new ArrayDeque&lt;&gt;()),\n        (Map&lt;Boolean, Queue&lt;T&gt;&gt; isRed, T next) -&gt; {\n            if (condition.test(next)) isRed.get(false).add(next);\n            else tryAdd(isRed.get(true), next, comparator, limit);\n        },\n        (Map&lt;Boolean, Queue&lt;T&gt;&gt; left, Map&lt;Boolean, Queue&lt;T&gt;&gt; right) -&gt; {\n            left.get(false).addAll(right.get(false));\n            left.get(true).forEach(next -&gt; tryAdd(left.get(true), next, comparator, limit));\n            return left;\n        },\n        (Map&lt;Boolean, Queue&lt;T&gt;&gt; isRed) -&gt; isRed.values().stream()\n            .flatMap(Queue::stream).sorted(comparator).toList(),\n        Collector.Characteristics.UNORDERED\n    );\n}\n</code></pre>\n<p>This method is responsible for adding the next <em>red-element</em> into the priority queue. It expects a <em>comparator</em> in order to be able to determine whether the next element should be added or discarded, and a value of the maximum size of the queue (<code>2</code>), to check if it was exceeded.</p>\n<pre><code>public static &lt;T&gt; void tryAdd(Queue&lt;T&gt; queue, T next, Comparator&lt;T&gt; comparator, int size) {\n    if (queue.size() == size &amp;&amp; comparator.compare(queue.element(), next) &lt; 0)\n        queue.remove(); // if the next element is greater than the smallest element in the queue and max size has been exceeded, the smallest element needs to be removed from the queue\n    if (queue.size() &lt; size) queue.add(next);\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>lementsVO{color=BLACK, age=19}\nElementsVO{color=GREEN, age=23}\nElementsVO{color=RED, age=25}\nElementsVO{color=RED, age=27}\nElementsVO{color=GREEN, age=29}\n</code></pre>\n"}],"owner":{"account_id":5494181,"reputation":71,"user_id":4365886,"display_name":"Alejandro Armenteros"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":669,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1651675800,"creation_date":1651665231,"question_id":72112541,"body_markdown":"My question is: is there a better way to implement this task?\r\n\r\nI have a list of orderable elements (in this example by `age`, the youngest first).\r\nAnd I want to delete all elements that fulfill a *condition* (in this example *red elements*) but keep the first `2` of them.\r\n\r\n    Stream&lt;ElementsVO&gt; stream = allElements.stream();\r\n\tStream&lt;ElementsVO&gt; redStream = stream.filter(elem-&gt;elem.getColor()==RED).sorted((c1, c2) -&gt; { return c1.getAge() - c2.getAge();\r\n\t\t\t\t}).limit(2);\r\n\tStream&lt;ElementsVO&gt; nonRedStream=stream.filter(elem-&gt;elem.getColor()!=RED);\r\n\r\n\tList&lt;ElementsVO&gt; resultList = Stream.concat(redStream,nonRedStream).sorted((c1, c2) -&gt; { return c1.getAge() - c2.getAge();\r\n\t\t\t\t}).collect(Collectors.toList());\r\n\t\t\r\nAny idea to improve this? Any way to implement an accumulator function or something like that with streams?\r\n","title":"How to remove all elements that match a certain condition except for N greatest of them with Stream API","body":"<p>My question is: is there a better way to implement this task?</p>\n<p>I have a list of orderable elements (in this example by <code>age</code>, the youngest first).\nAnd I want to delete all elements that fulfill a <em>condition</em> (in this example <em>red elements</em>) but keep the first <code>2</code> of them.</p>\n<pre><code>Stream&lt;ElementsVO&gt; stream = allElements.stream();\nStream&lt;ElementsVO&gt; redStream = stream.filter(elem-&gt;elem.getColor()==RED).sorted((c1, c2) -&gt; { return c1.getAge() - c2.getAge();\n            }).limit(2);\nStream&lt;ElementsVO&gt; nonRedStream=stream.filter(elem-&gt;elem.getColor()!=RED);\n\nList&lt;ElementsVO&gt; resultList = Stream.concat(redStream,nonRedStream).sorted((c1, c2) -&gt; { return c1.getAge() - c2.getAge();\n            }).collect(Collectors.toList());\n    \n</code></pre>\n<p>Any idea to improve this? Any way to implement an accumulator function or something like that with streams?</p>\n"},{"tags":["java","android","firebase-realtime-database","arduino-uno"],"answers":[{"tags":[],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651658790,"creation_date":1651658790,"answer_id":72111184,"question_id":72110723,"body_markdown":"&gt;I want my app to check for the value even if the app is closed\r\n\r\nThat does not seem hard. You can use a `Service` class and then do the event listener task there. Since you haven&#39;t asked for any code, I won&#39;t share it.\r\n\r\n[This](https://stackoverflow.com/q/46618432/17133283) is a good post on it","title":"How to detect change in firebase by using android studio?","body":"<blockquote>\n<p>I want my app to check for the value even if the app is closed</p>\n</blockquote>\n<p>That does not seem hard. You can use a <code>Service</code> class and then do the event listener task there. Since you haven't asked for any code, I won't share it.</p>\n<p><a href=\"https://stackoverflow.com/q/46618432/17133283\">This</a> is a good post on it</p>\n"}],"owner":{"account_id":21843527,"reputation":43,"user_id":16136742,"display_name":"Aarya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1651674603,"accepted_answer_id":72111184,"answer_count":1,"score":1,"last_activity_date":1651674808,"creation_date":1651656621,"question_id":72110723,"body_markdown":" My Arduino-Uno(this chip is not related to this question) sends either one of two values to **firebase**, **1 or 0**, I want it so that every time the value in the database is updated, it gets detected in android studio and it checks if the value updated is one\r\n\r\nI don&#39;t particularly require a block of code, I just need to know the concept of this part. I want my app to check for the value even if the app is closed, for which which I did find something on stack overflow.\r\n","title":"How to detect change in firebase by using android studio?","body":"<p>My Arduino-Uno(this chip is not related to this question) sends either one of two values to <strong>firebase</strong>, <strong>1 or 0</strong>, I want it so that every time the value in the database is updated, it gets detected in android studio and it checks if the value updated is one</p>\n<p>I don't particularly require a block of code, I just need to know the concept of this part. I want my app to check for the value even if the app is closed, for which which I did find something on stack overflow.</p>\n"},{"tags":["java","apache-poi","aspose-slides"],"comments":[{"owner":{"account_id":1109015,"reputation":1359,"user_id":1099819,"accept_rate":75,"display_name":"Mirko Ebert"},"score":1,"creation_date":1608550194,"post_id":65389294,"comment_id":115609238,"body_markdown":"Do you have any error message and code?","body":"Do you have any error message and code?"},{"owner":{"account_id":2359576,"reputation":3386,"user_id":2066598,"display_name":"kiwiwings"},"score":0,"creation_date":1608551536,"post_id":65389294,"comment_id":115609835,"body_markdown":"If you just want to replace the image, you don&#39;t need POI. The .pptx is a .zip file. the image is one of the files under /ppt/media. You can replace it with the typical java zip methods, i.e. read/iterate over the old .zip and write to the new one whilst replacing the image file.","body":"If you just want to replace the image, you don&#39;t need POI. The .pptx is a .zip file. the image is one of the files under /ppt/media. You can replace it with the typical java zip methods, i.e. read/iterate over the old .zip and write to the new one whilst replacing the image file."},{"owner":{"account_id":20266675,"reputation":3,"user_id":14863691,"display_name":"Mites97"},"score":0,"creation_date":1608638701,"post_id":65389294,"comment_id":115639123,"body_markdown":"Thanks for the reply but any small poc kind of example will help me ....although i have found a workaround by deleting images using XSSFShapes.remove and adding a new image in its place by reading it as a byte array ...but i am not sure if it is the efficient way","body":"Thanks for the reply but any small poc kind of example will help me ....although i have found a workaround by deleting images using XSSFShapes.remove and adding a new image in its place by reading it as a byte array ...but i am not sure if it is the efficient way"}],"answers":[{"tags":[],"owner":{"account_id":3279564,"reputation":67,"user_id":2760476,"display_name":"Andrey Potapov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651674738,"creation_date":1651674738,"answer_id":72114768,"question_id":65389294,"body_markdown":"[Aspose.Slides for Java][1] makes it easy to replace an image with another in a PowerPoint presentation. The following code example shows you how to do this:\r\n```java\r\n// Load a presentation file.\r\nvar presentation = new Presentation(&quot;input.pptx&quot;);\r\n\r\n// Add an image to presentation resources.\r\nvar imageData = Files.readAllBytes(Paths.get(&quot;image.png&quot;));\r\nvar newImage = presentation.getImages().addImage(imageData);\r\n\r\n// Let&#39;s the first shape on the first slide is a picture frame.\r\nvar firstSlide = presentation.getSlides().get_Item(0);\r\nvar pictureFrame = (IPictureFrame) firstSlide.getShapes().get_Item(0);\r\n\r\n// Replace an image with the new one.\r\npictureFrame.getPictureFormat().getPicture().setImage(newImage);\r\n\r\n// Save the presentation.\r\npresentation.save(&quot;output.pptx&quot;, SaveFormat.Pptx);\r\n\r\npresentation.dispose();\r\n```\r\n\r\nAlternatively, you can use [Aspose.Slides Cloud SDK for Java][2] that provides a REST-based API for managing presentations. The code example below shows you how to update an image in a presentation using Aspose.Slides Cloud:\r\n```java\r\nvar slidesApi = new SlidesApi(&quot;my_client_id&quot;, &quot;my_client_secret&quot;);\r\n\r\nvar fileName = &quot;example.pptx&quot;;\r\nvar slideIndex = 1;\r\nvar shapeIndex = 1;\r\n\r\n// Get image data as a Base64 string.\r\nvar imageData = Files.readAllBytes(Paths.get(&quot;image.png&quot;));\r\nvar imageBase64String = Base64.getEncoder().encodeToString(imageData);\r\n\r\n// Get a picture frame.\r\nvar pictureFrame = (PictureFrame)slidesApi.getShape(fileName, slideIndex, shapeIndex, null, null, null);\r\n\r\n// Update the image data.\r\npictureFrame.setPictureFillFormat(new PictureFill());\r\npictureFrame.getPictureFillFormat().setBase64Data(imageBase64String);\r\n\r\n// Update the picture frame.\r\nslidesApi.updateShape(fileName, slideIndex, shapeIndex, pictureFrame, null, null, null);\r\n```\r\nI work as a Support Developer at Aspose.\r\n\r\n\r\n  [1]: https://products.aspose.com/slides/java/\r\n  [2]: https://products.aspose.cloud/slides/java/","title":"Replacing an image using Apache POI is not working","body":"<p><a href=\"https://products.aspose.com/slides/java/\" rel=\"nofollow noreferrer\">Aspose.Slides for Java</a> makes it easy to replace an image with another in a PowerPoint presentation. The following code example shows you how to do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Load a presentation file.\nvar presentation = new Presentation(&quot;input.pptx&quot;);\n\n// Add an image to presentation resources.\nvar imageData = Files.readAllBytes(Paths.get(&quot;image.png&quot;));\nvar newImage = presentation.getImages().addImage(imageData);\n\n// Let's the first shape on the first slide is a picture frame.\nvar firstSlide = presentation.getSlides().get_Item(0);\nvar pictureFrame = (IPictureFrame) firstSlide.getShapes().get_Item(0);\n\n// Replace an image with the new one.\npictureFrame.getPictureFormat().getPicture().setImage(newImage);\n\n// Save the presentation.\npresentation.save(&quot;output.pptx&quot;, SaveFormat.Pptx);\n\npresentation.dispose();\n</code></pre>\n<p>Alternatively, you can use <a href=\"https://products.aspose.cloud/slides/java/\" rel=\"nofollow noreferrer\">Aspose.Slides Cloud SDK for Java</a> that provides a REST-based API for managing presentations. The code example below shows you how to update an image in a presentation using Aspose.Slides Cloud:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var slidesApi = new SlidesApi(&quot;my_client_id&quot;, &quot;my_client_secret&quot;);\n\nvar fileName = &quot;example.pptx&quot;;\nvar slideIndex = 1;\nvar shapeIndex = 1;\n\n// Get image data as a Base64 string.\nvar imageData = Files.readAllBytes(Paths.get(&quot;image.png&quot;));\nvar imageBase64String = Base64.getEncoder().encodeToString(imageData);\n\n// Get a picture frame.\nvar pictureFrame = (PictureFrame)slidesApi.getShape(fileName, slideIndex, shapeIndex, null, null, null);\n\n// Update the image data.\npictureFrame.setPictureFillFormat(new PictureFill());\npictureFrame.getPictureFillFormat().setBase64Data(imageBase64String);\n\n// Update the picture frame.\nslidesApi.updateShape(fileName, slideIndex, shapeIndex, pictureFrame, null, null, null);\n</code></pre>\n<p>I work as a Support Developer at Aspose.</p>\n"}],"owner":{"account_id":20266675,"reputation":3,"user_id":14863691,"display_name":"Mites97"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72114768,"answer_count":1,"score":0,"last_activity_date":1651674738,"creation_date":1608537706,"question_id":65389294,"body_markdown":"I want to replace an existing image present in a slide of a PPT using Apache POI. But there is some difficulty to achieve this. Can anyone suggest how to approach the problem since I am quite new to this and I could not find any articles that could help me?","title":"Replacing an image using Apache POI is not working","body":"<p>I want to replace an existing image present in a slide of a PPT using Apache POI. But there is some difficulty to achieve this. Can anyone suggest how to approach the problem since I am quite new to this and I could not find any articles that could help me?</p>\n"},{"tags":["java","imageview","javafx","bufferedimage"],"answers":[{"tags":[],"owner":{"account_id":1405485,"reputation":3174,"user_id":1333331,"display_name":"lukk"},"down_vote_count":1,"up_vote_count":36,"is_accepted":true,"score":35,"last_activity_date":1391505160,"creation_date":1391473185,"answer_id":21540615,"question_id":21540378,"body_markdown":"Try your luck with [SwingFXUtils][1].\r\nThere is a method for that purpose:\r\n\r\n    BufferedImage fromFXImage(Image img, BufferedImage bimg)\r\n\r\nYou can call it with second parameter `null`, as it is optional (exists for memory reuse reason):\r\n\r\n    BufferedImage image = SwingFXUtils.fromFXImage(fxImage, null);\r\n\r\n  [1]: http://docs.oracle.com/javafx/2/api/javafx/embed/swing/SwingFXUtils.html","title":"Convert JavaFX image To BufferedImage","body":"<p>Try your luck with <a href=\"http://docs.oracle.com/javafx/2/api/javafx/embed/swing/SwingFXUtils.html\">SwingFXUtils</a>.\nThere is a method for that purpose:</p>\n\n<pre><code>BufferedImage fromFXImage(Image img, BufferedImage bimg)\n</code></pre>\n\n<p>You can call it with second parameter <code>null</code>, as it is optional (exists for memory reuse reason):</p>\n\n<pre><code>BufferedImage image = SwingFXUtils.fromFXImage(fxImage, null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6997538,"reputation":193,"user_id":5364716,"display_name":"Luna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651674518,"creation_date":1651674518,"answer_id":72114722,"question_id":21540378,"body_markdown":"I find it insane to import the entirety of Java Swing only for this. There are other solutions. My solution below is not too great, but I think it&#39;s better than importing a completely new library.\r\n\r\n``` lang-java\r\nImage image = /* your image */;\r\nint width = (int) image.getWidth();\r\nint height = (int) image.getHeight();\r\nint pixels[] = new int[width * height];\r\n\r\n// Load the image&#39;s data into an array\r\n// You need to MAKE SURE the image&#39;s pixel format is compatible with IntBuffer\r\nimage.getPixelReader().getPixels(\r\n    0, 0, width, height, \r\n    (WritablePixelFormat&lt;IntBuffer&gt;) image.getPixelReader().getPixelFormat(),\r\n    pixels, 0, width\r\n);\r\n\r\nBufferedImage bufferedImage = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);\r\n\r\nfor (int y = 0; y &lt; height; y++) {\r\n    for (int x = 0; x &lt; width; x++) {\r\n        // There may be better ways to do this\r\n        // You&#39;ll need to make sure your image&#39;s format is correct here\r\n        var pixel = pixels[y * width + x];\r\n        int r = (pixel &amp; 0xFF0000) &gt;&gt; 16;\r\n        int g = (pixel &amp; 0xFF00) &gt;&gt; 8;\r\n        int b = (pixel &amp; 0xFF) &gt;&gt; 0;\r\n\r\n        bufferedImage.getRaster().setPixel(x, y, new int[]{r, g, b});\r\n    }\r\n}\r\n```","title":"Convert JavaFX image To BufferedImage","body":"<p>I find it insane to import the entirety of Java Swing only for this. There are other solutions. My solution below is not too great, but I think it's better than importing a completely new library.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Image image = /* your image */;\nint width = (int) image.getWidth();\nint height = (int) image.getHeight();\nint pixels[] = new int[width * height];\n\n// Load the image's data into an array\n// You need to MAKE SURE the image's pixel format is compatible with IntBuffer\nimage.getPixelReader().getPixels(\n    0, 0, width, height, \n    (WritablePixelFormat&lt;IntBuffer&gt;) image.getPixelReader().getPixelFormat(),\n    pixels, 0, width\n);\n\nBufferedImage bufferedImage = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);\n\nfor (int y = 0; y &lt; height; y++) {\n    for (int x = 0; x &lt; width; x++) {\n        // There may be better ways to do this\n        // You'll need to make sure your image's format is correct here\n        var pixel = pixels[y * width + x];\n        int r = (pixel &amp; 0xFF0000) &gt;&gt; 16;\n        int g = (pixel &amp; 0xFF00) &gt;&gt; 8;\n        int b = (pixel &amp; 0xFF) &gt;&gt; 0;\n\n        bufferedImage.getRaster().setPixel(x, y, new int[]{r, g, b});\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3254462,"reputation":388,"user_id":2743956,"accept_rate":53,"display_name":"Piet Jetse"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14688,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":21540615,"answer_count":2,"score":15,"last_activity_date":1651674518,"creation_date":1391472026,"question_id":21540378,"body_markdown":"I&#39;m trying to convert an `JavaFX` Image(from `ImageView`) to an `BufferedImage`.\r\nI tried casting and stuff but nothing works.\r\nCan someone suggest how i should do this?","title":"Convert JavaFX image To BufferedImage","body":"<p>I'm trying to convert an <code>JavaFX</code> Image(from <code>ImageView</code>) to an <code>BufferedImage</code>.\nI tried casting and stuff but nothing works.\nCan someone suggest how i should do this?</p>\n"},{"tags":["java","arrays","arraylist"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1651672572,"post_id":72114074,"comment_id":127418902,"body_markdown":"I am struggling what exactly you want to achieve. Please see [mcve] and tell us about EXPECTED vs actual result. Besides: there is no need to create a new Random object 7 times. You can invoke nextInt() multiple times on the **same** random object. Also note: there is absolutely no need to use an array here?! You can use `List.of(&quot;val&quot;, &quot;val2&quot;, ....)` to create a List, and you can use `someList.remove(index)` directly. No need to first lookup the string to then remove the string?","body":"I am struggling what exactly you want to achieve. Please see <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and tell us about EXPECTED vs actual result. Besides: there is no need to create a new Random object 7 times. You can invoke nextInt() multiple times on the <b>same</b> random object. Also note: there is absolutely no need to use an array here?! You can use <code>List.of(&quot;val&quot;, &quot;val2&quot;, ....)</code> to create a List, and you can use <code>someList.remove(index)</code> directly. No need to first lookup the string to then remove the string?"},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":1,"creation_date":1651672868,"post_id":72114074,"comment_id":127419044,"body_markdown":"You can also use `Collections.shuffle(deck);` which would randomize(AKA shuffle) the order of the `List`, and then you can just grab cards in index order, which is very similar to just shuffling and drawing cards in real life anyway, instead of using `Random`.","body":"You can also use <code>Collections.shuffle(deck);</code> which would randomize(AKA shuffle) the order of the <code>List</code>, and then you can just grab cards in index order, which is very similar to just shuffling and drawing cards in real life anyway, instead of using <code>Random</code>."},{"owner":{"account_id":1060282,"reputation":1236,"user_id":3452058,"display_name":"Janos Vinceller"},"score":0,"creation_date":1651674992,"post_id":72114074,"comment_id":127419942,"body_markdown":"Okay I think the question is not very useful, even though there are some rather interesting answers to this, I&#39;d like you to focus your question. You can give us some examples on what is getting printed and where you think it could go wrong or what efforts you already have taken.","body":"Okay I think the question is not very useful, even though there are some rather interesting answers to this, I&#39;d like you to focus your question. You can give us some examples on what is getting printed and where you think it could go wrong or what efforts you already have taken."}],"answers":[{"tags":[],"owner":{"account_id":19796440,"reputation":5,"user_id":14498331,"display_name":"Edoardo Sichelli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651672891,"creation_date":1651672891,"answer_id":72114288,"question_id":72114074,"body_markdown":"remove all the 7 script and use this:\r\n```\r\nfor(i = 0; i &lt; 7; i++){\r\n            Random rand =new Random();        \r\n            int randomNumber=rand.nextInt(deck.length);\r\n            System.out.println(&quot;\\n&quot;+deck[randomNumber]);\r\n            deck.remove(randomNumber);\r\n      }\r\n```\r\nit is not recommended to use ArrayList.remove() when iterating over elements, but in this case is safe because values are random.\r\n","title":"How do I stop an arraylist from printing duplicate items?","body":"<p>remove all the 7 script and use this:</p>\n<pre><code>for(i = 0; i &lt; 7; i++){\n            Random rand =new Random();        \n            int randomNumber=rand.nextInt(deck.length);\n            System.out.println(&quot;\\n&quot;+deck[randomNumber]);\n            deck.remove(randomNumber);\n      }\n</code></pre>\n<p>it is not recommended to use ArrayList.remove() when iterating over elements, but in this case is safe because values are random.</p>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651673061,"creation_date":1651673061,"answer_id":72114330,"question_id":72114074,"body_markdown":"Your problem is that you are drawing cards from the array - `arr`:\r\n```\r\nSystem.out.println(&quot;\\n&quot; + arr[randomNumber1]);\r\n```\r\nbut you then remove the card from the `deck`:\r\n```\r\ndeck.remove(arr[randomNumber1]);\r\n```\r\nThe array always has all cards, so it&#39;s normal to have duplicates.\r\n\r\nAs a side note - why declare 7 `Random` instances, when you only use the first of them? The first one is enough.\r\n\r\nAnother note - since you actually need to draw from the `deck`, you may need to change the upper bound for the random to the size of the deck, otherwise you will eventually cause `IndexOutOfBoundsException` after drawing enough cards.","title":"How do I stop an arraylist from printing duplicate items?","body":"<p>Your problem is that you are drawing cards from the array - <code>arr</code>:</p>\n<pre><code>System.out.println(&quot;\\n&quot; + arr[randomNumber1]);\n</code></pre>\n<p>but you then remove the card from the <code>deck</code>:</p>\n<pre><code>deck.remove(arr[randomNumber1]);\n</code></pre>\n<p>The array always has all cards, so it's normal to have duplicates.</p>\n<p>As a side note - why declare 7 <code>Random</code> instances, when you only use the first of them? The first one is enough.</p>\n<p>Another note - since you actually need to draw from the <code>deck</code>, you may need to change the upper bound for the random to the size of the deck, otherwise you will eventually cause <code>IndexOutOfBoundsException</code> after drawing enough cards.</p>\n"},{"tags":[],"owner":{"account_id":8412094,"reputation":131,"user_id":6313636,"display_name":"wolfenblut"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651673063,"creation_date":1651673063,"answer_id":72114331,"question_id":72114074,"body_markdown":"The problem is this:\r\n\r\nYou create a random number, `between the interval [0, arr.length)` zero is inclusive, arr.length is exclusive.\r\n\r\n**Then, you first print it from the array, then you remove it from the arraylist**. They are not removed from the array. So, next time you use it to print it **from the array**, you may still see it.\r\n\r\nYou may use deck.size() method to create a random number, print it and remove it.\r\n\r\nSo, after you create your array list using the array, one of your code block is going to be:\r\n\r\n    Random rand =new Random();        \r\n    int randomNumber1=rand.nextInt(deck.size());\r\n    System.out.println(&quot;\\n&quot;+deck.get(randomNumber1));\r\n    deck.remove(randomNumber1);\r\n\r\nNote: Instead of removing by a reference to object with remove(Object o) method, you may use the index of that object with remove(int index) method.\r\n\r\nNote2: When you create an arraylist using the constructor `ArrayList&lt;String&gt;(List Arrays.asList(array))`, you get **different references** to the same objects. If you remove them from your array, you do not remove it from the array list or vice versa.","title":"How do I stop an arraylist from printing duplicate items?","body":"<p>The problem is this:</p>\n<p>You create a random number, <code>between the interval [0, arr.length)</code> zero is inclusive, arr.length is exclusive.</p>\n<p><strong>Then, you first print it from the array, then you remove it from the arraylist</strong>. They are not removed from the array. So, next time you use it to print it <strong>from the array</strong>, you may still see it.</p>\n<p>You may use deck.size() method to create a random number, print it and remove it.</p>\n<p>So, after you create your array list using the array, one of your code block is going to be:</p>\n<pre><code>Random rand =new Random();        \nint randomNumber1=rand.nextInt(deck.size());\nSystem.out.println(&quot;\\n&quot;+deck.get(randomNumber1));\ndeck.remove(randomNumber1);\n</code></pre>\n<p>Note: Instead of removing by a reference to object with remove(Object o) method, you may use the index of that object with remove(int index) method.</p>\n<p>Note2: When you create an arraylist using the constructor <code>ArrayList&lt;String&gt;(List Arrays.asList(array))</code>, you get <strong>different references</strong> to the same objects. If you remove them from your array, you do not remove it from the array list or vice versa.</p>\n"},{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651673198,"creation_date":1651673198,"answer_id":72114367,"question_id":72114074,"body_markdown":"If the order of the elements is not important, use a `Set`, namely `HashSet` or `TreeSet`. `HashSet` is (rather) random order, while `TreeSet` will order contents alphabetically.\r\n\r\nSets are also really fast to look up thing, i.e. using the `contains()` method.\r\n\r\nIf the order does play a role, keep using your `ArrayList`, but before insertion always check with `.contains()` method if item is already present.\r\n\r\nAs to your code: \r\n - I do not see where you get duplicated. You&#39;re often removing from the same indices, and\r\n - you find the max index of the list via the length of the backing array. This is not a good idea, because the list will shrink, while the array keeps its size, so sooner or later you will not effectively remove anything from the list. Instead, get the index by: `int randomNumber1=rand.nextInt(deck.size());` and then simply remove from list by index: `deck.remove(arr[randomNumber1]);`\r\n - you are using the same code over and over again. you should replace the whole shebang with a loop:\r\n\r\nCode:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.Random;\r\n    \r\n    public class GoFish1 {\r\n    \tpublic static void main(final String[] args) {\r\n    \t\tfinal String[] arr = { &quot;Ace of Spades&quot;, &quot;2 of Spades&quot;, &quot;3 of Spades&quot;, &quot;4 of Spades&quot;, &quot;5 of Spades&quot;, &quot;6 of Spades&quot;, &quot;7 of Spades&quot;, &quot;8 of Spades&quot;, &quot;9 of Spades&quot;, &quot;10 of Spades&quot;, &quot;Jack of Spades&quot;, &quot;Queen of Spades&quot;, &quot;King of Spades&quot;, &quot;Ace of Hearts&quot;, &quot;2 of Hearts&quot;, &quot;3 of Hearts&quot;, &quot;4 of Hearts&quot;, &quot;5 of Hearts&quot;, &quot;6 of Hearts&quot;, &quot;7 of Hearts&quot;, &quot;8 of Hearts&quot;, &quot;9 of Hearts&quot;, &quot;10 of Hearts&quot;, &quot;Jack of Hearts&quot;, &quot;Queen of Hearts&quot;, &quot;King of Hearts&quot;, &quot;Ace of Diamonds&quot;, &quot;2 of Diamonds&quot;, &quot;3 of Diamonds&quot;, &quot;4 of Diamonds&quot;, &quot;5 of Diamonds&quot;, &quot;6 of Diamonds&quot;, &quot;7 of Diamonds&quot;, &quot;8 of Diamonds&quot;, &quot;9 of Diamonds&quot;, &quot;10 of Diamonds&quot;, &quot;Jack of Diamonds&quot;, &quot;Queen of Diamonds&quot;, &quot;King of Diamonds&quot;, &quot;Ace of Clubs&quot;, &quot;2 of Clubs&quot;, &quot;3 of Clubs&quot;, &quot;4 of Clubs&quot;, &quot;5 of Clubs&quot;, &quot;6 of Clubs&quot;, &quot;7 of Clubs&quot;, &quot;8 of Clubs&quot;, &quot;9 of Clubs&quot;, &quot;10 of Clubs&quot;, &quot;Jack of Clubs&quot;, &quot;Queen of Clubs&quot;, &quot;King of Clubs&quot; };\r\n    \t\tfinal ArrayList&lt;String&gt; deck = new ArrayList&lt;&gt;(Arrays.asList(arr));\r\n    \r\n    \r\n    \t\tSystem.out.println(&quot;Player&#39;s cards:&quot;);\r\n    \t\tfinal Random rand = new Random();\r\n    \t\tfor (int i = 0; i &lt; 8 &amp;&amp; deck.size() &gt; 0; i++) {\r\n    \t\t\tfinal int randomIndex = rand.nextInt(deck.size());\r\n    \t\t\tfinal String card = deck.get(randomIndex);\r\n    \t\t\tSystem.out.println(&quot;\\tPlayer received card: &quot; + card);\r\n    \t\t\t// you can use either one of the following\r\n    \t\t\tdeck.remove(randomIndex); // this is faster and will not create problems\r\n    \t\t\t//\t\t\tdeck.remove(card); // or this. this is slower, and might conflict with duplicate items in other scenarios\r\n    \t\t}\r\n    \r\n    \t\tSystem.out.println(&quot;Cards left in the deck:&quot;);\r\n    \t\tfor (final String card : deck) {\r\n    \t\t\tSystem.out.println(&quot;\\t&quot; + card);\r\n    \t\t}\r\n    \r\n    \t\tSystem.out.println(&quot;All cards dealt.&quot;);\r\n    \t}\r\n    }","title":"How do I stop an arraylist from printing duplicate items?","body":"<p>If the order of the elements is not important, use a <code>Set</code>, namely <code>HashSet</code> or <code>TreeSet</code>. <code>HashSet</code> is (rather) random order, while <code>TreeSet</code> will order contents alphabetically.</p>\n<p>Sets are also really fast to look up thing, i.e. using the <code>contains()</code> method.</p>\n<p>If the order does play a role, keep using your <code>ArrayList</code>, but before insertion always check with <code>.contains()</code> method if item is already present.</p>\n<p>As to your code:</p>\n<ul>\n<li>I do not see where you get duplicated. You're often removing from the same indices, and</li>\n<li>you find the max index of the list via the length of the backing array. This is not a good idea, because the list will shrink, while the array keeps its size, so sooner or later you will not effectively remove anything from the list. Instead, get the index by: <code>int randomNumber1=rand.nextInt(deck.size());</code> and then simply remove from list by index: <code>deck.remove(arr[randomNumber1]);</code></li>\n<li>you are using the same code over and over again. you should replace the whole shebang with a loop:</li>\n</ul>\n<p>Code:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Random;\n\npublic class GoFish1 {\n    public static void main(final String[] args) {\n        final String[] arr = { &quot;Ace of Spades&quot;, &quot;2 of Spades&quot;, &quot;3 of Spades&quot;, &quot;4 of Spades&quot;, &quot;5 of Spades&quot;, &quot;6 of Spades&quot;, &quot;7 of Spades&quot;, &quot;8 of Spades&quot;, &quot;9 of Spades&quot;, &quot;10 of Spades&quot;, &quot;Jack of Spades&quot;, &quot;Queen of Spades&quot;, &quot;King of Spades&quot;, &quot;Ace of Hearts&quot;, &quot;2 of Hearts&quot;, &quot;3 of Hearts&quot;, &quot;4 of Hearts&quot;, &quot;5 of Hearts&quot;, &quot;6 of Hearts&quot;, &quot;7 of Hearts&quot;, &quot;8 of Hearts&quot;, &quot;9 of Hearts&quot;, &quot;10 of Hearts&quot;, &quot;Jack of Hearts&quot;, &quot;Queen of Hearts&quot;, &quot;King of Hearts&quot;, &quot;Ace of Diamonds&quot;, &quot;2 of Diamonds&quot;, &quot;3 of Diamonds&quot;, &quot;4 of Diamonds&quot;, &quot;5 of Diamonds&quot;, &quot;6 of Diamonds&quot;, &quot;7 of Diamonds&quot;, &quot;8 of Diamonds&quot;, &quot;9 of Diamonds&quot;, &quot;10 of Diamonds&quot;, &quot;Jack of Diamonds&quot;, &quot;Queen of Diamonds&quot;, &quot;King of Diamonds&quot;, &quot;Ace of Clubs&quot;, &quot;2 of Clubs&quot;, &quot;3 of Clubs&quot;, &quot;4 of Clubs&quot;, &quot;5 of Clubs&quot;, &quot;6 of Clubs&quot;, &quot;7 of Clubs&quot;, &quot;8 of Clubs&quot;, &quot;9 of Clubs&quot;, &quot;10 of Clubs&quot;, &quot;Jack of Clubs&quot;, &quot;Queen of Clubs&quot;, &quot;King of Clubs&quot; };\n        final ArrayList&lt;String&gt; deck = new ArrayList&lt;&gt;(Arrays.asList(arr));\n\n\n        System.out.println(&quot;Player's cards:&quot;);\n        final Random rand = new Random();\n        for (int i = 0; i &lt; 8 &amp;&amp; deck.size() &gt; 0; i++) {\n            final int randomIndex = rand.nextInt(deck.size());\n            final String card = deck.get(randomIndex);\n            System.out.println(&quot;\\tPlayer received card: &quot; + card);\n            // you can use either one of the following\n            deck.remove(randomIndex); // this is faster and will not create problems\n            //          deck.remove(card); // or this. this is slower, and might conflict with duplicate items in other scenarios\n        }\n\n        System.out.println(&quot;Cards left in the deck:&quot;);\n        for (final String card : deck) {\n            System.out.println(&quot;\\t&quot; + card);\n        }\n\n        System.out.println(&quot;All cards dealt.&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17832421,"reputation":4234,"user_id":12952113,"display_name":"Alex Sveshnikov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651673336,"creation_date":1651673336,"answer_id":72114414,"question_id":72114074,"body_markdown":"First of all, you can just use the `shuffle` method of `Collections` class to shuffle the deck and print the first 7 elements:\r\n```java\r\nCollections.shuffle(deck);\r\nfor (int i = 0; i &lt; 7; i++) {\r\n   System.out.println(deck.get(i));\r\n}\r\n```\r\nIf you want to remove the cards from the deck yourself, then remember, that ThreadLocalRandom class is a preferred way to generate random numbers over Random.\r\n```java\r\nfor (int i = 0; i &lt; 7; i++) {\r\n   int randomNumber = ThreadLocalRandom.current().nextInt(deck.size());\r\n   System.out.println(deck.get(randomNumber));\r\n   deck.remove(randomNumber);\r\n}\r\n```","title":"How do I stop an arraylist from printing duplicate items?","body":"<p>First of all, you can just use the <code>shuffle</code> method of <code>Collections</code> class to shuffle the deck and print the first 7 elements:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Collections.shuffle(deck);\nfor (int i = 0; i &lt; 7; i++) {\n   System.out.println(deck.get(i));\n}\n</code></pre>\n<p>If you want to remove the cards from the deck yourself, then remember, that ThreadLocalRandom class is a preferred way to generate random numbers over Random.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0; i &lt; 7; i++) {\n   int randomNumber = ThreadLocalRandom.current().nextInt(deck.size());\n   System.out.println(deck.get(randomNumber));\n   deck.remove(randomNumber);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651674482,"creation_date":1651674482,"answer_id":72114710,"question_id":72114074,"body_markdown":"You are randomizing over the String[] to identify what to remove from the List.  So you keep reporting that you are removing a Card when it is already removed. Instead, you may randomize over the List itself.\r\n\r\nNote that anytime you find yourself repeating the same code you should strongly consider moving that logic into a method.  In addition, consider creating classes for Deck, Hand, and so forth and defining behaviors (i.e. methods) to execute behavior.\r\n\r\n    public String drawFromDeck() {\r\n      if (deck.isEmpty()) { // assumes deck is instance variable\r\n        throw new Exception(&quot;Deck is empty!&quot;);\r\n      }\r\n      int index=rand.nextInt(deck.size()); // assumes rand is an instance variable\r\n      String card = deck.remove(index);\r\n      return card;\r\n    }\r\n\r\nHowever, I think you may find that a better approach is to populate the List, shuffle it, and then just draw from the front..\r\n\r\n    final String[] cards = ....\r\n    List&lt;String&gt; deck = ... fill deck from cards array\r\n    Collections.shuffle(deck);\r\n\r\nSince we&#39;ve shuffled the deck we can always draw from the front of the deck rather than randomizing our draw.\r\n\r\n    public String drawFromDeck() {\r\n      if (deck.isEmpty()) {\r\n        throw new RuntimeException(&quot;Deck is empty!&quot;);\r\n      }\r\n      return deck.remove(0);\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"How do I stop an arraylist from printing duplicate items?","body":"<p>You are randomizing over the String[] to identify what to remove from the List.  So you keep reporting that you are removing a Card when it is already removed. Instead, you may randomize over the List itself.</p>\n<p>Note that anytime you find yourself repeating the same code you should strongly consider moving that logic into a method.  In addition, consider creating classes for Deck, Hand, and so forth and defining behaviors (i.e. methods) to execute behavior.</p>\n<pre><code>public String drawFromDeck() {\n  if (deck.isEmpty()) { // assumes deck is instance variable\n    throw new Exception(&quot;Deck is empty!&quot;);\n  }\n  int index=rand.nextInt(deck.size()); // assumes rand is an instance variable\n  String card = deck.remove(index);\n  return card;\n}\n</code></pre>\n<p>However, I think you may find that a better approach is to populate the List, shuffle it, and then just draw from the front..</p>\n<pre><code>final String[] cards = ....\nList&lt;String&gt; deck = ... fill deck from cards array\nCollections.shuffle(deck);\n</code></pre>\n<p>Since we've shuffled the deck we can always draw from the front of the deck rather than randomizing our draw.</p>\n<pre><code>public String drawFromDeck() {\n  if (deck.isEmpty()) {\n    throw new RuntimeException(&quot;Deck is empty!&quot;);\n  }\n  return deck.remove(0);\n}\n</code></pre>\n"}],"owner":{"account_id":25183665,"reputation":11,"user_id":19024847,"display_name":"Ea_Sports"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1651712702,"answer_count":6,"score":-2,"last_activity_date":1651674482,"creation_date":1651672044,"question_id":72114074,"body_markdown":"I&#39;m working on a game of Go Fish for a class and whenever I run the code to deal cards I&#39;ll get duplicates. How do I remove the items from the arraylist so this doesn&#39;t happen? I&#39;ve tried using the remove.() method but it hasn&#39;t worked. Any help would be greatly appreciated since I&#39;m pretty new to Java.\r\n\r\n    import java.util.*;\r\n    \r\n    public class GoFish1\r\n    {    \r\n      public static void main(String[] args)    \r\n        {        \r\n          String[] arr={&quot;Ace of Spades&quot;, &quot;2 of Spades&quot;, &quot;3 of Spades&quot;, &quot;4 of Spades&quot;, &quot;5 of Spades&quot;, &quot;6 of Spades&quot;, &quot;7 of Spades&quot;, &quot;8 of Spades&quot;, &quot;9 of Spades&quot;, &quot;10 of Spades&quot;, &quot;Jack of Spades&quot;, &quot;Queen of Spades&quot;, &quot;King of Spades&quot;, &quot;Ace of Hearts&quot;, &quot;2 of Hearts&quot;, &quot;3 of Hearts&quot;, &quot;4 of Hearts&quot;, &quot;5 of Hearts&quot;, &quot;6 of Hearts&quot;, &quot;7 of Hearts&quot;, &quot;8 of Hearts&quot;, &quot;9 of Hearts&quot;, &quot;10 of Hearts&quot;, &quot;Jack of Hearts&quot;, &quot;Queen of Hearts&quot;, &quot;King of Hearts&quot;, &quot;Ace of Diamonds&quot;, &quot;2 of Diamonds&quot;, &quot;3 of Diamonds&quot;, &quot;4 of Diamonds&quot;, &quot;5 of Diamonds&quot;, &quot;6 of Diamonds&quot;, &quot;7 of Diamonds&quot;, &quot;8 of Diamonds&quot;, &quot;9 of Diamonds&quot;, &quot;10 of Diamonds&quot;, &quot;Jack of Diamonds&quot;, &quot;Queen of Diamonds&quot;, &quot;King of Diamonds&quot;, &quot;Ace of Clubs&quot;, &quot;2 of Clubs&quot;, &quot;3 of Clubs&quot;, &quot;4 of Clubs&quot;, &quot;5 of Clubs&quot;, &quot;6 of Clubs&quot;, &quot;7 of Clubs&quot;, &quot;8 of Clubs&quot;, &quot;9 of Clubs&quot;, &quot;10 of Clubs&quot;, &quot;Jack of Clubs&quot;, &quot;Queen of Clubs&quot;, &quot;King of Clubs&quot;};\r\n         ArrayList&lt;String&gt; deck= new ArrayList&lt;String&gt;(Arrays.asList(arr));\r\n    \r\n         \r\n          System.out.println(&quot;Player&#39;s cards:&quot;);\r\n         \r\n          Random rand =new Random();        \r\n          int randomNumber1=rand.nextInt(arr.length);\r\n          System.out.println(&quot;\\n&quot;+arr[randomNumber1]);\r\n          deck.remove(arr[randomNumber1]);\r\n         \r\n          Random rand2 =new Random();\r\n          int randomNumber2=rand.nextInt(arr.length);\r\n          System.out.println(arr[randomNumber2]);\r\n         deck.remove(arr[randomNumber2]);\r\n         \r\n           Random rand3 =new Random();\r\n          int randomNumber3=rand.nextInt(arr.length);\r\n          System.out.println(arr[randomNumber3]);\r\n          deck.remove(arr[randomNumber3]);\r\n         \r\n           Random rand4 =new Random();\r\n          int randomNumber4=rand.nextInt(arr.length);\r\n          System.out.println(arr[randomNumber4]);\r\n          deck.remove(arr[randomNumber4]);\r\n         \r\n           Random rand5 =new Random();\r\n          int randomNumber5=rand.nextInt(arr.length);\r\n          System.out.println(arr[randomNumber5]);\r\n          deck.remove(arr[randomNumber5]);\r\n         \r\n           Random rand6 =new Random();\r\n          int randomNumber6=rand.nextInt(arr.length);\r\n          System.out.println(arr[randomNumber6]);\r\n          deck.remove(arr[randomNumber6]);\r\n         \r\n           Random rand7 =new Random();\r\n          int randomNumber7=rand.nextInt(arr.length);\r\n          System.out.println(arr[randomNumber7]);\r\n          deck.remove(arr[randomNumber7]);\r\n          \r\n         \r\n    \r\n        }\r\n    }\r\n\r\n","title":"How do I stop an arraylist from printing duplicate items?","body":"<p>I'm working on a game of Go Fish for a class and whenever I run the code to deal cards I'll get duplicates. How do I remove the items from the arraylist so this doesn't happen? I've tried using the remove.() method but it hasn't worked. Any help would be greatly appreciated since I'm pretty new to Java.</p>\n<pre><code>import java.util.*;\n\npublic class GoFish1\n{    \n  public static void main(String[] args)    \n    {        \n      String[] arr={&quot;Ace of Spades&quot;, &quot;2 of Spades&quot;, &quot;3 of Spades&quot;, &quot;4 of Spades&quot;, &quot;5 of Spades&quot;, &quot;6 of Spades&quot;, &quot;7 of Spades&quot;, &quot;8 of Spades&quot;, &quot;9 of Spades&quot;, &quot;10 of Spades&quot;, &quot;Jack of Spades&quot;, &quot;Queen of Spades&quot;, &quot;King of Spades&quot;, &quot;Ace of Hearts&quot;, &quot;2 of Hearts&quot;, &quot;3 of Hearts&quot;, &quot;4 of Hearts&quot;, &quot;5 of Hearts&quot;, &quot;6 of Hearts&quot;, &quot;7 of Hearts&quot;, &quot;8 of Hearts&quot;, &quot;9 of Hearts&quot;, &quot;10 of Hearts&quot;, &quot;Jack of Hearts&quot;, &quot;Queen of Hearts&quot;, &quot;King of Hearts&quot;, &quot;Ace of Diamonds&quot;, &quot;2 of Diamonds&quot;, &quot;3 of Diamonds&quot;, &quot;4 of Diamonds&quot;, &quot;5 of Diamonds&quot;, &quot;6 of Diamonds&quot;, &quot;7 of Diamonds&quot;, &quot;8 of Diamonds&quot;, &quot;9 of Diamonds&quot;, &quot;10 of Diamonds&quot;, &quot;Jack of Diamonds&quot;, &quot;Queen of Diamonds&quot;, &quot;King of Diamonds&quot;, &quot;Ace of Clubs&quot;, &quot;2 of Clubs&quot;, &quot;3 of Clubs&quot;, &quot;4 of Clubs&quot;, &quot;5 of Clubs&quot;, &quot;6 of Clubs&quot;, &quot;7 of Clubs&quot;, &quot;8 of Clubs&quot;, &quot;9 of Clubs&quot;, &quot;10 of Clubs&quot;, &quot;Jack of Clubs&quot;, &quot;Queen of Clubs&quot;, &quot;King of Clubs&quot;};\n     ArrayList&lt;String&gt; deck= new ArrayList&lt;String&gt;(Arrays.asList(arr));\n\n     \n      System.out.println(&quot;Player's cards:&quot;);\n     \n      Random rand =new Random();        \n      int randomNumber1=rand.nextInt(arr.length);\n      System.out.println(&quot;\\n&quot;+arr[randomNumber1]);\n      deck.remove(arr[randomNumber1]);\n     \n      Random rand2 =new Random();\n      int randomNumber2=rand.nextInt(arr.length);\n      System.out.println(arr[randomNumber2]);\n     deck.remove(arr[randomNumber2]);\n     \n       Random rand3 =new Random();\n      int randomNumber3=rand.nextInt(arr.length);\n      System.out.println(arr[randomNumber3]);\n      deck.remove(arr[randomNumber3]);\n     \n       Random rand4 =new Random();\n      int randomNumber4=rand.nextInt(arr.length);\n      System.out.println(arr[randomNumber4]);\n      deck.remove(arr[randomNumber4]);\n     \n       Random rand5 =new Random();\n      int randomNumber5=rand.nextInt(arr.length);\n      System.out.println(arr[randomNumber5]);\n      deck.remove(arr[randomNumber5]);\n     \n       Random rand6 =new Random();\n      int randomNumber6=rand.nextInt(arr.length);\n      System.out.println(arr[randomNumber6]);\n      deck.remove(arr[randomNumber6]);\n     \n       Random rand7 =new Random();\n      int randomNumber7=rand.nextInt(arr.length);\n      System.out.println(arr[randomNumber7]);\n      deck.remove(arr[randomNumber7]);\n      \n     \n\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","android-camera2"],"comments":[{"owner":{"account_id":5358801,"reputation":3912,"user_id":4270754,"display_name":"Dustin Williams"},"score":0,"creation_date":1631287737,"post_id":68863435,"comment_id":122189693,"body_markdown":"Same issue, any luck so far?","body":"Same issue, any luck so far?"},{"owner":{"account_id":12911776,"reputation":55,"user_id":9337248,"display_name":"Sagar Sah"},"score":0,"creation_date":1631289295,"post_id":68863435,"comment_id":122190356,"body_markdown":"Not yet, Currently handling S21 users to open Native camera .","body":"Not yet, Currently handling S21 users to open Native camera ."},{"owner":{"account_id":12911776,"reputation":55,"user_id":9337248,"display_name":"Sagar Sah"},"score":0,"creation_date":1651673626,"post_id":68863435,"comment_id":127419374,"body_markdown":"Updating patch solved issue!!!!!!!!!!","body":"Updating patch solved issue!!!!!!!!!!"}],"answers":[{"tags":[],"owner":{"account_id":5358801,"reputation":3912,"user_id":4270754,"display_name":"Dustin Williams"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631539262,"creation_date":1631539262,"answer_id":69163459,"question_id":68863435,"body_markdown":"I had luck today on my test S21. I updated the OS on the phone and it started working","title":"Samsung S21 camera2 API issue with near object","body":"<p>I had luck today on my test S21. I updated the OS on the phone and it started working</p>\n"},{"tags":[],"owner":{"account_id":12911776,"reputation":55,"user_id":9337248,"display_name":"Sagar Sah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651673662,"creation_date":1651673662,"answer_id":72114506,"question_id":68863435,"body_markdown":"Updating **patch** solved issue!!!!!!","title":"Samsung S21 camera2 API issue with near object","body":"<p>Updating <strong>patch</strong> solved issue!!!!!!</p>\n"}],"owner":{"account_id":12911776,"reputation":55,"user_id":9337248,"display_name":"Sagar Sah"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":241,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1651673662,"creation_date":1629467735,"question_id":68863435,"body_markdown":"I am using Camera 2 API for capture image and it is working fine for other device than Samsung S 21 ultra 5G Android ver 11.\r\nI am getting blurry image when capturing near object.\r\n","title":"Samsung S21 camera2 API issue with near object","body":"<p>I am using Camera 2 API for capture image and it is working fine for other device than Samsung S 21 ultra 5G Android ver 11.\nI am getting blurry image when capturing near object.</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":16582962,"reputation":3261,"user_id":11983124,"display_name":"Praveen"},"score":0,"creation_date":1651655348,"post_id":72110375,"comment_id":127412593,"body_markdown":"As you said `KotlinLib` implements `JavaLib` and `StoreProtectionLevel` enum is inside `JavaLib`. If `StoreProtectionLevel` is not inside of `KotlinLib`, how are you suppose to import it.","body":"As you said <code>KotlinLib</code> implements <code>JavaLib</code> and <code>StoreProtectionLevel</code> enum is inside <code>JavaLib</code>. If <code>StoreProtectionLevel</code> is not inside of <code>KotlinLib</code>, how are you suppose to import it."},{"owner":{"account_id":2441019,"reputation":3362,"user_id":2129561,"accept_rate":37,"display_name":"V&#237;ctor Mart&#237;n"},"score":0,"creation_date":1651655561,"post_id":72110375,"comment_id":127412675,"body_markdown":"I don&#39;t know if there is a way to expose this object, or if I need to do another object  and a parser.","body":"I don&#39;t know if there is a way to expose this object, or if I need to do another object  and a parser."},{"owner":{"account_id":14218047,"reputation":11740,"user_id":10271334,"display_name":"Jeel Vankhede"},"score":0,"creation_date":1651656161,"post_id":72110375,"comment_id":127412886,"body_markdown":"Declaring your `JavaLib` dependency in `KotlinLib` as API is one way of exposing transitive dependency to consumer.","body":"Declaring your <code>JavaLib</code> dependency in <code>KotlinLib</code> as API is one way of exposing transitive dependency to consumer."}],"answers":[{"tags":[],"owner":{"account_id":3477700,"reputation":42367,"user_id":2910520,"accept_rate":100,"display_name":"MatPag"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1651673352,"creation_date":1651655737,"answer_id":72110541,"question_id":72110375,"body_markdown":"I suggest you to not create an additional Kotlin library on top of your Java library because Kotlin can use Java code without problems (with some syntactic quirks sometimes).\r\n\r\nWhat you should do is creating an additional companion library (optional) which adds extension functions to make life easier for Kotlin users. \r\n\r\nSomething like Jetpack project is doing with `-ktx` artifact for their Java libraries","title":"How to make an object accessible to other library","body":"<p>I suggest you to not create an additional Kotlin library on top of your Java library because Kotlin can use Java code without problems (with some syntactic quirks sometimes).</p>\n<p>What you should do is creating an additional companion library (optional) which adds extension functions to make life easier for Kotlin users.</p>\n<p>Something like Jetpack project is doing with <code>-ktx</code> artifact for their Java libraries</p>\n"}],"owner":{"account_id":2441019,"reputation":3362,"user_id":2129561,"accept_rate":37,"display_name":"V&#237;ctor Mart&#237;n"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1651673352,"creation_date":1651654925,"question_id":72110375,"body_markdown":"I&#39;ve done a library in java and now I&#39;m trying to make an interface for kotlin in another library.\r\n\r\nJavaLib -&gt; KotlinLib -&gt; App\r\n\r\nKotlinLib implements JavaLib and I make a mask in kotlin for the methods of the JavaLib.\r\n\r\nIn Java I have a model of an object enum that I need to used in the app.\r\n\r\n    public enum StoreProtectionLevel {\r\n        ENCRYPTED,                              // Values stores in Keystore of Android\r\n        ENCRYPTED_WITH_WEAK_AUTHENTICATION,     // Values using a weak authentication previously\r\n        ENCRYPTED_WITH_STRONG_AUTHENTICATION    // Values using a strong authentication previously\r\n    }\r\n\r\nIf I use the JavaLib, I can import StoreProtectionLevel, but If I want to import this object from KotlinLib, the object is not accessible.\r\n\r\nHow I can do this object for the kotlinlib?","title":"How to make an object accessible to other library","body":"<p>I've done a library in java and now I'm trying to make an interface for kotlin in another library.</p>\n<p>JavaLib -&gt; KotlinLib -&gt; App</p>\n<p>KotlinLib implements JavaLib and I make a mask in kotlin for the methods of the JavaLib.</p>\n<p>In Java I have a model of an object enum that I need to used in the app.</p>\n<pre><code>public enum StoreProtectionLevel {\n    ENCRYPTED,                              // Values stores in Keystore of Android\n    ENCRYPTED_WITH_WEAK_AUTHENTICATION,     // Values using a weak authentication previously\n    ENCRYPTED_WITH_STRONG_AUTHENTICATION    // Values using a strong authentication previously\n}\n</code></pre>\n<p>If I use the JavaLib, I can import StoreProtectionLevel, but If I want to import this object from KotlinLib, the object is not accessible.</p>\n<p>How I can do this object for the kotlinlib?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6353419,"reputation":4594,"user_id":4931630,"display_name":"AterLux"},"score":1,"creation_date":1651522737,"post_id":72091930,"comment_id":127380278,"body_markdown":"Try output an empty newline or `flush` the output","body":"Try output an empty newline or <code>flush</code> the output"},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":2,"creation_date":1651522831,"post_id":72091930,"comment_id":127380307,"body_markdown":"Q: I assume the &quot;loop&quot; you&#39;re referring to is the one in DownloadUpdate.main()?  Q: Have you stepped through the code in the debugger and verified that &quot;ui.getName().length&quot; is &gt; 0?  Q: If &quot;yes&quot;, have you also verified that it enters the loop, and executes your &quot;System.out.println()&quot; statements?  ALSO: to compare strings in Java, use `String.equals()`, *NOT* &quot;==&quot;.","body":"Q: I assume the &quot;loop&quot; you&#39;re referring to is the one in DownloadUpdate.main()?  Q: Have you stepped through the code in the debugger and verified that &quot;ui.getName().length&quot; is &gt; 0?  Q: If &quot;yes&quot;, have you also verified that it enters the loop, and executes your &quot;System.out.println()&quot; statements?  ALSO: to compare strings in Java, use <code>String.equals()</code>, <i>NOT</i> &quot;==&quot;."},{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":2,"creation_date":1651522848,"post_id":72091930,"comment_id":127380314,"body_markdown":"Unrelated to your question, but `system_type == &quot;Linux&quot;` is not the correct way to compare strings in Java; see [here](https://stackoverflow.com/q/513832/12299000).","body":"Unrelated to your question, but <code>system_type == &quot;Linux&quot;</code> is not the correct way to compare strings in Java; see <a href=\"https://stackoverflow.com/q/513832/12299000\">here</a>."},{"owner":{"account_id":14021595,"reputation":33,"user_id":10127699,"display_name":"Connor Tozer"},"score":0,"creation_date":1651522929,"post_id":72091930,"comment_id":127380337,"body_markdown":"@AterLux I tried your suggestions and neither of them worked.","body":"@AterLux I tried your suggestions and neither of them worked."},{"owner":{"account_id":14021595,"reputation":33,"user_id":10127699,"display_name":"Connor Tozer"},"score":0,"creation_date":1651522958,"post_id":72091930,"comment_id":127380352,"body_markdown":"@paulsm4 Yes I have verified that ui.getName().length &gt; 0","body":"@paulsm4 Yes I have verified that ui.getName().length &gt; 0"},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":2,"creation_date":1651522986,"post_id":72091930,"comment_id":127380363,"body_markdown":"Have .... you ... stepped ... through ... the ... code ... *IN YOUR DEBUGGER*???  If not, why not?  If &quot;yes&quot;, did it execute the lines you expect?  Do your variables have the values you expect?","body":"Have .... you ... stepped ... through ... the ... code ... <i>IN YOUR DEBUGGER</i>???  If not, why not?  If &quot;yes&quot;, did it execute the lines you expect?  Do your variables have the values you expect?"},{"owner":{"account_id":14021595,"reputation":33,"user_id":10127699,"display_name":"Connor Tozer"},"score":1,"creation_date":1651523120,"post_id":72091930,"comment_id":127380399,"body_markdown":"@paulsm4 I understand your question now, thank you for the clarification. After debugging and running the coverage script, it missed 291 instructions. So no, it didn&#39;t behave as I expected.","body":"@paulsm4 I understand your question now, thank you for the clarification. After debugging and running the coverage script, it missed 291 instructions. So no, it didn&#39;t behave as I expected."},{"owner":{"account_id":14021595,"reputation":33,"user_id":10127699,"display_name":"Connor Tozer"},"score":0,"creation_date":1651537813,"post_id":72091930,"comment_id":127383304,"body_markdown":"@paulsm4 Given the edits above any idea as to why the variable ui isnt being returned properly? Is it a scope issue that I am missing?","body":"@paulsm4 Given the edits above any idea as to why the variable ui isnt being returned properly? Is it a scope issue that I am missing?"},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1651538046,"post_id":72091930,"comment_id":127383330,"body_markdown":"&quot;ui&quot; is initialized in UpdateInfo.  It sounds like you need to set a breakpoint in the UpdateInfo() constructor and step through the code!","body":"&quot;ui&quot; is initialized in UpdateInfo.  It sounds like you need to set a breakpoint in the UpdateInfo() constructor and step through the code!"},{"owner":{"account_id":14021595,"reputation":33,"user_id":10127699,"display_name":"Connor Tozer"},"score":0,"creation_date":1651538344,"post_id":72091930,"comment_id":127383366,"body_markdown":"Okay, maybe this is my lack of professional instruction with java, I am solely self taught,  but even stepping through the code I am not seeing anything. What am I missing?","body":"Okay, maybe this is my lack of professional instruction with java, I am solely self taught,  but even stepping through the code I am not seeing anything. What am I missing?"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1651672200,"post_id":72091930,"comment_id":127418711,"body_markdown":"Thing is: you dont need to use a debugger. Just do a println() for LIKE every piece of interesting information. You could for example print `ui.getName().length` BEFORE you start looping. The key aspect: when you dont understand what your code is doing, then change your code to TELL you what is doing, as said, the easy straightforward way is: by adding many print statements.","body":"Thing is: you dont need to use a debugger. Just do a println() for LIKE every piece of interesting information. You could for example print <code>ui.getName().length</code> BEFORE you start looping. The key aspect: when you dont understand what your code is doing, then change your code to TELL you what is doing, as said, the easy straightforward way is: by adding many print statements."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1651672844,"post_id":72091930,"comment_id":127419031,"body_markdown":"Could you please provide code that is syntactically correct? What does `GetUpdateInfo.getInfo()` return? What values contain `repos_list.size()` and maybe inside the `assets.size()` ?","body":"Could you please provide code that is syntactically correct? What does <code>GetUpdateInfo.getInfo()</code> return? What values contain <code>repos_list.size()</code> and maybe inside the <code>assets.size()</code> ?"}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651673295,"creation_date":1651673295,"answer_id":72114401,"question_id":72091930,"body_markdown":"An obvious problem of your code is the use of `ArrayUtils.add`: you have to reassign its result to the input array, as you cannot modify arrays like lists in Java.\r\n\r\nUse it like this:\r\n```\r\nreleases = ArrayUtils.add(releases, latest.toString());\r\nnames = ArrayUtils.add(names, latest.getName());\r\n```\r\nand later in the for-loop:\r\n```\r\nurls = ArrayUtils.add(urls, url);\r\nversions = ArrayUtils.add(versions, version);\r\n```\r\nAlso you don&#39;t need to set the elements in each loop cycle to the result:\r\n```\r\nui.setURL(urls);\r\nui.setVersion(versions);\r\n```\r\nThose would be sufficient once the for-loop has completed.\r\n\r\nAn alternative would be to first use `List&lt;String&gt;` instead of the arrays. If you have control over the `UpdateInfo` class, change it there to be lists too, otherwise create an array from the lists before you set it in UpdateInfo.\r\n\r\nAs a general advice I would recommend that you get rid of your static methods. Create instances and use your credentials (login, password, oauth) as member fields OR pass in even the whole `GitHub` instance. This way you would have an easier time writing proper tests.","title":"System.out.format not working in java for loop","body":"<p>An obvious problem of your code is the use of <code>ArrayUtils.add</code>: you have to reassign its result to the input array, as you cannot modify arrays like lists in Java.</p>\n<p>Use it like this:</p>\n<pre><code>releases = ArrayUtils.add(releases, latest.toString());\nnames = ArrayUtils.add(names, latest.getName());\n</code></pre>\n<p>and later in the for-loop:</p>\n<pre><code>urls = ArrayUtils.add(urls, url);\nversions = ArrayUtils.add(versions, version);\n</code></pre>\n<p>Also you don't need to set the elements in each loop cycle to the result:</p>\n<pre><code>ui.setURL(urls);\nui.setVersion(versions);\n</code></pre>\n<p>Those would be sufficient once the for-loop has completed.</p>\n<p>An alternative would be to first use <code>List&lt;String&gt;</code> instead of the arrays. If you have control over the <code>UpdateInfo</code> class, change it there to be lists too, otherwise create an array from the lists before you set it in UpdateInfo.</p>\n<p>As a general advice I would recommend that you get rid of your static methods. Create instances and use your credentials (login, password, oauth) as member fields OR pass in even the whole <code>GitHub</code> instance. This way you would have an easier time writing proper tests.</p>\n"}],"owner":{"account_id":14021595,"reputation":33,"user_id":10127699,"display_name":"Connor Tozer"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72114401,"answer_count":1,"score":0,"last_activity_date":1651673295,"creation_date":1651522557,"question_id":72091930,"body_markdown":"Below is the concerned code. Basically what the code is supposed to do is output the URL, name and version of each GitHub release defined by GetUpdateInfo.getInfo().\r\n\r\nGetUpdateInfo.getInfo (NOTE Strings login, oauth and password omitted for security reasons.):\r\n``` package io.nl.updater;\r\n\r\nimport java.util.List;\r\n\r\nimport org.kohsuke.github.*;\r\n\r\nimport org.apache.commons.lang3.ArrayUtils;\r\n\r\npublic class GetUpdateInfo {\r\n\tpublic static getInfo() {\r\n         String version = &quot;&quot;;\r\n\t\tString url = &quot;&quot;;\r\n\t\t\r\n\t\tString[] urls = {};\r\n\t\tString[] names = {};\r\n\t\tString[] versions = {};\r\n\t\tString[] releases = {};\r\n\t\t\r\n\t\tGitHub github = GitHubBuilder.fromEnvironment(login, password, oauth).build();\r\n\t\t//Get the repo name from the organization\r\n\t\tGHOrganization gho = github.getOrganization(&quot;NuovoLauncher-Mods&quot;);\r\n\t\tPagedIterable&lt;GHRepository&gt; repos = gho.listRepositories();\r\n\t\tList&lt;GHRepository&gt; repos_list = repos.asList();\r\n\t\tfor(int i=0; i &lt; repos_list.size(); i++) {\r\n\t\t\tGHRepository repo_test = repos_list.get(i);\r\n\t\t\tGHRelease latest = repo_test.getLatestRelease();\r\n\t\t\t\r\n\t\t\tArrayUtils.add(releases, latest.toString());\r\n\t\t\tArrayUtils.add(names, latest.getName());\r\n\t\t\tui.setName(names);\r\n\t\t\tui.setRelease(releases);\r\n\t\t\t\r\n\t\t\tList&lt;GHAsset&gt; assets = latest.getAssets();\r\n\t\t\tfor( int x = 0; x &lt; assets.size(); x++ ) {\r\n\t\t\t\tGHAsset asset = assets.get(x);\r\n\t\t\t\turl = asset.getBrowserDownloadUrl();\r\n\t\t\t\tversion = url.split(&quot;/&quot;)[7];\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.format(&quot;URL: %s, Name: %s, Latest Release: %s. Version %s\\n&quot;, url, latest.getName(), latest, version);\r\n\t\t\t\t\r\n\t\t\t\tArrayUtils.add(urls, url);\r\n\t\t\t\tArrayUtils.add(versions, version);\r\n\t\t\t\tui.setURL(urls);\r\n\t\t\t\tui.setVersion(versions);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn ui;\r\n\t}\r\n\t\r\n\t\r\n\tpublic static void main(String[] args) throws Exception {\t\r\n\t\tGetUpdateInfo.getInfo();\r\n\t}\r\n}\r\n ```\r\nDownloadUpdate.runner:\r\n``` public class DownloadUpdate {\r\n\tpublic static void runner() throws Exception {\r\n\t\tString system_type = System.getProperty(&quot;os.name&quot;);\r\n\t\tFile fpath = new File(&quot;&quot;);\r\n\t\tUpdateInfo ui = GetUpdateInfo.getInfo();\r\n\t\tfor(int i = 0; i &lt; ui.getName().length; i++) {\r\n\t\t\tSystem.out.format(&quot;URL: %s, Name %s, Version, %s&quot;, ui.getURL()[i], ui.getName()[i], ui.getVersion()[i]);\r\n\t\t\tSystem.out.format(&quot;Downloading %s-%s&quot;, ui.getName()[i], ui.getVersion()[i]);\r\n\t\t\tSystem.out.print(&quot;\\n&quot;);\r\n\r\n\t\t\tif(system_type.equals(&quot;Linux&quot;)) {\r\n\t\t\t\tfpath = new File(System.getProperty(&quot;user.home&quot;) + &quot;/.minecraft/mods/&quot; + ui.getName()[i] + &quot;-&quot; + ui.getVersion()[i] + &quot;.jar&quot;);\r\n\t\t\t} else if(system_type.equals(&quot;Windows&quot;)) {\r\n\t\t\t\tfpath = new File(System.getProperty(&quot;user.home&quot;) + &quot;/AppData/Roaming/.minecraft/mods&quot; + ui.getName()[i] + &quot;-&quot; + ui.getVersion()[i] + &quot;.jar&quot;);\r\n\t\t\t} else {\r\n\t\t\t\tfpath = new File(System.getProperty(&quot;user.home&quot;) + &quot;/.minecraft/mods/&quot; + ui.getName()[i] + &quot;-&quot; + ui.getVersion()[i] + &quot;.jar&quot;);\r\n\t\t\t}\r\n\r\n\t\t\tString url = ui.getURL()[i];\r\n\t\t\tFileUtils.copyURLToFile(new URL(url), fpath);\r\n\t\t}\r\n\t}\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tSystem.out.println(&quot;DEBUG START&quot;);\r\n\t\tDownloadUpdate.runner();\r\n\t}\r\n}\r\n\r\n ```\r\nLooking at the code, I cannot see a reason why the code is not outputting like expected; I am getting zero output on console, simply the line stating that the code is being executed. No exceptions either.\r\n\r\nEDIT: variable ui is not being returned properly. For example, ui.getName[0] throws an ArrayIndexOutOfBoundsException, due to the length being zero. Seeing this, I now understand why the for loop isn&#39;t behaving as expected. Is this a scope issue? What am I missing here?","title":"System.out.format not working in java for loop","body":"<p>Below is the concerned code. Basically what the code is supposed to do is output the URL, name and version of each GitHub release defined by GetUpdateInfo.getInfo().</p>\n<p>GetUpdateInfo.getInfo (NOTE Strings login, oauth and password omitted for security reasons.):</p>\n<pre><code>\nimport java.util.List;\n\nimport org.kohsuke.github.*;\n\nimport org.apache.commons.lang3.ArrayUtils;\n\npublic class GetUpdateInfo {\n    public static getInfo() {\n         String version = &quot;&quot;;\n        String url = &quot;&quot;;\n        \n        String[] urls = {};\n        String[] names = {};\n        String[] versions = {};\n        String[] releases = {};\n        \n        GitHub github = GitHubBuilder.fromEnvironment(login, password, oauth).build();\n        //Get the repo name from the organization\n        GHOrganization gho = github.getOrganization(&quot;NuovoLauncher-Mods&quot;);\n        PagedIterable&lt;GHRepository&gt; repos = gho.listRepositories();\n        List&lt;GHRepository&gt; repos_list = repos.asList();\n        for(int i=0; i &lt; repos_list.size(); i++) {\n            GHRepository repo_test = repos_list.get(i);\n            GHRelease latest = repo_test.getLatestRelease();\n            \n            ArrayUtils.add(releases, latest.toString());\n            ArrayUtils.add(names, latest.getName());\n            ui.setName(names);\n            ui.setRelease(releases);\n            \n            List&lt;GHAsset&gt; assets = latest.getAssets();\n            for( int x = 0; x &lt; assets.size(); x++ ) {\n                GHAsset asset = assets.get(x);\n                url = asset.getBrowserDownloadUrl();\n                version = url.split(&quot;/&quot;)[7];\n                \n                System.out.format(&quot;URL: %s, Name: %s, Latest Release: %s. Version %s\\n&quot;, url, latest.getName(), latest, version);\n                \n                ArrayUtils.add(urls, url);\n                ArrayUtils.add(versions, version);\n                ui.setURL(urls);\n                ui.setVersion(versions);\n            }\n        }\n        return ui;\n    }\n    \n    \n    public static void main(String[] args) throws Exception {   \n        GetUpdateInfo.getInfo();\n    }\n}\n</code></pre>\n<p>DownloadUpdate.runner:</p>\n<pre><code>    public static void runner() throws Exception {\n        String system_type = System.getProperty(&quot;os.name&quot;);\n        File fpath = new File(&quot;&quot;);\n        UpdateInfo ui = GetUpdateInfo.getInfo();\n        for(int i = 0; i &lt; ui.getName().length; i++) {\n            System.out.format(&quot;URL: %s, Name %s, Version, %s&quot;, ui.getURL()[i], ui.getName()[i], ui.getVersion()[i]);\n            System.out.format(&quot;Downloading %s-%s&quot;, ui.getName()[i], ui.getVersion()[i]);\n            System.out.print(&quot;\\n&quot;);\n\n            if(system_type.equals(&quot;Linux&quot;)) {\n                fpath = new File(System.getProperty(&quot;user.home&quot;) + &quot;/.minecraft/mods/&quot; + ui.getName()[i] + &quot;-&quot; + ui.getVersion()[i] + &quot;.jar&quot;);\n            } else if(system_type.equals(&quot;Windows&quot;)) {\n                fpath = new File(System.getProperty(&quot;user.home&quot;) + &quot;/AppData/Roaming/.minecraft/mods&quot; + ui.getName()[i] + &quot;-&quot; + ui.getVersion()[i] + &quot;.jar&quot;);\n            } else {\n                fpath = new File(System.getProperty(&quot;user.home&quot;) + &quot;/.minecraft/mods/&quot; + ui.getName()[i] + &quot;-&quot; + ui.getVersion()[i] + &quot;.jar&quot;);\n            }\n\n            String url = ui.getURL()[i];\n            FileUtils.copyURLToFile(new URL(url), fpath);\n        }\n    }\n    public static void main(String[] args) throws Exception {\n        System.out.println(&quot;DEBUG START&quot;);\n        DownloadUpdate.runner();\n    }\n}\n\n</code></pre>\n<p>Looking at the code, I cannot see a reason why the code is not outputting like expected; I am getting zero output on console, simply the line stating that the code is being executed. No exceptions either.</p>\n<p>EDIT: variable ui is not being returned properly. For example, ui.getName[0] throws an ArrayIndexOutOfBoundsException, due to the length being zero. Seeing this, I now understand why the for loop isn't behaving as expected. Is this a scope issue? What am I missing here?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":9097921,"reputation":990,"user_id":7870403,"accept_rate":83,"display_name":"Ryan"},"score":0,"creation_date":1651552274,"post_id":72093671,"comment_id":127385061,"body_markdown":"what data are you trying to post?","body":"what data are you trying to post?"},{"owner":{"account_id":21600226,"reputation":13,"user_id":15928509,"display_name":"Kirolos Morcos Assaad Mikhail"},"score":0,"creation_date":1651562184,"post_id":72093671,"comment_id":127386966,"body_markdown":"It is a simple select query that checks if the username exist. If it does exist it shall return the same user name.\n(I know it doesn&#39;t make sense)","body":"It is a simple select query that checks if the username exist. If it does exist it shall return the same user name. (I know it doesn&#39;t make sense)"},{"owner":{"account_id":9097921,"reputation":990,"user_id":7870403,"accept_rate":83,"display_name":"Ryan"},"score":0,"creation_date":1651646008,"post_id":72093671,"comment_id":127409575,"body_markdown":"you said the issue is when you use POST request, but a POST request requires data to be posted... are you trying to post json data? You mentioned &#39;Here I should be writing the API&#39;s query parameters&#39; - this doesn&#39;t make any sense. What do you mean by writing the query parameters?","body":"you said the issue is when you use POST request, but a POST request requires data to be posted... are you trying to post json data? You mentioned &#39;Here I should be writing the API&#39;s query parameters&#39; - this doesn&#39;t make any sense. What do you mean by writing the query parameters?"},{"owner":{"account_id":21600226,"reputation":13,"user_id":15928509,"display_name":"Kirolos Morcos Assaad Mikhail"},"score":0,"creation_date":1651672711,"post_id":72093671,"comment_id":127418959,"body_markdown":"I&#39;m mistaken sorry... I meant the body of the request","body":"I&#39;m mistaken sorry... I meant the body of the request"},{"owner":{"account_id":9097921,"reputation":990,"user_id":7870403,"accept_rate":83,"display_name":"Ryan"},"score":0,"creation_date":1651806355,"post_id":72093671,"comment_id":127456155,"body_markdown":"what is your username value? it could be breaking the url","body":"what is your username value? it could be breaking the url"},{"owner":{"account_id":21600226,"reputation":13,"user_id":15928509,"display_name":"Kirolos Morcos Assaad Mikhail"},"score":0,"creation_date":1651830157,"post_id":72093671,"comment_id":127462187,"body_markdown":"kirolos... that&#39;s it XD","body":"kirolos... that&#39;s it XD"}],"owner":{"account_id":21600226,"reputation":13,"user_id":15928509,"display_name":"Kirolos Morcos Assaad Mikhail"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651672763,"creation_date":1651537272,"question_id":72093671,"body_markdown":"This snippet should connect to the API send a request and receive a response\r\n\r\n```\r\n               try {\r\n\r\n                    URL url = new URL(&quot;https://API_URL&quot;);\r\n                    HttpURLConnection con = (HttpURLConnection) url.openConnection();\r\n                    con.setRequestMethod(&quot;POST&quot;);\r\n                    con.setDoOutput(true);\r\n                    con.setDoInput(true);\r\n```\r\nHere I should be writing the API request&#39;s body\r\n```\r\n                    BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(\r\n                            new BufferedOutputStream(con.getOutputStream()), StandardCharsets.UTF_8));\r\n                    writer.write((&quot;user=&quot;+getUsername));\r\n                    writer.flush();\r\n                    writer.close();\r\n```\r\nHere I should be reading\r\n```\r\n\r\n                    BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\r\n                    String decodedString = in.readLine();\r\n                    con.getResponseCode();\r\n\r\n```\r\n\r\n\r\n\r\nThis is the error I get:\r\n```\r\n2022-05-03 01:48:04.508 13190-13190/com.example.pldb W/System.err: java.io.FileNotFoundException: API_URL\r\n2022-05-03 01:48:04.508 13190-13190/com.example.pldb W/System.err:     at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getInputStream(HttpURLConnectionImpl.java:255)\r\n2022-05-03 01:48:04.508 13190-13190/com.example.pldb W/System.err:     at com.android.okhttp.internal.huc.DelegatingHttpsURLConnection.getInputStream(DelegatingHttpsURLConnection.java:211)\r\n2022-05-03 01:48:04.508 13190-13190/com.example.pldb W/System.err:     at com.android.okhttp.internal.huc.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:30)\r\n2022-05-03 01:48:04.508 13190-13190/com.example.pldb W/System.err:     at com.example.pldb.MainActivity$1.onClick(MainActivity.java:64)\r\n2022-05-03 01:48:04.508 13190-13190/com.example.pldb W/System.err:     at android.view.View.performClick(View.java:7448)\r\n2022-05-03 01:48:04.508 13190-13190/com.example.pldb W/System.err:     at android.view.View.performClickInternal(View.java:7425)\r\n2022-05-03 01:48:04.508 13190-13190/com.example.pldb W/System.err:     at android.view.View.access$3600(View.java:810)\r\n2022-05-03 01:48:04.508 13190-13190/com.example.pldb W/System.err:     at android.view.View$PerformClick.run(View.java:28305)\r\n2022-05-03 01:48:04.508 13190-13190/com.example.pldb W/System.err:     at android.os.Handler.handleCallback(Handler.java:938)\r\n2022-05-03 01:48:04.508 13190-13190/com.example.pldb W/System.err:     at android.os.Handler.dispatchMessage(Handler.java:99)\r\n2022-05-03 01:48:04.508 13190-13190/com.example.pldb W/System.err:     at android.os.Looper.loop(Looper.java:223)\r\n2022-05-03 01:48:04.508 13190-13190/com.example.pldb W/System.err:     at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n2022-05-03 01:48:04.509 13190-13190/com.example.pldb W/System.err:     at java.lang.reflect.Method.invoke(Native Method)\r\n2022-05-03 01:48:04.509 13190-13190/com.example.pldb W/System.err:     at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n2022-05-03 01:48:04.509 13190-13190/com.example.pldb W/System.err:     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n```\r\n\r\nOn the contrary, when I use a normal GET method API, it works normally.","title":"AWS GET APIs work on Android Studio app but POST APIs don&#39;t. Why would POST be the issue?","body":"<p>This snippet should connect to the API send a request and receive a response</p>\n<pre><code>               try {\n\n                    URL url = new URL(&quot;https://API_URL&quot;);\n                    HttpURLConnection con = (HttpURLConnection) url.openConnection();\n                    con.setRequestMethod(&quot;POST&quot;);\n                    con.setDoOutput(true);\n                    con.setDoInput(true);\n</code></pre>\n<p>Here I should be writing the API request's body</p>\n<pre><code>                    BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(\n                            new BufferedOutputStream(con.getOutputStream()), StandardCharsets.UTF_8));\n                    writer.write((&quot;user=&quot;+getUsername));\n                    writer.flush();\n                    writer.close();\n</code></pre>\n<p>Here I should be reading</p>\n<pre><code>\n                    BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\n                    String decodedString = in.readLine();\n                    con.getResponseCode();\n\n</code></pre>\n<p>This is the error I get:</p>\n<pre><code>2022-05-03 01:48:04.508 13190-13190/com.example.pldb W/System.err: java.io.FileNotFoundException: API_URL\n2022-05-03 01:48:04.508 13190-13190/com.example.pldb W/System.err:     at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getInputStream(HttpURLConnectionImpl.java:255)\n2022-05-03 01:48:04.508 13190-13190/com.example.pldb W/System.err:     at com.android.okhttp.internal.huc.DelegatingHttpsURLConnection.getInputStream(DelegatingHttpsURLConnection.java:211)\n2022-05-03 01:48:04.508 13190-13190/com.example.pldb W/System.err:     at com.android.okhttp.internal.huc.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:30)\n2022-05-03 01:48:04.508 13190-13190/com.example.pldb W/System.err:     at com.example.pldb.MainActivity$1.onClick(MainActivity.java:64)\n2022-05-03 01:48:04.508 13190-13190/com.example.pldb W/System.err:     at android.view.View.performClick(View.java:7448)\n2022-05-03 01:48:04.508 13190-13190/com.example.pldb W/System.err:     at android.view.View.performClickInternal(View.java:7425)\n2022-05-03 01:48:04.508 13190-13190/com.example.pldb W/System.err:     at android.view.View.access$3600(View.java:810)\n2022-05-03 01:48:04.508 13190-13190/com.example.pldb W/System.err:     at android.view.View$PerformClick.run(View.java:28305)\n2022-05-03 01:48:04.508 13190-13190/com.example.pldb W/System.err:     at android.os.Handler.handleCallback(Handler.java:938)\n2022-05-03 01:48:04.508 13190-13190/com.example.pldb W/System.err:     at android.os.Handler.dispatchMessage(Handler.java:99)\n2022-05-03 01:48:04.508 13190-13190/com.example.pldb W/System.err:     at android.os.Looper.loop(Looper.java:223)\n2022-05-03 01:48:04.508 13190-13190/com.example.pldb W/System.err:     at android.app.ActivityThread.main(ActivityThread.java:7656)\n2022-05-03 01:48:04.509 13190-13190/com.example.pldb W/System.err:     at java.lang.reflect.Method.invoke(Native Method)\n2022-05-03 01:48:04.509 13190-13190/com.example.pldb W/System.err:     at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n2022-05-03 01:48:04.509 13190-13190/com.example.pldb W/System.err:     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n</code></pre>\n<p>On the contrary, when I use a normal GET method API, it works normally.</p>\n"},{"tags":["java","json","spring","serialization","junit"],"comments":[{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":0,"creation_date":1651674506,"post_id":72114218,"comment_id":127419751,"body_markdown":"Which serialization do you mean? Java Object serialization, json serialization? But in general you would store the serialized data in a file and run a serialization of an instance in your test and compare that to the stored file. Also note that if a field is added to your class but the instances used in the test always have null value for this new field your test might not catch that because your serialization technology might skip null fields totally.","body":"Which serialization do you mean? Java Object serialization, json serialization? But in general you would store the serialized data in a file and run a serialization of an instance in your test and compare that to the stored file. Also note that if a field is added to your class but the instances used in the test always have null value for this new field your test might not catch that because your serialization technology might skip null fields totally."},{"owner":{"account_id":19076716,"reputation":1,"user_id":13929838,"display_name":"Edward Cho"},"score":0,"creation_date":1651676987,"post_id":72114218,"comment_id":127420818,"body_markdown":"JSON serialization. The goal of my question was essentially to have a test that would fail if the class that was to be serialized and any changes made to the class.","body":"JSON serialization. The goal of my question was essentially to have a test that would fail if the class that was to be serialized and any changes made to the class."}],"owner":{"account_id":19076716,"reputation":1,"user_id":13929838,"display_name":"Edward Cho"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651672581,"creation_date":1651672581,"question_id":72114218,"body_markdown":"I have the following class that is created with the usage of a builder:\r\n\r\n    public class Foo {\r\n      private String name;\r\n      private int age;\r\n\r\n      public String getName() { return name; }\r\n      public int getAge() { return age; }\r\n\r\n      private Foo(Builder b) {\r\n        name = b.name;\r\n        age = b.age;\r\n      }\r\n\r\n      public static final class Builder {\r\n        private String name;\r\n        private int age;\r\n\r\n        public Builder name(String name) {\r\n          this.name = name;\r\n          return this;\r\n        }\r\n\r\n         public Builder age(int age) {\r\n          this.age = age;\r\n          return this;\r\n        }\r\n      }\r\n    }\r\nNow I want to add a JUnit test for this where if this class were to change (via new field were to be added, some other changes made to this) that would also be reflected once the class got serialized, I want that test to fail to catch that change. I am not aware of any libraries that can do this, how can this be done?","title":"Adding test in JUnit that fails if Serialized Object changes","body":"<p>I have the following class that is created with the usage of a builder:</p>\n<pre><code>public class Foo {\n  private String name;\n  private int age;\n\n  public String getName() { return name; }\n  public int getAge() { return age; }\n\n  private Foo(Builder b) {\n    name = b.name;\n    age = b.age;\n  }\n\n  public static final class Builder {\n    private String name;\n    private int age;\n\n    public Builder name(String name) {\n      this.name = name;\n      return this;\n    }\n\n     public Builder age(int age) {\n      this.age = age;\n      return this;\n    }\n  }\n}\n</code></pre>\n<p>Now I want to add a JUnit test for this where if this class were to change (via new field were to be added, some other changes made to this) that would also be reflected once the class got serialized, I want that test to fail to catch that change. I am not aware of any libraries that can do this, how can this be done?</p>\n"},{"tags":["java","json","apache-beam","parquet"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1651069646,"post_id":72027282,"comment_id":127275229,"body_markdown":"That last line is Avro, not Parquet. JsonAvroConverter class won&#39;t help you get Parquet from json, only `ParquetIO.sink` can do that","body":"That last line is Avro, not Parquet. JsonAvroConverter class won&#39;t help you get Parquet from json, only <code>ParquetIO.sink</code> can do that"},{"owner":{"account_id":16194832,"reputation":582,"user_id":11692715,"display_name":"Mohit Kumar"},"score":0,"creation_date":1651070669,"post_id":72027282,"comment_id":127275673,"body_markdown":"Yeah I am using ParquetIO.sink at the end of the code you will see a commented line","body":"Yeah I am using ParquetIO.sink at the end of the code you will see a commented line"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1651080659,"post_id":72027282,"comment_id":127279533,"body_markdown":"Yes, I see that, but it is commented out. What is the exact error you are getting when you uncomment it?","body":"Yes, I see that, but it is commented out. What is the exact error you are getting when you uncomment it?"},{"owner":{"account_id":16194832,"reputation":582,"user_id":11692715,"display_name":"Mohit Kumar"},"score":0,"creation_date":1651220028,"post_id":72027282,"comment_id":127316836,"body_markdown":"I update the error log can you check now","body":"I update the error log can you check now"},{"owner":{"account_id":16194832,"reputation":582,"user_id":11692715,"display_name":"Mohit Kumar"},"score":0,"creation_date":1651220087,"post_id":72027282,"comment_id":127316863,"body_markdown":"And also Isn&#39;t there any direct way to convert json to parquet as I am using GenericRecord to do so?","body":"And also Isn&#39;t there any direct way to convert json to parquet as I am using GenericRecord to do so?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1651240291,"post_id":72027282,"comment_id":127323823,"body_markdown":"You shouldn&#39;t need Avro, no. I&#39;ve used Spark, Pig or Hive all to convert JSON to Parquet. Beam should be able to, as well. But reading over the ParquetIO javadoc, maybe not. In any case, your error has nothing to do with Beam, so please create a [mcve] of just your Avro conversion process","body":"You shouldn&#39;t need Avro, no. I&#39;ve used Spark, Pig or Hive all to convert JSON to Parquet. Beam should be able to, as well. But reading over the ParquetIO javadoc, maybe not. In any case, your error has nothing to do with Beam, so please create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of just your Avro conversion process"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1651240665,"post_id":72027282,"comment_id":127323981,"body_markdown":"I think your error is related to the fact that `jsonSchema` needs to be serializable inside the DoFn class. Instead, try inferring that schema on each line, or make a chain of multiple apply functions that return the JSONObject collection from the strings, then another to infer the schema and apply Avro converter, then end with the ParquetIO","body":"I think your error is related to the fact that <code>jsonSchema</code> needs to be serializable inside the DoFn class. Instead, try inferring that schema on each line, or make a chain of multiple apply functions that return the JSONObject collection from the strings, then another to infer the schema and apply Avro converter, then end with the ParquetIO"},{"owner":{"account_id":3830132,"reputation":1318,"user_id":3175889,"display_name":"ningk"},"score":0,"creation_date":1651610226,"post_id":72027282,"comment_id":127403574,"body_markdown":"+1 to @OneCricketeer, can you check the full stack trace and see why `serializeToByteArray` is invoked and what runner are you using? If it&#39;s inevitable, you have to make sure that your jsonSchema is serializable or infer the schema in the `process` itself.","body":"+1 to @OneCricketeer, can you check the full stack trace and see why <code>serializeToByteArray</code> is invoked and what runner are you using? If it&#39;s inevitable, you have to make sure that your jsonSchema is serializable or infer the schema in the <code>process</code> itself."},{"owner":{"account_id":23523457,"reputation":1405,"user_id":17570298,"display_name":"Shipra Sarkar"},"score":0,"creation_date":1651661846,"post_id":72027282,"comment_id":127414838,"body_markdown":"@MohitKumar, did above solution resolve your issue?","body":"@MohitKumar, did above solution resolve your issue?"},{"owner":{"account_id":16194832,"reputation":582,"user_id":11692715,"display_name":"Mohit Kumar"},"score":1,"creation_date":1651662158,"post_id":72027282,"comment_id":127414935,"body_markdown":"Yes, as @OneCricketeer said I need to serialize it. I created a new class and added as parameter construct and created it in `@Setup ` .","body":"Yes, as @OneCricketeer said I need to serialize it. I created a new class and added as parameter construct and created it in <code>@Setup </code> ."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1651671881,"post_id":72027282,"comment_id":127418565,"body_markdown":"If you&#39;ve got it working, feel free to give your solution below","body":"If you&#39;ve got it working, feel free to give your solution below"}],"answers":[{"tags":[],"owner":{"account_id":16194832,"reputation":582,"user_id":11692715,"display_name":"Mohit Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651672308,"creation_date":1651672308,"answer_id":72114149,"question_id":72027282,"body_markdown":"I created a new class and added as parameter construct and created it in @Setup.\r\n\r\n```  \r\nSchema jsonSchema = new Schema.Parser().parse(schemaString);\r\npipeLine.apply(&quot;ReadMyFile&quot;, TextIO.read().from(options.getInput()))\r\n                .apply(&quot;Convert Json To General Record&quot;, ParDo.of(new JsonToGeneralRecord(jsonSchema)))\r\n                .setCoder(AvroCoder.of(GenericRecord.class, jsonSchema))\r\n```\r\n\r\n```class JsonToGeneralRecord extends DoFn&lt;String, GenericRecord&gt; {\r\n\r\n    private static final Logger logger = LogManager.getLogger(JsonToGeneralRecord.class);\r\n\r\n    private final String schemaString;\r\n    private Schema jsonSchema;\r\n\r\n\r\n    // constructor\r\n    JsonToGeneralRecord(Schema schema) {\r\n        schemaString = schema.toString();\r\n    }\r\n\r\n    @Setup\r\n    public void setup() {\r\n        jsonSchema = new Schema.Parser().parse(schemaString);\r\n    }\r\n\r\n    @ProcessElement\r\n    public void processElement(ProcessContext c) throws Exception {\r\n\r\n        Gson gson = new GsonBuilder().create();\r\n        JsonObject parsedMap = gson.fromJson(c.element(), JsonObject.class);\r\n        logger.info(&quot;successful: &quot; + parsedMap.toString());\r\n\r\n        JsonAvroConverter avroConverter = new JsonAvroConverter();\r\n        try {\r\n            GenericRecord record = avroConverter.convertToGenericDataRecord(parsedMap.toString().getBytes(), jsonSchema);\r\n            c.output(record);\r\n        } catch (Exception e) {\r\n            logger.error(&quot;error:  &quot; + e.getMessage() + parsedMap);\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n}```","title":"How to convert JSON to Parquet in Apache Beam using Java","body":"<p>I created a new class and added as parameter construct and created it in @Setup.</p>\n<pre><code>Schema jsonSchema = new Schema.Parser().parse(schemaString);\npipeLine.apply(&quot;ReadMyFile&quot;, TextIO.read().from(options.getInput()))\n                .apply(&quot;Convert Json To General Record&quot;, ParDo.of(new JsonToGeneralRecord(jsonSchema)))\n                .setCoder(AvroCoder.of(GenericRecord.class, jsonSchema))\n</code></pre>\n<pre><code>\n    private static final Logger logger = LogManager.getLogger(JsonToGeneralRecord.class);\n\n    private final String schemaString;\n    private Schema jsonSchema;\n\n\n    // constructor\n    JsonToGeneralRecord(Schema schema) {\n        schemaString = schema.toString();\n    }\n\n    @Setup\n    public void setup() {\n        jsonSchema = new Schema.Parser().parse(schemaString);\n    }\n\n    @ProcessElement\n    public void processElement(ProcessContext c) throws Exception {\n\n        Gson gson = new GsonBuilder().create();\n        JsonObject parsedMap = gson.fromJson(c.element(), JsonObject.class);\n        logger.info(&quot;successful: &quot; + parsedMap.toString());\n\n        JsonAvroConverter avroConverter = new JsonAvroConverter();\n        try {\n            GenericRecord record = avroConverter.convertToGenericDataRecord(parsedMap.toString().getBytes(), jsonSchema);\n            c.output(record);\n        } catch (Exception e) {\n            logger.error(&quot;error:  &quot; + e.getMessage() + parsedMap);\n            e.printStackTrace();\n        }\n\n    }\n}```\n</code></pre>\n"}],"owner":{"account_id":16194832,"reputation":582,"user_id":11692715,"display_name":"Mohit Kumar"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":880,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72114149,"answer_count":1,"score":0,"last_activity_date":1651672308,"creation_date":1651055692,"question_id":72027282,"body_markdown":"I am trying to convert Json Data \r\n\r\n    {&quot;col1&quot;:&quot;sample-val-1&quot;, &quot;col2&quot;:1.0}\r\n    {&quot;col1&quot;:&quot;sample-val-2&quot;, &quot;col2&quot;:2.0}\r\n    {&quot;col1&quot;:&quot;sample-val-3&quot;, &quot;col2&quot;:3.0}\r\n    {&quot;col1&quot;:&quot;sample-val-4&quot;, &quot;col2&quot;:4.0}\r\n    {&quot;col1&quot;:&quot;sample-val-5&quot;, &quot;col2&quot;:5.0}\r\n\r\nand I need this to be converted in Parquet\r\n\r\nthen I wrote some code in Apache Beam \r\n\r\n\r\n    package org.apache.beam.examples;\r\n    \r\n    import com.google.gson.Gson;\r\n    import com.google.gson.GsonBuilder;\r\n    import com.google.gson.JsonObject;\r\n    import org.apache.avro.Schema;\r\n    import org.apache.beam.sdk.Pipeline;\r\n    import org.apache.beam.sdk.io.TextIO;\r\n    import org.apache.beam.sdk.transforms.DoFn;\r\n    import org.apache.beam.sdk.transforms.ParDo;\r\n    import org.apache.beam.sdk.values.PCollection;\r\n    import org.kitesdk.data.spi.JsonUtil;\r\n    import tech.allegro.schema.json2avro.converter.JsonAvroConverter;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.nio.file.Files;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n    \r\n            Pipeline pipeLine = Pipeline.create();\r\n            PCollection&lt;String&gt; lines = pipeLine.apply(&quot;ReadMyFile&quot;, TextIO.read().from(&quot;path-to-file&quot;));\r\n    \r\n            File initialFile = new File(&quot;path-to-file&quot;);\r\n            InputStream targetStream = Files.newInputStream(initialFile.toPath());\r\n            Schema jsonSchema = JsonUtil.inferSchema(targetStream, &quot;RecordName&quot;, 20);\r\n            System.out.println(jsonSchema.getDoc());\r\n            PCollection&lt;String&gt; words = lines.apply(ParDo.of(new DoFn&lt;String, String&gt;() {\r\n                @ProcessElement\r\n                public void processElement(ProcessContext c) {\r\n                    Gson gson = new GsonBuilder().create();\r\n                    JsonObject parsedMap = gson.fromJson(c.element(), JsonObject.class);\r\n    //                out.output(parsedMap);\r\n    //                System.out.println(Arrays.toString(parsedMap.toString().getBytes(StandardCharsets.UTF_8)));\r\n                    JsonAvroConverter avroConverter = new JsonAvroConverter();\r\n    //                GenericRecord record =  avroConverter.convertToGenericDataRecord(parsedMap.toString().getBytes(), jsonSchema);\r\n    \r\n    //                context.output(record);\r\n                }\r\n            }));\r\n            pipeLine.run();\r\n            //\r\n    //        pgr.apply(FileIO.&lt;GenericRecord&gt;write().via(ParquetIO.sink(schema)).to(&quot;path/to/save&quot;));\r\n            \r\n        }\r\n    }\r\n\r\nI am able to get line by line json but unable to convert it to Parquet the above code throws error\r\nif you try to convert the Json to Parquet using\r\n\r\n    GenericRecord record =  avroConverter.convertToGenericDataRecord(parsedMap.toString().getBytes(), jsonSchema);\r\n\r\nerror due to this line\r\n\r\n    Caused by: java.io.NotSerializableException: org.apache.avro.Schema$RecordSchema\r\n    \tat java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1185)\r\n    \tat java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1553)\r\n    \tat java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1510)\r\n    \tat java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1433)\r\n    \tat java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1179)\r\n    \tat java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1553)\r\n    \tat java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1510)\r\n    \tat java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1433)\r\n    \tat java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1179)\r\n    \tat java.base/java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:349)\r\n    \tat org.apache.beam.sdk.util.SerializableUtils.serializeToByteArray(SerializableUtils.java:55)\r\n    \t... 25 more\r\n\r\n","title":"How to convert JSON to Parquet in Apache Beam using Java","body":"<p>I am trying to convert Json Data</p>\n<pre><code>{&quot;col1&quot;:&quot;sample-val-1&quot;, &quot;col2&quot;:1.0}\n{&quot;col1&quot;:&quot;sample-val-2&quot;, &quot;col2&quot;:2.0}\n{&quot;col1&quot;:&quot;sample-val-3&quot;, &quot;col2&quot;:3.0}\n{&quot;col1&quot;:&quot;sample-val-4&quot;, &quot;col2&quot;:4.0}\n{&quot;col1&quot;:&quot;sample-val-5&quot;, &quot;col2&quot;:5.0}\n</code></pre>\n<p>and I need this to be converted in Parquet</p>\n<p>then I wrote some code in Apache Beam</p>\n<pre><code>package org.apache.beam.examples;\n\nimport com.google.gson.Gson;\nimport com.google.gson.GsonBuilder;\nimport com.google.gson.JsonObject;\nimport org.apache.avro.Schema;\nimport org.apache.beam.sdk.Pipeline;\nimport org.apache.beam.sdk.io.TextIO;\nimport org.apache.beam.sdk.transforms.DoFn;\nimport org.apache.beam.sdk.transforms.ParDo;\nimport org.apache.beam.sdk.values.PCollection;\nimport org.kitesdk.data.spi.JsonUtil;\nimport tech.allegro.schema.json2avro.converter.JsonAvroConverter;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.nio.file.Files;\n\npublic class Main {\n\n    public static void main(String[] args) throws IOException {\n\n        Pipeline pipeLine = Pipeline.create();\n        PCollection&lt;String&gt; lines = pipeLine.apply(&quot;ReadMyFile&quot;, TextIO.read().from(&quot;path-to-file&quot;));\n\n        File initialFile = new File(&quot;path-to-file&quot;);\n        InputStream targetStream = Files.newInputStream(initialFile.toPath());\n        Schema jsonSchema = JsonUtil.inferSchema(targetStream, &quot;RecordName&quot;, 20);\n        System.out.println(jsonSchema.getDoc());\n        PCollection&lt;String&gt; words = lines.apply(ParDo.of(new DoFn&lt;String, String&gt;() {\n            @ProcessElement\n            public void processElement(ProcessContext c) {\n                Gson gson = new GsonBuilder().create();\n                JsonObject parsedMap = gson.fromJson(c.element(), JsonObject.class);\n//                out.output(parsedMap);\n//                System.out.println(Arrays.toString(parsedMap.toString().getBytes(StandardCharsets.UTF_8)));\n                JsonAvroConverter avroConverter = new JsonAvroConverter();\n//                GenericRecord record =  avroConverter.convertToGenericDataRecord(parsedMap.toString().getBytes(), jsonSchema);\n\n//                context.output(record);\n            }\n        }));\n        pipeLine.run();\n        //\n//        pgr.apply(FileIO.&lt;GenericRecord&gt;write().via(ParquetIO.sink(schema)).to(&quot;path/to/save&quot;));\n        \n    }\n}\n</code></pre>\n<p>I am able to get line by line json but unable to convert it to Parquet the above code throws error\nif you try to convert the Json to Parquet using</p>\n<pre><code>GenericRecord record =  avroConverter.convertToGenericDataRecord(parsedMap.toString().getBytes(), jsonSchema);\n</code></pre>\n<p>error due to this line</p>\n<pre><code>Caused by: java.io.NotSerializableException: org.apache.avro.Schema$RecordSchema\n    at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1185)\n    at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1553)\n    at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1510)\n    at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1433)\n    at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1179)\n    at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1553)\n    at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1510)\n    at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1433)\n    at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1179)\n    at java.base/java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:349)\n    at org.apache.beam.sdk.util.SerializableUtils.serializeToByteArray(SerializableUtils.java:55)\n    ... 25 more\n</code></pre>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"account_id":1443334,"reputation":41522,"user_id":1362755,"display_name":"the8472"},"score":0,"creation_date":1651659164,"post_id":72110032,"comment_id":127413921,"body_markdown":"Increasing heap size can also affect other default settings, print them with `-XX:+PrintFlagsFinal` and diff the results. A likely candidate is young generation size.","body":"Increasing heap size can also affect other default settings, print them with <code>-XX:+PrintFlagsFinal</code> and diff the results. A likely candidate is young generation size."},{"owner":{"account_id":6968463,"reputation":4314,"user_id":5345646,"accept_rate":95,"display_name":"Mooncrater"},"score":0,"creation_date":1651660346,"post_id":72110032,"comment_id":127414359,"body_markdown":"@Holger I had checked the gc logs, and `-XX:InitialHeapSize=60817408` was present, and after the change it was `968884224`, so I do think it was changed.","body":"@Holger I had checked the gc logs, and <code>-XX:InitialHeapSize=60817408</code> was present, and after the change it was <code>968884224</code>, so I do think it was changed."},{"owner":{"account_id":6968463,"reputation":4314,"user_id":5345646,"accept_rate":95,"display_name":"Mooncrater"},"score":0,"creation_date":1651660530,"post_id":72110032,"comment_id":127414430,"body_markdown":"@Holger I will add the before / after gc args in the question, in some time. I think that should help people with actual data, and would be useful","body":"@Holger I will add the before / after gc args in the question, in some time. I think that should help people with actual data, and would be useful"},{"owner":{"account_id":6968463,"reputation":4314,"user_id":5345646,"accept_rate":95,"display_name":"Mooncrater"},"score":0,"creation_date":1651665645,"post_id":72110032,"comment_id":127416010,"body_markdown":"Hey @Holger, have added the JVM args and GC details","body":"Hey @Holger, have added the JVM args and GC details"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1651668045,"post_id":72110032,"comment_id":127416903,"body_markdown":"Some more information would be helpful. What actual numbers are the high number of young GCs? What actual pause times do you get; does the GC meat your max time goal or does it sometimes fail?","body":"Some more information would be helpful. What actual numbers are the high number of young GCs? What actual pause times do you get; does the GC meat your max time goal or does it sometimes fail?"},{"owner":{"account_id":6968463,"reputation":4314,"user_id":5345646,"accept_rate":95,"display_name":"Mooncrater"},"score":0,"creation_date":1651669846,"post_id":72110032,"comment_id":127417652,"body_markdown":"Here are some gc logs pastes:\nhttps://pastebin.com/HyxX3HTJ, https://pastebin.com/ZkcaqHhS, https://pastebin.com/5HP5HznS. Basically I am seeing a 5-6 GCs per second.","body":"Here are some gc logs pastes: <a href=\"https://pastebin.com/HyxX3HTJ\" rel=\"nofollow noreferrer\">pastebin.com/HyxX3HTJ</a>, <a href=\"https://pastebin.com/ZkcaqHhS\" rel=\"nofollow noreferrer\">pastebin.com/ZkcaqHhS</a>, <a href=\"https://pastebin.com/5HP5HznS\" rel=\"nofollow noreferrer\">pastebin.com/5HP5HznS</a>. Basically I am seeing a 5-6 GCs per second."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1651774557,"post_id":72110032,"comment_id":127449354,"body_markdown":"Before or after the change? It isnt a bad number. Mind that the purpose of a concurrent GC is to minimize the pause lengths, not the number of pauses.","body":"Before or after the change? It isnt a bad number. Mind that the purpose of a concurrent GC is to minimize the pause lengths, not the number of pauses."},{"owner":{"account_id":6968463,"reputation":4314,"user_id":5345646,"accept_rate":95,"display_name":"Mooncrater"},"score":0,"creation_date":1651989717,"post_id":72110032,"comment_id":127494240,"body_markdown":"@Holger Ohkay - So these numbers are not abnormal. Just one more question -  do you see any issues with the `maxGCPauseMillis` value of 100ms?  I&#39;ve read [here](https://docs.oracle.com/javase/7/docs/technotes/guides/vm/gc-ergonomics.html) and [here](https://docs.datastax.com/en/dse/6.0/dse-admin/datastax_enterprise/operations/opsConfigG1Gc.html), that it&#39;s value shouldn&#39;t be too less, or it will cause GC bursts. Any pointers on that you can share?","body":"@Holger Ohkay - So these numbers are not abnormal. Just one more question -  do you see any issues with the <code>maxGCPauseMillis</code> value of 100ms?  I&#39;ve read <a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/vm/gc-ergonomics.html\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://docs.datastax.com/en/dse/6.0/dse-admin/datastax_enterprise/operations/opsConfigG1Gc.html\" rel=\"nofollow noreferrer\">here</a>, that it&#39;s value shouldn&#39;t be too less, or it will cause GC bursts. Any pointers on that you can share?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1652084359,"post_id":72110032,"comment_id":127511169,"body_markdown":"A value of 100ms is not unusual, but of course, it depends on the application. Youll have to monitor your application to see, whether youre seeing the total amount of used memory to pile up over time, until a full gc kicks in to get rid of it. If you see no such process, its fine.","body":"A value of 100ms is not unusual, but of course, it depends on the application. Youll have to monitor your application to see, whether youre seeing the total amount of used memory to pile up over time, until a full gc kicks in to get rid of it. If you see no such process, its fine."}],"answers":[{"tags":[],"owner":{"account_id":8589822,"reputation":9,"user_id":6434748,"display_name":"Prateek7"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1651659359,"creation_date":1651659359,"answer_id":72111307,"question_id":72110032,"body_markdown":"maxGCPauseMillis is related to GC pause during FullGC not relate to young GC or frequency of young GC.\r\nWhich GC policy you are using &amp; what are the other GC &amp; heap parameters?","title":"Low maxGCPauseMillis and high initial heap size causing high number of young GCs","body":"<p>maxGCPauseMillis is related to GC pause during FullGC not relate to young GC or frequency of young GC.\nWhich GC policy you are using &amp; what are the other GC &amp; heap parameters?</p>\n"}],"owner":{"account_id":6968463,"reputation":4314,"user_id":5345646,"accept_rate":95,"display_name":"Mooncrater"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":470,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651672212,"creation_date":1651653286,"question_id":72110032,"body_markdown":"We have our `maxGCPauseMillis` as 100, and we were seeing high number of young GCs. After increasing the initial heap size to 1 GB, which was the default value earlier (~60MB), the number of such high young GC cases increased.\r\n\r\nI could not understand why increasing the initial heap size might cause that issue to worsen. Any pointers anyone has to what might be happening here?\r\n\r\n\r\nGC args before the change:\r\n```\r\nCommandLine flags: -XX:CICompilerCount=2 -XX:ConcGCThreads=1 \r\n-XX:+ExitOnOutOfMemoryError -XX:G1HeapRegionSize=1048576 -XX:InitialHeapSize=60817408 -XX:MarkStackSize=4194304 \r\n-XX:MaxGCPauseMillis=100 -XX:MaxHeapSize=968884224 \r\n-XX:MaxNewSize=580911104 -XX:MinHeapDeltaBytes=1048576 \r\n-XX:NumberOfGCLogFiles=5 -XX:+PrintGC -XX:+PrintGCDetails\r\n-XX:+PrintGCTimeStamps -XX:+UseCompressedClassPointers \r\n-XX:+UseCompressedOops -XX:+UseFastUnorderedTimeStamps \r\n-XX:+UseG1GC -XX:+UseGCLogFileRotation \r\n```\r\n\r\nGC args after the change:\r\n```\r\nCommandLine flags: -XX:+ExitOnOutOfMemoryError \r\n-XX:InitialHeapSize=1073741824 -XX:MaxGCPauseMillis=100 \r\n-XX:MaxHeapSize=1073741824 -XX:NumberOfGCLogFiles=5 -XX:+PrintGC -XX:+PrintGCDetails -XX:+PrintGCTimeStamps \r\n-XX:+UseCompressedClassPointers -XX:+UseCompressedOops -XX:+UseG1GC -XX:+UseGCLogFileRotation \r\n```\r\n\r\n\r\nHere are some gc logs pastes: \r\n* https://pastebin.com/HyxX3HTJ\r\n* https://pastebin.com/ZkcaqHhS\r\n* https://pastebin.com/5HP5HznS","title":"Low maxGCPauseMillis and high initial heap size causing high number of young GCs","body":"<p>We have our <code>maxGCPauseMillis</code> as 100, and we were seeing high number of young GCs. After increasing the initial heap size to 1 GB, which was the default value earlier (~60MB), the number of such high young GC cases increased.</p>\n<p>I could not understand why increasing the initial heap size might cause that issue to worsen. Any pointers anyone has to what might be happening here?</p>\n<p>GC args before the change:</p>\n<pre><code>CommandLine flags: -XX:CICompilerCount=2 -XX:ConcGCThreads=1 \n-XX:+ExitOnOutOfMemoryError -XX:G1HeapRegionSize=1048576 -XX:InitialHeapSize=60817408 -XX:MarkStackSize=4194304 \n-XX:MaxGCPauseMillis=100 -XX:MaxHeapSize=968884224 \n-XX:MaxNewSize=580911104 -XX:MinHeapDeltaBytes=1048576 \n-XX:NumberOfGCLogFiles=5 -XX:+PrintGC -XX:+PrintGCDetails\n-XX:+PrintGCTimeStamps -XX:+UseCompressedClassPointers \n-XX:+UseCompressedOops -XX:+UseFastUnorderedTimeStamps \n-XX:+UseG1GC -XX:+UseGCLogFileRotation \n</code></pre>\n<p>GC args after the change:</p>\n<pre><code>CommandLine flags: -XX:+ExitOnOutOfMemoryError \n-XX:InitialHeapSize=1073741824 -XX:MaxGCPauseMillis=100 \n-XX:MaxHeapSize=1073741824 -XX:NumberOfGCLogFiles=5 -XX:+PrintGC -XX:+PrintGCDetails -XX:+PrintGCTimeStamps \n-XX:+UseCompressedClassPointers -XX:+UseCompressedOops -XX:+UseG1GC -XX:+UseGCLogFileRotation \n</code></pre>\n<p>Here are some gc logs pastes:</p>\n<ul>\n<li><a href=\"https://pastebin.com/HyxX3HTJ\" rel=\"nofollow noreferrer\">https://pastebin.com/HyxX3HTJ</a></li>\n<li><a href=\"https://pastebin.com/ZkcaqHhS\" rel=\"nofollow noreferrer\">https://pastebin.com/ZkcaqHhS</a></li>\n<li><a href=\"https://pastebin.com/5HP5HznS\" rel=\"nofollow noreferrer\">https://pastebin.com/5HP5HznS</a></li>\n</ul>\n"},{"tags":["java","android","google-cloud-firestore","firebase-authentication"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651672087,"creation_date":1651637021,"answer_id":72107800,"question_id":72107759,"body_markdown":"Your code assumes that the sign-in succeeded, which is not necessarily the case inside `onComplete`.\r\n\r\nYou need to handle both success and failure, like this:\r\n```\r\nmAuth.signInWithEmailAndPassword(inputemail.getText().toString(), inputPassword.getText().toString())\r\n  .addOnCompleteListener(Login.this, new OnCompleteListener&lt;AuthResult&gt;() {\r\n    @Override\r\n    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n        if (task.isSuccessful()) {\r\n            mUser=mAuth.getCurrentUser();\r\n            userID = mUser.getUid();\r\n            ...\r\n        }\r\n        else {\r\n            Log.e(&quot;Firebase&quot;, &quot;Sign in failed&quot;, task.getException());\r\n        }\r\n    }\r\n    ...\r\n```\r\n\r\nNow if the sign-in fails, check the logcat output for the root cause, and fix that.","title":"getUid() returns null on onComplete after Login","body":"<p>Your code assumes that the sign-in succeeded, which is not necessarily the case inside <code>onComplete</code>.</p>\n<p>You need to handle both success and failure, like this:</p>\n<pre><code>mAuth.signInWithEmailAndPassword(inputemail.getText().toString(), inputPassword.getText().toString())\n  .addOnCompleteListener(Login.this, new OnCompleteListener&lt;AuthResult&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n        if (task.isSuccessful()) {\n            mUser=mAuth.getCurrentUser();\n            userID = mUser.getUid();\n            ...\n        }\n        else {\n            Log.e(&quot;Firebase&quot;, &quot;Sign in failed&quot;, task.getException());\n        }\n    }\n    ...\n</code></pre>\n<p>Now if the sign-in fails, check the logcat output for the root cause, and fix that.</p>\n"}],"owner":{"account_id":14476650,"reputation":3,"user_id":10457131,"display_name":"Scoutpred"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72107800,"answer_count":1,"score":0,"last_activity_date":1651672087,"creation_date":1651636613,"question_id":72107759,"body_markdown":"This is like my first or second StackOverflow question, so bear with me. \r\n\r\nI want to get the Firebase UID upon login success. However, I get an error with `getCurrentUser.getUid()` being null.\r\n\r\nBelow is the following code\r\n\r\n    mAuth.signInWithEmailAndPassword(inputemail.getText().toString(), inputPassword.getText().toString())\r\n    .addOnCompleteListener(Login.this, new OnCompleteListener&lt;AuthResult&gt;() {\r\n        @Override\r\n        public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n            mUser=mAuth.getCurrentUser();\r\n            userID = mUser.getUid();\r\n            DocumentReference docRef = db.collection(&quot;userDB&quot;).document(userID);\r\n            docRef.get().addOnCompleteListener(new OnCompleteListener&lt;DocumentSnapshot&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;DocumentSnapshot&gt; task) {\r\n                    if (task.isSuccessful()) {\r\n                        DocumentSnapshot document = task.getResult();\r\n                        String val = document.getString(&quot;type&quot;);\r\n\r\n                        if(val.equals(&quot;client&quot;)){\r\n                            if (mAuth.getCurrentUser().isEmailVerified()){\r\n                                progressDialog.dismiss();\r\n                                sendUserToNextActivity();\r\n                                Toast.makeText(Login.this, &quot;Login Success!&quot;, Toast.LENGTH_SHORT).show();\r\n                            }else{\r\n                                progressDialog.dismiss();\r\n                                FirebaseAuth.getInstance().signOut();\r\n                                Toast.makeText(Login.this, &quot;Please verify email first!&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }else{\r\n                            FirebaseAuth.getInstance().signOut();\r\n                            progressDialog.dismiss();\r\n                            Toast.makeText(Login.this, &quot;Employees are not permmitted!&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n\r\n                    } else {\r\n\r\n                    }\r\n                }\r\n            });\r\n\r\n        }\r\n    });\r\n\r\nHere is the full error log.\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.bottomnavigationview, PID: 27109\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.String com.google.firebase.auth.FirebaseUser.getUid()&#39; on a null object reference\r\n        at com.example.bottomnavigationview.Login$3$1.onComplete(Login.java:86)\r\n        at com.google.android.gms.tasks.zzi.run(com.google.android.gms:play-services-tasks@@18.0.1:1)\r\n        at android.os.Handler.handleCallback(Handler.java:789)\r\n        at android.os.Handler.dispatchMessage(Handler.java:98)\r\n        at android.os.Looper.loop(Looper.java:164)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6541)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\r\n\r\nWhich points at\r\n\r\n    userID = mUser.getUid();\r\n\r\nIs there another way or a fix where I can get the UID upon successful login? I heard about onAuthStateChanged but I can&#39;t seem to get a grasp of it.\r\n\r\n[Edit]\r\n\r\nIt is noted that mAuth and mUser has been declared within the class.\r\n`\r\n    FirebaseAuth mAuth;\r\n    FirebaseUser mUser;\r\n`\r\nAs well as `mAuth=FirebaseAuth.getInstance()` within onCreate.\r\n\r\n","title":"getUid() returns null on onComplete after Login","body":"<p>This is like my first or second StackOverflow question, so bear with me.</p>\n<p>I want to get the Firebase UID upon login success. However, I get an error with <code>getCurrentUser.getUid()</code> being null.</p>\n<p>Below is the following code</p>\n<pre><code>mAuth.signInWithEmailAndPassword(inputemail.getText().toString(), inputPassword.getText().toString())\n.addOnCompleteListener(Login.this, new OnCompleteListener&lt;AuthResult&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n        mUser=mAuth.getCurrentUser();\n        userID = mUser.getUid();\n        DocumentReference docRef = db.collection(&quot;userDB&quot;).document(userID);\n        docRef.get().addOnCompleteListener(new OnCompleteListener&lt;DocumentSnapshot&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;DocumentSnapshot&gt; task) {\n                if (task.isSuccessful()) {\n                    DocumentSnapshot document = task.getResult();\n                    String val = document.getString(&quot;type&quot;);\n\n                    if(val.equals(&quot;client&quot;)){\n                        if (mAuth.getCurrentUser().isEmailVerified()){\n                            progressDialog.dismiss();\n                            sendUserToNextActivity();\n                            Toast.makeText(Login.this, &quot;Login Success!&quot;, Toast.LENGTH_SHORT).show();\n                        }else{\n                            progressDialog.dismiss();\n                            FirebaseAuth.getInstance().signOut();\n                            Toast.makeText(Login.this, &quot;Please verify email first!&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    }else{\n                        FirebaseAuth.getInstance().signOut();\n                        progressDialog.dismiss();\n                        Toast.makeText(Login.this, &quot;Employees are not permmitted!&quot;, Toast.LENGTH_SHORT).show();\n                    }\n\n                } else {\n\n                }\n            }\n        });\n\n    }\n});\n</code></pre>\n<p>Here is the full error log.</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.bottomnavigationview, PID: 27109\njava.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String com.google.firebase.auth.FirebaseUser.getUid()' on a null object reference\n    at com.example.bottomnavigationview.Login$3$1.onComplete(Login.java:86)\n    at com.google.android.gms.tasks.zzi.run(com.google.android.gms:play-services-tasks@@18.0.1:1)\n    at android.os.Handler.handleCallback(Handler.java:789)\n    at android.os.Handler.dispatchMessage(Handler.java:98)\n    at android.os.Looper.loop(Looper.java:164)\n    at android.app.ActivityThread.main(ActivityThread.java:6541)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\n</code></pre>\n<p>Which points at</p>\n<pre><code>userID = mUser.getUid();\n</code></pre>\n<p>Is there another way or a fix where I can get the UID upon successful login? I heard about onAuthStateChanged but I can't seem to get a grasp of it.</p>\n<p>[Edit]</p>\n<p>It is noted that mAuth and mUser has been declared within the class.\n<code>FirebaseAuth mAuth; FirebaseUser mUser;</code>\nAs well as <code>mAuth=FirebaseAuth.getInstance()</code> within onCreate.</p>\n"},{"tags":["java","asynchronous"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1651666779,"post_id":72112779,"comment_id":127416453,"body_markdown":"Is this question being asked to confirm/rule out a possible cause of behavior you&#39;ve observed but not described? &quot;because of async tasK&quot; can mean many things. Just switching threads doesn&#39;t change data. The code has to, but again that depends on the code and the data too.","body":"Is this question being asked to confirm/rule out a possible cause of behavior you&#39;ve observed but not described? &quot;because of async tasK&quot; can mean many things. Just switching threads doesn&#39;t change data. The code has to, but again that depends on the code and the data too."}],"answers":[{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651671955,"creation_date":1651671955,"answer_id":72114054,"question_id":72112779,"body_markdown":"There are actually two questions here - one in the title and the other in the body\r\n\r\n&gt; Can value of a variable change in a asynchronous program?\r\n\r\nYes, an asynchronous process may alter a shared resource if that resource is mutable.\r\n\r\n&gt; Can it happen that, because of async task, value of errorState could\r\n&gt; have got reset ?\r\n\r\nNo, Strings are immutable in Java so `errorState` cannot be altered by the asynchronous process.  The reference within the asynchronous process may be pointed at another String but the original reference is still pointing to the original object which is unperturbed.\r\n","title":"Can value of a variable change in a asynchronous program?","body":"<p>There are actually two questions here - one in the title and the other in the body</p>\n<blockquote>\n<p>Can value of a variable change in a asynchronous program?</p>\n</blockquote>\n<p>Yes, an asynchronous process may alter a shared resource if that resource is mutable.</p>\n<blockquote>\n<p>Can it happen that, because of async task, value of errorState could\nhave got reset ?</p>\n</blockquote>\n<p>No, Strings are immutable in Java so <code>errorState</code> cannot be altered by the asynchronous process.  The reference within the asynchronous process may be pointed at another String but the original reference is still pointing to the original object which is unperturbed.</p>\n"}],"owner":{"account_id":192966,"reputation":5703,"user_id":434408,"accept_rate":51,"display_name":"a3.14_Infinity"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651671955,"creation_date":1651666378,"question_id":72112779,"body_markdown":"  \r\n   \r\n    String errorState = &quot;value&quot;;\r\n    ComplexObj complexObj = getComplexObj();\r\n    complexObj.setErrorState(errorState);\r\n    // do async task\r\n    if(errorState){ \r\n       doSomething();\r\n    }\r\n    else{\r\n       doSomethingElse();\r\n    }\r\n\r\nCan it happen that, because of async task, value of errorState could have got reset ?","title":"Can value of a variable change in a asynchronous program?","body":"<pre><code>String errorState = &quot;value&quot;;\nComplexObj complexObj = getComplexObj();\ncomplexObj.setErrorState(errorState);\n// do async task\nif(errorState){ \n   doSomething();\n}\nelse{\n   doSomethingElse();\n}\n</code></pre>\n<p>Can it happen that, because of async task, value of errorState could have got reset ?</p>\n"},{"tags":["java","pojo","dmn","kogito"],"answers":[{"tags":[],"owner":{"account_id":480643,"reputation":2233,"user_id":893991,"display_name":"tarilabs"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651671916,"creation_date":1651671916,"answer_id":72114042,"question_id":72109275,"body_markdown":"A very relevant and similar use-case was described precisely in:\r\n\r\n - this blog post: https://blog.kie.org/2022/01/data-enrichment-use-case-with-dmn-and-bpmn.html\r\n - this video: https://www.youtube.com/watch?v=NHigoAz1TRY\r\n - this demo: https://github.com/tarilabs/dmn-data-enrichment-20210804\r\n\r\nbefore accessing the code, I would strongly recommend to watch the video or read the blog post first.\r\n\r\nIt is important to remind that the DMN Specification mandates for a stateless and side-effect free model, so you can&#39;t _mutate_ an existing InputData variable, per-se. However, you can make use of &quot;data enrichment&quot; strategies to fulfil your use-case, per the blog post and video.\r\n\r\nThere are 2 main strategies you could follow, in short:\r\n\r\n - in the DMN model, you _decide_ for the `algId` as its own Decision node named `algId` which later will be used in BPMN process Data I/O in order to update the _process variable_ of type Application with the expected result\r\n - in the DMN model, you come up with a data enriched final decision which has the same structure of `Application` type, using the new DMN FEEL built-in such as `context put()` and you replace the process variable with that decision","title":"Changing POJO Object in DMN Kogito","body":"<p>A very relevant and similar use-case was described precisely in:</p>\n<ul>\n<li>this blog post: <a href=\"https://blog.kie.org/2022/01/data-enrichment-use-case-with-dmn-and-bpmn.html\" rel=\"nofollow noreferrer\">https://blog.kie.org/2022/01/data-enrichment-use-case-with-dmn-and-bpmn.html</a></li>\n<li>this video: <a href=\"https://www.youtube.com/watch?v=NHigoAz1TRY\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=NHigoAz1TRY</a></li>\n<li>this demo: <a href=\"https://github.com/tarilabs/dmn-data-enrichment-20210804\" rel=\"nofollow noreferrer\">https://github.com/tarilabs/dmn-data-enrichment-20210804</a></li>\n</ul>\n<p>before accessing the code, I would strongly recommend to watch the video or read the blog post first.</p>\n<p>It is important to remind that the DMN Specification mandates for a stateless and side-effect free model, so you can't <em>mutate</em> an existing InputData variable, per-se. However, you can make use of &quot;data enrichment&quot; strategies to fulfil your use-case, per the blog post and video.</p>\n<p>There are 2 main strategies you could follow, in short:</p>\n<ul>\n<li>in the DMN model, you <em>decide</em> for the <code>algId</code> as its own Decision node named <code>algId</code> which later will be used in BPMN process Data I/O in order to update the <em>process variable</em> of type Application with the expected result</li>\n<li>in the DMN model, you come up with a data enriched final decision which has the same structure of <code>Application</code> type, using the new DMN FEEL built-in such as <code>context put()</code> and you replace the process variable with that decision</li>\n</ul>\n"}],"owner":{"account_id":3466910,"reputation":2437,"user_id":2902209,"accept_rate":82,"display_name":"Donvino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":719,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72114042,"answer_count":1,"score":0,"last_activity_date":1651671916,"creation_date":1651649023,"question_id":72109275,"body_markdown":"I have bpmn2 file in which I use as a process data POJO application.\r\nTo learn how to work with DMN I wanted to change 1 POJO property depending on smth inside the DMN. I manged to make DMN working when on the input I had application and on the output I had a string value. Now I want to hade in the input application on the input and modified application on the output:\r\n[![DMN Data I\\O][1]][1]\r\n\r\nInside DMN I have the following structure:\r\n\r\n[![DMN Structure][2]][2]\r\n\r\nI have created data type tApplication with string algId field:\r\n[![DMN data type][3]][3]\r\n\r\nSo the aplication inside DMN is a tApplication data type, for decision I tried to use the decision table:\r\n\r\n[![DMN Decision Table][4]][4]\r\n\r\nMy idea was- when application.algId == &quot;101&quot; change that value to &quot;115&quot;, but for the input\r\n\r\n    {\r\n      &quot;application&quot;: {\r\n        &quot;algId&quot;:&quot;101&quot;,\r\n        ...\r\n      }\r\n    }\r\n\r\nI get following results:\r\n\r\n    {\r\n        &quot;id&quot;: &quot;98b8a9ad-1c1d-4c4f-8525-6e5fe9a528c9&quot;,\r\n        &quot;application&quot;: {\r\n            &quot;algId&quot;:&quot;101&quot;,\r\n        ...\r\n      }\r\n    }\r\n\r\nWhat am I doing wrong? What is the best practice to change the POJO object inside the DMN?\r\n\r\n  [1]: https://i.stack.imgur.com/9MGmK.png\r\n  [2]: https://i.stack.imgur.com/sEbzM.png\r\n  [3]: https://i.stack.imgur.com/NPIC1.png\r\n  [4]: https://i.stack.imgur.com/ocDAk.png","title":"Changing POJO Object in DMN Kogito","body":"<p>I have bpmn2 file in which I use as a process data POJO application.\nTo learn how to work with DMN I wanted to change 1 POJO property depending on smth inside the DMN. I manged to make DMN working when on the input I had application and on the output I had a string value. Now I want to hade in the input application on the input and modified application on the output:\n<a href=\"https://i.stack.imgur.com/9MGmK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9MGmK.png\" alt=\"DMN Data I\\O\" /></a></p>\n<p>Inside DMN I have the following structure:</p>\n<p><a href=\"https://i.stack.imgur.com/sEbzM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sEbzM.png\" alt=\"DMN Structure\" /></a></p>\n<p>I have created data type tApplication with string algId field:\n<a href=\"https://i.stack.imgur.com/NPIC1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NPIC1.png\" alt=\"DMN data type\" /></a></p>\n<p>So the aplication inside DMN is a tApplication data type, for decision I tried to use the decision table:</p>\n<p><a href=\"https://i.stack.imgur.com/ocDAk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ocDAk.png\" alt=\"DMN Decision Table\" /></a></p>\n<p>My idea was- when application.algId == &quot;101&quot; change that value to &quot;115&quot;, but for the input</p>\n<pre><code>{\n  &quot;application&quot;: {\n    &quot;algId&quot;:&quot;101&quot;,\n    ...\n  }\n}\n</code></pre>\n<p>I get following results:</p>\n<pre><code>{\n    &quot;id&quot;: &quot;98b8a9ad-1c1d-4c4f-8525-6e5fe9a528c9&quot;,\n    &quot;application&quot;: {\n        &quot;algId&quot;:&quot;101&quot;,\n    ...\n  }\n}\n</code></pre>\n<p>What am I doing wrong? What is the best practice to change the POJO object inside the DMN?</p>\n"},{"tags":["javascript","java","currency"],"comments":[{"owner":{"account_id":2702906,"reputation":22658,"user_id":2333222,"display_name":"SubOptimal"},"score":3,"creation_date":1449649898,"post_id":34173466,"comment_id":56094843,"body_markdown":"Have a look at this [SO answer &quot;displaying-currency-in-indian-numbering-format&quot;](http://stackoverflow.com/questions/5379231/displaying-currency-in-indian-numbering-format)","body":"Have a look at this <a href=\"http://stackoverflow.com/questions/5379231/displaying-currency-in-indian-numbering-format\">SO answer &quot;displaying-currency-in-indian-numbering-format&quot;</a>"},{"owner":{"account_id":6014409,"reputation":15624,"user_id":4723795,"accept_rate":82,"display_name":"xenteros"},"score":1,"creation_date":1470210790,"post_id":34173466,"comment_id":64849859,"body_markdown":"Mind the gap between `java` and `javascript`. As we know, &quot;One is essentially a toy, designed for writing small pieces of code, and traditionally used and abused by inexperienced programmers.\n\nThe other is a scripting language for web browsers. &quot;","body":"Mind the gap between <code>java</code> and <code>javascript</code>. As we know, &quot;One is essentially a toy, designed for writing small pieces of code, and traditionally used and abused by inexperienced programmers.  The other is a scripting language for web browsers. &quot;"}],"answers":[{"tags":[],"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1449648076,"creation_date":1449648076,"answer_id":34173574,"question_id":34173466,"body_markdown":"In Java regular expression syntax is slightly different. `/\\B(?=(\\d{2})+(?!\\d))/g,` would need to become `&quot;?g\\\\B(?=(\\\\d{2})+(?!\\\\d))&quot;`.","title":"I need Indian currency format like 100000 as 1,00,000 , 1234 as 1,234","body":"<p>In Java regular expression syntax is slightly different. <code>/\\B(?=(\\d{2})+(?!\\d))/g,</code> would need to become <code>\"?g\\\\B(?=(\\\\d{2})+(?!\\\\d))\"</code>.</p>\n"},{"tags":[],"owner":{"account_id":4196075,"reputation":17303,"user_id":3437460,"accept_rate":49,"display_name":"user3437460"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1449648245,"creation_date":1449648245,"answer_id":34173624,"question_id":34173466,"body_markdown":"In Java you can also use DecimalFormat:\r\n\r\n    double val = Double.parseDouble(num);  //If your num is in String  \r\n    DecimalFormat fmt = new DecimalFormat(&quot;#,###.00&quot;);\r\n    System.out.println(fmt.format(val));","title":"I need Indian currency format like 100000 as 1,00,000 , 1234 as 1,234","body":"<p>In Java you can also use DecimalFormat:</p>\n\n<pre><code>double val = Double.parseDouble(num);  //If your num is in String  \nDecimalFormat fmt = new DecimalFormat(\"#,###.00\");\nSystem.out.println(fmt.format(val));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1449648312,"creation_date":1449648312,"answer_id":34173638,"question_id":34173466,"body_markdown":"The java syntax would roughly be the following.\r\n\r\nNote that I used the regex given by **npinti** in his/her answer :\r\n\r\n    public String currencyFormat1(Object id) {\r\n                                String x;\r\n                                x = id.toString();\r\n                                String lastThree = x.substring(x.length() - 3);\r\n                                String otherNumbers = x.substring(0, x.length() - 3);\r\n                                if (!otherNumbers.isEmpty())\r\n                                    lastThree = &quot;,&quot; + lastThree;\r\n                                String res = otherNumbers.replaceAll(&quot;?g\\\\B(?=(\\\\d{2})+(?!\\\\d))&quot;, &quot;,&quot;) + lastThree;\r\n                                return  res;\r\n                            }","title":"I need Indian currency format like 100000 as 1,00,000 , 1234 as 1,234","body":"<p>The java syntax would roughly be the following.</p>\n\n<p>Note that I used the regex given by <strong>npinti</strong> in his/her answer :</p>\n\n<pre><code>public String currencyFormat1(Object id) {\n                            String x;\n                            x = id.toString();\n                            String lastThree = x.substring(x.length() - 3);\n                            String otherNumbers = x.substring(0, x.length() - 3);\n                            if (!otherNumbers.isEmpty())\n                                lastThree = \",\" + lastThree;\n                            String res = otherNumbers.replaceAll(\"?g\\\\B(?=(\\\\d{2})+(?!\\\\d))\", \",\") + lastThree;\n                            return  res;\n                        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4196075,"reputation":17303,"user_id":3437460,"accept_rate":49,"display_name":"user3437460"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1449651760,"creation_date":1449651760,"answer_id":34174576,"question_id":34173466,"body_markdown":"The Java [NumberFormat](https://docs.oracle.com/javase/7/docs/api/java/text/NumberFormat.html) will give you what you want, but you can also write your own method:\r\n\r\n\tpublic static String fmt(String s){\r\n\t\t\r\n\t\tString formatted = &quot;&quot;;\r\n\t\tif(s.length() &gt; 1){\r\n\t\t\tformatted = s.substring(0,1);\r\n\t\t\ts = s.substring(1);\r\n\t\t}\r\n\t\t\t\r\n\t\twhile(s.length() &gt; 3){\r\n\t\t\tformatted += &quot;,&quot; + s.substring(0,2);\r\n\t\t\ts = s.substring(2);\r\n\t\t}\r\n\t\treturn formatted + &quot;,&quot; + s + &quot;.00&quot;;\t\r\n\t}\r\n\r\n**Test:**\r\n\r\n\tSystem.out.println(fmt(&quot;1234&quot;));\r\n\tSystem.out.println(fmt(&quot;100000&quot;));\r\n\tSystem.out.println(fmt(&quot;12345678&quot;));\r\n\tSystem.out.println(fmt(&quot;123456789&quot;));\t\t\t\t\t\t\r\n\tSystem.out.println(fmt(&quot;1234567898&quot;));\r\n\r\n**Output:**\r\n\r\n    1,234.00\r\n    1,00,000.00\r\n    1,23,45,678.00\r\n    1,23,45,67,89.00\r\n    1,23,45,67,898.00\r\n\r\n","title":"I need Indian currency format like 100000 as 1,00,000 , 1234 as 1,234","body":"<p>The Java <a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/NumberFormat.html\" rel=\"nofollow\">NumberFormat</a> will give you what you want, but you can also write your own method:</p>\n\n<pre><code>public static String fmt(String s){\n\n    String formatted = \"\";\n    if(s.length() &gt; 1){\n        formatted = s.substring(0,1);\n        s = s.substring(1);\n    }\n\n    while(s.length() &gt; 3){\n        formatted += \",\" + s.substring(0,2);\n        s = s.substring(2);\n    }\n    return formatted + \",\" + s + \".00\"; \n}\n</code></pre>\n\n<p><strong>Test:</strong></p>\n\n<pre><code>System.out.println(fmt(\"1234\"));\nSystem.out.println(fmt(\"100000\"));\nSystem.out.println(fmt(\"12345678\"));\nSystem.out.println(fmt(\"123456789\"));                       \nSystem.out.println(fmt(\"1234567898\"));\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>1,234.00\n1,00,000.00\n1,23,45,678.00\n1,23,45,67,89.00\n1,23,45,67,898.00\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8860942,"reputation":71,"user_id":6617175,"display_name":"Rohit Thorat"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1470210370,"creation_date":1470210370,"answer_id":38737438,"question_id":34173466,"body_markdown":"&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    $(&#39;#textfield&#39;).keyup(function() {\t\r\n    var value=$(&#39;#textfield&#39;).val();\r\n          \r\n          var newvalue=value.replace(/,/g, &#39;&#39;);   \r\n          var valuewithcomma=Number(newvalue).toLocaleString(&#39;en-IN&#39;);   \r\n    \t \r\n          $(&#39;#textfield&#39;).val(valuewithcomma); \r\n\r\n          });\r\n    \t\t\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;form&gt;&lt;input type=&quot;text&quot; id=&quot;textfield&quot; &gt;&lt;/form&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"I need Indian currency format like 100000 as 1,00,000 , 1234 as 1,234","body":"<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('#textfield').keyup(function() {\t\r\nvar value=$('#textfield').val();\r\n      \r\n      var newvalue=value.replace(/,/g, '');   \r\n      var valuewithcomma=Number(newvalue).toLocaleString('en-IN');   \r\n\t \r\n      $('#textfield').val(valuewithcomma); \r\n\r\n      });\r\n\t\t</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;form&gt;&lt;input type=\"text\" id=\"textfield\" &gt;&lt;/form&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":6151466,"reputation":165,"user_id":4795769,"display_name":"Senthil Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651671846,"creation_date":1576298193,"answer_id":59332342,"question_id":34173466,"body_markdown":"Indian Currency Number Conversion RegExp\r\n\r\n/(\\d+?)(?=(\\d\\d)+(\\d)(?!\\d))(.\\d+)?/g, &quot;$1,&quot;\r\n    \r\n    $(this).val(parseFloat($(this).val(), 10).toFixed(2).replace(/(\\d+?)(?=(\\d\\d)+(\\d)(?!\\d))(.\\d+)?/g, &quot;$1,&quot;).toString());\r\n\r\n\r\n\r\nForeign Currency Number Conversion RegExp\r\n\r\n/(\\d)(?=(\\d{3})+.)/g, &quot;$1,&quot;\r\n    \r\n    $(this).val(parseFloat($(this).val(), 10).toFixed(2).replace(/(\\d)(?=(\\d{3})+.)/g, &quot;$1,&quot;).toString());","title":"I need Indian currency format like 100000 as 1,00,000 , 1234 as 1,234","body":"<p>Indian Currency Number Conversion RegExp</p>\n<p>/(\\d+?)(?=(\\d\\d)+(\\d)(?!\\d))(.\\d+)?/g, &quot;$1,&quot;</p>\n<pre><code>$(this).val(parseFloat($(this).val(), 10).toFixed(2).replace(/(\\d+?)(?=(\\d\\d)+(\\d)(?!\\d))(.\\d+)?/g, &quot;$1,&quot;).toString());\n</code></pre>\n<p>Foreign Currency Number Conversion RegExp</p>\n<p>/(\\d)(?=(\\d{3})+.)/g, &quot;$1,&quot;</p>\n<pre><code>$(this).val(parseFloat($(this).val(), 10).toFixed(2).replace(/(\\d)(?=(\\d{3})+.)/g, &quot;$1,&quot;).toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":343790,"reputation":10861,"user_id":675721,"accept_rate":75,"display_name":"Codebling"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576299211,"creation_date":1576299211,"answer_id":59332406,"question_id":34173466,"body_markdown":"Simple manual solutions might work if you only need 1 specific style for one specific locale (see other answers for this kind of solution). If not...\r\n\r\nFor Javascript, check out [Globalize](https://github.com/jquery/globalize). \r\n\r\nInstall it\r\n\r\n`npm install globalize cldr-data --save`\r\n\r\nThen:\r\n(This particular example for Hindi, from an earlier answer [here](https://stackoverflow.com/a/38822356/675721), remove the `-native` to have it only insert commas according to locale)\r\n\r\n    var cldr = require(&quot;cldr-data&quot;);\r\n    var Globalize = require(&quot;globalize&quot;);\r\n    \r\n    Globalize.load(cldr(&quot;supplemental/likelySubtags&quot;));\r\n    Globalize.load(cldr(&quot;supplemental/numberingSystems&quot;));\r\n    Globalize.load(cldr(&quot;supplemental/currencyData&quot;));\r\n    \r\n    //replace &#39;hi&#39; with appropriate language tag\r\n    Globalize.load(cldr(&quot;main/hi/numbers&quot;));\r\n    Globalize.load(cldr(&quot;main/hi/currencies&quot;));\r\n    \r\n    //You may replace the above locale-specific loads with the following line,\r\n    // which will load every type of CLDR language data for every available locale\r\n    // and may consume several hundred megs of memory!\r\n    //Use with caution.\r\n    //Globalize.load(cldr.all());\r\n    \r\n    //Set the locale\r\n    //We use the extention u-nu-native to indicate that Devanagari and\r\n    // not Latin numerals should be used.\r\n    // &#39;-u&#39; means extension\r\n    // &#39;-nu&#39; means number\r\n    // &#39;-native&#39; means use native script\r\n    //Without -u-nu-native this example will not work\r\n    //See \r\n    // https://en.wikipedia.org/wiki/IETF_language_tag#Extension_U_.28Unicode_Locale.29\r\n    // for more details on the U language code extension \r\n    var hindiGlobalizer = Globalize(&#39;hi-IN-u-nu-native&#39;);\r\n    \r\n    var parseHindiNumber = hindiGlobalizer.numberParser();\r\n    var formatHindiNumber = hindiGlobalizer.numberFormatter();\r\n    var formatRupeeCurrency = hindiGlobalizer.currencyFormatter(&quot;INR&quot;);\r\n    \r\n    console.log(parseHindiNumber(&#39;,&#39;)); //3500\r\n    console.log(formatHindiNumber(3500));   //,\r\n    console.log(formatRupeeCurrency(3500)); //,.\r\n\r\n\r\nhttps://github.com/codebling/globalize-example","title":"I need Indian currency format like 100000 as 1,00,000 , 1234 as 1,234","body":"<p>Simple manual solutions might work if you only need 1 specific style for one specific locale (see other answers for this kind of solution). If not...</p>\n\n<p>For Javascript, check out <a href=\"https://github.com/jquery/globalize\" rel=\"nofollow noreferrer\">Globalize</a>. </p>\n\n<p>Install it</p>\n\n<p><code>npm install globalize cldr-data --save</code></p>\n\n<p>Then:\n(This particular example for Hindi, from an earlier answer <a href=\"https://stackoverflow.com/a/38822356/675721\">here</a>, remove the <code>-native</code> to have it only insert commas according to locale)</p>\n\n<pre><code>var cldr = require(\"cldr-data\");\nvar Globalize = require(\"globalize\");\n\nGlobalize.load(cldr(\"supplemental/likelySubtags\"));\nGlobalize.load(cldr(\"supplemental/numberingSystems\"));\nGlobalize.load(cldr(\"supplemental/currencyData\"));\n\n//replace 'hi' with appropriate language tag\nGlobalize.load(cldr(\"main/hi/numbers\"));\nGlobalize.load(cldr(\"main/hi/currencies\"));\n\n//You may replace the above locale-specific loads with the following line,\n// which will load every type of CLDR language data for every available locale\n// and may consume several hundred megs of memory!\n//Use with caution.\n//Globalize.load(cldr.all());\n\n//Set the locale\n//We use the extention u-nu-native to indicate that Devanagari and\n// not Latin numerals should be used.\n// '-u' means extension\n// '-nu' means number\n// '-native' means use native script\n//Without -u-nu-native this example will not work\n//See \n// https://en.wikipedia.org/wiki/IETF_language_tag#Extension_U_.28Unicode_Locale.29\n// for more details on the U language code extension \nvar hindiGlobalizer = Globalize('hi-IN-u-nu-native');\n\nvar parseHindiNumber = hindiGlobalizer.numberParser();\nvar formatHindiNumber = hindiGlobalizer.numberFormatter();\nvar formatRupeeCurrency = hindiGlobalizer.currencyFormatter(\"INR\");\n\nconsole.log(parseHindiNumber(',')); //3500\nconsole.log(formatHindiNumber(3500));   //,\nconsole.log(formatRupeeCurrency(3500)); //,.\n</code></pre>\n\n<p><a href=\"https://github.com/codebling/globalize-example\" rel=\"nofollow noreferrer\">https://github.com/codebling/globalize-example</a></p>\n"},{"tags":[],"owner":{"account_id":17521194,"reputation":1,"user_id":12707215,"display_name":"Souradeep Bhunia"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1578981134,"creation_date":1578957286,"answer_id":59725544,"question_id":34173466,"body_markdown":"Code given by user3437460 is not working for all possible scenarios (EX:123456). Below code will work for all scenarios.\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class INRFormat {\r\n\r\n    public static String format(String num){\r\n        System.out.println(num.length());\r\n        String temp =&quot;&quot;;\r\n        //Removing extra &#39;0&#39;s \r\n        while(num.substring(0,1).equals(&quot;0&quot;) &amp;&amp; num.length()&gt;1) {\r\n            num = num.substring(1);\r\n        }\r\n        //Returning if it is 3 or less than 3 digits number.\r\n        if(num.length()&lt;=3){\r\n            return num+&quot;.00&quot;;\r\n\r\n        }\r\n        //If it is an odd number then &#39;,&#39; will start after first digit(Ex: 1,23,456.00)\r\n        else if(num.length()%2 !=0) {\r\n            temp = num.substring(0, 2);\r\n            num = num.substring(2);}\r\n        //If it is an even number then &#39;,&#39; will start after first 2 digits(Ex: 12,34,567.00)\r\n        else {\r\n            temp = num.substring(0, 1);\r\n            num = num.substring(1);\r\n        }\r\n        while (num.length() &gt; 3) {\r\n                temp += &quot;,&quot; + num.substring(0, 2);\r\n                num = num.substring(2);\r\n\r\n            }\r\n\r\n        return temp+&quot;,&quot;+num+&quot;.00&quot;;\r\n    }\r\n    public static void main(String args []){\r\n         Scanner s =new Scanner(System.in);\r\n         System.out.println(&quot;Please enter the number to be formatted:&quot; );\r\n         String num =s.nextLine();\r\n         System.out.println(&quot;Formatted number:&quot; + format(num));\r\n\r\n    }\r\n\r\n}\r\n```","title":"I need Indian currency format like 100000 as 1,00,000 , 1234 as 1,234","body":"<p>Code given by user3437460 is not working for all possible scenarios (EX:123456). Below code will work for all scenarios.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class INRFormat {\n\n    public static String format(String num){\n        System.out.println(num.length());\n        String temp =\"\";\n        //Removing extra '0's \n        while(num.substring(0,1).equals(\"0\") &amp;&amp; num.length()&gt;1) {\n            num = num.substring(1);\n        }\n        //Returning if it is 3 or less than 3 digits number.\n        if(num.length()&lt;=3){\n            return num+\".00\";\n\n        }\n        //If it is an odd number then ',' will start after first digit(Ex: 1,23,456.00)\n        else if(num.length()%2 !=0) {\n            temp = num.substring(0, 2);\n            num = num.substring(2);}\n        //If it is an even number then ',' will start after first 2 digits(Ex: 12,34,567.00)\n        else {\n            temp = num.substring(0, 1);\n            num = num.substring(1);\n        }\n        while (num.length() &gt; 3) {\n                temp += \",\" + num.substring(0, 2);\n                num = num.substring(2);\n\n            }\n\n        return temp+\",\"+num+\".00\";\n    }\n    public static void main(String args []){\n         Scanner s =new Scanner(System.in);\n         System.out.println(\"Please enter the number to be formatted:\" );\n         String num =s.nextLine();\n         System.out.println(\"Formatted number:\" + format(num));\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":7097723,"reputation":71,"user_id":5430594,"accept_rate":80,"display_name":"Pradeep"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6761,"favorite_count":0,"down_vote_count":3,"up_vote_count":6,"accepted_answer_id":34174576,"answer_count":8,"score":3,"last_activity_date":1651671846,"creation_date":1449647704,"question_id":34173466,"body_markdown":"I need Indian currency format like 100000 as 1,00,000 , 1234 as 1,234.\r\n\r\nI have tried this code, \r\n       \r\n    function currencyFormat1(id) {\r\n        var x;\r\n        x = id.toString();\r\n        var lastThree = x.substring(x.length - 3);\r\n        var otherNumbers = x.substring(0, x.length - 3);\r\n        if (otherNumbers != &#39;&#39;)\r\n            lastThree = &#39;,&#39; + lastThree;\r\n        var res = otherNumbers.replace(/\\B(?=(\\d{2})+(?!\\d))/g, &quot;,&quot;) + lastThree;\r\n        return  res;\r\n    }\r\n\r\nBut it is working in only java script, \r\nI need this as core java code , I have tried to convert this but the \r\n\r\n  \r\n\r\n    var res = otherNumbers.replace(/\\B(?=(\\d{2})+(?!\\d))/g, &quot;,&quot;) + lastThree;\r\n\r\n\r\n","title":"I need Indian currency format like 100000 as 1,00,000 , 1234 as 1,234","body":"<p>I need Indian currency format like 100000 as 1,00,000 , 1234 as 1,234.</p>\n\n<p>I have tried this code, </p>\n\n<pre><code>function currencyFormat1(id) {\n    var x;\n    x = id.toString();\n    var lastThree = x.substring(x.length - 3);\n    var otherNumbers = x.substring(0, x.length - 3);\n    if (otherNumbers != '')\n        lastThree = ',' + lastThree;\n    var res = otherNumbers.replace(/\\B(?=(\\d{2})+(?!\\d))/g, \",\") + lastThree;\n    return  res;\n}\n</code></pre>\n\n<p>But it is working in only java script, \nI need this as core java code , I have tried to convert this but the </p>\n\n<pre><code>var res = otherNumbers.replace(/\\B(?=(\\d{2})+(?!\\d))/g, \",\") + lastThree;\n</code></pre>\n"},{"tags":["java","jackson"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":1,"creation_date":1651671289,"post_id":72113794,"comment_id":127418316,"body_markdown":"It&#39;s not very clear... can you share one level more of the Json and one level more of the code you use to parse?","body":"It&#39;s not very clear... can you share one level more of the Json and one level more of the code you use to parse?"},{"owner":{"account_id":5723764,"reputation":81,"user_id":4521408,"display_name":"Danilo Mendes"},"score":0,"creation_date":1651671835,"post_id":72113794,"comment_id":127418544,"body_markdown":"@MatteoNNZ, the edit helps?","body":"@MatteoNNZ, the edit helps?"},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1651675880,"post_id":72113794,"comment_id":127420331,"body_markdown":"Does it mean that your Json contains a collection of String (the keys) and MyObject (so always the same object), and what you want is to serialize myObject so that it contains the key value inside the additional property &quot;propertyName&quot;?","body":"Does it mean that your Json contains a collection of String (the keys) and MyObject (so always the same object), and what you want is to serialize myObject so that it contains the key value inside the additional property &quot;propertyName&quot;?"}],"owner":{"account_id":5723764,"reputation":81,"user_id":4521408,"display_name":"Danilo Mendes"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651671807,"creation_date":1651671032,"question_id":72113794,"body_markdown":"I am trying to deserialize a JSON file, but I got the situation that I have to know which property is placed my deserializing object.\r\n\r\nLook at this example:\r\n```json\r\n{\r\n    ...(other properties)...\r\n    &quot;myPropertyName&quot;: {\r\n        &quot;foo&quot;: &quot;bar&quot;,\r\n        &quot;baz&quot;: 123\r\n    }\r\n}\r\n```\r\nAnd I want to know what is the property name where the object is placed (in this case, &quot;myPropertyName&quot;):\r\n```java\r\nclass MyObject {\r\n    @SomeAnnotation?\r\n    private String propertyName; // should get myPropertyName\r\n    private String foo; // bar\r\n    private Integer baz; // 123\r\n    // ...getters, setters...\r\n}\r\n```\r\n\r\nAny guest?\r\n\r\nEDIT:\r\nIf helps to understand, think I&#39;m deserializing a Map, and the json above is stored in rootStr variable:\r\n```java\r\nnew ObjectMapper().readValue(rootStr, new TypeReference&lt;HashMap&lt;String, MyObject&gt;&gt;() {})\r\n```","title":"Jackson: get the property name where the object is placed","body":"<p>I am trying to deserialize a JSON file, but I got the situation that I have to know which property is placed my deserializing object.</p>\n<p>Look at this example:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    ...(other properties)...\n    &quot;myPropertyName&quot;: {\n        &quot;foo&quot;: &quot;bar&quot;,\n        &quot;baz&quot;: 123\n    }\n}\n</code></pre>\n<p>And I want to know what is the property name where the object is placed (in this case, &quot;myPropertyName&quot;):</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MyObject {\n    @SomeAnnotation?\n    private String propertyName; // should get myPropertyName\n    private String foo; // bar\n    private Integer baz; // 123\n    // ...getters, setters...\n}\n</code></pre>\n<p>Any guest?</p>\n<p>EDIT:\nIf helps to understand, think I'm deserializing a Map, and the json above is stored in rootStr variable:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new ObjectMapper().readValue(rootStr, new TypeReference&lt;HashMap&lt;String, MyObject&gt;&gt;() {})\n</code></pre>\n"},{"tags":["java","spring","spring-boot","teradata"],"comments":[{"owner":{"account_id":3267339,"reputation":8505,"user_id":2751573,"accept_rate":52,"display_name":"Andrew"},"score":2,"creation_date":1579281188,"post_id":59791716,"comment_id":105726146,"body_markdown":"Are you trying to pass a column as a variable? And always compare that to the string `&#39;OPE&#39;`?","body":"Are you trying to pass a column as a variable? And always compare that to the string <code>&#39;OPE&#39;</code>?"},{"owner":{"account_id":7121865,"reputation":1550,"user_id":5446197,"display_name":"devgianlu"},"score":0,"creation_date":1579282329,"post_id":59791716,"comment_id":105726728,"body_markdown":"You can&#39;t keep `statement.setString(1,&quot;AKA&quot;);` if you remove the question mark.","body":"You can&#39;t keep <code>statement.setString(1,&quot;AKA&quot;);</code> if you remove the question mark."},{"owner":{"account_id":16007202,"reputation":1951,"user_id":11552426,"display_name":"Fred"},"score":0,"creation_date":1579385801,"post_id":59791716,"comment_id":105750842,"body_markdown":"Depending on your version of SQL Assistant, the connection method, and option settings, SQLA may be doing simple text substitution prior to passing the query to the driver (effectively &quot;dynamic SQL&quot;). Bound parameters, on the other hand, can only be used to pass values, not change the tokens (e.g. column names) used in the query.","body":"Depending on your version of SQL Assistant, the connection method, and option settings, SQLA may be doing simple text substitution prior to passing the query to the driver (effectively &quot;dynamic SQL&quot;). Bound parameters, on the other hand, can only be used to pass values, not change the tokens (e.g. column names) used in the query."},{"owner":{"account_id":17552518,"reputation":132,"user_id":12732673,"display_name":" "},"score":0,"creation_date":1579614380,"post_id":59791716,"comment_id":105818925,"body_markdown":"so i can&#39;t use this syntaxe in my query @Fred ?","body":"so i can&#39;t use this syntaxe in my query @Fred ?"},{"owner":{"account_id":17552518,"reputation":132,"user_id":12732673,"display_name":" "},"score":0,"creation_date":1579614514,"post_id":59791716,"comment_id":105819009,"body_markdown":"@Andre No i try to check a variable value not the column name as variable","body":"@Andre No i try to check a variable value not the column name as variable"},{"owner":{"account_id":17552518,"reputation":132,"user_id":12732673,"display_name":" "},"score":0,"creation_date":1579614584,"post_id":59791716,"comment_id":105819050,"body_markdown":"@devgianlu of corse, i // comment it, and i run","body":"@devgianlu of corse, i // comment it, and i run"},{"owner":{"account_id":16007202,"reputation":1951,"user_id":11552426,"display_name":"Fred"},"score":0,"creation_date":1579705673,"post_id":59791716,"comment_id":105856696,"body_markdown":"If you want to pass a string value to compare, the syntax is fine. It will either return all rows or no rows depending on what you pass. But it seems unlikely that&#39;s what you want. If you want to change which column&#39;s value is being compared to the fixed string &#39;OPE&#39;, you need to do string replacement, e.g. as @JoopEggen suggests","body":"If you want to pass a string value to compare, the syntax is fine. It will either return all rows or no rows depending on what you pass. But it seems unlikely that&#39;s what you want. If you want to change which column&#39;s value is being compared to the fixed string &#39;OPE&#39;, you need to do string replacement, e.g. as @JoopEggen suggests"},{"owner":{"account_id":17552518,"reputation":132,"user_id":12732673,"display_name":" "},"score":0,"creation_date":1580144600,"post_id":59791716,"comment_id":105993189,"body_markdown":"i want to compare with string parameter, not with a column","body":"i want to compare with string parameter, not with a column"},{"owner":{"account_id":17552518,"reputation":132,"user_id":12732673,"display_name":" "},"score":0,"creation_date":1580144661,"post_id":59791716,"comment_id":105993215,"body_markdown":"i&#39;ll have **where &#39;some string&#39;= &#39;some string&#39;**","body":"i&#39;ll have <b>where &#39;some string&#39;= &#39;some string&#39;</b>"}],"answers":[{"tags":[],"owner":{"account_id":5496138,"reputation":408,"user_id":4367186,"display_name":"Sagar Koshti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579682013,"creation_date":1579290217,"answer_id":59793929,"question_id":59791716,"body_markdown":"Change statement.setString(1,&quot;AKA&quot;) to setInt\r\n\r\n**Edit:**\r\nat\r\n\r\n    statement = dbConnection.prepareStatement(query);\r\n\r\nyou are getting error because of following rule [link][1] where TeraData is trying to compile your SQL query.\r\n\r\nFor your issue I found solution [here][2]. What you should do is change query as below:\r\n\r\n    &quot; &#39;OPE&#39; = cast(? as number) &quot;;\r\n\r\n\r\n  [1]: https://docs.teradata.com/reader/GVKfXcemJFkTJh_89R34UQ/EdEtDim_bFUi227nLtva0A\r\n  [2]: https://downloads.teradata.com/forum/connectivity/sqlstate-22003-a-character-string-failed-conversion-to-a-numeric-value#comment-19026","title":"A character string to numeric conversion failed while using syntax like &#39;OPE&#39; =?","body":"<p>Change statement.setString(1,\"AKA\") to setInt</p>\n\n<p><strong>Edit:</strong>\nat</p>\n\n<pre><code>statement = dbConnection.prepareStatement(query);\n</code></pre>\n\n<p>you are getting error because of following rule <a href=\"https://docs.teradata.com/reader/GVKfXcemJFkTJh_89R34UQ/EdEtDim_bFUi227nLtva0A\" rel=\"nofollow noreferrer\">link</a> where TeraData is trying to compile your SQL query.</p>\n\n<p>For your issue I found solution <a href=\"https://downloads.teradata.com/forum/connectivity/sqlstate-22003-a-character-string-failed-conversion-to-a-numeric-value#comment-19026\" rel=\"nofollow noreferrer\">here</a>. What you should do is change query as below:</p>\n\n<pre><code>\" 'OPE' = cast(? as number) \";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579707307,"creation_date":1579616247,"answer_id":59843067,"question_id":59791716,"body_markdown":"Putting JDBC objects in `ContractGrappeRepository`&#39;s fields is dangerous; they must be closed, and every instance must not be shared.\r\n\r\n       try (Connection dbConnection = baseJDBCTemplate.getDataSource().getConnection();\r\n              Prepared statement = dbConnection.prepareStatement(query)) {\r\n          statement.setString(1,&quot;AKA&quot;);\r\n          try (ResultSet dealResultSet = statement.executeQuery()) {\r\n              while (dealResultSet.next()) {\r\n                  ...\r\n              }\r\n              return ...\r\n          }\r\n       } catch (SQLException e) {\r\n          throw new RestructNumberException(&quot;Exception while fetching contracts&quot;,e);\r\n       }\r\n\r\nThere is a conceptual error: `?` is placeholder for a value, the result being\r\n\r\n    &#39;OPE&#39; = &#39;AKA&#39;               ***WRONG***\r\n\r\nSo you need for a column comparison concatenate/String.format the SQL string:\r\n\r\n         statement = dbConnection.prepareStatement(query.replace(&quot;?&quot;, &quot;AKA&quot;));\r\n","title":"A character string to numeric conversion failed while using syntax like &#39;OPE&#39; =?","body":"<p>Putting JDBC objects in <code>ContractGrappeRepository</code>'s fields is dangerous; they must be closed, and every instance must not be shared.</p>\n\n<pre><code>   try (Connection dbConnection = baseJDBCTemplate.getDataSource().getConnection();\n          Prepared statement = dbConnection.prepareStatement(query)) {\n      statement.setString(1,\"AKA\");\n      try (ResultSet dealResultSet = statement.executeQuery()) {\n          while (dealResultSet.next()) {\n              ...\n          }\n          return ...\n      }\n   } catch (SQLException e) {\n      throw new RestructNumberException(\"Exception while fetching contracts\",e);\n   }\n</code></pre>\n\n<p>There is a conceptual error: <code>?</code> is placeholder for a value, the result being</p>\n\n<pre><code>'OPE' = 'AKA'               ***WRONG***\n</code></pre>\n\n<p>So you need for a column comparison concatenate/String.format the SQL string:</p>\n\n<pre><code>     statement = dbConnection.prepareStatement(query.replace(\"?\", \"AKA\"));\n</code></pre>\n"}],"owner":{"account_id":17552518,"reputation":132,"user_id":12732673,"display_name":" "},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":922,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1651671550,"creation_date":1579280024,"question_id":59791716,"body_markdown":"I try to run this query using Spring JDBC Template \r\n\r\n      public static String FIND_CNC_OPE_GRAPPE_BY_FCT_ID = \r\n\t\t\t&quot;SELECT\t&quot;\r\n\t\t\t\t\t\t+&quot;EXPO.COD_NAT_XPN &quot;\r\n\t\t\t\t\t\t+&quot;,\tEXPO.IDF_TEC_XPN &quot;\r\n\t\t\t\t\t\t+&quot;,\tEXPO.IDF_FCT_XPN_RIS &quot;\r\n\t\t\t\t\t\t+&quot;,\tEXPO.DAT_PRM_IPE_LC_CEC  &quot;\r\n\t\t\t+&quot;FROM\tT_CCA_EXPO EXPO &quot;\r\n\t\t\t+&quot;WHERE\t&quot;\r\n\t\t\t+ &quot; &#39;OPE&#39; = ? &quot;;\r\n\r\nfor this i use this java code :\r\n\r\n      import java.sql.Connection;\r\n      import java.sql.PreparedStatement;\r\n      import java.sql.ResultSet;\r\n      import java.sql.SQLException;\r\n      import java.util.ArrayList;\r\n      import java.util.List;\r\n\r\n      import org.apache.commons.lang3.StringUtils;\r\n      import org.springframework.beans.factory.annotation.Autowired;\r\n      import org.springframework.jdbc.core.JdbcTemplate;\r\n      import org.springframework.stereotype.Repository;\r\n\r\n      import lombok.extern.slf4j.Slf4j;\r\n\r\n      @Repository\r\n      @Slf4j\r\n      public class ContractGrappeRepository implements ContractGrappeInterfaceRepository {\r\n\r\n\t       static String query = GrappeQueryConstant.FIND_CNC_OPE_GRAPPE_BY_FCT_ID;\r\n\t\r\n  \t       @Autowired\r\n           private JdbcTemplate baseJDBCTemplate;\r\n\t\r\n           private Connection dbConnection;\r\n\t\r\n\t       private PreparedStatement statement = null;\r\n\t\r\n           private ResultSet dealResultSet;\r\n    \r\n\t       @Override\r\n\t       public ResultSet findGrappeByDealFctID() {\r\n\t\t\r\n\t\t   try {\r\n\t\t\t  dbConnection = baseJDBCTemplate.getDataSource().getConnection();\r\n    \t\t  statement = dbConnection.prepareStatement(query);\r\n              statement.setString(1,&quot;AKA&quot;);\r\n              dealResultSet = statement.executeQuery();\r\n           } catch (SQLException e) {\r\n              throw new RestructNumberException(&quot;Exception while fetching contracts&quot;,e);\r\n           }\r\n\t\t\r\n\t\t   return null; // TO MODIFY\r\n\t   }\r\n\r\n     }\r\n\r\nWhen the compilator arrive to this line dbConnection.prepareStatement(query); i got this error message ;\r\n\r\n       java.sql.SQLException: [Teradata Database] [TeraJDBC 16.00.00.24] [Error 3535] [SQLState 22003] A character string failed conversion to a numeric value.\r\n\tat com.teradata.jdbc.jdbc_4.util.ErrorFactory.makeDatabaseSQLException(ErrorFactory.java:309)\r\n\tat com.teradata.jdbc.jdbc_4.statemachine.ReceiveInitSubState.action(ReceiveInitSubState.java:103)\r\n\tat com.teradata.jdbc.jdbc_4.statemachine.StatementReceiveState.subStateMachine(StatementReceiveState.java:311)\r\n\tat com.teradata.jdbc.jdbc_4.statemachine.StatementReceiveState.action(StatementReceiveState.java:200)\r\n\tat com.teradata.jdbc.jdbc_4.statemachine.StatementController.runBody(StatementController.java:137)\r\n\tat com.teradata.jdbc.jdbc_4.statemachine.StatementController.run(StatementController.java:128)\r\n\tat com.teradata.jdbc.jdbc_4.TDStatement.executeStatement(TDStatement.java:389)\r\n\tat com.teradata.jdbc.jdbc_4.TDStatement.prepareRequest(TDStatement.java:576)\r\n\tat com.teradata.jdbc.jdbc_4.TDPreparedStatement.&lt;init&gt;(TDPreparedStatement.java:128)\r\n\tat com.teradata.jdbc.jdk6.JDK6_SQL_PreparedStatement.&lt;init&gt;(JDK6_SQL_PreparedStatement.java:30)\r\n\tat com.teradata.jdbc.jdk6.JDK6_SQL_Connection.constructPreparedStatement(JDK6_SQL_Connection.java:82)\r\n\tat com.teradata.jdbc.jdbc_4.TDSession.prepareStatement(TDSession.java:1330)\r\n\tat com.teradata.jdbc.jdbc_4.TDSession.prepareStatement(TDSession.java:1374)\r\n\tat com.teradata.jdbc.jdbc_4.TDSession.prepareStatement(TDSession.java:1360)\r\n\tat com.teradata.jdbc.jdbc.ManagerConnectionBase.prepareStatement(ManagerConnectionBase.java:294)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\r\nWhen i run my query on Terdata sql assistant, i don&#39;t have any error.\r\nbut when i change in my query the where clause\r\n\r\n        +&quot;WHERE &quot;\r\n        + &quot; &#39;OPE&#39; = ? &quot;;\r\nto\r\n\r\n        +&quot;WHERE &quot;\r\n        + &quot; &#39;OPE&#39; = EXP.COD_NAT_XPN &quot;;\r\n\r\nI don&#39;t have any errors,\r\n\r\nWhy java don&#39;t accept this syntax **&#39;OPE&#39; = ?**\r\n\r\nI am using Spring boot **1.5.9.RELEASE** \r\n\r\nTeradata version       **16.00.00.24**\r\n","title":"A character string to numeric conversion failed while using syntax like &#39;OPE&#39; =?","body":"<p>I try to run this query using Spring JDBC Template </p>\n\n<pre><code>  public static String FIND_CNC_OPE_GRAPPE_BY_FCT_ID = \n        \"SELECT \"\n                    +\"EXPO.COD_NAT_XPN \"\n                    +\", EXPO.IDF_TEC_XPN \"\n                    +\", EXPO.IDF_FCT_XPN_RIS \"\n                    +\", EXPO.DAT_PRM_IPE_LC_CEC  \"\n        +\"FROM  T_CCA_EXPO EXPO \"\n        +\"WHERE \"\n        + \" 'OPE' = ? \";\n</code></pre>\n\n<p>for this i use this java code :</p>\n\n<pre><code>  import java.sql.Connection;\n  import java.sql.PreparedStatement;\n  import java.sql.ResultSet;\n  import java.sql.SQLException;\n  import java.util.ArrayList;\n  import java.util.List;\n\n  import org.apache.commons.lang3.StringUtils;\n  import org.springframework.beans.factory.annotation.Autowired;\n  import org.springframework.jdbc.core.JdbcTemplate;\n  import org.springframework.stereotype.Repository;\n\n  import lombok.extern.slf4j.Slf4j;\n\n  @Repository\n  @Slf4j\n  public class ContractGrappeRepository implements ContractGrappeInterfaceRepository {\n\n       static String query = GrappeQueryConstant.FIND_CNC_OPE_GRAPPE_BY_FCT_ID;\n\n       @Autowired\n       private JdbcTemplate baseJDBCTemplate;\n\n       private Connection dbConnection;\n\n       private PreparedStatement statement = null;\n\n       private ResultSet dealResultSet;\n\n       @Override\n       public ResultSet findGrappeByDealFctID() {\n\n       try {\n          dbConnection = baseJDBCTemplate.getDataSource().getConnection();\n          statement = dbConnection.prepareStatement(query);\n          statement.setString(1,\"AKA\");\n          dealResultSet = statement.executeQuery();\n       } catch (SQLException e) {\n          throw new RestructNumberException(\"Exception while fetching contracts\",e);\n       }\n\n       return null; // TO MODIFY\n   }\n\n }\n</code></pre>\n\n<p>When the compilator arrive to this line dbConnection.prepareStatement(query); i got this error message ;</p>\n\n<pre><code>   java.sql.SQLException: [Teradata Database] [TeraJDBC 16.00.00.24] [Error 3535] [SQLState 22003] A character string failed conversion to a numeric value.\nat com.teradata.jdbc.jdbc_4.util.ErrorFactory.makeDatabaseSQLException(ErrorFactory.java:309)\nat com.teradata.jdbc.jdbc_4.statemachine.ReceiveInitSubState.action(ReceiveInitSubState.java:103)\nat com.teradata.jdbc.jdbc_4.statemachine.StatementReceiveState.subStateMachine(StatementReceiveState.java:311)\nat com.teradata.jdbc.jdbc_4.statemachine.StatementReceiveState.action(StatementReceiveState.java:200)\nat com.teradata.jdbc.jdbc_4.statemachine.StatementController.runBody(StatementController.java:137)\nat com.teradata.jdbc.jdbc_4.statemachine.StatementController.run(StatementController.java:128)\nat com.teradata.jdbc.jdbc_4.TDStatement.executeStatement(TDStatement.java:389)\nat com.teradata.jdbc.jdbc_4.TDStatement.prepareRequest(TDStatement.java:576)\nat com.teradata.jdbc.jdbc_4.TDPreparedStatement.&lt;init&gt;(TDPreparedStatement.java:128)\nat com.teradata.jdbc.jdk6.JDK6_SQL_PreparedStatement.&lt;init&gt;(JDK6_SQL_PreparedStatement.java:30)\nat com.teradata.jdbc.jdk6.JDK6_SQL_Connection.constructPreparedStatement(JDK6_SQL_Connection.java:82)\nat com.teradata.jdbc.jdbc_4.TDSession.prepareStatement(TDSession.java:1330)\nat com.teradata.jdbc.jdbc_4.TDSession.prepareStatement(TDSession.java:1374)\nat com.teradata.jdbc.jdbc_4.TDSession.prepareStatement(TDSession.java:1360)\nat com.teradata.jdbc.jdbc.ManagerConnectionBase.prepareStatement(ManagerConnectionBase.java:294)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\n</code></pre>\n\n<p>When i run my query on Terdata sql assistant, i don't have any error.\nbut when i change in my query the where clause</p>\n\n<pre><code>    +\"WHERE \"\n    + \" 'OPE' = ? \";\n</code></pre>\n\n<p>to</p>\n\n<pre><code>    +\"WHERE \"\n    + \" 'OPE' = EXP.COD_NAT_XPN \";\n</code></pre>\n\n<p>I don't have any errors,</p>\n\n<p>Why java don't accept this syntax <strong>'OPE' = ?</strong></p>\n\n<p>I am using Spring boot <strong>1.5.9.RELEASE</strong> </p>\n\n<p>Teradata version       <strong>16.00.00.24</strong></p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1651670476,"post_id":72113612,"comment_id":127417933,"body_markdown":"See [mcve]. What do you EXPECT to be the &quot;right&quot; solution, and what happens instead? er.","body":"See <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. What do you EXPECT to be the &quot;right&quot; solution, and what happens instead? er."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1651670671,"post_id":72113612,"comment_id":127418034,"body_markdown":"Ah, yes, right: each Thread has its OWN new Main object. So the `synchronized` is meaningless, because it does NOT prevent the different objects to call &quot;their&quot; method. Solutions would be: A) use 1 Main object, not 5 or B) make the increment method static or C) dont use an `int` counter but AtomicInteger for example.","body":"Ah, yes, right: each Thread has its OWN new Main object. So the <code>synchronized</code> is meaningless, because it does NOT prevent the different objects to call &quot;their&quot; method. Solutions would be: A) use 1 Main object, not 5 or B) make the increment method static or C) dont use an <code>int</code> counter but AtomicInteger for example."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1651672041,"post_id":72113612,"comment_id":127418643,"body_markdown":"Also, It makes little sense for the top-level method of any thread to be `synchronized`. If it&#39;s`synchronized` then that prevents the thread, in its entirety, from running concurrently with any other thread that synchronizes on the same object. GhostCat told you why `synchronized` isn&#39;t working in your example: Each thread synchronizes on a different object. But, if you &quot;fix&quot; it by having them all synchronize on the same object, then the threads will run sequentially (one-by-one) instead of running concurrently, and that _completely_ defeats the purpose of using threads.","body":"Also, It makes little sense for the top-level method of any thread to be <code>synchronized</code>. If it&#39;s<code>synchronized</code> then that prevents the thread, in its entirety, from running concurrently with any other thread that synchronizes on the same object. GhostCat told you why <code>synchronized</code> isn&#39;t working in your example: Each thread synchronizes on a different object. But, if you &quot;fix&quot; it by having them all synchronize on the same object, then the threads will run sequentially (one-by-one) instead of running concurrently, and that <i>completely</i> defeats the purpose of using threads."},{"owner":{"account_id":24743704,"reputation":29,"user_id":18630138,"display_name":"Dmitry Zagorski"},"score":1,"creation_date":1651672905,"post_id":72113612,"comment_id":127419071,"body_markdown":"@GhostCat Thank you! All provided options work fine!","body":"@GhostCat Thank you! All provided options work fine!"}],"answers":[{"tags":[],"owner":{"account_id":1063012,"reputation":71986,"user_id":1064245,"accept_rate":82,"display_name":"M A"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651671293,"creation_date":1651671293,"answer_id":72113867,"question_id":72113612,"body_markdown":"As mentioned by comments, don&#39;t use an `int` when updating/incrementing a variable across multiple threads (that is not atomic), use an [`AtomicInteger`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html) instead to avoid race conditions. Also no need to make the `incrementCounter` method synchronized as the atomicity is enough to make it thread-safe:\r\n\r\n    static AtomicInteger counter = new AtomicInteger();\r\n\r\n    public synchronized void incrementCounter() {\r\n        IntStream.range(0, 1000).forEach(index1 -&gt; counter.incrementAndGet());\r\n    }","title":"How can I solve my multithreading feature?","body":"<p>As mentioned by comments, don't use an <code>int</code> when updating/incrementing a variable across multiple threads (that is not atomic), use an <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html\" rel=\"nofollow noreferrer\"><code>AtomicInteger</code></a> instead to avoid race conditions. Also no need to make the <code>incrementCounter</code> method synchronized as the atomicity is enough to make it thread-safe:</p>\n<pre><code>static AtomicInteger counter = new AtomicInteger();\n\npublic synchronized void incrementCounter() {\n    IntStream.range(0, 1000).forEach(index1 -&gt; counter.incrementAndGet());\n}\n</code></pre>\n"}],"owner":{"account_id":24743704,"reputation":29,"user_id":18630138,"display_name":"Dmitry Zagorski"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1651737371,"answer_count":1,"score":0,"last_activity_date":1651671293,"creation_date":1651670170,"question_id":72113612,"body_markdown":"My code:\r\n```java\r\npublic class Main {\r\n    static int counter = 0;\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Thread&gt; threads = new ArrayList&lt;&gt;();\r\n        IntStream.range(0, 5).forEach(index -&gt; threads.add(new Thread(() -&gt; new Main().incrementCounter())));\r\n        threads.forEach(Thread::start);\r\n        while (threads.stream().filter(Thread::isAlive).findAny().isPresent()) {\r\n            try {\r\n                Thread.sleep(10);\r\n                System.out.println(&quot;intermediate output &quot; + counter);\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n        System.out.println(&quot;Final output &quot; + counter);\r\n    }\r\n\r\n    public synchronized void incrementCounter() {\r\n        IntStream.range(0, 1000).forEach(index1 -&gt; counter++);\r\n    }\r\n}\r\n```\r\nI can&#39;t synchronize this feature to get its right result.\r\n\r\nHow can I synchronize it and get right solution?","title":"How can I solve my multithreading feature?","body":"<p>My code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    static int counter = 0;\n\n    public static void main(String[] args) {\n        List&lt;Thread&gt; threads = new ArrayList&lt;&gt;();\n        IntStream.range(0, 5).forEach(index -&gt; threads.add(new Thread(() -&gt; new Main().incrementCounter())));\n        threads.forEach(Thread::start);\n        while (threads.stream().filter(Thread::isAlive).findAny().isPresent()) {\n            try {\n                Thread.sleep(10);\n                System.out.println(&quot;intermediate output &quot; + counter);\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n        }\n        System.out.println(&quot;Final output &quot; + counter);\n    }\n\n    public synchronized void incrementCounter() {\n        IntStream.range(0, 1000).forEach(index1 -&gt; counter++);\n    }\n}\n</code></pre>\n<p>I can't synchronize this feature to get its right result.</p>\n<p>How can I synchronize it and get right solution?</p>\n"},{"tags":["java","bit-manipulation","bitwise-operators","bit-shift","bitwise-and"],"comments":[{"owner":{"account_id":10183690,"reputation":235,"user_id":7519523,"display_name":" "},"score":0,"creation_date":1651670683,"post_id":72113537,"comment_id":127418037,"body_markdown":"If you go from byte to String and then to short? That approach may work with any combination. So in the end you will lose non of the 1s and 0s.","body":"If you go from byte to String and then to short? That approach may work with any combination. So in the end you will lose non of the 1s and 0s."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1651678293,"post_id":72113537,"comment_id":127421349,"body_markdown":"*...and 4 bits from another byte...*. *Which* 4 bits?","body":"<i>...and 4 bits from another byte...</i>. <i>Which</i> 4 bits?"},{"owner":{"account_id":2432847,"reputation":1011,"user_id":2123400,"accept_rate":85,"display_name":"Eftekhari"},"score":0,"creation_date":1651690042,"post_id":72113537,"comment_id":127425507,"body_markdown":"@g00se as the pattern in the question","body":"@g00se as the pattern in the question"}],"answers":[{"tags":[],"owner":{"account_id":17832421,"reputation":4234,"user_id":12952113,"display_name":"Alex Sveshnikov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651671227,"creation_date":1651671227,"answer_id":72113845,"question_id":72113537,"body_markdown":"One of the possibilities is the following:\r\n```java\r\nshort s1 = (short) (((byt1 &amp; 0xff) &lt;&lt; 4) | ((byt2 &amp; 0xf0) &gt;&gt; 4));\r\nshort s2 = (short) (((byt2 &amp; 0x0f) &lt;&lt; 8) | (byt3 &amp; 0xff));\r\n```","title":"How to convert one byte and 4 bits from another byte to a short using bitwise?","body":"<p>One of the possibilities is the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>short s1 = (short) (((byt1 &amp; 0xff) &lt;&lt; 4) | ((byt2 &amp; 0xf0) &gt;&gt; 4));\nshort s2 = (short) (((byt2 &amp; 0x0f) &lt;&lt; 8) | (byt3 &amp; 0xff));\n</code></pre>\n"}],"owner":{"account_id":2432847,"reputation":1011,"user_id":2123400,"accept_rate":85,"display_name":"Eftekhari"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72113845,"answer_count":1,"score":0,"last_activity_date":1651671227,"creation_date":1651669851,"question_id":72113537,"body_markdown":"Using bitwise, how could we convert these 3 bytes to two shorts in this pattern in the most performant way?:  \r\n**(11111111)(01111110)(10000001) 3 bytes**  \r\n**(111111110111)(111010000001) 2 shorts**  \r\nFound a way to combine two bytes into a short, but for a combination of 1 byte and 4 bits tried a variety of ways for hours with no success. Thanks for your help.\r\n\r\n    byte byt1 = -1; // 11111111\r\n    byte byt2 = 126;// 01111110\r\n    byte byt3 = 129;// 10000001\r\n    short s_1_2 = (short) ((byt1 &lt;&lt; 8) | (byt2 &amp; 0xFF));\r\n    // value is 1111111101111110\r\n    short s1 = // want to be 111111110111\r\n    short s2 = // want to be 111010000001","title":"How to convert one byte and 4 bits from another byte to a short using bitwise?","body":"<p>Using bitwise, how could we convert these 3 bytes to two shorts in this pattern in the most performant way?:<br />\n<strong>(11111111)(01111110)(10000001) 3 bytes</strong><br />\n<strong>(111111110111)(111010000001) 2 shorts</strong><br />\nFound a way to combine two bytes into a short, but for a combination of 1 byte and 4 bits tried a variety of ways for hours with no success. Thanks for your help.</p>\n<pre><code>byte byt1 = -1; // 11111111\nbyte byt2 = 126;// 01111110\nbyte byt3 = 129;// 10000001\nshort s_1_2 = (short) ((byt1 &lt;&lt; 8) | (byt2 &amp; 0xFF));\n// value is 1111111101111110\nshort s1 = // want to be 111111110111\nshort s2 = // want to be 111010000001\n</code></pre>\n"},{"tags":["java","save","netbeans-8","truncation","jdatechooser"],"comments":[{"owner":{"account_id":11922143,"reputation":685,"user_id":8724372,"display_name":"eFox"},"score":1,"creation_date":1513317884,"post_id":47826621,"comment_id":82615568,"body_markdown":"Could you append the schema of that table to your question? Is the `LETTER_DATE` column a date? Which type of Date is your Java Date? There&#39;s a Date type called `java.sql.Date` which should match the `MySQL` date.","body":"Could you append the schema of that table to your question? Is the <code>LETTER_DATE</code> column a date? Which type of Date is your Java Date? There&#39;s a Date type called <code>java.sql.Date</code> which should match the <code>MySQL</code> date."},{"owner":{"account_id":11682986,"reputation":1207,"user_id":8553954,"accept_rate":83,"display_name":"meditat"},"score":1,"creation_date":1513317939,"post_id":47826621,"comment_id":82615588,"body_markdown":"`LETTER_DATE` would be String.Change it in the format of SQL-99 using `STR_TO_DATE()`","body":"<code>LETTER_DATE</code> would be String.Change it in the format of SQL-99 using <code>STR_TO_DATE()</code>"},{"owner":{"account_id":11148142,"reputation":37,"user_id":8182253,"accept_rate":20,"display_name":"Jay K"},"score":0,"creation_date":1513319990,"post_id":47826621,"comment_id":82616339,"body_markdown":"I think I have attached a screen shot of the table if it is what you wanted me to do (I&#39;m a novice ) :) The second thing how should I amend the code to match the MYSQL date into java.sql.date ? Thank you.   @eFox","body":"I think I have attached a screen shot of the table if it is what you wanted me to do (I&#39;m a novice ) :) The second thing how should I amend the code to match the MYSQL date into java.sql.date ? Thank you.   @eFox"},{"owner":{"account_id":11148142,"reputation":37,"user_id":8182253,"accept_rate":20,"display_name":"Jay K"},"score":0,"creation_date":1513320304,"post_id":47826621,"comment_id":82616462,"body_markdown":"I&#39;ll look into that. Thank you very much @ShivamSingh","body":"I&#39;ll look into that. Thank you very much @ShivamSingh"}],"answers":[{"tags":[],"owner":{"account_id":25193921,"reputation":1,"user_id":19033757,"display_name":"Hassan Suriya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651670720,"creation_date":1651670720,"answer_id":72113734,"question_id":47826621,"body_markdown":"Well, you should be using `getDateFormatString()` instead of `getDate()`. For instance:\r\n\r\n    s.executeUpdate(&quot;insert into LETTER values(&#39;&quot;+LETTER_ID.getText()+&quot;&#39;,&#39;&quot;+LETTER_CATEGORY.getSelectedItem()+&quot;&#39;,&#39;&quot;+LETTER_DATE.getDateFormatString()+&quot;&#39;,&#39;&quot;+HEADING.getText()+&quot;&#39;,&#39;&quot;+SECTION_ID.getSelectedItem()+&quot;&#39;,&#39;&quot;+SUBJECT_ID.getSelectedItem()+&quot;&#39;,&#39;&quot;+INSTITUTE_ID.getSelectedItem()+&quot;&#39;,&#39;&quot;+NEW_INSTITUTE.getText()+&quot;&#39;,&#39;&quot;+SENDERS_ID.getSelectedItem()+&quot;&#39;,&#39;&quot;+NEW_SENDER.getText()+&quot;&#39;,&#39;&quot;+RECEIVED_DATE.getDateFormatString()+&quot;&#39;,&#39;&quot;+RECEIVERS_ID.getSelectedItem()+&quot;&#39;,&#39;&quot;+NEW_RECEIVER.getText()+&quot;&#39;,&#39;&quot;+SENDING_DATE.getDateFormatString()+&quot;&#39;)&quot;);","title":"get a date using a JDateChooser and save it into mysql database","body":"<p>Well, you should be using <code>getDateFormatString()</code> instead of <code>getDate()</code>. For instance:</p>\n<pre><code>s.executeUpdate(&quot;insert into LETTER values('&quot;+LETTER_ID.getText()+&quot;','&quot;+LETTER_CATEGORY.getSelectedItem()+&quot;','&quot;+LETTER_DATE.getDateFormatString()+&quot;','&quot;+HEADING.getText()+&quot;','&quot;+SECTION_ID.getSelectedItem()+&quot;','&quot;+SUBJECT_ID.getSelectedItem()+&quot;','&quot;+INSTITUTE_ID.getSelectedItem()+&quot;','&quot;+NEW_INSTITUTE.getText()+&quot;','&quot;+SENDERS_ID.getSelectedItem()+&quot;','&quot;+NEW_SENDER.getText()+&quot;','&quot;+RECEIVED_DATE.getDateFormatString()+&quot;','&quot;+RECEIVERS_ID.getSelectedItem()+&quot;','&quot;+NEW_RECEIVER.getText()+&quot;','&quot;+SENDING_DATE.getDateFormatString()+&quot;')&quot;);\n</code></pre>\n"}],"owner":{"account_id":11148142,"reputation":37,"user_id":8182253,"accept_rate":20,"display_name":"Jay K"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1640,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1651670720,"creation_date":1513317604,"question_id":47826621,"body_markdown":"[![design view of the table `LETTER`][1]][1]\r\n\r\nI need to read a date from a `JDateChooser` and save it into a `MYSQL` database table using the `ActionPerformed` method of a `JButton`.\r\n\r\nThere are three `JDateChoosers` called `LETTER_DATE` , `RECEIVED_DATE` , `SENDING_DATE` in this `JInternalFrameForm` called `LETTER` .\r\n\r\nBelow is the code of the `ActionPerformed` method of the `JButton` `SAVE` which will save the data into the `MYSQL` table.\r\n\r\n    private void SAVEActionPerformed(java.awt.event.ActionEvent evt) {                                     \r\n                       try{\r\n                       Statement s=DB.getConnection().createStatement();        \r\n    \r\n                        s.executeUpdate(&quot;insert into LETTER values(&#39;&quot;+LETTER_ID.getText()+&quot;&#39;,&#39;&quot;+LETTER_CATEGORY.getSelectedItem()+&quot;&#39;,&#39;&quot;+LETTER_DATE.getDate()+&quot;&#39;,&#39;&quot;+HEADING.getText()+&quot;&#39;,&#39;&quot;+SECTION_ID.getSelectedItem()+&quot;&#39;,&#39;&quot;+SUBJECT_ID.getSelectedItem()+&quot;&#39;,&#39;&quot;+INSTITUTE_ID.getSelectedItem()+&quot;&#39;,&#39;&quot;+NEW_INSTITUTE.getText()+&quot;&#39;,&#39;&quot;+SENDERS_ID.getSelectedItem()+&quot;&#39;,&#39;&quot;+NEW_SENDER.getText()+&quot;&#39;,&#39;&quot;+RECEIVED_DATE.getDate()+&quot;&#39;,&#39;&quot;+RECEIVERS_ID.getSelectedItem()+&quot;&#39;,&#39;&quot;+NEW_RECEIVER.getText()+&quot;&#39;,&#39;&quot;+SENDING_DATE.getDate()+&quot;&#39;)&quot;);\r\n                        JOptionPane.showMessageDialog(this, &quot;Saved&quot;);\r\n                    }\r\n                    catch(Exception ex){\r\n                        ex.printStackTrace();\r\n            }\r\n                } \r\n\r\nWhen I clicked the `JButton` to save the data, it gives the following `stacktrace`.\r\n\r\n    com.mysql.jdbc.MysqlDataTruncation: Data truncation: Incorrect datetime value: &#39;Mon Dec 04 14:45:36 PST 2017&#39; for column &#39;LETTER_DATE&#39; at row 1\r\n        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4118)\r\n        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4052)\r\n        at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2503)\r\n        at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2664)\r\n        at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2788)\r\n        at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1816)\r\n        at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1730)\r\n        at Viewer.LETTER.SAVEActionPerformed(LETTER.java:280)\r\n        at Viewer.LETTER.access$000(LETTER.java:16)\r\n        at Viewer.LETTER$1.actionPerformed(LETTER.java:99)\r\n        at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2018)\r\n        at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2341)\r\n        at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\r\n        at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\r\n        at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)\r\n        at java.awt.Component.processMouseEvent(Component.java:6516)\r\n        at javax.swing.JComponent.processMouseEvent(JComponent.java:3321)\r\n        at java.awt.Component.processEvent(Component.java:6281)\r\n        at java.awt.Container.processEvent(Container.java:2229)\r\n        at java.awt.Component.dispatchEventImpl(Component.java:4872)\r\n        at java.awt.Container.dispatchEventImpl(Container.java:2287)\r\n        at java.awt.Component.dispatchEvent(Component.java:4698)\r\n        at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4832)\r\n        at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4492)\r\n        at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4422)\r\n        at java.awt.Container.dispatchEventImpl(Container.java:2273)\r\n        at java.awt.Window.dispatchEventImpl(Window.java:2719)\r\n        at java.awt.Component.dispatchEvent(Component.java:4698)\r\n        at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:747)\r\n        at java.awt.EventQueue.access$300(EventQueue.java:103)\r\n        at java.awt.EventQueue$3.run(EventQueue.java:706)\r\n        at java.awt.EventQueue$3.run(EventQueue.java:704)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\r\n        at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:87)\r\n        at java.awt.EventQueue$4.run(EventQueue.java:720)\r\n        at java.awt.EventQueue$4.run(EventQueue.java:718)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\r\n        at java.awt.EventQueue.dispatchEvent(EventQueue.java:717)\r\n        at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:242)\r\n        at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:161)\r\n        at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:150)\r\n        at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:146)\r\n        at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:138)\r\n        at java.awt.EventDispatchThread.run(EventDispatchThread.java:91)\r\n\r\nCan anyone please help me to figure out the problem here and correct the `datetime` value for `column` `[&#39;LETTER_DATE&#39;][1]` at `row 1`?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PtONV.jpg","title":"get a date using a JDateChooser and save it into mysql database","body":"<p><a href=\"https://i.stack.imgur.com/PtONV.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PtONV.jpg\" alt=\"design view of the table &lt;code&gt;LETTER&lt;/code&gt;\"></a></p>\n\n<p>I need to read a date from a <code>JDateChooser</code> and save it into a <code>MYSQL</code> database table using the <code>ActionPerformed</code> method of a <code>JButton</code>.</p>\n\n<p>There are three <code>JDateChoosers</code> called <code>LETTER_DATE</code> , <code>RECEIVED_DATE</code> , <code>SENDING_DATE</code> in this <code>JInternalFrameForm</code> called <code>LETTER</code> .</p>\n\n<p>Below is the code of the <code>ActionPerformed</code> method of the <code>JButton</code> <code>SAVE</code> which will save the data into the <code>MYSQL</code> table.</p>\n\n<pre><code>private void SAVEActionPerformed(java.awt.event.ActionEvent evt) {                                     \n                   try{\n                   Statement s=DB.getConnection().createStatement();        \n\n                    s.executeUpdate(\"insert into LETTER values('\"+LETTER_ID.getText()+\"','\"+LETTER_CATEGORY.getSelectedItem()+\"','\"+LETTER_DATE.getDate()+\"','\"+HEADING.getText()+\"','\"+SECTION_ID.getSelectedItem()+\"','\"+SUBJECT_ID.getSelectedItem()+\"','\"+INSTITUTE_ID.getSelectedItem()+\"','\"+NEW_INSTITUTE.getText()+\"','\"+SENDERS_ID.getSelectedItem()+\"','\"+NEW_SENDER.getText()+\"','\"+RECEIVED_DATE.getDate()+\"','\"+RECEIVERS_ID.getSelectedItem()+\"','\"+NEW_RECEIVER.getText()+\"','\"+SENDING_DATE.getDate()+\"')\");\n                    JOptionPane.showMessageDialog(this, \"Saved\");\n                }\n                catch(Exception ex){\n                    ex.printStackTrace();\n        }\n            } \n</code></pre>\n\n<p>When I clicked the <code>JButton</code> to save the data, it gives the following <code>stacktrace</code>.</p>\n\n<pre><code>com.mysql.jdbc.MysqlDataTruncation: Data truncation: Incorrect datetime value: 'Mon Dec 04 14:45:36 PST 2017' for column 'LETTER_DATE' at row 1\n    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4118)\n    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4052)\n    at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2503)\n    at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2664)\n    at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2788)\n    at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1816)\n    at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1730)\n    at Viewer.LETTER.SAVEActionPerformed(LETTER.java:280)\n    at Viewer.LETTER.access$000(LETTER.java:16)\n    at Viewer.LETTER$1.actionPerformed(LETTER.java:99)\n    at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2018)\n    at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2341)\n    at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\n    at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\n    at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)\n    at java.awt.Component.processMouseEvent(Component.java:6516)\n    at javax.swing.JComponent.processMouseEvent(JComponent.java:3321)\n    at java.awt.Component.processEvent(Component.java:6281)\n    at java.awt.Container.processEvent(Container.java:2229)\n    at java.awt.Component.dispatchEventImpl(Component.java:4872)\n    at java.awt.Container.dispatchEventImpl(Container.java:2287)\n    at java.awt.Component.dispatchEvent(Component.java:4698)\n    at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4832)\n    at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4492)\n    at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4422)\n    at java.awt.Container.dispatchEventImpl(Container.java:2273)\n    at java.awt.Window.dispatchEventImpl(Window.java:2719)\n    at java.awt.Component.dispatchEvent(Component.java:4698)\n    at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:747)\n    at java.awt.EventQueue.access$300(EventQueue.java:103)\n    at java.awt.EventQueue$3.run(EventQueue.java:706)\n    at java.awt.EventQueue$3.run(EventQueue.java:704)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\n    at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:87)\n    at java.awt.EventQueue$4.run(EventQueue.java:720)\n    at java.awt.EventQueue$4.run(EventQueue.java:718)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\n    at java.awt.EventQueue.dispatchEvent(EventQueue.java:717)\n    at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:242)\n    at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:161)\n    at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:150)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:146)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:138)\n    at java.awt.EventDispatchThread.run(EventDispatchThread.java:91)\n</code></pre>\n\n<p>Can anyone please help me to figure out the problem here and correct the <code>datetime</code> value for <code>column</code> <code>['LETTER_DATE'][1]</code> at <code>row 1</code>?</p>\n"},{"tags":["java","selenium","selenium-webdriver","firefox","slf4j"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":1,"creation_date":1651513162,"post_id":72090299,"comment_id":127377381,"body_markdown":"Try adding the NOOP jar to your libs.  You can get it here: https://repo1.maven.org/maven2/org/slf4j/slf4j-nop/1.7.9/","body":"Try adding the NOOP jar to your libs.  You can get it here: <a href=\"https://repo1.maven.org/maven2/org/slf4j/slf4j-nop/1.7.9/\" rel=\"nofollow noreferrer\">repo1.maven.org/maven2/org/slf4j/slf4j-nop/1.7.9</a>"},{"owner":{"account_id":19379111,"reputation":232,"user_id":14170782,"display_name":"Muddyblack k"},"score":1,"creation_date":1651513747,"post_id":72090299,"comment_id":127377578,"body_markdown":"changed nothing","body":"changed nothing"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":2,"creation_date":1651516409,"post_id":72090299,"comment_id":127378486,"body_markdown":"yeah, I wouldn&#39;t think the noop warning would cause it to not run...  I would check into webdrivermanager&#39;s output.  You&#39;re setting the cachePath to something, so maybe check permissions and that sort of thing.  ( if (!driver.canExecute())\n           {\n    ...\n  \n            thisDriver.setExecutable (true, true);\n           } Your exception doesn&#39;t list the driver version which seems unusual.  Maybe also switch to using latest version 4 Selenium and Java 8.","body":"yeah, I wouldn&#39;t think the noop warning would cause it to not run...  I would check into webdrivermanager&#39;s output.  You&#39;re setting the cachePath to something, so maybe check permissions and that sort of thing.  ( if (!driver.canExecute())            {     ...                thisDriver.setExecutable (true, true);            } Your exception doesn&#39;t list the driver version which seems unusual.  Maybe also switch to using latest version 4 Selenium and Java 8."},{"owner":{"account_id":19379111,"reputation":232,"user_id":14170782,"display_name":"Muddyblack k"},"score":1,"creation_date":1651519768,"post_id":72090299,"comment_id":127379385,"body_markdown":"Oh xD yeah Selenium 4.1.4 does work out","body":"Oh xD yeah Selenium 4.1.4 does work out"}],"answers":[{"tags":[],"owner":{"account_id":19379111,"reputation":232,"user_id":14170782,"display_name":"Muddyblack k"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651670582,"creation_date":1651670582,"answer_id":72113703,"question_id":72090299,"body_markdown":"To make a conclusion.\r\nIf something does not work, try to update your ```dependencies``` fixes most problems\r\n\r\nIn This Case ```selenium 4.1.0``` did not allow to execute ```firefoxdriver``` when the app is packed into a jar. It works fine with ```selenium 4.1.4```.  ","title":"Java - Selenium Firefoxdriver does not start when using .jar file","body":"<p>To make a conclusion.\nIf something does not work, try to update your <code>dependencies</code> fixes most problems</p>\n<p>In This Case <code>selenium 4.1.0</code> did not allow to execute <code>firefoxdriver</code> when the app is packed into a jar. It works fine with <code>selenium 4.1.4</code>.</p>\n"}],"owner":{"account_id":19379111,"reputation":232,"user_id":14170782,"display_name":"Muddyblack k"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":392,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72113703,"answer_count":1,"score":1,"last_activity_date":1651670582,"creation_date":1651512772,"question_id":72090299,"body_markdown":"When I create a ```.jar``` file and want to start the ```firefox webdriver``` I get an Error. It works if I run it in ```VS-Code```.\r\n\r\n``` \r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\nException in thread &quot;main&quot; org.openqa.selenium.WebDriverException: Build info: version: &#39;4.1.0&#39;, revision: &#39;87802e897b&#39;\r\nSystem info: host: &#39;DESKTOP&#39;, ip: &#39;IP&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;17.0.1&#39;\r\nDriver info: driver.version: FirefoxDriver\r\n        at java.base/java.util.Optional.orElseThrow(Optional.java:403)\r\n        at org.openqa.selenium.firefox.FirefoxDriver.toExecutor(FirefoxDriver.java:230)\r\n        at org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:186)\r\n        at org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:164)\r\n        at hegahelperjava.Test.main(Test.java:13)\r\n``` \r\n\r\nI already added SLF4j to my maven dependecies like they said here: [java - SLF4J][1]\r\n\r\nHere a snippet to recreate the problem:\r\n\r\n``` \r\n//selenium\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.firefox.FirefoxDriver;\r\nimport org.openqa.selenium.firefox.FirefoxOptions;\r\n//webdrivermanager\r\nimport io.github.bonigarcia.wdm.WebDriverManager;\r\n\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        String driversPath = &quot;PATHTODRIVER&quot;;\r\n        WebDriverManager.firefoxdriver().cachePath(driversPath).avoidOutputTree().setup();\r\n        FirefoxOptions options = new FirefoxOptions();\r\n        WebDriver driver = new FirefoxDriver(options);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7421612/slf4j-failed-to-load-class-org-slf4j-impl-staticloggerbinder","title":"Java - Selenium Firefoxdriver does not start when using .jar file","body":"<p>When I create a <code>.jar</code> file and want to start the <code>firefox webdriver</code> I get an Error. It works if I run it in <code>VS-Code</code>.</p>\n<pre><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nException in thread &quot;main&quot; org.openqa.selenium.WebDriverException: Build info: version: '4.1.0', revision: '87802e897b'\nSystem info: host: 'DESKTOP', ip: 'IP', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '17.0.1'\nDriver info: driver.version: FirefoxDriver\n        at java.base/java.util.Optional.orElseThrow(Optional.java:403)\n        at org.openqa.selenium.firefox.FirefoxDriver.toExecutor(FirefoxDriver.java:230)\n        at org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:186)\n        at org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:164)\n        at hegahelperjava.Test.main(Test.java:13)\n</code></pre>\n<p>I already added SLF4j to my maven dependecies like they said here: <a href=\"https://stackoverflow.com/questions/7421612/slf4j-failed-to-load-class-org-slf4j-impl-staticloggerbinder\">java - SLF4J</a></p>\n<p>Here a snippet to recreate the problem:</p>\n<pre><code>//selenium\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport org.openqa.selenium.firefox.FirefoxOptions;\n//webdrivermanager\nimport io.github.bonigarcia.wdm.WebDriverManager;\n\npublic class Test {\n    public static void main(String[] args) {\n        String driversPath = &quot;PATHTODRIVER&quot;;\n        WebDriverManager.firefoxdriver().cachePath(driversPath).avoidOutputTree().setup();\n        FirefoxOptions options = new FirefoxOptions();\n        WebDriver driver = new FirefoxDriver(options);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","sqlite","csv"],"comments":[{"owner":{"account_id":7831289,"reputation":759,"user_id":5921207,"display_name":"Falla Coulibaly"},"score":0,"creation_date":1537131355,"post_id":52358065,"comment_id":91661099,"body_markdown":"Retrieve all the entries in the table then properly format the output to match [CSV format specification](https://en.wikipedia.org/wiki/Comma-separated_values).","body":"Retrieve all the entries in the table then properly format the output to match <a href=\"https://en.wikipedia.org/wiki/Comma-separated_values\" rel=\"nofollow noreferrer\">CSV format specification</a>."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1537132204,"post_id":52358065,"comment_id":91661251,"body_markdown":"Just because you&#39;re new to the technologies isn&#39;t an excuse to try something and show exactly where you&#39;re stuck. Otherwise, the question is too broad","body":"Just because you&#39;re new to the technologies isn&#39;t an excuse to try something and show exactly where you&#39;re stuck. Otherwise, the question is too broad"}],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1537163028,"creation_date":1537163028,"answer_id":52361374,"question_id":52358065,"body_markdown":"The following is a rudimentary example. That will write a very basic CSV file based upon a query that concatenates the columns with a , between the columns.\r\n\r\nThe table has 3 columns named :-\r\n\r\n- _id\r\n- _name\r\n- _email\r\n\r\nThe query used is effectively `SELECT _id||&#39;,&#39;||_name||&#39;,&#39;||_email FROM test1;`, although the SQLiteDatabase **query** method is used to build the SQL.\r\n\r\nThe method **getCSVRows** of the DBHelper class returns a **Cursor** based upon the above (i.e. a single column, the CSV, that can be accessed via offset 0).\r\n\r\nEach time the App is run two rows are added, via the **addTest1Row** method.\r\n\r\nThe App has a button that when clicked invokes the **crtCSV** method that basically :-\r\n\r\n1. gets the column names as a CSV (really this method should be used to drive the getCSVRows method, as there is the potential to have the column names in the wrong place) and writes the line with these first.\r\n2. retrieves the Cursor with the data as a CSV string and writes a line.\r\n\r\nThe output file is located in the **mycsvfiles** directory of the **Downloads** directory (note only the most basic of checks are done, so this may not work on some devices). \r\n\r\nThe file name will be unique as it is suffixed with the current timestamp.\r\n\r\nThis screenshot shows 3 such files (a taken from Android Studio&#39;s device Explorer) :-\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThis shows it opened in Android Studio :-\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAnd lastly in Excel :-\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nHere&#39;s the code:-\r\n\r\nFirst, as Permission is required the relevant section of the Manifest **AndroidManifest.xml**\r\n\r\n    &lt;uses-permission\r\n        android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;&gt;\r\n    &lt;/uses-permission&gt;\r\n\r\nIf the App is to be used for any device that uses an API greater than 22 then permission has to be requested. As such there is a class for this namely **ExternalStoragePermissions.java** for handling this request :-\r\n\r\n    class ExternalStoragePermissions {\r\n    \r\n        public int API_VERSION = Build.VERSION.SDK_INT;\r\n        private static final int REQUEST_EXTERNAL_STORAGE = 1;\r\n        private static String[] PERMISSIONS_STORAGE = {\r\n                Manifest.permission.WRITE_EXTERNAL_STORAGE\r\n        };\r\n    \r\n        public ExternalStoragePermissions() {}\r\n        // Note call this method\r\n        public static void verifyStoragePermissions(Activity activity) {\r\n            int permission = ActivityCompat.checkSelfPermission(\r\n                    activity,\r\n                    Manifest.permission.WRITE_EXTERNAL_STORAGE);\r\n    \r\n            if(permission != PackageManager.PERMISSION_GRANTED) {\r\n                ActivityCompat.requestPermissions(\r\n                        activity,\r\n                        PERMISSIONS_STORAGE,\r\n                        REQUEST_EXTERNAL_STORAGE\r\n                );\r\n            }\r\n        }\r\n    }\r\n\r\n - invoked from Main.Activity\r\n\r\nThe DatabaseHelper (i.e. Subclass of SQLiteOpenHelper, as is often used) is **DBHelper.java** :-\r\n\r\n    public class DBHelper extends SQLiteOpenHelper {\r\n    \r\n        public static final String DBNAME = &quot;mydb&quot;;\r\n        public static final int DBVERSION = 1;\r\n    \r\n        public static final String TB_TEST1 = &quot;test1&quot;;\r\n    \r\n        public static final String COL_TEST1_ID = BaseColumns._ID;\r\n        public static final String COL_TEST1_NAME = &quot;_name&quot;;\r\n        public static final String COL_TEST1_EMAIL = &quot;_email&quot;;\r\n        private static final String crtTest1SQL = &quot;CREATE TABLE IF NOT EXISTS &quot; +\r\n                TB_TEST1 +\r\n                &quot;(&quot; +\r\n                COL_TEST1_ID + &quot; INTEGER PRIMARY KEY,&quot; +\r\n                COL_TEST1_NAME + &quot; TEXT,&quot; +\r\n                COL_TEST1_EMAIL + &quot; TEXT&quot; +\r\n                &quot;)&quot;;\r\n    \r\n    \r\n        SQLiteDatabase mDB;\r\n    \r\n    \r\n        public DBHelper(Context context) {\r\n            super(context, DBNAME, null, DBVERSION);\r\n            mDB = this.getWritableDatabase();\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate(SQLiteDatabase db) {\r\n            db.execSQL(crtTest1SQL);\r\n        }\r\n    \r\n        @Override\r\n        public void onUpgrade(SQLiteDatabase db, int i, int i1) {\r\n        }\r\n    \r\n        public long addTest1Row(String name, String email) {\r\n            ContentValues cv = new ContentValues();\r\n            cv.put(COL_TEST1_NAME,name);\r\n            cv.put(COL_TEST1_EMAIL,email);\r\n            return mDB.insert(TB_TEST1,null,cv);\r\n        }\r\n    \r\n        public Cursor getCSVRows(String table) {\r\n            Cursor rv;\r\n            String[] columns;\r\n            switch (table) {\r\n                case TB_TEST1:\r\n                    columns = new String[]{COL_TEST1_ID + &quot;||&#39;,&#39;||&quot; + COL_TEST1_NAME + &quot;||&#39;,&#39;||&quot; + COL_TEST1_EMAIL};\r\n                    break;\r\n                    default:\r\n                        return null;\r\n            }\r\n            return mDB.query(table,columns,null,null,null,null,null);\r\n        }\r\n    \r\n        public String getColumnsAsCSV(String table) {\r\n            StringBuilder sb = new StringBuilder(&quot;&quot;);\r\n            if (ifTableExists(table)) {\r\n                Cursor csr = mDB.rawQuery(&quot;PRAGMA table_info(&quot; +\r\n                        table +\r\n                        &quot;)&quot;,null);\r\n                boolean after_first_row = false;\r\n                int rowsdone = 0;\r\n                while (csr.moveToNext()) {\r\n                    if (after_first_row) {\r\n                        sb.append(&quot;,&quot;);\r\n                    } else {\r\n                        after_first_row = true;\r\n                    }\r\n                    sb.append(csr.getString(csr.getColumnIndex(&quot;name&quot;)));\r\n                }\r\n            }\r\n            return sb.toString();\r\n        }\r\n    \r\n        private boolean ifTableExists(String table) {\r\n            String whereclause = &quot;name=?&quot;;\r\n            String[] whereargs = new String[]{table};\r\n            Cursor csr = mDB.query(&quot;sqlite_master&quot;,null,whereclause,whereargs,null,null,null);\r\n            int rowcount = csr.getCount();\r\n            csr.close();\r\n            return rowcount &gt; 0;\r\n        }\r\n    }\r\n\r\nLast is the Activity **MainActivity.java**\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        Button mConvert;\r\n        DBHelper mDBHlpr;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            // Need to have permission to External Storage\r\n            if(Build.VERSION.SDK_INT &gt;= 23) {\r\n                ExternalStoragePermissions.verifyStoragePermissions(this);\r\n            }\r\n    \r\n            mConvert = this.findViewById(R.id.convert_table);\r\n            mConvert.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    crtCSV(DBHelper.TB_TEST1 + String.valueOf(System.currentTimeMillis()),DBHelper.TB_TEST1);\r\n                }\r\n            });\r\n            mDBHlpr = new DBHelper(this);\r\n            mDBHlpr.addTest1Row(&quot;Fred&quot;,&quot;Fred@email.com&quot;);\r\n            mDBHlpr.addTest1Row(&quot;Mary&quot;,&quot;mary@email.com&quot;);\r\n        }\r\n    \r\n        private int crtCSV(String filename, String table) {\r\n            if(!Environment.getExternalStorageState().equals(Environment.MEDIA_MOUNTED)){\r\n                return -1;\r\n            }\r\n            File dir = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS),&quot;mycsvfiles&quot;);\r\n            String directory = dir.getPath();\r\n            if (!dir.exists()) {\r\n                dir.mkdirs();\r\n            }\r\n            File f = new File(directory,filename);\r\n            try {\r\n                f.createNewFile();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                return -2;\r\n            }\r\n            f.delete();\r\n    \r\n            FileOutputStream fo;\r\n            try {\r\n                fo = new FileOutputStream(f);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                return -3;\r\n            }\r\n            Cursor csr = mDBHlpr.getCSVRows(table);\r\n            BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(fo));\r\n            try {\r\n                bw.write(mDBHlpr.getColumnsAsCSV(table));\r\n                bw.newLine();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                try {\r\n                    fo.close();\r\n                } catch (IOException e1) {\r\n                    e1.printStackTrace();\r\n                    f.delete();\r\n                    return -4;\r\n                }\r\n                f.delete();\r\n                return -5;\r\n            }\r\n            while (csr.moveToNext()) {\r\n                String line = csr.getString(0);\r\n                try {\r\n                    bw.write(line);\r\n                    bw.newLine();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                    try {\r\n                        fo.close();\r\n                    } catch (IOException e1) {\r\n                        e1.printStackTrace();\r\n                        f.delete();\r\n                        return -6;\r\n                    }\r\n                    f.delete();\r\n                    return -7;\r\n                }\r\n            }\r\n            csr.close();\r\n            try {\r\n                bw.close();\r\n                fo.flush();\r\n                fo.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                return -8;\r\n            }\r\n            return 0;\r\n        }\r\n    }\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eX1YC.jpg\r\n  [2]: https://i.stack.imgur.com/8bErt.jpg\r\n  [3]: https://i.stack.imgur.com/Jx8Qq.jpg","title":"How to convert SQLite database in android studio and then share it as csv file","body":"<p>The following is a rudimentary example. That will write a very basic CSV file based upon a query that concatenates the columns with a , between the columns.</p>\n\n<p>The table has 3 columns named :-</p>\n\n<ul>\n<li>_id</li>\n<li>_name</li>\n<li>_email</li>\n</ul>\n\n<p>The query used is effectively <code>SELECT _id||','||_name||','||_email FROM test1;</code>, although the SQLiteDatabase <strong>query</strong> method is used to build the SQL.</p>\n\n<p>The method <strong>getCSVRows</strong> of the DBHelper class returns a <strong>Cursor</strong> based upon the above (i.e. a single column, the CSV, that can be accessed via offset 0).</p>\n\n<p>Each time the App is run two rows are added, via the <strong>addTest1Row</strong> method.</p>\n\n<p>The App has a button that when clicked invokes the <strong>crtCSV</strong> method that basically :-</p>\n\n<ol>\n<li>gets the column names as a CSV (really this method should be used to drive the getCSVRows method, as there is the potential to have the column names in the wrong place) and writes the line with these first.</li>\n<li>retrieves the Cursor with the data as a CSV string and writes a line.</li>\n</ol>\n\n<p>The output file is located in the <strong>mycsvfiles</strong> directory of the <strong>Downloads</strong> directory (note only the most basic of checks are done, so this may not work on some devices). </p>\n\n<p>The file name will be unique as it is suffixed with the current timestamp.</p>\n\n<p>This screenshot shows 3 such files (a taken from Android Studio's device Explorer) :-</p>\n\n<p><a href=\"https://i.stack.imgur.com/eX1YC.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eX1YC.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>This shows it opened in Android Studio :-</p>\n\n<p><a href=\"https://i.stack.imgur.com/8bErt.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8bErt.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>And lastly in Excel :-</p>\n\n<p><a href=\"https://i.stack.imgur.com/Jx8Qq.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jx8Qq.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Here's the code:-</p>\n\n<p>First, as Permission is required the relevant section of the Manifest <strong>AndroidManifest.xml</strong></p>\n\n<pre><code>&lt;uses-permission\n    android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\"&gt;\n&lt;/uses-permission&gt;\n</code></pre>\n\n<p>If the App is to be used for any device that uses an API greater than 22 then permission has to be requested. As such there is a class for this namely <strong>ExternalStoragePermissions.java</strong> for handling this request :-</p>\n\n<pre><code>class ExternalStoragePermissions {\n\n    public int API_VERSION = Build.VERSION.SDK_INT;\n    private static final int REQUEST_EXTERNAL_STORAGE = 1;\n    private static String[] PERMISSIONS_STORAGE = {\n            Manifest.permission.WRITE_EXTERNAL_STORAGE\n    };\n\n    public ExternalStoragePermissions() {}\n    // Note call this method\n    public static void verifyStoragePermissions(Activity activity) {\n        int permission = ActivityCompat.checkSelfPermission(\n                activity,\n                Manifest.permission.WRITE_EXTERNAL_STORAGE);\n\n        if(permission != PackageManager.PERMISSION_GRANTED) {\n            ActivityCompat.requestPermissions(\n                    activity,\n                    PERMISSIONS_STORAGE,\n                    REQUEST_EXTERNAL_STORAGE\n            );\n        }\n    }\n}\n</code></pre>\n\n<ul>\n<li>invoked from Main.Activity</li>\n</ul>\n\n<p>The DatabaseHelper (i.e. Subclass of SQLiteOpenHelper, as is often used) is <strong>DBHelper.java</strong> :-</p>\n\n<pre><code>public class DBHelper extends SQLiteOpenHelper {\n\n    public static final String DBNAME = \"mydb\";\n    public static final int DBVERSION = 1;\n\n    public static final String TB_TEST1 = \"test1\";\n\n    public static final String COL_TEST1_ID = BaseColumns._ID;\n    public static final String COL_TEST1_NAME = \"_name\";\n    public static final String COL_TEST1_EMAIL = \"_email\";\n    private static final String crtTest1SQL = \"CREATE TABLE IF NOT EXISTS \" +\n            TB_TEST1 +\n            \"(\" +\n            COL_TEST1_ID + \" INTEGER PRIMARY KEY,\" +\n            COL_TEST1_NAME + \" TEXT,\" +\n            COL_TEST1_EMAIL + \" TEXT\" +\n            \")\";\n\n\n    SQLiteDatabase mDB;\n\n\n    public DBHelper(Context context) {\n        super(context, DBNAME, null, DBVERSION);\n        mDB = this.getWritableDatabase();\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        db.execSQL(crtTest1SQL);\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int i, int i1) {\n    }\n\n    public long addTest1Row(String name, String email) {\n        ContentValues cv = new ContentValues();\n        cv.put(COL_TEST1_NAME,name);\n        cv.put(COL_TEST1_EMAIL,email);\n        return mDB.insert(TB_TEST1,null,cv);\n    }\n\n    public Cursor getCSVRows(String table) {\n        Cursor rv;\n        String[] columns;\n        switch (table) {\n            case TB_TEST1:\n                columns = new String[]{COL_TEST1_ID + \"||','||\" + COL_TEST1_NAME + \"||','||\" + COL_TEST1_EMAIL};\n                break;\n                default:\n                    return null;\n        }\n        return mDB.query(table,columns,null,null,null,null,null);\n    }\n\n    public String getColumnsAsCSV(String table) {\n        StringBuilder sb = new StringBuilder(\"\");\n        if (ifTableExists(table)) {\n            Cursor csr = mDB.rawQuery(\"PRAGMA table_info(\" +\n                    table +\n                    \")\",null);\n            boolean after_first_row = false;\n            int rowsdone = 0;\n            while (csr.moveToNext()) {\n                if (after_first_row) {\n                    sb.append(\",\");\n                } else {\n                    after_first_row = true;\n                }\n                sb.append(csr.getString(csr.getColumnIndex(\"name\")));\n            }\n        }\n        return sb.toString();\n    }\n\n    private boolean ifTableExists(String table) {\n        String whereclause = \"name=?\";\n        String[] whereargs = new String[]{table};\n        Cursor csr = mDB.query(\"sqlite_master\",null,whereclause,whereargs,null,null,null);\n        int rowcount = csr.getCount();\n        csr.close();\n        return rowcount &gt; 0;\n    }\n}\n</code></pre>\n\n<p>Last is the Activity <strong>MainActivity.java</strong></p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    Button mConvert;\n    DBHelper mDBHlpr;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        // Need to have permission to External Storage\n        if(Build.VERSION.SDK_INT &gt;= 23) {\n            ExternalStoragePermissions.verifyStoragePermissions(this);\n        }\n\n        mConvert = this.findViewById(R.id.convert_table);\n        mConvert.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                crtCSV(DBHelper.TB_TEST1 + String.valueOf(System.currentTimeMillis()),DBHelper.TB_TEST1);\n            }\n        });\n        mDBHlpr = new DBHelper(this);\n        mDBHlpr.addTest1Row(\"Fred\",\"Fred@email.com\");\n        mDBHlpr.addTest1Row(\"Mary\",\"mary@email.com\");\n    }\n\n    private int crtCSV(String filename, String table) {\n        if(!Environment.getExternalStorageState().equals(Environment.MEDIA_MOUNTED)){\n            return -1;\n        }\n        File dir = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS),\"mycsvfiles\");\n        String directory = dir.getPath();\n        if (!dir.exists()) {\n            dir.mkdirs();\n        }\n        File f = new File(directory,filename);\n        try {\n            f.createNewFile();\n        } catch (IOException e) {\n            e.printStackTrace();\n            return -2;\n        }\n        f.delete();\n\n        FileOutputStream fo;\n        try {\n            fo = new FileOutputStream(f);\n        } catch (IOException e) {\n            e.printStackTrace();\n            return -3;\n        }\n        Cursor csr = mDBHlpr.getCSVRows(table);\n        BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(fo));\n        try {\n            bw.write(mDBHlpr.getColumnsAsCSV(table));\n            bw.newLine();\n        } catch (IOException e) {\n            e.printStackTrace();\n            try {\n                fo.close();\n            } catch (IOException e1) {\n                e1.printStackTrace();\n                f.delete();\n                return -4;\n            }\n            f.delete();\n            return -5;\n        }\n        while (csr.moveToNext()) {\n            String line = csr.getString(0);\n            try {\n                bw.write(line);\n                bw.newLine();\n            } catch (IOException e) {\n                e.printStackTrace();\n                try {\n                    fo.close();\n                } catch (IOException e1) {\n                    e1.printStackTrace();\n                    f.delete();\n                    return -6;\n                }\n                f.delete();\n                return -7;\n            }\n        }\n        csr.close();\n        try {\n            bw.close();\n            fo.flush();\n            fo.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n            return -8;\n        }\n        return 0;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16967123,"reputation":3285,"user_id":12272687,"display_name":"Mori"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651670566,"creation_date":1651670566,"answer_id":72113698,"question_id":52358065,"body_markdown":"The easiest way, use `CSVWriter` like this:\r\n\r\n \r\n\r\n    implementation &#39;com.opencsv:opencsv:3.7&#39;\r\n\r\nAnd in MainActivity\r\n\r\n     try {\r\n                CSVWriter csvWrite = new CSVWriter(new FileWriter(file));\r\n                SQLiteDatabase db = myDb.getWritableDatabase();\r\n                Cursor curCSV = db.rawQuery(&quot;select * from &quot; + &quot;your_database_table&quot;, null);\r\n    \r\n                csvWrite.writeNext(curCSV.getColumnNames());\r\n    \r\n                while (curCSV.moveToNext()) {\r\n    \r\n                    String[] arrayStr = {curCSV.getString(0), curCSV.getString(1),\r\n                            curCSV.getString(2), curCSV.getString(3),\r\n                            curCSV.getString(4), curCSV.getString(5)};\r\n                    csvWrite.writeNext(arrStr);\r\n                }\r\n                csvWrite.close();\r\n                curCSV.close();\r\n               \r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n               \r\n            }\r\nwhere `curCSV.getString()` detect the column title, so start from 0 to number of your table column. ","title":"How to convert SQLite database in android studio and then share it as csv file","body":"<p>The easiest way, use <code>CSVWriter</code> like this:</p>\n<pre><code>implementation 'com.opencsv:opencsv:3.7'\n</code></pre>\n<p>And in MainActivity</p>\n<pre><code> try {\n            CSVWriter csvWrite = new CSVWriter(new FileWriter(file));\n            SQLiteDatabase db = myDb.getWritableDatabase();\n            Cursor curCSV = db.rawQuery(&quot;select * from &quot; + &quot;your_database_table&quot;, null);\n\n            csvWrite.writeNext(curCSV.getColumnNames());\n\n            while (curCSV.moveToNext()) {\n\n                String[] arrayStr = {curCSV.getString(0), curCSV.getString(1),\n                        curCSV.getString(2), curCSV.getString(3),\n                        curCSV.getString(4), curCSV.getString(5)};\n                csvWrite.writeNext(arrStr);\n            }\n            csvWrite.close();\n            curCSV.close();\n           \n        } catch (IOException e) {\n            e.printStackTrace();\n           \n        }\n</code></pre>\n<p>where <code>curCSV.getString()</code> detect the column title, so start from 0 to number of your table column.</p>\n"}],"owner":{"account_id":14355197,"reputation":3,"user_id":10369325,"display_name":"roni gantz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":766,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":52361374,"answer_count":2,"score":0,"last_activity_date":1651670566,"creation_date":1537129211,"question_id":52358065,"body_markdown":"Im making an app in which the users inserts values into a table (SQLite DB) and I want to make a share button which will share the the table as an excel file (.csv).\r\n","title":"How to convert SQLite database in android studio and then share it as csv file","body":"<p>Im making an app in which the users inserts values into a table (SQLite DB) and I want to make a share button which will share the the table as an excel file (.csv).</p>\n"},{"tags":["java","selenium","testing","testrail"],"comments":[{"owner":{"account_id":9296472,"reputation":3349,"user_id":6903223,"accept_rate":67,"display_name":"Kushal Bhalaik"},"score":0,"creation_date":1494408874,"post_id":43888583,"comment_id":74811290,"body_markdown":"have you manually tried hitting the api? do you get results then?","body":"have you manually tried hitting the api? do you get results then?"},{"owner":{"account_id":3799607,"reputation":387,"user_id":3153599,"accept_rate":20,"display_name":"sougata das"},"score":0,"creation_date":1494409028,"post_id":43888583,"comment_id":74811387,"body_markdown":"No @kushal. I hven&#39;t tried that yet.","body":"No @kushal. I hven&#39;t tried that yet."},{"owner":{"account_id":9296472,"reputation":3349,"user_id":6903223,"accept_rate":67,"display_name":"Kushal Bhalaik"},"score":0,"creation_date":1494410000,"post_id":43888583,"comment_id":74812056,"body_markdown":"Try and share...","body":"Try and share..."},{"owner":{"account_id":3799607,"reputation":387,"user_id":3153599,"accept_rate":20,"display_name":"sougata das"},"score":0,"creation_date":1494411078,"post_id":43888583,"comment_id":74812814,"body_markdown":"I am giving the request in this format                                                     \n GET index.php?/api/v2/get_case/:case_id\nhttps://test.testrail.net/index.php?/runs/view/154/get_case/T54552                                   its saying &quot;Not authorized&quot;.                                                                                       May be I am doing something wrong.","body":"I am giving the request in this format                                                       GET index.php?/api/v2/get_case/:case_id <a href=\"https://test.testrail.net/index.php?/runs/view/154/get_case/T54552\" rel=\"nofollow noreferrer\">test.testrail.net/index.php?/runs/view/154/get_case/T54552</a>                                   its saying &quot;Not authorized&quot;.                                                                                       May be I am doing something wrong."},{"owner":{"account_id":9296472,"reputation":3349,"user_id":6903223,"accept_rate":67,"display_name":"Kushal Bhalaik"},"score":0,"creation_date":1494412087,"post_id":43888583,"comment_id":74813485,"body_markdown":"yup the problem is in your api call","body":"yup the problem is in your api call"}],"answers":[{"tags":[],"owner":{"account_id":15012948,"reputation":926,"user_id":10837620,"display_name":"Atul KS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603665219,"creation_date":1603665219,"answer_id":64529505,"question_id":43888583,"body_markdown":"As per TestRail API V2- one needs to use TYPE= Basic Authentication and UserName= &lt;your testrail username&gt; and Password=&lt;your testrail password or API key, if enabled&gt;\r\n\r\nIt&#39;s strongly advised to enable API key and use it when accessing with code for security reasons. Whole collections of API calls, working fine for me.","title":"Unable to fetch data from test rail using java","body":"<p>As per TestRail API V2- one needs to use TYPE= Basic Authentication and UserName=  and Password=&lt;your testrail password or API key, if enabled&gt;</p>\n<p>It's strongly advised to enable API key and use it when accessing with code for security reasons. Whole collections of API calls, working fine for me.</p>\n"},{"tags":[],"owner":{"account_id":24850226,"reputation":1,"user_id":18727261,"display_name":"Diogo Rede"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651670507,"creation_date":1651670507,"answer_id":72113679,"question_id":43888583,"body_markdown":"There are a couple of potential issues with your code, but they should be pretty easy fixes. First, you should initialize the client with just the base URL for the API, without writing any specific endpoint. After that, update the case ID to be totally numeric, without the `T` or `C` prefix.\r\n\r\nHeres what that might look like based on the code you shared:\r\n\r\n    APIClient client = new APIClient(&quot;https://test.testrail.net/index.php?/api/v2&quot;);\r\n    JSONObject c = (JSONObject) client.sendGet(&quot;get_case/54757&quot;);\r\n\r\nTo test the request manually (i.e. using Postman), you could use something like the example below and pass your TestRail username/password as Basic Authentication: \r\n\r\n    GET https://test.testrail.net/index.php?/api/v2/get_case/123 \r\n\r\nSee the get_case documentation reference for more details:\r\nhttps://www.gurock.com/testrail/docs/api/reference/cases/#getcase\r\n","title":"Unable to fetch data from test rail using java","body":"<p>There are a couple of potential issues with your code, but they should be pretty easy fixes. First, you should initialize the client with just the base URL for the API, without writing any specific endpoint. After that, update the case ID to be totally numeric, without the <code>T</code> or <code>C</code> prefix.</p>\n<p>Heres what that might look like based on the code you shared:</p>\n<pre><code>APIClient client = new APIClient(&quot;https://test.testrail.net/index.php?/api/v2&quot;);\nJSONObject c = (JSONObject) client.sendGet(&quot;get_case/54757&quot;);\n</code></pre>\n<p>To test the request manually (i.e. using Postman), you could use something like the example below and pass your TestRail username/password as Basic Authentication:</p>\n<pre><code>GET https://test.testrail.net/index.php?/api/v2/get_case/123 \n</code></pre>\n<p>See the get_case documentation reference for more details:\n<a href=\"https://www.gurock.com/testrail/docs/api/reference/cases/#getcase\" rel=\"nofollow noreferrer\">https://www.gurock.com/testrail/docs/api/reference/cases/#getcase</a></p>\n"}],"owner":{"account_id":3799607,"reputation":387,"user_id":3153599,"accept_rate":20,"display_name":"sougata das"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":378,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1651670507,"creation_date":1494408685,"question_id":43888583,"body_markdown":"I am using the API provided by Test rail to pull info using java.\r\nBelow is my program.\r\n\r\nAPIClient client = new APIClient(&quot;https://test.testrail.net/index.php?/runs/view/154&quot;);\r\nclient.setUser(&quot;..&quot;);\r\n \r\nclient.setPassword(&quot;..&quot;);\r\n       \r\n  \r\n    JSONObject c = (JSONObject) client.sendGet(&quot;get_case/T54757&quot;);\r\n    System.out.println(c);\r\n\r\nI downloaded the API and called the method as mentioned above.But every time the json response is returning null.\r\nCould any body please help?","title":"Unable to fetch data from test rail using java","body":"<p>I am using the API provided by Test rail to pull info using java.\nBelow is my program.</p>\n\n<p>APIClient client = new APIClient(\"<a href=\"https://test.testrail.net/index.php?/runs/view/154\" rel=\"nofollow noreferrer\">https://test.testrail.net/index.php?/runs/view/154</a>\");\nclient.setUser(\"..\");</p>\n\n<p>client.setPassword(\"..\");</p>\n\n<pre><code>JSONObject c = (JSONObject) client.sendGet(\"get_case/T54757\");\nSystem.out.println(c);\n</code></pre>\n\n<p>I downloaded the API and called the method as mentioned above.But every time the json response is returning null.\nCould any body please help?</p>\n"},{"tags":["java","postgresql"],"answers":[{"tags":[],"owner":{"account_id":93007,"reputation":51990,"user_id":254643,"display_name":"Raghuram"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1293608892,"creation_date":1293608892,"answer_id":4552367,"question_id":4552336,"body_markdown":"What is the error?  `ClassNotFoundException` for `Test` or the `postgres` library?  If former, it is because you need to add Test in your classpath as well.\r\n\r\nAssuming you are in the same directory where Test.class and the postgres jar is present,\r\n\r\n    java -classpath .:postgresql-9.0-801.jdbc4.jar Test\r\n\r\n","title":"Running a java program in linux terminal with -class path","body":"<p>What is the error?  <code>ClassNotFoundException</code> for <code>Test</code> or the <code>postgres</code> library?  If former, it is because you need to add Test in your classpath as well.</p>\n\n<p>Assuming you are in the same directory where Test.class and the postgres jar is present,</p>\n\n<pre><code>java -classpath .:postgresql-9.0-801.jdbc4.jar Test\n</code></pre>\n"},{"tags":[],"owner":{"account_id":268218,"reputation":1319,"user_id":556855,"display_name":"Stewart Murrie"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1293609187,"creation_date":1293609187,"answer_id":4552392,"question_id":4552336,"body_markdown":"When you specify the classpath you need to make sure it includes ALL of the class files your application needs, including the ones you create yourself.  Assuming that Test.class is in the current directory along with the postgres Jar file, you need something like:\r\n\r\n    java -classpath postgresql-9.0-801.jdbc4.jar:. Test\r\n\r\nSee the [Java Glossary][1] for more details.\r\n\r\nbm~\r\n \r\n\r\n\r\n  [1]: http://mindprod.com/jgloss/classpath.html","title":"Running a java program in linux terminal with -class path","body":"<p>When you specify the classpath you need to make sure it includes ALL of the class files your application needs, including the ones you create yourself.  Assuming that Test.class is in the current directory along with the postgres Jar file, you need something like:</p>\n\n<pre><code>java -classpath postgresql-9.0-801.jdbc4.jar:. Test\n</code></pre>\n\n<p>See the <a href=\"http://mindprod.com/jgloss/classpath.html\" rel=\"noreferrer\">Java Glossary</a> for more details.</p>\n\n<p>bm~</p>\n"},{"tags":[],"owner":{"account_id":121574,"reputation":11440,"user_id":314763,"accept_rate":77,"display_name":"frictionlesspulley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1293609330,"creation_date":1293609330,"answer_id":4552400,"question_id":4552336,"body_markdown":"    command :java -cp .;postgresql-9.0-801.jdbc4.jar Test\r\n\r\nboth the jar and the class are in the same directory from which the command is run&lt;br/&gt;\r\n**Also make your class definition as public !!**\r\n","title":"Running a java program in linux terminal with -class path","body":"<pre><code>command :java -cp .;postgresql-9.0-801.jdbc4.jar Test\n</code></pre>\n\n<p>both the jar and the class are in the same directory from which the command is run<br/>\n<strong>Also make your class definition as public !!</strong></p>\n"}],"owner":{"account_id":229213,"reputation":8557,"user_id":492015,"accept_rate":68,"display_name":"Arya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9803,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":4552392,"answer_count":3,"score":3,"last_activity_date":1651670485,"creation_date":1293608527,"question_id":4552336,"body_markdown":"I&#39;ve been trying for an hour to run the following program with a the postgresql classpath\r\n\r\n    class Test{\r\n      public static void main(String[] args){\r\n            try {\r\n                Class.forName(&quot;org.postgresql.Driver&quot;);\r\n            } catch (ClassNotFoundException cnfe) {\r\n                System.err.println(&quot;Couldn&#39;t find Postgresql driver class!&quot;);\r\n            }\r\n      }\r\n    }\r\n\r\nThe program compiled fine with the javac command, but I&#39;m having a hard time running it with the postgresql classpath. I have &quot;postgresql-9.0-801.jdbc4.jar&quot; in the same directory as the file and I tried the following, but non of them worked\r\n\r\n    java -classpath ./postgresql-9.0-801.jdbc4.jar Test\r\n    java -classpath postgresql-9.0-801.jdbc4.jar Test\r\n    java -classpath &quot;postgresql-9.0-801.jdbc4.jar&quot; Test\r\n\r\nWhat am I doing wrong?","title":"Running a java program in linux terminal with -class path","body":"<p>I've been trying for an hour to run the following program with a the postgresql classpath</p>\n<pre><code>class Test{\n  public static void main(String[] args){\n        try {\n            Class.forName(&quot;org.postgresql.Driver&quot;);\n        } catch (ClassNotFoundException cnfe) {\n            System.err.println(&quot;Couldn't find Postgresql driver class!&quot;);\n        }\n  }\n}\n</code></pre>\n<p>The program compiled fine with the javac command, but I'm having a hard time running it with the postgresql classpath. I have &quot;postgresql-9.0-801.jdbc4.jar&quot; in the same directory as the file and I tried the following, but non of them worked</p>\n<pre><code>java -classpath ./postgresql-9.0-801.jdbc4.jar Test\njava -classpath postgresql-9.0-801.jdbc4.jar Test\njava -classpath &quot;postgresql-9.0-801.jdbc4.jar&quot; Test\n</code></pre>\n<p>What am I doing wrong?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":10192070,"reputation":2256,"user_id":7525132,"display_name":"Izruo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651656148,"creation_date":1651656148,"answer_id":72110628,"question_id":72110202,"body_markdown":"You can certainly improve the performance by not doing the recursive calls in the `Comparator` implementation. When the list sorts itself, it will most likely consult this `Comparator` multiple times for the same item, so all of the nested lists will be sorted multiple times.\r\n\r\nInstead, propagate the recursion manually.\r\n\r\n    private void sortRecursivelyByName(List&lt;Item&gt; items) {\r\n        if (items == null || items.isEmpty()) {\r\n            return;\r\n        }\r\n        for (Item item : items) {\r\n            sortRecursivelyByName(item.items);\r\n        }\r\n        items.sort(Comparator.comparing(Item::getName));\r\n    }\r\n\r\nThe performance impact of a recursive approach, if any, is dependent on the *recursion depth* and should be neglectable unless you are somewhere in the thousands. Conveniently, your recursion depth is equal to your input depth, so you might be able to tell, how likely that is going to happen.\r\n\r\nAnd even then, if the lists are sufficiently large, the sorting will take most of the time, and that would not change in an iterative approach.","title":"Sorting a recursive list of objects by string property in Java","body":"<p>You can certainly improve the performance by not doing the recursive calls in the <code>Comparator</code> implementation. When the list sorts itself, it will most likely consult this <code>Comparator</code> multiple times for the same item, so all of the nested lists will be sorted multiple times.</p>\n<p>Instead, propagate the recursion manually.</p>\n<pre><code>private void sortRecursivelyByName(List&lt;Item&gt; items) {\n    if (items == null || items.isEmpty()) {\n        return;\n    }\n    for (Item item : items) {\n        sortRecursivelyByName(item.items);\n    }\n    items.sort(Comparator.comparing(Item::getName));\n}\n</code></pre>\n<p>The performance impact of a recursive approach, if any, is dependent on the <em>recursion depth</em> and should be neglectable unless you are somewhere in the thousands. Conveniently, your recursion depth is equal to your input depth, so you might be able to tell, how likely that is going to happen.</p>\n<p>And even then, if the lists are sufficiently large, the sorting will take most of the time, and that would not change in an iterative approach.</p>\n"}],"owner":{"account_id":11722622,"reputation":569,"user_id":8581106,"display_name":"LukyFoggy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72110628,"answer_count":1,"score":1,"last_activity_date":1651670149,"creation_date":1651654085,"question_id":72110202,"body_markdown":"I&#39;ve a recursive list of objects with unknown depth and I&#39;m trying to sort all objects within the lists by a `string` property `name`.\r\n\r\n`exampleData.json`\r\n```json\r\n[\r\n    {\r\n        &quot;name&quot;: &quot;B&quot;,\r\n        &quot;items&quot;: [\r\n            {\r\n                &quot;name&quot;: &quot;Bb&quot;,\r\n                &quot;items&quot;: []\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;Bc&quot;,\r\n                &quot;items&quot;: []\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;Ba&quot;,\r\n                &quot;items&quot;: []\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        &quot;name&quot;: &quot;A&quot;,\r\n        &quot;items&quot;: [\r\n            {\r\n                &quot;name&quot;: &quot;Ab&quot;,\r\n                &quot;items&quot;: []\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;Aa&quot;,\r\n                &quot;items&quot;: []\r\n            }\r\n        ]\r\n    }\r\n]\r\n```\r\n\r\n`sortedData.json`\r\n```json\r\n[\r\n    {\r\n        &quot;name&quot;: &quot;A&quot;,\r\n        &quot;items&quot;: [\r\n            {\r\n                &quot;name&quot;: &quot;Aa&quot;,\r\n                &quot;items&quot;: []\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;Ab&quot;,\r\n                &quot;items&quot;: []\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;Ac&quot;,\r\n                &quot;items&quot;: []\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        &quot;name&quot;: &quot;B&quot;,\r\n        &quot;items&quot;: [\r\n            {\r\n                &quot;name&quot;: &quot;Ba&quot;,\r\n                &quot;items&quot;: []\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;Bb&quot;,\r\n                &quot;items&quot;: []\r\n            }\r\n        ]\r\n    }\r\n]\r\n```\r\n\r\nBelow is my current approach in Java. While it seems to work for small amounts of data, I&#39;m uncertain of how professional it is since I&#39;ve no experience with recursion and its performance.\r\n\r\n```java\r\n    private void sortRecursivelyByName(List&lt;Item&gt; items) {\r\n        if(items== null || items.isEmpty()) {\r\n            return;\r\n        }\r\n        items.sort((a,b) -&gt; {\r\n            this.sortRecursivelyByName(a.items);\r\n            this.sortRecursivelyByName(b.items);\r\n            return a.getName().compareTo(b.getName());\r\n        });\r\n    }\r\n```","title":"Sorting a recursive list of objects by string property in Java","body":"<p>I've a recursive list of objects with unknown depth and I'm trying to sort all objects within the lists by a <code>string</code> property <code>name</code>.</p>\n<p><code>exampleData.json</code></p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n    {\n        &quot;name&quot;: &quot;B&quot;,\n        &quot;items&quot;: [\n            {\n                &quot;name&quot;: &quot;Bb&quot;,\n                &quot;items&quot;: []\n            },\n            {\n                &quot;name&quot;: &quot;Bc&quot;,\n                &quot;items&quot;: []\n            },\n            {\n                &quot;name&quot;: &quot;Ba&quot;,\n                &quot;items&quot;: []\n            }\n        ]\n    },\n    {\n        &quot;name&quot;: &quot;A&quot;,\n        &quot;items&quot;: [\n            {\n                &quot;name&quot;: &quot;Ab&quot;,\n                &quot;items&quot;: []\n            },\n            {\n                &quot;name&quot;: &quot;Aa&quot;,\n                &quot;items&quot;: []\n            }\n        ]\n    }\n]\n</code></pre>\n<p><code>sortedData.json</code></p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n    {\n        &quot;name&quot;: &quot;A&quot;,\n        &quot;items&quot;: [\n            {\n                &quot;name&quot;: &quot;Aa&quot;,\n                &quot;items&quot;: []\n            },\n            {\n                &quot;name&quot;: &quot;Ab&quot;,\n                &quot;items&quot;: []\n            },\n            {\n                &quot;name&quot;: &quot;Ac&quot;,\n                &quot;items&quot;: []\n            }\n        ]\n    },\n    {\n        &quot;name&quot;: &quot;B&quot;,\n        &quot;items&quot;: [\n            {\n                &quot;name&quot;: &quot;Ba&quot;,\n                &quot;items&quot;: []\n            },\n            {\n                &quot;name&quot;: &quot;Bb&quot;,\n                &quot;items&quot;: []\n            }\n        ]\n    }\n]\n</code></pre>\n<p>Below is my current approach in Java. While it seems to work for small amounts of data, I'm uncertain of how professional it is since I've no experience with recursion and its performance.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private void sortRecursivelyByName(List&lt;Item&gt; items) {\n        if(items== null || items.isEmpty()) {\n            return;\n        }\n        items.sort((a,b) -&gt; {\n            this.sortRecursivelyByName(a.items);\n            this.sortRecursivelyByName(b.items);\n            return a.getName().compareTo(b.getName());\n        });\n    }\n</code></pre>\n"},{"tags":["java","angular","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":13836859,"reputation":41,"user_id":9988177,"display_name":"MakifYcl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651669866,"creation_date":1651669866,"answer_id":72113543,"question_id":72113138,"body_markdown":"You can generate QR code and put it footer of the document. When user scan the QR code user will be redirected your web site with query parameters. Now you can get URL in Angular and show the document.","title":"How to implement token validation linked to a PDF document?","body":"<p>You can generate QR code and put it footer of the document. When user scan the QR code user will be redirected your web site with query parameters. Now you can get URL in Angular and show the document.</p>\n"}],"owner":{"account_id":14222613,"reputation":5,"user_id":12015922,"display_name":"Larissa Menezes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72113543,"answer_count":1,"score":0,"last_activity_date":1651669866,"creation_date":1651667872,"question_id":72113138,"body_markdown":"So, I am developing a website for my university that manage courses and online activities (like panels, lectures, etc) and I created a module that sends a PDF document with a participation certificate to the people that attended to these activities, and now I want to link a &quot;token validation&quot; to this document and attach this unique token string at the end of this document so the user may be able to validate this certificate at my website. Any ideas of how i can accomplish that?\r\n\r\nI am using Java/Spring + Angular","title":"How to implement token validation linked to a PDF document?","body":"<p>So, I am developing a website for my university that manage courses and online activities (like panels, lectures, etc) and I created a module that sends a PDF document with a participation certificate to the people that attended to these activities, and now I want to link a &quot;token validation&quot; to this document and attach this unique token string at the end of this document so the user may be able to validate this certificate at my website. Any ideas of how i can accomplish that?</p>\n<p>I am using Java/Spring + Angular</p>\n"},{"tags":["java","android-studio","pdf","android-intent"],"answers":[{"tags":[],"owner":{"account_id":9596055,"reputation":829,"user_id":7125140,"display_name":"Ayyub Kolsawala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573891819,"creation_date":1573891819,"answer_id":58888789,"question_id":58888682,"body_markdown":"&gt; Hope this helps you, it will only allow users to view the PDF not download it. You can add this inside your webview and pass the PDF inside it. Drop in comments if you need more assistance\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-css --&gt;\r\n\r\n    body {\r\n        margin: 0;\r\n        font-family: sans-serif;\r\n        font-size: 0.9rem;\r\n      }\r\n      #app {\r\n        display: flex;\r\n        flex-direction: column;\r\n        height: 100vh;\r\n      }\r\n      #toolbar {\r\n        display: flex;\r\n        align-items: center;\r\n        background-color: #555;\r\n        color: #fff;\r\n        padding: 0.5em;\r\n      }\r\n      #toolbar button,\r\n      #page-mode input {\r\n        color: currentColor;\r\n        background-color: transparent;\r\n        font: inherit;\r\n        border: 1px solid currentColor;\r\n        border-radius: 3px;\r\n        padding: 0.25em 0.5em;\r\n      }\r\n      #toolbar button:hover,\r\n      #toolbar button:focus,\r\n      #page-mode input:hover,\r\n      #page-mode input:focus {\r\n        color: lightGreen;\r\n      }\r\n      #page-mode {\r\n        display: flex;\r\n        align-items: center;\r\n        padding: 0.25em 0.5em;\r\n      }\r\n      \r\n      #viewport-container {\r\n        flex: 1;\r\n        background: #eee;\r\n        overflow: auto;\r\n      }\r\n      #viewport {\r\n        width: 90%;\r\n        margin: 0 auto;\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n        align-items: center;\r\n      }\r\n      #viewport &gt; div {\r\n        text-align: center;\r\n        max-width: 100%;\r\n      }\r\n      #viewport canvas {\r\n        width: 100%;\r\n        box-shadow: 0 2px 5px gray;\r\n      }\r\n      \r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n      &lt;head&gt;\r\n        &lt;title&gt;PDF Viewer PDF.js&lt;/title&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot; /&gt;\r\n        &lt;link rel=&quot;stylesheet&quot; href=&quot;./styles.css&quot; /&gt;\r\n      &lt;/head&gt;\r\n\r\n      &lt;body&gt;\r\n        &lt;div id=&quot;app&quot;&gt;\r\n          &lt;div role=&quot;toolbar&quot; id=&quot;toolbar&quot;&gt;\r\n            &lt;div id=&quot;pager&quot;&gt;\r\n              &lt;button data-pager=&quot;prev&quot;&gt;prev&lt;/button&gt;\r\n              &lt;button data-pager=&quot;next&quot;&gt;next&lt;/button&gt;\r\n            &lt;/div&gt;\r\n            &lt;div id=&quot;page-mode&quot;&gt;\r\n              &lt;label&gt;Page Mode &lt;input type=&quot;number&quot; value=&quot;1&quot; min=&quot;1&quot;/&gt;&lt;/label&gt;\r\n            &lt;/div&gt;\r\n          &lt;/div&gt;\r\n          &lt;div id=&quot;viewport-container&quot;&gt;&lt;div role=&quot;main&quot; id=&quot;viewport&quot;&gt;&lt;/div&gt;&lt;/div&gt;\r\n        &lt;/div&gt;\r\n        &lt;script src=&quot;https://unpkg.com/pdfjs-dist@2.0.489/build/pdf.min.js&quot;&gt;&lt;/script&gt;\r\n        &lt;script&gt;\r\n    \t\t(function() {\r\n      let currentPageIndex = 0;\r\n      let pageMode = 1;\r\n      let cursorIndex = Math.floor(currentPageIndex / pageMode);\r\n      let pdfInstance = null;\r\n      let totalPagesCount = 0;\r\n\r\n      const viewport = document.querySelector(&quot;#viewport&quot;);\r\n      window.initPDFViewer = function(pdfURL) {\r\n        pdfjsLib.getDocument(pdfURL).then(pdf =&gt; {\r\n          pdfInstance = pdf;\r\n          totalPagesCount = pdf.numPages;\r\n          initPager();\r\n          initPageMode();\r\n          render();\r\n        });\r\n      };\r\n\r\n      function onPagerButtonsClick(event) {\r\n        const action = event.target.getAttribute(&quot;data-pager&quot;);\r\n        if (action === &quot;prev&quot;) {\r\n          if (currentPageIndex === 0) {\r\n            return;\r\n          }\r\n          currentPageIndex -= pageMode;\r\n          if (currentPageIndex &lt; 0) {\r\n            currentPageIndex = 0;\r\n          }\r\n          render();\r\n        }\r\n        if (action === &quot;next&quot;) {\r\n          if (currentPageIndex === totalPagesCount - 1) {\r\n            return;\r\n          }\r\n          currentPageIndex += pageMode;\r\n          if (currentPageIndex &gt; totalPagesCount - 1) {\r\n            currentPageIndex = totalPagesCount - 1;\r\n          }\r\n          render();\r\n        }\r\n      }\r\n      function initPager() {\r\n        const pager = document.querySelector(&quot;#pager&quot;);\r\n        pager.addEventListener(&quot;click&quot;, onPagerButtonsClick);\r\n        return () =&gt; {\r\n          pager.removeEventListener(&quot;click&quot;, onPagerButtonsClick);\r\n        };\r\n      }\r\n\r\n      function onPageModeChange(event) {\r\n        pageMode = Number(event.target.value);\r\n        render();\r\n      }\r\n      function initPageMode() {\r\n        const input = document.querySelector(&quot;#page-mode input&quot;);\r\n        input.setAttribute(&quot;max&quot;, totalPagesCount);\r\n        input.addEventListener(&quot;change&quot;, onPageModeChange);\r\n        return () =&gt; {\r\n          input.removeEventListener(&quot;change&quot;, onPageModeChange);\r\n        };\r\n      }\r\n\r\n      function render() {\r\n        cursorIndex = Math.floor(currentPageIndex / pageMode);\r\n        const startPageIndex = cursorIndex * pageMode;\r\n        const endPageIndex =\r\n          startPageIndex + pageMode &lt; totalPagesCount\r\n            ? startPageIndex + pageMode - 1\r\n            : totalPagesCount - 1;\r\n\r\n        const renderPagesPromises = [];\r\n        for (let i = startPageIndex; i &lt;= endPageIndex; i++) {\r\n          renderPagesPromises.push(pdfInstance.getPage(i + 1));\r\n        }\r\n\r\n        Promise.all(renderPagesPromises).then(pages =&gt; {\r\n          const pagesHTML = `&lt;div style=&quot;width: ${\r\n            pageMode &gt; 1 ? &quot;50%&quot; : &quot;100%&quot;\r\n          }&quot;&gt;&lt;canvas&gt;&lt;/canvas&gt;&lt;/div&gt;`.repeat(pages.length);\r\n          viewport.innerHTML = pagesHTML;\r\n          pages.forEach(renderPage);\r\n        });\r\n      }\r\n\r\n      function renderPage(page) {\r\n        let pdfViewport = page.getViewport(1);\r\n\r\n        const container =\r\n          viewport.children[page.pageIndex - cursorIndex * pageMode];\r\n        pdfViewport = page.getViewport(container.offsetWidth / pdfViewport.width);\r\n        const canvas = container.children[0];\r\n        const context = canvas.getContext(&quot;2d&quot;);\r\n        canvas.height = pdfViewport.height;\r\n        canvas.width = pdfViewport.width;\r\n\r\n        page.render({\r\n          canvasContext: context,\r\n          viewport: pdfViewport\r\n        });\r\n      }\r\n    })();\r\n\r\n          initPDFViewer(&quot;https://blog.mozilla.org/security/files/2015/05/HTTPS-FAQ.pdf&quot;);\r\n        &lt;/script&gt;\r\n      &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"show pdf file inside android app from server url without give the permission download that file","body":"<blockquote>\n  <p>Hope this helps you, it will only allow users to view the PDF not download it. You can add this inside your webview and pass the PDF inside it. Drop in comments if you need more assistance</p>\n</blockquote>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body {\r\n    margin: 0;\r\n    font-family: sans-serif;\r\n    font-size: 0.9rem;\r\n  }\r\n  #app {\r\n    display: flex;\r\n    flex-direction: column;\r\n    height: 100vh;\r\n  }\r\n  #toolbar {\r\n    display: flex;\r\n    align-items: center;\r\n    background-color: #555;\r\n    color: #fff;\r\n    padding: 0.5em;\r\n  }\r\n  #toolbar button,\r\n  #page-mode input {\r\n    color: currentColor;\r\n    background-color: transparent;\r\n    font: inherit;\r\n    border: 1px solid currentColor;\r\n    border-radius: 3px;\r\n    padding: 0.25em 0.5em;\r\n  }\r\n  #toolbar button:hover,\r\n  #toolbar button:focus,\r\n  #page-mode input:hover,\r\n  #page-mode input:focus {\r\n    color: lightGreen;\r\n  }\r\n  #page-mode {\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 0.25em 0.5em;\r\n  }\r\n  \r\n  #viewport-container {\r\n    flex: 1;\r\n    background: #eee;\r\n    overflow: auto;\r\n  }\r\n  #viewport {\r\n    width: 90%;\r\n    margin: 0 auto;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    align-items: center;\r\n  }\r\n  #viewport &gt; div {\r\n    text-align: center;\r\n    max-width: 100%;\r\n  }\r\n  #viewport canvas {\r\n    width: 100%;\r\n    box-shadow: 0 2px 5px gray;\r\n  }\r\n  </code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n  &lt;head&gt;\r\n    &lt;title&gt;PDF Viewer PDF.js&lt;/title&gt;\r\n    &lt;meta charset=\"UTF-8\" /&gt;\r\n    &lt;link rel=\"stylesheet\" href=\"./styles.css\" /&gt;\r\n  &lt;/head&gt;\r\n\r\n  &lt;body&gt;\r\n    &lt;div id=\"app\"&gt;\r\n      &lt;div role=\"toolbar\" id=\"toolbar\"&gt;\r\n        &lt;div id=\"pager\"&gt;\r\n          &lt;button data-pager=\"prev\"&gt;prev&lt;/button&gt;\r\n          &lt;button data-pager=\"next\"&gt;next&lt;/button&gt;\r\n        &lt;/div&gt;\r\n        &lt;div id=\"page-mode\"&gt;\r\n          &lt;label&gt;Page Mode &lt;input type=\"number\" value=\"1\" min=\"1\"/&gt;&lt;/label&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n      &lt;div id=\"viewport-container\"&gt;&lt;div role=\"main\" id=\"viewport\"&gt;&lt;/div&gt;&lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;script src=\"https://unpkg.com/pdfjs-dist@2.0.489/build/pdf.min.js\"&gt;&lt;/script&gt;\r\n    &lt;script&gt;\r\n\t\t(function() {\r\n  let currentPageIndex = 0;\r\n  let pageMode = 1;\r\n  let cursorIndex = Math.floor(currentPageIndex / pageMode);\r\n  let pdfInstance = null;\r\n  let totalPagesCount = 0;\r\n\r\n  const viewport = document.querySelector(\"#viewport\");\r\n  window.initPDFViewer = function(pdfURL) {\r\n    pdfjsLib.getDocument(pdfURL).then(pdf =&gt; {\r\n      pdfInstance = pdf;\r\n      totalPagesCount = pdf.numPages;\r\n      initPager();\r\n      initPageMode();\r\n      render();\r\n    });\r\n  };\r\n\r\n  function onPagerButtonsClick(event) {\r\n    const action = event.target.getAttribute(\"data-pager\");\r\n    if (action === \"prev\") {\r\n      if (currentPageIndex === 0) {\r\n        return;\r\n      }\r\n      currentPageIndex -= pageMode;\r\n      if (currentPageIndex &lt; 0) {\r\n        currentPageIndex = 0;\r\n      }\r\n      render();\r\n    }\r\n    if (action === \"next\") {\r\n      if (currentPageIndex === totalPagesCount - 1) {\r\n        return;\r\n      }\r\n      currentPageIndex += pageMode;\r\n      if (currentPageIndex &gt; totalPagesCount - 1) {\r\n        currentPageIndex = totalPagesCount - 1;\r\n      }\r\n      render();\r\n    }\r\n  }\r\n  function initPager() {\r\n    const pager = document.querySelector(\"#pager\");\r\n    pager.addEventListener(\"click\", onPagerButtonsClick);\r\n    return () =&gt; {\r\n      pager.removeEventListener(\"click\", onPagerButtonsClick);\r\n    };\r\n  }\r\n\r\n  function onPageModeChange(event) {\r\n    pageMode = Number(event.target.value);\r\n    render();\r\n  }\r\n  function initPageMode() {\r\n    const input = document.querySelector(\"#page-mode input\");\r\n    input.setAttribute(\"max\", totalPagesCount);\r\n    input.addEventListener(\"change\", onPageModeChange);\r\n    return () =&gt; {\r\n      input.removeEventListener(\"change\", onPageModeChange);\r\n    };\r\n  }\r\n\r\n  function render() {\r\n    cursorIndex = Math.floor(currentPageIndex / pageMode);\r\n    const startPageIndex = cursorIndex * pageMode;\r\n    const endPageIndex =\r\n      startPageIndex + pageMode &lt; totalPagesCount\r\n        ? startPageIndex + pageMode - 1\r\n        : totalPagesCount - 1;\r\n\r\n    const renderPagesPromises = [];\r\n    for (let i = startPageIndex; i &lt;= endPageIndex; i++) {\r\n      renderPagesPromises.push(pdfInstance.getPage(i + 1));\r\n    }\r\n\r\n    Promise.all(renderPagesPromises).then(pages =&gt; {\r\n      const pagesHTML = `&lt;div style=\"width: ${\r\n        pageMode &gt; 1 ? \"50%\" : \"100%\"\r\n      }\"&gt;&lt;canvas&gt;&lt;/canvas&gt;&lt;/div&gt;`.repeat(pages.length);\r\n      viewport.innerHTML = pagesHTML;\r\n      pages.forEach(renderPage);\r\n    });\r\n  }\r\n\r\n  function renderPage(page) {\r\n    let pdfViewport = page.getViewport(1);\r\n\r\n    const container =\r\n      viewport.children[page.pageIndex - cursorIndex * pageMode];\r\n    pdfViewport = page.getViewport(container.offsetWidth / pdfViewport.width);\r\n    const canvas = container.children[0];\r\n    const context = canvas.getContext(\"2d\");\r\n    canvas.height = pdfViewport.height;\r\n    canvas.width = pdfViewport.width;\r\n\r\n    page.render({\r\n      canvasContext: context,\r\n      viewport: pdfViewport\r\n    });\r\n  }\r\n})();\r\n\r\n      initPDFViewer(\"https://blog.mozilla.org/security/files/2015/05/HTTPS-FAQ.pdf\");\r\n    &lt;/script&gt;\r\n  &lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":13279207,"reputation":1,"user_id":9587475,"display_name":"Kartik Indalkar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":297,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1651668790,"creation_date":1573890728,"question_id":58888682,"body_markdown":"show PDF file inside the android app from the server URL without give permission to download that file. how it can do in the android app.\r\nI have tried using web_view but it allows us to download it.\r\nI won&#39;t open that file in the activity. but only display that file not allow to download it.","title":"show pdf file inside android app from server url without give the permission download that file","body":"<p>show PDF file inside the android app from the server URL without give permission to download that file. how it can do in the android app.\nI have tried using web_view but it allows us to download it.\nI won't open that file in the activity. but only display that file not allow to download it.</p>\n"},{"tags":["java","sql","postgresql","jooq","jooq-codegen-maven"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1651658715,"post_id":72110995,"comment_id":127413756,"body_markdown":"The `[*]` marks the error position as part of the error message. I doubt JOOQ or Liquibase adds that. It&#39;s most probably an indication that something _before_ that was already invalid e.g. the `auto_increment` - but that would generate a different error. So maybe you are not actually using Postgres to begin with.","body":"The <code>[*]</code> marks the error position as part of the error message. I doubt JOOQ or Liquibase adds that. It&#39;s most probably an indication that something <i>before</i> that was already invalid e.g. the <code>auto_increment</code> - but that would generate a different error. So maybe you are not actually using Postgres to begin with."},{"owner":{"account_id":10411662,"reputation":13,"user_id":7676882,"display_name":"MarcoFarinetti"},"score":0,"creation_date":1651662790,"post_id":72110995,"comment_id":127415131,"body_markdown":"Thanks, I&#39;m using postgres but JOOQ codegen doesn&#39;t as @lukas-eder explained.","body":"Thanks, I&#39;m using postgres but JOOQ codegen doesn&#39;t as @lukas-eder explained."}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651668063,"creation_date":1651660541,"answer_id":72111576,"question_id":72110995,"body_markdown":"### Why this happens\r\n\r\nThe [`LiquibaseDatabase`][1] in jOOQ 3.16&#39;s code generation configuration works by [simulating your migration against an in-memory H2 database][2], which, starting from H2 2.0 has incompatibly declared `VALUE` a keyword, which can no longer be used as an identifier without quoting.\r\n\r\n### Workaround in Liquibase\r\n\r\nSo, your workaround could be to quote all objects (or reserved words, if Liquibase is up to date with H2&#39;s latest changes):\r\nhttps://docs.liquibase.com/parameters/object-quoting-strategy.html\r\n\r\nE.g.\r\n\r\n```\r\ndatabaseChangeLog:\r\n    -  object-quoting-strategy: QUOTE_ALL_OBJECTS\r\n```\r\n\r\nHowever, this means that you should make sure to use only lower case identifiers in your Liquibase configuration, as to not accidentally create case sensitive identifiers in your PostgreSQL database\r\n\r\n### Upgrading Liquibase\r\n\r\nI can&#39;t reproduce this with the latest versions of Liquibase. It seems they have fixed this and now support H2 2.x correctly\r\n\r\n### A future fix in jOOQ\r\n\r\njOOQ should fix this on the jOOQ side. Eventually, H2 will be removed from the equation (at least it will be possible to opt out of using it), and jOOQ will interpret the DDL generated by Liquibase directly in order to generate your code. The relevant feature request is:\r\nhttps://github.com/jOOQ/jOOQ/issues/7034\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/code-generation/codegen-liquibase/\r\n  [2]: https://blog.jooq.org/how-to-simulate-a-liquibase-migration-using-h2/","title":"JOOQ code generation with Liquibase, reserved keyword? (error with &quot;value&quot; column name)","body":"<h3>Why this happens</h3>\n<p>The <a href=\"https://www.jooq.org/doc/latest/manual/code-generation/codegen-liquibase/\" rel=\"nofollow noreferrer\"><code>LiquibaseDatabase</code></a> in jOOQ 3.16's code generation configuration works by <a href=\"https://blog.jooq.org/how-to-simulate-a-liquibase-migration-using-h2/\" rel=\"nofollow noreferrer\">simulating your migration against an in-memory H2 database</a>, which, starting from H2 2.0 has incompatibly declared <code>VALUE</code> a keyword, which can no longer be used as an identifier without quoting.</p>\n<h3>Workaround in Liquibase</h3>\n<p>So, your workaround could be to quote all objects (or reserved words, if Liquibase is up to date with H2's latest changes):\n<a href=\"https://docs.liquibase.com/parameters/object-quoting-strategy.html\" rel=\"nofollow noreferrer\">https://docs.liquibase.com/parameters/object-quoting-strategy.html</a></p>\n<p>E.g.</p>\n<pre><code>databaseChangeLog:\n    -  object-quoting-strategy: QUOTE_ALL_OBJECTS\n</code></pre>\n<p>However, this means that you should make sure to use only lower case identifiers in your Liquibase configuration, as to not accidentally create case sensitive identifiers in your PostgreSQL database</p>\n<h3>Upgrading Liquibase</h3>\n<p>I can't reproduce this with the latest versions of Liquibase. It seems they have fixed this and now support H2 2.x correctly</p>\n<h3>A future fix in jOOQ</h3>\n<p>jOOQ should fix this on the jOOQ side. Eventually, H2 will be removed from the equation (at least it will be possible to opt out of using it), and jOOQ will interpret the DDL generated by Liquibase directly in order to generate your code. The relevant feature request is:\n<a href=\"https://github.com/jOOQ/jOOQ/issues/7034\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOQ/issues/7034</a></p>\n"}],"owner":{"account_id":10411662,"reputation":13,"user_id":7676882,"display_name":"MarcoFarinetti"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":518,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72111576,"answer_count":1,"score":1,"last_activity_date":1651668727,"creation_date":1651657926,"question_id":72110995,"body_markdown":"I have a table defined in a liquibase script with a column named &quot;value&quot;:\r\n```\r\n- column:\r\n    name: value\r\n    type: VARCHAR\r\n    constraints:\r\n      - nullable: false\r\n```\r\ndbms is postgresql\r\n\r\nWhen running the JOOQ codegen with the maven plugin, it runs the liquibase script and I get the following error:\r\n```\r\nSyntax error in SQL statement &quot;CREATE TABLE PUBLIC.TABLE_NAME (ID BIGINT AUTO_INCREMENT NOT NULL, ... , VALUE[*] VARCHAR NOT NULL)&quot;; expected &quot;identifier&quot;;\r\n\r\n```\r\nIf I change the column name from &quot;value&quot; to anything else, it works. With JOOQ up to version 3.15, it works.\r\n\r\nAny clue on how to handle this? I&#39;d rather not change the name, I have multiple tables with a column named &quot;value&quot; so it&#39;s a quite big refactor, and naming wise I feel it&#39;s the most appropriate name for what it represents.\r\n\r\n\r\n### Solution\r\n\r\n\r\nThis is already fixed in the newer versions of liquibase, so you can manually specify which LB version to use in the jOOQ codegen:\r\n```\r\n&lt;plugin&gt;\r\n        &lt;groupId&gt;org.jooq&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jooq-codegen-maven&lt;/artifactId&gt;\r\n        &lt;version&gt;${jooq.version}&lt;/version&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n            &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${liquibase.version}&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n        ...\r\n&lt;/plugin&gt;\r\n","title":"JOOQ code generation with Liquibase, reserved keyword? (error with &quot;value&quot; column name)","body":"<p>I have a table defined in a liquibase script with a column named &quot;value&quot;:</p>\n<pre><code>- column:\n    name: value\n    type: VARCHAR\n    constraints:\n      - nullable: false\n</code></pre>\n<p>dbms is postgresql</p>\n<p>When running the JOOQ codegen with the maven plugin, it runs the liquibase script and I get the following error:</p>\n<pre><code>Syntax error in SQL statement &quot;CREATE TABLE PUBLIC.TABLE_NAME (ID BIGINT AUTO_INCREMENT NOT NULL, ... , VALUE[*] VARCHAR NOT NULL)&quot;; expected &quot;identifier&quot;;\n\n</code></pre>\n<p>If I change the column name from &quot;value&quot; to anything else, it works. With JOOQ up to version 3.15, it works.</p>\n<p>Any clue on how to handle this? I'd rather not change the name, I have multiple tables with a column named &quot;value&quot; so it's a quite big refactor, and naming wise I feel it's the most appropriate name for what it represents.</p>\n<h3>Solution</h3>\n<p>This is already fixed in the newer versions of liquibase, so you can manually specify which LB version to use in the jOOQ codegen:</p>\n<pre><code>&lt;plugin&gt;\n        &lt;groupId&gt;org.jooq&lt;/groupId&gt;\n        &lt;artifactId&gt;jooq-codegen-maven&lt;/artifactId&gt;\n        &lt;version&gt;${jooq.version}&lt;/version&gt;\n        &lt;dependencies&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n            &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\n            &lt;version&gt;${liquibase.version}&lt;/version&gt;\n          &lt;/dependency&gt;\n        ...\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":14976113,"reputation":1632,"user_id":10811516,"display_name":"Ricard Kollcaku"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651668532,"creation_date":1651668532,"answer_id":72113266,"question_id":72101670,"body_markdown":"there are some solutions for that. \r\nOne could be to make it asyncron. when you get the request from the customer you can put it in a processor \r\n\r\n    Sinks.Many&lt;QueueTask&lt;T&gt;&gt; queue = Sinks.many().multicast().onBackpressureBuffer()\r\n\r\nand when the client comes from the customer you just push it to the queue and the queue will be in background processing the items.\r\nBut in this case customer will not get any response with the progress of item. only if you send it by socket or he do another request after some times.\r\n\r\nAnother one is to use Chunked http request.\r\n\r\n          @GetMapping(value = &quot;/sms-stream/{s}&quot;, produces = MediaType.TEXT_EVENT_STREAM_VALUE)\r\n      Flux&lt;String&gt; streamResponse(@PathVariable(&quot;s&quot;) String s) {\r\n        return service.streamResponse(s);\r\n    \r\n      }\r\nIn this case the connection will be open and you can close it automatically in server when processing is done \r\n\r\n\r\n","title":"Stay subscribed to Flux/Mono after client disconnect in Spring WebFlux","body":"<p>there are some solutions for that.\nOne could be to make it asyncron. when you get the request from the customer you can put it in a processor</p>\n<pre><code>Sinks.Many&lt;QueueTask&lt;T&gt;&gt; queue = Sinks.many().multicast().onBackpressureBuffer()\n</code></pre>\n<p>and when the client comes from the customer you just push it to the queue and the queue will be in background processing the items.\nBut in this case customer will not get any response with the progress of item. only if you send it by socket or he do another request after some times.</p>\n<p>Another one is to use Chunked http request.</p>\n<pre><code>      @GetMapping(value = &quot;/sms-stream/{s}&quot;, produces = MediaType.TEXT_EVENT_STREAM_VALUE)\n  Flux&lt;String&gt; streamResponse(@PathVariable(&quot;s&quot;) String s) {\n    return service.streamResponse(s);\n\n  }\n</code></pre>\n<p>In this case the connection will be open and you can close it automatically in server when processing is done</p>\n"}],"owner":{"account_id":3114862,"reputation":49,"user_id":2635874,"display_name":"user2635874"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":643,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1651668532,"creation_date":1651591178,"question_id":72101670,"body_markdown":"I have a service where a couple requests can be long running actions. Occasionally we have timeouts for these requests, and that causes bad state because steps of the flux stop executing after the cancel is called when the client disconnects. Ideally we want this action to continue processing to completion.\r\n\r\nI&#39;ve seen https://stackoverflow.com/questions/64418878/webflux-ignore-cancel-signal recommend using the cache method... Are there any better solutions and/or drawbacks to using cache to achieve this?","title":"Stay subscribed to Flux/Mono after client disconnect in Spring WebFlux","body":"<p>I have a service where a couple requests can be long running actions. Occasionally we have timeouts for these requests, and that causes bad state because steps of the flux stop executing after the cancel is called when the client disconnects. Ideally we want this action to continue processing to completion.</p>\n<p>I've seen <a href=\"https://stackoverflow.com/questions/64418878/webflux-ignore-cancel-signal\">WebFlux - ignore &#39;cancel&#39; signal</a> recommend using the cache method... Are there any better solutions and/or drawbacks to using cache to achieve this?</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":4,"creation_date":1651665431,"post_id":72112133,"comment_id":127415930,"body_markdown":"The queries showing the error are not the ones you posted","body":"The queries showing the error are not the ones you posted"},{"owner":{"account_id":23868059,"reputation":11,"user_id":17870134,"display_name":"Ormuzd"},"score":0,"creation_date":1651669710,"post_id":72112133,"comment_id":127417594,"body_markdown":"I can show a screenshot of the output message to the console. This is exactly what the console shows me for my executed code, I dont understand why","body":"I can show a screenshot of the output message to the console. This is exactly what the console shows me for my executed code, I dont understand why"},{"owner":{"account_id":10364565,"reputation":4778,"user_id":7644018,"display_name":"Paul T."},"score":0,"creation_date":1651720963,"post_id":72112133,"comment_id":127431768,"body_markdown":"Need to show the code for function `deleteRow`, since that is where your comment claims the error happens.","body":"Need to show the code for function <code>deleteRow</code>, since that is where your comment claims the error happens."}],"owner":{"account_id":23868059,"reputation":11,"user_id":17870134,"display_name":"Ormuzd"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651668380,"creation_date":1651663411,"question_id":72112133,"body_markdown":"I am trying to delete a row in my database but I am getting a syntax error.\r\nMay I know how can I solve this error?\r\n\r\nfirst_lesson.books database\r\n\r\n[![enter image description here][1]][1]\r\n\r\n```\r\nimport javax.sql.rowset.CachedRowSet;\r\nimport javax.sql.rowset.RowSetFactory;\r\nimport javax.sql.rowset.RowSetProvider;\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.sql.Statement;\r\n\r\npublic class RowSetLesson {\r\n    static String url = &quot;jdbc:mysql://localhost:3306&quot;;\r\n    static String userName = &quot;root&quot;;\r\n    static String password = &quot;root&quot;;\r\n\r\n    public static void main(String[] args) throws SQLException, ClassNotFoundException {\r\n        ResultSet resultSet = getResSet();\r\n//        while (resultSet.next())\r\n//            System.out.println(resultSet.getString(&quot;name&quot;));\r\n\r\n        CachedRowSet rowSet = (CachedRowSet) resultSet;\r\n        rowSet.setCommand(&quot;SELECT * FROM first_lesson.books WHERE price &gt; ?&quot;);\r\n        rowSet.setDouble(1, 30);\r\n\r\n        rowSet.setUrl(url);\r\n        rowSet.setUsername(userName);\r\n        rowSet.setPassword(password);\r\n        rowSet.execute();\r\n\r\n        rowSet.absolute(2);\r\n        rowSet.deleteRow(); // The error occurs when you try to delete a row. \r\n                            // If you remove this line of code, the project will compile\r\n        rowSet.beforeFirst();\r\n        Connection connection = DriverManager.getConnection(url, userName, password);\r\n        connection.setAutoCommit(false);\r\n        rowSet.acceptChanges(connection);\r\n\r\n        while (rowSet.next()) {\r\n            String name = rowSet.getString(&quot;name&quot;);\r\n            double price = rowSet.getDouble(3);\r\n            System.out.println(name + &quot; &quot; + price);\r\n        }\r\n    }\r\n\r\n    static ResultSet getResSet() throws ClassNotFoundException, SQLException {\r\n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n        try (Connection conn = DriverManager.getConnection(url, userName, password);\r\n             Statement stat = conn.createStatement()) {\r\n            ResultSet rs = stat.executeQuery(&quot;select * from first_lesson.books&quot;);\r\n            RowSetFactory factory = RowSetProvider.newFactory();\r\n            CachedRowSet crs = factory.createCachedRowSet();\r\n            crs.populate(rs);\r\n            return crs;\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n&gt; java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;.books WHERE bookId = 2 AND name = &#39;Harry Potter&#39; AND price = 45.5&#39; at line 1\r\nat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\r\n\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)\r\n\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:972)\r\n\r\n\tat java.sql.rowset/com.sun.rowset.internal.CachedRowSetWriter.deleteOriginalRow(CachedRowSetWriter.java:974)\r\n\r\n\tat java.sql.rowset/com.sun.rowset.internal.CachedRowSetWriter.writeData(CachedRowSetWriter.java:341)\r\n\r\n\tat java.sql.rowset/com.sun.rowset.CachedRowSetImpl.acceptChanges(CachedRowSetImpl.java:894)\r\n\r\n\tat java.sql.rowset/com.sun.rowset.CachedRowSetImpl.acceptChanges(CachedRowSetImpl.java:956)\r\n\tat lesson4.RowSetLesson.main(RowSetLesson.java:37)\r\n\r\n&gt; Exception in thread &quot;main&quot; javax.sql.rowset.spi.SyncProviderException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;.books WHERE bookId = 2 AND name = &#39;Harry Potter&#39; AND price = 45.5&#39; at line 1\r\n\r\n\r\n\r\n\r\nI want to understand why an error occurs, because when watching a training video from the author, the code compiles without errors. The code is the same, checked many times\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CokG2.png","title":"MySQL syntax error when trying to delete a row in a database table using JDBC","body":"<p>I am trying to delete a row in my database but I am getting a syntax error.\nMay I know how can I solve this error?</p>\n<p>first_lesson.books database</p>\n<p><a href=\"https://i.stack.imgur.com/CokG2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CokG2.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import javax.sql.rowset.CachedRowSet;\nimport javax.sql.rowset.RowSetFactory;\nimport javax.sql.rowset.RowSetProvider;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\npublic class RowSetLesson {\n    static String url = &quot;jdbc:mysql://localhost:3306&quot;;\n    static String userName = &quot;root&quot;;\n    static String password = &quot;root&quot;;\n\n    public static void main(String[] args) throws SQLException, ClassNotFoundException {\n        ResultSet resultSet = getResSet();\n//        while (resultSet.next())\n//            System.out.println(resultSet.getString(&quot;name&quot;));\n\n        CachedRowSet rowSet = (CachedRowSet) resultSet;\n        rowSet.setCommand(&quot;SELECT * FROM first_lesson.books WHERE price &gt; ?&quot;);\n        rowSet.setDouble(1, 30);\n\n        rowSet.setUrl(url);\n        rowSet.setUsername(userName);\n        rowSet.setPassword(password);\n        rowSet.execute();\n\n        rowSet.absolute(2);\n        rowSet.deleteRow(); // The error occurs when you try to delete a row. \n                            // If you remove this line of code, the project will compile\n        rowSet.beforeFirst();\n        Connection connection = DriverManager.getConnection(url, userName, password);\n        connection.setAutoCommit(false);\n        rowSet.acceptChanges(connection);\n\n        while (rowSet.next()) {\n            String name = rowSet.getString(&quot;name&quot;);\n            double price = rowSet.getDouble(3);\n            System.out.println(name + &quot; &quot; + price);\n        }\n    }\n\n    static ResultSet getResSet() throws ClassNotFoundException, SQLException {\n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n        try (Connection conn = DriverManager.getConnection(url, userName, password);\n             Statement stat = conn.createStatement()) {\n            ResultSet rs = stat.executeQuery(&quot;select * from first_lesson.books&quot;);\n            RowSetFactory factory = RowSetProvider.newFactory();\n            CachedRowSet crs = factory.createCachedRowSet();\n            crs.populate(rs);\n            return crs;\n        }\n    }\n}\n\n</code></pre>\n<blockquote>\n<p>java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '.books WHERE bookId = 2 AND name = 'Harry Potter' AND price = 45.5' at line 1\nat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)</p>\n</blockquote>\n<pre><code>at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\n\nat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)\n\nat com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:972)\n\nat java.sql.rowset/com.sun.rowset.internal.CachedRowSetWriter.deleteOriginalRow(CachedRowSetWriter.java:974)\n\nat java.sql.rowset/com.sun.rowset.internal.CachedRowSetWriter.writeData(CachedRowSetWriter.java:341)\n\nat java.sql.rowset/com.sun.rowset.CachedRowSetImpl.acceptChanges(CachedRowSetImpl.java:894)\n\nat java.sql.rowset/com.sun.rowset.CachedRowSetImpl.acceptChanges(CachedRowSetImpl.java:956)\nat lesson4.RowSetLesson.main(RowSetLesson.java:37)\n</code></pre>\n<blockquote>\n<p>Exception in thread &quot;main&quot; javax.sql.rowset.spi.SyncProviderException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '.books WHERE bookId = 2 AND name = 'Harry Potter' AND price = 45.5' at line 1</p>\n</blockquote>\n<p>I want to understand why an error occurs, because when watching a training video from the author, the code compiles without errors. The code is the same, checked many times</p>\n"},{"tags":["java","android","dropbox"],"answers":[{"tags":[],"owner":{"account_id":1370292,"reputation":16504,"user_id":1305693,"display_name":"Greg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651668352,"creation_date":1651668352,"answer_id":72113231,"question_id":72108425,"body_markdown":"Dropbox is in the process of switching to only issuing short-lived access tokens (and optional refresh tokens) instead of long-lived access tokens. You can find [more information on this migration here][1].\r\n\r\nApps can still get long-term access by requesting &quot;offline&quot; access though, in which case the app receives a &quot;refresh token&quot; that can be used to retrieve new short-lived access tokens as needed, without further manual user intervention. You can find more information in the [OAuth Guide][2] and [authorization documentation][3]. \r\n\r\nFor Android apps using the official Dropbox API v2 Java SDK, to do so, you would start the authorization flow using `startOAuth2PKCE` (instead of `startOAuth2Authentication`) as [shown here][4], and handle the result as [shown here][5]. When you do so, the credential will include both a short-lived access token as well as a refresh token. As long as you pass in those credentials to the client, which includes the refresh token in addition to an access token, the SDK will automatically handle expired short-lived access tokens for you by performing the refresh in the background.\r\n\r\n\r\n  [1]: https://dropbox.tech/developers/migrating-app-permissions-and-access-tokens\r\n  [2]: https://developers.dropbox.com/oauth-guide\r\n  [3]: https://www.dropbox.com/developers/documentation/http/documentation#authorization\r\n  [4]: https://github.com/dropbox/dropbox-sdk-java/blob/master/examples/android/src/main/java/com/dropbox/core/examples/android/DropboxActivity.java#L93\r\n  [5]: https://github.com/dropbox/dropbox-sdk-java/blob/master/examples/android/src/main/java/com/dropbox/core/examples/android/DropboxActivity.java#L29","title":"Drop box automatically disconnect after some time","body":"<p>Dropbox is in the process of switching to only issuing short-lived access tokens (and optional refresh tokens) instead of long-lived access tokens. You can find <a href=\"https://dropbox.tech/developers/migrating-app-permissions-and-access-tokens\" rel=\"nofollow noreferrer\">more information on this migration here</a>.</p>\n<p>Apps can still get long-term access by requesting &quot;offline&quot; access though, in which case the app receives a &quot;refresh token&quot; that can be used to retrieve new short-lived access tokens as needed, without further manual user intervention. You can find more information in the <a href=\"https://developers.dropbox.com/oauth-guide\" rel=\"nofollow noreferrer\">OAuth Guide</a> and <a href=\"https://www.dropbox.com/developers/documentation/http/documentation#authorization\" rel=\"nofollow noreferrer\">authorization documentation</a>.</p>\n<p>For Android apps using the official Dropbox API v2 Java SDK, to do so, you would start the authorization flow using <code>startOAuth2PKCE</code> (instead of <code>startOAuth2Authentication</code>) as <a href=\"https://github.com/dropbox/dropbox-sdk-java/blob/master/examples/android/src/main/java/com/dropbox/core/examples/android/DropboxActivity.java#L93\" rel=\"nofollow noreferrer\">shown here</a>, and handle the result as <a href=\"https://github.com/dropbox/dropbox-sdk-java/blob/master/examples/android/src/main/java/com/dropbox/core/examples/android/DropboxActivity.java#L29\" rel=\"nofollow noreferrer\">shown here</a>. When you do so, the credential will include both a short-lived access token as well as a refresh token. As long as you pass in those credentials to the client, which includes the refresh token in addition to an access token, the SDK will automatically handle expired short-lived access tokens for you by performing the refresh in the background.</p>\n"}],"owner":{"account_id":14900604,"reputation":117,"user_id":10759544,"display_name":"Mehul Dhimmar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72113231,"answer_count":1,"score":0,"last_activity_date":1651668352,"creation_date":1651643173,"question_id":72108425,"body_markdown":"I connect my android application with drop box using below code. But, I found that it is automatically disconnect after some time. I don&#39;t know why it is happen. May be access token expire or anything else. So, how can I maintain connectivity continuously. Please guide me. Thanks in advance. \r\n\r\n\r\n    public void connect() {\r\n            SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(application);\r\n            String accessToken = prefs.getString(Constants.DROPBOX_ACCESS_TOKEN, null);\r\n    \r\n            if (accessToken == null) {\r\n                accessToken = Auth.getOAuth2Token();\r\n                if (accessToken != null) {\r\n                    tracker.send(new HitBuilders.EventBuilder()\r\n                            .setCategory(Analytics.Category.DropBox.name())\r\n                            .setAction(Analytics.Action.Enable.name())\r\n                            .build());\r\n    \r\n                    prefs.edit().putString(Constants.DROPBOX_ACCESS_TOKEN, accessToken).apply();\r\n    \r\n                    try {\r\n                        Bundle bundle = new Bundle();\r\n                        bundle.putString(FirebaseAnalytics.Param.ITEM_CATEGORY, Analytics.Category.DropBox.name());\r\n                        bundle.putString(FirebaseAnalytics.Param.ITEM_NAME, Analytics.Action.Enable.name());\r\n    \r\n                        FirebaseAnalytics.getInstance(application).logEvent(FirebaseAnalytics.Event.VIEW_ITEM, bundle);\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n    \r\n                } else {\r\n                    unlink();\r\n                }\r\n            }\r\n    \r\n            String uid = Auth.getUid();\r\n            String storedUid = prefs.getString(Constants.DROPBOX_USER_ID, null);\r\n            if (uid != null) {\r\n                if (!uid.equals(storedUid)) {\r\n                    prefs.edit().putString(Constants.DROPBOX_USER_ID, uid).apply();\r\n                }\r\n            }\r\n        }","title":"Drop box automatically disconnect after some time","body":"<p>I connect my android application with drop box using below code. But, I found that it is automatically disconnect after some time. I don't know why it is happen. May be access token expire or anything else. So, how can I maintain connectivity continuously. Please guide me. Thanks in advance.</p>\n<pre><code>public void connect() {\n        SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(application);\n        String accessToken = prefs.getString(Constants.DROPBOX_ACCESS_TOKEN, null);\n\n        if (accessToken == null) {\n            accessToken = Auth.getOAuth2Token();\n            if (accessToken != null) {\n                tracker.send(new HitBuilders.EventBuilder()\n                        .setCategory(Analytics.Category.DropBox.name())\n                        .setAction(Analytics.Action.Enable.name())\n                        .build());\n\n                prefs.edit().putString(Constants.DROPBOX_ACCESS_TOKEN, accessToken).apply();\n\n                try {\n                    Bundle bundle = new Bundle();\n                    bundle.putString(FirebaseAnalytics.Param.ITEM_CATEGORY, Analytics.Category.DropBox.name());\n                    bundle.putString(FirebaseAnalytics.Param.ITEM_NAME, Analytics.Action.Enable.name());\n\n                    FirebaseAnalytics.getInstance(application).logEvent(FirebaseAnalytics.Event.VIEW_ITEM, bundle);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n\n            } else {\n                unlink();\n            }\n        }\n\n        String uid = Auth.getUid();\n        String storedUid = prefs.getString(Constants.DROPBOX_USER_ID, null);\n        if (uid != null) {\n            if (!uid.equals(storedUid)) {\n                prefs.edit().putString(Constants.DROPBOX_USER_ID, uid).apply();\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","arrays","loops","arraylist","methods"],"answers":[{"tags":[],"owner":{"account_id":23077061,"reputation":119,"user_id":17189874,"display_name":"Dan Chirita"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651668153,"creation_date":1651667738,"answer_id":72113104,"question_id":72112748,"body_markdown":"Try this: (java &gt;= 9 &amp; apache commons lang 3) (the array of primitives was converted to an array of objects)\r\n\r\n```\r\nList&lt;Integer&gt; integers = List.of(org.apache.commons.lang3.ArrayUtils.toObject(test));\r\nSystem.out.println(integers);\r\n```\r\n\r\nresult:\r\n\r\n```\r\n[5, 3, 6, 10]\r\n```\r\nor, with java 8:\r\n\r\n```\r\nList&lt;Integer&gt; integers = Arrays.asList(org.apache.commons.lang3.ArrayUtils.toObject(test));\r\nSystem.out.println(integers);\r\n```\r\n\r\nresult:\r\n\r\n```\r\n[5, 3, 6, 10]\r\n```","title":"java Convert array of Integers to array list using methods","body":"<p>Try this: (java &gt;= 9 &amp; apache commons lang 3) (the array of primitives was converted to an array of objects)</p>\n<pre><code>List&lt;Integer&gt; integers = List.of(org.apache.commons.lang3.ArrayUtils.toObject(test));\nSystem.out.println(integers);\n</code></pre>\n<p>result:</p>\n<pre><code>[5, 3, 6, 10]\n</code></pre>\n<p>or, with java 8:</p>\n<pre><code>List&lt;Integer&gt; integers = Arrays.asList(org.apache.commons.lang3.ArrayUtils.toObject(test));\nSystem.out.println(integers);\n</code></pre>\n<p>result:</p>\n<pre><code>[5, 3, 6, 10]\n</code></pre>\n"}],"owner":{"account_id":23713791,"reputation":11,"user_id":17757350,"display_name":"Kango Vince"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1651667803,"answer_count":1,"score":0,"last_activity_date":1651668153,"creation_date":1651666279,"question_id":72112748,"body_markdown":"I have array of integers. I can convert it using loop, like that:\r\n\r\n        int[] test = {5, 3, 6, 10};\r\n        List &lt;Integer&gt; intList2 = new ArrayList&lt;&gt;();\r\n        for (int i : test){\r\n            intList2.add(i);\r\n        }\r\n        for (int y : intList2){\r\n            System.out.println(y);\r\n        }\r\n\r\nBut I am trying to fill ArrayList using methods, and I have no success.\r\n\r\n        int[] test = {5, 3, 6, 10};\r\n        List &lt;Integer&gt; integerList = new ArrayList(Arrays.asList(test));\r\n\r\n        for (int i : integerList) {\r\n            System.out.println(i);\r\n        }\r\n\r\nIt says: \r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.ClassCastException: class [I\r\n&gt; cannot be cast to class java.lang.Integer ([I and java.lang.Integer\r\n&gt; are in module java.base of loader &#39;bootstrap&#39;) \tat\r\n&gt; Scratch.main(scratch_2.java:8)\r\n\r\nI understand that there is a cast error. But i don&#39;t get how to solve it using for-each loop.\r\nBut even if I use classic for loop, it still gives me not the result I expect.\r\n\r\n            int[] test = {5, 3, 6, 10};\r\n        List &lt;Integer&gt; integerList = new ArrayList(Arrays.asList(test));\r\n\r\n        for (int i = 0; i &lt; integerList.size(); i++) {\r\n            System.out.println(integerList.get(i));\r\n        }\r\n\r\n\r\nThe resulst is:\r\n\r\n&gt; [I@1b28cdfa\r\n\r\nWhich is different from original integers. So I assume this line\r\n\r\n        List &lt;Integer&gt; integerList = new ArrayList(Arrays.asList(test));\r\n\r\nworks incorrect. I&#39;ve checked many articles on SO, but could not find answer.\r\nI would really appreciate if you can help me to understand that issue.\r\n\r\nCan I somehow convert Array to ArrayList without using loops at all? I guess that without loops code looks cleaner.","title":"java Convert array of Integers to array list using methods","body":"<p>I have array of integers. I can convert it using loop, like that:</p>\n<pre><code>    int[] test = {5, 3, 6, 10};\n    List &lt;Integer&gt; intList2 = new ArrayList&lt;&gt;();\n    for (int i : test){\n        intList2.add(i);\n    }\n    for (int y : intList2){\n        System.out.println(y);\n    }\n</code></pre>\n<p>But I am trying to fill ArrayList using methods, and I have no success.</p>\n<pre><code>    int[] test = {5, 3, 6, 10};\n    List &lt;Integer&gt; integerList = new ArrayList(Arrays.asList(test));\n\n    for (int i : integerList) {\n        System.out.println(i);\n    }\n</code></pre>\n<p>It says:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.ClassCastException: class [I\ncannot be cast to class java.lang.Integer ([I and java.lang.Integer\nare in module java.base of loader 'bootstrap')    at\nScratch.main(scratch_2.java:8)</p>\n</blockquote>\n<p>I understand that there is a cast error. But i don't get how to solve it using for-each loop.\nBut even if I use classic for loop, it still gives me not the result I expect.</p>\n<pre><code>        int[] test = {5, 3, 6, 10};\n    List &lt;Integer&gt; integerList = new ArrayList(Arrays.asList(test));\n\n    for (int i = 0; i &lt; integerList.size(); i++) {\n        System.out.println(integerList.get(i));\n    }\n</code></pre>\n<p>The resulst is:</p>\n<blockquote>\n<p>[I@1b28cdfa</p>\n</blockquote>\n<p>Which is different from original integers. So I assume this line</p>\n<pre><code>    List &lt;Integer&gt; integerList = new ArrayList(Arrays.asList(test));\n</code></pre>\n<p>works incorrect. I've checked many articles on SO, but could not find answer.\nI would really appreciate if you can help me to understand that issue.</p>\n<p>Can I somehow convert Array to ArrayList without using loops at all? I guess that without loops code looks cleaner.</p>\n"},{"tags":["java","xml","encoding","velocity"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1651668863,"post_id":72113196,"comment_id":127417221,"body_markdown":"*Can the OS/machine itself affect how Java behaves when writing/reading text in this manner?* Very much so. How are you running this?","body":"<i>Can the OS/machine itself affect how Java behaves when writing/reading text in this manner?</i> Very much so. How are you running this?"},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1651669399,"post_id":72113196,"comment_id":127417455,"body_markdown":"The default encoding depends on the OS. E.g. it is Cp1252 (Windows-ANSI) in Windows and UTF-8 in Linux. I don&#39;t know the default encoding in Mac OS but it is likely not Windows ANSI. So you should always use explicit encodings for each conversion between text and bytes. Then the behaviour should be the same on Mac OS and Windows. Maybe the input file&#39;s encoding is not what you expect.","body":"The default encoding depends on the OS. E.g. it is Cp1252 (Windows-ANSI) in Windows and UTF-8 in Linux. I don&#39;t know the default encoding in Mac OS but it is likely not Windows ANSI. So you should always use explicit encodings for each conversion between text and bytes. Then the behaviour should be the same on Mac OS and Windows. Maybe the input file&#39;s encoding is not what you expect."},{"owner":{"account_id":4458386,"reputation":1,"user_id":3627959,"display_name":"Daniel S&#246;dling"},"score":0,"creation_date":1651670083,"post_id":72113196,"comment_id":127417755,"body_markdown":"Thanks for taking the time to answer, @g00se.\n\nIn both cases I ran it as a unit test by running Maven from a command prompt. In one case it was the standard terminal in Mac OS X and from Git Bash on Windows.","body":"Thanks for taking the time to answer, @g00se.  In both cases I ran it as a unit test by running Maven from a command prompt. In one case it was the standard terminal in Mac OS X and from Git Bash on Windows."},{"owner":{"account_id":4458386,"reputation":1,"user_id":3627959,"display_name":"Daniel S&#246;dling"},"score":0,"creation_date":1651670340,"post_id":72113196,"comment_id":127417877,"body_markdown":"Thanks @vanje! \nThe input has been verified and the same goes for the .vm file I use for my Velocity template. So my guess is that I&#39;m doing something wrong in the code. Perhaps there is one more Writer or so that I have to configure.\n\nDo you know if those components will fall back on the OS default encoding unless I tell them otherwise?","body":"Thanks @vanje!  The input has been verified and the same goes for the .vm file I use for my Velocity template. So my guess is that I&#39;m doing something wrong in the code. Perhaps there is one more Writer or so that I have to configure.  Do you know if those components will fall back on the OS default encoding unless I tell them otherwise?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1651671168,"post_id":72113196,"comment_id":127418258,"body_markdown":"No guessing of encoding goes on, so if you don&#39;t tell your code what the input encoding is, any reading will simply use the default encoding. What does `chcp` give you in cmd.exe? And you might tell us what `System.out.println(System.getProperty(&quot;file.encoding&quot;));` gives","body":"No guessing of encoding goes on, so if you don&#39;t tell your code what the input encoding is, any reading will simply use the default encoding. What does <code>chcp</code> give you in cmd.exe? And you might tell us what <code>System.out.println(System.getProperty(&quot;file.encoding&quot;));</code> gives"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1651672244,"post_id":72113196,"comment_id":127418733,"body_markdown":"Of course, it follows from my last that you need to use the encoding that is correct for your input files. So if they really *are* UTF-8, and it looks like they are as there are no errors in Linux, then you should explicitly read them as such with (at bottom) `reader = new InputStreamReader(in, &quot;UTF-8&quot;);` or some such","body":"Of course, it follows from my last that you need to use the encoding that is correct for your input files. So if they really <i>are</i> UTF-8, and it looks like they are as there are no errors in Linux, then you should explicitly read them as such with (at bottom) <code>reader = new InputStreamReader(in, &quot;UTF-8&quot;);</code> or some such"},{"owner":{"account_id":4458386,"reputation":1,"user_id":3627959,"display_name":"Daniel S&#246;dling"},"score":0,"creation_date":1651732073,"post_id":72113196,"comment_id":127433658,"body_markdown":"The chcp command on the machine where things fail was _Active code page: 65001_ and on the machines where things worked we got _Active code page: 437_ (and the file.encoding gave us _UTF-8_.\n\nI also think that I found the issue and as so often before it was not in the hardware but rather in the developer. \n\nI had created a FileWriter like this `fileWriter = new FileWriter(loadFile);` and then user that to create my XML file. I changed this to \n\n`OutputStream out = new FileOutputStream(loadFile);\n  fileWriter = new OutputStreamWriter(out, Charset.forName(&quot;UTF-8&quot;));`","body":"The chcp command on the machine where things fail was <i>Active code page: 65001</i> and on the machines where things worked we got <i>Active code page: 437</i> (and the file.encoding gave us <i>UTF-8</i>.  I also think that I found the issue and as so often before it was not in the hardware but rather in the developer.   I had created a FileWriter like this <code>fileWriter = new FileWriter(loadFile);</code> and then user that to create my XML file. I changed this to   <code>OutputStream out = new FileOutputStream(loadFile);   fileWriter = new OutputStreamWriter(out, Charset.forName(&quot;UTF-8&quot;));</code>"}],"owner":{"account_id":4458386,"reputation":1,"user_id":3627959,"display_name":"Daniel S&#246;dling"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651668152,"creation_date":1651668152,"question_id":72113196,"body_markdown":"All,\r\n\r\nonce again I find myself in the black hole of confusion that is the topic of encodings. \r\n\r\nI have a Java application that given input in the form of a CSV file creates XML files using Velocity. I have gone over the code and as far as I can see I set and use the proper encoding (UTF-8) in all places where I&#39;m supposed to do so. When I run this tool on my own laptop (Mac OS X) everything works as expected and any special characters from the input is written correctly to the XML file. This is also true when I run it on a VMware machine running Windows as its OS. However, when the tool is run on a couple of other machines these special characters are shown as some type of encoded value (and not the good encoding used for XML).\r\n\r\nCan the OS/machine itself affect how Java behaves when writing/reading text in this manner? If so, what do I need to do in my code to override this behaviour so that I can be confident?\r\n\r\nRegards,\r\nDaniel  \r\n\r\n\r\n\r\n\r\n","title":"Different encoding in output from Velocity on Windows and Mac OS X","body":"<p>All,</p>\n<p>once again I find myself in the black hole of confusion that is the topic of encodings.</p>\n<p>I have a Java application that given input in the form of a CSV file creates XML files using Velocity. I have gone over the code and as far as I can see I set and use the proper encoding (UTF-8) in all places where I'm supposed to do so. When I run this tool on my own laptop (Mac OS X) everything works as expected and any special characters from the input is written correctly to the XML file. This is also true when I run it on a VMware machine running Windows as its OS. However, when the tool is run on a couple of other machines these special characters are shown as some type of encoded value (and not the good encoding used for XML).</p>\n<p>Can the OS/machine itself affect how Java behaves when writing/reading text in this manner? If so, what do I need to do in my code to override this behaviour so that I can be confident?</p>\n<p>Regards,\nDaniel</p>\n"},{"tags":["java","date","simpledateformat"],"comments":[{"owner":{"account_id":9843267,"reputation":1142,"user_id":7291660,"display_name":"A. Llorente"},"score":0,"creation_date":1651662555,"post_id":72111912,"comment_id":127415055,"body_markdown":"That&#39;s no date, that&#39;s a string. If you will ALWAYS receive it formated as you posted I would use String methods (`received.split(&quot;T&quot;)[0]`)","body":"That&#39;s no date, that&#39;s a string. If you will ALWAYS receive it formated as you posted I would use String methods (<code>received.split(&quot;T&quot;)[0]</code>)"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":2,"creation_date":1651662586,"post_id":72111912,"comment_id":127415061,"body_markdown":"You shouldn&#39;t use `SimpleDateFormat` at all, but rather classes from the `java.time` package. `LocalDate` and `DateTimeFormatter` will do the job.","body":"You shouldn&#39;t use <code>SimpleDateFormat</code> at all, but rather classes from the <code>java.time</code> package. <code>LocalDate</code> and <code>DateTimeFormatter</code> will do the job."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1651662633,"post_id":72111912,"comment_id":127415075,"body_markdown":"Looks like you might want to use `java.time.OffsetDateTime`, `LocalDateTime` and `LocalDate`","body":"Looks like you might want to use <code>java.time.OffsetDateTime</code>, <code>LocalDateTime</code> and <code>LocalDate</code>"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1651663250,"post_id":72111912,"comment_id":127415291,"body_markdown":"&quot;but it can be with other letter of course&quot; - what do you mean by that?","body":"&quot;but it can be with other letter of course&quot; - what do you mean by that?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1651666128,"post_id":72111912,"comment_id":127416203,"body_markdown":"Yes, it is possible and adequate using date and time classes, more precisely [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/) that others have already mentioned. And yes, the formats are [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601).","body":"Yes, it is possible and adequate using date and time classes, more precisely <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a> that others have already mentioned. And yes, the formats are <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a>."}],"answers":[{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651668069,"creation_date":1651663558,"answer_id":72112158,"question_id":72111912,"body_markdown":"Recommended way: `java.time`\r\n---\r\n\r\nIf you need to calculate anything based on the values or maybe find out the day of week, you will be best adviced using `java.time`:\r\n\r\n```lang-java\r\npublic static void main(String[] args) {\r\n\t// example input in ISO format\r\n\tString first = &quot;2022-11-11T00:00:00&quot;;\r\n\tString second = &quot;2022-11-11T12:00:00+01:00&quot;;\r\n\t// parse them to suitable objects\r\n\tLocalDateTime ldt = LocalDateTime.parse(first);\r\n\tOffsetDateTime odt = OffsetDateTime.parse(second);\r\n\t// extract the date from the objects (that may have time of day and offset, too)\r\n\tLocalDate firstDate = ldt.toLocalDate();\r\n\tLocalDate secondDate = odt.toLocalDate();\r\n\t// format them as ISO local date, basically the same format as the input has\r\n\tString firstToBeForwarded = firstDate.format(DateTimeFormatter.ISO_LOCAL_DATE);\r\n\tString secondToBeForwarded = secondDate.format(DateTimeFormatter.ISO_LOCAL_DATE); \r\n\t// print the results (or forward them as desired)\r\n\tSystem.out.println(firstToBeForwarded);\r\n\tSystem.out.println(secondToBeForwarded);\r\n}\r\n```\r\n\r\nThe output of this example is\r\n\r\n```lang-none\r\n2022-11-11\r\n2022-11-11\r\n```\r\n\r\n---\r\n\r\nNot recommended, but possible: `String` manipulation\r\n---\r\n\r\nIf you just have to\r\n\r\n  - extract the date part (year, month of year and day of month) and\r\n  - you are sure it will always be the first 10 characters of the `String`s you receive\r\n\r\nyou could simply take the first 10 characters:\r\n\r\n```lang-java\r\nString toBeForwarded = &quot;2022-11-11T00:00:00&quot;.substring(0, 10);\r\n```\r\n\r\nThis line would store `&quot;2022-11-11&quot;` in `toBeForwarded`.","title":"Java dates zone format to simple format","body":"<h2>Recommended way: <code>java.time</code></h2>\n<p>If you need to calculate anything based on the values or maybe find out the day of week, you will be best adviced using <code>java.time</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    // example input in ISO format\n    String first = &quot;2022-11-11T00:00:00&quot;;\n    String second = &quot;2022-11-11T12:00:00+01:00&quot;;\n    // parse them to suitable objects\n    LocalDateTime ldt = LocalDateTime.parse(first);\n    OffsetDateTime odt = OffsetDateTime.parse(second);\n    // extract the date from the objects (that may have time of day and offset, too)\n    LocalDate firstDate = ldt.toLocalDate();\n    LocalDate secondDate = odt.toLocalDate();\n    // format them as ISO local date, basically the same format as the input has\n    String firstToBeForwarded = firstDate.format(DateTimeFormatter.ISO_LOCAL_DATE);\n    String secondToBeForwarded = secondDate.format(DateTimeFormatter.ISO_LOCAL_DATE); \n    // print the results (or forward them as desired)\n    System.out.println(firstToBeForwarded);\n    System.out.println(secondToBeForwarded);\n}\n</code></pre>\n<p>The output of this example is</p>\n<pre class=\"lang-none prettyprint-override\"><code>2022-11-11\n2022-11-11\n</code></pre>\n<hr />\n<h2>Not recommended, but possible: <code>String</code> manipulation</h2>\n<p>If you just have to</p>\n<ul>\n<li>extract the date part (year, month of year and day of month) and</li>\n<li>you are sure it will always be the first 10 characters of the <code>String</code>s you receive</li>\n</ul>\n<p>you could simply take the first 10 characters:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String toBeForwarded = &quot;2022-11-11T00:00:00&quot;.substring(0, 10);\n</code></pre>\n<p>This line would store <code>&quot;2022-11-11&quot;</code> in <code>toBeForwarded</code>.</p>\n"}],"owner":{"account_id":16999129,"reputation":31,"user_id":12296916,"display_name":"Nick"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72112158,"answer_count":1,"score":0,"last_activity_date":1651668069,"creation_date":1651662345,"question_id":72111912,"body_markdown":"is it possible to convert this kind of format in Java (probably ISO 8601)  `&quot;2022-11-11T00:00:00&quot; or this &quot;2022-11-11T12:00:00+01:00&quot;` which comes as a string, to simple format &quot;yyyy-mm-dd&quot; with Date or Time kind of classes, or it should be done with string methods?\r\n\r\nExample:\r\n\r\n    you receive this -&gt; &quot;2022-11-11T00:00:00&quot;\r\n    you convert to this -&gt; &quot;2022-11-11&quot;","title":"Java dates zone format to simple format","body":"<p>is it possible to convert this kind of format in Java (probably ISO 8601)  <code>&quot;2022-11-11T00:00:00&quot; or this &quot;2022-11-11T12:00:00+01:00&quot;</code> which comes as a string, to simple format &quot;yyyy-mm-dd&quot; with Date or Time kind of classes, or it should be done with string methods?</p>\n<p>Example:</p>\n<pre><code>you receive this -&gt; &quot;2022-11-11T00:00:00&quot;\nyou convert to this -&gt; &quot;2022-11-11&quot;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","kotlin"],"answers":[{"tags":[],"owner":{"account_id":14988645,"reputation":66,"user_id":10820497,"display_name":"Renata"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651667987,"creation_date":1651667987,"answer_id":72113157,"question_id":72086898,"body_markdown":"Is everything okay when you run it locally?\r\n\r\nDo you check the [similar SO questions][1]?\r\n\r\n  [1]: https://stackoverflow.com/search?q=missing%20ServletWebServerFactory%20bean\r\n\r\nP.S. It is not an answer, but I have not enough points to leave comments :-)","title":"Spring boot Kotlin startup error: missing ServletWebServerFactory bean","body":"<p>Is everything okay when you run it locally?</p>\n<p>Do you check the <a href=\"https://stackoverflow.com/search?q=missing%20ServletWebServerFactory%20bean\">similar SO questions</a>?</p>\n<p>P.S. It is not an answer, but I have not enough points to leave comments :-)</p>\n"}],"owner":{"account_id":15093186,"reputation":23,"user_id":14068722,"display_name":"H4ds0n"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651667987,"creation_date":1651495468,"question_id":72086898,"body_markdown":"I generated project from start.spring.io.\r\nMy gradle project dependencies looks like this:\r\n\r\n    dependencies {\r\n    \tkapt(&quot;org.hibernate:hibernate-jpamodelgen:5.4.30.Final&quot;)\r\n    \truntimeOnly(&quot;org.postgresql:postgresql&quot;)\r\n    \timplementation(&quot;org.jsoup:jsoup:1.14.3&quot;)\r\n    \timplementation(&quot;org.springframework.boot:spring-boot-starter-mail&quot;)\r\n    \timplementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\r\n    \timplementation(&quot;com.fasterxml.jackson.module:jackson-module-kotlin&quot;)\r\n    \timplementation(&quot;org.jetbrains.kotlin:kotlin-reflect&quot;)\r\n    \timplementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8&quot;)\r\n    \timplementation(&quot;org.jetbrains.kotlinx:kotlinx-coroutines-reactor&quot;)\r\n    \tdevelopmentOnly(&quot;org.springframework.boot:spring-boot-devtools&quot;)\r\n    \tannotationProcessor(&quot;org.springframework.boot:spring-boot-configuration-processor&quot;)\r\n    \ttestImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\r\n    \timplementation(&quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;)\r\n    \timplementation(&quot;org.flywaydb:flyway-core&quot;)\r\n    \timplementation(&quot;org.springframework.boot:spring-boot-starter-security&quot;)\r\n    \tcompileOnly(&quot;javax.servlet:javax.servlet-api&quot;)\r\n    }\r\n\r\nGradle jar configuration:\r\n\r\n    tasks.jar {\r\n    \tmanifest.attributes[&quot;Main-Class&quot;] = &quot;com.github.hadson172.findyourplace.FindYourPlaceApplicationKt&quot;\r\n    \tval dependencies = configurations\r\n    \t\t.runtimeClasspath\r\n    \t\t.get()\r\n    \t\t.map(::zipTree)\r\n    \tfrom(dependencies)\r\n    \tduplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n    }\r\n\r\nMain class:\r\n\r\n    @SpringBootApplication\r\n    @EnableScheduling\r\n    class FindYourPlaceApplication: SpringBootServletInitializer()\r\n    \r\n    fun main(args: Array&lt;String&gt;) {\r\n        runApplication&lt;FindYourPlaceApplication&gt;(*args)\r\n    }\r\n\r\nWhen i trying to deploy the application on dokku/heroku on startup I am getting error:\r\n\r\n    remote:        12:29:18.222 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean &#39;org.springframework.context.event.internalEventListenerProcessor&#39;\r\n    remote:         at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)\r\n    remote:         at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)\r\n    remote:         at com.github.hadson172.findyourplace.FindYourPlaceApplicationKt.main(FindYourPlaceApplication.kt:16)\r\n    remote:        Caused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.\r\n    remote:         at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:210)remote:         at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180)\r\n    remote:         at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)\r\n    remote:         ... 8 common frames omitted\r\n    remote:         at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)\r\n\r\n","title":"Spring boot Kotlin startup error: missing ServletWebServerFactory bean","body":"<p>I generated project from start.spring.io.\nMy gradle project dependencies looks like this:</p>\n<pre><code>dependencies {\n    kapt(&quot;org.hibernate:hibernate-jpamodelgen:5.4.30.Final&quot;)\n    runtimeOnly(&quot;org.postgresql:postgresql&quot;)\n    implementation(&quot;org.jsoup:jsoup:1.14.3&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-mail&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\n    implementation(&quot;com.fasterxml.jackson.module:jackson-module-kotlin&quot;)\n    implementation(&quot;org.jetbrains.kotlin:kotlin-reflect&quot;)\n    implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8&quot;)\n    implementation(&quot;org.jetbrains.kotlinx:kotlinx-coroutines-reactor&quot;)\n    developmentOnly(&quot;org.springframework.boot:spring-boot-devtools&quot;)\n    annotationProcessor(&quot;org.springframework.boot:spring-boot-configuration-processor&quot;)\n    testImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;)\n    implementation(&quot;org.flywaydb:flyway-core&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-security&quot;)\n    compileOnly(&quot;javax.servlet:javax.servlet-api&quot;)\n}\n</code></pre>\n<p>Gradle jar configuration:</p>\n<pre><code>tasks.jar {\n    manifest.attributes[&quot;Main-Class&quot;] = &quot;com.github.hadson172.findyourplace.FindYourPlaceApplicationKt&quot;\n    val dependencies = configurations\n        .runtimeClasspath\n        .get()\n        .map(::zipTree)\n    from(dependencies)\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n}\n</code></pre>\n<p>Main class:</p>\n<pre><code>@SpringBootApplication\n@EnableScheduling\nclass FindYourPlaceApplication: SpringBootServletInitializer()\n\nfun main(args: Array&lt;String&gt;) {\n    runApplication&lt;FindYourPlaceApplication&gt;(*args)\n}\n</code></pre>\n<p>When i trying to deploy the application on dokku/heroku on startup I am getting error:</p>\n<pre><code>remote:        12:29:18.222 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'\nremote:         at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)\nremote:         at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)\nremote:         at com.github.hadson172.findyourplace.FindYourPlaceApplicationKt.main(FindYourPlaceApplication.kt:16)\nremote:        Caused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.\nremote:         at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:210)remote:         at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180)\nremote:         at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)\nremote:         ... 8 common frames omitted\nremote:         at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)\n</code></pre>\n"},{"tags":["java","swing","view","render","graphstream"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1642850849,"post_id":70812219,"comment_id":125185237,"body_markdown":"You should set a `BorderLayout` instead of a `BoxLayout`.","body":"You should set a <code>BorderLayout</code> instead of a <code>BoxLayout</code>."},{"owner":{"account_id":20782830,"reputation":21,"user_id":15262800,"display_name":"BenoitPEGAZ"},"score":0,"creation_date":1642890371,"post_id":70812219,"comment_id":125194594,"body_markdown":"I tried with the new code updated in my post, I change to `setLayout(new BorderLayout());` but it doesn&#39;t seems to change anything... Am I instancing it wrong?\n\nI just noticed too by moving the vertices that the graph is correctly created, the problem is the automatic arrangement of the vertices which is not done correctly. Any ideas ?\nThanks","body":"I tried with the new code updated in my post, I change to <code>setLayout(new BorderLayout());</code> but it doesn&#39;t seems to change anything... Am I instancing it wrong?  I just noticed too by moving the vertices that the graph is correctly created, the problem is the automatic arrangement of the vertices which is not done correctly. Any ideas ? Thanks"}],"answers":[{"tags":[],"owner":{"account_id":20782830,"reputation":21,"user_id":15262800,"display_name":"BenoitPEGAZ"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643121073,"creation_date":1643121073,"answer_id":70850459,"question_id":70812219,"body_markdown":"I found the solution on the documentation of graphstream (https://graphstream-project.org/doc/Tutorials/Graph-Visualisation/1.0/) in the Automatic layout section, when using a viewer you have to add viewer.enableAutoLayout(); to display it correctly","title":"GraphStream &amp; Swing - Can&#39;t display my graph correctly","body":"<p>I found the solution on the documentation of graphstream (<a href=\"https://graphstream-project.org/doc/Tutorials/Graph-Visualisation/1.0/\" rel=\"nofollow noreferrer\">https://graphstream-project.org/doc/Tutorials/Graph-Visualisation/1.0/</a>) in the Automatic layout section, when using a viewer you have to add viewer.enableAutoLayout(); to display it correctly</p>\n"}],"owner":{"account_id":20782830,"reputation":21,"user_id":15262800,"display_name":"BenoitPEGAZ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":362,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70850459,"answer_count":1,"score":0,"last_activity_date":1651667737,"creation_date":1642849895,"question_id":70812219,"body_markdown":"\r\nI&#39;m a beginner with GraphStream and Swing, I would like to insert a Graph in a `JPanel`, but while trying I get the following display:\r\n\r\n  [Main Frame][1]\r\n\r\nI added a `graph.display()` in the code to see if the problem came from the graph but it seems to display correctly:  \r\n\r\n[The graph with graph.display()][2]\r\n\r\nI have the impression that when the graph is in the panel the vertices do not want to position themselves correctly.\r\n  \r\n## Code:  \r\n\r\n### My custom panel:  \r\n```\r\nimport org.graphstream.graph.implementations.SingleGraph;\r\nimport org.graphstream.ui.view.View;\r\nimport org.graphstream.ui.view.Viewer;\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class PanelGraph extends JPanel {\r\n\r\n    public SingleGraph graph = new SingleGraph(&quot;Test graph&quot;);\r\n\r\n    public PanelGraph() {\r\n\r\n        graph.addNode(&quot;A&quot;);\r\n        graph.addNode(&quot;B&quot;);\r\n        graph.addNode(&quot;C&quot;);\r\n        graph.addEdge(&quot;AB&quot;, &quot;A&quot;, &quot;B&quot;);\r\n        graph.addEdge(&quot;BC&quot;, &quot;B&quot;, &quot;C&quot;);\r\n        graph.addEdge(&quot;CA&quot;, &quot;C&quot;, &quot;A&quot;);\r\n\r\n        graph.setStrict(false);\r\n        graph.setAutoCreate(true);\r\n\r\n        Viewer viewer = new Viewer(graph, Viewer.ThreadingModel.GRAPH_IN_GUI_THREAD);\r\n        View view = viewer.addDefaultView(false);\r\n        setLayout(new BorderLayout());\r\n        add((Component) view, BorderLayout.CENTER);\r\n    }\r\n}\r\n```\r\n\r\n### My frame:\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class TestFrame extends JFrame {\r\n\r\n    public TestFrame() {\r\n        super(&quot;Test frame&quot;);\r\n        super.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        init();\r\n    }\r\n\r\n    private void init() {\r\n        JPanel panelInputs = new JPanel();\r\n        JPanel panelSide = new JPanel();\r\n        PanelGraph panelGraph = new PanelGraph(); // The graph is in this panel\r\n\r\n        panelInputs.add(new JLabel(&quot;Inputs panel&quot;));\r\n        panelSide.add(new JLabel(&quot;Side panel&quot;));\r\n\r\n        this.getContentPane().setLayout(new GridBagLayout());\r\n        this.getContentPane().add(panelInputs, new GridBagConstraints(0, 0, 3, 1, 1, 0, GridBagConstraints.WEST, GridBagConstraints.BOTH, new Insets(0, 0, 0, 0), 0, 0));\r\n        this.getContentPane().add(panelSide, new GridBagConstraints(0, 1, 1, 1, 1, 1, GridBagConstraints.WEST, GridBagConstraints.BOTH, new Insets(0, 0, 0, 0), 0, 0));\r\n        this.getContentPane().add(panelGraph, new GridBagConstraints(1, 1, 2, 1, 2, 2, GridBagConstraints.WEST, GridBagConstraints.BOTH, new Insets(0, 0, 0, 0), 0, 0));\r\n\r\n        this.setPreferredSize(new Dimension(1600, 900));\r\n        this.pack();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n        } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n        }\r\n\r\n        TestFrame frame = new TestFrame();\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setVisible(true);\r\n    }\r\n}\r\n```\r\n--------------\r\n\r\n**EDIT** : I found the solution on the documentation of graphstream (https://graphstream-project.org/doc/Tutorials/Graph-Visualisation/1.0/) in the `Automatic layout` section, when using a viewer you have to add `viewer.enableAutoLayout();` to display it correctly\r\n\r\n## New code with the solution:\r\n\r\n### My custom panel:  \r\n```\r\nimport org.graphstream.graph.implementations.SingleGraph;\r\nimport org.graphstream.ui.view.View;\r\nimport org.graphstream.ui.view.Viewer;\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class PanelGraph extends JPanel {\r\n\r\n    public SingleGraph graph = new SingleGraph(&quot;Test graph&quot;);\r\n\r\n    public PanelGraph() {\r\n\r\n        graph.addNode(&quot;A&quot;);\r\n        graph.addNode(&quot;B&quot;);\r\n        graph.addNode(&quot;C&quot;);\r\n        graph.addEdge(&quot;AB&quot;, &quot;A&quot;, &quot;B&quot;);\r\n        graph.addEdge(&quot;BC&quot;, &quot;B&quot;, &quot;C&quot;);\r\n        graph.addEdge(&quot;CA&quot;, &quot;C&quot;, &quot;A&quot;);\r\n\r\n        graph.setStrict(false);\r\n        graph.setAutoCreate(true);\r\n\r\n        Viewer viewer = new Viewer(graph, Viewer.ThreadingModel.GRAPH_IN_GUI_THREAD);\r\n        viewer.enableAutoLayout();\r\n        View view = viewer.addDefaultView(false);\r\n        setLayout(new BorderLayout());\r\n        add((Component) view, BorderLayout.CENTER);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NsLFf.png\r\n  [2]: https://i.stack.imgur.com/Jmv6M.png\r\n  [3]: https://graphstream-project.org/doc/Tutorials/Graph-Visualisation/1.0/","title":"GraphStream &amp; Swing - Can&#39;t display my graph correctly","body":"<p>I'm a beginner with GraphStream and Swing, I would like to insert a Graph in a <code>JPanel</code>, but while trying I get the following display:</p>\n<p><a href=\"https://i.stack.imgur.com/NsLFf.png\" rel=\"nofollow noreferrer\">Main Frame</a></p>\n<p>I added a <code>graph.display()</code> in the code to see if the problem came from the graph but it seems to display correctly:</p>\n<p><a href=\"https://i.stack.imgur.com/Jmv6M.png\" rel=\"nofollow noreferrer\">The graph with graph.display()</a></p>\n<p>I have the impression that when the graph is in the panel the vertices do not want to position themselves correctly.</p>\n<h2>Code:</h2>\n<h3>My custom panel:</h3>\n<pre><code>import org.graphstream.graph.implementations.SingleGraph;\nimport org.graphstream.ui.view.View;\nimport org.graphstream.ui.view.Viewer;\nimport javax.swing.*;\nimport java.awt.*;\n\npublic class PanelGraph extends JPanel {\n\n    public SingleGraph graph = new SingleGraph(&quot;Test graph&quot;);\n\n    public PanelGraph() {\n\n        graph.addNode(&quot;A&quot;);\n        graph.addNode(&quot;B&quot;);\n        graph.addNode(&quot;C&quot;);\n        graph.addEdge(&quot;AB&quot;, &quot;A&quot;, &quot;B&quot;);\n        graph.addEdge(&quot;BC&quot;, &quot;B&quot;, &quot;C&quot;);\n        graph.addEdge(&quot;CA&quot;, &quot;C&quot;, &quot;A&quot;);\n\n        graph.setStrict(false);\n        graph.setAutoCreate(true);\n\n        Viewer viewer = new Viewer(graph, Viewer.ThreadingModel.GRAPH_IN_GUI_THREAD);\n        View view = viewer.addDefaultView(false);\n        setLayout(new BorderLayout());\n        add((Component) view, BorderLayout.CENTER);\n    }\n}\n</code></pre>\n<h3>My frame:</h3>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class TestFrame extends JFrame {\n\n    public TestFrame() {\n        super(&quot;Test frame&quot;);\n        super.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        init();\n    }\n\n    private void init() {\n        JPanel panelInputs = new JPanel();\n        JPanel panelSide = new JPanel();\n        PanelGraph panelGraph = new PanelGraph(); // The graph is in this panel\n\n        panelInputs.add(new JLabel(&quot;Inputs panel&quot;));\n        panelSide.add(new JLabel(&quot;Side panel&quot;));\n\n        this.getContentPane().setLayout(new GridBagLayout());\n        this.getContentPane().add(panelInputs, new GridBagConstraints(0, 0, 3, 1, 1, 0, GridBagConstraints.WEST, GridBagConstraints.BOTH, new Insets(0, 0, 0, 0), 0, 0));\n        this.getContentPane().add(panelSide, new GridBagConstraints(0, 1, 1, 1, 1, 1, GridBagConstraints.WEST, GridBagConstraints.BOTH, new Insets(0, 0, 0, 0), 0, 0));\n        this.getContentPane().add(panelGraph, new GridBagConstraints(1, 1, 2, 1, 2, 2, GridBagConstraints.WEST, GridBagConstraints.BOTH, new Insets(0, 0, 0, 0), 0, 0));\n\n        this.setPreferredSize(new Dimension(1600, 900));\n        this.pack();\n    }\n\n    public static void main(String[] args) {\n        try {\n            UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n\n        TestFrame frame = new TestFrame();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n<hr />\n<p><strong>EDIT</strong> : I found the solution on the documentation of graphstream (<a href=\"https://graphstream-project.org/doc/Tutorials/Graph-Visualisation/1.0/\" rel=\"nofollow noreferrer\">https://graphstream-project.org/doc/Tutorials/Graph-Visualisation/1.0/</a>) in the <code>Automatic layout</code> section, when using a viewer you have to add <code>viewer.enableAutoLayout();</code> to display it correctly</p>\n<h2>New code with the solution:</h2>\n<h3>My custom panel:</h3>\n<pre><code>import org.graphstream.graph.implementations.SingleGraph;\nimport org.graphstream.ui.view.View;\nimport org.graphstream.ui.view.Viewer;\nimport javax.swing.*;\nimport java.awt.*;\n\npublic class PanelGraph extends JPanel {\n\n    public SingleGraph graph = new SingleGraph(&quot;Test graph&quot;);\n\n    public PanelGraph() {\n\n        graph.addNode(&quot;A&quot;);\n        graph.addNode(&quot;B&quot;);\n        graph.addNode(&quot;C&quot;);\n        graph.addEdge(&quot;AB&quot;, &quot;A&quot;, &quot;B&quot;);\n        graph.addEdge(&quot;BC&quot;, &quot;B&quot;, &quot;C&quot;);\n        graph.addEdge(&quot;CA&quot;, &quot;C&quot;, &quot;A&quot;);\n\n        graph.setStrict(false);\n        graph.setAutoCreate(true);\n\n        Viewer viewer = new Viewer(graph, Viewer.ThreadingModel.GRAPH_IN_GUI_THREAD);\n        viewer.enableAutoLayout();\n        View view = viewer.addDefaultView(false);\n        setLayout(new BorderLayout());\n        add((Component) view, BorderLayout.CENTER);\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":1,"creation_date":1650906779,"post_id":72002084,"comment_id":127229432,"body_markdown":"I think this shows you how to capture the JS Exceptions: https://www.selenium.dev/documentation/webdriver/bidirectional/bidi_api/#listen-to-js-exceptions  Maybe the &quot;console.log()s&quot; you&#39;re talking about come from the JS?","body":"I think this shows you how to capture the JS Exceptions: <a href=\"https://www.selenium.dev/documentation/webdriver/bidirectional/bidi_api/#listen-to-js-exceptions\" rel=\"nofollow noreferrer\">selenium.dev/documentation/webdriver/bidirectional/bidi_api/&zwnj;&#8203;&hellip;</a>  Maybe the &quot;console.log()s&quot; you&#39;re talking about come from the JS?"},{"owner":{"account_id":11902885,"reputation":373,"user_id":8710332,"display_name":"Panossa"},"score":1,"creation_date":1650973386,"post_id":72002084,"comment_id":127245885,"body_markdown":"It has nothing to do with JS but I&#39;ve actually found the solution when researching about the stuff you pointed me at, so thanks. :D (The solution was to use devTools.send(Runtime.enable)","body":"It has nothing to do with JS but I&#39;ve actually found the solution when researching about the stuff you pointed me at, so thanks. :D (The solution was to use devTools.send(Runtime.enable)"}],"owner":{"account_id":11902885,"reputation":373,"user_id":8710332,"display_name":"Panossa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":679,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651667362,"creation_date":1650900845,"question_id":72002084,"body_markdown":"I&#39;m currently working on a Selenium project and we&#39;ve just updated to the most recent version of Selenium.\r\nNow I wanted to output the result of my console.log()s into the Java console when executing the Selenium test but it seems like it&#39;s only logging some specific things.\r\n\r\nCode:\r\n```Java\r\nwebDriver = new ChromeDriver(options);\r\nfinal DevTools devTools = webDriver.getDevTools();\r\ndevTools.createSession();\r\ndevTools.send(Log.enable());\r\ndevTools.addListener(Log.entryAdded(), logEntry -&gt; {\r\n    LOG.info(&quot;[{}]: {}&quot;, logEntry.getLevel().toString().toUpperCase(), logEntry.getText());\r\n});\r\n```\r\n\r\nThough while my output in the Chrome window of the test contains `VERBOSE` messages, console.log()s and two kinds of errors (one `HTTP 500` error and one Angular error for something I&#39;ve done wrong), the only things that actually end up in my Java console are the `VERBOSE` messages and the `HTTP 500` error. Not even the Angular errors but definitely none of the console.log()s.\r\n\r\nHow do I fix that?","title":"Selenium DevTools should log ALL but only logs ERROR and VERBOSE, how come?","body":"<p>I'm currently working on a Selenium project and we've just updated to the most recent version of Selenium.\nNow I wanted to output the result of my console.log()s into the Java console when executing the Selenium test but it seems like it's only logging some specific things.</p>\n<p>Code:</p>\n<pre><code>webDriver = new ChromeDriver(options);\nfinal DevTools devTools = webDriver.getDevTools();\ndevTools.createSession();\ndevTools.send(Log.enable());\ndevTools.addListener(Log.entryAdded(), logEntry -&gt; {\n    LOG.info(&quot;[{}]: {}&quot;, logEntry.getLevel().toString().toUpperCase(), logEntry.getText());\n});\n</code></pre>\n<p>Though while my output in the Chrome window of the test contains <code>VERBOSE</code> messages, console.log()s and two kinds of errors (one <code>HTTP 500</code> error and one Angular error for something I've done wrong), the only things that actually end up in my Java console are the <code>VERBOSE</code> messages and the <code>HTTP 500</code> error. Not even the Angular errors but definitely none of the console.log()s.</p>\n<p>How do I fix that?</p>\n"},{"tags":["java","junit","mockito","spring-test"],"comments":[{"owner":{"account_id":2535057,"reputation":25845,"user_id":2202415,"display_name":"Maciej Kowalski"},"score":1,"creation_date":1565085310,"post_id":57373287,"comment_id":101231570,"body_markdown":"show us the test class and method","body":"show us the test class and method"}],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565085417,"creation_date":1565085417,"answer_id":57373463,"question_id":57373287,"body_markdown":"I believe, Hibernate creates some kind of proxy of `CompanyOwner`.\r\nThen it really depends on the code, the chances are that by the time you call the matcher the object is already detached from Hibernate Session. \r\nIn this case, you&#39;ll get the `LazyInitializationException` when you try to access fields like you&#39;ve mentioned.\r\n\r\nIts really impossible to understand out of the supplied code snipped why exactly the hibernate decides to wrap the object with proxy, I can only suggest to place a breakpoint in `matches` method to make sure that this is proxy indeed but then you&#39;ll have to figure out the reason for making this proxy.\r\n\r\nIf you see that proxy is indeed must be done in this case, probably the best would be &quot;re-attaching&quot; the object to the session. The exception should disappear however you&#39;ll probably see that hibernate issues a DB request in this case.\r\n\r\nYou might also be interested in [This thread][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3505423/hibernate-avoiding-lazyinitializationexception-detach-object-from-proxy-and","title":"Mockito argument matcher and hibernate lazyinitialization","body":"<p>I believe, Hibernate creates some kind of proxy of <code>CompanyOwner</code>.\nThen it really depends on the code, the chances are that by the time you call the matcher the object is already detached from Hibernate Session. \nIn this case, you'll get the <code>LazyInitializationException</code> when you try to access fields like you've mentioned.</p>\n\n<p>Its really impossible to understand out of the supplied code snipped why exactly the hibernate decides to wrap the object with proxy, I can only suggest to place a breakpoint in <code>matches</code> method to make sure that this is proxy indeed but then you'll have to figure out the reason for making this proxy.</p>\n\n<p>If you see that proxy is indeed must be done in this case, probably the best would be \"re-attaching\" the object to the session. The exception should disappear however you'll probably see that hibernate issues a DB request in this case.</p>\n\n<p>You might also be interested in <a href=\"https://stackoverflow.com/questions/3505423/hibernate-avoiding-lazyinitializationexception-detach-object-from-proxy-and\">This thread</a></p>\n"},{"tags":[],"owner":{"account_id":1293962,"reputation":625,"user_id":1245508,"accept_rate":75,"display_name":"mojjj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651667332,"creation_date":1651667332,"answer_id":72113007,"question_id":57373287,"body_markdown":"if your object looks like it is proxied by hibernate (not yet fetched from DB because the entity is marked as LAZY), you can find out and force unproxy like this:\r\n\r\n\r\n    public &lt;T extends BaseObject&gt; T unproxy(final T arg) {\r\n            if (arg instanceof HibernateProxy) {\r\n                return (T) Hibernate.unproxy(arg);\r\n            }\r\n            return arg;\r\n        }","title":"Mockito argument matcher and hibernate lazyinitialization","body":"<p>if your object looks like it is proxied by hibernate (not yet fetched from DB because the entity is marked as LAZY), you can find out and force unproxy like this:</p>\n<pre><code>public &lt;T extends BaseObject&gt; T unproxy(final T arg) {\n        if (arg instanceof HibernateProxy) {\n            return (T) Hibernate.unproxy(arg);\n        }\n        return arg;\n    }\n</code></pre>\n"}],"owner":{"account_id":2104125,"reputation":2456,"user_id":1870913,"accept_rate":62,"display_name":"Andrey Yaskulsky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":362,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1651667332,"creation_date":1565084852,"question_id":57373287,"body_markdown":"I&#39;ve created the following captor:\r\n\r\n    public class CompanyOwnerMatcher extends ArgumentMatcher&lt;CompanyOwner&gt; {\r\n    \r\n        private String uuid;\r\n    \r\n        CompanyOwnerMatcher(String uuid) {\r\n            this.uuid = uuid;\r\n        }\r\n    \r\n        @Override\r\n        public boolean matches(Object arg) {\r\n            if (!(arg instanceof CompanyOwner)) return false;\r\n            CompanyOwner owner = (CompanyOwner) arg;\r\n            return Objects.equals(uuid, owner.getUuid());\r\n        }\r\n    }\r\n\r\nI get an exception in this code:\r\n\r\n    Mockito.verify(payInApi).submit(eq(1L), argThat(new CompanyOwnerMatcher(expectedOwnerUuid)));\r\n    \r\n    org.hibernate.LazyInitializationException: could not initialize proxy - no Session\r\n    \r\n    \tat org.hibernate.proxy.AbstractLazyInitializer.initialize(AbstractLazyInitializer.java:148)\r\n    \tat org.hibernate.proxy.AbstractLazyInitializer.getImplementation(AbstractLazyInitializer.java:266)\r\n\r\n`CompanyOwner` is managed by hibernate. It&#39;s weird, but after I catch a `CompanyOwner`, I can&#39;t get any field values on it because I get `LazyInitializationException`, even on fields that are not marked as Lazy.\r\n\r\nWould appreciate any help with regards to this problem.\r\n\r\nThanks!\r\n","title":"Mockito argument matcher and hibernate lazyinitialization","body":"<p>I've created the following captor:</p>\n\n<pre><code>public class CompanyOwnerMatcher extends ArgumentMatcher&lt;CompanyOwner&gt; {\n\n    private String uuid;\n\n    CompanyOwnerMatcher(String uuid) {\n        this.uuid = uuid;\n    }\n\n    @Override\n    public boolean matches(Object arg) {\n        if (!(arg instanceof CompanyOwner)) return false;\n        CompanyOwner owner = (CompanyOwner) arg;\n        return Objects.equals(uuid, owner.getUuid());\n    }\n}\n</code></pre>\n\n<p>I get an exception in this code:</p>\n\n<pre><code>Mockito.verify(payInApi).submit(eq(1L), argThat(new CompanyOwnerMatcher(expectedOwnerUuid)));\n\norg.hibernate.LazyInitializationException: could not initialize proxy - no Session\n\n    at org.hibernate.proxy.AbstractLazyInitializer.initialize(AbstractLazyInitializer.java:148)\n    at org.hibernate.proxy.AbstractLazyInitializer.getImplementation(AbstractLazyInitializer.java:266)\n</code></pre>\n\n<p><code>CompanyOwner</code> is managed by hibernate. It's weird, but after I catch a <code>CompanyOwner</code>, I can't get any field values on it because I get <code>LazyInitializationException</code>, even on fields that are not marked as Lazy.</p>\n\n<p>Would appreciate any help with regards to this problem.</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","intellij-idea","cucumber"],"answers":[{"tags":[],"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1584184698,"creation_date":1584184698,"answer_id":60682134,"question_id":60675464,"body_markdown":"You&#39;re trying to turn a data table into a list of strings. Because lists are vertical and because `String` can take up exactly one cell Cucumber expects that you have a table that has exactly one column.\r\n\r\n```gherkin\r\n| admin    |\r\n| pass1234 | \r\n```\r\n\r\nBut you can also transpose the data table:\r\n\r\n```java\r\nList&lt;String&gt; list = dt.transpose().asList(String.class)\r\n```\r\n\r\nOr simply access the cells directly:\r\n\r\n```\r\nString username = dt.cell(0,0);\r\nString password = dt.cell(0,1);\r\n```","title":"Cucumber: Can&#39;t convert DataTable to List&lt;java.lang.String&gt;. There was a table cell converter but the table was too wide to use it","body":"<p>You're trying to turn a data table into a list of strings. Because lists are vertical and because <code>String</code> can take up exactly one cell Cucumber expects that you have a table that has exactly one column.</p>\n\n<pre><code>| admin    |\n| pass1234 | \n</code></pre>\n\n<p>But you can also transpose the data table:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; list = dt.transpose().asList(String.class)\n</code></pre>\n\n<p>Or simply access the cells directly:</p>\n\n<pre><code>String username = dt.cell(0,0);\nString password = dt.cell(0,1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3745896,"reputation":2369,"user_id":3114566,"display_name":"ahll"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584358951,"creation_date":1584358951,"answer_id":60705344,"question_id":60675464,"body_markdown":"Just use :\r\n\r\n    List&lt;String&gt; userAndPassword = db.row(0)","title":"Cucumber: Can&#39;t convert DataTable to List&lt;java.lang.String&gt;. There was a table cell converter but the table was too wide to use it","body":"<p>Just use :</p>\n\n<pre><code>List&lt;String&gt; userAndPassword = db.row(0)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10413480,"reputation":3922,"user_id":10950272,"display_name":"makozaki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607010178,"creation_date":1607010178,"answer_id":65129205,"question_id":60675464,"body_markdown":"Using `asList()` method without class type argument does the job.\r\n\r\n`dt.asList(String.class)` -&gt; `dt.asList()`\r\n\r\n```java\r\n    /**\r\n     * Returns a list view on the table. Contains the cells ordered from\r\n     * left to right, top to bottom starting at the top left.\r\n     *\r\n     * @return the cells of the table\r\n     */\r\n    public List&lt;String&gt; asList() {\r\n        return new ListView();\r\n    }\r\n```\r\n\r\nTest feature:\r\n```feature\r\n  Scenario: Testing DataTable asList method\r\n    When I will pass list o strings\r\n      | a | b |\r\n    When I will pass list o strings\r\n      | a |\r\n      | b |\r\n    When I will pass list o strings\r\n      | a | b |\r\n      | a | b |\r\n    When I will pass list o strings\r\n      | a | a |\r\n      | b | b |\r\n```\r\nStep definition:\r\n```java\r\n   @When(&quot;^I will pass list o strings$&quot;)\r\n    public void i_will_pass_list_o_strings(DataTable arg1) throws Throwable {\r\n        System.out.println(arg1);\r\n        System.out.println(arg1.asList());\r\n    }\r\n```\r\nThis produces:\r\n```\r\n      | a | b |\r\n[a, b]\r\n\r\n      | a |\r\n      | b |\r\n[a, b]\r\n\r\n      | a | b |\r\n      | a | b |\r\n[a, b, a, b]\r\n\r\n      | a | a |\r\n      | b | b |\r\n[a, a, b, b]\r\n```","title":"Cucumber: Can&#39;t convert DataTable to List&lt;java.lang.String&gt;. There was a table cell converter but the table was too wide to use it","body":"<p>Using <code>asList()</code> method without class type argument does the job.</p>\n<p><code>dt.asList(String.class)</code> -&gt; <code>dt.asList()</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>    /**\n     * Returns a list view on the table. Contains the cells ordered from\n     * left to right, top to bottom starting at the top left.\n     *\n     * @return the cells of the table\n     */\n    public List&lt;String&gt; asList() {\n        return new ListView();\n    }\n</code></pre>\n<p>Test feature:</p>\n<pre><code>  Scenario: Testing DataTable asList method\n    When I will pass list o strings\n      | a | b |\n    When I will pass list o strings\n      | a |\n      | b |\n    When I will pass list o strings\n      | a | b |\n      | a | b |\n    When I will pass list o strings\n      | a | a |\n      | b | b |\n</code></pre>\n<p>Step definition:</p>\n<pre class=\"lang-java prettyprint-override\"><code>   @When(&quot;^I will pass list o strings$&quot;)\n    public void i_will_pass_list_o_strings(DataTable arg1) throws Throwable {\n        System.out.println(arg1);\n        System.out.println(arg1.asList());\n    }\n</code></pre>\n<p>This produces:</p>\n<pre><code>      | a | b |\n[a, b]\n\n      | a |\n      | b |\n[a, b]\n\n      | a | b |\n      | a | b |\n[a, b, a, b]\n\n      | a | a |\n      | b | b |\n[a, a, b, b]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17968733,"reputation":31,"user_id":13058053,"display_name":"Manju"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1621696518,"creation_date":1621696518,"answer_id":67651101,"question_id":60675464,"body_markdown":"Use **asLists** insted of **asList** to work","title":"Cucumber: Can&#39;t convert DataTable to List&lt;java.lang.String&gt;. There was a table cell converter but the table was too wide to use it","body":"<p>Use <strong>asLists</strong> insted of <strong>asList</strong> to work</p>\n"},{"tags":[],"owner":{"account_id":7845763,"reputation":111,"user_id":11575886,"display_name":"Gaurav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637334519,"creation_date":1637221136,"answer_id":70016080,"question_id":60675464,"body_markdown":"As you were using asList() method which will return List of Strings. Instead of that you should use asLists() method which will return List of List of Strings. As shown in below code-\r\n```\r\npublic void user_enters_following_user_details(DataTable dataTable) {\r\n\t\tList&lt;List&lt;String&gt;&gt; userDataList=dataTable.asLists(String.class);\r\n\t\tfor(List&lt;String&gt; e:userDataList) {\r\n\t\t\tSystem.out.println(e);\r\n\t\t}\r\n```","title":"Cucumber: Can&#39;t convert DataTable to List&lt;java.lang.String&gt;. There was a table cell converter but the table was too wide to use it","body":"<p>As you were using asList() method which will return List of Strings. Instead of that you should use asLists() method which will return List of List of Strings. As shown in below code-</p>\n<pre><code>public void user_enters_following_user_details(DataTable dataTable) {\n        List&lt;List&lt;String&gt;&gt; userDataList=dataTable.asLists(String.class);\n        for(List&lt;String&gt; e:userDataList) {\n            System.out.println(e);\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13038717,"reputation":11,"user_id":9422738,"display_name":"ThijsFreeze"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651667057,"creation_date":1651666711,"answer_id":72112858,"question_id":60675464,"body_markdown":"You are trying to convert a io.Cucumber.DataTable into a list of Strings, however your DataTable contains 2 columns. Using the asList() method only works on DataTables which have 1 column, hence the error message indicating that the table is too wide to convert.\r\n\r\nYou can convert your Datatable with 2 columns by using the asLists method:\r\n\r\n````\r\nList&lt;List&lt;String&gt;&gt; list = dt.asLists(String.class);\r\n\r\nSystem.out.println(&quot;Username - &quot; + list.get(0).get(0));\r\nSystem.out.println(&quot;Password - &quot; + list.get(0).get(1));\r\n````\r\n\r\nHowever this can get quite confusing to read. I would recommend using headings and converting the DataTable using the asMaps() method:\r\n\r\n````\r\nScenario: Login to application\r\nGiven I open my application\r\nAnd I login with following credentials \r\n| username | password |\r\n| admin    | pass1234 |\r\n````\r\n\r\n````\r\nList&lt;Map&lt;String, String&gt;&gt; rows = dt.asMaps(String.class, String.class);\r\nSystem.out.println(&quot;Username - &quot; + rows.get(0).get(&quot;username&quot;));\r\nSystem.out.println(&quot;Password - &quot; + rows.get(0).get(&quot;password&quot;));\r\n````\r\n\r\nA good introduction on how to work with Cucumber DataTables is this Baeldung article:\r\nhttps://www.baeldung.com/cucumber-data-tables\r\n","title":"Cucumber: Can&#39;t convert DataTable to List&lt;java.lang.String&gt;. There was a table cell converter but the table was too wide to use it","body":"<p>You are trying to convert a io.Cucumber.DataTable into a list of Strings, however your DataTable contains 2 columns. Using the asList() method only works on DataTables which have 1 column, hence the error message indicating that the table is too wide to convert.</p>\n<p>You can convert your Datatable with 2 columns by using the asLists method:</p>\n<pre><code>List&lt;List&lt;String&gt;&gt; list = dt.asLists(String.class);\n\nSystem.out.println(&quot;Username - &quot; + list.get(0).get(0));\nSystem.out.println(&quot;Password - &quot; + list.get(0).get(1));\n</code></pre>\n<p>However this can get quite confusing to read. I would recommend using headings and converting the DataTable using the asMaps() method:</p>\n<pre><code>Scenario: Login to application\nGiven I open my application\nAnd I login with following credentials \n| username | password |\n| admin    | pass1234 |\n</code></pre>\n<pre><code>List&lt;Map&lt;String, String&gt;&gt; rows = dt.asMaps(String.class, String.class);\nSystem.out.println(&quot;Username - &quot; + rows.get(0).get(&quot;username&quot;));\nSystem.out.println(&quot;Password - &quot; + rows.get(0).get(&quot;password&quot;));\n</code></pre>\n<p>A good introduction on how to work with Cucumber DataTables is this Baeldung article:\n<a href=\"https://www.baeldung.com/cucumber-data-tables\" rel=\"nofollow noreferrer\">https://www.baeldung.com/cucumber-data-tables</a></p>\n"}],"owner":{"account_id":17968873,"reputation":93,"user_id":13058157,"display_name":"Bob Bolden"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10592,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":6,"score":6,"last_activity_date":1651667057,"creation_date":1584123626,"question_id":60675464,"body_markdown":"Feature file:\r\n\r\n    Scenario: Login to application\r\n    Given I open my application\r\n    And I login with following credentials \r\n    | admin | pass1234 |\r\n\r\nStepDefs:\r\n\r\n    @When(&quot;^I login with following credentials$&quot;)\r\n    public void i_login_with_following_credentials(DataTable dt) {\r\n        List&lt;String&gt; list = dt.asList(String.class);\r\n        System.out.println(&quot;Username - &quot; + list.get(0));\r\n        System.out.println(&quot;Password - &quot; + list.get(1));\r\n    }\r\n\r\nThe error:\r\n\r\n    io.cucumber.datatable.UndefinedDataTableTypeException: Can&#39;t convert DataTable to List&lt;java.lang.String&gt;.\r\n    There was a table cell converter but the table was too wide to use it.\r\n    Please reduce the table width or register a TableEntryTransformer or TableRowTransformer for java.lang.String.\r\n\r\n    &lt;cucumber.version&gt;5.4.1&lt;/cucumber.version&gt;\r\n    &lt;junit.version&gt;4.13&lt;/junit.version&gt;\r\n\r\nCould you please advice? What exactly should be added? Thank you.","title":"Cucumber: Can&#39;t convert DataTable to List&lt;java.lang.String&gt;. There was a table cell converter but the table was too wide to use it","body":"<p>Feature file:</p>\n\n<pre><code>Scenario: Login to application\nGiven I open my application\nAnd I login with following credentials \n| admin | pass1234 |\n</code></pre>\n\n<p>StepDefs:</p>\n\n<pre><code>@When(\"^I login with following credentials$\")\npublic void i_login_with_following_credentials(DataTable dt) {\n    List&lt;String&gt; list = dt.asList(String.class);\n    System.out.println(\"Username - \" + list.get(0));\n    System.out.println(\"Password - \" + list.get(1));\n}\n</code></pre>\n\n<p>The error:</p>\n\n<pre><code>io.cucumber.datatable.UndefinedDataTableTypeException: Can't convert DataTable to List&lt;java.lang.String&gt;.\nThere was a table cell converter but the table was too wide to use it.\nPlease reduce the table width or register a TableEntryTransformer or TableRowTransformer for java.lang.String.\n\n&lt;cucumber.version&gt;5.4.1&lt;/cucumber.version&gt;\n&lt;junit.version&gt;4.13&lt;/junit.version&gt;\n</code></pre>\n\n<p>Could you please advice? What exactly should be added? Thank you.</p>\n"},{"tags":["java","here-api"],"answers":[{"tags":[],"owner":{"account_id":6810725,"reputation":1662,"user_id":5241028,"display_name":"David Leong"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1553873345,"creation_date":1553873345,"answer_id":55420749,"question_id":55419551,"body_markdown":"I think what you are looking for is the Navigation manager&#39;s unit settings: https://developer.here.com/documentation/android-premium/content/api_reference_java/com/here/android/mpa/guidance/NavigationManager.UnitSystem.html#IMPERIAL\r\n\r\nYou need to do this:\r\nnavigationManager.setDistanceUnit(NavigationManager.IMPERIAL);\r\n\r\nhttps://developer.here.com/documentation/android-premium/content/api_reference_java/com/here/android/mpa/guidance/NavigationManager.html#setDistanceUnit-com.here.android.mpa.guidance.NavigationManager.UnitSystem-","title":"Here map SDK for android voice catalog speaking in miles or feet&#39;s instead of meters","body":"<p>I think what you are looking for is the Navigation manager's unit settings: <a href=\"https://developer.here.com/documentation/android-premium/content/api_reference_java/com/here/android/mpa/guidance/NavigationManager.UnitSystem.html#IMPERIAL\" rel=\"nofollow noreferrer\">https://developer.here.com/documentation/android-premium/content/api_reference_java/com/here/android/mpa/guidance/NavigationManager.UnitSystem.html#IMPERIAL</a></p>\n\n<p>You need to do this:\nnavigationManager.setDistanceUnit(NavigationManager.IMPERIAL);</p>\n\n<p><a href=\"https://developer.here.com/documentation/android-premium/content/api_reference_java/com/here/android/mpa/guidance/NavigationManager.html#setDistanceUnit-com.here.android.mpa.guidance.NavigationManager.UnitSystem-\" rel=\"nofollow noreferrer\">https://developer.here.com/documentation/android-premium/content/api_reference_java/com/here/android/mpa/guidance/NavigationManager.html#setDistanceUnit-com.here.android.mpa.guidance.NavigationManager.UnitSystem-</a></p>\n"},{"tags":[],"owner":{"account_id":11788818,"reputation":257,"user_id":8625610,"display_name":"artonbej"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651666752,"creation_date":1651666752,"answer_id":72112872,"question_id":55419551,"body_markdown":"It&#39;s a bit late but just leaving solution here for anyone else.\r\n\r\nfor Android:\r\n\r\n    navigationManager.setDistanceUnit(NavigationManager.UnitSystem.IMPERIAL_US);\r\n\r\nFor IOS\r\n\r\n    self.navigationManager.voicePackageMeasurementSystem = .imperialUS\r\n","title":"Here map SDK for android voice catalog speaking in miles or feet&#39;s instead of meters","body":"<p>It's a bit late but just leaving solution here for anyone else.</p>\n<p>for Android:</p>\n<pre><code>navigationManager.setDistanceUnit(NavigationManager.UnitSystem.IMPERIAL_US);\n</code></pre>\n<p>For IOS</p>\n<pre><code>self.navigationManager.voicePackageMeasurementSystem = .imperialUS\n</code></pre>\n"}],"owner":{"account_id":11788818,"reputation":257,"user_id":8625610,"display_name":"artonbej"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":55420749,"answer_count":2,"score":0,"last_activity_date":1651666752,"creation_date":1553869590,"question_id":55419551,"body_markdown":"Does here SDK for android and ios provide voice speaking in feet&#39;s or miles instead of meters? \r\n\r\nFor example while navigation is running and the speaker says &quot;In 100 meters you will arrive at your destination&quot; I want instead of meters to say &quot;In 100 feet&#39;s you will arrive at your destination&quot;","title":"Here map SDK for android voice catalog speaking in miles or feet&#39;s instead of meters","body":"<p>Does here SDK for android and ios provide voice speaking in feet's or miles instead of meters? </p>\n\n<p>For example while navigation is running and the speaker says \"In 100 meters you will arrive at your destination\" I want instead of meters to say \"In 100 feet's you will arrive at your destination\"</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":435234,"reputation":8791,"user_id":821722,"accept_rate":86,"display_name":"thatidiotguy"},"score":3,"creation_date":1373649796,"post_id":17620531,"comment_id":25650855,"body_markdown":"What is incorrect about your WAR file? Perhaps that will give us some hints. Also, just so you know running `mvn --version` on my Windows 7 box gives me the same output (except with Java 7) and my war files build fine.","body":"What is incorrect about your WAR file? Perhaps that will give us some hints. Also, just so you know running <code>mvn --version</code> on my Windows 7 box gives me the same output (except with Java 7) and my war files build fine."},{"owner":{"account_id":96837,"reputation":94466,"user_id":263004,"accept_rate":96,"display_name":"Vivin Paliath"},"score":4,"creation_date":1373649870,"post_id":17620531,"comment_id":25650904,"body_markdown":"I don&#39;t think maven is the source of your problem. Running `mvn -version` on my Linux box shows Java home as `/usr/local/java/7u25/jre`. What do you mean by &quot;maven isn&#39;t building my war file correctly&quot;. Have you compared the two war files to see what&#39;s different?","body":"I don&#39;t think maven is the source of your problem. Running <code>mvn -version</code> on my Linux box shows Java home as <code>&#47;usr&#47;local&#47;java&#47;7u25&#47;jre</code>. What do you mean by &quot;maven isn&#39;t building my war file correctly&quot;. Have you compared the two war files to see what&#39;s different?"},{"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"score":1,"creation_date":1373650121,"post_id":17620531,"comment_id":25651038,"body_markdown":"Maven (`mvn`) is a shell script; it&#39;s just telling you what jre it&#39;s using to actually do stuff. The output you post is exactly what it should be.","body":"Maven (<code>mvn</code>) is a shell script; it&#39;s just telling you what jre it&#39;s using to actually do stuff. The output you post is exactly what it should be."},{"owner":{"account_id":101064,"reputation":12650,"user_id":272075,"accept_rate":100,"display_name":"Thorn G"},"score":2,"creation_date":1373650287,"post_id":17620531,"comment_id":25651121,"body_markdown":"Maven is correct -- it&#39;s using the jdk, as you can see from `jdk1.6.0_45`. What is the actual problem you are observing with your build?","body":"Maven is correct -- it&#39;s using the jdk, as you can see from <code>jdk1.6.0_45</code>. What is the actual problem you are observing with your build?"},{"owner":{"account_id":1641190,"reputation":2546,"user_id":1513568,"display_name":"Joshua Wilson"},"score":1,"creation_date":1373650336,"post_id":17620531,"comment_id":25651143,"body_markdown":"Can you please confirm that your pom.xml and setting.xml files are the same?","body":"Can you please confirm that your pom.xml and setting.xml files are the same?"},{"owner":{"account_id":53105,"reputation":5002,"user_id":158730,"accept_rate":62,"display_name":"Jay"},"score":0,"creation_date":1373650966,"post_id":17620531,"comment_id":25651427,"body_markdown":"pom.xml and settings.xml are both the same.  Concerning the .war file not being compiled correctly, unfortunately no errors are thrown to tomcat logs, and the browser shows a generic &quot;there was a problem&quot; type error.  And with everything pretty much being the same between our two systems, we are working under the presumptions my box isn&#39;t compiling the code correctly.","body":"pom.xml and settings.xml are both the same.  Concerning the .war file not being compiled correctly, unfortunately no errors are thrown to tomcat logs, and the browser shows a generic &quot;there was a problem&quot; type error.  And with everything pretty much being the same between our two systems, we are working under the presumptions my box isn&#39;t compiling the code correctly."},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":1,"creation_date":1413121205,"post_id":17620531,"comment_id":41315742,"body_markdown":"you should maybe un-accept the accepted answer here as it is not related to the problem you&#39;re having...","body":"you should maybe un-accept the accepted answer here as it is not related to the problem you&#39;re having..."},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":2,"creation_date":1413121496,"post_id":17620531,"comment_id":41315823,"body_markdown":"also, you should add what does &quot;.war doesn&#39;t build correctly&quot; actually mean, preferrably with a test case. It&#39;s really hard to have an answer without it.","body":"also, you should add what does &quot;.war doesn&#39;t build correctly&quot; actually mean, preferrably with a test case. It&#39;s really hard to have an answer without it."},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":1,"creation_date":1420669987,"post_id":17620531,"comment_id":44065684,"body_markdown":"It&#39;s been a while since this question was asked, and it may be the case that you no longer work at wherever you ran into this, but could you fill in some more details?  Do you remember what errors you were getting?  What did you do to verify that it wasn&#39;t building correctly?","body":"It&#39;s been a while since this question was asked, and it may be the case that you no longer work at wherever you ran into this, but could you fill in some more details?  Do you remember what errors you were getting?  What did you do to verify that it wasn&#39;t building correctly?"},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1424680441,"post_id":17620531,"comment_id":45633268,"body_markdown":"There hasn&#39;t been any feedback, so like [discussed in meta](http://meta.stackoverflow.com/questions/274315/should-this-question-be-edited-closed-or-what), I&#39;m suggesting people to vote to close this as unclear as there is no way to answer the question as it stands. I cannot do that myself as I&#39;ve already voted to close this before.","body":"There hasn&#39;t been any feedback, so like <a href=\"http://meta.stackoverflow.com/questions/274315/should-this-question-be-edited-closed-or-what\">discussed in meta</a>, I&#39;m suggesting people to vote to close this as unclear as there is no way to answer the question as it stands. I cannot do that myself as I&#39;ve already voted to close this before."},{"owner":{"account_id":53105,"reputation":5002,"user_id":158730,"accept_rate":62,"display_name":"Jay"},"score":0,"creation_date":1424886577,"post_id":17620531,"comment_id":45738614,"body_markdown":"Juned Ahsan was the answer I was looking for.  It&#39;s been a while since I asked this so I forget some details.","body":"Juned Ahsan was the answer I was looking for.  It&#39;s been a while since I asked this so I forget some details."},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1442478343,"post_id":17620531,"comment_id":53101230,"body_markdown":"That can&#39;t be true as setting `java.home` property makes no sense, and like explained, it cannot be related to actual problem (whichever it may be).","body":"That can&#39;t be true as setting <code>java.home</code> property makes no sense, and like explained, it cannot be related to actual problem (whichever it may be)."}],"answers":[{"tags":[],"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1621553148,"creation_date":1373650070,"answer_id":17620644,"question_id":17620531,"body_markdown":"From the [Maven Properties Guide:][1]\r\n\r\n&gt; ${java.home} specifies the path to the current JRE_HOME environment\r\n&gt; use with relative paths to get for example:\r\n&gt; &lt;jvm&gt;${java.home}../bin/java.exe&lt;/jvm&gt;\r\n\r\n`java.home` property is not the same thing as JAVA_HOME environment setting. It is actually dynamic property showing you which JRE is running your code.&#160;\r\n\r\n\r\nTry setting the java.home property correctly and see if it works.\r\n\r\n\r\n  [1]: https://web.archive.org/web/20150520200505if_/https://docs.codehaus.org/display/MAVENUSER/MavenPropertiesGuide","title":"Maven pointing to JRE instead of jdk","body":"<p>From the <a href=\"https://web.archive.org/web/20150520200505if_/https://docs.codehaus.org/display/MAVENUSER/MavenPropertiesGuide\" rel=\"nofollow noreferrer\">Maven Properties Guide:</a></p>\n<blockquote>\n<p>${java.home} specifies the path to the current JRE_HOME environment\nuse with relative paths to get for example:\n${java.home}../bin/java.exe</p>\n</blockquote>\n<p><code>java.home</code> property is not the same thing as JAVA_HOME environment setting. It is actually dynamic property showing you which JRE is running your code.</p>\n<p>Try setting the java.home property correctly and see if it works.</p>\n"},{"tags":[],"owner":{"account_id":49583,"reputation":386,"user_id":147649,"display_name":"r4ge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1441099622,"creation_date":1441099622,"answer_id":32327993,"question_id":17620531,"body_markdown":"Windows CMD don&#39;t refresh environment variables and you need run new instance for applying new environment setting and refresh new variable JAVA_HOME.","title":"Maven pointing to JRE instead of jdk","body":"<p>Windows CMD don't refresh environment variables and you need run new instance for applying new environment setting and refresh new variable JAVA_HOME.</p>\n"},{"tags":[],"owner":{"account_id":3333666,"reputation":2544,"user_id":2801909,"accept_rate":33,"display_name":"Vijay Nandwana"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1488782543,"creation_date":1488782543,"answer_id":42619113,"question_id":17620531,"body_markdown":"In Eclipse, Window&gt;Preferences&gt;Java&gt;Installed JREs&gt; make sure jdk is present and selected. \r\n\r\n**If jdk and jre both are present, then delete jre from Installed JREs.**","title":"Maven pointing to JRE instead of jdk","body":"<p>In Eclipse, Window>Preferences>Java>Installed JREs> make sure jdk is present and selected. </p>\n\n<p><strong>If jdk and jre both are present, then delete jre from Installed JREs.</strong></p>\n"},{"tags":[],"owner":{"account_id":12058232,"reputation":1,"user_id":8818197,"display_name":"Navneet Agarwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508750436,"creation_date":1508748686,"answer_id":46885299,"question_id":17620531,"body_markdown":"Once you have the JDK installation path:\r\n\r\n 1. Right-click the My Computer icon on your desktop and select Properties.\r\n 2. Click the Advanced tab.\r\n 3. Click the Environment Variables button.\r\n 4. Under System Variables, click New.\r\n 5. Enter the variable name as JAVA_HOME.\r\n 6. Enter the variable value (one of the paths mentioned above) as the installation path for the Java Development Kit.\r\n 7. Click OK.\r\n 8. Click Apply Changes.\r\n\r\nYou might need to restart windows.\r\n\r\nThis worked for me.","title":"Maven pointing to JRE instead of jdk","body":"<p>Once you have the JDK installation path:</p>\n\n<ol>\n<li>Right-click the My Computer icon on your desktop and select Properties.</li>\n<li>Click the Advanced tab.</li>\n<li>Click the Environment Variables button.</li>\n<li>Under System Variables, click New.</li>\n<li>Enter the variable name as JAVA_HOME.</li>\n<li>Enter the variable value (one of the paths mentioned above) as the installation path for the Java Development Kit.</li>\n<li>Click OK.</li>\n<li>Click Apply Changes.</li>\n</ol>\n\n<p>You might need to restart windows.</p>\n\n<p>This worked for me.</p>\n"},{"tags":[],"owner":{"account_id":12808322,"reputation":186,"user_id":9267309,"display_name":"Gadhia Reema"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1533636718,"creation_date":1533636718,"answer_id":51724211,"question_id":17620531,"body_markdown":"You can replace the environment from jre to jdk in Eclipse IDE as follows if it also shows compiler unavailable :\r\n\r\n - (right-click) your_project_name &gt; Build Path &gt; Configure Build Path &gt; Libraries &gt;\r\n   (double-click) JRE System Libraries &gt; Alternate Jre : jdk 1.8 &gt;ok\r\n - Then from Installed JRES option in Libraries select jdk 1.8\r\n - Project &gt; Clean\r\n - Maven &gt; Update","title":"Maven pointing to JRE instead of jdk","body":"<p>You can replace the environment from jre to jdk in Eclipse IDE as follows if it also shows compiler unavailable :</p>\n\n<ul>\n<li>(right-click) your_project_name > Build Path > Configure Build Path > Libraries >\n(double-click) JRE System Libraries > Alternate Jre : jdk 1.8 >ok</li>\n<li>Then from Installed JRES option in Libraries select jdk 1.8</li>\n<li>Project > Clean</li>\n<li>Maven > Update</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":9275935,"reputation":270,"user_id":6888598,"display_name":"yasin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549591695,"creation_date":1549591695,"answer_id":54585150,"question_id":17620531,"body_markdown":"You can modify it on this window:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ORFWT.png","title":"Maven pointing to JRE instead of jdk","body":"<p>You can modify it on this window:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ORFWT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ORFWT.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585918269,"creation_date":1585687079,"answer_id":60959491,"question_id":17620531,"body_markdown":"This error also occurs, if you have variable named as `javapath`. Try to delete it, if you&#39;ve already specified e.g. like JAVA_HOME -&gt; `&quot;C:\\Program Files\\Java\\jdk1.8.0_171&quot;`\r\nand then in Path -&gt; `&quot;%JAVA_HOME%\\bin&quot;` ","title":"Maven pointing to JRE instead of jdk","body":"<p>This error also occurs, if you have variable named as <code>javapath</code>. Try to delete it, if you've already specified e.g. like JAVA_HOME -> <code>\"C:\\Program Files\\Java\\jdk1.8.0_171\"</code>\nand then in Path -> <code>\"%JAVA_HOME%\\bin\"</code> </p>\n"},{"tags":[],"owner":{"account_id":22015844,"reputation":1,"user_id":16285360,"display_name":"Nerd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651666446,"creation_date":1651666446,"answer_id":72112798,"question_id":17620531,"body_markdown":"In my test, you only need to make sure the `Java home` output of `mvn -version` be the jre in your jdk home, That&#39;s the only way make maven work.","title":"Maven pointing to JRE instead of jdk","body":"<p>In my test, you only need to make sure the <code>Java home</code> output of <code>mvn -version</code> be the jre in your jdk home, That's the only way make maven work.</p>\n"}],"owner":{"account_id":53105,"reputation":5002,"user_id":158730,"accept_rate":62,"display_name":"Jay"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78118,"favorite_count":0,"down_vote_count":8,"up_vote_count":30,"accepted_answer_id":17620644,"answer_count":8,"score":22,"last_activity_date":1651666446,"creation_date":1373649652,"question_id":17620531,"body_markdown":"I&#39;ve been working with a co-worker on a problem I have been experiencing on a new project I just joined.  Long story short, maven isn&#39;t building my .war file correctly.  When I give my co-worker my war file, he experiences the same problem I have, and when he gives me his compiled .war file, everything works.  We are both working with the same source.  So, I am trying to get maven setup correctly (the same as his), we both have the same version of maven now.  However, I think maven is looking at the java_home incorrectly.\r\n\r\nwhen I do an  mvn -version command, I get the following:\r\n\r\n    C:\\java\\KME_workspace\\CU-KME&gt;mvn -version\r\n    Apache Maven 3.0.4 (r1232337; 2012-01-17 03:44:56-0500)\r\n    Maven home: C:\\java\\tools\\apache-maven-3.0.4\r\n    Java version: 1.6.0_45, vendor: Sun Microsystems Inc.\r\n    Java home: C:\\java\\jdks\\jdk1.6.0_45\\jre\r\n    Default locale: en_US, platform encoding: Cp1252\r\n    OS name: &quot;windows 7&quot;, version: &quot;6.1&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\r\n\r\nMy system&#39;s JAVA_HOME variable is set correctly to C:\\java\\jdks\\jdk1.6.0_45.\r\n\r\nAnyone know my maven is looking at the jre, and how do I set it correctly back to the JDK?  It&#39;s possible I am looking at the problem in correctly too, so if you have any ideas, that would be great.\r\n\r\nThanks.\r\n\r\n-------------------------------------------------------\r\n\r\nAs some noted, the JRE reference in the java home in the maven version was a red herring rabbit hole on my part.  Upon further testing I have some new interesting information.  I am running maven commands directly from the command line.  I check out code from our svn repository with eclipse, and try to run a maven package on that code, and the .war doesn&#39;t build correctly.  However, if I do a team export in eclipse to a new directory, and the run the maven package on that, it builds the .war fine and works perfectly.  As I understand it, the team export in eclipse removes all the subversion files in the exported directory.  Anyone have any ideas on how to solve this?\r\n","title":"Maven pointing to JRE instead of jdk","body":"<p>I've been working with a co-worker on a problem I have been experiencing on a new project I just joined.  Long story short, maven isn't building my .war file correctly.  When I give my co-worker my war file, he experiences the same problem I have, and when he gives me his compiled .war file, everything works.  We are both working with the same source.  So, I am trying to get maven setup correctly (the same as his), we both have the same version of maven now.  However, I think maven is looking at the java_home incorrectly.</p>\n\n<p>when I do an  mvn -version command, I get the following:</p>\n\n<pre><code>C:\\java\\KME_workspace\\CU-KME&gt;mvn -version\nApache Maven 3.0.4 (r1232337; 2012-01-17 03:44:56-0500)\nMaven home: C:\\java\\tools\\apache-maven-3.0.4\nJava version: 1.6.0_45, vendor: Sun Microsystems Inc.\nJava home: C:\\java\\jdks\\jdk1.6.0_45\\jre\nDefault locale: en_US, platform encoding: Cp1252\nOS name: \"windows 7\", version: \"6.1\", arch: \"amd64\", family: \"windows\"\n</code></pre>\n\n<p>My system's JAVA_HOME variable is set correctly to C:\\java\\jdks\\jdk1.6.0_45.</p>\n\n<p>Anyone know my maven is looking at the jre, and how do I set it correctly back to the JDK?  It's possible I am looking at the problem in correctly too, so if you have any ideas, that would be great.</p>\n\n<p>Thanks.</p>\n\n<hr>\n\n<p>As some noted, the JRE reference in the java home in the maven version was a red herring rabbit hole on my part.  Upon further testing I have some new interesting information.  I am running maven commands directly from the command line.  I check out code from our svn repository with eclipse, and try to run a maven package on that code, and the .war doesn't build correctly.  However, if I do a team export in eclipse to a new directory, and the run the maven package on that, it builds the .war fine and works perfectly.  As I understand it, the team export in eclipse removes all the subversion files in the exported directory.  Anyone have any ideas on how to solve this?</p>\n"},{"tags":["java","gson","osgi","osgi-bundle"],"answers":[{"tags":[],"owner":{"account_id":201851,"reputation":9354,"user_id":448551,"display_name":"BJ Hargrave"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651666163,"creation_date":1651666163,"answer_id":72112724,"question_id":72109159,"body_markdown":"The error messages `missing requirement [com.google.gson/2.8.6] osgi.ee; filter:=&quot;(&amp;(osgi.ee=JavaSE)(version=9.0))` means that version 2.8.6 requires at least Java 9. ","title":"gson version conflict &amp; unable resolve com.google.gson/2.8.6 missing requirement [com.google.gson/2.8.6] osgi.ee filter:=&amp;osgi.ee=JavaSE version=9.0","body":"<p>The error messages <code>missing requirement [com.google.gson/2.8.6] osgi.ee; filter:=&quot;(&amp;(osgi.ee=JavaSE)(version=9.0))</code> means that version 2.8.6 requires at least Java 9.</p>\n"}],"owner":{"account_id":8866982,"reputation":1,"user_id":6621848,"display_name":"lalit lakhchaura"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651666163,"creation_date":1651648374,"question_id":72109159,"body_markdown":"I have some xyz existing pkg which use google.gson version 2.2.4.\r\n\r\nI am creating new pkg(osgi bundle) for http client to call api, I need gson version 2.8.6.\r\n\r\nIf I go with existing version i.e. 2.2.4, I get following below issue during compilation.\r\n\r\nConflict(s) found for the following module(s):\r\n       - com.google.code.gson:gson between versions 2.9.0 and 2.8.6\r\n                \r\nAnd if I go with version i.e. 2.8.6, which is required in my case, existing test fails -\r\n     This is the actual error behind the integrationtest failure  : \r\n               -Unable to resolve com.google.gson/2.8.6: missing requirement [com.google.gson/2.8.6] osgi.ee; filter:=&quot;(&amp;(osgi.ee=JavaSE)(version=9.0))\r\n\r\njava java version &quot;1.8.0_311&quot; with Gradle 5.2","title":"gson version conflict &amp; unable resolve com.google.gson/2.8.6 missing requirement [com.google.gson/2.8.6] osgi.ee filter:=&amp;osgi.ee=JavaSE version=9.0","body":"<p>I have some xyz existing pkg which use google.gson version 2.2.4.</p>\n<p>I am creating new pkg(osgi bundle) for http client to call api, I need gson version 2.8.6.</p>\n<p>If I go with existing version i.e. 2.2.4, I get following below issue during compilation.</p>\n<p>Conflict(s) found for the following module(s):\n- com.google.code.gson:gson between versions 2.9.0 and 2.8.6</p>\n<p>And if I go with version i.e. 2.8.6, which is required in my case, existing test fails -\nThis is the actual error behind the integrationtest failure  :\n-Unable to resolve com.google.gson/2.8.6: missing requirement [com.google.gson/2.8.6] osgi.ee; filter:=&quot;(&amp;(osgi.ee=JavaSE)(version=9.0))</p>\n<p>java java version &quot;1.8.0_311&quot; with Gradle 5.2</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1651657183,"post_id":72110500,"comment_id":127413244,"body_markdown":"You have to sum up the length of your current line and check against that (plus the length of the &quot;next&quot; string). Forget about all of your `lastIndexOf` and `substring` calls. Also you don&#39;t have a single `println` to create that new line.","body":"You have to sum up the length of your current line and check against that (plus the length of the &quot;next&quot; string). Forget about all of your <code>lastIndexOf</code> and <code>substring</code> calls. Also you don&#39;t have a single <code>println</code> to create that new line."},{"owner":{"account_id":8662850,"reputation":380,"user_id":6484502,"display_name":"Huka"},"score":1,"creation_date":1651657456,"post_id":72110500,"comment_id":127413342,"body_markdown":"You don&#39;t need this statement\n`Integer charLength =  Integer.valueOf(lineLength); `\n\nYou  can search about &quot;Autoboxing and unboxing in Java&quot; to learn more.","body":"You don&#39;t need this statement <code>Integer charLength =  Integer.valueOf(lineLength); </code>  You  can search about &quot;Autoboxing and unboxing in Java&quot; to learn more."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1651657713,"post_id":72110500,"comment_id":127413422,"body_markdown":"@Huka: you don&#39;t need the whole `lastIndexOf` and therefore you also don&#39;t need it&#39;s parameters. And if you needed it, `lastIndexOf` takes an `int` anyways, and neither manual conversion nor autoboxing to `Integer` is necessary.","body":"@Huka: you don&#39;t need the whole <code>lastIndexOf</code> and therefore you also don&#39;t need it&#39;s parameters. And if you needed it, <code>lastIndexOf</code> takes an <code>int</code> anyways, and neither manual conversion nor autoboxing to <code>Integer</code> is necessary."},{"owner":{"account_id":8662850,"reputation":380,"user_id":6484502,"display_name":"Huka"},"score":0,"creation_date":1651657937,"post_id":72110500,"comment_id":127413498,"body_markdown":"@cyberbrain\nI&#39;m sorry but I don&#39;t know why did you mention me.","body":"@cyberbrain I&#39;m sorry but I don&#39;t know why did you mention me."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1651658169,"post_id":72110500,"comment_id":127413589,"body_markdown":"@Huka I mentioned you because it was a reaction to your comment. Obviously the OP is using autounboxing already, as `String.lastIndexOf` takes `int` as second parameter while the code provides an `Integer` there.","body":"@Huka I mentioned you because it was a reaction to your comment. Obviously the OP is using autounboxing already, as <code>String.lastIndexOf</code> takes <code>int</code> as second parameter while the code provides an <code>Integer</code> there."}],"answers":[{"tags":[],"owner":{"account_id":5254099,"reputation":1061,"user_id":4197431,"display_name":"Ralf Renz"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1651657008,"creation_date":1651657008,"answer_id":72110810,"question_id":72110500,"body_markdown":"    public static void printNumbers(int howMany, int lineLength) {\r\n        String printed = &quot;&quot;;\r\n\r\n        for (int i = 1; i &lt;= howMany; i++) {\r\n            String t = &quot;[&quot; + i + &quot;]&quot;;\r\n            if ((printed.length() + t.length()) &gt; lineLength) {\r\n                printed = &quot;&quot;;\r\n                System.out.println();\r\n            }\r\n            printed += t;\r\n            System.out.print(t);\r\n        }\r\n    }\r\n","title":"Limiting # of characters per line","body":"<pre><code>public static void printNumbers(int howMany, int lineLength) {\n    String printed = &quot;&quot;;\n\n    for (int i = 1; i &lt;= howMany; i++) {\n        String t = &quot;[&quot; + i + &quot;]&quot;;\n        if ((printed.length() + t.length()) &gt; lineLength) {\n            printed = &quot;&quot;;\n            System.out.println();\n        }\n        printed += t;\n        System.out.print(t);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10147220,"reputation":373,"user_id":7495003,"display_name":"Savandy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651665732,"creation_date":1651657125,"answer_id":72110834,"question_id":72110500,"body_markdown":"I believe you have to check if it has room in the current line before printing.\r\n\r\nIf it does have room print it, if it doesn&#39;t, print in a new line.\r\n\r\n    public static void printNumbers(int howMany, int lineLength) {\r\n        int alreadyPrintedLength = 0;\r\n        for(int i = 1; i &lt;= howMany; i ++) {\r\n          String t = &quot;[&quot; + i + &quot;]&quot;;\r\n          int actualCharLength = t.length();\r\n          boolean hasRoomInCurrentLine = (alreadyPrintedLength + actualCharLength) &lt;= lineLength;\r\n          if (hasRoomInCurrentLine) {\r\n            System.out.print(t);\r\n            alreadyPrintedLength += actualCharLength;\r\n          } else {\r\n            System.out.print(System.lineSeparator() + t);\r\n            alreadyPrintedLength = actualCharLength;\r\n          }\r\n        }\r\n      }","title":"Limiting # of characters per line","body":"<p>I believe you have to check if it has room in the current line before printing.</p>\n<p>If it does have room print it, if it doesn't, print in a new line.</p>\n<pre><code>public static void printNumbers(int howMany, int lineLength) {\n    int alreadyPrintedLength = 0;\n    for(int i = 1; i &lt;= howMany; i ++) {\n      String t = &quot;[&quot; + i + &quot;]&quot;;\n      int actualCharLength = t.length();\n      boolean hasRoomInCurrentLine = (alreadyPrintedLength + actualCharLength) &lt;= lineLength;\n      if (hasRoomInCurrentLine) {\n        System.out.print(t);\n        alreadyPrintedLength += actualCharLength;\n      } else {\n        System.out.print(System.lineSeparator() + t);\n        alreadyPrintedLength = actualCharLength;\n      }\n    }\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8662850,"reputation":380,"user_id":6484502,"display_name":"Huka"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651658930,"creation_date":1651657293,"answer_id":72110869,"question_id":72110500,"body_markdown":"You can use this snippet:\r\n```java\r\n    public static void printNumbers(int howMany, int lineLength) {\r\n        StringBuilder sb = new StringBuilder();\r\n        int length = 0;\r\n\r\n        for (int i = 1; i &lt;= howMany; i++) {\r\n            String t = &quot;[&quot; + i + &quot;]&quot;;\r\n\r\n            if (length + t.length() &gt; lineLength) {\r\n                sb.append(&quot;\\n&quot;);\r\n                length = 0;\r\n            }\r\n            \r\n            length += t.length();\r\n\r\n            sb.append(t);\r\n        }\r\n        \r\n        System.out.println(sb.toString());\r\n    }\r\n```","title":"Limiting # of characters per line","body":"<p>You can use this snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void printNumbers(int howMany, int lineLength) {\n        StringBuilder sb = new StringBuilder();\n        int length = 0;\n\n        for (int i = 1; i &lt;= howMany; i++) {\n            String t = &quot;[&quot; + i + &quot;]&quot;;\n\n            if (length + t.length() &gt; lineLength) {\n                sb.append(&quot;\\n&quot;);\n                length = 0;\n            }\n            \n            length += t.length();\n\n            sb.append(t);\n        }\n        \n        System.out.println(sb.toString());\n    }\n</code></pre>\n"}],"owner":{"account_id":25190533,"reputation":11,"user_id":19030771,"display_name":"TommyyVo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1651665732,"creation_date":1651655554,"question_id":72110500,"body_markdown":"I&#39;m a beginner and I&#39;m having trouble trying to display the output so that if its too big it will move it to the next line.\r\n\r\nThis is what I have so far:\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class numberBracket {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tScanner scanner = new Scanner(System.in);\r\n\t\t\r\n\t\tSystem.out.println(&quot;howMany: &quot;);\r\n\t\tint howMany = scanner.nextInt();\r\n\t\r\n\t\t\r\n\t\tSystem.out.println(&quot;lineLength: &quot;);\r\n\t\tint lineLength = scanner.nextInt();\r\n\t\tscanner.nextLine();\r\n\t\t\r\n\t\tprintNumbers(howMany, lineLength);\r\n\t\t \r\n\t}\r\n\t\t\r\n\tpublic static void printNumbers(int howMany, int lineLength) {\r\n\t\tInteger charLength =  Integer.valueOf(lineLength); \r\n\t\t\r\n\t\tfor(int i = 1; i &lt;= howMany; i ++) {\r\n\t\t\t\r\n\t        String t = &quot;[&quot; + i + &quot;]&quot;;\r\n\t        \r\n\t        \r\n\t        while(t.length() &gt; charLength ) {\r\n\t        \tint index = t.lastIndexOf(&#39; &#39;, charLength);\r\n\t            System.out.print(t.substring(0, index));\r\n\t            t = t.substring(index + 1);\r\n\t        }\r\n\t        System.out.print(t);\r\n\t    }\r\n}\r\n}\r\n```\r\n\r\nSo if they enter 10 for the lineLength it would be \r\n```\r\n[1][2][3]\r\n\r\n[4]\r\n```\r\nand if they entered 12 it would be\r\n```\r\n[1][2][3][4]\r\n```","title":"Limiting # of characters per line","body":"<p>I'm a beginner and I'm having trouble trying to display the output so that if its too big it will move it to the next line.</p>\n<p>This is what I have so far:</p>\n<pre><code>import java.util.Scanner;\n\npublic class numberBracket {\n\n    public static void main(String[] args) {\n        \n        Scanner scanner = new Scanner(System.in);\n        \n        System.out.println(&quot;howMany: &quot;);\n        int howMany = scanner.nextInt();\n    \n        \n        System.out.println(&quot;lineLength: &quot;);\n        int lineLength = scanner.nextInt();\n        scanner.nextLine();\n        \n        printNumbers(howMany, lineLength);\n         \n    }\n        \n    public static void printNumbers(int howMany, int lineLength) {\n        Integer charLength =  Integer.valueOf(lineLength); \n        \n        for(int i = 1; i &lt;= howMany; i ++) {\n            \n            String t = &quot;[&quot; + i + &quot;]&quot;;\n            \n            \n            while(t.length() &gt; charLength ) {\n                int index = t.lastIndexOf(' ', charLength);\n                System.out.print(t.substring(0, index));\n                t = t.substring(index + 1);\n            }\n            System.out.print(t);\n        }\n}\n}\n</code></pre>\n<p>So if they enter 10 for the lineLength it would be</p>\n<pre><code>[1][2][3]\n\n[4]\n</code></pre>\n<p>and if they entered 12 it would be</p>\n<pre><code>[1][2][3][4]\n</code></pre>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa","jpamodelgen"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1651673028,"post_id":72112629,"comment_id":127419121,"body_markdown":"In relation to the compile error, when you use it, you had the generated sources for Course_ class (probably you&#39;ve done that in an IDE and no errors occurred). When performing gradle compileJAva, those sources probably got clean away, hence the errors. That same type of errors occur in maven with generated sources. You have to use plugins that solve this problem (generate before compile).","body":"In relation to the compile error, when you use it, you had the generated sources for Course_ class (probably you&#39;ve done that in an IDE and no errors occurred). When performing gradle compileJAva, those sources probably got clean away, hence the errors. That same type of errors occur in maven with generated sources. You have to use plugins that solve this problem (generate before compile)."},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1651673261,"post_id":72112629,"comment_id":127419229,"body_markdown":"I&#39;ve found this old page for that plugin https://docs.jboss.org/hibernate/stable/jpamodelgen/reference/en-US/html_single/. Here, in maven case, you can indicate the phsa (generate-sources). Probably you need something similar.","body":"I&#39;ve found this old page for that plugin <a href=\"https://docs.jboss.org/hibernate/stable/jpamodelgen/reference/en-US/html_single/\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/stable/jpamodelgen/reference/en-US/&zwnj;&#8203;&hellip;</a>. Here, in maven case, you can indicate the phsa (generate-sources). Probably you need something similar."},{"owner":{"account_id":1307921,"reputation":16211,"user_id":1256496,"accept_rate":91,"display_name":"zemirco"},"score":0,"creation_date":1651696869,"post_id":72112629,"comment_id":127427654,"body_markdown":"I don&#39;t think this is really the issue. I always cleaned the generated sources before trying something else. As soon as I used the `static final String` in the `attributePaths` the problem appeared. I could easily reproduce this issues.","body":"I don&#39;t think this is really the issue. I always cleaned the generated sources before trying something else. As soon as I used the <code>static final String</code> in the <code>attributePaths</code> the problem appeared. I could easily reproduce this issues."}],"owner":{"account_id":1307921,"reputation":16211,"user_id":1256496,"accept_rate":91,"display_name":"zemirco"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651665706,"creation_date":1651665706,"question_id":72112629,"body_markdown":"I&#39;m trying to understand a weird behaviour related to `hibernate-jpamodelgen` but maybe more to Java in general.\r\n\r\nI have entities and I generate code via `hibernate-jpamodelgen`. That all works but then I tried something that cost me a few days and a lot of headaches.\r\n\r\nHere is the version that works.\r\n\r\n```java\r\npublic interface CourseRepository extends JpaRepository&lt;Course, Integer&gt; {\r\n\r\n    @EntityGraph(attributePaths = {Course_.TOPIC + &quot;.&quot; + Student_.NAME})\r\n    List&lt;Course&gt; findAll();\r\n\r\n}\r\n```\r\n\r\nI thought I would make the code a bit more beautiful and put the String `Course_.TOPIC + &quot;.&quot; + Student_.NAME` into a variable.\r\n\r\n```java\r\npublic interface CourseRepository extends JpaRepository&lt;Course, Integer&gt; {\r\n\r\n    // this is new\r\n    static final String TOPIC_NAME = Course_.TOPIC + &quot;.&quot; + Student_.NAME;\r\n    \r\n    @EntityGraph(attributePaths = {Course_.TOPIC + &quot;.&quot; + Student_.NAME})\r\n    List&lt;Course&gt; findAll();\r\n\r\n}\r\n```\r\n\r\nThat still works but as soon as I use this variable `TOPIC_NAME` I cannot compile anymore.\r\n\r\n```java\r\npublic interface CourseRepository extends JpaRepository&lt;Course, Integer&gt; {\r\n\r\n    static final String TOPIC_NAME = Course_.TOPIC + &quot;.&quot; + Student_.NAME;\r\n    \r\n    // this DOES NOT work\r\n    @EntityGraph(attributePaths = {TOPIC_NAME})\r\n    List&lt;Course&gt; findAll();\r\n\r\n}\r\n```\r\n\r\nWhen I try to compile via `gradle compileJava` I&#39;m suddenly getting errors like\r\n\r\n```\r\n  symbol:   variable Student_\r\n  location: interface StudentRepository\r\n/src/main/java/com/example/demo/Course/CourseRepository.java:12: error: cannot find symbol\r\n    static final String TOPIC_NAME = Course_.TOPIC + &quot;.&quot; + Student_.NAME;\r\n                                     ^\r\n  symbol:   variable Course_\r\n  location: interface CourseRepository\r\n/src/main/java/com/example/demo/Course/CourseRepository.java:12: error: cannot find symbol\r\n    static final String TOPIC_NAME = Course_.TOPIC + &quot;.&quot; + Student_.NAME;\r\n```\r\n\r\nWhy is that the case? I&#39;m happy that I found the issue but I don&#39;t understand why this happens.\r\n\r\nThank you very much!","title":"Trying to understand this weird Java / hibernate-jpamodelgen behaviour","body":"<p>I'm trying to understand a weird behaviour related to <code>hibernate-jpamodelgen</code> but maybe more to Java in general.</p>\n<p>I have entities and I generate code via <code>hibernate-jpamodelgen</code>. That all works but then I tried something that cost me a few days and a lot of headaches.</p>\n<p>Here is the version that works.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface CourseRepository extends JpaRepository&lt;Course, Integer&gt; {\n\n    @EntityGraph(attributePaths = {Course_.TOPIC + &quot;.&quot; + Student_.NAME})\n    List&lt;Course&gt; findAll();\n\n}\n</code></pre>\n<p>I thought I would make the code a bit more beautiful and put the String <code>Course_.TOPIC + &quot;.&quot; + Student_.NAME</code> into a variable.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface CourseRepository extends JpaRepository&lt;Course, Integer&gt; {\n\n    // this is new\n    static final String TOPIC_NAME = Course_.TOPIC + &quot;.&quot; + Student_.NAME;\n    \n    @EntityGraph(attributePaths = {Course_.TOPIC + &quot;.&quot; + Student_.NAME})\n    List&lt;Course&gt; findAll();\n\n}\n</code></pre>\n<p>That still works but as soon as I use this variable <code>TOPIC_NAME</code> I cannot compile anymore.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface CourseRepository extends JpaRepository&lt;Course, Integer&gt; {\n\n    static final String TOPIC_NAME = Course_.TOPIC + &quot;.&quot; + Student_.NAME;\n    \n    // this DOES NOT work\n    @EntityGraph(attributePaths = {TOPIC_NAME})\n    List&lt;Course&gt; findAll();\n\n}\n</code></pre>\n<p>When I try to compile via <code>gradle compileJava</code> I'm suddenly getting errors like</p>\n<pre><code>  symbol:   variable Student_\n  location: interface StudentRepository\n/src/main/java/com/example/demo/Course/CourseRepository.java:12: error: cannot find symbol\n    static final String TOPIC_NAME = Course_.TOPIC + &quot;.&quot; + Student_.NAME;\n                                     ^\n  symbol:   variable Course_\n  location: interface CourseRepository\n/src/main/java/com/example/demo/Course/CourseRepository.java:12: error: cannot find symbol\n    static final String TOPIC_NAME = Course_.TOPIC + &quot;.&quot; + Student_.NAME;\n</code></pre>\n<p>Why is that the case? I'm happy that I found the issue but I don't understand why this happens.</p>\n<p>Thank you very much!</p>\n"},{"tags":["java","optaplanner"],"answers":[{"tags":[],"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225; Petrovick&#253;"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650978173,"creation_date":1650978173,"answer_id":72014450,"question_id":72012861,"body_markdown":"An approach using a constraint collector is certainly possible, see `ExperimentalCollectors` in `optaplanner-examples` module, and its use in the Nurse Rostering example.\r\n\r\nHowever, for this case, I think that would be an overkill. Instead, think about &quot;two days with a gap inbetween&quot; as &quot;two days at least 1 day apart, with no day inbetween&quot;. Once you reformulate your problem like that, `ifNotExists(...)` is your friend.\r\n\r\n\r\n    forEachUniquePair(Timeslot.class,\r\n        Joiner.greaterThan(slot -&gt; slot.dayOfWeek + 1))\r\n        .ifNotExists(Timeslot.class,\r\n             Joiners.lessThan((slot1, slot2) -&gt; slot1.dayOfWeek, TimeSlot::dayOfWeek),\r\n             Joiners.greaterThan((slot1, slot2) -&gt; slot2.dayOfWeek, TimeSlot::dayOfWeek))\r\n    ...\r\n\r\nObviously this is just pseudo-code, you will have to adapt it to your particular situation, but it should give you an idea for how to approach the problem.\r\n        \r\n\r\n","title":"How to penalize gaps between days in OptaPlanner constraint stream?","body":"<p>An approach using a constraint collector is certainly possible, see <code>ExperimentalCollectors</code> in <code>optaplanner-examples</code> module, and its use in the Nurse Rostering example.</p>\n<p>However, for this case, I think that would be an overkill. Instead, think about &quot;two days with a gap inbetween&quot; as &quot;two days at least 1 day apart, with no day inbetween&quot;. Once you reformulate your problem like that, <code>ifNotExists(...)</code> is your friend.</p>\n<pre><code>forEachUniquePair(Timeslot.class,\n    Joiner.greaterThan(slot -&gt; slot.dayOfWeek + 1))\n    .ifNotExists(Timeslot.class,\n         Joiners.lessThan((slot1, slot2) -&gt; slot1.dayOfWeek, TimeSlot::dayOfWeek),\n         Joiners.greaterThan((slot1, slot2) -&gt; slot2.dayOfWeek, TimeSlot::dayOfWeek))\n...\n</code></pre>\n<p>Obviously this is just pseudo-code, you will have to adapt it to your particular situation, but it should give you an idea for how to approach the problem.</p>\n"}],"owner":{"account_id":16043102,"reputation":561,"user_id":11579013,"display_name":"tomashauser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":343,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651665341,"creation_date":1650971172,"question_id":72012861,"body_markdown":"I have a model where each `Course` has a list of available `TimeSlot`s from which one `TimeSlot` gets selected by OptaPlanner. Each `TimeSlot` has a `dayOfWeek` property. The weeks are numbered from 1 starting with Monday.\r\n\r\nLet&#39;s say the `TimeSlot`s are allocated such that they occupy days 1, 3, and 5. This should be penalized by 2 since there&#39;s one free day between Monday and Wednesday, and one free day between Wednesday and Friday. By using `groupBy(course -&gt; course.getSelectedTimeslot().getDayOfWeek().getValue())`, we can get a list of occupied days.\r\n\r\nOne idea is to use a collector like `sum()`, for example, and write something like `sum((day1, day2) -&gt; day2 - day1 - 1)`, but `sum()`, of course, works with only one argument. But generally, maybe this could be done by using a custom constraint collector, however, I do not know whether these collectors can perform such a specific action.\r\n\r\nAnother idea is that instead of summing up the differences directly, we could simply map each consecutive pair of days (assuming they&#39;re ordered) to the difference with the upcoming one. Penalization with the weight of value would then perform the summing for us. For example, `1, 4, 5` would map onto `2, 0`, and we could then penalize for each item with the weight of its value.\r\n\r\nIf I had the weeks in an array, the code would look like this:\r\n\r\n    public static int penalize(int[] weeks) {\r\n        Arrays.sort(weeks);\r\n\r\n        int sumOfDifferences = 0;\r\n\r\n        for (int i = 1; i &lt; weeks.length; i++) {\r\n            sumOfDifferences += weeks[i] - weeks[i - 1] - 1;\r\n        }\r\n\r\n        return sumOfDifferences;\r\n    }\r\n\r\nHow can we perform penalization of gaps between days using constraint collectors?\r\n\r\n","title":"How to penalize gaps between days in OptaPlanner constraint stream?","body":"<p>I have a model where each <code>Course</code> has a list of available <code>TimeSlot</code>s from which one <code>TimeSlot</code> gets selected by OptaPlanner. Each <code>TimeSlot</code> has a <code>dayOfWeek</code> property. The weeks are numbered from 1 starting with Monday.</p>\n<p>Let's say the <code>TimeSlot</code>s are allocated such that they occupy days 1, 3, and 5. This should be penalized by 2 since there's one free day between Monday and Wednesday, and one free day between Wednesday and Friday. By using <code>groupBy(course -&gt; course.getSelectedTimeslot().getDayOfWeek().getValue())</code>, we can get a list of occupied days.</p>\n<p>One idea is to use a collector like <code>sum()</code>, for example, and write something like <code>sum((day1, day2) -&gt; day2 - day1 - 1)</code>, but <code>sum()</code>, of course, works with only one argument. But generally, maybe this could be done by using a custom constraint collector, however, I do not know whether these collectors can perform such a specific action.</p>\n<p>Another idea is that instead of summing up the differences directly, we could simply map each consecutive pair of days (assuming they're ordered) to the difference with the upcoming one. Penalization with the weight of value would then perform the summing for us. For example, <code>1, 4, 5</code> would map onto <code>2, 0</code>, and we could then penalize for each item with the weight of its value.</p>\n<p>If I had the weeks in an array, the code would look like this:</p>\n<pre><code>public static int penalize(int[] weeks) {\n    Arrays.sort(weeks);\n\n    int sumOfDifferences = 0;\n\n    for (int i = 1; i &lt; weeks.length; i++) {\n        sumOfDifferences += weeks[i] - weeks[i - 1] - 1;\n    }\n\n    return sumOfDifferences;\n}\n</code></pre>\n<p>How can we perform penalization of gaps between days using constraint collectors?</p>\n"},{"tags":["java","spring","jackson","immutability"],"answers":[{"tags":[],"owner":{"account_id":1281146,"reputation":1594,"user_id":1235217,"display_name":"Stefan Feuerhahn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651665290,"creation_date":1632389268,"answer_id":69297402,"question_id":69297401,"body_markdown":"When serializing Java 17&#39;s records no further steps are needed because records store the names of their components. But when serializing normal classes three configurations are needed:\r\n\r\n- The immutable DTO needs to be compiled with javac&#39;s `-parameters` flag.\r\n- The ParameterNamesModule needs to be needs to be registered with Jackson&#39;s ObjectMapper\r\n- A special case is when the DTO construct takes a single structured type (e.g. a List or Map). In this case Jackson uses a so called &quot;delegating&quot; mode which is not wanted in this case. This can be changed by configuring the ObjectMapper: `mapper.setConstructorDetector(USE_PROPERTIES_BASED)`. This is supported since [Jackson 2.12](https://github.com/FasterXML/jackson-databind/issues/1498). \r\n\r\nIn Spring Boot the first two settings are the default thus no changes are needed. The third configuration can be done by providing a `Jackson2ObjectMapperBuilderCustomizer` bean:\r\n\r\n```\r\n@Bean public Jackson2ObjectMapperBuilderCustomizer jacksonCustomizer() {\r\n  return builder -&gt; builder.postConfigurer(mapper -&gt; mapper.setConstructorDetector(USE_PROPERTIES_BASED));\r\n}\r\n```\r\n\r\n","title":"How can I create immutable DTOs using Jackson but without annotions?","body":"<p>When serializing Java 17's records no further steps are needed because records store the names of their components. But when serializing normal classes three configurations are needed:</p>\n<ul>\n<li>The immutable DTO needs to be compiled with javac's <code>-parameters</code> flag.</li>\n<li>The ParameterNamesModule needs to be needs to be registered with Jackson's ObjectMapper</li>\n<li>A special case is when the DTO construct takes a single structured type (e.g. a List or Map). In this case Jackson uses a so called &quot;delegating&quot; mode which is not wanted in this case. This can be changed by configuring the ObjectMapper: <code>mapper.setConstructorDetector(USE_PROPERTIES_BASED)</code>. This is supported since <a href=\"https://github.com/FasterXML/jackson-databind/issues/1498\" rel=\"nofollow noreferrer\">Jackson 2.12</a>.</li>\n</ul>\n<p>In Spring Boot the first two settings are the default thus no changes are needed. The third configuration can be done by providing a <code>Jackson2ObjectMapperBuilderCustomizer</code> bean:</p>\n<pre><code>@Bean public Jackson2ObjectMapperBuilderCustomizer jacksonCustomizer() {\n  return builder -&gt; builder.postConfigurer(mapper -&gt; mapper.setConstructorDetector(USE_PROPERTIES_BASED));\n}\n</code></pre>\n"}],"owner":{"account_id":1281146,"reputation":1594,"user_id":1235217,"display_name":"Stefan Feuerhahn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":549,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651665290,"creation_date":1632389268,"question_id":69297401,"body_markdown":"Jackson can deserialize JSON data into immutable objects. But by default the constructor or static factory method parameters have to be specified either using `@JsonProperty` or using `@ConstructorProperties`. How can I configure Jackson and the compiler so that these annotations are not needed? And how do I best configure these when using Spring Boot?\r\n","title":"How can I create immutable DTOs using Jackson but without annotions?","body":"<p>Jackson can deserialize JSON data into immutable objects. But by default the constructor or static factory method parameters have to be specified either using <code>@JsonProperty</code> or using <code>@ConstructorProperties</code>. How can I configure Jackson and the compiler so that these annotations are not needed? And how do I best configure these when using Spring Boot?</p>\n"},{"tags":["java","maven","robotframework"],"answers":[{"tags":[],"owner":{"account_id":14399862,"reputation":7580,"user_id":10401931,"display_name":"pavelsaman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609750256,"creation_date":1609698643,"answer_id":65553437,"question_id":65550024,"body_markdown":"You are likely missing `./resources/db.cfg` file as explained in the official documentation for [`Connect To Database`](http://franz-see.github.io/Robotframework-Database-Library/api/1.2.2/DatabaseLibrary.html#Connect%20To%20Database) keyword.\r\n\r\n&gt; Optionally, you can specify a dbConfigFile wherein it will load the default property values for dbapiModuleName, dbName dbUsername and dbPassword (note: specifying dbapiModuleName, dbName dbUsername or dbPassword directly will override the properties of the same key in dbConfigFile). If no dbConfigFile is specified, it defaults to ./resources/db.cfg.\r\n\r\nYou didn&#39;t specify any other, so it expect the default one in the location I mentioned.\r\n\r\nA similar problem has been answered here on SO: https://stackoverflow.com/questions/25072996/error-no-section-default-in-robot-framework-using-databaselibrary\r\n\r\n---\r\n\r\nEDIT:\r\n\r\nBecause it still doesn&#39;t work (see comments), I add this part.\r\n\r\n`Connect To Database` looks like this in the code: https://github.com/franz-see/Robotframework-Database-Library/blob/master/src/DatabaseLibrary/connection_manager.py#L37, the beginning of the function looks like this (comment left out):\r\n\r\n```python\r\ndef connect_to_database(self, dbapiModuleName=None, dbName=None, dbUsername=None, dbPassword=None, dbHost=None, dbPort=None, dbCharset=None, dbConfigFile=&quot;./resources/db.cfg&quot;):       \r\n        config = ConfigParser.ConfigParser()\r\n        config.read([dbConfigFile])\r\n\r\n        dbapiModuleName = dbapiModuleName or config.get(&#39;default&#39;, &#39;dbapiModuleName&#39;)\r\n        dbName = dbName or config.get(&#39;default&#39;, &#39;dbName&#39;)\r\n        dbUsername = dbUsername or config.get(&#39;default&#39;, &#39;dbUsername&#39;)\r\n        dbPassword = dbPassword if dbPassword is not None else config.get(&#39;default&#39;, &#39;dbPassword&#39;)\r\n        dbHost = dbHost or config.get(&#39;default&#39;, &#39;dbHost&#39;) or &#39;localhost&#39;\r\n        dbPort = int(dbPort or config.get(&#39;default&#39;, &#39;dbPort&#39;))\r\n```\r\n\r\nYou get this error:\r\n\r\n&gt; NoSectionError: No section: &#39;default&#39;\r\n\r\nwhich happens on line 81: https://github.com/franz-see/Robotframework-Database-Library/blob/master/src/DatabaseLibrary/connection_manager.py#L81\r\n\r\nand that&#39;s because `dbapiModuleName` is None (by default and you don&#39;t assign any other value to it), so the code goes to `or config.get(&#39;default&#39;, &#39;dbapiModuleName&#39;)` on the same line. And that&#39;s where you&#39;re missing the `./resources/db.cfg` file from which it&#39;s trying to get a value for this variable.\r\n\r\nSo you either have to provide all values, or have the file there.\r\n\r\nIt really is all mentioned in the doc for the keyword: https://franz-see.github.io/Robotframework-Database-Library/api/1.2.2/DatabaseLibrary.html#Connect%20To%20Database The first sentence reads:\r\n\r\n&gt; Loads the DB API 2.0 module given dbapiModuleName then uses it to connect to the database using dbName, dbUsername, and dbPassword.\r\n\r\nAdditional information on what value to provide for `dbapiModuleName` could be found here: https://stackoverflow.com/questions/10882503/how-to-use-database-library-with-robot-framework-on-temporary-sql-server But it can&#39;t be None as it it now with your config.","title":"Connect to SQL Server in Robot framework | Maven Dependency","body":"<p>You are likely missing <code>./resources/db.cfg</code> file as explained in the official documentation for <a href=\"http://franz-see.github.io/Robotframework-Database-Library/api/1.2.2/DatabaseLibrary.html#Connect%20To%20Database\" rel=\"nofollow noreferrer\"><code>Connect To Database</code></a> keyword.</p>\n<blockquote>\n<p>Optionally, you can specify a dbConfigFile wherein it will load the default property values for dbapiModuleName, dbName dbUsername and dbPassword (note: specifying dbapiModuleName, dbName dbUsername or dbPassword directly will override the properties of the same key in dbConfigFile). If no dbConfigFile is specified, it defaults to ./resources/db.cfg.</p>\n</blockquote>\n<p>You didn't specify any other, so it expect the default one in the location I mentioned.</p>\n<p>A similar problem has been answered here on SO: <a href=\"https://stackoverflow.com/questions/25072996/error-no-section-default-in-robot-framework-using-databaselibrary\">Error: No section: &#39;default&#39; in Robot Framework using DatabaseLibrary</a></p>\n<hr />\n<p>EDIT:</p>\n<p>Because it still doesn't work (see comments), I add this part.</p>\n<p><code>Connect To Database</code> looks like this in the code: <a href=\"https://github.com/franz-see/Robotframework-Database-Library/blob/master/src/DatabaseLibrary/connection_manager.py#L37\" rel=\"nofollow noreferrer\">https://github.com/franz-see/Robotframework-Database-Library/blob/master/src/DatabaseLibrary/connection_manager.py#L37</a>, the beginning of the function looks like this (comment left out):</p>\n<pre class=\"lang-py prettyprint-override\"><code>def connect_to_database(self, dbapiModuleName=None, dbName=None, dbUsername=None, dbPassword=None, dbHost=None, dbPort=None, dbCharset=None, dbConfigFile=&quot;./resources/db.cfg&quot;):       \n        config = ConfigParser.ConfigParser()\n        config.read([dbConfigFile])\n\n        dbapiModuleName = dbapiModuleName or config.get('default', 'dbapiModuleName')\n        dbName = dbName or config.get('default', 'dbName')\n        dbUsername = dbUsername or config.get('default', 'dbUsername')\n        dbPassword = dbPassword if dbPassword is not None else config.get('default', 'dbPassword')\n        dbHost = dbHost or config.get('default', 'dbHost') or 'localhost'\n        dbPort = int(dbPort or config.get('default', 'dbPort'))\n</code></pre>\n<p>You get this error:</p>\n<blockquote>\n<p>NoSectionError: No section: 'default'</p>\n</blockquote>\n<p>which happens on line 81: <a href=\"https://github.com/franz-see/Robotframework-Database-Library/blob/master/src/DatabaseLibrary/connection_manager.py#L81\" rel=\"nofollow noreferrer\">https://github.com/franz-see/Robotframework-Database-Library/blob/master/src/DatabaseLibrary/connection_manager.py#L81</a></p>\n<p>and that's because <code>dbapiModuleName</code> is None (by default and you don't assign any other value to it), so the code goes to <code>or config.get('default', 'dbapiModuleName')</code> on the same line. And that's where you're missing the <code>./resources/db.cfg</code> file from which it's trying to get a value for this variable.</p>\n<p>So you either have to provide all values, or have the file there.</p>\n<p>It really is all mentioned in the doc for the keyword: <a href=\"https://franz-see.github.io/Robotframework-Database-Library/api/1.2.2/DatabaseLibrary.html#Connect%20To%20Database\" rel=\"nofollow noreferrer\">https://franz-see.github.io/Robotframework-Database-Library/api/1.2.2/DatabaseLibrary.html#Connect%20To%20Database</a> The first sentence reads:</p>\n<blockquote>\n<p>Loads the DB API 2.0 module given dbapiModuleName then uses it to connect to the database using dbName, dbUsername, and dbPassword.</p>\n</blockquote>\n<p>Additional information on what value to provide for <code>dbapiModuleName</code> could be found here: <a href=\"https://stackoverflow.com/questions/10882503/how-to-use-database-library-with-robot-framework-on-temporary-sql-server\">How to use database library with Robot Framework on temporary sql server</a> But it can't be None as it it now with your config.</p>\n"},{"tags":[],"owner":{"account_id":15528095,"reputation":91,"user_id":11202348,"display_name":"A.Han"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609758171,"creation_date":1609758171,"answer_id":65561596,"question_id":65550024,"body_markdown":"I made a simple changes on my code, and it&#39;s worked!!\r\n\r\n    Suite Setup    Connect To Database Using Custom Params    pymssql    &#39;${DBHost}&#39;,&#39;${DBUser}&#39;,&#39;${DBPass}&#39;,&#39;${DBName}&#39;\r\n\r\nPlease notice it should be:\r\n&quot;Host&quot; &gt; &quot;Username&quot; &gt; &quot;Password&quot; &gt; &quot;Database Name&quot;\r\n\r\nthe parameters arrangement is matter!\r\n\r\nNote: I didn&#39;t need to use the config file!","title":"Connect to SQL Server in Robot framework | Maven Dependency","body":"<p>I made a simple changes on my code, and it's worked!!</p>\n<pre><code>Suite Setup    Connect To Database Using Custom Params    pymssql    '${DBHost}','${DBUser}','${DBPass}','${DBName}'\n</code></pre>\n<p>Please notice it should be:\n&quot;Host&quot; &gt; &quot;Username&quot; &gt; &quot;Password&quot; &gt; &quot;Database Name&quot;</p>\n<p>the parameters arrangement is matter!</p>\n<p>Note: I didn't need to use the config file!</p>\n"}],"owner":{"account_id":15528095,"reputation":91,"user_id":11202348,"display_name":"A.Han"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1475,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1651665164,"creation_date":1609678121,"question_id":65550024,"body_markdown":"I&#39;m trying to connect to SQL server in robot framework, so I&#39;ve added the following code in pom.xml file:\r\n\r\n    \t&lt;!-- https://mvnrepository.com/artifact/com.microsoft.sqlserver/mssql-jdbc --&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n    \t&lt;version&gt;8.4.1.jre14&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nand I have the following robot file:\r\n\r\n        *** Settings ***\r\n        Documentation  Testing connection to the database!\r\n        Library\t\tSeleniumLibrary\r\n        Library\t\tDatabaseLibrary\r\n        Library     OperatingSystem  \r\n        #I&#39;m not sure if we need OperatingSystem Library!!\r\n        \r\n        \r\n        Suite Setup        Connect To Database      pymssql      ${DBName}    ${DBUser}     ${DBPass}    ${DBHost} \r\n        \r\n       # Suite Setup        Connect To Database Using Custom Params   pymssql            ${DBName}    ${DBUser}     ${DBPass}    ${DBHost} \r\n        \r\n        \r\n        \r\n        *** Variables ***\r\n        ${DBName}         DatabaseName\r\n        ${DBUser}         Username\r\n        ${DBPass}         Password\r\n        ${DBHost}         xx.xx.xx.xx\r\n        \r\n        \r\n        \r\n        *** Test Cases ***\r\n        Testing Connect to SQL Server\r\n        \t${queryTest}=    Execute SQL String     select * from Users where Id=1\r\n            log to console   ${queryTest} \r\n\r\n\r\nI&#39;m getting the following error:\r\n\r\n&gt; NoSectionError: No section: &#39;default&#39;\r\n\r\nI&#39;m spending days trying to connect to the database and no luck!","title":"Connect to SQL Server in Robot framework | Maven Dependency","body":"<p>I'm trying to connect to SQL server in robot framework, so I've added the following code in pom.xml file:</p>\n<pre><code>    &lt;!-- https://mvnrepository.com/artifact/com.microsoft.sqlserver/mssql-jdbc --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n    &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n    &lt;version&gt;8.4.1.jre14&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and I have the following robot file:</p>\n<pre><code>    *** Settings ***\n    Documentation  Testing connection to the database!\n    Library     SeleniumLibrary\n    Library     DatabaseLibrary\n    Library     OperatingSystem  \n    #I'm not sure if we need OperatingSystem Library!!\n    \n    \n    Suite Setup        Connect To Database      pymssql      ${DBName}    ${DBUser}     ${DBPass}    ${DBHost} \n    \n   # Suite Setup        Connect To Database Using Custom Params   pymssql            ${DBName}    ${DBUser}     ${DBPass}    ${DBHost} \n    \n    \n    \n    *** Variables ***\n    ${DBName}         DatabaseName\n    ${DBUser}         Username\n    ${DBPass}         Password\n    ${DBHost}         xx.xx.xx.xx\n    \n    \n    \n    *** Test Cases ***\n    Testing Connect to SQL Server\n        ${queryTest}=    Execute SQL String     select * from Users where Id=1\n        log to console   ${queryTest} \n</code></pre>\n<p>I'm getting the following error:</p>\n<blockquote>\n<p>NoSectionError: No section: 'default'</p>\n</blockquote>\n<p>I'm spending days trying to connect to the database and no luck!</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":14309001,"reputation":11169,"user_id":10335956,"display_name":"E.Coms"},"score":0,"creation_date":1540039355,"post_id":52905745,"comment_id":92722142,"body_markdown":"What effort have you taken ? Could you describe it?","body":"What effort have you taken ? Could you describe it?"},{"owner":{"account_id":14536299,"reputation":15,"user_id":10499585,"display_name":"Nosmer"},"score":0,"creation_date":1540039846,"post_id":52905745,"comment_id":92722290,"body_markdown":"All I did was copy the code I saw in the video, I havent added or removed anything. It works in the video, but gives me that error if I try to run it myself.","body":"All I did was copy the code I saw in the video, I havent added or removed anything. It works in the video, but gives me that error if I try to run it myself."},{"owner":{"account_id":7712558,"reputation":1070,"user_id":5841406,"display_name":"MandyShaw"},"score":0,"creation_date":1540040105,"post_id":52905745,"comment_id":92722380,"body_markdown":"You need to add some exception handling if you&#39;re going to get to the bottom of this.","body":"You need to add some exception handling if you&#39;re going to get to the bottom of this."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1540041331,"post_id":52905745,"comment_id":92722751,"body_markdown":"Try a different file.","body":"Try a different file."},{"owner":{"account_id":14536299,"reputation":15,"user_id":10499585,"display_name":"Nosmer"},"score":0,"creation_date":1540041490,"post_id":52905745,"comment_id":92722790,"body_markdown":"Added try-catch, changed error message to a new one. Sedrick, did that, no changes. Even tried http links.","body":"Added try-catch, changed error message to a new one. Sedrick, did that, no changes. Even tried http links."},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1540041547,"post_id":52905745,"comment_id":92722806,"body_markdown":"&quot; at demoradio.DemoRadio.start(DemoRadio.java:31)&quot;  which line is it ? mark it with a comment","body":"&quot; at demoradio.DemoRadio.start(DemoRadio.java:31)&quot;  which line is it ? mark it with a comment"},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":1,"creation_date":1540041626,"post_id":52905745,"comment_id":92722829,"body_markdown":"`root.getChildren().add(root);`   **you can&#39;t add root to itself**","body":"<code>root.getChildren().add(root);</code>   <b>you can&#39;t add root to itself</b>"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1540041920,"post_id":52905745,"comment_id":92722905,"body_markdown":"In the future, please format stack traces as _code blocks_, not _block quotes_. It&#39;s so much easier to read when formatted as the former.","body":"In the future, please format stack traces as <i>code blocks</i>, not <i>block quotes</i>. It&#39;s so much easier to read when formatted as the former."},{"owner":{"account_id":14536299,"reputation":15,"user_id":10499585,"display_name":"Nosmer"},"score":0,"creation_date":1540041935,"post_id":52905745,"comment_id":92722908,"body_markdown":"Thanks c0der, now the app launches. The sound doesnt play though. Bummer","body":"Thanks c0der, now the app launches. The sound doesnt play though. Bummer"},{"owner":{"account_id":14536299,"reputation":15,"user_id":10499585,"display_name":"Nosmer"},"score":0,"creation_date":1540042069,"post_id":52905745,"comment_id":92722939,"body_markdown":"Slaw, that way I get a &quot;too much code&quot; warning and cant post.","body":"Slaw, that way I get a &quot;too much code&quot; warning and cant post."}],"answers":[{"tags":[],"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651664506,"creation_date":1540042802,"answer_id":52906288,"question_id":52905745,"body_markdown":"`root.getChildren().add(root);` you can&#39;t add root to itself.\r\nAlso as a simple printout can reveal, this returns null:\r\n\r\n    URL resource = getClass().getResource(&quot;https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3&quot;);\r\n\r\nAccording to the [documentation](https://docs.oracle.com/javase/8/javafx/api/javafx/scene/media/Media.html#Media-java.lang.String-) `Media` constructor expects a string in [URI](https://docs.oracle.com/javase/7/docs/api/java/net/URI.html) format, so you should use: \r\n\r\n    URI uri = new URI(&quot;https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3&quot;);\r\n    Media media = new Media(uri.toString()); \r\n\r\nThis also works: \r\n\r\n    Media media = new Media(&quot;https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3&quot;);\r\n\r\nTry this:\r\n  \r\n\t\r\n\timport java.net.URI;\r\n\timport java.net.URISyntaxException;\r\n\timport javafx.application.Application;\r\n\timport javafx.scene.Scene;\r\n\timport javafx.scene.layout.StackPane;\r\n\timport javafx.scene.media.Media;\r\n\timport javafx.scene.media.MediaPlayer;\r\n\timport javafx.scene.media.MediaView;\r\n\timport javafx.stage.Stage;\r\n\r\n    /*\r\n     * If you get &quot;cannot access class com.sun.glass.utils.NativeLibLoader&quot; exception you may need to \r\n     * add a VM argument: --add-modules javafx.controls,javafx.media as explained here:\r\n     * https://stackoverflow.com/questions/53237287/module-error-when-running-javafx-media-application\r\n     */\r\n\t\t\r\n\tpublic class PlayMP3 extends Application {\r\n\t\r\n\t\t@Override\r\n\t\tpublic void start(Stage primaryStage) throws URISyntaxException {\r\n\t\r\n\t\t\tStackPane root = new StackPane();\r\n\t\r\n\t\t\tURI uri = new URI(&quot;https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3&quot;);\r\n\t\t\tMedia media = new Media(uri.toString());\r\n\t\r\n\t\t\t//OR Media media = new Media(&quot;https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3&quot;);\r\n\t\t\tMediaPlayer player = new MediaPlayer(media);\r\n\t\t\tplayer.setOnError(new Runnable() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\tSystem.out.println(media.getError().toString());\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\r\n\t\t\tplayer.setAutoPlay(true);\r\n\t\t\troot.getChildren().add(new MediaView(player));\r\n\t\t\tScene scene = new Scene(root, 300, 250);\r\n\t\t\tprimaryStage.setTitle(&quot;PlayMP3&quot;);\r\n\t\t\tprimaryStage.setScene(scene);\r\n\t\t\tprimaryStage.show();\r\n\t\t}\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tlaunch(args);\r\n\t\t}\r\n\t}","title":"Can&#39;t run a simple demo of a Media class","body":"<p><code>root.getChildren().add(root);</code> you can't add root to itself.\nAlso as a simple printout can reveal, this returns null:</p>\n<pre><code>URL resource = getClass().getResource(&quot;https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3&quot;);\n</code></pre>\n<p>According to the <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/media/Media.html#Media-java.lang.String-\" rel=\"nofollow noreferrer\">documentation</a> <code>Media</code> constructor expects a string in <a href=\"https://docs.oracle.com/javase/7/docs/api/java/net/URI.html\" rel=\"nofollow noreferrer\">URI</a> format, so you should use:</p>\n<pre><code>URI uri = new URI(&quot;https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3&quot;);\nMedia media = new Media(uri.toString()); \n</code></pre>\n<p>This also works:</p>\n<pre><code>Media media = new Media(&quot;https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3&quot;);\n</code></pre>\n<p>Try this:</p>\n<pre><code>import java.net.URI;\nimport java.net.URISyntaxException;\nimport javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.media.Media;\nimport javafx.scene.media.MediaPlayer;\nimport javafx.scene.media.MediaView;\nimport javafx.stage.Stage;\n\n/*\n * If you get &quot;cannot access class com.sun.glass.utils.NativeLibLoader&quot; exception you may need to \n * add a VM argument: --add-modules javafx.controls,javafx.media as explained here:\n * https://stackoverflow.com/questions/53237287/module-error-when-running-javafx-media-application\n */\n    \npublic class PlayMP3 extends Application {\n\n    @Override\n    public void start(Stage primaryStage) throws URISyntaxException {\n\n        StackPane root = new StackPane();\n\n        URI uri = new URI(&quot;https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3&quot;);\n        Media media = new Media(uri.toString());\n\n        //OR Media media = new Media(&quot;https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3&quot;);\n        MediaPlayer player = new MediaPlayer(media);\n        player.setOnError(new Runnable() {\n            @Override\n            public void run() {\n                System.out.println(media.getError().toString());\n            }\n        });\n\n        player.setAutoPlay(true);\n        root.getChildren().add(new MediaView(player));\n        Scene scene = new Scene(root, 300, 250);\n        primaryStage.setTitle(&quot;PlayMP3&quot;);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14536299,"reputation":15,"user_id":10499585,"display_name":"Nosmer"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":52906288,"answer_count":1,"score":0,"last_activity_date":1651664506,"creation_date":1540039173,"question_id":52905745,"body_markdown":"I found a video on YouTube about using `Media` class, but when I try to do it - it gives me an error. Could somebody tell me whats wrong? Here&#39;s the code, exactly how I saw it in the video:\r\n\r\n    package demoradio;\r\n\r\n    import java.net.URL;\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.layout.StackPane;\r\n    import javafx.scene.media.Media;\r\n    import javafx.scene.media.MediaPlayer;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class DemoRadio extends Application {\r\n    \r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n        StackPane root = new StackPane();\r\n        try {\r\n        URL resource = getClass().getResource(&quot;http://traffic.libsyn.com/dickwall/JavaPosse373.mp3&quot;);\r\n        Media media = new Media(resource.toString());\r\n        MediaPlayer player = new MediaPlayer(media);\r\n        player.setOnError(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                String err = media.getError().toString();\r\n            }\r\n        });\r\n        \r\n        player.setAutoPlay(true);\r\n        } catch(RuntimeException e){}\r\n        \r\n        root.getChildren().add(root);\r\n        \r\n        Scene scene = new Scene(root, 300, 250);\r\n        \r\n        primaryStage.setTitle(&quot;DemoRadio&quot;);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n        \r\n    }\r\n\r\nAnd here&#39;s the error I get:\r\n\r\n    Exception in Application start method java.lang.reflect.InvocationTargetException \r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:389)\r\n        at com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:328)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:767) \r\n    Caused by: java.lang.RuntimeException: Exception in Application start method \r\n        at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:917)\r\n        at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$155(LauncherImpl.java:182)\r\n        at java.lang.Thread.run(Thread.java:748)\r\n    Caused by: java.lang.IllegalArgumentException: Children: cycle detected: parent = StackPane@3d2c4da, node = StackPane@3d2c4da \r\n        at javafx.scene.Parent$2.onProposedChange(Parent.java:445)\r\n        at com.sun.javafx.collections.VetoableListDecorator.add(VetoableListDecorator.java:206)\r\n        at demoradio.DemoRadio.start(DemoRadio.java:31)\r\n        at com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$162(LauncherImpl.java:863)\r\n        at com.sun.javafx.application.PlatformImpl.lambda$runAndWait$175(PlatformImpl.java:326)\r\n        at com.sun.javafx.application.PlatformImpl.lambda$null$173(PlatformImpl.java:295)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at com.sun.javafx.application.PlatformImpl.lambda$runLater$174(PlatformImpl.java:294)\r\n        at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\r\n        at com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n        at com.sun.glass.ui.win.WinApplication.lambda$null$148(WinApplication.java:191) \r\n        ... 1 more \r\n    Exception running application demoradio.DemoRadio Java Result: 1","title":"Can&#39;t run a simple demo of a Media class","body":"<p>I found a video on YouTube about using <code>Media</code> class, but when I try to do it - it gives me an error. Could somebody tell me whats wrong? Here's the code, exactly how I saw it in the video:</p>\n\n<pre><code>package demoradio;\n\nimport java.net.URL;\nimport javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.media.Media;\nimport javafx.scene.media.MediaPlayer;\nimport javafx.stage.Stage;\n\npublic class DemoRadio extends Application {\n\n@Override\npublic void start(Stage primaryStage) {\n    StackPane root = new StackPane();\n    try {\n    URL resource = getClass().getResource(\"http://traffic.libsyn.com/dickwall/JavaPosse373.mp3\");\n    Media media = new Media(resource.toString());\n    MediaPlayer player = new MediaPlayer(media);\n    player.setOnError(new Runnable() {\n        @Override\n        public void run() {\n            String err = media.getError().toString();\n        }\n    });\n\n    player.setAutoPlay(true);\n    } catch(RuntimeException e){}\n\n    root.getChildren().add(root);\n\n    Scene scene = new Scene(root, 300, 250);\n\n    primaryStage.setTitle(\"DemoRadio\");\n    primaryStage.setScene(scene);\n    primaryStage.show();\n}\n\npublic static void main(String[] args) {\n    launch(args);\n}\n\n}\n</code></pre>\n\n<p>And here's the error I get:</p>\n\n<pre><code>Exception in Application start method java.lang.reflect.InvocationTargetException \n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:389)\n    at com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:328)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:767) \nCaused by: java.lang.RuntimeException: Exception in Application start method \n    at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:917)\n    at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$155(LauncherImpl.java:182)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.IllegalArgumentException: Children: cycle detected: parent = StackPane@3d2c4da, node = StackPane@3d2c4da \n    at javafx.scene.Parent$2.onProposedChange(Parent.java:445)\n    at com.sun.javafx.collections.VetoableListDecorator.add(VetoableListDecorator.java:206)\n    at demoradio.DemoRadio.start(DemoRadio.java:31)\n    at com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$162(LauncherImpl.java:863)\n    at com.sun.javafx.application.PlatformImpl.lambda$runAndWait$175(PlatformImpl.java:326)\n    at com.sun.javafx.application.PlatformImpl.lambda$null$173(PlatformImpl.java:295)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at com.sun.javafx.application.PlatformImpl.lambda$runLater$174(PlatformImpl.java:294)\n    at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\n    at com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at com.sun.glass.ui.win.WinApplication.lambda$null$148(WinApplication.java:191) \n    ... 1 more \nException running application demoradio.DemoRadio Java Result: 1\n</code></pre>\n"},{"tags":["java","spring","spring-boot","openapi"],"answers":[{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651663974,"creation_date":1651663974,"answer_id":72112248,"question_id":72111956,"body_markdown":"You need to implement `spring security` in your project. It will allow you apply **Filter** to your API depending on your users **ROLE** or **AUTHORITY**.\r\n\r\nLooking at this sample code below, you can see what it looks like:\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.csrf().disable()\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/&quot;, &quot;index&quot;, &quot;/css/*&quot;, &quot;/js/*&quot;)\r\n                .permitAll()\r\n                .antMatchers(&quot;/api/**&quot;).hasRole(STUDENT.name())\r\n                .antMatchers(HttpMethod.DELETE, &quot;/management/api/**&quot;).hasAnyAuthority(COURSE_WRITE.getPermission())\r\n                .antMatchers(HttpMethod.POST, &quot;/management/api/**&quot;).hasAnyAuthority(COURSE_WRITE.getPermission())\r\n                .antMatchers(HttpMethod.PUT, &quot;/management/api/**&quot;).hasAnyAuthority(COURSE_WRITE.getPermission())\r\n                .antMatchers(HttpMethod.GET, &quot;/management/api/**&quot;).hasAnyRole(ADMIN.name(), ADMIN_TRAINEE.name())\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n                .httpBasic();\r\n    }\r\n\r\nMore details [here][1].\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=her_7pa0vrg","title":"Open API with authentication JAVA SpringBoot","body":"<p>You need to implement <code>spring security</code> in your project. It will allow you apply <strong>Filter</strong> to your API depending on your users <strong>ROLE</strong> or <strong>AUTHORITY</strong>.</p>\n<p>Looking at this sample code below, you can see what it looks like:</p>\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http.csrf().disable()\n            .authorizeRequests()\n            .antMatchers(&quot;/&quot;, &quot;index&quot;, &quot;/css/*&quot;, &quot;/js/*&quot;)\n            .permitAll()\n            .antMatchers(&quot;/api/**&quot;).hasRole(STUDENT.name())\n            .antMatchers(HttpMethod.DELETE, &quot;/management/api/**&quot;).hasAnyAuthority(COURSE_WRITE.getPermission())\n            .antMatchers(HttpMethod.POST, &quot;/management/api/**&quot;).hasAnyAuthority(COURSE_WRITE.getPermission())\n            .antMatchers(HttpMethod.PUT, &quot;/management/api/**&quot;).hasAnyAuthority(COURSE_WRITE.getPermission())\n            .antMatchers(HttpMethod.GET, &quot;/management/api/**&quot;).hasAnyRole(ADMIN.name(), ADMIN_TRAINEE.name())\n            .anyRequest()\n            .authenticated()\n            .and()\n            .httpBasic();\n}\n</code></pre>\n<p>More details <a href=\"https://www.youtube.com/watch?v=her_7pa0vrg\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":18932888,"reputation":212,"user_id":13814655,"display_name":"ABC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":504,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651663974,"creation_date":1651662594,"question_id":72111956,"body_markdown":"We have an application with react + java + spring boot. We have few open apis which can be accessed by anyone(no security/no authentication required) and few secured apis(requires authentication).\r\n\r\nI want to expose few APIs to all but I want do authentication for those APIs.\r\n\r\nCan someone suggest me what can be done? Should I look more into spring security or checkout spring OPEN-API or is there any other better approach?\r\n\r\nThanks in advance.","title":"Open API with authentication JAVA SpringBoot","body":"<p>We have an application with react + java + spring boot. We have few open apis which can be accessed by anyone(no security/no authentication required) and few secured apis(requires authentication).</p>\n<p>I want to expose few APIs to all but I want do authentication for those APIs.</p>\n<p>Can someone suggest me what can be done? Should I look more into spring security or checkout spring OPEN-API or is there any other better approach?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","android","kotlin","storage","android-bitmap"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1651665869,"post_id":72112007,"comment_id":127416093,"body_markdown":"&quot;since I&#39;m targeting SDK 31, getExternalStorageDirectory() is now deprecated&quot; -- [that is now undeprecated](https://commonsware.com/blog/2021/11/06/about-environment-undeprecations.html).","body":"&quot;since I&#39;m targeting SDK 31, getExternalStorageDirectory() is now deprecated&quot; -- <a href=\"https://commonsware.com/blog/2021/11/06/about-environment-undeprecations.html\" rel=\"nofollow noreferrer\">that is now undeprecated</a>."},{"owner":{"account_id":23829592,"reputation":11,"user_id":17836058,"display_name":"iamhere"},"score":0,"creation_date":1651671645,"post_id":72112007,"comment_id":127418455,"body_markdown":"@CommonsWare Thank you for your answer, it&#39;s truly appreciated! I thought that deprectation was the cause of [this issue](https://stackoverflow.com/questions/72081446/error-when-writing-bitmap-to-directory-even-with-directory-access) as suggested by an answer, but it isn&#39;t according to you. I was wondering if you could help me with this question?","body":"@CommonsWare Thank you for your answer, it&#39;s truly appreciated! I thought that deprectation was the cause of <a href=\"https://stackoverflow.com/questions/72081446/error-when-writing-bitmap-to-directory-even-with-directory-access\">this issue</a> as suggested by an answer, but it isn&#39;t according to you. I was wondering if you could help me with this question?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1651675191,"post_id":72112007,"comment_id":127420024,"body_markdown":"Use getExternalPublicStorageDirectory() instead.","body":"Use getExternalPublicStorageDirectory() instead."}],"owner":{"account_id":23829592,"reputation":11,"user_id":17836058,"display_name":"iamhere"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651663184,"creation_date":1651662859,"question_id":72112007,"body_markdown":"I am using this code to save a picture to a specific directory. However, since I&#39;m targeting SDK 31, getExternalStorageDirectory() is now deprecated. Can someone please provide new alternative code to the one below? Access to that specific path is granted already.\r\n\r\n    val mIcon = BitmapFactory.decodeResource(getResources(), R.drawable.aztec)\r\n    File(Environment.getExternalStorageDirectory().toString() + &quot;/specific/path&quot;, &quot;output.jpg&quot;).writeBitmap(mIcon, Bitmap.CompressFormat.JPEG, 85) \r\n\r\nAccess to &quot;/specific/path&quot; is already granted previously using `takePersistableUriPermission`.\r\n\r\n.writeBitmap method:\r\n\r\n    private fun File.writeBitmap(bitmap: Bitmap, format: Bitmap.CompressFormat, quality: Int) {\r\n        outputStream().use { out -&gt;\r\n            bitmap.compress(format, quality, out)\r\n            out.flush()\r\n        }\r\n    }","title":"Alternative to getExternalStorageDirectory() for newer SDKs","body":"<p>I am using this code to save a picture to a specific directory. However, since I'm targeting SDK 31, getExternalStorageDirectory() is now deprecated. Can someone please provide new alternative code to the one below? Access to that specific path is granted already.</p>\n<pre><code>val mIcon = BitmapFactory.decodeResource(getResources(), R.drawable.aztec)\nFile(Environment.getExternalStorageDirectory().toString() + &quot;/specific/path&quot;, &quot;output.jpg&quot;).writeBitmap(mIcon, Bitmap.CompressFormat.JPEG, 85) \n</code></pre>\n<p>Access to &quot;/specific/path&quot; is already granted previously using <code>takePersistableUriPermission</code>.</p>\n<p>.writeBitmap method:</p>\n<pre><code>private fun File.writeBitmap(bitmap: Bitmap, format: Bitmap.CompressFormat, quality: Int) {\n    outputStream().use { out -&gt;\n        bitmap.compress(format, quality, out)\n        out.flush()\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3491975,"reputation":1562,"user_id":2921426,"accept_rate":64,"display_name":"SimonC"},"score":0,"creation_date":1651663010,"post_id":72112025,"comment_id":127415214,"body_markdown":"You should read the error message. &gt; has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0","body":"You should read the error message. &gt; has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1651663304,"post_id":72112025,"comment_id":127415310,"body_markdown":"You&#39;re trying to run something that requires Java 11 (class version 55) or higher with Java 8 (class version 52).","body":"You&#39;re trying to run something that requires Java 11 (class version 55) or higher with Java 8 (class version 52)."}],"owner":{"account_id":23439642,"reputation":1,"user_id":17497302,"display_name":"fToxicw5916"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1651663285,"answer_count":0,"score":0,"last_activity_date":1651662910,"creation_date":1651662910,"question_id":72112025,"body_markdown":"I tried running a Java jar file but an error occurred and printed:\r\n```\r\nError: A JNI error has occurred, please check your installation and try again\r\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: com/velocitypowered/proxy/Velocity has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n\tat java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:756)\r\n\tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n\tat java.net.URLClassLoader.defineClass(URLClassLoader.java:468)\r\n\tat java.net.URLClassLoader.access$100(URLClassLoader.java:74)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:369)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:363)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:362)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n\tat sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:601)\r\n```\r\nWhat should I do?","title":"Java: Error: A JNI error has occurred, please check your installation and try again","body":"<p>I tried running a Java jar file but an error occurred and printed:</p>\n<pre><code>Error: A JNI error has occurred, please check your installation and try again\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: com/velocitypowered/proxy/Velocity has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:756)\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:468)\n    at java.net.URLClassLoader.access$100(URLClassLoader.java:74)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:369)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:363)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:362)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:601)\n</code></pre>\n<p>What should I do?</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","apache-beam"],"comments":[{"owner":{"account_id":284307,"reputation":4946,"user_id":582333,"display_name":"robertwb"},"score":0,"creation_date":1651680722,"post_id":72111859,"comment_id":127422296,"body_markdown":"Could you clarify your question a bit more? I&#39;m assuming `options.getOutput()` is a path to somewhere in S3, right? S3 is a filesystem, so I&#39;m not quite understanding what you mean by &quot;put Parquet file to S3 without storing it into filesystem.&quot;","body":"Could you clarify your question a bit more? I&#39;m assuming <code>options.getOutput()</code> is a path to somewhere in S3, right? S3 is a filesystem, so I&#39;m not quite understanding what you mean by &quot;put Parquet file to S3 without storing it into filesystem.&quot;"},{"owner":{"account_id":16194832,"reputation":582,"user_id":11692715,"display_name":"Mohit Kumar"},"score":0,"creation_date":1651681734,"post_id":72111859,"comment_id":127422661,"body_markdown":"yes, and option.getOutput() is s3 filelocation and can i do something like that i want temp storage in normal filesystem and main storage in s3","body":"yes, and option.getOutput() is s3 filelocation and can i do something like that i want temp storage in normal filesystem and main storage in s3"}],"owner":{"account_id":16194832,"reputation":582,"user_id":11692715,"display_name":"Mohit Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":457,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651662016,"creation_date":1651662016,"question_id":72111859,"body_markdown":"I am trying to convert Json -&gt; Generic Record -&gt; Parquet --to--&gt; S3. I am able to convert it to Parquet but I don&#39;t know how to directly put Parquet file to S3 without storing it into filesystem.\r\n\r\nCode I wrote for this:\r\n\r\n    public static void main(String[] args) throws IOException {\r\n\r\n        PipelineOptionsFactory.register(MainConfig.class);\r\n        MainConfig options = PipelineOptionsFactory.fromArgs(args).withValidation().as(MainConfig.class);\r\n        Pipeline pipeLine = Pipeline.create(options);\r\n        BasicAWSCredentials awsCredentials = new BasicAWSCredentials(options.getAWSAccessKey(), options.getAWSSecretKey());\r\n        options.setAwsCredentialsProvider(new AWSStaticCredentialsProvider(awsCredentials));\r\n\r\n        Schema jsonSchema = new Schema.Parser().parse(schemaString);\r\n        logger.info(jsonSchema.getFields());\r\n        pipeLine.apply(&quot;ReadMyFile&quot;, TextIO.read().from(options.getInput()))\r\n                .apply(&quot;Convert Json To General Record&quot;, ParDo.of(new JsonToGeneralRecord(jsonSchema)))\r\n                .setCoder(AvroCoder.of(GenericRecord.class, jsonSchema))\r\n                .apply(&quot;Generation the parquet files&quot;, FileIO.&lt;GenericRecord&gt;write().via(ParquetIO.sink(jsonSchema)).to(options.getOutput()).withNumShards(1).withSuffix(&quot;.parquet&quot;));\r\n        pipeLine.run();\r\n\r\n\r\n    }\r\n\r\nAt the end I just want to add that parquet to S3\r\n\r\n\r\n","title":"How to write Parquet Files to AWS S3 using Apache Beam Java?","body":"<p>I am trying to convert Json -&gt; Generic Record -&gt; Parquet --to--&gt; S3. I am able to convert it to Parquet but I don't know how to directly put Parquet file to S3 without storing it into filesystem.</p>\n<p>Code I wrote for this:</p>\n<pre><code>public static void main(String[] args) throws IOException {\n\n    PipelineOptionsFactory.register(MainConfig.class);\n    MainConfig options = PipelineOptionsFactory.fromArgs(args).withValidation().as(MainConfig.class);\n    Pipeline pipeLine = Pipeline.create(options);\n    BasicAWSCredentials awsCredentials = new BasicAWSCredentials(options.getAWSAccessKey(), options.getAWSSecretKey());\n    options.setAwsCredentialsProvider(new AWSStaticCredentialsProvider(awsCredentials));\n\n    Schema jsonSchema = new Schema.Parser().parse(schemaString);\n    logger.info(jsonSchema.getFields());\n    pipeLine.apply(&quot;ReadMyFile&quot;, TextIO.read().from(options.getInput()))\n            .apply(&quot;Convert Json To General Record&quot;, ParDo.of(new JsonToGeneralRecord(jsonSchema)))\n            .setCoder(AvroCoder.of(GenericRecord.class, jsonSchema))\n            .apply(&quot;Generation the parquet files&quot;, FileIO.&lt;GenericRecord&gt;write().via(ParquetIO.sink(jsonSchema)).to(options.getOutput()).withNumShards(1).withSuffix(&quot;.parquet&quot;));\n    pipeLine.run();\n\n\n}\n</code></pre>\n<p>At the end I just want to add that parquet to S3</p>\n"},{"tags":["java","macos","terminal"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1651634839,"post_id":72107535,"comment_id":127407712,"body_markdown":"[Edit] your question and post the command you enter in order to run the JAR file. Also post from which directory do you issue the command as well as the directory that the JAR file is in. What is the package that class `TopLevelWindow` is in? What Java version are you using?  You say you can execute class `TopLevelWindow` by itself, i.e. when it is not in a JAR. Do you do that from the command line or from an IDE?","body":"<a href=\"https://stackoverflow.com/posts/72107535/edit\">Edit</a> your question and post the command you enter in order to run the JAR file. Also post from which directory do you issue the command as well as the directory that the JAR file is in. What is the package that class <code>TopLevelWindow</code> is in? What Java version are you using?  You say you can execute class <code>TopLevelWindow</code> by itself, i.e. when it is not in a JAR. Do you do that from the command line or from an IDE?"}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651661999,"creation_date":1651661999,"answer_id":72111858,"question_id":72107535,"body_markdown":"Move into the same directory as your class and do\r\n```\r\njar cfe top-level-window.jar TopLevelWindow TopLevelWindow.class\r\n```\r\nYou can then do\r\n``` \r\njava -jar top-level-window.jar\r\n```\r\nI would encourage proper packaging though - don&#39;t just use the default package.","title":"Is there a way to Create a .Jar file from 1 .Class file without a manifest file on Mac?","body":"<p>Move into the same directory as your class and do</p>\n<pre><code>jar cfe top-level-window.jar TopLevelWindow TopLevelWindow.class\n</code></pre>\n<p>You can then do</p>\n<pre><code>java -jar top-level-window.jar\n</code></pre>\n<p>I would encourage proper packaging though - don't just use the default package.</p>\n"}],"owner":{"account_id":22668832,"reputation":84,"user_id":16840803,"display_name":"SlothGamer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651661999,"creation_date":1651633533,"question_id":72107535,"body_markdown":"I have looked everywhere online And can only create a .jar file that doesn&#39;t open when clicking on it, im using the command\r\n&quot;jar cvf test.jar TopLevelWindow.class&quot; This creates a jar file that can&#39;t open when I click on it, however if I just click the .class file after gaining it from visual studio code it does open. I have tried more than once with multiple methods none worked, I open the file in the same directory it was created, im using java 17.0.1 2021-10-19 LTS from oracle, anyone know why this wont work?\r\n\r\nCode is \r\n\r\n    import java.awt.*; \r\n    import javax.swing.*;\r\n    \r\n    public class TopLevelWindow {\r\n    \r\n        private static void createwindow() {\r\n            JFrame frame = new JFrame(&quot;Binary Test&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n            JLabel textLabel = new JLabel(&quot;Binary Test&quot;,SwingConstants.CENTER);\r\n            textLabel.setPreferredSize(new Dimension(300, 100));\r\n            frame.getContentPane().add(textLabel, BorderLayout.CENTER);\r\n    \r\n            frame.setLocationRelativeTo(null);\r\n            frame.pack();\r\n            frame.setVisible(true);\r\n        }\r\n        public static void main(String[] args) {\r\n            createwindow();\r\n        }\r\n    } \r\n\r\nif curious","title":"Is there a way to Create a .Jar file from 1 .Class file without a manifest file on Mac?","body":"<p>I have looked everywhere online And can only create a .jar file that doesn't open when clicking on it, im using the command\n&quot;jar cvf test.jar TopLevelWindow.class&quot; This creates a jar file that can't open when I click on it, however if I just click the .class file after gaining it from visual studio code it does open. I have tried more than once with multiple methods none worked, I open the file in the same directory it was created, im using java 17.0.1 2021-10-19 LTS from oracle, anyone know why this wont work?</p>\n<p>Code is</p>\n<pre><code>import java.awt.*; \nimport javax.swing.*;\n\npublic class TopLevelWindow {\n\n    private static void createwindow() {\n        JFrame frame = new JFrame(&quot;Binary Test&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        JLabel textLabel = new JLabel(&quot;Binary Test&quot;,SwingConstants.CENTER);\n        textLabel.setPreferredSize(new Dimension(300, 100));\n        frame.getContentPane().add(textLabel, BorderLayout.CENTER);\n\n        frame.setLocationRelativeTo(null);\n        frame.pack();\n        frame.setVisible(true);\n    }\n    public static void main(String[] args) {\n        createwindow();\n    }\n} \n</code></pre>\n<p>if curious</p>\n"},{"tags":["java","java-time"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1651661892,"post_id":72111825,"comment_id":127414852,"body_markdown":"Local time is local time. You need to be situated in UTC zone if you want your local time to match UTC.","body":"Local time is local time. You need to be situated in UTC zone if you want your local time to match UTC."},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1651661918,"post_id":72111825,"comment_id":127414860,"body_markdown":"LocalDateTime is your local date/time, but without information stored about what that origin zone actually was. You could parse the string &quot;2022-01-01 00:00&quot; into a LocalDateTime. It would represent midnight, Jan 1st *somewhere*, but without knowing the *somewhere*, you wouldn&#39;t be able to say what instant that was","body":"LocalDateTime is your local date/time, but without information stored about what that origin zone actually was. You could parse the string &quot;2022-01-01 00:00&quot; into a LocalDateTime. It would represent midnight, Jan 1st <i>somewhere</i>, but without knowing the <i>somewhere</i>, you wouldn&#39;t be able to say what instant that was"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1651662017,"post_id":72111825,"comment_id":127414889,"body_markdown":"@Kayaman: Well, no you don&#39;t - you just need to *specify* that you want UTC.","body":"@Kayaman: Well, no you don&#39;t - you just need to <i>specify</i> that you want UTC."},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1651662192,"post_id":72111825,"comment_id":127414944,"body_markdown":"@JonSkeet And also there is no country that is &quot;in UTC zone&quot; year-round anyway (to my knowledge). UK matches UTC sometimes (GMT), but not in daylight savings (BST).","body":"@JonSkeet And also there is no country that is &quot;in UTC zone&quot; year-round anyway (to my knowledge). UK matches UTC sometimes (GMT), but not in daylight savings (BST)."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1651662195,"post_id":72111825,"comment_id":127414946,"body_markdown":"Also note that this question isn&#39;t really about *formatting*, contrary to the question title. It&#39;s about the value stored in the `LocalDateTime`.","body":"Also note that this question isn&#39;t really about <i>formatting</i>, contrary to the question title. It&#39;s about the value stored in the <code>LocalDateTime</code>."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1651662227,"post_id":72111825,"comment_id":127414955,"body_markdown":"@Michael: Indeed. Although it&#39;s entirely possible to set the system local time zone to UTC, of course.","body":"@Michael: Indeed. Although it&#39;s entirely possible to set the system local time zone to UTC, of course."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1651669933,"post_id":72111825,"comment_id":127417689,"body_markdown":"Never ever use the no-arg `LocalDateTime.now()`. For the UTC time use `LocalDateTime.now(ZoneOffset.UTC)` or even better `OffsetDateTime.now(ZoneOffset.UTC)` so the obtained object also knows its own offset.","body":"Never ever use the no-arg <code>LocalDateTime.now()</code>. For the UTC time use <code>LocalDateTime.now(ZoneOffset.UTC)</code> or even better <code>OffsetDateTime.now(ZoneOffset.UTC)</code> so the obtained object also knows its own offset."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1651673560,"post_id":72111825,"comment_id":127419344,"body_markdown":"Are you required to produce that format? I am a bit worried that it may be confused since `2022-05-04-10` according to [the ISO 8601 standard](https://en.wikipedia.org/wiki/ISO_8601) means a date at UTC offset -10:00 (10 hours behind UTC, as used in Pacific/Rarotonga, Pacific/Tahiti, Pacific/Honolulu and Pacific/Johnston time zones).","body":"Are you required to produce that format? I am a bit worried that it may be confused since <code>2022-05-04-10</code> according to <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">the ISO 8601 standard</a> means a date at UTC offset -10:00 (10 hours behind UTC, as used in Pacific/Rarotonga, Pacific/Tahiti, Pacific/Honolulu and Pacific/Johnston time zones)."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1651661917,"creation_date":1651661917,"answer_id":72111844,"question_id":72111825,"body_markdown":"You&#39;ve called `LocalDateTime.now()`, which is [documented](https://docs.oracle.com/javase/10/docs/api/java/time/LocalDateTime.html#now()) as (emphasis mine):\r\n\r\n&gt; Obtains the current date-time from the system clock **in the default time-zone**.\r\n&gt;\r\n&gt; This will query the system clock in the default time-zone to obtain the current date-time.\r\n\r\nThe returned `LocalDateTime` doesn&#39;t &quot;know&quot; the UTC offset, but it&#39;s been applied already in determining the value.\r\n\r\nIf you want to get the current UTC time, you can use `LocalDateTime.now(ZoneOffset.UTC)`. (It&#39;s possible that `LocalDateTime` isn&#39;t the most appropriate representation in that case though - we&#39;d need to know more about what you&#39;re using it for.)","title":"Why LocalDateTime formatted with zone offset?","body":"<p>You've called <code>LocalDateTime.now()</code>, which is <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/LocalDateTime.html#now()\" rel=\"noreferrer\">documented</a> as (emphasis mine):</p>\n<blockquote>\n<p>Obtains the current date-time from the system clock <strong>in the default time-zone</strong>.</p>\n<p>This will query the system clock in the default time-zone to obtain the current date-time.</p>\n</blockquote>\n<p>The returned <code>LocalDateTime</code> doesn't &quot;know&quot; the UTC offset, but it's been applied already in determining the value.</p>\n<p>If you want to get the current UTC time, you can use <code>LocalDateTime.now(ZoneOffset.UTC)</code>. (It's possible that <code>LocalDateTime</code> isn't the most appropriate representation in that case though - we'd need to know more about what you're using it for.)</p>\n"}],"owner":{"account_id":1301815,"reputation":31761,"user_id":1251549,"accept_rate":29,"display_name":"Cherry"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":375,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72111844,"answer_count":1,"score":2,"last_activity_date":1651661917,"creation_date":1651661772,"question_id":72111825,"body_markdown":"Consider code:\r\n\r\n  \r\n    public static void main(String[] args) {\r\n      System.out.println(LocalDateTime.now().format(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd-HH&quot;)));\r\n    }\r\n\r\nThe output is `2022-05-04-17` while UTC time is `2022-05-04-10`. The documentation says that `LocalDateTime` is without zone offset - so why there is 7 hour shift? (My local time zone is `+7UTC`)","title":"Why LocalDateTime formatted with zone offset?","body":"<p>Consider code:</p>\n<pre><code>public static void main(String[] args) {\n  System.out.println(LocalDateTime.now().format(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd-HH&quot;)));\n}\n</code></pre>\n<p>The output is <code>2022-05-04-17</code> while UTC time is <code>2022-05-04-10</code>. The documentation says that <code>LocalDateTime</code> is without zone offset - so why there is 7 hour shift? (My local time zone is <code>+7UTC</code>)</p>\n"},{"tags":["java","setter"],"comments":[{"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"score":1,"creation_date":1651654089,"post_id":72110164,"comment_id":127412167,"body_markdown":"Why do you set `valid = true;` when the user inputs an invalid name?? That is very counterintuitive","body":"Why do you set <code>valid = true;</code> when the user inputs an invalid name?? That is very counterintuitive"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1651654090,"post_id":72110164,"comment_id":127412168,"body_markdown":"You pass a string (the result of `sc.next()`) into your function and then loop until it&#39;s valid. But nothing in your method asks the user for new input (or changes `clientName`), so it&#39;s an infinite loop.\nAlso (and that&#39;s not the main problem) throwing an exception and catching it in the same method is almost always a bad idea. You could simply replace the `throw` statement with the content of the `catch` block.","body":"You pass a string (the result of <code>sc.next()</code>) into your function and then loop until it&#39;s valid. But nothing in your method asks the user for new input (or changes <code>clientName</code>), so it&#39;s an infinite loop. Also (and that&#39;s not the main problem) throwing an exception and catching it in the same method is almost always a bad idea. You could simply replace the <code>throw</code> statement with the content of the <code>catch</code> block."}],"answers":[{"tags":[],"owner":{"account_id":23990228,"reputation":74,"user_id":17976506,"display_name":"Dario Santos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651661212,"creation_date":1651661212,"answer_id":72111705,"question_id":72110164,"body_markdown":"Maybe that&#39;s because in your catch you are stating that `valid` is `true` when it should be `false` to repeat the block.","title":"Do...while is not working in input verification","body":"<p>Maybe that's because in your catch you are stating that <code>valid</code> is <code>true</code> when it should be <code>false</code> to repeat the block.</p>\n"}],"owner":{"display_name":"user14562713"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72111705,"answer_count":1,"score":2,"last_activity_date":1651661212,"creation_date":1651653873,"question_id":72110164,"body_markdown":"So I&#39;m trying to do an input verification for my program in java, and I&#39;m trying to do that in this setter:\r\n```\r\n  public void setClientName(String clientName) {\r\n        boolean valid;\r\n        do{\r\n            valid = false;\r\n            try{\r\n                 if(clientName.matches(&quot;[a-zA-Z]+&quot;)){\r\n                    this.clientName = clientName;\r\n                 }else{\r\n                     throw new IllegalArgumentException(&quot;Invalid client name&quot;);\r\n                 }\r\n            }catch(Exception e){\r\n                System.out.println(&quot;Invalid name&quot;);\r\n                valid = true;\r\n            }\r\n        }while(!valid);\r\n    }\r\n```\r\n\r\nBut when I call it and put a wrong name, the do...while does not work and the program just continue\r\n\r\nHere&#39;s where I call it\r\n```\r\n  public void openAccount(int i){\r\n        nCartao = 2021120040 + i;\r\n        System.out.println(&quot;Account Number : &quot; + (nCartao));\r\n        System.out.println(&quot;Client Name :&quot;);\r\n\r\n        setClientName(sc.next()); // I CALL IT HERE\r\n\r\n        System.out.println(&quot;Client Age : &quot;);\r\n        age = sc.nextInt();\r\n        System.out.println(&quot;Balance :&quot;);\r\n        balance = sc.nextInt();\r\n    }\r\n```\r\n\r\nWhat am I doing wrong?\r\n","title":"Do...while is not working in input verification","body":"<p>So I'm trying to do an input verification for my program in java, and I'm trying to do that in this setter:</p>\n<pre><code>  public void setClientName(String clientName) {\n        boolean valid;\n        do{\n            valid = false;\n            try{\n                 if(clientName.matches(&quot;[a-zA-Z]+&quot;)){\n                    this.clientName = clientName;\n                 }else{\n                     throw new IllegalArgumentException(&quot;Invalid client name&quot;);\n                 }\n            }catch(Exception e){\n                System.out.println(&quot;Invalid name&quot;);\n                valid = true;\n            }\n        }while(!valid);\n    }\n</code></pre>\n<p>But when I call it and put a wrong name, the do...while does not work and the program just continue</p>\n<p>Here's where I call it</p>\n<pre><code>  public void openAccount(int i){\n        nCartao = 2021120040 + i;\n        System.out.println(&quot;Account Number : &quot; + (nCartao));\n        System.out.println(&quot;Client Name :&quot;);\n\n        setClientName(sc.next()); // I CALL IT HERE\n\n        System.out.println(&quot;Client Age : &quot;);\n        age = sc.nextInt();\n        System.out.println(&quot;Balance :&quot;);\n        balance = sc.nextInt();\n    }\n</code></pre>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":3371376,"reputation":325,"user_id":2830505,"accept_rate":75,"display_name":"VirangaMahesh"},"score":0,"creation_date":1651666382,"post_id":72084216,"comment_id":127416284,"body_markdown":"Please post the way you set the data.","body":"Please post the way you set the data."},{"owner":{"account_id":24883406,"reputation":1,"user_id":18756346,"display_name":"Rakesh S"},"score":0,"creation_date":1652116687,"post_id":72084216,"comment_id":127523261,"body_markdown":"Sorry i didnt get your question. I&#39;m using JSON to pass the data in postman","body":"Sorry i didnt get your question. I&#39;m using JSON to pass the data in postman"},{"owner":{"account_id":3371376,"reputation":325,"user_id":2830505,"accept_rate":75,"display_name":"VirangaMahesh"},"score":0,"creation_date":1672163803,"post_id":72084216,"comment_id":132233928,"body_markdown":"Could you please share your JSON object?","body":"Could you please share your JSON object?"}],"owner":{"account_id":24883406,"reputation":1,"user_id":18756346,"display_name":"Rakesh S"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651661058,"creation_date":1651480649,"question_id":72084216,"body_markdown":"    public class ReadLesson {        \r\n    \tprivate int index;     \r\n    \r\n    \t@OneToOne(cascade = CascadeType.ALL)\r\n    \t@JoinColumn(name = &quot;read_lesson_id&quot;)\r\n    \tprivate LessonIntrod introduction;\r\n    \r\n    \t@OneToMany(mappedBy = &quot;readlesson&quot;, cascade = CascadeType.ALL)\r\n    \tprivate List&lt;LesImage&gt; images;\r\n    \r\n    //getter n setters\r\n    \r\n    }\r\n    \r\n    public class LesImage {\r\n    \r\n    \t@Column(name = &quot;imageid&quot;)\r\n    \tprivate int imageid;\r\n    \r\n    \t@Column(name = &quot;image&quot;)\r\n    \tprivate String image;\r\n    \r\n    \t@ManyToOne\r\n    \t@JoinColumn(name = &quot;readlesson_id&quot;, nullable = false)\r\n    \tprivate ReadLesson readlesson;\r\n    \r\n    }\r\n\r\n","title":"Foreign key is not saving in @OneToMany relation","body":"<pre><code>public class ReadLesson {        \n    private int index;     \n\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;read_lesson_id&quot;)\n    private LessonIntrod introduction;\n\n    @OneToMany(mappedBy = &quot;readlesson&quot;, cascade = CascadeType.ALL)\n    private List&lt;LesImage&gt; images;\n\n//getter n setters\n\n}\n\npublic class LesImage {\n\n    @Column(name = &quot;imageid&quot;)\n    private int imageid;\n\n    @Column(name = &quot;image&quot;)\n    private String image;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;readlesson_id&quot;, nullable = false)\n    private ReadLesson readlesson;\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":17554312,"reputation":51,"user_id":12734089,"display_name":"Skilled_Teaser"},"score":0,"creation_date":1651342158,"post_id":72069370,"comment_id":127344137,"body_markdown":"Please, provide us where you got this code from. Anyway it looks like you never authorize your user in filter. You could use for example `SecurityContextHolder.getContext().setAuthentication(UsernamePasswordAuthenticationToken);` to set a current logged user.","body":"Please, provide us where you got this code from. Anyway it looks like you never authorize your user in filter. You could use for example <code>SecurityContextHolder.getContext().setAuthentication(Usernam&zwnj;&#8203;ePasswordAuthenticat&zwnj;&#8203;ionToken);</code> to set a current logged user."},{"owner":{"account_id":20040239,"reputation":21,"user_id":14691089,"display_name":"mehdux"},"score":0,"creation_date":1651343050,"post_id":72069370,"comment_id":127344350,"body_markdown":"here : https://stackoverflow.com/questions/54609570/how-to-do-basic-authentication-using-cookies-in-spring-security","body":"here : <a href=\"https://stackoverflow.com/questions/54609570/how-to-do-basic-authentication-using-cookies-in-spring-security\" title=\"how to do basic authentication using cookies in spring security\">stackoverflow.com/questions/54609570/&hellip;</a>"},{"owner":{"account_id":17554312,"reputation":51,"user_id":12734089,"display_name":"Skilled_Teaser"},"score":0,"creation_date":1651344327,"post_id":72069370,"comment_id":127344603,"body_markdown":"Since you don&#39;t manage Security Context on your own and delegate it to the filters, please, check the documentation first. In your case you&#39;re putting `cookie.getValue()` as header name, but in SecurityConfig class put it before BasicAuthenticationFilter class. This class is trying to log in user using credentials in &quot;Authorization&quot; header, but i guess `cookie.getValue()` is not a constant value with content of &#39;Authorization&#39;. For further information look:\nhttps://docs.spring.io/spring-security/site/apidocs/org/springframework/security/web/authentication/www/BasicAuthenticationFilter.html","body":"Since you don&#39;t manage Security Context on your own and delegate it to the filters, please, check the documentation first. In your case you&#39;re putting <code>cookie.getValue()</code> as header name, but in SecurityConfig class put it before BasicAuthenticationFilter class. This class is trying to log in user using credentials in &quot;Authorization&quot; header, but i guess <code>cookie.getValue()</code> is not a constant value with content of &#39;Authorization&#39;. For further information look: <a href=\"https://docs.spring.io/spring-security/site/apidocs/org/springframework/security/web/authentication/www/BasicAuthenticationFilter.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/site/apidocs/org/springframew&zwnj;&#8203;ork/&hellip;</a>"}],"owner":{"account_id":20040239,"reputation":21,"user_id":14691089,"display_name":"mehdux"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651661022,"creation_date":1651328874,"question_id":72069370,"body_markdown":"I started a filter that I found on the internet to detect if the person is connected or not but it does not work when I go to the page which one must be identified to access it it gives me access denied.\r\n\r\nHere is my code : \r\n\r\n    public final class MutableHttpServletRequest extends HttpServletRequestWrapper {\r\n    // holds custom header and value mapping\r\n    private final Map&lt;String, String&gt; customHeaders;\r\n\r\n    public MutableHttpServletRequest(HttpServletRequest request) {\r\n        super(request);\r\n        this.customHeaders = new HashMap&lt;String, String&gt;();\r\n    }\r\n\r\n    public void putHeader(String name, String value) {\r\n        this.customHeaders.put(name, value);\r\n    }\r\n\r\n    public String getHeader(String name) {\r\n        // check the custom headers first\r\n        String headerValue = customHeaders.get(name);\r\n\r\n        if (headerValue != null) {\r\n            return headerValue;\r\n        }\r\n        // else return from into the original wrapped object\r\n        return ((HttpServletRequest) getRequest()).getHeader(name);\r\n    }\r\n\r\n    public Enumeration&lt;String&gt; getHeaderNames() {\r\n        // create a set of the custom header names\r\n        Set&lt;String&gt; set = new HashSet&lt;String&gt;(customHeaders.keySet());\r\n\r\n        // now add the headers from the wrapped request object\r\n        Enumeration&lt;String&gt; e = ((HttpServletRequest) getRequest()).getHeaderNames();\r\n        while (e.hasMoreElements()) {\r\n            // add the names of the request headers into the list\r\n            String n = e.nextElement();\r\n            set.add(n);\r\n        }\r\n\r\n        // create an enumeration from the set and return\r\n        return Collections.enumeration(set);\r\n    }\r\n\r\nClass CheckAuthCookieFilter\r\n\r\n    \r\n    \r\n\r\n    @Override\r\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\r\n            throws IOException, ServletException {\r\n\r\n        HttpServletRequest httpServletRequest = (HttpServletRequest) request;\r\n        MutableHttpServletRequest mutableRequest = new MutableHttpServletRequest(httpServletRequest);\r\n\r\n        Cookie[] cookies = httpServletRequest.getCookies();\r\n\r\n        if (cookies != null &amp;&amp; cookies.length &gt; 0) {\r\n            for (Cookie cookie : cookies) {                \r\n                if (cookie.getName().equals(&quot;user-id&quot;)) {\r\n                \t\r\n                    mutableRequest.putHeader(cookie.getValue(), URLDecoder.decode(cookie.getValue(), &quot;utf-8&quot;));\r\n                    \r\n                }\r\n            }\r\n        }\r\n\r\n        chain.doFilter(mutableRequest, response);\r\n\r\n    }\r\n\r\nClass SecurityConfig\r\n\r\n    \r\nclass SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n\t@Override\r\n\tpublic void configure(HttpSecurity httpSecurity) throws Exception {\r\n\r\n\t\t/*\r\n\t\t * httpSecurity.cors().and().authorizeRequests().antMatchers(&quot;/api/**&quot;).\r\n\t\t * permitAll().and().httpBasic().and() .csrf().disable();\r\n\t\t * httpSecurity.headers().frameOptions().disable();\r\n\t\t */\r\n\r\n\t\thttpSecurity.cors().and().authorizeRequests().antMatchers(&quot;/api/Users/login&quot;).permitAll().anyRequest()\r\n\t\t\t\t.authenticated().and().httpBasic().and().sessionManagement()\r\n\t\t\t\t.sessionCreationPolicy(SessionCreationPolicy.STATELESS).and().csrf().disable();\r\n\r\n\t\thttpSecurity.addFilterBefore(new CheckAuthCookieFilter(), BasicAuthenticationFilter.class);\r\n\r\n\t}\r\n\r\nCould you please help me.\r\n\r\n","title":"Spring boot HttpSecurity : My filter is not working","body":"<p>I started a filter that I found on the internet to detect if the person is connected or not but it does not work when I go to the page which one must be identified to access it it gives me access denied.</p>\n<p>Here is my code :</p>\n<pre><code>public final class MutableHttpServletRequest extends HttpServletRequestWrapper {\n// holds custom header and value mapping\nprivate final Map&lt;String, String&gt; customHeaders;\n\npublic MutableHttpServletRequest(HttpServletRequest request) {\n    super(request);\n    this.customHeaders = new HashMap&lt;String, String&gt;();\n}\n\npublic void putHeader(String name, String value) {\n    this.customHeaders.put(name, value);\n}\n\npublic String getHeader(String name) {\n    // check the custom headers first\n    String headerValue = customHeaders.get(name);\n\n    if (headerValue != null) {\n        return headerValue;\n    }\n    // else return from into the original wrapped object\n    return ((HttpServletRequest) getRequest()).getHeader(name);\n}\n\npublic Enumeration&lt;String&gt; getHeaderNames() {\n    // create a set of the custom header names\n    Set&lt;String&gt; set = new HashSet&lt;String&gt;(customHeaders.keySet());\n\n    // now add the headers from the wrapped request object\n    Enumeration&lt;String&gt; e = ((HttpServletRequest) getRequest()).getHeaderNames();\n    while (e.hasMoreElements()) {\n        // add the names of the request headers into the list\n        String n = e.nextElement();\n        set.add(n);\n    }\n\n    // create an enumeration from the set and return\n    return Collections.enumeration(set);\n}\n</code></pre>\n<p>Class CheckAuthCookieFilter</p>\n<pre><code>@Override\npublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\n        throws IOException, ServletException {\n\n    HttpServletRequest httpServletRequest = (HttpServletRequest) request;\n    MutableHttpServletRequest mutableRequest = new MutableHttpServletRequest(httpServletRequest);\n\n    Cookie[] cookies = httpServletRequest.getCookies();\n\n    if (cookies != null &amp;&amp; cookies.length &gt; 0) {\n        for (Cookie cookie : cookies) {                \n            if (cookie.getName().equals(&quot;user-id&quot;)) {\n                \n                mutableRequest.putHeader(cookie.getValue(), URLDecoder.decode(cookie.getValue(), &quot;utf-8&quot;));\n                \n            }\n        }\n    }\n\n    chain.doFilter(mutableRequest, response);\n\n}\n</code></pre>\n<p>Class SecurityConfig</p>\n<p>class SecurityConfig extends WebSecurityConfigurerAdapter {</p>\n<pre><code>@Override\npublic void configure(HttpSecurity httpSecurity) throws Exception {\n\n    /*\n     * httpSecurity.cors().and().authorizeRequests().antMatchers(&quot;/api/**&quot;).\n     * permitAll().and().httpBasic().and() .csrf().disable();\n     * httpSecurity.headers().frameOptions().disable();\n     */\n\n    httpSecurity.cors().and().authorizeRequests().antMatchers(&quot;/api/Users/login&quot;).permitAll().anyRequest()\n            .authenticated().and().httpBasic().and().sessionManagement()\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS).and().csrf().disable();\n\n    httpSecurity.addFilterBefore(new CheckAuthCookieFilter(), BasicAuthenticationFilter.class);\n\n}\n</code></pre>\n<p>Could you please help me.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","repository"],"answers":[{"tags":[],"owner":{"account_id":4619838,"reputation":31,"user_id":3745234,"display_name":"NorwegianDeveloper005"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651466617,"creation_date":1651466617,"answer_id":72082402,"question_id":72080237,"body_markdown":"A new morning, new possibilities and I found the issue with fresh eyes. The issue was the first one pointed out in this post: https://www.moreofless.co.uk/spring-mvc-java-autowired-component-null-repository-service/\r\n\r\nEven if this code was correct, I initiated the DataFetcher class manually in the controller, causing a null pointer exception in the next call. ","title":"A problem with getting Hibernate to work in Spring Boot","body":"<p>A new morning, new possibilities and I found the issue with fresh eyes. The issue was the first one pointed out in this post: <a href=\"https://www.moreofless.co.uk/spring-mvc-java-autowired-component-null-repository-service/\" rel=\"nofollow noreferrer\">https://www.moreofless.co.uk/spring-mvc-java-autowired-component-null-repository-service/</a></p>\n<p>Even if this code was correct, I initiated the DataFetcher class manually in the controller, causing a null pointer exception in the next call.</p>\n"}],"owner":{"account_id":4619838,"reputation":31,"user_id":3745234,"display_name":"NorwegianDeveloper005"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":467,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651661005,"creation_date":1651437395,"question_id":72080237,"body_markdown":"I wonder why I do not get this tutorial to work: https://www.baeldung.com/spring-boot-hibernate\r\nI am using MySQL and the example is H2, but is that relevant?\r\n\r\nI have the repository class like this: \r\n```\r\nimport spring.boardgame.registerboardgame.model.gameList;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface FrontGameListRepository extends JpaRepository&lt;gameList, Long&gt; {\r\n     \r\n}\r\n```\r\n\r\nI have the service class like this: \r\n\r\n``` \r\n@Service\r\npublic class DataFetcher {    \r\n    \r\n    @Autowired\r\n    private FrontGameListRepository frontgamelist;     \r\n    \r\n    public Iterable&lt;gameList&gt; fetchGameList(){\r\n        return this.frontgamelist.findAll();\r\n    }\r\n    \r\n} \r\n```\r\n\r\nAnd the entity class like this: \r\n\r\n``` @Entity\r\n@Immutable\r\n@Table(name = &quot;gamelist&quot;)\r\npublic class gameList {\r\n\t\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;, updatable = false, nullable = false)\r\n    private int id;\r\n\t\r\n\t@Column\r\n\tprivate String navn;\r\n\t\r\n\t@Column\r\n\tprivate int spillinger;\r\n\t\r\n\tpublic gameList() {\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic gameList(int nyid, String navne, int spillings) {\r\n\t\tthis.navn = navne;\r\n\t\tthis.id = nyid;\r\n\t\tthis.spillinger = spillings;\r\n\t}\r\n\t\r\n    public int getId() {\r\n        return this.id;\r\n    }   \r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n    \r\n    public float getSpillinger() {\r\n    \treturn this.spillinger;\r\n    }    \r\n    public void setSpillinger(int nyf) {\r\n    \tthis.spillinger = nyf;\r\n    }\r\n    \r\n    public void setNavn(String nynavn) {\r\n    \tthis.navn = nynavn;\r\n    }\r\n    \r\n    public String getNavn() {\r\n    \treturn this.navn;\r\n    }\r\n\t\r\n\t\r\n\r\n}\r\n```\r\n\r\nAnyone have any idea what I am doing wrong? I get a crash error that the frontgamelist object in the service class is null.\r\n\r\n","title":"A problem with getting Hibernate to work in Spring Boot","body":"<p>I wonder why I do not get this tutorial to work: <a href=\"https://www.baeldung.com/spring-boot-hibernate\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-hibernate</a>\nI am using MySQL and the example is H2, but is that relevant?</p>\n<p>I have the repository class like this:</p>\n<pre><code>import spring.boardgame.registerboardgame.model.gameList;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface FrontGameListRepository extends JpaRepository&lt;gameList, Long&gt; {\n     \n}\n</code></pre>\n<p>I have the service class like this:</p>\n<pre><code>@Service\npublic class DataFetcher {    \n    \n    @Autowired\n    private FrontGameListRepository frontgamelist;     \n    \n    public Iterable&lt;gameList&gt; fetchGameList(){\n        return this.frontgamelist.findAll();\n    }\n    \n} \n</code></pre>\n<p>And the entity class like this:</p>\n<pre><code>@Immutable\n@Table(name = &quot;gamelist&quot;)\npublic class gameList {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;, updatable = false, nullable = false)\n    private int id;\n    \n    @Column\n    private String navn;\n    \n    @Column\n    private int spillinger;\n    \n    public gameList() {\n        \n    }\n    \n    public gameList(int nyid, String navne, int spillings) {\n        this.navn = navne;\n        this.id = nyid;\n        this.spillinger = spillings;\n    }\n    \n    public int getId() {\n        return this.id;\n    }   \n    public void setId(int id) {\n        this.id = id;\n    }\n    \n    public float getSpillinger() {\n        return this.spillinger;\n    }    \n    public void setSpillinger(int nyf) {\n        this.spillinger = nyf;\n    }\n    \n    public void setNavn(String nynavn) {\n        this.navn = nynavn;\n    }\n    \n    public String getNavn() {\n        return this.navn;\n    }\n    \n    \n\n}\n</code></pre>\n<p>Anyone have any idea what I am doing wrong? I get a crash error that the frontgamelist object in the service class is null.</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1581102756,"creation_date":1581102756,"answer_id":60119704,"question_id":60119592,"body_markdown":"The WSDL portion isn&#39;t exactly relevant, but I don&#39;t see where you&#39;re configuring your repository bean. You need to add a configuration class for it.\r\n\r\nFor example:\r\n\r\n    @Configuration\r\n    @EntityScan(basePackageClasses = Cliente.class)\r\n    @EnableJpaRepositories(basePackageClasses = ClienteRepository.class)\r\n    public class ClienteRepositoryConfiguration{}\r\n\r\n`@EntityScan` is to define what classes represent the data in your database, and `@EnableJpaRepositories` defines your repository or repositories.","title":"Consider defining a bean of type &#39;com.example.conexion.repository.ClienteRepository&#39; in your configuration","body":"<p>The WSDL portion isn't exactly relevant, but I don't see where you're configuring your repository bean. You need to add a configuration class for it.</p>\n\n<p>For example:</p>\n\n<pre><code>@Configuration\n@EntityScan(basePackageClasses = Cliente.class)\n@EnableJpaRepositories(basePackageClasses = ClienteRepository.class)\npublic class ClienteRepositoryConfiguration{}\n</code></pre>\n\n<p><code>@EntityScan</code> is to define what classes represent the data in your database, and <code>@EnableJpaRepositories</code> defines your repository or repositories.</p>\n"},{"tags":[],"owner":{"account_id":1836887,"reputation":147,"user_id":1667075,"accept_rate":25,"display_name":"Panda1667075"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608085334,"creation_date":1608085334,"answer_id":65316408,"question_id":60119592,"body_markdown":"Annotate your Springboot main class with\r\n\r\n    @EnableJpaRepositories(basePackages = {&quot;com.mypackage.package.*&quot;})\r\n    @ComponentScan(basePackages = { &quot;com.mypackage.package.*&quot; })\r\n    @EntityScan(basePackages = {&quot;com.mypackage.package.entity&quot;})\r\n    public class SpringApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(SpringApplication.class, args);\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Consider defining a bean of type &#39;com.example.conexion.repository.ClienteRepository&#39; in your configuration","body":"<p>Annotate your Springboot main class with</p>\n<pre><code>@EnableJpaRepositories(basePackages = {&quot;com.mypackage.package.*&quot;})\n@ComponentScan(basePackages = { &quot;com.mypackage.package.*&quot; })\n@EntityScan(basePackages = {&quot;com.mypackage.package.entity&quot;})\npublic class SpringApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringApplication.class, args);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2340745,"reputation":7243,"user_id":2052097,"accept_rate":85,"display_name":"z atef"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1608086645,"creation_date":1608086645,"answer_id":65316575,"question_id":60119592,"body_markdown":"Just move main class &quot;SpringApplication&quot; up by one package. ","title":"Consider defining a bean of type &#39;com.example.conexion.repository.ClienteRepository&#39; in your configuration","body":"<p>Just move main class &quot;SpringApplication&quot; up by one package.</p>\n"},{"tags":[],"owner":{"account_id":25192367,"reputation":55,"user_id":19032411,"display_name":"stakeika"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651660975,"creation_date":1651660975,"answer_id":72111654,"question_id":60119592,"body_markdown":"I had similar error message when using MongoRepository from external library. My solution was adding `@EnableMongoRepositories(basePackages = &quot;package.of.my.repo&quot;)` to my main class.","title":"Consider defining a bean of type &#39;com.example.conexion.repository.ClienteRepository&#39; in your configuration","body":"<p>I had similar error message when using MongoRepository from external library. My solution was adding <code>@EnableMongoRepositories(basePackages = &quot;package.of.my.repo&quot;)</code> to my main class.</p>\n"}],"owner":{"account_id":16016597,"reputation":743,"user_id":11559150,"display_name":"Cesar Justo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8370,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1651660975,"creation_date":1581102257,"question_id":60119592,"body_markdown":"Good afternoon I&#39;m trying to run a SOAP service with Spring Boot and I get the following error:\r\n\r\n&gt; *************************** APPLICATION FAILED TO START\r\n&gt; ***************************\r\n&gt; \r\n&gt; Description:\r\n&gt; \r\n&gt; Parameter 0 of constructor in\r\n&gt; com.example.conexion.service.ClienteServiceImpl required a bean of\r\n&gt; type &#39;com.example.conexion.repository.ClienteRepository&#39; that could\r\n&gt; not be found.\r\n&gt; \r\n&gt; \r\n&gt; Action:\r\n&gt; \r\n&gt; Consider defining a bean of type\r\n&gt; &#39;com.example.conexion.repository.ClienteRepository&#39; in your\r\n&gt; configuration.\r\n\r\n\r\nI know that maybe it should be a silly mistake, but I don&#39;t see it\r\n\r\n\r\nAnnex my code:\r\n\r\nSpringBootSoapApp.java\r\n\r\n    package com.example.conexion;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\r\n    \r\n    \r\n    @SpringBootApplication(exclude = {DataSourceAutoConfiguration.class }) \r\n    public class SpringBootSoapApp {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(SpringBootSoapApp.class, args);\r\n        }\r\n    }\r\n\r\nWebServiceConfig.java\r\n\r\n    package com.example.conexion.config;\r\n    import org.springframework.boot.web.servlet.ServletRegistrationBean;\r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.core.io.ClassPathResource;\r\n    import org.springframework.ws.config.annotation.EnableWs;\r\n    import org.springframework.ws.config.annotation.WsConfigurerAdapter;\r\n    import org.springframework.ws.transport.http.MessageDispatcherServlet;\r\n    import org.springframework.ws.wsdl.wsdl11.DefaultWsdl11Definition;\r\n    import org.springframework.xml.xsd.SimpleXsdSchema;\r\n    import org.springframework.xml.xsd.XsdSchema;\r\n    import com.example.conexion.endpoint.ClienteEndpoint;\r\n    \r\n    @EnableWs\r\n    @Configuration\r\n    public class WebServiceConfig extends WsConfigurerAdapter {\r\n    \r\n         @SuppressWarnings({ &quot;rawtypes&quot;, &quot;unchecked&quot; })\r\n            @Bean\r\n            public ServletRegistrationBean messageDispatcherServlet(ApplicationContext appContext){\r\n                MessageDispatcherServlet servlet = new MessageDispatcherServlet();\r\n                servlet.setApplicationContext(appContext);\r\n                servlet.setTransformWsdlLocations(true);\r\n                return new ServletRegistrationBean(servlet, &quot;/ws/*&quot;);\r\n            }\r\n    \r\n            // localhost:8080/ws/movies.wsdl\r\n            @Bean(name = &quot;clientes&quot;)\r\n            public DefaultWsdl11Definition defaultWsdl11Definition(XsdSchema schema){\r\n                DefaultWsdl11Definition wsdl11Definition = new DefaultWsdl11Definition();\r\n                wsdl11Definition.setPortTypeName(&quot;ClientesPort&quot;);\r\n                wsdl11Definition.setLocationUri(&quot;/ws&quot;);\r\n                wsdl11Definition.setTargetNamespace(ClienteEndpoint.NAMESPACE_URI);\r\n                wsdl11Definition.setSchema(schema);\r\n                return wsdl11Definition;\r\n            }\r\n    \r\n            @Bean\r\n            public XsdSchema moviesSchema(){\r\n                return new SimpleXsdSchema(new ClassPathResource(&quot;cliente.xsd&quot;));\r\n            }\r\n    }\r\n\r\nClienteEndpoint.java\r\n\r\n    package com.example.conexion.endpoint;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import org.springframework.beans.BeanUtils;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.ws.server.endpoint.annotation.Endpoint;\r\n    import org.springframework.ws.server.endpoint.annotation.PayloadRoot;\r\n    import org.springframework.ws.server.endpoint.annotation.RequestPayload;\r\n    import org.springframework.ws.server.endpoint.annotation.ResponsePayload;\r\n    import com.example.conexion.entity.Cliente;\r\n    import com.example.conexion.service.ClienteService;\r\n    import com.example.conexion.gs_ws.ClienteType;\r\n    import com.example.conexion.gs_ws.GetAllClientesRequest;\r\n    import com.example.conexion.gs_ws.GetAllClientesResponse;\r\n    import com.example.conexion.gs_ws.GetClienteByIdRequest;\r\n    import com.example.conexion.gs_ws.GetClienteByIdResponse;\r\n    \r\n    @Endpoint\r\n    public class ClienteEndpoint {\r\n    \r\n            public static final String NAMESPACE_URI = &quot;http://www.javaspringclub.com/movies-ws&quot;;\r\n        \r\n            private ClienteService service;\r\n        \r\n            public ClienteEndpoint() {\r\n        \r\n            }\r\n        \r\n            @Autowired\r\n            public ClienteEndpoint(ClienteService service) {\r\n                this.service = service;\r\n            }\r\n        \r\n            @PayloadRoot(namespace = NAMESPACE_URI, localPart = &quot;getClienteByIdRequest&quot;)\r\n            @ResponsePayload\r\n            public GetClienteByIdResponse getMovieById(@RequestPayload GetClienteByIdRequest request) {\r\n                GetClienteByIdResponse response = new GetClienteByIdResponse();\r\n                Cliente clienteEntity = service.getClienteById(request.getClienteCedula());\r\n                ClienteType clienteType = new ClienteType();\r\n                BeanUtils.copyProperties(clienteEntity, clienteType);\r\n                response.setClienteType(clienteType);\r\n                return response;\r\n        \r\n            }\r\n        \r\n            @PayloadRoot(namespace = NAMESPACE_URI, localPart = &quot;getAllClientesRequest&quot;)\r\n            @ResponsePayload\r\n            public GetAllClientesResponse getAllMovies(@RequestPayload GetAllClientesRequest request) {\r\n                GetAllClientesResponse response = new GetAllClientesResponse();\r\n                List&lt;ClienteType&gt; clienteTypeList = new ArrayList&lt;ClienteType&gt;();\r\n                List&lt;Cliente&gt; clienteEntityList = service.getAllClientes();\r\n                for (Cliente cliente : clienteEntityList) {\r\n                    ClienteType clienteType = new ClienteType();\r\n                    BeanUtils.copyProperties(cliente, clienteType);\r\n                    clienteTypeList.add(clienteType);\r\n                }\r\n                response.getClienteType().addAll(clienteTypeList);\r\n        \r\n                return response;\r\n        \r\n            }\r\n        }\r\n\r\nCliente.java\r\n\r\n    package com.example.conexion.entity;\r\n    \r\n    \r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id;\r\n    \r\n    @Entity\r\n    \r\n        public class Cliente {\r\n        \r\n            @Id\r\n            @Column(name=&quot;CEDULA&quot;)\r\n            private int cedula;\r\n            @Column(name=&quot;NOMBRE&quot;)\r\n            private String nombre;\r\n            @Column(name=&quot;APELLIDO&quot;)\r\n            private String apellido;\r\n            @Column(name=&quot;TIPO_CLIENTE&quot;)\r\n            private String tipo_cliente;\r\n        \r\n            // Getter y Setters\r\n            public int getCedula() {\r\n                return cedula;\r\n            }\r\n            public void setCedula(int cedula) {\r\n                this.cedula = cedula;\r\n            }\r\n            public String getNombre() {\r\n                return nombre;\r\n            }\r\n            public void setNombre(String nombre) {\r\n                this.nombre = nombre;\r\n            }\r\n            public String getApellido() {\r\n                return apellido;\r\n            }\r\n            public void setApellido(String apellido) {\r\n                this.apellido = apellido;\r\n            }\r\n            public String getTipo_cliente() {\r\n                return tipo_cliente;\r\n            }\r\n            public void setTipo_cliente(String tipo_cliente) {\r\n                this.tipo_cliente = tipo_cliente;\r\n            }\r\n        \r\n        }\r\n\r\nClienteRespository.java\r\n\r\n    package com.example.conexion.repository;\r\n    import org.springframework.data.repository.CrudRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    import com.example.conexion.entity.Cliente;\r\n    \r\n    @Repository\r\n    public interface ClienteRepository extends CrudRepository &lt;Cliente,Integer&gt; {\r\n    \t\r\n    \tpublic Cliente findById(int cedula);\r\n    \r\n    }\r\n\r\nClienteService.java\r\n\r\n    package com.example.conexion.service;\r\n    import com.example.conexion.entity.Cliente;\r\n    import java.util.List;\r\n    \r\n    \r\n    public interface ClienteService {\r\n    \r\n        public Cliente getClienteById(int id);\r\n        public List&lt;Cliente&gt; getAllClientes();\r\n    }\r\n\r\nClienteServiceImpl.java\r\n\r\n    package com.example.conexion.service;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import javax.transaction.Transactional;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import com.example.conexion.service.ClienteService;\r\n    import com.example.conexion.entity.Cliente;\r\n    import com.example.conexion.repository.ClienteRepository;\r\n    \r\n    @Service\r\n    @Transactional\r\n    public class ClienteServiceImpl implements ClienteService {\r\n    \r\n    \tprivate ClienteRepository repository;\r\n    \t\r\n    \tpublic ClienteServiceImpl() {\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t@Autowired\r\n    \tpublic ClienteServiceImpl(ClienteRepository repository) {\r\n    \t\tthis.repository = repository;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic Cliente getClienteById(int cedula) {\r\n    \t\treturn this.repository.findById(cedula);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic List&lt;Cliente&gt; getAllClientes() {\r\n    \t\tList&lt;Cliente&gt; list = new ArrayList&lt;&gt;();\r\n    \t\trepository.findAll().forEach(e -&gt; list.add(e));\r\n    \t\treturn list;\r\n    \t}\t\r\n    \t\r\n    }\r\n\r\ncliente.xsd\r\n\r\n    &lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n    \txmlns:tns=&quot;http://www.javaspringclub.com/clientes-ws&quot;\r\n    \ttargetNamespace=&quot;http://www.javaspringclub.com/clientes-ws&quot;\r\n    \telementFormDefault=&quot;qualified&quot;&gt;\r\n    \r\n    \t&lt;xs:element name=&quot;getClienteByIdRequest&quot;&gt;\r\n    \t\t&lt;xs:complexType&gt;\r\n    \t\t\t&lt;xs:sequence&gt;\r\n    \t\t\t\t&lt;xs:element name=&quot;clienteCedula&quot; type=&quot;xs:int&quot; /&gt;\r\n    \t\t\t&lt;/xs:sequence&gt;\r\n    \t\t&lt;/xs:complexType&gt;\r\n    \t&lt;/xs:element&gt;\r\n    \r\n    \t&lt;xs:element name=&quot;getClienteByIdResponse&quot;&gt;\r\n    \t\t&lt;xs:complexType&gt;\r\n    \t\t\t&lt;xs:sequence&gt;\r\n    \t\t\t\t&lt;xs:element name=&quot;clienteType&quot; type=&quot;tns:clienteType&quot; /&gt;\r\n    \t\t\t&lt;/xs:sequence&gt;\r\n    \t\t&lt;/xs:complexType&gt;\r\n    \t&lt;/xs:element&gt;\r\n    \t&lt;xs:complexType name=&quot;clienteType&quot;&gt;\r\n    \t\t&lt;xs:sequence&gt;\r\n    \t\t\t&lt;xs:element name=&quot;cedula&quot; type=&quot;xs:int&quot; /&gt;\r\n    \t\t\t&lt;xs:element name=&quot;name&quot; type=&quot;xs:string&quot; /&gt;\r\n    \t\t\t&lt;xs:element name=&quot;apellido&quot; type=&quot;xs:string&quot; /&gt;\r\n    \t\t\t&lt;xs:element name=&quot;tipo_cliente&quot; type=&quot;xs:string&quot; /&gt;\r\n    \t\t&lt;/xs:sequence&gt;\r\n    \t&lt;/xs:complexType&gt;\r\n    \r\n     &lt;xs:element name=&quot;getAllClientesRequest&quot;&gt;\r\n            &lt;xs:complexType/&gt;\r\n        &lt;/xs:element&gt;    \r\n        &lt;xs:element name=&quot;getAllClientesResponse&quot;&gt;\r\n            &lt;xs:complexType&gt;\r\n                &lt;xs:sequence&gt;\r\n                    &lt;xs:element name=&quot;clienteType&quot; type=&quot;tns:clienteType&quot; maxOccurs=&quot;unbounded&quot;/&gt;\r\n                &lt;/xs:sequence&gt;\r\n            &lt;/xs:complexType&gt;\r\n        &lt;/xs:element&gt;\r\n        \r\n    &lt;/xs:schema&gt;  \r\n\r\napplication.properties\r\n\r\n    # Oracle settings\r\n    spring.datasource.url=jdbc:oracle:thin:@//10.164.7.203:1521/ORCLPDB1.localdomain\r\n    spring.datasource.username=cesar\r\n    spring.datasource.password=xxxxxx123\r\n    spring.datasource.driver-class-name=oracle.jdbc.driver.OracleDriver\r\n    spring.jpa.hibernate.ddl-auto=update\r\n\r\npom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;groupId&gt;com.example.conexion&lt;/groupId&gt;\r\n      &lt;artifactId&gt;soap-service-example&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n      &lt;name&gt;soap-service-example&lt;/name&gt;\r\n      &lt;description&gt;WebService Example&lt;/description&gt;\r\n    \r\n      &lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.0.4.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n      &lt;/parent&gt;\t\r\n      &lt;properties&gt;\r\n        \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n      &lt;/properties&gt;\r\n    \r\n    \t &lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;wsdl4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;wsdl4j&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;com.oracle.jdbc&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;12.2.0.1&lt;/version&gt;\r\n    \t   &lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t  \r\n    \t &lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;xjc-schema&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;xjc&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;sources&gt;\r\n    \t\t\t\t\t\t&lt;source&gt;src/resources/xsd/clientes.xsd&lt;/source&gt;\r\n    \t\t\t\t\t&lt;/sources&gt;\r\n    \t\t\t\t\t&lt;packageName&gt;com.example.conexion.gs_ws&lt;/packageName&gt;\r\n    \t\t\t\t\t&lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \t\t&lt;repositories&gt;\r\n    \t\t    &lt;!-- Repository for ORACLE JDBC Driver --&gt;\r\n    \t\t    &lt;repository&gt;\r\n    \t\t        &lt;id&gt;codelds&lt;/id&gt;\r\n    \t\t        &lt;url&gt;https://code.lds.org/nexus/content/groups/main-repo&lt;/url&gt;\r\n    \t\t    &lt;/repository&gt;\r\n    \t\t    \t&lt;repository&gt;\r\n    \t\t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n    \t\t\t\t&lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n    \t\t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n    \t\t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n    \t\t\t\t&lt;/snapshots&gt;\r\n    \t\t\t&lt;/repository&gt;\r\n    \t\t\t&lt;repository&gt;\r\n    \t\t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n    \t\t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n    \t\t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n    \t\t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t\t&lt;/snapshots&gt;\r\n    \t\t\t&lt;/repository&gt;\r\n    \t\t&lt;/repositories&gt;\r\n    \t\t&lt;pluginRepositories&gt;\r\n    \t\t\t&lt;pluginRepository&gt;\r\n    \t\t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n    \t\t\t\t&lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n    \t\t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n    \t\t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n    \t\t\t\t&lt;/snapshots&gt;\r\n    \t\t\t&lt;/pluginRepository&gt;\r\n    \t\t\t&lt;pluginRepository&gt;\r\n    \t\t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n    \t\t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n    \t\t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n    \t\t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t\t&lt;/snapshots&gt;\r\n    \t\t\t&lt;/pluginRepository&gt;\r\n    \t\t&lt;/pluginRepositories&gt;\r\n    &lt;/project&gt;\r\n\r\nMy structure of the project\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI am trying to follow this example: https://www.javaspringclub.com/publish-and-consume-soap-web-services-using-spring-boot-part-1/, but to connect to an oracle database that is in a container, and of which I have already tested the connection, I am relatively new to spring boot\r\n\r\n  [1]: https://i.stack.imgur.com/6X2tn.png","title":"Consider defining a bean of type &#39;com.example.conexion.repository.ClienteRepository&#39; in your configuration","body":"<p>Good afternoon I'm trying to run a SOAP service with Spring Boot and I get the following error:</p>\n\n<blockquote>\n  <p>*************************** APPLICATION FAILED TO START</p>\n  \n  <hr>\n  \n  <p>Description:</p>\n  \n  <p>Parameter 0 of constructor in\n  com.example.conexion.service.ClienteServiceImpl required a bean of\n  type 'com.example.conexion.repository.ClienteRepository' that could\n  not be found.</p>\n  \n  <p>Action:</p>\n  \n  <p>Consider defining a bean of type\n  'com.example.conexion.repository.ClienteRepository' in your\n  configuration.</p>\n</blockquote>\n\n<p>I know that maybe it should be a silly mistake, but I don't see it</p>\n\n<p>Annex my code:</p>\n\n<p>SpringBootSoapApp.java</p>\n\n<pre><code>package com.example.conexion;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\n\n\n@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class }) \npublic class SpringBootSoapApp {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringBootSoapApp.class, args);\n    }\n}\n</code></pre>\n\n<p>WebServiceConfig.java</p>\n\n<pre><code>package com.example.conexion.config;\nimport org.springframework.boot.web.servlet.ServletRegistrationBean;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.io.ClassPathResource;\nimport org.springframework.ws.config.annotation.EnableWs;\nimport org.springframework.ws.config.annotation.WsConfigurerAdapter;\nimport org.springframework.ws.transport.http.MessageDispatcherServlet;\nimport org.springframework.ws.wsdl.wsdl11.DefaultWsdl11Definition;\nimport org.springframework.xml.xsd.SimpleXsdSchema;\nimport org.springframework.xml.xsd.XsdSchema;\nimport com.example.conexion.endpoint.ClienteEndpoint;\n\n@EnableWs\n@Configuration\npublic class WebServiceConfig extends WsConfigurerAdapter {\n\n     @SuppressWarnings({ \"rawtypes\", \"unchecked\" })\n        @Bean\n        public ServletRegistrationBean messageDispatcherServlet(ApplicationContext appContext){\n            MessageDispatcherServlet servlet = new MessageDispatcherServlet();\n            servlet.setApplicationContext(appContext);\n            servlet.setTransformWsdlLocations(true);\n            return new ServletRegistrationBean(servlet, \"/ws/*\");\n        }\n\n        // localhost:8080/ws/movies.wsdl\n        @Bean(name = \"clientes\")\n        public DefaultWsdl11Definition defaultWsdl11Definition(XsdSchema schema){\n            DefaultWsdl11Definition wsdl11Definition = new DefaultWsdl11Definition();\n            wsdl11Definition.setPortTypeName(\"ClientesPort\");\n            wsdl11Definition.setLocationUri(\"/ws\");\n            wsdl11Definition.setTargetNamespace(ClienteEndpoint.NAMESPACE_URI);\n            wsdl11Definition.setSchema(schema);\n            return wsdl11Definition;\n        }\n\n        @Bean\n        public XsdSchema moviesSchema(){\n            return new SimpleXsdSchema(new ClassPathResource(\"cliente.xsd\"));\n        }\n}\n</code></pre>\n\n<p>ClienteEndpoint.java</p>\n\n<pre><code>package com.example.conexion.endpoint;\nimport java.util.ArrayList;\nimport java.util.List;\nimport org.springframework.beans.BeanUtils;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.ws.server.endpoint.annotation.Endpoint;\nimport org.springframework.ws.server.endpoint.annotation.PayloadRoot;\nimport org.springframework.ws.server.endpoint.annotation.RequestPayload;\nimport org.springframework.ws.server.endpoint.annotation.ResponsePayload;\nimport com.example.conexion.entity.Cliente;\nimport com.example.conexion.service.ClienteService;\nimport com.example.conexion.gs_ws.ClienteType;\nimport com.example.conexion.gs_ws.GetAllClientesRequest;\nimport com.example.conexion.gs_ws.GetAllClientesResponse;\nimport com.example.conexion.gs_ws.GetClienteByIdRequest;\nimport com.example.conexion.gs_ws.GetClienteByIdResponse;\n\n@Endpoint\npublic class ClienteEndpoint {\n\n        public static final String NAMESPACE_URI = \"http://www.javaspringclub.com/movies-ws\";\n\n        private ClienteService service;\n\n        public ClienteEndpoint() {\n\n        }\n\n        @Autowired\n        public ClienteEndpoint(ClienteService service) {\n            this.service = service;\n        }\n\n        @PayloadRoot(namespace = NAMESPACE_URI, localPart = \"getClienteByIdRequest\")\n        @ResponsePayload\n        public GetClienteByIdResponse getMovieById(@RequestPayload GetClienteByIdRequest request) {\n            GetClienteByIdResponse response = new GetClienteByIdResponse();\n            Cliente clienteEntity = service.getClienteById(request.getClienteCedula());\n            ClienteType clienteType = new ClienteType();\n            BeanUtils.copyProperties(clienteEntity, clienteType);\n            response.setClienteType(clienteType);\n            return response;\n\n        }\n\n        @PayloadRoot(namespace = NAMESPACE_URI, localPart = \"getAllClientesRequest\")\n        @ResponsePayload\n        public GetAllClientesResponse getAllMovies(@RequestPayload GetAllClientesRequest request) {\n            GetAllClientesResponse response = new GetAllClientesResponse();\n            List&lt;ClienteType&gt; clienteTypeList = new ArrayList&lt;ClienteType&gt;();\n            List&lt;Cliente&gt; clienteEntityList = service.getAllClientes();\n            for (Cliente cliente : clienteEntityList) {\n                ClienteType clienteType = new ClienteType();\n                BeanUtils.copyProperties(cliente, clienteType);\n                clienteTypeList.add(clienteType);\n            }\n            response.getClienteType().addAll(clienteTypeList);\n\n            return response;\n\n        }\n    }\n</code></pre>\n\n<p>Cliente.java</p>\n\n<pre><code>package com.example.conexion.entity;\n\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\n\n@Entity\n\n    public class Cliente {\n\n        @Id\n        @Column(name=\"CEDULA\")\n        private int cedula;\n        @Column(name=\"NOMBRE\")\n        private String nombre;\n        @Column(name=\"APELLIDO\")\n        private String apellido;\n        @Column(name=\"TIPO_CLIENTE\")\n        private String tipo_cliente;\n\n        // Getter y Setters\n        public int getCedula() {\n            return cedula;\n        }\n        public void setCedula(int cedula) {\n            this.cedula = cedula;\n        }\n        public String getNombre() {\n            return nombre;\n        }\n        public void setNombre(String nombre) {\n            this.nombre = nombre;\n        }\n        public String getApellido() {\n            return apellido;\n        }\n        public void setApellido(String apellido) {\n            this.apellido = apellido;\n        }\n        public String getTipo_cliente() {\n            return tipo_cliente;\n        }\n        public void setTipo_cliente(String tipo_cliente) {\n            this.tipo_cliente = tipo_cliente;\n        }\n\n    }\n</code></pre>\n\n<p>ClienteRespository.java</p>\n\n<pre><code>package com.example.conexion.repository;\nimport org.springframework.data.repository.CrudRepository;\nimport org.springframework.stereotype.Repository;\n\nimport com.example.conexion.entity.Cliente;\n\n@Repository\npublic interface ClienteRepository extends CrudRepository &lt;Cliente,Integer&gt; {\n\n    public Cliente findById(int cedula);\n\n}\n</code></pre>\n\n<p>ClienteService.java</p>\n\n<pre><code>package com.example.conexion.service;\nimport com.example.conexion.entity.Cliente;\nimport java.util.List;\n\n\npublic interface ClienteService {\n\n    public Cliente getClienteById(int id);\n    public List&lt;Cliente&gt; getAllClientes();\n}\n</code></pre>\n\n<p>ClienteServiceImpl.java</p>\n\n<pre><code>package com.example.conexion.service;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport javax.transaction.Transactional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport com.example.conexion.service.ClienteService;\nimport com.example.conexion.entity.Cliente;\nimport com.example.conexion.repository.ClienteRepository;\n\n@Service\n@Transactional\npublic class ClienteServiceImpl implements ClienteService {\n\n    private ClienteRepository repository;\n\n    public ClienteServiceImpl() {\n\n    }\n\n    @Autowired\n    public ClienteServiceImpl(ClienteRepository repository) {\n        this.repository = repository;\n    }\n\n    @Override\n    public Cliente getClienteById(int cedula) {\n        return this.repository.findById(cedula);\n    }\n\n    @Override\n    public List&lt;Cliente&gt; getAllClientes() {\n        List&lt;Cliente&gt; list = new ArrayList&lt;&gt;();\n        repository.findAll().forEach(e -&gt; list.add(e));\n        return list;\n    }   \n\n}\n</code></pre>\n\n<p>cliente.xsd</p>\n\n<pre><code>&lt;xs:schema xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"\n    xmlns:tns=\"http://www.javaspringclub.com/clientes-ws\"\n    targetNamespace=\"http://www.javaspringclub.com/clientes-ws\"\n    elementFormDefault=\"qualified\"&gt;\n\n    &lt;xs:element name=\"getClienteByIdRequest\"&gt;\n        &lt;xs:complexType&gt;\n            &lt;xs:sequence&gt;\n                &lt;xs:element name=\"clienteCedula\" type=\"xs:int\" /&gt;\n            &lt;/xs:sequence&gt;\n        &lt;/xs:complexType&gt;\n    &lt;/xs:element&gt;\n\n    &lt;xs:element name=\"getClienteByIdResponse\"&gt;\n        &lt;xs:complexType&gt;\n            &lt;xs:sequence&gt;\n                &lt;xs:element name=\"clienteType\" type=\"tns:clienteType\" /&gt;\n            &lt;/xs:sequence&gt;\n        &lt;/xs:complexType&gt;\n    &lt;/xs:element&gt;\n    &lt;xs:complexType name=\"clienteType\"&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element name=\"cedula\" type=\"xs:int\" /&gt;\n            &lt;xs:element name=\"name\" type=\"xs:string\" /&gt;\n            &lt;xs:element name=\"apellido\" type=\"xs:string\" /&gt;\n            &lt;xs:element name=\"tipo_cliente\" type=\"xs:string\" /&gt;\n        &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n\n &lt;xs:element name=\"getAllClientesRequest\"&gt;\n        &lt;xs:complexType/&gt;\n    &lt;/xs:element&gt;    \n    &lt;xs:element name=\"getAllClientesResponse\"&gt;\n        &lt;xs:complexType&gt;\n            &lt;xs:sequence&gt;\n                &lt;xs:element name=\"clienteType\" type=\"tns:clienteType\" maxOccurs=\"unbounded\"/&gt;\n            &lt;/xs:sequence&gt;\n        &lt;/xs:complexType&gt;\n    &lt;/xs:element&gt;\n\n&lt;/xs:schema&gt;  \n</code></pre>\n\n<p>application.properties</p>\n\n<pre><code># Oracle settings\nspring.datasource.url=jdbc:oracle:thin:@//10.164.7.203:1521/ORCLPDB1.localdomain\nspring.datasource.username=cesar\nspring.datasource.password=xxxxxx123\nspring.datasource.driver-class-name=oracle.jdbc.driver.OracleDriver\nspring.jpa.hibernate.ddl-auto=update\n</code></pre>\n\n<p>pom.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" \n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.example.conexion&lt;/groupId&gt;\n  &lt;artifactId&gt;soap-service-example&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n\n  &lt;name&gt;soap-service-example&lt;/name&gt;\n  &lt;description&gt;WebService Example&lt;/description&gt;\n\n  &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.0.4.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n  &lt;/parent&gt; \n  &lt;properties&gt;\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n            &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\n  &lt;/properties&gt;\n\n     &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;wsdl4j&lt;/groupId&gt;\n            &lt;artifactId&gt;wsdl4j&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.oracle.jdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n            &lt;version&gt;12.2.0.1&lt;/version&gt;\n       &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n     &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;xjc-schema&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;xjc&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;sources&gt;\n                        &lt;source&gt;src/resources/xsd/clientes.xsd&lt;/source&gt;\n                    &lt;/sources&gt;\n                    &lt;packageName&gt;com.example.conexion.gs_ws&lt;/packageName&gt;\n                    &lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n        &lt;repositories&gt;\n            &lt;!-- Repository for ORACLE JDBC Driver --&gt;\n            &lt;repository&gt;\n                &lt;id&gt;codelds&lt;/id&gt;\n                &lt;url&gt;https://code.lds.org/nexus/content/groups/main-repo&lt;/url&gt;\n            &lt;/repository&gt;\n                &lt;repository&gt;\n                &lt;id&gt;spring-snapshots&lt;/id&gt;\n                &lt;name&gt;Spring Snapshots&lt;/name&gt;\n                &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n                &lt;snapshots&gt;\n                    &lt;enabled&gt;true&lt;/enabled&gt;\n                &lt;/snapshots&gt;\n            &lt;/repository&gt;\n            &lt;repository&gt;\n                &lt;id&gt;spring-milestones&lt;/id&gt;\n                &lt;name&gt;Spring Milestones&lt;/name&gt;\n                &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n                &lt;snapshots&gt;\n                    &lt;enabled&gt;false&lt;/enabled&gt;\n                &lt;/snapshots&gt;\n            &lt;/repository&gt;\n        &lt;/repositories&gt;\n        &lt;pluginRepositories&gt;\n            &lt;pluginRepository&gt;\n                &lt;id&gt;spring-snapshots&lt;/id&gt;\n                &lt;name&gt;Spring Snapshots&lt;/name&gt;\n                &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n                &lt;snapshots&gt;\n                    &lt;enabled&gt;true&lt;/enabled&gt;\n                &lt;/snapshots&gt;\n            &lt;/pluginRepository&gt;\n            &lt;pluginRepository&gt;\n                &lt;id&gt;spring-milestones&lt;/id&gt;\n                &lt;name&gt;Spring Milestones&lt;/name&gt;\n                &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n                &lt;snapshots&gt;\n                    &lt;enabled&gt;false&lt;/enabled&gt;\n                &lt;/snapshots&gt;\n            &lt;/pluginRepository&gt;\n        &lt;/pluginRepositories&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>My structure of the project</p>\n\n<p><a href=\"https://i.stack.imgur.com/6X2tn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6X2tn.png\" alt=\"enter image description here\"></a></p>\n\n<p>I am trying to follow this example: <a href=\"https://www.javaspringclub.com/publish-and-consume-soap-web-services-using-spring-boot-part-1/\" rel=\"nofollow noreferrer\">https://www.javaspringclub.com/publish-and-consume-soap-web-services-using-spring-boot-part-1/</a>, but to connect to an oracle database that is in a container, and of which I have already tested the connection, I am relatively new to spring boot</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6781150,"reputation":2228,"user_id":5221346,"accept_rate":60,"display_name":"RaminS"},"score":1,"creation_date":1550371033,"post_id":54729622,"comment_id":96242667,"body_markdown":"`indexOf` and `charAt` negate each other. You&#39;re basically doing `if(i &gt;= 0)` there (unless there is more than one instance of the character in the string).","body":"<code>indexOf</code> and <code>charAt</code> negate each other. You&#39;re basically doing <code>if(i &gt;= 0)</code> there (unless there is more than one instance of the character in the string)."},{"owner":{"account_id":6781150,"reputation":2228,"user_id":5221346,"accept_rate":60,"display_name":"RaminS"},"score":1,"creation_date":1550373912,"post_id":54729622,"comment_id":96243023,"body_markdown":"I wonder why this question has so many upvotes. Is it because it is decent compared to all the other incredibly bad questions we get these days?","body":"I wonder why this question has so many upvotes. Is it because it is decent compared to all the other incredibly bad questions we get these days?"}],"answers":[{"tags":[],"owner":{"account_id":6781150,"reputation":2228,"user_id":5221346,"accept_rate":60,"display_name":"RaminS"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1550372815,"creation_date":1550371425,"answer_id":54729672,"question_id":54729622,"body_markdown":"[`String#lastIndexOf`](https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#lastIndexOf(int)) and [`String#substring`](https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#substring(int)) are your friends here. \r\n\r\n`char`s in Java can be directly converted to `int`s, which we&#39;ll use to find the last space. Then we&#39;ll simply substring from there.\r\n\r\n    String phrase = &quot;The last word of this sentence is stackoverflow&quot;;\r\n    System.out.println(phrase.substring(phrase.lastIndexOf(&#39; &#39;)));\r\n\r\nThis prints the space character itself too. To get rid of that, we just increment the index at which we substring by one.\r\n\r\n    String phrase = &quot;The last word of this sentence is stackoverflow&quot;;\r\n    System.out.println(phrase.substring(1 + phrase.lastIndexOf(&#39; &#39;)));\r\n\r\nIf you don&#39;t want to use [`String#lastIndexOf`](https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#lastIndexOf(int)), you can loop through the string and substring it at every space until you don&#39;t have any left.\r\n\r\n    String phrase = &quot;The last word of this sentence is stackoverflow&quot;;\r\n    String subPhrase = phrase;\r\n    while(true) {\r\n        String temp = subPhrase.substring(1 + subPhrase.indexOf(&quot; &quot;));\r\n        if(temp.equals(subPhrase)) {\r\n            break;\r\n        } else {\r\n            subPhrase = temp;\r\n        }\r\n    }\r\n    System.out.println(subPhrase);\r\n    ","title":"How to find the last word in a string","body":"<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#lastIndexOf(int)\" rel=\"nofollow noreferrer\"><code>String#lastIndexOf</code></a> and <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#substring(int)\" rel=\"nofollow noreferrer\"><code>String#substring</code></a> are your friends here. </p>\n\n<p><code>char</code>s in Java can be directly converted to <code>int</code>s, which we'll use to find the last space. Then we'll simply substring from there.</p>\n\n<pre><code>String phrase = \"The last word of this sentence is stackoverflow\";\nSystem.out.println(phrase.substring(phrase.lastIndexOf(' ')));\n</code></pre>\n\n<p>This prints the space character itself too. To get rid of that, we just increment the index at which we substring by one.</p>\n\n<pre><code>String phrase = \"The last word of this sentence is stackoverflow\";\nSystem.out.println(phrase.substring(1 + phrase.lastIndexOf(' ')));\n</code></pre>\n\n<p>If you don't want to use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#lastIndexOf(int)\" rel=\"nofollow noreferrer\"><code>String#lastIndexOf</code></a>, you can loop through the string and substring it at every space until you don't have any left.</p>\n\n<pre><code>String phrase = \"The last word of this sentence is stackoverflow\";\nString subPhrase = phrase;\nwhile(true) {\n    String temp = subPhrase.substring(1 + subPhrase.indexOf(\" \"));\n    if(temp.equals(subPhrase)) {\n        break;\n    } else {\n        subPhrase = temp;\n    }\n}\nSystem.out.println(subPhrase);\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user5550963"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1550373921,"creation_date":1550371708,"answer_id":54729690,"question_id":54729622,"body_markdown":"You can do this:\r\n\r\n    String[] words = originalStr.split(&quot; &quot;);  // uses an array\r\n    String lastWord = words[words.length - 1];\r\n\r\nand you&#39;ve got your last word.\r\n\r\nYou are splitting the original string at every space and storing the substrings in an array using the [`String#split`](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#split-java.lang.String-) method.\r\n\r\nOnce you have the array, you are retrieving the last element by taking the value at the last array index (found by taking array length and subtracting 1, since array indices begin at 0).","title":"How to find the last word in a string","body":"<p>You can do this:</p>\n\n<pre><code>String[] words = originalStr.split(\" \");  // uses an array\nString lastWord = words[words.length - 1];\n</code></pre>\n\n<p>and you've got your last word.</p>\n\n<p>You are splitting the original string at every space and storing the substrings in an array using the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#split-java.lang.String-\" rel=\"nofollow noreferrer\"><code>String#split</code></a> method.</p>\n\n<p>Once you have the array, you are retrieving the last element by taking the value at the last array index (found by taking array length and subtracting 1, since array indices begin at 0).</p>\n"},{"tags":[],"owner":{"account_id":11242916,"reputation":125,"user_id":8246515,"display_name":"Koustubh Madkaikar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1550387263,"creation_date":1550372125,"answer_id":54729721,"question_id":54729622,"body_markdown":"You could try:\r\n\r\n    System.out.println(&quot;Last word of the sentence is : &quot; + string.substring (string.lastIndexOf (&#39; &#39;), string.length()));","title":"How to find the last word in a string","body":"<p>You could try:</p>\n\n<pre><code>System.out.println(\"Last word of the sentence is : \" + string.substring (string.lastIndexOf (' '), string.length()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14470922,"reputation":29,"user_id":10452966,"display_name":"Janie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1550373357,"creation_date":1550372751,"answer_id":54729758,"question_id":54729622,"body_markdown":"You can use: (if you are not familiar with arrays or unusual methods)\r\n\r\n         public static String lastWord(String a) // only use static if it&#39;s in the \r\n       main class\r\n         { \r\n           String lastWord = &quot;&quot;; \r\n  \r\n        // below is a new String which is the String without spaces at the ends\r\n        String x = a.trim(); \r\n\r\n  \r\n        for (int i=0; i&lt; x.length(); i++) \r\n        { \r\n            if (x.charAt(i)==&#39; &#39;) \r\n                lastWord = x.substring(i); \r\n            \r\n        } \r\n  \r\n        return lastWord; \r\n    }  ","title":"How to find the last word in a string","body":"<p>You can use: (if you are not familiar with arrays or unusual methods)</p>\n\n<pre><code>     public static String lastWord(String a) // only use static if it's in the \n   main class\n     { \n       String lastWord = \"\"; \n\n    // below is a new String which is the String without spaces at the ends\n    String x = a.trim(); \n\n\n    for (int i=0; i&lt; x.length(); i++) \n    { \n        if (x.charAt(i)==' ') \n            lastWord = x.substring(i); \n\n    } \n\n    return lastWord; \n}  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":9991755,"reputation":241,"user_id":7390783,"display_name":"Code Wines"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1550373388,"creation_date":1550373388,"answer_id":54729801,"question_id":54729622,"body_markdown":"    String str =  &quot;Code Wines&quot;;\r\n    String lastWord = str.substring(str.lastIndexOf(&quot; &quot;)+1);\r\n    System.out.print(lastWord);\r\nOutput:\r\n\r\n    Wines","title":"How to find the last word in a string","body":"<pre><code>String str =  \"Code Wines\";\nString lastWord = str.substring(str.lastIndexOf(\" \")+1);\nSystem.out.print(lastWord);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Wines\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8503655,"reputation":1414,"user_id":6375917,"display_name":"TongChen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1550374523,"creation_date":1550373841,"answer_id":54729819,"question_id":54729622,"body_markdown":"you just need to traverse the input string from tail when first find blank char stop traverse work and return the word.a simple code like this:\r\n\r\n    public static String lastWord(String inputs) {\r\n        boolean beforWords = false;\r\n        StringBuilder sb = new StringBuilder();\r\n        for (int i = inputs.length() - 1; i &gt;= 0; i--) {\r\n            if (inputs.charAt(i) != &#39; &#39;) {\r\n                sb.append(inputs.charAt(i));\r\n                beforWords = true;\r\n            } else if (beforWords){\r\n                break;\r\n            }\r\n        }\r\n        return sb.reverse().toString();\r\n    }\r\n","title":"How to find the last word in a string","body":"<p>you just need to traverse the input string from tail when first find blank char stop traverse work and return the word.a simple code like this:</p>\n\n<pre><code>public static String lastWord(String inputs) {\n    boolean beforWords = false;\n    StringBuilder sb = new StringBuilder();\n    for (int i = inputs.length() - 1; i &gt;= 0; i--) {\n        if (inputs.charAt(i) != ' ') {\n            sb.append(inputs.charAt(i));\n            beforWords = true;\n        } else if (beforWords){\n            break;\n        }\n    }\n    return sb.reverse().toString();\n}\n</code></pre>\n"}],"owner":{"account_id":15306538,"reputation":43,"user_id":11043076,"display_name":"PencilKnot"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6848,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":54729672,"answer_count":6,"score":4,"last_activity_date":1651660956,"creation_date":1550370874,"question_id":54729622,"body_markdown":"I&#39;m trying to create a method that returns the last word in a string but I am having some trouble writing it. \r\n\r\nI am trying to do it by finding the last blank space in the string and using a substring to find the word. This is what I have so far:\r\n\r\n        String strSpace=&quot; &quot;;\r\n        int Temp; //the index of the last space\r\n        for(int i=str.length()-1; i&gt;0; i--){\r\n            if(strSpace.indexOf(str.charAt(i))&gt;=0){\r\n                //some code in between that I not sure how to write\r\n            }\r\n        }\r\n    }\r\n\r\nI am just beginning in Java so I don&#39;t know many of the complicated parts of the language. It would be much appreciated if someone could help me find a simple way to solve this problem. Thanks!   \r\n\r\n","title":"How to find the last word in a string","body":"<p>I'm trying to create a method that returns the last word in a string but I am having some trouble writing it. </p>\n\n<p>I am trying to do it by finding the last blank space in the string and using a substring to find the word. This is what I have so far:</p>\n\n<pre><code>    String strSpace=\" \";\n    int Temp; //the index of the last space\n    for(int i=str.length()-1; i&gt;0; i--){\n        if(strSpace.indexOf(str.charAt(i))&gt;=0){\n            //some code in between that I not sure how to write\n        }\n    }\n}\n</code></pre>\n\n<p>I am just beginning in Java so I don't know many of the complicated parts of the language. It would be much appreciated if someone could help me find a simple way to solve this problem. Thanks!   </p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":67313,"reputation":18312,"user_id":197011,"accept_rate":100,"display_name":"GreenMatt"},"score":0,"creation_date":1294859030,"post_id":4672806,"comment_id":5150065,"body_markdown":"related: http://stackoverflow.com/questions/1181969/java-get-last-element-after-split","body":"related: <a href=\"http://stackoverflow.com/questions/1181969/java-get-last-element-after-split\" title=\"java get last element after split\">stackoverflow.com/questions/1181969/&hellip;</a>"},{"owner":{"account_id":44670,"reputation":23784,"user_id":131227,"accept_rate":89,"display_name":"Mark Bolusmjak"},"score":3,"creation_date":1294864955,"post_id":4672806,"comment_id":5151380,"body_markdown":"Title says &quot;fastest&quot;, questions asks for &quot;simplest&quot;. Please clarify.","body":"Title says &quot;fastest&quot;, questions asks for &quot;simplest&quot;. Please clarify."},{"owner":{"account_id":200841,"reputation":24595,"user_id":446921,"accept_rate":98,"display_name":"Muhd"},"score":1,"creation_date":1294868973,"post_id":4672806,"comment_id":5152188,"body_markdown":"Fastest and simplest for coding and reading.  Execution time is irrelevant.  As an aside, having different wording is better for search purposes although the discrepancy was unintentional.","body":"Fastest and simplest for coding and reading.  Execution time is irrelevant.  As an aside, having different wording is better for search purposes although the discrepancy was unintentional."}],"answers":[{"tags":[],"owner":{"account_id":53607,"reputation":3395,"user_id":160300,"accept_rate":100,"display_name":"Dave McClelland"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1455112433,"creation_date":1294858722,"answer_id":4672821,"question_id":4672806,"body_markdown":"    String testString = &quot;This is a sentence&quot;;\r\n    String[] parts = testString.split(&quot; &quot;);\r\n    String lastWord = parts[parts.length - 1];\r\n    System.out.println(lastWord); // &quot;sentence&quot;","title":"Java: Simplest way to get last word in a string","body":"<pre><code>String testString = \"This is a sentence\";\nString[] parts = testString.split(\" \");\nString lastWord = parts[parts.length - 1];\nSystem.out.println(lastWord); // \"sentence\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":0,"up_vote_count":178,"is_accepted":true,"score":178,"last_activity_date":1294864435,"creation_date":1294858862,"answer_id":4672842,"question_id":4672806,"body_markdown":"    String test =  &quot;This is a sentence&quot;;\r\n    String lastWord = test.substring(test.lastIndexOf(&quot; &quot;)+1);","title":"Java: Simplest way to get last word in a string","body":"<pre><code>String test =  \"This is a sentence\";\nString lastWord = test.substring(test.lastIndexOf(\" \")+1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":70010,"reputation":1164,"user_id":203447,"display_name":"JST"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1294859095,"creation_date":1294859095,"answer_id":4672886,"question_id":4672806,"body_markdown":"If other whitespace characters are possible, then you&#39;d want:\r\n\r\n    testString.split(&quot;\\\\s+&quot;);","title":"Java: Simplest way to get last word in a string","body":"<p>If other whitespace characters are possible, then you'd want:</p>\n\n<pre><code>testString.split(\"\\\\s+\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":449171,"reputation":28526,"user_id":843804,"accept_rate":89,"display_name":"palacsint"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1403810136,"creation_date":1403810136,"answer_id":24438432,"question_id":4672806,"body_markdown":"You can do that with [`StringUtils`][su] (from [Apache Commons Lang][lang]). It avoids index-magic, so it&#39;s easier to understand. Unfortunately [`substringAfterLast`][sal] returns empty string when there is no separator in the input string so we need the `if` statement for that case.\r\n\r\n    public static String getLastWord(String input) {\r\n        String wordSeparator = &quot; &quot;;\r\n        boolean inputIsOnlyOneWord = !StringUtils.contains(input, wordSeparator);\r\n        if (inputIsOnlyOneWord) {\r\n            return input;\r\n        }\r\n        return StringUtils.substringAfterLast(input, wordSeparator);\r\n    }\r\n\r\n[su]: http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html\r\n[lang]: http://commons.apache.org/proper/commons-lang/\r\n[sal]: http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#substringAfterLast%28java.lang.String,%20java.lang.String%29\r\n","title":"Java: Simplest way to get last word in a string","body":"<p>You can do that with <a href=\"http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html\" rel=\"noreferrer\"><code>StringUtils</code></a> (from <a href=\"http://commons.apache.org/proper/commons-lang/\" rel=\"noreferrer\">Apache Commons Lang</a>). It avoids index-magic, so it's easier to understand. Unfortunately <a href=\"http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#substringAfterLast%28java.lang.String,%20java.lang.String%29\" rel=\"noreferrer\"><code>substringAfterLast</code></a> returns empty string when there is no separator in the input string so we need the <code>if</code> statement for that case.</p>\n\n<pre><code>public static String getLastWord(String input) {\n    String wordSeparator = \" \";\n    boolean inputIsOnlyOneWord = !StringUtils.contains(input, wordSeparator);\n    if (inputIsOnlyOneWord) {\n        return input;\n    }\n    return StringUtils.substringAfterLast(input, wordSeparator);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1452686061,"creation_date":1452686061,"answer_id":34766049,"question_id":4672806,"body_markdown":"Here is a way to do it using `String`&#39;s built-in regex capabilities:\r\n\r\n    String lastWord = sentence.replaceAll(&quot;^.*?(\\\\w+)\\\\W*$&quot;, &quot;$1&quot;);\r\n\r\nThe idea is to match the whole string from `^` to `$`, capture the last sequence of `\\w+` in a capturing group 1, and replace the whole sentence with it using `$1`.\r\n\r\n[Demo.][1]\r\n\r\n  [1]: http://ideone.com/27jyQq","title":"Java: Simplest way to get last word in a string","body":"<p>Here is a way to do it using <code>String</code>'s built-in regex capabilities:</p>\n\n<pre><code>String lastWord = sentence.replaceAll(\"^.*?(\\\\w+)\\\\W*$\", \"$1\");\n</code></pre>\n\n<p>The idea is to match the whole string from <code>^</code> to <code>$</code>, capture the last sequence of <code>\\w+</code> in a capturing group 1, and replace the whole sentence with it using <code>$1</code>.</p>\n\n<p><a href=\"http://ideone.com/27jyQq\" rel=\"noreferrer\">Demo.</a></p>\n"},{"tags":[],"owner":{"account_id":3225868,"reputation":1863,"user_id":2722270,"display_name":"Weiyi"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1569556191,"creation_date":1569556191,"answer_id":58127598,"question_id":4672806,"body_markdown":"Get the last word in Kotlin:\r\n\r\n    String.substringAfterLast(&quot; &quot;)","title":"Java: Simplest way to get last word in a string","body":"<p>Get the last word in Kotlin:</p>\n\n<pre><code>String.substringAfterLast(\" \")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25192412,"reputation":1,"user_id":19032450,"display_name":"Sapan Nn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651660760,"creation_date":1651660760,"answer_id":72111619,"question_id":4672806,"body_markdown":"\r\n\t  \r\n\t  String s=&quot;print last word&quot;;\r\n\t\tx:for(int i=s.length()-1;i&gt;=0;i--) {\r\n\t\t\t if(s.charAt(i)==&#39; &#39;) {\r\n\t\t\t\t\tfor(int j=i+1;j&lt;s.length();j++) {\r\n\t\t\t\t\t\tSystem.out.print(s.charAt(j));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak x;\r\n\t\t\t }\r\n\t\t }","title":"Java: Simplest way to get last word in a string","body":"<pre><code>  String s=&quot;print last word&quot;;\n    x:for(int i=s.length()-1;i&gt;=0;i--) {\n         if(s.charAt(i)==' ') {\n                for(int j=i+1;j&lt;s.length();j++) {\n                    System.out.print(s.charAt(j));\n                }\n                break x;\n         }\n     }\n</code></pre>\n"}],"owner":{"account_id":200841,"reputation":24595,"user_id":446921,"accept_rate":98,"display_name":"Muhd"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162099,"favorite_count":0,"down_vote_count":0,"up_vote_count":59,"accepted_answer_id":4672842,"answer_count":7,"score":59,"last_activity_date":1651660760,"creation_date":1294858641,"question_id":4672806,"body_markdown":"What is the simplest way to get the last word of a string in Java?  You can assume no punctuation (just alphabetic characters and whitespace).","title":"Java: Simplest way to get last word in a string","body":"<p>What is the simplest way to get the last word of a string in Java?  You can assume no punctuation (just alphabetic characters and whitespace).</p>\n"},{"tags":["java","android","android-fragments","uinavigationcontroller","android-preferences"],"comments":[{"owner":{"account_id":2198810,"reputation":3319,"user_id":1943799,"accept_rate":81,"display_name":"spartygw"},"score":0,"creation_date":1648341108,"post_id":71632717,"comment_id":126599715,"body_markdown":"Consistent on multiple test devices?","body":"Consistent on multiple test devices?"},{"owner":{"account_id":17356419,"reputation":305,"user_id":12573698,"display_name":"Edward Aarma"},"score":0,"creation_date":1648342037,"post_id":71632717,"comment_id":126599812,"body_markdown":"@spartygw Yes, tested on a physical device and also a virtual device.","body":"@spartygw Yes, tested on a physical device and also a virtual device."}],"answers":[{"tags":[],"owner":{"account_id":17356419,"reputation":305,"user_id":12573698,"display_name":"Edward Aarma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651660244,"creation_date":1651660244,"answer_id":72111514,"question_id":71632717,"body_markdown":"I did not manage to figure out how to fix the issue with the unresponsive behavior after navigating back to the previous fragment, but I did find a workaround. \r\n\r\nBasically I just got the previous BackStack entry, then from that entry i got the destination of that entry and then got the Id of that entry to navigated to the previous fragment using that Id.\r\n\r\n```\r\n    @Override\r\n    public boolean onSupportNavigateUp() {\r\n        NavBackStackEntry navBackStackEntry = navController.getPreviousBackStackEntry();\r\n        NavDestination navDestination = navBackStackEntry.getDestination();\r\n        int id = navDestination.getId();\r\n        navController.navigate(id);\r\n        return true;\r\n    }\r\n```","title":"MapFragment becomes slow after navigating back to it from a preferencesFragment","body":"<p>I did not manage to figure out how to fix the issue with the unresponsive behavior after navigating back to the previous fragment, but I did find a workaround.</p>\n<p>Basically I just got the previous BackStack entry, then from that entry i got the destination of that entry and then got the Id of that entry to navigated to the previous fragment using that Id.</p>\n<pre><code>    @Override\n    public boolean onSupportNavigateUp() {\n        NavBackStackEntry navBackStackEntry = navController.getPreviousBackStackEntry();\n        NavDestination navDestination = navBackStackEntry.getDestination();\n        int id = navDestination.getId();\n        navController.navigate(id);\n        return true;\n    }\n</code></pre>\n"}],"owner":{"account_id":17356419,"reputation":305,"user_id":12573698,"display_name":"Edward Aarma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":412,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72111514,"answer_count":1,"score":0,"last_activity_date":1651660244,"creation_date":1648338929,"question_id":71632717,"body_markdown":"I added a Preferences Fragment to an application. I am using an ActionBar drop-down menu to navigate to the Preferences Fragment and also using the ActionBar&#39;s OnUpNavigation button to return to the previously displayed fragment which uses the OnBackPressed method to go back. \r\n\r\nThe application also has a BottomNavigationView which is controlled by a NavController and one of the Fragments attached to the BottomNavigationView is a MapFragment. All the navigations from Fragment to Fragment are handled by a NavigationController.\r\n\r\nMy issue is that if I navigate to the Preferences Fragment from the MapFragment and after I return back to the MapFragment, then the map becomes half-way unresponsive and has a lot of lag. After the map becomes slow and unresponsive, if I navigate to a different Fragment and back to the MapFragment, then the lag is gone and the MapFragment becomes responsive again. \r\n\r\nThe unresponsive/laggy behavior seems to only effect the MapFragment. Now I figured that maybe the Preferences Fragment might still stay active in the background so I also tried using the popBackStack() method directly, but the result is the same.\r\nI found another question here that was about a similar problem https://stackoverflow.com/questions/27978188/google-maps-v2-mapfragment-is-extremely-laggy-on-returning-from-the-backstack but that didn&#39;t solve my issue.\r\n\r\nTo navigate to the Preferences\r\n```\r\n @Override\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n        switch (item.getItemId()) {\r\n            case R.id.settings:\r\n                navController.navigate(R.id.settingsFragment);\r\n                navView.setVisibility(View.GONE);\r\n                return true;\r\n                ...\r\n```\r\n\r\nHandling the back pressed button.\r\n```\r\n @Override\r\n    public boolean onSupportNavigateUp() {\r\n        onBackPressed();\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        super.onBackPressed();\r\n            navView.setVisibility(View.VISIBLE);\r\n\r\n    }\r\n```\r\nAdditionally, here is the mobile navigation xml. \r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/mobile_navigation&quot;\r\n    app:startDestination=&quot;@+id/navigation_home&quot;&gt;\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/navigation_map&quot;\r\n        android:name=&quot;com.example.explore.ui.map.MapFragment&quot;\r\n        android:label=&quot;@string/title_map&quot;\r\n        tools:layout=&quot;@layout/fragment_map&quot; /&gt;\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/settingsFragment&quot;\r\n        android:name=&quot;com.example.explore.SettingsFragment&quot;\r\n        android:label=&quot;@string/title_settings&quot;/&gt;\r\n\r\n    &lt;!--Global action--&gt;\r\n    &lt;action android:id=&quot;@+id/open_settings_fragment&quot;\r\n        app:destination=&quot;@id/settingsFragment&quot;/&gt;\r\n&lt;/navigation&gt;\r\n\r\n```\r\n\r\nIf anything was unclear then please specify.\r\nThank you!","title":"MapFragment becomes slow after navigating back to it from a preferencesFragment","body":"<p>I added a Preferences Fragment to an application. I am using an ActionBar drop-down menu to navigate to the Preferences Fragment and also using the ActionBar's OnUpNavigation button to return to the previously displayed fragment which uses the OnBackPressed method to go back.</p>\n<p>The application also has a BottomNavigationView which is controlled by a NavController and one of the Fragments attached to the BottomNavigationView is a MapFragment. All the navigations from Fragment to Fragment are handled by a NavigationController.</p>\n<p>My issue is that if I navigate to the Preferences Fragment from the MapFragment and after I return back to the MapFragment, then the map becomes half-way unresponsive and has a lot of lag. After the map becomes slow and unresponsive, if I navigate to a different Fragment and back to the MapFragment, then the lag is gone and the MapFragment becomes responsive again.</p>\n<p>The unresponsive/laggy behavior seems to only effect the MapFragment. Now I figured that maybe the Preferences Fragment might still stay active in the background so I also tried using the popBackStack() method directly, but the result is the same.\nI found another question here that was about a similar problem <a href=\"https://stackoverflow.com/questions/27978188/google-maps-v2-mapfragment-is-extremely-laggy-on-returning-from-the-backstack\">Google Maps v2 MapFragment is extremely laggy on returning from the backstack</a> but that didn't solve my issue.</p>\n<p>To navigate to the Preferences</p>\n<pre><code> @Override\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\n        switch (item.getItemId()) {\n            case R.id.settings:\n                navController.navigate(R.id.settingsFragment);\n                navView.setVisibility(View.GONE);\n                return true;\n                ...\n</code></pre>\n<p>Handling the back pressed button.</p>\n<pre><code> @Override\n    public boolean onSupportNavigateUp() {\n        onBackPressed();\n        return true;\n    }\n\n    @Override\n    public void onBackPressed() {\n        super.onBackPressed();\n            navView.setVisibility(View.VISIBLE);\n\n    }\n</code></pre>\n<p>Additionally, here is the mobile navigation xml.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/mobile_navigation&quot;\n    app:startDestination=&quot;@+id/navigation_home&quot;&gt;\n\n    &lt;fragment\n        android:id=&quot;@+id/navigation_map&quot;\n        android:name=&quot;com.example.explore.ui.map.MapFragment&quot;\n        android:label=&quot;@string/title_map&quot;\n        tools:layout=&quot;@layout/fragment_map&quot; /&gt;\n\n    &lt;fragment\n        android:id=&quot;@+id/settingsFragment&quot;\n        android:name=&quot;com.example.explore.SettingsFragment&quot;\n        android:label=&quot;@string/title_settings&quot;/&gt;\n\n    &lt;!--Global action--&gt;\n    &lt;action android:id=&quot;@+id/open_settings_fragment&quot;\n        app:destination=&quot;@id/settingsFragment&quot;/&gt;\n&lt;/navigation&gt;\n\n</code></pre>\n<p>If anything was unclear then please specify.\nThank you!</p>\n"},{"tags":["java","json","jackson","jackson-databind","jackson2"],"comments":[{"owner":{"account_id":11066563,"reputation":657,"user_id":8126192,"display_name":"Moncef AOUDIA"},"score":0,"creation_date":1651587686,"post_id":72100741,"comment_id":127395396,"body_markdown":"Try to create a custom serialization using @JsonValue  -&gt; https://www.baeldung.com/jackson-annotations#5-jsonvalue","body":"Try to create a custom serialization using @JsonValue  -&gt; <a href=\"https://www.baeldung.com/jackson-annotations#5-jsonvalue\" rel=\"nofollow noreferrer\">baeldung.com/jackson-annotations#5-jsonvalue</a>"}],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651659793,"creation_date":1651659793,"answer_id":72111423,"question_id":72100741,"body_markdown":"According to default implementation of [MapSerializer][1] it creates new JSON object `gen.writeStartObject(value)` always. There is no ability to configure array creation instead.\r\n&lt;br&gt;Default implemetation of `MapSerializer`:\r\n```java\r\n    @Override\r\n    public void serialize(Map&lt;?,?&gt; value, JsonGenerator gen, SerializerProvider provider) throws IOException\r\n    {\r\n        gen.writeStartObject(value);\r\n        serializeWithoutTypeInfo(value, gen, provider);\r\n        gen.writeEndObject();\r\n    }\r\n```\r\n\r\nThe custom serializer is more efficient solution.\r\n&lt;br&gt;But the alternative solution to achieve such serialization - is simply to convert `Map` to the `Set&lt;Map.Entry&gt;`\r\n&lt;br&gt;**Solution 1, `@JsonGetter` with converting Map-&gt;Set**\r\n```java\r\n@Data\r\n@NoArgsConstructor\r\npublic class B {\r\n    private Map&lt;String,Object&gt; dummyField = new HashMap&lt;&gt;();\r\n\r\n    @JsonGetter(&quot;dummyField&quot;)\r\n    public Set&lt;Map.Entry&lt;String,Object&gt;&gt; getDummyFieldEntrySet() {\r\n        return dummyField.entrySet();\r\n    }\r\n\r\n    @JsonSetter(&quot;dummyField&quot;)\r\n    public void setDummyFieldEntrySet(Set&lt;Map.Entry&lt;String,Object&gt;&gt; value) {\r\n        dummyField = value.stream().collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\r\n    }\r\n }\r\n}\r\n```\r\n\r\n**Solution 2, custom type converter  Map-&gt;Set**\r\n```java\r\n@Data\r\n@NoArgsConstructor\r\npublic class B {\r\n    @JsonSerialize(converter = MapToSetConverter.class)\r\n    @JsonDeserialize(converter = SetToMapConverter.class)\r\n    private Map&lt;String,Object&gt; dummyField = new HashMap&lt;&gt;();\r\n}\r\n\r\npublic class MapToSetConverter extends StdConverter&lt;Map&lt;?,?&gt;, Set&lt;? extends Map.Entry&lt;?,?&gt;&gt;&gt; {\r\n    @Override\r\n    public Set&lt;? extends Map.Entry&lt;?,?&gt;&gt; convert(Map&lt;?,?&gt; value) {\r\n        return value.entrySet();\r\n    }\r\n}\r\n\r\npublic class SetToMapConverter extends StdConverter&lt;Set&lt;? extends Map.Entry&lt;?,?&gt;&gt;, Map&lt;?,?&gt;&gt; {\r\n    @Override\r\n    public Map&lt;?,?&gt; convert( Set&lt;? extends Map.Entry&lt;?,?&gt;&gt; value) {\r\n        return value.stream().collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-databind/blob/2.14/src/main/java/com/fasterxml/jackson/databind/ser/std/MapSerializer.java","title":"Java/Jackson JSON serialisation: How to write Map&lt;String,Object&gt; to Array of objects?","body":"<p>According to default implementation of <a href=\"https://github.com/FasterXML/jackson-databind/blob/2.14/src/main/java/com/fasterxml/jackson/databind/ser/std/MapSerializer.java\" rel=\"nofollow noreferrer\">MapSerializer</a> it creates new JSON object <code>gen.writeStartObject(value)</code> always. There is no ability to configure array creation instead.\n<br>Default implemetation of <code>MapSerializer</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public void serialize(Map&lt;?,?&gt; value, JsonGenerator gen, SerializerProvider provider) throws IOException\n    {\n        gen.writeStartObject(value);\n        serializeWithoutTypeInfo(value, gen, provider);\n        gen.writeEndObject();\n    }\n</code></pre>\n<p>The custom serializer is more efficient solution.\n<br>But the alternative solution to achieve such serialization - is simply to convert <code>Map</code> to the <code>Set&lt;Map.Entry&gt;</code>\n<br><strong>Solution 1, <code>@JsonGetter</code> with converting Map-&gt;Set</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@NoArgsConstructor\npublic class B {\n    private Map&lt;String,Object&gt; dummyField = new HashMap&lt;&gt;();\n\n    @JsonGetter(&quot;dummyField&quot;)\n    public Set&lt;Map.Entry&lt;String,Object&gt;&gt; getDummyFieldEntrySet() {\n        return dummyField.entrySet();\n    }\n\n    @JsonSetter(&quot;dummyField&quot;)\n    public void setDummyFieldEntrySet(Set&lt;Map.Entry&lt;String,Object&gt;&gt; value) {\n        dummyField = value.stream().collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\n    }\n }\n}\n</code></pre>\n<p><strong>Solution 2, custom type converter  Map-&gt;Set</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@NoArgsConstructor\npublic class B {\n    @JsonSerialize(converter = MapToSetConverter.class)\n    @JsonDeserialize(converter = SetToMapConverter.class)\n    private Map&lt;String,Object&gt; dummyField = new HashMap&lt;&gt;();\n}\n\npublic class MapToSetConverter extends StdConverter&lt;Map&lt;?,?&gt;, Set&lt;? extends Map.Entry&lt;?,?&gt;&gt;&gt; {\n    @Override\n    public Set&lt;? extends Map.Entry&lt;?,?&gt;&gt; convert(Map&lt;?,?&gt; value) {\n        return value.entrySet();\n    }\n}\n\npublic class SetToMapConverter extends StdConverter&lt;Set&lt;? extends Map.Entry&lt;?,?&gt;&gt;, Map&lt;?,?&gt;&gt; {\n    @Override\n    public Map&lt;?,?&gt; convert( Set&lt;? extends Map.Entry&lt;?,?&gt;&gt; value) {\n        return value.stream().collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1260,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1651659793,"creation_date":1651587167,"question_id":72100741,"body_markdown":"I have a POJO in my Java project which has a field with datatype `Map&lt;String, Object&gt;`:\r\n\r\n```\r\n@Data\r\n@NoArgsConstructor\r\npublic class B {\r\n    private Map&lt;String,Object&gt; dummyField;\r\n}\r\n```\r\n\r\nCurrently, while serializing the JSON using the Jackson the field has been written as:\r\n\r\n```\r\n&quot;dummyField&quot; : {\r\n    &quot;Google&quot; : &quot;https://google.com&quot;,\r\n    &quot;yt&quot; : &quot;https://yt.com&quot;\r\n  }\r\n```\r\n\r\nI would like to know if there is a way in Jackson to serialize this field something like this,\r\n\r\n```\r\n&quot;dummyField&quot; : [\r\n    {\r\n     &quot;Google&quot; : &quot;https://google.com&quot;\r\n    },\r\n    {\r\n     &quot;yt&quot; : &quot;https://yt.com&quot;\r\n    }\r\n  ]\r\n```\r\n\r\nI am aware that I can achieve this using the custom serializer. I was hoping to know if there is any direct way for Jackson to achieve this.","title":"Java/Jackson JSON serialisation: How to write Map&lt;String,Object&gt; to Array of objects?","body":"<p>I have a POJO in my Java project which has a field with datatype <code>Map&lt;String, Object&gt;</code>:</p>\n<pre><code>@Data\n@NoArgsConstructor\npublic class B {\n    private Map&lt;String,Object&gt; dummyField;\n}\n</code></pre>\n<p>Currently, while serializing the JSON using the Jackson the field has been written as:</p>\n<pre><code>&quot;dummyField&quot; : {\n    &quot;Google&quot; : &quot;https://google.com&quot;,\n    &quot;yt&quot; : &quot;https://yt.com&quot;\n  }\n</code></pre>\n<p>I would like to know if there is a way in Jackson to serialize this field something like this,</p>\n<pre><code>&quot;dummyField&quot; : [\n    {\n     &quot;Google&quot; : &quot;https://google.com&quot;\n    },\n    {\n     &quot;yt&quot; : &quot;https://yt.com&quot;\n    }\n  ]\n</code></pre>\n<p>I am aware that I can achieve this using the custom serializer. I was hoping to know if there is any direct way for Jackson to achieve this.</p>\n"},{"tags":["java","spring","rest"],"answers":[{"tags":[],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651610469,"creation_date":1651610469,"answer_id":72105241,"question_id":72105187,"body_markdown":"In case of HEAD, you expect server not to send any body, only response headers. In that case you would have to put total count value as custom response header. Performance wise it will not make a big difference. It will be easier for you to handle GET with int in body I think. ","title":"HEAD vs GET for total count","body":"<p>In case of HEAD, you expect server not to send any body, only response headers. In that case you would have to put total count value as custom response header. Performance wise it will not make a big difference. It will be easier for you to handle GET with int in body I think.</p>\n"},{"tags":[],"owner":{"account_id":22259,"reputation":53853,"user_id":54734,"accept_rate":29,"display_name":"VoiceOfUnreason"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651610727,"creation_date":1651610727,"answer_id":72105274,"question_id":72105187,"body_markdown":"If you are expecting to receive a representation of the resource, use GET.\r\nIf you are expecting only to receive HTTP metadata about the resource, use HEAD.\r\n\r\n\r\n&gt; The HEAD method is identical to GET except that the server MUST NOT send content in the response.  HEAD is used to obtain metadata about the selected representation without transferring its representation data, often for the sake of testing hypertext links or finding recent modifications. -- [HTTP Semantics 9.3.2][1]\r\n\r\n----\r\n\r\nFor you, expecting to return data in the body of the response, the correct method to use is GET\r\n\r\n```\r\nGET /count\r\n```\r\n\r\n\r\n```\r\n200 OK\r\nContent-Type: application/json\r\n\r\n2\r\n```\r\n\r\nvs\r\n\r\n```\r\nHEAD /count\r\n```\r\n\r\n```\r\n200 OK\r\nContent-Type: application/json\r\n```\r\n\r\n\r\n  [1]: https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-semantics#section-9.3.2","title":"HEAD vs GET for total count","body":"<p>If you are expecting to receive a representation of the resource, use GET.\nIf you are expecting only to receive HTTP metadata about the resource, use HEAD.</p>\n<blockquote>\n<p>The HEAD method is identical to GET except that the server MUST NOT send content in the response.  HEAD is used to obtain metadata about the selected representation without transferring its representation data, often for the sake of testing hypertext links or finding recent modifications. -- <a href=\"https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-semantics#section-9.3.2\" rel=\"nofollow noreferrer\">HTTP Semantics 9.3.2</a></p>\n</blockquote>\n<hr />\n<p>For you, expecting to return data in the body of the response, the correct method to use is GET</p>\n<pre><code>GET /count\n</code></pre>\n<pre><code>200 OK\nContent-Type: application/json\n\n2\n</code></pre>\n<p>vs</p>\n<pre><code>HEAD /count\n</code></pre>\n<pre><code>200 OK\nContent-Type: application/json\n</code></pre>\n"},{"tags":[],"owner":{"account_id":300083,"reputation":25180,"user_id":607033,"accept_rate":94,"display_name":"inf3rno"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651659778,"creation_date":1651653067,"answer_id":72109981,"question_id":72105187,"body_markdown":"You can use HEAD and [Content-Range][1] and a custom range unit ([only bytes are specified][2]).\r\n\r\n    HEAD /items/\r\n    \r\n    200 OK\r\n    Content-Range: count 0-0/1000\r\n\r\nAnother option is using GET and a different URI:\r\n\r\n    GET /items/count\r\n    \r\n    200 OK\r\n    1000\r\n\r\nAfaik. there are request headers which can be used to choose representation type for example the [Prefer][3] header could be used, but these headers are rarely used and are very limited. There is another one I don&#39;t even remember.\r\n\r\n    GET /items/\r\n    Prefer: return=minimal\r\n\r\n    200 OK\r\n    {count: 1000}\r\n\r\n\r\n  [1]: https://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.16\r\n  [2]: https://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.12\r\n  [3]: https://datatracker.ietf.org/doc/html/rfc7240","title":"HEAD vs GET for total count","body":"<p>You can use HEAD and <a href=\"https://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.16\" rel=\"nofollow noreferrer\">Content-Range</a> and a custom range unit (<a href=\"https://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.12\" rel=\"nofollow noreferrer\">only bytes are specified</a>).</p>\n<pre><code>HEAD /items/\n\n200 OK\nContent-Range: count 0-0/1000\n</code></pre>\n<p>Another option is using GET and a different URI:</p>\n<pre><code>GET /items/count\n\n200 OK\n1000\n</code></pre>\n<p>Afaik. there are request headers which can be used to choose representation type for example the <a href=\"https://datatracker.ietf.org/doc/html/rfc7240\" rel=\"nofollow noreferrer\">Prefer</a> header could be used, but these headers are rarely used and are very limited. There is another one I don't even remember.</p>\n<pre><code>GET /items/\nPrefer: return=minimal\n\n200 OK\n{count: 1000}\n</code></pre>\n"}],"owner":{"account_id":14856402,"reputation":697,"user_id":10728774,"display_name":"Reddi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1651659778,"creation_date":1651610140,"question_id":72105187,"body_markdown":"What&#39;s the better option HEAD or GET? I need to return total count of entities. I&#39;ve seen a lot of opinions, but not sure what is the most effective. Also not sure if it does make sense to return an Int in the response body or not. \r\n\r\nCan HEAD method expect parameters? I ask because the count may be extended in the future with some additional parameters, such as return count of entities which matches the condition I.e. user can pass parameter startsWith etc.","title":"HEAD vs GET for total count","body":"<p>What's the better option HEAD or GET? I need to return total count of entities. I've seen a lot of opinions, but not sure what is the most effective. Also not sure if it does make sense to return an Int in the response body or not.</p>\n<p>Can HEAD method expect parameters? I ask because the count may be extended in the future with some additional parameters, such as return count of entities which matches the condition I.e. user can pass parameter startsWith etc.</p>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1651661486,"post_id":72111404,"comment_id":127414737,"body_markdown":"At which particular line of code are you getting that error?","body":"At which particular line of code are you getting that error?"},{"owner":{"account_id":24611876,"reputation":57,"user_id":18513344,"display_name":"yanish appadoo"},"score":0,"creation_date":1651662359,"post_id":72111404,"comment_id":127414992,"body_markdown":"the trace doesnt provide it but as soon as i enter data in the search view it crashes with the error message","body":"the trace doesnt provide it but as soon as i enter data in the search view it crashes with the error message"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1651662395,"post_id":72111404,"comment_id":127415008,"body_markdown":"It should definitely indicate that as well.","body":"It should definitely indicate that as well."},{"owner":{"account_id":24611876,"reputation":57,"user_id":18513344,"display_name":"yanish appadoo"},"score":0,"creation_date":1651664092,"post_id":72111404,"comment_id":127415546,"body_markdown":"ive added the full trace","body":"ive added the full trace"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1651672447,"post_id":72111404,"comment_id":127418833,"body_markdown":"At which particular line of code are you getting that error?","body":"At which particular line of code are you getting that error?"},{"owner":{"account_id":24611876,"reputation":57,"user_id":18513344,"display_name":"yanish appadoo"},"score":0,"creation_date":1651675293,"post_id":72111404,"comment_id":127420066,"body_markdown":"surely here ==&gt;    searchView.setOnQueryTextListener","body":"surely here ==&gt;    searchView.setOnQueryTextListener"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1651676551,"post_id":72111404,"comment_id":127420638,"body_markdown":"Not quite sure it&#39;s there. Can show us?","body":"Not quite sure it&#39;s there. Can show us?"}],"owner":{"account_id":24611876,"reputation":57,"user_id":18513344,"display_name":"yanish appadoo"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651659732,"creation_date":1651659732,"question_id":72111404,"body_markdown":"obtain the error : &quot;E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.myhouse, PID: 4134\r\n    java.lang.NullPointerException: Attempt to invoke interface method &#39;int java.util.List.size()&#39; on a null object reference\r\n        at android.widget.ArrayAdapter.getCount(ArrayAdapter.java:389)\r\n        at android.widget.AdapterView.checkFocus(AdapterView.java:759)\r\n        at android.widget.AdapterView$AdapterDataSetObserver.onInvalidated(AdapterView.java:882)\r\n        at android.widget.AbsListView$AdapterDataSetObserver.onInvalidated(AbsListView.java:6564)\r\n        at android.database.DataSetObservable.notifyInvalidated(DataSetObservable.java:50)\r\n        at android.widget.BaseAdapter.notifyDataSetInvalidated(BaseAdapter.java:63)\r\n        at android.widget.ArrayAdapter$ArrayFilter.publishResults(ArrayAdapter.java:620)\r\n        at android.widget.Filter$ResultsHandler.handleMessage(Filter.java:284)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)&quot;\r\n\r\n\r\n\r\nCode is\r\n\r\n   \r\n    \r\n    public class contractorList extends Fragment {\r\n    \r\n    \r\n    \r\n        private ListView itemListView;\r\n        private SearchView search_View;\r\n        private ArrayList&lt;String&gt; arrayContractor;\r\n        private ArrayAdapter&lt;String&gt; adapter;\r\n        @Override\r\n        @Nullable\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState)\r\n        {\r\n    \r\n    \r\n            View view=inflater.inflate(R.layout.fragment_home, container, false);\r\n            itemListView=view.findViewById(R.id.list);\r\n            retrieveData();\r\n            initializeField();\r\n            SearchView searchView;\r\n            searchView=view.findViewById(R.id.search_view);\r\n            searchView.setGravity(Gravity.CENTER);\r\n            searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n                @Override\r\n                public boolean onQueryTextSubmit(String query) {\r\n                    contractorList.this.adapter.getFilter().filter(query);\r\n                    return false;\r\n                }\r\n    \r\n                @Override\r\n                public boolean onQueryTextChange(String newText) {\r\n                    contractorList.this.adapter.getFilter().filter(newText);\r\n                    return false;\r\n                }\r\n            });\r\n            return view;\r\n    \r\n        }\r\n    \r\n    \r\n        private void retrieveData()\r\n        {\r\n    \r\n            DatabaseReference mDatabase = FirebaseDatabase.getInstance().getReference().child(&quot;contractors&quot;);\r\n            mDatabase.addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                    for(DataSnapshot snapshot:dataSnapshot.getChildren())\r\n                    {\r\n                        Contractors con= snapshot.getValue(Contractors.class);\r\n                        String name=con.getContractorName();\r\n                        arrayContractor.add(name);\r\n                    }\r\n                    adapter.notifyDataSetChanged();\r\n                }\r\n    \r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError databaseError) {\r\n                    Log.w(&quot;MY&quot;, &quot;Failed to read value.&quot;, databaseError.toException());\r\n                }\r\n            });\r\n    \r\n        }\r\n        private void initializeField()\r\n        {\r\n            arrayContractor=new ArrayList&lt;&gt;();\r\n            adapter=new ArrayAdapter&lt;String&gt;(getContext(), android.R.layout.simple_list_item_1,arrayContractor);\r\n            itemListView.setAdapter(adapter);\r\n    \r\n        }\r\n    }\r\n\r\n","title":"Searching through a listview populated by firebase","body":"<p>obtain the error : &quot;E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.myhouse, PID: 4134\njava.lang.NullPointerException: Attempt to invoke interface method 'int java.util.List.size()' on a null object reference\nat android.widget.ArrayAdapter.getCount(ArrayAdapter.java:389)\nat android.widget.AdapterView.checkFocus(AdapterView.java:759)\nat android.widget.AdapterView$AdapterDataSetObserver.onInvalidated(AdapterView.java:882)\nat android.widget.AbsListView$AdapterDataSetObserver.onInvalidated(AbsListView.java:6564)\nat android.database.DataSetObservable.notifyInvalidated(DataSetObservable.java:50)\nat android.widget.BaseAdapter.notifyDataSetInvalidated(BaseAdapter.java:63)\nat android.widget.ArrayAdapter$ArrayFilter.publishResults(ArrayAdapter.java:620)\nat android.widget.Filter$ResultsHandler.handleMessage(Filter.java:284)\nat android.os.Handler.dispatchMessage(Handler.java:106)\nat android.os.Looper.loop(Looper.java:223)\nat android.app.ActivityThread.main(ActivityThread.java:7656)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)&quot;</p>\n<p>Code is</p>\n<pre><code>public class contractorList extends Fragment {\n\n\n\n    private ListView itemListView;\n    private SearchView search_View;\n    private ArrayList&lt;String&gt; arrayContractor;\n    private ArrayAdapter&lt;String&gt; adapter;\n    @Override\n    @Nullable\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState)\n    {\n\n\n        View view=inflater.inflate(R.layout.fragment_home, container, false);\n        itemListView=view.findViewById(R.id.list);\n        retrieveData();\n        initializeField();\n        SearchView searchView;\n        searchView=view.findViewById(R.id.search_view);\n        searchView.setGravity(Gravity.CENTER);\n        searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\n            @Override\n            public boolean onQueryTextSubmit(String query) {\n                contractorList.this.adapter.getFilter().filter(query);\n                return false;\n            }\n\n            @Override\n            public boolean onQueryTextChange(String newText) {\n                contractorList.this.adapter.getFilter().filter(newText);\n                return false;\n            }\n        });\n        return view;\n\n    }\n\n\n    private void retrieveData()\n    {\n\n        DatabaseReference mDatabase = FirebaseDatabase.getInstance().getReference().child(&quot;contractors&quot;);\n        mDatabase.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                for(DataSnapshot snapshot:dataSnapshot.getChildren())\n                {\n                    Contractors con= snapshot.getValue(Contractors.class);\n                    String name=con.getContractorName();\n                    arrayContractor.add(name);\n                }\n                adapter.notifyDataSetChanged();\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError databaseError) {\n                Log.w(&quot;MY&quot;, &quot;Failed to read value.&quot;, databaseError.toException());\n            }\n        });\n\n    }\n    private void initializeField()\n    {\n        arrayContractor=new ArrayList&lt;&gt;();\n        adapter=new ArrayAdapter&lt;String&gt;(getContext(), android.R.layout.simple_list_item_1,arrayContractor);\n        itemListView.setAdapter(adapter);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","panel"],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651659551,"creation_date":1651659551,"answer_id":72111360,"question_id":72109006,"body_markdown":"The default, when adding one component, without further arguments, to a `JFrame` is that the component in question will take up the entire client area, since `JFrame` uses a `BorderLayout` by default. So, your solution is to *use* a further argument, telling it to add it at the bottom of the layout:\r\n\r\n```\r\nframe.add(textPanel, BorderLayout.PAGE_END);\r\n```","title":"Java Swing: Why are my panels layered? I can&#39;t see my first panel","body":"<p>The default, when adding one component, without further arguments, to a <code>JFrame</code> is that the component in question will take up the entire client area, since <code>JFrame</code> uses a <code>BorderLayout</code> by default. So, your solution is to <em>use</em> a further argument, telling it to add it at the bottom of the layout:</p>\n<pre><code>frame.add(textPanel, BorderLayout.PAGE_END);\n</code></pre>\n"}],"owner":{"account_id":5747098,"reputation":307,"user_id":4538021,"display_name":"Ran Shorowitz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72111360,"answer_count":1,"score":0,"last_activity_date":1651659551,"creation_date":1651647499,"question_id":72109006,"body_markdown":"I&#39;m trying to have one panel appear under the other (textPanel to appear under mainPanel).\r\n\r\nBut instead, textPanel is appearing overtop of mainPanel:\r\n\r\n\t\tFlatLightLaf.setup();\r\n\t\tFlatLightLaf.supportsNativeWindowDecorations();\r\n\t\tUIManager.setLookAndFeel(new FlatLightLaf()); \r\n\t\t\r\n\t\tJFrame frame = new JFrame();\r\n\t\tframe.setTitle(&quot;Title&quot;);\r\n\t\tframe.setSize(640, 480);\r\n\t\t\r\n\t\tJMenuBar menuBar = new JMenuBar();\r\n\t\tJMenu menu = new JMenu(&quot;File&quot;);\r\n\t\tJMenuItem menuFileSave = new JMenuItem(&quot;Save&quot;);\r\n\t\tmenuFileSave.setAccelerator(KeyStroke.getKeyStroke(KeyEvent.VK_S, ActionEvent.CTRL_MASK));\r\n\t\t\r\n\t\tmenu.add(menuFileSave);\r\n\t\t\r\n\t\tmenuBar.add(menu);\r\n\t\t\r\n\t\tFlowLayout mainLayout = new FlowLayout(FlowLayout.LEFT);\r\n\t\t\r\n\t\tframe.setJMenuBar(menuBar);\r\n\t\t\r\n\t\tJPanel mainPanel = new JPanel(new BorderLayout());\r\n\t\t\r\n\t\tString datesString[] = {&quot;Tuesday May-03-2022&quot;, &quot;Monday May-02-2022&quot;};\r\n\t\t@SuppressWarnings(&quot;rawtypes&quot;)\r\n\t\tJComboBox dateDropDown = new JComboBox&lt;&gt;(datesString);\r\n\t\tdateDropDown.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 17));\r\n\t\tdateDropDown.setVisible(true);\r\n\t\t\r\n\t\tmainPanel.add(dateDropDown);\r\n\r\n\t\tmainPanel.setVisible(true);\r\n\t\tframe.add(mainPanel);\r\n\t\t\r\n\t\tJPanel textPanel = new JPanel(new BorderLayout());\r\n\t\t\r\n\t\tJTextArea textArea = new JTextArea();\r\n\t\ttextPanel.add(textArea);\r\n\r\n\t\ttextPanel.setVisible(true);\r\n\t\tframe.add(textPanel);\r\n\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.setVisible(true);\r\n\r\nHow do I ensure textPanel goes **below** mainPanel on its own row/line, and not overtop of it?\r\n\t\t\r\n","title":"Java Swing: Why are my panels layered? I can&#39;t see my first panel","body":"<p>I'm trying to have one panel appear under the other (textPanel to appear under mainPanel).</p>\n<p>But instead, textPanel is appearing overtop of mainPanel:</p>\n<pre><code>    FlatLightLaf.setup();\n    FlatLightLaf.supportsNativeWindowDecorations();\n    UIManager.setLookAndFeel(new FlatLightLaf()); \n    \n    JFrame frame = new JFrame();\n    frame.setTitle(&quot;Title&quot;);\n    frame.setSize(640, 480);\n    \n    JMenuBar menuBar = new JMenuBar();\n    JMenu menu = new JMenu(&quot;File&quot;);\n    JMenuItem menuFileSave = new JMenuItem(&quot;Save&quot;);\n    menuFileSave.setAccelerator(KeyStroke.getKeyStroke(KeyEvent.VK_S, ActionEvent.CTRL_MASK));\n    \n    menu.add(menuFileSave);\n    \n    menuBar.add(menu);\n    \n    FlowLayout mainLayout = new FlowLayout(FlowLayout.LEFT);\n    \n    frame.setJMenuBar(menuBar);\n    \n    JPanel mainPanel = new JPanel(new BorderLayout());\n    \n    String datesString[] = {&quot;Tuesday May-03-2022&quot;, &quot;Monday May-02-2022&quot;};\n    @SuppressWarnings(&quot;rawtypes&quot;)\n    JComboBox dateDropDown = new JComboBox&lt;&gt;(datesString);\n    dateDropDown.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 17));\n    dateDropDown.setVisible(true);\n    \n    mainPanel.add(dateDropDown);\n\n    mainPanel.setVisible(true);\n    frame.add(mainPanel);\n    \n    JPanel textPanel = new JPanel(new BorderLayout());\n    \n    JTextArea textArea = new JTextArea();\n    textPanel.add(textArea);\n\n    textPanel.setVisible(true);\n    frame.add(textPanel);\n\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.setVisible(true);\n</code></pre>\n<p>How do I ensure textPanel goes <strong>below</strong> mainPanel on its own row/line, and not overtop of it?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1651601257,"post_id":72103628,"comment_id":127400674,"body_markdown":"You are casting an instance of `A` to `X`. `A` is a subclass of `X`, so it would usually be considered **upcasting**. Not that it really matters though, those terms are not official - check the JLS for precise terminology.","body":"You are casting an instance of <code>A</code> to <code>X</code>. <code>A</code> is a subclass of <code>X</code>, so it would usually be considered <b>upcasting</b>. Not that it really matters though, those terms are not official - check the JLS for precise terminology."},{"owner":{"account_id":3520251,"reputation":114,"user_id":2942745,"display_name":"cogitoboy"},"score":1,"creation_date":1651601909,"post_id":72103628,"comment_id":127400904,"body_markdown":"Seems like the JLS terminoligy is widening (casting to a superclass) and narrowing (casting to a subclass). https://docs.oracle.com/javase/specs/jls/se13/jls13.pdf","body":"Seems like the JLS terminoligy is widening (casting to a superclass) and narrowing (casting to a subclass). <a href=\"https://docs.oracle.com/javase/specs/jls/se13/jls13.pdf\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se13/jls13.pdf</a>"}],"answers":[{"tags":[],"owner":{"account_id":2080635,"reputation":4105,"user_id":1852693,"accept_rate":71,"display_name":"Dexter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651659490,"creation_date":1651602855,"answer_id":72103949,"question_id":72103628,"body_markdown":"Line `Y eg=new A();` does not make the instance to be of type Y. **It&#39;s always instance of A.** You are just assigning it to be referenced by type Y, Y being a super type.\r\n\r\nThen in `X eg2=(X)eg;` you are casting type A to type X &amp; NOT Y to X. This is clearly upcasting.\r\n\r\nThe **explicit casting is needed to remove ambiguity** because X &amp; Y are at same level and instance of A can be referenced by both X &amp; Y type.\r\n\r\n[This][1] link may be helpful.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7275844/interface-as-a-type-in-java","title":"What kind of casting is this? (from Y to X)","body":"<p>Line <code>Y eg=new A();</code> does not make the instance to be of type Y. <strong>It's always instance of A.</strong> You are just assigning it to be referenced by type Y, Y being a super type.</p>\n<p>Then in <code>X eg2=(X)eg;</code> you are casting type A to type X &amp; NOT Y to X. This is clearly upcasting.</p>\n<p>The <strong>explicit casting is needed to remove ambiguity</strong> because X &amp; Y are at same level and instance of A can be referenced by both X &amp; Y type.</p>\n<p><a href=\"https://stackoverflow.com/questions/7275844/interface-as-a-type-in-java\">This</a> link may be helpful.</p>\n"},{"tags":[],"owner":{"account_id":20313653,"reputation":848,"user_id":14900042,"display_name":"user-id-14900042"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1651604345,"creation_date":1651604345,"answer_id":72104218,"question_id":72103628,"body_markdown":"It does not have name, as far as I know.\r\nIt is generally unsafe, and makes no sense.\r\n\r\nYour inheritance tree is below, `X` and `Y` are not related with each other. Your attempt will be a result in `ClassCastException` which occurs an invalid cast.\r\nObject (more accurately, `java.lang.Object`) is the top of inheritance tree. since `X` and `Y` does not `extends` anything, they inherit from Object implicitly.\r\n\r\n```\r\nObject\r\n / \\\r\nX   Y\r\n \\ /\r\n  A\r\n```","title":"What kind of casting is this? (from Y to X)","body":"<p>It does not have name, as far as I know.\nIt is generally unsafe, and makes no sense.</p>\n<p>Your inheritance tree is below, <code>X</code> and <code>Y</code> are not related with each other. Your attempt will be a result in <code>ClassCastException</code> which occurs an invalid cast.\nObject (more accurately, <code>java.lang.Object</code>) is the top of inheritance tree. since <code>X</code> and <code>Y</code> does not <code>extends</code> anything, they inherit from Object implicitly.</p>\n<pre><code>Object\n / \\\nX   Y\n \\ /\n  A\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20206120,"reputation":46,"user_id":14820483,"display_name":"Bandolero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651606930,"creation_date":1651606930,"answer_id":72104682,"question_id":72103628,"body_markdown":"I think it&#39;s an upcasting too. \r\n\r\nYou have X that&#39;s is a regular class with move() method.\r\nYou have Y that&#39;s is an abstract class, thus cannot be instantiated.\r\nYou have A class that extends from X, then it inherit the X method. With this, from A you inherit the move() method from X class. You can add &quot;implements Y&quot; to say that you need to code your move function() but this has no real effect since the A class already has the move() method.\r\n\r\nIn the code in main you are:\r\n\r\nY eg=new A();\r\n\r\nYou create an A class and assign it to an Y variable. You can do. What you clearly couldn&#39;t do it&#39;s Y eg = new Y(); since Y cannot be instantiated.\r\nThis Y knows it has the move() method, but doesn&#39;t know it&#39;s implementation. Since A has the implementation, you could do this and do Y.move() without issue.\r\n\r\nX eg2=(X)eg;\r\n\r\nIn this case is an upcasting from A-&gt;X, since A is the child of X. Upcasting by definition is the typecasting of a child object to a parent object.\r\n\r\nHope you find this useful.\r\n\r\nRegards.","title":"What kind of casting is this? (from Y to X)","body":"<p>I think it's an upcasting too.</p>\n<p>You have X that's is a regular class with move() method.\nYou have Y that's is an abstract class, thus cannot be instantiated.\nYou have A class that extends from X, then it inherit the X method. With this, from A you inherit the move() method from X class. You can add &quot;implements Y&quot; to say that you need to code your move function() but this has no real effect since the A class already has the move() method.</p>\n<p>In the code in main you are:</p>\n<p>Y eg=new A();</p>\n<p>You create an A class and assign it to an Y variable. You can do. What you clearly couldn't do it's Y eg = new Y(); since Y cannot be instantiated.\nThis Y knows it has the move() method, but doesn't know it's implementation. Since A has the implementation, you could do this and do Y.move() without issue.</p>\n<p>X eg2=(X)eg;</p>\n<p>In this case is an upcasting from A-&gt;X, since A is the child of X. Upcasting by definition is the typecasting of a child object to a parent object.</p>\n<p>Hope you find this useful.</p>\n<p>Regards.</p>\n"}],"owner":{"account_id":23074115,"reputation":31,"user_id":17187310,"display_name":"Zen12345"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1651659490,"creation_date":1651601080,"question_id":72103628,"body_markdown":"```\r\npublic class X{\r\n    public void move(){}\r\n}\r\n\r\npublic interface Y{\r\n    abstract void move();\r\n}\r\npublic class A extends X implements Y{\r\n\r\n}\r\n\r\n//in the main function\r\npublic static void main(String[] args){\r\n    Y eg=new A(); //line 1\r\n    X eg2=(X)eg; //line 2\r\n}\r\n```\r\n\r\nWhat kind of casting would this be from interface Y to class X? Is it a downcasting or upcasting or neither of both?\r\n\r\nIf it is a upcasting, why do we need an explicit cast in line 2? I tried without an explicit cast and an error was thrown.\r\n\r\n\r\n\r\n","title":"What kind of casting is this? (from Y to X)","body":"<pre><code>public class X{\n    public void move(){}\n}\n\npublic interface Y{\n    abstract void move();\n}\npublic class A extends X implements Y{\n\n}\n\n//in the main function\npublic static void main(String[] args){\n    Y eg=new A(); //line 1\n    X eg2=(X)eg; //line 2\n}\n</code></pre>\n<p>What kind of casting would this be from interface Y to class X? Is it a downcasting or upcasting or neither of both?</p>\n<p>If it is a upcasting, why do we need an explicit cast in line 2? I tried without an explicit cast and an error was thrown.</p>\n"},{"tags":["java","hashmap","sonarqube","initialization","java-stream"],"answers":[{"tags":[],"owner":{"account_id":7181840,"reputation":1565,"user_id":5485454,"display_name":"Kai-Sheng Yang"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651483612,"creation_date":1651483190,"answer_id":72084689,"question_id":72084511,"body_markdown":"As Sonarsource saying:\r\n\r\n&gt;Double Brace Initialization (DBI) is so obscure...\r\n\r\n[Double Brace Initialization should not be used](https://rules.sonarsource.com/java/RSPEC-3599)\r\n\r\n\r\nYou could do something like\r\n\r\n```\r\nMap&lt;String, String&gt; propertiesValueMap = createMap();\r\n \r\nprivate static Map&lt;String, String&gt; createMap() {\r\n    Map&lt;String, String&gt; myMap = new HashMap&lt;String, String&gt;();\r\n    myMap.put(SOME_STRING, SOME_STRING)\r\n    return myMap;\r\n}\r\n```\r\n\r\n\r\nOr, if you are creating an immutable Map and using Java 9 :\r\n\r\n```java\r\nimport static java.util.Map.entry;    \r\n\r\nMap&lt;String, String&gt; propertiesValueMap = Map.ofEntries(\r\n    entry(&quot;SOME_STRING&quot;, &quot;SOME_STRING&quot;),\r\n    entry(&quot;SOME_STRING2&quot;, &quot;SOME_STRING2&quot;)\r\n);\r\n```","title":"Sonarqube is giving HashMap initalization code compliant issue","body":"<p>As Sonarsource saying:</p>\n<blockquote>\n<p>Double Brace Initialization (DBI) is so obscure...</p>\n</blockquote>\n<p><a href=\"https://rules.sonarsource.com/java/RSPEC-3599\" rel=\"nofollow noreferrer\">Double Brace Initialization should not be used</a></p>\n<p>You could do something like</p>\n<pre><code>Map&lt;String, String&gt; propertiesValueMap = createMap();\n \nprivate static Map&lt;String, String&gt; createMap() {\n    Map&lt;String, String&gt; myMap = new HashMap&lt;String, String&gt;();\n    myMap.put(SOME_STRING, SOME_STRING)\n    return myMap;\n}\n</code></pre>\n<p>Or, if you are creating an immutable Map and using Java 9 :</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static java.util.Map.entry;    \n\nMap&lt;String, String&gt; propertiesValueMap = Map.ofEntries(\n    entry(&quot;SOME_STRING&quot;, &quot;SOME_STRING&quot;),\n    entry(&quot;SOME_STRING2&quot;, &quot;SOME_STRING2&quot;)\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651656197,"creation_date":1651490248,"answer_id":72085904,"question_id":72084511,"body_markdown":"This issue arose because you are writing your code against concrete implementations. Which doesn&#39;t bays you anything. It only makes your code inflexible, more difficult to maintain, more verbose and less expressive. Consider reading this question https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface.\r\n\r\nIn regard to `Collectors.toMap()` (*which expects only two arguments*) currently, it does return you a `HashMap`. And it is not specified, because sometime in the future it could be replaced with an enhanced *general purpose implementation* that will better in some cases than `HashMap`. If you would write your code against `Map` interface instead of requesting a particular implementation, you would get an implementation for free without changing the code.\r\n\r\nAs I&#39;ve mentioned, you can ***request a particular implementation*** of the `Map` interface by using a flavor of [`toMap()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function,java.util.function.BinaryOperator,java.util.function.Supplier)) that expects a supplier `mapFactory`. \r\n```\r\nCollector&lt;T,?,M&gt; toMap(Function&lt;? super T,? extends K&gt; keyMapper,\r\n                       Function&lt;? super T,? extends U&gt; valueMapper,\r\n                       BinaryOperator&lt;U&gt; mergeFunction,\r\n                       Supplier&lt;M&gt; mapFactory)\r\n```\r\nBut my suggestion is to use it when need a *special purpose implementation* like `LinkedHashMap`, `TreeMap`, `WeakedHashMap`, etc. The best current *general purpose implementation* (which currently a `HashMap`) will be provided to you by default, just write your code against interfaces, and you&#39;ll be fine.\r\n\r\nAn example of usage of this flavor of `toMap`:\r\n```\r\nMap&lt;String, String&gt; result =\r\n    list.stream()\r\n          .collect(Collectors.toMap(\r\n              data-&gt;data[0],\r\n              data-&gt;data[1],\r\n              (left, right) -&gt; { throw new AssertionError(); }, // this argument is meant to resolve duplicates and because all keys are expected to be unique it&#39;ll trows an error if duplicate will occure\r\n              LinkedHashMap::new));\r\n```\r\n\r\nIn regard to `new HashMap&lt;String, String&gt;(){{ someCode }};`, I suggest you to utilize Java 9 static methods of the `Map` interface [`Map.of()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#of(K,V,K,V,K,V)) or [`Map.ofEntries()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#ofEntries(java.util.Map.Entry...)) instead. It makes your code leaner and saves from disadvantages that double brace initialization can bring, like possibility of **memory leaks**, which might emerge because the anonymous inner class that it creates under the hood would hold reference to the instance of the enclosing class. That&#39;s why this practice is considered to be an *antipattern*.","title":"Sonarqube is giving HashMap initalization code compliant issue","body":"<p>This issue arose because you are writing your code against concrete implementations. Which doesn't bays you anything. It only makes your code inflexible, more difficult to maintain, more verbose and less expressive. Consider reading this question <a href=\"https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface\">What does it mean to &quot;program to an interface&quot;?</a>.</p>\n<p>In regard to <code>Collectors.toMap()</code> (<em>which expects only two arguments</em>) currently, it does return you a <code>HashMap</code>. And it is not specified, because sometime in the future it could be replaced with an enhanced <em>general purpose implementation</em> that will better in some cases than <code>HashMap</code>. If you would write your code against <code>Map</code> interface instead of requesting a particular implementation, you would get an implementation for free without changing the code.</p>\n<p>As I've mentioned, you can <em><strong>request a particular implementation</strong></em> of the <code>Map</code> interface by using a flavor of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function,java.util.function.BinaryOperator,java.util.function.Supplier)\" rel=\"nofollow noreferrer\"><code>toMap()</code></a> that expects a supplier <code>mapFactory</code>.</p>\n<pre><code>Collector&lt;T,?,M&gt; toMap(Function&lt;? super T,? extends K&gt; keyMapper,\n                       Function&lt;? super T,? extends U&gt; valueMapper,\n                       BinaryOperator&lt;U&gt; mergeFunction,\n                       Supplier&lt;M&gt; mapFactory)\n</code></pre>\n<p>But my suggestion is to use it when need a <em>special purpose implementation</em> like <code>LinkedHashMap</code>, <code>TreeMap</code>, <code>WeakedHashMap</code>, etc. The best current <em>general purpose implementation</em> (which currently a <code>HashMap</code>) will be provided to you by default, just write your code against interfaces, and you'll be fine.</p>\n<p>An example of usage of this flavor of <code>toMap</code>:</p>\n<pre><code>Map&lt;String, String&gt; result =\n    list.stream()\n          .collect(Collectors.toMap(\n              data-&gt;data[0],\n              data-&gt;data[1],\n              (left, right) -&gt; { throw new AssertionError(); }, // this argument is meant to resolve duplicates and because all keys are expected to be unique it'll trows an error if duplicate will occure\n              LinkedHashMap::new));\n</code></pre>\n<p>In regard to <code>new HashMap&lt;String, String&gt;(){{ someCode }};</code>, I suggest you to utilize Java 9 static methods of the <code>Map</code> interface <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#of(K,V,K,V,K,V)\" rel=\"nofollow noreferrer\"><code>Map.of()</code></a> or <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#ofEntries(java.util.Map.Entry...)\" rel=\"nofollow noreferrer\"><code>Map.ofEntries()</code></a> instead. It makes your code leaner and saves from disadvantages that double brace initialization can bring, like possibility of <strong>memory leaks</strong>, which might emerge because the anonymous inner class that it creates under the hood would hold reference to the instance of the enclosing class. That's why this practice is considered to be an <em>antipattern</em>.</p>\n"},{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651657986,"creation_date":1651657986,"answer_id":72111015,"question_id":72084511,"body_markdown":"Starting with Java 9, the easiest way to define a fixed `Map&lt;K,V&gt;` is to just use one of [the `Map.of(...)` variants][1] (or [`ofEntries`][2] if you need more than 10 entries).\r\n\r\n    Map&lt;String, String&gt; myMap = Map.of(\r\n        KEY1, VALUE1,\r\n        KEY2, VALUE2);\r\n\r\nThat one returns a non-specific `Map&lt;K,V&gt;` though (i.e. the exact type is not guaranteed, but [some properties][3] of the result are), so if you *need* a `HashMap` then the easiest way is to just pass the result of the above to `new HashMap&lt;&gt;()`:\r\n\r\n    HashMap&lt;String, String&gt; myMap = new HashMap&lt;&gt;(Map.of(\r\n        KEY1, VALUE1,\r\n        KEY2, VALUE2));\r\n\r\nWhile this *does* create two maps (one of which will quickly be garbage-collected), I consider this an acceptable drawback, given that you avoid creating a whole new class just for initializing some values.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#of(K,V)\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#ofEntries(java.util.Map.Entry...)\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#unmodifiable","title":"Sonarqube is giving HashMap initalization code compliant issue","body":"<p>Starting with Java 9, the easiest way to define a fixed <code>Map&lt;K,V&gt;</code> is to just use one of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#of(K,V)\" rel=\"nofollow noreferrer\">the <code>Map.of(...)</code> variants</a> (or <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#ofEntries(java.util.Map.Entry...)\" rel=\"nofollow noreferrer\"><code>ofEntries</code></a> if you need more than 10 entries).</p>\n<pre><code>Map&lt;String, String&gt; myMap = Map.of(\n    KEY1, VALUE1,\n    KEY2, VALUE2);\n</code></pre>\n<p>That one returns a non-specific <code>Map&lt;K,V&gt;</code> though (i.e. the exact type is not guaranteed, but <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#unmodifiable\" rel=\"nofollow noreferrer\">some properties</a> of the result are), so if you <em>need</em> a <code>HashMap</code> then the easiest way is to just pass the result of the above to <code>new HashMap&lt;&gt;()</code>:</p>\n<pre><code>HashMap&lt;String, String&gt; myMap = new HashMap&lt;&gt;(Map.of(\n    KEY1, VALUE1,\n    KEY2, VALUE2));\n</code></pre>\n<p>While this <em>does</em> create two maps (one of which will quickly be garbage-collected), I consider this an acceptable drawback, given that you avoid creating a whole new class just for initializing some values.</p>\n"}],"owner":{"account_id":18108075,"reputation":39,"user_id":13165294,"display_name":"Saif"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":652,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1651657986,"creation_date":1651482314,"question_id":72084511,"body_markdown":"I have this code where I am initializing this `HashMap` like:\r\n\r\n    final HashMap&lt;String, String&gt; propertiesValueMap = new HashMap&lt;String, String&gt;(){{\r\n                put(SOME_STRING, SOME_STRING);\r\n                put(SOME_STRING, SOME_STRING);\r\n                put(SOME_STRING, SOME_STRING);\r\n             }};\r\n\r\nThe above code is giving non complaint code issue in SonarQube.\r\nis there any other way by which i can initialize?\r\n\r\nI know one way like \r\n\r\n    Stream.of(new String[][]{\r\n                { SOME_STRING, SOME_STRING},{SOME_STRING, SOME_STRING}\r\n        }).collect(Collectors.toMap(data-&gt;data[0],data-&gt;data[1]\r\n        ));\r\n\r\nBut this will return me `Map&lt;String,String&gt;` and I want `HashMap&lt;String,String&gt;`.\r\n\r\n\r\n","title":"Sonarqube is giving HashMap initalization code compliant issue","body":"<p>I have this code where I am initializing this <code>HashMap</code> like:</p>\n<pre><code>final HashMap&lt;String, String&gt; propertiesValueMap = new HashMap&lt;String, String&gt;(){{\n            put(SOME_STRING, SOME_STRING);\n            put(SOME_STRING, SOME_STRING);\n            put(SOME_STRING, SOME_STRING);\n         }};\n</code></pre>\n<p>The above code is giving non complaint code issue in SonarQube.\nis there any other way by which i can initialize?</p>\n<p>I know one way like</p>\n<pre><code>Stream.of(new String[][]{\n            { SOME_STRING, SOME_STRING},{SOME_STRING, SOME_STRING}\n    }).collect(Collectors.toMap(data-&gt;data[0],data-&gt;data[1]\n    ));\n</code></pre>\n<p>But this will return me <code>Map&lt;String,String&gt;</code> and I want <code>HashMap&lt;String,String&gt;</code>.</p>\n"},{"tags":["java","spring-boot","maven","tomcat","executable-jar"],"comments":[{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1651662788,"post_id":72110967,"comment_id":127415129,"body_markdown":"This link can help: https://stackoverflow.com/questions/64331552/deploy-war-file-on-tomcat-of-spring-boot-and-angular-app","body":"This link can help: <a href=\"https://stackoverflow.com/questions/64331552/deploy-war-file-on-tomcat-of-spring-boot-and-angular-app\" title=\"deploy war file on tomcat of spring boot and angular app\">stackoverflow.com/questions/64331552/&hellip;</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1651682309,"post_id":72110967,"comment_id":127422885,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":25191964,"reputation":1,"user_id":19032054,"display_name":"YantrAdhigam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":386,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651657795,"creation_date":1651657795,"question_id":72110967,"body_markdown":"I have one scenario where I have backend API which is build in springboot. I need to build API project as executable jar and want to use that in another project. which is basic maven project where I am using frontend code. I want to include my executable jar in frontend project and then want to access the API end point directly from the jar. Without giving any reference in frontend code. What configuration I need to do for this in POM? I have tried multiple online solution but none of them working. I am getting 404 always if I try to access the API end point from frontend project. \r\nNote: Final deployment should happen on Tomcat server with Frontend code and API jar both in same War file and deployed in tomcat. So I should be able to access the Backend API directly from jar.\r\n\r\nIf anyone can help on this it would be great help. Thanks in advance.","title":"How to Access API end point from executable jar in another maven project","body":"<p>I have one scenario where I have backend API which is build in springboot. I need to build API project as executable jar and want to use that in another project. which is basic maven project where I am using frontend code. I want to include my executable jar in frontend project and then want to access the API end point directly from the jar. Without giving any reference in frontend code. What configuration I need to do for this in POM? I have tried multiple online solution but none of them working. I am getting 404 always if I try to access the API end point from frontend project.\nNote: Final deployment should happen on Tomcat server with Frontend code and API jar both in same War file and deployed in tomcat. So I should be able to access the Backend API directly from jar.</p>\n<p>If anyone can help on this it would be great help. Thanks in advance.</p>\n"},{"tags":["java","android","android-glide","bottom-navigation-bar"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1651656482,"post_id":72110631,"comment_id":127413009,"body_markdown":"Have you tried to reduce the size of the image?","body":"Have you tried to reduce the size of the image?"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1651656562,"post_id":72110631,"comment_id":127413044,"body_markdown":"@AlexMamo that is not the issue. Check my answer","body":"@AlexMamo that is not the issue. Check my answer"}],"answers":[{"tags":[],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1651657524,"creation_date":1651656538,"answer_id":72110707,"question_id":72110631,"body_markdown":"**Menus do not support coloured images**\r\n\r\n\r\nYou can not use a coloured image in these places and a bit more also:\r\n1. In bottom navigation\r\n2. In navigation drawer\r\n3. In popup menu\r\n4. etc...\r\n\r\nBasically which ever view uses a menu file for its resource, cannot have a coloured image. That is why you don&#39;t see it. To test it yourself, take a colourful image in your drawable and set it as an icon for the bottom navigation. You notice that it comes the same way. This proves it\r\n\r\n## Edits\r\n---\r\n1. [This](https://stackoverflow.com/q/57861254/17133283) post gives some info on how to do it\r\n2. You can do it this way:\r\n   ```\r\n   mBottomNav.setItemIconTintList(null);\r\n   ```","title":"Loading an image inside a bottom navigation bar item icon using an URL","body":"<p><strong>Menus do not support coloured images</strong></p>\n<p>You can not use a coloured image in these places and a bit more also:</p>\n<ol>\n<li>In bottom navigation</li>\n<li>In navigation drawer</li>\n<li>In popup menu</li>\n<li>etc...</li>\n</ol>\n<p>Basically which ever view uses a menu file for its resource, cannot have a coloured image. That is why you don't see it. To test it yourself, take a colourful image in your drawable and set it as an icon for the bottom navigation. You notice that it comes the same way. This proves it</p>\n<h2>Edits</h2>\n<hr />\n<ol>\n<li><a href=\"https://stackoverflow.com/q/57861254/17133283\">This</a> post gives some info on how to do it</li>\n<li>You can do it this way:\n<pre><code>mBottomNav.setItemIconTintList(null);\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":20270978,"reputation":55,"user_id":18471564,"display_name":"Yassine"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":800,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":72110707,"answer_count":1,"score":4,"last_activity_date":1651657524,"creation_date":1651656162,"question_id":72110631,"body_markdown":"I&#39;m trying to load a profile image using the firebase storage url inside an item&#39;s icon of a bottom navigation bar, here&#39;s my code: \r\n\r\n\r\n     Glide.with(getApplicationContext()).asBitmap().load(profilePicUrl)\r\n        .into(new CustomTarget&lt;Bitmap&gt;() {\r\n\r\n            @Override\r\n            public void onResourceReady(@NonNull Bitmap resource, @Nullable Transition&lt;? super Bitmap&gt; transition) {\r\n                Drawable profileImage = new BitmapDrawable(getResources(), resource);\r\n                bottomNav.getMenu().getItem(4).setIcon(profileImage);\r\n            }\r\n\r\n            @Override\r\n            public void onLoadCleared(@Nullable Drawable placeholder) {\r\n\r\n            }\r\n        });\r\nThe `profilePicUrl` does work, I already use it to for another image view. However when I run the app, the dimensions of the icon changes corresponding to the picture that I&#39;m trying to load but there&#39;s no image inside, [here&#39;s how it looks][1].\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ni0aE.jpg","title":"Loading an image inside a bottom navigation bar item icon using an URL","body":"<p>I'm trying to load a profile image using the firebase storage url inside an item's icon of a bottom navigation bar, here's my code:</p>\n<pre><code> Glide.with(getApplicationContext()).asBitmap().load(profilePicUrl)\n    .into(new CustomTarget&lt;Bitmap&gt;() {\n\n        @Override\n        public void onResourceReady(@NonNull Bitmap resource, @Nullable Transition&lt;? super Bitmap&gt; transition) {\n            Drawable profileImage = new BitmapDrawable(getResources(), resource);\n            bottomNav.getMenu().getItem(4).setIcon(profileImage);\n        }\n\n        @Override\n        public void onLoadCleared(@Nullable Drawable placeholder) {\n\n        }\n    });\n</code></pre>\n<p>The <code>profilePicUrl</code> does work, I already use it to for another image view. However when I run the app, the dimensions of the icon changes corresponding to the picture that I'm trying to load but there's no image inside, <a href=\"https://i.stack.imgur.com/ni0aE.jpg\" rel=\"nofollow noreferrer\">here's how it looks</a>.</p>\n"},{"tags":["java","maven","dependency-injection","pom.xml"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1651500090,"post_id":72087647,"comment_id":127372617,"body_markdown":"Why not just put the artifact in a usual Maven repository (Nexus/Artifactory)?","body":"Why not just put the artifact in a usual Maven repository (Nexus/Artifactory)?"},{"owner":{"account_id":2387579,"reputation":1903,"user_id":2088219,"accept_rate":14,"display_name":"Ravi Kumar"},"score":0,"creation_date":1651640369,"post_id":72087647,"comment_id":127408457,"body_markdown":"since i need to validate flag before download artifact/jar","body":"since i need to validate flag before download artifact/jar"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1651646221,"post_id":72087647,"comment_id":127409622,"body_markdown":"I do not understand why you need the whole REST API and the permission flag. Why not upload the artifact to a Nexus/Artifactory and just use it without any REST API in between?","body":"I do not understand why you need the whole REST API and the permission flag. Why not upload the artifact to a Nexus/Artifactory and just use it without any REST API in between?"},{"owner":{"account_id":2387579,"reputation":1903,"user_id":2088219,"accept_rate":14,"display_name":"Ravi Kumar"},"score":0,"creation_date":1651646426,"post_id":72087647,"comment_id":127409663,"body_markdown":"this is because we want to restrict download from unauthorised user","body":"this is because we want to restrict download from unauthorised user"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1651646975,"post_id":72087647,"comment_id":127409834,"body_markdown":"You can restrict the download by using accounts in the Nexus or Artifactory server.","body":"You can restrict the download by using accounts in the Nexus or Artifactory server."},{"owner":{"account_id":2387579,"reputation":1903,"user_id":2088219,"accept_rate":14,"display_name":"Ravi Kumar"},"score":0,"creation_date":1651647700,"post_id":72087647,"comment_id":127410041,"body_markdown":"yeah Fabian \ni can use account but here i need artifact label restriction\nfor example :- some user has artifact permission but some does not","body":"yeah Fabian  i can use account but here i need artifact label restriction for example :- some user has artifact permission but some does not"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1651694461,"post_id":72087647,"comment_id":127426993,"body_markdown":"Please reconsider this approach. Different users can use different accounts on Nexus/Artifactory. Your approach will be peculiar at best, but probably will not work correctly.","body":"Please reconsider this approach. Different users can use different accounts on Nexus/Artifactory. Your approach will be peculiar at best, but probably will not work correctly."}],"answers":[{"tags":[],"owner":{"account_id":1710150,"reputation":1208,"user_id":1568380,"accept_rate":29,"display_name":"Anurag Tripathi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651657433,"creation_date":1651654852,"answer_id":72110357,"question_id":72087647,"body_markdown":"Instead of directly calling the curl command on your jar use a shell script to do so, Write all your validation logic inside that shell script.\r\ni.e.&lt;br&gt; `&lt;arg value=&quot;bash myScript.sh param1 param2 ...&quot; /&gt;`","title":"can we add extra check before download artifact in maven","body":"<p>Instead of directly calling the curl command on your jar use a shell script to do so, Write all your validation logic inside that shell script.\ni.e.<br> <code>&lt;arg value=&quot;bash myScript.sh param1 param2 ...&quot; /&gt;</code></p>\n"}],"owner":{"account_id":2387579,"reputation":1903,"user_id":2088219,"accept_rate":14,"display_name":"Ravi Kumar"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651657433,"creation_date":1651499112,"question_id":72087647,"body_markdown":"in maven pm dependency i want to download jar from Rest API (Rest API which download jar with some flag that is permission flag)\r\nbut before download i want to add some check whether that flag has access or not for the artifact \r\n\r\ni have tried \r\n\r\n    &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.0&lt;/version&gt;\r\n      &lt;executions&gt;\r\n        &lt;execution&gt;\r\n          &lt;id&gt;build&lt;/id&gt;\r\n          &lt;phase&gt;compile&lt;/phase&gt;\r\n          &lt;configuration&gt;\r\n            &lt;target&gt;\r\n              &lt;exec executable=&quot;bash&quot;&gt;\r\n                &lt;arg value=&quot;-c&quot; /&gt;\r\n                &lt;arg\r\n                  value=&quot;curl -X GET {Rest api} -o /Users/ids/Documents/jar/xyz-1.1.0.jar&quot; /&gt;\r\n              &lt;/exec&gt;\r\n            &lt;/target&gt;\r\n          &lt;/configuration&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;run&lt;/goal&gt;\r\n          &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nThis is working but i am not sure how to check permission flag  before download \r\npermission flag we can check from rest api as well (since data is there in DB) or some custom tag \r\n\r\n","title":"can we add extra check before download artifact in maven","body":"<p>in maven pm dependency i want to download jar from Rest API (Rest API which download jar with some flag that is permission flag)\nbut before download i want to add some check whether that flag has access or not for the artifact</p>\n<p>i have tried</p>\n<pre><code>&lt;plugin&gt;\n      &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.0.0&lt;/version&gt;\n  &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;id&gt;build&lt;/id&gt;\n      &lt;phase&gt;compile&lt;/phase&gt;\n      &lt;configuration&gt;\n        &lt;target&gt;\n          &lt;exec executable=&quot;bash&quot;&gt;\n            &lt;arg value=&quot;-c&quot; /&gt;\n            &lt;arg\n              value=&quot;curl -X GET {Rest api} -o /Users/ids/Documents/jar/xyz-1.1.0.jar&quot; /&gt;\n          &lt;/exec&gt;\n        &lt;/target&gt;\n      &lt;/configuration&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;run&lt;/goal&gt;\n      &lt;/goals&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>This is working but i am not sure how to check permission flag  before download\npermission flag we can check from rest api as well (since data is there in DB) or some custom tag</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1651622403,"post_id":72105719,"comment_id":127406061,"body_markdown":"Your question is not clear. Can you rewrite to get very specific? The title too needs a rewrite to summarize your specific technical issue.","body":"Your question is not clear. Can you rewrite to get very specific? The title too needs a rewrite to summarize your specific technical issue."},{"owner":{"display_name":"user9624111"},"score":0,"creation_date":1651647016,"post_id":72105719,"comment_id":127409844,"body_markdown":"Hi, is it clear now?","body":"Hi, is it clear now?"},{"owner":{"account_id":9182237,"reputation":817,"user_id":6825678,"display_name":"DrHopfen"},"score":1,"creation_date":1651648672,"post_id":72105719,"comment_id":127410341,"body_markdown":"You should not query the database directly in the servlet. The query should be encapsulated in the DAO. I.e. in a method like getUserId(LoginBean loginBean)","body":"You should not query the database directly in the servlet. The query should be encapsulated in the DAO. I.e. in a method like getUserId(LoginBean loginBean)"},{"owner":{"display_name":"user9624111"},"score":0,"creation_date":1651651550,"post_id":72105719,"comment_id":127411263,"body_markdown":"@DrHopfen and can you please write some code bcs i am having some difficulties, thank you","body":"@DrHopfen and can you please write some code bcs i am having some difficulties, thank you"},{"owner":{"account_id":9182237,"reputation":817,"user_id":6825678,"display_name":"DrHopfen"},"score":0,"creation_date":1651654270,"post_id":72105719,"comment_id":127412233,"body_markdown":"SO is not meant to do your homework. https://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions To write a working answer we would also need to know the structure of your database. The idea should be to implement the method in the Dao and then call i.e. dao.getUserId() in the servlet.","body":"SO is not meant to do your homework. <a href=\"https://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions\" title=\"how do i ask and answer homework questions\">meta.stackoverflow.com/questions/334822/&hellip;</a> To write a working answer we would also need to know the structure of your database. The idea should be to implement the method in the Dao and then call i.e. dao.getUserId() in the servlet."},{"owner":{"display_name":"user9624111"},"score":0,"creation_date":1651655831,"post_id":72105719,"comment_id":127412758,"body_markdown":"@DrHopfen The structure of the database is :table is called user. The columns are: id_user,name,surname,email,username,password","body":"@DrHopfen The structure of the database is :table is called user. The columns are: id_user,name,surname,email,username,password"}],"answers":[{"tags":[],"owner":{"account_id":9182237,"reputation":817,"user_id":6825678,"display_name":"DrHopfen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651657293,"creation_date":1651657293,"answer_id":72110868,"question_id":72105719,"body_markdown":"You could extend the Dao class the following way.\r\n\r\n    package en.xx.project.dao;\r\n    import java.sql.Connection;\r\n    import java.sql.PreparedStatement;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import java.sql.Statement;\r\n    import en.xxx.project.conn.DBConnect;\r\n    import en.xxx.project.beans.LoginBean;\r\n    public class LoginDao {\r\n      public boolean vaildate(LoginBean bean)\r\n      {\r\n        boolean result = false;\r\n        Connection connection=DBConnect.getConn();\r\n        String sql=&quot;select * from user where username=? and password=?&quot;;\r\n        try {\r\n          PreparedStatement ps=connection.prepareStatement(sql);\r\n          ps.setString(1, bean.getUserName());\r\n          ps.setString(2, bean.getPassword());\r\n          ResultSet rs=ps.executeQuery();\r\n          result=rs.next();\r\n        } catch (SQLException e) {\r\n          // TODO Auto-generated catch block\r\n          e.printStackTrace();\r\n        }    \r\n        return result;\r\n      }\r\n\r\n      public String getUserId(LoginBean bean){\r\n        String result = &quot;&quot;;\r\n        Connection connection = DBConnect.getConn();\r\n        String sql = &quot;select id_user from user where username=?&quot;\r\n        try {\r\n          PreparedStatement ps=connection.prepareStatement(sql);\r\n          ps.setString(1, bean.getUserName());\r\n          ResultSet rs=ps.executeQuery();\r\n          result=rs.next();\r\n        } catch (SQLException e) {\r\n          // TODO Auto-generated catch block\r\n          e.printStackTrace();\r\n        }\r\n      }\r\n    }\r\nThen just call `dao.getUserId(bean)` in your servlet. Note that the code is not tested and should be refactored. For example the connection should be reused by the dao. Also error handling or validation that a valid userId is returned is completely missing.","title":"How to use Write a sql query in servlet","body":"<p>You could extend the Dao class the following way.</p>\n<pre><code>package en.xx.project.dao;\nimport java.sql.Connection;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\nimport en.xxx.project.conn.DBConnect;\nimport en.xxx.project.beans.LoginBean;\npublic class LoginDao {\n  public boolean vaildate(LoginBean bean)\n  {\n    boolean result = false;\n    Connection connection=DBConnect.getConn();\n    String sql=&quot;select * from user where username=? and password=?&quot;;\n    try {\n      PreparedStatement ps=connection.prepareStatement(sql);\n      ps.setString(1, bean.getUserName());\n      ps.setString(2, bean.getPassword());\n      ResultSet rs=ps.executeQuery();\n      result=rs.next();\n    } catch (SQLException e) {\n      // TODO Auto-generated catch block\n      e.printStackTrace();\n    }    \n    return result;\n  }\n\n  public String getUserId(LoginBean bean){\n    String result = &quot;&quot;;\n    Connection connection = DBConnect.getConn();\n    String sql = &quot;select id_user from user where username=?&quot;\n    try {\n      PreparedStatement ps=connection.prepareStatement(sql);\n      ps.setString(1, bean.getUserName());\n      ResultSet rs=ps.executeQuery();\n      result=rs.next();\n    } catch (SQLException e) {\n      // TODO Auto-generated catch block\n      e.printStackTrace();\n    }\n  }\n}\n</code></pre>\n<p>Then just call <code>dao.getUserId(bean)</code> in your servlet. Note that the code is not tested and should be refactored. For example the connection should be reused by the dao. Also error handling or validation that a valid userId is returned is completely missing.</p>\n"}],"owner":{"display_name":"user9624111"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1651657293,"creation_date":1651613787,"question_id":72105719,"body_markdown":"Hello guys i am trying to do a school  project.I have written a login page.It is not complete becausw i want the id_user after logging in, and cant find a way how to catch it in the servlet package(how to write a sql query inside the servlet).\r\nAfter catching the id i wil use session\r\nThank you for your time\r\n\r\nDao package:\r\n\r\n    package en.xx.project.dao;\r\n    import java.sql.Connection;\r\n    import java.sql.PreparedStatement;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import java.sql.Statement;\r\n    import en.xxx.project.conn.DBConnect;\r\n    import en.xxx.project.beans.LoginBean;\r\n    public class LoginDao {\r\n      public boolean vaildate(LoginBean bean)\r\n      {\r\n        boolean result = false;\r\n        Connection connection=DBConnect.getConn();\r\n        String sql=&quot;select * from user where username=? and password=?&quot;;\r\n        try {\r\n          PreparedStatement ps=connection.prepareStatement(sql);\r\n          ps.setString(1, bean.getUserName());\r\n          ps.setString(2, bean.getPassword());\r\n          ResultSet rs=ps.executeQuery();\r\n          result=rs.next();\r\n        } catch (SQLException e) {\r\n          // TODO Auto-generated catch block\r\n          e.printStackTrace();\r\n        }    \r\n        return result;\r\n      }\r\n    }\r\nServlet:\r\n\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import project.dao.LoginDao;\r\n    import project.beans.LoginBean;\r\n    import project.conn.*;\r\n    public class LoginServlet extends HttpServlet {\r\n      private static final long serialVersionUID = 1L;\r\n           \r\n        /**\r\n         * @see HttpServlet#HttpServlet()\r\n         */\r\n        public LoginServlet() {\r\n            super();\r\n            // TODO Auto-generated constructor stub\r\n        }\r\n      protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n        // TODO Auto-generated method stub\r\n          response.setContentType(&quot;text/html&quot;);\r\n          String uname=request.getParameter(&quot;uname&quot;);\r\n          String pass=request.getParameter(&quot;pass&quot;);\r\n          LoginBean bean=new LoginBean();\r\n          LoginDao dao=new LoginDao();\r\n          bean.setUserName(uname);\r\n          bean.setPassword(pass);\r\n          if(dao.vaildate(bean))\r\n          {\r\n            //Here i should write the query\r\n        \tresponse.sendRedirect(&quot;index.html&quot;);\r\n          }\r\n          else\r\n          {\r\n            response.sendRedirect(&quot;Login.html&quot;);\r\n          }\r\n      }\r\n    }\r\nConn package:\r\n\r\n    package project.conn;\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.SQLException;\r\n    public class DBConnect {\r\n      public static Connection getConn() {\r\n        Connection con = null;\r\n        String loadDriver = &quot;com.mysql.jdbc.Driver&quot;;\r\n        String dbURL = &quot;jdbc:mysql://localhost:3306/xxx&quot;;\r\n        String dbUSERNAME = &quot;root&quot;;\r\n        String dbPASSWORD = &quot;xxx&quot;;\r\n        try {\r\n          Class.forName(loadDriver);\r\n          con = DriverManager.getConnection(dbURL, dbUSERNAME, dbPASSWORD);\r\n        } catch (ClassNotFoundException e) {\r\n          // TODO Auto-generated catch block\r\n          e.printStackTrace();\r\n        } catch (SQLException e) {\r\n          // TODO Auto-generated catch block\r\n          e.printStackTrace();\r\n        }\r\n        return con;\r\n      }\r\n    }","title":"How to use Write a sql query in servlet","body":"<p>Hello guys i am trying to do a school  project.I have written a login page.It is not complete becausw i want the id_user after logging in, and cant find a way how to catch it in the servlet package(how to write a sql query inside the servlet).\nAfter catching the id i wil use session\nThank you for your time</p>\n<p>Dao package:</p>\n<pre><code>package en.xx.project.dao;\nimport java.sql.Connection;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\nimport en.xxx.project.conn.DBConnect;\nimport en.xxx.project.beans.LoginBean;\npublic class LoginDao {\n  public boolean vaildate(LoginBean bean)\n  {\n    boolean result = false;\n    Connection connection=DBConnect.getConn();\n    String sql=&quot;select * from user where username=? and password=?&quot;;\n    try {\n      PreparedStatement ps=connection.prepareStatement(sql);\n      ps.setString(1, bean.getUserName());\n      ps.setString(2, bean.getPassword());\n      ResultSet rs=ps.executeQuery();\n      result=rs.next();\n    } catch (SQLException e) {\n      // TODO Auto-generated catch block\n      e.printStackTrace();\n    }    \n    return result;\n  }\n}\n</code></pre>\n<p>Servlet:</p>\n<pre><code>import javax.servlet.http.HttpServletResponse;\nimport project.dao.LoginDao;\nimport project.beans.LoginBean;\nimport project.conn.*;\npublic class LoginServlet extends HttpServlet {\n  private static final long serialVersionUID = 1L;\n       \n    /**\n     * @see HttpServlet#HttpServlet()\n     */\n    public LoginServlet() {\n        super();\n        // TODO Auto-generated constructor stub\n    }\n  protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n    // TODO Auto-generated method stub\n      response.setContentType(&quot;text/html&quot;);\n      String uname=request.getParameter(&quot;uname&quot;);\n      String pass=request.getParameter(&quot;pass&quot;);\n      LoginBean bean=new LoginBean();\n      LoginDao dao=new LoginDao();\n      bean.setUserName(uname);\n      bean.setPassword(pass);\n      if(dao.vaildate(bean))\n      {\n        //Here i should write the query\n        response.sendRedirect(&quot;index.html&quot;);\n      }\n      else\n      {\n        response.sendRedirect(&quot;Login.html&quot;);\n      }\n  }\n}\n</code></pre>\n<p>Conn package:</p>\n<pre><code>package project.conn;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\npublic class DBConnect {\n  public static Connection getConn() {\n    Connection con = null;\n    String loadDriver = &quot;com.mysql.jdbc.Driver&quot;;\n    String dbURL = &quot;jdbc:mysql://localhost:3306/xxx&quot;;\n    String dbUSERNAME = &quot;root&quot;;\n    String dbPASSWORD = &quot;xxx&quot;;\n    try {\n      Class.forName(loadDriver);\n      con = DriverManager.getConnection(dbURL, dbUSERNAME, dbPASSWORD);\n    } catch (ClassNotFoundException e) {\n      // TODO Auto-generated catch block\n      e.printStackTrace();\n    } catch (SQLException e) {\n      // TODO Auto-generated catch block\n      e.printStackTrace();\n    }\n    return con;\n  }\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa","specifications"],"owner":{"account_id":16208117,"reputation":41,"user_id":11702834,"display_name":"Arjun Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":946,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651657289,"creation_date":1651657289,"question_id":72110867,"body_markdown":"I have created JPA Specification like \r\n\r\n```\r\npublic class CarFilterSpecs {\r\n  public static Specification&lt;Car&gt; carStatusIn(Collection&lt;String&gt; carStatus) {\r\n    return (root, query, builder) -&gt;\r\n            CollectionUtils.isEmpty(carStatus)\r\n                    ? builder.conjunction()\r\n                    : carStatus.contains(-1)\r\n                    ? builder.isNull(root.get(&quot;carStatus&quot;).get(&quot;id&quot;))\r\n                    : root.get(&quot;carStatus&quot;).get(&quot;id&quot;).in(carStatus);\r\n  }\r\n\r\n  public static Specification&lt;Car&gt; carVisibilityStatusIn(Collection&lt;String&gt; \r\n    carVisibilityStatus) {\r\n    return (root, query, builder) -&gt;\r\n        CollectionUtils.isEmpty(carVisibilityStatus)\r\n            ? builder.conjunction()\r\n            : carVisibilityStatus.contains(-1)\r\n            ? builder.isNull(root.get(&quot;carVisibilityStatus&quot;))\r\n            : root.get(&quot;carVisibilityStatus&quot;).in(carVisibilityStatus);\r\n  }\r\n}\r\n```\r\nand models looks like\r\n```\r\npublic class Status {\r\n  String id;\r\n  String name;\r\n}\r\n\r\npublic class Car {\r\n  String id;\r\n  Status status;\r\n  ...\r\n}\r\n```\r\nand I am consuming the spec like\r\n```\r\nimport org.springframework.data.jpa.domain.Specification;\r\n\r\nSpecification&lt;Car&gt; specs = Specification.where(CarSpecs.carStatusIn(status))\r\n     .and(CarSpecs.carVisibilityStatusIn(visibilityStatus));\r\n\r\ncarRepository.findAll(specs);\r\n```\r\ntill here works perfectly but now I am failing to get cars with some status and as well cars with status null(there is a chance of having status null)","title":"JPA Specification with null parameter","body":"<p>I have created JPA Specification like</p>\n<pre><code>public class CarFilterSpecs {\n  public static Specification&lt;Car&gt; carStatusIn(Collection&lt;String&gt; carStatus) {\n    return (root, query, builder) -&gt;\n            CollectionUtils.isEmpty(carStatus)\n                    ? builder.conjunction()\n                    : carStatus.contains(-1)\n                    ? builder.isNull(root.get(&quot;carStatus&quot;).get(&quot;id&quot;))\n                    : root.get(&quot;carStatus&quot;).get(&quot;id&quot;).in(carStatus);\n  }\n\n  public static Specification&lt;Car&gt; carVisibilityStatusIn(Collection&lt;String&gt; \n    carVisibilityStatus) {\n    return (root, query, builder) -&gt;\n        CollectionUtils.isEmpty(carVisibilityStatus)\n            ? builder.conjunction()\n            : carVisibilityStatus.contains(-1)\n            ? builder.isNull(root.get(&quot;carVisibilityStatus&quot;))\n            : root.get(&quot;carVisibilityStatus&quot;).in(carVisibilityStatus);\n  }\n}\n</code></pre>\n<p>and models looks like</p>\n<pre><code>public class Status {\n  String id;\n  String name;\n}\n\npublic class Car {\n  String id;\n  Status status;\n  ...\n}\n</code></pre>\n<p>and I am consuming the spec like</p>\n<pre><code>import org.springframework.data.jpa.domain.Specification;\n\nSpecification&lt;Car&gt; specs = Specification.where(CarSpecs.carStatusIn(status))\n     .and(CarSpecs.carVisibilityStatusIn(visibilityStatus));\n\ncarRepository.findAll(specs);\n</code></pre>\n<p>till here works perfectly but now I am failing to get cars with some status and as well cars with status null(there is a chance of having status null)</p>\n"},{"tags":["java","spring","spring-boot","exception"],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1651657277,"creation_date":1651657277,"answer_id":72110863,"question_id":72109922,"body_markdown":"This is related with the application property `spring.mvc.log-resolved-exception`. This is by default set to false in `spring-boot` but if you use `spring-boot-devtools` then it is switched to true.\r\n\r\nSo in that case you have to declare `spring.mvc.log-resolved-exception = false` for exception handler resolver to stop writting warns about exceptions.\r\n\r\n[Referenced Spring boot doc][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.web.spring.mvc.log-resolved-exception","title":"Difficulties in understanding ExceptionHandlerExceptionResolver","body":"<p>This is related with the application property <code>spring.mvc.log-resolved-exception</code>. This is by default set to false in <code>spring-boot</code> but if you use <code>spring-boot-devtools</code> then it is switched to true.</p>\n<p>So in that case you have to declare <code>spring.mvc.log-resolved-exception = false</code> for exception handler resolver to stop writting warns about exceptions.</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.web.spring.mvc.log-resolved-exception\" rel=\"nofollow noreferrer\">Referenced Spring boot doc</a></p>\n"}],"owner":{"account_id":18546803,"reputation":67,"user_id":13513956,"display_name":"ElMagico"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":411,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":72110863,"answer_count":1,"score":4,"last_activity_date":1651657277,"creation_date":1651652775,"question_id":72109922,"body_markdown":"I have problems understanding on why *ExceptionHandlerExceptionResolver* throws an Exception. \r\nI have written a custom *@RestControllerAdvice* ExceptionHandler to catch Exceptions thrown by my Spring Boot application. After the catch my ExceptionHandler returns as a response the message from the thrown exception. But I still get a log message from *ExceptionHandlerExceptionResolver* and I can&#39;t figure out why.\r\n\r\nHere the Log message:\r\n```\r\n2022-05-04 10:08:53.043  INFO 17600 --- [nio-8080-exec-3] at.sds.wm.common.CommonExceptionHandler  : Equipment Barbell 660Kg exists already. Either id already taken or name combined with same equipment already saved\r\n2022-05-04 10:08:53.049  WARN 17600 --- [nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [at.sds.wm.equipment.exceptions.EquipmentExistsAlreadyException: Equipment Barbell 660Kg exists already. Either id already taken or name combined with same equipment already saved]\r\n```\r\n\r\nI first thought, that the *ExceptionHandlerExceptionResolver* gets called because my *ExceptionHandler* throws an Exception but that isn&#39;t the case.\r\n\r\nAny tips and tricks on how to surpress the second Log, or could someone explain me why the *ExceptionHandlerExceptionResolver* gets called?\r\n\r\nBelow my code snippet for the ExceptionHandler part that gets called:\r\n```\r\n    @ExceptionHandler(value = {WorkoutExistsAlreadyException.class, EquipmentExistsAlreadyException.class, ExerciseExistsAlreadyException.class})\r\n    @ResponseStatus(code = HttpStatus.CONFLICT)\r\n    public String handleExistsAlreadyException(RuntimeException ex) {\r\n        log.info(ex.getMessage());\r\n        return ex.getMessage();\r\n    }\r\n```\r\n","title":"Difficulties in understanding ExceptionHandlerExceptionResolver","body":"<p>I have problems understanding on why <em>ExceptionHandlerExceptionResolver</em> throws an Exception.\nI have written a custom <em>@RestControllerAdvice</em> ExceptionHandler to catch Exceptions thrown by my Spring Boot application. After the catch my ExceptionHandler returns as a response the message from the thrown exception. But I still get a log message from <em>ExceptionHandlerExceptionResolver</em> and I can't figure out why.</p>\n<p>Here the Log message:</p>\n<pre><code>2022-05-04 10:08:53.043  INFO 17600 --- [nio-8080-exec-3] at.sds.wm.common.CommonExceptionHandler  : Equipment Barbell 660Kg exists already. Either id already taken or name combined with same equipment already saved\n2022-05-04 10:08:53.049  WARN 17600 --- [nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [at.sds.wm.equipment.exceptions.EquipmentExistsAlreadyException: Equipment Barbell 660Kg exists already. Either id already taken or name combined with same equipment already saved]\n</code></pre>\n<p>I first thought, that the <em>ExceptionHandlerExceptionResolver</em> gets called because my <em>ExceptionHandler</em> throws an Exception but that isn't the case.</p>\n<p>Any tips and tricks on how to surpress the second Log, or could someone explain me why the <em>ExceptionHandlerExceptionResolver</em> gets called?</p>\n<p>Below my code snippet for the ExceptionHandler part that gets called:</p>\n<pre><code>    @ExceptionHandler(value = {WorkoutExistsAlreadyException.class, EquipmentExistsAlreadyException.class, ExerciseExistsAlreadyException.class})\n    @ResponseStatus(code = HttpStatus.CONFLICT)\n    public String handleExistsAlreadyException(RuntimeException ex) {\n        log.info(ex.getMessage());\n        return ex.getMessage();\n    }\n</code></pre>\n"},{"tags":["java","loops"],"comments":[{"owner":{"account_id":52942,"reputation":5873,"user_id":158288,"accept_rate":92,"display_name":"Koekiebox"},"score":1,"creation_date":1286454938,"post_id":3881660,"comment_id":4131544,"body_markdown":"I know it is the case in c++. But is it for Java?","body":"I know it is the case in c++. But is it for Java?"},{"owner":{"account_id":8732,"reputation":87908,"user_id":15880,"accept_rate":75,"display_name":"Powerlord"},"score":0,"creation_date":1286460283,"post_id":3881660,"comment_id":4132629,"body_markdown":"In your example, the middle part of the for will be evaluated 11 times.  Once you fix the spelling of `length` so that it actually compiles, that is.","body":"In your example, the middle part of the for will be evaluated 11 times.  Once you fix the spelling of <code>length</code> so that it actually compiles, that is."}],"answers":[{"tags":[],"owner":{"account_id":30940,"reputation":243131,"user_id":84651,"accept_rate":75,"display_name":"Justin Niessner"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1286455483,"creation_date":1286455057,"answer_id":3881682,"question_id":3881660,"body_markdown":"Yes, the expression must be evaluated for each iteration of the loop to determine whether to stay inside the loop or continue program execution.\r\n\r\nRemember, you can do things like this:\r\n\r\n    for(int a = 0, z = 26; a &lt; z; a++, z--){\r\n        // Do some work\r\n    }\r\n\r\nIn that case, both sides of the expression will change and must be evaluated for each iteration.\r\n\r\nAnd you&#39;re right, if you have calculations in the for loop condition that can be moved out to a separate variable, you should do that:\r\n\r\n    for(int i = 0; i &lt; ((someCount / 2) * 21.6); i++){\r\n    }\r\n\r\nCould easily be:\r\n\r\n    int maxVal = (someCount / 2) * 21.6;\r\n\r\n    for(int i=0; i &lt; maxVal; i++){\r\n    {","title":"Java for Loop evaluation","body":"<p>Yes, the expression must be evaluated for each iteration of the loop to determine whether to stay inside the loop or continue program execution.</p>\n\n<p>Remember, you can do things like this:</p>\n\n<pre><code>for(int a = 0, z = 26; a &lt; z; a++, z--){\n    // Do some work\n}\n</code></pre>\n\n<p>In that case, both sides of the expression will change and must be evaluated for each iteration.</p>\n\n<p>And you're right, if you have calculations in the for loop condition that can be moved out to a separate variable, you should do that:</p>\n\n<pre><code>for(int i = 0; i &lt; ((someCount / 2) * 21.6); i++){\n}\n</code></pre>\n\n<p>Could easily be:</p>\n\n<pre><code>int maxVal = (someCount / 2) * 21.6;\n\nfor(int i=0; i &lt; maxVal; i++){\n{\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1286455057,"creation_date":1286455057,"answer_id":3881683,"question_id":3881660,"body_markdown":"Yes, it will logically evaluate the whole of the middle operand on every iteration of the loop. In cases where the JIT knows better, of course, it can do clever things (even potentially removing the array bounds check within the loop, based on the loop conditions).\r\n\r\nNote that for types that the JIT doesn&#39;t know about, it may not be able to optimize specifically like this - but may still inline things like fetching the `size()` of an `ArrayList&lt;T&gt;`.\r\n\r\nFinally, I generally prefer the enhanced for loop for readability:\r\n\r\n    for (int value : tenBig) {\r\n        ...\r\n    }\r\n\r\nOf course, that&#39;s assuming you don&#39;t need the index for other reasons.","title":"Java for Loop evaluation","body":"<p>Yes, it will logically evaluate the whole of the middle operand on every iteration of the loop. In cases where the JIT knows better, of course, it can do clever things (even potentially removing the array bounds check within the loop, based on the loop conditions).</p>\n\n<p>Note that for types that the JIT doesn't know about, it may not be able to optimize specifically like this - but may still inline things like fetching the <code>size()</code> of an <code>ArrayList&lt;T&gt;</code>.</p>\n\n<p>Finally, I generally prefer the enhanced for loop for readability:</p>\n\n<pre><code>for (int value : tenBig) {\n    ...\n}\n</code></pre>\n\n<p>Of course, that's assuming you don't need the index for other reasons.</p>\n"},{"tags":[],"owner":{"account_id":111625,"reputation":2845,"user_id":294789,"accept_rate":94,"display_name":"adranale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1286455145,"creation_date":1286455145,"answer_id":3881690,"question_id":3881660,"body_markdown":"Do you ask wether the compiler caches the tenBig.length value since he knows it won&#39;t change during the loop? Or you ask wether the compiler automatically knows that the whole expression index &lt; tenBig.length does not need to be evaluated for the next 9 times?","title":"Java for Loop evaluation","body":"<p>Do you ask wether the compiler caches the tenBig.length value since he knows it won't change during the loop? Or you ask wether the compiler automatically knows that the whole expression index &lt; tenBig.length does not need to be evaluated for the next 9 times?</p>\n"},{"tags":[],"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1651657151,"creation_date":1286455157,"answer_id":3881696,"question_id":3881660,"body_markdown":"Yes. Specifically, the condition part is executed *before* each loop body. So it&#39;s entirely possible that you never enter the body of the loop at all.\r\n\r\nSo taking your example:\r\n\r\n    for(int index = 0;index &lt; tenBig.length;index++) {\r\n        /* ...body... */\r\n    }\r\n\r\nThis is the logical (not literal) equivalent:\r\n\r\n    int index = 0;\r\n    while (index &lt; tenBig.length) { // happens on each loop\r\n        /* ...body... */\r\n\r\n        index++;\r\n    }\r\n","title":"Java for Loop evaluation","body":"<p>Yes. Specifically, the condition part is executed <em>before</em> each loop body. So it's entirely possible that you never enter the body of the loop at all.</p>\n<p>So taking your example:</p>\n<pre><code>for(int index = 0;index &lt; tenBig.length;index++) {\n    /* ...body... */\n}\n</code></pre>\n<p>This is the logical (not literal) equivalent:</p>\n<pre><code>int index = 0;\nwhile (index &lt; tenBig.length) { // happens on each loop\n    /* ...body... */\n\n    index++;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":208745,"reputation":1141,"user_id":459431,"display_name":"Jas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1286455224,"creation_date":1286455224,"answer_id":3881703,"question_id":3881660,"body_markdown":"It&#39;s going to be executed everytime the loop is entered, including the last evaluation which will yield index &lt; length = false . \r\nAside from this, even though the length of tenBig is const, the loop will always access this property so it would be ideal to assign it to a variable (even though it&#39;s not a reasonable speed gain in your example).","title":"Java for Loop evaluation","body":"<p>It's going to be executed everytime the loop is entered, including the last evaluation which will yield index &lt; length = false . \nAside from this, even though the length of tenBig is const, the loop will always access this property so it would be ideal to assign it to a variable (even though it's not a reasonable speed gain in your example).</p>\n"},{"tags":[],"owner":{"account_id":80529,"reputation":448248,"user_id":227665,"accept_rate":33,"display_name":"codaddict"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1286457394,"creation_date":1286457394,"answer_id":3882009,"question_id":3881660,"body_markdown":"If the conditional expression is a *loop invariant* and you are running in JIT mode, loop optimizations such as [Loop-invariant code motion][1] can be done.\r\n\r\nBut when run in the interpreted mode, I *guess* there is not much optimization to do.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Compiler_optimization#Loop_optimizations","title":"Java for Loop evaluation","body":"<p>If the conditional expression is a <em>loop invariant</em> and you are running in JIT mode, loop optimizations such as <a href=\"http://en.wikipedia.org/wiki/Compiler_optimization#Loop_optimizations\" rel=\"nofollow\">Loop-invariant code motion</a> can be done.</p>\n\n<p>But when run in the interpreted mode, I <em>guess</em> there is not much optimization to do.</p>\n"},{"tags":[],"owner":{"account_id":153349,"reputation":7272,"user_id":368544,"accept_rate":80,"display_name":"Mart&#237;n Schonaker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1286458940,"creation_date":1286458940,"answer_id":3882217,"question_id":3881660,"body_markdown":"Here are several bytecode [compiling examples from the JVM spec][1].\r\n\r\nAs far as I know, the condition will be evaluated every time.\r\n\r\nRegards.\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/jvms/second_edition/html/Compiling.doc.html","title":"Java for Loop evaluation","body":"<p>Here are several bytecode <a href=\"http://java.sun.com/docs/books/jvms/second_edition/html/Compiling.doc.html\" rel=\"nofollow\">compiling examples from the JVM spec</a>.</p>\n\n<p>As far as I know, the condition will be evaluated every time.</p>\n\n<p>Regards.</p>\n"},{"tags":[],"owner":{"account_id":193213,"reputation":596,"user_id":434793,"display_name":"Ferid G&#252;rb&#252;z"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1286474058,"creation_date":1286474058,"answer_id":3884389,"question_id":3881660,"body_markdown":"`index &lt; tenBig.length` will be execute before every time the loop cycle starts.\r\n\r\n        public static void main(String[] args) {\r\n    \t\tint[] tenBig = new int[] { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 };\r\n    \r\n    \t\tfor (int index = 0; isEvaluated() &amp;&amp; index &lt; tenBig.length; index++) {\r\n    \t\t\tSystem.out.println(&quot;Value at index: &quot; + tenBig[index]);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static boolean isEvaluated() {\r\n    \t\tSystem.out.println(&quot;evaluated&quot;);\r\n    \t\treturn true;\r\n    \t}\r\n\r\nIt will print `&quot;evaluated&quot;` just before cycles starts. And one more time before loop finishes.","title":"Java for Loop evaluation","body":"<p><code>index &lt; tenBig.length</code> will be execute before every time the loop cycle starts.</p>\n\n<pre><code>    public static void main(String[] args) {\n        int[] tenBig = new int[] { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 };\n\n        for (int index = 0; isEvaluated() &amp;&amp; index &lt; tenBig.length; index++) {\n            System.out.println(\"Value at index: \" + tenBig[index]);\n        }\n    }\n\n    public static boolean isEvaluated() {\n        System.out.println(\"evaluated\");\n        return true;\n    }\n</code></pre>\n\n<p>It will print <code>\"evaluated\"</code> just before cycles starts. And one more time before loop finishes.</p>\n"},{"tags":[],"owner":{"account_id":1149936,"reputation":14493,"user_id":1131857,"accept_rate":76,"display_name":"wutzebaer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1579522842,"creation_date":1579522842,"answer_id":59823186,"question_id":3881660,"body_markdown":"Short Answer: the condition is evaluated **every time** so:\r\n\r\nWRONG:\r\n\r\n\tfor (int i = 0; i &lt; Math.random() * 50; i++) {\r\n\t\tSystem.out.println(&quot;&quot; + i);\r\n\t}\r\n\r\nCORRECT:\r\n\r\n\tdouble random = Math.random();\r\n\tfor (int i = 0; i &lt; random * 50; i++) {\r\n\t\tSystem.out.println(&quot;&quot; + i);\r\n\t}","title":"Java for Loop evaluation","body":"<p>Short Answer: the condition is evaluated <strong>every time</strong> so:</p>\n\n<p>WRONG:</p>\n\n<pre><code>for (int i = 0; i &lt; Math.random() * 50; i++) {\n    System.out.println(\"\" + i);\n}\n</code></pre>\n\n<p>CORRECT:</p>\n\n<pre><code>double random = Math.random();\nfor (int i = 0; i &lt; random * 50; i++) {\n    System.out.println(\"\" + i);\n}\n</code></pre>\n"}],"owner":{"account_id":52942,"reputation":5873,"user_id":158288,"accept_rate":92,"display_name":"Koekiebox"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12358,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":3881683,"answer_count":9,"score":12,"last_activity_date":1651657151,"creation_date":1286454896,"question_id":3881660,"body_markdown":"I want to know if the condition evaluation is executed in `for` and `while` loops in Java every time the loop cycle finishes.\r\n\r\nExample:\r\n\r\n    int[] tenBig = new int[]{1,2,3,4,5,6,7,8,9,10};\r\n    \r\n    for(int index = 0;index &lt; tenBig.length;index++){\r\n        System.out.println(&quot;Value at index: &quot;+tenBig[index]);\r\n    }\r\n\r\nWill the `index &lt; tenBig.length` be execute every time the loop cycle finishes?\r\n\r\nAssumption and experience tells me yes.\r\n\r\nI know that in this example the `tenBig.length` is a constant, so there won&#39;t be a performance impact.\r\n\r\nBut lets assume that the condition operation takes long in a different case.\r\nI know the logical thing to do then is to assign the `tenBig.length` to a variable.\r\n\r\nStill I want to be sure that its evaluated every time.","title":"Java for Loop evaluation","body":"<p>I want to know if the condition evaluation is executed in <code>for</code> and <code>while</code> loops in Java every time the loop cycle finishes.</p>\n\n<p>Example:</p>\n\n<pre><code>int[] tenBig = new int[]{1,2,3,4,5,6,7,8,9,10};\n\nfor(int index = 0;index &lt; tenBig.length;index++){\n    System.out.println(\"Value at index: \"+tenBig[index]);\n}\n</code></pre>\n\n<p>Will the <code>index &lt; tenBig.length</code> be execute every time the loop cycle finishes?</p>\n\n<p>Assumption and experience tells me yes.</p>\n\n<p>I know that in this example the <code>tenBig.length</code> is a constant, so there won't be a performance impact.</p>\n\n<p>But lets assume that the condition operation takes long in a different case.\nI know the logical thing to do then is to assign the <code>tenBig.length</code> to a variable.</p>\n\n<p>Still I want to be sure that its evaluated every time.</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":1,"creation_date":1651656120,"post_id":72110353,"comment_id":127412872,"body_markdown":"Why set 4 parameters when there are only 3 in the query?","body":"Why set 4 parameters when there are only 3 in the query?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1651657095,"post_id":72110353,"comment_id":127413220,"body_markdown":"JDBC prepared statement parameters are numbered from 1, not 0. In addition, you are trying to set 4 parameters when there are only three, the last two sets being for the same parameter.","body":"JDBC prepared statement parameters are numbered from 1, not 0. In addition, you are trying to set 4 parameters when there are only three, the last two sets being for the same parameter."}],"answers":[{"tags":[],"owner":{"account_id":20850061,"reputation":13,"user_id":15314793,"display_name":"lemoncactus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651657093,"creation_date":1651657093,"answer_id":72110828,"question_id":72110353,"body_markdown":"You are setting 4 parameters when the sql-string only contains three &quot;?&quot;.\r\n\r\nAlso the parameters are set starting from 1 and not 0.  \r\nSee this answer for more detailed info: [other answer][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/10896151/java-sql-sqlexception-parameter-index-out-of-range-1-number-of-parameters-wh","title":"java.sql.SQLException: Parameter index out of range (1 &gt; number of parameters, which is 0) Problem","body":"<p>You are setting 4 parameters when the sql-string only contains three &quot;?&quot;.</p>\n<p>Also the parameters are set starting from 1 and not 0.<br />\nSee this answer for more detailed info: <a href=\"https://stackoverflow.com/questions/10896151/java-sql-sqlexception-parameter-index-out-of-range-1-number-of-parameters-wh\">other answer</a></p>\n"}],"owner":{"account_id":25191573,"reputation":1,"user_id":19031712,"display_name":"cjrusso"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":317,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1651657093,"creation_date":1651654848,"question_id":72110353,"body_markdown":"Can anyone teach me where I went wrong?\r\n\r\n    private void Submit_ButtonActionPerformed(java.awt.event.ActionEvent evt) {                                              \r\n               \r\n        if (First_Name.getText().isEmpty() || Last_Name.getText().isEmpty() || Contact_Number.getText().isEmpty() ){\r\n            JOptionPane.showMessageDialog(null, &quot;Please Fill Up The Forms&quot;);            \r\n            clear();\r\n        }\r\n        //First_Name.getText();\r\n        //Last_Name.getText();\r\n        //Contact_Number.getText();\r\n        else{\r\n            try{                \r\n                String query = &quot;INSERT INTO `user2`(`First Name`, `Last Name`, `Contact Number`) VALUES (?,?,?)&quot;;\r\n                con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/registration?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC&quot;,&quot;root&quot;,&quot;&quot;);\r\n                pst = con.prepareStatement(query);\r\n                //pst.setString\r\n                pst.setString(0, First_Name.getText());\r\n                pst.setString(1, Last_Name.getText());\r\n                pst.setString(2,Contact_Number.getText());\r\n                pst.setInt(3, Integer.parseInt(Contact_Number.getText()));\r\n                \r\n                pst.executeUpdate();\r\n                JOptionPane.showMessageDialog(null, &quot;Successfully Registered&quot;);\r\n                clear();\r\n            }\r\n            catch (HeadlessException | SQLException e){\r\n                System.out.println(e);\r\n            }\r\n        }","title":"java.sql.SQLException: Parameter index out of range (1 &gt; number of parameters, which is 0) Problem","body":"<p>Can anyone teach me where I went wrong?</p>\n<pre><code>private void Submit_ButtonActionPerformed(java.awt.event.ActionEvent evt) {                                              \n           \n    if (First_Name.getText().isEmpty() || Last_Name.getText().isEmpty() || Contact_Number.getText().isEmpty() ){\n        JOptionPane.showMessageDialog(null, &quot;Please Fill Up The Forms&quot;);            \n        clear();\n    }\n    //First_Name.getText();\n    //Last_Name.getText();\n    //Contact_Number.getText();\n    else{\n        try{                \n            String query = &quot;INSERT INTO `user2`(`First Name`, `Last Name`, `Contact Number`) VALUES (?,?,?)&quot;;\n            con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/registration?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC&quot;,&quot;root&quot;,&quot;&quot;);\n            pst = con.prepareStatement(query);\n            //pst.setString\n            pst.setString(0, First_Name.getText());\n            pst.setString(1, Last_Name.getText());\n            pst.setString(2,Contact_Number.getText());\n            pst.setInt(3, Integer.parseInt(Contact_Number.getText()));\n            \n            pst.executeUpdate();\n            JOptionPane.showMessageDialog(null, &quot;Successfully Registered&quot;);\n            clear();\n        }\n        catch (HeadlessException | SQLException e){\n            System.out.println(e);\n        }\n    }\n</code></pre>\n"},{"tags":["java","file","hashmap","frequency"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1651653480,"post_id":72109958,"comment_id":127411936,"body_markdown":"I assume the simplified code you&#39;ve posted doesn&#39;t reflect your actual problem since you probably wouldn&#39;t just iterate and check for odd or even numbers (if this were true no iteration would be needed at all). So could you elaborate some more? Are you asking for how to speedup the `replace(...)` method or for an alternative approach to your problem?","body":"I assume the simplified code you&#39;ve posted doesn&#39;t reflect your actual problem since you probably wouldn&#39;t just iterate and check for odd or even numbers (if this were true no iteration would be needed at all). So could you elaborate some more? Are you asking for how to speedup the <code>replace(...)</code> method or for an alternative approach to your problem?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1651653682,"post_id":72109958,"comment_id":127412000,"body_markdown":"Instead of `replace(key, get(key) + 1)` you could use `merge(key, 1, Integer::sum)`. That should remove one operation to look up the entry.","body":"Instead of <code>replace(key, get(key) + 1)</code> you could use <code>merge(key, 1, Integer::sum)</code>. That should remove one operation to look up the entry."},{"owner":{"account_id":21625271,"reputation":169,"user_id":15949695,"display_name":"hua"},"score":0,"creation_date":1651653719,"post_id":72109958,"comment_id":127412015,"body_markdown":"@Thomas yes, I&#39;m asking how to speedup the replace() method or any other way I can counting string frequency faster.","body":"@Thomas yes, I&#39;m asking how to speedup the replace() method or any other way I can counting string frequency faster."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1651654472,"post_id":72109958,"comment_id":127412310,"body_markdown":"Another thing to keep in mind is the number of buckets in the hashmap. If you already know the number of words (not their frequency) or at least have a decent estimate you should set the hashmap&#39;s capacity accordingly. Besides that, you could try to look for another structur, e.g. a trie.","body":"Another thing to keep in mind is the number of buckets in the hashmap. If you already know the number of words (not their frequency) or at least have a decent estimate you should set the hashmap&#39;s capacity accordingly. Besides that, you could try to look for another structur, e.g. a trie."},{"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"score":0,"creation_date":1651655211,"post_id":72109958,"comment_id":127412552,"body_markdown":"Java streams aren&#39;t applicable? see https://www.baeldung.com/java-groupingby-count","body":"Java streams aren&#39;t applicable? see <a href=\"https://www.baeldung.com/java-groupingby-count\" rel=\"nofollow noreferrer\">baeldung.com/java-groupingby-count</a>"},{"owner":{"account_id":21625271,"reputation":169,"user_id":15949695,"display_name":"hua"},"score":0,"creation_date":1651656562,"post_id":72109958,"comment_id":127413045,"body_markdown":"@Turo I was not do it yet, I&#39;ll try it, but it looks a little diffucult, so it will cost me a few time.","body":"@Turo I was not do it yet, I&#39;ll try it, but it looks a little diffucult, so it will cost me a few time."},{"owner":{"account_id":21625271,"reputation":169,"user_id":15949695,"display_name":"hua"},"score":0,"creation_date":1651661118,"post_id":72109958,"comment_id":127414622,"body_markdown":"@Turo it&#39;s better than mine, I can run it about 21 seconds instead 30 before. but can I do it faster? because my partner in graduate school, he can do it about 4 second, but he is graduated so I can&#39;t get contact with him, also can&#39;t know how was he doing it better.","body":"@Turo it&#39;s better than mine, I can run it about 21 seconds instead 30 before. but can I do it faster? because my partner in graduate school, he can do it about 4 second, but he is graduated so I can&#39;t get contact with him, also can&#39;t know how was he doing it better."},{"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"score":0,"creation_date":1651665290,"post_id":72109958,"comment_id":127415890,"body_markdown":"You could try parallel Stream with groupByConcurrent","body":"You could try parallel Stream with groupByConcurrent"},{"owner":{"account_id":21625271,"reputation":169,"user_id":15949695,"display_name":"hua"},"score":0,"creation_date":1651748076,"post_id":72109958,"comment_id":127438879,"body_markdown":"@Turo When I change groupBy to groupByConcurrent, it becomes 27 seconds. In theroy, groupByConcurrent should faster than groupBy, isn&#39;t it?","body":"@Turo When I change groupBy to groupByConcurrent, it becomes 27 seconds. In theroy, groupByConcurrent should faster than groupBy, isn&#39;t it?"},{"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"score":0,"creation_date":1651752687,"post_id":72109958,"comment_id":127440560,"body_markdown":"No, a Concurrent HashMap is slower, but can run parallel, the parallel stream is essential","body":"No, a Concurrent HashMap is slower, but can run parallel, the parallel stream is essential"},{"owner":{"account_id":21625271,"reputation":169,"user_id":15949695,"display_name":"hua"},"score":0,"creation_date":1651753885,"post_id":72109958,"comment_id":127441056,"body_markdown":"I don&#39;t understand, the most effect of parallel is not speedup every compute?","body":"I don&#39;t understand, the most effect of parallel is not speedup every compute?"},{"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"score":0,"creation_date":1651754533,"post_id":72109958,"comment_id":127441333,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/244508/discussion-between-turo-and-hua).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/244508/discussion-between-turo-and-hua\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1651656702,"creation_date":1651656702,"answer_id":72110745,"question_id":72109958,"body_markdown":"You don&#39;t need to replace the map&#39;s value at all. In contrast to keys map values are allowed to be mutable so all you need is a mutable structure to hold the frequency for each value. \r\n\r\nThus you could do it like this (simplified):\r\n\r\n    class Frequency {\r\n      int value;\r\n    }\r\n\r\n    Map&lt;String, Frequency&gt; frequencyMap = new HashMap&lt;&gt;();\r\n\r\n    //iterate over the words\r\n    for(String word : words) {\r\n      //get the mutable frequency for each word\r\n      Frequency f = frequencyMap.get(word);\r\n\r\n      //if the entry doesn&#39;t exist yet put it into the map\r\n      //(you could use computeIfAbsent but it would be slower\r\n      if( f == null ) {\r\n         f = new Frequency();\r\n         frequencyMap.put(word, f);\r\n      }\r\n\r\n      //just mutate the frequency - no need to change the map again\r\n      f.value++;\r\n    }\r\n\r\nOn my machine that&#39;s about 5x faster than the `replace(key, get(key) + 1)` approach.","title":"How to record a string appear frequency faster using HashMap in Java?","body":"<p>You don't need to replace the map's value at all. In contrast to keys map values are allowed to be mutable so all you need is a mutable structure to hold the frequency for each value.</p>\n<p>Thus you could do it like this (simplified):</p>\n<pre><code>class Frequency {\n  int value;\n}\n\nMap&lt;String, Frequency&gt; frequencyMap = new HashMap&lt;&gt;();\n\n//iterate over the words\nfor(String word : words) {\n  //get the mutable frequency for each word\n  Frequency f = frequencyMap.get(word);\n\n  //if the entry doesn't exist yet put it into the map\n  //(you could use computeIfAbsent but it would be slower\n  if( f == null ) {\n     f = new Frequency();\n     frequencyMap.put(word, f);\n  }\n\n  //just mutate the frequency - no need to change the map again\n  f.value++;\n}\n</code></pre>\n<p>On my machine that's about 5x faster than the <code>replace(key, get(key) + 1)</code> approach.</p>\n"}],"owner":{"account_id":21625271,"reputation":169,"user_id":15949695,"display_name":"hua"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72110745,"answer_count":1,"score":0,"last_activity_date":1651656702,"creation_date":1651652969,"question_id":72109958,"body_markdown":"I&#39;m studying a decision tree, and the algorithm has a part of record string frequency from file. This file have 30,000 cases and 1.68MB size.\r\n\r\nI try to using HashMap to do this, in my main algorithm code, the replace method run about 900 milion times and took me about 30 seconds. Any way I can do it faster?\r\n\r\nThere are simplify code of my main algorithm code below, it took me about 10 second.\r\n\r\n    Map&lt;String, Integer&gt; classesCount = new HashMap&lt;&gt;();\r\n    int target = 900000000;\r\n\r\n    classesCount.put(&quot;a&quot;, 0);\r\n    classesCount.put(&quot;b&quot;, 0);\r\n\r\n    for(int i = 0; i &lt; target; i++) {\r\n        if (i % 2 == 0) {\r\n            classesCount.replace(&quot;a&quot;, classesCount.get(&quot;a&quot;) + 1);\r\n        }\r\n        else {\r\n            classesCount.replace(&quot;b&quot;, classesCount.get(&quot;b&quot;) + 1);\r\n        }\r\n    }\r\nTo make it more clear my actual code, I have a class Value, and I have an array of Value class in main method, this is Values class as below.\r\n\r\n    public class Value&lt;T extends Comparable&lt;T&gt;&gt; implements Comparable&lt;Value&lt;T&gt;&gt; {\r\n    public T value;\r\n    public String result;\r\n\r\n    public Value(T value, String result) {\r\n        this.value = value;\r\n        this.result = result;\r\n    }\r\n\r\n    public int compareTo(Value&lt;T&gt; v) {\r\n        return value.compareTo(v.value);\r\n    }\r\n}\r\n\r\nthis is main method code as below. assume arrayOfValue already have many element and every Value&#39;s result just have &quot;a&quot; and &quot;b&quot;:\r\n\r\n    Map&lt;String, Integer&gt; classesCountA = new HashMap&lt;&gt;();\r\n    Map&lt;String, Integer&gt; classesCountB = new HashMap&lt;&gt;();\r\n    Value[] arrayOfValue = new Value[];\r\n    int splitIndex = 55;\r\n\r\n    classesCountA.put(&quot;a&quot;, 0);\r\n    classesCountA.put(&quot;b&quot;, 0);\r\n    classesCountB.put(&quot;a&quot;, 0);\r\n    classesCountB.put(&quot;b&quot;, 0);\r\n\r\n    for(int i = 0; i &lt; arrayOfValue.length; i++) {\r\n        if(i &lt; splitIndex) {\r\n            classesCountA.replace(arrayOfValue[i].result, classesCount.get(arrayOfValue[i].result) + 1);\r\n        }\r\n        else {\r\n            classesCountB.replace(arrayOfValue[i].result, classesCount.get(arrayOfValue[i].result) + 1);\r\n        }\r\n    }","title":"How to record a string appear frequency faster using HashMap in Java?","body":"<p>I'm studying a decision tree, and the algorithm has a part of record string frequency from file. This file have 30,000 cases and 1.68MB size.</p>\n<p>I try to using HashMap to do this, in my main algorithm code, the replace method run about 900 milion times and took me about 30 seconds. Any way I can do it faster?</p>\n<p>There are simplify code of my main algorithm code below, it took me about 10 second.</p>\n<pre><code>Map&lt;String, Integer&gt; classesCount = new HashMap&lt;&gt;();\nint target = 900000000;\n\nclassesCount.put(&quot;a&quot;, 0);\nclassesCount.put(&quot;b&quot;, 0);\n\nfor(int i = 0; i &lt; target; i++) {\n    if (i % 2 == 0) {\n        classesCount.replace(&quot;a&quot;, classesCount.get(&quot;a&quot;) + 1);\n    }\n    else {\n        classesCount.replace(&quot;b&quot;, classesCount.get(&quot;b&quot;) + 1);\n    }\n}\n</code></pre>\n<p>To make it more clear my actual code, I have a class Value, and I have an array of Value class in main method, this is Values class as below.</p>\n<pre><code>public class Value&lt;T extends Comparable&lt;T&gt;&gt; implements Comparable&lt;Value&lt;T&gt;&gt; {\npublic T value;\npublic String result;\n\npublic Value(T value, String result) {\n    this.value = value;\n    this.result = result;\n}\n\npublic int compareTo(Value&lt;T&gt; v) {\n    return value.compareTo(v.value);\n}\n</code></pre>\n<p>}</p>\n<p>this is main method code as below. assume arrayOfValue already have many element and every Value's result just have &quot;a&quot; and &quot;b&quot;:</p>\n<pre><code>Map&lt;String, Integer&gt; classesCountA = new HashMap&lt;&gt;();\nMap&lt;String, Integer&gt; classesCountB = new HashMap&lt;&gt;();\nValue[] arrayOfValue = new Value[];\nint splitIndex = 55;\n\nclassesCountA.put(&quot;a&quot;, 0);\nclassesCountA.put(&quot;b&quot;, 0);\nclassesCountB.put(&quot;a&quot;, 0);\nclassesCountB.put(&quot;b&quot;, 0);\n\nfor(int i = 0; i &lt; arrayOfValue.length; i++) {\n    if(i &lt; splitIndex) {\n        classesCountA.replace(arrayOfValue[i].result, classesCount.get(arrayOfValue[i].result) + 1);\n    }\n    else {\n        classesCountB.replace(arrayOfValue[i].result, classesCount.get(arrayOfValue[i].result) + 1);\n    }\n}\n</code></pre>\n"},{"tags":["java","jpa"],"comments":[{"owner":{"account_id":5254099,"reputation":1061,"user_id":4197431,"display_name":"Ralf Renz"},"score":0,"creation_date":1651656507,"post_id":72110610,"comment_id":127413023,"body_markdown":"Maybe this one helps you: https://stackoverflow.com/questions/4296910/is-it-possible-to-read-the-value-of-a-annotation-in-java","body":"Maybe this one helps you: <a href=\"https://stackoverflow.com/questions/4296910/is-it-possible-to-read-the-value-of-a-annotation-in-java\" title=\"is it possible to read the value of a annotation in java\">stackoverflow.com/questions/4296910/&hellip;</a>"},{"owner":{"account_id":1124793,"reputation":2897,"user_id":1112325,"accept_rate":81,"display_name":"briba"},"score":0,"creation_date":1651658932,"post_id":72110610,"comment_id":127413847,"body_markdown":"thanks @RalfRenz! I can read field name from field.getName() using getDeclaredFields but I&#39;m wondering if there&#39;s a way to access inside the converter. I only know the value inside the converter but I am not sure from which variable it belongs :)","body":"thanks @RalfRenz! I can read field name from field.getName() using getDeclaredFields but I&#39;m wondering if there&#39;s a way to access inside the converter. I only know the value inside the converter but I am not sure from which variable it belongs :)"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1651665777,"post_id":72110610,"comment_id":127416053,"body_markdown":"There is a much easier solution to this:  Move the `@Column` and `@Size` annotations to the get-method of each property.  For example, `@Size(max = LIMIT) public String getXyz() { return xyz; }`.  Then the corresponding set-method can take care of truncation.","body":"There is a much easier solution to this:  Move the <code>@Column</code> and <code>@Size</code> annotations to the get-method of each property.  For example, <code>@Size(max = LIMIT) public String getXyz() { return xyz; }</code>.  Then the corresponding set-method can take care of truncation."},{"owner":{"account_id":1124793,"reputation":2897,"user_id":1112325,"accept_rate":81,"display_name":"briba"},"score":0,"creation_date":1651666744,"post_id":72110610,"comment_id":127416443,"body_markdown":"That&#39;s also a possibility! Or maybe I will just write one method to go over the entire entity object after it gets filled out/ Thanks @VGR!","body":"That&#39;s also a possibility! Or maybe I will just write one method to go over the entire entity object after it gets filled out/ Thanks @VGR!"}],"owner":{"account_id":1124793,"reputation":2897,"user_id":1112325,"accept_rate":81,"display_name":"briba"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651656080,"creation_date":1651656080,"question_id":72110610,"body_markdown":"I have an entity where I set the `max` for every String field like the following:\r\n\r\n    @Column(name = &quot;abc&quot;)\r\n    @Size(max = 10)\r\n    private String abc;\r\n\r\n    @Column(name = &quot;xyz&quot;)\r\n    @Size(max = 50)\r\n    private String xyz;\r\n\r\nI want to write a Converter to truncate that field if exceeds max size. Something like this:\r\n\r\n    import javax.persistence.AttributeConverter;\r\n    import javax.persistence.Convert;\r\n    \r\n    @Convert\r\n    public class TruncatedStringConverter implements AttributeConverter&lt;String, String&gt; {\r\n      private static final int LIMIT = 999;\r\n    \r\n      @Override\r\n      public String convertToDatabaseColumn(String attribute) {\r\n        if (attribute == null) {\r\n          return null;\r\n        } else if (attribute.length() &gt; LIMIT) {\r\n          return attribute.substring(0, LIMIT);\r\n        } else {\r\n          return attribute;\r\n        }\r\n      }\r\n    \r\n      @Override\r\n      public String convertToEntityAttribute(String dbData) {\r\n        return dbData;\r\n      }\r\n    }\r\n\r\nBut the thing is that I can&#39;t use `LIMIT` since I need to look to the Size annotation. Is there any way to access the field name from the converter?\r\n\r\nThis way I could use reflection to read the max size.\r\n\r\nThank you!","title":"Using Converters to truncate fields based on Size annotation","body":"<p>I have an entity where I set the <code>max</code> for every String field like the following:</p>\n<pre><code>@Column(name = &quot;abc&quot;)\n@Size(max = 10)\nprivate String abc;\n\n@Column(name = &quot;xyz&quot;)\n@Size(max = 50)\nprivate String xyz;\n</code></pre>\n<p>I want to write a Converter to truncate that field if exceeds max size. Something like this:</p>\n<pre><code>import javax.persistence.AttributeConverter;\nimport javax.persistence.Convert;\n\n@Convert\npublic class TruncatedStringConverter implements AttributeConverter&lt;String, String&gt; {\n  private static final int LIMIT = 999;\n\n  @Override\n  public String convertToDatabaseColumn(String attribute) {\n    if (attribute == null) {\n      return null;\n    } else if (attribute.length() &gt; LIMIT) {\n      return attribute.substring(0, LIMIT);\n    } else {\n      return attribute;\n    }\n  }\n\n  @Override\n  public String convertToEntityAttribute(String dbData) {\n    return dbData;\n  }\n}\n</code></pre>\n<p>But the thing is that I can't use <code>LIMIT</code> since I need to look to the Size annotation. Is there any way to access the field name from the converter?</p>\n<p>This way I could use reflection to read the max size.</p>\n<p>Thank you!</p>\n"},{"tags":["java","linked-list","singly-linked-list"],"comments":[{"owner":{"account_id":17260375,"reputation":460,"user_id":12642499,"display_name":"Esther"},"score":2,"creation_date":1651600306,"post_id":72103429,"comment_id":127400363,"body_markdown":"please paste code as text, not images. see http://idownvotedbecau.se/imageofcode","body":"please paste code as text, not images. see <a href=\"http://idownvotedbecau.se/imageofcode\" rel=\"nofollow noreferrer\">idownvotedbecau.se/imageofcode</a>"},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1651600500,"post_id":72103429,"comment_id":127400434,"body_markdown":"If `fast == null` is true then access `fast.next` will throw NPE. So checking `fast.next` _before_  `fast == null` is a problem. See: [Short-circuit evaluation](https://en.wikipedia.org/wiki/Short-circuit_evaluation)","body":"If <code>fast == null</code> is true then access <code>fast.next</code> will throw NPE. So checking <code>fast.next</code> <i>before</i>  <code>fast == null</code> is a problem. See: <a href=\"https://en.wikipedia.org/wiki/Short-circuit_evaluation\" rel=\"nofollow noreferrer\">Short-circuit evaluation</a>"},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":1,"creation_date":1651600823,"post_id":72103429,"comment_id":127400532,"body_markdown":"But please [edit] and add the code AS TEXT. [Why should I not upload images of code/data/errors when asking a question?](https://meta.stackoverflow.com/q/285551)","body":"But please <a href=\"https://stackoverflow.com/posts/72103429/edit\">edit</a> and add the code AS TEXT. <a href=\"https://meta.stackoverflow.com/q/285551\">Why should I not upload images of code/data/errors when asking a question?</a>"},{"owner":{"account_id":17260375,"reputation":460,"user_id":12642499,"display_name":"Esther"},"score":0,"creation_date":1651601695,"post_id":72103429,"comment_id":127400825,"body_markdown":"also see this https://stackoverflow.com/questions/42523442/does-order-of-conditions-matter-with-multiple-conditions-in-a-while-loop even though I already posted a better (imo) answer.","body":"also see this <a href=\"https://stackoverflow.com/questions/42523442/does-order-of-conditions-matter-with-multiple-conditions-in-a-while-loop\" title=\"does order of conditions matter with multiple conditions in a while loop\">stackoverflow.com/questions/42523442/&hellip;</a> even though I already posted a better (imo) answer."}],"answers":[{"tags":[],"owner":{"account_id":17260375,"reputation":460,"user_id":12642499,"display_name":"Esther"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651601131,"creation_date":1651601131,"answer_id":72103635,"question_id":72103429,"body_markdown":"Java `if`-statements use something called [short-circuit evaluation](https://stackoverflow.com/questions/8759868/java-logical-operator-short-circuiting), where if there is an `&amp;&amp;` where the first condition is `false`, or an `||` where the first condition is `true`, then it *will not evaluate the rest of the condition*, because it already knows what the result will be. If there is an `&amp;&amp;` and the first statement is `false`, then it doesn&#39;t matter what the rest of the statements evaluate to, since the whole thing is false, and vice-versa if there is an `||` and the first statement is true.\r\n\r\nA second issue is that if an object is `null`, then calling any method or accessing any property of the function will throw a [NullPointerException](https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it). This can be avoided by checking if an object is `null` before using it in cases where you know it might be `null`. In your linked list, evidently you are concerned that a node might be `null`, so you check before accessing its `next`.\r\n\r\nThese two combine together in your example. If you do \r\n```\r\nif (item != null &amp;&amp; item.property != null) {}\r\n```\r\nand `item` *is actually null*, then because of short-circuit evaluation, Java will never actually check `item.property` to see if it&#39;s `null` as well, because it already knows the combined statement will be false. \r\n\r\nConversely, if you do \r\n```\r\nif (item.property != null &amp;&amp; item != null) {}\r\n```\r\nthen Java will try to access `item.property`, which will throw a `NullPointerException` if `item` is `null`. \r\n\r\nIn your case, evidently many of your test cases had situations where `fast` was null at some point. The example where they passed would have avoided calling `fast.next` when `fast` is null because of short-circuit evaluation, whereas the second example never avoids the `NullPointerException`s at all.","title":"Why does changing the order of conditions in a while loop affect the number of passing test cases?","body":"<p>Java <code>if</code>-statements use something called <a href=\"https://stackoverflow.com/questions/8759868/java-logical-operator-short-circuiting\">short-circuit evaluation</a>, where if there is an <code>&amp;&amp;</code> where the first condition is <code>false</code>, or an <code>||</code> where the first condition is <code>true</code>, then it <em>will not evaluate the rest of the condition</em>, because it already knows what the result will be. If there is an <code>&amp;&amp;</code> and the first statement is <code>false</code>, then it doesn't matter what the rest of the statements evaluate to, since the whole thing is false, and vice-versa if there is an <code>||</code> and the first statement is true.</p>\n<p>A second issue is that if an object is <code>null</code>, then calling any method or accessing any property of the function will throw a <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">NullPointerException</a>. This can be avoided by checking if an object is <code>null</code> before using it in cases where you know it might be <code>null</code>. In your linked list, evidently you are concerned that a node might be <code>null</code>, so you check before accessing its <code>next</code>.</p>\n<p>These two combine together in your example. If you do</p>\n<pre><code>if (item != null &amp;&amp; item.property != null) {}\n</code></pre>\n<p>and <code>item</code> <em>is actually null</em>, then because of short-circuit evaluation, Java will never actually check <code>item.property</code> to see if it's <code>null</code> as well, because it already knows the combined statement will be false.</p>\n<p>Conversely, if you do</p>\n<pre><code>if (item.property != null &amp;&amp; item != null) {}\n</code></pre>\n<p>then Java will try to access <code>item.property</code>, which will throw a <code>NullPointerException</code> if <code>item</code> is <code>null</code>.</p>\n<p>In your case, evidently many of your test cases had situations where <code>fast</code> was null at some point. The example where they passed would have avoided calling <code>fast.next</code> when <code>fast</code> is null because of short-circuit evaluation, whereas the second example never avoids the <code>NullPointerException</code>s at all.</p>\n"}],"owner":{"account_id":19595590,"reputation":1,"user_id":14341703,"display_name":"Dev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1651655815,"creation_date":1651599987,"question_id":72103429,"body_markdown":"I wrote this code, which passes all the test cases\r\n\r\n```java\r\n//passes 1100/1100 cases\r\nwhile (slow != null &amp;&amp; slow.next != null &amp;&amp; fast != null &amp;&amp; fast.next != null) {\r\n    fast = fast.next.next;\r\n    slow = slow.next\r\n}\r\n```\r\n\r\nOn the other hand, this code does not, but seems to be very similar.\r\n\r\n```java\r\n//passes 1/1100 cases\r\nwhile (slow != null &amp;&amp; slow.next != null &amp;&amp; fast.next != null &amp;&amp; fast != null) {\r\n    fast = fast.next.next;\r\n    slow = slow.next\r\n}\r\n```\r\nI just noticed that just by changing the order of condition statements in while(), the number of test cases that pass changes. Why is it so?","title":"Why does changing the order of conditions in a while loop affect the number of passing test cases?","body":"<p>I wrote this code, which passes all the test cases</p>\n<pre class=\"lang-java prettyprint-override\"><code>//passes 1100/1100 cases\nwhile (slow != null &amp;&amp; slow.next != null &amp;&amp; fast != null &amp;&amp; fast.next != null) {\n    fast = fast.next.next;\n    slow = slow.next\n}\n</code></pre>\n<p>On the other hand, this code does not, but seems to be very similar.</p>\n<pre class=\"lang-java prettyprint-override\"><code>//passes 1/1100 cases\nwhile (slow != null &amp;&amp; slow.next != null &amp;&amp; fast.next != null &amp;&amp; fast != null) {\n    fast = fast.next.next;\n    slow = slow.next\n}\n</code></pre>\n<p>I just noticed that just by changing the order of condition statements in while(), the number of test cases that pass changes. Why is it so?</p>\n"},{"tags":["java","xmlgregoriancalendar"],"answers":[{"tags":[],"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1651654726,"creation_date":1651654726,"answer_id":72110323,"question_id":72110272,"body_markdown":"You are not supposed to use class `XMLGregorianCalendarImpl` in your own code, it&#39;s an internal class in the JDK and therefore it cannot be used directly.\r\n\r\nCreate an instance of `XMLGregorianCalendar` using `DatatypeFactory` instead:\r\n\r\n    import javax.xml.datatype.DatatypeFactory;\r\n\r\n    // ...\r\n\r\n    XMLGregorianCalendar result = DatatypeFactory.newInstance().newXMLGregorianCalendar();\r\n\r\nSee [`java.xml.datatype.DatatypeFactory`](https://docs.oracle.com/en/java/javase/17/docs/api/java.xml/javax/xml/datatype/DatatypeFactory.html)","title":"Cannot access class com.sun.org.apache.xerces.internal.jaxp.datatype.XMLGregorianCalendarImpl","body":"<p>You are not supposed to use class <code>XMLGregorianCalendarImpl</code> in your own code, it's an internal class in the JDK and therefore it cannot be used directly.</p>\n<p>Create an instance of <code>XMLGregorianCalendar</code> using <code>DatatypeFactory</code> instead:</p>\n<pre><code>import javax.xml.datatype.DatatypeFactory;\n\n// ...\n\nXMLGregorianCalendar result = DatatypeFactory.newInstance().newXMLGregorianCalendar();\n</code></pre>\n<p>See <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.xml/javax/xml/datatype/DatatypeFactory.html\" rel=\"noreferrer\"><code>java.xml.datatype.DatatypeFactory</code></a></p>\n"}],"owner":{"account_id":23236798,"reputation":11,"user_id":17326716,"display_name":"Lucia Foschini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11309,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651655750,"creation_date":1651654481,"question_id":72110272,"body_markdown":"My program needs to convert an xml file to another xml file compatible with sending invoices through our company program.\r\n\r\nThe compilation of the code happens without problems, while when I start the .bat file I get this error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalAccessError: \r\n    class controller.ConversionWorker (in unnamed module @0x71c8becc) \r\n    cannot access class com.sun.org.apache.xerces.internal.jaxp.datatype.XMLGregorianCalendarImpl (in module java.xml) \r\n    because module java.xml does not export com.sun.org.apache.xerces.internal.jaxp.datatype to unnamed module @0x71c8becc\r\n\r\nThis is the code where the exception is generated:\r\n\r\n     private XMLGregorianCalendar stringToXMLGregorian(String data, String pattern) {\r\n        Calendar date = Calendar.getInstance();\r\n        SimpleDateFormat format = new SimpleDateFormat(pattern);\r\n        try {\r\n            date.setTime(format.parse(data));\r\n        } catch (ParseException e) {\r\n            e.printStackTrace();\r\n            Log.debug(&quot;ERRORE DI CONVERSIONE DATA: &quot; + data);\r\n        }\r\n\r\n        XMLGregorianCalendar result = new XMLGregorianCalendarImpl();\r\n        result.setYear(date.get(Calendar.YEAR));\r\n        result.setMonth(date.get(Calendar.MONTH) + 1);\r\n        result.setDay(date.get(Calendar.DAY_OF_MONTH));\r\n\r\n        if (!pattern.equals(DATE_PATTERN)) {\r\n            result.setHour(date.get(Calendar.HOUR_OF_DAY));\r\n            result.setMinute(date.get(Calendar.MINUTE));\r\n        }\r\n\r\n        return result;\r\n\r\n    }\r\n\r\nThis code was written by a former colleague of mine and only he worked on it. Honestly I am not so much informed in java and how it is connected to gradle but unfortunately this code needs to be revised due to an error that occurs\r\n\r\nIn gradle-wrapper.properties i&#39;ve add the:\r\n\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-6.3-bin.zip\r\n\r\nI have installed the latest version of **Java**, **Gradle** and i build the code in **Intellij**\r\n\r\nHow can i solve this?","title":"Cannot access class com.sun.org.apache.xerces.internal.jaxp.datatype.XMLGregorianCalendarImpl","body":"<p>My program needs to convert an xml file to another xml file compatible with sending invoices through our company program.</p>\n<p>The compilation of the code happens without problems, while when I start the .bat file I get this error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalAccessError: \nclass controller.ConversionWorker (in unnamed module @0x71c8becc) \ncannot access class com.sun.org.apache.xerces.internal.jaxp.datatype.XMLGregorianCalendarImpl (in module java.xml) \nbecause module java.xml does not export com.sun.org.apache.xerces.internal.jaxp.datatype to unnamed module @0x71c8becc\n</code></pre>\n<p>This is the code where the exception is generated:</p>\n<pre><code> private XMLGregorianCalendar stringToXMLGregorian(String data, String pattern) {\n    Calendar date = Calendar.getInstance();\n    SimpleDateFormat format = new SimpleDateFormat(pattern);\n    try {\n        date.setTime(format.parse(data));\n    } catch (ParseException e) {\n        e.printStackTrace();\n        Log.debug(&quot;ERRORE DI CONVERSIONE DATA: &quot; + data);\n    }\n\n    XMLGregorianCalendar result = new XMLGregorianCalendarImpl();\n    result.setYear(date.get(Calendar.YEAR));\n    result.setMonth(date.get(Calendar.MONTH) + 1);\n    result.setDay(date.get(Calendar.DAY_OF_MONTH));\n\n    if (!pattern.equals(DATE_PATTERN)) {\n        result.setHour(date.get(Calendar.HOUR_OF_DAY));\n        result.setMinute(date.get(Calendar.MINUTE));\n    }\n\n    return result;\n\n}\n</code></pre>\n<p>This code was written by a former colleague of mine and only he worked on it. Honestly I am not so much informed in java and how it is connected to gradle but unfortunately this code needs to be revised due to an error that occurs</p>\n<p>In gradle-wrapper.properties i've add the:</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-6.3-bin.zip\n</code></pre>\n<p>I have installed the latest version of <strong>Java</strong>, <strong>Gradle</strong> and i build the code in <strong>Intellij</strong></p>\n<p>How can i solve this?</p>\n"},{"tags":["java","spring","nfs","fuse","glusterfs"],"answers":[{"tags":[],"owner":{"account_id":2641735,"reputation":690,"user_id":2285228,"display_name":"IKA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651655599,"creation_date":1651655599,"answer_id":72110508,"question_id":71502418,"body_markdown":"Glusterfs clients can be setup [relatively easy][1] on OS level, and mounted volumes look and function like any other volume. \r\n\r\nYour code will then do read/write/delete/transfer file operations on mounted volume.\r\n\r\n\r\n  [1]: https://docs.gluster.org/en/main/Administrator-Guide/Setting-Up-Clients/","title":"Access GlusterFS file system in spring boot application","body":"<p>Glusterfs clients can be setup <a href=\"https://docs.gluster.org/en/main/Administrator-Guide/Setting-Up-Clients/\" rel=\"nofollow noreferrer\">relatively easy</a> on OS level, and mounted volumes look and function like any other volume.</p>\n<p>Your code will then do read/write/delete/transfer file operations on mounted volume.</p>\n"}],"owner":{"account_id":5830905,"reputation":23,"user_id":4595437,"display_name":"punkya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":360,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651655599,"creation_date":1647454690,"question_id":71502418,"body_markdown":"I am new to GlusterFS. After watching this video https://youtu.be/IGEtVYh0C2o , I have a big picture of how the GlusterFS servers are working. I understand a client machine can access a volume. \r\n\r\nCurrently, I am developing a spring boot application in Java, and I would like to access the glusterfs volume to perform some read/write/delete/transfer file operations.\r\n\r\n**My question is how to access GlusterFS in a Java/Spring boot application?**\r\n \r\n**Is there any other library(except for the following one) or approach to acting as the client of GlusterFS in a java/spring boot application?**\r\n\r\nI found a library here: https://github.com/gluster/glusterfs-java-filesystem .\r\nHowever, it has not been updated for 6 years. I wonder if it still supports the latest version of GlusterFS, the latest release is v10.1 (https://docs.gluster.org/en/latest/release-notes/#glusterfs-selinux-release-notes)\r\n\r\nThank you so much!\r\n\r\n","title":"Access GlusterFS file system in spring boot application","body":"<p>I am new to GlusterFS. After watching this video <a href=\"https://youtu.be/IGEtVYh0C2o\" rel=\"nofollow noreferrer\">https://youtu.be/IGEtVYh0C2o</a> , I have a big picture of how the GlusterFS servers are working. I understand a client machine can access a volume.</p>\n<p>Currently, I am developing a spring boot application in Java, and I would like to access the glusterfs volume to perform some read/write/delete/transfer file operations.</p>\n<p><strong>My question is how to access GlusterFS in a Java/Spring boot application?</strong></p>\n<p><strong>Is there any other library(except for the following one) or approach to acting as the client of GlusterFS in a java/spring boot application?</strong></p>\n<p>I found a library here: <a href=\"https://github.com/gluster/glusterfs-java-filesystem\" rel=\"nofollow noreferrer\">https://github.com/gluster/glusterfs-java-filesystem</a> .\nHowever, it has not been updated for 6 years. I wonder if it still supports the latest version of GlusterFS, the latest release is v10.1 (<a href=\"https://docs.gluster.org/en/latest/release-notes/#glusterfs-selinux-release-notes\" rel=\"nofollow noreferrer\">https://docs.gluster.org/en/latest/release-notes/#glusterfs-selinux-release-notes</a>)</p>\n<p>Thank you so much!</p>\n"},{"tags":["java","spring","spring-boot","spring-batch","spring-batch-tasklet"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651655527,"creation_date":1651655527,"answer_id":72110492,"question_id":72097902,"body_markdown":"I&#39;m not sure I fully understand your use case, but I would not mix the scheduling logic (every 5-10 mins) with the business logic of the task. You can define a task that does a single call, and then schedule it to run every 5-10 mins with your favourite scheduling library (a method annotated with [@Scheduled](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/Scheduled.html) for instance.","title":"How correctly run task in RepeatStatus.CONTINUABLE while some condition?","body":"<p>I'm not sure I fully understand your use case, but I would not mix the scheduling logic (every 5-10 mins) with the business logic of the task. You can define a task that does a single call, and then schedule it to run every 5-10 mins with your favourite scheduling library (a method annotated with <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/Scheduled.html\" rel=\"nofollow noreferrer\">@Scheduled</a> for instance.</p>\n"}],"owner":{"account_id":10631702,"reputation":347,"user_id":7829642,"display_name":"Taras Danylchenko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651655527,"creation_date":1651572747,"question_id":72097902,"body_markdown":"I have a simple job that consists of 2 tasklet each of them making an HTTP request to get some status result.\r\n\r\n        @Bean\r\n    public Job receiveStatusesJob(\r\n            @Qualifier(RECEIVE_STATUSES_PARTITIONER_BEAN) Partitioner partitioner,\r\n            SecondStatusReceivingTasklet secondStatusReceivingTasklet) {\r\n        var messagingTemplate = new MessagingTemplate();\r\n        messagingTemplate.setDefaultChannel(receiveStatusesPartitionRequestChannel());\r\n\r\n        return jobBuilderFactory.get(RECEIVE_STATUSES_JOB)\r\n                .start(managerStepBuilderFactory.get(RECEIVE_STATUS_MANAGER_STEP)\r\n                        .partitioner(RECEIVE_STATUS_WORKER_STEP, partitioner)\r\n                        .gridSize(100)\r\n                        .messagingTemplate(messagingTemplate)\r\n                        .allowStartIfComplete(true)\r\n                        .build())\r\n                .next(stepBuilderFactory.get(SECOND_RECEIVE_STATUS_STEP)\r\n                        .tasklet(secondStatusReceivingTasklet)\r\n                        .allowStartIfComplete(true)\r\n                        .build())\r\n                .incrementer(new RunIdIncrementer())\r\n                .build();\r\n    }\r\nFirst tasklet looks like \r\n\r\n    @Slf4j\r\n    @Component\r\n    @StepScope\r\n    public class StatusReceivingTasklet extends Tasklet {\r\n    //constructors and services\r\n\r\n    @Override\r\n    public RepeatStatus execute(StepContribution stepContribution, ChunkContext chunkContext) {\r\n        Object urlsToCheck = stepContribution.getStepExecution().getExecutionContext().get(URLS_TO_CHECK_PARAM);\r\n        if (urlsToCheck instanceof List) {\r\n            return receiveProviderPaymentCbsStatuses((List&lt;String&gt;) urlsToCheck );\r\n        }\r\n    }\r\n\r\n    private RepeatStatus receiveStatuses(List&lt;String&gt; urlsToCheck ) {\r\n        var repeatStatus = RepeatStatus.FINISHED;\r\n        for (String url: urlsToCheck ) {\r\n                repeatStatus = sendStatusRequestAndHandleResponse(repeatStatus, url);\r\n            } \r\n        return repeatStatus;\r\n    }\r\n\r\n    private RepeatStatus sendStatusRequestAndHandleResponse(RepeatStatus repeatStatus,\r\n                                                            String urlToCheck) {\r\n      \r\n        StatusResponse statusResponse =\r\n                sendingService.checkStatus(urlToCheck);\r\n        log.debug(&quot;Received CBS response: {}&quot;, cbsStatusResponse);\r\n        if (statusResponse.getHttpStatus().equals(200)) {\r\n            //business logis work\r\n        } else if (!statusResponse.getHttpStatus.equals(200) &amp;&amp; !status.getHttpStatus.equals(500)) {\r\n            repeatStatus = RepeatStatus.CONTINUABLE;\r\n        } else {\r\n    // business logic\r\n        }\r\n        return repeatStatus;\r\n    }\r\n}\r\n\r\nSo if I have a response status different than 200 and 500 Task is on state **CONTINUALBE** if I have 200 or different status than 500 task state is **FINISHED**. When I have tas state **CONTINUABLE** how correctly continue receiving statuses periodically (every 5-10 mins) while task is not in state **FINISHED** ? ","title":"How correctly run task in RepeatStatus.CONTINUABLE while some condition?","body":"<p>I have a simple job that consists of 2 tasklet each of them making an HTTP request to get some status result.</p>\n<pre><code>    @Bean\npublic Job receiveStatusesJob(\n        @Qualifier(RECEIVE_STATUSES_PARTITIONER_BEAN) Partitioner partitioner,\n        SecondStatusReceivingTasklet secondStatusReceivingTasklet) {\n    var messagingTemplate = new MessagingTemplate();\n    messagingTemplate.setDefaultChannel(receiveStatusesPartitionRequestChannel());\n\n    return jobBuilderFactory.get(RECEIVE_STATUSES_JOB)\n            .start(managerStepBuilderFactory.get(RECEIVE_STATUS_MANAGER_STEP)\n                    .partitioner(RECEIVE_STATUS_WORKER_STEP, partitioner)\n                    .gridSize(100)\n                    .messagingTemplate(messagingTemplate)\n                    .allowStartIfComplete(true)\n                    .build())\n            .next(stepBuilderFactory.get(SECOND_RECEIVE_STATUS_STEP)\n                    .tasklet(secondStatusReceivingTasklet)\n                    .allowStartIfComplete(true)\n                    .build())\n            .incrementer(new RunIdIncrementer())\n            .build();\n}\n</code></pre>\n<p>First tasklet looks like</p>\n<pre><code>@Slf4j\n@Component\n@StepScope\npublic class StatusReceivingTasklet extends Tasklet {\n//constructors and services\n\n@Override\npublic RepeatStatus execute(StepContribution stepContribution, ChunkContext chunkContext) {\n    Object urlsToCheck = stepContribution.getStepExecution().getExecutionContext().get(URLS_TO_CHECK_PARAM);\n    if (urlsToCheck instanceof List) {\n        return receiveProviderPaymentCbsStatuses((List&lt;String&gt;) urlsToCheck );\n    }\n}\n\nprivate RepeatStatus receiveStatuses(List&lt;String&gt; urlsToCheck ) {\n    var repeatStatus = RepeatStatus.FINISHED;\n    for (String url: urlsToCheck ) {\n            repeatStatus = sendStatusRequestAndHandleResponse(repeatStatus, url);\n        } \n    return repeatStatus;\n}\n\nprivate RepeatStatus sendStatusRequestAndHandleResponse(RepeatStatus repeatStatus,\n                                                        String urlToCheck) {\n  \n    StatusResponse statusResponse =\n            sendingService.checkStatus(urlToCheck);\n    log.debug(&quot;Received CBS response: {}&quot;, cbsStatusResponse);\n    if (statusResponse.getHttpStatus().equals(200)) {\n        //business logis work\n    } else if (!statusResponse.getHttpStatus.equals(200) &amp;&amp; !status.getHttpStatus.equals(500)) {\n        repeatStatus = RepeatStatus.CONTINUABLE;\n    } else {\n// business logic\n    }\n    return repeatStatus;\n}\n</code></pre>\n<p>}</p>\n<p>So if I have a response status different than 200 and 500 Task is on state <strong>CONTINUALBE</strong> if I have 200 or different status than 500 task state is <strong>FINISHED</strong>. When I have tas state <strong>CONTINUABLE</strong> how correctly continue receiving statuses periodically (every 5-10 mins) while task is not in state <strong>FINISHED</strong> ?</p>\n"},{"tags":["java","recursion","tail-recursion"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":1,"creation_date":1616483654,"post_id":66758691,"comment_id":118009019,"body_markdown":"This will call itself N times (n-1 in fact as first call will be from the outside - but all interations will be of N times). What seems to be the problem?","body":"This will call itself N times (n-1 in fact as first call will be from the outside - but all interations will be of N times). What seems to be the problem?"},{"owner":{"account_id":220160,"reputation":99410,"user_id":477420,"display_name":"Alexei Levenkov"},"score":1,"creation_date":1616483767,"post_id":66758691,"comment_id":118009061,"body_markdown":"x * (1+y) ^ n... Why one would do that is very unclear... As well it is unclear what is unclear for you in this code...","body":"x * (1+y) ^ n... Why one would do that is very unclear... As well it is unclear what is unclear for you in this code..."},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":1,"creation_date":1616485557,"post_id":66758691,"comment_id":118009667,"body_markdown":"Do you understand how *any* recursive method works?","body":"Do you understand how <i>any</i> recursive method works?"},{"owner":{"account_id":12442887,"reputation":93,"user_id":9060189,"display_name":"h4ckerlinguist"},"score":0,"creation_date":1616485658,"post_id":66758691,"comment_id":118009701,"body_markdown":"Yes, I have realised my mistake now in understanding this. Despite the very obvious name of the method I wasn&#39;t looking at it recursively which in hindsight was a really dumbass move but it is quite early here so maybe that&#39;s the reason.","body":"Yes, I have realised my mistake now in understanding this. Despite the very obvious name of the method I wasn&#39;t looking at it recursively which in hindsight was a really dumbass move but it is quite early here so maybe that&#39;s the reason."},{"owner":{"account_id":236561,"reputation":5234,"user_id":504133,"accept_rate":76,"display_name":"nits.kk"},"score":1,"creation_date":1616485907,"post_id":66758691,"comment_id":118009798,"body_markdown":"To understand recursion a simple trick is : Suppose each time the function `recursive` is invoked a NEW copy of the function is created i.e. `recursive` function calling `recursive1` , `recursive1` calling `recursive2` and so on. There will be a point where the base condition will become true and `n == 0` will become true, suppose it is the `recursiveK` function so it will return x to `recursiveK-1` and this returned value will replace the function call, do the multiplication with `(1+y)` and return to `recursiveK-2` and so on till we reach `recursive` which will return to the main caller.","body":"To understand recursion a simple trick is : Suppose each time the function <code>recursive</code> is invoked a NEW copy of the function is created i.e. <code>recursive</code> function calling <code>recursive1</code> , <code>recursive1</code> calling <code>recursive2</code> and so on. There will be a point where the base condition will become true and <code>n == 0</code> will become true, suppose it is the <code>recursiveK</code> function so it will return x to <code>recursiveK-1</code> and this returned value will replace the function call, do the multiplication with <code>(1+y)</code> and return to <code>recursiveK-2</code> and so on till we reach <code>recursive</code> which will return to the main caller."}],"answers":[{"tags":[],"owner":{"account_id":19621723,"reputation":86,"user_id":14362052,"display_name":"mushycow"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1616484238,"creation_date":1616484238,"answer_id":66758835,"question_id":66758691,"body_markdown":"The method multiplies `x` by `1 + y` an `n` number of times. In other words, the method will return `x*(1+y)^n` in the end. This is given that the original `n &gt; 0`. If `n` is originally less than 0, the method will recurse infinitely. \r\n\r\nExplanation: When the method &quot;enters&quot; recursion and calls itself, it will do so `n` number of times since we decrease `n` by 1 until `n` equals 0. When `n` finally reaches 0, the innermost call of recursion will return `x`. Each consecutive call will multiply the output of the previous call by `1+y`.","title":"Understanding how this recursive method works","body":"<p>The method multiplies <code>x</code> by <code>1 + y</code> an <code>n</code> number of times. In other words, the method will return <code>x*(1+y)^n</code> in the end. This is given that the original <code>n &gt; 0</code>. If <code>n</code> is originally less than 0, the method will recurse infinitely.</p>\n<p>Explanation: When the method &quot;enters&quot; recursion and calls itself, it will do so <code>n</code> number of times since we decrease <code>n</code> by 1 until <code>n</code> equals 0. When <code>n</code> finally reaches 0, the innermost call of recursion will return <code>x</code>. Each consecutive call will multiply the output of the previous call by <code>1+y</code>.</p>\n"},{"tags":[],"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616485412,"creation_date":1616485051,"answer_id":66758994,"question_id":66758691,"body_markdown":"This is not the picture of your algorithm, but it can help you understand recursive calls&#39; concept.\r\n\r\nOn the right side you have order of the calls (from top to down), and on the left side, you have order of returns (from bottom to top).\r\n\r\nMethod calls itself with `n-1` argument.\r\n\r\n![enter image description here](https://i.stack.imgur.com/UMWvd.gif)\r\n\r\n1. Pay attention, that you have a *base case*, which is `n==0`;\r\n\r\n2. Now pay attention, that when a particular method starts execution, at some point, it calls another instance of itself, but with **smaller n**;\r\n\r\n3. This *calling yourself* pattern continues with one less n each time, until you hit your base case;\r\n\r\n4. The moment call stack hits the `n==0` base case, method calls will start unwinding: last will return, which will enable previous-to-last to return, and so on, until your very first invocation returns and method returns.\r\n\r\nThis call behaviour is called Last In First Out (LIFO).\r\n\r\n","title":"Understanding how this recursive method works","body":"<p>This is not the picture of your algorithm, but it can help you understand recursive calls' concept.</p>\n<p>On the right side you have order of the calls (from top to down), and on the left side, you have order of returns (from bottom to top).</p>\n<p>Method calls itself with <code>n-1</code> argument.</p>\n<p><img src=\"https://i.stack.imgur.com/UMWvd.gif\" alt=\"enter image description here\" /></p>\n<ol>\n<li><p>Pay attention, that you have a <em>base case</em>, which is <code>n==0</code>;</p>\n</li>\n<li><p>Now pay attention, that when a particular method starts execution, at some point, it calls another instance of itself, but with <strong>smaller n</strong>;</p>\n</li>\n<li><p>This <em>calling yourself</em> pattern continues with one less n each time, until you hit your base case;</p>\n</li>\n<li><p>The moment call stack hits the <code>n==0</code> base case, method calls will start unwinding: last will return, which will enable previous-to-last to return, and so on, until your very first invocation returns and method returns.</p>\n</li>\n</ol>\n<p>This call behaviour is called Last In First Out (LIFO).</p>\n"},{"tags":[],"owner":{"account_id":18675034,"reputation":107,"user_id":13612900,"display_name":"Sheena"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651655301,"creation_date":1616485373,"answer_id":66759054,"question_id":66758691,"body_markdown":"Since I can&#39;t comment, I try to answer the question this way.\r\n\r\nIf you can&#39;t follow the code debugging, try to do it manually. \r\nLet&#39;s assume we have the following values:  \r\n\r\n| x | y | n |  \r\n| 5 | 2 | 2 |\r\n\r\nNow call the methode with those values and play it through in your mind.\r\nSince n isn&#39;t 0 in the first step it would call the methode again with n-1. This is repeated as often as n is equal 0. With each nested call you need to muliply the result with (y-1). So the way for the values above would be:\r\n\r\n`&gt;Inital call: recursive(5, 2, 2)  -&gt; n != 0\r\n&gt;&gt;Rec call 1-&gt; recursive(5, 2, 1) * (3) -&gt; n != 0\r\n&gt;&gt;&gt;Rec call 2-&gt; recursive(5, 2, 0) * (3) -&gt; n == 0\r\nreturn x -&gt; return 5`  \r\n\r\nNow you need to go backwards so you calculate 5*3 = 15 ( Return Value of rec Call 1). This result you need to calculate again so we have 15* 3 = 45 as the result of the inital methode.\r\n\r\nI hope that you can figure out the real function of the methode. \r\n","title":"Understanding how this recursive method works","body":"<p>Since I can't comment, I try to answer the question this way.</p>\n<p>If you can't follow the code debugging, try to do it manually.\nLet's assume we have the following values:</p>\n<p>| x | y | n |<br />\n| 5 | 2 | 2 |</p>\n<p>Now call the methode with those values and play it through in your mind.\nSince n isn't 0 in the first step it would call the methode again with n-1. This is repeated as often as n is equal 0. With each nested call you need to muliply the result with (y-1). So the way for the values above would be:</p>\n<p>`&gt;Inital call: recursive(5, 2, 2)  -&gt; n != 0</p>\n<blockquote>\n<blockquote>\n<p>Rec call 1-&gt; recursive(5, 2, 1) * (3) -&gt; n != 0</p>\n<blockquote>\n<p>Rec call 2-&gt; recursive(5, 2, 0) * (3) -&gt; n == 0\nreturn x -&gt; return 5`</p>\n</blockquote>\n</blockquote>\n</blockquote>\n<p>Now you need to go backwards so you calculate 5<em>3 = 15 ( Return Value of rec Call 1). This result you need to calculate again so we have 15</em> 3 = 45 as the result of the inital methode.</p>\n<p>I hope that you can figure out the real function of the methode.</p>\n"}],"owner":{"account_id":12442887,"reputation":93,"user_id":9060189,"display_name":"h4ckerlinguist"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1616521992,"accepted_answer_id":66758835,"answer_count":3,"score":1,"last_activity_date":1651655301,"creation_date":1616483523,"question_id":66758691,"body_markdown":"Can someone please explain how this method works?\r\nI tried adding ```System.out.print``` statements but it didn&#39;t get me anywhere and \r\nI simply cannot seem to get my head around it at the moment.\r\n\r\n```\r\npublic static double recursive(double x, double y, int n) {\r\n\r\n    if(n==0) {\r\n        return x;\r\n    }\r\n\r\n    return recursive(x, y, n-1) * (1+y);\r\n}\r\n```\r\n\r\nEDIT: I have realised that I looked at this method from the wrong perspective (not sure how this happened but it did) and in a moment of panic I decided to ask for the wisdom of the masses.\r\n\r\nThe explanations for this are very clear and concise, also in regard to recursion in general, which is why I&#39;d like to keep the post up rather than delete my moment of tomfoolery. ","title":"Understanding how this recursive method works","body":"<p>Can someone please explain how this method works?\nI tried adding <code>System.out.print</code> statements but it didn't get me anywhere and\nI simply cannot seem to get my head around it at the moment.</p>\n<pre><code>public static double recursive(double x, double y, int n) {\n\n    if(n==0) {\n        return x;\n    }\n\n    return recursive(x, y, n-1) * (1+y);\n}\n</code></pre>\n<p>EDIT: I have realised that I looked at this method from the wrong perspective (not sure how this happened but it did) and in a moment of panic I decided to ask for the wisdom of the masses.</p>\n<p>The explanations for this are very clear and concise, also in regard to recursion in general, which is why I'd like to keep the post up rather than delete my moment of tomfoolery.</p>\n"},{"tags":["java","hibernate","timezone"],"answers":[{"tags":[],"owner":{"account_id":16834,"reputation":2940,"user_id":37104,"display_name":"Clay"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1226701638,"creation_date":1226701638,"answer_id":291644,"question_id":291620,"body_markdown":"Hibernate is ignorant of timezones. Any timezone conversion should be done prior to executing the query. \r\n\r\nE.g., if your database server is set to CST, but the user is on EST, you&#39;ll need to add 1 hour to any timestamps which are the input to a query. ","title":"How to assign Date parameters to Hibernate query for current timezone?","body":"<p>Hibernate is ignorant of timezones. Any timezone conversion should be done prior to executing the query. </p>\n\n<p>E.g., if your database server is set to CST, but the user is on EST, you'll need to add 1 hour to any timestamps which are the input to a query. </p>\n"},{"tags":[],"owner":{"account_id":8190,"reputation":13616,"user_id":14619,"accept_rate":90,"display_name":"Brian Deterling"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1226713324,"creation_date":1226713324,"answer_id":291970,"question_id":291620,"body_markdown":"We use a custom Hibernate date type.  Any time we set a parameter on a query we use a base class or utility method so we can pass the user&#39;s timezone into the custom type parameter.  \r\n\r\nYou could get by with just manually adjusting the time in the utility method for queries, but this way dates that are read in or written to the database are also correctly converted.  This method also handles the situation where the database stores the date in its local time zone.  So even if you have a user in one time zone, a database server in another, and Java using GMT, it can get everything straight.  It ends up looking like:\r\n\r\n    Properties properties = new Properties();\r\n    properties.setProperty(&quot;timeZone&quot;, databaseTimeZone);\r\n    query.setParameter(&quot;from&quot;, dateEnteredByUser, Hibernate.custom(LocalizedDateType.class, properties));\r\n\r\nAs an added bonus, we use this to deal with the fact that SQL Server converts 23:59:59.999 to the next day.  In the custom type we check for that and back it off.","title":"How to assign Date parameters to Hibernate query for current timezone?","body":"<p>We use a custom Hibernate date type.  Any time we set a parameter on a query we use a base class or utility method so we can pass the user's timezone into the custom type parameter.  </p>\n\n<p>You could get by with just manually adjusting the time in the utility method for queries, but this way dates that are read in or written to the database are also correctly converted.  This method also handles the situation where the database stores the date in its local time zone.  So even if you have a user in one time zone, a database server in another, and Java using GMT, it can get everything straight.  It ends up looking like:</p>\n\n<pre><code>Properties properties = new Properties();\nproperties.setProperty(\"timeZone\", databaseTimeZone);\nquery.setParameter(\"from\", dateEnteredByUser, Hibernate.custom(LocalizedDateType.class, properties));\n</code></pre>\n\n<p>As an added bonus, we use this to deal with the fact that SQL Server converts 23:59:59.999 to the next day.  In the custom type we check for that and back it off.</p>\n"},{"tags":[],"owner":{"account_id":10611,"reputation":110107,"user_id":20128,"accept_rate":73,"display_name":"serg"},"down_vote_count":0,"up_vote_count":68,"is_accepted":true,"score":68,"last_activity_date":1402050044,"creation_date":1232142310,"answer_id":452154,"question_id":291620,"body_markdown":"As it turned out Hibernate doesn&#39;t convert dates to GMT automatically, it just cuts off time if you use `query.setDate()`, so if you pass &quot;2009-01-16 12:13:14&quot; it becomes &quot;2009-01-16 00:00:00&quot;. \r\n\r\nTo take time into consideration you need to use `query.setTimestamp(&quot;date&quot;, dateObj)` instead.","title":"How to assign Date parameters to Hibernate query for current timezone?","body":"<p>As it turned out Hibernate doesn't convert dates to GMT automatically, it just cuts off time if you use <code>query.setDate()</code>, so if you pass \"2009-01-16 12:13:14\" it becomes \"2009-01-16 00:00:00\". </p>\n\n<p>To take time into consideration you need to use <code>query.setTimestamp(\"date\", dateObj)</code> instead.</p>\n"},{"tags":[],"owner":{"account_id":1046674,"reputation":449,"user_id":1051509,"display_name":"Maksim"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1321524685,"creation_date":1321524685,"answer_id":8165380,"question_id":291620,"body_markdown":"If you need a **timeZone** synchronized value you can use *now()* in your HQL. Also I suggest you to use the Joda library. It has a hibernate-plugin module.","title":"How to assign Date parameters to Hibernate query for current timezone?","body":"<p>If you need a <strong>timeZone</strong> synchronized value you can use <em>now()</em> in your HQL. Also I suggest you to use the Joda library. It has a hibernate-plugin module.</p>\n"},{"tags":[],"owner":{"account_id":379152,"reputation":3080,"user_id":732328,"accept_rate":40,"display_name":"Kayvan Tehrani"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1565094642,"creation_date":1531809392,"answer_id":51374698,"question_id":291620,"body_markdown":"Hibernate team has deprecated ***setTimestamp(String name, Date val)*** method as well as **org.hibernate.Query** interface since version ***5.2***:\r\n\r\n     /* @deprecated (since 5.2) use {@link #setParameter(int, Object)} or\r\n        {@link #setParameter(int, Object, Type)}  instead\r\n\t */\r\n\r\n\r\nSo you can use below code:\r\n\r\n    import org.hibernate.query.Query;\r\n    ...\r\n    Query query = session.createQuery(&quot;from Table where date_field &lt; :now&quot;);\r\n    query.setParameter(&quot;now&quot;, new Date(), TimestampType.INSTANCE );\r\n\r\nIt&#39;s notable that ***setDate*** method which cuts down time portion is also deprecated and can be replaced with this option(from the same interface org.hibernate.query.Query):\r\n\r\n    query.setParameter(&quot;firstMomentOfToday&quot;, new Date(), DateType.INSTANCE);\r\n\r\nIf you are going to use it with java 8 and the relevent jdbc drivers like Oracle &#39;**ojdbc8.jar**&#39; and supported hibernate versions this might not work as expected, so it&#39;s wise to use new java.time.LocalDate and LocalDateTime instead.\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to assign Date parameters to Hibernate query for current timezone?","body":"<p>Hibernate team has deprecated <strong><em>setTimestamp(String name, Date val)</em></strong> method as well as <strong>org.hibernate.Query</strong> interface since version <strong><em>5.2</em></strong>:</p>\n\n<pre><code> /* @deprecated (since 5.2) use {@link #setParameter(int, Object)} or\n    {@link #setParameter(int, Object, Type)}  instead\n */\n</code></pre>\n\n<p>So you can use below code:</p>\n\n<pre><code>import org.hibernate.query.Query;\n...\nQuery query = session.createQuery(\"from Table where date_field &lt; :now\");\nquery.setParameter(\"now\", new Date(), TimestampType.INSTANCE );\n</code></pre>\n\n<p>It's notable that <strong><em>setDate</em></strong> method which cuts down time portion is also deprecated and can be replaced with this option(from the same interface org.hibernate.query.Query):</p>\n\n<pre><code>query.setParameter(\"firstMomentOfToday\", new Date(), DateType.INSTANCE);\n</code></pre>\n\n<p>If you are going to use it with java 8 and the relevent jdbc drivers like Oracle '<strong>ojdbc8.jar</strong>' and supported hibernate versions this might not work as expected, so it's wise to use new java.time.LocalDate and LocalDateTime instead.</p>\n"},{"tags":[],"owner":{"account_id":534856,"reputation":5625,"user_id":904624,"accept_rate":81,"display_name":"Christine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651655249,"creation_date":1651655249,"answer_id":72110444,"question_id":291620,"body_markdown":"In Hibernate 6, using jakarta.persistence, it is \r\n\r\n`query.setParameter(&quot;now&quot;, new Date(), TemporalType.DATE );`\r\n","title":"How to assign Date parameters to Hibernate query for current timezone?","body":"<p>In Hibernate 6, using jakarta.persistence, it is</p>\n<p><code>query.setParameter(&quot;now&quot;, new Date(), TemporalType.DATE );</code></p>\n"}],"owner":{"account_id":10611,"reputation":110107,"user_id":20128,"accept_rate":73,"display_name":"serg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77735,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":452154,"answer_count":6,"score":38,"last_activity_date":1651655249,"creation_date":1226700962,"question_id":291620,"body_markdown":"When you assign a date to a named SQL parameter Hibernate automatically converts it to GMT time. How do you make it use the current server timezone for all dates?\r\n\r\nLets say you have a query:\r\n\r\n    Query q = session.createQuery(&quot;from Table where date_field &lt; :now&quot;);\r\n    q.setDate(&quot;now&quot;, new java.util.Date());\r\n\r\n&quot;now&quot; will be set to GMT time, while &quot;new Date()&quot; gets your current server time.\r\n\r\nThanks.","title":"How to assign Date parameters to Hibernate query for current timezone?","body":"<p>When you assign a date to a named SQL parameter Hibernate automatically converts it to GMT time. How do you make it use the current server timezone for all dates?</p>\n\n<p>Lets say you have a query:</p>\n\n<pre><code>Query q = session.createQuery(\"from Table where date_field &lt; :now\");\nq.setDate(\"now\", new java.util.Date());\n</code></pre>\n\n<p>\"now\" will be set to GMT time, while \"new Date()\" gets your current server time.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8198,"reputation":176773,"user_id":14637,"accept_rate":88,"display_name":"Thomas"},"score":2,"creation_date":1651652738,"post_id":72109873,"comment_id":127411685,"body_markdown":"What input are you giving it?","body":"What input are you giving it?"},{"owner":{"account_id":23282152,"reputation":13,"user_id":17365465,"display_name":"magnet_code007"},"score":0,"creation_date":1651741442,"post_id":72109873,"comment_id":127436710,"body_markdown":"first i give a String, after that an Integer and then another String. When i type in the last String the output is &quot;Input: Input:&quot;","body":"first i give a String, after that an Integer and then another String. When i type in the last String the output is &quot;Input: Input:&quot;"}],"answers":[{"tags":[],"owner":{"account_id":12116097,"reputation":16,"user_id":8850189,"display_name":"wangyu Mrs3"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1651654918,"creation_date":1651654918,"answer_id":72110374,"question_id":72109873,"body_markdown":"````\r\nelse if(myScanner.hasNextLine()){\r\n  myScanner.next();\r\n  scannerSuccess=false;\r\n}\r\n````\r\ntry this code","title":"Why System.out.println &quot;Input&quot; comes out twice?","body":"<pre><code>else if(myScanner.hasNextLine()){\n  myScanner.next();\n  scannerSuccess=false;\n}\n</code></pre>\n<p>try this code</p>\n"}],"owner":{"account_id":23282152,"reputation":13,"user_id":17365465,"display_name":"magnet_code007"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72110374,"answer_count":1,"score":0,"last_activity_date":1651654918,"creation_date":1651652557,"question_id":72109873,"body_markdown":"i&#39;m new to programming and we&#39;ve got an example from school to understand how Scanner works. My problem is that i do not understand why the message &quot;Input&quot; (System.out.println in the while loop) gets printed twice.\r\n\r\n    import java.util.Scanner;\r\n    \r\n    class ScannerInput {\r\n      public static void main(String[] args) {\r\n        Scanner myScanner = new Scanner(System.in);\r\n    \r\n        System.out.println(&quot;Give me a String:&quot;);\r\n        String zeichenkette = myScanner.nextLine();\r\n        \r\n        System.out.println(&quot;Give me an Integer:&quot;);\r\n        int einInteger = myScanner.nextInt();\r\n    \r\n        // Output input by user\r\n        System.out.println(&quot;String: &quot; + zeichenkette);\r\n        System.out.println(&quot;Integer: &quot; + einInteger);\r\n        \r\n        boolean scannerSuccess = false;\r\n        while(!scannerSuccess) {\r\n            System.out.print(&quot;Input: &quot;);\r\n        \tif(myScanner.hasNextInt()) {\r\n        \t\teinInteger=myScanner.nextInt();\r\n        \t\tmyScanner.nextLine();\r\n        \t\tscannerSuccess=true;\r\n        \t} else if(myScanner.hasNextLine()){\r\n        \t\tmyScanner.nextLine();\r\n        \t\tscannerSuccess=false;\r\n        \t}\r\n        }\r\n        \r\n        \r\n        myScanner.close();\r\n      }\r\n    }","title":"Why System.out.println &quot;Input&quot; comes out twice?","body":"<p>i'm new to programming and we've got an example from school to understand how Scanner works. My problem is that i do not understand why the message &quot;Input&quot; (System.out.println in the while loop) gets printed twice.</p>\n<pre><code>import java.util.Scanner;\n\nclass ScannerInput {\n  public static void main(String[] args) {\n    Scanner myScanner = new Scanner(System.in);\n\n    System.out.println(&quot;Give me a String:&quot;);\n    String zeichenkette = myScanner.nextLine();\n    \n    System.out.println(&quot;Give me an Integer:&quot;);\n    int einInteger = myScanner.nextInt();\n\n    // Output input by user\n    System.out.println(&quot;String: &quot; + zeichenkette);\n    System.out.println(&quot;Integer: &quot; + einInteger);\n    \n    boolean scannerSuccess = false;\n    while(!scannerSuccess) {\n        System.out.print(&quot;Input: &quot;);\n        if(myScanner.hasNextInt()) {\n            einInteger=myScanner.nextInt();\n            myScanner.nextLine();\n            scannerSuccess=true;\n        } else if(myScanner.hasNextLine()){\n            myScanner.nextLine();\n            scannerSuccess=false;\n        }\n    }\n    \n    \n    myScanner.close();\n  }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-batch","spring-transactions","spring-batch-tasklet"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651654573,"creation_date":1651654573,"answer_id":72110292,"question_id":72106397,"body_markdown":"You are trying to restart a job from within a tasklet in another job. This tasklet (`RestartJobTasklet`) is already running in a transaction, and calling a method that results in another transaction being created with `JobRepository#createJobExecution` down the line. Hence the error. In other words, you should not use the `JobRepository` in a transactional context.\r\n\r\nI am not sure if it&#39;s a good idea to create a job to restart another job. Restarting a failed job instance is typically a technical task that does not require a job. I would recommend designing jobs to implement business logic, but not for technical tasks.\r\n\r\nThat said, if you extract the restart code in a `main` method, your sample should work as expected.","title":"Spring batch restart job failing with transaction exception","body":"<p>You are trying to restart a job from within a tasklet in another job. This tasklet (<code>RestartJobTasklet</code>) is already running in a transaction, and calling a method that results in another transaction being created with <code>JobRepository#createJobExecution</code> down the line. Hence the error. In other words, you should not use the <code>JobRepository</code> in a transactional context.</p>\n<p>I am not sure if it's a good idea to create a job to restart another job. Restarting a failed job instance is typically a technical task that does not require a job. I would recommend designing jobs to implement business logic, but not for technical tasks.</p>\n<p>That said, if you extract the restart code in a <code>main</code> method, your sample should work as expected.</p>\n"}],"owner":{"account_id":23350387,"reputation":1509,"user_id":17424027,"display_name":"Brady Maf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1261,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1651654573,"creation_date":1651619890,"question_id":72106397,"body_markdown":"I&#39;m testing my spring batch job with `restart` feature, I&#39;m processing total of nine records with `chunk size 5,` after processing the first chunk - I&#39;m intentionally failing the second chunk to test the failure scenario. As expected, my batch got failed after the first chunk processed successfully and in my table - `batch_job_execution` I&#39;ve the record with execution id and status as `FAILED`. Now I&#39;m running the restart job by passing the execution id to verify the failed records are processing or not. But I&#39;m getting the below exception when I run the failed job:\r\n\r\n\r\n    2022-05-03 18:58:44,829 [ JOB=scheduler.id_IS_UNDEFINED ] [THREAD=main] ERROR [RestartJobTasklet] \r\n    Exception java.lang.IllegalStateException: Existing transaction detected in JobRepository. Please fix this and try again (e.g. remove @Transactional annotations from client).while restart the failed job executionId8\r\n\r\nCould you please assist me here - what I&#39;m missing here. Please find my code below:\r\n\r\nAppreciated your help in advance!\r\n\r\n\r\n**TestJobConfig.java**\r\n\r\n    @Configuration\r\n    @Profile(&quot;myJob-config&quot;)\r\n    public class TestJobConfig {\r\n    \r\n        @Autowired\r\n        private JobBuilderFactory jobBuilderFactory;\r\n    \r\n        @Autowired\r\n        private StepBuilderFactory stepBuilderFactory;\r\n    \r\n        @Autowired\r\n        private MyItemWriter myItemWriter;\r\n    \r\n        @Autowired\r\n        private RestartJobTasklet restartJobTasklet;\r\n    \r\n    \r\n        @Bean(&quot;myJob-config&quot;)\r\n        public Job job(@Qualifier(&quot;validateStep&quot;) Step validateStep,\r\n                       @Qualifier(&quot;processRecords&quot;) Step processRecords) {\r\n            Job job = jobBuilderFactory.get(&quot;myJob-config&quot;)\r\n                    .incrementer(new RunIdIncrementer())\r\n                    .start(validateStep)\r\n                    .on(&quot;FAILED&quot;)\r\n                    .end()\r\n                    .from(validateStep).on(&quot;*&quot;).to(processRecords)\r\n                    .end()\r\n                    .build();\r\n            return job;\r\n        }\r\n    \r\n        @Bean(&quot;restart-myjob&quot;)\r\n        public Job restartJob(@Qualifier(&quot;restartMyJobStep&quot;) Step restartMyJobStep) {\r\n            return jobBuilderFactory.get(&quot;restart-myjob&quot;)\r\n                    .incrementer(new RunIdIncrementer())\r\n                    .start(restartMyJobStep)\r\n                    .build();\r\n        }\r\n    \r\n        @Bean(name = &quot;restartMyJobStep&quot;)\r\n        public Step restartMyJobStep() {\r\n            return this.stepBuilderFactory.get(&quot;restart-failed-job&quot;)\r\n                    .tasklet(restartJobTasklet)\r\n                    .build();\r\n        }\r\n    \r\n    \r\n        @Bean(name = &quot;processRecords&quot;)\r\n        public Step processRecords() {\r\n            return this.stepBuilderFactory.get(&quot;process-csv-records&quot;).&lt;Employee, Employee&gt;chunk(5)\r\n                    .reader(reader())\r\n                    .writer(itemWriter())\r\n                    .build();\r\n        }\r\n    \r\n    \r\n        @Bean(name = &quot;validateStep&quot;)\r\n        public Step validateStep(@Qualifier(&quot;validateTasklet&quot;) Tasklet validateTasklet) {\r\n            return stepBuilderFactory.get(&quot;validateStep&quot;)\r\n                    .tasklet(validateTasklet)\r\n                    .allowStartIfComplete(true)\r\n                    .build();\r\n        }\r\n    \r\n        @Bean(name = &quot;validateTasklet&quot;)\r\n        public Tasklet validateTasklet() {\r\n            return new Tasklet() {\r\n                @Override\r\n                public RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext) throws Exception {\r\n                    return RepeatStatus.FINISHED;\r\n                }\r\n            };\r\n        }\r\n    \r\n        @Bean\r\n        public FlatFileItemReader&lt;Employee&gt; reader() {\r\n            FlatFileItemReader&lt;Employee&gt; flatFileItemReader = new FlatFileItemReader&lt;&gt;();\r\n    \r\n            flatFileItemReader.setLinesToSkip(1);\r\n            flatFileItemReader.setResource(new ClassPathResource(&quot;/csv/emps.csv&quot;));\r\n    \r\n            DefaultLineMapper&lt;Employee&gt; empDefaultLineMapper = new DefaultLineMapper&lt;&gt;();\r\n            DelimitedLineTokenizer lineTokenizer = new DelimitedLineTokenizer();\r\n            lineTokenizer.setNames(new String[]{&quot;id&quot;, &quot;firstName&quot;, &quot;lastName&quot;});\r\n    \r\n            empDefaultLineMapper.setLineTokenizer(lineTokenizer);\r\n            empDefaultLineMapper.setFieldSetMapper(new EmployeeFieldSetMapper());\r\n            empDefaultLineMapper.afterPropertiesSet();\r\n    \r\n            flatFileItemReader.setLineMapper(empDefaultLineMapper);\r\n    \r\n            return flatFileItemReader;\r\n        }\r\n    \r\n        @Bean\r\n        public MyItemWriter&lt;Employee&gt; itemWriter() {\r\n            return myItemWriter;\r\n        }\r\n    }\r\n\r\n\r\n**RestartJobTasklet.java**\r\n\r\n    @Component\r\n    public class RestartJobTasklet implements Tasklet, StepExecutionListener {\r\n    \r\n        @Autowired\r\n        JobExplorer jobExplorer;\r\n        @Autowired\r\n        JobOperator jobOperator;\r\n        private StepExecution stepExecution;\r\n        private JobExecution jobExecution;\r\n        @Autowired\r\n        private OpsJobProperties props;\r\n    \r\n        @Override\r\n        public void beforeStep(StepExecution stepExecution) {\r\n            this.stepExecution = stepExecution;\r\n            this.jobExecution = stepExecution.getJobExecution();\r\n        }\r\n    \r\n        @Override\r\n        public RepeatStatus execute(StepContribution stepContribution,\r\n                                    ChunkContext chunkContext) throws Exception {\r\n    \r\n            Long executionId = 8l;\r\n            try {\r\n                Long restartId = jobOperator.restart(executionId);\r\n                JobExecution restartExecution = jobExplorer.getJobExecution(restartId);\r\n            } catch (JobRestartException e) {\r\n                throw e;\r\n            } catch (Exception exception) {\r\n                throw exception;\r\n            }\r\n            return RepeatStatus.FINISHED;\r\n        }\r\n    \r\n        @Override\r\n        public ExitStatus afterStep(StepExecution stepExecution) {\r\n            return ExitStatus.COMPLETED;\r\n        }\r\n    }\r\n\r\n\r\n**DBConfig.java**\r\n\r\n    @Configuration\r\n    public class DBConfig extends DefaultBatchConfigurer {\r\n    \r\n        @Autowired\r\n        public JobBuilderFactory jobBuilderFactory;\r\n    \r\n        @Bean\r\n        public JobRepository jobRepository(@Autowired DataSource dataSource,\r\n                                           @Autowired PlatformTransactionManager transactionManager) throws Exception {\r\n            JobRepositoryFactoryBean jobRepositoryFactory = new JobRepositoryFactoryBean();\r\n            jobRepositoryFactory.setDatabaseType(DatabaseType.POSTGRES.name());\r\n            jobRepositoryFactory.setDataSource(dataSource);\r\n            jobRepositoryFactory.setTransactionManager(transactionManager);\r\n            jobRepositoryFactory.setIsolationLevelForCreate(&quot;ISOLATION_SERIALIZABLE&quot;);\r\n            jobRepositoryFactory.setTablePrefix(&quot;BATCH_&quot;);\r\n            jobRepositoryFactory.setMaxVarCharLength(1000);\r\n            jobRepositoryFactory.setValidateTransactionState(Boolean.FALSE);\r\n            return jobRepositoryFactory.getObject();\r\n        }\r\n    \r\n        @Bean()\r\n        public DataSource dataSource() {\r\n            PGSimpleDataSource pgSimpleDataSource = new PGSimpleDataSource();\r\n            pgSimpleDataSource.setServerName(&quot;my-db-server&quot;);\r\n            pgSimpleDataSource.setDatabaseName(&quot;test-db&quot;);\r\n            pgSimpleDataSource.setUser(&quot;test&quot;);\r\n            pgSimpleDataSource.setPassword(&quot;test&quot;);\r\n            return pgSimpleDataSource;\r\n        }\r\n    \r\n        @Bean\r\n        public JobRegistryBeanPostProcessor jobRegistryBeanPostProcessor(final JobRegistry jobRegistry) {\r\n            JobRegistryBeanPostProcessor postProcessor = new JobRegistryBeanPostProcessor();\r\n            postProcessor.setJobRegistry(jobRegistry);\r\n            return postProcessor;\r\n        }\r\n    \r\n        @Bean\r\n        public JobOperator jobOperator(final JobLauncher jobLauncher, final JobRepository jobRepository,\r\n                                       final JobRegistry jobRegistry, final JobExplorer jobExplorer) {\r\n            final SimpleJobOperator jobOperator = new SimpleJobOperator();\r\n            jobOperator.setJobLauncher(jobLauncher);\r\n            jobOperator.setJobRepository(jobRepository);\r\n            jobOperator.setJobRegistry(jobRegistry);\r\n            jobOperator.setJobExplorer(jobExplorer);\r\n            return jobOperator;\r\n        }\r\n    \r\n        @Bean\r\n        public JobExplorer jobExplorer(@Autowired DataSource dataSource) throws Exception {\r\n            final JobExplorerFactoryBean bean = new JobExplorerFactoryBean();\r\n            bean.setDataSource(dataSource);\r\n            bean.setTablePrefix(&quot;BATCH_&quot;);\r\n            bean.setJdbcOperations(new JdbcTemplate(dataSource));\r\n            bean.afterPropertiesSet();\r\n            return bean.getObject();\r\n        }\r\n    \r\n        @Bean\r\n        public PlatformTransactionManager transactionManager(@Autowired DataSource dataSource) {\r\n            return new DataSourceTransactionManager(dataSource);\r\n        }\r\n    \r\n    }\r\n\r\n\r\n**Error Log**\r\n\r\n    2022-05-03 18:58:44,865 [ JOB=scheduler.id_IS_UNDEFINED ] [THREAD=main] ERROR [org.springframework.batch.core.step.AbstractStep] \r\n    Encountered an error executing step restart-failed-job in job restart-myjob\r\n    java.lang.IllegalStateException: Existing transaction detected in JobRepository. Please fix this and try again (e.g. remove @Transactional annotations from client).\r\n            at org.springframework.batch.core.repository.support.AbstractJobRepositoryFactoryBean$1.invoke(AbstractJobRepositoryFactoryBean.java:177)\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n            at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n            at com.sun.proxy.$Proxy68.createJobExecution(Unknown Source)\r\n            at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:137)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n            at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n            at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n            at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n            at com.sun.proxy.$Proxy73.run(Unknown Source)\r\n            at org.springframework.batch.core.launch.support.SimpleJobOperator.restart(SimpleJobOperator.java:283)\r\n            at org.springframework.batch.core.launch.support.SimpleJobOperator$$FastClassBySpringCGLIB$$44ee6049.invoke(&lt;generated&gt;)\r\n            at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n            at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)\r\n            at org.springframework.batch.core.launch.support.SimpleJobOperator$$EnhancerBySpringCGLIB$$e5e87de1.restart(&lt;generated&gt;)\r\n\r\n","title":"Spring batch restart job failing with transaction exception","body":"<p>I'm testing my spring batch job with <code>restart</code> feature, I'm processing total of nine records with <code>chunk size 5,</code> after processing the first chunk - I'm intentionally failing the second chunk to test the failure scenario. As expected, my batch got failed after the first chunk processed successfully and in my table - <code>batch_job_execution</code> I've the record with execution id and status as <code>FAILED</code>. Now I'm running the restart job by passing the execution id to verify the failed records are processing or not. But I'm getting the below exception when I run the failed job:</p>\n<pre><code>2022-05-03 18:58:44,829 [ JOB=scheduler.id_IS_UNDEFINED ] [THREAD=main] ERROR [RestartJobTasklet] \nException java.lang.IllegalStateException: Existing transaction detected in JobRepository. Please fix this and try again (e.g. remove @Transactional annotations from client).while restart the failed job executionId8\n</code></pre>\n<p>Could you please assist me here - what I'm missing here. Please find my code below:</p>\n<p>Appreciated your help in advance!</p>\n<p><strong>TestJobConfig.java</strong></p>\n<pre><code>@Configuration\n@Profile(&quot;myJob-config&quot;)\npublic class TestJobConfig {\n\n    @Autowired\n    private JobBuilderFactory jobBuilderFactory;\n\n    @Autowired\n    private StepBuilderFactory stepBuilderFactory;\n\n    @Autowired\n    private MyItemWriter myItemWriter;\n\n    @Autowired\n    private RestartJobTasklet restartJobTasklet;\n\n\n    @Bean(&quot;myJob-config&quot;)\n    public Job job(@Qualifier(&quot;validateStep&quot;) Step validateStep,\n                   @Qualifier(&quot;processRecords&quot;) Step processRecords) {\n        Job job = jobBuilderFactory.get(&quot;myJob-config&quot;)\n                .incrementer(new RunIdIncrementer())\n                .start(validateStep)\n                .on(&quot;FAILED&quot;)\n                .end()\n                .from(validateStep).on(&quot;*&quot;).to(processRecords)\n                .end()\n                .build();\n        return job;\n    }\n\n    @Bean(&quot;restart-myjob&quot;)\n    public Job restartJob(@Qualifier(&quot;restartMyJobStep&quot;) Step restartMyJobStep) {\n        return jobBuilderFactory.get(&quot;restart-myjob&quot;)\n                .incrementer(new RunIdIncrementer())\n                .start(restartMyJobStep)\n                .build();\n    }\n\n    @Bean(name = &quot;restartMyJobStep&quot;)\n    public Step restartMyJobStep() {\n        return this.stepBuilderFactory.get(&quot;restart-failed-job&quot;)\n                .tasklet(restartJobTasklet)\n                .build();\n    }\n\n\n    @Bean(name = &quot;processRecords&quot;)\n    public Step processRecords() {\n        return this.stepBuilderFactory.get(&quot;process-csv-records&quot;).&lt;Employee, Employee&gt;chunk(5)\n                .reader(reader())\n                .writer(itemWriter())\n                .build();\n    }\n\n\n    @Bean(name = &quot;validateStep&quot;)\n    public Step validateStep(@Qualifier(&quot;validateTasklet&quot;) Tasklet validateTasklet) {\n        return stepBuilderFactory.get(&quot;validateStep&quot;)\n                .tasklet(validateTasklet)\n                .allowStartIfComplete(true)\n                .build();\n    }\n\n    @Bean(name = &quot;validateTasklet&quot;)\n    public Tasklet validateTasklet() {\n        return new Tasklet() {\n            @Override\n            public RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext) throws Exception {\n                return RepeatStatus.FINISHED;\n            }\n        };\n    }\n\n    @Bean\n    public FlatFileItemReader&lt;Employee&gt; reader() {\n        FlatFileItemReader&lt;Employee&gt; flatFileItemReader = new FlatFileItemReader&lt;&gt;();\n\n        flatFileItemReader.setLinesToSkip(1);\n        flatFileItemReader.setResource(new ClassPathResource(&quot;/csv/emps.csv&quot;));\n\n        DefaultLineMapper&lt;Employee&gt; empDefaultLineMapper = new DefaultLineMapper&lt;&gt;();\n        DelimitedLineTokenizer lineTokenizer = new DelimitedLineTokenizer();\n        lineTokenizer.setNames(new String[]{&quot;id&quot;, &quot;firstName&quot;, &quot;lastName&quot;});\n\n        empDefaultLineMapper.setLineTokenizer(lineTokenizer);\n        empDefaultLineMapper.setFieldSetMapper(new EmployeeFieldSetMapper());\n        empDefaultLineMapper.afterPropertiesSet();\n\n        flatFileItemReader.setLineMapper(empDefaultLineMapper);\n\n        return flatFileItemReader;\n    }\n\n    @Bean\n    public MyItemWriter&lt;Employee&gt; itemWriter() {\n        return myItemWriter;\n    }\n}\n</code></pre>\n<p><strong>RestartJobTasklet.java</strong></p>\n<pre><code>@Component\npublic class RestartJobTasklet implements Tasklet, StepExecutionListener {\n\n    @Autowired\n    JobExplorer jobExplorer;\n    @Autowired\n    JobOperator jobOperator;\n    private StepExecution stepExecution;\n    private JobExecution jobExecution;\n    @Autowired\n    private OpsJobProperties props;\n\n    @Override\n    public void beforeStep(StepExecution stepExecution) {\n        this.stepExecution = stepExecution;\n        this.jobExecution = stepExecution.getJobExecution();\n    }\n\n    @Override\n    public RepeatStatus execute(StepContribution stepContribution,\n                                ChunkContext chunkContext) throws Exception {\n\n        Long executionId = 8l;\n        try {\n            Long restartId = jobOperator.restart(executionId);\n            JobExecution restartExecution = jobExplorer.getJobExecution(restartId);\n        } catch (JobRestartException e) {\n            throw e;\n        } catch (Exception exception) {\n            throw exception;\n        }\n        return RepeatStatus.FINISHED;\n    }\n\n    @Override\n    public ExitStatus afterStep(StepExecution stepExecution) {\n        return ExitStatus.COMPLETED;\n    }\n}\n</code></pre>\n<p><strong>DBConfig.java</strong></p>\n<pre><code>@Configuration\npublic class DBConfig extends DefaultBatchConfigurer {\n\n    @Autowired\n    public JobBuilderFactory jobBuilderFactory;\n\n    @Bean\n    public JobRepository jobRepository(@Autowired DataSource dataSource,\n                                       @Autowired PlatformTransactionManager transactionManager) throws Exception {\n        JobRepositoryFactoryBean jobRepositoryFactory = new JobRepositoryFactoryBean();\n        jobRepositoryFactory.setDatabaseType(DatabaseType.POSTGRES.name());\n        jobRepositoryFactory.setDataSource(dataSource);\n        jobRepositoryFactory.setTransactionManager(transactionManager);\n        jobRepositoryFactory.setIsolationLevelForCreate(&quot;ISOLATION_SERIALIZABLE&quot;);\n        jobRepositoryFactory.setTablePrefix(&quot;BATCH_&quot;);\n        jobRepositoryFactory.setMaxVarCharLength(1000);\n        jobRepositoryFactory.setValidateTransactionState(Boolean.FALSE);\n        return jobRepositoryFactory.getObject();\n    }\n\n    @Bean()\n    public DataSource dataSource() {\n        PGSimpleDataSource pgSimpleDataSource = new PGSimpleDataSource();\n        pgSimpleDataSource.setServerName(&quot;my-db-server&quot;);\n        pgSimpleDataSource.setDatabaseName(&quot;test-db&quot;);\n        pgSimpleDataSource.setUser(&quot;test&quot;);\n        pgSimpleDataSource.setPassword(&quot;test&quot;);\n        return pgSimpleDataSource;\n    }\n\n    @Bean\n    public JobRegistryBeanPostProcessor jobRegistryBeanPostProcessor(final JobRegistry jobRegistry) {\n        JobRegistryBeanPostProcessor postProcessor = new JobRegistryBeanPostProcessor();\n        postProcessor.setJobRegistry(jobRegistry);\n        return postProcessor;\n    }\n\n    @Bean\n    public JobOperator jobOperator(final JobLauncher jobLauncher, final JobRepository jobRepository,\n                                   final JobRegistry jobRegistry, final JobExplorer jobExplorer) {\n        final SimpleJobOperator jobOperator = new SimpleJobOperator();\n        jobOperator.setJobLauncher(jobLauncher);\n        jobOperator.setJobRepository(jobRepository);\n        jobOperator.setJobRegistry(jobRegistry);\n        jobOperator.setJobExplorer(jobExplorer);\n        return jobOperator;\n    }\n\n    @Bean\n    public JobExplorer jobExplorer(@Autowired DataSource dataSource) throws Exception {\n        final JobExplorerFactoryBean bean = new JobExplorerFactoryBean();\n        bean.setDataSource(dataSource);\n        bean.setTablePrefix(&quot;BATCH_&quot;);\n        bean.setJdbcOperations(new JdbcTemplate(dataSource));\n        bean.afterPropertiesSet();\n        return bean.getObject();\n    }\n\n    @Bean\n    public PlatformTransactionManager transactionManager(@Autowired DataSource dataSource) {\n        return new DataSourceTransactionManager(dataSource);\n    }\n\n}\n</code></pre>\n<p><strong>Error Log</strong></p>\n<pre><code>2022-05-03 18:58:44,865 [ JOB=scheduler.id_IS_UNDEFINED ] [THREAD=main] ERROR [org.springframework.batch.core.step.AbstractStep] \nEncountered an error executing step restart-failed-job in job restart-myjob\njava.lang.IllegalStateException: Existing transaction detected in JobRepository. Please fix this and try again (e.g. remove @Transactional annotations from client).\n        at org.springframework.batch.core.repository.support.AbstractJobRepositoryFactoryBean$1.invoke(AbstractJobRepositoryFactoryBean.java:177)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n        at com.sun.proxy.$Proxy68.createJobExecution(Unknown Source)\n        at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:137)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n        at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n        at com.sun.proxy.$Proxy73.run(Unknown Source)\n        at org.springframework.batch.core.launch.support.SimpleJobOperator.restart(SimpleJobOperator.java:283)\n        at org.springframework.batch.core.launch.support.SimpleJobOperator$$FastClassBySpringCGLIB$$44ee6049.invoke(&lt;generated&gt;)\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)\n        at org.springframework.batch.core.launch.support.SimpleJobOperator$$EnhancerBySpringCGLIB$$e5e87de1.restart(&lt;generated&gt;)\n</code></pre>\n"},{"tags":["java","spring-boot","spring-cloud-sleuth","zipkin","distributed-tracing"],"answers":[{"tags":[],"owner":{"account_id":1976110,"reputation":10792,"user_id":1773866,"display_name":"Marcin Grzejszczak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651654251,"creation_date":1650958421,"answer_id":72010000,"question_id":72009922,"body_markdown":"You can&#39;t create those objects manually (those objects == `tracer`, `webclient`, `tracing` etc.). You have to get them from the application context as beans. Then all the inbuilt instrumentations will be applied.\r\n\r\nUPDATE: \r\n\r\nSince it seems you&#39;re not using Spring Cloud Sleuth in all projects, you can still achieve sth similar by doing the instrumentation manually. That means that you would have to add the tracing exchange functions to web client etc. In general all the instrumentations that Sleuth does automatically behnd the scenes you would have to do manually.","title":"SpringBoot Sleuth/Zipkin Tracing: Issue adding a client, for Zipkin Server","body":"<p>You can't create those objects manually (those objects == <code>tracer</code>, <code>webclient</code>, <code>tracing</code> etc.). You have to get them from the application context as beans. Then all the inbuilt instrumentations will be applied.</p>\n<p>UPDATE:</p>\n<p>Since it seems you're not using Spring Cloud Sleuth in all projects, you can still achieve sth similar by doing the instrumentation manually. That means that you would have to add the tracing exchange functions to web client etc. In general all the instrumentations that Sleuth does automatically behnd the scenes you would have to do manually.</p>\n"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":912,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651654251,"creation_date":1650957947,"question_id":72009922,"body_markdown":"Small question regarding a Java 11 + SpringBoot 2.6.7 web application, in the context of Zipkin please.\r\n\r\nI have a very simple micro services architecture SpringBoot repo that can be found here: https://github.com/dogukankrtlz/springboot-sleuth-zipkin, please feel free to clone.\r\n\r\nHere are the relevant code for each micro service, it is very straightforward, I omitted the POJOs etc...\r\n\r\nMain service, called customer service, is calling to call two child services:\r\n```\r\n    @RequestMapping(value=&quot;/customer/{cid}&quot;, method=RequestMethod.GET)\r\n    public CustomerDetails getCustomer(@PathVariable String cid) {\r\n\r\n        CustomerDetails customer = new CustomerDetails();\r\n\r\n        ContactDetails svc1 = wc.get()\r\n                .uri(&quot;http://localhost:8081/customer/&quot; + cid + &quot;/contactdetails&quot;)\r\n                .retrieve()\r\n                .bodyToMono(ContactDetails.class)\r\n                .block();\r\n\r\n        VehicleDetails svc2 = wc.get()\r\n                .uri(&quot;http://localhost:8082/customer/&quot; + cid + &quot;/vehicledetails&quot;)\r\n                .retrieve()\r\n                .bodyToMono(VehicleDetails.class)\r\n                .block();\r\n\r\n        customer.setContactId(cid);\r\n        customer.setContactName(svc1.getContactName());\r\n        customer.setPostalCode(svc1.getPostalCode());\r\n        customer.setLicensePlate(svc2.getLicensePlate());\r\n        customer.setCarType(svc2.getCarType());\r\n\r\n        return customer;\r\n    }\r\n```\r\n\r\nCalling service A\r\n```\r\n @RequestMapping(value=&quot;/customer/{cid}/contactdetails&quot;, method= RequestMethod.GET)\r\n    public ContactDetails getCustomerContactDetails(@PathVariable String cid) throws InterruptedException {\r\n        Span dbSpan = this.tracer.nextSpan().name(&quot;DBLookup&quot;);\r\n        try (Tracer.SpanInScope ws = this.tracer.withSpan(dbSpan.start())) {\r\n\r\n            dbSpan.tag(&quot;call&quot;, &quot;sql-database&quot;);\r\n\r\n            Random r = new Random();\r\n            int multiplier = r.nextInt(5) * 1000;\r\n            Thread.sleep(multiplier);\r\n\r\n            dbSpan.event(&quot;db lookup complete&quot;);\r\n        }\r\n        finally {\r\n            dbSpan.end();\r\n        }\r\n\r\n        return details.stream().filter(detail -&gt; cid.equals(detail.getContactId())).findAny().orElse(null);\r\n\r\n    }\r\n```\r\n\r\nThen calling service B\r\n```\r\n @RequestMapping(value=&quot;/customer/{cid}/vehicledetails&quot;, method=RequestMethod.GET)\r\n    public VehicleDetails getCustomerVehicleDetails(@PathVariable String cid) {\r\n\r\n        return details.stream().filter(detail -&gt; cid.equals(detail.getCustomerId())).findAny().orElse(null);\r\n    }\r\n```\r\n\r\nOnce I make a request, I can see in the logs the traces, things are working, happy:\r\n\r\n```\r\nDEBUG [customerservice,25ef30dd73fbb6d8,25ef30dd73fbb6d8] 26578 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK\r\nDEBUG [dataservice1,25ef30dd73fbb6d8,65be0bf2df917b35] 26576 --- [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK\r\nDEBUG [dataservice2,25ef30dd73fbb6d8,a490771db3881b76] 26570 --- [nio-8082-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK\r\n```\r\n\r\nPlease note, I can see all trace IDs fine: 25ef30dd73fbb6d8,25ef30dd73fbb6d8 on the Main service, 25ef30dd73fbb6d8,65be0bf2df917b35 and 25ef30dd73fbb6d8,a490771db3881b76 on child services.\r\n\r\nMost important part, I can even see the traces in Zipkin Server, they are all here, beautiful, will all relevant information: (see screenshot)\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThings are working quite well, so far. Now, I would like to add a client. This is where things start to go south.\r\n\r\nI add this client, also very straightforward:\r\n\r\n```\r\n public static void main(String[] args) {\r\n        final OkHttpSender        sender    = OkHttpSender.newBuilder().endpoint(&quot;http://localhost:9411/api/v2/spans&quot;).build();\r\n        final AsyncReporter&lt;Span&gt; reporter  = AsyncReporter.create(sender);\r\n        final Tracing             tracing   = Tracing.newBuilder().localServiceName(&quot;ClientService&quot;).addSpanHandler(ZipkinSpanHandler.create(reporter)).build();\r\n        final BraveTracer               tracer    = BraveTracer.create(tracing);\r\n        final BraveSpan                 parent    = tracer.buildSpan(&quot;client start API&quot;).start();\r\n        final WebClient           webClient = WebClient.create().mutate().defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE, HttpHeaders.ACCEPT, MediaType.APPLICATION_JSON_VALUE).clientConnector(new ReactorClientHttpConnector(HttpClient.create().responseTimeout(Duration.ofSeconds(10)).wiretap(true).protocol(HttpProtocol.HTTP11))).build();\r\n        final String              response  = webClient.get().uri(&quot;http://localhost:8080/customer/500&quot;).header(&quot;X-B3-TraceId&quot;, parent.unwrap().context().traceIdString()).header(&quot;X-B3-SpanId&quot;, parent.unwrap().context().spanIdString()).retrieve().bodyToMono(String.class).onErrorReturn(&quot;ERROR&quot;).block();\r\n        parent.finish();\r\n        reporter.flush();\r\n        System.out.println(&quot;-&gt;&quot; + response);\r\n    }\r\n```\r\n\r\nI do see logs from both client and server:\r\n\r\n```\r\nclient: X-B3-TraceId: d96d2354f60b306a..X-B3-SpanId: d96d2354f60b306a\r\nserver:\r\nDEBUG [customerservice,d96d2354f60b306a,d96d2354f60b306a]\r\nDEBUG [dataservice1,d96d2354f60b306a,f61a595dfd045e17]\r\nDEBUG [dataservice2,d96d2354f60b306a,df125c7d44c5143c]\r\n\r\n```\r\n\r\nI go back into Zipkin with hope, and this is all I see:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nWhat I would expect to see, is definitely something more like this (photoshop).\r\n\r\n[![enter image description here][3]][3]\r\n\r\nMay I ask what went wrong here?\r\n\r\nHow to achieve a result where I can see the complete trace, from client all the way to server, all in one place in Zipkin?\r\n\r\nThank you\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/n2lcG.png\r\n  [2]: https://i.stack.imgur.com/4sXmx.png\r\n  [3]: https://i.stack.imgur.com/9ObnC.png","title":"SpringBoot Sleuth/Zipkin Tracing: Issue adding a client, for Zipkin Server","body":"<p>Small question regarding a Java 11 + SpringBoot 2.6.7 web application, in the context of Zipkin please.</p>\n<p>I have a very simple micro services architecture SpringBoot repo that can be found here: <a href=\"https://github.com/dogukankrtlz/springboot-sleuth-zipkin\" rel=\"nofollow noreferrer\">https://github.com/dogukankrtlz/springboot-sleuth-zipkin</a>, please feel free to clone.</p>\n<p>Here are the relevant code for each micro service, it is very straightforward, I omitted the POJOs etc...</p>\n<p>Main service, called customer service, is calling to call two child services:</p>\n<pre><code>    @RequestMapping(value=&quot;/customer/{cid}&quot;, method=RequestMethod.GET)\n    public CustomerDetails getCustomer(@PathVariable String cid) {\n\n        CustomerDetails customer = new CustomerDetails();\n\n        ContactDetails svc1 = wc.get()\n                .uri(&quot;http://localhost:8081/customer/&quot; + cid + &quot;/contactdetails&quot;)\n                .retrieve()\n                .bodyToMono(ContactDetails.class)\n                .block();\n\n        VehicleDetails svc2 = wc.get()\n                .uri(&quot;http://localhost:8082/customer/&quot; + cid + &quot;/vehicledetails&quot;)\n                .retrieve()\n                .bodyToMono(VehicleDetails.class)\n                .block();\n\n        customer.setContactId(cid);\n        customer.setContactName(svc1.getContactName());\n        customer.setPostalCode(svc1.getPostalCode());\n        customer.setLicensePlate(svc2.getLicensePlate());\n        customer.setCarType(svc2.getCarType());\n\n        return customer;\n    }\n</code></pre>\n<p>Calling service A</p>\n<pre><code> @RequestMapping(value=&quot;/customer/{cid}/contactdetails&quot;, method= RequestMethod.GET)\n    public ContactDetails getCustomerContactDetails(@PathVariable String cid) throws InterruptedException {\n        Span dbSpan = this.tracer.nextSpan().name(&quot;DBLookup&quot;);\n        try (Tracer.SpanInScope ws = this.tracer.withSpan(dbSpan.start())) {\n\n            dbSpan.tag(&quot;call&quot;, &quot;sql-database&quot;);\n\n            Random r = new Random();\n            int multiplier = r.nextInt(5) * 1000;\n            Thread.sleep(multiplier);\n\n            dbSpan.event(&quot;db lookup complete&quot;);\n        }\n        finally {\n            dbSpan.end();\n        }\n\n        return details.stream().filter(detail -&gt; cid.equals(detail.getContactId())).findAny().orElse(null);\n\n    }\n</code></pre>\n<p>Then calling service B</p>\n<pre><code> @RequestMapping(value=&quot;/customer/{cid}/vehicledetails&quot;, method=RequestMethod.GET)\n    public VehicleDetails getCustomerVehicleDetails(@PathVariable String cid) {\n\n        return details.stream().filter(detail -&gt; cid.equals(detail.getCustomerId())).findAny().orElse(null);\n    }\n</code></pre>\n<p>Once I make a request, I can see in the logs the traces, things are working, happy:</p>\n<pre><code>DEBUG [customerservice,25ef30dd73fbb6d8,25ef30dd73fbb6d8] 26578 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK\nDEBUG [dataservice1,25ef30dd73fbb6d8,65be0bf2df917b35] 26576 --- [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK\nDEBUG [dataservice2,25ef30dd73fbb6d8,a490771db3881b76] 26570 --- [nio-8082-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK\n</code></pre>\n<p>Please note, I can see all trace IDs fine: 25ef30dd73fbb6d8,25ef30dd73fbb6d8 on the Main service, 25ef30dd73fbb6d8,65be0bf2df917b35 and 25ef30dd73fbb6d8,a490771db3881b76 on child services.</p>\n<p>Most important part, I can even see the traces in Zipkin Server, they are all here, beautiful, will all relevant information: (see screenshot)</p>\n<p><a href=\"https://i.stack.imgur.com/n2lcG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n2lcG.png\" alt=\"enter image description here\" /></a></p>\n<p>Things are working quite well, so far. Now, I would like to add a client. This is where things start to go south.</p>\n<p>I add this client, also very straightforward:</p>\n<pre><code> public static void main(String[] args) {\n        final OkHttpSender        sender    = OkHttpSender.newBuilder().endpoint(&quot;http://localhost:9411/api/v2/spans&quot;).build();\n        final AsyncReporter&lt;Span&gt; reporter  = AsyncReporter.create(sender);\n        final Tracing             tracing   = Tracing.newBuilder().localServiceName(&quot;ClientService&quot;).addSpanHandler(ZipkinSpanHandler.create(reporter)).build();\n        final BraveTracer               tracer    = BraveTracer.create(tracing);\n        final BraveSpan                 parent    = tracer.buildSpan(&quot;client start API&quot;).start();\n        final WebClient           webClient = WebClient.create().mutate().defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE, HttpHeaders.ACCEPT, MediaType.APPLICATION_JSON_VALUE).clientConnector(new ReactorClientHttpConnector(HttpClient.create().responseTimeout(Duration.ofSeconds(10)).wiretap(true).protocol(HttpProtocol.HTTP11))).build();\n        final String              response  = webClient.get().uri(&quot;http://localhost:8080/customer/500&quot;).header(&quot;X-B3-TraceId&quot;, parent.unwrap().context().traceIdString()).header(&quot;X-B3-SpanId&quot;, parent.unwrap().context().spanIdString()).retrieve().bodyToMono(String.class).onErrorReturn(&quot;ERROR&quot;).block();\n        parent.finish();\n        reporter.flush();\n        System.out.println(&quot;-&gt;&quot; + response);\n    }\n</code></pre>\n<p>I do see logs from both client and server:</p>\n<pre><code>client: X-B3-TraceId: d96d2354f60b306a..X-B3-SpanId: d96d2354f60b306a\nserver:\nDEBUG [customerservice,d96d2354f60b306a,d96d2354f60b306a]\nDEBUG [dataservice1,d96d2354f60b306a,f61a595dfd045e17]\nDEBUG [dataservice2,d96d2354f60b306a,df125c7d44c5143c]\n\n</code></pre>\n<p>I go back into Zipkin with hope, and this is all I see:</p>\n<p><a href=\"https://i.stack.imgur.com/4sXmx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4sXmx.png\" alt=\"enter image description here\" /></a></p>\n<p>What I would expect to see, is definitely something more like this (photoshop).</p>\n<p><a href=\"https://i.stack.imgur.com/9ObnC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9ObnC.png\" alt=\"enter image description here\" /></a></p>\n<p>May I ask what went wrong here?</p>\n<p>How to achieve a result where I can see the complete trace, from client all the way to server, all in one place in Zipkin?</p>\n<p>Thank you</p>\n"},{"tags":["java","sleep","thread-sleep","method-invocation","nanotime"],"comments":[{"owner":{"account_id":93118,"reputation":7297,"user_id":254882,"accept_rate":89,"display_name":"g t"},"score":8,"creation_date":1342417140,"post_id":11498585,"comment_id":15190465,"body_markdown":"Do you have a particular reason why you want to do this? If so, it may be solved a different way...","body":"Do you have a particular reason why you want to do this? If so, it may be solved a different way..."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1342417840,"post_id":11498585,"comment_id":15190626,"body_markdown":"This is an unusual requirement. It sounds like you need a [back off strategy](http://en.wikipedia.org/wiki/Exponential_backoff) or similar.","body":"This is an unusual requirement. It sounds like you need a <a href=\"http://en.wikipedia.org/wiki/Exponential_backoff\" rel=\"nofollow noreferrer\">back off strategy</a> or similar."},{"owner":{"account_id":3162752,"reputation":2021,"user_id":2673386,"accept_rate":75,"display_name":"EntangledLoops"},"score":1,"creation_date":1445525409,"post_id":11498585,"comment_id":54368068,"body_markdown":"@gt FYI, it&#39;s annoying to post questions on stackoverflow and have replies that question you rather than provide an answer. There are many valid reasons for wanting to do this that have arisen in projects over the years. One practical reason would be for maintaining realtime behavior in applications that record audio from hardware, since the hardware may behave inconsistently, or you may be simulating hardware behavior for testing purposes .","body":"@gt FYI, it&#39;s annoying to post questions on stackoverflow and have replies that question you rather than provide an answer. There are many valid reasons for wanting to do this that have arisen in projects over the years. One practical reason would be for maintaining realtime behavior in applications that record audio from hardware, since the hardware may behave inconsistently, or you may be simulating hardware behavior for testing purposes ."},{"owner":{"account_id":93118,"reputation":7297,"user_id":254882,"accept_rate":89,"display_name":"g t"},"score":2,"creation_date":1445586717,"post_id":11498585,"comment_id":54393833,"body_markdown":"@EntangledLoops Thanks for providing an example. I don&#39;t doubt there are good reasons for doing this. I find the best answers will often take into account the context in which the question has been asked. Look at Peter Lawrey&#39;s answer below to see an example of this, once the OP provided a some background info.","body":"@EntangledLoops Thanks for providing an example. I don&#39;t doubt there are good reasons for doing this. I find the best answers will often take into account the context in which the question has been asked. Look at Peter Lawrey&#39;s answer below to see an example of this, once the OP provided a some background info."},{"owner":{"account_id":114848,"reputation":134179,"user_id":301832,"accept_rate":60,"display_name":"Donal Fellows"},"score":0,"creation_date":1549358185,"post_id":11498585,"comment_id":95863504,"body_markdown":"There are cases where very short sleeps are useful, such as when talking to hardware that can only take messages at a rate slower than the controller code can deliver them to it (but still well more than a thousand messages a second). This question (and its answers) is useful in those circumstances.","body":"There are cases where very short sleeps are useful, such as when talking to hardware that can only take messages at a rate slower than the controller code can deliver them to it (but still well more than a thousand messages a second). This question (and its answers) is useful in those circumstances."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1682280588,"post_id":11498585,"comment_id":134186632,"body_markdown":"By the way, as of Java 19, you can pass a [`java.time.Duration`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/Duration.html) to [`Thread.sleep`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Thread.html#sleep(java.time.Duration)).","body":"By the way, as of Java 19, you can pass a <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/Duration.html\" rel=\"nofollow noreferrer\"><code>java.time.Duration</code></a> to <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Thread.html#sleep(java.time.Duration)\" rel=\"nofollow noreferrer\"><code>Thread.sleep</code></a>."}],"answers":[{"tags":[],"owner":{"account_id":78268,"reputation":3821,"user_id":222867,"accept_rate":78,"display_name":"qwerty"},"down_vote_count":1,"up_vote_count":30,"is_accepted":true,"score":29,"last_activity_date":1342426115,"creation_date":1342417254,"answer_id":11498647,"question_id":11498585,"body_markdown":"The granularity of sleeps is generally bound by the thread scheduler&#39;s interrupt period. In Linux, this interrupt period is generally 1ms in recent kernels. In Windows, the scheduler&#39;s interrupt period is normally around 10 or 15 milliseconds\r\n\r\nIf I have to halt threads for periods less than this, I normally use a busy wait\r\n \r\n**EDIT**: I suspect you&#39;ll get best results on jrockit + solaris. The numbers on a windows box are terrible.\r\n\r\n    @Test\r\n    public void testWait(){\r\n        final long INTERVAL = 100;\r\n        long start = System.nanoTime();\r\n        long end=0;\r\n        do{\r\n            end = System.nanoTime();\r\n        }while(start + INTERVAL &gt;= end);\r\n        System.out.println(end - start);\r\n    }\r\n\r\n","title":"How to suspend a java thread for a small period of time, like 100 nanoseconds?","body":"<p>The granularity of sleeps is generally bound by the thread scheduler's interrupt period. In Linux, this interrupt period is generally 1ms in recent kernels. In Windows, the scheduler's interrupt period is normally around 10 or 15 milliseconds</p>\n\n<p>If I have to halt threads for periods less than this, I normally use a busy wait</p>\n\n<p><strong>EDIT</strong>: I suspect you'll get best results on jrockit + solaris. The numbers on a windows box are terrible.</p>\n\n<pre><code>@Test\npublic void testWait(){\n    final long INTERVAL = 100;\n    long start = System.nanoTime();\n    long end=0;\n    do{\n        end = System.nanoTime();\n    }while(start + INTERVAL &gt;= end);\n    System.out.println(end - start);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1653321,"reputation":1850,"user_id":1523469,"accept_rate":69,"display_name":"Mohan"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1342420561,"creation_date":1342420561,"answer_id":11499182,"question_id":11498585,"body_markdown":"One more problem with `Thread.sleep()` is that it is not guaranteed to wakeup after the specified time. A sleeping thread is guarenteed to sleep for the specified nano/micro seconds but not guarenteed to wakeup immediately after that. Since you are talking interms of nanoseconds, you  might want to try `Object.wait(long, int)`.\r\n\r\nI ve been quite consistent with the order of 10s of nanoseconds with the above method.","title":"How to suspend a java thread for a small period of time, like 100 nanoseconds?","body":"<p>One more problem with <code>Thread.sleep()</code> is that it is not guaranteed to wakeup after the specified time. A sleeping thread is guarenteed to sleep for the specified nano/micro seconds but not guarenteed to wakeup immediately after that. Since you are talking interms of nanoseconds, you  might want to try <code>Object.wait(long, int)</code>.</p>\n\n<p>I ve been quite consistent with the order of 10s of nanoseconds with the above method.</p>\n"},{"tags":[],"owner":{"account_id":1306910,"reputation":3662,"user_id":1255713,"accept_rate":94,"display_name":"Frank Visaggio"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1342420662,"creation_date":1342420662,"answer_id":11499206,"question_id":11498585,"body_markdown":"Do a busy wait , ( ie have a while loop cycle through so many numbers doing nothing ). A the start of your program you can time the amount of time it took it execute this busy wait and increase or decrease it to get to 5 nano seconds \r\n\r\nI have found object.wait gets hairy with this frequency also make note that a busy wait solution would most likely be machine dependent Hence why you should have a calibration step at the start of your program ","title":"How to suspend a java thread for a small period of time, like 100 nanoseconds?","body":"<p>Do a busy wait , ( ie have a while loop cycle through so many numbers doing nothing ). A the start of your program you can time the amount of time it took it execute this busy wait and increase or decrease it to get to 5 nano seconds </p>\n\n<p>I have found object.wait gets hairy with this frequency also make note that a busy wait solution would most likely be machine dependent Hence why you should have a calibration step at the start of your program </p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1608147026,"creation_date":1342421365,"answer_id":11499351,"question_id":11498585,"body_markdown":"For simulation, I would not attempt to simulate in real-time as this doesn&#39;t give you reproducible results. i.e. you can&#39;t test your simulation.\r\n\r\nInstead, I would use a data-driven, simulated clock, and run everything as fast as possible. This gives you reproducible results and allows you to simulate faster than real-time (e.g. 2x to 100x faster)\r\n\r\n---\r\n\r\nSuspecting a thread takes around 10 microseconds. There is no point trying to suspend a thread for less time than this.\r\n\r\nTo busy wait for a short period of time, you can try.\r\n\r\n    long start = System.nanoTime();\r\n    while(start + delay &gt;= System.nanoTime());\r\n\r\nNote: as @EugeneBeresovsky comments, after your machine has been running for 292 years this could overflow so you might choose to write this as\r\n\r\n    while(System.nanoTime() - start &lt; delay);\r\n\r\nThis will fine for delays of less than 292 years instead.  You can use System.currentTimeMillis() for much longer delays.\r\n\r\nHowever, even this is not reliable as System.nanoTime() can take up to 300 ns on Centos 5.x so calling it twice is going to take much longer than 100 ns. Also many OS only have a resolution of 1000 ns (1 micro-second) so this loop will wait up to 1 micro-second regardless of the delay you are looking for.\r\n\r\nInstead what you can do is to busy wait in a short loop which is not optimised way.\r\n\r\nFor a delay of 100 ns, I suspect it would be better to busy wait on whatever you are waiting for instead of creating a separate busy loop.  \r\n","title":"How to suspend a java thread for a small period of time, like 100 nanoseconds?","body":"<p>For simulation, I would not attempt to simulate in real-time as this doesn't give you reproducible results. i.e. you can't test your simulation.</p>\n<p>Instead, I would use a data-driven, simulated clock, and run everything as fast as possible. This gives you reproducible results and allows you to simulate faster than real-time (e.g. 2x to 100x faster)</p>\n<hr />\n<p>Suspecting a thread takes around 10 microseconds. There is no point trying to suspend a thread for less time than this.</p>\n<p>To busy wait for a short period of time, you can try.</p>\n<pre><code>long start = System.nanoTime();\nwhile(start + delay &gt;= System.nanoTime());\n</code></pre>\n<p>Note: as @EugeneBeresovsky comments, after your machine has been running for 292 years this could overflow so you might choose to write this as</p>\n<pre><code>while(System.nanoTime() - start &lt; delay);\n</code></pre>\n<p>This will fine for delays of less than 292 years instead.  You can use System.currentTimeMillis() for much longer delays.</p>\n<p>However, even this is not reliable as System.nanoTime() can take up to 300 ns on Centos 5.x so calling it twice is going to take much longer than 100 ns. Also many OS only have a resolution of 1000 ns (1 micro-second) so this loop will wait up to 1 micro-second regardless of the delay you are looking for.</p>\n<p>Instead what you can do is to busy wait in a short loop which is not optimised way.</p>\n<p>For a delay of 100 ns, I suspect it would be better to busy wait on whatever you are waiting for instead of creating a separate busy loop.</p>\n"},{"tags":[],"owner":{"account_id":3162752,"reputation":2021,"user_id":2673386,"accept_rate":75,"display_name":"EntangledLoops"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1445525810,"creation_date":1445525810,"answer_id":33284140,"question_id":11498585,"body_markdown":"    public static void busySleep(long nanos)\r\n    {\r\n      long elapsed;\r\n      final long startTime = System.nanoTime();\r\n      do {\r\n        elapsed = System.nanoTime() - startTime;\r\n      } while (elapsed &lt; nanos);\r\n    }","title":"How to suspend a java thread for a small period of time, like 100 nanoseconds?","body":"<pre><code>public static void busySleep(long nanos)\n{\n  long elapsed;\n  final long startTime = System.nanoTime();\n  do {\n    elapsed = System.nanoTime() - startTime;\n  } while (elapsed &lt; nanos);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16550654,"reputation":9,"user_id":11959053,"display_name":"David G. Pickett"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1575940459,"creation_date":1575935611,"answer_id":59258312,"question_id":11498585,"body_markdown":"Suppose a producer thread is filling a work buffer, say a linked list.  The buffer can be sized so it does not empty in less than a sleep-wake period, and the cpu can support the consumer threads that empty the buffer while you sleep.  You might even up the buffer size until it is not empty when you wake.  Now, how much sleep is a business decision, as there is switching overhead.  Lots of hints on figuring that in the above!\r\n\r\nOf course, there are several Blocking Concurrent Classes but generally their capacity is fixed.  Blocking is no less expensive a thread suspend, I have to believe.","title":"How to suspend a java thread for a small period of time, like 100 nanoseconds?","body":"<p>Suppose a producer thread is filling a work buffer, say a linked list.  The buffer can be sized so it does not empty in less than a sleep-wake period, and the cpu can support the consumer threads that empty the buffer while you sleep.  You might even up the buffer size until it is not empty when you wake.  Now, how much sleep is a business decision, as there is switching overhead.  Lots of hints on figuring that in the above!</p>\n\n<p>Of course, there are several Blocking Concurrent Classes but generally their capacity is fixed.  Blocking is no less expensive a thread suspend, I have to believe.</p>\n"},{"tags":[],"owner":{"account_id":21954787,"reputation":1,"user_id":16233509,"display_name":"Harry Pfohl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651654159,"creation_date":1651654159,"answer_id":72110214,"question_id":11498585,"body_markdown":"For waiting for an answer of a UDP request I wanted to use Threads.leep(millis, nanos) like sleep(0,10).\r\nWhen debugging into java source of sleep(...) I saw that nanos is ignored in windows java. If nanos &gt; 0, millis will be incremented and then sleep(millis) will be called! \r\nIn windows sleep 1 ms is the shortest way to sleep.","title":"How to suspend a java thread for a small period of time, like 100 nanoseconds?","body":"<p>For waiting for an answer of a UDP request I wanted to use Threads.leep(millis, nanos) like sleep(0,10).\nWhen debugging into java source of sleep(...) I saw that nanos is ignored in windows java. If nanos &gt; 0, millis will be incremented and then sleep(millis) will be called!\nIn windows sleep 1 ms is the shortest way to sleep.</p>\n"}],"owner":{"account_id":1310289,"reputation":10185,"user_id":1258409,"accept_rate":56,"display_name":"JackWM"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41367,"favorite_count":0,"down_vote_count":1,"up_vote_count":37,"accepted_answer_id":11498647,"answer_count":7,"score":36,"last_activity_date":1651654159,"creation_date":1342416932,"question_id":11498585,"body_markdown":"I know **Thread.sleep()** can make a java thread suspend for a while, like certain milliseconds and certain nanoseconds. But the problem is the invocation of this function also causes overhead. \r\n\r\nFor example, if I want a thread to suspend for 100 nanoseconds, and I call **Thread.sleep(0, 100)**. The whole cost for this process is **invocation_cost + 100 nanosceonds**, which may be much larger the what I want. How could I avoid this problem, and achieve my purpose? \r\n\r\nThe reason I need this is that I want to do simulation offline. I profiled the execution time of a task; Now I want to simulate this execution time by suspending a thread in the same time period.\r\n\r\nThanks!","title":"How to suspend a java thread for a small period of time, like 100 nanoseconds?","body":"<p>I know <strong>Thread.sleep()</strong> can make a java thread suspend for a while, like certain milliseconds and certain nanoseconds. But the problem is the invocation of this function also causes overhead. </p>\n\n<p>For example, if I want a thread to suspend for 100 nanoseconds, and I call <strong>Thread.sleep(0, 100)</strong>. The whole cost for this process is <strong>invocation_cost + 100 nanosceonds</strong>, which may be much larger the what I want. How could I avoid this problem, and achieve my purpose? </p>\n\n<p>The reason I need this is that I want to do simulation offline. I profiled the execution time of a task; Now I want to simulate this execution time by suspending a thread in the same time period.</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":0,"creation_date":1651652519,"post_id":72109288,"comment_id":127411616,"body_markdown":"You can create a utility method yourself that fits your needs. But as long as you just believe that something is too redundant you first should start looking for facts supporting your believe.","body":"You can create a utility method yourself that fits your needs. But as long as you just believe that something is too redundant you first should start looking for facts supporting your believe."}],"answers":[{"tags":[],"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651652772,"creation_date":1651652772,"answer_id":72109921,"question_id":72109288,"body_markdown":"You can do that using stream API :\r\n\r\n    List&lt;A&gt; aList = Stream.of(anArray).collect(Collectors.toCollection(ArrayList::new));","title":"Non-verbose way of instantiating a modifiable List from an array of objects, i.e. without double instantiation","body":"<p>You can do that using stream API :</p>\n<pre><code>List&lt;A&gt; aList = Stream.of(anArray).collect(Collectors.toCollection(ArrayList::new));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651654110,"creation_date":1651654110,"answer_id":72110207,"question_id":72109288,"body_markdown":"`Arrays.asList()` creates a *wrapper* around the array. It does not copy anything. In fact, the list supports modifying the array via all methods not changing the lists size.\r\n\r\nE.g.\r\n\r\n```java\r\nString[] array = { &quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot; };\r\n\r\nList&lt;String&gt; aList = Arrays.asList(array);\r\naList.set(2, &quot;blah&quot;);\r\naList.sort(Comparator.naturalOrder());\r\naList.replaceAll(String::toUpperCase);\r\n\r\nSystem.out.println(Arrays.toString(array));\r\n```\r\n```none\r\n[BAR, BLAH, FOO]\r\n```\r\n\r\nSo if you dont need a resizable list and are fine with modifying the original array, just using this list without copying it into a new `ArrayList` might be your solution.\r\n\r\n---\r\nDepending on the Java version, `ArrayList`s constructor will just invoke `toArray()` on the incoming list and use the result as its own internal array. With those versions, the construct `new&#160;ArrayList&lt;&gt;(Arrays.asList(anArray))` does already the minimum work necessary to create an `ArrayList` from an arrays content.\r\n\r\nBut in some versions, `ArrayList`s constructor will make a defensive copy of the array. If you really want to be sure that no additional array copying operation will be done in all versions, you may use\r\n\r\n```java\r\nList&lt;String&gt; aList = new ArrayList&lt;&gt;(anArray.length);\r\nCollections.addAll(aList, anArray);\r\n```\r\n\r\nBut actual performance depends on complex surrounding conditions, e.g. the JIT or caches etc. may have unintuitive influence. It may turn out that even in versions where an addition defensive copy is made, `new ArrayList&lt;&gt;(Arrays.asList(anArray))` will be faster than any alternative.\r\n\r\nThe bottom line is, use the simple idiomatic `new ArrayList&lt;&gt;(Arrays.asList(anArray))` approach and only think about alternatives when you have an actual performance problem.","title":"Non-verbose way of instantiating a modifiable List from an array of objects, i.e. without double instantiation","body":"<p><code>Arrays.asList()</code> creates a <em>wrapper</em> around the array. It does not copy anything. In fact, the list supports modifying the array via all methods not changing the lists size.</p>\n<p>E.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] array = { &quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot; };\n\nList&lt;String&gt; aList = Arrays.asList(array);\naList.set(2, &quot;blah&quot;);\naList.sort(Comparator.naturalOrder());\naList.replaceAll(String::toUpperCase);\n\nSystem.out.println(Arrays.toString(array));\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>[BAR, BLAH, FOO]\n</code></pre>\n<p>So if you dont need a resizable list and are fine with modifying the original array, just using this list without copying it into a new <code>ArrayList</code> might be your solution.</p>\n<hr />\n<p>Depending on the Java version, <code>ArrayList</code>s constructor will just invoke <code>toArray()</code> on the incoming list and use the result as its own internal array. With those versions, the construct <code>newArrayList&lt;&gt;(Arrays.asList(anArray))</code> does already the minimum work necessary to create an <code>ArrayList</code> from an arrays content.</p>\n<p>But in some versions, <code>ArrayList</code>s constructor will make a defensive copy of the array. If you really want to be sure that no additional array copying operation will be done in all versions, you may use</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; aList = new ArrayList&lt;&gt;(anArray.length);\nCollections.addAll(aList, anArray);\n</code></pre>\n<p>But actual performance depends on complex surrounding conditions, e.g. the JIT or caches etc. may have unintuitive influence. It may turn out that even in versions where an addition defensive copy is made, <code>new ArrayList&lt;&gt;(Arrays.asList(anArray))</code> will be faster than any alternative.</p>\n<p>The bottom line is, use the simple idiomatic <code>new ArrayList&lt;&gt;(Arrays.asList(anArray))</code> approach and only think about alternatives when you have an actual performance problem.</p>\n"}],"owner":{"account_id":20757795,"reputation":134,"user_id":15243804,"display_name":"cooleee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72110207,"answer_count":2,"score":1,"last_activity_date":1651654110,"creation_date":1651649107,"question_id":72109288,"body_markdown":"I have read that this is the most OK way of instantiating a modifiable list from an array\r\n\r\n    List&lt;A&gt; aList = new ArrayList&lt;&gt;(Arrays.asList(anArray));\r\n\r\n\r\nIs there another way to instantiate a modifiable list from an array without double instantiation? I believe it is too redundant to convert the array to a list then convert that list again to an arraylist.\r\n\r\nTIA!","title":"Non-verbose way of instantiating a modifiable List from an array of objects, i.e. without double instantiation","body":"<p>I have read that this is the most OK way of instantiating a modifiable list from an array</p>\n<pre><code>List&lt;A&gt; aList = new ArrayList&lt;&gt;(Arrays.asList(anArray));\n</code></pre>\n<p>Is there another way to instantiate a modifiable list from an array without double instantiation? I believe it is too redundant to convert the array to a list then convert that list again to an arraylist.</p>\n<p>TIA!</p>\n"},{"tags":["java","kubernetes","apache-kafka","apache-kafka-streams"],"comments":[{"owner":{"account_id":2038203,"reputation":1330,"user_id":1820013,"display_name":"bbejeck"},"score":1,"creation_date":1589212260,"post_id":61721814,"comment_id":109196989,"body_markdown":"At the risk of stating the obvious, it sounds like you have some connectivity issues.  Can you include some broker side logs and streams application logs covering the time period?","body":"At the risk of stating the obvious, it sounds like you have some connectivity issues.  Can you include some broker side logs and streams application logs covering the time period?"},{"owner":{"account_id":20180563,"reputation":4140,"user_id":14801225,"display_name":"matt_j"},"score":1,"creation_date":1613992779,"post_id":61721814,"comment_id":117238686,"body_markdown":"Do you still have this problem or have you solved it already ?\nWas bbejeck right and it was a connectivity problem ?","body":"Do you still have this problem or have you solved it already ? Was bbejeck right and it was a connectivity problem ?"},{"owner":{"account_id":2491257,"reputation":351,"user_id":2168654,"accept_rate":32,"display_name":"Zahra Hosseini"},"score":0,"creation_date":1661959702,"post_id":61721814,"comment_id":129896745,"body_markdown":"do you fix this? i&#39;m facing same problem and after that stream thread dead. because ot this, i can not restore state store :(  @AustinTX","body":"do you fix this? i&#39;m facing same problem and after that stream thread dead. because ot this, i can not restore state store :(  @AustinTX"},{"owner":{"account_id":114721,"reputation":766,"user_id":301535,"accept_rate":100,"display_name":"devrimbaris"},"score":0,"creation_date":1669429546,"post_id":61721814,"comment_id":131644978,"body_markdown":"Any fix on this?","body":"Any fix on this?"}],"owner":{"account_id":749478,"reputation":1332,"user_id":745240,"accept_rate":16,"display_name":"AustinTX"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8055,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":0,"score":5,"last_activity_date":1651653653,"creation_date":1589167613,"question_id":61721814,"body_markdown":"We have a topic with 100 partitions and the load is millions of records per hour. &lt;br&gt;&lt;br&gt;\r\nWe ran into the problem whenever we deploy a new version of stream-processor using state-store with stateful-set in Kubernetes.\r\n\r\n\r\nNormally, we need 4 pods to handle the workload of 100  partitions. &lt;br&gt;&lt;br&gt;\r\nBefore deploying a new version,\r\n4 instances are up to date with the data from the topics.&lt;br&gt;&lt;br&gt;\r\nThree out of 4 times when we deploy a new version, only 2 or 3 instances are processing the data within a minutes, the others throw exception: \r\n```[Consumer clientId=data-processor-5c4de063-a927-4139-82a4-f21412607567-StreamThread-1-restore-consumer, groupId=null]\r\n Error sending fetch request (sessionId=1175648978, epoch=189) to node 53: org.apache.kafka.common.errors.DisconnectException\r\n```\r\n\r\nSo all the data in the partitions that assigned to instance # 4 are build up and the lag is increasing...\r\n\r\nIf we scale the number of instances to 6 or 8, then  5 or 6 instances are processing the data, other 3 or 2 instances throw\r\nthis exception:\r\n```[Consumer clientId=data-processor-5c4de063-a927-4139-82a4-f21412607567-StreamThread-1-restore-consumer, groupId=null]\r\n Error sending fetch request (sessionId=1175648978, epoch=189) to node 53: org.apache.kafka.common.errors.DisconnectException\r\n```\r\n \r\nIf we let all the instances run like that, eventually ( some between 4 to 36 hours later ) all the instances will be fine and no more exception from any pod.\r\n\r\nAny suggestions to fix this problem be appreciated.\r\n\r\n\r\nThanks,\r\n\r\nAustin","title":"Error sending fetch request (sessionId=1175648978, epoch=189) to node 53: org.apache.kafka.common.errors.DisconnectException","body":"<p>We have a topic with 100 partitions and the load is millions of records per hour. <br><br>\nWe ran into the problem whenever we deploy a new version of stream-processor using state-store with stateful-set in Kubernetes.</p>\n\n<p>Normally, we need 4 pods to handle the workload of 100  partitions. <br><br>\nBefore deploying a new version,\n4 instances are up to date with the data from the topics.<br><br>\nThree out of 4 times when we deploy a new version, only 2 or 3 instances are processing the data within a minutes, the others throw exception: </p>\n\n<pre><code> Error sending fetch request (sessionId=1175648978, epoch=189) to node 53: org.apache.kafka.common.errors.DisconnectException\n</code></pre>\n\n<p>So all the data in the partitions that assigned to instance # 4 are build up and the lag is increasing...</p>\n\n<p>If we scale the number of instances to 6 or 8, then  5 or 6 instances are processing the data, other 3 or 2 instances throw\nthis exception:</p>\n\n<pre><code> Error sending fetch request (sessionId=1175648978, epoch=189) to node 53: org.apache.kafka.common.errors.DisconnectException\n</code></pre>\n\n<p>If we let all the instances run like that, eventually ( some between 4 to 36 hours later ) all the instances will be fine and no more exception from any pod.</p>\n\n<p>Any suggestions to fix this problem be appreciated.</p>\n\n<p>Thanks,</p>\n\n<p>Austin</p>\n"},{"tags":["java","android","gradle","build.gradle"],"comments":[{"owner":{"account_id":4895550,"reputation":854,"user_id":6341307,"display_name":"Mr00Anderson"},"score":0,"creation_date":1463510546,"post_id":37283892,"comment_id":62092992,"body_markdown":"Possible duplicate of [Gradle 1.2: Exclude directory under resources sourceSets](http://stackoverflow.com/questions/12617827/gradle-1-2-exclude-directory-under-resources-sourcesets) Although this is source sets it still relates to using the exclude functionality.","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/12617827/gradle-1-2-exclude-directory-under-resources-sourcesets\">Gradle 1.2: Exclude directory under resources sourceSets</a> Although this is source sets it still relates to using the exclude functionality."},{"owner":{"account_id":7678449,"reputation":418,"user_id":5818485,"accept_rate":54,"display_name":"Meng Tim"},"score":0,"creation_date":1463510891,"post_id":37283892,"comment_id":62093179,"body_markdown":"this does not work for me. I tried this. Is there any difference between packaging option and source set? Actually it gives me a lot of Duplicate files copied in APK xxxxxx, so I try to exclude the duplicate files. but there are too files under the same directory. So I try to exclude them all.","body":"this does not work for me. I tried this. Is there any difference between packaging option and source set? Actually it gives me a lot of Duplicate files copied in APK xxxxxx, so I try to exclude the duplicate files. but there are too files under the same directory. So I try to exclude them all."}],"answers":[{"tags":[],"owner":{"account_id":5047066,"reputation":5302,"user_id":4052699,"accept_rate":93,"display_name":"ambes"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1463511422,"creation_date":1463511422,"answer_id":37284202,"question_id":37283892,"body_markdown":"wild card can be used to enforce action to multiple file in directory. See  this:-\r\n\r\n    packagingOptions {\r\n     exclude &#39;org/apache/commons/codec/language/bm/*&#39;\r\n    }\r\n\r\n\r\nYou can also exclude a file/directory with out specifying the full path this way:-\r\n\r\n    packagingOptions {\r\n        exclude &#39;**/language/bm/*&#39;\r\n    }\r\n\r\nNote: this will exclude any `language/bm/` any where in the path","title":"How to exclude all files under a directory in Gradle?","body":"<p>wild card can be used to enforce action to multiple file in directory. See  this:-</p>\n\n<pre><code>packagingOptions {\n exclude 'org/apache/commons/codec/language/bm/*'\n}\n</code></pre>\n\n<p>You can also exclude a file/directory with out specifying the full path this way:-</p>\n\n<pre><code>packagingOptions {\n    exclude '**/language/bm/*'\n}\n</code></pre>\n\n<p>Note: this will exclude any <code>language/bm/</code> any where in the path</p>\n"},{"tags":[],"owner":{"account_id":11726648,"reputation":19533,"user_id":8583692,"display_name":"Mahozad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651653513,"creation_date":1642846794,"answer_id":70811866,"question_id":37283892,"body_markdown":"This is for [Kotlin DSL][1] (build.gradle.kts) and [AGP][2] (Android Gradle Plugin) version *7.0.0* and newer:\r\n\r\n```kotlin\r\nandroid {\r\n  // ...\r\n  packagingOptions {\r\n    resources.excludes += &quot;org/apache/commons/codec/language/bm/*&quot;\r\n    // OR\r\n    // resources.excludes += setOf(\r\n    //   &quot;org/apache/commons/codec/language/bm/*&quot;\r\n    // )\r\n  }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/kotlin_dsl.html\r\n  [2]: https://developer.android.com/studio/releases/gradle-plugin","title":"How to exclude all files under a directory in Gradle?","body":"<p>This is for <a href=\"https://docs.gradle.org/current/userguide/kotlin_dsl.html\" rel=\"nofollow noreferrer\">Kotlin DSL</a> (build.gradle.kts) and <a href=\"https://developer.android.com/studio/releases/gradle-plugin\" rel=\"nofollow noreferrer\">AGP</a> (Android Gradle Plugin) version <em>7.0.0</em> and newer:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>android {\n  // ...\n  packagingOptions {\n    resources.excludes += &quot;org/apache/commons/codec/language/bm/*&quot;\n    // OR\n    // resources.excludes += setOf(\n    //   &quot;org/apache/commons/codec/language/bm/*&quot;\n    // )\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":7678449,"reputation":418,"user_id":5818485,"accept_rate":54,"display_name":"Meng Tim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12297,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":37284202,"answer_count":2,"score":3,"last_activity_date":1651653513,"creation_date":1463510193,"question_id":37283892,"body_markdown":"    packagingOptions {\r\n     exclude &#39;org/apache/commons/codec/language/bm/gen_approx_portuguese.txt&#39;\r\n    }\r\n\r\nFor example, this one will exclude 1 file. But how to exclude all file under a directory?\r\n\r\nlike:\r\norg/apache/commons/codec/language/bm/   \r\nfolder?\r\n*.* does not work :)","title":"How to exclude all files under a directory in Gradle?","body":"<pre><code>packagingOptions {\n exclude 'org/apache/commons/codec/language/bm/gen_approx_portuguese.txt'\n}\n</code></pre>\n\n<p>For example, this one will exclude 1 file. But how to exclude all file under a directory?</p>\n\n<p>like:\norg/apache/commons/codec/language/bm/<br>\nfolder?\n<em>.</em> does not work :)</p>\n"},{"tags":["java","spring","spring-boot","rest","docker-compose"],"answers":[{"tags":[],"owner":{"account_id":8896005,"reputation":709,"user_id":8004901,"accept_rate":83,"display_name":"Hamid"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651653117,"creation_date":1651650194,"answer_id":72109452,"question_id":72108789,"body_markdown":"As you know, Docker containers are individual Linux virtual machines which means `localhost` inside a Docker container refers to the container itself, **not the host**.\r\n\r\nDocker compose has a feature called _DNS resolutions_ which basically means you can call other services by their container name or container hash id.\r\n\r\nSo in your web app, you can call API by `containerName:containerPort` instead of localhost.\r\n\r\nFor more information, look at [this][1] complete implementation.\r\n\r\n\r\n  [1]: https://www.infiproton.com/post/deploying-multi-spring-boot-applications-with-docker-compose","title":"How do I connect REST services (inside containers) together, in Spring Boot?","body":"<p>As you know, Docker containers are individual Linux virtual machines which means <code>localhost</code> inside a Docker container refers to the container itself, <strong>not the host</strong>.</p>\n<p>Docker compose has a feature called <em>DNS resolutions</em> which basically means you can call other services by their container name or container hash id.</p>\n<p>So in your web app, you can call API by <code>containerName:containerPort</code> instead of localhost.</p>\n<p>For more information, look at <a href=\"https://www.infiproton.com/post/deploying-multi-spring-boot-applications-with-docker-compose\" rel=\"nofollow noreferrer\">this</a> complete implementation.</p>\n"}],"owner":{"account_id":23302581,"reputation":91,"user_id":17383009,"display_name":"Grim Ranger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":476,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72109452,"answer_count":1,"score":0,"last_activity_date":1651653117,"creation_date":1651645908,"question_id":72108789,"body_markdown":"I&#39;m supposed to build a system with individual REST services using docker compose. One of them is a web app where a user can login, and one of them is an authentication service, so I need to connect to the rest authentication service using a post request, and get the confirmation.\r\n\r\nThis is my authentication service:\r\n```\t\r\n@RestController\r\npublic class AuthenticationController {\r\n\tprivate final List&lt;User&gt; users=GetUsers();\r\n\r\n    @PostMapping (&quot;/verify&quot;)\r\n\tpublic String greeting(@RequestParam String username, @RequestParam String password) {\r\n\t\tfor (User u :users)\r\n\t\t\tif (u.getUsername().equals(username)&amp;&amp;u.getPassword().equals(password))\r\n\t\t\t\treturn u.getRole();\r\n\t\treturn &quot;Invalid Credentials &quot;;\r\n\r\n\t}\r\n} \r\n```\r\nSo, how exactly do I connect from inside the web app code into this service and send a post request?\r\n\r\nI know I can send a get using this:\r\n```\r\nString uri = &quot;http://localhost:8080/verify&quot;;\r\n\r\nRestTemplate restTemplate = new RestTemplate();\r\nString result = restTemplate.getForObject(uri, String.class);\r\n```\r\nHow would I send a post? And how would it work inside containers? I know I can link them together inside docker compose, but how do I do it on the code level? Do I replace the `localhost:8080` with `containerName:exposedPort`?\r\n\r\n\r\n","title":"How do I connect REST services (inside containers) together, in Spring Boot?","body":"<p>I'm supposed to build a system with individual REST services using docker compose. One of them is a web app where a user can login, and one of them is an authentication service, so I need to connect to the rest authentication service using a post request, and get the confirmation.</p>\n<p>This is my authentication service:</p>\n<pre><code>@RestController\npublic class AuthenticationController {\n    private final List&lt;User&gt; users=GetUsers();\n\n    @PostMapping (&quot;/verify&quot;)\n    public String greeting(@RequestParam String username, @RequestParam String password) {\n        for (User u :users)\n            if (u.getUsername().equals(username)&amp;&amp;u.getPassword().equals(password))\n                return u.getRole();\n        return &quot;Invalid Credentials &quot;;\n\n    }\n} \n</code></pre>\n<p>So, how exactly do I connect from inside the web app code into this service and send a post request?</p>\n<p>I know I can send a get using this:</p>\n<pre><code>String uri = &quot;http://localhost:8080/verify&quot;;\n\nRestTemplate restTemplate = new RestTemplate();\nString result = restTemplate.getForObject(uri, String.class);\n</code></pre>\n<p>How would I send a post? And how would it work inside containers? I know I can link them together inside docker compose, but how do I do it on the code level? Do I replace the <code>localhost:8080</code> with <code>containerName:exposedPort</code>?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1651648685,"post_id":72109082,"comment_id":127410346,"body_markdown":"What is the question? Why the `toString` on your `biConsumer` variable returns different values for the two?","body":"What is the question? Why the <code>toString</code> on your <code>biConsumer</code> variable returns different values for the two?"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1651649068,"post_id":72109082,"comment_id":127410467,"body_markdown":"You should not expect them to output the same: Just because they can be *assigned* to the same type doesn&#39;t mean they are the same. Eg`Number a = new Long(1);` vs `Number b = new Integer(1);` the two have different classes. See [Liskov Substitution Principle](https://en.wikipedia.org/wiki/Liskov_substitution_principle).","body":"You should not expect them to output the same: Just because they can be <i>assigned</i> to the same type doesn&#39;t mean they are the same. Eg<code>Number a = new Long(1);</code> vs <code>Number b = new Integer(1);</code> the two have different classes. See <a href=\"https://en.wikipedia.org/wiki/Liskov_substitution_principle\" rel=\"nofollow noreferrer\">Liskov Substitution Principle</a>."},{"owner":{"account_id":20270823,"reputation":1,"user_id":14867033,"display_name":"iksel"},"score":0,"creation_date":1651649677,"post_id":72109082,"comment_id":127410667,"body_markdown":"I know that they are two different classes(but they represent the same action) and they may not be the same but i want to understand why. \n\nIt is not toString, i am getting declared methods with reflection \n\nbiConsumer.getClass().getDeclaredMethods()","body":"I know that they are two different classes(but they represent the same action) and they may not be the same but i want to understand why.   It is not toString, i am getting declared methods with reflection   biConsumer.getClass().getDeclaredMethods()"},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1651650643,"post_id":72109082,"comment_id":127410973,"body_markdown":"The implementation is different. Just as it&#39;s different between an anonymous class implementing an interface and a normal class declared to implement that interface. Seems like you&#39;re using reflection for the wrong reasons there.","body":"The implementation is different. Just as it&#39;s different between an anonymous class implementing an interface and a normal class declared to implement that interface. Seems like you&#39;re using reflection for the wrong reasons there."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1651652649,"post_id":72109082,"comment_id":127411652,"body_markdown":"This is because of generics erasure, which erases the types of the BiConsumer class to `Object` at runtime.","body":"This is because of generics erasure, which erases the types of the BiConsumer class to <code>Object</code> at runtime."},{"owner":{"account_id":20270823,"reputation":1,"user_id":14867033,"display_name":"iksel"},"score":0,"creation_date":1651654422,"post_id":72109082,"comment_id":127412288,"body_markdown":"But why it isn&#39;t erasure types when i am using anonymous class? i can find method with my parameters in this case.\n\nI am not trying to compare anonymous class and method reference, i am trying to understand, why in one case it creates a new method with my parameters types and in another it doesn&#39;t, I understand that in first case new class (and file) generated and in the second lambda expression is converted into a private method, but why doesn&#39;t it use concrete parameter types?","body":"But why it isn&#39;t erasure types when i am using anonymous class? i can find method with my parameters in this case.  I am not trying to compare anonymous class and method reference, i am trying to understand, why in one case it creates a new method with my parameters types and in another it doesn&#39;t, I understand that in first case new class (and file) generated and in the second lambda expression is converted into a private method, but why doesn&#39;t it use concrete parameter types?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1651657041,"post_id":72109082,"comment_id":127413208,"body_markdown":"Ah, are you wondering because you&#39;re seeing a [bridge method](https://stackoverflow.com/q/5007357/2541560)?","body":"Ah, are you wondering because you&#39;re seeing a <a href=\"https://stackoverflow.com/q/5007357/2541560\">bridge method</a>?"},{"owner":{"account_id":20270823,"reputation":1,"user_id":14867033,"display_name":"iksel"},"score":0,"creation_date":1651662053,"post_id":72109082,"comment_id":127414902,"body_markdown":"I am wondering why i can&#39;t see it in case of method reference. I am wondering why the same cases create different methods? (i mean that both of method reference and anonymous class make the same thing, they are setting some value to some object in my case) I am trying to understand how they are working, why one way creates another method and another way doesn&#39;t","body":"I am wondering why i can&#39;t see it in case of method reference. I am wondering why the same cases create different methods? (i mean that both of method reference and anonymous class make the same thing, they are setting some value to some object in my case) I am trying to understand how they are working, why one way creates another method and another way doesn&#39;t"}],"owner":{"account_id":20270823,"reputation":1,"user_id":14867033,"display_name":"iksel"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651652895,"creation_date":1651647899,"question_id":72109082,"body_markdown":"I am trying to get all accept methods from BiConsumer implementation. \r\n\r\nI have two classes  \r\n```java\r\nclass ADto {\r\n    private BDto b;\r\n\r\n    public void setB(BDto b) {\r\n        this.b = b;\r\n    }\r\n}\r\n```\r\n```java\r\nclass BDto {\r\n}\r\n```\r\nI create 2 implementations of BiConsumer&lt;ADto, BDto&gt;:\r\n1. Anonymous class \r\n\r\n    ```java\r\n    BiConsumer&lt;ADto, BDto&gt; biConsumer = new BiConsumer&lt;&gt;() {\r\n                @Override\r\n                public void accept(ADto aDto, BDto b1) {\r\n                    aDto.setB(b1);\r\n                }\r\n            };\r\n    ```\r\n\r\n2. Method reference\r\n\r\n    ```java\r\n    BiConsumer&lt;ADto, BDto&gt; biConsumer = ADto::setB;\r\n    ```\r\n\r\nIn the first case, I get\r\n\r\n```\r\npublic void com.company.Main$1.accept(com.company.ADto,com.company.BDto)\r\npublic void com.company.Main$1.accept(java.lang.Object,java.lang.Object)\r\n```\r\n\r\nIn the second:\r\n\r\n```\r\npublic void Main$$Lambda$14/0x0000000800c02918.accept(java.lang.Object,java.lang.Object)\r\n```\r\n\r\nWhy is it working this way?\r\n\r\nMethod reference equals anonymous class implementation (I also can replace them to each other within IntelliJ hints), but the list of declared methods is different for these two implementations.\r\n\r\nI wanted to pass many method references and get parameter types from methods but implementation by anonymous class much larger then by method reference.\r\n","title":"BiConsumer method reference implementation accept methods list differ from anonymous class implementation","body":"<p>I am trying to get all accept methods from BiConsumer implementation.</p>\n<p>I have two classes</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ADto {\n    private BDto b;\n\n    public void setB(BDto b) {\n        this.b = b;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class BDto {\n}\n</code></pre>\n<p>I create 2 implementations of BiConsumer&lt;ADto, BDto&gt;:</p>\n<ol>\n<li><p>Anonymous class</p>\n<pre class=\"lang-java prettyprint-override\"><code>BiConsumer&lt;ADto, BDto&gt; biConsumer = new BiConsumer&lt;&gt;() {\n            @Override\n            public void accept(ADto aDto, BDto b1) {\n                aDto.setB(b1);\n            }\n        };\n</code></pre>\n</li>\n<li><p>Method reference</p>\n<pre class=\"lang-java prettyprint-override\"><code>BiConsumer&lt;ADto, BDto&gt; biConsumer = ADto::setB;\n</code></pre>\n</li>\n</ol>\n<p>In the first case, I get</p>\n<pre><code>public void com.company.Main$1.accept(com.company.ADto,com.company.BDto)\npublic void com.company.Main$1.accept(java.lang.Object,java.lang.Object)\n</code></pre>\n<p>In the second:</p>\n<pre><code>public void Main$$Lambda$14/0x0000000800c02918.accept(java.lang.Object,java.lang.Object)\n</code></pre>\n<p>Why is it working this way?</p>\n<p>Method reference equals anonymous class implementation (I also can replace them to each other within IntelliJ hints), but the list of declared methods is different for these two implementations.</p>\n<p>I wanted to pass many method references and get parameter types from methods but implementation by anonymous class much larger then by method reference.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":227916,"reputation":2970,"user_id":489872,"accept_rate":86,"display_name":"ave4496"},"score":0,"creation_date":1651652941,"post_id":72109917,"comment_id":127411758,"body_markdown":"You could use maven","body":"You could use maven"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1651654228,"post_id":72109917,"comment_id":127412222,"body_markdown":"Can you be more detailed. What do you mean by &quot;every time&quot;? Every time you do *what*? Create a new project? A new class? You seem to be asking about some re-use of code, but it&#39;s unclear what *level* of re-use you talk about. Specific examples would go a long way towards understanding that.","body":"Can you be more detailed. What do you mean by &quot;every time&quot;? Every time you do <i>what</i>? Create a new project? A new class? You seem to be asking about some re-use of code, but it&#39;s unclear what <i>level</i> of re-use you talk about. Specific examples would go a long way towards understanding that."},{"owner":{"account_id":5850578,"reputation":1170,"user_id":4609353,"display_name":"Oleg Ushakov"},"score":0,"creation_date":1651670085,"post_id":72109917,"comment_id":127417758,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1651684367,"post_id":72109917,"comment_id":127423590,"body_markdown":"Java used to have the extension mechanism, but it was removed because the new module system, and because it was abused and caused all kinds of issue exactly because all the applications using the same JVM would use that library, even if an application didn&#39;t expect it, or required a different versions, etc. Or do you want to have some generic library that you can reuse in your different applications?","body":"Java used to have the extension mechanism, but it was removed because the new module system, and because it was abused and caused all kinds of issue exactly because all the applications using the same JVM would use that library, even if an application didn&#39;t expect it, or required a different versions, etc. Or do you want to have some generic library that you can reuse in your different applications?"}],"owner":{"account_id":24145036,"reputation":1,"user_id":18110785,"display_name":"SMTL Smelter"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651652755,"creation_date":1651652755,"question_id":72109917,"body_markdown":"there are some codes that I use very often in my programs and its kind of annoying to add it to my program every time I&#39;m wondering if there is any way to solve this problem like adding ","title":"is there any way to add a custom library to jre","body":"<p>there are some codes that I use very often in my programs and its kind of annoying to add it to my program every time I'm wondering if there is any way to solve this problem like adding</p>\n"},{"tags":["java","spring","option-type","builder","mapper"],"answers":[{"tags":[],"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651650464,"creation_date":1651650464,"answer_id":72109502,"question_id":72109422,"body_markdown":"Your basic problem is that `ifPresent` doesn&#39;t return a value at allit&#39;s `void`. Instead, you want `orElse` (since I think you want `null` or another default value in that case), and you shouldn&#39;t use `get`all the relevant &quot;if&quot; and &quot;or&quot; methods already unwrap the value for you.\r\n\r\nInstead:\r\n\r\n```\r\nExample.builder()\r\n  .id(document.map(Document::getId).orElse(null))\r\n  .build()\r\n```","title":"Optional in builder pattern, get()","body":"<p>Your basic problem is that <code>ifPresent</code> doesn't return a value at allit's <code>void</code>. Instead, you want <code>orElse</code> (since I think you want <code>null</code> or another default value in that case), and you shouldn't use <code>get</code>all the relevant &quot;if&quot; and &quot;or&quot; methods already unwrap the value for you.</p>\n<p>Instead:</p>\n<pre><code>Example.builder()\n  .id(document.map(Document::getId).orElse(null))\n  .build()\n</code></pre>\n"}],"owner":{"account_id":25190631,"reputation":3,"user_id":19030863,"display_name":"mimi1907"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1060,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72109502,"answer_count":1,"score":0,"last_activity_date":1651652715,"creation_date":1651650036,"question_id":72109422,"body_markdown":"I&#39;m working on a backend for a web application in Java (using Spring) und try to use the builder pattern.\r\nI have the classes \r\n- Example (as a Data object)\r\n- ExampleDocument (as another Data object)\r\n- ExampleMapper\r\n- ExampleRepository (extends MongoRepository)\r\n- ExampleController(REST)\r\n- ExampleService \r\n\r\nNow I have a problem with a function returning an Optional (findById, Mongo-Repo) to my service: \r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class ExampleService {\r\n    \r\n        private final ExampleMapper exampleMapper;\r\n        private final ExampleRepository exampleRepository;\r\n    \r\n    \r\n        public Example getExample(String exampleId) {\r\n            Optional&lt;ExampleDocument&gt; document = exampleRepository.findById(exampleId);\r\n            return exampleMapper.mapToDto(document);\r\n        }\r\n\r\nI want to map the document in my mapper class as I&#39;m used to do it with other documents (without the Optional it looks like this, I took an example from another class: \r\n \r\n\r\n    @Component\r\n    public class OtherExampleMapper {\r\n    \r\n        public OtherExample mapToDto(OtherExampleDocument document) {\r\n            return OtherExample.builder()\r\n                    .id(document.getId())\r\n                    .existingSolutions(document.getExistingSolutions())\r\n                    ...\r\n                    .build();\r\n        }\r\n\r\n)\r\n\r\nI tried to use ifPresent, but the builderPattern seems not to recognize the expression, since I have a yellow mark on &quot;getId()&quot;, telling me &quot;Result of &#39;PitchEventDocument.getId()&#39; is ignored&quot; and a red mark on &quot;.build()&quot; \r\n\r\n\r\n    @Component\r\n    public class PitchEventMapper {\r\n    public Example mapToDto(Optional&lt;ExampleDocument&gt; document) {\r\n            return Example.builder()\r\n                    .id(document.ifPresent(id -&gt; document.get().getId())\r\n                    .build();\r\n        } \r\n\r\n\r\nHow can I still use the builder pattern in combination with the Optional?","title":"Optional in builder pattern, get()","body":"<p>I'm working on a backend for a web application in Java (using Spring) und try to use the builder pattern.\nI have the classes</p>\n<ul>\n<li>Example (as a Data object)</li>\n<li>ExampleDocument (as another Data object)</li>\n<li>ExampleMapper</li>\n<li>ExampleRepository (extends MongoRepository)</li>\n<li>ExampleController(REST)</li>\n<li>ExampleService</li>\n</ul>\n<p>Now I have a problem with a function returning an Optional (findById, Mongo-Repo) to my service:</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class ExampleService {\n\n    private final ExampleMapper exampleMapper;\n    private final ExampleRepository exampleRepository;\n\n\n    public Example getExample(String exampleId) {\n        Optional&lt;ExampleDocument&gt; document = exampleRepository.findById(exampleId);\n        return exampleMapper.mapToDto(document);\n    }\n</code></pre>\n<p>I want to map the document in my mapper class as I'm used to do it with other documents (without the Optional it looks like this, I took an example from another class:</p>\n<pre><code>@Component\npublic class OtherExampleMapper {\n\n    public OtherExample mapToDto(OtherExampleDocument document) {\n        return OtherExample.builder()\n                .id(document.getId())\n                .existingSolutions(document.getExistingSolutions())\n                ...\n                .build();\n    }\n</code></pre>\n<p>)</p>\n<p>I tried to use ifPresent, but the builderPattern seems not to recognize the expression, since I have a yellow mark on &quot;getId()&quot;, telling me &quot;Result of 'PitchEventDocument.getId()' is ignored&quot; and a red mark on &quot;.build()&quot;</p>\n<pre><code>@Component\npublic class PitchEventMapper {\npublic Example mapToDto(Optional&lt;ExampleDocument&gt; document) {\n        return Example.builder()\n                .id(document.ifPresent(id -&gt; document.get().getId())\n                .build();\n    } \n</code></pre>\n<p>How can I still use the builder pattern in combination with the Optional?</p>\n"},{"tags":["java","jar","gradle"],"comments":[{"owner":{"account_id":11726648,"reputation":19533,"user_id":8583692,"display_name":"Mahozad"},"score":0,"creation_date":1645184453,"post_id":11474729,"comment_id":125809588,"body_markdown":"Here is a [similar post](https://stackoverflow.com/q/26874498/8583692).","body":"Here is a <a href=\"https://stackoverflow.com/q/26874498/8583692\">similar post</a>."}],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":3,"up_vote_count":266,"is_accepted":true,"score":263,"last_activity_date":1342199153,"creation_date":1342199153,"answer_id":11475089,"question_id":11474729,"body_markdown":"    task sourcesJar(type: Jar, dependsOn: classes) {\r\n        classifier = &#39;sources&#39;\r\n        from sourceSets.main.allSource\r\n    }\r\n    \r\n    task javadocJar(type: Jar, dependsOn: javadoc) {\r\n        classifier = &#39;javadoc&#39;\r\n        from javadoc.destinationDir\r\n    }\r\n    \r\n    artifacts {\r\n        archives sourcesJar\r\n        archives javadocJar\r\n    }","title":"How to build sources JAR with Gradle?","body":"<pre><code>task sourcesJar(type: Jar, dependsOn: classes) {\n    classifier = 'sources'\n    from sourceSets.main.allSource\n}\n\ntask javadocJar(type: Jar, dependsOn: javadoc) {\n    classifier = 'javadoc'\n    from javadoc.destinationDir\n}\n\nartifacts {\n    archives sourcesJar\n    archives javadocJar\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1599692,"reputation":21034,"user_id":1480995,"accept_rate":84,"display_name":"Michael Oryl"},"down_vote_count":1,"up_vote_count":45,"is_accepted":false,"score":44,"last_activity_date":1412959679,"creation_date":1412786121,"answer_id":26261956,"question_id":11474729,"body_markdown":"If you wish to *add the sources to the compiled classes JAR file*, which you also said would be acceptable, you can do that easily enough.  Just add the following to your build file.  You can see that, in theory, it is quite like the solution for putting sources into a separate JAR:\r\n\r\n     jar {\r\n         from sourceSets.main.allSource\r\n     }\r\n\r\nThe difference is that you are adding it to the main JAR file by saying &quot;jar&quot; in lieu of sourcesJar.","title":"How to build sources JAR with Gradle?","body":"<p>If you wish to <em>add the sources to the compiled classes JAR file</em>, which you also said would be acceptable, you can do that easily enough.  Just add the following to your build file.  You can see that, in theory, it is quite like the solution for putting sources into a separate JAR:</p>\n\n<pre><code> jar {\n     from sourceSets.main.allSource\n }\n</code></pre>\n\n<p>The difference is that you are adding it to the main JAR file by saying \"jar\" in lieu of sourcesJar.</p>\n"},{"tags":[],"owner":{"account_id":191221,"reputation":1401,"user_id":431668,"accept_rate":89,"display_name":"Giordano"},"down_vote_count":1,"up_vote_count":55,"is_accepted":false,"score":54,"last_activity_date":1426005908,"creation_date":1426005908,"answer_id":28969412,"question_id":11474729,"body_markdown":"If you&#39;re using Android:\r\n\r\n    task sourcesJar(type: Jar) {\r\n        from android.sourceSets.main.java.srcDirs\r\n        classifier = &#39;sources&#39;\r\n    }\r\n    \r\n    task javadoc(type: Javadoc) {\r\n        source = android.sourceSets.main.java.srcDirs\r\n        classpath += project.files(android.getBootClasspath().join(File.pathSeparator))\r\n    }\r\n    \r\n    task javadocJar(type: Jar, dependsOn: javadoc) {\r\n        classifier = &#39;javadoc&#39;\r\n        from javadoc.destinationDir\r\n    }\r\n\r\n    artifacts {\r\n        archives javadocJar\r\n        archives sourcesJar\r\n    }\r\n\r\nfrom [here][1]\r\n\r\n\r\n  [1]: https://www.virag.si/2015/01/publishing-gradle-android-library-to-jcenter/","title":"How to build sources JAR with Gradle?","body":"<p>If you're using Android:</p>\n\n<pre><code>task sourcesJar(type: Jar) {\n    from android.sourceSets.main.java.srcDirs\n    classifier = 'sources'\n}\n\ntask javadoc(type: Javadoc) {\n    source = android.sourceSets.main.java.srcDirs\n    classpath += project.files(android.getBootClasspath().join(File.pathSeparator))\n}\n\ntask javadocJar(type: Jar, dependsOn: javadoc) {\n    classifier = 'javadoc'\n    from javadoc.destinationDir\n}\n\nartifacts {\n    archives javadocJar\n    archives sourcesJar\n}\n</code></pre>\n\n<p>from <a href=\"https://www.virag.si/2015/01/publishing-gradle-android-library-to-jcenter/\" rel=\"noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":388617,"reputation":1480,"user_id":747661,"accept_rate":58,"display_name":"Ali"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1436441514,"creation_date":1436440874,"answer_id":31315945,"question_id":11474729,"body_markdown":"this should work\r\n\r\n    assemble.dependsOn &#39;propertyJar&#39;\r\n\r\n    task propertyJar(type: Jar) {\r\n     archiveName = &quot;myJarName.jar&quot;\r\n     from(&#39;src/main/resources&#39;) {\r\n        include &#39;**&#39;\r\n     }}\r\n\r\n\r\n","title":"How to build sources JAR with Gradle?","body":"<p>this should work</p>\n\n<pre><code>assemble.dependsOn 'propertyJar'\n\ntask propertyJar(type: Jar) {\n archiveName = \"myJarName.jar\"\n from('src/main/resources') {\n    include '**'\n }}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8634,"reputation":8079,"user_id":15647,"accept_rate":92,"display_name":"wheleph"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1514949139,"creation_date":1514949139,"answer_id":48070667,"question_id":11474729,"body_markdown":"The Kotlin DSL equivalent would be:\r\n\r\n    tasks {\r\n    \r\n        val sourcesJar by creating(Jar::class) {\r\n            dependsOn(JavaPlugin.CLASSES_TASK_NAME)\r\n            classifier = &quot;sources&quot;\r\n            from(java.sourceSets[&quot;main&quot;].allSource)\r\n        }\r\n    \r\n        val javadocJar by creating(Jar::class) {\r\n            dependsOn(JavaPlugin.JAVADOC_TASK_NAME)\r\n            classifier = &quot;javadoc&quot;\r\n            from(java.docsDir)\r\n        }\r\n    \r\n        artifacts {\r\n            add(&quot;archives&quot;, sourcesJar)\r\n            add(&quot;archives&quot;, javadocJar)\r\n        }\r\n    }","title":"How to build sources JAR with Gradle?","body":"<p>The Kotlin DSL equivalent would be:</p>\n\n<pre><code>tasks {\n\n    val sourcesJar by creating(Jar::class) {\n        dependsOn(JavaPlugin.CLASSES_TASK_NAME)\n        classifier = \"sources\"\n        from(java.sourceSets[\"main\"].allSource)\n    }\n\n    val javadocJar by creating(Jar::class) {\n        dependsOn(JavaPlugin.JAVADOC_TASK_NAME)\n        classifier = \"javadoc\"\n        from(java.docsDir)\n    }\n\n    artifacts {\n        add(\"archives\", sourcesJar)\n        add(\"archives\", javadocJar)\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2008878,"reputation":15778,"user_id":1797912,"accept_rate":60,"display_name":"Chriki"},"down_vote_count":1,"up_vote_count":65,"is_accepted":false,"score":64,"last_activity_date":1573679064,"creation_date":1573679064,"answer_id":58845574,"question_id":11474729,"body_markdown":"## Solution as of Gradle 6.0\r\n\r\nAssuming that you use the `java`/`java-library` plugin with Gradle 6.0 or later, you can get a `sourcesJar` task using the following configuration:\r\n\r\n    java {\r\n        withSourcesJar()\r\n        // and/or analogously use withJavadocJar() to get a javadocJar task\r\n    }\r\n\r\nIf you additionally use the `maven-publish`/`ivy-publish` plugin (recommended nowadays), then this will also publish a `*-sources.jar` artifact along with your main Java publication.\r\n\r\nSee also [the Gradle docs](https://docs.gradle.org/6.0/userguide/java_plugin.html#sec:java-extension).","title":"How to build sources JAR with Gradle?","body":"<h2>Solution as of Gradle 6.0</h2>\n\n<p>Assuming that you use the <code>java</code>/<code>java-library</code> plugin with Gradle 6.0 or later, you can get a <code>sourcesJar</code> task using the following configuration:</p>\n\n<pre><code>java {\n    withSourcesJar()\n    // and/or analogously use withJavadocJar() to get a javadocJar task\n}\n</code></pre>\n\n<p>If you additionally use the <code>maven-publish</code>/<code>ivy-publish</code> plugin (recommended nowadays), then this will also publish a <code>*-sources.jar</code> artifact along with your main Java publication.</p>\n\n<p>See also <a href=\"https://docs.gradle.org/6.0/userguide/java_plugin.html#sec:java-extension\" rel=\"noreferrer\">the Gradle docs</a>.</p>\n"},{"tags":[],"owner":{"account_id":7173795,"reputation":159,"user_id":5480471,"display_name":"Artem Areshko"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1580159146,"creation_date":1580159146,"answer_id":59938903,"question_id":11474729,"body_markdown":"When using:\r\n\r\n - Gradle: 5+\r\n - `java` and `maven-publish` plugins\r\n\r\n```\r\ntask sourceJar(type: Jar) {\r\n    from sourceSets.main.allJava\r\n    archiveClassifier = &quot;sources&quot;\r\n}\r\n\r\npublishing {\r\n    publications {\r\n        maven(MavenPublication) {\r\n            from components.java\r\n            artifact sourceJar\r\n        }\r\n    }\r\n}\r\n```\r\nhttps://docs.gradle.org/current/dsl/org.gradle.api.publish.maven.MavenPublication.html","title":"How to build sources JAR with Gradle?","body":"<p>When using:</p>\n\n<ul>\n<li>Gradle: 5+</li>\n<li><code>java</code> and <code>maven-publish</code> plugins</li>\n</ul>\n\n<pre><code>task sourceJar(type: Jar) {\n    from sourceSets.main.allJava\n    archiveClassifier = \"sources\"\n}\n\npublishing {\n    publications {\n        maven(MavenPublication) {\n            from components.java\n            artifact sourceJar\n        }\n    }\n}\n</code></pre>\n\n<p><a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.publish.maven.MavenPublication.html\" rel=\"noreferrer\">https://docs.gradle.org/current/dsl/org.gradle.api.publish.maven.MavenPublication.html</a></p>\n"},{"tags":[],"owner":{"account_id":11726648,"reputation":19533,"user_id":8583692,"display_name":"Mahozad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651652704,"creation_date":1643180150,"answer_id":70859560,"question_id":11474729,"body_markdown":"This is how I included [Dokka][1] (view it [online][2]) and sources JARs for [my Android Kotlin library][3] using [Kotlin DSL][4] (build.gradle.kts):\r\n\r\n```kotlin\r\nplugins {\r\n    // ...\r\n    id(&quot;org.jetbrains.dokka&quot;) version &quot;1.4.32&quot;\r\n    id(&quot;maven-publish&quot;)\r\n}\r\n\r\nlateinit var sourcesArtifact: PublishArtifact\r\nlateinit var javadocArtifact: PublishArtifact\r\n\r\ntasks {\r\n    val sourcesJar by creating(Jar::class) {\r\n        archiveClassifier.set(&quot;sources&quot;)\r\n        from(android.sourceSets[&quot;main&quot;].java.srcDirs)\r\n    }\r\n    val dokkaHtml by getting(org.jetbrains.dokka.gradle.DokkaTask::class)\r\n    val javadocJar by creating(Jar::class) {\r\n        dependsOn(dokkaHtml)\r\n        archiveClassifier.set(&quot;javadoc&quot;)\r\n        from(dokkaHtml.outputDirectory)\r\n    }\r\n    artifacts {\r\n        sourcesArtifact = archives(sourcesJar)\r\n        javadocArtifact = archives(javadocJar)\r\n    }\r\n}\r\n\r\npublishing {\r\n    // ...\r\n    publications {\r\n        create&lt;MavenPublication&gt;(&quot;MyPublication&quot;) {\r\n            from(components[&quot;release&quot;])\r\n            artifact(sourcesArtifact)\r\n            artifact(javadocArtifact)\r\n            // ...\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/Kotlin/dokka\r\n  [2]: https://javadoc.io/doc/ir.mahozad.android/pie-chart/latest/index.html\r\n  [3]: https://github.com/mahozad/android-pie-chart\r\n  [4]: https://docs.gradle.org/current/userguide/kotlin_dsl.html","title":"How to build sources JAR with Gradle?","body":"<p>This is how I included <a href=\"https://github.com/Kotlin/dokka\" rel=\"nofollow noreferrer\">Dokka</a> (view it <a href=\"https://javadoc.io/doc/ir.mahozad.android/pie-chart/latest/index.html\" rel=\"nofollow noreferrer\">online</a>) and sources JARs for <a href=\"https://github.com/mahozad/android-pie-chart\" rel=\"nofollow noreferrer\">my Android Kotlin library</a> using <a href=\"https://docs.gradle.org/current/userguide/kotlin_dsl.html\" rel=\"nofollow noreferrer\">Kotlin DSL</a> (build.gradle.kts):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>plugins {\n    // ...\n    id(&quot;org.jetbrains.dokka&quot;) version &quot;1.4.32&quot;\n    id(&quot;maven-publish&quot;)\n}\n\nlateinit var sourcesArtifact: PublishArtifact\nlateinit var javadocArtifact: PublishArtifact\n\ntasks {\n    val sourcesJar by creating(Jar::class) {\n        archiveClassifier.set(&quot;sources&quot;)\n        from(android.sourceSets[&quot;main&quot;].java.srcDirs)\n    }\n    val dokkaHtml by getting(org.jetbrains.dokka.gradle.DokkaTask::class)\n    val javadocJar by creating(Jar::class) {\n        dependsOn(dokkaHtml)\n        archiveClassifier.set(&quot;javadoc&quot;)\n        from(dokkaHtml.outputDirectory)\n    }\n    artifacts {\n        sourcesArtifact = archives(sourcesJar)\n        javadocArtifact = archives(javadocJar)\n    }\n}\n\npublishing {\n    // ...\n    publications {\n        create&lt;MavenPublication&gt;(&quot;MyPublication&quot;) {\n            from(components[&quot;release&quot;])\n            artifact(sourcesArtifact)\n            artifact(javadocArtifact)\n            // ...\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2822377,"reputation":12101,"user_id":2425851,"accept_rate":50,"display_name":"NickUnuchek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644400985,"creation_date":1644400985,"answer_id":71047517,"question_id":11474729,"body_markdown":"Android:\r\n```\r\n  task androidSourcesJar(type: Jar) {\r\n        getArchiveClassifier().set(&#39;sources&#39;)\r\n        from android.sourceSets.main.java.srcDirs//full sources\r\n  }\r\n```\r\nJava:\r\n```\r\n task sourcesJar(type: Jar, dependsOn: classes) {\r\n        getArchiveClassifier().set(&#39;sources&#39;)\r\n        from sourceSets.main.allSource\r\n    }\r\n```","title":"How to build sources JAR with Gradle?","body":"<p>Android:</p>\n<pre><code>  task androidSourcesJar(type: Jar) {\n        getArchiveClassifier().set('sources')\n        from android.sourceSets.main.java.srcDirs//full sources\n  }\n</code></pre>\n<p>Java:</p>\n<pre><code> task sourcesJar(type: Jar, dependsOn: classes) {\n        getArchiveClassifier().set('sources')\n        from sourceSets.main.allSource\n    }\n</code></pre>\n"}],"owner":{"account_id":2214,"reputation":20109,"user_id":3045,"accept_rate":90,"display_name":"Paul D. Eden"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108330,"favorite_count":0,"down_vote_count":0,"up_vote_count":187,"accepted_answer_id":11475089,"answer_count":9,"score":187,"last_activity_date":1651652704,"creation_date":1342197640,"question_id":11474729,"body_markdown":"I am working with an open source project that is built with Gradle. I would like to generate a *(project)-sources.jar* file that I can load into my IDE (IntelliJ IDEA) and debug through the project. I know how to load the file if I can generate it.\r\n\r\nI have looked through the available Gradle tasks for the project and there isn&#39;t one that generates a sources jar file.\r\n\r\nWhat is the easiest way to generate a sources jar file for this project?\r\n\r\nAdding the source into the jar file that contains the compiled class files would be fine as well.\r\n","title":"How to build sources JAR with Gradle?","body":"<p>I am working with an open source project that is built with Gradle. I would like to generate a <em>(project)-sources.jar</em> file that I can load into my IDE (IntelliJ IDEA) and debug through the project. I know how to load the file if I can generate it.</p>\n<p>I have looked through the available Gradle tasks for the project and there isn't one that generates a sources jar file.</p>\n<p>What is the easiest way to generate a sources jar file for this project?</p>\n<p>Adding the source into the jar file that contains the compiled class files would be fine as well.</p>\n"},{"tags":["java","spring-data","spring-data-cassandra","scylla"],"answers":[{"tags":[],"owner":{"account_id":12179143,"reputation":12245,"user_id":8891224,"display_name":"Nadav Har&#39;El"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651652670,"creation_date":1651652670,"answer_id":72109898,"question_id":72040467,"body_markdown":"I&#39;m not a Spring expert (just a Scylla expert ;-)), so please forgive me if my answer doesn&#39;t work.\r\n\r\nIt seems to me that the annotation\r\n\r\n```spring\r\n@Column(&quot;attachments&quot;)\r\n@CassandraType(type = CassandraType.Name.UDT, userTypeName = &quot;attachment_info&quot;)\r\n  private Set&lt;AttachmentInfo&gt; attachments = new HashSet&lt;&gt;();\r\n```\r\n\r\nIs wrong because it tells spring-data-cassandra that the &quot;attachments&quot; column is a UDT, while in fact it isn&#39;t - it&#39;s a set (of UDTs).\r\n\r\nI think that the correct annotation for a set of UDTs would be something like:\r\n```spring\r\n@CassandraType(type = DataType.Name.SET, typeArguments = DataType.Name.UDT)\r\n```\r\nBut I&#39;m not sure (I couldn&#39;t find an example in documentation) where to put the userTypeName. If I understand the documentation correctly, you don&#39;t need the that userTypeName explicitly because you annotated the AttachmentInfo class with a UserDefinedType annotation saying that its scylla name is &quot;attachment_info&quot; and that should hopefully be enough.\r\n\r\nMoreover, according to some documentation I read, you may not need the `CassandraType` annotation on `attachements` at all, because spring-data-cassandra understands `Set&lt;AttachmentInfo&gt;` because it knows the primitive type `Set`, and you already annotated `AttachmentInfo` as a UDT.","title":"How to save collection of user defined type to ScyllaDB with Spring Data Cassandra?","body":"<p>I'm not a Spring expert (just a Scylla expert ;-)), so please forgive me if my answer doesn't work.</p>\n<p>It seems to me that the annotation</p>\n<pre><code>@Column(&quot;attachments&quot;)\n@CassandraType(type = CassandraType.Name.UDT, userTypeName = &quot;attachment_info&quot;)\n  private Set&lt;AttachmentInfo&gt; attachments = new HashSet&lt;&gt;();\n</code></pre>\n<p>Is wrong because it tells spring-data-cassandra that the &quot;attachments&quot; column is a UDT, while in fact it isn't - it's a set (of UDTs).</p>\n<p>I think that the correct annotation for a set of UDTs would be something like:</p>\n<pre><code>@CassandraType(type = DataType.Name.SET, typeArguments = DataType.Name.UDT)\n</code></pre>\n<p>But I'm not sure (I couldn't find an example in documentation) where to put the userTypeName. If I understand the documentation correctly, you don't need the that userTypeName explicitly because you annotated the AttachmentInfo class with a UserDefinedType annotation saying that its scylla name is &quot;attachment_info&quot; and that should hopefully be enough.</p>\n<p>Moreover, according to some documentation I read, you may not need the <code>CassandraType</code> annotation on <code>attachements</code> at all, because spring-data-cassandra understands <code>Set&lt;AttachmentInfo&gt;</code> because it knows the primitive type <code>Set</code>, and you already annotated <code>AttachmentInfo</code> as a UDT.</p>\n"}],"owner":{"account_id":5297359,"reputation":473,"user_id":4784969,"accept_rate":17,"display_name":"Politechniczny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":580,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72109898,"answer_count":1,"score":1,"last_activity_date":1651652670,"creation_date":1651134869,"question_id":72040467,"body_markdown":"When I try to save entity with a list or set of user defined type, I get error:\r\n\r\n&gt; Failed to convert from type [java.util.ImmutableCollections$Set12&lt;?&gt;] to type [com.datastax.oss.driver.api.core.data.UdtValue] for value &#39;[scrubbed.entity.Article$AttachmentInfo@3337c2b5]&#39;; nested exception is org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [scrubbed.entity.Article$AttachmentInfo] to type [com.datastax.oss.driver.api.core.data.UdtValue]]\r\n\r\nThat&#39;s the definition that is in ScyllaDB database:\r\n``` lang-sql\r\nCREATE TYPE IF NOT EXISTS attachment_info (\r\n  id        UUID,\r\n  fileName  TEXT,\r\n  mimeType  TEXT,\r\n  sizeBytes BIGINT\r\n);\r\n\r\nCREATE TABLE IF NOT EXISTS articles\r\n(\r\n  id          UUID,\r\n  attachments SET&lt;frozen&lt;attachment_info&gt;&gt;,\r\n  PRIMARY KEY (id)\r\n);\r\n```\r\nEntity in Java:\r\n``` lang-java\r\n@Getter\r\n@Setter\r\n@Table(&quot;articles&quot;)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder(toBuilder = true)\r\npublic class Article {\r\n\r\n  @PrimaryKeyColumn(name = &quot;id&quot;, ordinal = 0, type = PrimaryKeyType.PARTITIONED)\r\n  private UUID id;\r\n\r\n  @Column(&quot;attachments&quot;)\r\n  @CassandraType(type = CassandraType.Name.UDT, userTypeName = &quot;attachment_info&quot;)\r\n  private Set&lt;AttachmentInfo&gt; attachments = new HashSet&lt;&gt;();\r\n\r\n  @Getter\r\n  @Setter\r\n  @NoArgsConstructor\r\n  @AllArgsConstructor\r\n  @UserDefinedType(&quot;attachment_info&quot;)\r\n  public static class AttachmentInfo {\r\n    private UUID id;\r\n    private String fileName;\r\n    private String mimeType;\r\n    private Long sizeBytes;\r\n  }\r\n}\r\n```\r\nAnd saving to database:\r\n``` lang-java\r\nvar metadata = new Article.AttachmentInfo();\r\nmetadata.setFileName(&quot;Filename&quot;);\r\nmetadata.setId(UUID.randomUUID());\r\nmetadata.setMimeType(&quot;image/png&quot;);\r\nmetadata.setSizeBytes(12345L);\r\n\r\nvar article = new Article();\r\narticle.setId(UUID.randomUUID());\r\narticle.setAttachments(Set.of(metadata));\r\narticleRepository.insert(article);\r\n```\r\nUsing version ``3.2.0`` of ``spring-data-cassandra``","title":"How to save collection of user defined type to ScyllaDB with Spring Data Cassandra?","body":"<p>When I try to save entity with a list or set of user defined type, I get error:</p>\n<blockquote>\n<p>Failed to convert from type [java.util.ImmutableCollections$Set12&lt;?&gt;] to type [com.datastax.oss.driver.api.core.data.UdtValue] for value '[scrubbed.entity.Article$AttachmentInfo@3337c2b5]'; nested exception is org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [scrubbed.entity.Article$AttachmentInfo] to type [com.datastax.oss.driver.api.core.data.UdtValue]]</p>\n</blockquote>\n<p>That's the definition that is in ScyllaDB database:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TYPE IF NOT EXISTS attachment_info (\n  id        UUID,\n  fileName  TEXT,\n  mimeType  TEXT,\n  sizeBytes BIGINT\n);\n\nCREATE TABLE IF NOT EXISTS articles\n(\n  id          UUID,\n  attachments SET&lt;frozen&lt;attachment_info&gt;&gt;,\n  PRIMARY KEY (id)\n);\n</code></pre>\n<p>Entity in Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@Table(&quot;articles&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder(toBuilder = true)\npublic class Article {\n\n  @PrimaryKeyColumn(name = &quot;id&quot;, ordinal = 0, type = PrimaryKeyType.PARTITIONED)\n  private UUID id;\n\n  @Column(&quot;attachments&quot;)\n  @CassandraType(type = CassandraType.Name.UDT, userTypeName = &quot;attachment_info&quot;)\n  private Set&lt;AttachmentInfo&gt; attachments = new HashSet&lt;&gt;();\n\n  @Getter\n  @Setter\n  @NoArgsConstructor\n  @AllArgsConstructor\n  @UserDefinedType(&quot;attachment_info&quot;)\n  public static class AttachmentInfo {\n    private UUID id;\n    private String fileName;\n    private String mimeType;\n    private Long sizeBytes;\n  }\n}\n</code></pre>\n<p>And saving to database:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var metadata = new Article.AttachmentInfo();\nmetadata.setFileName(&quot;Filename&quot;);\nmetadata.setId(UUID.randomUUID());\nmetadata.setMimeType(&quot;image/png&quot;);\nmetadata.setSizeBytes(12345L);\n\nvar article = new Article();\narticle.setId(UUID.randomUUID());\narticle.setAttachments(Set.of(metadata));\narticleRepository.insert(article);\n</code></pre>\n<p>Using version <code>3.2.0</code> of <code>spring-data-cassandra</code></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8615,"page":1377,"page_size":100}
