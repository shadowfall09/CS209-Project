{"items":[{"tags":["java","jasper-reports"],"comments":[{"owner":{"account_id":3427939,"reputation":732,"user_id":2873183,"accept_rate":50,"display_name":"techGaurdian"},"score":0,"creation_date":1418968398,"post_id":27486270,"comment_id":43546914,"body_markdown":"delete the old jasper file from your location and compile the jasperReport **(.jrxml file)** in IReport tool.. you will get the updated jasper file","body":"delete the old jasper file from your location and compile the jasperReport <b>(.jrxml file)</b> in IReport tool.. you will get the updated jasper file"}],"answers":[{"tags":[],"owner":{"account_id":3713321,"reputation":101,"user_id":3090074,"display_name":"user3090074"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1418870056,"creation_date":1418870056,"answer_id":27538368,"question_id":27486270,"body_markdown":"if you use a IReport for editing your .jrxml reports, you should just press the &quot;Preview&quot; button. Then the .jasper report file will be generated automatically in folder that contains the .jrxml file","title":"How to edit jasper file?","body":"<p>if you use a IReport for editing your .jrxml reports, you should just press the \"Preview\" button. Then the .jasper report file will be generated automatically in folder that contains the .jrxml file</p>\n"},{"tags":[],"owner":{"account_id":5056495,"reputation":109,"user_id":4059591,"display_name":"Unknown"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1430912848,"creation_date":1430912848,"answer_id":30075803,"question_id":27486270,"body_markdown":"To edit jasper report, you make your changes in the JRXML file. Once you build or compile your report it will generate a .jasper file which is used in your java code.","title":"How to edit jasper file?","body":"<p>To edit jasper report, you make your changes in the JRXML file. Once you build or compile your report it will generate a .jasper file which is used in your java code.</p>\n"},{"tags":[],"owner":{"account_id":10138369,"reputation":500,"user_id":7488952,"display_name":"Zendem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531135732,"creation_date":1531135732,"answer_id":51244495,"question_id":27486270,"body_markdown":"you try make dynamic report. \r\nYou do not have a location problem when you generate your own report.\r\nExample;\r\n\r\n    \r\n    public JasperDesign createDesign() throws JRException {\r\n        JasperDesign jasperDesign = new JasperDesign();\r\n        jasperDesign.setName(&quot;sampleDynamicJasperDesign&quot;);\r\n        jasperDesign.setPageWidth(595); // page width\r\n        jasperDesign.setPageHeight(842); // page height\r\n        jasperDesign.setColumnWidth(515);   // column width of page\r\n        jasperDesign.setColumnSpacing(0);\r\n        jasperDesign.setLeftMargin(40);\r\n        jasperDesign.setRightMargin(40);\r\n        jasperDesign.setTopMargin(20);\r\n        jasperDesign.setBottomMargin(20);\r\n \r\n        JRDesignExpression expression = new JRDesignExpression();\r\n \r\n        //Set style of page.\r\n        JRDesignStyle normalStyle = new JRDesignStyle();\r\n        normalStyle.setName(&quot;Sans_Normal&quot;);\r\n        normalStyle.setDefault(true);\r\n        normalStyle.setFontName(&quot;DejaVu Sans&quot;);\r\n        normalStyle.setFontSize(12);\r\n        normalStyle.setPdfFontName(&quot;Helvetica&quot;);\r\n        normalStyle.setPdfEncoding(&quot;Cp1252&quot;);\r\n        normalStyle.setPdfEmbedded(false);\r\n        jasperDesign.addStyle(normalStyle);\r\n \r\n \r\n        /*\r\n        * Generate field dynamically\r\n        * */\r\n \r\n        JRDesignField field = new JRDesignField();\r\n        field.setName(&quot;firstName&quot;);\r\n        field.setValueClass(String.class);\r\n        jasperDesign.addField(field);\r\n \r\n        field = new JRDesignField();\r\n        field.setName(&quot;lastName&quot;);  // set name for field.\r\n        field.setValueClass(String.class);  // set class for field. Its always depends upon data type which we want to get in this field.\r\n        jasperDesign.addField(field);   // Added field in design.\r\n \r\n        field = new JRDesignField();\r\n        field.setName(&quot;age&quot;);\r\n        field.setValueClass(Integer.class);\r\n        jasperDesign.addField(field);\r\n \r\n        JRDesignBand band = new JRDesignBand();\r\n \r\n        //Title Band\r\n        band = new JRDesignBand();\r\n        band.setHeight(30);\r\n \r\n \r\n        JRDesignStaticText staticText = new JRDesignStaticText();\r\n        staticText.setText(&quot;Person&#39;s Specification&quot;);\r\n        staticText.setX(0);\r\n        staticText.setY(0);\r\n        staticText.setHeight(20);\r\n        staticText.setWidth(515);\r\n        staticText.setHorizontalAlignment(HorizontalAlignEnum.CENTER);\r\n        band.addElement(staticText);\r\n        jasperDesign.setTitle(band);\r\n \r\n \r\n        band = new JRDesignBand(); // New band\r\n        band.setHeight(20); // Set band height\r\n \r\n        /*Create text field dynamically*/\r\n        JRDesignTextField textField = new JRDesignTextField();\r\n        textField.setX(0);  // x position of text field.\r\n        textField.setY(0);  // y position of text field.\r\n        textField.setWidth(160);    // set width of text field.\r\n        textField.setHeight(20);    // set height of text field.\r\n        JRDesignExpression jrExpression = new JRDesignExpression(); // new instanse of expression. We need create new instance always when need to set expression.\r\n        jrExpression.setText(&quot;&quot;&quot; + &quot;First Name: &quot; + &quot;&quot;&quot; + &quot;+&quot; + &quot;$F{firstName}&quot;); //  Added String before field in expression.\r\n        textField.setExpression(jrExpression);  // set expression value in textfield.\r\n        band.addElement(textField); // Added element in textfield.\r\n \r\n        textField = new JRDesignTextField();\r\n        textField.setX(160);\r\n        textField.setY(0);\r\n        textField.setWidth(160);\r\n        textField.setHeight(20);\r\n        jrExpression = new JRDesignExpression();\r\n        jrExpression.setText(&quot;$F{lastName}&quot; + &quot;+&quot; + &quot;&quot;&quot; + &quot; :Last Name&quot; + &quot;&quot;&quot;); // Added string after field value\r\n        textField.setExpression(jrExpression);\r\n        band.addElement(textField);\r\n \r\n        textField = new JRDesignTextField();\r\n        textField.setX(320);\r\n        textField.setY(0);\r\n        textField.setWidth(160);\r\n        textField.setHeight(20);\r\n        jrExpression = new JRDesignExpression();\r\n        String age = &quot;&quot;&quot; + &quot;&lt;font&gt;&quot; + &quot;&quot;&quot; + &quot;+&quot; + &quot;&quot;&quot; + &quot;Age is: &quot; + &quot;&quot;&quot; + &quot;+&quot; + &quot;&quot;&quot; + &quot;&lt;/font&gt;&lt;font&gt;&quot; + &quot;&quot;&quot; + &quot;+&quot; + &quot;$F{age}&quot; + &quot;+&quot; + &quot;&quot;&quot; + &quot;&lt;/font&gt;&quot; + &quot;&quot;&quot;;  // added html in text field with different color.\r\n        jrExpression.setText(age);\r\n        textField.setExpression(jrExpression);\r\n        textField.setMarkup(&quot;html&quot;); // By Default markup is none, We need to set it as html if we set expression as html.\r\n        band.addElement(textField);\r\n        ((JRDesignSection) jasperDesign.getDetailSection()).addBand(band);\r\n \r\n \r\n        return jasperDesign;\r\n    }","title":"How to edit jasper file?","body":"<p>you try make dynamic report. \nYou do not have a location problem when you generate your own report.\nExample;</p>\n\n<pre><code>public JasperDesign createDesign() throws JRException {\n    JasperDesign jasperDesign = new JasperDesign();\n    jasperDesign.setName(\"sampleDynamicJasperDesign\");\n    jasperDesign.setPageWidth(595); // page width\n    jasperDesign.setPageHeight(842); // page height\n    jasperDesign.setColumnWidth(515);   // column width of page\n    jasperDesign.setColumnSpacing(0);\n    jasperDesign.setLeftMargin(40);\n    jasperDesign.setRightMargin(40);\n    jasperDesign.setTopMargin(20);\n    jasperDesign.setBottomMargin(20);\n\n    JRDesignExpression expression = new JRDesignExpression();\n\n    //Set style of page.\n    JRDesignStyle normalStyle = new JRDesignStyle();\n    normalStyle.setName(\"Sans_Normal\");\n    normalStyle.setDefault(true);\n    normalStyle.setFontName(\"DejaVu Sans\");\n    normalStyle.setFontSize(12);\n    normalStyle.setPdfFontName(\"Helvetica\");\n    normalStyle.setPdfEncoding(\"Cp1252\");\n    normalStyle.setPdfEmbedded(false);\n    jasperDesign.addStyle(normalStyle);\n\n\n    /*\n    * Generate field dynamically\n    * */\n\n    JRDesignField field = new JRDesignField();\n    field.setName(\"firstName\");\n    field.setValueClass(String.class);\n    jasperDesign.addField(field);\n\n    field = new JRDesignField();\n    field.setName(\"lastName\");  // set name for field.\n    field.setValueClass(String.class);  // set class for field. Its always depends upon data type which we want to get in this field.\n    jasperDesign.addField(field);   // Added field in design.\n\n    field = new JRDesignField();\n    field.setName(\"age\");\n    field.setValueClass(Integer.class);\n    jasperDesign.addField(field);\n\n    JRDesignBand band = new JRDesignBand();\n\n    //Title Band\n    band = new JRDesignBand();\n    band.setHeight(30);\n\n\n    JRDesignStaticText staticText = new JRDesignStaticText();\n    staticText.setText(\"Person's Specification\");\n    staticText.setX(0);\n    staticText.setY(0);\n    staticText.setHeight(20);\n    staticText.setWidth(515);\n    staticText.setHorizontalAlignment(HorizontalAlignEnum.CENTER);\n    band.addElement(staticText);\n    jasperDesign.setTitle(band);\n\n\n    band = new JRDesignBand(); // New band\n    band.setHeight(20); // Set band height\n\n    /*Create text field dynamically*/\n    JRDesignTextField textField = new JRDesignTextField();\n    textField.setX(0);  // x position of text field.\n    textField.setY(0);  // y position of text field.\n    textField.setWidth(160);    // set width of text field.\n    textField.setHeight(20);    // set height of text field.\n    JRDesignExpression jrExpression = new JRDesignExpression(); // new instanse of expression. We need create new instance always when need to set expression.\n    jrExpression.setText(\"\"\" + \"First Name: \" + \"\"\" + \"+\" + \"$F{firstName}\"); //  Added String before field in expression.\n    textField.setExpression(jrExpression);  // set expression value in textfield.\n    band.addElement(textField); // Added element in textfield.\n\n    textField = new JRDesignTextField();\n    textField.setX(160);\n    textField.setY(0);\n    textField.setWidth(160);\n    textField.setHeight(20);\n    jrExpression = new JRDesignExpression();\n    jrExpression.setText(\"$F{lastName}\" + \"+\" + \"\"\" + \" :Last Name\" + \"\"\"); // Added string after field value\n    textField.setExpression(jrExpression);\n    band.addElement(textField);\n\n    textField = new JRDesignTextField();\n    textField.setX(320);\n    textField.setY(0);\n    textField.setWidth(160);\n    textField.setHeight(20);\n    jrExpression = new JRDesignExpression();\n    String age = \"\"\" + \"&lt;font&gt;\" + \"\"\" + \"+\" + \"\"\" + \"Age is: \" + \"\"\" + \"+\" + \"\"\" + \"&lt;/font&gt;&lt;font&gt;\" + \"\"\" + \"+\" + \"$F{age}\" + \"+\" + \"\"\" + \"&lt;/font&gt;\" + \"\"\";  // added html in text field with different color.\n    jrExpression.setText(age);\n    textField.setExpression(jrExpression);\n    textField.setMarkup(\"html\"); // By Default markup is none, We need to set it as html if we set expression as html.\n    band.addElement(textField);\n    ((JRDesignSection) jasperDesign.getDetailSection()).addBand(band);\n\n\n    return jasperDesign;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18937834,"reputation":151,"user_id":13818534,"display_name":"Jestin Wilson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670225449,"creation_date":1670225449,"answer_id":74684687,"question_id":27486270,"body_markdown":"You can compile a .jrxml in Project Explorer window of Jaspersoft Studio. For that first find your .jrxml report and rightclick on it. In context menu choose &#39;Compile report&#39;. Then you get compiled .jasper report.","title":"How to edit jasper file?","body":"<p>You can compile a .jrxml in Project Explorer window of Jaspersoft Studio. For that first find your .jrxml report and rightclick on it. In context menu choose 'Compile report'. Then you get compiled .jasper report.</p>\n"}],"owner":{"account_id":5488654,"reputation":21,"user_id":4362689,"display_name":"udhay kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14161,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1670225449,"creation_date":1418653654,"question_id":27486270,"body_markdown":"I am editing .jasper file using report tool. I am changing the alignment for parameter left to centre then i save that file. it generates the &quot;jrxml&quot; file also. in my Java code I can pass the .jasper location to print some items. but my changes not affect and the old design remains same..\r\n\r\nHelp me , How can I edit and save .jasper???\r\n\r\n\r\npublic static JasperPrint createRefundPrint(Ticket ticket, HashMap map) throws Exception {\r\n\t\tfinal String FILE_RECEIPT_REPORT = &quot;/com/floreantpos/report/template/RefundReceipt.jasper&quot;;\r\n\r\n\t\tTicketDataSource dataSource = new TicketDataSource(ticket);\r\n\t\treturn createJasperPrint(FILE_RECEIPT_REPORT, map, new JRTableModelDataSource(dataSource));\r\n\t}","title":"How to edit jasper file?","body":"<p>I am editing .jasper file using report tool. I am changing the alignment for parameter left to centre then i save that file. it generates the \"jrxml\" file also. in my Java code I can pass the .jasper location to print some items. but my changes not affect and the old design remains same..</p>\n\n<p>Help me , How can I edit and save .jasper???</p>\n\n<p>public static JasperPrint createRefundPrint(Ticket ticket, HashMap map) throws Exception {\n        final String FILE_RECEIPT_REPORT = \"/com/floreantpos/report/template/RefundReceipt.jasper\";</p>\n\n<pre><code>    TicketDataSource dataSource = new TicketDataSource(ticket);\n    return createJasperPrint(FILE_RECEIPT_REPORT, map, new JRTableModelDataSource(dataSource));\n}\n</code></pre>\n"},{"tags":["java","android","c++","yuv","nv12-nv21"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1669974390,"post_id":74653288,"comment_id":131769549,"body_markdown":"Can you separate the 10 ms in three? Until the for loop. And of both for loops. We wanna know where to look first.","body":"Can you separate the 10 ms in three? Until the for loop. And of both for loops. We wanna know where to look first."},{"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"score":1,"creation_date":1669974490,"post_id":74653288,"comment_id":131769580,"body_markdown":"I&#39;ve been working on similar topic (conversion+rotation) for few weeks and my advice is: just forget writing own methods, native or Java, just use [libyuv](https://chromium.googlesource.com/libyuv/libyuv/) (well, &quot;just&quot; is wrong word in here, I&#39;ve been struggling with this lib implementation for long, but got it work, performance 4x time faster than fastest of previously tried solutions for my problems)","body":"I&#39;ve been working on similar topic (conversion+rotation) for few weeks and my advice is: just forget writing own methods, native or Java, just use <a href=\"https://chromium.googlesource.com/libyuv/libyuv/\" rel=\"nofollow noreferrer\">libyuv</a> (well, &quot;just&quot; is wrong word in here, I&#39;ve been struggling with this lib implementation for long, but got it work, performance 4x time faster than fastest of previously tried solutions for my problems)"}],"answers":[{"tags":[],"owner":{"account_id":11042694,"reputation":805,"user_id":8110010,"accept_rate":89,"display_name":"Finley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670225305,"creation_date":1670042716,"answer_id":74664054,"question_id":74653288,"body_markdown":"As @snachmsm said libyuv might help. I found an available API [`I420ToNV21`](https://chromium.googlesource.com/libyuv/libyuv/+/refs/heads/stable/include/libyuv/convert_from.h#116), But it cannot receive [pixelStride](https://developer.android.com/reference/android/media/Image.Plane#getPixelStride()) parameter, for `YUV_420_888` does not guarantee no gaps exist between adjacent pixels in U,V planes.   \r\nI accelerated it successfully with arm intrinsics when the pixelStride is 2(**reduce to 2.7ms per frame**):\r\n```cpp\r\nJNIEXPORT void JNICALL\r\nJava_com_example_Utils_nFillYUVArray(JNIEnv *env, jclass clazz, jbyteArray yArr, jbyteArray uvArr,\r\n                                                 jobject yBuf, jobject uBuf, jobject vBuf,\r\n                                                 jint yRowStride, jint vRowStride, jint uRowStride, jint pixelStride,\r\n                                                 jint width, jint height) {\r\n    ///TODO: too time-consuming\r\n    auto ySrcPtr = (jbyte const*)env-&gt;GetDirectBufferAddress(yBuf);\r\n    auto uSrcPtr = (jbyte const*)env-&gt;GetDirectBufferAddress(uBuf);\r\n    auto vSrcPtr = (jbyte const*)env-&gt;GetDirectBufferAddress(vBuf);\r\n\r\n    for(int row = 0; row &lt; height; row++){\r\n        env-&gt;SetByteArrayRegion(yArr, row * width, width, ySrcPtr + row * yRowStride);\r\n    }\r\n\r\n    constexpr int kStride = 8;\r\n    const size_t nGroups = width / kStride;\r\n    if(pixelStride == 2){\r\n        int8_t *line = (int8_t*)alignedAlloc(width, 64);\r\n        int8_t *mask = (int8_t*)alignedAlloc(kStride, 64);\r\n        memset(mask, 0, kStride);\r\n        for(int i=0; i &lt; kStride / 2; i++) {\r\n            mask[i * 2] = -1;\r\n        }\r\n        int8x8_t vm = vld1_s8(mask);\r\n\r\n        for(int row = 0; row &lt; height / 2; row ++){\r\n            size_t vrowOff = row * vRowStride;\r\n            size_t urowOff = row * uRowStride;\r\n            for(int g = 0; g &lt; nGroups; g++) {\r\n                size_t colOff = g * kStride;\r\n                int8x8_t v0  = vld1_s8(vSrcPtr + vrowOff + colOff);\r\n                int8x8_t v1  = vld1_s8(uSrcPtr + urowOff + colOff);\r\n                int8x8_t a0  = vand_s8(v0, vm);\r\n                int16x4_t b1 = vreinterpret_s16_s8(vand_s8(v1, vm));\r\n                int8x8_t a1  = vreinterpret_s8_s16(vshl_n_s16(b1, 8));\r\n                int8x8_t r = vorr_s8(a0, a1);\r\n                vst1_s8(line + colOff, r);\r\n            }\r\n            env-&gt;SetByteArrayRegion(uvArr, row * width, width, line);\r\n        }\r\n\r\n        free(mask);\r\n        free(line);\r\n    }else if(pixelStride == 1){\r\n        int8_t *line = (int8_t*)alignedAlloc(width, 64);\r\n        for(int row = 0; row &lt; height / 2; row ++) {\r\n            size_t vrowOff = row * vRowStride;\r\n            size_t urowOff = row * uRowStride;\r\n            for(int g = 0; g &lt; nGroups / 2; g++){\r\n                size_t colOff = g * kStride;\r\n                int8x8_t v0 = vld1_s8(vSrcPtr + vrowOff + colOff);\r\n                int8x8_t v1 = vld1_s8(uSrcPtr + urowOff + colOff);\r\n                int8x8x2_t vz = vzip_s8(v0, v1);\r\n\r\n                vst1_s8(line + colOff, vz.val[0]);\r\n                vst1_s8(line + colOff + kStride, vz.val[1]);\r\n            }\r\n\r\n            env-&gt;SetByteArrayRegion(uvArr, row * width, width, line);\r\n        }\r\n        free(line);\r\n    }\r\n}\r\n```\r\n**Case of `pixelStride == 1` is not tested sufficiently**, but I believe it will work as expected. ","title":"How to do fast memory copy from YUV_420_888 to NV21","body":"<p>As @snachmsm said libyuv might help. I found an available API <a href=\"https://chromium.googlesource.com/libyuv/libyuv/+/refs/heads/stable/include/libyuv/convert_from.h#116\" rel=\"nofollow noreferrer\"><code>I420ToNV21</code></a>, But it cannot receive <a href=\"https://developer.android.com/reference/android/media/Image.Plane#getPixelStride()\" rel=\"nofollow noreferrer\">pixelStride</a> parameter, for <code>YUV_420_888</code> does not guarantee no gaps exist between adjacent pixels in U,V planes.<br />\nI accelerated it successfully with arm intrinsics when the pixelStride is 2(<strong>reduce to 2.7ms per frame</strong>):</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>JNIEXPORT void JNICALL\nJava_com_example_Utils_nFillYUVArray(JNIEnv *env, jclass clazz, jbyteArray yArr, jbyteArray uvArr,\n                                                 jobject yBuf, jobject uBuf, jobject vBuf,\n                                                 jint yRowStride, jint vRowStride, jint uRowStride, jint pixelStride,\n                                                 jint width, jint height) {\n    ///TODO: too time-consuming\n    auto ySrcPtr = (jbyte const*)env-&gt;GetDirectBufferAddress(yBuf);\n    auto uSrcPtr = (jbyte const*)env-&gt;GetDirectBufferAddress(uBuf);\n    auto vSrcPtr = (jbyte const*)env-&gt;GetDirectBufferAddress(vBuf);\n\n    for(int row = 0; row &lt; height; row++){\n        env-&gt;SetByteArrayRegion(yArr, row * width, width, ySrcPtr + row * yRowStride);\n    }\n\n    constexpr int kStride = 8;\n    const size_t nGroups = width / kStride;\n    if(pixelStride == 2){\n        int8_t *line = (int8_t*)alignedAlloc(width, 64);\n        int8_t *mask = (int8_t*)alignedAlloc(kStride, 64);\n        memset(mask, 0, kStride);\n        for(int i=0; i &lt; kStride / 2; i++) {\n            mask[i * 2] = -1;\n        }\n        int8x8_t vm = vld1_s8(mask);\n\n        for(int row = 0; row &lt; height / 2; row ++){\n            size_t vrowOff = row * vRowStride;\n            size_t urowOff = row * uRowStride;\n            for(int g = 0; g &lt; nGroups; g++) {\n                size_t colOff = g * kStride;\n                int8x8_t v0  = vld1_s8(vSrcPtr + vrowOff + colOff);\n                int8x8_t v1  = vld1_s8(uSrcPtr + urowOff + colOff);\n                int8x8_t a0  = vand_s8(v0, vm);\n                int16x4_t b1 = vreinterpret_s16_s8(vand_s8(v1, vm));\n                int8x8_t a1  = vreinterpret_s8_s16(vshl_n_s16(b1, 8));\n                int8x8_t r = vorr_s8(a0, a1);\n                vst1_s8(line + colOff, r);\n            }\n            env-&gt;SetByteArrayRegion(uvArr, row * width, width, line);\n        }\n\n        free(mask);\n        free(line);\n    }else if(pixelStride == 1){\n        int8_t *line = (int8_t*)alignedAlloc(width, 64);\n        for(int row = 0; row &lt; height / 2; row ++) {\n            size_t vrowOff = row * vRowStride;\n            size_t urowOff = row * uRowStride;\n            for(int g = 0; g &lt; nGroups / 2; g++){\n                size_t colOff = g * kStride;\n                int8x8_t v0 = vld1_s8(vSrcPtr + vrowOff + colOff);\n                int8x8_t v1 = vld1_s8(uSrcPtr + urowOff + colOff);\n                int8x8x2_t vz = vzip_s8(v0, v1);\n\n                vst1_s8(line + colOff, vz.val[0]);\n                vst1_s8(line + colOff + kStride, vz.val[1]);\n            }\n\n            env-&gt;SetByteArrayRegion(uvArr, row * width, width, line);\n        }\n        free(line);\n    }\n}\n</code></pre>\n<p><strong>Case of <code>pixelStride == 1</code> is not tested sufficiently</strong>, but I believe it will work as expected.</p>\n"}],"owner":{"account_id":11042694,"reputation":805,"user_id":8110010,"accept_rate":89,"display_name":"Finley"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":491,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1670225305,"creation_date":1669972271,"question_id":74653288,"body_markdown":"Refer to this [post](https://stackoverflow.com/questions/52726002/camera2-captured-picture-conversion-from-yuv-420-888-to-nv21/52740776#52740776), I want to write a method converting android [YUV_420_888](https://developer.android.com/reference/android/graphics/ImageFormat#YUV_420_888) to nv21. A more general implementation is needed although image from camera2 API is default NV21 in disguise. It is as follows:\r\n```java\r\nclass NV21Image{\r\npublic byte[] y;\r\npublic byte[] uv;\r\n}\r\n\r\npublic static void cvtYUV420ToNV21(Image image, NV21Image nv21) {\r\n        int width  = image.getWidth();\r\n        int height = image.getHeight();\r\n        int ySize  = width*height;\r\n        ByteBuffer yBuffer = image.getPlanes()[0].getBuffer(); // Y\r\n        ByteBuffer uBuffer = image.getPlanes()[1].getBuffer(); // U\r\n        ByteBuffer vBuffer = image.getPlanes()[2].getBuffer(); // V\r\n\r\n        int yRowStride = image.getPlanes()[0].getRowStride();\r\n        int vRowStride = image.getPlanes()[2].getRowStride();\r\n        int pixelStride = image.getPlanes()[2].getPixelStride();\r\n        assert(image.getPlanes()[0].getPixelStride() == 1);\r\n        assert(image.getPlanes()[2].getRowStride() == image.getPlanes()[1].getRowStride());\r\n        assert(image.getPlanes()[2].getPixelStride() == image.getPlanes()[1].getPixelStride());\r\n\r\n        int pos = 0;\r\n        int yBufferPos = -yRowStride; // not an actual position\r\n        for (; pos&lt;ySize; pos+=width) {\r\n            yBufferPos += yRowStride;\r\n            yBuffer.position(yBufferPos);\r\n            yBuffer.get(nv21.y, pos, width);\r\n        }\r\n\r\n        pos = 0;\r\n        for (int row=0; row&lt;height/2; row++) {\r\n            for (int col=0; col&lt;vRowStride / pixelStride; col++) {\r\n                int vuPos = col*pixelStride + row * vRowStride;\r\n                nv21.uv[pos++] = vBuffer.get(vuPos);\r\n                nv21.uv[pos++] = uBuffer.get(vuPos);\r\n            }\r\n        }\r\n}\r\n```\r\nAbove codes work as expected while very time-consuming for my live camera preview app(about 12ms per frame of 720p in Snapdragon 865 CPU), So I tried to accelerate it with JNI implementation to take profit from the byte-access and performance advantages:\r\n```cpp\r\nJNIEXPORT void JNICALL\r\nJava_com_example_Utils_nFillYUVArray(JNIEnv *env, jclass clazz, jbyteArray yArr, jbyteArray uvArr,\r\n                                                 jobject yBuf, jobject uBuf, jobject vBuf,\r\n                                                 jint yRowStride, jint vRowStride, jint vPixelStride, jint w, jint h) {\r\n    auto ySrcPtr = (jbyte const*)env-&gt;GetDirectBufferAddress(yBuf);\r\n    auto uSrcPtr = (jbyte const*)env-&gt;GetDirectBufferAddress(uBuf);\r\n    auto vSrcPtr = (jbyte const*)env-&gt;GetDirectBufferAddress(vBuf);\r\n\r\n    for(int row = 0; row &lt; h; row++){\r\n        env-&gt;SetByteArrayRegion(yArr, row * w, w, ySrcPtr + row * yRowStride);\r\n    }\r\n\r\n    int pos = 0;\r\n    for (int row=0; row&lt;h/2; row++) {\r\n        for (int col=0; col&lt;w/2; col++) {\r\n            int vuPos = col * vPixelStride + row * vRowStride;\r\n            env-&gt;SetByteArrayRegion(uvArr, pos++, 1, vSrcPtr + vuPos);\r\n            env-&gt;SetByteArrayRegion(uvArr, pos++, 1, uSrcPtr + vuPos);\r\n        }\r\n    }\r\n}\r\n```\r\nHowever, it get worse than I expected(about 107ms per frame). **And the most time-consuming part is interlaced memory copying for UV buffer**  \r\nSo my problem is Whether any ways to accelerate and how to work it out?\r\n\r\n**Update**  \r\nI accelerated it successfully(check my [answer](https://stackoverflow.com/a/74664054/8110010)) when `pixelStride`s of U,V plane are both 1 or 2, I believe it is what happening in most cases.","title":"How to do fast memory copy from YUV_420_888 to NV21","body":"<p>Refer to this <a href=\"https://stackoverflow.com/questions/52726002/camera2-captured-picture-conversion-from-yuv-420-888-to-nv21/52740776#52740776\">post</a>, I want to write a method converting android <a href=\"https://developer.android.com/reference/android/graphics/ImageFormat#YUV_420_888\" rel=\"nofollow noreferrer\">YUV_420_888</a> to nv21. A more general implementation is needed although image from camera2 API is default NV21 in disguise. It is as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class NV21Image{\npublic byte[] y;\npublic byte[] uv;\n}\n\npublic static void cvtYUV420ToNV21(Image image, NV21Image nv21) {\n        int width  = image.getWidth();\n        int height = image.getHeight();\n        int ySize  = width*height;\n        ByteBuffer yBuffer = image.getPlanes()[0].getBuffer(); // Y\n        ByteBuffer uBuffer = image.getPlanes()[1].getBuffer(); // U\n        ByteBuffer vBuffer = image.getPlanes()[2].getBuffer(); // V\n\n        int yRowStride = image.getPlanes()[0].getRowStride();\n        int vRowStride = image.getPlanes()[2].getRowStride();\n        int pixelStride = image.getPlanes()[2].getPixelStride();\n        assert(image.getPlanes()[0].getPixelStride() == 1);\n        assert(image.getPlanes()[2].getRowStride() == image.getPlanes()[1].getRowStride());\n        assert(image.getPlanes()[2].getPixelStride() == image.getPlanes()[1].getPixelStride());\n\n        int pos = 0;\n        int yBufferPos = -yRowStride; // not an actual position\n        for (; pos&lt;ySize; pos+=width) {\n            yBufferPos += yRowStride;\n            yBuffer.position(yBufferPos);\n            yBuffer.get(nv21.y, pos, width);\n        }\n\n        pos = 0;\n        for (int row=0; row&lt;height/2; row++) {\n            for (int col=0; col&lt;vRowStride / pixelStride; col++) {\n                int vuPos = col*pixelStride + row * vRowStride;\n                nv21.uv[pos++] = vBuffer.get(vuPos);\n                nv21.uv[pos++] = uBuffer.get(vuPos);\n            }\n        }\n}\n</code></pre>\n<p>Above codes work as expected while very time-consuming for my live camera preview app(about 12ms per frame of 720p in Snapdragon 865 CPU), So I tried to accelerate it with JNI implementation to take profit from the byte-access and performance advantages:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>JNIEXPORT void JNICALL\nJava_com_example_Utils_nFillYUVArray(JNIEnv *env, jclass clazz, jbyteArray yArr, jbyteArray uvArr,\n                                                 jobject yBuf, jobject uBuf, jobject vBuf,\n                                                 jint yRowStride, jint vRowStride, jint vPixelStride, jint w, jint h) {\n    auto ySrcPtr = (jbyte const*)env-&gt;GetDirectBufferAddress(yBuf);\n    auto uSrcPtr = (jbyte const*)env-&gt;GetDirectBufferAddress(uBuf);\n    auto vSrcPtr = (jbyte const*)env-&gt;GetDirectBufferAddress(vBuf);\n\n    for(int row = 0; row &lt; h; row++){\n        env-&gt;SetByteArrayRegion(yArr, row * w, w, ySrcPtr + row * yRowStride);\n    }\n\n    int pos = 0;\n    for (int row=0; row&lt;h/2; row++) {\n        for (int col=0; col&lt;w/2; col++) {\n            int vuPos = col * vPixelStride + row * vRowStride;\n            env-&gt;SetByteArrayRegion(uvArr, pos++, 1, vSrcPtr + vuPos);\n            env-&gt;SetByteArrayRegion(uvArr, pos++, 1, uSrcPtr + vuPos);\n        }\n    }\n}\n</code></pre>\n<p>However, it get worse than I expected(about 107ms per frame). <strong>And the most time-consuming part is interlaced memory copying for UV buffer</strong><br />\nSo my problem is Whether any ways to accelerate and how to work it out?</p>\n<p><strong>Update</strong><br />\nI accelerated it successfully(check my <a href=\"https://stackoverflow.com/a/74664054/8110010\">answer</a>) when <code>pixelStride</code>s of U,V plane are both 1 or 2, I believe it is what happening in most cases.</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1650010818,"post_id":71881547,"comment_id":127021611,"body_markdown":"try adding `@OneToOne(cascade = {CascadeType.MERGE, CascadeType.PERSIST})` or `@OneToOne(cascade = CascadeType.ALL)` above `private Feature feature;`","body":"try adding <code>@OneToOne(cascade = {CascadeType.MERGE, CascadeType.PERSIST})</code> or <code>@OneToOne(cascade = CascadeType.ALL)</code> above <code>private Feature feature;</code>"},{"owner":{"account_id":8455866,"reputation":197,"user_id":6343186,"display_name":"TranceAddict"},"score":0,"creation_date":1650012080,"post_id":71881547,"comment_id":127021871,"body_markdown":"@PanagiotisBougioukos tried but nothing changed. It still gives same warning.","body":"@PanagiotisBougioukos tried but nothing changed. It still gives same warning."}],"answers":[{"tags":[],"owner":{"account_id":24944979,"reputation":1,"user_id":18810401,"display_name":"S Banerjee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650017916,"creation_date":1650017916,"answer_id":71882828,"question_id":71881547,"body_markdown":"Try this if it works\r\n\r\n    @Entity(mutable = &quot;true&quot;)","title":"Cannot update entity with JPA because the @onetoone dependent property is immutable but there is no @immutable annotation","body":"<p>Try this if it works</p>\n<pre><code>@Entity(mutable = &quot;true&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27096482,"reputation":11,"user_id":20643649,"display_name":"A B"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670225237,"creation_date":1669800874,"answer_id":74625500,"question_id":71881547,"body_markdown":"Add `cascade=CascadeType.ALL` to your Entity relationShip in this relationShip \r\n\r\n    @OneToOne\r\n    @MapsId\r\n    private Feature feature;\r\n\r\n, it will make the entity mutable","title":"Cannot update entity with JPA because the @onetoone dependent property is immutable but there is no @immutable annotation","body":"<p>Add <code>cascade=CascadeType.ALL</code> to your Entity relationShip in this relationShip</p>\n<pre><code>@OneToOne\n@MapsId\nprivate Feature feature;\n</code></pre>\n<p>, it will make the entity mutable</p>\n"}],"owner":{"account_id":8455866,"reputation":197,"user_id":6343186,"display_name":"TranceAddict"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2196,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1670225237,"creation_date":1650009910,"question_id":71881547,"body_markdown":"I want to update rows:\r\n\r\n```\r\n @PutMapping(value = &quot;/updateEdits&quot;)\r\n    @Transactional\r\n    public void updateGeometry(@RequestBody List&lt;Geometry&gt; values){\r\n\r\n        geometryRepository.saveAll(values);\r\n    }\r\n```\r\nBut it does not work.\r\n\r\n&gt;WARN 12400 --- [nio-8080-exec-8] o.h.p.entity.AbstractEntityPersister     : HHH000502: The [feature] property of the [com.samm.fiberplanner.entity.Geometry] entity was modified, but it won&#39;t be updated because the property is immutable.\r\n\r\nReleated entities:\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@ToString\r\n@RequiredArgsConstructor\r\n@Entity\r\npublic class Geometry {\r\n    @Id\r\n    private Long gId;\r\n\r\n    private String type;\r\n\r\n    @Column(columnDefinition = &quot;TEXT&quot;)\r\n    private String coordinates;\r\n\r\n    @OneToOne\r\n    @MapsId\r\n    private Feature feature;\r\n\r\n}\r\n\r\n@Getter\r\n@Setter\r\n@ToString\r\n@RequiredArgsConstructor\r\n@Entity\r\npublic class Feature {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long fId;\r\n    private String type;\r\n    @ToString.Exclude\r\n    @OneToOne(mappedBy = &quot;feature&quot;,cascade = CascadeType.ALL)\r\n    private Properties properties;\r\n    @ToString.Exclude\r\n    @OneToOne(mappedBy = &quot;feature&quot;,cascade = CascadeType.ALL)\r\n    private Geometry geometry;\r\n    @ToString.Exclude\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;geo_json_id&quot;)\r\n    private GeoJson geoJson;\r\n}\r\n```\r\n\r\nWhy is [feature] property is immutable? How can i update the table?\r\n\r\n\r\n","title":"Cannot update entity with JPA because the @onetoone dependent property is immutable but there is no @immutable annotation","body":"<p>I want to update rows:</p>\n<pre><code> @PutMapping(value = &quot;/updateEdits&quot;)\n    @Transactional\n    public void updateGeometry(@RequestBody List&lt;Geometry&gt; values){\n\n        geometryRepository.saveAll(values);\n    }\n</code></pre>\n<p>But it does not work.</p>\n<blockquote>\n<p>WARN 12400 --- [nio-8080-exec-8] o.h.p.entity.AbstractEntityPersister     : HHH000502: The [feature] property of the [com.samm.fiberplanner.entity.Geometry] entity was modified, but it won't be updated because the property is immutable.</p>\n</blockquote>\n<p>Releated entities:</p>\n<pre><code>@Getter\n@Setter\n@ToString\n@RequiredArgsConstructor\n@Entity\npublic class Geometry {\n    @Id\n    private Long gId;\n\n    private String type;\n\n    @Column(columnDefinition = &quot;TEXT&quot;)\n    private String coordinates;\n\n    @OneToOne\n    @MapsId\n    private Feature feature;\n\n}\n\n@Getter\n@Setter\n@ToString\n@RequiredArgsConstructor\n@Entity\npublic class Feature {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long fId;\n    private String type;\n    @ToString.Exclude\n    @OneToOne(mappedBy = &quot;feature&quot;,cascade = CascadeType.ALL)\n    private Properties properties;\n    @ToString.Exclude\n    @OneToOne(mappedBy = &quot;feature&quot;,cascade = CascadeType.ALL)\n    private Geometry geometry;\n    @ToString.Exclude\n    @ManyToOne\n    @JoinColumn(name = &quot;geo_json_id&quot;)\n    private GeoJson geoJson;\n}\n</code></pre>\n<p>Why is [feature] property is immutable? How can i update the table?</p>\n"},{"tags":["java","android","android-viewpager","android-tablayout"],"owner":{"account_id":25541640,"reputation":63,"user_id":19327593,"display_name":"Prasanth J"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670225065,"creation_date":1670225065,"question_id":74684607,"body_markdown":"In View pager Tab Layout, when ever I have single tab, tab heading is not coming to center and tab indicator  is not occupying whole layout, but when there is more than 1 tabs its dividing and occupying whole. I have used custom tab layout class.\r\n\r\nMy custom tab layout code is :-\r\n\r\n\r\n\r\npublic class OPTCustomTab extends TabLayout {\r\n\r\n    public OPTCustomTab(Context context) {\r\n        super(context);\r\n    }\r\n\r\n    public OPTCustomTab(Context context, AttributeSet attrs) {\r\n        super(context, attrs);\r\n    }\r\n\r\n    public OPTCustomTab(Context context, AttributeSet attrs, int defStyleAttr) {\r\n        super(context, attrs, defStyleAttr);\r\n    }\r\n\r\n    @Override\r\n    protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\r\n\r\n        ViewGroup tabLayout = (ViewGroup) getChildAt(0);\r\n        int childCount = tabLayout.getChildCount();\r\n\r\n        if (childCount != 0) {\r\n            DisplayMetrics displayMetrics = getContext().getResources().getDisplayMetrics();\r\n            int tabMinWidth = displayMetrics.widthPixels / childCount;\r\n\r\n            for (int i = 0; i &lt; childCount; ++i) {\r\n                tabLayout.getChildAt(i).setMinimumWidth(tabMinWidth);\r\n            }\r\n        }\r\n\r\n        super.onMeasure(widthMeasureSpec, heightMeasureSpec);\r\n    }\r\n}\r\n\r\n\r\nI have tried giving this, \r\n\r\n  app:tabMaxWidth=&quot;0dp&quot;\r\n  app:tabGravity=&quot;fill&quot;\r\n\r\n","title":"In View pager Tab Layout, tab heading is not coming to center and tab indicator is not occupying whole layout","body":"<p>In View pager Tab Layout, when ever I have single tab, tab heading is not coming to center and tab indicator  is not occupying whole layout, but when there is more than 1 tabs its dividing and occupying whole. I have used custom tab layout class.</p>\n<p>My custom tab layout code is :-</p>\n<p>public class OPTCustomTab extends TabLayout {</p>\n<pre><code>public OPTCustomTab(Context context) {\n    super(context);\n}\n\npublic OPTCustomTab(Context context, AttributeSet attrs) {\n    super(context, attrs);\n}\n\npublic OPTCustomTab(Context context, AttributeSet attrs, int defStyleAttr) {\n    super(context, attrs, defStyleAttr);\n}\n\n@Override\nprotected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\n\n    ViewGroup tabLayout = (ViewGroup) getChildAt(0);\n    int childCount = tabLayout.getChildCount();\n\n    if (childCount != 0) {\n        DisplayMetrics displayMetrics = getContext().getResources().getDisplayMetrics();\n        int tabMinWidth = displayMetrics.widthPixels / childCount;\n\n        for (int i = 0; i &lt; childCount; ++i) {\n            tabLayout.getChildAt(i).setMinimumWidth(tabMinWidth);\n        }\n    }\n\n    super.onMeasure(widthMeasureSpec, heightMeasureSpec);\n}\n</code></pre>\n<p>}</p>\n<p>I have tried giving this,</p>\n<p>app:tabMaxWidth=&quot;0dp&quot;\napp:tabGravity=&quot;fill&quot;</p>\n"},{"tags":["java","xml","xsd","jaxb"],"answers":[{"tags":[],"owner":{"account_id":179146,"reputation":2938,"user_id":411602,"accept_rate":83,"display_name":"Sheetal Mohan Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1434548010,"creation_date":1434548010,"answer_id":30893195,"question_id":30892934,"body_markdown":"You can change your schema to add **name** then generate the pojo of Name &quot;designEnum&quot;.\r\n\r\n      &lt;xsd:simpleType name=&quot;designEnum&quot;&gt;\r\n            &lt;xsd:restriction base=&quot;xsd:string&quot;&gt;\r\n                &lt;xsd:enumeration value=&quot;Design1&quot;/&gt;\r\n                &lt;xsd:enumeration value=&quot;Design2&quot;/&gt;\r\n            &lt;/xsd:restriction&gt;\r\n        &lt;/xsd:simpleType&gt;\r\n\r\n// Enum\r\n\r\n    import javax.xml.bind.annotation.*;\r\n    @XmlType(name = &quot;designEnum&quot;)\r\n    @XmlEnum\r\n    public enum DesignEnum {\r\n    \r\n        Design1,\r\n        Design1;\r\n    \r\n        public String value() {\r\n            return name();\r\n        }\r\n    \r\n        public static DesignEnum fromValue(String v) {\r\n            return valueOf(v);\r\n        }\r\n    \r\n    }","title":"Cannot generated enumeration class using JAXB","body":"<p>You can change your schema to add <strong>name</strong> then generate the pojo of Name \"designEnum\".</p>\n\n<pre><code>  &lt;xsd:simpleType name=\"designEnum\"&gt;\n        &lt;xsd:restriction base=\"xsd:string\"&gt;\n            &lt;xsd:enumeration value=\"Design1\"/&gt;\n            &lt;xsd:enumeration value=\"Design2\"/&gt;\n        &lt;/xsd:restriction&gt;\n    &lt;/xsd:simpleType&gt;\n</code></pre>\n\n<p>// Enum</p>\n\n<pre><code>import javax.xml.bind.annotation.*;\n@XmlType(name = \"designEnum\")\n@XmlEnum\npublic enum DesignEnum {\n\n    Design1,\n    Design1;\n\n    public String value() {\n        return name();\n    }\n\n    public static DesignEnum fromValue(String v) {\n        return valueOf(v);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5531047,"reputation":860,"user_id":4391003,"display_name":"fantarama"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1434548078,"creation_date":1434548078,"answer_id":30893223,"question_id":30892934,"body_markdown":"xsd restrictions aren&#39;t an enum, if you use enum you will have problem with marshalling. You can add a custom behavior to jaxb code generator and add validation on setTransactionCode method.\r\n\r\nLook at this article https://jaxb.java.net/guide/Adding_behaviors.html","title":"Cannot generated enumeration class using JAXB","body":"<p>xsd restrictions aren't an enum, if you use enum you will have problem with marshalling. You can add a custom behavior to jaxb code generator and add validation on setTransactionCode method.</p>\n\n<p>Look at this article <a href=\"https://jaxb.java.net/guide/Adding_behaviors.html\" rel=\"nofollow\">https://jaxb.java.net/guide/Adding_behaviors.html</a></p>\n"},{"tags":[],"owner":{"account_id":1669688,"reputation":2200,"user_id":1536382,"display_name":"Testo Testini"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1434548408,"creation_date":1434548408,"answer_id":30893361,"question_id":30892934,"body_markdown":"It looks like unions are not well supported https://jaxb.java.net/tutorial/section_2_2_10-Defining-a-Type-Union.html\r\n\r\nIf you could modify the schema you could extract the enumerated anonymous simple type to a named type and then use in your code the Java enum generated for this new type....","title":"Cannot generated enumeration class using JAXB","body":"<p>It looks like unions are not well supported <a href=\"https://jaxb.java.net/tutorial/section_2_2_10-Defining-a-Type-Union.html\" rel=\"nofollow\">https://jaxb.java.net/tutorial/section_2_2_10-Defining-a-Type-Union.html</a></p>\n\n<p>If you could modify the schema you could extract the enumerated anonymous simple type to a named type and then use in your code the Java enum generated for this new type....</p>\n"},{"tags":[],"owner":{"account_id":27097541,"reputation":1,"user_id":20644578,"display_name":"Moulay Abdellatif lmater"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670225022,"creation_date":1669806310,"answer_id":74626738,"question_id":30892934,"body_markdown":"The following enum is the one that cause this issue;\r\n\r\nthe value contains a slash &quot;/&quot;:\r\n\r\n    &lt;xs:enumeration value=&quot;Opposition Various Renewal/Extension of Registration Restoration&quot; /&gt;\r\n\r\n","title":"Cannot generated enumeration class using JAXB","body":"<p>The following enum is the one that cause this issue;</p>\n<p>the value contains a slash &quot;/&quot;:</p>\n<pre><code>&lt;xs:enumeration value=&quot;Opposition Various Renewal/Extension of Registration Restoration&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":1941573,"reputation":69,"user_id":1747672,"display_name":"Joce"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1949,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1670225022,"creation_date":1434547351,"question_id":30892934,"body_markdown":"I&#39;ve a lot of difficulties generating some POJOs from an XSD (distributed as a standard that I don&#39;t have control and I cannot changed) using JAXB.  The problem seems to be related to the way certain types are defined in that XSD.  Below I&#39;ve pasted a simple type defined in this XSD named TransactionCodeType which is a union of a token combined with an enumeration list of values, also defined as a token.  \r\n\r\n\t&lt;xs:element name=&quot;TransactionContentDetails&quot;&gt;\r\n\t\t&lt;xs:complexType&gt;\r\n\t\t\t&lt;xs:sequence&gt;\r\n\t\t\t\t&lt;xs:element name=&quot;TransactionIdentifier&quot; type=&quot;xs:string&quot; minOccurs=&quot;0&quot;/&gt;\r\n\t\t\t\t&lt;xs:element name=&quot;TransactionCode&quot; type=&quot;TransactionCodeType&quot;/&gt;\r\n\t\t\t&lt;/xs:sequence&gt;\r\n\t\t&lt;/xs:complexType&gt;\r\n\t&lt;/xs:element&gt;\r\n \r\n\t&lt;xs:simpleType name=&quot;TransactionCodeType&quot;&gt;\r\n\t\t&lt;xs:union memberTypes=&quot;xs:token&quot;&gt;\r\n\t\t\t&lt;xs:simpleType&gt;\r\n\t\t\t\t&lt;xs:restriction base=&quot;xs:token&quot;&gt;\r\n\t\t\t\t\txs:enumeration value=&quot;Design E-Filing&quot;/&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Design B2B-Filing&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Design Information&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Design Identifier List&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Design List&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Design Opposition E-Filing&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Design Opposition Information&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Design Opposition Identifier List&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Representative Appointment&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Amendment Registered Design&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Amendment Application&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Convention Application&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Additional Application&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Subsequent Application&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Divisional Application&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Assignment Application&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Assignment Registered Design&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Request Certified Copies&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Request Extension Time&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Request Hearing&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Opposition First Extension&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration\tvalue=&quot;Opposition Various Renewal/Extension of Registration Restoration&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Withdrawal&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Withdraw Application&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Withdraw Design&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Response Examination Report&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Statement Support&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Withdraw Service Request&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Request Publication&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Request Registration&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Offer Surrender&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Request Exclusion&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Request Conversion&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Duplicate Certificate&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Request Supply Documents&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Request Delayed Registration&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Request Accelerated Examination&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Expiry Notice&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Refusal Withdrawal Notification&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Division International Registration Notification&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Refusal Notification&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Providing Certificate To Holder&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Transmittal Application To IB&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Irregularities&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Invalidation Notification&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Cancellation Representative Appointment&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Application Receipt&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Notice Document By Design Formality Examination&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Notice Document By Design Substantial Examination&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Notice Document By Design Registration&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Notice Document By Trial Examination - Invitation&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Notice Document By Trial Examination&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Notice Document By Trial Examination - Decision&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Memo By Design Formality Examination&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Memo By Design Substantial Examination&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Memo By Trial Examination&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Memo By Trial Notice&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Memo By Trial Examination - Correction&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Accept Design Application Document&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Accept Design Applicant Document&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Accept Design Attorney Document&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Accept Design Withdrawal And Abandonment Document&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Accept Design Response Document&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Accept Design Submission Document&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Accept Design Amendment Document&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Accept Design Request For Inspection&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Accept Demand For A Trial&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Accept Trial Intermediate Document&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Inspection Accept Design Application Document&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Inspection Accept Design Applicant Document&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Inspection Accept Design Attorney Document&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration\tvalue=&quot;Inspection Accept Design Withdrawal And Abandonment Document&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Inspection Accept Design Response Document&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Inspection Accept Design Submission Document&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Inspection Accept Design Amendment Document&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Inspection Accept Design Request For Inspection&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Inspection Accept Demand For A Trial&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Inspection Accept Trial Intermediate Document&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Inspection Notice Document By Design Formality Examination&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration\tvalue=&quot;Inspection Notice Document By Design Substantial Examination&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Inspection Notice Document By Design Registration&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration\tvalue=&quot;Inspection Notice Document By Trial Examination - Invitation&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Inspection Notice Document By Trial Examination&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration\tvalue=&quot;Inspection Notice Document By Trial Examination - Decision&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Inspection Memo By Design Formality Examination&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Inspection Memo By Design Substantial Examination&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Inspection Memo By Trial Examination&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Inspection Memo By Trial Notice&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration\tvalue=&quot;Certified Copy Notice Document By Design Formality Examination&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration\tvalue=&quot;Certified Copy Notice Document By Design Substantial Examination&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration\tvalue=&quot;Certified Copy Notice Document By Design Registration&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration\tvalue=&quot;Certified Copy Notice Document By Trial Examination - Invitation&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration\tvalue=&quot;Certified Copy Notice Document By Trial Examination&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration\tvalue=&quot;Certified Copy Notice Document By Trial Examination - Decision&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Accept Document List&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Notice Document List&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Application Information&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Balance Sheet Reference&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Division Number List&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Record Licence&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Record Mortgagee&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Terminate Licence&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Discharge Mortgagee&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:enumeration value=&quot;Change of Name&quot; /&gt;\r\n\t\t\t\t&lt;/xs:restriction&gt;\r\n\t\t\t&lt;/xs:simpleType&gt;\r\n\t\t&lt;/xs:union&gt;\r\n\t&lt;/xs:simpleType&gt;\r\n\r\nUsing JAXB, the output generated (see below) is translate as the basic type String in Java.  I&#39;m using the latest version of maven-jaxb2-plugin from org.jvnet.jaxb2.maven2. At some point, this is what I expected.  Therefore, I would like to be able to access from the Java code the list of possible values that are defined within the XSD.  But how ?  JAXB doesn&#39;t generated a enumeration class that defined all these values. I&#39;ve searched on the web including under this site to find solutions; try some of the proposed solutions including the usage of bindings without any success.  \r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(name = &quot;&quot;, propOrder = {\r\n        &quot;transactionIdentifier&quot;,\r\n        &quot;transactionCode&quot;,\r\n    })\r\n    public static class TransactionContentDetails implements Serializable  {\r\n\r\n        @XmlElement(name = &quot;TransactionIdentifier&quot;)\r\n        protected String transactionIdentifier;\r\n        @XmlElement(name = &quot;TransactionCode&quot;, required = true)\r\n        protected String transactionCode;\r\n\t\t\r\n        public String getTransactionIdentifier() {\r\n            return transactionIdentifier;\r\n        }\r\n\r\n        public void setTransactionIdentifier(String value) {\r\n            this.transactionIdentifier = value;\r\n        }\r\n\r\n        public String getTransactionCode() {\r\n            return transactionCode;\r\n        }\r\n\r\n        public void setTransactionCode(String value) {\r\n            this.transactionCode = value;\r\n        }\r\n\t}\r\n\r\nSo, Im looking to see if you have any ideas on how I could resolve that problem, i.e., being able to generate a Java enumeration class containing all these values.  As part of the solution, I don&#39;t want to have to redefined all these values within a binding file.\r\n\r\nThanks!","title":"Cannot generated enumeration class using JAXB","body":"<p>I've a lot of difficulties generating some POJOs from an XSD (distributed as a standard that I don't have control and I cannot changed) using JAXB.  The problem seems to be related to the way certain types are defined in that XSD.  Below I've pasted a simple type defined in this XSD named TransactionCodeType which is a union of a token combined with an enumeration list of values, also defined as a token.  </p>\n\n<pre><code>&lt;xs:element name=\"TransactionContentDetails\"&gt;\n    &lt;xs:complexType&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element name=\"TransactionIdentifier\" type=\"xs:string\" minOccurs=\"0\"/&gt;\n            &lt;xs:element name=\"TransactionCode\" type=\"TransactionCodeType\"/&gt;\n        &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n&lt;/xs:element&gt;\n\n&lt;xs:simpleType name=\"TransactionCodeType\"&gt;\n    &lt;xs:union memberTypes=\"xs:token\"&gt;\n        &lt;xs:simpleType&gt;\n            &lt;xs:restriction base=\"xs:token\"&gt;\n                xs:enumeration value=\"Design E-Filing\"/&gt;\n                &lt;xs:enumeration value=\"Design B2B-Filing\" /&gt;\n                &lt;xs:enumeration value=\"Design Information\" /&gt;\n                &lt;xs:enumeration value=\"Design Identifier List\" /&gt;\n                &lt;xs:enumeration value=\"Design List\" /&gt;\n                &lt;xs:enumeration value=\"Design Opposition E-Filing\" /&gt;\n                &lt;xs:enumeration value=\"Design Opposition Information\" /&gt;\n                &lt;xs:enumeration value=\"Design Opposition Identifier List\" /&gt;\n                &lt;xs:enumeration value=\"Representative Appointment\" /&gt;\n                &lt;xs:enumeration value=\"Amendment Registered Design\" /&gt;\n                &lt;xs:enumeration value=\"Amendment Application\" /&gt;\n                &lt;xs:enumeration value=\"Convention Application\" /&gt;\n                &lt;xs:enumeration value=\"Additional Application\" /&gt;\n                &lt;xs:enumeration value=\"Subsequent Application\" /&gt;\n                &lt;xs:enumeration value=\"Divisional Application\" /&gt;\n                &lt;xs:enumeration value=\"Assignment Application\" /&gt;\n                &lt;xs:enumeration value=\"Assignment Registered Design\" /&gt;\n                &lt;xs:enumeration value=\"Request Certified Copies\" /&gt;\n                &lt;xs:enumeration value=\"Request Extension Time\" /&gt;\n                &lt;xs:enumeration value=\"Request Hearing\" /&gt;\n                &lt;xs:enumeration value=\"Opposition First Extension\" /&gt;\n                &lt;xs:enumeration value=\"Opposition Various Renewal/Extension of Registration Restoration\" /&gt;\n                &lt;xs:enumeration value=\"Withdrawal\" /&gt;\n                &lt;xs:enumeration value=\"Withdraw Application\" /&gt;\n                &lt;xs:enumeration value=\"Withdraw Design\" /&gt;\n                &lt;xs:enumeration value=\"Response Examination Report\" /&gt;\n                &lt;xs:enumeration value=\"Statement Support\" /&gt;\n                &lt;xs:enumeration value=\"Withdraw Service Request\" /&gt;\n                &lt;xs:enumeration value=\"Request Publication\" /&gt;\n                &lt;xs:enumeration value=\"Request Registration\" /&gt;\n                &lt;xs:enumeration value=\"Offer Surrender\" /&gt;\n                &lt;xs:enumeration value=\"Request Exclusion\" /&gt;\n                &lt;xs:enumeration value=\"Request Conversion\" /&gt;\n                &lt;xs:enumeration value=\"Duplicate Certificate\" /&gt;\n                &lt;xs:enumeration value=\"Request Supply Documents\" /&gt;\n                &lt;xs:enumeration value=\"Request Delayed Registration\" /&gt;\n                &lt;xs:enumeration value=\"Request Accelerated Examination\" /&gt;\n                &lt;xs:enumeration value=\"Expiry Notice\" /&gt;\n                &lt;xs:enumeration value=\"Refusal Withdrawal Notification\" /&gt;\n                &lt;xs:enumeration value=\"Division International Registration Notification\" /&gt;\n                &lt;xs:enumeration value=\"Refusal Notification\" /&gt;\n                &lt;xs:enumeration value=\"Providing Certificate To Holder\" /&gt;\n                &lt;xs:enumeration value=\"Transmittal Application To IB\" /&gt;\n                &lt;xs:enumeration value=\"Irregularities\" /&gt;\n                &lt;xs:enumeration value=\"Invalidation Notification\" /&gt;\n                &lt;xs:enumeration value=\"Cancellation Representative Appointment\" /&gt;\n                &lt;xs:enumeration value=\"Application Receipt\" /&gt;\n                &lt;xs:enumeration value=\"Notice Document By Design Formality Examination\" /&gt;\n                &lt;xs:enumeration value=\"Notice Document By Design Substantial Examination\" /&gt;\n                &lt;xs:enumeration value=\"Notice Document By Design Registration\" /&gt;\n                &lt;xs:enumeration value=\"Notice Document By Trial Examination - Invitation\" /&gt;\n                &lt;xs:enumeration value=\"Notice Document By Trial Examination\" /&gt;\n                &lt;xs:enumeration value=\"Notice Document By Trial Examination - Decision\" /&gt;\n                &lt;xs:enumeration value=\"Memo By Design Formality Examination\" /&gt;\n                &lt;xs:enumeration value=\"Memo By Design Substantial Examination\" /&gt;\n                &lt;xs:enumeration value=\"Memo By Trial Examination\" /&gt;\n                &lt;xs:enumeration value=\"Memo By Trial Notice\" /&gt;\n                &lt;xs:enumeration value=\"Memo By Trial Examination - Correction\" /&gt;\n                &lt;xs:enumeration value=\"Accept Design Application Document\" /&gt;\n                &lt;xs:enumeration value=\"Accept Design Applicant Document\" /&gt;\n                &lt;xs:enumeration value=\"Accept Design Attorney Document\" /&gt;\n                &lt;xs:enumeration value=\"Accept Design Withdrawal And Abandonment Document\" /&gt;\n                &lt;xs:enumeration value=\"Accept Design Response Document\" /&gt;\n                &lt;xs:enumeration value=\"Accept Design Submission Document\" /&gt;\n                &lt;xs:enumeration value=\"Accept Design Amendment Document\" /&gt;\n                &lt;xs:enumeration value=\"Accept Design Request For Inspection\" /&gt;\n                &lt;xs:enumeration value=\"Accept Demand For A Trial\" /&gt;\n                &lt;xs:enumeration value=\"Accept Trial Intermediate Document\" /&gt;\n                &lt;xs:enumeration value=\"Inspection Accept Design Application Document\" /&gt;\n                &lt;xs:enumeration value=\"Inspection Accept Design Applicant Document\" /&gt;\n                &lt;xs:enumeration value=\"Inspection Accept Design Attorney Document\" /&gt;\n                &lt;xs:enumeration value=\"Inspection Accept Design Withdrawal And Abandonment Document\" /&gt;\n                &lt;xs:enumeration value=\"Inspection Accept Design Response Document\" /&gt;\n                &lt;xs:enumeration value=\"Inspection Accept Design Submission Document\" /&gt;\n                &lt;xs:enumeration value=\"Inspection Accept Design Amendment Document\" /&gt;\n                &lt;xs:enumeration value=\"Inspection Accept Design Request For Inspection\" /&gt;\n                &lt;xs:enumeration value=\"Inspection Accept Demand For A Trial\" /&gt;\n                &lt;xs:enumeration value=\"Inspection Accept Trial Intermediate Document\" /&gt;\n                &lt;xs:enumeration value=\"Inspection Notice Document By Design Formality Examination\" /&gt;\n                &lt;xs:enumeration value=\"Inspection Notice Document By Design Substantial Examination\" /&gt;\n                &lt;xs:enumeration value=\"Inspection Notice Document By Design Registration\" /&gt;\n                &lt;xs:enumeration value=\"Inspection Notice Document By Trial Examination - Invitation\" /&gt;\n                &lt;xs:enumeration value=\"Inspection Notice Document By Trial Examination\" /&gt;\n                &lt;xs:enumeration value=\"Inspection Notice Document By Trial Examination - Decision\" /&gt;\n                &lt;xs:enumeration value=\"Inspection Memo By Design Formality Examination\" /&gt;\n                &lt;xs:enumeration value=\"Inspection Memo By Design Substantial Examination\" /&gt;\n                &lt;xs:enumeration value=\"Inspection Memo By Trial Examination\" /&gt;\n                &lt;xs:enumeration value=\"Inspection Memo By Trial Notice\" /&gt;\n                &lt;xs:enumeration value=\"Certified Copy Notice Document By Design Formality Examination\" /&gt;\n                &lt;xs:enumeration value=\"Certified Copy Notice Document By Design Substantial Examination\" /&gt;\n                &lt;xs:enumeration value=\"Certified Copy Notice Document By Design Registration\" /&gt;\n                &lt;xs:enumeration value=\"Certified Copy Notice Document By Trial Examination - Invitation\" /&gt;\n                &lt;xs:enumeration value=\"Certified Copy Notice Document By Trial Examination\" /&gt;\n                &lt;xs:enumeration value=\"Certified Copy Notice Document By Trial Examination - Decision\" /&gt;\n                &lt;xs:enumeration value=\"Accept Document List\" /&gt;\n                &lt;xs:enumeration value=\"Notice Document List\" /&gt;\n                &lt;xs:enumeration value=\"Application Information\" /&gt;\n                &lt;xs:enumeration value=\"Balance Sheet Reference\" /&gt;\n                &lt;xs:enumeration value=\"Division Number List\" /&gt;\n                &lt;xs:enumeration value=\"Record Licence\" /&gt;\n                &lt;xs:enumeration value=\"Record Mortgagee\" /&gt;\n                &lt;xs:enumeration value=\"Terminate Licence\" /&gt;\n                &lt;xs:enumeration value=\"Discharge Mortgagee\" /&gt;\n                &lt;xs:enumeration value=\"Change of Name\" /&gt;\n            &lt;/xs:restriction&gt;\n        &lt;/xs:simpleType&gt;\n    &lt;/xs:union&gt;\n&lt;/xs:simpleType&gt;\n</code></pre>\n\n<p>Using JAXB, the output generated (see below) is translate as the basic type String in Java.  I'm using the latest version of maven-jaxb2-plugin from org.jvnet.jaxb2.maven2. At some point, this is what I expected.  Therefore, I would like to be able to access from the Java code the list of possible values that are defined within the XSD.  But how ?  JAXB doesn't generated a enumeration class that defined all these values. I've searched on the web including under this site to find solutions; try some of the proposed solutions including the usage of bindings without any success.  </p>\n\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = \"\", propOrder = {\n    \"transactionIdentifier\",\n    \"transactionCode\",\n})\npublic static class TransactionContentDetails implements Serializable  {\n\n    @XmlElement(name = \"TransactionIdentifier\")\n    protected String transactionIdentifier;\n    @XmlElement(name = \"TransactionCode\", required = true)\n    protected String transactionCode;\n\n    public String getTransactionIdentifier() {\n        return transactionIdentifier;\n    }\n\n    public void setTransactionIdentifier(String value) {\n        this.transactionIdentifier = value;\n    }\n\n    public String getTransactionCode() {\n        return transactionCode;\n    }\n\n    public void setTransactionCode(String value) {\n        this.transactionCode = value;\n    }\n}\n</code></pre>\n\n<p>So, Im looking to see if you have any ideas on how I could resolve that problem, i.e., being able to generate a Java enumeration class containing all these values.  As part of the solution, I don't want to have to redefined all these values within a binding file.</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1670222312,"post_id":74684212,"comment_id":131817119,"body_markdown":"`String.format()` is a string method.","body":"<code>String.format()</code> is a string method."},{"owner":{"account_id":10254402,"reputation":3,"user_id":20688290,"display_name":"Vineesh Chauhan"},"score":0,"creation_date":1670222543,"post_id":74684212,"comment_id":131817158,"body_markdown":"I know. I am looking for single line solution. Other string method solution will take several lines of code.","body":"I know. I am looking for single line solution. Other string method solution will take several lines of code."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1670222845,"post_id":74684212,"comment_id":131817219,"body_markdown":"You can use `split()` in a single line too: `Arrays.stream(str.split(&quot;\\\\.&quot;)).map(s -&gt; String.format(...)).collect(joining(&quot;,&quot;))`","body":"You can use <code>split()</code> in a single line too: <code>Arrays.stream(str.split(&quot;\\\\.&quot;)).map(s -&gt; String.format(...)).collect(joining(&quot;,&quot;))</code>"},{"owner":{"account_id":10254402,"reputation":3,"user_id":20688290,"display_name":"Vineesh Chauhan"},"score":0,"creation_date":1670224970,"post_id":74684212,"comment_id":131817681,"body_markdown":"thanks @shmosel Here is   System.out.println(Arrays.stream(version1.split(&quot;\\\\.&quot;)).map(s -&gt; String.format(&quot;%02d&quot;, Integer.parseInt(s))).collect(Collectors.joining(&quot;.&quot;)));\n\t\tSystem.out.println(Arrays.stream(version2.split(&quot;\\\\.&quot;)).map(s -&gt; (s.length() &lt;2) ? String.format(&quot;%02d&quot;, Integer.parseInt(s)): s).collect(Collectors.joining(&quot;.&quot;)));","body":"thanks @shmosel Here is   System.out.println(Arrays.stream(version1.split(&quot;\\\\.&quot;)).map(&zwnj;&#8203;s -&gt; String.format(&quot;%02d&quot;, Integer.parseInt(s))).collect(Collectors.joining(&quot;.&quot;))); \t\tSystem.out.println(Arrays.stream(version2.split(&quot;\\\\.&quot;)).ma&zwnj;&#8203;p(s -&gt; (s.length() &lt;2) ? String.format(&quot;%02d&quot;, Integer.parseInt(s)): s).collect(Collectors.joining(&quot;.&quot;)));"}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670224316,"creation_date":1670224316,"answer_id":74684498,"question_id":74684212,"body_markdown":"I suggest that you use [regular expressions](https://docs.oracle.com/javase/tutorial/essential/regex/).\r\n\r\nThere is probably a shorter version of the below, nonetheless it gets the job done.\r\n```java\r\nString str = // your number, e.g. 8.1.8\r\nstr.replaceAll(&quot;^(\\\\d)\\\\.&quot;, &quot;0$1.&quot;)\r\n   .replaceAll(&quot;\\\\.(\\\\d)\\\\.&quot;, &quot;.0$1.&quot;)\r\n   .replaceAll(&quot;\\\\.(\\\\d)$&quot;, &quot;.0$1&quot;)\r\n```\r\nThe first `replaceAll` replaces a single digit followed by a dot at the beginning of `str` with that same digit preceded by a single 0 (zero).\r\n\r\nThe second `replaceAll` works on the string returned by the first `replaceAll` and replaces any single digit, between two dots, with that digit, again preceded by a single 0.\r\n\r\nThe last `replaceAll` replaces a single digit, preceded by a dot, at the end of the string.\r\n\r\nIf `str` is *8.1.8* then the result is *08.01.08*.\r\n\r\nIf `str` is *8.1.14* then the result is *08.01.14*\r\n\r\n","title":"Append 0 to all integer in string in given format","body":"<p>I suggest that you use <a href=\"https://docs.oracle.com/javase/tutorial/essential/regex/\" rel=\"nofollow noreferrer\">regular expressions</a>.</p>\n<p>There is probably a shorter version of the below, nonetheless it gets the job done.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String str = // your number, e.g. 8.1.8\nstr.replaceAll(&quot;^(\\\\d)\\\\.&quot;, &quot;0$1.&quot;)\n   .replaceAll(&quot;\\\\.(\\\\d)\\\\.&quot;, &quot;.0$1.&quot;)\n   .replaceAll(&quot;\\\\.(\\\\d)$&quot;, &quot;.0$1&quot;)\n</code></pre>\n<p>The first <code>replaceAll</code> replaces a single digit followed by a dot at the beginning of <code>str</code> with that same digit preceded by a single 0 (zero).</p>\n<p>The second <code>replaceAll</code> works on the string returned by the first <code>replaceAll</code> and replaces any single digit, between two dots, with that digit, again preceded by a single 0.</p>\n<p>The last <code>replaceAll</code> replaces a single digit, preceded by a dot, at the end of the string.</p>\n<p>If <code>str</code> is <em>8.1.8</em> then the result is <em>08.01.08</em>.</p>\n<p>If <code>str</code> is <em>8.1.14</em> then the result is <em>08.01.14</em></p>\n"}],"owner":{"account_id":10254402,"reputation":3,"user_id":20688290,"display_name":"Vineesh Chauhan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1670222331,"accepted_answer_id":74684498,"answer_count":1,"score":-1,"last_activity_date":1670224316,"creation_date":1670222172,"question_id":74684212,"body_markdown":"I need to convet \r\n8.1.8 to 08.01.08\r\n8.1.14 to 08.01.14\r\n\r\nI want to achieve it without using string methods like split or indexof or tokenizer.\r\nSome single line solution like string formatter.\r\n\r\nAny suggestion or help.\r\n\r\n\r\nThis works for single integar\r\nSystem.out.println(String.format(&quot;%02d&quot;, Integer.parseInt(&quot;2&quot;)));\r\n\r\nbut not able to apply to my pattern.","title":"Append 0 to all integer in string in given format","body":"<p>I need to convet\n8.1.8 to 08.01.08\n8.1.14 to 08.01.14</p>\n<p>I want to achieve it without using string methods like split or indexof or tokenizer.\nSome single line solution like string formatter.</p>\n<p>Any suggestion or help.</p>\n<p>This works for single integar\nSystem.out.println(String.format(&quot;%02d&quot;, Integer.parseInt(&quot;2&quot;)));</p>\n<p>but not able to apply to my pattern.</p>\n"},{"tags":["java","spring","spring-boot","spring-security","build.gradle"],"comments":[{"owner":{"account_id":1164600,"reputation":5578,"user_id":1143482,"accept_rate":63,"display_name":"jpganz18"},"score":0,"creation_date":1564571882,"post_id":57289444,"comment_id":101073568,"body_markdown":"please copy the build.gradle here, since this question could help other people in the future and the resource might not be available. Other than upgrade the version the gradle, did you apply any other change into your code?","body":"please copy the build.gradle here, since this question could help other people in the future and the resource might not be available. Other than upgrade the version the gradle, did you apply any other change into your code?"},{"owner":{"account_id":10921080,"reputation":627,"user_id":8027346,"display_name":"Lily"},"score":0,"creation_date":1564571968,"post_id":57289444,"comment_id":101073627,"body_markdown":"I am unable to format build.gradle that&#39; why I psoted it there.","body":"I am unable to format build.gradle that&#39; why I psoted it there."},{"owner":{"account_id":10921080,"reputation":627,"user_id":8027346,"display_name":"Lily"},"score":0,"creation_date":1564572013,"post_id":57289444,"comment_id":101073656,"body_markdown":"I upgraded the gradle version to 5.5.1, spring-boot version to 2.1.6 and updated all the dependencies to latest as well. Some resources pointed out that this class isn&#39;t available in spring-boot 2 but none of the alternate solution was provided","body":"I upgraded the gradle version to 5.5.1, spring-boot version to 2.1.6 and updated all the dependencies to latest as well. Some resources pointed out that this class isn&#39;t available in spring-boot 2 but none of the alternate solution was provided"},{"owner":{"account_id":10921080,"reputation":627,"user_id":8027346,"display_name":"Lily"},"score":0,"creation_date":1564572589,"post_id":57289444,"comment_id":101073970,"body_markdown":"@jpganz18 I have added gradle and updated question as well. Please have a look","body":"@jpganz18 I have added gradle and updated question as well. Please have a look"},{"owner":{"account_id":1164600,"reputation":5578,"user_id":1143482,"accept_rate":63,"display_name":"jpganz18"},"score":0,"creation_date":1564573160,"post_id":57289444,"comment_id":101074299,"body_markdown":"My guess is that could be spring-cloud eureka, its an old version and might not be compatible, can you try to implement this? https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-starter-netflix-eureka-client/2.1.2.RELEASE","body":"My guess is that could be spring-cloud eureka, its an old version and might not be compatible, can you try to implement this? <a href=\"https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-starter-netflix-eureka-client/2.1.2.RELEASE\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.springframework.cloud/&hellip;</a>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1564573578,"post_id":57289444,"comment_id":101074532,"body_markdown":"You are mixing jars from different versions of Spring Boot and Spring Cloud. That is trouble waiting to happen. Let Spring Boot manage your dpeendencies (that is one of the things it does) don&#39;t try to get your own.","body":"You are mixing jars from different versions of Spring Boot and Spring Cloud. That is trouble waiting to happen. Let Spring Boot manage your dpeendencies (that is one of the things it does) don&#39;t try to get your own."},{"owner":{"account_id":10921080,"reputation":627,"user_id":8027346,"display_name":"Lily"},"score":0,"creation_date":1564573796,"post_id":57289444,"comment_id":101074660,"body_markdown":"@jpganz18 i&#39;ve tried that and error waws thrown. Logcat has been added to question. please have a look. Thanks","body":"@jpganz18 i&#39;ve tried that and error waws thrown. Logcat has been added to question. please have a look. Thanks"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1564573903,"post_id":57289444,"comment_id":101074721,"body_markdown":"Remove the `version` tags from the dependencies. The `spring-security` dependencies you don;&#39;t need (those are part of the `spring-boot-starter-security`). For Spring Cloud import the `bom` and then remove the versions so yuou have compatible versions.","body":"Remove the <code>version</code> tags from the dependencies. The <code>spring-security</code> dependencies you don;&#39;t need (those are part of the <code>spring-boot-starter-security</code>). For Spring Cloud import the <code>bom</code> and then remove the versions so yuou have compatible versions."},{"owner":{"account_id":10921080,"reputation":627,"user_id":8027346,"display_name":"Lily"},"score":0,"creation_date":1564574964,"post_id":57289444,"comment_id":101075286,"body_markdown":"@M.Deinum I&#39;m now having this issue     `\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;methodSecurityInterceptor&#39; defined in class path resource [org/springframework/security/config/annotation/method/configuration/GlobalMethodSecurityConfiguration.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: An AuthenticationManager is required`","body":"@M.Deinum I&#39;m now having this issue     ` org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;methodSecurityInterceptor&#39; defined in class path resource [org/springframework/security/config/annotation/method/confi&zwnj;&#8203;guration/GlobalMetho&zwnj;&#8203;dSecurityConfigurati&zwnj;&#8203;on.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: An AuthenticationManager is required`"}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1564575536,"creation_date":1564575536,"answer_id":57290591,"question_id":57289444,"body_markdown":"Your dependencies are a bit of a mess. You are mixing jars of different version of both Spring Boot and Spring Cloud and use incompatible Spring Boot / Spring Cloud versions. The Spring Boot plugin (or rather the dependency plugin) will manage the Spring Boot and Spring Cloud dependencies for you. \r\n\r\nYour dependencies should look something like this\r\n\r\n```\r\ndependencyManagement {\r\n  imports {\r\n    mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\r\n  }\r\n}\r\n\r\ndependencies {\r\n\r\n  compile group: &#39;org.thymeleaf.extras&#39;, name: &#39;thymeleaf-extras-springsecurity5&#39;\r\n\r\n  compile group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-web&#39;\r\n  compile group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-actuator&#39;\r\n  compile group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-security&#39;\r\n\r\n  compile group: &#39;org.springframework.cloud&#39;, name: &#39;spring-cloud-starter-eureka&#39;\r\n  compile group: &#39;org.springframework.cloud&#39;, name: &#39;spring-cloud-starter-zipkin&#39;\r\n  compile group: &#39;org.springframework.cloud&#39;, name: &#39;spring-cloud-starter-config&#39;\r\n\r\n\r\n  // Swagger for API testing\r\n  compile(&quot;io.springfox:springfox-swagger2:${swagger2version}&quot;)\r\n  compile(&quot;io.springfox:springfox-swagger-ui:${swagger2version}&quot;)\r\n  testCompile(&quot;org.springframework.security:spring-security-test&quot;)\r\n  testCompile group:  &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-test&#39;\r\n\r\n}\r\n```\r\n\r\nand you need the dependency management plugin (formerly part of the spring boot plugin). \r\n\r\n```\r\napply plugin: &#39;io.spring.dependency-management&#39;\r\n```\r\n","title":"class path resource [org/springframework/boot/autoconfigure/web/ServerPropertiesAutoConfiguration.class] cannot be opened because it does not exist","body":"<p>Your dependencies are a bit of a mess. You are mixing jars of different version of both Spring Boot and Spring Cloud and use incompatible Spring Boot / Spring Cloud versions. The Spring Boot plugin (or rather the dependency plugin) will manage the Spring Boot and Spring Cloud dependencies for you. </p>\n\n<p>Your dependencies should look something like this</p>\n\n<pre><code>dependencyManagement {\n  imports {\n    mavenBom \"org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}\"\n  }\n}\n\ndependencies {\n\n  compile group: 'org.thymeleaf.extras', name: 'thymeleaf-extras-springsecurity5'\n\n  compile group: 'org.springframework.boot', name: 'spring-boot-starter-web'\n  compile group: 'org.springframework.boot', name: 'spring-boot-starter-actuator'\n  compile group: 'org.springframework.boot', name: 'spring-boot-starter-security'\n\n  compile group: 'org.springframework.cloud', name: 'spring-cloud-starter-eureka'\n  compile group: 'org.springframework.cloud', name: 'spring-cloud-starter-zipkin'\n  compile group: 'org.springframework.cloud', name: 'spring-cloud-starter-config'\n\n\n  // Swagger for API testing\n  compile(\"io.springfox:springfox-swagger2:${swagger2version}\")\n  compile(\"io.springfox:springfox-swagger-ui:${swagger2version}\")\n  testCompile(\"org.springframework.security:spring-security-test\")\n  testCompile group:  'org.springframework.boot', name: 'spring-boot-starter-test'\n\n}\n</code></pre>\n\n<p>and you need the dependency management plugin (formerly part of the spring boot plugin). </p>\n\n<pre><code>apply plugin: 'io.spring.dependency-management'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6764866,"reputation":451,"user_id":5210164,"display_name":"Avinash Khadsan"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1586002891,"creation_date":1586002891,"answer_id":61027996,"question_id":57289444,"body_markdown":"    add bellow dependancy\r\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-starter-netflix-hystrix --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-cloud-starter-netflix-hystrix&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.2.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"class path resource [org/springframework/boot/autoconfigure/web/ServerPropertiesAutoConfiguration.class] cannot be opened because it does not exist","body":"<pre><code>add bellow dependancy\n&lt;!-- https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-starter-netflix-hystrix --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-netflix-hystrix&lt;/artifactId&gt;\n    &lt;version&gt;2.2.2.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19945093,"reputation":61,"user_id":14615958,"display_name":"Branislav Osadkovski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641911047,"creation_date":1641911047,"answer_id":70668434,"question_id":57289444,"body_markdown":"Exception is thrown when OpenFeign dependency is used \r\n\r\n    &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\r\n\r\nSwitch to spring-cloud-starter-feign\r\n  \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; \r\n        &lt;artifactId&gt;spring-cloud-starter-feign&lt;/artifactId&gt; \r\n        &lt;version&gt;1.4.7.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"class path resource [org/springframework/boot/autoconfigure/web/ServerPropertiesAutoConfiguration.class] cannot be opened because it does not exist","body":"<p>Exception is thrown when OpenFeign dependency is used</p>\n<pre><code>&lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n</code></pre>\n<p>Switch to spring-cloud-starter-feign</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; \n    &lt;artifactId&gt;spring-cloud-starter-feign&lt;/artifactId&gt; \n    &lt;version&gt;1.4.7.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8249554,"reputation":111,"user_id":6204666,"accept_rate":56,"display_name":"ru51an"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670224260,"creation_date":1670224260,"answer_id":74684492,"question_id":57289444,"body_markdown":"Use this command `find libdir -name &quot;*.jar&quot; -exec zipgrep &quot;CLASS_NAME&quot; &#39;{}&#39; \\;` to find where this class is used.\r\n\r\nThe command is taken from https://stackoverflow.com/a/10331145/6204666\r\n\r\nAfter you find the lib where your class is used, try to change version of the lib for proper one.\r\n\r\nIn my case the class &#39;ServerPropertiesAutoConfiguration&#39; was used in  ZuulServerAutoConfiguration class of spring-cloud-netflix-core lib","title":"class path resource [org/springframework/boot/autoconfigure/web/ServerPropertiesAutoConfiguration.class] cannot be opened because it does not exist","body":"<p>Use this command <code>find libdir -name &quot;*.jar&quot; -exec zipgrep &quot;CLASS_NAME&quot; '{}' \\;</code> to find where this class is used.</p>\n<p>The command is taken from <a href=\"https://stackoverflow.com/a/10331145/6204666\">https://stackoverflow.com/a/10331145/6204666</a></p>\n<p>After you find the lib where your class is used, try to change version of the lib for proper one.</p>\n<p>In my case the class 'ServerPropertiesAutoConfiguration' was used in  ZuulServerAutoConfiguration class of spring-cloud-netflix-core lib</p>\n"}],"owner":{"account_id":10921080,"reputation":627,"user_id":8027346,"display_name":"Lily"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39070,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":57290591,"answer_count":4,"score":7,"last_activity_date":1670224260,"creation_date":1564571547,"question_id":57289444,"body_markdown":"Firstly I was working with spring-boot version 1.5.x and My application was working perfect. I upgraded to spring-boot 2.1.6 and having that error with spring-boot security.Here is my logcat \r\n\r\n    org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [com.technohomes.user.UserApplication]; nested exception is java.io.FileNotFoundException: class path resource [org/springframework/boot/autoconfigure/web/ServerPropertiesAutoConfiguration.class] cannot be opened because it does not exist\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:596) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.access$900(ConfigurationClassParser.java:108) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.lambda$processGroupImports$1(ConfigurationClassParser.java:805) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_212]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.processGroupImports(ConfigurationClassParser.java:801) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorHandler.process(ConfigurationClassParser.java:771) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:185) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:315) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:232) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:275) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:95) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:705) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:531) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:742) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:389) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:311) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1213) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1202) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\tat com.technohomes.user.UserApplication.main(UserApplication.java:19) [classes/:na]\r\n    Caused by: java.io.FileNotFoundException: class path resource [org/springframework/boot/autoconfigure/web/ServerPropertiesAutoConfiguration.class] cannot be opened because it does not exist\r\n\r\n&gt; Here is what I changed\r\nI upgraded the gradle version to 5.5.1, spring-boot version to 2.1.6 and updated all the dependencies to latest as well. \r\n\r\nSome resources pointed out that this class isn&#39;t available in spring-boot 2 but none of the alternate solution was provided \r\n\r\nHere is my `build.gradle`h\r\n\r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;org.springframework.boot&#39;\r\n    apply plugin: &#39;application&#39;\r\n    apply plugin: &#39;docker&#39;\r\n    buildscript {\r\n    project.ext {\r\n        springBootVersion = &#39;2.0.4.RELEASE&#39;\r\n        jarName = &#39;basic-user-webservice&#39;\r\n        versionName = &#39;0.0.1&#39;\r\n        gradleDockerVersion = &#39;1.2&#39;\r\n        swagger2version = &#39;2.9.2&#39;\r\n    }\r\n    repositories {\r\n        jcenter()\r\n        mavenCentral()\r\n\r\n    }\r\n\r\n    dependencies {\r\n        classpath &quot;org.springframework.boot:spring-boot-gradle-    plugin:${project.springBootVersion}&quot;\r\n        classpath &quot;se.transmode.gradle:gradle-    docker:${project.gradleDockerVersion}&quot;\r\n    }\r\n    }\r\n\r\n    task createWrapper(type: Wrapper) {\r\n    gradleVersion = &#39;5.1.1&#39;\r\n    }\r\n    group = &#39;technohomes&#39;\r\n    mainClassName = &#39;com.technohomes.user.UserApplication&#39;\r\n    sourceCompatibility = 1.8\r\n    targetCompatibility = 1.8\r\n\r\n    repositories {\r\n    mavenCentral()\r\n    jcenter()\r\n    }\r\n\r\n    ext {\r\n    springCloudVersion = &#39;Greenwich.SR2&#39;\r\n    }\r\n\r\n\r\n    dependencies {\r\n\r\n    compile group: &#39;org.springframework.security&#39;, name: &#39;spring-security-web&#39;, version: &#39;5.1.5.RELEASE&#39;\r\n    compile group: &#39;org.springframework.security&#39;, name: &#39;spring-security-config&#39;, version: &#39;5.1.5.RELEASE&#39;\r\n    compile group: &#39;org.thymeleaf.extras&#39;, name: &#39;thymeleaf-extras-springsecurity5&#39;, version: &#39;3.0.4.RELEASE&#39;\r\n\r\n\r\n    compile group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-autoconfigure&#39;, version: &#39;2.0.4.RELEASE&#39;\r\n\r\n    compile group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-parent&#39;, version: &#39;2.0.4.RELEASE&#39;\r\n\r\n    compile group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-web&#39;, version: &#39;2.0.1.RELEASE&#39;\r\n    compile group: &#39;org.springframework.cloud&#39;, name: &#39;spring-cloud-starter-eureka&#39;, version: &#39;1.4.7.RELEASE&#39;\r\n\r\n\r\n    compile &#39;org.springframework.security.oauth.boot:spring-security-oauth2-autoconfigure:2.0.0.RELEASE&#39;\r\n\r\n    compile group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-actuator&#39;, version: &#39;2.0.4.RELEASE&#39;\r\n    compile group: &#39;org.springframework.cloud&#39;, name: &#39;spring-cloud-starter-config&#39;, version: &#39;2.1.3.RELEASE&#39;\r\n    compile group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-security&#39;, version: &#39;2.0.4.RELEASE&#39;\r\n    compile group: &#39;org.springframework.security&#39;, name: &#39;spring-security-jwt&#39;, version: &#39;1.0.10.RELEASE&#39;\r\n\r\n\r\n       compile group: &#39;org.springframework.cloud&#39;, name: &#39;spring-cloud-starter-zipkin&#39;, version: &#39;2.1.2.RELEASE&#39;\r\n\r\n    // Swagger for API testing\r\n    compile(&quot;io.springfox:springfox-swagger2:${swagger2version}&quot;)\r\n    compile(&quot;io.springfox:springfox-swagger-ui:${swagger2version}&quot;)\r\n    testCompile(&quot;org.springframework.security:spring-security-test&quot;)\r\n\r\n    }\r\n\r\n    jar {\r\n    baseName = &quot;${project.jarName}&quot;\r\n    version = &quot;${project.versionName}&quot;\r\n    }\r\n    task buildDocker(type: Docker, dependsOn: build) {\r\n    push = false\r\n    applicationName = jar.baseName\r\n    tagVersion = jar.version\r\n    dockerfile = file(&#39;src/main/docker/Dockerfile&#39;)\r\n    doFirst {\r\n        // Copy the built fat jar to the Docker plugin staging directory\r\n        copy {\r\n            from jar\r\n            into stageDir\r\n        }\r\n        // Copy the run.sh file to the Docker plugin staging directory\r\n        copy {\r\n            from &quot;${project.buildDir}/resources/main/run.sh&quot;\r\n            into stageDir\r\n        }\r\n    }\r\n    }\r\n\r\n    run {\r\n    jvmArgs = [&#39;-Xdebug&#39;, &#39;- \r\n    Xrunjdwp:server=y,transport=dt_socket,address=4200,suspend=n&#39;, &#39;- \r\n    Dspring.profiles.active=default&#39;]\r\n    }\r\n\r\n**MainClass**\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.cloud.netflix.eureka.EnableEurekaClient;\r\n    import org.springframework.security.oauth2.config.annotation.web.configuration.EnableOAuth2Client;\r\n    import         org.springframework.security.oauth2.config.annotation.web.configuration.EnableResourceServer;\r\n    import springfox.documentation.swagger2.annotations.EnableSwagger2;\r\n\r\n    @SpringBootApplication\r\n    @EnableEurekaClient\r\n    @EnableResourceServer\r\n    @EnableSwagger2\r\n    @EnableOAuth2Client\r\n    public class UserApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(UserApplication.class, args);\r\n\t}\r\n    }\r\n\r\n**Update 1**\r\nafter updating `Eureka client` below error was thrown\r\n\r\n    java.lang.ClassCastException: java.lang.NoClassDefFoundError cannot be cast to [Ljava.lang.Object;\r\n\tat org.springframework.boot.context.properties.EnableConfigurationPropertiesImportSelector$ConfigurationPropertiesBeanRegistrar.lambda$collectClasses$1(EnableConfigurationPropertiesImportSelector.java:77) ~[spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\tat java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:267) ~[na:1.8.0_212]\r\n\tat java.util.LinkedList$LLSpliterator.forEachRemaining(LinkedList.java:1235) ~[na:1.8.0_212]\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482) ~[na:1.8.0_212]\r\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472) ~[na:1.8.0_212]\r\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708) ~[na:1.8.0_212]\r\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:1.8.0_212]\r\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499) ~[na:1.8.0_212]\r\n\tat org.springframework.boot.context.properties.EnableConfigurationPropertiesImportSelector$ConfigurationPropertiesBeanRegistrar.collectClasses(EnableConfigurationPropertiesImportSelector.java:78) ~[spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\tat org.springframework.boot.context.properties.EnableConfigurationPropertiesImportSelector$ConfigurationPropertiesBeanRegistrar.getTypes(EnableConfigurationPropertiesImportSelector.java:73) ~[spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\tat org.springframework.boot.context.properties.EnableConfigurationPropertiesImportSelector$ConfigurationPropertiesBeanRegistrar.registerBeanDefinitions(EnableConfigurationPropertiesImportSelector.java:67) ~[spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.lambda$loadBeanDefinitionsFromRegistrars$1(ConfigurationClassBeanDefinitionReader.java:364) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat java.util.LinkedHashMap.forEach(LinkedHashMap.java:684) ~[na:1.8.0_212]\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsFromRegistrars(ConfigurationClassBeanDefinitionReader.java:363) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:145) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:117) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:327) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:232) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:275) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:95) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:705) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:531) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:742) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:389) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:311) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1213) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\tat \r\n \r\n \r\n \r\n org.springframework.boot.SpringApplication.run(SpringApplication.java:1202) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\tat com.technohomes.user.UserApplication.main(UserApplication.java:19) [classes/:na]\r\n\r\n\r\n\r\n\r\nplease help me figure this out. Thanks\r\n  ","title":"class path resource [org/springframework/boot/autoconfigure/web/ServerPropertiesAutoConfiguration.class] cannot be opened because it does not exist","body":"<p>Firstly I was working with spring-boot version 1.5.x and My application was working perfect. I upgraded to spring-boot 2.1.6 and having that error with spring-boot security.Here is my logcat </p>\n\n<pre><code>org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [com.technohomes.user.UserApplication]; nested exception is java.io.FileNotFoundException: class path resource [org/springframework/boot/autoconfigure/web/ServerPropertiesAutoConfiguration.class] cannot be opened because it does not exist\nat org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:596) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\nat org.springframework.context.annotation.ConfigurationClassParser.access$900(ConfigurationClassParser.java:108) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\nat org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.lambda$processGroupImports$1(ConfigurationClassParser.java:805) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\nat java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_212]\nat org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.processGroupImports(ConfigurationClassParser.java:801) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\nat org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorHandler.process(ConfigurationClassParser.java:771) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\nat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:185) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\nat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:315) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\nat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:232) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\nat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:275) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\nat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:95) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\nat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:705) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:531) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:742) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:389) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:311) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1213) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1202) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\nat com.technohomes.user.UserApplication.main(UserApplication.java:19) [classes/:na]\nCaused by: java.io.FileNotFoundException: class path resource [org/springframework/boot/autoconfigure/web/ServerPropertiesAutoConfiguration.class] cannot be opened because it does not exist\n</code></pre>\n\n<blockquote>\n  <p>Here is what I changed\n  I upgraded the gradle version to 5.5.1, spring-boot version to 2.1.6 and updated all the dependencies to latest as well. </p>\n</blockquote>\n\n<p>Some resources pointed out that this class isn't available in spring-boot 2 but none of the alternate solution was provided </p>\n\n<p>Here is my <code>build.gradle</code>h</p>\n\n<pre><code>apply plugin: 'java'\napply plugin: 'org.springframework.boot'\napply plugin: 'application'\napply plugin: 'docker'\nbuildscript {\nproject.ext {\n    springBootVersion = '2.0.4.RELEASE'\n    jarName = 'basic-user-webservice'\n    versionName = '0.0.1'\n    gradleDockerVersion = '1.2'\n    swagger2version = '2.9.2'\n}\nrepositories {\n    jcenter()\n    mavenCentral()\n\n}\n\ndependencies {\n    classpath \"org.springframework.boot:spring-boot-gradle-    plugin:${project.springBootVersion}\"\n    classpath \"se.transmode.gradle:gradle-    docker:${project.gradleDockerVersion}\"\n}\n}\n\ntask createWrapper(type: Wrapper) {\ngradleVersion = '5.1.1'\n}\ngroup = 'technohomes'\nmainClassName = 'com.technohomes.user.UserApplication'\nsourceCompatibility = 1.8\ntargetCompatibility = 1.8\n\nrepositories {\nmavenCentral()\njcenter()\n}\n\next {\nspringCloudVersion = 'Greenwich.SR2'\n}\n\n\ndependencies {\n\ncompile group: 'org.springframework.security', name: 'spring-security-web', version: '5.1.5.RELEASE'\ncompile group: 'org.springframework.security', name: 'spring-security-config', version: '5.1.5.RELEASE'\ncompile group: 'org.thymeleaf.extras', name: 'thymeleaf-extras-springsecurity5', version: '3.0.4.RELEASE'\n\n\ncompile group: 'org.springframework.boot', name: 'spring-boot-autoconfigure', version: '2.0.4.RELEASE'\n\ncompile group: 'org.springframework.boot', name: 'spring-boot-starter-parent', version: '2.0.4.RELEASE'\n\ncompile group: 'org.springframework.boot', name: 'spring-boot-starter-web', version: '2.0.1.RELEASE'\ncompile group: 'org.springframework.cloud', name: 'spring-cloud-starter-eureka', version: '1.4.7.RELEASE'\n\n\ncompile 'org.springframework.security.oauth.boot:spring-security-oauth2-autoconfigure:2.0.0.RELEASE'\n\ncompile group: 'org.springframework.boot', name: 'spring-boot-starter-actuator', version: '2.0.4.RELEASE'\ncompile group: 'org.springframework.cloud', name: 'spring-cloud-starter-config', version: '2.1.3.RELEASE'\ncompile group: 'org.springframework.boot', name: 'spring-boot-starter-security', version: '2.0.4.RELEASE'\ncompile group: 'org.springframework.security', name: 'spring-security-jwt', version: '1.0.10.RELEASE'\n\n\n   compile group: 'org.springframework.cloud', name: 'spring-cloud-starter-zipkin', version: '2.1.2.RELEASE'\n\n// Swagger for API testing\ncompile(\"io.springfox:springfox-swagger2:${swagger2version}\")\ncompile(\"io.springfox:springfox-swagger-ui:${swagger2version}\")\ntestCompile(\"org.springframework.security:spring-security-test\")\n\n}\n\njar {\nbaseName = \"${project.jarName}\"\nversion = \"${project.versionName}\"\n}\ntask buildDocker(type: Docker, dependsOn: build) {\npush = false\napplicationName = jar.baseName\ntagVersion = jar.version\ndockerfile = file('src/main/docker/Dockerfile')\ndoFirst {\n    // Copy the built fat jar to the Docker plugin staging directory\n    copy {\n        from jar\n        into stageDir\n    }\n    // Copy the run.sh file to the Docker plugin staging directory\n    copy {\n        from \"${project.buildDir}/resources/main/run.sh\"\n        into stageDir\n    }\n}\n}\n\nrun {\njvmArgs = ['-Xdebug', '- \nXrunjdwp:server=y,transport=dt_socket,address=4200,suspend=n', '- \nDspring.profiles.active=default']\n}\n</code></pre>\n\n<p><strong>MainClass</strong></p>\n\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.cloud.netflix.eureka.EnableEurekaClient;\nimport org.springframework.security.oauth2.config.annotation.web.configuration.EnableOAuth2Client;\nimport         org.springframework.security.oauth2.config.annotation.web.configuration.EnableResourceServer;\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\n\n@SpringBootApplication\n@EnableEurekaClient\n@EnableResourceServer\n@EnableSwagger2\n@EnableOAuth2Client\npublic class UserApplication {\n\npublic static void main(String[] args) {\n    SpringApplication.run(UserApplication.class, args);\n}\n}\n</code></pre>\n\n<p><strong>Update 1</strong>\nafter updating <code>Eureka client</code> below error was thrown</p>\n\n<pre><code>java.lang.ClassCastException: java.lang.NoClassDefFoundError cannot be cast to [Ljava.lang.Object;\nat org.springframework.boot.context.properties.EnableConfigurationPropertiesImportSelector$ConfigurationPropertiesBeanRegistrar.lambda$collectClasses$1(EnableConfigurationPropertiesImportSelector.java:77) ~[spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\nat java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:267) ~[na:1.8.0_212]\nat java.util.LinkedList$LLSpliterator.forEachRemaining(LinkedList.java:1235) ~[na:1.8.0_212]\nat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482) ~[na:1.8.0_212]\nat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472) ~[na:1.8.0_212]\nat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708) ~[na:1.8.0_212]\nat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:1.8.0_212]\nat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499) ~[na:1.8.0_212]\nat org.springframework.boot.context.properties.EnableConfigurationPropertiesImportSelector$ConfigurationPropertiesBeanRegistrar.collectClasses(EnableConfigurationPropertiesImportSelector.java:78) ~[spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\nat org.springframework.boot.context.properties.EnableConfigurationPropertiesImportSelector$ConfigurationPropertiesBeanRegistrar.getTypes(EnableConfigurationPropertiesImportSelector.java:73) ~[spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\nat org.springframework.boot.context.properties.EnableConfigurationPropertiesImportSelector$ConfigurationPropertiesBeanRegistrar.registerBeanDefinitions(EnableConfigurationPropertiesImportSelector.java:67) ~[spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\nat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.lambda$loadBeanDefinitionsFromRegistrars$1(ConfigurationClassBeanDefinitionReader.java:364) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\nat java.util.LinkedHashMap.forEach(LinkedHashMap.java:684) ~[na:1.8.0_212]\nat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsFromRegistrars(ConfigurationClassBeanDefinitionReader.java:363) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\nat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:145) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\nat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:117) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\nat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:327) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\nat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:232) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\nat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:275) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\nat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:95) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\nat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:705) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:531) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:742) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:389) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:311) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1213) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\nat \n</code></pre>\n\n<p>org.springframework.boot.SpringApplication.run(SpringApplication.java:1202) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\n    at com.technohomes.user.UserApplication.main(UserApplication.java:19) [classes/:na]</p>\n\n<p>please help me figure this out. Thanks</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":18688943,"reputation":2332,"user_id":13623742,"display_name":"Charlie Armstrong"},"score":3,"creation_date":1670224076,"post_id":74684333,"comment_id":131817497,"body_markdown":"I think the answer is in the documentation that you quoted. &quot;return[s] the **next** token&quot;","body":"I think the answer is in the documentation that you quoted. &quot;return[s] the <b>next</b> token&quot;"},{"owner":{"account_id":7997200,"reputation":109,"user_id":15764884,"display_name":"thegreentea"},"score":0,"creation_date":1670305795,"post_id":74684333,"comment_id":131839618,"body_markdown":"@CharlieArmstrong My question was why it would skip the input that matches the delimiter pattern and then attempt to return the &quot;next&quot; token. Is it something I shouldn&#39;t care about?","body":"@CharlieArmstrong My question was why it would skip the input that matches the delimiter pattern and then attempt to return the &quot;next&quot; token. Is it something I shouldn&#39;t care about?"},{"owner":{"account_id":18688943,"reputation":2332,"user_id":13623742,"display_name":"Charlie Armstrong"},"score":1,"creation_date":1670355835,"post_id":74684333,"comment_id":131856475,"body_markdown":"That just means that the delimiter is not included in the return value.  The delimiter for `nextInt()` is a line separator, so what the documentation is saying is that it skips over the line separator and returns the next token (up to the next line separator).  If this weren&#39;t the case, the return value would always start with a line separator (and `nextInt()` would fail because line separators are not numbers).","body":"That just means that the delimiter is not included in the return value.  The delimiter for <code>nextInt()</code> is a line separator, so what the documentation is saying is that it skips over the line separator and returns the next token (up to the next line separator).  If this weren&#39;t the case, the return value would always start with a line separator (and <code>nextInt()</code> would fail because line separators are not numbers)."}],"answers":[{"tags":[],"owner":{"account_id":27148685,"reputation":1,"user_id":20688480,"display_name":"thitipong purinsuwan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1670223524,"creation_date":1670223524,"answer_id":74684388,"question_id":74684333,"body_markdown":"&quot;Next&quot; is build in function to use for input data, This is one in many way to input data.","title":"Java Scanner and next() method -- what does it really mean, &quot;next&quot;?","body":"<p>&quot;Next&quot; is build in function to use for input data, This is one in many way to input data.</p>\n"},{"tags":[],"owner":{"account_id":11612598,"reputation":1,"user_id":8506390,"display_name":"Ozenc Celik"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1670223950,"creation_date":1670223950,"answer_id":74684455,"question_id":74684333,"body_markdown":"The `next()` function is designed to get inputs from users. You can use `nextInt()` if you want to get numbers as input.","title":"Java Scanner and next() method -- what does it really mean, &quot;next&quot;?","body":"<p>The <code>next()</code> function is designed to get inputs from users. You can use <code>nextInt()</code> if you want to get numbers as input.</p>\n"}],"owner":{"account_id":7997200,"reputation":109,"user_id":15764884,"display_name":"thegreentea"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1670223950,"creation_date":1670223123,"question_id":74684333,"body_markdown":"Thanks to [the previous post](https://stackoverflow.com/questions/30612811/what-does-scanner-input-new-scannersystem-in-actually-mean), I get to understand \r\n```\r\nScanner input = new Scanner(System.in);\r\n\r\nint i = input.nextInt()\r\n\r\n\r\n```\r\nTo understand more thoroughly, I read [the API document](https://stackoverflow.com/questions/30612811/what-does-scanner-input-new-scannersystem-in-actually-mean) and it said:\r\n\r\n\r\n&gt; The next() and hasNext() methods and their primitive-type companion\r\n&gt; methods (such as nextInt() and hasNextInt()) first skip any input that\r\n&gt; matches the delimiter pattern, and then attempt to return the next\r\n&gt; token.\r\n\r\n\r\n\r\nCan anyone interpret this sentence for me? Whenever I think of the &quot;next()&quot; method, I wonder why it is called next.  \r\n","title":"Java Scanner and next() method -- what does it really mean, &quot;next&quot;?","body":"<p>Thanks to <a href=\"https://stackoverflow.com/questions/30612811/what-does-scanner-input-new-scannersystem-in-actually-mean\">the previous post</a>, I get to understand</p>\n<pre><code>Scanner input = new Scanner(System.in);\n\nint i = input.nextInt()\n\n\n</code></pre>\n<p>To understand more thoroughly, I read <a href=\"https://stackoverflow.com/questions/30612811/what-does-scanner-input-new-scannersystem-in-actually-mean\">the API document</a> and it said:</p>\n<blockquote>\n<p>The next() and hasNext() methods and their primitive-type companion\nmethods (such as nextInt() and hasNextInt()) first skip any input that\nmatches the delimiter pattern, and then attempt to return the next\ntoken.</p>\n</blockquote>\n<p>Can anyone interpret this sentence for me? Whenever I think of the &quot;next()&quot; method, I wonder why it is called next.</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":24135437,"reputation":46,"user_id":18102446,"display_name":"Techie"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1644721362,"creation_date":1644720391,"answer_id":71097505,"question_id":71097325,"body_markdown":"@Autowired annotation should be placed on each field that needs injection. \r\n\r\n\r\n    @Autowired\r\n    private UserRepository repo;\r\n    \r\n    @Autowired\r\n    private UserService userService;","title":"Cannot invoke because &quot;&quot; because service is null","body":"<p>@Autowired annotation should be placed on each field that needs injection.</p>\n<pre><code>@Autowired\nprivate UserRepository repo;\n\n@Autowired\nprivate UserService userService;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19320165,"reputation":99,"user_id":14124017,"display_name":"Om Prakash N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670223837,"creation_date":1670223837,"answer_id":74684432,"question_id":71097325,"body_markdown":"You are missing the @Autowired annotation before ```private UserService userService;```.\r\n\r\nIt should be\r\n```\r\n@Autowired\r\nprivate UserRepository repo;\r\n@Autowired\r\nprivate UserService userService;\r\n``` ","title":"Cannot invoke because &quot;&quot; because service is null","body":"<p>You are missing the @Autowired annotation before <code>private UserService userService;</code>.</p>\n<p>It should be</p>\n<pre><code>@Autowired\nprivate UserRepository repo;\n@Autowired\nprivate UserService userService;\n</code></pre>\n"}],"owner":{"account_id":21256545,"reputation":23,"user_id":15637962,"display_name":"michaele1280"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3323,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71097505,"answer_count":2,"score":0,"last_activity_date":1670223837,"creation_date":1644717393,"question_id":71097325,"body_markdown":"I&#39;ve been trying to use a springboot project that can integrate with mysql and jasperreports. The idea is that the user can add whoever to the database and then print a report with all entities. The error is at viewReport() function on my controller. It says that this.userService is null\r\n\r\n    @Controller\r\n    public class AppController {\r\n\r\n\t@Autowired\r\n\tprivate UserRepository repo;\r\n\tprivate UserService userService;\r\n\t\r\n\t@GetMapping(&quot;&quot;)\r\n\tpublic String viewHomePage() {\r\n\t\treturn &quot;index&quot;;\r\n\t}\r\n\t\r\n\t@GetMapping(&quot;/register&quot;)\r\n\tpublic String showSignUpForm(Model model) {\r\n\t\tmodel.addAttribute(&quot;user&quot;, new User());\r\n\t\t\r\n\t\treturn &quot;signup_form&quot;;\r\n\t}\r\n\t\r\n\t@GetMapping(&quot;/report&quot;)\r\n\tpublic String generateReport() {\r\n\t\tuserService.viewReport();\r\n\t\t\r\n\t\treturn &quot;index&quot;;\r\n\t}\r\n\t\r\n\t@PostMapping(&quot;/process_register&quot;)\r\n\tpublic String processRegistration(User user) {\r\n\t\trepo.save(user);\r\n\t\t\r\n\t\treturn &quot;register_success&quot;;\r\n\t}\r\n    }\r\n\r\nHere is my controller. The error being the userService.viewReport();\r\n\r\n```\r\n@Service\r\npublic class UserService {\r\n\t\r\n\t@Autowired\r\n\tprivate UserRepository repo;\r\n\t\r\n\tpublic String viewReport() {\r\n\t\tLog.info(&quot;Preparing the pdf report via Jasper.&quot;);\r\n\t\ttry {\r\n\t\t\tcreatePdfReport(repo.findAll());\r\n\t\t\tLog.info(&quot;File successfully saved at given path.&quot;);\r\n\t\t} catch (final Exception e) {\r\n\t\t\tLog.error(&quot;Some error has occured while preparing PDF document.&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn &quot;Done in ViewReport&quot;;\r\n\t}\r\n\t\r\n\tpublic void createPdfReport(final List&lt;User&gt; users) throws JRException {\r\n\t\t//Fetching .jrxml file from resources folder.\r\n\t\tfinal InputStream stream = this.getClass().getResourceAsStream(&quot;/report.jrxml&quot;);\r\n\t\t\r\n\t\t//compile report from .jrxml to .jasper\r\n\t\tfinal JasperReport report = JasperCompileManager.compileReport(stream);\r\n\t\t\r\n\t\t//Fetch users from the data source\r\n\t\tfinal JRBeanCollectionDataSource source = new JRBeanCollectionDataSource(users);\r\n\t\t\r\n\t\t//Adding the additional parameters to the pdf\r\n\t\tfinal Map&lt;String, Object&gt; parameters = new HashMap&lt;&gt;();\r\n\t\tparameters.put(&quot;CreatedBy&quot;, &quot;edu.sru.Smith&quot; );\r\n\t\t\r\n\t\t//filling report with data from database\r\n\t\tfinal JasperPrint print = JasperFillManager.fillReport(report, parameters, source);\r\n\t\t\r\n\t\t//place file in c:drive\r\n\t\tfinal String filePath = &quot;C://CPSC-488&quot;;\r\n\t\t//export report to pdf file\r\n\t\tJasperExportManager.exportReportToPdfFile(print, filePath + &quot;Employee_Report.pdf&quot;);\r\n\t\t\r\n\t}\r\n\t\r\n} ```\r\n\r\nThat is my service class that autofills with the data from the MySQL database. I have tried adding a number of annotations and other things, but I haven&#39;t had success with anything. I&#39;m honestly just new to this whole springboot thing and annotations overall and I have no idea where to go from here.\r\n\r\n","title":"Cannot invoke because &quot;&quot; because service is null","body":"<p>I've been trying to use a springboot project that can integrate with mysql and jasperreports. The idea is that the user can add whoever to the database and then print a report with all entities. The error is at viewReport() function on my controller. It says that this.userService is null</p>\n<pre><code>@Controller\npublic class AppController {\n\n@Autowired\nprivate UserRepository repo;\nprivate UserService userService;\n\n@GetMapping(&quot;&quot;)\npublic String viewHomePage() {\n    return &quot;index&quot;;\n}\n\n@GetMapping(&quot;/register&quot;)\npublic String showSignUpForm(Model model) {\n    model.addAttribute(&quot;user&quot;, new User());\n    \n    return &quot;signup_form&quot;;\n}\n\n@GetMapping(&quot;/report&quot;)\npublic String generateReport() {\n    userService.viewReport();\n    \n    return &quot;index&quot;;\n}\n\n@PostMapping(&quot;/process_register&quot;)\npublic String processRegistration(User user) {\n    repo.save(user);\n    \n    return &quot;register_success&quot;;\n}\n}\n</code></pre>\n<p>Here is my controller. The error being the userService.viewReport();</p>\n<pre><code>@Service\npublic class UserService {\n    \n    @Autowired\n    private UserRepository repo;\n    \n    public String viewReport() {\n        Log.info(&quot;Preparing the pdf report via Jasper.&quot;);\n        try {\n            createPdfReport(repo.findAll());\n            Log.info(&quot;File successfully saved at given path.&quot;);\n        } catch (final Exception e) {\n            Log.error(&quot;Some error has occured while preparing PDF document.&quot;);\n            e.printStackTrace();\n        }\n        return &quot;Done in ViewReport&quot;;\n    }\n    \n    public void createPdfReport(final List&lt;User&gt; users) throws JRException {\n        //Fetching .jrxml file from resources folder.\n        final InputStream stream = this.getClass().getResourceAsStream(&quot;/report.jrxml&quot;);\n        \n        //compile report from .jrxml to .jasper\n        final JasperReport report = JasperCompileManager.compileReport(stream);\n        \n        //Fetch users from the data source\n        final JRBeanCollectionDataSource source = new JRBeanCollectionDataSource(users);\n        \n        //Adding the additional parameters to the pdf\n        final Map&lt;String, Object&gt; parameters = new HashMap&lt;&gt;();\n        parameters.put(&quot;CreatedBy&quot;, &quot;edu.sru.Smith&quot; );\n        \n        //filling report with data from database\n        final JasperPrint print = JasperFillManager.fillReport(report, parameters, source);\n        \n        //place file in c:drive\n        final String filePath = &quot;C://CPSC-488&quot;;\n        //export report to pdf file\n        JasperExportManager.exportReportToPdfFile(print, filePath + &quot;Employee_Report.pdf&quot;);\n        \n    }\n    \n} ```\n\nThat is my service class that autofills with the data from the MySQL database. I have tried adding a number of annotations and other things, but I haven't had success with anything. I'm honestly just new to this whole springboot thing and annotations overall and I have no idea where to go from here.\n\n</code></pre>\n"},{"tags":["java","reactive-programming","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670223426,"creation_date":1670223426,"answer_id":74684375,"question_id":74629289,"body_markdown":"Your snippet looks fine.\r\n\r\nIn case you want only a fixed delay independent of the query response time (i.e, if you want to send the query every x seconds, whatever time it takes for the previous request to complete) you can use `Flux.interval` combined with `takeUntil` or `any` to stop the flux as soon as you receive the right status.\r\n\r\nBy using interval instead of retry, you lose the ability to &quot;back off&quot;, i.e. increase retry delay on the fly. However, interval will provide you with :\r\n\r\n - a counter, to track the number of trials.\r\n - the possibility to configure if you want to wait for a query to be completed before sending another (concatMap) or not (flatMap).\r\n - Not sure, but you might gain performance because, with the interval approach, you don&#39;t need to create and catch exceptions.\r\n\r\nLook at the following example : \r\n\r\n```java\r\n\r\n// Repeat every 100 ms\r\nint MAX_ATTEMPTS = 10;\r\nFlux.interval(Duration.ofMillis(100))\r\n    .concatMap(count -&gt; fetchStatus\r\n\t\t    .map(status -&gt; new Report(count, status))\r\n    )\r\n    // Take operator add a limit on the total number of requests sent.\r\n    // You can also use a timelapse instead of a maximum number of trials.\r\n\t.take(MAX_ATTEMPTS, true)\r\n    // Take until sends all responses downstream until we get a true status,\r\n    // included. You can replace it with `any` if you&#39;re only interested with the\r\n    // successful signal. If using any, you can combine it with `switchIfEmpty`\r\n    // to raise an error if no true status has been received after a given\r\n    // number of trials.\r\n    .takeUntil(pair -&gt; pair.status)\r\n    .timed()\r\n\t.subscribe(value -&gt; System.out.println(&quot;Received: &quot;+ value.get() + &quot; after &quot; + value.elapsedSinceSubscription().toMillis() + &quot; ms&quot;));\r\n```\r\n\r\nThe above example prints: \r\n\r\n```stdout\r\nReceived: Report[count=0, status=false] after 157 ms\r\nReceived: Report[count=1, status=false] after 254 ms\r\nReceived: Report[count=2, status=false] after 352 ms\r\nReceived: Report[count=3, status=false] after 452 ms\r\nReceived: Report[count=4, status=true] after 552 ms\r\n```\r\n\r\nAs we see, even if the query takes 50 ms to execute, it is triggered at fixed interval (every 100 milliseconds).","title":"How do I make a poll request using Reactor Mono","body":"<p>Your snippet looks fine.</p>\n<p>In case you want only a fixed delay independent of the query response time (i.e, if you want to send the query every x seconds, whatever time it takes for the previous request to complete) you can use <code>Flux.interval</code> combined with <code>takeUntil</code> or <code>any</code> to stop the flux as soon as you receive the right status.</p>\n<p>By using interval instead of retry, you lose the ability to &quot;back off&quot;, i.e. increase retry delay on the fly. However, interval will provide you with :</p>\n<ul>\n<li>a counter, to track the number of trials.</li>\n<li>the possibility to configure if you want to wait for a query to be completed before sending another (concatMap) or not (flatMap).</li>\n<li>Not sure, but you might gain performance because, with the interval approach, you don't need to create and catch exceptions.</li>\n</ul>\n<p>Look at the following example :</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n// Repeat every 100 ms\nint MAX_ATTEMPTS = 10;\nFlux.interval(Duration.ofMillis(100))\n    .concatMap(count -&gt; fetchStatus\n            .map(status -&gt; new Report(count, status))\n    )\n    // Take operator add a limit on the total number of requests sent.\n    // You can also use a timelapse instead of a maximum number of trials.\n    .take(MAX_ATTEMPTS, true)\n    // Take until sends all responses downstream until we get a true status,\n    // included. You can replace it with `any` if you're only interested with the\n    // successful signal. If using any, you can combine it with `switchIfEmpty`\n    // to raise an error if no true status has been received after a given\n    // number of trials.\n    .takeUntil(pair -&gt; pair.status)\n    .timed()\n    .subscribe(value -&gt; System.out.println(&quot;Received: &quot;+ value.get() + &quot; after &quot; + value.elapsedSinceSubscription().toMillis() + &quot; ms&quot;));\n</code></pre>\n<p>The above example prints:</p>\n<pre><code>Received: Report[count=0, status=false] after 157 ms\nReceived: Report[count=1, status=false] after 254 ms\nReceived: Report[count=2, status=false] after 352 ms\nReceived: Report[count=3, status=false] after 452 ms\nReceived: Report[count=4, status=true] after 552 ms\n</code></pre>\n<p>As we see, even if the query takes 50 ms to execute, it is triggered at fixed interval (every 100 milliseconds).</p>\n"}],"owner":{"account_id":13467469,"reputation":778,"user_id":9740664,"display_name":"Patrick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670223426,"creation_date":1669818044,"question_id":74629289,"body_markdown":"I have to poll status from the external system until it turns ready. here&#39;s what I did.\r\n\r\n    checkStatus = webClient.get(...)\r\n                           .bodyToMono(String.class)\r\n                           .map(response -&gt; Status.from(response));\r\n    \r\n    pollUntilReady = checkStatus.filter(status -&gt; status.isReady())\r\n                                .switchIfEmpty(\r\n                                   Mono.error(new SystemStateNotReadyException())\r\n                                .retryWhen(\r\n                                   Retry.fixedDelay(MAX_ATTEMPT, BACK_OFF)\r\n                                        .filter(err -&gt; err instanceOf SystemStateNotReadyException));\r\n\r\nIt works fine but I&#39;m not expert in reactive programming so I&#39;m not sure if this code is thread-safe or causing memory leak etc. Is it safe to do this or any better way recommend?","title":"How do I make a poll request using Reactor Mono","body":"<p>I have to poll status from the external system until it turns ready. here's what I did.</p>\n<pre><code>checkStatus = webClient.get(...)\n                       .bodyToMono(String.class)\n                       .map(response -&gt; Status.from(response));\n\npollUntilReady = checkStatus.filter(status -&gt; status.isReady())\n                            .switchIfEmpty(\n                               Mono.error(new SystemStateNotReadyException())\n                            .retryWhen(\n                               Retry.fixedDelay(MAX_ATTEMPT, BACK_OFF)\n                                    .filter(err -&gt; err instanceOf SystemStateNotReadyException));\n</code></pre>\n<p>It works fine but I'm not expert in reactive programming so I'm not sure if this code is thread-safe or causing memory leak etc. Is it safe to do this or any better way recommend?</p>\n"},{"tags":["java","arrays"],"answers":[{"tags":[],"owner":{"account_id":27099689,"reputation":15,"user_id":20646465,"display_name":"Florian B&#228;r"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670223320,"creation_date":1669901353,"answer_id":74642663,"question_id":74640776,"body_markdown":"Your problem is your For-Loop. Why?\r\nBecause, lets make it simple and go with numbers. lets say your Array contains:\r\n1,2,3,4,etc. Now you are adding 0. You will add 0 in the first spot then you will push the first spot to the second spot. Next you iterate to the second spot. This spot is already the content of firstspot e.g. already is 0, so you already lost your  content 2. Then you push this 0 to the 3rd spot and so on. Thats why you got everywhere the same Entry. \r\n\r\nTry this.\r\n```java\r\npublic void insert(String string) {\r\n    //Buffer for updating Array\r\n    Entry Buffer = grid[0];\r\n    for (int i = 0; i &lt; grid.length; i++) {\r\n        //Shifting all Entrys one index higher\r\n        Entry tmp = grid[i + 1];\r\n        grid[i + 1] = Buffer;\r\n        Buffer = tmp;\r\n    }\r\n\r\n    //Set previous and next to the updated 2nd and last Entry\r\n    grid[0] = new Entry(grid[1], grid[grid.length - 1]);\r\n    grid[0].element = string;\r\n\r\n    this.print();\r\n}","title":"Insert method of Selfmade Ringbuffer not working as expected","body":"<p>Your problem is your For-Loop. Why?\nBecause, lets make it simple and go with numbers. lets say your Array contains:\n1,2,3,4,etc. Now you are adding 0. You will add 0 in the first spot then you will push the first spot to the second spot. Next you iterate to the second spot. This spot is already the content of firstspot e.g. already is 0, so you already lost your  content 2. Then you push this 0 to the 3rd spot and so on. Thats why you got everywhere the same Entry.</p>\n<p>Try this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void insert(String string) {\n    //Buffer for updating Array\n    Entry Buffer = grid[0];\n    for (int i = 0; i &lt; grid.length; i++) {\n        //Shifting all Entrys one index higher\n        Entry tmp = grid[i + 1];\n        grid[i + 1] = Buffer;\n        Buffer = tmp;\n    }\n\n    //Set previous and next to the updated 2nd and last Entry\n    grid[0] = new Entry(grid[1], grid[grid.length - 1]);\n    grid[0].element = string;\n\n    this.print();\n}\n</code></pre>\n"}],"owner":{"account_id":25630317,"reputation":1,"user_id":19400807,"display_name":"Moto5000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670223320,"creation_date":1669892253,"question_id":74640776,"body_markdown":"I&#39;m new to programming and I&#39;m stuck on a certain little project. \r\n\r\nThe task is to program a kind of ring buffer. I thought that I&#39;ve solved it, but the `insert()` method does not work as intended. \r\n\r\nFirst, the method inserts a string into the element field of the first element in the array (an Entry object). The idea then is to move every element in an array one index further, after a new element is put in. By doing this the first inserted string will be overwritten when the array is full. Whenever I add new items to the array all elements in the array are the same. For instance, if I add the string `Number1` through this method the result is an array consisting of objects that all hold the string `Number1`. \r\n\r\nA little help would be appreciated as I seemingly turned blind to my code.  \r\nHere is my code: \r\n\r\n\r\n```\r\npackage k2;\r\n\r\npublic class Buffer {\r\n//kind of a ringbuffer\r\n\r\n\tpublic Entry first;\r\n\tpublic Entry[] grid;\r\n\t\r\n\tpublic Buffer(int capacity) {\r\n\t\tthis.grid = new Entry[capacity];\r\n\t\tfor (int i = 0; i &lt; capacity; i++) {\r\n\t\t\tthis.grid[i] = new Entry(this.grid[(i + 1) % capacity], this.grid[(i + (capacity - 1)) % capacity]);\r\n\t\t}\r\n\t\tthis.first = grid[0];\r\n\t}\r\n\t\r\n\tpublic class Entry { \r\n//The Entry objects should be linked to each other and hold a string in their element field\r\n\r\n\t\tpublic String element;\r\n\t\tpublic Entry next;\r\n\t\tpublic Entry previous;\r\n\t\t\r\n\t\tpublic Entry(Entry next, Entry previous) { \r\n\t\t\tthis.element = null;\r\n\t\t\tthis.next = next;\r\n\t\t\tthis.previous = next;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void insert(String string) {\r\n\t\tgrid[0].element = string;\r\n\t\t\r\n\t\tEntry[] grid2 = new Entry[grid.length];\r\n\t\t\r\n                // After adding an element, every item in the array should be moved to the next             index\r\n\t\tfor (int j = 0; j &lt; grid.length; j++) {\r\n\t\t\tgrid2[(j + 1) % grid.length] = grid[j];\r\n\t\t\tthis.grid = grid2; \r\n\t\t}\r\n\t\t\r\n\t\tthis.print();\r\n\t}\r\n\t\r\n\tpublic void print() {\r\n\t\tfor (Entry element : grid) {\r\n\t\t\tif (element.element == null) {\r\n\t\t\t\tSystem.out.println(&quot;Empty!&quot;);\r\n\t\t\t} \r\n\t\t\telse {\r\n\t\t\tSystem.out.println(element.element);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\n \r\n\r\nI&#39;ve tried to change the method, but I can&#39;t fix the problem. I tried to solve it on paper as well and for me, everything seems just right. ","title":"Insert method of Selfmade Ringbuffer not working as expected","body":"<p>I'm new to programming and I'm stuck on a certain little project.</p>\n<p>The task is to program a kind of ring buffer. I thought that I've solved it, but the <code>insert()</code> method does not work as intended.</p>\n<p>First, the method inserts a string into the element field of the first element in the array (an Entry object). The idea then is to move every element in an array one index further, after a new element is put in. By doing this the first inserted string will be overwritten when the array is full. Whenever I add new items to the array all elements in the array are the same. For instance, if I add the string <code>Number1</code> through this method the result is an array consisting of objects that all hold the string <code>Number1</code>.</p>\n<p>A little help would be appreciated as I seemingly turned blind to my code.<br />\nHere is my code:</p>\n<pre><code>package k2;\n\npublic class Buffer {\n//kind of a ringbuffer\n\n    public Entry first;\n    public Entry[] grid;\n    \n    public Buffer(int capacity) {\n        this.grid = new Entry[capacity];\n        for (int i = 0; i &lt; capacity; i++) {\n            this.grid[i] = new Entry(this.grid[(i + 1) % capacity], this.grid[(i + (capacity - 1)) % capacity]);\n        }\n        this.first = grid[0];\n    }\n    \n    public class Entry { \n//The Entry objects should be linked to each other and hold a string in their element field\n\n        public String element;\n        public Entry next;\n        public Entry previous;\n        \n        public Entry(Entry next, Entry previous) { \n            this.element = null;\n            this.next = next;\n            this.previous = next;\n        }\n    }\n\n    public void insert(String string) {\n        grid[0].element = string;\n        \n        Entry[] grid2 = new Entry[grid.length];\n        \n                // After adding an element, every item in the array should be moved to the next             index\n        for (int j = 0; j &lt; grid.length; j++) {\n            grid2[(j + 1) % grid.length] = grid[j];\n            this.grid = grid2; \n        }\n        \n        this.print();\n    }\n    \n    public void print() {\n        for (Entry element : grid) {\n            if (element.element == null) {\n                System.out.println(&quot;Empty!&quot;);\n            } \n            else {\n            System.out.println(element.element);\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>I've tried to change the method, but I can't fix the problem. I tried to solve it on paper as well and for me, everything seems just right.</p>\n"},{"tags":["java","reflection","confluence"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1670223076,"post_id":74684295,"comment_id":131817287,"body_markdown":"Have you looked into proxies?","body":"Have you looked into proxies?"},{"owner":{"account_id":11180075,"reputation":131,"user_id":8204380,"display_name":"Leon kong"},"score":0,"creation_date":1670224478,"post_id":74684295,"comment_id":131817587,"body_markdown":"Yes, but I can&#39;t find any way to do the overriding","body":"Yes, but I can&#39;t find any way to do the overriding"}],"owner":{"account_id":11180075,"reputation":131,"user_id":8204380,"display_name":"Leon kong"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670222804,"creation_date":1670222804,"question_id":74684295,"body_markdown":"I wonder if it is possible to override a method from an interface. I&#39;m developing a plugin application for Confluence Data Center, and I need to maintain backward compatibility with the older version of Confluence, some of the interfaces are only available in the latest version of Confluence SDK, and I need to implement it dynamically(check the version, if it&#39;s an old version, use old interface)\r\n\r\nthis is the interface I need to implement:\r\n```\r\npublic interface SiteSearchPermissionsQueryFactory {\r\n    SearchQuery create();\r\n}\r\n```\r\n\r\nI have a class implementing the interface:\r\n\r\n```\r\npublic class SiteSearchPermissionQueryFactory implements SiteSearchPermissionsQueryFactory {\r\n    final private SearchQuery searchQuery;\r\n\r\n    public SiteSearchPermissionQueryFactory(SearchQuery searchQuery){\r\n        this.searchQuery = searchQuery;\r\n    }\r\n\r\n    @Override\r\n    public SearchQuery create() {\r\n        return searchQuery;\r\n    }\r\n}\r\n```\r\nAs `SiteSearchPermissionsQueryFactory` is a new interface and only available on the latest version of Confluence SDK, and now I need to implement this interface and its override method `create()` dynamically on runtime(if my plugin application runs on latest version of Confluence).\r\nI can check the instance of `SiteSearchPermissionsQueryFactory` like this:\r\n```\r\npublic static SearchQuery getCompatibleQuery() {\r\n        try {\r\n            Class&lt;?&gt; permissionQueryFactory = Class.forName(&quot;SiteSearchPermissionsQueryFactory&quot;);\r\n            Object instance = Proxy.newProxyInstance(permissionQueryFactory.getClassLoader(), new Class&lt;?&gt;[]{permissionQueryFactory}, new InvocationHandler() {\r\n                @Override\r\n                public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\r\n                    //Handle the invocations\r\n                    if(method.getName().equals(&quot;create&quot;)){\r\n                        return 1;\r\n                    }\r\n                    else return -1;\r\n                }\r\n            });\r\n        } catch (Exception e) {\r\n          return null;\r\n        }\r\n    }\r\n```\r\nBut I have no idea how to override the `create()` method. Any help would be appreciated! ","title":"Is it possible to override a method from interface at runtime?","body":"<p>I wonder if it is possible to override a method from an interface. I'm developing a plugin application for Confluence Data Center, and I need to maintain backward compatibility with the older version of Confluence, some of the interfaces are only available in the latest version of Confluence SDK, and I need to implement it dynamically(check the version, if it's an old version, use old interface)</p>\n<p>this is the interface I need to implement:</p>\n<pre><code>public interface SiteSearchPermissionsQueryFactory {\n    SearchQuery create();\n}\n</code></pre>\n<p>I have a class implementing the interface:</p>\n<pre><code>public class SiteSearchPermissionQueryFactory implements SiteSearchPermissionsQueryFactory {\n    final private SearchQuery searchQuery;\n\n    public SiteSearchPermissionQueryFactory(SearchQuery searchQuery){\n        this.searchQuery = searchQuery;\n    }\n\n    @Override\n    public SearchQuery create() {\n        return searchQuery;\n    }\n}\n</code></pre>\n<p>As <code>SiteSearchPermissionsQueryFactory</code> is a new interface and only available on the latest version of Confluence SDK, and now I need to implement this interface and its override method <code>create()</code> dynamically on runtime(if my plugin application runs on latest version of Confluence).\nI can check the instance of <code>SiteSearchPermissionsQueryFactory</code> like this:</p>\n<pre><code>public static SearchQuery getCompatibleQuery() {\n        try {\n            Class&lt;?&gt; permissionQueryFactory = Class.forName(&quot;SiteSearchPermissionsQueryFactory&quot;);\n            Object instance = Proxy.newProxyInstance(permissionQueryFactory.getClassLoader(), new Class&lt;?&gt;[]{permissionQueryFactory}, new InvocationHandler() {\n                @Override\n                public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n                    //Handle the invocations\n                    if(method.getName().equals(&quot;create&quot;)){\n                        return 1;\n                    }\n                    else return -1;\n                }\n            });\n        } catch (Exception e) {\n          return null;\n        }\n    }\n</code></pre>\n<p>But I have no idea how to override the <code>create()</code> method. Any help would be appreciated!</p>\n"},{"tags":["java","mysql","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":23392466,"reputation":631,"user_id":17456955,"display_name":"RP.S"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1670208300,"creation_date":1670208300,"answer_id":74682846,"question_id":74682790,"body_markdown":"jarfile need to use an absolute path,","title":"ConnectionJ - &quot;Unable to access jarfile&quot;","body":"<p>jarfile need to use an absolute path,</p>\n"},{"tags":[],"owner":{"account_id":27147415,"reputation":1,"user_id":20687389,"display_name":"cat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670212125,"creation_date":1670212125,"answer_id":74683163,"question_id":74682790,"body_markdown":"try to check your jarfile path\r\nLike this :  java -jar D:\\Java\\IdeaProjects\\springboot3\\target\\springboot3-0.0.1-SNAPSHOT.jar","title":"ConnectionJ - &quot;Unable to access jarfile&quot;","body":"<p>try to check your jarfile path\nLike this :  java -jar D:\\Java\\IdeaProjects\\springboot3\\target\\springboot3-0.0.1-SNAPSHOT.jar</p>\n"}],"owner":{"account_id":27147072,"reputation":1,"user_id":20687097,"display_name":"Jake Cross"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1670222399,"creation_date":1670207780,"question_id":74682790,"body_markdown":"I&#39;m trying to access my mySQL database from my java program in intelliJ. I have used the correct database information as the Database Navigator plugin can connect fine. But I&#39;m following a tutorial (https://youtu.be/e8g9eNnFpHQ) to use the Connector J jarfile and add it to my modules dependencies but I keep getting\r\n\r\n&gt; Error: Unable to access jarfile\r\n\r\nCant seem to get it to work.\r\n\r\nI&#39;ve tried to go to the properties of the jarfile and change the default opening app and that hasn&#39;t worked.","title":"ConnectionJ - &quot;Unable to access jarfile&quot;","body":"<p>I'm trying to access my mySQL database from my java program in intelliJ. I have used the correct database information as the Database Navigator plugin can connect fine. But I'm following a tutorial (<a href=\"https://youtu.be/e8g9eNnFpHQ\" rel=\"nofollow noreferrer\">https://youtu.be/e8g9eNnFpHQ</a>) to use the Connector J jarfile and add it to my modules dependencies but I keep getting</p>\n<blockquote>\n<p>Error: Unable to access jarfile</p>\n</blockquote>\n<p>Cant seem to get it to work.</p>\n<p>I've tried to go to the properties of the jarfile and change the default opening app and that hasn't worked.</p>\n"},{"tags":["java","gradle","swagger","openapi","springfox"],"owner":{"account_id":24351815,"reputation":11,"user_id":18287545,"display_name":"user18287545"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670222326,"creation_date":1670189217,"question_id":74681073,"body_markdown":"I am using springfox-swagger2 to expose API specification. \r\n`compile &#39;io.springfox:springfox-swagger2&#39;`\r\n\r\n```\r\nspringfox:\r\n  documentation:\r\n    swagger:\r\n      v2:\r\n        path: /v1/api-docs\r\n```\r\n\r\nI have configured Swagger2Configuration and use Swagger annotations in controllers. \r\n\r\nI need to generate a static OpenAPI YAML or JSON file as a result of a separate Gradle task or as build result.\r\n\r\nHow to do it?","title":"How to generate OpenAPI YAML specification at build stage?","body":"<p>I am using springfox-swagger2 to expose API specification.\n<code>compile 'io.springfox:springfox-swagger2'</code></p>\n<pre><code>springfox:\n  documentation:\n    swagger:\n      v2:\n        path: /v1/api-docs\n</code></pre>\n<p>I have configured Swagger2Configuration and use Swagger annotations in controllers.</p>\n<p>I need to generate a static OpenAPI YAML or JSON file as a result of a separate Gradle task or as build result.</p>\n<p>How to do it?</p>\n"},{"tags":["java","linux","spring-boot","ubuntu","process"],"answers":[{"tags":[],"owner":{"account_id":19392376,"reputation":44,"user_id":18708233,"display_name":"trombonedude"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670218311,"creation_date":1670218311,"answer_id":74683748,"question_id":74683652,"body_markdown":"Instead of using `kill`, you can use the [`proc.destroy()`][1] or the [`proc.forciblyDestroy()`][2] methods, which does effectively the same thing and has the added bonus of being cross platform!\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Process.html#destroy--\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/Process.html#destroyForcibly--","title":"How can I get the process ID using Java for Linux Ubuntu?","body":"<p>Instead of using <code>kill</code>, you can use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Process.html#destroy--\" rel=\"nofollow noreferrer\"><code>proc.destroy()</code></a> or the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Process.html#destroyForcibly--\" rel=\"nofollow noreferrer\"><code>proc.forciblyDestroy()</code></a> methods, which does effectively the same thing and has the added bonus of being cross platform!</p>\n"}],"owner":{"account_id":10250922,"reputation":63,"user_id":7565194,"display_name":"HiddenHopes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670222087,"creation_date":1670217393,"question_id":74683652,"body_markdown":"Firstly, I ran the sample.jar with **&quot;java -jar sample.jar&quot;** command in bash.\r\n\r\nThen trying to execute the **&quot;ps -ef | grep &quot;sample.jar&quot;&quot;**\r\ncommand in Linux with Java and to get the process ID on which the sample.jar is running.\r\n\r\n\r\n    String cmd = &quot;ps -ef | grep \\&quot;sample.jar\\&quot;&quot;;\r\n    Runtime rt = Runtime.getRuntime();\r\n    Process proc = rt.exec(cmd);\r\n\r\nBut by the following code I couldn&#39;t find the process ID:\r\n\r\n    BufferedReader stdInput = new BufferedReader(new \r\n    InputStreamReader(proc.getInputStream()));\r\n    String s = null;\r\n    if ((s = stdInput.readLine()) != null) {\r\n\t    String str[] = s.split(&quot;\\\\s+&quot;, 3);\r\n        String processId = str[1]; // I need this processId\r\n        rt.exec(&quot;kill &quot; + processId);\r\n    }\r\n\r\n**I want to find the process id and kill the process.\r\nSo that I can re-run my spring boot project on the same port.**","title":"How can I get the process ID using Java for Linux Ubuntu?","body":"<p>Firstly, I ran the sample.jar with <strong>&quot;java -jar sample.jar&quot;</strong> command in bash.</p>\n<p>Then trying to execute the <strong>&quot;ps -ef | grep &quot;sample.jar&quot;&quot;</strong>\ncommand in Linux with Java and to get the process ID on which the sample.jar is running.</p>\n<pre><code>String cmd = &quot;ps -ef | grep \\&quot;sample.jar\\&quot;&quot;;\nRuntime rt = Runtime.getRuntime();\nProcess proc = rt.exec(cmd);\n</code></pre>\n<p>But by the following code I couldn't find the process ID:</p>\n<pre><code>BufferedReader stdInput = new BufferedReader(new \nInputStreamReader(proc.getInputStream()));\nString s = null;\nif ((s = stdInput.readLine()) != null) {\n    String str[] = s.split(&quot;\\\\s+&quot;, 3);\n    String processId = str[1]; // I need this processId\n    rt.exec(&quot;kill &quot; + processId);\n}\n</code></pre>\n<p><strong>I want to find the process id and kill the process.\nSo that I can re-run my spring boot project on the same port.</strong></p>\n"},{"tags":["java","powershell","visual-studio-code","terminal"],"comments":[{"owner":{"account_id":13770793,"reputation":25892,"user_id":9938317,"display_name":"rioV8"},"score":0,"creation_date":1670166354,"post_id":74677786,"comment_id":131806933,"body_markdown":"it is probably a 1 pixel screenshot, most likely you can&#39;t get rid of it apart from typing it yourself, you would have a much bigger problem if it would not run","body":"it is probably a 1 pixel screenshot, most likely you can&#39;t get rid of it apart from typing it yourself, you would have a much bigger problem if it would not run"},{"owner":{"account_id":19375,"reputation":396713,"user_id":45375,"display_name":"mklement0"},"score":0,"creation_date":1670176590,"post_id":74677786,"comment_id":131809420,"body_markdown":"I think the command line used to run / debug your program is by design shown in the terminal; I wouldn&#39;t know how to prevent it from being shown, but you can clear the terminal from inside your application as soon as it starts up.","body":"I think the command line used to run / debug your program is by design shown in the terminal; I wouldn&#39;t know how to prevent it from being shown, but you can clear the terminal from inside your application as soon as it starts up."},{"owner":{"account_id":13770793,"reputation":25892,"user_id":9938317,"display_name":"rioV8"},"score":0,"creation_date":1670177035,"post_id":74677786,"comment_id":131809527,"body_markdown":"with what smaller command do you expect to debug your program no matter what the current directory in the terminal is","body":"with what smaller command do you expect to debug your program no matter what the current directory in the terminal is"}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670221880,"creation_date":1670220103,"answer_id":74683970,"question_id":74677786,"body_markdown":"This is how vscode works, it will display the executed command on the command line. If you don&#39;t like it, an alternative is to use the [***Code Runner***][1] extension. After the installation is complete, add a configuration in **settings.json**, and then use `Run Code` to run the code, and the result will be output in the **OUTPUT** panel.\r\n\r\n```json\r\n    &quot;code-runner.runInTerminal&quot;: false,\r\n    &quot;code-runner.clearPreviousOutput&quot;: true,\r\n    &quot;code-runner.showExecutionMessage&quot;: false,\r\n```\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://marketplace.visualstudio.com/items?itemName=formulahendry.code-runner\r\n  [2]: https://i.stack.imgur.com/9J3CT.png","title":"How do I remove the dir path from the powershell terminal in vscode?","body":"<p>This is how vscode works, it will display the executed command on the command line. If you don't like it, an alternative is to use the <a href=\"https://marketplace.visualstudio.com/items?itemName=formulahendry.code-runner\" rel=\"nofollow noreferrer\"><em><strong>Code Runner</strong></em></a> extension. After the installation is complete, add a configuration in <strong>settings.json</strong>, and then use <code>Run Code</code> to run the code, and the result will be output in the <strong>OUTPUT</strong> panel.</p>\n<pre class=\"lang-json prettyprint-override\"><code>    &quot;code-runner.runInTerminal&quot;: false,\n    &quot;code-runner.clearPreviousOutput&quot;: true,\n    &quot;code-runner.showExecutionMessage&quot;: false,\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/9J3CT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9J3CT.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":27142461,"reputation":3,"user_id":20683156,"display_name":"Lokmane Ammar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74683970,"answer_count":1,"score":0,"last_activity_date":1670221880,"creation_date":1670165964,"question_id":74677786,"body_markdown":"I want the terminal to just show a clean output of my code when I run it. I&#39;m trying to get rid of the highlighted text in [this screenshot.][1]  \r\n\r\nI already changed the PS prompt in my profile to &quot;&gt; &quot; but there&#39;s still some text every time I run my code. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TTlv3.png","title":"How do I remove the dir path from the powershell terminal in vscode?","body":"<p>I want the terminal to just show a clean output of my code when I run it. I'm trying to get rid of the highlighted text in <a href=\"https://i.stack.imgur.com/TTlv3.png\" rel=\"nofollow noreferrer\">this screenshot.</a></p>\n<p>I already changed the PS prompt in my profile to &quot;&gt; &quot; but there's still some text every time I run my code.</p>\n"},{"tags":["java","java.util.scanner","command-line-arguments"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1670208590,"post_id":74682824,"comment_id":131815185,"body_markdown":"I think you should provide the full path on the command line","body":"I think you should provide the full path on the command line"},{"owner":{"account_id":20526095,"reputation":238,"user_id":15064501,"display_name":"Alex"},"score":0,"creation_date":1670208959,"post_id":74682824,"comment_id":131815237,"body_markdown":"It would make things a lot simpler but this is for a class assignment and our professor said that we will only be provided the name of the file and not the path.","body":"It would make things a lot simpler but this is for a class assignment and our professor said that we will only be provided the name of the file and not the path."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1670209404,"post_id":74682824,"comment_id":131815291,"body_markdown":"Java deals with relative paths just fine. `new Scanner(&quot;foo.txt&quot;)` will open the file &#39;foo.txt&#39;, _if_ it is in the same directory as where you start the java process in. Same as all other command line tools. Try printing `System.out.println(new File(&quot;.&quot;).getAbsolutePath());` to show where that is.","body":"Java deals with relative paths just fine. <code>new Scanner(&quot;foo.txt&quot;)</code> will open the file &#39;foo.txt&#39;, <i>if</i> it is in the same directory as where you start the java process in. Same as all other command line tools. Try printing <code>System.out.println(new File(&quot;.&quot;).getAbsolutePath());</code> to show where that is."},{"owner":{"account_id":26896439,"reputation":151,"user_id":20474278,"display_name":"m3ow"},"score":0,"creation_date":1670211872,"post_id":74682824,"comment_id":131815594,"body_markdown":"or you could just modified the System.in. `java program.java &lt; *path to input*`","body":"or you could just modified the System.in. <code>java program.java &lt; *path to input*</code>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1670213003,"post_id":74682824,"comment_id":131815735,"body_markdown":"When your professor runs this code, presumably he or she will provide the correct path, either relative or absolute. You shouldn&#39;t need to worry about that.","body":"When your professor runs this code, presumably he or she will provide the correct path, either relative or absolute. You shouldn&#39;t need to worry about that."},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1670213526,"post_id":74682824,"comment_id":131815811,"body_markdown":"_&quot;The files we want to access already exist in my projects file directory. &quot;_: The _file name_ and the _projects file directory_ are two different sets of info. Are you sure you are accepting the file name only? May be the projects file directory is same on all systems (and this may be relative to your working directory). Some concepts about files you need to be clear about are the present working directory, absolute paths and relative paths - and how they apply to your assignment.","body":"<i>&quot;The files we want to access already exist in my projects file directory. &quot;</i>: The <i>file name</i> and the <i>projects file directory</i> are two different sets of info. Are you sure you are accepting the file name only? May be the projects file directory is same on all systems (and this may be relative to your working directory). Some concepts about files you need to be clear about are the present working directory, absolute paths and relative paths - and how they apply to your assignment."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670221041,"creation_date":1670220739,"answer_id":74684049,"question_id":74682824,"body_markdown":"Either you know the location of the file or you can obtain the location of the file or you can search for the file.\r\n\r\nThe [System](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html) properties contain the path to the working directory, the user&#39;s home directory and the temporary directory, so you could place your file in one of those three. Alternatively, you can use the `-D` option of the [java](https://docs.oracle.com/en/java/javase/17/docs/specs/man/java.html) command to define your own [System] property.\r\n\r\nYou could also define an environment variable and obtain its value via method [getenv](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#getenv()).\r\n\r\nAnother option would be to make the file a [resource](https://docs.oracle.com/javase/8/docs/technotes/guides/lang/resources.html).\r\n\r\nIf you don&#39;t know or can&#39;t obtain the path to the file, then you can [search](https://docs.oracle.com/javase/tutorial/essential/io/find.html) for it, either using the Java API or, via class [ProcessBuilder](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ProcessBuilder.html), execute an operating system command to search for the file. [Note that the `System` properties can also tell you the host operating system.]","title":"How to use command line arguments as Scanner parameter in Java","body":"<p>Either you know the location of the file or you can obtain the location of the file or you can search for the file.</p>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html\" rel=\"nofollow noreferrer\">System</a> properties contain the path to the working directory, the user's home directory and the temporary directory, so you could place your file in one of those three. Alternatively, you can use the <code>-D</code> option of the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/java.html\" rel=\"nofollow noreferrer\">java</a> command to define your own [System] property.</p>\n<p>You could also define an environment variable and obtain its value via method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#getenv()\" rel=\"nofollow noreferrer\">getenv</a>.</p>\n<p>Another option would be to make the file a <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/lang/resources.html\" rel=\"nofollow noreferrer\">resource</a>.</p>\n<p>If you don't know or can't obtain the path to the file, then you can <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/find.html\" rel=\"nofollow noreferrer\">search</a> for it, either using the Java API or, via class <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ProcessBuilder.html\" rel=\"nofollow noreferrer\">ProcessBuilder</a>, execute an operating system command to search for the file. [Note that the <code>System</code> properties can also tell you the host operating system.]</p>\n"}],"owner":{"account_id":20526095,"reputation":238,"user_id":15064501,"display_name":"Alex"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670221041,"creation_date":1670208097,"question_id":74682824,"body_markdown":"I am writing a program that requires that I use java command line arguments to open a file and find some information within that file. The files we want to access already exist in my projects file directory. The way I am trying to access them is by using the `Scanner` and just passing `args[0]` which should be the name of the file that we are trying to access. \r\n\r\nBelow is the code that I have come up with so far. Right now my code will always throw\r\n&gt;java.io.FileNotFoundException: {The Files Name} (The system cannot find the file specified)\r\n\r\n    public static void main(String[] args) {\r\n\t\ttry {\r\n\t\t\tFile inputedFile = new File(args[0]);\r\n\t\t\tScanner fileReader = new Scanner(inputedFile);\r\n\t\t\twhile (fileReader.hasNextLine()) {\r\n\t\t\t\tString fileData = fileReader.nextLine();\r\n\t\t\t\tSystem.out.println(fileData);\r\n\t\t\t}\r\n\t\t\tfileReader.close();\r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\tSystem.out.println(&quot;An error occurred when trying to open the file.&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\nI believe the reason I am getting this exception is because Java is not able to find the file off of just the file&#39;s name. Java needs the location of the file on my system for it to work so for example:\r\n```none\r\nD:\\coding-stuff\\Java\\CS-2420\\src\\comprehensive\\super_simple.txt\r\n```\r\nwould work while\r\n```none\r\nsuper_simple.txt\r\n```\r\nwould not.\r\n\r\nThis is an issue for me because I need this code to be run on multiple machines not just my own. So my question is how can I create a &quot;relative link&quot; to the file within my file structure? ","title":"How to use command line arguments as Scanner parameter in Java","body":"<p>I am writing a program that requires that I use java command line arguments to open a file and find some information within that file. The files we want to access already exist in my projects file directory. The way I am trying to access them is by using the <code>Scanner</code> and just passing <code>args[0]</code> which should be the name of the file that we are trying to access.</p>\n<p>Below is the code that I have come up with so far. Right now my code will always throw</p>\n<blockquote>\n<p>java.io.FileNotFoundException: {The Files Name} (The system cannot find the file specified)</p>\n</blockquote>\n<pre><code>public static void main(String[] args) {\n    try {\n        File inputedFile = new File(args[0]);\n        Scanner fileReader = new Scanner(inputedFile);\n        while (fileReader.hasNextLine()) {\n            String fileData = fileReader.nextLine();\n            System.out.println(fileData);\n        }\n        fileReader.close();\n    } catch (FileNotFoundException e) {\n        System.out.println(&quot;An error occurred when trying to open the file.&quot;);\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>I believe the reason I am getting this exception is because Java is not able to find the file off of just the file's name. Java needs the location of the file on my system for it to work so for example:</p>\n<pre class=\"lang-none prettyprint-override\"><code>D:\\coding-stuff\\Java\\CS-2420\\src\\comprehensive\\super_simple.txt\n</code></pre>\n<p>would work while</p>\n<pre class=\"lang-none prettyprint-override\"><code>super_simple.txt\n</code></pre>\n<p>would not.</p>\n<p>This is an issue for me because I need this code to be run on multiple machines not just my own. So my question is how can I create a &quot;relative link&quot; to the file within my file structure?</p>\n"},{"tags":["java","apache-kafka","apache-flink","flink-streaming"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1670182408,"post_id":74675495,"comment_id":131810784,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":5855328,"reputation":1828,"user_id":6594488,"accept_rate":60,"display_name":"KAs"},"score":0,"creation_date":1678340457,"post_id":74675495,"comment_id":133514220,"body_markdown":"I&#39;m facing exactly the same issue as u, have u solved it already?","body":"I&#39;m facing exactly the same issue as u, have u solved it already?"},{"owner":{"account_id":27141171,"reputation":1,"user_id":20681996,"display_name":"Alon Zatman"},"score":0,"creation_date":1693747050,"post_id":74675495,"comment_id":135798485,"body_markdown":"Yes, adding kafka-clients dependancy to my pom.xml solved my problem.","body":"Yes, adding kafka-clients dependancy to my pom.xml solved my problem."}],"owner":{"account_id":27141171,"reputation":1,"user_id":20681996,"display_name":"Alon Zatman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670220644,"creation_date":1670156195,"question_id":74675495,"body_markdown":"I&#39;m trying to connect to kafka 2.7 with flink 1.16 ( flink-connector-kafka version 1.16 as well), but I&#39;m getting cluster authorization error. \r\n\r\n\r\n\r\nI tried connecting to that same kafka with flink 1.14 and it worked with the same exact code. \r\n\r\nI read in the release notes of 1.16 that thekafka connector now uses kafka client 3.1.1 by default, but I&#39;m not sure if this is my problem.  ","title":"Cluster authorization error while connecting to kafka 2.7 with flink 1.16","body":"<p>I'm trying to connect to kafka 2.7 with flink 1.16 ( flink-connector-kafka version 1.16 as well), but I'm getting cluster authorization error.</p>\n<p>I tried connecting to that same kafka with flink 1.14 and it worked with the same exact code.</p>\n<p>I read in the release notes of 1.16 that thekafka connector now uses kafka client 3.1.1 by default, but I'm not sure if this is my problem.</p>\n"},{"tags":["java","fibonacci"],"comments":[{"owner":{"account_id":6440480,"reputation":19239,"user_id":4990642,"accept_rate":53,"display_name":"Soner from The Ottoman Empire"},"score":0,"creation_date":1670220089,"post_id":74683941,"comment_id":131816726,"body_markdown":"[A space error: $370 million for an integer&#160;overflow](https://hownot2code.wordpress.com/2016/09/02/a-space-error-370-million-for-an-integer-overflow/)","body":"<a href=\"https://hownot2code.wordpress.com/2016/09/02/a-space-error-370-million-for-an-integer-overflow/\" rel=\"nofollow noreferrer\">A space error: $370 million for an integer overflow</a>"}],"answers":[{"tags":[],"owner":{"account_id":20313653,"reputation":848,"user_id":14900042,"display_name":"user-id-14900042"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670220122,"creation_date":1670220122,"answer_id":74683976,"question_id":74683941,"body_markdown":"`int` is 32-bit width integer; you caused an overflow.\r\nTo avoid this, use `long` (64bit width integer) instead.","title":"Why am I getting negative numbers in Fibonacci Series","body":"<p><code>int</code> is 32-bit width integer; you caused an overflow.\nTo avoid this, use <code>long</code> (64bit width integer) instead.</p>\n"}],"owner":{"account_id":27019404,"reputation":1,"user_id":20599804,"display_name":"Heitor Pereira"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1670220116,"answer_count":1,"score":0,"last_activity_date":1670220122,"creation_date":1670219908,"question_id":74683941,"body_markdown":"\r\nI&#39;m making a program that calculates the Fibonacci series in the amount of terms the user wants, but whenever I try with more than 50 terms it starts sending me negative numbers.\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\nclass Fibonacci {\r\n    static int fib(int n) {\r\n        if (n &lt;= 1)\r\n            return n;\r\n\r\n        return fib(n - 1)\r\n                + fib(n - 2);\r\n    }\r\n\r\n    public static void main(String args[]) {\r\n\r\n        Scanner sc = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;insira quantos termos voc&#234; deseja calcular come&#231;ando do 0: &quot;);\r\n        long N = sc.nextLong();\r\n\r\n        for (int i = 0; i &lt; N; i++) {\r\n\r\n            System.out.print(fib(i) + &quot; &quot;);\r\n        }\r\n    }\r\n}\r\n```\r\noutput (50 numbers): 0 1 1 2 3 5 8 13 21 34 55 89 144 233 377 610 987 1597 2584 4181 6765 10946 17711 28657 46368 75025 121393 196418 317811 514229 832040 1346269 2178309 3524578 5702887 9227465 14930352 24157817 39088169 63245986 102334155 165580141 267914296 433494437 701408733 1134903170 1836311903 -1323752223 512559680 -811192543","title":"Why am I getting negative numbers in Fibonacci Series","body":"<p>I'm making a program that calculates the Fibonacci series in the amount of terms the user wants, but whenever I try with more than 50 terms it starts sending me negative numbers.</p>\n<pre><code>import java.util.Scanner;\n\nclass Fibonacci {\n    static int fib(int n) {\n        if (n &lt;= 1)\n            return n;\n\n        return fib(n - 1)\n                + fib(n - 2);\n    }\n\n    public static void main(String args[]) {\n\n        Scanner sc = new Scanner(System.in);\n\n        System.out.println(&quot;insira quantos termos voc deseja calcular comeando do 0: &quot;);\n        long N = sc.nextLong();\n\n        for (int i = 0; i &lt; N; i++) {\n\n            System.out.print(fib(i) + &quot; &quot;);\n        }\n    }\n}\n</code></pre>\n<p>output (50 numbers): 0 1 1 2 3 5 8 13 21 34 55 89 144 233 377 610 987 1597 2584 4181 6765 10946 17711 28657 46368 75025 121393 196418 317811 514229 832040 1346269 2178309 3524578 5702887 9227465 14930352 24157817 39088169 63245986 102334155 165580141 267914296 433494437 701408733 1134903170 1836311903 -1323752223 512559680 -811192543</p>\n"},{"tags":["java","javafx","netbeans","netbeans-14"],"comments":[{"owner":{"account_id":27148279,"reputation":1,"user_id":20688122,"display_name":"Throwaway"},"score":0,"creation_date":1670220819,"post_id":74683968,"comment_id":131816849,"body_markdown":"The jdk that incorporates javafx is the azul Zulu 19.30.11 version and it has a class path error Im not sure how to fix at all","body":"The jdk that incorporates javafx is the azul Zulu 19.30.11 version and it has a class path error Im not sure how to fix at all"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1670223737,"post_id":74683968,"comment_id":131817420,"body_markdown":"I dont know what your issue is, but see [&quot;Unable to create javax script engine for javascript&quot; error when trying to create EXE file](https://stackoverflow.com/questions/71928637/unable-to-create-javax-script-engine-for-javascript-error-when-trying-to-creat/71932205#71932205) in case some of the info is relevant to you (it may not be).  In general, follow the getting started instructions at [openjfx.io](https://openjfx.io/).","body":"I dont know what your issue is, but see <a href=\"https://stackoverflow.com/questions/71928637/unable-to-create-javax-script-engine-for-javascript-error-when-trying-to-creat/71932205#71932205\">&quot;Unable to create javax script engine for javascript&quot; error when trying to create EXE file</a> in case some of the info is relevant to you (it may not be).  In general, follow the getting started instructions at <a href=\"https://openjfx.io/\" rel=\"nofollow noreferrer\">openjfx.io</a>."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1670262162,"post_id":74683968,"comment_id":131830677,"body_markdown":"See also this [answer](https://stackoverflow.com/a/73611827/230513) which illustrates NetBeans 14 with OpenJFX.","body":"See also this <a href=\"https://stackoverflow.com/a/73611827/230513\">answer</a> which illustrates NetBeans 14 with OpenJFX."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1670307479,"post_id":74683968,"comment_id":131839956,"body_markdown":"[1] Not necessarily relevant to your issue, but JDK 18 was released nearly 3 months after NetBeans 14, and [NetBeans 14 does not formally support its use](https://netbeans.apache.org/download/nb14/). It&#39;s worth switching to JDK 17 because it is formally supported, and that would eliminate your JDK version as a potential source of your problem (and potentially others as well). Unless you truly need new features in JDK 18 you have nothing to lose. [2] Have you tried the approach described in the comment from @trashgod for creating your Ant project?","body":"[1] Not necessarily relevant to your issue, but JDK 18 was released nearly 3 months after NetBeans 14, and <a href=\"https://netbeans.apache.org/download/nb14/\" rel=\"nofollow noreferrer\">NetBeans 14 does not formally support its use</a>. It&#39;s worth switching to JDK 17 because it is formally supported, and that would eliminate your JDK version as a potential source of your problem (and potentially others as well). Unless you truly need new features in JDK 18 you have nothing to lose. [2] Have you tried the approach described in the comment from @trashgod for creating your Ant project?"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1670308102,"post_id":74683968,"comment_id":131840111,"body_markdown":"@Throwaway Re your class path error with Azul Zulu 19.30.11, is it possible that you had problems because you have multiple versions of Java installed? If so, it might be worth trying again after uninstalling/deleting older JDK versions. Of course NetBeans 14 doesn&#39;t formally support JDK 19, but if you can get it working you will also gain the advantage of the associated bug fixes in JavaFX 19. Seems worth trying. Also, unless you are required to use NetBeans 14, consider using NetBeans 15 instead.","body":"@Throwaway Re your class path error with Azul Zulu 19.30.11, is it possible that you had problems because you have multiple versions of Java installed? If so, it might be worth trying again after uninstalling/deleting older JDK versions. Of course NetBeans 14 doesn&#39;t formally support JDK 19, but if you can get it working you will also gain the advantage of the associated bug fixes in JavaFX 19. Seems worth trying. Also, unless you are required to use NetBeans 14, consider using NetBeans 15 instead."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1670330153,"post_id":74683968,"comment_id":131847056,"body_markdown":"The missing javascript engine, removed in Java 15, is likely an artifact of having inadvertently chosen to create a JavaFX project instead of a Java Application, as shown [here](https://stackoverflow.com/a/73611827/230513); the easiest fix is to create a new project with your existing sources.","body":"The missing javascript engine, removed in Java 15, is likely an artifact of having inadvertently chosen to create a JavaFX project instead of a Java Application, as shown <a href=\"https://stackoverflow.com/a/73611827/230513\">here</a>; the easiest fix is to create a new project with your existing sources."}],"owner":{"account_id":27148279,"reputation":1,"user_id":20688122,"display_name":"Throwaway"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670220098,"creation_date":1670220098,"question_id":74683968,"body_markdown":"Im currently using java jdk 18.0.2 attempting to make a javafx program, but it says it is not available. Ive downloaded the libraries and added them manually to my project but that does not work also. Finally I downloaded a jdk off of azul that incorporates javafx in it but this also does not work. Everytine the program runs and compiles it says that it cant find the javafx for JavaScript even though Im using java \r\n\r\nIve tried downloading multiple different jdks and sdks to throw in as separate libraries to use for import but it still is not working. Is it a problem with Apache 14?\r\n\r\n\r\nMy professor requires us to use java with ant so using maven is not an option. ","title":"Javafx and netbeans 14","body":"<p>Im currently using java jdk 18.0.2 attempting to make a javafx program, but it says it is not available. Ive downloaded the libraries and added them manually to my project but that does not work also. Finally I downloaded a jdk off of azul that incorporates javafx in it but this also does not work. Everytine the program runs and compiles it says that it cant find the javafx for JavaScript even though Im using java</p>\n<p>Ive tried downloading multiple different jdks and sdks to throw in as separate libraries to use for import but it still is not working. Is it a problem with Apache 14?</p>\n<p>My professor requires us to use java with ant so using maven is not an option.</p>\n"},{"tags":["java","android","service","jobservice"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670218045,"creation_date":1670218045,"answer_id":74683724,"question_id":74683406,"body_markdown":"You don&#39;t need any type of service of job to keep a notification around.  Notifications stay until the user swipes them away.  But no, there is no way to force this-  when the battery is low, the OS kills everything it can to minimize power usage.  Which is the right choice-  the user will almost certainly prefer to miss your notification than have his phone die on him (although again, you don&#39;t need anything like this to keep a notification around)","title":"JobService stopping by battery save mode and 15% - 10% - 5% status","body":"<p>You don't need any type of service of job to keep a notification around.  Notifications stay until the user swipes them away.  But no, there is no way to force this-  when the battery is low, the OS kills everything it can to minimize power usage.  Which is the right choice-  the user will almost certainly prefer to miss your notification than have his phone die on him (although again, you don't need anything like this to keep a notification around)</p>\n"}],"owner":{"account_id":18847077,"reputation":1,"user_id":13747058,"display_name":"Jo&#227;o Oliveira Ferreira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670218045,"creation_date":1670215003,"question_id":74683406,"body_markdown":"I&#39;m using a JobService to keep my notifications running even when app is closed by the user, but when cellphone goes to battery save mode or 15%, my service stop to work.\r\n\r\nI would like to understand if exists a way to avoid it, thanks\r\n\r\nTelaPrincipal.java\r\n\r\n```\r\n\r\npublic class TelaPrincipal extends AppCompatActivity {\r\n\r\n        cancelarJob();\r\n        startarJob();\r\n\r\n[...]\r\n\r\n    }\r\n\r\n\r\n    public void cancelarJob(){\r\n        JobScheduler scheduler = (JobScheduler) getSystemService(JOB_SCHEDULER_SERVICE);\r\n        scheduler.cancel(123);\r\n        Log.d(TAG, &quot;Job cancelled&quot;);\r\n    }\r\n    public void startarJob(){\r\n        ComponentName componentName = new ComponentName(this, ExampleJobService.class);\r\n        JobInfo info = new JobInfo.Builder(123, componentName)\r\n                .setRequiresCharging(false)\r\n                .setRequiredNetworkType(JobInfo.NETWORK_TYPE_UNMETERED)\r\n                .setPersisted(true)\r\n                .setPeriodic(15 * 60 * 1000)\r\n                .build();\r\n\r\n        JobScheduler scheduler = (JobScheduler) getSystemService(JOB_SCHEDULER_SERVICE);\r\n        int resultCode = scheduler.schedule(info);\r\n        if (resultCode == JobScheduler.RESULT_SUCCESS) {\r\n            Log.d(TAG, &quot;Job scheduled&quot;);\r\n        } else {\r\n            Log.d(TAG, &quot;Job scheduling failed&quot;);\r\n        }\r\n    }\r\n```","title":"JobService stopping by battery save mode and 15% - 10% - 5% status","body":"<p>I'm using a JobService to keep my notifications running even when app is closed by the user, but when cellphone goes to battery save mode or 15%, my service stop to work.</p>\n<p>I would like to understand if exists a way to avoid it, thanks</p>\n<p>TelaPrincipal.java</p>\n<pre><code>\npublic class TelaPrincipal extends AppCompatActivity {\n\n        cancelarJob();\n        startarJob();\n\n[...]\n\n    }\n\n\n    public void cancelarJob(){\n        JobScheduler scheduler = (JobScheduler) getSystemService(JOB_SCHEDULER_SERVICE);\n        scheduler.cancel(123);\n        Log.d(TAG, &quot;Job cancelled&quot;);\n    }\n    public void startarJob(){\n        ComponentName componentName = new ComponentName(this, ExampleJobService.class);\n        JobInfo info = new JobInfo.Builder(123, componentName)\n                .setRequiresCharging(false)\n                .setRequiredNetworkType(JobInfo.NETWORK_TYPE_UNMETERED)\n                .setPersisted(true)\n                .setPeriodic(15 * 60 * 1000)\n                .build();\n\n        JobScheduler scheduler = (JobScheduler) getSystemService(JOB_SCHEDULER_SERVICE);\n        int resultCode = scheduler.schedule(info);\n        if (resultCode == JobScheduler.RESULT_SUCCESS) {\n            Log.d(TAG, &quot;Job scheduled&quot;);\n        } else {\n            Log.d(TAG, &quot;Job scheduling failed&quot;);\n        }\n    }\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1543572627,"creation_date":1543411735,"answer_id":53520578,"question_id":53520358,"body_markdown":"You can use the modern and more powerful `java.nio.*` instead of the old fashioned `java.io.File`. You just have to create a `Path` object containing the path to the folder where the images are stored and `resolve` the file name:\r\n\r\n    //DELETE ELEMENT FROM FOLDER\r\n    Path imagesPath = Paths.get(\r\n        &quot;/Computer/NetBeans IDE 8.2/NewDataBase/src/newdatabase/images/&quot; +\r\n        pictureName);\r\n\t\t\r\n\ttry {\r\n\t\tFiles.delete(imagesPath);\r\n        System.out.println(&quot;File &quot;\r\n                + imagesPath.toAbsolutePath().toString()\r\n                + &quot; successfully removed&quot;);\r\n\t} catch (IOException e) {\r\n\t\tSystem.err.println(&quot;Unable to delete &quot;\r\n                + imagesPath.toAbsolutePath().toString()\r\n                + &quot; due to...&quot;);\r\n\t\te.printStackTrace();\r\n\t}\r\n\r\n**EDIT due to discussion in comments below:**\r\n\r\nThis is a very simple approach that deletes a file chosen via `JFileChooser`:\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tJFileChooser jfc = new JFileChooser(FileSystemView.getFileSystemView().getHomeDirectory());\r\n\t\t\r\n\t\tint result = jfc.showOpenDialog(null);\r\n\t\t\r\n\t\tif (result == JFileChooser.APPROVE_OPTION) {\r\n\t\t\tFile selectedFile = jfc.getSelectedFile();\r\n\t\t\tSystem.out.println(&quot;Chosen file: &quot; +\r\n                    selectedFile.getAbsolutePath() +\r\n                    &quot; will be deleted!&quot;);\r\n\t\t\t\r\n\t\t\tPath pathToBeDeleted = Paths.get(selectedFile.getAbsolutePath());\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\tFiles.delete(pathToBeDeleted);\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nI have just tried it myself and it successfully removes the chosen file.","title":"delete image from the folder","body":"<p>You can use the modern and more powerful <code>java.nio.*</code> instead of the old fashioned <code>java.io.File</code>. You just have to create a <code>Path</code> object containing the path to the folder where the images are stored and <code>resolve</code> the file name:</p>\n\n<pre><code>//DELETE ELEMENT FROM FOLDER\nPath imagesPath = Paths.get(\n    \"/Computer/NetBeans IDE 8.2/NewDataBase/src/newdatabase/images/\" +\n    pictureName);\n\ntry {\n    Files.delete(imagesPath);\n    System.out.println(\"File \"\n            + imagesPath.toAbsolutePath().toString()\n            + \" successfully removed\");\n} catch (IOException e) {\n    System.err.println(\"Unable to delete \"\n            + imagesPath.toAbsolutePath().toString()\n            + \" due to...\");\n    e.printStackTrace();\n}\n</code></pre>\n\n<p><strong>EDIT due to discussion in comments below:</strong></p>\n\n<p>This is a very simple approach that deletes a file chosen via <code>JFileChooser</code>:</p>\n\n<pre><code>public static void main(String[] args) {\n    JFileChooser jfc = new JFileChooser(FileSystemView.getFileSystemView().getHomeDirectory());\n\n    int result = jfc.showOpenDialog(null);\n\n    if (result == JFileChooser.APPROVE_OPTION) {\n        File selectedFile = jfc.getSelectedFile();\n        System.out.println(\"Chosen file: \" +\n                selectedFile.getAbsolutePath() +\n                \" will be deleted!\");\n\n        Path pathToBeDeleted = Paths.get(selectedFile.getAbsolutePath());\n\n        try {\n            Files.delete(pathToBeDeleted);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>I have just tried it myself and it successfully removes the chosen file.</p>\n"},{"tags":[],"owner":{"display_name":"user20687745"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670217905,"creation_date":1670217905,"answer_id":74683706,"question_id":53520358,"body_markdown":"public static void main(String[] args) {\r\n    JFileChooser jfc = new JFileChooser(FileSystemView.getFileSystemView()./0());\r\n\r\n    int result = jfc.showOpenDialog(null);\r\n\r\n    if (result == JFileChooser.APPROVE_OPTION) {\r\n        File selectedFile = jfc.getSelectedFile();\r\n        System.out.println(&quot;Chosen file: &quot; +\r\n                selectedFile.getAbsolutePath() +\r\n                &quot; will be deleted!&quot;);\r\n\r\n        Path data= Paths.get(selectedFile.getAbsolutePath());\r\n\r\n        try {\r\n            Files.delete(data);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n","title":"delete image from the folder","body":"<p>public static void main(String[] args) {\nJFileChooser jfc = new JFileChooser(FileSystemView.getFileSystemView()./0());</p>\n<pre><code>int result = jfc.showOpenDialog(null);\n\nif (result == JFileChooser.APPROVE_OPTION) {\n    File selectedFile = jfc.getSelectedFile();\n    System.out.println(&quot;Chosen file: &quot; +\n            selectedFile.getAbsolutePath() +\n            &quot; will be deleted!&quot;);\n\n    Path data= Paths.get(selectedFile.getAbsolutePath());\n\n    try {\n        Files.delete(data);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":14818538,"reputation":101,"user_id":10701660,"display_name":"Dennis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4732,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":53520578,"answer_count":2,"score":0,"last_activity_date":1670217905,"creation_date":1543411032,"question_id":53520358,"body_markdown":"I want to delete one image from the folder when I delete a user from the table with this image. Here is my code:\r\n//first I can the function that finds a path of the image in the folder\r\n   \r\n\r\n    public void deleteStudent(String name) {\r\n        try {\r\n    \t    CallableStatement statement = null;\r\n    \t\tConnection data = getmyConnection(); \r\n    \t\tstatement = data.prepareCall(&quot;{call delete_student(?)}&quot;);\r\n    \t\t\t\t\r\n    \t\tstatement.setString(1, name);\r\n    \t    //statement.registerOutParameter(2, java.sql.Types.VARCHAR);\r\n    \t\tstatement.executeQuery();\t\t\t\r\n    \t} catch (Exception c) {\r\n    \t\tc.printStackTrace();\r\n    \t} \r\n        \r\n        //After I call the function to delete image from directory       \r\n        deleteImageDerictory(name);          \r\n    }\r\n\r\nThis method allows choosing the image from the directory when I get the image I add the path in jTextField1.getText(). \r\n\r\n   \r\n//use this method to get the path of my image.\r\n\r\n    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n           JFileChooser file = new JFileChooser();\r\n    \t\t\t\tfile.setCurrentDirectory(new File(System.getProperty(&quot;user.home&quot;)));\r\n    \t\t\t\t\r\n    \t\t\t\tFileNameExtensionFilter filter = new FileNameExtensionFilter(&quot;*.Images&quot;, &quot;jpeg&quot;, &quot;jpg&quot;, &quot;png&quot;);\r\n\r\n \r\n\t\t\t\t\r\n\r\n    file.addChoosableFileFilter(filter);\r\n    \t\t\t\tint result = file.showSaveDialog(null);\r\n    \t\t\t\tif(result ==JFileChooser.APPROVE_OPTION) {\r\n    \t\t\t\t\tFile selectedFile = file.getSelectedFile();\r\n    \t\t\t\t\t//GET ABSOLUTE PATH OF PICTURES\r\n    \t\t\t\t\tjTextField1.setText(selectedFile.getAbsolutePath());\r\n    \t\t\t\t\t//addPicture.setText(selectedFile.getName()); \r\n    \t\t\t\t\t//GET NAME OF PICTURES\r\n    \t\t\t\t\t//getPicName = selectedFile.getName();\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\r\n\r\n    } else if(result == JFileChooser.CANCEL_OPTION) {\r\n    \t\t\t\t\tSystem.out.println(&quot;File not found!&quot;);\r\n    \t\t\t\t\t\r\n    \t\t\t\t}\r\n        } \r\n//I use this method to call another method deleteImageDerictory(jTextField1.getText());\r\n \r\n    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n            try{\r\n       deleteImageDerictory(jTextField1.getText());\r\n              }catch(Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n        } \r\n\r\n   \r\n    public void deleteImageDerictory(String name) {\r\n    \tString pictureName =  null; \r\n        try {\r\n    \t\tCallableStatement statement = null;\r\n    \t\tConnection data = getmyConnection(); \r\n    \t\tstatement = data.prepareCall(&quot;{call get_picture(?)}&quot;);\r\n    \t\tstatement.setString(1, name);\r\n    \t\t//statement.registerOutParameter(2, java.sql.Types.VARCHAR);\r\n    \t\tmyResults = statement.executeQuery();\r\n    \t\t\t\t\r\n    \t\twhile (myResults.next()) {\r\n    \t\t\t//COPY PATH IN pictureName \r\n    \t\t\tpictureName = myResults.getString(1);\r\n    \t    }\r\n    \t\t\t\r\n    \t\tmyResults.close();\r\n    \t} catch (Exception c) {\r\n    \t\tc.printStackTrace();\r\n    \t}\r\n \r\n        //DELETE ELEMENT FROM FOLDER \r\n    \tFile sourceFile = new File(pictureName);\r\n        File file = new File(&quot;/Computer/NetBeans IDE 8.2/NewDataBase/src/newdatabase/images/&quot;);\r\n    \r\n\t     images = file.listFiles();\r\n    \r\n    \t File file2 = new File(file.getAbsolutePath(), sourceFile.getName() );\r\n    \r\n\t    boolean deleted = file2.delete();\r\n    \tSystem.out.println(deleted);\r\n    }\r\n\r\nI just don&#39;t know how to delete image from folder when I find it. Any ideas?","title":"delete image from the folder","body":"<p>I want to delete one image from the folder when I delete a user from the table with this image. Here is my code:\n//first I can the function that finds a path of the image in the folder</p>\n\n<pre><code>public void deleteStudent(String name) {\n    try {\n        CallableStatement statement = null;\n        Connection data = getmyConnection(); \n        statement = data.prepareCall(\"{call delete_student(?)}\");\n\n        statement.setString(1, name);\n        //statement.registerOutParameter(2, java.sql.Types.VARCHAR);\n        statement.executeQuery();           \n    } catch (Exception c) {\n        c.printStackTrace();\n    } \n\n    //After I call the function to delete image from directory       \n    deleteImageDerictory(name);          \n}\n</code></pre>\n\n<p>This method allows choosing the image from the directory when I get the image I add the path in jTextField1.getText(). </p>\n\n<p>//use this method to get the path of my image.</p>\n\n<pre><code>private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n       JFileChooser file = new JFileChooser();\n                file.setCurrentDirectory(new File(System.getProperty(\"user.home\")));\n\n                FileNameExtensionFilter filter = new FileNameExtensionFilter(\"*.Images\", \"jpeg\", \"jpg\", \"png\");\n\n\n\n\nfile.addChoosableFileFilter(filter);\n                int result = file.showSaveDialog(null);\n                if(result ==JFileChooser.APPROVE_OPTION) {\n                    File selectedFile = file.getSelectedFile();\n                    //GET ABSOLUTE PATH OF PICTURES\n                    jTextField1.setText(selectedFile.getAbsolutePath());\n                    //addPicture.setText(selectedFile.getName()); \n                    //GET NAME OF PICTURES\n                    //getPicName = selectedFile.getName();\n\n\n\n\n} else if(result == JFileChooser.CANCEL_OPTION) {\n                    System.out.println(\"File not found!\");\n\n                }\n    } \n</code></pre>\n\n<p>//I use this method to call another method deleteImageDerictory(jTextField1.getText());</p>\n\n<pre><code>private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n        try{\n   deleteImageDerictory(jTextField1.getText());\n          }catch(Exception e) {\n    e.printStackTrace();\n}\n    } \n\n\npublic void deleteImageDerictory(String name) {\n    String pictureName =  null; \n    try {\n        CallableStatement statement = null;\n        Connection data = getmyConnection(); \n        statement = data.prepareCall(\"{call get_picture(?)}\");\n        statement.setString(1, name);\n        //statement.registerOutParameter(2, java.sql.Types.VARCHAR);\n        myResults = statement.executeQuery();\n\n        while (myResults.next()) {\n            //COPY PATH IN pictureName \n            pictureName = myResults.getString(1);\n        }\n\n        myResults.close();\n    } catch (Exception c) {\n        c.printStackTrace();\n    }\n\n    //DELETE ELEMENT FROM FOLDER \n    File sourceFile = new File(pictureName);\n    File file = new File(\"/Computer/NetBeans IDE 8.2/NewDataBase/src/newdatabase/images/\");\n\n     images = file.listFiles();\n\n     File file2 = new File(file.getAbsolutePath(), sourceFile.getName() );\n\n    boolean deleted = file2.delete();\n    System.out.println(deleted);\n}\n</code></pre>\n\n<p>I just don't know how to delete image from folder when I find it. Any ideas?</p>\n"},{"tags":["java","spring-boot","post","jackson","xml-parsing"],"answers":[{"tags":[],"owner":{"account_id":15272916,"reputation":630,"user_id":13018875,"display_name":"neofelis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670216467,"creation_date":1670216467,"answer_id":74683570,"question_id":74681272,"body_markdown":"If it&#39;s actually Jackson that&#39;s deserializing your request bodies, it should be enough to put\r\n\r\n`spring.jackson.deserialization.fail-on-unknown-properties=true`\r\n\r\nin your application.properties. (I generally know this, but I additionally looked it up [here](https://github.com/spring-projects/spring-boot/issues/12684#issuecomment-433803640).)\r\n\r\nAlso see [this](https://stackoverflow.com/questions/56074001/how-to-fail-on-unknown-xml-tags) question, where someone had the same issue and this solution did not work. There are some other suggestions there. (I found that question by searching for &quot;spring jackson fail on unknown properties&quot;, looking for a duplicate. Somewhat surprisingly, there doesn&#39;t seem to be one.)\r\n\r\n","title":"Spring Boot XML Jackson validation should not ignore unknown properties","body":"<p>If it's actually Jackson that's deserializing your request bodies, it should be enough to put</p>\n<p><code>spring.jackson.deserialization.fail-on-unknown-properties=true</code></p>\n<p>in your application.properties. (I generally know this, but I additionally looked it up <a href=\"https://github.com/spring-projects/spring-boot/issues/12684#issuecomment-433803640\" rel=\"nofollow noreferrer\">here</a>.)</p>\n<p>Also see <a href=\"https://stackoverflow.com/questions/56074001/how-to-fail-on-unknown-xml-tags\">this</a> question, where someone had the same issue and this solution did not work. There are some other suggestions there. (I found that question by searching for &quot;spring jackson fail on unknown properties&quot;, looking for a duplicate. Somewhat surprisingly, there doesn't seem to be one.)</p>\n"}],"owner":{"account_id":18590287,"reputation":3,"user_id":13547661,"display_name":"Jakob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":449,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74683570,"answer_count":1,"score":0,"last_activity_date":1670216467,"creation_date":1670190867,"question_id":74681272,"body_markdown":"(this example is in Kotlin but should be the same in Java)\r\n\r\nI have Spring Boot Post Route like this:\r\n\r\n```{language:Kotlin}\r\n@PostMapping(&quot;/data&quot;, consumes = [MediaType.APPLICATION_XML_VALUE])\r\nfun pushMasterData(@RequestBody data: Data): Data {\r\n   return data\r\n}\r\n```\r\n\r\nMy Data dto looks like this:\r\n\r\n```{language:Kotlin}\r\ndata class Data(\r\n   val item: String\r\n)\r\n```\r\n\r\nI do a POST request to `/data` with this body:\r\n\r\n```\r\n&lt;items&gt;\r\n   &lt;item&gt;foo&lt;/item&gt;\r\n   &lt;trash&gt;This should not be allowed!&lt;/trash&gt;\r\n&lt;/items&gt;\r\n```\r\n\r\nThe server accepts that without complaining... Why? And how to fix?","title":"Spring Boot XML Jackson validation should not ignore unknown properties","body":"<p>(this example is in Kotlin but should be the same in Java)</p>\n<p>I have Spring Boot Post Route like this:</p>\n<pre><code>@PostMapping(&quot;/data&quot;, consumes = [MediaType.APPLICATION_XML_VALUE])\nfun pushMasterData(@RequestBody data: Data): Data {\n   return data\n}\n</code></pre>\n<p>My Data dto looks like this:</p>\n<pre><code>data class Data(\n   val item: String\n)\n</code></pre>\n<p>I do a POST request to <code>/data</code> with this body:</p>\n<pre><code>&lt;items&gt;\n   &lt;item&gt;foo&lt;/item&gt;\n   &lt;trash&gt;This should not be allowed!&lt;/trash&gt;\n&lt;/items&gt;\n</code></pre>\n<p>The server accepts that without complaining... Why? And how to fix?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1670174382,"post_id":74679015,"comment_id":131808862,"body_markdown":"Does this answer your question? [Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop](https://stackoverflow.com/questions/223918/iterating-through-a-collection-avoiding-concurrentmodificationexception-when-re)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/223918/iterating-through-a-collection-avoiding-concurrentmodificationexception-when-re\">Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop</a>"}],"answers":[{"tags":[],"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670174331,"creation_date":1670174331,"answer_id":74679032,"question_id":74679015,"body_markdown":"Move your `a.getMembers().clear();` method outside your for loop.\r\n\r\nIn fact your `transferMembers()` method could look like the following:\r\n```\r\npublic static void transferMembers(MusicBand a, MusicBand b) {\r\n    b.getMembers().add(members);\r\n    a.getMembers().clear();\r\n}\r\n```\r\n\r\nThere is no need for a for loop at all.","title":"Error while mering 2 groups (Im a beginner)","body":"<p>Move your <code>a.getMembers().clear();</code> method outside your for loop.</p>\n<p>In fact your <code>transferMembers()</code> method could look like the following:</p>\n<pre><code>public static void transferMembers(MusicBand a, MusicBand b) {\n    b.getMembers().add(members);\n    a.getMembers().clear();\n}\n</code></pre>\n<p>There is no need for a for loop at all.</p>\n"},{"tags":[],"owner":{"account_id":967719,"reputation":854,"user_id":990832,"accept_rate":50,"display_name":"Jonas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670215840,"creation_date":1670215840,"answer_id":74683488,"question_id":74679015,"body_markdown":"It is also bad practice to use a static method for this. So, your _MusicBand_ class should just have a method to add members to it. So, instead of your static _transferMembers(...)_ method you should have these two:\r\n\r\n    public void addMembers(MusicBand otherBand) {\r\n        getMembers().addAll(otherBand.getMembers());\r\n    }\r\n\r\n    public void clear() {\r\n        getMembers().clear();\r\n    }\r\n\r\nYou can then decide whether to call _clear()_ from the calling class or inside the _addMembers()_ method.","title":"Error while mering 2 groups (Im a beginner)","body":"<p>It is also bad practice to use a static method for this. So, your <em>MusicBand</em> class should just have a method to add members to it. So, instead of your static <em>transferMembers(...)</em> method you should have these two:</p>\n<pre><code>public void addMembers(MusicBand otherBand) {\n    getMembers().addAll(otherBand.getMembers());\n}\n\npublic void clear() {\n    getMembers().clear();\n}\n</code></pre>\n<p>You can then decide whether to call <em>clear()</em> from the calling class or inside the <em>addMembers()</em> method.</p>\n"}],"owner":{"account_id":27143577,"reputation":1,"user_id":20684131,"display_name":"Le Ga"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1670215840,"creation_date":1670174201,"question_id":74679015,"body_markdown":"So I have a MusicBand Class and I want to create a method that merges members of 2 different groups into one and clears the empty one.\r\n```\r\npublic class MusicBand {\r\n    private int year;\r\n    private String name;\r\n    private List&lt;String&gt; members;\r\n\r\n    public MusicBand(String name, int year, List&lt;String&gt; members) {\r\n        this.name = name;\r\n        this.year = year;\r\n        this.members = members;\r\n    }\r\n\r\n    public int getYear() {\r\n        return year;\r\n    }\r\n\r\n    public void setYear(int year) {\r\n        this.year = year;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public List&lt;String&gt; getMembers() {\r\n        return members;\r\n    }\r\n\r\n    public void setMembers(List&lt;String&gt; members) {\r\n        this.members = members;\r\n    }\r\n    public static void transferMembers(MusicBand a, MusicBand b) {\r\n        for (String members : a.getMembers()) {\r\n            b.getMembers().add(members);\r\n            a.getMembers().clear();\r\n        }\r\n    }\r\n    public void printMembers(){\r\n        System.out.println(this.members);\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class Test4 {\r\n    public static void main(String[] args) {\r\n        List&lt;String&gt; members1 = new ArrayList&lt;&gt;();\r\n        members1.add(&quot;a&quot;);\r\n        members1.add(&quot;b&quot;);\r\n        members1.add(&quot;c&quot;);\r\n        List&lt;String&gt;members2 = new ArrayList&lt;&gt;();\r\n        members2.add(&quot;a2&quot;);\r\n        members2.add(&quot;b2&quot;);\r\n        members2.add(&quot;c2&quot;);\r\n        MusicBand group1 = new MusicBand(&quot;aaa&quot;,1990,members1);\r\n        MusicBand group2 = new MusicBand(&quot;bbb&quot;,2010,members2);\r\n        group1.printMembers();\r\n        group2.printMembers();\r\n        MusicBand.transferMembers(group1,group2);\r\n    }\r\n}\r\n```\r\n\r\nSo it prints out 2 groups and then instead of merging this happens &quot;Exception in thread &quot;main&quot; java.util.ConcurrentModificationException&quot;\r\n\r\nWhat can I do to fix this? \r\nThanks in advance.","title":"Error while mering 2 groups (Im a beginner)","body":"<p>So I have a MusicBand Class and I want to create a method that merges members of 2 different groups into one and clears the empty one.</p>\n<pre><code>public class MusicBand {\n    private int year;\n    private String name;\n    private List&lt;String&gt; members;\n\n    public MusicBand(String name, int year, List&lt;String&gt; members) {\n        this.name = name;\n        this.year = year;\n        this.members = members;\n    }\n\n    public int getYear() {\n        return year;\n    }\n\n    public void setYear(int year) {\n        this.year = year;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public List&lt;String&gt; getMembers() {\n        return members;\n    }\n\n    public void setMembers(List&lt;String&gt; members) {\n        this.members = members;\n    }\n    public static void transferMembers(MusicBand a, MusicBand b) {\n        for (String members : a.getMembers()) {\n            b.getMembers().add(members);\n            a.getMembers().clear();\n        }\n    }\n    public void printMembers(){\n        System.out.println(this.members);\n    }\n}\n</code></pre>\n<pre><code>public class Test4 {\n    public static void main(String[] args) {\n        List&lt;String&gt; members1 = new ArrayList&lt;&gt;();\n        members1.add(&quot;a&quot;);\n        members1.add(&quot;b&quot;);\n        members1.add(&quot;c&quot;);\n        List&lt;String&gt;members2 = new ArrayList&lt;&gt;();\n        members2.add(&quot;a2&quot;);\n        members2.add(&quot;b2&quot;);\n        members2.add(&quot;c2&quot;);\n        MusicBand group1 = new MusicBand(&quot;aaa&quot;,1990,members1);\n        MusicBand group2 = new MusicBand(&quot;bbb&quot;,2010,members2);\n        group1.printMembers();\n        group2.printMembers();\n        MusicBand.transferMembers(group1,group2);\n    }\n}\n</code></pre>\n<p>So it prints out 2 groups and then instead of merging this happens &quot;Exception in thread &quot;main&quot; java.util.ConcurrentModificationException&quot;</p>\n<p>What can I do to fix this?\nThanks in advance.</p>\n"},{"tags":["java","spring","elasticsearch","spring-data-elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":7187902,"reputation":5118,"user_id":5489276,"accept_rate":20,"display_name":"Sagar Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670215590,"creation_date":1670215590,"answer_id":74683461,"question_id":74683053,"body_markdown":"You can refer [this][1] documentation where they have gievn all the param details which is supported for `@field` annotation.\r\n\r\n```java\r\n@Field(type = FieldType.Text, docValues = true)\r\nprivate String authors;\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/elasticsearch/docs/current/api/org/springframework/data/elasticsearch/annotations/Field.html","title":"Spring Elasticsearch How to Apply the Following Mapping Parameters?","body":"<p>You can refer <a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/current/api/org/springframework/data/elasticsearch/annotations/Field.html\" rel=\"nofollow noreferrer\">this</a> documentation where they have gievn all the param details which is supported for <code>@field</code> annotation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Field(type = FieldType.Text, docValues = true)\nprivate String authors;\n</code></pre>\n"}],"owner":{"account_id":26579158,"reputation":7,"user_id":20204076,"display_name":"Java2Avaj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74683461,"answer_count":1,"score":0,"last_activity_date":1670215590,"creation_date":1670210670,"question_id":74683053,"body_markdown":"We need to incorporate the following mapping parameters in our java class fields:\r\n\r\n&#39;doc_values&#39;\r\n&#39;norms&#39;\r\n&#39;index&#39;\r\n&#39;dynamic&#39;\r\n\r\ncan somebody know what annotation/how to incorporate it on our field class?","title":"Spring Elasticsearch How to Apply the Following Mapping Parameters?","body":"<p>We need to incorporate the following mapping parameters in our java class fields:</p>\n<p>'doc_values'\n'norms'\n'index'\n'dynamic'</p>\n<p>can somebody know what annotation/how to incorporate it on our field class?</p>\n"},{"tags":["java","struts2","struts2-namespace","action-mapping"],"answers":[{"tags":[],"owner":{"account_id":3668752,"reputation":6558,"user_id":3065232,"accept_rate":25,"display_name":"Lijo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1387265396,"creation_date":1387265396,"answer_id":20628366,"question_id":20628016,"body_markdown":"change your code like this\r\n   \r\n\r\n     &lt;package name=&quot;default&quot; namespace=&quot;/&quot; extends=&quot;struts-default&quot;&gt;\r\n            &lt;action name=&quot;login&quot; class=&quot;com.practice.structs.actions.LoginAction&quot;\r\n                method=&quot;validateUser&quot;&gt;\r\n                &lt;result name=&quot;success&quot;&gt;pages/homepage.jsp&lt;/result&gt;\r\n                &lt;result name=&quot;error&quot;&gt;pages/![enter image description here][1]login.jsp&lt;/result&gt;\r\n            &lt;/action&gt;\r\n        \r\n        &lt;/package&gt;\r\n\r\n\r\n    &lt;s:form action=&quot;login&quot; method=&quot;post&quot;&gt;\r\n        &lt;s:textfield name=&quot;uname&quot; key=&quot;label.username&quot; size=&quot;20&quot;/&gt;\r\n        &lt;s:password name=&quot;password&quot; key=&quot;label.password&quot; size=&quot;20&quot;/&gt;\r\n        &lt;s:submit method=&quot;execute&quot; key=&quot;label.login&quot; align=&quot;center&quot;/&gt;\r\n    &lt;/s:form&gt;\r\n\r\n\r\nyour action name in form is action.login and in struts.xml is login both should be same and also add the namespace","title":"HTTP Status 404 - There is no Action mapped for namespace [/] and action name [login] associated with context path [/struts2]","body":"<p>change your code like this</p>\n\n<pre><code> &lt;package name=\"default\" namespace=\"/\" extends=\"struts-default\"&gt;\n        &lt;action name=\"login\" class=\"com.practice.structs.actions.LoginAction\"\n            method=\"validateUser\"&gt;\n            &lt;result name=\"success\"&gt;pages/homepage.jsp&lt;/result&gt;\n            &lt;result name=\"error\"&gt;pages/![enter image description here][1]login.jsp&lt;/result&gt;\n        &lt;/action&gt;\n\n    &lt;/package&gt;\n\n\n&lt;s:form action=\"login\" method=\"post\"&gt;\n    &lt;s:textfield name=\"uname\" key=\"label.username\" size=\"20\"/&gt;\n    &lt;s:password name=\"password\" key=\"label.password\" size=\"20\"/&gt;\n    &lt;s:submit method=\"execute\" key=\"label.login\" align=\"center\"/&gt;\n&lt;/s:form&gt;\n</code></pre>\n\n<p>your action name in form is action.login and in struts.xml is login both should be same and also add the namespace</p>\n"},{"tags":[],"owner":{"account_id":3807621,"reputation":270,"user_id":3159541,"accept_rate":76,"display_name":"Nimmagadda Gowtham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393583628,"creation_date":1393583628,"answer_id":22092598,"question_id":20628016,"body_markdown":"In your `LoginAction.java` properties you took are \r\n\r\n`private String userName;\r\nprivate String password;`\r\n\r\nBut in you `login.jsp` you wrote as \r\n\r\n`&lt;s:textfield name=&quot;uname&quot; key=&quot;label.username&quot; size=&quot;20&quot;/&gt;\r\n    &lt;s:password name=&quot;password&quot; key=&quot;label.password&quot; size=&quot;20&quot;/&gt;`\r\n\r\nChange \r\n\r\n`&lt;s:textfield name=&quot;uname&quot; key=&quot;label.username&quot; size=&quot;20&quot;/&gt;` to \r\n\r\n`&lt;s:textfield name=&quot;userName&quot; key=&quot;label.username&quot; size=&quot;20&quot;/&gt;`\r\n\r\nI hope this answer solves your problem ...","title":"HTTP Status 404 - There is no Action mapped for namespace [/] and action name [login] associated with context path [/struts2]","body":"<p>In your <code>LoginAction.java</code> properties you took are </p>\n\n<p><code>private String userName;\nprivate String password;</code></p>\n\n<p>But in you <code>login.jsp</code> you wrote as </p>\n\n<p><code>&lt;s:textfield name=\"uname\" key=\"label.username\" size=\"20\"/&gt;\n    &lt;s:password name=\"password\" key=\"label.password\" size=\"20\"/&gt;</code></p>\n\n<p>Change </p>\n\n<p><code>&lt;s:textfield name=\"uname\" key=\"label.username\" size=\"20\"/&gt;</code> to </p>\n\n<p><code>&lt;s:textfield name=\"userName\" key=\"label.username\" size=\"20\"/&gt;</code></p>\n\n<p>I hope this answer solves your problem ...</p>\n"},{"tags":[],"owner":{"account_id":3402743,"reputation":31,"user_id":2854548,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1422842090,"creation_date":1422842090,"answer_id":28270127,"question_id":20628016,"body_markdown":"I know this question is a bit outdated, but I also thought it&#39;s worth mentioning, to those who happen to end up stumbling onto this post again and still experiencing the issue; assuming you&#39;re 100% sure that your mappings are correct and that your web.xml contains the appropriate filter, try the following:\r\n\r\n&gt; 1. Stop your Tomcat server\r\n2. Create a &quot;classes&quot; folder in your &quot;WEB-INF&quot; folder\r\n3. Move your struts.xml file into the newly created &quot;classes&quot; folder\r\n4. Right click on your Tomcat Server and select &quot;Clean&quot; - not required, but would recommend doing so.\r\n5. Start up Tomcat again and hope for the best :-)\r\n\r\nAs a visual aid, your WEB-INF should end up looking something like this:\r\n\r\n![enter image description here][1]\r\n\r\nIf you&#39;re still experiencing the issue, double check your struts mappings again, as well as your web.xml\r\n\r\n[1]: http://i.stack.imgur.com/Ou0yw.png","title":"HTTP Status 404 - There is no Action mapped for namespace [/] and action name [login] associated with context path [/struts2]","body":"<p>I know this question is a bit outdated, but I also thought it's worth mentioning, to those who happen to end up stumbling onto this post again and still experiencing the issue; assuming you're 100% sure that your mappings are correct and that your web.xml contains the appropriate filter, try the following:</p>\n\n<blockquote>\n  <ol>\n  <li>Stop your Tomcat server</li>\n  <li>Create a \"classes\" folder in your \"WEB-INF\" folder</li>\n  <li>Move your struts.xml file into the newly created \"classes\" folder</li>\n  <li>Right click on your Tomcat Server and select \"Clean\" - not required, but would recommend doing so.</li>\n  <li>Start up Tomcat again and hope for the best :-)</li>\n  </ol>\n</blockquote>\n\n<p>As a visual aid, your WEB-INF should end up looking something like this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/Ou0yw.png\" alt=\"enter image description here\"></p>\n\n<p>If you're still experiencing the issue, double check your struts mappings again, as well as your web.xml</p>\n"},{"tags":[],"owner":{"account_id":4573298,"reputation":11,"user_id":3712434,"display_name":"AVI33"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1423139112,"creation_date":1423139112,"answer_id":28343923,"question_id":20628016,"body_markdown":"I don&#39;t have enough points to respond Ryan&#39;s comment nor rate him, but what he says is a valid solution in concrete cases, and I am going to tell why.\r\n\r\n**Sometimes the folders you create in a project are not taken as resources of the application, and you have to configure it.**\r\n\r\nLet me explain myself with a practical example that may have occurred to some mates who asked for this problem:\r\n\r\nWhen you are developing with Eclipse, maybe you choose another project explorer than the Eclipse&#39;s default &quot;Project Explorer&quot;, as the &quot;Navigator&quot;, for example. \r\nUsing &quot;Navigator&quot; view, you can create folders, but this folders are not package resources (as they are when you create &quot;package resources&quot; with the default &quot;Project Explorer&quot;), so Struts2 cannot find &quot;struts.xml&quot; file to configure the actions. \r\nSo, the only folders that your project will process as &quot;package resources&quot; are the ones under WEB-INF as Eclipse do in &quot;Dynamic Web Projects&quot; by default.\r\n\r\nSo then, be sure of having all the configuration files in a &quot;package resource&quot;.","title":"HTTP Status 404 - There is no Action mapped for namespace [/] and action name [login] associated with context path [/struts2]","body":"<p>I don't have enough points to respond Ryan's comment nor rate him, but what he says is a valid solution in concrete cases, and I am going to tell why.</p>\n\n<p><strong>Sometimes the folders you create in a project are not taken as resources of the application, and you have to configure it.</strong></p>\n\n<p>Let me explain myself with a practical example that may have occurred to some mates who asked for this problem:</p>\n\n<p>When you are developing with Eclipse, maybe you choose another project explorer than the Eclipse's default \"Project Explorer\", as the \"Navigator\", for example. \nUsing \"Navigator\" view, you can create folders, but this folders are not package resources (as they are when you create \"package resources\" with the default \"Project Explorer\"), so Struts2 cannot find \"struts.xml\" file to configure the actions. \nSo, the only folders that your project will process as \"package resources\" are the ones under WEB-INF as Eclipse do in \"Dynamic Web Projects\" by default.</p>\n\n<p>So then, be sure of having all the configuration files in a \"package resource\".</p>\n"},{"tags":[],"owner":{"account_id":4779799,"reputation":2144,"user_id":3861913,"display_name":"Karthik Kompelli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467875704,"creation_date":1467875704,"answer_id":38239562,"question_id":20628016,"body_markdown":"make the changes on struts.xml file,, add `namespace=&quot;/&quot;` attribute in &lt;package/&gt; \r\nlike\r\n`&lt;package name=&quot;default&quot; namespace=&quot;/&quot; extends=&quot;struts-default&quot;&gt;`","title":"HTTP Status 404 - There is no Action mapped for namespace [/] and action name [login] associated with context path [/struts2]","body":"<p>make the changes on struts.xml file,, add <code>namespace=\"/\"</code> attribute in  \nlike\n<code>&lt;package name=\"default\" namespace=\"/\" extends=\"struts-default\"&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":11384852,"reputation":5,"user_id":8346694,"display_name":"Avant1234"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500781627,"creation_date":1500675034,"answer_id":45247407,"question_id":20628016,"body_markdown":"To solve this problem I had to create a classes folder in `WEB-INF` and place the `struts.xml` file there. Then I placed the `.jsp` files in the web folder and placed `&#39;/&#39;` before the `.jsp` files, for example `/x.jsp`","title":"HTTP Status 404 - There is no Action mapped for namespace [/] and action name [login] associated with context path [/struts2]","body":"<p>To solve this problem I had to create a classes folder in <code>WEB-INF</code> and place the <code>struts.xml</code> file there. Then I placed the <code>.jsp</code> files in the web folder and placed <code>'/'</code> before the <code>.jsp</code> files, for example <code>/x.jsp</code></p>\n"}],"owner":{"account_id":3516876,"reputation":79,"user_id":2940073,"display_name":"user2940073"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21601,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":6,"score":2,"last_activity_date":1670213869,"creation_date":1387264201,"question_id":20628016,"body_markdown":"I have learned theory of Struts2 and now practicing. Facing problems while executing project.I searched in Google in many ways but could not find result.Please help me. Below is the code.Please help me friends...\r\n\r\nProject structure:\r\n\r\n![Project structure][1]\r\n\r\nweb.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;              xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:web=&quot;http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;2.5&quot;&gt;\r\n    &lt;display-name&gt;struts2&lt;/display-name&gt;\r\n    &lt;filter&gt;\r\n\t\t&lt;filter-name&gt;struts2&lt;/filter-name&gt;\r\n\t\t&lt;filter-class&gt;org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter&lt;/filter-class&gt;\r\n\t&lt;/filter&gt;\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;struts2&lt;/filter-name&gt;\r\n\t\t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n \t&lt;/filter-mapping&gt;\r\n  \r\n    &lt;welcome-file-list&gt;\r\n    &lt;welcome-file&gt;login.jsp&lt;/welcome-file&gt;\r\n    &lt;/welcome-file-list&gt;\r\n&lt;/web-app&gt;\r\n\r\nstruts.xml\r\n\r\n\r\n    &lt;!DOCTYPE struts PUBLIC\r\n          &quot;-//Apache Software Foundation//DTD Struts Configuration 2.0//EN&quot;\r\n          &quot;http://struts.apache.org/dtds/struts-2.0.dtd&quot;&gt;\r\n    &lt;struts&gt;\r\n\t\r\n\t&lt;constant name=&quot;resources&quot; value=&quot;ApplicationResources&quot; /&gt;\r\n\t&lt;constant name=&quot;struts.devMode&quot; value=&quot;true&quot; /&gt;\r\n\t&lt;package name=&quot;default&quot; extends=&quot;struts-default&quot;&gt;\r\n\t\t&lt;action name=&quot;login&quot; class=&quot;com.practice.structs.actions.LoginAction&quot;\r\n\t\t\tmethod=&quot;validateUser&quot;&gt;\r\n\t\t\t&lt;result name=&quot;success&quot;&gt;pages/homepage.jsp&lt;/result&gt;\r\n\t\t\t&lt;result name=&quot;error&quot;&gt;pages/login.jsp&lt;/result&gt;\r\n\t\t&lt;/action&gt;\r\n\r\n\t&lt;/package&gt;\r\n&lt;/struts&gt;\r\n\r\nLoginAction.java\r\n\r\n    package com.practice.structs.actions;\r\n\r\n    import com.opensymphony.xwork2.ActionSupport;\r\n\r\n    public class LoginAction extends ActionSupport {\r\n\tprivate String userName;\r\n\tprivate String password;\r\n\tpublic String validateUser(){\r\n\t\tif(this.userName.equalsIgnoreCase(&quot;abc&quot;) &amp;&amp; this.password.equalsIgnoreCase(&quot;abc&quot;))\r\n\t\t{\r\n\t\t\treturn &quot;success&quot;;\r\n\t\t}else{\r\n\t\t\taddActionError(getText(&quot;error.login&quot;));\r\n\t\t\treturn &quot;error&quot;;\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * @return the userName\r\n\t */\r\n\tpublic String getUserName() {\r\n\t\treturn userName;\r\n\t}\r\n\t/**\r\n\t * @param userName the userName to set\r\n\t */\r\n\tpublic void setUserName(String userName) {\r\n\t\tthis.userName = userName;\r\n\t}\r\n\t/**\r\n\t * @return the password\r\n\t */\r\n\tpublic String getPassword() {\r\n\t\treturn password;\r\n\t}\r\n\t/**\r\n\t * @param password the password to set\r\n\t */\r\n\tpublic void setPassword(String password) {\r\n\t\tthis.password = password;\r\n\t}\r\n\t\r\n\r\n    }\r\n  \r\n\r\nlogin.jsp\r\n\r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot; pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n    &lt;%@ taglib prefix=&quot;s&quot; uri=&quot;/struts-tags&quot; %&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n\r\n    &lt;title&gt;Login page&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n\t&lt;H1&gt;&lt;I&gt;Login Page&lt;/I&gt;&lt;/H1&gt;\r\n\t&lt;s:actionerror /&gt;\r\n\t&lt;s:form action=&quot;login.action&quot; method=&quot;post&quot;&gt;\r\n\t\t&lt;s:textfield name=&quot;uname&quot; key=&quot;label.username&quot; size=&quot;20&quot;/&gt;\r\n\t\t&lt;s:password name=&quot;password&quot; key=&quot;label.password&quot; size=&quot;20&quot;/&gt;\r\n\t\t&lt;s:submit method=&quot;execute&quot; key=&quot;label.login&quot; align=&quot;center&quot;/&gt;\r\n\t&lt;/s:form&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nhomepage.jsp\r\n\r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\r\n    pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n    &lt;%@taglib prefix=&quot;s&quot; uri=&quot;/struts-tags&quot; %&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;title&gt;Home Page&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n\t&lt;H2&gt;&lt;I&gt;Welcome&lt;/I&gt;&lt;/H2&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/mZlfA.png","title":"HTTP Status 404 - There is no Action mapped for namespace [/] and action name [login] associated with context path [/struts2]","body":"<p>I have learned theory of Struts2 and now practicing. Facing problems while executing project.I searched in Google in many ways but could not find result.Please help me. Below is the code.Please help me friends...</p>\n\n<p>Project structure:</p>\n\n<p><img src=\"https://i.stack.imgur.com/mZlfA.png\" alt=\"Project structure\"></p>\n\n<p>web.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"              xmlns=\"http://java.sun.com/xml/ns/javaee\" xmlns:web=\"http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\" id=\"WebApp_ID\" version=\"2.5\"&gt;\n&lt;display-name&gt;struts2&lt;/display-name&gt;\n&lt;filter&gt;\n    &lt;filter-name&gt;struts2&lt;/filter-name&gt;\n    &lt;filter-class&gt;org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter&lt;/filter-class&gt;\n&lt;/filter&gt;\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;struts2&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n\n&lt;welcome-file-list&gt;\n&lt;welcome-file&gt;login.jsp&lt;/welcome-file&gt;\n&lt;/welcome-file-list&gt;\n</code></pre>\n\n<p></p>\n\n<p>struts.xml</p>\n\n<pre><code>&lt;!DOCTYPE struts PUBLIC\n      \"-//Apache Software Foundation//DTD Struts Configuration 2.0//EN\"\n      \"http://struts.apache.org/dtds/struts-2.0.dtd\"&gt;\n&lt;struts&gt;\n\n&lt;constant name=\"resources\" value=\"ApplicationResources\" /&gt;\n&lt;constant name=\"struts.devMode\" value=\"true\" /&gt;\n&lt;package name=\"default\" extends=\"struts-default\"&gt;\n    &lt;action name=\"login\" class=\"com.practice.structs.actions.LoginAction\"\n        method=\"validateUser\"&gt;\n        &lt;result name=\"success\"&gt;pages/homepage.jsp&lt;/result&gt;\n        &lt;result name=\"error\"&gt;pages/login.jsp&lt;/result&gt;\n    &lt;/action&gt;\n\n&lt;/package&gt;\n</code></pre>\n\n<p></p>\n\n<p>LoginAction.java</p>\n\n<pre><code>package com.practice.structs.actions;\n\nimport com.opensymphony.xwork2.ActionSupport;\n\npublic class LoginAction extends ActionSupport {\nprivate String userName;\nprivate String password;\npublic String validateUser(){\n    if(this.userName.equalsIgnoreCase(\"abc\") &amp;&amp; this.password.equalsIgnoreCase(\"abc\"))\n    {\n        return \"success\";\n    }else{\n        addActionError(getText(\"error.login\"));\n        return \"error\";\n    }\n}\n\n/**\n * @return the userName\n */\npublic String getUserName() {\n    return userName;\n}\n/**\n * @param userName the userName to set\n */\npublic void setUserName(String userName) {\n    this.userName = userName;\n}\n/**\n * @return the password\n */\npublic String getPassword() {\n    return password;\n}\n/**\n * @param password the password to set\n */\npublic void setPassword(String password) {\n    this.password = password;\n}\n\n\n}\n</code></pre>\n\n<p>login.jsp</p>\n\n<pre><code>&lt;%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\"%&gt;\n&lt;%@ taglib prefix=\"s\" uri=\"/struts-tags\" %&gt;\n&lt;html&gt;\n&lt;head&gt;\n\n&lt;title&gt;Login page&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;H1&gt;&lt;I&gt;Login Page&lt;/I&gt;&lt;/H1&gt;\n&lt;s:actionerror /&gt;\n&lt;s:form action=\"login.action\" method=\"post\"&gt;\n    &lt;s:textfield name=\"uname\" key=\"label.username\" size=\"20\"/&gt;\n    &lt;s:password name=\"password\" key=\"label.password\" size=\"20\"/&gt;\n    &lt;s:submit method=\"execute\" key=\"label.login\" align=\"center\"/&gt;\n&lt;/s:form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>homepage.jsp</p>\n\n<pre><code>&lt;%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\"\npageEncoding=\"ISO-8859-1\"%&gt;\n&lt;%@taglib prefix=\"s\" uri=\"/struts-tags\" %&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;Home Page&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;H2&gt;&lt;I&gt;Welcome&lt;/I&gt;&lt;/H2&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","reactjs","spring","spring-restcontroller"],"answers":[{"tags":[],"owner":{"account_id":13717415,"reputation":1385,"user_id":9898251,"display_name":"Badri Paudel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670213001,"creation_date":1670156725,"answer_id":74675568,"question_id":74675260,"body_markdown":"Let&#39;s understand this code first : \r\n\r\n    @RestController\r\n       @CrossOrigin\r\n       @RequestMapping(path = &quot;/api/v1&quot;)\r\n       public class BasicController {\r\n    \r\n        @GetMapping(&quot;/hello&quot;)\r\n        public String sayHello() {\r\n            return &quot;Hello Everyone !&quot;;\r\n          }\r\n       }\r\n\r\nProbably your backend server is running at port **8080** and if you hit this url ```localhost:8080/api/v1/hello``` , it gives the output as &quot;Hello Everyone&quot; which you&#39;ve returned from the controller right ? How do you expect to get React Part when you hit this endpoint ? When you run ```localhost:8080/api/v1/hello``` this is Spring Part [Java part] and not the react part. If you use this endpoint from the react app or any client you&#39;ll always get &quot;Hello Everyone&quot; as per your logic, same applies for the StartPage controller as well. \r\n\r\nTry to run your react application, if you&#39;re fetching correctly, you&#39;ll see the backend part used with front end part. It&#39;s as simple as that.\r\n\r\nSee which port the react application is using ? It&#39;s probably ```localhost:3000``` see if it&#39;s working or not. There, you&#39;ll see the result. \r\nHope this helps :)\r\n","title":"Java Spring controller fetching from React fetch()","body":"<p>Let's understand this code first :</p>\n<pre><code>@RestController\n   @CrossOrigin\n   @RequestMapping(path = &quot;/api/v1&quot;)\n   public class BasicController {\n\n    @GetMapping(&quot;/hello&quot;)\n    public String sayHello() {\n        return &quot;Hello Everyone !&quot;;\n      }\n   }\n</code></pre>\n<p>Probably your backend server is running at port <strong>8080</strong> and if you hit this url <code>localhost:8080/api/v1/hello</code> , it gives the output as &quot;Hello Everyone&quot; which you've returned from the controller right ? How do you expect to get React Part when you hit this endpoint ? When you run <code>localhost:8080/api/v1/hello</code> this is Spring Part [Java part] and not the react part. If you use this endpoint from the react app or any client you'll always get &quot;Hello Everyone&quot; as per your logic, same applies for the StartPage controller as well.</p>\n<p>Try to run your react application, if you're fetching correctly, you'll see the backend part used with front end part. It's as simple as that.</p>\n<p>See which port the react application is using ? It's probably <code>localhost:3000</code> see if it's working or not. There, you'll see the result.\nHope this helps :)</p>\n"}],"owner":{"account_id":21257942,"reputation":143,"user_id":15639126,"display_name":"rsnlpn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":440,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670213001,"creation_date":1670154341,"question_id":74675260,"body_markdown":"I use React for fronted + Java Spring controllers that have some endpoints for backend. But for some of endpoints I have response with React features and for some without React features. I am new with React part, so I suppose that I am missing some principles of fetch(). Please help me to understand and fix.\r\n\r\n**Case 1**\r\nApp.js code:\r\n\r\n```\r\nimport React, {useState, useEffect} from &#39;react&#39;;\r\nimport &#39;./App.css&#39;;\r\n\r\nfunction App () {\r\n    const [message, setMessage] = useState(&quot;&quot;);\r\n\r\n    useEffect(() =&gt; {\r\n        fetch(&#39;http://localhost:8080/api/v1/hello&#39;)\r\n            .then(response =&gt; response.text())\r\n            .then(message =&gt; {\r\n                setMessage(message);\r\n            });\r\n    },[])\r\n    return (\r\n        &lt;div className=&quot;App&quot;&gt;\r\n            &lt;header className=&quot;&quot;&gt;\r\n                &lt;h1&gt;React is here!&lt;/h1&gt;\r\n                &lt;h2 className=&quot;App-title&quot;&gt;{message}&lt;/h2&gt;\r\n            &lt;/header&gt;\r\n        &lt;/div&gt;\r\n    )\r\n}\r\n\r\nexport default App;\r\n```\r\n\r\nJava controller code:\r\n\r\n```\r\n@RestController\r\n@CrossOrigin\r\n@RequestMapping(path = &quot;/api/v1&quot;)\r\npublic class BasicController {\r\n\r\n    @GetMapping(&quot;/hello&quot;)\r\n    public String sayHello() {\r\n        return &quot;Hello Everyone !&quot;;\r\n    }\r\n}\r\n```\r\n\r\nAs a result I see &quot;React is here!&quot; + &quot;Hello Everyone !&quot; with according style string on *localhost:8080*. So I see that the backend returns value and React also works with it.\r\n\r\nBut if I go to *localhost:8080/api/v1/hello*, I see only &quot;Hello Everyone !&quot; string without React features. So the backend returns value, but React doesn&#39;t work. \r\n\r\nWhy, if I am fetching this particular endpoint? **- Question 1**\r\n\r\nActually, the same result if I use \r\n```\r\n\r\n@RequestMapping(path = &quot;api/v1&quot;) \r\n\r\n```\r\n\r\n- without the first /\r\n\r\n\r\n**Case 2**\r\nI have the same App.js but change fetch(URL) to \r\n\r\n```\r\nfetch(&#39;http://localhost:8080&#39;)\r\n```\r\n\r\nAnd I add a new Controller:\r\n\r\n```\r\n@RestController\r\n@CrossOrigin\r\n@RequestMapping(path = &quot;/&quot;)\r\npublic class StartPageController {\r\n\r\n    @GetMapping()\r\n    public String startPage() {\r\n        return &quot;Start page&quot;; \r\n    }\r\n\r\n}\r\n```\r\n\r\nIf I go to *localhost:8080*, that I am fetching I see only &quot;Start page&quot; string without React features. So the backend returns value, but React doesn&#39;t work. \r\n\r\nWhy, if it is the simplest option for endpoint path and even more complex fetch worked as I mentioned above? **- Question 2**\r\n\r\n\r\n**Case 3**\r\n\r\nAs it seems that I have some issue with &quot;/&quot; endpoint, I decided to check how the Case 1 endpoint will work if I leave StartPageController from the Case 2. So I just return back url:\r\n\r\n```\r\nfetch(&#39;http://localhost:8080/api/v1/hello&#39;),\r\n```\r\n\r\nbut leave both controllers.\r\n\r\nAs a result, for now, I see that React features doesn&#39;t work either for *localhost:8080*, or *localhost:8080/api/v1/hello* (the last one actually as in Case 1). Only backend values &quot;Start page&quot; or &quot;Hello Everyone !&quot; return for all mentioned endpoints. Without React.\r\n\r\nSo it seems that the &quot;/&quot; endpoint from StartPageController doesn&#39;t work with React by itself and also doesn&#39;t allow to work other more complex endpoints as a root endpoint.\r\n\r\n\r\n**So 2 questions as a result:**\r\n1. What is the issue with some particular paths - Case 1?\r\n2. What is the issue with &quot;/&quot; endpoint - Case 2 and 3?\r\n\r\n\r\n\r\nHow I run Spring boot + React - I make a .jar file by Maven, where I collect both parts for frontend and backend by .pom build configurations. And I run the .jar in Intellij IDEA. I need to do it this way because I want to deploy .jar later on AWS Elastic Beanstalk.\r\n","title":"Java Spring controller fetching from React fetch()","body":"<p>I use React for fronted + Java Spring controllers that have some endpoints for backend. But for some of endpoints I have response with React features and for some without React features. I am new with React part, so I suppose that I am missing some principles of fetch(). Please help me to understand and fix.</p>\n<p><strong>Case 1</strong>\nApp.js code:</p>\n<pre><code>import React, {useState, useEffect} from 'react';\nimport './App.css';\n\nfunction App () {\n    const [message, setMessage] = useState(&quot;&quot;);\n\n    useEffect(() =&gt; {\n        fetch('http://localhost:8080/api/v1/hello')\n            .then(response =&gt; response.text())\n            .then(message =&gt; {\n                setMessage(message);\n            });\n    },[])\n    return (\n        &lt;div className=&quot;App&quot;&gt;\n            &lt;header className=&quot;&quot;&gt;\n                &lt;h1&gt;React is here!&lt;/h1&gt;\n                &lt;h2 className=&quot;App-title&quot;&gt;{message}&lt;/h2&gt;\n            &lt;/header&gt;\n        &lt;/div&gt;\n    )\n}\n\nexport default App;\n</code></pre>\n<p>Java controller code:</p>\n<pre><code>@RestController\n@CrossOrigin\n@RequestMapping(path = &quot;/api/v1&quot;)\npublic class BasicController {\n\n    @GetMapping(&quot;/hello&quot;)\n    public String sayHello() {\n        return &quot;Hello Everyone !&quot;;\n    }\n}\n</code></pre>\n<p>As a result I see &quot;React is here!&quot; + &quot;Hello Everyone !&quot; with according style string on <em>localhost:8080</em>. So I see that the backend returns value and React also works with it.</p>\n<p>But if I go to <em>localhost:8080/api/v1/hello</em>, I see only &quot;Hello Everyone !&quot; string without React features. So the backend returns value, but React doesn't work.</p>\n<p>Why, if I am fetching this particular endpoint? <strong>- Question 1</strong></p>\n<p>Actually, the same result if I use</p>\n<pre><code>\n@RequestMapping(path = &quot;api/v1&quot;) \n\n</code></pre>\n<ul>\n<li>without the first /</li>\n</ul>\n<p><strong>Case 2</strong>\nI have the same App.js but change fetch(URL) to</p>\n<pre><code>fetch('http://localhost:8080')\n</code></pre>\n<p>And I add a new Controller:</p>\n<pre><code>@RestController\n@CrossOrigin\n@RequestMapping(path = &quot;/&quot;)\npublic class StartPageController {\n\n    @GetMapping()\n    public String startPage() {\n        return &quot;Start page&quot;; \n    }\n\n}\n</code></pre>\n<p>If I go to <em>localhost:8080</em>, that I am fetching I see only &quot;Start page&quot; string without React features. So the backend returns value, but React doesn't work.</p>\n<p>Why, if it is the simplest option for endpoint path and even more complex fetch worked as I mentioned above? <strong>- Question 2</strong></p>\n<p><strong>Case 3</strong></p>\n<p>As it seems that I have some issue with &quot;/&quot; endpoint, I decided to check how the Case 1 endpoint will work if I leave StartPageController from the Case 2. So I just return back url:</p>\n<pre><code>fetch('http://localhost:8080/api/v1/hello'),\n</code></pre>\n<p>but leave both controllers.</p>\n<p>As a result, for now, I see that React features doesn't work either for <em>localhost:8080</em>, or <em>localhost:8080/api/v1/hello</em> (the last one actually as in Case 1). Only backend values &quot;Start page&quot; or &quot;Hello Everyone !&quot; return for all mentioned endpoints. Without React.</p>\n<p>So it seems that the &quot;/&quot; endpoint from StartPageController doesn't work with React by itself and also doesn't allow to work other more complex endpoints as a root endpoint.</p>\n<p><strong>So 2 questions as a result:</strong></p>\n<ol>\n<li>What is the issue with some particular paths - Case 1?</li>\n<li>What is the issue with &quot;/&quot; endpoint - Case 2 and 3?</li>\n</ol>\n<p>How I run Spring boot + React - I make a .jar file by Maven, where I collect both parts for frontend and backend by .pom build configurations. And I run the .jar in Intellij IDEA. I need to do it this way because I want to deploy .jar later on AWS Elastic Beanstalk.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1670202359,"post_id":74682175,"comment_id":131814369,"body_markdown":"`LIKE &#39;%&#39; |:q|&#39;%&#39; ` or some kind of string concatenation.","body":"<code>LIKE &#39;%&#39; |:q|&#39;%&#39; </code> or some kind of string concatenation."},{"owner":{"account_id":15597427,"reputation":13,"user_id":11252487,"display_name":"Torresteras"},"score":0,"creation_date":1670202667,"post_id":74682175,"comment_id":131814399,"body_markdown":"I don&#39;t think so, because with another entity it works correctly with LIKE %:q% , but in this case, which is a many-to-many table, it gives me this problem.","body":"I don&#39;t think so, because with another entity it works correctly with LIKE %:q% , but in this case, which is a many-to-many table, it gives me this problem."},{"owner":{"account_id":15597427,"reputation":13,"user_id":11252487,"display_name":"Torresteras"},"score":0,"creation_date":1670212650,"post_id":74682175,"comment_id":131815691,"body_markdown":"Ok, I understand the concatenation problem, but in the debugger the value is 1. and in the url it shows the correct value which is 1","body":"Ok, I understand the concatenation problem, but in the debugger the value is 1. and in the url it shows the correct value which is 1"}],"answers":[{"tags":[],"owner":{"account_id":14255669,"reputation":330,"user_id":10297961,"display_name":"Tan Sang"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670202607,"creation_date":1670202607,"answer_id":74682383,"question_id":74682175,"body_markdown":"You&#39;re trying to compare an integer value with a string. no matter how you change the input `@Params` to any type, the problem is `%:q%` can not be used to compare for an integer. If you want to do the comparative that way, I think you must cast the value to a string before compare\r\n\r\n    @Query(value = &quot;SELECT p FROM Tblagendalab p WHERE cast(p.tblagendalabPK.idExamen as string) LIKE &#39;%:q%&#39;&quot;)\r\n    List&lt;Tblagendalab&gt; findByExamenLab(@Param(&quot;q&quot;) Integer q);","title":"java.lang.IllegalArgumentException: Parameter value [%1%] did not match expected type [java.lang.Integer (n/a)]","body":"<p>You're trying to compare an integer value with a string. no matter how you change the input <code>@Params</code> to any type, the problem is <code>%:q%</code> can not be used to compare for an integer. If you want to do the comparative that way, I think you must cast the value to a string before compare</p>\n<pre><code>@Query(value = &quot;SELECT p FROM Tblagendalab p WHERE cast(p.tblagendalabPK.idExamen as string) LIKE '%:q%'&quot;)\nList&lt;Tblagendalab&gt; findByExamenLab(@Param(&quot;q&quot;) Integer q);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21636479,"reputation":46,"user_id":15959331,"display_name":"OGtwelve"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670210576,"creation_date":1670210576,"answer_id":74683042,"question_id":74682175,"body_markdown":"It&#39;s all about %%; &lt;br/&gt;\r\nWhen use jpa query sql, u must concat % with the parameter&lt;br/&gt;\r\nThe right sql would be:&lt;br/&gt;\r\n```java\r\n@Query(value = &quot;SELECT p FROM Tblagendalab p WHERE p.tblagendalabPK.idExamen LIKE CONCAT(&#39;%&#39;,:q,&#39;%&#39;)&quot; , nativeQuery = true );\r\n```","title":"java.lang.IllegalArgumentException: Parameter value [%1%] did not match expected type [java.lang.Integer (n/a)]","body":"<p>It's all about %%; <br/>\nWhen use jpa query sql, u must concat % with the parameter<br/>\nThe right sql would be:<br/></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(value = &quot;SELECT p FROM Tblagendalab p WHERE p.tblagendalabPK.idExamen LIKE CONCAT('%',:q,'%')&quot; , nativeQuery = true );\n</code></pre>\n"}],"owner":{"account_id":15597427,"reputation":13,"user_id":11252487,"display_name":"Torresteras"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":786,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74682383,"answer_count":2,"score":1,"last_activity_date":1670212877,"creation_date":1670199897,"question_id":74682175,"body_markdown":"Friends, I have this problem and I can&#39;t find the solution, any suggestions?\r\n\r\n    \r\n    @Repository(value = &quot;TblagendalabRepository&quot;)\r\n    public interface TblagendalabRepository extends JpaRepository&lt;Tblagendalab, Integer&gt;{\r\n        \r\n         @Query(value = &quot;SELECT p FROM Tblagendalab p WHERE p.tblagendalabPK.idExamen LIKE %:q%&quot;)\r\n    \t  List&lt;Tblagendalab&gt; findByExamenLab(@Param(&quot;q&quot;) Integer q);\r\n    \r\n    }\r\n\r\nController\r\n\r\n    @GetMapping(value = &quot;/buscar&quot;)\r\n    \tpublic String buscarExamen(Model model, @RequestParam(value = &quot;buscar&quot;, required = false)Integer q, @RequestParam(value=&quot;idExamen&quot;, required = false) Integer idExamen) {\r\n    \r\n                            List&lt;Tblagendalab&gt; examenes = this.tblagendalabRepository.findByExamenLab(q);\r\n    \t\t\tmodel.addAttribute(&quot;examenes&quot;, examenes);\r\n    \t\t\treturn &quot;/views/agenda/agendar&quot;;\r\n    \r\n    \t}\r\n\r\nEntities \r\n\r\n    @Entity\r\n    @Table(name = &quot;tblagendalab&quot;)\r\n    public class Tblagendalab implements Serializable {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n        @EmbeddedId\r\n        protected TblagendalabPK tblagendalabPK;\r\n        @JoinColumn(name = &quot;id_examen&quot;, referencedColumnName = &quot;id_examen&quot;, insertable = false, updatable = false)\r\n        @ManyToOne(optional = false)\r\n        private Tblexamen tblexamen;\r\n        @JoinColumn(name = &quot;idhora&quot;, referencedColumnName = &quot;idhora&quot;, insertable = false, updatable = false)\r\n        @ManyToOne(optional = false)\r\n        private Tblhora tblhora;\r\n        @JoinColumn(name = &quot;id_lab&quot;, referencedColumnName = &quot;id_lab&quot;, insertable = false, updatable = false)\r\n        @ManyToOne(optional = false)\r\n        private Tbllab tbllab;\r\n        @OneToMany(mappedBy = &quot;tblagendalab&quot;)\r\n        private List&lt;Tblreserva&gt; tblreservaList;\r\n\r\nEntities PK\r\n\r\n    @Embeddable\r\n    public class TblagendalabPK implements Serializable {\r\n    \r\n        @Basic(optional = false)\r\n        @Column(name = &quot;id_examen&quot;)\r\n        private int idExamen;\r\n        @Basic(optional = false)\r\n        @Column(name = &quot;idhora&quot;)\r\n        private int idhora;\r\n        @Basic(optional = false)\r\n        @Column(name = &quot;id_lab&quot;)\r\n        private int idLab;\r\n\r\nOutput\r\n\r\n    java.lang.IllegalArgumentException: Parameter value [%1%] did not match expected type [java.lang.Integer (n/a)]\r\n\r\n\r\nI tried the solutions here on Stack Overflow, but they didn&#39;t work. I modified the @Param to String, int, the query directly from the Tblagendalab entitie etc.\r\n\r\n\r\n[Debug][1]\r\n\r\n\r\n[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8vOmM.png\r\n  [2]: https://i.stack.imgur.com/6d16s.png","title":"java.lang.IllegalArgumentException: Parameter value [%1%] did not match expected type [java.lang.Integer (n/a)]","body":"<p>Friends, I have this problem and I can't find the solution, any suggestions?</p>\n<pre><code>@Repository(value = &quot;TblagendalabRepository&quot;)\npublic interface TblagendalabRepository extends JpaRepository&lt;Tblagendalab, Integer&gt;{\n    \n     @Query(value = &quot;SELECT p FROM Tblagendalab p WHERE p.tblagendalabPK.idExamen LIKE %:q%&quot;)\n      List&lt;Tblagendalab&gt; findByExamenLab(@Param(&quot;q&quot;) Integer q);\n\n}\n</code></pre>\n<p>Controller</p>\n<pre><code>@GetMapping(value = &quot;/buscar&quot;)\n    public String buscarExamen(Model model, @RequestParam(value = &quot;buscar&quot;, required = false)Integer q, @RequestParam(value=&quot;idExamen&quot;, required = false) Integer idExamen) {\n\n                        List&lt;Tblagendalab&gt; examenes = this.tblagendalabRepository.findByExamenLab(q);\n            model.addAttribute(&quot;examenes&quot;, examenes);\n            return &quot;/views/agenda/agendar&quot;;\n\n    }\n</code></pre>\n<p>Entities</p>\n<pre><code>@Entity\n@Table(name = &quot;tblagendalab&quot;)\npublic class Tblagendalab implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n    @EmbeddedId\n    protected TblagendalabPK tblagendalabPK;\n    @JoinColumn(name = &quot;id_examen&quot;, referencedColumnName = &quot;id_examen&quot;, insertable = false, updatable = false)\n    @ManyToOne(optional = false)\n    private Tblexamen tblexamen;\n    @JoinColumn(name = &quot;idhora&quot;, referencedColumnName = &quot;idhora&quot;, insertable = false, updatable = false)\n    @ManyToOne(optional = false)\n    private Tblhora tblhora;\n    @JoinColumn(name = &quot;id_lab&quot;, referencedColumnName = &quot;id_lab&quot;, insertable = false, updatable = false)\n    @ManyToOne(optional = false)\n    private Tbllab tbllab;\n    @OneToMany(mappedBy = &quot;tblagendalab&quot;)\n    private List&lt;Tblreserva&gt; tblreservaList;\n</code></pre>\n<p>Entities PK</p>\n<pre><code>@Embeddable\npublic class TblagendalabPK implements Serializable {\n\n    @Basic(optional = false)\n    @Column(name = &quot;id_examen&quot;)\n    private int idExamen;\n    @Basic(optional = false)\n    @Column(name = &quot;idhora&quot;)\n    private int idhora;\n    @Basic(optional = false)\n    @Column(name = &quot;id_lab&quot;)\n    private int idLab;\n</code></pre>\n<p>Output</p>\n<pre><code>java.lang.IllegalArgumentException: Parameter value [%1%] did not match expected type [java.lang.Integer (n/a)]\n</code></pre>\n<p>I tried the solutions here on Stack Overflow, but they didn't work. I modified the @Param to String, int, the query directly from the Tblagendalab entitie etc.</p>\n<p><a href=\"https://i.stack.imgur.com/8vOmM.png\" rel=\"nofollow noreferrer\">Debug</a></p>\n<p><a href=\"https://i.stack.imgur.com/6d16s.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","cucumber","fabric8","fabric8-kubernetes-client"],"comments":[{"owner":{"account_id":3370885,"reputation":5502,"user_id":2830116,"accept_rate":88,"display_name":"Rohan Kumar"},"score":0,"creation_date":1669893404,"post_id":74638885,"comment_id":131748710,"body_markdown":"Could you please show how you&#39;ve configured `@Group`, `@Plural` and `@Version` annotations in CRD_POJO?","body":"Could you please show how you&#39;ve configured <code>@Group</code>, <code>@Plural</code> and <code>@Version</code> annotations in CRD_POJO?"},{"owner":{"account_id":8560160,"reputation":21,"user_id":6414435,"display_name":"Anupam Panda"},"score":0,"creation_date":1669902562,"post_id":74638885,"comment_id":131751907,"body_markdown":"@RohanKumar Like below:\n```\n@JsonIgnoreProperties(value ={&quot;status&quot;})\n@Version(&quot;v1&quot;)\n@Group(&quot;&lt;resource spec.group&gt;&quot;)\npublic class CRD_POJO extends CustomResource&lt;CRD_POJOSpec, CRD_POJOStatus&gt; {\n.....\n}\n```","body":"@RohanKumar Like below: ``` @JsonIgnoreProperties(value ={&quot;status&quot;}) @Version(&quot;v1&quot;) @Group(&quot;&lt;resource spec.group&gt;&quot;) public class CRD_POJO extends CustomResource&lt;CRD_POJOSpec, CRD_POJOStatus&gt; { ..... } ```"},{"owner":{"account_id":3370885,"reputation":5502,"user_id":2830116,"accept_rate":88,"display_name":"Rohan Kumar"},"score":0,"creation_date":1670048707,"post_id":74638885,"comment_id":131786828,"body_markdown":"Is it a namespaced scope crd? If yes, you need to add `implements Namespaced`","body":"Is it a namespaced scope crd? If yes, you need to add <code>implements Namespaced</code>"},{"owner":{"account_id":8560160,"reputation":21,"user_id":6414435,"display_name":"Anupam Panda"},"score":0,"creation_date":1670212182,"post_id":74638885,"comment_id":131815629,"body_markdown":"@RohanKumar Yes. I figured out that and it started working.","body":"@RohanKumar Yes. I figured out that and it started working."}],"answers":[{"tags":[],"owner":{"account_id":8560160,"reputation":21,"user_id":6414435,"display_name":"Anupam Panda"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670212326,"creation_date":1670212326,"answer_id":74683172,"question_id":74638885,"body_markdown":"As @RohanKumar pointed, implementing the &quot;Namespaced&quot; interface in this case solved the issue.\r\n\r\n    @JsonIgnoreProperties(value ={&quot;status&quot;}) @Version(&quot;v1&quot;) @Group(&quot;&lt;resource spec.group&gt;&quot;) public class CRD_POJO extends CustomResource&lt;CRD_POJOSpec, CRD_POJOStatus&gt; implements Namespaced { ..... } ","title":"fabric8 v6.1.1 Failure at creating Custom Resource with POST call Resulting in Not Found","body":"<p>As @RohanKumar pointed, implementing the &quot;Namespaced&quot; interface in this case solved the issue.</p>\n<pre><code>@JsonIgnoreProperties(value ={&quot;status&quot;}) @Version(&quot;v1&quot;) @Group(&quot;&lt;resource spec.group&gt;&quot;) public class CRD_POJO extends CustomResource&lt;CRD_POJOSpec, CRD_POJOStatus&gt; implements Namespaced { ..... } \n</code></pre>\n"}],"owner":{"account_id":8560160,"reputation":21,"user_id":6414435,"display_name":"Anupam Panda"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":427,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74683172,"answer_count":1,"score":0,"last_activity_date":1670212326,"creation_date":1669883216,"question_id":74638885,"body_markdown":"  New to fabric8 K8S client library. Recently was trying to create a custom resource object using fabric8 (v6.1.1) and got Not Found Message at the POST Call internally. Can list on the CRD client on which this POST is performed.\r\n\r\n```\r\nio.fabric8.kubernetes.client.KubernetesClientException: Failure executing: POST at: https://cluster-xyz.domain.com/apis/&lt;resource spec.group&gt;/v1/&lt;crdname&gt;. Message: Not Found.\r\n\tat io.fabric8.kubernetes.client.dsl.internal.OperationSupport.requestFailure(OperationSupport.java:713)\r\n\tat io.fabric8.kubernetes.client.dsl.internal.OperationSupport.requestFailure(OperationSupport.java:693)\r\n\tat io.fabric8.kubernetes.client.dsl.internal.OperationSupport.assertResponseCode(OperationSupport.java:644)\r\n\tat io.fabric8.kubernetes.client.dsl.internal.OperationSupport.lambda$handleResponse$0(OperationSupport.java:581)\r\n\tat java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:616)\r\n\tat java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)\r\n\tat java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)\r\n\tat java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)\r\n\tat io.fabric8.kubernetes.client.dsl.internal.OperationSupport.lambda$retryWithExponentialBackoff$2(OperationSupport.java:622)\r\n\tat java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)\r\n\tat java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)\r\n\tat java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)\r\n\tat java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)\r\n\tat io.fabric8.kubernetes.client.okhttp.OkHttpClientImpl$4.onResponse(OkHttpClientImpl.java:268)\r\n\tat okhttp3.RealCall$AsyncCall.execute(RealCall.java:174)\r\n\tat okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n```\r\n\r\n\r\nCreated a CRD client in code and able to list on it :\r\n\r\n```\r\nMixedOperation&lt;CRD_POJO, KubernetesResourceList&lt;CRD_POJO&gt;, Resource&lt;CRD_POJO&gt;&gt; CRDClient = apiClient.resources(CRD_POJO.class);\r\n        System.out.println(&quot;CRDclient List:::::&quot; + CRDClient.list());\r\n```\r\nTill this point it works fine and I am able to list the objects as well but after that created a custom object of type CRD and tried doing a create on the CRD client and it failed with the above error.\r\n```\r\nCRD_POJO CR = new CRD_POJO();\r\n// Some set operations to make the CR object ready\r\n...\r\nCRD_POJO created = CRDClient.inNamespace(&quot;test&quot;).createOrReplace(CR);//Here it fails\r\n```\r\nAnyone faced this or know any solution? Any lead will help to solve this issue","title":"fabric8 v6.1.1 Failure at creating Custom Resource with POST call Resulting in Not Found","body":"<p>New to fabric8 K8S client library. Recently was trying to create a custom resource object using fabric8 (v6.1.1) and got Not Found Message at the POST Call internally. Can list on the CRD client on which this POST is performed.</p>\n<pre><code>io.fabric8.kubernetes.client.KubernetesClientException: Failure executing: POST at: https://cluster-xyz.domain.com/apis/&lt;resource spec.group&gt;/v1/&lt;crdname&gt;. Message: Not Found.\n    at io.fabric8.kubernetes.client.dsl.internal.OperationSupport.requestFailure(OperationSupport.java:713)\n    at io.fabric8.kubernetes.client.dsl.internal.OperationSupport.requestFailure(OperationSupport.java:693)\n    at io.fabric8.kubernetes.client.dsl.internal.OperationSupport.assertResponseCode(OperationSupport.java:644)\n    at io.fabric8.kubernetes.client.dsl.internal.OperationSupport.lambda$handleResponse$0(OperationSupport.java:581)\n    at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:616)\n    at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)\n    at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)\n    at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)\n    at io.fabric8.kubernetes.client.dsl.internal.OperationSupport.lambda$retryWithExponentialBackoff$2(OperationSupport.java:622)\n    at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)\n    at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)\n    at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)\n    at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)\n    at io.fabric8.kubernetes.client.okhttp.OkHttpClientImpl$4.onResponse(OkHttpClientImpl.java:268)\n    at okhttp3.RealCall$AsyncCall.execute(RealCall.java:174)\n    at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>Created a CRD client in code and able to list on it :</p>\n<pre><code>MixedOperation&lt;CRD_POJO, KubernetesResourceList&lt;CRD_POJO&gt;, Resource&lt;CRD_POJO&gt;&gt; CRDClient = apiClient.resources(CRD_POJO.class);\n        System.out.println(&quot;CRDclient List:::::&quot; + CRDClient.list());\n</code></pre>\n<p>Till this point it works fine and I am able to list the objects as well but after that created a custom object of type CRD and tried doing a create on the CRD client and it failed with the above error.</p>\n<pre><code>CRD_POJO CR = new CRD_POJO();\n// Some set operations to make the CR object ready\n...\nCRD_POJO created = CRDClient.inNamespace(&quot;test&quot;).createOrReplace(CR);//Here it fails\n</code></pre>\n<p>Anyone faced this or know any solution? Any lead will help to solve this issue</p>\n"},{"tags":["java","spring","tomcat","spring-webflux","netty"],"answers":[{"tags":[],"owner":{"account_id":3101358,"reputation":962,"user_id":2625393,"display_name":"Numichi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668942247,"creation_date":1668940984,"answer_id":74507402,"question_id":74492361,"body_markdown":"Netty is optimal for Webflux. Don&#39;t replace it. The basic principle of operation of the two systems is different. If you want to use Tomcat, use the `spring-boot-starter-web` dependency, not webflux.\r\n\r\nhttps://stackoverflow.com/questions/56794263/spring-webflux-differrences-when-netty-vs-tomcat-is-used-under-the-hood\r\n\r\nhttps://stackoverflow.com/questions/70997077/spring-web-mvc-vs-spring-webflux-blocking-and-non-blocking\r\n\r\n---\r\n\r\nNon-blocking programming requires a different approach because you must not block any thread. But you can use a blocker mechanism it just be wrapped. \r\n\r\nhttps://projectreactor.io/docs/core/release/reference/#faq.wrap-blocking\r\n\r\n---\r\n\r\nIf you want to program like with `spring-boot-starter-web` pack, not as &quot;stream&quot;. I recommend using the Kotlin language with Coroutine, which is two-way compatible with ProjectReactor and Java.\r\n\r\n---\r\n\r\nAnd you can&#39;t use thread-based data like Tomcat because more processes can use one thread so there may be thread data that another process can override. \r\n\r\nhttps://projectreactor.io/docs/core/release/reference/#context\r\n","title":"Spring Webflux change from Netty to Tomcat embedded server","body":"<p>Netty is optimal for Webflux. Don't replace it. The basic principle of operation of the two systems is different. If you want to use Tomcat, use the <code>spring-boot-starter-web</code> dependency, not webflux.</p>\n<p><a href=\"https://stackoverflow.com/questions/56794263/spring-webflux-differrences-when-netty-vs-tomcat-is-used-under-the-hood\">Spring webFlux differrences when Netty vs Tomcat is used under the hood</a></p>\n<p><a href=\"https://stackoverflow.com/questions/70997077/spring-web-mvc-vs-spring-webflux-blocking-and-non-blocking\">Spring Web MVC vs Spring WebFlux. Blocking and Non-blocking</a></p>\n<hr />\n<p>Non-blocking programming requires a different approach because you must not block any thread. But you can use a blocker mechanism it just be wrapped.</p>\n<p><a href=\"https://projectreactor.io/docs/core/release/reference/#faq.wrap-blocking\" rel=\"nofollow noreferrer\">https://projectreactor.io/docs/core/release/reference/#faq.wrap-blocking</a></p>\n<hr />\n<p>If you want to program like with <code>spring-boot-starter-web</code> pack, not as &quot;stream&quot;. I recommend using the Kotlin language with Coroutine, which is two-way compatible with ProjectReactor and Java.</p>\n<hr />\n<p>And you can't use thread-based data like Tomcat because more processes can use one thread so there may be thread data that another process can override.</p>\n<p><a href=\"https://projectreactor.io/docs/core/release/reference/#context\" rel=\"nofollow noreferrer\">https://projectreactor.io/docs/core/release/reference/#context</a></p>\n"},{"tags":[],"owner":{"account_id":4688053,"reputation":2010,"user_id":3794944,"accept_rate":79,"display_name":"Funsaized"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670212048,"creation_date":1670212048,"answer_id":74683158,"question_id":74492361,"body_markdown":"I believe this is how you would do something equivalent, note the difference in exclusion:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;my-webflux-app&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0&lt;/version&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;11&lt;/java.version&gt;\r\n            &lt;spring-boot.version&gt;2.3.3.RELEASE&lt;/spring-boot.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;netty-all&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;","title":"Spring Webflux change from Netty to Tomcat embedded server","body":"<p>I believe this is how you would do something equivalent, note the difference in exclusion:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;my-webflux-app&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;spring-boot.version&gt;2.3.3.RELEASE&lt;/spring-boot.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;io.netty&lt;/groupId&gt;\n                    &lt;artifactId&gt;netty-all&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":1626038,"reputation":4046,"user_id":1501582,"accept_rate":54,"display_name":"Stefano Maglione"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1555,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74507402,"answer_count":2,"score":1,"last_activity_date":1670212048,"creation_date":1668787601,"question_id":74492361,"body_markdown":"I have changed the pom to switch from Netty to Tomcat as below, but now I get : `java.lang.IllegalStateException: No suitable default ClientHttpConnector found`, why is that? With Netty before the change was all good.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.5&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.fer&lt;/groupId&gt;\r\n    &lt;artifactId&gt;DemoReactive&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;DemoReactive&lt;/name&gt;\r\n    &lt;description&gt;Demo project for Reactive&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-reactor-netty&lt;/artifactId&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;","title":"Spring Webflux change from Netty to Tomcat embedded server","body":"<p>I have changed the pom to switch from Netty to Tomcat as below, but now I get : <code>java.lang.IllegalStateException: No suitable default ClientHttpConnector found</code>, why is that? With Netty before the change was all good.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.5&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;groupId&gt;com.fer&lt;/groupId&gt;\n&lt;artifactId&gt;DemoReactive&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;DemoReactive&lt;/name&gt;\n&lt;description&gt;Demo project for Reactive&lt;/description&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;artifactId&gt;spring-boot-starter-reactor-netty&lt;/artifactId&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n        &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":4151501,"reputation":43,"user_id":3403829,"accept_rate":86,"display_name":"Hesham A"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670019646,"creation_date":1670019646,"answer_id":74662116,"question_id":74661922,"body_markdown":"I can see three obvious issues with this code:\r\n\r\nThe first issue is that the cutDeck method is not actually modifying the original deck array. Instead, it is creating a new array and returning it. In order to actually shuffle the original deck, you would need to modify the cutDeck method to modify the original array, rather than returning a new one.\r\n\r\nAnother issue is that the cutDeck method is currently assuming that the deck has 52 cards. However, the code in the main method is only creating an array with 13 cards. This means that the cutDeck method will not work properly with the deck created in main.\r\n\r\nFinally, the code is currently hard-coding the number of cards in the deck as 52, and it is also assuming that the user will always enter a valid cut point when prompted. It would be better to make the code more flexible and robust by using the length of the input array to determine the number of cards in the deck, and also by checking that the user&#39;s input is within the valid range for the deck size.\r\n\r\nAn alternative way to do this would be:\r\n\r\n    public static void cutDeck(String[] deck) {\r\n        System.out.println(&quot;Cut please. &#39;Choose between 1-&quot; + (deck.length - 1) + &quot;&#39;&quot;);\r\n        int cutPoint = scanner.nextInt();\r\n        \r\n        // Check that the cut point is within the valid range for the deck size\r\n        if (cutPoint &lt; 1 || cutPoint &gt;= deck.length) {\r\n            System.out.println(&quot;Invalid cut point. Please try again.&quot;);\r\n            return;\r\n        }\r\n        \r\n        // Create the top and bottom halves of the deck\r\n        String[] topDeck = new String[cutPoint];\r\n        String[] bottomDeck = new String[deck.length - cutPoint];\r\n        for (int i = 0; i &lt; cutPoint; i++) {\r\n            topDeck[i] = deck[i];\r\n        }\r\n        for (int i = cutPoint; i &lt; deck.length; i++) {\r\n            bottomDeck[i - cutPoint] = deck[i];\r\n        }\r\n        \r\n        // Reverse the top half of the deck\r\n        for (int i = 0; i &lt; cutPoint / 2; i++) {\r\n            String temp = topDeck[i];\r\n            topDeck[i] = topDeck[topDeck.length - i - 1];\r\n            topDeck[topDeck.length - i - 1] = temp;\r\n        }\r\n        \r\n        // Combine the top and bottom halves to create the shuffled deck\r\n        for (int i = 0; i &lt; deck.length; i++) {\r\n            if (i &lt; cutPoint) {\r\n                deck[i] = topDeck[i];\r\n            } else {\r\n                deck[i] = bottomDeck[i - cutPoint];\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Hi I am making a card game I want to take input and select where the user wants to cut in cards and how can i do that?","body":"<p>I can see three obvious issues with this code:</p>\n<p>The first issue is that the cutDeck method is not actually modifying the original deck array. Instead, it is creating a new array and returning it. In order to actually shuffle the original deck, you would need to modify the cutDeck method to modify the original array, rather than returning a new one.</p>\n<p>Another issue is that the cutDeck method is currently assuming that the deck has 52 cards. However, the code in the main method is only creating an array with 13 cards. This means that the cutDeck method will not work properly with the deck created in main.</p>\n<p>Finally, the code is currently hard-coding the number of cards in the deck as 52, and it is also assuming that the user will always enter a valid cut point when prompted. It would be better to make the code more flexible and robust by using the length of the input array to determine the number of cards in the deck, and also by checking that the user's input is within the valid range for the deck size.</p>\n<p>An alternative way to do this would be:</p>\n<pre><code>public static void cutDeck(String[] deck) {\n    System.out.println(&quot;Cut please. 'Choose between 1-&quot; + (deck.length - 1) + &quot;'&quot;);\n    int cutPoint = scanner.nextInt();\n    \n    // Check that the cut point is within the valid range for the deck size\n    if (cutPoint &lt; 1 || cutPoint &gt;= deck.length) {\n        System.out.println(&quot;Invalid cut point. Please try again.&quot;);\n        return;\n    }\n    \n    // Create the top and bottom halves of the deck\n    String[] topDeck = new String[cutPoint];\n    String[] bottomDeck = new String[deck.length - cutPoint];\n    for (int i = 0; i &lt; cutPoint; i++) {\n        topDeck[i] = deck[i];\n    }\n    for (int i = cutPoint; i &lt; deck.length; i++) {\n        bottomDeck[i - cutPoint] = deck[i];\n    }\n    \n    // Reverse the top half of the deck\n    for (int i = 0; i &lt; cutPoint / 2; i++) {\n        String temp = topDeck[i];\n        topDeck[i] = topDeck[topDeck.length - i - 1];\n        topDeck[topDeck.length - i - 1] = temp;\n    }\n    \n    // Combine the top and bottom halves to create the shuffled deck\n    for (int i = 0; i &lt; deck.length; i++) {\n        if (i &lt; cutPoint) {\n            deck[i] = topDeck[i];\n        } else {\n            deck[i] = bottomDeck[i - cutPoint];\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670211822,"creation_date":1670034381,"answer_id":74663529,"question_id":74661922,"body_markdown":"The loops in the O/P code can be replaced with existing methods in the [`Arrays` API](https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/Arrays.html) and the [`List` API](https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/List.html) : \r\n\r\n       \r\n     public static String[] cut (String [] deck, int n) { \r\n         List&lt;String&gt; cutDeck = new ArrayList&lt;&gt; (deck.length);\r\n         List&lt;String&gt; bottom = Arrays.asList (Arrays.copyOfRange (deck,n, deck.length));\r\n         cutDeck.addAll (bottom);\r\n         List&lt;String&gt; top = Arrays.asList (Arrays.copyOfRange (deck, 0, n));\r\n         cutDeck.addAll (top);\r\n         return cutDeck.toArray(deck);\r\n     }\r\n\r\n\r\nThis assumes the `deck` is 1D array of `String`.  The test or other methods can call it like this:\r\n\r\n     array = cut (array, cutPoint);\r\n\r\nNote that this requires the value for `cutPoint` be set before calling the `cut` method. Moving the code to interact with the user to a different method makes the `cutDeck` method more cohesive, which is desirable.\r\n\r\nNote that this does not reverse the order of cards in part of the deck. In real life, cutting a deck of cards does not reverse the order of part of the deck.  However, if reversing is desired, one way to do it is to add a call to the `reverse` method from [`Collections` API](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collections.html)\r\n\r\n\r\n         List&lt;String&gt; top = Arrays.asList (Arrays.copyOfRange (deck, 0, n));\r\n         Collections.reverse(top);\r\n         cutDeck.addAll (top);\r\n\r\nAs noted in the previous answer, `cutDeck(array);` in your code causes the shuffled deck result to be ignored. If you want to fix that part of your original code, change that line to `array = cutDeck(array);`\r\n\r\nThe other points in the first answer are also valid: \r\n- You want to ensure the `cutPoint` value is valid.\r\n- The `cutDeck`  method is more flexible if it gets the length to use from the array parameter.\r\n\r\nBy the way, the `Arrays` API has several `toString` methods. Using it can shorten code for printing array content, but with less control over formatting the output:\r\n\r\n     System.out.println (Arrays.toString(array));\r\n\r\nAdded: A simpler method: \r\n------------------------\r\nAs previously noted, in a real-life card game, cutting of the deck does not reverse the order of any of the cards. In fact, if you imagine the cards as a circular array, cutting the deck results in no change of order at all. Instead, it changes the starting point. Taking that into mind, we can write a single loop to cut the deck:\r\n\r\n    public static String[] cut2 (String [] deck, final int n) {\r\n         String [] cutDeck = new String [deck.length];\r\n         for (int i = 0; i &lt; cutDeck.length; ++i) {\r\n             cutDeck [i] = deck [ (i + n) % deck.length];\r\n         }\r\n         return cutDeck;\r\n     }\r\n\r\nHere is a test method:\r\n\r\n     public static void cards () {\r\n         String [] deck = {\r\n                   &quot;two clubs&quot;, &quot;three clubs&quot;, &quot;four clubs&quot;\r\n                 , &quot;five clubs&quot;, &quot;six clubs&quot;, &quot;seven clubs&quot;\r\n                 , &quot;eight clubs&quot;, &quot;nine clubs&quot;, &quot;ten clubs&quot;\r\n                 , &quot;jack clubs&quot;, &quot;queen clubs&quot;, &quot;king clubs&quot;\r\n                 , &quot;ace clubs&quot;\r\n                 , &quot;two diamonds&quot;, &quot;three diamonds&quot;, &quot;four diamonds&quot;\r\n                 , &quot;five diamonds&quot;, &quot;six diamonds&quot;, &quot;seven diamonds&quot;\r\n                 , &quot;eight diamonds&quot;, &quot;nine diamonds&quot;, &quot;ten diamonds&quot;\r\n                 , &quot;jack diamonds&quot;, &quot;queen diamonds&quot;, &quot;king diamonds&quot;\r\n                 , &quot;ace diamonds&quot;\r\n                 , &quot;two hearts&quot;, &quot;three hearts&quot;, &quot;four hearts&quot;\r\n                 , &quot;five hearts&quot;, &quot;six hearts&quot;, &quot;seven hearts&quot;\r\n                 , &quot;eight hearts&quot;, &quot;nine hearts&quot;, &quot;ten hearts&quot;\r\n                 , &quot;jack hearts&quot;, &quot;queen hearts&quot;, &quot;king hearts&quot;\r\n                 , &quot;ace hearts&quot;\r\n                 ,&quot; two spades&quot;, &quot;three spades&quot;, &quot;four spades&quot;\r\n                 , &quot;five spades&quot;, &quot;six spades&quot;, &quot;seven spades&quot;\r\n                 , &quot;eight spades&quot;, &quot;nine spades&quot;, &quot;ten spades&quot;\r\n                 , &quot;jack spades&quot;, &quot;queen spades&quot;, &quot;king spades&quot;\r\n                 , &quot;ace spades&quot;\r\n         };    \r\n         \r\n         System.out.println (&quot;Original: &quot; + Arrays.toString(deck));\r\n         \r\n         \r\n         for (int i = 0; i &lt; 10; ++i) {\r\n             int r = (int) (Math.random () * deck.length);\r\n             System.out.println ();\r\n             System.out.println (r + &quot; &quot; + \r\n               Arrays.toString (cut  (Arrays.copyOf (deck, deck.length), r)));\r\n             System.out.println (r + &quot; &quot; + \r\n               Arrays.toString (cut2 (Arrays.copyOf (deck, deck.length), r)));             \r\n         }                                        \r\n     }\r\n\r\nThe test method calls `cut` from above, and `cut2` from this part. If the call to `Collections.reverse` is not used in `cut`, then `cut` and `cut2` should return the same result. \r\n\r\nHere is an example output from test run. Only the first three cuts are shown:\r\n\r\n`````\r\nOriginal: [two clubs, three clubs, four clubs, five clubs, six clubs, seven clubs, eight clubs, nine clubs, ten clubs, jack clubs, queen clubs, king clubs, ace clubs, two diamonds, three diamonds, four diamonds, five diamonds, six diamonds, seven diamonds, eight diamonds, nine diamonds, ten diamonds, jack diamonds, queen diamonds, king diamonds, ace diamonds, two hearts, three hearts, four hearts, five hearts, six hearts, seven hearts, eight hearts, nine hearts, ten hearts, jack hearts, queen hearts, king hearts, ace hearts,  two spades, three spades, four spades, five spades, six spades, seven spades, eight spades, nine spades, ten spades, jack spades, queen spades, king spades, ace spades]\r\n\r\n7 [nine clubs, ten clubs, jack clubs, queen clubs, king clubs, ace clubs, two diamonds, three diamonds, four diamonds, five diamonds, six diamonds, seven diamonds, eight diamonds, nine diamonds, ten diamonds, jack diamonds, queen diamonds, king diamonds, ace diamonds, two hearts, three hearts, four hearts, five hearts, six hearts, seven hearts, eight hearts, nine hearts, ten hearts, jack hearts, queen hearts, king hearts, ace hearts,  two spades, three spades, four spades, five spades, six spades, seven spades, eight spades, nine spades, ten spades, jack spades, queen spades, king spades, ace spades, two clubs, three clubs, four clubs, five clubs, six clubs, seven clubs, eight clubs]\r\n7 [nine clubs, ten clubs, jack clubs, queen clubs, king clubs, ace clubs, two diamonds, three diamonds, four diamonds, five diamonds, six diamonds, seven diamonds, eight diamonds, nine diamonds, ten diamonds, jack diamonds, queen diamonds, king diamonds, ace diamonds, two hearts, three hearts, four hearts, five hearts, six hearts, seven hearts, eight hearts, nine hearts, ten hearts, jack hearts, queen hearts, king hearts, ace hearts,  two spades, three spades, four spades, five spades, six spades, seven spades, eight spades, nine spades, ten spades, jack spades, queen spades, king spades, ace spades, two clubs, three clubs, four clubs, five clubs, six clubs, seven clubs, eight clubs]\r\n\r\n46 [nine spades, ten spades, jack spades, queen spades, king spades, ace spades, two clubs, three clubs, four clubs, five clubs, six clubs, seven clubs, eight clubs, nine clubs, ten clubs, jack clubs, queen clubs, king clubs, ace clubs, two diamonds, three diamonds, four diamonds, five diamonds, six diamonds, seven diamonds, eight diamonds, nine diamonds, ten diamonds, jack diamonds, queen diamonds, king diamonds, ace diamonds, two hearts, three hearts, four hearts, five hearts, six hearts, seven hearts, eight hearts, nine hearts, ten hearts, jack hearts, queen hearts, king hearts, ace hearts,  two spades, three spades, four spades, five spades, six spades, seven spades, eight spades]\r\n46 [nine spades, ten spades, jack spades, queen spades, king spades, ace spades, two clubs, three clubs, four clubs, five clubs, six clubs, seven clubs, eight clubs, nine clubs, ten clubs, jack clubs, queen clubs, king clubs, ace clubs, two diamonds, three diamonds, four diamonds, five diamonds, six diamonds, seven diamonds, eight diamonds, nine diamonds, ten diamonds, jack diamonds, queen diamonds, king diamonds, ace diamonds, two hearts, three hearts, four hearts, five hearts, six hearts, seven hearts, eight hearts, nine hearts, ten hearts, jack hearts, queen hearts, king hearts, ace hearts,  two spades, three spades, four spades, five spades, six spades, seven spades, eight spades]\r\n\r\n10 [queen clubs, king clubs, ace clubs, two diamonds, three diamonds, four diamonds, five diamonds, six diamonds, seven diamonds, eight diamonds, nine diamonds, ten diamonds, jack diamonds, queen diamonds, king diamonds, ace diamonds, two hearts, three hearts, four hearts, five hearts, six hearts, seven hearts, eight hearts, nine hearts, ten hearts, jack hearts, queen hearts, king hearts, ace hearts,  two spades, three spades, four spades, five spades, six spades, seven spades, eight spades, nine spades, ten spades, jack spades, queen spades, king spades, ace spades, two clubs, three clubs, four clubs, five clubs, six clubs, seven clubs, eight clubs, nine clubs, ten clubs, jack clubs]\r\n10 [queen clubs, king clubs, ace clubs, two diamonds, three diamonds, four diamonds, five diamonds, six diamonds, seven diamonds, eight diamonds, nine diamonds, ten diamonds, jack diamonds, queen diamonds, king diamonds, ace diamonds, two hearts, three hearts, four hearts, five hearts, six hearts, seven hearts, eight hearts, nine hearts, ten hearts, jack hearts, queen hearts, king hearts, ace hearts,  two spades, three spades, four spades, five spades, six spades, seven spades, eight spades, nine spades, ten spades, jack spades, queen spades, king spades, ace spades, two clubs, three clubs, four clubs, five clubs, six clubs, seven clubs, eight clubs, nine clubs, ten clubs, jack clubs]\r\n\r\n`````","title":"Hi I am making a card game I want to take input and select where the user wants to cut in cards and how can i do that?","body":"<p>The loops in the O/P code can be replaced with existing methods in the <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/Arrays.html\" rel=\"nofollow noreferrer\"><code>Arrays</code> API</a> and the <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/List.html\" rel=\"nofollow noreferrer\"><code>List</code> API</a> :</p>\n<pre><code> public static String[] cut (String [] deck, int n) { \n     List&lt;String&gt; cutDeck = new ArrayList&lt;&gt; (deck.length);\n     List&lt;String&gt; bottom = Arrays.asList (Arrays.copyOfRange (deck,n, deck.length));\n     cutDeck.addAll (bottom);\n     List&lt;String&gt; top = Arrays.asList (Arrays.copyOfRange (deck, 0, n));\n     cutDeck.addAll (top);\n     return cutDeck.toArray(deck);\n }\n</code></pre>\n<p>This assumes the <code>deck</code> is 1D array of <code>String</code>.  The test or other methods can call it like this:</p>\n<pre><code> array = cut (array, cutPoint);\n</code></pre>\n<p>Note that this requires the value for <code>cutPoint</code> be set before calling the <code>cut</code> method. Moving the code to interact with the user to a different method makes the <code>cutDeck</code> method more cohesive, which is desirable.</p>\n<p>Note that this does not reverse the order of cards in part of the deck. In real life, cutting a deck of cards does not reverse the order of part of the deck.  However, if reversing is desired, one way to do it is to add a call to the <code>reverse</code> method from <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collections.html\" rel=\"nofollow noreferrer\"><code>Collections</code> API</a></p>\n<pre><code>     List&lt;String&gt; top = Arrays.asList (Arrays.copyOfRange (deck, 0, n));\n     Collections.reverse(top);\n     cutDeck.addAll (top);\n</code></pre>\n<p>As noted in the previous answer, <code>cutDeck(array);</code> in your code causes the shuffled deck result to be ignored. If you want to fix that part of your original code, change that line to <code>array = cutDeck(array);</code></p>\n<p>The other points in the first answer are also valid:</p>\n<ul>\n<li>You want to ensure the <code>cutPoint</code> value is valid.</li>\n<li>The <code>cutDeck</code>  method is more flexible if it gets the length to use from the array parameter.</li>\n</ul>\n<p>By the way, the <code>Arrays</code> API has several <code>toString</code> methods. Using it can shorten code for printing array content, but with less control over formatting the output:</p>\n<pre><code> System.out.println (Arrays.toString(array));\n</code></pre>\n<h2>Added: A simpler method:</h2>\n<p>As previously noted, in a real-life card game, cutting of the deck does not reverse the order of any of the cards. In fact, if you imagine the cards as a circular array, cutting the deck results in no change of order at all. Instead, it changes the starting point. Taking that into mind, we can write a single loop to cut the deck:</p>\n<pre><code>public static String[] cut2 (String [] deck, final int n) {\n     String [] cutDeck = new String [deck.length];\n     for (int i = 0; i &lt; cutDeck.length; ++i) {\n         cutDeck [i] = deck [ (i + n) % deck.length];\n     }\n     return cutDeck;\n }\n</code></pre>\n<p>Here is a test method:</p>\n<pre><code> public static void cards () {\n     String [] deck = {\n               &quot;two clubs&quot;, &quot;three clubs&quot;, &quot;four clubs&quot;\n             , &quot;five clubs&quot;, &quot;six clubs&quot;, &quot;seven clubs&quot;\n             , &quot;eight clubs&quot;, &quot;nine clubs&quot;, &quot;ten clubs&quot;\n             , &quot;jack clubs&quot;, &quot;queen clubs&quot;, &quot;king clubs&quot;\n             , &quot;ace clubs&quot;\n             , &quot;two diamonds&quot;, &quot;three diamonds&quot;, &quot;four diamonds&quot;\n             , &quot;five diamonds&quot;, &quot;six diamonds&quot;, &quot;seven diamonds&quot;\n             , &quot;eight diamonds&quot;, &quot;nine diamonds&quot;, &quot;ten diamonds&quot;\n             , &quot;jack diamonds&quot;, &quot;queen diamonds&quot;, &quot;king diamonds&quot;\n             , &quot;ace diamonds&quot;\n             , &quot;two hearts&quot;, &quot;three hearts&quot;, &quot;four hearts&quot;\n             , &quot;five hearts&quot;, &quot;six hearts&quot;, &quot;seven hearts&quot;\n             , &quot;eight hearts&quot;, &quot;nine hearts&quot;, &quot;ten hearts&quot;\n             , &quot;jack hearts&quot;, &quot;queen hearts&quot;, &quot;king hearts&quot;\n             , &quot;ace hearts&quot;\n             ,&quot; two spades&quot;, &quot;three spades&quot;, &quot;four spades&quot;\n             , &quot;five spades&quot;, &quot;six spades&quot;, &quot;seven spades&quot;\n             , &quot;eight spades&quot;, &quot;nine spades&quot;, &quot;ten spades&quot;\n             , &quot;jack spades&quot;, &quot;queen spades&quot;, &quot;king spades&quot;\n             , &quot;ace spades&quot;\n     };    \n     \n     System.out.println (&quot;Original: &quot; + Arrays.toString(deck));\n     \n     \n     for (int i = 0; i &lt; 10; ++i) {\n         int r = (int) (Math.random () * deck.length);\n         System.out.println ();\n         System.out.println (r + &quot; &quot; + \n           Arrays.toString (cut  (Arrays.copyOf (deck, deck.length), r)));\n         System.out.println (r + &quot; &quot; + \n           Arrays.toString (cut2 (Arrays.copyOf (deck, deck.length), r)));             \n     }                                        \n }\n</code></pre>\n<p>The test method calls <code>cut</code> from above, and <code>cut2</code> from this part. If the call to <code>Collections.reverse</code> is not used in <code>cut</code>, then <code>cut</code> and <code>cut2</code> should return the same result.</p>\n<p>Here is an example output from test run. Only the first three cuts are shown:</p>\n<pre><code>Original: [two clubs, three clubs, four clubs, five clubs, six clubs, seven clubs, eight clubs, nine clubs, ten clubs, jack clubs, queen clubs, king clubs, ace clubs, two diamonds, three diamonds, four diamonds, five diamonds, six diamonds, seven diamonds, eight diamonds, nine diamonds, ten diamonds, jack diamonds, queen diamonds, king diamonds, ace diamonds, two hearts, three hearts, four hearts, five hearts, six hearts, seven hearts, eight hearts, nine hearts, ten hearts, jack hearts, queen hearts, king hearts, ace hearts,  two spades, three spades, four spades, five spades, six spades, seven spades, eight spades, nine spades, ten spades, jack spades, queen spades, king spades, ace spades]\n\n7 [nine clubs, ten clubs, jack clubs, queen clubs, king clubs, ace clubs, two diamonds, three diamonds, four diamonds, five diamonds, six diamonds, seven diamonds, eight diamonds, nine diamonds, ten diamonds, jack diamonds, queen diamonds, king diamonds, ace diamonds, two hearts, three hearts, four hearts, five hearts, six hearts, seven hearts, eight hearts, nine hearts, ten hearts, jack hearts, queen hearts, king hearts, ace hearts,  two spades, three spades, four spades, five spades, six spades, seven spades, eight spades, nine spades, ten spades, jack spades, queen spades, king spades, ace spades, two clubs, three clubs, four clubs, five clubs, six clubs, seven clubs, eight clubs]\n7 [nine clubs, ten clubs, jack clubs, queen clubs, king clubs, ace clubs, two diamonds, three diamonds, four diamonds, five diamonds, six diamonds, seven diamonds, eight diamonds, nine diamonds, ten diamonds, jack diamonds, queen diamonds, king diamonds, ace diamonds, two hearts, three hearts, four hearts, five hearts, six hearts, seven hearts, eight hearts, nine hearts, ten hearts, jack hearts, queen hearts, king hearts, ace hearts,  two spades, three spades, four spades, five spades, six spades, seven spades, eight spades, nine spades, ten spades, jack spades, queen spades, king spades, ace spades, two clubs, three clubs, four clubs, five clubs, six clubs, seven clubs, eight clubs]\n\n46 [nine spades, ten spades, jack spades, queen spades, king spades, ace spades, two clubs, three clubs, four clubs, five clubs, six clubs, seven clubs, eight clubs, nine clubs, ten clubs, jack clubs, queen clubs, king clubs, ace clubs, two diamonds, three diamonds, four diamonds, five diamonds, six diamonds, seven diamonds, eight diamonds, nine diamonds, ten diamonds, jack diamonds, queen diamonds, king diamonds, ace diamonds, two hearts, three hearts, four hearts, five hearts, six hearts, seven hearts, eight hearts, nine hearts, ten hearts, jack hearts, queen hearts, king hearts, ace hearts,  two spades, three spades, four spades, five spades, six spades, seven spades, eight spades]\n46 [nine spades, ten spades, jack spades, queen spades, king spades, ace spades, two clubs, three clubs, four clubs, five clubs, six clubs, seven clubs, eight clubs, nine clubs, ten clubs, jack clubs, queen clubs, king clubs, ace clubs, two diamonds, three diamonds, four diamonds, five diamonds, six diamonds, seven diamonds, eight diamonds, nine diamonds, ten diamonds, jack diamonds, queen diamonds, king diamonds, ace diamonds, two hearts, three hearts, four hearts, five hearts, six hearts, seven hearts, eight hearts, nine hearts, ten hearts, jack hearts, queen hearts, king hearts, ace hearts,  two spades, three spades, four spades, five spades, six spades, seven spades, eight spades]\n\n10 [queen clubs, king clubs, ace clubs, two diamonds, three diamonds, four diamonds, five diamonds, six diamonds, seven diamonds, eight diamonds, nine diamonds, ten diamonds, jack diamonds, queen diamonds, king diamonds, ace diamonds, two hearts, three hearts, four hearts, five hearts, six hearts, seven hearts, eight hearts, nine hearts, ten hearts, jack hearts, queen hearts, king hearts, ace hearts,  two spades, three spades, four spades, five spades, six spades, seven spades, eight spades, nine spades, ten spades, jack spades, queen spades, king spades, ace spades, two clubs, three clubs, four clubs, five clubs, six clubs, seven clubs, eight clubs, nine clubs, ten clubs, jack clubs]\n10 [queen clubs, king clubs, ace clubs, two diamonds, three diamonds, four diamonds, five diamonds, six diamonds, seven diamonds, eight diamonds, nine diamonds, ten diamonds, jack diamonds, queen diamonds, king diamonds, ace diamonds, two hearts, three hearts, four hearts, five hearts, six hearts, seven hearts, eight hearts, nine hearts, ten hearts, jack hearts, queen hearts, king hearts, ace hearts,  two spades, three spades, four spades, five spades, six spades, seven spades, eight spades, nine spades, ten spades, jack spades, queen spades, king spades, ace spades, two clubs, three clubs, four clubs, five clubs, six clubs, seven clubs, eight clubs, nine clubs, ten clubs, jack clubs]\n\n</code></pre>\n"}],"owner":{"account_id":26700695,"reputation":3,"user_id":20307796,"display_name":"Alper &#214;zg&#252;r AHN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1670601059,"answer_count":2,"score":-4,"last_activity_date":1670211822,"creation_date":1670018371,"question_id":74661922,"body_markdown":"```\r\npackage main;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class test {\r\n\tpublic static String[] ranks = {&quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;10&quot;, &quot;Ace&quot;, &quot;Jack&quot;, &quot;Queen&quot;, &quot;King&quot;};\r\n\tpublic static Scanner scanner = new Scanner(System.in);\r\n\tpublic static void main(String[] args) {\r\n\t\tString[] array = new String[13];\r\n\t\tfor(int i = 0; i&lt;array.length; i++) {\r\n\t\t\tarray[i] = ranks[i] ;\r\n\t\t}\r\n\t\tfor (int i = 0; i&lt;array.length; i++ ) {\r\n\t\t\tSystem.out.println(array[i]);\r\n\t\t}\r\n\t\tcutDeck(array);\r\n\t\tfor (int i = 0; i&lt;array.length; i++ ) {\r\n\t\t\tSystem.out.println(array[i]);\r\n\t\t}\r\n\t}\r\n\tpublic static String[] cutDeck(String[] deck) {\r\n\t\tSystem.out.println(&quot;Cut please. &#39;Choose between 1-51&#39;&quot;);\r\n\t\tint cutPoint = scanner.nextInt();\r\n\t\tString[] topDeck= new String[52];\r\n\t\tString[] bottomDeck = new String[52];\r\n\t\tString[] newDeck = new String[deck.length];\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tfor (int i = 1; i&lt;=cutPoint ; i++) {\t\t\t// Topdeck\r\n\t\t\ttopDeck[i-1] = deck[deck.length-1*i];\r\n\t\t\t\r\n\t\t}\r\n\t\tfor (int i = 0; i &lt; cutPoint / 2; i++)\t\t\t // Reverse topdeck \r\n\t\t{\r\n\t\t    String temp = topDeck[i];\r\n\t\t    topDeck[i] = topDeck[topDeck.length - i - 1];\r\n\t\t    topDeck[topDeck.length - i - 1] = temp;\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tfor (int i = 0; i&lt;deck.length - cutPoint; i++) {\t//Bottom cut point\r\n\t\t\tbottomDeck[i] = deck[i];\r\n\t}\r\n\t\t\r\n\t\t\r\n\t\tfor (int i = 0; i&lt;deck.length; i++) {\r\n\t\t\tif (cutPoint &gt; i) {\r\n\t\t\t\tnewDeck[i] = topDeck[i];\r\n\t\t\t} else {\r\n\t\t\t\tnewDeck[i] = bottomDeck[i];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn newDeck;\r\n}\r\n\t}\r\n```\r\n\r\nI am trying to cut the deck while asking to the user.\r\n\r\nThis function does not cut the deck.\r\n\r\nWhere am I doing wrong ?\r\n\r\nI tried everything but I lost my brain can you guys help me please?\r\n\r\nI am open to another ideas so you can give improve my code.\r\n\r\nThanks in advance.","title":"Hi I am making a card game I want to take input and select where the user wants to cut in cards and how can i do that?","body":"<pre><code>package main;\n\nimport java.util.Scanner;\n\npublic class test {\n    public static String[] ranks = {&quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;10&quot;, &quot;Ace&quot;, &quot;Jack&quot;, &quot;Queen&quot;, &quot;King&quot;};\n    public static Scanner scanner = new Scanner(System.in);\n    public static void main(String[] args) {\n        String[] array = new String[13];\n        for(int i = 0; i&lt;array.length; i++) {\n            array[i] = ranks[i] ;\n        }\n        for (int i = 0; i&lt;array.length; i++ ) {\n            System.out.println(array[i]);\n        }\n        cutDeck(array);\n        for (int i = 0; i&lt;array.length; i++ ) {\n            System.out.println(array[i]);\n        }\n    }\n    public static String[] cutDeck(String[] deck) {\n        System.out.println(&quot;Cut please. 'Choose between 1-51'&quot;);\n        int cutPoint = scanner.nextInt();\n        String[] topDeck= new String[52];\n        String[] bottomDeck = new String[52];\n        String[] newDeck = new String[deck.length];\n        \n        \n        \n        for (int i = 1; i&lt;=cutPoint ; i++) {            // Topdeck\n            topDeck[i-1] = deck[deck.length-1*i];\n            \n        }\n        for (int i = 0; i &lt; cutPoint / 2; i++)           // Reverse topdeck \n        {\n            String temp = topDeck[i];\n            topDeck[i] = topDeck[topDeck.length - i - 1];\n            topDeck[topDeck.length - i - 1] = temp;\n        }\n        \n        \n        \n        for (int i = 0; i&lt;deck.length - cutPoint; i++) {    //Bottom cut point\n            bottomDeck[i] = deck[i];\n    }\n        \n        \n        for (int i = 0; i&lt;deck.length; i++) {\n            if (cutPoint &gt; i) {\n                newDeck[i] = topDeck[i];\n            } else {\n                newDeck[i] = bottomDeck[i];\n            }\n        }\n        return newDeck;\n}\n    }\n</code></pre>\n<p>I am trying to cut the deck while asking to the user.</p>\n<p>This function does not cut the deck.</p>\n<p>Where am I doing wrong ?</p>\n<p>I tried everything but I lost my brain can you guys help me please?</p>\n<p>I am open to another ideas so you can give improve my code.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","text-files","multiple-columns"],"answers":[{"tags":[],"owner":{"account_id":3868372,"reputation":4436,"user_id":3204335,"display_name":"MD Ruhul Amin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564720482,"creation_date":1564720482,"answer_id":57319996,"question_id":57319879,"body_markdown":"You could declare a 2D array String: And store those values into that matrix. A very naive solution: \r\n\r\n    String matrix[][] = new String[100][1];\r\n    int i=0;\r\n     while ((line = br.readLine()) != null) {\r\n                String[] columns = line.split(&quot;\\t&quot;);\r\n                matrix[i++]= columns;\r\n                System.out.println( columns[0] );\r\n                //System.out.println(&quot;my second column : &quot;+ columns[1] );\r\n                //System.out.println(&quot;my third column : &quot;+ columns[2] );\r\n    \r\n    }\r\n    System.out.println( matrix[2][2]);\r\n\r\n**Note:** This is not a good practice to uses 2D arrays this ways. ","title":"Java- extract specific data from note pad","body":"<p>You could declare a 2D array String: And store those values into that matrix. A very naive solution: </p>\n\n<pre><code>String matrix[][] = new String[100][1];\nint i=0;\n while ((line = br.readLine()) != null) {\n            String[] columns = line.split(\"\\t\");\n            matrix[i++]= columns;\n            System.out.println( columns[0] );\n            //System.out.println(\"my second column : \"+ columns[1] );\n            //System.out.println(\"my third column : \"+ columns[2] );\n\n}\nSystem.out.println( matrix[2][2]);\n</code></pre>\n\n<p><strong>Note:</strong> This is not a good practice to uses 2D arrays this ways. </p>\n"},{"tags":[],"owner":{"account_id":15636406,"reputation":456,"user_id":11281137,"display_name":"caladeve"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564720580,"creation_date":1564720580,"answer_id":57320014,"question_id":57319879,"body_markdown":"You could also include a row counter to access it via rows and columns:\r\n\r\n    int row = 0;\r\n    \r\n    while((line = b.readLine()) != null) {\r\n          String[] columns = line.split(&quot; &quot;);\r\n          System.out.println(&quot;my first column : &quot;+ columns[0] );\r\n          System.out.println(&quot;my second column : &quot;+ columns[1] );\r\n\r\n          if (row == 2) { //denotes 25000\r\n             System.out.println(&quot;row item data: &quot; + columns[1]);\r\n          }\r\n          \r\n          System.out.println(&quot;my third column : &quot;+ columns[2] );\r\n          row++;\r\n       }","title":"Java- extract specific data from note pad","body":"<p>You could also include a row counter to access it via rows and columns:</p>\n\n<pre><code>int row = 0;\n\nwhile((line = b.readLine()) != null) {\n      String[] columns = line.split(\" \");\n      System.out.println(\"my first column : \"+ columns[0] );\n      System.out.println(\"my second column : \"+ columns[1] );\n\n      if (row == 2) { //denotes 25000\n         System.out.println(\"row item data: \" + columns[1]);\n      }\n\n      System.out.println(\"my third column : \"+ columns[2] );\n      row++;\n   }\n</code></pre>\n"}],"owner":{"account_id":5632493,"reputation":905,"user_id":4459027,"accept_rate":86,"display_name":"Sheikh Rahman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1670211591,"creation_date":1564719465,"question_id":57319879,"body_markdown":"I have a question on this thread, the answer provided by Majid Laissi\r\n\r\nhttps://stackoverflow.com/questions/17029721/extract-data-column-wise-from-text-file-using-java/57319784#57319784\r\n\r\nThe user wanted to  perform operations **on individual data** according to columns. With that solution how is it working?\r\n\r\nThis is how I think the solution looked like\r\n\r\n    public class TextTest {\r\n        public static void main(String[] args) throws Exception {\r\n    \r\n            BufferedReader br = new BufferedReader(new FileReader(&quot;C:\\\\MyTemp\\\\Rank.txt&quot;));\r\n    \r\n            String line = br.readLine();\r\n    \r\n    \r\n            while ((line = br.readLine()) != null) {\r\n                String[] columns = line.split(&quot;\\t&quot;);\r\n                System.out.println( columns[0] );\r\n                //System.out.println(&quot;my second column : &quot;+ columns[1] );\r\n                //System.out.println(&quot;my third column : &quot;+ columns[2] );\r\n    \r\n            }\r\n        }\r\n    }\r\n\r\nOutput\r\n \r\n\r\n    065    12000   1\r\n    023    15000   2\r\n    035    25000   3\r\n    076    40000   4\r\n\r\nQuestion how was he going to get individual data. Let&#39;s say he wanted to just grab 25000, not the matching row. This is not a 2D array so that he can use columns[1][1].","title":"Java- extract specific data from note pad","body":"<p>I have a question on this thread, the answer provided by Majid Laissi</p>\n<p><a href=\"https://stackoverflow.com/questions/17029721/extract-data-column-wise-from-text-file-using-java/57319784#57319784\">extract data column-wise from text file using Java</a></p>\n<p>The user wanted to  perform operations <strong>on individual data</strong> according to columns. With that solution how is it working?</p>\n<p>This is how I think the solution looked like</p>\n<pre><code>public class TextTest {\n    public static void main(String[] args) throws Exception {\n\n        BufferedReader br = new BufferedReader(new FileReader(&quot;C:\\\\MyTemp\\\\Rank.txt&quot;));\n\n        String line = br.readLine();\n\n\n        while ((line = br.readLine()) != null) {\n            String[] columns = line.split(&quot;\\t&quot;);\n            System.out.println( columns[0] );\n            //System.out.println(&quot;my second column : &quot;+ columns[1] );\n            //System.out.println(&quot;my third column : &quot;+ columns[2] );\n\n        }\n    }\n}\n</code></pre>\n<p>Output</p>\n<pre><code>065    12000   1\n023    15000   2\n035    25000   3\n076    40000   4\n</code></pre>\n<p>Question how was he going to get individual data. Let's say he wanted to just grab 25000, not the matching row. This is not a 2D array so that he can use columns[1][1].</p>\n"},{"tags":["java","spring-boot","caching","micrometer","caffeine-cache"],"answers":[{"tags":[],"owner":{"account_id":942478,"reputation":14367,"user_id":970308,"accept_rate":62,"display_name":"checketts"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670210909,"creation_date":1670210909,"answer_id":74683074,"question_id":74393289,"body_markdown":"The metrics you are seeing are the common `CacheManger` metrics. To get Caffeine specific ones, you&#39;ll need to `monitor` those caches as they are created.\r\n\r\nI&#39;ve not run this code, but subclassing the `CaffeineCacheManager` and hooking into the `createNativeCaffeineCache` should do the trick:\r\n\r\n```java\r\npublic CacheManager cacheManager(Caffeine&lt;Object, Object&gt; caffeine, MeterRegistry meterRegistry) {\r\n    CaffeineCacheManager caffeineCacheManager = new CaffeineCacheManager(){\r\n          protected com.github.benmanes.caffeine.cache.Cache&lt;Object, Object&gt; createNativeCaffeineCache(String name) {\r\n          return CaffeineCacheMetrics.monitor(meterRegistry, super.createNativeCaffeineCache(name), name);\r\n      }\r\n\r\n    };\r\n    caffeineCacheManager.setCaffeine(caffeine);\r\n}\r\n```\r\n\r\nThere is likely a better way. But this _should_ work.","title":"Caffeine cache metrics only report cache size but not hit/miss ratio with micrometer","body":"<p>The metrics you are seeing are the common <code>CacheManger</code> metrics. To get Caffeine specific ones, you'll need to <code>monitor</code> those caches as they are created.</p>\n<p>I've not run this code, but subclassing the <code>CaffeineCacheManager</code> and hooking into the <code>createNativeCaffeineCache</code> should do the trick:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public CacheManager cacheManager(Caffeine&lt;Object, Object&gt; caffeine, MeterRegistry meterRegistry) {\n    CaffeineCacheManager caffeineCacheManager = new CaffeineCacheManager(){\n          protected com.github.benmanes.caffeine.cache.Cache&lt;Object, Object&gt; createNativeCaffeineCache(String name) {\n          return CaffeineCacheMetrics.monitor(meterRegistry, super.createNativeCaffeineCache(name), name);\n      }\n\n    };\n    caffeineCacheManager.setCaffeine(caffeine);\n}\n</code></pre>\n<p>There is likely a better way. But this <em>should</em> work.</p>\n"}],"owner":{"account_id":11102083,"reputation":1171,"user_id":9914653,"display_name":"hitchhiker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2376,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670210909,"creation_date":1668102407,"question_id":74393289,"body_markdown":"I&#39;m using Caffeine cache for Java Spring Boot `com.github.ben-manes.caffeine:caffeine:3.1.1`. This is my cache configuration class:\r\n\r\n```java\r\nimport com.github.benmanes.caffeine.cache.Caffeine;\r\nimport org.springframework.cache.CacheManager;\r\nimport org.springframework.cache.caffeine.CaffeineCacheManager;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n@Configuration\r\npublic class CacheConfig {\r\n  \r\n  @Bean\r\n  public Caffeine&lt;Object, Object&gt; caffeineConfig() {\r\n    return Caffeine.newBuilder()\r\n        .maximumSize(10000)\r\n        .recordStats()\r\n        .removalListener((key, value, removalCause) -&gt; {\r\n          // TODO: log\r\n        });\r\n  }\r\n\r\n  @Bean\r\n  public CacheManager cacheManager(Caffeine&lt;Object, Object&gt; caffeine) {\r\n    CaffeineCacheManager caffeineCacheManager = new CaffeineCacheManager();\r\n    caffeineCacheManager.setCaffeine(caffeine);\r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n    list.add(&quot;AsyncTest.getStr&quot;);\r\n    list.add(&quot;AsyncTest.getStr2&quot;);\r\n    list.add(&quot;AsyncTest.getStr3&quot;);\r\n    list.add(&quot;AsyncTest.getStr4&quot;);\r\n    list.add(&quot;AsyncTest.getStr5&quot;);\r\n    caffeineCacheManager.setCacheNames(list);\r\n    return caffeineCacheManager;\r\n  }\r\n}\r\n```\r\n\r\nI also have test methods with `Cacheable` annotation like this:\r\n```java\r\n  @Cacheable(&quot;AsyncTest.getStr&quot;)\r\n  public String getStr(int i) {\r\n    return &quot;abc&quot;;\r\n  }\r\n```\r\nand finally I have a test controller which populates cache:\r\n```java\r\n    for (int i = 0; i &lt; 1000; i++) {\r\n      asyncTest.getStr(i);\r\n    }\r\n```\r\n\r\nHowever, when I check Spring actuator metrics I only see one cache-related metric: size\r\n```\r\n        &quot;myapp.cache.size&quot;: 250.0,\r\n        &quot;myapp.cache.size.tags&quot;: &quot;{name=AsyncTest.getStr, cache=AsyncTest.getStr, cacheManager=cacheManager}&quot;,\r\n```\r\nHowever, why don&#39;t I see other metrics like `cache.gets`, `cache.puts` etc. as should be [provided][1] by Micrometer?\r\n\r\n\r\n  [1]: https://github.com/micrometer-metrics/micrometer/blob/main/micrometer-core/src/main/java/io/micrometer/core/instrument/binder/cache/CaffeineCacheMetrics.java","title":"Caffeine cache metrics only report cache size but not hit/miss ratio with micrometer","body":"<p>I'm using Caffeine cache for Java Spring Boot <code>com.github.ben-manes.caffeine:caffeine:3.1.1</code>. This is my cache configuration class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.github.benmanes.caffeine.cache.Caffeine;\nimport org.springframework.cache.CacheManager;\nimport org.springframework.cache.caffeine.CaffeineCacheManager;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n@Configuration\npublic class CacheConfig {\n  \n  @Bean\n  public Caffeine&lt;Object, Object&gt; caffeineConfig() {\n    return Caffeine.newBuilder()\n        .maximumSize(10000)\n        .recordStats()\n        .removalListener((key, value, removalCause) -&gt; {\n          // TODO: log\n        });\n  }\n\n  @Bean\n  public CacheManager cacheManager(Caffeine&lt;Object, Object&gt; caffeine) {\n    CaffeineCacheManager caffeineCacheManager = new CaffeineCacheManager();\n    caffeineCacheManager.setCaffeine(caffeine);\n\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\n    list.add(&quot;AsyncTest.getStr&quot;);\n    list.add(&quot;AsyncTest.getStr2&quot;);\n    list.add(&quot;AsyncTest.getStr3&quot;);\n    list.add(&quot;AsyncTest.getStr4&quot;);\n    list.add(&quot;AsyncTest.getStr5&quot;);\n    caffeineCacheManager.setCacheNames(list);\n    return caffeineCacheManager;\n  }\n}\n</code></pre>\n<p>I also have test methods with <code>Cacheable</code> annotation like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Cacheable(&quot;AsyncTest.getStr&quot;)\n  public String getStr(int i) {\n    return &quot;abc&quot;;\n  }\n</code></pre>\n<p>and finally I have a test controller which populates cache:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    for (int i = 0; i &lt; 1000; i++) {\n      asyncTest.getStr(i);\n    }\n</code></pre>\n<p>However, when I check Spring actuator metrics I only see one cache-related metric: size</p>\n<pre><code>        &quot;myapp.cache.size&quot;: 250.0,\n        &quot;myapp.cache.size.tags&quot;: &quot;{name=AsyncTest.getStr, cache=AsyncTest.getStr, cacheManager=cacheManager}&quot;,\n</code></pre>\n<p>However, why don't I see other metrics like <code>cache.gets</code>, <code>cache.puts</code> etc. as should be <a href=\"https://github.com/micrometer-metrics/micrometer/blob/main/micrometer-core/src/main/java/io/micrometer/core/instrument/binder/cache/CaffeineCacheMetrics.java\" rel=\"nofollow noreferrer\">provided</a> by Micrometer?</p>\n"},{"tags":["java","swing","user-interface","jpanel","awt"],"comments":[{"owner":{"account_id":7405785,"reputation":2672,"user_id":5634769,"display_name":"gpasch"},"score":0,"creation_date":1482432339,"post_id":41287642,"comment_id":69782033,"body_markdown":"&quot; small margin, which I can&#39;t get rid of &quot;: where??? maybe if you type your answer twice bold we&#39;ll be able to see it","body":"&quot; small margin, which I can&#39;t get rid of &quot;: where??? maybe if you type your answer twice bold we&#39;ll be able to see it"},{"owner":{"account_id":7695446,"reputation":598,"user_id":5830152,"accept_rate":75,"display_name":" J.Kennsy"},"score":0,"creation_date":1484489894,"post_id":41287642,"comment_id":70522477,"body_markdown":"@gpasch as u can see in the picture on right in left upper corner, there are some buttons, but they don&#39;t stick perfectly to start of pane.","body":"@gpasch as u can see in the picture on right in left upper corner, there are some buttons, but they don&#39;t stick perfectly to start of pane."}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1482427296,"creation_date":1482427296,"answer_id":41288636,"question_id":41287642,"body_markdown":"Don&#39;t use a null layout!\r\n\r\nThe point of using a layout manager is that the layout manager will determine the size of the panel. \r\n\r\nThen you just use `pack()` on the frame and all the components will be displayed at their preferred size.\r\n\r\nAlso, don&#39;t use `Button`, that is an AWT component. Swing components start with `&quot;J&quot;` so you should be using `JButton`.\r\n","title":"Gridlayout makes its own margin","body":"<p>Don't use a null layout!</p>\n\n<p>The point of using a layout manager is that the layout manager will determine the size of the panel. </p>\n\n<p>Then you just use <code>pack()</code> on the frame and all the components will be displayed at their preferred size.</p>\n\n<p>Also, don't use <code>Button</code>, that is an AWT component. Swing components start with <code>\"J\"</code> so you should be using <code>JButton</code>.</p>\n"}],"owner":{"account_id":7695446,"reputation":598,"user_id":5830152,"accept_rate":75,"display_name":" J.Kennsy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":41288636,"answer_count":1,"score":-1,"last_activity_date":1670210880,"creation_date":1482424024,"question_id":41287642,"body_markdown":"I had been making game with grid gui and I made MyPanel, which extends JPanel to display bg image, and own Buttons. The problem is, when I make gridlayout, which is larger than 12x12 then it makes its own margin:[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/czzkj.png\r\n\r\nImage on left is &lt;=13 case and buttons fit perfectly, when in image on right, case &gt;13 there is &lt;b&gt; small margin, which I can&#39;t get rid of &lt;/b&gt;. Code:\r\n\r\n    private void initialize() {\r\n    \t\tframe = new JFrame();\r\n    \t\tframe.setBounds(100, 100, 450, 300);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tframe.getContentPane().setLayout(null);\r\n    \t\t\r\n    \t\tMyPanel panel = new MyPanel();\r\n    \t\tpanel.setBounds(10, 10, 360, 360);\r\n    \t\tframe.getContentPane().add(panel);\r\n    \t\tpanel.setLayout(new GridLayout(size,size));\r\n    \t\t\r\n    \t\tbuttons = new Button[size][];\r\n    \t\tfor(int i=0;i&lt;size;i++)\r\n    \t\t{\r\n    \r\n    \t\t\tbuttons[i] = new Button[size];\r\n    \t\t\tfor(int j=0;j&lt;size;j++)\r\n    \t\t\t{\r\n    \t\t\t\tbuttons[i][j] = new Button();\r\n    \t\t\t\tpanel.add(buttons[i][j]);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}","title":"Gridlayout makes its own margin","body":"<p>I had been making game with grid gui and I made MyPanel, which extends JPanel to display bg image, and own Buttons. The problem is, when I make gridlayout, which is larger than 12x12 then it makes its own margin:<a href=\"https://i.stack.imgur.com/czzkj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/czzkj.png\" alt=\"enter image description here\" /></a></p>\n<p>Image on left is &lt;=13 case and buttons fit perfectly, when in image on right, case &gt;13 there is <b> small margin, which I can't get rid of </b>. Code:</p>\n<pre><code>private void initialize() {\n        frame = new JFrame();\n        frame.setBounds(100, 100, 450, 300);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.getContentPane().setLayout(null);\n        \n        MyPanel panel = new MyPanel();\n        panel.setBounds(10, 10, 360, 360);\n        frame.getContentPane().add(panel);\n        panel.setLayout(new GridLayout(size,size));\n        \n        buttons = new Button[size][];\n        for(int i=0;i&lt;size;i++)\n        {\n\n            buttons[i] = new Button[size];\n            for(int j=0;j&lt;size;j++)\n            {\n                buttons[i][j] = new Button();\n                panel.add(buttons[i][j]);\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring","reflection","component-scan"],"answers":[{"tags":[],"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1607815432,"creation_date":1607815432,"answer_id":65270893,"question_id":65270703,"body_markdown":"A bit of both. They use ASM for reading the class files, but use their own [`MetadataReader`](https://github.com/spring-projects/spring-framework/blob/master/spring-core/src/main/java/org/springframework/core/type/classreading/MetadataReader.java) so they can offer a more flexible inheritance model for annotations than Java offers out of the box (in plain Java, annotations are only inherited from a super class. In Spring, they are also inherited from super interfaces and [meta annotations](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-meta-annotations)).","title":"Does Spring implement its own packages scan","body":"<p>A bit of both. They use ASM for reading the class files, but use their own <a href=\"https://github.com/spring-projects/spring-framework/blob/master/spring-core/src/main/java/org/springframework/core/type/classreading/MetadataReader.java\" rel=\"nofollow noreferrer\"><code>MetadataReader</code></a> so they can offer a more flexible inheritance model for annotations than Java offers out of the box (in plain Java, annotations are only inherited from a super class. In Spring, they are also inherited from super interfaces and <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-meta-annotations\" rel=\"nofollow noreferrer\">meta annotations</a>).</p>\n"}],"owner":{"account_id":16129101,"reputation":189,"user_id":11643193,"display_name":"Jesus Hernandez Barrios"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":65270893,"answer_count":1,"score":1,"last_activity_date":1670210839,"creation_date":1607813843,"question_id":65270703,"body_markdown":"Does Spring implements its own way to scan the class in packages or does it use a external library like &#39;reflection&#39;:\r\n\r\nhttps://github.com/ronmamo/reflections","title":"Does Spring implement its own packages scan","body":"<p>Does Spring implements its own way to scan the class in packages or does it use a external library like 'reflection':</p>\n<p><a href=\"https://github.com/ronmamo/reflections\" rel=\"nofollow noreferrer\">https://github.com/ronmamo/reflections</a></p>\n"},{"tags":["java","dynamic-programming","puzzle"],"comments":[{"owner":{"account_id":1766006,"reputation":1705,"user_id":1611881,"display_name":"Alexey Odintsov"},"score":0,"creation_date":1408521563,"post_id":25399477,"comment_id":39616174,"body_markdown":"Maybe [this](http://doc.gold.ac.uk/~mas01sd/classes/jpf_release/test/gov/nasa/jpf/mc/Crossing.java) will help you.","body":"Maybe <a href=\"http://doc.gold.ac.uk/~mas01sd/classes/jpf_release/test/gov/nasa/jpf/mc/Crossing.java\" rel=\"nofollow noreferrer\">this</a> will help you."},{"owner":{"account_id":4497521,"reputation":2248,"user_id":3656963,"display_name":"Revive"},"score":0,"creation_date":1408521604,"post_id":25399477,"comment_id":39616198,"body_markdown":"Or this http://stackoverflow.com/questions/1144207/bridge-crossing-puzzle","body":"Or this <a href=\"http://stackoverflow.com/questions/1144207/bridge-crossing-puzzle\" title=\"bridge crossing puzzle\">stackoverflow.com/questions/1144207/bridge-crossing-puzzle</a>"},{"owner":{"account_id":4207162,"reputation":31,"user_id":3445800,"display_name":"Lesso"},"score":0,"creation_date":1408522862,"post_id":25399477,"comment_id":39616839,"body_markdown":"Thank you for the replies, already checked out the links, but I don&#39;t yet see what the DP approach is. What are the subproblems, stages and states...","body":"Thank you for the replies, already checked out the links, but I don&#39;t yet see what the DP approach is. What are the subproblems, stages and states..."},{"owner":{"account_id":1352510,"reputation":6888,"user_id":1291716,"accept_rate":93,"display_name":"Sayakiss"},"score":0,"creation_date":1409647902,"post_id":25399477,"comment_id":40023995,"body_markdown":"We need state `dp[2^4][2]`. `dp[i][j]` means the minimum time to achieve the state that every person&#39;s position(this side or that side) and the position of torch denoted by `i` and `j` from initial stage. For example, dp[7][0] means the minimum time to achieve the (7 is 0111(2), that means, `ABC` on that side and `0` means the torch is on this side) stage from initial stage. By this, we calculate `dp[15][1]`(`ABCD` on that side and torch is on that side, too.) then we get the answer.","body":"We need state <code>dp[2^4][2]</code>. <code>dp[i][j]</code> means the minimum time to achieve the state that every person&#39;s position(this side or that side) and the position of torch denoted by <code>i</code> and <code>j</code> from initial stage. For example, dp[7][0] means the minimum time to achieve the (7 is 0111(2), that means, <code>ABC</code> on that side and <code>0</code> means the torch is on this side) stage from initial stage. By this, we calculate <code>dp[15][1]</code>(<code>ABCD</code> on that side and torch is on that side, too.) then we get the answer."}],"answers":[{"tags":[],"owner":{"account_id":27147166,"reputation":1,"user_id":20687175,"display_name":"Faizal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670209042,"creation_date":1670209042,"answer_id":74682912,"question_id":25399477,"body_markdown":"I have written a code in python for the torch and bridge puzzle, you can use the same logic in other languages.\r\n\r\n    src=[1,2,5,8]\r\n    \r\n    src=sorted(src)\r\n    \r\n    \r\n    def minimum_time(src):\r\n        \r\n        count=0\r\n        if len(src)==3:\r\n            count=sum(src)\r\n        else:\r\n            count=src[1]*(len(src)-2)+src[0]*(len(src)//3)\r\n            for i in range(len(src)-1,-1,-2):\r\n                #print(src[i])\r\n                count+=src[i]\r\n        return(count)\r\n    \r\n    print(minimum_time(src))","title":"Solving bridge and torch puzzle with dynamic programming","body":"<p>I have written a code in python for the torch and bridge puzzle, you can use the same logic in other languages.</p>\n<pre><code>src=[1,2,5,8]\n\nsrc=sorted(src)\n\n\ndef minimum_time(src):\n    \n    count=0\n    if len(src)==3:\n        count=sum(src)\n    else:\n        count=src[1]*(len(src)-2)+src[0]*(len(src)//3)\n        for i in range(len(src)-1,-1,-2):\n            #print(src[i])\n            count+=src[i]\n    return(count)\n\nprint(minimum_time(src))\n</code></pre>\n"}],"owner":{"account_id":4207162,"reputation":31,"user_id":3445800,"display_name":"Lesso"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3554,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1670209042,"creation_date":1408521212,"question_id":25399477,"body_markdown":"I&#39;m trying to solve a bridge and torch like problem with dynamic programming.\r\nMore about this problem can be found on wikipedia (http://en.wikipedia.org/wiki/Bridge_and_torch_problem). The story goes like this:\r\n\r\n&gt; Four people come to a river in the night. There is a narrow bridge, but it can only hold two people at a time. They have one torch and, because it&#39;s night, the torch has to be used when crossing the bridge. Person A can cross the bridge in one minute, B in two minutes, C in five minutes, and D in eight minutes. When two people cross the bridge together, they must move at the slower person&#39;s pace. The question is, can they all get across the bridge in 15 minutes or less?\r\n\r\nNow I&#39;ve managed to solve the problem using a graph, but I don&#39;t see how I can solve this type of problem using dynamic programming. How do you split up the problem in to subproblems? And how do the solutions of the subproblems lead to the optimal solution of the whole problem? What are the stages and states?\r\n\r\nDoes somebody know how to solve this using DP? And maybe tell me how to solve this puzzle with Java?\r\n","title":"Solving bridge and torch puzzle with dynamic programming","body":"<p>I'm trying to solve a bridge and torch like problem with dynamic programming.\nMore about this problem can be found on wikipedia (<a href=\"http://en.wikipedia.org/wiki/Bridge_and_torch_problem\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Bridge_and_torch_problem</a>). The story goes like this:</p>\n\n<blockquote>\n  <p>Four people come to a river in the night. There is a narrow bridge, but it can only hold two people at a time. They have one torch and, because it's night, the torch has to be used when crossing the bridge. Person A can cross the bridge in one minute, B in two minutes, C in five minutes, and D in eight minutes. When two people cross the bridge together, they must move at the slower person's pace. The question is, can they all get across the bridge in 15 minutes or less?</p>\n</blockquote>\n\n<p>Now I've managed to solve the problem using a graph, but I don't see how I can solve this type of problem using dynamic programming. How do you split up the problem in to subproblems? And how do the solutions of the subproblems lead to the optimal solution of the whole problem? What are the stages and states?</p>\n\n<p>Does somebody know how to solve this using DP? And maybe tell me how to solve this puzzle with Java?</p>\n"},{"tags":["java","amazon-web-services","jms","amazon-sqs"],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670208636,"creation_date":1670208636,"answer_id":74682875,"question_id":74675604,"body_markdown":"If you&#39;re going to use the simplest JMS pattern then you can use 1 connection, 1 session, and 2 consumers. \r\n\r\nHowever, if you&#39;re going to use JMS&#39;s [`MessageListener`][1] and you want the best performance you&#39;ll want to use 1 connection, 2 sessions, 1 consumer on each session, and 1 `MessageListener` on each consumer. This is because JMS sessions are not thread-safe and each `MessageListener` will be invoked asynchronously so if you want the listeners to be able to receive messages concurrently you&#39;ll want a session for each.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/jms/MessageListener.html","title":"AWS SQSConnection multiple queues","body":"<p>If you're going to use the simplest JMS pattern then you can use 1 connection, 1 session, and 2 consumers.</p>\n<p>However, if you're going to use JMS's <a href=\"https://docs.oracle.com/javaee/7/api/javax/jms/MessageListener.html\" rel=\"nofollow noreferrer\"><code>MessageListener</code></a> and you want the best performance you'll want to use 1 connection, 2 sessions, 1 consumer on each session, and 1 <code>MessageListener</code> on each consumer. This is because JMS sessions are not thread-safe and each <code>MessageListener</code> will be invoked asynchronously so if you want the listeners to be able to receive messages concurrently you'll want a session for each.</p>\n"}],"owner":{"account_id":2546573,"reputation":1284,"user_id":2211267,"accept_rate":58,"display_name":"Whizzil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74682875,"answer_count":1,"score":0,"last_activity_date":1670208636,"creation_date":1670156980,"question_id":74675604,"body_markdown":"I have a use-case where my application needs to subscribe to multiple SQS queues and listen to the events. I&#39;m following the official [AWS Docs][1] to use SQS.\r\n\r\nHowever, the example in the docs only cover the case of subscribing to **one** queue. There the flow is basically the following.\r\n\r\n```\r\n// 1) create the connection\r\nval connection = factory.createConnection()\r\n\r\n// 2) create the session from the connection\r\nval session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE)\r\n\r\n// 3) create the queue object from the session\r\nval queue = session.createQueue(&quot;my-q-1&quot;)\r\n\r\n// 4) create a consumer for that queue\r\nval consumer = session.createConsumer(queue)\r\n\r\n// 5) start the connection\r\nconnection.start()\r\n```\r\n\r\nThis is simple enough. However, what if I want to subscribe to **two** queues? \r\n1. Do I need 2 connections? \r\n2. Or do I need 1 connection but 2 sessions? \r\n3. Or do I need 1 connection, 1 session, but 2 consumers on the same session?\r\n\r\nAny experience around this would really help. Maybe JMS is not the best choice either.\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/getting-started.html","title":"AWS SQSConnection multiple queues","body":"<p>I have a use-case where my application needs to subscribe to multiple SQS queues and listen to the events. I'm following the official <a href=\"https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/getting-started.html\" rel=\"nofollow noreferrer\">AWS Docs</a> to use SQS.</p>\n<p>However, the example in the docs only cover the case of subscribing to <strong>one</strong> queue. There the flow is basically the following.</p>\n<pre><code>// 1) create the connection\nval connection = factory.createConnection()\n\n// 2) create the session from the connection\nval session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE)\n\n// 3) create the queue object from the session\nval queue = session.createQueue(&quot;my-q-1&quot;)\n\n// 4) create a consumer for that queue\nval consumer = session.createConsumer(queue)\n\n// 5) start the connection\nconnection.start()\n</code></pre>\n<p>This is simple enough. However, what if I want to subscribe to <strong>two</strong> queues?</p>\n<ol>\n<li>Do I need 2 connections?</li>\n<li>Or do I need 1 connection but 2 sessions?</li>\n<li>Or do I need 1 connection, 1 session, but 2 consumers on the same session?</li>\n</ol>\n<p>Any experience around this would really help. Maybe JMS is not the best choice either.</p>\n"},{"tags":["java","android","translate","google-mlkit"],"answers":[{"tags":[],"owner":{"account_id":26616776,"reputation":1,"user_id":20236049,"display_name":"Penny Li"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670208403,"creation_date":1670208403,"answer_id":74682860,"question_id":74572306,"body_markdown":"You can use below codes to check whether the model is downloaded or not:\r\n```\r\nDownloadConditions conditions = new DownloadConditions.Builder()\r\n    .requireWifi()\r\n    .build();\r\nenglishGermanTranslator.downloadModelIfNeeded(conditions)\r\n    .addOnSuccessListener(\r\n        new OnSuccessListener() {\r\n          @Override\r\n          public void onSuccess(Void v) {\r\n            // Model downloaded successfully. Okay to start translating.\r\n            // (Set a flag, unhide the translation UI, etc.)\r\n          }\r\n        })\r\n    .addOnFailureListener(\r\n        new OnFailureListener() {\r\n          @Override\r\n          public void onFailure(@NonNull Exception e) {\r\n            // Model couldnt be downloaded or other internal error.\r\n            // ...\r\n          }\r\n        });\r\n```\r\nMore information here: https://developers.google.com/ml-kit/language/translation/android","title":"How to get the list of downloaded languages by the mlkit translation android java","body":"<p>You can use below codes to check whether the model is downloaded or not:</p>\n<pre><code>DownloadConditions conditions = new DownloadConditions.Builder()\n    .requireWifi()\n    .build();\nenglishGermanTranslator.downloadModelIfNeeded(conditions)\n    .addOnSuccessListener(\n        new OnSuccessListener() {\n          @Override\n          public void onSuccess(Void v) {\n            // Model downloaded successfully. Okay to start translating.\n            // (Set a flag, unhide the translation UI, etc.)\n          }\n        })\n    .addOnFailureListener(\n        new OnFailureListener() {\n          @Override\n          public void onFailure(@NonNull Exception e) {\n            // Model couldnt be downloaded or other internal error.\n            // ...\n          }\n        });\n</code></pre>\n<p>More information here: <a href=\"https://developers.google.com/ml-kit/language/translation/android\" rel=\"nofollow noreferrer\">https://developers.google.com/ml-kit/language/translation/android</a></p>\n"}],"owner":{"account_id":27044541,"reputation":13,"user_id":20598914,"display_name":"IT Student"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1670208403,"creation_date":1669376517,"question_id":74572306,"body_markdown":"[Image](https://i.stack.imgur.com/ILeTP.jpg)\r\n\r\nI want to check which languages are downloaded yet so that I can show or hide this image icon. (**Mlkit translate**) \r\n\r\nI want the source code of how to do this.","title":"How to get the list of downloaded languages by the mlkit translation android java","body":"<p><a href=\"https://i.stack.imgur.com/ILeTP.jpg\" rel=\"nofollow noreferrer\">Image</a></p>\n<p>I want to check which languages are downloaded yet so that I can show or hide this image icon. (<strong>Mlkit translate</strong>)</p>\n<p>I want the source code of how to do this.</p>\n"},{"tags":["java","for-loop","nested-for-loop"],"comments":[{"owner":{"account_id":26896439,"reputation":151,"user_id":20474278,"display_name":"m3ow"},"score":1,"creation_date":1670206964,"post_id":74682661,"comment_id":131814944,"body_markdown":"Can you give a sample input, output of your current program, and your expected output?","body":"Can you give a sample input, output of your current program, and your expected output?"}],"answers":[{"tags":[],"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670208398,"creation_date":1670207974,"answer_id":74682808,"question_id":74682661,"body_markdown":"Your code is currently in the form:\r\n\r\n    for (int i = 0; i &lt; num.length; i++) {\r\n        if (num[i] == 0) {\r\n            i++;\r\n        }\r\n        // do something for non-zeros\r\n    }\r\n\r\nAs you mention, that will clearly only skip 1 zero and then perform the &#39;do something&#39; on the next element whether or not it is zero. That isn&#39;t what you want. \r\n\r\nA simple solution would be:\r\n\r\n    for (int i = 0; i &lt; num.length; i++) {\r\n        if (num[i] != 0) {\r\n            // do something for non-zeros\r\n        }\r\n    }\r\n\r\nNote: your model is going to cause a lot of issues if the complexity of your code increases. For example you are overloading your `num` array to do multiple things. I recommend you refactor to use enums for suits and face value and classes for cards and decks. \r\n","title":"For loops that skips 0&#39;s in an array","body":"<p>Your code is currently in the form:</p>\n<pre><code>for (int i = 0; i &lt; num.length; i++) {\n    if (num[i] == 0) {\n        i++;\n    }\n    // do something for non-zeros\n}\n</code></pre>\n<p>As you mention, that will clearly only skip 1 zero and then perform the 'do something' on the next element whether or not it is zero. That isn't what you want.</p>\n<p>A simple solution would be:</p>\n<pre><code>for (int i = 0; i &lt; num.length; i++) {\n    if (num[i] != 0) {\n        // do something for non-zeros\n    }\n}\n</code></pre>\n<p>Note: your model is going to cause a lot of issues if the complexity of your code increases. For example you are overloading your <code>num</code> array to do multiple things. I recommend you refactor to use enums for suits and face value and classes for cards and decks.</p>\n"}],"owner":{"account_id":23143862,"reputation":1,"user_id":17246892,"display_name":"michelle"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670208398,"creation_date":1670206370,"question_id":74682661,"body_markdown":"My code is quite long so I&#39;ll explain it.\r\nI have an array (int [] num = {2,5,17,52,18,47,37,29,22};) that I&#39;m looping through using a for loop I have another loop nested in the first for loop so that when i is at position 0 for example the other loop will loop through the rest of the array to see if a certain condition is met, if that condition is met the integer at the i will become zero. I have programmed my first for loop to skip over the zero and move on to the next value in the array however I am having some issues because I found that if there are two zeros (one after the other in a for loop) \r\nEx. (num = {2,5,***0,0***,18,47,37,29,22}; then the for loop will only skip over the first zero and move onto the next integer which is another zero, what i would like the code to do is skip over all zeros. How might I go about that?\r\n\r\n\r\nHere is my code, the issue is with the num[i] = 0; code\r\n\r\n```\r\nString [] deck = {&quot;A&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&quot;6&quot;,&quot;7&quot;,&quot;8&quot;,&quot;9&quot;,&quot;T&quot;,&quot;J&quot;,&quot;Q&quot;,&quot;K&quot;};\r\n\r\n\t\tint [] num = {2,5,17,52,18,47,37,29,22};\r\n\r\n\t\tString suits = &quot;&quot;;\r\n\t\tint fcard;\r\n\t\tString card = &quot;&quot;;\r\n\t\tint fcard2;\r\n\t\tString card2 = &quot;&quot;;\r\n\r\n\r\n\t\tfor(int i = 0; i&lt; num.length;i++) {\r\n\r\n\t\t\tif (num[i] == 0) {\r\n\t\t\t\ti++;\r\n\t\t\t}\r\n\r\n\t\t\tif (num[i] &lt;=13) {\r\n\t\t\t\tsuits = &quot;Clubs&quot;;\r\n\t\t\t\tfcard = num[i] - 1;\r\n\t\t\t\tcard = deck[fcard];\r\n\t\t\t}\r\n\t\t\telse if (num[i] &gt;=14 &amp;&amp; num[i] &lt;=26) {\r\n\t\t\t\tsuits = &quot;Diamonds&quot;;\r\n\t\t\t\tfcard = num[i] - 14;\r\n\t\t\t\tcard = deck[fcard];\r\n\t\t\t}\r\n\t\t\telse if (num[i] &gt;=27 &amp;&amp; num[i] &lt;=39) {\r\n\t\t\t\tsuits = &quot;Hearts&quot;;\r\n\t\t\t\tfcard = num[i] - 27;\r\n\t\t\t\tcard = deck[fcard];\r\n\t\t\t}\r\n\t\t\telse if (num[i] &gt;=40 &amp;&amp; num[i] &lt;=52) {\r\n\t\t\t\tsuits = &quot;Spades&quot;;\r\n\t\t\t\tfcard = num[i] - 40;\r\n\t\t\t\tcard = deck[fcard];\r\n\t\t\t}\r\n\r\n\t\t\tSystem.out.print(suits+&quot;:&quot;+&quot; &quot;+card+&quot; &quot;);\r\n\r\n\t\t\tfor (int j = i + 1 ; j &lt; num.length;j++) {\r\n\r\n\t\t\t\t//if (j == num.length-1) {\r\n\t\t\t\t//break;\r\n\t\t\t\t//}\r\n\r\n\t\t\t\tif (num[j] == 0 &amp;&amp; j!=num.length-1) {\r\n\t\t\t\t\tj++;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (num[j]&lt;=13 &amp;&amp; suits.equals(&quot;Clubs&quot;)) {\r\n\t\t\t\t\tfcard2 = num[j] - 1;\r\n\t\t\t\t\tcard2 = deck[fcard2];\r\n\t\t\t\t\tSystem.out.print(card2+&quot; &quot;);\r\n\t\t\t\t\tnum[j]=0;\r\n\t\t\t\t}\r\n\t\t\t\telse if ((num[j]&gt;=14 &amp;&amp; num[j] &lt;=26) &amp;&amp; suits.equals(&quot;Diamonds&quot;)) {\r\n\t\t\t\t\tfcard2 = num[j] - 14;\r\n\t\t\t\t\tcard2 = deck[fcard2];\r\n\t\t\t\t\tSystem.out.print(card2+&quot; &quot;);\r\n\t\t\t\t\tnum[j]=0;\r\n\t\t\t\t}\r\n\t\t\t\telse if ((num[j] &gt;=27 &amp;&amp; num[j] &lt;=39) &amp;&amp; suits.equals(&quot;Hearts&quot;)) {\r\n\t\t\t\t\tfcard2 = num[j] - 27;\r\n\t\t\t\t\tcard2 = deck[fcard2];\r\n\t\t\t\t\tSystem.out.print(card2+&quot; &quot;);\r\n\t\t\t\t\tnum[j]=0;\r\n\t\t\t\t}\r\n\t\t\t\telse if ((num[j] &gt;=40 &amp;&amp; num[j] &lt;=52) &amp;&amp; suits.equals(&quot;Spades&quot;)) {\r\n\t\t\t\t\tfcard2 = num[j] - 40;\r\n\t\t\t\t\tcard2 = deck[fcard2];\r\n\t\t\t\t\tSystem.out.print(card2+&quot; &quot;);\r\n\t\t\t\t\tnum[j]=0;\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n```\r\n","title":"For loops that skips 0&#39;s in an array","body":"<p>My code is quite long so I'll explain it.\nI have an array (int [] num = {2,5,17,52,18,47,37,29,22};) that I'm looping through using a for loop I have another loop nested in the first for loop so that when i is at position 0 for example the other loop will loop through the rest of the array to see if a certain condition is met, if that condition is met the integer at the i will become zero. I have programmed my first for loop to skip over the zero and move on to the next value in the array however I am having some issues because I found that if there are two zeros (one after the other in a for loop)\nEx. (num = {2,5,<em><strong>0,0</strong></em>,18,47,37,29,22}; then the for loop will only skip over the first zero and move onto the next integer which is another zero, what i would like the code to do is skip over all zeros. How might I go about that?</p>\n<p>Here is my code, the issue is with the num[i] = 0; code</p>\n<pre><code>String [] deck = {&quot;A&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&quot;6&quot;,&quot;7&quot;,&quot;8&quot;,&quot;9&quot;,&quot;T&quot;,&quot;J&quot;,&quot;Q&quot;,&quot;K&quot;};\n\n        int [] num = {2,5,17,52,18,47,37,29,22};\n\n        String suits = &quot;&quot;;\n        int fcard;\n        String card = &quot;&quot;;\n        int fcard2;\n        String card2 = &quot;&quot;;\n\n\n        for(int i = 0; i&lt; num.length;i++) {\n\n            if (num[i] == 0) {\n                i++;\n            }\n\n            if (num[i] &lt;=13) {\n                suits = &quot;Clubs&quot;;\n                fcard = num[i] - 1;\n                card = deck[fcard];\n            }\n            else if (num[i] &gt;=14 &amp;&amp; num[i] &lt;=26) {\n                suits = &quot;Diamonds&quot;;\n                fcard = num[i] - 14;\n                card = deck[fcard];\n            }\n            else if (num[i] &gt;=27 &amp;&amp; num[i] &lt;=39) {\n                suits = &quot;Hearts&quot;;\n                fcard = num[i] - 27;\n                card = deck[fcard];\n            }\n            else if (num[i] &gt;=40 &amp;&amp; num[i] &lt;=52) {\n                suits = &quot;Spades&quot;;\n                fcard = num[i] - 40;\n                card = deck[fcard];\n            }\n\n            System.out.print(suits+&quot;:&quot;+&quot; &quot;+card+&quot; &quot;);\n\n            for (int j = i + 1 ; j &lt; num.length;j++) {\n\n                //if (j == num.length-1) {\n                //break;\n                //}\n\n                if (num[j] == 0 &amp;&amp; j!=num.length-1) {\n                    j++;\n                }\n\n                if (num[j]&lt;=13 &amp;&amp; suits.equals(&quot;Clubs&quot;)) {\n                    fcard2 = num[j] - 1;\n                    card2 = deck[fcard2];\n                    System.out.print(card2+&quot; &quot;);\n                    num[j]=0;\n                }\n                else if ((num[j]&gt;=14 &amp;&amp; num[j] &lt;=26) &amp;&amp; suits.equals(&quot;Diamonds&quot;)) {\n                    fcard2 = num[j] - 14;\n                    card2 = deck[fcard2];\n                    System.out.print(card2+&quot; &quot;);\n                    num[j]=0;\n                }\n                else if ((num[j] &gt;=27 &amp;&amp; num[j] &lt;=39) &amp;&amp; suits.equals(&quot;Hearts&quot;)) {\n                    fcard2 = num[j] - 27;\n                    card2 = deck[fcard2];\n                    System.out.print(card2+&quot; &quot;);\n                    num[j]=0;\n                }\n                else if ((num[j] &gt;=40 &amp;&amp; num[j] &lt;=52) &amp;&amp; suits.equals(&quot;Spades&quot;)) {\n                    fcard2 = num[j] - 40;\n                    card2 = deck[fcard2];\n                    System.out.print(card2+&quot; &quot;);\n                    num[j]=0;\n                }\n\n            }\n\n        }\n</code></pre>\n"},{"tags":["java","methods","reflection","annotations","dynamically-generated"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1669958914,"post_id":74651229,"comment_id":131765792,"body_markdown":"What are you actually trying to do? Who will call these methods, as they didn&#39;t exist when the code was compiled?","body":"What are you actually trying to do? Who will call these methods, as they didn&#39;t exist when the code was compiled?"},{"owner":{"account_id":1662847,"reputation":125,"user_id":1530793,"accept_rate":62,"display_name":"summary"},"score":0,"creation_date":1669959695,"post_id":74651229,"comment_id":131765908,"body_markdown":"I want to keep single method definition but its annotation values should be read from a properties file . currently  as and when a new  set of properties are added  , i need to add new method in class.  I am trying achieve this  in a simpler  code  , hence given   this example . Actual code  has more number of fields in custom annotation .","body":"I want to keep single method definition but its annotation values should be read from a properties file . currently  as and when a new  set of properties are added  , i need to add new method in class.  I am trying achieve this  in a simpler  code  , hence given   this example . Actual code  has more number of fields in custom annotation ."},{"owner":{"account_id":1662847,"reputation":125,"user_id":1530793,"accept_rate":62,"display_name":"summary"},"score":0,"creation_date":1669970108,"post_id":74651229,"comment_id":131768223,"body_markdown":"Could it be possible to implement this using @Repeatable ?","body":"Could it be possible to implement this using @Repeatable ?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1669976670,"post_id":74651229,"comment_id":131770286,"body_markdown":"What&#39;s @Repeatable?","body":"What&#39;s @Repeatable?"},{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":0,"creation_date":1670208570,"post_id":74651229,"comment_id":131815179,"body_markdown":"Java is not a great choice if you are looking to add methods at runtime. The reflection API is designed to support a few special cases. You would be advised to either build a model of your use case in code or use a different language.","body":"Java is not a great choice if you are looking to add methods at runtime. The reflection API is designed to support a few special cases. You would be advised to either build a model of your use case in code or use a different language."}],"answers":[{"tags":[],"owner":{"account_id":1662847,"reputation":125,"user_id":1530793,"accept_rate":62,"display_name":"summary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670207646,"creation_date":1670207646,"answer_id":74682775,"question_id":74651229,"body_markdown":"I realized that adding method dynamically to a class is against programming standards. My way of dealing the issue is wrong . Instead  need to create beans dynamically.","title":"add method dynamically on start of application","body":"<p>I realized that adding method dynamically to a class is against programming standards. My way of dealing the issue is wrong . Instead  need to create beans dynamically.</p>\n"}],"owner":{"account_id":1662847,"reputation":125,"user_id":1530793,"accept_rate":62,"display_name":"summary"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1670207646,"creation_date":1669958622,"question_id":74651229,"body_markdown":"I have a class with  a method having custom annotation \r\n\r\n```@Retention(RetentionPolicy.RUNTIME)\r\n@Target(ElementType.METHOD)\r\npublic @interface MethodXY {\r\n    public int x();\r\n    public int y();\r\n}\r\n\r\npublic class AnnotationTest {\r\n    @MethodXY(x=5, y=5)\r\n    public void myMethodA(){ ... }\r\n\r\n    @MethodXY(x=3, y=2)\r\n    public void myMethodB(){ ... }\r\n}\r\n\r\n```\r\nI want to add N number of methods in this class at run time once when the class loads.\r\nThe values of X  &amp; Y will be read from an array of size N ( any collection / properties file ) \r\n\r\nI am able to  change values of annotation  at run time \r\n``` \r\nMethodXY anno2 = (MethodXY) setAttrValue(anno, MethodXY.class, &quot;x&quot;, &quot;400&quot;);\r\nSystem.out.println(String.format(&quot;New values: %s, %s&quot;,  anno2.X(), anno2.y()));\r\n```\r\n\r\nbut unable to pass new annotation value to method .\r\n\r\nHow could it be done in java .","title":"add method dynamically on start of application","body":"<p>I have a class with  a method having custom annotation</p>\n<pre><code>@Target(ElementType.METHOD)\npublic @interface MethodXY {\n    public int x();\n    public int y();\n}\n\npublic class AnnotationTest {\n    @MethodXY(x=5, y=5)\n    public void myMethodA(){ ... }\n\n    @MethodXY(x=3, y=2)\n    public void myMethodB(){ ... }\n}\n\n</code></pre>\n<p>I want to add N number of methods in this class at run time once when the class loads.\nThe values of X  &amp; Y will be read from an array of size N ( any collection / properties file )</p>\n<p>I am able to  change values of annotation  at run time</p>\n<pre><code>MethodXY anno2 = (MethodXY) setAttrValue(anno, MethodXY.class, &quot;x&quot;, &quot;400&quot;);\nSystem.out.println(String.format(&quot;New values: %s, %s&quot;,  anno2.X(), anno2.y()));\n</code></pre>\n<p>but unable to pass new annotation value to method .</p>\n<p>How could it be done in java .</p>\n"},{"tags":["java","performance","hibernate","jpa","orm"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1670022718,"post_id":74662381,"comment_id":131784032,"body_markdown":"Is this of use? https://docs.jboss.org/hibernate/orm/6.0/userguide/html_single/Hibernate_User_Guide.html#hql-distinct - I know it says it applies to &quot;join fetch&quot; but might there be something going on under the covers?","body":"Is this of use? <a href=\"https://docs.jboss.org/hibernate/orm/6.0/userguide/html_single/Hibernate_User_Guide.html#hql-distinct\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/orm/6.0/userguide/html_single/&hellip;</a> - I know it says it applies to &quot;join fetch&quot; but might there be something going on under the covers?"},{"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"score":0,"creation_date":1670023537,"post_id":74662381,"comment_id":131784172,"body_markdown":"@JimGarrison I found that, but I have no joins to adjust the fetch type on. But youd assume that if what Im seeing is right, others would have the same problem. But they dont, so I must have something wrong","body":"@JimGarrison I found that, but I have no joins to adjust the fetch type on. But youd assume that if what Im seeing is right, others would have the same problem. But they dont, so I must have something wrong"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1670023608,"post_id":74662381,"comment_id":131784191,"body_markdown":"Whatever is wrong is not in the code you&#39;ve shown us... maybe in a config somewhere?  Something obviously thinks it needs to do duplicate elimination.","body":"Whatever is wrong is not in the code you&#39;ve shown us... maybe in a config somewhere?  Something obviously thinks it needs to do duplicate elimination."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1670199279,"post_id":74662381,"comment_id":131813976,"body_markdown":"@Jakg I do believe your issue will be addressed in HBN 6.1.6: https://hibernate.atlassian.net/browse/HHH-15719","body":"@Jakg I do believe your issue will be addressed in HBN 6.1.6: <a href=\"https://hibernate.atlassian.net/browse/HHH-15719\" rel=\"nofollow noreferrer\">hibernate.atlassian.net/browse/HHH-15719</a>"},{"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"score":0,"creation_date":1670199852,"post_id":74662381,"comment_id":131814050,"body_markdown":"@AndreyB.Panfilov that sounds like it might be exactly my problem - do you know if there&#39;s any workaround? E.G. manually setting a queryhint, or some pre-release artefact I can test with?","body":"@AndreyB.Panfilov that sounds like it might be exactly my problem - do you know if there&#39;s any workaround? E.G. manually setting a queryhint, or some pre-release artefact I can test with?"},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":1,"creation_date":1670254103,"post_id":74662381,"comment_id":131827678,"body_markdown":"See https://discourse.hibernate.org/t/hibernate-v5-v6-upgrade-poor-query-performance/6981 for details.","body":"See <a href=\"https://discourse.hibernate.org/t/hibernate-v5-v6-upgrade-poor-query-performance/6981\" rel=\"nofollow noreferrer\">discourse.hibernate.org/t/&hellip;</a> for details."}],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670206659,"creation_date":1670206659,"answer_id":74682684,"question_id":74662381,"body_markdown":"As I mentioned in comments that is HBN issue introduced in [HHH-15133](https://hibernate.atlassian.net/browse/HHH-15133) and somehow addressed in upcoming releases:\r\n- [HHH-15719](https://hibernate.atlassian.net/browse/HHH-15719)\r\n- [HHH-15479](https://hibernate.atlassian.net/browse/HHH-15479)\r\n\r\nPossible workarounds at the current moment are:\r\n\r\n1. ask query to return stream instead of list:\r\n\r\n```java\r\ntry (Stream&lt;MyEntity&gt; stream = session.createQuery(&quot;FROM MyEntity&quot;, MyEntity.class).getResultStream()) {\r\n   return stream.collect(Collectors.toList());\r\n}\r\n```\r\n\r\n2. select tuples instead of entities (stream option seems to be more convenient):\r\n\r\n```java\r\nList&lt;Object[]&gt; tuples = session.createQuery(&quot;select e.id, e FROM MyEntity e&quot;, Object[].class).getResultList();\r\n```","title":"Hibernate v5-&gt;v6 upgrade - poor SELECT performance","body":"<p>As I mentioned in comments that is HBN issue introduced in <a href=\"https://hibernate.atlassian.net/browse/HHH-15133\" rel=\"nofollow noreferrer\">HHH-15133</a> and somehow addressed in upcoming releases:</p>\n<ul>\n<li><a href=\"https://hibernate.atlassian.net/browse/HHH-15719\" rel=\"nofollow noreferrer\">HHH-15719</a></li>\n<li><a href=\"https://hibernate.atlassian.net/browse/HHH-15479\" rel=\"nofollow noreferrer\">HHH-15479</a></li>\n</ul>\n<p>Possible workarounds at the current moment are:</p>\n<ol>\n<li>ask query to return stream instead of list:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>try (Stream&lt;MyEntity&gt; stream = session.createQuery(&quot;FROM MyEntity&quot;, MyEntity.class).getResultStream()) {\n   return stream.collect(Collectors.toList());\n}\n</code></pre>\n<ol start=\"2\">\n<li>select tuples instead of entities (stream option seems to be more convenient):</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Object[]&gt; tuples = session.createQuery(&quot;select e.id, e FROM MyEntity e&quot;, Object[].class).getResultList();\n</code></pre>\n"}],"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1131,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":74682684,"answer_count":1,"score":4,"last_activity_date":1670206659,"creation_date":1670021812,"question_id":74662381,"body_markdown":"I&#39;ve upgraded an application using Hibernate v5 to v6, but after doing this a query has got very slow - &gt;10x slower.\r\n\r\nTake the following simple application that persists 500,000 `MyEntity`s to a new in-memory database, retrieves them and prints performance metrics. It can be run with either Hibernate v5 or v6, as per the commented out section in `pom.xml`:\r\n\r\n`MyApplication.java`:\r\n\r\n    package com.me;\r\n    \r\n    import java.text.MessageFormat;\r\n    import java.time.Duration;\r\n    import java.time.Instant;\r\n    import java.util.Properties;\r\n    import java.util.stream.IntStream;\r\n    \r\n    import org.h2.Driver;\r\n    import org.hibernate.Session;\r\n    import org.hibernate.cfg.Configuration;\r\n    import org.hibernate.tool.schema.Action;\r\n    \r\n    public class MyApplication {\r\n        public static void main(final String[] args) {\r\n    \tInstant start = Instant.now();\r\n    \r\n    \tfinal Properties jpaProperties = new Properties();\r\n    \r\n    \tjpaProperties.put(&quot;hibernate.connection.url&quot;, &quot;jdbc:h2:mem:&quot;);\r\n    \tjpaProperties.put(&quot;jakarta.persistence.jdbc.driver&quot;, Driver.class.getName());\r\n    \tjpaProperties.put(&quot;jakarta.persistence.schema-generation.database.action&quot;, Action.CREATE);\r\n    \r\n    \ttry (Session session = new Configuration().addAnnotatedClass(MyEntity.class).addProperties(jpaProperties)\r\n    \t\t.buildSessionFactory().openSession()) {\r\n    \t    session.beginTransaction();\r\n    \t    IntStream.range(0, 500000).mapToObj(i -&gt; new MyEntity()).forEach(session::persist);\r\n    \t    printTiming(start, &quot;Setup / Publish&quot;);\r\n    \r\n    \t    start = Instant.now();\r\n    \t    session.createQuery(&quot;FROM MyEntity&quot;, MyEntity.class).getResultList();\r\n    \t    printTiming(start, &quot;Get&quot;);\r\n    \t}\r\n        }\r\n    \r\n        private static void printTiming(final Instant startTime, final String label) {\r\n    \tSystem.out.println(MessageFormat.format(&quot;{0} took {1}&quot;, label, Duration.between(startTime, Instant.now())));\r\n        }\r\n    }\r\n\r\n`MyEntity.java`:\r\n\r\n    package com.me;\r\n    \r\n    import jakarta.persistence.Entity;\r\n    import jakarta.persistence.GeneratedValue;\r\n    import jakarta.persistence.GenerationType;\r\n    import jakarta.persistence.Id;\r\n    \r\n    @Entity\r\n    public class MyEntity {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        protected Long id;\r\n    }\r\n\r\n`pom.xml`:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;groupId&gt;com.me&lt;/groupId&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;artifactId&gt;hibernate-test&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.1.214&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.1.5.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!--&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-core-jakarta&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.6.14.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;--&gt;\r\n    \t&lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\n`hibernate-core` `6.1.5`:\r\n\r\n    Setup / Publish took PT2.6288547S\r\n    Get took PT35.0881315S\r\n\r\n`hibernate-core-jakarta` `5.6.14.Final`:\r\n\r\n    Setup / Publish took PT3.486003S\r\n    Get took PT2.3955987S\r\n\r\nI&#39;ve profiled it I can see Hibernate 6 is spending ~90% of the time in `org.hibernate.sql.results.spi.ListResultsConsumer.withDuplicationCheck()` - some kind of results post-processing.","title":"Hibernate v5-&gt;v6 upgrade - poor SELECT performance","body":"<p>I've upgraded an application using Hibernate v5 to v6, but after doing this a query has got very slow - &gt;10x slower.</p>\n<p>Take the following simple application that persists 500,000 <code>MyEntity</code>s to a new in-memory database, retrieves them and prints performance metrics. It can be run with either Hibernate v5 or v6, as per the commented out section in <code>pom.xml</code>:</p>\n<p><code>MyApplication.java</code>:</p>\n<pre><code>package com.me;\n\nimport java.text.MessageFormat;\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.util.Properties;\nimport java.util.stream.IntStream;\n\nimport org.h2.Driver;\nimport org.hibernate.Session;\nimport org.hibernate.cfg.Configuration;\nimport org.hibernate.tool.schema.Action;\n\npublic class MyApplication {\n    public static void main(final String[] args) {\n    Instant start = Instant.now();\n\n    final Properties jpaProperties = new Properties();\n\n    jpaProperties.put(&quot;hibernate.connection.url&quot;, &quot;jdbc:h2:mem:&quot;);\n    jpaProperties.put(&quot;jakarta.persistence.jdbc.driver&quot;, Driver.class.getName());\n    jpaProperties.put(&quot;jakarta.persistence.schema-generation.database.action&quot;, Action.CREATE);\n\n    try (Session session = new Configuration().addAnnotatedClass(MyEntity.class).addProperties(jpaProperties)\n        .buildSessionFactory().openSession()) {\n        session.beginTransaction();\n        IntStream.range(0, 500000).mapToObj(i -&gt; new MyEntity()).forEach(session::persist);\n        printTiming(start, &quot;Setup / Publish&quot;);\n\n        start = Instant.now();\n        session.createQuery(&quot;FROM MyEntity&quot;, MyEntity.class).getResultList();\n        printTiming(start, &quot;Get&quot;);\n    }\n    }\n\n    private static void printTiming(final Instant startTime, final String label) {\n    System.out.println(MessageFormat.format(&quot;{0} took {1}&quot;, label, Duration.between(startTime, Instant.now())));\n    }\n}\n</code></pre>\n<p><code>MyEntity.java</code>:</p>\n<pre><code>package com.me;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\n\n@Entity\npublic class MyEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    protected Long id;\n}\n</code></pre>\n<p><code>pom.xml</code>:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;groupId&gt;com.me&lt;/groupId&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;artifactId&gt;hibernate-test&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;version&gt;2.1.214&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n            &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;6.1.5.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--&lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core-jakarta&lt;/artifactId&gt;\n            &lt;version&gt;5.6.14.Final&lt;/version&gt;\n        &lt;/dependency&gt;--&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p><code>hibernate-core</code> <code>6.1.5</code>:</p>\n<pre><code>Setup / Publish took PT2.6288547S\nGet took PT35.0881315S\n</code></pre>\n<p><code>hibernate-core-jakarta</code> <code>5.6.14.Final</code>:</p>\n<pre><code>Setup / Publish took PT3.486003S\nGet took PT2.3955987S\n</code></pre>\n<p>I've profiled it I can see Hibernate 6 is spending ~90% of the time in <code>org.hibernate.sql.results.spi.ListResultsConsumer.withDuplicationCheck()</code> - some kind of results post-processing.</p>\n"},{"tags":["java","model-view-controller","service","model","controller"],"answers":[{"tags":[],"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670070888,"creation_date":1669805330,"answer_id":74626511,"question_id":74626117,"body_markdown":"[MVC][1] (**M**odel - **V**iew - **C**ontroller) is a pattern which separates data modelling from view rendering from action controlling. What are the tasks of the three:\r\n\r\n**model**: it is responsible for representing the data accurately\r\n**view**: it is responsible for the interactions with the user\r\n- UI rendering when UI exists or console messages in the case of CLI\r\n- Event handling\r\n- input parsing\r\n**controller**: it is responsible in understanding what the user command is meaning and invoking the correct behavior (action)\r\n\r\nSo, in order to determine whether your code complies to the MVC pattern we will need to read your model, view and controller code and see how much they fulfill the above.\r\n\r\nFrom a purely MVC-pattern point of view, your Model already fulfills the criteria, but your View has some business logic inside it which would fit more into the controller. Let&#39;s see a few examples:\r\n\r\n```\r\n    public void updateMenuTypes(Menu menu){\r\n        menu();\r\n        int option = Integer.parseInt(scanner.nextLine());\r\n        MenuTypes menuTypes = MenuTypes.get(option-1);\r\n        System.out.println(&quot;Insert Menu item you want to change: &quot;);\r\n        String itemName = scanner.nextLine();\r\n        MenuItem menuItem = createMenuItem();\r\n\r\n        switch (menuTypes){\r\n            case FOODMENU -&gt; updateFoodMenuTypes(menu.getFoodMenu(),menuItem,itemName);\r\n            case DRINKMENU -&gt; updateDrinkMenuTypes(menu.getDrinkMenu(),menuItem,itemName);\r\n        }\r\n    }\r\n    public void updateFoodMenuTypes(FoodMenu foodMenu,MenuItem menuItem,String itemName){\r\n        foodMenu();\r\n        int option = Integer.parseInt(scanner.nextLine());\r\n        FoodMenuTypes foodMenuTypes = FoodMenuTypes.get(option-1);\r\n        switch (foodMenuTypes){\r\n            case BREAKFASTMENU -&gt; dailyMenuServices.updateMenu(foodMenu.getBreakfastMenu(),menuItem,itemName);\r\n            case LUNCHMENU -&gt; dailyMenuServices.updateMenu(foodMenu.getLunchMenu(),menuItem,itemName);\r\n            case DINNERMENU -&gt; dailyMenuServices.updateMenu(foodMenu.getDinnerMenu(),menuItem,itemName);\r\n        }\r\n    }\r\n    public void updateDrinkMenuTypes(DrinkMenu drinkMenu,MenuItem menuItem, String itemName){\r\n        drinkMenu();\r\n        int option = Integer.parseInt(scanner.nextLine());\r\n        DrinkMenuTypes drinkMenuTypes = DrinkMenuTypes.get(option-1);\r\n\r\n        switch (drinkMenuTypes){\r\n            case ALCOHOL -&gt; dailyMenuServices.updateMenu(drinkMenu.getAlcohol(),menuItem,itemName);\r\n            case SOFTDRINK -&gt; dailyMenuServices.updateMenu(drinkMenu.getSoftDrinks(),menuItem,itemName);\r\n        }\r\n    }\r\n```\r\n\r\nA recurring pattern is the following:\r\n\r\n- you call a menu method (`menu`, `foodmenu` or `drinkmenu`, respectively)\r\n- the menu method asks a question towards the user\r\n- and your view determines what to call\r\n\r\nThe first two of the above are valid parts of the View, because they handle the UI (that is, they ask a question towards a user and getting an input), but the logic which determines what to call is a better fit into the Controller part. For example, this part:\r\n\r\n```\r\n        FoodMenuTypes foodMenuTypes = FoodMenuTypes.get(option-1);\r\n        switch (foodMenuTypes){\r\n            case BREAKFASTMENU -&gt; dailyMenuServices.updateMenu(foodMenu.getBreakfastMenu(),menuItem,itemName);\r\n            case LUNCHMENU -&gt; dailyMenuServices.updateMenu(foodMenu.getLunchMenu(),menuItem,itemName);\r\n            case DINNERMENU -&gt; dailyMenuServices.updateMenu(foodMenu.getDinnerMenu(),menuItem,itemName);\r\n        }\r\n```\r\n\r\nIs business logic that handles menu updates and you should move this logic into a controller method. The idea is to separate business logic from the view rendering. Imagine the case that at some point you will need to write a Swing UI for this project and you will need to totally rewrite anything related to your view. If in your view code you have business logic, then you will have a hard time doing so. If your view code is properly separated from the controller code, then, in such a scenario you will only need to look at how the controller receives the input from the view and rewrite the view (**and only the view**) in such a way that it will comply to the expectations of the controller.\r\n\r\nYou also mix up view and controller inside your controller, namely at\r\n\r\n```\r\n    @Override\r\n    public void updateMenu(DailyMenu dailyMenu,MenuItem updateMenuItem,String itemName) {\r\n        menuPrinter.printMenu(dailyMenu);\r\n\r\n        dailyMenu.getMenuItemList().forEach((MenuItem menuItem)-&gt;{\r\n            if(menuItem.getNames().equals(itemName)){\r\n                dailyMenu.getMenuItemList().set(dailyMenu.getMenuItemList().indexOf(menuItem),updateMenuItem);\r\n            }\r\n        });\r\n    }\r\n```\r\n\r\nThe call to `menuPrinter.printMenu(dailyMenu);` is clearly view rendering and it would be better to make that call inside the view, after the controller finished its job if you want to apply the MVC pattern. It&#39;s also better not to display the main menu before the controller finished its job (unless you have a very good reason for it), because your command may fail and it will nevertheless suggest it was successful if the user is asked for the next action. So, you could refactor this method as follows:\r\n\r\n```\r\n    @Override\r\n    public DailyMenu updateMenu(DailyMenu dailyMenu,MenuItem updateMenuItem,String itemName) {\r\n\r\n        dailyMenu.getMenuItemList().forEach((MenuItem menuItem)-&gt;{\r\n            if(menuItem.getNames().equals(itemName)){\r\n                dailyMenu.getMenuItemList().set(dailyMenu.getMenuItemList().indexOf(menuItem),updateMenuItem);\r\n            }\r\n        });\r\n\r\n        return dailyMenu;\r\n    }\r\n```\r\n\r\nand then your view would call some method and print the menu afterwards.\r\n\r\nEDIT\r\n\r\nLet&#39;s consider this switch-case, which is part of the menu\r\n\r\n```\r\n        switch (foodMenuTypes){\r\n            case BREAKFASTMENU -&gt; {return foodMenu.getBreakfastMenu();}\r\n            case LUNCHMENU -&gt; {return foodMenu.getLunchMenu();}\r\n            case DINNERMENU -&gt; {return foodMenu.getDinnerMenu();}\r\n        }\r\n```\r\n\r\nWhere does this logic belong to? Is it part of the view? Or the controller?\r\n\r\nLet&#39;s think about it this way: if we are to implement a graphical UI, then where do we want this switch-case to be part of? The answer is simple: we want this to be in the controller, because that way we can easily implement the new UI, which will have some `getDinnerMenu` and other similar methods that would be responsible of graphically displaying the menu.\r\n\r\nOn the other hand, if we leave this switch-case inside the view, then, in our scenario of reimplementing the user-interface we will have to go through the view code line-by-line and find what we need to keep from it. However, if, at the time of totally reimplementing the view we have parts of the view to keep, then we have an error in our architectural design. So, how could we move this logic into the controller? The answer is not difficult at all:\r\n\r\n- we create a controller method\r\n- which will have this switch-case\r\n- returning the result of view methods\r\n- depending on what value was chosen in the view\r\n\r\nReason: Even though the value was chosen in the view and subsequently the choice has to be parsed by the view, deciding what template to load is a logical question and logical questions are deemed to be answered in the controller.\r\n\r\nSo, you will have a controller method like this:\r\n\r\n```\r\npublic SomeViewClass doMyStuff(int input) {\r\n    switch (input) {\r\n        case SOMEVALUE1: return someView.getSomeViewClass1();\r\n        case SOMEVALUE2: return someView.getSomeViewClass2();\r\n        case SOMEVALUE3: return someView.getSomeViewClass3();\r\n        //...\r\n        default: return null;\r\n    }\r\n}\r\n```\r\n\r\nand from the view, just call `doMyStuff` and pass the options. The namings above were arbitrary, you of course should namings that are better representing your entities.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller","title":"Does this Java projects follow the MVC pattern?","body":"<p><a href=\"https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\" rel=\"nofollow noreferrer\">MVC</a> (<strong>M</strong>odel - <strong>V</strong>iew - <strong>C</strong>ontroller) is a pattern which separates data modelling from view rendering from action controlling. What are the tasks of the three:</p>\n<p><strong>model</strong>: it is responsible for representing the data accurately\n<strong>view</strong>: it is responsible for the interactions with the user</p>\n<ul>\n<li>UI rendering when UI exists or console messages in the case of CLI</li>\n<li>Event handling</li>\n<li>input parsing\n<strong>controller</strong>: it is responsible in understanding what the user command is meaning and invoking the correct behavior (action)</li>\n</ul>\n<p>So, in order to determine whether your code complies to the MVC pattern we will need to read your model, view and controller code and see how much they fulfill the above.</p>\n<p>From a purely MVC-pattern point of view, your Model already fulfills the criteria, but your View has some business logic inside it which would fit more into the controller. Let's see a few examples:</p>\n<pre><code>    public void updateMenuTypes(Menu menu){\n        menu();\n        int option = Integer.parseInt(scanner.nextLine());\n        MenuTypes menuTypes = MenuTypes.get(option-1);\n        System.out.println(&quot;Insert Menu item you want to change: &quot;);\n        String itemName = scanner.nextLine();\n        MenuItem menuItem = createMenuItem();\n\n        switch (menuTypes){\n            case FOODMENU -&gt; updateFoodMenuTypes(menu.getFoodMenu(),menuItem,itemName);\n            case DRINKMENU -&gt; updateDrinkMenuTypes(menu.getDrinkMenu(),menuItem,itemName);\n        }\n    }\n    public void updateFoodMenuTypes(FoodMenu foodMenu,MenuItem menuItem,String itemName){\n        foodMenu();\n        int option = Integer.parseInt(scanner.nextLine());\n        FoodMenuTypes foodMenuTypes = FoodMenuTypes.get(option-1);\n        switch (foodMenuTypes){\n            case BREAKFASTMENU -&gt; dailyMenuServices.updateMenu(foodMenu.getBreakfastMenu(),menuItem,itemName);\n            case LUNCHMENU -&gt; dailyMenuServices.updateMenu(foodMenu.getLunchMenu(),menuItem,itemName);\n            case DINNERMENU -&gt; dailyMenuServices.updateMenu(foodMenu.getDinnerMenu(),menuItem,itemName);\n        }\n    }\n    public void updateDrinkMenuTypes(DrinkMenu drinkMenu,MenuItem menuItem, String itemName){\n        drinkMenu();\n        int option = Integer.parseInt(scanner.nextLine());\n        DrinkMenuTypes drinkMenuTypes = DrinkMenuTypes.get(option-1);\n\n        switch (drinkMenuTypes){\n            case ALCOHOL -&gt; dailyMenuServices.updateMenu(drinkMenu.getAlcohol(),menuItem,itemName);\n            case SOFTDRINK -&gt; dailyMenuServices.updateMenu(drinkMenu.getSoftDrinks(),menuItem,itemName);\n        }\n    }\n</code></pre>\n<p>A recurring pattern is the following:</p>\n<ul>\n<li>you call a menu method (<code>menu</code>, <code>foodmenu</code> or <code>drinkmenu</code>, respectively)</li>\n<li>the menu method asks a question towards the user</li>\n<li>and your view determines what to call</li>\n</ul>\n<p>The first two of the above are valid parts of the View, because they handle the UI (that is, they ask a question towards a user and getting an input), but the logic which determines what to call is a better fit into the Controller part. For example, this part:</p>\n<pre><code>        FoodMenuTypes foodMenuTypes = FoodMenuTypes.get(option-1);\n        switch (foodMenuTypes){\n            case BREAKFASTMENU -&gt; dailyMenuServices.updateMenu(foodMenu.getBreakfastMenu(),menuItem,itemName);\n            case LUNCHMENU -&gt; dailyMenuServices.updateMenu(foodMenu.getLunchMenu(),menuItem,itemName);\n            case DINNERMENU -&gt; dailyMenuServices.updateMenu(foodMenu.getDinnerMenu(),menuItem,itemName);\n        }\n</code></pre>\n<p>Is business logic that handles menu updates and you should move this logic into a controller method. The idea is to separate business logic from the view rendering. Imagine the case that at some point you will need to write a Swing UI for this project and you will need to totally rewrite anything related to your view. If in your view code you have business logic, then you will have a hard time doing so. If your view code is properly separated from the controller code, then, in such a scenario you will only need to look at how the controller receives the input from the view and rewrite the view (<strong>and only the view</strong>) in such a way that it will comply to the expectations of the controller.</p>\n<p>You also mix up view and controller inside your controller, namely at</p>\n<pre><code>    @Override\n    public void updateMenu(DailyMenu dailyMenu,MenuItem updateMenuItem,String itemName) {\n        menuPrinter.printMenu(dailyMenu);\n\n        dailyMenu.getMenuItemList().forEach((MenuItem menuItem)-&gt;{\n            if(menuItem.getNames().equals(itemName)){\n                dailyMenu.getMenuItemList().set(dailyMenu.getMenuItemList().indexOf(menuItem),updateMenuItem);\n            }\n        });\n    }\n</code></pre>\n<p>The call to <code>menuPrinter.printMenu(dailyMenu);</code> is clearly view rendering and it would be better to make that call inside the view, after the controller finished its job if you want to apply the MVC pattern. It's also better not to display the main menu before the controller finished its job (unless you have a very good reason for it), because your command may fail and it will nevertheless suggest it was successful if the user is asked for the next action. So, you could refactor this method as follows:</p>\n<pre><code>    @Override\n    public DailyMenu updateMenu(DailyMenu dailyMenu,MenuItem updateMenuItem,String itemName) {\n\n        dailyMenu.getMenuItemList().forEach((MenuItem menuItem)-&gt;{\n            if(menuItem.getNames().equals(itemName)){\n                dailyMenu.getMenuItemList().set(dailyMenu.getMenuItemList().indexOf(menuItem),updateMenuItem);\n            }\n        });\n\n        return dailyMenu;\n    }\n</code></pre>\n<p>and then your view would call some method and print the menu afterwards.</p>\n<p>EDIT</p>\n<p>Let's consider this switch-case, which is part of the menu</p>\n<pre><code>        switch (foodMenuTypes){\n            case BREAKFASTMENU -&gt; {return foodMenu.getBreakfastMenu();}\n            case LUNCHMENU -&gt; {return foodMenu.getLunchMenu();}\n            case DINNERMENU -&gt; {return foodMenu.getDinnerMenu();}\n        }\n</code></pre>\n<p>Where does this logic belong to? Is it part of the view? Or the controller?</p>\n<p>Let's think about it this way: if we are to implement a graphical UI, then where do we want this switch-case to be part of? The answer is simple: we want this to be in the controller, because that way we can easily implement the new UI, which will have some <code>getDinnerMenu</code> and other similar methods that would be responsible of graphically displaying the menu.</p>\n<p>On the other hand, if we leave this switch-case inside the view, then, in our scenario of reimplementing the user-interface we will have to go through the view code line-by-line and find what we need to keep from it. However, if, at the time of totally reimplementing the view we have parts of the view to keep, then we have an error in our architectural design. So, how could we move this logic into the controller? The answer is not difficult at all:</p>\n<ul>\n<li>we create a controller method</li>\n<li>which will have this switch-case</li>\n<li>returning the result of view methods</li>\n<li>depending on what value was chosen in the view</li>\n</ul>\n<p>Reason: Even though the value was chosen in the view and subsequently the choice has to be parsed by the view, deciding what template to load is a logical question and logical questions are deemed to be answered in the controller.</p>\n<p>So, you will have a controller method like this:</p>\n<pre><code>public SomeViewClass doMyStuff(int input) {\n    switch (input) {\n        case SOMEVALUE1: return someView.getSomeViewClass1();\n        case SOMEVALUE2: return someView.getSomeViewClass2();\n        case SOMEVALUE3: return someView.getSomeViewClass3();\n        //...\n        default: return null;\n    }\n}\n</code></pre>\n<p>and from the view, just call <code>doMyStuff</code> and pass the options. The namings above were arbitrary, you of course should namings that are better representing your entities.</p>\n"}],"owner":{"account_id":26946521,"reputation":29,"user_id":20516430,"display_name":"David Moore"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670204852,"creation_date":1669803569,"question_id":74626117,"body_markdown":"I am writing the Restaurant Management homework which must be following the MVC pattern. My `Menu` model has two parts: drink menu and food menu. \r\n\r\nWith food menu, it separates into three different types of menu: Breakfast, Lunch and Dinner menu. About the drink menu, it also divide into two different menu: Alcohol and Soft drink menu. \r\n\r\nEach menu has the same CRUD operation therefore, I wrote one father class and extend five models from it, therefore, I only need to write one method for father class and change the parameter for methods and they will work the same way. \r\n\r\nHowever, I don&#39;t know that my structure has been following the MVC structure or not? And should I write the exception handling in the View of MVC structure or should I write it in controller? Thanks for your support.\r\n\r\n**My supper models :**\r\n\r\n\r\n    public class DailyMenu implements Serializable {\r\n            private List&lt;MenuItem&gt; menuItemList;\r\n            public DailyMenu(List&lt;MenuItem&gt; menuItemList){\r\n                this.menuItemList = menuItemList;\r\n            }\r\n            public DailyMenu(){\r\n                this.menuItemList = new ArrayList&lt;&gt;();\r\n            }\r\n            public List&lt;MenuItem&gt; getMenuItemList() {\r\n                return menuItemList;\r\n            }\r\n        \r\n            public void setMenuItemList(List&lt;MenuItem&gt; menuItemList) {\r\n                this.menuItemList = menuItemList;\r\n            }\r\n        }\r\n\r\n**Menu View:**\r\n\r\n    public class MenuView {\r\n        private Scanner scanner = new Scanner(System.in);\r\n        private DailyMenuServices dailyMenuServices = new DailyMenuServicesImpl();\r\n    \r\n    \r\n        public DailyMenu getMenuTypes(Menu menu){;\r\n            menu();\r\n            int option = Integer.parseInt(scanner.nextLine());\r\n            MenuTypes menuTypes = MenuTypes.get(option-1);\r\n            switch (menuTypes){\r\n                case FOODMENU -&gt; {return getFoodMenuTypes(menu.getFoodMenu());}\r\n                case DRINKMENU -&gt; {return getDrinkMenuTypes(menu.getDrinkMenu());}\r\n                default -&gt; {return null;}\r\n            }\r\n        }\r\n        public DailyMenu getFoodMenuTypes(FoodMenu foodMenu){\r\n            foodMenu();\r\n            int option = Integer.parseInt(scanner.nextLine());\r\n            FoodMenuTypes foodMenuTypes = FoodMenuTypes.get(option-1);\r\n    \r\n            switch (foodMenuTypes){\r\n                case BREAKFASTMENU -&gt; {return foodMenu.getBreakfastMenu();}\r\n                case LUNCHMENU -&gt; {return foodMenu.getLunchMenu();}\r\n                case DINNERMENU -&gt; {return foodMenu.getDinnerMenu();}\r\n                default -&gt; {return null;}\r\n            }\r\n        }\r\n        public DailyMenu getDrinkMenuTypes(DrinkMenu drinkMenu){\r\n            drinkMenu();\r\n            int option = Integer.parseInt(scanner.nextLine());\r\n            DrinkMenuTypes drinkMenuTypes = DrinkMenuTypes.get(option-1);\r\n            switch (drinkMenuTypes){\r\n                case ALCOHOL -&gt; { return drinkMenu.getAlcohol();}\r\n                case SOFTDRINK -&gt; {return drinkMenu.getSoftDrinks();}\r\n                default -&gt; {return null;}\r\n            }\r\n        }\r\n        public MenuItem createMenuItem(){\r\n            MenuItem menuItem = new MenuItem();\r\n            System.out.print(&quot;\\n Insert food name: &quot;);\r\n            menuItem.setNames(scanner.nextLine());\r\n            System.out.print(&quot; Insert food description: &quot;);\r\n            menuItem.setDescription(scanner.nextLine());\r\n            System.out.print(&quot; Insert food image: &quot;);\r\n            menuItem.setImage(scanner.nextLine());\r\n            System.out.print(&quot; Insert food price: &quot;);\r\n            menuItem.setPrice(Float.parseFloat(scanner.nextLine()));\r\n            return menuItem;\r\n        }\r\n        public String getMenuItemName(){\r\n            System.out.print(&quot;Insert Menu item you want to change: &quot;);\r\n            return scanner.nextLine();\r\n        }\r\n    \r\n        public static void menu(){\r\n            System.out.println(&quot;\\n 1. Food Menu&quot;);\r\n            System.out.println(&quot; 2. Drink Menu&quot;);\r\n            System.out.print(&quot; Choose your option:&quot;);\r\n        }\r\n        public static void drinkMenu(){\r\n            System.out.println(&quot;1. Alcohol Menu&quot;);\r\n            System.out.println(&quot;2. Soft drink Menu&quot;);\r\n            System.out.print(&quot;Choose which menu you want to make change:&quot;);\r\n        }\r\n        public static void foodMenu(){\r\n            System.out.println(&quot;\\n1. Breakfast Menu&quot;);\r\n            System.out.println(&quot;2. Lunch Menu&quot;);\r\n            System.out.println(&quot;3. Dinner Menu&quot;);\r\n            System.out.print(&quot;\\nChoose which menu you want to add:&quot;);\r\n        }\r\n    }\r\n\r\n**My Menu Service:**\r\n\r\n    public class DailyMenuServicesImpl implements DailyMenuServices {\r\n        @Override\r\n        public void addMenuItemsToMenu(DailyMenu dailyMenu,MenuItem menuItem) {\r\n            List&lt;MenuItem&gt; menuItemList = dailyMenu.getMenuItemList();\r\n            menuItemList.add(menuItem);\r\n        }\r\n    \r\n        @Override\r\n        public void updateMenu(DailyMenu dailyMenu,MenuItem updateMenuItem,String itemName) {\r\n    \r\n            dailyMenu.getMenuItemList().forEach((MenuItem menuItem)-&gt;{\r\n                if(menuItem.getNames().equals(itemName)){\r\n                    dailyMenu.getMenuItemList().set(dailyMenu.getMenuItemList().indexOf(menuItem),updateMenuItem);\r\n                }\r\n            });\r\n        }\r\n    \r\n        @Override\r\n        public void deleteMenu(DailyMenu dailyMenu,String itemName) {\r\n            dailyMenu.getMenuItemList().removeIf(menuItem -&gt;\r\n                    menuItem.getNames().equals(itemName));\r\n        }\r\n    }\r\n\r\n**My Main method:**\r\n\r\n        public class Main {\r\n            private static Scanner scanner = new Scanner(System.in);\r\n        \r\n            public static void main(String[] args) throws IOException {\r\n                int option;\r\n                Menu menu = new Menu();\r\n                Bill bill = new Bill();\r\n                while (true){\r\n                    System.out.println(&quot;\\n1.Menu management&quot;);\r\n                    System.out.println(&quot;2.Bill management&quot;);\r\n                    System.out.print(&quot;Please choose which types Management you want to work with:&quot;);\r\n                    option = Integer.parseInt(scanner.nextLine());\r\n                    ManagementTypes types = ManagementTypes.get(option-1);\r\n                    switch (types){\r\n                        case MENU -&gt; menuMain(menu);\r\n                        case BILL -&gt; billMain(bill,menu);\r\n                        default -&gt; {}\r\n                    }\r\n                }\r\n            }\r\n            public static void billMain(Bill bill, Menu menu) throws IOException{\r\n                int option = 0;\r\n                BillServices billServices = new BillServicesImpl();\r\n                BillPrinter billPrinter = new BillPrinterImpl();\r\n                BillFileHandlingServices billFileHandlingServices = new BillFileHandlingServicesImpl();\r\n                MenuView menuView = new MenuView();\r\n                BillView billView = new BillView();\r\n                MenuPrinter menuPrinter = new MenuPrinterImpl();\r\n                try {\r\n                    while (option != 7){\r\n        \r\n                        System.out.println(&quot;\\nBill management&quot;);\r\n                        System.out.println(&quot;1. Create Bill &quot;);\r\n                        System.out.println(&quot;2. Update Bill &quot;);\r\n                        System.out.println(&quot;3. Delete Bill&quot;);\r\n                        System.out.println(&quot;4. Show Bill&quot;);\r\n                        System.out.println(&quot;5. Export bill&quot;);\r\n                        System.out.println(&quot;6. Import bill&quot;);\r\n                        System.out.println(&quot;7. To escape&quot;);\r\n                        System.out.print(&quot;\\nChoose your option:&quot;);\r\n                        option = Integer.parseInt(scanner.nextLine());\r\n        \r\n                        ManagementActions actions = ManagementActions.get(option-1);\r\n                        switch (actions){\r\n                            case CREATE -&gt; {\r\n                                menuPrinter.printMenu(menu);\r\n                                DailyMenu dailyMenu = menuView.getMenuTypes(menu);\r\n                                menuPrinter.printMenu(dailyMenu);\r\n                                BillItems billItems = billView.createBillItem(dailyMenu);\r\n                                billServices.addBill(bill,billItems);\r\n                            }\r\n                            case UPDATE -&gt; {\r\n                                billPrinter.printBill(bill);\r\n                                DailyMenu dailyMenu = menuView.getMenuTypes(menu);\r\n                                BillItems billItems = billView.createBillItem(dailyMenu);\r\n                                String itemName = billView.getBillItemName();\r\n                                billServices.updateBill(bill,billItems,itemName);\r\n                            }\r\n                            case DELETE -&gt; {\r\n                                billPrinter.printBill(bill);\r\n                                String itemName = billView.getBillItemName();\r\n                                billServices.deleteBillItems(bill,itemName);\r\n                            }\r\n                            case SHOW -&gt; billPrinter.printBill(bill);\r\n                            case EXPORT -&gt; billFileHandlingServices.exportBill(bill);\r\n                            case IMPORT -&gt; {\r\n                                Bill importBill = billFileHandlingServices.importBill();\r\n                                billPrinter.printBill(importBill);\r\n                            }\r\n                            case BREAK -&gt; {}\r\n                        }\r\n                    }\r\n                }catch (NullPointerException | IllegalStateException | InputMismatchException | NumberFormatException exception){\r\n                    System.out.println(exception.getMessage());\r\n                }\r\n            }\r\n            public static void menuMain(Menu menu) throws IOException{\r\n                int option = 0;\r\n                DailyMenuServices dailyMenuServices = new DailyMenuServicesImpl();\r\n                MenuView menuView = new MenuView();\r\n                MenuPrinter menuPrinter = new MenuPrinterImpl();\r\n                MenuFileHandlingServices menuFileHandlingServices = new MenuFileHandlingServicesImpl();\r\n                try {\r\n                    while (option != 7) {\r\n                        System.out.println(&quot;\\nMenu management&quot;);\r\n                        System.out.println(&quot;1. Create Menu Items&quot;);\r\n                        System.out.println(&quot;2. Update Menu Items&quot;);\r\n                        System.out.println(&quot;3. Delete Menu Items&quot;);\r\n                        System.out.println(&quot;4. Show Menu Items&quot;);\r\n                        System.out.println(&quot;5. Export Menu&quot;);\r\n                        System.out.println(&quot;6. Import Menu&quot;);\r\n                        System.out.println(&quot;7. To escape&quot;);\r\n                        System.out.print(&quot;\\nChoose your option:&quot;);\r\n                        option = Integer.parseInt(scanner.nextLine());\r\n                        ManagementActions actions = ManagementActions.get(option - 1);\r\n                        switch (actions) {\r\n                            case CREATE -&gt; {\r\n                                MenuItem menuItem = menuView.createMenuItem();\r\n                                DailyMenu dailyMenu = menuView.getMenuTypes(menu);\r\n                                dailyMenuServices.addMenuItemsToMenu(dailyMenu,menuItem);\r\n                            }\r\n                            case UPDATE -&gt; {\r\n                                menuPrinter.printMenu(menu);\r\n                                MenuItem menuItem = menuView.createMenuItem();\r\n                                DailyMenu dailyMenu = menuView.getMenuTypes(menu);\r\n                                menuPrinter.printMenu(dailyMenu);\r\n                                String itemName = menuView.getMenuItemName();\r\n                                dailyMenuServices.updateMenu(dailyMenu,menuItem,itemName);\r\n                            }\r\n                            case DELETE -&gt; {\r\n                                menuPrinter.printMenu(menu);\r\n                                DailyMenu dailyMenu = menuView.getMenuTypes(menu);\r\n                                menuPrinter.printMenu(dailyMenu);\r\n                                String itemName = menuView.getMenuItemName();\r\n                                dailyMenuServices.deleteMenu(dailyMenu,itemName);\r\n                            }\r\n                            case SHOW -&gt; menuPrinter.printMenu(menu);\r\n                            case EXPORT -&gt; menuFileHandlingServices.exportMenu(menu);\r\n                            case IMPORT -&gt; {\r\n                                Menu importMenu = menuFileHandlingServices.importMenu();\r\n                                menuPrinter.printMenu(importMenu);\r\n                            }\r\n                            case BREAK -&gt; {}\r\n                        }\r\n                    }\r\n                }catch (NullPointerException | IllegalStateException | NumberFormatException exception){\r\n                    System.out.println(exception.getMessage());\r\n                }\r\n            }\r\n        }\r\n    \r\n**Edit:**\r\n    \r\n\r\n**Main class:**\r\n    \r\n    public static void menuMain(Menu menu) throws IOException{\r\n            int option = 0;\r\n            MenuControllers menuControllers =  new MenuControllers();\r\n            MenuPrinter menuPrinter = MenuPrinterImpl.getInstance();\r\n    \r\n            try {\r\n                while (option != 7) {\r\n    \r\n                    menu();\r\n                    option = Integer.parseInt(scanner.nextLine());\r\n    \r\n                    ManagementActions actions = ManagementActions.get(option - 1);\r\n                    switch (actions) {\r\n                        case CREATE -&gt; menuControllers.add(menu);\r\n                        case UPDATE -&gt;menuControllers.update(menu);\r\n                        case DELETE -&gt; menuControllers.delete(menu);\r\n                        case SHOW -&gt; menuControllers.showMenu(menu);\r\n                        case EXPORT -&gt; menuControllers.exportFile(menu);\r\n                        case IMPORT -&gt; {\r\n                            Menu importMenu = menuControllers.importFile();\r\n                            menuControllers.showMenu(importMenu);\r\n                        }\r\n                        case BREAK -&gt; {}\r\n                    }\r\n                }\r\n            }catch (NullPointerException | IllegalStateException | NumberFormatException exception){\r\n                System.out.println(exception.getMessage());\r\n            }\r\n        }\r\n    \r\n    \r\n        public static void menu(){\r\n            System.out.println(&quot;\\nMenu management&quot;);\r\n            System.out.println(&quot;1. Create Menu Items&quot;);\r\n            System.out.println(&quot;2. Update Menu Items&quot;);\r\n            System.out.println(&quot;3. Delete Menu Items&quot;);\r\n            System.out.println(&quot;4. Show Menu Items&quot;);\r\n            System.out.println(&quot;5. Export Menu&quot;);\r\n            System.out.println(&quot;6. Import Menu&quot;);\r\n            System.out.println(&quot;7. To escape&quot;);\r\n            System.out.print(&quot;\\nChoose your option:&quot;);\r\n        }\r\n\r\n**My Menu controller:**\r\n\r\n    public class MenuControllers {\r\n        private final MenuView view;\r\n        private final DailyMenuServices  dailyMenuServices;\r\n        private final MenuFileHandlingServices menuFileHandlingServices ;\r\n        public MenuControllers(){\r\n            this.view  = MenuView.getInstance();\r\n            this.dailyMenuServices = DailyMenuServicesImpl.getInstance();\r\n            this.menuFileHandlingServices = MenuFileHandlingServicesImpl.getInstance();\r\n        }\r\n    \r\n        public void add(Menu menu){\r\n            MenuItem  menuItem = view.createMenuItem();\r\n            int option = view.getMenuTypes();\r\n            MenuTypes menuTypes = MenuTypes.get(option-1);\r\n            switch (menuTypes){\r\n                case FOODMENU -&gt; addToFoodMenu(menu.getFoodMenu(),menuItem);\r\n                case DRINKMENU -&gt; addToDrinkMenu(menu.getDrinkMenu(),menuItem);\r\n            }\r\n        }\r\n        public void addToDrinkMenu(DrinkMenu drinkMenu, MenuItem menuItem){\r\n            int option = view.getDrinkMenuTypes();\r\n            DrinkMenuTypes drinkMenuTypes = DrinkMenuTypes.get(option-1);\r\n            switch (drinkMenuTypes){\r\n                case ALCOHOL -&gt; dailyMenuServices.addMenuItemsToMenu(drinkMenu.getAlcohol(),menuItem);\r\n                case SOFTDRINK -&gt; dailyMenuServices.addMenuItemsToMenu(drinkMenu.getSoftDrinks(),menuItem);\r\n            }\r\n        }\r\n    \r\n        public void addToFoodMenu(FoodMenu foodMenu, MenuItem menuItem){\r\n            int option = view.getFoodMenuTypes();\r\n            FoodMenuTypes foodMenuTypes = FoodMenuTypes.get(option-1);\r\n            switch (foodMenuTypes){\r\n                case BREAKFASTMENU -&gt; dailyMenuServices.addMenuItemsToMenu(foodMenu.getBreakfastMenu(),menuItem);\r\n                case LUNCHMENU -&gt; dailyMenuServices.addMenuItemsToMenu(foodMenu.getLunchMenu(),menuItem);\r\n                case DINNERMENU -&gt; dailyMenuServices.addMenuItemsToMenu(foodMenu.getDinnerMenu(),menuItem);\r\n            }\r\n        }\r\n    \r\n        public void update(Menu menu){\r\n            view.printMenu(menu);\r\n            String foodName = view.getMenuItemName();\r\n            MenuItem  menuItem = view.createMenuItem();\r\n            int option = view.getMenuTypes();\r\n            MenuTypes menuTypes = MenuTypes.get(option-1);\r\n            switch (menuTypes){\r\n                case FOODMENU -&gt; updateToFoodMenu(menu.getFoodMenu(),menuItem,foodName);\r\n                case DRINKMENU -&gt; updateToDrinkMenu(menu.getDrinkMenu(),menuItem,foodName);\r\n            }\r\n        }\r\n        public void updateToDrinkMenu(DrinkMenu drinkMenu, MenuItem menuItem,String foodName){\r\n            int option = view.getDrinkMenuTypes();\r\n            DrinkMenuTypes drinkMenuTypes = DrinkMenuTypes.get(option-1);\r\n            switch (drinkMenuTypes){\r\n                case ALCOHOL -&gt; dailyMenuServices.updateMenu(drinkMenu.getAlcohol(),menuItem,foodName);\r\n                case SOFTDRINK -&gt; dailyMenuServices.updateMenu(drinkMenu.getSoftDrinks(),menuItem,foodName);\r\n            }\r\n        }\r\n    \r\n        public void updateToFoodMenu(FoodMenu foodMenu, MenuItem menuItem,String foodName){\r\n            int option = view.getFoodMenuTypes();\r\n            FoodMenuTypes foodMenuTypes = FoodMenuTypes.get(option-1);\r\n            switch (foodMenuTypes){\r\n                case BREAKFASTMENU -&gt; dailyMenuServices.updateMenu(foodMenu.getBreakfastMenu(),menuItem,foodName);\r\n                case LUNCHMENU -&gt; dailyMenuServices.updateMenu(foodMenu.getLunchMenu(),menuItem,foodName);\r\n                case DINNERMENU -&gt; dailyMenuServices.updateMenu(foodMenu.getDinnerMenu(),menuItem,foodName);\r\n            }\r\n        }\r\n    \r\n        public void delete(Menu menu){\r\n            view.printMenu(menu);\r\n            String foodName = view.getMenuItemName();\r\n            int option = view.getMenuTypes();\r\n            MenuTypes menuTypes = MenuTypes.get(option-1);\r\n    \r\n            switch (menuTypes){\r\n                case FOODMENU -&gt; deleteToFoodMenu(menu.getFoodMenu(),foodName);\r\n                case DRINKMENU -&gt; deleteToDrinkMenu(menu.getDrinkMenu(),foodName);\r\n            }\r\n        }\r\n        public void deleteToDrinkMenu(DrinkMenu drinkMenu,String foodName){\r\n            int option = view.getDrinkMenuTypes();\r\n            DrinkMenuTypes drinkMenuTypes = DrinkMenuTypes.get(option-1);\r\n            switch (drinkMenuTypes){\r\n                case ALCOHOL -&gt; dailyMenuServices.deleteMenu(drinkMenu.getAlcohol(),foodName);\r\n                case SOFTDRINK -&gt; dailyMenuServices.deleteMenu(drinkMenu.getSoftDrinks(),foodName);\r\n            }\r\n        }\r\n    \r\n        public void deleteToFoodMenu(FoodMenu foodMenu,String foodName){\r\n            int option = view.getFoodMenuTypes();\r\n            FoodMenuTypes foodMenuTypes = FoodMenuTypes.get(option-1);\r\n            switch (foodMenuTypes){\r\n                case BREAKFASTMENU -&gt; dailyMenuServices.deleteMenu(foodMenu.getBreakfastMenu(),foodName);\r\n                case LUNCHMENU -&gt; dailyMenuServices.deleteMenu(foodMenu.getLunchMenu(),foodName);\r\n                case DINNERMENU -&gt; dailyMenuServices.deleteMenu(foodMenu.getDinnerMenu(),foodName);\r\n            }\r\n        }\r\n        public void showMenu(Menu menu){\r\n            view.printMenu(menu);\r\n        }\r\n        public void exportFile(Menu menu) throws IOException {\r\n            menuFileHandlingServices.exportMenu(menu);\r\n        }\r\n    \r\n        public Menu importFile() throws IOException {\r\n            return menuFileHandlingServices.importMenu();\r\n        }\r\n    }\r\n\r\n**My Menu view:**\r\n\r\n    public class MenuView {\r\n        private Scanner scanner = new Scanner(System.in);\r\n        private final MenuPrinter menuPrinter = MenuPrinterImpl.getInstance();\r\n    \r\n        private MenuView(){ }\r\n        public static MenuView getInstance(){\r\n    \r\n            return MenuViewHelper.menuView;\r\n        }\r\n        public static class MenuViewHelper{\r\n            private static final MenuView menuView = new MenuView();\r\n        }\r\n        public int getMenuTypes(){\r\n            menu();\r\n            return Integer.parseInt(scanner.nextLine());\r\n        }\r\n        public int getFoodMenuTypes(){\r\n            foodMenu();\r\n            return Integer.parseInt(scanner.nextLine());\r\n        }\r\n        public int getDrinkMenuTypes(){\r\n            drinkMenu();\r\n            return Integer.parseInt(scanner.nextLine());\r\n        }\r\n        public MenuItem createMenuItem(){\r\n            MenuItem menuItem = new MenuItem();\r\n            System.out.print(&quot;\\n Insert food name: &quot;);\r\n            menuItem.setNames(scanner.nextLine());\r\n            System.out.print(&quot; Insert food description: &quot;);\r\n            menuItem.setDescription(scanner.nextLine());\r\n            System.out.print(&quot; Insert food image: &quot;);\r\n            menuItem.setImage(scanner.nextLine());\r\n            System.out.print(&quot; Insert food price: &quot;);\r\n            menuItem.setPrice(Float.parseFloat(scanner.nextLine()));\r\n            return menuItem;\r\n        }\r\n        public String getMenuItemName(){\r\n            System.out.print(&quot;Insert Menu item you want to change: &quot;);\r\n            return scanner.nextLine();\r\n        }\r\n        public void printMenu(Menu menu){\r\n            menuPrinter.printMenu(menu);\r\n        }\r\n    \r\n        public static void menu(){\r\n            System.out.println(&quot;\\n 1. Food Menu&quot;);\r\n            System.out.println(&quot; 2. Drink Menu&quot;);\r\n            System.out.print(&quot; Choose your option:&quot;);\r\n        }\r\n        public static void drinkMenu(){\r\n            System.out.println(&quot;1. Alcohol Menu&quot;);\r\n            System.out.println(&quot;2. Soft drink Menu&quot;);\r\n            System.out.print(&quot;Choose which menu you want to use:&quot;);\r\n        }\r\n        public static void foodMenu(){\r\n            System.out.println(&quot;\\n1. Breakfast Menu&quot;);\r\n            System.out.println(&quot;2. Lunch Menu&quot;);\r\n            System.out.println(&quot;3. Dinner Menu&quot;);\r\n            System.out.print(&quot;\\nChoose which menu you want to use:&quot;);\r\n        }\r\n    \r\n    }\r\n\r\n**My new Menu service:**\r\n\r\n    public class DailyMenuServicesImpl implements DailyMenuServices {\r\n    \r\n        private DailyMenuServicesImpl(){}\r\n        public static DailyMenuServicesImpl getInstance(){\r\n            return DailyMenuServicesImplHelper.dailyMenuServicesImpl;\r\n        }\r\n        private static class DailyMenuServicesImplHelper{\r\n            private static final DailyMenuServicesImpl dailyMenuServicesImpl = new DailyMenuServicesImpl();\r\n        }\r\n        @Override\r\n        public void addMenuItemsToMenu(DailyMenu dailyMenu,MenuItem menuItem) {\r\n            List&lt;MenuItem&gt; menuItemList = dailyMenu.getMenuItemList();\r\n            menuItemList.add(menuItem);\r\n        }\r\n    \r\n        @Override\r\n        public void updateMenu(DailyMenu dailyMenu,MenuItem updateMenuItem,String itemName) {\r\n            dailyMenu.getMenuItemList().stream()\r\n                                        .filter(menuItem -&gt; menuItem.getNames().equals(itemName))\r\n                                        .findFirst()\r\n                                        .ifPresentOrElse(menuItem -&gt; {\r\n                                            menuItem.setNames(updateMenuItem.getNames());\r\n                                            menuItem.setPrice(updateMenuItem.getPrice());\r\n                                            menuItem.setDescription(updateMenuItem.getDescription());\r\n                                            menuItem.setImage(updateMenuItem.getImage());\r\n                                        },()-&gt;{\r\n                                            throw new NullPointerException(&quot;Wrong menu Item name !!!&quot;);\r\n                                        });\r\n        }\r\n    \r\n        @Override\r\n        public void deleteMenu(DailyMenu dailyMenu,String itemName) {\r\n            dailyMenu.getMenuItemList().removeIf(menuItem -&gt;\r\n                    menuItem.getNames().equals(itemName));\r\n        }\r\n    }\r\n\r\n","title":"Does this Java projects follow the MVC pattern?","body":"<p>I am writing the Restaurant Management homework which must be following the MVC pattern. My <code>Menu</code> model has two parts: drink menu and food menu.</p>\n<p>With food menu, it separates into three different types of menu: Breakfast, Lunch and Dinner menu. About the drink menu, it also divide into two different menu: Alcohol and Soft drink menu.</p>\n<p>Each menu has the same CRUD operation therefore, I wrote one father class and extend five models from it, therefore, I only need to write one method for father class and change the parameter for methods and they will work the same way.</p>\n<p>However, I don't know that my structure has been following the MVC structure or not? And should I write the exception handling in the View of MVC structure or should I write it in controller? Thanks for your support.</p>\n<p><strong>My supper models :</strong></p>\n<pre><code>public class DailyMenu implements Serializable {\n        private List&lt;MenuItem&gt; menuItemList;\n        public DailyMenu(List&lt;MenuItem&gt; menuItemList){\n            this.menuItemList = menuItemList;\n        }\n        public DailyMenu(){\n            this.menuItemList = new ArrayList&lt;&gt;();\n        }\n        public List&lt;MenuItem&gt; getMenuItemList() {\n            return menuItemList;\n        }\n    \n        public void setMenuItemList(List&lt;MenuItem&gt; menuItemList) {\n            this.menuItemList = menuItemList;\n        }\n    }\n</code></pre>\n<p><strong>Menu View:</strong></p>\n<pre><code>public class MenuView {\n    private Scanner scanner = new Scanner(System.in);\n    private DailyMenuServices dailyMenuServices = new DailyMenuServicesImpl();\n\n\n    public DailyMenu getMenuTypes(Menu menu){;\n        menu();\n        int option = Integer.parseInt(scanner.nextLine());\n        MenuTypes menuTypes = MenuTypes.get(option-1);\n        switch (menuTypes){\n            case FOODMENU -&gt; {return getFoodMenuTypes(menu.getFoodMenu());}\n            case DRINKMENU -&gt; {return getDrinkMenuTypes(menu.getDrinkMenu());}\n            default -&gt; {return null;}\n        }\n    }\n    public DailyMenu getFoodMenuTypes(FoodMenu foodMenu){\n        foodMenu();\n        int option = Integer.parseInt(scanner.nextLine());\n        FoodMenuTypes foodMenuTypes = FoodMenuTypes.get(option-1);\n\n        switch (foodMenuTypes){\n            case BREAKFASTMENU -&gt; {return foodMenu.getBreakfastMenu();}\n            case LUNCHMENU -&gt; {return foodMenu.getLunchMenu();}\n            case DINNERMENU -&gt; {return foodMenu.getDinnerMenu();}\n            default -&gt; {return null;}\n        }\n    }\n    public DailyMenu getDrinkMenuTypes(DrinkMenu drinkMenu){\n        drinkMenu();\n        int option = Integer.parseInt(scanner.nextLine());\n        DrinkMenuTypes drinkMenuTypes = DrinkMenuTypes.get(option-1);\n        switch (drinkMenuTypes){\n            case ALCOHOL -&gt; { return drinkMenu.getAlcohol();}\n            case SOFTDRINK -&gt; {return drinkMenu.getSoftDrinks();}\n            default -&gt; {return null;}\n        }\n    }\n    public MenuItem createMenuItem(){\n        MenuItem menuItem = new MenuItem();\n        System.out.print(&quot;\\n Insert food name: &quot;);\n        menuItem.setNames(scanner.nextLine());\n        System.out.print(&quot; Insert food description: &quot;);\n        menuItem.setDescription(scanner.nextLine());\n        System.out.print(&quot; Insert food image: &quot;);\n        menuItem.setImage(scanner.nextLine());\n        System.out.print(&quot; Insert food price: &quot;);\n        menuItem.setPrice(Float.parseFloat(scanner.nextLine()));\n        return menuItem;\n    }\n    public String getMenuItemName(){\n        System.out.print(&quot;Insert Menu item you want to change: &quot;);\n        return scanner.nextLine();\n    }\n\n    public static void menu(){\n        System.out.println(&quot;\\n 1. Food Menu&quot;);\n        System.out.println(&quot; 2. Drink Menu&quot;);\n        System.out.print(&quot; Choose your option:&quot;);\n    }\n    public static void drinkMenu(){\n        System.out.println(&quot;1. Alcohol Menu&quot;);\n        System.out.println(&quot;2. Soft drink Menu&quot;);\n        System.out.print(&quot;Choose which menu you want to make change:&quot;);\n    }\n    public static void foodMenu(){\n        System.out.println(&quot;\\n1. Breakfast Menu&quot;);\n        System.out.println(&quot;2. Lunch Menu&quot;);\n        System.out.println(&quot;3. Dinner Menu&quot;);\n        System.out.print(&quot;\\nChoose which menu you want to add:&quot;);\n    }\n}\n</code></pre>\n<p><strong>My Menu Service:</strong></p>\n<pre><code>public class DailyMenuServicesImpl implements DailyMenuServices {\n    @Override\n    public void addMenuItemsToMenu(DailyMenu dailyMenu,MenuItem menuItem) {\n        List&lt;MenuItem&gt; menuItemList = dailyMenu.getMenuItemList();\n        menuItemList.add(menuItem);\n    }\n\n    @Override\n    public void updateMenu(DailyMenu dailyMenu,MenuItem updateMenuItem,String itemName) {\n\n        dailyMenu.getMenuItemList().forEach((MenuItem menuItem)-&gt;{\n            if(menuItem.getNames().equals(itemName)){\n                dailyMenu.getMenuItemList().set(dailyMenu.getMenuItemList().indexOf(menuItem),updateMenuItem);\n            }\n        });\n    }\n\n    @Override\n    public void deleteMenu(DailyMenu dailyMenu,String itemName) {\n        dailyMenu.getMenuItemList().removeIf(menuItem -&gt;\n                menuItem.getNames().equals(itemName));\n    }\n}\n</code></pre>\n<p><strong>My Main method:</strong></p>\n<pre><code>    public class Main {\n        private static Scanner scanner = new Scanner(System.in);\n    \n        public static void main(String[] args) throws IOException {\n            int option;\n            Menu menu = new Menu();\n            Bill bill = new Bill();\n            while (true){\n                System.out.println(&quot;\\n1.Menu management&quot;);\n                System.out.println(&quot;2.Bill management&quot;);\n                System.out.print(&quot;Please choose which types Management you want to work with:&quot;);\n                option = Integer.parseInt(scanner.nextLine());\n                ManagementTypes types = ManagementTypes.get(option-1);\n                switch (types){\n                    case MENU -&gt; menuMain(menu);\n                    case BILL -&gt; billMain(bill,menu);\n                    default -&gt; {}\n                }\n            }\n        }\n        public static void billMain(Bill bill, Menu menu) throws IOException{\n            int option = 0;\n            BillServices billServices = new BillServicesImpl();\n            BillPrinter billPrinter = new BillPrinterImpl();\n            BillFileHandlingServices billFileHandlingServices = new BillFileHandlingServicesImpl();\n            MenuView menuView = new MenuView();\n            BillView billView = new BillView();\n            MenuPrinter menuPrinter = new MenuPrinterImpl();\n            try {\n                while (option != 7){\n    \n                    System.out.println(&quot;\\nBill management&quot;);\n                    System.out.println(&quot;1. Create Bill &quot;);\n                    System.out.println(&quot;2. Update Bill &quot;);\n                    System.out.println(&quot;3. Delete Bill&quot;);\n                    System.out.println(&quot;4. Show Bill&quot;);\n                    System.out.println(&quot;5. Export bill&quot;);\n                    System.out.println(&quot;6. Import bill&quot;);\n                    System.out.println(&quot;7. To escape&quot;);\n                    System.out.print(&quot;\\nChoose your option:&quot;);\n                    option = Integer.parseInt(scanner.nextLine());\n    \n                    ManagementActions actions = ManagementActions.get(option-1);\n                    switch (actions){\n                        case CREATE -&gt; {\n                            menuPrinter.printMenu(menu);\n                            DailyMenu dailyMenu = menuView.getMenuTypes(menu);\n                            menuPrinter.printMenu(dailyMenu);\n                            BillItems billItems = billView.createBillItem(dailyMenu);\n                            billServices.addBill(bill,billItems);\n                        }\n                        case UPDATE -&gt; {\n                            billPrinter.printBill(bill);\n                            DailyMenu dailyMenu = menuView.getMenuTypes(menu);\n                            BillItems billItems = billView.createBillItem(dailyMenu);\n                            String itemName = billView.getBillItemName();\n                            billServices.updateBill(bill,billItems,itemName);\n                        }\n                        case DELETE -&gt; {\n                            billPrinter.printBill(bill);\n                            String itemName = billView.getBillItemName();\n                            billServices.deleteBillItems(bill,itemName);\n                        }\n                        case SHOW -&gt; billPrinter.printBill(bill);\n                        case EXPORT -&gt; billFileHandlingServices.exportBill(bill);\n                        case IMPORT -&gt; {\n                            Bill importBill = billFileHandlingServices.importBill();\n                            billPrinter.printBill(importBill);\n                        }\n                        case BREAK -&gt; {}\n                    }\n                }\n            }catch (NullPointerException | IllegalStateException | InputMismatchException | NumberFormatException exception){\n                System.out.println(exception.getMessage());\n            }\n        }\n        public static void menuMain(Menu menu) throws IOException{\n            int option = 0;\n            DailyMenuServices dailyMenuServices = new DailyMenuServicesImpl();\n            MenuView menuView = new MenuView();\n            MenuPrinter menuPrinter = new MenuPrinterImpl();\n            MenuFileHandlingServices menuFileHandlingServices = new MenuFileHandlingServicesImpl();\n            try {\n                while (option != 7) {\n                    System.out.println(&quot;\\nMenu management&quot;);\n                    System.out.println(&quot;1. Create Menu Items&quot;);\n                    System.out.println(&quot;2. Update Menu Items&quot;);\n                    System.out.println(&quot;3. Delete Menu Items&quot;);\n                    System.out.println(&quot;4. Show Menu Items&quot;);\n                    System.out.println(&quot;5. Export Menu&quot;);\n                    System.out.println(&quot;6. Import Menu&quot;);\n                    System.out.println(&quot;7. To escape&quot;);\n                    System.out.print(&quot;\\nChoose your option:&quot;);\n                    option = Integer.parseInt(scanner.nextLine());\n                    ManagementActions actions = ManagementActions.get(option - 1);\n                    switch (actions) {\n                        case CREATE -&gt; {\n                            MenuItem menuItem = menuView.createMenuItem();\n                            DailyMenu dailyMenu = menuView.getMenuTypes(menu);\n                            dailyMenuServices.addMenuItemsToMenu(dailyMenu,menuItem);\n                        }\n                        case UPDATE -&gt; {\n                            menuPrinter.printMenu(menu);\n                            MenuItem menuItem = menuView.createMenuItem();\n                            DailyMenu dailyMenu = menuView.getMenuTypes(menu);\n                            menuPrinter.printMenu(dailyMenu);\n                            String itemName = menuView.getMenuItemName();\n                            dailyMenuServices.updateMenu(dailyMenu,menuItem,itemName);\n                        }\n                        case DELETE -&gt; {\n                            menuPrinter.printMenu(menu);\n                            DailyMenu dailyMenu = menuView.getMenuTypes(menu);\n                            menuPrinter.printMenu(dailyMenu);\n                            String itemName = menuView.getMenuItemName();\n                            dailyMenuServices.deleteMenu(dailyMenu,itemName);\n                        }\n                        case SHOW -&gt; menuPrinter.printMenu(menu);\n                        case EXPORT -&gt; menuFileHandlingServices.exportMenu(menu);\n                        case IMPORT -&gt; {\n                            Menu importMenu = menuFileHandlingServices.importMenu();\n                            menuPrinter.printMenu(importMenu);\n                        }\n                        case BREAK -&gt; {}\n                    }\n                }\n            }catch (NullPointerException | IllegalStateException | NumberFormatException exception){\n                System.out.println(exception.getMessage());\n            }\n        }\n    }\n</code></pre>\n<p><strong>Edit:</strong></p>\n<p><strong>Main class:</strong></p>\n<pre><code>public static void menuMain(Menu menu) throws IOException{\n        int option = 0;\n        MenuControllers menuControllers =  new MenuControllers();\n        MenuPrinter menuPrinter = MenuPrinterImpl.getInstance();\n\n        try {\n            while (option != 7) {\n\n                menu();\n                option = Integer.parseInt(scanner.nextLine());\n\n                ManagementActions actions = ManagementActions.get(option - 1);\n                switch (actions) {\n                    case CREATE -&gt; menuControllers.add(menu);\n                    case UPDATE -&gt;menuControllers.update(menu);\n                    case DELETE -&gt; menuControllers.delete(menu);\n                    case SHOW -&gt; menuControllers.showMenu(menu);\n                    case EXPORT -&gt; menuControllers.exportFile(menu);\n                    case IMPORT -&gt; {\n                        Menu importMenu = menuControllers.importFile();\n                        menuControllers.showMenu(importMenu);\n                    }\n                    case BREAK -&gt; {}\n                }\n            }\n        }catch (NullPointerException | IllegalStateException | NumberFormatException exception){\n            System.out.println(exception.getMessage());\n        }\n    }\n\n\n    public static void menu(){\n        System.out.println(&quot;\\nMenu management&quot;);\n        System.out.println(&quot;1. Create Menu Items&quot;);\n        System.out.println(&quot;2. Update Menu Items&quot;);\n        System.out.println(&quot;3. Delete Menu Items&quot;);\n        System.out.println(&quot;4. Show Menu Items&quot;);\n        System.out.println(&quot;5. Export Menu&quot;);\n        System.out.println(&quot;6. Import Menu&quot;);\n        System.out.println(&quot;7. To escape&quot;);\n        System.out.print(&quot;\\nChoose your option:&quot;);\n    }\n</code></pre>\n<p><strong>My Menu controller:</strong></p>\n<pre><code>public class MenuControllers {\n    private final MenuView view;\n    private final DailyMenuServices  dailyMenuServices;\n    private final MenuFileHandlingServices menuFileHandlingServices ;\n    public MenuControllers(){\n        this.view  = MenuView.getInstance();\n        this.dailyMenuServices = DailyMenuServicesImpl.getInstance();\n        this.menuFileHandlingServices = MenuFileHandlingServicesImpl.getInstance();\n    }\n\n    public void add(Menu menu){\n        MenuItem  menuItem = view.createMenuItem();\n        int option = view.getMenuTypes();\n        MenuTypes menuTypes = MenuTypes.get(option-1);\n        switch (menuTypes){\n            case FOODMENU -&gt; addToFoodMenu(menu.getFoodMenu(),menuItem);\n            case DRINKMENU -&gt; addToDrinkMenu(menu.getDrinkMenu(),menuItem);\n        }\n    }\n    public void addToDrinkMenu(DrinkMenu drinkMenu, MenuItem menuItem){\n        int option = view.getDrinkMenuTypes();\n        DrinkMenuTypes drinkMenuTypes = DrinkMenuTypes.get(option-1);\n        switch (drinkMenuTypes){\n            case ALCOHOL -&gt; dailyMenuServices.addMenuItemsToMenu(drinkMenu.getAlcohol(),menuItem);\n            case SOFTDRINK -&gt; dailyMenuServices.addMenuItemsToMenu(drinkMenu.getSoftDrinks(),menuItem);\n        }\n    }\n\n    public void addToFoodMenu(FoodMenu foodMenu, MenuItem menuItem){\n        int option = view.getFoodMenuTypes();\n        FoodMenuTypes foodMenuTypes = FoodMenuTypes.get(option-1);\n        switch (foodMenuTypes){\n            case BREAKFASTMENU -&gt; dailyMenuServices.addMenuItemsToMenu(foodMenu.getBreakfastMenu(),menuItem);\n            case LUNCHMENU -&gt; dailyMenuServices.addMenuItemsToMenu(foodMenu.getLunchMenu(),menuItem);\n            case DINNERMENU -&gt; dailyMenuServices.addMenuItemsToMenu(foodMenu.getDinnerMenu(),menuItem);\n        }\n    }\n\n    public void update(Menu menu){\n        view.printMenu(menu);\n        String foodName = view.getMenuItemName();\n        MenuItem  menuItem = view.createMenuItem();\n        int option = view.getMenuTypes();\n        MenuTypes menuTypes = MenuTypes.get(option-1);\n        switch (menuTypes){\n            case FOODMENU -&gt; updateToFoodMenu(menu.getFoodMenu(),menuItem,foodName);\n            case DRINKMENU -&gt; updateToDrinkMenu(menu.getDrinkMenu(),menuItem,foodName);\n        }\n    }\n    public void updateToDrinkMenu(DrinkMenu drinkMenu, MenuItem menuItem,String foodName){\n        int option = view.getDrinkMenuTypes();\n        DrinkMenuTypes drinkMenuTypes = DrinkMenuTypes.get(option-1);\n        switch (drinkMenuTypes){\n            case ALCOHOL -&gt; dailyMenuServices.updateMenu(drinkMenu.getAlcohol(),menuItem,foodName);\n            case SOFTDRINK -&gt; dailyMenuServices.updateMenu(drinkMenu.getSoftDrinks(),menuItem,foodName);\n        }\n    }\n\n    public void updateToFoodMenu(FoodMenu foodMenu, MenuItem menuItem,String foodName){\n        int option = view.getFoodMenuTypes();\n        FoodMenuTypes foodMenuTypes = FoodMenuTypes.get(option-1);\n        switch (foodMenuTypes){\n            case BREAKFASTMENU -&gt; dailyMenuServices.updateMenu(foodMenu.getBreakfastMenu(),menuItem,foodName);\n            case LUNCHMENU -&gt; dailyMenuServices.updateMenu(foodMenu.getLunchMenu(),menuItem,foodName);\n            case DINNERMENU -&gt; dailyMenuServices.updateMenu(foodMenu.getDinnerMenu(),menuItem,foodName);\n        }\n    }\n\n    public void delete(Menu menu){\n        view.printMenu(menu);\n        String foodName = view.getMenuItemName();\n        int option = view.getMenuTypes();\n        MenuTypes menuTypes = MenuTypes.get(option-1);\n\n        switch (menuTypes){\n            case FOODMENU -&gt; deleteToFoodMenu(menu.getFoodMenu(),foodName);\n            case DRINKMENU -&gt; deleteToDrinkMenu(menu.getDrinkMenu(),foodName);\n        }\n    }\n    public void deleteToDrinkMenu(DrinkMenu drinkMenu,String foodName){\n        int option = view.getDrinkMenuTypes();\n        DrinkMenuTypes drinkMenuTypes = DrinkMenuTypes.get(option-1);\n        switch (drinkMenuTypes){\n            case ALCOHOL -&gt; dailyMenuServices.deleteMenu(drinkMenu.getAlcohol(),foodName);\n            case SOFTDRINK -&gt; dailyMenuServices.deleteMenu(drinkMenu.getSoftDrinks(),foodName);\n        }\n    }\n\n    public void deleteToFoodMenu(FoodMenu foodMenu,String foodName){\n        int option = view.getFoodMenuTypes();\n        FoodMenuTypes foodMenuTypes = FoodMenuTypes.get(option-1);\n        switch (foodMenuTypes){\n            case BREAKFASTMENU -&gt; dailyMenuServices.deleteMenu(foodMenu.getBreakfastMenu(),foodName);\n            case LUNCHMENU -&gt; dailyMenuServices.deleteMenu(foodMenu.getLunchMenu(),foodName);\n            case DINNERMENU -&gt; dailyMenuServices.deleteMenu(foodMenu.getDinnerMenu(),foodName);\n        }\n    }\n    public void showMenu(Menu menu){\n        view.printMenu(menu);\n    }\n    public void exportFile(Menu menu) throws IOException {\n        menuFileHandlingServices.exportMenu(menu);\n    }\n\n    public Menu importFile() throws IOException {\n        return menuFileHandlingServices.importMenu();\n    }\n}\n</code></pre>\n<p><strong>My Menu view:</strong></p>\n<pre><code>public class MenuView {\n    private Scanner scanner = new Scanner(System.in);\n    private final MenuPrinter menuPrinter = MenuPrinterImpl.getInstance();\n\n    private MenuView(){ }\n    public static MenuView getInstance(){\n\n        return MenuViewHelper.menuView;\n    }\n    public static class MenuViewHelper{\n        private static final MenuView menuView = new MenuView();\n    }\n    public int getMenuTypes(){\n        menu();\n        return Integer.parseInt(scanner.nextLine());\n    }\n    public int getFoodMenuTypes(){\n        foodMenu();\n        return Integer.parseInt(scanner.nextLine());\n    }\n    public int getDrinkMenuTypes(){\n        drinkMenu();\n        return Integer.parseInt(scanner.nextLine());\n    }\n    public MenuItem createMenuItem(){\n        MenuItem menuItem = new MenuItem();\n        System.out.print(&quot;\\n Insert food name: &quot;);\n        menuItem.setNames(scanner.nextLine());\n        System.out.print(&quot; Insert food description: &quot;);\n        menuItem.setDescription(scanner.nextLine());\n        System.out.print(&quot; Insert food image: &quot;);\n        menuItem.setImage(scanner.nextLine());\n        System.out.print(&quot; Insert food price: &quot;);\n        menuItem.setPrice(Float.parseFloat(scanner.nextLine()));\n        return menuItem;\n    }\n    public String getMenuItemName(){\n        System.out.print(&quot;Insert Menu item you want to change: &quot;);\n        return scanner.nextLine();\n    }\n    public void printMenu(Menu menu){\n        menuPrinter.printMenu(menu);\n    }\n\n    public static void menu(){\n        System.out.println(&quot;\\n 1. Food Menu&quot;);\n        System.out.println(&quot; 2. Drink Menu&quot;);\n        System.out.print(&quot; Choose your option:&quot;);\n    }\n    public static void drinkMenu(){\n        System.out.println(&quot;1. Alcohol Menu&quot;);\n        System.out.println(&quot;2. Soft drink Menu&quot;);\n        System.out.print(&quot;Choose which menu you want to use:&quot;);\n    }\n    public static void foodMenu(){\n        System.out.println(&quot;\\n1. Breakfast Menu&quot;);\n        System.out.println(&quot;2. Lunch Menu&quot;);\n        System.out.println(&quot;3. Dinner Menu&quot;);\n        System.out.print(&quot;\\nChoose which menu you want to use:&quot;);\n    }\n\n}\n</code></pre>\n<p><strong>My new Menu service:</strong></p>\n<pre><code>public class DailyMenuServicesImpl implements DailyMenuServices {\n\n    private DailyMenuServicesImpl(){}\n    public static DailyMenuServicesImpl getInstance(){\n        return DailyMenuServicesImplHelper.dailyMenuServicesImpl;\n    }\n    private static class DailyMenuServicesImplHelper{\n        private static final DailyMenuServicesImpl dailyMenuServicesImpl = new DailyMenuServicesImpl();\n    }\n    @Override\n    public void addMenuItemsToMenu(DailyMenu dailyMenu,MenuItem menuItem) {\n        List&lt;MenuItem&gt; menuItemList = dailyMenu.getMenuItemList();\n        menuItemList.add(menuItem);\n    }\n\n    @Override\n    public void updateMenu(DailyMenu dailyMenu,MenuItem updateMenuItem,String itemName) {\n        dailyMenu.getMenuItemList().stream()\n                                    .filter(menuItem -&gt; menuItem.getNames().equals(itemName))\n                                    .findFirst()\n                                    .ifPresentOrElse(menuItem -&gt; {\n                                        menuItem.setNames(updateMenuItem.getNames());\n                                        menuItem.setPrice(updateMenuItem.getPrice());\n                                        menuItem.setDescription(updateMenuItem.getDescription());\n                                        menuItem.setImage(updateMenuItem.getImage());\n                                    },()-&gt;{\n                                        throw new NullPointerException(&quot;Wrong menu Item name !!!&quot;);\n                                    });\n    }\n\n    @Override\n    public void deleteMenu(DailyMenu dailyMenu,String itemName) {\n        dailyMenu.getMenuItemList().removeIf(menuItem -&gt;\n                menuItem.getNames().equals(itemName));\n    }\n}\n</code></pre>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1670204518,"post_id":74680783,"comment_id":131814636,"body_markdown":"Please don&#39;t post images of code, errors, logs, or other text; see [ask]. Also, &quot;doesn&#39;t work&quot; is not a helpful problem description. What happens when you run your code, and what did you expect to happen instead? Any errors?","body":"Please don&#39;t post images of code, errors, logs, or other text; see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. Also, &quot;doesn&#39;t work&quot; is not a helpful problem description. What happens when you run your code, and what did you expect to happen instead? Any errors?"}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1670204771,"creation_date":1670204771,"answer_id":74682552,"question_id":74680783,"body_markdown":"First you should install the full [Java extension pack][1]. A good option to start with is according to this [documentation][2].\r\n\r\nYou can tell by your terminal commands that you are running code with the ***Code Runner*** extension. in the absence of special needs, You shouldn&#39;t be using ***Code Runner***, it&#39;s more efficient to run code using the official Java extension pack.\r\n\r\n[![enter image description here][3]][3]\r\n\r\nAlso, as *@readtheentireinternet* said, your class names should match the file names.\r\n\r\n\r\n  [1]: https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack\r\n  [2]: https://code.visualstudio.com/docs/java/java-tutorial\r\n  [3]: https://i.stack.imgur.com/ChKVr.png","title":"java task provider missing","body":"<p>First you should install the full <a href=\"https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack\" rel=\"nofollow noreferrer\">Java extension pack</a>. A good option to start with is according to this <a href=\"https://code.visualstudio.com/docs/java/java-tutorial\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n<p>You can tell by your terminal commands that you are running code with the <em><strong>Code Runner</strong></em> extension. in the absence of special needs, You shouldn't be using <em><strong>Code Runner</strong></em>, it's more efficient to run code using the official Java extension pack.</p>\n<p><a href=\"https://i.stack.imgur.com/ChKVr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ChKVr.png\" alt=\"enter image description here\" /></a></p>\n<p>Also, as <em>@readtheentireinternet</em> said, your class names should match the file names.</p>\n"}],"owner":{"account_id":26821766,"reputation":11,"user_id":20410987,"display_name":"Josel xavier"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3237,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":74682552,"answer_count":1,"score":-2,"last_activity_date":1670204771,"creation_date":1670186814,"question_id":74680783,"body_markdown":"In my vs code the java is not supporting. there is some error. I can&#39;t understand and can&#39;t solve it.\r\n\r\n[![the error showing in the terminal](https://i.stack.imgur.com/YXSrx.png)](https://i.stack.imgur.com/YXSrx.png)\r\n\r\n\r\n[![the error showing in the terminal](https://i.stack.imgur.com/XZzsk.png)](https://i.stack.imgur.com/XZzsk.png)\r\n\r\nHow should i run java in vs code? I reffered lote of youtube video&#39;s and blogs but nothing is working.\r\n\r\nguide to proper working java on vs code","title":"java task provider missing","body":"<p>In my vs code the java is not supporting. there is some error. I can't understand and can't solve it.</p>\n<p><a href=\"https://i.stack.imgur.com/YXSrx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YXSrx.png\" alt=\"the error showing in the terminal\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/XZzsk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XZzsk.png\" alt=\"the error showing in the terminal\" /></a></p>\n<p>How should i run java in vs code? I reffered lote of youtube video's and blogs but nothing is working.</p>\n<p>guide to proper working java on vs code</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":2,"creation_date":1670195468,"post_id":74681780,"comment_id":131813459,"body_markdown":"This is what interfaces are for. Declare the interface and then have each class implement the interface. It might also make sense to make the fruit classes subclasses of some common base class. [What is a Java interface?](https://stackoverflow.com/q/1321122/238704)","body":"This is what interfaces are for. Declare the interface and then have each class implement the interface. It might also make sense to make the fruit classes subclasses of some common base class. <a href=\"https://stackoverflow.com/q/1321122/238704\">What is a Java interface?</a>"},{"owner":{"account_id":24983560,"reputation":410,"user_id":18845587,"display_name":"Tindona"},"score":0,"creation_date":1670195583,"post_id":74681780,"comment_id":131813476,"body_markdown":"actually, each class is an interface but I don&#39;t know how to do this @PresidentJamesK.Polk","body":"actually, each class is an interface but I don&#39;t know how to do this @PresidentJamesK.Polk"},{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1670195626,"post_id":74681780,"comment_id":131813480,"body_markdown":"That doesn&#39;t make sense, they do not implement any interfaces according to the code you posted.","body":"That doesn&#39;t make sense, they do not implement any interfaces according to the code you posted."},{"owner":{"account_id":24983560,"reputation":410,"user_id":18845587,"display_name":"Tindona"},"score":0,"creation_date":1670195807,"post_id":74681780,"comment_id":131813510,"body_markdown":"@PresidentJamesK.Polk I edited the code, Apple orange and kiwi are interfaces, but I cant understand where to put the interface that you mentioned","body":"@PresidentJamesK.Polk I edited the code, Apple orange and kiwi are interfaces, but I cant understand where to put the interface that you mentioned"},{"owner":{"account_id":27063171,"reputation":264,"user_id":20614914,"display_name":"SilicDev"},"score":0,"creation_date":1670196228,"post_id":74681780,"comment_id":131813571,"body_markdown":"you note that you do calculations in the showSpecification method, however default methods in interfaces need a default modifier in front of the return type. Are you sure these are interfaces?","body":"you note that you do calculations in the showSpecification method, however default methods in interfaces need a default modifier in front of the return type. Are you sure these are interfaces?"},{"owner":{"account_id":24983560,"reputation":410,"user_id":18845587,"display_name":"Tindona"},"score":0,"creation_date":1670196305,"post_id":74681780,"comment_id":131813585,"body_markdown":"@SilicDev yes they are interface for a data table, I tried to simplify the codes","body":"@SilicDev yes they are interface for a data table, I tried to simplify the codes"}],"answers":[{"tags":[],"owner":{"account_id":27063171,"reputation":264,"user_id":20614914,"display_name":"SilicDev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670196623,"creation_date":1670195753,"answer_id":74681824,"question_id":74681780,"body_markdown":"Interfaces can extend each other as such you could add a common interface `Fruit` to group them together.\r\n\r\nExample interface:\r\n```java-lang\r\npublic interface Fruit {\r\n    String showSpecifications();\r\n}\r\n```\r\n\r\nEach fruit would then need to add `extends Fruit` and `showObjSpec`could then just accept a `Fruit` object as parameter.\r\n\r\n```java-lang\r\npublic interface Apple extends Fruit {\r\n\r\n    default String showSpecifications(){\r\n\r\n    // some calculations\r\n    }\r\n}\r\npublic interface Orange extends Fruit {\r\n\r\n    default String showSpecifications(){\r\n\r\n    // some calculations\r\n    }\r\n}\r\npublic interface Kiwi extends Fruit {\r\n\r\n    default String showSpecifications(){\r\n\r\n    // some calculations\r\n    }\r\n}\r\n```","title":"flexible input for java function","body":"<p>Interfaces can extend each other as such you could add a common interface <code>Fruit</code> to group them together.</p>\n<p>Example interface:</p>\n<pre><code>public interface Fruit {\n    String showSpecifications();\n}\n</code></pre>\n<p>Each fruit would then need to add <code>extends Fruit</code> and <code>showObjSpec</code>could then just accept a <code>Fruit</code> object as parameter.</p>\n<pre><code>public interface Apple extends Fruit {\n\n    default String showSpecifications(){\n\n    // some calculations\n    }\n}\npublic interface Orange extends Fruit {\n\n    default String showSpecifications(){\n\n    // some calculations\n    }\n}\npublic interface Kiwi extends Fruit {\n\n    default String showSpecifications(){\n\n    // some calculations\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670195866,"creation_date":1670195866,"answer_id":74681837,"question_id":74681780,"body_markdown":"Java is strictly type based; it has no functionality whatsoever to refer to the idea of &#39;I accept any type, as long as it has a `showSpcifications` method&#39;. See below the fold for why that is.\r\n\r\nHence, you.. make a type!\r\n```\r\npublic interface Specified {\r\n  // NB: &#39;showSpecifications&#39; is a bad name;\r\n  // it suggests calling that method shows specs.\r\n  // it doesn&#39;t - it returns them. hence, getSpecifications is better.\r\n  String getSpecifications();\r\n}\r\n```\r\nThen have each type implement that interface:\r\n\r\n```\r\npublic class Kiwi {\r\n  @Override public String getSpecifications() {\r\n    // some calculations\r\n  }\r\n}\r\n```\r\n\r\nNow you can write a method that takes anything that implements this:\r\n\r\n```\r\npublic void showObjSpec(Specified s) {\r\n  System.out.println(s.getSpecifications());\r\n}\r\n```\r\n\r\nDepending on the behaviour your new interface actually described, perhaps &#39;Fruit&#39; would be a better name.\r\n\r\n-----\r\n\r\nIf java did do &#39;just accept anything with an x method in it&#39;, you could say: &quot;Anything with a `shoot(Person p)` method in it&quot;, and then given:\r\n\r\n```\r\nclass Camera {\r\n  void shoot(Person p) { ... }\r\n}\r\n\r\nclass Gun {\r\n  void shoot(Person p) { ... }\r\n}\r\n```\r\n\r\nvery, _very_ bad things happen. Types are namespaced (they get a package description that serves to avoid collisions) but method names do not. hence, java does not let you create type-esque constructs that let you refer to &#39;anything with an x method&#39;. Some languages do (this is called &#39;structural typing&#39;). Java is not one of those languages that lets you accidentally murder your friends when all you intended to do, was make a picture.\r\n","title":"flexible input for java function","body":"<p>Java is strictly type based; it has no functionality whatsoever to refer to the idea of 'I accept any type, as long as it has a <code>showSpcifications</code> method'. See below the fold for why that is.</p>\n<p>Hence, you.. make a type!</p>\n<pre><code>public interface Specified {\n  // NB: 'showSpecifications' is a bad name;\n  // it suggests calling that method shows specs.\n  // it doesn't - it returns them. hence, getSpecifications is better.\n  String getSpecifications();\n}\n</code></pre>\n<p>Then have each type implement that interface:</p>\n<pre><code>public class Kiwi {\n  @Override public String getSpecifications() {\n    // some calculations\n  }\n}\n</code></pre>\n<p>Now you can write a method that takes anything that implements this:</p>\n<pre><code>public void showObjSpec(Specified s) {\n  System.out.println(s.getSpecifications());\n}\n</code></pre>\n<p>Depending on the behaviour your new interface actually described, perhaps 'Fruit' would be a better name.</p>\n<hr />\n<p>If java did do 'just accept anything with an x method in it', you could say: &quot;Anything with a <code>shoot(Person p)</code> method in it&quot;, and then given:</p>\n<pre><code>class Camera {\n  void shoot(Person p) { ... }\n}\n\nclass Gun {\n  void shoot(Person p) { ... }\n}\n</code></pre>\n<p>very, <em>very</em> bad things happen. Types are namespaced (they get a package description that serves to avoid collisions) but method names do not. hence, java does not let you create type-esque constructs that let you refer to 'anything with an x method'. Some languages do (this is called 'structural typing'). Java is not one of those languages that lets you accidentally murder your friends when all you intended to do, was make a picture.</p>\n"},{"tags":[],"owner":{"account_id":9455666,"reputation":19,"user_id":7031060,"display_name":"said"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670201191,"creation_date":1670201191,"answer_id":74682266,"question_id":74681780,"body_markdown":"you should implement the inheritance in your code so that all subclasses get the method name from the superclass your code should be like that : \r\n\r\n    public interface Fruit {\r\n     String showSpecifications()\r\n    }\r\n    public class Apple implements Fruit{\r\n    \r\n     String showSpecifications(){\r\n    \r\n    // some calculations\r\n     }\r\n    }\r\n    public class Orange implements Fruit{\r\n    \r\n     String showSpecifications(){\r\n    \r\n     // some calculations\r\n     }\r\n    }\r\n    public class Kiwi implements Fruit {\r\n    \r\n     String showSpecifications(){\r\n    \r\n     // some calculations\r\n     }\r\n    }\r\nthen you could execute your main method : \r\n\r\n    public void showObjSpec(Fruit fruit) {\r\n      System.out.println(fruit.showSpecifications());\r\n    }","title":"flexible input for java function","body":"<p>you should implement the inheritance in your code so that all subclasses get the method name from the superclass your code should be like that :</p>\n<pre><code>public interface Fruit {\n String showSpecifications()\n}\npublic class Apple implements Fruit{\n\n String showSpecifications(){\n\n// some calculations\n }\n}\npublic class Orange implements Fruit{\n\n String showSpecifications(){\n\n // some calculations\n }\n}\npublic class Kiwi implements Fruit {\n\n String showSpecifications(){\n\n // some calculations\n }\n}\n</code></pre>\n<p>then you could execute your main method :</p>\n<pre><code>public void showObjSpec(Fruit fruit) {\n  System.out.println(fruit.showSpecifications());\n}\n</code></pre>\n"}],"owner":{"account_id":24983560,"reputation":410,"user_id":18845587,"display_name":"Tindona"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":3,"score":-2,"last_activity_date":1670201191,"creation_date":1670195273,"question_id":74681780,"body_markdown":"I have three classes that they have a function with the same name. In another class I want to take the class as input and use that function, but I don&#39;t know how to do it. \r\nfor example:\r\n\r\n    public interface Apple {\r\n    \r\n    String showSpecifications(){\r\n    \r\n    // some calculations\r\n    }\r\n    }\r\n    public interface Orange {\r\n    \r\n    String showSpecifications(){\r\n    \r\n    // some calculations\r\n    }\r\n    }\r\n    public interface Kiwi {\r\n    \r\n    String showSpecifications(){\r\n    \r\n    // some calculations\r\n    }\r\n    }\r\n\r\nIn my fourth class I want a function like this:\r\n\r\n    public String showObjSpec(Object fruit) {\r\n    fruit.showSpecifications();\r\n    }\r\n\r\nThe problem is I don&#39;t know how to define the showObjSpec input type to be able to accept Apple, Orange, And Kiwi objects. Currently, it is obvious that I am getting an error that says class Object does not support showSpecifications() function.\r\n","title":"flexible input for java function","body":"<p>I have three classes that they have a function with the same name. In another class I want to take the class as input and use that function, but I don't know how to do it.\nfor example:</p>\n<pre><code>public interface Apple {\n\nString showSpecifications(){\n\n// some calculations\n}\n}\npublic interface Orange {\n\nString showSpecifications(){\n\n// some calculations\n}\n}\npublic interface Kiwi {\n\nString showSpecifications(){\n\n// some calculations\n}\n}\n</code></pre>\n<p>In my fourth class I want a function like this:</p>\n<pre><code>public String showObjSpec(Object fruit) {\nfruit.showSpecifications();\n}\n</code></pre>\n<p>The problem is I don't know how to define the showObjSpec input type to be able to accept Apple, Orange, And Kiwi objects. Currently, it is obvious that I am getting an error that says class Object does not support showSpecifications() function.</p>\n"},{"tags":["java","spring","hibernate","validation"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1670222256,"post_id":74681991,"comment_id":131817111,"body_markdown":"You shouldn&#39;t be checking the format with a validator, it should just fail in binding. You shouldn&#39;t use a `String` to store your date but a `LocalDate`. That way binding will fail. There are things you should use validation for and there are things that aren&#39;t. The format you shouldn&#39;t validate in this case.","body":"You shouldn&#39;t be checking the format with a validator, it should just fail in binding. You shouldn&#39;t use a <code>String</code> to store your date but a <code>LocalDate</code>. That way binding will fail. There are things you should use validation for and there are things that aren&#39;t. The format you shouldn&#39;t validate in this case."},{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":0,"creation_date":1670431027,"post_id":74681991,"comment_id":131876305,"body_markdown":"In slight opposition to @M.Deinum, I do recommend making all values coming in from your Command object to be of type String.  I feel that it is easier to handle/manage the error messages that are returned to the end users and in the order that you prefer.  I then have methods on the Command that are used to cast the values to the proper type.  Like `getAgeAsInt()`.","body":"In slight opposition to @M.Deinum, I do recommend making all values coming in from your Command object to be of type String.  I feel that it is easier to handle/manage the error messages that are returned to the end users and in the order that you prefer.  I then have methods on the Command that are used to cast the values to the proper type.  Like <code>getAgeAsInt()</code>."}],"answers":[{"tags":[],"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670199017,"creation_date":1670198604,"answer_id":74682078,"question_id":74681991,"body_markdown":"This is not totally what you asked, but the answer I wrote for a different validation question ([How to perform custom validations in Spring MVC?](https://stackoverflow.com/a/65206422/42962)) should work.\r\n\r\nI would look into the @GroupSequence annotation.\r\n\r\nBaeldung has a decent tutorial, [Grouping Javax Validation Constraints][1].\r\n\r\n\r\n  [1]: https://www.baeldung.com/javax-validation-groups","title":"Exit from spring validation chain when one validator returns false","body":"<p>This is not totally what you asked, but the answer I wrote for a different validation question (<a href=\"https://stackoverflow.com/a/65206422/42962\">How to perform custom validations in Spring MVC?</a>) should work.</p>\n<p>I would look into the @GroupSequence annotation.</p>\n<p>Baeldung has a decent tutorial, <a href=\"https://www.baeldung.com/javax-validation-groups\" rel=\"nofollow noreferrer\">Grouping Javax Validation Constraints</a>.</p>\n"}],"owner":{"account_id":23758310,"reputation":1,"user_id":17774116,"display_name":"kuna7"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670199017,"creation_date":1670197643,"question_id":74681991,"body_markdown":"I created 2 custom validators.\r\n\r\n```\r\n@Target(ElementType.FIELD)\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Documented\r\n@Constraint(validatedBy = ISODateValidator.class)\r\npublic @interface ISODateConstraint {\r\n    String message() default &quot;Field is not a valid iso date&quot;;\r\n    Class&lt;?&gt;[] groups() default {};\r\n    Class&lt;? extends Payload&gt;[] payload() default {};\r\n}\r\n```\r\n\r\n```\r\npublic class ISODateValidator implements ConstraintValidator&lt;ISODateConstraint, String&gt; {\r\n\r\n    @Override\r\n    public void initialize(ISODateConstraint constraintAnnotation) {\r\n        ConstraintValidator.super.initialize(constraintAnnotation);\r\n    }\r\n\r\n    @Override\r\n    public boolean isValid(String s, ConstraintValidatorContext constraintValidatorContext) {\r\n        try {\r\n            LocalDate.parse(s);\r\n        } catch (DateTimeParseException e) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@Target(ElementType.FIELD)\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Documented\r\n@Constraint(validatedBy = AgeValidator.class)\r\npublic @interface AgeConstraint {\r\n    String message() default &quot;Age is not in required range&quot;;\r\n    Class&lt;?&gt;[] groups() default {};\r\n    Class&lt;? extends Payload&gt;[] payload() default {};\r\n    int min();\r\n    int max();\r\n}\r\n```\r\n\r\n\r\n```\r\npublic class AgeValidator implements ConstraintValidator&lt;AgeConstraint, String&gt; {\r\n\r\n    private int min;\r\n    private int max;\r\n    @Override\r\n    public void initialize(AgeConstraint constraintAnnotation) {\r\n        this.min = constraintAnnotation.min();\r\n        this.max = constraintAnnotation.max();\r\n    }\r\n\r\n    @Override\r\n    public boolean isValid(String s, ConstraintValidatorContext constraintValidatorContext) {\r\n        LocalDate date;\r\n        try {\r\n             date = LocalDate.parse(s);\r\n        } catch (DateTimeParseException e) {\r\n            return false;\r\n        }\r\n        return ( LocalDate.now().minusYears(min).isAfter(date) || LocalDate.now().minusYears(min).isEqual(date))\r\n               &amp;&amp; ( LocalDate.now().minusYears(max).isBefore(date) || LocalDate.now().minusYears(max).isEqual(date));\r\n    }\r\n}\r\n```\r\n\r\nAnd used them on field\r\n\r\n```\r\n@AgeConstraint(min = 13, max = 100)\r\n@ISODateConstraint\r\nprivate String dateOfBirth;\r\n```\r\n\r\nI care about validation message so order of execution is relevant. Now when i provide string like &quot;2022-13-12&quot; validation should fail on ISODateConstraint and return related message. What i get is message related to AgeConstraint.\r\n\r\n\r\n\r\n\r\n\r\n\r\nI checked execution with debugger and ISODateValidator is always executing first and always returns false. Despite this execution goes further into ISODateValidator.","title":"Exit from spring validation chain when one validator returns false","body":"<p>I created 2 custom validators.</p>\n<pre><code>@Target(ElementType.FIELD)\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@Constraint(validatedBy = ISODateValidator.class)\npublic @interface ISODateConstraint {\n    String message() default &quot;Field is not a valid iso date&quot;;\n    Class&lt;?&gt;[] groups() default {};\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n<pre><code>public class ISODateValidator implements ConstraintValidator&lt;ISODateConstraint, String&gt; {\n\n    @Override\n    public void initialize(ISODateConstraint constraintAnnotation) {\n        ConstraintValidator.super.initialize(constraintAnnotation);\n    }\n\n    @Override\n    public boolean isValid(String s, ConstraintValidatorContext constraintValidatorContext) {\n        try {\n            LocalDate.parse(s);\n        } catch (DateTimeParseException e) {\n            return false;\n        }\n        return true;\n    }\n}\n</code></pre>\n<pre><code>@Target(ElementType.FIELD)\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@Constraint(validatedBy = AgeValidator.class)\npublic @interface AgeConstraint {\n    String message() default &quot;Age is not in required range&quot;;\n    Class&lt;?&gt;[] groups() default {};\n    Class&lt;? extends Payload&gt;[] payload() default {};\n    int min();\n    int max();\n}\n</code></pre>\n<pre><code>public class AgeValidator implements ConstraintValidator&lt;AgeConstraint, String&gt; {\n\n    private int min;\n    private int max;\n    @Override\n    public void initialize(AgeConstraint constraintAnnotation) {\n        this.min = constraintAnnotation.min();\n        this.max = constraintAnnotation.max();\n    }\n\n    @Override\n    public boolean isValid(String s, ConstraintValidatorContext constraintValidatorContext) {\n        LocalDate date;\n        try {\n             date = LocalDate.parse(s);\n        } catch (DateTimeParseException e) {\n            return false;\n        }\n        return ( LocalDate.now().minusYears(min).isAfter(date) || LocalDate.now().minusYears(min).isEqual(date))\n               &amp;&amp; ( LocalDate.now().minusYears(max).isBefore(date) || LocalDate.now().minusYears(max).isEqual(date));\n    }\n}\n</code></pre>\n<p>And used them on field</p>\n<pre><code>@AgeConstraint(min = 13, max = 100)\n@ISODateConstraint\nprivate String dateOfBirth;\n</code></pre>\n<p>I care about validation message so order of execution is relevant. Now when i provide string like &quot;2022-13-12&quot; validation should fail on ISODateConstraint and return related message. What i get is message related to AgeConstraint.</p>\n<p>I checked execution with debugger and ISODateValidator is always executing first and always returns false. Despite this execution goes further into ISODateValidator.</p>\n"},{"tags":["java","swing","opengl","jogl"],"comments":[{"owner":{"account_id":7322082,"reputation":205321,"user_id":5577765,"display_name":"Rabbid76"},"score":1,"creation_date":1670192353,"post_id":74681441,"comment_id":131812880,"body_markdown":"If you want to fill the shape with a color, you must use one of the [Triangle primitives](https://www.khronos.org/opengl/wiki/Primitive#Triangle_primitives) instead of `GL2.GL_LINE_LOOP`","body":"If you want to fill the shape with a color, you must use one of the <a href=\"https://www.khronos.org/opengl/wiki/Primitive#Triangle_primitives\" rel=\"nofollow noreferrer\">Triangle primitives</a> instead of <code>GL2.GL_LINE_LOOP</code>"},{"owner":{"account_id":20774219,"reputation":59,"user_id":15256130,"display_name":"Obada Jaras"},"score":0,"creation_date":1670192481,"post_id":74681441,"comment_id":131812905,"body_markdown":"I used `GL_TRIANGLE_FAN` in both `drawCircle` and `drawRectangle` methods, and it works. Thanks","body":"I used <code>GL_TRIANGLE_FAN</code> in both <code>drawCircle</code> and <code>drawRectangle</code> methods, and it works. Thanks"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1670194708,"post_id":74681441,"comment_id":131813308,"body_markdown":"Why is this tagged javafx?","body":"Why is this tagged javafx?"},{"owner":{"account_id":20774219,"reputation":59,"user_id":15256130,"display_name":"Obada Jaras"},"score":0,"creation_date":1670194786,"post_id":74681441,"comment_id":131813325,"body_markdown":"@James_D I&#39;m using `javax.swing.JFrame` to show the JOGL canvas, but there is no problem if there is a way using anything else such as JavaFX or AWT or something else.","body":"@James_D I&#39;m using <code>javax.swing.JFrame</code> to show the JOGL canvas, but there is no problem if there is a way using anything else such as JavaFX or AWT or something else."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1670196241,"post_id":74681441,"comment_id":131813573,"body_markdown":"*&quot;I&#39;m using `javax.swing.JFrame`&quot;*. But that has nothing to do with JavaFX.","body":"<i>&quot;I&#39;m using <code>javax.swing.JFrame</code>&quot;</i>. But that has nothing to do with JavaFX."}],"answers":[{"tags":[],"owner":{"account_id":7322082,"reputation":205321,"user_id":5577765,"display_name":"Rabbid76"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670192788,"creation_date":1670192788,"answer_id":74681501,"question_id":74681441,"body_markdown":"If you want to fill the shape with a color, you must use one of the [Triangle primitives](https://www.khronos.org/opengl/wiki/Primitive#Triangle_primitives) instead of `GL2.GL_LINE_LOOP`. e.g.: `GL2.GL_TRIANGLE_FAN`:\r\n\r\n```java\r\ngl.glBegin(GL2.GL_TRIANGLE_FAN);\r\ngl.glVertex2d(x1, y1);\r\ngl.glVertex2d(x2, y2);\r\ngl.glVertex2d(x3, y3);\r\ngl.glVertex2d(x4, y4);\r\ngl.glEnd();\r\n```\r\n\r\n```java\r\ngl.glBegin(GL2.GL_TRIANGLE_FAN);\r\nfor (double i = 0; i &lt; 360; i++) {\r\n    double radian = i * Math.PI / 180;\r\n    double x = radius * Math.cos(radian) + centerX;\r\n    double y = radius * Math.sin(radian) + centerY;\r\n    gl.glVertex2d(x, y);\r\n}\r\ngl.glEnd();\r\n```","title":"How to detect and change shape in Java OpenGL","body":"<p>If you want to fill the shape with a color, you must use one of the <a href=\"https://www.khronos.org/opengl/wiki/Primitive#Triangle_primitives\" rel=\"nofollow noreferrer\">Triangle primitives</a> instead of <code>GL2.GL_LINE_LOOP</code>. e.g.: <code>GL2.GL_TRIANGLE_FAN</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>gl.glBegin(GL2.GL_TRIANGLE_FAN);\ngl.glVertex2d(x1, y1);\ngl.glVertex2d(x2, y2);\ngl.glVertex2d(x3, y3);\ngl.glVertex2d(x4, y4);\ngl.glEnd();\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>gl.glBegin(GL2.GL_TRIANGLE_FAN);\nfor (double i = 0; i &lt; 360; i++) {\n    double radian = i * Math.PI / 180;\n    double x = radius * Math.cos(radian) + centerX;\n    double y = radius * Math.sin(radian) + centerY;\n    gl.glVertex2d(x, y);\n}\ngl.glEnd();\n</code></pre>\n"}],"owner":{"account_id":20774219,"reputation":59,"user_id":15256130,"display_name":"Obada Jaras"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1670196246,"creation_date":1670192235,"question_id":74681441,"body_markdown":"I drew some shapes using OpenGL, here is the code:\r\n\r\nThe drawing methods:\r\n--------------------\r\n\r\n```\r\nprivate void drawRectangle(GL2 gl, double x1, double y1, double x2, double y2, double x3, double y3, double x4, double y4) {\r\n\t\tgl.glBegin(GL2.GL_LINE_LOOP);\r\n\t\tgl.glVertex2d(x1, y1);\r\n\t\tgl.glVertex2d(x2, y2);\r\n\t\tgl.glVertex2d(x3, y3);\r\n\t\tgl.glVertex2d(x4, y4);\r\n\t\tgl.glEnd();\r\n\t}\r\n```\r\n\r\n```\r\nprivate void drawCircle(GL2 gl, double centerX, double centerY, double radius) {\r\n\t\tgl.glBegin(GL2.GL_LINE_STRIP);\r\n\t\t for (double i = 0; i &lt; 360; i++) {\r\n\t\t\t double radian = i * Math.PI / 180;\r\n\t\t\t double x = radius * Math.cos(radian) + centerX;\r\n\t\t\t double y = radius * Math.sin(radian) + centerY;\r\n\r\n\t\t\t gl.glVertex2d(x, y);\r\n\t\t }\r\n\t\t gl.glEnd();\r\n\t}\r\n```\r\n\r\nI drew some circles and rectangles, here is the display method:\r\n\r\n```\r\npublic void display(GLAutoDrawable drawable) {\r\n\t\tfinal GL2 gl = drawable.getGL().getGL2();\r\n\t\tgl.glColor3f(1f, 1f, 1f);\r\n\t\t\r\n\t\tdrawCircle(gl, 0.7, 0.2, 0.1);\r\n\t\tdrawCircle(gl, 0.3, 0.1, 0.3);\r\n\t\tdrawRectangle(gl, -0.5, -0.5, 0, -0.5, 0, 0, -0.5, 0);\r\n\t}\r\n```\r\n\r\nThe displayed result:   \r\n[![enter image description here][1]][1]\r\n\r\nI want to fill the shape with a color when I click on it. (static color for all clicks, red for example)\r\n\r\n\r\n```\r\nclass Color {\r\n\tpublic double c1, c2, c3;\r\n\r\n\tpublic Color(double c1, double c2, double c3) {\r\n\t\tsuper();\r\n\t\tthis.c1 = c1;\r\n\t\tthis.c2 = c2;\r\n\t\tthis.c3 = c3;\r\n\t}\r\n}\r\n```\r\n\r\nSo I want to know 2 things:   \r\n1- how can I fill the shape with a color?   \r\n2- how to fill the shape when I click on it?   \r\n\r\nI&#39;m using `javax.swing.JFrame` to show the canvas, but there is no problem if there is a way using anything else such as JavaFX or AWT or something else.\r\n\r\n-----\r\n\r\n\r\n## The main method: ##\r\n```\r\npublic static void main(String[] args) {\r\n\t\tfinal GLProfile profile = GLProfile.get(GLProfile.GL2);\r\n\t\tGLCapabilities capabilities = new GLCapabilities(profile);\r\n\t\tfinal GLCanvas glcanvas = new GLCanvas(capabilities);\r\n\t\tDriver driver = new Driver();\r\n\t\tglcanvas.addGLEventListener(driver);\r\n\t\tglcanvas.setSize(400, 400);\r\n\r\n\t\tfinal JFrame frame = new JFrame();\r\n\t\tframe.getContentPane().add(glcanvas);\r\n\t\tframe.setSize(frame.getContentPane().getPreferredSize());\r\n\t\tframe.setVisible(true);\r\n\t}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MQzjb.png","title":"How to detect and change shape in Java OpenGL","body":"<p>I drew some shapes using OpenGL, here is the code:</p>\n<h2>The drawing methods:</h2>\n<pre><code>private void drawRectangle(GL2 gl, double x1, double y1, double x2, double y2, double x3, double y3, double x4, double y4) {\n        gl.glBegin(GL2.GL_LINE_LOOP);\n        gl.glVertex2d(x1, y1);\n        gl.glVertex2d(x2, y2);\n        gl.glVertex2d(x3, y3);\n        gl.glVertex2d(x4, y4);\n        gl.glEnd();\n    }\n</code></pre>\n<pre><code>private void drawCircle(GL2 gl, double centerX, double centerY, double radius) {\n        gl.glBegin(GL2.GL_LINE_STRIP);\n         for (double i = 0; i &lt; 360; i++) {\n             double radian = i * Math.PI / 180;\n             double x = radius * Math.cos(radian) + centerX;\n             double y = radius * Math.sin(radian) + centerY;\n\n             gl.glVertex2d(x, y);\n         }\n         gl.glEnd();\n    }\n</code></pre>\n<p>I drew some circles and rectangles, here is the display method:</p>\n<pre><code>public void display(GLAutoDrawable drawable) {\n        final GL2 gl = drawable.getGL().getGL2();\n        gl.glColor3f(1f, 1f, 1f);\n        \n        drawCircle(gl, 0.7, 0.2, 0.1);\n        drawCircle(gl, 0.3, 0.1, 0.3);\n        drawRectangle(gl, -0.5, -0.5, 0, -0.5, 0, 0, -0.5, 0);\n    }\n</code></pre>\n<p>The displayed result:<br />\n<a href=\"https://i.stack.imgur.com/MQzjb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MQzjb.png\" alt=\"enter image description here\" /></a></p>\n<p>I want to fill the shape with a color when I click on it. (static color for all clicks, red for example)</p>\n<pre><code>class Color {\n    public double c1, c2, c3;\n\n    public Color(double c1, double c2, double c3) {\n        super();\n        this.c1 = c1;\n        this.c2 = c2;\n        this.c3 = c3;\n    }\n}\n</code></pre>\n<p>So I want to know 2 things:<br />\n1- how can I fill the shape with a color?<br />\n2- how to fill the shape when I click on it?</p>\n<p>I'm using <code>javax.swing.JFrame</code> to show the canvas, but there is no problem if there is a way using anything else such as JavaFX or AWT or something else.</p>\n<hr />\n<h2>The main method:</h2>\n<pre><code>public static void main(String[] args) {\n        final GLProfile profile = GLProfile.get(GLProfile.GL2);\n        GLCapabilities capabilities = new GLCapabilities(profile);\n        final GLCanvas glcanvas = new GLCanvas(capabilities);\n        Driver driver = new Driver();\n        glcanvas.addGLEventListener(driver);\n        glcanvas.setSize(400, 400);\n\n        final JFrame frame = new JFrame();\n        frame.getContentPane().add(glcanvas);\n        frame.setSize(frame.getContentPane().getPreferredSize());\n        frame.setVisible(true);\n    }\n</code></pre>\n"},{"tags":["c#","java","regex","regex-lookarounds","nested-reference"],"comments":[{"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"score":0,"creation_date":1284264451,"post_id":3693698,"comment_id":3892745,"body_markdown":"Discussion of the series on meta: http://meta.stackexchange.com/questions/62695/permission-to-start-a-series-of-advanced-regex-articles","body":"Discussion of the series on meta: <a href=\"http://meta.stackexchange.com/questions/62695/permission-to-start-a-series-of-advanced-regex-articles\" title=\"permission to start a series of advanced regex articles\">meta.stackexchange.com/questions/62695/&hellip;</a>"},{"owner":{"account_id":152015,"reputation":19159,"user_id":366234,"display_name":"Tim Stone"},"score":1,"creation_date":1284265435,"post_id":3693698,"comment_id":3892797,"body_markdown":"Hmm, very nifty (and the series concept is interesting in general). I think the explanation is fairly clear even for those not well-versed in regular expressions, although I hope people who are afraid of them don&#39;t run away after seeing the &quot;voodoo magic&quot; instead of sticking around to read and learn, heh.","body":"Hmm, very nifty (and the series concept is interesting in general). I think the explanation is fairly clear even for those not well-versed in regular expressions, although I hope people who are afraid of them don&#39;t run away after seeing the &quot;voodoo magic&quot; instead of sticking around to read and learn, heh."},{"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"score":0,"creation_date":1284274519,"post_id":3693698,"comment_id":3893129,"body_markdown":"@Tim: from this point on I plan to start writing about intermediate level stuff, nothing this &quot;advanced&quot;. I&#39;ll keep using &quot;fun&quot; examples to make the learning more enjoyable.","body":"@Tim: from this point on I plan to start writing about intermediate level stuff, nothing this &quot;advanced&quot;. I&#39;ll keep using &quot;fun&quot; examples to make the learning more enjoyable."},{"owner":{"account_id":172288,"reputation":21648,"user_id":400223,"accept_rate":97,"display_name":"Caspar Kleijne"},"score":1,"creation_date":1284286293,"post_id":3693698,"comment_id":3893700,"body_markdown":"I like this, even without a warning ;)","body":"I like this, even without a warning ;)"},{"owner":{"account_id":37482,"reputation":33416,"user_id":107152,"accept_rate":87,"display_name":"Qtax"},"score":1,"creation_date":1330185532,"post_id":3693698,"comment_id":11946352,"body_markdown":"+1 *. Damn you variable length lookbehinds! So much fun you can have with them. Too bad we don&#39;t have those in Perl/PCRE. Great series of questions/answers on regex. :-) Oh and for those interested (like me), the full C# expression is: `(?sx) . (?&lt;=(?:.(?=.*$(?&lt;=((.) \\1?))))*)`","body":"+1 *. Damn you variable length lookbehinds! So much fun you can have with them. Too bad we don&#39;t have those in Perl/PCRE. Great series of questions/answers on regex. :-) Oh and for those interested (like me), the full C# expression is: <code>(?sx) . (?&lt;=(?:.(?=.*$(?&lt;=((.) \\1?))))*)</code>"},{"owner":{"account_id":17505775,"reputation":3076,"user_id":12695027,"display_name":"Scratte"},"score":0,"creation_date":1614937129,"post_id":3693698,"comment_id":117543214,"body_markdown":"I liked the other ones in this series. This one got me a little irritated that I had to hold the entire regex in my head because it seems that it&#39;s not actually printed anywhere for Java. That makes it so much harder to read your post.","body":"I liked the other ones in this series. This one got me a little irritated that I had to hold the entire regex in my head because it seems that it&#39;s not actually printed anywhere for Java. That makes it so much harder to read your post."}],"answers":[{"tags":[],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1284332455,"creation_date":1284264425,"answer_id":3693699,"question_id":3693698,"body_markdown":"### Overview\r\n\r\nAt a high level, the pattern matches any one character `.`, but additionally performs a `grab$2` action, which captures the reversal &quot;mate&quot; of the character that was matched into group 2. This capture is done by building a suffix of the input string whose length matches the length of the prefix up to the current position. We do this by applying `assertSuffix` on a pattern that grows the suffix by one character, repeating this once `forEachDotBehind`. Group 1 captures this suffix. The first character of that suffix, captured in group 2, is the reversal &quot;mate&quot; for the character that was matched.\r\n\r\nThus, replacing each matched character with its &quot;mate&quot; has the effect of reversing a string.\r\n\r\n---\r\n\r\n### How it works: a simpler example\r\n\r\nTo better understand how the regex pattern works, let&#39;s first apply it on a simpler input. Also, for our replacement pattern, we&#39;ll just &quot;dump&quot; out all the captured strings so we get a better idea of what&#39;s going on. Here&#39;s a Java version:\r\n\r\n\tSystem.out.println(\r\n\t\t&quot;123456789&quot;\r\n\t\t\t.replaceAll(REVERSE, &quot;[$0; $1; $2]\\n&quot;)\r\n\t);\r\n\r\nThe above prints ([as seen on ideone.com](http://ideone.com/V91bg)):\r\n\r\n    [1; 9; 9]\r\n    [2; 89; 8]\r\n    [3; 789; 7]\r\n    [4; 6789; 6]\r\n    [5; 56789; 5]\r\n    [6; 456789; 4]\r\n    [7; 3456789; 3]\r\n    [8; 23456789; 2]\r\n    [9; 123456789; 1]\r\n\r\nThus, e.g. `[3; 789; 7]` means that the dot matched `3` (captured in group 0), the corresponding suffix is `789` (group 1), whose first character is `7` (group 2). Note that `7` is `3`&#39;s &quot;mate&quot;.\r\n\r\n                       current position after\r\n                          the dot matched 3\r\n                                          ________\r\n                          1  2 [3] 4  5  6 (7) 8  9\r\n                          \\______/         \\______/\r\n                           3 dots        corresponding\r\n                           behind      suffix of length 3\r\n\r\nNote that a character&#39;s &quot;mate&quot; may be to its right or left. A character may even be its own &quot;mate&quot;.\r\n\r\n---\r\n\r\n### How the suffix is built: nested reference\r\n\r\nThe pattern responsible for matching and building the growing suffix is the following:\r\n\r\n        ((.) \\1?)\r\n        |\\_/    |\r\n        | 2     |       &quot;suffix := (.) + suffix\r\n        |_______|                    or just (.) if there&#39;s no suffix&quot;\r\n            1\r\n\r\nNote that within the definition of group 1 is a reference to itself (with `\\1`), though it is optional (with `?`). The optional part provides the &quot;base case&quot;, a way for the group to match without the reference to itself. This is required because an attempt to match a group reference always fails when the group hasn&#39;t captured anything yet.\r\n\r\nOnce group 1 captures something, the optional part is never exercised in our setup, since the suffix that we just captured last time will still be there this time, and we can always prepend another character to the beginning of this suffix with `(.)`. This prepended character is captured into group 2.\r\n\r\nThus this pattern attempts to grow the suffix by one dot. Repeating this once `forEachDotBehind` will therefore results in a suffix whose length is exactly the length of the prefix up to our current position.\r\n\r\n---\r\n\r\n### How `assertSuffix` and `forEachDotBehind` work: meta-pattern abstractions\r\n\r\nNote that so far we&#39;ve treated `assertSuffix` and `forEachDotBehind` as blackboxes. In fact, leaving this discussion for last is a deliberate act: the names and the brief documentation suggest _WHAT_ they do, and this was enough information for us to write and read our `REVERSE` pattern!\r\n\r\nUpon closer inspection, we see that the Java and C# implementations of these abstractions slightly differ. This is due to the differences between the two regex engines.\r\n\r\nThe .NET regex engine allows full regular expression in a lookbehind, so these meta-patterns look a lot more natural in that flavor.\r\n\r\n* `AssertSuffix(pattern) := (?=.*$(?&lt;=pattern))`, i.e. we use a lookahead to go all the way to the end of the string, then use a nested lookbehind to match the pattern against a suffix.\r\n* `ForEachDotBehind(assertion) := (?&lt;=(?:.assertion)*)`, i.e. we simply match `.*` in a lookbehind, tagging the assertion along with the dot inside a non-capturing group.\r\n\r\nSince Java&#39;s doesn&#39;t officially support infinite-length lookbehind (but it works anyway under certain circumstances), its counterpart is a bit more awkward:\r\n\r\n* `assertSuffix(pattern) := (?&lt;=(?=^.*?pattern$).*)`, i.e. we use a lookbehind to go all the way to the _beginning_ of the string, then use a nested lookahead to match the _entire string_, prepending the suffix pattern with `.*?` to reluctantly match some irrelevant prefix.\r\n* `forEachDotBehind(assertion) := (?&lt;=^(?:.assertion)*?)`, i.e. we use an anchored lookbehind with reluctant repetition, i.e. `^.*?` (and likewise tagging the assertion along with the dot inside a non-capturing group).\r\n\r\nIt should be noted that while the C# implementation of these meta-patterns doesn&#39;t work in Java, _the Java implementation DOES work in C#_ ([see on ideone.com](http://ideone.com/PeUfn)). Thus, there is no actual need to have different implementations for C# and Java, but the C# implementation deliberately took advantage of the more powerful .NET regex engine lookbehind support to express the patterns more naturally.\r\n\r\nWe have thus shown the benefits of using meta-pattern abstractions:\r\n\r\n* We can independently develop, examine, test, optimize, etc. these meta-patterns implementations, perhaps taking advantage of flavor-specific features for extra performance and/or readability.\r\n* Once these building blocks are developed and well-tested, we can simply use them as parts of a bigger pattern, which allows us to express ideas at higher levels for more readable, more maintainable, more portable solutions.\r\n* Meta-patterns promote reuse, and programmatic generation means there&#39;s less duplication\r\n\r\nWhile this particular manifestation of the concept is rather primitive, it&#39;s also possible to take this further and develop a more robust programmatic pattern generation framework, with a library of well-tested and optimized meta-patterns.\r\n\r\n### See also\r\n\r\n* [Martin Fowler - Composed Regex](http://martinfowler.com/bliki/ComposedRegex.html)\r\n* [.NET regular expressions - Balancing group definition](http://msdn.microsoft.com/en-us/library/bs2twtah.aspx#balancing_group_definition) - a great example of a meta-pattern!\r\n\r\n---\r\n\r\n### Closing thoughts\r\n\r\nIt needs to be reiterated that reversing a string with regex is _NOT_ a good idea in practice. It&#39;s way more complicated than necessary, and the performance is quite poor.\r\n\r\nThat said, this article shows that it _CAN_ in fact be done, and that when expressed at higher levels using meta-pattern abstractions, the solution is in fact quite readable. As a key component of the solution, the nested reference is showcased once again in what is hopefully another engaging example.\r\n\r\nLess tangibly, perhaps the article also shows the determination required to solve a problem that may seem difficult (or even &quot;impossible&quot;) at first. Perhaps it also shows the clarity of thought that comes with a deeper understanding of a subject matter, a result of numerous studies and hard work.\r\n\r\nNo doubt regex can be an intimidating subject, and certainly it&#39;s not designed to solve all of your problems. This is no excuse for hateful ignorance, however, and this is one surprisingly deep well of knowledge if you&#39;re willing to learn.","title":"How does this regex replacement reverse a string?","body":"<h3>Overview</h3>\n\n<p>At a high level, the pattern matches any one character <code>.</code>, but additionally performs a <code>grab$2</code> action, which captures the reversal \"mate\" of the character that was matched into group 2. This capture is done by building a suffix of the input string whose length matches the length of the prefix up to the current position. We do this by applying <code>assertSuffix</code> on a pattern that grows the suffix by one character, repeating this once <code>forEachDotBehind</code>. Group 1 captures this suffix. The first character of that suffix, captured in group 2, is the reversal \"mate\" for the character that was matched.</p>\n\n<p>Thus, replacing each matched character with its \"mate\" has the effect of reversing a string.</p>\n\n<hr>\n\n<h3>How it works: a simpler example</h3>\n\n<p>To better understand how the regex pattern works, let's first apply it on a simpler input. Also, for our replacement pattern, we'll just \"dump\" out all the captured strings so we get a better idea of what's going on. Here's a Java version:</p>\n\n<pre><code>System.out.println(\n    \"123456789\"\n        .replaceAll(REVERSE, \"[$0; $1; $2]\\n\")\n);\n</code></pre>\n\n<p>The above prints (<a href=\"http://ideone.com/V91bg\" rel=\"noreferrer\">as seen on ideone.com</a>):</p>\n\n<pre><code>[1; 9; 9]\n[2; 89; 8]\n[3; 789; 7]\n[4; 6789; 6]\n[5; 56789; 5]\n[6; 456789; 4]\n[7; 3456789; 3]\n[8; 23456789; 2]\n[9; 123456789; 1]\n</code></pre>\n\n<p>Thus, e.g. <code>[3; 789; 7]</code> means that the dot matched <code>3</code> (captured in group 0), the corresponding suffix is <code>789</code> (group 1), whose first character is <code>7</code> (group 2). Note that <code>7</code> is <code>3</code>'s \"mate\".</p>\n\n<pre><code>                   current position after\n                      the dot matched 3\n                                      ________\n                      1  2 [3] 4  5  6 (7) 8  9\n                      \\______/         \\______/\n                       3 dots        corresponding\n                       behind      suffix of length 3\n</code></pre>\n\n<p>Note that a character's \"mate\" may be to its right or left. A character may even be its own \"mate\".</p>\n\n<hr>\n\n<h3>How the suffix is built: nested reference</h3>\n\n<p>The pattern responsible for matching and building the growing suffix is the following:</p>\n\n<pre><code>    ((.) \\1?)\n    |\\_/    |\n    | 2     |       \"suffix := (.) + suffix\n    |_______|                    or just (.) if there's no suffix\"\n        1\n</code></pre>\n\n<p>Note that within the definition of group 1 is a reference to itself (with <code>\\1</code>), though it is optional (with <code>?</code>). The optional part provides the \"base case\", a way for the group to match without the reference to itself. This is required because an attempt to match a group reference always fails when the group hasn't captured anything yet.</p>\n\n<p>Once group 1 captures something, the optional part is never exercised in our setup, since the suffix that we just captured last time will still be there this time, and we can always prepend another character to the beginning of this suffix with <code>(.)</code>. This prepended character is captured into group 2.</p>\n\n<p>Thus this pattern attempts to grow the suffix by one dot. Repeating this once <code>forEachDotBehind</code> will therefore results in a suffix whose length is exactly the length of the prefix up to our current position.</p>\n\n<hr>\n\n<h3>How <code>assertSuffix</code> and <code>forEachDotBehind</code> work: meta-pattern abstractions</h3>\n\n<p>Note that so far we've treated <code>assertSuffix</code> and <code>forEachDotBehind</code> as blackboxes. In fact, leaving this discussion for last is a deliberate act: the names and the brief documentation suggest <em>WHAT</em> they do, and this was enough information for us to write and read our <code>REVERSE</code> pattern!</p>\n\n<p>Upon closer inspection, we see that the Java and C# implementations of these abstractions slightly differ. This is due to the differences between the two regex engines.</p>\n\n<p>The .NET regex engine allows full regular expression in a lookbehind, so these meta-patterns look a lot more natural in that flavor.</p>\n\n<ul>\n<li><code>AssertSuffix(pattern) := (?=.*$(?&lt;=pattern))</code>, i.e. we use a lookahead to go all the way to the end of the string, then use a nested lookbehind to match the pattern against a suffix.</li>\n<li><code>ForEachDotBehind(assertion) := (?&lt;=(?:.assertion)*)</code>, i.e. we simply match <code>.*</code> in a lookbehind, tagging the assertion along with the dot inside a non-capturing group.</li>\n</ul>\n\n<p>Since Java's doesn't officially support infinite-length lookbehind (but it works anyway under certain circumstances), its counterpart is a bit more awkward:</p>\n\n<ul>\n<li><code>assertSuffix(pattern) := (?&lt;=(?=^.*?pattern$).*)</code>, i.e. we use a lookbehind to go all the way to the <em>beginning</em> of the string, then use a nested lookahead to match the <em>entire string</em>, prepending the suffix pattern with <code>.*?</code> to reluctantly match some irrelevant prefix.</li>\n<li><code>forEachDotBehind(assertion) := (?&lt;=^(?:.assertion)*?)</code>, i.e. we use an anchored lookbehind with reluctant repetition, i.e. <code>^.*?</code> (and likewise tagging the assertion along with the dot inside a non-capturing group).</li>\n</ul>\n\n<p>It should be noted that while the C# implementation of these meta-patterns doesn't work in Java, <em>the Java implementation DOES work in C#</em> (<a href=\"http://ideone.com/PeUfn\" rel=\"noreferrer\">see on ideone.com</a>). Thus, there is no actual need to have different implementations for C# and Java, but the C# implementation deliberately took advantage of the more powerful .NET regex engine lookbehind support to express the patterns more naturally.</p>\n\n<p>We have thus shown the benefits of using meta-pattern abstractions:</p>\n\n<ul>\n<li>We can independently develop, examine, test, optimize, etc. these meta-patterns implementations, perhaps taking advantage of flavor-specific features for extra performance and/or readability.</li>\n<li>Once these building blocks are developed and well-tested, we can simply use them as parts of a bigger pattern, which allows us to express ideas at higher levels for more readable, more maintainable, more portable solutions.</li>\n<li>Meta-patterns promote reuse, and programmatic generation means there's less duplication</li>\n</ul>\n\n<p>While this particular manifestation of the concept is rather primitive, it's also possible to take this further and develop a more robust programmatic pattern generation framework, with a library of well-tested and optimized meta-patterns.</p>\n\n<h3>See also</h3>\n\n<ul>\n<li><a href=\"http://martinfowler.com/bliki/ComposedRegex.html\" rel=\"noreferrer\">Martin Fowler - Composed Regex</a></li>\n<li><a href=\"http://msdn.microsoft.com/en-us/library/bs2twtah.aspx#balancing_group_definition\" rel=\"noreferrer\">.NET regular expressions - Balancing group definition</a> - a great example of a meta-pattern!</li>\n</ul>\n\n<hr>\n\n<h3>Closing thoughts</h3>\n\n<p>It needs to be reiterated that reversing a string with regex is <em>NOT</em> a good idea in practice. It's way more complicated than necessary, and the performance is quite poor.</p>\n\n<p>That said, this article shows that it <em>CAN</em> in fact be done, and that when expressed at higher levels using meta-pattern abstractions, the solution is in fact quite readable. As a key component of the solution, the nested reference is showcased once again in what is hopefully another engaging example.</p>\n\n<p>Less tangibly, perhaps the article also shows the determination required to solve a problem that may seem difficult (or even \"impossible\") at first. Perhaps it also shows the clarity of thought that comes with a deeper understanding of a subject matter, a result of numerous studies and hard work.</p>\n\n<p>No doubt regex can be an intimidating subject, and certainly it's not designed to solve all of your problems. This is no excuse for hateful ignorance, however, and this is one surprisingly deep well of knowledge if you're willing to learn.</p>\n"},{"tags":[],"owner":{"account_id":20016172,"reputation":2513,"user_id":14672114,"display_name":"RARE Kpop Manifesto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670193303,"creation_date":1670193303,"answer_id":74681557,"question_id":3693698,"body_markdown":"using regex to reverse is not as complex as some think - just do it by powers of 2, with a few loops that is essentially a rehash of the typical bit-reversal trick applied over arbitrary strings, so # of loop cycles needed is simply the integer log-base-2 of the string length, instead of one character at a time :\r\n\r\n\r\n     LANG=&quot;en_US.UTF-8&quot; echo &#39;1234567890123\\nABCDefghi\\n&#39; | \r\n&gt;\r\n     LANG=&quot;en_US.UTF-8&quot; gawk -e &#39;\r\n\r\n       # gawk profile, created Sun Dec  4 17:22:55 2022\r\n\r\n       # Functions, listed alphabetically\r\n\r\n     5  function _____(__,___,_,____,______)\r\n        {\r\n     5      if ((___=(_=_&lt;_)&lt;+___ ? +___ : length(__))&lt;=(++_+_)) {\r\n\r\n                return substr((__)__,___,___*=_&lt;=___)\r\n            }\r\n\r\n    16      do { ++____ } while ((_+=_)&lt;___)\r\n\r\n     5      if (___&lt;_) { # 5\r\n\r\n     5        ______ = (___-(_=(_^!_+_^!_)^____))&lt;=_^!_ \\\r\n                       ?       substr(__,___) \\\r\n                       : _____(substr(__,_+!!_),___-_)\r\n\r\n     5            __ = substr(__,!!_,___=_)\r\n             }\r\n     5       ___ = &quot;.&quot;\r\n    11       while (____--) {\r\n\r\n    11            sub(&quot;$&quot;, &quot;\\3&quot;, __)\r\n                 gsub(&quot;(^|&quot; (___)  (&quot;)&quot;)___, &quot;\\3&amp;\\5&amp;&quot;, __)\r\n                 gsub(&quot;\\5|(^|&quot; (___) &quot;)\\3(&quot;(___)&quot;|$)&quot;, &quot;&quot;,__)\r\n\r\n    11            ___=(___)___\r\n             }\r\n     5       return (______)__\r\n          }\r\n\r\n          BEGIN {\r\n     1       OFS = &quot;\\f\\r\\t&quot;\r\n          }\r\n\r\n     3    ($++NF = _____($!_))^_&#39;\r\n\r\n&gt;\r\n\r\n     1\t1234567890123\r\n        3210987654321\r\n\r\n     2\tABCDefghi\r\n        ihgfeDCBA\r\n\r\n     3\t\r\n        \r\n","title":"How does this regex replacement reverse a string?","body":"<p>using regex to reverse is not as complex as some think - just do it by powers of 2, with a few loops that is essentially a rehash of the typical bit-reversal trick applied over arbitrary strings, so # of loop cycles needed is simply the integer log-base-2 of the string length, instead of one character at a time :</p>\n<pre><code> LANG=&quot;en_US.UTF-8&quot; echo '1234567890123\\nABCDefghi\\n' | \n</code></pre>\n<blockquote>\n</blockquote>\n<pre><code> LANG=&quot;en_US.UTF-8&quot; gawk -e '\n\n   # gawk profile, created Sun Dec  4 17:22:55 2022\n\n   # Functions, listed alphabetically\n\n 5  function _____(__,___,_,____,______)\n    {\n 5      if ((___=(_=_&lt;_)&lt;+___ ? +___ : length(__))&lt;=(++_+_)) {\n\n            return substr((__)__,___,___*=_&lt;=___)\n        }\n\n16      do { ++____ } while ((_+=_)&lt;___)\n\n 5      if (___&lt;_) { # 5\n\n 5        ______ = (___-(_=(_^!_+_^!_)^____))&lt;=_^!_ \\\n                   ?       substr(__,___) \\\n                   : _____(substr(__,_+!!_),___-_)\n\n 5            __ = substr(__,!!_,___=_)\n         }\n 5       ___ = &quot;.&quot;\n11       while (____--) {\n\n11            sub(&quot;$&quot;, &quot;\\3&quot;, __)\n             gsub(&quot;(^|&quot; (___)  (&quot;)&quot;)___, &quot;\\3&amp;\\5&amp;&quot;, __)\n             gsub(&quot;\\5|(^|&quot; (___) &quot;)\\3(&quot;(___)&quot;|$)&quot;, &quot;&quot;,__)\n\n11            ___=(___)___\n         }\n 5       return (______)__\n      }\n\n      BEGIN {\n 1       OFS = &quot;\\f\\r\\t&quot;\n      }\n\n 3    ($++NF = _____($!_))^_'\n</code></pre>\n<blockquote>\n</blockquote>\n<pre><code> 1  1234567890123\n    3210987654321\n\n 2  ABCDefghi\n    ihgfeDCBA\n\n 3  \n    \n</code></pre>\n"}],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7407,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":2,"score":18,"last_activity_date":1670193303,"creation_date":1284264411,"question_id":3693698,"body_markdown":"&gt; _&lt;sub&gt;This is the fourth part in a series of educational regex articles. It show how the combination of nested reference (see: [How does this regex find triangular numbers?][part1]) to &quot;count&quot; within assertions (see: [How can we match a^n b^n with Java regex?][part2]) can be used to reverse a string. The programmatically generated pattern uses meta-pattern abstractions (see: [How does this Java regex detect palindromes?][part3]). For the first time in the series, these techniques are used for replacement instead of whole string matching._\n&gt;\n&gt; _Complete working Java and C# implementations are provided. Inspirational quotes included.&lt;/sub&gt;_\n\n[part1]: https://stackoverflow.com/questions/3627681/how-does-this-regex-find-triangular-numbers\n[part2]: https://stackoverflow.com/questions/3644266/how-can-we-match-an-bn-with-java-regex\n[part3]: https://stackoverflow.com/questions/3664881/how-does-this-java-regex-detect-palindromes\n\nReversing a string using regular expressions never seemed like a good idea, nor was it even immediately obvious if it was at all possible, and if so, how one might attempt to do so.\n\nWhile it&#39;s _still_ not a good idea, at least now we know that it&#39;s possible, because here&#39;s one way to do it:\n\n# C# &lt;sup&gt;&lt;sub&gt;([also on ideone.com](http://ideone.com/tx8Ix))&lt;/sub&gt;&lt;/sup&gt;\n\n    using System;\n    using System.Text.RegularExpressions;\n    \n    public class TwoDollarReversal {    \n    public static void Main() {\n       string REVERSE = \n          @&quot;(?sx) . grab$2&quot;\n             .Replace(&quot;grab$2&quot;,\n                ForEachDotBehind(\n                   AssertSuffix(@&quot;((.) \\1?)&quot;)\n                )\n             );\n       Console.WriteLine(\n          Regex.Replace(\n             @&quot;nietsniE treblA --\n             hguone llew ti dnatsrednu t&#39;nod uoy ,ylpmis ti nialpxe t&#39;nac uoy fI&quot;,\n    \n             REVERSE, &quot;$2&quot;\n          )\n       );\n       // If you can&#39;t explain it simply, you don&#39;t understand it well enough\n       // -- Albert Einstein\n    }      \n    // performs an assertion for each dot behind current position\n    static string ForEachDotBehind(string assertion) {\n       return &quot;(?&lt;=(?:.assertion)*)&quot;.Replace(&quot;assertion&quot;, assertion);\n    }\n    // asserts that the suffix of the string matches a given pattern\n    static string AssertSuffix(string pattern) {\n       return &quot;(?=.*$(?&lt;=pattern))&quot;.Replace(&quot;pattern&quot;, pattern);\n    }\n    \n    }\n\n# Java &lt;sup&gt;&lt;sub&gt;([also on ideone.com](http://ideone.com/VYuZL))&lt;/sub&gt;&lt;/sup&gt;\n\n    class TwoDollarReversal {\n    \n    public static void main(String[] args) {\n       String REVERSE =\n          &quot;(?sx) . grab$2&quot;\n             .replace(&quot;grab$2&quot;,\n                forEachDotBehind(\n                   assertSuffix(&quot;((.) \\\\1?)&quot;)\n                )\n             );\n    \n       System.out.println(\n          &quot;taerG eht rednaxelA --\\nyrt lliw ohw mih ot elbissopmi gnihton si erehT&quot;\n             .replaceAll(REVERSE, &quot;$2&quot;)\n       );\n       // There is nothing impossible to him who will try\n       // -- Alexander the Great&quot;\n    }\n    \n    static String forEachDotBehind(String assertion) {\n       return &quot;(?&lt;=^(?:.assertion)*?)&quot;.replace(&quot;assertion&quot;, assertion);\n    }\n    static String assertSuffix(String pattern) {\n       return &quot;(?&lt;=(?=^.*?pattern$).*)&quot;.replace(&quot;pattern&quot;, pattern);\n    }\n    \n    }\n\nBoth the C# and Java versions seem to use the same overall algorithm, with minor variations only in the abstracted implementation details.\n\n***Clearly this is not the best, most straightforward, most efficient way to reverse a string***. That said, in the interest of learning about regex; how to conceptualize patterns; how the engine works to match them; how to put various parts together to build what we want; how to do so in a way that is readable and maintainable; and just for the sheer joy of learning something new, can we have an explanation of how this works?\n\n---\n\n### Appendix: Cheat sheet!\n\nThis is a brief description of the basic regex constructs used:\n\n* `(?sx)` is the embedded flag _[modifiers]_. `s` enables the &quot;single-line&quot; mode, allowing the _[dot]_ to match _ANY_ character (_including_ newlines). `x` enables the [free-spacing] mode, where unescaped whitespaces are ignored (and `#` can be used for comments).\n* `^` and `$` are the beginning and end-of-the-line _[anchors]_.\n* `?` as a repetition specifier denotes [optional] (i.e. zero-or-one of). As a repetition quantifier in e.g. `.*?` it denotes that the `*` (i.e. zero-or-more of) repetition is _[reluctant]_/non-greedy.\n* `()` are used for _[grouping]_. `(?:)` is a non-capturing group. A capturing group saves the string it matches; it allows back/forward/nested references (e.g. `\\1`), replacement substitution (e.g. `$2`), etc.\n* `(?=)` is a positive _[lookahead]_; it looks to the right to assert that there&#39;s a match of the given pattern. `(?&lt;=)` is a positive _lookbehind_; it looks to the left.\n\n[modifiers]: http://www.regular-expressions.info/modifiers.html\n[dot]: http://www.regular-expressions.info/dot.html\n[free-spacing]: http://www.regular-expressions.info/freespacing.html\n\n[anchors]: http://www.regular-expressions.info/anchors.html\n[g]: http://www.regular-expressions.info/continue.html\n[optional]: http://www.regular-expressions.info/optional.html\n[reluctant]: http://www.regular-expressions.info/repeat.html\n[lookahead]: http://www.regular-expressions.info/lookaround.html\n[grouping]: http://www.regular-expressions.info/brackets.html\n\n### Language references/additional resources\n\n* [MSDN - Regular Expression Language Elements](http://msdn.microsoft.com/en-us/library/az24scfc.aspx) -- [`System.Text.RegularExpressions`](http://msdn.microsoft.com/en-us/library/c75he57e.aspx)\n* [Java Tutorials/Essential classes/Regular expressions](http://download.oracle.com/docs/cd/E17409_01/javase/tutorial/essential/regex/) -- [`java.util.regex.Pattern`](http://java.sun.com/javase/6/docs/api/java/util/regex/Pattern.html)","title":"How does this regex replacement reverse a string?","body":"<blockquote>\n<p><em><sub>This is the fourth part in a series of educational regex articles. It show how the combination of nested reference (see: <a href=\"https://stackoverflow.com/questions/3627681/how-does-this-regex-find-triangular-numbers\">How does this regex find triangular numbers?</a>) to &quot;count&quot; within assertions (see: <a href=\"https://stackoverflow.com/questions/3644266/how-can-we-match-an-bn-with-java-regex\">How can we match a^n b^n with Java regex?</a>) can be used to reverse a string. The programmatically generated pattern uses meta-pattern abstractions (see: <a href=\"https://stackoverflow.com/questions/3664881/how-does-this-java-regex-detect-palindromes\">How does this Java regex detect palindromes?</a>). For the first time in the series, these techniques are used for replacement instead of whole string matching.</em></p>\n<p><em>Complete working Java and C# implementations are provided. Inspirational quotes included.</sub></em></p>\n</blockquote>\n<p>Reversing a string using regular expressions never seemed like a good idea, nor was it even immediately obvious if it was at all possible, and if so, how one might attempt to do so.</p>\n<p>While it's <em>still</em> not a good idea, at least now we know that it's possible, because here's one way to do it:</p>\n<h1>C# <sup><sub>(<a href=\"http://ideone.com/tx8Ix\" rel=\"noreferrer\">also on ideone.com</a>)</sub></sup></h1>\n<pre><code>using System;\nusing System.Text.RegularExpressions;\n\npublic class TwoDollarReversal {    \npublic static void Main() {\n   string REVERSE = \n      @&quot;(?sx) . grab$2&quot;\n         .Replace(&quot;grab$2&quot;,\n            ForEachDotBehind(\n               AssertSuffix(@&quot;((.) \\1?)&quot;)\n            )\n         );\n   Console.WriteLine(\n      Regex.Replace(\n         @&quot;nietsniE treblA --\n         hguone llew ti dnatsrednu t'nod uoy ,ylpmis ti nialpxe t'nac uoy fI&quot;,\n\n         REVERSE, &quot;$2&quot;\n      )\n   );\n   // If you can't explain it simply, you don't understand it well enough\n   // -- Albert Einstein\n}      \n// performs an assertion for each dot behind current position\nstatic string ForEachDotBehind(string assertion) {\n   return &quot;(?&lt;=(?:.assertion)*)&quot;.Replace(&quot;assertion&quot;, assertion);\n}\n// asserts that the suffix of the string matches a given pattern\nstatic string AssertSuffix(string pattern) {\n   return &quot;(?=.*$(?&lt;=pattern))&quot;.Replace(&quot;pattern&quot;, pattern);\n}\n\n}\n</code></pre>\n<h1>Java <sup><sub>(<a href=\"http://ideone.com/VYuZL\" rel=\"noreferrer\">also on ideone.com</a>)</sub></sup></h1>\n<pre><code>class TwoDollarReversal {\n\npublic static void main(String[] args) {\n   String REVERSE =\n      &quot;(?sx) . grab$2&quot;\n         .replace(&quot;grab$2&quot;,\n            forEachDotBehind(\n               assertSuffix(&quot;((.) \\\\1?)&quot;)\n            )\n         );\n\n   System.out.println(\n      &quot;taerG eht rednaxelA --\\nyrt lliw ohw mih ot elbissopmi gnihton si erehT&quot;\n         .replaceAll(REVERSE, &quot;$2&quot;)\n   );\n   // There is nothing impossible to him who will try\n   // -- Alexander the Great&quot;\n}\n\nstatic String forEachDotBehind(String assertion) {\n   return &quot;(?&lt;=^(?:.assertion)*?)&quot;.replace(&quot;assertion&quot;, assertion);\n}\nstatic String assertSuffix(String pattern) {\n   return &quot;(?&lt;=(?=^.*?pattern$).*)&quot;.replace(&quot;pattern&quot;, pattern);\n}\n\n}\n</code></pre>\n<p>Both the C# and Java versions seem to use the same overall algorithm, with minor variations only in the abstracted implementation details.</p>\n<p><em><strong>Clearly this is not the best, most straightforward, most efficient way to reverse a string</strong></em>. That said, in the interest of learning about regex; how to conceptualize patterns; how the engine works to match them; how to put various parts together to build what we want; how to do so in a way that is readable and maintainable; and just for the sheer joy of learning something new, can we have an explanation of how this works?</p>\n<hr />\n<h3>Appendix: Cheat sheet!</h3>\n<p>This is a brief description of the basic regex constructs used:</p>\n<ul>\n<li><code>(?sx)</code> is the embedded flag <em><a href=\"http://www.regular-expressions.info/modifiers.html\" rel=\"noreferrer\">modifiers</a></em>. <code>s</code> enables the &quot;single-line&quot; mode, allowing the <em><a href=\"http://www.regular-expressions.info/dot.html\" rel=\"noreferrer\">dot</a></em> to match <em>ANY</em> character (<em>including</em> newlines). <code>x</code> enables the <a href=\"http://www.regular-expressions.info/freespacing.html\" rel=\"noreferrer\">free-spacing</a> mode, where unescaped whitespaces are ignored (and <code>#</code> can be used for comments).</li>\n<li><code>^</code> and <code>$</code> are the beginning and end-of-the-line <em><a href=\"http://www.regular-expressions.info/anchors.html\" rel=\"noreferrer\">anchors</a></em>.</li>\n<li><code>?</code> as a repetition specifier denotes <a href=\"http://www.regular-expressions.info/optional.html\" rel=\"noreferrer\">optional</a> (i.e. zero-or-one of). As a repetition quantifier in e.g. <code>.*?</code> it denotes that the <code>*</code> (i.e. zero-or-more of) repetition is <em><a href=\"http://www.regular-expressions.info/repeat.html\" rel=\"noreferrer\">reluctant</a></em>/non-greedy.</li>\n<li><code>()</code> are used for <em><a href=\"http://www.regular-expressions.info/brackets.html\" rel=\"noreferrer\">grouping</a></em>. <code>(?:)</code> is a non-capturing group. A capturing group saves the string it matches; it allows back/forward/nested references (e.g. <code>\\1</code>), replacement substitution (e.g. <code>$2</code>), etc.</li>\n<li><code>(?=)</code> is a positive <em><a href=\"http://www.regular-expressions.info/lookaround.html\" rel=\"noreferrer\">lookahead</a></em>; it looks to the right to assert that there's a match of the given pattern. <code>(?&lt;=)</code> is a positive <em>lookbehind</em>; it looks to the left.</li>\n</ul>\n<h3>Language references/additional resources</h3>\n<ul>\n<li><a href=\"http://msdn.microsoft.com/en-us/library/az24scfc.aspx\" rel=\"noreferrer\">MSDN - Regular Expression Language Elements</a> -- <a href=\"http://msdn.microsoft.com/en-us/library/c75he57e.aspx\" rel=\"noreferrer\"><code>System.Text.RegularExpressions</code></a></li>\n<li><a href=\"http://download.oracle.com/docs/cd/E17409_01/javase/tutorial/essential/regex/\" rel=\"noreferrer\">Java Tutorials/Essential classes/Regular expressions</a> -- <a href=\"http://java.sun.com/javase/6/docs/api/java/util/regex/Pattern.html\" rel=\"noreferrer\"><code>java.util.regex.Pattern</code></a></li>\n</ul>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":175930,"reputation":2593,"user_id":406290,"accept_rate":43,"display_name":"Kevin Hooke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670190848,"creation_date":1670190848,"answer_id":74681265,"question_id":74679787,"body_markdown":"&gt; when it loops they numbers will exponentially increase\r\n\r\nYou&#39;re incrementing websiteNum in the first for loop, but it never resets back to zero. Every time you enter that loop you&#39;re increasing it&#39;s value. It&#39;s not &#39;exponentially&#39; increasing, but it always increasing without resetting back to zero.","title":"Display a list with corresponding numbers for user to select","body":"<blockquote>\n<p>when it loops they numbers will exponentially increase</p>\n</blockquote>\n<p>You're incrementing websiteNum in the first for loop, but it never resets back to zero. Every time you enter that loop you're increasing it's value. It's not 'exponentially' increasing, but it always increasing without resetting back to zero.</p>\n"}],"owner":{"account_id":27144379,"reputation":1,"user_id":20684846,"display_name":"Kaiya Smallwood"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670192742,"creation_date":1670179209,"question_id":74679787,"body_markdown":"```\r\n//PASSWORD Y/N LOOP\r\n        //Does not want to add password, will list stores websites and corresponding numbers\r\n        while (yesNo == &#39;n&#39;) {\r\n            //WEBSITE LIST MENU LOOP\r\n//FIXME website num is exponentially increasing everytime no is entered.\r\n            for (i = 0; i &lt; (websites.getwebList().size()); i++) {\r\n                System.out.print(websiteNum + &quot; - &quot;);\r\n                System.out.println(websites.getwebList().get(i));\r\n                websiteNum = websiteNum + 1;\r\n            }\r\n            //Asks for user input of number of website they want to access\r\n            System.out.println(&quot;Enter the number of the website you want to access:&quot;);\r\n            userNum = scnr.nextInt();\r\n            j = userNum - 1;\r\n            //j corresponds to index in array since userNum is i + 1\r\n//PRINT WEBSITE LIST\r\n            while (alwaysTrue == true)\r\n            {\r\n//FIXME always results in cannot access\r\n                if (userNum == websiteNum)\r\n                {\r\n                    System.out.println(websites.getwebList().get(j));\r\n                    System.out.println(usernames.getuserNameList().get(j));\r\n                    System.out.println(passwords.getPassList().get(j));\r\n                    break;\r\n                }\r\n                else\r\n                {\r\n                    System.out.println(&quot;Cannot access, try again.&quot;);\r\n                    break;\r\n                }\r\n            }\r\n        }}}\r\n```\r\n\r\n\r\nI am currently trying to make a password manager, I am having trouble with the last part and creating the list for user selection. The plan is to have it look something like this\r\n1 - website1.com\r\n2 - website2.com\r\n\r\nand when the user enters the corresponding number it will print the username and password that goes with the website as well.\r\n\r\nI am currently trying to make a password manager, I am having trouble with the last part and creating the list for user selection. The plan is to have it look something like this\r\n1 - website1.com\r\n2 - website2.com\r\n\r\nand when the user enters the corresponding number it will print the username and password that goes with the website as well.\r\n\r\ncurrently what is happening is the list will print, but none of the selections can ever be accessed and when it loops they numbers will exponentially increase\r\n\r\n1 - website1.com\r\n2 - website2.com\r\n\r\n2 - website1.come\r\n4 - website2.com","title":"Display a list with corresponding numbers for user to select","body":"<pre><code>//PASSWORD Y/N LOOP\n        //Does not want to add password, will list stores websites and corresponding numbers\n        while (yesNo == 'n') {\n            //WEBSITE LIST MENU LOOP\n//FIXME website num is exponentially increasing everytime no is entered.\n            for (i = 0; i &lt; (websites.getwebList().size()); i++) {\n                System.out.print(websiteNum + &quot; - &quot;);\n                System.out.println(websites.getwebList().get(i));\n                websiteNum = websiteNum + 1;\n            }\n            //Asks for user input of number of website they want to access\n            System.out.println(&quot;Enter the number of the website you want to access:&quot;);\n            userNum = scnr.nextInt();\n            j = userNum - 1;\n            //j corresponds to index in array since userNum is i + 1\n//PRINT WEBSITE LIST\n            while (alwaysTrue == true)\n            {\n//FIXME always results in cannot access\n                if (userNum == websiteNum)\n                {\n                    System.out.println(websites.getwebList().get(j));\n                    System.out.println(usernames.getuserNameList().get(j));\n                    System.out.println(passwords.getPassList().get(j));\n                    break;\n                }\n                else\n                {\n                    System.out.println(&quot;Cannot access, try again.&quot;);\n                    break;\n                }\n            }\n        }}}\n</code></pre>\n<p>I am currently trying to make a password manager, I am having trouble with the last part and creating the list for user selection. The plan is to have it look something like this\n1 - website1.com\n2 - website2.com</p>\n<p>and when the user enters the corresponding number it will print the username and password that goes with the website as well.</p>\n<p>I am currently trying to make a password manager, I am having trouble with the last part and creating the list for user selection. The plan is to have it look something like this\n1 - website1.com\n2 - website2.com</p>\n<p>and when the user enters the corresponding number it will print the username and password that goes with the website as well.</p>\n<p>currently what is happening is the list will print, but none of the selections can ever be accessed and when it loops they numbers will exponentially increase</p>\n<p>1 - website1.com\n2 - website2.com</p>\n<p>2 - website1.come\n4 - website2.com</p>\n"},{"tags":["java","azureservicebus","shared-access-signatures"],"comments":[{"owner":{"account_id":63568,"reputation":129737,"user_id":188096,"accept_rate":93,"display_name":"Gaurav Mantri"},"score":1,"creation_date":1661348111,"post_id":73473671,"comment_id":129750818,"body_markdown":"Please edit your code and replace images of your code with actual code.","body":"Please edit your code and replace images of your code with actual code."},{"owner":{"account_id":53380,"reputation":6491,"user_id":159548,"display_name":"Jesse Squire"},"score":0,"creation_date":1661361279,"post_id":73473671,"comment_id":129756330,"body_markdown":"Would you please include a full example of what your connection string looks like?   (please redact the actual SAS value and other sensitive information)","body":"Would you please include a full example of what your connection string looks like?   (please redact the actual SAS value and other sensitive information)"},{"owner":{"account_id":8015358,"reputation":74,"user_id":6311412,"display_name":"Nikasha Von carstein"},"score":0,"creation_date":1661443297,"post_id":73473671,"comment_id":129779529,"body_markdown":"Thanks Jesse! I will open a new question with another error related to certificate if I don&#39;t get solve it because with the Gaurav answer I got solve this specific error, thanks anyway!  :)","body":"Thanks Jesse! I will open a new question with another error related to certificate if I don&#39;t get solve it because with the Gaurav answer I got solve this specific error, thanks anyway!  :)"}],"answers":[{"tags":[],"owner":{"account_id":63568,"reputation":129737,"user_id":188096,"accept_rate":93,"display_name":"Gaurav Mantri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661351392,"creation_date":1661351392,"answer_id":73474964,"question_id":73473671,"body_markdown":"I believe you are getting this error is because your connection string only contains the SAS Token and does not contain the Service Bus endpoint.\r\n\r\nYour connection string should be of the following format:\r\n\r\n```\r\nEndpoint=sb://foo.servicebus.windows.net/; SharedAccessSignature=&lt;sas-token&gt;;\r\n```\r\n\r\nCan you try creating a connection string using this?\r\n\r\nOtherwise, you can use `credential` instead of connection string and use [`credential(String fullyQualifiedNamespace, AzureSasCredential credential)`][1]\r\n\r\nYour code would be something like:\r\n\r\n```\r\npublic ServiceBusReceiverClient createSbReceiver(String subscriptionName) throws MessageHubException {\r\n    try {\r\n        return new ServiceBusClientBuilder()\r\n                .credential(getEndpointAddress(), new AzureSasCredential(TokenHelper.getConnectionStringBuilder(authToken)))\r\n                .receiver()\r\n                .topicName(authToken.getEntityPath())\r\n                .subscriptionName(subscriptionName)\r\n                .receiveMode(ServiceBusReceiveMode.PEEK_LOCK)\r\n                .buildClient();\r\n        } catch (Throwable exception) {\r\n        throw ExceptionHandler.generateClientCreationException(exception, &quot;Error creating receiver client&quot;);\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://learn.microsoft.com/en-us/java/api/com.azure.messaging.servicebus.servicebusclientbuilder.credential?view=azure-java-stable#com-azure-messaging-servicebus-servicebusclientbuilder-credential(java-lang-string-com-azure-core-credential-azuresascredential)","title":"Azure Messaging Service Bus Error: Illegal connection string parameter: SharedAccessSignature sr","body":"<p>I believe you are getting this error is because your connection string only contains the SAS Token and does not contain the Service Bus endpoint.</p>\n<p>Your connection string should be of the following format:</p>\n<pre><code>Endpoint=sb://foo.servicebus.windows.net/; SharedAccessSignature=&lt;sas-token&gt;;\n</code></pre>\n<p>Can you try creating a connection string using this?</p>\n<p>Otherwise, you can use <code>credential</code> instead of connection string and use <a href=\"https://learn.microsoft.com/en-us/java/api/com.azure.messaging.servicebus.servicebusclientbuilder.credential?view=azure-java-stable#com-azure-messaging-servicebus-servicebusclientbuilder-credential(java-lang-string-com-azure-core-credential-azuresascredential)\" rel=\"nofollow noreferrer\"><code>credential(String fullyQualifiedNamespace, AzureSasCredential credential)</code></a></p>\n<p>Your code would be something like:</p>\n<pre><code>public ServiceBusReceiverClient createSbReceiver(String subscriptionName) throws MessageHubException {\n    try {\n        return new ServiceBusClientBuilder()\n                .credential(getEndpointAddress(), new AzureSasCredential(TokenHelper.getConnectionStringBuilder(authToken)))\n                .receiver()\n                .topicName(authToken.getEntityPath())\n                .subscriptionName(subscriptionName)\n                .receiveMode(ServiceBusReceiveMode.PEEK_LOCK)\n                .buildClient();\n        } catch (Throwable exception) {\n        throw ExceptionHandler.generateClientCreationException(exception, &quot;Error creating receiver client&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8015358,"reputation":74,"user_id":6311412,"display_name":"Nikasha Von carstein"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":616,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73474964,"answer_count":1,"score":0,"last_activity_date":1670191951,"creation_date":1661346023,"question_id":73473671,"body_markdown":"I am working with the Azure Messaging Service Bus Library version 7.10.0 on my project. I have created some integration tests to verify its functionality and with SaK authentication works like a charm, but with SaS I get the next error:\r\n\r\njava.lang.IllegalArgumentException: Illegal connection string parameter name: SharedAccessSignature sr\r\n\r\n[![IllegalArgumentException][1]][1]\r\n\r\n    /**\r\n     * Creates a new Synchronous Service Bus receiver.\r\n     * @param subscriptionName the name of the subscription to use.\r\n     * @return Service Bus receiver client for topics and subscriptions.\r\n     * @throws AuthorizationException if the token is invalid or has expired when the creation request is done.\r\n     * @throws ChannelException if the token is pointing to a non-existing, disabled, or invalid channel.\r\n     * @throws ConnectionException if the token is pointing to a non-existing or non-AMQP server. Also, if there are connectivity issues on client side.\r\n     * @throws InterruptedThreadException if the thread was interrupted while the client was being created.\r\n     * @throws InvalidTokenException if the token is malformed due to abnormal manipulations when the creation request is done.\r\n     * @throws QuotaExceededException if the server has reached the maximum limit of concurrent connections or operations.\r\n     * @throws RequestTimeoutException if the request timed out while was being processed.\r\n     * @throws ServerBusyException if the server is temporarily overloaded and is rejecting new requests.\r\n     * @throws UnexpectedDisconnectionException if the connection was closed abnormally while the client was being created.\r\n     */\r\n    @Override\r\n    public ServiceBusReceiverClient createSbReceiver(String subscriptionName) {\r\n        try {\r\n            return new ServiceBusClientBuilder()\r\n                    .connectionString(TokenHelper.getConnectionStringBuilder(authToken))\r\n                    .receiver()\r\n                    .topicName(authToken.getEntityPath())\r\n                    .subscriptionName(subscriptionName)\r\n                    .receiveMode(ServiceBusReceiveMode.PEEK_LOCK)\r\n                    .buildClient();\r\n            } catch (Throwable exception) {\r\n            throw ExceptionHandler.generateClientCreationException(exception, &quot;Error creating receiver client&quot;);\r\n        }\r\n    }\r\n\r\nIf we see the method TokenHelper.getConnectionStringBuilder():\r\n\r\n    /**\r\n     * Returns a String using a valid authentication token.\r\n     * @param authToken Source authentication token.\r\n     * @return String.\r\n     * @throws InvalidTokenException if the encoding of the authentication token is not supported\r\n     */\r\n    public static String getConnectionStringBuilder (IAuthenticationProvider authToken) {\r\n        return authToken.getServiceBusToken();\r\n    }\r\n\r\nAnd getServiceBusToken():\r\n\r\n    /**\r\n     * Returns Service Bus Sas token.\r\n     * @return Service Bus Sas token.\r\n     */\r\n    @Override\r\n    public String getServiceBusToken()\r\n    {\r\n        String resourceUri = String.format(&quot;%s/%s&quot;,getEndpointAddress(),entityPath);\r\n        String sasToken = null;\r\n        try {\r\n            String stringToSign = URLEncoder.encode(resourceUri, &quot;UTF-8&quot;) + &quot;\\n&quot; + expirationDate;\r\n            String signature = getHMAC256(runtimeSignature, stringToSign);\r\n            sasToken = &quot;SharedAccessSignature sr=&quot; + URLEncoder.encode(resourceUri, &quot;UTF-8&quot;) +&quot;&amp;sig=&quot; +\r\n                    signature + &quot;&amp;se=&quot; + expirationDate + &quot;&amp;skn=&quot; + policyName;\r\n        } catch (UnsupportedEncodingException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return sasToken;\r\n    }\r\n\r\n\r\n    public static String getHMAC256(String key, String input) {\r\n        Mac sha256_HMAC;\r\n        String hash = null;\r\n        try {\r\n            sha256_HMAC = Mac.getInstance(&quot;HmacSHA256&quot;);\r\n            SecretKeySpec secret_key = new SecretKeySpec(key.getBytes(), &quot;HmacSHA256&quot;);\r\n            sha256_HMAC.init(secret_key);\r\n            Base64.Encoder encoder = Base64.getEncoder();\r\n\r\n            hash = new String(encoder.encode(sha256_HMAC.doFinal(input.getBytes(StandardCharsets.UTF_8))));\r\n\r\n        } catch (InvalidKeyException | NoSuchAlgorithmException | IllegalStateException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return hash;\r\n    }\r\n\r\nAnd the [Microsoft documentation][4] that I followed to do the method:\r\n\r\n[![Microsoft Documentation][5]][5]\r\n\r\nI have tried different ways to build the SaS connection String meeting the [requirements][6] but I didn&#39;t get a right Connection String.\r\n\r\n[![SaS Connection String Pattern][7]][7]\r\n\r\nCould somebody give me some clue about what is wrong with the SaS Connection String? Thank you in advance!\r\n\r\n  [1]: https://i.stack.imgur.com/Npxhs.png\r\n  [2]: https://i.stack.imgur.com/73fpJ.png\r\n  [3]: https://i.stack.imgur.com/meVUC.png\r\n  [4]: https://learn.microsoft.com/en-us/rest/api/eventhub/generate-sas-token\r\n  [5]: https://i.stack.imgur.com/0XUL3.png\r\n  [6]: https://learn.microsoft.com/en-us/azure/service-bus-messaging/service-bus-sas\r\n  [7]: https://i.stack.imgur.com/rqKTv.png","title":"Azure Messaging Service Bus Error: Illegal connection string parameter: SharedAccessSignature sr","body":"<p>I am working with the Azure Messaging Service Bus Library version 7.10.0 on my project. I have created some integration tests to verify its functionality and with SaK authentication works like a charm, but with SaS I get the next error:</p>\n<p>java.lang.IllegalArgumentException: Illegal connection string parameter name: SharedAccessSignature sr</p>\n<p><a href=\"https://i.stack.imgur.com/Npxhs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Npxhs.png\" alt=\"IllegalArgumentException\" /></a></p>\n<pre><code>/**\n * Creates a new Synchronous Service Bus receiver.\n * @param subscriptionName the name of the subscription to use.\n * @return Service Bus receiver client for topics and subscriptions.\n * @throws AuthorizationException if the token is invalid or has expired when the creation request is done.\n * @throws ChannelException if the token is pointing to a non-existing, disabled, or invalid channel.\n * @throws ConnectionException if the token is pointing to a non-existing or non-AMQP server. Also, if there are connectivity issues on client side.\n * @throws InterruptedThreadException if the thread was interrupted while the client was being created.\n * @throws InvalidTokenException if the token is malformed due to abnormal manipulations when the creation request is done.\n * @throws QuotaExceededException if the server has reached the maximum limit of concurrent connections or operations.\n * @throws RequestTimeoutException if the request timed out while was being processed.\n * @throws ServerBusyException if the server is temporarily overloaded and is rejecting new requests.\n * @throws UnexpectedDisconnectionException if the connection was closed abnormally while the client was being created.\n */\n@Override\npublic ServiceBusReceiverClient createSbReceiver(String subscriptionName) {\n    try {\n        return new ServiceBusClientBuilder()\n                .connectionString(TokenHelper.getConnectionStringBuilder(authToken))\n                .receiver()\n                .topicName(authToken.getEntityPath())\n                .subscriptionName(subscriptionName)\n                .receiveMode(ServiceBusReceiveMode.PEEK_LOCK)\n                .buildClient();\n        } catch (Throwable exception) {\n        throw ExceptionHandler.generateClientCreationException(exception, &quot;Error creating receiver client&quot;);\n    }\n}\n</code></pre>\n<p>If we see the method TokenHelper.getConnectionStringBuilder():</p>\n<pre><code>/**\n * Returns a String using a valid authentication token.\n * @param authToken Source authentication token.\n * @return String.\n * @throws InvalidTokenException if the encoding of the authentication token is not supported\n */\npublic static String getConnectionStringBuilder (IAuthenticationProvider authToken) {\n    return authToken.getServiceBusToken();\n}\n</code></pre>\n<p>And getServiceBusToken():</p>\n<pre><code>/**\n * Returns Service Bus Sas token.\n * @return Service Bus Sas token.\n */\n@Override\npublic String getServiceBusToken()\n{\n    String resourceUri = String.format(&quot;%s/%s&quot;,getEndpointAddress(),entityPath);\n    String sasToken = null;\n    try {\n        String stringToSign = URLEncoder.encode(resourceUri, &quot;UTF-8&quot;) + &quot;\\n&quot; + expirationDate;\n        String signature = getHMAC256(runtimeSignature, stringToSign);\n        sasToken = &quot;SharedAccessSignature sr=&quot; + URLEncoder.encode(resourceUri, &quot;UTF-8&quot;) +&quot;&amp;sig=&quot; +\n                signature + &quot;&amp;se=&quot; + expirationDate + &quot;&amp;skn=&quot; + policyName;\n    } catch (UnsupportedEncodingException e) {\n        e.printStackTrace();\n    }\n\n    return sasToken;\n}\n\n\npublic static String getHMAC256(String key, String input) {\n    Mac sha256_HMAC;\n    String hash = null;\n    try {\n        sha256_HMAC = Mac.getInstance(&quot;HmacSHA256&quot;);\n        SecretKeySpec secret_key = new SecretKeySpec(key.getBytes(), &quot;HmacSHA256&quot;);\n        sha256_HMAC.init(secret_key);\n        Base64.Encoder encoder = Base64.getEncoder();\n\n        hash = new String(encoder.encode(sha256_HMAC.doFinal(input.getBytes(StandardCharsets.UTF_8))));\n\n    } catch (InvalidKeyException | NoSuchAlgorithmException | IllegalStateException e) {\n        e.printStackTrace();\n    }\n\n    return hash;\n}\n</code></pre>\n<p>And the <a href=\"https://learn.microsoft.com/en-us/rest/api/eventhub/generate-sas-token\" rel=\"nofollow noreferrer\">Microsoft documentation</a> that I followed to do the method:</p>\n<p><a href=\"https://i.stack.imgur.com/0XUL3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0XUL3.png\" alt=\"Microsoft Documentation\" /></a></p>\n<p>I have tried different ways to build the SaS connection String meeting the <a href=\"https://learn.microsoft.com/en-us/azure/service-bus-messaging/service-bus-sas\" rel=\"nofollow noreferrer\">requirements</a> but I didn't get a right Connection String.</p>\n<p><a href=\"https://i.stack.imgur.com/rqKTv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rqKTv.png\" alt=\"SaS Connection String Pattern\" /></a></p>\n<p>Could somebody give me some clue about what is wrong with the SaS Connection String? Thank you in advance!</p>\n"},{"tags":["java","gradle","quarkus","microprofile"],"answers":[{"tags":[],"owner":{"account_id":2339842,"reputation":9718,"user_id":2051392,"accept_rate":72,"display_name":"DotNetRussell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670189509,"creation_date":1670189509,"answer_id":74681106,"question_id":74681081,"body_markdown":"The following worked for me:\r\n\r\n    @ConfigProperty(name = &quot;buildTime&quot;, defaultValue=&quot;defaultValue&quot;)\r\n    String buildTime;\r\n\r\n","title":"how can I inject gradle ext properties","body":"<p>The following worked for me:</p>\n<pre><code>@ConfigProperty(name = &quot;buildTime&quot;, defaultValue=&quot;defaultValue&quot;)\nString buildTime;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1471292,"reputation":101,"user_id":1382814,"display_name":"Bernd Prager"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670191443,"creation_date":1670191443,"answer_id":74681338,"question_id":74681081,"body_markdown":"The answer was simple and much more embarrassing: If one runs Quarkus in dev mode, Gradle does not build the project. \r\nAfter I run `gradew build` everything was just fine. \r\nSMH","title":"how can I inject gradle ext properties","body":"<p>The answer was simple and much more embarrassing: If one runs Quarkus in dev mode, Gradle does not build the project.\nAfter I run <code>gradew build</code> everything was just fine.\nSMH</p>\n"}],"owner":{"account_id":1471292,"reputation":101,"user_id":1382814,"display_name":"Bernd Prager"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1670191443,"creation_date":1670189329,"question_id":74681081,"body_markdown":"I am trying to pass project version and compilation time to my Quarkus project via build.gradle and GradleExtraProperties.\r\n\r\nI have in my gradle.build file:\r\n\r\n```groovy\r\nversion &#39;0.0.0-SNAPSHOT&#39;\r\n\r\next {\r\n   buildTime = new java.text.SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ&quot;).format(new Date())\r\n}\r\n```\r\n\r\nand in my Java source: \r\n```java\r\n   @ConfigProperty(name = &quot;version&quot;)\r\n   String version;\r\n   \r\n   @ConfigProperty(name=&quot;buildTime&quot;)\r\n   String buildTime;\r\n```\r\n\r\nWhile *version* gets properly injected, *buildTime* fails with\r\n```text\r\nConfigurationException: Failed to load config value of type class java.lang.String for: buildTime\r\n```\r\n\r\nDoes anybody know if and how that can be accomplished?\r\n","title":"how can I inject gradle ext properties","body":"<p>I am trying to pass project version and compilation time to my Quarkus project via build.gradle and GradleExtraProperties.</p>\n<p>I have in my gradle.build file:</p>\n<pre><code>version '0.0.0-SNAPSHOT'\n\next {\n   buildTime = new java.text.SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSSZ&quot;).format(new Date())\n}\n</code></pre>\n<p>and in my Java source:</p>\n<pre class=\"lang-java prettyprint-override\"><code>   @ConfigProperty(name = &quot;version&quot;)\n   String version;\n   \n   @ConfigProperty(name=&quot;buildTime&quot;)\n   String buildTime;\n</code></pre>\n<p>While <em>version</em> gets properly injected, <em>buildTime</em> fails with</p>\n<pre><code>ConfigurationException: Failed to load config value of type class java.lang.String for: buildTime\n</code></pre>\n<p>Does anybody know if and how that can be accomplished?</p>\n"},{"tags":["java","variables","actionlistener"],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670189852,"creation_date":1670187611,"answer_id":74680886,"question_id":74680839,"body_markdown":"You&#39;re coding this as if it were a linear console program, where this code is called:\r\n\r\n```\r\nbtn.addActionListener(new ActionListener() {    \r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        alea = ThreadLocalRandom.current().nextInt(1, 4 + 1);\r\n        String test = &quot;hello&quot;;\r\n    }\r\n});\r\n```\r\n\r\nBefore this is called:\r\n```\r\nString sp = Integer.toString(alea);\r\n``` \r\nassuming that therefore the value of alea has been updated at this point.\r\n\r\n\r\nBut that is not how this code works as it is most definitely *not* a linear program but rather an *event-driven GUI* program, and so alea won&#39;t change until the button&#39;s ActionListener changes it. So *that* is where you should get the new value and do what is needed with it. \r\n\r\nSuggestions:\r\n* First and foremost, get all that code out of the static main method and into the OOP realm of instance methods and fields.\r\n* Make the alea variable a private instance (non-static) field, if it is needed in multiple locations in your program.\r\n* You&#39;re programming an event-driven GUI and so you should be listener for events and changing variable state in response to the events. This includes handling changes to the alea variable in the button&#39;s ActionListener, as noted above, because that is where you will be notified that it should be changed.\r\n* Avoid null layouts and `setBounds(...)` as this will lead to inflexible and hard to maintain GUIs and instead learn and use the Swing layout managers. You can find the layout manager tutorial here: [Layout Manager Tutorial](http://docs.oracle.com/javase/tutorial/uiswing/layout/index.html), and you can find links to the Swing tutorials and to other Swing resources here: [Swing Info](https://stackoverflow.com/tags/swing/info).\r\n* This error, *&quot;&quot;Local variable name defined in an enclosing scope must be final or effectively final&quot;*, will go away if alea is an instance field of the class (not a *local* variable).\r\n\r\n_______________________________\r\nFor example\r\n```\r\nimport java.awt.BorderLayout;\r\nimport java.awt.event.ActionEvent;\r\nimport java.util.concurrent.ThreadLocalRandom;\r\nimport javax.swing.*;\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\npublic class QuizFoo extends JPanel {\r\n    public static final int ORIGIN = 1;\r\n    public static final int SPREAD = 4;\r\n    private int alea = 0;\r\n    private JButton nextButton;\r\n    private JTextArea outputArea;;\r\n    \r\n    public QuizFoo() {\r\n        // add a listener to the button and add it to a JPanel\r\n        nextButton = new JButton(&quot;Next&quot;);\r\n        nextButton.addActionListener(e -&gt; nextActionPerformed(e));\r\n        JPanel buttonPanel = new JPanel();\r\n        buttonPanel.add(nextButton);\r\n        \r\n        // text area to display our GUI output. put it in a scroll pane\r\n        int rows = 30;\r\n        int columns = 50;\r\n        outputArea = new JTextArea(rows, columns);\r\n        outputArea.setFocusable(false);\r\n        JScrollPane scrollPane = new JScrollPane(outputArea);\r\n        \r\n        // make the main jpanel use a borderlayout, and add our components to it\r\n        setLayout(new BorderLayout());\r\n        add(buttonPanel, BorderLayout.PAGE_START);\r\n        add(scrollPane, BorderLayout.CENTER);\r\n    }\r\n    \r\n    // action listener called when button pressed\r\n    private void nextActionPerformed(ActionEvent e) {\r\n        alea = ThreadLocalRandom.current().nextInt(ORIGIN, ORIGIN + SPREAD);\r\n        \r\n        // USE ALEA HERE ****\r\n        \r\n        // for example:\r\n        String textToAppend = &quot;Alea: &quot; + String.valueOf(alea) + &quot;\\n&quot;;\r\n        outputArea.append(textToAppend);\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        // create the GUI in a Swing thread-safe way\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            QuizFoo mainPanel = new QuizFoo();\r\n\r\n            JFrame frame = new JFrame(&quot;Quiz&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.add(mainPanel);\r\n            frame.pack();\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n        });\r\n    }\r\n}\r\n```","title":"Use value out of ActionListener in Java","body":"<p>You're coding this as if it were a linear console program, where this code is called:</p>\n<pre><code>btn.addActionListener(new ActionListener() {    \n    @Override\n    public void actionPerformed(ActionEvent e) {\n        alea = ThreadLocalRandom.current().nextInt(1, 4 + 1);\n        String test = &quot;hello&quot;;\n    }\n});\n</code></pre>\n<p>Before this is called:</p>\n<pre><code>String sp = Integer.toString(alea);\n</code></pre>\n<p>assuming that therefore the value of alea has been updated at this point.</p>\n<p>But that is not how this code works as it is most definitely <em>not</em> a linear program but rather an <em>event-driven GUI</em> program, and so alea won't change until the button's ActionListener changes it. So <em>that</em> is where you should get the new value and do what is needed with it.</p>\n<p>Suggestions:</p>\n<ul>\n<li>First and foremost, get all that code out of the static main method and into the OOP realm of instance methods and fields.</li>\n<li>Make the alea variable a private instance (non-static) field, if it is needed in multiple locations in your program.</li>\n<li>You're programming an event-driven GUI and so you should be listener for events and changing variable state in response to the events. This includes handling changes to the alea variable in the button's ActionListener, as noted above, because that is where you will be notified that it should be changed.</li>\n<li>Avoid null layouts and <code>setBounds(...)</code> as this will lead to inflexible and hard to maintain GUIs and instead learn and use the Swing layout managers. You can find the layout manager tutorial here: <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Layout Manager Tutorial</a>, and you can find links to the Swing tutorials and to other Swing resources here: <a href=\"https://stackoverflow.com/tags/swing/info\">Swing Info</a>.</li>\n<li>This error, <em>&quot;&quot;Local variable name defined in an enclosing scope must be final or effectively final&quot;</em>, will go away if alea is an instance field of the class (not a <em>local</em> variable).</li>\n</ul>\n<hr />\n<p>For example</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.event.ActionEvent;\nimport java.util.concurrent.ThreadLocalRandom;\nimport javax.swing.*;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class QuizFoo extends JPanel {\n    public static final int ORIGIN = 1;\n    public static final int SPREAD = 4;\n    private int alea = 0;\n    private JButton nextButton;\n    private JTextArea outputArea;;\n    \n    public QuizFoo() {\n        // add a listener to the button and add it to a JPanel\n        nextButton = new JButton(&quot;Next&quot;);\n        nextButton.addActionListener(e -&gt; nextActionPerformed(e));\n        JPanel buttonPanel = new JPanel();\n        buttonPanel.add(nextButton);\n        \n        // text area to display our GUI output. put it in a scroll pane\n        int rows = 30;\n        int columns = 50;\n        outputArea = new JTextArea(rows, columns);\n        outputArea.setFocusable(false);\n        JScrollPane scrollPane = new JScrollPane(outputArea);\n        \n        // make the main jpanel use a borderlayout, and add our components to it\n        setLayout(new BorderLayout());\n        add(buttonPanel, BorderLayout.PAGE_START);\n        add(scrollPane, BorderLayout.CENTER);\n    }\n    \n    // action listener called when button pressed\n    private void nextActionPerformed(ActionEvent e) {\n        alea = ThreadLocalRandom.current().nextInt(ORIGIN, ORIGIN + SPREAD);\n        \n        // USE ALEA HERE ****\n        \n        // for example:\n        String textToAppend = &quot;Alea: &quot; + String.valueOf(alea) + &quot;\\n&quot;;\n        outputArea.append(textToAppend);\n    }\n    \n    public static void main(String[] args) {\n        // create the GUI in a Swing thread-safe way\n        SwingUtilities.invokeLater(() -&gt; {\n            QuizFoo mainPanel = new QuizFoo();\n\n            JFrame frame = new JFrame(&quot;Quiz&quot;);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.add(mainPanel);\n            frame.pack();\n            frame.setLocationRelativeTo(null);\n            frame.setVisible(true);\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27144979,"reputation":3,"user_id":20685343,"display_name":"teddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74680886,"answer_count":1,"score":0,"last_activity_date":1670189852,"creation_date":1670187278,"question_id":74680839,"body_markdown":"I am juste starting to code, and I am trying to write a program were I would need a button to change a value (alea) that would be used out of actionPerformed methode. What I have currently wrote goes like this : \r\n\r\n```\r\nimport java.awt.Image;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.util.concurrent.ThreadLocalRandom;\r\n\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.*;\r\n\r\n\r\npublic class Quiz {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\t\r\n\t\tJButton btn = new JButton(&quot;Next&quot;);\r\n\t\tbtn.setBounds(200, 400, 200, 40);\r\n\t\t\r\n\t\tint alea = 0;\r\n\r\n\t\tbtn.addActionListener(new ActionListener() {\t\r\n\t\t\t@Override\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\talea = ThreadLocalRandom.current().nextInt(1, 4 + 1); // I get the error &quot;Local variable name defined in an enclosing scope must be final or effectively final&quot;\r\n\t\t\t\tString test = &quot;hello&quot;;\r\n\t\t\t}\r\n\r\n\t\t});\r\n\t\t \r\n\t\t String sp = Integer.toString(alea);\r\n\t\t String vue = sp + &quot;.png&quot;;\r\n\t\t\r\n\t\t String imgUrl=&quot;./images/&quot;+vue;\r\n\t\t ImageIcon imageIcon = new ImageIcon(imgUrl);\r\n\r\n....\r\n\r\n```\r\n\r\nBut like this the alea defined before the button doesn&#39;t seem to be the same as the one in the button. I searched the internet for an answer, and I don&#39;t understand why it doesn&#39;t work...\r\nSorry for my crappy english.\r\n\r\nThanks a lot in advance !\r\n\r\n\r\nI tried not to declare alea before the button action, but inside the methode, and it did not work.\r\nI tried to use a getter and setter, but did not succeed. \r\nI searched the internet for solution, I encountered similar problem but the solution of which did not help me.","title":"Use value out of ActionListener in Java","body":"<p>I am juste starting to code, and I am trying to write a program were I would need a button to change a value (alea) that would be used out of actionPerformed methode. What I have currently wrote goes like this :</p>\n<pre><code>import java.awt.Image;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.concurrent.ThreadLocalRandom;\n\nimport javax.swing.JFrame;\nimport javax.swing.JButton;\nimport javax.swing.JLabel;\nimport javax.swing.*;\n\n\npublic class Quiz {\n\n    public static void main(String[] args) {\n        \n        \n        JButton btn = new JButton(&quot;Next&quot;);\n        btn.setBounds(200, 400, 200, 40);\n        \n        int alea = 0;\n\n        btn.addActionListener(new ActionListener() {    \n            @Override\n            public void actionPerformed(ActionEvent e) {\n                alea = ThreadLocalRandom.current().nextInt(1, 4 + 1); // I get the error &quot;Local variable name defined in an enclosing scope must be final or effectively final&quot;\n                String test = &quot;hello&quot;;\n            }\n\n        });\n         \n         String sp = Integer.toString(alea);\n         String vue = sp + &quot;.png&quot;;\n        \n         String imgUrl=&quot;./images/&quot;+vue;\n         ImageIcon imageIcon = new ImageIcon(imgUrl);\n\n....\n\n</code></pre>\n<p>But like this the alea defined before the button doesn't seem to be the same as the one in the button. I searched the internet for an answer, and I don't understand why it doesn't work...\nSorry for my crappy english.</p>\n<p>Thanks a lot in advance !</p>\n<p>I tried not to declare alea before the button action, but inside the methode, and it did not work.\nI tried to use a getter and setter, but did not succeed.\nI searched the internet for solution, I encountered similar problem but the solution of which did not help me.</p>\n"},{"tags":["java","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":19165296,"reputation":1941,"user_id":14000148,"display_name":"warkolm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670189178,"creation_date":1669886460,"answer_id":74639526,"question_id":74638138,"body_markdown":"none, you do not need to restart them as these are all updated dynamically\r\n\r\nif you are using a custom regex file, as your comment clarifies, you will need to update the node(s) that have this file so that it can be re-read","title":"Which elasticsearch cluster nodes are we supposed to restart after a pipeline update?","body":"<p>none, you do not need to restart them as these are all updated dynamically</p>\n<p>if you are using a custom regex file, as your comment clarifies, you will need to update the node(s) that have this file so that it can be re-read</p>\n"}],"owner":{"account_id":11289601,"reputation":89,"user_id":8287608,"display_name":"checkmate101"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670189178,"creation_date":1669878865,"question_id":74638138,"body_markdown":"Suppose we have to update a ingest pipline with custom config and this requires a node restart. I understand that we can go about restarting the entire cluster like so: https://stackoverflow.com/questions/14119062/restart-elasticsearch-node\r\n\r\nBut is that necessary? Is is necessary to restart the data nodes?\r\n\r\nExample:\r\n4 nodes in the ES cluster (roles in brackets)\r\n\r\n - NodeA (master, data) \r\n - NodeB (master, data)\r\n - NodeC (ingest or no defined\r\n   role)\r\n - NodeD (ingest or no defined role)\r\n\r\nAfter updating the pipeline, do I need to restart NodeA and NodeB in this case? Or will restarting NodeC and NodeD suffice?","title":"Which elasticsearch cluster nodes are we supposed to restart after a pipeline update?","body":"<p>Suppose we have to update a ingest pipline with custom config and this requires a node restart. I understand that we can go about restarting the entire cluster like so: <a href=\"https://stackoverflow.com/questions/14119062/restart-elasticsearch-node\">Restart elasticsearch node</a></p>\n<p>But is that necessary? Is is necessary to restart the data nodes?</p>\n<p>Example:\n4 nodes in the ES cluster (roles in brackets)</p>\n<ul>\n<li>NodeA (master, data)</li>\n<li>NodeB (master, data)</li>\n<li>NodeC (ingest or no defined\nrole)</li>\n<li>NodeD (ingest or no defined role)</li>\n</ul>\n<p>After updating the pipeline, do I need to restart NodeA and NodeB in this case? Or will restarting NodeC and NodeD suffice?</p>\n"},{"tags":["java","javafx","netbeans","scenebuilder"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1670174286,"post_id":74678968,"comment_id":131808844,"body_markdown":"[mcve] please demonstrating what you are after and how it doesn&#39;t work","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please demonstrating what you are after and how it doesn&#39;t work"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1670174515,"post_id":74678968,"comment_id":131808892,"body_markdown":"It&#39;s probably better to register the mouse events in Java (for example, in the controller&#39;s `initialize()` method) instead of in FXML in this scenario. That way you can use loops, etc., to do the same thing for multiple nodes. You almost certainly don&#39;t want a single event handler for multiple nodes; that is a bad design.","body":"It&#39;s probably better to register the mouse events in Java (for example, in the controller&#39;s <code>initialize()</code> method) instead of in FXML in this scenario. That way you can use loops, etc., to do the same thing for multiple nodes. You almost certainly don&#39;t want a single event handler for multiple nodes; that is a bad design."}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670188294,"creation_date":1670175380,"answer_id":74679178,"question_id":74678968,"body_markdown":"Register the event handler in the `intialize()` method, instead of in the FXML. Remove the `onMouseEnter` and `onMouseExit` attributes from the FXML file, and modify the controller as follows:\r\n\r\n    \r\n    void btnMouseEnter(Node first, Node second) {\r\n        fadeOffTransition(first);\r\n        second.setVisible(true);\r\n        translateTransition(second);\r\n    }\r\n    \r\n    \r\n    void btnMouseExit(Node first, Node second) {\r\n        fadeInTransition(first);\r\n        second.setVisible(false);\r\n    }\r\n    \r\n    @Override\r\n    public void initialize(URL url, ResourceBundle rb) {\r\n       btnView2.setOnMouseEnter(e -&gt; btnMouseEnter(btnView2, hboxView2));\r\n       btnView2.setOnMouseExit(e -&gt; btnMouseExit(btnView2, hboxView2));\r\n    }\r\n\r\nYou can also make the obvious reductions in code, e.g.:\r\n\r\n    private void registerMouseHandlers(Button button, Node target) {\r\n        button.setOnMouseEnter(e -&gt; btnMouseEnter(button, target));\r\n        button.setOnMouseExit(e -&gt; btnMouseExit(button, target));\r\n    }\r\n    \r\n    @Override\r\n    public void initialize(URL location, ResourceBundle resources) {\r\n        registerMouseHandlers(btnView, hboxView);\r\n        registerMouseHandlers(btnView2, hboxView2);\r\n    }\r\n\r\nAnd if you have a fairly large number of these, it might also be more efficient (in terms of lines of code) to do\r\n\r\n    @Override\r\n    public void initialize(URL location, ResourceBundle resources) {\r\n        List&lt;Button&gt; buttons = List.of(btnView, btnView2);\r\n        List&lt;Node&gt; targets = List.of(hboxView, hboxView2);\r\n        for (int i = 0 ; i &lt; buttons.size() ; i++) {\r\n            registerMouseHandlers(buttons.get(i), targets.get(i));\r\n        }\r\n    }\r\n\r\nYou could also consider creating a [custom component](https://openjfx.io/javadoc/19/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#custom_components) encapsulating your button and hbox, which simply implements the event handlers for a single button-hbox pair, and then including them in the FXML using `fx:include`.","title":"Is it possible to make a &quot;centralized&quot; MouseEvent?","body":"<p>Register the event handler in the <code>intialize()</code> method, instead of in the FXML. Remove the <code>onMouseEnter</code> and <code>onMouseExit</code> attributes from the FXML file, and modify the controller as follows:</p>\n<pre><code>void btnMouseEnter(Node first, Node second) {\n    fadeOffTransition(first);\n    second.setVisible(true);\n    translateTransition(second);\n}\n\n\nvoid btnMouseExit(Node first, Node second) {\n    fadeInTransition(first);\n    second.setVisible(false);\n}\n\n@Override\npublic void initialize(URL url, ResourceBundle rb) {\n   btnView2.setOnMouseEnter(e -&gt; btnMouseEnter(btnView2, hboxView2));\n   btnView2.setOnMouseExit(e -&gt; btnMouseExit(btnView2, hboxView2));\n}\n</code></pre>\n<p>You can also make the obvious reductions in code, e.g.:</p>\n<pre><code>private void registerMouseHandlers(Button button, Node target) {\n    button.setOnMouseEnter(e -&gt; btnMouseEnter(button, target));\n    button.setOnMouseExit(e -&gt; btnMouseExit(button, target));\n}\n\n@Override\npublic void initialize(URL location, ResourceBundle resources) {\n    registerMouseHandlers(btnView, hboxView);\n    registerMouseHandlers(btnView2, hboxView2);\n}\n</code></pre>\n<p>And if you have a fairly large number of these, it might also be more efficient (in terms of lines of code) to do</p>\n<pre><code>@Override\npublic void initialize(URL location, ResourceBundle resources) {\n    List&lt;Button&gt; buttons = List.of(btnView, btnView2);\n    List&lt;Node&gt; targets = List.of(hboxView, hboxView2);\n    for (int i = 0 ; i &lt; buttons.size() ; i++) {\n        registerMouseHandlers(buttons.get(i), targets.get(i));\n    }\n}\n</code></pre>\n<p>You could also consider creating a <a href=\"https://openjfx.io/javadoc/19/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#custom_components\" rel=\"nofollow noreferrer\">custom component</a> encapsulating your button and hbox, which simply implements the event handlers for a single button-hbox pair, and then including them in the FXML using <code>fx:include</code>.</p>\n"}],"owner":{"account_id":24760965,"reputation":19,"user_id":19689062,"display_name":"Luqman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1670188294,"creation_date":1670173907,"question_id":74678968,"body_markdown":" I have these two MouseEvents, and I want them &quot;centralized&quot; because I have other nodes that will do the same thing. I know that this can be done if you create multiple MouseEvents, but I reckon that there must be a shorter way.\r\n \r\n\r\n    public class scMain implements Initializable {\r\n\r\n    @FXML\r\n    private Button btnView, btnView2;\r\n    @FXML\r\n    private HBox hboxView, hboxView2;\r\n\r\n    public void translateTransition(Node node) {\r\n        TranslateTransition translate = new TranslateTransition();\r\n        translate.setNode(node);\r\n        // ...animation stuff   \r\n        translate.play();\r\n    }\r\n\r\n    public void fadeOffTransition(Node node) {\r\n        FadeTransition fade = new FadeTransition();\r\n        fade.setNode(node);\r\n        // ...animation stuff  \r\n        fade.play();\r\n    }\r\n\r\n    public void fadeInTransition(Node node) {\r\n        FadeTransition fade = new FadeTransition();\r\n        fade.setNode(node);\r\n        // ...animation stuff  \r\n        fade.play();\r\n    }\r\n\r\n    @FXML\r\n    void btnMouseEnter(MouseEvent event) {\r\n        fadeOffTransition(btnView);\r\n        hboxView.setVisible(true);\r\n        translateTransition(hboxView);\r\n    }\r\n\r\n    @FXML\r\n    void btnMouseExit(MouseEvent event) {\r\n        fadeInTransition(btnView);\r\n        hboxView.setVisible(false);\r\n    }}\r\n\r\nWhat I tried but obviously didn&#39;t work :\r\n\r\n    @FXML\r\n    void btnMouseEnter(MouseEvent event, Node first, Node second) {\r\n        fadeOffTransition(first);\r\n        second.setVisible(true);\r\n        translateTransition(second);\r\n    }\r\n    \r\n    @FXML\r\n    void btnMouseExit(MouseEvent event, Node first, Node second) {\r\n        fadeInTransition(first);\r\n        second.setVisible(false);\r\n    }\r\n\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle rb) {\r\n       btnMouseEnter(event, btnView2, hboxView2); //error cannot find symbol\r\n       btnMouseExit(event, btnView2, hboxView2); //error cannot find symbol\r\n    }\r\n    \r\n\r\nAny suggestions would be appreciated.\r\n","title":"Is it possible to make a &quot;centralized&quot; MouseEvent?","body":"<p>I have these two MouseEvents, and I want them &quot;centralized&quot; because I have other nodes that will do the same thing. I know that this can be done if you create multiple MouseEvents, but I reckon that there must be a shorter way.</p>\n<pre><code>public class scMain implements Initializable {\n\n@FXML\nprivate Button btnView, btnView2;\n@FXML\nprivate HBox hboxView, hboxView2;\n\npublic void translateTransition(Node node) {\n    TranslateTransition translate = new TranslateTransition();\n    translate.setNode(node);\n    // ...animation stuff   \n    translate.play();\n}\n\npublic void fadeOffTransition(Node node) {\n    FadeTransition fade = new FadeTransition();\n    fade.setNode(node);\n    // ...animation stuff  \n    fade.play();\n}\n\npublic void fadeInTransition(Node node) {\n    FadeTransition fade = new FadeTransition();\n    fade.setNode(node);\n    // ...animation stuff  \n    fade.play();\n}\n\n@FXML\nvoid btnMouseEnter(MouseEvent event) {\n    fadeOffTransition(btnView);\n    hboxView.setVisible(true);\n    translateTransition(hboxView);\n}\n\n@FXML\nvoid btnMouseExit(MouseEvent event) {\n    fadeInTransition(btnView);\n    hboxView.setVisible(false);\n}}\n</code></pre>\n<p>What I tried but obviously didn't work :</p>\n<pre><code>@FXML\nvoid btnMouseEnter(MouseEvent event, Node first, Node second) {\n    fadeOffTransition(first);\n    second.setVisible(true);\n    translateTransition(second);\n}\n\n@FXML\nvoid btnMouseExit(MouseEvent event, Node first, Node second) {\n    fadeInTransition(first);\n    second.setVisible(false);\n}\n\n@Override\npublic void initialize(URL url, ResourceBundle rb) {\n   btnMouseEnter(event, btnView2, hboxView2); //error cannot find symbol\n   btnMouseExit(event, btnView2, hboxView2); //error cannot find symbol\n}\n</code></pre>\n<p>Any suggestions would be appreciated.</p>\n"},{"tags":["java","netbeans","java-14"],"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1584891509,"post_id":60790646,"comment_id":107572979,"body_markdown":"Although I can replicate your problem, when I examine the version of my class file using `javap` from the command line, I get `minor version: 65535 major version: 58`, which is what I would expect. How are you determining that your class files truly are version 57?","body":"Although I can replicate your problem, when I examine the version of my class file using <code>javap</code> from the command line, I get <code>minor version: 65535 major version: 58</code>, which is what I would expect. How are you determining that your class files truly are version 57?"},{"owner":{"account_id":51536,"reputation":833,"user_id":154007,"accept_rate":29,"display_name":"Rintoul"},"score":0,"creation_date":1584979948,"post_id":60790646,"comment_id":107601909,"body_markdown":"I also used javap.  Somehow the problem went away - I think I rebooted my machine or something else &quot;fixed&quot; it; I don&#39;t know if my Netbeans installation was using some settings from my previous installation or what...  Really weird, though, in that I do not have Java 13 installed on my system.  I guess I&#39;ll never really know what was going on.  But thank you for your input!","body":"I also used javap.  Somehow the problem went away - I think I rebooted my machine or something else &quot;fixed&quot; it; I don&#39;t know if my Netbeans installation was using some settings from my previous installation or what...  Really weird, though, in that I do not have Java 13 installed on my system.  I guess I&#39;ll never really know what was going on.  But thank you for your input!"}],"answers":[{"tags":[],"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1584817783,"creation_date":1584817783,"answer_id":60792155,"question_id":60790646,"body_markdown":"As well as setting **--enable-preview** as a compiler option, it should also be set as a *VM Option* when running the code: \r\n\r\n[![enter image description here][1]][1]\r\n\r\nHowever, that doesn&#39;t fix the problem, and unfortunately this looks like a NetBeans 11.3 bug. I reproduced your problem with a *Java with Ant* project, and created Bug Report [NETBEANS-4049 UnsupportedClassVersionError when running JDK14 code with --enable-preview][2].\r\n\r\nThere are a couple of workarounds if you need to use preview features with JDK 14 in NetBeans:\r\n\r\n- Run your application from the command line (with **--enable-preview** as an option) instead of within NetBeans. The same code which fails with the *UnsupportedClassVersionError* in NetBeans runs fine in that environment, which strongly suggests that NetBeans is ignoring the **--enable-preview** run time option. \r\n- Create a *Java with Maven* project instead of a *Java with Ant* project. You can then run your code which uses preview features within NetBeans.\r\n\r\nUpdate your question with more details if you still have problems.\r\n\r\n  [1]: https://i.stack.imgur.com/vux5k.png\r\n  [2]: https://issues.apache.org/jira/browse/NETBEANS-4049","title":"Netbeans 11.3 and Java 14 Preview Features","body":"<p>As well as setting <strong>--enable-preview</strong> as a compiler option, it should also be set as a <em>VM Option</em> when running the code: </p>\n\n<p><a href=\"https://i.stack.imgur.com/vux5k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vux5k.png\" alt=\"enter image description here\"></a></p>\n\n<p>However, that doesn't fix the problem, and unfortunately this looks like a NetBeans 11.3 bug. I reproduced your problem with a <em>Java with Ant</em> project, and created Bug Report <a href=\"https://issues.apache.org/jira/browse/NETBEANS-4049\" rel=\"nofollow noreferrer\">NETBEANS-4049 UnsupportedClassVersionError when running JDK14 code with --enable-preview</a>.</p>\n\n<p>There are a couple of workarounds if you need to use preview features with JDK 14 in NetBeans:</p>\n\n<ul>\n<li>Run your application from the command line (with <strong>--enable-preview</strong> as an option) instead of within NetBeans. The same code which fails with the <em>UnsupportedClassVersionError</em> in NetBeans runs fine in that environment, which strongly suggests that NetBeans is ignoring the <strong>--enable-preview</strong> run time option. </li>\n<li>Create a <em>Java with Maven</em> project instead of a <em>Java with Ant</em> project. You can then run your code which uses preview features within NetBeans.</li>\n</ul>\n\n<p>Update your question with more details if you still have problems.</p>\n"},{"tags":[],"owner":{"account_id":18429976,"reputation":1,"user_id":13425370,"display_name":"chris.bailey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588125716,"creation_date":1588078562,"answer_id":61480710,"question_id":60790646,"body_markdown":"nb-javac should not be installed (it appears in the plugins). \r\n\r\nIf it is installed in 11.3, it seems to create classfiles with version 57 not 58, which the runtime then objects to, as above.","title":"Netbeans 11.3 and Java 14 Preview Features","body":"<p>nb-javac should not be installed (it appears in the plugins). </p>\n\n<p>If it is installed in 11.3, it seems to create classfiles with version 57 not 58, which the runtime then objects to, as above.</p>\n"},{"tags":[],"owner":{"account_id":2260450,"reputation":919,"user_id":1990698,"accept_rate":24,"display_name":"Felix Aballi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1595908134,"creation_date":1595907460,"answer_id":63126662,"question_id":60790646,"body_markdown":"## Netbeans Project Configuration (Java 14)\r\n- Java 14 \r\n- Netbeans &gt;= 11 (Current: 12.0 LTS)\r\n\r\n**Optional**: \r\n&gt; Can use **sdkman** or set default java path:\r\n&gt;\r\n```text \r\n  /opt/&lt;jdk-install-dir&gt;\r\n```\r\n\r\n```text \r\nC:\\Program Files\\&lt;jdk-install-dir&gt;\r\n```\r\n\r\n### Project &#39;Run&#39; Configuration\r\n\r\n[![Project Run Configuration][1]][1]\r\n\r\n### Java Platform\r\n\r\n[![Build / Compile][2]][2]\r\n\r\n## pom.xml\r\n\r\n### _Notes_\r\n - Check maven.compiler.source / maven.compiler.target\r\n - Check build-&gt;plugins-&gt;plugin-&gt;...-&gt; compilerArgs -&gt; arg\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\r\n    &lt;artifactId&gt;Demo&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;14&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;14&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;compilerArgs&gt;\r\n                        &lt;arg&gt;--enable-preview&lt;/arg&gt;\r\n                    &lt;/compilerArgs&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/psuKt.png\r\n  [2]: https://i.stack.imgur.com/FX9j1.png","title":"Netbeans 11.3 and Java 14 Preview Features","body":"<h2>Netbeans Project Configuration (Java 14)</h2>\n<ul>\n<li>Java 14</li>\n<li>Netbeans &gt;= 11 (Current: 12.0 LTS)</li>\n</ul>\n<p><strong>Optional</strong>:</p>\n<blockquote>\n<p>Can use <strong>sdkman</strong> or set default java path:</p>\n</blockquote>\n<pre><code>  /opt/&lt;jdk-install-dir&gt;\n</code></pre>\n<pre><code>C:\\Program Files\\&lt;jdk-install-dir&gt;\n</code></pre>\n<h3>Project 'Run' Configuration</h3>\n<p><a href=\"https://i.stack.imgur.com/psuKt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/psuKt.png\" alt=\"Project Run Configuration\" /></a></p>\n<h3>Java Platform</h3>\n<p><a href=\"https://i.stack.imgur.com/FX9j1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FX9j1.png\" alt=\"Build / Compile\" /></a></p>\n<h2>pom.xml</h2>\n<h3><em>Notes</em></h3>\n<ul>\n<li>Check maven.compiler.source / maven.compiler.target</li>\n<li>Check build-&gt;plugins-&gt;plugin-&gt;...-&gt; compilerArgs -&gt; arg</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\n    &lt;artifactId&gt;Demo&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;14&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;14&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;compilerArgs&gt;\n                        &lt;arg&gt;--enable-preview&lt;/arg&gt;\n                    &lt;/compilerArgs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3542965,"reputation":397,"user_id":2959589,"accept_rate":0,"display_name":"user2959589"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670188293,"creation_date":1670188293,"answer_id":74680963,"question_id":60790646,"body_markdown":"I&#39;m trying this with Netbeans 15. I want to use the foreign linker API, and code completion is saying:\r\n\r\n&gt; MemoryAddress is a preview API and is disabled by default.  (use\r\n&gt; --enable-preview to enable preview APIs)\r\n\r\nThis is with both JDK 19 and JDK 20 preview. I put the `--enable-preview` option in the `pom.xml` and it doesn&#39;t change anything. If I go to project properties / Build / Compile, there are options to choose which JDK but no way to enter JDK options. It seems like `--enable-preview` is recommended by NetBeans hints but there&#39;s no way to actually do it. Is this a bug in NB or am I missing something? Very frustrating because I would like to use some of these features and I&#39;m spending my time trying to get my code editor to work. I think this did work in previous versions of NB.","title":"Netbeans 11.3 and Java 14 Preview Features","body":"<p>I'm trying this with Netbeans 15. I want to use the foreign linker API, and code completion is saying:</p>\n<blockquote>\n<p>MemoryAddress is a preview API and is disabled by default.  (use\n--enable-preview to enable preview APIs)</p>\n</blockquote>\n<p>This is with both JDK 19 and JDK 20 preview. I put the <code>--enable-preview</code> option in the <code>pom.xml</code> and it doesn't change anything. If I go to project properties / Build / Compile, there are options to choose which JDK but no way to enter JDK options. It seems like <code>--enable-preview</code> is recommended by NetBeans hints but there's no way to actually do it. Is this a bug in NB or am I missing something? Very frustrating because I would like to use some of these features and I'm spending my time trying to get my code editor to work. I think this did work in previous versions of NB.</p>\n"}],"owner":{"account_id":51536,"reputation":833,"user_id":154007,"accept_rate":29,"display_name":"Rintoul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4357,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1670188293,"creation_date":1584809992,"question_id":60790646,"body_markdown":"I am using Java 14 as the default Java platform for Netbeans 11.3 (netbeans_jdkhome is set to my Java 14 JDK) and trying to use a preview feature in a simple Java application.  I set the source level to 14 and set --enable-preview as a compiler argument.  The code compiles without errors.\r\n\r\nHowever, when I try to run it within Netbeans, it complains that the major version of the .class files is 57 while the runtime only plays well with 58 files and preview features.  Here&#39;s the error:\r\n&gt;\tjava.lang.UnsupportedClassVersionError: javaapplicationtest14/JavaApplicationTest14 (class file version 57.65535) was compiled with preview features that are unsupported. This version of the Java Runtime only recognizes preview features for class file version 58.65535\r\n\r\nI checked the major version of the .class files and they are indeed 57.  Any ideas why my project won&#39;t compile into Java 14 level?  I am using an Ant build.","title":"Netbeans 11.3 and Java 14 Preview Features","body":"<p>I am using Java 14 as the default Java platform for Netbeans 11.3 (netbeans_jdkhome is set to my Java 14 JDK) and trying to use a preview feature in a simple Java application.  I set the source level to 14 and set --enable-preview as a compiler argument.  The code compiles without errors.</p>\n\n<p>However, when I try to run it within Netbeans, it complains that the major version of the .class files is 57 while the runtime only plays well with 58 files and preview features.  Here's the error:</p>\n\n<blockquote>\n  <p>java.lang.UnsupportedClassVersionError: javaapplicationtest14/JavaApplicationTest14 (class file version 57.65535) was compiled with preview features that are unsupported. This version of the Java Runtime only recognizes preview features for class file version 58.65535</p>\n</blockquote>\n\n<p>I checked the major version of the .class files and they are indeed 57.  Any ideas why my project won't compile into Java 14 level?  I am using an Ant build.</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":3,"creation_date":1394011796,"post_id":22193558,"comment_id":33689516,"body_markdown":"Why don&#39;t you just `try`/`catch` within the `while` loop?","body":"Why don&#39;t you just <code>try</code>/<code>catch</code> within the <code>while</code> loop?"},{"owner":{"account_id":2386067,"reputation":159,"user_id":2087019,"accept_rate":57,"display_name":"LeonarD"},"score":0,"creation_date":1394012553,"post_id":22193558,"comment_id":33689975,"body_markdown":"Thanks a lot guys, your replies were valuable. and yeah it worked.","body":"Thanks a lot guys, your replies were valuable. and yeah it worked."}],"answers":[{"tags":[],"owner":{"account_id":72575,"reputation":40784,"user_id":209513,"accept_rate":100,"display_name":"Subhrajyoti Majumder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394012216,"creation_date":1394011874,"answer_id":22193635,"question_id":22193558,"body_markdown":"Bit of logic you can introduce to re-execute your `try-catch` as example one approach - `do-while` loop, where check in the loop condition that try is executated or not!\r\n\r\n    boolean reLoop = false;\r\n    do{\r\n       try{\r\n           // your code\r\n       }catch(Exception ex){\r\n          // handle your exception\r\n          reLoop = true;\r\n       }\r\n    }while(tryExecuted);\r\n\r\nOne important thing to consider that is `infinite-loop`, if your try is getting fail every time, In that specific case, consider the maximum number of `try` block should execute.\r\n\r\n\r\n    boolean reLoop = false;\r\n    int loopMaxCount = 3; // assumed maximum number of re looping \r\n    int loopCont = 0; \r\n    do{\r\n       loopCont++;\r\n       try{\r\n           // your code\r\n       }catch(Exception ex){\r\n          // handle your exception\r\n          if(loopCont &lt; loopMaxCount) // It blocks infinite looping\r\n               reLoop = true;\r\n       }\r\n    }while(tryExecuted);","title":"is there any way by which we can go back to try block from catch","body":"<p>Bit of logic you can introduce to re-execute your <code>try-catch</code> as example one approach - <code>do-while</code> loop, where check in the loop condition that try is executated or not!</p>\n\n<pre><code>boolean reLoop = false;\ndo{\n   try{\n       // your code\n   }catch(Exception ex){\n      // handle your exception\n      reLoop = true;\n   }\n}while(tryExecuted);\n</code></pre>\n\n<p>One important thing to consider that is <code>infinite-loop</code>, if your try is getting fail every time, In that specific case, consider the maximum number of <code>try</code> block should execute.</p>\n\n<pre><code>boolean reLoop = false;\nint loopMaxCount = 3; // assumed maximum number of re looping \nint loopCont = 0; \ndo{\n   loopCont++;\n   try{\n       // your code\n   }catch(Exception ex){\n      // handle your exception\n      if(loopCont &lt; loopMaxCount) // It blocks infinite looping\n           reLoop = true;\n   }\n}while(tryExecuted);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":362538,"reputation":22412,"user_id":705773,"accept_rate":98,"display_name":"Ajinkya"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1394011898,"creation_date":1394011898,"answer_id":22193651,"question_id":22193558,"body_markdown":"You can do it in while loop  \r\n\r\n    boolean isSuccessful = false;\r\n    while(!isSuccessful){\r\n       try{\r\n         // do whatever you want\r\n         isSuccessful = true;\r\n       }catch(Exception e){\r\n         // Exception so lets do it again\r\n       }\r\n    }","title":"is there any way by which we can go back to try block from catch","body":"<p>You can do it in while loop  </p>\n\n<pre><code>boolean isSuccessful = false;\nwhile(!isSuccessful){\n   try{\n     // do whatever you want\n     isSuccessful = true;\n   }catch(Exception e){\n     // Exception so lets do it again\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1470573,"reputation":29818,"user_id":1382251,"accept_rate":68,"display_name":"barak manos"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1394011914,"creation_date":1394011914,"answer_id":22193657,"question_id":22193558,"body_markdown":"Put the `try/catch` block **inside** the `while` loop:\r\n\r\n    while (x &lt; 10)\r\n    {\r\n        try\r\n        {\r\n            ...\r\n        }\r\n        catch (NoSuchElementException e)\r\n        {\r\n            ...\r\n        }\r\n    }\r\n\r\nBTW, you should also increment `x` inside the loop...\r\n","title":"is there any way by which we can go back to try block from catch","body":"<p>Put the <code>try/catch</code> block <strong>inside</strong> the <code>while</code> loop:</p>\n\n<pre><code>while (x &lt; 10)\n{\n    try\n    {\n        ...\n    }\n    catch (NoSuchElementException e)\n    {\n        ...\n    }\n}\n</code></pre>\n\n<p>BTW, you should also increment <code>x</code> inside the loop...</p>\n"},{"tags":[],"owner":{"account_id":3916226,"reputation":2109,"user_id":3239981,"display_name":"Guy Bouallet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1394012326,"creation_date":1394011922,"answer_id":22193661,"question_id":22193558,"body_markdown":"Create a new method with the xpath as argument and with a `try-catch` block in which you call `driver.findElement`.  \r\nUse this method instead of direct call to `driver.findElement`.","title":"is there any way by which we can go back to try block from catch","body":"<p>Create a new method with the xpath as argument and with a <code>try-catch</code> block in which you call <code>driver.findElement</code>.<br>\nUse this method instead of direct call to <code>driver.findElement</code>.</p>\n"},{"tags":[],"owner":{"account_id":1760367,"reputation":4807,"user_id":1607660,"accept_rate":70,"display_name":"FazoM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670187851,"creation_date":1394012234,"answer_id":22193797,"question_id":22193558,"body_markdown":"There is no way of going back from `catch` to `try` block.\r\n\r\nYou will have to redesign your code - either wrap each `findElement()` method in separate `try/catch` blocks or use a loop as advised in other answers. (I guess in your code there will be two loops - second one will iterate through your all xpath arguments like: `&quot;//td/div/div/div/a&quot;` etc.).","title":"is there any way by which we can go back to try block from catch","body":"<p>There is no way of going back from <code>catch</code> to <code>try</code> block.</p>\n<p>You will have to redesign your code - either wrap each <code>findElement()</code> method in separate <code>try/catch</code> blocks or use a loop as advised in other answers. (I guess in your code there will be two loops - second one will iterate through your all xpath arguments like: <code>&quot;//td/div/div/div/a&quot;</code> etc.).</p>\n"}],"owner":{"account_id":2386067,"reputation":159,"user_id":2087019,"accept_rate":57,"display_name":"LeonarD"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10244,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":22193657,"answer_count":5,"score":1,"last_activity_date":1670187851,"creation_date":1394011639,"question_id":22193558,"body_markdown":"I am running a code in Selenium webdriver and whenever an element is not found it goes to catch. But I want java to continue the execution after skipping that element. \r\n\r\n    import java.util.regex.Pattern;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    import net.sourceforge.htmlunit.corejs.javascript.ast.LabeledStatement;\r\n    \r\n    import org.junit.*;\r\n    import static org.junit.Assert.*;\r\n    import static org.hamcrest.CoreMatchers.*;\r\n    import org.openqa.selenium.*;\r\n    import org.openqa.selenium.firefox.FirefoxDriver;\r\n    import org.openqa.selenium.support.ui.Select;\r\n    \r\n    import com.gargoylesoftware.htmlunit.ElementNotFoundException;\r\n    import com.google.protobuf.DescriptorProtos.FieldDescriptorProto.Label;\r\n    import com.sun.org.apache.bcel.internal.generic.GOTO;\r\n    \r\n    public class try_zencart {\r\n      private WebDriver driver;\r\n      private String baseUrl;\r\n      private boolean acceptNextAlert = true;\r\n      private StringBuffer verificationErrors = new StringBuffer();\r\n    \r\n      @Before\r\n      public void setUp() throws Exception {\r\n        driver = new FirefoxDriver();\r\n        baseUrl = &quot;http://ipadress/&quot;; //I am providing an ip adress\r\n        driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\r\n      }\r\n      \r\n      @Test\r\n      public void testTryZencart() throws Exception {\r\n    \tdriver.get(baseUrl + &quot;/zencart/index.php?main_page=index&amp;cPath=1_16&quot;);\r\n    \ttry{\r\n        int x = 3;\r\n        int y = 0;\r\n        driver.navigate().refresh();\r\n        while(x&lt;10){\r\n        y=y+1;\r\n        System.out.println(&quot;We have now started the &quot; + y + &quot;  iteration, which means that whenever we stop the execution the {$y} iteration was going on.&quot;);\r\n        driver.findElement(By.xpath(&quot;//td/div/div/div/a&quot;)).click();\r\n        driver.findElement(By.xpath(&quot;//td/div/div[2]/div/a&quot;)).click();\r\n        driver.findElement(By.xpath(&quot;//div[2]/div/a[2]&quot;)).click();\r\n        driver.findElement(By.xpath(&quot;//div[2]/div/a[3]&quot;)).click();\r\n        driver.findElement(By.xpath(&quot;//div[12]/div/a[4]&quot;)).click();\r\n        driver.findElement(By.xpath(&quot;//a[5]&quot;)).click();\r\n        driver.findElement(By.xpath(&quot;//a[6]&quot;)).click();\r\n        driver.findElement(By.xpath(&quot;//a[7]&quot;)).click();\r\n        driver.findElement(By.xpath(&quot;//a[8]&quot;)).click();\r\n        driver.findElement(By.xpath(&quot;//a[9]&quot;)).click();\r\n        driver.navigate().refresh();\r\n     }\r\n    \t}\r\n    \tcatch(NoSuchElementException e)\r\n    \t{\r\n    \t\tSystem.out.println(&quot;\\nArjun no good!!&quot;);\r\n    \t\tdriver.navigate().refresh();\r\n    \t}\r\n      }\r\n    \r\n      @After\r\n      public void tearDown() throws Exception {\r\n        driver.quit();\r\n        String verificationErrorString = verificationErrors.toString();\r\n        if (!&quot;&quot;.equals(verificationErrorString)) {\r\n          fail(verificationErrorString);\r\n        }\r\n      }\r\n    \r\n      private boolean isElementPresent(By by) {\r\n        try {\r\n          driver.findElement(by);\r\n          return true;\r\n        } catch (NoSuchElementException e) {\r\n          return false;\r\n        }\r\n      }\r\n    \r\n      private boolean isAlertPresent() {\r\n        try {\r\n          driver.switchTo().alert();\r\n          return true;\r\n        } catch (NoAlertPresentException e) {\r\n          return false;\r\n        }\r\n      }\r\n    \r\n      private String closeAlertAndGetItsText() {\r\n        try {\r\n          Alert alert = driver.switchTo().alert();\r\n          String alertText = alert.getText();\r\n          if (acceptNextAlert) {\r\n            alert.accept();\r\n          } else {\r\n            alert.dismiss();\r\n          }\r\n          return alertText;\r\n        } finally {\r\n          acceptNextAlert = true;\r\n        }\r\n      }\r\n    }\r\n\r\nso now I want the execution to go back to try block after firing the exception. Is there anyways to do so.\r\n\r\n\r\n","title":"is there any way by which we can go back to try block from catch","body":"<p>I am running a code in Selenium webdriver and whenever an element is not found it goes to catch. But I want java to continue the execution after skipping that element. </p>\n\n<pre><code>import java.util.regex.Pattern;\nimport java.util.concurrent.TimeUnit;\n\nimport net.sourceforge.htmlunit.corejs.javascript.ast.LabeledStatement;\n\nimport org.junit.*;\nimport static org.junit.Assert.*;\nimport static org.hamcrest.CoreMatchers.*;\nimport org.openqa.selenium.*;\nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport org.openqa.selenium.support.ui.Select;\n\nimport com.gargoylesoftware.htmlunit.ElementNotFoundException;\nimport com.google.protobuf.DescriptorProtos.FieldDescriptorProto.Label;\nimport com.sun.org.apache.bcel.internal.generic.GOTO;\n\npublic class try_zencart {\n  private WebDriver driver;\n  private String baseUrl;\n  private boolean acceptNextAlert = true;\n  private StringBuffer verificationErrors = new StringBuffer();\n\n  @Before\n  public void setUp() throws Exception {\n    driver = new FirefoxDriver();\n    baseUrl = \"http://ipadress/\"; //I am providing an ip adress\n    driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\n  }\n\n  @Test\n  public void testTryZencart() throws Exception {\n    driver.get(baseUrl + \"/zencart/index.php?main_page=index&amp;cPath=1_16\");\n    try{\n    int x = 3;\n    int y = 0;\n    driver.navigate().refresh();\n    while(x&lt;10){\n    y=y+1;\n    System.out.println(\"We have now started the \" + y + \"  iteration, which means that whenever we stop the execution the {$y} iteration was going on.\");\n    driver.findElement(By.xpath(\"//td/div/div/div/a\")).click();\n    driver.findElement(By.xpath(\"//td/div/div[2]/div/a\")).click();\n    driver.findElement(By.xpath(\"//div[2]/div/a[2]\")).click();\n    driver.findElement(By.xpath(\"//div[2]/div/a[3]\")).click();\n    driver.findElement(By.xpath(\"//div[12]/div/a[4]\")).click();\n    driver.findElement(By.xpath(\"//a[5]\")).click();\n    driver.findElement(By.xpath(\"//a[6]\")).click();\n    driver.findElement(By.xpath(\"//a[7]\")).click();\n    driver.findElement(By.xpath(\"//a[8]\")).click();\n    driver.findElement(By.xpath(\"//a[9]\")).click();\n    driver.navigate().refresh();\n }\n    }\n    catch(NoSuchElementException e)\n    {\n        System.out.println(\"\\nArjun no good!!\");\n        driver.navigate().refresh();\n    }\n  }\n\n  @After\n  public void tearDown() throws Exception {\n    driver.quit();\n    String verificationErrorString = verificationErrors.toString();\n    if (!\"\".equals(verificationErrorString)) {\n      fail(verificationErrorString);\n    }\n  }\n\n  private boolean isElementPresent(By by) {\n    try {\n      driver.findElement(by);\n      return true;\n    } catch (NoSuchElementException e) {\n      return false;\n    }\n  }\n\n  private boolean isAlertPresent() {\n    try {\n      driver.switchTo().alert();\n      return true;\n    } catch (NoAlertPresentException e) {\n      return false;\n    }\n  }\n\n  private String closeAlertAndGetItsText() {\n    try {\n      Alert alert = driver.switchTo().alert();\n      String alertText = alert.getText();\n      if (acceptNextAlert) {\n        alert.accept();\n      } else {\n        alert.dismiss();\n      }\n      return alertText;\n    } finally {\n      acceptNextAlert = true;\n    }\n  }\n}\n</code></pre>\n\n<p>so now I want the execution to go back to try block after firing the exception. Is there anyways to do so.</p>\n"},{"tags":["java","mysql","spring-boot"],"comments":[{"owner":{"account_id":2861986,"reputation":365,"user_id":2457058,"display_name":"artild"},"score":0,"creation_date":1670185026,"post_id":74680147,"comment_id":131811347,"body_markdown":"So many problems here, but mainly:\n\n1. You didn&#39;t define relations between you JPA entities (and may be `ProfessorHatStichpunkt` will be eliminated if you will do so)\n\n2. Your query for `findAllByKeyword` is wrong, there is no `JOIN` of related entities.","body":"So many problems here, but mainly:  1. You didn&#39;t define relations between you JPA entities (and may be <code>ProfessorHatStichpunkt</code> will be eliminated if you will do so)  2. Your query for <code>findAllByKeyword</code> is wrong, there is no <code>JOIN</code> of related entities."}],"answers":[{"tags":[],"owner":{"account_id":175930,"reputation":2593,"user_id":406290,"accept_rate":43,"display_name":"Kevin Hooke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670187256,"creation_date":1670187256,"answer_id":74680837,"question_id":74680147,"body_markdown":"&gt;  since apparently the query fails\r\n\r\nThe query itself is not failing, it hasn&#39;t been executed at the point you get the exception. The exception is telling you that professorRepository can&#39;t be instantiated because you&#39;re referencing a bean in it&#39;s constructor that either doesn&#39;t exist, or is not a managed bean, but take a look at the first parameter in your constructor (&quot;Unsatisfied dependency expressed through constructor parameter 0;&quot;)","title":"Why is this SQL query for Java throwing an exception?","body":"<blockquote>\n<p>since apparently the query fails</p>\n</blockquote>\n<p>The query itself is not failing, it hasn't been executed at the point you get the exception. The exception is telling you that professorRepository can't be instantiated because you're referencing a bean in it's constructor that either doesn't exist, or is not a managed bean, but take a look at the first parameter in your constructor (&quot;Unsatisfied dependency expressed through constructor parameter 0;&quot;)</p>\n"}],"owner":{"account_id":27144450,"reputation":11,"user_id":20684906,"display_name":"David M"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1670187256,"creation_date":1670181902,"question_id":74680147,"body_markdown":"I desperately need help with my uni task. The following query throws an exception when executing the main() of my Springboot project since apparently the query fails.\r\n\r\nI tried to adapt the original findAllByKeyword() from the sample code to my project.\r\nThe difference is that in the sample project the supervisor has a foreign key &quot;id_keyword&quot;\r\nand in my project the Professor does not have one. \r\nTbh I am not well familiar with the syntax of the given query and tried to adapt it as best as I could.\r\n\r\nYou can find the exact error msg at the bottom of this post.\r\n\r\nWith this method I want to find all corresponding Professors for a given Stichpunkt (means keyword in german)\r\n\r\n```\r\n@Query(&quot;SELECT DISTINCT p FROM Professor p &quot; +\r\n        &quot;WHERE p.id_professor = professor_hat_stichpunkt.id_professor &quot; +\r\n        &quot;AND professor_hat_stichpunkt.id_stichpunkt = stichpunkt.id_stichpunkt &quot; +\r\n        &quot;AND stichpunkt.id_stichpunkt = :stichpunkt&quot; +\r\n        &quot;ORDER BY p.nachname&quot;)\r\nList&lt;Professor&gt; findAllByKeyword(@Param(&quot;stichpunkt&quot;) Stichpunkt stichpunkt);\r\n```\r\n\r\n[DB image](https://i.stack.imgur.com/KFk15.png)\r\n\r\n\r\nThe Professor Class is as follows:\r\n\r\n```\r\nimport javax.persistence.*;\r\nimport java.util.Objects;\r\n\r\n@Entity\r\n@Table(name = &quot;professor&quot;)\r\npublic class Professor {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id_professor&quot;, nullable = false)\r\n    private Integer id;\r\n\r\n    @Column(name = &quot;vorname&quot;, nullable = false)\r\n    private String vorname;\r\n\r\n\r\n    @Column(name = &quot;nachname&quot;, nullable = false)\r\n    private String nachname;\r\n\r\n\r\n    @Column(name = &quot;titel&quot;, nullable = false)\r\n    private String titel;\r\n\r\n    @Column(name = &quot;mailadresse&quot;, nullable = false)\r\n    private String mailadresse;\r\n\r\n    @ManyToOne(targetEntity = Stichpunkt.class, optional = false)\r\n    @JoinColumn(name = &quot;id_stichpunkt&quot;, referencedColumnName = &quot;id_stichpunkt&quot;, nullable = false)\r\n    private Stichpunkt stichpunkt;\r\n\r\n\r\n\r\n    public void setStichpunkt(Stichpunkt stichpunkt) {\r\n        this.stichpunkt = stichpunkt;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        Professor that = (Professor) o;\r\n        return Objects.equals(getId(), that.getId());\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(getId());\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return nachname; // + &quot; (&quot; + (id == null ? &quot;&lt;null&gt;&quot; : id) + &#39;)&#39;;\r\n    }\r\n\r\n\r\n    public String getVorname() {\r\n        return vorname;\r\n    }\r\n\r\n    public String getNachname() {\r\n        return nachname;\r\n    }\r\n\r\n    public Integer getId() {\r\n        return id;\r\n    }\r\n\r\n}\r\n```\r\n------------------------------------------------------\r\n\r\nThe Stichpunkt class is as follows:\r\n\r\n```\r\nimport javax.persistence.*;\r\nimport java.util.Objects;\r\n\r\n\r\n@Entity\r\n\r\n@Table(name = &quot;stichpunkt&quot;)\r\npublic class Stichpunkt {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id_stichpunkt&quot;, nullable = false)\r\n    private Integer id;\r\n\r\n    @Column(name = &quot;titel&quot;, nullable = false)\r\n    private String titel;\r\n\r\n    @Column(name = &quot;beschreibung&quot;, nullable = false)\r\n    private String beschreibung;\r\n\r\n    public Integer getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Integer id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getTitel() {\r\n        return titel;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return titel + &quot; (&quot; + (id == null ? &quot;&lt;null&gt;&quot; : id) + &#39;)&#39;;\r\n    }\r\n}\r\n```\r\n_____________________________________________________________________\r\nProfessorHatStichpunkt class:\r\n\r\n\r\n```\r\nimport javax.persistence.*;\r\nimport java.io.Serializable;\r\nimport java.util.Objects;\r\n\r\n@Entity\r\n@Table(name = &quot;professor_hat_stichpunkt&quot;)\r\npublic class ProfessorHatStichpunkt {\r\n    @EmbeddedId\r\n    private Id id;\r\n\r\n    public ProfessorHatStichpunkt() {\r\n    }\r\n\r\n    public ProfessorHatStichpunkt(Professor professor, Stichpunkt stichpunkt) {\r\n        this.id = new Id(professor, stichpunkt);\r\n    }\r\n\r\n    public Id getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Id id) {\r\n        this.id = id;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        ProfessorHatStichpunkt that = (ProfessorHatStichpunkt) o;\r\n        return Objects.equals(getId(), that.getId());\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(getId());\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;SupervisorHasKeyword{id=&quot; + (id == null ? &quot;&lt;null&gt;&quot; : id) + &#39;}&#39;;\r\n    }\r\n\r\n    @Embeddable\r\n    public static class Id implements Serializable {\r\n        @ManyToOne(targetEntity = Professor.class, optional = false)\r\n        @JoinColumn(name = &quot;id_professor&quot;, referencedColumnName = &quot;id_professor&quot;, nullable = false)\r\n        private Professor professor;\r\n\r\n        @ManyToOne(targetEntity = Stichpunkt.class, optional = false)\r\n        @JoinColumn(name = &quot;id_stichpunkt&quot;, referencedColumnName = &quot;id_stichpunkt&quot;, nullable = false)\r\n        private Stichpunkt stichpunkt;\r\n\r\n        public Id() {\r\n        }\r\n\r\n        public Id(Professor professor, Stichpunkt stichpunkt) {\r\n            this.professor = professor;\r\n            this.stichpunkt = stichpunkt;\r\n        }\r\n\r\n        public Professor getProfessor() {\r\n            return professor;\r\n        }\r\n\r\n        public void setProfessor(Professor professor) {\r\n            this.professor = professor;\r\n        }\r\n\r\n        public Stichpunkt getStichpunkt() {\r\n            return stichpunkt;\r\n        }\r\n\r\n        public void setStichpunkt(Stichpunkt stichpunkt) {\r\n            this.stichpunkt = stichpunkt;\r\n        }\r\n\r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            Id id = (Id) o;\r\n            return Objects.equals(getProfessor(), id.getProfessor()) &amp;&amp; Objects.equals(getStichpunkt(), id.getStichpunkt());\r\n        }\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(getProfessor(), getStichpunkt());\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return String.format(&quot;%s has %s&quot;, professor, stichpunkt);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n-----------------------------------------------------------------\r\n\r\n\r\n\r\n\r\nThe thing is this builds on a given sample project which works and I just adapted the code.\r\nThe working sample code is the following: \r\n\r\n\r\n```\r\npublic interface SupervisorRepository extends JpaRepository&lt;Supervisor, Integer&gt; {\r\n    @Query(&quot;SELECT DISTINCT s FROM Supervisor s &quot; +\r\n            &quot;INNER JOIN SupervisorHasKeyword shk ON shk.id.supervisor = s &quot; +\r\n            &quot;WHERE s.keyword = :keyword &quot; +\r\n            &quot;OR shk.id.keyword = :keyword &quot; +\r\n            &quot;ORDER BY s.name&quot;)\r\n    List&lt;Supervisor&gt; findAllByKeyword(@Param(&quot;keyword&quot;)Keyword keyword);\r\n}\r\n```\r\n[sample project DB](https://i.stack.imgur.com/4hmZw.png)\r\n\r\nThe Supervisor class is as follows:\r\n\r\n```\r\nimport javax.persistence.*;\r\nimport java.util.Objects;\r\n\r\n@Entity\r\n@Table(name = &quot;supervisor&quot;)\r\npublic class Supervisor {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id_supervisor&quot;, nullable = false)\r\n    private Integer id;\r\n\r\n    @Column(name = &quot;name&quot;, nullable = false)\r\n    private String name;\r\n\r\n    @ManyToOne(targetEntity = Keyword.class, optional = false)\r\n    @JoinColumn(name = &quot;id_keyword&quot;, referencedColumnName = &quot;id_keyword&quot;, nullable = false)\r\n    private Keyword keyword;\r\n\r\n    public Integer getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Integer id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public Keyword getKeyword() {\r\n        return keyword;\r\n    }\r\n\r\n    public void setKeyword(Keyword keyword) {\r\n        this.keyword = keyword;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        Supervisor that = (Supervisor) o;\r\n        return Objects.equals(getId(), that.getId());\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(getId());\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return name + &quot; (&quot; + (id == null ? &quot;&lt;null&gt;&quot; : id) + &#39;)&#39;;\r\n    }\r\n}\r\n```\r\n---------------------------------------------------------------\r\nKeyword class:\r\n\r\n```\r\nimport javax.persistence.*;\r\nimport java.util.Objects;\r\n\r\n@Entity\r\n@Table(name = &quot;keyword&quot;)\r\npublic class Keyword {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id_keyword&quot;, nullable = false)\r\n    private Integer id;\r\n\r\n    @Column(name = &quot;text&quot;, nullable = false)\r\n    private String text;\r\n\r\n    public Integer getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Integer id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getText() {\r\n        return text;\r\n    }\r\n\r\n    public void setText(String text) {\r\n        this.text = text;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        Keyword keyword = (Keyword) o;\r\n        return Objects.equals(getId(), keyword.getId());\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(getId());\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return  text + &quot; (&quot; + (id == null ? &quot;&lt;null&gt;&quot; : id) + &#39;)&#39;;\r\n    }\r\n}\r\n\r\n```\r\n----------------------------------------------------------------\r\nSupervisorHasKeyword class:\r\n\r\n```\r\nimport javax.persistence.*;\r\nimport java.io.Serializable;\r\nimport java.util.Objects;\r\n\r\n@Entity\r\n@Table(name = &quot;supervisor_has_keyword&quot;)\r\npublic class SupervisorHasKeyword {\r\n    @EmbeddedId\r\n    private Id id;\r\n\r\n    public SupervisorHasKeyword() {\r\n    }\r\n\r\n    public SupervisorHasKeyword(Supervisor supervisor, Keyword keyword) {\r\n        this.id = new Id(supervisor, keyword);\r\n    }\r\n\r\n    public Id getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Id id) {\r\n        this.id = id;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        SupervisorHasKeyword that = (SupervisorHasKeyword) o;\r\n        return Objects.equals(getId(), that.getId());\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(getId());\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;SupervisorHasKeyword{id=&quot; + (id == null ? &quot;&lt;null&gt;&quot; : id) + &#39;}&#39;;\r\n    }\r\n\r\n    @Embeddable\r\n    public static class Id implements Serializable {\r\n        @ManyToOne(targetEntity = Supervisor.class, optional = false)\r\n        @JoinColumn(name = &quot;id_supervisor&quot;, referencedColumnName = &quot;id_supervisor&quot;, nullable = false)\r\n        private Supervisor supervisor;\r\n\r\n        @ManyToOne(targetEntity = Keyword.class, optional = false)\r\n        @JoinColumn(name = &quot;id_keyword&quot;, referencedColumnName = &quot;id_keyword&quot;, nullable = false)\r\n        private Keyword keyword;\r\n\r\n        public Id() {\r\n        }\r\n\r\n        public Id(Supervisor supervisor, Keyword keyword) {\r\n            this.supervisor = supervisor;\r\n            this.keyword = keyword;\r\n        }\r\n\r\n        public Supervisor getSupervisor() {\r\n            return supervisor;\r\n        }\r\n\r\n        public void setSupervisor(Supervisor supervisor) {\r\n            this.supervisor = supervisor;\r\n        }\r\n\r\n        public Keyword getKeyword() {\r\n            return keyword;\r\n        }\r\n\r\n        public void setKeyword(Keyword keyword) {\r\n            this.keyword = keyword;\r\n        }\r\n\r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            Id id = (Id) o;\r\n            return Objects.equals(getSupervisor(), id.getSupervisor()) &amp;&amp; Objects.equals(getKeyword(), id.getKeyword());\r\n        }\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(getSupervisor(), getKeyword());\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return String.format(&quot;%s has %s&quot;, supervisor,  keyword);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n-------------------------------------------------------\r\n\r\n    Error:\r\n    \r\n    \r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;professorService&#39; defined in file [C:\\Users\\...\\camunda\\database\\service\\ProfessorService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;professorRepository&#39; defined in de.ostfalia.bips.ws22.camunda.database.repository.ProfessorRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List de.ostfalia.bips.ws22.camunda.database.repository.ProfessorRepository.findAllByKeyword(de.ostfalia.bips.ws22.camunda.database.domain.Stichpunkt); Reason: Validation failed for query for method public abstract java.util.List de.ostfalia.bips.ws22.camunda.database.repository.ProfessorRepository.findAllByKeyword(de.ostfalia.bips.ws22.camunda.database.domain.Stichpunkt)!; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List de.ostfalia.bips.ws22.camunda.database.repository.ProfessorRepository.findAllByKeyword(de.ostfalia.bips.ws22.camunda.database.domain.Stichpunkt)!\r\n\r\n\r\n","title":"Why is this SQL query for Java throwing an exception?","body":"<p>I desperately need help with my uni task. The following query throws an exception when executing the main() of my Springboot project since apparently the query fails.</p>\n<p>I tried to adapt the original findAllByKeyword() from the sample code to my project.\nThe difference is that in the sample project the supervisor has a foreign key &quot;id_keyword&quot;\nand in my project the Professor does not have one.\nTbh I am not well familiar with the syntax of the given query and tried to adapt it as best as I could.</p>\n<p>You can find the exact error msg at the bottom of this post.</p>\n<p>With this method I want to find all corresponding Professors for a given Stichpunkt (means keyword in german)</p>\n<pre><code>@Query(&quot;SELECT DISTINCT p FROM Professor p &quot; +\n        &quot;WHERE p.id_professor = professor_hat_stichpunkt.id_professor &quot; +\n        &quot;AND professor_hat_stichpunkt.id_stichpunkt = stichpunkt.id_stichpunkt &quot; +\n        &quot;AND stichpunkt.id_stichpunkt = :stichpunkt&quot; +\n        &quot;ORDER BY p.nachname&quot;)\nList&lt;Professor&gt; findAllByKeyword(@Param(&quot;stichpunkt&quot;) Stichpunkt stichpunkt);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/KFk15.png\" rel=\"nofollow noreferrer\">DB image</a></p>\n<p>The Professor Class is as follows:</p>\n<pre><code>import javax.persistence.*;\nimport java.util.Objects;\n\n@Entity\n@Table(name = &quot;professor&quot;)\npublic class Professor {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id_professor&quot;, nullable = false)\n    private Integer id;\n\n    @Column(name = &quot;vorname&quot;, nullable = false)\n    private String vorname;\n\n\n    @Column(name = &quot;nachname&quot;, nullable = false)\n    private String nachname;\n\n\n    @Column(name = &quot;titel&quot;, nullable = false)\n    private String titel;\n\n    @Column(name = &quot;mailadresse&quot;, nullable = false)\n    private String mailadresse;\n\n    @ManyToOne(targetEntity = Stichpunkt.class, optional = false)\n    @JoinColumn(name = &quot;id_stichpunkt&quot;, referencedColumnName = &quot;id_stichpunkt&quot;, nullable = false)\n    private Stichpunkt stichpunkt;\n\n\n\n    public void setStichpunkt(Stichpunkt stichpunkt) {\n        this.stichpunkt = stichpunkt;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Professor that = (Professor) o;\n        return Objects.equals(getId(), that.getId());\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(getId());\n    }\n\n    @Override\n    public String toString() {\n        return nachname; // + &quot; (&quot; + (id == null ? &quot;&lt;null&gt;&quot; : id) + ')';\n    }\n\n\n    public String getVorname() {\n        return vorname;\n    }\n\n    public String getNachname() {\n        return nachname;\n    }\n\n    public Integer getId() {\n        return id;\n    }\n\n}\n</code></pre>\n<hr />\n<p>The Stichpunkt class is as follows:</p>\n<pre><code>import javax.persistence.*;\nimport java.util.Objects;\n\n\n@Entity\n\n@Table(name = &quot;stichpunkt&quot;)\npublic class Stichpunkt {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id_stichpunkt&quot;, nullable = false)\n    private Integer id;\n\n    @Column(name = &quot;titel&quot;, nullable = false)\n    private String titel;\n\n    @Column(name = &quot;beschreibung&quot;, nullable = false)\n    private String beschreibung;\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getTitel() {\n        return titel;\n    }\n\n    @Override\n    public String toString() {\n        return titel + &quot; (&quot; + (id == null ? &quot;&lt;null&gt;&quot; : id) + ')';\n    }\n}\n</code></pre>\n<hr />\n<p>ProfessorHatStichpunkt class:</p>\n<pre><code>import javax.persistence.*;\nimport java.io.Serializable;\nimport java.util.Objects;\n\n@Entity\n@Table(name = &quot;professor_hat_stichpunkt&quot;)\npublic class ProfessorHatStichpunkt {\n    @EmbeddedId\n    private Id id;\n\n    public ProfessorHatStichpunkt() {\n    }\n\n    public ProfessorHatStichpunkt(Professor professor, Stichpunkt stichpunkt) {\n        this.id = new Id(professor, stichpunkt);\n    }\n\n    public Id getId() {\n        return id;\n    }\n\n    public void setId(Id id) {\n        this.id = id;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        ProfessorHatStichpunkt that = (ProfessorHatStichpunkt) o;\n        return Objects.equals(getId(), that.getId());\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(getId());\n    }\n\n    @Override\n    public String toString() {\n        return &quot;SupervisorHasKeyword{id=&quot; + (id == null ? &quot;&lt;null&gt;&quot; : id) + '}';\n    }\n\n    @Embeddable\n    public static class Id implements Serializable {\n        @ManyToOne(targetEntity = Professor.class, optional = false)\n        @JoinColumn(name = &quot;id_professor&quot;, referencedColumnName = &quot;id_professor&quot;, nullable = false)\n        private Professor professor;\n\n        @ManyToOne(targetEntity = Stichpunkt.class, optional = false)\n        @JoinColumn(name = &quot;id_stichpunkt&quot;, referencedColumnName = &quot;id_stichpunkt&quot;, nullable = false)\n        private Stichpunkt stichpunkt;\n\n        public Id() {\n        }\n\n        public Id(Professor professor, Stichpunkt stichpunkt) {\n            this.professor = professor;\n            this.stichpunkt = stichpunkt;\n        }\n\n        public Professor getProfessor() {\n            return professor;\n        }\n\n        public void setProfessor(Professor professor) {\n            this.professor = professor;\n        }\n\n        public Stichpunkt getStichpunkt() {\n            return stichpunkt;\n        }\n\n        public void setStichpunkt(Stichpunkt stichpunkt) {\n            this.stichpunkt = stichpunkt;\n        }\n\n        @Override\n        public boolean equals(Object o) {\n            if (this == o) return true;\n            if (o == null || getClass() != o.getClass()) return false;\n            Id id = (Id) o;\n            return Objects.equals(getProfessor(), id.getProfessor()) &amp;&amp; Objects.equals(getStichpunkt(), id.getStichpunkt());\n        }\n\n        @Override\n        public int hashCode() {\n            return Objects.hash(getProfessor(), getStichpunkt());\n        }\n\n        @Override\n        public String toString() {\n            return String.format(&quot;%s has %s&quot;, professor, stichpunkt);\n        }\n    }\n}\n\n</code></pre>\n<hr />\n<p>The thing is this builds on a given sample project which works and I just adapted the code.\nThe working sample code is the following:</p>\n<pre><code>public interface SupervisorRepository extends JpaRepository&lt;Supervisor, Integer&gt; {\n    @Query(&quot;SELECT DISTINCT s FROM Supervisor s &quot; +\n            &quot;INNER JOIN SupervisorHasKeyword shk ON shk.id.supervisor = s &quot; +\n            &quot;WHERE s.keyword = :keyword &quot; +\n            &quot;OR shk.id.keyword = :keyword &quot; +\n            &quot;ORDER BY s.name&quot;)\n    List&lt;Supervisor&gt; findAllByKeyword(@Param(&quot;keyword&quot;)Keyword keyword);\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/4hmZw.png\" rel=\"nofollow noreferrer\">sample project DB</a></p>\n<p>The Supervisor class is as follows:</p>\n<pre><code>import javax.persistence.*;\nimport java.util.Objects;\n\n@Entity\n@Table(name = &quot;supervisor&quot;)\npublic class Supervisor {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id_supervisor&quot;, nullable = false)\n    private Integer id;\n\n    @Column(name = &quot;name&quot;, nullable = false)\n    private String name;\n\n    @ManyToOne(targetEntity = Keyword.class, optional = false)\n    @JoinColumn(name = &quot;id_keyword&quot;, referencedColumnName = &quot;id_keyword&quot;, nullable = false)\n    private Keyword keyword;\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public Keyword getKeyword() {\n        return keyword;\n    }\n\n    public void setKeyword(Keyword keyword) {\n        this.keyword = keyword;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Supervisor that = (Supervisor) o;\n        return Objects.equals(getId(), that.getId());\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(getId());\n    }\n\n    @Override\n    public String toString() {\n        return name + &quot; (&quot; + (id == null ? &quot;&lt;null&gt;&quot; : id) + ')';\n    }\n}\n</code></pre>\n<hr />\n<p>Keyword class:</p>\n<pre><code>import javax.persistence.*;\nimport java.util.Objects;\n\n@Entity\n@Table(name = &quot;keyword&quot;)\npublic class Keyword {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id_keyword&quot;, nullable = false)\n    private Integer id;\n\n    @Column(name = &quot;text&quot;, nullable = false)\n    private String text;\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getText() {\n        return text;\n    }\n\n    public void setText(String text) {\n        this.text = text;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Keyword keyword = (Keyword) o;\n        return Objects.equals(getId(), keyword.getId());\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(getId());\n    }\n\n    @Override\n    public String toString() {\n        return  text + &quot; (&quot; + (id == null ? &quot;&lt;null&gt;&quot; : id) + ')';\n    }\n}\n\n</code></pre>\n<hr />\n<p>SupervisorHasKeyword class:</p>\n<pre><code>import javax.persistence.*;\nimport java.io.Serializable;\nimport java.util.Objects;\n\n@Entity\n@Table(name = &quot;supervisor_has_keyword&quot;)\npublic class SupervisorHasKeyword {\n    @EmbeddedId\n    private Id id;\n\n    public SupervisorHasKeyword() {\n    }\n\n    public SupervisorHasKeyword(Supervisor supervisor, Keyword keyword) {\n        this.id = new Id(supervisor, keyword);\n    }\n\n    public Id getId() {\n        return id;\n    }\n\n    public void setId(Id id) {\n        this.id = id;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        SupervisorHasKeyword that = (SupervisorHasKeyword) o;\n        return Objects.equals(getId(), that.getId());\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(getId());\n    }\n\n    @Override\n    public String toString() {\n        return &quot;SupervisorHasKeyword{id=&quot; + (id == null ? &quot;&lt;null&gt;&quot; : id) + '}';\n    }\n\n    @Embeddable\n    public static class Id implements Serializable {\n        @ManyToOne(targetEntity = Supervisor.class, optional = false)\n        @JoinColumn(name = &quot;id_supervisor&quot;, referencedColumnName = &quot;id_supervisor&quot;, nullable = false)\n        private Supervisor supervisor;\n\n        @ManyToOne(targetEntity = Keyword.class, optional = false)\n        @JoinColumn(name = &quot;id_keyword&quot;, referencedColumnName = &quot;id_keyword&quot;, nullable = false)\n        private Keyword keyword;\n\n        public Id() {\n        }\n\n        public Id(Supervisor supervisor, Keyword keyword) {\n            this.supervisor = supervisor;\n            this.keyword = keyword;\n        }\n\n        public Supervisor getSupervisor() {\n            return supervisor;\n        }\n\n        public void setSupervisor(Supervisor supervisor) {\n            this.supervisor = supervisor;\n        }\n\n        public Keyword getKeyword() {\n            return keyword;\n        }\n\n        public void setKeyword(Keyword keyword) {\n            this.keyword = keyword;\n        }\n\n        @Override\n        public boolean equals(Object o) {\n            if (this == o) return true;\n            if (o == null || getClass() != o.getClass()) return false;\n            Id id = (Id) o;\n            return Objects.equals(getSupervisor(), id.getSupervisor()) &amp;&amp; Objects.equals(getKeyword(), id.getKeyword());\n        }\n\n        @Override\n        public int hashCode() {\n            return Objects.hash(getSupervisor(), getKeyword());\n        }\n\n        @Override\n        public String toString() {\n            return String.format(&quot;%s has %s&quot;, supervisor,  keyword);\n        }\n    }\n}\n\n</code></pre>\n<hr />\n<pre><code>Error:\n\n\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'professorService' defined in file [C:\\Users\\...\\camunda\\database\\service\\ProfessorService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'professorRepository' defined in de.ostfalia.bips.ws22.camunda.database.repository.ProfessorRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List de.ostfalia.bips.ws22.camunda.database.repository.ProfessorRepository.findAllByKeyword(de.ostfalia.bips.ws22.camunda.database.domain.Stichpunkt); Reason: Validation failed for query for method public abstract java.util.List de.ostfalia.bips.ws22.camunda.database.repository.ProfessorRepository.findAllByKeyword(de.ostfalia.bips.ws22.camunda.database.domain.Stichpunkt)!; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List de.ostfalia.bips.ws22.camunda.database.repository.ProfessorRepository.findAllByKeyword(de.ostfalia.bips.ws22.camunda.database.domain.Stichpunkt)!\n</code></pre>\n"},{"tags":["java","azure","oauth-2.0","office365","microsoft-oauth"],"answers":[{"tags":[],"owner":{"account_id":24283882,"reputation":7637,"user_id":18229928,"display_name":"Rukmini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668686389,"creation_date":1668686389,"answer_id":74475097,"question_id":74431893,"body_markdown":"***I tried to reproduce the same in my environment and got the below results:***\r\n\r\n**Note** that, if you want to access the mailbox of user that doesn&#39;t fall inside your tenant or need to access the mailbox of any personal outlook account then you have to register a **`Multi-Tenant Azure AD Application`** like below:\r\n\r\n![enter image description here](https://i.stack.imgur.com/9CDDF.png)\r\n\r\nI created an Azure AD Multi-Tenant Application and granted the **API Permissions**:\r\n\r\n![enter image description here](https://i.stack.imgur.com/wI2fh.png)\r\n\r\nNow, I **registered service principals in Exchange** by using below commands:**\r\n\r\n```powershell\r\nConnect-ExchangeOnline -Organization TenantID\r\n\r\nNew-ServicePrincipal -AppId AppID -ServiceId ObjectID [-Organization OrganizationID]\r\nGet-ServicePrincipal | fl\r\n```\r\n\r\n![enter image description here](https://i.stack.imgur.com/iBIJe.png)\r\n\r\nI granted **service principal access to one mailbox** :\r\n\r\n```powershell\r\nAdd-MailboxPermission -Identity &quot;USER@XXX.com&quot; -User \r\nServicePrincipal_ID&gt; -AccessRights FullAccess\r\n\r\nTest-ApplicationAccessPolicy -Identity &quot;USER@XXX.com&quot; -AppId AppID\r\n```\r\n![enter image description here](https://i.stack.imgur.com/RlBpY.png)\r\n\r\nI generated the **access token via Postman for Multi-Tenant Application** by using the parameters like below:\r\n\r\n```json\r\nhttps://login.microsoftonline.com/common/oauth2/v2.0/token\r\n\r\nclient_id:5f3068f5-a920-4d6d-9742-XXXXXX\r\nclient_secret:ESJ8Q~ShJVdlY2MhKicyTEApGdtZh*******\r\nscope:https://outlook.office365.com/.default\r\ngrant_type:client_credentials\r\n```\r\n![enter image description here](https://i.stack.imgur.com/ibwg5.png)\r\n\r\nTo do the same in **`JAVA`**, you can refer the below sample code by ***user3206771*** in this [**SO Thread**](https://stackoverflow.com/questions/73039215/authentication-failure-for-imap-using-client-credential-flow-for-oauth2-0-java) :\r\n\r\n```java\r\npublic String getAccessTokenByClientCredentialGrant()  {       \r\n    String accessToken = null;\r\n    String clientId = &quot;CLIENTID&quot;;\r\n    String secret = &quot;CLIENTSECRET&quot;;\r\n    String authority = &quot;https://login.microsoftonline.com/common/oauth2/v2.0/token&quot;;\r\n    String scope = &quot;https://outlook.office365.com/.default&quot;;\r\n    log.info(&quot;Client ID : &quot;+clientId);\r\n    log.info(&quot;Client Secret : &quot;+secret);\r\n    log.info(&quot;Auth Server: &quot;+authority);\r\n    log.info(&quot;Scope: &quot;+scope);\r\n        try {\r\n              ConfidentialClientApplication app = ConfidentialClientApplication.builder(\r\n                clientId,\r\n              ClientCredentialFactory.createFromSecret(secret))\r\n                .authority(authority)\r\n                .build();   \r\n  \r\n        ClientCredentialParameters clientCredentialParam = ClientCredentialParameters.builder(\r\n                Collections.singleton(scope))\r\n                .build();\r\n        \r\n        CompletableFuture&lt;IAuthenticationResult&gt; future = app.acquireToken(clientCredentialParam);\r\n        IAuthenticationResult result = future.get();\r\n        accessToken = result.accessToken();\r\n        \r\n    } catch(Exception e) {\r\n        log.error(&quot;Exception in acquiring token: &quot;+e.getMessage());\r\n        e.printStackTrace();\r\n    }\r\n    log.info(&quot;Access Token : &quot;+accessToken);\r\n    return accessToken;\r\n}\r\npublic Store connect(String userEmailId, String oauth2AccessToken) throws Exception {\r\n    String host = &quot;outlook.office365.com&quot;;\r\n    String port = &quot;993&quot;;\r\n    Store store = null;\r\n     \r\n    String SSL_FACTORY = &quot;javax.net.ssl.SSLSocketFactory&quot;;\r\n    Properties props= new Properties();\r\n    props.put(&quot;mail.imaps.ssl.enable&quot;, &quot;true&quot;);\r\n    props.put(&quot;mail.imaps.sasl.enable&quot;, &quot;true&quot;);\r\n    props.put(&quot;mail.imaps.port&quot;, port);\r\n    props.put(&quot;mail.imaps.auth.mechanisms&quot;, &quot;XOAUTH2&quot;);\r\n    props.put(&quot;mail.imaps.sasl.mechanisms&quot;, &quot;XOAUTH2&quot;);\r\n    props.put(&quot;mail.imaps.auth.login.disable&quot;, &quot;true&quot;);\r\n    props.put(&quot;mail.imaps.auth.plain.disable&quot;, &quot;true&quot;);\r\n    props.setProperty(&quot;mail.imaps.socketFactory.class&quot;, SSL_FACTORY);\r\n    props.setProperty(&quot;mail.imaps.socketFactory.fallback&quot;, &quot;false&quot;);\r\n    props.setProperty(&quot;mail.imaps.socketFactory.port&quot;, port);\r\n    props.setProperty(&quot;mail.imaps.starttls.enable&quot;, &quot;true&quot;);\r\n    props.put(&quot;mail.debug&quot;, &quot;true&quot;);\r\n    props.put(&quot;mail.debug.auth&quot;, &quot;true&quot;);\r\n    Session session = Session.getInstance(props);\r\n    session.setDebug(true);\r\n    store = session.getStore(&quot;imaps&quot;);\r\n    log.info(&quot;OAUTH2 IMAP trying to connect with system properties to Host:&quot; + host + &quot;, Port: &quot;+ port\r\n            + &quot;, userEmailId: &quot; + userEmailId+ &quot;, AccessToken: &quot; + oauth2AccessToken);\r\n    try {\r\n    \r\n        store.connect(host, userEmailId, oauth2AccessToken);\r\n        log.info(&quot;IMAP connected with system properties to Host:&quot; + host + &quot;, Port: &quot;+ port\r\n            + &quot;, userEmailId: &quot; + userEmailId+ &quot;, AccessToken: &quot; + oauth2AccessToken);\r\n        if(store.isConnected()){\r\n            log.info(&quot;Connection Established using imap protocol successfully !&quot;);      \r\n        }\r\n    } catch (Exception e) {\r\n        log.error(&quot;Store.Connect failed with the errror: &quot;+e.getMessage());\r\n        StringWriter sw = new StringWriter();\r\n        e.printStackTrace(new PrintWriter(sw));\r\n        String exceptionAsString = sw.toString();\r\n        log.error(exceptionAsString);\r\n     \r\n    }\r\n    return store;\r\n}\r\npublic void getEmailContents() throws Exception {\r\n    Store store = null;\r\n       String accessToken = getAccessTokenByClientCredentialGrant();\r\n    String emailId = &quot;&lt;email which needs to be read&gt;&quot;;\r\n    try {\r\n        store = connect(emailId, accessToken );\r\n    } catch (Exception ex) {\r\n        log.error(&quot;Exception in connecting to email &quot; + ex.getMessage());\r\n        ex.printStackTrace();\r\n        }\r\n   }\r\n```\r\n","title":"Microsoft outlook authentication oAuth2.0","body":"<p><em><strong>I tried to reproduce the same in my environment and got the below results:</strong></em></p>\n<p><strong>Note</strong> that, if you want to access the mailbox of user that doesn't fall inside your tenant or need to access the mailbox of any personal outlook account then you have to register a <strong><code>Multi-Tenant Azure AD Application</code></strong> like below:</p>\n<p><img src=\"https://i.stack.imgur.com/9CDDF.png\" alt=\"enter image description here\" /></p>\n<p>I created an Azure AD Multi-Tenant Application and granted the <strong>API Permissions</strong>:</p>\n<p><img src=\"https://i.stack.imgur.com/wI2fh.png\" alt=\"enter image description here\" /></p>\n<p>Now, I <strong>registered service principals in Exchange</strong> by using below commands:**</p>\n<pre><code>Connect-ExchangeOnline -Organization TenantID\n\nNew-ServicePrincipal -AppId AppID -ServiceId ObjectID [-Organization OrganizationID]\nGet-ServicePrincipal | fl\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/iBIJe.png\" alt=\"enter image description here\" /></p>\n<p>I granted <strong>service principal access to one mailbox</strong> :</p>\n<pre><code>Add-MailboxPermission -Identity &quot;USER@XXX.com&quot; -User \nServicePrincipal_ID&gt; -AccessRights FullAccess\n\nTest-ApplicationAccessPolicy -Identity &quot;USER@XXX.com&quot; -AppId AppID\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/RlBpY.png\" alt=\"enter image description here\" /></p>\n<p>I generated the <strong>access token via Postman for Multi-Tenant Application</strong> by using the parameters like below:</p>\n<pre class=\"lang-json prettyprint-override\"><code>https://login.microsoftonline.com/common/oauth2/v2.0/token\n\nclient_id:5f3068f5-a920-4d6d-9742-XXXXXX\nclient_secret:ESJ8Q~ShJVdlY2MhKicyTEApGdtZh*******\nscope:https://outlook.office365.com/.default\ngrant_type:client_credentials\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/ibwg5.png\" alt=\"enter image description here\" /></p>\n<p>To do the same in <strong><code>JAVA</code></strong>, you can refer the below sample code by <em><strong>user3206771</strong></em> in this <a href=\"https://stackoverflow.com/questions/73039215/authentication-failure-for-imap-using-client-credential-flow-for-oauth2-0-java\"><strong>SO Thread</strong></a> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String getAccessTokenByClientCredentialGrant()  {       \n    String accessToken = null;\n    String clientId = &quot;CLIENTID&quot;;\n    String secret = &quot;CLIENTSECRET&quot;;\n    String authority = &quot;https://login.microsoftonline.com/common/oauth2/v2.0/token&quot;;\n    String scope = &quot;https://outlook.office365.com/.default&quot;;\n    log.info(&quot;Client ID : &quot;+clientId);\n    log.info(&quot;Client Secret : &quot;+secret);\n    log.info(&quot;Auth Server: &quot;+authority);\n    log.info(&quot;Scope: &quot;+scope);\n        try {\n              ConfidentialClientApplication app = ConfidentialClientApplication.builder(\n                clientId,\n              ClientCredentialFactory.createFromSecret(secret))\n                .authority(authority)\n                .build();   \n  \n        ClientCredentialParameters clientCredentialParam = ClientCredentialParameters.builder(\n                Collections.singleton(scope))\n                .build();\n        \n        CompletableFuture&lt;IAuthenticationResult&gt; future = app.acquireToken(clientCredentialParam);\n        IAuthenticationResult result = future.get();\n        accessToken = result.accessToken();\n        \n    } catch(Exception e) {\n        log.error(&quot;Exception in acquiring token: &quot;+e.getMessage());\n        e.printStackTrace();\n    }\n    log.info(&quot;Access Token : &quot;+accessToken);\n    return accessToken;\n}\npublic Store connect(String userEmailId, String oauth2AccessToken) throws Exception {\n    String host = &quot;outlook.office365.com&quot;;\n    String port = &quot;993&quot;;\n    Store store = null;\n     \n    String SSL_FACTORY = &quot;javax.net.ssl.SSLSocketFactory&quot;;\n    Properties props= new Properties();\n    props.put(&quot;mail.imaps.ssl.enable&quot;, &quot;true&quot;);\n    props.put(&quot;mail.imaps.sasl.enable&quot;, &quot;true&quot;);\n    props.put(&quot;mail.imaps.port&quot;, port);\n    props.put(&quot;mail.imaps.auth.mechanisms&quot;, &quot;XOAUTH2&quot;);\n    props.put(&quot;mail.imaps.sasl.mechanisms&quot;, &quot;XOAUTH2&quot;);\n    props.put(&quot;mail.imaps.auth.login.disable&quot;, &quot;true&quot;);\n    props.put(&quot;mail.imaps.auth.plain.disable&quot;, &quot;true&quot;);\n    props.setProperty(&quot;mail.imaps.socketFactory.class&quot;, SSL_FACTORY);\n    props.setProperty(&quot;mail.imaps.socketFactory.fallback&quot;, &quot;false&quot;);\n    props.setProperty(&quot;mail.imaps.socketFactory.port&quot;, port);\n    props.setProperty(&quot;mail.imaps.starttls.enable&quot;, &quot;true&quot;);\n    props.put(&quot;mail.debug&quot;, &quot;true&quot;);\n    props.put(&quot;mail.debug.auth&quot;, &quot;true&quot;);\n    Session session = Session.getInstance(props);\n    session.setDebug(true);\n    store = session.getStore(&quot;imaps&quot;);\n    log.info(&quot;OAUTH2 IMAP trying to connect with system properties to Host:&quot; + host + &quot;, Port: &quot;+ port\n            + &quot;, userEmailId: &quot; + userEmailId+ &quot;, AccessToken: &quot; + oauth2AccessToken);\n    try {\n    \n        store.connect(host, userEmailId, oauth2AccessToken);\n        log.info(&quot;IMAP connected with system properties to Host:&quot; + host + &quot;, Port: &quot;+ port\n            + &quot;, userEmailId: &quot; + userEmailId+ &quot;, AccessToken: &quot; + oauth2AccessToken);\n        if(store.isConnected()){\n            log.info(&quot;Connection Established using imap protocol successfully !&quot;);      \n        }\n    } catch (Exception e) {\n        log.error(&quot;Store.Connect failed with the errror: &quot;+e.getMessage());\n        StringWriter sw = new StringWriter();\n        e.printStackTrace(new PrintWriter(sw));\n        String exceptionAsString = sw.toString();\n        log.error(exceptionAsString);\n     \n    }\n    return store;\n}\npublic void getEmailContents() throws Exception {\n    Store store = null;\n       String accessToken = getAccessTokenByClientCredentialGrant();\n    String emailId = &quot;&lt;email which needs to be read&gt;&quot;;\n    try {\n        store = connect(emailId, accessToken );\n    } catch (Exception ex) {\n        log.error(&quot;Exception in connecting to email &quot; + ex.getMessage());\n        ex.printStackTrace();\n        }\n   }\n</code></pre>\n"}],"owner":{"account_id":25505095,"reputation":11,"user_id":19297691,"display_name":"Faisal Iqbal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":614,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670185663,"creation_date":1668430053,"question_id":74431893,"body_markdown":"We have a daemon application that makes IMAP connection to access mailbox of user. Earlier we were using plain authentication method of using email ID and password to establish IMAP connection. Now as Microsoft has blocked this type authentication process and introduced oAuth2.0.\r\n\r\nMy question here I was able to establish IMAP connection with the user that falls inside my tenant. But I am unable to figure out that how it can be done if I need to access the mailbox of user that doesn&#39;t fall inside my tenant or need to access the mailbox of any personal outlook account.","title":"Microsoft outlook authentication oAuth2.0","body":"<p>We have a daemon application that makes IMAP connection to access mailbox of user. Earlier we were using plain authentication method of using email ID and password to establish IMAP connection. Now as Microsoft has blocked this type authentication process and introduced oAuth2.0.</p>\n<p>My question here I was able to establish IMAP connection with the user that falls inside my tenant. But I am unable to figure out that how it can be done if I need to access the mailbox of user that doesn't fall inside my tenant or need to access the mailbox of any personal outlook account.</p>\n"},{"tags":["java","cordova","gradle"],"comments":[{"owner":{"account_id":389916,"reputation":9994,"user_id":749657,"accept_rate":83,"display_name":"Eric"},"score":0,"creation_date":1668601304,"post_id":74454737,"comment_id":131444039,"body_markdown":"Don&#39;t use pictures for errors, copy paste your errors...","body":"Don&#39;t use pictures for errors, copy paste your errors..."},{"owner":{"account_id":9330226,"reputation":1227,"user_id":6926199,"display_name":"agiopnl"},"score":0,"creation_date":1668640266,"post_id":74454737,"comment_id":131458025,"body_markdown":"You got a point, I thought about it before posting, but I think it&#39;s a matter of personal preference. Easier to quickly scan it if it&#39;s a screenshot.","body":"You got a point, I thought about it before posting, but I think it&#39;s a matter of personal preference. Easier to quickly scan it if it&#39;s a screenshot."}],"answers":[{"tags":[],"owner":{"account_id":9330226,"reputation":1227,"user_id":6926199,"display_name":"agiopnl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670185078,"creation_date":1670185078,"answer_id":74680552,"question_id":74454737,"body_markdown":"Just gonna let you know I upgraded npm and was able to build successfuly.\r\n\r\n    New major version of npm available! 8.19.2 -&gt; 9.1.3","title":"Cordova - BUG! exception in phase &#39;semantic analysis&#39; in source unit &#39;_BuildScript_&#39; Unsupported class file major version 63","body":"<p>Just gonna let you know I upgraded npm and was able to build successfuly.</p>\n<pre><code>New major version of npm available! 8.19.2 -&gt; 9.1.3\n</code></pre>\n"}],"owner":{"account_id":9330226,"reputation":1227,"user_id":6926199,"display_name":"agiopnl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":753,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74680552,"answer_count":1,"score":0,"last_activity_date":1670185078,"creation_date":1668568766,"question_id":74454737,"body_markdown":"    Node        : 16.13.2\r\n    Cordova     : 11.0.0\r\n    Java JDK    : 19.0.1\r\n    Gradle      : 7.5.1\r\n    Android SDK : Level 33\r\n\r\n\r\nSo I have been building apps just fine, but Play Console warned me that I should be targeting API level 33, (I previously built 30)\r\n\r\nSo I opened Android Studio and downloaded API level 31,32,33. Builds have been failing ever since, and I have been upgrading whatever else to get compatible components.\r\n\r\nI don&#39;t remember why I needed to, or if I updated Cordova also, but I did upgrade Node.js or npm. I might have just given after all the colored text saying I&#39;m using an old version, and then I&#39;ve just been chasing the rabbit ever since.\r\nI don&#39;t remember if I got Java version failure before or after I upgraded Gradle from Android studio.\r\nAnyway I got a message saying Gradle required Java 11 and I had 1.8. I think this is good as the earlier 1.8 seem ancient. I did the Java update, and got a prior bug saying \r\n\r\n    deprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\r\n\r\nI upgraded Gradle manually, and after this I got another bug saying:\r\n\r\n    BUG! exception in phase &#39;semantic analysis&#39; in source unit &#39;_BuildScript_&#39; Unsupported class file major version 63\r\n\r\nOne thing I noticed in my `package.json` is this:\r\n\r\n      &quot;devDependencies&quot;: {\r\n        &quot;cordova-android&quot;: &quot;^10.1.2&quot;\r\n      },\r\nWhich is off from version 11 that I have.\r\n\r\nI guess downgrading something is not an option since I need to target latest API level. But I&#39;d like to know what versions you got working both level 30 and 33.\r\n\r\n[![screenshot console][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EbkAA.png","title":"Cordova - BUG! exception in phase &#39;semantic analysis&#39; in source unit &#39;_BuildScript_&#39; Unsupported class file major version 63","body":"<pre><code>Node        : 16.13.2\nCordova     : 11.0.0\nJava JDK    : 19.0.1\nGradle      : 7.5.1\nAndroid SDK : Level 33\n</code></pre>\n<p>So I have been building apps just fine, but Play Console warned me that I should be targeting API level 33, (I previously built 30)</p>\n<p>So I opened Android Studio and downloaded API level 31,32,33. Builds have been failing ever since, and I have been upgrading whatever else to get compatible components.</p>\n<p>I don't remember why I needed to, or if I updated Cordova also, but I did upgrade Node.js or npm. I might have just given after all the colored text saying I'm using an old version, and then I've just been chasing the rabbit ever since.\nI don't remember if I got Java version failure before or after I upgraded Gradle from Android studio.\nAnyway I got a message saying Gradle required Java 11 and I had 1.8. I think this is good as the earlier 1.8 seem ancient. I did the Java update, and got a prior bug saying</p>\n<pre><code>deprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\n</code></pre>\n<p>I upgraded Gradle manually, and after this I got another bug saying:</p>\n<pre><code>BUG! exception in phase 'semantic analysis' in source unit '_BuildScript_' Unsupported class file major version 63\n</code></pre>\n<p>One thing I noticed in my <code>package.json</code> is this:</p>\n<pre><code>  &quot;devDependencies&quot;: {\n    &quot;cordova-android&quot;: &quot;^10.1.2&quot;\n  },\n</code></pre>\n<p>Which is off from version 11 that I have.</p>\n<p>I guess downgrading something is not an option since I need to target latest API level. But I'd like to know what versions you got working both level 30 and 33.</p>\n<p><a href=\"https://i.stack.imgur.com/EbkAA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EbkAA.png\" alt=\"screenshot console\" /></a></p>\n"},{"tags":["java","mongodb"],"answers":[{"tags":[],"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628681174,"creation_date":1553556809,"answer_id":55347869,"question_id":55328895,"body_markdown":"To find and use specific files:\r\n-------------------------------\r\n\r\n    photos_fs.find(eq(&quot;_id&quot;, objectId)).forEach(\r\n    (Block&lt;GridFSFile&gt;) gridFSFile -&gt; {\r\n    // to do something \r\n    });\r\n\r\n\r\n----------\r\n\r\n\r\nor **as alternative**, I can find specific field of the file.\r\nIt can be done firstly by creating objectId of the first file, then pass it to [GridFSFindIterable][1] object to get particular field and value from database and get finally file to convert into String.\r\n  \r\n\r\n \r\n\r\n         MongoDatabase database_photos = \r\n         mongoClient.getDatabase(&quot;database_photos&quot;);\r\n         GridFSBucket photos_fs = GridFSBuckets.create(database_photos, \r\n         &quot;photos&quot;);\r\n         ...\r\n         ...\r\n         ObjectId objectId = Objects.requireNonNull(photos_fs.find().first()).getObjectId();\r\n         GridFSFindIterable gridFSFindIterable = photos_fs.find(eq(&quot;_id&quot;, objectId));\r\n         GridFSFile gridFSFile = Objects.requireNonNull(gridFSFindIterable.first());\r\n         String file =  Objects.requireNonNull(gridFSFile).getMD5();\r\n\r\nBut it checks files from `photo.files` not from `photo.chunks`collection.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAnd I&#39;m not sure that this way is code-safe, because of debug info, but it works despite the warning:\r\n\r\n    Inconvertible types; cannot cast &#39;com.mongodb.client.gridfs.model.GridFSFile&#39; to &#39;com.mongodb.client.gridfs.GridFSFindIterableImpl&#39;\r\n\r\n[![enter image description here][3]][3]\r\n\r\n  [1]: https://api.mongodb.com/java/3.2/com/mongodb/client/gridfs/GridFSFindIterable.html\r\n  [2]: https://i.stack.imgur.com/iAptO.png\r\n  [3]: https://i.stack.imgur.com/2JIJt.png","title":"How to get single GridFS file using Java driver 3.7+?","body":"<h2>To find and use specific files:</h2>\n<pre><code>photos_fs.find(eq(&quot;_id&quot;, objectId)).forEach(\n(Block&lt;GridFSFile&gt;) gridFSFile -&gt; {\n// to do something \n});\n</code></pre>\n<hr />\n<p>or <strong>as alternative</strong>, I can find specific field of the file.\nIt can be done firstly by creating objectId of the first file, then pass it to <a href=\"https://api.mongodb.com/java/3.2/com/mongodb/client/gridfs/GridFSFindIterable.html\" rel=\"nofollow noreferrer\">GridFSFindIterable</a> object to get particular field and value from database and get finally file to convert into String.</p>\n<pre><code>     MongoDatabase database_photos = \n     mongoClient.getDatabase(&quot;database_photos&quot;);\n     GridFSBucket photos_fs = GridFSBuckets.create(database_photos, \n     &quot;photos&quot;);\n     ...\n     ...\n     ObjectId objectId = Objects.requireNonNull(photos_fs.find().first()).getObjectId();\n     GridFSFindIterable gridFSFindIterable = photos_fs.find(eq(&quot;_id&quot;, objectId));\n     GridFSFile gridFSFile = Objects.requireNonNull(gridFSFindIterable.first());\n     String file =  Objects.requireNonNull(gridFSFile).getMD5();\n</code></pre>\n<p>But it checks files from <code>photo.files</code> not from <code>photo.chunks</code>collection.</p>\n<p><a href=\"https://i.stack.imgur.com/iAptO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iAptO.png\" alt=\"enter image description here\" /></a></p>\n<p>And I'm not sure that this way is code-safe, because of debug info, but it works despite the warning:</p>\n<pre><code>Inconvertible types; cannot cast 'com.mongodb.client.gridfs.model.GridFSFile' to 'com.mongodb.client.gridfs.GridFSFindIterableImpl'\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/2JIJt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2JIJt.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1184,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670184426,"creation_date":1553464038,"question_id":55328895,"body_markdown":"I need to get single the GridFS file using Java driver 3.7+. \r\n\r\nI have two collections with file in a database: `photo.files` and `photo.chunks`.  \r\nThe `photo.chunks` collection contains the binary file like:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n The `photo.files` collection contains the metadata of the document.\r\n[![enter image description here][2]][2]\r\n\r\nTo find document using simple database I wrote:\r\n  \r\n\r\n     Document doc = collection_messages.find(eq(&quot;flag&quot;, true)).first();\r\n     String messageText = (String) Objects.requireNonNull(doc).get(&quot;message&quot;);\r\n\r\nI tried to find file and wrote in same way as with an example above, according to my collections on screens:\r\n    \r\n     MongoDatabase database_photos = mongoClient.getDatabase(&quot;database_photos&quot;);\r\n     GridFSBucket photos_fs = GridFSBuckets.create(database_photos, \r\n     &quot;photos&quot;);\r\n\r\n     ...\r\n     ...\r\n\r\n     GridFSFindIterable gridFSFile = photos_fs.find(eq(&quot;_id&quot;, new ObjectId()));\r\n     String file = Objects.requireNonNull(gridFSFile.first()).getMD5();\r\n\r\nAnd like:\r\n\r\n     GridFSFindIterable gridFSFile = photos_fs.find(eq(&quot;_id&quot;, new ObjectId()));\r\n     String file = Objects.requireNonNull(gridFSFile.first()).getFilename();\r\n\r\n But I get an error:\r\n\r\n    java.lang.NullPointerException\r\n    \tat java.util.Objects.requireNonNull(Objects.java:203)\r\n    \tat project.Bot.onUpdateReceived(Bot.java:832)\r\n    \tat java.util.ArrayList.forEach(ArrayList.java:1249)\r\n\r\nAlso I checked docs of [3.7 driver][3], but this example shows how to find several files, but I need single:\r\n\r\n    gridFSBucket.find().forEach(\r\n      new Block&lt;GridFSFile&gt;() {\r\n        public void apply(final GridFSFile gridFSFile) {\r\n            System.out.println(gridFSFile.getFilename());\r\n        }\r\n    });\r\n\r\n\r\n\r\nCan someone show me an example how to realize it properly?  \r\nI mean getting data, e.g. in chunks collection by `Object_id` and md5 field also by `Object_id` in metadata collection. \r\n\r\nThanks in advance.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/v1NMA.png\r\n  [2]: https://i.stack.imgur.com/byunQ.png\r\n  [3]: http://mongodb.github.io/mongo-java-driver/3.7/driver/tutorials/gridfs/","title":"How to get single GridFS file using Java driver 3.7+?","body":"<p>I need to get single the GridFS file using Java driver 3.7+.</p>\n<p>I have two collections with file in a database: <code>photo.files</code> and <code>photo.chunks</code>.<br />\nThe <code>photo.chunks</code> collection contains the binary file like:</p>\n<p><a href=\"https://i.stack.imgur.com/v1NMA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v1NMA.png\" alt=\"enter image description here\" /></a></p>\n<p>The <code>photo.files</code> collection contains the metadata of the document.\n<a href=\"https://i.stack.imgur.com/byunQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/byunQ.png\" alt=\"enter image description here\" /></a></p>\n<p>To find document using simple database I wrote:</p>\n<pre><code> Document doc = collection_messages.find(eq(&quot;flag&quot;, true)).first();\n String messageText = (String) Objects.requireNonNull(doc).get(&quot;message&quot;);\n</code></pre>\n<p>I tried to find file and wrote in same way as with an example above, according to my collections on screens:</p>\n<pre><code> MongoDatabase database_photos = mongoClient.getDatabase(&quot;database_photos&quot;);\n GridFSBucket photos_fs = GridFSBuckets.create(database_photos, \n &quot;photos&quot;);\n\n ...\n ...\n\n GridFSFindIterable gridFSFile = photos_fs.find(eq(&quot;_id&quot;, new ObjectId()));\n String file = Objects.requireNonNull(gridFSFile.first()).getMD5();\n</code></pre>\n<p>And like:</p>\n<pre><code> GridFSFindIterable gridFSFile = photos_fs.find(eq(&quot;_id&quot;, new ObjectId()));\n String file = Objects.requireNonNull(gridFSFile.first()).getFilename();\n</code></pre>\n<p>But I get an error:</p>\n<pre><code>java.lang.NullPointerException\n    at java.util.Objects.requireNonNull(Objects.java:203)\n    at project.Bot.onUpdateReceived(Bot.java:832)\n    at java.util.ArrayList.forEach(ArrayList.java:1249)\n</code></pre>\n<p>Also I checked docs of <a href=\"http://mongodb.github.io/mongo-java-driver/3.7/driver/tutorials/gridfs/\" rel=\"nofollow noreferrer\">3.7 driver</a>, but this example shows how to find several files, but I need single:</p>\n<pre><code>gridFSBucket.find().forEach(\n  new Block&lt;GridFSFile&gt;() {\n    public void apply(final GridFSFile gridFSFile) {\n        System.out.println(gridFSFile.getFilename());\n    }\n});\n</code></pre>\n<p>Can someone show me an example how to realize it properly?<br />\nI mean getting data, e.g. in chunks collection by <code>Object_id</code> and md5 field also by <code>Object_id</code> in metadata collection.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","string","integer","hex"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670022949,"post_id":74662006,"comment_id":131784073,"body_markdown":"You can list them all in a loop from 0 to that number. Just output the number as hex with with `Integer.toString(n, 16);`","body":"You can list them all in a loop from 0 to that number. Just output the number as hex with with <code>Integer.toString(n, 16);</code>"},{"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"score":0,"creation_date":1670042295,"post_id":74662006,"comment_id":131786242,"body_markdown":"Are you trying create a small Swing app which cycles through all possible background colors for the JFrame&#39;s contentPane? If so, why do you need to generate hex codes first? Just iterate from 0 -&gt; 16^6 (16777216), and decompose the value into r, g, b values: ```int blue = i &gt;&gt; 0 &amp; 0xFF; int red = i &gt;&gt; 16 &amp; 0xFF; int green = i &gt;&gt; 8 &amp; 0xFF; ... new Color(red, green, blue);``` Do the iteration in a ```SwingWorker.doInBackground```.","body":"Are you trying create a small Swing app which cycles through all possible background colors for the JFrame&#39;s contentPane? If so, why do you need to generate hex codes first? Just iterate from 0 -&gt; 16^6 (16777216), and decompose the value into r, g, b values: <code>int blue = i &gt;&gt; 0 &amp; 0xFF; int red = i &gt;&gt; 16 &amp; 0xFF; int green = i &gt;&gt; 8 &amp; 0xFF; ... new Color(red, green, blue);</code> Do the iteration in a <code>SwingWorker.doInBackground</code>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670060246,"post_id":74662006,"comment_id":131788321,"body_markdown":"Or in Swing `Timer`. Cancel if color == 0xFFFFFF `comp.setBackground(new Color(color++));` Timer at 500ms  100 days to cycle through","body":"Or in Swing <code>Timer</code>. Cancel if color == 0xFFFFFF <code>comp.setBackground(new Color(color++));</code> Timer at 500ms  100 days to cycle through"},{"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"score":0,"creation_date":1670086991,"post_id":74662006,"comment_id":131793476,"body_markdown":"I suggest rethinking how you look up the hex value of each digit. The if-else-if approach is far too much repetitive code -- easy to make a mistake in, hard to debug. (Yes, it may be working for you now, but it&#39;s not good.) With those if-else-if blocks, you are doing a lookup which has a one-to-one correspondence: base10 int -&gt; base16 int. Hint: take the first 5 letters of &quot;arrange&quot;, add a &quot;y&quot;, and that&#39;s the data structure you are looking for as the lookup.","body":"I suggest rethinking how you look up the hex value of each digit. The if-else-if approach is far too much repetitive code -- easy to make a mistake in, hard to debug. (Yes, it may be working for you now, but it&#39;s not good.) With those if-else-if blocks, you are doing a lookup which has a one-to-one correspondence: base10 int -&gt; base16 int. Hint: take the first 5 letters of &quot;arrange&quot;, add a &quot;y&quot;, and that&#39;s the data structure you are looking for as the lookup."},{"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"score":0,"creation_date":1670087402,"post_id":74662006,"comment_id":131793558,"body_markdown":"Finally, isn&#39;t the result of the nested for loops the same as a single loop ```for (int I = 0; i &lt; Math.pow(2, 24); I++) {...}```? (2^24 == 16^6) Is there some requirement to generate each digit?","body":"Finally, isn&#39;t the result of the nested for loops the same as a single loop <code>for (int I = 0; i &lt; Math.pow(2, 24); I++) {...}</code>? (2^24 == 16^6) Is there some requirement to generate each digit?"},{"owner":{"account_id":26953504,"reputation":3,"user_id":20522304,"display_name":"Dragomy"},"score":0,"creation_date":1670158352,"post_id":74662006,"comment_id":131804361,"body_markdown":"Sorry for not answering...\ng00se: I will test your suggesting thanks for your help\npfurbacher: no, the displaying of colors through a j frame is only for testing purposes. I wanted to test if I can cycle through all variations from #000000 to #ffffff.\nI will try to generate the hex values in another way, there is no &quot;real&quot; requirement to generate the code besides that #000000 the smallest value should be the start and counting upwards so #ffffff is the end.\n\nThanks for your help !!","body":"Sorry for not answering... g00se: I will test your suggesting thanks for your help pfurbacher: no, the displaying of colors through a j frame is only for testing purposes. I wanted to test if I can cycle through all variations from #000000 to #ffffff. I will try to generate the hex values in another way, there is no &quot;real&quot; requirement to generate the code besides that #000000 the smallest value should be the start and counting upwards so #ffffff is the end.  Thanks for your help !!"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670160974,"post_id":74662006,"comment_id":131805781,"body_markdown":"No problem. Yes your loop can be just `for(int i = 0;i &lt;= 0xFFFFFF;i++) { Color c = new Color(i); ... }`","body":"No problem. Yes your loop can be just <code>for(int i = 0;i &lt;= 0xFFFFFF;i++) { Color c = new Color(i); ... }</code>"}],"answers":[{"tags":[],"owner":{"account_id":26953504,"reputation":3,"user_id":20522304,"display_name":"Dragomy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670184149,"creation_date":1670184149,"answer_id":74680433,"question_id":74662006,"body_markdown":"This works, I will try g00se idea later, but this works fine:\r\n\r\n    import java.awt.Color;\r\n    import javax.swing.*;\r\n\r\n    class Test4 {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tJFrame jf = new JFrame();\r\n    \t\tjf.setVisible(true);\r\n    \t\tjf.setSize(500,500);\r\n    \t\tfor (int red = 0; red &lt;= 255; red++) {\r\n    \t\t\tfor (int green = 0; green &lt;= 255; green++) {\r\n    \t\t\t\tfor (int blue = 0; blue &lt;= 255; blue++) {\r\n    \t\t\t\t\tString redHex = String.format(&quot;%02x&quot;, red);\r\n    \t\t\t\t\tString greenHex = String.format(&quot;%02x&quot;, green);\r\n    \t\t\t\t\tString blueHex = String.format(&quot;%02x&quot;, blue);\r\n    \r\n    \t\t\t\t\tString colorCode = &quot;#&quot; + redHex + greenHex + blueHex;\r\n    \t\t\t\t\tSystem.out.println(colorCode);\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tColor col = Color.decode(colorCode);\r\n    \t\t\t\t\tjf.getContentPane().setBackground(col);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nThanks for your help and ideas :)","title":"(Java) Letting a program display every possible combination of hex color codes. Is it possible to sometimes let a string display char and int?","body":"<p>This works, I will try g00se idea later, but this works fine:</p>\n<pre><code>import java.awt.Color;\nimport javax.swing.*;\n\nclass Test4 {\n    public static void main(String[] args) {\n        JFrame jf = new JFrame();\n        jf.setVisible(true);\n        jf.setSize(500,500);\n        for (int red = 0; red &lt;= 255; red++) {\n            for (int green = 0; green &lt;= 255; green++) {\n                for (int blue = 0; blue &lt;= 255; blue++) {\n                    String redHex = String.format(&quot;%02x&quot;, red);\n                    String greenHex = String.format(&quot;%02x&quot;, green);\n                    String blueHex = String.format(&quot;%02x&quot;, blue);\n\n                    String colorCode = &quot;#&quot; + redHex + greenHex + blueHex;\n                    System.out.println(colorCode);\n                    \n                    Color col = Color.decode(colorCode);\n                    jf.getContentPane().setBackground(col);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>Thanks for your help and ideas :)</p>\n"}],"owner":{"account_id":26953504,"reputation":3,"user_id":20522304,"display_name":"Dragomy"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670184149,"creation_date":1670019019,"question_id":74662006,"body_markdown":"I know the title isn&#39;t very well asked...sorry.\r\nAs you may know, a hex color code can have numbers and characters in it (#ff0000)\r\nI started by writing a little program which lists all possible combinations (16^6) and writes them in \r\nthe console. This does work. \r\nNow I wanted to change the background of a j frame to the color that&#39;s currently written in the console as a hex code. Java seems to only accepts RGB combinations, so I used \r\nColor col = Color.decode(HexCode)\r\nto get these RGB values, which worked to.\r\nNow I wanted to combine these to &quot;program&quot; as at this point the j frame only displayed one color i place directly in the code\r\nColor col = Color.decode(#ff0000)\r\nwhich was not my end goal.\r\n\r\nI have the hex code positions defined as #abcdef (as ints)\r\nbut for the decoding to work sometimes they don&#39;t only need to be numbers but characters.\r\nAnd that&#39;s my question, how does one do that ?\r\n\r\nThis is my code at this point:\r\n\r\n\r\n```\r\npackage main;\r\n\r\nimport java.awt.*;\r\nimport javax.swing.*;\r\n\r\npublic class Test3 {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tint a,b,c,d,e,f;\r\n\t\tJFrame jf = new JFrame(&quot;Dima&quot;);\r\n\t\tjf.setVisible(true);\r\n\t\tjf.setSize(100,100);\r\n\t\tjf.setLocationRelativeTo(null);\r\n\t\t\r\n\t\t for(a=0;a&lt;=15;a++) {\r\n           for(b=0;b&lt;=15;b++) {\r\n             for(c=0;c&lt;=15;c++) {\r\n        \t   for(d=0;d&lt;=15;d++) {\r\n        \t     for(e=0;e&lt;=15;e++) {\r\n        \t       for(f=0;f&lt;=15;f++) {\r\n        \t    \t   \r\n        //Hex Indikator\r\n        \tSystem.out.print(&quot;#&quot;);    \t   \r\n        //Konsolenprint von a\t    \t   \r\n        if( a == 15 ) {\r\n        \tSystem.out.print(&quot;f&quot;);}else\r\n        if ( a == 14 ) {\r\n        \tSystem.out.print(&quot;e&quot;);}else\r\n        if ( a == 13 ) {\r\n        \tSystem.out.print(&quot;d&quot;);}else\r\n        if ( a == 12 ) {\r\n            System.out.print(&quot;c&quot;);}else\r\n        if ( a == 11 ) {\r\n            System.out.print(&quot;b&quot;);}else\r\n        if ( a == 10 ) {\r\n            System.out.print(&quot;a&quot;);}else{\r\n            \tSystem.out.print(a);\r\n            }\r\n      //Konsolenprint von b    \t   \r\n        if( b == 15 ) {\r\n        \tSystem.out.print(&quot;f&quot;);}else\r\n        if ( b == 14 ) {\r\n        \tSystem.out.print(&quot;e&quot;);}else\r\n        if ( b == 13 ) {\r\n        \tSystem.out.print(&quot;d&quot;);}else\r\n        if ( b == 12 ) {\r\n            System.out.print(&quot;c&quot;);}else\r\n        if ( b == 11 ) {\r\n            System.out.print(&quot;b&quot;);}else\r\n        if ( b == 10 ) {\r\n            System.out.print(&quot;a&quot;);}else {\r\n            \t System.out.print(b);\r\n            }\r\n      //Konsolenprint von c   \t   \r\n        if( c == 15 ) {\r\n        \tSystem.out.print(&quot;f&quot;);}else\r\n        if ( c == 14 ) {\r\n        \tSystem.out.print(&quot;e&quot;);}else\r\n        if ( c == 13 ) {\r\n        \tSystem.out.print(&quot;d&quot;);}else\r\n        if ( c == 12 ) {\r\n            System.out.print(&quot;c&quot;);}else\r\n        if ( c == 11 ) {\r\n            System.out.print(&quot;b&quot;);}else\r\n        if ( c == 10 ) {\r\n            System.out.print(&quot;a&quot;);}else {\r\n            \t System.out.print(c);\r\n            }\r\n      //Konsolenprint von d    \t   \r\n        if( d == 15 ) {\r\n        \tSystem.out.print(&quot;f&quot;);}else\r\n        if ( d == 14 ) {\r\n        \tSystem.out.print(&quot;e&quot;);}else\r\n        if ( d == 13 ) {\r\n        \tSystem.out.print(&quot;d&quot;);}else\r\n        if ( d == 12 ) {\r\n            System.out.print(&quot;c&quot;);}else\r\n        if ( d == 11 ) {\r\n            System.out.print(&quot;b&quot;);}else\r\n        if ( d == 10 ) {\r\n            System.out.print(&quot;a&quot;);}else {\r\n            \t System.out.print(d);\r\n            }\r\n      //Konsolenprint von e    \t   \r\n        if( e == 15 ) {\r\n        \tSystem.out.print(&quot;f&quot;);}else\r\n        if ( e == 14 ) {\r\n        \tSystem.out.print(&quot;e&quot;);}else\r\n        if ( e == 13 ) {\r\n        \tSystem.out.print(&quot;d&quot;);}else\r\n        if ( e == 12 ) {\r\n            System.out.print(&quot;c&quot;);}else\r\n        if ( e == 11 ) {\r\n            System.out.print(&quot;b&quot;);}else\r\n        if ( e == 10 ) {\r\n            System.out.print(&quot;a&quot;);}else {\r\n            \t System.out.print(e);\r\n            }  \r\n      //Konsolenprint von f    \t   \r\n        if( f == 15 ) {\r\n        \tSystem.out.println(&quot;f&quot;);}else\r\n        if ( f == 14 ) {\r\n        \tSystem.out.println(&quot;e&quot;);}else\r\n        if ( f == 13 ) {\r\n        \tSystem.out.println(&quot;d&quot;);}else\r\n        if ( f == 12 ) {\r\n            System.out.println(&quot;c&quot;);}else\r\n        if ( f == 11 ) {\r\n            System.out.println(&quot;b&quot;);}else\r\n        if ( f == 10 ) {\r\n            System.out.println(&quot;a&quot;);}else {\r\n            \t System.out.println(f);\r\n            } \t \r\n        String ColorCode = &quot;#&quot;;\r\n         \r\n        \r\n        //System.out.println(&quot; Hier ist das Problem : &quot; + ColorCode);\r\n            \t \r\n           //Color col = Color.decode(HexCode);\r\n           //jf.getContentPane().setBackground(col);\r\n         \t\t\r\n            }\r\n           } \r\n          }\r\n\t     }\r\n        }       \r\n       }\r\n      }\r\n     }\r\n\t\r\n\t\r\n\r\n```\r\nI hope you understand my problem, it is a little difficult to describe it for me :/\r\n\r\nI tried making Strings refer to other strings and tried to set strings \r\nin the if functions to a character, but it didn&#39;t work out.","title":"(Java) Letting a program display every possible combination of hex color codes. Is it possible to sometimes let a string display char and int?","body":"<p>I know the title isn't very well asked...sorry.\nAs you may know, a hex color code can have numbers and characters in it (#ff0000)\nI started by writing a little program which lists all possible combinations (16^6) and writes them in\nthe console. This does work.\nNow I wanted to change the background of a j frame to the color that's currently written in the console as a hex code. Java seems to only accepts RGB combinations, so I used\nColor col = Color.decode(HexCode)\nto get these RGB values, which worked to.\nNow I wanted to combine these to &quot;program&quot; as at this point the j frame only displayed one color i place directly in the code\nColor col = Color.decode(#ff0000)\nwhich was not my end goal.</p>\n<p>I have the hex code positions defined as #abcdef (as ints)\nbut for the decoding to work sometimes they don't only need to be numbers but characters.\nAnd that's my question, how does one do that ?</p>\n<p>This is my code at this point:</p>\n<pre><code>package main;\n\nimport java.awt.*;\nimport javax.swing.*;\n\npublic class Test3 {\n    \n    public static void main(String[] args) {\n        int a,b,c,d,e,f;\n        JFrame jf = new JFrame(&quot;Dima&quot;);\n        jf.setVisible(true);\n        jf.setSize(100,100);\n        jf.setLocationRelativeTo(null);\n        \n         for(a=0;a&lt;=15;a++) {\n           for(b=0;b&lt;=15;b++) {\n             for(c=0;c&lt;=15;c++) {\n               for(d=0;d&lt;=15;d++) {\n                 for(e=0;e&lt;=15;e++) {\n                   for(f=0;f&lt;=15;f++) {\n                       \n        //Hex Indikator\n            System.out.print(&quot;#&quot;);         \n        //Konsolenprint von a              \n        if( a == 15 ) {\n            System.out.print(&quot;f&quot;);}else\n        if ( a == 14 ) {\n            System.out.print(&quot;e&quot;);}else\n        if ( a == 13 ) {\n            System.out.print(&quot;d&quot;);}else\n        if ( a == 12 ) {\n            System.out.print(&quot;c&quot;);}else\n        if ( a == 11 ) {\n            System.out.print(&quot;b&quot;);}else\n        if ( a == 10 ) {\n            System.out.print(&quot;a&quot;);}else{\n                System.out.print(a);\n            }\n      //Konsolenprint von b        \n        if( b == 15 ) {\n            System.out.print(&quot;f&quot;);}else\n        if ( b == 14 ) {\n            System.out.print(&quot;e&quot;);}else\n        if ( b == 13 ) {\n            System.out.print(&quot;d&quot;);}else\n        if ( b == 12 ) {\n            System.out.print(&quot;c&quot;);}else\n        if ( b == 11 ) {\n            System.out.print(&quot;b&quot;);}else\n        if ( b == 10 ) {\n            System.out.print(&quot;a&quot;);}else {\n                 System.out.print(b);\n            }\n      //Konsolenprint von c        \n        if( c == 15 ) {\n            System.out.print(&quot;f&quot;);}else\n        if ( c == 14 ) {\n            System.out.print(&quot;e&quot;);}else\n        if ( c == 13 ) {\n            System.out.print(&quot;d&quot;);}else\n        if ( c == 12 ) {\n            System.out.print(&quot;c&quot;);}else\n        if ( c == 11 ) {\n            System.out.print(&quot;b&quot;);}else\n        if ( c == 10 ) {\n            System.out.print(&quot;a&quot;);}else {\n                 System.out.print(c);\n            }\n      //Konsolenprint von d        \n        if( d == 15 ) {\n            System.out.print(&quot;f&quot;);}else\n        if ( d == 14 ) {\n            System.out.print(&quot;e&quot;);}else\n        if ( d == 13 ) {\n            System.out.print(&quot;d&quot;);}else\n        if ( d == 12 ) {\n            System.out.print(&quot;c&quot;);}else\n        if ( d == 11 ) {\n            System.out.print(&quot;b&quot;);}else\n        if ( d == 10 ) {\n            System.out.print(&quot;a&quot;);}else {\n                 System.out.print(d);\n            }\n      //Konsolenprint von e        \n        if( e == 15 ) {\n            System.out.print(&quot;f&quot;);}else\n        if ( e == 14 ) {\n            System.out.print(&quot;e&quot;);}else\n        if ( e == 13 ) {\n            System.out.print(&quot;d&quot;);}else\n        if ( e == 12 ) {\n            System.out.print(&quot;c&quot;);}else\n        if ( e == 11 ) {\n            System.out.print(&quot;b&quot;);}else\n        if ( e == 10 ) {\n            System.out.print(&quot;a&quot;);}else {\n                 System.out.print(e);\n            }  \n      //Konsolenprint von f        \n        if( f == 15 ) {\n            System.out.println(&quot;f&quot;);}else\n        if ( f == 14 ) {\n            System.out.println(&quot;e&quot;);}else\n        if ( f == 13 ) {\n            System.out.println(&quot;d&quot;);}else\n        if ( f == 12 ) {\n            System.out.println(&quot;c&quot;);}else\n        if ( f == 11 ) {\n            System.out.println(&quot;b&quot;);}else\n        if ( f == 10 ) {\n            System.out.println(&quot;a&quot;);}else {\n                 System.out.println(f);\n            }    \n        String ColorCode = &quot;#&quot;;\n         \n        \n        //System.out.println(&quot; Hier ist das Problem : &quot; + ColorCode);\n                 \n           //Color col = Color.decode(HexCode);\n           //jf.getContentPane().setBackground(col);\n                \n            }\n           } \n          }\n         }\n        }       \n       }\n      }\n     }\n    \n    \n\n</code></pre>\n<p>I hope you understand my problem, it is a little difficult to describe it for me :/</p>\n<p>I tried making Strings refer to other strings and tried to set strings\nin the if functions to a character, but it didn't work out.</p>\n"},{"tags":["java","android","kotlin","sharedpreferences"],"answers":[{"tags":[],"owner":{"account_id":12411897,"reputation":8867,"user_id":12191177,"display_name":"IR42"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670183182,"creation_date":1670183182,"answer_id":74680320,"question_id":74680042,"body_markdown":"`&quot;androidx.core:core-ktx:$core_version&quot;`\r\n\r\nhttps://developer.android.com/kotlin/ktx/extensions-list#dependency_6","title":"Which dependency should be added in order to use &quot;edit&quot; extention for SharePreferences?","body":"<p><code>&quot;androidx.core:core-ktx:$core_version&quot;</code></p>\n<p><a href=\"https://developer.android.com/kotlin/ktx/extensions-list#dependency_6\" rel=\"nofollow noreferrer\">https://developer.android.com/kotlin/ktx/extensions-list#dependency_6</a></p>\n"}],"owner":{"account_id":7378264,"reputation":4782,"user_id":5709159,"accept_rate":58,"display_name":"Sirop4ik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74680320,"answer_count":1,"score":0,"last_activity_date":1670183182,"creation_date":1670181161,"question_id":74680042,"body_markdown":"I am following the example described here - https://medium.com/@helmersebastian/clean-sharedpreferences-in-android-using-kotlin-delegation-ffabffd26990\r\n\r\nFollowing this implementation I added `DefaultSharedPrefs` \r\n\r\n```\r\nvar sharedApplicationContext: Context\r\n    get() = _sharedApplicationContext\r\n        ?: throw IllegalStateException(\r\n            &quot;Application context not initialized yet.&quot;\r\n        )\r\n    set(value) {\r\n        _sharedApplicationContext = value\r\n    }\r\n\r\nprivate var _sharedApplicationContext: Context? = null\r\nprivate val PREF_NAME = &quot;pref_name&quot;\r\n\r\nobject DefaultSharedPrefs : SharedPreferences by sharedApplicationContext.getSharedPreferences(\r\n    PREF_NAME, Context.MODE_PRIVATE\r\n)\r\n```\r\n\r\nUsage suppose to be like this \r\n\r\n```\r\nclass Foo {\r\n...\r\n    private var DefaultSharedPrefs.count: Int\r\n        get() = getInt(&quot;key&quot;, 0)\r\n        set(value) = edit { putInt(&quot;key&quot;, value) }\r\n...\r\n}\r\n```\r\n\r\nHowever I get such an error \r\n\r\n[![enter image description here][1]][1]\r\n\r\nSo, looks like the problem or I missed some dependency or I use the wrong one. \r\n\r\nAfter some reserch I found out that I missed this class\r\n\r\n```\r\npackage androidx.core.content\r\n\r\nimport android.annotation.SuppressLint\r\nimport android.content.SharedPreferences\r\n\r\n/**\r\n * Allows editing of this preference instance with a call to [apply][SharedPreferences.Editor.apply]\r\n * or [commit][SharedPreferences.Editor.commit] to persist the changes.\r\n * Default behaviour is [apply][SharedPreferences.Editor.apply].\r\n * ```\r\n * prefs.edit {\r\n *     putString(&quot;key&quot;, value)\r\n * }\r\n * ```\r\n * To [commit][SharedPreferences.Editor.commit] changes:\r\n * ```\r\n * prefs.edit(commit = true) {\r\n *     putString(&quot;key&quot;, value)\r\n * }\r\n * ```\r\n */\r\n@SuppressLint(&quot;ApplySharedPref&quot;)\r\npublic inline fun SharedPreferences.edit(\r\n    commit: Boolean = false,\r\n    action: SharedPreferences.Editor.() -&gt; Unit\r\n) {\r\n    val editor = edit()\r\n    action(editor)\r\n    if (commit) {\r\n        editor.commit()\r\n    } else {\r\n        editor.apply()\r\n    }\r\n}\r\n```\r\n\r\nfrom here - https://developer.android.com/reference/kotlin/androidx/core/content/package-summary\r\n\r\nThen I tried to add this dependency \r\n\r\n    implementation &quot;androidx.core.content:1.0.0&quot;\r\n\r\nbut I still get the same error. \r\n\r\nWhat am I missing?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aNtpq.png","title":"Which dependency should be added in order to use &quot;edit&quot; extention for SharePreferences?","body":"<p>I am following the example described here - <a href=\"https://medium.com/@helmersebastian/clean-sharedpreferences-in-android-using-kotlin-delegation-ffabffd26990\" rel=\"nofollow noreferrer\">https://medium.com/@helmersebastian/clean-sharedpreferences-in-android-using-kotlin-delegation-ffabffd26990</a></p>\n<p>Following this implementation I added <code>DefaultSharedPrefs</code></p>\n<pre><code>var sharedApplicationContext: Context\n    get() = _sharedApplicationContext\n        ?: throw IllegalStateException(\n            &quot;Application context not initialized yet.&quot;\n        )\n    set(value) {\n        _sharedApplicationContext = value\n    }\n\nprivate var _sharedApplicationContext: Context? = null\nprivate val PREF_NAME = &quot;pref_name&quot;\n\nobject DefaultSharedPrefs : SharedPreferences by sharedApplicationContext.getSharedPreferences(\n    PREF_NAME, Context.MODE_PRIVATE\n)\n</code></pre>\n<p>Usage suppose to be like this</p>\n<pre><code>class Foo {\n...\n    private var DefaultSharedPrefs.count: Int\n        get() = getInt(&quot;key&quot;, 0)\n        set(value) = edit { putInt(&quot;key&quot;, value) }\n...\n}\n</code></pre>\n<p>However I get such an error</p>\n<p><a href=\"https://i.stack.imgur.com/aNtpq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aNtpq.png\" alt=\"enter image description here\" /></a></p>\n<p>So, looks like the problem or I missed some dependency or I use the wrong one.</p>\n<p>After some reserch I found out that I missed this class</p>\n<pre><code>package androidx.core.content\n\nimport android.annotation.SuppressLint\nimport android.content.SharedPreferences\n\n/**\n * Allows editing of this preference instance with a call to [apply][SharedPreferences.Editor.apply]\n * or [commit][SharedPreferences.Editor.commit] to persist the changes.\n * Default behaviour is [apply][SharedPreferences.Editor.apply].\n * ```\n * prefs.edit {\n *     putString(&quot;key&quot;, value)\n * }\n * ```\n * To [commit][SharedPreferences.Editor.commit] changes:\n * ```\n * prefs.edit(commit = true) {\n *     putString(&quot;key&quot;, value)\n * }\n * ```\n */\n@SuppressLint(&quot;ApplySharedPref&quot;)\npublic inline fun SharedPreferences.edit(\n    commit: Boolean = false,\n    action: SharedPreferences.Editor.() -&gt; Unit\n) {\n    val editor = edit()\n    action(editor)\n    if (commit) {\n        editor.commit()\n    } else {\n        editor.apply()\n    }\n}\n</code></pre>\n<p>from here - <a href=\"https://developer.android.com/reference/kotlin/androidx/core/content/package-summary\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/kotlin/androidx/core/content/package-summary</a></p>\n<p>Then I tried to add this dependency</p>\n<pre><code>implementation &quot;androidx.core.content:1.0.0&quot;\n</code></pre>\n<p>but I still get the same error.</p>\n<p>What am I missing?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":967624,"reputation":10828,"user_id":990750,"accept_rate":50,"display_name":"Tarik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670167209,"creation_date":1670167209,"answer_id":74677968,"question_id":74677828,"body_markdown":"Break down your code into the following:\r\n\r\n 1. A function that takes the two lists and return a list of pairs of duplicates.\r\n 2. A function that takes the list of duplicates and create a string stating: &quot;Duplicates: value1, value2...&quot;\r\n 3. Show message box.","title":"How to show 2 or more duplicates with this array using java?","body":"<p>Break down your code into the following:</p>\n<ol>\n<li>A function that takes the two lists and return a list of pairs of duplicates.</li>\n<li>A function that takes the list of duplicates and create a string stating: &quot;Duplicates: value1, value2...&quot;</li>\n<li>Show message box.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":13254254,"reputation":3,"user_id":9570875,"display_name":"UserXyZ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670182665,"creation_date":1670182665,"answer_id":74680251,"question_id":74677828,"body_markdown":"here is an solution for your problem using Collections:\r\n\r\n    public static Integer[] getDuplicates(Integer[] list) {\r\n\r\n\t\tList&lt;Integer&gt; duplicates = new ArrayList&lt;&gt;(Arrays.asList(list));\r\n\t\tSet&lt;Integer&gt; seen = new HashSet&lt;&gt;(Arrays.asList(list));\r\n\r\n\t\tfor (Integer i : seen) {\r\n\t\t\tduplicates.remove(i);\r\n\t\t}\r\n\r\n\t\tSet&lt;Integer&gt; uniqueDuplicate = new HashSet&lt;&gt;(duplicates);\r\n\r\n\t\treturn uniqueDuplicate.toArray(Integer[]::new);\r\n\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint number;\r\n\r\n\t\tnumber = Integer.parseInt(JOptionPane.showInputDialog(&quot;Enter the number of customers: &quot;));\r\n\r\n\t\tInteger[] one = new Integer[number];\r\n\r\n\t\tfor (int i = 0; i &lt; number; i++) {\r\n\r\n\t\t\tone[i] = Integer.parseInt(JOptionPane.showInputDialog(&quot;Customer number: &quot;));\r\n\r\n\t\t}\r\n\r\n\t\tInteger[] two = getDuplicates(one);\r\n\r\n\t\tif (two.length == 0) {\r\n\t\t\tJOptionPane.showMessageDialog(null, &quot;\\nHONEST CUSTOMERS&quot;);\r\n\t\t} else {\r\n\t\t\tJOptionPane.showMessageDialog(null, &quot;Duplicates:&quot;);\r\n\t\t\tfor (int o = 0; o &lt; two.length; o++) {\r\n\t\t\t\tJOptionPane.showMessageDialog(null, &quot;Customer #&quot; + two[o]);\r\n\t\t\t\t// jop.showMessageDialog(null, &quot;Duplicates: Customer #&quot; + two[l]);\r\n\t\t\t\t// }\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"How to show 2 or more duplicates with this array using java?","body":"<p>here is an solution for your problem using Collections:</p>\n<pre><code>public static Integer[] getDuplicates(Integer[] list) {\n\n    List&lt;Integer&gt; duplicates = new ArrayList&lt;&gt;(Arrays.asList(list));\n    Set&lt;Integer&gt; seen = new HashSet&lt;&gt;(Arrays.asList(list));\n\n    for (Integer i : seen) {\n        duplicates.remove(i);\n    }\n\n    Set&lt;Integer&gt; uniqueDuplicate = new HashSet&lt;&gt;(duplicates);\n\n    return uniqueDuplicate.toArray(Integer[]::new);\n\n}\n\npublic static void main(String[] args) {\n    int number;\n\n    number = Integer.parseInt(JOptionPane.showInputDialog(&quot;Enter the number of customers: &quot;));\n\n    Integer[] one = new Integer[number];\n\n    for (int i = 0; i &lt; number; i++) {\n\n        one[i] = Integer.parseInt(JOptionPane.showInputDialog(&quot;Customer number: &quot;));\n\n    }\n\n    Integer[] two = getDuplicates(one);\n\n    if (two.length == 0) {\n        JOptionPane.showMessageDialog(null, &quot;\\nHONEST CUSTOMERS&quot;);\n    } else {\n        JOptionPane.showMessageDialog(null, &quot;Duplicates:&quot;);\n        for (int o = 0; o &lt; two.length; o++) {\n            JOptionPane.showMessageDialog(null, &quot;Customer #&quot; + two[o]);\n            // jop.showMessageDialog(null, &quot;Duplicates: Customer #&quot; + two[l]);\n            // }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27142408,"reputation":1,"user_id":20683106,"display_name":"Kaldr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1670182665,"creation_date":1670166181,"question_id":74677828,"body_markdown":"i would like to display 2 or more duplicated customers using joptionpane. It is working if there is only 1 duplicate customer but unfortunately the message dialogue wasnt showing if there is 2 or more duplicated customer. Here is my code. \r\n\r\n\r\n```\r\n\r\n  public static void main(String[] args) {\r\n    int number;\r\n\r\n    number = Integer.parseInt(JOptionPane.showInputDialog(&quot;Enter the number of customers: &quot;));\r\n\r\n    int[] one = new int[number];\r\n    int[] two = new int[number];\r\n\r\n    for (int i = 0; i &lt; number; i++) {\r\n\r\n      one[i] = Integer.parseInt(JOptionPane.showInputDialog(&quot;Customer number: &quot;));\r\n\r\n    }\r\n\r\n    int y = 0;\r\n    for (int i = 0; i &lt; one.length - 1; i++) {\r\n      for (int w = i + 1; w &lt; one.length; w++) {\r\n        if (one[i] == one[w]) {\r\n          two[y] = one[w];\r\n          y = y + 1;\r\n          break;\r\n        }\r\n\r\n      }\r\n\r\n      for (int p = 0; p &lt; y - 1; p++) {\r\n        if (one[p] == two[p - 1]) {\r\n          y = y - 1;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (y == 0) {\r\n      JOptionPane.showMessageDialog(null, &quot;\\nHONEST CUSTOMERS&quot;);\r\n    } else if (y != 0) {\r\n      JOptionPane.showMessageDialog(null, &quot;Duplicates:&quot;);\r\n      for (int o = 0; o &lt; y; o++) {\r\n        JOptionPane.showMessageDialog(null, &quot;Customer #&quot; + two[o]);\r\n        //jop.showMessageDialog(null, &quot;Duplicates:  Customer #&quot; + two[l]);\r\n        //}\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n\r\nHow can i show the message dialogue if i want to show 2 or more duplicated customers? thank you for the help.","title":"How to show 2 or more duplicates with this array using java?","body":"<p>i would like to display 2 or more duplicated customers using joptionpane. It is working if there is only 1 duplicate customer but unfortunately the message dialogue wasnt showing if there is 2 or more duplicated customer. Here is my code.</p>\n<pre><code>\n  public static void main(String[] args) {\n    int number;\n\n    number = Integer.parseInt(JOptionPane.showInputDialog(&quot;Enter the number of customers: &quot;));\n\n    int[] one = new int[number];\n    int[] two = new int[number];\n\n    for (int i = 0; i &lt; number; i++) {\n\n      one[i] = Integer.parseInt(JOptionPane.showInputDialog(&quot;Customer number: &quot;));\n\n    }\n\n    int y = 0;\n    for (int i = 0; i &lt; one.length - 1; i++) {\n      for (int w = i + 1; w &lt; one.length; w++) {\n        if (one[i] == one[w]) {\n          two[y] = one[w];\n          y = y + 1;\n          break;\n        }\n\n      }\n\n      for (int p = 0; p &lt; y - 1; p++) {\n        if (one[p] == two[p - 1]) {\n          y = y - 1;\n          break;\n        }\n      }\n    }\n\n    if (y == 0) {\n      JOptionPane.showMessageDialog(null, &quot;\\nHONEST CUSTOMERS&quot;);\n    } else if (y != 0) {\n      JOptionPane.showMessageDialog(null, &quot;Duplicates:&quot;);\n      for (int o = 0; o &lt; y; o++) {\n        JOptionPane.showMessageDialog(null, &quot;Customer #&quot; + two[o]);\n        //jop.showMessageDialog(null, &quot;Duplicates:  Customer #&quot; + two[l]);\n        //}\n      }\n    }\n  }\n}\n</code></pre>\n<p>How can i show the message dialogue if i want to show 2 or more duplicated customers? thank you for the help.</p>\n"},{"tags":["java","class","oop"],"comments":[{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":1,"creation_date":1670180760,"post_id":74679926,"comment_id":131810381,"body_markdown":"You&#39;ll need getters for your fields, and then it&#39;s a simple matter of using them and the `+=` operator (or the assignment and addition operators separately) to update the values of your fields. If you want to get fancy you can include a check for when the value of `cents` goes over 100 to convert it to dollars, add it to the `dollars` field and keep the remainder as the value of the `cents` field.","body":"You&#39;ll need getters for your fields, and then it&#39;s a simple matter of using them and the <code>+=</code> operator (or the assignment and addition operators separately) to update the values of your fields. If you want to get fancy you can include a check for when the value of <code>cents</code> goes over 100 to convert it to dollars, add it to the <code>dollars</code> field and keep the remainder as the value of the <code>cents</code> field."},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1670181040,"post_id":74679926,"comment_id":131810464,"body_markdown":"Your `equals` method doesnt do what you think it does. Also `add` should likely be `void` if it mutates `this`","body":"Your <code>equals</code> method doesnt do what you think it does. Also <code>add</code> should likely be <code>void</code> if it mutates <code>this</code>"}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670182636,"creation_date":1670182157,"answer_id":74680176,"question_id":74679926,"body_markdown":"Possible solution assuming that the `cents` value should always be kept within `[0, 100] range` in any instance of `Money`:\r\n```java\r\npublic Money add(Money other) {\r\n    if (null != other) {\r\n        this.cents += other.cents;\r\n        if (this.cents &gt;= 100) {\r\n            this.cents %= 100;\r\n            this.dollars++;\r\n        }\r\n        this.dollars += other.dollars;\r\n    }\r\n    return this;\r\n}\r\n```","title":"How to create an add method, that gets an argument, a reference to another object and then adds that object&#39;s value to the receiver&#39;s?","body":"<p>Possible solution assuming that the <code>cents</code> value should always be kept within <code>[0, 100] range</code> in any instance of <code>Money</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Money add(Money other) {\n    if (null != other) {\n        this.cents += other.cents;\n        if (this.cents &gt;= 100) {\n            this.cents %= 100;\n            this.dollars++;\n        }\n        this.dollars += other.dollars;\n    }\n    return this;\n}\n</code></pre>\n"}],"owner":{"account_id":27144562,"reputation":3,"user_id":20685001,"display_name":"szymonf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74680176,"answer_count":1,"score":0,"last_activity_date":1670182636,"creation_date":1670180309,"question_id":74679926,"body_markdown":"```\r\nclass Money{\r\n    private int cents;\r\n    private int dollars;\r\n    public Money(){\r\n        this.cents=0;\r\n    }\r\n    public Money(Scanner sc){\r\n        String token=sc.next();\r\n        int dot=token.indexOf(&quot;.&quot;);\r\n        this.cents=Integer.parseInt(token.substring(dot+1));\r\n        this.dollars=Integer.parseInt(token.substring(1,dot));\r\n    }\r\n    public String toString(){\r\n        return &quot;$&quot;+dollars+&quot;.&quot;+cents;\r\n    }\r\n    public boolean equals(Money other){\r\n        if(!(other instanceof Money)){\r\n            return false;\r\n        }\r\n        return this.dollars==other.dollars &amp;&amp; this.cents==other.cents;\r\n    }\r\n    public Money add(Money other){\r\n        return \r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nHere is my class, I can&#39;t seem to figure out how to create the add method that adds an object&#39;s value to the receiver&#39;s. Any tips or help is greatly appreciated!","title":"How to create an add method, that gets an argument, a reference to another object and then adds that object&#39;s value to the receiver&#39;s?","body":"<pre><code>class Money{\n    private int cents;\n    private int dollars;\n    public Money(){\n        this.cents=0;\n    }\n    public Money(Scanner sc){\n        String token=sc.next();\n        int dot=token.indexOf(&quot;.&quot;);\n        this.cents=Integer.parseInt(token.substring(dot+1));\n        this.dollars=Integer.parseInt(token.substring(1,dot));\n    }\n    public String toString(){\n        return &quot;$&quot;+dollars+&quot;.&quot;+cents;\n    }\n    public boolean equals(Money other){\n        if(!(other instanceof Money)){\n            return false;\n        }\n        return this.dollars==other.dollars &amp;&amp; this.cents==other.cents;\n    }\n    public Money add(Money other){\n        return \n    }\n}\n</code></pre>\n<p>Here is my class, I can't seem to figure out how to create the add method that adds an object's value to the receiver's. Any tips or help is greatly appreciated!</p>\n"},{"tags":["java","multithreading","user-interface","game-loop"],"answers":[{"tags":[],"owner":{"account_id":26844832,"reputation":26,"user_id":20430742,"display_name":"Divyansh Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670181986,"creation_date":1670154910,"answer_id":74675334,"question_id":74674936,"body_markdown":"There is nothing wrong with your game loop. The way you are creating the JFrame is wrong. \r\n\r\nMistake 1:\r\nDo not use `JFrame.setSize()` use `JFrame.setPreferredSize()` instead.\r\n\r\nMistake 2:\r\nAlways call `JFrame.pack()` after adding all the components and before making the frame visible.\r\n\r\nMistake 3:\r\nDo not use **null** layout for JFrame.\r\n\r\nAfter fixing these mistakes your game was running without any problems.\r\n\r\n```\r\nPanelClass pClass = new PanelClass();\r\nJButton start = new JButton(&quot;START&quot;);\r\nstart.setSize(120, 50);\r\nstart.setFocusable(false);\r\nstart.setLocation(630, 200);\r\nstart.addActionListener(new ActionListener() {\r\n    public void actionPerformed(ActionEvent e) {\r\n        if(e.getSource() == start) {\r\n            pClass.startGameThread();\r\n            Clicked = true;\r\n            start.setVisible(false);\r\n        }\r\n    }\r\n});\r\nstart.setVisible(true);\r\nJFrame frame = new JFrame(&quot;Tanks&quot;);\r\nframe.setPreferredSize(new Dimension(1200, 913));\r\nframe.setExtendedState(JFrame.MAXIMIZED_BOTH);\r\nframe.add(start);\r\nframe.add(pClass);\r\nframe.setVisible(true);\r\nframe.pack();\r\n```\r\n\r\nComplete code:\r\n```\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\n\r\nimport javax.swing.*;\r\n\r\npublic class Game implements ActionListener {\r\n    public static boolean Clicked = false;\r\n\r\n    public static void main(String[] args) {\r\n        PanelClass pClass = new PanelClass();\r\n        JButton start = new JButton(&quot;START&quot;);\r\n        start.setSize(120, 50);\r\n        start.setFocusable(false);\r\n        start.setLocation(630, 200);\r\n        start.addActionListener(e -&gt; {\r\n            if(e.getSource() == start) {\r\n                pClass.startGameThread();\r\n                Clicked = true;\r\n                start.setVisible(false);\r\n            }\r\n        });\r\n        start.setVisible(true);\r\n        JFrame frame = new JFrame(&quot;Tanks&quot;);\r\n        frame.setPreferredSize(new Dimension(1200, 913));\r\n        frame.setMinimumSize(new Dimension(300, 200));\r\n        frame.setExtendedState(JFrame.MAXIMIZED_BOTH);\r\n        frame.add(start);\r\n        frame.add(pClass);\r\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n        frame.setVisible(true);\r\n        frame.pack();\r\n    }\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n\r\n    }\r\n    static class PanelClass extends JPanel implements Runnable{\r\n        int posX = 0;\r\n        Thread gameThread;\r\n        int frame;\r\n        long lastCheck;\r\n        int FPS = 60;\r\n        public void startGameThread() {\r\n            gameLoop();\r\n            gameThread = new Thread(this);\r\n            gameThread.start();\r\n        }\r\n\r\n        public void gameLoop() {\r\n            frame++;\r\n            if (System.currentTimeMillis() - lastCheck &gt;= 1000) {\r\n                lastCheck = System.currentTimeMillis();\r\n                System.out.println(&quot;FPS &quot; + frame);\r\n                frame = 0;\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            double timePerFrame = 1000000000.0/FPS;\r\n            long lastFrame = System.nanoTime();\r\n            long now = System.nanoTime();\r\n            while (true) {\r\n                now = System.nanoTime();\r\n                if (System.nanoTime() - lastFrame &gt;= timePerFrame) {\r\n                    repaint();\r\n                    gameLoop();\r\n                    lastFrame = now;\r\n                }\r\n            }\r\n        }\r\n\r\n        @Override\r\n        protected void paintComponent(Graphics g) {\r\n            super.paintComponent(g);\r\n            posX++;\r\n            g.fillRect(posX,getHeight()/2,10,10);\r\n            Toolkit.getDefaultToolkit().sync();\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe game loop works and there is no blinking/flickering on ubuntu or windows 7 compiled with JDK 17.\r\n\r\nBonus tip: If you are overriding the paint method of your PanelClass then use `Toolkit.getDefaultToolkit().sync()` in the end. This method ensures that the display is up-to-date.","title":"Game Loop makes GUI &quot;blinking&quot;","body":"<p>There is nothing wrong with your game loop. The way you are creating the JFrame is wrong.</p>\n<p>Mistake 1:\nDo not use <code>JFrame.setSize()</code> use <code>JFrame.setPreferredSize()</code> instead.</p>\n<p>Mistake 2:\nAlways call <code>JFrame.pack()</code> after adding all the components and before making the frame visible.</p>\n<p>Mistake 3:\nDo not use <strong>null</strong> layout for JFrame.</p>\n<p>After fixing these mistakes your game was running without any problems.</p>\n<pre><code>PanelClass pClass = new PanelClass();\nJButton start = new JButton(&quot;START&quot;);\nstart.setSize(120, 50);\nstart.setFocusable(false);\nstart.setLocation(630, 200);\nstart.addActionListener(new ActionListener() {\n    public void actionPerformed(ActionEvent e) {\n        if(e.getSource() == start) {\n            pClass.startGameThread();\n            Clicked = true;\n            start.setVisible(false);\n        }\n    }\n});\nstart.setVisible(true);\nJFrame frame = new JFrame(&quot;Tanks&quot;);\nframe.setPreferredSize(new Dimension(1200, 913));\nframe.setExtendedState(JFrame.MAXIMIZED_BOTH);\nframe.add(start);\nframe.add(pClass);\nframe.setVisible(true);\nframe.pack();\n</code></pre>\n<p>Complete code:</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\n\nimport javax.swing.*;\n\npublic class Game implements ActionListener {\n    public static boolean Clicked = false;\n\n    public static void main(String[] args) {\n        PanelClass pClass = new PanelClass();\n        JButton start = new JButton(&quot;START&quot;);\n        start.setSize(120, 50);\n        start.setFocusable(false);\n        start.setLocation(630, 200);\n        start.addActionListener(e -&gt; {\n            if(e.getSource() == start) {\n                pClass.startGameThread();\n                Clicked = true;\n                start.setVisible(false);\n            }\n        });\n        start.setVisible(true);\n        JFrame frame = new JFrame(&quot;Tanks&quot;);\n        frame.setPreferredSize(new Dimension(1200, 913));\n        frame.setMinimumSize(new Dimension(300, 200));\n        frame.setExtendedState(JFrame.MAXIMIZED_BOTH);\n        frame.add(start);\n        frame.add(pClass);\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        frame.setVisible(true);\n        frame.pack();\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n\n    }\n    static class PanelClass extends JPanel implements Runnable{\n        int posX = 0;\n        Thread gameThread;\n        int frame;\n        long lastCheck;\n        int FPS = 60;\n        public void startGameThread() {\n            gameLoop();\n            gameThread = new Thread(this);\n            gameThread.start();\n        }\n\n        public void gameLoop() {\n            frame++;\n            if (System.currentTimeMillis() - lastCheck &gt;= 1000) {\n                lastCheck = System.currentTimeMillis();\n                System.out.println(&quot;FPS &quot; + frame);\n                frame = 0;\n            }\n        }\n\n        @Override\n        public void run() {\n            double timePerFrame = 1000000000.0/FPS;\n            long lastFrame = System.nanoTime();\n            long now = System.nanoTime();\n            while (true) {\n                now = System.nanoTime();\n                if (System.nanoTime() - lastFrame &gt;= timePerFrame) {\n                    repaint();\n                    gameLoop();\n                    lastFrame = now;\n                }\n            }\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            posX++;\n            g.fillRect(posX,getHeight()/2,10,10);\n            Toolkit.getDefaultToolkit().sync();\n        }\n    }\n\n}\n</code></pre>\n<p>The game loop works and there is no blinking/flickering on ubuntu or windows 7 compiled with JDK 17.</p>\n<p>Bonus tip: If you are overriding the paint method of your PanelClass then use <code>Toolkit.getDefaultToolkit().sync()</code> in the end. This method ensures that the display is up-to-date.</p>\n"}],"owner":{"account_id":25345436,"reputation":11,"user_id":19163192,"display_name":"Reyni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670181986,"creation_date":1670151936,"question_id":74674936,"body_markdown":"I have a Game Loop:\r\n\r\n```java\r\npublic void startGameThread() {\r\n    gameLoop();\r\n    gameThread = new Thread(this);\r\n    gameThread.start();\r\n}\r\n\r\npublic void gameLoop() {\r\n    frame++;\r\n    if (System.currentTimeMillis() - lastCheck &gt;= 1000) {\r\n        lastCheck = System.currentTimeMillis();\r\n        System.out.println(&quot;FPS &quot; + frame);\r\n        frame = 0;\r\n    }\r\n}\r\n\r\n@Override\r\npublic void run() {\r\n    double timePerFrame = 1000000000.0/FPS;\r\n    long lastFrame = System.nanoTime();\r\n    long now = System.nanoTime();\r\n    while (true) {\r\n        now = System.nanoTime();\r\n        if (System.nanoTime() - lastFrame &gt;= timePerFrame) {\r\n            repaint();\r\n            update();\r\n            gameLoop();\r\n            lastFrame = now;\r\n        }\r\n    }\r\n}\r\n```\r\nand Main Class with GUI:\r\n\r\n```java\r\npackage MainPackage;\r\n\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\n\r\npublic class MainClass implements ActionListener {\r\n    public static boolean Clicked = false;\r\n\r\n    public static void main(String[] args) {\r\n        PanelClass pClass = new PanelClass();\r\n        JButton start = new JButton(&quot;START&quot;);\r\n        start.setSize(120, 50);\r\n        start.setFocusable(false);\r\n        start.setLocation(630, 200);\r\n        start.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent e) {\r\n                if(e.getSource() == start) {\r\n                    pClass.startGameThread();\r\n                    Clicked = true;\r\n                    start.setVisible(false);\r\n                }\r\n            }\r\n        });\r\n        start.setVisible(true);\r\n        JFrame frame = new JFrame(&quot;Tanks&quot;);\r\n        frame.setSize(1600, 913);\r\n        frame.setLayout(null);\r\n        frame.pack();\r\n        frame.setExtendedState(JFrame.MAXIMIZED_BOTH);\r\n        frame.add(start);\r\n        frame.add(pClass);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n\r\n    }\r\n}\r\n```\r\nAfter launching my application, GUI is &quot;blinking&quot;. I think that&#39;s because of the Game loop. But how to fix it? Any help is really appreciated!\r\n\r\nI was expecting to get the usual behavior of the GUI. Ask me to add more details; code, if needed.\r\n\r\nTyping this, because stackoverflow need more &quot;details&quot;. That&#39;s probably stupid, but I don&#39;t know what details to add.\r\n","title":"Game Loop makes GUI &quot;blinking&quot;","body":"<p>I have a Game Loop:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void startGameThread() {\n    gameLoop();\n    gameThread = new Thread(this);\n    gameThread.start();\n}\n\npublic void gameLoop() {\n    frame++;\n    if (System.currentTimeMillis() - lastCheck &gt;= 1000) {\n        lastCheck = System.currentTimeMillis();\n        System.out.println(&quot;FPS &quot; + frame);\n        frame = 0;\n    }\n}\n\n@Override\npublic void run() {\n    double timePerFrame = 1000000000.0/FPS;\n    long lastFrame = System.nanoTime();\n    long now = System.nanoTime();\n    while (true) {\n        now = System.nanoTime();\n        if (System.nanoTime() - lastFrame &gt;= timePerFrame) {\n            repaint();\n            update();\n            gameLoop();\n            lastFrame = now;\n        }\n    }\n}\n</code></pre>\n<p>and Main Class with GUI:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package MainPackage;\n\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\n\npublic class MainClass implements ActionListener {\n    public static boolean Clicked = false;\n\n    public static void main(String[] args) {\n        PanelClass pClass = new PanelClass();\n        JButton start = new JButton(&quot;START&quot;);\n        start.setSize(120, 50);\n        start.setFocusable(false);\n        start.setLocation(630, 200);\n        start.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                if(e.getSource() == start) {\n                    pClass.startGameThread();\n                    Clicked = true;\n                    start.setVisible(false);\n                }\n            }\n        });\n        start.setVisible(true);\n        JFrame frame = new JFrame(&quot;Tanks&quot;);\n        frame.setSize(1600, 913);\n        frame.setLayout(null);\n        frame.pack();\n        frame.setExtendedState(JFrame.MAXIMIZED_BOTH);\n        frame.add(start);\n        frame.add(pClass);\n        frame.setVisible(true);\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n\n    }\n}\n</code></pre>\n<p>After launching my application, GUI is &quot;blinking&quot;. I think that's because of the Game loop. But how to fix it? Any help is really appreciated!</p>\n<p>I was expecting to get the usual behavior of the GUI. Ask me to add more details; code, if needed.</p>\n<p>Typing this, because stackoverflow need more &quot;details&quot;. That's probably stupid, but I don't know what details to add.</p>\n"},{"tags":["java","data-structures","queue","guava","blockingqueue"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":1,"creation_date":1670182107,"post_id":74680143,"comment_id":131810729,"body_markdown":"Use e.g. a cache with a time based eviction strategy.","body":"Use e.g. a cache with a time based eviction strategy."},{"owner":{"account_id":175930,"reputation":2593,"user_id":406290,"accept_rate":43,"display_name":"Kevin Hooke"},"score":0,"creation_date":1670182691,"post_id":74680143,"comment_id":131810847,"body_markdown":"Redis allows you to specify a TTL on a key","body":"Redis allows you to specify a TTL on a key"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1670183073,"post_id":74680143,"comment_id":131810928,"body_markdown":"This is just going to devolve to a priority queue with &quot;time-of-death&quot; as the sort key.  Caches that allow custom specified eviction times will degenerate to this too.","body":"This is just going to devolve to a priority queue with &quot;time-of-death&quot; as the sort key.  Caches that allow custom specified eviction times will degenerate to this too."},{"owner":{"account_id":6259534,"reputation":21,"user_id":7787160,"display_name":"user25963"},"score":0,"creation_date":1670186963,"post_id":74680143,"comment_id":131811781,"body_markdown":"@LouisWasserman But how can we make priority queue to remove element as soon as ttl is expired?","body":"@LouisWasserman But how can we make priority queue to remove element as soon as ttl is expired?"},{"owner":{"account_id":6259534,"reputation":21,"user_id":7787160,"display_name":"user25963"},"score":0,"creation_date":1670187606,"post_id":74680143,"comment_id":131811913,"body_markdown":"@luk2302 But the time based eviction strategy will be the same for all elements in such cache, right? How can we make ttl for every record different?","body":"@luk2302 But the time based eviction strategy will be the same for all elements in such cache, right? How can we make ttl for every record different?"},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1670187666,"post_id":74680143,"comment_id":131811925,"body_markdown":"By implementing one.","body":"By implementing one."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1670189629,"post_id":74680143,"comment_id":131812338,"body_markdown":"You pretty much just have to have a thread, or at least use a `ScheduledExecutorService`.","body":"You pretty much just have to have a thread, or at least use a <code>ScheduledExecutorService</code>."},{"owner":{"account_id":22848,"reputation":131588,"user_id":56778,"accept_rate":93,"display_name":"Jim Mischel"},"score":1,"creation_date":1670260946,"post_id":74680143,"comment_id":131830302,"body_markdown":"But you don&#39;t need to remove the item from the priority queue as soon as it expires. You can remove expired items during addition of new items or when you query the queue to get the next item.","body":"But you don&#39;t need to remove the item from the priority queue as soon as it expires. You can remove expired items during addition of new items or when you query the queue to get the next item."}],"owner":{"account_id":6259534,"reputation":21,"user_id":7787160,"display_name":"user25963"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670181841,"creation_date":1670181841,"question_id":74680143,"body_markdown":"Does anybody know if there is existing Java data structure where elements are automatically removed from it based on the delay for each element? In other words, each element has its own ttl.\r\n\r\nFor example:\r\n\r\n    public class DataStructureWithDelay {\r\n    \r\n        void add(Object element, long delay) {} \r\n        // After delay expires element will be removed from data structure automatically\r\n    }\r\n\r\n    DataStructureWithDelay dataStructure = new DataStructureWithDelay()\r\n    dataStructure.add(element, 10000L) ","title":"Java data structure where elements automatically removed after specified delay for every element","body":"<p>Does anybody know if there is existing Java data structure where elements are automatically removed from it based on the delay for each element? In other words, each element has its own ttl.</p>\n<p>For example:</p>\n<pre><code>public class DataStructureWithDelay {\n\n    void add(Object element, long delay) {} \n    // After delay expires element will be removed from data structure automatically\n}\n\nDataStructureWithDelay dataStructure = new DataStructureWithDelay()\ndataStructure.add(element, 10000L) \n</code></pre>\n"},{"tags":["java","collections"],"answers":[{"tags":[],"owner":{"account_id":15460773,"reputation":186,"user_id":11153525,"display_name":"Leno"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670181555,"creation_date":1670179589,"answer_id":74679836,"question_id":74679760,"body_markdown":"This should do the trick:\r\n\r\n     public static List&lt;Integer&gt; returnDuplicate (Integer[] list ){\r\n                List&lt;Integer&gt; uniqueList = new ArrayList&lt;Integer&gt;();\r\n                int prev = -1;\r\n                for(Integer el : list){\r\n                  if(el == prev &amp;&amp; prev != -1)\r\n                    uniqueList.add(el);\r\n                  prev = el;\r\n                }\r\n        \r\n                return uniqueList;\r\n                \r\n        }\r\n\r\n\r\n","title":"Removing only one element of the duplicate elements using collections in java","body":"<p>This should do the trick:</p>\n<pre><code> public static List&lt;Integer&gt; returnDuplicate (Integer[] list ){\n            List&lt;Integer&gt; uniqueList = new ArrayList&lt;Integer&gt;();\n            int prev = -1;\n            for(Integer el : list){\n              if(el == prev &amp;&amp; prev != -1)\n                uniqueList.add(el);\n              prev = el;\n            }\n    \n            return uniqueList;\n            \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670180852,"creation_date":1670180095,"answer_id":74679900,"question_id":74679760,"body_markdown":"Since you&#39;re allowed to use Collections, you can maintain a [`HashSet`][hashSet] of elements that have been already encountered (it would be more performant than maintain `List` because `contains()` check on a list performs iteration over the whole list under the hood which results in **O(n)** time complexity, meanwhile `HashSet` produces the result almost instantly in **O(1)**).\r\n\r\nAnd while iterating offer you need to offer the next element to the Set, if the element gets rejected, i.e. method `Set.add()` returns `false`, would mean that it&#39;s a duplicate, and we can add it to the resulting list of duplicated values.\r\n\r\n    public static Integer[] returnDuplicates(Integer[] list){\r\n        List&lt;Integer&gt; duplicates = new ArrayList&lt;&gt;();\r\n        Set&lt;Integer&gt; seen = new HashSet&lt;&gt;();\r\n        for (Integer next: list) {\r\n            if (!seen.add(next)) duplicates.add(next);\r\n        }\r\n        return duplicates.toArray(Integer[]::new);\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(Arrays.toString(returnDuplicates(new Integer[]{1, 1, 2, 2, 2})));\r\n    }\r\n\r\n*Output:*\r\n\r\n```\r\n[1, 2, 2]\r\n```\r\n\r\n\r\n   [hashSet]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HashSet.html","title":"Removing only one element of the duplicate elements using collections in java","body":"<p>Since you're allowed to use Collections, you can maintain a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HashSet.html\" rel=\"nofollow noreferrer\"><code>HashSet</code></a> of elements that have been already encountered (it would be more performant than maintain <code>List</code> because <code>contains()</code> check on a list performs iteration over the whole list under the hood which results in <strong>O(n)</strong> time complexity, meanwhile <code>HashSet</code> produces the result almost instantly in <strong>O(1)</strong>).</p>\n<p>And while iterating offer you need to offer the next element to the Set, if the element gets rejected, i.e. method <code>Set.add()</code> returns <code>false</code>, would mean that it's a duplicate, and we can add it to the resulting list of duplicated values.</p>\n<pre><code>public static Integer[] returnDuplicates(Integer[] list){\n    List&lt;Integer&gt; duplicates = new ArrayList&lt;&gt;();\n    Set&lt;Integer&gt; seen = new HashSet&lt;&gt;();\n    for (Integer next: list) {\n        if (!seen.add(next)) duplicates.add(next);\n    }\n    return duplicates.toArray(Integer[]::new);\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(Arrays.toString(returnDuplicates(new Integer[]{1, 1, 2, 2, 2})));\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[1, 2, 2]\n</code></pre>\n"}],"owner":{"account_id":27142627,"reputation":1,"user_id":20683299,"display_name":"Unknown"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1670181555,"creation_date":1670179032,"question_id":74679760,"body_markdown":"I have to find all the duplicates and return them using collections. For example, if list = {1,1,2,2,2} it will return {1,2,2}. So in other words, the pattern is you return -1 of the number of duplicates.\r\n\r\nHere is the method:\r\n\r\n```\r\npublic static Integer[] returnDuplicate (Integer[] list ){\r\n\t\t// Insert your code here. You may want to change the return value. \r\n\t\r\n\t\treturn null\t\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\npublic static Integer[] returnDuplicate (Integer[] list ){\r\n\t\tList&lt;Integer&gt; uniqueList = new ArrayList&lt;Integer&gt;();\r\n\t\tfor (int k = 0; k &lt; list.length; k++) {\r\n                  for (int j = 0; j &lt; list.length; j++) {\r\n                       if (list[k] == list[j] &amp;&amp; k != j &amp;&amp; !uniqueList.contains(list[k])) {\r\n\t\t\t\tuniqueList.add(list[k]);\r\n\t\t\t}\r\n                   }\r\n\t\t}\r\n\t\tInteger[] result = new Integer[uniqueList.size()];\r\n\t\tint i = 0;\r\n\t\tfor (Integer val : uniqueList) {\r\n\t\t\tresult[i++] = val;\r\n\t\t}\r\n\t\treturn result;\r\n        \r\n}\r\n```\r\nThis is my code but it&#39;s returning {1,2} instead of {1,2,2}","title":"Removing only one element of the duplicate elements using collections in java","body":"<p>I have to find all the duplicates and return them using collections. For example, if list = {1,1,2,2,2} it will return {1,2,2}. So in other words, the pattern is you return -1 of the number of duplicates.</p>\n<p>Here is the method:</p>\n<pre><code>public static Integer[] returnDuplicate (Integer[] list ){\n        // Insert your code here. You may want to change the return value. \n    \n        return null \n}\n\n</code></pre>\n<pre><code>public static Integer[] returnDuplicate (Integer[] list ){\n        List&lt;Integer&gt; uniqueList = new ArrayList&lt;Integer&gt;();\n        for (int k = 0; k &lt; list.length; k++) {\n                  for (int j = 0; j &lt; list.length; j++) {\n                       if (list[k] == list[j] &amp;&amp; k != j &amp;&amp; !uniqueList.contains(list[k])) {\n                uniqueList.add(list[k]);\n            }\n                   }\n        }\n        Integer[] result = new Integer[uniqueList.size()];\n        int i = 0;\n        for (Integer val : uniqueList) {\n            result[i++] = val;\n        }\n        return result;\n        \n}\n</code></pre>\n<p>This is my code but it's returning {1,2} instead of {1,2,2}</p>\n"},{"tags":["java","scala","clone"],"comments":[{"owner":{"account_id":1315819,"reputation":1626,"user_id":1262728,"accept_rate":75,"display_name":"Erik van Oosten"},"score":1,"creation_date":1670174297,"post_id":74678693,"comment_id":131808847,"body_markdown":"This might be helpful: https://stackoverflow.com/a/15477307","body":"This might be helpful: <a href=\"https://stackoverflow.com/a/15477307\">stackoverflow.com/a/15477307</a>"}],"answers":[{"tags":[],"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670181049,"creation_date":1670174542,"answer_id":74679059,"question_id":74678693,"body_markdown":"You should override `clone` in classes\r\n\r\n```scala\r\nabstract class A extends Cloneable {\r\n  var dbName: String\r\n\r\n  def withConfig(db: String): A = {\r\n    var a = this.clone().asInstanceOf[A]\r\n    a.dbName = db\r\n    a\r\n  }\r\n}\r\n\r\nclass A1(db: String) extends A {\r\n  override var dbName: String = db\r\n  override def clone(): AnyRef = new A1(db)\r\n}\r\n\r\nclass A2(db: String) extends A {\r\n  override var dbName: String = db\r\n  override def clone(): AnyRef = new A2(db)\r\n}\r\n```\r\n\r\nBy the way, using `var`s is not idiomatic.\r\n\r\n---\r\n\r\nWith `val`s instead of `var`s (and not using Java `Cloneable` at all)\r\n\r\n```scala\r\nabstract class A {\r\n  def db: String\r\n  def withConfig(db: String): A\r\n}\r\n\r\nclass A1(val db: String) extends A {\r\n  override def withConfig(db: String): A = new A1(db)\r\n}\r\n\r\nclass A2(val db: String) extends A {\r\n  override def withConfig(db: String): A = new A2(db)\r\n}\r\n\r\nval obj = new A1(&quot;TEST&quot;)\r\nprintln(obj.db) // TEST\r\nval newObj = obj.withConfig(&quot;TEST2&quot;)\r\nprintln(newObj.db) // TEST2\r\nprintln(obj.db) // TEST\r\n```\r\n\r\nor (with `withConfig` returning more precise type than `A`)\r\n\r\n```scala\r\nabstract class A {\r\n  def db: String\r\n  type This &lt;: A\r\n  def withConfig(db: String): This\r\n}\r\n\r\nclass A1(val db: String) extends A {\r\n  override type This = A1\r\n  override def withConfig(db: String): This = new A1(db)\r\n}\r\n\r\nclass A2(val db: String) extends A {\r\n  override type This = A2\r\n  override def withConfig(db: String): This = new A2(db)\r\n}\r\n```\r\n\r\n---\r\n\r\nI would even implement `This` and `withConfig` with a [macro annotation](https://docs.scala-lang.org/overviews/macros/annotations.html)\r\n\r\n```scala\r\nimport scala.annotation.{StaticAnnotation, compileTimeOnly}\r\nimport scala.language.experimental.macros\r\nimport scala.reflect.macros.blackbox\r\n\r\n@compileTimeOnly(&quot;enable macro annotations&quot;)\r\nclass implement extends StaticAnnotation {\r\n  def macroTransform(annottees: Any*): Any = macro ImplementMacro.impl\r\n}\r\n\r\nobject ImplementMacro {\r\n  def impl(c: blackbox.Context)(annottees: c.Tree*): c.Tree = {\r\n    import c.universe._\r\n    annottees match {\r\n      case q&quot;$mods class $tpname[..$tparams] $ctorMods(...$paramss) extends { ..$earlydefns } with ..$parents { $self =&gt; ..$stats }&quot; :: tail =&gt;\r\n        val tparams1 = tparams.map {\r\n          case q&quot;$mods type $tpname[..$tparams] = $tpt&quot; =&gt; tq&quot;$tpname&quot;\r\n        }\r\n        q&quot;&quot;&quot;\r\n          $mods class $tpname[..$tparams] $ctorMods(...$paramss) extends { ..$earlydefns } with ..$parents { $self =&gt;\r\n            ..$stats\r\n            override type This = $tpname[..$tparams1]\r\n            override def withConfig(db: String): This = new $tpname(db)\r\n          }\r\n\r\n          ..$tail\r\n        &quot;&quot;&quot;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n```scala\r\nabstract class A {\r\n  def db: String\r\n  type This &lt;: A\r\n  def withConfig(db: String): This\r\n}\r\n\r\n@implement\r\nclass A1(val db: String) extends A\r\n\r\n@implement\r\nclass A2(val db: String) extends A\r\n\r\n//scalac: {\r\n//  class A1 extends A {\r\n//    &lt;paramaccessor&gt; val db: String = _;\r\n//    def &lt;init&gt;(db: String) = {\r\n//      super.&lt;init&gt;();\r\n//      ()\r\n//    };\r\n//    override type This = A1;\r\n//    override def withConfig(db: String): This = new A1(db)\r\n//  };\r\n//  ()\r\n//}\r\n//scalac: {\r\n//  class A2 extends A {\r\n//    &lt;paramaccessor&gt; val db: String = _;\r\n//    def &lt;init&gt;(db: String) = {\r\n//      super.&lt;init&gt;();\r\n//      ()\r\n//    };\r\n//    override type This = A2;\r\n//    override def withConfig(db: String): This = new A2(db)\r\n//  };\r\n//  ()\r\n//}\r\n```\r\n\r\nSettings: https://stackoverflow.com/questions/74497076/auto-generate-companion-object-for-case-class-in-scala","title":"Unable to clone an object from within an abstract class method in Scala","body":"<p>You should override <code>clone</code> in classes</p>\n<pre class=\"lang-scala prettyprint-override\"><code>abstract class A extends Cloneable {\n  var dbName: String\n\n  def withConfig(db: String): A = {\n    var a = this.clone().asInstanceOf[A]\n    a.dbName = db\n    a\n  }\n}\n\nclass A1(db: String) extends A {\n  override var dbName: String = db\n  override def clone(): AnyRef = new A1(db)\n}\n\nclass A2(db: String) extends A {\n  override var dbName: String = db\n  override def clone(): AnyRef = new A2(db)\n}\n</code></pre>\n<p>By the way, using <code>var</code>s is not idiomatic.</p>\n<hr />\n<p>With <code>val</code>s instead of <code>var</code>s (and not using Java <code>Cloneable</code> at all)</p>\n<pre class=\"lang-scala prettyprint-override\"><code>abstract class A {\n  def db: String\n  def withConfig(db: String): A\n}\n\nclass A1(val db: String) extends A {\n  override def withConfig(db: String): A = new A1(db)\n}\n\nclass A2(val db: String) extends A {\n  override def withConfig(db: String): A = new A2(db)\n}\n\nval obj = new A1(&quot;TEST&quot;)\nprintln(obj.db) // TEST\nval newObj = obj.withConfig(&quot;TEST2&quot;)\nprintln(newObj.db) // TEST2\nprintln(obj.db) // TEST\n</code></pre>\n<p>or (with <code>withConfig</code> returning more precise type than <code>A</code>)</p>\n<pre class=\"lang-scala prettyprint-override\"><code>abstract class A {\n  def db: String\n  type This &lt;: A\n  def withConfig(db: String): This\n}\n\nclass A1(val db: String) extends A {\n  override type This = A1\n  override def withConfig(db: String): This = new A1(db)\n}\n\nclass A2(val db: String) extends A {\n  override type This = A2\n  override def withConfig(db: String): This = new A2(db)\n}\n</code></pre>\n<hr />\n<p>I would even implement <code>This</code> and <code>withConfig</code> with a <a href=\"https://docs.scala-lang.org/overviews/macros/annotations.html\" rel=\"nofollow noreferrer\">macro annotation</a></p>\n<pre class=\"lang-scala prettyprint-override\"><code>import scala.annotation.{StaticAnnotation, compileTimeOnly}\nimport scala.language.experimental.macros\nimport scala.reflect.macros.blackbox\n\n@compileTimeOnly(&quot;enable macro annotations&quot;)\nclass implement extends StaticAnnotation {\n  def macroTransform(annottees: Any*): Any = macro ImplementMacro.impl\n}\n\nobject ImplementMacro {\n  def impl(c: blackbox.Context)(annottees: c.Tree*): c.Tree = {\n    import c.universe._\n    annottees match {\n      case q&quot;$mods class $tpname[..$tparams] $ctorMods(...$paramss) extends { ..$earlydefns } with ..$parents { $self =&gt; ..$stats }&quot; :: tail =&gt;\n        val tparams1 = tparams.map {\n          case q&quot;$mods type $tpname[..$tparams] = $tpt&quot; =&gt; tq&quot;$tpname&quot;\n        }\n        q&quot;&quot;&quot;\n          $mods class $tpname[..$tparams] $ctorMods(...$paramss) extends { ..$earlydefns } with ..$parents { $self =&gt;\n            ..$stats\n            override type This = $tpname[..$tparams1]\n            override def withConfig(db: String): This = new $tpname(db)\n          }\n\n          ..$tail\n        &quot;&quot;&quot;\n    }\n  }\n}\n</code></pre>\n<pre class=\"lang-scala prettyprint-override\"><code>abstract class A {\n  def db: String\n  type This &lt;: A\n  def withConfig(db: String): This\n}\n\n@implement\nclass A1(val db: String) extends A\n\n@implement\nclass A2(val db: String) extends A\n\n//scalac: {\n//  class A1 extends A {\n//    &lt;paramaccessor&gt; val db: String = _;\n//    def &lt;init&gt;(db: String) = {\n//      super.&lt;init&gt;();\n//      ()\n//    };\n//    override type This = A1;\n//    override def withConfig(db: String): This = new A1(db)\n//  };\n//  ()\n//}\n//scalac: {\n//  class A2 extends A {\n//    &lt;paramaccessor&gt; val db: String = _;\n//    def &lt;init&gt;(db: String) = {\n//      super.&lt;init&gt;();\n//      ()\n//    };\n//    override type This = A2;\n//    override def withConfig(db: String): This = new A2(db)\n//  };\n//  ()\n//}\n</code></pre>\n<p>Settings: <a href=\"https://stackoverflow.com/questions/74497076/auto-generate-companion-object-for-case-class-in-scala\">Auto-Generate Companion Object for Case Class in Scala</a></p>\n"}],"owner":{"account_id":2855392,"reputation":1787,"user_id":2451763,"accept_rate":69,"display_name":"Sparker0i"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74679059,"answer_count":1,"score":0,"last_activity_date":1670181049,"creation_date":1670172099,"question_id":74678693,"body_markdown":"I am creating an object of a class in Scala and I would like to clone the object but change one member&#39;s value. For that I&#39;m trying to do something like this:\r\n\r\n```\r\nabstract class A {\r\n  var dbName: String\r\n\r\n  def withConfig(db: String): A = {\r\n    var a = this\r\n    a.dbName = db\r\n    a\r\n  }\r\n}\r\n\r\nclass A1(db: String) extends A {\r\n  override var dbName: String = db\r\n}\r\n\r\nclass A2(db: String) extends A {\r\n  override var dbName: String = db\r\n}\r\n\r\nobject Test {\r\n  def main(args: Array[String]): Unit = {\r\n    var obj = new A1(&quot;TEST&quot;)\r\n    println(obj.dbName)\r\n    var newObj = obj.withConfig(&quot;TEST2&quot;)\r\n    println(newObj.dbName)\r\n    println(obj.dbName)\r\n  }\r\n}\r\n```\r\n\r\nWhen I run this program, I get the below output:\r\n\r\n```\r\nTEST\r\nTEST2\r\nTEST2\r\n```\r\n\r\nWhile I was able to create a new object from the original in this, unfortunately it ended up modifying the value of the member of the original object as well. I believe this is because I&#39;m using the same instance `this` and then changing the member.\r\n\r\nThus I thought I can clone the object instead, for which I made a change to the `withConfig` method:\r\n\r\n```\r\ndef withConfig(db: String): A = {\r\n    var a = this.clone().asInstanceOf[A]\r\n    a.dbName = db\r\n    a\r\n}\r\n```\r\n\r\nUnfortunately, it is throwing an error saying Clone Not supported:\r\n\r\n```\r\nTEST\r\nException in thread &quot;main&quot; java.lang.CloneNotSupportedException: c.i.d.c.A1\r\n\tat java.lang.Object.clone(Native Method)\r\n\tat c.i.d.c.A.withConfig(Test.scala:7)\r\n\tat c.i.d.c.Test$.main(Test.scala:21)\r\n\tat c.i.d.c.Test.main(Test.scala)\r\n```\r\n\r\nIs there a way I could achieve the functionality similar to `clone()`, but without making significant changes to the abstract class?","title":"Unable to clone an object from within an abstract class method in Scala","body":"<p>I am creating an object of a class in Scala and I would like to clone the object but change one member's value. For that I'm trying to do something like this:</p>\n<pre><code>abstract class A {\n  var dbName: String\n\n  def withConfig(db: String): A = {\n    var a = this\n    a.dbName = db\n    a\n  }\n}\n\nclass A1(db: String) extends A {\n  override var dbName: String = db\n}\n\nclass A2(db: String) extends A {\n  override var dbName: String = db\n}\n\nobject Test {\n  def main(args: Array[String]): Unit = {\n    var obj = new A1(&quot;TEST&quot;)\n    println(obj.dbName)\n    var newObj = obj.withConfig(&quot;TEST2&quot;)\n    println(newObj.dbName)\n    println(obj.dbName)\n  }\n}\n</code></pre>\n<p>When I run this program, I get the below output:</p>\n<pre><code>TEST\nTEST2\nTEST2\n</code></pre>\n<p>While I was able to create a new object from the original in this, unfortunately it ended up modifying the value of the member of the original object as well. I believe this is because I'm using the same instance <code>this</code> and then changing the member.</p>\n<p>Thus I thought I can clone the object instead, for which I made a change to the <code>withConfig</code> method:</p>\n<pre><code>def withConfig(db: String): A = {\n    var a = this.clone().asInstanceOf[A]\n    a.dbName = db\n    a\n}\n</code></pre>\n<p>Unfortunately, it is throwing an error saying Clone Not supported:</p>\n<pre><code>TEST\nException in thread &quot;main&quot; java.lang.CloneNotSupportedException: c.i.d.c.A1\n    at java.lang.Object.clone(Native Method)\n    at c.i.d.c.A.withConfig(Test.scala:7)\n    at c.i.d.c.Test$.main(Test.scala:21)\n    at c.i.d.c.Test.main(Test.scala)\n</code></pre>\n<p>Is there a way I could achieve the functionality similar to <code>clone()</code>, but without making significant changes to the abstract class?</p>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1670178348,"post_id":74679646,"comment_id":131809815,"body_markdown":"Welcome to Stack Overflow.\nPlease take the [tour] to learn how Stack Overflow works and read [ask] on how to improve the quality of your question.\nThen [edit] your question to include your source code as a working [mcve], which can be compiled and tested by others.\nIt is unclear what you are asking or what the problem is.","body":"Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> on how to improve the quality of your question. Then <a href=\"https://stackoverflow.com/posts/74679646/edit\">edit</a> your question to include your source code as a working <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be compiled and tested by others. It is unclear what you are asking or what the problem is."},{"owner":{"account_id":20183146,"reputation":33,"user_id":14803193,"display_name":"Ksushant881"},"score":0,"creation_date":1670180766,"post_id":74679646,"comment_id":131810383,"body_markdown":"Apologies, have updated the statement a bit.","body":"Apologies, have updated the statement a bit."}],"answers":[{"tags":[],"owner":{"account_id":175930,"reputation":2593,"user_id":406290,"accept_rate":43,"display_name":"Kevin Hooke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670179282,"creation_date":1670179282,"answer_id":74679798,"question_id":74679646,"body_markdown":"&gt; Will this be a good practice to have this instantiation in test method or class level?\r\n\r\nWithout seeing the rest of your code under test and the tests themselves it&#39;s difficult for anyone to answer this question. However, it&#39;s generally a good practice to have each test method self contained so there are no unexpected side effects between each test method execution.\r\n\r\nIf you are looking for ways to do setup before each test method executes (to ensure the code under test is in the same known state before each test executes, look at using the @Before annotations to help with your setup.","title":"What happens to class level variables in Junits?","body":"<blockquote>\n<p>Will this be a good practice to have this instantiation in test method or class level?</p>\n</blockquote>\n<p>Without seeing the rest of your code under test and the tests themselves it's difficult for anyone to answer this question. However, it's generally a good practice to have each test method self contained so there are no unexpected side effects between each test method execution.</p>\n<p>If you are looking for ways to do setup before each test method executes (to ensure the code under test is in the same known state before each test executes, look at using the @Before annotations to help with your setup.</p>\n"}],"owner":{"account_id":20183146,"reputation":33,"user_id":14803193,"display_name":"Ksushant881"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":74679798,"answer_count":1,"score":0,"last_activity_date":1670180630,"creation_date":1670178245,"question_id":74679646,"body_markdown":"I have a test class that have a class level date time formatter defined as\r\n\r\n```\r\nclass testClass{\r\nDateTimeFormatter dateTimeFormatter = new DateTimeFormat.forPattern(settings.getFormatFromUser());\r\n\r\n@Test\r\npublic void test01(){\r\n   ...\r\n   DateTime date = dateTimeFormatter.print(new DateTime());\r\n   ....\r\n}\r\n\r\n}\r\n```\r\n\r\nAnd then I have a test written in same class which will use this formatter. If I change the formatter string from UI in between running the test what will happen?\r\n\r\nWill this be a good practice to have this instantiation in test method or class level?\r\n\r\n\r\nJust asking for my understanding of how junits run.","title":"What happens to class level variables in Junits?","body":"<p>I have a test class that have a class level date time formatter defined as</p>\n<pre><code>class testClass{\nDateTimeFormatter dateTimeFormatter = new DateTimeFormat.forPattern(settings.getFormatFromUser());\n\n@Test\npublic void test01(){\n   ...\n   DateTime date = dateTimeFormatter.print(new DateTime());\n   ....\n}\n\n}\n</code></pre>\n<p>And then I have a test written in same class which will use this formatter. If I change the formatter string from UI in between running the test what will happen?</p>\n<p>Will this be a good practice to have this instantiation in test method or class level?</p>\n<p>Just asking for my understanding of how junits run.</p>\n"},{"tags":["java","spring","spring-boot","dependency-injection"],"answers":[{"tags":[],"owner":{"account_id":20853579,"reputation":338,"user_id":16436722,"display_name":""},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670150885,"creation_date":1670150885,"answer_id":74674796,"question_id":74674513,"body_markdown":"add to Config  \r\n\r\n    @Bean\r\n    public ObjectMapper objectMapper() {\r\n            return new ObjectMapper();\r\n    }  \r\n\r\nand write a simple test to see all beans in spring context  \r\n\r\n    @SpringBootTest\r\n    class Demo1ApplicationTests {\r\n    \r\n        @Autowired\r\n        ApplicationContext context;\r\n    \r\n        @Test\r\n        void contextLoads() {\r\n            Arrays.stream(context.getBeanDefinitionNames()).forEach(System.out::println);\r\n        }\r\n    }\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ykHHt.png","title":"Springboot argument based @Autowired dependency is null","body":"<p>add to Config</p>\n<pre><code>@Bean\npublic ObjectMapper objectMapper() {\n        return new ObjectMapper();\n}  \n</code></pre>\n<p>and write a simple test to see all beans in spring context</p>\n<pre><code>@SpringBootTest\nclass Demo1ApplicationTests {\n\n    @Autowired\n    ApplicationContext context;\n\n    @Test\n    void contextLoads() {\n        Arrays.stream(context.getBeanDefinitionNames()).forEach(System.out::println);\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ykHHt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ykHHt.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670170976,"creation_date":1670170976,"answer_id":74678524,"question_id":74674513,"body_markdown":"The code you pasted seems correct. The problem may be more global.  \r\nDo you run the whole thing as Spring Boot application (with proper main method)?  \r\nDo you call your service as spring bean? Service should also be autowired, not just java standard new instance.  \r\nAre your service and config classes in packages that gets scanned?","title":"Springboot argument based @Autowired dependency is null","body":"<p>The code you pasted seems correct. The problem may be more global.<br />\nDo you run the whole thing as Spring Boot application (with proper main method)?<br />\nDo you call your service as spring bean? Service should also be autowired, not just java standard new instance.<br />\nAre your service and config classes in packages that gets scanned?</p>\n"}],"owner":{"account_id":470275,"reputation":2158,"user_id":877383,"accept_rate":45,"display_name":"dc10"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":356,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1670222583,"answer_count":2,"score":0,"last_activity_date":1670180598,"creation_date":1670148491,"question_id":74674513,"body_markdown":"I&#39;m new to springboot and fiddling around with DI.\r\n\r\nI&#39;m having a Service\r\n\r\n```JAVA\r\npublic class GreeterService {\r\n    private ObjectMapper objectMapper;\r\n\r\n\r\n    public GreeterService(ObjectMapper objectMapper) {\r\n        this.objectMapper = objectMapper;\r\n    }\r\n\r\n    public String greeting() throws JsonProcessingException {\r\n        return objectMapper.writeValueAsString(new HelloData());\r\n    }\r\n}\r\n```\r\nthis Service is supposed to be created via `@Configuration` \r\n\r\n```JAVA\r\n@Configuration\r\npublic class Config {\r\n    @Bean\r\n    public GreeterService greeterService(@Autowired ObjectMapper objectMapper) {\r\n        return new GreeterService(objectMapper);\r\n    }\r\n}\r\n```\r\n\r\nI get the following exception:\r\n\r\n    java.lang.NullPointerException: Cannot invoke &quot;com.fasterxml.jackson.databind.ObjectMapper.writeValueAsString(Object)&quot; because &quot;this.objectMapper&quot; is null\r\n\r\n\r\nalso making ObjectMapper `@Autowired` on a field does not work e.g.\r\n```\r\n\r\n    @Autowired ObjectMapper objectMapper;\r\n\r\n    @Bean\r\n    public GreeterService greeterService() {\r\n        return new GreeterService(objectMapper);\r\n    }\r\n```\r\nmain entry in com.example.demo\r\n\r\n```\r\n@SpringBootApplication\r\npublic class DemoApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n}\r\n```\r\n\r\nController\r\n```\r\n  @GetMapping(path = &quot;methodInject&quot;)\r\n    public Object methodInject(GreeterService greeterService) throws JsonProcessingException {\r\n        return greeterService.greeting();\r\n    }\r\n```\r\n\r\nFurther info:\r\n\r\nI added to main \r\n```\r\nSystem.out.println(&quot;Is &quot; + beanName + &quot; in ApplicationContext: &quot; +\r\n                    context.containsBean(beanName));\r\n```\r\nwhich returns:\r\n\r\n```\r\nIs objectMapper in ApplicationContext: true\r\nIs greeterService in ApplicationContext: true\r\n\r\n```\r\n","title":"Springboot argument based @Autowired dependency is null","body":"<p>I'm new to springboot and fiddling around with DI.</p>\n<p>I'm having a Service</p>\n<pre><code>public class GreeterService {\n    private ObjectMapper objectMapper;\n\n\n    public GreeterService(ObjectMapper objectMapper) {\n        this.objectMapper = objectMapper;\n    }\n\n    public String greeting() throws JsonProcessingException {\n        return objectMapper.writeValueAsString(new HelloData());\n    }\n}\n</code></pre>\n<p>this Service is supposed to be created via <code>@Configuration</code></p>\n<pre><code>@Configuration\npublic class Config {\n    @Bean\n    public GreeterService greeterService(@Autowired ObjectMapper objectMapper) {\n        return new GreeterService(objectMapper);\n    }\n}\n</code></pre>\n<p>I get the following exception:</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;com.fasterxml.jackson.databind.ObjectMapper.writeValueAsString(Object)&quot; because &quot;this.objectMapper&quot; is null\n</code></pre>\n<p>also making ObjectMapper <code>@Autowired</code> on a field does not work e.g.</p>\n<pre><code>\n    @Autowired ObjectMapper objectMapper;\n\n    @Bean\n    public GreeterService greeterService() {\n        return new GreeterService(objectMapper);\n    }\n</code></pre>\n<p>main entry in com.example.demo</p>\n<pre><code>@SpringBootApplication\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n}\n</code></pre>\n<p>Controller</p>\n<pre><code>  @GetMapping(path = &quot;methodInject&quot;)\n    public Object methodInject(GreeterService greeterService) throws JsonProcessingException {\n        return greeterService.greeting();\n    }\n</code></pre>\n<p>Further info:</p>\n<p>I added to main</p>\n<pre><code>System.out.println(&quot;Is &quot; + beanName + &quot; in ApplicationContext: &quot; +\n                    context.containsBean(beanName));\n</code></pre>\n<p>which returns:</p>\n<pre><code>Is objectMapper in ApplicationContext: true\nIs greeterService in ApplicationContext: true\n\n</code></pre>\n"},{"tags":["java","methods"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1670172115,"post_id":74678669,"comment_id":131808328,"body_markdown":"Your instrument classes should have only the play method.  Your main class should be responsible for instantiating the Orchestra class, the instrument classes, and adding the instrument instances to the orchestra class.","body":"Your instrument classes should have only the play method.  Your main class should be responsible for instantiating the Orchestra class, the instrument classes, and adding the instrument instances to the orchestra class."}],"answers":[{"tags":[],"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670180511,"creation_date":1670172411,"answer_id":74678741,"question_id":74678669,"body_markdown":"I would argue that you have mixed up your class&#39; concerns and have caused too much coupling between your classes.\r\n\r\nMain, should be to create all the objects.  It would create the Orchestra, Drum, and Xylophone.  The Drum and Xylophone instances would then be added to the Orchestra instance directly in the main method.\r\n\r\nThe Drum and Xylophone shouldn&#39;t know about the Orchestra class at all.\r\n\r\nThen Main will have access to the `playInstruments()` method of Orchestra.\r\n\r\n## Side Notes\r\n\r\nI would recommend that both Drum and Xylophone implement an interface called Instrument that has one method called `play(String note)`.  So then the Orchestra doesn&#39;t have to be coupled to specifically Drums and Xylophones, it could just have Instruments and you could add all kinds of Instruments later without every having to edit your base Orchestra class.\r\n\r\n## Examples\r\n\r\nPossible new Orchestra class:\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class Orchestra {\r\n\r\n    private List&lt;Instrument&gt; instruments;\r\n\r\n    public Orchestra() {\r\n        this.instruments = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    public Orchestra(List&lt;Instrument&gt; instruments) {\r\n        this.instruments = instruments;\r\n    }\r\n\r\n    public void add(Instrument instrument) {\r\n        this.instruments.add(instrument);\r\n    }\r\n\r\n    public void play() {\r\n        this.instruments.forEach(i -&gt; i.play(&quot;b flat&quot;));\r\n    }\r\n}\r\n```\r\n\r\nInstrument interface:\r\n```\r\npublic interface Instrument {\r\n\r\n    void play(String note);\r\n}\r\n```\r\n\r\nDrum:\r\n```\r\npublic class Drum implements Instrument {\r\n\r\n    @Override\r\n    public void play(String note) {\r\n        System.out.println(&quot;Drums: &quot; + note);\r\n    }\r\n}\r\n```\r\n\r\nXylophone:\r\n```\r\npublic class Xylophone implements Instrument {\r\n\r\n    @Override\r\n    public void play(String note) {\r\n        System.out.println(&quot;Xylophone: &quot; + note);\r\n    }\r\n}\r\n```\r\n\r\nAnd finally, Main:\r\n```\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Orchestra orchestra = new Orchestra();\r\n        orchestra.add(new Drum());\r\n        orchestra.add(new Xylophone());\r\n        orchestra.play();\r\n    }\r\n}\r\n```","title":"Acessing class methods from another class?","body":"<p>I would argue that you have mixed up your class' concerns and have caused too much coupling between your classes.</p>\n<p>Main, should be to create all the objects.  It would create the Orchestra, Drum, and Xylophone.  The Drum and Xylophone instances would then be added to the Orchestra instance directly in the main method.</p>\n<p>The Drum and Xylophone shouldn't know about the Orchestra class at all.</p>\n<p>Then Main will have access to the <code>playInstruments()</code> method of Orchestra.</p>\n<h2>Side Notes</h2>\n<p>I would recommend that both Drum and Xylophone implement an interface called Instrument that has one method called <code>play(String note)</code>.  So then the Orchestra doesn't have to be coupled to specifically Drums and Xylophones, it could just have Instruments and you could add all kinds of Instruments later without every having to edit your base Orchestra class.</p>\n<h2>Examples</h2>\n<p>Possible new Orchestra class:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class Orchestra {\n\n    private List&lt;Instrument&gt; instruments;\n\n    public Orchestra() {\n        this.instruments = new ArrayList&lt;&gt;();\n    }\n\n    public Orchestra(List&lt;Instrument&gt; instruments) {\n        this.instruments = instruments;\n    }\n\n    public void add(Instrument instrument) {\n        this.instruments.add(instrument);\n    }\n\n    public void play() {\n        this.instruments.forEach(i -&gt; i.play(&quot;b flat&quot;));\n    }\n}\n</code></pre>\n<p>Instrument interface:</p>\n<pre><code>public interface Instrument {\n\n    void play(String note);\n}\n</code></pre>\n<p>Drum:</p>\n<pre><code>public class Drum implements Instrument {\n\n    @Override\n    public void play(String note) {\n        System.out.println(&quot;Drums: &quot; + note);\n    }\n}\n</code></pre>\n<p>Xylophone:</p>\n<pre><code>public class Xylophone implements Instrument {\n\n    @Override\n    public void play(String note) {\n        System.out.println(&quot;Xylophone: &quot; + note);\n    }\n}\n</code></pre>\n<p>And finally, Main:</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n\n        Orchestra orchestra = new Orchestra();\n        orchestra.add(new Drum());\n        orchestra.add(new Xylophone());\n        orchestra.play();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23677584,"reputation":89,"user_id":17703613,"display_name":"OrlandoVSilva"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74678741,"answer_count":1,"score":0,"last_activity_date":1670180511,"creation_date":1670171894,"question_id":74678669,"body_markdown":"Lets say I have this:\r\n\r\nMain:\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Orchestra orchestra = new Orchestra();\r\n\r\n        Drum drum = new Drum();\r\n        Xylophone xylophone = new Xylophone();\r\n        //----------------------------------\r\n        drum.sendToOrchestra();\r\n        xylophone.sendToOrchestra();\r\n    }\r\n}\r\n```\r\nDrum:\r\n```\r\npublic class Drum{\r\n    public void play(String note){\r\n        System.out.println(&quot;Playing... drums (note &quot; + note + &quot;)&quot;);\r\n    }\r\n\r\n    public void sendToOrchestra(){\r\n        Orchestra orchestra = new Orchestra(this);\r\n    }\r\n}\r\n```\r\n\r\nXylophone:\r\n```\r\npublic class Xylophone{\r\n    public void play(String note){\r\n        System.out.println(&quot;Playing... xylophone (note &quot; + note + &quot;)&quot;);\r\n    }\r\n\r\n    public void sendToOrchestra(){\r\n        Orchestra orchestra = new Orchestra(this);\r\n    }\r\n}\r\n```\r\nOrchestra:\r\n```\r\npublic class Orchestra {\r\n    static Object[] instrumentsArray = new Object[2];\r\n\r\n    public Orchestra(){\r\n\r\n    }\r\n    public Orchestra(Xylophone xylophone){\r\n        // this works: xylophone.play()\r\n        instrumentArray[0] = xylophone;\r\n        // but this does not: instrumentsArray[0].play()\r\n    }\r\n    public Orchestra(Drum drum){\r\n        // this works: drum.play()\r\n        instrumentArray[1] = drum;\r\n        // but this does not: instrumentsArray[1].play()\r\n    }\r\n\r\n    public void playInstruments(){\r\n        // here is where I will iterate through the instrumentsArray, and make all elements inside it: .play()\r\n    }\r\n}\r\n```\r\n\r\nMy question would be, how can access the instances methods, after they are inserted into the array? Because I can access them before they go into the array.","title":"Acessing class methods from another class?","body":"<p>Lets say I have this:</p>\n<p>Main:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        Orchestra orchestra = new Orchestra();\n\n        Drum drum = new Drum();\n        Xylophone xylophone = new Xylophone();\n        //----------------------------------\n        drum.sendToOrchestra();\n        xylophone.sendToOrchestra();\n    }\n}\n</code></pre>\n<p>Drum:</p>\n<pre><code>public class Drum{\n    public void play(String note){\n        System.out.println(&quot;Playing... drums (note &quot; + note + &quot;)&quot;);\n    }\n\n    public void sendToOrchestra(){\n        Orchestra orchestra = new Orchestra(this);\n    }\n}\n</code></pre>\n<p>Xylophone:</p>\n<pre><code>public class Xylophone{\n    public void play(String note){\n        System.out.println(&quot;Playing... xylophone (note &quot; + note + &quot;)&quot;);\n    }\n\n    public void sendToOrchestra(){\n        Orchestra orchestra = new Orchestra(this);\n    }\n}\n</code></pre>\n<p>Orchestra:</p>\n<pre><code>public class Orchestra {\n    static Object[] instrumentsArray = new Object[2];\n\n    public Orchestra(){\n\n    }\n    public Orchestra(Xylophone xylophone){\n        // this works: xylophone.play()\n        instrumentArray[0] = xylophone;\n        // but this does not: instrumentsArray[0].play()\n    }\n    public Orchestra(Drum drum){\n        // this works: drum.play()\n        instrumentArray[1] = drum;\n        // but this does not: instrumentsArray[1].play()\n    }\n\n    public void playInstruments(){\n        // here is where I will iterate through the instrumentsArray, and make all elements inside it: .play()\n    }\n}\n</code></pre>\n<p>My question would be, how can access the instances methods, after they are inserted into the array? Because I can access them before they go into the array.</p>\n"},{"tags":["java","set","equality","comparator","treeset"],"comments":[{"owner":{"account_id":2812323,"reputation":2352,"user_id":2418306,"accept_rate":80,"display_name":"user2418306"},"score":0,"creation_date":1406049326,"post_id":24893646,"comment_id":38670136,"body_markdown":"http://stackoverflow.com/questions/8725387/why-there-is-no-sortedlist-in-java","body":"<a href=\"http://stackoverflow.com/questions/8725387/why-there-is-no-sortedlist-in-java\" title=\"why there is no sortedlist in java\">stackoverflow.com/questions/8725387/&hellip;</a>"},{"owner":{"account_id":2812323,"reputation":2352,"user_id":2418306,"accept_rate":80,"display_name":"user2418306"},"score":2,"creation_date":1406049374,"post_id":24893646,"comment_id":38670151,"body_markdown":"Oh, and don&#39;t use a TreeSet that way, unless your purpose to confuse other people.","body":"Oh, and don&#39;t use a TreeSet that way, unless your purpose to confuse other people."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1406049426,"post_id":24893646,"comment_id":38670181,"body_markdown":"You can add a field to MyObject which should always be unique for different records. Or you can use a List and sort that.","body":"You can add a field to MyObject which should always be unique for different records. Or you can use a List and sort that."},{"owner":{"account_id":1703627,"reputation":307,"user_id":1563146,"accept_rate":100,"display_name":"Entrusc"},"score":0,"creation_date":1406050028,"post_id":24893646,"comment_id":38670472,"body_markdown":"Sometimes the only difference between two object is, that they are two different objects. So of course, if I can add an unique ID i&#39;d use that for sure. But sometimes that&#39;s not possible.","body":"Sometimes the only difference between two object is, that they are two different objects. So of course, if I can add an unique ID i&#39;d use that for sure. But sometimes that&#39;s not possible."}],"answers":[{"tags":[],"owner":{"account_id":2413237,"reputation":31164,"user_id":2107876,"accept_rate":88,"display_name":"laune"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1406052000,"creation_date":1406049468,"answer_id":24893759,"question_id":24893646,"body_markdown":"I have been using \r\n\r\n    import com.google.common.collect.TreeMultiset;\r\n\r\neffortless and successfully.\r\n\r\nYou shouldn&#39;t try to use workarounds when good libraries are around.\r\n\r\nThere may be other libs as well, of course. \r\n\r\n**Later**\r\n\r\nI should have raised a red flag at &quot;equal&quot; in combination with &quot;set&quot;. This is a no-no. You can have equal multiple equal keys in a Map.\r\n\r\nIf you want to store objects repeatedly, even if they are equal, use a List; it&#39;s up to you to decide whether an equal element should be added or not.\r\n\r\nAnother thought:\r\n\r\nMaybe you want an IdentityHashMap which uses reference equality rather than equals.\r\n\r\nBUT be prepared for endless difficulties if you violate the hashCode/equals contract in your class.\r\n","title":"Java Comparator in Sets with equal items","body":"<p>I have been using </p>\n\n<pre><code>import com.google.common.collect.TreeMultiset;\n</code></pre>\n\n<p>effortless and successfully.</p>\n\n<p>You shouldn't try to use workarounds when good libraries are around.</p>\n\n<p>There may be other libs as well, of course. </p>\n\n<p><strong>Later</strong></p>\n\n<p>I should have raised a red flag at \"equal\" in combination with \"set\". This is a no-no. You can have equal multiple equal keys in a Map.</p>\n\n<p>If you want to store objects repeatedly, even if they are equal, use a List; it's up to you to decide whether an equal element should be added or not.</p>\n\n<p>Another thought:</p>\n\n<p>Maybe you want an IdentityHashMap which uses reference equality rather than equals.</p>\n\n<p>BUT be prepared for endless difficulties if you violate the hashCode/equals contract in your class.</p>\n"},{"tags":[],"owner":{"account_id":549851,"reputation":49,"user_id":1511537,"display_name":"brahmananda Kar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1469086044,"creation_date":1469086044,"answer_id":38497699,"question_id":24893646,"body_markdown":"    package newfeature;\r\n    \r\n    import java.util.Comparator;\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    import java.util.TreeSet;`enter code here`\r\n    class employee {\r\n    \tString name;\r\n    \tint idno;\r\n    \tpublic employee(int idno, String name) {\r\n    \t\tthis.name = name;\r\n    \t\tthis.idno = idno;\r\n    \t}\r\n    }\r\n    public class setcom {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSet&lt;employee&gt; emset = new HashSet&lt;&gt;();\r\n    \t\temset.add(new employee(1, &quot;rohan&quot;));\r\n    \t\temset.add(new employee(2, &quot;sohan&quot;));\r\n    \t\temset.add(new employee(3, &quot;mohan&quot;));\r\n    \t\temset.add(new employee(4, &quot;zohan&quot;));\r\n    \t\tfor (employee em : emset) {\r\n    \t\t\tSystem.out.println(em.name);\r\n    \t\t}\r\n    \t\tSet&lt;employee&gt; sorted = new TreeSet&lt;&gt;(new Comparator&lt;employee&gt;() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic int compare(employee o1, employee o2) {\r\n    \t\t\t\treturn o1.name.compareTo(o2.name);\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tsorted.addAll(emset);\r\n    \t\tSystem.out.println(&quot;*******separotor*******&quot;);\r\n    \t\tfor (employee em : sorted) {\r\n    \t\t\tSystem.out.println(em.name);\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Java Comparator in Sets with equal items","body":"<pre><code>package newfeature;\n\nimport java.util.Comparator;\nimport java.util.HashSet;\nimport java.util.Set;\nimport java.util.TreeSet;`enter code here`\nclass employee {\n    String name;\n    int idno;\n    public employee(int idno, String name) {\n        this.name = name;\n        this.idno = idno;\n    }\n}\npublic class setcom {\n    public static void main(String[] args) {\n        Set&lt;employee&gt; emset = new HashSet&lt;&gt;();\n        emset.add(new employee(1, \"rohan\"));\n        emset.add(new employee(2, \"sohan\"));\n        emset.add(new employee(3, \"mohan\"));\n        emset.add(new employee(4, \"zohan\"));\n        for (employee em : emset) {\n            System.out.println(em.name);\n        }\n        Set&lt;employee&gt; sorted = new TreeSet&lt;&gt;(new Comparator&lt;employee&gt;() {\n            @Override\n            public int compare(employee o1, employee o2) {\n                return o1.name.compareTo(o2.name);\n            }\n        });\n        sorted.addAll(emset);\n        System.out.println(\"*******separotor*******\");\n        for (employee em : sorted) {\n            System.out.println(em.name);\n        }\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1703627,"reputation":307,"user_id":1563146,"accept_rate":100,"display_name":"Entrusc"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1918,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":24893759,"answer_count":2,"score":0,"last_activity_date":1670180010,"creation_date":1406049136,"question_id":24893646,"body_markdown":"Normally in a TreeSet there shouldn&#39;t be two equal items. But in reality there are often situations where you want to maintain kind of a sorted List instead of a Set. Still there is afaik no TreeList or any SortedList in Java. Though you can of course use Collections.sort().\r\n\r\nMy question is: **what is the proper way to use a TreeSet (or any sorted set) so that it is also capable of containing equal items?** \r\n\r\nI normally do something like that:\r\n\r\n    new Comparator&lt;MyObject&gt;() {\r\n        @Override\r\n        public int compare(MyObject o1, MyObject o2) {\r\n            int result = Float.compare(o1.getDistance(), o2.getDistance());\r\n            \r\n            //both distances are equal so we use the object hash as distinctive\r\n            //property.\r\n            if (result == 0) {\r\n                result = Integer.compare(System.identityHashCode(o1), \r\n                    System.identityHashCode(o2))\r\n            }\r\n            return result;\r\n        }\r\n    }\r\n\r\nWhile this works very well, this has of course the disadvantage that there is still the slim chance of a **hash collision**, that would lead to **missing objects** in the TreeSet. \r\n\r\nSo I wonder if there is any better way to really distinguish these objects properly?","title":"Java Comparator in Sets with equal items","body":"<p>Normally in a TreeSet there shouldn't be two equal items. But in reality there are often situations where you want to maintain kind of a sorted List instead of a Set. Still there is afaik no TreeList or any SortedList in Java. Though you can of course use Collections.sort().</p>\n<p>My question is: <strong>what is the proper way to use a TreeSet (or any sorted set) so that it is also capable of containing equal items?</strong></p>\n<p>I normally do something like that:</p>\n<pre><code>new Comparator&lt;MyObject&gt;() {\n    @Override\n    public int compare(MyObject o1, MyObject o2) {\n        int result = Float.compare(o1.getDistance(), o2.getDistance());\n        \n        //both distances are equal so we use the object hash as distinctive\n        //property.\n        if (result == 0) {\n            result = Integer.compare(System.identityHashCode(o1), \n                System.identityHashCode(o2))\n        }\n        return result;\n    }\n}\n</code></pre>\n<p>While this works very well, this has of course the disadvantage that there is still the slim chance of a <strong>hash collision</strong>, that would lead to <strong>missing objects</strong> in the TreeSet.</p>\n<p>So I wonder if there is any better way to really distinguish these objects properly?</p>\n"},{"tags":["java","android","react-native","unsatisfiedlinkerror"],"owner":{"account_id":20543239,"reputation":53,"user_id":15077716,"display_name":"Matheus William"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670179867,"creation_date":1662376677,"question_id":73608518,"body_markdown":"Actually, I&#39;m uploaded my app in PlayStore, but in dispositive with Android 10, I received the error:\r\n```\r\njava.lang.UnsatisfiedLinkError: \r\n  at com.facebook.soloader.SoLoader.doLoadLibraryBySoName (SoLoader.java:1098)\r\n  at com.facebook.soloader.SoLoader.loadLibraryBySoNameImpl (SoLoader.java:914)\r\n  at com.facebook.soloader.SoLoader.loadLibraryBySoName (SoLoader.java:826)\r\n  at com.facebook.soloader.SoLoader.loadLibrary (SoLoader.java:773)\r\n  at com.facebook.soloader.SoLoader.loadLibrary (SoLoader.java:743)\r\n  at com.facebook.hermes.reactexecutor.HermesExecutor.loadLibrary (HermesExecutor.java:25)\r\n  at com.facebook.hermes.reactexecutor.HermesExecutor.&lt;clinit&gt; (HermesExecutor.java:19)\r\n  at com.facebook.hermes.reactexecutor.HermesExecutor.loadLibrary (HermesExecutor.java:23)\r\n  at com.facebook.react.ReactInstanceManagerBuilder.getDefaultJSExecutorFactory (ReactInstanceManagerBuilder.java:394)\r\n  at com.facebook.react.ReactInstanceManagerBuilder.build (ReactInstanceManagerBuilder.java:344)\r\n  at com.facebook.react.ReactNativeHost.createReactInstanceManager (ReactNativeHost.java:95)\r\n  at expo.modules.ReactNativeHostWrapperBase.createReactInstanceManager (ReactNativeHostWrapperBase.kt:32)\r\n  at com.facebook.react.ReactNativeHost.getReactInstanceManager (ReactNativeHost.java:42)\r\n  at com.sigaa.MainApplication.onCreate (MainApplication.java:66)\r\n  at android.app.Instrumentation.callApplicationOnCreate (Instrumentation.java:1190)\r\n  at android.app.ActivityThread.handleBindApplication (ActivityThread.java:6540)\r\n  at android.app.ActivityThread.access$1400 (ActivityThread.java:220)\r\n  at android.app.ActivityThread$H.handleMessage (ActivityThread.java:1883)\r\n  at android.os.Handler.dispatchMessage (Handler.java:107)\r\n  at android.os.Looper.loop (Looper.java:224)\r\n  at android.app.ActivityThread.main (ActivityThread.java:7520)\r\n  at java.lang.reflect.Method.invoke (Native Method)\r\n  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:539)\r\n  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:950)\r\n```\r\n\r\nI viewed various questions about the problem, but I have not resolved this. Any solutions?\r\n\r\nMy [package.json][1] file.\r\n\r\nMy [eas.json][2] file.\r\n\r\n\r\n  [1]: https://gist.github.com/matheuswr89/022275ef25d7faf9d167bf413ef07629\r\n  [2]: https://gist.github.com/matheuswr89/9fa558e85435a821625fe72486f6e80e","title":"Soloader getting UnsatisfiedLinkError in android 10","body":"<p>Actually, I'm uploaded my app in PlayStore, but in dispositive with Android 10, I received the error:</p>\n<pre><code>java.lang.UnsatisfiedLinkError: \n  at com.facebook.soloader.SoLoader.doLoadLibraryBySoName (SoLoader.java:1098)\n  at com.facebook.soloader.SoLoader.loadLibraryBySoNameImpl (SoLoader.java:914)\n  at com.facebook.soloader.SoLoader.loadLibraryBySoName (SoLoader.java:826)\n  at com.facebook.soloader.SoLoader.loadLibrary (SoLoader.java:773)\n  at com.facebook.soloader.SoLoader.loadLibrary (SoLoader.java:743)\n  at com.facebook.hermes.reactexecutor.HermesExecutor.loadLibrary (HermesExecutor.java:25)\n  at com.facebook.hermes.reactexecutor.HermesExecutor.&lt;clinit&gt; (HermesExecutor.java:19)\n  at com.facebook.hermes.reactexecutor.HermesExecutor.loadLibrary (HermesExecutor.java:23)\n  at com.facebook.react.ReactInstanceManagerBuilder.getDefaultJSExecutorFactory (ReactInstanceManagerBuilder.java:394)\n  at com.facebook.react.ReactInstanceManagerBuilder.build (ReactInstanceManagerBuilder.java:344)\n  at com.facebook.react.ReactNativeHost.createReactInstanceManager (ReactNativeHost.java:95)\n  at expo.modules.ReactNativeHostWrapperBase.createReactInstanceManager (ReactNativeHostWrapperBase.kt:32)\n  at com.facebook.react.ReactNativeHost.getReactInstanceManager (ReactNativeHost.java:42)\n  at com.sigaa.MainApplication.onCreate (MainApplication.java:66)\n  at android.app.Instrumentation.callApplicationOnCreate (Instrumentation.java:1190)\n  at android.app.ActivityThread.handleBindApplication (ActivityThread.java:6540)\n  at android.app.ActivityThread.access$1400 (ActivityThread.java:220)\n  at android.app.ActivityThread$H.handleMessage (ActivityThread.java:1883)\n  at android.os.Handler.dispatchMessage (Handler.java:107)\n  at android.os.Looper.loop (Looper.java:224)\n  at android.app.ActivityThread.main (ActivityThread.java:7520)\n  at java.lang.reflect.Method.invoke (Native Method)\n  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:539)\n  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:950)\n</code></pre>\n<p>I viewed various questions about the problem, but I have not resolved this. Any solutions?</p>\n<p>My <a href=\"https://gist.github.com/matheuswr89/022275ef25d7faf9d167bf413ef07629\" rel=\"nofollow noreferrer\">package.json</a> file.</p>\n<p>My <a href=\"https://gist.github.com/matheuswr89/9fa558e85435a821625fe72486f6e80e\" rel=\"nofollow noreferrer\">eas.json</a> file.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1670168606,"post_id":74678058,"comment_id":131807434,"body_markdown":"I dont see a chance to convert an if-then-else control structure into a key/value data structure.","body":"I dont see a chance to convert an if-then-else control structure into a key/value data structure."}],"answers":[{"tags":[],"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670171749,"creation_date":1670170125,"answer_id":74678392,"question_id":74678058,"body_markdown":"Since i dont know what types you are returning and what type of objects some variables are i had to improvise but this should still work you just need to change to the correct values\r\n\r\n\r\n    public static void main(String[] args) {\r\n        setUnitPrice(orderDetail,origin);\r\n    }\r\n    public static void setUnitPrice(OrderDetail orderDetail,Origin origin){\r\n        if (orderDetail == null &amp;&amp; item == null &amp;&amp; orderDetail.isUnitPriceModified()) return;\r\n        if (origin == null &amp;&amp; !origin.contains(&quot;b2baccess&quot;)  ||\r\n                !origin.contains(&quot;.myappdev&quot;) &amp;&amp; origin.contains(&quot;apps.myappdev&quot;)) return;\r\n       \r\n        RepGroupManufacturer repGroupManufacturer = repGroupManufacturerRepository\r\n                .findByRepGroupIDAndManufacturerIDAndRecordDeleted(repGroupID, manufacturerID, NOT_DELETED);\r\n        \r\n        if (repGroupManufacturer == null &amp;&amp;\r\n                repGroupManufacturer.getB2bItemPricingPolicy() == null &amp;&amp;\r\n                !repGroupManufacturer.getB2bItemPricingPolicy().equalsIgnoreCase(ReptimeConstants.SHOWRETAILPRICE)) return;\r\n        \r\n        ItemSizeColorStyle itemSizeColorStyle = itemSizeColorStyleRepository.findByRecordID(orderDetail.getItemSCSID());\r\n        orderDetail.setUnitPrice(getUnitPrice(itemSizeColorStyle,item,orderDetail));\r\n    }\r\n    public static int getUnitPrice(ItemSizeColorStyle itemSizeColorStyle, Item item, OrderDetail orderDetail) {\r\n        if (orderDetail.getItemSCSID() == null &amp;&amp; item.getRetailPrice() != null) return item.getRetailPrice();\r\n        if (itemSizeColorStyle != null &amp;&amp; itemSizeColorStyle.getRetailPrice() != null) return itemSizeColorStyle.getRetailPrice();\r\n        if (itemSizeColorStyle != null &amp;&amp; itemSizeColorStyle.getRetailPrice() == null &amp;&amp; item.getRetailPrice() != null) return item.getRetailPrice();\r\n        throw new NullPointerException(&quot;item price can not be null.&quot;);\r\n    }","title":"How to convert if-else statement to map or other statement using java","body":"<p>Since i dont know what types you are returning and what type of objects some variables are i had to improvise but this should still work you just need to change to the correct values</p>\n<pre><code>public static void main(String[] args) {\n    setUnitPrice(orderDetail,origin);\n}\npublic static void setUnitPrice(OrderDetail orderDetail,Origin origin){\n    if (orderDetail == null &amp;&amp; item == null &amp;&amp; orderDetail.isUnitPriceModified()) return;\n    if (origin == null &amp;&amp; !origin.contains(&quot;b2baccess&quot;)  ||\n            !origin.contains(&quot;.myappdev&quot;) &amp;&amp; origin.contains(&quot;apps.myappdev&quot;)) return;\n   \n    RepGroupManufacturer repGroupManufacturer = repGroupManufacturerRepository\n            .findByRepGroupIDAndManufacturerIDAndRecordDeleted(repGroupID, manufacturerID, NOT_DELETED);\n    \n    if (repGroupManufacturer == null &amp;&amp;\n            repGroupManufacturer.getB2bItemPricingPolicy() == null &amp;&amp;\n            !repGroupManufacturer.getB2bItemPricingPolicy().equalsIgnoreCase(ReptimeConstants.SHOWRETAILPRICE)) return;\n    \n    ItemSizeColorStyle itemSizeColorStyle = itemSizeColorStyleRepository.findByRecordID(orderDetail.getItemSCSID());\n    orderDetail.setUnitPrice(getUnitPrice(itemSizeColorStyle,item,orderDetail));\n}\npublic static int getUnitPrice(ItemSizeColorStyle itemSizeColorStyle, Item item, OrderDetail orderDetail) {\n    if (orderDetail.getItemSCSID() == null &amp;&amp; item.getRetailPrice() != null) return item.getRetailPrice();\n    if (itemSizeColorStyle != null &amp;&amp; itemSizeColorStyle.getRetailPrice() != null) return itemSizeColorStyle.getRetailPrice();\n    if (itemSizeColorStyle != null &amp;&amp; itemSizeColorStyle.getRetailPrice() == null &amp;&amp; item.getRetailPrice() != null) return item.getRetailPrice();\n    throw new NullPointerException(&quot;item price can not be null.&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10673275,"reputation":1351,"user_id":7857701,"display_name":"Snigdhajyoti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670175502,"creation_date":1670175502,"answer_id":74679195,"question_id":74678058,"body_markdown":"At-least break into multiple small methods to start with. This will make `if-else` less scary, easy to understand.   \r\nAlso there are areas / paths to avoid duplicate checks.\r\n\r\nMaybe you could break responsibility of validation checks into different classes as well.  \r\n\r\n```java\r\nimport java.util.Optional;\r\n\r\nimport static java.util.Objects.isNull;\r\nimport static java.util.Objects.nonNull;\r\n\r\nclass Scratch {\r\n    private static String NOT_DELETED = &quot;not-deleted&quot;;\r\n    private ItemSizeColorStyleRepository itemSizeColorStyleRepository;\r\n    private RepGroupManufacturerRepository repGroupManufacturerRepository;\r\n\r\n\r\n    public void setUnitPrice(OrderDetail orderDetail, Item item, String origin, Integer repGroupID, Integer manufacturerID) {\r\n        if (isValidOrderDetail(orderDetail) &amp;&amp; nonNull(item)) {\r\n            if (isValidOrigin(origin)) {\r\n                if (isValidRepGroupManufacturer(repGroupID, manufacturerID)) {\r\n                    if (isNull(orderDetail.getItemSCSID()) &amp;&amp; nonNull(item.getRetailPrice())) {\r\n                        orderDetail.setUnitPrice(item.getRetailPrice());\r\n                    } else {\r\n                        ItemSizeColorStyle itemSizeColorStyle = itemSizeColorStyleRepository.findByRecordID(orderDetail.getItemSCSID());\r\n                        if (nonNull(itemSizeColorStyle)) {\r\n                            if (nonNull(itemSizeColorStyle.getRetailPrice())) {\r\n                                orderDetail.setUnitPrice(itemSizeColorStyle.getRetailPrice());\r\n                            } else {\r\n                                if (nonNull(item.getRetailPrice())) {\r\n                                    orderDetail.setUnitPrice(item.getRetailPrice());\r\n                                } else {\r\n                                    throw new NullPointerException(&quot;item price can not be null.&quot;);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private boolean isValidOrderDetail(OrderDetail orderDetail) {\r\n        return Optional\r\n                .ofNullable(orderDetail)\r\n                .map(e -&gt; !e.isUnitPriceModified())\r\n                .orElse(false);\r\n    }\r\n\r\n    private boolean isValidOrigin(String origin) {\r\n        return nonNull(origin) &amp;&amp;\r\n                (origin.contains(&quot;b2baccess&quot;) || (origin.contains(&quot;.myappdev&quot;) &amp;&amp; !origin.contains(&quot;apps.myappdev&quot;)));\r\n    }\r\n\r\n    private boolean isValidRepGroupManufacturer(Integer repGroupID, Integer manufacturerID) {\r\n        RepGroupManufacturer repGroupManufacturer = repGroupManufacturerRepository\r\n                .findByRepGroupIDAndManufacturerIDAndRecordDeleted(repGroupID, manufacturerID, NOT_DELETED);\r\n        return Optional\r\n                .ofNullable(repGroupManufacturer)\r\n                .flatMap(e -&gt; Optional.ofNullable(e.getB2bItemPricingPolicy()))\r\n                .map(e -&gt; e.equalsIgnoreCase(ReptimeConstants.SHOWRETAILPRICE))\r\n                .orElse(false);\r\n    }\r\n}\r\n```\r\n\r\nNote: I have assumed certain datatypes, which I don&#39;t have any impact on overall solution.","title":"How to convert if-else statement to map or other statement using java","body":"<p>At-least break into multiple small methods to start with. This will make <code>if-else</code> less scary, easy to understand.<br />\nAlso there are areas / paths to avoid duplicate checks.</p>\n<p>Maybe you could break responsibility of validation checks into different classes as well.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Optional;\n\nimport static java.util.Objects.isNull;\nimport static java.util.Objects.nonNull;\n\nclass Scratch {\n    private static String NOT_DELETED = &quot;not-deleted&quot;;\n    private ItemSizeColorStyleRepository itemSizeColorStyleRepository;\n    private RepGroupManufacturerRepository repGroupManufacturerRepository;\n\n\n    public void setUnitPrice(OrderDetail orderDetail, Item item, String origin, Integer repGroupID, Integer manufacturerID) {\n        if (isValidOrderDetail(orderDetail) &amp;&amp; nonNull(item)) {\n            if (isValidOrigin(origin)) {\n                if (isValidRepGroupManufacturer(repGroupID, manufacturerID)) {\n                    if (isNull(orderDetail.getItemSCSID()) &amp;&amp; nonNull(item.getRetailPrice())) {\n                        orderDetail.setUnitPrice(item.getRetailPrice());\n                    } else {\n                        ItemSizeColorStyle itemSizeColorStyle = itemSizeColorStyleRepository.findByRecordID(orderDetail.getItemSCSID());\n                        if (nonNull(itemSizeColorStyle)) {\n                            if (nonNull(itemSizeColorStyle.getRetailPrice())) {\n                                orderDetail.setUnitPrice(itemSizeColorStyle.getRetailPrice());\n                            } else {\n                                if (nonNull(item.getRetailPrice())) {\n                                    orderDetail.setUnitPrice(item.getRetailPrice());\n                                } else {\n                                    throw new NullPointerException(&quot;item price can not be null.&quot;);\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    private boolean isValidOrderDetail(OrderDetail orderDetail) {\n        return Optional\n                .ofNullable(orderDetail)\n                .map(e -&gt; !e.isUnitPriceModified())\n                .orElse(false);\n    }\n\n    private boolean isValidOrigin(String origin) {\n        return nonNull(origin) &amp;&amp;\n                (origin.contains(&quot;b2baccess&quot;) || (origin.contains(&quot;.myappdev&quot;) &amp;&amp; !origin.contains(&quot;apps.myappdev&quot;)));\n    }\n\n    private boolean isValidRepGroupManufacturer(Integer repGroupID, Integer manufacturerID) {\n        RepGroupManufacturer repGroupManufacturer = repGroupManufacturerRepository\n                .findByRepGroupIDAndManufacturerIDAndRecordDeleted(repGroupID, manufacturerID, NOT_DELETED);\n        return Optional\n                .ofNullable(repGroupManufacturer)\n                .flatMap(e -&gt; Optional.ofNullable(e.getB2bItemPricingPolicy()))\n                .map(e -&gt; e.equalsIgnoreCase(ReptimeConstants.SHOWRETAILPRICE))\n                .orElse(false);\n    }\n}\n</code></pre>\n<p>Note: I have assumed certain datatypes, which I don't have any impact on overall solution.</p>\n"},{"tags":[],"owner":{"account_id":3700031,"reputation":6378,"user_id":3080094,"display_name":"vanOekel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670175673,"creation_date":1670175673,"answer_id":74679226,"question_id":74678058,"body_markdown":"Some `if-else` statements express business logic which should be anything but boring. The code you posted appears to contain at least some business logic but the manner in which it is written makes it difficult to read and maintain.\r\n\r\nThere are some rules I follow when refactoring this type of code:\r\n\r\n  1. &quot;positive thinking&quot; - avoid `if not` statements, that is what `else` is for.\r\n  2. replace nested if-statements with functions.\r\n  3. be as lazy as possible, only lookup values when needed.\r\n  4. use variable names that have a meaning.\r\n\r\nOn 1, replace this\r\n```\r\nif (x is not null) {\r\n  // more code\r\n}\r\n```\r\nwith\r\n```\r\nif (x is null) {\r\n  return;\r\n}\r\n// more code\r\n```\r\n\r\nOn 2, replace this\r\n```\r\nif (x &gt; 1 ) {\r\n  // lots of code\r\n}\r\n```\r\nwith\r\n```\r\nif (x &gt; 1) {\r\n  updateStuff(x);\r\n}\r\n\r\nfunction updateStuff(int x) {\r\n  // lots of code\r\n}\r\n```\r\nThis also opens up the opportunity to let the function return a value that can be used further on.\r\n\r\nOn 3, replace this\r\n```\r\nx = queryDatabase(y);\r\nif (y &gt; 1) {\r\n  // use x\r\n}\r\n```\r\nwith\r\n```\r\nif (y &gt; 1) {\r\n  x = queryDatabase(y);  \r\n  // use x\r\n}\r\n```\r\n\r\nFinally, on 4, I sometimes introduce boolean values to convey meaning to complex conditions. E.g. compare this:\r\n```\r\nif ((x &lt; 1 and y &gt; 100) ||  (z not 0 and y &lt; 1)) {\r\n  // do stuff\r\n}\r\n```\r\nwith\r\n```\r\nboolean findPrice = (x &lt; 1 and y &gt; 100);\r\nboolean findProduct = (z not 0 and y &lt; 1);\r\nif (findPrice || findProduct) {\r\n  // do stuff\r\n}\r\n```\r\n\r\nWhen all these rules are applied it becomes much easier to read the code and also easier to maintain and (unit) test the code.\r\n  ","title":"How to convert if-else statement to map or other statement using java","body":"<p>Some <code>if-else</code> statements express business logic which should be anything but boring. The code you posted appears to contain at least some business logic but the manner in which it is written makes it difficult to read and maintain.</p>\n<p>There are some rules I follow when refactoring this type of code:</p>\n<ol>\n<li>&quot;positive thinking&quot; - avoid <code>if not</code> statements, that is what <code>else</code> is for.</li>\n<li>replace nested if-statements with functions.</li>\n<li>be as lazy as possible, only lookup values when needed.</li>\n<li>use variable names that have a meaning.</li>\n</ol>\n<p>On 1, replace this</p>\n<pre><code>if (x is not null) {\n  // more code\n}\n</code></pre>\n<p>with</p>\n<pre><code>if (x is null) {\n  return;\n}\n// more code\n</code></pre>\n<p>On 2, replace this</p>\n<pre><code>if (x &gt; 1 ) {\n  // lots of code\n}\n</code></pre>\n<p>with</p>\n<pre><code>if (x &gt; 1) {\n  updateStuff(x);\n}\n\nfunction updateStuff(int x) {\n  // lots of code\n}\n</code></pre>\n<p>This also opens up the opportunity to let the function return a value that can be used further on.</p>\n<p>On 3, replace this</p>\n<pre><code>x = queryDatabase(y);\nif (y &gt; 1) {\n  // use x\n}\n</code></pre>\n<p>with</p>\n<pre><code>if (y &gt; 1) {\n  x = queryDatabase(y);  \n  // use x\n}\n</code></pre>\n<p>Finally, on 4, I sometimes introduce boolean values to convey meaning to complex conditions. E.g. compare this:</p>\n<pre><code>if ((x &lt; 1 and y &gt; 100) ||  (z not 0 and y &lt; 1)) {\n  // do stuff\n}\n</code></pre>\n<p>with</p>\n<pre><code>boolean findPrice = (x &lt; 1 and y &gt; 100);\nboolean findProduct = (z not 0 and y &lt; 1);\nif (findPrice || findProduct) {\n  // do stuff\n}\n</code></pre>\n<p>When all these rules are applied it becomes much easier to read the code and also easier to maintain and (unit) test the code.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670179320,"creation_date":1670179320,"answer_id":74679805,"question_id":74678058,"body_markdown":"***Disclaimer:** it merely impossible to reimplement a chunk of code containing so much logic and guaranty that you can simply copy-past it, and it would work just fine.*\r\n\r\nThe very first advice I can give to change the return type in your Repositories and leverage the [`Optional`][optional] API (that alone wouldn&#39;t resolve all the issues, but it would give some room for improvement).\r\n\r\nSecondly, you need to break presented logic into self-contained meaningful peaces and give them names. The current code violates the first principle of SOLID - [*Single responsibility principle*][singleResponsibility] in a very obvious way. How can you test it, or how can change this functionality without rewriting from scratch? Such code is very hard to maintain.\r\n\r\nHere&#39;s my attempt to reimplement this logic, assuming that both Repositories would produce an `Optional` as a result:\r\n\r\n    public void foo(OrderDetail orderDetail, Item item) {\r\n        if (!isValid(orderDetail, item, origin)) return;\r\n    \r\n        repGroupManufacturerRepository\r\n            .findByRepGroupIDAndManufacturerIDAndRecordDeleted(repGroupID, manufacturerID, NOT_DELETED);\r\n            .filter(manufacturer -&gt; manufacturer.getB2bItemPricingPolicy() != null)\r\n            .filter(manufacturer -&gt; manufacturer.getB2bItemPricingPolicy().equalsIgnoreCase(ReptimeConstants.SHOWRETAILPRICE))\r\n            .ifPresent(manufacturer -&gt; itemSizeColorStyleRepository.findByRecordID(orderDetail.getItemSCSID())\r\n                .filter(itemStyle -&gt; itemSizeColorStyle.getRetailPrice() != null)\r\n                .ifPresent(itemStyle -&gt; {\r\n                    if (needToApplyItemPrice(orderDetail, item, itemStyle)) orderDetail.setUnitPrice(item.getRetailPrice());\r\n                    else if (needToApplyItemStylePrice(orderDetail, item, itemStyle)) orderDetail.setUnitPrice(item.getRetailPrice());\r\n                    else throw new NullPointerException(&quot;item price can not be null.&quot;);\r\n                })\r\n            );\r\n    }\r\n\r\n    public boolean isValid(OrderDetail orderDetail, Item item, Origin origin) {\r\n        return orderDetail != null &amp;&amp; item != null &amp;&amp; !orderDetail.isUnitPriceModified()\r\n            &amp;&amp; origin != null\r\n            &amp;&amp; (origin.contains(&quot;b2baccess&quot;) || origin.contains(&quot;.myappdev&quot;) &amp;&amp; !origin.contains(&quot;apps.myappdev&quot;));\r\n    }\r\n    \r\n    public boolean needToApplyItemPrice(OrderDetail orderDetail, Item item, ItemSizeColorStyle itemStyle) {\r\n        return (orderDetail.getItemSCSID() == null || itemStyle.getRetailPrice() == null)\r\n            &amp;&amp; item.getRetailPrice() != null;\r\n    }\r\n    \r\n    public boolean needToApplyItemStylePrice(OrderDetail orderDetail, Item item, ItemSizeColorStyle itemStyle) {\r\n        return !(orderDetail.getItemSCSID() == null &amp;&amp; item.getRetailPrice() != null)\r\n            &amp;&amp; itemStyle.getRetailPrice() != null;\r\n    }\r\n\r\n\r\n\r\n   [optional]: https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/Optional.html\r\n\r\n   [singleResponsibility]: https://en.wikipedia.org/wiki/Single-responsibility_principle","title":"How to convert if-else statement to map or other statement using java","body":"<p><em><strong>Disclaimer:</strong> it merely impossible to reimplement a chunk of code containing so much logic and guaranty that you can simply copy-past it, and it would work just fine.</em></p>\n<p>The very first advice I can give to change the return type in your Repositories and leverage the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/Optional.html\" rel=\"nofollow noreferrer\"><code>Optional</code></a> API (that alone wouldn't resolve all the issues, but it would give some room for improvement).</p>\n<p>Secondly, you need to break presented logic into self-contained meaningful peaces and give them names. The current code violates the first principle of SOLID - <a href=\"https://en.wikipedia.org/wiki/Single-responsibility_principle\" rel=\"nofollow noreferrer\"><em>Single responsibility principle</em></a> in a very obvious way. How can you test it, or how can change this functionality without rewriting from scratch? Such code is very hard to maintain.</p>\n<p>Here's my attempt to reimplement this logic, assuming that both Repositories would produce an <code>Optional</code> as a result:</p>\n<pre><code>public void foo(OrderDetail orderDetail, Item item) {\n    if (!isValid(orderDetail, item, origin)) return;\n\n    repGroupManufacturerRepository\n        .findByRepGroupIDAndManufacturerIDAndRecordDeleted(repGroupID, manufacturerID, NOT_DELETED);\n        .filter(manufacturer -&gt; manufacturer.getB2bItemPricingPolicy() != null)\n        .filter(manufacturer -&gt; manufacturer.getB2bItemPricingPolicy().equalsIgnoreCase(ReptimeConstants.SHOWRETAILPRICE))\n        .ifPresent(manufacturer -&gt; itemSizeColorStyleRepository.findByRecordID(orderDetail.getItemSCSID())\n            .filter(itemStyle -&gt; itemSizeColorStyle.getRetailPrice() != null)\n            .ifPresent(itemStyle -&gt; {\n                if (needToApplyItemPrice(orderDetail, item, itemStyle)) orderDetail.setUnitPrice(item.getRetailPrice());\n                else if (needToApplyItemStylePrice(orderDetail, item, itemStyle)) orderDetail.setUnitPrice(item.getRetailPrice());\n                else throw new NullPointerException(&quot;item price can not be null.&quot;);\n            })\n        );\n}\n\npublic boolean isValid(OrderDetail orderDetail, Item item, Origin origin) {\n    return orderDetail != null &amp;&amp; item != null &amp;&amp; !orderDetail.isUnitPriceModified()\n        &amp;&amp; origin != null\n        &amp;&amp; (origin.contains(&quot;b2baccess&quot;) || origin.contains(&quot;.myappdev&quot;) &amp;&amp; !origin.contains(&quot;apps.myappdev&quot;));\n}\n\npublic boolean needToApplyItemPrice(OrderDetail orderDetail, Item item, ItemSizeColorStyle itemStyle) {\n    return (orderDetail.getItemSCSID() == null || itemStyle.getRetailPrice() == null)\n        &amp;&amp; item.getRetailPrice() != null;\n}\n\npublic boolean needToApplyItemStylePrice(OrderDetail orderDetail, Item item, ItemSizeColorStyle itemStyle) {\n    return !(orderDetail.getItemSCSID() == null &amp;&amp; item.getRetailPrice() != null)\n        &amp;&amp; itemStyle.getRetailPrice() != null;\n}\n</code></pre>\n"}],"owner":{"account_id":18093144,"reputation":565,"user_id":13152124,"display_name":"Mama"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":335,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1670179320,"creation_date":1670167856,"question_id":74678058,"body_markdown":"I am new to Java, I am bored with if else statement I want to\r\nrefactor my code and relief from if-else statement, not I am not able\r\nto reduce my code, In my code nothing is static every thing comes\r\nfrom user side. I share my codes for your reference.\r\n\r\n```java\r\nif (orderDetail != null &amp;&amp; item != null &amp;&amp; !orderDetail.isUnitPriceModified()) {\r\n  ItemSizeColorStyle itemSizeColorStyle = itemSizeColorStyleRepository.findByRecordID(orderDetail.getItemSCSID());\r\n\r\n  if (origin != null &amp;&amp; (origin.contains(&quot;b2baccess&quot;) || (origin.contains(&quot;.myappdev&quot;) &amp;&amp; !origin.contains(&quot;apps.myappdev&quot;)))) {\r\n    RepGroupManufacturer repGroupManufacturer = repGroupManufacturerRepository.findByRepGroupIDAndManufacturerIDAndRecordDeleted(repGroupID, manufacturerID, NOT_DELETED);\r\n    if (repGroupManufacturer != null &amp;&amp; repGroupManufacturer.getB2bItemPricingPolicy() != null &amp;&amp; repGroupManufacturer.getB2bItemPricingPolicy().equalsIgnoreCase(ReptimeConstants.SHOWRETAILPRICE)) {\r\n      if (orderDetail.getItemSCSID() == null &amp;&amp; item.getRetailPrice() != null) {\r\n        orderDetail.setUnitPrice(item.getRetailPrice());\r\n      } else {\r\n        //                        ItemSizeColorStyle itemSizeColorStyle = itemSizeColorStyleRepository.findByRecordID(orderDetail.getItemSCSID());\r\n        if (itemSizeColorStyle != null &amp;&amp; itemSizeColorStyle.getRetailPrice() != null) {\r\n          orderDetail.setUnitPrice(itemSizeColorStyle.getRetailPrice());\r\n        } else if (itemSizeColorStyle != null &amp;&amp; itemSizeColorStyle.getRetailPrice() == null &amp;&amp; item.getRetailPrice() != null) {\r\n          orderDetail.setUnitPrice(item.getRetailPrice());\r\n        } else if (itemSizeColorStyle != null &amp;&amp; itemSizeColorStyle.getRetailPrice() == null &amp;&amp; item.getRetailPrice() == null) {\r\n          throw new NullPointerException(&quot;item price can not be null.&quot;);\r\n        }\r\n      }\r\n    }\r\n  }\r\n```\r\n\r\nHow to convert this if else to map.","title":"How to convert if-else statement to map or other statement using java","body":"<p>I am new to Java, I am bored with if else statement I want to\nrefactor my code and relief from if-else statement, not I am not able\nto reduce my code, In my code nothing is static every thing comes\nfrom user side. I share my codes for your reference.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (orderDetail != null &amp;&amp; item != null &amp;&amp; !orderDetail.isUnitPriceModified()) {\n  ItemSizeColorStyle itemSizeColorStyle = itemSizeColorStyleRepository.findByRecordID(orderDetail.getItemSCSID());\n\n  if (origin != null &amp;&amp; (origin.contains(&quot;b2baccess&quot;) || (origin.contains(&quot;.myappdev&quot;) &amp;&amp; !origin.contains(&quot;apps.myappdev&quot;)))) {\n    RepGroupManufacturer repGroupManufacturer = repGroupManufacturerRepository.findByRepGroupIDAndManufacturerIDAndRecordDeleted(repGroupID, manufacturerID, NOT_DELETED);\n    if (repGroupManufacturer != null &amp;&amp; repGroupManufacturer.getB2bItemPricingPolicy() != null &amp;&amp; repGroupManufacturer.getB2bItemPricingPolicy().equalsIgnoreCase(ReptimeConstants.SHOWRETAILPRICE)) {\n      if (orderDetail.getItemSCSID() == null &amp;&amp; item.getRetailPrice() != null) {\n        orderDetail.setUnitPrice(item.getRetailPrice());\n      } else {\n        //                        ItemSizeColorStyle itemSizeColorStyle = itemSizeColorStyleRepository.findByRecordID(orderDetail.getItemSCSID());\n        if (itemSizeColorStyle != null &amp;&amp; itemSizeColorStyle.getRetailPrice() != null) {\n          orderDetail.setUnitPrice(itemSizeColorStyle.getRetailPrice());\n        } else if (itemSizeColorStyle != null &amp;&amp; itemSizeColorStyle.getRetailPrice() == null &amp;&amp; item.getRetailPrice() != null) {\n          orderDetail.setUnitPrice(item.getRetailPrice());\n        } else if (itemSizeColorStyle != null &amp;&amp; itemSizeColorStyle.getRetailPrice() == null &amp;&amp; item.getRetailPrice() == null) {\n          throw new NullPointerException(&quot;item price can not be null.&quot;);\n        }\n      }\n    }\n  }\n</code></pre>\n<p>How to convert this if else to map.</p>\n"},{"tags":["java","treeset","natural-sort"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1670166718,"post_id":74677862,"comment_id":131807018,"body_markdown":"You&#39;re ignoring the requirements of `TreeSet` (properly implemented `Comparable`). You&#39;d see similar &quot;undefined&quot; behavior if you used `HashSet` and your objects didn&#39;t properly satisfy its requirement (properly implemented `hashCode`/`equals`).","body":"You&#39;re ignoring the requirements of <code>TreeSet</code> (properly implemented <code>Comparable</code>). You&#39;d see similar &quot;undefined&quot; behavior if you used <code>HashSet</code> and your objects didn&#39;t properly satisfy its requirement (properly implemented <code>hashCode</code>/<code>equals</code>)."},{"owner":{"account_id":18876645,"reputation":2071,"user_id":13770014,"display_name":"milanHrabos"},"score":0,"creation_date":1670166923,"post_id":74677862,"comment_id":131807063,"body_markdown":"@SotiriosDelimanolis but how could you implement interface `Comparable` to generic type `E` (which is used in `union` method)","body":"@SotiriosDelimanolis but how could you implement interface <code>Comparable</code> to generic type <code>E</code> (which is used in <code>union</code> method)"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1670167657,"post_id":74677862,"comment_id":131807231,"body_markdown":"You would need to use a specific Comparable implementation.","body":"You would need to use a specific Comparable implementation."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1670167997,"post_id":74677862,"comment_id":131807299,"body_markdown":"@milanHrabos You can add a third parameter in the `union()` method for the `Comparator` to use, when you create the `TreeSet` instance.","body":"@milanHrabos You can add a third parameter in the <code>union()</code> method for the <code>Comparator</code> to use, when you create the <code>TreeSet</code> instance."},{"owner":{"account_id":18876645,"reputation":2071,"user_id":13770014,"display_name":"milanHrabos"},"score":0,"creation_date":1670168297,"post_id":74677862,"comment_id":131807367,"body_markdown":"@Progman I would need to see an example of this implementation","body":"@Progman I would need to see an example of this implementation"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1670170066,"post_id":74677862,"comment_id":131807785,"body_markdown":"@milanHrabos Add a parameter `Comparator&lt;? super E&gt; comparator` to your `union()` method and then use it in `Set&lt;E&gt; result = new TreeSet&lt;E&gt;(comparator);`.","body":"@milanHrabos Add a parameter <code>Comparator&lt;? super E&gt; comparator</code> to your <code>union()</code> method and then use it in <code>Set&lt;E&gt; result = new TreeSet&lt;E&gt;(comparator);</code>."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670178904,"creation_date":1670178904,"answer_id":74679744,"question_id":74677862,"body_markdown":"In the signature\r\n\r\n```\r\n&lt;E&gt; Set&lt;E&gt; union(Set&lt;? extends E&gt; s1, Set&lt;? extends E&gt; s2)\r\n```\r\n\r\n`s1` and `s2` are of different types. `&lt;? extends E&gt;` and `&lt;? extends E&gt;` do not describe the same type, each wildcard will be bound to a different type at compile time.\r\n\r\nFurthermore, `Integer implements Number, Comparable&lt;Integer&gt;` and `Double implements Number, Comparable&lt;Double&gt;`. `Number` does not implement the `Comparable` interface. So constraining `E` to extend `Comparable&lt;E&gt;` won&#39;t help either, because there is no such `E` which is valid for both `Integer` and `Double` instances.\r\n\r\nIntegers and doubles are not comparable with each other, thus cannot be managed within a single `TreeSet` unless you provide a custom `Comparator` implementation at construction time which is able to compare Numbers of any concrete type.\r\n\r\nHere would be one such comparator implementation:\r\n\r\n```\r\nComparator&lt;Number&gt; comparator = Comparator.comparingDouble(Number::doubleValue);\r\n```\r\n\r\nBut of course this means that your method cannot handle arbitrary objects anymore, only objects of classes which implement the `Number` interface. The widest interface of your function that you can provide is a method which takes two collections of `Comparable&lt;T&gt;` instances; but both collections must contain the same types: you cannot compare integers to strings, doubles to lists, nor maps to bigdecimals.","title":"Effective Java 3: item 31: using &lt;? extends T&gt; for producers, is not applicable for different data structures","body":"<p>In the signature</p>\n<pre><code>&lt;E&gt; Set&lt;E&gt; union(Set&lt;? extends E&gt; s1, Set&lt;? extends E&gt; s2)\n</code></pre>\n<p><code>s1</code> and <code>s2</code> are of different types. <code>&lt;? extends E&gt;</code> and <code>&lt;? extends E&gt;</code> do not describe the same type, each wildcard will be bound to a different type at compile time.</p>\n<p>Furthermore, <code>Integer implements Number, Comparable&lt;Integer&gt;</code> and <code>Double implements Number, Comparable&lt;Double&gt;</code>. <code>Number</code> does not implement the <code>Comparable</code> interface. So constraining <code>E</code> to extend <code>Comparable&lt;E&gt;</code> won't help either, because there is no such <code>E</code> which is valid for both <code>Integer</code> and <code>Double</code> instances.</p>\n<p>Integers and doubles are not comparable with each other, thus cannot be managed within a single <code>TreeSet</code> unless you provide a custom <code>Comparator</code> implementation at construction time which is able to compare Numbers of any concrete type.</p>\n<p>Here would be one such comparator implementation:</p>\n<pre><code>Comparator&lt;Number&gt; comparator = Comparator.comparingDouble(Number::doubleValue);\n</code></pre>\n<p>But of course this means that your method cannot handle arbitrary objects anymore, only objects of classes which implement the <code>Number</code> interface. The widest interface of your function that you can provide is a method which takes two collections of <code>Comparable&lt;T&gt;</code> instances; but both collections must contain the same types: you cannot compare integers to strings, doubles to lists, nor maps to bigdecimals.</p>\n"}],"owner":{"account_id":18876645,"reputation":2071,"user_id":13770014,"display_name":"milanHrabos"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670178904,"creation_date":1670166366,"question_id":74677862,"body_markdown":"This code from the _Item 31_:\r\n\r\n    public class Union {\r\n        public static &lt;E&gt; Set&lt;E&gt; union(Set&lt;? extends E&gt; s1, Set&lt;? extends E&gt; s2) {\r\n            // Bloch used HashSet, but I want natural ordering and still make freedom of producer type\r\n            Set&lt;E&gt; result = new TreeSet&lt;&gt;(s1);\r\n            result.addAll(s2);\r\n            return result;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Set&lt;Integer&gt; integers = new HashSet&lt;&gt;();\r\n            integers.add(1);\r\n            integers.add(3);\r\n            integers.add(5);\r\n    \r\n            Set&lt;Double&gt; doubles = new HashSet&lt;&gt;();\r\n            doubles.add(2.0);\r\n            doubles.add(4.0);\r\n            doubles.add(6.0);\r\n    \r\n            Set&lt;Number&gt; numbers = union(integers, doubles);\r\n            System.out.println(numbers);\r\n        }\r\n    }\r\n\r\nCompiles, but gives runtime error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.ClassCastException: class java.lang.Integer cannot be cast to class java.lang.Double (java.lang.Integer and java.lang.Double are in module java.base of loader &#39;bootstrap&#39;)\r\n    \tat java.base/java.lang.Double.compareTo(Double.java:49)\r\n    \tat java.base/java.util.TreeMap.put(TreeMap.java:566)\r\n    \tat java.base/java.util.TreeSet.add(TreeSet.java:255)\r\n    \tat java.base/java.util.AbstractCollection.addAll(AbstractCollection.java:352)\r\n    \tat java.base/java.util.TreeSet.addAll(TreeSet.java:312)\r\n    \tat effectivejava.chapter5.item31.Union.union(Union.java:12)\r\n    \tat effectivejava.chapter5.item31.Union.main(Union.java:27)\r\n\r\nThe problem seems to be in using `TreeSet` instead of `HashSet`, because there is apparently no natural sort order of types `Number` and `Integer`. But this would make me thing to never use of `TreeSet/TreeMap` in cases where generics are used, because the assumed freedom of types would turn to not work if an operation of the underlying data structure cannot be accomplished (in this case, the operation of sort, because of natural ordering in trees, which uses comparisons operators that could not be used for &quot;any producer type&quot;, but only the same type). Is there way in Java to use generics as well as the features of specific data structures at the same time?\r\n\r\nMaybe, if I used this `union` method declaration:\r\n\r\n    public static &lt;E extends Comparable&lt;? super E&gt;&gt; Set&lt;E&gt; union2(\r\n                Set&lt;? extends E&gt; s1, Set&lt;? extends E&gt; s2\r\n        ) \r\n\r\nThat would allow me to properly used trees and catch types that does not implement `Comparable` at compile time?","title":"Effective Java 3: item 31: using &lt;? extends T&gt; for producers, is not applicable for different data structures","body":"<p>This code from the <em>Item 31</em>:</p>\n<pre><code>public class Union {\n    public static &lt;E&gt; Set&lt;E&gt; union(Set&lt;? extends E&gt; s1, Set&lt;? extends E&gt; s2) {\n        // Bloch used HashSet, but I want natural ordering and still make freedom of producer type\n        Set&lt;E&gt; result = new TreeSet&lt;&gt;(s1);\n        result.addAll(s2);\n        return result;\n    }\n\n    public static void main(String[] args) {\n        Set&lt;Integer&gt; integers = new HashSet&lt;&gt;();\n        integers.add(1);\n        integers.add(3);\n        integers.add(5);\n\n        Set&lt;Double&gt; doubles = new HashSet&lt;&gt;();\n        doubles.add(2.0);\n        doubles.add(4.0);\n        doubles.add(6.0);\n\n        Set&lt;Number&gt; numbers = union(integers, doubles);\n        System.out.println(numbers);\n    }\n}\n</code></pre>\n<p>Compiles, but gives runtime error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ClassCastException: class java.lang.Integer cannot be cast to class java.lang.Double (java.lang.Integer and java.lang.Double are in module java.base of loader 'bootstrap')\n    at java.base/java.lang.Double.compareTo(Double.java:49)\n    at java.base/java.util.TreeMap.put(TreeMap.java:566)\n    at java.base/java.util.TreeSet.add(TreeSet.java:255)\n    at java.base/java.util.AbstractCollection.addAll(AbstractCollection.java:352)\n    at java.base/java.util.TreeSet.addAll(TreeSet.java:312)\n    at effectivejava.chapter5.item31.Union.union(Union.java:12)\n    at effectivejava.chapter5.item31.Union.main(Union.java:27)\n</code></pre>\n<p>The problem seems to be in using <code>TreeSet</code> instead of <code>HashSet</code>, because there is apparently no natural sort order of types <code>Number</code> and <code>Integer</code>. But this would make me thing to never use of <code>TreeSet/TreeMap</code> in cases where generics are used, because the assumed freedom of types would turn to not work if an operation of the underlying data structure cannot be accomplished (in this case, the operation of sort, because of natural ordering in trees, which uses comparisons operators that could not be used for &quot;any producer type&quot;, but only the same type). Is there way in Java to use generics as well as the features of specific data structures at the same time?</p>\n<p>Maybe, if I used this <code>union</code> method declaration:</p>\n<pre><code>public static &lt;E extends Comparable&lt;? super E&gt;&gt; Set&lt;E&gt; union2(\n            Set&lt;? extends E&gt; s1, Set&lt;? extends E&gt; s2\n    ) \n</code></pre>\n<p>That would allow me to properly used trees and catch types that does not implement <code>Comparable</code> at compile time?</p>\n"},{"tags":["java","spring-boot","hibernate","jdbctemplate","spring-transactions"],"answers":[{"tags":[],"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670177300,"creation_date":1670177300,"answer_id":74679497,"question_id":74679220,"body_markdown":"You will have a transaction per thread.  If you have two requests, then you will have two threads (from your web container, like Tomcat), and therefore you&#39;ll have two separate transactions.\r\n\r\nBased on the code and (lack of) configuration it is hard to tell how you setup your JdbcTemplate.  Most likely the connection used by the JdbcTemplate comes from a database connection pool.  If you&#39;ve configured two connections then you can only use two connections and the usage of those connections will block other requests to the database if they are in use.  Now, that being said, database connection pools are generally programmed to be super smart and one database connection can be used between multiple database requests/transactions depending on configuration settings.","title":"does @Transactional annotation merge new transaction into exisiting transaction","body":"<p>You will have a transaction per thread.  If you have two requests, then you will have two threads (from your web container, like Tomcat), and therefore you'll have two separate transactions.</p>\n<p>Based on the code and (lack of) configuration it is hard to tell how you setup your JdbcTemplate.  Most likely the connection used by the JdbcTemplate comes from a database connection pool.  If you've configured two connections then you can only use two connections and the usage of those connections will block other requests to the database if they are in use.  Now, that being said, database connection pools are generally programmed to be super smart and one database connection can be used between multiple database requests/transactions depending on configuration settings.</p>\n"},{"tags":[],"owner":{"account_id":175930,"reputation":2593,"user_id":406290,"accept_rate":43,"display_name":"Kevin Hooke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670177811,"creation_date":1670177811,"answer_id":74679586,"question_id":74679220,"body_markdown":"&gt; let&#39;s say i hit the API 2 times, with data1 and then data2, before request 1 was finished API was hit 2nd time.\r\nwould there be only a single transaction or two separate independent transactions?\r\n\r\nEach incoming request to your api will result in an independent transaction being started. If you think this through this makes sense: if you have 2 users each making a request at the same time, you would want each of their requests to be handled independently, it would be odd if both of their requests joined and were handled as a single transaction.\r\n\r\n&gt; i want to know is using @Transactional with jdbcTemplate valid? i am having doubt on how jdbcTemplate internally gets the same connection object that was used by @Transactional annotation\r\n\r\nThis depends on how you have configured a Datasource and a connection pool. Are you running this on an appserver like Webpshere, Weblogic or WildFly? They provide Datasource connection pooling integrated with a TransactionManager too.","title":"does @Transactional annotation merge new transaction into exisiting transaction","body":"<blockquote>\n<p>let's say i hit the API 2 times, with data1 and then data2, before request 1 was finished API was hit 2nd time.\nwould there be only a single transaction or two separate independent transactions?</p>\n</blockquote>\n<p>Each incoming request to your api will result in an independent transaction being started. If you think this through this makes sense: if you have 2 users each making a request at the same time, you would want each of their requests to be handled independently, it would be odd if both of their requests joined and were handled as a single transaction.</p>\n<blockquote>\n<p>i want to know is using @Transactional with jdbcTemplate valid? i am having doubt on how jdbcTemplate internally gets the same connection object that was used by @Transactional annotation</p>\n</blockquote>\n<p>This depends on how you have configured a Datasource and a connection pool. Are you running this on an appserver like Webpshere, Weblogic or WildFly? They provide Datasource connection pooling integrated with a TransactionManager too.</p>\n"}],"owner":{"account_id":14007779,"reputation":424,"user_id":10117360,"display_name":"Rajat Aggarwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":442,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74679497,"answer_count":2,"score":0,"last_activity_date":1670177958,"creation_date":1670175657,"question_id":74679220,"body_markdown":"i am having a simple controller /hello which internally calls Repository layer for a transaction using the default propagation level i.e Propagation.REQUIRED.\r\n```\r\n@Controller\r\npublic void hello(data) -&gt; doTransaction(data)\r\n\r\n@Repository\r\n@Transactional\r\npublic void doTransaction(data){\r\n  jdbcTemplateInsertA(data);\r\n  Thread.sleep(15*1000);\r\n  jdbcTemplateUpdateB(data);\r\n}\r\n```\r\nas per online docs\r\n```\r\nREQUIRED is the default propagation. Spring checks if there is an active transaction, and if nothing exists, it creates a new one. Otherwise, the business logic appends to the currently active transaction:\r\n```\r\n\r\nnow let&#39;s say i hit the API 2 times, with data1 and then data2, before request 1 was finished API was hit 2nd time. \\\r\nwould there be only a **single transaction** or **two separate independent transactions**?\r\n\r\nAlso, i want to know is using @Transactional with jdbcTemplate valid?\r\n**i am having doubt on how jdbcTemplate internally gets the same connection object that was used by @Transactional annotation considering pool size &gt;=2**.\r\n\r\n\r\n**UPDATE:**\\\r\nYou will have a transaction per thread. -&gt; any docs/resources where i can find this? \\\r\nFor 2nd part, let me rephrase my question. \\\r\nLet&#39;s say using hikari pool with size as 5 as per my understanding @Transactional would pick some connection from pool, let&#39;s say it picked up connectionId1554 now, when i call jdbc.execute(), how spring ensure that it uses connectionId1554 and not any other available connection from the pool","title":"does @Transactional annotation merge new transaction into exisiting transaction","body":"<p>i am having a simple controller /hello which internally calls Repository layer for a transaction using the default propagation level i.e Propagation.REQUIRED.</p>\n<pre><code>@Controller\npublic void hello(data) -&gt; doTransaction(data)\n\n@Repository\n@Transactional\npublic void doTransaction(data){\n  jdbcTemplateInsertA(data);\n  Thread.sleep(15*1000);\n  jdbcTemplateUpdateB(data);\n}\n</code></pre>\n<p>as per online docs</p>\n<pre><code>REQUIRED is the default propagation. Spring checks if there is an active transaction, and if nothing exists, it creates a new one. Otherwise, the business logic appends to the currently active transaction:\n</code></pre>\n<p>now let's say i hit the API 2 times, with data1 and then data2, before request 1 was finished API was hit 2nd time. <br />\nwould there be only a <strong>single transaction</strong> or <strong>two separate independent transactions</strong>?</p>\n<p>Also, i want to know is using @Transactional with jdbcTemplate valid?\n<strong>i am having doubt on how jdbcTemplate internally gets the same connection object that was used by @Transactional annotation considering pool size &gt;=2</strong>.</p>\n<p><strong>UPDATE:</strong><br />\nYou will have a transaction per thread. -&gt; any docs/resources where i can find this? <br />\nFor 2nd part, let me rephrase my question. <br />\nLet's say using hikari pool with size as 5 as per my understanding @Transactional would pick some connection from pool, let's say it picked up connectionId1554 now, when i call jdbc.execute(), how spring ensure that it uses connectionId1554 and not any other available connection from the pool</p>\n"},{"tags":["java","spring-boot","environment-variables","properties-file"],"answers":[{"tags":[],"owner":{"account_id":4124281,"reputation":21,"user_id":3383848,"display_name":"wvullhorst"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670177652,"creation_date":1670177652,"answer_id":74679556,"question_id":74675202,"body_markdown":"The problem is building URIs in Windows.\r\nYour PropertySource results in \r\n\r\n`file:F:\\PROPPERTIES\\converter\\documentConverter.properties`.\r\n\r\nI think the correct format is \r\n\r\n`file:///F:/PROPPERTIES/converter/documentConverter.properties`\r\n\r\nBackslashes in the path may work, but the slashes at the start (`file:///`) are mandatory...","title":"Springboot not reading external Property file","body":"<p>The problem is building URIs in Windows.\nYour PropertySource results in</p>\n<p><code>file:F:\\PROPPERTIES\\converter\\documentConverter.properties</code>.</p>\n<p>I think the correct format is</p>\n<p><code>file:///F:/PROPPERTIES/converter/documentConverter.properties</code></p>\n<p>Backslashes in the path may work, but the slashes at the start (<code>file:///</code>) are mandatory...</p>\n"}],"owner":{"account_id":3991944,"reputation":1372,"user_id":3290584,"display_name":"Noorus Khan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670177652,"creation_date":1670153880,"question_id":74675202,"body_markdown":"Trying to read property in SpringBoot application through external property file.\r\n\r\n    @SpringBootApplication\r\n    @Configuration\r\n    @PropertySource({&quot;file:${DOCUMENT_CONVERTER_PROPERTIES}&quot;})\r\n    public class ConverterApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(ConverterApplication.class, args);\r\n    \t}\r\n    }\r\n\r\nhere, DOCUMENT_CONVERTER_PROPERTIES is the place holder for file \r\nF:\\PROPPERTIES\\converter\\documentConverter.properties added in evironment variable.\r\n\r\nConverterService.java\r\n\r\n    @Service\r\n    public class ConverterService {\r\n    \r\n        @Autowired\r\n        private Environment environment;\r\n    \r\n        String tempPDFPath = environment.getProperty(Constants.TEMP_PDF_PATH);\r\n        String tempDocxPath = environment.getProperty(Constants.TEMP_DOCX_PATH);\r\n\r\nConverterServiceTest.java\r\n\r\n    @SpringBootTest\r\n    @TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\n    @ExtendWith(SpringExtension.class)\r\n    //@TestPropertySource(&quot;classpath:/&quot;)\r\n    public class ConverterServiceTest {\r\n    \r\n        @Autowired\r\n        private ConverterService service;\r\n        private byte[] bytes = null;\r\n    \r\n        @Test\r\n        void testConvertDocxToPDF(){\r\n            createFile(&quot;&lt;path&gt;/myFile.docx&quot;); //put this file at given location\r\n            service.convertDocxToPDF(bytes);\r\n        }\r\n\r\n\r\nwhat missing here, any help is appreciated\r\nThanks in advance !!","title":"Springboot not reading external Property file","body":"<p>Trying to read property in SpringBoot application through external property file.</p>\n<pre><code>@SpringBootApplication\n@Configuration\n@PropertySource({&quot;file:${DOCUMENT_CONVERTER_PROPERTIES}&quot;})\npublic class ConverterApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ConverterApplication.class, args);\n    }\n}\n</code></pre>\n<p>here, DOCUMENT_CONVERTER_PROPERTIES is the place holder for file\nF:\\PROPPERTIES\\converter\\documentConverter.properties added in evironment variable.</p>\n<p>ConverterService.java</p>\n<pre><code>@Service\npublic class ConverterService {\n\n    @Autowired\n    private Environment environment;\n\n    String tempPDFPath = environment.getProperty(Constants.TEMP_PDF_PATH);\n    String tempDocxPath = environment.getProperty(Constants.TEMP_DOCX_PATH);\n</code></pre>\n<p>ConverterServiceTest.java</p>\n<pre><code>@SpringBootTest\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\n@ExtendWith(SpringExtension.class)\n//@TestPropertySource(&quot;classpath:/&quot;)\npublic class ConverterServiceTest {\n\n    @Autowired\n    private ConverterService service;\n    private byte[] bytes = null;\n\n    @Test\n    void testConvertDocxToPDF(){\n        createFile(&quot;&lt;path&gt;/myFile.docx&quot;); //put this file at given location\n        service.convertDocxToPDF(bytes);\n    }\n</code></pre>\n<p>what missing here, any help is appreciated\nThanks in advance !!</p>\n"},{"tags":["java","logging","slf4j"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":3,"creation_date":1338544715,"post_id":10847458,"comment_id":14127852,"body_markdown":"slf4j is an API.  You need to configure the implementation (&quot;binding&quot;) behind the API.","body":"slf4j is an API.  You need to configure the implementation (&quot;binding&quot;) behind the API."},{"owner":{"account_id":65284,"reputation":91155,"user_id":192247,"accept_rate":81,"display_name":"missingfaktor"},"score":1,"creation_date":1489074193,"post_id":10847458,"comment_id":72520983,"body_markdown":"@PeterRader, struggling to recollect that after 5 years. Soz, mate.","body":"@PeterRader, struggling to recollect that after 5 years. Soz, mate."},{"owner":{"account_id":9093104,"reputation":1493,"user_id":6768037,"display_name":"Jon Sampson"},"score":2,"creation_date":1579790763,"post_id":10847458,"comment_id":105891388,"body_markdown":"Sorry to ping such an old question, but I just want to cross-link https://stackoverflow.com/questions/14544991/how-to-configure-slf4j-simple which I found useful for configuring slf4j-simple to do the above.","body":"Sorry to ping such an old question, but I just want to cross-link <a href=\"https://stackoverflow.com/questions/14544991/how-to-configure-slf4j-simple\" title=\"how to configure slf4j simple\">stackoverflow.com/questions/14544991/&hellip;</a> which I found useful for configuring slf4j-simple to do the above."}],"answers":[{"tags":[],"owner":{"account_id":214147,"reputation":5246,"user_id":467944,"accept_rate":81,"display_name":"Korgen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1338541901,"creation_date":1338541901,"answer_id":10847507,"question_id":10847458,"body_markdown":"depends on what binding you are using... if e.g. it&#39;s log4j have a look at http://logging.apache.org/log4j/1.2/manual.html and its Configuration chapter","title":"How to enable debug in slf4j Logger?","body":"<p>depends on what binding you are using... if e.g. it's log4j have a look at <a href=\"http://logging.apache.org/log4j/1.2/manual.html\" rel=\"nofollow\">http://logging.apache.org/log4j/1.2/manual.html</a> and its Configuration chapter</p>\n"},{"tags":[],"owner":{"account_id":426679,"reputation":6089,"user_id":808019,"accept_rate":73,"display_name":"peshkira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1338542109,"creation_date":1338542109,"answer_id":10847558,"question_id":10847458,"body_markdown":"If you use log4j as the binding of slf4j you can crete a log4j.xml (or log4j.properties) file and add it to the classpath. An example could be:\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE log4j:configuration SYSTEM &quot;log4j.dtd&quot;&gt;\r\n    &lt;log4j:configuration xmlns:log4j=&quot;http://jakarta.apache.org/log4j/&quot; debug=&quot;false&quot;&gt;\r\n      &lt;appender name=&quot;CONSOLE&quot; class=&quot;org.apache.log4j.ConsoleAppender&quot;&gt;\r\n        &lt;param name=&quot;Target&quot; value=&quot;System.out&quot; /&gt;\r\n        &lt;param name=&quot;Threshold&quot; value=&quot;DEBUG&quot; /&gt;\r\n        &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n          &lt;param name=&quot;ConversionPattern&quot; value=&quot;%d{HH:mm:ss,SSS} %-5p [%c{1}] %m%n&quot; /&gt;\r\n        &lt;/layout&gt;\r\n      &lt;/appender&gt;\r\n      &lt;root&gt;\r\n        &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\r\n      &lt;/root&gt;\r\n    &lt;/log4j:configuration&gt;","title":"How to enable debug in slf4j Logger?","body":"<p>If you use log4j as the binding of slf4j you can crete a log4j.xml (or log4j.properties) file and add it to the classpath. An example could be:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE log4j:configuration SYSTEM \"log4j.dtd\"&gt;\n&lt;log4j:configuration xmlns:log4j=\"http://jakarta.apache.org/log4j/\" debug=\"false\"&gt;\n  &lt;appender name=\"CONSOLE\" class=\"org.apache.log4j.ConsoleAppender\"&gt;\n    &lt;param name=\"Target\" value=\"System.out\" /&gt;\n    &lt;param name=\"Threshold\" value=\"DEBUG\" /&gt;\n    &lt;layout class=\"org.apache.log4j.PatternLayout\"&gt;\n      &lt;param name=\"ConversionPattern\" value=\"%d{HH:mm:ss,SSS} %-5p [%c{1}] %m%n\" /&gt;\n    &lt;/layout&gt;\n  &lt;/appender&gt;\n  &lt;root&gt;\n    &lt;appender-ref ref=\"CONSOLE\" /&gt;\n  &lt;/root&gt;\n&lt;/log4j:configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1513180,"reputation":7944,"user_id":1414799,"accept_rate":56,"display_name":"Pramod Kumar"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1338544676,"creation_date":1338542414,"answer_id":10847625,"question_id":10847458,"body_markdown":"For log4j\r\n\r\n    &lt;log4j:configuration xmlns:log4j=&quot;http://jakarta.apache.org/log4j/&quot; debug=&quot;true&quot;&gt;\r\n\r\n    &lt;!-- ============================== --&gt;\r\n    &lt;!-- Append messages to the console --&gt;\r\n    &lt;!-- ============================== --&gt;\r\n\r\n    &lt;appender name=&quot;CONSOLE&quot; class=&quot;org.apache.log4j.ConsoleAppender&quot;&gt;\r\n        &lt;param name=&quot;Target&quot; value=&quot;System.out&quot;/&gt;\r\n        &lt;param name=&quot;Threshold&quot; value=&quot;INFO&quot;/&gt;\r\n\r\n        &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n            &lt;!-- The default pattern: Date Priority [Category] Message\\n --&gt;\r\n            &lt;param name=&quot;ConversionPattern&quot; value=&quot;%d [%t] %-5p %c - %m%n&quot;/&gt;\r\n        &lt;/layout&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;appender name=&quot;web&quot; class=&quot;org.apache.log4j.DailyRollingFileAppender&quot;&gt;\r\n        &lt;param name=&quot;Threshold&quot; value=&quot;DEBUG&quot;/&gt;\r\n        &lt;param name=&quot;Append&quot; value=&quot;true&quot;/&gt;\r\n        &lt;param name=&quot;File&quot; value=&quot;${catalina.home}/logs/web.log&quot;/&gt;\r\n        &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n            &lt;param name=&quot;ConversionPattern&quot; value=&quot;%d [%t] %-5p %c - %m%n&quot;/&gt;\r\n        &lt;/layout&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;category name=&quot;com.idc.scd&quot; additivity=&quot;false&quot;&gt;\r\n        &lt;priority value=&quot;${log4j.category.com.mypackage}&quot;/&gt;\r\n        &lt;appender-ref ref=&quot;web&quot;/&gt;\r\n    &lt;/category&gt;\r\n\r\n    &lt;/log4j:configuration&gt;\r\n\r\nby this cofiguration your all &quot;com.mypackage&quot; logs will be written in &quot;web.log&quot; file under catalina.home.","title":"How to enable debug in slf4j Logger?","body":"<p>For log4j</p>\n\n<pre><code>&lt;log4j:configuration xmlns:log4j=\"http://jakarta.apache.org/log4j/\" debug=\"true\"&gt;\n\n&lt;!-- ============================== --&gt;\n&lt;!-- Append messages to the console --&gt;\n&lt;!-- ============================== --&gt;\n\n&lt;appender name=\"CONSOLE\" class=\"org.apache.log4j.ConsoleAppender\"&gt;\n    &lt;param name=\"Target\" value=\"System.out\"/&gt;\n    &lt;param name=\"Threshold\" value=\"INFO\"/&gt;\n\n    &lt;layout class=\"org.apache.log4j.PatternLayout\"&gt;\n        &lt;!-- The default pattern: Date Priority [Category] Message\\n --&gt;\n        &lt;param name=\"ConversionPattern\" value=\"%d [%t] %-5p %c - %m%n\"/&gt;\n    &lt;/layout&gt;\n&lt;/appender&gt;\n\n&lt;appender name=\"web\" class=\"org.apache.log4j.DailyRollingFileAppender\"&gt;\n    &lt;param name=\"Threshold\" value=\"DEBUG\"/&gt;\n    &lt;param name=\"Append\" value=\"true\"/&gt;\n    &lt;param name=\"File\" value=\"${catalina.home}/logs/web.log\"/&gt;\n    &lt;layout class=\"org.apache.log4j.PatternLayout\"&gt;\n        &lt;param name=\"ConversionPattern\" value=\"%d [%t] %-5p %c - %m%n\"/&gt;\n    &lt;/layout&gt;\n&lt;/appender&gt;\n\n&lt;category name=\"com.idc.scd\" additivity=\"false\"&gt;\n    &lt;priority value=\"${log4j.category.com.mypackage}\"/&gt;\n    &lt;appender-ref ref=\"web\"/&gt;\n&lt;/category&gt;\n\n&lt;/log4j:configuration&gt;\n</code></pre>\n\n<p>by this cofiguration your all \"com.mypackage\" logs will be written in \"web.log\" file under catalina.home.</p>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1338544826,"creation_date":1338544826,"answer_id":10848206,"question_id":10847458,"body_markdown":"Use logback as the slf4j binding. \r\n\r\nThe default behaviour without an configuration file is to log all events at level DEBUG and above to System.out.  See http://logback.qos.ch/manual/configuration.html#automaticConf for details.","title":"How to enable debug in slf4j Logger?","body":"<p>Use logback as the slf4j binding. </p>\n\n<p>The default behaviour without an configuration file is to log all events at level DEBUG and above to System.out.  See <a href=\"http://logback.qos.ch/manual/configuration.html#automaticConf\" rel=\"nofollow\">http://logback.qos.ch/manual/configuration.html#automaticConf</a> for details.</p>\n"},{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":3,"up_vote_count":47,"is_accepted":false,"score":44,"last_activity_date":1338550754,"creation_date":1338550754,"answer_id":10849560,"question_id":10847458,"body_markdown":"Programmatically, with logback:\r\n\r\n    setLoggingLevel(ch.qos.logback.classic.Level.DEBUG);\r\n\r\nwhere\r\n\r\n    public static void setLoggingLevel(ch.qos.logback.classic.Level level) {\r\n        ch.qos.logback.classic.Logger root = (ch.qos.logback.classic.Logger) org.slf4j.LoggerFactory.getLogger(ch.qos.logback.classic.Logger.ROOT_LOGGER_NAME);\r\n        root.setLevel(level);\r\n    }","title":"How to enable debug in slf4j Logger?","body":"<p>Programmatically, with logback:</p>\n\n<pre><code>setLoggingLevel(ch.qos.logback.classic.Level.DEBUG);\n</code></pre>\n\n<p>where</p>\n\n<pre><code>public static void setLoggingLevel(ch.qos.logback.classic.Level level) {\n    ch.qos.logback.classic.Logger root = (ch.qos.logback.classic.Logger) org.slf4j.LoggerFactory.getLogger(ch.qos.logback.classic.Logger.ROOT_LOGGER_NAME);\n    root.setLevel(level);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1314954,"reputation":5719,"user_id":1262058,"accept_rate":80,"display_name":"madjardi"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1459378621,"creation_date":1459378621,"answer_id":36321201,"question_id":10847458,"body_markdown":"exists various capability to switch debug log on:  \r\nthis [article][1] have good explanation all of those. to me good fit is:\r\n\r\n**Using slf4j with Log4j logger**  \r\ncreate file *src/main/resources/log4j.properties*\r\n\r\n    log4j.rootLogger=DEBUG, STDOUT\r\n    log4j.logger.deng=INFO\r\n    log4j.appender.STDOUT=org.apache.log4j.ConsoleAppender\r\n    log4j.appender.STDOUT.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.STDOUT.layout.ConversionPattern=%5p [%t] (%F:%L) - %m%n\r\n\r\n  [1]: http://saltnlight5.blogspot.ru/2013/08/how-to-configure-slf4j-with-different.html","title":"How to enable debug in slf4j Logger?","body":"<p>exists various capability to switch debug log on:<br>\nthis <a href=\"http://saltnlight5.blogspot.ru/2013/08/how-to-configure-slf4j-with-different.html\" rel=\"noreferrer\">article</a> have good explanation all of those. to me good fit is:</p>\n\n<p><strong>Using slf4j with Log4j logger</strong><br>\ncreate file <em>src/main/resources/log4j.properties</em></p>\n\n<pre><code>log4j.rootLogger=DEBUG, STDOUT\nlog4j.logger.deng=INFO\nlog4j.appender.STDOUT=org.apache.log4j.ConsoleAppender\nlog4j.appender.STDOUT.layout=org.apache.log4j.PatternLayout\nlog4j.appender.STDOUT.layout.ConversionPattern=%5p [%t] (%F:%L) - %m%n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3725395,"reputation":325,"user_id":3099435,"display_name":"Onur Tokat"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1598273368,"creation_date":1598272667,"answer_id":63561217,"question_id":10847458,"body_markdown":"Pass the System Property&#160;-Dorg.slf4j.simpleLogger.defaultLogLevel=DEBUG&#160;at your Java startup for the SLF4J Simple api\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TOdPx.png","title":"How to enable debug in slf4j Logger?","body":"<p>Pass the System Property-Dorg.slf4j.simpleLogger.defaultLogLevel=DEBUGat your Java startup for the SLF4J Simple api</p>\n<p><a href=\"https://i.stack.imgur.com/TOdPx.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/TOdPx.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":2770364,"reputation":1493,"user_id":8390382,"display_name":"lainatnavi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608225865,"creation_date":1608223278,"answer_id":65344808,"question_id":10847458,"body_markdown":"Here&#39;s a sample configuration I usually use to setup logging with logback.&lt;br&gt;Gradle dependencies (the same apply to Maven)\r\n\r\n    compile group: &#39;org.slf4j&#39;, name: &#39;slf4j-api&#39;, version: &#39;1.7.25&#39;\r\n    compile group: &#39;ch.qos.logback&#39;, name: &#39;logback-classic&#39;, version: &#39;1.2.3&#39;\r\n`logback.xml` configuration to be placed in the project&#39;s classpath (src/main/resources)\r\n\r\n    &lt;configuration&gt;\r\n    \r\n    \t&lt;statusListener class=&quot;ch.qos.logback.core.status.NopStatusListener&quot; /&gt;\r\n    \r\n    \t&lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n    \t\t&lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\r\n    \t\t\t&lt;Pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36}.%M\\(%line\\) - %msg%n&lt;/Pattern&gt;\r\n    \t\t&lt;/layout&gt;\r\n    \t&lt;/appender&gt;\r\n    \t\r\n    \t&lt;!-- enable debug only on org.hibernate.SQL package --&gt;\r\n    \t&lt;logger name=&quot;org.hibernate.SQL&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\r\n    \t\t&lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n    \t&lt;/logger&gt;\r\n    \r\n    \t&lt;root level=&quot;info&quot;&gt;\r\n    \t\t&lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n    \t&lt;/root&gt;\r\n    \r\n    &lt;/configuration&gt;","title":"How to enable debug in slf4j Logger?","body":"<p>Here's a sample configuration I usually use to setup logging with logback.<br>Gradle dependencies (the same apply to Maven)</p>\n<pre><code>compile group: 'org.slf4j', name: 'slf4j-api', version: '1.7.25'\ncompile group: 'ch.qos.logback', name: 'logback-classic', version: '1.2.3'\n</code></pre>\n<p><code>logback.xml</code> configuration to be placed in the project's classpath (src/main/resources)</p>\n<pre><code>&lt;configuration&gt;\n\n    &lt;statusListener class=&quot;ch.qos.logback.core.status.NopStatusListener&quot; /&gt;\n\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\n            &lt;Pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36}.%M\\(%line\\) - %msg%n&lt;/Pattern&gt;\n        &lt;/layout&gt;\n    &lt;/appender&gt;\n    \n    &lt;!-- enable debug only on org.hibernate.SQL package --&gt;\n    &lt;logger name=&quot;org.hibernate.SQL&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n    &lt;/logger&gt;\n\n    &lt;root level=&quot;info&quot;&gt;\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n    &lt;/root&gt;\n\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3655785,"reputation":121,"user_id":3046848,"display_name":"Manuel Mena"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1608590643,"creation_date":1608590643,"answer_id":65400961,"question_id":10847458,"body_markdown":"Just add the following to the `application.properties`\r\n\r\n```\r\nlogging.level.org.springframework.web=DEBUG\r\nlogging.level.org.springframework.context=DEBUG\r\n```\r\n\r\n","title":"How to enable debug in slf4j Logger?","body":"<p>Just add the following to the <code>application.properties</code></p>\n<pre><code>logging.level.org.springframework.web=DEBUG\nlogging.level.org.springframework.context=DEBUG\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1537474,"reputation":3656,"user_id":1433066,"accept_rate":68,"display_name":"Nick Dong"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670176484,"creation_date":1670173482,"answer_id":74678907,"question_id":10847458,"body_markdown":"If you are using slf4j with springboot, you just need to set debug level in `application.properties`.\r\n\r\n```text\r\nlogging.level.root=DEBUG\r\n```\r\n\r\nYou also can set the specific part by setting `logging.group`.\r\n\r\nImage that, if you have `com.pxample`, `com.example`, `com.dxample` in `src/main/java/` and you setting:\r\n\r\n```text\r\nlogging.group.mycustomgroup=com.pxample, com.example\r\nlogging.level.mycustomgroup=DEBUG\r\n```\r\n\r\n, then only `com.pxample`, `com.example` will show debug output for you.\r\n","title":"How to enable debug in slf4j Logger?","body":"<p>If you are using slf4j with springboot, you just need to set debug level in <code>application.properties</code>.</p>\n<pre><code>logging.level.root=DEBUG\n</code></pre>\n<p>You also can set the specific part by setting <code>logging.group</code>.</p>\n<p>Image that, if you have <code>com.pxample</code>, <code>com.example</code>, <code>com.dxample</code> in <code>src/main/java/</code> and you setting:</p>\n<pre><code>logging.group.mycustomgroup=com.pxample, com.example\nlogging.level.mycustomgroup=DEBUG\n</code></pre>\n<p>, then only <code>com.pxample</code>, <code>com.example</code> will show debug output for you.</p>\n"}],"owner":{"account_id":65284,"reputation":91155,"user_id":192247,"accept_rate":81,"display_name":"missingfaktor"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136401,"favorite_count":0,"down_vote_count":0,"up_vote_count":69,"answer_count":10,"score":69,"last_activity_date":1670176484,"creation_date":1338541687,"question_id":10847458,"body_markdown":"How to globally enable `debug` for all the `slf4j.Logger` objects?","title":"How to enable debug in slf4j Logger?","body":"<p>How to globally enable <code>debug</code> for all the <code>slf4j.Logger</code> objects?</p>\n"},{"tags":["java","class","reflection"],"comments":[{"owner":{"account_id":95778,"reputation":3982,"user_id":260654,"accept_rate":71,"display_name":"Steven"},"score":0,"creation_date":1268137534,"post_id":2408789,"comment_id":2389391,"body_markdown":"what if the class is in different project?","body":"what if the class is in different project?"},{"owner":{"account_id":557429,"reputation":3105,"user_id":919860,"accept_rate":40,"display_name":"user919860"},"score":1,"creation_date":1358356353,"post_id":2408789,"comment_id":19972602,"body_markdown":"To your comment:  What!???\n\nIf your class was in a different project, then wouldn&#39;t it depend on your IDE?  As far as your application is concerned, it would be as though it was in the same project anyways because it&#39;s libraries are referenced externally.  Like, you know that the the Java API classes are not in your project, right?  But, the compiler for your IDE knows where to find them, if your IDE is set up correctly.  The same applies to your classes from another project.","body":"To your comment:  What!???  If your class was in a different project, then wouldn&#39;t it depend on your IDE?  As far as your application is concerned, it would be as though it was in the same project anyways because it&#39;s libraries are referenced externally.  Like, you know that the the Java API classes are not in your project, right?  But, the compiler for your IDE knows where to find them, if your IDE is set up correctly.  The same applies to your classes from another project."}],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":199,"is_accepted":true,"score":199,"last_activity_date":1268137497,"creation_date":1268136414,"answer_id":2408812,"question_id":2408789,"body_markdown":"    Class&lt;?&gt; cls = Class.forName(className);\r\n\r\nBut your `className` should be fully-qualified - i.e. `com.mycompany.MyClass`\r\n\r\n","title":"Getting Class type from String","body":"<pre><code>Class&lt;?&gt; cls = Class.forName(className);\n</code></pre>\n\n<p>But your <code>className</code> should be fully-qualified - i.e. <code>com.mycompany.MyClass</code></p>\n"},{"tags":[],"owner":{"account_id":101889,"reputation":5685,"user_id":273826,"accept_rate":100,"display_name":"Hans Westerbeek"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1576224043,"creation_date":1268136416,"answer_id":2408813,"question_id":2408789,"body_markdown":"It should be:\r\n\r\n`Class.forName(String classname)`","title":"Getting Class type from String","body":"<p>It should be:</p>\n\n<p><code>Class.forName(String classname)</code></p>\n"},{"tags":[],"owner":{"account_id":3264,"reputation":11299,"user_id":4690,"accept_rate":83,"display_name":"Manrico Corazzi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1268136419,"creation_date":1268136419,"answer_id":2408814,"question_id":2408789,"body_markdown":"Not sure what you are asking, but... [Class.forname][1], maybe?\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Class.html#forName%28java.lang.String,%20boolean,%20java.lang.ClassLoader%29","title":"Getting Class type from String","body":"<p>Not sure what you are asking, but... <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Class.html#forName%28java.lang.String,%20boolean,%20java.lang.ClassLoader%29\" rel=\"nofollow noreferrer\">Class.forname</a>, maybe?</p>\n"},{"tags":[],"owner":{"account_id":62440,"reputation":23185,"user_id":185541,"display_name":"rsp"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1542326811,"creation_date":1268136434,"answer_id":2408817,"question_id":2408789,"body_markdown":"You can use the `forName` method of `Class`:\r\n\r\n    Class cls = Class.forName(clsName);\r\n    Object obj = cls.newInstance();\r\n\r\n","title":"Getting Class type from String","body":"<p>You can use the <code>forName</code> method of <code>Class</code>:</p>\n\n<pre><code>Class cls = Class.forName(clsName);\nObject obj = cls.newInstance();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":55621,"reputation":8047,"user_id":166611,"accept_rate":75,"display_name":"JuanZe"},"down_vote_count":1,"up_vote_count":46,"is_accepted":false,"score":45,"last_activity_date":1268136463,"creation_date":1268136463,"answer_id":2408819,"question_id":2408789,"body_markdown":"    String clsName = &quot;Ex&quot;;  // use fully qualified name\r\n    Class cls = Class.forName(clsName);\r\n    Object clsInstance = (Object) cls.newInstance();\r\n\r\n\r\n\r\nCheck the Java Tutorial trail on Reflection at [http://java.sun.com/docs/books/tutorial/reflect/TOC.html][1] for further details.\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/tutorial/reflect/TOC.html","title":"Getting Class type from String","body":"<pre><code>String clsName = \"Ex\";  // use fully qualified name\nClass cls = Class.forName(clsName);\nObject clsInstance = (Object) cls.newInstance();\n</code></pre>\n\n<p>Check the Java Tutorial trail on Reflection at <a href=\"http://java.sun.com/docs/books/tutorial/reflect/TOC.html\" rel=\"noreferrer\">http://java.sun.com/docs/books/tutorial/reflect/TOC.html</a> for further details.</p>\n"},{"tags":[],"owner":{"account_id":85376,"reputation":15716,"user_id":238052,"accept_rate":66,"display_name":"gmhk"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1527634390,"creation_date":1268136708,"answer_id":2408833,"question_id":2408789,"body_markdown":"You can get the Class reference of any class during run time through the Java Reflection Concept.\r\n\r\nCheck the Below Code. Explanation is given below\r\n\r\nHere is one example that uses returned Class to create an instance of AClass:\r\n\r\n    package com.xyzws;\r\n    class AClass {\r\n        public AClass() {\r\n            System.out.println(&quot;AClass&#39;s Constructor&quot;); \r\n        }  \r\n        static {   \r\n            System.out.println(&quot;static block in AClass&quot;);  \r\n        }\r\n    }\r\n    public class Program {   \r\n        public static void main(String[] args) {\r\n            try {       \r\n                System.out.println(&quot;The first time calls forName:&quot;);   \r\n                Class c = Class.forName(&quot;com.xyzws.AClass&quot;);      \r\n                AClass a = (AClass)c.newInstance();    \r\n                System.out.println(&quot;The second time calls forName:&quot;);  \r\n                Class c1 = Class.forName(&quot;com.xyzws.AClass&quot;); \r\n            } catch (ClassNotFoundException e) { \r\n                // ...\r\n            } catch (InstantiationException e) {  \r\n                // ...\r\n            } catch (IllegalAccessException e) { \r\n                // ...\r\n            }     \r\n        }\r\n    }\r\n    \r\n    \r\nThe printed output is\r\n\r\n        The first time calls forName:\r\n        static block in AClass\r\n        AClass&#39;s Constructor\r\n        The second time calls forName:\r\n        \r\nThe class has already been loaded so there is no second &quot;static block in AClass&quot; \r\n\r\n\r\n***The Explanation is below***\r\n\r\nClass.ForName is called to get a Class Object\r\n\r\nBy Using the Class Object we are creating the new instance of the Class.\r\n\r\nAny doubts about this let me know \r\n\r\n","title":"Getting Class type from String","body":"<p>You can get the Class reference of any class during run time through the Java Reflection Concept.</p>\n\n<p>Check the Below Code. Explanation is given below</p>\n\n<p>Here is one example that uses returned Class to create an instance of AClass:</p>\n\n<pre><code>package com.xyzws;\nclass AClass {\n    public AClass() {\n        System.out.println(\"AClass's Constructor\"); \n    }  \n    static {   \n        System.out.println(\"static block in AClass\");  \n    }\n}\npublic class Program {   \n    public static void main(String[] args) {\n        try {       \n            System.out.println(\"The first time calls forName:\");   \n            Class c = Class.forName(\"com.xyzws.AClass\");      \n            AClass a = (AClass)c.newInstance();    \n            System.out.println(\"The second time calls forName:\");  \n            Class c1 = Class.forName(\"com.xyzws.AClass\"); \n        } catch (ClassNotFoundException e) { \n            // ...\n        } catch (InstantiationException e) {  \n            // ...\n        } catch (IllegalAccessException e) { \n            // ...\n        }     \n    }\n}\n</code></pre>\n\n<p>The printed output is</p>\n\n<pre><code>    The first time calls forName:\n    static block in AClass\n    AClass's Constructor\n    The second time calls forName:\n</code></pre>\n\n<p>The class has already been loaded so there is no second \"static block in AClass\" </p>\n\n<p><strong><em>The Explanation is below</em></strong></p>\n\n<p>Class.ForName is called to get a Class Object</p>\n\n<p>By Using the Class Object we are creating the new instance of the Class.</p>\n\n<p>Any doubts about this let me know </p>\n"},{"tags":[],"owner":{"account_id":4228050,"reputation":1228,"user_id":3461120,"display_name":"prashant.kr.mod"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670176397,"creation_date":1670176397,"answer_id":74679342,"question_id":2408789,"body_markdown":"```\r\npublic static Class&lt;?&gt; getType(String typeName) {\r\n    if(typeName.equals(&quot;Date&quot;)) {\r\n      return Date.class;\r\n    } else if(typeName.equals(&quot;Float&quot;)) {\r\n      return Float.class;\r\n    } else if(typeName.equals(&quot;Double&quot;)) {\r\n      return Double.class;\r\n    } else if(typeName.equals(&quot;Integer&quot;)) {\r\n      return Integer.class;\r\n    }\r\n    return String.class;\r\n}","title":"Getting Class type from String","body":"<pre><code>public static Class&lt;?&gt; getType(String typeName) {\n    if(typeName.equals(&quot;Date&quot;)) {\n      return Date.class;\n    } else if(typeName.equals(&quot;Float&quot;)) {\n      return Float.class;\n    } else if(typeName.equals(&quot;Double&quot;)) {\n      return Double.class;\n    } else if(typeName.equals(&quot;Integer&quot;)) {\n      return Integer.class;\n    }\n    return String.class;\n}\n</code></pre>\n"}],"owner":{"account_id":95778,"reputation":3982,"user_id":260654,"accept_rate":71,"display_name":"Steven"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164423,"favorite_count":0,"down_vote_count":0,"up_vote_count":100,"accepted_answer_id":2408812,"answer_count":7,"score":100,"last_activity_date":1670176397,"creation_date":1268136179,"question_id":2408789,"body_markdown":"I have a `String` which has a name of a class say `&quot;Ex&quot;` (no `.class` extension). I want to assign it to a `Class` variable, like this:\r\n\r\n    Class cls = (string).class\r\n\r\nHow can i do that?","title":"Getting Class type from String","body":"<p>I have a <code>String</code> which has a name of a class say <code>\"Ex\"</code> (no <code>.class</code> extension). I want to assign it to a <code>Class</code> variable, like this:</p>\n\n<pre><code>Class cls = (string).class\n</code></pre>\n\n<p>How can i do that?</p>\n"},{"tags":["java","annotations"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1670176899,"post_id":74679323,"comment_id":131809496,"body_markdown":"The compiler? I&#39;m not aware of such a warning by Java compilers. Do you mean the IDE? If so, you are looking for annotations supported by your IDE. This question might help and looks like an exact dupe: [Telling IntelliJ IDEA which methods not to identify as unused](https://stackoverflow.com/q/5283972/112968)","body":"The compiler? I&#39;m not aware of such a warning by Java compilers. Do you mean the IDE? If so, you are looking for annotations supported by your IDE. This question might help and looks like an exact dupe: <a href=\"https://stackoverflow.com/q/5283972/112968\">Telling IntelliJ IDEA which methods not to identify as unused</a>"}],"owner":{"account_id":2102345,"reputation":109,"user_id":1869625,"display_name":"Gerald Kaplan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1670354158,"answer_count":0,"score":1,"last_activity_date":1670176294,"creation_date":1670176294,"question_id":74679323,"body_markdown":"I have a class with several public functions. Each function has an annotation that tags it so that the main application can find all functions that have that annotation. At startup, the application searches for all the functions, then adds them to a map for later use. This approach is used because the application has many of these classes, and those classes often have dozens of those functions resulting in about 160 functions.\r\n\r\nAn undesirable side effect of this design is that the functions (aka fields) are all flagged by the editor as &quot;never used&quot;. The enclosing class is also marked as &quot;never used&quot;. That is true, the functions are never explicitly used, however, certain events will cause the function to be pulled from the map and then executed, so they are indirectly executed.\r\n\r\nIs there a way to have the annotation signal to the compiler that the function is used, thus removing the warning for both the field and the parent class?\r\n\r\nHere&#39;s a visual of what I&#39;m trying to describe:\r\n\r\nThe annotation:\r\n```\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target(ElementType.FIELD)\r\npublic @interface FindMe{\r\n    String value() default &quot;&quot;;\r\n}\r\n```\r\n\r\nThe class with the function:\r\n```\r\npublic class MyClass {\r\n\r\n   @FindMe(&quot;abc&quot;)\r\n   public static MyFunctionalInterface someFunction = (task) -&gt; {\r\n      ...\r\n   }\r\n}\r\n```\r\nIn the above example, MyClass, as well as someFunction, are seen as unused.\r\n\r\nIs there a way to make the compiler think they are actually used?","title":"Java annotation that sets target as &quot;used&quot;","body":"<p>I have a class with several public functions. Each function has an annotation that tags it so that the main application can find all functions that have that annotation. At startup, the application searches for all the functions, then adds them to a map for later use. This approach is used because the application has many of these classes, and those classes often have dozens of those functions resulting in about 160 functions.</p>\n<p>An undesirable side effect of this design is that the functions (aka fields) are all flagged by the editor as &quot;never used&quot;. The enclosing class is also marked as &quot;never used&quot;. That is true, the functions are never explicitly used, however, certain events will cause the function to be pulled from the map and then executed, so they are indirectly executed.</p>\n<p>Is there a way to have the annotation signal to the compiler that the function is used, thus removing the warning for both the field and the parent class?</p>\n<p>Here's a visual of what I'm trying to describe:</p>\n<p>The annotation:</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.FIELD)\npublic @interface FindMe{\n    String value() default &quot;&quot;;\n}\n</code></pre>\n<p>The class with the function:</p>\n<pre><code>public class MyClass {\n\n   @FindMe(&quot;abc&quot;)\n   public static MyFunctionalInterface someFunction = (task) -&gt; {\n      ...\n   }\n}\n</code></pre>\n<p>In the above example, MyClass, as well as someFunction, are seen as unused.</p>\n<p>Is there a way to make the compiler think they are actually used?</p>\n"},{"tags":["java","algorithm","graph","breadth-first-search"],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670167131,"creation_date":1670167131,"answer_id":74677955,"question_id":74677457,"body_markdown":"You should not try to get the sibling of a node. If you push the *children* of the current node to the queue, you will guarantee that you pull them out of the queue in sibling order. The important thing here is that you visit a node when it is *pulled* from the queue, not when it is added to the queue.\r\n\r\nSo your function could be turned into this:\r\n\r\n```\r\n    public static List&lt;Node&gt; bfs(Node root){\r\n        Queue&lt;Node&gt; queue = new LinkedList&lt;&gt;();\r\n        List&lt;Node&gt; result = new ArrayList&lt;&gt;();\r\n        if (root == null){\r\n            return result;\r\n        }\r\n        queue.add(root); // Don&#39;t visit this root node yet...\r\n        while (!queue.isEmpty())\r\n        {\r\n            Node node = queue.poll();\r\n            result.add(node); // Here we visit the node\r\n            // Add the children of the visited node to the queue\r\n            if (node.left != null) queue.add(node.left);\r\n            if (node.right != null) queue.add(node.right);\r\n        }\r\n        return result;\r\n    }\r\n```\r\n \r\nThe caller can do this:\r\n\r\n```\r\n    for (Node node : bfs(node1)) {\r\n        System.out.println(node.data);\r\n    }\r\n``` \r\n","title":"BFS (Breadth First Search) Algorithm in Java -&gt; Cannot implement bfs by not getting node&#39;s siblings","body":"<p>You should not try to get the sibling of a node. If you push the <em>children</em> of the current node to the queue, you will guarantee that you pull them out of the queue in sibling order. The important thing here is that you visit a node when it is <em>pulled</em> from the queue, not when it is added to the queue.</p>\n<p>So your function could be turned into this:</p>\n<pre><code>    public static List&lt;Node&gt; bfs(Node root){\n        Queue&lt;Node&gt; queue = new LinkedList&lt;&gt;();\n        List&lt;Node&gt; result = new ArrayList&lt;&gt;();\n        if (root == null){\n            return result;\n        }\n        queue.add(root); // Don't visit this root node yet...\n        while (!queue.isEmpty())\n        {\n            Node node = queue.poll();\n            result.add(node); // Here we visit the node\n            // Add the children of the visited node to the queue\n            if (node.left != null) queue.add(node.left);\n            if (node.right != null) queue.add(node.right);\n        }\n        return result;\n    }\n</code></pre>\n<p>The caller can do this:</p>\n<pre><code>    for (Node node : bfs(node1)) {\n        System.out.println(node.data);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670171989,"creation_date":1670171313,"answer_id":74678578,"question_id":74677457,"body_markdown":"Since `Node` has a property `isVisited`, I assume that there could be cycles in the Graph.\r\n\r\nThe algorithm can be described in the following steps:\r\n\r\n* Mark the `root` Node as visited and put it into the Queue.\r\n\r\n* Then until the Queue is not empty, repeat:\r\n   * Remove the Node (`current` Node) from the head of the Queue;\r\n   * Check its `left` and `right` child-Nodes. If a child-Node exists (i.e. not `null`) and hasn&#39;t been visited yet, then add this node both into the Queue and resulting list of sibling-Nodes and set `isVisited` property of the child-Node to `true`.\r\n\r\nThat&#39;s how it might be implemented:\r\n\r\n    public static List&lt;Node&gt; bfs(Node root) {\r\n        if (root == null) return Collections.emptyList();\r\n        \r\n        List&lt;Node&gt; siblings = new ArrayList&lt;&gt;();\r\n        Queue&lt;Node&gt; queue = new ArrayDeque&lt;&gt;(); // performs better than LinkedList\r\n        \r\n        queue.add(root);\r\n        // siblings.add(root); // uncomment this line ONLY if you need the root-Node to be present in the result\r\n        root.visited = true;\r\n        \r\n        while (!queue.isEmpty()) {\r\n            Node current = queue.poll();\r\n    \r\n            tryAdd(siblings, queue, current.left);\r\n            tryAdd(siblings, queue, current.right);\r\n        }\r\n        return siblings;\r\n    }\r\n    \r\n    public static void tryAdd(List&lt;Node&gt; siblings, Queue&lt;Node&gt; queue, Node next) {\r\n        if (next != null &amp;&amp; !next.isVisited()) {\r\n            queue.add(next);\r\n            siblings.add(next);\r\n            next.setVisited(true);\r\n        }\r\n    }\r\n\r\nTo avoid repeating the same actions for both `left` and `right` child-Nodes, I&#39;ve created method `tryAdd()`.\r\n\r\nWe can alter its conditional logic by introducing a `Predicate` (*in this case condition is short and well readable, and this option is shown rather for education purposes*):\r\n\r\n    public static final Predicate&lt;Node&gt; IS_NULL_OR_VISITED =\r\n        Predicate.&lt;Node&gt;isEqual(null).or(Node::isVisited);\r\n    \r\n    public static void tryAdd(List&lt;Node&gt; siblings, Queue&lt;Node&gt; queue, Node next) {\r\n        if (IS_NULL_OR_VISITED.test(next)) return;\r\n        \r\n        queue.add(next);\r\n        siblings.add(next);\r\n        next.setVisited(true);\r\n    }","title":"BFS (Breadth First Search) Algorithm in Java -&gt; Cannot implement bfs by not getting node&#39;s siblings","body":"<p>Since <code>Node</code> has a property <code>isVisited</code>, I assume that there could be cycles in the Graph.</p>\n<p>The algorithm can be described in the following steps:</p>\n<ul>\n<li><p>Mark the <code>root</code> Node as visited and put it into the Queue.</p>\n</li>\n<li><p>Then until the Queue is not empty, repeat:</p>\n<ul>\n<li>Remove the Node (<code>current</code> Node) from the head of the Queue;</li>\n<li>Check its <code>left</code> and <code>right</code> child-Nodes. If a child-Node exists (i.e. not <code>null</code>) and hasn't been visited yet, then add this node both into the Queue and resulting list of sibling-Nodes and set <code>isVisited</code> property of the child-Node to <code>true</code>.</li>\n</ul>\n</li>\n</ul>\n<p>That's how it might be implemented:</p>\n<pre><code>public static List&lt;Node&gt; bfs(Node root) {\n    if (root == null) return Collections.emptyList();\n    \n    List&lt;Node&gt; siblings = new ArrayList&lt;&gt;();\n    Queue&lt;Node&gt; queue = new ArrayDeque&lt;&gt;(); // performs better than LinkedList\n    \n    queue.add(root);\n    // siblings.add(root); // uncomment this line ONLY if you need the root-Node to be present in the result\n    root.visited = true;\n    \n    while (!queue.isEmpty()) {\n        Node current = queue.poll();\n\n        tryAdd(siblings, queue, current.left);\n        tryAdd(siblings, queue, current.right);\n    }\n    return siblings;\n}\n\npublic static void tryAdd(List&lt;Node&gt; siblings, Queue&lt;Node&gt; queue, Node next) {\n    if (next != null &amp;&amp; !next.isVisited()) {\n        queue.add(next);\n        siblings.add(next);\n        next.setVisited(true);\n    }\n}\n</code></pre>\n<p>To avoid repeating the same actions for both <code>left</code> and <code>right</code> child-Nodes, I've created method <code>tryAdd()</code>.</p>\n<p>We can alter its conditional logic by introducing a <code>Predicate</code> (<em>in this case condition is short and well readable, and this option is shown rather for education purposes</em>):</p>\n<pre><code>public static final Predicate&lt;Node&gt; IS_NULL_OR_VISITED =\n    Predicate.&lt;Node&gt;isEqual(null).or(Node::isVisited);\n\npublic static void tryAdd(List&lt;Node&gt; siblings, Queue&lt;Node&gt; queue, Node next) {\n    if (IS_NULL_OR_VISITED.test(next)) return;\n    \n    queue.add(next);\n    siblings.add(next);\n    next.setVisited(true);\n}\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1670175387,"creation_date":1670163518,"question_id":74677457,"body_markdown":"I have a problem about getting all siblings from the main node and implementing the process n Breadth First Search algorithm written by Java.\r\n\r\nHow can I implement that?\r\n\r\nI shared my code snippets shown below.\r\n\r\nHere is my Node class shown below.\r\n\r\n    public class Node{\r\n        Node(int data){\r\n           this.data = data;\r\n           this.left = null;\r\n           this.right = null;\r\n           this.visited = false;\r\n        }\r\n        int data;\r\n        Node left;\r\n        Node right;\r\n        boolean visited;\r\n    \r\n        // getter and setter \r\n    }\r\n\r\nHere is the initilaization process shown below.\r\n\r\n    Node node1 = new Node(1);\r\n    Node node7 = new Node(7);\r\n    Node node9 = new Node(9);\r\n    Node node8 = new Node(8);\r\n    Node node2 = new Node(2);\r\n    Node node3 = new Node(3);\r\n    node1.left = node7;\r\n    node1.right = node9;\r\n    node7.right = node8;\r\n    node9.right = node3;\r\n    node9.left = node2;\r\n\r\nHere is the method shown below.\r\n\r\n    public static void bfs(Node root){\r\n        \tif (root == null){\r\n                return;\r\n            }\r\n        \t\r\n            Node temp; //a binary tree with a inner generic node class\r\n            Queue&lt;Node&gt; queue = new LinkedList&lt;&gt;(); //can&#39;t instantiate a Queue since abstract, so use LLQueue\r\n            \r\n            queue.add(root);\r\n            root.visited = true;\r\n            while (!queue.isEmpty())\r\n            {\r\n                temp = queue.poll(); //remove the node from the queue\r\n                \r\n                // How can I get all siblings of the node like\r\n                // for (Node sibling : temp.getSiblingNodes())\r\n                // sibling.visited=true;\r\n                // queue.add(sibling);\r\n                \r\n            }\r\n    \r\n            // get the result as a list\r\n        }","title":"BFS (Breadth First Search) Algorithm in Java -&gt; Cannot implement bfs by not getting node&#39;s siblings","body":"<p>I have a problem about getting all siblings from the main node and implementing the process n Breadth First Search algorithm written by Java.</p>\n<p>How can I implement that?</p>\n<p>I shared my code snippets shown below.</p>\n<p>Here is my Node class shown below.</p>\n<pre><code>public class Node{\n    Node(int data){\n       this.data = data;\n       this.left = null;\n       this.right = null;\n       this.visited = false;\n    }\n    int data;\n    Node left;\n    Node right;\n    boolean visited;\n\n    // getter and setter \n}\n</code></pre>\n<p>Here is the initilaization process shown below.</p>\n<pre><code>Node node1 = new Node(1);\nNode node7 = new Node(7);\nNode node9 = new Node(9);\nNode node8 = new Node(8);\nNode node2 = new Node(2);\nNode node3 = new Node(3);\nnode1.left = node7;\nnode1.right = node9;\nnode7.right = node8;\nnode9.right = node3;\nnode9.left = node2;\n</code></pre>\n<p>Here is the method shown below.</p>\n<pre><code>public static void bfs(Node root){\n        if (root == null){\n            return;\n        }\n        \n        Node temp; //a binary tree with a inner generic node class\n        Queue&lt;Node&gt; queue = new LinkedList&lt;&gt;(); //can't instantiate a Queue since abstract, so use LLQueue\n        \n        queue.add(root);\n        root.visited = true;\n        while (!queue.isEmpty())\n        {\n            temp = queue.poll(); //remove the node from the queue\n            \n            // How can I get all siblings of the node like\n            // for (Node sibling : temp.getSiblingNodes())\n            // sibling.visited=true;\n            // queue.add(sibling);\n            \n        }\n\n        // get the result as a list\n    }\n</code></pre>\n"},{"tags":["java","java.util.scanner","dijkstra","adjacency-matrix"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1670103915,"post_id":74670961,"comment_id":131796893,"body_markdown":"Welcome to Stack Overflow.\nPlease take the [tour] to learn how Stack Overflow works and read [ask] on how to improve the quality of your question.\nIt is unclear what you are asking or what the problem is.","body":"Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> on how to improve the quality of your question. It is unclear what you are asking or what the problem is."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":2,"creation_date":1670103956,"post_id":74670961,"comment_id":131796899,"body_markdown":"You might want to look at other questions like https://stackoverflow.com/questions/13832880/initialize-2d-array","body":"You might want to look at other questions like <a href=\"https://stackoverflow.com/questions/13832880/initialize-2d-array\">stackoverflow.com/questions/13832880/initialize-2d-array</a>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1670106512,"post_id":74670961,"comment_id":131797316,"body_markdown":"Use &quot;something different&quot; instead of `System.in`..?","body":"Use &quot;something different&quot; instead of <code>System.in</code>..?"}],"owner":{"account_id":16435628,"reputation":21,"user_id":11873299,"display_name":"Akhil 546u"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":0,"score":0,"last_activity_date":1670174688,"creation_date":1670103642,"question_id":74670961,"body_markdown":"```\r\ntry\r\n{\r\n    System.out.println(&quot;Enter the number of vertices&quot;);\r\n    number_of_vertices = scan.nextInt();\r\n    adjacency_matrix = new int[number_of_vertices + 1][number_of_vertices + 1];\r\n \r\n    System.out.println(&quot;Enter the Weighted Matrix for the graph&quot;);\r\n    for (int i = 1; i &lt;= number_of_vertices; i++)\r\n    {\r\n        for (int j = 1; j &lt;= number_of_vertices; j++)\r\n        {\r\n            adjacency_matrix[i][j] = scan.nextInt();\r\n            if (i == j)\r\n            {\r\n                adjacency_matrix[i][j] = 0;\r\n                continue;\r\n            }\r\n            if (adjacency_matrix[i][j] == 0)\r\n            {\r\n                adjacency_matrix[i][j] = Integer.MAX_VALUE;\r\n            }\r\n        }\r\n    }\r\n```\r\nThis is what the user input looks like:\r\n\r\n    Enter the number of vertices\r\n    5\r\n    Enter the Weighted Matrix for the graph\r\n    0 9 6 5 3 \r\n    0 0 0 0 0\r\n    0 2 0 4 0\r\n    0 0 0 0 0\r\n    0 0 0 0 0\r\n\r\nHow would I be able to hard code the matrix into the program rather than ask the user to enter the matrix?\r\n\r\n","title":"How to change from user input of adjacency matrix into hard coding it into the program?","body":"<pre><code>try\n{\n    System.out.println(&quot;Enter the number of vertices&quot;);\n    number_of_vertices = scan.nextInt();\n    adjacency_matrix = new int[number_of_vertices + 1][number_of_vertices + 1];\n \n    System.out.println(&quot;Enter the Weighted Matrix for the graph&quot;);\n    for (int i = 1; i &lt;= number_of_vertices; i++)\n    {\n        for (int j = 1; j &lt;= number_of_vertices; j++)\n        {\n            adjacency_matrix[i][j] = scan.nextInt();\n            if (i == j)\n            {\n                adjacency_matrix[i][j] = 0;\n                continue;\n            }\n            if (adjacency_matrix[i][j] == 0)\n            {\n                adjacency_matrix[i][j] = Integer.MAX_VALUE;\n            }\n        }\n    }\n</code></pre>\n<p>This is what the user input looks like:</p>\n<pre><code>Enter the number of vertices\n5\nEnter the Weighted Matrix for the graph\n0 9 6 5 3 \n0 0 0 0 0\n0 2 0 4 0\n0 0 0 0 0\n0 0 0 0 0\n</code></pre>\n<p>How would I be able to hard code the matrix into the program rather than ask the user to enter the matrix?</p>\n"},{"tags":["java","mulesoft","mule4","mule-sdk"],"comments":[{"owner":{"account_id":14848248,"reputation":2797,"user_id":10946202,"display_name":"Harshank Bansal"},"score":0,"creation_date":1659533690,"post_id":73222396,"comment_id":129317563,"body_markdown":"You mentioned about a custom connector. Can you tell more about it? Is it based on XML SDK or Java SDK? How are you converting the JSON right now and what is the issue that you are facing?","body":"You mentioned about a custom connector. Can you tell more about it? Is it based on XML SDK or Java SDK? How are you converting the JSON right now and what is the issue that you are facing?"},{"owner":{"account_id":16262214,"reputation":141,"user_id":11743247,"display_name":"Bora M.s."},"score":0,"creation_date":1659544786,"post_id":73222396,"comment_id":129321317,"body_markdown":"Java SDK.\nwhile making a call to webservice I am referring to the Items.java file to format the response to json output.","body":"Java SDK. while making a call to webservice I am referring to the Items.java file to format the response to json output."},{"owner":{"account_id":14848248,"reputation":2797,"user_id":10946202,"display_name":"Harshank Bansal"},"score":0,"creation_date":1659549057,"post_id":73222396,"comment_id":129322815,"body_markdown":"Okay, so you are calling the web service using Java. Can you share the few lines of code showing how you are trying to convert the response to `Items` Object. By the looks of it you have defined `@SerializedName(&quot;Items&quot;)` for the list, however you are getting `value` in response. But can&#39;t say for sure as I don&#39;t know if you are maybe doing some other transformation to response before converting, so the code and the error will be helpful","body":"Okay, so you are calling the web service using Java. Can you share the few lines of code showing how you are trying to convert the response to <code>Items</code> Object. By the looks of it you have defined <code>@SerializedName(&quot;Items&quot;)</code> for the list, however you are getting <code>value</code> in response. But can&#39;t say for sure as I don&#39;t know if you are maybe doing some other transformation to response before converting, so the code and the error will be helpful"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1659574193,"post_id":73222396,"comment_id":129329100,"body_markdown":"Is it a requirement to use the GSON library or any other methods to transform the JSON input to the Java classes shared is acceptable?","body":"Is it a requirement to use the GSON library or any other methods to transform the JSON input to the Java classes shared is acceptable?"}],"owner":{"account_id":16262214,"reputation":141,"user_id":11743247,"display_name":"Bora M.s."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670174663,"creation_date":1659532436,"question_id":73222396,"body_markdown":"I am trying to parse the JSON response from webservice in my custom connector for Mule 4\r\nhere is my JSON response from webservice\r\n\r\n    {\r\n      &quot;value&quot;: [\r\n        {\r\n          &quot;contentType&quot;: &quot;plainText&quot;,\r\n          &quot;id&quot;: &quot;listItems0&quot;,\r\n        },\r\n        {\r\n          &quot;contentType&quot;: &quot;plainText&quot;,\r\n          &quot;id&quot;: &quot;listItems0&quot;,\r\n        }\r\n      ],\r\n      &quot;Success&quot;: &quot;&quot;\r\n    }\r\n\r\nhere is my Java code for response I am referring to\r\n\r\nItems.java \r\n\r\n    import java.util.*;\r\n    import com.google.gson.annotations.Expose;\r\n    import com.google.gson.annotations.SerializedName;\r\n    \r\n    public class Items {\r\n    \r\n    @SerializedName(&quot;Items&quot;)\r\n    @Expose\r\n    private List&lt;ListItems&gt; ItemsList = null;\r\n    \r\n    public List&lt;ListItems&gt; getValue() {\r\n    \t   return ItemsList;\r\n    \t}\r\n    public void setValue(List&lt;ListItems&gt; Items) {\r\n        this.ItemsList= Items;\r\n    }\r\n-----------------------------------------------------------------\r\nListItems.java\r\n\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    import com.google.gson.annotations.Expose;\r\n    import com.google.gson.annotations.SerializedName;\r\n    \r\n    public class ListItems{\r\n    \r\n    \t  @SerializedName(value = &quot;contentType&quot;)\r\n    \t  private String contentType;\r\n    \r\n    \t  @SerializedName(value = &quot;id&quot;)\r\n    \t  private String id;\r\n    \r\n    \r\n    \t  public String getContentType() {\r\n    \t    return contentType;\r\n    \t  }\r\n    \r\n    \t  public void setContentType(String contentType) {\r\n    \t    this.contentType = contentType;\r\n    \t  }\r\n    \r\n    \t  public String getId() {\r\n    \t    return id;\r\n    \t  }\r\n    \r\n    \t  public void setId(String id) {\r\n    \t    this.id = id;\r\n    \t  }\r\n    \r\n    }\r\n\r\n\r\nI tried other answers from here as well but I am not able to get any response.\r\n\r\nDue to some restriction I will not be able to share the whole code. but even if I get these files reviewed, it will be most helpful to me.","title":"Parse JSON array response using Gson in mule custom connector","body":"<p>I am trying to parse the JSON response from webservice in my custom connector for Mule 4\nhere is my JSON response from webservice</p>\n<pre><code>{\n  &quot;value&quot;: [\n    {\n      &quot;contentType&quot;: &quot;plainText&quot;,\n      &quot;id&quot;: &quot;listItems0&quot;,\n    },\n    {\n      &quot;contentType&quot;: &quot;plainText&quot;,\n      &quot;id&quot;: &quot;listItems0&quot;,\n    }\n  ],\n  &quot;Success&quot;: &quot;&quot;\n}\n</code></pre>\n<p>here is my Java code for response I am referring to</p>\n<p>Items.java</p>\n<pre><code>import java.util.*;\nimport com.google.gson.annotations.Expose;\nimport com.google.gson.annotations.SerializedName;\n\npublic class Items {\n\n@SerializedName(&quot;Items&quot;)\n@Expose\nprivate List&lt;ListItems&gt; ItemsList = null;\n\npublic List&lt;ListItems&gt; getValue() {\n       return ItemsList;\n    }\npublic void setValue(List&lt;ListItems&gt; Items) {\n    this.ItemsList= Items;\n}\n</code></pre>\n<hr />\n<p>ListItems.java</p>\n<pre><code>import java.util.List;\nimport java.util.Map;\n\nimport com.google.gson.annotations.Expose;\nimport com.google.gson.annotations.SerializedName;\n\npublic class ListItems{\n\n      @SerializedName(value = &quot;contentType&quot;)\n      private String contentType;\n\n      @SerializedName(value = &quot;id&quot;)\n      private String id;\n\n\n      public String getContentType() {\n        return contentType;\n      }\n\n      public void setContentType(String contentType) {\n        this.contentType = contentType;\n      }\n\n      public String getId() {\n        return id;\n      }\n\n      public void setId(String id) {\n        this.id = id;\n      }\n\n}\n</code></pre>\n<p>I tried other answers from here as well but I am not able to get any response.</p>\n<p>Due to some restriction I will not be able to share the whole code. but even if I get these files reviewed, it will be most helpful to me.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":2,"creation_date":1670174525,"post_id":74679036,"comment_id":131808894,"body_markdown":"Yes, everything happens in `run`.","body":"Yes, everything happens in <code>run</code>."}],"answers":[{"tags":[],"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1670174652,"creation_date":1670174652,"answer_id":74679076,"question_id":74679036,"body_markdown":"This took me a while to figure out as well...\r\n\r\nYour class `Application` is the &#39;main&#39; class.  It is calling a static method on `SpringApplication`.\r\n\r\nIt is the `SpringApplication` class that actually starts the entire Spring Boot process and all the code that will check for the Spring Annotations and things like that.\r\n\r\nI have never looked at the code behind that class, but it has to be tremendous.","title":"At what stage is @SpringBootApplication executed in spring boot application?","body":"<p>This took me a while to figure out as well...</p>\n<p>Your class <code>Application</code> is the 'main' class.  It is calling a static method on <code>SpringApplication</code>.</p>\n<p>It is the <code>SpringApplication</code> class that actually starts the entire Spring Boot process and all the code that will check for the Spring Annotations and things like that.</p>\n<p>I have never looked at the code behind that class, but it has to be tremendous.</p>\n"}],"owner":{"account_id":4197388,"reputation":8387,"user_id":3438473,"accept_rate":58,"display_name":"CuriousMind"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":250,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74679076,"answer_count":1,"score":0,"last_activity_date":1670174652,"creation_date":1670174359,"question_id":74679036,"body_markdown":"When writing a Spring Boot application, we have code like this:\r\n\r\n```\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(Application.class, args);\r\n\t}\r\n}\r\n```\r\nWhich means, it can run as a standalone application(having `main` method) - so far, so good.\r\n\r\nMy doubt starts here:\r\n\r\nThe `main` would be invoked by  JVM, so it will see main method, and then execute the line:\r\n\r\n     SpringApplication.run(Application.class, args);\r\n\r\nThen, who does check the annotation ```@SpringBootApplication```  - is it interpreted on-the-fly once control goes into Spring framework when JVM executes the first line?","title":"At what stage is @SpringBootApplication executed in spring boot application?","body":"<p>When writing a Spring Boot application, we have code like this:</p>\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n<p>Which means, it can run as a standalone application(having <code>main</code> method) - so far, so good.</p>\n<p>My doubt starts here:</p>\n<p>The <code>main</code> would be invoked by  JVM, so it will see main method, and then execute the line:</p>\n<pre><code> SpringApplication.run(Application.class, args);\n</code></pre>\n<p>Then, who does check the annotation <code>@SpringBootApplication</code>  - is it interpreted on-the-fly once control goes into Spring framework when JVM executes the first line?</p>\n"},{"tags":["java","inputstream","java-io","outputstream"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1670001780,"post_id":74658536,"comment_id":131778880,"body_markdown":"What about `finalInputStream.transferTo(output2)`?","body":"What about <code>finalInputStream.transferTo(output2)</code>?"},{"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1670054179,"post_id":74658536,"comment_id":131787451,"body_markdown":"@dan1st Thanks a lot for response. I tried this but this is not working for some reason.","body":"@dan1st Thanks a lot for response. I tried this but this is not working for some reason."}],"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670174160,"creation_date":1669997229,"question_id":74658536,"body_markdown":"I would like to copy one `PipedOutputStream` to another `PipedOutputStream` is it possible to do using the best practices and memory efficiently?\r\n\r\nI have a method that writes the values to `PipedOutputStream output1` but after completing the whole process, I would like to copy these values into another `PipedOutputStream output2`. Is there a way to achieve this?\r\n\r\nFollowing is the method that I have:\r\n\r\n```\r\nprivate InputStream converterMethod(final InputStream inputDocument) {\r\n    try {\r\n\r\n        final ExecutorService executorService = Executors.newWorkStealingPool();\r\n\r\n        final PipedOutputStream output1 = new PipedOutputStream();\r\n        final CurrentHandler handler = new CurrentHandler(output1);\r\n\r\n        final PipedOutputStream output2 = new PipedOutputStream();\r\n        final InputStream finalInputStream = new PipedInputStream(output2);\r\n\r\n        executorService.execute(\r\n            () -&gt; {\r\n            try {\r\n                new ConverterApplication().convert(inputDocument, handler);\r\n                output1.close();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            });\r\n\r\n        executorService.execute(() -&gt;{\r\n        try {\r\n            //Planning to copy the output1 to output2 in the best way possible.\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        });\r\n\r\n        return finalInputStream;\r\n    } catch (Exception e) {\r\n        throw new MyCustomException(&quot;Exception occurred during&quot;);\r\n    }\r\n}\r\n```\r\n\r\nI tried to keep only one `PipedOutputStream` something like this, in this case everything works fine, but when I make a call to this function from my Quarkus RestAPI then I am getting the error:\r\n```\r\nThread Thread[vert.x-eventloop-thread-0,5,main] has been blocked for 620239 ms, time limit is 2000 ms: io.vertx.core.VertxException: Thread blocked\r\nat java.base@17.0.3/java.lang.Object.wait(Native Method)\r\nat java.base@17.0.3/java.io.PipedInputStream.read(PipedInputStream.java:326)\r\nat java.base@17.0.3/java.io.PipedInputStream.read(PipedInputStream.java:377)\r\nat java.base@17.0.3/java.io.InputStream.read(InputStream.java:218)\r\nat org.jboss.resteasy.reactive.common.providers.serialisers.InputStreamMessageBodyHandler.writeTo(InputStreamMessageBodyHandler.java:39)\r\nat org.jboss.resteasy.reactive.server.providers.serialisers.ServerInputStreamMessageBodyHandler.writeResponse(ServerInputStreamMessageBodyHandler.java:46)\r\nat org.jboss.resteasy.reactive.server.providers.serialisers.ServerInputStreamMessageBodyHandler.writeResponse(ServerInputStreamMessageBodyHandler.java:16)\r\n```\r\n\r\n```\r\nprivate InputStream converterMethod(final InputStream inputDocument) {\r\n    try {\r\n\r\n        final ExecutorService executorService = Executors.newWorkStealingPool();\r\n\r\n        final PipedOutputStream output1 = new PipedOutputStream();\r\n        final CurrentHandler handler = new CurrentHandler(output1);\r\n\r\n        final InputStream finalInputStream = new PipedInputStream(output1);\r\n\r\n        executorService.execute(\r\n            () -&gt; {\r\n            try {\r\n                new ConverterApplication().convert(inputDocument, handler);\r\n                output1.close();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        });\r\n\r\n        return finalInputStream;\r\n    } catch (Exception e) {\r\n        throw new MyCustomException(&quot;Exception occurred during&quot;);\r\n    }\r\n}\r\n```\r\n\r\nBasically al I want to achieve is how to obtain the final information as InputStream from my `ConverterApplication()`","title":"How to efficiently copy one PipedOutputStream to another PipedOutputStream?","body":"<p>I would like to copy one <code>PipedOutputStream</code> to another <code>PipedOutputStream</code> is it possible to do using the best practices and memory efficiently?</p>\n<p>I have a method that writes the values to <code>PipedOutputStream output1</code> but after completing the whole process, I would like to copy these values into another <code>PipedOutputStream output2</code>. Is there a way to achieve this?</p>\n<p>Following is the method that I have:</p>\n<pre><code>private InputStream converterMethod(final InputStream inputDocument) {\n    try {\n\n        final ExecutorService executorService = Executors.newWorkStealingPool();\n\n        final PipedOutputStream output1 = new PipedOutputStream();\n        final CurrentHandler handler = new CurrentHandler(output1);\n\n        final PipedOutputStream output2 = new PipedOutputStream();\n        final InputStream finalInputStream = new PipedInputStream(output2);\n\n        executorService.execute(\n            () -&gt; {\n            try {\n                new ConverterApplication().convert(inputDocument, handler);\n                output1.close();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n            });\n\n        executorService.execute(() -&gt;{\n        try {\n            //Planning to copy the output1 to output2 in the best way possible.\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        });\n\n        return finalInputStream;\n    } catch (Exception e) {\n        throw new MyCustomException(&quot;Exception occurred during&quot;);\n    }\n}\n</code></pre>\n<p>I tried to keep only one <code>PipedOutputStream</code> something like this, in this case everything works fine, but when I make a call to this function from my Quarkus RestAPI then I am getting the error:</p>\n<pre><code>Thread Thread[vert.x-eventloop-thread-0,5,main] has been blocked for 620239 ms, time limit is 2000 ms: io.vertx.core.VertxException: Thread blocked\nat java.base@17.0.3/java.lang.Object.wait(Native Method)\nat java.base@17.0.3/java.io.PipedInputStream.read(PipedInputStream.java:326)\nat java.base@17.0.3/java.io.PipedInputStream.read(PipedInputStream.java:377)\nat java.base@17.0.3/java.io.InputStream.read(InputStream.java:218)\nat org.jboss.resteasy.reactive.common.providers.serialisers.InputStreamMessageBodyHandler.writeTo(InputStreamMessageBodyHandler.java:39)\nat org.jboss.resteasy.reactive.server.providers.serialisers.ServerInputStreamMessageBodyHandler.writeResponse(ServerInputStreamMessageBodyHandler.java:46)\nat org.jboss.resteasy.reactive.server.providers.serialisers.ServerInputStreamMessageBodyHandler.writeResponse(ServerInputStreamMessageBodyHandler.java:16)\n</code></pre>\n<pre><code>private InputStream converterMethod(final InputStream inputDocument) {\n    try {\n\n        final ExecutorService executorService = Executors.newWorkStealingPool();\n\n        final PipedOutputStream output1 = new PipedOutputStream();\n        final CurrentHandler handler = new CurrentHandler(output1);\n\n        final InputStream finalInputStream = new PipedInputStream(output1);\n\n        executorService.execute(\n            () -&gt; {\n            try {\n                new ConverterApplication().convert(inputDocument, handler);\n                output1.close();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        });\n\n        return finalInputStream;\n    } catch (Exception e) {\n        throw new MyCustomException(&quot;Exception occurred during&quot;);\n    }\n}\n</code></pre>\n<p>Basically al I want to achieve is how to obtain the final information as InputStream from my <code>ConverterApplication()</code></p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":17320169,"reputation":1,"user_id":12545836,"display_name":"iamoem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670173914,"creation_date":1670173914,"answer_id":74678971,"question_id":70552323,"body_markdown":"Have you checked the `copyResult` if it is success?\r\nI recently used **PixelCopy**, and it worked very well!\r\nI will provide the code. \r\n\r\nFirst we get the view coordinates on the window as a **Rect**:\r\n\r\n    fun getViewRect(screenshotView: View): Rect {\r\n        val viewPadding = 8.toIntPixel(this)\r\n\r\n        val viewLocation = IntArray(2)\r\n        screenshotView.getLocationInWindow(viewLocation)\r\n\r\n        return Rect(\r\n            viewLocation[0] - viewPadding,\r\n            viewLocation[1] - viewPadding,\r\n            viewLocation[0] + screenshotView.width + viewPadding,\r\n            viewLocation[1] + screenshotView.height + viewPadding\r\n        )\r\n    }\r\n\r\nthen we write a function to take a screenshot:\r\n\r\n    fun takeScreenshot(\r\n        activity: Activity,\r\n        viewRect: Rect,\r\n        onSuccess: (Bitmap) -&gt; Unit\r\n    ) {\r\n        val bitmap = Bitmap.createBitmap(viewRect.width(), viewRect.height(), Bitmap.Config.ARGB_8888)\r\n        PixelCopy.request(activity.window, viewRect, bitmap, \r\n            { copyResult -&gt;\r\n                if (copyResult == PixelCopy.SUCCESS) {\r\n                    onSuccess(bitmap)\r\n                } else {\r\n                    error(&quot;problem with taking a screenshot&quot;)\r\n                }\r\n                bitmap.recycle()\r\n            },\r\n            Handler(Looper.getMainLooper())\r\n        )\r\n    }\r\n\r\nthen you can call the function:\r\n\r\n    takeScreenshot(activity, activity.getViewRect()) { bitmap -&gt;\r\n        saveImageToFile(bitmap, &quot;myfilename.png&quot;)\r\n    }","title":"Using PixelCopy.request() to save a screenshot of a SurfaceView returns a black bitmap","body":"<p>Have you checked the <code>copyResult</code> if it is success?\nI recently used <strong>PixelCopy</strong>, and it worked very well!\nI will provide the code.</p>\n<p>First we get the view coordinates on the window as a <strong>Rect</strong>:</p>\n<pre><code>fun getViewRect(screenshotView: View): Rect {\n    val viewPadding = 8.toIntPixel(this)\n\n    val viewLocation = IntArray(2)\n    screenshotView.getLocationInWindow(viewLocation)\n\n    return Rect(\n        viewLocation[0] - viewPadding,\n        viewLocation[1] - viewPadding,\n        viewLocation[0] + screenshotView.width + viewPadding,\n        viewLocation[1] + screenshotView.height + viewPadding\n    )\n}\n</code></pre>\n<p>then we write a function to take a screenshot:</p>\n<pre><code>fun takeScreenshot(\n    activity: Activity,\n    viewRect: Rect,\n    onSuccess: (Bitmap) -&gt; Unit\n) {\n    val bitmap = Bitmap.createBitmap(viewRect.width(), viewRect.height(), Bitmap.Config.ARGB_8888)\n    PixelCopy.request(activity.window, viewRect, bitmap, \n        { copyResult -&gt;\n            if (copyResult == PixelCopy.SUCCESS) {\n                onSuccess(bitmap)\n            } else {\n                error(&quot;problem with taking a screenshot&quot;)\n            }\n            bitmap.recycle()\n        },\n        Handler(Looper.getMainLooper())\n    )\n}\n</code></pre>\n<p>then you can call the function:</p>\n<pre><code>takeScreenshot(activity, activity.getViewRect()) { bitmap -&gt;\n    saveImageToFile(bitmap, &quot;myfilename.png&quot;)\n}\n</code></pre>\n"}],"owner":{"account_id":7690662,"reputation":735,"user_id":5827082,"display_name":"Savithru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670173914,"creation_date":1641075920,"question_id":70552323,"body_markdown":"I&#39;m developing an app where I need to save the content drawn on a SurfaceView canvas to an image file. I read that the PixelCopy API can be used to do this after API level 24, but so far my code only returns an empty, black bitmap.\r\n\r\nHere&#39;s what I tried:\r\n\r\n    private CustomView my_view; //CustomView extends SurfaceView implements SurfaceHolder.Callback\r\n\r\n    private void captureImage()\r\n    {\r\n      Bitmap bitmap = Bitmap.createBitmap(my_view.getWidth(), my_view.getHeight(), Bitmap.Config.ARGB_8888);\r\n\r\n      PixelCopy.request(my_view, bitmap, new PixelCopy.OnPixelCopyFinishedListener() {\r\n          @Override\r\n          public void onPixelCopyFinished(int copyResult) \r\n          {\r\n            try {\r\n               saveImageToFile(bitmap, &quot;myfilename&quot;); //This saved image is empty and black\r\n            } \r\n            catch (IOException ignored) {\r\n            }\r\n          }\r\n        }, new Handler(Looper.getMainLooper()));\r\n    }\r\n\r\nIf I try the old approach of using `getDrawingCache()` as shown below, then everything works as expected and I get an image with all the content rendered on the SurfaceView.\r\n\r\n    my_view.setDrawingCacheEnabled(true);\r\n    Bitmap bitmap = my_view.getDrawingCache(); //This works\r\n    try {\r\n      saveImageToFile(bitmap, &quot;myfilename&quot;);\r\n    } \r\n    catch (IOException ignored) {\r\n    }\r\n    my_view.destroyDrawingCache();\r\n    my_view.setDrawingCacheEnabled(false);\r\n\r\n\r\nHowever, I would like to use the `PixelCopy` API since the `getDrawingCache()` function has been deprecated. Does anyone know what the issue might be with my PixelCopy approach above?","title":"Using PixelCopy.request() to save a screenshot of a SurfaceView returns a black bitmap","body":"<p>I'm developing an app where I need to save the content drawn on a SurfaceView canvas to an image file. I read that the PixelCopy API can be used to do this after API level 24, but so far my code only returns an empty, black bitmap.</p>\n<p>Here's what I tried:</p>\n<pre><code>private CustomView my_view; //CustomView extends SurfaceView implements SurfaceHolder.Callback\n\nprivate void captureImage()\n{\n  Bitmap bitmap = Bitmap.createBitmap(my_view.getWidth(), my_view.getHeight(), Bitmap.Config.ARGB_8888);\n\n  PixelCopy.request(my_view, bitmap, new PixelCopy.OnPixelCopyFinishedListener() {\n      @Override\n      public void onPixelCopyFinished(int copyResult) \n      {\n        try {\n           saveImageToFile(bitmap, &quot;myfilename&quot;); //This saved image is empty and black\n        } \n        catch (IOException ignored) {\n        }\n      }\n    }, new Handler(Looper.getMainLooper()));\n}\n</code></pre>\n<p>If I try the old approach of using <code>getDrawingCache()</code> as shown below, then everything works as expected and I get an image with all the content rendered on the SurfaceView.</p>\n<pre><code>my_view.setDrawingCacheEnabled(true);\nBitmap bitmap = my_view.getDrawingCache(); //This works\ntry {\n  saveImageToFile(bitmap, &quot;myfilename&quot;);\n} \ncatch (IOException ignored) {\n}\nmy_view.destroyDrawingCache();\nmy_view.setDrawingCacheEnabled(false);\n</code></pre>\n<p>However, I would like to use the <code>PixelCopy</code> API since the <code>getDrawingCache()</code> function has been deprecated. Does anyone know what the issue might be with my PixelCopy approach above?</p>\n"},{"tags":["java","concurrency","locking"],"comments":[{"owner":{"account_id":41994,"reputation":20222,"user_id":122207,"display_name":"Tim Bender"},"score":0,"creation_date":1273595587,"post_id":2811236,"comment_id":2851258,"body_markdown":"@Mihail, If you don&#39;t know whether or not your thread holds the lock, I&#39;d suggest you might be doing something wrong.","body":"@Mihail, If you don&#39;t know whether or not your thread holds the lock, I&#39;d suggest you might be doing something wrong."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1273587720,"creation_date":1273586097,"answer_id":2811261,"question_id":2811236,"body_markdown":"`isLocked` returns whether *any* thread holds the lock. I think you want `isHeldByCurrentThread`:\r\n\r\n    if (reentrantLockObject.isHeldByCurrentThread()) {\r\n        reentrantLockObject.unlock();\r\n    }\r\n\r\nHaving said that, `isHeldByCurrentThread` is documented to be mainly for diagnostic purposes - it would be unusual for this piece of code to be the right approach. Can you explain why you think you need it?","title":"Unlock on ReentrantLock without IllegalMonitorStateException","body":"<p><code>isLocked</code> returns whether <em>any</em> thread holds the lock. I think you want <code>isHeldByCurrentThread</code>:</p>\n\n<pre><code>if (reentrantLockObject.isHeldByCurrentThread()) {\n    reentrantLockObject.unlock();\n}\n</code></pre>\n\n<p>Having said that, <code>isHeldByCurrentThread</code> is documented to be mainly for diagnostic purposes - it would be unusual for this piece of code to be the right approach. Can you explain why you think you need it?</p>\n"},{"tags":[],"owner":{"account_id":65386,"reputation":39895,"user_id":192444,"accept_rate":100,"display_name":"John Vint"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1273586162,"creation_date":1273586162,"answer_id":2811267,"question_id":2811236,"body_markdown":"You need to own the lock to be able to unlock it.  reentrantLockObject.isLocked() only is true if some thread owns the lock, not necessarily you.\r\n\r\n      reentrantLockObject.lock();\r\n      try{\r\n\r\n           // do stuff\r\n      }finally{\r\n             reentrantLockObject.unlock();\r\n      }\r\n\r\nHere the thread owns the lock so they are able to unlock it.","title":"Unlock on ReentrantLock without IllegalMonitorStateException","body":"<p>You need to own the lock to be able to unlock it.  reentrantLockObject.isLocked() only is true if some thread owns the lock, not necessarily you.</p>\n\n<pre><code>  reentrantLockObject.lock();\n  try{\n\n       // do stuff\n  }finally{\n         reentrantLockObject.unlock();\n  }\n</code></pre>\n\n<p>Here the thread owns the lock so they are able to unlock it.</p>\n"},{"tags":[],"owner":{"account_id":5415789,"reputation":193,"user_id":4310967,"accept_rate":40,"display_name":"David Lekishvili"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1510581260,"creation_date":1425559072,"answer_id":28878047,"question_id":2811236,"body_markdown":"`ReentrantLock` throws this exception according to this logic:\r\n\r\n    if (Thread.currentThread() != getExclusiveOwnerThread()) {\r\n      throw new IllegalMonitorStateException();\r\n    }\r\n\r\nSo the solution is to check if the same thread is unlocking:\r\n\r\n    if (reentrantLockObject.isHeldByCurrentThread()) {\r\n      reentrantLockObject.unlock();\r\n    }","title":"Unlock on ReentrantLock without IllegalMonitorStateException","body":"<p><code>ReentrantLock</code> throws this exception according to this logic:</p>\n\n<pre><code>if (Thread.currentThread() != getExclusiveOwnerThread()) {\n  throw new IllegalMonitorStateException();\n}\n</code></pre>\n\n<p>So the solution is to check if the same thread is unlocking:</p>\n\n<pre><code>if (reentrantLockObject.isHeldByCurrentThread()) {\n  reentrantLockObject.unlock();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13705585,"reputation":11,"user_id":9889316,"display_name":"mariusT24"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670173868,"creation_date":1670173868,"answer_id":74678962,"question_id":2811236,"body_markdown":"\r\n\r\n     private ReentrantLock lock = new ReentrantLock();\r\n    if (lock.tryLock()) {\r\n           try {\r\n                  //your code\r\n           } finally {\r\n                  lock.unlock();\r\n           }\r\n     }","title":"Unlock on ReentrantLock without IllegalMonitorStateException","body":"<pre><code> private ReentrantLock lock = new ReentrantLock();\nif (lock.tryLock()) {\n       try {\n              //your code\n       } finally {\n              lock.unlock();\n       }\n }\n</code></pre>\n"}],"owner":{"account_id":74388,"reputation":1583,"user_id":213782,"accept_rate":75,"display_name":"Mikhail"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24644,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":2811261,"answer_count":4,"score":13,"last_activity_date":1670173868,"creation_date":1273585916,"question_id":2811236,"body_markdown":"I have a piece of code (simplified):\r\n\r\n    if(reentrantLockObject.isLocked()) {\r\n\t       reentrantLockObject.unlock();\r\n    }\r\n\r\n\r\nwhere reentrantLockObject is java.util.concurrent.locks.ReentrantLock. \r\nSometimes I get IllegalMonitorStateException.\r\nIt seams that lock was released between check and unlock() call. \r\nHow can I prevent this exception? ","title":"Unlock on ReentrantLock without IllegalMonitorStateException","body":"<p>I have a piece of code (simplified):</p>\n\n<pre><code>if(reentrantLockObject.isLocked()) {\n       reentrantLockObject.unlock();\n}\n</code></pre>\n\n<p>where reentrantLockObject is java.util.concurrent.locks.ReentrantLock. \nSometimes I get IllegalMonitorStateException.\nIt seams that lock was released between check and unlock() call. \nHow can I prevent this exception? </p>\n"},{"tags":["java","jwt"],"comments":[{"owner":{"account_id":429736,"reputation":5878,"user_id":812787,"accept_rate":25,"display_name":"tsolakp"},"score":0,"creation_date":1515538805,"post_id":48177766,"comment_id":83335939,"body_markdown":"How are you creating and passing the token. The `get` method creates token that expires 4 hours from creation time. The `verify` only checks if that expiration is past 4 seconds from the time `verify` method is called, which should pass if you are calling `get` and then `verify` without waiting in between.","body":"How are you creating and passing the token. The <code>get</code> method creates token that expires 4 hours from creation time. The <code>verify</code> only checks if that expiration is past 4 seconds from the time <code>verify</code> method is called, which should pass if you are calling <code>get</code> and then <code>verify</code> without waiting in between."},{"owner":{"account_id":429736,"reputation":5878,"user_id":812787,"accept_rate":25,"display_name":"tsolakp"},"score":0,"creation_date":1515621631,"post_id":48177766,"comment_id":83374625,"body_markdown":"It should be 4*1000 which is 4 seconds.","body":"It should be 4*1000 which is 4 seconds."},{"owner":{"account_id":10467727,"reputation":944,"user_id":7716619,"accept_rate":67,"display_name":"Developer"},"score":0,"creation_date":1515621848,"post_id":48177766,"comment_id":83374725,"body_markdown":"https://github.com/auth0/java-jwt says `.acceptExpiresAt(5)   //5 secs for exp`","body":"<a href=\"https://github.com/auth0/java-jwt\" rel=\"nofollow noreferrer\">github.com/auth0/java-jwt</a> says <code>.acceptExpiresAt(5)   &#47;&#47;5 secs for exp</code>"},{"owner":{"account_id":429736,"reputation":5878,"user_id":812787,"accept_rate":25,"display_name":"tsolakp"},"score":0,"creation_date":1515621980,"post_id":48177766,"comment_id":83374766,"body_markdown":"Yes, `acceptExpiresAt` takes seconds your `Date` object takes milliseconds. Thats why you need to set JWT expiration time to `withExpiresAt(new Date(System.currentTimeMillis() + (4 * 1000)))` in order to expire it 4 seconds after creation time.","body":"Yes, <code>acceptExpiresAt</code> takes seconds your <code>Date</code> object takes milliseconds. Thats why you need to set JWT expiration time to <code>withExpiresAt(new Date(System.currentTimeMillis() + (4 * 1000)))</code> in order to expire it 4 seconds after creation time."},{"owner":{"account_id":10467727,"reputation":944,"user_id":7716619,"accept_rate":67,"display_name":"Developer"},"score":0,"creation_date":1515622559,"post_id":48177766,"comment_id":83374992,"body_markdown":"just for better understanding, are these services like facebook, twitter etc. use jwt tokens to manage multiple sessions across devices for each user? They seem to have no expiry as I continue to stay logged in for days.","body":"just for better understanding, are these services like facebook, twitter etc. use jwt tokens to manage multiple sessions across devices for each user? They seem to have no expiry as I continue to stay logged in for days."},{"owner":{"account_id":429736,"reputation":5878,"user_id":812787,"accept_rate":25,"display_name":"tsolakp"},"score":0,"creation_date":1515622635,"post_id":48177766,"comment_id":83375025,"body_markdown":"I am not familiar with those services. But JWT tokens can be refreshed periodically.","body":"I am not familiar with those services. But JWT tokens can be refreshed periodically."},{"owner":{"account_id":10467727,"reputation":944,"user_id":7716619,"accept_rate":67,"display_name":"Developer"},"score":0,"creation_date":1515623654,"post_id":48177766,"comment_id":83375427,"body_markdown":"See my edit please for a case when client is caching the token and renews every 5 minutes, while the token&#39;s life is for 5 minutes as well, do you see any problem with that?","body":"See my edit please for a case when client is caching the token and renews every 5 minutes, while the token&#39;s life is for 5 minutes as well, do you see any problem with that?"}],"answers":[{"tags":[],"owner":{"account_id":8716718,"reputation":1674,"user_id":6521058,"display_name":"John"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1535215791,"creation_date":1535215791,"answer_id":52019355,"question_id":48177766,"body_markdown":"`JWT.create().withExpiresAt(new Date(System.currentTimeMillis() + (5 * 60 * 1000)))`\r\nmeans you will create a token, which will expire after 5 minutes. It seems good.\r\n\r\n`JWT.require(xxx).acceptExpiresAt(5 * 60)`\r\nmeans you will accept a token which has **already expired** 5 minutes before.Even considering the network lag, 5 minutes of leeway is still too long. It should in seconds.\r\n","title":"JWT token expiration check","body":"<p><code>JWT.create().withExpiresAt(new Date(System.currentTimeMillis() + (5 * 60 * 1000)))</code>\nmeans you will create a token, which will expire after 5 minutes. It seems good.</p>\n\n<p><code>JWT.require(xxx).acceptExpiresAt(5 * 60)</code>\nmeans you will accept a token which has <strong>already expired</strong> 5 minutes before.Even considering the network lag, 5 minutes of leeway is still too long. It should in seconds.</p>\n"},{"tags":[],"owner":{"account_id":9980615,"reputation":1,"user_id":7383685,"display_name":"Khadija Aitrazouk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537350018,"creation_date":1537345301,"answer_id":52401330,"question_id":48177766,"body_markdown":"If the token has an invalid signature or the Claim requirement is not met, a `JWTVerificationException` will raise.\r\n\r\nWhen verifying a token the time validation occurs automatically, resulting in a `JWTVerificationException` being throw when the values are invalid. If any of the previous fields are missing they will not be considered in this validation.","title":"JWT token expiration check","body":"<p>If the token has an invalid signature or the Claim requirement is not met, a <code>JWTVerificationException</code> will raise.</p>\n\n<p>When verifying a token the time validation occurs automatically, resulting in a <code>JWTVerificationException</code> being throw when the values are invalid. If any of the previous fields are missing they will not be considered in this validation.</p>\n"},{"tags":[],"owner":{"account_id":12688529,"reputation":21,"user_id":9219483,"display_name":"avirias"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1568491809,"creation_date":1568491809,"answer_id":57938911,"question_id":48177766,"body_markdown":"Just add separate catch block when verifying token\r\n\r\n    try {\r\n     DecodedJWT decodedJWT = Token.verify();\r\n     Map claims = decodedJWT.getClaims();\r\n    \r\n    } catch (TokenExpiredException e) {\r\n     // Token expired \r\n    } catch (JWTVerificationException e) {\r\n     // Token validation error\r\n    }","title":"JWT token expiration check","body":"<p>Just add separate catch block when verifying token</p>\n\n<pre><code>try {\n DecodedJWT decodedJWT = Token.verify();\n Map claims = decodedJWT.getClaims();\n\n} catch (TokenExpiredException e) {\n // Token expired \n} catch (JWTVerificationException e) {\n // Token validation error\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13856648,"reputation":1610,"user_id":10003284,"display_name":"milad salimi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670172929,"creation_date":1670172929,"answer_id":74678828,"question_id":48177766,"body_markdown":"We can get **expire** **time** of a **JWT** with `.expiresAt` like this(in Unix Timestamp) : \r\n\r\n    val jwtExample = JWT(&quot;your string token&quot;)\r\n    jwtExample.expiresAt\r\n\r\nThen we can define a `fun` for evaluating JWT like this : \r\n\r\n    private fun isJwtExpired(jwt: JWT): Boolean {\r\n        val todayTime =\r\n            (floor(Date(TimeUtil.getCurrentMillis()).time / 1000.0) * 1000).toLong()\r\n        val pastToday = Date(todayTime)\r\n        val expValid = jwt.expiresAt == null || !pastToday.after(jwt.expiresAt)\r\n    \r\n        return !expValid\r\n    }\r\n\r\n","title":"JWT token expiration check","body":"<p>We can get <strong>expire</strong> <strong>time</strong> of a <strong>JWT</strong> with <code>.expiresAt</code> like this(in Unix Timestamp) :</p>\n<pre><code>val jwtExample = JWT(&quot;your string token&quot;)\njwtExample.expiresAt\n</code></pre>\n<p>Then we can define a <code>fun</code> for evaluating JWT like this :</p>\n<pre><code>private fun isJwtExpired(jwt: JWT): Boolean {\n    val todayTime =\n        (floor(Date(TimeUtil.getCurrentMillis()).time / 1000.0) * 1000).toLong()\n    val pastToday = Date(todayTime)\n    val expValid = jwt.expiresAt == null || !pastToday.after(jwt.expiresAt)\n\n    return !expValid\n}\n</code></pre>\n"}],"owner":{"account_id":10467727,"reputation":944,"user_id":7716619,"accept_rate":67,"display_name":"Developer"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44771,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1670172929,"creation_date":1515538040,"question_id":48177766,"body_markdown":"I&#39;ve a following utility class but whenever I check for an expired Token via verify method, it&#39;s not throwing the `JWtVerificationException`.\r\n\r\n    public class Token {\r\n    \r\n        private static String SECRET = &quot;c3bff416-993f-4760-9275-132b00256944&quot;;\r\n    \r\n        public static String get(String name, String value) throws UnsupportedEncodingException {\r\n            return JWT.create()\r\n                    .withIssuer(&quot;auth0&quot;)\r\n                    .withClaim(name, value)\r\n                    .withClaim(&quot;random&quot;, String.valueOf(UUID.randomUUID()))\r\n                    .withExpiresAt(new Date(System.currentTimeMillis() + (4 * 60 * 60 * 1000)))\r\n                    .sign(Algorithm.HMAC256(Token.SECRET));\r\n        }\r\n    \r\n        public static DecodedJWT verify(String token) throws JWTVerificationException, UnsupportedEncodingException {\r\n            JWTVerifier verifier = JWT.require(Algorithm.HMAC256(Token.SECRET))\r\n                    .withIssuer(&quot;auth0&quot;)\r\n                    .acceptExpiresAt(4)\r\n                    .build();\r\n    \r\n            return verifier.verify(token);\r\n        }\r\n    \r\n    }\r\n\r\n\r\nAs per the website https://github.com/auth0/java-jwt \r\n\r\n&gt;&gt; When verifying a token the time validation occurs automatically, resulting in a `JWTVerificationException` being throw when the values are invalid. \r\n\r\n**Edit:** \r\n\r\nA case when client renewing token every 5 minutes, will following work or should I add few extra seconds to accommodate any network lag?\r\n\r\n\r\ncreates\r\n\r\n    .withExpiresAt(new Date(System.currentTimeMillis() + (5 * 60 * 1000))) // 5 minutes\r\n\r\nverify\r\n\r\n    .acceptExpiresAt(5 * 60) // accept expiry of 5 minutes\r\n\r\n\r\n\r\n","title":"JWT token expiration check","body":"<p>I've a following utility class but whenever I check for an expired Token via verify method, it's not throwing the <code>JWtVerificationException</code>.</p>\n\n<pre><code>public class Token {\n\n    private static String SECRET = \"c3bff416-993f-4760-9275-132b00256944\";\n\n    public static String get(String name, String value) throws UnsupportedEncodingException {\n        return JWT.create()\n                .withIssuer(\"auth0\")\n                .withClaim(name, value)\n                .withClaim(\"random\", String.valueOf(UUID.randomUUID()))\n                .withExpiresAt(new Date(System.currentTimeMillis() + (4 * 60 * 60 * 1000)))\n                .sign(Algorithm.HMAC256(Token.SECRET));\n    }\n\n    public static DecodedJWT verify(String token) throws JWTVerificationException, UnsupportedEncodingException {\n        JWTVerifier verifier = JWT.require(Algorithm.HMAC256(Token.SECRET))\n                .withIssuer(\"auth0\")\n                .acceptExpiresAt(4)\n                .build();\n\n        return verifier.verify(token);\n    }\n\n}\n</code></pre>\n\n<p>As per the website <a href=\"https://github.com/auth0/java-jwt\" rel=\"nofollow noreferrer\">https://github.com/auth0/java-jwt</a> </p>\n\n<blockquote>\n  <blockquote>\n    <p>When verifying a token the time validation occurs automatically, resulting in a <code>JWTVerificationException</code> being throw when the values are invalid. </p>\n  </blockquote>\n</blockquote>\n\n<p><strong>Edit:</strong> </p>\n\n<p>A case when client renewing token every 5 minutes, will following work or should I add few extra seconds to accommodate any network lag?</p>\n\n<p>creates</p>\n\n<pre><code>.withExpiresAt(new Date(System.currentTimeMillis() + (5 * 60 * 1000))) // 5 minutes\n</code></pre>\n\n<p>verify</p>\n\n<pre><code>.acceptExpiresAt(5 * 60) // accept expiry of 5 minutes\n</code></pre>\n"},{"tags":["java","jar","java-bytecode-asm"],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670172148,"creation_date":1670172148,"answer_id":74678701,"question_id":74678377,"body_markdown":"These are the [Method access and property flags](https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-4.html#jvms-4.6-200-A.1).\r\n\r\n4161 (which is 0x1041) corresponds to this combination of flags:\r\n\r\n    0x0001 ACC_PUBLIC\r\n    0x0040 ACC_BRIDGE\r\n    0x1000 ACC_SYNTHETIC\r\n\r\nThe meaning of these flags is\r\n\r\n&gt; - The ACC_BRIDGE flag is used to indicate a bridge method generated by a compiler for the Java programming language\r\n&gt; - The ACC_SYNTHETIC flag indicates that this method was generated by a compiler and does not appear in source code, unless it is one of the methods named in &#167;4.7.8.\r\n\r\nThis combination is used by the Java Compiler if it needs to create &quot;bridge methods&quot;: methods that are needed because of generics spezialisation / generics type erasure.\r\n\r\nIn your case you probably have:\r\n\r\n    public interface Entity&lt;E&gt; {}\r\n\r\n    public class SomeModel implements Entity&lt;Long&gt; {}\r\n\r\n    public interface QueryRepository&lt;Id, E extends&lt;Entity&lt;Id&gt;&gt; {\r\n        E get(Id id);\r\n    }\r\n\r\n    public class SomeModelQueryRepo implements QueryRepository&lt;Long, SomeModel&gt; {\r\n        @Override\r\n        public SomeModel get(Long id) {\r\n            return null;\r\n        }\r\n    }\r\n\r\nFor the class `SomeModelQueryRepo` to implement `QueryRepository` it **must** contain a method `Entity get(Object id)` because that is what the `QueryRepository` contains as method after type erasure.\r\n\r\nThe compiler therefore creates this synthetic bridge method:\r\n\r\n        public Entity&lt;Object&gt; get(Object id) {\r\n            return get((Long) id);\r\n        }\r\n","title":"Java ASM visitMethod access 4161 meaning","body":"<p>These are the <a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-4.html#jvms-4.6-200-A.1\" rel=\"nofollow noreferrer\">Method access and property flags</a>.</p>\n<p>4161 (which is 0x1041) corresponds to this combination of flags:</p>\n<pre><code>0x0001 ACC_PUBLIC\n0x0040 ACC_BRIDGE\n0x1000 ACC_SYNTHETIC\n</code></pre>\n<p>The meaning of these flags is</p>\n<blockquote>\n<ul>\n<li>The ACC_BRIDGE flag is used to indicate a bridge method generated by a compiler for the Java programming language</li>\n<li>The ACC_SYNTHETIC flag indicates that this method was generated by a compiler and does not appear in source code, unless it is one of the methods named in 4.7.8.</li>\n</ul>\n</blockquote>\n<p>This combination is used by the Java Compiler if it needs to create &quot;bridge methods&quot;: methods that are needed because of generics spezialisation / generics type erasure.</p>\n<p>In your case you probably have:</p>\n<pre><code>public interface Entity&lt;E&gt; {}\n\npublic class SomeModel implements Entity&lt;Long&gt; {}\n\npublic interface QueryRepository&lt;Id, E extends&lt;Entity&lt;Id&gt;&gt; {\n    E get(Id id);\n}\n\npublic class SomeModelQueryRepo implements QueryRepository&lt;Long, SomeModel&gt; {\n    @Override\n    public SomeModel get(Long id) {\n        return null;\n    }\n}\n</code></pre>\n<p>For the class <code>SomeModelQueryRepo</code> to implement <code>QueryRepository</code> it <strong>must</strong> contain a method <code>Entity get(Object id)</code> because that is what the <code>QueryRepository</code> contains as method after type erasure.</p>\n<p>The compiler therefore creates this synthetic bridge method:</p>\n<pre><code>    public Entity&lt;Object&gt; get(Object id) {\n        return get((Long) id);\n    }\n</code></pre>\n"}],"owner":{"account_id":19395325,"reputation":2019,"user_id":14183155,"display_name":"Vivere"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74678701,"answer_count":1,"score":0,"last_activity_date":1670172148,"creation_date":1670170021,"question_id":74678377,"body_markdown":"I have the following inheritance structure:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n`SomeModel` implements `Entity`, and `SomeModelQueryRepo` has 2 methods that return `SomeModel`: get given an Id, and get returning all `SomeModel`s in the repo.\r\n\r\nFor some reason, `visitMethod` detects another *secret* method: `get` which returns a base `Entity`.\r\n\r\nHowever, that is not explicitly declared. The `access` code is a bit unusual, with a value of `4161`. I tried looking at the [opcodes][2], but I can&#39;t determine which combination leads to that value. What does `4161` mean?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/u3iXd.png\r\n  [2]: https://asm.ow2.io/javadoc/constant-values.html#org.objectweb.asm.Opcodes.ACC_SUPER","title":"Java ASM visitMethod access 4161 meaning","body":"<p>I have the following inheritance structure:\n<a href=\"https://i.stack.imgur.com/u3iXd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u3iXd.png\" alt=\"enter image description here\" /></a></p>\n<p><code>SomeModel</code> implements <code>Entity</code>, and <code>SomeModelQueryRepo</code> has 2 methods that return <code>SomeModel</code>: get given an Id, and get returning all <code>SomeModel</code>s in the repo.</p>\n<p>For some reason, <code>visitMethod</code> detects another <em>secret</em> method: <code>get</code> which returns a base <code>Entity</code>.</p>\n<p>However, that is not explicitly declared. The <code>access</code> code is a bit unusual, with a value of <code>4161</code>. I tried looking at the <a href=\"https://asm.ow2.io/javadoc/constant-values.html#org.objectweb.asm.Opcodes.ACC_SUPER\" rel=\"nofollow noreferrer\">opcodes</a>, but I can't determine which combination leads to that value. What does <code>4161</code> mean?</p>\n"},{"tags":["java","jwt"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1669047612,"post_id":74517437,"comment_id":131548883,"body_markdown":"Please [edit] your question to include your source code as a working [mcve], which can be compiled and tested by others.\nPlease show your attempts you have tried and the problems/error messages you get from your attempts.","body":"Please <a href=\"https://stackoverflow.com/posts/74517437/edit\">edit</a> your question to include your source code as a working <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be compiled and tested by others. Please show your attempts you have tried and the problems/error messages you get from your attempts."},{"owner":{"account_id":15180363,"reputation":1087,"user_id":10953785,"display_name":"user190245"},"score":0,"creation_date":1669048934,"post_id":74517437,"comment_id":131549353,"body_markdown":"@progman please find code that i am using","body":"@progman please find code that i am using"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1669060245,"post_id":74517437,"comment_id":131552916,"body_markdown":"You have added code on how to use RS256, but you should add the attempts on how to use ES256.","body":"You have added code on how to use RS256, but you should add the attempts on how to use ES256."}],"answers":[{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670171591,"creation_date":1670077700,"answer_id":74667615,"question_id":74517437,"body_markdown":"First, your code has a bug or is miscopied. In `GetJWK` in the last block (before `catch`) you have a comment `Get the modulus &#39;n&#39; &amp; the exponent &#39;n&#39;` which is wrong (the public exponent is &#39;e&#39;) but the code shown actually gets &#39;x5c&#39; not &#39;n&#39; and uses it as the modulus, which is very wrong, and shouldn&#39;t even work because &#39;x5c&#39; is an array not a scalar. \r\n\r\nYes, the library you are using (jjwt) can verify (and generate) ECDSA signatures in JWS/JWT. For any code, the signature is generated using the algorithm-dependent elements in the private key, and verified using the algorithm-dependent elements in the public key: `n` and `e` for RSA, `x` and `y` for ECDSA on a curve which is both implied by `alg` and restated in `crv` -- see [part of rfc7518 section 3.4](https://datatracker.ietf.org/doc/html/rfc7518#section-3.4) and [rfc7518 section 6.2.1](https://datatracker.ietf.org/doc/html/rfc7518#section-6.2.1). Note x and y must be valid base64url (yours aren&#39;t) and must be exactly the length required by the size of the curve-group defined by `alg` and `crv` (yours aren&#39;t). \r\n\r\nYou can construct a  Java-crypto `ECPublicKey` (or pedantically a provider&#39;s implementation object implementing that) similar to what you do in `resolveSigningKey` now for RSA, except that EC requires &#39;parameters&#39; for the curve in addition to x and y:\r\n\r\n```\r\n// this part is the same for all keys and could be done at init or memoized\r\nAlgorithmParameters a = AlgorithmParameters.getInstance(&quot;EC&quot;);\r\na.init(new ECGenParameterSpec(&quot;P-256&quot;));\r\nECParameterSpec p = a.getParameterSpec(ECParameterSpec.class);\r\n\r\n// this part must be redone for each different key\r\n// to prevent misuse verify crv_field (either direct or cached) equals(&quot;P-256&quot;)\r\n// and probably alg_field (ditto) equals(&quot;ES256&quot;)\r\nBigInteger x = new BigInteger(1, base64urldecode(x_field)); // either direct or cached\r\nBigInteger y = new BigInteger(1, base64urldecode(y_field)); // ditto \r\nPublicKey ecPublicKey = KeyFactory.getInstance(&quot;EC&quot;).generatePublic(new ECPublicKeySpec(new ECPoint(x,y), p));\r\n\r\n// add exception handling to taste\r\n```\r\n\r\nHowever, _if_ your JWKs (always) have x5c as in your examples, but with a valid value (yours aren&#39;t valid base64url-of-DER and are _much_ too small) you can use much simpler code; for _all_ signature algorithms just do:\r\n```\r\nString x5c = // get element 0 of field &#39;x5c&#39; from JWK (cached if you like)\r\nX509Certificate cert = (X509Certificate) CertificateFactory.getInstance(&quot;X.509&quot;)\r\n    .generateCertificate( new ByteArrayInputStream( base64decode(x5c) ) ); // NOT base64url\r\n// (with exception handling of course)\r\n// then use cert.getPublicKey() as the PublicKey for jjwt\r\n","title":"ECDSA ES256 JWKS JWT signature verification in Java (Elliptic Curve Signatures)","body":"<p>First, your code has a bug or is miscopied. In <code>GetJWK</code> in the last block (before <code>catch</code>) you have a comment <code>Get the modulus 'n' &amp; the exponent 'n'</code> which is wrong (the public exponent is 'e') but the code shown actually gets 'x5c' not 'n' and uses it as the modulus, which is very wrong, and shouldn't even work because 'x5c' is an array not a scalar.</p>\n<p>Yes, the library you are using (jjwt) can verify (and generate) ECDSA signatures in JWS/JWT. For any code, the signature is generated using the algorithm-dependent elements in the private key, and verified using the algorithm-dependent elements in the public key: <code>n</code> and <code>e</code> for RSA, <code>x</code> and <code>y</code> for ECDSA on a curve which is both implied by <code>alg</code> and restated in <code>crv</code> -- see <a href=\"https://datatracker.ietf.org/doc/html/rfc7518#section-3.4\" rel=\"nofollow noreferrer\">part of rfc7518 section 3.4</a> and <a href=\"https://datatracker.ietf.org/doc/html/rfc7518#section-6.2.1\" rel=\"nofollow noreferrer\">rfc7518 section 6.2.1</a>. Note x and y must be valid base64url (yours aren't) and must be exactly the length required by the size of the curve-group defined by <code>alg</code> and <code>crv</code> (yours aren't).</p>\n<p>You can construct a  Java-crypto <code>ECPublicKey</code> (or pedantically a provider's implementation object implementing that) similar to what you do in <code>resolveSigningKey</code> now for RSA, except that EC requires 'parameters' for the curve in addition to x and y:</p>\n<pre><code>// this part is the same for all keys and could be done at init or memoized\nAlgorithmParameters a = AlgorithmParameters.getInstance(&quot;EC&quot;);\na.init(new ECGenParameterSpec(&quot;P-256&quot;));\nECParameterSpec p = a.getParameterSpec(ECParameterSpec.class);\n\n// this part must be redone for each different key\n// to prevent misuse verify crv_field (either direct or cached) equals(&quot;P-256&quot;)\n// and probably alg_field (ditto) equals(&quot;ES256&quot;)\nBigInteger x = new BigInteger(1, base64urldecode(x_field)); // either direct or cached\nBigInteger y = new BigInteger(1, base64urldecode(y_field)); // ditto \nPublicKey ecPublicKey = KeyFactory.getInstance(&quot;EC&quot;).generatePublic(new ECPublicKeySpec(new ECPoint(x,y), p));\n\n// add exception handling to taste\n</code></pre>\n<p>However, <em>if</em> your JWKs (always) have x5c as in your examples, but with a valid value (yours aren't valid base64url-of-DER and are <em>much</em> too small) you can use much simpler code; for <em>all</em> signature algorithms just do:</p>\n<pre><code>String x5c = // get element 0 of field 'x5c' from JWK (cached if you like)\nX509Certificate cert = (X509Certificate) CertificateFactory.getInstance(&quot;X.509&quot;)\n    .generateCertificate( new ByteArrayInputStream( base64decode(x5c) ) ); // NOT base64url\n// (with exception handling of course)\n// then use cert.getPublicKey() as the PublicKey for jjwt\n</code></pre>\n"}],"owner":{"account_id":15180363,"reputation":1087,"user_id":10953785,"display_name":"user190245"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1652,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74667615,"answer_count":1,"score":1,"last_activity_date":1670171591,"creation_date":1669026449,"question_id":74517437,"body_markdown":"I have to do signature verification of a token in Java which uses algorithm as ES256\r\n\r\n```json\r\n{&quot;typ&quot;:&quot;JWT&quot;,&quot;alg&quot;:&quot;ES256&quot;,&quot;kid&quot;:&quot;4&quot;}\r\n```\r\n\r\nThe public JWKS has below format:\r\n\r\n```json\r\n{\r\n    &quot;kty&quot; : &quot;EC&quot;,\r\n    &quot;kid&quot; : &quot;4&quot;,\r\n    &quot;use&quot; : &quot;sig&quot;,\r\n    &quot;x&quot; : &quot;hkjfghkjfdghkjdfsglkdjhg&quot;,\r\n    &quot;y&quot; : &quot;skjgf krhgkre&quot;,\r\n    &quot;crv&quot; : &quot;P-256&quot;,\r\n    &quot;x5c&quot; : [ &quot;uchfgurhnvgrejbhkltjrhbkrknlytknjlkfldfmndfkfvmlkasdfkljflksdanfgklnsdkjfnsadkjnkjdfnglksdfhkljdlkhfklhjdfgklghjkldfjklfjgklnvdfngjksdnfngkjvnsdfjkvsdfjkgndjkhnkjdsnhkltejhk&quot; ],\r\n    &quot;x5t&quot; : &quot;jcdhsvkjgnrekngk&quot;\r\n  }\r\n```\r\n\r\nWhat is the way to verify these?\r\n\r\nI had a look in the RS256 JWT token verification where the public JWKS is very different as below:\r\n\r\n```json\r\n{\r\n    &quot;kty&quot; : &quot;RSA&quot;,\r\n    &quot;kid&quot; : &quot;16&quot;,\r\n    &quot;use&quot; : &quot;sig&quot;,\r\n    &quot;n&quot; : &quot;sdghjfhgjhfjdghjkdfhghfdghfdkjhgkjfhgkjfhgkjhfjkffghjkshgjkfhgjkhfjkghjkfhgjkhfgjkhfjkghjkfhgjkafhjghfjkhgkjfhgkjhfjklghlsjkfhgjksfagmfnvmbrgmberkjltgnerkjhgjkerngkjerngjkhsjkghsjklghjkhgjkhjkghjkfahgjkhgjkhfjklghjkfhg&quot;,\r\n    &quot;e&quot; : &quot;AQAB&quot;,\r\n    &quot;x5c&quot; : [ &quot;MIIClkdfgjlkdfjklgjdfkljgkfdjgkljfkgjfklgjkldjgdfjgkldftuioreutiourtoiuriotuieorutiorutioeurtiueriotuioerwutioerutioukgjkldjgkldfjgkljklgjdfklgjorutoireutioerutiueriotuklgjkldjgklsdfjgkldfjgklsdjgkl&quot; ],\r\n    &quot;x5t&quot; : &quot;jshgjfhgjkhkhghgkdfhgklhdklh&quot;\r\n  }\r\n```\r\n\r\nIs there any library in Java which offers this functionality? I think in RS256 modulus and exponent is used to verify the signature, but what is used for ES256, I am not sure.\r\n\r\nPlease find the code that i am using for RS256.\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.math.BigInteger;\r\n\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\nimport java.net.URLConnection;\r\nimport java.security.Key;\r\nimport java.security.KeyFactory;\r\nimport java.security.NoSuchAlgorithmException;\r\nimport java.security.PublicKey;\r\nimport java.security.spec.InvalidKeySpecException;\r\nimport java.security.spec.RSAPublicKeySpec;\r\nimport java.util.Base64;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.Scanner;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\nimport org.cache2k.Cache;\r\nimport org.cache2k.Cache2kBuilder;\r\n\r\nimport com.fasterxml.jackson.core.JsonParseException;\r\nimport com.fasterxml.jackson.core.type.TypeReference;\r\nimport com.fasterxml.jackson.databind.JsonMappingException;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\nimport io.jsonwebtoken.Claims;\r\nimport io.jsonwebtoken.Header;\r\nimport io.jsonwebtoken.Jws;\r\nimport io.jsonwebtoken.JwsHeader;\r\nimport io.jsonwebtoken.Jwt;\r\nimport io.jsonwebtoken.Jwts;\r\nimport io.jsonwebtoken.SigningKeyResolver;\r\nimport io.jsonwebtoken.SigningKeyResolverAdapter;\r\nimport java.net.HttpURLConnection;\r\n\r\npublic class JWTValidation {\r\n\t\r\n\t//Externalize the hosts as per the environment\r\n\t\r\n\tprivate static final String USER_AGENT = &quot;Mozilla/5.0&quot;;\r\n\t// Create a cache object\r\n\tfinal static Cache&lt;String,String&gt; _cache = new Cache2kBuilder&lt;String, String&gt;() {}\r\n\t  .expireAfterWrite(30, TimeUnit.MINUTES)    // expire/refresh after 30 minutes\r\n    .build();\t  \r\n\tstatic String _jwkVersionCache = _cache.peek(&quot;jwk_version&quot;);\r\n\tstatic String _modulusCache = _cache.peek(&quot;modulus&quot;);\r\n\tstatic String _exponentCache = _cache.peek(&quot;exponent&quot;);\r\n\t\r\n\tpublic static void main(String[] args) throws JsonParseException, JsonMappingException, IOException {\t\r\n\t\tSystem.out.println(&quot;Sample code to validate JWT&quot;);\t\r\n\t\t// Running the code in loop to test multiple scenarios\r\n\t\twhile(true) {\t\r\n\t\t\t\r\n\t\t\t// Used only for console app to get the JWS as user input\r\n\t\t\tScanner reader = new Scanner(System.in);\r\n\t\t\t// Get the JWT \r\n\t\t\tSystem.out.println(&quot;Enter jwt or enter exit to terminate&quot;);\t\r\n\t\t\tString signedJwtToken = reader.next();\r\n\r\n\t\t\tif(signedJwtToken.equalsIgnoreCase(&quot;Exit&quot;)) \r\n\t\t\t{\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\t// Validate the signed JWT (JWS)\r\n\t\t\t\tValidateJWS(signedJwtToken);\r\n\t\t\t}\r\n\t\t\tcatch (Exception e) {\r\n\t\t\t\tSystem.out.println(&quot;JWS validation failed&quot;);\r\n\t\t\t}\r\n\t\t\tfinally {\r\n\r\n\t\t\t}\r\n\t\t}\t\t\t\t\r\n\t}\t\r\n\t\r\n\t// Code to validate signed JWT (JWS)\r\n\tprivate static void ValidateJWS(String signedJwtToken)\r\n\t{\r\n\t\tStringBuilder sb = null;\r\n\t\tString jwtWithoutSignature;\t\r\n\t\tString jwtVersion;\r\n\t\tString jwksUri;\r\n\t\tString jwksUrl;\r\n\t\tString kid;\r\n\t\tTypeReference&lt;Map&lt;String, Object&gt;&gt; typeRef = new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {};\r\n\t\tObjectMapper mapper = new ObjectMapper();\t\r\n\t\tMap&lt;String, Object&gt; jwks = null;\r\n\t\t\t\r\n\t\t@SuppressWarnings(&quot;rawtypes&quot;)\r\n\t\tJwt&lt;Header, Claims&gt; jwtClaims = null;\r\n\t\ttry {\t\t\t\r\n\t\t\t\r\n\t\t\t// Extract the base64 encoded JWT from the signed JWT token (JWS) \r\n\t\t\tsb = new StringBuilder();\r\n\t\t\tsb.append(signedJwtToken);\r\n\t\t\tjwtWithoutSignature = sb.substring(0, sb.toString().lastIndexOf(&quot;.&quot;) + 1);\t\r\n\t\t\t\r\n\t\t\t// Parse claims without validating the signature\r\n\t\t\tjwtClaims = Jwts.parser().parseClaimsJwt(jwtWithoutSignature);\t\r\n\t\t\t\r\n\t\t\t// Extract the jwk uri &#39;jku&#39; &amp; the version &#39;ver&#39; from the JWT\t\r\n\t\t\tjwtVersion = (String) jwtClaims.getBody().get(&quot;ver&quot;);\r\n\t\t\tjwksUri = (String) jwtClaims.getBody().get(&quot;jku&quot;);\r\n\t\t\t// Extract the kid from JWT\r\n\t\t\tkid = (String) jwtClaims.getHeader().get(&quot;kid&quot;);\r\n\t\t\t\r\n\t\t\tjwksUrl = jwksHost;\r\n\t\t\tSystem.out.println(&quot;jwtVersion: &quot; + jwtVersion);\r\n\t\t\tSystem.out.println(&quot;jwksUri: &quot; + jwksUri);\r\n\t\t\tSystem.out.println(&quot;kid: &quot; + kid);\r\n\t\t\t\r\n            // Cache the jwk version (ver), modulus (n) and exponent (e) for lifetime of the application.\r\n            // The JWT version will be same as jwk version. The jwt version will change only when the \r\n            // JWT signing certificate is renewed.\r\n            // Invoke the JWK url only if the jwt version is different from the JWK version. \r\n\t\t\t\r\n\t\t\t// check if the JWK version is cached or not\r\n\t\t\tif (_cache.get(&quot;jwk_version&quot;) != null) {\r\n\t\t\t\t// check if jwt version is same as jwk version \r\n\t\t\t\tif (!jwtVersion.equals(_jwkVersionCache)) {\r\n\t\t\t\t\t// Get the jwk key &amp; add the modulus, exponent &amp; the jwk version to the cache\r\n\t\t\t\t\tGetJWK(jwksUrl, kid);\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n            else\r\n            {\r\n                // Get the jwk key &amp; add the modulus, exponent &amp; the jwk version to the cache\r\n            \tGetJWK(jwksUrl, kid);\t\t\r\n            }\r\n\t\t\t\r\n\t\t\t// Calling the setSigningKeyResolver as the JWT is parsed before validating the signature \r\n\t\t\tSigningKeyResolver resolver = new SigningKeyResolverAdapter() {\r\n\t\t\t    @SuppressWarnings(&quot;rawtypes&quot;)\r\n\t\t\t\tpublic Key resolveSigningKey(JwsHeader jwsHeader, Claims claims) {\r\n\t\t\t        try {            \r\n\t\t\t            // Build the RSA public key from modulus &amp; exponent in JWK \r\n\t\t\t            BigInteger modulus = new BigInteger(1, Base64.getUrlDecoder().decode(_modulusCache));\r\n\t\t\t            BigInteger exponent = new BigInteger(1, Base64.getUrlDecoder().decode(_exponentCache));\r\n\t\t\t            PublicKey rsaPublicKey = KeyFactory.getInstance(&quot;RSA&quot;).generatePublic(new RSAPublicKeySpec(modulus, exponent));\r\n\t\t\t            return rsaPublicKey;\r\n\t\t\t        } catch (NoSuchAlgorithmException | InvalidKeySpecException e) {\r\n\t\t\t        \tSystem.out.println(&quot;Failed to resolve key: &quot; + e);\r\n\t\t\t            return null;\r\n\t\t\t        }\r\n\t\t\t    }\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\t// Parse claims and validate the signature\r\n\t\t\t\tJws&lt;Claims&gt; jwsClaims = Jwts.parser().setSigningKeyResolver(resolver).parseClaimsJws(signedJwtToken);\r\n\t\t\t\tSystem.out.println(&quot;Signature on this JWT is good and the JWT token has not expired&quot;);\r\n\t\t\t\t// OK, we can trust this JWT\r\n\t\t\t\t\r\n\t\t\t\t// Parse the claims\r\n\t\t\t\tSystem.out.println(&quot;JWS claims: &quot; + jwsClaims.getBody());\r\n\t\t\t\t\r\n\t\t\t\t// Code below to validate the claims\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tcatch (Exception ex) {\r\n\t\t\t\tSystem.out.println(&quot;Unable to validate JWS&quot;);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\t// catch (SignatureException e)\r\n\t\tcatch (Exception e) {\r\n\t\t\t// don&#39;t trust the JWT!\r\n\t\t\tSystem.out.println(&quot;JWT is malformed or expired&quot;);\r\n\t\t}\t\t\t\t\t\r\n\t}\r\n\t\t\r\n\t// Get the corresponding JWK using key Id from the JWK set \r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    static private Map&lt;String, String&gt; GetKeyById(Map&lt;String, Object&gt; jwks, String kid) {\r\n        List&lt;Map&lt;String, String&gt;&gt; keys = (List&lt;Map&lt;String, String&gt;&gt;)jwks.get(&quot;keys&quot;);\r\n        Map&lt;String, String&gt; ret = null;\r\n        for (int i = 0; i &lt; keys.size(); i++) {\r\n            if (keys.get(i).get(&quot;kid&quot;).equals(kid)) {\r\n\t\t\t\tSystem.out.println(&quot;i--&gt;&quot;+ keys.get(i).get(&quot;kid&quot;));\r\n\t\t\t\tSystem.out.println(&quot;i set--&gt;&quot;+ keys.get(i));\r\n                return keys.get(i);\r\n            }\r\n        }    \r\n        return ret;\r\n    }\r\n   \r\n    // Get the JWK Set from the JWK endpoint \r\n    private static void GetJWK(String jwkUrl, String kid) throws IOException {\r\n\t\tURL url = new URL(jwkUrl);\r\n\t\tHttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n\r\n        try {\r\n\t\t\t//URL url = new URL(jwkUrl);\r\n\t\t\tSystem.out.println(&quot;url: &quot;+url);\r\n\t\t\t//connection = (HttpURLConnection) url.openConnection();\r\n\t\t\tSystem.out.println(&quot;connection: &quot;+connection);\r\n\r\n\r\n\t\t\tconnection.setRequestMethod(&quot;GET&quot;);\r\n\t\t\tconnection.setRequestProperty(&quot;User-Agent&quot;, USER_AGENT);\r\n\t\t\tint responseCode = connection.getResponseCode();\r\n\t\t\tSystem.out.println(&quot;GET Response Code :: &quot; + responseCode);\r\n\r\n\t\t\tBufferedReader rd = new BufferedReader(new InputStreamReader(connection.getInputStream()));\r\n\r\n\t\t\tSystem.out.println(&quot;rd: &quot;+rd);\r\n\t\t\t//StringBuilder response = new StringBuilder();\r\n\t\t\tString inputLine;\r\n\t\t\tStringBuffer response = new StringBuffer();\r\n\t\t\twhile ((inputLine = rd.readLine()) != null) {\r\n\t\t\t\tresponse.append(inputLine);\r\n\t\t\t}\r\n\t\t\t//in.close();\r\n\r\n\t\t\t// print result\r\n\t\t\tSystem.out.println(response.toString());\r\n\r\n\t\t\tSystem.out.println(&quot;response:--&gt; &quot;+response);\r\n\t\t\tString line;\r\n\t\t\t//while ((line = rd.readLine()) != null) {\r\n\t\t\t//\tresponse.append(line);\r\n\t\t\t//\tresponse.append(&#39;\\r&#39;);\r\n\r\n\t\t\t//}\r\n\t\t\trd.close();\r\n            \r\n            // Jackson mapper for parsing the json\r\n    \t\tTypeReference&lt;Map&lt;String, Object&gt;&gt; typeRef = new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {};\r\n    \t\tObjectMapper mapper = new ObjectMapper();\r\n    \t\tMap&lt;String, Object&gt; jwks = mapper.readValue(response.toString(), typeRef);\r\n\t\t\t\r\n        \t// Get the jwk by using the key Id from the jwt\r\n            Map&lt;String, String&gt; jwk = GetKeyById(jwks, kid);\r\n\t\t\t\r\n            // Get the modulus &#39;n&#39; &amp; the exponent &#39;n&#39; from the JWK &amp; add it to cache \r\n            if (jwk != null) {\r\n\t\t\t\t\r\n            \t_cache.put(&quot;modulus&quot;, jwk.get(&quot;x5c&quot;));\r\n\t\t\t\t\t\r\n            \t_modulusCache = _cache.get(&quot;modulus&quot;);\r\n\t\t\t\t\r\n            \t_cache.put(&quot;exponent&quot;, jwk.get(&quot;e&quot;));\r\n\t\t\t\t\r\n            \t_exponentCache = _cache.get(&quot;exponent&quot;);\r\n\t\t\t\t\r\n            \t_cache.put(&quot;jwk_version&quot;, jwk.get(&quot;ver&quot;));\r\n\t\t\t\t\r\n            \t_jwkVersionCache = _cache.get(&quot;jwk_version&quot;);\r\n\t\t\t\t\r\n            }            \r\n        } catch (Exception e) {\r\n        \t// Unable to fetch JWKS. Terminate this program\r\n        \tSystem.out.println(&quot;Error getting jwks: &quot; + e);         \t\r\n        } finally {\r\n            if (connection != null) {\r\n                connection.disconnect();\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nRFC says:\r\nhttps://www.rfc-editor.org/rfc/rfc7518#section-3.1\r\n\r\n&quot;alg&quot; Param value = ES256\r\nDigital Signature or MAC value = ECDSA using P-256 and SHA-256\r\n\r\n\r\n\r\n\r\n---------------------------------------------\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.math.BigInteger;\r\n\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\nimport java.net.URLConnection;\r\nimport java.security.*;\r\nimport java.security.spec.*;\r\nimport java.text.ParseException;\r\nimport java.util.Base64;\r\nimport java.util.Base64.Decoder;\r\nimport java.util.Base64.Encoder;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.Scanner;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\nimport com.nimbusds.jose.JOSEException;\r\nimport org.cache2k.Cache;\r\nimport org.cache2k.Cache2kBuilder;\r\n\r\nimport com.fasterxml.jackson.core.JsonParseException;\r\nimport com.fasterxml.jackson.core.type.TypeReference;\r\nimport com.fasterxml.jackson.databind.JsonMappingException;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\nimport io.jsonwebtoken.Claims;\r\nimport io.jsonwebtoken.Header;\r\nimport io.jsonwebtoken.Jws;\r\nimport io.jsonwebtoken.JwsHeader;\r\nimport io.jsonwebtoken.Jwt;\r\nimport io.jsonwebtoken.Jwts;\r\nimport io.jsonwebtoken.SigningKeyResolver;\r\nimport io.jsonwebtoken.SigningKeyResolverAdapter;\r\nimport java.net.HttpURLConnection;\r\n\r\n\r\npublic class Es256stack {\r\n\r\n    final static String jwksHost = &quot;&quot;;\r\n    \r\n    private static final String USER_AGENT = &quot;Mozilla/5.0&quot;;\r\n    // Create a cache object\r\n    final static Cache&lt;String,String&gt; _cache = new Cache2kBuilder&lt;String, String&gt;() {}\r\n            .expireAfterWrite(30, TimeUnit.MINUTES)    // expire/refresh after 30 minutes\r\n            .build();\r\n    static String _jwkVersionCache = _cache.peek(&quot;jwk_version&quot;);\r\n    static String _modulusCache = _cache.peek(&quot;modulus&quot;);\r\n    static String _exponentCache = _cache.peek(&quot;exponent&quot;);\r\n\r\n\r\n\r\n    public static void main(String[] args) throws NoSuchAlgorithmException, InvalidParameterSpecException, InvalidKeySpecException {\r\n        ValidateJWS(signedJwtToken);\r\n    }\r\n\r\n        //String signedJwtToken=&quot;&quot;;\r\n\r\n        // Code to validate signed JWT (JWS)\r\n        private static void ValidateJWS(String signedJwtToken)\r\n        {\r\n            StringBuilder sb = null;\r\n            String jwtWithoutSignature;\r\n            String jwtVersion;\r\n            String jwksUri;\r\n            String jwksUrl;\r\n            String kid;\r\n            TypeReference&lt;Map&lt;String, Object&gt;&gt; typeRef = new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {};\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            Map&lt;String, Object&gt; jwks = null;\r\n\r\n            @SuppressWarnings(&quot;rawtypes&quot;)\r\n            Jwt&lt;Header, Claims&gt; jwtClaims = null;\r\n            try {\r\n\r\n                // Extract the base64 encoded JWT from the signed JWT token (JWS)\r\n                sb = new StringBuilder();\r\n                sb.append(signedJwtToken);\r\n                jwtWithoutSignature = sb.substring(0, sb.toString().lastIndexOf(&quot;.&quot;) + 1);\r\n\r\n                // Parse claims without validating the signature\r\n                jwtClaims = Jwts.parser().parseClaimsJwt(jwtWithoutSignature);\r\n\r\n                // Extract the jwk uri &#39;jku&#39; &amp; the version &#39;ver&#39; from the JWT\r\n                jwtVersion = (String) jwtClaims.getBody().get(&quot;ver&quot;);\r\n                jwksUri = (String) jwtClaims.getBody().get(&quot;jku&quot;);\r\n                // Extract the kid from JWT\r\n                kid = (String) jwtClaims.getHeader().get(&quot;kid&quot;);\r\n\r\n                jwksUrl = &quot;&quot;;\r\n                System.out.println(&quot;jwtVersion: &quot; + jwtVersion);\r\n                System.out.println(&quot;jwksUri: &quot; + jwksUri);\r\n                System.out.println(&quot;kid: &quot; + kid);\r\n\r\n                // Cache the jwk version (ver), modulus (n) and exponent (e) for lifetime of the application.\r\n                // The JWT version will be same as jwk version. The jwt version will change only when the\r\n                // JWT signing certificate is renewed.\r\n                // Invoke the JWK url only if the jwt version is different from the JWK version.\r\n\r\n                // check if the JWK version is cached or not\r\n                if (_cache.get(&quot;jwk_version&quot;) != null) {\r\n                    // check if jwt version is same as jwk version\r\n                    if (!jwtVersion.equals(_jwkVersionCache)) {\r\n                        // Get the jwk key &amp; add the modulus, exponent &amp; the jwk version to the cache\r\n                        GetJWK(jwksUrl, kid);\r\n                    }\r\n                }\r\n                else\r\n                {\r\n                    // Get the jwk key &amp; add the modulus, exponent &amp; the jwk version to the cache\r\n                    GetJWK(jwksUrl, kid);\r\n                }\r\n\r\n                // Calling the setSigningKeyResolver as the JWT is parsed before validating the signature\r\n                SigningKeyResolver resolver = new SigningKeyResolverAdapter() {\r\n                    @SuppressWarnings(&quot;rawtypes&quot;)\r\n                    public Key resolveSigningKey(JwsHeader jwsHeader, Claims claims) {\r\n                        try {\r\n                            AlgorithmParameters a = AlgorithmParameters.getInstance(&quot;EC&quot;);\r\n                            a.init(new ECGenParameterSpec(&quot;secp256r1&quot;));\r\n                            ECParameterSpec p = a.getParameterSpec(ECParameterSpec.class);\r\n                            // Build the RSA public key from modulus &amp; exponent in JWK\r\n                            BigInteger x = new BigInteger(1, Base64.getDecoder().decode(x)); // either direct or cached\r\n                            BigInteger y = new BigInteger(1, Base64.getDecoder().decode(y)); // ditto\r\n                            PublicKey ecPublicKey = KeyFactory.getInstance(&quot;EC&quot;).generatePublic(new ECPublicKeySpec(new ECPoint(x,y), p));\r\n                            return ecPublicKey;\r\n                        } catch (NoSuchAlgorithmException | InvalidKeySpecException e) {\r\n                            System.out.println(&quot;Failed to resolve key: &quot; + e);\r\n                            return null;\r\n                        } catch (InvalidParameterSpecException e) {\r\n                            throw new RuntimeException(e);\r\n                        }\r\n                    }\r\n                };\r\n\r\n                try {\r\n                    // Parse claims and validate the signature\r\n                    Jws&lt;Claims&gt; jwsClaims = Jwts.parser().setSigningKeyResolver(resolver).parseClaimsJws(signedJwtToken);\r\n                    System.out.println(&quot;Signature on this JWT is good and the JWT token has not expired&quot;);\r\n                    // OK, we can trust this JWT\r\n\r\n                    // Parse the claims\r\n                    System.out.println(&quot;JWS claims: &quot; + jwsClaims.getBody());\r\n\r\n                    // Code below to validate the claims\r\n\r\n                }\r\n                catch (Exception ex) {\r\n                    System.out.println(&quot;Unable to validate JWS&quot;);\r\n                }\r\n\r\n            }\r\n            // catch (SignatureException e)\r\n            catch (Exception e) {\r\n                // don&#39;t trust the JWT!\r\n                System.out.println(&quot;JWT is malformed or expired&quot;);\r\n            }\r\n        }\r\n\r\n        // Get the JWK Set from the JWK endpoint\r\n        private static void GetJWK(String jwkUrl, String kid) throws IOException {\r\n            URL url = new URL(jwkUrl);\r\n            HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n\r\n            try {\r\n                //URL url = new URL(jwkUrl);\r\n                System.out.println(&quot;url: &quot;+url);\r\n                //connection = (HttpURLConnection) url.openConnection();\r\n                System.out.println(&quot;connection: &quot;+connection);\r\n\r\n\r\n                connection.setRequestMethod(&quot;GET&quot;);\r\n                connection.setRequestProperty(&quot;User-Agent&quot;, USER_AGENT);\r\n                int responseCode = connection.getResponseCode();\r\n                System.out.println(&quot;GET Response Code :: &quot; + responseCode);\r\n\r\n                BufferedReader rd = new BufferedReader(new InputStreamReader(connection.getInputStream()));\r\n\r\n                System.out.println(&quot;rd: &quot;+rd);\r\n                //StringBuilder response = new StringBuilder();\r\n                String inputLine;\r\n                StringBuffer response = new StringBuffer();\r\n                while ((inputLine = rd.readLine()) != null) {\r\n                    response.append(inputLine);\r\n                }\r\n                //in.close();\r\n\r\n                // print result\r\n                System.out.println(response.toString());\r\n\r\n                System.out.println(&quot;response:--&gt; &quot;+response);\r\n                String line;\r\n                //while ((line = rd.readLine()) != null) {\r\n                //\tresponse.append(line);\r\n                //\tresponse.append(&#39;\\r&#39;);\r\n\r\n                //}\r\n                rd.close();\r\n\r\n                // Jackson mapper for parsing the json\r\n                TypeReference&lt;Map&lt;String, Object&gt;&gt; typeRef = new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {};\r\n                ObjectMapper mapper = new ObjectMapper();\r\n                Map&lt;String, Object&gt; jwks = mapper.readValue(response.toString(), typeRef);\r\n                System.out.println(&quot;jwks:--&gt; &quot;+jwks);\r\n                // Get the jwk by using the key Id from the jwt\r\n                Map&lt;String, String&gt; jwk = GetKeyById(jwks, kid);\r\n                System.out.println(&quot;jwk:--&gt; &quot;+jwk);\r\n                // Get the modulus &#39;n&#39; &amp; the exponent &#39;n&#39; from the JWK &amp; add it to cache\r\n                if (jwk != null) {\r\n                   \r\n                }\r\n            } catch (Exception e) {\r\n                // Unable to fetch JWKS. Terminate this program\r\n                System.out.println(&quot;Error getting jwks: &quot; + e);\r\n            } finally {\r\n                if (connection != null) {\r\n                    connection.disconnect();\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n    static private Map&lt;String, String&gt; GetKeyById(Map&lt;String, Object&gt; jwks, String kid) {\r\n        List&lt;Map&lt;String, String&gt;&gt; keys = (List&lt;Map&lt;String, String&gt;&gt;)jwks.get(&quot;keys&quot;);\r\n        Map&lt;String, String&gt; ret = null;\r\n        for (int i = 0; i &lt; keys.size(); i++) {\r\n            if (keys.get(i).get(&quot;kid&quot;).equals(kid)) {\r\n                System.out.println(&quot;i--&gt;&quot;+ keys.get(i).get(&quot;kid&quot;));\r\n                System.out.println(&quot;i set--&gt;&quot;+ keys.get(i));\r\n                return keys.get(i);\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nJWT signature does not match locally computed signature. JWT validity cannot be asserted and should not be trusted.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nNohB.png\r\n\r\n\r\ncert part worked as below:\r\n```\r\nString x5c=&quot;&quot;;\r\n                        System.out.println(&quot; x5c =&quot;+x5c);\r\n                        String stripped = x5c.replaceAll(&quot;-----BEGIN (.*)-----&quot;, &quot;&quot;);\r\n                        stripped = stripped.replaceAll(&quot;-----END (.*)----&quot;, &quot;&quot;);\r\n                        stripped = stripped.replaceAll(&quot;\\r\\n&quot;, &quot;&quot;);\r\n                        stripped = stripped.replaceAll(&quot;\\n&quot;, &quot;&quot;);\r\n                        stripped.trim();\r\n                        System.out.println(&quot; stripped =&quot;+stripped);\r\n                        byte[] keyBytes = com.sun.org.apache.xerces.internal.impl.dv.util.Base64.decode(stripped);\r\n                        CertificateFactory fact = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n                        X509Certificate cer = (X509Certificate) fact.generateCertificate(new ByteArrayInputStream(keyBytes));\r\n                        System.out.println(cer);\r\n                        return cer.getPublicKey();\r\n```\r\n\r\n","title":"ECDSA ES256 JWKS JWT signature verification in Java (Elliptic Curve Signatures)","body":"<p>I have to do signature verification of a token in Java which uses algorithm as ES256</p>\n<pre class=\"lang-json prettyprint-override\"><code>{&quot;typ&quot;:&quot;JWT&quot;,&quot;alg&quot;:&quot;ES256&quot;,&quot;kid&quot;:&quot;4&quot;}\n</code></pre>\n<p>The public JWKS has below format:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;kty&quot; : &quot;EC&quot;,\n    &quot;kid&quot; : &quot;4&quot;,\n    &quot;use&quot; : &quot;sig&quot;,\n    &quot;x&quot; : &quot;hkjfghkjfdghkjdfsglkdjhg&quot;,\n    &quot;y&quot; : &quot;skjgf krhgkre&quot;,\n    &quot;crv&quot; : &quot;P-256&quot;,\n    &quot;x5c&quot; : [ &quot;uchfgurhnvgrejbhkltjrhbkrknlytknjlkfldfmndfkfvmlkasdfkljflksdanfgklnsdkjfnsadkjnkjdfnglksdfhkljdlkhfklhjdfgklghjkldfjklfjgklnvdfngjksdnfngkjvnsdfjkvsdfjkgndjkhnkjdsnhkltejhk&quot; ],\n    &quot;x5t&quot; : &quot;jcdhsvkjgnrekngk&quot;\n  }\n</code></pre>\n<p>What is the way to verify these?</p>\n<p>I had a look in the RS256 JWT token verification where the public JWKS is very different as below:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;kty&quot; : &quot;RSA&quot;,\n    &quot;kid&quot; : &quot;16&quot;,\n    &quot;use&quot; : &quot;sig&quot;,\n    &quot;n&quot; : &quot;sdghjfhgjhfjdghjkdfhghfdghfdkjhgkjfhgkjfhgkjhfjkffghjkshgjkfhgjkhfjkghjkfhgjkhfgjkhfjkghjkfhgjkafhjghfjkhgkjfhgkjhfjklghlsjkfhgjksfagmfnvmbrgmberkjltgnerkjhgjkerngkjerngjkhsjkghsjklghjkhgjkhjkghjkfahgjkhgjkhfjklghjkfhg&quot;,\n    &quot;e&quot; : &quot;AQAB&quot;,\n    &quot;x5c&quot; : [ &quot;MIIClkdfgjlkdfjklgjdfkljgkfdjgkljfkgjfklgjkldjgdfjgkldftuioreutiourtoiuriotuieorutiorutioeurtiueriotuioerwutioerutioukgjkldjgkldfjgkljklgjdfklgjorutoireutioerutiueriotuklgjkldjgklsdfjgkldfjgklsdjgkl&quot; ],\n    &quot;x5t&quot; : &quot;jshgjfhgjkhkhghgkdfhgklhdklh&quot;\n  }\n</code></pre>\n<p>Is there any library in Java which offers this functionality? I think in RS256 modulus and exponent is used to verify the signature, but what is used for ES256, I am not sure.</p>\n<p>Please find the code that i am using for RS256.</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.math.BigInteger;\n\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport java.net.URLConnection;\nimport java.security.Key;\nimport java.security.KeyFactory;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.PublicKey;\nimport java.security.spec.InvalidKeySpecException;\nimport java.security.spec.RSAPublicKeySpec;\nimport java.util.Base64;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Scanner;\nimport java.util.concurrent.TimeUnit;\n\nimport org.cache2k.Cache;\nimport org.cache2k.Cache2kBuilder;\n\nimport com.fasterxml.jackson.core.JsonParseException;\nimport com.fasterxml.jackson.core.type.TypeReference;\nimport com.fasterxml.jackson.databind.JsonMappingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\nimport io.jsonwebtoken.Claims;\nimport io.jsonwebtoken.Header;\nimport io.jsonwebtoken.Jws;\nimport io.jsonwebtoken.JwsHeader;\nimport io.jsonwebtoken.Jwt;\nimport io.jsonwebtoken.Jwts;\nimport io.jsonwebtoken.SigningKeyResolver;\nimport io.jsonwebtoken.SigningKeyResolverAdapter;\nimport java.net.HttpURLConnection;\n\npublic class JWTValidation {\n    \n    //Externalize the hosts as per the environment\n    \n    private static final String USER_AGENT = &quot;Mozilla/5.0&quot;;\n    // Create a cache object\n    final static Cache&lt;String,String&gt; _cache = new Cache2kBuilder&lt;String, String&gt;() {}\n      .expireAfterWrite(30, TimeUnit.MINUTES)    // expire/refresh after 30 minutes\n    .build();     \n    static String _jwkVersionCache = _cache.peek(&quot;jwk_version&quot;);\n    static String _modulusCache = _cache.peek(&quot;modulus&quot;);\n    static String _exponentCache = _cache.peek(&quot;exponent&quot;);\n    \n    public static void main(String[] args) throws JsonParseException, JsonMappingException, IOException {   \n        System.out.println(&quot;Sample code to validate JWT&quot;);  \n        // Running the code in loop to test multiple scenarios\n        while(true) {   \n            \n            // Used only for console app to get the JWS as user input\n            Scanner reader = new Scanner(System.in);\n            // Get the JWT \n            System.out.println(&quot;Enter jwt or enter exit to terminate&quot;); \n            String signedJwtToken = reader.next();\n\n            if(signedJwtToken.equalsIgnoreCase(&quot;Exit&quot;)) \n            {               \n                break;\n            }\n            \n            try {\n                // Validate the signed JWT (JWS)\n                ValidateJWS(signedJwtToken);\n            }\n            catch (Exception e) {\n                System.out.println(&quot;JWS validation failed&quot;);\n            }\n            finally {\n\n            }\n        }               \n    }   \n    \n    // Code to validate signed JWT (JWS)\n    private static void ValidateJWS(String signedJwtToken)\n    {\n        StringBuilder sb = null;\n        String jwtWithoutSignature; \n        String jwtVersion;\n        String jwksUri;\n        String jwksUrl;\n        String kid;\n        TypeReference&lt;Map&lt;String, Object&gt;&gt; typeRef = new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {};\n        ObjectMapper mapper = new ObjectMapper();   \n        Map&lt;String, Object&gt; jwks = null;\n            \n        @SuppressWarnings(&quot;rawtypes&quot;)\n        Jwt&lt;Header, Claims&gt; jwtClaims = null;\n        try {           \n            \n            // Extract the base64 encoded JWT from the signed JWT token (JWS) \n            sb = new StringBuilder();\n            sb.append(signedJwtToken);\n            jwtWithoutSignature = sb.substring(0, sb.toString().lastIndexOf(&quot;.&quot;) + 1);  \n            \n            // Parse claims without validating the signature\n            jwtClaims = Jwts.parser().parseClaimsJwt(jwtWithoutSignature);  \n            \n            // Extract the jwk uri 'jku' &amp; the version 'ver' from the JWT   \n            jwtVersion = (String) jwtClaims.getBody().get(&quot;ver&quot;);\n            jwksUri = (String) jwtClaims.getBody().get(&quot;jku&quot;);\n            // Extract the kid from JWT\n            kid = (String) jwtClaims.getHeader().get(&quot;kid&quot;);\n            \n            jwksUrl = jwksHost;\n            System.out.println(&quot;jwtVersion: &quot; + jwtVersion);\n            System.out.println(&quot;jwksUri: &quot; + jwksUri);\n            System.out.println(&quot;kid: &quot; + kid);\n            \n            // Cache the jwk version (ver), modulus (n) and exponent (e) for lifetime of the application.\n            // The JWT version will be same as jwk version. The jwt version will change only when the \n            // JWT signing certificate is renewed.\n            // Invoke the JWK url only if the jwt version is different from the JWK version. \n            \n            // check if the JWK version is cached or not\n            if (_cache.get(&quot;jwk_version&quot;) != null) {\n                // check if jwt version is same as jwk version \n                if (!jwtVersion.equals(_jwkVersionCache)) {\n                    // Get the jwk key &amp; add the modulus, exponent &amp; the jwk version to the cache\n                    GetJWK(jwksUrl, kid);   \n                }\n            }\n            else\n            {\n                // Get the jwk key &amp; add the modulus, exponent &amp; the jwk version to the cache\n                GetJWK(jwksUrl, kid);       \n            }\n            \n            // Calling the setSigningKeyResolver as the JWT is parsed before validating the signature \n            SigningKeyResolver resolver = new SigningKeyResolverAdapter() {\n                @SuppressWarnings(&quot;rawtypes&quot;)\n                public Key resolveSigningKey(JwsHeader jwsHeader, Claims claims) {\n                    try {            \n                        // Build the RSA public key from modulus &amp; exponent in JWK \n                        BigInteger modulus = new BigInteger(1, Base64.getUrlDecoder().decode(_modulusCache));\n                        BigInteger exponent = new BigInteger(1, Base64.getUrlDecoder().decode(_exponentCache));\n                        PublicKey rsaPublicKey = KeyFactory.getInstance(&quot;RSA&quot;).generatePublic(new RSAPublicKeySpec(modulus, exponent));\n                        return rsaPublicKey;\n                    } catch (NoSuchAlgorithmException | InvalidKeySpecException e) {\n                        System.out.println(&quot;Failed to resolve key: &quot; + e);\n                        return null;\n                    }\n                }\n            };\n            \n            try {\n                // Parse claims and validate the signature\n                Jws&lt;Claims&gt; jwsClaims = Jwts.parser().setSigningKeyResolver(resolver).parseClaimsJws(signedJwtToken);\n                System.out.println(&quot;Signature on this JWT is good and the JWT token has not expired&quot;);\n                // OK, we can trust this JWT\n                \n                // Parse the claims\n                System.out.println(&quot;JWS claims: &quot; + jwsClaims.getBody());\n                \n                // Code below to validate the claims\n                \n            }\n            catch (Exception ex) {\n                System.out.println(&quot;Unable to validate JWS&quot;);\n            }\n\n        }\n        // catch (SignatureException e)\n        catch (Exception e) {\n            // don't trust the JWT!\n            System.out.println(&quot;JWT is malformed or expired&quot;);\n        }                   \n    }\n        \n    // Get the corresponding JWK using key Id from the JWK set \n    @SuppressWarnings(&quot;unchecked&quot;)\n    static private Map&lt;String, String&gt; GetKeyById(Map&lt;String, Object&gt; jwks, String kid) {\n        List&lt;Map&lt;String, String&gt;&gt; keys = (List&lt;Map&lt;String, String&gt;&gt;)jwks.get(&quot;keys&quot;);\n        Map&lt;String, String&gt; ret = null;\n        for (int i = 0; i &lt; keys.size(); i++) {\n            if (keys.get(i).get(&quot;kid&quot;).equals(kid)) {\n                System.out.println(&quot;i--&gt;&quot;+ keys.get(i).get(&quot;kid&quot;));\n                System.out.println(&quot;i set--&gt;&quot;+ keys.get(i));\n                return keys.get(i);\n            }\n        }    \n        return ret;\n    }\n   \n    // Get the JWK Set from the JWK endpoint \n    private static void GetJWK(String jwkUrl, String kid) throws IOException {\n        URL url = new URL(jwkUrl);\n        HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n\n        try {\n            //URL url = new URL(jwkUrl);\n            System.out.println(&quot;url: &quot;+url);\n            //connection = (HttpURLConnection) url.openConnection();\n            System.out.println(&quot;connection: &quot;+connection);\n\n\n            connection.setRequestMethod(&quot;GET&quot;);\n            connection.setRequestProperty(&quot;User-Agent&quot;, USER_AGENT);\n            int responseCode = connection.getResponseCode();\n            System.out.println(&quot;GET Response Code :: &quot; + responseCode);\n\n            BufferedReader rd = new BufferedReader(new InputStreamReader(connection.getInputStream()));\n\n            System.out.println(&quot;rd: &quot;+rd);\n            //StringBuilder response = new StringBuilder();\n            String inputLine;\n            StringBuffer response = new StringBuffer();\n            while ((inputLine = rd.readLine()) != null) {\n                response.append(inputLine);\n            }\n            //in.close();\n\n            // print result\n            System.out.println(response.toString());\n\n            System.out.println(&quot;response:--&gt; &quot;+response);\n            String line;\n            //while ((line = rd.readLine()) != null) {\n            //  response.append(line);\n            //  response.append('\\r');\n\n            //}\n            rd.close();\n            \n            // Jackson mapper for parsing the json\n            TypeReference&lt;Map&lt;String, Object&gt;&gt; typeRef = new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {};\n            ObjectMapper mapper = new ObjectMapper();\n            Map&lt;String, Object&gt; jwks = mapper.readValue(response.toString(), typeRef);\n            \n            // Get the jwk by using the key Id from the jwt\n            Map&lt;String, String&gt; jwk = GetKeyById(jwks, kid);\n            \n            // Get the modulus 'n' &amp; the exponent 'n' from the JWK &amp; add it to cache \n            if (jwk != null) {\n                \n                _cache.put(&quot;modulus&quot;, jwk.get(&quot;x5c&quot;));\n                    \n                _modulusCache = _cache.get(&quot;modulus&quot;);\n                \n                _cache.put(&quot;exponent&quot;, jwk.get(&quot;e&quot;));\n                \n                _exponentCache = _cache.get(&quot;exponent&quot;);\n                \n                _cache.put(&quot;jwk_version&quot;, jwk.get(&quot;ver&quot;));\n                \n                _jwkVersionCache = _cache.get(&quot;jwk_version&quot;);\n                \n            }            \n        } catch (Exception e) {\n            // Unable to fetch JWKS. Terminate this program\n            System.out.println(&quot;Error getting jwks: &quot; + e);             \n        } finally {\n            if (connection != null) {\n                connection.disconnect();\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>RFC says:\n<a href=\"https://www.rfc-editor.org/rfc/rfc7518#section-3.1\" rel=\"nofollow noreferrer\">https://www.rfc-editor.org/rfc/rfc7518#section-3.1</a></p>\n<p>&quot;alg&quot; Param value = ES256\nDigital Signature or MAC value = ECDSA using P-256 and SHA-256</p>\n<hr />\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.math.BigInteger;\n\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport java.net.URLConnection;\nimport java.security.*;\nimport java.security.spec.*;\nimport java.text.ParseException;\nimport java.util.Base64;\nimport java.util.Base64.Decoder;\nimport java.util.Base64.Encoder;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Scanner;\nimport java.util.concurrent.TimeUnit;\n\nimport com.nimbusds.jose.JOSEException;\nimport org.cache2k.Cache;\nimport org.cache2k.Cache2kBuilder;\n\nimport com.fasterxml.jackson.core.JsonParseException;\nimport com.fasterxml.jackson.core.type.TypeReference;\nimport com.fasterxml.jackson.databind.JsonMappingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\nimport io.jsonwebtoken.Claims;\nimport io.jsonwebtoken.Header;\nimport io.jsonwebtoken.Jws;\nimport io.jsonwebtoken.JwsHeader;\nimport io.jsonwebtoken.Jwt;\nimport io.jsonwebtoken.Jwts;\nimport io.jsonwebtoken.SigningKeyResolver;\nimport io.jsonwebtoken.SigningKeyResolverAdapter;\nimport java.net.HttpURLConnection;\n\n\npublic class Es256stack {\n\n    final static String jwksHost = &quot;&quot;;\n    \n    private static final String USER_AGENT = &quot;Mozilla/5.0&quot;;\n    // Create a cache object\n    final static Cache&lt;String,String&gt; _cache = new Cache2kBuilder&lt;String, String&gt;() {}\n            .expireAfterWrite(30, TimeUnit.MINUTES)    // expire/refresh after 30 minutes\n            .build();\n    static String _jwkVersionCache = _cache.peek(&quot;jwk_version&quot;);\n    static String _modulusCache = _cache.peek(&quot;modulus&quot;);\n    static String _exponentCache = _cache.peek(&quot;exponent&quot;);\n\n\n\n    public static void main(String[] args) throws NoSuchAlgorithmException, InvalidParameterSpecException, InvalidKeySpecException {\n        ValidateJWS(signedJwtToken);\n    }\n\n        //String signedJwtToken=&quot;&quot;;\n\n        // Code to validate signed JWT (JWS)\n        private static void ValidateJWS(String signedJwtToken)\n        {\n            StringBuilder sb = null;\n            String jwtWithoutSignature;\n            String jwtVersion;\n            String jwksUri;\n            String jwksUrl;\n            String kid;\n            TypeReference&lt;Map&lt;String, Object&gt;&gt; typeRef = new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {};\n            ObjectMapper mapper = new ObjectMapper();\n            Map&lt;String, Object&gt; jwks = null;\n\n            @SuppressWarnings(&quot;rawtypes&quot;)\n            Jwt&lt;Header, Claims&gt; jwtClaims = null;\n            try {\n\n                // Extract the base64 encoded JWT from the signed JWT token (JWS)\n                sb = new StringBuilder();\n                sb.append(signedJwtToken);\n                jwtWithoutSignature = sb.substring(0, sb.toString().lastIndexOf(&quot;.&quot;) + 1);\n\n                // Parse claims without validating the signature\n                jwtClaims = Jwts.parser().parseClaimsJwt(jwtWithoutSignature);\n\n                // Extract the jwk uri 'jku' &amp; the version 'ver' from the JWT\n                jwtVersion = (String) jwtClaims.getBody().get(&quot;ver&quot;);\n                jwksUri = (String) jwtClaims.getBody().get(&quot;jku&quot;);\n                // Extract the kid from JWT\n                kid = (String) jwtClaims.getHeader().get(&quot;kid&quot;);\n\n                jwksUrl = &quot;&quot;;\n                System.out.println(&quot;jwtVersion: &quot; + jwtVersion);\n                System.out.println(&quot;jwksUri: &quot; + jwksUri);\n                System.out.println(&quot;kid: &quot; + kid);\n\n                // Cache the jwk version (ver), modulus (n) and exponent (e) for lifetime of the application.\n                // The JWT version will be same as jwk version. The jwt version will change only when the\n                // JWT signing certificate is renewed.\n                // Invoke the JWK url only if the jwt version is different from the JWK version.\n\n                // check if the JWK version is cached or not\n                if (_cache.get(&quot;jwk_version&quot;) != null) {\n                    // check if jwt version is same as jwk version\n                    if (!jwtVersion.equals(_jwkVersionCache)) {\n                        // Get the jwk key &amp; add the modulus, exponent &amp; the jwk version to the cache\n                        GetJWK(jwksUrl, kid);\n                    }\n                }\n                else\n                {\n                    // Get the jwk key &amp; add the modulus, exponent &amp; the jwk version to the cache\n                    GetJWK(jwksUrl, kid);\n                }\n\n                // Calling the setSigningKeyResolver as the JWT is parsed before validating the signature\n                SigningKeyResolver resolver = new SigningKeyResolverAdapter() {\n                    @SuppressWarnings(&quot;rawtypes&quot;)\n                    public Key resolveSigningKey(JwsHeader jwsHeader, Claims claims) {\n                        try {\n                            AlgorithmParameters a = AlgorithmParameters.getInstance(&quot;EC&quot;);\n                            a.init(new ECGenParameterSpec(&quot;secp256r1&quot;));\n                            ECParameterSpec p = a.getParameterSpec(ECParameterSpec.class);\n                            // Build the RSA public key from modulus &amp; exponent in JWK\n                            BigInteger x = new BigInteger(1, Base64.getDecoder().decode(x)); // either direct or cached\n                            BigInteger y = new BigInteger(1, Base64.getDecoder().decode(y)); // ditto\n                            PublicKey ecPublicKey = KeyFactory.getInstance(&quot;EC&quot;).generatePublic(new ECPublicKeySpec(new ECPoint(x,y), p));\n                            return ecPublicKey;\n                        } catch (NoSuchAlgorithmException | InvalidKeySpecException e) {\n                            System.out.println(&quot;Failed to resolve key: &quot; + e);\n                            return null;\n                        } catch (InvalidParameterSpecException e) {\n                            throw new RuntimeException(e);\n                        }\n                    }\n                };\n\n                try {\n                    // Parse claims and validate the signature\n                    Jws&lt;Claims&gt; jwsClaims = Jwts.parser().setSigningKeyResolver(resolver).parseClaimsJws(signedJwtToken);\n                    System.out.println(&quot;Signature on this JWT is good and the JWT token has not expired&quot;);\n                    // OK, we can trust this JWT\n\n                    // Parse the claims\n                    System.out.println(&quot;JWS claims: &quot; + jwsClaims.getBody());\n\n                    // Code below to validate the claims\n\n                }\n                catch (Exception ex) {\n                    System.out.println(&quot;Unable to validate JWS&quot;);\n                }\n\n            }\n            // catch (SignatureException e)\n            catch (Exception e) {\n                // don't trust the JWT!\n                System.out.println(&quot;JWT is malformed or expired&quot;);\n            }\n        }\n\n        // Get the JWK Set from the JWK endpoint\n        private static void GetJWK(String jwkUrl, String kid) throws IOException {\n            URL url = new URL(jwkUrl);\n            HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n\n            try {\n                //URL url = new URL(jwkUrl);\n                System.out.println(&quot;url: &quot;+url);\n                //connection = (HttpURLConnection) url.openConnection();\n                System.out.println(&quot;connection: &quot;+connection);\n\n\n                connection.setRequestMethod(&quot;GET&quot;);\n                connection.setRequestProperty(&quot;User-Agent&quot;, USER_AGENT);\n                int responseCode = connection.getResponseCode();\n                System.out.println(&quot;GET Response Code :: &quot; + responseCode);\n\n                BufferedReader rd = new BufferedReader(new InputStreamReader(connection.getInputStream()));\n\n                System.out.println(&quot;rd: &quot;+rd);\n                //StringBuilder response = new StringBuilder();\n                String inputLine;\n                StringBuffer response = new StringBuffer();\n                while ((inputLine = rd.readLine()) != null) {\n                    response.append(inputLine);\n                }\n                //in.close();\n\n                // print result\n                System.out.println(response.toString());\n\n                System.out.println(&quot;response:--&gt; &quot;+response);\n                String line;\n                //while ((line = rd.readLine()) != null) {\n                //  response.append(line);\n                //  response.append('\\r');\n\n                //}\n                rd.close();\n\n                // Jackson mapper for parsing the json\n                TypeReference&lt;Map&lt;String, Object&gt;&gt; typeRef = new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {};\n                ObjectMapper mapper = new ObjectMapper();\n                Map&lt;String, Object&gt; jwks = mapper.readValue(response.toString(), typeRef);\n                System.out.println(&quot;jwks:--&gt; &quot;+jwks);\n                // Get the jwk by using the key Id from the jwt\n                Map&lt;String, String&gt; jwk = GetKeyById(jwks, kid);\n                System.out.println(&quot;jwk:--&gt; &quot;+jwk);\n                // Get the modulus 'n' &amp; the exponent 'n' from the JWK &amp; add it to cache\n                if (jwk != null) {\n                   \n                }\n            } catch (Exception e) {\n                // Unable to fetch JWKS. Terminate this program\n                System.out.println(&quot;Error getting jwks: &quot; + e);\n            } finally {\n                if (connection != null) {\n                    connection.disconnect();\n                }\n            }\n        }\n\n\n    static private Map&lt;String, String&gt; GetKeyById(Map&lt;String, Object&gt; jwks, String kid) {\n        List&lt;Map&lt;String, String&gt;&gt; keys = (List&lt;Map&lt;String, String&gt;&gt;)jwks.get(&quot;keys&quot;);\n        Map&lt;String, String&gt; ret = null;\n        for (int i = 0; i &lt; keys.size(); i++) {\n            if (keys.get(i).get(&quot;kid&quot;).equals(kid)) {\n                System.out.println(&quot;i--&gt;&quot;+ keys.get(i).get(&quot;kid&quot;));\n                System.out.println(&quot;i set--&gt;&quot;+ keys.get(i));\n                return keys.get(i);\n            }\n        }\n        return ret;\n    }\n\n\n\n\n\n\n\n}\n\n</code></pre>\n<p>JWT signature does not match locally computed signature. JWT validity cannot be asserted and should not be trusted.</p>\n<p><a href=\"https://i.stack.imgur.com/nNohB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nNohB.png\" alt=\"enter image description here\" /></a></p>\n<p>cert part worked as below:</p>\n<pre><code>String x5c=&quot;&quot;;\n                        System.out.println(&quot; x5c =&quot;+x5c);\n                        String stripped = x5c.replaceAll(&quot;-----BEGIN (.*)-----&quot;, &quot;&quot;);\n                        stripped = stripped.replaceAll(&quot;-----END (.*)----&quot;, &quot;&quot;);\n                        stripped = stripped.replaceAll(&quot;\\r\\n&quot;, &quot;&quot;);\n                        stripped = stripped.replaceAll(&quot;\\n&quot;, &quot;&quot;);\n                        stripped.trim();\n                        System.out.println(&quot; stripped =&quot;+stripped);\n                        byte[] keyBytes = com.sun.org.apache.xerces.internal.impl.dv.util.Base64.decode(stripped);\n                        CertificateFactory fact = CertificateFactory.getInstance(&quot;X.509&quot;);\n                        X509Certificate cer = (X509Certificate) fact.generateCertificate(new ByteArrayInputStream(keyBytes));\n                        System.out.println(cer);\n                        return cer.getPublicKey();\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":5031827,"reputation":420,"user_id":5599966,"accept_rate":71,"display_name":"Mor Blau"},"score":0,"creation_date":1669623164,"post_id":74539464,"comment_id":131675480,"body_markdown":"Have you tried using fasterxml json annotations?","body":"Have you tried using fasterxml json annotations?"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1669984198,"post_id":74539464,"comment_id":131772797,"body_markdown":"Can you provide example data from database? Also `repository.findAll()` does not create the JSON representation","body":"Can you provide example data from database? Also <code>repository.findAll()</code> does not create the JSON representation"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1669984786,"post_id":74539464,"comment_id":131772980,"body_markdown":"Possible duplicate of: https://stackoverflow.com/questions/30895286/spring-mvc-how-to-return-simple-string-as-json-in-rest-controller","body":"Possible duplicate of: <a href=\"https://stackoverflow.com/questions/30895286/spring-mvc-how-to-return-simple-string-as-json-in-rest-controller\" title=\"spring mvc how to return simple string as json in rest controller\">stackoverflow.com/questions/30895286/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":16644372,"reputation":3,"user_id":13169307,"display_name":"tanishq porwar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669751884,"creation_date":1669751884,"answer_id":74619609,"question_id":74539464,"body_markdown":"&gt; If I label the customTypeObject as a String, the reponse is something like below [{id: 1, customTypeObject: &quot;(1,2)&quot;}]\r\n\r\nbased on your example, I assume you are storing a JSON string. You can create a DTO class and use [mapstruct][1] to define a mapper from your entity to DTO. You can you [fasterxml][2] to parse the string to object\r\n\r\n```java\r\n// entity class\r\n@Entity\r\n@Table(name = &quot;something&quot;) \r\npublic class Test {\r\n    @Id\r\n    private Integer id;\r\n\r\n    private String customTypeObject;\r\n\r\n    // Other fields, getters, and setters not shown\r\n}\r\n\r\n// DTO class\r\npublic class TestDTO {\r\n\r\n   // same fields as Entity \r\n\r\n   private Map&lt;String,Object&gt; customTypeObject;\r\n   // or private Object customTypeObject;\r\n\r\n}\r\n\r\n// mapper class\r\n@Mapper\r\npublic interface TestMapper {\r\n\r\n   TestMapper INSTANCE =  Mappers.getMapper(TestMapper.class);\r\n   ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n   @Mappings({\r\n       @Mapping(source = &quot;test.customTypeObject&quot;, target = &quot;customTypeObject&quot;, qualifiedByName = &quot;parseCustomObject&quot;)\r\n    })\r\n    TestDTO entityToDto(Test test)\r\n    \r\n    List&lt;TestDTO&gt; entitiesToDto(List&lt;Test&gt; tests) \r\n\r\n    // the return type of this method must be the same as the datatype for the field in the dto class\r\n    @Named(&quot;parseCustomObject&quot;)\r\n    static Map&lt;String,Object&gt; getCustomObject(String objStr) throws JsonProcessingException {\r\n      Map&lt;String, Object&gt; objectMap = new HashMap&lt;&gt;();\r\n      if (Objects.nonNull(objStr)) {\r\n        objectMap = objectMapper.readValue(objStr, Map.class);\r\n      }\r\n      return objectMap;\r\n    }\r\n\r\n}\r\n\r\n// controller or service class\r\n@Controller \r\npublic class TestController {\r\n    @AutoWired\r\n    private TestRepository repo\r\n\r\n    @GetMapping(&quot;/test&quot;)\r\n    private List&lt;TestDTO&gt; test() {\r\n        List&lt;Test&gt; t = repo.findAll();\r\n        return TestMapper.INSTANCE.entitiesToDto(t);\r\n    }\r\n}\r\n\r\n\r\n\r\n```\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.mapstruct/mapstruct\r\n  [2]: https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core","title":"Handling SQL Custom Type as JSON Response using Hibernate + JPA + Spring Web","body":"<blockquote>\n<p>If I label the customTypeObject as a String, the reponse is something like below [{id: 1, customTypeObject: &quot;(1,2)&quot;}]</p>\n</blockquote>\n<p>based on your example, I assume you are storing a JSON string. You can create a DTO class and use <a href=\"https://mvnrepository.com/artifact/org.mapstruct/mapstruct\" rel=\"nofollow noreferrer\">mapstruct</a> to define a mapper from your entity to DTO. You can you <a href=\"https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core\" rel=\"nofollow noreferrer\">fasterxml</a> to parse the string to object</p>\n<pre class=\"lang-java prettyprint-override\"><code>// entity class\n@Entity\n@Table(name = &quot;something&quot;) \npublic class Test {\n    @Id\n    private Integer id;\n\n    private String customTypeObject;\n\n    // Other fields, getters, and setters not shown\n}\n\n// DTO class\npublic class TestDTO {\n\n   // same fields as Entity \n\n   private Map&lt;String,Object&gt; customTypeObject;\n   // or private Object customTypeObject;\n\n}\n\n// mapper class\n@Mapper\npublic interface TestMapper {\n\n   TestMapper INSTANCE =  Mappers.getMapper(TestMapper.class);\n   ObjectMapper objectMapper = new ObjectMapper();\n\n   @Mappings({\n       @Mapping(source = &quot;test.customTypeObject&quot;, target = &quot;customTypeObject&quot;, qualifiedByName = &quot;parseCustomObject&quot;)\n    })\n    TestDTO entityToDto(Test test)\n    \n    List&lt;TestDTO&gt; entitiesToDto(List&lt;Test&gt; tests) \n\n    // the return type of this method must be the same as the datatype for the field in the dto class\n    @Named(&quot;parseCustomObject&quot;)\n    static Map&lt;String,Object&gt; getCustomObject(String objStr) throws JsonProcessingException {\n      Map&lt;String, Object&gt; objectMap = new HashMap&lt;&gt;();\n      if (Objects.nonNull(objStr)) {\n        objectMap = objectMapper.readValue(objStr, Map.class);\n      }\n      return objectMap;\n    }\n\n}\n\n// controller or service class\n@Controller \npublic class TestController {\n    @AutoWired\n    private TestRepository repo\n\n    @GetMapping(&quot;/test&quot;)\n    private List&lt;TestDTO&gt; test() {\n        List&lt;Test&gt; t = repo.findAll();\n        return TestMapper.INSTANCE.entitiesToDto(t);\n    }\n}\n\n\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13295192,"reputation":144,"user_id":9598447,"display_name":"Brian Akumah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669755878,"creation_date":1669755878,"answer_id":74620229,"question_id":74539464,"body_markdown":"You can also use either GSON (```com.google.code.gson```) or JSONObject (```org.json.JSONObject```) to create the JSON body manually this way you can manipulate it as needed here is a link to an article that should be helpful \r\n- https://www.baeldung.com/java-org-json\r\n\r\n- https://www.baeldung.com/jackson-vs-gson","title":"Handling SQL Custom Type as JSON Response using Hibernate + JPA + Spring Web","body":"<p>You can also use either GSON (<code>com.google.code.gson</code>) or JSONObject (<code>org.json.JSONObject</code>) to create the JSON body manually this way you can manipulate it as needed here is a link to an article that should be helpful</p>\n<ul>\n<li><p><a href=\"https://www.baeldung.com/java-org-json\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-org-json</a></p>\n</li>\n<li><p><a href=\"https://www.baeldung.com/jackson-vs-gson\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jackson-vs-gson</a></p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7226177,"reputation":3,"user_id":5514650,"display_name":"zn43"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669819142,"creation_date":1669818991,"answer_id":74629533,"question_id":74539464,"body_markdown":"Since you are using Spring, and Spring uses Jackson ObjectMapper, you could create another class to your `customTypeObject` with the respective getter methods to the fields you want to show (probably best to use Lombok&#39;s `@Getter` so you don&#39;t need to write getters), if you have a getter method Jackson will automatically create the json for you.","title":"Handling SQL Custom Type as JSON Response using Hibernate + JPA + Spring Web","body":"<p>Since you are using Spring, and Spring uses Jackson ObjectMapper, you could create another class to your <code>customTypeObject</code> with the respective getter methods to the fields you want to show (probably best to use Lombok's <code>@Getter</code> so you don't need to write getters), if you have a getter method Jackson will automatically create the json for you.</p>\n"},{"tags":[],"owner":{"account_id":17332701,"reputation":86,"user_id":12555370,"display_name":"Artique"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669924145,"creation_date":1669924145,"answer_id":74647427,"question_id":74539464,"body_markdown":"If you use JPA with Hibernate, I recommend to use [Hibernate Types][1] for mapping JSON column into POJO, Map, or even JsonNode.\r\n\r\n\r\n[Here][2] is an example explaining how to use it\r\n\r\n\r\n  [1]: https://github.com/vladmihalcea/hibernate-types\r\n  [2]: https://vladmihalcea.com/how-to-map-json-objects-using-generic-hibernate-types/","title":"Handling SQL Custom Type as JSON Response using Hibernate + JPA + Spring Web","body":"<p>If you use JPA with Hibernate, I recommend to use <a href=\"https://github.com/vladmihalcea/hibernate-types\" rel=\"nofollow noreferrer\">Hibernate Types</a> for mapping JSON column into POJO, Map, or even JsonNode.</p>\n<p><a href=\"https://vladmihalcea.com/how-to-map-json-objects-using-generic-hibernate-types/\" rel=\"nofollow noreferrer\">Here</a> is an example explaining how to use it</p>\n"},{"tags":[],"owner":{"account_id":14819652,"reputation":63,"user_id":10702431,"display_name":"Arvind Singh Rawat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670171210,"creation_date":1670171210,"answer_id":74678563,"question_id":74539464,"body_markdown":"If you want to save a Custom object in the database, then you can create your own Hibernate Convertors\r\n- [Custom Types][1]\r\n- [JPA Converter][2] *FYI, But may be out of scope*\r\n\r\nYou can also try updating the `toString()` method of your custom object&#39;s class.\r\n\r\n&gt; From your question, it is unclear where you want the desired representation, is it in a database or in a Field in UI?\r\n\r\n\r\n  [1]: https://www.baeldung.com/hibernate-custom-types\r\n  [2]: https://www.baeldung.com/jpa-attribute-converters","title":"Handling SQL Custom Type as JSON Response using Hibernate + JPA + Spring Web","body":"<p>If you want to save a Custom object in the database, then you can create your own Hibernate Convertors</p>\n<ul>\n<li><a href=\"https://www.baeldung.com/hibernate-custom-types\" rel=\"nofollow noreferrer\">Custom Types</a></li>\n<li><a href=\"https://www.baeldung.com/jpa-attribute-converters\" rel=\"nofollow noreferrer\">JPA Converter</a> <em>FYI, But may be out of scope</em></li>\n</ul>\n<p>You can also try updating the <code>toString()</code> method of your custom object's class.</p>\n<blockquote>\n<p>From your question, it is unclear where you want the desired representation, is it in a database or in a Field in UI?</p>\n</blockquote>\n"}],"owner":{"account_id":20044142,"reputation":65,"user_id":14694240,"display_name":"Metahuman Flash"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":319,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1670171210,"creation_date":1669154435,"question_id":74539464,"body_markdown":"I have an entity class with a custom type field among other fields\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;something&quot;) \r\npublic class Test {\r\n    @Id\r\n    private Integer id;\r\n\r\n    private &lt;SomethingHere&gt; customTypeObject;\r\n\r\n    // Other fields, getters, and setters not shown\r\n}\r\n```\r\n\r\nUsing that class I am generating a json representation of the data using repository.findAll()\r\n\r\n```java\r\n@Controller \r\npublic class TestController {\r\n    @AutoWired\r\n    private TestRepository repo\r\n\r\n    @GetMapping(&quot;/test&quot;)\r\n    private List&lt;Test&gt; test() {\r\n        return repo.findAll();\r\n    }\r\n}\r\n```\r\n\r\nThe JSON response to the user is intended to display the fields within the custom type in JSON format.\r\nIf I label the customTypeObject as a String, the reponse is something like below\r\n`[{id: 1, customTypeObject: &quot;(1,2)&quot;}]`\r\nWhereas I would prefer a response like \r\n`[{id: 1, customTypeObject: { A: 1, B: 2 }}]`\r\n\r\nI realize I could do this by creating another entity class for the custom type where I manually type out the fields but I plan on increasing the number of fields in the custom type frequently during the development process so I would prefer if the program would keep track of the fields for me.\r\n\r\nIs there any way this could be accomplished?","title":"Handling SQL Custom Type as JSON Response using Hibernate + JPA + Spring Web","body":"<p>I have an entity class with a custom type field among other fields</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;something&quot;) \npublic class Test {\n    @Id\n    private Integer id;\n\n    private &lt;SomethingHere&gt; customTypeObject;\n\n    // Other fields, getters, and setters not shown\n}\n</code></pre>\n<p>Using that class I am generating a json representation of the data using repository.findAll()</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller \npublic class TestController {\n    @AutoWired\n    private TestRepository repo\n\n    @GetMapping(&quot;/test&quot;)\n    private List&lt;Test&gt; test() {\n        return repo.findAll();\n    }\n}\n</code></pre>\n<p>The JSON response to the user is intended to display the fields within the custom type in JSON format.\nIf I label the customTypeObject as a String, the reponse is something like below\n<code>[{id: 1, customTypeObject: &quot;(1,2)&quot;}]</code>\nWhereas I would prefer a response like\n<code>[{id: 1, customTypeObject: { A: 1, B: 2 }}]</code></p>\n<p>I realize I could do this by creating another entity class for the custom type where I manually type out the fields but I plan on increasing the number of fields in the custom type frequently during the development process so I would prefer if the program would keep track of the fields for me.</p>\n<p>Is there any way this could be accomplished?</p>\n"},{"tags":["java","sqlite","swing","jtable","abstracttablemodel"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1670167232,"post_id":74677753,"comment_id":131807134,"body_markdown":"Myself, I probably wouldn&#39;t use a JTable for this but rather a JPanel that uses GridLayout to display JLabels with or without an &quot;X&quot; mark.","body":"Myself, I probably wouldn&#39;t use a JTable for this but rather a JPanel that uses GridLayout to display JLabels with or without an &quot;X&quot; mark."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1670253181,"post_id":74677753,"comment_id":131827346,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670171195,"creation_date":1670170308,"answer_id":74678421,"question_id":74677753,"body_markdown":"You need to parse the ResultSet data to create your TableModel manually. \r\n\r\nI might start by creating a `TreeMap` from the ResultSet data. The room number is the key and an ArrayList can be use each non-null booked date. \r\n\r\nOnce this is done you can then create a `DefaultTableModel` with &quot;x&quot; rows and 32 columns. The number of rows will be based on the number of entries in the `TreeMap`. The first column will be the room number. The next 31 columns will be the days of the month. \r\n\r\nNow you need to read each key from the TreeMap. Each key will represent a row in the TableModel. As you read each key:\r\n\r\n1. set the room number in the first column: `setValueAt(roomNumber, currentRow, 0)`\r\n2. loop thru each booked date in the ArrayList and parse out the day. So &quot;2022-01-01&quot; will become column 1. Now you can update the value in your model using `setValueAt(&quot;X&quot;, currentRow, column)`\r\n3. increment the currentRow\r\n\r\nRepeat the above steps for all keys in the TreeMap.","title":"Java JTableModel to display horizontally","body":"<p>You need to parse the ResultSet data to create your TableModel manually.</p>\n<p>I might start by creating a <code>TreeMap</code> from the ResultSet data. The room number is the key and an ArrayList can be use each non-null booked date.</p>\n<p>Once this is done you can then create a <code>DefaultTableModel</code> with &quot;x&quot; rows and 32 columns. The number of rows will be based on the number of entries in the <code>TreeMap</code>. The first column will be the room number. The next 31 columns will be the days of the month.</p>\n<p>Now you need to read each key from the TreeMap. Each key will represent a row in the TableModel. As you read each key:</p>\n<ol>\n<li>set the room number in the first column: <code>setValueAt(roomNumber, currentRow, 0)</code></li>\n<li>loop thru each booked date in the ArrayList and parse out the day. So &quot;2022-01-01&quot; will become column 1. Now you can update the value in your model using <code>setValueAt(&quot;X&quot;, currentRow, column)</code></li>\n<li>increment the currentRow</li>\n</ol>\n<p>Repeat the above steps for all keys in the TreeMap.</p>\n"}],"owner":{"account_id":9123833,"reputation":3,"user_id":7774742,"display_name":"Hussin S Mohamed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74678421,"answer_count":1,"score":0,"last_activity_date":1670171195,"creation_date":1670165671,"question_id":74677753,"body_markdown":"I have a resultset from a query (date and room) some kind of matrix.\r\n\r\n9 room and date between (jan/01/2022 to jan/31/2022).\r\n\r\n\r\n```\r\ntry {\r\n\tString query=&quot;select  a.Tarikh AS &#39;TARIKH&#39;,a.Room AS &#39;ROOM&#39;,b.Room as &#39;BOOKED&#39;&quot;\r\n\t\t\t+ &quot;from     (Select * from Tarikh Cross Join Room) as a\\n&quot;\r\n\t\t\t+ &quot;left join Booking as b\\n&quot;\r\n\t\t\t+ &quot;on        a.Tarikh = b.Tarikh\\n&quot;\r\n\t\t\t+ &quot;and       (a.Room = b.Room)\\n&quot;\r\n\t\t\t+ &quot;WHERE        (a.Tarikh BETWEEN &#39;2022-01-01&#39; AND &#39;2022-03-01&#39;);&quot;;\r\n\tPreparedStatement pst=connection.prepareStatement(query);\r\n\tResultSet rs = pst.executeQuery();\r\n\r\n\t// this line below implement the usage of net.proteanit.sql.DbUtils (import library)    \r\n\ttable_1.setModel(DbUtils.resultSetToTableModel(rs));\r\n\t// ---      \r\n\r\n\tpst.execute();  \r\n\trs.close();\r\n} catch (Exception e) {\r\n\te.printStackT\r\n}\r\n\t\t\t\r\n```\r\n\r\n\r\nThe problem is, how do I make a JtableModel to display from this\r\n```\r\nRoom    Date            Booked\r\n101\t2022-01-01\t2022-01-01\r\n102\t2022-01-01\t2022-01-01\r\n103\t2022-01-01\t2022-01-01\r\n104\t2022-01-01\t2022-01-01\r\n105\t2022-01-01\tnull\r\n106\t2022-01-01\tnull\r\n107\t2022-01-01\tnull\r\n108\t2022-01-01\tnull\r\n109\t2022-01-01\tnull\r\n101\t2022-01-02\tnull\r\n102\t2022-01-02\t2022-01-02\r\n103\t2022-01-02\tnull\r\n104\t2022-01-02\tnull\r\n105\t2022-01-02\tnull\r\n106\t2022-01-02\tnull\r\n107\t2022-01-02\tnull\r\n108\t2022-01-02\tnull\r\n109\t2022-01-02\tnull\r\nand so on....\r\n```\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI am expecting the records to be :\r\n```\r\n       0101  0201 0301 0401 0501 and so on....\r\n101      X \r\n102      X     X\r\n103      X \r\n104      X\r\n105\r\n106\r\n107\r\n108\r\n109\r\n```\r\nDoes anyone know, please help.TQ\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DwMDK.png","title":"Java JTableModel to display horizontally","body":"<p>I have a resultset from a query (date and room) some kind of matrix.</p>\n<p>9 room and date between (jan/01/2022 to jan/31/2022).</p>\n<pre><code>try {\n    String query=&quot;select  a.Tarikh AS 'TARIKH',a.Room AS 'ROOM',b.Room as 'BOOKED'&quot;\n            + &quot;from     (Select * from Tarikh Cross Join Room) as a\\n&quot;\n            + &quot;left join Booking as b\\n&quot;\n            + &quot;on        a.Tarikh = b.Tarikh\\n&quot;\n            + &quot;and       (a.Room = b.Room)\\n&quot;\n            + &quot;WHERE        (a.Tarikh BETWEEN '2022-01-01' AND '2022-03-01');&quot;;\n    PreparedStatement pst=connection.prepareStatement(query);\n    ResultSet rs = pst.executeQuery();\n\n    // this line below implement the usage of net.proteanit.sql.DbUtils (import library)    \n    table_1.setModel(DbUtils.resultSetToTableModel(rs));\n    // ---      \n\n    pst.execute();  \n    rs.close();\n} catch (Exception e) {\n    e.printStackT\n}\n            \n</code></pre>\n<p>The problem is, how do I make a JtableModel to display from this</p>\n<pre><code>Room    Date            Booked\n101 2022-01-01  2022-01-01\n102 2022-01-01  2022-01-01\n103 2022-01-01  2022-01-01\n104 2022-01-01  2022-01-01\n105 2022-01-01  null\n106 2022-01-01  null\n107 2022-01-01  null\n108 2022-01-01  null\n109 2022-01-01  null\n101 2022-01-02  null\n102 2022-01-02  2022-01-02\n103 2022-01-02  null\n104 2022-01-02  null\n105 2022-01-02  null\n106 2022-01-02  null\n107 2022-01-02  null\n108 2022-01-02  null\n109 2022-01-02  null\nand so on....\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/DwMDK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DwMDK.png\" alt=\"enter image description here\" /></a></p>\n<p>I am expecting the records to be :</p>\n<pre><code>       0101  0201 0301 0401 0501 and so on....\n101      X \n102      X     X\n103      X \n104      X\n105\n106\n107\n108\n109\n</code></pre>\n<p>Does anyone know, please help.TQ</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":17141277,"reputation":134,"user_id":12405221,"display_name":"cha_lar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670156284,"creation_date":1670156284,"answer_id":74675508,"question_id":74674960,"body_markdown":"Since last digit is also the remainder of dividing by 10, you can use `n % 10`.","title":"how can i extract last digit from input in java","body":"<p>Since last digit is also the remainder of dividing by 10, you can use <code>n % 10</code>.</p>\n"},{"tags":[],"owner":{"account_id":26266664,"reputation":58,"user_id":19937103,"display_name":"BaoTranHero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670170902,"creation_date":1670170902,"answer_id":74678509,"question_id":74674960,"body_markdown":"The simplest way to extract last digit is modulo to 10. Example: 123 % 10 = 3\r\nAfter that, if you want to continue to extract last digit (it&#39;s 2 in this case), you should assign number = number /10 that will return the remain of the number.\r\n```\r\n// Example n = 123\r\nint lastDigit_1 = n % 10; // This will return 3\r\nn = n /10 // This will return 12 because 123 / 10 = 12\r\nint lastDigit2 = n % 10; // This will return 2\r\nn = n /10 // This will return 1\r\nint lastDigit3 = n % 10;\r\n... \r\n```\r\nTo implement the above concept, u should try using while loop for better approach.\r\n\r\nUsing while:\r\n```\r\nwhile(n != 0){\r\n   someVariable = n % 10;\r\n   // YOUR LOGIC HERE\r\n   n = n / 10;\r\n}\r\n```","title":"how can i extract last digit from input in java","body":"<p>The simplest way to extract last digit is modulo to 10. Example: 123 % 10 = 3\nAfter that, if you want to continue to extract last digit (it's 2 in this case), you should assign number = number /10 that will return the remain of the number.</p>\n<pre><code>// Example n = 123\nint lastDigit_1 = n % 10; // This will return 3\nn = n /10 // This will return 12 because 123 / 10 = 12\nint lastDigit2 = n % 10; // This will return 2\nn = n /10 // This will return 1\nint lastDigit3 = n % 10;\n... \n</code></pre>\n<p>To implement the above concept, u should try using while loop for better approach.</p>\n<p>Using while:</p>\n<pre><code>while(n != 0){\n   someVariable = n % 10;\n   // YOUR LOGIC HERE\n   n = n / 10;\n}\n</code></pre>\n"}],"owner":{"account_id":24479269,"reputation":1,"user_id":18397913,"display_name":"Vilwin Varghese"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1670170902,"creation_date":1670152110,"question_id":74674960,"body_markdown":"\r\n```\r\n\r\n```\r\n\r\n```\r\nimport java.text.BreakIterator;\r\nimport java.util.*;\r\npublic class Main {\r\n    public static void main(String args[]) {\r\n       Scanner in= new Scanner(System.in);\r\n       System.out.println(&quot;nomber&quot;);\r\n       int n= in.nextInt();\r\n       int s= n*n;\r\n       int l = (&quot;&quot;+s).length();\r\n       System.out.println(l);\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\n```\r\n\r\n```\r\n\r\n\r\n\r\nhow can I extract last digit from input in a simple way. Not so complicated like while loop.... java","title":"how can i extract last digit from input in java","body":"<pre><code>\n</code></pre>\n<pre><code>import java.text.BreakIterator;\nimport java.util.*;\npublic class Main {\n    public static void main(String args[]) {\n       Scanner in= new Scanner(System.in);\n       System.out.println(&quot;nomber&quot;);\n       int n= in.nextInt();\n       int s= n*n;\n       int l = (&quot;&quot;+s).length();\n       System.out.println(l);\n\n\n    }\n}\n</code></pre>\n<pre><code>\n</code></pre>\n<p>how can I extract last digit from input in a simple way. Not so complicated like while loop.... java</p>\n"},{"tags":["java","multithreading","synchronization"],"comments":[{"owner":{"account_id":1358888,"reputation":5876,"user_id":1296660,"display_name":"Supericy"},"score":1,"creation_date":1369219492,"post_id":16689449,"comment_id":24018481,"body_markdown":"What is the actual result and what is your expected result?","body":"What is the actual result and what is your expected result?"},{"owner":{"account_id":2739817,"reputation":1193,"user_id":2361598,"display_name":"nitegazer2003"},"score":3,"creation_date":1369219639,"post_id":16689449,"comment_id":24018557,"body_markdown":"number starts at 1, and you only ever increment it by 2. Therefore it will never be even.","body":"number starts at 1, and you only ever increment it by 2. Therefore it will never be even."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":8,"creation_date":1369221521,"post_id":16689449,"comment_id":24019600,"body_markdown":"This is not a debugging service...","body":"This is not a debugging service..."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":6,"creation_date":1458742448,"post_id":16689449,"comment_id":59996221,"body_markdown":"For every student who comes here:  Please tell your instructor that while this exercise might teach you something about _how_ to control threads, it is a really horrible example of _why_ to use threads.  If you want a program to do certain things (e.g., print numbers) in a certain order (e.g., 1, 2, 3, ...); then the absolutely _best_ way to do it is to do those things in a single thread.  Every multi-threaded program requires _some_ synchronization between threads, but the more synchronization you use, the less benefit you get from threading.  This program actually gets _negative_ benefit.","body":"For every student who comes here:  Please tell your instructor that while this exercise might teach you something about <i>how</i> to control threads, it is a really horrible example of <i>why</i> to use threads.  If you want a program to do certain things (e.g., print numbers) in a certain order (e.g., 1, 2, 3, ...); then the absolutely <i>best</i> way to do it is to do those things in a single thread.  Every multi-threaded program requires <i>some</i> synchronization between threads, but the more synchronization you use, the less benefit you get from threading.  This program actually gets <i>negative</i> benefit."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1466906974,"post_id":16689449,"comment_id":63509279,"body_markdown":"There is no reason why the threads should print numbers in alternation, even leaving aside the error about the increment. Your expectations are astray, as is the uncited &#39;some other piece of code&#39;. SO is not a validation service for arbitrary Internet junk.","body":"There is no reason why the threads should print numbers in alternation, even leaving aside the error about the increment. Your expectations are astray, as is the uncited &#39;some other piece of code&#39;. SO is not a validation service for arbitrary Internet junk."},{"owner":{"account_id":1487826,"reputation":2690,"user_id":1404798,"display_name":"Thirumalvalavan"},"score":0,"creation_date":1504595078,"post_id":16689449,"comment_id":79057064,"body_markdown":"Check it out - https://stackoverflow.com/a/29014237/1404798","body":"Check it out - <a href=\"https://stackoverflow.com/a/29014237/1404798\">stackoverflow.com/a/29014237/1404798</a>"}],"answers":[{"tags":[],"owner":{"account_id":2556881,"reputation":1451,"user_id":2218653,"accept_rate":31,"display_name":"Suvasis"},"down_vote_count":2,"up_vote_count":56,"is_accepted":true,"score":54,"last_activity_date":1477102855,"creation_date":1369286706,"answer_id":16706193,"question_id":16689449,"body_markdown":"Found the solution. Someone looking for solution to this problem can refer :-)\r\n\r\n    public class PrintEvenOddTester {\r\n    \r\n        public static void main(String... args) {\r\n            Printer print = new Printer();\r\n            Thread t1 = new Thread(new TaskEvenOdd(print, 10, false));\r\n            Thread t2 = new Thread(new TaskEvenOdd(print, 10, true));\r\n            t1.start();\r\n            t2.start();\r\n        }\r\n    \r\n    }\r\n    \r\n    class TaskEvenOdd implements Runnable {\r\n    \r\n        private int max;\r\n        private Printer print;\r\n        private boolean isEvenNumber;\r\n    \r\n        TaskEvenOdd(Printer print, int max, boolean isEvenNumber) {\r\n            this.print = print;\r\n            this.max = max;\r\n            this.isEvenNumber = isEvenNumber;\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n    \r\n            //System.out.println(&quot;Run method&quot;);\r\n            int number = isEvenNumber == true ? 2 : 1;\r\n            while (number &lt;= max) {\r\n    \r\n                if (isEvenNumber) {\r\n                    //System.out.println(&quot;Even :&quot;+ Thread.currentThread().getName());\r\n                    print.printEven(number);\r\n                    //number+=2;\r\n                } else {\r\n                    //System.out.println(&quot;Odd :&quot;+ Thread.currentThread().getName());\r\n                    print.printOdd(number);\r\n                    // number+=2;\r\n                }\r\n                number += 2;\r\n            }\r\n    \r\n        }\r\n    \r\n    }\r\n    \r\n    class Printer {\r\n    \r\n        boolean isOdd = false;\r\n    \r\n        synchronized void printEven(int number) {\r\n    \r\n            while (isOdd == false) {\r\n                try {\r\n                    wait();\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            System.out.println(&quot;Even:&quot; + number);\r\n            isOdd = false;\r\n            notifyAll();\r\n        }\r\n    \r\n        synchronized void printOdd(int number) {\r\n            while (isOdd == true) {\r\n                try {\r\n                    wait();\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            System.out.println(&quot;Odd:&quot; + number);\r\n            isOdd = true;\r\n            notifyAll();\r\n        }\r\n    \r\n    }\r\n\r\n    \r\n\r\n**This gives output like:**\r\n\r\n    Odd:1\r\n    Even:2\r\n    Odd:3\r\n    Even:4\r\n    Odd:5\r\n    Even:6\r\n    Odd:7\r\n    Even:8\r\n    Odd:9\r\n    Even:10","title":"Printing Even and Odd using two Threads in Java","body":"<p>Found the solution. Someone looking for solution to this problem can refer :-)</p>\n\n<pre><code>public class PrintEvenOddTester {\n\n    public static void main(String... args) {\n        Printer print = new Printer();\n        Thread t1 = new Thread(new TaskEvenOdd(print, 10, false));\n        Thread t2 = new Thread(new TaskEvenOdd(print, 10, true));\n        t1.start();\n        t2.start();\n    }\n\n}\n\nclass TaskEvenOdd implements Runnable {\n\n    private int max;\n    private Printer print;\n    private boolean isEvenNumber;\n\n    TaskEvenOdd(Printer print, int max, boolean isEvenNumber) {\n        this.print = print;\n        this.max = max;\n        this.isEvenNumber = isEvenNumber;\n    }\n\n    @Override\n    public void run() {\n\n        //System.out.println(\"Run method\");\n        int number = isEvenNumber == true ? 2 : 1;\n        while (number &lt;= max) {\n\n            if (isEvenNumber) {\n                //System.out.println(\"Even :\"+ Thread.currentThread().getName());\n                print.printEven(number);\n                //number+=2;\n            } else {\n                //System.out.println(\"Odd :\"+ Thread.currentThread().getName());\n                print.printOdd(number);\n                // number+=2;\n            }\n            number += 2;\n        }\n\n    }\n\n}\n\nclass Printer {\n\n    boolean isOdd = false;\n\n    synchronized void printEven(int number) {\n\n        while (isOdd == false) {\n            try {\n                wait();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n        System.out.println(\"Even:\" + number);\n        isOdd = false;\n        notifyAll();\n    }\n\n    synchronized void printOdd(int number) {\n        while (isOdd == true) {\n            try {\n                wait();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n        System.out.println(\"Odd:\" + number);\n        isOdd = true;\n        notifyAll();\n    }\n\n}\n</code></pre>\n\n<p><strong>This gives output like:</strong></p>\n\n<pre><code>Odd:1\nEven:2\nOdd:3\nEven:4\nOdd:5\nEven:6\nOdd:7\nEven:8\nOdd:9\nEven:10\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2634479,"reputation":307,"user_id":2279564,"accept_rate":17,"display_name":"user2279564"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1373365247,"creation_date":1373364790,"answer_id":17545608,"question_id":16689449,"body_markdown":"   \r\n\r\n       private Object lock = new Object();\r\n       private volatile boolean isOdd = false;\r\n    \t\r\n    \r\n    \tpublic void generateEvenNumbers(int number) throws InterruptedException {\r\n    \r\n    \t\tsynchronized (lock) {\r\n    \t\t\twhile (isOdd == false) \r\n    \t\t\t{\r\n    \t\t\t\tlock.wait();\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println(number);\r\n    \t\t\tisOdd = false;\r\n                lock.notifyAll();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void generateOddNumbers(int number) throws InterruptedException {\r\n    \r\n    \t\tsynchronized (lock) {\r\n    \t\t\twhile (isOdd == true) {\r\n    \t\t\t\tlock.wait();\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println(number);\r\n    \t\t\tisOdd = true;\r\n                lock.notifyAll();\r\n    \t\t}\r\n    \t}","title":"Printing Even and Odd using two Threads in Java","body":"<pre><code>   private Object lock = new Object();\n   private volatile boolean isOdd = false;\n\n\n    public void generateEvenNumbers(int number) throws InterruptedException {\n\n        synchronized (lock) {\n            while (isOdd == false) \n            {\n                lock.wait();\n            }\n            System.out.println(number);\n            isOdd = false;\n            lock.notifyAll();\n        }\n    }\n\n    public void generateOddNumbers(int number) throws InterruptedException {\n\n        synchronized (lock) {\n            while (isOdd == true) {\n                lock.wait();\n            }\n            System.out.println(number);\n            isOdd = true;\n            lock.notifyAll();\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1693479,"reputation":567,"user_id":1556909,"accept_rate":29,"display_name":"Shailendra"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1523341698,"creation_date":1391590808,"answer_id":21572636,"question_id":16689449,"body_markdown":"**This code will also work fine.**\r\n\r\n\r\n    class Thread1 implements Runnable {\r\n    \r\n        private static boolean evenFlag = true;\r\n    \r\n        public synchronized void run() {\r\n            if (evenFlag == true) {\r\n                printEven();\r\n            } else {\r\n               printOdd();\r\n            }\r\n        }\r\n\r\n        public void printEven() {\r\n            for (int i = 0; i &lt;= 10; i += 2) {\r\n                System.out.println(i+&quot;&quot;+Thread.currentThread());\r\n            }\r\n            evenFlag = false;\r\n        }\r\n\r\n        public  void printOdd() {\r\n            for (int i = 1; i &lt;= 11; i += 2) {\r\n                System.out.println(i+&quot;&quot;+Thread.currentThread());\r\n            }\r\n            evenFlag = true;\r\n        }\r\n    }\r\n      \r\n    public class OddEvenDemo {\r\n      \r\n        public static void main(String[] args) {\r\n        \r\n            Thread1 t1 = new Thread1();\r\n            Thread td1 = new Thread(t1);\r\n            Thread td2 = new Thread(t1);\r\n            td1.start();\r\n            td2.start();\r\n        \r\n        }\r\n    }\r\n\r\n","title":"Printing Even and Odd using two Threads in Java","body":"<p><strong>This code will also work fine.</strong></p>\n\n<pre><code>class Thread1 implements Runnable {\n\n    private static boolean evenFlag = true;\n\n    public synchronized void run() {\n        if (evenFlag == true) {\n            printEven();\n        } else {\n           printOdd();\n        }\n    }\n\n    public void printEven() {\n        for (int i = 0; i &lt;= 10; i += 2) {\n            System.out.println(i+\"\"+Thread.currentThread());\n        }\n        evenFlag = false;\n    }\n\n    public  void printOdd() {\n        for (int i = 1; i &lt;= 11; i += 2) {\n            System.out.println(i+\"\"+Thread.currentThread());\n        }\n        evenFlag = true;\n    }\n}\n\npublic class OddEvenDemo {\n\n    public static void main(String[] args) {\n\n        Thread1 t1 = new Thread1();\n        Thread td1 = new Thread(t1);\n        Thread td2 = new Thread(t1);\n        td1.start();\n        td2.start();\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4224399,"reputation":73,"user_id":3458263,"accept_rate":75,"display_name":"jammy"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1397725222,"creation_date":1397725222,"answer_id":23128825,"question_id":16689449,"body_markdown":"public class EvenOddex {\r\n\r\n    public static class print {\r\n\r\n        int n;\r\n        boolean isOdd = false;\r\n\r\n        synchronized public void printEven(int n) {\r\n\r\n            while (isOdd) {\r\n                try {\r\n                    wait();\r\n                } catch (InterruptedException ex) {\r\n                    Logger.getLogger(EvenOddex.class.getName()).log(Level.SEVERE, null, ex);\r\n                }\r\n\r\n            }\r\n\r\n            System.out.print(Thread.currentThread().getName() + n + &quot;\\n&quot;);\r\n            \r\n            isOdd = true;\r\n            notify();\r\n        }\r\n\r\n        synchronized public void printOdd(int n) {\r\n            while (!isOdd) {\r\n                try {\r\n                    wait();\r\n                } catch (InterruptedException ex) {\r\n                    Logger.getLogger(EvenOddex.class.getName()).log(Level.SEVERE, null, ex);\r\n                }\r\n            }\r\n\r\n\r\n            System.out.print(Thread.currentThread().getName() + n + &quot;\\n&quot;);\r\n            isOdd = false;\r\n            notify();\r\n\r\n\r\n\r\n        }\r\n    }\r\n\r\n    public static class even extends Thread {\r\n\r\n        print po;\r\n\r\n        even(print po) {\r\n\r\n            this.po = po;\r\n\r\n            new Thread(this, &quot;Even&quot;).start();\r\n\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n\r\n\r\n            for (int j = 0; j &lt; 10; j++) {\r\n                if ((j % 2) == 0) {\r\n                    po.printEven(j);\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    public static class odd extends Thread {\r\n\r\n        print po;\r\n\r\n        odd(print po) {\r\n\r\n            this.po = po;\r\n            new Thread(this, &quot;Odd&quot;).start();\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n\r\n            for (int i = 0; i &lt; 10; i++) {\r\n\r\n                if ((i % 2) != 0) {\r\n                    po.printOdd(i);\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    public static void main(String args[]) {\r\n        print po = new print();\r\n        new even(po);\r\n        new odd(po);\r\n\r\n    }\r\n}\r\n","title":"Printing Even and Odd using two Threads in Java","body":"<p>public class EvenOddex {</p>\n\n<pre><code>public static class print {\n\n    int n;\n    boolean isOdd = false;\n\n    synchronized public void printEven(int n) {\n\n        while (isOdd) {\n            try {\n                wait();\n            } catch (InterruptedException ex) {\n                Logger.getLogger(EvenOddex.class.getName()).log(Level.SEVERE, null, ex);\n            }\n\n        }\n\n        System.out.print(Thread.currentThread().getName() + n + \"\\n\");\n\n        isOdd = true;\n        notify();\n    }\n\n    synchronized public void printOdd(int n) {\n        while (!isOdd) {\n            try {\n                wait();\n            } catch (InterruptedException ex) {\n                Logger.getLogger(EvenOddex.class.getName()).log(Level.SEVERE, null, ex);\n            }\n        }\n\n\n        System.out.print(Thread.currentThread().getName() + n + \"\\n\");\n        isOdd = false;\n        notify();\n\n\n\n    }\n}\n\npublic static class even extends Thread {\n\n    print po;\n\n    even(print po) {\n\n        this.po = po;\n\n        new Thread(this, \"Even\").start();\n\n    }\n\n    @Override\n    public void run() {\n\n\n        for (int j = 0; j &lt; 10; j++) {\n            if ((j % 2) == 0) {\n                po.printEven(j);\n            }\n        }\n\n    }\n}\n\npublic static class odd extends Thread {\n\n    print po;\n\n    odd(print po) {\n\n        this.po = po;\n        new Thread(this, \"Odd\").start();\n    }\n\n    @Override\n    public void run() {\n\n        for (int i = 0; i &lt; 10; i++) {\n\n            if ((i % 2) != 0) {\n                po.printOdd(i);\n            }\n        }\n\n    }\n}\n\npublic static void main(String args[]) {\n    print po = new print();\n    new even(po);\n    new odd(po);\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":4324171,"reputation":2565,"user_id":3531437,"accept_rate":67,"display_name":"vijayinani"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1399103672,"creation_date":1399103672,"answer_id":23441741,"question_id":16689449,"body_markdown":"**The same can be done with Lock interface:**\r\n\r\n\timport java.util.concurrent.locks.Condition;\r\n\timport java.util.concurrent.locks.Lock;\r\n\timport java.util.concurrent.locks.ReentrantLock;\r\n\t\r\n\tpublic class NumberPrinter implements Runnable {\r\n\t\tprivate Lock lock;\r\n\t\tprivate Condition condition;\r\n\t\tprivate String type;\r\n\t\tprivate static boolean oddTurn = true;\r\n\t\r\n\t\tpublic NumberPrinter(String type, Lock lock, Condition condition) {\r\n\t\t\tthis.type = type;\r\n\t\t\tthis.lock = lock;\r\n\t\t\tthis.condition = condition;\r\n\t\t}\r\n\t\r\n\t\tpublic void run() {\r\n\t\t\tint i = type.equals(&quot;odd&quot;) ? 1 : 2;\r\n\t\t\twhile (i &lt;= 10) {\r\n\t\t\t\tif (type.equals(&quot;odd&quot;))\r\n\t\t\t\t\tprintOdd(i);\r\n\t\t\t\tif (type.equals(&quot;even&quot;))\r\n\t\t\t\t\tprintEven(i);\r\n\t\t\t\ti = i + 2;\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tprivate void printOdd(int i) {\r\n\t\t\t// synchronized (lock) {\r\n\t\t\tlock.lock();\r\n\t\t\twhile (!oddTurn) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\t// lock.wait();\r\n\t\t\t\t\tcondition.await();\r\n\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tSystem.out.println(type + &quot; &quot; + i);\r\n\t\t\toddTurn = false;\r\n\t\t\t// lock.notifyAll();\r\n\t\t\tcondition.signalAll();\r\n\t\t\tlock.unlock();\r\n\t\t}\r\n\t\r\n\t\t// }\r\n\t\r\n\t\tprivate void printEven(int i) {\r\n\t\t\t// synchronized (lock) {\r\n\t\t\tlock.lock();\r\n\t\t\twhile (oddTurn) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\t// lock.wait();\r\n\t\t\t\t\tcondition.await();\r\n\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tSystem.out.println(type + &quot; &quot; + i);\r\n\t\t\toddTurn = true;\r\n\t\t\t// lock.notifyAll();\r\n\t\t\tcondition.signalAll();\r\n\t\t\tlock.unlock();\r\n\t\t}\r\n\t\r\n\t\t// }\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tLock lock = new ReentrantLock();\r\n\t\t\tCondition condition = lock.newCondition();\r\n\t\t\tThread odd = new Thread(new NumberPrinter(&quot;odd&quot;, lock, condition));\r\n\t\t\tThread even = new Thread(new NumberPrinter(&quot;even&quot;, lock, condition));\r\n\t\t\todd.start();\r\n\t\t\teven.start();\r\n\t\t}\r\n\t}","title":"Printing Even and Odd using two Threads in Java","body":"<p><strong>The same can be done with Lock interface:</strong></p>\n\n<pre><code>import java.util.concurrent.locks.Condition;\nimport java.util.concurrent.locks.Lock;\nimport java.util.concurrent.locks.ReentrantLock;\n\npublic class NumberPrinter implements Runnable {\n    private Lock lock;\n    private Condition condition;\n    private String type;\n    private static boolean oddTurn = true;\n\n    public NumberPrinter(String type, Lock lock, Condition condition) {\n        this.type = type;\n        this.lock = lock;\n        this.condition = condition;\n    }\n\n    public void run() {\n        int i = type.equals(\"odd\") ? 1 : 2;\n        while (i &lt;= 10) {\n            if (type.equals(\"odd\"))\n                printOdd(i);\n            if (type.equals(\"even\"))\n                printEven(i);\n            i = i + 2;\n        }\n    }\n\n    private void printOdd(int i) {\n        // synchronized (lock) {\n        lock.lock();\n        while (!oddTurn) {\n            try {\n                // lock.wait();\n                condition.await();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n        System.out.println(type + \" \" + i);\n        oddTurn = false;\n        // lock.notifyAll();\n        condition.signalAll();\n        lock.unlock();\n    }\n\n    // }\n\n    private void printEven(int i) {\n        // synchronized (lock) {\n        lock.lock();\n        while (oddTurn) {\n            try {\n                // lock.wait();\n                condition.await();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n        System.out.println(type + \" \" + i);\n        oddTurn = true;\n        // lock.notifyAll();\n        condition.signalAll();\n        lock.unlock();\n    }\n\n    // }\n\n    public static void main(String[] args) {\n        Lock lock = new ReentrantLock();\n        Condition condition = lock.newCondition();\n        Thread odd = new Thread(new NumberPrinter(\"odd\", lock, condition));\n        Thread even = new Thread(new NumberPrinter(\"even\", lock, condition));\n        odd.start();\n        even.start();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4522540,"reputation":9,"user_id":3675278,"display_name":"Vicky Malhotra"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1401086655,"creation_date":1401085443,"answer_id":23863929,"question_id":16689449,"body_markdown":"    package pkgscjp;\r\n    \r\n    public class OddPrint implements Runnable {\r\n    \r\n    \tpublic static boolean flag = true;\r\n    \r\n    \tpublic void run() {\r\n    \t\tfor (int i = 1; i &lt;= 99;) {\r\n    \t\t\tif (flag) {\r\n    \t\t\t\tSystem.out.println(i);\r\n    \t\t\t\tflag = false;\r\n    \t\t\t\ti = i + 2;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n    \r\n   \r\n    package pkgscjp;\r\n    \r\n    public class EvenPrint implements Runnable {\r\n    \tpublic void run() {\r\n    \t\tfor (int i = 2; i &lt;= 100;) {\r\n    \t\t\tif (!OddPrint.flag) {\r\n    \t\t\t\tSystem.out.println(i);\r\n    \t\t\t\tOddPrint.flag = true;\r\n    \t\t\t\ti = i + 2;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t}\r\n    }\r\n    \r\n    \r\n    package pkgscjp;\r\n    \r\n    public class NaturalNumberThreadMain {\r\n    \tpublic static void main(String args[]) {\r\n    \t\tEvenPrint ep = new EvenPrint();\r\n    \t\tOddPrint op = new OddPrint();\r\n    \t\tThread te = new Thread(ep);\r\n    \t\tThread to = new Thread(op);\r\n    \t\tto.start();\r\n    \t\tte.start();\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Printing Even and Odd using two Threads in Java","body":"<pre><code>package pkgscjp;\n\npublic class OddPrint implements Runnable {\n\n    public static boolean flag = true;\n\n    public void run() {\n        for (int i = 1; i &lt;= 99;) {\n            if (flag) {\n                System.out.println(i);\n                flag = false;\n                i = i + 2;\n            }\n        }\n    }\n\n}\n\n\npackage pkgscjp;\n\npublic class EvenPrint implements Runnable {\n    public void run() {\n        for (int i = 2; i &lt;= 100;) {\n            if (!OddPrint.flag) {\n                System.out.println(i);\n                OddPrint.flag = true;\n                i = i + 2;\n            }\n        }\n\n    }\n}\n\n\npackage pkgscjp;\n\npublic class NaturalNumberThreadMain {\n    public static void main(String args[]) {\n        EvenPrint ep = new EvenPrint();\n        OddPrint op = new OddPrint();\n        Thread te = new Thread(ep);\n        Thread to = new Thread(op);\n        to.start();\n        te.start();\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4835261,"reputation":1,"user_id":3902189,"display_name":"Vikash Kumar Pandey"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1410611177,"creation_date":1410611177,"answer_id":25823216,"question_id":16689449,"body_markdown":"    public class Multi extends Thread{  \r\n        public static int a;\r\n        static{a=1;}\r\n        public void run(){  \r\n            for(int i=1;i&lt;5;i++){  \r\n            System.out.println(&quot;Thread Id  &quot;+this.getId()+&quot;  Value &quot;+a++);\r\n            try{Thread.sleep(500);}catch(InterruptedException e){System.out.println(e);}  \r\n   \r\n            }  \r\n        }  \r\n    public static void main(String args[]){  \r\n           Multi t1=new Multi();  \r\n           Multi t2=new Multi();  \r\n   \r\n          t1.start();  \r\n          t2.start();  \r\n        }  \r\n    }  ","title":"Printing Even and Odd using two Threads in Java","body":"<pre><code>public class Multi extends Thread{  \n    public static int a;\n    static{a=1;}\n    public void run(){  \n        for(int i=1;i&lt;5;i++){  \n        System.out.println(\"Thread Id  \"+this.getId()+\"  Value \"+a++);\n        try{Thread.sleep(500);}catch(InterruptedException e){System.out.println(e);}  \n\n        }  \n    }  \npublic static void main(String args[]){  \n       Multi t1=new Multi();  \n       Multi t2=new Multi();  \n\n      t1.start();  \n      t2.start();  \n    }  \n}  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1953817,"reputation":2645,"user_id":1757333,"accept_rate":98,"display_name":"yalkris"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1418150824,"creation_date":1418150824,"answer_id":27386519,"question_id":16689449,"body_markdown":"    public class PrintOddEven {\r\n    private static class PrinterThread extends Thread {\r\n\r\n        private static int current = 0;\r\n        private static final Object LOCK = new Object();\r\n\r\n        private PrinterThread(String name, int number) {\r\n            this.name = name;\r\n            this.number = number;\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            while (true) {\r\n                synchronized (LOCK) {\r\n                    try {\r\n                        LOCK.wait(1000);\r\n                    } catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n                    if (current &lt; number) {\r\n                        System.out.println(name + ++current);\r\n                    } else {\r\n                        break;\r\n                    }\r\n\r\n                    LOCK.notifyAll();\r\n                }\r\n            }\r\n        }\r\n\r\n        int number;\r\n        String name;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        new PrinterThread(&quot;thread1 : &quot;, 20).start();\r\n        new PrinterThread(&quot;thread2 : &quot;, 20).start();\r\n    }\r\n    }","title":"Printing Even and Odd using two Threads in Java","body":"<pre><code>public class PrintOddEven {\nprivate static class PrinterThread extends Thread {\n\n    private static int current = 0;\n    private static final Object LOCK = new Object();\n\n    private PrinterThread(String name, int number) {\n        this.name = name;\n        this.number = number;\n    }\n\n    @Override\n    public void run() {\n        while (true) {\n            synchronized (LOCK) {\n                try {\n                    LOCK.wait(1000);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n\n                if (current &lt; number) {\n                    System.out.println(name + ++current);\n                } else {\n                    break;\n                }\n\n                LOCK.notifyAll();\n            }\n        }\n    }\n\n    int number;\n    String name;\n}\n\npublic static void main(String[] args) {\n    new PrinterThread(\"thread1 : \", 20).start();\n    new PrinterThread(\"thread2 : \", 20).start();\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2178541,"reputation":1,"user_id":1928619,"display_name":"shivaitian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1419322267,"creation_date":1419319248,"answer_id":27615796,"question_id":16689449,"body_markdown":"   I have done it this way, while printing using two threads we cannot predict the sequence which thread    \r\n   would get executed first so to overcome this situation we have to synchronize the shared resource,in  \r\n   my case the print function which two threads are trying to access.\r\n\r\n\r\n   \tclass Printoddeven{\r\n\t\r\n\t\tpublic synchronized void print(String msg) {\r\n\t\t\ttry {\r\n\t\t\t\tif(msg.equals(&quot;Even&quot;)) {\r\n\t\t\t\t    for(int i=0;i&lt;=10;i+=2) {\r\n\t\t\t\t\t    System.out.println(msg+&quot; &quot;+i);\r\n\t\t\t\t    \tThread.sleep(2000);\r\n\t\t\t\t\t    notify();\r\n\t\t\t\t\t    wait();\r\n\t\t\t\t    }\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfor(int i=1;i&lt;=10;i+=2) {\r\n\t\t\t\t\t\tSystem.out.println(msg+&quot; &quot;+i);\r\n\t\t\t\t\t\tThread.sleep(2000);\r\n\t\t\t\t\t\tnotify();\r\n\t\t\t\t\t\twait();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t}\r\n\r\n\tclass PrintOdd extends Thread{\r\n\t\tPrintoddeven oddeven;\r\n\t\tpublic PrintOdd(Printoddeven oddeven){\r\n\t\t\tthis.oddeven=oddeven;\r\n\t\t}\r\n\r\n\t\tpublic void run(){\r\n\t\t\toddeven.print(&quot;ODD&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\tclass PrintEven extends Thread{\r\n\t\tPrintoddeven oddeven;\r\n\t\tpublic PrintEven(Printoddeven oddeven){\r\n\t\t\tthis.oddeven=oddeven;\r\n\t\t}\r\n\r\n\t\tpublic void run(){\r\n\t\t\toddeven.print(&quot;Even&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n\tpublic class mainclass \r\n\t{\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tPrintoddeven obj = new Printoddeven();//only one object  \r\n\t\t\tPrintEven t1=new PrintEven(obj);  \r\n\t\t\tPrintOdd t2=new PrintOdd(obj);  \r\n\t\t\tt1.start();  \r\n\t\t\tt2.start();  \r\n\t\t}\r\n\t}\r\n ","title":"Printing Even and Odd using two Threads in Java","body":"<p>I have done it this way, while printing using two threads we cannot predict the sequence which thread<br>\n   would get executed first so to overcome this situation we have to synchronize the shared resource,in<br>\n   my case the print function which two threads are trying to access.</p>\n\n<pre><code>class Printoddeven{\n\n    public synchronized void print(String msg) {\n        try {\n            if(msg.equals(\"Even\")) {\n                for(int i=0;i&lt;=10;i+=2) {\n                    System.out.println(msg+\" \"+i);\n                    Thread.sleep(2000);\n                    notify();\n                    wait();\n                }\n            } else {\n                for(int i=1;i&lt;=10;i+=2) {\n                    System.out.println(msg+\" \"+i);\n                    Thread.sleep(2000);\n                    notify();\n                    wait();\n                }\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n}\n\nclass PrintOdd extends Thread{\n    Printoddeven oddeven;\n    public PrintOdd(Printoddeven oddeven){\n        this.oddeven=oddeven;\n    }\n\n    public void run(){\n        oddeven.print(\"ODD\");\n    }\n}\n\nclass PrintEven extends Thread{\n    Printoddeven oddeven;\n    public PrintEven(Printoddeven oddeven){\n        this.oddeven=oddeven;\n    }\n\n    public void run(){\n        oddeven.print(\"Even\");\n    }\n}\n\n\n\npublic class mainclass \n{\n    public static void main(String[] args) {\n        Printoddeven obj = new Printoddeven();//only one object  \n        PrintEven t1=new PrintEven(obj);  \n        PrintOdd t2=new PrintOdd(obj);  \n        t1.start();  \n        t2.start();  \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2849982,"reputation":11,"user_id":2447401,"display_name":"Amit Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1427378519,"creation_date":1427378519,"answer_id":29280456,"question_id":16689449,"body_markdown":"    import java.util.concurrent.atomic.AtomicInteger;\r\n    \r\n    \r\n    public class PrintEvenOddTester {\r\n    \t  public static void main(String ... args){\r\n    \t        Printer print = new Printer(false);\r\n    \t        Thread t1 = new Thread(new TaskEvenOdd(print, &quot;Thread1&quot;, new AtomicInteger(1)));\r\n    \t        Thread t2 = new Thread(new TaskEvenOdd(print,&quot;Thread2&quot; , new AtomicInteger(2)));\r\n    \t        t1.start();\r\n    \t        t2.start();\r\n    \t    }\r\n    }\r\n    \r\n    class TaskEvenOdd implements Runnable {\r\n        Printer print;\r\n        String name;\r\n        AtomicInteger number;\r\n        TaskEvenOdd(Printer print, String name, AtomicInteger number){\r\n            this.print = print;\r\n            this.name = name;\r\n            this.number = number;\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n    \r\n            System.out.println(&quot;Run method&quot;);\r\n            while(number.get()&lt;10){\r\n    \r\n                if(number.get()%2 == 0){\r\n                    print.printEven(number.get(),name);\r\n                }\r\n                else {\r\n                    print.printOdd(number.get(),name);\r\n                }\r\n                number.addAndGet(2);\r\n            }\r\n    \r\n          }\r\n    \r\n        }\r\n    \r\n    \r\n    \r\n    class Printer {\r\n    \tboolean isEven;\r\n    \t\r\n    \tpublic Printer() {\t}\r\n    \t\r\n    \tpublic Printer(boolean isEven) {\r\n    \t\tthis.isEven = isEven;\r\n    \t}\r\n    \r\n    \tsynchronized void printEven(int number, String name) {\r\n    \r\n    \t\twhile (!isEven) {\r\n    \t\t\ttry {\r\n    \t\t\t\twait();\r\n    \t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(name+&quot;: Even:&quot; + number);\r\n    \t\tisEven = false;\r\n    \t\tnotifyAll();\r\n    \t}\r\n    \r\n    \tsynchronized void printOdd(int number, String name) {\r\n    \t\twhile (isEven) {\r\n    \t\t\ttry {\r\n    \t\t\t\twait();\r\n    \t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(name+&quot;: Odd:&quot; + number);\r\n    \t\tisEven = true;\r\n    \t\tnotifyAll();\r\n    \t}\r\n    }\r\n\r\n","title":"Printing Even and Odd using two Threads in Java","body":"<pre><code>import java.util.concurrent.atomic.AtomicInteger;\n\n\npublic class PrintEvenOddTester {\n      public static void main(String ... args){\n            Printer print = new Printer(false);\n            Thread t1 = new Thread(new TaskEvenOdd(print, \"Thread1\", new AtomicInteger(1)));\n            Thread t2 = new Thread(new TaskEvenOdd(print,\"Thread2\" , new AtomicInteger(2)));\n            t1.start();\n            t2.start();\n        }\n}\n\nclass TaskEvenOdd implements Runnable {\n    Printer print;\n    String name;\n    AtomicInteger number;\n    TaskEvenOdd(Printer print, String name, AtomicInteger number){\n        this.print = print;\n        this.name = name;\n        this.number = number;\n    }\n\n    @Override\n    public void run() {\n\n        System.out.println(\"Run method\");\n        while(number.get()&lt;10){\n\n            if(number.get()%2 == 0){\n                print.printEven(number.get(),name);\n            }\n            else {\n                print.printOdd(number.get(),name);\n            }\n            number.addAndGet(2);\n        }\n\n      }\n\n    }\n\n\n\nclass Printer {\n    boolean isEven;\n\n    public Printer() {  }\n\n    public Printer(boolean isEven) {\n        this.isEven = isEven;\n    }\n\n    synchronized void printEven(int number, String name) {\n\n        while (!isEven) {\n            try {\n                wait();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n        System.out.println(name+\": Even:\" + number);\n        isEven = false;\n        notifyAll();\n    }\n\n    synchronized void printOdd(int number, String name) {\n        while (isEven) {\n            try {\n                wait();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n        System.out.println(name+\": Odd:\" + number);\n        isEven = true;\n        notifyAll();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3038056,"reputation":329,"user_id":2575676,"display_name":"DeepaGanesh"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1430843519,"creation_date":1430841695,"answer_id":30057941,"question_id":16689449,"body_markdown":"Here is the code which I made it work through a single class\r\n    \r\n    package com.learn.thread;\r\n\r\n    public class PrintNumbers extends Thread {\r\n\tvolatile static int i = 1;\r\n\tObject lock;\r\n\r\n\tPrintNumbers(Object lock) {\r\n\t\tthis.lock = lock;\r\n\t}\r\n\r\n\tpublic static void main(String ar[]) {\r\n\t\tObject obj = new Object();\r\n\t\t// This constructor is required for the identification of wait/notify\r\n        // communication\r\n\t\tPrintNumbers odd = new PrintNumbers(obj);\r\n\t\tPrintNumbers even = new PrintNumbers(obj);\r\n\t\todd.setName(&quot;Odd&quot;);\r\n\t\teven.setName(&quot;Even&quot;);\r\n\t\todd.start();\r\n\t\teven.start();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run() {\r\n\t\twhile (i &lt;= 10) {\r\n\t\t\tif (i % 2 == 0 &amp;&amp; Thread.currentThread().getName().equals(&quot;Even&quot;)) {\r\n\t\t\t\tsynchronized (lock) {\r\n\t\t\t\t\tSystem.out.println(Thread.currentThread().getName() + &quot; - &quot;\r\n\t\t\t\t\t\t\t+ i);\r\n\t\t\t\t\ti++;\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tlock.wait();\r\n\t\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (i % 2 == 1 &amp;&amp; Thread.currentThread().getName().equals(&quot;Odd&quot;)) {\r\n\t\t\t\tsynchronized (lock) {\r\n\t\t\t\t\tSystem.out.println(Thread.currentThread().getName() + &quot; - &quot;\r\n\t\t\t\t\t\t\t+ i);\r\n\t\t\t\t\ti++;\r\n\t\t\t\t    lock.notify();\r\n\t\t\t\t  }\r\n\t\t\t   }\r\n\t\t    }\r\n\t    }\r\n    }\r\n\r\n**Output:**\r\n    \r\n    Odd - 1\r\n    Even - 2\r\n    Odd - 3\r\n    Even - 4\r\n    Odd - 5\r\n    Even - 6\r\n    Odd - 7\r\n    Even - 8\r\n    Odd - 9\r\n    Even - 10\r\n    Odd - 11","title":"Printing Even and Odd using two Threads in Java","body":"<p>Here is the code which I made it work through a single class</p>\n\n<pre><code>package com.learn.thread;\n\npublic class PrintNumbers extends Thread {\nvolatile static int i = 1;\nObject lock;\n\nPrintNumbers(Object lock) {\n    this.lock = lock;\n}\n\npublic static void main(String ar[]) {\n    Object obj = new Object();\n    // This constructor is required for the identification of wait/notify\n    // communication\n    PrintNumbers odd = new PrintNumbers(obj);\n    PrintNumbers even = new PrintNumbers(obj);\n    odd.setName(\"Odd\");\n    even.setName(\"Even\");\n    odd.start();\n    even.start();\n}\n\n@Override\npublic void run() {\n    while (i &lt;= 10) {\n        if (i % 2 == 0 &amp;&amp; Thread.currentThread().getName().equals(\"Even\")) {\n            synchronized (lock) {\n                System.out.println(Thread.currentThread().getName() + \" - \"\n                        + i);\n                i++;\n                try {\n                    lock.wait();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n        if (i % 2 == 1 &amp;&amp; Thread.currentThread().getName().equals(\"Odd\")) {\n            synchronized (lock) {\n                System.out.println(Thread.currentThread().getName() + \" - \"\n                        + i);\n                i++;\n                lock.notify();\n              }\n           }\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>Odd - 1\nEven - 2\nOdd - 3\nEven - 4\nOdd - 5\nEven - 6\nOdd - 7\nEven - 8\nOdd - 9\nEven - 10\nOdd - 11\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1563718,"reputation":882,"user_id":1452974,"accept_rate":57,"display_name":"de_xtr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545406293,"creation_date":1443852096,"answer_id":32919453,"question_id":16689449,"body_markdown":"This is my solution to the problem. I have two classes implementing `Runnable`, one prints odd sequence and the other prints even. I have an instance of `Object`, that I use for lock. I initialize the two classes with the same object. There is a `synchronized block` inside the run method of the two classes, where, inside a loop, each method prints one of the numbers, notifies the other thread, waiting for lock on the same object and then itself waits for the same lock again.\r\n\r\nThe classes : \r\n\r\n    public class PrintEven implements Runnable{\r\n\tprivate Object lock;\r\n\tpublic PrintEven(Object lock) {\r\n\t\tthis.lock =  lock;\r\n\t}\r\n\t@Override\r\n\tpublic void run() {\r\n\t\tsynchronized (lock) {\r\n\t\t\tfor (int i = 2; i &lt;= 10; i+=2) {\r\n\t\t\t\tSystem.out.println(&quot;EVEN:=&quot;+i);\r\n\t\t\t\tlock.notify();\r\n\t\t\t\ttry {\r\n\t\t\t\t\t//if(i!=10) lock.wait();\r\n\t\t\t\t\tlock.wait(500);\r\n\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t  }\r\n    }\r\n\r\n\r\n    public class PrintOdd implements Runnable {\r\n\tprivate Object lock;\r\n\tpublic PrintOdd(Object lock) {\r\n\t\tthis.lock =  lock;\r\n\t}\r\n\t@Override\r\n\tpublic void run() {\r\n\t\tsynchronized (lock) {\r\n\t\t\tfor (int i = 1; i &lt;= 10; i+=2) {\r\n\t\t\t\tSystem.out.println(&quot;ODD:=&quot;+i);\r\n\t\t\t\tlock.notify();\r\n\t\t\t\ttry {\r\n\t\t\t\t\t//if(i!=9) lock.wait();\r\n\t\t\t\t\tlock.wait(500);\r\n\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n    }\r\n\r\n    public class PrintEvenOdd {\r\n\tpublic static void main(String[] args){\r\n\t\tObject lock = new Object();\t\r\n\t\tThread thread1 =  new Thread(new PrintOdd(lock));\r\n\t\tThread thread2 =  new Thread(new PrintEven(lock));\r\n\t\tthread1.start();\r\n\t\tthread2.start();\r\n\t}\r\n    }\r\n\r\nThe upper limit in my example is 10. Once the odd thread prints 9 or the even thread prints 10, then we don&#39;t need any of the threads to wait any more. So, we can handle that using one `if-block`. Or, we can use the overloaded `wait(long timeout)` method for the wait to be timed out.\r\nOne flaw here though. With this code, we cannot guarantee which thread will start execution first.\r\n\r\nAnother example, using Lock and Condition\r\n\r\n    import java.util.concurrent.locks.Condition;\r\n    import java.util.concurrent.locks.Lock;\r\n    import java.util.concurrent.locks.ReentrantLock;\r\n\r\n    public class LockConditionOddEven {\r\n\t public static void main(String[] args) {\r\n\t\tLock lock =  new ReentrantLock();\r\n\t\tCondition evenCondition = lock.newCondition();\r\n\t\tCondition oddCondition = lock.newCondition();\r\n\t\tThread evenThread =  new Thread(new EvenPrinter(10, lock, evenCondition, oddCondition));\r\n\t\tThread oddThread =  new Thread(new OddPrinter(10, lock, evenCondition, oddCondition));\r\n\t\toddThread.start();\r\n\t\tevenThread.start();\r\n\t}\r\n\r\n\tstatic class OddPrinter implements Runnable{\r\n\t\tint i = 1;\r\n\t\tint limit;\r\n\t\tLock lock;\r\n\t\tCondition evenCondition;\r\n\t\tCondition oddCondition;\r\n\t\t\r\n\t\tpublic OddPrinter(int limit) {\r\n\t\t\tsuper();\r\n\t\t\tthis.limit = limit;\r\n\t\t}\r\n\r\n\t\tpublic OddPrinter(int limit, Lock lock, Condition evenCondition, Condition oddCondition) {\r\n\t\t\tsuper();\r\n\t\t\tthis.limit = limit;\r\n\t\t\tthis.lock = lock;\r\n\t\t\tthis.evenCondition = evenCondition;\r\n\t\t\tthis.oddCondition = oddCondition;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void run() {\r\n\t\t\twhile( i &lt;=limit) {\r\n\t\t\t\tlock.lock();\r\n\t\t\t\tSystem.out.println(&quot;Odd:&quot;+i);\r\n\t\t\t\tevenCondition.signal();\r\n\t\t\t\ti+=2;\r\n\t\t\t\ttry {\r\n\t\t\t\t\toddCondition.await();\r\n\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}finally {\r\n\t\t\t\t\tlock.unlock();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tstatic class EvenPrinter implements Runnable{\r\n\t\tint i = 2;\r\n\t\tint limit;\r\n\t\tLock lock;\r\n\t\tCondition evenCondition;\r\n\t\tCondition oddCondition;\r\n\t\t\r\n\t\tpublic EvenPrinter(int limit) {\r\n\t\t\tsuper();\r\n\t\t\tthis.limit = limit;\r\n\t\t}\r\n\r\n\r\n\t\tpublic EvenPrinter(int limit, Lock lock, Condition evenCondition, Condition oddCondition) {\r\n\t\t\tsuper();\r\n\t\t\tthis.limit = limit;\r\n\t\t\tthis.lock = lock;\r\n\t\t\tthis.evenCondition = evenCondition;\r\n\t\t\tthis.oddCondition = oddCondition;\r\n\t\t}\r\n\r\n\r\n\t\t@Override\r\n\t\tpublic void run() {\r\n\t\t\twhile( i &lt;=limit) {\r\n\t\t\t\tlock.lock();\r\n\t\t\t\tSystem.out.println(&quot;Even:&quot;+i);\r\n\t\t\t\ti+=2;\r\n\t\t\t\toddCondition.signal();\r\n\t\t\t\ttry {\r\n\t\t\t\t\tevenCondition.await();\r\n\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}finally {\r\n\t\t\t\t\tlock.unlock();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}","title":"Printing Even and Odd using two Threads in Java","body":"<p>This is my solution to the problem. I have two classes implementing <code>Runnable</code>, one prints odd sequence and the other prints even. I have an instance of <code>Object</code>, that I use for lock. I initialize the two classes with the same object. There is a <code>synchronized block</code> inside the run method of the two classes, where, inside a loop, each method prints one of the numbers, notifies the other thread, waiting for lock on the same object and then itself waits for the same lock again.</p>\n\n<p>The classes : </p>\n\n<pre><code>public class PrintEven implements Runnable{\nprivate Object lock;\npublic PrintEven(Object lock) {\n    this.lock =  lock;\n}\n@Override\npublic void run() {\n    synchronized (lock) {\n        for (int i = 2; i &lt;= 10; i+=2) {\n            System.out.println(\"EVEN:=\"+i);\n            lock.notify();\n            try {\n                //if(i!=10) lock.wait();\n                lock.wait(500);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n  }\n}\n\n\npublic class PrintOdd implements Runnable {\nprivate Object lock;\npublic PrintOdd(Object lock) {\n    this.lock =  lock;\n}\n@Override\npublic void run() {\n    synchronized (lock) {\n        for (int i = 1; i &lt;= 10; i+=2) {\n            System.out.println(\"ODD:=\"+i);\n            lock.notify();\n            try {\n                //if(i!=9) lock.wait();\n                lock.wait(500);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n}\n\npublic class PrintEvenOdd {\npublic static void main(String[] args){\n    Object lock = new Object(); \n    Thread thread1 =  new Thread(new PrintOdd(lock));\n    Thread thread2 =  new Thread(new PrintEven(lock));\n    thread1.start();\n    thread2.start();\n}\n}\n</code></pre>\n\n<p>The upper limit in my example is 10. Once the odd thread prints 9 or the even thread prints 10, then we don't need any of the threads to wait any more. So, we can handle that using one <code>if-block</code>. Or, we can use the overloaded <code>wait(long timeout)</code> method for the wait to be timed out.\nOne flaw here though. With this code, we cannot guarantee which thread will start execution first.</p>\n\n<p>Another example, using Lock and Condition</p>\n\n<pre><code>import java.util.concurrent.locks.Condition;\nimport java.util.concurrent.locks.Lock;\nimport java.util.concurrent.locks.ReentrantLock;\n\npublic class LockConditionOddEven {\n public static void main(String[] args) {\n    Lock lock =  new ReentrantLock();\n    Condition evenCondition = lock.newCondition();\n    Condition oddCondition = lock.newCondition();\n    Thread evenThread =  new Thread(new EvenPrinter(10, lock, evenCondition, oddCondition));\n    Thread oddThread =  new Thread(new OddPrinter(10, lock, evenCondition, oddCondition));\n    oddThread.start();\n    evenThread.start();\n}\n\nstatic class OddPrinter implements Runnable{\n    int i = 1;\n    int limit;\n    Lock lock;\n    Condition evenCondition;\n    Condition oddCondition;\n\n    public OddPrinter(int limit) {\n        super();\n        this.limit = limit;\n    }\n\n    public OddPrinter(int limit, Lock lock, Condition evenCondition, Condition oddCondition) {\n        super();\n        this.limit = limit;\n        this.lock = lock;\n        this.evenCondition = evenCondition;\n        this.oddCondition = oddCondition;\n    }\n\n    @Override\n    public void run() {\n        while( i &lt;=limit) {\n            lock.lock();\n            System.out.println(\"Odd:\"+i);\n            evenCondition.signal();\n            i+=2;\n            try {\n                oddCondition.await();\n            } catch (InterruptedException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }finally {\n                lock.unlock();\n            }\n        }\n    }\n}\n\nstatic class EvenPrinter implements Runnable{\n    int i = 2;\n    int limit;\n    Lock lock;\n    Condition evenCondition;\n    Condition oddCondition;\n\n    public EvenPrinter(int limit) {\n        super();\n        this.limit = limit;\n    }\n\n\n    public EvenPrinter(int limit, Lock lock, Condition evenCondition, Condition oddCondition) {\n        super();\n        this.limit = limit;\n        this.lock = lock;\n        this.evenCondition = evenCondition;\n        this.oddCondition = oddCondition;\n    }\n\n\n    @Override\n    public void run() {\n        while( i &lt;=limit) {\n            lock.lock();\n            System.out.println(\"Even:\"+i);\n            i+=2;\n            oddCondition.signal();\n            try {\n                evenCondition.await();\n            } catch (InterruptedException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }finally {\n                lock.unlock();\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":1044116,"reputation":161,"user_id":1049469,"accept_rate":0,"display_name":"ProblemSolver"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1453785478,"creation_date":1453783912,"answer_id":35007229,"question_id":16689449,"body_markdown":"Here is the working code to print odd even no alternatively using wait and notify mechanism. I have restrict the limit of numbers to print 1 to 50.\r\n\r\n\r\n    public class NotifyTest {\r\n\t    Object ob=new Object();\t\r\n\t\r\n\t    public static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tNotifyTest nt=new NotifyTest();\r\n\t\t\r\n\t\teven e=new even(nt.ob);\t\t\r\n\t\todd o=new odd(nt.ob);\r\n\t\t\r\n\t\tThread t1=new Thread(e);\r\n\t\tThread t2=new Thread(o);\r\n\r\n\t\tt1.start();\t\t\r\n\t\tt2.start();\r\n\t    }\r\n    }    \r\n    \r\n    class even implements Runnable\r\n    {\r\n    \tObject lock;\t\t\r\n\t    int i=2;\r\n\t\r\n\t    public even(Object ob)\r\n\t    {\r\n\t\t    this.lock=ob;\t\t\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public void run() {\r\n\t\t// TODO Auto-generated method stub\t\t\r\n\t\t\twhile(i&lt;=50)\r\n\t\t\t{\r\n\t\t\t\tsynchronized (lock) {\t\t\t\t\r\n\t\t\t\ttry {\r\n\t\t\t\t\tlock.wait();\r\n\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;Even Thread Name--&gt;&gt;&quot; + Thread.currentThread().getName() + &quot;Value--&gt;&gt;&quot; + i);\r\n\t\t\t\ti=i+2;\t\t\t\t\r\n\t\t\t}\t\t\t\r\n\t\t}\t\t\r\n\t} \r\n    \r\n    class odd implements Runnable\r\n    {\r\n\r\n\t    Object lock;\r\n\t    int i=1;\t\r\n\t\t\r\n\t    public odd(Object ob)\r\n\t    {\r\n\t\t    this.lock=ob;\r\n\t    }\r\n\t\r\n\t    @Override\r\n\t    public void run() {\r\n\t\t    // TODO Auto-generated method stub\r\n\t\t\twhile(i&lt;=49)\r\n\t\t\t{\r\n\t\t\t\tsynchronized (lock) {\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;Odd Thread Name--&gt;&gt;&quot; + Thread.currentThread().getName() + &quot;Value--&gt;&gt;&quot; + i);\r\n\t\t\t\ti=i+2;\t\t\t\t\r\n\t\t\t\tlock.notify();\r\n\t\t\t\t}\r\n\t\t\t\ttry {\r\n\t\t\t\t\tThread.sleep(1000);\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n            }\r\n\t\t}\t\t\r\n\t}","title":"Printing Even and Odd using two Threads in Java","body":"<p>Here is the working code to print odd even no alternatively using wait and notify mechanism. I have restrict the limit of numbers to print 1 to 50.</p>\n\n<pre><code>public class NotifyTest {\n    Object ob=new Object(); \n\n    public static void main(String[] args) {\n    // TODO Auto-generated method stub\n    NotifyTest nt=new NotifyTest();\n\n    even e=new even(nt.ob);     \n    odd o=new odd(nt.ob);\n\n    Thread t1=new Thread(e);\n    Thread t2=new Thread(o);\n\n    t1.start();     \n    t2.start();\n    }\n}    \n\nclass even implements Runnable\n{\n    Object lock;        \n    int i=2;\n\n    public even(Object ob)\n    {\n        this.lock=ob;       \n    }\n\n    @Override\n    public void run() {\n    // TODO Auto-generated method stub      \n        while(i&lt;=50)\n        {\n            synchronized (lock) {               \n            try {\n                lock.wait();\n            } catch (InterruptedException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n\n            System.out.println(\"Even Thread Name--&gt;&gt;\" + Thread.currentThread().getName() + \"Value--&gt;&gt;\" + i);\n            i=i+2;              \n        }           \n    }       \n} \n\nclass odd implements Runnable\n{\n\n    Object lock;\n    int i=1;    \n\n    public odd(Object ob)\n    {\n        this.lock=ob;\n    }\n\n    @Override\n    public void run() {\n        // TODO Auto-generated method stub\n        while(i&lt;=49)\n        {\n            synchronized (lock) {               \n            System.out.println(\"Odd Thread Name--&gt;&gt;\" + Thread.currentThread().getName() + \"Value--&gt;&gt;\" + i);\n            i=i+2;              \n            lock.notify();\n            }\n            try {\n                Thread.sleep(1000);\n            } catch (Exception e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n        }\n    }       \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3901380,"reputation":393,"user_id":3229161,"display_name":"jaamit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455092895,"creation_date":1455092895,"answer_id":35310093,"question_id":16689449,"body_markdown":"Following is my implementation using 2 Semaphores. \r\n\r\n 1. Odd Semaphore with permit 1.\r\n 2. Even Semaphore with permit 0.\r\n 3. Pass the two Semaphores to both threads as following signature (my, other):-\r\n 4. To Odd thread pass in the order (odd, even)\r\n 5. To Even thread pass in this order (even, odd)\r\n 6. run() method logic is my.acquireUninterruptibly() -&gt; Print -&gt; other.release()\r\n 7. In Even thread as even Sema is 0 it will block. \r\n 8. In Odd thread as odd Sema is available (init to 1) this will print 1 and then release even Sema allowing Even thread to run.\r\n 9. Even thread runs prints 2 and release odd Sema allowing Odd thread to run.\r\n\r\n\r\n        import java.util.concurrent.Semaphore;\r\n    \r\n    \r\n        public class EvenOdd {\r\n    \tprivate final static String ODD = &quot;ODD&quot;;\r\n    \tprivate final static String EVEN = &quot;EVEN&quot;;\r\n    \tprivate final static int MAX_ITERATIONS = 10;\r\n    \t\r\n    \tpublic static class EvenOddThread implements Runnable {\t\t\r\n    \t\tprivate String mType;\r\n    \t\tprivate int  mNum;\r\n    \t\tprivate Semaphore mMySema;\r\n    \t\tprivate Semaphore mOtherSema;\r\n    \t\t\r\n    \t\tpublic EvenOddThread(String str, Semaphore mine, Semaphore other) {\r\n    \t\t\tmType = str;\r\n    \t\t\tmMySema = mine;//new Semaphore(1); // start out as unlocked\r\n    \t\t\tmOtherSema = other;//new Semaphore(0);\r\n    \t\t\tif(str.equals(ODD)) {\r\n    \t\t\t\tmNum = 1;\r\n    \t\t\t}\r\n    \t\t\telse {\r\n    \t\t\t\tmNum = 2;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\t@Override\r\n    \t\tpublic void run() {\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t\tfor (int i = 0; i &lt; MAX_ITERATIONS; i++) {\r\n    \t\t\t\t\tmMySema.acquireUninterruptibly();\r\n    \t\t\t\t\tif (mType.equals(ODD)) {\r\n    \t\t\t\t\t\tSystem.out.println(&quot;Odd Thread - &quot; + mNum);\r\n    \t\t\t\t\t} else {\r\n    \t\t\t\t\t\tSystem.out.println(&quot;Even Thread - &quot; + mNum);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tmNum += 2;\r\n    \t\t\t\t\tmOtherSema.release();\r\n    \t\t\t\t}\t\t\t\r\n    \t\t}\r\n    \t\t\r\n        }\r\n    \t\t\r\n    \t\tpublic static void main(String[] args) throws InterruptedException {\r\n    \t\t\tSemaphore odd = new Semaphore(1);\r\n    \t\t\tSemaphore even = new Semaphore(0);\r\n    \t\t\t\r\n    \t\t\tSystem.out.println(&quot;Start!!!&quot;);\r\n    \t\t\tSystem.out.println();\r\n    \t\t\t\r\n    \t\t\tThread tOdd = new Thread(new EvenOddThread(ODD, \r\n    \t\t\t\t\t                 odd, \r\n    \t\t\t\t\t                 even));\r\n    \t\t\tThread tEven = new Thread(new EvenOddThread(EVEN, \r\n    \t\t\t\t\t                 even, \r\n    \t\t\t\t\t                 odd));\r\n    \t\t\t\r\n    \t\t\ttOdd.start();\r\n    \t\t\ttEven.start();\r\n    \t\t\t\r\n    \t\t\ttOdd.join();\r\n    \t\t\ttEven.join();\r\n    \t\t\t\r\n    \t\t\tSystem.out.println();\r\n    \t\t\tSystem.out.println(&quot;Done!!!&quot;);\r\n    \t\t} \t\t\r\n    \t\t    \t\r\n    \t}\r\n\r\n\r\nFollowing is the output:-\r\n\r\n    Start!!!\r\n    \r\n    Odd Thread - 1\r\n    Even Thread - 2\r\n    Odd Thread - 3\r\n    Even Thread - 4\r\n    Odd Thread - 5\r\n    Even Thread - 6\r\n    Odd Thread - 7\r\n    Even Thread - 8\r\n    Odd Thread - 9\r\n    Even Thread - 10\r\n    Odd Thread - 11\r\n    Even Thread - 12\r\n    Odd Thread - 13\r\n    Even Thread - 14\r\n    Odd Thread - 15\r\n    Even Thread - 16\r\n    Odd Thread - 17\r\n    Even Thread - 18\r\n    Odd Thread - 19\r\n    Even Thread - 20\r\n    \r\n    Done!!!\r\n\r\n","title":"Printing Even and Odd using two Threads in Java","body":"<p>Following is my implementation using 2 Semaphores. </p>\n\n<ol>\n<li>Odd Semaphore with permit 1.</li>\n<li>Even Semaphore with permit 0.</li>\n<li>Pass the two Semaphores to both threads as following signature (my, other):-</li>\n<li>To Odd thread pass in the order (odd, even)</li>\n<li>To Even thread pass in this order (even, odd)</li>\n<li>run() method logic is my.acquireUninterruptibly() -> Print -> other.release()</li>\n<li>In Even thread as even Sema is 0 it will block. </li>\n<li>In Odd thread as odd Sema is available (init to 1) this will print 1 and then release even Sema allowing Even thread to run.</li>\n<li><p>Even thread runs prints 2 and release odd Sema allowing Odd thread to run.</p>\n\n<pre><code>import java.util.concurrent.Semaphore;\n\n\npublic class EvenOdd {\nprivate final static String ODD = \"ODD\";\nprivate final static String EVEN = \"EVEN\";\nprivate final static int MAX_ITERATIONS = 10;\n\npublic static class EvenOddThread implements Runnable {     \n    private String mType;\n    private int  mNum;\n    private Semaphore mMySema;\n    private Semaphore mOtherSema;\n\n    public EvenOddThread(String str, Semaphore mine, Semaphore other) {\n        mType = str;\n        mMySema = mine;//new Semaphore(1); // start out as unlocked\n        mOtherSema = other;//new Semaphore(0);\n        if(str.equals(ODD)) {\n            mNum = 1;\n        }\n        else {\n            mNum = 2;\n        }\n    }\n\n    @Override\n    public void run() {         \n\n            for (int i = 0; i &lt; MAX_ITERATIONS; i++) {\n                mMySema.acquireUninterruptibly();\n                if (mType.equals(ODD)) {\n                    System.out.println(\"Odd Thread - \" + mNum);\n                } else {\n                    System.out.println(\"Even Thread - \" + mNum);\n                }\n                mNum += 2;\n                mOtherSema.release();\n            }           \n    }\n\n}\n\n    public static void main(String[] args) throws InterruptedException {\n        Semaphore odd = new Semaphore(1);\n        Semaphore even = new Semaphore(0);\n\n        System.out.println(\"Start!!!\");\n        System.out.println();\n\n        Thread tOdd = new Thread(new EvenOddThread(ODD, \n                                 odd, \n                                 even));\n        Thread tEven = new Thread(new EvenOddThread(EVEN, \n                                 even, \n                                 odd));\n\n        tOdd.start();\n        tEven.start();\n\n        tOdd.join();\n        tEven.join();\n\n        System.out.println();\n        System.out.println(\"Done!!!\");\n    }       \n\n}\n</code></pre></li>\n</ol>\n\n<p>Following is the output:-</p>\n\n<pre><code>Start!!!\n\nOdd Thread - 1\nEven Thread - 2\nOdd Thread - 3\nEven Thread - 4\nOdd Thread - 5\nEven Thread - 6\nOdd Thread - 7\nEven Thread - 8\nOdd Thread - 9\nEven Thread - 10\nOdd Thread - 11\nEven Thread - 12\nOdd Thread - 13\nEven Thread - 14\nOdd Thread - 15\nEven Thread - 16\nOdd Thread - 17\nEven Thread - 18\nOdd Thread - 19\nEven Thread - 20\n\nDone!!!\n</code></pre>\n"},{"tags":[],"owner":{"account_id":194909,"reputation":4585,"user_id":437506,"accept_rate":47,"display_name":"Kedar Mhaswade"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1458748946,"creation_date":1458748946,"answer_id":36183057,"question_id":16689449,"body_markdown":"The other question was closed as a duplicate of this one. I think we can safely get rid of &quot;even or odd&quot; problem and use the `wait/notify` construct as follows:\r\n\r\n    public class WaitNotifyDemoEvenOddThreads {\r\n        /**\r\n         * A transfer object, only use with proper client side locking!\r\n         */\r\n        static final class LastNumber {\r\n            int num;\r\n            final int limit;\r\n    \r\n            LastNumber(int num, int limit) {\r\n                this.num = num;\r\n                this.limit = limit;\r\n            }\r\n        }\r\n    \r\n        static final class NumberPrinter implements Runnable {\r\n            private final LastNumber last;\r\n            private final int init;\r\n    \r\n            NumberPrinter(LastNumber last, int init) {\r\n                this.last = last;\r\n                this.init = init;\r\n            }\r\n    \r\n            @Override\r\n            public void run() {\r\n                int i = init;\r\n                synchronized (last) {\r\n                    while (i &lt;= last.limit) {\r\n                        while (last.num != i) {\r\n                            try {\r\n                                last.wait();\r\n                            } catch (InterruptedException e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                        }\r\n                        System.out.println(Thread.currentThread().getName() + &quot; prints: &quot; + i);\r\n                        last.num = i + 1;\r\n                        i += 2;\r\n                        last.notify();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            LastNumber last = new LastNumber(0, 10); // or 0, 1000\r\n            NumberPrinter odd = new NumberPrinter(last, 1);\r\n            NumberPrinter even = new NumberPrinter(last, 0);\r\n            new Thread(odd, &quot;o&quot;).start();\r\n            new Thread(even, &quot;e&quot;).start();\r\n        }\r\n    }","title":"Printing Even and Odd using two Threads in Java","body":"<p>The other question was closed as a duplicate of this one. I think we can safely get rid of \"even or odd\" problem and use the <code>wait/notify</code> construct as follows:</p>\n\n<pre><code>public class WaitNotifyDemoEvenOddThreads {\n    /**\n     * A transfer object, only use with proper client side locking!\n     */\n    static final class LastNumber {\n        int num;\n        final int limit;\n\n        LastNumber(int num, int limit) {\n            this.num = num;\n            this.limit = limit;\n        }\n    }\n\n    static final class NumberPrinter implements Runnable {\n        private final LastNumber last;\n        private final int init;\n\n        NumberPrinter(LastNumber last, int init) {\n            this.last = last;\n            this.init = init;\n        }\n\n        @Override\n        public void run() {\n            int i = init;\n            synchronized (last) {\n                while (i &lt;= last.limit) {\n                    while (last.num != i) {\n                        try {\n                            last.wait();\n                        } catch (InterruptedException e) {\n                            e.printStackTrace();\n                        }\n                    }\n                    System.out.println(Thread.currentThread().getName() + \" prints: \" + i);\n                    last.num = i + 1;\n                    i += 2;\n                    last.notify();\n                }\n            }\n        }\n    }\n\n    public static void main(String[] args) {\n        LastNumber last = new LastNumber(0, 10); // or 0, 1000\n        NumberPrinter odd = new NumberPrinter(last, 1);\n        NumberPrinter even = new NumberPrinter(last, 0);\n        new Thread(odd, \"o\").start();\n        new Thread(even, \"e\").start();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3219148,"reputation":49,"user_id":2716984,"display_name":"Srivathsan"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1493204213,"creation_date":1460701128,"answer_id":36639586,"question_id":16689449,"body_markdown":"\r\n    import java.util.concurrent.Semaphore;\r\n\r\n\r\n    public class PrintOddAndEven {\r\n\r\n    private static class OddThread extends Thread {\r\n        private Semaphore semaphore;\r\n        private Semaphore otherSemaphore;\r\n        private int value = 1;\r\n\r\n        public  OddThread(Semaphore semaphore, Semaphore otherSemaphore) {\r\n            this.semaphore = semaphore;\r\n            this.otherSemaphore = otherSemaphore;\r\n        }\r\n\r\n        public void run() {\r\n            while (value &lt;= 100) {\r\n                try {\r\n                    // Acquire odd semaphore\r\n                    semaphore.acquire();\r\n                    System.out.println(&quot; Odd Thread &quot; + value + &quot; &quot; + Thread.currentThread().getName());\r\n\r\n                } catch (InterruptedException excetion) {\r\n                    excetion.printStackTrace();\r\n                }\r\n                value = value + 2;\r\n                // Release odd semaphore\r\n                otherSemaphore.release();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    private static class EvenThread extends Thread {\r\n        private Semaphore semaphore;\r\n        private Semaphore otherSemaphore;\r\n\r\n        private int value = 2;\r\n\r\n        public  EvenThread(Semaphore semaphore, Semaphore otherSemaphore) {\r\n            this.semaphore = semaphore;\r\n            this.otherSemaphore = otherSemaphore;\r\n        }\r\n\r\n        public void run() {\r\n            while (value &lt;= 100) {\r\n                try {\r\n                    // Acquire even semaphore\r\n                    semaphore.acquire();\r\n                    System.out.println(&quot; Even Thread &quot; + value + &quot; &quot; + Thread.currentThread().getName());\r\n\r\n                } catch (InterruptedException excetion) {\r\n                    excetion.printStackTrace();\r\n                }\r\n                value = value + 2;\r\n                // Release odd semaphore\r\n                otherSemaphore.release();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n        //Initialize oddSemaphore with permit 1\r\n        Semaphore oddSemaphore = new Semaphore(1);\r\n        //Initialize evenSempahore with permit 0\r\n        Semaphore evenSempahore = new Semaphore(0);\r\n        OddThread oddThread = new OddThread(oddSemaphore, evenSempahore);\r\n        EvenThread evenThread = new EvenThread(evenSempahore, oddSemaphore);\r\n        oddThread.start();\r\n        evenThread.start();\r\n        }\r\n    }\r\n","title":"Printing Even and Odd using two Threads in Java","body":"<pre><code>import java.util.concurrent.Semaphore;\n\n\npublic class PrintOddAndEven {\n\nprivate static class OddThread extends Thread {\n    private Semaphore semaphore;\n    private Semaphore otherSemaphore;\n    private int value = 1;\n\n    public  OddThread(Semaphore semaphore, Semaphore otherSemaphore) {\n        this.semaphore = semaphore;\n        this.otherSemaphore = otherSemaphore;\n    }\n\n    public void run() {\n        while (value &lt;= 100) {\n            try {\n                // Acquire odd semaphore\n                semaphore.acquire();\n                System.out.println(\" Odd Thread \" + value + \" \" + Thread.currentThread().getName());\n\n            } catch (InterruptedException excetion) {\n                excetion.printStackTrace();\n            }\n            value = value + 2;\n            // Release odd semaphore\n            otherSemaphore.release();\n        }\n    }\n}\n\n\nprivate static class EvenThread extends Thread {\n    private Semaphore semaphore;\n    private Semaphore otherSemaphore;\n\n    private int value = 2;\n\n    public  EvenThread(Semaphore semaphore, Semaphore otherSemaphore) {\n        this.semaphore = semaphore;\n        this.otherSemaphore = otherSemaphore;\n    }\n\n    public void run() {\n        while (value &lt;= 100) {\n            try {\n                // Acquire even semaphore\n                semaphore.acquire();\n                System.out.println(\" Even Thread \" + value + \" \" + Thread.currentThread().getName());\n\n            } catch (InterruptedException excetion) {\n                excetion.printStackTrace();\n            }\n            value = value + 2;\n            // Release odd semaphore\n            otherSemaphore.release();\n        }\n    }\n}\n\n\npublic static void main(String[] args) {\n    //Initialize oddSemaphore with permit 1\n    Semaphore oddSemaphore = new Semaphore(1);\n    //Initialize evenSempahore with permit 0\n    Semaphore evenSempahore = new Semaphore(0);\n    OddThread oddThread = new OddThread(oddSemaphore, evenSempahore);\n    EvenThread evenThread = new EvenThread(evenSempahore, oddSemaphore);\n    oddThread.start();\n    evenThread.start();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":258362,"reputation":326,"user_id":985094,"display_name":"Udit Khandelwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1463628749,"creation_date":1463628749,"answer_id":37313502,"question_id":16689449,"body_markdown":"I think the solutions being provided have unnecessarily added stuff and does not use semaphores to its full potential. Here&#39;s what my solution is.\r\n\r\n\tpackage com.test.threads;\r\n\t\r\n\timport java.util.concurrent.Semaphore;\r\n\t\r\n\tpublic class EvenOddThreadTest {\r\n\t\r\n\t\tpublic static int MAX = 100;\r\n\t\tpublic static Integer number = new Integer(0);\r\n\t\r\n\t\t//Unlocked state\r\n\t\tpublic Semaphore semaphore = new Semaphore(1);\r\n\t\tclass PrinterThread extends Thread {\r\n\t\r\n\t\t\tint start = 0;\r\n\t\t\tString name;\r\n\t\r\n\t\t\tPrinterThread(String name ,int start) {\r\n\t\t\t\tthis.start = start;\r\n\t\t\t\tthis.name = name;\r\n\t\t\t}\r\n\t\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry{\r\n\t\t\t\t\twhile(start &lt; MAX){\r\n\t\t\t\t\t\t// try to acquire the number of semaphore equal to your value\r\n\t\t\t\t\t\t// and if you do not get it then wait for it.\r\n\t\t\t\t\tsemaphore.acquire(start);\r\n\t\t\t\t\tSystem.out.println(name + &quot; : &quot; + start);\r\n\t\t\t\t\t// prepare for the next iteration.\r\n\t\t\t\t\tstart+=2;\r\n\t\t\t\t\t// release one less than what you need to print in the next iteration.\r\n\t\t\t\t\t// This will release the other thread which is waiting to print the next number.\r\n\t\t\t\t\tsemaphore.release(start-1);\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch(InterruptedException e){\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tpublic static void main(String args[]) {\r\n\t\t\tEvenOddThreadTest test = new EvenOddThreadTest();\r\n\t\t\tPrinterThread a = test.new PrinterThread(&quot;Even&quot;,1);\r\n\t\t\tPrinterThread b = test.new PrinterThread(&quot;Odd&quot;, 2);\r\n\t\t\ttry {\r\n\t\t\t\ta.start();\r\n\t\t\t\tb.start();\r\n\t\t\t} catch (Exception e) {\r\n\t\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n","title":"Printing Even and Odd using two Threads in Java","body":"<p>I think the solutions being provided have unnecessarily added stuff and does not use semaphores to its full potential. Here's what my solution is.</p>\n\n<pre><code>package com.test.threads;\n\nimport java.util.concurrent.Semaphore;\n\npublic class EvenOddThreadTest {\n\n    public static int MAX = 100;\n    public static Integer number = new Integer(0);\n\n    //Unlocked state\n    public Semaphore semaphore = new Semaphore(1);\n    class PrinterThread extends Thread {\n\n        int start = 0;\n        String name;\n\n        PrinterThread(String name ,int start) {\n            this.start = start;\n            this.name = name;\n        }\n\n        @Override\n        public void run() {\n            try{\n                while(start &lt; MAX){\n                    // try to acquire the number of semaphore equal to your value\n                    // and if you do not get it then wait for it.\n                semaphore.acquire(start);\n                System.out.println(name + \" : \" + start);\n                // prepare for the next iteration.\n                start+=2;\n                // release one less than what you need to print in the next iteration.\n                // This will release the other thread which is waiting to print the next number.\n                semaphore.release(start-1);\n                }\n            } catch(InterruptedException e){\n\n            }\n        }\n    }\n\n    public static void main(String args[]) {\n        EvenOddThreadTest test = new EvenOddThreadTest();\n        PrinterThread a = test.new PrinterThread(\"Even\",1);\n        PrinterThread b = test.new PrinterThread(\"Odd\", 2);\n        try {\n            a.start();\n            b.start();\n        } catch (Exception e) {\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5462663,"reputation":63,"user_id":4344254,"display_name":"Sazid Ali"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1466764961,"creation_date":1466761994,"answer_id":38010514,"question_id":16689449,"body_markdown":"    package com.example;\r\n    \r\n    public class MyClass  {\r\n        static int mycount=0;\r\n        static Thread t;\r\n        static Thread t2;\r\n        public static void main(String[] arg)\r\n        {\r\n            t2=new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    System.out.print(mycount++ + &quot; even \\n&quot;);\r\n                    try {\r\n                        Thread.sleep(500);\r\n                    } catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    if(mycount&gt;25)\r\n                        System.exit(0);\r\n                    run();\r\n                }\r\n            });\r\n            t=new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    System.out.print(mycount++ + &quot; odd \\n&quot;);\r\n                    try {\r\n                        Thread.sleep(500);\r\n                    } catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    if(mycount&gt;26)\r\n                        System.exit(0);\r\n                    run();\r\n                }\r\n            });\r\n            t.start();\r\n            t2.start();\r\n        }\r\n    }","title":"Printing Even and Odd using two Threads in Java","body":"<pre><code>package com.example;\n\npublic class MyClass  {\n    static int mycount=0;\n    static Thread t;\n    static Thread t2;\n    public static void main(String[] arg)\n    {\n        t2=new Thread(new Runnable() {\n            @Override\n            public void run() {\n                System.out.print(mycount++ + \" even \\n\");\n                try {\n                    Thread.sleep(500);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n                if(mycount&gt;25)\n                    System.exit(0);\n                run();\n            }\n        });\n        t=new Thread(new Runnable() {\n            @Override\n            public void run() {\n                System.out.print(mycount++ + \" odd \\n\");\n                try {\n                    Thread.sleep(500);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n                if(mycount&gt;26)\n                    System.exit(0);\n                run();\n            }\n        });\n        t.start();\n        t2.start();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2145824,"reputation":1089,"user_id":1903453,"display_name":"Nikhil Kumar K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470303422,"creation_date":1470303422,"answer_id":38763706,"question_id":16689449,"body_markdown":"Working solution using single class\r\n\r\n   \r\n\r\n    package com.fursa.threads;\r\n    \r\n       public class PrintNumbers extends Thread {\r\n    \r\n    \t Object lock;\r\n    \r\n    \tPrintNumbers(Object lock) {\r\n    \t\t this.lock = lock;\r\n    \t}\r\n    \r\n    \tpublic static void main(String ar[]) {\r\n    \t\tObject obj = new Object();\r\n    \t\t// This constructor is required for the identification of wait/notify\r\n    \t\t// communication\r\n    \t\tPrintNumbers odd = new PrintNumbers(obj);\r\n    \t\tPrintNumbers even = new PrintNumbers(obj);\r\n    \t\todd.setName(&quot;Odd&quot;);\r\n    \t\teven.setName(&quot;Even&quot;);\r\n    \t\teven.start();\r\n    \t\todd.start();\r\n    \r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tfor(int i=0;i&lt;=100;i++) {\r\n    \r\n    \t\t\tsynchronized (lock) {\r\n    \r\n    \t\t\t\tif (Thread.currentThread().getName().equals(&quot;Even&quot;)) {\r\n    \r\n    \t\t\t\t\tif(i % 2 == 0 ){\r\n    \t\t\t\t\t\tSystem.out.println(Thread.currentThread().getName() + &quot; - &quot;+ i);\r\n    \t\t\t\t\t\ttry {\r\n    \t\t\t\t\t\t\tlock.wait();\r\n    \t\t\t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\t\t\t\t\t\r\n    \t\t\t\t\telse if (i % 2 != 0 ) {\r\n    \t\t\t\t\t\tlock.notify();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\tif (Thread.currentThread().getName().equals(&quot;Odd&quot;)) {\r\n    \r\n    \t\t\t\t\tif(i % 2 == 1 ){\r\n    \t\t\t\t\t\tSystem.out.println(Thread.currentThread().getName() + &quot; - &quot;+ i);\r\n    \t\t\t\t\t\ttry {\r\n    \t\t\t\t\t\t\tlock.wait();\r\n    \t\t\t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\t\t\t\t\t\r\n    \t\t\t\t\telse if (i % 2 != 1 ) {\r\n    \t\t\t\t\t\tlock.notify();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }","title":"Printing Even and Odd using two Threads in Java","body":"<p>Working solution using single class</p>\n\n<pre><code>package com.fursa.threads;\n\n   public class PrintNumbers extends Thread {\n\n     Object lock;\n\n    PrintNumbers(Object lock) {\n         this.lock = lock;\n    }\n\n    public static void main(String ar[]) {\n        Object obj = new Object();\n        // This constructor is required for the identification of wait/notify\n        // communication\n        PrintNumbers odd = new PrintNumbers(obj);\n        PrintNumbers even = new PrintNumbers(obj);\n        odd.setName(\"Odd\");\n        even.setName(\"Even\");\n        even.start();\n        odd.start();\n\n    }\n\n    @Override\n    public void run() {\n        for(int i=0;i&lt;=100;i++) {\n\n            synchronized (lock) {\n\n                if (Thread.currentThread().getName().equals(\"Even\")) {\n\n                    if(i % 2 == 0 ){\n                        System.out.println(Thread.currentThread().getName() + \" - \"+ i);\n                        try {\n                            lock.wait();\n                        } catch (InterruptedException e) {\n                            e.printStackTrace();\n                        }\n                    }                   \n                    else if (i % 2 != 0 ) {\n                        lock.notify();\n                    }\n                }\n\n                if (Thread.currentThread().getName().equals(\"Odd\")) {\n\n                    if(i % 2 == 1 ){\n                        System.out.println(Thread.currentThread().getName() + \" - \"+ i);\n                        try {\n                            lock.wait();\n                        } catch (InterruptedException e) {\n                            e.printStackTrace();\n                        }\n                    }                   \n                    else if (i % 2 != 1 ) {\n                        lock.notify();\n                    }\n                }\n\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7200064,"reputation":1127,"user_id":5497548,"display_name":"Krutik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477204645,"creation_date":1477204645,"answer_id":40200255,"question_id":16689449,"body_markdown":"You can use the following code to get the output with creating two anonymous thread classes.\r\n\r\n    package practice;\r\n    \r\n    class Display {\r\n    \tboolean isEven = false;\r\n    \r\n    \tsynchronized public void printEven(int number) throws InterruptedException {\r\n    \t\twhile (isEven)\r\n    \t\t\twait();\r\n    \t\tSystem.out.println(&quot;Even : &quot; + number);\r\n    \t\tisEven = true;\r\n    \t\tnotify();\r\n    \t}\r\n    \r\n    \tsynchronized public void printOdd(int number) throws InterruptedException {\r\n    \t\twhile (!isEven)\r\n    \t\t\twait();\r\n    \t\tSystem.out.println(&quot;Odd : &quot; + number);\r\n    \t\tisEven = false;\r\n    \t\tnotify();\r\n    \t}\r\n    }\r\n    \r\n    public class OddEven {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tfinal Display disp = new Display();\r\n    \t\t\r\n    \r\n    \t\tnew Thread() {\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\tint num = 0;\r\n    \t\t\t\tfor (int i = num; i &lt;= 10; i += 2) {\r\n    \t\t\t\t\ttry {\r\n    \t\t\t\t\t\tdisp.printEven(i);\r\n    \t\t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}.start();\r\n    \r\n    \t\tnew Thread() {\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\tint num = 1;\r\n    \t\t\t\tfor (int i = num; i &lt;= 10; i += 2) {\r\n    \t\t\t\t\ttry {\r\n    \t\t\t\t\t\tdisp.printOdd(i);\r\n    \t\t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}.start();\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n ","title":"Printing Even and Odd using two Threads in Java","body":"<p>You can use the following code to get the output with creating two anonymous thread classes.</p>\n\n<pre><code>package practice;\n\nclass Display {\n    boolean isEven = false;\n\n    synchronized public void printEven(int number) throws InterruptedException {\n        while (isEven)\n            wait();\n        System.out.println(\"Even : \" + number);\n        isEven = true;\n        notify();\n    }\n\n    synchronized public void printOdd(int number) throws InterruptedException {\n        while (!isEven)\n            wait();\n        System.out.println(\"Odd : \" + number);\n        isEven = false;\n        notify();\n    }\n}\n\npublic class OddEven {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        final Display disp = new Display();\n\n\n        new Thread() {\n            public void run() {\n                int num = 0;\n                for (int i = num; i &lt;= 10; i += 2) {\n                    try {\n                        disp.printEven(i);\n                    } catch (InterruptedException e) {\n                        // TODO Auto-generated catch block\n                        e.printStackTrace();\n                    }\n                }\n            }\n        }.start();\n\n        new Thread() {\n            public void run() {\n                int num = 1;\n                for (int i = num; i &lt;= 10; i += 2) {\n                    try {\n                        disp.printOdd(i);\n                    } catch (InterruptedException e) {\n                        // TODO Auto-generated catch block\n                        e.printStackTrace();\n                    }\n                }\n            }\n        }.start();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1142753,"reputation":1424,"user_id":1126211,"display_name":"Prakash Hari Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483088043,"creation_date":1483088043,"answer_id":41393330,"question_id":16689449,"body_markdown":"This can be acheived using Lock and Condition :\r\n\r\n    import java.util.concurrent.locks.Condition;\r\n    import java.util.concurrent.locks.Lock;\r\n    import java.util.concurrent.locks.ReentrantLock;\r\n    \r\n    public class EvenOddThreads {\r\n    \r\n    \tpublic static void main(String[] args) throws InterruptedException {\r\n    \t\tPrinter p = new Printer();\r\n    \t\tThread oddThread = new Thread(new PrintThread(p,false),&quot;Odd  :&quot;);\r\n    \t\tThread evenThread = new Thread(new PrintThread(p,true),&quot;Even :&quot;);\r\n    \t\toddThread.start();\r\n    \t\tevenThread.start();\r\n    \t}\r\n    \t\r\n    }\r\n    \r\n    class PrintThread implements Runnable{\r\n    \tPrinter p;\r\n    \tboolean isEven = false;\r\n    \t\r\n    \tPrintThread(Printer p, boolean isEven){\r\n    \t\tthis.p = p;\r\n    \t\tthis.isEven = isEven;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tint i = (isEven==true) ? 2 : 1;\r\n    \t\twhile(i &lt; 10 ){\r\n    \t\t\tif(isEven){\r\n    \t\t\t\tp.printEven(i);\r\n    \t\t\t}else{\r\n    \t\t\t\tp.printOdd(i);\r\n    \t\t\t}\r\n    \t\t\ti=i+2;\r\n    \t\t}\r\n    \t}\r\n    }\r\n    \r\n    class Printer{\r\n    \t\r\n    \tboolean isEven = true;\r\n    \tLock lock = new ReentrantLock();\r\n    \tCondition condEven = lock.newCondition();\r\n    \tCondition condOdd = lock.newCondition();\r\n    \t\r\n    \tpublic void printEven(int no){\r\n    \t\tlock.lock();\r\n    \t\twhile(isEven==true){\r\n    \t\t\ttry {\r\n    \t\t\t\tcondEven.await();\r\n    \t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(Thread.currentThread().getName() +no);\r\n    \t\tisEven = true;\r\n    \t\tcondOdd.signalAll();\r\n    \t\tlock.unlock();\r\n    \t}\r\n    \t\r\n    \tpublic void printOdd(int no){\r\n    \t\tlock.lock();\r\n    \t\twhile(isEven==false){\r\n    \t\t\ttry {\r\n    \t\t\t\tcondOdd.await();\r\n    \t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(Thread.currentThread().getName() +no);\r\n    \t\tisEven = false;\r\n    \t\tcondEven.signalAll();\r\n    \t\tlock.unlock();\r\n    \t}\r\n    }\r\n\r\n","title":"Printing Even and Odd using two Threads in Java","body":"<p>This can be acheived using Lock and Condition :</p>\n\n<pre><code>import java.util.concurrent.locks.Condition;\nimport java.util.concurrent.locks.Lock;\nimport java.util.concurrent.locks.ReentrantLock;\n\npublic class EvenOddThreads {\n\n    public static void main(String[] args) throws InterruptedException {\n        Printer p = new Printer();\n        Thread oddThread = new Thread(new PrintThread(p,false),\"Odd  :\");\n        Thread evenThread = new Thread(new PrintThread(p,true),\"Even :\");\n        oddThread.start();\n        evenThread.start();\n    }\n\n}\n\nclass PrintThread implements Runnable{\n    Printer p;\n    boolean isEven = false;\n\n    PrintThread(Printer p, boolean isEven){\n        this.p = p;\n        this.isEven = isEven;\n    }\n\n    @Override\n    public void run() {\n        int i = (isEven==true) ? 2 : 1;\n        while(i &lt; 10 ){\n            if(isEven){\n                p.printEven(i);\n            }else{\n                p.printOdd(i);\n            }\n            i=i+2;\n        }\n    }\n}\n\nclass Printer{\n\n    boolean isEven = true;\n    Lock lock = new ReentrantLock();\n    Condition condEven = lock.newCondition();\n    Condition condOdd = lock.newCondition();\n\n    public void printEven(int no){\n        lock.lock();\n        while(isEven==true){\n            try {\n                condEven.await();\n            } catch (InterruptedException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n        }\n        System.out.println(Thread.currentThread().getName() +no);\n        isEven = true;\n        condOdd.signalAll();\n        lock.unlock();\n    }\n\n    public void printOdd(int no){\n        lock.lock();\n        while(isEven==false){\n            try {\n                condOdd.await();\n            } catch (InterruptedException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n        }\n        System.out.println(Thread.currentThread().getName() +no);\n        isEven = false;\n        condEven.signalAll();\n        lock.unlock();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":329773,"reputation":1734,"user_id":653482,"accept_rate":83,"display_name":"saurabh goyal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485460407,"creation_date":1485460407,"answer_id":41881809,"question_id":16689449,"body_markdown":"Class to print odd Even number\r\n\r\n    public class PrintOddEven implements Runnable {\r\n    \r\n    \tprivate int max;\r\n    \tprivate int number;\r\n    \t\r\n    \tpublic  PrintOddEven(int max_number,int number) {\r\n    \t\tmax = max_number;\r\n    \t\tthis.number = number;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void run() {\r\n    \r\n    \t\t\r\n    \t\twhile(number&lt;=max)\r\n    \t\t{\r\n    \t\t\tif(Thread.currentThread().getName().equalsIgnoreCase(&quot;odd&quot;))\r\n    \t\t\t{\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tprintOdd();\r\n    \t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\telse\r\n    \t\t\t{\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tprintEven();\r\n    \t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic synchronized void printOdd() throws InterruptedException\r\n    \t{\r\n    \t\t\r\n    \t\tif(number%2==0)\r\n    \t\t{\r\n    \t\t\twait();\r\n    \t\t}\r\n    \t\t\r\n    \t\tSystem.out.println(number+Thread.currentThread().getName());\r\n    \t\tnumber++;\r\n    \t\tnotifyAll();\r\n    \t}\r\n    \t\r\n    \tpublic synchronized void printEven() throws InterruptedException\r\n    \t{\r\n    \t\t\r\n    \t\tif(number%2!=0)\r\n    \t\t{\r\n    \t\t\twait();\r\n    \t\t}\r\n    \t\t\r\n    \t\tSystem.out.println(number+Thread.currentThread().getName());\r\n    \t\tnumber++;\r\n    \t\tnotifyAll();\r\n    \t}\r\n    \r\n    }\r\n\r\nDriver Program\r\n\r\n    public class OddEvenThread {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tPrintOddEven printer = new PrintOddEven(10,1);  \r\n    \t\tThread thread1 = new Thread(printer,&quot;odd&quot;);\r\n    \t\tThread thread2 = new Thread (printer,&quot;even&quot;);\r\n    \t\t\r\n    \t\tthread1.start();\r\n    \t\tthread2.start();\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Printing Even and Odd using two Threads in Java","body":"<p>Class to print odd Even number</p>\n\n<pre><code>public class PrintOddEven implements Runnable {\n\n    private int max;\n    private int number;\n\n    public  PrintOddEven(int max_number,int number) {\n        max = max_number;\n        this.number = number;\n    }\n\n    @Override\n    public void run() {\n\n\n        while(number&lt;=max)\n        {\n            if(Thread.currentThread().getName().equalsIgnoreCase(\"odd\"))\n            {\n                try {\n                    printOdd();\n                } catch (InterruptedException e) {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                }\n            }\n            else\n            {\n                try {\n                    printEven();\n                } catch (InterruptedException e) {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                }\n            }\n\n        }\n\n\n    }\n\n    public synchronized void printOdd() throws InterruptedException\n    {\n\n        if(number%2==0)\n        {\n            wait();\n        }\n\n        System.out.println(number+Thread.currentThread().getName());\n        number++;\n        notifyAll();\n    }\n\n    public synchronized void printEven() throws InterruptedException\n    {\n\n        if(number%2!=0)\n        {\n            wait();\n        }\n\n        System.out.println(number+Thread.currentThread().getName());\n        number++;\n        notifyAll();\n    }\n\n}\n</code></pre>\n\n<p>Driver Program</p>\n\n<pre><code>public class OddEvenThread {\n\n    public static void main(String[] args) {\n\n        PrintOddEven printer = new PrintOddEven(10,1);  \n        Thread thread1 = new Thread(printer,\"odd\");\n        Thread thread2 = new Thread (printer,\"even\");\n\n        thread1.start();\n        thread2.start();\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4758418,"reputation":781,"user_id":4368994,"display_name":"Victor"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1488438521,"creation_date":1488438521,"answer_id":42548915,"question_id":16689449,"body_markdown":"public class Solution {\r\n\r\n     static class NumberGenerator{\r\n\r\n         private static volatile boolean printEvenNumber = false;\r\n\r\n\r\n         public  void printEvenNumber(int i) {\r\n             synchronized (this) {\r\n                 if(!printEvenNumber) {\r\n                     try {\r\n                         wait();\r\n                     } catch (InterruptedException e) {\r\n                         e.printStackTrace();\r\n                     }\r\n                 }\r\n                 System.out.println(i);\r\n                 printEvenNumber = !printEvenNumber;\r\n                 notify();\r\n             }\r\n         }\r\n\r\n         public  void printOddNumber(int i ) {\r\n                synchronized (this) {\r\n                    if(printEvenNumber) {\r\n                        try {\r\n                            wait();\r\n                        } catch (InterruptedException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n\r\n                    System.out.println(i);\r\n                    printEvenNumber = !printEvenNumber;\r\n                    notify();\r\n                }\r\n         }\r\n\r\n    }\r\n\r\n    static  class OddNumberGenerator implements Runnable{\r\n        private NumberGenerator numberGenerator;\r\n\r\n        public OddNumberGenerator(NumberGenerator numberGenerator) {\r\n            this.numberGenerator = numberGenerator;\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            for(int i  = 1; i &lt;100; i = i + 2) {\r\n                numberGenerator.printOddNumber(i);\r\n            }\r\n        }\r\n    }\r\n\r\n    static class EvenNumberGenerator implements Runnable {\r\n        private NumberGenerator numberGenerator;\r\n\r\n        public EvenNumberGenerator(NumberGenerator numberGenerator) {\r\n            this.numberGenerator = numberGenerator;\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            for (int i = 2; i &lt;= 100; i =  i + 2) {\r\n               numberGenerator.printEvenNumber(i);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n        NumberGenerator ng = new NumberGenerator();\r\n        OddNumberGenerator oddNumberGenerator = new OddNumberGenerator(ng);\r\n        EvenNumberGenerator evenNumberGenerator = new EvenNumberGenerator(ng);\r\n        new Thread(oddNumberGenerator).start();\r\n        new Thread(evenNumberGenerator).start();\r\n\r\n    }\r\n}\r\n","title":"Printing Even and Odd using two Threads in Java","body":"<p>public class Solution {</p>\n\n<pre><code> static class NumberGenerator{\n\n     private static volatile boolean printEvenNumber = false;\n\n\n     public  void printEvenNumber(int i) {\n         synchronized (this) {\n             if(!printEvenNumber) {\n                 try {\n                     wait();\n                 } catch (InterruptedException e) {\n                     e.printStackTrace();\n                 }\n             }\n             System.out.println(i);\n             printEvenNumber = !printEvenNumber;\n             notify();\n         }\n     }\n\n     public  void printOddNumber(int i ) {\n            synchronized (this) {\n                if(printEvenNumber) {\n                    try {\n                        wait();\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                }\n\n                System.out.println(i);\n                printEvenNumber = !printEvenNumber;\n                notify();\n            }\n     }\n\n}\n\nstatic  class OddNumberGenerator implements Runnable{\n    private NumberGenerator numberGenerator;\n\n    public OddNumberGenerator(NumberGenerator numberGenerator) {\n        this.numberGenerator = numberGenerator;\n    }\n\n    @Override\n    public void run() {\n        for(int i  = 1; i &lt;100; i = i + 2) {\n            numberGenerator.printOddNumber(i);\n        }\n    }\n}\n\nstatic class EvenNumberGenerator implements Runnable {\n    private NumberGenerator numberGenerator;\n\n    public EvenNumberGenerator(NumberGenerator numberGenerator) {\n        this.numberGenerator = numberGenerator;\n    }\n\n    @Override\n    public void run() {\n        for (int i = 2; i &lt;= 100; i =  i + 2) {\n           numberGenerator.printEvenNumber(i);\n        }\n    }\n}\n\n\npublic static void main(String[] args) {\n    NumberGenerator ng = new NumberGenerator();\n    OddNumberGenerator oddNumberGenerator = new OddNumberGenerator(ng);\n    EvenNumberGenerator evenNumberGenerator = new EvenNumberGenerator(ng);\n    new Thread(oddNumberGenerator).start();\n    new Thread(evenNumberGenerator).start();\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":1843519,"reputation":123,"user_id":1672427,"accept_rate":33,"display_name":"learner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489285800,"creation_date":1489285800,"answer_id":42743055,"question_id":16689449,"body_markdown":"    public class ThreadEvenOdd {\r\n      static int cnt=0;\r\n      public static void main(String[] args) {\r\n    \r\n        Thread t1 = new Thread(new Runnable() {\r\n    \r\n          @Override\r\n          public void run() {\r\n            synchronized(this) {\r\n              while(cnt&lt;101) {\r\n                if(cnt%2==0) {\r\n                  System.out.print(cnt+&quot; &quot;);\r\n                  cnt++;\r\n                }\r\n                notifyAll();\r\n              }\r\n            }\r\n          }\r\n    \r\n        });\r\n        Thread t2 = new Thread(new Runnable() {\r\n    \r\n          @Override\r\n          public void run() {\r\n            synchronized(this) {\r\n              while(cnt&lt;101) {\r\n                if(cnt%2==1) {\r\n                  System.out.print(cnt+&quot; &quot;);\r\n                  cnt++;\r\n                }\r\n                notifyAll();\r\n              }\r\n            }\r\n          }\r\n        });\r\n    \r\n        t1.start();\r\n        t2.start();\r\n      }\r\n    }\r\n\r\n","title":"Printing Even and Odd using two Threads in Java","body":"<pre><code>public class ThreadEvenOdd {\n  static int cnt=0;\n  public static void main(String[] args) {\n\n    Thread t1 = new Thread(new Runnable() {\n\n      @Override\n      public void run() {\n        synchronized(this) {\n          while(cnt&lt;101) {\n            if(cnt%2==0) {\n              System.out.print(cnt+\" \");\n              cnt++;\n            }\n            notifyAll();\n          }\n        }\n      }\n\n    });\n    Thread t2 = new Thread(new Runnable() {\n\n      @Override\n      public void run() {\n        synchronized(this) {\n          while(cnt&lt;101) {\n            if(cnt%2==1) {\n              System.out.print(cnt+\" \");\n              cnt++;\n            }\n            notifyAll();\n          }\n        }\n      }\n    });\n\n    t1.start();\n    t2.start();\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9470793,"reputation":2775,"user_id":7041698,"display_name":"Saurabh Prakash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491162704,"creation_date":1491162293,"answer_id":43172769,"question_id":16689449,"body_markdown":"            public class OddAndEvenThreadProblems {\r\n            \tprivate static Integer i = 0;\r\n            \r\n            \tpublic static void main(String[] args) {\r\n            \t\tnew EvenClass().start();\r\n            \t\tnew OddClass().start();\r\n            \r\n            \t}\r\n            \r\n            \tpublic static class EvenClass extends Thread {\r\n            \r\n            \t\tpublic void run() {\r\n            \t\t\twhile (i &lt; 10) {\r\n            \t\t\t\tsynchronized (i) {\r\n            \t\t\t\t\tif (i % 2 == 0 ) {\r\n            \t\t\t\t\t\ttry {\r\n            \t\t\t\t\t\t\tThread.sleep(1000);\r\n            \t\t\t\t\t\t\tSystem.out.println(&quot; EvenClass &quot; + i);\r\n            \t\t\t\t\t\t\ti = i + 1;\r\n            \t\t\t\t\t\t} catch (Exception e) {\r\n            \t\t\t\t\t\t\te.printStackTrace();\r\n            \t\t\t\t\t\t}\r\n            \r\n            \t\t\t\t\t}\r\n            \t\t\t\t}\r\n            \t\t\t}\r\n            \t\t}\r\n            \t}\r\n            \r\n            \tpublic static class OddClass extends Thread {\r\n            \r\n            \t\t@Override\r\n            \t\tpublic void run() {\r\n            \t\t\twhile (i &lt; 10) {\r\n            \t\t\t\tsynchronized (i) {\r\n            \t\t\t\t\tif (i % 2 == 1) {\r\n            \t\t\t\t\t\ttry {\r\n            \t\t\t\t\t\t\tThread.sleep(1000);\r\n            \t\t\t\t\t\t\tSystem.out.println(&quot; OddClass  &quot; + i);\r\n            \t\t\t\t\t\t\ti = i + 1;\r\n            \t\t\t\t\t\t} catch (Exception e) {\r\n            \t\t\t\t\t\t\te.printStackTrace();\r\n            \t\t\t\t\t\t}\r\n            \r\n            \t\t\t\t\t}\r\n        \t\t\t\t}\r\n        \t\t\t}\r\n        \t\t}\r\n        \t}\r\n        }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    OUTPUT will be :- \r\n    \r\n     EvenClass 0\r\n     OddClass  1\r\n     EvenClass 2\r\n     OddClass  3\r\n     EvenClass 4\r\n     OddClass  5\r\n     EvenClass 6\r\n     OddClass  7\r\n     EvenClass 8\r\n     OddClass  9\r\n\r\n","title":"Printing Even and Odd using two Threads in Java","body":"<pre><code>        public class OddAndEvenThreadProblems {\n            private static Integer i = 0;\n\n            public static void main(String[] args) {\n                new EvenClass().start();\n                new OddClass().start();\n\n            }\n\n            public static class EvenClass extends Thread {\n\n                public void run() {\n                    while (i &lt; 10) {\n                        synchronized (i) {\n                            if (i % 2 == 0 ) {\n                                try {\n                                    Thread.sleep(1000);\n                                    System.out.println(\" EvenClass \" + i);\n                                    i = i + 1;\n                                } catch (Exception e) {\n                                    e.printStackTrace();\n                                }\n\n                            }\n                        }\n                    }\n                }\n            }\n\n            public static class OddClass extends Thread {\n\n                @Override\n                public void run() {\n                    while (i &lt; 10) {\n                        synchronized (i) {\n                            if (i % 2 == 1) {\n                                try {\n                                    Thread.sleep(1000);\n                                    System.out.println(\" OddClass  \" + i);\n                                    i = i + 1;\n                                } catch (Exception e) {\n                                    e.printStackTrace();\n                                }\n\n                            }\n                    }\n                }\n            }\n        }\n    }\n\n\n\n\n\nOUTPUT will be :- \n\n EvenClass 0\n OddClass  1\n EvenClass 2\n OddClass  3\n EvenClass 4\n OddClass  5\n EvenClass 6\n OddClass  7\n EvenClass 8\n OddClass  9\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5462862,"reputation":13,"user_id":4344396,"display_name":"Akhilesh Singh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1492666634,"creation_date":1492666634,"answer_id":43511021,"question_id":16689449,"body_markdown":"    package programs.multithreading;\r\n\r\n    public class PrintOddEvenNoInSequence {\r\n\t\r\n\tfinal int upto;\r\n\tfinal PrintOddEvenNoInSequence obj;\r\n\tvolatile boolean oddFlag,evenFlag;\r\n\tpublic PrintOddEvenNoInSequence(int upto){\r\n\t\tthis.upto = upto;\r\n\t\tobj = this;\r\n\t\toddFlag = true;\r\n\t\tevenFlag = false;\r\n\t}\r\n\tvoid printInSequence(){\r\n\t\t\r\n\t\tThread odd = new Thread(new Runnable() {\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\tfor(int i = 1; i &lt;= upto; i = i + 2){\r\n\t\t\t\t\tsynchronized (obj) {\r\n\t\t\t\t\t\twhile(!oddFlag){\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tobj.wait();\r\n\t\t\t\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tSystem.out.println(&quot;Odd:&quot;+i);\r\n\t\t\t\t\t\toddFlag = false;\r\n\t\t\t\t\t\tevenFlag = true;\r\n\t\t\t\t\t\tobj.notify();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tThread even = new Thread(new Runnable() {\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\tfor(int i = 2; i &lt;= upto; i = i + 2){\r\n\t\t\t\t\tsynchronized (obj) {\r\n\t\t\t\t\t\twhile(!evenFlag){\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tobj.wait();\r\n\t\t\t\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tSystem.out.println(&quot;Even:&quot;+i);\r\n\t\t\t\t\t\toddFlag = true;\r\n\t\t\t\t\t\tevenFlag = false;\r\n\t\t\t\t\t\tobj.notify();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\todd.start();\r\n\t\teven.start();\r\n\t\t\r\n\t}\r\n\tpublic static void main(String[] args) {\r\n\t\tnew PrintOddEvenNoInSequence(100).printInSequence();\r\n\t}\r\n    }\r\n","title":"Printing Even and Odd using two Threads in Java","body":"<pre><code>package programs.multithreading;\n\npublic class PrintOddEvenNoInSequence {\n\nfinal int upto;\nfinal PrintOddEvenNoInSequence obj;\nvolatile boolean oddFlag,evenFlag;\npublic PrintOddEvenNoInSequence(int upto){\n    this.upto = upto;\n    obj = this;\n    oddFlag = true;\n    evenFlag = false;\n}\nvoid printInSequence(){\n\n    Thread odd = new Thread(new Runnable() {\n        @Override\n        public void run() {\n            for(int i = 1; i &lt;= upto; i = i + 2){\n                synchronized (obj) {\n                    while(!oddFlag){\n                        try {\n                            obj.wait();\n                        } catch (InterruptedException e) {\n                            // TODO Auto-generated catch block\n                            e.printStackTrace();\n                        }\n                    }\n                    System.out.println(\"Odd:\"+i);\n                    oddFlag = false;\n                    evenFlag = true;\n                    obj.notify();\n                }\n            }\n        }\n    });\n\n    Thread even = new Thread(new Runnable() {\n        @Override\n        public void run() {\n            for(int i = 2; i &lt;= upto; i = i + 2){\n                synchronized (obj) {\n                    while(!evenFlag){\n                        try {\n                            obj.wait();\n                        } catch (InterruptedException e) {\n                            // TODO Auto-generated catch block\n                            e.printStackTrace();\n                        }\n                    }\n                    System.out.println(\"Even:\"+i);\n                    oddFlag = true;\n                    evenFlag = false;\n                    obj.notify();\n                }\n            }\n        }\n    });\n\n    odd.start();\n    even.start();\n\n}\npublic static void main(String[] args) {\n    new PrintOddEvenNoInSequence(100).printInSequence();\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4801411,"reputation":189,"user_id":3912385,"accept_rate":55,"display_name":"rajvineet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495970631,"creation_date":1495970631,"answer_id":44226751,"question_id":16689449,"body_markdown":"    package example;\r\n    \r\n    public class PrintSeqTwoThreads {\r\n    \r\n        public static void main(String[] args) {\r\n            final Object mutex = new Object();\r\n            Thread t1 = new Thread() {\r\n                @Override\r\n                public void run() {\r\n                    for (int j = 0; j &lt; 10;) {\r\n                        synchronized (mutex) {\r\n                            System.out.println(Thread.currentThread().getName() + &quot; &quot; + j);\r\n                            j = j + 2;\r\n                            mutex.notify();\r\n                            try {\r\n                                mutex.wait();\r\n                            } catch (InterruptedException e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n            Thread t2 = new Thread() {\r\n                @Override\r\n                public void run() {\r\n                    for (int j = 1; j &lt; 10;) {\r\n                        synchronized (mutex) {\r\n                            System.out.println(Thread.currentThread().getName() + &quot; &quot; + j);\r\n                            j = j + 2;\r\n                            mutex.notify();\r\n                            try {\r\n                                mutex.wait();\r\n                            } catch (InterruptedException e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n            t1.start();\r\n            t2.start();\r\n        }\r\n    }\r\n\r\n","title":"Printing Even and Odd using two Threads in Java","body":"<pre><code>package example;\n\npublic class PrintSeqTwoThreads {\n\n    public static void main(String[] args) {\n        final Object mutex = new Object();\n        Thread t1 = new Thread() {\n            @Override\n            public void run() {\n                for (int j = 0; j &lt; 10;) {\n                    synchronized (mutex) {\n                        System.out.println(Thread.currentThread().getName() + \" \" + j);\n                        j = j + 2;\n                        mutex.notify();\n                        try {\n                            mutex.wait();\n                        } catch (InterruptedException e) {\n                            e.printStackTrace();\n                        }\n                    }\n                }\n            }\n        };\n        Thread t2 = new Thread() {\n            @Override\n            public void run() {\n                for (int j = 1; j &lt; 10;) {\n                    synchronized (mutex) {\n                        System.out.println(Thread.currentThread().getName() + \" \" + j);\n                        j = j + 2;\n                        mutex.notify();\n                        try {\n                            mutex.wait();\n                        } catch (InterruptedException e) {\n                            e.printStackTrace();\n                        }\n                    }\n                }\n            }\n        };\n        t1.start();\n        t2.start();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5801217,"reputation":910,"user_id":4575328,"accept_rate":20,"display_name":"Juvenik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506922509,"creation_date":1506922509,"answer_id":46520001,"question_id":16689449,"body_markdown":"Please use the following code to print odd and even number in a proper order along with desired messages.\r\n\r\n    package practice;\r\n    \r\n    \r\n    class Test {\r\n    \r\n      private static boolean oddFlag = true;\r\n      int count = 1;\r\n    \r\n      private void oddPrinter() {\r\n        synchronized (this) {\r\n          while(true) {\r\n            try {\r\n              if(count &lt; 10) {\r\n                if(oddFlag) {\r\n                  Thread.sleep(500);\r\n                  System.out.println(Thread.currentThread().getName() + &quot;: &quot; + count++);\r\n                  oddFlag = !oddFlag;\r\n                  notifyAll();\r\n                }\r\n                else {\r\n                  wait();\r\n                }\r\n              }\r\n              else {\r\n                System.out.println(&quot;Odd Thread finished&quot;);\r\n                notify();\r\n                break;\r\n              }\r\n            }\r\n            catch (InterruptedException e) {\r\n              e.printStackTrace();\r\n            }\r\n          }\r\n        }\r\n      }\r\n    \r\n      private void evenPrinter() {\r\n        synchronized (this) {\r\n          while (true) {\r\n            try {\r\n              if(count &lt; 10) {\r\n                if(!oddFlag) {\r\n                  Thread.sleep(500);\r\n                  System.out.println(Thread.currentThread().getName() + &quot;: &quot; + count++);\r\n                  oddFlag = !oddFlag;\r\n                  notify();\r\n                }\r\n                else {\r\n                  wait();\r\n                }\r\n              }\r\n              else {\r\n                System.out.println(&quot;Even Thread finished&quot;);\r\n                notify();\r\n                break;\r\n              }\r\n            }\r\n            catch (InterruptedException e) {\r\n              e.printStackTrace();\r\n            }\r\n          }\r\n        }\r\n      }\r\n    \r\n    \r\n      public static void main(String[] args) throws InterruptedException{\r\n        final Test test = new Test();\r\n    \r\n        Thread t1 = new Thread(new Runnable() {\r\n          public void run() {\r\n            test.oddPrinter();\r\n          }\r\n        }, &quot;Thread 1&quot;);\r\n    \r\n        Thread t2 = new Thread(new Runnable() {\r\n          public void run() {\r\n            test.evenPrinter();\r\n          }\r\n        }, &quot;Thread 2&quot;);\r\n    \r\n        t1.start();\r\n        t2.start();\r\n    \r\n        t1.join();\r\n        t2.join();\r\n    \r\n        System.out.println(&quot;Main thread finished&quot;);\r\n      }\r\n    }","title":"Printing Even and Odd using two Threads in Java","body":"<p>Please use the following code to print odd and even number in a proper order along with desired messages.</p>\n\n<pre><code>package practice;\n\n\nclass Test {\n\n  private static boolean oddFlag = true;\n  int count = 1;\n\n  private void oddPrinter() {\n    synchronized (this) {\n      while(true) {\n        try {\n          if(count &lt; 10) {\n            if(oddFlag) {\n              Thread.sleep(500);\n              System.out.println(Thread.currentThread().getName() + \": \" + count++);\n              oddFlag = !oddFlag;\n              notifyAll();\n            }\n            else {\n              wait();\n            }\n          }\n          else {\n            System.out.println(\"Odd Thread finished\");\n            notify();\n            break;\n          }\n        }\n        catch (InterruptedException e) {\n          e.printStackTrace();\n        }\n      }\n    }\n  }\n\n  private void evenPrinter() {\n    synchronized (this) {\n      while (true) {\n        try {\n          if(count &lt; 10) {\n            if(!oddFlag) {\n              Thread.sleep(500);\n              System.out.println(Thread.currentThread().getName() + \": \" + count++);\n              oddFlag = !oddFlag;\n              notify();\n            }\n            else {\n              wait();\n            }\n          }\n          else {\n            System.out.println(\"Even Thread finished\");\n            notify();\n            break;\n          }\n        }\n        catch (InterruptedException e) {\n          e.printStackTrace();\n        }\n      }\n    }\n  }\n\n\n  public static void main(String[] args) throws InterruptedException{\n    final Test test = new Test();\n\n    Thread t1 = new Thread(new Runnable() {\n      public void run() {\n        test.oddPrinter();\n      }\n    }, \"Thread 1\");\n\n    Thread t2 = new Thread(new Runnable() {\n      public void run() {\n        test.evenPrinter();\n      }\n    }, \"Thread 2\");\n\n    t1.start();\n    t2.start();\n\n    t1.join();\n    t2.join();\n\n    System.out.println(\"Main thread finished\");\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6812789,"reputation":91,"user_id":5242408,"display_name":"Atif Karbelkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508682574,"creation_date":1508682574,"answer_id":46875231,"question_id":16689449,"body_markdown":"I could not understand most of the codes that were here so I wrote myself one, maybe it helps someone like me:\r\n\r\nNOTE: This does not use separate print even and odd method. One method print() does it all.\r\n\r\n\r\n    public class test {\r\n    \r\n    \tprivate static int START_INT = 1;\r\n    \tprivate static int STOP_INT = 10;\r\n    \tprivate static String THREAD_1 = &quot;Thread A&quot;;\r\n    \tprivate static String THREAD_2 = &quot;Thread B&quot;;\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSynchronizedRepository syncRep = new SynchronizedRepository(START_INT,STOP_INT);\r\n    \t\tRunnable r1 = new EvenOddWorker(THREAD_1,syncRep);\r\n    \t\tRunnable r2 = new EvenOddWorker(THREAD_2,syncRep);\r\n    \t\tThread t1 = new Thread(r1, THREAD_1);\r\n    \t\tThread t2 = new Thread(r2, THREAD_2);\r\n    \t\tt1.start();\r\n    \t\tt2.start();\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\n    public class SynchronizedRepository {\r\n    \tprivate volatile int number;\r\n    \tprivate volatile boolean isSlotEven;\r\n    \tprivate int startNumber;\r\n    \tprivate int stopNumber;\r\n    \t\r\n    \tpublic SynchronizedRepository(int startNumber, int stopNumber) {\r\n    \t\tsuper();\r\n    \t\tthis.number = startNumber;\r\n    \t\tthis.isSlotEven = startNumber%2==0;\r\n    \t\tthis.startNumber = startNumber;\r\n    \t\tthis.stopNumber = stopNumber;\r\n    \t}\r\n    \r\n    \r\n    \tpublic synchronized void print(String threadName) {\r\n    \t\ttry {\r\n    \t\t\tfor(int i=startNumber; i&lt;=stopNumber/2; i++){\r\n    \t\t\t\tif ((isSlotEven &amp;&amp; number % 2 == 0)||\r\n    \t\t\t\t\t\t(!isSlotEven &amp;&amp; number % 2 != 0)){\r\n    \t\t\t\t\tSystem.out.println(threadName + &quot; &quot;+ number);\r\n    \t\t\t\t\tisSlotEven = !isSlotEven;\r\n    \t\t\t\t\tnumber++;\r\n    \t\t\t\t}\r\n    \t\t\t\tnotifyAll();\r\n    \t\t\t\twait();\r\n    \t\t\t}\r\n    \t\t\tnotifyAll();\r\n    \t\t} catch (InterruptedException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\n    public class EvenOddWorker implements Runnable {\r\n    \r\n    \tprivate String threadName;\r\n    \tprivate SynchronizedRepository syncRep;\r\n    \r\n    \tpublic EvenOddWorker(String threadName, SynchronizedRepository syncRep) {\r\n    \t\tsuper();\r\n    \t\tthis.threadName = threadName;\r\n    \t\tthis.syncRep = syncRep;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tsyncRep.print(threadName);\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Printing Even and Odd using two Threads in Java","body":"<p>I could not understand most of the codes that were here so I wrote myself one, maybe it helps someone like me:</p>\n\n<p>NOTE: This does not use separate print even and odd method. One method print() does it all.</p>\n\n<pre><code>public class test {\n\n    private static int START_INT = 1;\n    private static int STOP_INT = 10;\n    private static String THREAD_1 = \"Thread A\";\n    private static String THREAD_2 = \"Thread B\";\n\n    public static void main(String[] args) {\n        SynchronizedRepository syncRep = new SynchronizedRepository(START_INT,STOP_INT);\n        Runnable r1 = new EvenOddWorker(THREAD_1,syncRep);\n        Runnable r2 = new EvenOddWorker(THREAD_2,syncRep);\n        Thread t1 = new Thread(r1, THREAD_1);\n        Thread t2 = new Thread(r2, THREAD_2);\n        t1.start();\n        t2.start();\n    }\n\n}\n\n\n\n\npublic class SynchronizedRepository {\n    private volatile int number;\n    private volatile boolean isSlotEven;\n    private int startNumber;\n    private int stopNumber;\n\n    public SynchronizedRepository(int startNumber, int stopNumber) {\n        super();\n        this.number = startNumber;\n        this.isSlotEven = startNumber%2==0;\n        this.startNumber = startNumber;\n        this.stopNumber = stopNumber;\n    }\n\n\n    public synchronized void print(String threadName) {\n        try {\n            for(int i=startNumber; i&lt;=stopNumber/2; i++){\n                if ((isSlotEven &amp;&amp; number % 2 == 0)||\n                        (!isSlotEven &amp;&amp; number % 2 != 0)){\n                    System.out.println(threadName + \" \"+ number);\n                    isSlotEven = !isSlotEven;\n                    number++;\n                }\n                notifyAll();\n                wait();\n            }\n            notifyAll();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n\n    }\n\n}\n\n\n\npublic class EvenOddWorker implements Runnable {\n\n    private String threadName;\n    private SynchronizedRepository syncRep;\n\n    public EvenOddWorker(String threadName, SynchronizedRepository syncRep) {\n        super();\n        this.threadName = threadName;\n        this.syncRep = syncRep;\n    }\n\n    @Override\n    public void run() {\n        syncRep.print(threadName);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1252373,"reputation":81,"user_id":1212525,"display_name":"farmbytes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510722625,"creation_date":1510722625,"answer_id":47299782,"question_id":16689449,"body_markdown":"Simple solution :)\r\n\r\n    package com.code.threads;\r\n    \r\n    public class PrintOddEven extends Thread {\r\n    \t\r\n    \tprivate Object lock;\r\n    \tstatic volatile int count = 1;\r\n    \t\r\n    \tPrintOddEven(Object lock) {\r\n    \t\tthis.lock = lock;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void run () {\r\n    \t\twhile(count &lt;= 10) {\r\n    \t\t\tif (count % 2 == 0) {\r\n    \t\t\t\tsynchronized(lock){\r\n    \t\t\t\t\tSystem.out.println(&quot;Even - &quot; + count);\r\n    \t\t\t\t\t++count;\r\n    \t\t\t\t\ttry {\r\n    \t\t\t\t\t\tlock.wait();\r\n    \t\t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t} else {\r\n    \t\t\t\tsynchronized(lock){\r\n    \t\t\t\t\tSystem.out.println(&quot;Odd - &quot; + count);\r\n    \t\t\t\t\t++count;\r\n    \t\t\t\t\tlock.notify();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tObject obj = new Object();\r\n    \t\tPrintOddEven even = new PrintOddEven(obj);\r\n    \t\tPrintOddEven odd = new PrintOddEven(obj);\r\n    \t\t\r\n    \t\teven.start();\r\n    \t\todd.start();\r\n    \t}\r\n    }","title":"Printing Even and Odd using two Threads in Java","body":"<p>Simple solution :)</p>\n\n<pre><code>package com.code.threads;\n\npublic class PrintOddEven extends Thread {\n\n    private Object lock;\n    static volatile int count = 1;\n\n    PrintOddEven(Object lock) {\n        this.lock = lock;\n    }\n\n    @Override\n    public void run () {\n        while(count &lt;= 10) {\n            if (count % 2 == 0) {\n                synchronized(lock){\n                    System.out.println(\"Even - \" + count);\n                    ++count;\n                    try {\n                        lock.wait();\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                }\n            } else {\n                synchronized(lock){\n                    System.out.println(\"Odd - \" + count);\n                    ++count;\n                    lock.notify();\n                }\n            }\n        }\n    }\n\n    public static void main(String[] args) {\n        Object obj = new Object();\n        PrintOddEven even = new PrintOddEven(obj);\n        PrintOddEven odd = new PrintOddEven(obj);\n\n        even.start();\n        odd.start();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11088826,"reputation":47,"user_id":8141517,"display_name":"Santosh Kumar"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1514102568,"creation_date":1514102568,"answer_id":47959036,"question_id":16689449,"body_markdown":"    Simpler Version in Java 8:\r\n    \r\n    public class EvenOddPrinter {\r\n    \tstatic boolean flag = true;\r\n    \tpublic static void main(String[] args) {\r\n    \t\tRunnable odd = () -&gt; {\r\n    \t\t\tfor (int i = 1; i &lt;= 10;) {\r\n    \t\t\t\tif(EvenOddPrinter.flag) {\r\n    \t\t\t\t\tSystem.out.println(i);\r\n    \t\t\t\t\ti+=2;\r\n    \t\t\t\t\tEvenOddPrinter.flag = !EvenOddPrinter.flag;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\t\r\n    \t\tRunnable even = () -&gt; {\r\n    \t\t\tfor (int i = 2; i &lt;= 10;) {\r\n    \t\t\t\tif(!EvenOddPrinter.flag) {\r\n    \t\t\t\t\tSystem.out.println(i);\r\n    \t\t\t\t\ti+=2;\r\n    \t\t\t\t\tEvenOddPrinter.flag = !EvenOddPrinter.flag;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\t\r\n    \t\t Thread t1 = new Thread(odd, &quot;Odd&quot;);\r\n    \t\t Thread t2 = new Thread(even, &quot;Even&quot;);\r\n    \t\t t1.start();\r\n    \t\t t2.start();\r\n    \t}\r\n    }","title":"Printing Even and Odd using two Threads in Java","body":"<pre><code>Simpler Version in Java 8:\n\npublic class EvenOddPrinter {\n    static boolean flag = true;\n    public static void main(String[] args) {\n        Runnable odd = () -&gt; {\n            for (int i = 1; i &lt;= 10;) {\n                if(EvenOddPrinter.flag) {\n                    System.out.println(i);\n                    i+=2;\n                    EvenOddPrinter.flag = !EvenOddPrinter.flag;\n                }\n            }\n        };\n\n        Runnable even = () -&gt; {\n            for (int i = 2; i &lt;= 10;) {\n                if(!EvenOddPrinter.flag) {\n                    System.out.println(i);\n                    i+=2;\n                    EvenOddPrinter.flag = !EvenOddPrinter.flag;\n                }\n            }\n        };\n\n         Thread t1 = new Thread(odd, \"Odd\");\n         Thread t2 = new Thread(even, \"Even\");\n         t1.start();\n         t2.start();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4351320,"reputation":79,"user_id":3551555,"display_name":"Leeladurga Prasad Gunti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523126366,"creation_date":1523126366,"answer_id":49710711,"question_id":16689449,"body_markdown":"\tpublic class Main {\r\n\t\tpublic static void main(String[] args) throws Exception{\r\n\t\t\tint N = 100;\r\n\t\t\tPrintingThread oddNumberThread = new PrintingThread(N - 1);\r\n\t\t\tPrintingThread evenNumberThread = new PrintingThread(N);\r\n\t\t\toddNumberThread.start();\r\n\t\t\t// make sure that even thread only start after odd thread\r\n\t\t\twhile (!evenNumberThread.isAlive()) {\r\n\t\t\t\tif(oddNumberThread.isAlive()) {\r\n\t\t\t\t\tevenNumberThread.start();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tThread.sleep(100);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tclass PrintingThread extends Thread {\r\n\t\tprivate static final Object object = new Object(); // lock for both threads\r\n\t\tfinal int N;\r\n\t\t// N determines whether given thread is even or odd\r\n\t\tPrintingThread(int N) {\r\n\t\t\tthis.N = N;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void run() {\r\n\t\t\tsynchronized (object) {\r\n\t\t\t\tint start = N % 2 == 0 ? 2 : 1; // if N is odd start from 1 else start from 0\r\n\t\t\t\tfor (int i = start; i &lt;= N; i = i + 2) {\r\n\t\t\t\t\tSystem.out.println(i);\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tobject.notify(); // will notify waiting thread\r\n\t\t\t\t\t\tobject.wait(); // will make current thread wait\r\n\t\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"Printing Even and Odd using two Threads in Java","body":"<pre><code>public class Main {\n    public static void main(String[] args) throws Exception{\n        int N = 100;\n        PrintingThread oddNumberThread = new PrintingThread(N - 1);\n        PrintingThread evenNumberThread = new PrintingThread(N);\n        oddNumberThread.start();\n        // make sure that even thread only start after odd thread\n        while (!evenNumberThread.isAlive()) {\n            if(oddNumberThread.isAlive()) {\n                evenNumberThread.start();\n            } else {\n                Thread.sleep(100);\n            }\n        }\n\n    }\n}\n\nclass PrintingThread extends Thread {\n    private static final Object object = new Object(); // lock for both threads\n    final int N;\n    // N determines whether given thread is even or odd\n    PrintingThread(int N) {\n        this.N = N;\n    }\n\n    @Override\n    public void run() {\n        synchronized (object) {\n            int start = N % 2 == 0 ? 2 : 1; // if N is odd start from 1 else start from 0\n            for (int i = start; i &lt;= N; i = i + 2) {\n                System.out.println(i);\n                try {\n                    object.notify(); // will notify waiting thread\n                    object.wait(); // will make current thread wait\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3704436,"reputation":727,"user_id":6055121,"display_name":"Avikool91"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1523997333,"creation_date":1523997030,"answer_id":49886984,"question_id":16689449,"body_markdown":"Simple Solution below:-\r\n\r\n    package com.test;\r\n    \r\n    class MyThread implements Runnable{\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tint i=1;\r\n    \t\twhile(true) {\r\n    \t\t\tString name=Thread.currentThread().getName();\r\n    \t\t\tif(name.equals(&quot;task1&quot;) &amp;&amp; i%2!=0) {\r\n    \t\t\t\tSystem.out.println(name+&quot;::::&quot;+i);\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tThread.sleep(1000);\r\n    \t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t}else if(name.equals(&quot;task2&quot;) &amp;&amp; i%2==0){\r\n    \t\t\t\tSystem.out.println(name+&quot;::::&quot;+i);\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tThread.sleep(1000);\r\n    \t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\ti++;\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tMyThread task1=new MyThread();\r\n    \t\tMyThread task2=new MyThread();\r\n    \t\t\r\n    \t\tThread t1=new Thread(task1,&quot;task1&quot;);\r\n    \t\tThread t2=new Thread(task2,&quot;task2&quot;);\r\n    \t\t\r\n    \t\tt1.start();\r\n    \t\tt2.start();\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Printing Even and Odd using two Threads in Java","body":"<p>Simple Solution below:-</p>\n\n<pre><code>package com.test;\n\nclass MyThread implements Runnable{\n\n    @Override\n    public void run() {\n        int i=1;\n        while(true) {\n            String name=Thread.currentThread().getName();\n            if(name.equals(\"task1\") &amp;&amp; i%2!=0) {\n                System.out.println(name+\"::::\"+i);\n                try {\n                    Thread.sleep(1000);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }else if(name.equals(\"task2\") &amp;&amp; i%2==0){\n                System.out.println(name+\"::::\"+i);\n                try {\n                    Thread.sleep(1000);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n            i++;\n        }\n\n    }\n\n    public static void main(String[] args) {\n\n        MyThread task1=new MyThread();\n        MyThread task2=new MyThread();\n\n        Thread t1=new Thread(task1,\"task1\");\n        Thread t2=new Thread(task2,\"task2\");\n\n        t1.start();\n        t2.start();\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12505387,"reputation":269,"user_id":9102369,"display_name":"Raj Ved"},"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1644519546,"creation_date":1528401420,"answer_id":50749286,"question_id":16689449,"body_markdown":"Use this following very simple JAVA 8 Runnable Class feature\r\n\r\n    public class MultiThreadExample {\r\n\r\n    static AtomicInteger atomicNumber = new AtomicInteger(1);\r\n\r\n    public static void main(String[] args) {\r\n        Runnable print = () -&gt; {\r\n            while (atomicNumber.get() &lt; 10) {\r\n                synchronized (atomicNumber) {\r\n                    if ((atomicNumber.get() % 2 == 0) &amp;&amp; &quot;Even&quot;.equals(Thread.currentThread().getName())) {\r\n                        System.out.println(&quot;Even&quot; + &quot;:&quot; + atomicNumber.getAndIncrement());\r\n                    } //else if ((atomicNumber.get() % 2 != 0) &amp;&amp; &quot;Odd&quot;.equals(Thread.currentThread().getName()))\r\n                       else {System.out.println(&quot;Odd&quot; + &quot;:&quot; + atomicNumber.getAndIncrement());\r\n                    }\r\n                }\r\n            }\r\n        };\r\n\r\n        Thread t1 = new Thread(print);\r\n        t1.setName(&quot;Even&quot;);\r\n        t1.start();\r\n        Thread t2 = new Thread(print);\r\n        t2.setName(&quot;Odd&quot;);\r\n        t2.start();\r\n\r\n    }\r\n    }\r\n\r\n\r\n","title":"Printing Even and Odd using two Threads in Java","body":"<p>Use this following very simple JAVA 8 Runnable Class feature</p>\n<pre><code>public class MultiThreadExample {\n\nstatic AtomicInteger atomicNumber = new AtomicInteger(1);\n\npublic static void main(String[] args) {\n    Runnable print = () -&gt; {\n        while (atomicNumber.get() &lt; 10) {\n            synchronized (atomicNumber) {\n                if ((atomicNumber.get() % 2 == 0) &amp;&amp; &quot;Even&quot;.equals(Thread.currentThread().getName())) {\n                    System.out.println(&quot;Even&quot; + &quot;:&quot; + atomicNumber.getAndIncrement());\n                } //else if ((atomicNumber.get() % 2 != 0) &amp;&amp; &quot;Odd&quot;.equals(Thread.currentThread().getName()))\n                   else {System.out.println(&quot;Odd&quot; + &quot;:&quot; + atomicNumber.getAndIncrement());\n                }\n            }\n        }\n    };\n\n    Thread t1 = new Thread(print);\n    t1.setName(&quot;Even&quot;);\n    t1.start();\n    Thread t2 = new Thread(print);\n    t2.setName(&quot;Odd&quot;);\n    t2.start();\n\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4324371,"reputation":114,"user_id":3531588,"display_name":"user3531588"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1532180371,"creation_date":1532180371,"answer_id":51456635,"question_id":16689449,"body_markdown":"See the Clean implementation\r\n\r\n\r\n    public class PrintOddEvenByTwoThreads {\r\n    \tstatic int number = 1;\r\n    \tstatic Thread odd;\r\n    \tstatic Thread even;\r\n    \tstatic int max = 10;\r\n    \r\n    \tstatic class OddThread extends Thread {\r\n    \t\t@Override\r\n    \t\tpublic void run() {\r\n    \t\t\twhile (number &lt;= max) {\r\n    \t\t\t\tif (number % 2 == 1) {\r\n    \t\t\t\t\tSystem.out.println(Thread.currentThread() + &quot;&quot; + number++);\r\n    \t\t\t\t} else {\r\n    \r\n    \t\t\t\t\tsynchronized (odd) {\r\n    \t\t\t\t\t\tsynchronized (even) {\r\n    \t\t\t\t\t\t\teven.notify();\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\ttry {\r\n    \t\t\t\t\t\t\twait();\r\n    \t\t\t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tstatic class EvenThread extends Thread {\r\n    \t\t@Override\r\n    \t\tpublic void run() {\r\n    \t\t\twhile (number &lt;= max) {\r\n    \t\t\t\tif (number % 2 == 0) {\r\n    \t\t\t\t\tSystem.out.println(Thread.currentThread() + &quot;&quot; + number++);\r\n    \t\t\t\t} else {\r\n    \r\n    \t\t\t\t\tsynchronized (even) {\r\n    \t\t\t\t\t\tsynchronized (odd) {\r\n    \t\t\t\t\t\t\todd.notify();\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\ttry {\r\n    \t\t\t\t\t\t\twait();\r\n    \t\t\t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) throws InterruptedException {\r\n    \t\todd = new OddThread();\r\n    \t\teven = new EvenThread();\r\n    \t\todd.start();\r\n    \t\teven.start();\r\n    \t}\r\n    }\r\n\r\n","title":"Printing Even and Odd using two Threads in Java","body":"<p>See the Clean implementation</p>\n\n<pre><code>public class PrintOddEvenByTwoThreads {\n    static int number = 1;\n    static Thread odd;\n    static Thread even;\n    static int max = 10;\n\n    static class OddThread extends Thread {\n        @Override\n        public void run() {\n            while (number &lt;= max) {\n                if (number % 2 == 1) {\n                    System.out.println(Thread.currentThread() + \"\" + number++);\n                } else {\n\n                    synchronized (odd) {\n                        synchronized (even) {\n                            even.notify();\n                        }\n                        try {\n                            wait();\n                        } catch (InterruptedException e) {\n                            e.printStackTrace();\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    static class EvenThread extends Thread {\n        @Override\n        public void run() {\n            while (number &lt;= max) {\n                if (number % 2 == 0) {\n                    System.out.println(Thread.currentThread() + \"\" + number++);\n                } else {\n\n                    synchronized (even) {\n                        synchronized (odd) {\n                            odd.notify();\n                        }\n                        try {\n                            wait();\n                        } catch (InterruptedException e) {\n                            e.printStackTrace();\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    public static void main(String[] args) throws InterruptedException {\n        odd = new OddThread();\n        even = new EvenThread();\n        odd.start();\n        even.start();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7464191,"reputation":71,"user_id":5674413,"display_name":"Sunil Ranwan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1569561266,"creation_date":1555842681,"answer_id":55781939,"question_id":16689449,"body_markdown":"  This is easiest solution for this problem. \r\n \r\n\r\n\r\n    public class OddEven implements Runnable {\r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \r\n    \t\tfor (int i = 1; i &lt;= 10; i++) {\r\n    \t\t\tsynchronized (this) {\r\n    \t\t\t\tif (i % 2 == 0 &amp;&amp; Thread.currentThread().getName().equals(&quot;t2&quot;)) {\r\n    \t\t\t\t\ttry {\r\n    \t\t\t\t\t\tnotifyAll();\r\n    \t\t\t\t\t\tSystem.out.println(&quot;Even Thread : &quot; + i);\r\n    \t\t\t\t\t\twait();\r\n    \t\t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t} else if (i % 2 != 0\r\n    \t\t\t\t\t\t&amp;&amp; Thread.currentThread().getName().equals(&quot;t1&quot;)) {\r\n    \t\t\t\t\ttry {\r\n    \t\t\t\t\t\tnotifyAll();\r\n    \t\t\t\t\t\tSystem.out.println(&quot;Odd Thread : &quot; + i);\r\n    \t\t\t\t\t\twait();\r\n    \t\t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tOddEven obj = new OddEven();\r\n    \t\tThread t1 = new Thread(obj, &quot;t1&quot;);\r\n    \t\tThread t2 = new Thread(obj, &quot;t2&quot;);\r\n    \t\tt1.start();\r\n    \t\tt2.start();\r\n    \r\n    \t}\r\n    }\r\n\r\n","title":"Printing Even and Odd using two Threads in Java","body":"<p>This is easiest solution for this problem. </p>\n\n<pre><code>public class OddEven implements Runnable {\n    @Override\n    public void run() {\n        // TODO Auto-generated method stub\n\n        for (int i = 1; i &lt;= 10; i++) {\n            synchronized (this) {\n                if (i % 2 == 0 &amp;&amp; Thread.currentThread().getName().equals(\"t2\")) {\n                    try {\n                        notifyAll();\n                        System.out.println(\"Even Thread : \" + i);\n                        wait();\n                    } catch (InterruptedException e) {\n                        // TODO Auto-generated catch block\n                        e.printStackTrace();\n                    }\n                } else if (i % 2 != 0\n                        &amp;&amp; Thread.currentThread().getName().equals(\"t1\")) {\n                    try {\n                        notifyAll();\n                        System.out.println(\"Odd Thread : \" + i);\n                        wait();\n                    } catch (InterruptedException e) {\n                        // TODO Auto-generated catch block\n                        e.printStackTrace();\n                    }\n                }\n            }\n        }\n\n    }\n\n    public static void main(String[] args) {\n\n        OddEven obj = new OddEven();\n        Thread t1 = new Thread(obj, \"t1\");\n        Thread t2 = new Thread(obj, \"t2\");\n        t1.start();\n        t2.start();\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14841565,"reputation":19,"user_id":10718157,"display_name":"dhirendra kumar singh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1561386072,"creation_date":1561380364,"answer_id":56736918,"question_id":16689449,"body_markdown":"1- The number is initialized with 1 and `isOdd` flag is set to _false_.  set `isOdd` to _true_\r\n\r\n2-  Increment should be by 1 (not by 2) i.e  `number+=1`;","title":"Printing Even and Odd using two Threads in Java","body":"<p>1- The number is initialized with 1 and <code>isOdd</code> flag is set to <em>false</em>.  set <code>isOdd</code> to <em>true</em></p>\n\n<p>2-  Increment should be by 1 (not by 2) i.e  <code>number+=1</code>;</p>\n"},{"tags":[],"owner":{"account_id":5318344,"reputation":69,"user_id":4242460,"display_name":"riteeka"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1592316626,"creation_date":1592316626,"answer_id":62410533,"question_id":16689449,"body_markdown":"**Simplest Solution!!** \r\n\r\n    public class OddEvenWithThread {\r\n        public static void main(String a[]) {\r\n            Thread t1 = new Thread(new OddEvenRunnable(0), &quot;Even Thread&quot;);\r\n            Thread t2 = new Thread(new OddEvenRunnable(1), &quot;Odd Thread&quot;);\r\n    \r\n            t1.start();\r\n            t2.start();\r\n        }\r\n    }\r\n    \r\n    class OddEvenRunnable implements Runnable {\r\n        Integer evenflag;\r\n        static Integer number = 1;\r\n        static Object lock = new Object();\r\n    \r\n        OddEvenRunnable(Integer evenFlag) {\r\n            this.evenflag = evenFlag;\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n            while (number &lt; 10) {\r\n                synchronized (lock) {\r\n                    try {\r\n                        while (number % 2 != evenflag) {\r\n                            lock.wait();\r\n                        }\r\n                    } catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n    \r\n                    System.out.println(Thread.currentThread().getName() + &quot; &quot; + number);\r\n                    number++;\r\n                    lock.notifyAll();\r\n                }\r\n            }\r\n        }\r\n    }","title":"Printing Even and Odd using two Threads in Java","body":"<p><strong>Simplest Solution!!</strong> </p>\n\n<pre><code>public class OddEvenWithThread {\n    public static void main(String a[]) {\n        Thread t1 = new Thread(new OddEvenRunnable(0), \"Even Thread\");\n        Thread t2 = new Thread(new OddEvenRunnable(1), \"Odd Thread\");\n\n        t1.start();\n        t2.start();\n    }\n}\n\nclass OddEvenRunnable implements Runnable {\n    Integer evenflag;\n    static Integer number = 1;\n    static Object lock = new Object();\n\n    OddEvenRunnable(Integer evenFlag) {\n        this.evenflag = evenFlag;\n    }\n\n    @Override\n    public void run() {\n        while (number &lt; 10) {\n            synchronized (lock) {\n                try {\n                    while (number % 2 != evenflag) {\n                        lock.wait();\n                    }\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n\n                System.out.println(Thread.currentThread().getName() + \" \" + number);\n                number++;\n                lock.notifyAll();\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5393276,"reputation":51,"user_id":4295165,"display_name":"dharmendra singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613056408,"creation_date":1613056408,"answer_id":66157396,"question_id":16689449,"body_markdown":"    class PrintNumberTask implements Runnable {\r\n    Integer count;\r\n    Object lock;\r\n\r\n    PrintNumberTask(int i, Object object) {\r\n        this.count = i;\r\n        this.lock = object;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        while (count &lt;= 10) {\r\n            synchronized (lock) {\r\n                if (count % 2 == 0) {\r\n                    System.out.println(count);\r\n                    count++;\r\n                    lock.notify();\r\n                    try {\r\n                        lock.wait();\r\n                    } catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                } else {\r\n                    System.out.println(count);\r\n                    count++;\r\n                    lock.notify();\r\n                    try {\r\n                        lock.wait();\r\n                    } catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n}","title":"Printing Even and Odd using two Threads in Java","body":"<pre><code>class PrintNumberTask implements Runnable {\nInteger count;\nObject lock;\n\nPrintNumberTask(int i, Object object) {\n    this.count = i;\n    this.lock = object;\n}\n\n@Override\npublic void run() {\n    while (count &lt;= 10) {\n        synchronized (lock) {\n            if (count % 2 == 0) {\n                System.out.println(count);\n                count++;\n                lock.notify();\n                try {\n                    lock.wait();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            } else {\n                System.out.println(count);\n                count++;\n                lock.notify();\n                try {\n                    lock.wait();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":5223818,"reputation":641,"user_id":4176408,"display_name":"Aalishan Ansari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617436443,"creation_date":1617436443,"answer_id":66928885,"question_id":16689449,"body_markdown":"This solution works for me (Java 8 and above used Lamda expression)\r\n\r\n\r\n\r\n    public class EvenOddUsingThread {\r\n    \r\n        static int number = 100;\r\n        static int counter = 1;\r\n    \r\n        public static void main(String[] args) {\r\n            EvenOddUsingThread eod = new EvenOddUsingThread();\r\n            Thread t1 = new Thread(() -&gt; eod.printOdd());\r\n            Thread t2 = new Thread(() -&gt; eod.printEven());\r\n            t1.start();\r\n            t2.start();\r\n        }\r\n    \r\n        public void printOdd() {\r\n            synchronized (this) {\r\n                while (counter &lt; number) {\r\n                    if (counter % 2 == 0) {\r\n                        try {\r\n                            wait();\r\n                        } catch (InterruptedException e) {\r\n                        }\r\n                    }\r\n                    // Print the number\r\n                    System.out.println(counter + &quot; Thread Name: &quot; + Thread.currentThread().getName());\r\n                    // Increment counter\r\n                    counter++;\r\n                    // Notify to second thread\r\n                    notify();\r\n                }\r\n            }\r\n        }\r\n    \r\n        public void printEven() {\r\n            synchronized (this) {\r\n                while (counter &lt; number) {\r\n                    if (counter % 2 == 1) {\r\n                        try {\r\n                            wait();\r\n                        } catch (InterruptedException ignored) {\r\n                        }\r\n                    }\r\n                    // Print the number\r\n                    System.out.println(counter + &quot; Thread Name: &quot; + Thread.currentThread().getName());\r\n                    // Increment counter\r\n                    counter++;\r\n                    // Notify to second thread\r\n                    notify();\r\n                }\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Printing Even and Odd using two Threads in Java","body":"<p>This solution works for me (Java 8 and above used Lamda expression)</p>\n<pre><code>public class EvenOddUsingThread {\n\n    static int number = 100;\n    static int counter = 1;\n\n    public static void main(String[] args) {\n        EvenOddUsingThread eod = new EvenOddUsingThread();\n        Thread t1 = new Thread(() -&gt; eod.printOdd());\n        Thread t2 = new Thread(() -&gt; eod.printEven());\n        t1.start();\n        t2.start();\n    }\n\n    public void printOdd() {\n        synchronized (this) {\n            while (counter &lt; number) {\n                if (counter % 2 == 0) {\n                    try {\n                        wait();\n                    } catch (InterruptedException e) {\n                    }\n                }\n                // Print the number\n                System.out.println(counter + &quot; Thread Name: &quot; + Thread.currentThread().getName());\n                // Increment counter\n                counter++;\n                // Notify to second thread\n                notify();\n            }\n        }\n    }\n\n    public void printEven() {\n        synchronized (this) {\n            while (counter &lt; number) {\n                if (counter % 2 == 1) {\n                    try {\n                        wait();\n                    } catch (InterruptedException ignored) {\n                    }\n                }\n                // Print the number\n                System.out.println(counter + &quot; Thread Name: &quot; + Thread.currentThread().getName());\n                // Increment counter\n                counter++;\n                // Notify to second thread\n                notify();\n            }\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4685492,"reputation":164,"user_id":3793001,"display_name":"swyrik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628686396,"creation_date":1628686396,"answer_id":68742432,"question_id":16689449,"body_markdown":"The solution below is using java 8 completable future and executor service to print even and odd numbers using two threads.\r\n\r\n    ExecutorService firstExecutorService = Executors.newSingleThreadExecutor(r -&gt; {\r\n    \t\tThread t = new Thread(r);\r\n    \t\tt.setName(&quot;first&quot;);\r\n    \t\treturn t;\r\n    \t});\r\n\r\n    \tExecutorService secondExecutorService = Executors.newSingleThreadExecutor(r -&gt; {\r\n    \t\tThread t = new Thread(r);\r\n    \t\tt.setName(&quot;second&quot;);\r\n    \t\treturn t;\r\n    \t});\r\n    \r\n    \tIntStream.range(1, 101).forEach(num -&gt; {\r\n\r\n    \t\tCompletableFuture&lt;Integer&gt; thenApplyAsync = CompletableFuture.completedFuture(num).thenApplyAsync(x -&gt; {\r\n    \r\n    \t\t\tif (x % 2 == 1) {\r\n    \t\t\t\tSystem.out.println(x + &quot; &quot; + Thread.currentThread().getName());\r\n    \t\t\t}\r\n    \t\t\treturn num;\r\n    \t\t}, firstExecutorService);\r\n\r\n    \t\tthenApplyAsync.join();\r\n    \r\n    \t\tCompletableFuture&lt;Integer&gt; thenApplyAsync2 = CompletableFuture.completedFuture(num).thenApplyAsync(x -&gt; {\r\n    \t\t\tif (x % 2 == 0) {\r\n    \t\t\t\tSystem.out.println(x + &quot; &quot; + Thread.currentThread().getName());\r\n    \t\t\t}\r\n    \t\t\treturn num;\r\n    \t\t}, secondExecutorService);\r\n\r\n    \t\tthenApplyAsync2.join();\r\n    \t});\r\n\r\n    \tfirstExecutorService.shutdown();\r\n    \tsecondExecutorService.shutdown();\r\n\r\nThe below is the console log of it.&lt;br&gt;\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/n95Sk.png","title":"Printing Even and Odd using two Threads in Java","body":"<p>The solution below is using java 8 completable future and executor service to print even and odd numbers using two threads.</p>\n<pre><code>ExecutorService firstExecutorService = Executors.newSingleThreadExecutor(r -&gt; {\n        Thread t = new Thread(r);\n        t.setName(&quot;first&quot;);\n        return t;\n    });\n\n    ExecutorService secondExecutorService = Executors.newSingleThreadExecutor(r -&gt; {\n        Thread t = new Thread(r);\n        t.setName(&quot;second&quot;);\n        return t;\n    });\n\n    IntStream.range(1, 101).forEach(num -&gt; {\n\n        CompletableFuture&lt;Integer&gt; thenApplyAsync = CompletableFuture.completedFuture(num).thenApplyAsync(x -&gt; {\n\n            if (x % 2 == 1) {\n                System.out.println(x + &quot; &quot; + Thread.currentThread().getName());\n            }\n            return num;\n        }, firstExecutorService);\n\n        thenApplyAsync.join();\n\n        CompletableFuture&lt;Integer&gt; thenApplyAsync2 = CompletableFuture.completedFuture(num).thenApplyAsync(x -&gt; {\n            if (x % 2 == 0) {\n                System.out.println(x + &quot; &quot; + Thread.currentThread().getName());\n            }\n            return num;\n        }, secondExecutorService);\n\n        thenApplyAsync2.join();\n    });\n\n    firstExecutorService.shutdown();\n    secondExecutorService.shutdown();\n</code></pre>\n<p>The below is the console log of it.<br>\n<a href=\"https://i.stack.imgur.com/n95Sk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n95Sk.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":5717867,"reputation":271,"user_id":4517414,"display_name":"Vikash Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670170825,"creation_date":1670170519,"answer_id":74678453,"question_id":16689449,"body_markdown":"We can print odd and even using two separate threads using `CompletableFuture` as well:\r\n\r\n```\r\nimport java.util.concurrent.CompletableFuture;\r\nimport java.util.function.IntPredicate;\r\nimport java.util.stream.IntStream;\r\n\r\npublic class OddEvenBy2Thread {\r\n\r\n    private static Object object = new Object();\r\n\r\n    private static IntPredicate evenCondition = e -&gt; e % 2 == 0;\r\n    private static IntPredicate oddCondition = e -&gt; e % 2 != 0;\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n\r\n        // Odd number printer\r\n        CompletableFuture.runAsync(() -&gt; OddEvenBy2Thread.printNumber(oddCondition));\r\n\r\n        // Even number printer\r\n        CompletableFuture.runAsync(() -&gt; OddEvenBy2Thread.printNumber(evenCondition));\r\n\r\n        Thread.sleep(1000);\r\n    }\r\n\r\n    public static void printNumber(IntPredicate condition){\r\n        IntStream.rangeClosed(1, 10).filter(condition).forEach(OddEvenBy2Thread::execute);\r\n    }\r\n\r\n    public static void execute(int num){\r\n        synchronized (object){\r\n            try{\r\n                System.out.println(Thread.currentThread().getName()+&quot; : &quot;+num);\r\n                object.notify();\r\n                object.wait();\r\n            }catch (InterruptedException e){\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n\r\n```","title":"Printing Even and Odd using two Threads in Java","body":"<p>We can print odd and even using two separate threads using <code>CompletableFuture</code> as well:</p>\n<pre><code>import java.util.concurrent.CompletableFuture;\nimport java.util.function.IntPredicate;\nimport java.util.stream.IntStream;\n\npublic class OddEvenBy2Thread {\n\n    private static Object object = new Object();\n\n    private static IntPredicate evenCondition = e -&gt; e % 2 == 0;\n    private static IntPredicate oddCondition = e -&gt; e % 2 != 0;\n\n    public static void main(String[] args) throws InterruptedException {\n\n        // Odd number printer\n        CompletableFuture.runAsync(() -&gt; OddEvenBy2Thread.printNumber(oddCondition));\n\n        // Even number printer\n        CompletableFuture.runAsync(() -&gt; OddEvenBy2Thread.printNumber(evenCondition));\n\n        Thread.sleep(1000);\n    }\n\n    public static void printNumber(IntPredicate condition){\n        IntStream.rangeClosed(1, 10).filter(condition).forEach(OddEvenBy2Thread::execute);\n    }\n\n    public static void execute(int num){\n        synchronized (object){\n            try{\n                System.out.println(Thread.currentThread().getName()+&quot; : &quot;+num);\n                object.notify();\n                object.wait();\n            }catch (InterruptedException e){\n                e.printStackTrace();\n            }\n        }\n\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":2556881,"reputation":1451,"user_id":2218653,"accept_rate":31,"display_name":"Suvasis"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175359,"favorite_count":0,"down_vote_count":4,"up_vote_count":27,"accepted_answer_id":16706193,"answer_count":42,"score":23,"last_activity_date":1670170825,"creation_date":1369218581,"question_id":16689449,"body_markdown":"I tried the code below. I took this piece of code from some other post which is correct as per the author. But when I try running, it doesn&#39;t give me the exact result. \r\n\r\nThis is mainly to print even and odd values in sequence.\r\n\r\n    public class PrintEvenOddTester {\r\n    \r\n    \t\r\n    \r\n    \tpublic static void main(String ... args){\r\n    \t    Printer print = new Printer(false);\r\n    \t    Thread t1 = new Thread(new TaskEvenOdd(print));\r\n    \t    Thread t2 = new Thread(new TaskEvenOdd(print));\r\n    \t    t1.start();\r\n    \t    t2.start();\r\n    \t}\r\n    \t\r\n    \t\r\n    }\r\n\r\n\r\n\r\n    class TaskEvenOdd implements Runnable {\r\n    \r\n    \tint number=1;\r\n    \tPrinter print;\r\n    \r\n    \tTaskEvenOdd(Printer print){\r\n    \t    this.print = print;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \r\n    \t\tSystem.out.println(&quot;Run method&quot;);\r\n    \t    while(number&lt;10){\r\n    \t    \t\r\n    \t        if(number%2 == 0){\r\n    \t        \tSystem.out.println(&quot;Number is :&quot;+ number);\r\n    \t            print.printEven(number);\r\n    \t            number+=2;\r\n    \t        }\r\n    \t        else {\r\n    \t        \tSystem.out.println(&quot;Number is :&quot;+ number);\r\n    \t            print.printOdd(number);\r\n    \t            number+=2;\r\n    \t        }\r\n    \t    }\r\n    \r\n    \t  }\r\n    \r\n    \t}\r\n\r\n    class Printer {\r\n    \r\n    \tboolean isOdd;\r\n    \r\n    \tPrinter(boolean isOdd){\r\n    \t    this.isOdd = isOdd;\r\n    \t}\r\n    \r\n    \tsynchronized void printEven(int number) {\r\n    \r\n    \t    while(isOdd){\r\n    \t        try {\r\n    \t            wait();\r\n    \t        } catch (InterruptedException e) {\r\n    \t            e.printStackTrace();\r\n    \t        }\r\n    \t    }\r\n    \t    System.out.println(&quot;Even:&quot;+number);\r\n    \t    isOdd = true;\r\n    \t    notifyAll();\r\n    \t}\r\n    \r\n    \tsynchronized void printOdd(int number) {\r\n    \t    while(!isOdd){\r\n    \t        try {\r\n    \t            wait();\r\n    \t        } catch (InterruptedException e) {\r\n    \t            e.printStackTrace();\r\n    \t        }\r\n    \t    }\r\n    \t    System.out.println(&quot;Odd:&quot;+number);\r\n    \t    isOdd = false;\r\n    \t    notifyAll();\r\n    \t}\r\n    \r\n    }\r\n\r\nCan someone help me in fixing this?\r\n\r\n**EDIT**\r\nExpected result:\r\nOdd:1\r\nEven:2\r\nOdd:3\r\nEven:4\r\nOdd:5\r\nEven:6\r\nOdd:7\r\nEven:8\r\nOdd:9","title":"Printing Even and Odd using two Threads in Java","body":"<p>I tried the code below. I took this piece of code from some other post which is correct as per the author. But when I try running, it doesn't give me the exact result. </p>\n\n<p>This is mainly to print even and odd values in sequence.</p>\n\n<pre><code>public class PrintEvenOddTester {\n\n\n\n    public static void main(String ... args){\n        Printer print = new Printer(false);\n        Thread t1 = new Thread(new TaskEvenOdd(print));\n        Thread t2 = new Thread(new TaskEvenOdd(print));\n        t1.start();\n        t2.start();\n    }\n\n\n}\n\n\n\nclass TaskEvenOdd implements Runnable {\n\n    int number=1;\n    Printer print;\n\n    TaskEvenOdd(Printer print){\n        this.print = print;\n    }\n\n    @Override\n    public void run() {\n\n        System.out.println(\"Run method\");\n        while(number&lt;10){\n\n            if(number%2 == 0){\n                System.out.println(\"Number is :\"+ number);\n                print.printEven(number);\n                number+=2;\n            }\n            else {\n                System.out.println(\"Number is :\"+ number);\n                print.printOdd(number);\n                number+=2;\n            }\n        }\n\n      }\n\n    }\n\nclass Printer {\n\n    boolean isOdd;\n\n    Printer(boolean isOdd){\n        this.isOdd = isOdd;\n    }\n\n    synchronized void printEven(int number) {\n\n        while(isOdd){\n            try {\n                wait();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n        System.out.println(\"Even:\"+number);\n        isOdd = true;\n        notifyAll();\n    }\n\n    synchronized void printOdd(int number) {\n        while(!isOdd){\n            try {\n                wait();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n        System.out.println(\"Odd:\"+number);\n        isOdd = false;\n        notifyAll();\n    }\n\n}\n</code></pre>\n\n<p>Can someone help me in fixing this?</p>\n\n<p><strong>EDIT</strong>\nExpected result:\nOdd:1\nEven:2\nOdd:3\nEven:4\nOdd:5\nEven:6\nOdd:7\nEven:8\nOdd:9</p>\n"},{"tags":["java","maven","guice","owl","ontology"],"comments":[{"owner":{"account_id":6077505,"reputation":8407,"user_id":4744359,"display_name":"UninformedUser"},"score":1,"creation_date":1670146649,"post_id":74672282,"comment_id":131801954,"body_markdown":"is there a reason for importing `guice` in your POM file? I also doubt that the GUICE version is aligned with the OWL API version and latest OWL API version is 5.1.20 which is 5 years newer than 5.1.0. In addition, technically OWL API 5.1.X is still on Java 8, with 5.5.0 (still SNAPSHOT only) it will officially support Java 11. Did you try with an older Java version?","body":"is there a reason for importing <code>guice</code> in your POM file? I also doubt that the GUICE version is aligned with the OWL API version and latest OWL API version is 5.1.20 which is 5 years newer than 5.1.0. In addition, technically OWL API 5.1.X is still on Java 8, with 5.5.0 (still SNAPSHOT only) it will officially support Java 11. Did you try with an older Java version?"},{"owner":{"account_id":6077505,"reputation":8407,"user_id":4744359,"display_name":"UninformedUser"},"score":1,"creation_date":1670147049,"post_id":74672282,"comment_id":131802015,"body_markdown":"I suggest 1) omit guice depdendency 2) update owlapi version to 5.1.20 and if this all doesn&#39;t help to 3) try with Java 11 or something","body":"I suggest 1) omit guice depdendency 2) update owlapi version to 5.1.20 and if this all doesn&#39;t help to 3) try with Java 11 or something"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1670148532,"post_id":74672282,"comment_id":131802271,"body_markdown":"Based on the subject that you are trying to run on JDK19 I strongly recommed to use most recent versions of all dependencies for example: (https://search.maven.org/artifact/net.sourceforge.owlapi/owlapi-distribution)","body":"Based on the subject that you are trying to run on JDK19 I strongly recommed to use most recent versions of all dependencies for example: (<a href=\"https://search.maven.org/artifact/net.sourceforge.owlapi/owlapi-distribution\" rel=\"nofollow noreferrer\">search.maven.org/artifact/net.sourceforge.owlapi/&hellip;</a>)"},{"owner":{"account_id":529247,"reputation":10544,"user_id":1197045,"display_name":"Ignazio"},"score":0,"creation_date":1670170626,"post_id":74672282,"comment_id":131807929,"body_markdown":"Yeah as uninformeduser says, guice version numbers don&#39;t match owlapi and that dependency shouldn&#39;t be there","body":"Yeah as uninformeduser says, guice version numbers don&#39;t match owlapi and that dependency shouldn&#39;t be there"}],"answers":[{"tags":[],"owner":{"account_id":529247,"reputation":10544,"user_id":1197045,"display_name":"Ignazio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670170537,"creation_date":1670170537,"answer_id":74678458,"question_id":74672282,"body_markdown":"Thr guice dependency was removed from the 5.x branch of owlapi a few years ago. Try updating owlapi to 5.1.20 and removing the explicit guice dependency in your pom. This should exclude all guice references. If necessary, exclude it from the jfact dependency as well (I have not tried jfact with any java version past 8 but i would expect it to work, it doesn&#39;t have any features that are known to be incompatible with newer jdks.","title":"How do you get owlapi projects to compile and run on MacOS 12 (which runs Java 19 by default) with Maven?","body":"<p>Thr guice dependency was removed from the 5.x branch of owlapi a few years ago. Try updating owlapi to 5.1.20 and removing the explicit guice dependency in your pom. This should exclude all guice references. If necessary, exclude it from the jfact dependency as well (I have not tried jfact with any java version past 8 but i would expect it to work, it doesn't have any features that are known to be incompatible with newer jdks.</p>\n"}],"owner":{"account_id":12880652,"reputation":59,"user_id":10264746,"display_name":"user10264746"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670170537,"creation_date":1670118340,"question_id":74672282,"body_markdown":"Since upgrading to MacOS 12, when I run owlapi-dependent projects that are compiled with Maven, the Guice library which owlapi depends on, throws several different types of exceptions at start time. What can I do to resolve this?\r\n\r\nFor example:\r\n```\r\nException in thread &quot;main&quot; java.lang.NoSuchMethodError: com.google.inject.internal.BytecodeGen.getClassLoader(Ljava/lang/Class;)Ljava/lang/ClassLoader;\r\n\r\ncom.google.inject.internal.MessageProcessor visit\r\nINFO: An exception was caught and reported. Message: java.lang.NoSuchMethodException: uk.ac.manchester.cs.owl.owlapi.OWLOntologyFactoryImpl.&lt;init&gt;()\r\n\r\ncom.google.inject.CreationException: Unable to create injector, see the following errors:\r\n\r\n1) An exception was caught and reported. Message: Injection failed for interface OWLOntologyFactory\r\n  at [unknown source]\r\n\r\n1 error\r\n\r\n======================\r\nFull classname legend:\r\n======================\r\nOWLOntologyFactory: &quot;org.semanticweb.owlapi.model.OWLOntologyFactory&quot;\r\n========================\r\nEnd of classname legend:\r\n========================\r\n\r\n\tat com.google.inject.internal.Errors.throwCreationExceptionIfErrorsExist(Errors.java:576)\r\n\tat com.google.inject.internal.InternalInjectorCreator.initializeStatically(InternalInjectorCreator.java:163)\r\n\tat com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:110)\r\n\tat com.google.inject.Guice.createInjector(Guice.java:87)\r\n\tat com.google.inject.Guice.createInjector(Guice.java:69)\r\n\tat com.google.inject.Guice.createInjector(Guice.java:59)\r\n\tat org.semanticweb.owlapi.apibinding.OWLManager.&lt;clinit&gt;(OWLManager.java:42)\r\n\t... 2 more\r\n\r\n```\r\n\r\nHere are the dependencies in the pom file I&#39;m using:\r\n\r\n```\r\n&lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sourceforge.owlapi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jfact&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n            &lt;version&gt;7.6.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sourceforge.owlapi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;owlapi-rio&lt;/artifactId&gt;\r\n            &lt;version&gt;5.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.inject&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guice&lt;/artifactId&gt;\r\n            &lt;version&gt;5.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sourceforge.owlapi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;owlapi-distribution&lt;/artifactId&gt;\r\n            &lt;version&gt;5.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.securityvision&lt;/groupId&gt;\r\n            &lt;artifactId&gt;xattrj&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n```\r\n\r\n","title":"How do you get owlapi projects to compile and run on MacOS 12 (which runs Java 19 by default) with Maven?","body":"<p>Since upgrading to MacOS 12, when I run owlapi-dependent projects that are compiled with Maven, the Guice library which owlapi depends on, throws several different types of exceptions at start time. What can I do to resolve this?</p>\n<p>For example:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: com.google.inject.internal.BytecodeGen.getClassLoader(Ljava/lang/Class;)Ljava/lang/ClassLoader;\n\ncom.google.inject.internal.MessageProcessor visit\nINFO: An exception was caught and reported. Message: java.lang.NoSuchMethodException: uk.ac.manchester.cs.owl.owlapi.OWLOntologyFactoryImpl.&lt;init&gt;()\n\ncom.google.inject.CreationException: Unable to create injector, see the following errors:\n\n1) An exception was caught and reported. Message: Injection failed for interface OWLOntologyFactory\n  at [unknown source]\n\n1 error\n\n======================\nFull classname legend:\n======================\nOWLOntologyFactory: &quot;org.semanticweb.owlapi.model.OWLOntologyFactory&quot;\n========================\nEnd of classname legend:\n========================\n\n    at com.google.inject.internal.Errors.throwCreationExceptionIfErrorsExist(Errors.java:576)\n    at com.google.inject.internal.InternalInjectorCreator.initializeStatically(InternalInjectorCreator.java:163)\n    at com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:110)\n    at com.google.inject.Guice.createInjector(Guice.java:87)\n    at com.google.inject.Guice.createInjector(Guice.java:69)\n    at com.google.inject.Guice.createInjector(Guice.java:59)\n    at org.semanticweb.owlapi.apibinding.OWLManager.&lt;clinit&gt;(OWLManager.java:42)\n    ... 2 more\n\n</code></pre>\n<p>Here are the dependencies in the pom file I'm using:</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sourceforge.owlapi&lt;/groupId&gt;\n            &lt;artifactId&gt;jfact&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n            &lt;version&gt;1.7.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;7.6.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sourceforge.owlapi&lt;/groupId&gt;\n            &lt;artifactId&gt;owlapi-rio&lt;/artifactId&gt;\n            &lt;version&gt;5.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.inject&lt;/groupId&gt;\n            &lt;artifactId&gt;guice&lt;/artifactId&gt;\n            &lt;version&gt;5.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sourceforge.owlapi&lt;/groupId&gt;\n            &lt;artifactId&gt;owlapi-distribution&lt;/artifactId&gt;\n            &lt;version&gt;5.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.securityvision&lt;/groupId&gt;\n            &lt;artifactId&gt;xattrj&lt;/artifactId&gt;\n            &lt;version&gt;1.3&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n</code></pre>\n"},{"tags":["java","spring","gradle","pmd"],"answers":[{"tags":[],"owner":{"account_id":3298176,"reputation":7136,"user_id":2774914,"accept_rate":94,"display_name":"diziaq"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670170236,"creation_date":1670170236,"answer_id":74678409,"question_id":74678285,"body_markdown":"The root cause is: field injection is code smell and bad design practice.\r\n\r\nWhen `@Autowired` is used on a non-transient field it can cause issues with serialization. This is because the field will not be properly initialized when the object is deserialized, leading to a `NullPointerException` when the object is used.\r\n\r\nTo fix this issue either make the fields transient or -- much better -- use constructor injection. To use constructor injection add a constructor to your class that takes all of the required dependencies as arguments, and annotate the constructor with @Autowired (the annotation is optional in modern Spring versions).\r\n\r\n    @Component\r\n    class MyClass {\r\n        private final Dependency1 dependency1;\r\n        private final Dependency2 dependency2;\r\n    \r\n        @Autowired\r\n        public MyClass(Dependency1 dependency1, Dependency2 dependency2) {\r\n            this.dependency1 = dependency1;\r\n            this.dependency2 = dependency2;\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"PMD Ignore Spring Field Injections in gradle config","body":"<p>The root cause is: field injection is code smell and bad design practice.</p>\n<p>When <code>@Autowired</code> is used on a non-transient field it can cause issues with serialization. This is because the field will not be properly initialized when the object is deserialized, leading to a <code>NullPointerException</code> when the object is used.</p>\n<p>To fix this issue either make the fields transient or -- much better -- use constructor injection. To use constructor injection add a constructor to your class that takes all of the required dependencies as arguments, and annotate the constructor with @Autowired (the annotation is optional in modern Spring versions).</p>\n<pre><code>@Component\nclass MyClass {\n    private final Dependency1 dependency1;\n    private final Dependency2 dependency2;\n\n    @Autowired\n    public MyClass(Dependency1 dependency1, Dependency2 dependency2) {\n        this.dependency1 = dependency1;\n        this.dependency2 = dependency2;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16303682,"reputation":83,"user_id":14227763,"display_name":"Henry Page"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74678409,"answer_count":1,"score":1,"last_activity_date":1670170236,"creation_date":1670169441,"question_id":74678285,"body_markdown":"Currently I have several Controllers that inject dependencies through a field marked with `@Autowired`. When I try to run `gradle build` the following violations come up.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dOAu1.png\r\n\r\nThese all correspond to the instances of where a spring component has been injected. \r\n\r\nI am aware of the `ignoreAnnotations` property that seems to exist for PMD, however, I am not sure if one can actually specify this in a gradle configuration?\r\n\r\nAny help would be appreciated.","title":"PMD Ignore Spring Field Injections in gradle config","body":"<p>Currently I have several Controllers that inject dependencies through a field marked with <code>@Autowired</code>. When I try to run <code>gradle build</code> the following violations come up.</p>\n<p><a href=\"https://i.stack.imgur.com/dOAu1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dOAu1.png\" alt=\"enter image description here\" /></a></p>\n<p>These all correspond to the instances of where a spring component has been injected.</p>\n<p>I am aware of the <code>ignoreAnnotations</code> property that seems to exist for PMD, however, I am not sure if one can actually specify this in a gradle configuration?</p>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","spring","javabeans","code-injection"],"comments":[{"owner":{"account_id":12804526,"reputation":1368,"user_id":9264713,"display_name":"Bahij.Mik"},"score":0,"creation_date":1670169009,"post_id":74678175,"comment_id":131807526,"body_markdown":"how are you injecting the beans?","body":"how are you injecting the beans?"},{"owner":{"account_id":20648872,"reputation":35,"user_id":15159673,"display_name":"Oleksandr Ovcharenko"},"score":0,"creation_date":1670169362,"post_id":74678175,"comment_id":131807618,"body_markdown":"I tried several variants. Now as you can see I used AllArgsConstructor annotation. But also I tried RequiredArgsConstructor, default constructor without annotations and Autowired annotation under my mapper and repository. No one of this variants didn&#39;t work for me","body":"I tried several variants. Now as you can see I used AllArgsConstructor annotation. But also I tried RequiredArgsConstructor, default constructor without annotations and Autowired annotation under my mapper and repository. No one of this variants didn&#39;t work for me"}],"answers":[{"tags":[],"owner":{"account_id":10673275,"reputation":1351,"user_id":7857701,"display_name":"Snigdhajyoti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670169552,"creation_date":1670169552,"answer_id":74678305,"question_id":74678175,"body_markdown":"You are using `MockitoExtension`, spring won&#39;t create component of OrderMapper.  \r\nIf you need actual implementation. Use `@Spy` annotation of MockitoExtension.\r\n\r\n```java\r\n@ExtendWith(MockitoExtension.class)\r\npublic class OrderServiceTest {\r\n  @Mock\r\n  private OrderRepository orderRepository;\r\n  @Spy\r\n  private OrderMapper orderMapper = new OrderMapper(); // Note: new OrderMapper() is optional as you have No Argument Constructor\r\n  @InjectMocks\r\n  private OrderServiceImpl orderService;\r\n```\r\n\r\n\r\nOr as a practice `@Mock` is always best way to go instead of `@Spy` incase of Unit test.","title":"@Component always null in spring boot","body":"<p>You are using <code>MockitoExtension</code>, spring won't create component of OrderMapper.<br />\nIf you need actual implementation. Use <code>@Spy</code> annotation of MockitoExtension.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(MockitoExtension.class)\npublic class OrderServiceTest {\n  @Mock\n  private OrderRepository orderRepository;\n  @Spy\n  private OrderMapper orderMapper = new OrderMapper(); // Note: new OrderMapper() is optional as you have No Argument Constructor\n  @InjectMocks\n  private OrderServiceImpl orderService;\n</code></pre>\n<p>Or as a practice <code>@Mock</code> is always best way to go instead of <code>@Spy</code> incase of Unit test.</p>\n"}],"owner":{"account_id":20648872,"reputation":35,"user_id":15159673,"display_name":"Oleksandr Ovcharenko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74678305,"answer_count":1,"score":0,"last_activity_date":1670169552,"creation_date":1670168613,"question_id":74678175,"body_markdown":"I have two classes which are annotated as @Component\r\n```\r\n@Component\r\npublic class ClientMapper {\r\n  public Client convert(ClientEntity clientEntity) {\r\n    Client client = new Client();\r\n    BeanUtils.copyProperties(clientEntity, client);\r\n    return client;\r\n  }\r\n\r\n  public ClientEntity convert(Client client) {\r\n    ClientEntity clientEntity = new ClientEntity();\r\n    BeanUtils.copyProperties(client, clientEntity);\r\n    return clientEntity;\r\n  }\r\n}\r\n``` \r\n```\r\n@Component\r\npublic class OrderMapper {\r\n  public Order convert(OrderEntity orderEntity) {\r\n    Order order = new Order();\r\n    BeanUtils.copyProperties(orderEntity, order);\r\n    return order;\r\n  }\r\n\r\n  public OrderEntity convert(Order order) {\r\n    OrderEntity orderEntity = new OrderEntity();\r\n    BeanUtils.copyProperties(order, orderEntity);\r\n    return orderEntity;\r\n  }\r\n}\r\n``` \r\nI injected them into different services \r\n```\r\n@Service\r\n@AllArgsConstructor\r\npublic class ClientServiceImpl implements ClientService {\r\n\r\n  private final ClientMapper clientMapper;\r\n  private final ClientRepository clientRepository;\r\n```\r\n```\r\n@Service\r\n@AllArgsConstructor\r\npublic class OrderServiceImpl implements OrderService {\r\n\r\n  private final OrderMapper orderMapper;\r\n  private final OrderRepository orderRepository;\r\n  private final OrderNumberRepository orderNumberRepository;\r\n```\r\nBut all time my mappers is null. I don&#39;t create new Object of them using new command. Also with my repository interfaces everything is fine, so my way to inject my comments(@AllArgsContrustor) works correct.\r\n[![screen of code where you can see that mapper is null][1]][1] \r\nLittle note, I have tests classes where I used @InjectMocks on my services classes. Can it be that my error occupied because of this annotation?\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\npublic class OrderServiceTest {\r\n  @Mock\r\n  private OrderRepository orderRepository;\r\n  @InjectMocks\r\n  private OrderServiceImpl orderService;\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/B55FK.png","title":"@Component always null in spring boot","body":"<p>I have two classes which are annotated as @Component</p>\n<pre><code>@Component\npublic class ClientMapper {\n  public Client convert(ClientEntity clientEntity) {\n    Client client = new Client();\n    BeanUtils.copyProperties(clientEntity, client);\n    return client;\n  }\n\n  public ClientEntity convert(Client client) {\n    ClientEntity clientEntity = new ClientEntity();\n    BeanUtils.copyProperties(client, clientEntity);\n    return clientEntity;\n  }\n}\n</code></pre>\n<pre><code>@Component\npublic class OrderMapper {\n  public Order convert(OrderEntity orderEntity) {\n    Order order = new Order();\n    BeanUtils.copyProperties(orderEntity, order);\n    return order;\n  }\n\n  public OrderEntity convert(Order order) {\n    OrderEntity orderEntity = new OrderEntity();\n    BeanUtils.copyProperties(order, orderEntity);\n    return orderEntity;\n  }\n}\n</code></pre>\n<p>I injected them into different services</p>\n<pre><code>@Service\n@AllArgsConstructor\npublic class ClientServiceImpl implements ClientService {\n\n  private final ClientMapper clientMapper;\n  private final ClientRepository clientRepository;\n</code></pre>\n<pre><code>@Service\n@AllArgsConstructor\npublic class OrderServiceImpl implements OrderService {\n\n  private final OrderMapper orderMapper;\n  private final OrderRepository orderRepository;\n  private final OrderNumberRepository orderNumberRepository;\n</code></pre>\n<p>But all time my mappers is null. I don't create new Object of them using new command. Also with my repository interfaces everything is fine, so my way to inject my comments(@AllArgsContrustor) works correct.\n<a href=\"https://i.stack.imgur.com/B55FK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B55FK.png\" alt=\"screen of code where you can see that mapper is null\" /></a>\nLittle note, I have tests classes where I used @InjectMocks on my services classes. Can it be that my error occupied because of this annotation?</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class OrderServiceTest {\n  @Mock\n  private OrderRepository orderRepository;\n  @InjectMocks\n  private OrderServiceImpl orderService;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jar"],"comments":[{"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"score":0,"creation_date":1670167874,"post_id":74675251,"comment_id":131807282,"body_markdown":"`kubectl exec -it my-pod -- /bin/bash` into your pod and check if the files are where you expect them to be.","body":"<code>kubectl exec -it my-pod -- &#47;bin&#47;bash</code> into your pod and check if the files are where you expect them to be."},{"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"score":0,"creation_date":1670167937,"post_id":74675251,"comment_id":131807291,"body_markdown":"Also there is a missing quote in `jsonObject.get(&quot;postId) + &quot;/&quot; +` after `postId`.","body":"Also there is a missing quote in <code>jsonObject.get(&quot;postId) + &quot;&#47;&quot; +</code> after <code>postId</code>."}],"answers":[{"tags":[],"owner":{"account_id":4753102,"reputation":3151,"user_id":4886722,"display_name":"Dmitry Khamitov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670169358,"creation_date":1670168585,"answer_id":74678172,"question_id":74675251,"body_markdown":"That `getResourceAsStream` method is only to be used for reading resources (files) from the classpath, which is a rather logical thing. As far as I can see, you want to read the images directly from the file system, outside of your classpath as can be observed from your `ENTRYPOINT`. For that, you can use `FileInputStream`. So, you have to replace the `in` variable with the following code:\r\n```\r\nInputStream in = new FileInputStream(path);\r\n```\r\nBut don&#39;t forget about closing the input stream. You can use the convenient [try-with-resources statement][1] for that purpose. After that, your relevant piece of code will look like this:\r\n```\r\ntry (InputStream in = new FileInputStream(path)) {\r\n\r\n    String encodedString = Base64.getEncoder().encodeToString(IOUtils.toByteArray(in));\r\n\r\n    System.out.print(path);\r\n    //images/post/5/test.png\r\n\r\n    return encodedString;\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html","title":"How to get pictures from mounted volume in java spring boot","body":"<p>That <code>getResourceAsStream</code> method is only to be used for reading resources (files) from the classpath, which is a rather logical thing. As far as I can see, you want to read the images directly from the file system, outside of your classpath as can be observed from your <code>ENTRYPOINT</code>. For that, you can use <code>FileInputStream</code>. So, you have to replace the <code>in</code> variable with the following code:</p>\n<pre><code>InputStream in = new FileInputStream(path);\n</code></pre>\n<p>But don't forget about closing the input stream. You can use the convenient <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources statement</a> for that purpose. After that, your relevant piece of code will look like this:</p>\n<pre><code>try (InputStream in = new FileInputStream(path)) {\n\n    String encodedString = Base64.getEncoder().encodeToString(IOUtils.toByteArray(in));\n\n    System.out.print(path);\n    //images/post/5/test.png\n\n    return encodedString;\n}\n</code></pre>\n"}],"owner":{"account_id":19530084,"reputation":15,"user_id":14290073,"display_name":"mohammed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":605,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74678172,"answer_count":1,"score":0,"last_activity_date":1670169358,"creation_date":1670154268,"question_id":74675251,"body_markdown":"I have a java application in a docker container and saving pictures is working fine but getting them doesnt work I get Error: javax.imageio.IIOException: Can&#39;t read input file!.\r\n\r\nthis is my doker image,\r\n\r\n```\r\nFROM openjdk:17-jdk-alpine\r\nARG JAR_FILE=*.jar\r\nEXPOSE 9000\r\nCOPY  build/libs/wall-0.0.1-SNAPSHOT.jar .\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;wall-0.0.1-SNAPSHOT.jar&quot;]\r\n```\r\n\r\nThe mounting part is being done in the kubernetes cluster configuration:\r\n\r\n\r\n```\r\napiVersion: apps/v1\r\nkind: Deployment\r\nmetadata:\r\n  name: wall-app\r\n  labels:\r\n    app: wall-app\r\nspec:\r\n  replicas: 1\r\n  selector:\r\n    matchLabels:\r\n      app: wall-app\r\n  template:\r\n    metadata:\r\n      labels:\r\n        app: wall-app\r\n    spec:\r\n      containers:\r\n      - name: wall-app\r\n        image: u/wall\r\n        imagePullPolicy: Always\r\n        ports:\r\n        - containerPort: 9010\r\n        resources:\r\n          limits:\r\n            memory: 512Mi\r\n        volumeMounts:\r\n        - name: images-volume\r\n          mountPath: /images\r\n      volumes:\r\n      - name: images-volume\r\n        hostPath:\r\n          path: /home/ubuntu/images-volume\r\n```\r\n\r\nMy java application function to get image:\r\nNot: Im sure that the pic name is corret the probelm is with the input stream\r\n\r\n```\r\n    @PostMapping(value = &quot;/post/image&quot;)\r\n    public @ResponseBody String getImageAsBase64(@RequestBody String json){\r\n\r\n        try {\r\n            JSONObject jsonObject = new JSONObject(json);\r\n            String path = &quot;/images/post/&quot; + jsonObject.get(&quot;postId) + &quot;/&quot; +      jsonObject.get(&quot;pictureName&quot;);\r\n\r\n            InputStream in = getClass()\r\n                    .getResourceAsStream(path);\r\n\r\n            String encodedString = Base64.getEncoder().encodeToString(IOUtils.toByteArray(in));\r\n\r\n           System.out.print(path);\r\n           //images/post/5/test.png\r\n\r\n            return encodedString;\r\n        }catch(Exception e) {\r\n            System.out.println(&quot;picture not found&quot;+e);\r\n        }\r\n\r\n        return null;\r\n    }\r\n```\r\n[![This files inside the container were you can see the mounted volume&quot;images&quot;][1]][1]\r\n\r\nI tried ../ to get one directory above but it did not work\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qREhf.png","title":"How to get pictures from mounted volume in java spring boot","body":"<p>I have a java application in a docker container and saving pictures is working fine but getting them doesnt work I get Error: javax.imageio.IIOException: Can't read input file!.</p>\n<p>this is my doker image,</p>\n<pre><code>FROM openjdk:17-jdk-alpine\nARG JAR_FILE=*.jar\nEXPOSE 9000\nCOPY  build/libs/wall-0.0.1-SNAPSHOT.jar .\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;wall-0.0.1-SNAPSHOT.jar&quot;]\n</code></pre>\n<p>The mounting part is being done in the kubernetes cluster configuration:</p>\n<pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: wall-app\n  labels:\n    app: wall-app\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: wall-app\n  template:\n    metadata:\n      labels:\n        app: wall-app\n    spec:\n      containers:\n      - name: wall-app\n        image: u/wall\n        imagePullPolicy: Always\n        ports:\n        - containerPort: 9010\n        resources:\n          limits:\n            memory: 512Mi\n        volumeMounts:\n        - name: images-volume\n          mountPath: /images\n      volumes:\n      - name: images-volume\n        hostPath:\n          path: /home/ubuntu/images-volume\n</code></pre>\n<p>My java application function to get image:\nNot: Im sure that the pic name is corret the probelm is with the input stream</p>\n<pre><code>    @PostMapping(value = &quot;/post/image&quot;)\n    public @ResponseBody String getImageAsBase64(@RequestBody String json){\n\n        try {\n            JSONObject jsonObject = new JSONObject(json);\n            String path = &quot;/images/post/&quot; + jsonObject.get(&quot;postId) + &quot;/&quot; +      jsonObject.get(&quot;pictureName&quot;);\n\n            InputStream in = getClass()\n                    .getResourceAsStream(path);\n\n            String encodedString = Base64.getEncoder().encodeToString(IOUtils.toByteArray(in));\n\n           System.out.print(path);\n           //images/post/5/test.png\n\n            return encodedString;\n        }catch(Exception e) {\n            System.out.println(&quot;picture not found&quot;+e);\n        }\n\n        return null;\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/qREhf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qREhf.png\" alt=\"This files inside the container were you can see the mounted volume&quot;images&quot;\" /></a></p>\n<p>I tried ../ to get one directory above but it did not work</p>\n"},{"tags":["java","class","reference","wrapper","primitive"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1649189963,"post_id":71757902,"comment_id":126812136,"body_markdown":"Because in Java a `char` is not an object, so you cannot call methods on it.","body":"Because in Java a <code>char</code> is not an object, so you cannot call methods on it."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1649190344,"post_id":71757902,"comment_id":126812244,"body_markdown":"That&#39;s something only the designers of Java can answer.  There&#39;s something called &quot;autoboxing&quot;, which came in in Java 5.  It means that there are circumstances where you can use a primitive value as if it were an object, and it gets converted automatically to an object.  Only the designers of Java can say why they didn&#39;t extend autoboxing to the case where you place a dot after a primitive value.","body":"That&#39;s something only the designers of Java can answer.  There&#39;s something called &quot;autoboxing&quot;, which came in in Java 5.  It means that there are circumstances where you can use a primitive value as if it were an object, and it gets converted automatically to an object.  Only the designers of Java can say why they didn&#39;t extend autoboxing to the case where you place a dot after a primitive value."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1670168345,"creation_date":1649190189,"answer_id":71757971,"question_id":71757902,"body_markdown":"# tl;dr\r\n\r\n**`char` type is a primitive**, and primitives do not have methods.\r\n\r\nFurthermore, **`char` is obsolete**. Use [**code point**][1] integer numbers instead when working with individual characters. \r\n\r\n    Character.toString(\r\n        Character.toLowerCase(    // Takes a code point integer number.\r\n            &quot;A&quot;.codePointAt( 0 )  // Annoying zero-based index numbering.\r\n        )                         // Returns another code point integer number.\r\n    )                             // Returns a `String` containing a single character.\r\n\r\n&gt;a\r\n\r\n\r\n# Primitive versus Object\r\n\r\nYou said:\r\n\r\n&gt; I find this very confusing \r\n\r\nYou need to learn the difference between the dual [type systems][2] in Java: \r\n\r\n - primitive\r\n - object\r\n\r\nYou said:\r\n\r\n&gt; where I can find more information\r\n\r\nSee the Java Tutorial provided by Oracle free of cost. See [*Primitive Data Types*](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html) and [*What is an Object?*](https://docs.oracle.com/javase/tutorial/java/concepts/object.html).\r\n\r\nAnd [search Stack Overflow][3] for &quot;java primitive&quot;.\r\n\r\n## Only objects have methods\r\n\r\nThe `char` type is a primitive. So it has no methods. Only objects have methods.\r\n\r\nThe [`Character`][4] class provides a `static` method [`toLowerCase`][5] which takes a `char` primitive value as its argument.\r\n\r\nYou asked:\r\n\r\n&gt; why it&#39;s necessary\r\n\r\nPrimitives are not [object-oriented][6]. Primitives were originally included in Java to make porting of [C][7] code easier, an ability considered quite important back in those days. \r\n\r\n# `char` is obsolete\r\n\r\nYou should know that the `char` type has been obsolete since Java 2, and legacy since Java 5. As a 16-bit value, `char` is physically incapable of representing most characters  essentially broken.\r\n\r\n## Code point\r\n\r\nInstead, use [code point][1] integer numbers. \r\n\r\nThe code point for LATIN CAPITAL LETTER A is 65 decimal, 41 [hexadecimal][8].\r\n\r\nGet the code point of a character. \r\n\r\n    int codePoint = &quot;A&quot;.codePointAt( 0 ) ;\r\n\r\nGet a `String` containing the character for a code point.\r\n\r\n    String s = Character.toString( codePoint ) ;\r\n\r\nTo get lowercase version of a character being represented by its code point.\r\n\r\n    int lowerCaseCodePoint = Character.toLowerCase( codePoint ) ;\r\n    String lowerCaseLetter = Character.toString( lowerCaseCodePoint ) ;\r\n\r\nDump to console.\r\n\r\n```java\r\nSystem.out.println( &quot;codePoint: &quot; + codePoint ) ;\r\nSystem.out.println( &quot;s: &quot; + s ) ;\r\nSystem.out.println( &quot;lowerCaseCodePoint: &quot; + lowerCaseCodePoint ) ;\r\nSystem.out.println( &quot;lowerCaseLetter: &quot; + lowerCaseLetter ) ;\r\n```\r\n\r\nSee this [code run live at IdeOne.com][9].\r\n\r\n```none\r\ncodePoint: 65\r\ns: A\r\nlowerCaseCodePoint: 97\r\nlowerCaseLetter: a\r\n```\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Code_point\r\n  [2]: https://en.m.wikipedia.org/wiki/Type_system\r\n  [3]: https://duckduckgo.com/?q=site%3Astackoverflow.com%20java%20primitive&amp;t=osx&amp;ia=web\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Character.html\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Character.html#toLowerCase(char)\r\n  [6]: https://en.wikipedia.org/wiki/Object-oriented_programming\r\n  [7]: https://en.wikipedia.org/wiki/C_(programming_language)\r\n  [8]: https://en.wikipedia.org/wiki/Hexadecimal\r\n  [9]: https://ideone.com/lkE3BA","title":"Why can&#39;t I do char c = &#39;A&#39;; c.toLowerCase() and instead have to do Character.toLowerCase(c);","body":"<h1>tl;dr</h1>\n<p><strong><code>char</code> type is a primitive</strong>, and primitives do not have methods.</p>\n<p>Furthermore, <strong><code>char</code> is obsolete</strong>. Use <a href=\"https://en.wikipedia.org/wiki/Code_point\" rel=\"nofollow noreferrer\"><strong>code point</strong></a> integer numbers instead when working with individual characters.</p>\n<pre><code>Character.toString(\n    Character.toLowerCase(    // Takes a code point integer number.\n        &quot;A&quot;.codePointAt( 0 )  // Annoying zero-based index numbering.\n    )                         // Returns another code point integer number.\n)                             // Returns a `String` containing a single character.\n</code></pre>\n<blockquote>\n<p>a</p>\n</blockquote>\n<h1>Primitive versus Object</h1>\n<p>You said:</p>\n<blockquote>\n<p>I find this very confusing</p>\n</blockquote>\n<p>You need to learn the difference between the dual <a href=\"https://en.m.wikipedia.org/wiki/Type_system\" rel=\"nofollow noreferrer\">type systems</a> in Java:</p>\n<ul>\n<li>primitive</li>\n<li>object</li>\n</ul>\n<p>You said:</p>\n<blockquote>\n<p>where I can find more information</p>\n</blockquote>\n<p>See the Java Tutorial provided by Oracle free of cost. See <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\"><em>Primitive Data Types</em></a> and <a href=\"https://docs.oracle.com/javase/tutorial/java/concepts/object.html\" rel=\"nofollow noreferrer\"><em>What is an Object?</em></a>.</p>\n<p>And <a href=\"https://duckduckgo.com/?q=site%3Astackoverflow.com%20java%20primitive&amp;t=osx&amp;ia=web\" rel=\"nofollow noreferrer\">search Stack Overflow</a> for &quot;java primitive&quot;.</p>\n<h2>Only objects have methods</h2>\n<p>The <code>char</code> type is a primitive. So it has no methods. Only objects have methods.</p>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Character.html\" rel=\"nofollow noreferrer\"><code>Character</code></a> class provides a <code>static</code> method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Character.html#toLowerCase(char)\" rel=\"nofollow noreferrer\"><code>toLowerCase</code></a> which takes a <code>char</code> primitive value as its argument.</p>\n<p>You asked:</p>\n<blockquote>\n<p>why it's necessary</p>\n</blockquote>\n<p>Primitives are not <a href=\"https://en.wikipedia.org/wiki/Object-oriented_programming\" rel=\"nofollow noreferrer\">object-oriented</a>. Primitives were originally included in Java to make porting of <a href=\"https://en.wikipedia.org/wiki/C_(programming_language)\" rel=\"nofollow noreferrer\">C</a> code easier, an ability considered quite important back in those days.</p>\n<h1><code>char</code> is obsolete</h1>\n<p>You should know that the <code>char</code> type has been obsolete since Java 2, and legacy since Java 5. As a 16-bit value, <code>char</code> is physically incapable of representing most characters  essentially broken.</p>\n<h2>Code point</h2>\n<p>Instead, use <a href=\"https://en.wikipedia.org/wiki/Code_point\" rel=\"nofollow noreferrer\">code point</a> integer numbers.</p>\n<p>The code point for LATIN CAPITAL LETTER A is 65 decimal, 41 <a href=\"https://en.wikipedia.org/wiki/Hexadecimal\" rel=\"nofollow noreferrer\">hexadecimal</a>.</p>\n<p>Get the code point of a character.</p>\n<pre><code>int codePoint = &quot;A&quot;.codePointAt( 0 ) ;\n</code></pre>\n<p>Get a <code>String</code> containing the character for a code point.</p>\n<pre><code>String s = Character.toString( codePoint ) ;\n</code></pre>\n<p>To get lowercase version of a character being represented by its code point.</p>\n<pre><code>int lowerCaseCodePoint = Character.toLowerCase( codePoint ) ;\nString lowerCaseLetter = Character.toString( lowerCaseCodePoint ) ;\n</code></pre>\n<p>Dump to console.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println( &quot;codePoint: &quot; + codePoint ) ;\nSystem.out.println( &quot;s: &quot; + s ) ;\nSystem.out.println( &quot;lowerCaseCodePoint: &quot; + lowerCaseCodePoint ) ;\nSystem.out.println( &quot;lowerCaseLetter: &quot; + lowerCaseLetter ) ;\n</code></pre>\n<p>See this <a href=\"https://ideone.com/lkE3BA\" rel=\"nofollow noreferrer\">code run live at IdeOne.com</a>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>codePoint: 65\ns: A\nlowerCaseCodePoint: 97\nlowerCaseLetter: a\n</code></pre>\n"}],"owner":{"account_id":7262620,"reputation":301,"user_id":5538685,"display_name":"ZaneK"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":462,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71757971,"answer_count":1,"score":0,"last_activity_date":1670168345,"creation_date":1649189843,"question_id":71757902,"body_markdown":"Why is it only done like\r\n\r\n```\r\nchar c = &#39;A&#39;;\r\nCharacter.toLowerCase(c);\r\n```\r\n\r\nand not..\r\n```\r\nchar c = &#39;A&#39;;\r\nc.toLowerCase();\r\n```\r\n\r\nI find this very confusing and don&#39;t know where I can find more information about why this happens or why it&#39;s necessary.","title":"Why can&#39;t I do char c = &#39;A&#39;; c.toLowerCase() and instead have to do Character.toLowerCase(c);","body":"<p>Why is it only done like</p>\n<pre><code>char c = 'A';\nCharacter.toLowerCase(c);\n</code></pre>\n<p>and not..</p>\n<pre><code>char c = 'A';\nc.toLowerCase();\n</code></pre>\n<p>I find this very confusing and don't know where I can find more information about why this happens or why it's necessary.</p>\n"},{"tags":["java","gradle","testing","javafx","junit5"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1670207480,"post_id":74675809,"comment_id":131815005,"body_markdown":"Have you &quot;run with `--stacktrace`&quot; to potentially get a more detailed error message?","body":"Have you &quot;run with <code>--stacktrace</code>&quot; to potentially get a more detailed error message?"},{"owner":{"account_id":5182587,"reputation":8980,"user_id":4147849,"accept_rate":50,"display_name":"Muntashir Akon"},"score":0,"creation_date":1670441157,"post_id":74675809,"comment_id":131879540,"body_markdown":"Same happened to me after updating IntelliJ IDEA to 2022.3. Working again after downgrading to 2022.2.","body":"Same happened to me after updating IntelliJ IDEA to 2022.3. Working again after downgrading to 2022.2."}],"owner":{"account_id":24126389,"reputation":21,"user_id":18094648,"display_name":"C&#233;sar Guimar&#227;es"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670167991,"creation_date":1670158486,"question_id":74675809,"body_markdown":"I&#39;m trying to do some unity tests in JavaFX application builded in Gradle.\r\nI created a path called test in ../src/.\r\nSo in src I have the main package and the test package (**src/main** and **src/test**).\r\n\r\nWhen I&#39;m trying to run the test it shows this error message:\r\n\r\nExecution failed for task &#39;:test&#39;.\r\n&gt; Process &#39;Gradle Test Executor 1&#39; finished with non-zero exit value 1\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n[![Error message][1]][1]\r\n\r\nI search in Stack Overflow the same error says that it&#39;s in the wrong path and what I see it isn&#39;t. Others say that is the pom.xml file without the correct dependence, but I have like 20 pom.xml files in Gradle package. Others say to downgrade the version of JUNIT5.\r\n\r\nWhat should I do?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2XX3d.png","title":"JavaFX Test Error: Process &#39;Gradle Test Executor (number)&#39; finished with non-zero exit value 1","body":"<p>I'm trying to do some unity tests in JavaFX application builded in Gradle.\nI created a path called test in ../src/.\nSo in src I have the main package and the test package (<strong>src/main</strong> and <strong>src/test</strong>).</p>\n<p>When I'm trying to run the test it shows this error message:</p>\n<p>Execution failed for task ':test'.</p>\n<blockquote>\n<p>Process 'Gradle Test Executor 1' finished with non-zero exit value 1</p>\n</blockquote>\n<ul>\n<li>Try:</li>\n</ul>\n<blockquote>\n<p>Run with --stacktrace option to get the stack trace.\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/2XX3d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2XX3d.png\" alt=\"Error message\" /></a></p>\n<p>I search in Stack Overflow the same error says that it's in the wrong path and what I see it isn't. Others say that is the pom.xml file without the correct dependence, but I have like 20 pom.xml files in Gradle package. Others say to downgrade the version of JUNIT5.</p>\n<p>What should I do?</p>\n"},{"tags":["java","image","background","set"],"answers":[{"tags":[],"owner":{"account_id":9320,"reputation":159784,"user_id":17172,"display_name":"coobird"},"down_vote_count":1,"up_vote_count":32,"is_accepted":true,"score":31,"last_activity_date":1234015739,"creation_date":1234015739,"answer_id":523818,"question_id":523767,"body_markdown":"The answer will vary slightly depending on whether the application or applet is using [AWT][1] or [Swing][2].\r\n\r\nBasically, classes that start with `J` such as `JApplet` and `JFrame` are Swing, and `Applet` and `Frame` are AWT.)\r\n\r\nIn either case, the basic steps would be:\r\n\r\n 1. Draw or load an image into a `Image` object.\r\n 2. Draw the background image in the painting event of the `Component` you want to draw the background in.\r\n\r\n**Step 1.** Loading the image can be either by using the [`Toolkit`][3] class or by the [`ImageIO`][4] class.\r\n\r\nThe [`Toolkit.createImage`][5] method can be used to load an `Image` from a location specified in a `String`:\r\n\r\n    Image img = Toolkit.getDefaultToolkit().createImage(&quot;background.jpg&quot;);\r\n\r\nSimilarly, `ImageIO` can be used:\r\n\r\n    Image img = ImageIO.read(new File(&quot;background.jpg&quot;);\r\n\r\n**Step 2.** The painting method for the `Component` that should get the background will need to be overridden and paint the `Image` onto the component.\r\n\r\nFor AWT, the method to override is the [`paint`][6] method, and use the [`drawImage`][7] method of the [`Graphics`][8] object that is handed into the `paint` method:\r\n\r\n    public void paint(Graphics g)\r\n    {\r\n        // Draw the previously loaded image to Component.\r\n        g.drawImage(img, 0, 0, null);\r\n    \r\n        // Draw sprites, and other things.\r\n        // ....\r\n    }\r\n\r\nFor Swing, the method to override is the [`paintComponent`][9] method of the [`JComponent`][10], and draw the `Image` as with what was done in AWT.\r\n\r\n    public void paintComponent(Graphics g)\r\n    {\r\n    // Draw the previously loaded image to Component.\r\n    g.drawImage(img, 0, 0, null);\r\n    \r\n    // Draw sprites, and other things.\r\n    // ....\r\n    }\r\n\r\n**Simple Component Example**\r\n\r\nHere&#39;s a `Panel` which loads an image file when instantiated, and draws that image on itself:\r\n\r\n    class BackgroundPanel extends Panel\r\n    {\r\n        // The Image to store the background image in.\r\n        Image img;\r\n        public BackgroundPanel()\r\n        {\r\n            // Loads the background image and stores in img object.\r\n            img = Toolkit.getDefaultToolkit().createImage(&quot;background.jpg&quot;);\r\n        }\r\n    \r\n        public void paint(Graphics g)\r\n        {\r\n            // Draws the img to the BackgroundPanel.\r\n            g.drawImage(img, 0, 0, null);\r\n        }\r\n    }\r\n\r\nFor more information on painting:\r\n\r\n- [Painting in AWT and Swing][11]\r\n- [Lesson: Performing Custom Painting][12] from [The Java Tutorials][13] may be of help.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/technotes/guides/awt/\r\n  [2]: http://java.sun.com/docs/books/tutorial/uiswing/index.html\r\n  [3]: http://java.sun.com/javase/6/docs/api/java/awt/Toolkit.html\r\n  [4]: http://java.sun.com/javase/6/docs/api/javax/imageio/ImageIO.html\r\n  [5]: http://java.sun.com/javase/6/docs/api/java/awt/Toolkit.html#createImage(java.lang.String)\r\n  [6]: http://java.sun.com/javase/6/docs/api/java/awt/Component.html#paint(java.awt.Graphics)\r\n  [7]: http://java.sun.com/javase/6/docs/api/java/awt/Graphics.html#drawImage(java.awt.Image,%20int,%20int,%20java.awt.image.ImageObserver)\r\n  [8]: http://java.sun.com/javase/6/docs/api/java/awt/Graphics.html\r\n  [9]: http://java.sun.com/javase/6/docs/api/javax/swing/JComponent.html#paintComponent(java.awt.Graphics)\r\n  [10]: http://java.sun.com/javase/6/docs/api/javax/swing/JComponent.html\r\n  [11]: http://java.sun.com/products/jfc/tsc/articles/painting/\r\n  [12]: http://java.sun.com/docs/books/tutorial/uiswing/painting/\r\n  [13]: http://java.sun.com/docs/books/tutorial/index.html\r\n","title":"How to set background image in Java?","body":"<p>The answer will vary slightly depending on whether the application or applet is using <a href=\"http://java.sun.com/javase/6/docs/technotes/guides/awt/\" rel=\"noreferrer\">AWT</a> or <a href=\"http://java.sun.com/docs/books/tutorial/uiswing/index.html\" rel=\"noreferrer\">Swing</a>.</p>\n\n<p>Basically, classes that start with <code>J</code> such as <code>JApplet</code> and <code>JFrame</code> are Swing, and <code>Applet</code> and <code>Frame</code> are AWT.)</p>\n\n<p>In either case, the basic steps would be:</p>\n\n<ol>\n<li>Draw or load an image into a <code>Image</code> object.</li>\n<li>Draw the background image in the painting event of the <code>Component</code> you want to draw the background in.</li>\n</ol>\n\n<p><strong>Step 1.</strong> Loading the image can be either by using the <a href=\"http://java.sun.com/javase/6/docs/api/java/awt/Toolkit.html\" rel=\"noreferrer\"><code>Toolkit</code></a> class or by the <a href=\"http://java.sun.com/javase/6/docs/api/javax/imageio/ImageIO.html\" rel=\"noreferrer\"><code>ImageIO</code></a> class.</p>\n\n<p>The <a href=\"http://java.sun.com/javase/6/docs/api/java/awt/Toolkit.html#createImage(java.lang.String)\" rel=\"noreferrer\"><code>Toolkit.createImage</code></a> method can be used to load an <code>Image</code> from a location specified in a <code>String</code>:</p>\n\n<pre><code>Image img = Toolkit.getDefaultToolkit().createImage(\"background.jpg\");\n</code></pre>\n\n<p>Similarly, <code>ImageIO</code> can be used:</p>\n\n<pre><code>Image img = ImageIO.read(new File(\"background.jpg\");\n</code></pre>\n\n<p><strong>Step 2.</strong> The painting method for the <code>Component</code> that should get the background will need to be overridden and paint the <code>Image</code> onto the component.</p>\n\n<p>For AWT, the method to override is the <a href=\"http://java.sun.com/javase/6/docs/api/java/awt/Component.html#paint(java.awt.Graphics)\" rel=\"noreferrer\"><code>paint</code></a> method, and use the <a href=\"http://java.sun.com/javase/6/docs/api/java/awt/Graphics.html#drawImage(java.awt.Image,%20int,%20int,%20java.awt.image.ImageObserver)\" rel=\"noreferrer\"><code>drawImage</code></a> method of the <a href=\"http://java.sun.com/javase/6/docs/api/java/awt/Graphics.html\" rel=\"noreferrer\"><code>Graphics</code></a> object that is handed into the <code>paint</code> method:</p>\n\n<pre><code>public void paint(Graphics g)\n{\n    // Draw the previously loaded image to Component.\n    g.drawImage(img, 0, 0, null);\n\n    // Draw sprites, and other things.\n    // ....\n}\n</code></pre>\n\n<p>For Swing, the method to override is the <a href=\"http://java.sun.com/javase/6/docs/api/javax/swing/JComponent.html#paintComponent(java.awt.Graphics)\" rel=\"noreferrer\"><code>paintComponent</code></a> method of the <a href=\"http://java.sun.com/javase/6/docs/api/javax/swing/JComponent.html\" rel=\"noreferrer\"><code>JComponent</code></a>, and draw the <code>Image</code> as with what was done in AWT.</p>\n\n<pre><code>public void paintComponent(Graphics g)\n{\n// Draw the previously loaded image to Component.\ng.drawImage(img, 0, 0, null);\n\n// Draw sprites, and other things.\n// ....\n}\n</code></pre>\n\n<p><strong>Simple Component Example</strong></p>\n\n<p>Here's a <code>Panel</code> which loads an image file when instantiated, and draws that image on itself:</p>\n\n<pre><code>class BackgroundPanel extends Panel\n{\n    // The Image to store the background image in.\n    Image img;\n    public BackgroundPanel()\n    {\n        // Loads the background image and stores in img object.\n        img = Toolkit.getDefaultToolkit().createImage(\"background.jpg\");\n    }\n\n    public void paint(Graphics g)\n    {\n        // Draws the img to the BackgroundPanel.\n        g.drawImage(img, 0, 0, null);\n    }\n}\n</code></pre>\n\n<p>For more information on painting:</p>\n\n<ul>\n<li><a href=\"http://java.sun.com/products/jfc/tsc/articles/painting/\" rel=\"noreferrer\">Painting in AWT and Swing</a></li>\n<li><a href=\"http://java.sun.com/docs/books/tutorial/uiswing/painting/\" rel=\"noreferrer\">Lesson: Performing Custom Painting</a> from <a href=\"http://java.sun.com/docs/books/tutorial/index.html\" rel=\"noreferrer\">The Java Tutorials</a> may be of help.</li>\n</ul>\n"},{"tags":[],"owner":{"display_name":"ajjjjjjjjjjjjjjjjjjjjjjjj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1321541835,"creation_date":1236109814,"answer_id":607855,"question_id":523767,"body_markdown":"Firstly create a new class that extends the `WorldView` class. I called my new class `Background`. So in this new class import all the Java packages you will need in order to override the `paintBackground` method. This should be:\r\n\r\n    import city.soi.platform.*;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.Image;\r\n    import java.awt.image.ImageObserver;\r\n    import javax.swing.ImageIcon;\r\n    import java.awt.geom.AffineTransform;\r\n\r\nNext after the class name make sure that it says extends `WorldView`. Something like this:\r\n\r\n    public class Background extends WorldView\r\n\r\nThen declare the variables game of type `Game` and an image variable of type `Image` something like this:\r\n\r\n    private Game game;\r\n    private Image image;\r\n\r\nThen in the constructor of this class make sure the game of type `Game` is in the signature of the constructor and that in the call to `super` you will have to initialise the `WorldView`, initialise the game and initialise the image variables, something like this:\r\n\r\n    super(game.getCurrentLevel().getWorld(), game.getWidth(), game.getHeight());\r\n    this.game = game;\r\n    bg = (new ImageIcon(&quot;lol.png&quot;)).getImage();\r\n\r\nThen you just override the `paintBackground` method in exactly the same way as you did when overriding the `paint` method in the `Player` class. Just like this:\r\n\r\n    public void paintBackground(Graphics2D g)\r\n    {\r\n    float x = getX();\r\n    float y = getY();\r\n    AffineTransform transform = AffineTransform.getTranslateInstance(x,y);\r\n    g.drawImage(bg, transform, game.getView());\r\n    }\r\n\r\nNow finally you have to declare a class level reference to the new class you just made in the `Game` class and initialise this in the `Game` constructor, something like this:\r\n\r\n    private Background image;\r\n    \r\n    And in the Game constructor:\r\n    image = new Background(this);\r\n\r\nLastly all you have to do is add the background to the frame! That&#39;s the thing I&#39;m sure we were all missing. To do that you have to do something like this after the variable `frame` has been declared:\r\n\r\n    frame.add(image);\r\n\r\nMake sure you add this code just before `frame.pack();`.\r\nAlso make sure you use a background image that isn&#39;t too big!\r\n\r\nNow that&#39;s it! Ive noticed that the game engines can handle JPEG and PNG image formats but could also support others. Even though this helps include a background image in your game, it is not perfect! Because once you go to the next level all your platforms and sprites are invisible and all you can see is your background image and any JLabels/Jbuttons you have included in the game.","title":"How to set background image in Java?","body":"<p>Firstly create a new class that extends the <code>WorldView</code> class. I called my new class <code>Background</code>. So in this new class import all the Java packages you will need in order to override the <code>paintBackground</code> method. This should be:</p>\n\n<pre><code>import city.soi.platform.*;\nimport java.awt.Graphics2D;\nimport java.awt.Image;\nimport java.awt.image.ImageObserver;\nimport javax.swing.ImageIcon;\nimport java.awt.geom.AffineTransform;\n</code></pre>\n\n<p>Next after the class name make sure that it says extends <code>WorldView</code>. Something like this:</p>\n\n<pre><code>public class Background extends WorldView\n</code></pre>\n\n<p>Then declare the variables game of type <code>Game</code> and an image variable of type <code>Image</code> something like this:</p>\n\n<pre><code>private Game game;\nprivate Image image;\n</code></pre>\n\n<p>Then in the constructor of this class make sure the game of type <code>Game</code> is in the signature of the constructor and that in the call to <code>super</code> you will have to initialise the <code>WorldView</code>, initialise the game and initialise the image variables, something like this:</p>\n\n<pre><code>super(game.getCurrentLevel().getWorld(), game.getWidth(), game.getHeight());\nthis.game = game;\nbg = (new ImageIcon(\"lol.png\")).getImage();\n</code></pre>\n\n<p>Then you just override the <code>paintBackground</code> method in exactly the same way as you did when overriding the <code>paint</code> method in the <code>Player</code> class. Just like this:</p>\n\n<pre><code>public void paintBackground(Graphics2D g)\n{\nfloat x = getX();\nfloat y = getY();\nAffineTransform transform = AffineTransform.getTranslateInstance(x,y);\ng.drawImage(bg, transform, game.getView());\n}\n</code></pre>\n\n<p>Now finally you have to declare a class level reference to the new class you just made in the <code>Game</code> class and initialise this in the <code>Game</code> constructor, something like this:</p>\n\n<pre><code>private Background image;\n\nAnd in the Game constructor:\nimage = new Background(this);\n</code></pre>\n\n<p>Lastly all you have to do is add the background to the frame! That's the thing I'm sure we were all missing. To do that you have to do something like this after the variable <code>frame</code> has been declared:</p>\n\n<pre><code>frame.add(image);\n</code></pre>\n\n<p>Make sure you add this code just before <code>frame.pack();</code>.\nAlso make sure you use a background image that isn't too big!</p>\n\n<p>Now that's it! Ive noticed that the game engines can handle JPEG and PNG image formats but could also support others. Even though this helps include a background image in your game, it is not perfect! Because once you go to the next level all your platforms and sprites are invisible and all you can see is your background image and any JLabels/Jbuttons you have included in the game.</p>\n"},{"tags":[],"owner":{"account_id":1380893,"reputation":1,"user_id":1313918,"display_name":"JavaIsCool"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1333577969,"creation_date":1333575188,"answer_id":10019574,"question_id":523767,"body_markdown":"Or try this ;)\r\n\r\n    try {\r\n      this.setContentPane(\r\n        new JLabel(new ImageIcon(ImageIO.read(new File(&quot;your_file.jpeg&quot;)))));\r\n    } catch (IOException e) {};","title":"How to set background image in Java?","body":"<p>Or try this ;)</p>\n\n<pre><code>try {\n  this.setContentPane(\n    new JLabel(new ImageIcon(ImageIO.read(new File(\"your_file.jpeg\")))));\n} catch (IOException e) {};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1202123,"reputation":1,"user_id":1172553,"display_name":"Ben Whithead"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1335405374,"creation_date":1335405374,"answer_id":10326251,"question_id":523767,"body_markdown":"The Path is the only thing you really have to worry about if you are really new to Java. \r\nYou need to drag your image into the main project file, and it will show up at the very bottom of the list. \r\n\r\nThen the file path is pretty straight forward. This code goes into the constructor for the class.\r\n\r\n        img = Toolkit.getDefaultToolkit().createImage(&quot;/home/ben/workspace/CS2/Background.jpg&quot;);\r\n\r\nCS2 is the name of my project, and everything before that is leading to the workspace. ","title":"How to set background image in Java?","body":"<p>The Path is the only thing you really have to worry about if you are really new to Java. \nYou need to drag your image into the main project file, and it will show up at the very bottom of the list. </p>\n\n<p>Then the file path is pretty straight forward. This code goes into the constructor for the class.</p>\n\n<pre><code>    img = Toolkit.getDefaultToolkit().createImage(\"/home/ben/workspace/CS2/Background.jpg\");\n</code></pre>\n\n<p>CS2 is the name of my project, and everything before that is leading to the workspace. </p>\n"},{"tags":[],"owner":{"account_id":15651435,"reputation":1,"user_id":11292747,"display_name":"Joe McComas"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1670167852,"creation_date":1554128488,"answer_id":55457394,"question_id":523767,"body_markdown":"```js\r\n&lt;script&gt;\r\n    function SetBack(dir) {\r\n\t    document.getElementById(&#39;body&#39;).style.backgroundImage=dir;\r\n    }\r\n    SetBack(&#39;url(myniftybg.gif)&#39;);\r\n    &lt;/script&gt;\r\n\r\n```\r\n","title":"How to set background image in Java?","body":"<pre class=\"lang-js prettyprint-override\"><code>&lt;script&gt;\n    function SetBack(dir) {\n        document.getElementById('body').style.backgroundImage=dir;\n    }\n    SetBack('url(myniftybg.gif)');\n    &lt;/script&gt;\n\n</code></pre>\n"}],"owner":{"account_id":24913,"reputation":245,"user_id":63666,"display_name":"Dew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":334064,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":523818,"answer_count":5,"score":22,"last_activity_date":1670167852,"creation_date":1234013444,"question_id":523767,"body_markdown":"I am developing a simple platform game using Java using BlueJ as the IDE. Right now I have player/enemy sprites, platforms and other items in the game drawn using polygons and simple shapes. Eventually I hope to replace them with actual images.\r\n\r\nFor now I would like to know what is the simplest solution to setting an image (either URL or from local source) as the &#39;background&#39; of my game window/canvas?\r\n\r\nI would appreciate it if it isn&#39;t something long or complex as my programming skills aren&#39;t very good and I want to keep my program as simple as possible. Kindly provide example codes with comments to elaborate on their function, and also if it&#39;s in its own class, how to call on relevant methods used by it on other classes.\r\n\r\nThank you very much.\r\n\r\n","title":"How to set background image in Java?","body":"<p>I am developing a simple platform game using Java using BlueJ as the IDE. Right now I have player/enemy sprites, platforms and other items in the game drawn using polygons and simple shapes. Eventually I hope to replace them with actual images.</p>\n\n<p>For now I would like to know what is the simplest solution to setting an image (either URL or from local source) as the 'background' of my game window/canvas?</p>\n\n<p>I would appreciate it if it isn't something long or complex as my programming skills aren't very good and I want to keep my program as simple as possible. Kindly provide example codes with comments to elaborate on their function, and also if it's in its own class, how to call on relevant methods used by it on other classes.</p>\n\n<p>Thank you very much.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9158,"page":834,"page_size":100}
